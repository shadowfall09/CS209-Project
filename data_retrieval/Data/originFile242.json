{"items":[{"tags":["java","csv","apache-camel","numberformatexception","bindy"],"answers":[{"tags":[],"owner":{"account_id":7484981,"reputation":166,"user_id":5688552,"display_name":"Loginus"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692278005,"creation_date":1692278005,"answer_id":76921871,"question_id":76912353,"body_markdown":"There can be various options like:\r\n\r\n - Implement [custom data format][1] that wraps Bindy data format and handles parting exception e.g. returning null on invalid record\r\n - use [filter][2] or [validator][3] that validates the record before processing it e.g. using regular expression before it&#39;s unmarshalled.\r\nThis can look like\r\n``` java\r\nfrom(&quot;file:...&quot;)\r\n   .idempotentConsumer(...)\r\n   .log(...)\r\n   .split(body().tokenize(&quot;\\n&quot;))\r\n      .filter().regex(&quot;[A-Z]{3}\\\\*[^*]+\\\\*[0-9.]+\\\\*[0-9.]+\\\\*[0-9.]+&quot;) // put the valid regex here\r\n      .unmarshal().bindy(BindyType.Csv, ExchangeRateBindy.class)\r\n      .process(...);\r\n```\r\n\r\n\r\n  [1]: https://people.apache.org/~dkulp/camel/custom-dataformat.html\r\n  [2]: https://camel.apache.org/components/4.0.x/eips/filter-eip.html\r\n  [3]: https://camel.apache.org/manual/validator.html","title":"Is there a way to skip an invalid record when unmarshalling csv records with apache camel bindy","body":"<p>There can be various options like:</p>\n<ul>\n<li>Implement <a href=\"https://people.apache.org/%7Edkulp/camel/custom-dataformat.html\" rel=\"nofollow noreferrer\">custom data format</a> that wraps Bindy data format and handles parting exception e.g. returning null on invalid record</li>\n<li>use <a href=\"https://camel.apache.org/components/4.0.x/eips/filter-eip.html\" rel=\"nofollow noreferrer\">filter</a> or <a href=\"https://camel.apache.org/manual/validator.html\" rel=\"nofollow noreferrer\">validator</a> that validates the record before processing it e.g. using regular expression before it's unmarshalled.\nThis can look like</li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>from(&quot;file:...&quot;)\n   .idempotentConsumer(...)\n   .log(...)\n   .split(body().tokenize(&quot;\\n&quot;))\n      .filter().regex(&quot;[A-Z]{3}\\\\*[^*]+\\\\*[0-9.]+\\\\*[0-9.]+\\\\*[0-9.]+&quot;) // put the valid regex here\n      .unmarshal().bindy(BindyType.Csv, ExchangeRateBindy.class)\n      .process(...);\n</code></pre>\n"}],"owner":{"account_id":1344196,"reputation":749,"user_id":1285249,"accept_rate":0,"display_name":"Christian"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1692278005,"creation_date":1692178755,"question_id":76912353,"body_markdown":"I have the following route \r\n\r\n```\r\nfrom(&quot;file:&quot; + baseInputPath + &quot;/exchangerates&quot; + &quot;?noop=true&quot;)\r\n                                .idempotentConsumer(header(CAMEL_FILE_NAME),\r\n                                                FileIdempotentRepository.fileIdempotentRepository(new File(\r\n                                                                baseInputPath + &quot;/tracker/exchangeratefiles.txt&quot;)))\r\n                                .log(&quot;Processing exchange rate file: ${header.CamelFileName}&quot;).unmarshal()\r\n                                .bindy(BindyType.Csv, ExchangeRateBindy.class).process(exchange -&gt; {\r\n                                        ExchangeRateBindy exchangeRateBindy = exchange.getIn()\r\n                                                        .getBody(ExchangeRateBindy.class);\r\n                                        if (exchangeRateBindy != null) {\r\n                                                exchangeRateService.save(exchangeRateBindy.toExchangeRate());\r\n                                        } else {\r\n                                                log.error(&quot;Invalid exchange rate: {}&quot;, exchange.getIn().getBody());\r\n                                        }\r\n                                });\r\n```\r\n\r\nand the following bindy class\r\n\r\n```\r\n@Data\r\n@CsvRecord(separator = &quot;\\\\*&quot;, skipFirstLine = false)\r\npublic class ExchangeRateBindy {\r\n    @DataField(pos = 1)\r\n    private String currencyId;\r\n    @DataField(pos = 2)\r\n    private String currencyName;\r\n    @DataField(pos = 3)\r\n    private double buyRate;\r\n    @DataField(pos = 4)\r\n    private double midRate;\r\n    @DataField(pos = 5, defaultValue = &quot;0&quot;)\r\n    private double sellRate;\r\n\r\n    public ExchangeRate toExchangeRate() {\r\n        return ExchangeRate.builder().currencyId(currencyId).currencyName(currencyName).buyRate(buyRate)\r\n                .midRate(midRate).sellRate(sellRate).build();\r\n    }\r\n}\r\n```\r\n\r\nand csv data\r\n\r\n```\r\nCAD*Canadian Dollar.*1.0332*1.0332*1.0332\r\nAUD*Australian Dollars.*812.7459194*837.88239115*Test\r\nBWP*BOTSWANA PULA*90.29159051*93.084113925*95.87663734\r\n```\r\n\r\nHow do I allow my route to skip the second record which has an invalid last field with the value &#39;Test&#39; instead of a numeric value? As it is the code just throws a NumberFormatException and does not process any of the records.\r\n","title":"Is there a way to skip an invalid record when unmarshalling csv records with apache camel bindy","body":"<p>I have the following route</p>\n<pre><code>from(&quot;file:&quot; + baseInputPath + &quot;/exchangerates&quot; + &quot;?noop=true&quot;)\n                                .idempotentConsumer(header(CAMEL_FILE_NAME),\n                                                FileIdempotentRepository.fileIdempotentRepository(new File(\n                                                                baseInputPath + &quot;/tracker/exchangeratefiles.txt&quot;)))\n                                .log(&quot;Processing exchange rate file: ${header.CamelFileName}&quot;).unmarshal()\n                                .bindy(BindyType.Csv, ExchangeRateBindy.class).process(exchange -&gt; {\n                                        ExchangeRateBindy exchangeRateBindy = exchange.getIn()\n                                                        .getBody(ExchangeRateBindy.class);\n                                        if (exchangeRateBindy != null) {\n                                                exchangeRateService.save(exchangeRateBindy.toExchangeRate());\n                                        } else {\n                                                log.error(&quot;Invalid exchange rate: {}&quot;, exchange.getIn().getBody());\n                                        }\n                                });\n</code></pre>\n<p>and the following bindy class</p>\n<pre><code>@Data\n@CsvRecord(separator = &quot;\\\\*&quot;, skipFirstLine = false)\npublic class ExchangeRateBindy {\n    @DataField(pos = 1)\n    private String currencyId;\n    @DataField(pos = 2)\n    private String currencyName;\n    @DataField(pos = 3)\n    private double buyRate;\n    @DataField(pos = 4)\n    private double midRate;\n    @DataField(pos = 5, defaultValue = &quot;0&quot;)\n    private double sellRate;\n\n    public ExchangeRate toExchangeRate() {\n        return ExchangeRate.builder().currencyId(currencyId).currencyName(currencyName).buyRate(buyRate)\n                .midRate(midRate).sellRate(sellRate).build();\n    }\n}\n</code></pre>\n<p>and csv data</p>\n<pre><code>CAD*Canadian Dollar.*1.0332*1.0332*1.0332\nAUD*Australian Dollars.*812.7459194*837.88239115*Test\nBWP*BOTSWANA PULA*90.29159051*93.084113925*95.87663734\n</code></pre>\n<p>How do I allow my route to skip the second record which has an invalid last field with the value 'Test' instead of a numeric value? As it is the code just throws a NumberFormatException and does not process any of the records.</p>\n"},{"tags":["java","maven","apache-kafka","graalvm-native-image"],"comments":[{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1692197520,"post_id":76912248,"comment_id":135591582,"body_markdown":"1) Don&#39;t use `Class.forName` when you can just use `StringSerializer.class` 2) Seems like your native image doesn&#39;t include external dependencies, or you&#39;re not running the code with a complete classpath... Successful building and packaging doesn&#39;t address runtime errors","body":"1) Don&#39;t use <code>Class.forName</code> when you can just use <code>StringSerializer.class</code> 2) Seems like your native image doesn&#39;t include external dependencies, or you&#39;re not running the code with a complete classpath... Successful building and packaging doesn&#39;t address runtime errors"},{"owner":{"account_id":29235612,"reputation":11,"user_id":22398310,"display_name":"paul"},"score":1,"creation_date":1692274478,"post_id":76912248,"comment_id":135602654,"body_markdown":"It was indeed a problem with the dependencies, in fact I solved the problem with some entries in my &quot;reflect-config.json&quot; file. Thanks!","body":"It was indeed a problem with the dependencies, in fact I solved the problem with some entries in my &quot;reflect-config.json&quot; file. Thanks!"},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1692276703,"post_id":76912248,"comment_id":135603138,"body_markdown":"Feel free to add your complete solution below as an answer","body":"Feel free to add your complete solution below as an answer"}],"answers":[{"tags":[],"owner":{"account_id":29235612,"reputation":11,"user_id":22398310,"display_name":"paul"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692277609,"creation_date":1692277564,"answer_id":76921826,"question_id":76912248,"body_markdown":"So, the problem I had was that I didnt know about configuring the GraalVM with Kafka at all. In the following link I found the solution to my problem in adding the requested json file for the confluent schema registry to my project: [https://jeqo.github.io/posts/2022-03-18-kafka-clients-graalvm/][1]\r\n\r\n\r\n  [1]: https://jeqo.github.io/posts/2022-03-18-kafka-clients-graalvm/","title":"GraalVM, Apache Kafka: Could not find a public no-argument constructor for org.apache.kafka.common.serialization.StringSerializer","body":"<p>So, the problem I had was that I didnt know about configuring the GraalVM with Kafka at all. In the following link I found the solution to my problem in adding the requested json file for the confluent schema registry to my project: <a href=\"https://jeqo.github.io/posts/2022-03-18-kafka-clients-graalvm/\" rel=\"nofollow noreferrer\">https://jeqo.github.io/posts/2022-03-18-kafka-clients-graalvm/</a></p>\n"}],"owner":{"account_id":29235612,"reputation":11,"user_id":22398310,"display_name":"paul"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":148,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1692277609,"creation_date":1692178075,"question_id":76912248,"body_markdown":"I am currently working on a Java-Application which is a Kafka-Producer. I have already finished and fully tested the code with Maven, everything worked fine. Then I waned to get a Graal-Native-Image for executing the producer Code.\r\n\r\nI am building the project with &quot;mvn -Pnative package&quot; and everything is getting built fine. (also using the maven profile from the docs: (https://graalvm.github.io/native-build-tools/latest/maven-plugin.html)). When trying to start the image via &quot;./MyApp&quot; I am getting the following errors:\r\n\r\n```\r\nException in thread &quot;main&quot; org.apache.kafka.common.KafkaException: Failed to construct kafka producer\r\n        at org.apache.kafka.clients.producer.KafkaProducer.&lt;init&gt;(KafkaProducer.java:465)\r\n        at org.apache.kafka.clients.producer.KafkaProducer.&lt;init&gt;(KafkaProducer.java:290)\r\n        at org.apache.kafka.clients.producer.KafkaProducer.&lt;init&gt;(KafkaProducer.java:317)\r\n        at org.apache.kafka.clients.producer.KafkaProducer.&lt;init&gt;(KafkaProducer.java:302)\r\n        at Main.main(Main.java:23)\r\nCaused by: org.apache.kafka.common.KafkaException: Could not find a public no-argument constructor for org.apache.kafka.common.serialization.StringSerializer\r\n        at org.apache.kafka.common.utils.Utils.newInstance(Utils.java:397)\r\n        at org.apache.kafka.common.config.AbstractConfig.getConfiguredInstance(AbstractConfig.java:401)\r\n        at org.apache.kafka.common.config.AbstractConfig.getConfiguredInstance(AbstractConfig.java:440)\r\n        at org.apache.kafka.common.config.AbstractConfig.getConfiguredInstance(AbstractConfig.java:425)\r\n        at org.apache.kafka.clients.producer.KafkaProducer.&lt;init&gt;(KafkaProducer.java:380)\r\n        ... 4 more\r\nCaused by: java.lang.NoSuchMethodException: org.apache.kafka.common.serialization.StringSerializer.&lt;init&gt;()\r\n        at java.base@17.0.8/java.lang.Class.checkMethod(DynamicHub.java:1038)\r\n        at java.base@17.0.8/java.lang.Class.getConstructor0(DynamicHub.java:1204)\r\n        at java.base@17.0.8/java.lang.Class.getDeclaredConstructor(DynamicHub.java:2754)\r\n        at org.apache.kafka.common.utils.Utils.newInstance(Utils.java:395)\r\n        ... 8 more\r\n```\r\nThe following code snippet represents the code where the error seems to happen:\r\n\r\n```\r\n        Properties properties = new Properties();\r\n        properties.put(ProducerConfig.BOOTSTRAP_SERVERS_CONFIG, &quot;localhost:9092&quot;);\r\n        properties.put(&quot;schema.registry.url&quot;, &quot;http://localhost:8081&quot;);\r\n        properties.put(&quot;key.serializer&quot;, Class.forName(&quot;org.apache.kafka.common.serialization.StringSerializer&quot;));\r\n        properties.put(&quot;value.serializer&quot;, Class.forName(&quot;io.confluent.kafka.serializers.KafkaAvroSerializer&quot;));\r\n\r\n        final org.apache.kafka.clients.producer.Producer&lt;String, GenericRecord&gt; producer = new KafkaProducer&lt;&gt;(properties);\r\n        Runtime.getRuntime().addShutdownHook(new Thread(() -&gt; {\r\n            System.out.println(&quot;Stopping Producer&quot;);\r\n            producer.close();\r\n        }));\r\n```\r\n\r\n\r\n\r\nMy guess was that the Kafka Depedency just isnt being imported properly, but trying it without it in my pom.xml the &quot;mvn package&quot; command wouldnt even work without errors. By the way I am using the latest Kafka Version.\r\nI also tried using as less Dependencies as possible and looked if one of the would be the problem. Is there any specific GraalVM configs I am missing? I am new to the topic.\r\n\r\n\r\nI hope that is all information relevant for that kind of problem otherwise I would of course share it, if something was missing.\r\nThanks in advance.","title":"GraalVM, Apache Kafka: Could not find a public no-argument constructor for org.apache.kafka.common.serialization.StringSerializer","body":"<p>I am currently working on a Java-Application which is a Kafka-Producer. I have already finished and fully tested the code with Maven, everything worked fine. Then I waned to get a Graal-Native-Image for executing the producer Code.</p>\n<p>I am building the project with &quot;mvn -Pnative package&quot; and everything is getting built fine. (also using the maven profile from the docs: (<a href=\"https://graalvm.github.io/native-build-tools/latest/maven-plugin.html\" rel=\"nofollow noreferrer\">https://graalvm.github.io/native-build-tools/latest/maven-plugin.html</a>)). When trying to start the image via &quot;./MyApp&quot; I am getting the following errors:</p>\n<pre><code>Exception in thread &quot;main&quot; org.apache.kafka.common.KafkaException: Failed to construct kafka producer\n        at org.apache.kafka.clients.producer.KafkaProducer.&lt;init&gt;(KafkaProducer.java:465)\n        at org.apache.kafka.clients.producer.KafkaProducer.&lt;init&gt;(KafkaProducer.java:290)\n        at org.apache.kafka.clients.producer.KafkaProducer.&lt;init&gt;(KafkaProducer.java:317)\n        at org.apache.kafka.clients.producer.KafkaProducer.&lt;init&gt;(KafkaProducer.java:302)\n        at Main.main(Main.java:23)\nCaused by: org.apache.kafka.common.KafkaException: Could not find a public no-argument constructor for org.apache.kafka.common.serialization.StringSerializer\n        at org.apache.kafka.common.utils.Utils.newInstance(Utils.java:397)\n        at org.apache.kafka.common.config.AbstractConfig.getConfiguredInstance(AbstractConfig.java:401)\n        at org.apache.kafka.common.config.AbstractConfig.getConfiguredInstance(AbstractConfig.java:440)\n        at org.apache.kafka.common.config.AbstractConfig.getConfiguredInstance(AbstractConfig.java:425)\n        at org.apache.kafka.clients.producer.KafkaProducer.&lt;init&gt;(KafkaProducer.java:380)\n        ... 4 more\nCaused by: java.lang.NoSuchMethodException: org.apache.kafka.common.serialization.StringSerializer.&lt;init&gt;()\n        at java.base@17.0.8/java.lang.Class.checkMethod(DynamicHub.java:1038)\n        at java.base@17.0.8/java.lang.Class.getConstructor0(DynamicHub.java:1204)\n        at java.base@17.0.8/java.lang.Class.getDeclaredConstructor(DynamicHub.java:2754)\n        at org.apache.kafka.common.utils.Utils.newInstance(Utils.java:395)\n        ... 8 more\n</code></pre>\n<p>The following code snippet represents the code where the error seems to happen:</p>\n<pre><code>        Properties properties = new Properties();\n        properties.put(ProducerConfig.BOOTSTRAP_SERVERS_CONFIG, &quot;localhost:9092&quot;);\n        properties.put(&quot;schema.registry.url&quot;, &quot;http://localhost:8081&quot;);\n        properties.put(&quot;key.serializer&quot;, Class.forName(&quot;org.apache.kafka.common.serialization.StringSerializer&quot;));\n        properties.put(&quot;value.serializer&quot;, Class.forName(&quot;io.confluent.kafka.serializers.KafkaAvroSerializer&quot;));\n\n        final org.apache.kafka.clients.producer.Producer&lt;String, GenericRecord&gt; producer = new KafkaProducer&lt;&gt;(properties);\n        Runtime.getRuntime().addShutdownHook(new Thread(() -&gt; {\n            System.out.println(&quot;Stopping Producer&quot;);\n            producer.close();\n        }));\n</code></pre>\n<p>My guess was that the Kafka Depedency just isnt being imported properly, but trying it without it in my pom.xml the &quot;mvn package&quot; command wouldnt even work without errors. By the way I am using the latest Kafka Version.\nI also tried using as less Dependencies as possible and looked if one of the would be the problem. Is there any specific GraalVM configs I am missing? I am new to the topic.</p>\n<p>I hope that is all information relevant for that kind of problem otherwise I would of course share it, if something was missing.\nThanks in advance.</p>\n"},{"tags":["java","jsp","compiler-errors"],"answers":[{"tags":[],"owner":{"account_id":7701,"reputation":47163,"user_id":13447,"accept_rate":100,"display_name":"Olaf Kock"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1692264912,"creation_date":1692264912,"answer_id":76920236,"question_id":76916533,"body_markdown":"You can not ignore this kind of compilation error, as JSPs are first compiled into standalone Servlets, which are in turn compiled into binary .class files. \r\n\r\nWhile you can generate unbalanced HTML tags as you please, you absolutely can not do so with JSP-Taglibs: They will *always* need to be balanced *in the same JSP file*.\r\n\r\nSo, what you can do is separate out by having &quot;outer&quot; tags in one file, and &quot;inner&quot; tags in another (included) one (to a certain extent), but you typically can&#39;t separate them into separate beginning &amp; ending. \r\n\r\nAnother alternative is to separate a JSP out into JSPF or other fragments. If you *statically* include them into a single JSP file _at compile time_, you can spread them out over multiple files. In general, from a maintainability standpoint, I&#39;d *strongly* prefer not to separate beginning and end of a JSP tag though. ","title":"Is there a way to ignore compilation error for a JSP file","body":"<p>You can not ignore this kind of compilation error, as JSPs are first compiled into standalone Servlets, which are in turn compiled into binary .class files.</p>\n<p>While you can generate unbalanced HTML tags as you please, you absolutely can not do so with JSP-Taglibs: They will <em>always</em> need to be balanced <em>in the same JSP file</em>.</p>\n<p>So, what you can do is separate out by having &quot;outer&quot; tags in one file, and &quot;inner&quot; tags in another (included) one (to a certain extent), but you typically can't separate them into separate beginning &amp; ending.</p>\n<p>Another alternative is to separate a JSP out into JSPF or other fragments. If you <em>statically</em> include them into a single JSP file <em>at compile time</em>, you can spread them out over multiple files. In general, from a maintainability standpoint, I'd <em>strongly</em> prefer not to separate beginning and end of a JSP tag though.</p>\n"}],"owner":{"account_id":5858990,"reputation":35,"user_id":4615353,"display_name":"VIVEK SHARMA"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":61,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"closed_date":1692277473,"answer_count":1,"score":-3,"last_activity_date":1692277537,"creation_date":1692214223,"question_id":76916533,"body_markdown":"I have to intentially ignore Compilation error in a jsp file.\r\n\r\n**What is being implemented?**\r\n\r\nfor a use-case, i have to override &lt;form&gt; tag in a service which is defined in other service. We have an in house page assembly logic to achieve it.\r\n\r\n**What is the issue?**\r\n\r\nI am getting `unterminated form jag` error and i need to ignore this error for my JSP file because my page assembly service will combine this form and send it to client.\r\n\r\n```\r\n[jasper] At least one JAR was scanned for TLDs yet contained no TLDs. Enable debug logging for this logger for a complete list of JARs that were scanned but no TLDs were found in them. Skipping unneeded JARs during scanning can improve startup time and JSP compilation time.\r\n   [jasper] Compilation error\r\n   [jasper] Error count: [1]\r\n```\r\n\r\n**What are the things which i tried?**\r\n\r\n`&lt;%-- @SuppressWarnings(&quot;jasper&quot;) --%&gt;`\r\n\r\n`&lt;%-- @ignoreCompilationErrors --%&gt;`\r\n\r\n`&lt;%@ suppressError jasper=&quot;true&quot; %&gt;`\r\n\r\n\r\nPlease let me know if there&#39;s a way to suppress error for a particular jsp file.","title":"Is there a way to ignore compilation error for a JSP file","body":"<p>I have to intentially ignore Compilation error in a jsp file.</p>\n<p><strong>What is being implemented?</strong></p>\n<p>for a use-case, i have to override  tag in a service which is defined in other service. We have an in house page assembly logic to achieve it.</p>\n<p><strong>What is the issue?</strong></p>\n<p>I am getting <code>unterminated form jag</code> error and i need to ignore this error for my JSP file because my page assembly service will combine this form and send it to client.</p>\n<pre><code>[jasper] At least one JAR was scanned for TLDs yet contained no TLDs. Enable debug logging for this logger for a complete list of JARs that were scanned but no TLDs were found in them. Skipping unneeded JARs during scanning can improve startup time and JSP compilation time.\n   [jasper] Compilation error\n   [jasper] Error count: [1]\n</code></pre>\n<p><strong>What are the things which i tried?</strong></p>\n<p><code>&lt;%-- @SuppressWarnings(&quot;jasper&quot;) --%&gt;</code></p>\n<p><code>&lt;%-- @ignoreCompilationErrors --%&gt;</code></p>\n<p><code>&lt;%@ suppressError jasper=&quot;true&quot; %&gt;</code></p>\n<p>Please let me know if there's a way to suppress error for a particular jsp file.</p>\n"},{"tags":["java","hibernate","jpa","jpql"],"comments":[{"owner":{"account_id":24440940,"reputation":3122,"user_id":18364656,"display_name":"Andrei Lisa"},"score":0,"creation_date":1692276601,"post_id":76921611,"comment_id":135603110,"body_markdown":"did you try to write a sql query as a native with `nativeQuery = true` ?","body":"did you try to write a sql query as a native with <code>nativeQuery = true</code> ?"},{"owner":{"account_id":10160823,"reputation":1,"user_id":7504338,"display_name":"hokkun"},"score":0,"creation_date":1692278587,"post_id":76921611,"comment_id":135603618,"body_markdown":"@AndreiLisa Thank you Andrei, that&#39;s definitely another option. But I guess we may need to set a return type to `List&lt;Object[]&gt;` and convert it to POJOs by ourselves?","body":"@AndreiLisa Thank you Andrei, that&#39;s definitely another option. But I guess we may need to set a return type to <code>List&lt;Object[]&gt;</code> and convert it to POJOs by ourselves?"},{"owner":{"account_id":24440940,"reputation":3122,"user_id":18364656,"display_name":"Andrei Lisa"},"score":0,"creation_date":1692280119,"post_id":76921611,"comment_id":135604002,"body_markdown":"yes, but in hibernate 6 was changed this approach","body":"yes, but in hibernate 6 was changed this approach"},{"owner":{"account_id":7614789,"reputation":175,"user_id":5774614,"display_name":"Amine ABBAOUI"},"score":0,"creation_date":1692280733,"post_id":76921611,"comment_id":135604148,"body_markdown":"Are you using TypedQuery or what exactly !!!, please share all your query statements, and what do you mean by N+1 problem ?","body":"Are you using TypedQuery or what exactly !!!, please share all your query statements, and what do you mean by N+1 problem ?"},{"owner":{"account_id":10160823,"reputation":1,"user_id":7504338,"display_name":"hokkun"},"score":0,"creation_date":1692281750,"post_id":76921611,"comment_id":135604392,"body_markdown":"@AmineABBAOUI Basically I am using Hibernates via Spring Data JPA, which means `@Query(QUERY)` where QUERY is the JPQL statements I wrote in the question ([Reference](https://www.baeldung.com/spring-data-jpa-query)). Regarding N+1 problem, for example [this blog article](https://vladmihalcea.com/n-plus-1-query-problem/) might be a good reference.","body":"@AmineABBAOUI Basically I am using Hibernates via Spring Data JPA, which means <code>@Query(QUERY)</code> where QUERY is the JPQL statements I wrote in the question (<a href=\"https://www.baeldung.com/spring-data-jpa-query\" rel=\"nofollow noreferrer\">Reference</a>). Regarding N+1 problem, for example <a href=\"https://vladmihalcea.com/n-plus-1-query-problem/\" rel=\"nofollow noreferrer\">this blog article</a> might be a good reference."},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1692286604,"post_id":76921611,"comment_id":135605621,"body_markdown":"You cannot add filtering criteria to &#39;fetch&#39; joins. JPA requires returned (aka managed) entities to reflect what is actually in the database - providers are required to track changes, so missing entities from relationships might show up depending on how that entity is merged back in and so force changes that weren&#39;t actually made back into the DB. If you want to control the query to fetch only some B instances, query on them directly, not the As.","body":"You cannot add filtering criteria to &#39;fetch&#39; joins. JPA requires returned (aka managed) entities to reflect what is actually in the database - providers are required to track changes, so missing entities from relationships might show up depending on how that entity is merged back in and so force changes that weren&#39;t actually made back into the DB. If you want to control the query to fetch only some B instances, query on them directly, not the As."},{"owner":{"account_id":10160823,"reputation":1,"user_id":7504338,"display_name":"hokkun"},"score":0,"creation_date":1692606011,"post_id":76921611,"comment_id":135641036,"body_markdown":"@Chris Thank you Chris, my understanding is that such queries won&#39;t match JPA&#39;s philosophy. I wonder if we still should do that even when we want A itself as an array. It seems that I have to submit queries for `# of A records` x `# of B records` to RDBMS, which may be sometimes unacceptable for the performance reason.","body":"@Chris Thank you Chris, my understanding is that such queries won&#39;t match JPA&#39;s philosophy. I wonder if we still should do that even when we want A itself as an array. It seems that I have to submit queries for <code># of A records</code> x <code># of B records</code> to RDBMS, which may be sometimes unacceptable for the performance reason."},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1692626364,"post_id":76921611,"comment_id":135645382,"body_markdown":"fetch joins across many to many: there are other options. EclipseLink has a batchFetch option you can use on relationships, so 1 query for all As and 1 more query for all related Bs. I believe hibernate has similar options, I just don&#39;t know how well the batchSize annotation works. You can always query As and Bs yourself in a similar fashion, which of course by building As, would allow you to sort and filter the Bs in their B collections yourself too, and give you much more control for performance tuning","body":"fetch joins across many to many: there are other options. EclipseLink has a batchFetch option you can use on relationships, so 1 query for all As and 1 more query for all related Bs. I believe hibernate has similar options, I just don&#39;t know how well the batchSize annotation works. You can always query As and Bs yourself in a similar fashion, which of course by building As, would allow you to sort and filter the Bs in their B collections yourself too, and give you much more control for performance tuning"}],"owner":{"account_id":10160823,"reputation":1,"user_id":7504338,"display_name":"hokkun"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692277407,"creation_date":1692275890,"question_id":76921611,"body_markdown":"Assume you have these two entities and corresponding tables (this is kind of a pseudo code; may not be really accurate Java code):\r\n\r\n\r\n```lang-java\r\n@Entity\r\n@Table(&quot;table_a&quot;)\r\npublic class A {\r\n  @Id\r\n  private int id;\r\n  @OneToMany\r\n  @JoinColumn(name = &quot;a_id&quot;, referencedColumnName = &quot;id&quot;)\r\n  private List&lt;B&gt; bList;\r\n}\r\n\r\n@Entity\r\n@Table(&quot;table_b&quot;)\r\npublic class B {\r\n  @Id\r\n  private int id;\r\n  @Column(name = &quot;a_id&quot;)\r\n  private int aId;\r\n  @Column(name = &quot;condition&quot;)\r\n  private int condition;\r\n} \r\n```\r\n\r\nWhat I want to achieve is (Pseudo JPQL):\r\n```lang-jpql\r\nselect a\r\nfrom A a\r\nleft join B b on (\r\n  a.id = b.aId\r\n  and b.condition &lt; 100\r\n)\r\n```\r\n\r\nI&#39;m using Hibernate 6.1.7.FINAL as a JPA implementation along with Spring Data JPA 3.0.8.\r\n\r\nI tried several options:\r\n\r\n1. Normal `JOIN` -&gt; That must have the N+1 problem.\r\n2. `JOIN FETCH` -&gt; You cannot use `on` for join fetch for the JPQL syntax restriction.\r\n3. Entity Graph -&gt; I have originally used this way, but it was no longer working after upgrading Hibernate to 6.x according to https://hibernate.atlassian.net/browse/HHH-15612.\r\n\r\nProbably one possible option is `JOIN FETCH` and `WHERE` like\r\n\r\n```lang-jpql\r\nselect a\r\nfrom A a\r\nleft fetch join B b\r\nwhere\r\n  (b.id is null) or (a.id = b.aId and b.condition &lt; 100)\r\n```\r\n\r\nBut actually you have to write `(b.id is null)` every time, and not semantically the same as the original one (maybe RDBMS can optimize it to some extend though).\r\n\r\nAny other possible options?\r\n\r\n---\r\nOriginally Hibernate 5 allowed me to use the following JPQL:\r\n```lang-jpql\r\nselect a\r\nfrom A a\r\nleft join B b on (\r\n  a.id = b.aId\r\n  and b.condition &lt; 100\r\n)\r\n```\r\n\r\nwith @EntityGraph (from Spring Data JPA), but now Hibernate 6 returns a SQL statement that contains duplicate `join` clauses (see HHH-15612 above). ","title":"What&#39;s the most reasonable way when I want to LEFT JOIN two tables with ON conditions in JPQL without suffering from the N+1 problem?","body":"<p>Assume you have these two entities and corresponding tables (this is kind of a pseudo code; may not be really accurate Java code):</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@Table(&quot;table_a&quot;)\npublic class A {\n  @Id\n  private int id;\n  @OneToMany\n  @JoinColumn(name = &quot;a_id&quot;, referencedColumnName = &quot;id&quot;)\n  private List&lt;B&gt; bList;\n}\n\n@Entity\n@Table(&quot;table_b&quot;)\npublic class B {\n  @Id\n  private int id;\n  @Column(name = &quot;a_id&quot;)\n  private int aId;\n  @Column(name = &quot;condition&quot;)\n  private int condition;\n} \n</code></pre>\n<p>What I want to achieve is (Pseudo JPQL):</p>\n<pre class=\"lang-jpql prettyprint-override\"><code>select a\nfrom A a\nleft join B b on (\n  a.id = b.aId\n  and b.condition &lt; 100\n)\n</code></pre>\n<p>I'm using Hibernate 6.1.7.FINAL as a JPA implementation along with Spring Data JPA 3.0.8.</p>\n<p>I tried several options:</p>\n<ol>\n<li>Normal <code>JOIN</code> -&gt; That must have the N+1 problem.</li>\n<li><code>JOIN FETCH</code> -&gt; You cannot use <code>on</code> for join fetch for the JPQL syntax restriction.</li>\n<li>Entity Graph -&gt; I have originally used this way, but it was no longer working after upgrading Hibernate to 6.x according to <a href=\"https://hibernate.atlassian.net/browse/HHH-15612\" rel=\"nofollow noreferrer\">https://hibernate.atlassian.net/browse/HHH-15612</a>.</li>\n</ol>\n<p>Probably one possible option is <code>JOIN FETCH</code> and <code>WHERE</code> like</p>\n<pre class=\"lang-jpql prettyprint-override\"><code>select a\nfrom A a\nleft fetch join B b\nwhere\n  (b.id is null) or (a.id = b.aId and b.condition &lt; 100)\n</code></pre>\n<p>But actually you have to write <code>(b.id is null)</code> every time, and not semantically the same as the original one (maybe RDBMS can optimize it to some extend though).</p>\n<p>Any other possible options?</p>\n<hr />\n<p>Originally Hibernate 5 allowed me to use the following JPQL:</p>\n<pre class=\"lang-jpql prettyprint-override\"><code>select a\nfrom A a\nleft join B b on (\n  a.id = b.aId\n  and b.condition &lt; 100\n)\n</code></pre>\n<p>with @EntityGraph (from Spring Data JPA), but now Hibernate 6 returns a SQL statement that contains duplicate <code>join</code> clauses (see HHH-15612 above).</p>\n"},{"tags":["java","android","client","message"],"answers":[{"tags":[],"owner":{"account_id":3347023,"reputation":1,"user_id":2811995,"display_name":"user2811995"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1400768287,"creation_date":1380046160,"answer_id":18988914,"question_id":18988606,"body_markdown":"Some thoughts that may or may not solve the problem:\r\n\r\nThe method readLine() for the ObjectInputStream is deprecated. Try using a DataInputStream instead. Something like : \r\n\r\n    try {\r\n\t\t\toutToClient = new DataOutputStream(socket.getOutputStream());\r\n\t\t\tinFromClient = new DataInputStream(socket.getInputStream());\r\n\t} catch (IOException e) {\r\n\t\t\t// TODO Auto-generated catch block\r\n\t\t\te.printStackTrace();\r\n\t}\r\n\r\nAnd then :\r\n\r\n    inFromClient.readLine();\r\n\r\n\r\n\r\nNote that the read line will continue to read until it encounters a new line character &#39;\\n&#39;. So readLine() will block until it reads a newline.\r\n\r\nTry these things and see if they help\r\n\r\n\r\nEDIT:\r\nIt appears readLine() for DataInputStream is deprecated as well, but there are several others methods that should work. For example readUTF()","title":"Creating a simple Hello world Android Client-Server program","body":"<p>Some thoughts that may or may not solve the problem:</p>\n\n<p>The method readLine() for the ObjectInputStream is deprecated. Try using a DataInputStream instead. Something like : </p>\n\n<pre><code>try {\n        outToClient = new DataOutputStream(socket.getOutputStream());\n        inFromClient = new DataInputStream(socket.getInputStream());\n} catch (IOException e) {\n        // TODO Auto-generated catch block\n        e.printStackTrace();\n}\n</code></pre>\n\n<p>And then :</p>\n\n<pre><code>inFromClient.readLine();\n</code></pre>\n\n<p>Note that the read line will continue to read until it encounters a new line character '\\n'. So readLine() will block until it reads a newline.</p>\n\n<p>Try these things and see if they help</p>\n\n<p>EDIT:\nIt appears readLine() for DataInputStream is deprecated as well, but there are several others methods that should work. For example readUTF()</p>\n"}],"owner":{"account_id":3347322,"reputation":33,"user_id":2812231,"display_name":"Camil Latif"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":9949,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":1,"score":1,"last_activity_date":1692277280,"creation_date":1380045076,"question_id":18988606,"body_markdown":"To keep it simple, all I&#39;m trying to do is to send a message from my Android Emulator to a Java console server on Eclipse that contains a simple string, then I want the server to reply with another string.\r\nOfcourse; Ill connect to host 10.0.2.2 and use any open port (in my case 4000). The server gets a &quot;connected&quot; msg everytime I click on connecting button on the emulator, but I cant find a way to deliver packets or messages.\r\n\r\nIn case you want to read some code, here&#39;s my (what I think is) too long code for a simple task.\r\n\r\nClient\r\n    package com.example.clienttest;\r\n    \r\n    import java.io.IOException;\r\n    import java.io.ObjectInputStream;\r\n    import java.io.ObjectOutputStream;\r\n    import java.net.Socket;\r\n    \r\n    import android.os.Bundle;\r\n    import android.app.Activity;\r\n    import android.view.View;\r\n    import android.widget.EditText;\r\n    import android.widget.TextView;\r\n    \r\n    public class MainActivity extends Activity {\r\n    \r\n    \tThread m_objThreadClient;\r\n    \tSocket clientSocket;\r\n    \tTextView serverMessage;\r\n    \tEditText clientMessage;\r\n    \tString sIn, sOut;\r\n    \tObjectOutputStream oos;\r\n    \tObjectInputStream ois;\r\n    \t\r\n    \t@Override\r\n    \tpublic void onCreate(Bundle savedInstanceState) {\r\n    \t    super.onCreate(savedInstanceState);\r\n    \t    setContentView(R.layout.activity_main);\r\n    \t    \r\n    \t    serverMessage = (TextView) findViewById(R.id.textView1);\r\n    \t    clientMessage = (EditText) findViewById(R.id.editText1);\r\n    \t    \r\n    \t}\r\n        \r\n    \r\n    \tpublic void Start(View view) throws IOException{\r\n            final String Text;\r\n            String send = &quot; &quot;;\r\n            Text = clientMessage.getText().toString();\r\n    \t\tm_objThreadClient = new Thread( new Runnable(){\r\n    \t\t\tpublic void run()\r\n    \t\t\t{\r\n    \t\t        try {\r\n    \t\t            clientSocket = new Socket(&quot;10.0.2.2&quot;, 4000);\r\n    \t\t            oos = new ObjectOutputStream (clientSocket.getOutputStream());\r\n    \t\t            oos.writeObject(Text);\r\n    \t\t            oos.flush();\r\n    \t\t            \t\t            \r\n    \t\t        } catch (IOException e) {\r\n    \t\t            serverMessage.setText(e.getMessage());\r\n    \t\t        }\r\n    \t\t\t\t\r\n    \t\t\t}\r\n    \t\t});\r\n            serverMessage.setText(send);\r\n    \t\t\r\n    \t\tm_objThreadClient.start();\r\n    \t    \r\n        }\r\n     \r\n    }\r\n\r\n\r\nand server\r\n\r\n    import java.net.ServerSocket;\r\n    import java.net.Socket;\r\n     \r\n    import java.io.IOException;\r\n    import java.io.BufferedReader;\r\n    import java.io.InputStreamReader;\r\n    import java.io.ObjectInputStream;\r\n    import java.io.ObjectOutputStream;\r\n    import java.io.PrintWriter;\r\n     \r\n    import java.util.Hashtable;\r\n     \r\n    public class Server2 {\r\n     \r\n        @SuppressWarnings(&quot;resource&quot;)\r\n    \tpublic static void main (String[] args) throws IOException {\r\n     \r\n            ServerSocket server = null;  \r\n            try {\r\n                server = new ServerSocket(4000); \r\n            } catch (IOException e) {\r\n                System.err.println(&quot;Could not start up on: &quot; + &quot;4000&quot; + &quot;Maby server is already open? Or a portforwording messup?&quot;);\r\n                System.err.println(e);\r\n                System.exit(1);\r\n            }\r\n     \r\n            Socket client = null;\r\n            while(true) {\r\n                try {\r\n                    client = server.accept();\r\n                    System.out.print(&quot;connected&quot;);\r\n                } catch (IOException e) {\r\n                    System.err.println(&quot;Accept failed.&quot;);\r\n                    System.err.println(e);\r\n                }\r\n    \r\n                Thread t = new Thread(new ClientConn(client));\r\n                t.start();\r\n            }\r\n        }\r\n    }\r\n     \r\n     \r\n    class ClientConn implements Runnable {\r\n        private Socket client;\r\n        ObjectInputStream ois;\r\n        ObjectOutputStream oos;\r\n     \r\n        ClientConn(Socket client) {\r\n            this.client = client;\r\n            try {\r\n                ois = new ObjectInputStream(client.getInputStream());\r\n                String Recv;\r\n                Recv = ois.readLine();\r\n    \r\n                oos = new ObjectOutputStream(client.getOutputStream());\r\n                oos.writeChars(&quot;Welcome&quot;);\r\n                oos.flush();\r\n                \r\n                oos.close();\r\n                \r\n            } catch (IOException e) {\r\n                System.err.println(e);\r\n                return;\r\n            }\r\n        }\r\n     \r\n        public void run() {\r\n            String msg, response;\r\n            try {\r\n            \tSystem.out.print(&quot;checking&quot;);\r\n                while ((msg = ois.readLine()) != null) {\r\n                \tSystem.out.print(msg);\r\n                }\r\n            } catch (IOException e) {\r\n                System.err.println(e);\r\n            }\r\n        }\r\n     \r\n        public void sendMsg(String msg) throws IOException {\r\n            oos.writeChars(msg);\r\n        }\r\n    }\r\n\r\n\r\nThanks~","title":"Creating a simple Hello world Android Client-Server program","body":"<p>To keep it simple, all I'm trying to do is to send a message from my Android Emulator to a Java console server on Eclipse that contains a simple string, then I want the server to reply with another string.\nOfcourse; Ill connect to host 10.0.2.2 and use any open port (in my case 4000). The server gets a \"connected\" msg everytime I click on connecting button on the emulator, but I cant find a way to deliver packets or messages.</p>\n\n<p>In case you want to read some code, here's my (what I think is) too long code for a simple task.</p>\n\n<p>Client\n    package com.example.clienttest;</p>\n\n<pre><code>import java.io.IOException;\nimport java.io.ObjectInputStream;\nimport java.io.ObjectOutputStream;\nimport java.net.Socket;\n\nimport android.os.Bundle;\nimport android.app.Activity;\nimport android.view.View;\nimport android.widget.EditText;\nimport android.widget.TextView;\n\npublic class MainActivity extends Activity {\n\n    Thread m_objThreadClient;\n    Socket clientSocket;\n    TextView serverMessage;\n    EditText clientMessage;\n    String sIn, sOut;\n    ObjectOutputStream oos;\n    ObjectInputStream ois;\n\n    @Override\n    public void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        serverMessage = (TextView) findViewById(R.id.textView1);\n        clientMessage = (EditText) findViewById(R.id.editText1);\n\n    }\n\n\n    public void Start(View view) throws IOException{\n        final String Text;\n        String send = \" \";\n        Text = clientMessage.getText().toString();\n        m_objThreadClient = new Thread( new Runnable(){\n            public void run()\n            {\n                try {\n                    clientSocket = new Socket(\"10.0.2.2\", 4000);\n                    oos = new ObjectOutputStream (clientSocket.getOutputStream());\n                    oos.writeObject(Text);\n                    oos.flush();\n\n                } catch (IOException e) {\n                    serverMessage.setText(e.getMessage());\n                }\n\n            }\n        });\n        serverMessage.setText(send);\n\n        m_objThreadClient.start();\n\n    }\n\n}\n</code></pre>\n\n<p>and server</p>\n\n<pre><code>import java.net.ServerSocket;\nimport java.net.Socket;\n\nimport java.io.IOException;\nimport java.io.BufferedReader;\nimport java.io.InputStreamReader;\nimport java.io.ObjectInputStream;\nimport java.io.ObjectOutputStream;\nimport java.io.PrintWriter;\n\nimport java.util.Hashtable;\n\npublic class Server2 {\n\n    @SuppressWarnings(\"resource\")\n    public static void main (String[] args) throws IOException {\n\n        ServerSocket server = null;  \n        try {\n            server = new ServerSocket(4000); \n        } catch (IOException e) {\n            System.err.println(\"Could not start up on: \" + \"4000\" + \"Maby server is already open? Or a portforwording messup?\");\n            System.err.println(e);\n            System.exit(1);\n        }\n\n        Socket client = null;\n        while(true) {\n            try {\n                client = server.accept();\n                System.out.print(\"connected\");\n            } catch (IOException e) {\n                System.err.println(\"Accept failed.\");\n                System.err.println(e);\n            }\n\n            Thread t = new Thread(new ClientConn(client));\n            t.start();\n        }\n    }\n}\n\n\nclass ClientConn implements Runnable {\n    private Socket client;\n    ObjectInputStream ois;\n    ObjectOutputStream oos;\n\n    ClientConn(Socket client) {\n        this.client = client;\n        try {\n            ois = new ObjectInputStream(client.getInputStream());\n            String Recv;\n            Recv = ois.readLine();\n\n            oos = new ObjectOutputStream(client.getOutputStream());\n            oos.writeChars(\"Welcome\");\n            oos.flush();\n\n            oos.close();\n\n        } catch (IOException e) {\n            System.err.println(e);\n            return;\n        }\n    }\n\n    public void run() {\n        String msg, response;\n        try {\n            System.out.print(\"checking\");\n            while ((msg = ois.readLine()) != null) {\n                System.out.print(msg);\n            }\n        } catch (IOException e) {\n            System.err.println(e);\n        }\n    }\n\n    public void sendMsg(String msg) throws IOException {\n        oos.writeChars(msg);\n    }\n}\n</code></pre>\n\n<p>Thanks~</p>\n"},{"tags":["java","spring-boot","hibernate"],"comments":[{"owner":{"account_id":4181375,"reputation":5091,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":0,"creation_date":1691018716,"post_id":76823937,"comment_id":135435579,"body_markdown":"that is expected: I believe you have retrieved `initialState` via `em.find` or something similar, so actual state get stored in persistent context and HBN modifies that state when performing `merge`. Call `em.detach(initialState)` before calling `update`","body":"that is expected: I believe you have retrieved <code>initialState</code> via <code>em.find</code> or something similar, so actual state get stored in persistent context and HBN modifies that state when performing <code>merge</code>. Call <code>em.detach(initialState)</code> before calling <code>update</code>"}],"answers":[{"tags":[],"owner":{"account_id":5553822,"reputation":94,"user_id":4405995,"display_name":"Caio Costa"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1692276263,"creation_date":1691437645,"answer_id":76854774,"question_id":76823937,"body_markdown":"I&#39;ve solved it by using .toBuilder().build():\r\n```\r\nhibernateEntityAccess.update(original.toBuilder().build(), patchedData.toBuilder().build(), OperationTarget.ENTITY);\r\n```\r\nThis way my original variables didn&#39;t change.","title":"Hibernate&#39;s sessionFactory overwrites initialState entity after merge","body":"<p>I've solved it by using .toBuilder().build():</p>\n<pre><code>hibernateEntityAccess.update(original.toBuilder().build(), patchedData.toBuilder().build(), OperationTarget.ENTITY);\n</code></pre>\n<p>This way my original variables didn't change.</p>\n"}],"owner":{"account_id":5553822,"reputation":94,"user_id":4405995,"display_name":"Caio Costa"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76854774,"answer_count":1,"score":0,"last_activity_date":1692276263,"creation_date":1691016296,"question_id":76823937,"body_markdown":"I&#39;m using Springboot and Hibernate in a project and I&#39;m doing a PATCH request.\r\nLong story short, I invoke an update with:\r\n```\r\nhibernateEntityAccess.update(original, patchedData, OperationTarget.ENTITY);\r\n```\r\nThis is the update invoked:\r\n\r\n```\r\n    @SyncChs\r\n    @Transactional(rollbackFor = Exception.class)\r\n    public void update(final Auditable&lt;?&gt; initialState, final Auditable&lt;?&gt; finalState, final OperationTarget target, final boolean isInternalOperation) throws IOException {\r\n        int key = operation.getCurrentSession().setInitial(initialState, (AuditableEntity) initialState, target, isInternalOperation);\r\n        Auditable&lt;?&gt; merged = (Auditable&lt;?&gt;) sessionFactory.getCurrentSession().merge(finalState);\r\n        operation.getCurrentSession().setFinal(key, merged, (AuditableEntity) finalState, isInternalOperation);\r\n    }\r\n```\r\nAfter `.merge(finalState)`, the data in `original` is overwritten with the data that was in `patchedData`.\r\nI&#39;ve made my entities clonable and tried this \r\n```\r\nhibernateEntityAccess.update(original.clone(), patchedData.clone(), OperationTarget.ENTITY);\r\n```\r\nto see if `original` variable would not be overwritten by merge but the same behavior occurred.\r\n\r\nDoes anyone have an idea of why this happens?","title":"Hibernate&#39;s sessionFactory overwrites initialState entity after merge","body":"<p>I'm using Springboot and Hibernate in a project and I'm doing a PATCH request.\nLong story short, I invoke an update with:</p>\n<pre><code>hibernateEntityAccess.update(original, patchedData, OperationTarget.ENTITY);\n</code></pre>\n<p>This is the update invoked:</p>\n<pre><code>    @SyncChs\n    @Transactional(rollbackFor = Exception.class)\n    public void update(final Auditable&lt;?&gt; initialState, final Auditable&lt;?&gt; finalState, final OperationTarget target, final boolean isInternalOperation) throws IOException {\n        int key = operation.getCurrentSession().setInitial(initialState, (AuditableEntity) initialState, target, isInternalOperation);\n        Auditable&lt;?&gt; merged = (Auditable&lt;?&gt;) sessionFactory.getCurrentSession().merge(finalState);\n        operation.getCurrentSession().setFinal(key, merged, (AuditableEntity) finalState, isInternalOperation);\n    }\n</code></pre>\n<p>After <code>.merge(finalState)</code>, the data in <code>original</code> is overwritten with the data that was in <code>patchedData</code>.\nI've made my entities clonable and tried this</p>\n<pre><code>hibernateEntityAccess.update(original.clone(), patchedData.clone(), OperationTarget.ENTITY);\n</code></pre>\n<p>to see if <code>original</code> variable would not be overwritten by merge but the same behavior occurred.</p>\n<p>Does anyone have an idea of why this happens?</p>\n"},{"tags":["java","spring"],"comments":[{"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":1,"creation_date":1692259641,"post_id":76919480,"comment_id":135599772,"body_markdown":"While I get the close vote (especially because of OP&#39;s point 3...), this isn&#39;t really opinion based. We can answer this based on good design choices.","body":"While I get the close vote (especially because of OP&#39;s point 3...), this isn&#39;t really opinion based. We can answer this based on good design choices."}],"answers":[{"tags":[],"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1692259496,"creation_date":1692259496,"answer_id":76919551,"question_id":76919480,"body_markdown":"Each controller manages one entity type. So if you&#39;re retrieving media, the endpoint should be in the MediaController.\r\n\r\nInstead of making a new endpoint `media/me`, consider making `me` a filter on the normal GET (list) endpoint. That&#39;s much more scalable than having a new endpoint per thing you want to filter on. Let&#39;s say the next feature you want to add is filtering on media type. If you have both of those as filters on the same endpoint, now your users can combine those filters for free!","title":"What is a more appropriate API endpoint in my case?","body":"<p>Each controller manages one entity type. So if you're retrieving media, the endpoint should be in the MediaController.</p>\n<p>Instead of making a new endpoint <code>media/me</code>, consider making <code>me</code> a filter on the normal GET (list) endpoint. That's much more scalable than having a new endpoint per thing you want to filter on. Let's say the next feature you want to add is filtering on media type. If you have both of those as filters on the same endpoint, now your users can combine those filters for free!</p>\n"},{"tags":[],"owner":{"account_id":29176687,"reputation":322,"user_id":22351796,"display_name":"Karsten"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692265663,"creation_date":1692265663,"answer_id":76920352,"question_id":76919480,"body_markdown":"When I structure my REST resources, I always start with the client view: What would be most helpful to a web programmer?\r\n\r\nIn your example I can imagine that you have a list of users, select one and display his media. Then your REST path should be `/users/{userId}/medias`. If you have lots of other resources that belong to a user, your web programmer still has to use just one endpoint.","title":"What is a more appropriate API endpoint in my case?","body":"<p>When I structure my REST resources, I always start with the client view: What would be most helpful to a web programmer?</p>\n<p>In your example I can imagine that you have a list of users, select one and display his media. Then your REST path should be <code>/users/{userId}/medias</code>. If you have lots of other resources that belong to a user, your web programmer still has to use just one endpoint.</p>\n"},{"tags":[],"owner":{"account_id":22129385,"reputation":1,"user_id":16381149,"display_name":"Sergio J"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692276033,"creation_date":1692276033,"answer_id":76921629,"question_id":76919480,"body_markdown":"To make the API experience more enjoyable for the average consumer, consider packaging condition sets within an easily accessible REST path. For example, the &quot;my media&quot; query can be packaged as GET /media/me.","title":"What is a more appropriate API endpoint in my case?","body":"<p>To make the API experience more enjoyable for the average consumer, consider packaging condition sets within an easily accessible REST path. For example, the &quot;my media&quot; query can be packaged as GET /media/me.</p>\n"}],"owner":{"account_id":29242295,"reputation":1,"user_id":22403535,"display_name":"KH Eom"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":51,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1692492777,"answer_count":3,"score":-1,"last_activity_date":1692276033,"creation_date":1692258818,"question_id":76919480,"body_markdown":"There are two controllers, &quot;MediaController&quot; and &quot;UserController&quot; in my spring project.\r\n\r\nMediaController - contains CRUD endpoint related media\r\n\r\nUserController - contains CURD endpoint related user\r\n\r\nI want to make an endpoint which can retrieve &quot;my&quot; medias\r\n\r\nCould you help me understand which option is better?\r\n\r\n1. &quot;/users/me/medias&quot; - in UserController\r\n2. &quot;/medias/me&quot; - in MediaController\r\n\r\nor Is there a more standard option?\r\n\r\nLooking forward to your insights.","title":"What is a more appropriate API endpoint in my case?","body":"<p>There are two controllers, &quot;MediaController&quot; and &quot;UserController&quot; in my spring project.</p>\n<p>MediaController - contains CRUD endpoint related media</p>\n<p>UserController - contains CURD endpoint related user</p>\n<p>I want to make an endpoint which can retrieve &quot;my&quot; medias</p>\n<p>Could you help me understand which option is better?</p>\n<ol>\n<li>&quot;/users/me/medias&quot; - in UserController</li>\n<li>&quot;/medias/me&quot; - in MediaController</li>\n</ol>\n<p>or Is there a more standard option?</p>\n<p>Looking forward to your insights.</p>\n"},{"tags":["java","generics"],"comments":[{"owner":{"account_id":117125,"reputation":13617,"user_id":306855,"accept_rate":73,"display_name":"Emil"},"score":2,"creation_date":1281339458,"post_id":3437897,"comment_id":3582094,"body_markdown":"Try answers in this question.I think its similar.\nhttp://stackoverflow.com/questions/1942644/get-generic-type-of-java-util-list/1942680#1942680","body":"Try answers in this question.I think its similar. <a href=\"http://stackoverflow.com/questions/1942644/get-generic-type-of-java-util-list/1942680#1942680\" title=\"get generic type of java util list\">stackoverflow.com/questions/1942644/&hellip;</a>"},{"owner":{"account_id":2863495,"reputation":3749,"user_id":2458234,"accept_rate":60,"display_name":"7hi4g0"},"score":3,"creation_date":1396361210,"post_id":3437897,"comment_id":34746179,"body_markdown":"possible duplicate of [Get generic type of class at runtime](http://stackoverflow.com/questions/3403909/get-generic-type-of-class-at-runtime)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/3403909/get-generic-type-of-class-at-runtime\">Get generic type of class at runtime</a>"},{"owner":{"account_id":207433,"reputation":1997,"user_id":457290,"accept_rate":64,"display_name":"matiasg"},"score":1,"creation_date":1413306767,"post_id":3437897,"comment_id":41390162,"body_markdown":"possible duplicate of [Instantiating a generic class in Java](http://stackoverflow.com/questions/1090458/instantiating-a-generic-class-in-java)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/1090458/instantiating-a-generic-class-in-java\">Instantiating a generic class in Java</a>"},{"owner":{"account_id":5751247,"reputation":219,"user_id":4540861,"accept_rate":88,"display_name":"helloWorld"},"score":2,"creation_date":1549454348,"post_id":3437897,"comment_id":95906001,"body_markdown":"`import com.fasterxml.jackson.core.type.TypeReference; `\n`new TypeReference&lt;T&gt;(){}`","body":"<code>import com.fasterxml.jackson.core.type.TypeReference; </code> <code>new TypeReference&lt;T&gt;(){}</code>"},{"owner":{"account_id":2965471,"reputation":923,"user_id":2518705,"display_name":"RAM237"},"score":0,"creation_date":1640639823,"post_id":3437897,"comment_id":124623659,"body_markdown":"Yup, as the comment above suggests, workarounded it by providing `new TypeReference&lt;Foo&lt;Bar&gt;&gt;() {}` as a parameter to my deserialized model reader method.","body":"Yup, as the comment above suggests, workarounded it by providing <code>new TypeReference&lt;Foo&lt;Bar&gt;&gt;() {}</code> as a parameter to my deserialized model reader method."},{"owner":{"account_id":881914,"reputation":1409,"user_id":303623,"display_name":"Rick O&#39;Shea"},"score":0,"creation_date":1663810285,"post_id":3437897,"comment_id":130328706,"body_markdown":"Perfect solution: https://iqcode.com/code/java/get-class-from-generic-type-java","body":"Perfect solution: <a href=\"https://iqcode.com/code/java/get-class-from-generic-type-java\" rel=\"nofollow noreferrer\">iqcode.com/code/java/get-class-from-generic-type-java</a>"}],"answers":[{"tags":[],"owner":{"account_id":103731,"reputation":53285,"user_id":277683,"accept_rate":68,"display_name":"Konrad Garus"},"down_vote_count":1,"up_vote_count":13,"is_accepted":false,"score":12,"last_activity_date":1443342198,"creation_date":1281337347,"answer_id":3437922,"question_id":3437897,"body_markdown":"You can&#39;t do it because of type erasure. See also Stack Overflow question *[Java generics - type erasure - when and what happens][1]*.\r\n\r\n  [1]: https://stackoverflow.com/questions/339699\r\n","title":"How do I get a class instance of generic type T?","body":"<p>You can't do it because of type erasure. See also Stack Overflow question <em><a href=\"https://stackoverflow.com/questions/339699\">Java generics - type erasure - when and what happens</a></em>.</p>\n"},{"tags":[],"owner":{"account_id":37976,"reputation":10329,"user_id":108781,"display_name":"Zsolt T&#246;r&#246;k"},"down_vote_count":14,"up_vote_count":707,"is_accepted":true,"score":693,"last_activity_date":1281337788,"creation_date":1281337395,"answer_id":3437930,"question_id":3437897,"body_markdown":"The short answer is, that there is no way to find out the runtime type of generic type parameters in Java. I suggest reading the chapter about type erasure in the [Java Tutorial][1] for more details.\r\n\r\nA popular solution to this is to pass the `Class` of the type parameter into the constructor of the generic type, e.g.\r\n\r\n    class Foo&lt;T&gt; {\r\n        final Class&lt;T&gt; typeParameterClass;\r\n\r\n        public Foo(Class&lt;T&gt; typeParameterClass) {\r\n            this.typeParameterClass = typeParameterClass;\r\n        }\r\n\r\n        public void bar() {\r\n            // you can access the typeParameterClass here and do whatever you like\r\n        }\r\n    }\r\n        \r\n\r\n  [1]: http://download.oracle.com/javase/tutorial/java/generics/erasure.html","title":"How do I get a class instance of generic type T?","body":"<p>The short answer is, that there is no way to find out the runtime type of generic type parameters in Java. I suggest reading the chapter about type erasure in the <a href=\"http://download.oracle.com/javase/tutorial/java/generics/erasure.html\" rel=\"noreferrer\">Java Tutorial</a> for more details.</p>\n\n<p>A popular solution to this is to pass the <code>Class</code> of the type parameter into the constructor of the generic type, e.g.</p>\n\n<pre><code>class Foo&lt;T&gt; {\n    final Class&lt;T&gt; typeParameterClass;\n\n    public Foo(Class&lt;T&gt; typeParameterClass) {\n        this.typeParameterClass = typeParameterClass;\n    }\n\n    public void bar() {\n        // you can access the typeParameterClass here and do whatever you like\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":36858,"reputation":113744,"user_id":105224,"accept_rate":73,"display_name":"Andreas Dolk"},"down_vote_count":3,"up_vote_count":47,"is_accepted":false,"score":44,"last_activity_date":1328809040,"creation_date":1281337670,"answer_id":3437957,"question_id":3437897,"body_markdown":"A standard approach/workaround/solution is to add a `class` object to the constructor(s), like:\r\n\r\n     public class Foo&lt;T&gt; {\r\n\r\n        private Class&lt;T&gt; type;\r\n        public Foo(Class&lt;T&gt; type) {\r\n          this.type = type;\r\n        }\r\n\r\n        public Class&lt;T&gt; getType() {\r\n          return type;\r\n        }\r\n\r\n        public T newInstance() {\r\n          return type.newInstance();\r\n        }\r\n     }","title":"How do I get a class instance of generic type T?","body":"<p>A standard approach/workaround/solution is to add a <code>class</code> object to the constructor(s), like:</p>\n\n<pre><code> public class Foo&lt;T&gt; {\n\n    private Class&lt;T&gt; type;\n    public Foo(Class&lt;T&gt; type) {\n      this.type = type;\n    }\n\n    public Class&lt;T&gt; getType() {\n      return type;\n    }\n\n    public T newInstance() {\n      return type.newInstance();\n    }\n }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":57768,"reputation":2919,"user_id":173074,"accept_rate":75,"display_name":"Ricky Clarkson"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1363266240,"creation_date":1281354442,"answer_id":3439659,"question_id":3437897,"body_markdown":"A better route than the Class the others suggested is to pass in an object that can do what you would have done with the Class, e.g., create a new instance.\r\n\r\n    interface Factory&lt;T&gt; {\r\n      T apply();\r\n    }\r\n\r\n    &lt;T&gt; void List&lt;T&gt; make10(Factory&lt;T&gt; factory) {\r\n      List&lt;T&gt; result = new ArrayList&lt;T&gt;();\r\n      for (int a = 0; a &lt; 10; a++)\r\n        result.add(factory.apply());\r\n      return result;\r\n    }\r\n\r\n    class FooFactory&lt;T&gt; implements Factory&lt;Foo&lt;T&gt;&gt; {\r\n      public Foo&lt;T&gt; apply() {\r\n        return new Foo&lt;T&gt;();\r\n      }\r\n    }\r\n\r\n    List&lt;Foo&lt;Integer&gt;&gt; foos = make10(new FooFactory&lt;Integer&gt;());\r\n\r\n\r\n","title":"How do I get a class instance of generic type T?","body":"<p>A better route than the Class the others suggested is to pass in an object that can do what you would have done with the Class, e.g., create a new instance.</p>\n\n<pre><code>interface Factory&lt;T&gt; {\n  T apply();\n}\n\n&lt;T&gt; void List&lt;T&gt; make10(Factory&lt;T&gt; factory) {\n  List&lt;T&gt; result = new ArrayList&lt;T&gt;();\n  for (int a = 0; a &lt; 10; a++)\n    result.add(factory.apply());\n  return result;\n}\n\nclass FooFactory&lt;T&gt; implements Factory&lt;Foo&lt;T&gt;&gt; {\n  public Foo&lt;T&gt; apply() {\n    return new Foo&lt;T&gt;();\n  }\n}\n\nList&lt;Foo&lt;Integer&gt;&gt; foos = make10(new FooFactory&lt;Integer&gt;());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":117065,"reputation":3023,"user_id":306730,"display_name":"bert bruynooghe"},"down_vote_count":2,"up_vote_count":122,"is_accepted":false,"score":120,"last_activity_date":1502105879,"creation_date":1302933072,"answer_id":5684761,"question_id":3437897,"body_markdown":"There is a small loophole however: if you define your `Foo` class as abstract.\r\nThat would mean you have to instantiate you class as:\r\n\r\n    Foo&lt;MyType&gt; myFoo = new Foo&lt;MyType&gt;(){};\r\n(Note the double braces at the end.)\r\n\r\nNow you can retrieve the type of `T` at runtime:\r\n\r\n    Type mySuperclass = myFoo.getClass().getGenericSuperclass();\r\n    Type tType = ((ParameterizedType)mySuperclass).getActualTypeArguments()[0];\r\n\r\nNote however that `mySuperclass` has to be the superclass of the class definition actually defining the final type for `T`.\r\n\r\nIt is also not very elegant, but you have to decide whether you  prefer `new Foo&lt;MyType&gt;(){}` or `new Foo&lt;MyType&gt;(MyType.class);` in your code.\r\n\r\n----\r\n\r\nFor example:\r\n\r\n    import java.lang.reflect.ParameterizedType;\r\n    import java.lang.reflect.Type;\r\n    \r\n    import java.util.ArrayDeque;\r\n    import java.util.Deque;\r\n    import java.util.NoSuchElementException;\r\n\r\n    /**\r\n     * Captures and silently ignores stack exceptions upon popping.\r\n     */\r\n    public abstract class SilentStack&lt;E&gt; extends ArrayDeque&lt;E&gt; {\r\n      public E pop() {\r\n        try {\r\n          return super.pop();\r\n        }\r\n        catch( NoSuchElementException nsee ) {\r\n          return create();\r\n        }\r\n      }\r\n      \r\n      public E create() {\r\n        try {\r\n          Type sooper = getClass().getGenericSuperclass();\r\n          Type t = ((ParameterizedType)sooper).getActualTypeArguments()[ 0 ];\r\n    \r\n          return (E)(Class.forName( t.toString() ).newInstance());\r\n        }\r\n        catch( Exception e ) {\r\n          return null;\r\n        }\r\n      }\r\n    }\r\n\r\nThen:\r\n\r\n    public class Main {\r\n        // Note the braces...\r\n        private Deque&lt;String&gt; stack = new SilentStack&lt;String&gt;(){};\r\n    \r\n        public static void main( String args[] ) {\r\n          // Returns a new instance of String.\r\n          String s = stack.pop();\r\n          System.out.printf( &quot;s = &#39;%s&#39;\\n&quot;, s );\r\n        }\r\n    }\r\n\r\n","title":"How do I get a class instance of generic type T?","body":"<p>There is a small loophole however: if you define your <code>Foo</code> class as abstract.\nThat would mean you have to instantiate you class as:</p>\n\n<pre><code>Foo&lt;MyType&gt; myFoo = new Foo&lt;MyType&gt;(){};\n</code></pre>\n\n<p>(Note the double braces at the end.)</p>\n\n<p>Now you can retrieve the type of <code>T</code> at runtime:</p>\n\n<pre><code>Type mySuperclass = myFoo.getClass().getGenericSuperclass();\nType tType = ((ParameterizedType)mySuperclass).getActualTypeArguments()[0];\n</code></pre>\n\n<p>Note however that <code>mySuperclass</code> has to be the superclass of the class definition actually defining the final type for <code>T</code>.</p>\n\n<p>It is also not very elegant, but you have to decide whether you  prefer <code>new Foo&lt;MyType&gt;(){}</code> or <code>new Foo&lt;MyType&gt;(MyType.class);</code> in your code.</p>\n\n<hr>\n\n<p>For example:</p>\n\n<pre><code>import java.lang.reflect.ParameterizedType;\nimport java.lang.reflect.Type;\n\nimport java.util.ArrayDeque;\nimport java.util.Deque;\nimport java.util.NoSuchElementException;\n\n/**\n * Captures and silently ignores stack exceptions upon popping.\n */\npublic abstract class SilentStack&lt;E&gt; extends ArrayDeque&lt;E&gt; {\n  public E pop() {\n    try {\n      return super.pop();\n    }\n    catch( NoSuchElementException nsee ) {\n      return create();\n    }\n  }\n\n  public E create() {\n    try {\n      Type sooper = getClass().getGenericSuperclass();\n      Type t = ((ParameterizedType)sooper).getActualTypeArguments()[ 0 ];\n\n      return (E)(Class.forName( t.toString() ).newInstance());\n    }\n    catch( Exception e ) {\n      return null;\n    }\n  }\n}\n</code></pre>\n\n<p>Then:</p>\n\n<pre><code>public class Main {\n    // Note the braces...\n    private Deque&lt;String&gt; stack = new SilentStack&lt;String&gt;(){};\n\n    public static void main( String args[] ) {\n      // Returns a new instance of String.\n      String s = stack.pop();\n      System.out.printf( \"s = '%s'\\n\", s );\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":534856,"reputation":5625,"user_id":904624,"accept_rate":81,"display_name":"Christine"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1321012292,"creation_date":1321012292,"answer_id":8093592,"question_id":3437897,"body_markdown":"Actually, I suppose you have a field in your class of type T. If there&#39;s no field of type T, what&#39;s the point of having a generic Type? So, you can simply do an instanceof on that field.\r\n\r\nIn my case, I have a &lt;pre&gt;List&amp;lt;T&amp;gt; items;&lt;/pre&gt; in my class, and I check if the class type is &quot;Locality&quot; by\r\n&lt;pre&gt;if (items.get(0) instanceof Locality) ...\r\n&lt;/pre&gt;\r\nOf course, this only works if the total number of possible classes is limited.","title":"How do I get a class instance of generic type T?","body":"<p>Actually, I suppose you have a field in your class of type T. If there's no field of type T, what's the point of having a generic Type? So, you can simply do an instanceof on that field.</p>\n\n<p>In my case, I have a <pre>List&lt;T&gt; items;</pre> in my class, and I check if the class type is \"Locality\" by</p>\n\n<pre>if (items.get(0) instanceof Locality) ...\n</pre>\n\n<p>Of course, this only works if the total number of possible classes is limited.</p>\n"},{"tags":[],"owner":{"account_id":1230408,"reputation":6991,"user_id":1195139,"accept_rate":76,"display_name":"Ben Thurley"},"down_vote_count":3,"up_vote_count":316,"is_accepted":false,"score":313,"last_activity_date":1689276562,"creation_date":1328739249,"answer_id":9202329,"question_id":3437897,"body_markdown":"I was looking for a way to do this myself without adding an extra dependency to the classpath. After some investigation I found that it ***is*** possible as long as you have a generic supertype with a non-generic subclass. This was OK for me as I was working with a [DAO][1] layer with a generic layer supertype. If this fits your scenario then it&#39;s the neatest approach IMHO.\r\n\r\nMost generics use cases I&#39;ve come across have some kind of generic supertype e.g. `List&lt;T&gt;` for `ArrayList&lt;T&gt;` or `GenericDAO&lt;T&gt;` for `DAO&lt;T&gt;`, etc.\r\n\r\n### Pure Java solution\r\n\r\nThe article *[Accessing generic types at runtime in Java][2]* explains how you can do it using pure Java.\r\n\r\n    @SuppressWarnings(&quot;unchecked&quot;)\r\n    public Class reflectClassType() {\r\n      return ((Class) ((ParameterizedType) getClass()\r\n          .getGenericSuperclass()).getActualTypeArguments()[0]);\r\n    }\r\n\r\nThere are several limitations with this code. It will not work in all cases involving several levels of abstraction, or when your type is an array (e.g. `int[]`). For a more complete solution that extends this for more cases, [see this article](https://www.artima.com/weblogs/viewpost.jsp?thread=208860).\r\n\r\nNote again that this method only works with a non-generic/raw subclass. If you try to do this with a generic class, the type arguments will be unresolved, generic `TypeVariableImpl` objects still, whose class is `null`. For example:\r\n\r\n```java\r\nclass Generic&lt;T&gt;{\r\n    @SuppressWarnings(&quot;unchecked&quot;)\r\n    public Class reflectClassType() {\r\n      return ((Class) ((ParameterizedType) getClass()\r\n          .getGenericSuperclass()).getActualTypeArguments()[0]);\r\n    }\r\n}\r\n\r\nclass ChildGeneric&lt;T&gt; extends Generic&lt;T&gt;{}\r\nclass ChildString extends Generic&lt;String&gt;{}\r\n\r\n// Error! Won&#39;t work, since the subclass is generic\r\nnew ChildGeneric&lt;String&gt;().reflectClassType();\r\n// Works; we create an anonymous, trivial, non-generic subclass\r\nnew ChildGeneric&lt;String&gt;(){}.reflectClsasType();\r\n// Works; we create an explicit non-generic subclass\r\nnew ChildString().reflectClassType(); // okay\r\n```\r\n\r\n### Spring solution\r\n\r\n[Spring][3] provides a utility class [GenericTypeResolver](https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/core/GenericTypeResolver.html), which implements a more robust version of this technique. It comes with its own subtle limitations. In general, it will only work if the called for a non-generic class.\r\n\r\nMy project was using Spring so is the best approach for me as it looks neatest. I guess if you weren&#39;t using Spring you could write your own utility method.\r\n\r\n    import org.springframework.core.GenericTypeResolver;\r\n\r\n    public abstract class AbstractHibernateDao&lt;T extends DomainObject&gt; implements DataAccessObject&lt;T&gt;\r\n    {\r\n\r\n        @Autowired\r\n        private SessionFactory sessionFactory;\r\n\r\n        private final Class&lt;T&gt; genericType;\r\n\r\n        private final String RECORD_COUNT_HQL;\r\n        private final String FIND_ALL_HQL;\r\n\r\n        @SuppressWarnings(&quot;unchecked&quot;)\r\n        public AbstractHibernateDao()\r\n        {\r\n            this.genericType = (Class&lt;T&gt;) GenericTypeResolver.resolveTypeArgument(getClass(), AbstractHibernateDao.class);\r\n            this.RECORD_COUNT_HQL = &quot;select count(*) from &quot; + this.genericType.getName();\r\n            this.FIND_ALL_HQL = &quot;from &quot; + this.genericType.getName() + &quot; t &quot;;\r\n        }\r\n\r\n### Full code example\r\n\r\nSome people are struggling in the comments to get this working so I wrote a small application to show both approaches in action.\r\nhttps://github.com/benthurley82/generic-type-resolver-test\r\n\r\nNote that in this code, the non-generic `Foo` subclass has a generic superclass `AbstractFoo`:\r\n\r\n```java\r\npublic class Foo extends AbstractFoo&lt;GenericType&gt;\r\n```\r\n\r\nwhich is what allows this method to work.\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Data_access_object\r\n  [2]: https://web.archive.org/web/20180124022935/http://blog.xebia.com/acessing-generic-types-at-runtime-in-java/\r\n  [3]: http://en.wikipedia.org/wiki/Spring_Framework\r\n","title":"How do I get a class instance of generic type T?","body":"<p>I was looking for a way to do this myself without adding an extra dependency to the classpath. After some investigation I found that it <em><strong>is</strong></em> possible as long as you have a generic supertype with a non-generic subclass. This was OK for me as I was working with a <a href=\"http://en.wikipedia.org/wiki/Data_access_object\" rel=\"nofollow noreferrer\">DAO</a> layer with a generic layer supertype. If this fits your scenario then it's the neatest approach IMHO.</p>\n<p>Most generics use cases I've come across have some kind of generic supertype e.g. <code>List&lt;T&gt;</code> for <code>ArrayList&lt;T&gt;</code> or <code>GenericDAO&lt;T&gt;</code> for <code>DAO&lt;T&gt;</code>, etc.</p>\n<h3>Pure Java solution</h3>\n<p>The article <em><a href=\"https://web.archive.org/web/20180124022935/http://blog.xebia.com/acessing-generic-types-at-runtime-in-java/\" rel=\"nofollow noreferrer\">Accessing generic types at runtime in Java</a></em> explains how you can do it using pure Java.</p>\n<pre><code>@SuppressWarnings(&quot;unchecked&quot;)\npublic Class reflectClassType() {\n  return ((Class) ((ParameterizedType) getClass()\n      .getGenericSuperclass()).getActualTypeArguments()[0]);\n}\n</code></pre>\n<p>There are several limitations with this code. It will not work in all cases involving several levels of abstraction, or when your type is an array (e.g. <code>int[]</code>). For a more complete solution that extends this for more cases, <a href=\"https://www.artima.com/weblogs/viewpost.jsp?thread=208860\" rel=\"nofollow noreferrer\">see this article</a>.</p>\n<p>Note again that this method only works with a non-generic/raw subclass. If you try to do this with a generic class, the type arguments will be unresolved, generic <code>TypeVariableImpl</code> objects still, whose class is <code>null</code>. For example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>class Generic&lt;T&gt;{\n    @SuppressWarnings(&quot;unchecked&quot;)\n    public Class reflectClassType() {\n      return ((Class) ((ParameterizedType) getClass()\n          .getGenericSuperclass()).getActualTypeArguments()[0]);\n    }\n}\n\nclass ChildGeneric&lt;T&gt; extends Generic&lt;T&gt;{}\nclass ChildString extends Generic&lt;String&gt;{}\n\n// Error! Won't work, since the subclass is generic\nnew ChildGeneric&lt;String&gt;().reflectClassType();\n// Works; we create an anonymous, trivial, non-generic subclass\nnew ChildGeneric&lt;String&gt;(){}.reflectClsasType();\n// Works; we create an explicit non-generic subclass\nnew ChildString().reflectClassType(); // okay\n</code></pre>\n<h3>Spring solution</h3>\n<p><a href=\"http://en.wikipedia.org/wiki/Spring_Framework\" rel=\"nofollow noreferrer\">Spring</a> provides a utility class <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/core/GenericTypeResolver.html\" rel=\"nofollow noreferrer\">GenericTypeResolver</a>, which implements a more robust version of this technique. It comes with its own subtle limitations. In general, it will only work if the called for a non-generic class.</p>\n<p>My project was using Spring so is the best approach for me as it looks neatest. I guess if you weren't using Spring you could write your own utility method.</p>\n<pre><code>import org.springframework.core.GenericTypeResolver;\n\npublic abstract class AbstractHibernateDao&lt;T extends DomainObject&gt; implements DataAccessObject&lt;T&gt;\n{\n\n    @Autowired\n    private SessionFactory sessionFactory;\n\n    private final Class&lt;T&gt; genericType;\n\n    private final String RECORD_COUNT_HQL;\n    private final String FIND_ALL_HQL;\n\n    @SuppressWarnings(&quot;unchecked&quot;)\n    public AbstractHibernateDao()\n    {\n        this.genericType = (Class&lt;T&gt;) GenericTypeResolver.resolveTypeArgument(getClass(), AbstractHibernateDao.class);\n        this.RECORD_COUNT_HQL = &quot;select count(*) from &quot; + this.genericType.getName();\n        this.FIND_ALL_HQL = &quot;from &quot; + this.genericType.getName() + &quot; t &quot;;\n    }\n</code></pre>\n<h3>Full code example</h3>\n<p>Some people are struggling in the comments to get this working so I wrote a small application to show both approaches in action.\n<a href=\"https://github.com/benthurley82/generic-type-resolver-test\" rel=\"nofollow noreferrer\">https://github.com/benthurley82/generic-type-resolver-test</a></p>\n<p>Note that in this code, the non-generic <code>Foo</code> subclass has a generic superclass <code>AbstractFoo</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Foo extends AbstractFoo&lt;GenericType&gt;\n</code></pre>\n<p>which is what allows this method to work.</p>\n"},{"tags":[],"owner":{"account_id":1179380,"reputation":1392,"user_id":1154664,"accept_rate":75,"display_name":"user1154664"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1402011398,"creation_date":1350787269,"answer_id":12994468,"question_id":3437897,"body_markdown":"I had this problem in an abstract generic class. In this particular case, the solution is simpler:\r\n\r\n    abstract class Foo&lt;T&gt; {\r\n        abstract Class&lt;T&gt; getTClass();\r\n        //...\r\n    }\r\n\r\nand later on the derived class:\r\n\r\n    class Bar extends Foo&lt;Whatever&gt; {\r\n    \t@Override\r\n    \tClass&lt;T&gt; getTClass() {\r\n    \t\treturn Whatever.class;\r\n    \t}\r\n    }","title":"How do I get a class instance of generic type T?","body":"<p>I had this problem in an abstract generic class. In this particular case, the solution is simpler:</p>\n\n<pre><code>abstract class Foo&lt;T&gt; {\n    abstract Class&lt;T&gt; getTClass();\n    //...\n}\n</code></pre>\n\n<p>and later on the derived class:</p>\n\n<pre><code>class Bar extends Foo&lt;Whatever&gt; {\n    @Override\n    Class&lt;T&gt; getTClass() {\n        return Whatever.class;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":105176,"reputation":13693,"user_id":280783,"accept_rate":91,"display_name":"Peter Tseng"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1583766903,"creation_date":1358457752,"answer_id":14388385,"question_id":3437897,"body_markdown":"It&#39;s possible:\r\n\r\n    class Foo&lt;T&gt; {\r\n      Class&lt;T&gt; clazz = (Class&lt;T&gt;) DAOUtil.getTypeArguments(Foo.class, this.getClass()).get(0);\r\n    }\r\n\r\nYou need two functions from [hibernate-generic-dao/blob/master/dao/src/main/java/com/googlecode/genericdao/dao/DAOUtil.java][1].\r\n\r\nFor more explanations, see *[Reflecting generics][2]*.\r\n\r\n  [1]: https://github.com/based2/hibernate-generic-dao/blob/master/dao/src/main/java/com/googlecode/genericdao/dao/DAOUtil.java\r\n\r\n  [2]: http://www.artima.com/weblogs/viewpost.jsp?thread=208860\r\n","title":"How do I get a class instance of generic type T?","body":"<p>It's possible:</p>\n\n<pre><code>class Foo&lt;T&gt; {\n  Class&lt;T&gt; clazz = (Class&lt;T&gt;) DAOUtil.getTypeArguments(Foo.class, this.getClass()).get(0);\n}\n</code></pre>\n\n<p>You need two functions from <a href=\"https://github.com/based2/hibernate-generic-dao/blob/master/dao/src/main/java/com/googlecode/genericdao/dao/DAOUtil.java\" rel=\"nofollow noreferrer\">hibernate-generic-dao/blob/master/dao/src/main/java/com/googlecode/genericdao/dao/DAOUtil.java</a>.</p>\n\n<p>For more explanations, see <em><a href=\"http://www.artima.com/weblogs/viewpost.jsp?thread=208860\" rel=\"nofollow noreferrer\">Reflecting generics</a></em>.</p>\n"},{"tags":[],"owner":{"account_id":1699585,"reputation":5882,"user_id":1560067,"accept_rate":95,"display_name":"droidpl"},"down_vote_count":0,"up_vote_count":23,"is_accepted":false,"score":23,"last_activity_date":1419417127,"creation_date":1395876037,"answer_id":22675121,"question_id":3437897,"body_markdown":"Imagine you have an abstract superclass that is generic:\r\n\r\n    public abstract class Foo&lt;? extends T&gt; {}\r\n\r\nAnd then you have a second class that extends Foo with a generic Bar that extends T:\r\n\r\n    public class Second extends Foo&lt;Bar&gt; {}\r\n\r\nYou can get the class `Bar.class` in the Foo class by selecting the `Type` (from bert bruynooghe answer) and infering it using `Class` instance:\r\n\r\n    Type mySuperclass = myFoo.getClass().getGenericSuperclass();\r\n    Type tType = ((ParameterizedType)mySuperclass).getActualTypeArguments()[0];\r\n    //Parse it as String\r\n    String className = tType.toString().split(&quot; &quot;)[1];\r\n    Class clazz = Class.forName(className);\r\n\r\nYou have to note this operation is not ideal, so it is a good idea to cache the computed value to avoid multiple calculations on this. One of the typical uses is in generic DAO implementation. \r\n\r\nThe final implementation:\r\n\r\n    public abstract class Foo&lt;T&gt; {\r\n    \r\n        private Class&lt;T&gt; inferedClass;\r\n    \r\n        public Class&lt;T&gt; getGenericClass(){\r\n            if(inferedClass == null){\r\n                Type mySuperclass = getClass().getGenericSuperclass();\r\n                Type tType = ((ParameterizedType)mySuperclass).getActualTypeArguments()[0];\r\n                String className = tType.toString().split(&quot; &quot;)[1];\r\n                inferedClass = Class.forName(className);\r\n            }\r\n            return inferedClass;\r\n        }\r\n    }\r\n\r\nThe value returned is Bar.class when invoked from Foo class in other function or from Bar class.","title":"How do I get a class instance of generic type T?","body":"<p>Imagine you have an abstract superclass that is generic:</p>\n\n<pre><code>public abstract class Foo&lt;? extends T&gt; {}\n</code></pre>\n\n<p>And then you have a second class that extends Foo with a generic Bar that extends T:</p>\n\n<pre><code>public class Second extends Foo&lt;Bar&gt; {}\n</code></pre>\n\n<p>You can get the class <code>Bar.class</code> in the Foo class by selecting the <code>Type</code> (from bert bruynooghe answer) and infering it using <code>Class</code> instance:</p>\n\n<pre><code>Type mySuperclass = myFoo.getClass().getGenericSuperclass();\nType tType = ((ParameterizedType)mySuperclass).getActualTypeArguments()[0];\n//Parse it as String\nString className = tType.toString().split(\" \")[1];\nClass clazz = Class.forName(className);\n</code></pre>\n\n<p>You have to note this operation is not ideal, so it is a good idea to cache the computed value to avoid multiple calculations on this. One of the typical uses is in generic DAO implementation. </p>\n\n<p>The final implementation:</p>\n\n<pre><code>public abstract class Foo&lt;T&gt; {\n\n    private Class&lt;T&gt; inferedClass;\n\n    public Class&lt;T&gt; getGenericClass(){\n        if(inferedClass == null){\n            Type mySuperclass = getClass().getGenericSuperclass();\n            Type tType = ((ParameterizedType)mySuperclass).getActualTypeArguments()[0];\n            String className = tType.toString().split(\" \")[1];\n            inferedClass = Class.forName(className);\n        }\n        return inferedClass;\n    }\n}\n</code></pre>\n\n<p>The value returned is Bar.class when invoked from Foo class in other function or from Bar class.</p>\n"},{"tags":[],"owner":{"account_id":536658,"reputation":6119,"user_id":905544,"display_name":"Abel ANEIROS"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1396442755,"creation_date":1396442755,"answer_id":22811963,"question_id":3437897,"body_markdown":"       \r\n       public &lt;T&gt; T yourMethodSignature(Class&lt;T&gt; type) {\r\n           \r\n            // get some object and check the type match the given type\r\n            Object result = ...            \r\n\r\n            if (type.isAssignableFrom(result.getClass())) {\r\n                return (T)result;\r\n            } else {\r\n                // handle the error\r\n            }\r\n       }\r\n","title":"How do I get a class instance of generic type T?","body":"<pre><code>   public &lt;T&gt; T yourMethodSignature(Class&lt;T&gt; type) {\n\n        // get some object and check the type match the given type\n        Object result = ...            \n\n        if (type.isAssignableFrom(result.getClass())) {\n            return (T)result;\n        } else {\n            // handle the error\n        }\n   }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5964676,"reputation":430,"user_id":4688730,"display_name":"Yaroslav Kovbas"},"down_vote_count":2,"up_vote_count":25,"is_accepted":false,"score":23,"last_activity_date":1529225759,"creation_date":1448881772,"answer_id":33997207,"question_id":3437897,"body_markdown":"Here is a working solution:\r\n\r\n    @SuppressWarnings(&quot;unchecked&quot;)\r\n    private&#160;Class&lt;T&gt; getGenericTypeClass() {\r\n    &#160;&#160;&#160;&#160;try&#160;{\r\n    &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;String className = ((ParameterizedType) getClass().getGenericSuperclass()).getActualTypeArguments()[0].getTypeName();\r\n    &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;Class&lt;?&gt; clazz = Class.forName(className);\r\n    &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;return&#160;(Class&lt;T&gt;) clazz;\r\n    &#160;&#160;&#160;&#160;}&#160;catch&#160;(Exception e) {\r\n    &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;throw new&#160;IllegalStateException(&quot;Class is not parametrized with generic type!!! Please use extends &lt;&gt; &quot;);\r\n    &#160;&#160;&#160;&#160;}\r\n    } \r\n\r\nNOTES:\r\n**Can be used only as superclass**\r\n\r\n 1. Has to be extended with typed class  (`Child extends Generic&lt;Integer&gt;`)\r\n\r\n***OR***\r\n\r\n 2. Has to be created as anonymous implementation (`new Generic&lt;Integer&gt;() {};`)   ","title":"How do I get a class instance of generic type T?","body":"<p>Here is a working solution:</p>\n\n<pre><code>@SuppressWarnings(\"unchecked\")\nprivateClass&lt;T&gt; getGenericTypeClass() {\ntry{\nString className = ((ParameterizedType) getClass().getGenericSuperclass()).getActualTypeArguments()[0].getTypeName();\nClass&lt;?&gt; clazz = Class.forName(className);\nreturn(Class&lt;T&gt;) clazz;\n}catch(Exception e) {\nthrow newIllegalStateException(\"Class is not parametrized with generic type!!! Please use extends &lt;&gt; \");\n}\n} \n</code></pre>\n\n<p>NOTES:\n<strong>Can be used only as superclass</strong></p>\n\n<ol>\n<li>Has to be extended with typed class  (<code>Child extends Generic&lt;Integer&gt;</code>)</li>\n</ol>\n\n<p><strong><em>OR</em></strong></p>\n\n<ol start=\"2\">\n<li>Has to be created as anonymous implementation (<code>new Generic&lt;Integer&gt;() {};</code>)   </li>\n</ol>\n"},{"tags":[],"owner":{"account_id":5100890,"reputation":2796,"user_id":4090550,"display_name":"Anil Agrawal"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1480934637,"creation_date":1480934637,"answer_id":40972358,"question_id":3437897,"body_markdown":"If you are extending or implementing any class/interface that are using generics , you may get the Generic Type of parent class/interface, without modifying any existing class/interface at all.\r\n\r\nThere could be three possibilities, \r\n\r\n**Case 1**\r\nWhen your class is extending a class that is using Generics\r\n\r\n    public class TestGenerics {\r\n    \tpublic static void main(String[] args) {\r\n    \t\tType type = TestMySuperGenericType.class.getGenericSuperclass();\r\n    \t\tType[] gTypes = ((ParameterizedType)type).getActualTypeArguments();\r\n\t\t\tfor(Type gType : gTypes){\r\n    \t\t\tSystem.out.println(&quot;Generic type:&quot;+gType.toString());\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\n    class GenericClass&lt;T&gt; {\r\n    \tpublic void print(T obj){};\r\n    }\r\n\r\n    class TestMySuperGenericType extends GenericClass&lt;Integer&gt; {\r\n    }\r\n\r\n**Case 2**\r\nWhen your class is implementing an interface that is using Generics\r\n\r\n    public class TestGenerics {\r\n        public static void main(String[] args) {\r\n\t\t\tType[] interfaces = TestMySuperGenericType.class.getGenericInterfaces();\r\n            for(Type type : interfaces){\r\n\t\t\t\tType[] gTypes = ((ParameterizedType)type).getActualTypeArguments();\r\n\t\t\t\tfor(Type gType : gTypes){\r\n\t\t\t\t\tSystem.out.println(&quot;Generic type:&quot;+gType.toString());\r\n\t\t\t\t}\r\n            }\r\n        }\r\n    }\r\n\r\n    interface GenericClass&lt;T&gt; {\r\n        public void print(T obj);\r\n    }\r\n\r\n    class TestMySuperGenericType implements GenericClass&lt;Integer&gt; {\r\n    \tpublic void print(Integer obj){}\r\n    }\r\n\r\n**Case 3**\r\nWhen your interface is extending an interface that is using Generics\r\n\r\n    public class TestGenerics {\r\n        public static void main(String[] args) {\r\n\t\t\tType[] interfaces = TestMySuperGenericType.class.getGenericInterfaces();\r\n            for(Type type : interfaces){\r\n\t\t\t\tType[] gTypes = ((ParameterizedType)type).getActualTypeArguments();\r\n\t\t\t\tfor(Type gType : gTypes){\r\n\t\t\t\t\tSystem.out.println(&quot;Generic type:&quot;+gType.toString());\r\n\t\t\t\t}\r\n            }\r\n        }\r\n    }\r\n\r\n    interface GenericClass&lt;T&gt; {\r\n        public void print(T obj);\r\n    }\r\n\r\n    interface TestMySuperGenericType extends GenericClass&lt;Integer&gt; {\r\n    }","title":"How do I get a class instance of generic type T?","body":"<p>If you are extending or implementing any class/interface that are using generics , you may get the Generic Type of parent class/interface, without modifying any existing class/interface at all.</p>\n\n<p>There could be three possibilities, </p>\n\n<p><strong>Case 1</strong>\nWhen your class is extending a class that is using Generics</p>\n\n<pre><code>public class TestGenerics {\n    public static void main(String[] args) {\n        Type type = TestMySuperGenericType.class.getGenericSuperclass();\n        Type[] gTypes = ((ParameterizedType)type).getActualTypeArguments();\n        for(Type gType : gTypes){\n            System.out.println(\"Generic type:\"+gType.toString());\n        }\n    }\n}\n\nclass GenericClass&lt;T&gt; {\n    public void print(T obj){};\n}\n\nclass TestMySuperGenericType extends GenericClass&lt;Integer&gt; {\n}\n</code></pre>\n\n<p><strong>Case 2</strong>\nWhen your class is implementing an interface that is using Generics</p>\n\n<pre><code>public class TestGenerics {\n    public static void main(String[] args) {\n        Type[] interfaces = TestMySuperGenericType.class.getGenericInterfaces();\n        for(Type type : interfaces){\n            Type[] gTypes = ((ParameterizedType)type).getActualTypeArguments();\n            for(Type gType : gTypes){\n                System.out.println(\"Generic type:\"+gType.toString());\n            }\n        }\n    }\n}\n\ninterface GenericClass&lt;T&gt; {\n    public void print(T obj);\n}\n\nclass TestMySuperGenericType implements GenericClass&lt;Integer&gt; {\n    public void print(Integer obj){}\n}\n</code></pre>\n\n<p><strong>Case 3</strong>\nWhen your interface is extending an interface that is using Generics</p>\n\n<pre><code>public class TestGenerics {\n    public static void main(String[] args) {\n        Type[] interfaces = TestMySuperGenericType.class.getGenericInterfaces();\n        for(Type type : interfaces){\n            Type[] gTypes = ((ParameterizedType)type).getActualTypeArguments();\n            for(Type gType : gTypes){\n                System.out.println(\"Generic type:\"+gType.toString());\n            }\n        }\n    }\n}\n\ninterface GenericClass&lt;T&gt; {\n    public void print(T obj);\n}\n\ninterface TestMySuperGenericType extends GenericClass&lt;Integer&gt; {\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3457181,"reputation":762,"user_id":2895411,"display_name":"nikolai.serdiuk"},"down_vote_count":4,"up_vote_count":0,"is_accepted":false,"score":-4,"last_activity_date":1498553127,"creation_date":1498553127,"answer_id":44775848,"question_id":3437897,"body_markdown":"I&#39;m using workaround for this:\r\n\r\n    class MyClass extends Foo&lt;T&gt; {\r\n    ....\r\n    }\r\n    \r\n    MyClass myClassInstance = MyClass.class.newInstance();","title":"How do I get a class instance of generic type T?","body":"<p>I'm using workaround for this:</p>\n\n<pre><code>class MyClass extends Foo&lt;T&gt; {\n....\n}\n\nMyClass myClassInstance = MyClass.class.newInstance();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3328167,"reputation":535,"user_id":2797663,"accept_rate":100,"display_name":"Riaan Schutte"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1505876484,"creation_date":1505875444,"answer_id":46312408,"question_id":3437897,"body_markdown":"As explained in other answers, to use this `ParameterizedType` approach, you need to extend the class, but that seems like extra work to make a whole new class that extends it...\r\n\r\nSo, making the class abstract it forces you to extend it, thus satisfying the subclassing requirement. (using lombok&#39;s @Getter).\r\n\r\n    @Getter\r\n    public abstract class ConfigurationDefinition&lt;T&gt; {\r\n    \r\n        private Class&lt;T&gt; type;\r\n        ...\r\n\r\n        public ConfigurationDefinition(...) {\r\n            this.type = (Class&lt;T&gt;) ((ParameterizedType) this.getClass().getGenericSuperclass()).getActualTypeArguments()[0];\r\n            ...\r\n        }\r\n    }\r\n\r\nNow to extend it without defining a new class. (Note the {} on the end... extended, but don&#39;t overwrite anything - unless you want to).\r\n\r\n    private ConfigurationDefinition&lt;String&gt; myConfigA = new ConfigurationDefinition&lt;String&gt;(...){};\r\n    private ConfigurationDefinition&lt;File&gt; myConfigB = new ConfigurationDefinition&lt;File&gt;(...){};\r\n    ...\r\n    Class stringType = myConfigA.getType();\r\n    Class fileType = myConfigB.getType();","title":"How do I get a class instance of generic type T?","body":"<p>As explained in other answers, to use this <code>ParameterizedType</code> approach, you need to extend the class, but that seems like extra work to make a whole new class that extends it...</p>\n\n<p>So, making the class abstract it forces you to extend it, thus satisfying the subclassing requirement. (using lombok's @Getter).</p>\n\n<pre><code>@Getter\npublic abstract class ConfigurationDefinition&lt;T&gt; {\n\n    private Class&lt;T&gt; type;\n    ...\n\n    public ConfigurationDefinition(...) {\n        this.type = (Class&lt;T&gt;) ((ParameterizedType) this.getClass().getGenericSuperclass()).getActualTypeArguments()[0];\n        ...\n    }\n}\n</code></pre>\n\n<p>Now to extend it without defining a new class. (Note the {} on the end... extended, but don't overwrite anything - unless you want to).</p>\n\n<pre><code>private ConfigurationDefinition&lt;String&gt; myConfigA = new ConfigurationDefinition&lt;String&gt;(...){};\nprivate ConfigurationDefinition&lt;File&gt; myConfigB = new ConfigurationDefinition&lt;File&gt;(...){};\n...\nClass stringType = myConfigA.getType();\nClass fileType = myConfigB.getType();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4835872,"reputation":2833,"user_id":3902603,"accept_rate":76,"display_name":"unknown6656"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1661069200,"creation_date":1510035634,"answer_id":47151206,"question_id":3437897,"body_markdown":"# Actually, it _is_ possible (_without_ external libraries!)\r\n\r\nThe following is my (ugly, yet effective) solution for this problem:\r\n\r\n    import java.lang.reflect.TypeVariable;\r\n\r\n\r\n    public static &lt;T&gt; Class&lt;T&gt; getGenericClass() {\r\n        __&lt;T&gt; instance = new __&lt;T&gt;();\r\n        TypeVariable&lt;?&gt;[] parameters = instance.getClass().getTypeParameters(); \r\n\r\n        return (Class&lt;T&gt;)parameters[0].getClass();\r\n    }\r\n    \r\n    // Generic helper class which (only) provides type information. This avoids the\r\n    //   usage of a local variable of type T, which would have to be initialized.\r\n    private final class __&lt;T&gt; {\r\n        private __() { }\r\n    }","title":"How do I get a class instance of generic type T?","body":"<h1>Actually, it <em>is</em> possible (<em>without</em> external libraries!)</h1>\n<p>The following is my (ugly, yet effective) solution for this problem:</p>\n<pre><code>import java.lang.reflect.TypeVariable;\n\n\npublic static &lt;T&gt; Class&lt;T&gt; getGenericClass() {\n    __&lt;T&gt; instance = new __&lt;T&gt;();\n    TypeVariable&lt;?&gt;[] parameters = instance.getClass().getTypeParameters(); \n\n    return (Class&lt;T&gt;)parameters[0].getClass();\n}\n\n// Generic helper class which (only) provides type information. This avoids the\n//   usage of a local variable of type T, which would have to be initialized.\nprivate final class __&lt;T&gt; {\n    private __() { }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12608377,"reputation":343,"user_id":9168450,"display_name":"Juan Urrego"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1514989261,"creation_date":1514988646,"answer_id":48079056,"question_id":3437897,"body_markdown":"I found a generic and simple way to do that. In my class I created a method that returns the generic type according to it&#39;s position in the class definition. Let&#39;s assume a class definition like this:\r\n\r\n    public class MyClass&lt;A, B, C&gt; {\r\n    \r\n    }\r\n\r\nNow let&#39;s create some attributes to persist the types:\r\n\r\n    public class MyClass&lt;A, B, C&gt; {\r\n    \r\n        private Class&lt;A&gt; aType;\r\n    \r\n        private Class&lt;B&gt; bType;\r\n    \r\n        private Class&lt;C&gt; cType;\r\n    \r\n    // Getters and setters (not necessary if you are going to use them internally)\r\n        \r\n        } \r\n\r\nThen you can create a generic method that returns the type based on the index of the generic definition:\r\n\r\n       /**\r\n         * Returns a {@link Type} object to identify generic types\r\n         * @return type\r\n         */\r\n        private Type getGenericClassType(int index) {\r\n            // To make it use generics without supplying the class type\r\n            Type type = getClass().getGenericSuperclass();\r\n    \r\n            while (!(type instanceof ParameterizedType)) {\r\n                if (type instanceof ParameterizedType) {\r\n                    type = ((Class&lt;?&gt;) ((ParameterizedType) type).getRawType()).getGenericSuperclass();\r\n                } else {\r\n                    type = ((Class&lt;?&gt;) type).getGenericSuperclass();\r\n                }\r\n            }\r\n    \r\n            return ((ParameterizedType) type).getActualTypeArguments()[index];\r\n        }\r\nFinally, in the constructor just call the method and send the index for each type. The complete code should look like:\r\n\r\n    public class MyClass&lt;A, B, C&gt; {\r\n    \r\n        private Class&lt;A&gt; aType;\r\n    \r\n        private Class&lt;B&gt; bType;\r\n    \r\n        private Class&lt;C&gt; cType;\r\n    \r\n    \r\n        public MyClass() {\r\n          this.aType = (Class&lt;A&gt;) getGenericClassType(0);\r\n          this.bType = (Class&lt;B&gt;) getGenericClassType(1);\r\n          this.cType = (Class&lt;C&gt;) getGenericClassType(2);\r\n        }\r\n\r\n       /**\r\n         * Returns a {@link Type} object to identify generic types\r\n         * @return type\r\n         */\r\n        private Type getGenericClassType(int index) {\r\n            \r\n            Type type = getClass().getGenericSuperclass();\r\n    \r\n            while (!(type instanceof ParameterizedType)) {\r\n                if (type instanceof ParameterizedType) {\r\n                    type = ((Class&lt;?&gt;) ((ParameterizedType) type).getRawType()).getGenericSuperclass();\r\n                } else {\r\n                    type = ((Class&lt;?&gt;) type).getGenericSuperclass();\r\n                }\r\n            }\r\n    \r\n            return ((ParameterizedType) type).getActualTypeArguments()[index];\r\n        }\r\n    }\r\n\r\n","title":"How do I get a class instance of generic type T?","body":"<p>I found a generic and simple way to do that. In my class I created a method that returns the generic type according to it's position in the class definition. Let's assume a class definition like this:</p>\n\n<pre><code>public class MyClass&lt;A, B, C&gt; {\n\n}\n</code></pre>\n\n<p>Now let's create some attributes to persist the types:</p>\n\n<pre><code>public class MyClass&lt;A, B, C&gt; {\n\n    private Class&lt;A&gt; aType;\n\n    private Class&lt;B&gt; bType;\n\n    private Class&lt;C&gt; cType;\n\n// Getters and setters (not necessary if you are going to use them internally)\n\n    } \n</code></pre>\n\n<p>Then you can create a generic method that returns the type based on the index of the generic definition:</p>\n\n<pre><code>   /**\n     * Returns a {@link Type} object to identify generic types\n     * @return type\n     */\n    private Type getGenericClassType(int index) {\n        // To make it use generics without supplying the class type\n        Type type = getClass().getGenericSuperclass();\n\n        while (!(type instanceof ParameterizedType)) {\n            if (type instanceof ParameterizedType) {\n                type = ((Class&lt;?&gt;) ((ParameterizedType) type).getRawType()).getGenericSuperclass();\n            } else {\n                type = ((Class&lt;?&gt;) type).getGenericSuperclass();\n            }\n        }\n\n        return ((ParameterizedType) type).getActualTypeArguments()[index];\n    }\n</code></pre>\n\n<p>Finally, in the constructor just call the method and send the index for each type. The complete code should look like:</p>\n\n<pre><code>public class MyClass&lt;A, B, C&gt; {\n\n    private Class&lt;A&gt; aType;\n\n    private Class&lt;B&gt; bType;\n\n    private Class&lt;C&gt; cType;\n\n\n    public MyClass() {\n      this.aType = (Class&lt;A&gt;) getGenericClassType(0);\n      this.bType = (Class&lt;B&gt;) getGenericClassType(1);\n      this.cType = (Class&lt;C&gt;) getGenericClassType(2);\n    }\n\n   /**\n     * Returns a {@link Type} object to identify generic types\n     * @return type\n     */\n    private Type getGenericClassType(int index) {\n\n        Type type = getClass().getGenericSuperclass();\n\n        while (!(type instanceof ParameterizedType)) {\n            if (type instanceof ParameterizedType) {\n                type = ((Class&lt;?&gt;) ((ParameterizedType) type).getRawType()).getGenericSuperclass();\n            } else {\n                type = ((Class&lt;?&gt;) type).getGenericSuperclass();\n            }\n        }\n\n        return ((ParameterizedType) type).getActualTypeArguments()[index];\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5714780,"reputation":5395,"user_id":4515438,"accept_rate":0,"display_name":"Vahe Gharibyan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1565784320,"creation_date":1565784320,"answer_id":57494360,"question_id":3437897,"body_markdown":"This question is old, but now the best is use google `Gson`.\r\n\r\nAn example to get custom `viewModel`.\r\n\r\n    Class&lt;CustomViewModel&lt;String&gt;&gt; clazz = new GenericClass&lt;CustomViewModel&lt;String&gt;&gt;().getRawType();\r\n    CustomViewModel&lt;String&gt; viewModel = viewModelProvider.get(clazz);\r\n\r\n**Generic type class**\r\n\r\n    class GenericClass&lt;T&gt;(private val rawType: Class&lt;*&gt;) {\r\n    \r\n        constructor():this(`$Gson$Types`.getRawType(object : TypeToken&lt;T&gt;() {}.getType()))\r\n    \r\n        fun getRawType(): Class&lt;T&gt; {\r\n            return rawType as Class&lt;T&gt;\r\n        }\r\n    }","title":"How do I get a class instance of generic type T?","body":"<p>This question is old, but now the best is use google <code>Gson</code>.</p>\n\n<p>An example to get custom <code>viewModel</code>.</p>\n\n<pre><code>Class&lt;CustomViewModel&lt;String&gt;&gt; clazz = new GenericClass&lt;CustomViewModel&lt;String&gt;&gt;().getRawType();\nCustomViewModel&lt;String&gt; viewModel = viewModelProvider.get(clazz);\n</code></pre>\n\n<p><strong>Generic type class</strong></p>\n\n<pre><code>class GenericClass&lt;T&gt;(private val rawType: Class&lt;*&gt;) {\n\n    constructor():this(`$Gson$Types`.getRawType(object : TypeToken&lt;T&gt;() {}.getType()))\n\n    fun getRawType(): Class&lt;T&gt; {\n        return rawType as Class&lt;T&gt;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2922140,"reputation":482,"user_id":2504156,"accept_rate":70,"display_name":"Gana"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1567858951,"creation_date":1567858951,"answer_id":57833645,"question_id":3437897,"body_markdown":"That is pretty straight forward.\r\nIf you need from within the same class:\r\n\t\t\r\n\t\t\r\n\r\n    Class clazz = this.getClass();\r\n    ParameterizedType parameterizedType = (ParameterizedType) clazz.getGenericSuperclass();\r\n    try {\r\n    \t\tClass typeClass = Class.forName( parameterizedType.getActualTypeArguments()[0].getTypeName() );\r\n            // You have the instance of type &#39;T&#39; in typeClass variable\r\n    \t\t\t\r\n            System.out.println( &quot;Class instance name: &quot;+  typeClass.getName() );\r\n    \t} catch (ClassNotFoundException e) {\r\n    \t\tSystem.out.println( &quot;ClassNotFound!! Something wrong! &quot;+ e.getMessage() );\r\n    \t}\r\n\r\n","title":"How do I get a class instance of generic type T?","body":"<p>That is pretty straight forward.\nIf you need from within the same class:</p>\n\n<pre><code>Class clazz = this.getClass();\nParameterizedType parameterizedType = (ParameterizedType) clazz.getGenericSuperclass();\ntry {\n        Class typeClass = Class.forName( parameterizedType.getActualTypeArguments()[0].getTypeName() );\n        // You have the instance of type 'T' in typeClass variable\n\n        System.out.println( \"Class instance name: \"+  typeClass.getName() );\n    } catch (ClassNotFoundException e) {\n        System.out.println( \"ClassNotFound!! Something wrong! \"+ e.getMessage() );\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2481039,"reputation":2395,"user_id":2160507,"display_name":"Pontios"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1582371148,"creation_date":1582371148,"answer_id":60351745,"question_id":3437897,"body_markdown":"I assume that, since you have a generic class, you would have a variable like that:\r\n\r\n    private T t;\r\n*(this variable needs to take a value at the constructor)*\r\n\r\nIn that case you can simply create the following method:\r\n\r\n    Class&lt;T&gt; getClassOfInstance()\r\n    {\r\n    \treturn (Class&lt;T&gt;) t.getClass();\r\n    }\r\n\r\nHope it helps!","title":"How do I get a class instance of generic type T?","body":"<p>I assume that, since you have a generic class, you would have a variable like that:</p>\n\n<pre><code>private T t;\n</code></pre>\n\n<p><em>(this variable needs to take a value at the constructor)</em></p>\n\n<p>In that case you can simply create the following method:</p>\n\n<pre><code>Class&lt;T&gt; getClassOfInstance()\n{\n    return (Class&lt;T&gt;) t.getClass();\n}\n</code></pre>\n\n<p>Hope it helps!</p>\n"},{"tags":[],"owner":{"account_id":2909312,"reputation":662,"user_id":2493938,"display_name":"Madhu Tomy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1590268157,"creation_date":1590268157,"answer_id":61978602,"question_id":3437897,"body_markdown":"I wanted to pass T.class to a method which make use of Generics\r\n\r\nThe method **readFile** reads a .csv file specified by the fileName with fullpath. There can be csv files with different contents hence i need to pass the model file class so that i can get the appropriate objects. Since this is reading csv file i wanted to do in a generic way. For some reason or other none of the above solutions worked for me. I need to use \r\n`Class&lt;? extends T&gt; type` to make it work. I use opencsv library for parsing the CSV files.\r\n\r\n\r\n    private &lt;T&gt;List&lt;T&gt; readFile(String fileName, Class&lt;? extends T&gt; type) {\r\n\r\n        List&lt;T&gt; dataList = new ArrayList&lt;T&gt;();\r\n        try {\r\n            File file = new File(fileName);\r\n\r\n            Reader reader = new BufferedReader(new InputStreamReader(new FileInputStream(file)));\r\n            Reader headerReader = new BufferedReader(new InputStreamReader(new FileInputStream(file)));\r\n\r\n            CSVReader csvReader = new CSVReader(headerReader);\r\n            // create csv bean reader\r\n            CsvToBean&lt;T&gt; csvToBean = new CsvToBeanBuilder(reader)\r\n                    .withType(type)\r\n                    .withIgnoreLeadingWhiteSpace(true)\r\n                    .build();\r\n\r\n            dataList = csvToBean.parse();\r\n        }\r\n        catch (Exception ex) {\r\n            logger.error(&quot;Error: &quot;, ex);\r\n        }\r\n\r\n        return dataList;\r\n    }\r\n\r\n\r\nThis is how the readFile method is called\r\n\r\n    List&lt;RigSurfaceCSV&gt; rigSurfaceCSVDataList = readSurfaceFile(surfaceFileName, RigSurfaceCSV.class);","title":"How do I get a class instance of generic type T?","body":"<p>I wanted to pass T.class to a method which make use of Generics</p>\n\n<p>The method <strong>readFile</strong> reads a .csv file specified by the fileName with fullpath. There can be csv files with different contents hence i need to pass the model file class so that i can get the appropriate objects. Since this is reading csv file i wanted to do in a generic way. For some reason or other none of the above solutions worked for me. I need to use \n<code>Class&lt;? extends T&gt; type</code> to make it work. I use opencsv library for parsing the CSV files.</p>\n\n<pre><code>private &lt;T&gt;List&lt;T&gt; readFile(String fileName, Class&lt;? extends T&gt; type) {\n\n    List&lt;T&gt; dataList = new ArrayList&lt;T&gt;();\n    try {\n        File file = new File(fileName);\n\n        Reader reader = new BufferedReader(new InputStreamReader(new FileInputStream(file)));\n        Reader headerReader = new BufferedReader(new InputStreamReader(new FileInputStream(file)));\n\n        CSVReader csvReader = new CSVReader(headerReader);\n        // create csv bean reader\n        CsvToBean&lt;T&gt; csvToBean = new CsvToBeanBuilder(reader)\n                .withType(type)\n                .withIgnoreLeadingWhiteSpace(true)\n                .build();\n\n        dataList = csvToBean.parse();\n    }\n    catch (Exception ex) {\n        logger.error(\"Error: \", ex);\n    }\n\n    return dataList;\n}\n</code></pre>\n\n<p>This is how the readFile method is called</p>\n\n<pre><code>List&lt;RigSurfaceCSV&gt; rigSurfaceCSVDataList = readSurfaceFile(surfaceFileName, RigSurfaceCSV.class);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13053348,"reputation":824,"user_id":9432967,"display_name":"Omid.N"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1616015748,"creation_date":1603471808,"answer_id":64504193,"question_id":3437897,"body_markdown":"Many people don&#39;t know this trick! Actually, I just found it today! It works like a dream! Just check this example out:\r\n\r\n    public static void main(String[] args) {\r\n        Date d=new Date();  //Or anything you want!\r\n        printMethods(d);\r\n    }\r\n\r\n    public static &lt;T&gt; void printMethods(T t){\r\n        Class&lt;T&gt; clazz= (Class&lt;T&gt;) t.getClass(); // There you go!\r\n        for ( Method m : clazz.getMethods()){\r\n            System.out.println( m.getName() );\r\n        }\r\n    }","title":"How do I get a class instance of generic type T?","body":"<p>Many people don't know this trick! Actually, I just found it today! It works like a dream! Just check this example out:</p>\n<pre><code>public static void main(String[] args) {\n    Date d=new Date();  //Or anything you want!\n    printMethods(d);\n}\n\npublic static &lt;T&gt; void printMethods(T t){\n    Class&lt;T&gt; clazz= (Class&lt;T&gt;) t.getClass(); // There you go!\n    for ( Method m : clazz.getMethods()){\n        System.out.println( m.getName() );\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2691023,"reputation":16196,"user_id":2324388,"accept_rate":41,"display_name":"Marian Kl&#252;hspies"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1652971235,"creation_date":1652971235,"answer_id":72306581,"question_id":3437897,"body_markdown":"I&#39;ve created an example based on one of two most promising solutions here from this question.\r\n\r\nThe result is however **not so promising**, at least for my use case.\r\n\r\n\r\n**Only one approach is working**, but you **need a super class** containing the method and the **generic** has to be **set in the child class** and **cannot be assigned dynamically** (which my use case sadly is)\r\n\r\n\r\n```\r\n\r\nimport org.junit.jupiter.api.Test;\r\n\r\nimport java.lang.reflect.ParameterizedType;\r\nimport java.lang.reflect.Type;\r\n\r\nimport static org.junit.jupiter.api.Assertions.assertEquals;\r\nimport static org.junit.jupiter.api.Assertions.assertThrows;\r\n\r\n\r\npublic class GenericTest {\r\n\r\n    /**\r\n     * only this will work!\r\n     */\r\n    @Test\r\n    void testGetGenericTypeClassFromChildClassWithSpecifiedType() {\r\n        TestClassWithSpecifiedType parent = new TestClassWithSpecifiedType();\r\n        assertEquals(SomeGenericType.class, parent.getGenericTypeClass());\r\n    }\r\n\r\n    /**\r\n     * won&#39;t work!\r\n     */\r\n    @Test\r\n    void testGetGenericTypeClassFromChildClassWithUnspecifiedType() {\r\n        TestClassWithUnspecifiedType&lt;SomeGenericType&gt; parent = new TestClassWithUnspecifiedType&lt;&gt;();\r\n        assertThrows(IllegalStateException.class, parent::getGenericTypeClass);\r\n    }\r\n\r\n    /**\r\n     * won&#39;t work\r\n     */\r\n    @Test\r\n    void testGetGenericTypeClassWithUnspecifiedType() {\r\n        SomeGenericTypedClass&lt;SomeGenericType&gt; parent = new SomeGenericTypedClass&lt;&gt;();\r\n        assertThrows(IllegalStateException.class, parent::getGenericTypeClass);\r\n    }\r\n\r\n    /**\r\n     * won&#39;t work\r\n     * returns object instead!\r\n     */\r\n    @Test\r\n    void testGetLoadedClassFromObject() {\r\n        Foo&lt;SomeGenericType&gt; foo = new Foo&lt;&gt;();\r\n        Class&lt;?&gt; barClass = foo.getBarClass();\r\n        assertEquals(SomeGenericType.class, barClass);\r\n    }\r\n\r\n    /**\r\n     * A class that has specified the type parameter\r\n     */\r\n    public static class TestClassWithSpecifiedType extends AbstractGenericTypedClass&lt;SomeGenericType&gt; {\r\n\r\n    }\r\n\r\n    /**\r\n     * A class where the type parameter will be specified on demand\r\n     *\r\n     * @param &lt;T&gt;\r\n     */\r\n    public static class TestClassWithUnspecifiedType&lt;T&gt; extends AbstractGenericTypedClass&lt;T&gt; {\r\n\r\n    }\r\n\r\n    /**\r\n     * An abstract class, because otherwise finding the parameter will not work\r\n     */\r\n    @SuppressWarnings(&quot;unchecked&quot;)\r\n    public static abstract class AbstractGenericTypedClass&lt;T&gt; {\r\n        @SuppressWarnings(&quot;unchecked&quot;)\r\n        public Class&lt;T&gt; getGenericTypeClass() {\r\n            try {\r\n                String className = ((ParameterizedType) getClass().getGenericSuperclass()).getActualTypeArguments()[0].getTypeName();\r\n                Class&lt;?&gt; clazz = Class.forName(className);\r\n                return (Class&lt;T&gt;) clazz;\r\n            } catch (Exception e) {\r\n                throw new IllegalStateException(&quot;Class is not parametrized with generic type!!! Please use extends &lt;&gt; &quot;);\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * A typed class without abstract super class\r\n     *\r\n     * @param &lt;T&gt;\r\n     */\r\n    public static class SomeGenericTypedClass&lt;T&gt; {\r\n        @SuppressWarnings(&quot;unchecked&quot;)\r\n        public Class&lt;T&gt; getGenericTypeClass() {\r\n            try {\r\n                String className = ((ParameterizedType) getClass().getGenericSuperclass()).getActualTypeArguments()[0].getTypeName();\r\n                Class&lt;?&gt; clazz = Class.forName(className);\r\n                return (Class&lt;T&gt;) clazz;\r\n            } catch (Exception e) {\r\n                throw new IllegalStateException(&quot;Class is not parametrized with generic type!!! Please use extends &lt;&gt; &quot;);\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n    /**\r\n     * Some generic type - won&#39;t work with primitives such as String, Integer, Double!\r\n     */\r\n    public static class SomeGenericType {\r\n\r\n    }\r\n\r\n    public static class Foo&lt;T&gt; {\r\n        // The class:\r\n        private final Class&lt;?&gt; barClass;\r\n\r\n        public Foo() {\r\n            try {\r\n                // Im giving it [0] cuz Bar is the first TypeParam\r\n                Type[] bounds = getClass().getTypeParameters()[0].getBounds();\r\n                // Here, we get the class now:\r\n                barClass = Class.forName(bounds[0].getTypeName());\r\n            } catch (ClassNotFoundException e) {\r\n                // will never happen!\r\n                throw new Error(&quot;Something impossible happened!&quot;, e);\r\n            }\r\n        }\r\n\r\n        public Class&lt;?&gt; getBarClass() {\r\n            return barClass;\r\n        }\r\n    }\r\n}\r\n\r\n```\r\n\r\n\r\n&gt; I do not really understand why this has to be so complicated, but I bet there have to be some technical limitations for the dynamically setting of parameters.","title":"How do I get a class instance of generic type T?","body":"<p>I've created an example based on one of two most promising solutions here from this question.</p>\n<p>The result is however <strong>not so promising</strong>, at least for my use case.</p>\n<p><strong>Only one approach is working</strong>, but you <strong>need a super class</strong> containing the method and the <strong>generic</strong> has to be <strong>set in the child class</strong> and <strong>cannot be assigned dynamically</strong> (which my use case sadly is)</p>\n<pre><code>\nimport org.junit.jupiter.api.Test;\n\nimport java.lang.reflect.ParameterizedType;\nimport java.lang.reflect.Type;\n\nimport static org.junit.jupiter.api.Assertions.assertEquals;\nimport static org.junit.jupiter.api.Assertions.assertThrows;\n\n\npublic class GenericTest {\n\n    /**\n     * only this will work!\n     */\n    @Test\n    void testGetGenericTypeClassFromChildClassWithSpecifiedType() {\n        TestClassWithSpecifiedType parent = new TestClassWithSpecifiedType();\n        assertEquals(SomeGenericType.class, parent.getGenericTypeClass());\n    }\n\n    /**\n     * won't work!\n     */\n    @Test\n    void testGetGenericTypeClassFromChildClassWithUnspecifiedType() {\n        TestClassWithUnspecifiedType&lt;SomeGenericType&gt; parent = new TestClassWithUnspecifiedType&lt;&gt;();\n        assertThrows(IllegalStateException.class, parent::getGenericTypeClass);\n    }\n\n    /**\n     * won't work\n     */\n    @Test\n    void testGetGenericTypeClassWithUnspecifiedType() {\n        SomeGenericTypedClass&lt;SomeGenericType&gt; parent = new SomeGenericTypedClass&lt;&gt;();\n        assertThrows(IllegalStateException.class, parent::getGenericTypeClass);\n    }\n\n    /**\n     * won't work\n     * returns object instead!\n     */\n    @Test\n    void testGetLoadedClassFromObject() {\n        Foo&lt;SomeGenericType&gt; foo = new Foo&lt;&gt;();\n        Class&lt;?&gt; barClass = foo.getBarClass();\n        assertEquals(SomeGenericType.class, barClass);\n    }\n\n    /**\n     * A class that has specified the type parameter\n     */\n    public static class TestClassWithSpecifiedType extends AbstractGenericTypedClass&lt;SomeGenericType&gt; {\n\n    }\n\n    /**\n     * A class where the type parameter will be specified on demand\n     *\n     * @param &lt;T&gt;\n     */\n    public static class TestClassWithUnspecifiedType&lt;T&gt; extends AbstractGenericTypedClass&lt;T&gt; {\n\n    }\n\n    /**\n     * An abstract class, because otherwise finding the parameter will not work\n     */\n    @SuppressWarnings(&quot;unchecked&quot;)\n    public static abstract class AbstractGenericTypedClass&lt;T&gt; {\n        @SuppressWarnings(&quot;unchecked&quot;)\n        public Class&lt;T&gt; getGenericTypeClass() {\n            try {\n                String className = ((ParameterizedType) getClass().getGenericSuperclass()).getActualTypeArguments()[0].getTypeName();\n                Class&lt;?&gt; clazz = Class.forName(className);\n                return (Class&lt;T&gt;) clazz;\n            } catch (Exception e) {\n                throw new IllegalStateException(&quot;Class is not parametrized with generic type!!! Please use extends &lt;&gt; &quot;);\n            }\n        }\n    }\n\n    /**\n     * A typed class without abstract super class\n     *\n     * @param &lt;T&gt;\n     */\n    public static class SomeGenericTypedClass&lt;T&gt; {\n        @SuppressWarnings(&quot;unchecked&quot;)\n        public Class&lt;T&gt; getGenericTypeClass() {\n            try {\n                String className = ((ParameterizedType) getClass().getGenericSuperclass()).getActualTypeArguments()[0].getTypeName();\n                Class&lt;?&gt; clazz = Class.forName(className);\n                return (Class&lt;T&gt;) clazz;\n            } catch (Exception e) {\n                throw new IllegalStateException(&quot;Class is not parametrized with generic type!!! Please use extends &lt;&gt; &quot;);\n            }\n        }\n    }\n\n\n    /**\n     * Some generic type - won't work with primitives such as String, Integer, Double!\n     */\n    public static class SomeGenericType {\n\n    }\n\n    public static class Foo&lt;T&gt; {\n        // The class:\n        private final Class&lt;?&gt; barClass;\n\n        public Foo() {\n            try {\n                // Im giving it [0] cuz Bar is the first TypeParam\n                Type[] bounds = getClass().getTypeParameters()[0].getBounds();\n                // Here, we get the class now:\n                barClass = Class.forName(bounds[0].getTypeName());\n            } catch (ClassNotFoundException e) {\n                // will never happen!\n                throw new Error(&quot;Something impossible happened!&quot;, e);\n            }\n        }\n\n        public Class&lt;?&gt; getBarClass() {\n            return barClass;\n        }\n    }\n}\n\n</code></pre>\n<blockquote>\n<p>I do not really understand why this has to be so complicated, but I bet there have to be some technical limitations for the dynamically setting of parameters.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":7242133,"reputation":1472,"user_id":5525384,"accept_rate":33,"display_name":"Paul"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692275568,"creation_date":1692275568,"answer_id":76921568,"question_id":3437897,"body_markdown":"To be honest I used the solution with parameterized superclass constructor with the subclass type or with all type of reflection like `java.lang.reflect.ParameterizedType`, but it looks like ugly workaround for me.\r\n\r\nI prefer to use an abstract method. I&#39;m feeling like at least the contract between sub and superclass is more explicit.\r\n\r\n```\r\npublic abstract class MySuperClass&lt;T&gt; {\r\n\r\n    protected abstract T getSubClass();\r\n\r\n    // Example of usage in superclass\r\n    public String getName() {\r\n        return getSubClass().getClass().getSimpleName();\r\n    }\r\n}\r\n```\r\n\r\n```\r\npublic class MySubClass extends MySuperClass&lt;MySubClass&gt; {\r\n\r\n    @Override\r\n    protected MySubClass getSubClass() {\r\n        return this;\r\n    }\r\n    // ...\r\n}\r\n```","title":"How do I get a class instance of generic type T?","body":"<p>To be honest I used the solution with parameterized superclass constructor with the subclass type or with all type of reflection like <code>java.lang.reflect.ParameterizedType</code>, but it looks like ugly workaround for me.</p>\n<p>I prefer to use an abstract method. I'm feeling like at least the contract between sub and superclass is more explicit.</p>\n<pre><code>public abstract class MySuperClass&lt;T&gt; {\n\n    protected abstract T getSubClass();\n\n    // Example of usage in superclass\n    public String getName() {\n        return getSubClass().getClass().getSimpleName();\n    }\n}\n</code></pre>\n<pre><code>public class MySubClass extends MySuperClass&lt;MySubClass&gt; {\n\n    @Override\n    protected MySubClass getSubClass() {\n        return this;\n    }\n    // ...\n}\n</code></pre>\n"}],"owner":{"account_id":200226,"reputation":17730,"user_id":448452,"accept_rate":70,"display_name":"robinmag"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":980909,"favorite_count":0,"down_vote_count":0,"up_vote_count":896,"accepted_answer_id":3437930,"answer_count":24,"score":896,"last_activity_date":1692275568,"creation_date":1281337125,"question_id":3437897,"body_markdown":"I have a generics class, `Foo&lt;T&gt;`. In a method of `Foo`, I want to get the class instance of type `T`, but I just can&#39;t call `T.class`.\r\n\r\nWhat is the preferred way to get around it using `T.class`?\r\n","title":"How do I get a class instance of generic type T?","body":"<p>I have a generics class, <code>Foo&lt;T&gt;</code>. In a method of <code>Foo</code>, I want to get the class instance of type <code>T</code>, but I just can't call <code>T.class</code>.</p>\n\n<p>What is the preferred way to get around it using <code>T.class</code>?</p>\n"},{"tags":["java","nio","java-io","watchservice"],"comments":[{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1692283950,"post_id":76921556,"comment_id":135604938,"body_markdown":"In your registerSubdirectories method, you registered for watch events on the immutable Path object `C:\\niotest\\pre_rename`.  Watch events are associated with the watched Path object.  I think in order to see the updated Path, you will have to re-register your WatchService on the newly created directory, and unregister from the deleted directory.","body":"In your registerSubdirectories method, you registered for watch events on the immutable Path object <code>C:\\niotest\\pre_rename</code>.  Watch events are associated with the watched Path object.  I think in order to see the updated Path, you will have to re-register your WatchService on the newly created directory, and unregister from the deleted directory."}],"owner":{"account_id":29235612,"reputation":11,"user_id":22398310,"display_name":"paul"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692275470,"creation_date":1692275470,"question_id":76921556,"body_markdown":"I am currently working on a project with Java NIO which should simply observe all subdirectories and files located in a specific directory. When a Delete or Create event happens it should be printed to the console. I implemented this and discovered a problem, which I couldnt solve after hours of trying.\r\n\r\nSo creating and deleting folders and files in all kinds of subfolders works well but if you rename a folder and try to create a file in that newly renamed folder you get wrong values from Java NIO. I will try to explain it in an example:\r\n\r\n\r\n```\r\nContext: pre_rename\r\nKind: ENTRY_DELETE\r\nWatchable: C:\\niotest\r\nDir: C:\\niotest\r\nContext Path: C:\\niotest\\pre_rename\r\n-------------------------------------\r\nContext: post_rename\r\nKind: ENTRY_CREATE\r\nWatchable: C:\\niotest\r\nDir: C:\\niotest\r\nContext Path: C:\\niotest\\post_rename\r\nC:\\niotest registered\r\n-------------------------------------\r\nContext: testfile.txt\r\nKind: ENTRY_CREATE\r\nWatchable: C:\\niotest\\pre_rename\r\nDir: C:\\niotest\\pre_rename\r\nContext Path: C:\\niotest\\pre_rename\\testfile.txt\r\nC:\\niotest\\pre_rename registered\r\n-------------------------------------\r\n```\r\n\r\nThis is the output I get from renaming the folder &quot;pre_rename&quot; to &quot;post_rename&quot; (Delete followed by Create) and after that creating the file &quot;testfile.txt&quot; in &quot;post_rename&quot;. As you can see, the path given by NIO still contatins pre_rename instead of post_rename in the last section. Can you guys help me how to fix this?\r\nIn the following I will share my code:\r\n\r\n```\r\nimport java.io.IOException;\r\nimport java.nio.file.*;\r\nimport java.nio.file.attribute.BasicFileAttributes;\r\n\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n        try(WatchService watchService = FileSystems.getDefault().newWatchService()){\r\n            Path directory = Path.of(&quot;C:\\\\niotest&quot;);\r\n            registerSubdirectories(directory, watchService);\r\n\r\n            WatchKey key;\r\n            while((key = watchService.take()) != null){\r\n                for(WatchEvent event : key.pollEvents()){\r\n                    System.out.println(&quot;Context: &quot; + event.context());\r\n                    System.out.println(&quot;Kind: &quot; + event.kind());\r\n                    System.out.println(&quot;Watchable: &quot; + key.watchable());\r\n                    Path dir = (Path) key.watchable();\r\n                    System.out.println(&quot;Dir: &quot; + dir);\r\n                    Path contextPath = dir.resolve((Path) event.context());\r\n                    System.out.println(&quot;Context Path: &quot; + contextPath);\r\n                    if(event.kind() == StandardWatchEventKinds.ENTRY_CREATE){\r\n                        registerSubdirectories(directory, watchService);\r\n                        System.out.println(dir + &quot; registered&quot;);\r\n                    }\r\n                    System.out.println(&quot;-------------------------------------&quot;);\r\n                }\r\n                key.reset();\r\n            }\r\n        }\r\n        catch (IOException e){\r\n            e.printStackTrace();\r\n        } catch (InterruptedException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n    }\r\n\r\n    private static void registerSubdirectories(Path start, WatchService watchService) throws IOException {\r\n        Files.walkFileTree(start, new SimpleFileVisitor&lt;Path&gt;() {\r\n            @Override\r\n            public FileVisitResult preVisitDirectory(Path dir, BasicFileAttributes attributes) throws IOException {\r\n                dir.register(watchService, StandardWatchEventKinds.ENTRY_CREATE, StandardWatchEventKinds.ENTRY_DELETE);\r\n                //System.out.println(dir);\r\n                return FileVisitResult.CONTINUE;\r\n            }\r\n        });\r\n    }\r\n}\r\n\r\n```\r\n \r\n\r\nI trying playing around with key.close() and reset() but none of it really worked. I also tried to change minor thinks in the registerSubdirectories method. \r\n\r\nTo me it looks like NIO is observing the old and the new name of the folder (in my case pre and post_rename) and therefore probably just prefers to return the old path but I havenot found a way to clear one specific path and I am not 100% sure if that is even the problem either.\r\n\r\nIf any infos or something are missing please let me know.\r\nLooking forward to your replies, thanks in advance!","title":"Java NIO: Problem creating files in a renamed folder when observing a file tree","body":"<p>I am currently working on a project with Java NIO which should simply observe all subdirectories and files located in a specific directory. When a Delete or Create event happens it should be printed to the console. I implemented this and discovered a problem, which I couldnt solve after hours of trying.</p>\n<p>So creating and deleting folders and files in all kinds of subfolders works well but if you rename a folder and try to create a file in that newly renamed folder you get wrong values from Java NIO. I will try to explain it in an example:</p>\n<pre><code>Context: pre_rename\nKind: ENTRY_DELETE\nWatchable: C:\\niotest\nDir: C:\\niotest\nContext Path: C:\\niotest\\pre_rename\n-------------------------------------\nContext: post_rename\nKind: ENTRY_CREATE\nWatchable: C:\\niotest\nDir: C:\\niotest\nContext Path: C:\\niotest\\post_rename\nC:\\niotest registered\n-------------------------------------\nContext: testfile.txt\nKind: ENTRY_CREATE\nWatchable: C:\\niotest\\pre_rename\nDir: C:\\niotest\\pre_rename\nContext Path: C:\\niotest\\pre_rename\\testfile.txt\nC:\\niotest\\pre_rename registered\n-------------------------------------\n</code></pre>\n<p>This is the output I get from renaming the folder &quot;pre_rename&quot; to &quot;post_rename&quot; (Delete followed by Create) and after that creating the file &quot;testfile.txt&quot; in &quot;post_rename&quot;. As you can see, the path given by NIO still contatins pre_rename instead of post_rename in the last section. Can you guys help me how to fix this?\nIn the following I will share my code:</p>\n<pre><code>import java.io.IOException;\nimport java.nio.file.*;\nimport java.nio.file.attribute.BasicFileAttributes;\n\npublic class Main {\n    public static void main(String[] args) {\n        try(WatchService watchService = FileSystems.getDefault().newWatchService()){\n            Path directory = Path.of(&quot;C:\\\\niotest&quot;);\n            registerSubdirectories(directory, watchService);\n\n            WatchKey key;\n            while((key = watchService.take()) != null){\n                for(WatchEvent event : key.pollEvents()){\n                    System.out.println(&quot;Context: &quot; + event.context());\n                    System.out.println(&quot;Kind: &quot; + event.kind());\n                    System.out.println(&quot;Watchable: &quot; + key.watchable());\n                    Path dir = (Path) key.watchable();\n                    System.out.println(&quot;Dir: &quot; + dir);\n                    Path contextPath = dir.resolve((Path) event.context());\n                    System.out.println(&quot;Context Path: &quot; + contextPath);\n                    if(event.kind() == StandardWatchEventKinds.ENTRY_CREATE){\n                        registerSubdirectories(directory, watchService);\n                        System.out.println(dir + &quot; registered&quot;);\n                    }\n                    System.out.println(&quot;-------------------------------------&quot;);\n                }\n                key.reset();\n            }\n        }\n        catch (IOException e){\n            e.printStackTrace();\n        } catch (InterruptedException e) {\n            throw new RuntimeException(e);\n        }\n    }\n\n    private static void registerSubdirectories(Path start, WatchService watchService) throws IOException {\n        Files.walkFileTree(start, new SimpleFileVisitor&lt;Path&gt;() {\n            @Override\n            public FileVisitResult preVisitDirectory(Path dir, BasicFileAttributes attributes) throws IOException {\n                dir.register(watchService, StandardWatchEventKinds.ENTRY_CREATE, StandardWatchEventKinds.ENTRY_DELETE);\n                //System.out.println(dir);\n                return FileVisitResult.CONTINUE;\n            }\n        });\n    }\n}\n\n</code></pre>\n<p>I trying playing around with key.close() and reset() but none of it really worked. I also tried to change minor thinks in the registerSubdirectories method.</p>\n<p>To me it looks like NIO is observing the old and the new name of the folder (in my case pre and post_rename) and therefore probably just prefers to return the old path but I havenot found a way to clear one specific path and I am not 100% sure if that is even the problem either.</p>\n<p>If any infos or something are missing please let me know.\nLooking forward to your replies, thanks in advance!</p>\n"},{"tags":["java","http","post"],"comments":[{"owner":{"account_id":1949626,"reputation":13702,"user_id":1754020,"accept_rate":87,"display_name":"Eddie Martinez"},"score":0,"creation_date":1488580656,"post_id":42589576,"comment_id":72311532,"body_markdown":"can you post stacktrace?","body":"can you post stacktrace?"},{"owner":{"account_id":3577045,"reputation":331,"user_id":2986018,"display_name":"user2986018"},"score":0,"creation_date":1488583702,"post_id":42589576,"comment_id":72312463,"body_markdown":"Please find the stack trace\n\njava.lang.IllegalStateException: Cannot use BufferedReader while ServletInputStream is in use\n\tat com.ibm.domino.xsp.bridge.http.servlet.XspCmdHttpServletRequest.getReader(XspCmdHttpServletRequest.java:1373)\n\n\tat com.ibm.designer.runtime.domino.adapter.servlet.LCDAdapterHttpServletRequest.getReader(LCDAdapterHttpServletRequest.java:324)\n\tat \n\ncom.ibm.xsp.http.FileUploadRequestWrapper.getReader(FileUploadRequestWrapper.java:703)\nat \n\njavax.servlet.ServletRequestWrapper.getReader(ServletRequestWrapper.java:251)","body":"Please find the stack trace  java.lang.IllegalStateException: Cannot use BufferedReader while ServletInputStream is in use \tat com.ibm.domino.xsp.bridge.http.servlet.XspCmdHttpServletRequ&zwnj;&#8203;est.getReader(XspCmd&zwnj;&#8203;HttpServletRequest.j&zwnj;&#8203;ava:1373)  \tat com.ibm.designer.runtime.domino.adapter.servlet.LCDAdapterHt&zwnj;&#8203;tpServletRequest.get&zwnj;&#8203;Reader(LCDAdapterHtt&zwnj;&#8203;pServletRequest.java&zwnj;&#8203;:324) \tat   com.ibm.xsp.http.FileUploadRequestWrapper.getReader(FileUplo&zwnj;&#8203;adRequestWrapper.jav&zwnj;&#8203;a:703) at   javax.servlet.ServletRequestWrapper.getReader(ServletRequest&zwnj;&#8203;Wrapper.java:251)"}],"answers":[{"tags":[],"owner":{"account_id":1949626,"reputation":13702,"user_id":1754020,"accept_rate":87,"display_name":"Eddie Martinez"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1488597404,"creation_date":1488581369,"answer_id":42589767,"question_id":42589576,"body_markdown":"It seems to be this line\r\n\r\n   \r\n            in = new BufferedReader(new InputStreamReader(connection.getInputStream())); \r\n\r\nI noticed the BufferedReader is not being instantiated, you are reusing an instance variable `in`. \r\n\r\n\r\nI copied your code and just changed it to this, and I can make multiple requests without any problem.\r\n\r\n    BufferedReader in = new BufferedReader(\r\n       new InputStreamReader(connection.getInputStream()));\r\n\r\n ","title":"java.lang.IllegalStateException: Cannot use BufferedReader while ServletInputStream is in use","body":"<p>It seems to be this line</p>\n\n<pre><code>        in = new BufferedReader(new InputStreamReader(connection.getInputStream())); \n</code></pre>\n\n<p>I noticed the BufferedReader is not being instantiated, you are reusing an instance variable <code>in</code>. </p>\n\n<p>I copied your code and just changed it to this, and I can make multiple requests without any problem.</p>\n\n<pre><code>BufferedReader in = new BufferedReader(\n   new InputStreamReader(connection.getInputStream()));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2311729,"reputation":21,"user_id":2029715,"display_name":"Patrik Plesky"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692275102,"creation_date":1692275102,"answer_id":76921510,"question_id":42589576,"body_markdown":"In my case, the same error occurred while testing with an empty request body in a POST request. When provided with an empty JSON object {} in the request body, the code runs as expected.","title":"java.lang.IllegalStateException: Cannot use BufferedReader while ServletInputStream is in use","body":"<p>In my case, the same error occurred while testing with an empty request body in a POST request. When provided with an empty JSON object {} in the request body, the code runs as expected.</p>\n"}],"owner":{"account_id":3577045,"reputation":331,"user_id":2986018,"display_name":"user2986018"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":545,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1692275102,"creation_date":1488580319,"question_id":42589576,"body_markdown":"Can Java experts help me on this issue, I&#39;m geting the error below\r\n\r\njava.lang.IllegalStateException: Cannot use BufferedReader while ServletInputStream is in use\r\n\r\nI&#39;m calling a REST service url to post some data using a server side java code, not through a browser.\r\n\r\n     try{\r\n      \tString urlLocation = &quot;http://myserver/james/dev/hello.nsf/services.xsp/test&quot;;\r\n      \tURL url = new URL(urlLocation);\r\n      \tHttpURLConnection connection = (HttpURLConnection)url.openConnection();\r\n      \tconnection.setRequestMethod(&quot;POST&quot;); \r\n\t\t\tconnection.setAllowUserInteraction(false); \r\n\t\t\tconnection.setDoOutput(true); \r\n\t\t\tconnection.setDoInput(true);\r\n\t\t\tconnection.setUseCaches(false);\r\n\t\t\tconnection.setRequestProperty( &quot;Content-type&quot;, &quot;application/x-www-form-urlencoded&quot; ); \r\n\t\t\t//connection.setRequestProperty( &quot;Content-length&quot;, Integer.toString(content.length())); \r\n\t\t\tDataOutputStream out = new DataOutputStream (connection.getOutputStream ());\r\n\t\t\tout.writeBytes (getXML());\r\n\t\t\tout.flush ();\r\n\t\t\tout.close ();\r\n\t\t\tconnection.disconnect();\r\n\r\n\t\t\tin = new BufferedReader(new InputStreamReader(connection.getInputStream())); \r\n\t\t\t\r\n\t\t\tString line;\r\n\t\t\twhile( (line = in.readLine()) !=null) {\r\n\t\t\t\tSystem.out.println(line);\r\n\t\t\t\t} \r\n\t\t\tin.close();\r\n\t\t\t}\r\n\t    \tcatch(Exception e){\r\n\t    \t\tSystem.out.println(&quot;Error from 2nd try statement&quot;);\r\n\t    \t\te.printStackTrace();\r\n\t    \t\te.toString();\r\n\t\t\t}\r\n\r\nAny help will be greatly appreciated...","title":"java.lang.IllegalStateException: Cannot use BufferedReader while ServletInputStream is in use","body":"<p>Can Java experts help me on this issue, I'm geting the error below</p>\n\n<p>java.lang.IllegalStateException: Cannot use BufferedReader while ServletInputStream is in use</p>\n\n<p>I'm calling a REST service url to post some data using a server side java code, not through a browser.</p>\n\n<pre><code> try{\n    String urlLocation = \"http://myserver/james/dev/hello.nsf/services.xsp/test\";\n    URL url = new URL(urlLocation);\n    HttpURLConnection connection = (HttpURLConnection)url.openConnection();\n    connection.setRequestMethod(\"POST\"); \n        connection.setAllowUserInteraction(false); \n        connection.setDoOutput(true); \n        connection.setDoInput(true);\n        connection.setUseCaches(false);\n        connection.setRequestProperty( \"Content-type\", \"application/x-www-form-urlencoded\" ); \n        //connection.setRequestProperty( \"Content-length\", Integer.toString(content.length())); \n        DataOutputStream out = new DataOutputStream (connection.getOutputStream ());\n        out.writeBytes (getXML());\n        out.flush ();\n        out.close ();\n        connection.disconnect();\n\n        in = new BufferedReader(new InputStreamReader(connection.getInputStream())); \n\n        String line;\n        while( (line = in.readLine()) !=null) {\n            System.out.println(line);\n            } \n        in.close();\n        }\n        catch(Exception e){\n            System.out.println(\"Error from 2nd try statement\");\n            e.printStackTrace();\n            e.toString();\n        }\n</code></pre>\n\n<p>Any help will be greatly appreciated...</p>\n"},{"tags":["java","apache-flink","flink-sql","flink-cep"],"comments":[{"owner":{"account_id":28968787,"reputation":1,"user_id":22189579,"display_name":"Krutik Gadhiya"},"score":0,"creation_date":1692776394,"post_id":76921499,"comment_id":135668889,"body_markdown":"https://issues.apache.org/jira/browse/FLINK-32899","body":"<a href=\"https://issues.apache.org/jira/browse/FLINK-32899\" rel=\"nofollow noreferrer\">issues.apache.org/jira/browse/FLINK-32899</a>"}],"owner":{"account_id":28968787,"reputation":1,"user_id":22189579,"display_name":"Krutik Gadhiya"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692275005,"creation_date":1692275005,"question_id":76921499,"body_markdown":"I am using Flink CEP with SQL for processing events, the schema is determined by the JSON event, while trying to execute the given SQL it gives bellow exception can. we have defined DTOs for the event (contains nested Dto&#39;s), does any one know what am I doing wrong. as basic query like `SELECT message.event.size FROM Log` works just fine.\r\n\r\nAm I doing something wrong or Flink does not allow to reference nested objects with `MATCH_RECOGNIZE`\r\n\r\nEvent Example\r\n```JSON\r\n{\r\n  &quot;message&quot;: {\r\n    &quot;@timestamp&quot;: &quot;2023-08-02T12:12:16Z&quot;,\r\n    &quot;customFields&quot;: &quot;some string&quot;,\r\n    &quot;cloud&quot;: {\r\n      &quot;region&quot;: &quot;us-east-1&quot;\r\n    },\r\n    &quot;ecs&quot;: {\r\n      &quot;version&quot;: &quot;8.0.0&quot;\r\n    },\r\n    &quot;event&quot;: {\r\n      &quot;action&quot;: &quot;GetBucketAcl&quot;,\r\n      &quot;id&quot;: &quot;bb7ee0ed-f273-4da8-a75d-53e10e7d1515&quot;,\r\n      &quot;kind&quot;: &quot;event&quot;,\r\n      &quot;outcome&quot;: &quot;success&quot;,\r\n      &quot;provider&quot;: &quot;s3.amazonaws.com&quot;,\r\n      &quot;type&quot;: &quot;info&quot;,\r\n\t\t\t&quot;size&quot;: 10\r\n    },\r\n    &quot;source&quot;: {\r\n      &quot;address&quot;: &quot;cloudtrail.amazonaws.com&quot;\r\n    }\r\n  },\r\n  &quot;id&quot;: &quot;pxX_35all1pkteGtxXxOi&quot;,\r\n  &quot;timestamp&quot;: &quot;2023-08-02 12:17:31.526356&quot;,\r\n  &quot;integration&quot;: &quot;cloudtrail&quot;,\r\n  &quot;configuration&quot;: &quot;conf-1&quot;\r\n}\r\n```\r\n\r\nSQL Query\r\n```SQL\r\nSELECT * FROM Log\r\nMATCH_RECOGNIZE (\r\n\tPARTITION BY integration\r\n\tORDER BY time_ltz\r\n\tMEASURES\r\n\t\tFIRST(A.time_ltz) AS start_tstamp,\r\n\t\tLAST(A.time_ltz) AS end_tstamp,\r\n\t\tSUM(message.event.size) AS size,\r\n\t\tA.id AS aID,\r\n\t\tLAST(B.id) as bID,\r\n\t\tC.id AS cID\r\n\tAFTER MATCH SKIP PAST LAST ROW\r\n\tPATTERN (A B+ C) WITHIN INTERVAL &#39;5&#39; SECOND\r\n\tDEFINE\r\n\t\tA AS A.message.event.action = &#39;login&#39;,\r\n\t\tB AS SUM(message.event.size) &gt; 30\r\n) T;\r\n```\r\n\r\nGenerated Schema\r\n```\r\n(\r\n  `message` *org.example.Dto.Message&lt;`cloud` *org.example.Dto.Cloud&lt;`region` STRING&gt;*, `customField` STRING, `ecs` *org.example.Dto.Ecs&lt;`version` STRING&gt;*, `event` *org.example.Dto.Event&lt;`action` STRING, `id` STRING, `kind` STRING, `outcome` STRING, `provider` STRING, `type` STRING, `size` BIGINT NOT NULL&gt;*, `source` *org.example.Dto.Source&lt;`address` STRING&gt;*, `timestamp` STRING&gt;*,\r\n  `id` STRING,\r\n  `timestamp` STRING,\r\n  `integration` STRING,\r\n  `configuration` STRING,\r\n  `time_ltz` TIMESTAMP(3)\r\n)\r\n\r\n```\r\n\r\nStackTrace\r\n```\r\nException in thread &quot;main&quot; org.apache.flink.table.api.ValidationException: SQL validation failed. From line 15, column 22 to line 15, column 26: Table &#39;event.message.event&#39; not found\r\n\tat org.apache.flink.table.planner.calcite.FlinkPlannerImpl.org$apache$flink$table$planner$calcite$FlinkPlannerImpl$$validate(FlinkPlannerImpl.scala:187)\r\n\tat org.apache.flink.table.planner.calcite.FlinkPlannerImpl.validate(FlinkPlannerImpl.scala:113)\r\n\tat org.apache.flink.table.planner.operations.SqlToOperationConverter.convert(SqlToOperationConverter.java:281)\r\n\tat org.apache.flink.table.planner.delegation.ParserImpl.parse(ParserImpl.java:106)\r\n\tat org.apache.flink.table.api.internal.TableEnvironmentImpl.sqlQuery(TableEnvironmentImpl.java:738)\r\n\tat org.example.StaticRuleEvaluator.main(StaticRuleEvaluator.java:115)\r\nCaused by: org.apache.calcite.runtime.CalciteContextException: From line 15, column 22 to line 15, column 26: Table &#39;event.message.event&#39; not found\r\n\tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n```","title":"How to reference nested objects in Flink cep SQL in MATCH_RECOGNIZE clause","body":"<p>I am using Flink CEP with SQL for processing events, the schema is determined by the JSON event, while trying to execute the given SQL it gives bellow exception can. we have defined DTOs for the event (contains nested Dto's), does any one know what am I doing wrong. as basic query like <code>SELECT message.event.size FROM Log</code> works just fine.</p>\n<p>Am I doing something wrong or Flink does not allow to reference nested objects with <code>MATCH_RECOGNIZE</code></p>\n<p>Event Example</p>\n<pre><code>{\n  &quot;message&quot;: {\n    &quot;@timestamp&quot;: &quot;2023-08-02T12:12:16Z&quot;,\n    &quot;customFields&quot;: &quot;some string&quot;,\n    &quot;cloud&quot;: {\n      &quot;region&quot;: &quot;us-east-1&quot;\n    },\n    &quot;ecs&quot;: {\n      &quot;version&quot;: &quot;8.0.0&quot;\n    },\n    &quot;event&quot;: {\n      &quot;action&quot;: &quot;GetBucketAcl&quot;,\n      &quot;id&quot;: &quot;bb7ee0ed-f273-4da8-a75d-53e10e7d1515&quot;,\n      &quot;kind&quot;: &quot;event&quot;,\n      &quot;outcome&quot;: &quot;success&quot;,\n      &quot;provider&quot;: &quot;s3.amazonaws.com&quot;,\n      &quot;type&quot;: &quot;info&quot;,\n            &quot;size&quot;: 10\n    },\n    &quot;source&quot;: {\n      &quot;address&quot;: &quot;cloudtrail.amazonaws.com&quot;\n    }\n  },\n  &quot;id&quot;: &quot;pxX_35all1pkteGtxXxOi&quot;,\n  &quot;timestamp&quot;: &quot;2023-08-02 12:17:31.526356&quot;,\n  &quot;integration&quot;: &quot;cloudtrail&quot;,\n  &quot;configuration&quot;: &quot;conf-1&quot;\n}\n</code></pre>\n<p>SQL Query</p>\n<pre><code>SELECT * FROM Log\nMATCH_RECOGNIZE (\n    PARTITION BY integration\n    ORDER BY time_ltz\n    MEASURES\n        FIRST(A.time_ltz) AS start_tstamp,\n        LAST(A.time_ltz) AS end_tstamp,\n        SUM(message.event.size) AS size,\n        A.id AS aID,\n        LAST(B.id) as bID,\n        C.id AS cID\n    AFTER MATCH SKIP PAST LAST ROW\n    PATTERN (A B+ C) WITHIN INTERVAL '5' SECOND\n    DEFINE\n        A AS A.message.event.action = 'login',\n        B AS SUM(message.event.size) &gt; 30\n) T;\n</code></pre>\n<p>Generated Schema</p>\n<pre><code>(\n  `message` *org.example.Dto.Message&lt;`cloud` *org.example.Dto.Cloud&lt;`region` STRING&gt;*, `customField` STRING, `ecs` *org.example.Dto.Ecs&lt;`version` STRING&gt;*, `event` *org.example.Dto.Event&lt;`action` STRING, `id` STRING, `kind` STRING, `outcome` STRING, `provider` STRING, `type` STRING, `size` BIGINT NOT NULL&gt;*, `source` *org.example.Dto.Source&lt;`address` STRING&gt;*, `timestamp` STRING&gt;*,\n  `id` STRING,\n  `timestamp` STRING,\n  `integration` STRING,\n  `configuration` STRING,\n  `time_ltz` TIMESTAMP(3)\n)\n\n</code></pre>\n<p>StackTrace</p>\n<pre><code>Exception in thread &quot;main&quot; org.apache.flink.table.api.ValidationException: SQL validation failed. From line 15, column 22 to line 15, column 26: Table 'event.message.event' not found\n    at org.apache.flink.table.planner.calcite.FlinkPlannerImpl.org$apache$flink$table$planner$calcite$FlinkPlannerImpl$$validate(FlinkPlannerImpl.scala:187)\n    at org.apache.flink.table.planner.calcite.FlinkPlannerImpl.validate(FlinkPlannerImpl.scala:113)\n    at org.apache.flink.table.planner.operations.SqlToOperationConverter.convert(SqlToOperationConverter.java:281)\n    at org.apache.flink.table.planner.delegation.ParserImpl.parse(ParserImpl.java:106)\n    at org.apache.flink.table.api.internal.TableEnvironmentImpl.sqlQuery(TableEnvironmentImpl.java:738)\n    at org.example.StaticRuleEvaluator.main(StaticRuleEvaluator.java:115)\nCaused by: org.apache.calcite.runtime.CalciteContextException: From line 15, column 22 to line 15, column 26: Table 'event.message.event' not found\n    at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n</code></pre>\n"},{"tags":["java","linux","jboss","log4j","logfiles"],"answers":[{"tags":[],"owner":{"account_id":97818,"reputation":114824,"user_id":265143,"accept_rate":72,"display_name":"P&#233;ter T&#246;r&#246;k"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1294226858,"creation_date":1294226120,"answer_id":4603421,"question_id":4603394,"body_markdown":"By default JBoss keeps the file locked, since it is writing log messages into it. It is locked as long as JBoss is running and I don&#39;t know of other way to release it than stopping JBoss itself.\r\n\r\nTo keep its size under control, you can modify your log configuration, which is by default in `&lt;server&gt;/confjboss-log4j.xml`. You can specify the maximum size of a log file, and define what to do when that size is reached: roll over to a new file, truncate the existing one and start writing over it again, etc.\r\n\r\nA basic example (not tested, so no guarantee that it works straight as it is):\r\n\r\n        &lt;appender name=&quot;ROLL&quot; class=&quot;org.apache.log4j.rolling.RollingFileAppender&quot;&gt;\r\n                ...\r\n                &lt;param name=&quot;maxFileSize&quot; value=&quot;100MB&quot; /&gt;\r\n                ...\r\n        &lt;/appender&gt;\r\n\r\nMoreover, with the `maxBackupIndex` parameter you may define the number of backup files (default is 1).\r\n","title":"How to clear server.log in JBoss?","body":"<p>By default JBoss keeps the file locked, since it is writing log messages into it. It is locked as long as JBoss is running and I don't know of other way to release it than stopping JBoss itself.</p>\n\n<p>To keep its size under control, you can modify your log configuration, which is by default in <code>&lt;server&gt;/confjboss-log4j.xml</code>. You can specify the maximum size of a log file, and define what to do when that size is reached: roll over to a new file, truncate the existing one and start writing over it again, etc.</p>\n\n<p>A basic example (not tested, so no guarantee that it works straight as it is):</p>\n\n<pre><code>    &lt;appender name=\"ROLL\" class=\"org.apache.log4j.rolling.RollingFileAppender\"&gt;\n            ...\n            &lt;param name=\"maxFileSize\" value=\"100MB\" /&gt;\n            ...\n    &lt;/appender&gt;\n</code></pre>\n\n<p>Moreover, with the <code>maxBackupIndex</code> parameter you may define the number of backup files (default is 1).</p>\n"},{"tags":[],"owner":{"account_id":542930,"reputation":2652,"user_id":911912,"accept_rate":100,"display_name":"hennr"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1352366210,"creation_date":1352291698,"answer_id":13269910,"question_id":4603394,"body_markdown":"JBoss locks the file as long as the logging process is running.\r\n\r\nIf you enabled the JMX console you can stop the logging, delete / modify the log, and start the logging service again.\r\n\r\nThe url should look something like this (for log4j):\r\n\r\nhttp://jboss.example.com:8080/jmx-console/HtmlAdaptor?action=inspectMBean&amp;name=jboss.system%3Atype%3DLog4jService%2Cservice%3DLogging\r\n\r\nI tested this with JBoss 5.\r\n\r\nThis solution should be scriptable as well.\r\n\r\nRegarding your log file size problem: You should use a configuration approach instead of editing the log file manually.","title":"How to clear server.log in JBoss?","body":"<p>JBoss locks the file as long as the logging process is running.</p>\n\n<p>If you enabled the JMX console you can stop the logging, delete / modify the log, and start the logging service again.</p>\n\n<p>The url should look something like this (for log4j):</p>\n\n<p><a href=\"http://jboss.example.com:8080/jmx-console/HtmlAdaptor?action=inspectMBean&amp;name=jboss.system%3Atype%3DLog4jService%2Cservice%3DLogging\" rel=\"nofollow\">http://jboss.example.com:8080/jmx-console/HtmlAdaptor?action=inspectMBean&amp;name=jboss.system%3Atype%3DLog4jService%2Cservice%3DLogging</a></p>\n\n<p>I tested this with JBoss 5.</p>\n\n<p>This solution should be scriptable as well.</p>\n\n<p>Regarding your log file size problem: You should use a configuration approach instead of editing the log file manually.</p>\n"},{"tags":[],"owner":{"account_id":8698073,"reputation":40,"user_id":6508874,"display_name":"Cristian-Florin Pandele"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692274367,"creation_date":1692274367,"answer_id":76921415,"question_id":4603394,"body_markdown":"To clear logs in JBoss, you can follow these steps:\r\n\r\n 1. Stop the JBoss Server: Before you clear the logs, it&#39;s a good practice to stop the JBoss server to prevent any potential issues while the logs are being cleared.\r\n 2. Navigate to the Log Directory: Locate the directory where JBoss/WildFly stores its log files. This directory is typically named standalone/log or domain/servers/server-name/log within your JBoss/WildFly installation directory.\r\n 3. Clear the log file\r\n 4. Start the JBoss Server: After you&#39;ve cleared the logs, you can start the JBoss server again.","title":"How to clear server.log in JBoss?","body":"<p>To clear logs in JBoss, you can follow these steps:</p>\n<ol>\n<li>Stop the JBoss Server: Before you clear the logs, it's a good practice to stop the JBoss server to prevent any potential issues while the logs are being cleared.</li>\n<li>Navigate to the Log Directory: Locate the directory where JBoss/WildFly stores its log files. This directory is typically named standalone/log or domain/servers/server-name/log within your JBoss/WildFly installation directory.</li>\n<li>Clear the log file</li>\n<li>Start the JBoss Server: After you've cleared the logs, you can start the JBoss server again.</li>\n</ol>\n"}],"owner":{"account_id":14684,"reputation":62911,"user_id":30453,"accept_rate":82,"display_name":"IAdapter"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14507,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":4603421,"answer_count":3,"score":5,"last_activity_date":1692274367,"creation_date":1294225862,"question_id":4603394,"body_markdown":"How do I clear JBoss&#39; server.log file when **JBoss is running**? When I try to do \r\n\r\n    echo 1 &gt; server.log\r\n\r\nI get error msg that the **file is being used** by another program (JBoss). Is it possible to use a command-line tool (**windows** or **linux**(I do have **CygWin**)) or an application that I can write myself to clear that file?\r\n\r\nP.S. I don&#39;t need that file to have 0kb, but I want it to have **less than 100MB**.","title":"How to clear server.log in JBoss?","body":"<p>How do I clear JBoss' server.log file when <strong>JBoss is running</strong>? When I try to do </p>\n\n<pre><code>echo 1 &gt; server.log\n</code></pre>\n\n<p>I get error msg that the <strong>file is being used</strong> by another program (JBoss). Is it possible to use a command-line tool (<strong>windows</strong> or <strong>linux</strong>(I do have <strong>CygWin</strong>)) or an application that I can write myself to clear that file?</p>\n\n<p>P.S. I don't need that file to have 0kb, but I want it to have <strong>less than 100MB</strong>.</p>\n"},{"tags":["java","spring-boot","hibernate"],"answers":[{"tags":[],"owner":{"account_id":27618666,"reputation":21,"user_id":21080232,"display_name":"John Miller"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1674653662,"creation_date":1674653662,"answer_id":75234768,"question_id":75172581,"body_markdown":"Try to implement StatementInspector and override inspect(String sql) method\r\n\r\n    public class Interceptor implements StatementInspector {\r\n     //Use this method instead of onPrepareStatement\r\n        @Override\r\n        public String inspect(String sql) {\r\n            ...\r\n        }\r\n    }\r\n\r\nhttps://docs.jboss.org/hibernate/orm/6.0/javadocs/org/hibernate/resource/jdbc/spi/StatementInspector.html","title":"Error `org.hibernate.EmptyInterceptor` is deprecated in SQL statement interceptor class","body":"<p>Try to implement StatementInspector and override inspect(String sql) method</p>\n<pre><code>public class Interceptor implements StatementInspector {\n //Use this method instead of onPrepareStatement\n    @Override\n    public String inspect(String sql) {\n        ...\n    }\n}\n</code></pre>\n<p><a href=\"https://docs.jboss.org/hibernate/orm/6.0/javadocs/org/hibernate/resource/jdbc/spi/StatementInspector.html\" rel=\"nofollow noreferrer\">https://docs.jboss.org/hibernate/orm/6.0/javadocs/org/hibernate/resource/jdbc/spi/StatementInspector.html</a></p>\n"}],"owner":{"account_id":25372465,"reputation":39,"user_id":19186050,"display_name":"Franck TCHIENGUEN"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1242,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1692273621,"creation_date":1674132977,"question_id":75172581,"body_markdown":"I did the migration to spring boot 3 and my SQL statement interceptor gives an error: `&#39;org.hibernate.EmptyInterceptor&#39; is deprecated.` I don&#39;t how to resolve it.\r\n\r\nHere&#39;s my code:\r\n\r\n```\r\nimport org.hibernate.EmptyInterceptor;\r\nimport org.slf4j.MDC;\r\nimport org.springframework.util.StringUtils;\r\n\r\npublic class Interceptor extends EmptyInterceptor {\r\n\r\n    @Override\r\n    public String onPrepareStatement(String sql) {\r\n        if (StringUtils.hasLength(sql) &amp;&amp; sql.toLowerCase().startsWith(&quot;select&quot;)) {\r\n            final String entityName = sql.substring(7, sql.indexOf(&quot;.&quot;));\r\n            final String idEntreprise = MDC.get(&quot;idEntreprise&quot;);\r\n\r\n            if (StringUtils.hasLength(entityName)\r\n                    &amp;&amp; !entityName.toLowerCase().contains(&quot;entreprise&quot;)\r\n                    &amp;&amp; !entityName.toLowerCase().contains(&quot;roles&quot;)\r\n                    &amp;&amp; StringUtils.hasLength(idEntreprise)) {\r\n\r\n                if (sql.contains(&quot;where&quot;)) {\r\n                    sql = sql + &quot; and &quot;+entityName+&quot;.idEntreprise = &quot;+idEntreprise;\r\n                } else {\r\n                    sql = sql + &quot; where &quot;+entityName+&quot;.idEntreprise = &quot;+idEntreprise;\r\n                }\r\n\r\n      }\r\n            }\r\n            return super.onPrepareStatement(sql);\r\n        }\r\n    }\r\n```\r\n\r\n\r\nIn my code I replace `EmptyInterceptor` with `Interceptor` class, but nothing.","title":"Error `org.hibernate.EmptyInterceptor` is deprecated in SQL statement interceptor class","body":"<p>I did the migration to spring boot 3 and my SQL statement interceptor gives an error: <code>'org.hibernate.EmptyInterceptor' is deprecated.</code> I don't how to resolve it.</p>\n<p>Here's my code:</p>\n<pre><code>import org.hibernate.EmptyInterceptor;\nimport org.slf4j.MDC;\nimport org.springframework.util.StringUtils;\n\npublic class Interceptor extends EmptyInterceptor {\n\n    @Override\n    public String onPrepareStatement(String sql) {\n        if (StringUtils.hasLength(sql) &amp;&amp; sql.toLowerCase().startsWith(&quot;select&quot;)) {\n            final String entityName = sql.substring(7, sql.indexOf(&quot;.&quot;));\n            final String idEntreprise = MDC.get(&quot;idEntreprise&quot;);\n\n            if (StringUtils.hasLength(entityName)\n                    &amp;&amp; !entityName.toLowerCase().contains(&quot;entreprise&quot;)\n                    &amp;&amp; !entityName.toLowerCase().contains(&quot;roles&quot;)\n                    &amp;&amp; StringUtils.hasLength(idEntreprise)) {\n\n                if (sql.contains(&quot;where&quot;)) {\n                    sql = sql + &quot; and &quot;+entityName+&quot;.idEntreprise = &quot;+idEntreprise;\n                } else {\n                    sql = sql + &quot; where &quot;+entityName+&quot;.idEntreprise = &quot;+idEntreprise;\n                }\n\n      }\n            }\n            return super.onPrepareStatement(sql);\n        }\n    }\n</code></pre>\n<p>In my code I replace <code>EmptyInterceptor</code> with <code>Interceptor</code> class, but nothing.</p>\n"},{"tags":["java","lombok"],"answers":[{"tags":[],"owner":{"account_id":7297,"reputation":32768,"user_id":12634,"accept_rate":75,"display_name":"Roel Spilker"},"down_vote_count":0,"up_vote_count":481,"is_accepted":true,"score":481,"last_activity_date":1522083053,"creation_date":1509705682,"answer_id":47093799,"question_id":47069561,"body_markdown":"You can use the `toBuilder` parameter to give your instances a `toBuilder()` method.\r\n\r\n    @Builder(toBuilder=true)\r\n    class Foo {\r\n       int x;\r\n       ...\r\n    }\r\n    \r\n    Foo f0 = Foo.builder().build();\r\n    Foo f1 = f0.toBuilder().x(42).build();\r\n\r\nFrom [the documentation](https://projectlombok.org/features/Builder):\r\n\r\n&gt; If using @Builder to generate builders to produce instances of your own class (this is always the case unless adding @Builder to a method that doesn&#39;t return your own type), you can use @Builder(toBuilder = true) to also generate an instance method in your class called toBuilder(); it creates a new builder that starts out with all the values of this instance.\r\n\r\nDisclaimer: I am a lombok developer.\r\n\r\n","title":"Build an object from an existing one using lombok","body":"<p>You can use the <code>toBuilder</code> parameter to give your instances a <code>toBuilder()</code> method.</p>\n\n<pre><code>@Builder(toBuilder=true)\nclass Foo {\n   int x;\n   ...\n}\n\nFoo f0 = Foo.builder().build();\nFoo f1 = f0.toBuilder().x(42).build();\n</code></pre>\n\n<p>From <a href=\"https://projectlombok.org/features/Builder\" rel=\"noreferrer\">the documentation</a>:</p>\n\n<blockquote>\n  <p>If using @Builder to generate builders to produce instances of your own class (this is always the case unless adding @Builder to a method that doesn't return your own type), you can use @Builder(toBuilder = true) to also generate an instance method in your class called toBuilder(); it creates a new builder that starts out with all the values of this instance.</p>\n</blockquote>\n\n<p>Disclaimer: I am a lombok developer.</p>\n"},{"tags":[],"owner":{"account_id":283609,"reputation":45044,"user_id":581205,"accept_rate":72,"display_name":"maaartinus"},"down_vote_count":1,"up_vote_count":78,"is_accepted":false,"score":77,"last_activity_date":1581200092,"creation_date":1509801286,"answer_id":47111144,"question_id":47069561,"body_markdown":"&gt; Is there an easy way to create an object of Foo using the existing object as a template and changing **one** of it&#39;s properties?\r\n(*emphasis mine*)\r\n\r\nIf you really want to change a single property, then there&#39;s a nicer and more efficient way:\r\n\r\n    @With\r\n    class Band {\r\n       String name;\r\n       String type;\r\n    }\r\n    \r\n    Band nirvana = rollingStones.withName(&quot;Nirvana&quot;);\r\n\r\nThe wither creates no garbage, but it can change just a single field. For changing many fields, you could use\r\n\r\n    withA(a).withB(b).withC(c)....\r\n\r\nand produce tons of garbage (all intermediate results) but than `toBuilder` is more efficient and more natural.\r\n\r\nNOTE: Older versions of lombok have used `@Wither` annotation. See [beginning of documentation][1].\r\n\r\n\r\n  [1]: https://projectlombok.org/features/With","title":"Build an object from an existing one using lombok","body":"<blockquote>\n  <p>Is there an easy way to create an object of Foo using the existing object as a template and changing <strong>one</strong> of it's properties?\n  (<em>emphasis mine</em>)</p>\n</blockquote>\n\n<p>If you really want to change a single property, then there's a nicer and more efficient way:</p>\n\n<pre><code>@With\nclass Band {\n   String name;\n   String type;\n}\n\nBand nirvana = rollingStones.withName(\"Nirvana\");\n</code></pre>\n\n<p>The wither creates no garbage, but it can change just a single field. For changing many fields, you could use</p>\n\n<pre><code>withA(a).withB(b).withC(c)....\n</code></pre>\n\n<p>and produce tons of garbage (all intermediate results) but than <code>toBuilder</code> is more efficient and more natural.</p>\n\n<p>NOTE: Older versions of lombok have used <code>@Wither</code> annotation. See <a href=\"https://projectlombok.org/features/With\" rel=\"noreferrer\">beginning of documentation</a>.</p>\n"},{"tags":[],"owner":{"account_id":916656,"reputation":922,"user_id":949309,"display_name":"ITisha"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1621933123,"creation_date":1621933123,"answer_id":67684815,"question_id":47069561,"body_markdown":"You might also want do a copy of the object using `com.fasterxml.jackson.databind.ObjectMapper`\r\n\r\n    @AllArgsConstructor\r\n    @Setter\r\n    class Band {\r\n        String name;\r\n        String type;\r\n    }\r\n\r\n    ObjectMapper objectMapper = new ObjectMapper(); //it&#39;s configurable\r\n    objectMapper.configure( DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, false );\r\n    objectMapper.configure( SerializationFeature.FAIL_ON_EMPTY_BEANS, false );\r\n    \r\n    Band rollingStones = new Band(&quot;Rolling Stones&quot;, &quot;Rock Band&quot;);\r\n\r\n    Band nirvana = objectMapper.convertValue( rollingStones, Band.class);\r\n    nirvana.setName(&quot;Nirvana&quot;);\r\n\r\nit can be easily wrapped in some utility method to be used all over the project like `ConvertUtils.clone(rollingStones, Band.class)`","title":"Build an object from an existing one using lombok","body":"<p>You might also want do a copy of the object using <code>com.fasterxml.jackson.databind.ObjectMapper</code></p>\n<pre><code>@AllArgsConstructor\n@Setter\nclass Band {\n    String name;\n    String type;\n}\n\nObjectMapper objectMapper = new ObjectMapper(); //it's configurable\nobjectMapper.configure( DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, false );\nobjectMapper.configure( SerializationFeature.FAIL_ON_EMPTY_BEANS, false );\n\nBand rollingStones = new Band(&quot;Rolling Stones&quot;, &quot;Rock Band&quot;);\n\nBand nirvana = objectMapper.convertValue( rollingStones, Band.class);\nnirvana.setName(&quot;Nirvana&quot;);\n</code></pre>\n<p>it can be easily wrapped in some utility method to be used all over the project like <code>ConvertUtils.clone(rollingStones, Band.class)</code></p>\n"}],"owner":{"account_id":346385,"reputation":5794,"user_id":679879,"accept_rate":90,"display_name":"Mustafa"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":151596,"favorite_count":0,"down_vote_count":0,"up_vote_count":232,"accepted_answer_id":47093799,"answer_count":3,"score":232,"last_activity_date":1692272742,"creation_date":1509606763,"question_id":47069561,"body_markdown":"Lets say I have a Lombok annotated class like\r\n\r\n```java\r\n@Builder\r\nclass Band {\r\n    String name;\r\n    String type;\r\n}\r\n```\r\n\r\nI know I can do:\r\n\r\n```java\r\nBand rollingStones = Band.builder()\r\n    .name(&quot;Rolling Stones&quot;)\r\n    .type(&quot;Rock Band&quot;)\r\n    .build();\r\n```\r\n\r\nIs there an easy way to create an object of `Band` using the existing object as a template and changing one of its properties?\r\n\r\nSomething like:\r\n\r\n```java\r\nBand nirvana = Band.builder(rollingStones)\r\n    .name(&quot;Nirvana&quot;);\r\n```\r\n\r\nI can&#39;t find this in the Lombok documentation.\r\n","title":"Build an object from an existing one using lombok","body":"<p>Lets say I have a Lombok annotated class like</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Builder\nclass Band {\n    String name;\n    String type;\n}\n</code></pre>\n<p>I know I can do:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Band rollingStones = Band.builder()\n    .name(&quot;Rolling Stones&quot;)\n    .type(&quot;Rock Band&quot;)\n    .build();\n</code></pre>\n<p>Is there an easy way to create an object of <code>Band</code> using the existing object as a template and changing one of its properties?</p>\n<p>Something like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Band nirvana = Band.builder(rollingStones)\n    .name(&quot;Nirvana&quot;);\n</code></pre>\n<p>I can't find this in the Lombok documentation.</p>\n"},{"tags":["java","eclipse","gradle","gradle-wrapper"],"comments":[{"owner":{"account_id":26895750,"reputation":296,"user_id":20473701,"display_name":"Lorenz Hetterich"},"score":0,"creation_date":1690283385,"post_id":76762089,"comment_id":135328668,"body_markdown":"I also encountered this issue. I think it is because Eclipse tries to parse the java version which is now in a different format.\nFor me, installing the latest version of eclipse fixed the issue (note that you can still use your projects from the older eclipse Version)","body":"I also encountered this issue. I think it is because Eclipse tries to parse the java version which is now in a different format. For me, installing the latest version of eclipse fixed the issue (note that you can still use your projects from the older eclipse Version)"},{"owner":{"account_id":18888609,"reputation":33,"user_id":13779404,"display_name":"Mandar Remane"},"score":0,"creation_date":1690283685,"post_id":76762089,"comment_id":135328734,"body_markdown":"Oh okay, I will try running project with new eclipse version","body":"Oh okay, I will try running project with new eclipse version"}],"owner":{"account_id":18888609,"reputation":33,"user_id":13779404,"display_name":"Mandar Remane"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1690283940,"answer_count":0,"score":0,"last_activity_date":1692272697,"creation_date":1690283158,"question_id":76762089,"body_markdown":"I was using java 8 until now, but I needed to upgrade java to jdk-11 for one project. As I installed newer version and set JAVA_HOME &amp; PATH to new jdk-11 path, I started getting this error in eclipse :\r\n\r\n&gt; An internal error occurred during: &quot;Update Installed JREs&quot;. \r\n&gt; Could not determine java version from &#39;11.0.19&#39;.\r\n\r\nIn eclipse properties -&gt; JAVA_PATH and JRE I changed the Libraries to jdk-11 but nothing worked.\r\nI created new workspace and also restarted my pc.\r\nGradle version I am using - 6.8.3\r\n\r\nNote : From Command Prompt with &quot;gradle clean build -x test&quot; I am able to build the project successfully\r\nAnd I tried the solutions which are already given on other similar questions but from what I think is my gradle wrapper is not the problem and those solution didn&#39;t solved my problem\r\n\r\n\r\n\r\n","title":"Error : Could not determine java version from &#39;11.0.19&#39;","body":"<p>I was using java 8 until now, but I needed to upgrade java to jdk-11 for one project. As I installed newer version and set JAVA_HOME &amp; PATH to new jdk-11 path, I started getting this error in eclipse :</p>\n<blockquote>\n<p>An internal error occurred during: &quot;Update Installed JREs&quot;.\nCould not determine java version from '11.0.19'.</p>\n</blockquote>\n<p>In eclipse properties -&gt; JAVA_PATH and JRE I changed the Libraries to jdk-11 but nothing worked.\nI created new workspace and also restarted my pc.\nGradle version I am using - 6.8.3</p>\n<p>Note : From Command Prompt with &quot;gradle clean build -x test&quot; I am able to build the project successfully\nAnd I tried the solutions which are already given on other similar questions but from what I think is my gradle wrapper is not the problem and those solution didn't solved my problem</p>\n"},{"tags":["java","pact","pact-jvm","pact-java","pact-broker"],"answers":[{"tags":[],"owner":{"account_id":442166,"reputation":1333,"user_id":832671,"display_name":"Beth Skurrie"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1536211302,"creation_date":1536211302,"answer_id":52197013,"question_id":52073464,"body_markdown":"This seems to be a defect. Can you please raise it in the https://github.com/dius/pact-jvm repository?","title":"Pact does not send provider-verification result to pact broker if junit 5 test fails","body":"<p>This seems to be a defect. Can you please raise it in the <a href=\"https://github.com/dius/pact-jvm\" rel=\"nofollow noreferrer\">https://github.com/dius/pact-jvm</a> repository?</p>\n"}],"owner":{"account_id":14242441,"reputation":1,"user_id":10288414,"display_name":"Lukas Vetter"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2324,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1692272461,"creation_date":1535533221,"question_id":52073464,"body_markdown":"I have created a REST-service with spring. Now I want to use pact and junit 5 to test the consumer-provider-communication. I have already a running pact-broker (from https://github.com/jaimeniswonger/pact-broker-openshift). The consumer-test works fine and publishes the pacts. The provider-test loads these and trys to verificat them. But the test uploads the results only if the verification is succesfull. I tried running the test with surefire and failsafe. \r\n\r\nThe code for the test:\r\n\r\n    @ExtendWith(SpringExtension.class)\r\n    @SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.DEFINED_PORT, properties = &quot;server.port=12223&quot;)\r\n    @Provider(&quot;Provider&quot;)\r\n    @PactBroker\r\n    public class ProviderPactTest {\r\n    \r\n        @BeforeEach\r\n        void setupTestTarget(PactVerificationContext context) {\r\n            context.setTarget((new HttpsTestTarget(&quot;localhost&quot;, 12223, &quot;/&quot;, true)));\r\n        }\r\n    \r\n        @TestTemplate\r\n        @ExtendWith(PactVerificationInvocationContextProvider.class)\r\n        void pactVerificationTestTemplate(PactVerificationContext context) {\r\n            context.verifyInteraction();\r\n        }\r\n    \r\n        @State({ &quot;state1&quot; })\r\n        public void doNothing() {\r\n    \r\n        }\r\n    }\r\nThe pact broker properties are defined in the pom: \r\n\r\n    &lt;plugin&gt;\r\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;${maven.surefire.plugin.version}&lt;/version&gt;\r\n        &lt;configuration&gt;\r\n            &lt;systemPropertyVariables&gt;\r\n                &lt;pact.provider.version&gt;${project.version}&lt;/pact.provider.version&gt;\r\n                &lt;pact.verifier.publishResults&gt;true&lt;/pact.verifier.publishResults&gt;\r\n                &lt;pact.verification.reports&gt;json&lt;/pact.verification.reports&gt;\r\n                &lt;pactbroker.tags&gt;TAG&lt;/pactbroker.tags&gt;\r\n                &lt;pactbroker.host&gt;pact-broker.url.com&lt;/pactbroker.host&gt;\r\n                &lt;pactbroker.port&gt;80&lt;/pactbroker.port&gt;\r\n            &lt;/systemPropertyVariables&gt;\r\n        &lt;/configuration&gt;\r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.junit.platform&lt;/groupId&gt;\r\n                &lt;artifactId&gt;junit-platform-surefire-provider&lt;/artifactId&gt;\r\n                &lt;version&gt;${junit-platform.version}&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n                &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\r\n                &lt;version&gt;${junit.version}&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n    &lt;/plugin&gt;\r\nIs it possible to configure the test to notify the pact-broker that a verification failed?","title":"Pact does not send provider-verification result to pact broker if junit 5 test fails","body":"<p>I have created a REST-service with spring. Now I want to use pact and junit 5 to test the consumer-provider-communication. I have already a running pact-broker (from <a href=\"https://github.com/jaimeniswonger/pact-broker-openshift\" rel=\"nofollow noreferrer\">https://github.com/jaimeniswonger/pact-broker-openshift</a>). The consumer-test works fine and publishes the pacts. The provider-test loads these and trys to verificat them. But the test uploads the results only if the verification is succesfull. I tried running the test with surefire and failsafe. </p>\n\n<p>The code for the test:</p>\n\n<pre><code>@ExtendWith(SpringExtension.class)\n@SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.DEFINED_PORT, properties = \"server.port=12223\")\n@Provider(\"Provider\")\n@PactBroker\npublic class ProviderPactTest {\n\n    @BeforeEach\n    void setupTestTarget(PactVerificationContext context) {\n        context.setTarget((new HttpsTestTarget(\"localhost\", 12223, \"/\", true)));\n    }\n\n    @TestTemplate\n    @ExtendWith(PactVerificationInvocationContextProvider.class)\n    void pactVerificationTestTemplate(PactVerificationContext context) {\n        context.verifyInteraction();\n    }\n\n    @State({ \"state1\" })\n    public void doNothing() {\n\n    }\n}\n</code></pre>\n\n<p>The pact broker properties are defined in the pom: </p>\n\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n    &lt;version&gt;${maven.surefire.plugin.version}&lt;/version&gt;\n    &lt;configuration&gt;\n        &lt;systemPropertyVariables&gt;\n            &lt;pact.provider.version&gt;${project.version}&lt;/pact.provider.version&gt;\n            &lt;pact.verifier.publishResults&gt;true&lt;/pact.verifier.publishResults&gt;\n            &lt;pact.verification.reports&gt;json&lt;/pact.verification.reports&gt;\n            &lt;pactbroker.tags&gt;TAG&lt;/pactbroker.tags&gt;\n            &lt;pactbroker.host&gt;pact-broker.url.com&lt;/pactbroker.host&gt;\n            &lt;pactbroker.port&gt;80&lt;/pactbroker.port&gt;\n        &lt;/systemPropertyVariables&gt;\n    &lt;/configuration&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.platform&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-platform-surefire-provider&lt;/artifactId&gt;\n            &lt;version&gt;${junit-platform.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\n            &lt;version&gt;${junit.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n&lt;/plugin&gt;\n</code></pre>\n\n<p>Is it possible to configure the test to notify the pact-broker that a verification failed?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":13789219,"reputation":48460,"user_id":9952196,"display_name":"Shawn"},"score":3,"creation_date":1645485962,"post_id":71213995,"comment_id":125879583,"body_markdown":"`List&lt;Integer&gt; copy = new ArrayList&lt;&gt;(orig); copy.remove(i);`?","body":"<code>List&lt;Integer&gt; copy = new ArrayList&lt;&gt;(orig); copy.remove(i);</code>?"},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1645487383,"post_id":71213995,"comment_id":125879832,"body_markdown":"I can think of several alternatives, but honestly they wouldn&#39;t be much of an improvement. What you have is not that bad.","body":"I can think of several alternatives, but honestly they wouldn&#39;t be much of an improvement. What you have is not that bad."},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1645487411,"post_id":71213995,"comment_id":125879836,"body_markdown":"Note that you can replace `j -&gt; nums.get(j)` with `nums::get`.","body":"Note that you can replace <code>j -&gt; nums.get(j)</code> with <code>nums::get</code>."},{"owner":{"account_id":8468157,"reputation":6871,"user_id":6351733,"accept_rate":22,"display_name":"Maurice"},"score":0,"creation_date":1645488364,"post_id":71213995,"comment_id":125879996,"body_markdown":"You can keep track of the index by using an `AtomicInteger` instance. You start by instantiating such an instance with default value 0 ( for example `new AtomicInteger(0)`). Then you call `getAndIncrement()` on the instance from somewhere inside your stream. This will give you the current index and it also automatically increments the index by 1. So next time you call the method you&#39;ll get the updated index number.","body":"You can keep track of the index by using an <code>AtomicInteger</code> instance. You start by instantiating such an instance with default value 0 ( for example <code>new AtomicInteger(0)</code>). Then you call <code>getAndIncrement()</code> on the instance from somewhere inside your stream. This will give you the current index and it also automatically increments the index by 1. So next time you call the method you&#39;ll get the updated index number."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1645492712,"post_id":71213995,"comment_id":125880723,"body_markdown":"See `Stream#skip` in [this Answer](https://stackoverflow.com/a/43121966/642706). `myList.stream().skip(1).filter( somePredicate ).toList()`","body":"See <code>Stream#skip</code> in <a href=\"https://stackoverflow.com/a/43121966/642706\">this Answer</a>. <code>myList.stream().skip(1).filter( somePredicate ).toList()</code>"}],"answers":[{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645488769,"creation_date":1645486913,"answer_id":71214301,"question_id":71213995,"body_markdown":"You can do it like this but it&#39;s rather ugly.\r\n```\r\nList&lt;Integer&gt; list = List.of(1, 2, 3, 4, 5, 6, 7, 8, 9 );\r\n\r\nint skip = 3;\r\nList&lt;Integer&gt; result = new ArrayList&lt;&gt;(list.subList(0,skip));\r\nresult.addAll(list.subList(skip+1, list.size()));\r\n\r\nSystem.out.println(result);\r\n```\r\nprints\r\n```\r\n[1, 2, 3, 5, 6, 7, 8, 9]\r\n```\r\nYou could also employ [System.arrayCopy](https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/lang/System.html#arraycopy(java.lang.Object,int,java.lang.Object,int,int)) to specify ranges. But you would still have to do multiple copies.  If you have a big array, copying it and then removing the value might not be efficient (e.g. `ArrayLists` are are random access and values can&#39;t easily be deleted.  `LinkedList` values can easily be deleted but you have to count up or back to them first.)  So however you do it, partial copying (imo) would be the way to go.  Nothing is wrong with the way you are currently doing it. ","title":"Java - cleanest way to iterate over a stream keeping track of index","body":"<p>You can do it like this but it's rather ugly.</p>\n<pre><code>List&lt;Integer&gt; list = List.of(1, 2, 3, 4, 5, 6, 7, 8, 9 );\n\nint skip = 3;\nList&lt;Integer&gt; result = new ArrayList&lt;&gt;(list.subList(0,skip));\nresult.addAll(list.subList(skip+1, list.size()));\n\nSystem.out.println(result);\n</code></pre>\n<p>prints</p>\n<pre><code>[1, 2, 3, 5, 6, 7, 8, 9]\n</code></pre>\n<p>You could also employ <a href=\"https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/lang/System.html#arraycopy(java.lang.Object,int,java.lang.Object,int,int)\" rel=\"nofollow noreferrer\">System.arrayCopy</a> to specify ranges. But you would still have to do multiple copies.  If you have a big array, copying it and then removing the value might not be efficient (e.g. <code>ArrayLists</code> are are random access and values can't easily be deleted.  <code>LinkedList</code> values can easily be deleted but you have to count up or back to them first.)  So however you do it, partial copying (imo) would be the way to go.  Nothing is wrong with the way you are currently doing it.</p>\n"},{"tags":[],"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1645490387,"creation_date":1645488750,"answer_id":71214476,"question_id":71213995,"body_markdown":"#### The simple way\r\n\r\n    List&lt;Foo&gt; result = new ArrayList&lt;&gt;(list);\r\n    result.remove(i);\r\n\r\nFor long lists and low values of `i`, this might be a bit slow because it has to shift the tail elements left, however for brevity and clarity you can&#39;t beat it.\r\n\r\n#### The stream way\r\n\r\nYou *can* use a stream and keep track of the index by using `AtomicInteger`, whose *reference* is effectively final, but whose *value* may be changed:\r\n\r\n    AtomicInteger index = new AtomicInteger();\r\n    List&lt;Foo&gt; result = list.stream()\r\n      .filter(x -&gt; index.getAndIncrement() != i)\r\n      .collect(toList());\r\n\r\nFor large lists this may be faster since no shift left is required, and you can do other stuff in the stream in the one operation.\r\n\r\nOf course if you want to filter many elements based on their index, you can do that without any performance hit.\r\n\r\nWith a stream, you might not even need the list if you just want to do stuff with the result directly:\r\n\r\n    list.stream()\r\n      .filter(x -&gt; index.getAndIncrement() != i)\r\n      .forEach(foo -&gt; {doSomething with foo});","title":"Java - cleanest way to iterate over a stream keeping track of index","body":"<h4>The simple way</h4>\n<pre><code>List&lt;Foo&gt; result = new ArrayList&lt;&gt;(list);\nresult.remove(i);\n</code></pre>\n<p>For long lists and low values of <code>i</code>, this might be a bit slow because it has to shift the tail elements left, however for brevity and clarity you can't beat it.</p>\n<h4>The stream way</h4>\n<p>You <em>can</em> use a stream and keep track of the index by using <code>AtomicInteger</code>, whose <em>reference</em> is effectively final, but whose <em>value</em> may be changed:</p>\n<pre><code>AtomicInteger index = new AtomicInteger();\nList&lt;Foo&gt; result = list.stream()\n  .filter(x -&gt; index.getAndIncrement() != i)\n  .collect(toList());\n</code></pre>\n<p>For large lists this may be faster since no shift left is required, and you can do other stuff in the stream in the one operation.</p>\n<p>Of course if you want to filter many elements based on their index, you can do that without any performance hit.</p>\n<p>With a stream, you might not even need the list if you just want to do stuff with the result directly:</p>\n<pre><code>list.stream()\n  .filter(x -&gt; index.getAndIncrement() != i)\n  .forEach(foo -&gt; {doSomething with foo});\n</code></pre>\n"}],"owner":{"account_id":1598303,"reputation":12302,"user_id":1479895,"accept_rate":78,"display_name":"Anton Belev"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":832,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"closed_date":1645492574,"accepted_answer_id":71214476,"answer_count":2,"score":1,"last_activity_date":1692272295,"creation_date":1645484252,"question_id":71213995,"body_markdown":"I&#39;m trying to come up with a clean way to copy all elements of an `ArrayList` but one, based on its index.\r\n\r\nIn JavaScript we can filter by value, but also based on index as well. So what I&#39;m trying to achieve will look something like that:\r\n\r\n    // nums is []\r\n    for(let i = 0; i &lt;nums.length; i++) {\r\n       let copyNums = nums.filter((n, index) =&gt; index !== i);\r\n    }\r\n\r\nIn Java best I could do so far is this, which is super long and verbose. Not to mention the I couldn&#39;t use `i` itself as it&#39;s not final otherwise I&#39;m getting \r\n\r\n&gt; Variable used in lambda expression should be final or effectively\r\n&gt; final\r\n           \r\n           // nums is ArrayList\r\n           for (int i = 0; i &lt; nums.size(); i++) {\r\n                final int index = i;\r\n                List&lt;Integer&gt; allElementsWithoutCurr = IntStream.range(0, nums.size())\r\n                        .filter(j -&gt; j != index)\r\n                        .mapToObj(j -&gt; nums.get(j))\r\n                        .collect(Collectors.toList());\r\n            }\r\n\r\nSurely there is a better way to achieve this in Java?","title":"Java - cleanest way to iterate over a stream keeping track of index","body":"<p>I'm trying to come up with a clean way to copy all elements of an <code>ArrayList</code> but one, based on its index.</p>\n<p>In JavaScript we can filter by value, but also based on index as well. So what I'm trying to achieve will look something like that:</p>\n<pre><code>// nums is []\nfor(let i = 0; i &lt;nums.length; i++) {\n   let copyNums = nums.filter((n, index) =&gt; index !== i);\n}\n</code></pre>\n<p>In Java best I could do so far is this, which is super long and verbose. Not to mention the I couldn't use <code>i</code> itself as it's not final otherwise I'm getting</p>\n<blockquote>\n<p>Variable used in lambda expression should be final or effectively\nfinal</p>\n</blockquote>\n<pre><code>       // nums is ArrayList\n       for (int i = 0; i &lt; nums.size(); i++) {\n            final int index = i;\n            List&lt;Integer&gt; allElementsWithoutCurr = IntStream.range(0, nums.size())\n                    .filter(j -&gt; j != index)\n                    .mapToObj(j -&gt; nums.get(j))\n                    .collect(Collectors.toList());\n        }\n</code></pre>\n<p>Surely there is a better way to achieve this in Java?</p>\n"},{"tags":["java","javafx","scenebuilder"],"comments":[{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1692266202,"post_id":76920349,"comment_id":135601097,"body_markdown":"My guess is you&#39;re instantiating `LabyrinthCreate` manually. You need to interact with the controller instance managed by the `FXMLLoader`, as it&#39;s only that instance that has the FXML fields injected.","body":"My guess is you&#39;re instantiating <code>LabyrinthCreate</code> manually. You need to interact with the controller instance managed by the <code>FXMLLoader</code>, as it&#39;s only that instance that has the FXML fields injected."},{"owner":{"account_id":28857700,"reputation":21,"user_id":22102164,"display_name":"Antonella Sannino"},"score":0,"creation_date":1692266742,"post_id":76920349,"comment_id":135601198,"body_markdown":"i added my full code","body":"i added my full code"},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1692267020,"post_id":76920349,"comment_id":135601247,"body_markdown":"My guess seems to be correct. In `LabyrinthName`, you call `createLab` on an instance created with `new LabyrinthCreate()`. Since you manually created that instance, the FXML field was never injected. I assume that `Scene3.fxml` is associated with `LabyrinthCreate`. You need to get the instance by calling `FXMLLoader#getController()` (after the call to `load()`).","body":"My guess seems to be correct. In <code>LabyrinthName</code>, you call <code>createLab</code> on an instance created with <code>new LabyrinthCreate()</code>. Since you manually created that instance, the FXML field was never injected. I assume that <code>Scene3.fxml</code> is associated with <code>LabyrinthCreate</code>. You need to get the instance by calling <code>FXMLLoader#getController()</code> (after the call to <code>load()</code>)."},{"owner":{"account_id":28857700,"reputation":21,"user_id":22102164,"display_name":"Antonella Sannino"},"score":0,"creation_date":1692268213,"post_id":76920349,"comment_id":135601442,"body_markdown":"In LabirynthName i added loader.getController() as you said but i still got the same error, maybe i have to create the fxml and the loader in LabirynthCreate? \nAlso yes you did understand what i was doing, thank you","body":"In LabirynthName i added loader.getController() as you said but i still got the same error, maybe i have to create the fxml and the loader in LabirynthCreate?  Also yes you did understand what i was doing, thank you"},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1692268790,"post_id":76920349,"comment_id":135601558,"body_markdown":"You&#39;re saying `loader.&lt;LabyrinthCreate&gt;getController().create(window);` is throwing the _exact same_ `NullPointerException`?","body":"You&#39;re saying <code>loader.&lt;LabyrinthCreate&gt;getController().create(window);</code> is throwing the <i>exact same</i> <code>NullPointerException</code>?"},{"owner":{"account_id":28857700,"reputation":21,"user_id":22102164,"display_name":"Antonella Sannino"},"score":0,"creation_date":1692269611,"post_id":76920349,"comment_id":135601713,"body_markdown":"I understood what you said, the right way was loader.&lt;LabyrinthCreate&gt;getController().createLab(window); thank you so much Slaw","body":"I understood what you said, the right way was loader.&lt;LabyrinthCreate&gt;getController().createLab(window); thank you so much Slaw"}],"answers":[{"tags":[],"owner":{"account_id":28857700,"reputation":21,"user_id":22102164,"display_name":"Antonella Sannino"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1692269652,"creation_date":1692269652,"answer_id":76920824,"question_id":76920349,"body_markdown":"In labirynthName i needed to add \r\nloader.&lt;LabyrinthCreate&gt;getController().createLab(window);\r\n","title":"No injectable field found in FXML Controller class for the id &#39;wall&#39; Java fx Scenebuilder","body":"<p>In labirynthName i needed to add\nloader.getController().createLab(window);</p>\n"},{"tags":[],"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1692270830,"creation_date":1692270830,"answer_id":76920968,"question_id":76920349,"body_markdown":"When you have an `fx:controller` attribute in the root element of the FXML file, then you must not instantiate the controller class yourself (possibly unless you&#39;re also defining a custom [controller factory][1]). The `FXMLLoader` will instantiate the controller for you (via reflection by default) and it&#39;s only that instance which will have any `@FXML`-annotated fields injected. You can get this controller instance by calling [`FXMLLoader#getController()`][2] _after_ the call to `load()`.\r\n\r\nFor example, let&#39;s say you have the following FXML file and associated controller class.\r\n\r\n**Main.fxml**:\r\n\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n\r\n&lt;?import javafx.scene.control.Label?&gt;\r\n&lt;?import javafx.scene.layout.StackPane?&gt;\r\n\r\n&lt;StackPane xmlns=&quot;http://javafx.com/javafx&quot; xmlns:fx=&quot;http://javafx.com/fxml&quot;\r\n           fx:controller=&quot;com.example.Controller&quot;&gt;\r\n    &lt;Label fx:id=&quot;label&quot;/&gt;\r\n&lt;/StackPane&gt;\r\n```\r\n\r\n**Controller.java**:\r\n\r\n```java\r\npackage com.example;\r\n\r\nimport javafx.fxml.FXML;\r\nimport javafx.scene.control.Label;\r\n\r\npublic class Controller {\r\n\r\n    @FXML private Label label;\r\n\r\n    public void setLabelText(String labelText) {\r\n        label.setText(labelText);\r\n    }\r\n}\r\n```\r\n\r\nThen you&#39;d load the FXML file, get the controller instance, and call `setLabelText` like so.\r\n\r\n**Main.java**:\r\n\r\n```java\r\npackage com.example;\r\n\r\nimport javafx.application.Application;\r\nimport javafx.fxml.FXMLLoader;\r\nimport javafx.scene.Parent;\r\nimport javafx.scene.Scene;\r\nimport javafx.stage.Stage;\r\n\r\npublic class Main extends Application {\r\n\r\n    @Override\r\n    public void start(Stage primaryStage) throws Exception {\r\n        // Assumes &#39;Main.fxml&#39; is at the root of the class-path/module-path\r\n        FXMLLoader loader = new FXMLLoader(Main.class.getResource(&quot;/Main.fxml&quot;));\r\n        \r\n        Parent root = loader.load();\r\n\r\n        // Get *managed* controller instance (after call to &#39;load()&#39;)\r\n        Controller controller = loader.getController();\r\n        // Call method on the managed controller instance\r\n        controller.setLabelText(&quot;Hello, World!&quot;);\r\n\r\n        primaryStage.setScene(new Scene(root, 500, 300));\r\n        primaryStage.show();\r\n    }\r\n}\r\n```\r\n\r\nIf the following was done instead (similar to your code):\r\n\r\n```java\r\nController controller = new Controller();\r\ncontroller.setLabelText(&quot;Hello, World!&quot;);\r\n```\r\n\r\nThen a `NullPointerException` would&#39;ve been thrown, because the controller instance is an _unmanaged_ instance and thus the `label` field was never injected.\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n  [1]: https://openjfx.io/javadoc/20/javafx.fxml/javafx/fxml/FXMLLoader.html#setControllerFactory(javafx.util.Callback)\r\n  [2]: https://openjfx.io/javadoc/20/javafx.fxml/javafx/fxml/FXMLLoader.html#getController()","title":"No injectable field found in FXML Controller class for the id &#39;wall&#39; Java fx Scenebuilder","body":"<p>When you have an <code>fx:controller</code> attribute in the root element of the FXML file, then you must not instantiate the controller class yourself (possibly unless you're also defining a custom <a href=\"https://openjfx.io/javadoc/20/javafx.fxml/javafx/fxml/FXMLLoader.html#setControllerFactory(javafx.util.Callback)\" rel=\"nofollow noreferrer\">controller factory</a>). The <code>FXMLLoader</code> will instantiate the controller for you (via reflection by default) and it's only that instance which will have any <code>@FXML</code>-annotated fields injected. You can get this controller instance by calling <a href=\"https://openjfx.io/javadoc/20/javafx.fxml/javafx/fxml/FXMLLoader.html#getController()\" rel=\"nofollow noreferrer\"><code>FXMLLoader#getController()</code></a> <em>after</em> the call to <code>load()</code>.</p>\n<p>For example, let's say you have the following FXML file and associated controller class.</p>\n<p><strong>Main.fxml</strong>:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n&lt;?import javafx.scene.control.Label?&gt;\n&lt;?import javafx.scene.layout.StackPane?&gt;\n\n&lt;StackPane xmlns=&quot;http://javafx.com/javafx&quot; xmlns:fx=&quot;http://javafx.com/fxml&quot;\n           fx:controller=&quot;com.example.Controller&quot;&gt;\n    &lt;Label fx:id=&quot;label&quot;/&gt;\n&lt;/StackPane&gt;\n</code></pre>\n<p><strong>Controller.java</strong>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.example;\n\nimport javafx.fxml.FXML;\nimport javafx.scene.control.Label;\n\npublic class Controller {\n\n    @FXML private Label label;\n\n    public void setLabelText(String labelText) {\n        label.setText(labelText);\n    }\n}\n</code></pre>\n<p>Then you'd load the FXML file, get the controller instance, and call <code>setLabelText</code> like so.</p>\n<p><strong>Main.java</strong>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.example;\n\nimport javafx.application.Application;\nimport javafx.fxml.FXMLLoader;\nimport javafx.scene.Parent;\nimport javafx.scene.Scene;\nimport javafx.stage.Stage;\n\npublic class Main extends Application {\n\n    @Override\n    public void start(Stage primaryStage) throws Exception {\n        // Assumes 'Main.fxml' is at the root of the class-path/module-path\n        FXMLLoader loader = new FXMLLoader(Main.class.getResource(&quot;/Main.fxml&quot;));\n        \n        Parent root = loader.load();\n\n        // Get *managed* controller instance (after call to 'load()')\n        Controller controller = loader.getController();\n        // Call method on the managed controller instance\n        controller.setLabelText(&quot;Hello, World!&quot;);\n\n        primaryStage.setScene(new Scene(root, 500, 300));\n        primaryStage.show();\n    }\n}\n</code></pre>\n<p>If the following was done instead (similar to your code):</p>\n<pre class=\"lang-java prettyprint-override\"><code>Controller controller = new Controller();\ncontroller.setLabelText(&quot;Hello, World!&quot;);\n</code></pre>\n<p>Then a <code>NullPointerException</code> would've been thrown, because the controller instance is an <em>unmanaged</em> instance and thus the <code>label</code> field was never injected.</p>\n"}],"owner":{"account_id":28857700,"reputation":21,"user_id":22102164,"display_name":"Antonella Sannino"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1692270830,"creation_date":1692265652,"question_id":76920349,"body_markdown":"i&#39;m programming a maze for a project for my university. \r\nI created some scenes where you have to click on play to continue then you insert your name and surname then the code will create the maze etc. \r\nI got some problems with scenebuilder and FXML files, when i create a rectangle in scene builder then i call it with the same id in java i got this error: **Cannot invoke &quot;javafx.scene.shape.Rectangle.setX(double)&quot; because &quot;this.wall&quot; is null** i checked everything, but i can&#39;t find the problem, in scene builder the scene has the controller class setted, also it worked for the other scene, only in this scene builder can&#39;t find the injectable field. \r\nThis is my code (it hasn&#39;t nothing in Labirynth Create but i already have some code to create the game, this is simplified for you to understand my problem) \r\nThank you so much.\r\n\r\n\r\n```\r\npackage com.maze.Models;\r\n\r\nimport javafx.beans.binding.BooleanBinding;\r\nimport javafx.beans.property.BooleanProperty;\r\nimport javafx.beans.property.SimpleBooleanProperty;\r\nimport javafx.fxml.FXML;\r\nimport javafx.scene.Group;\r\nimport javafx.scene.image.ImageView;\r\nimport javafx.animation.AnimationTimer;\r\nimport javafx.scene.input.KeyCode;\r\n\r\n\r\npublic class Player {\r\n\r\n\r\n    private BooleanProperty upPressed = new SimpleBooleanProperty();\r\n    private BooleanProperty leftPressed = new SimpleBooleanProperty();\r\n    private BooleanProperty downPressed = new SimpleBooleanProperty();\r\n    private BooleanProperty rightPressed = new SimpleBooleanProperty();\r\n    private BooleanProperty upRight = new SimpleBooleanProperty();\r\n    private BooleanProperty upLeft = new SimpleBooleanProperty();\r\n    private BooleanProperty downRight = new SimpleBooleanProperty();\r\n    private BooleanProperty downLeft = new SimpleBooleanProperty();\r\n\r\n    private BooleanBinding keyPressed = upPressed.or(leftPressed).or(downPressed).or(rightPressed).or(upRight).or(upLeft).or(downRight).or(downLeft);\r\n\r\n    int row;\r\n    int col;\r\n\r\n   public Player ()\r\n    {\r\n        row=0;\r\n        col=0;\r\n    }\r\n\r\n    @FXML\r\n    private ImageView sprite;\r\n\r\n    @FXML\r\n    private Group scene;\r\n\r\n\r\n\r\n    public void makeMovable(ImageView sprite, Group scene){\r\n        this.sprite = sprite;\r\n        this.scene = scene;\r\n\r\n        movementSetup();\r\n\r\n        keyPressed.addListener(((observableValue, aBoolean, t1) -&gt; {\r\n            if(!aBoolean){\r\n                timer.start();\r\n            } else {\r\n                timer.stop();\r\n            }\r\n        }));\r\n    }\r\n\r\n    AnimationTimer timer = new AnimationTimer() {\r\n        @Override\r\n        public void handle(long timestamp) {\r\n\r\n            if(upPressed.get()) {\r\n\r\n                if (row&gt;=0 &amp;&amp; row&lt;9)\r\n                {\r\n\r\n                    sprite.setLayoutY(sprite.getLayoutY() - 75);\r\n                    upPressed.set(false);\r\n                    row++;\r\n                }\r\n                upPressed.set(false);\r\n\r\n            }\r\n\r\n            if(downPressed.get()){\r\n\r\n                if (row&gt;0 &amp;&amp; row&lt;=9)\r\n                {\r\n                    sprite.setLayoutY(sprite.getLayoutY() + 75);\r\n                    downPressed.set(false);\r\n                    row--;\r\n                }\r\n                downPressed.set(false);\r\n\r\n            }\r\n\r\n            if(leftPressed.get()){\r\n\r\n                if (col&gt;0 &amp;&amp; col&lt;=9)\r\n                {\r\n                    sprite.setLayoutX(sprite.getLayoutX() - 75);\r\n                    leftPressed.set(false);\r\n                    col--;\r\n                }\r\n                leftPressed.set(false);\r\n            }\r\n\r\n            if(rightPressed.get()){\r\n\r\n                if (col&gt;=0 &amp;&amp; col&lt;9)\r\n                {\r\n                    sprite.setLayoutX(sprite.getLayoutX() + 75);\r\n                    rightPressed.set(false);\r\n                    col++;\r\n                }\r\n                rightPressed.set(false);\r\n            }\r\n\r\n\r\n            if(upRight.get()){\r\n\r\n                if (col&gt;=0 &amp;&amp; col&lt;9 &amp;&amp; row&gt;=0 &amp;&amp; row&lt;9)\r\n                {\r\n\r\n                    sprite.setLayoutX(sprite.getLayoutX() + 75);\r\n                    sprite.setLayoutY(sprite.getLayoutY() - 75);\r\n                    upRight.set(false);\r\n                    col++;\r\n                    row++;\r\n                    System.out.println(&quot;Posizione attuale&quot;+row+col);\r\n                }\r\n                upRight.set(false);\r\n            }\r\n\r\n            if(upLeft.get()){\r\n\r\n                if (col&gt;0 &amp;&amp; col&lt;=9 &amp;&amp; row&gt;=0 &amp;&amp; row&lt;9)\r\n                {\r\n                    sprite.setLayoutX(sprite.getLayoutX() - 75);\r\n                    sprite.setLayoutY(sprite.getLayoutY() - 75);\r\n                    upLeft.set(false);\r\n                    col--;\r\n                    row++;\r\n                    System.out.println(&quot;Posizione attuale&quot;+row+col);\r\n                }\r\n                upLeft.set(false);\r\n            }\r\n\r\n            if(downRight.get()){\r\n\r\n                if (row&gt;0 &amp;&amp; row&lt;=9 &amp;&amp; col&gt;=0 &amp;&amp; col&lt;9)\r\n                {\r\n                    sprite.setLayoutX(sprite.getLayoutX() + 75);\r\n                    sprite.setLayoutY(sprite.getLayoutY() + 75);\r\n                    downRight.set(false);\r\n                    col++;\r\n                    row--;\r\n                    System.out.println(&quot;Posizione attuale&quot;+row+col);\r\n                }\r\n                downRight.set(false);\r\n            }\r\n\r\n            if(downLeft.get()){\r\n\r\n                if (col&gt;0 &amp;&amp; col&lt;=9 &amp;&amp; row&gt;0 &amp;&amp; row&lt;=9)\r\n                {\r\n                    sprite.setLayoutX(sprite.getLayoutX() - 75);\r\n                    sprite.setLayoutY(sprite.getLayoutY() + 75);\r\n                    downLeft.set(false);\r\n                    col--;\r\n                    row--;\r\n                    System.out.println(&quot;Posizione attuale&quot;+row+col);\r\n                }\r\n                downLeft.set(false);\r\n            }\r\n\r\n\r\n        }\r\n    };\r\n\r\n    private void movementSetup(){\r\n        scene.setOnKeyPressed(e -&gt; {\r\n            if(e.getCode() == KeyCode.W) {\r\n                upPressed.set(true);\r\n            }\r\n\r\n            if(e.getCode() == KeyCode.A) {\r\n                leftPressed.set(true);\r\n            }\r\n\r\n            if(e.getCode() == KeyCode.S) {\r\n                downPressed.set(true);\r\n            }\r\n\r\n            if(e.getCode() == KeyCode.D) {\r\n                rightPressed.set(true);\r\n            }\r\n            ///\r\n            if(e.getCode() == KeyCode.E) {\r\n                upRight.set(true);\r\n            }\r\n\r\n            if(e.getCode() == KeyCode.Q) {\r\n                upLeft.set(true);\r\n            }\r\n\r\n            if(e.getCode() == KeyCode.C) {\r\n                downRight.set(true);\r\n            }\r\n\r\n            if(e.getCode() == KeyCode.Z) {\r\n                downLeft.set(true);\r\n            }\r\n        });\r\n\r\n    }\r\n}\r\n\r\n```\r\n\r\n\r\n```\r\npackage com.maze.Models;\r\n\r\npublic class User {\r\n\r\n\r\n       private String name, surname;\r\n\r\n\r\n\r\n        public void setName(String name) {\r\n            this.name = name;\r\n        }\r\n        public void setSurname(String surname) {\r\n            this.surname = surname;\r\n        }\r\n        public String getName() {\r\n            return name;\r\n        }\r\n        public String getSurname() {\r\n            return surname;\r\n        }\r\n\r\n}\r\n```\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n```\r\npackage com.maze.Models;\r\n\r\npublic class Model {\r\n    private static Model instance;\r\n    private User user;\r\n\r\n    public static synchronized Model getInstance(){\r\n        if (instance == null)\r\n        {\r\n            instance = new Model();\r\n        }\r\n        return instance;\r\n    }\r\n\r\n    private Model() {\r\n        this.user= new User();\r\n    }\r\n\r\n    public void createUser (String name, String surname)\r\n    {\r\n        user.setName(name);\r\n        user.setSurname(surname);\r\n        System.out.println(user.getName());\r\n        System.out.println(user.getName());\r\n    }\r\n\r\n\r\n\r\n}\r\n```\r\n\r\n\r\n\r\n```\r\npackage com.maze.Models;\r\n\r\nimport javafx.scene.paint.Color;\r\nimport javafx.scene.shape.Rectangle;\r\nimport java.lang.Cloneable;\r\nimport java.lang.Object;\r\npublic class Cella implements Cloneable {\r\n\r\n    private Rectangle rect;\r\n\r\n\r\n    public Cella()\r\n    {\r\n        rect = new Rectangle();\r\n        rect.setX(75);\r\n        rect.setY(75);\r\n        rect.setHeight(70);\r\n        rect.setWidth(70);\r\n        rect.setFill(Color.GRAY);\r\n    }\r\n    public Cella (Cella temp)\r\n    {\r\n        temp.rect.setX(this.rect.getX()*2);\r\n        temp.rect.setY(this.rect.getY()*2);\r\n        temp.rect.setHeight(this.rect.getHeight());\r\n        temp.rect.setWidth(this.rect.getWidth());\r\n        temp.rect.setFill(this.rect.getFill());\r\n    }\r\n\r\n    public Rectangle getRectangle(){\r\n        return rect;\r\n    }\r\n\r\n    public void editX(int x)\r\n    {\r\n        rect.setX(x);\r\n    }\r\n\r\n    public void editY(int y)\r\n    {\r\n        rect.setY(y);\r\n    }\r\n\r\n    @Override\r\n    public Object clone() throws CloneNotSupportedException\r\n    {\r\n      Cella temp= new Cella();\r\n      temp.rect.setX(this.rect.getX());\r\n      temp.rect.setY(this.rect.getY());\r\n      temp.rect.setHeight(this.rect.getHeight());\r\n      temp.rect.setWidth(this.rect.getWidth());\r\n      temp.rect.setFill(this.rect.getFill());\r\n      return temp;\r\n    }\r\n\r\n\r\n}\r\n\r\n\r\n```\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n```\r\npackage com.maze.Views;\r\n\r\nimport javafx.application.Application;\r\nimport javafx.fxml.FXMLLoader;\r\nimport javafx.scene.Scene;\r\nimport javafx.scene.layout.AnchorPane;\r\nimport javafx.stage.Stage;\r\nimport javafx.scene.Parent;\r\n\r\nimport java.io.IOException;\r\n\r\npublic class LabyrinthApplication extends Application {\r\n    @Override\r\n    public void start(Stage stage) throws IOException {\r\n\r\n        FXMLLoader loader = new FXMLLoader(getClass().getResource(\r\n                &quot;/com/maze/FXML/Scene1.fxml&quot;));\r\n\r\n        Parent root = loader.load();\r\n        Scene scene = new Scene(root,1000,900);\r\n\r\n\r\n\r\n\r\n        stage.setTitle(&quot;Labyrinth&quot;);\r\n        stage.setScene(scene);\r\n        stage.show();\r\n        stage.setResizable(false);\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        launch();\r\n    }\r\n}\r\n```\r\n\r\n\r\n\r\n\r\n```\r\npackage com.maze.ViewModels;\r\n\r\nimport com.maze.Models.Model;\r\nimport com.maze.Models.User;\r\nimport javafx.event.ActionEvent;\r\nimport javafx.fxml.FXML;\r\nimport javafx.fxml.FXMLLoader;\r\nimport javafx.scene.Parent;\r\nimport javafx.scene.Scene;\r\nimport javafx.scene.image.Image;\r\nimport javafx.scene.image.ImageView;\r\nimport javafx.stage.Stage;\r\nimport javafx.scene.control.Button;\r\nimport javafx.scene.control.TextField;\r\nimport javafx.stage.Stage;\r\n\r\n\r\n\r\npublic class LabyrinthName {\r\n    @FXML\r\n    private TextField nametext;\r\n    @FXML\r\n    private TextField surnametext;\r\n    @FXML\r\n    private Button submitbutton;\r\n\r\n\r\n    String Name, Surname;\r\n    LabyrinthCreate create = new LabyrinthCreate();\r\n\r\n    @FXML\r\n\r\n    public void submit(ActionEvent event) throws Exception\r\n    {\r\n        Name = nametext.getText();\r\n        Surname = surnametext.getText();\r\n        Model.getInstance().createUser(Name,Surname);\r\n        FXMLLoader loader = new FXMLLoader(getClass().getResource(\r\n                &quot;/com/maze/FXML/Scene3.fxml&quot;));\r\n        Parent root = loader.load();\r\n        Stage window = (Stage) submitbutton.getScene().getWindow();\r\n\r\n        window.setScene(new Scene(root,1000,900));\r\n        window.setResizable(false);\r\n        create.createLab(window);\r\n    }\r\n\r\n}\r\n\r\n```\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n```\r\n    package com.maze.ViewModels;\r\n\r\nimport javafx.fxml.FXML;\r\nimport javafx.fxml.FXMLLoader;\r\nimport javafx.scene.Parent;\r\nimport javafx.scene.Scene;\r\nimport javafx.scene.control.Button;\r\nimport javafx.scene.image.Image;\r\nimport javafx.scene.image.ImageView;\r\nimport javafx.scene.layout.AnchorPane;\r\nimport javafx.scene.paint.Color;\r\nimport javafx.stage.Stage;\r\n\r\npublic class LabyrinthController {\r\n    @FXML\r\n    Button playbutton;\r\n\r\n    public void onPlayButtonClick() throws Exception {\r\n\r\n        FXMLLoader loader = new FXMLLoader(getClass().getResource(\r\n                &quot;/com/maze/FXML/Scene2.fxml&quot;));\r\n        Parent root = loader.load();\r\n        Stage window = (Stage) playbutton.getScene().getWindow();\r\n        window.setScene(new Scene(root,1000,900));\r\n\r\n\r\n        window.setResizable(false);\r\n\r\n    }\r\n}\r\n\r\n\r\n```\r\n\r\n\r\n\r\n\r\n```\r\npackage com.maze.ViewModels;\r\n\r\nimport javafx.fxml.FXML;\r\nimport javafx.scene.shape.Rectangle;\r\nimport javafx.stage.Stage;\r\n\r\npublic class LabyrinthCreate\r\n{\r\n\r\n\r\n    @FXML\r\n    private Rectangle wall;\r\n\r\n    public void createLab(Stage primaryStage) throws Exception\r\n    {\r\n\r\n\r\n        wall.setX(100);\r\n        wall.setY(100);\r\n\r\n        System.out.println(&quot;tutto ok&quot;);\r\n        primaryStage.show();\r\n    }\r\n}\r\n```\r\n```xml\r\n\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n\r\n&lt;?import javafx.geometry.Insets?&gt;\r\n&lt;?import javafx.scene.control.Button?&gt;\r\n&lt;?import javafx.scene.effect.DropShadow?&gt;\r\n&lt;?import javafx.scene.image.Image?&gt;\r\n&lt;?import javafx.scene.image.ImageView?&gt;\r\n&lt;?import javafx.scene.layout.AnchorPane?&gt;\r\n&lt;?import javafx.scene.layout.VBox?&gt;\r\n&lt;?import javafx.scene.paint.Color?&gt;\r\n&lt;?import javafx.scene.text.Font?&gt;\r\n&lt;?import javafx.scene.text.Text?&gt;\r\n\r\n&lt;VBox alignment=&quot;CENTER&quot; maxHeight=&quot;-Infinity&quot; maxWidth=&quot;-Infinity&quot; minHeight=&quot;-Infinity&quot; minWidth=&quot;-Infinity&quot; prefHeight=&quot;800.0&quot; prefWidth=&quot;900.0&quot; spacing=&quot;20.0&quot; style=&quot;-fx-background-color: black;&quot; xmlns=&quot;http://javafx.com/javafx/20.0.0&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot; fx:controller=&quot;com.maze.ViewModels.LabyrinthController&quot;&gt;\r\n  &lt;padding&gt;\r\n    &lt;Insets bottom=&quot;20.0&quot; left=&quot;20.0&quot; right=&quot;20.0&quot; top=&quot;20.0&quot; /&gt;\r\n  &lt;/padding&gt;\r\n   &lt;children&gt;\r\n      &lt;AnchorPane maxHeight=&quot;-Infinity&quot; maxWidth=&quot;-Infinity&quot; minHeight=&quot;-Infinity&quot; minWidth=&quot;-Infinity&quot; prefHeight=&quot;800.0&quot; prefWidth=&quot;900.0&quot;&gt;\r\n         &lt;children&gt;\r\n            &lt;Text fill=&quot;WHITE&quot; layoutX=&quot;183.0&quot; layoutY=&quot;306.0&quot; strokeType=&quot;OUTSIDE&quot; strokeWidth=&quot;0.0&quot; text=&quot;MAZE GAME &quot;&gt;\r\n               &lt;font&gt;\r\n                  &lt;Font name=&quot;Cooper Black&quot; size=&quot;64.0&quot; /&gt;\r\n               &lt;/font&gt;\r\n            &lt;/Text&gt;\r\n            &lt;Button fx:id=&quot;playbutton&quot; layoutX=&quot;326.0&quot; layoutY=&quot;391.0&quot; mnemonicParsing=&quot;false&quot; onAction=&quot;#onPlayButtonClick&quot; prefHeight=&quot;63.0&quot; prefWidth=&quot;218.0&quot; style=&quot;-fx-background-color: grey;&quot; text=&quot;Play&quot; textAlignment=&quot;CENTER&quot; textFill=&quot;WHITE&quot;&gt;\r\n               &lt;font&gt;\r\n                  &lt;Font name=&quot;Cooper Black&quot; size=&quot;46.0&quot; /&gt;\r\n               &lt;/font&gt;\r\n               &lt;effect&gt;\r\n                  &lt;DropShadow height=&quot;103.07&quot; offsetX=&quot;6.0&quot; radius=&quot;40.775&quot; width=&quot;62.03&quot;&gt;\r\n                     &lt;color&gt;\r\n                        &lt;Color red=&quot;0.32894736528396606&quot; green=&quot;0.3259015679359436&quot; blue=&quot;0.3259015679359436&quot; /&gt;\r\n                     &lt;/color&gt;\r\n                  &lt;/DropShadow&gt;\r\n               &lt;/effect&gt;\r\n            &lt;/Button&gt;\r\n            &lt;Text fill=&quot;WHITE&quot; layoutX=&quot;513.0&quot; layoutY=&quot;771.0&quot; strokeType=&quot;OUTSIDE&quot; strokeWidth=&quot;0.0&quot; text=&quot;Created by Antonella Sannino&quot;&gt;\r\n               &lt;font&gt;\r\n                  &lt;Font name=&quot;Cooper Black&quot; size=&quot;24.0&quot; /&gt;\r\n               &lt;/font&gt;\r\n            &lt;/Text&gt;\r\n            &lt;ImageView fx:id=&quot;startRobot&quot; fitHeight=&quot;150.0&quot; fitWidth=&quot;200.0&quot; layoutX=&quot;617.0&quot; layoutY=&quot;192.0&quot; pickOnBounds=&quot;true&quot; preserveRatio=&quot;true&quot;&gt;\r\n               &lt;image&gt;\r\n                  &lt;Image url=&quot;@../image/robot.png&quot; /&gt;\r\n               &lt;/image&gt;\r\n            &lt;/ImageView&gt;\r\n         &lt;/children&gt;\r\n      &lt;/AnchorPane&gt;\r\n   &lt;/children&gt;\r\n&lt;/VBox&gt;\r\n\r\n```\r\n\r\n\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n\r\n&lt;?import javafx.geometry.Insets?&gt;\r\n&lt;?import javafx.scene.control.Button?&gt;\r\n&lt;?import javafx.scene.control.TextField?&gt;\r\n&lt;?import javafx.scene.layout.AnchorPane?&gt;\r\n&lt;?import javafx.scene.layout.VBox?&gt;\r\n&lt;?import javafx.scene.text.Font?&gt;\r\n&lt;?import javafx.scene.text.Text?&gt;\r\n\r\n&lt;VBox alignment=&quot;CENTER&quot; maxHeight=&quot;-Infinity&quot; maxWidth=&quot;-Infinity&quot; minHeight=&quot;-Infinity&quot; minWidth=&quot;-Infinity&quot; prefHeight=&quot;800.0&quot; prefWidth=&quot;900.0&quot; spacing=&quot;20.0&quot; style=&quot;-fx-background-color: black;&quot; xmlns=&quot;http://javafx.com/javafx/20.0.0&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot; fx:controller=&quot;com.maze.ViewModels.LabyrinthName&quot;&gt;\r\n  &lt;padding&gt;\r\n    &lt;Insets bottom=&quot;20.0&quot; left=&quot;20.0&quot; right=&quot;20.0&quot; top=&quot;20.0&quot; /&gt;\r\n  &lt;/padding&gt;\r\n   &lt;children&gt;\r\n      &lt;AnchorPane maxHeight=&quot;-Infinity&quot; maxWidth=&quot;-Infinity&quot; minHeight=&quot;-Infinity&quot; minWidth=&quot;-Infinity&quot; prefHeight=&quot;800.0&quot; prefWidth=&quot;900.0&quot;&gt;\r\n         &lt;children&gt;\r\n            &lt;Button fx:id=&quot;submitbutton&quot; alignment=&quot;CENTER&quot; contentDisplay=&quot;CENTER&quot; layoutX=&quot;399.0&quot; layoutY=&quot;472.0&quot; mnemonicParsing=&quot;false&quot; onAction=&quot;#submit&quot; prefHeight=&quot;49.0&quot; prefWidth=&quot;102.0&quot; text=&quot;Submit&quot;&gt;\r\n               &lt;font&gt;\r\n                  &lt;Font name=&quot;System Bold&quot; size=&quot;20.0&quot; /&gt;\r\n               &lt;/font&gt;\r\n            &lt;/Button&gt;\r\n            &lt;TextField fx:id=&quot;nametext&quot; layoutX=&quot;283.0&quot; layoutY=&quot;360.0&quot; style=&quot;-fx-alignment: center;&quot;&gt;\r\n               &lt;font&gt;\r\n                  &lt;Font name=&quot;Arial Bold&quot; size=&quot;12.0&quot; /&gt;\r\n               &lt;/font&gt;\r\n            &lt;/TextField&gt;\r\n            &lt;Text fill=&quot;WHITE&quot; layoutX=&quot;310.0&quot; layoutY=&quot;344.0&quot; strokeType=&quot;OUTSIDE&quot; strokeWidth=&quot;0.0&quot; text=&quot;Name&quot;&gt;\r\n               &lt;font&gt;\r\n                  &lt;Font name=&quot;Cooper Black&quot; size=&quot;33.0&quot; /&gt;\r\n               &lt;/font&gt;\r\n            &lt;/Text&gt;\r\n            &lt;TextField fx:id=&quot;surnametext&quot; alignment=&quot;CENTER_RIGHT&quot; layoutX=&quot;466.0&quot; layoutY=&quot;360.0&quot; style=&quot;-fx-alignment: center;&quot;&gt;\r\n               &lt;font&gt;\r\n                  &lt;Font name=&quot;Arial Bold&quot; size=&quot;12.0&quot; /&gt;\r\n               &lt;/font&gt;\r\n            &lt;/TextField&gt;\r\n            &lt;Text fill=&quot;WHITE&quot; layoutX=&quot;465.0&quot; layoutY=&quot;343.0&quot; strokeType=&quot;OUTSIDE&quot; strokeWidth=&quot;0.0&quot; text=&quot;Surname&quot;&gt;\r\n               &lt;font&gt;\r\n                  &lt;Font name=&quot;Cooper Black&quot; size=&quot;33.0&quot; /&gt;\r\n               &lt;/font&gt;\r\n            &lt;/Text&gt;\r\n            &lt;Text fill=&quot;WHITE&quot; layoutX=&quot;306.0&quot; layoutY=&quot;235.0&quot; strokeType=&quot;OUTSIDE&quot; strokeWidth=&quot;0.0&quot; text=&quot;Insert your name&quot;&gt;\r\n               &lt;font&gt;\r\n                  &lt;Font name=&quot;Cooper Black&quot; size=&quot;33.0&quot; /&gt;\r\n               &lt;/font&gt;\r\n            &lt;/Text&gt;\r\n         &lt;/children&gt;\r\n      &lt;/AnchorPane&gt;\r\n   &lt;/children&gt;\r\n&lt;/VBox&gt;\r\n\r\n```\r\n\r\n\r\n\r\n\r\n\r\n\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n\r\n&lt;?import javafx.scene.layout.VBox?&gt;\r\n&lt;?import javafx.scene.shape.Rectangle?&gt;\r\n\r\n&lt;VBox maxHeight=&quot;-Infinity&quot; maxWidth=&quot;-Infinity&quot; minHeight=&quot;-Infinity&quot; minWidth=&quot;-Infinity&quot; prefHeight=&quot;900.0&quot; prefWidth=&quot;1000.0&quot; style=&quot;-fx-background-color: black;&quot; xmlns=&quot;http://javafx.com/javafx/20.0.1&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot; fx:controller=&quot;com.maze.ViewModels.LabyrinthCreate&quot;&gt;\r\n   &lt;children&gt;\r\n      &lt;Rectangle fx:id=&quot;wall&quot; arcHeight=&quot;5.0&quot; arcWidth=&quot;5.0&quot; fill=&quot;DODGERBLUE&quot; height=&quot;200.0&quot; stroke=&quot;BLACK&quot; strokeType=&quot;INSIDE&quot; width=&quot;200.0&quot; /&gt;\r\n   &lt;/children&gt;\r\n&lt;/VBox&gt;\r\n```\r\n\r\n\r\n\r\n\r\n\r\n\r\n[Scenebuilder view](https://i.stack.imgur.com/8G9rn.png)\r\n\r\n\r\n\r\n\r\n\r\nI was expecting scene builder to find the id for Rectangle class.","title":"No injectable field found in FXML Controller class for the id &#39;wall&#39; Java fx Scenebuilder","body":"<p>i'm programming a maze for a project for my university.\nI created some scenes where you have to click on play to continue then you insert your name and surname then the code will create the maze etc.\nI got some problems with scenebuilder and FXML files, when i create a rectangle in scene builder then i call it with the same id in java i got this error: <strong>Cannot invoke &quot;javafx.scene.shape.Rectangle.setX(double)&quot; because &quot;this.wall&quot; is null</strong> i checked everything, but i can't find the problem, in scene builder the scene has the controller class setted, also it worked for the other scene, only in this scene builder can't find the injectable field.\nThis is my code (it hasn't nothing in Labirynth Create but i already have some code to create the game, this is simplified for you to understand my problem)\nThank you so much.</p>\n<pre><code>package com.maze.Models;\n\nimport javafx.beans.binding.BooleanBinding;\nimport javafx.beans.property.BooleanProperty;\nimport javafx.beans.property.SimpleBooleanProperty;\nimport javafx.fxml.FXML;\nimport javafx.scene.Group;\nimport javafx.scene.image.ImageView;\nimport javafx.animation.AnimationTimer;\nimport javafx.scene.input.KeyCode;\n\n\npublic class Player {\n\n\n    private BooleanProperty upPressed = new SimpleBooleanProperty();\n    private BooleanProperty leftPressed = new SimpleBooleanProperty();\n    private BooleanProperty downPressed = new SimpleBooleanProperty();\n    private BooleanProperty rightPressed = new SimpleBooleanProperty();\n    private BooleanProperty upRight = new SimpleBooleanProperty();\n    private BooleanProperty upLeft = new SimpleBooleanProperty();\n    private BooleanProperty downRight = new SimpleBooleanProperty();\n    private BooleanProperty downLeft = new SimpleBooleanProperty();\n\n    private BooleanBinding keyPressed = upPressed.or(leftPressed).or(downPressed).or(rightPressed).or(upRight).or(upLeft).or(downRight).or(downLeft);\n\n    int row;\n    int col;\n\n   public Player ()\n    {\n        row=0;\n        col=0;\n    }\n\n    @FXML\n    private ImageView sprite;\n\n    @FXML\n    private Group scene;\n\n\n\n    public void makeMovable(ImageView sprite, Group scene){\n        this.sprite = sprite;\n        this.scene = scene;\n\n        movementSetup();\n\n        keyPressed.addListener(((observableValue, aBoolean, t1) -&gt; {\n            if(!aBoolean){\n                timer.start();\n            } else {\n                timer.stop();\n            }\n        }));\n    }\n\n    AnimationTimer timer = new AnimationTimer() {\n        @Override\n        public void handle(long timestamp) {\n\n            if(upPressed.get()) {\n\n                if (row&gt;=0 &amp;&amp; row&lt;9)\n                {\n\n                    sprite.setLayoutY(sprite.getLayoutY() - 75);\n                    upPressed.set(false);\n                    row++;\n                }\n                upPressed.set(false);\n\n            }\n\n            if(downPressed.get()){\n\n                if (row&gt;0 &amp;&amp; row&lt;=9)\n                {\n                    sprite.setLayoutY(sprite.getLayoutY() + 75);\n                    downPressed.set(false);\n                    row--;\n                }\n                downPressed.set(false);\n\n            }\n\n            if(leftPressed.get()){\n\n                if (col&gt;0 &amp;&amp; col&lt;=9)\n                {\n                    sprite.setLayoutX(sprite.getLayoutX() - 75);\n                    leftPressed.set(false);\n                    col--;\n                }\n                leftPressed.set(false);\n            }\n\n            if(rightPressed.get()){\n\n                if (col&gt;=0 &amp;&amp; col&lt;9)\n                {\n                    sprite.setLayoutX(sprite.getLayoutX() + 75);\n                    rightPressed.set(false);\n                    col++;\n                }\n                rightPressed.set(false);\n            }\n\n\n            if(upRight.get()){\n\n                if (col&gt;=0 &amp;&amp; col&lt;9 &amp;&amp; row&gt;=0 &amp;&amp; row&lt;9)\n                {\n\n                    sprite.setLayoutX(sprite.getLayoutX() + 75);\n                    sprite.setLayoutY(sprite.getLayoutY() - 75);\n                    upRight.set(false);\n                    col++;\n                    row++;\n                    System.out.println(&quot;Posizione attuale&quot;+row+col);\n                }\n                upRight.set(false);\n            }\n\n            if(upLeft.get()){\n\n                if (col&gt;0 &amp;&amp; col&lt;=9 &amp;&amp; row&gt;=0 &amp;&amp; row&lt;9)\n                {\n                    sprite.setLayoutX(sprite.getLayoutX() - 75);\n                    sprite.setLayoutY(sprite.getLayoutY() - 75);\n                    upLeft.set(false);\n                    col--;\n                    row++;\n                    System.out.println(&quot;Posizione attuale&quot;+row+col);\n                }\n                upLeft.set(false);\n            }\n\n            if(downRight.get()){\n\n                if (row&gt;0 &amp;&amp; row&lt;=9 &amp;&amp; col&gt;=0 &amp;&amp; col&lt;9)\n                {\n                    sprite.setLayoutX(sprite.getLayoutX() + 75);\n                    sprite.setLayoutY(sprite.getLayoutY() + 75);\n                    downRight.set(false);\n                    col++;\n                    row--;\n                    System.out.println(&quot;Posizione attuale&quot;+row+col);\n                }\n                downRight.set(false);\n            }\n\n            if(downLeft.get()){\n\n                if (col&gt;0 &amp;&amp; col&lt;=9 &amp;&amp; row&gt;0 &amp;&amp; row&lt;=9)\n                {\n                    sprite.setLayoutX(sprite.getLayoutX() - 75);\n                    sprite.setLayoutY(sprite.getLayoutY() + 75);\n                    downLeft.set(false);\n                    col--;\n                    row--;\n                    System.out.println(&quot;Posizione attuale&quot;+row+col);\n                }\n                downLeft.set(false);\n            }\n\n\n        }\n    };\n\n    private void movementSetup(){\n        scene.setOnKeyPressed(e -&gt; {\n            if(e.getCode() == KeyCode.W) {\n                upPressed.set(true);\n            }\n\n            if(e.getCode() == KeyCode.A) {\n                leftPressed.set(true);\n            }\n\n            if(e.getCode() == KeyCode.S) {\n                downPressed.set(true);\n            }\n\n            if(e.getCode() == KeyCode.D) {\n                rightPressed.set(true);\n            }\n            ///\n            if(e.getCode() == KeyCode.E) {\n                upRight.set(true);\n            }\n\n            if(e.getCode() == KeyCode.Q) {\n                upLeft.set(true);\n            }\n\n            if(e.getCode() == KeyCode.C) {\n                downRight.set(true);\n            }\n\n            if(e.getCode() == KeyCode.Z) {\n                downLeft.set(true);\n            }\n        });\n\n    }\n}\n\n</code></pre>\n<pre><code>package com.maze.Models;\n\npublic class User {\n\n\n       private String name, surname;\n\n\n\n        public void setName(String name) {\n            this.name = name;\n        }\n        public void setSurname(String surname) {\n            this.surname = surname;\n        }\n        public String getName() {\n            return name;\n        }\n        public String getSurname() {\n            return surname;\n        }\n\n}\n</code></pre>\n<pre><code>package com.maze.Models;\n\npublic class Model {\n    private static Model instance;\n    private User user;\n\n    public static synchronized Model getInstance(){\n        if (instance == null)\n        {\n            instance = new Model();\n        }\n        return instance;\n    }\n\n    private Model() {\n        this.user= new User();\n    }\n\n    public void createUser (String name, String surname)\n    {\n        user.setName(name);\n        user.setSurname(surname);\n        System.out.println(user.getName());\n        System.out.println(user.getName());\n    }\n\n\n\n}\n</code></pre>\n<pre><code>package com.maze.Models;\n\nimport javafx.scene.paint.Color;\nimport javafx.scene.shape.Rectangle;\nimport java.lang.Cloneable;\nimport java.lang.Object;\npublic class Cella implements Cloneable {\n\n    private Rectangle rect;\n\n\n    public Cella()\n    {\n        rect = new Rectangle();\n        rect.setX(75);\n        rect.setY(75);\n        rect.setHeight(70);\n        rect.setWidth(70);\n        rect.setFill(Color.GRAY);\n    }\n    public Cella (Cella temp)\n    {\n        temp.rect.setX(this.rect.getX()*2);\n        temp.rect.setY(this.rect.getY()*2);\n        temp.rect.setHeight(this.rect.getHeight());\n        temp.rect.setWidth(this.rect.getWidth());\n        temp.rect.setFill(this.rect.getFill());\n    }\n\n    public Rectangle getRectangle(){\n        return rect;\n    }\n\n    public void editX(int x)\n    {\n        rect.setX(x);\n    }\n\n    public void editY(int y)\n    {\n        rect.setY(y);\n    }\n\n    @Override\n    public Object clone() throws CloneNotSupportedException\n    {\n      Cella temp= new Cella();\n      temp.rect.setX(this.rect.getX());\n      temp.rect.setY(this.rect.getY());\n      temp.rect.setHeight(this.rect.getHeight());\n      temp.rect.setWidth(this.rect.getWidth());\n      temp.rect.setFill(this.rect.getFill());\n      return temp;\n    }\n\n\n}\n\n\n</code></pre>\n<pre><code>package com.maze.Views;\n\nimport javafx.application.Application;\nimport javafx.fxml.FXMLLoader;\nimport javafx.scene.Scene;\nimport javafx.scene.layout.AnchorPane;\nimport javafx.stage.Stage;\nimport javafx.scene.Parent;\n\nimport java.io.IOException;\n\npublic class LabyrinthApplication extends Application {\n    @Override\n    public void start(Stage stage) throws IOException {\n\n        FXMLLoader loader = new FXMLLoader(getClass().getResource(\n                &quot;/com/maze/FXML/Scene1.fxml&quot;));\n\n        Parent root = loader.load();\n        Scene scene = new Scene(root,1000,900);\n\n\n\n\n        stage.setTitle(&quot;Labyrinth&quot;);\n        stage.setScene(scene);\n        stage.show();\n        stage.setResizable(false);\n    }\n\n    public static void main(String[] args) {\n        launch();\n    }\n}\n</code></pre>\n<pre><code>package com.maze.ViewModels;\n\nimport com.maze.Models.Model;\nimport com.maze.Models.User;\nimport javafx.event.ActionEvent;\nimport javafx.fxml.FXML;\nimport javafx.fxml.FXMLLoader;\nimport javafx.scene.Parent;\nimport javafx.scene.Scene;\nimport javafx.scene.image.Image;\nimport javafx.scene.image.ImageView;\nimport javafx.stage.Stage;\nimport javafx.scene.control.Button;\nimport javafx.scene.control.TextField;\nimport javafx.stage.Stage;\n\n\n\npublic class LabyrinthName {\n    @FXML\n    private TextField nametext;\n    @FXML\n    private TextField surnametext;\n    @FXML\n    private Button submitbutton;\n\n\n    String Name, Surname;\n    LabyrinthCreate create = new LabyrinthCreate();\n\n    @FXML\n\n    public void submit(ActionEvent event) throws Exception\n    {\n        Name = nametext.getText();\n        Surname = surnametext.getText();\n        Model.getInstance().createUser(Name,Surname);\n        FXMLLoader loader = new FXMLLoader(getClass().getResource(\n                &quot;/com/maze/FXML/Scene3.fxml&quot;));\n        Parent root = loader.load();\n        Stage window = (Stage) submitbutton.getScene().getWindow();\n\n        window.setScene(new Scene(root,1000,900));\n        window.setResizable(false);\n        create.createLab(window);\n    }\n\n}\n\n</code></pre>\n<pre><code>    package com.maze.ViewModels;\n\nimport javafx.fxml.FXML;\nimport javafx.fxml.FXMLLoader;\nimport javafx.scene.Parent;\nimport javafx.scene.Scene;\nimport javafx.scene.control.Button;\nimport javafx.scene.image.Image;\nimport javafx.scene.image.ImageView;\nimport javafx.scene.layout.AnchorPane;\nimport javafx.scene.paint.Color;\nimport javafx.stage.Stage;\n\npublic class LabyrinthController {\n    @FXML\n    Button playbutton;\n\n    public void onPlayButtonClick() throws Exception {\n\n        FXMLLoader loader = new FXMLLoader(getClass().getResource(\n                &quot;/com/maze/FXML/Scene2.fxml&quot;));\n        Parent root = loader.load();\n        Stage window = (Stage) playbutton.getScene().getWindow();\n        window.setScene(new Scene(root,1000,900));\n\n\n        window.setResizable(false);\n\n    }\n}\n\n\n</code></pre>\n<pre><code>package com.maze.ViewModels;\n\nimport javafx.fxml.FXML;\nimport javafx.scene.shape.Rectangle;\nimport javafx.stage.Stage;\n\npublic class LabyrinthCreate\n{\n\n\n    @FXML\n    private Rectangle wall;\n\n    public void createLab(Stage primaryStage) throws Exception\n    {\n\n\n        wall.setX(100);\n        wall.setY(100);\n\n        System.out.println(&quot;tutto ok&quot;);\n        primaryStage.show();\n    }\n}\n</code></pre>\n<pre class=\"lang-xml prettyprint-override\"><code>\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n&lt;?import javafx.geometry.Insets?&gt;\n&lt;?import javafx.scene.control.Button?&gt;\n&lt;?import javafx.scene.effect.DropShadow?&gt;\n&lt;?import javafx.scene.image.Image?&gt;\n&lt;?import javafx.scene.image.ImageView?&gt;\n&lt;?import javafx.scene.layout.AnchorPane?&gt;\n&lt;?import javafx.scene.layout.VBox?&gt;\n&lt;?import javafx.scene.paint.Color?&gt;\n&lt;?import javafx.scene.text.Font?&gt;\n&lt;?import javafx.scene.text.Text?&gt;\n\n&lt;VBox alignment=&quot;CENTER&quot; maxHeight=&quot;-Infinity&quot; maxWidth=&quot;-Infinity&quot; minHeight=&quot;-Infinity&quot; minWidth=&quot;-Infinity&quot; prefHeight=&quot;800.0&quot; prefWidth=&quot;900.0&quot; spacing=&quot;20.0&quot; style=&quot;-fx-background-color: black;&quot; xmlns=&quot;http://javafx.com/javafx/20.0.0&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot; fx:controller=&quot;com.maze.ViewModels.LabyrinthController&quot;&gt;\n  &lt;padding&gt;\n    &lt;Insets bottom=&quot;20.0&quot; left=&quot;20.0&quot; right=&quot;20.0&quot; top=&quot;20.0&quot; /&gt;\n  &lt;/padding&gt;\n   &lt;children&gt;\n      &lt;AnchorPane maxHeight=&quot;-Infinity&quot; maxWidth=&quot;-Infinity&quot; minHeight=&quot;-Infinity&quot; minWidth=&quot;-Infinity&quot; prefHeight=&quot;800.0&quot; prefWidth=&quot;900.0&quot;&gt;\n         &lt;children&gt;\n            &lt;Text fill=&quot;WHITE&quot; layoutX=&quot;183.0&quot; layoutY=&quot;306.0&quot; strokeType=&quot;OUTSIDE&quot; strokeWidth=&quot;0.0&quot; text=&quot;MAZE GAME &quot;&gt;\n               &lt;font&gt;\n                  &lt;Font name=&quot;Cooper Black&quot; size=&quot;64.0&quot; /&gt;\n               &lt;/font&gt;\n            &lt;/Text&gt;\n            &lt;Button fx:id=&quot;playbutton&quot; layoutX=&quot;326.0&quot; layoutY=&quot;391.0&quot; mnemonicParsing=&quot;false&quot; onAction=&quot;#onPlayButtonClick&quot; prefHeight=&quot;63.0&quot; prefWidth=&quot;218.0&quot; style=&quot;-fx-background-color: grey;&quot; text=&quot;Play&quot; textAlignment=&quot;CENTER&quot; textFill=&quot;WHITE&quot;&gt;\n               &lt;font&gt;\n                  &lt;Font name=&quot;Cooper Black&quot; size=&quot;46.0&quot; /&gt;\n               &lt;/font&gt;\n               &lt;effect&gt;\n                  &lt;DropShadow height=&quot;103.07&quot; offsetX=&quot;6.0&quot; radius=&quot;40.775&quot; width=&quot;62.03&quot;&gt;\n                     &lt;color&gt;\n                        &lt;Color red=&quot;0.32894736528396606&quot; green=&quot;0.3259015679359436&quot; blue=&quot;0.3259015679359436&quot; /&gt;\n                     &lt;/color&gt;\n                  &lt;/DropShadow&gt;\n               &lt;/effect&gt;\n            &lt;/Button&gt;\n            &lt;Text fill=&quot;WHITE&quot; layoutX=&quot;513.0&quot; layoutY=&quot;771.0&quot; strokeType=&quot;OUTSIDE&quot; strokeWidth=&quot;0.0&quot; text=&quot;Created by Antonella Sannino&quot;&gt;\n               &lt;font&gt;\n                  &lt;Font name=&quot;Cooper Black&quot; size=&quot;24.0&quot; /&gt;\n               &lt;/font&gt;\n            &lt;/Text&gt;\n            &lt;ImageView fx:id=&quot;startRobot&quot; fitHeight=&quot;150.0&quot; fitWidth=&quot;200.0&quot; layoutX=&quot;617.0&quot; layoutY=&quot;192.0&quot; pickOnBounds=&quot;true&quot; preserveRatio=&quot;true&quot;&gt;\n               &lt;image&gt;\n                  &lt;Image url=&quot;@../image/robot.png&quot; /&gt;\n               &lt;/image&gt;\n            &lt;/ImageView&gt;\n         &lt;/children&gt;\n      &lt;/AnchorPane&gt;\n   &lt;/children&gt;\n&lt;/VBox&gt;\n\n</code></pre>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n&lt;?import javafx.geometry.Insets?&gt;\n&lt;?import javafx.scene.control.Button?&gt;\n&lt;?import javafx.scene.control.TextField?&gt;\n&lt;?import javafx.scene.layout.AnchorPane?&gt;\n&lt;?import javafx.scene.layout.VBox?&gt;\n&lt;?import javafx.scene.text.Font?&gt;\n&lt;?import javafx.scene.text.Text?&gt;\n\n&lt;VBox alignment=&quot;CENTER&quot; maxHeight=&quot;-Infinity&quot; maxWidth=&quot;-Infinity&quot; minHeight=&quot;-Infinity&quot; minWidth=&quot;-Infinity&quot; prefHeight=&quot;800.0&quot; prefWidth=&quot;900.0&quot; spacing=&quot;20.0&quot; style=&quot;-fx-background-color: black;&quot; xmlns=&quot;http://javafx.com/javafx/20.0.0&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot; fx:controller=&quot;com.maze.ViewModels.LabyrinthName&quot;&gt;\n  &lt;padding&gt;\n    &lt;Insets bottom=&quot;20.0&quot; left=&quot;20.0&quot; right=&quot;20.0&quot; top=&quot;20.0&quot; /&gt;\n  &lt;/padding&gt;\n   &lt;children&gt;\n      &lt;AnchorPane maxHeight=&quot;-Infinity&quot; maxWidth=&quot;-Infinity&quot; minHeight=&quot;-Infinity&quot; minWidth=&quot;-Infinity&quot; prefHeight=&quot;800.0&quot; prefWidth=&quot;900.0&quot;&gt;\n         &lt;children&gt;\n            &lt;Button fx:id=&quot;submitbutton&quot; alignment=&quot;CENTER&quot; contentDisplay=&quot;CENTER&quot; layoutX=&quot;399.0&quot; layoutY=&quot;472.0&quot; mnemonicParsing=&quot;false&quot; onAction=&quot;#submit&quot; prefHeight=&quot;49.0&quot; prefWidth=&quot;102.0&quot; text=&quot;Submit&quot;&gt;\n               &lt;font&gt;\n                  &lt;Font name=&quot;System Bold&quot; size=&quot;20.0&quot; /&gt;\n               &lt;/font&gt;\n            &lt;/Button&gt;\n            &lt;TextField fx:id=&quot;nametext&quot; layoutX=&quot;283.0&quot; layoutY=&quot;360.0&quot; style=&quot;-fx-alignment: center;&quot;&gt;\n               &lt;font&gt;\n                  &lt;Font name=&quot;Arial Bold&quot; size=&quot;12.0&quot; /&gt;\n               &lt;/font&gt;\n            &lt;/TextField&gt;\n            &lt;Text fill=&quot;WHITE&quot; layoutX=&quot;310.0&quot; layoutY=&quot;344.0&quot; strokeType=&quot;OUTSIDE&quot; strokeWidth=&quot;0.0&quot; text=&quot;Name&quot;&gt;\n               &lt;font&gt;\n                  &lt;Font name=&quot;Cooper Black&quot; size=&quot;33.0&quot; /&gt;\n               &lt;/font&gt;\n            &lt;/Text&gt;\n            &lt;TextField fx:id=&quot;surnametext&quot; alignment=&quot;CENTER_RIGHT&quot; layoutX=&quot;466.0&quot; layoutY=&quot;360.0&quot; style=&quot;-fx-alignment: center;&quot;&gt;\n               &lt;font&gt;\n                  &lt;Font name=&quot;Arial Bold&quot; size=&quot;12.0&quot; /&gt;\n               &lt;/font&gt;\n            &lt;/TextField&gt;\n            &lt;Text fill=&quot;WHITE&quot; layoutX=&quot;465.0&quot; layoutY=&quot;343.0&quot; strokeType=&quot;OUTSIDE&quot; strokeWidth=&quot;0.0&quot; text=&quot;Surname&quot;&gt;\n               &lt;font&gt;\n                  &lt;Font name=&quot;Cooper Black&quot; size=&quot;33.0&quot; /&gt;\n               &lt;/font&gt;\n            &lt;/Text&gt;\n            &lt;Text fill=&quot;WHITE&quot; layoutX=&quot;306.0&quot; layoutY=&quot;235.0&quot; strokeType=&quot;OUTSIDE&quot; strokeWidth=&quot;0.0&quot; text=&quot;Insert your name&quot;&gt;\n               &lt;font&gt;\n                  &lt;Font name=&quot;Cooper Black&quot; size=&quot;33.0&quot; /&gt;\n               &lt;/font&gt;\n            &lt;/Text&gt;\n         &lt;/children&gt;\n      &lt;/AnchorPane&gt;\n   &lt;/children&gt;\n&lt;/VBox&gt;\n\n</code></pre>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n&lt;?import javafx.scene.layout.VBox?&gt;\n&lt;?import javafx.scene.shape.Rectangle?&gt;\n\n&lt;VBox maxHeight=&quot;-Infinity&quot; maxWidth=&quot;-Infinity&quot; minHeight=&quot;-Infinity&quot; minWidth=&quot;-Infinity&quot; prefHeight=&quot;900.0&quot; prefWidth=&quot;1000.0&quot; style=&quot;-fx-background-color: black;&quot; xmlns=&quot;http://javafx.com/javafx/20.0.1&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot; fx:controller=&quot;com.maze.ViewModels.LabyrinthCreate&quot;&gt;\n   &lt;children&gt;\n      &lt;Rectangle fx:id=&quot;wall&quot; arcHeight=&quot;5.0&quot; arcWidth=&quot;5.0&quot; fill=&quot;DODGERBLUE&quot; height=&quot;200.0&quot; stroke=&quot;BLACK&quot; strokeType=&quot;INSIDE&quot; width=&quot;200.0&quot; /&gt;\n   &lt;/children&gt;\n&lt;/VBox&gt;\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/8G9rn.png\" rel=\"nofollow noreferrer\">Scenebuilder view</a></p>\n<p>I was expecting scene builder to find the id for Rectangle class.</p>\n"},{"tags":["java","android","networking","connection","retrofit2"],"answers":[{"tags":[],"owner":{"account_id":29212915,"reputation":29,"user_id":22380473,"display_name":"Johannes Schidlowski"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692269537,"creation_date":1692269537,"answer_id":76920809,"question_id":76912294,"body_markdown":"Did you add\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot;/&gt;\r\n\r\nin your Manifest?","title":"Unable to resolve host or failed to connect","body":"<p>Did you add</p>\n<pre><code>&lt;uses-permission android:name=&quot;android.permission.INTERNET&quot;/&gt;\n</code></pre>\n<p>in your Manifest?</p>\n"},{"tags":[],"owner":{"account_id":20369966,"reputation":11,"user_id":14942360,"display_name":"Harshil Thakkar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692270615,"creation_date":1692270615,"answer_id":76920934,"question_id":76912294,"body_markdown":"Please Check your Internet connected or not or else check api server in postman.","title":"Unable to resolve host or failed to connect","body":"<p>Please Check your Internet connected or not or else check api server in postman.</p>\n"}],"owner":{"account_id":4557119,"reputation":67,"user_id":3700538,"display_name":"user3700538"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1692270615,"creation_date":1692178362,"question_id":76912294,"body_markdown":"In my android application, I periodically get two types of errors saying there is a network connection problem. I am using retrofit2 2.9.0. Application got all needed permissions. Data network is used.\r\n\r\nMy app periodically (every 15 minutes) syncs with home server and api.openweathermap.org. The problem occurs for both, so it is not an issue of my server.\r\n\r\nI increased retrofit (OkHttpClient) timeout to 30secs without a luck.\r\n\r\nThe source of the problem may be a poor network connection but I observe that when the problem occurs the connection is good enough that I can load website in a browser.\r\n\r\n```\r\nfailed to connect to xxxxxx.com/xxx.xxx.xxx.xxx (port 443) from /192.0.0.4 (port 54944) after 30000ms\r\nlibcore.io.IoBridge.connectErrno(IoBridge.java:190)\r\nlibcore.io.IoBridge.connect(IoBridge.java:134)\r\njava.net.PlainSocketImpl.socketConnect(PlainSocketImpl.java:142)\r\njava.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:390)\r\njava.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:230)\r\njava.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:212)\r\njava.net.SocksSocketImpl.connect(SocksSocketImpl.java:436)\r\njava.net.Socket.connect(Socket.java:631)\r\nokhttp3.internal.platform.Platform.connectSocket(Platform.kt:128)\r\nokhttp3.internal.connection.RealConnection.connectSocket(RealConnection.kt:295)\r\nokhttp3.internal.connection.RealConnection.connect(RealConnection.kt:207)\r\nokhttp3.internal.connection.ExchangeFinder.findConnection(ExchangeFinder.kt:226)\r\nokhttp3.internal.connection.ExchangeFinder.findHealthyConnection(ExchangeFinder.kt:106)\r\nokhttp3.internal.connection.ExchangeFinder.find(ExchangeFinder.kt:74)\r\nokhttp3.internal.connection.RealCall.initExchange$okhttp(RealCall.kt:255)\r\nokhttp3.internal.connection.ConnectInterceptor.intercept(ConnectInterceptor.kt:32)\r\nokhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109)\r\nokhttp3.internal.cache.CacheInterceptor.intercept(CacheInterceptor.kt:95)\r\nokhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109)\r\nokhttp3.internal.http.BridgeInterceptor.intercept(BridgeInterceptor.kt:83)\r\nokhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109)\r\nokhttp3.internal.http.RetryAndFollowUpInterceptor.intercept(RetryAndFollowUpInterceptor.kt:76)\r\nokhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109)\r\nokhttp3.internal.connection.RealCall.getResponseWithInterceptorChain$okhttp(RealCall.kt:201)\r\nokhttp3.internal.connection.RealCall$AsyncCall.run(RealCall.kt:517)\r\njava.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1167)\r\njava.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:641)\r\njava.lang.Thread.run(Thread.java:923)\r\n```\r\n\r\n```\r\nUnable to resolve host &quot;xxxxxx.com&quot;: No address associated with hostname\r\njava.net.Inet6AddressImpl.lookupHostByName(Inet6AddressImpl.java:156)\r\njava.net.Inet6AddressImpl.lookupAllHostAddr(Inet6AddressImpl.java:103)\r\njava.net.InetAddress.getAllByName(InetAddress.java:1152)\r\nokhttp3.Dns$Companion$DnsSystem.lookup(Dns.kt:49)\r\nokhttp3.internal.connection.RouteSelector.resetNextInetSocketAddress(RouteSelector.kt:164)\r\nokhttp3.internal.connection.RouteSelector.nextProxy(RouteSelector.kt:129)\r\nokhttp3.internal.connection.RouteSelector.next(RouteSelector.kt:71)\r\nokhttp3.internal.connection.ExchangeFinder.findConnection(ExchangeFinder.kt:205)\r\nokhttp3.internal.connection.ExchangeFinder.findHealthyConnection(ExchangeFinder.kt:106)\r\nokhttp3.internal.connection.ExchangeFinder.find(ExchangeFinder.kt:74)\r\nokhttp3.internal.connection.RealCall.initExchange$okhttp(RealCall.kt:255)\r\nokhttp3.internal.connection.ConnectInterceptor.intercept(ConnectInterceptor.kt:32)\r\nokhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109)\r\nokhttp3.internal.cache.CacheInterceptor.intercept(CacheInterceptor.kt:95)\r\nokhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109)\r\nokhttp3.internal.http.BridgeInterceptor.intercept(BridgeInterceptor.kt:83)\r\nokhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109)\r\nokhttp3.internal.http.RetryAndFollowUpInterceptor.intercept(RetryAndFollowUpInterceptor.kt:76)\r\nokhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109)\r\nokhttp3.internal.connection.RealCall.getResponseWithInterceptorChain$okhttp(RealCall.kt:201)\r\nokhttp3.internal.connection.RealCall$AsyncCall.run(RealCall.kt:517)\r\njava.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1167)\r\njava.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:641)\r\njava.lang.Thread.run(Thread.java:923)\r\nlibcore.io.Linux.android_getaddrinfo(Native Method)\r\nlibcore.io.ForwardingOs.android_getaddrinfo(ForwardingOs.java:73)\r\nlibcore.io.BlockGuardOs.android_getaddrinfo(BlockGuardOs.java:202)\r\nlibcore.io.ForwardingOs.android_getaddrinfo(ForwardingOs.java:73)\r\njava.net.Inet6AddressImpl.lookupHostByName(Inet6AddressImpl.java:135)\r\njava.net.Inet6AddressImpl.lookupAllHostAddr(Inet6AddressImpl.java:103)\r\njava.net.InetAddress.getAllByName(InetAddress.java:1152)\r\nokhttp3.Dns$Companion$DnsSystem.lookup(Dns.kt:49)\r\nokhttp3.internal.connection.RouteSelector.resetNextInetSocketAddress(RouteSelector.kt:164)\r\nokhttp3.internal.connection.RouteSelector.nextProxy(RouteSelector.kt:129)\r\nokhttp3.internal.connection.RouteSelector.next(RouteSelector.kt:71)\r\nokhttp3.internal.connection.ExchangeFinder.findConnection(ExchangeFinder.kt:205)\r\nokhttp3.internal.connection.ExchangeFinder.findHealthyConnection(ExchangeFinder.kt:106)\r\nokhttp3.internal.connection.ExchangeFinder.find(ExchangeFinder.kt:74)\r\nokhttp3.internal.connection.RealCall.initExchange$okhttp(RealCall.kt:255)\r\nokhttp3.internal.connection.ConnectInterceptor.intercept(ConnectInterceptor.kt:32)\r\nokhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109)\r\nokhttp3.internal.cache.CacheInterceptor.intercept(CacheInterceptor.kt:95)\r\nokhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109)\r\nokhttp3.internal.http.BridgeInterceptor.intercept(BridgeInterceptor.kt:83)\r\nokhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109)\r\nokhttp3.internal.http.RetryAndFollowUpInterceptor.intercept(RetryAndFollowUpInterceptor.kt:76)\r\nokhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109)\r\nokhttp3.internal.connection.RealCall.getResponseWithInterceptorChain$okhttp(RealCall.kt:201)\r\nokhttp3.internal.connection.RealCall$AsyncCall.run(RealCall.kt:517)\r\njava.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1167)\r\njava.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:641)\r\njava.lang.Thread.run(Thread.java:923)\r\n```","title":"Unable to resolve host or failed to connect","body":"<p>In my android application, I periodically get two types of errors saying there is a network connection problem. I am using retrofit2 2.9.0. Application got all needed permissions. Data network is used.</p>\n<p>My app periodically (every 15 minutes) syncs with home server and api.openweathermap.org. The problem occurs for both, so it is not an issue of my server.</p>\n<p>I increased retrofit (OkHttpClient) timeout to 30secs without a luck.</p>\n<p>The source of the problem may be a poor network connection but I observe that when the problem occurs the connection is good enough that I can load website in a browser.</p>\n<pre><code>failed to connect to xxxxxx.com/xxx.xxx.xxx.xxx (port 443) from /192.0.0.4 (port 54944) after 30000ms\nlibcore.io.IoBridge.connectErrno(IoBridge.java:190)\nlibcore.io.IoBridge.connect(IoBridge.java:134)\njava.net.PlainSocketImpl.socketConnect(PlainSocketImpl.java:142)\njava.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:390)\njava.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:230)\njava.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:212)\njava.net.SocksSocketImpl.connect(SocksSocketImpl.java:436)\njava.net.Socket.connect(Socket.java:631)\nokhttp3.internal.platform.Platform.connectSocket(Platform.kt:128)\nokhttp3.internal.connection.RealConnection.connectSocket(RealConnection.kt:295)\nokhttp3.internal.connection.RealConnection.connect(RealConnection.kt:207)\nokhttp3.internal.connection.ExchangeFinder.findConnection(ExchangeFinder.kt:226)\nokhttp3.internal.connection.ExchangeFinder.findHealthyConnection(ExchangeFinder.kt:106)\nokhttp3.internal.connection.ExchangeFinder.find(ExchangeFinder.kt:74)\nokhttp3.internal.connection.RealCall.initExchange$okhttp(RealCall.kt:255)\nokhttp3.internal.connection.ConnectInterceptor.intercept(ConnectInterceptor.kt:32)\nokhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109)\nokhttp3.internal.cache.CacheInterceptor.intercept(CacheInterceptor.kt:95)\nokhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109)\nokhttp3.internal.http.BridgeInterceptor.intercept(BridgeInterceptor.kt:83)\nokhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109)\nokhttp3.internal.http.RetryAndFollowUpInterceptor.intercept(RetryAndFollowUpInterceptor.kt:76)\nokhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109)\nokhttp3.internal.connection.RealCall.getResponseWithInterceptorChain$okhttp(RealCall.kt:201)\nokhttp3.internal.connection.RealCall$AsyncCall.run(RealCall.kt:517)\njava.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1167)\njava.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:641)\njava.lang.Thread.run(Thread.java:923)\n</code></pre>\n<pre><code>Unable to resolve host &quot;xxxxxx.com&quot;: No address associated with hostname\njava.net.Inet6AddressImpl.lookupHostByName(Inet6AddressImpl.java:156)\njava.net.Inet6AddressImpl.lookupAllHostAddr(Inet6AddressImpl.java:103)\njava.net.InetAddress.getAllByName(InetAddress.java:1152)\nokhttp3.Dns$Companion$DnsSystem.lookup(Dns.kt:49)\nokhttp3.internal.connection.RouteSelector.resetNextInetSocketAddress(RouteSelector.kt:164)\nokhttp3.internal.connection.RouteSelector.nextProxy(RouteSelector.kt:129)\nokhttp3.internal.connection.RouteSelector.next(RouteSelector.kt:71)\nokhttp3.internal.connection.ExchangeFinder.findConnection(ExchangeFinder.kt:205)\nokhttp3.internal.connection.ExchangeFinder.findHealthyConnection(ExchangeFinder.kt:106)\nokhttp3.internal.connection.ExchangeFinder.find(ExchangeFinder.kt:74)\nokhttp3.internal.connection.RealCall.initExchange$okhttp(RealCall.kt:255)\nokhttp3.internal.connection.ConnectInterceptor.intercept(ConnectInterceptor.kt:32)\nokhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109)\nokhttp3.internal.cache.CacheInterceptor.intercept(CacheInterceptor.kt:95)\nokhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109)\nokhttp3.internal.http.BridgeInterceptor.intercept(BridgeInterceptor.kt:83)\nokhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109)\nokhttp3.internal.http.RetryAndFollowUpInterceptor.intercept(RetryAndFollowUpInterceptor.kt:76)\nokhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109)\nokhttp3.internal.connection.RealCall.getResponseWithInterceptorChain$okhttp(RealCall.kt:201)\nokhttp3.internal.connection.RealCall$AsyncCall.run(RealCall.kt:517)\njava.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1167)\njava.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:641)\njava.lang.Thread.run(Thread.java:923)\nlibcore.io.Linux.android_getaddrinfo(Native Method)\nlibcore.io.ForwardingOs.android_getaddrinfo(ForwardingOs.java:73)\nlibcore.io.BlockGuardOs.android_getaddrinfo(BlockGuardOs.java:202)\nlibcore.io.ForwardingOs.android_getaddrinfo(ForwardingOs.java:73)\njava.net.Inet6AddressImpl.lookupHostByName(Inet6AddressImpl.java:135)\njava.net.Inet6AddressImpl.lookupAllHostAddr(Inet6AddressImpl.java:103)\njava.net.InetAddress.getAllByName(InetAddress.java:1152)\nokhttp3.Dns$Companion$DnsSystem.lookup(Dns.kt:49)\nokhttp3.internal.connection.RouteSelector.resetNextInetSocketAddress(RouteSelector.kt:164)\nokhttp3.internal.connection.RouteSelector.nextProxy(RouteSelector.kt:129)\nokhttp3.internal.connection.RouteSelector.next(RouteSelector.kt:71)\nokhttp3.internal.connection.ExchangeFinder.findConnection(ExchangeFinder.kt:205)\nokhttp3.internal.connection.ExchangeFinder.findHealthyConnection(ExchangeFinder.kt:106)\nokhttp3.internal.connection.ExchangeFinder.find(ExchangeFinder.kt:74)\nokhttp3.internal.connection.RealCall.initExchange$okhttp(RealCall.kt:255)\nokhttp3.internal.connection.ConnectInterceptor.intercept(ConnectInterceptor.kt:32)\nokhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109)\nokhttp3.internal.cache.CacheInterceptor.intercept(CacheInterceptor.kt:95)\nokhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109)\nokhttp3.internal.http.BridgeInterceptor.intercept(BridgeInterceptor.kt:83)\nokhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109)\nokhttp3.internal.http.RetryAndFollowUpInterceptor.intercept(RetryAndFollowUpInterceptor.kt:76)\nokhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109)\nokhttp3.internal.connection.RealCall.getResponseWithInterceptorChain$okhttp(RealCall.kt:201)\nokhttp3.internal.connection.RealCall$AsyncCall.run(RealCall.kt:517)\njava.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1167)\njava.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:641)\njava.lang.Thread.run(Thread.java:923)\n</code></pre>\n"},{"tags":["java","sql-server","jpa","keycloak"],"comments":[{"owner":{"account_id":2903767,"reputation":125,"user_id":2489730,"display_name":"Beast"},"score":0,"creation_date":1678375044,"post_id":75686314,"comment_id":133523562,"body_markdown":"Did you read through the documentation about how to upgrade Keycloak? https://www.keycloak.org/docs/latest/upgrading/#intro\n\nI had a similar issue when upgrading, but used a custom jpa class instead of a config file so I&#39;m not sure how to help.","body":"Did you read through the documentation about how to upgrade Keycloak? <a href=\"https://www.keycloak.org/docs/latest/upgrading/#intro\" rel=\"nofollow noreferrer\">keycloak.org/docs/latest/upgrading/#intro</a>  I had a similar issue when upgrading, but used a custom jpa class instead of a config file so I&#39;m not sure how to help."},{"owner":{"account_id":12720837,"reputation":93,"user_id":9241321,"display_name":"Florian Weber"},"score":0,"creation_date":1679344964,"post_id":75686314,"comment_id":133702325,"body_markdown":"Hi, sorry for my late reply. Yes i followed the upgrade guide from their docs and i don&#39;t have installed custom providers.","body":"Hi, sorry for my late reply. Yes i followed the upgrade guide from their docs and i don&#39;t have installed custom providers."}],"owner":{"account_id":12720837,"reputation":93,"user_id":9241321,"display_name":"Florian Weber"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":825,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692270483,"creation_date":1678373889,"question_id":75686314,"body_markdown":"I&#39;m trying to upgrade my Keycloak instance, currently running Keycloak 18, to Keycloak 21.\r\nBut I always execute the database migration command from the documentation or try to execute a build, I get the following error:\r\n\r\n```bash\r\nsudo -u keycloak /opt/keycloak_21/bin/kc.sh --config-file=/opt/keycloak_21/conf/keycloak.conf --verbose start --spi-connections-jpa-legacy-migration-strategy=update --db=mssql --transaction-xa-enabled=false\r\n\r\nChanges detected in configuration. Updating the server image.\r\nUpdating the configuration and installing your custom providers, if any. Please wait.\r\n2023-03-09 15:29:00,793 INFO  [org.keycloak.common.Profile] (main) Preview features enabled: admin-fine-grained-authz, client-secret-rotation, declarative-user-profile, openshift-integration, recovery-codes, scripts, token-exchange, update-email\r\n2023-03-09 15:29:00,793 WARN  [org.keycloak.common.Profile] (main) Experimental features enabled: dynamic-scopes, map-storage\r\n2023-03-09 15:29:00,828 INFO  [org.keycloak.common.Profile] (main) Preview features enabled: admin-fine-grained-authz, client-secret-rotation, declarative-user-profile, openshift-integration, recovery-codes, scripts, token-exchange, update-email\r\n2023-03-09 15:29:00,828 WARN  [org.keycloak.common.Profile] (main) Experimental features enabled: dynamic-scopes, map-storage\r\n2023-03-09 15:29:01,841 INFO  [org.keycloak.common.Profile] (build-57) Preview features enabled: admin-fine-grained-authz, client-secret-rotation, declarative-user-profile, openshift-integration, recovery-codes, scripts, token-exchange, update-email\r\n2023-03-09 15:29:01,870 WARN  [org.keycloak.common.Profile] (build-57) Experimental features enabled: dynamic-scopes, map-storage\r\n2023-03-09 15:29:01,828 INFO  [org.keycloak.common.Profile] (build-79) Preview features enabled: admin-fine-grained-authz, client-secret-rotation, declarative-user-profile, openshift-integration, recovery-codes, scripts, token-exchange, update-email\r\n2023-03-09 15:29:01,874 WARN  [org.keycloak.common.Profile] (build-79) Experimental features enabled: dynamic-scopes, map-storage\r\nERROR: Failed to run &#39;build&#39; command.\r\nError details:\r\njava.lang.reflect.InvocationTargetException\r\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n        at java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n        at io.quarkus.bootstrap.runner.QuarkusEntryPoint.doReaugment(QuarkusEntryPoint.java:84)\r\n        at io.quarkus.bootstrap.runner.QuarkusEntryPoint.doRun(QuarkusEntryPoint.java:48)\r\n        at io.quarkus.bootstrap.runner.QuarkusEntryPoint.main(QuarkusEntryPoint.java:32)\r\n        at org.keycloak.quarkus.runtime.cli.command.Build.run(Build.java:71)\r\n        at picocli.CommandLine.executeUserObject(CommandLine.java:1939)\r\n        at picocli.CommandLine.access$1300(CommandLine.java:145)\r\n        at picocli.CommandLine$RunLast.executeUserObjectOfLastSubcommandWithSameParent(CommandLine.java:2358)\r\n        at picocli.CommandLine$RunLast.handle(CommandLine.java:2352)\r\n        at picocli.CommandLine$RunLast.handle(CommandLine.java:2314)\r\n        at picocli.CommandLine$AbstractParseResultHandler.execute(CommandLine.java:2179)\r\n        at picocli.CommandLine$RunLast.execute(CommandLine.java:2316)\r\n        at picocli.CommandLine.execute(CommandLine.java:2078)\r\n        at org.keycloak.quarkus.runtime.cli.Picocli.runReAugmentation(Picocli.java:183)\r\n        at org.keycloak.quarkus.runtime.cli.Picocli.runReAugmentationIfNeeded(Picocli.java:120)\r\n        at org.keycloak.quarkus.runtime.cli.Picocli.parseAndRun(Picocli.java:88)\r\n        at org.keycloak.quarkus.runtime.KeycloakMain.main(KeycloakMain.java:88)\r\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n        at java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n        at io.quarkus.bootstrap.runner.QuarkusEntryPoint.doRun(QuarkusEntryPoint.java:61)\r\n        at io.quarkus.bootstrap.runner.QuarkusEntryPoint.main(QuarkusEntryPoint.java:32)\r\nCaused by: java.lang.RuntimeException: io.quarkus.builder.BuildException: Build failure: Build failed due to errors\r\n        [error]: Build step org.keycloak.quarkus.deployment.KeycloakProcessor#configureKeycloakSessionFactory threw an exception: java.lang.RuntimeException: Failed to find provider jpa for userSessionPersister\r\n        at org.keycloak.quarkus.deployment.KeycloakProcessor.checkProviders(KeycloakProcessor.java:799)\r\n        at org.keycloak.quarkus.deployment.KeycloakProcessor.configureKeycloakSessionFactory(KeycloakProcessor.java:366)\r\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n        at java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n        at io.quarkus.deployment.ExtensionLoader$3.execute(ExtensionLoader.java:909)\r\n        at io.quarkus.builder.BuildContext.run(BuildContext.java:281)\r\n        at org.jboss.threads.ContextHandler$1.runWith(ContextHandler.java:18)\r\n        at org.jboss.threads.EnhancedQueueExecutor$Task.run(EnhancedQueueExecutor.java:2449)\r\n        at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1478)\r\n        at java.base/java.lang.Thread.run(Thread.java:829)\r\n        at org.jboss.threads.JBossThread.run(JBossThread.java:501)\r\n\r\n        at io.quarkus.runner.bootstrap.AugmentActionImpl.runAugment(AugmentActionImpl.java:335)\r\n        at io.quarkus.runner.bootstrap.AugmentActionImpl.createProductionApplication(AugmentActionImpl.java:175)\r\n        at io.quarkus.deployment.mutability.ReaugmentTask.main(ReaugmentTask.java:69)\r\n        ... 26 more\r\nCaused by: io.quarkus.builder.BuildException: Build failure: Build failed due to errors\r\n        [error]: Build step org.keycloak.quarkus.deployment.KeycloakProcessor#configureKeycloakSessionFactory threw an exception: java.lang.RuntimeException: Failed to find provider jpa for userSessionPersister\r\n        at org.keycloak.quarkus.deployment.KeycloakProcessor.checkProviders(KeycloakProcessor.java:799)\r\n        at org.keycloak.quarkus.deployment.KeycloakProcessor.configureKeycloakSessionFactory(KeycloakProcessor.java:366)\r\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n        at java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n        at io.quarkus.deployment.ExtensionLoader$3.execute(ExtensionLoader.java:909)\r\n        at io.quarkus.builder.BuildContext.run(BuildContext.java:281)\r\n        at org.jboss.threads.ContextHandler$1.runWith(ContextHandler.java:18)\r\n        at org.jboss.threads.EnhancedQueueExecutor$Task.run(EnhancedQueueExecutor.java:2449)\r\n        at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1478)\r\n        at java.base/java.lang.Thread.run(Thread.java:829)\r\n        at org.jboss.threads.JBossThread.run(JBossThread.java:501)\r\n\r\n        at io.quarkus.builder.Execution.run(Execution.java:123)\r\n        at io.quarkus.builder.BuildExecutionBuilder.execute(BuildExecutionBuilder.java:79)\r\n        at io.quarkus.deployment.QuarkusAugmentor.run(QuarkusAugmentor.java:160)\r\n        at io.quarkus.runner.bootstrap.AugmentActionImpl.runAugment(AugmentActionImpl.java:331)\r\n        ... 28 more\r\nCaused by: java.lang.RuntimeException: Failed to find provider jpa for userSessionPersister\r\n        at org.keycloak.quarkus.deployment.KeycloakProcessor.checkProviders(KeycloakProcessor.java:799)\r\n        at org.keycloak.quarkus.deployment.KeycloakProcessor.configureKeycloakSessionFactory(KeycloakProcessor.java:366)\r\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n        at java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n        at io.quarkus.deployment.ExtensionLoader$3.execute(ExtensionLoader.java:909)\r\n        at io.quarkus.builder.BuildContext.run(BuildContext.java:281)\r\n        at org.jboss.threads.ContextHandler$1.runWith(ContextHandler.java:18)\r\n        at org.jboss.threads.EnhancedQueueExecutor$Task.run(EnhancedQueueExecutor.java:2449)\r\n        at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1478)\r\n        at java.base/java.lang.Thread.run(Thread.java:829)\r\n        at org.jboss.threads.JBossThread.run(JBossThread.java:501)\r\n```\r\n\r\nThe same behavior is when I&#39;m attempting to upgrade to Keycloak 20 or 19.\r\nSadly, I don&#39;t know a lot about Java or the exceptions I get, so I hope anyone could help me or give me a hint. Every time I attempt to use Google, I get the same results, which are not mentioning the provider mentioned in my error message.\r\n\r\nMy config:\r\n\r\n```\r\n# Basic settings for running in production. Change accordingly before deploying the server.\r\n\r\n# Features\r\n\r\nfeatures=authorization,account2,account-api,admin-fine-grained-authz,admin2,impersonation,scripts,token-exchange,web-authn,client-policies,ciba,map-storage,par,declarative-user-profile,dynamic-scopes,client-secret-rotation,step-up-authentication,recovery-codes,update-email,preview\r\n\r\n# Database\r\n\r\n# The database vendor.\r\ndb=mssql\r\n\r\n# The username of the database user.\r\ndb-username=keycloak_user\r\n\r\n# The password of the database user.\r\ndb-password=****\r\n\r\n# The full database JDBC URL. If not provided, a default URL is set based on the selected database vendor.\r\ndb-url=jdbc:sqlserver://srv-sql.hostname.local:1433;DatabaseName=keycloak_qs;\r\n\r\ntransaction-xa-enabled=false\r\n\r\n# Observability\r\n\r\n# If the server should expose healthcheck endpoints.\r\nhealth-enabled=true\r\n\r\n# If the server should expose metrics endpoints.\r\nmetrics-enabled=true\r\n\r\n# HTTP\r\n\r\nhttp-enabled=true\r\n\r\nhttp-host=10.*.*.***\r\n\r\nhttp-port=8080\r\n\r\n# The proxy address forwarding mode if the server is behind a reverse proxy.\r\nproxy=edge\r\nhostname-strict=true\r\n\r\nhostname=kc-qs.hostname.local\r\nhostname-strict-https=true\r\n\r\n# Do not attach route to cookies and rely on the session affinity capabilities from reverse proxy\r\nspi-sticky-session-encoder-infinispan-should-attach-route=false\r\n\r\n\r\n# Health\r\n\r\nhealth-enabled=true\r\n\r\n# Logging\r\n\r\nlog=console,file\r\n\r\nlog-console-color=true\r\n\r\nlog-level=info\r\n\r\n# Cache\r\n\r\ncache=ispn\r\n\r\ncache-stack=udp\r\n```\r\n\r\nMaybe I only need a quick prod to find the solution or to see the obvious hint in the error message.\r\n\r\nThanks in advance!","title":"Keycloak Upgrade &quot;Failed to find provider jpa for userSessionPersister&quot;","body":"<p>I'm trying to upgrade my Keycloak instance, currently running Keycloak 18, to Keycloak 21.\nBut I always execute the database migration command from the documentation or try to execute a build, I get the following error:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>sudo -u keycloak /opt/keycloak_21/bin/kc.sh --config-file=/opt/keycloak_21/conf/keycloak.conf --verbose start --spi-connections-jpa-legacy-migration-strategy=update --db=mssql --transaction-xa-enabled=false\n\nChanges detected in configuration. Updating the server image.\nUpdating the configuration and installing your custom providers, if any. Please wait.\n2023-03-09 15:29:00,793 INFO  [org.keycloak.common.Profile] (main) Preview features enabled: admin-fine-grained-authz, client-secret-rotation, declarative-user-profile, openshift-integration, recovery-codes, scripts, token-exchange, update-email\n2023-03-09 15:29:00,793 WARN  [org.keycloak.common.Profile] (main) Experimental features enabled: dynamic-scopes, map-storage\n2023-03-09 15:29:00,828 INFO  [org.keycloak.common.Profile] (main) Preview features enabled: admin-fine-grained-authz, client-secret-rotation, declarative-user-profile, openshift-integration, recovery-codes, scripts, token-exchange, update-email\n2023-03-09 15:29:00,828 WARN  [org.keycloak.common.Profile] (main) Experimental features enabled: dynamic-scopes, map-storage\n2023-03-09 15:29:01,841 INFO  [org.keycloak.common.Profile] (build-57) Preview features enabled: admin-fine-grained-authz, client-secret-rotation, declarative-user-profile, openshift-integration, recovery-codes, scripts, token-exchange, update-email\n2023-03-09 15:29:01,870 WARN  [org.keycloak.common.Profile] (build-57) Experimental features enabled: dynamic-scopes, map-storage\n2023-03-09 15:29:01,828 INFO  [org.keycloak.common.Profile] (build-79) Preview features enabled: admin-fine-grained-authz, client-secret-rotation, declarative-user-profile, openshift-integration, recovery-codes, scripts, token-exchange, update-email\n2023-03-09 15:29:01,874 WARN  [org.keycloak.common.Profile] (build-79) Experimental features enabled: dynamic-scopes, map-storage\nERROR: Failed to run 'build' command.\nError details:\njava.lang.reflect.InvocationTargetException\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n        at io.quarkus.bootstrap.runner.QuarkusEntryPoint.doReaugment(QuarkusEntryPoint.java:84)\n        at io.quarkus.bootstrap.runner.QuarkusEntryPoint.doRun(QuarkusEntryPoint.java:48)\n        at io.quarkus.bootstrap.runner.QuarkusEntryPoint.main(QuarkusEntryPoint.java:32)\n        at org.keycloak.quarkus.runtime.cli.command.Build.run(Build.java:71)\n        at picocli.CommandLine.executeUserObject(CommandLine.java:1939)\n        at picocli.CommandLine.access$1300(CommandLine.java:145)\n        at picocli.CommandLine$RunLast.executeUserObjectOfLastSubcommandWithSameParent(CommandLine.java:2358)\n        at picocli.CommandLine$RunLast.handle(CommandLine.java:2352)\n        at picocli.CommandLine$RunLast.handle(CommandLine.java:2314)\n        at picocli.CommandLine$AbstractParseResultHandler.execute(CommandLine.java:2179)\n        at picocli.CommandLine$RunLast.execute(CommandLine.java:2316)\n        at picocli.CommandLine.execute(CommandLine.java:2078)\n        at org.keycloak.quarkus.runtime.cli.Picocli.runReAugmentation(Picocli.java:183)\n        at org.keycloak.quarkus.runtime.cli.Picocli.runReAugmentationIfNeeded(Picocli.java:120)\n        at org.keycloak.quarkus.runtime.cli.Picocli.parseAndRun(Picocli.java:88)\n        at org.keycloak.quarkus.runtime.KeycloakMain.main(KeycloakMain.java:88)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n        at io.quarkus.bootstrap.runner.QuarkusEntryPoint.doRun(QuarkusEntryPoint.java:61)\n        at io.quarkus.bootstrap.runner.QuarkusEntryPoint.main(QuarkusEntryPoint.java:32)\nCaused by: java.lang.RuntimeException: io.quarkus.builder.BuildException: Build failure: Build failed due to errors\n        [error]: Build step org.keycloak.quarkus.deployment.KeycloakProcessor#configureKeycloakSessionFactory threw an exception: java.lang.RuntimeException: Failed to find provider jpa for userSessionPersister\n        at org.keycloak.quarkus.deployment.KeycloakProcessor.checkProviders(KeycloakProcessor.java:799)\n        at org.keycloak.quarkus.deployment.KeycloakProcessor.configureKeycloakSessionFactory(KeycloakProcessor.java:366)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n        at io.quarkus.deployment.ExtensionLoader$3.execute(ExtensionLoader.java:909)\n        at io.quarkus.builder.BuildContext.run(BuildContext.java:281)\n        at org.jboss.threads.ContextHandler$1.runWith(ContextHandler.java:18)\n        at org.jboss.threads.EnhancedQueueExecutor$Task.run(EnhancedQueueExecutor.java:2449)\n        at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1478)\n        at java.base/java.lang.Thread.run(Thread.java:829)\n        at org.jboss.threads.JBossThread.run(JBossThread.java:501)\n\n        at io.quarkus.runner.bootstrap.AugmentActionImpl.runAugment(AugmentActionImpl.java:335)\n        at io.quarkus.runner.bootstrap.AugmentActionImpl.createProductionApplication(AugmentActionImpl.java:175)\n        at io.quarkus.deployment.mutability.ReaugmentTask.main(ReaugmentTask.java:69)\n        ... 26 more\nCaused by: io.quarkus.builder.BuildException: Build failure: Build failed due to errors\n        [error]: Build step org.keycloak.quarkus.deployment.KeycloakProcessor#configureKeycloakSessionFactory threw an exception: java.lang.RuntimeException: Failed to find provider jpa for userSessionPersister\n        at org.keycloak.quarkus.deployment.KeycloakProcessor.checkProviders(KeycloakProcessor.java:799)\n        at org.keycloak.quarkus.deployment.KeycloakProcessor.configureKeycloakSessionFactory(KeycloakProcessor.java:366)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n        at io.quarkus.deployment.ExtensionLoader$3.execute(ExtensionLoader.java:909)\n        at io.quarkus.builder.BuildContext.run(BuildContext.java:281)\n        at org.jboss.threads.ContextHandler$1.runWith(ContextHandler.java:18)\n        at org.jboss.threads.EnhancedQueueExecutor$Task.run(EnhancedQueueExecutor.java:2449)\n        at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1478)\n        at java.base/java.lang.Thread.run(Thread.java:829)\n        at org.jboss.threads.JBossThread.run(JBossThread.java:501)\n\n        at io.quarkus.builder.Execution.run(Execution.java:123)\n        at io.quarkus.builder.BuildExecutionBuilder.execute(BuildExecutionBuilder.java:79)\n        at io.quarkus.deployment.QuarkusAugmentor.run(QuarkusAugmentor.java:160)\n        at io.quarkus.runner.bootstrap.AugmentActionImpl.runAugment(AugmentActionImpl.java:331)\n        ... 28 more\nCaused by: java.lang.RuntimeException: Failed to find provider jpa for userSessionPersister\n        at org.keycloak.quarkus.deployment.KeycloakProcessor.checkProviders(KeycloakProcessor.java:799)\n        at org.keycloak.quarkus.deployment.KeycloakProcessor.configureKeycloakSessionFactory(KeycloakProcessor.java:366)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n        at io.quarkus.deployment.ExtensionLoader$3.execute(ExtensionLoader.java:909)\n        at io.quarkus.builder.BuildContext.run(BuildContext.java:281)\n        at org.jboss.threads.ContextHandler$1.runWith(ContextHandler.java:18)\n        at org.jboss.threads.EnhancedQueueExecutor$Task.run(EnhancedQueueExecutor.java:2449)\n        at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1478)\n        at java.base/java.lang.Thread.run(Thread.java:829)\n        at org.jboss.threads.JBossThread.run(JBossThread.java:501)\n</code></pre>\n<p>The same behavior is when I'm attempting to upgrade to Keycloak 20 or 19.\nSadly, I don't know a lot about Java or the exceptions I get, so I hope anyone could help me or give me a hint. Every time I attempt to use Google, I get the same results, which are not mentioning the provider mentioned in my error message.</p>\n<p>My config:</p>\n<pre><code># Basic settings for running in production. Change accordingly before deploying the server.\n\n# Features\n\nfeatures=authorization,account2,account-api,admin-fine-grained-authz,admin2,impersonation,scripts,token-exchange,web-authn,client-policies,ciba,map-storage,par,declarative-user-profile,dynamic-scopes,client-secret-rotation,step-up-authentication,recovery-codes,update-email,preview\n\n# Database\n\n# The database vendor.\ndb=mssql\n\n# The username of the database user.\ndb-username=keycloak_user\n\n# The password of the database user.\ndb-password=****\n\n# The full database JDBC URL. If not provided, a default URL is set based on the selected database vendor.\ndb-url=jdbc:sqlserver://srv-sql.hostname.local:1433;DatabaseName=keycloak_qs;\n\ntransaction-xa-enabled=false\n\n# Observability\n\n# If the server should expose healthcheck endpoints.\nhealth-enabled=true\n\n# If the server should expose metrics endpoints.\nmetrics-enabled=true\n\n# HTTP\n\nhttp-enabled=true\n\nhttp-host=10.*.*.***\n\nhttp-port=8080\n\n# The proxy address forwarding mode if the server is behind a reverse proxy.\nproxy=edge\nhostname-strict=true\n\nhostname=kc-qs.hostname.local\nhostname-strict-https=true\n\n# Do not attach route to cookies and rely on the session affinity capabilities from reverse proxy\nspi-sticky-session-encoder-infinispan-should-attach-route=false\n\n\n# Health\n\nhealth-enabled=true\n\n# Logging\n\nlog=console,file\n\nlog-console-color=true\n\nlog-level=info\n\n# Cache\n\ncache=ispn\n\ncache-stack=udp\n</code></pre>\n<p>Maybe I only need a quick prod to find the solution or to see the obvious hint in the error message.</p>\n<p>Thanks in advance!</p>\n"},{"tags":["java","ios","ipad","automation","appium"],"answers":[{"tags":[],"owner":{"account_id":4243,"reputation":1301824,"user_id":6309,"accept_rate":100,"display_name":"VonC"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1692011803,"creation_date":1691748332,"answer_id":76882543,"question_id":76864429,"body_markdown":"```\r\nCaused by: java.lang.NoSuchMethodError: &#39;java.lang.String org.openqa.selenium.json.Json.toJson(java.lang.Object, int)&#39;\r\n```\r\n\r\nThat should mean your code, or one of the libraries you are using, is trying to call a method that does not exist in the version of the library that is currently loaded. It is common to see this error when there are mismatches in library versions.\r\n\r\nSince you have not changed your code, and the versions of Appium and other tools are the same, it is possible that you might have inadvertently updated some libraries. Check if your project&#39;s dependencies (libraries/jars) are consistent and compatible.\r\n\r\n\r\n- If you are using Maven, check your `pom.xml` file.\r\n- If you are using Gradle, check your `build.gradle` file.\r\n\r\nIf your project source code with using Git, a `git status` should help visualize any change.\r\n\r\nMake sure the versions of Appium&#39;s Java client and Selenium&#39;s Java client are compatible.\r\n\r\nTry and clear the cache and reinstall dependencies.\r\n\r\n- If using Maven: \r\n```bash\r\nmvn clean install\r\n```\r\n\r\n- If using Gradle: \r\n```bash\r\n./gradlew clean build\r\n```\r\n\r\n\r\nIf you are only specifying the [Appium Java client](https://github.com/appium/java-client) in your dependency management tool, try explicitly specifying a compatible Selenium version too (See [Compatibility Matrix](https://github.com/appium/java-client#compatibility-matrix)). Appium&#39;s client has a dependency on Selenium, and there might be compatibility issues between versions.\r\n\r\nCheck also if your device&#39;s OS version was updated, it might affect Appium&#39;s behavior.\r\n\r\n----\r\n\r\nThe OP mentions having resolved the issue by removing:\r\n\r\n```\r\n&lt;dependency&gt;\r\n            &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n            &lt;artifactId&gt;selenium-devtools&lt;/artifactId&gt;\r\n            &lt;version&gt;4.0.0-beta-4&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nThe `selenium-devtools` dependency is specific to Chrome and the Chrome DevTools Protocol (CDP). It provides capabilities to interact with Chrome&#39;s DevTools for advanced automation tasks that go beyond the standard Selenium capabilities. Examples include manipulating network conditions, setting breakpoints, etc.\r\n\r\nThe OP was using version `4.0.0-beta-4`. If your other Selenium dependencies were not of the same version, it might have caused conflicts.\r\n\r\nAnd the `selenium-devtools` artifact might have pulled in transitive dependencies that conflicted with other dependencies in your project.\r\n\r\nGiven the OP&#39;s stack trace showed issues with iOS testing (`io.appium.java_client.ios.IOSDriver`), the Chrome-specific `selenium-devtools` dependency might not have been necessary. Appium iOS testing does not utilize Chrome DevTools.\r\n\r\nSince Java libraries sometimes have classes with the same names, it is possible the `selenium-devtools` dependency introduced classes that conflicted with others on the classpath.","title":"Appium - Could not start a new session on iPad","body":"<pre><code>Caused by: java.lang.NoSuchMethodError: 'java.lang.String org.openqa.selenium.json.Json.toJson(java.lang.Object, int)'\n</code></pre>\n<p>That should mean your code, or one of the libraries you are using, is trying to call a method that does not exist in the version of the library that is currently loaded. It is common to see this error when there are mismatches in library versions.</p>\n<p>Since you have not changed your code, and the versions of Appium and other tools are the same, it is possible that you might have inadvertently updated some libraries. Check if your project's dependencies (libraries/jars) are consistent and compatible.</p>\n<ul>\n<li>If you are using Maven, check your <code>pom.xml</code> file.</li>\n<li>If you are using Gradle, check your <code>build.gradle</code> file.</li>\n</ul>\n<p>If your project source code with using Git, a <code>git status</code> should help visualize any change.</p>\n<p>Make sure the versions of Appium's Java client and Selenium's Java client are compatible.</p>\n<p>Try and clear the cache and reinstall dependencies.</p>\n<ul>\n<li>If using Maven:</li>\n</ul>\n<pre class=\"lang-bash prettyprint-override\"><code>mvn clean install\n</code></pre>\n<ul>\n<li>If using Gradle:</li>\n</ul>\n<pre class=\"lang-bash prettyprint-override\"><code>./gradlew clean build\n</code></pre>\n<p>If you are only specifying the <a href=\"https://github.com/appium/java-client\" rel=\"nofollow noreferrer\">Appium Java client</a> in your dependency management tool, try explicitly specifying a compatible Selenium version too (See <a href=\"https://github.com/appium/java-client#compatibility-matrix\" rel=\"nofollow noreferrer\">Compatibility Matrix</a>). Appium's client has a dependency on Selenium, and there might be compatibility issues between versions.</p>\n<p>Check also if your device's OS version was updated, it might affect Appium's behavior.</p>\n<hr />\n<p>The OP mentions having resolved the issue by removing:</p>\n<pre><code>&lt;dependency&gt;\n            &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n            &lt;artifactId&gt;selenium-devtools&lt;/artifactId&gt;\n            &lt;version&gt;4.0.0-beta-4&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>The <code>selenium-devtools</code> dependency is specific to Chrome and the Chrome DevTools Protocol (CDP). It provides capabilities to interact with Chrome's DevTools for advanced automation tasks that go beyond the standard Selenium capabilities. Examples include manipulating network conditions, setting breakpoints, etc.</p>\n<p>The OP was using version <code>4.0.0-beta-4</code>. If your other Selenium dependencies were not of the same version, it might have caused conflicts.</p>\n<p>And the <code>selenium-devtools</code> artifact might have pulled in transitive dependencies that conflicted with other dependencies in your project.</p>\n<p>Given the OP's stack trace showed issues with iOS testing (<code>io.appium.java_client.ios.IOSDriver</code>), the Chrome-specific <code>selenium-devtools</code> dependency might not have been necessary. Appium iOS testing does not utilize Chrome DevTools.</p>\n<p>Since Java libraries sometimes have classes with the same names, it is possible the <code>selenium-devtools</code> dependency introduced classes that conflicted with others on the classpath.</p>\n"},{"tags":[],"owner":{"account_id":13227889,"reputation":137,"user_id":9552485,"display_name":"BraveEvidence"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1692011431,"creation_date":1692011431,"answer_id":76898438,"question_id":76864429,"body_markdown":"I managed to resolve my issue by removing following dependency\r\n\r\n    &lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;selenium-devtools&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;4.0.0-beta-4&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;","title":"Appium - Could not start a new session on iPad","body":"<p>I managed to resolve my issue by removing following dependency</p>\n<pre><code>&lt;dependency&gt;\n            &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n            &lt;artifactId&gt;selenium-devtools&lt;/artifactId&gt;\n            &lt;version&gt;4.0.0-beta-4&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":13227889,"reputation":137,"user_id":9552485,"display_name":"BraveEvidence"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":200,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76898438,"answer_count":2,"score":1,"last_activity_date":1692270344,"creation_date":1691552607,"question_id":76864429,"body_markdown":"I am trying to automate iOS app on real iPad device. My code was working fine till last week and suddenly started throwing error from today. Neither `Xcode`, `nodejs`, `java` or `Appium` has been upgraded. No code has been updated whatsoever.\r\n\r\n    public AppiumDriver runOnRealDevice() {\r\n    \t\ttry {\r\n    \t\t\tXCUITestOptions options = new XCUITestOptions();\r\n    \t\t\toptions.setDeviceName(&quot;my iPad&quot;);\r\n    \t\t\toptions.setPlatformVersion(&quot;16.5.1&quot;);\r\n    \t\t\toptions.setWdaLaunchTimeout(Duration.ofSeconds(20));\r\n    \t\t\toptions.setCapability(&quot;xcodeOrgId&quot;,&quot;......&quot;);\r\n    \t\t\toptions.setCapability(&quot;xcodeSigningId&quot;,&quot;iPhone Developer&quot;);\r\n    \t\t\toptions.setCapability(&quot;udid&quot;,&quot;......&quot;);\r\n    \t\t\tdriver = new IOSDriver(new URL(&quot;http://127.0.0.1:4723/&quot;),options);\r\n    \t\t\t\r\n    \t\t\tdriver.manage().timeouts().implicitlyWait(Duration.ofSeconds(15));\r\n    \t\t\tMap&lt;String,String&gt; params = new HashMap&lt;String,String&gt;();\r\n    \t\t\tparams.put(&quot;bundleId&quot;, &quot;com.myapplebundleidentfier&quot;);\r\n    \t\t\tdriver.executeScript(&quot;mobile:launchApp&quot;,params);\r\n    \t\t}catch (Exception e) {\r\n    \t\t\tSystem.out.println(&quot;Here12 &quot;+e.getLocalizedMessage());\r\n    \t\t\te.printStackTrace();\r\n    \t\t}\r\n    \t\treturn driver;\r\n    \t}\r\n\r\n\r\nThe issue happens on `driver = new IOSDriver(new URL(&quot;http://127.0.0.1:4723/&quot;),options);`\r\n\r\nBelow is the complete error message\r\n \r\n\r\n    StatusLogger Log4j2 could not find a logging implementation. Please add log4j-core to the classpath. Using SimpleLogger to log to the console...\r\n    Could not start a new session. Possible causes are invalid address of the remote server or browser start-up failure. \r\n    Host info: host: &#39;-MacBook-Air.local&#39;, ip: &#39;fe80:0:0:0:1044:a4fe:6300:fc53%en0&#39;\r\n    Build info: version: &#39;4.11.0&#39;, revision: &#39;040bc5406b&#39;\r\n    System info: os.name: &#39;Mac OS X&#39;, os.arch: &#39;aarch64&#39;, os.version: &#39;13.4.1&#39;, java.version: &#39;17.0.6&#39;\r\n    Driver info: io.appium.java_client.ios.IOSDriver\r\n    Command: [null, newSession {capabilities=[{appium:udid=myudid, appium:xcodeOrgId=myxoceorgid, appium:wdaLaunchTimeout=20000, appium:xcodeSigningId=iPhone Developer, appium:deviceName=iPad, platformName=IOS, appium:automationName=XCuiTest, appium:platformVersion=16.5.1}], desiredCapabilities=Capabilities {appium:automationName: XCuiTest, appium:deviceName: Pritishs iPad, appium:platformVersion: 16.5.1, appium:udid:dsssddsdssd, appium:wdaLaunchTimeout: 20000, appium:xcodeOrgId: dsdsdsdsdssd, appium:xcodeSigningId: iPhone Developer, platformName: IOS}}]\r\n    Capabilities {appium:automationName: XCuiTest, appium:deviceName: my iPad, appium:platformVersion: 16.5.1, appium:udid: sddsdsdsds, appium:wdaLaunchTimeout: 20000, appium:xcodeOrgId: ddsds, appium:xcodeSigningId: iPhone Developer, platformName: IOS}\r\n    \tat org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:536)\r\n    \tat io.appium.java_client.AppiumDriver.startSession(AppiumDriver.java:229)\r\n    \tat org.openqa.selenium.remote.RemoteWebDriver.&lt;init&gt;(RemoteWebDriver.java:159)\r\n    \tat io.appium.java_client.AppiumDriver.&lt;init&gt;(AppiumDriver.java:80)\r\n    \tat io.appium.java_client.AppiumDriver.&lt;init&gt;(AppiumDriver.java:92)\r\n    \tat io.appium.java_client.ios.IOSDriver.&lt;init&gt;(IOSDriver.java:106)\r\n    \tat WebPortal.IOSBaseTest.runOnRealDevice(IOSBaseTest.java:66)\r\n    \tat WebPortal.IOSBaseTest.setup(IOSBaseTest.java:32)\r\n    \tat WebPortal.IOSBaseTest.getDriver(IOSBaseTest.java:25)\r\n    \tat stepDefinitions.TA124_ComprehensiveCI_StepDefinitions.&lt;init&gt;(TA124_ComprehensiveCI_StepDefinitions.java:36)\r\n    \tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n    \tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:77)\r\n    \tat java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\n    \tat java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)\r\n    \tat java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480)\r\n    \tat io.cucumber.core.runtime.ObjectFactoryServiceLoader$DefaultJavaObjectFactory.cacheNewInstance(ObjectFactoryServiceLoader.java:141)\r\n    \tat io.cucumber.core.runtime.ObjectFactoryServiceLoader$DefaultJavaObjectFactory.getInstance(ObjectFactoryServiceLoader.java:133)\r\n    \tat io.cucumber.java.AbstractGlueDefinition.invokeMethod(AbstractGlueDefinition.java:47)\r\n    \tat io.cucumber.java.JavaStepDefinition.execute(JavaStepDefinition.java:29)\r\n    \tat io.cucumber.core.runner.CoreStepDefinition.execute(CoreStepDefinition.java:66)\r\n    \tat io.cucumber.core.runner.PickleStepDefinitionMatch.runStep(PickleStepDefinitionMatch.java:63)\r\n    \tat io.cucumber.core.runner.ExecutionMode$1.execute(ExecutionMode.java:10)\r\n    \tat io.cucumber.core.runner.TestStep.executeStep(TestStep.java:92)\r\n    \tat io.cucumber.core.runner.TestStep.run(TestStep.java:64)\r\n    \tat io.cucumber.core.runner.PickleStepTestStep.run(PickleStepTestStep.java:51)\r\n    \tat io.cucumber.core.runner.TestCase.run(TestCase.java:104)\r\n    \tat io.cucumber.core.runner.Runner.runPickle(Runner.java:73)\r\n    \tat io.cucumber.core.runtime.Runtime.lambda$execute$5(Runtime.java:110)\r\n    \tat io.cucumber.core.runtime.CucumberExecutionContext.runTestCase(CucumberExecutionContext.java:117)\r\n    \tat io.cucumber.core.runtime.Runtime.lambda$execute$6(Runtime.java:110)\r\n    \tat java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539)\r\n    \tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n    \tat io.cucumber.core.runtime.Runtime$SameThreadExecutorService.execute(Runtime.java:233)\r\n    \tat java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:123)\r\n    \tat io.cucumber.core.runtime.Runtime.lambda$run$2(Runtime.java:86)\r\n    \tat java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)\r\n    \tat java.base/java.util.stream.SliceOps$1$1.accept(SliceOps.java:200)\r\n    \tat java.base/java.util.ArrayList$ArrayListSpliterator.tryAdvance(ArrayList.java:1602)\r\n    \tat java.base/java.util.stream.ReferencePipeline.forEachWithCancel(ReferencePipeline.java:129)\r\n    \tat java.base/java.util.stream.AbstractPipeline.copyIntoWithCancel(AbstractPipeline.java:527)\r\n    \tat java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:513)\r\n    \tat java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)\r\n    \tat java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:921)\r\n    \tat java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\r\n    \tat java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:682)\r\n    \tat io.cucumber.core.runtime.Runtime.run(Runtime.java:87)\r\n    \tat io.cucumber.core.cli.Main.run(Main.java:92)\r\n    \tat cucumber.api.cli.Main.run(Main.java:30)\r\n    \tat cucumber.api.cli.Main.main(Main.java:15)\r\n    Caused by: java.lang.NoSuchMethodError: &#39;java.lang.String org.openqa.selenium.json.Json.toJson(java.lang.Object, int)&#39;\r\n    \tat org.openqa.selenium.remote.NewSessionPayload.create(NewSessionPayload.java:126)\r\n    \tat org.openqa.selenium.remote.NewSessionPayload.create(NewSessionPayload.java:111)\r\n    \tat org.openqa.selenium.remote.NewSessionPayload.create(NewSessionPayload.java:105)\r\n    \tat io.appium.java_client.remote.AppiumProtocolHandshake.createSession(AppiumProtocolHandshake.java:101)\r\n    \tat io.appium.java_client.remote.AppiumCommandExecutor.createSession(AppiumCommandExecutor.java:194)\r\n    \tat io.appium.java_client.remote.AppiumCommandExecutor.execute(AppiumCommandExecutor.java:262)\r\n    \tat org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:518)\r\n    \t... 48 more\r\n\r\n","title":"Appium - Could not start a new session on iPad","body":"<p>I am trying to automate iOS app on real iPad device. My code was working fine till last week and suddenly started throwing error from today. Neither <code>Xcode</code>, <code>nodejs</code>, <code>java</code> or <code>Appium</code> has been upgraded. No code has been updated whatsoever.</p>\n<pre><code>public AppiumDriver runOnRealDevice() {\n        try {\n            XCUITestOptions options = new XCUITestOptions();\n            options.setDeviceName(&quot;my iPad&quot;);\n            options.setPlatformVersion(&quot;16.5.1&quot;);\n            options.setWdaLaunchTimeout(Duration.ofSeconds(20));\n            options.setCapability(&quot;xcodeOrgId&quot;,&quot;......&quot;);\n            options.setCapability(&quot;xcodeSigningId&quot;,&quot;iPhone Developer&quot;);\n            options.setCapability(&quot;udid&quot;,&quot;......&quot;);\n            driver = new IOSDriver(new URL(&quot;http://127.0.0.1:4723/&quot;),options);\n            \n            driver.manage().timeouts().implicitlyWait(Duration.ofSeconds(15));\n            Map&lt;String,String&gt; params = new HashMap&lt;String,String&gt;();\n            params.put(&quot;bundleId&quot;, &quot;com.myapplebundleidentfier&quot;);\n            driver.executeScript(&quot;mobile:launchApp&quot;,params);\n        }catch (Exception e) {\n            System.out.println(&quot;Here12 &quot;+e.getLocalizedMessage());\n            e.printStackTrace();\n        }\n        return driver;\n    }\n</code></pre>\n<p>The issue happens on <code>driver = new IOSDriver(new URL(&quot;http://127.0.0.1:4723/&quot;),options);</code></p>\n<p>Below is the complete error message</p>\n<pre><code>StatusLogger Log4j2 could not find a logging implementation. Please add log4j-core to the classpath. Using SimpleLogger to log to the console...\nCould not start a new session. Possible causes are invalid address of the remote server or browser start-up failure. \nHost info: host: '-MacBook-Air.local', ip: 'fe80:0:0:0:1044:a4fe:6300:fc53%en0'\nBuild info: version: '4.11.0', revision: '040bc5406b'\nSystem info: os.name: 'Mac OS X', os.arch: 'aarch64', os.version: '13.4.1', java.version: '17.0.6'\nDriver info: io.appium.java_client.ios.IOSDriver\nCommand: [null, newSession {capabilities=[{appium:udid=myudid, appium:xcodeOrgId=myxoceorgid, appium:wdaLaunchTimeout=20000, appium:xcodeSigningId=iPhone Developer, appium:deviceName=iPad, platformName=IOS, appium:automationName=XCuiTest, appium:platformVersion=16.5.1}], desiredCapabilities=Capabilities {appium:automationName: XCuiTest, appium:deviceName: Pritishs iPad, appium:platformVersion: 16.5.1, appium:udid:dsssddsdssd, appium:wdaLaunchTimeout: 20000, appium:xcodeOrgId: dsdsdsdsdssd, appium:xcodeSigningId: iPhone Developer, platformName: IOS}}]\nCapabilities {appium:automationName: XCuiTest, appium:deviceName: my iPad, appium:platformVersion: 16.5.1, appium:udid: sddsdsdsds, appium:wdaLaunchTimeout: 20000, appium:xcodeOrgId: ddsds, appium:xcodeSigningId: iPhone Developer, platformName: IOS}\n    at org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:536)\n    at io.appium.java_client.AppiumDriver.startSession(AppiumDriver.java:229)\n    at org.openqa.selenium.remote.RemoteWebDriver.&lt;init&gt;(RemoteWebDriver.java:159)\n    at io.appium.java_client.AppiumDriver.&lt;init&gt;(AppiumDriver.java:80)\n    at io.appium.java_client.AppiumDriver.&lt;init&gt;(AppiumDriver.java:92)\n    at io.appium.java_client.ios.IOSDriver.&lt;init&gt;(IOSDriver.java:106)\n    at WebPortal.IOSBaseTest.runOnRealDevice(IOSBaseTest.java:66)\n    at WebPortal.IOSBaseTest.setup(IOSBaseTest.java:32)\n    at WebPortal.IOSBaseTest.getDriver(IOSBaseTest.java:25)\n    at stepDefinitions.TA124_ComprehensiveCI_StepDefinitions.&lt;init&gt;(TA124_ComprehensiveCI_StepDefinitions.java:36)\n    at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n    at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\n    at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)\n    at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480)\n    at io.cucumber.core.runtime.ObjectFactoryServiceLoader$DefaultJavaObjectFactory.cacheNewInstance(ObjectFactoryServiceLoader.java:141)\n    at io.cucumber.core.runtime.ObjectFactoryServiceLoader$DefaultJavaObjectFactory.getInstance(ObjectFactoryServiceLoader.java:133)\n    at io.cucumber.java.AbstractGlueDefinition.invokeMethod(AbstractGlueDefinition.java:47)\n    at io.cucumber.java.JavaStepDefinition.execute(JavaStepDefinition.java:29)\n    at io.cucumber.core.runner.CoreStepDefinition.execute(CoreStepDefinition.java:66)\n    at io.cucumber.core.runner.PickleStepDefinitionMatch.runStep(PickleStepDefinitionMatch.java:63)\n    at io.cucumber.core.runner.ExecutionMode$1.execute(ExecutionMode.java:10)\n    at io.cucumber.core.runner.TestStep.executeStep(TestStep.java:92)\n    at io.cucumber.core.runner.TestStep.run(TestStep.java:64)\n    at io.cucumber.core.runner.PickleStepTestStep.run(PickleStepTestStep.java:51)\n    at io.cucumber.core.runner.TestCase.run(TestCase.java:104)\n    at io.cucumber.core.runner.Runner.runPickle(Runner.java:73)\n    at io.cucumber.core.runtime.Runtime.lambda$execute$5(Runtime.java:110)\n    at io.cucumber.core.runtime.CucumberExecutionContext.runTestCase(CucumberExecutionContext.java:117)\n    at io.cucumber.core.runtime.Runtime.lambda$execute$6(Runtime.java:110)\n    at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539)\n    at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\n    at io.cucumber.core.runtime.Runtime$SameThreadExecutorService.execute(Runtime.java:233)\n    at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:123)\n    at io.cucumber.core.runtime.Runtime.lambda$run$2(Runtime.java:86)\n    at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)\n    at java.base/java.util.stream.SliceOps$1$1.accept(SliceOps.java:200)\n    at java.base/java.util.ArrayList$ArrayListSpliterator.tryAdvance(ArrayList.java:1602)\n    at java.base/java.util.stream.ReferencePipeline.forEachWithCancel(ReferencePipeline.java:129)\n    at java.base/java.util.stream.AbstractPipeline.copyIntoWithCancel(AbstractPipeline.java:527)\n    at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:513)\n    at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)\n    at java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:921)\n    at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\n    at java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:682)\n    at io.cucumber.core.runtime.Runtime.run(Runtime.java:87)\n    at io.cucumber.core.cli.Main.run(Main.java:92)\n    at cucumber.api.cli.Main.run(Main.java:30)\n    at cucumber.api.cli.Main.main(Main.java:15)\nCaused by: java.lang.NoSuchMethodError: 'java.lang.String org.openqa.selenium.json.Json.toJson(java.lang.Object, int)'\n    at org.openqa.selenium.remote.NewSessionPayload.create(NewSessionPayload.java:126)\n    at org.openqa.selenium.remote.NewSessionPayload.create(NewSessionPayload.java:111)\n    at org.openqa.selenium.remote.NewSessionPayload.create(NewSessionPayload.java:105)\n    at io.appium.java_client.remote.AppiumProtocolHandshake.createSession(AppiumProtocolHandshake.java:101)\n    at io.appium.java_client.remote.AppiumCommandExecutor.createSession(AppiumCommandExecutor.java:194)\n    at io.appium.java_client.remote.AppiumCommandExecutor.execute(AppiumCommandExecutor.java:262)\n    at org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:518)\n    ... 48 more\n</code></pre>\n"},{"tags":["java","mongodb","spring-boot"],"comments":[{"owner":{"account_id":23980637,"reputation":13,"user_id":17968128,"display_name":"James Ostevik"},"score":0,"creation_date":1642538012,"post_id":70762027,"comment_id":125096285,"body_markdown":"StackOverflow avoids me pasting more data. I&#39;m using gradle\n    classpath(&quot;org.springframework.boot:spring-boot-gradle-plugin:2.6.2&quot;)","body":"StackOverflow avoids me pasting more data. I&#39;m using gradle     classpath(&quot;org.springframework.boot:spring-boot-gradle-plugi&zwnj;&#8203;n:2.6.2&quot;)"},{"owner":{"account_id":23980637,"reputation":13,"user_id":17968128,"display_name":"James Ostevik"},"score":0,"creation_date":1642539021,"post_id":70762027,"comment_id":125096596,"body_markdown":"to be more precise I tried all of these answers https://stackoverflow.com/questions/60023943/mongodb-findbyid-is-not-working-and-giving-null","body":"to be more precise I tried all of these answers <a href=\"https://stackoverflow.com/questions/60023943/mongodb-findbyid-is-not-working-and-giving-null\" title=\"mongodb findbyid is not working and giving null\">stackoverflow.com/questions/60023943/&hellip;</a>"},{"owner":{"account_id":1251163,"reputation":1546,"user_id":1211547,"accept_rate":50,"display_name":"indybee"},"score":0,"creation_date":1642553936,"post_id":70762027,"comment_id":125100116,"body_markdown":"can you post the `Track` class also?","body":"can you post the <code>Track</code> class also?"},{"owner":{"account_id":23980637,"reputation":13,"user_id":17968128,"display_name":"James Ostevik"},"score":0,"creation_date":1642557427,"post_id":70762027,"comment_id":125100748,"body_markdown":"I also tried adding @MongoId to it (Sorry for adding it to comments. SO won&#39;t let me add it to the post)","body":"I also tried adding @MongoId to it (Sorry for adding it to comments. SO won&#39;t let me add it to the post)"},{"owner":{"account_id":5951494,"reputation":12969,"user_id":4679320,"accept_rate":67,"display_name":"prasad_"},"score":0,"creation_date":1642568524,"post_id":70762027,"comment_id":125102488,"body_markdown":"You have two `findById` methods - one on the tracksRepository and the other on mongoTemplate. Which one is not working","body":"You have two <code>findById</code> methods - one on the tracksRepository and the other on mongoTemplate. Which one is not working"},{"owner":{"account_id":23980637,"reputation":13,"user_id":17968128,"display_name":"James Ostevik"},"score":0,"creation_date":1642580242,"post_id":70762027,"comment_id":125105264,"body_markdown":"@prasad_ none, both return always null","body":"@prasad_ none, both return always null"},{"owner":{"account_id":5951494,"reputation":12969,"user_id":4679320,"accept_rate":67,"display_name":"prasad_"},"score":0,"creation_date":1642581240,"post_id":70762027,"comment_id":125105628,"body_markdown":"You can look at this SO post for some ideas: [How to initialize MongoClient once in Spring Boot and use its methods?](https://stackoverflow.com/questions/61663741/how-to-initialize-mongoclient-once-in-spring-boot-and-use-its-methods/61677205#61677205).","body":"You can look at this SO post for some ideas: <a href=\"https://stackoverflow.com/questions/61663741/how-to-initialize-mongoclient-once-in-spring-boot-and-use-its-methods/61677205#61677205\">How to initialize MongoClient once in Spring Boot and use its methods?</a>."}],"answers":[{"tags":[],"owner":{"account_id":5951494,"reputation":12969,"user_id":4679320,"accept_rate":67,"display_name":"prasad_"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642587634,"creation_date":1642587634,"answer_id":70768844,"question_id":70762027,"body_markdown":"I tried this with similar configuration class and found the following worked fine creating/accessing data using `MongoTemplate`.\r\n\r\nThe POJO class:\r\n\r\n    public class Test {\r\n    \t\r\n    \t@MongoId(FieldType.OBJECT_ID)\r\n    \tprivate String id;\r\n    \tprivate String name;\r\n    \t\r\n    \tpublic Test() {\r\n    \t}\r\n    \tpublic Test(String s) {\r\n    \t\tsuper();\r\n    \t\tthis.name = s;\r\n    \t}\r\n    \t\r\n    \t// get, set methods\r\n    \t\r\n    \tpublic String toString( ) {\r\n    \t\treturn id + &quot; - &quot; + name;\r\n    \t}\r\n    }\r\n\r\nFrom Spring&#39;s `CommandLineRunner.run()`:\r\n\r\n\t\t// Insert a document into the database\r\n\t\tTest t1 = new Test(&quot;alpha&quot;);\r\n\t\tt1 = mt.insert(t1);\r\n\t\tSystem.out.println(t1); // 61e7de9f5aadc2077d9f4a58 - alpha\r\n\r\n\t\t// Query from the database using the _id\r\n\t\tObjectId id = new ObjectId(&quot;61e7de9f5aadc2077d9f4a58&quot;);\r\n\t\tTest t2 = mt.findById(id, Test.class);\r\n\t\tSystem.out.println(t2);\r\n\r\nNote that you need to do this from the class where you are running the code:\r\n\r\n    @Autowired private MongoTemplate mt;\r\n\r\nYou can use the `@MongoId` or `@Id` annotations in our POJO class to represent MongoDB `_id` field. The type of the field can be a `String` or `ObjectId`. It depends upon how you define.\r\n\r\nSee this from Spring Data MongoDB documentation on *How the _id Field is Handled in the Mapping Layer using:*\r\n- [@MongoId](https://docs.spring.io/spring-data/mongodb/docs/current/reference/html/#mongo-template.id-handling)\r\n- [@Id](https://docs.spring.io/spring-data/mongodb/docs/current/reference/html/#mapping.conventions.id-field)\r\n\r\n","title":"Spring Boot findById not working for MongoDB","body":"<p>I tried this with similar configuration class and found the following worked fine creating/accessing data using <code>MongoTemplate</code>.</p>\n<p>The POJO class:</p>\n<pre><code>public class Test {\n    \n    @MongoId(FieldType.OBJECT_ID)\n    private String id;\n    private String name;\n    \n    public Test() {\n    }\n    public Test(String s) {\n        super();\n        this.name = s;\n    }\n    \n    // get, set methods\n    \n    public String toString( ) {\n        return id + &quot; - &quot; + name;\n    }\n}\n</code></pre>\n<p>From Spring's <code>CommandLineRunner.run()</code>:</p>\n<pre><code>    // Insert a document into the database\n    Test t1 = new Test(&quot;alpha&quot;);\n    t1 = mt.insert(t1);\n    System.out.println(t1); // 61e7de9f5aadc2077d9f4a58 - alpha\n\n    // Query from the database using the _id\n    ObjectId id = new ObjectId(&quot;61e7de9f5aadc2077d9f4a58&quot;);\n    Test t2 = mt.findById(id, Test.class);\n    System.out.println(t2);\n</code></pre>\n<p>Note that you need to do this from the class where you are running the code:</p>\n<pre><code>@Autowired private MongoTemplate mt;\n</code></pre>\n<p>You can use the <code>@MongoId</code> or <code>@Id</code> annotations in our POJO class to represent MongoDB <code>_id</code> field. The type of the field can be a <code>String</code> or <code>ObjectId</code>. It depends upon how you define.</p>\n<p>See this from Spring Data MongoDB documentation on <em>How the _id Field is Handled in the Mapping Layer using:</em></p>\n<ul>\n<li><a href=\"https://docs.spring.io/spring-data/mongodb/docs/current/reference/html/#mongo-template.id-handling\" rel=\"nofollow noreferrer\">@MongoId</a></li>\n<li><a href=\"https://docs.spring.io/spring-data/mongodb/docs/current/reference/html/#mapping.conventions.id-field\" rel=\"nofollow noreferrer\">@Id</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":24609546,"reputation":9,"user_id":18511324,"display_name":"Morye"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659625981,"creation_date":1659625948,"answer_id":73238317,"question_id":70762027,"body_markdown":"Solution is to add to MongoId annotation field type object id\r\n\r\n    @MongoId(FieldType.OBJECT_ID)\r\n    private String id;","title":"Spring Boot findById not working for MongoDB","body":"<p>Solution is to add to MongoId annotation field type object id</p>\n<pre><code>@MongoId(FieldType.OBJECT_ID)\nprivate String id;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16326780,"reputation":31,"user_id":13981676,"display_name":"fr.fish93"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692269923,"creation_date":1692269072,"answer_id":76920762,"question_id":70762027,"body_markdown":"Writing here just to refer to the solution that helped me.\r\nHad more or less the same problem (collection with data) but somehow `Optional&lt;T&gt; findById(ID id)` from `org.springframework.data.repository.CrudRepository` failed to find it.\r\n\r\nProblem was that my Mongo init scripts imported IDs as strings:\r\n```\r\n{\r\n  &quot;_id&quot; : &quot;5a78a1d1ba09644244839536&quot;,\r\n// rest of document\r\n}\r\n```\r\nResulted in exactly the same representation inside of DB which couldn&#39;t been picked up by `Optional&lt;T&gt; findById(ID id)`\r\nShould be:\r\n```\r\n{\r\n  &quot;_id&quot; : {&quot;$oid&quot;:&quot;5a78a1d1ba09644244839536&quot;},\r\n// rest of the document\r\n}\r\n```\r\nWhich results in following representation after import:\r\n```\r\n{\r\n    &quot;_id&quot; : ObjectId(&quot;5a78a1d1ba09644244839536&quot;),\r\n//...\r\n}\r\n```\r\nKind of obvious for me now but I&#39;ve spent couple of days almost going crazy.\r\n\r\nFollowing threads helped me:\r\n\r\n - https://stackoverflow.com/a/60024234/13981676\r\n - https://stackoverflow.com/a/33507927/13981676\r\n\r\nUPD: Went through docs a bit here&#39;s the answer: https://docs.spring.io/spring-data/mongodb/docs/current/reference/html/#mongo-template.id-handling\r\n\r\nTake special care if you have data that &quot;*stored in MongoDB that did not run through the Spring Data mapping layer*&quot;. For example case of some init-scripts.","title":"Spring Boot findById not working for MongoDB","body":"<p>Writing here just to refer to the solution that helped me.\nHad more or less the same problem (collection with data) but somehow <code>Optional&lt;T&gt; findById(ID id)</code> from <code>org.springframework.data.repository.CrudRepository</code> failed to find it.</p>\n<p>Problem was that my Mongo init scripts imported IDs as strings:</p>\n<pre><code>{\n  &quot;_id&quot; : &quot;5a78a1d1ba09644244839536&quot;,\n// rest of document\n}\n</code></pre>\n<p>Resulted in exactly the same representation inside of DB which couldn't been picked up by <code>Optional&lt;T&gt; findById(ID id)</code>\nShould be:</p>\n<pre><code>{\n  &quot;_id&quot; : {&quot;$oid&quot;:&quot;5a78a1d1ba09644244839536&quot;},\n// rest of the document\n}\n</code></pre>\n<p>Which results in following representation after import:</p>\n<pre><code>{\n    &quot;_id&quot; : ObjectId(&quot;5a78a1d1ba09644244839536&quot;),\n//...\n}\n</code></pre>\n<p>Kind of obvious for me now but I've spent couple of days almost going crazy.</p>\n<p>Following threads helped me:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/a/60024234/13981676\">https://stackoverflow.com/a/60024234/13981676</a></li>\n<li><a href=\"https://stackoverflow.com/a/33507927/13981676\">https://stackoverflow.com/a/33507927/13981676</a></li>\n</ul>\n<p>UPD: Went through docs a bit here's the answer: <a href=\"https://docs.spring.io/spring-data/mongodb/docs/current/reference/html/#mongo-template.id-handling\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-data/mongodb/docs/current/reference/html/#mongo-template.id-handling</a></p>\n<p>Take special care if you have data that &quot;<em>stored in MongoDB that did not run through the Spring Data mapping layer</em>&quot;. For example case of some init-scripts.</p>\n"}],"owner":{"account_id":23980637,"reputation":13,"user_id":17968128,"display_name":"James Ostevik"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2448,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1692269923,"creation_date":1642537934,"question_id":70762027,"body_markdown":"I&#39;m trying to do a simple get query on springboot using mongodb as database engine\r\n\r\nI have tried with several stuff(sending the data as ObjectId and even changing the repository)\r\n\r\n\r\n    public ResponseEntity&lt;Track&gt; get(String trackId) {\r\n\t\tTrack find = mongoTemplate.findById(new ObjectId(trackId), Track.class);\r\n\r\n\t\tOptional&lt;Track&gt; track = tracksRepository.findById(trackId);\r\n\r\n\t\tif (track.isPresent()) {\r\n\t\t\treturn new ResponseEntity&lt;&gt;(track.get(), HttpStatus.OK);\r\n\t\t}\r\n\r\n\t\treturn new ResponseEntity&lt;&gt;(HttpStatus.NOT_FOUND);\r\n\r\n\t}\r\n\r\n\r\nwith mongo config\r\n\r\n    @Configuration\r\n    @EnableMongoRepositories(basePackages = &quot;data.store.repositories&quot;)\r\n    public class MongoConfig extends AbstractMongoClientConfiguration {\r\n\r\n\t    private final Logger LOGGER = Logger.getLogger(this.getClass().getSimpleName());\r\n\r\n\t    @Primary\r\n\t    @Bean\r\n\t    @Override\r\n\t    public MongoClient mongoClient() {\r\n\r\n\t\t    return MongoClients.create(MongoClientSettings.builder()\r\n\t\t\t\t.applyToClusterSettings(builder -&gt; builder.hosts(Arrays.asList(new ServerAddress(host, port))))\r\n\t\t\t\t.build());\r\n\t    }\r\n\r\n\t    private MongoCredential mongoCredentials() {\r\n\t\t    return MongoCredential.createCredential(username, database, password.toCharArray());\r\n\t    }\r\n\r\n\t    @Bean\r\n\t    public MongoTemplate mongoTemplate() {\r\n\t\t    MongoTemplate mongoTemplate = new MongoTemplate(mongoClient(), getDatabaseName());\r\n\t\t    mongoTemplate.setReadPreference(ReadPreference.secondaryPreferred());\r\n\t\t    return mongoTemplate;\r\n\t    }\r\n\r\n\t    protected String getDatabaseName() {\r\n\t\t    return database;\r\n\t    }\r\n\r\n\t    @Override\r\n\t    public boolean autoIndexCreation() {\r\n\t\t    return false;\r\n\t    }\r\n\r\n    }\r\n\r\nEDIT: Adding class for context\r\n\r\n    @Document(&quot;track&quot;)\r\n    public class Track {\r\n\t    @Id\r\n\t    @Field(ATTR_ID)\r\n\t    @JsonProperty(ATTR_ID)\r\n\t    public String id;\r\n\t    public static final String ATTR_ID = &quot;id&quot;;\r\n    }\r\n\r\nand getting always null, with existing keys on my database. could you help me find the issue? \r\n\r\nThanks in advance","title":"Spring Boot findById not working for MongoDB","body":"<p>I'm trying to do a simple get query on springboot using mongodb as database engine</p>\n<p>I have tried with several stuff(sending the data as ObjectId and even changing the repository)</p>\n<pre><code>public ResponseEntity&lt;Track&gt; get(String trackId) {\n    Track find = mongoTemplate.findById(new ObjectId(trackId), Track.class);\n\n    Optional&lt;Track&gt; track = tracksRepository.findById(trackId);\n\n    if (track.isPresent()) {\n        return new ResponseEntity&lt;&gt;(track.get(), HttpStatus.OK);\n    }\n\n    return new ResponseEntity&lt;&gt;(HttpStatus.NOT_FOUND);\n\n}\n</code></pre>\n<p>with mongo config</p>\n<pre><code>@Configuration\n@EnableMongoRepositories(basePackages = &quot;data.store.repositories&quot;)\npublic class MongoConfig extends AbstractMongoClientConfiguration {\n\n    private final Logger LOGGER = Logger.getLogger(this.getClass().getSimpleName());\n\n    @Primary\n    @Bean\n    @Override\n    public MongoClient mongoClient() {\n\n        return MongoClients.create(MongoClientSettings.builder()\n            .applyToClusterSettings(builder -&gt; builder.hosts(Arrays.asList(new ServerAddress(host, port))))\n            .build());\n    }\n\n    private MongoCredential mongoCredentials() {\n        return MongoCredential.createCredential(username, database, password.toCharArray());\n    }\n\n    @Bean\n    public MongoTemplate mongoTemplate() {\n        MongoTemplate mongoTemplate = new MongoTemplate(mongoClient(), getDatabaseName());\n        mongoTemplate.setReadPreference(ReadPreference.secondaryPreferred());\n        return mongoTemplate;\n    }\n\n    protected String getDatabaseName() {\n        return database;\n    }\n\n    @Override\n    public boolean autoIndexCreation() {\n        return false;\n    }\n\n}\n</code></pre>\n<p>EDIT: Adding class for context</p>\n<pre><code>@Document(&quot;track&quot;)\npublic class Track {\n    @Id\n    @Field(ATTR_ID)\n    @JsonProperty(ATTR_ID)\n    public String id;\n    public static final String ATTR_ID = &quot;id&quot;;\n}\n</code></pre>\n<p>and getting always null, with existing keys on my database. could you help me find the issue?</p>\n<p>Thanks in advance</p>\n"},{"tags":["java","android","firebase","firebase-realtime-database","sharedpreferences"],"comments":[{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":1,"creation_date":1692257584,"post_id":76919291,"comment_id":135599405,"body_markdown":"What&#39;s the question for us? Besides that, what exactly in this code doesn&#39;t work the way you expect?\nTell us what is wrong with shared code. Do you have any errors?","body":"What&#39;s the question for us? Besides that, what exactly in this code doesn&#39;t work the way you expect? Tell us what is wrong with shared code. Do you have any errors?"},{"owner":{"account_id":28900230,"reputation":23,"user_id":22135379,"display_name":"Twitch Arivim"},"score":0,"creation_date":1692257987,"post_id":76919291,"comment_id":135599465,"body_markdown":"I want to have the sum of the high scores of all the levels in the High Score TextView. Example : Level 1 + Level 2 : 30 to TextView","body":"I want to have the sum of the high scores of all the levels in the High Score TextView. Example : Level 1 + Level 2 : 30 to TextView"},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1692258805,"post_id":76919291,"comment_id":135599609,"body_markdown":"In that case, please edit your question and add your database structure as a JSON file. You can simply get it by clicking the Export JSON in the overflow menu () in your [Firebase Console](https://console.firebase.google.com/u/0/project/_/database/data).","body":"In that case, please edit your question and add your database structure as a JSON file. You can simply get it by clicking the Export JSON in the overflow menu () in your <a href=\"https://console.firebase.google.com/u/0/project/_/database/data\" rel=\"nofollow noreferrer\">Firebase Console</a>."},{"owner":{"account_id":28900230,"reputation":23,"user_id":22135379,"display_name":"Twitch Arivim"},"score":0,"creation_date":1692259646,"post_id":76919291,"comment_id":135599775,"body_markdown":"My problem is not related to Firebase Database. I have explained the problem in great detail. @AlexMamo","body":"My problem is not related to Firebase Database. I have explained the problem in great detail. @AlexMamo"}],"answers":[{"tags":[],"owner":{"account_id":19634805,"reputation":311,"user_id":14372265,"display_name":"Yogesh Rewani"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1692269544,"creation_date":1692269544,"answer_id":76920810,"question_id":76919291,"body_markdown":"Since the data structure hasn&#39;t been detailed or retrieved, I&#39;ve provided a random example assuming any key name. Please replace it as per your requirements.\r\n\r\nWhenever a score is updated, you&#39;ll need to calculate the highscore using a for loop. Additionally, I&#39;m storing the highscore for alternative usage\r\n\r\n    final DatabaseReference refDirect = FirebaseDatabase.getInstance().getReference();\r\n    refDirect.addListenerForSingleValueEvent(new ValueEventListener() {\r\n        @Override\r\n        public void onDataChange(DataSnapshot dataSnapshot) {\r\n            String uid = user.getUid();\r\n            refDirect.child(&quot;Users&quot;).child(uid).child(&quot;name&quot;).setValue(user.getDisplayName());\r\n            refDirect.child(&quot;Users&quot;).child(uid).child(&quot;image&quot;).setValue(user.getPhotoUrl().toString());\r\n    \r\n            // Assuming you have a list of levels and their respective high scores\r\n            List&lt;LevelScore&gt; levelScores = calculateHighScoresForLevels(dataSnapshot);\r\n    \r\n            int totalHighScore = 0;\r\n    \r\n            for (LevelScore levelScore : levelScores) {\r\n                refDirect.child(&quot;Users&quot;).child(uid).child(&quot;highscores&quot;)\r\n                    .child(levelScore.getLevelId()).setValue(levelScore.getScore());\r\n    \r\n                totalHighScore += levelScore.getScore(); // Calculate total high score\r\n            }\r\n    \r\n            refDirect.child(&quot;Users&quot;).child(uid).child(&quot;totalHighScore&quot;).setValue(totalHighScore);\r\n        }\r\n    \r\n        @Override\r\n        public void onCancelled(DatabaseError databaseError) {\r\n            // Handle onCancelled if needed\r\n        }\r\n    });\r\n\r\n","title":"android studio Score,CurrentHighScore and Total HighScore","body":"<p>Since the data structure hasn't been detailed or retrieved, I've provided a random example assuming any key name. Please replace it as per your requirements.</p>\n<p>Whenever a score is updated, you'll need to calculate the highscore using a for loop. Additionally, I'm storing the highscore for alternative usage</p>\n<pre><code>final DatabaseReference refDirect = FirebaseDatabase.getInstance().getReference();\nrefDirect.addListenerForSingleValueEvent(new ValueEventListener() {\n    @Override\n    public void onDataChange(DataSnapshot dataSnapshot) {\n        String uid = user.getUid();\n        refDirect.child(&quot;Users&quot;).child(uid).child(&quot;name&quot;).setValue(user.getDisplayName());\n        refDirect.child(&quot;Users&quot;).child(uid).child(&quot;image&quot;).setValue(user.getPhotoUrl().toString());\n\n        // Assuming you have a list of levels and their respective high scores\n        List&lt;LevelScore&gt; levelScores = calculateHighScoresForLevels(dataSnapshot);\n\n        int totalHighScore = 0;\n\n        for (LevelScore levelScore : levelScores) {\n            refDirect.child(&quot;Users&quot;).child(uid).child(&quot;highscores&quot;)\n                .child(levelScore.getLevelId()).setValue(levelScore.getScore());\n\n            totalHighScore += levelScore.getScore(); // Calculate total high score\n        }\n\n        refDirect.child(&quot;Users&quot;).child(uid).child(&quot;totalHighScore&quot;).setValue(totalHighScore);\n    }\n\n    @Override\n    public void onCancelled(DatabaseError databaseError) {\n        // Handle onCancelled if needed\n    }\n});\n</code></pre>\n"}],"owner":{"account_id":28900230,"reputation":23,"user_id":22135379,"display_name":"Twitch Arivim"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1692269544,"creation_date":1692257064,"question_id":76919291,"body_markdown":"I&#39;m developing a game and I have intermediate level of code knowledge. There are 10 levels in total in my game. I record the score instantly and compare it with the high score of the level, which is more.\r\n\r\nI want to keep the high score data in each level and collect it with all levels and print a TextView.\r\n\r\nYou will see in the code that I tried with Sharedpreferences. Result: Each level writes its own high score to the TextView. I want the sum of the high scores of all the levels to be written to the TextView.\r\n\r\n```\r\npublic class Main2Activity extends AppCompatActivity {\r\n    TextView scoreText,failedText,successText,highScoreText,randomArray;\r\n    int score;\r\n    public static int highScore,totalScore,totalScore2;\r\n\r\n    @SuppressLint(&quot;MissingInflatedId&quot;)\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n\r\n\r\n        score = 0;\r\n\r\n        //totalScore = highScore + totalScore2;\r\n        //totalScore2 = key.getInt(&quot;high_score_level2&quot;,0);\r\n\r\n        //Toast.makeText(this, &quot;Genel Skor : &quot;+ totalScore , Toast.LENGTH_LONG).show();\r\n        Toast.makeText(this, &quot;High : &quot;+ highScore , Toast.LENGTH_LONG).show();\r\n\r\n        levelFailed = getResources().getStringArray(R.array.levelFailed);\r\n        levelSuccess = getResources().getStringArray(R.array.levelSuccess);\r\n        highScoreText = (TextView) findViewById(R.id.txtHighScore);\r\n        startTimer();\r\n}\r\n\r\n        private void startTimer(){\r\n        start = new CountDownTimer(10000, 1000) {\r\n\r\n            @Override\r\n            public void onTick(long millisUntilFinished) {\r\n                timeText = (TextView) findViewById(R.id.textTime);\r\n                timeText.setText(&quot;Zaman : &quot; + millisUntilFinished / 1000);\r\n            }\r\n\r\n            @Override\r\n            public void onFinish() {\r\n                timeText = (TextView) findViewById(R.id.textTime);\r\n                timeText.setText(&quot;S&#252;re Doldu ! &quot;);\r\n                handler.removeCallbacks(runnable);\r\n\r\n                for (ImageView image : imageArray) {\r\n                    image.setVisibility(View.INVISIBLE);\r\n                }\r\n                int x = 0;\r\n                if (score &lt; 10){\r\n                    showFailedAlertDialog(R.layout.my_failed_dialog);\r\n\r\n                }\r\n                else if (score &gt;= 10){\r\n                    showAlertDialog(R.layout.my_success_dialog);\r\n                    highScore();\r\n                }\r\n\r\n\r\n            }\r\n        }.start();\r\n    }\r\n\r\n\r\n@SuppressLint(&quot;SetTextI18n&quot;)\r\n    public void highScore(){\r\n        SharedPreferences myScore = getSharedPreferences(&quot;my_pref&quot;,MODE_PRIVATE);\r\n\r\n        if (highScore &gt; score) {\r\n            highScoreText.setText(&quot;Highscore: &quot; + highScore);\r\n\r\n        } else {\r\n            highScore = score;\r\n            highScoreText.setText(&quot;Highscore: &quot; + highScore);\r\n            myScore.edit().putInt(&quot;high_score_level1&quot;, highScore).apply();\r\n\r\n            user = FirebaseAuth.getInstance().getCurrentUser();\r\n            //Upload user data\r\n            if (isOnline() &amp;&amp; user != null &amp;&amp; user.getDisplayName() != null) {\r\n                final DatabaseReference refDirect = FirebaseDatabase.getInstance().getReference();\r\n                refDirect.addListenerForSingleValueEvent(new ValueEventListener() {\r\n                    @Override\r\n                    public void onDataChange(DataSnapshot dataSnapshot) {\r\n                        refDirect.child(&quot;Users&quot; + &quot;/&quot; + user.getUid() +   \r\n                        &quot;/name&quot;).setValue(user.getDisplayName());\r\n                        refDirect.child(&quot;Users&quot; + &quot;/&quot; + user.getUid() + \r\n                        &quot;/image&quot;).setValue(user.getPhotoUrl().toString());\r\n                        refDirect.child(&quot;Users&quot; + &quot;/&quot; + user.getUid() + &quot;/highscore&quot;).setValue(highScore);\r\n\r\n\r\n                    }\r\n\r\n                    @Override\r\n                    public void onCancelled(DatabaseError databaseError) {\r\n                    }\r\n\r\n                });\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n\r\n        public void showAlertDialog(int my_success_dialog){\r\n        builderDialog = new AlertDialog.Builder(this);\r\n        View layoutView = getLayoutInflater().inflate(R.layout.my_success_dialog,null);\r\n\r\n        if (mInterstitialAd != null) {\r\n            mInterstitialAd.show(Main2Activity.this);\r\n        } else {\r\n            Log.d(&quot;TAG&quot;, &quot;The interstitial ad wasn&#39;t ready yet.&quot;);\r\n        }\r\n\r\n        randomArray = (TextView) layoutView .findViewById(R.id.successMessage);\r\n        randomArray.setText(&quot;&quot;);\r\n\r\n        successText = (TextView) layoutView .findViewById(R.id.txtSuccessScore);\r\n        successText.setText(&quot;Skor: &quot; + score);\r\n\r\n        highScoreText = (TextView) layoutView .findViewById(R.id.txtHighScore);\r\n        highScoreText.setText(&quot;Highscore: &quot; + highScore);\r\n\r\n        int randomIndex = new Random().nextInt(levelSuccess.length);\r\n        String randomName = levelSuccess[randomIndex];\r\n        randomArray.setText(randomName);\r\n\r\n        AppCompatButton dialogButton = layoutView.findViewById(R.id.successAnaMenu);\r\n        AppCompatButton dialogButtonTwo = layoutView.findViewById(R.id.successNextLevel);\r\n        builderDialog.setView(layoutView);\r\n        builderDialog.setCancelable(false);\r\n        alertDialog = builderDialog.create();\r\n        alertDialog.show();\r\n\r\n        dialogButton.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n\r\n                Intent intent = new Intent(getApplicationContext(), MainActivity.class);\r\n                Main2Activity.this.startActivity(intent);\r\n            }\r\n        });\r\n\r\n        dialogButtonTwo.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n\r\n                Intent intent = new Intent(getApplicationContext(), Main5Activity.class);\r\n                Main2Activity.this.startActivity(intent);\r\n            }\r\n        });\r\n    }\r\n\r\n\r\n}\r\n```\r\n[![enter image description here](https://i.stack.imgur.com/roiXx.png)](https://i.stack.imgur.com/roiXx.png)\r\n[![enter image description here](https://i.stack.imgur.com/g66t7.png)](https://i.stack.imgur.com/g66t7.png)\r\n\r\n**UPDATE:**\r\n```\r\nSharedPreferences myScore = getSharedPreferences(&quot;my_pref&quot;,MODE_PRIVATE);\r\n        totalScore = myScore.getInt(&quot;high_score_level2&quot;,0);\r\n        Toast.makeText(this, &quot;Highscore level2 : &quot;+ totalScore , Toast.LENGTH_LONG).show();\r\n        if (highScore &gt; score) {\r\n            highScoreText.setText(&quot;Highscore: &quot; + highScore + totalScore);\r\n\r\n        } else {\r\n            highScore = score;\r\n            highScoreText.setText(&quot;Highscore: &quot; + highScore + totalscore);\r\n            myScore.edit().putInt(&quot;high_score_level1&quot;, highScore).apply();\r\n```\r\n[![enter image description here][1]][1]\r\n\r\n1-Sharedpreferences pass to value next activity\r\n2-Firebase database get value but i failed\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/vrmyx.png","title":"android studio Score,CurrentHighScore and Total HighScore","body":"<p>I'm developing a game and I have intermediate level of code knowledge. There are 10 levels in total in my game. I record the score instantly and compare it with the high score of the level, which is more.</p>\n<p>I want to keep the high score data in each level and collect it with all levels and print a TextView.</p>\n<p>You will see in the code that I tried with Sharedpreferences. Result: Each level writes its own high score to the TextView. I want the sum of the high scores of all the levels to be written to the TextView.</p>\n<pre><code>public class Main2Activity extends AppCompatActivity {\n    TextView scoreText,failedText,successText,highScoreText,randomArray;\n    int score;\n    public static int highScore,totalScore,totalScore2;\n\n    @SuppressLint(&quot;MissingInflatedId&quot;)\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n\n\n        score = 0;\n\n        //totalScore = highScore + totalScore2;\n        //totalScore2 = key.getInt(&quot;high_score_level2&quot;,0);\n\n        //Toast.makeText(this, &quot;Genel Skor : &quot;+ totalScore , Toast.LENGTH_LONG).show();\n        Toast.makeText(this, &quot;High : &quot;+ highScore , Toast.LENGTH_LONG).show();\n\n        levelFailed = getResources().getStringArray(R.array.levelFailed);\n        levelSuccess = getResources().getStringArray(R.array.levelSuccess);\n        highScoreText = (TextView) findViewById(R.id.txtHighScore);\n        startTimer();\n}\n\n        private void startTimer(){\n        start = new CountDownTimer(10000, 1000) {\n\n            @Override\n            public void onTick(long millisUntilFinished) {\n                timeText = (TextView) findViewById(R.id.textTime);\n                timeText.setText(&quot;Zaman : &quot; + millisUntilFinished / 1000);\n            }\n\n            @Override\n            public void onFinish() {\n                timeText = (TextView) findViewById(R.id.textTime);\n                timeText.setText(&quot;Sre Doldu ! &quot;);\n                handler.removeCallbacks(runnable);\n\n                for (ImageView image : imageArray) {\n                    image.setVisibility(View.INVISIBLE);\n                }\n                int x = 0;\n                if (score &lt; 10){\n                    showFailedAlertDialog(R.layout.my_failed_dialog);\n\n                }\n                else if (score &gt;= 10){\n                    showAlertDialog(R.layout.my_success_dialog);\n                    highScore();\n                }\n\n\n            }\n        }.start();\n    }\n\n\n@SuppressLint(&quot;SetTextI18n&quot;)\n    public void highScore(){\n        SharedPreferences myScore = getSharedPreferences(&quot;my_pref&quot;,MODE_PRIVATE);\n\n        if (highScore &gt; score) {\n            highScoreText.setText(&quot;Highscore: &quot; + highScore);\n\n        } else {\n            highScore = score;\n            highScoreText.setText(&quot;Highscore: &quot; + highScore);\n            myScore.edit().putInt(&quot;high_score_level1&quot;, highScore).apply();\n\n            user = FirebaseAuth.getInstance().getCurrentUser();\n            //Upload user data\n            if (isOnline() &amp;&amp; user != null &amp;&amp; user.getDisplayName() != null) {\n                final DatabaseReference refDirect = FirebaseDatabase.getInstance().getReference();\n                refDirect.addListenerForSingleValueEvent(new ValueEventListener() {\n                    @Override\n                    public void onDataChange(DataSnapshot dataSnapshot) {\n                        refDirect.child(&quot;Users&quot; + &quot;/&quot; + user.getUid() +   \n                        &quot;/name&quot;).setValue(user.getDisplayName());\n                        refDirect.child(&quot;Users&quot; + &quot;/&quot; + user.getUid() + \n                        &quot;/image&quot;).setValue(user.getPhotoUrl().toString());\n                        refDirect.child(&quot;Users&quot; + &quot;/&quot; + user.getUid() + &quot;/highscore&quot;).setValue(highScore);\n\n\n                    }\n\n                    @Override\n                    public void onCancelled(DatabaseError databaseError) {\n                    }\n\n                });\n            }\n        }\n    }\n\n\n\n        public void showAlertDialog(int my_success_dialog){\n        builderDialog = new AlertDialog.Builder(this);\n        View layoutView = getLayoutInflater().inflate(R.layout.my_success_dialog,null);\n\n        if (mInterstitialAd != null) {\n            mInterstitialAd.show(Main2Activity.this);\n        } else {\n            Log.d(&quot;TAG&quot;, &quot;The interstitial ad wasn't ready yet.&quot;);\n        }\n\n        randomArray = (TextView) layoutView .findViewById(R.id.successMessage);\n        randomArray.setText(&quot;&quot;);\n\n        successText = (TextView) layoutView .findViewById(R.id.txtSuccessScore);\n        successText.setText(&quot;Skor: &quot; + score);\n\n        highScoreText = (TextView) layoutView .findViewById(R.id.txtHighScore);\n        highScoreText.setText(&quot;Highscore: &quot; + highScore);\n\n        int randomIndex = new Random().nextInt(levelSuccess.length);\n        String randomName = levelSuccess[randomIndex];\n        randomArray.setText(randomName);\n\n        AppCompatButton dialogButton = layoutView.findViewById(R.id.successAnaMenu);\n        AppCompatButton dialogButtonTwo = layoutView.findViewById(R.id.successNextLevel);\n        builderDialog.setView(layoutView);\n        builderDialog.setCancelable(false);\n        alertDialog = builderDialog.create();\n        alertDialog.show();\n\n        dialogButton.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n\n                Intent intent = new Intent(getApplicationContext(), MainActivity.class);\n                Main2Activity.this.startActivity(intent);\n            }\n        });\n\n        dialogButtonTwo.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n\n                Intent intent = new Intent(getApplicationContext(), Main5Activity.class);\n                Main2Activity.this.startActivity(intent);\n            }\n        });\n    }\n\n\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/roiXx.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/roiXx.png\" alt=\"enter image description here\" /></a>\n<a href=\"https://i.stack.imgur.com/g66t7.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/g66t7.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>UPDATE:</strong></p>\n<pre><code>SharedPreferences myScore = getSharedPreferences(&quot;my_pref&quot;,MODE_PRIVATE);\n        totalScore = myScore.getInt(&quot;high_score_level2&quot;,0);\n        Toast.makeText(this, &quot;Highscore level2 : &quot;+ totalScore , Toast.LENGTH_LONG).show();\n        if (highScore &gt; score) {\n            highScoreText.setText(&quot;Highscore: &quot; + highScore + totalScore);\n\n        } else {\n            highScore = score;\n            highScoreText.setText(&quot;Highscore: &quot; + highScore + totalscore);\n            myScore.edit().putInt(&quot;high_score_level1&quot;, highScore).apply();\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/vrmyx.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/vrmyx.png\" alt=\"enter image description here\" /></a></p>\n<p>1-Sharedpreferences pass to value next activity\n2-Firebase database get value but i failed</p>\n"},{"tags":["java","spring","caching","redis"],"answers":[{"tags":[],"owner":{"account_id":5244433,"reputation":1775,"user_id":4190617,"accept_rate":72,"display_name":"YLombardi"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1489747318,"creation_date":1489747318,"answer_id":42855362,"question_id":42852290,"body_markdown":"I finally found a solution.\r\nIn the configuration of the CacheManager, I need to set UserPrefix with True.\r\n    \r\n    @Bean(name = &quot;mediumLifeCacheManager&quot;)\r\n    public CacheManager mediumLifeCacheManager(RedisTemplate redisTemplate) {\r\n        RedisCacheManager cacheManager = new RedisCacheManager(redisTemplate);\r\n        cacheManager.setDefaultExpiration(redisExpirationMedium);\r\n        cacheManager.setUsePrefix(true);\r\n        return cacheManager;\r\n    }\r\n\r\nNow this works like I want.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/95txr.png","title":"How to create folders in redis&#39;s cache with spring?","body":"<p>I finally found a solution.\nIn the configuration of the CacheManager, I need to set UserPrefix with True.</p>\n\n<pre><code>@Bean(name = \"mediumLifeCacheManager\")\npublic CacheManager mediumLifeCacheManager(RedisTemplate redisTemplate) {\n    RedisCacheManager cacheManager = new RedisCacheManager(redisTemplate);\n    cacheManager.setDefaultExpiration(redisExpirationMedium);\n    cacheManager.setUsePrefix(true);\n    return cacheManager;\n}\n</code></pre>\n\n<p>Now this works like I want.</p>\n\n<p><a href=\"https://i.stack.imgur.com/95txr.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/95txr.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":[],"owner":{"account_id":1988712,"reputation":655,"user_id":1783283,"display_name":"Jonathan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692268329,"creation_date":1692268329,"answer_id":76920673,"question_id":42852290,"body_markdown":"it also works using keys with the semicolon separator like `&lt;prefix&gt;:&lt;key&gt;` will group all the key underneath the &lt;prefix&gt; folder (kotlin)\r\n\r\n```\r\nredisTemplate.opsForValue().get(&quot;folder-1:$key&quot;)\r\n```\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ZcxKu.png","title":"How to create folders in redis&#39;s cache with spring?","body":"<p>it also works using keys with the semicolon separator like <code>&lt;prefix&gt;:&lt;key&gt;</code> will group all the key underneath the  folder (kotlin)</p>\n<pre><code>redisTemplate.opsForValue().get(&quot;folder-1:$key&quot;)\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/ZcxKu.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ZcxKu.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":5244433,"reputation":1775,"user_id":4190617,"accept_rate":72,"display_name":"YLombardi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2298,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1692268329,"creation_date":1489738090,"question_id":42852290,"body_markdown":"I try to create folders in the redis cache of my project.\r\nI want something similar to what spring automatically do with spring session.\r\n\r\n[![enter image description here][1]][1]\r\n\r\nI have a lot of &quot;DisplayItem&quot; entries and I want to store them in a &quot;displayitem&quot; folder.\r\n\r\nHere is my code : \r\n\r\n    @Cacheable(value = &quot;displayItem&quot;, cacheManager = &quot;longLifeCacheManager&quot;)\r\n    public DisplayItem getDisplayItem(String displayItemCode) {\r\n        // Do a lot of things\r\n    }\r\n\r\n    @Cacheable(cacheManager = &quot;mediumLifeCacheManager&quot;, value = &quot;preferences:userPreferences&quot;, key = &quot;#zenithName&quot;)\r\n    public UserPreferences getUserPreferencesByZenithName(String zenithName) {\r\n        // Do something\r\n    }\r\n\r\nIf I replace the value by &quot;foldername:displayItem&quot;, it create a folder, but only for the keys (like I did for the preferences in the screenshot).\r\nI don&#39;t find how to store all the values in this same folder.\r\n\r\nHow can I do this ?\r\n\r\n  [1]: https://i.stack.imgur.com/dGdds.png","title":"How to create folders in redis&#39;s cache with spring?","body":"<p>I try to create folders in the redis cache of my project.\nI want something similar to what spring automatically do with spring session.</p>\n\n<p><a href=\"https://i.stack.imgur.com/dGdds.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/dGdds.png\" alt=\"enter image description here\"></a></p>\n\n<p>I have a lot of \"DisplayItem\" entries and I want to store them in a \"displayitem\" folder.</p>\n\n<p>Here is my code : </p>\n\n<pre><code>@Cacheable(value = \"displayItem\", cacheManager = \"longLifeCacheManager\")\npublic DisplayItem getDisplayItem(String displayItemCode) {\n    // Do a lot of things\n}\n\n@Cacheable(cacheManager = \"mediumLifeCacheManager\", value = \"preferences:userPreferences\", key = \"#zenithName\")\npublic UserPreferences getUserPreferencesByZenithName(String zenithName) {\n    // Do something\n}\n</code></pre>\n\n<p>If I replace the value by \"foldername:displayItem\", it create a folder, but only for the keys (like I did for the preferences in the screenshot).\nI don't find how to store all the values in this same folder.</p>\n\n<p>How can I do this ?</p>\n"},{"tags":["java","gradle","grails","groovy"],"answers":[{"tags":[],"owner":{"account_id":1905350,"reputation":2383,"user_id":1720349,"accept_rate":67,"display_name":"Deewendra Shrestha"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1692268079,"creation_date":1692268079,"answer_id":76920647,"question_id":76901132,"body_markdown":"Tried the same command that you had provided but I didn&#39;t get the issue you are seeing. Having said that just recently encountered similar issue : https://stackoverflow.com/questions/76905852/unable-to-run-integration-tests-when-upgrading-grails-from-version-5-to-6-coul\r\n\r\nAnd seem like its related to gradle version as well. Make sure your &quot;buildSrc&quot; folder has gradle version 7.6.2. \r\n\r\nAlso make sure the gradle/wrapper/gradle-wrapper.properties files have this line\r\n\r\n```\r\ndistributionUrl=https\\://services.gradle.org/distributions/gradle-7.6.2-bin.zip\r\n```\r\n\r\nFor me replacing the &quot;buildSrc&quot; folder again from fresh grails 6 application worked. \r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/lXXBl.png","title":"Cannot build newly created Grails 6.0.0 app with provided Gradle wrapper or system Gradle","body":"<p>Tried the same command that you had provided but I didn't get the issue you are seeing. Having said that just recently encountered similar issue : <a href=\"https://stackoverflow.com/questions/76905852/unable-to-run-integration-tests-when-upgrading-grails-from-version-5-to-6-coul\">Unable to run integration tests when upgrading grails from version 5 to 6 - Could not determine the dependencies of task &#39;:integrationTest&#39;</a></p>\n<p>And seem like its related to gradle version as well. Make sure your &quot;buildSrc&quot; folder has gradle version 7.6.2.</p>\n<p>Also make sure the gradle/wrapper/gradle-wrapper.properties files have this line</p>\n<pre><code>distributionUrl=https\\://services.gradle.org/distributions/gradle-7.6.2-bin.zip\n</code></pre>\n<p>For me replacing the &quot;buildSrc&quot; folder again from fresh grails 6 application worked.</p>\n<p><a href=\"https://i.stack.imgur.com/lXXBl.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/lXXBl.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":48222,"reputation":697,"user_id":143184,"accept_rate":33,"display_name":"mindcrime"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":296,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":76920647,"answer_count":1,"score":2,"last_activity_date":1692268079,"creation_date":1692035247,"question_id":76901132,"body_markdown":"**Configuration**:\r\n\r\nMacOS Ventura, 13.5\r\n\r\nJDK: Liberica JDK 11, and/or Liberica JDK 17\r\n\r\nSystem Gradle: Gradle 8.2.1\r\n\r\nGrails: Grails Version: 6.0.0\r\n\r\n**Problem**:\r\n\r\nI can run \r\n\r\n    $&gt; grails create-app foobar\r\n\r\nto create a new, empty Grails app. That part works fine.\r\n\r\nI can then cd into the &#39;foobar&#39; directory and run\r\n\r\n    $&gt; ./gradlew clean build\r\n\r\nAnd I&#39;m met by the following error when using the JDK 11 mentioned above:\r\n\r\n    FAILURE: Build failed with an exception.\r\n    \r\n    * What went wrong:\r\n    Could not determine the dependencies of task &#39;:integrationTest&#39;.\r\n    &gt; Could not create task &#39;:mergeTestReports&#39;.\r\n       &gt; &#39;org.gradle.api.file.DirectoryProperty org.gradle.api.tasks.testing.TestReport.getDestinationDirectory()&#39;\r\n\r\n\r\nIf I try instead building with the system Gradle:\r\n\r\n    $&gt; gradle clean build\r\n\r\nI get this (again with JDK 11):\r\n\r\n    &gt; Configure project :\r\n    Cannot resolve reloading agent JAR: Failed to resolve imported Maven boms: Cannot resolve external dependency org.springframework.boot:spring-boot-dependencies:2.7.12 because no repositories are defined.\r\n    Required by:\r\n        project :\r\n    \r\n    FAILURE: Build completed with 2 failures.\r\n    \r\n    1: Task failed with an exception.\r\n    -----------\r\n    * Where:\r\n    Build file &#39;/Users/prhodes1/development/experimental/grails/foobar/build.gradle&#39; line: 22\r\n    \r\n    * What went wrong:\r\n    A problem occurred evaluating root project &#39;foobar&#39;.\r\n    &gt; Failed to apply plugin &#39;org.grails.grails-gsp&#39;.\r\n       &gt; Could not create task &#39;:compileGroovyPages&#39;.\r\n          &gt; Could not create task of type &#39;GroovyPageForkCompileTask&#39;.\r\n             &gt; java.lang.InstantiationException (no error message)\r\n    \r\n    * Try:\r\n    &gt; Run with --stacktrace option to get the stack trace.\r\n    &gt; Run with --info or --debug option to get more log output.\r\n    &gt; Run with --scan to get full insights.\r\n    &gt; Get more help at https://help.gradle.org.\r\n    ==============================================================================\r\n    \r\n    2: Task failed with an exception.\r\n    -----------\r\n    * What went wrong:\r\n    A problem occurred configuring root project &#39;foobar&#39;.\r\n    &gt; Could not resolve all files for configuration &#39;:runtimeClasspath&#39;.\r\n       &gt; Cannot resolve external dependency io.micronaut:micronaut-inject-groovy:3.9.3 because no repositories are defined.\r\n         Required by:\r\n             project :\r\n\r\n\r\nIf I try with JDK 17, using the Gradle wrapper, I get pretty much the same error:\r\n\r\n    FAILURE: Build failed with an exception.\r\n    \r\n    * What went wrong:\r\n    Could not determine the dependencies of task &#39;:integrationTest&#39;.\r\n    &gt; Could not create task &#39;:mergeTestReports&#39;.\r\n       &gt; &#39;org.gradle.api.file.DirectoryProperty org.gradle.api.tasks.testing.TestReport.getDestinationDirectory()&#39;\r\n    \r\n    * Try:\r\n    Run with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights.\r\n\r\nAnd likewise for the combination of JDK 17 and system Gradle:\r\n\r\n    \r\n    &gt; Configure project :\r\n    Cannot resolve reloading agent JAR: Failed to resolve imported Maven boms: Cannot resolve external dependency org.springframework.boot:spring-boot-dependencies:2.7.12 because no repositories are defined.\r\n    Required by:\r\n        project :\r\n    \r\n    FAILURE: Build completed with 2 failures.\r\n    \r\n    1: Task failed with an exception.\r\n    -----------\r\n    * Where:\r\n    Build file &#39;/Users/prhodes1/development/experimental/grails/foobar/build.gradle&#39; line: 22\r\n    \r\n    * What went wrong:\r\n    A problem occurred evaluating root project &#39;foobar&#39;.\r\n    &gt; Failed to apply plugin &#39;org.grails.grails-gsp&#39;.\r\n       &gt; Could not create task &#39;:compileGroovyPages&#39;.\r\n          &gt; Could not create task of type &#39;GroovyPageForkCompileTask&#39;.\r\n             &gt; java.lang.InstantiationException (no error message)\r\n    \r\n    * Try:\r\n    &gt; Run with --stacktrace option to get the stack trace.\r\n    &gt; Run with --info or --debug option to get more log output.\r\n    &gt; Run with --scan to get full insights.\r\n    &gt; Get more help at https://help.gradle.org.\r\n    ==============================================================================\r\n    \r\n    2: Task failed with an exception.\r\n    -----------\r\n    * What went wrong:\r\n    A problem occurred configuring root project &#39;foobar&#39;.\r\n    &gt; Could not resolve all files for configuration &#39;:runtimeClasspath&#39;.\r\n       &gt; Cannot resolve external dependency io.micronaut:micronaut-inject-groovy:3.9.3 because no repositories are defined.\r\n         Required by:\r\n             project :\r\n\r\n\r\nAlso, FYI, the Gradle wrapper created by the grails create-app command is for version 7.2\r\n\r\n    C02FK2T0ML85:foobar prhodes1$ ./gradlew --version\r\n    \r\n    ------------------------------------------------------------\r\n    Gradle 7.2\r\n    ------------------------------------------------------------\r\n    \r\n    Build time:   2021-08-17 09:59:03 UTC\r\n    Revision:     a773786b58bb28710e3dc96c4d1a7063628952ad\r\n    \r\n    Kotlin:       1.5.21\r\n    Groovy:       3.0.8\r\n    Ant:          Apache Ant(TM) version 1.10.9 compiled on September 27 2020\r\n    JVM:          17.0.6 (BellSoft 17.0.6+10-LTS)\r\n    OS:           Mac OS X 13.5 x86_64\r\n\r\nSo basically I&#39;m stuck. I can&#39;t get the generated Grails project to build with either JDK 11 (which is documented as the minimum requirement for Grails 6, per the docs) nor JDK 17, using the generated wrapper or a system install of a recent Gradle. If anybody has any thoughts on how to resolve this and get this Grails app building, I would very much appreciate your insights. ","title":"Cannot build newly created Grails 6.0.0 app with provided Gradle wrapper or system Gradle","body":"<p><strong>Configuration</strong>:</p>\n<p>MacOS Ventura, 13.5</p>\n<p>JDK: Liberica JDK 11, and/or Liberica JDK 17</p>\n<p>System Gradle: Gradle 8.2.1</p>\n<p>Grails: Grails Version: 6.0.0</p>\n<p><strong>Problem</strong>:</p>\n<p>I can run</p>\n<pre><code>$&gt; grails create-app foobar\n</code></pre>\n<p>to create a new, empty Grails app. That part works fine.</p>\n<p>I can then cd into the 'foobar' directory and run</p>\n<pre><code>$&gt; ./gradlew clean build\n</code></pre>\n<p>And I'm met by the following error when using the JDK 11 mentioned above:</p>\n<pre><code>FAILURE: Build failed with an exception.\n\n* What went wrong:\nCould not determine the dependencies of task ':integrationTest'.\n&gt; Could not create task ':mergeTestReports'.\n   &gt; 'org.gradle.api.file.DirectoryProperty org.gradle.api.tasks.testing.TestReport.getDestinationDirectory()'\n</code></pre>\n<p>If I try instead building with the system Gradle:</p>\n<pre><code>$&gt; gradle clean build\n</code></pre>\n<p>I get this (again with JDK 11):</p>\n<pre><code>&gt; Configure project :\nCannot resolve reloading agent JAR: Failed to resolve imported Maven boms: Cannot resolve external dependency org.springframework.boot:spring-boot-dependencies:2.7.12 because no repositories are defined.\nRequired by:\n    project :\n\nFAILURE: Build completed with 2 failures.\n\n1: Task failed with an exception.\n-----------\n* Where:\nBuild file '/Users/prhodes1/development/experimental/grails/foobar/build.gradle' line: 22\n\n* What went wrong:\nA problem occurred evaluating root project 'foobar'.\n&gt; Failed to apply plugin 'org.grails.grails-gsp'.\n   &gt; Could not create task ':compileGroovyPages'.\n      &gt; Could not create task of type 'GroovyPageForkCompileTask'.\n         &gt; java.lang.InstantiationException (no error message)\n\n* Try:\n&gt; Run with --stacktrace option to get the stack trace.\n&gt; Run with --info or --debug option to get more log output.\n&gt; Run with --scan to get full insights.\n&gt; Get more help at https://help.gradle.org.\n==============================================================================\n\n2: Task failed with an exception.\n-----------\n* What went wrong:\nA problem occurred configuring root project 'foobar'.\n&gt; Could not resolve all files for configuration ':runtimeClasspath'.\n   &gt; Cannot resolve external dependency io.micronaut:micronaut-inject-groovy:3.9.3 because no repositories are defined.\n     Required by:\n         project :\n</code></pre>\n<p>If I try with JDK 17, using the Gradle wrapper, I get pretty much the same error:</p>\n<pre><code>FAILURE: Build failed with an exception.\n\n* What went wrong:\nCould not determine the dependencies of task ':integrationTest'.\n&gt; Could not create task ':mergeTestReports'.\n   &gt; 'org.gradle.api.file.DirectoryProperty org.gradle.api.tasks.testing.TestReport.getDestinationDirectory()'\n\n* Try:\nRun with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights.\n</code></pre>\n<p>And likewise for the combination of JDK 17 and system Gradle:</p>\n<pre><code>&gt; Configure project :\nCannot resolve reloading agent JAR: Failed to resolve imported Maven boms: Cannot resolve external dependency org.springframework.boot:spring-boot-dependencies:2.7.12 because no repositories are defined.\nRequired by:\n    project :\n\nFAILURE: Build completed with 2 failures.\n\n1: Task failed with an exception.\n-----------\n* Where:\nBuild file '/Users/prhodes1/development/experimental/grails/foobar/build.gradle' line: 22\n\n* What went wrong:\nA problem occurred evaluating root project 'foobar'.\n&gt; Failed to apply plugin 'org.grails.grails-gsp'.\n   &gt; Could not create task ':compileGroovyPages'.\n      &gt; Could not create task of type 'GroovyPageForkCompileTask'.\n         &gt; java.lang.InstantiationException (no error message)\n\n* Try:\n&gt; Run with --stacktrace option to get the stack trace.\n&gt; Run with --info or --debug option to get more log output.\n&gt; Run with --scan to get full insights.\n&gt; Get more help at https://help.gradle.org.\n==============================================================================\n\n2: Task failed with an exception.\n-----------\n* What went wrong:\nA problem occurred configuring root project 'foobar'.\n&gt; Could not resolve all files for configuration ':runtimeClasspath'.\n   &gt; Cannot resolve external dependency io.micronaut:micronaut-inject-groovy:3.9.3 because no repositories are defined.\n     Required by:\n         project :\n</code></pre>\n<p>Also, FYI, the Gradle wrapper created by the grails create-app command is for version 7.2</p>\n<pre><code>C02FK2T0ML85:foobar prhodes1$ ./gradlew --version\n\n------------------------------------------------------------\nGradle 7.2\n------------------------------------------------------------\n\nBuild time:   2021-08-17 09:59:03 UTC\nRevision:     a773786b58bb28710e3dc96c4d1a7063628952ad\n\nKotlin:       1.5.21\nGroovy:       3.0.8\nAnt:          Apache Ant(TM) version 1.10.9 compiled on September 27 2020\nJVM:          17.0.6 (BellSoft 17.0.6+10-LTS)\nOS:           Mac OS X 13.5 x86_64\n</code></pre>\n<p>So basically I'm stuck. I can't get the generated Grails project to build with either JDK 11 (which is documented as the minimum requirement for Grails 6, per the docs) nor JDK 17, using the generated wrapper or a system install of a recent Gradle. If anybody has any thoughts on how to resolve this and get this Grails app building, I would very much appreciate your insights.</p>\n"},{"tags":["java","date"],"comments":[{"owner":{"account_id":1944253,"reputation":37590,"user_id":1749753,"display_name":"jlordo"},"score":18,"creation_date":1355845810,"post_id":13936576,"comment_id":19215452,"body_markdown":"imho it makes total sense. If two things happen at the same time, than neither of both happened before the other.","body":"imho it makes total sense. If two things happen at the same time, than neither of both happened before the other."},{"owner":{"account_id":938015,"reputation":21321,"user_id":966590,"accept_rate":100,"display_name":"Andrew Logvinov"},"score":0,"creation_date":1355845823,"post_id":13936576,"comment_id":19215464,"body_markdown":"Why doesn&#39;t it make sense?","body":"Why doesn&#39;t it make sense?"},{"owner":{"account_id":71547,"reputation":2752,"user_id":2677158,"display_name":"Steven Mastandrea"},"score":3,"creation_date":1355845823,"post_id":13936576,"comment_id":19215466,"body_markdown":"Ummm, unless I&#39;m missing something, these two dates appear to be equal, so date1.before(date2) should return false.","body":"Ummm, unless I&#39;m missing something, these two dates appear to be equal, so date1.before(date2) should return false."},{"owner":{"account_id":97313,"reputation":6321,"user_id":264028,"accept_rate":75,"display_name":"Joaqu&#237;n L. Robles"},"score":0,"creation_date":1638374163,"post_id":13936576,"comment_id":124072018,"body_markdown":"date1 being before date2 implies that date2 is not before date1, so what you are suggesting is itself a contradiction","body":"date1 being before date2 implies that date2 is not before date1, so what you are suggesting is itself a contradiction"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1690892886,"post_id":13936576,"comment_id":135413948,"body_markdown":"Are you using `java.util.Date`? While this made sense to do 11 years ago when the question was asked, the recommendation today is clear: do not use that class. It was always poorly designed and is long outdated. Depending on context and exact requirements you will probably want to use `Instant` or perhaps `LocalDate` or `ZonedDateTime`. They are all from [java.time, the modern java date and time API](https://docs.oracle.com/javase/tutorial/datetime/index.html). It will still be true that an `Instant` is not before itself, though.","body":"Are you using <code>java.util.Date</code>? While this made sense to do 11 years ago when the question was asked, the recommendation today is clear: do not use that class. It was always poorly designed and is long outdated. Depending on context and exact requirements you will probably want to use <code>Instant</code> or perhaps <code>LocalDate</code> or <code>ZonedDateTime</code>. They are all from <a href=\"https://docs.oracle.com/javase/tutorial/datetime/index.html\" rel=\"nofollow noreferrer\">java.time, the modern java date and time API</a>. It will still be true that an <code>Instant</code> is not before itself, though."}],"answers":[{"tags":[],"owner":{"account_id":1192481,"reputation":4568,"user_id":1164954,"accept_rate":77,"display_name":"svz"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1355845874,"creation_date":1355845874,"answer_id":13936627,"question_id":13936576,"body_markdown":"This is quite a normal behavior because `dateBefore` checks whether one date is **before** the other one. If the dates are equal this is obvious to be false.","title":"Date before method returns false if both dates are equal","body":"<p>This is quite a normal behavior because <code>dateBefore</code> checks whether one date is <strong>before</strong> the other one. If the dates are equal this is obvious to be false.</p>\n"},{"tags":[],"owner":{"account_id":1853502,"reputation":16211,"user_id":1679537,"accept_rate":82,"display_name":"xlecoustillier"},"down_vote_count":1,"up_vote_count":99,"is_accepted":true,"score":98,"last_activity_date":1690884910,"creation_date":1355845893,"answer_id":13936632,"question_id":13936576,"body_markdown":"As `date1.equals(date2)`, it is normal that `date1.before(date2)` returns `false`. As will do `date1.after(date2)`.\r\n\r\nBoth dates are the same, so one is not before the other.\r\n\r\nFrom the [javadoc][1] :\r\n\r\n&gt;  true if and only if the instant of time represented by this Date\r\n&gt; object is **strictly** earlier than the instant represented by when;\r\n&gt; false otherwise.\r\n\r\nTry something like:\r\n\r\n    if (date1.before(date2) || date1.equals(date2)) ...\r\n\r\nThe answers provided below suggest testing for the inverse, and they&#39;re right:\r\n\r\n    if (!date1.after(date2)) ...\r\n\r\nBoth tests are equivalent.\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/java/util/Date.html","title":"Date before method returns false if both dates are equal","body":"<p>As <code>date1.equals(date2)</code>, it is normal that <code>date1.before(date2)</code> returns <code>false</code>. As will do <code>date1.after(date2)</code>.</p>\n<p>Both dates are the same, so one is not before the other.</p>\n<p>From the <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/Date.html\" rel=\"nofollow noreferrer\">javadoc</a> :</p>\n<blockquote>\n<p>true if and only if the instant of time represented by this Date\nobject is <strong>strictly</strong> earlier than the instant represented by when;\nfalse otherwise.</p>\n</blockquote>\n<p>Try something like:</p>\n<pre><code>if (date1.before(date2) || date1.equals(date2)) ...\n</code></pre>\n<p>The answers provided below suggest testing for the inverse, and they're right:</p>\n<pre><code>if (!date1.after(date2)) ...\n</code></pre>\n<p>Both tests are equivalent.</p>\n"},{"tags":[],"owner":{"account_id":1899105,"reputation":4463,"user_id":1715367,"accept_rate":43,"display_name":"taswyn"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1355847115,"creation_date":1355846401,"answer_id":13936810,"question_id":13936576,"body_markdown":"If the dates are equal, then obviously one is NOT before the other: `false is the correct return for date1.before(date2) where date1 == date2`.\r\n\r\nIf you need to *include* equality, why not do a negation on `.after()` (obviously if date 1 is NOT after date 2, then it is *equal or before*), but I would make sure that this is actually correct logic for what you are trying to accomplish.\r\n\r\nIf equality is a special case that needs to be handled differently, then have a separate test for `.equals()`.","title":"Date before method returns false if both dates are equal","body":"<p>If the dates are equal, then obviously one is NOT before the other: <code>false is the correct return for date1.before(date2) where date1 == date2</code>.</p>\n\n<p>If you need to <em>include</em> equality, why not do a negation on <code>.after()</code> (obviously if date 1 is NOT after date 2, then it is <em>equal or before</em>), but I would make sure that this is actually correct logic for what you are trying to accomplish.</p>\n\n<p>If equality is a special case that needs to be handled differently, then have a separate test for <code>.equals()</code>.</p>\n"},{"tags":[],"owner":{"account_id":2123179,"reputation":10922,"user_id":1886012,"display_name":"bowmore"},"down_vote_count":0,"up_vote_count":65,"is_accepted":false,"score":65,"last_activity_date":1355858596,"creation_date":1355858596,"answer_id":13940015,"question_id":13936576,"body_markdown":"You can simply test the inverse : \r\n\r\n    !date1.after(date2)\r\n\r\nYou can always convert a strict order check to a non-strict check in this manner. Since mathematically :\r\n\r\n    a &gt; b  &#172; (a  b)","title":"Date before method returns false if both dates are equal","body":"<p>You can simply test the inverse : </p>\n\n<pre><code>!date1.after(date2)\n</code></pre>\n\n<p>You can always convert a strict order check to a non-strict check in this manner. Since mathematically :</p>\n\n<pre><code>a &gt; b   (a  b)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":480378,"reputation":1759,"user_id":893589,"accept_rate":80,"display_name":"Rafael Moreira"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1388765430,"creation_date":1388765055,"answer_id":20907787,"question_id":13936576,"body_markdown":"you can use the inverse like it was proposed by bowmore: `!date1.after(date2)`\r\n\r\nOr if you are looking for ranges, between can include the endpoints, in which case you could `use return !d.before(min) &amp;&amp; !d.after(max)`","title":"Date before method returns false if both dates are equal","body":"<p>you can use the inverse like it was proposed by bowmore: <code>!date1.after(date2)</code></p>\n\n<p>Or if you are looking for ranges, between can include the endpoints, in which case you could <code>use return !d.before(min) &amp;&amp; !d.after(max)</code></p>\n"},{"tags":[],"owner":{"account_id":1965862,"reputation":3669,"user_id":1766166,"accept_rate":71,"display_name":"zygimantus"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1444725235,"creation_date":1444725235,"answer_id":33097821,"question_id":13936576,"body_markdown":"You can use this also:\r\n    \r\n    boolean check = dateOne.before(dateTwo) || DateUtils.isSameDay(dateOne, dateTwo);\r\n\r\nDateUtils is from **org.apache.commons.lang.time** package","title":"Date before method returns false if both dates are equal","body":"<p>You can use this also:</p>\n\n<pre><code>boolean check = dateOne.before(dateTwo) || DateUtils.isSameDay(dateOne, dateTwo);\n</code></pre>\n\n<p>DateUtils is from <strong>org.apache.commons.lang.time</strong> package</p>\n"},{"tags":[],"owner":{"account_id":5411323,"reputation":695,"user_id":4307991,"display_name":"alvaro torrico"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1472509697,"creation_date":1472404051,"answer_id":39193775,"question_id":13936576,"body_markdown":"The real problem with your code maybe is that you are not taking into account the millis and the before function does\r\n\r\nTwo objects java.util.Date with a toString result: Sun Aug 28 00:00:00 CEST 2016\r\nmay have a different value when calling to getTime.\r\nFor instance\r\n   \r\n    Date d1;\r\n    Date d2;\r\n    d1.toString(); // = Sun Aug 28 00:00:00 CEST 2016\r\n    d2.toString(); // = Sun Aug 28 00:00:00 CEST 2016\r\n    d1.getTime(); // = 1472335200605\r\n    d2.getTime(); // = 1472335200000\r\n\r\nOf course, these dates are not equals.\r\n\r\n&gt; ## From javadoc: ##\r\n&gt;\r\n&gt;&quot;Returns:true if and only if the instant of time represented by this Date object is strictly earlier than the instant represented by when; false otherwise.&quot;","title":"Date before method returns false if both dates are equal","body":"<p>The real problem with your code maybe is that you are not taking into account the millis and the before function does</p>\n\n<p>Two objects java.util.Date with a toString result: Sun Aug 28 00:00:00 CEST 2016\nmay have a different value when calling to getTime.\nFor instance</p>\n\n<pre><code>Date d1;\nDate d2;\nd1.toString(); // = Sun Aug 28 00:00:00 CEST 2016\nd2.toString(); // = Sun Aug 28 00:00:00 CEST 2016\nd1.getTime(); // = 1472335200605\nd2.getTime(); // = 1472335200000\n</code></pre>\n\n<p>Of course, these dates are not equals.</p>\n\n<blockquote>\n  <h2>From javadoc:</h2>\n  \n  <p>\"Returns:true if and only if the instant of time represented by this Date object is strictly earlier than the instant represented by when; false otherwise.\"</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1597175888,"creation_date":1597175888,"answer_id":63365518,"question_id":13936576,"body_markdown":"The answers from 2012 are correct and were generally good answers back then. Nowadays we surely prefer to use java.time, the modern Java date and time API, over the `Date` class implied in the question. `Date` is poorly designed and now long outdated.\r\n\r\nThe two recommended ways to obtain a before or equal comparison are:\r\n\r\n 1. **The natural and wordy** one:\r\n\r\n    \t\tOffsetDateTime dateTime1 = OffsetDateTime.of(2012, 12, 18, 0, 0, 0, 0, ZoneOffset.ofHours(2));\r\n    \t\tOffsetDateTime dateTime2 = OffsetDateTime.of(2012, 12, 18, 0, 0, 0, 0, ZoneOffset.ofHours(2));\r\n    \t\t\r\n    \t\tif (dateTime1.isBefore(dateTime2) || dateTime1.isEqual(dateTime2)) {\r\n    \t\t\tSystem.out.println(&quot;dateTime1 is before or equal to dateTime2&quot;);\r\n    \t\t} else {\r\n    \t\t\tSystem.out.println(&quot;dateTime1 is after dateTime2&quot;);\r\n    \t\t}\r\n    \r\n    Output is:\r\n    \r\n    &gt; dateTime1 is before or equal to dateTime2\r\n\r\n    As an aside `OffsetDateTime.isEqual()` compares points in time, instants, across UTC offsets and will return true of the two objects denote the same point in time. Also `isBefore()` works across different UTC offsets.\r\n\r\n 2. **The brief one** where we reverse the condition:\r\n\r\n    \t\tif (dateTime1.isAfter(dateTime2)) {\r\n    \t\t\tSystem.out.println(&quot;dateTime1 is after dateTime2&quot;);\r\n    \t\t} else {\r\n    \t\t\tSystem.out.println(&quot;dateTime1 is before or equal to dateTime2&quot;);\r\n    \t\t}\r\n    \r\n    Output is the same as before.\r\n\r\nDepending on requirements you could easily find yourself preferring the `Instant` class over `OffsetDateTime`. The `if` condition will be the same.\r\n\r\nNo matter if using the old-fashioned `Date` or one of the modern classes *before* means *strictly before*. So to obtain *before or equal* we need to use one of the variants above.\r\n\r\n","title":"Date before method returns false if both dates are equal","body":"<p>The answers from 2012 are correct and were generally good answers back then. Nowadays we surely prefer to use java.time, the modern Java date and time API, over the <code>Date</code> class implied in the question. <code>Date</code> is poorly designed and now long outdated.</p>\n<p>The two recommended ways to obtain a before or equal comparison are:</p>\n<ol>\n<li><p><strong>The natural and wordy</strong> one:</p>\n<pre><code>    OffsetDateTime dateTime1 = OffsetDateTime.of(2012, 12, 18, 0, 0, 0, 0, ZoneOffset.ofHours(2));\n    OffsetDateTime dateTime2 = OffsetDateTime.of(2012, 12, 18, 0, 0, 0, 0, ZoneOffset.ofHours(2));\n\n    if (dateTime1.isBefore(dateTime2) || dateTime1.isEqual(dateTime2)) {\n        System.out.println(&quot;dateTime1 is before or equal to dateTime2&quot;);\n    } else {\n        System.out.println(&quot;dateTime1 is after dateTime2&quot;);\n    }\n</code></pre>\n<p>Output is:</p>\n<blockquote>\n<p>dateTime1 is before or equal to dateTime2</p>\n</blockquote>\n<p>As an aside <code>OffsetDateTime.isEqual()</code> compares points in time, instants, across UTC offsets and will return true of the two objects denote the same point in time. Also <code>isBefore()</code> works across different UTC offsets.</p>\n</li>\n<li><p><strong>The brief one</strong> where we reverse the condition:</p>\n<pre><code>    if (dateTime1.isAfter(dateTime2)) {\n        System.out.println(&quot;dateTime1 is after dateTime2&quot;);\n    } else {\n        System.out.println(&quot;dateTime1 is before or equal to dateTime2&quot;);\n    }\n</code></pre>\n<p>Output is the same as before.</p>\n</li>\n</ol>\n<p>Depending on requirements you could easily find yourself preferring the <code>Instant</code> class over <code>OffsetDateTime</code>. The <code>if</code> condition will be the same.</p>\n<p>No matter if using the old-fashioned <code>Date</code> or one of the modern classes <em>before</em> means <em>strictly before</em>. So to obtain <em>before or equal</em> we need to use one of the variants above.</p>\n"},{"tags":[],"owner":{"account_id":414114,"reputation":101,"user_id":788146,"display_name":"StanleyKh"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1692267574,"creation_date":1690884575,"answer_id":76810580,"question_id":13936576,"body_markdown":"Assertj&#39;s [isBeforeOrEqualTo][1] is an option for tests.\r\n\r\nExamle for ``Instant`` taken from the [doc][2]:\r\n\r\n    // assertions succeed\r\n    // theTwoTowers release date : 2002-12-18\r\n    assertThat(theTwoTowers.getReleaseDate()).assertIsAfterOrEqualTo(Instant.parse(&quot;2002-12-17T00:00:00.00Z&quot;))\r\n                                             .assertIsAfterOrEqualTo(Instant.parse(&quot;2002-12-18T00:00:00.00Z&quot;));\r\n    // assertion fails\r\n    assertThat(theTwoTowers.getReleaseDate()).assertIsAfterOrEqualTo(Instant.parse(&quot;2002-12-19T00:00:00.00Z&quot;));\r\n\r\n  [1]: https://www.javadoc.io/doc/org.assertj/assertj-joda-time/latest/org/assertj/jodatime/api/LocalDateAssert.html#isBeforeOrEqualTo-org.joda.time.LocalDate-\r\n[2]: https://www.javadoc.io/doc/org.assertj/assertj-core/latest/org/assertj/core/api/AbstractDateAssert.html#isAfterOrEqualTo(java.time.Instant)\r\n\r\n","title":"Date before method returns false if both dates are equal","body":"<p>Assertj's <a href=\"https://www.javadoc.io/doc/org.assertj/assertj-joda-time/latest/org/assertj/jodatime/api/LocalDateAssert.html#isBeforeOrEqualTo-org.joda.time.LocalDate-\" rel=\"nofollow noreferrer\">isBeforeOrEqualTo</a> is an option for tests.</p>\n<p>Examle for <code>Instant</code> taken from the <a href=\"https://www.javadoc.io/doc/org.assertj/assertj-core/latest/org/assertj/core/api/AbstractDateAssert.html#isAfterOrEqualTo(java.time.Instant)\" rel=\"nofollow noreferrer\">doc</a>:</p>\n<pre><code>// assertions succeed\n// theTwoTowers release date : 2002-12-18\nassertThat(theTwoTowers.getReleaseDate()).assertIsAfterOrEqualTo(Instant.parse(&quot;2002-12-17T00:00:00.00Z&quot;))\n                                         .assertIsAfterOrEqualTo(Instant.parse(&quot;2002-12-18T00:00:00.00Z&quot;));\n// assertion fails\nassertThat(theTwoTowers.getReleaseDate()).assertIsAfterOrEqualTo(Instant.parse(&quot;2002-12-19T00:00:00.00Z&quot;));\n</code></pre>\n"}],"owner":{"account_id":189816,"reputation":33533,"user_id":429377,"accept_rate":91,"display_name":"Mahmoud Saleh"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":106531,"favorite_count":0,"down_vote_count":1,"up_vote_count":48,"accepted_answer_id":13936632,"answer_count":9,"score":47,"last_activity_date":1692267574,"creation_date":1355845718,"question_id":13936576,"body_markdown":"When comparing two dates with date `before` method, if the dates are similar, it returns false as follows:\r\n\r\n- **date1: Tue Dec 18 00:00:00 GMT+02:00 2012**\r\n- **date2: Tue Dec 18 00:00:00 GMT+02:00 2012**\r\n     \r\nthe method `date1.before(date2)` always returns `false` in this case, which does not make sense to me (doesn&#39;t apply to my case in other words).\r\nI want to check if a date (day/month/year) equals today&#39;s date (day/month/year)?","title":"Date before method returns false if both dates are equal","body":"<p>When comparing two dates with date <code>before</code> method, if the dates are similar, it returns false as follows:</p>\n<ul>\n<li><strong>date1: Tue Dec 18 00:00:00 GMT+02:00 2012</strong></li>\n<li><strong>date2: Tue Dec 18 00:00:00 GMT+02:00 2012</strong></li>\n</ul>\n<p>the method <code>date1.before(date2)</code> always returns <code>false</code> in this case, which does not make sense to me (doesn't apply to my case in other words).\nI want to check if a date (day/month/year) equals today's date (day/month/year)?</p>\n"},{"tags":["java","jsp","java-compiler-api","online-compilation"],"comments":[{"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"score":12,"creation_date":1460492468,"post_id":36583278,"comment_id":60765521,"body_markdown":"This is wrong on every level.  You should not be doing this.","body":"This is wrong on every level.  You should not be doing this."},{"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"score":1,"creation_date":1460492637,"post_id":36583278,"comment_id":60765622,"body_markdown":"Scriptlets are a bad idea, for one.  Are you trying to allow people to post source and compile it in your JSP?  Sorry, never used JSPs that way.  I don&#39;t use JSPs at all anymore - too 90s.","body":"Scriptlets are a bad idea, for one.  Are you trying to allow people to post source and compile it in your JSP?  Sorry, never used JSPs that way.  I don&#39;t use JSPs at all anymore - too 90s."},{"owner":{"account_id":923153,"reputation":5107,"user_id":954442,"accept_rate":83,"display_name":"Andrew Regan"},"score":0,"creation_date":1460500430,"post_id":36583278,"comment_id":60769385,"body_markdown":"This is really very strange. Could you step back a little and update your question with some background so we can see what you&#39;re trying to achieve?","body":"This is really very strange. Could you step back a little and update your question with some background so we can see what you&#39;re trying to achieve?"},{"owner":{"account_id":1082858,"reputation":104688,"user_id":1079354,"accept_rate":93,"display_name":"Makoto"},"score":0,"creation_date":1460501554,"post_id":36583278,"comment_id":60769822,"body_markdown":"Let&#39;s assume this has a noble purpose.  Are you trying to compile source code submitted through a form on your site?","body":"Let&#39;s assume this has a noble purpose.  Are you trying to compile source code submitted through a form on your site?"},{"owner":{"account_id":1082858,"reputation":104688,"user_id":1079354,"accept_rate":93,"display_name":"Makoto"},"score":1,"creation_date":1460501809,"post_id":36583278,"comment_id":60769927,"body_markdown":"First lesson learned:  do not direct the client to do any heavy lifting.","body":"First lesson learned:  do not direct the client to do any heavy lifting."},{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":5,"creation_date":1460675053,"post_id":36583278,"comment_id":60865990,"body_markdown":"I had an on-line compiler once. A person who was deep into maintaining the Java Compiler warned that there were short code samples that could tie up a compiler for 30 minutes or more. I removed it from public view. I think the view of @duffymo and others in comments is a good lead. ***Don&#39;t do this.***","body":"I had an on-line compiler once. A person who was deep into maintaining the Java Compiler warned that there were short code samples that could tie up a compiler for 30 minutes or more. I removed it from public view. I think the view of @duffymo and others in comments is a good lead. <b><i>Don&#39;t do this.</i></b>"},{"owner":{"account_id":6429569,"reputation":385,"user_id":4983331,"accept_rate":87,"display_name":"sony"},"score":0,"creation_date":1460675213,"post_id":36583278,"comment_id":60866037,"body_markdown":"@AndrewThompson Pls open  the link mention in the question and tell me how they did this","body":"@AndrewThompson Pls open  the link mention in the question and tell me how they did this"},{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":3,"creation_date":1460676176,"post_id":36583278,"comment_id":60866362,"body_markdown":"*&quot;Pls open the link mention in the question..&quot;* I&#39;m not following a link external to SO. BTW - just because someone has done something, does not necessarily make it a &#39;good idea&#39;.","body":"<i>&quot;Pls open the link mention in the question..&quot;</i> I&#39;m not following a link external to SO. BTW - just because someone has done something, does not necessarily make it a &#39;good idea&#39;."},{"owner":{"account_id":1426585,"reputation":2315,"user_id":1349927,"accept_rate":62,"display_name":"tak3shi"},"score":1,"creation_date":1460716629,"post_id":36583278,"comment_id":60883021,"body_markdown":"Whatever you do, there is no reason to use scriptlets. You can call an action in java and pass the entered javacode to the java backend and compile from the java backend. If you really want to use scriptlets, you are missing imports in your question.","body":"Whatever you do, there is no reason to use scriptlets. You can call an action in java and pass the entered javacode to the java backend and compile from the java backend. If you really want to use scriptlets, you are missing imports in your question."},{"owner":{"account_id":2458362,"reputation":27415,"user_id":2142994,"accept_rate":60,"display_name":"Ani Menon"},"score":0,"creation_date":1461264117,"post_id":36583278,"comment_id":61132245,"body_markdown":"JSP is client-side, why would you want to run a java file from there?","body":"JSP is client-side, why would you want to run a java file from there?"},{"owner":{"account_id":1426585,"reputation":2315,"user_id":1349927,"accept_rate":62,"display_name":"tak3shi"},"score":0,"creation_date":1461327479,"post_id":36583278,"comment_id":61161580,"body_markdown":"@AniMenon JSP compiles and executes on the server.","body":"@AniMenon JSP compiles and executes on the server."},{"owner":{"account_id":2458362,"reputation":27415,"user_id":2142994,"accept_rate":60,"display_name":"Ani Menon"},"score":0,"creation_date":1461328124,"post_id":36583278,"comment_id":61162034,"body_markdown":"@tak3shi it can, but try to keep the client lite.","body":"@tak3shi it can, but try to keep the client lite."},{"owner":{"account_id":1426585,"reputation":2315,"user_id":1349927,"accept_rate":62,"display_name":"tak3shi"},"score":0,"creation_date":1461331000,"post_id":36583278,"comment_id":61164140,"body_markdown":"@AniMenon There is no general rule to keep clients lite. Both architectures exists. Thin Client and Rich Client and they have their pros and cons. JSP is a server side technology and this discussion is out of the scope of this question!","body":"@AniMenon There is no general rule to keep clients lite. Both architectures exists. Thin Client and Rich Client and they have their pros and cons. JSP is a server side technology and this discussion is out of the scope of this question!"}],"answers":[{"tags":[],"owner":{"account_id":1426585,"reputation":2315,"user_id":1349927,"accept_rate":62,"display_name":"tak3shi"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1692267560,"creation_date":1460721334,"answer_id":36646482,"question_id":36583278,"body_markdown":" 1. Please do not use scriptlets, write Java code that you can call from your jsp.\r\n 2. Java requires a file name with the name of the class, this was probably your main problem.\r\n 3. What is the expected format of Java code the user can enter? Method, Class or only a script inside a method?\r\n 4. **With your level of Java knowledge**, please do not allow unknown users to enter code or **your server will get hacked very soon**!\r\n\r\nThe following code compiles the code in variable convert. It automatically detects the name of the class entered. If no class has been found, it creates a template with the classname MyClass.\r\n\r\n```java  \r\nString convert = &quot;public class NewClass {  public static void main(String[] args) {    System.out.println(\\&quot;test\\&quot;);  }}&quot;;\r\nString filename = &quot;MyClass.java&quot;;\r\n\r\nint i = convert.indexOf(&quot; class &quot;);\r\nif (i == -1) {\r\n  convert = &quot;public class MyClass { &quot; + convert + &quot; } &quot;;\r\n} else {\r\n  int classNameIndex = convert.indexOf(&quot; &quot;, i + 1);\r\n  int classNameIndexEnd = convert.indexOf(&quot; &quot;, classNameIndex + 1);\r\n  filename = convert.substring(classNameIndex + 1, classNameIndexEnd) + &quot;.java&quot;;\r\n}\r\n\r\nPrintWriter wr = response.getWriter();\r\nFile f = new File(filename);\r\nif (!f.exists()) {\r\n  f.createNewFile();\r\n  wr.println(&quot;File is created\\n&quot;);\r\n}\r\n\r\nFileWriter write = new FileWriter(f);\r\nBufferedWriter bf = new BufferedWriter(write);\r\nbf.write(convert);\r\nbf.close();\r\nwr.println(&quot;File writing done\\n&quot;);\r\n\r\nJavaCompiler compiler = ToolProvider.getSystemJavaCompiler();\r\nint result = compiler.run(null, null, null, filename);\r\nif (result == 0) {\r\n  wr.println(&quot;Compilation Successful&quot;);\r\n} else {\r\n  wr.println(&quot;Compilation Failed&quot;);\r\n}\r\n```","title":"How can compile I `.java file` in jsp?","body":"<ol>\n<li>Please do not use scriptlets, write Java code that you can call from your jsp.</li>\n<li>Java requires a file name with the name of the class, this was probably your main problem.</li>\n<li>What is the expected format of Java code the user can enter? Method, Class or only a script inside a method?</li>\n<li><strong>With your level of Java knowledge</strong>, please do not allow unknown users to enter code or <strong>your server will get hacked very soon</strong>!</li>\n</ol>\n<p>The following code compiles the code in variable convert. It automatically detects the name of the class entered. If no class has been found, it creates a template with the classname MyClass.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String convert = &quot;public class NewClass {  public static void main(String[] args) {    System.out.println(\\&quot;test\\&quot;);  }}&quot;;\nString filename = &quot;MyClass.java&quot;;\n\nint i = convert.indexOf(&quot; class &quot;);\nif (i == -1) {\n  convert = &quot;public class MyClass { &quot; + convert + &quot; } &quot;;\n} else {\n  int classNameIndex = convert.indexOf(&quot; &quot;, i + 1);\n  int classNameIndexEnd = convert.indexOf(&quot; &quot;, classNameIndex + 1);\n  filename = convert.substring(classNameIndex + 1, classNameIndexEnd) + &quot;.java&quot;;\n}\n\nPrintWriter wr = response.getWriter();\nFile f = new File(filename);\nif (!f.exists()) {\n  f.createNewFile();\n  wr.println(&quot;File is created\\n&quot;);\n}\n\nFileWriter write = new FileWriter(f);\nBufferedWriter bf = new BufferedWriter(write);\nbf.write(convert);\nbf.close();\nwr.println(&quot;File writing done\\n&quot;);\n\nJavaCompiler compiler = ToolProvider.getSystemJavaCompiler();\nint result = compiler.run(null, null, null, filename);\nif (result == 0) {\n  wr.println(&quot;Compilation Successful&quot;);\n} else {\n  wr.println(&quot;Compilation Failed&quot;);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4001931,"reputation":404,"user_id":3297753,"display_name":"Najeeb Arif"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1468665140,"creation_date":1461065359,"answer_id":36717087,"question_id":36583278,"body_markdown":"There are several ways of implementing this scenario but we must not include Java code in the JSPs rather use Expression Language (EL) for the same or we can even write custom jsp tags for our custom functionality. This link will explain a lot about this process.\r\n\r\nhttp://www.journaldev.com/2099/jsp-custom-tags-example-tutorial\r\n\r\nEven though if you like going through text books then Head First Servlet and JSP explains this whole concept in detail and elegantly. So for having proper functioning information this book is a must have book.\r\n\r\nHappy Learning..","title":"How can compile I `.java file` in jsp?","body":"<p>There are several ways of implementing this scenario but we must not include Java code in the JSPs rather use Expression Language (EL) for the same or we can even write custom jsp tags for our custom functionality. This link will explain a lot about this process.</p>\n\n<p><a href=\"http://www.journaldev.com/2099/jsp-custom-tags-example-tutorial\" rel=\"nofollow\">http://www.journaldev.com/2099/jsp-custom-tags-example-tutorial</a></p>\n\n<p>Even though if you like going through text books then Head First Servlet and JSP explains this whole concept in detail and elegantly. So for having proper functioning information this book is a must have book.</p>\n\n<p>Happy Learning..</p>\n"}],"owner":{"account_id":6429569,"reputation":385,"user_id":4983331,"accept_rate":87,"display_name":"sony"},"comment_count":13,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1183,"favorite_count":0,"down_vote_count":9,"up_vote_count":5,"answer_count":2,"score":-4,"last_activity_date":1692267560,"creation_date":1460492294,"question_id":36583278,"body_markdown":"Using `java compiler API` I want to compile a `java file` in `jsp`. I created a html file and using its `textArea` element I sent its text, which is expected to be code in java entered by user, to JSP on server and after collecting it in a string I made a file with `.java` extension and wrote it with `textArea` contents then i used compiler API but it is not compiling the file. I want to do something like [this][1]\r\n\r\n`index.html`\r\n\r\n      &lt;form action=&quot;formAction.jsp&quot; method=&quot;post&quot;&gt;\r\n            Please enter your text:\r\n            &lt;br/&gt;\r\n            &lt;textarea name=&quot;textarea1&quot; rows=&quot;5&quot;&gt;&lt;/textarea&gt;\r\n            &lt;br/&gt;\r\n            &lt;input type=&quot;SUBMIT&quot; value=&quot;Submit&quot;/&gt;\r\n        &lt;/form&gt;     \r\n\r\n\r\n \r\n`formAction.jsp`    \r\n\r\n     &lt;%\r\n            \r\n            String convert = request.getParameter(&quot;textarea1&quot;);\r\n            PrintWriter wr = response.getWriter();\r\n            File f =new File(&quot;file121.java&quot;);\r\n            if(!f.exists())\r\n            {\r\n                f.createNewFile();\r\n                wr.println(&quot;File is created\\n&quot;);\r\n                \r\n            }\r\n            FileWriter write = new FileWriter(f);\r\n            BufferedWriter bf = new BufferedWriter(write);\r\n            bf.write(convert);\r\n            bf.close();\r\n            wr.println(&quot;File writing done\\n&quot;);\r\n            \r\n            JavaCompiler compiler = ToolProvider.getSystemJavaCompiler();\r\n            int result = compiler.run(null,null,null,&quot;file121.java&quot;);\r\n            if(result==0){\r\n                wr.println(&quot;Compilation Successful&quot;);\r\n            }\r\n            else{\r\n                wr.println(&quot;Compilation Failed&quot;);\r\n            }\r\n            \r\n \r\n            \r\n            \r\n         %&gt;   \r\n\r\n\r\n  [1]: http://www.javatpoint.com/opr/test.jsp?filename=Simple","title":"How can compile I `.java file` in jsp?","body":"<p>Using <code>java compiler API</code> I want to compile a <code>java file</code> in <code>jsp</code>. I created a html file and using its <code>textArea</code> element I sent its text, which is expected to be code in java entered by user, to JSP on server and after collecting it in a string I made a file with <code>.java</code> extension and wrote it with <code>textArea</code> contents then i used compiler API but it is not compiling the file. I want to do something like <a href=\"http://www.javatpoint.com/opr/test.jsp?filename=Simple\" rel=\"nofollow\">this</a></p>\n\n<p><code>index.html</code></p>\n\n<pre><code>  &lt;form action=\"formAction.jsp\" method=\"post\"&gt;\n        Please enter your text:\n        &lt;br/&gt;\n        &lt;textarea name=\"textarea1\" rows=\"5\"&gt;&lt;/textarea&gt;\n        &lt;br/&gt;\n        &lt;input type=\"SUBMIT\" value=\"Submit\"/&gt;\n    &lt;/form&gt;     \n</code></pre>\n\n<p><code>formAction.jsp</code>    </p>\n\n<pre><code> &lt;%\n\n        String convert = request.getParameter(\"textarea1\");\n        PrintWriter wr = response.getWriter();\n        File f =new File(\"file121.java\");\n        if(!f.exists())\n        {\n            f.createNewFile();\n            wr.println(\"File is created\\n\");\n\n        }\n        FileWriter write = new FileWriter(f);\n        BufferedWriter bf = new BufferedWriter(write);\n        bf.write(convert);\n        bf.close();\n        wr.println(\"File writing done\\n\");\n\n        JavaCompiler compiler = ToolProvider.getSystemJavaCompiler();\n        int result = compiler.run(null,null,null,\"file121.java\");\n        if(result==0){\n            wr.println(\"Compilation Successful\");\n        }\n        else{\n            wr.println(\"Compilation Failed\");\n        }\n\n\n\n\n     %&gt;   \n</code></pre>\n"},{"tags":["java","aes-gcm"],"comments":[{"owner":{"account_id":3421244,"reputation":35863,"user_id":2868801,"display_name":"dave_thompson_085"},"score":0,"creation_date":1692211382,"post_id":76915463,"comment_id":135594231,"body_markdown":"It could be the code, the IV, the key, or the ciphertext. Without complete and precise requirements, or the code that did the encryption, no guidance can be given. However, having an IV represented as a Java `String`, unless that string is a binary-preserving encoding like base64 or hex, is bad design and probably wrong.","body":"It could be the code, the IV, the key, or the ciphertext. Without complete and precise requirements, or the code that did the encryption, no guidance can be given. However, having an IV represented as a Java <code>String</code>, unless that string is a binary-preserving encoding like base64 or hex, is bad design and probably wrong."}],"owner":{"account_id":28825887,"reputation":1,"user_id":22077302,"display_name":"Nani K"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692267538,"creation_date":1692203348,"question_id":76915463,"body_markdown":"We are trying to decrypt the data using AES GCM, But we getting below error\r\n\r\n`byte[] decData = c.doFinal(dataBytes);` --- getting issue in this place\r\n\r\n&gt;  javax.crypto/AEADBadTagException: Tag Mismatch!  at\r\n&gt; com.sun.crypto.provider.galoisCounterMode.decryptFinal(GaloisCounterMode.java:620)\r\n\r\n\r\nIs above issue is due to code or key or IV? Need help to resolve the same.\r\n\r\n\r\nGuide us to resolve the problem\r\n\r\n\r\nBelow is the code, for decryption.\r\n\r\n\r\n    public static String decrypt(String encData, String aesKey, String iv) {\r\n        byte[] dataBytes = Base64.decodeBase64(encData);\r\n        byte[] keyBytes = key.getBytes(&quot;UTF-8&quot;);\r\n        byte[] ivVal = iv.getBytes(&quot;UTF-8&quot;);\r\n        Cipher c = Cipher.getInstances(&quot;AES/GCM/NoPadding&quot;);\r\n        GCMParameterSpec spec = new GCMParameterSpec(128, ivVal);\r\n        c.init(Cipher.DECRYPT_MODE, new SecretKeySpec(keyBytes, AES), spec);\r\n        byte[] decData = c.doFinal(dataBytes);\r\n        return new String(decData, &quot;UTF-8&quot;);\r\n    }\r\n\r\n","title":"Getting javax.crypto/AEADBadTagException: Tag Mismatch! for AES GCM decryption","body":"<p>We are trying to decrypt the data using AES GCM, But we getting below error</p>\n<p><code>byte[] decData = c.doFinal(dataBytes);</code> --- getting issue in this place</p>\n<blockquote>\n<p>javax.crypto/AEADBadTagException: Tag Mismatch!  at\ncom.sun.crypto.provider.galoisCounterMode.decryptFinal(GaloisCounterMode.java:620)</p>\n</blockquote>\n<p>Is above issue is due to code or key or IV? Need help to resolve the same.</p>\n<p>Guide us to resolve the problem</p>\n<p>Below is the code, for decryption.</p>\n<pre><code>public static String decrypt(String encData, String aesKey, String iv) {\n    byte[] dataBytes = Base64.decodeBase64(encData);\n    byte[] keyBytes = key.getBytes(&quot;UTF-8&quot;);\n    byte[] ivVal = iv.getBytes(&quot;UTF-8&quot;);\n    Cipher c = Cipher.getInstances(&quot;AES/GCM/NoPadding&quot;);\n    GCMParameterSpec spec = new GCMParameterSpec(128, ivVal);\n    c.init(Cipher.DECRYPT_MODE, new SecretKeySpec(keyBytes, AES), spec);\n    byte[] decData = c.doFinal(dataBytes);\n    return new String(decData, &quot;UTF-8&quot;);\n}\n</code></pre>\n"},{"tags":["java","spring","subclass","completable-future"],"comments":[{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":0,"creation_date":1692254736,"post_id":76919043,"comment_id":135598982,"body_markdown":"So, does `supplyAsync()` return a `CustomCompletableFuture` or a `CompletableFuture`? Do you understand how casting actually works?","body":"So, does <code>supplyAsync()</code> return a <code>CustomCompletableFuture</code> or a <code>CompletableFuture</code>? Do you understand how casting actually works?"},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":2,"creation_date":1692255687,"post_id":76919043,"comment_id":135599109,"body_markdown":"Couple things: (1) You&#39;re breaking the contract of `get()` by unwrapping the cause of the `ExecutionException`. (2) The `supplyAsync` method is a static method defined by `CompletableFuture`. Just because you did `CustomCompletableFuture.supplyAsync(...)` does not change that. In other words, `supplyAsync` returns a &quot;pure&quot; `CompletableFuture`.","body":"Couple things: (1) You&#39;re breaking the contract of <code>get()</code> by unwrapping the cause of the <code>ExecutionException</code>. (2) The <code>supplyAsync</code> method is a static method defined by <code>CompletableFuture</code>. Just because you did <code>CustomCompletableFuture.supplyAsync(...)</code> does not change that. In other words, <code>supplyAsync</code> returns a &quot;pure&quot; <code>CompletableFuture</code>."},{"owner":{"account_id":16923225,"reputation":39,"user_id":12239510,"display_name":"Andree"},"score":0,"creation_date":1692255745,"post_id":76919043,"comment_id":135599119,"body_markdown":"Ok I get it, so can I make something to return a &quot;pure&quot; CompletableFuture but still use the get I just override? Since we want to use a couple of them wrapping every CompletableFuture in a try catch block can be a little bit clunky","body":"Ok I get it, so can I make something to return a &quot;pure&quot; CompletableFuture but still use the get I just override? Since we want to use a couple of them wrapping every CompletableFuture in a try catch block can be a little bit clunky"}],"answers":[{"tags":[],"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1692267162,"creation_date":1692260300,"answer_id":76919638,"question_id":76919043,"body_markdown":"The [`CompletableFuture#supplyAsync(Supplier)`][1] is a static method. When you do:\r\n\r\n&gt;```java\r\n&gt; CustomCompletableFuture.supplyAsync(...);\r\n&gt;```\r\n\r\nYou&#39;re still calling the method declared in `CompletableFuture`, meaning the method is not returning a `CustomCompletableFuture`. Note static methods cannot be overridden. Though if you were to define a static method with the same signature in the subclass, then it would &quot;hide&quot; the static method in the superclass. That is not likely something you want to do.\r\n\r\nThat said, I recommend you _do not_ subclass `CompletableFuture` this way. By unwrapping the cause of the `ExecutionException` and throwing it directly, you are breaking the contract of [`get`][2]. If you need this exception  handling in multiple places, I suggest creating a utility method.\r\n\r\n```java\r\npublic static &lt;T&gt; T getServiceResult(Future&lt;T&gt; future, Duration timeout) throws TimeoutException {\r\n    TimeUnit unit = TimeUnit.NANOSECONDS;\r\n    try {\r\n        return future.get(unit.convert(timeout), unit);\r\n    } catch (InterruptedException | ExecutionException ex) {\r\n        if (ex instanceof InterruptedException) {        \r\n            Thread.currentThread().interrupt();\r\n        }\r\n\r\n        // &quot;JEP 394: Pattern Matching for instanceof&quot; added in Java 16\r\n        if (ex.getCause() instanceof ServiceSystemException sse) {\r\n            throw sse;\r\n        } else if (ex.getCause() instanceof ServiceBusinessException sbe) {\r\n            throw sbe;\r\n        }\r\n\r\n        throw ExceptionBuilder.buildServiceSystemException(\r\n                EXTERNAL_SERVICE_EXCEPTION,\r\n                ServiceExceptionCodeMap.getErrorDescription(EXTERNAL_SERVICE_EXCEPTION),\r\n                ServiceExceptionCodeMap.getErrorMessageFormat(EXTERNAL_SERVICE_EXCEPTION));\r\n    }\r\n}\r\n```\r\n\r\nThen you can call this like so:\r\n\r\n```java\r\nCompletableFuture&lt;List&lt;Student&gt;&gt; future = getStudentsByProperty(propertyId, propertyCode);\r\n\r\nlong timeoutMillis = futuresExecutorConfigurationProperties.getRatePlanSeasonTimeout();\r\nList&lt;Student&gt; students = getServiceResult(future, Duration.ofMillis(timeoutMillis));\r\n```\r\n\r\nWhere `getStudentsByProperty` returns a standard `CompletableFuture`.\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/concurrent/CompletableFuture.html#supplyAsync(java.util.function.Supplier)\r\n  [2]: https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/concurrent/CompletableFuture.html#get(long,java.util.concurrent.TimeUnit)","title":"CompletableFuture cannot be cast to CustomCompletableFuture","body":"<p>The <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/concurrent/CompletableFuture.html#supplyAsync(java.util.function.Supplier)\" rel=\"nofollow noreferrer\"><code>CompletableFuture#supplyAsync(Supplier)</code></a> is a static method. When you do:</p>\n<blockquote>\n<pre class=\"lang-java prettyprint-override\"><code>CustomCompletableFuture.supplyAsync(...);\n</code></pre>\n</blockquote>\n<p>You're still calling the method declared in <code>CompletableFuture</code>, meaning the method is not returning a <code>CustomCompletableFuture</code>. Note static methods cannot be overridden. Though if you were to define a static method with the same signature in the subclass, then it would &quot;hide&quot; the static method in the superclass. That is not likely something you want to do.</p>\n<p>That said, I recommend you <em>do not</em> subclass <code>CompletableFuture</code> this way. By unwrapping the cause of the <code>ExecutionException</code> and throwing it directly, you are breaking the contract of <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/concurrent/CompletableFuture.html#get(long,java.util.concurrent.TimeUnit)\" rel=\"nofollow noreferrer\"><code>get</code></a>. If you need this exception  handling in multiple places, I suggest creating a utility method.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static &lt;T&gt; T getServiceResult(Future&lt;T&gt; future, Duration timeout) throws TimeoutException {\n    TimeUnit unit = TimeUnit.NANOSECONDS;\n    try {\n        return future.get(unit.convert(timeout), unit);\n    } catch (InterruptedException | ExecutionException ex) {\n        if (ex instanceof InterruptedException) {        \n            Thread.currentThread().interrupt();\n        }\n\n        // &quot;JEP 394: Pattern Matching for instanceof&quot; added in Java 16\n        if (ex.getCause() instanceof ServiceSystemException sse) {\n            throw sse;\n        } else if (ex.getCause() instanceof ServiceBusinessException sbe) {\n            throw sbe;\n        }\n\n        throw ExceptionBuilder.buildServiceSystemException(\n                EXTERNAL_SERVICE_EXCEPTION,\n                ServiceExceptionCodeMap.getErrorDescription(EXTERNAL_SERVICE_EXCEPTION),\n                ServiceExceptionCodeMap.getErrorMessageFormat(EXTERNAL_SERVICE_EXCEPTION));\n    }\n}\n</code></pre>\n<p>Then you can call this like so:</p>\n<pre class=\"lang-java prettyprint-override\"><code>CompletableFuture&lt;List&lt;Student&gt;&gt; future = getStudentsByProperty(propertyId, propertyCode);\n\nlong timeoutMillis = futuresExecutorConfigurationProperties.getRatePlanSeasonTimeout();\nList&lt;Student&gt; students = getServiceResult(future, Duration.ofMillis(timeoutMillis));\n</code></pre>\n<p>Where <code>getStudentsByProperty</code> returns a standard <code>CompletableFuture</code>.</p>\n"}],"owner":{"account_id":16923225,"reputation":39,"user_id":12239510,"display_name":"Andree"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":66,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1692267162,"creation_date":1692254526,"question_id":76919043,"body_markdown":"So I&#39;m trying to create a CustomCompletableFuture and override the get, I don&#39;t have to handle all the exceptions every time I use it, my code looks like this:\r\n\r\nThe custom completable is like this: \r\n\r\n    public class CustomCompletableFuture&lt;T&gt; extends CompletableFuture&lt;T&gt; {\r\n    \r\n        @Override\r\n        public T get(long timeOut, TimeUnit unit) {\r\n            try {\r\n                return super.get();\r\n            } catch (InterruptedException | ExecutionException e) {\r\n                if (e instanceof InterruptedException) {\r\n                    Thread.currentThread().interrupt();\r\n                }\r\n                if (e.getCause() instanceof ServiceSystemException) {\r\n                    throw (ServiceSystemException) e.getCause();\r\n                } else if (e.getCause() instanceof ServiceBusinessException) {\r\n                    throw (ServiceBusinessException) e.getCause();\r\n                }\r\n                throw ExceptionBuilder.buildServiceSystemException(EXTERNAL_SERVICE_EXCEPTION,\r\n                        ServiceExceptionCodeMap.getErrorDescription(EXTERNAL_SERVICE_EXCEPTION),\r\n                        ServiceExceptionCodeMap.getErrorMessageFormat(EXTERNAL_SERVICE_EXCEPTION));\r\n            }\r\n        }\r\n    }\r\nAnd here is the usage:\r\n\r\n    CustomCompletableFuture&lt;List&lt;Student&gt;&gt; future1Student = getStudentsByProperty(propertyId, propertyCode);\r\n    List&lt;Student&gt; students = future1Student.get(futuresExecutorConfigurationProperties.getRatePlanSeasonTimeout(), TimeUnit.MILLISECONDS);\r\n    \r\n    private CustomCompletableFuture&lt;List&lt;Student&gt;&gt; getStudentsByProperty(String propertyId, String propertyCode) {\r\n            Map&lt;String, String&gt; parentMDCContext = MDC.getCopyOfContextMap();\r\n                return (CustomCompletableFuture&lt;List&lt;Student&gt;&gt;) CustomCompletableFuture.supplyAsync(() -&gt; {\r\n                    try {\r\n                        MDC.setContextMap(parentMDCContext);\r\n                        return internalService.internalCall();\r\n                    } finally {\r\n                        MDC.clear();\r\n                    }\r\n                }, getSeasonExecutor);\r\n            }\r\n\r\n","title":"CompletableFuture cannot be cast to CustomCompletableFuture","body":"<p>So I'm trying to create a CustomCompletableFuture and override the get, I don't have to handle all the exceptions every time I use it, my code looks like this:</p>\n<p>The custom completable is like this:</p>\n<pre><code>public class CustomCompletableFuture&lt;T&gt; extends CompletableFuture&lt;T&gt; {\n\n    @Override\n    public T get(long timeOut, TimeUnit unit) {\n        try {\n            return super.get();\n        } catch (InterruptedException | ExecutionException e) {\n            if (e instanceof InterruptedException) {\n                Thread.currentThread().interrupt();\n            }\n            if (e.getCause() instanceof ServiceSystemException) {\n                throw (ServiceSystemException) e.getCause();\n            } else if (e.getCause() instanceof ServiceBusinessException) {\n                throw (ServiceBusinessException) e.getCause();\n            }\n            throw ExceptionBuilder.buildServiceSystemException(EXTERNAL_SERVICE_EXCEPTION,\n                    ServiceExceptionCodeMap.getErrorDescription(EXTERNAL_SERVICE_EXCEPTION),\n                    ServiceExceptionCodeMap.getErrorMessageFormat(EXTERNAL_SERVICE_EXCEPTION));\n        }\n    }\n}\n</code></pre>\n<p>And here is the usage:</p>\n<pre><code>CustomCompletableFuture&lt;List&lt;Student&gt;&gt; future1Student = getStudentsByProperty(propertyId, propertyCode);\nList&lt;Student&gt; students = future1Student.get(futuresExecutorConfigurationProperties.getRatePlanSeasonTimeout(), TimeUnit.MILLISECONDS);\n\nprivate CustomCompletableFuture&lt;List&lt;Student&gt;&gt; getStudentsByProperty(String propertyId, String propertyCode) {\n        Map&lt;String, String&gt; parentMDCContext = MDC.getCopyOfContextMap();\n            return (CustomCompletableFuture&lt;List&lt;Student&gt;&gt;) CustomCompletableFuture.supplyAsync(() -&gt; {\n                try {\n                    MDC.setContextMap(parentMDCContext);\n                    return internalService.internalCall();\n                } finally {\n                    MDC.clear();\n                }\n            }, getSeasonExecutor);\n        }\n</code></pre>\n"},{"tags":["java","spring-boot","ssl","tomcat"],"comments":[{"owner":{"account_id":5433910,"reputation":10649,"user_id":4323935,"accept_rate":69,"display_name":"dpr"},"score":1,"creation_date":1641286092,"post_id":70576089,"comment_id":124759421,"body_markdown":"Hello and welcome to StackOverflow. Please take some time to read the help page, especially the sections named [&quot;What topics can I ask about here?&quot;](http://stackoverflow.com/help/on-topic) and [&quot;What types of questions should I avoid asking?&quot;](http://stackoverflow.com/help/dont-ask). And more importantly, please read [the Stack Overflow question checklist](http://meta.stackexchange.com/q/156810/204922). You might also want to learn about [Minimal, Complete, and Verifiable Examples](http://stackoverflow.com/help/mcve).","body":"Hello and welcome to StackOverflow. Please take some time to read the help page, especially the sections named <a href=\"http://stackoverflow.com/help/on-topic\">&quot;What topics can I ask about here?&quot;</a> and <a href=\"http://stackoverflow.com/help/dont-ask\">&quot;What types of questions should I avoid asking?&quot;</a>. And more importantly, please read <a href=\"http://meta.stackexchange.com/q/156810/204922\">the Stack Overflow question checklist</a>. You might also want to learn about <a href=\"http://stackoverflow.com/help/mcve\">Minimal, Complete, and Verifiable Examples</a>."},{"owner":{"account_id":593875,"reputation":20383,"user_id":276232,"accept_rate":50,"display_name":"Christopher Schultz"},"score":0,"creation_date":1641328381,"post_id":70576089,"comment_id":124775904,"body_markdown":"Your keystore is either corrupt or uses an algorithm that Java does not support. Please post the steps you used to generate the keystore, your Java version(s), and the output of `keytool -list -v laitadmin.p12`.","body":"Your keystore is either corrupt or uses an algorithm that Java does not support. Please post the steps you used to generate the keystore, your Java version(s), and the output of <code>keytool -list -v laitadmin.p12</code>."},{"owner":{"account_id":3421244,"reputation":35863,"user_id":2868801,"display_name":"dave_thompson_085"},"score":1,"creation_date":1642965902,"post_id":70576089,"comment_id":125208639,"body_markdown":"Dupe: see multiple links at https://stackoverflow.com/questions/70244066/keytool-error-java-io-ioexception-parsealgparameters-failed-objectidentifier","body":"Dupe: see multiple links at <a href=\"https://stackoverflow.com/questions/70244066/keytool-error-java-io-ioexception-parsealgparameters-failed-objectidentifier\" title=\"keytool error java io ioexception parsealgparameters failed objectidentifier\">stackoverflow.com/questions/70244066/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":20336708,"reputation":112,"user_id":14917215,"display_name":"Vignesh Varadharajan"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1692267004,"creation_date":1642956502,"answer_id":70824341,"question_id":70576089,"body_markdown":"AES encryption in pkcs12 is not supported in java up to java 11. This is a known issue. \r\nReference - https://bugs.openjdk.java.net/browse/JDK-8220734 ","title":"Caused by: java.io.IOException: ObjectIdentifier() -- data isn&#39;t an object ID (tag = 48)","body":"<p>AES encryption in pkcs12 is not supported in java up to java 11. This is a known issue.\nReference - <a href=\"https://bugs.openjdk.java.net/browse/JDK-8220734\" rel=\"nofollow noreferrer\">https://bugs.openjdk.java.net/browse/JDK-8220734</a></p>\n"},{"tags":[],"owner":{"account_id":5176790,"reputation":118,"user_id":4143637,"display_name":"Karpinski"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648146149,"creation_date":1648146149,"answer_id":71607619,"question_id":70576089,"body_markdown":"I had the same problem, I solved it by exporting again by MS Edge, but now using the `TripleDES-SHA1` Cryptography option on Windows export certified wizard.","title":"Caused by: java.io.IOException: ObjectIdentifier() -- data isn&#39;t an object ID (tag = 48)","body":"<p>I had the same problem, I solved it by exporting again by MS Edge, but now using the <code>TripleDES-SHA1</code> Cryptography option on Windows export certified wizard.</p>\n"},{"tags":[],"owner":{"account_id":4820536,"reputation":5096,"user_id":3891342,"accept_rate":71,"display_name":"Daniel Shin"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1682520288,"creation_date":1682520288,"answer_id":76112126,"question_id":70576089,"body_markdown":"This is due to `openssl3` `PKCS12` using `PBES2 cipher` which is unsupported in java 8 (at least under 8u301).\r\n\r\nSimply install `openssl1.1` and use that instead to generate p12 file.\r\n\r\n\r\nFor example in macos,\r\n- `brew install openssl@1.1`\r\n- `/opt/homebrew/Cellar/openssl@1.1/1.1.1t/bin/openssl pkcs12 -inkey cert.pkey -in cert.pem -export -out cert.p12`","title":"Caused by: java.io.IOException: ObjectIdentifier() -- data isn&#39;t an object ID (tag = 48)","body":"<p>This is due to <code>openssl3</code> <code>PKCS12</code> using <code>PBES2 cipher</code> which is unsupported in java 8 (at least under 8u301).</p>\n<p>Simply install <code>openssl1.1</code> and use that instead to generate p12 file.</p>\n<p>For example in macos,</p>\n<ul>\n<li><code>brew install openssl@1.1</code></li>\n<li><code>/opt/homebrew/Cellar/openssl@1.1/1.1.1t/bin/openssl pkcs12 -inkey cert.pkey -in cert.pem -export -out cert.p12</code></li>\n</ul>\n"}],"owner":{"account_id":23821908,"reputation":31,"user_id":17829477,"display_name":"Houissahedi"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12395,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":3,"score":3,"last_activity_date":1692267004,"creation_date":1641285676,"question_id":70576089,"body_markdown":"[![enter image description here][1]][1]\r\n\r\n   &#39; server.ssl.key-store = src/main/resources/laitadmin.p12 server.ssl.key-alias= 1 server.ssl.keyStoreType= PKCS12&#39;\r\n\r\n    &#39;\tat sun.security.util.ObjectIdentifier.&lt;init&gt;(ObjectIdentifier.java:257) ~[na:1.8.0_251]&#39;\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/hOY5z.png","title":"Caused by: java.io.IOException: ObjectIdentifier() -- data isn&#39;t an object ID (tag = 48)","body":"<p><a href=\"https://i.stack.imgur.com/hOY5z.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/hOY5z.png\" alt=\"enter image description here\" /></a></p>\n<p>' server.ssl.key-store = src/main/resources/laitadmin.p12 server.ssl.key-alias= 1 server.ssl.keyStoreType= PKCS12'</p>\n<pre><code>'   at sun.security.util.ObjectIdentifier.&lt;init&gt;(ObjectIdentifier.java:257) ~[na:1.8.0_251]'\n</code></pre>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1692254098,"post_id":76918603,"comment_id":135598873,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."},{"owner":{"account_id":29241435,"reputation":1,"user_id":22402867,"display_name":"Prashant Singh"},"score":0,"creation_date":1692254764,"post_id":76918603,"comment_id":135598989,"body_markdown":"I am trying to get text typed in YouTube search bar using the accessibility service android","body":"I am trying to get text typed in YouTube search bar using the accessibility service android"}],"answers":[{"tags":[],"owner":{"account_id":29212915,"reputation":29,"user_id":22380473,"display_name":"Johannes Schidlowski"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692266989,"creation_date":1692266989,"answer_id":76920523,"question_id":76918603,"body_markdown":"You can&#39;t intercept the native Youtube App, if you intended to do that. Instead, provide your own search box to your App and make the search request via API. Then you have full control over it.","title":"Capture text from YouTube search box in android","body":"<p>You can't intercept the native Youtube App, if you intended to do that. Instead, provide your own search box to your App and make the search request via API. Then you have full control over it.</p>\n"}],"owner":{"account_id":29241435,"reputation":1,"user_id":22402867,"display_name":"Prashant Singh"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1692266989,"creation_date":1692248714,"question_id":76918603,"body_markdown":"How to capture text from YouTube search bar in android using accessibility service or any other technique so that i can identify what type of keyword is being searched on youtube\r\n\r\nI have tried it doing using accessibility services but not able to do it. Any other method would be appreciated","title":"Capture text from YouTube search box in android","body":"<p>How to capture text from YouTube search bar in android using accessibility service or any other technique so that i can identify what type of keyword is being searched on youtube</p>\n<p>I have tried it doing using accessibility services but not able to do it. Any other method would be appreciated</p>\n"},{"tags":["java","maven"],"comments":[{"owner":{"account_id":11692660,"reputation":295,"user_id":8560396,"display_name":"Balint"},"score":0,"creation_date":1569872925,"post_id":58173663,"comment_id":102729524,"body_markdown":"Does Maven output any error?","body":"Does Maven output any error?"},{"owner":{"account_id":1016892,"reputation":28599,"user_id":1028270,"accept_rate":90,"display_name":"red888"},"score":0,"creation_date":1569873747,"post_id":58173663,"comment_id":102729879,"body_markdown":"nope it does not","body":"nope it does not"}],"answers":[{"tags":[],"owner":{"account_id":11692660,"reputation":295,"user_id":8560396,"display_name":"Balint"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1569878622,"creation_date":1569878622,"answer_id":58175464,"question_id":58173663,"body_markdown":"Ok I think I may have the answer copy-dependencies seems to not have destFileName \r\n\r\n[copy-dependencies][1]\r\n\r\nbut the goal copy has it \r\n\r\n [copy][2]\r\n\r\nI had a similar problem of your you could try to use the `&lt;stripVersion&gt;` options in the copy-dependencies \r\n\r\nHope it helps\r\n\r\n\r\n  [1]: http://maven.apache.org/plugins/maven-dependency-plugin/copy-dependencies-mojo.html\r\n  [2]: http://maven.apache.org/plugins/maven-dependency-plugin/usage.html","title":"destFileName is ignored by mvn install dependency:copy-dependencies","body":"<p>Ok I think I may have the answer copy-dependencies seems to not have destFileName </p>\n\n<p><a href=\"http://maven.apache.org/plugins/maven-dependency-plugin/copy-dependencies-mojo.html\" rel=\"nofollow noreferrer\">copy-dependencies</a></p>\n\n<p>but the goal copy has it </p>\n\n<p><a href=\"http://maven.apache.org/plugins/maven-dependency-plugin/usage.html\" rel=\"nofollow noreferrer\">copy</a></p>\n\n<p>I had a similar problem of your you could try to use the <code>&lt;stripVersion&gt;</code> options in the copy-dependencies </p>\n\n<p>Hope it helps</p>\n"}],"owner":{"account_id":1016892,"reputation":28599,"user_id":1028270,"accept_rate":90,"display_name":"red888"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":597,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":58175464,"answer_count":1,"score":0,"last_activity_date":1692266923,"creation_date":1569869529,"question_id":58173663,"body_markdown":"I&#39;m trying to change the local folder and name of a jar when copying down dependencies with this command `mvn install dependency:copy-dependencies`\r\n\r\ndestFileName seems to be ignored by maven. Although outputDirectory does correctly put it in that directory the jar name is not changed- it is the same name as it is in the repo. I want to completely change the name of the jar when it is copied down\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    \r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n      xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n      &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \r\n      &lt;!-- required by not used --&gt;\r\n      &lt;groupId&gt;aaaa&lt;/groupId&gt;\r\n      &lt;artifactId&gt;aaaaa&lt;/artifactId&gt;\r\n      &lt;version&gt;5&lt;/version&gt;\r\n    \r\n      &lt;repositories&gt;\r\n        &lt;repository&gt;\r\n          &lt;id&gt;my-repo&lt;/id&gt;\r\n          &lt;name&gt;repo&lt;/name&gt;\r\n          &lt;url&gt;https://my-repo&lt;/url&gt;\r\n        &lt;/repository&gt;\r\n      &lt;/repositories&gt;\r\n    \r\n      &lt;!-- require uber-jar --&gt;\r\n      &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;com.mycompany.app&lt;/groupId&gt;\r\n          &lt;artifactId&gt;my-app&lt;/artifactId&gt;\r\n          &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n          &lt;classifier&gt;uber-jar&lt;/classifier&gt;\r\n        &lt;/dependency&gt;\r\n      &lt;/dependencies&gt;\r\n    \r\n      &lt;build&gt;\r\n        &lt;plugins&gt;\r\n          &lt;plugin&gt;\r\n            &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\r\n            &lt;executions&gt;\r\n              &lt;execution&gt;\r\n                &lt;phase&gt;process-sources&lt;/phase&gt;\r\n                &lt;goals&gt;\r\n                  &lt;goal&gt;copy-dependencies&lt;/goal&gt;\r\n                &lt;/goals&gt;\r\n              &lt;/execution&gt;\r\n            &lt;/executions&gt;\r\n            &lt;configuration&gt;\r\n              &lt;outputDirectory&gt;Jars&lt;/outputDirectory&gt;\r\n              &lt;artifactItems&gt;\r\n                &lt;artifactItem&gt;\r\n                  &lt;groupId&gt;com.mycompany.app&lt;/groupId&gt;\r\n                  &lt;artifactId&gt;my-app&lt;/artifactId&gt;\r\n                  &lt;classifier&gt;uber-jar&lt;/classifier&gt;\r\n                  &lt;overWrite&gt;true&lt;/overWrite&gt;\r\n    \r\n    \r\n                  &lt;!-- THIS IS IGNORED --&gt;\r\n                  &lt;destFileName&gt;zzzzzz.jar&lt;/destFileName&gt;\r\n    \r\n    \r\n                &lt;/artifactItem&gt;\r\n              &lt;/artifactItems&gt;\r\n              &lt;overWriteReleases&gt;true&lt;/overWriteReleases&gt;\r\n              &lt;overWriteSnapshots&gt;true&lt;/overWriteSnapshots&gt;\r\n            &lt;/configuration&gt;\r\n          &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n      &lt;/build&gt;\r\n    &lt;/project&gt;\r\n","title":"destFileName is ignored by mvn install dependency:copy-dependencies","body":"<p>I'm trying to change the local folder and name of a jar when copying down dependencies with this command <code>mvn install dependency:copy-dependencies</code></p>\n<p>destFileName seems to be ignored by maven. Although outputDirectory does correctly put it in that directory the jar name is not changed- it is the same name as it is in the repo. I want to completely change the name of the jar when it is copied down</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n  xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n  &lt;!-- required by not used --&gt;\n  &lt;groupId&gt;aaaa&lt;/groupId&gt;\n  &lt;artifactId&gt;aaaaa&lt;/artifactId&gt;\n  &lt;version&gt;5&lt;/version&gt;\n\n  &lt;repositories&gt;\n    &lt;repository&gt;\n      &lt;id&gt;my-repo&lt;/id&gt;\n      &lt;name&gt;repo&lt;/name&gt;\n      &lt;url&gt;https://my-repo&lt;/url&gt;\n    &lt;/repository&gt;\n  &lt;/repositories&gt;\n\n  &lt;!-- require uber-jar --&gt;\n  &lt;dependencies&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;com.mycompany.app&lt;/groupId&gt;\n      &lt;artifactId&gt;my-app&lt;/artifactId&gt;\n      &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n      &lt;classifier&gt;uber-jar&lt;/classifier&gt;\n    &lt;/dependency&gt;\n  &lt;/dependencies&gt;\n\n  &lt;build&gt;\n    &lt;plugins&gt;\n      &lt;plugin&gt;\n        &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\n        &lt;executions&gt;\n          &lt;execution&gt;\n            &lt;phase&gt;process-sources&lt;/phase&gt;\n            &lt;goals&gt;\n              &lt;goal&gt;copy-dependencies&lt;/goal&gt;\n            &lt;/goals&gt;\n          &lt;/execution&gt;\n        &lt;/executions&gt;\n        &lt;configuration&gt;\n          &lt;outputDirectory&gt;Jars&lt;/outputDirectory&gt;\n          &lt;artifactItems&gt;\n            &lt;artifactItem&gt;\n              &lt;groupId&gt;com.mycompany.app&lt;/groupId&gt;\n              &lt;artifactId&gt;my-app&lt;/artifactId&gt;\n              &lt;classifier&gt;uber-jar&lt;/classifier&gt;\n              &lt;overWrite&gt;true&lt;/overWrite&gt;\n\n\n              &lt;!-- THIS IS IGNORED --&gt;\n              &lt;destFileName&gt;zzzzzz.jar&lt;/destFileName&gt;\n\n\n            &lt;/artifactItem&gt;\n          &lt;/artifactItems&gt;\n          &lt;overWriteReleases&gt;true&lt;/overWriteReleases&gt;\n          &lt;overWriteSnapshots&gt;true&lt;/overWriteSnapshots&gt;\n        &lt;/configuration&gt;\n      &lt;/plugin&gt;\n    &lt;/plugins&gt;\n  &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n"},{"tags":["java","spring","templates","jdbc"],"comments":[{"owner":{"account_id":3876320,"reputation":6024,"user_id":3210257,"display_name":"PatJ"},"score":0,"creation_date":1424687510,"post_id":28671579,"comment_id":45636953,"body_markdown":"What error is thrown? What&#39;s the expected behavior? Could you try to show us a minimal example?","body":"What error is thrown? What&#39;s the expected behavior? Could you try to show us a minimal example?"},{"owner":{"account_id":5757491,"reputation":11,"user_id":4544889,"display_name":"Sudhakar J"},"score":0,"creation_date":1424687849,"post_id":28671579,"comment_id":45637129,"body_markdown":"org.springframework.dao.EmptyResultDataAccessException: Incorrect result size: expected 1, actual 0 this following error it&#39;s throwing","body":"org.springframework.dao.EmptyResultDataAccessException: Incorrect result size: expected 1, actual 0 this following error it&#39;s throwing"}],"answers":[{"tags":[],"owner":{"account_id":3767452,"reputation":1444,"user_id":3130593,"display_name":"Shaggy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1424715702,"creation_date":1424714750,"answer_id":28680338,"question_id":28671579,"body_markdown":"It looks like it is probably coming from `jdbcTemplate.queryForInt(...);`. An [EmptyResultDataAccessException][1] is thrown when a result was expected to have at least one row (or element) but zero rows (or elements) were actually returned.  Check to make sure the `projId` actually exists in the database.\r\n\r\n\r\n  [1]: http://docs.spring.io/spring/docs/2.0.x/api/org/springframework/dao/EmptyResultDataAccessException.html","title":"org.springframework.dao.EmptyResultDataAccessException: Incorrect result size: expected 1, actual 0","body":"<p>It looks like it is probably coming from <code>jdbcTemplate.queryForInt(...);</code>. An <a href=\"http://docs.spring.io/spring/docs/2.0.x/api/org/springframework/dao/EmptyResultDataAccessException.html\" rel=\"nofollow\">EmptyResultDataAccessException</a> is thrown when a result was expected to have at least one row (or element) but zero rows (or elements) were actually returned.  Check to make sure the <code>projId</code> actually exists in the database.</p>\n"}],"owner":{"account_id":5757491,"reputation":11,"user_id":4544889,"display_name":"Sudhakar J"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21675,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1692266580,"creation_date":1424687207,"question_id":28671579,"body_markdown":"i&#39;m this following error when i submit for copying data here is the code..\r\n\r\n\tpublic String deleteExistingRecordWeekWise(String monthOrWeek) throws ApplicationException {\r\n\t\t\r\n\t\ttry {\r\n\t\t\t\r\n\t        setMonthAndArea();\r\n\t        \r\n\t\t\tString[] stringValues = selectedMonthAndYear.split(&quot;-&quot;);\r\n\t\t\tint year=Integer.parseInt(stringValues[0]);\r\n\t\t\tint month=Integer.parseInt(stringValues[1]);\r\n\t\t\t\r\n\t\t\tString timePrd = null;\r\n\t\t\tString wk = null;\r\n\t\t\t\r\n\t\t\t\r\n\t\t\tif(null==timePeriod || timePeriod.isEmpty()){\r\n\t\t\t\ttimePeriod= new ArrayList &lt;String&gt;();\r\n\t\t\t\ttimePeriod.add(&quot;2&quot;);\r\n\t\t\t}\r\n\t\t\tif(null==weekWise || weekWise.isEmpty()){\r\n\t\t\t\tweekWise= new ArrayList &lt;String&gt;();\r\n\t\t\t\tweekWise.add(&quot;1&quot;);\r\n\t\t\t}\r\n\t\t\tif(Integer.parseInt(timePeriod.get(0))==2){\r\n\t\t\t\ttimePrd=&quot;W&quot;;\r\n\t\t\t\tif(null==weekWiseSelection){\r\n\t\t\t\t\tif(Integer.parseInt(weekWise.get(0))==1){\r\n\t\t\t\t\t\twk=&quot;W1&quot;;\r\n\t\t\t\t\t}else if(Integer.parseInt(weekWise.get(0))==2){\r\n\t\t\t\t\t\twk=&quot;W2&quot;;\r\n\t\t\t\t\t}else {\r\n\t\t\t\t\t\twk=&quot;W3&quot;;\r\n\t\t\t\t\t}\r\n\t\t\t\t}else{\r\n\t\t\t\t\twk=weekWiseSelection;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tReportsBO.deleteProjectStatusWeekWise(wk,month,year,selectedArea);\r\n\t\t\t\r\n\t\t} catch (ApplicationException ex) {\r\n\t\t\taddActionError(ex.getMessage());\r\n\t\t\tfetchFields();\r\n\t\t\treturn ERROR;\r\n\t\t}\r\n\r\n\t\tif(null!=weekWiseSelection || !weekWiseSelection.equalsIgnoreCase(&quot;month&quot;)){\r\n\t\t\taddActionMessage(&quot;Existing records are deleted and copied data from previous month.&quot;);\r\n\t\t}else{\r\n\t\t\taddActionMessage(&quot;Existing records are deleted and copied data from previous bi weekly.&quot;);\r\n\t\t}\r\n\t\treturn SUCCESS;\r\n\r\nand DAO class..\r\n\r\npublic void deleteProjectStatusWeekWise(String week,int month,int year,String area) throws ApplicationException {\r\n\t\tint areaId=Integer.parseInt(area);\r\n\t\t\r\n\t\tJdbcTemplate jdbcTemplate = new JdbcTemplate(dataSource);\r\n\t\t\r\n\t\ttry {\r\n\t\t\tint projId = jdbcTemplate.queryForInt(ProjectStatus.FETCH_PROJECT_STATUS_WEEKWISE,new Object[] {week,month,year,areaId});\r\n\t\t\tjdbcTemplate.update(ProjectStatus.DELETE_PROJECT_DET_STATUS_MONTH,new Object[] {projId});\r\n\t\t\tjdbcTemplate.update(ProjectStatus.DELETE_PROJECT_STATUS_WEEKWISE,new Object[] {week,month,year,areaId});\r\n\t\t} catch (Exception e) {\r\n\t\t\tLOG.error(&quot;Exception occurred in dashboard.performance.gmu.dao.ProjectStatusDAO.fetchProjectStatusTypeList(int)&quot;,e);\r\n\t\t\tthrow new ApplicationException(&quot;Failed to fetch project type list. Please contact System Administrator.&quot;);\r\n\t\t}\r\n\t\t\r\n}\r\n\r\nthis error is coming can anyone help on this to resolve the issue.\r\n\r\n\r\n\t}","title":"org.springframework.dao.EmptyResultDataAccessException: Incorrect result size: expected 1, actual 0","body":"<p>i'm this following error when i submit for copying data here is the code..</p>\n\n<pre><code>public String deleteExistingRecordWeekWise(String monthOrWeek) throws ApplicationException {\n\n    try {\n\n        setMonthAndArea();\n\n        String[] stringValues = selectedMonthAndYear.split(\"-\");\n        int year=Integer.parseInt(stringValues[0]);\n        int month=Integer.parseInt(stringValues[1]);\n\n        String timePrd = null;\n        String wk = null;\n\n\n        if(null==timePeriod || timePeriod.isEmpty()){\n            timePeriod= new ArrayList &lt;String&gt;();\n            timePeriod.add(\"2\");\n        }\n        if(null==weekWise || weekWise.isEmpty()){\n            weekWise= new ArrayList &lt;String&gt;();\n            weekWise.add(\"1\");\n        }\n        if(Integer.parseInt(timePeriod.get(0))==2){\n            timePrd=\"W\";\n            if(null==weekWiseSelection){\n                if(Integer.parseInt(weekWise.get(0))==1){\n                    wk=\"W1\";\n                }else if(Integer.parseInt(weekWise.get(0))==2){\n                    wk=\"W2\";\n                }else {\n                    wk=\"W3\";\n                }\n            }else{\n                wk=weekWiseSelection;\n            }\n        }\n\n        ReportsBO.deleteProjectStatusWeekWise(wk,month,year,selectedArea);\n\n    } catch (ApplicationException ex) {\n        addActionError(ex.getMessage());\n        fetchFields();\n        return ERROR;\n    }\n\n    if(null!=weekWiseSelection || !weekWiseSelection.equalsIgnoreCase(\"month\")){\n        addActionMessage(\"Existing records are deleted and copied data from previous month.\");\n    }else{\n        addActionMessage(\"Existing records are deleted and copied data from previous bi weekly.\");\n    }\n    return SUCCESS;\n</code></pre>\n\n<p>and DAO class..</p>\n\n<p>public void deleteProjectStatusWeekWise(String week,int month,int year,String area) throws ApplicationException {\n        int areaId=Integer.parseInt(area);</p>\n\n<pre><code>    JdbcTemplate jdbcTemplate = new JdbcTemplate(dataSource);\n\n    try {\n        int projId = jdbcTemplate.queryForInt(ProjectStatus.FETCH_PROJECT_STATUS_WEEKWISE,new Object[] {week,month,year,areaId});\n        jdbcTemplate.update(ProjectStatus.DELETE_PROJECT_DET_STATUS_MONTH,new Object[] {projId});\n        jdbcTemplate.update(ProjectStatus.DELETE_PROJECT_STATUS_WEEKWISE,new Object[] {week,month,year,areaId});\n    } catch (Exception e) {\n        LOG.error(\"Exception occurred in dashboard.performance.gmu.dao.ProjectStatusDAO.fetchProjectStatusTypeList(int)\",e);\n        throw new ApplicationException(\"Failed to fetch project type list. Please contact System Administrator.\");\n    }\n</code></pre>\n\n<p>}</p>\n\n<p>this error is coming can anyone help on this to resolve the issue.</p>\n\n<pre><code>}\n</code></pre>\n"},{"tags":["java","spring-boot","caching","redis"],"owner":{"account_id":29152385,"reputation":1,"user_id":22332942,"display_name":"shocooo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692266554,"creation_date":1691067678,"question_id":76828355,"body_markdown":"I have implemented Redis to my project. It seems to work as when I use Postman to\r\nGET some information from http client. For the first query it needs ~150 ms and for the further ones\r\njust ~5-7 ms. Now, the problem is that when check Redis Commander, it doesnt show anything there. Like nothing has been created.\r\n\r\n\r\nI set time to live for 60 minutes but still Redis Commander doesnt show me cache.\r\n\r\nEDIT: problem solved. needed to changed version of Redis in pom.xml\r\n\r\n```\r\nspring:\r\n  cache:\r\n    type: redis\r\n    redis:\r\n      time-to-live: PT60M\r\n```","title":"Redis Commander does not show cached data","body":"<p>I have implemented Redis to my project. It seems to work as when I use Postman to\nGET some information from http client. For the first query it needs ~150 ms and for the further ones\njust ~5-7 ms. Now, the problem is that when check Redis Commander, it doesnt show anything there. Like nothing has been created.</p>\n<p>I set time to live for 60 minutes but still Redis Commander doesnt show me cache.</p>\n<p>EDIT: problem solved. needed to changed version of Redis in pom.xml</p>\n<pre><code>spring:\n  cache:\n    type: redis\n    redis:\n      time-to-live: PT60M\n</code></pre>\n"},{"tags":["java","arrays","binary-search"],"answers":[{"tags":[],"owner":{"account_id":1054395,"reputation":53323,"user_id":1057429,"accept_rate":100,"display_name":"Nir Alfasi"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1692266440,"creation_date":1426124148,"answer_id":29000508,"question_id":29000356,"body_markdown":"[`Arrays.copyRangeOf()`][1] uses [`System.arraycopy()`][2] which uses native code (could use [memcpy][3] for example - depending on JIT implementation) under the hood. \r\n\r\nThe &quot;magic&quot; behind copying with `System.arraycopy()` is making one call to copy a block of memory instead of making `n` distinct calls. \r\n\r\nThat means using `Arrays.copyOfRange()` will be more efficient than any other solution you&#39;ll choose to implement by yourself.\r\n\r\nFurther, I don&#39;t see how a binary search could help here: an array has direct access - and here we know precisely the src, dst and how many items should we copy.\r\n\r\nFrom the big-O perspective, the complexity will be `O(n*k)` where `n` is the number of items to copy and `k` is the size (in bits) of each item. Space complexity is the same.\r\n\r\n\r\n\r\n  [1]: http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/6-b14/java/util/Arrays.java#Arrays.copyOfRange%28long%5B%5D%2Cint%2Cint%29\r\n  [2]: http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/6-b14/java/lang/System.java#System.arraycopy%28java.lang.Object%2Cint%2Cjava.lang.Object%2Cint%2Cint%29\r\n  [3]: http://en.cppreference.com/w/cpp/string/byte/memcpy","title":"Runtime of Arrays.copyOfRange()","body":"<p><a href=\"http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/6-b14/java/util/Arrays.java#Arrays.copyOfRange%28long%5B%5D%2Cint%2Cint%29\" rel=\"nofollow noreferrer\"><code>Arrays.copyRangeOf()</code></a> uses <a href=\"http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/6-b14/java/lang/System.java#System.arraycopy%28java.lang.Object%2Cint%2Cjava.lang.Object%2Cint%2Cint%29\" rel=\"nofollow noreferrer\"><code>System.arraycopy()</code></a> which uses native code (could use <a href=\"http://en.cppreference.com/w/cpp/string/byte/memcpy\" rel=\"nofollow noreferrer\">memcpy</a> for example - depending on JIT implementation) under the hood.</p>\n<p>The &quot;magic&quot; behind copying with <code>System.arraycopy()</code> is making one call to copy a block of memory instead of making <code>n</code> distinct calls.</p>\n<p>That means using <code>Arrays.copyOfRange()</code> will be more efficient than any other solution you'll choose to implement by yourself.</p>\n<p>Further, I don't see how a binary search could help here: an array has direct access - and here we know precisely the src, dst and how many items should we copy.</p>\n<p>From the big-O perspective, the complexity will be <code>O(n*k)</code> where <code>n</code> is the number of items to copy and <code>k</code> is the size (in bits) of each item. Space complexity is the same.</p>\n"},{"tags":[],"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1426125150,"creation_date":1426125150,"answer_id":29000624,"question_id":29000356,"body_markdown":"`Arrays.copyOfRange` takes linear time -- with a low constant factor, but still linear time.  Manipulating the start and end indices will inevitably be asymptotically faster, O(log n) instead of O(n).","title":"Runtime of Arrays.copyOfRange()","body":"<p><code>Arrays.copyOfRange</code> takes linear time -- with a low constant factor, but still linear time.  Manipulating the start and end indices will inevitably be asymptotically faster, O(log n) instead of O(n).</p>\n"}],"owner":{"account_id":3120041,"reputation":569,"user_id":2640004,"accept_rate":62,"display_name":"AtomicStrongForce"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4082,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":29000508,"answer_count":2,"score":6,"last_activity_date":1692266440,"creation_date":1426122978,"question_id":29000356,"body_markdown":"What is the big-O runtime of Java&#39;s Arrays.copyOfRange(array, startIndex, endIndex) function? \r\n\r\nFor example, would it be equivalent or less efficient in terms of both space and time complexity to write a simple binary search on arrays function using copyOfRange rather than passing in the start and end indices?","title":"Runtime of Arrays.copyOfRange()","body":"<p>What is the big-O runtime of Java's Arrays.copyOfRange(array, startIndex, endIndex) function? </p>\n\n<p>For example, would it be equivalent or less efficient in terms of both space and time complexity to write a simple binary search on arrays function using copyOfRange rather than passing in the start and end indices?</p>\n"},{"tags":["java","spring","spring-boot","spring-security"],"answers":[{"tags":[],"owner":{"account_id":6849189,"reputation":61,"user_id":5266854,"display_name":"anjanagnet"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692266331,"creation_date":1692266331,"answer_id":76920443,"question_id":74187035,"body_markdown":"instead of ```return http.build()``` try,\r\n```return http.getOrBuild();```","title":"Error creating bean with name &#39;filterChain&#39; org.springframework.security.config.annotation.AlreadyBuiltException: This object has already been built","body":"<p>instead of <code>return http.build()</code> try,\n<code>return http.getOrBuild();</code></p>\n"}],"owner":{"account_id":26721468,"reputation":21,"user_id":20325218,"display_name":"Marcelo Filho"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":287,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1692266331,"creation_date":1666647222,"question_id":74187035,"body_markdown":"As part of Spring Security, recently I upgraded my project from **WebSecurityConfigurerAdapter** to **SecurityFilterChain as a Bean**. I&#39;m trying to use as much available resources as I can from the documentation, but I dont know what I&#39;m doing wrong. It says **This object has already been built**, but I don&#39;t know how to fix it.\r\n\r\n**Configuration class:**\r\n\r\n    package com.github.marceloasfilho.wallet.configuration;\r\n    \r\n    import com.github.marceloasfilho.wallet.filter.JwtAuthenticationFilter;\r\n    import lombok.RequiredArgsConstructor;\r\n    import org.springframework.context.annotation.Bean;\r\n    import org.springframework.context.annotation.Configuration;\r\n    import org.springframework.http.HttpMethod;\r\n    import org.springframework.security.authentication.AuthenticationManager;\r\n    import org.springframework.security.config.annotation.authentication.builders.AuthenticationManagerBuilder;\r\n    import org.springframework.security.config.annotation.web.builders.HttpSecurity;\r\n    import org.springframework.security.config.http.SessionCreationPolicy;\r\n    import org.springframework.security.core.userdetails.User;\r\n    import org.springframework.security.core.userdetails.UserDetailsService;\r\n    import org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\r\n    import org.springframework.security.provisioning.InMemoryUserDetailsManager;\r\n    import org.springframework.security.web.SecurityFilterChain;\r\n    \r\n    import static org.springframework.security.config.Customizer.withDefaults;\r\n    \r\n    @Configuration\r\n    @RequiredArgsConstructor\r\n    public class SecurityConfiguration {\r\n    \r\n        @Bean\r\n        public BCryptPasswordEncoder bCryptPasswordEncoder() {\r\n            return new BCryptPasswordEncoder();\r\n        }\r\n    \r\n        @Bean\r\n        public UserDetailsService userDetailsService() {\r\n    \r\n            InMemoryUserDetailsManager manager = new InMemoryUserDetailsManager();\r\n    \r\n            manager.createUser(User.withUsername(&quot;Marcelo&quot;)\r\n                    .passwordEncoder(bCryptPasswordEncoder()::encode)\r\n                    .password(&quot;password&quot;)\r\n                    .roles(&quot;USER&quot;)\r\n                    .build());\r\n    \r\n            manager.createUser(User.withUsername(&quot;john&quot;)\r\n                    .passwordEncoder(bCryptPasswordEncoder()::encode)\r\n                    .password(&quot;1234&quot;)\r\n                    .roles(&quot;USER&quot;, &quot;MANAGER&quot;)\r\n                    .build());\r\n    \r\n            manager.createUser(User.withUsername(&quot;will&quot;)\r\n                    .passwordEncoder(bCryptPasswordEncoder()::encode)\r\n                    .password(&quot;1234&quot;)\r\n                    .roles(&quot;ADMIN&quot;)\r\n                    .build());\r\n    \r\n            manager.createUser(User.withUsername(&quot;jim&quot;)\r\n                    .passwordEncoder(bCryptPasswordEncoder()::encode)\r\n                    .password(&quot;1234&quot;)\r\n                    .roles(&quot;ADMIN&quot;)\r\n                    .build());\r\n    \r\n            manager.createUser(User.withUsername(&quot;arnold&quot;)\r\n                    .passwordEncoder(bCryptPasswordEncoder()::encode)\r\n                    .password(&quot;1234&quot;)\r\n                    .roles(&quot;SUPER_ADMIN&quot;)\r\n                    .build());\r\n    \r\n            return manager;\r\n        }\r\n    \r\n        @Bean\r\n        public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\r\n    \r\n            http.csrf().disable()\r\n                    .authorizeHttpRequests()\r\n    \r\n                    .antMatchers(HttpMethod.POST)\r\n                    .hasAnyRole(&quot;ADMIN&quot;, &quot;SUPER_ADMIN&quot;)\r\n    \r\n                    .antMatchers(HttpMethod.GET)\r\n                    .hasAnyRole(&quot;USER&quot;, &quot;MANAGER&quot;)\r\n    \r\n                    .and()\r\n                    .httpBasic(withDefaults())\r\n                    .sessionManagement()\r\n                    .sessionCreationPolicy(SessionCreationPolicy.STATELESS);\r\n    \r\n            http.addFilter(new JwtAuthenticationFilter(authenticationManager(http.getSharedObject(AuthenticationManagerBuilder.class))));\r\n    \r\n            return http.build();\r\n        }\r\n    \r\n        @Bean\r\n        public AuthenticationManager authenticationManager(AuthenticationManagerBuilder auth) throws Exception {\r\n            return auth\r\n                    .userDetailsService(userDetailsService())\r\n                    .passwordEncoder(bCryptPasswordEncoder())\r\n                    .and()\r\n                    .build();\r\n        }\r\n    }\r\n\r\n**Stack Trace:**\r\n\r\n    org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;filterChain&#39; defined in class path resource [com/github/marceloasfilho/wallet/configuration/SecurityConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.security.web.SecurityFilterChain]: Factory method &#39;filterChain&#39; threw exception; nested exception is org.springframework.security.config.annotation.AlreadyBuiltException: This object has already been built\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:658) ~[spring-beans-5.3.23.jar:5.3.23]\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:638) ~[spring-beans-5.3.23.jar:5.3.23]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352) ~[spring-beans-5.3.23.jar:5.3.23]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195) ~[spring-beans-5.3.23.jar:5.3.23]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582) ~[spring-beans-5.3.23.jar:5.3.23]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.23.jar:5.3.23]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.23.jar:5.3.23]\r\n    \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.23.jar:5.3.23]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.23.jar:5.3.23]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.23.jar:5.3.23]\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:955) ~[spring-beans-5.3.23.jar:5.3.23]\r\n    \tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:918) ~[spring-context-5.3.23.jar:5.3.23]\r\n    \tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583) ~[spring-context-5.3.23.jar:5.3.23]\r\n    \tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147) ~[spring-boot-2.7.4.jar:2.7.4]\r\n    \tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734) ~[spring-boot-2.7.4.jar:2.7.4]\r\n    \tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408) ~[spring-boot-2.7.4.jar:2.7.4]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:308) ~[spring-boot-2.7.4.jar:2.7.4]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1306) ~[spring-boot-2.7.4.jar:2.7.4]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1295) ~[spring-boot-2.7.4.jar:2.7.4]\r\n    \tat com.github.marceloasfilho.wallet.WalletApplication.main(WalletApplication.java:16) ~[classes/:na]\r\n    \tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:577) ~[na:na]\r\n    \tat org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49) ~[spring-boot-devtools-2.7.4.jar:2.7.4]\r\n    Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.security.web.SecurityFilterChain]: Factory method &#39;filterChain&#39; threw exception; nested exception is org.springframework.security.config.annotation.AlreadyBuiltException: This object has already been built\r\n    \tat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:185) ~[spring-beans-5.3.23.jar:5.3.23]\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:653) ~[spring-beans-5.3.23.jar:5.3.23]\r\n    \t... 22 common frames omitted\r\n    Caused by: org.springframework.security.config.annotation.AlreadyBuiltException: This object has already been built\r\n    \tat org.springframework.security.config.annotation.AbstractSecurityBuilder.build(AbstractSecurityBuilder.java:41) ~[spring-security-config-5.7.3.jar:5.7.3]\r\n    \tat org.springframework.security.config.annotation.web.builders.HttpSecurity.beforeConfigure(HttpSecurity.java:3209) ~[spring-security-config-5.7.3.jar:5.7.3]\r\n    \tat org.springframework.security.config.annotation.AbstractConfiguredSecurityBuilder.doBuild(AbstractConfiguredSecurityBuilder.java:302) ~[spring-security-config-5.7.3.jar:5.7.3]\r\n    \tat org.springframework.security.config.annotation.AbstractSecurityBuilder.build(AbstractSecurityBuilder.java:38) ~[spring-security-config-5.7.3.jar:5.7.3]\r\n    \tat com.github.marceloasfilho.wallet.configuration.SecurityConfiguration.filterChain(SecurityConfiguration.java:81) ~[classes/:na]\r\n    \tat com.github.marceloasfilho.wallet.configuration.SecurityConfiguration$$EnhancerBySpringCGLIB$$c2383da.CGLIB$filterChain$2(&lt;generated&gt;) ~[classes/:na]\r\n    \tat com.github.marceloasfilho.wallet.configuration.SecurityConfiguration$$EnhancerBySpringCGLIB$$c2383da$$FastClassBySpringCGLIB$$b6e723e1.invoke(&lt;generated&gt;) ~[classes/:na]\r\n    \tat org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:244) ~[spring-core-5.3.23.jar:5.3.23]\r\n    \tat org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:331) ~[spring-context-5.3.23.jar:5.3.23]\r\n    \tat com.github.marceloasfilho.wallet.configuration.SecurityConfiguration$$EnhancerBySpringCGLIB$$c2383da.filterChain(&lt;generated&gt;) ~[classes/:na]\r\n    \tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:577) ~[na:na]\r\n    \tat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:154) ~[spring-beans-5.3.23.jar:5.3.23]\r\n    \t... 23 common frames omitted\r\n    \r\n    \r\n    Process finished with exit code 0\r\n","title":"Error creating bean with name &#39;filterChain&#39; org.springframework.security.config.annotation.AlreadyBuiltException: This object has already been built","body":"<p>As part of Spring Security, recently I upgraded my project from <strong>WebSecurityConfigurerAdapter</strong> to <strong>SecurityFilterChain as a Bean</strong>. I'm trying to use as much available resources as I can from the documentation, but I dont know what I'm doing wrong. It says <strong>This object has already been built</strong>, but I don't know how to fix it.</p>\n<p><strong>Configuration class:</strong></p>\n<pre><code>package com.github.marceloasfilho.wallet.configuration;\n\nimport com.github.marceloasfilho.wallet.filter.JwtAuthenticationFilter;\nimport lombok.RequiredArgsConstructor;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.http.HttpMethod;\nimport org.springframework.security.authentication.AuthenticationManager;\nimport org.springframework.security.config.annotation.authentication.builders.AuthenticationManagerBuilder;\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\nimport org.springframework.security.config.http.SessionCreationPolicy;\nimport org.springframework.security.core.userdetails.User;\nimport org.springframework.security.core.userdetails.UserDetailsService;\nimport org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\nimport org.springframework.security.provisioning.InMemoryUserDetailsManager;\nimport org.springframework.security.web.SecurityFilterChain;\n\nimport static org.springframework.security.config.Customizer.withDefaults;\n\n@Configuration\n@RequiredArgsConstructor\npublic class SecurityConfiguration {\n\n    @Bean\n    public BCryptPasswordEncoder bCryptPasswordEncoder() {\n        return new BCryptPasswordEncoder();\n    }\n\n    @Bean\n    public UserDetailsService userDetailsService() {\n\n        InMemoryUserDetailsManager manager = new InMemoryUserDetailsManager();\n\n        manager.createUser(User.withUsername(&quot;Marcelo&quot;)\n                .passwordEncoder(bCryptPasswordEncoder()::encode)\n                .password(&quot;password&quot;)\n                .roles(&quot;USER&quot;)\n                .build());\n\n        manager.createUser(User.withUsername(&quot;john&quot;)\n                .passwordEncoder(bCryptPasswordEncoder()::encode)\n                .password(&quot;1234&quot;)\n                .roles(&quot;USER&quot;, &quot;MANAGER&quot;)\n                .build());\n\n        manager.createUser(User.withUsername(&quot;will&quot;)\n                .passwordEncoder(bCryptPasswordEncoder()::encode)\n                .password(&quot;1234&quot;)\n                .roles(&quot;ADMIN&quot;)\n                .build());\n\n        manager.createUser(User.withUsername(&quot;jim&quot;)\n                .passwordEncoder(bCryptPasswordEncoder()::encode)\n                .password(&quot;1234&quot;)\n                .roles(&quot;ADMIN&quot;)\n                .build());\n\n        manager.createUser(User.withUsername(&quot;arnold&quot;)\n                .passwordEncoder(bCryptPasswordEncoder()::encode)\n                .password(&quot;1234&quot;)\n                .roles(&quot;SUPER_ADMIN&quot;)\n                .build());\n\n        return manager;\n    }\n\n    @Bean\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n\n        http.csrf().disable()\n                .authorizeHttpRequests()\n\n                .antMatchers(HttpMethod.POST)\n                .hasAnyRole(&quot;ADMIN&quot;, &quot;SUPER_ADMIN&quot;)\n\n                .antMatchers(HttpMethod.GET)\n                .hasAnyRole(&quot;USER&quot;, &quot;MANAGER&quot;)\n\n                .and()\n                .httpBasic(withDefaults())\n                .sessionManagement()\n                .sessionCreationPolicy(SessionCreationPolicy.STATELESS);\n\n        http.addFilter(new JwtAuthenticationFilter(authenticationManager(http.getSharedObject(AuthenticationManagerBuilder.class))));\n\n        return http.build();\n    }\n\n    @Bean\n    public AuthenticationManager authenticationManager(AuthenticationManagerBuilder auth) throws Exception {\n        return auth\n                .userDetailsService(userDetailsService())\n                .passwordEncoder(bCryptPasswordEncoder())\n                .and()\n                .build();\n    }\n}\n</code></pre>\n<p><strong>Stack Trace:</strong></p>\n<pre><code>org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'filterChain' defined in class path resource [com/github/marceloasfilho/wallet/configuration/SecurityConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.security.web.SecurityFilterChain]: Factory method 'filterChain' threw exception; nested exception is org.springframework.security.config.annotation.AlreadyBuiltException: This object has already been built\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:658) ~[spring-beans-5.3.23.jar:5.3.23]\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:638) ~[spring-beans-5.3.23.jar:5.3.23]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352) ~[spring-beans-5.3.23.jar:5.3.23]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195) ~[spring-beans-5.3.23.jar:5.3.23]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582) ~[spring-beans-5.3.23.jar:5.3.23]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.23.jar:5.3.23]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.23.jar:5.3.23]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.23.jar:5.3.23]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.23.jar:5.3.23]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.23.jar:5.3.23]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:955) ~[spring-beans-5.3.23.jar:5.3.23]\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:918) ~[spring-context-5.3.23.jar:5.3.23]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583) ~[spring-context-5.3.23.jar:5.3.23]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147) ~[spring-boot-2.7.4.jar:2.7.4]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734) ~[spring-boot-2.7.4.jar:2.7.4]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408) ~[spring-boot-2.7.4.jar:2.7.4]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:308) ~[spring-boot-2.7.4.jar:2.7.4]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306) ~[spring-boot-2.7.4.jar:2.7.4]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295) ~[spring-boot-2.7.4.jar:2.7.4]\n    at com.github.marceloasfilho.wallet.WalletApplication.main(WalletApplication.java:16) ~[classes/:na]\n    at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:577) ~[na:na]\n    at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49) ~[spring-boot-devtools-2.7.4.jar:2.7.4]\nCaused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.security.web.SecurityFilterChain]: Factory method 'filterChain' threw exception; nested exception is org.springframework.security.config.annotation.AlreadyBuiltException: This object has already been built\n    at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:185) ~[spring-beans-5.3.23.jar:5.3.23]\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:653) ~[spring-beans-5.3.23.jar:5.3.23]\n    ... 22 common frames omitted\nCaused by: org.springframework.security.config.annotation.AlreadyBuiltException: This object has already been built\n    at org.springframework.security.config.annotation.AbstractSecurityBuilder.build(AbstractSecurityBuilder.java:41) ~[spring-security-config-5.7.3.jar:5.7.3]\n    at org.springframework.security.config.annotation.web.builders.HttpSecurity.beforeConfigure(HttpSecurity.java:3209) ~[spring-security-config-5.7.3.jar:5.7.3]\n    at org.springframework.security.config.annotation.AbstractConfiguredSecurityBuilder.doBuild(AbstractConfiguredSecurityBuilder.java:302) ~[spring-security-config-5.7.3.jar:5.7.3]\n    at org.springframework.security.config.annotation.AbstractSecurityBuilder.build(AbstractSecurityBuilder.java:38) ~[spring-security-config-5.7.3.jar:5.7.3]\n    at com.github.marceloasfilho.wallet.configuration.SecurityConfiguration.filterChain(SecurityConfiguration.java:81) ~[classes/:na]\n    at com.github.marceloasfilho.wallet.configuration.SecurityConfiguration$$EnhancerBySpringCGLIB$$c2383da.CGLIB$filterChain$2(&lt;generated&gt;) ~[classes/:na]\n    at com.github.marceloasfilho.wallet.configuration.SecurityConfiguration$$EnhancerBySpringCGLIB$$c2383da$$FastClassBySpringCGLIB$$b6e723e1.invoke(&lt;generated&gt;) ~[classes/:na]\n    at org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:244) ~[spring-core-5.3.23.jar:5.3.23]\n    at org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:331) ~[spring-context-5.3.23.jar:5.3.23]\n    at com.github.marceloasfilho.wallet.configuration.SecurityConfiguration$$EnhancerBySpringCGLIB$$c2383da.filterChain(&lt;generated&gt;) ~[classes/:na]\n    at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:577) ~[na:na]\n    at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:154) ~[spring-beans-5.3.23.jar:5.3.23]\n    ... 23 common frames omitted\n\n\nProcess finished with exit code 0\n</code></pre>\n"},{"tags":["java","android"],"owner":{"account_id":21250348,"reputation":122,"user_id":15632630,"display_name":"Michu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692266183,"creation_date":1692266183,"question_id":76920420,"body_markdown":"I&#39;m trying to instal an apk from a java launcher (the apk is in download folder) but the logs return me: `java.lang.IllegalArgumentException: Failed to find configured root that contains /storage/emulated/0/Download/apk_to_install.apk`  \r\n\r\nThis is my current code:\r\n\r\nAndroidManifest.xml\r\n\r\n    &lt;provider\r\n       android:name=&quot;androidx.core.content.FileProvider&quot;\r\n       android:authorities=&quot;com.x.y.provider&quot;\r\n       android:exported=&quot;false&quot;\r\n       android:grantUriPermissions=&quot;true&quot;&gt;\r\n       &lt;meta-data\r\n         android:name=&quot;android.support.FILE_PROVIDER_PATHS&quot;\r\n         android:resource=&quot;@xml/file_paths&quot;/&gt;\r\n     &lt;/provider&gt;\r\n\r\n\r\nfile_paths.xml\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;paths&gt;\r\n        &lt;files-path name=&quot;download&quot; path=&quot;Download/&quot;/&gt;\r\n    &lt;/paths&gt;\r\n\r\nActivity code: \r\n\r\n \r\n\r\n  \r\n\r\n      File apkFile = new File(Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_DOWNLOADS).getAbsolutePath(), &quot;apk_to_install.apk&quot;);\r\n     installApk(this, apkFile);\r\n\r\n\r\n\r\n      public static void installApk(Context context, File apkFile) {\r\n    \r\n            if (apkFile.exists()) {\r\n                Uri apkUri = FileProvider.getUriForFile(context, &quot;com.x.y.provider&quot;, apkFile);\r\n    \r\n                Intent intent = new Intent(Intent.ACTION_VIEW);\r\n                intent.setDataAndType(apkUri, &quot;application/vnd.android.package-archive&quot;);\r\n                intent.setFlags(Intent.FLAG_GRANT_READ_URI_PERMISSION);\r\n                context.startActivity(intent);\r\n            }\r\n        }\r\n\r\n","title":"Install apk from launcher error - Android 11","body":"<p>I'm trying to instal an apk from a java launcher (the apk is in download folder) but the logs return me: <code>java.lang.IllegalArgumentException: Failed to find configured root that contains /storage/emulated/0/Download/apk_to_install.apk</code></p>\n<p>This is my current code:</p>\n<p>AndroidManifest.xml</p>\n<pre><code>&lt;provider\n   android:name=&quot;androidx.core.content.FileProvider&quot;\n   android:authorities=&quot;com.x.y.provider&quot;\n   android:exported=&quot;false&quot;\n   android:grantUriPermissions=&quot;true&quot;&gt;\n   &lt;meta-data\n     android:name=&quot;android.support.FILE_PROVIDER_PATHS&quot;\n     android:resource=&quot;@xml/file_paths&quot;/&gt;\n &lt;/provider&gt;\n</code></pre>\n<p>file_paths.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;paths&gt;\n    &lt;files-path name=&quot;download&quot; path=&quot;Download/&quot;/&gt;\n&lt;/paths&gt;\n</code></pre>\n<p>Activity code:</p>\n<pre><code>  File apkFile = new File(Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_DOWNLOADS).getAbsolutePath(), &quot;apk_to_install.apk&quot;);\n installApk(this, apkFile);\n\n\n\n  public static void installApk(Context context, File apkFile) {\n\n        if (apkFile.exists()) {\n            Uri apkUri = FileProvider.getUriForFile(context, &quot;com.x.y.provider&quot;, apkFile);\n\n            Intent intent = new Intent(Intent.ACTION_VIEW);\n            intent.setDataAndType(apkUri, &quot;application/vnd.android.package-archive&quot;);\n            intent.setFlags(Intent.FLAG_GRANT_READ_URI_PERMISSION);\n            context.startActivity(intent);\n        }\n    }\n</code></pre>\n"},{"tags":["java","spring"],"comments":[{"owner":{"account_id":13047412,"reputation":2792,"user_id":9428851,"display_name":"Victor Gubin"},"score":0,"creation_date":1692203467,"post_id":76915448,"comment_id":135592799,"body_markdown":"Simply exclude your @Configuration from scanning e.g. exclude from `ComponentScan(basePackages = &quot;org.example&quot;)`  and then use [Spring beans factory method](https://www.baeldung.com/spring-beans-factory-methods) with XML","body":"Simply exclude your @Configuration from scanning e.g. exclude from <code>ComponentScan(basePackages = &quot;org.example&quot;)</code>  and then use <a href=\"https://www.baeldung.com/spring-beans-factory-methods\" rel=\"nofollow noreferrer\">Spring beans factory method</a> with XML"}],"answers":[{"tags":[],"owner":{"account_id":476019,"reputation":14699,"user_id":886697,"accept_rate":92,"display_name":"Stanislav Bashkyrtsev"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1692265665,"creation_date":1692203778,"answer_id":76915510,"question_id":76915448,"body_markdown":"The &quot;beans&quot; are supposed to have either a constructor or `setXxx()` methods. That&#39;s how you usually set all the values.\r\n\r\nYour code uses a builder, which doesn&#39;t match any of these patterns (which is weird for Service, whose params should usually be passed into constructor). For such custom code you&#39;d need to implement a `FactoryBean`:\r\n\r\n    class XYZServiceClientBean implements FactoryBean&lt;XYZServiceClient&gt; {\r\n        public XYZServiceClient getObject() throws Exception {\r\n            return new XYZServiceClientBuilder().withparamA(paramA)\r\n                    .withparamB(ParamB)\r\n                    .build();\r\n        }\r\n        public Class&lt;?&gt; getObjectType() {\r\n            return XYZServiceClient.class;\r\n        }\r\n        public boolean isSingleton() {\r\n            return true;\r\n        }\r\n    }\r\n\r\nAnd describe _this_ as a bean in XML. The `FactoryBean` can then accept all the arguments in its own constructor:\r\n\r\n    &lt;bean class=&quot;some.package.XYZServiceClientBean&quot;&gt;\r\n        &lt;constructor-arg ... /&gt;\r\n    &lt;/bean&gt;\r\n\r\nAnd then pass them to the actual `XYZServiceClient` in `getObject()`.\r\n\r\nBut really if you have control over your code you should use the constructor. You can use it with `autowire=&quot;byType&quot;` if there are too many params and you don&#39;t want to explicitly list them. This is also the shortest way to explicitly declare a bean in Spring.","title":"How to create spring bean in xml for java annotated code","body":"<p>The &quot;beans&quot; are supposed to have either a constructor or <code>setXxx()</code> methods. That's how you usually set all the values.</p>\n<p>Your code uses a builder, which doesn't match any of these patterns (which is weird for Service, whose params should usually be passed into constructor). For such custom code you'd need to implement a <code>FactoryBean</code>:</p>\n<pre><code>class XYZServiceClientBean implements FactoryBean&lt;XYZServiceClient&gt; {\n    public XYZServiceClient getObject() throws Exception {\n        return new XYZServiceClientBuilder().withparamA(paramA)\n                .withparamB(ParamB)\n                .build();\n    }\n    public Class&lt;?&gt; getObjectType() {\n        return XYZServiceClient.class;\n    }\n    public boolean isSingleton() {\n        return true;\n    }\n}\n</code></pre>\n<p>And describe <em>this</em> as a bean in XML. The <code>FactoryBean</code> can then accept all the arguments in its own constructor:</p>\n<pre><code>&lt;bean class=&quot;some.package.XYZServiceClientBean&quot;&gt;\n    &lt;constructor-arg ... /&gt;\n&lt;/bean&gt;\n</code></pre>\n<p>And then pass them to the actual <code>XYZServiceClient</code> in <code>getObject()</code>.</p>\n<p>But really if you have control over your code you should use the constructor. You can use it with <code>autowire=&quot;byType&quot;</code> if there are too many params and you don't want to explicitly list them. This is also the shortest way to explicitly declare a bean in Spring.</p>\n"}],"owner":{"account_id":17237779,"reputation":31,"user_id":12480861,"display_name":"Pratiksha Bhere"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1692265665,"creation_date":1692203196,"question_id":76915448,"body_markdown":"How to create spring bean in xml for below code?\r\n\r\n```\r\n@Bean\r\npublic XYZServiceClient getXYZServiceClient() {\r\n  return new XYZServiceClientBuilder().withparamA(paramA)\r\n            .withparamB(ParamB)\r\n            .build();\r\n}\r\n```","title":"How to create spring bean in xml for java annotated code","body":"<p>How to create spring bean in xml for below code?</p>\n<pre><code>@Bean\npublic XYZServiceClient getXYZServiceClient() {\n  return new XYZServiceClientBuilder().withparamA(paramA)\n            .withparamB(ParamB)\n            .build();\n}\n</code></pre>\n"},{"tags":["java","junit","openapi-generator"],"comments":[{"owner":{"account_id":3446101,"reputation":11345,"user_id":2886891,"accept_rate":75,"display_name":"Honza Zidek"},"score":0,"creation_date":1692269283,"post_id":76920305,"comment_id":135601657,"body_markdown":"This question is much better that I originally thought :) To be honest, I just suspect that you didn&#39;t read the documentation properly, and I was curious to verify it. It seems like there is absolutely no mention of the JUnit jupiter version 5 support for the &quot;java&quot; generator, which is a shame. It seems like it is not supported at all :( but I have not found a clear proof of it so I put this as a comment only.","body":"This question is much better that I originally thought :) To be honest, I just suspect that you didn&#39;t read the documentation properly, and I was curious to verify it. It seems like there is absolutely no mention of the JUnit jupiter version 5 support for the &quot;java&quot; generator, which is a shame. It seems like it is not supported at all :( but I have not found a clear proof of it so I put this as a comment only."},{"owner":{"account_id":5493520,"reputation":9833,"user_id":4365460,"accept_rate":90,"display_name":"Roland Weisleder"},"score":0,"creation_date":1692270725,"post_id":76920305,"comment_id":135601918,"body_markdown":"I would also say that this is currently not supported. So feel free to raise a feature request on their GitHub repository.","body":"I would also say that this is currently not supported. So feel free to raise a feature request on their GitHub repository."},{"owner":{"account_id":7712763,"reputation":618,"user_id":5841551,"accept_rate":50,"display_name":"kladderradatsch"},"score":1,"creation_date":1692343282,"post_id":76920305,"comment_id":135612666,"body_markdown":"Thanks and I did the GitHub feature request: https://github.com/OpenAPITools/openapi-generator/issues/16352","body":"Thanks and I did the GitHub feature request: <a href=\"https://github.com/OpenAPITools/openapi-generator/issues/16352\" rel=\"nofollow noreferrer\">github.com/OpenAPITools/openapi-generator/issues/16352</a>"}],"owner":{"account_id":7712763,"reputation":618,"user_id":5841551,"accept_rate":50,"display_name":"kladderradatsch"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":165,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":0,"score":3,"last_activity_date":1692265349,"creation_date":1692265349,"question_id":76920305,"body_markdown":"When using the [openapi-generator][1] to generate [Java client code][2] via the [Maven Plugin][3] then there are *JUnit* tests generated as well. This makes sense, in particular for keeping the coverage restriction (code must be covered by tests for x percent) in your project.\r\n\r\nThe issue is that theses generated JUnit tests are designed by default to utilize *JUnit 4* but we are using *JUnit 5*. \r\n\r\n```\r\nimport org.junit.Test;\r\n```\r\n\r\nHow can we configure the [Java Generator][2] in such a way that the generated tests using *JUnit 5* instead?\r\n\r\n\r\n  [1]: https://openapi-generator.tech/\r\n  [2]: https://openapi-generator.tech/docs/generators/java\r\n  [3]: https://github.com/OpenAPITools/openapi-generator/tree/master/modules/openapi-generator-maven-plugin","title":"Generated test classes use JUnit 4","body":"<p>When using the <a href=\"https://openapi-generator.tech/\" rel=\"nofollow noreferrer\">openapi-generator</a> to generate <a href=\"https://openapi-generator.tech/docs/generators/java\" rel=\"nofollow noreferrer\">Java client code</a> via the <a href=\"https://github.com/OpenAPITools/openapi-generator/tree/master/modules/openapi-generator-maven-plugin\" rel=\"nofollow noreferrer\">Maven Plugin</a> then there are <em>JUnit</em> tests generated as well. This makes sense, in particular for keeping the coverage restriction (code must be covered by tests for x percent) in your project.</p>\n<p>The issue is that theses generated JUnit tests are designed by default to utilize <em>JUnit 4</em> but we are using <em>JUnit 5</em>.</p>\n<pre><code>import org.junit.Test;\n</code></pre>\n<p>How can we configure the <a href=\"https://openapi-generator.tech/docs/generators/java\" rel=\"nofollow noreferrer\">Java Generator</a> in such a way that the generated tests using <em>JUnit 5</em> instead?</p>\n"},{"tags":["java","spring","spring-security","spring-boot","x-frame-options"],"comments":[{"owner":{"account_id":423223,"reputation":5101,"user_id":802482,"accept_rate":67,"display_name":"Black"},"score":1,"creation_date":1539303289,"post_id":28647136,"comment_id":92463426,"body_markdown":"None of the answers below yet address whether it&#39;s possible to apply SAMEORIGIN or ALLOW at the controller method level - anyone know?","body":"None of the answers below yet address whether it&#39;s possible to apply SAMEORIGIN or ALLOW at the controller method level - anyone know?"}],"answers":[{"tags":[],"owner":{"account_id":1667244,"reputation":9019,"user_id":1534407,"accept_rate":50,"display_name":"vtor"},"down_vote_count":0,"up_vote_count":126,"is_accepted":true,"score":126,"last_activity_date":1457603822,"creation_date":1424541451,"answer_id":28649205,"question_id":28647136,"body_markdown":"By default ```X-Frame-Options``` is set to denied, to prevent [clickjacking][1] attacks. To override this, you can add the following into your spring security config\r\n\r\n    &lt;http&gt;    \r\n        &lt;headers&gt;\r\n            &lt;frame-options policy=&quot;SAMEORIGIN&quot;/&gt;\r\n        &lt;/headers&gt;\r\n    &lt;/http&gt;\r\n\r\nHere are available options for policy\r\n\r\n* **DENY** - is a default value. With this the page cannot be displayed in a frame, regardless of the site attempting to do so. \r\n* **SAMEORIGIN** - I assume this is what you are looking for, so that the page will be (and can be) displayed in a frame on the same origin as the page itself\r\n* **ALLOW-FROM** - Allows you to specify an origin, where the page can be displayed in a frame.\r\n\r\nFor more information take a look [here][2]. \r\n\r\nAnd [here][3] to check how you can configure the headers using either XML or Java configs.\r\n\r\nNote, that you might need also to specify appropriate ```strategy```, based on needs.\r\n\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Clickjacking\r\n  [2]: http://docs.spring.io/spring-security/site/docs/3.2.0.CI-SNAPSHOT/reference/html/appendix-namespace.html#nsa-frame-options\r\n  [3]: http://docs.spring.io/autorepo/docs/spring-security/3.2.0.CI-SNAPSHOT/reference/html/headers.html","title":"How to disable &#39;X-Frame-Options&#39; response header in Spring Security?","body":"<p>By default <code>X-Frame-Options</code> is set to denied, to prevent <a href=\"http://en.wikipedia.org/wiki/Clickjacking\">clickjacking</a> attacks. To override this, you can add the following into your spring security config</p>\n\n<pre><code>&lt;http&gt;    \n    &lt;headers&gt;\n        &lt;frame-options policy=\"SAMEORIGIN\"/&gt;\n    &lt;/headers&gt;\n&lt;/http&gt;\n</code></pre>\n\n<p>Here are available options for policy</p>\n\n<ul>\n<li><strong>DENY</strong> - is a default value. With this the page cannot be displayed in a frame, regardless of the site attempting to do so. </li>\n<li><strong>SAMEORIGIN</strong> - I assume this is what you are looking for, so that the page will be (and can be) displayed in a frame on the same origin as the page itself</li>\n<li><strong>ALLOW-FROM</strong> - Allows you to specify an origin, where the page can be displayed in a frame.</li>\n</ul>\n\n<p>For more information take a look <a href=\"http://docs.spring.io/spring-security/site/docs/3.2.0.CI-SNAPSHOT/reference/html/appendix-namespace.html#nsa-frame-options\">here</a>. </p>\n\n<p>And <a href=\"http://docs.spring.io/autorepo/docs/spring-security/3.2.0.CI-SNAPSHOT/reference/html/headers.html\">here</a> to check how you can configure the headers using either XML or Java configs.</p>\n\n<p>Note, that you might need also to specify appropriate <code>strategy</code>, based on needs.</p>\n"},{"tags":[],"owner":{"account_id":1636890,"reputation":8384,"user_id":1510145,"accept_rate":33,"display_name":"fivedogit"},"down_vote_count":0,"up_vote_count":137,"is_accepted":false,"score":137,"last_activity_date":1567020321,"creation_date":1428695591,"answer_id":29569659,"question_id":28647136,"body_markdown":"If you&#39;re using Java configs instead of XML configs, put this in your `WebSecurityConfigurerAdapter.configure(HttpSecurity http)` method:\r\n\r\n    http.headers().frameOptions().disable();","title":"How to disable &#39;X-Frame-Options&#39; response header in Spring Security?","body":"<p>If you're using Java configs instead of XML configs, put this in your <code>WebSecurityConfigurerAdapter.configure(HttpSecurity http)</code> method:</p>\n\n<pre><code>http.headers().frameOptions().disable();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2198054,"reputation":1980,"user_id":1943228,"display_name":"kamwo"},"down_vote_count":0,"up_vote_count":73,"is_accepted":false,"score":73,"last_activity_date":1474616685,"creation_date":1438696926,"answer_id":31811446,"question_id":28647136,"body_markdown":"Most likely you don&#39;t want to deactivate this Header completely, but use `SAMEORIGIN`. If you are using the Java Configs (`Spring Boot`) and would like to allow the X-Frame-Options: `SAMEORIGIN`, then you would need to use the following.\r\n\r\n----------\r\n\r\nFor older Spring Security versions:\r\n    \r\n    http\r\n       .headers()\r\n           .addHeaderWriter(new XFrameOptionsHeaderWriter(XFrameOptionsHeaderWriter.XFrameOptionsMode.SAMEORIGIN))\r\n\r\n\r\n----------\r\n\r\n\r\nFor newer versions like [Spring Security 4.0.2][1]:\r\n \r\n    http\r\n\t   .headers()\r\n\t      .frameOptions()\r\n\t\t     .sameOrigin();\r\n\r\n\r\n  [1]: http://docs.spring.io/spring-security/site/docs/4.0.2.RELEASE/reference/htmlsingle/#headers-frame-options","title":"How to disable &#39;X-Frame-Options&#39; response header in Spring Security?","body":"<p>Most likely you don't want to deactivate this Header completely, but use <code>SAMEORIGIN</code>. If you are using the Java Configs (<code>Spring Boot</code>) and would like to allow the X-Frame-Options: <code>SAMEORIGIN</code>, then you would need to use the following.</p>\n\n<hr>\n\n<p>For older Spring Security versions:</p>\n\n<pre><code>http\n   .headers()\n       .addHeaderWriter(new XFrameOptionsHeaderWriter(XFrameOptionsHeaderWriter.XFrameOptionsMode.SAMEORIGIN))\n</code></pre>\n\n<hr>\n\n<p>For newer versions like <a href=\"http://docs.spring.io/spring-security/site/docs/4.0.2.RELEASE/reference/htmlsingle/#headers-frame-options\">Spring Security 4.0.2</a>:</p>\n\n<pre><code>http\n   .headers()\n      .frameOptions()\n         .sameOrigin();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":743291,"reputation":4158,"user_id":726047,"accept_rate":87,"display_name":"Matthew Kirkley"},"down_vote_count":0,"up_vote_count":22,"is_accepted":false,"score":22,"last_activity_date":1488551401,"creation_date":1460654110,"answer_id":36629768,"question_id":28647136,"body_markdown":"If using XML configuration you can use \r\n    \r\n    &lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot; \r\n           xmlns:security=&quot;http://www.springframework.org/schema/security&quot;&gt; \r\n    &lt;security:http&gt;\r\n        &lt;security:headers&gt;\r\n             &lt;security:frame-options disabled=&quot;true&quot;&gt;&lt;/security:frame-options&gt;\r\n        &lt;/security:headers&gt;\r\n    &lt;/security:http&gt;\r\n    &lt;/beans&gt;\r\n","title":"How to disable &#39;X-Frame-Options&#39; response header in Spring Security?","body":"<p>If using XML configuration you can use </p>\n\n<pre><code>&lt;beans xmlns=\"http://www.springframework.org/schema/beans\" \n       xmlns:security=\"http://www.springframework.org/schema/security\"&gt; \n&lt;security:http&gt;\n    &lt;security:headers&gt;\n         &lt;security:frame-options disabled=\"true\"&gt;&lt;/security:frame-options&gt;\n    &lt;/security:headers&gt;\n&lt;/security:http&gt;\n&lt;/beans&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1477692,"reputation":46661,"user_id":1393484,"accept_rate":100,"display_name":"Ali Dehghani"},"down_vote_count":1,"up_vote_count":10,"is_accepted":false,"score":9,"last_activity_date":1467399388,"creation_date":1467399388,"answer_id":38152270,"question_id":28647136,"body_markdown":"If you&#39;re using Spring Boot, the simplest way to disable the Spring Security default headers is to use `security.headers.*` properties. In particular, if you want to disable the `X-Frame-Options` default header, just add the following to your `application.properties`:\r\n\r\n    security.headers.frame=false\r\n\r\nThere is also `security.headers.cache`, `security.headers.content-type`, `security.headers.hsts` and `security.headers.xss` properties that you can use. For more information, take a look at [`SecurityProperties`][1].\r\n\r\n\r\n  [1]: https://github.com/spring-projects/spring-boot/blob/master/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/security/SecurityProperties.java#L171","title":"How to disable &#39;X-Frame-Options&#39; response header in Spring Security?","body":"<p>If you're using Spring Boot, the simplest way to disable the Spring Security default headers is to use <code>security.headers.*</code> properties. In particular, if you want to disable the <code>X-Frame-Options</code> default header, just add the following to your <code>application.properties</code>:</p>\n\n<pre><code>security.headers.frame=false\n</code></pre>\n\n<p>There is also <code>security.headers.cache</code>, <code>security.headers.content-type</code>, <code>security.headers.hsts</code> and <code>security.headers.xss</code> properties that you can use. For more information, take a look at <a href=\"https://github.com/spring-projects/spring-boot/blob/master/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/security/SecurityProperties.java#L171\" rel=\"noreferrer\"><code>SecurityProperties</code></a>.</p>\n"},{"tags":[],"owner":{"account_id":5291133,"reputation":4271,"user_id":4223697,"accept_rate":93,"display_name":"FuSsA"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1475231541,"creation_date":1475231541,"answer_id":39789445,"question_id":28647136,"body_markdown":"If you are using Spring Security&#39;s Java configuration, all of the default security headers are added by default. They can be disabled using the Java configuration below:\r\n\r\n    @EnableWebSecurity\r\n    @Configuration\r\n    public class WebSecurityConfig extends\r\n       WebSecurityConfigurerAdapter {\r\n    \r\n      @Override\r\n      protected void configure(HttpSecurity http) throws Exception {\r\n        http\r\n          .headers().disable()\r\n          ...;\r\n      }\r\n    }","title":"How to disable &#39;X-Frame-Options&#39; response header in Spring Security?","body":"<p>If you are using Spring Security's Java configuration, all of the default security headers are added by default. They can be disabled using the Java configuration below:</p>\n\n<pre><code>@EnableWebSecurity\n@Configuration\npublic class WebSecurityConfig extends\n   WebSecurityConfigurerAdapter {\n\n  @Override\n  protected void configure(HttpSecurity http) throws Exception {\n    http\n      .headers().disable()\n      ...;\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2972486,"reputation":328,"user_id":2524265,"display_name":"Zdenk Du&#225;tko"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1615458961,"creation_date":1615458961,"answer_id":66580815,"question_id":28647136,"body_markdown":"You should configure multiple HttpSecurity instances.\r\n\r\nHere is my code where only ***/public/***** requests are without ***X-Frame-Options*** header.\r\n\r\n\r\n\r\n    @Configuration\r\n    public class SecurityConfig {\r\n\r\n    /**\r\n     * Public part - Embeddable Web Plugin\r\n     */\r\n\r\n    @Configuration\r\n    @Order(1)\r\n    public static class EmbeddableWebPluginSecurityConfigurationAdapter extends WebSecurityConfigurerAdapter {\r\n        protected void configure(HttpSecurity http) throws Exception {\r\n            // Disable X-Frame-Option Header\r\n            http.antMatcher(&quot;/public/**&quot;).headers().frameOptions().disable();\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Private part - Web App Paths\r\n     */\r\n\r\n    @Configuration\r\n    @EnableOAuth2Sso\r\n    public static class SSOWebSecurityConfigurerAdapter extends WebSecurityConfigurerAdapter {\r\n        @Override\r\n        protected void configure(HttpSecurity http) throws Exception {\r\n\r\n            http\r\n                    .csrf().disable()\r\n                    .antMatcher(&quot;/**&quot;)\r\n                    .authorizeRequests()\r\n                    .antMatchers(&quot;/public/**&quot;, &quot;/&quot;, &quot;/login**&quot;, &quot;/webjars/**&quot;, &quot;/error**&quot;, &quot;/static/**&quot;, &quot;/robots&quot;, &quot;/robot&quot;, &quot;/robot.txt&quot;, &quot;/robots.txt&quot;)\r\n                    .permitAll()\r\n                    .anyRequest()\r\n                    .authenticated()\r\n                    .and().logout().logoutRequestMatcher(new AntPathRequestMatcher(&quot;/logout&quot;))\r\n                    .logoutSuccessUrl(&quot;/bye&quot;);\r\n        }\r\n\r\n        /**\r\n         * Public API endpoints\r\n         */\r\n\r\n        @Override\r\n        public void configure(WebSecurity web) throws Exception {\r\n            web.ignoring().antMatchers(&quot;/api/**&quot;);\r\n        }\r\n      }\r\n    }","title":"How to disable &#39;X-Frame-Options&#39; response header in Spring Security?","body":"<p>You should configure multiple HttpSecurity instances.</p>\n<p>Here is my code where only <em><strong>/public/</strong></em>** requests are without <em><strong>X-Frame-Options</strong></em> header.</p>\n<pre><code>@Configuration\npublic class SecurityConfig {\n\n/**\n * Public part - Embeddable Web Plugin\n */\n\n@Configuration\n@Order(1)\npublic static class EmbeddableWebPluginSecurityConfigurationAdapter extends WebSecurityConfigurerAdapter {\n    protected void configure(HttpSecurity http) throws Exception {\n        // Disable X-Frame-Option Header\n        http.antMatcher(&quot;/public/**&quot;).headers().frameOptions().disable();\n    }\n}\n\n/**\n * Private part - Web App Paths\n */\n\n@Configuration\n@EnableOAuth2Sso\npublic static class SSOWebSecurityConfigurerAdapter extends WebSecurityConfigurerAdapter {\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n\n        http\n                .csrf().disable()\n                .antMatcher(&quot;/**&quot;)\n                .authorizeRequests()\n                .antMatchers(&quot;/public/**&quot;, &quot;/&quot;, &quot;/login**&quot;, &quot;/webjars/**&quot;, &quot;/error**&quot;, &quot;/static/**&quot;, &quot;/robots&quot;, &quot;/robot&quot;, &quot;/robot.txt&quot;, &quot;/robots.txt&quot;)\n                .permitAll()\n                .anyRequest()\n                .authenticated()\n                .and().logout().logoutRequestMatcher(new AntPathRequestMatcher(&quot;/logout&quot;))\n                .logoutSuccessUrl(&quot;/bye&quot;);\n    }\n\n    /**\n     * Public API endpoints\n     */\n\n    @Override\n    public void configure(WebSecurity web) throws Exception {\n        web.ignoring().antMatchers(&quot;/api/**&quot;);\n    }\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26556603,"reputation":1,"user_id":20185119,"display_name":"Landonx"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665155103,"creation_date":1665153673,"answer_id":73988862,"question_id":28647136,"body_markdown":"`.csrf().disable()` its to dangerous. \r\n\r\ntest:\r\n\r\n    .headers().frameOptions().sameOrigin()","title":"How to disable &#39;X-Frame-Options&#39; response header in Spring Security?","body":"<p><code>.csrf().disable()</code> its to dangerous.</p>\n<p>test:</p>\n<pre><code>.headers().frameOptions().sameOrigin()\n</code></pre>\n"}],"owner":{"account_id":4108001,"reputation":1482,"user_id":3371414,"accept_rate":77,"display_name":"Bravo"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":199919,"favorite_count":0,"down_vote_count":0,"up_vote_count":115,"accepted_answer_id":28649205,"answer_count":8,"score":115,"last_activity_date":1692265072,"creation_date":1424530483,"question_id":28647136,"body_markdown":"I have CKeditor on my JSP and whenever I upload something, the following error pops out:\r\n\r\n     Refused to display &#39;http://localhost:8080/xxx/xxx/upload-image?CKEditor=text&amp;CKEditorFuncNum=1&amp;langCode=ru&#39; in a frame because it set &#39;X-Frame-Options&#39; to &#39;DENY&#39;.\r\n\r\nI have tried removing Spring Security and everything works like a charm.\r\n\r\n - How can I disable this in Spring Security XML file?\r\n - What should I write between `&lt;http&gt;` tags?","title":"How to disable &#39;X-Frame-Options&#39; response header in Spring Security?","body":"<p>I have CKeditor on my JSP and whenever I upload something, the following error pops out:</p>\n<pre><code> Refused to display 'http://localhost:8080/xxx/xxx/upload-image?CKEditor=text&amp;CKEditorFuncNum=1&amp;langCode=ru' in a frame because it set 'X-Frame-Options' to 'DENY'.\n</code></pre>\n<p>I have tried removing Spring Security and everything works like a charm.</p>\n<ul>\n<li>How can I disable this in Spring Security XML file?</li>\n<li>What should I write between <code>&lt;http&gt;</code> tags?</li>\n</ul>\n"},{"tags":["java","swing","jtextarea"],"answers":[{"tags":[],"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1576265241,"creation_date":1576265241,"answer_id":59328701,"question_id":59328551,"body_markdown":"Your issue is a compound one.\r\n\r\nFirst, you create the button using...\r\n\r\n    JButton temp = new JButton(i + &quot; &quot;);\r\n\r\nThis, by default, sets the `actionCommmand` to `i_` &lt;- not the space! (So won&#39;t let me put in a trailing space, so I&#39;ve use `_` to highlight)\r\n\r\nYou then use \r\n\r\n        switch (action)\r\n        {\r\n            case &quot;0&quot;:\r\n            //...\r\n\r\nTo check the `actionCommand`, but the command isn&#39;t (as an example) [`0`], it&#39;s [`0_`]\r\n\r\nInstead, use something like...\r\n\r\n    JButton temp = new JButton(Integer.toString(i));\r\n\r\nYou&#39;re also going to want to fix:\r\n\r\n    if (operand == &quot;0&quot;)\r\n\r\nas `==` is not how you should be comparing `Strings (and a good IDE should be warning you about it).  Instead use `equals`, for example...\r\n\r\n    if (&quot;0&quot;.equals(operand))","title":"JTextArea not being appended to in swing GUI","body":"<p>Your issue is a compound one.</p>\n\n<p>First, you create the button using...</p>\n\n<pre><code>JButton temp = new JButton(i + \" \");\n</code></pre>\n\n<p>This, by default, sets the <code>actionCommmand</code> to <code>i_</code> &lt;- not the space! (So won't let me put in a trailing space, so I've use <code>_</code> to highlight)</p>\n\n<p>You then use </p>\n\n<pre><code>    switch (action)\n    {\n        case \"0\":\n        //...\n</code></pre>\n\n<p>To check the <code>actionCommand</code>, but the command isn't (as an example) [<code>0</code>], it's [<code>0_</code>]</p>\n\n<p>Instead, use something like...</p>\n\n<pre><code>JButton temp = new JButton(Integer.toString(i));\n</code></pre>\n\n<p>You're also going to want to fix:</p>\n\n<pre><code>if (operand == \"0\")\n</code></pre>\n\n<p>as <code>==</code> is not how you should be comparing <code>Strings (and a good IDE should be warning you about it).  Instead use</code>equals`, for example...</p>\n\n<pre><code>if (\"0\".equals(operand))\n</code></pre>\n"}],"owner":{"account_id":17049514,"reputation":3,"user_id":12335486,"display_name":"naasik"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":59328701,"answer_count":1,"score":0,"last_activity_date":1692265029,"creation_date":1576264483,"question_id":59328551,"body_markdown":"I am currently working on a GUI calculator program using Swing. I got the actual interface done\r\n[here][1]\r\n\r\n\r\nHowever, whenever I click on one of the number buttons, nothing appears in the operand text area, while 0.0 appears in the result text area as can be seen [here][2].\r\n\r\nHere is my code: \r\n\r\n```\r\n`\r\npublic class Calculator extends JFrame implements ActionListener\r\n{\r\n    private static JTextArea operandArea;\r\n    private static JTextArea resultArea;\r\n    private static JButton[] buttons = new JButton[10];\r\n\r\n    public Calculator()\r\n    {\r\n        setTitle(&quot;Calculator&quot;);\r\n        setSize(800, 800);\r\n        setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n        setLocationRelativeTo(null);\r\n\r\n        BorderLayout calculatorLayout = new BorderLayout();\r\n        setLayout(calculatorLayout);\r\n\r\n        JPanel wholeCalculator = new JPanel();\r\n        add(wholeCalculator);\r\n        JPanel textAreas = new JPanel();\r\n        wholeCalculator.add(textAreas, calculatorLayout.NORTH);\r\n        textAreas.setPreferredSize(new Dimension(800, 300));\r\n        JPanel numberPad = new JPanel();\r\n        wholeCalculator.add(numberPad, calculatorLayout.SOUTH);\r\n        numberPad.setPreferredSize(new Dimension(800, 300));\r\n\r\n        operandArea = new JTextArea();\r\n        operandArea.setPreferredSize(new Dimension(600,75));\r\n        resultArea = new JTextArea();\r\n        resultArea.setPreferredSize(new Dimension(600,75));\r\n\r\n        textAreas.setLayout(new GridLayout(4, 1));\r\n        JLabel operand = new JLabel(&quot;Operand&quot;);\r\n        JLabel result = new JLabel(&quot;Result&quot;);\r\n        textAreas.add(operand);\r\n        operand.setHorizontalAlignment(JLabel.CENTER);\r\n        textAreas.add(operandArea);\r\n        textAreas.add(result);\r\n        result.setHorizontalAlignment(JLabel.CENTER);\r\n        textAreas.add(resultArea);\r\n\r\n        numberPad.setLayout(new GridLayout(1, 2));\r\n\r\n        JPanel numbers = new JPanel();\r\n        numberPad.add(numbers);\r\n        numbers.setLayout(new GridLayout(4, 3));\r\n        numbers.setPreferredSize(new Dimension(400, 400));\r\n        JPanel operations = new JPanel();\r\n        numberPad.add(operations);\r\n        operations.setPreferredSize(new Dimension(200, 400));\r\n        JButton minus = new JButton(&quot;-&quot;);\r\n        minus.setActionCommand(&quot;minus&quot;);\r\n        operations.add(minus);\r\n        JButton plus = new JButton(&quot;+&quot;);\r\n        plus.setActionCommand(&quot;plus&quot;);\r\n        operations.add(plus);\r\n        JButton multiply = new JButton(&quot;X&quot;);\r\n        multiply.setActionCommand(&quot;multiply&quot;);\r\n        operations.add(multiply);\r\n        JButton divide = new JButton(&quot;/&quot;);\r\n        divide.setActionCommand(&quot;divide&quot;);\r\n        operations.add(divide);\r\n        JButton decimal = new JButton(&quot;.&quot;);\r\n        operations.add(decimal);\r\n        JButton reset = new JButton(&quot;reset&quot;);\r\n        reset.setActionCommand(&quot;reset&quot;);\r\n        operations.add(reset);\r\n        JButton clear = new JButton(&quot;clear&quot;);\r\n        operations.add(clear);\r\n\r\n        for (int i = 1; i &lt;= 9; i++)\r\n        {\r\n            JButton temp = new JButton(i + &quot; &quot;);\r\n            buttons[i] = temp;\r\n            temp.addActionListener(this);\r\n            numbers.add(temp);\r\n        }\r\n            numbers.add(new JButton(&quot;0&quot;));\r\n    }\r\n\r\n    public void actionPerformed(ActionEvent e)\r\n    {\r\n        String action = e.getActionCommand();\r\n        double initializer = 0.0;\r\n        String operand = &quot;&quot;;\r\n\r\n        resultArea.setText(Double.toString(initializer));\r\n\r\n        switch (action)\r\n        {\r\n            case &quot;0&quot;:\r\n                operandArea.append(&quot;0&quot;);\r\n                operand = operand + &quot;0&quot;;\r\n                break;\r\n            case &quot;1&quot;:\r\n                operandArea.append(&quot;1&quot;);\r\n                operand = operand + &quot;1&quot;;\r\n                break;\r\n            case &quot;2&quot;:\r\n                operandArea.append(&quot;2&quot;);\r\n                operand = operand + &quot;2&quot;;\r\n                break;\r\n            case &quot;3&quot;:\r\n                operandArea.append(&quot;3&quot;);\r\n                operand = operand + &quot;3&quot;;\r\n                break;\r\n            case &quot;4&quot;:\r\n                operandArea.append(&quot;4&quot;);\r\n                operand = operand + &quot;4&quot;;\r\n                break;\r\n            case &quot;5&quot;:\r\n                operandArea.append(&quot;5&quot;);\r\n                operand = operand + &quot;5&quot;;\r\n                break;\r\n            case &quot;6&quot;:\r\n                operandArea.append(&quot;6&quot;);\r\n                operand = operand + &quot;6&quot;;\r\n                break;\r\n            case &quot;7&quot;:\r\n                operandArea.append(&quot;7&quot;);\r\n                operand = operand + &quot;7&quot;;\r\n                break;\r\n            case &quot;8&quot;:\r\n                operandArea.append(&quot;8&quot;);\r\n                operand = operand + &quot;8&quot;;\r\n                break;\r\n            case &quot;9&quot;:\r\n                operandArea.append(&quot;9&quot;);\r\n                operand = operand + &quot;9&quot;;\r\n                break;\r\n            case &quot;.&quot;:\r\n                operandArea.append(&quot;.&quot;);\r\n                operand = operand + &quot;.&quot;;\r\n                break;\r\n            case &quot;plus&quot;:\r\n                initializer += Double.parseDouble(operand);\r\n                resultArea.setText(Double.toString(initializer));\r\n                break;\r\n            case &quot;minus&quot;:\r\n                initializer -= Double.parseDouble(operand);\r\n                resultArea.setText(Double.toString(initializer));\r\n                break;\r\n            case &quot;multiply&quot;: initializer *= Double.parseDouble(operand);\r\n                resultArea.setText(Double.toString(initializer));\r\n                break;\r\n            case &quot;divide&quot;:\r\n                try\r\n                {\r\n                    if (operand == &quot;0&quot;)\r\n                    {\r\n                        throw new DivideByZeroException();\r\n                    }\r\n                    initializer /= Double.parseDouble(operand);\r\n                    resultArea.setText(Double.toString(initializer));\r\n                }\r\n                catch (DivideByZeroException ex)\r\n                {\r\n                    resultArea.setText(&quot;Cannot divide by 0&quot;);\r\n                }\r\n                break;\r\n            case &quot;clear&quot;:\r\n                operandArea.setText(&quot;&quot;);\r\n                break;\r\n            case &quot;reset&quot;:\r\n                operandArea.setText(&quot;&quot;);\r\n                resultArea.setText(&quot;&quot;);\r\n                initializer = 0.0;\r\n                break;\r\n        }\r\n    }\r\n\r\n    public static void main(String[] args)\r\n    {\r\n        Calculator frame = new Calculator();\r\n        frame.setVisible(true);\r\n    }\r\n}\r\n`\r\n```\r\nI thought using the append command would add to the blank space? I would appreciate any input.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/VxTZx.png\r\n  [2]: https://i.stack.imgur.com/UDd5V.png","title":"JTextArea not being appended to in swing GUI","body":"<p>I am currently working on a GUI calculator program using Swing. I got the actual interface done\n<a href=\"https://i.stack.imgur.com/VxTZx.png\" rel=\"nofollow noreferrer\">here</a></p>\n\n<p>However, whenever I click on one of the number buttons, nothing appears in the operand text area, while 0.0 appears in the result text area as can be seen <a href=\"https://i.stack.imgur.com/UDd5V.png\" rel=\"nofollow noreferrer\">here</a>.</p>\n\n<p>Here is my code: </p>\n\n<pre><code>`\npublic class Calculator extends JFrame implements ActionListener\n{\n    private static JTextArea operandArea;\n    private static JTextArea resultArea;\n    private static JButton[] buttons = new JButton[10];\n\n    public Calculator()\n    {\n        setTitle(\"Calculator\");\n        setSize(800, 800);\n        setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        setLocationRelativeTo(null);\n\n        BorderLayout calculatorLayout = new BorderLayout();\n        setLayout(calculatorLayout);\n\n        JPanel wholeCalculator = new JPanel();\n        add(wholeCalculator);\n        JPanel textAreas = new JPanel();\n        wholeCalculator.add(textAreas, calculatorLayout.NORTH);\n        textAreas.setPreferredSize(new Dimension(800, 300));\n        JPanel numberPad = new JPanel();\n        wholeCalculator.add(numberPad, calculatorLayout.SOUTH);\n        numberPad.setPreferredSize(new Dimension(800, 300));\n\n        operandArea = new JTextArea();\n        operandArea.setPreferredSize(new Dimension(600,75));\n        resultArea = new JTextArea();\n        resultArea.setPreferredSize(new Dimension(600,75));\n\n        textAreas.setLayout(new GridLayout(4, 1));\n        JLabel operand = new JLabel(\"Operand\");\n        JLabel result = new JLabel(\"Result\");\n        textAreas.add(operand);\n        operand.setHorizontalAlignment(JLabel.CENTER);\n        textAreas.add(operandArea);\n        textAreas.add(result);\n        result.setHorizontalAlignment(JLabel.CENTER);\n        textAreas.add(resultArea);\n\n        numberPad.setLayout(new GridLayout(1, 2));\n\n        JPanel numbers = new JPanel();\n        numberPad.add(numbers);\n        numbers.setLayout(new GridLayout(4, 3));\n        numbers.setPreferredSize(new Dimension(400, 400));\n        JPanel operations = new JPanel();\n        numberPad.add(operations);\n        operations.setPreferredSize(new Dimension(200, 400));\n        JButton minus = new JButton(\"-\");\n        minus.setActionCommand(\"minus\");\n        operations.add(minus);\n        JButton plus = new JButton(\"+\");\n        plus.setActionCommand(\"plus\");\n        operations.add(plus);\n        JButton multiply = new JButton(\"X\");\n        multiply.setActionCommand(\"multiply\");\n        operations.add(multiply);\n        JButton divide = new JButton(\"/\");\n        divide.setActionCommand(\"divide\");\n        operations.add(divide);\n        JButton decimal = new JButton(\".\");\n        operations.add(decimal);\n        JButton reset = new JButton(\"reset\");\n        reset.setActionCommand(\"reset\");\n        operations.add(reset);\n        JButton clear = new JButton(\"clear\");\n        operations.add(clear);\n\n        for (int i = 1; i &lt;= 9; i++)\n        {\n            JButton temp = new JButton(i + \" \");\n            buttons[i] = temp;\n            temp.addActionListener(this);\n            numbers.add(temp);\n        }\n            numbers.add(new JButton(\"0\"));\n    }\n\n    public void actionPerformed(ActionEvent e)\n    {\n        String action = e.getActionCommand();\n        double initializer = 0.0;\n        String operand = \"\";\n\n        resultArea.setText(Double.toString(initializer));\n\n        switch (action)\n        {\n            case \"0\":\n                operandArea.append(\"0\");\n                operand = operand + \"0\";\n                break;\n            case \"1\":\n                operandArea.append(\"1\");\n                operand = operand + \"1\";\n                break;\n            case \"2\":\n                operandArea.append(\"2\");\n                operand = operand + \"2\";\n                break;\n            case \"3\":\n                operandArea.append(\"3\");\n                operand = operand + \"3\";\n                break;\n            case \"4\":\n                operandArea.append(\"4\");\n                operand = operand + \"4\";\n                break;\n            case \"5\":\n                operandArea.append(\"5\");\n                operand = operand + \"5\";\n                break;\n            case \"6\":\n                operandArea.append(\"6\");\n                operand = operand + \"6\";\n                break;\n            case \"7\":\n                operandArea.append(\"7\");\n                operand = operand + \"7\";\n                break;\n            case \"8\":\n                operandArea.append(\"8\");\n                operand = operand + \"8\";\n                break;\n            case \"9\":\n                operandArea.append(\"9\");\n                operand = operand + \"9\";\n                break;\n            case \".\":\n                operandArea.append(\".\");\n                operand = operand + \".\";\n                break;\n            case \"plus\":\n                initializer += Double.parseDouble(operand);\n                resultArea.setText(Double.toString(initializer));\n                break;\n            case \"minus\":\n                initializer -= Double.parseDouble(operand);\n                resultArea.setText(Double.toString(initializer));\n                break;\n            case \"multiply\": initializer *= Double.parseDouble(operand);\n                resultArea.setText(Double.toString(initializer));\n                break;\n            case \"divide\":\n                try\n                {\n                    if (operand == \"0\")\n                    {\n                        throw new DivideByZeroException();\n                    }\n                    initializer /= Double.parseDouble(operand);\n                    resultArea.setText(Double.toString(initializer));\n                }\n                catch (DivideByZeroException ex)\n                {\n                    resultArea.setText(\"Cannot divide by 0\");\n                }\n                break;\n            case \"clear\":\n                operandArea.setText(\"\");\n                break;\n            case \"reset\":\n                operandArea.setText(\"\");\n                resultArea.setText(\"\");\n                initializer = 0.0;\n                break;\n        }\n    }\n\n    public static void main(String[] args)\n    {\n        Calculator frame = new Calculator();\n        frame.setVisible(true);\n    }\n}\n`\n</code></pre>\n\n<p>I thought using the append command would add to the blank space? I would appreciate any input.</p>\n"},{"tags":["java","spring","spring-boot","scala","bean-validation"],"comments":[{"owner":{"account_id":9727861,"reputation":2565,"user_id":7214091,"display_name":"Gast&#243;n Schabas"},"score":0,"creation_date":1692225699,"post_id":76916690,"comment_id":135596460,"body_markdown":"Does this answer your question? [What is the best way modeling in Scala with Spring Data JPA](https://stackoverflow.com/questions/57772213/what-is-the-best-way-modeling-in-scala-with-spring-data-jpa)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/57772213/what-is-the-best-way-modeling-in-scala-with-spring-data-jpa\">What is the best way modeling in Scala with Spring Data JPA</a>"},{"owner":{"account_id":2235563,"reputation":467,"user_id":3546132,"accept_rate":90,"display_name":"nils1k"},"score":0,"creation_date":1692252741,"post_id":76916690,"comment_id":135598683,"body_markdown":"Thanks, but that doesn&#39;t work, unfortunately. I think it is the inheritance in play that messes up the validation somehow.","body":"Thanks, but that doesn&#39;t work, unfortunately. I think it is the inheritance in play that messes up the validation somehow."},{"owner":{"account_id":2235563,"reputation":467,"user_id":3546132,"accept_rate":90,"display_name":"nils1k"},"score":0,"creation_date":1692264605,"post_id":76916690,"comment_id":135600764,"body_markdown":"@Gast&#243;nSchabas: My bad, the post didn&#39;t answer the question, but gave pointers in the right direction. See the solution in the comment below.","body":"@Gast&#243;nSchabas: My bad, the post didn&#39;t answer the question, but gave pointers in the right direction. See the solution in the comment below."}],"answers":[{"tags":[],"owner":{"account_id":2235563,"reputation":467,"user_id":3546132,"accept_rate":90,"display_name":"nils1k"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1692264941,"creation_date":1692264941,"answer_id":76920240,"question_id":76916690,"body_markdown":"The following tweak in the model class did the trick:\r\n\r\n```scala\r\n@AvroNamespace(AvroSchemaBuilder.baseNamespace)\r\n@Schema(description = &quot;MyModel&quot;)\r\ncase class MyModel(\r\n  @(NotNull@field)\r\n  @(Pattern@field)(regexp = &quot;^([A-Z]{3}):([A-Za-z]*):([0-9A-Za-z_\\\\-]*)$&quot;)\r\n  @Schema(description = &quot;Id&quot;, implementation = classOf[String], requiredMode = Schema.RequiredMode.REQUIRED) \r\n  override val id: String,\r\n\r\n  @(NotNull@field)\r\n  @(Pattern@field)(regexp = &quot;^([A-Z]{3}):([A-Za-z]*):([0-9A-Za-z_\\\\-]*)$&quot;)\r\n  @Schema(description = &quot;Version&quot;, implementation = classOf[String], requiredMode = Schema.RequiredMode.REQUIRED)\r\n  override val version: String\r\n) extends SomeClassC\r\n\r\n```\r\n\r\nThe solution was to add the `@field` annotation to all the constraints that are set on a given field. If I&#39;ve understood things correctly this was needed &quot;*because that meta-annotation is used to tell the compiler that the actual field should be considered the target of the annotation, as opposed to the automatically generated accesssor/mutator methods&quot;* (reference from another [SO post][1])\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/37014280/usage-of-field-annotations","title":"How can I set up bean validation for Scala case class with multiple levels of inheritance in Spring Boot 3?","body":"<p>The following tweak in the model class did the trick:</p>\n<pre class=\"lang-scala prettyprint-override\"><code>@AvroNamespace(AvroSchemaBuilder.baseNamespace)\n@Schema(description = &quot;MyModel&quot;)\ncase class MyModel(\n  @(NotNull@field)\n  @(Pattern@field)(regexp = &quot;^([A-Z]{3}):([A-Za-z]*):([0-9A-Za-z_\\\\-]*)$&quot;)\n  @Schema(description = &quot;Id&quot;, implementation = classOf[String], requiredMode = Schema.RequiredMode.REQUIRED) \n  override val id: String,\n\n  @(NotNull@field)\n  @(Pattern@field)(regexp = &quot;^([A-Z]{3}):([A-Za-z]*):([0-9A-Za-z_\\\\-]*)$&quot;)\n  @Schema(description = &quot;Version&quot;, implementation = classOf[String], requiredMode = Schema.RequiredMode.REQUIRED)\n  override val version: String\n) extends SomeClassC\n\n</code></pre>\n<p>The solution was to add the <code>@field</code> annotation to all the constraints that are set on a given field. If I've understood things correctly this was needed &quot;<em>because that meta-annotation is used to tell the compiler that the actual field should be considered the target of the annotation, as opposed to the automatically generated accesssor/mutator methods&quot;</em> (reference from another <a href=\"https://stackoverflow.com/questions/37014280/usage-of-field-annotations\">SO post</a>)</p>\n"}],"owner":{"account_id":2235563,"reputation":467,"user_id":3546132,"accept_rate":90,"display_name":"nils1k"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":95,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":76920240,"answer_count":1,"score":-1,"last_activity_date":1692264941,"creation_date":1692215817,"question_id":76916690,"body_markdown":"## Problem Description\r\nI&#39;m having trouble validating overridden fields in a Scala case class using the Bean Validation API. Validation works properly for `@RequestParam` and `@PathVariable` annotations in the RestController.\r\n\r\n## Code\r\n\r\n### RestController\r\n```scala\r\n@RestController\r\n@Validated\r\n@RequestMapping(value = Array(&quot;/my-endpoint&quot;)\r\nclass MyController(service: MyService) {\r\n\r\n  @GetMapping(Array(&quot;/{id}/{version}&quot;))\r\n  def getByIds(\r\n    @PathVariable @Pattern(regexp = @Pattern(regexp = &quot;^([A-Z]{3}):([A-Za-z]*):([0-9A-Za-z_\\\\-]*)$&quot;)) id: String,\r\n    @PathVariable @Pattern(regexp = @Pattern(regexp = &quot;^([A-Z]{3}):([A-Za-z]*):([0-9A-Za-z_\\\\-]*)$&quot;)) version: String\r\n  ): MyModel = getById(id, version)\r\n\r\n  @PostMapping\r\n  def create(@Valid @RequestBody entity: MyModel) ResponseEntity[Unit] = {\r\n    service.create(entity)\r\n  }\r\n}\r\n```\r\n\r\n### API model / Subclass\r\n```scala\r\n@AvroNamespace(AvroSchemaBuilder.baseNamespace)\r\n@Schema(description = &quot;MyModel&quot;)\r\ncase class MyModel(\r\n  @NotNull\r\n  @Pattern(regexp = ValidationPattern.netexIdPattern)\r\n  @Schema(description = &quot;Id&quot;, implementation = classOf[String], requiredMode = Schema.RequiredMode.REQUIRED) \r\n  override val id: String,\r\n\r\n  @Pattern(regexp = ValidationPattern.netexIdPattern)\r\n  @Schema(description = &quot;Version&quot;, implementation = classOf[String], requiredMode = Schema.RequiredMode.REQUIRED)\r\n  override val version: String\r\n) extends SomeClassC\r\n```\r\n\r\n### Superclasses\r\n```scala\r\nabstract class SomeClassC extends SomeClass B with SomeClassX {\r\n}\r\n\r\nabstract class SomeClass B extends SomeClassA {\r\n  val name: List[SomeObject]\r\n  val description: List[SomeObject]\r\n}\r\n\r\nabstract class SomeClassA {\r\n  val id: String\r\n  val version: String\r\n}\r\n```\r\n\r\n## Debugging\r\nAfter having stepped through the code, it looks like the `@Valid` annotation in the RestController is detected and evaluated as expected, whilst the bean validation annotations placed in the model class are not. This leads me to believe that the class is not registered by Spring, and hence, not exposed to the bean validation API. This assumption might be wrong, as I can see that the `valueContext` property of the `validateInContext` method in the `org.hibernate.validator.internal.engine.ValidatorImpl` class is correctly referencing the model class - though all of the related to associated constraints are `0`.\r\n\r\n## Attempted Solution\r\nI&#39;ve tried to annotate the model class and all superclasses with `@Component` to explicitly register them with Spring. However, this results in the following error related to the two overridden variables in the model: \r\n\r\n\r\n&gt; Could not autowire. No beans of &#39;String&#39; type found.\r\n\r\n\r\n## Version of Languages and Frameworks\r\n* Spring Boot `3.1.2`\r\n* Scala `2.13.11`\r\n* OpenJDK Runtime Environment Temurin-`17.0.8+7`\r\n\r\nI&#39;m running a bit out of ideas on this one, so highly appreciate any help I can get.","title":"How can I set up bean validation for Scala case class with multiple levels of inheritance in Spring Boot 3?","body":"<h2>Problem Description</h2>\n<p>I'm having trouble validating overridden fields in a Scala case class using the Bean Validation API. Validation works properly for <code>@RequestParam</code> and <code>@PathVariable</code> annotations in the RestController.</p>\n<h2>Code</h2>\n<h3>RestController</h3>\n<pre class=\"lang-scala prettyprint-override\"><code>@RestController\n@Validated\n@RequestMapping(value = Array(&quot;/my-endpoint&quot;)\nclass MyController(service: MyService) {\n\n  @GetMapping(Array(&quot;/{id}/{version}&quot;))\n  def getByIds(\n    @PathVariable @Pattern(regexp = @Pattern(regexp = &quot;^([A-Z]{3}):([A-Za-z]*):([0-9A-Za-z_\\\\-]*)$&quot;)) id: String,\n    @PathVariable @Pattern(regexp = @Pattern(regexp = &quot;^([A-Z]{3}):([A-Za-z]*):([0-9A-Za-z_\\\\-]*)$&quot;)) version: String\n  ): MyModel = getById(id, version)\n\n  @PostMapping\n  def create(@Valid @RequestBody entity: MyModel) ResponseEntity[Unit] = {\n    service.create(entity)\n  }\n}\n</code></pre>\n<h3>API model / Subclass</h3>\n<pre class=\"lang-scala prettyprint-override\"><code>@AvroNamespace(AvroSchemaBuilder.baseNamespace)\n@Schema(description = &quot;MyModel&quot;)\ncase class MyModel(\n  @NotNull\n  @Pattern(regexp = ValidationPattern.netexIdPattern)\n  @Schema(description = &quot;Id&quot;, implementation = classOf[String], requiredMode = Schema.RequiredMode.REQUIRED) \n  override val id: String,\n\n  @Pattern(regexp = ValidationPattern.netexIdPattern)\n  @Schema(description = &quot;Version&quot;, implementation = classOf[String], requiredMode = Schema.RequiredMode.REQUIRED)\n  override val version: String\n) extends SomeClassC\n</code></pre>\n<h3>Superclasses</h3>\n<pre class=\"lang-scala prettyprint-override\"><code>abstract class SomeClassC extends SomeClass B with SomeClassX {\n}\n\nabstract class SomeClass B extends SomeClassA {\n  val name: List[SomeObject]\n  val description: List[SomeObject]\n}\n\nabstract class SomeClassA {\n  val id: String\n  val version: String\n}\n</code></pre>\n<h2>Debugging</h2>\n<p>After having stepped through the code, it looks like the <code>@Valid</code> annotation in the RestController is detected and evaluated as expected, whilst the bean validation annotations placed in the model class are not. This leads me to believe that the class is not registered by Spring, and hence, not exposed to the bean validation API. This assumption might be wrong, as I can see that the <code>valueContext</code> property of the <code>validateInContext</code> method in the <code>org.hibernate.validator.internal.engine.ValidatorImpl</code> class is correctly referencing the model class - though all of the related to associated constraints are <code>0</code>.</p>\n<h2>Attempted Solution</h2>\n<p>I've tried to annotate the model class and all superclasses with <code>@Component</code> to explicitly register them with Spring. However, this results in the following error related to the two overridden variables in the model:</p>\n<blockquote>\n<p>Could not autowire. No beans of 'String' type found.</p>\n</blockquote>\n<h2>Version of Languages and Frameworks</h2>\n<ul>\n<li>Spring Boot <code>3.1.2</code></li>\n<li>Scala <code>2.13.11</code></li>\n<li>OpenJDK Runtime Environment Temurin-<code>17.0.8+7</code></li>\n</ul>\n<p>I'm running a bit out of ideas on this one, so highly appreciate any help I can get.</p>\n"},{"tags":["java","redis","spring-data-redis"],"answers":[{"tags":[],"owner":{"account_id":4829511,"reputation":5855,"user_id":4021802,"display_name":"sazzad"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1669279752,"creation_date":1669279752,"answer_id":74557924,"question_id":74557099,"body_markdown":"Try\r\n\r\n```\r\nredisTemplate.getConnectionFactory().getConnection().flushAll();\r\n```","title":"How to delete all data from Redis using RedisTemplate in java","body":"<p>Try</p>\n<pre><code>redisTemplate.getConnectionFactory().getConnection().flushAll();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1988712,"reputation":655,"user_id":1783283,"display_name":"Jonathan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692264890,"creation_date":1692264890,"answer_id":76920228,"question_id":74557099,"body_markdown":"In case you are using kotlin and reactive connection within a suspendable function, the code is:\r\n```\r\nsuspend fun flushCache(): String {\r\n   return redisTemplate.connectionFactory.reactiveConnection.serverCommands().flushDb().awaitSingle()\r\n}\r\n```","title":"How to delete all data from Redis using RedisTemplate in java","body":"<p>In case you are using kotlin and reactive connection within a suspendable function, the code is:</p>\n<pre><code>suspend fun flushCache(): String {\n   return redisTemplate.connectionFactory.reactiveConnection.serverCommands().flushDb().awaitSingle()\n}\n</code></pre>\n"}],"owner":{"account_id":19267681,"reputation":330,"user_id":14082313,"display_name":"Shaheen Hyder"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2999,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74557924,"answer_count":2,"score":0,"last_activity_date":1692264890,"creation_date":1669275203,"question_id":74557099,"body_markdown":"I am using Lettuce as Redis client for my Java Spring project. I am doing several operations with RedisTemplate. I&#39;m not able to delete all data from Redis using RedisTemplate.\r\n\r\nI tried\r\n\r\n```\r\nredisTemplate.delete(&quot;*&quot;)\r\n```\r\n\r\nHowever, this is not making any change.","title":"How to delete all data from Redis using RedisTemplate in java","body":"<p>I am using Lettuce as Redis client for my Java Spring project. I am doing several operations with RedisTemplate. I'm not able to delete all data from Redis using RedisTemplate.</p>\n<p>I tried</p>\n<pre><code>redisTemplate.delete(&quot;*&quot;)\n</code></pre>\n<p>However, this is not making any change.</p>\n"},{"tags":["java","arrays"],"comments":[{"owner":{"account_id":440158,"reputation":323231,"user_id":829571,"accept_rate":94,"display_name":"assylias"},"score":7,"creation_date":1366045203,"post_id":16020741,"comment_id":22851206,"body_markdown":"You have to loop I&#39;m afraid...","body":"You have to loop I&#39;m afraid..."},{"owner":{"account_id":1291937,"reputation":4814,"user_id":1243866,"accept_rate":100,"display_name":"Justin Bicknell"},"score":0,"creation_date":1366045295,"post_id":16020741,"comment_id":22851241,"body_markdown":"possible duplicate http://stackoverflow.com/questions/9128737/fastest-way-to-set-all-values-of-an-array","body":"possible duplicate <a href=\"http://stackoverflow.com/questions/9128737/fastest-way-to-set-all-values-of-an-array\" title=\"fastest way to set all values of an array\">stackoverflow.com/questions/9128737/&hellip;</a>"},{"owner":{"account_id":2554254,"reputation":6916,"user_id":2216621,"accept_rate":61,"display_name":"Rob Watts"},"score":0,"creation_date":1366045383,"post_id":16020741,"comment_id":22851275,"body_markdown":"Take a look at this question: http://stackoverflow.com/questions/3790142/java-equivalent-of-pythons-rangeint-int","body":"Take a look at this question: <a href=\"http://stackoverflow.com/questions/3790142/java-equivalent-of-pythons-rangeint-int\" title=\"java equivalent of pythons rangeint int\">stackoverflow.com/questions/3790142/&hellip;</a>"},{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":0,"creation_date":1366045471,"post_id":16020741,"comment_id":22851333,"body_markdown":"Java 8 will have a lazy sequence for 1..99 and a functional fill. Not necessarily more efficient, but possibly.","body":"Java 8 will have a lazy sequence for 1..99 and a functional fill. Not necessarily more efficient, but possibly."},{"owner":{"account_id":2068338,"reputation":1277,"user_id":1843385,"accept_rate":60,"display_name":"Arnaldo Ignacio Gaspar V&#233;jar"},"score":1,"creation_date":1366045706,"post_id":16020741,"comment_id":22851417,"body_markdown":"Quick in computing time or coding ?","body":"Quick in computing time or coding ?"},{"owner":{"account_id":734409,"reputation":7338,"user_id":699559,"accept_rate":61,"display_name":"C graphics"},"score":0,"creation_date":1366046758,"post_id":16020741,"comment_id":22851932,"body_markdown":"@Arnaldo Gaspar , quick in coding I meant.","body":"@Arnaldo Gaspar , quick in coding I meant."},{"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":1,"creation_date":1366046980,"post_id":16020741,"comment_id":22852051,"body_markdown":"You can drop the `{` and `}` It&#39;s not something you need to do in Java very often so I can&#39;t imagine this being added as a feature soon.","body":"You can drop the <code>{</code> and <code>}</code> It&#39;s not something you need to do in Java very often so I can&#39;t imagine this being added as a feature soon."},{"owner":{"account_id":2085920,"reputation":4502,"user_id":1856922,"display_name":"Craig"},"score":0,"creation_date":1484324014,"post_id":16020741,"comment_id":70477408,"body_markdown":"Possible duplicate of [Fill arrays with ranges of numbers](http://stackoverflow.com/questions/3387373/fill-arrays-with-ranges-of-numbers)","body":"Possible duplicate of <a href=\"http://stackoverflow.com/questions/3387373/fill-arrays-with-ranges-of-numbers\">Fill arrays with ranges of numbers</a>"}],"answers":[{"tags":[],"owner":{"account_id":2500020,"reputation":328,"user_id":2175403,"display_name":"Andy B"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1493312955,"creation_date":1366045478,"answer_id":16020807,"question_id":16020741,"body_markdown":"depending on the size you will have to loop, if its a small one you can do the following...\r\n\r\n    int[] intArray = new int[] {4,5,6,7,8};\r\n\r\nim guessing for your size you dont want to have to type it all out so makes sense to create a loop and set it that way\r\n\r\n","title":"shortest way of filling an array with 1,2...n","body":"<p>depending on the size you will have to loop, if its a small one you can do the following...</p>\n\n<pre><code>int[] intArray = new int[] {4,5,6,7,8};\n</code></pre>\n\n<p>im guessing for your size you dont want to have to type it all out so makes sense to create a loop and set it that way</p>\n"},{"tags":[],"owner":{"account_id":2639505,"reputation":77,"user_id":2283476,"display_name":"Nobal "},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1366045582,"creation_date":1366045582,"answer_id":16020830,"question_id":16020741,"body_markdown":"You must use loop to initialize such a long array. There is not a shortcut method in Java as you expected. ","title":"shortest way of filling an array with 1,2...n","body":"<p>You must use loop to initialize such a long array. There is not a shortcut method in Java as you expected. </p>\n"},{"tags":[],"owner":{"account_id":171404,"reputation":7897,"user_id":398797,"accept_rate":75,"display_name":"evgenyl"},"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1508136175,"creation_date":1366045616,"answer_id":16020841,"question_id":16020741,"body_markdown":"You can use Guava library, for something like this:\r\n\r\n    public class Test {\r\n\r\n    public static void main(String[] args) {\r\n        //one liner\r\n        int[] array = toArray(newLinkedList(concat(range(1, 10), range(500, 1000))));\r\n\r\n        //more readable\r\n        Iterable&lt;Integer&gt; values = concat(range(1, 10), range(500, 1000));\r\n        List&lt;Integer&gt; list = newLinkedList(values);\r\n        int[] array = toArray(list);\r\n\r\n    }\r\n\r\n    public static List&lt;Integer&gt; range(int min, int max) {\r\n        List&lt;Integer&gt; list = newLinkedList();\r\n        for (int i = min; i &lt;= max; i++) {\r\n            list.add(i);\r\n        }\r\n\r\n        return list;\r\n    }\r\n\r\n}\r\n\r\n**Updated**: full example take from this post https://stackoverflow.com/questions/3387373/fill-arrays-with-ranges-of-numbers","title":"shortest way of filling an array with 1,2...n","body":"<p>You can use Guava library, for something like this:</p>\n\n<pre><code>public class Test {\n\npublic static void main(String[] args) {\n    //one liner\n    int[] array = toArray(newLinkedList(concat(range(1, 10), range(500, 1000))));\n\n    //more readable\n    Iterable&lt;Integer&gt; values = concat(range(1, 10), range(500, 1000));\n    List&lt;Integer&gt; list = newLinkedList(values);\n    int[] array = toArray(list);\n\n}\n\npublic static List&lt;Integer&gt; range(int min, int max) {\n    List&lt;Integer&gt; list = newLinkedList();\n    for (int i = min; i &lt;= max; i++) {\n        list.add(i);\n    }\n\n    return list;\n}\n</code></pre>\n\n<p>}</p>\n\n<p><strong>Updated</strong>: full example take from this post <a href=\"https://stackoverflow.com/questions/3387373/fill-arrays-with-ranges-of-numbers\">Fill arrays with ranges of numbers</a></p>\n"},{"tags":[],"owner":{"account_id":2068338,"reputation":1277,"user_id":1843385,"accept_rate":60,"display_name":"Arnaldo Ignacio Gaspar V&#233;jar"},"down_vote_count":2,"up_vote_count":4,"is_accepted":false,"score":2,"last_activity_date":1366045882,"creation_date":1366045882,"answer_id":16020902,"question_id":16020741,"body_markdown":"I think that your code is the **shortest** and the **simplest** way. You might dont need to load extra libraries to get more &quot;compact&quot; code lines. The **for** loops are very simple (a truly O(n)) and **legible**, live and love them.","title":"shortest way of filling an array with 1,2...n","body":"<p>I think that your code is the <strong>shortest</strong> and the <strong>simplest</strong> way. You might dont need to load extra libraries to get more \"compact\" code lines. The <strong>for</strong> loops are very simple (a truly O(n)) and <strong>legible</strong>, live and love them.</p>\n"},{"tags":[],"owner":{"account_id":440158,"reputation":323231,"user_id":829571,"accept_rate":94,"display_name":"assylias"},"down_vote_count":2,"up_vote_count":18,"is_accepted":true,"score":16,"last_activity_date":1556801075,"creation_date":1366047230,"answer_id":16021301,"question_id":16020741,"body_markdown":"Out of curiosity, I have tested the performance of two versions of that method - one with a loop and the other one using guava:\r\n\r\n    public int[] loop() {\r\n        int[] a = new int[100];\r\n        for (int i = 0; i &lt; 100; ++i) {\r\n            a[i] = i;\r\n        }\r\n        return a;\r\n    }\r\n\r\n    public int[] guava() {\r\n        Set&lt;Integer&gt; set = ContiguousSet.create(Range.closed(0, 99), DiscreteDomains.integers());\r\n        int[] a = Ints.toArray(set);\r\n        return a;\r\n    }\r\n\r\nHere are the results:\r\n\r\n    Benchmark     Mean     Mean error          Var    Units\r\n    loop        79.913          5.671       30.447  nsec/op\r\n    guava      814.753         46.359     2034.726  nsec/op\r\n\r\nSo the `guava()` method runs in 814 ns +/- 46ns vs. 80 ns +/- 5ns for the `loop()` method. So `loop()` is about 10x faster. If you call that method a few times, the 800 nanoseconds don&#39;t matter, if you call it very often, writing the loop is probably better.","title":"shortest way of filling an array with 1,2...n","body":"<p>Out of curiosity, I have tested the performance of two versions of that method - one with a loop and the other one using guava:</p>\n\n<pre><code>public int[] loop() {\n    int[] a = new int[100];\n    for (int i = 0; i &lt; 100; ++i) {\n        a[i] = i;\n    }\n    return a;\n}\n\npublic int[] guava() {\n    Set&lt;Integer&gt; set = ContiguousSet.create(Range.closed(0, 99), DiscreteDomains.integers());\n    int[] a = Ints.toArray(set);\n    return a;\n}\n</code></pre>\n\n<p>Here are the results:</p>\n\n<pre><code>Benchmark     Mean     Mean error          Var    Units\nloop        79.913          5.671       30.447  nsec/op\nguava      814.753         46.359     2034.726  nsec/op\n</code></pre>\n\n<p>So the <code>guava()</code> method runs in 814 ns +/- 46ns vs. 80 ns +/- 5ns for the <code>loop()</code> method. So <code>loop()</code> is about 10x faster. If you call that method a few times, the 800 nanoseconds don't matter, if you call it very often, writing the loop is probably better.</p>\n"},{"tags":[],"owner":{"account_id":2173846,"reputation":1913,"user_id":1925060,"accept_rate":86,"display_name":"chao"},"down_vote_count":1,"up_vote_count":20,"is_accepted":false,"score":19,"last_activity_date":1500189642,"creation_date":1441621536,"answer_id":32436420,"question_id":16020741,"body_markdown":"Java 8 allows to do that in one line with `IntStream` object and lambda expression:\r\n\r\n    int n = 10;\r\n    int[] values = new int[n];\r\n    IntStream.range(1,n+1).forEach(val -&gt; values[val-1] = val);","title":"shortest way of filling an array with 1,2...n","body":"<p>Java 8 allows to do that in one line with <code>IntStream</code> object and lambda expression:</p>\n\n<pre><code>int n = 10;\nint[] values = new int[n];\nIntStream.range(1,n+1).forEach(val -&gt; values[val-1] = val);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":205757,"reputation":6428,"user_id":454667,"accept_rate":91,"display_name":"Bachi"},"down_vote_count":1,"up_vote_count":122,"is_accepted":false,"score":121,"last_activity_date":1478893813,"creation_date":1478892662,"answer_id":40554920,"question_id":16020741,"body_markdown":"Since **Java 8** this is possible:\r\n\r\n    int[] a = IntStream.range(1, 100).toArray();\r\n\r\n(And shorter than the other java 8 answer .).","title":"shortest way of filling an array with 1,2...n","body":"<p>Since <strong>Java 8</strong> this is possible:</p>\n\n<pre><code>int[] a = IntStream.range(1, 100).toArray();\n</code></pre>\n\n<p>(And shorter than the other java 8 answer .).</p>\n"},{"tags":[],"owner":{"account_id":1510989,"reputation":21746,"user_id":1413133,"display_name":"Manos Nikolaidis"},"down_vote_count":0,"up_vote_count":23,"is_accepted":false,"score":23,"last_activity_date":1507232781,"creation_date":1493313132,"answer_id":43664076,"question_id":16020741,"body_markdown":"Another alternative if you use Java 8:\r\n\r\n    int[] array = new int[100];\r\n    Arrays.setAll(array, i -&gt; i + 1);\r\n\r\nThe lambda expression accepts the index of the cell, and returns a value to put in that cell. In this case, cells 0 - 99 are assigned the values 1-100.","title":"shortest way of filling an array with 1,2...n","body":"<p>Another alternative if you use Java 8:</p>\n\n<pre><code>int[] array = new int[100];\nArrays.setAll(array, i -&gt; i + 1);\n</code></pre>\n\n<p>The lambda expression accepts the index of the cell, and returns a value to put in that cell. In this case, cells 0 - 99 are assigned the values 1-100.</p>\n"},{"tags":[],"owner":{"account_id":25205910,"reputation":11,"user_id":19044266,"display_name":"smallTrogdor"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1668614541,"creation_date":1668614541,"answer_id":74463647,"question_id":16020741,"body_markdown":"If people **do** want to use the for-loop method, then you could shorten it to (side note):\r\n```\r\nint [] a = new int[100];\r\nfor (int i = 0; i &lt; 100; a[i] = i++);\r\n```","title":"shortest way of filling an array with 1,2...n","body":"<p>If people <strong>do</strong> want to use the for-loop method, then you could shorten it to (side note):</p>\n<pre><code>int [] a = new int[100];\nfor (int i = 0; i &lt; 100; a[i] = i++);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4946242,"reputation":1,"user_id":5122100,"display_name":"Gerd Streubel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692264770,"creation_date":1692264770,"answer_id":76920216,"question_id":16020741,"body_markdown":"In case someone is not able to use java 8+, here is a solution with Google Guava:\r\n\r\n    Long[] value = ContiguousSet.create(Range.closed(0L, 23L), DiscreteDomain.longs())\r\n    .toArray(new Long[0]);\r\n\r\n","title":"shortest way of filling an array with 1,2...n","body":"<p>In case someone is not able to use java 8+, here is a solution with Google Guava:</p>\n<pre><code>Long[] value = ContiguousSet.create(Range.closed(0L, 23L), DiscreteDomain.longs())\n.toArray(new Long[0]);\n</code></pre>\n"}],"owner":{"account_id":734409,"reputation":7338,"user_id":699559,"accept_rate":61,"display_name":"C graphics"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":101890,"favorite_count":0,"down_vote_count":0,"up_vote_count":52,"accepted_answer_id":16021301,"answer_count":10,"score":52,"last_activity_date":1692264770,"creation_date":1366045180,"question_id":16020741,"body_markdown":"Is there anything as quick as this in java? ( quick in coding) \r\n\r\n    int [] a = {1..99};\r\nor I have to go for this:\r\n\r\n    int [] a=new int[100];\r\n    for (int i=0;i &lt;100;++i){\r\n    a[i]=i;\r\n    }\r\n\r\n\r\n\r\n","title":"shortest way of filling an array with 1,2...n","body":"<p>Is there anything as quick as this in java? ( quick in coding) </p>\n\n<pre><code>int [] a = {1..99};\n</code></pre>\n\n<p>or I have to go for this:</p>\n\n<pre><code>int [] a=new int[100];\nfor (int i=0;i &lt;100;++i){\na[i]=i;\n}\n</code></pre>\n"},{"tags":["java","spring-boot","oauth-2.0","spring-security-oauth2","spring-oauth2"],"comments":[{"owner":{"account_id":13990337,"reputation":162,"user_id":10104445,"display_name":"Jack Branch"},"score":0,"creation_date":1688719210,"post_id":76635241,"comment_id":135114373,"body_markdown":"Do you need a scope for this, its usually set as the resource url (auth url for you probably) with /.default on the end, eg authUrl/.default.\nThat worked for me with azure resources before\nAlso try hitting the url in insomnia / postman client with those set as params and check that also","body":"Do you need a scope for this, its usually set as the resource url (auth url for you probably) with /.default on the end, eg authUrl/.default. That worked for me with azure resources before Also try hitting the url in insomnia / postman client with those set as params and check that also"},{"owner":{"account_id":16400754,"reputation":21,"user_id":11846802,"display_name":"Maveric"},"score":0,"creation_date":1688719737,"post_id":76635241,"comment_id":135114461,"body_markdown":"@JackBranch scope is empty in postman","body":"@JackBranch scope is empty in postman"},{"owner":{"account_id":13990337,"reputation":162,"user_id":10104445,"display_name":"Jack Branch"},"score":0,"creation_date":1688720075,"post_id":76635241,"comment_id":135114523,"body_markdown":"For me it was just a pram called scope within the request you send, i think you have to send it in your request like so scope=myurl/.default.\nThis was the case for ad login, graph login etc for me","body":"For me it was just a pram called scope within the request you send, i think you have to send it in your request like so scope=myurl/.default. This was the case for ad login, graph login etc for me"},{"owner":{"account_id":16400754,"reputation":21,"user_id":11846802,"display_name":"Maveric"},"score":0,"creation_date":1688721087,"post_id":76635241,"comment_id":135114702,"body_markdown":"no luck still same error","body":"no luck still same error"}],"owner":{"account_id":16400754,"reputation":21,"user_id":11846802,"display_name":"Maveric"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692264670,"creation_date":1688718799,"question_id":76635241,"body_markdown":"Hi have these below details which are working fine from Postman but I need to retrieve the Oauth2 token from Java.\r\n\r\n 1. ClientId : clientid-abcd-bcda-xxxx-bbbbc-bbbbsjhk\r\n 2. clientsecret: client-secret-xxxx-bgdj-jbkjg-dddff\r\n 3. callbackurl:https://somecalbackurl.to.access.receive.an.authorization.code\r\n 4. accesstokenUlr: https://some AccessToken Url Url\r\n 5. AuthUrl: https://somAuthUrl\r\n 6. Service AccUserName &amp; Password\r\n\r\n   \r\n\r\n   public static void main(String[] args) throws OAuthProblemException { \r\n\r\n    String clientId = &quot;clientid-abcd-bcda-xxxx-bbbbc-bbbbsjhk&quot;;\r\n    String clientSecret = &quot;client-secret-xxxx-bgdj-jbkjg-dddff &quot;;\r\n    String accessTokenUrl = &quot;https://someaccess.token/guhns87-abcd-3000-b245-62c1d05/oauth2/&quot;;\r\n    String authUrl = &quot;https://someauthurl/4866523-62c1d05b6b3a/oauth2/&quot;;\r\n    String callbackUrl = &quot;https://callbackurl.com/&quot;;   \r\n    \r\n String encodedValue = getBase64Encoded(clientId, clientSecret);\r\n    \r\n    OAuthClient client = new OAuthClient(new URLConnectionClient());\r\n    try {\r\n        OAuthClientRequest request = \r\n               OAuthClientRequest.tokenLocation(accessTokenUrl)\r\n               .setGrantType(GrantType.AUTHORIZATION_CODE)                 \r\n               .setRedirectURI(&quot;callbackurl&quot;)                  \r\n               .buildBodyMessage();\r\n        \r\n        request.addHeader(&quot;Authorization&quot;, &quot;Basic &quot;+ encodedValue);\r\n        //OAuthClientRequest.authorizationProvider(OAuthProviderType.MICROSOFT);\r\n        \r\n        OAuthJSONAccessTokenResponse token = client.accessToken(request,OAuth.HttpMethod.POST,OAuthJSONAccessTokenResponse.class);\r\n        String finalToken=token.getAccessToken();\r\n        \r\n     System.out.println(finalToken);\r\n     \r\n    } catch (OAuthSystemException e) {\r\n        // TODO Auto-generated catch block\r\n        e.printStackTrace();\r\n    }   \r\n}\r\npublic static String getBase64Encoded(String id,String password) {\r\n     return Base64.getEncoder().encodeToString((id +&quot;:&quot;+ password).getBytes(StandardCharsets.UTF_8));\r\n}\r\n\r\nFrom this above I need to retrieve Access token and used to call to further API with credentials to get the data. but facing error as below\r\n\r\nuri=&#39;https://somewhere.net/error?code=900144&#39;, state=&#39;null&#39;, scope=&#39;null&#39;, redirectUri=&#39;null&#39;, responseStatus=400, parameters={}}\r\n\r\nnot sure where I am missing.","title":"Trying to get OAuth2 token from Azure server from Java","body":"<p>Hi have these below details which are working fine from Postman but I need to retrieve the Oauth2 token from Java.</p>\n<ol>\n<li>ClientId : clientid-abcd-bcda-xxxx-bbbbc-bbbbsjhk</li>\n<li>clientsecret: client-secret-xxxx-bgdj-jbkjg-dddff</li>\n<li>callbackurl:<a href=\"https://somecalbackurl.to.access.receive.an.authorization.code\" rel=\"nofollow noreferrer\">https://somecalbackurl.to.access.receive.an.authorization.code</a></li>\n<li>accesstokenUlr: https://some AccessToken Url Url</li>\n<li>AuthUrl: https://somAuthUrl</li>\n<li>Service AccUserName &amp; Password</li>\n</ol>\n<p>public static void main(String[] args) throws OAuthProblemException {</p>\n<pre><code>String clientId = &quot;clientid-abcd-bcda-xxxx-bbbbc-bbbbsjhk&quot;;\nString clientSecret = &quot;client-secret-xxxx-bgdj-jbkjg-dddff &quot;;\nString accessTokenUrl = &quot;https://someaccess.token/guhns87-abcd-3000-b245-62c1d05/oauth2/&quot;;\nString authUrl = &quot;https://someauthurl/4866523-62c1d05b6b3a/oauth2/&quot;;\nString callbackUrl = &quot;https://callbackurl.com/&quot;;   \n</code></pre>\n<p>String encodedValue = getBase64Encoded(clientId, clientSecret);</p>\n<pre><code>OAuthClient client = new OAuthClient(new URLConnectionClient());\ntry {\n    OAuthClientRequest request = \n           OAuthClientRequest.tokenLocation(accessTokenUrl)\n           .setGrantType(GrantType.AUTHORIZATION_CODE)                 \n           .setRedirectURI(&quot;callbackurl&quot;)                  \n           .buildBodyMessage();\n    \n    request.addHeader(&quot;Authorization&quot;, &quot;Basic &quot;+ encodedValue);\n    //OAuthClientRequest.authorizationProvider(OAuthProviderType.MICROSOFT);\n    \n    OAuthJSONAccessTokenResponse token = client.accessToken(request,OAuth.HttpMethod.POST,OAuthJSONAccessTokenResponse.class);\n    String finalToken=token.getAccessToken();\n    \n System.out.println(finalToken);\n \n} catch (OAuthSystemException e) {\n    // TODO Auto-generated catch block\n    e.printStackTrace();\n}   \n</code></pre>\n<p>}\npublic static String getBase64Encoded(String id,String password) {\nreturn Base64.getEncoder().encodeToString((id +&quot;:&quot;+ password).getBytes(StandardCharsets.UTF_8));\n}</p>\n<p>From this above I need to retrieve Access token and used to call to further API with credentials to get the data. but facing error as below</p>\n<p>uri='https://somewhere.net/error?code=900144', state='null', scope='null', redirectUri='null', responseStatus=400, parameters={}}</p>\n<p>not sure where I am missing.</p>\n"},{"tags":["java","eclipse","selenium-webdriver"],"comments":[{"owner":{"account_id":10299692,"reputation":5719,"user_id":7598774,"accept_rate":75,"display_name":"Shawn"},"score":1,"creation_date":1692259801,"post_id":76918362,"comment_id":135599799,"body_markdown":"Can you edit the question and share your code please?","body":"Can you edit the question and share your code please?"},{"owner":{"account_id":1437244,"reputation":1134,"user_id":1358344,"accept_rate":100,"display_name":"Berkay Kirmizioglu"},"score":0,"creation_date":1692283464,"post_id":76918362,"comment_id":135604804,"body_markdown":"The error message you are seeing clearly states the problem: The path to the driver executable must be set by the webdriver.chrome.driver system property","body":"The error message you are seeing clearly states the problem: The path to the driver executable must be set by the webdriver.chrome.driver system property"}],"answers":[{"tags":[],"owner":{"account_id":12503014,"reputation":130,"user_id":9100818,"display_name":"Kafarson"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692253187,"creation_date":1692253187,"answer_id":76918905,"question_id":76918362,"body_markdown":"You have an information about error in stackTrace, \r\ncheck [Chrome driver - getting started][1]\r\nbecause I think you dont have configured chrome driver for Selenium as previous speaker said.\r\n\r\n\r\n  [1]: https://chromedriver.chromium.org/getting-started","title":"This error appears when I run selenium script in eclipse. How to resolve this?","body":"<p>You have an information about error in stackTrace,\ncheck <a href=\"https://chromedriver.chromium.org/getting-started\" rel=\"nofollow noreferrer\">Chrome driver - getting started</a>\nbecause I think you dont have configured chrome driver for Selenium as previous speaker said.</p>\n"}],"owner":{"account_id":29241132,"reputation":1,"user_id":22402633,"display_name":"Nishant S"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":139,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1692264446,"creation_date":1692244211,"question_id":76918362,"body_markdown":"When I run Selenium script this error is appeared.\r\n\r\n    WARNING: Unable to obtain driver using Selenium Manager: Error running command: [C:\\Users\\Acer\\AppData\\Local\\Temp\\selenium-manager15855651361320015355641543438297284\\selenium-manager.exe, --driver, chromedriver] Build info: version: &#39;4.6.0&#39;, revision: &#39;79f1c02ae20&#39; System info: os.name: &#39;Windows 11&#39;\r\n    Exception in thread &quot;main&quot; java.lang.IllegalStateException: The path to the driver executable The path to the driver executable must be set by the webdriver.chrome.driver system property; for more information, see https://chromedriver.chromium.org/. The latest version can be downloaded from https://chromedriver.chromium.org/downloads\r\n    \tat org.openqa.selenium.internal.Require$StateChecker.nonNull(Require.java:314)\r\n    \tat org.openqa.selenium.remote.service.DriverService.findExecutable(DriverService.java:148)\r\n    \tat org.openqa.selenium.chrome.ChromeDriverService.access$000(ChromeDriverService.java:39)\r\n    \tat org.openqa.selenium.chrome.ChromeDriverService$Builder.findDefaultExecutable(ChromeDriverService.java:233)\r\n    \tat org.openqa.selenium.remote.service.DriverService$Builder.build(DriverService.java:450)\r\n    \tat org.openqa.selenium.chrome.ChromeDriverService.createDefaultService(ChromeDriverService.java:128)\r\n    \tat org.openqa.selenium.chrome.ChromeDriver.&lt;init&gt;(ChromeDriver.java:49)\r\n    \tat basics.Test1.main(Test1.java:10)\r\n\r\n\r\n","title":"This error appears when I run selenium script in eclipse. How to resolve this?","body":"<p>When I run Selenium script this error is appeared.</p>\n<pre><code>WARNING: Unable to obtain driver using Selenium Manager: Error running command: [C:\\Users\\Acer\\AppData\\Local\\Temp\\selenium-manager15855651361320015355641543438297284\\selenium-manager.exe, --driver, chromedriver] Build info: version: '4.6.0', revision: '79f1c02ae20' System info: os.name: 'Windows 11'\nException in thread &quot;main&quot; java.lang.IllegalStateException: The path to the driver executable The path to the driver executable must be set by the webdriver.chrome.driver system property; for more information, see https://chromedriver.chromium.org/. The latest version can be downloaded from https://chromedriver.chromium.org/downloads\n    at org.openqa.selenium.internal.Require$StateChecker.nonNull(Require.java:314)\n    at org.openqa.selenium.remote.service.DriverService.findExecutable(DriverService.java:148)\n    at org.openqa.selenium.chrome.ChromeDriverService.access$000(ChromeDriverService.java:39)\n    at org.openqa.selenium.chrome.ChromeDriverService$Builder.findDefaultExecutable(ChromeDriverService.java:233)\n    at org.openqa.selenium.remote.service.DriverService$Builder.build(DriverService.java:450)\n    at org.openqa.selenium.chrome.ChromeDriverService.createDefaultService(ChromeDriverService.java:128)\n    at org.openqa.selenium.chrome.ChromeDriver.&lt;init&gt;(ChromeDriver.java:49)\n    at basics.Test1.main(Test1.java:10)\n</code></pre>\n"},{"tags":["java","visual-studio-code","cursor","execution","typing"],"comments":[{"owner":{"account_id":25311208,"reputation":7305,"user_id":19133920,"display_name":"JialeDu"},"score":0,"creation_date":1692255927,"post_id":76917866,"comment_id":135599151,"body_markdown":"What extensions do you have installed? Can you show your full interface and your user and workspace settings?","body":"What extensions do you have installed? Can you show your full interface and your user and workspace settings?"},{"owner":{"account_id":15396644,"reputation":25735,"user_id":11107541,"display_name":"starball"},"score":1,"creation_date":1692268576,"post_id":76917866,"comment_id":135601509,"body_markdown":"Welcome! Please copy and paste the output of the `Help: About` command (run in [the command palette](//code.visualstudio.com/docs/getstarted/userinterface#_command-palette)) into your question post. Does this happen when you reload VS Code with extensions disabled (use the `Developer: Reload With Extensions Disabled` command in the command palette)? If not, then do an [extension bisect](//code.visualstudio.com/blogs/2021/02/16/extension-bisect) to figure out what extension is causing it.","body":"Welcome! Please copy and paste the output of the <code>Help: About</code> command (run in <a href=\"//code.visualstudio.com/docs/getstarted/userinterface#_command-palette\" rel=\"nofollow noreferrer\">the command palette</a>) into your question post. Does this happen when you reload VS Code with extensions disabled (use the <code>Developer: Reload With Extensions Disabled</code> command in the command palette)? If not, then do an <a href=\"//code.visualstudio.com/blogs/2021/02/16/extension-bisect\" rel=\"nofollow noreferrer\">extension bisect</a> to figure out what extension is causing it."}],"answers":[{"tags":[],"owner":{"account_id":29233860,"reputation":35,"user_id":22396895,"display_name":"icyknight"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692252494,"creation_date":1692252494,"answer_id":76918867,"question_id":76917866,"body_markdown":"Check to see if you have the [VIM](https://marketplace.visualstudio.com/items?itemName=vscodevim.vim) extension installed, this extension has reportedly been known to cause the &#39;overtype&#39; symptom that your image displays.\r\n\r\nSee [this](https://stackoverflow.com/questions/67230920/vs-code-cursor-getting-in-insert-mode) answer or [even here](https://stackoverflow.com/questions/67981861/vs-code-cursor-keep-going-into-overtype-mode/72617523#72617523). \r\n\r\nIn both of these references, the solution has been to uninstall the extension.","title":"My cursor isn&#39;t functioning properly on VS Code. I&#39;m unable to type anything, and I&#39;m using a MacBook Air","body":"<p>Check to see if you have the <a href=\"https://marketplace.visualstudio.com/items?itemName=vscodevim.vim\" rel=\"nofollow noreferrer\">VIM</a> extension installed, this extension has reportedly been known to cause the 'overtype' symptom that your image displays.</p>\n<p>See <a href=\"https://stackoverflow.com/questions/67230920/vs-code-cursor-getting-in-insert-mode\">this</a> answer or <a href=\"https://stackoverflow.com/questions/67981861/vs-code-cursor-keep-going-into-overtype-mode/72617523#72617523\">even here</a>.</p>\n<p>In both of these references, the solution has been to uninstall the extension.</p>\n"}],"owner":{"account_id":29000725,"reputation":1,"user_id":22214313,"display_name":"Anusha Venkat"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":135,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1692264218,"creation_date":1692233874,"question_id":76917866,"body_markdown":"My cursor isn&#39;t functioning properly on VS Code and I&#39;m not able to type anything. Can someone help? For context, I&#39;m using a MacBook Air. \r\n\r\n(https://i.stack.imgur.com/jipTh.png)\r\n\r\nI tried restarting VS Code and it&#39;s still the same, I haven&#39;t faced this problem before so I&#39;m not quite sure how to approach it. ","title":"My cursor isn&#39;t functioning properly on VS Code. I&#39;m unable to type anything, and I&#39;m using a MacBook Air","body":"<p>My cursor isn't functioning properly on VS Code and I'm not able to type anything. Can someone help? For context, I'm using a MacBook Air.</p>\n<p>(<a href=\"https://i.stack.imgur.com/jipTh.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/jipTh.png</a>)</p>\n<p>I tried restarting VS Code and it's still the same, I haven't faced this problem before so I'm not quite sure how to approach it.</p>\n"},{"tags":["java","http","gwt","arrays"],"comments":[{"owner":{"account_id":281613,"reputation":1590,"user_id":578023,"accept_rate":96,"display_name":"That Realty Programmer Guy"},"score":0,"creation_date":1594417635,"post_id":3061273,"comment_id":111130182,"body_markdown":"really, HTML is better at illuminating this. `&lt;input name=&quot;user[name]&quot; /&gt; &lt;input name=&quot;user[email]&quot; /&gt;` inside of a `&lt;form&gt;` container knows exactly how to submit by default in all browsers. inputs will become `user[name]=SOMETEXT&amp;user[email]=SOME@TEXT.com --- it is the host application which is required to handle decoding back into an array","body":"really, HTML is better at illuminating this. <code>&lt;input name=&quot;user[name]&quot; &#47;&gt; &lt;input name=&quot;user[email]&quot; &#47;&gt;</code> inside of a <code>&lt;form&gt;</code> container knows exactly how to submit by default in all browsers. inputs will become `user[name]=SOMETEXT&amp;user[email]=SOME@TEXT.com --- it is the host application which is required to handle decoding back into an array"}],"answers":[{"tags":[],"owner":{"account_id":52822,"reputation":1088970,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"down_vote_count":7,"up_vote_count":192,"is_accepted":true,"score":185,"last_activity_date":1439470854,"creation_date":1276774833,"answer_id":3061292,"question_id":3061273,"body_markdown":"That depends on what the target server accepts. There is no definitive standard for this. See also a.o. [Wikipedia: Query string][1]:\r\n\r\n&gt; While there is no definitive standard, most web frameworks allow multiple values to be associated with a single field (e.g. `field1=value1&amp;field1=value2&amp;field2=value3`).&lt;sup&gt;[\\[4\\]][2][\\[5\\]][3]&lt;/sup&gt;\r\n\r\nGenerally, when the target server uses a **strong typed** programming language like Java ([Servlet][4]), then you can just send them as multiple parameters with the same name. The API usually offers a dedicated method to obtain multiple parameter values as an array.\r\n\r\n    foo=value1&amp;foo=value2&amp;foo=value3\r\n\r\n&lt;!-- --&gt;\r\n\r\n    String[] foo = request.getParameterValues(&quot;foo&quot;); // [value1, value2, value3]\r\n\r\nThe `request.getParameter(&quot;foo&quot;)` will also work on it, but it&#39;ll return only the first value.\r\n\r\n    String foo = request.getParameter(&quot;foo&quot;); // value1\r\n\r\nAnd, when the target server uses a **weak typed** language like PHP or RoR, then you need to suffix the parameter name with braces `[]` in order to trigger the language to return an array of values instead of a single value.\r\n\r\n    foo[]=value1&amp;foo[]=value2&amp;foo[]=value3\r\n\r\n&lt;!-- --&gt;\r\n\r\n    $foo = $_GET[&quot;foo&quot;]; // [value1, value2, value3]\r\n    echo is_array($foo); // true\r\n\r\nIn case you still use `foo=value1&amp;foo=value2&amp;foo=value3`, then it&#39;ll return only the first value.\r\n\r\n    $foo = $_GET[&quot;foo&quot;]; // value1\r\n    echo is_array($foo); // false\r\n\r\nDo note that when you send `foo[]=value1&amp;foo[]=value2&amp;foo[]=value3` to a Java Servlet, then you can still obtain them, but you&#39;d need to use the exact parameter name including the braces.\r\n\r\n    String[] foo = request.getParameterValues(&quot;foo[]&quot;); // [value1, value2, value3]\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Query_string#Web_forms\r\n  [2]: http://en.wikipedia.org/wiki/Query_string#cite_note-4\r\n  [3]: http://en.wikipedia.org/wiki/Query_string#cite_note-5\r\n  [4]: https://stackoverflow.com/tags/servlets/info","title":"Send an Array with an HTTP Get","body":"<p>That depends on what the target server accepts. There is no definitive standard for this. See also a.o. <a href=\"http://en.wikipedia.org/wiki/Query_string#Web_forms\" rel=\"noreferrer\">Wikipedia: Query string</a>:</p>\n\n<blockquote>\n  <p>While there is no definitive standard, most web frameworks allow multiple values to be associated with a single field (e.g. <code>field1=value1&amp;field1=value2&amp;field2=value3</code>).<sup><a href=\"http://en.wikipedia.org/wiki/Query_string#cite_note-4\" rel=\"noreferrer\">[4]</a><a href=\"http://en.wikipedia.org/wiki/Query_string#cite_note-5\" rel=\"noreferrer\">[5]</a></sup></p>\n</blockquote>\n\n<p>Generally, when the target server uses a <strong>strong typed</strong> programming language like Java (<a href=\"https://stackoverflow.com/tags/servlets/info\">Servlet</a>), then you can just send them as multiple parameters with the same name. The API usually offers a dedicated method to obtain multiple parameter values as an array.</p>\n\n<pre><code>foo=value1&amp;foo=value2&amp;foo=value3\n</code></pre>\n\n\n\n<pre><code>String[] foo = request.getParameterValues(\"foo\"); // [value1, value2, value3]\n</code></pre>\n\n<p>The <code>request.getParameter(\"foo\")</code> will also work on it, but it'll return only the first value.</p>\n\n<pre><code>String foo = request.getParameter(\"foo\"); // value1\n</code></pre>\n\n<p>And, when the target server uses a <strong>weak typed</strong> language like PHP or RoR, then you need to suffix the parameter name with braces <code>[]</code> in order to trigger the language to return an array of values instead of a single value.</p>\n\n<pre><code>foo[]=value1&amp;foo[]=value2&amp;foo[]=value3\n</code></pre>\n\n\n\n<pre><code>$foo = $_GET[\"foo\"]; // [value1, value2, value3]\necho is_array($foo); // true\n</code></pre>\n\n<p>In case you still use <code>foo=value1&amp;foo=value2&amp;foo=value3</code>, then it'll return only the first value.</p>\n\n<pre><code>$foo = $_GET[\"foo\"]; // value1\necho is_array($foo); // false\n</code></pre>\n\n<p>Do note that when you send <code>foo[]=value1&amp;foo[]=value2&amp;foo[]=value3</code> to a Java Servlet, then you can still obtain them, but you'd need to use the exact parameter name including the braces.</p>\n\n<pre><code>String[] foo = request.getParameterValues(\"foo[]\"); // [value1, value2, value3]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2170374,"reputation":2568,"user_id":1922543,"accept_rate":70,"display_name":"David Roman"},"down_vote_count":3,"up_vote_count":221,"is_accepted":false,"score":218,"last_activity_date":1435703835,"creation_date":1356133113,"answer_id":13998578,"question_id":3061273,"body_markdown":"I know this post is really old, but I have to reply because although BalusC&#39;s answer is marked as correct, it&#39;s not completely correct.\r\n\r\nYou have to write the query adding &quot;[]&quot; to foo like this:\r\n\r\n    foo[]=val1&amp;foo[]=val2&amp;foo[]=val3","title":"Send an Array with an HTTP Get","body":"<p>I know this post is really old, but I have to reply because although BalusC's answer is marked as correct, it's not completely correct.</p>\n\n<p>You have to write the query adding \"[]\" to foo like this:</p>\n\n<pre><code>foo[]=val1&amp;foo[]=val2&amp;foo[]=val3\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16132128,"reputation":11,"user_id":11645474,"display_name":"Nail Gumerov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692263963,"creation_date":1692254408,"answer_id":76919021,"question_id":3061273,"body_markdown":"Go to .get() end point - via HTTP GET request. And make there a request.\r\nPut data in some render as a properties and render them in some component.\r\n","title":"Send an Array with an HTTP Get","body":"<p>Go to .get() end point - via HTTP GET request. And make there a request.\nPut data in some render as a properties and render them in some component.</p>\n"}],"owner":{"account_id":145121,"reputation":2029,"user_id":354696,"accept_rate":64,"display_name":"Matteo"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":201614,"favorite_count":0,"down_vote_count":0,"up_vote_count":128,"accepted_answer_id":3061292,"answer_count":3,"score":128,"last_activity_date":1692263963,"creation_date":1276774661,"question_id":3061273,"body_markdown":"How can i send an Array with a HTTP Get request?\r\n\r\nI&#39;m Using GWT client to send the request.","title":"Send an Array with an HTTP Get","body":"<p>How can i send an Array with a HTTP Get request?</p>\n\n<p>I'm Using GWT client to send the request.</p>\n"},{"tags":["java","spring-boot","spring-security","oauth-2.0","spring-webflux"],"answers":[{"tags":[],"owner":{"account_id":4192655,"reputation":341,"user_id":3434906,"display_name":"Dec0de"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692214683,"creation_date":1692214683,"answer_id":76916573,"question_id":76915361,"body_markdown":"I was need to use &quot;@EnableReactiveMethodSecurity()&quot; of Reactive stack.\r\nSuch inattention. Shame on me.","title":"Spring WebFlux Security + KeyCloak (oAuth) = unable to get user&#39;s permissions","body":"<p>I was need to use &quot;@EnableReactiveMethodSecurity()&quot; of Reactive stack.\nSuch inattention. Shame on me.</p>\n"},{"tags":[],"owner":{"account_id":308139,"reputation":8199,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1692263539,"creation_date":1692234350,"answer_id":76917885,"question_id":76915361,"body_markdown":"You should not have anything related to login in a resource server filter chain. Login is the responsibility of OAuth2 clients, not of resource servers. You might get some OAuth2 background from [my tutorials intro][1].\r\n\r\nTo configure a reactive resource server with Role Based Access Control and **any** OpenID Provider (Keycloak included, of course), things can be very simple using [&quot;my&quot; starter][2] in addition to official one:\r\n```xml\r\n&lt;dependency&gt;\r\n\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;spring-boot-starter-webflux&lt;/artifactId&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;spring-boot-starter-oauth2-resource-server&lt;/artifactId&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n\t&lt;groupId&gt;com.c4-soft.springaddons&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;spring-addons-starter-oidc&lt;/artifactId&gt;\r\n\t&lt;version&gt;7.1.1&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n```java\r\n@EnableReactiveMethodSecurity\r\n@Configuration\r\npublic class SecurityConfig {\r\n}\r\n```\r\n```yaml\r\nscheme: http\r\norigins: ${scheme}://localhost:4200\r\nkeycloak-port: 8442\r\nkeycloak-issuer: ${scheme}://localhost:${keycloak-port}/realms/master\r\n\r\ncom:\r\n  c4-soft:\r\n    springaddons:\r\n      oidc:\r\n        ops:\r\n        - iss: ${keycloak-issuer}\r\n          username-claim: preferred_username\r\n          authorities:\r\n          - path: $.realm_access.roles\r\n          - path: $.resource_access.*.roles\r\n        resourceserver:\r\n          permit-all:\r\n          - &quot;/public/**&quot;\r\n          - &quot;/actuator/health/readiness&quot;\r\n          - &quot;/actuator/health/liveness&quot;\r\n          cors:\r\n          - path: /**\r\n            allowed-origin-patterns: ${origins}\r\n\r\nserver:\r\n  error:\r\n    include-message: always\r\n  ssl:\r\n    enabled: false\r\n\r\n---\r\nscheme: https\r\nkeycloak-port: 8443\r\n\r\nserver:\r\n  ssl:\r\n    enabled: true\r\n\r\nspring:\r\n  config:\r\n    activate:\r\n      on-profile: ssl\r\n```\r\n\r\n\r\n  [1]: https://github.com/ch4mpy/spring-addons/tree/master/samples/tutorials#oauth_essentials\r\n  [2]: https://repo1.maven.org/maven2/com/c4-soft/springaddons/spring-addons-starter-oidc/","title":"Spring WebFlux Security + KeyCloak (oAuth) = unable to get user&#39;s permissions","body":"<p>You should not have anything related to login in a resource server filter chain. Login is the responsibility of OAuth2 clients, not of resource servers. You might get some OAuth2 background from <a href=\"https://github.com/ch4mpy/spring-addons/tree/master/samples/tutorials#oauth_essentials\" rel=\"nofollow noreferrer\">my tutorials intro</a>.</p>\n<p>To configure a reactive resource server with Role Based Access Control and <strong>any</strong> OpenID Provider (Keycloak included, of course), things can be very simple using <a href=\"https://repo1.maven.org/maven2/com/c4-soft/springaddons/spring-addons-starter-oidc/\" rel=\"nofollow noreferrer\">&quot;my&quot; starter</a> in addition to official one:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-webflux&lt;/artifactId&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-oauth2-resource-server&lt;/artifactId&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;com.c4-soft.springaddons&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-addons-starter-oidc&lt;/artifactId&gt;\n    &lt;version&gt;7.1.1&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@EnableReactiveMethodSecurity\n@Configuration\npublic class SecurityConfig {\n}\n</code></pre>\n<pre class=\"lang-yaml prettyprint-override\"><code>scheme: http\norigins: ${scheme}://localhost:4200\nkeycloak-port: 8442\nkeycloak-issuer: ${scheme}://localhost:${keycloak-port}/realms/master\n\ncom:\n  c4-soft:\n    springaddons:\n      oidc:\n        ops:\n        - iss: ${keycloak-issuer}\n          username-claim: preferred_username\n          authorities:\n          - path: $.realm_access.roles\n          - path: $.resource_access.*.roles\n        resourceserver:\n          permit-all:\n          - &quot;/public/**&quot;\n          - &quot;/actuator/health/readiness&quot;\n          - &quot;/actuator/health/liveness&quot;\n          cors:\n          - path: /**\n            allowed-origin-patterns: ${origins}\n\nserver:\n  error:\n    include-message: always\n  ssl:\n    enabled: false\n\n---\nscheme: https\nkeycloak-port: 8443\n\nserver:\n  ssl:\n    enabled: true\n\nspring:\n  config:\n    activate:\n      on-profile: ssl\n</code></pre>\n"}],"owner":{"account_id":4192655,"reputation":341,"user_id":3434906,"display_name":"Dec0de"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":200,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1692263539,"creation_date":1692202350,"question_id":76915361,"body_markdown":"My goal is to authorise and authenticate User from Keycloak token using Spring Web Flux security. \r\nAs a result I wanna be able to access my microservice&#39;s secured endpoints based on User&#39;s role, which is parsed from the token.\r\n\r\n**The problem is**: I can&#39;t pass controller&#39;s `PreAuthorize` security check using Keycloak&#39;s token because of `&quot;o.s.s.w.s.a.AuthenticationWebFilter: Authentication failed: An Authentication object was not found in the SecurityContext&quot;` error.\r\n\r\nSo I able to access the resources in my app while the token is valid, but since I secure my methods with `PreAuthorize`, it starts to give HTTP 401. I guess I missed smth in the config, so Authentication object is not being populated in my SecurityContext.\r\n\r\nWhat am I missing? \r\n\r\n\r\nSpring WebFlux Security main configuration:\r\n\r\n```\r\n@Configuration\r\n@EnableWebFluxSecurity\r\n@EnableMethodSecurity(securedEnabled = true, jsr250Enabled = true)\r\npublic class SecurityConfig {\r\n\r\n    @Bean\r\n    public SecurityWebFilterChain securityWebFilterChain(ServerHttpSecurity http) {\r\n        http\r\n            .csrf()\r\n                .disable()\r\n            .authorizeExchange()\r\n                .pathMatchers(&quot;/login&quot;).permitAll()\r\n            .anyExchange()\r\n                .authenticated()\r\n                .and()\r\n            .oauth2ResourceServer()  \r\n                .jwt()\r\n                .jwtAuthenticationConverter(keycloakJwtAuthConverter());\r\n        return http.build();\r\n    }\r\n\r\n    @Bean\r\n    public KeycloakJwtAuthConverter keycloakJwtAuthConverter() {\r\n        return new KeycloakJwtAuthConverter();\r\n    }\r\n\r\n``` \r\nConverter from KeyCloak&#39;s JWT format.\r\nJust placed a placeholder with predefined roles here for a while and checked that it&#39;s 100% being invoked in the debugger and produces the data.\r\n``` \r\npublic class KeycloakJwtAuthConverter\r\n        implements Converter&lt;Jwt, Mono&lt;AbstractAuthenticationToken&gt;&gt; {\r\n\r\n    @Override\r\n    public Mono&lt;AbstractAuthenticationToken&gt; convert(Jwt jwt) {\r\n\r\n        Collection&lt;GrantedAuthority&gt; authorities = new ArrayList&lt;&gt;();\r\n        authorities.add(new SimpleGrantedAuthority(&quot;ROLE_USER&quot;));\r\n        authorities.add(new SimpleGrantedAuthority(&quot;USER&quot;));\r\n        var newToken = new JwtAuthenticationToken(jwt, authorities, &quot;myuser&quot;);\r\n\r\n        return Mono.just(newToken);\r\n    }\r\n}\r\n\r\n``` \r\nController&#39;s code:\r\n``` \r\n@RestController\r\n@RequestMapping(&quot;/&quot;)\r\npublic class IndexController {\r\n\r\n    @PreAuthorize(&quot;hasAnyAuthority(&#39;ROLE_USER&#39;)&quot;)\r\n    @GetMapping(&quot;/test&quot;)\r\n    public Mono&lt;String&gt; greet(Mono&lt;Principal&gt; principal) {\r\n        return principal\r\n                .map(Principal::getName)\r\n                .map(name -&gt; String.format(&quot;Test, %s&quot;, name));\r\n    }\r\n}\r\n``` \r\nApplication.yaml:\r\n``` \r\nspring:\r\n  security:\r\n    oauth2:\r\n      client:\r\n        provider: \r\n          keycloak:\r\n            issuer-uri: http://localhost:3000/realms/msapp\r\n            user-name-attribute: name\r\n        registration:\r\n          keycloak:\r\n            client-id: msapp\r\n            authorization-grant-type: authorization_code\r\n            scope: openid\r\n      resourceserver:\r\n        jwt:\r\n          issuer-uri: http://localhost:3000/realms/msapp\r\n          jwks-set-uri: ${spring.security.oauth2.resourceserver.jwt.issuer-uri}/protocol/openid-connect/certs\r\n``` \r\n\r\n\r\n\r\n\r\n","title":"Spring WebFlux Security + KeyCloak (oAuth) = unable to get user&#39;s permissions","body":"<p>My goal is to authorise and authenticate User from Keycloak token using Spring Web Flux security.\nAs a result I wanna be able to access my microservice's secured endpoints based on User's role, which is parsed from the token.</p>\n<p><strong>The problem is</strong>: I can't pass controller's <code>PreAuthorize</code> security check using Keycloak's token because of <code>&quot;o.s.s.w.s.a.AuthenticationWebFilter: Authentication failed: An Authentication object was not found in the SecurityContext&quot;</code> error.</p>\n<p>So I able to access the resources in my app while the token is valid, but since I secure my methods with <code>PreAuthorize</code>, it starts to give HTTP 401. I guess I missed smth in the config, so Authentication object is not being populated in my SecurityContext.</p>\n<p>What am I missing?</p>\n<p>Spring WebFlux Security main configuration:</p>\n<pre><code>@Configuration\n@EnableWebFluxSecurity\n@EnableMethodSecurity(securedEnabled = true, jsr250Enabled = true)\npublic class SecurityConfig {\n\n    @Bean\n    public SecurityWebFilterChain securityWebFilterChain(ServerHttpSecurity http) {\n        http\n            .csrf()\n                .disable()\n            .authorizeExchange()\n                .pathMatchers(&quot;/login&quot;).permitAll()\n            .anyExchange()\n                .authenticated()\n                .and()\n            .oauth2ResourceServer()  \n                .jwt()\n                .jwtAuthenticationConverter(keycloakJwtAuthConverter());\n        return http.build();\n    }\n\n    @Bean\n    public KeycloakJwtAuthConverter keycloakJwtAuthConverter() {\n        return new KeycloakJwtAuthConverter();\n    }\n\n</code></pre>\n<p>Converter from KeyCloak's JWT format.\nJust placed a placeholder with predefined roles here for a while and checked that it's 100% being invoked in the debugger and produces the data.</p>\n<pre><code>public class KeycloakJwtAuthConverter\n        implements Converter&lt;Jwt, Mono&lt;AbstractAuthenticationToken&gt;&gt; {\n\n    @Override\n    public Mono&lt;AbstractAuthenticationToken&gt; convert(Jwt jwt) {\n\n        Collection&lt;GrantedAuthority&gt; authorities = new ArrayList&lt;&gt;();\n        authorities.add(new SimpleGrantedAuthority(&quot;ROLE_USER&quot;));\n        authorities.add(new SimpleGrantedAuthority(&quot;USER&quot;));\n        var newToken = new JwtAuthenticationToken(jwt, authorities, &quot;myuser&quot;);\n\n        return Mono.just(newToken);\n    }\n}\n\n</code></pre>\n<p>Controller's code:</p>\n<pre><code>@RestController\n@RequestMapping(&quot;/&quot;)\npublic class IndexController {\n\n    @PreAuthorize(&quot;hasAnyAuthority('ROLE_USER')&quot;)\n    @GetMapping(&quot;/test&quot;)\n    public Mono&lt;String&gt; greet(Mono&lt;Principal&gt; principal) {\n        return principal\n                .map(Principal::getName)\n                .map(name -&gt; String.format(&quot;Test, %s&quot;, name));\n    }\n}\n</code></pre>\n<p>Application.yaml:</p>\n<pre><code>spring:\n  security:\n    oauth2:\n      client:\n        provider: \n          keycloak:\n            issuer-uri: http://localhost:3000/realms/msapp\n            user-name-attribute: name\n        registration:\n          keycloak:\n            client-id: msapp\n            authorization-grant-type: authorization_code\n            scope: openid\n      resourceserver:\n        jwt:\n          issuer-uri: http://localhost:3000/realms/msapp\n          jwks-set-uri: ${spring.security.oauth2.resourceserver.jwt.issuer-uri}/protocol/openid-connect/certs\n</code></pre>\n"},{"tags":["java","svg","batik"],"owner":{"account_id":1625088,"reputation":1,"user_id":1500803,"display_name":"wadsok"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692263274,"creation_date":1692263274,"question_id":76920027,"body_markdown":"When generating svg with batik some elements are put in defs and reused.\r\nBut in my case i have many element groups I could reuse that are actually other svg images drawn on screen eg:\r\n\r\n```\r\n    &lt;g fill=&quot;url(#b3)&quot; font-family=&quot;&#39;Segoe UI&#39;&quot; stroke=&quot;url(#b3)&quot; text-rendering=&quot;geometricPrecision&quot; transform=&quot;translate(56,24) matrix(0.6667,0,0,0.6667,0,0)&quot;&gt;\r\n      &lt;rect clip-path=&quot;url(#b4)&quot; height=&quot;17&quot; stroke=&quot;none&quot; width=&quot;21&quot; x=&quot;1.5&quot; y=&quot;3.5&quot;/&gt;\r\n    &lt;/g&gt;\r\n&lt;...&gt;\r\n    &lt;g fill=&quot;rgb(66,66,66)&quot; font-family=&quot;&#39;Segoe UI&#39;&quot; stroke=&quot;rgb(66,66,66)&quot; stroke-linecap=&quot;butt&quot; text-rendering=&quot;geometricPrecision&quot; transform=&quot;matrix(0.6667,0,0,0.6667,56,24)&quot;&gt;\r\n      &lt;line clip-path=&quot;url(#b4)&quot; fill=&quot;none&quot; x1=&quot;22.5&quot; x2=&quot;1.5&quot; y1=&quot;17.5&quot; y2=&quot;17.5&quot;/&gt;\r\n    &lt;/g&gt;\r\n```\r\n\r\nI would like something like that defined in defs and then reused with:\r\n\r\n\r\n```\r\n &lt;use xlink:href=&quot;#cube&quot; transform=&quot;translate(56,43) matrix(0.6667,0,0,0.6667,0,0)&quot;/&gt;\r\n```\r\n\r\nNote that original group mixes matrix and matrix+translate, in my experiments I can do same or merge both into matrix for whole group in &lt;use&gt;.\r\n\r\n\r\nAny way to do that with batik, or will I need to write my own xml parser+optimizer?\r\n\r\n\r\n\r\nTried reading and debugging through batik but could not find a way to reuse such groups.","title":"Reuse element groups (that are other svg images) in batik generated svg","body":"<p>When generating svg with batik some elements are put in defs and reused.\nBut in my case i have many element groups I could reuse that are actually other svg images drawn on screen eg:</p>\n<pre><code>    &lt;g fill=&quot;url(#b3)&quot; font-family=&quot;'Segoe UI'&quot; stroke=&quot;url(#b3)&quot; text-rendering=&quot;geometricPrecision&quot; transform=&quot;translate(56,24) matrix(0.6667,0,0,0.6667,0,0)&quot;&gt;\n      &lt;rect clip-path=&quot;url(#b4)&quot; height=&quot;17&quot; stroke=&quot;none&quot; width=&quot;21&quot; x=&quot;1.5&quot; y=&quot;3.5&quot;/&gt;\n    &lt;/g&gt;\n&lt;...&gt;\n    &lt;g fill=&quot;rgb(66,66,66)&quot; font-family=&quot;'Segoe UI'&quot; stroke=&quot;rgb(66,66,66)&quot; stroke-linecap=&quot;butt&quot; text-rendering=&quot;geometricPrecision&quot; transform=&quot;matrix(0.6667,0,0,0.6667,56,24)&quot;&gt;\n      &lt;line clip-path=&quot;url(#b4)&quot; fill=&quot;none&quot; x1=&quot;22.5&quot; x2=&quot;1.5&quot; y1=&quot;17.5&quot; y2=&quot;17.5&quot;/&gt;\n    &lt;/g&gt;\n</code></pre>\n<p>I would like something like that defined in defs and then reused with:</p>\n<pre><code> &lt;use xlink:href=&quot;#cube&quot; transform=&quot;translate(56,43) matrix(0.6667,0,0,0.6667,0,0)&quot;/&gt;\n</code></pre>\n<p>Note that original group mixes matrix and matrix+translate, in my experiments I can do same or merge both into matrix for whole group in .</p>\n<p>Any way to do that with batik, or will I need to write my own xml parser+optimizer?</p>\n<p>Tried reading and debugging through batik but could not find a way to reuse such groups.</p>\n"},{"tags":["java","spring","spring-boot","heroku","heroku-postgres"],"answers":[{"tags":[],"owner":{"account_id":7582437,"reputation":5222,"user_id":5752737,"accept_rate":100,"display_name":"geco17"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1639591063,"creation_date":1639502489,"answer_id":70353058,"question_id":70352949,"body_markdown":"The exception is telling you that the bean can&#39;t be created because you haven&#39;t defined the property `spring.datasource.url`.\r\n\r\nIf you&#39;re using a yml configuration, (for example in src/main/resources you have the file application.yml), open it and add the datasource property under &quot;spring&quot;:\r\n\r\n    spring:\r\n      datasource:\r\n        url: # db connection url here\r\n\r\nIf you&#39;re using a properties file the format changes to \r\n\r\n    spring.datasource.url= # db connection url here","title":"Error creating bean with name &#39;dataSourceScriptDatabaseInitializer&#39; defined in class path resource","body":"<p>The exception is telling you that the bean can't be created because you haven't defined the property <code>spring.datasource.url</code>.</p>\n<p>If you're using a yml configuration, (for example in src/main/resources you have the file application.yml), open it and add the datasource property under &quot;spring&quot;:</p>\n<pre><code>spring:\n  datasource:\n    url: # db connection url here\n</code></pre>\n<p>If you're using a properties file the format changes to</p>\n<pre><code>spring.datasource.url= # db connection url here\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16458261,"reputation":1,"user_id":19486205,"display_name":"Filip"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660392885,"creation_date":1660392885,"answer_id":73344179,"question_id":70352949,"body_markdown":"I got the same problem. Even though my configuration was correct:\r\n```\r\nspring.datasource.url=jdbc:postgresql://localhost:5432/&lt;your_data_base_name&gt;\r\n```\r\nI was missing maven dependency:\r\n```\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.postgresql&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n```\r\n\r\n","title":"Error creating bean with name &#39;dataSourceScriptDatabaseInitializer&#39; defined in class path resource","body":"<p>I got the same problem. Even though my configuration was correct:</p>\n<pre><code>spring.datasource.url=jdbc:postgresql://localhost:5432/&lt;your_data_base_name&gt;\n</code></pre>\n<p>I was missing maven dependency:</p>\n<pre><code>        &lt;dependency&gt;\n            &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":22102670,"reputation":21,"user_id":16358876,"display_name":"Ahmad AlSabbagh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":16505,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1692263215,"creation_date":1639502045,"question_id":70352949,"body_markdown":"Hello everyone I&#39;m facing issue with running  heroku server locally I believe there&#39;s more then one error but I don&#39;t know what is the main issue. I have add procfile and the database  configuration as provided bellow in the code.\r\n\r\n``` \r\n6:43:37 PM web.1 |  ( ( )\\___ | &#39;_ | &#39;_| | &#39;_ \\/ _` | \\ \\ \\ \\\r\n6:43:37 PM web.1 |   \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\r\n6:43:37 PM web.1 |    &#39;  |____| .__|_| |_|_| |_\\__, | / / / /\r\n6:43:37 PM web.1 |   :: Spring Boot ::                (v2.6.1)\r\n6:43:37 PM web.1 |  2021-12-14 18:43:37.764  INFO 269 --- [           main] c.discount.discount.DiscountApplication  : Starting DiscountApplication using Java 11.0.11 on Sabbagh99 with PID 269 (/mnt/c/Users/ad199/IdeaProjects/Discounts-Web-Api-old/build/libs/discount-0.0.1-SNAPSHOT.jar started by sabbagh99 in /mnt/c/Users/ad199/IdeaProjects/Discounts-Web-Api-old)\r\n6:43:37 PM web.1 |  2021-12-14 18:43:37.777  INFO 269 --- [           main] c.discount.discount.DiscountApplication  : No active profile set, falling back to default profiles: default\r\n6:43:39 PM web.1 |  2021-12-14 18:43:39.864  INFO 269 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.\r\n6:43:40 PM web.1 |  2021-12-14 18:43:40.022  INFO 269 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 123 ms. Found 1 JPA repository interfaces.\r\n6:43:41 PM web.1 |  2021-12-14 18:43:41.697  INFO 269 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)\r\n6:43:41 PM web.1 |  2021-12-14 18:43:41.727  INFO 269 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\r\n6:43:41 PM web.1 |  2021-12-14 18:43:41.727  INFO 269 --- [           main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.55]\r\n6:43:41 PM web.1 |  2021-12-14 18:43:41.981  INFO 269 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\r\n6:43:41 PM web.1 |  2021-12-14 18:43:41.981  INFO 269 --- [           main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3820 ms\r\n6:43:42 PM web.1 |  2021-12-14 18:43:42.202  WARN 269 --- [           main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;dataSourceScriptDatabaseInitializer&#39; defined in class path resource [org/springframework/boot/autoconfigure/sql/init/DataSourceInitializationConfiguration.class]: Unsatisfied dependency expressed through method &#39;dataSource\r\n6:43:42 PM web.1 |  &gt;  ScriptDatabaseInitializer&#39; parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;databaseConfig&#39;: Injection of autowired dependencies failed; nested exception is java.lang.IllegalArgumentException: Could not resolve placeholder &#39;spring.datasource.url&#39; in value &quot;${spring.datasource.url}&quot;\r\n6:43:42 PM web.1 |  2021-12-14 18:43:42.210  INFO 269 --- [           main] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]\r\n6:43:42 PM web.1 |  2021-12-14 18:43:42.262  INFO 269 --- [           main] ConditionEvaluationReportLoggingListener :\r\n6:43:42 PM web.1 |  Error starting ApplicationContext. To display the conditions report re-run your application with &#39;debug&#39; enabled.\r\n6:43:42 PM web.1 |  2021-12-14 18:43:42.346 ERROR 269 --- [           main] o.s.boot.SpringApplication               : Application run failed\r\n6:43:42 PM web.1 |  org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;dataSourceScriptDatabaseInitializer&#39; defined in class path resource [org/springframework/boot/autoconfigure/sql/init/DataSourceInitializationConfiguration.class]: Unsatisfied dependency expressed through method &#39;dataSourceScriptDatabaseInitializer&#39; parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;databaseConfig&#39;: Injection of aut\r\n6:43:42 PM web.1 |  &gt;  owired dependencies failed; nested exception is java.lang.IllegalArgumentException: Could not resolve placeholder &#39;spring.datasource.url&#39; in value &quot;${spring.datasource.url}&quot;\r\n6:43:42 PM web.1 |      at org.springframework.boot.SpringApplication.run(SpringApplication.java:1290) ~[spring-boot-2.6.1.jar!/:2.6.1]\r\n6:43:42 PM web.1 |      at com.discount.discount.DiscountApplication.main(DiscountApplication.java:10) ~[classes!/:na]\r\n6:43:42 PM web.1 |      at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:49) ~[discount-0.0.1-SNAPSHOT.jar:na]\r\n6:43:42 PM web.1 |      at org.springframework.boot.loader.Launcher.launch(Launcher.java:108) ~[discount-0.0.1-SNAPSHOT.jar:na]\r\n6:43:42 PM web.1 |      at org.springframework.boot.loader.Launcher.launch(Launcher.java:58) ~[discount-0.0.1-SNAPSHOT.jar:na]\r\n6:43:42 PM web.1 |      at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:88) ~[discount-0.0.1-SNAPSHOT.jar:na]\r\n6:43:42 PM web.1 |  Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;databaseConfig&#39;: Injection of autowired dependencies failed; nested exception is java.lang.IllegalArgumentException: Could not resolve placeholder &#39;spring.datasource.url&#39; in value &quot;${spring.datasource.url}&quot;\r\n6:43:42 PM web.1 |      at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:405) ~[spring-beans-5.3.13.jar!/:5.3.13]\r\n6:43:42 PM web.1 |      at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1431) ~[spring-beans-5.3.13.jar!/:5.3.13]\r\n6:43:42 PM web.1 |  Caused by: java.lang.IllegalArgumentException: Could not resolve placeholder &#39;spring.datasource.url&#39; in value &quot;${spring.datasource.url}&quot;\r\n6:43:42 PM web.1 |      at org.springframework.util.PropertyPlaceholderHelper.parseStringValue(PropertyPlaceholderHelper.java:180) ~[spring-core-5.3.13.jar!/:5.3.13]\r\n```\r\n\r\n** and here&#39;s my files : **\r\n\r\nGradle:\r\n ```\r\nplugins {\r\n\tid &#39;org.springframework.boot&#39; version &#39;2.6.1&#39;\r\n\tid &#39;io.spring.dependency-management&#39; version &#39;1.0.11.RELEASE&#39;\r\n\tid &#39;java&#39;\r\n}\r\n\r\ngroup = &#39;com.discount&#39;\r\nversion = &#39;0.0.1-SNAPSHOT&#39;\r\nsourceCompatibility = &#39;1.8&#39;\r\n\r\nrepositories {\r\n\tmavenCentral()\r\n}\r\n\r\n\r\ndependencies {\r\n\timplementation &#39;org.springframework.boot:spring-boot-starter-web&#39;\r\n\ttestImplementation &#39;org.springframework.boot:spring-boot-starter-test&#39;\r\n\timplementation group: &#39;javax.persistence&#39;, name: &#39;javax.persistence-api&#39;, version: &#39;2.2&#39;\r\n\timplementation group: &#39;org.springframework.boot&#39;, name: &#39;spring-boot-starter-jdbc&#39;, version: &#39;2.6.0&#39;\r\n\timplementation group: &#39;org.postgresql&#39;, name: &#39;postgresql&#39;, version: &#39;42.3.1&#39;\r\n\r\n\r\n}\r\n\r\ntest {\r\n\tuseJUnitPlatform()\r\n}\r\n ```\r\n\r\ndata base configuration class :\r\n\r\n```public class DatabaseConfig {\r\n\r\n    @Value(&quot;${spring.datasource.url}&quot;)\r\n    private String dbUrl;\r\n\r\n    @Bean\r\n    public DataSource dataSource() {\r\n        HikariConfig config = new HikariConfig();\r\n        config.setJdbcUrl(dbUrl);\r\n        return new HikariDataSource(config);\r\n    }\r\n}\r\n ```","title":"Error creating bean with name &#39;dataSourceScriptDatabaseInitializer&#39; defined in class path resource","body":"<p>Hello everyone I'm facing issue with running  heroku server locally I believe there's more then one error but I don't know what is the main issue. I have add procfile and the database  configuration as provided bellow in the code.</p>\n<pre><code>6:43:37 PM web.1 |  ( ( )\\___ | '_ | '_| | '_ \\/ _` | \\ \\ \\ \\\n6:43:37 PM web.1 |   \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\n6:43:37 PM web.1 |    '  |____| .__|_| |_|_| |_\\__, | / / / /\n6:43:37 PM web.1 |   :: Spring Boot ::                (v2.6.1)\n6:43:37 PM web.1 |  2021-12-14 18:43:37.764  INFO 269 --- [           main] c.discount.discount.DiscountApplication  : Starting DiscountApplication using Java 11.0.11 on Sabbagh99 with PID 269 (/mnt/c/Users/ad199/IdeaProjects/Discounts-Web-Api-old/build/libs/discount-0.0.1-SNAPSHOT.jar started by sabbagh99 in /mnt/c/Users/ad199/IdeaProjects/Discounts-Web-Api-old)\n6:43:37 PM web.1 |  2021-12-14 18:43:37.777  INFO 269 --- [           main] c.discount.discount.DiscountApplication  : No active profile set, falling back to default profiles: default\n6:43:39 PM web.1 |  2021-12-14 18:43:39.864  INFO 269 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.\n6:43:40 PM web.1 |  2021-12-14 18:43:40.022  INFO 269 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 123 ms. Found 1 JPA repository interfaces.\n6:43:41 PM web.1 |  2021-12-14 18:43:41.697  INFO 269 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)\n6:43:41 PM web.1 |  2021-12-14 18:43:41.727  INFO 269 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\n6:43:41 PM web.1 |  2021-12-14 18:43:41.727  INFO 269 --- [           main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.55]\n6:43:41 PM web.1 |  2021-12-14 18:43:41.981  INFO 269 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\n6:43:41 PM web.1 |  2021-12-14 18:43:41.981  INFO 269 --- [           main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3820 ms\n6:43:42 PM web.1 |  2021-12-14 18:43:42.202  WARN 269 --- [           main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'dataSourceScriptDatabaseInitializer' defined in class path resource [org/springframework/boot/autoconfigure/sql/init/DataSourceInitializationConfiguration.class]: Unsatisfied dependency expressed through method 'dataSource\n6:43:42 PM web.1 |  &gt;  ScriptDatabaseInitializer' parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'databaseConfig': Injection of autowired dependencies failed; nested exception is java.lang.IllegalArgumentException: Could not resolve placeholder 'spring.datasource.url' in value &quot;${spring.datasource.url}&quot;\n6:43:42 PM web.1 |  2021-12-14 18:43:42.210  INFO 269 --- [           main] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]\n6:43:42 PM web.1 |  2021-12-14 18:43:42.262  INFO 269 --- [           main] ConditionEvaluationReportLoggingListener :\n6:43:42 PM web.1 |  Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.\n6:43:42 PM web.1 |  2021-12-14 18:43:42.346 ERROR 269 --- [           main] o.s.boot.SpringApplication               : Application run failed\n6:43:42 PM web.1 |  org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'dataSourceScriptDatabaseInitializer' defined in class path resource [org/springframework/boot/autoconfigure/sql/init/DataSourceInitializationConfiguration.class]: Unsatisfied dependency expressed through method 'dataSourceScriptDatabaseInitializer' parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'databaseConfig': Injection of aut\n6:43:42 PM web.1 |  &gt;  owired dependencies failed; nested exception is java.lang.IllegalArgumentException: Could not resolve placeholder 'spring.datasource.url' in value &quot;${spring.datasource.url}&quot;\n6:43:42 PM web.1 |      at org.springframework.boot.SpringApplication.run(SpringApplication.java:1290) ~[spring-boot-2.6.1.jar!/:2.6.1]\n6:43:42 PM web.1 |      at com.discount.discount.DiscountApplication.main(DiscountApplication.java:10) ~[classes!/:na]\n6:43:42 PM web.1 |      at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:49) ~[discount-0.0.1-SNAPSHOT.jar:na]\n6:43:42 PM web.1 |      at org.springframework.boot.loader.Launcher.launch(Launcher.java:108) ~[discount-0.0.1-SNAPSHOT.jar:na]\n6:43:42 PM web.1 |      at org.springframework.boot.loader.Launcher.launch(Launcher.java:58) ~[discount-0.0.1-SNAPSHOT.jar:na]\n6:43:42 PM web.1 |      at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:88) ~[discount-0.0.1-SNAPSHOT.jar:na]\n6:43:42 PM web.1 |  Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'databaseConfig': Injection of autowired dependencies failed; nested exception is java.lang.IllegalArgumentException: Could not resolve placeholder 'spring.datasource.url' in value &quot;${spring.datasource.url}&quot;\n6:43:42 PM web.1 |      at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:405) ~[spring-beans-5.3.13.jar!/:5.3.13]\n6:43:42 PM web.1 |      at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1431) ~[spring-beans-5.3.13.jar!/:5.3.13]\n6:43:42 PM web.1 |  Caused by: java.lang.IllegalArgumentException: Could not resolve placeholder 'spring.datasource.url' in value &quot;${spring.datasource.url}&quot;\n6:43:42 PM web.1 |      at org.springframework.util.PropertyPlaceholderHelper.parseStringValue(PropertyPlaceholderHelper.java:180) ~[spring-core-5.3.13.jar!/:5.3.13]\n</code></pre>\n<p>** and here's my files : **</p>\n<p>Gradle:</p>\n<pre><code>plugins {\n   id 'org.springframework.boot' version '2.6.1'\n   id 'io.spring.dependency-management' version '1.0.11.RELEASE'\n   id 'java'\n}\n\ngroup = 'com.discount'\nversion = '0.0.1-SNAPSHOT'\nsourceCompatibility = '1.8'\n\nrepositories {\n   mavenCentral()\n}\n\n\ndependencies {\n   implementation 'org.springframework.boot:spring-boot-starter-web'\n   testImplementation 'org.springframework.boot:spring-boot-starter-test'\n   implementation group: 'javax.persistence', name: 'javax.persistence-api', version: '2.2'\n   implementation group: 'org.springframework.boot', name: 'spring-boot-starter-jdbc', version: '2.6.0'\n   implementation group: 'org.postgresql', name: 'postgresql', version: '42.3.1'\n\n\n}\n\ntest {\n   useJUnitPlatform()\n}\n</code></pre>\n<p>data base configuration class :</p>\n<pre><code>\n    @Value(&quot;${spring.datasource.url}&quot;)\n    private String dbUrl;\n\n    @Bean\n    public DataSource dataSource() {\n        HikariConfig config = new HikariConfig();\n        config.setJdbcUrl(dbUrl);\n        return new HikariDataSource(config);\n    }\n}\n</code></pre>\n"},{"tags":["java","ajax","jsp","drop-down-menu"],"comments":[{"owner":{"account_id":295230,"reputation":14501,"user_id":599528,"accept_rate":95,"display_name":"Jacob"},"score":0,"creation_date":1353828058,"post_id":13548985,"comment_id":18557577,"body_markdown":"Are you asking how to get the parameter from jsp page and use that value in the servlet sql query?","body":"Are you asking how to get the parameter from jsp page and use that value in the servlet sql query?"}],"answers":[{"tags":[],"owner":{"account_id":277416,"reputation":681848,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1353833469,"creation_date":1353833469,"answer_id":13549573,"question_id":13548985,"body_markdown":"There is a fundamental problem in the design: there is no way, with your current database design, to know which cities belong to which state.\r\n\r\nThe tables should look like that:\r\n\r\n    State\r\n        - id\r\n        - name\r\n\r\n    City\r\n        - id\r\n        - name\r\n        - state_id (foreign key to State.id)\r\n\r\nAnd the SQL query to get the cities of a given state ID would thus simply look like this:\r\n\r\n    select city.id, city.name from city\r\n    where city.state_id = ?\r\n    order by city.name\r\n","title":"Dynamic drop down list with AJAX and database","body":"<p>There is a fundamental problem in the design: there is no way, with your current database design, to know which cities belong to which state.</p>\n\n<p>The tables should look like that:</p>\n\n<pre><code>State\n    - id\n    - name\n\nCity\n    - id\n    - name\n    - state_id (foreign key to State.id)\n</code></pre>\n\n<p>And the SQL query to get the cities of a given state ID would thus simply look like this:</p>\n\n<pre><code>select city.id, city.name from city\nwhere city.state_id = ?\norder by city.name\n</code></pre>\n"}],"owner":{"account_id":127762,"reputation":1,"user_id":325145,"display_name":"Phronima"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":9899,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1692263215,"creation_date":1353826649,"question_id":13548985,"body_markdown":"I&#39;m hoping someone could guide me in the right direction. What I&#39;m trying to do is create two drop down lists where the second one (cities) depends on the first one (states). For example, when I click on Washington I want the second drop down menu to list Seattle and Walla Wallal; Georgia, Atlanta, Athens, etc. Ultimately my goal is the link several of the lists together (country -&gt; state -&gt; county -&gt; city) but if I can get these two working I think I could figure out how to do that. \r\n\r\nSo far I have two databases set up. Table CITY with cityid (primary) and cityname as columns and table STATE with stateid (primary) and statename as columns. \r\n\r\nCode as follows\r\n\r\ndropDown.jsp:\r\n\r\n    &lt;script&gt;\r\n    function createRequestObject(){\r\n        var req;\r\n        if(window.XMLHttpRequest){\r\n            //For Firefox, Safari, Opera\r\n            req = new XMLHttpRequest();\r\n        } else if(window.ActiveXObject){\r\n            //For IE 5+\r\n            req = new ActiveXObject(&quot;Microsoft.XMLHTTP&quot;);\r\n        } else {\r\n            //Error for an old browser\r\n            alert(&#39;Your browser is not IE 5 or higher, or Firefox or Safari or Opera&#39;);\r\n        }\r\n        return req;\r\n    }\r\n\r\n    //Make the XMLHttpRequest Object\r\n    var http = createRequestObject();\r\n    function sendRequest(method, url){\r\n        if(method == &#39;get&#39; || method == &#39;GET&#39;){\r\n            http.open(method,url);\r\n            http.onreadystatechange = handleResponse;\r\n            http.send(null);\r\n        }\r\n    }//end function send\r\n\r\n    function handleResponse(){\r\n        if(http.readyState == 4 &amp;&amp; http.status == 200){\r\n            var response = http.responseText;\r\n            if(response){\r\n                document.getElementById(&quot;second_dropdown_code&quot;).innerHTML = response;\r\n            }\r\n        }\r\n    }\r\n\r\n    function getCityDropdown() {\r\n        var w = document.myform.mylist.selectedIndex;\r\n        var country_id = document.myform.mylist.options[w].value;\r\n        sendRequest(&#39;GET&#39;,&#39;getCites.do?stateid=&#39; + state_id);\r\n    }\r\n    \r\n    &lt;/script&gt;\r\n    \r\n    &lt;FORM NAME=&quot;myform&quot;&gt;\r\n    &lt;SELECT NAME=&quot;state&quot; onChange=&quot;getCityDropdown()&quot;&gt;\r\n        &lt;OPTION VALUE=&quot;1&quot;&gt;Georgia&lt;/option&gt;\r\n        &lt;OPTION VALUE=&quot;2&quot;&gt;Washington&lt;/option&gt;\r\n    &lt;/SELECT&gt;\r\n    &lt;/FORM&gt;\r\n    &lt;div id=&quot;second_dropdown_code&quot;&gt;&lt;/div&gt;\r\n\r\ngetCities.java\r\n\r\n    protected void doGet(HttpServletRequest request, HttpServletResponse response)\r\n            throws ServletException, IOException {\r\n        PrintWriter out = response.getWriter();\r\n        try {\r\n            processRequest(request, response);\r\n            \r\n            String sql = &quot;select * from CITY&quot;;\r\n            Connection connection = datasource.getConnection();\r\n            PreparedStatement preparedStatement = connection.prepareStatement(sql);\r\n            ResultSet resultSet = preparedStatement.executeQuery();\r\n            \r\n            while (resultSet.next() ) {\r\n                //out.println(resultSet.getInt(&quot;cityid&quot;) + &quot;&lt;br/&gt;&quot; + resultSet.getString(&quot;city&quot;) + &quot;&lt;br/&gt;&quot; + resultSet.getString(&quot;INSTRUCTOR&quot;) + &quot;&lt;br/&gt;&quot; + resultSet.getString(&quot;BUILDING&quot;) + &quot;&lt;br/&gt;&quot; + resultSet.getString(&quot;ROOM&quot;) + &quot;&lt;br/&gt;&quot;);\r\n                //out.println(resultSet.getInt(&quot;cityid&quot;) + &quot;&lt;br/&gt;&quot; + resultSet.getString(&quot;city&quot;) + &quot;&lt;br/&gt;&quot; );\r\n                //out.println(&quot;&lt;select name=\\&quot;city\\&quot;&gt;&lt;option value=\\&quot;1\\&quot;&gt;Atlanta&lt;/option&gt;&lt;option value=\\&quot;2\\&quot;&gt;Walla Walla&lt;/option&gt;&lt;/select&gt; &quot;);\r\n            }\r\n            \r\n            resultSet.close();\r\n            preparedStatement.close();\r\n            connection.close();\r\n            \r\n        } catch (SQLException ex) {\r\n            Logger.getLogger(getCities.class.getName()).log(Level.SEVERE, null, ex);\r\n        }\r\n    }\r\n\r\nI know I need some sort of if statement in the while loop but I&#39;m not sure where I&#39;m getting the parameter from to compare the stateid with the cityid.\r\n\r\nAny guidance would be apperciated, thanks.","title":"Dynamic drop down list with AJAX and database","body":"<p>I'm hoping someone could guide me in the right direction. What I'm trying to do is create two drop down lists where the second one (cities) depends on the first one (states). For example, when I click on Washington I want the second drop down menu to list Seattle and Walla Wallal; Georgia, Atlanta, Athens, etc. Ultimately my goal is the link several of the lists together (country -> state -> county -> city) but if I can get these two working I think I could figure out how to do that. </p>\n\n<p>So far I have two databases set up. Table CITY with cityid (primary) and cityname as columns and table STATE with stateid (primary) and statename as columns. </p>\n\n<p>Code as follows</p>\n\n<p>dropDown.jsp:</p>\n\n<pre><code>&lt;script&gt;\nfunction createRequestObject(){\n    var req;\n    if(window.XMLHttpRequest){\n        //For Firefox, Safari, Opera\n        req = new XMLHttpRequest();\n    } else if(window.ActiveXObject){\n        //For IE 5+\n        req = new ActiveXObject(\"Microsoft.XMLHTTP\");\n    } else {\n        //Error for an old browser\n        alert('Your browser is not IE 5 or higher, or Firefox or Safari or Opera');\n    }\n    return req;\n}\n\n//Make the XMLHttpRequest Object\nvar http = createRequestObject();\nfunction sendRequest(method, url){\n    if(method == 'get' || method == 'GET'){\n        http.open(method,url);\n        http.onreadystatechange = handleResponse;\n        http.send(null);\n    }\n}//end function send\n\nfunction handleResponse(){\n    if(http.readyState == 4 &amp;&amp; http.status == 200){\n        var response = http.responseText;\n        if(response){\n            document.getElementById(\"second_dropdown_code\").innerHTML = response;\n        }\n    }\n}\n\nfunction getCityDropdown() {\n    var w = document.myform.mylist.selectedIndex;\n    var country_id = document.myform.mylist.options[w].value;\n    sendRequest('GET','getCites.do?stateid=' + state_id);\n}\n\n&lt;/script&gt;\n\n&lt;FORM NAME=\"myform\"&gt;\n&lt;SELECT NAME=\"state\" onChange=\"getCityDropdown()\"&gt;\n    &lt;OPTION VALUE=\"1\"&gt;Georgia&lt;/option&gt;\n    &lt;OPTION VALUE=\"2\"&gt;Washington&lt;/option&gt;\n&lt;/SELECT&gt;\n&lt;/FORM&gt;\n&lt;div id=\"second_dropdown_code\"&gt;&lt;/div&gt;\n</code></pre>\n\n<p>getCities.java</p>\n\n<pre><code>protected void doGet(HttpServletRequest request, HttpServletResponse response)\n        throws ServletException, IOException {\n    PrintWriter out = response.getWriter();\n    try {\n        processRequest(request, response);\n\n        String sql = \"select * from CITY\";\n        Connection connection = datasource.getConnection();\n        PreparedStatement preparedStatement = connection.prepareStatement(sql);\n        ResultSet resultSet = preparedStatement.executeQuery();\n\n        while (resultSet.next() ) {\n            //out.println(resultSet.getInt(\"cityid\") + \"&lt;br/&gt;\" + resultSet.getString(\"city\") + \"&lt;br/&gt;\" + resultSet.getString(\"INSTRUCTOR\") + \"&lt;br/&gt;\" + resultSet.getString(\"BUILDING\") + \"&lt;br/&gt;\" + resultSet.getString(\"ROOM\") + \"&lt;br/&gt;\");\n            //out.println(resultSet.getInt(\"cityid\") + \"&lt;br/&gt;\" + resultSet.getString(\"city\") + \"&lt;br/&gt;\" );\n            //out.println(\"&lt;select name=\\\"city\\\"&gt;&lt;option value=\\\"1\\\"&gt;Atlanta&lt;/option&gt;&lt;option value=\\\"2\\\"&gt;Walla Walla&lt;/option&gt;&lt;/select&gt; \");\n        }\n\n        resultSet.close();\n        preparedStatement.close();\n        connection.close();\n\n    } catch (SQLException ex) {\n        Logger.getLogger(getCities.class.getName()).log(Level.SEVERE, null, ex);\n    }\n}\n</code></pre>\n\n<p>I know I need some sort of if statement in the while loop but I'm not sure where I'm getting the parameter from to compare the stateid with the cityid.</p>\n\n<p>Any guidance would be apperciated, thanks.</p>\n"},{"tags":["java","string","printing","stdout"],"comments":[{"owner":{"account_id":21448499,"reputation":1,"user_id":22403821,"display_name":"Pronay Sarker"},"score":0,"creation_date":1692262841,"post_id":76919891,"comment_id":135600370,"body_markdown":"@Mat sorry, let me correct my ques. I put in wrong order","body":"@Mat sorry, let me correct my ques. I put in wrong order"},{"owner":{"account_id":21448499,"reputation":1,"user_id":22403821,"display_name":"Pronay Sarker"},"score":0,"creation_date":1692263276,"post_id":76919891,"comment_id":135600457,"body_markdown":"@Mat Hello Mat, sorry for bothering you. My question got marked as &#39;duplicate&#39;. I viewed the original question and I don&#39;t understand most of their code. So, I was wondering, if you can explain what went wrong with my code in a easy way.... Would be grateful","body":"@Mat Hello Mat, sorry for bothering you. My question got marked as &#39;duplicate&#39;. I viewed the original question and I don&#39;t understand most of their code. So, I was wondering, if you can explain what went wrong with my code in a easy way.... Would be grateful"},{"owner":{"account_id":7427975,"reputation":537,"user_id":9862795,"display_name":"GoranLegenda"},"score":0,"creation_date":1692266469,"post_id":76919891,"comment_id":135601152,"body_markdown":"it is nicely explained in this answer from the linked Post:\nhttps://stackoverflow.com/a/7056782/9862795\nin your example you should do the following:\n\nScanner sc = new Scanner(System.in);\nint a = sc.nextInt();\ndouble dr= sc.nextDouble();\nsc.nextLine(); // to consume the &#39;next line&#39; after the int/double value\nString strs = sc.nextLine();","body":"it is nicely explained in this answer from the linked Post: <a href=\"https://stackoverflow.com/a/7056782/9862795\">stackoverflow.com/a/7056782/9862795</a> in your example you should do the following:  Scanner sc = new Scanner(System.in); int a = sc.nextInt(); double dr= sc.nextDouble(); sc.nextLine(); // to consume the &#39;next line&#39; after the int/double value String strs = sc.nextLine();"},{"owner":{"account_id":6402799,"reputation":326,"user_id":4964941,"display_name":"tom"},"score":0,"creation_date":1692267884,"post_id":76919891,"comment_id":135601393,"body_markdown":"`nextInt()` and `nextDouble()` do not consume the newline token. so your `String strs = sc.nextLine()` actually scans `\\nMyExpectedString\\n` and stops after the first `\\n`. which is why you need to place an extra `sc.nextLine()` to consume that before saving your expected string","body":"<code>nextInt()</code> and <code>nextDouble()</code> do not consume the newline token. so your <code>String strs = sc.nextLine()</code> actually scans <code>\\nMyExpectedString\\n</code> and stops after the first <code>\\n</code>. which is why you need to place an extra <code>sc.nextLine()</code> to consume that before saving your expected string"},{"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - "},"score":0,"creation_date":1692272017,"post_id":76919891,"comment_id":135602149,"body_markdown":"You shouldn&#39;t really mix `nextLine()` with `nextInt()`, `nextDouble()`, etc. If you plan to use `nextLine()` in your code then use it for everything. You should be using **`next()`** with those other *nextFoo()* calls but, make sure you are also using `Scanner sc = new Scanner(System.in).useDelimiter(&quot;\\\\R&quot;);` The regex string, `&quot;\\\\R&quot;`, matches any Unicode newline sequence. Normally the `next()` method is used to retrieve tokens (single words) but now it will retrieve anything up to the ENTER key hit which will be consumed.","body":"You shouldn&#39;t really mix <code>nextLine()</code> with <code>nextInt()</code>, <code>nextDouble()</code>, etc. If you plan to use <code>nextLine()</code> in your code then use it for everything. You should be using <b><code>next()</code></b> with those other <i>nextFoo()</i> calls but, make sure you are also using <code>Scanner sc = new Scanner(System.in).useDelimiter(&quot;\\\\R&quot;);</code> The regex string, <code>&quot;\\\\R&quot;</code>, matches any Unicode newline sequence. Normally the <code>next()</code> method is used to retrieve tokens (single words) but now it will retrieve anything up to the ENTER key hit which will be consumed."}],"owner":{"account_id":21448499,"reputation":1,"user_id":22403821,"display_name":"Pronay Sarker"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1692262411,"answer_count":0,"score":0,"last_activity_date":1692263142,"creation_date":1692262268,"question_id":76919891,"body_markdown":"\r\n\r\nWell , I am currenty learning Java. But for some reason I don&#39;t know why, it&#39;s not printng String strs.\r\n\r\n\r\nIf I input\r\n``` \r\n42\r\n3.1415\r\nWelcome to HackerRank&#39;s Java tutorials!\r\n```\r\n\r\n\r\n\r\nI get this \r\n```\r\nString: \r\nDouble: 3.1415\r\nInt: 42\r\n```\r\n\r\n\r\nBut the expected output is\r\n```\r\nString: Welcome o HackerRank&#39;s Java tutorials!\r\nDouble: 3.1415\r\nInt: 42\r\n```\r\n\r\n\r\n\r\n\r\n**Orginal code below**\r\n\r\n```import java.util.Scanner;\r\n\r\nimport java.util.Scanner;\r\n\r\npublic class Main{\r\n    public static void main(String[] args){\r\n        Scanner sc = new Scanner(System.in);\r\n        int a = sc.nextInt();\r\n        double dr= sc.nextDouble();\r\n        String strs = sc.nextLine();\r\n       \r\n        System.out.println(&quot;String: &quot; + strs);\r\n        System.out.println(&quot;Double: &quot; + dr );\r\n        System.out.println(&quot;Int: &quot;+ a);\r\n\r\n    }\r\n}\r\n```\r\n\r\n\r\n\r\nabout reopening ( for mods)\r\n__________________________\r\n\r\nas I said, I am new to java and I am learing it. So i don&#39;t understand mostly of their code. They used something called option , try catch.... Still learning, so would you mind reopening the question? ","title":"java isn&#39;t printing string","body":"<p>Well , I am currenty learning Java. But for some reason I don't know why, it's not printng String strs.</p>\n<p>If I input</p>\n<pre><code>42\n3.1415\nWelcome to HackerRank's Java tutorials!\n</code></pre>\n<p>I get this</p>\n<pre><code>String: \nDouble: 3.1415\nInt: 42\n</code></pre>\n<p>But the expected output is</p>\n<pre><code>String: Welcome o HackerRank's Java tutorials!\nDouble: 3.1415\nInt: 42\n</code></pre>\n<p><strong>Orginal code below</strong></p>\n<pre><code>\nimport java.util.Scanner;\n\npublic class Main{\n    public static void main(String[] args){\n        Scanner sc = new Scanner(System.in);\n        int a = sc.nextInt();\n        double dr= sc.nextDouble();\n        String strs = sc.nextLine();\n       \n        System.out.println(&quot;String: &quot; + strs);\n        System.out.println(&quot;Double: &quot; + dr );\n        System.out.println(&quot;Int: &quot;+ a);\n\n    }\n}\n</code></pre>\n<p>about reopening ( for mods)</p>\n<hr />\n<p>as I said, I am new to java and I am learing it. So i don't understand mostly of their code. They used something called option , try catch.... Still learning, so would you mind reopening the question?</p>\n"},{"tags":["java","spring","logging","micrometer"],"answers":[{"tags":[],"owner":{"account_id":944144,"reputation":5331,"user_id":971735,"display_name":"Jonatan Ivanov"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1692156280,"creation_date":1692156280,"answer_id":76910336,"question_id":76857600,"body_markdown":"You did not tell us what framework you use to create the HTTP endpoint but it is likely that a new span is created that&#39;s `parentId` is the `spanId` you send in the request header. This is normal behavior, otherwise you would not be able to distinguish between service boundaries.","title":"Use traceparent header to set traceId and spanId in Micrometer","body":"<p>You did not tell us what framework you use to create the HTTP endpoint but it is likely that a new span is created that's <code>parentId</code> is the <code>spanId</code> you send in the request header. This is normal behavior, otherwise you would not be able to distinguish between service boundaries.</p>\n"}],"owner":{"account_id":411369,"reputation":1235,"user_id":783773,"accept_rate":42,"display_name":"Michele"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1005,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76910336,"answer_count":1,"score":0,"last_activity_date":1692263068,"creation_date":1691481885,"question_id":76857600,"body_markdown":"I&#39;m trying to send the `traceparent` header from the frontend to backend using Micrometer in Spring framework.\r\n\r\nFor example, I send the `traceparent` header into the frontend request:\r\n\r\n    traceparent=00-4bf92f3577b34da6a3ce929d0e0e4736-00f067aa0ba902b7-00\r\n\r\nthis is a log printed by the backend:\r\n\r\n    2023-08-08T09:56:32.338+02:00  INFO [KYC-BE,4bf92f3577b34da6a3ce929d0e0e4736,3cc2a015c655ce84]: test\r\n\r\nThe `traceId` is correctly read from the frontend request, instead the `spanId` is new, why?\r\n\r\n","title":"Use traceparent header to set traceId and spanId in Micrometer","body":"<p>I'm trying to send the <code>traceparent</code> header from the frontend to backend using Micrometer in Spring framework.</p>\n<p>For example, I send the <code>traceparent</code> header into the frontend request:</p>\n<pre><code>traceparent=00-4bf92f3577b34da6a3ce929d0e0e4736-00f067aa0ba902b7-00\n</code></pre>\n<p>this is a log printed by the backend:</p>\n<pre><code>2023-08-08T09:56:32.338+02:00  INFO [KYC-BE,4bf92f3577b34da6a3ce929d0e0e4736,3cc2a015c655ce84]: test\n</code></pre>\n<p>The <code>traceId</code> is correctly read from the frontend request, instead the <code>spanId</code> is new, why?</p>\n"},{"tags":["java","hibernate","spring-mvc","spring-boot","dependency-injection"],"answers":[{"tags":[],"owner":{"account_id":3238160,"reputation":744,"user_id":2731794,"accept_rate":89,"display_name":"Ulphat"},"down_vote_count":0,"up_vote_count":38,"is_accepted":true,"score":38,"last_activity_date":1488158455,"creation_date":1488158455,"answer_id":42476374,"question_id":42476261,"body_markdown":"I added `exclude = HibernateJpaAutoConfiguration.class` property to `@SpringBootApplication` annotation as recomended at https://stackoverflow.com/a/38637273 and all worked normally. But I cannot relatrion problem and solution. And I don&#39;t not know why `registerNewUserAccount(UserDto userDto)` method works at one place and doesn&#39;t work at different place.","title":"ClassCastException: org.springframework.orm.jpa.EntityManagerHolder cannot be cast to org.springframework.orm.hibernate5.SessionHolder","body":"<p>I added <code>exclude = HibernateJpaAutoConfiguration.class</code> property to <code>@SpringBootApplication</code> annotation as recomended at <a href=\"https://stackoverflow.com/a/38637273\">https://stackoverflow.com/a/38637273</a> and all worked normally. But I cannot relatrion problem and solution. And I don't not know why <code>registerNewUserAccount(UserDto userDto)</code> method works at one place and doesn't work at different place.</p>\n"},{"tags":[],"owner":{"account_id":13065194,"reputation":73,"user_id":9440826,"display_name":"Gaur 97"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692262763,"creation_date":1692262763,"answer_id":76919960,"question_id":42476261,"body_markdown":"In my case I used Spring&#39;s @Transaction annotation, though in the method hibernate session was already used. That&#39;s why the compiler got confused which transaction should it use, this was the cause to get the error.\r\n\r\nSo use only one transaction whether creating multiple transaction at a time.","title":"ClassCastException: org.springframework.orm.jpa.EntityManagerHolder cannot be cast to org.springframework.orm.hibernate5.SessionHolder","body":"<p>In my case I used Spring's @Transaction annotation, though in the method hibernate session was already used. That's why the compiler got confused which transaction should it use, this was the cause to get the error.</p>\n<p>So use only one transaction whether creating multiple transaction at a time.</p>\n"}],"owner":{"account_id":3238160,"reputation":744,"user_id":2731794,"accept_rate":89,"display_name":"Ulphat"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":23575,"favorite_count":0,"down_vote_count":0,"up_vote_count":15,"accepted_answer_id":42476374,"answer_count":2,"score":15,"last_activity_date":1692262763,"creation_date":1488157523,"question_id":42476261,"body_markdown":"I try to create simple user login and registration page. But I cannot create user using services method.\r\nI have a service for creating new user.\r\n\r\n    @Service\r\n    public class LocalUserDetailsService implements UserService {\r\n\r\n    //...\r\n\r\n    @Transactional\r\n    @Override\r\n    public User registerNewUserAccount(UserDto userDto) throws EmailExistsException {\r\n        System.out.println(&quot;registerNewUserAccount called&quot;);\r\n        if (emailExist(userDto.getEmail())) {\r\n            throw new EmailExistsException(\r\n                    &quot;There is an account with that email adress: &quot;\r\n                    + userDto.getEmail());\r\n        }\r\n\r\n        return createUser(userDto);\r\n    }\r\n\r\n    private User createUser(UserDto userDto) {\r\n        User user = new User();\r\n        user.setEmail(userDto.getEmail());\r\n        user.setPassword(passwordEncoder.encode(userDto.getPassword()));\r\n        user.setEnabled(userDto.isEnabled());\r\n        Set&lt;Role&gt; roles = new LinkedHashSet&lt;&gt;();\r\n\r\n        userDto.getRoles().forEach((roleDto) -&gt; {\r\n            roles.add(roleDao.getOrInsert(roleDto.getName()));\r\n        });\r\n\r\n        user.setRoles(roles);\r\n\r\n        return userDao.insert(user);\r\n    }\r\n    }\r\nI call `registerNewUserAccount(UserDto userDto)` method at 2 places.\r\n1) At startup, I call this method for creating initial users. \r\n\r\n```\r\n@Component\r\npublic class DatabaseFillerOnStartup implements ApplicationListener&lt;ContextRefreshedEvent&gt; {\r\n\r\n    @Autowired\r\n    private UserService userService;\r\n\r\n    @Override\r\n    public void onApplicationEvent(ContextRefreshedEvent event) {\r\n        System.out.println(&quot;DatabaseFillerOnStartup ###################&quot;);\r\n        createInitialUsers();\r\n    }\r\n\r\n    private void createInitialUsers() {\r\n        try {\r\n            UserDto user = new UserDto();\r\n            user.setEmail(&quot;aa@bb.cc&quot;);\r\n            user.setPassword(&quot;123456&quot;);\r\n            user.setEnabled(true);\r\n            List&lt;RoleDto&gt; roles = new ArrayList&lt;&gt;();\r\n            roles.add(new RoleDto(Roles.ADMIN));\r\n            roles.add(new RoleDto(Roles.USER));\r\n            user.setRoles(roles);\r\n            userService.registerNewUserAccount(user);\r\n        } catch (EmailExistsException ex) {\r\n            Logger.getLogger(DatabaseFillerOnStartup.class.getName())\r\n                    .log(Level.SEVERE, null, ex);\r\n        }\r\n    }\r\n}\r\n```\r\nThen all works normally. But when I call this method from controller for creating new user using registration form, `registerNewUserAccount(UserDto userDto)` method does not work. I call it from controller like following:\r\n\r\n    @Controller\r\n    public class UserController {\r\n    \r\n    @Autowired\r\n    private UserService userService;\r\n    \r\n    @RequestMapping(value = &quot;/user/registration&quot;, method = RequestMethod.POST)\r\n    public ModelAndView registerUserAccount(\r\n            @ModelAttribute(&quot;userDto&quot;) @Valid UserDto userDto,\r\n            BindingResult result, WebRequest request, Errors errors) {\r\n        User registered = new User();\r\n        if (!result.hasErrors()) {\r\n            registered = createUserAccount(userDto, result);\r\n        }\r\n        if (registered == null) {\r\n            result.rejectValue(&quot;email&quot;, &quot;message.regError&quot;);\r\n        }\r\n        if (result.hasErrors()) {\r\n            return new ModelAndView(&quot;registration&quot;, &quot;user&quot;, userDto);\r\n        } else {\r\n            return new ModelAndView(&quot;successRegister&quot;, &quot;user&quot;, userDto);\r\n        }\r\n    }\r\n    \r\n    private User createUserAccount(UserDto userDto, BindingResult result) {\r\n        User registered;\r\n        try {\r\n            userService.test();//Just for testing if service class Autowired correctly.\r\n            registered = userService.registerNewUserAccount(userDto);\r\n        } catch (EmailExistsException e) {\r\n            return null;\r\n        }\r\n        return registered;\r\n    }\r\n    }\r\nI debugged it. The command `userService.test();` passed, but at `registerNewUserAccount(UserDto userDto)` command thrown the following exception\r\n\r\n    java.lang.ClassCastException: org.springframework.orm.jpa.EntityManagerHolder cannot be cast to org.springframework.orm.hibernate5.SessionHolder\r\n\tat org.springframework.orm.hibernate5.HibernateTransactionManager.doGetTransaction(HibernateTransactionManager.java:377) ~[spring-orm-4.3.5.RELEASE.jar:4.3.5.RELEASE]\r\n\tat org.springframework.transaction.support.AbstractPlatformTransactionManager.getTransaction(AbstractPlatformTransactionManager.java:337) ~[spring-tx-4.3.5.RELEASE.jar:4.3.5.RELEASE]\r\n\tat org.springframework.transaction.interceptor.TransactionAspectSupport.createTransactionIfNecessary(TransactionAspectSupport.java:447) ~[spring-tx-4.3.5.RELEASE.jar:4.3.5.RELEASE]\r\n\tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:277) ~[spring-tx-4.3.5.RELEASE.jar:4.3.5.RELEASE]\r\n\tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96) ~[spring-tx-4.3.5.RELEASE.jar:4.3.5.RELEASE]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) ~[spring-aop-4.3.5.RELEASE.jar:4.3.5.RELEASE]\r\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:213) ~[spring-aop-4.3.5.RELEASE.jar:4.3.5.RELEASE]\r\n\tat com.sun.proxy.$Proxy79.registerNewUserAccount(Unknown Source) ~[na:na]\r\n\tat org.ub.spring.app.controller.UserController.createUserAccount(UserController.java:55) ~[classes/:na]\r\n\tat org.ub.spring.app.controller.UserController.registerUserAccount(UserController.java:39) ~[classes/:na]\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_101]\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_101]\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_101]\r\n\tat java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_101]\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:220) ~[spring-web-4.3.5.RELEASE.jar:4.3.5.RELEASE]\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:134) ~[spring-web-4.3.5.RELEASE.jar:4.3.5.RELEASE]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:116) ~[spring-webmvc-4.3.5.RELEASE.jar:4.3.5.RELEASE]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:827) ~[spring-webmvc-4.3.5.RELEASE.jar:4.3.5.RELEASE]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:738) ~[spring-webmvc-4.3.5.RELEASE.jar:4.3.5.RELEASE]\r\n\tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:85) ~[spring-webmvc-4.3.5.RELEASE.jar:4.3.5.RELEASE]\r\n\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:963) ~[spring-webmvc-4.3.5.RELEASE.jar:4.3.5.RELEASE]\r\n\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:897) ~[spring-webmvc-4.3.5.RELEASE.jar:4.3.5.RELEASE]\r\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:970) ~[spring-webmvc-4.3.5.RELEASE.jar:4.3.5.RELEASE]\r\n\tat org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:872) ~[spring-webmvc-4.3.5.RELEASE.jar:4.3.5.RELEASE]\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:648) ~[tomcat-embed-core-8.5.11.jar:8.5.11]\r\n\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:846) ~[spring-webmvc-4.3.5.RELEASE.jar:4.3.5.RELEASE]\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:729) ~[tomcat-embed-core-8.5.11.jar:8.5.11]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:230) [tomcat-embed-core-8.5.11.jar:8.5.11]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165) [tomcat-embed-core-8.5.11.jar:8.5.11]\r\n\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52) ~[tomcat-embed-websocket-8.5.11.jar:8.5.11]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:192) [tomcat-embed-core-8.5.11.jar:8.5.11]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165) [tomcat-embed-core-8.5.11.jar:8.5.11]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:317) ~[spring-security-web-4.2.1.RELEASE.jar:4.2.1.RELEASE]\r\n\tat org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:127) ~[spring-security-web-4.2.1.RELEASE.jar:4.2.1.RELEASE]\r\n\tat org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:91) ~[spring-security-web-4.2.1.RELEASE.jar:4.2.1.RELEASE]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331) ~[spring-security-web-4.2.1.RELEASE.jar:4.2.1.RELEASE]\r\n\tat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:114) ~[spring-security-web-4.2.1.RELEASE.jar:4.2.1.RELEASE]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331) ~[spring-security-web-4.2.1.RELEASE.jar:4.2.1.RELEASE]\r\n\tat org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137) ~[spring-security-web-4.2.1.RELEASE.jar:4.2.1.RELEASE]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331) ~[spring-security-web-4.2.1.RELEASE.jar:4.2.1.RELEASE]\r\n\tat org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111) ~[spring-security-web-4.2.1.RELEASE.jar:4.2.1.RELEASE]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331) ~[spring-security-web-4.2.1.RELEASE.jar:4.2.1.RELEASE]\r\n\tat org.springframework.security.web.authentication.rememberme.RememberMeAuthenticationFilter.doFilter(RememberMeAuthenticationFilter.java:150) ~[spring-security-web-4.2.1.RELEASE.jar:4.2.1.RELEASE]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331) ~[spring-security-web-4.2.1.RELEASE.jar:4.2.1.RELEASE]\r\n\tat org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:170) ~[spring-security-web-4.2.1.RELEASE.jar:4.2.1.RELEASE]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331) ~[spring-security-web-4.2.1.RELEASE.jar:4.2.1.RELEASE]\r\n\tat org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-4.2.1.RELEASE.jar:4.2.1.RELEASE]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331) ~[spring-security-web-4.2.1.RELEASE.jar:4.2.1.RELEASE]\r\n\tat org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:200) ~[spring-security-web-4.2.1.RELEASE.jar:4.2.1.RELEASE]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331) ~[spring-security-web-4.2.1.RELEASE.jar:4.2.1.RELEASE]\r\n\tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116) ~[spring-security-web-4.2.1.RELEASE.jar:4.2.1.RELEASE]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331) ~[spring-security-web-4.2.1.RELEASE.jar:4.2.1.RELEASE]\r\n\tat org.springframework.security.web.csrf.CsrfFilter.doFilterInternal(CsrfFilter.java:124) ~[spring-security-web-4.2.1.RELEASE.jar:4.2.1.RELEASE]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.3.5.RELEASE.jar:4.3.5.RELEASE]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331) ~[spring-security-web-4.2.1.RELEASE.jar:4.2.1.RELEASE]\r\n\tat org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:64) ~[spring-security-web-4.2.1.RELEASE.jar:4.2.1.RELEASE]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.3.5.RELEASE.jar:4.3.5.RELEASE]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331) ~[spring-security-web-4.2.1.RELEASE.jar:4.2.1.RELEASE]\r\n\tat org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105) ~[spring-security-web-4.2.1.RELEASE.jar:4.2.1.RELEASE]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331) ~[spring-security-web-4.2.1.RELEASE.jar:4.2.1.RELEASE]\r\n\tat org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56) ~[spring-security-web-4.2.1.RELEASE.jar:4.2.1.RELEASE]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.3.5.RELEASE.jar:4.3.5.RELEASE]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331) ~[spring-security-web-4.2.1.RELEASE.jar:4.2.1.RELEASE]\r\n\tat org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:214) ~[spring-security-web-4.2.1.RELEASE.jar:4.2.1.RELEASE]\r\n\tat org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:177) ~[spring-security-web-4.2.1.RELEASE.jar:4.2.1.RELEASE]\r\n\tat org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:346) ~[spring-web-4.3.5.RELEASE.jar:4.3.5.RELEASE]\r\n\tat org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:262) ~[spring-web-4.3.5.RELEASE.jar:4.3.5.RELEASE]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:192) [tomcat-embed-core-8.5.11.jar:8.5.11]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165) [tomcat-embed-core-8.5.11.jar:8.5.11]\r\n\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:197) ~[spring-web-4.3.5.RELEASE.jar:4.3.5.RELEASE]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.3.5.RELEASE.jar:4.3.5.RELEASE]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:192) [tomcat-embed-core-8.5.11.jar:8.5.11]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165) [tomcat-embed-core-8.5.11.jar:8.5.11]\r\n\tat org.springframework.boot.web.support.ErrorPageFilter.doFilter(ErrorPageFilter.java:115) [spring-boot-1.5.1.RELEASE.jar:1.5.1.RELEASE]\r\n\tat org.springframework.boot.web.support.ErrorPageFilter.access$000(ErrorPageFilter.java:59) [spring-boot-1.5.1.RELEASE.jar:1.5.1.RELEASE]\r\n\tat org.springframework.boot.web.support.ErrorPageFilter$1.doFilterInternal(ErrorPageFilter.java:90) [spring-boot-1.5.1.RELEASE.jar:1.5.1.RELEASE]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.3.5.RELEASE.jar:4.3.5.RELEASE]\r\n\tat org.springframework.boot.web.support.ErrorPageFilter.doFilter(ErrorPageFilter.java:108) [spring-boot-1.5.1.RELEASE.jar:1.5.1.RELEASE]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:192) [tomcat-embed-core-8.5.11.jar:8.5.11]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165) [tomcat-embed-core-8.5.11.jar:8.5.11]\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198) [tomcat-embed-core-8.5.11.jar:8.5.11]\r\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-8.5.11.jar:8.5.11]\r\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:474) [tomcat-embed-core-8.5.11.jar:8.5.11]\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140) [tomcat-embed-core-8.5.11.jar:8.5.11]\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:79) [tomcat-embed-core-8.5.11.jar:8.5.11]\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87) [tomcat-embed-core-8.5.11.jar:8.5.11]\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:349) [tomcat-embed-core-8.5.11.jar:8.5.11]\r\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:783) [tomcat-embed-core-8.5.11.jar:8.5.11]\r\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) [tomcat-embed-core-8.5.11.jar:8.5.11]\r\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:798) [tomcat-embed-core-8.5.11.jar:8.5.11]\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1434) [tomcat-embed-core-8.5.11.jar:8.5.11]\r\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-8.5.11.jar:8.5.11]\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142) [na:1.8.0_101]\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617) [na:1.8.0_101]\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-8.5.11.jar:8.5.11]\r\n\tat java.lang.Thread.run(Thread.java:745) [na:1.8.0_101]","title":"ClassCastException: org.springframework.orm.jpa.EntityManagerHolder cannot be cast to org.springframework.orm.hibernate5.SessionHolder","body":"<p>I try to create simple user login and registration page. But I cannot create user using services method.\nI have a service for creating new user.</p>\n<pre><code>@Service\npublic class LocalUserDetailsService implements UserService {\n\n//...\n\n@Transactional\n@Override\npublic User registerNewUserAccount(UserDto userDto) throws EmailExistsException {\n    System.out.println(&quot;registerNewUserAccount called&quot;);\n    if (emailExist(userDto.getEmail())) {\n        throw new EmailExistsException(\n                &quot;There is an account with that email adress: &quot;\n                + userDto.getEmail());\n    }\n\n    return createUser(userDto);\n}\n\nprivate User createUser(UserDto userDto) {\n    User user = new User();\n    user.setEmail(userDto.getEmail());\n    user.setPassword(passwordEncoder.encode(userDto.getPassword()));\n    user.setEnabled(userDto.isEnabled());\n    Set&lt;Role&gt; roles = new LinkedHashSet&lt;&gt;();\n\n    userDto.getRoles().forEach((roleDto) -&gt; {\n        roles.add(roleDao.getOrInsert(roleDto.getName()));\n    });\n\n    user.setRoles(roles);\n\n    return userDao.insert(user);\n}\n}\n</code></pre>\n<p>I call <code>registerNewUserAccount(UserDto userDto)</code> method at 2 places.</p>\n<ol>\n<li>At startup, I call this method for creating initial users.</li>\n</ol>\n<pre><code>@Component\npublic class DatabaseFillerOnStartup implements ApplicationListener&lt;ContextRefreshedEvent&gt; {\n\n    @Autowired\n    private UserService userService;\n\n    @Override\n    public void onApplicationEvent(ContextRefreshedEvent event) {\n        System.out.println(&quot;DatabaseFillerOnStartup ###################&quot;);\n        createInitialUsers();\n    }\n\n    private void createInitialUsers() {\n        try {\n            UserDto user = new UserDto();\n            user.setEmail(&quot;aa@bb.cc&quot;);\n            user.setPassword(&quot;123456&quot;);\n            user.setEnabled(true);\n            List&lt;RoleDto&gt; roles = new ArrayList&lt;&gt;();\n            roles.add(new RoleDto(Roles.ADMIN));\n            roles.add(new RoleDto(Roles.USER));\n            user.setRoles(roles);\n            userService.registerNewUserAccount(user);\n        } catch (EmailExistsException ex) {\n            Logger.getLogger(DatabaseFillerOnStartup.class.getName())\n                    .log(Level.SEVERE, null, ex);\n        }\n    }\n}\n</code></pre>\n<p>Then all works normally. But when I call this method from controller for creating new user using registration form, <code>registerNewUserAccount(UserDto userDto)</code> method does not work. I call it from controller like following:</p>\n<pre><code>@Controller\npublic class UserController {\n\n@Autowired\nprivate UserService userService;\n\n@RequestMapping(value = &quot;/user/registration&quot;, method = RequestMethod.POST)\npublic ModelAndView registerUserAccount(\n        @ModelAttribute(&quot;userDto&quot;) @Valid UserDto userDto,\n        BindingResult result, WebRequest request, Errors errors) {\n    User registered = new User();\n    if (!result.hasErrors()) {\n        registered = createUserAccount(userDto, result);\n    }\n    if (registered == null) {\n        result.rejectValue(&quot;email&quot;, &quot;message.regError&quot;);\n    }\n    if (result.hasErrors()) {\n        return new ModelAndView(&quot;registration&quot;, &quot;user&quot;, userDto);\n    } else {\n        return new ModelAndView(&quot;successRegister&quot;, &quot;user&quot;, userDto);\n    }\n}\n\nprivate User createUserAccount(UserDto userDto, BindingResult result) {\n    User registered;\n    try {\n        userService.test();//Just for testing if service class Autowired correctly.\n        registered = userService.registerNewUserAccount(userDto);\n    } catch (EmailExistsException e) {\n        return null;\n    }\n    return registered;\n}\n}\n</code></pre>\n<p>I debugged it. The command <code>userService.test();</code> passed, but at <code>registerNewUserAccount(UserDto userDto)</code> command thrown the following exception</p>\n<pre><code>java.lang.ClassCastException: org.springframework.orm.jpa.EntityManagerHolder cannot be cast to org.springframework.orm.hibernate5.SessionHolder\nat org.springframework.orm.hibernate5.HibernateTransactionManager.doGetTransaction(HibernateTransactionManager.java:377) ~[spring-orm-4.3.5.RELEASE.jar:4.3.5.RELEASE]\nat org.springframework.transaction.support.AbstractPlatformTransactionManager.getTransaction(AbstractPlatformTransactionManager.java:337) ~[spring-tx-4.3.5.RELEASE.jar:4.3.5.RELEASE]\nat org.springframework.transaction.interceptor.TransactionAspectSupport.createTransactionIfNecessary(TransactionAspectSupport.java:447) ~[spring-tx-4.3.5.RELEASE.jar:4.3.5.RELEASE]\nat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:277) ~[spring-tx-4.3.5.RELEASE.jar:4.3.5.RELEASE]\nat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96) ~[spring-tx-4.3.5.RELEASE.jar:4.3.5.RELEASE]\nat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) ~[spring-aop-4.3.5.RELEASE.jar:4.3.5.RELEASE]\nat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:213) ~[spring-aop-4.3.5.RELEASE.jar:4.3.5.RELEASE]\nat com.sun.proxy.$Proxy79.registerNewUserAccount(Unknown Source) ~[na:na]\nat org.ub.spring.app.controller.UserController.createUserAccount(UserController.java:55) ~[classes/:na]\nat org.ub.spring.app.controller.UserController.registerUserAccount(UserController.java:39) ~[classes/:na]\nat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_101]\nat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_101]\nat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_101]\nat java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_101]\nat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:220) ~[spring-web-4.3.5.RELEASE.jar:4.3.5.RELEASE]\nat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:134) ~[spring-web-4.3.5.RELEASE.jar:4.3.5.RELEASE]\nat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:116) ~[spring-webmvc-4.3.5.RELEASE.jar:4.3.5.RELEASE]\nat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:827) ~[spring-webmvc-4.3.5.RELEASE.jar:4.3.5.RELEASE]\nat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:738) ~[spring-webmvc-4.3.5.RELEASE.jar:4.3.5.RELEASE]\nat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:85) ~[spring-webmvc-4.3.5.RELEASE.jar:4.3.5.RELEASE]\nat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:963) ~[spring-webmvc-4.3.5.RELEASE.jar:4.3.5.RELEASE]\nat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:897) ~[spring-webmvc-4.3.5.RELEASE.jar:4.3.5.RELEASE]\nat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:970) ~[spring-webmvc-4.3.5.RELEASE.jar:4.3.5.RELEASE]\nat org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:872) ~[spring-webmvc-4.3.5.RELEASE.jar:4.3.5.RELEASE]\nat javax.servlet.http.HttpServlet.service(HttpServlet.java:648) ~[tomcat-embed-core-8.5.11.jar:8.5.11]\nat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:846) ~[spring-webmvc-4.3.5.RELEASE.jar:4.3.5.RELEASE]\nat javax.servlet.http.HttpServlet.service(HttpServlet.java:729) ~[tomcat-embed-core-8.5.11.jar:8.5.11]\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:230) [tomcat-embed-core-8.5.11.jar:8.5.11]\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165) [tomcat-embed-core-8.5.11.jar:8.5.11]\nat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52) ~[tomcat-embed-websocket-8.5.11.jar:8.5.11]\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:192) [tomcat-embed-core-8.5.11.jar:8.5.11]\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165) [tomcat-embed-core-8.5.11.jar:8.5.11]\nat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:317) ~[spring-security-web-4.2.1.RELEASE.jar:4.2.1.RELEASE]\nat org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:127) ~[spring-security-web-4.2.1.RELEASE.jar:4.2.1.RELEASE]\nat org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:91) ~[spring-security-web-4.2.1.RELEASE.jar:4.2.1.RELEASE]\nat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331) ~[spring-security-web-4.2.1.RELEASE.jar:4.2.1.RELEASE]\nat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:114) ~[spring-security-web-4.2.1.RELEASE.jar:4.2.1.RELEASE]\nat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331) ~[spring-security-web-4.2.1.RELEASE.jar:4.2.1.RELEASE]\nat org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137) ~[spring-security-web-4.2.1.RELEASE.jar:4.2.1.RELEASE]\nat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331) ~[spring-security-web-4.2.1.RELEASE.jar:4.2.1.RELEASE]\nat org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111) ~[spring-security-web-4.2.1.RELEASE.jar:4.2.1.RELEASE]\nat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331) ~[spring-security-web-4.2.1.RELEASE.jar:4.2.1.RELEASE]\nat org.springframework.security.web.authentication.rememberme.RememberMeAuthenticationFilter.doFilter(RememberMeAuthenticationFilter.java:150) ~[spring-security-web-4.2.1.RELEASE.jar:4.2.1.RELEASE]\nat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331) ~[spring-security-web-4.2.1.RELEASE.jar:4.2.1.RELEASE]\nat org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:170) ~[spring-security-web-4.2.1.RELEASE.jar:4.2.1.RELEASE]\nat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331) ~[spring-security-web-4.2.1.RELEASE.jar:4.2.1.RELEASE]\nat org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-4.2.1.RELEASE.jar:4.2.1.RELEASE]\nat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331) ~[spring-security-web-4.2.1.RELEASE.jar:4.2.1.RELEASE]\nat org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:200) ~[spring-security-web-4.2.1.RELEASE.jar:4.2.1.RELEASE]\nat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331) ~[spring-security-web-4.2.1.RELEASE.jar:4.2.1.RELEASE]\nat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116) ~[spring-security-web-4.2.1.RELEASE.jar:4.2.1.RELEASE]\nat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331) ~[spring-security-web-4.2.1.RELEASE.jar:4.2.1.RELEASE]\nat org.springframework.security.web.csrf.CsrfFilter.doFilterInternal(CsrfFilter.java:124) ~[spring-security-web-4.2.1.RELEASE.jar:4.2.1.RELEASE]\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.3.5.RELEASE.jar:4.3.5.RELEASE]\nat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331) ~[spring-security-web-4.2.1.RELEASE.jar:4.2.1.RELEASE]\nat org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:64) ~[spring-security-web-4.2.1.RELEASE.jar:4.2.1.RELEASE]\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.3.5.RELEASE.jar:4.3.5.RELEASE]\nat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331) ~[spring-security-web-4.2.1.RELEASE.jar:4.2.1.RELEASE]\nat org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105) ~[spring-security-web-4.2.1.RELEASE.jar:4.2.1.RELEASE]\nat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331) ~[spring-security-web-4.2.1.RELEASE.jar:4.2.1.RELEASE]\nat org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56) ~[spring-security-web-4.2.1.RELEASE.jar:4.2.1.RELEASE]\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.3.5.RELEASE.jar:4.3.5.RELEASE]\nat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331) ~[spring-security-web-4.2.1.RELEASE.jar:4.2.1.RELEASE]\nat org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:214) ~[spring-security-web-4.2.1.RELEASE.jar:4.2.1.RELEASE]\nat org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:177) ~[spring-security-web-4.2.1.RELEASE.jar:4.2.1.RELEASE]\nat org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:346) ~[spring-web-4.3.5.RELEASE.jar:4.3.5.RELEASE]\nat org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:262) ~[spring-web-4.3.5.RELEASE.jar:4.3.5.RELEASE]\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:192) [tomcat-embed-core-8.5.11.jar:8.5.11]\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165) [tomcat-embed-core-8.5.11.jar:8.5.11]\nat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:197) ~[spring-web-4.3.5.RELEASE.jar:4.3.5.RELEASE]\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.3.5.RELEASE.jar:4.3.5.RELEASE]\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:192) [tomcat-embed-core-8.5.11.jar:8.5.11]\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165) [tomcat-embed-core-8.5.11.jar:8.5.11]\nat org.springframework.boot.web.support.ErrorPageFilter.doFilter(ErrorPageFilter.java:115) [spring-boot-1.5.1.RELEASE.jar:1.5.1.RELEASE]\nat org.springframework.boot.web.support.ErrorPageFilter.access$000(ErrorPageFilter.java:59) [spring-boot-1.5.1.RELEASE.jar:1.5.1.RELEASE]\nat org.springframework.boot.web.support.ErrorPageFilter$1.doFilterInternal(ErrorPageFilter.java:90) [spring-boot-1.5.1.RELEASE.jar:1.5.1.RELEASE]\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.3.5.RELEASE.jar:4.3.5.RELEASE]\nat org.springframework.boot.web.support.ErrorPageFilter.doFilter(ErrorPageFilter.java:108) [spring-boot-1.5.1.RELEASE.jar:1.5.1.RELEASE]\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:192) [tomcat-embed-core-8.5.11.jar:8.5.11]\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165) [tomcat-embed-core-8.5.11.jar:8.5.11]\nat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198) [tomcat-embed-core-8.5.11.jar:8.5.11]\nat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-8.5.11.jar:8.5.11]\nat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:474) [tomcat-embed-core-8.5.11.jar:8.5.11]\nat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140) [tomcat-embed-core-8.5.11.jar:8.5.11]\nat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:79) [tomcat-embed-core-8.5.11.jar:8.5.11]\nat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87) [tomcat-embed-core-8.5.11.jar:8.5.11]\nat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:349) [tomcat-embed-core-8.5.11.jar:8.5.11]\nat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:783) [tomcat-embed-core-8.5.11.jar:8.5.11]\nat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) [tomcat-embed-core-8.5.11.jar:8.5.11]\nat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:798) [tomcat-embed-core-8.5.11.jar:8.5.11]\nat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1434) [tomcat-embed-core-8.5.11.jar:8.5.11]\nat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-8.5.11.jar:8.5.11]\nat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142) [na:1.8.0_101]\nat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617) [na:1.8.0_101]\nat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-8.5.11.jar:8.5.11]\nat java.lang.Thread.run(Thread.java:745) [na:1.8.0_101]\n</code></pre>\n"},{"tags":["java","junit5","weld-junit5"],"answers":[{"tags":[],"owner":{"account_id":19670358,"reputation":1,"user_id":14399733,"display_name":"userAcgJllhSe"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692261708,"creation_date":1692192843,"answer_id":76914099,"question_id":76309427,"body_markdown":"Due to technical and time constraints I&#39;m unable to test this with the versions of the libraries you posted, but I ran into the same problem using `weld-junit5 2.0.0.Final` and could solve it by ommiting the `getPackage()` call.\r\n\r\nI.e. you could try\r\n\r\n            .addPackages(false, Example.class)\r\n\r\ninstead of\r\n\r\n            .addPackages(false, Example.class.getPackage())","title":"Weld-Junit5: addPackages doesn&#39;t add all contained beans to the test container","body":"<p>Due to technical and time constraints I'm unable to test this with the versions of the libraries you posted, but I ran into the same problem using <code>weld-junit5 2.0.0.Final</code> and could solve it by ommiting the <code>getPackage()</code> call.</p>\n<p>I.e. you could try</p>\n<pre><code>        .addPackages(false, Example.class)\n</code></pre>\n<p>instead of</p>\n<pre><code>        .addPackages(false, Example.class.getPackage())\n</code></pre>\n"}],"owner":{"account_id":28657233,"reputation":11,"user_id":21942943,"display_name":"Iceplanet"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":165,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1692261708,"creation_date":1684784642,"question_id":76309427,"body_markdown":"I&#39;m trying to migrate from Java EE 8 to Jakarta EE 10 and was running a JUnit 5 test with Weld. I created a simple example with JUnit5 and Weld (cdi) could not resolve the (inner) injected classes.\r\n\r\nThe test failed with: **WELD-001408: Unsatisfied dependencies** ...\r\n\r\nExample class (which injects the ExampleHelper class):\r\n\r\n```\r\npublic class Example {\r\n    @Inject\r\n    ExampleHelper exampleHelper;\r\n\r\n    public void getHelloText() {\r\n        exampleHelper.greet();\r\n    }\r\n}\r\n```\r\n\r\nExampleHelper class:\r\n\r\n```\r\npublic class ExampleHelper {\r\n    public void greet() {\r\n        System.out.println(&quot;Hello&quot;);\r\n    }\r\n}\r\n```\r\n\r\nJUnit5 Test:\r\n\r\n```\r\n@ExtendWith(WeldJunit5Extension.class)\r\nclass ExampleTest {\r\n\r\n    @WeldSetup\r\n    public WeldInitiator weld = WeldInitiator.of(WeldInitiator.createWeld()\r\n            .addBeanClass(Example.class)\r\n            .addPackages(false, Example.class.getPackage())\r\n    );\r\n\r\n    @Inject\r\n    Example example;\r\n\r\n    @Test\r\n    public void test() {\r\n        example.getHelloText();\r\n    }\r\n}\r\n```\r\n\r\nI would have expected that by adding the package, all classes within that package could be found and injected. (This is how I did it before with JEE8).\r\n\r\nI get the error:\r\n\r\n```\r\norg.jboss.weld.exceptions.DeploymentException: WELD-001408: Unsatisfied dependencies for type ExampleHelper with qualifiers @Default\r\n  at injection point [BackedAnnotatedField] @Inject com.company.wf28test.Example.exampleHelper\r\n  at com.company.wf28test.Example.exampleHelper(Example.java:0)\r\n```\r\n\r\n\r\nOnly if I explicitly add all injected classes individually Weld can find them.\r\n```\r\n.addBeanClass(Example.class)\r\n.addBeanClass(ExampleHelper.class)\r\n```\r\nthen the test runs through\r\n\r\nDependencies:\r\n\r\n```\r\njakarta.jakartaee-api 10.0.0\r\njunit-jupiter-api 5.9.3\r\njunit-jupiter-engine 5.9.3\r\nweld-junit5 4.0.0.Final\r\n```\r\n\r\n\r\nWhat is my mistake or misunderstanding?\r\n","title":"Weld-Junit5: addPackages doesn&#39;t add all contained beans to the test container","body":"<p>I'm trying to migrate from Java EE 8 to Jakarta EE 10 and was running a JUnit 5 test with Weld. I created a simple example with JUnit5 and Weld (cdi) could not resolve the (inner) injected classes.</p>\n<p>The test failed with: <strong>WELD-001408: Unsatisfied dependencies</strong> ...</p>\n<p>Example class (which injects the ExampleHelper class):</p>\n<pre><code>public class Example {\n    @Inject\n    ExampleHelper exampleHelper;\n\n    public void getHelloText() {\n        exampleHelper.greet();\n    }\n}\n</code></pre>\n<p>ExampleHelper class:</p>\n<pre><code>public class ExampleHelper {\n    public void greet() {\n        System.out.println(&quot;Hello&quot;);\n    }\n}\n</code></pre>\n<p>JUnit5 Test:</p>\n<pre><code>@ExtendWith(WeldJunit5Extension.class)\nclass ExampleTest {\n\n    @WeldSetup\n    public WeldInitiator weld = WeldInitiator.of(WeldInitiator.createWeld()\n            .addBeanClass(Example.class)\n            .addPackages(false, Example.class.getPackage())\n    );\n\n    @Inject\n    Example example;\n\n    @Test\n    public void test() {\n        example.getHelloText();\n    }\n}\n</code></pre>\n<p>I would have expected that by adding the package, all classes within that package could be found and injected. (This is how I did it before with JEE8).</p>\n<p>I get the error:</p>\n<pre><code>org.jboss.weld.exceptions.DeploymentException: WELD-001408: Unsatisfied dependencies for type ExampleHelper with qualifiers @Default\n  at injection point [BackedAnnotatedField] @Inject com.company.wf28test.Example.exampleHelper\n  at com.company.wf28test.Example.exampleHelper(Example.java:0)\n</code></pre>\n<p>Only if I explicitly add all injected classes individually Weld can find them.</p>\n<pre><code>.addBeanClass(Example.class)\n.addBeanClass(ExampleHelper.class)\n</code></pre>\n<p>then the test runs through</p>\n<p>Dependencies:</p>\n<pre><code>jakarta.jakartaee-api 10.0.0\njunit-jupiter-api 5.9.3\njunit-jupiter-engine 5.9.3\nweld-junit5 4.0.0.Final\n</code></pre>\n<p>What is my mistake or misunderstanding?</p>\n"},{"tags":["java","tomcat"],"comments":[{"owner":{"account_id":13361850,"reputation":158,"user_id":9643606,"display_name":"Lennart Deters"},"score":0,"creation_date":1580855953,"post_id":60066333,"comment_id":106233806,"body_markdown":"Please add the important parts of your question not only as Image but in an code block as formatted Text. This way it can be found via the Search engines and is much more readable","body":"Please add the important parts of your question not only as Image but in an code block as formatted Text. This way it can be found via the Search engines and is much more readable"}],"answers":[{"tags":[],"owner":{"account_id":2725644,"reputation":4730,"user_id":2350799,"accept_rate":83,"display_name":"xcesco"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1580855149,"creation_date":1580855149,"answer_id":60066440,"question_id":60066333,"body_markdown":"Try to fix the context path. As you can notice in the log, there is a line that says: `context path must start with /`. The URL of your application is `http://localhost:8080SampleProject`. It has to be `http://localhost:8080/SampleProject` or `http://localhost:8080/`.\r\n\r\nTo do this, in the `tomcat7-maven-plugin` in the `pom.xml`, change the parameter `path` value into &#39;/SampleProject&#39; instead of &#39;SampleProject&#39;\r\n\r\nHope this helps.","title":"Tomcat in Intellij Idea Community Edition (port not recognized)","body":"<p>Try to fix the context path. As you can notice in the log, there is a line that says: <code>context path must start with /</code>. The URL of your application is <code>http://localhost:8080SampleProject</code>. It has to be <code>http://localhost:8080/SampleProject</code> or <code>http://localhost:8080/</code>.</p>\n\n<p>To do this, in the <code>tomcat7-maven-plugin</code> in the <code>pom.xml</code>, change the parameter <code>path</code> value into '/SampleProject' instead of 'SampleProject'</p>\n\n<p>Hope this helps.</p>\n"},{"tags":[],"owner":{"account_id":13361850,"reputation":158,"user_id":9643606,"display_name":"Lennart Deters"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1580855794,"creation_date":1580855794,"answer_id":60066553,"question_id":60066333,"body_markdown":"In your pom.xml your tomcat path has to start with an `/`. \r\n\r\nChange `&lt;path&gt;SampleProject&lt;/path&gt;` to `&lt;path&gt;/SampleProject&lt;/path&gt;` and it will start under `http://localhost:8080/SampleProject`","title":"Tomcat in Intellij Idea Community Edition (port not recognized)","body":"<p>In your pom.xml your tomcat path has to start with an <code>/</code>. </p>\n\n<p>Change <code>&lt;path&gt;SampleProject&lt;/path&gt;</code> to <code>&lt;path&gt;/SampleProject&lt;/path&gt;</code> and it will start under <code>http://localhost:8080/SampleProject</code></p>\n"}],"owner":{"account_id":16801775,"reputation":1,"user_id":12841839,"display_name":"Timm"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":498,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1692261564,"creation_date":1580854577,"question_id":60066333,"body_markdown":"The program starts to work, but an error is issued, and at the moment the process is looping when the protocol starts. Help finish the installation of tomcat.\r\n\r\n[pom.xml file][1]\r\n\r\n[continuation][2]\r\n\r\n[continuation][3]\r\n\r\n[error and result message][4]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/OAzvV.jpg\r\n  [2]: https://i.stack.imgur.com/nt8fy.jpg\r\n  [3]: https://i.stack.imgur.com/tjDjG.jpg\r\n  [4]: https://i.stack.imgur.com/836R6.jpg","title":"Tomcat in Intellij Idea Community Edition (port not recognized)","body":"<p>The program starts to work, but an error is issued, and at the moment the process is looping when the protocol starts. Help finish the installation of tomcat.</p>\n\n<p><a href=\"https://i.stack.imgur.com/OAzvV.jpg\" rel=\"nofollow noreferrer\">pom.xml file</a></p>\n\n<p><a href=\"https://i.stack.imgur.com/nt8fy.jpg\" rel=\"nofollow noreferrer\">continuation</a></p>\n\n<p><a href=\"https://i.stack.imgur.com/tjDjG.jpg\" rel=\"nofollow noreferrer\">continuation</a></p>\n\n<p><a href=\"https://i.stack.imgur.com/836R6.jpg\" rel=\"nofollow noreferrer\">error and result message</a></p>\n"},{"tags":["java","swing","security"],"comments":[{"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":2,"creation_date":1692261300,"post_id":76919738,"comment_id":135600090,"body_markdown":"I&#39;m assuming `getPassword` returns a `char[]` instead of a `String` so that you can clear it later? In most cases, that&#39;s quite useless anyway. It only works if *every single place* that password goes is memory you have control over and can overwrite later. So if, like you&#39;re saying, the password needs to go into something that wants a `String`, there&#39;s no point in doing that any more. And it&#39;s not super-important anyway: You can only leak the password this way if another process gets access to your memory. If that happens, you have bigger problems.","body":"I&#39;m assuming <code>getPassword</code> returns a <code>char[]</code> instead of a <code>String</code> so that you can clear it later? In most cases, that&#39;s quite useless anyway. It only works if <i>every single place</i> that password goes is memory you have control over and can overwrite later. So if, like you&#39;re saying, the password needs to go into something that wants a <code>String</code>, there&#39;s no point in doing that any more. And it&#39;s not super-important anyway: You can only leak the password this way if another process gets access to your memory. If that happens, you have bigger problems."}],"owner":{"account_id":29242543,"reputation":1,"user_id":22403736,"display_name":"endlessdeep"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1692261492,"answer_count":0,"score":0,"last_activity_date":1692261187,"creation_date":1692261079,"question_id":76919738,"body_markdown":"I wrote an application with Java Swing that requires the user to log in with their username and password before continuing. The application then sends an HTTP request to generate an access token.\r\n\r\nI know that you shouldn&#39;t use the .getText method for a password field and instead the .getPassword method, still I need the password as a string, in order to make a HTTP request (okhttp3) with the password value in the request body (which is a string). How can I manage the security then?","title":"Can you securely store a password as a string?","body":"<p>I wrote an application with Java Swing that requires the user to log in with their username and password before continuing. The application then sends an HTTP request to generate an access token.</p>\n<p>I know that you shouldn't use the .getText method for a password field and instead the .getPassword method, still I need the password as a string, in order to make a HTTP request (okhttp3) with the password value in the request body (which is a string). How can I manage the security then?</p>\n"},{"tags":["java","spring-boot","csrf","csrf-token"],"answers":[{"tags":[],"owner":{"account_id":355197,"reputation":353,"user_id":693993,"accept_rate":100,"display_name":"drumonii"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1587436985,"creation_date":1587436985,"answer_id":61335139,"question_id":61334171,"body_markdown":"If you want to use CSRF with a http only false cookie, why not use Spring Security&#39;s built in `CookieCsrfTokenRepository`? Should simplify your config that way. `CustomCsrfFilter` seems to be adding a `XSRF-TOKEN` cookie to the `HttpServletResponse`, which `CookieCsrfTokenRepository` [does for you](https://github.com/spring-projects/spring-security/blob/master/web/src/main/java/org/springframework/security/web/csrf/CookieCsrfTokenRepository.java#L66).\r\n\r\nThe default CSRF cookie name when using `CookieCsrfTokenRepository` is `X-CSRF-TOKEN`, which is conveniently the default name Angular&#39;s `HttpClientXsrfModule` uses. Of course you can customize that if you need.\r\n\r\nSo your security config becomes:\r\n\r\n```\r\n    @Override\r\n\tprotected void configure(HttpSecurity http) throws Exception {\r\n\t\thttp\r\n\t\t\t\t.csrf()\r\n\t\t\t\t\t.csrfTokenRepository(CookieCsrfTokenRepository.withHttpOnlyFalse())\r\n\t\t\t\t.and()\r\n\t\t\t\t.exceptionHandling()\r\n\t\t\t\t\t.authenticationEntryPoint(new Http403ForbiddenEntryPoint())\r\n\t\t\t\t.and()\r\n\t\t\t\t\t.authenticationProvider(getProvider())\r\n\t\t\t\t.formLogin()\r\n\t\t\t\t\t.loginProcessingUrl(&quot;/api/login&quot;)\r\n\t\t\t\t\t.successHandler(new AuthentificationLoginSuccessHandler())\r\n\t\t\t\t\t.failureHandler(new SimpleUrlAuthenticationFailureHandler())\r\n\t\t\t\t.and()\r\n\t\t\t\t.logout()\r\n\t\t\t\t\t.logoutUrl(&quot;/api/logout&quot;)\r\n\t\t\t\t\t.logoutSuccessHandler(new AuthentificationLogoutSuccessHandler())\r\n\t\t\t\t\t.invalidateHttpSession(true)\r\n\t\t\t\t.and()\r\n\t\t\t\t.authorizeRequests()\r\n\t\t\t\t\t.anyRequest().authenticated();\r\n    }\r\n```\r\n\r\nAnd with Angular, your app module has `HttpClientXsrfModule` as \r\n\r\n```\r\n@NgModule({\r\n  declarations: [\r\n    AppComponent\r\n  ],\r\n  imports: [\r\n    BrowserModule,\r\n    HttpClientModule,\r\n    HttpClientXsrfModule\r\n  ],\r\n  providers: [],\r\n  bootstrap: [AppComponent]\r\n})\r\nexport class AppModule { }\r\n```","title":"Spring Boot -- Post request with CSRF token produce 403 error","body":"<p>If you want to use CSRF with a http only false cookie, why not use Spring Security's built in <code>CookieCsrfTokenRepository</code>? Should simplify your config that way. <code>CustomCsrfFilter</code> seems to be adding a <code>XSRF-TOKEN</code> cookie to the <code>HttpServletResponse</code>, which <code>CookieCsrfTokenRepository</code> <a href=\"https://github.com/spring-projects/spring-security/blob/master/web/src/main/java/org/springframework/security/web/csrf/CookieCsrfTokenRepository.java#L66\" rel=\"nofollow noreferrer\">does for you</a>.</p>\n\n<p>The default CSRF cookie name when using <code>CookieCsrfTokenRepository</code> is <code>X-CSRF-TOKEN</code>, which is conveniently the default name Angular's <code>HttpClientXsrfModule</code> uses. Of course you can customize that if you need.</p>\n\n<p>So your security config becomes:</p>\n\n<pre><code>    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n        http\n                .csrf()\n                    .csrfTokenRepository(CookieCsrfTokenRepository.withHttpOnlyFalse())\n                .and()\n                .exceptionHandling()\n                    .authenticationEntryPoint(new Http403ForbiddenEntryPoint())\n                .and()\n                    .authenticationProvider(getProvider())\n                .formLogin()\n                    .loginProcessingUrl(\"/api/login\")\n                    .successHandler(new AuthentificationLoginSuccessHandler())\n                    .failureHandler(new SimpleUrlAuthenticationFailureHandler())\n                .and()\n                .logout()\n                    .logoutUrl(\"/api/logout\")\n                    .logoutSuccessHandler(new AuthentificationLogoutSuccessHandler())\n                    .invalidateHttpSession(true)\n                .and()\n                .authorizeRequests()\n                    .anyRequest().authenticated();\n    }\n</code></pre>\n\n<p>And with Angular, your app module has <code>HttpClientXsrfModule</code> as </p>\n\n<pre><code>@NgModule({\n  declarations: [\n    AppComponent\n  ],\n  imports: [\n    BrowserModule,\n    HttpClientModule,\n    HttpClientXsrfModule\n  ],\n  providers: [],\n  bootstrap: [AppComponent]\n})\nexport class AppModule { }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8707975,"reputation":13,"user_id":6515240,"display_name":"softMachina"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692260568,"creation_date":1692260568,"answer_id":76919674,"question_id":61334171,"body_markdown":"Even though this question is kind of old, I&#39;ve been struggling with the same issue for the last couple of days. A lot of people suggest to add:\r\n```html\r\n       &lt;th:input type=&quot;hidden&quot; name=&quot;${_csrf.parameterName}&quot;\r\n                        value=&quot;${_csrf.token}&quot; /&gt;\r\n```\r\ninto your form. Despite of that, the csrf-token isn&#39;t send.\r\nFor me the problem was solved by moving the html-file, containing the form into the template folder of my Spring Boot project. It seems as if thymeleaf is only then able to add the csrf-token automatically.","title":"Spring Boot -- Post request with CSRF token produce 403 error","body":"<p>Even though this question is kind of old, I've been struggling with the same issue for the last couple of days. A lot of people suggest to add:</p>\n<pre class=\"lang-html prettyprint-override\"><code>       &lt;th:input type=&quot;hidden&quot; name=&quot;${_csrf.parameterName}&quot;\n                        value=&quot;${_csrf.token}&quot; /&gt;\n</code></pre>\n<p>into your form. Despite of that, the csrf-token isn't send.\nFor me the problem was solved by moving the html-file, containing the form into the template folder of my Spring Boot project. It seems as if thymeleaf is only then able to add the csrf-token automatically.</p>\n"}],"owner":{"account_id":13923325,"reputation":55,"user_id":10053232,"display_name":"Thomas"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7031,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":61335139,"answer_count":2,"score":4,"last_activity_date":1692260568,"creation_date":1587428716,"question_id":61334171,"body_markdown":"I&#39;m trying to implement CSRF token security in my Spring Boot API to learn how to deal with that.\r\n\r\nI&#39;ve followed [this tutorial (server side part)][1] and this is my security config:\r\n```\r\nprivate static final String[] CSRF_IGNORE = {&quot;/api/login&quot;};\r\n    \r\n\r\nprotected void configure(HttpSecurity http) throws Exception {\r\n        http\r\n                .csrf()\r\n                .ignoringAntMatchers(CSRF_IGNORE)\r\n                .csrfTokenRepository(csrfTokenRepository())\r\n                .and()\r\n                .addFilterAfter(new CustomCsrfFilter(), CsrfFilter.class)\r\n                .exceptionHandling()\r\n                .authenticationEntryPoint(new Http403ForbiddenEntryPoint() {\r\n                })\r\n                .and()\r\n                .authenticationProvider(getProvider())\r\n                .formLogin()\r\n                .loginProcessingUrl(&quot;/api/login&quot;)\r\n                .successHandler(new AuthentificationLoginSuccessHandler())\r\n                .failureHandler(new SimpleUrlAuthenticationFailureHandler())\r\n                .and()\r\n                .logout()\r\n                .logoutUrl(&quot;/api/logout&quot;)\r\n                .logoutSuccessHandler(new AuthentificationLogoutSuccessHandler())\r\n                .invalidateHttpSession(true)\r\n                .and()\r\n                .authorizeRequests()\r\n                .anyRequest().authenticated();\r\n    }\r\n``` \r\n\r\nOthers things are the same as in the tutorial.\r\n\r\nI&#39;m testing with Postman.\r\n\r\nWhen i add the endpoint i want in **CSRF_IGNORE**, i can see with logger/debug that token stocked, and token from cookie are the same, because the security config&#39;s part **CustomCsrfFilter.java** in **.addFilterAfter()** is used, but when i remove the endpoint from this CSRF_IGNORE, what i get is a 403, and, logger/debug in the **CustomCsrfFilter.java** isn&#39;t used, so i&#39;m thinking that tokens aren&#39;t compared.\r\n\r\nI think I missed something and I would like to understand.\r\n\r\n\r\n  [1]: http://roufid.com/angular-spring-security-csrf-configuration/#server_side_configuration","title":"Spring Boot -- Post request with CSRF token produce 403 error","body":"<p>I'm trying to implement CSRF token security in my Spring Boot API to learn how to deal with that.</p>\n\n<p>I've followed <a href=\"http://roufid.com/angular-spring-security-csrf-configuration/#server_side_configuration\" rel=\"nofollow noreferrer\">this tutorial (server side part)</a> and this is my security config:</p>\n\n<pre><code>private static final String[] CSRF_IGNORE = {\"/api/login\"};\n\n\nprotected void configure(HttpSecurity http) throws Exception {\n        http\n                .csrf()\n                .ignoringAntMatchers(CSRF_IGNORE)\n                .csrfTokenRepository(csrfTokenRepository())\n                .and()\n                .addFilterAfter(new CustomCsrfFilter(), CsrfFilter.class)\n                .exceptionHandling()\n                .authenticationEntryPoint(new Http403ForbiddenEntryPoint() {\n                })\n                .and()\n                .authenticationProvider(getProvider())\n                .formLogin()\n                .loginProcessingUrl(\"/api/login\")\n                .successHandler(new AuthentificationLoginSuccessHandler())\n                .failureHandler(new SimpleUrlAuthenticationFailureHandler())\n                .and()\n                .logout()\n                .logoutUrl(\"/api/logout\")\n                .logoutSuccessHandler(new AuthentificationLogoutSuccessHandler())\n                .invalidateHttpSession(true)\n                .and()\n                .authorizeRequests()\n                .anyRequest().authenticated();\n    }\n</code></pre>\n\n<p>Others things are the same as in the tutorial.</p>\n\n<p>I'm testing with Postman.</p>\n\n<p>When i add the endpoint i want in <strong>CSRF_IGNORE</strong>, i can see with logger/debug that token stocked, and token from cookie are the same, because the security config's part <strong>CustomCsrfFilter.java</strong> in <strong>.addFilterAfter()</strong> is used, but when i remove the endpoint from this CSRF_IGNORE, what i get is a 403, and, logger/debug in the <strong>CustomCsrfFilter.java</strong> isn't used, so i'm thinking that tokens aren't compared.</p>\n\n<p>I think I missed something and I would like to understand.</p>\n"},{"tags":["java","css","parsing","javafx"],"answers":[{"tags":[],"owner":{"account_id":4910667,"reputation":44671,"user_id":3956070,"display_name":"Jos&#233; Pereda"},"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1692260012,"creation_date":1488734385,"answer_id":42611487,"question_id":42609756,"body_markdown":"There are several ways you can tackle the conversion of a CSS declaration into a Color.\r\n\r\n**Style an auxiliar node**\r\n\r\nThis is quite simple, but effective: The idea is that you could just style the background color of a node with the same css, and then set the colorPicker value with that color.\r\n\r\nThe only thing you need to take into account in this case is that the node is styled _only_ when is added to a scene.\r\n\r\nSo you have to add the node to the scene. Adding a node with 0x0 size won&#39;t cause any issue, but maybe you don&#39;t want it to be there, so you can use an auxiliar scene.\r\n\r\n    public class CSSParsingApp extends Application {\r\n\r\n        @Override\r\n        public void start(Stage primaryStage) {\r\n            ColorPicker cpBackground = new ColorPicker(retrieveColor(&quot;value1&quot;));\r\n            ColorPicker cpBase = new ColorPicker(retrieveColor(&quot;value2&quot;));\r\n            ColorPicker cpDefaultButton = new ColorPicker(retrieveColor(&quot;value3&quot;));\r\n\r\n            VBox root = new VBox(10, cpBackground, cpDefaultButton, cpBase);\r\n            root.setAlignment(Pos.CENTER);\r\n\r\n            Scene scene = new Scene(root, 300, 250);\r\n            scene.getStylesheets().add(getClass().getResource(&quot;style.css&quot;).toExternalForm());\r\n\r\n            primaryStage.setScene(scene);\r\n            primaryStage.show();\r\n        }\r\n\r\n        private Color retrieveColor(String value) {\r\n            Pane pane = new Pane();\r\n            pane.getStyleClass().add(value);\r\n\r\n            Scene sceneAux = new Scene(pane);\r\n            sceneAux.getStylesheets().add(getClass().getResource(&quot;style.css&quot;).toExternalForm());\r\n            pane.applyCss();\r\n            return (Color) pane.getBackground().getFills().get(0).getFill();\r\n        }\r\n\r\n        public static void main(String[] args) {\r\n            launch(args);\r\n        }\r\n\r\n    }\r\n\r\nwhere `style.css` is:\r\n\r\n    .root {\r\n        -fx-background: #325c81;\r\n        -fx-default-button: #77a3ca;\r\n        -fx-base: #a7c4dd;\r\n    }\r\n\r\n    .value1 {\r\n        -fx-background-color: -fx-background;\r\n    }\r\n    .value2 {\r\n        -fx-background-color: -fx-default-button;\r\n    }\r\n    .value3 {\r\n        -fx-background-color: -fx-base;\r\n    }\r\n\r\n**Use StylableProperties**\r\n\r\nA similar, more elegant solution is found [here][1]. It uses `StylableProperties` to create a node, that you can style with a custom `-named-color` property, and then adds this `helper` node to the main scene.\r\n\r\nBasically it is the same idea as the one above, maybe more clean, as you don&#39;t need to modify your css file.\r\n\r\nUsing `CssToColorHelper`, your code will be like this:\r\n\r\n    public class CSSParsingApp extends Application {\r\n\r\n        private CssToColorHelper helper = new CssToColorHelper();\r\n\r\n        @Override\r\n        public void start(Stage primaryStage) {\r\n            ColorPicker cpBackground = new ColorPicker();\r\n            ColorPicker cpBase = new ColorPicker();\r\n            ColorPicker cpDefaultButton = new ColorPicker();  \r\n\r\n            VBox root = new VBox(10, cpBackground, cpDefaultButton, cpBase, helper);\r\n            root.setAlignment(Pos.CENTER);\r\n\r\n            Scene scene = new Scene(root, 300, 250);\r\n            scene.getStylesheets().add(getClass().getResource(&quot;style.css&quot;).toExternalForm());\r\n\r\n            cpBackground.setValue(getNamedColor(&quot;-fx-background&quot;));\r\n            cpDefaultButton.setValue(getNamedColor(&quot;-fx-default-button&quot;));\r\n            cpBase.setValue(getNamedColor(&quot;-fx-base&quot;));\r\n\r\n            primaryStage.setScene(scene);\r\n            primaryStage.show();\r\n        }\r\n\r\n        private Color getNamedColor(String name) {\r\n            helper.setStyle(&quot;-named-color: &quot; + name + &quot;;&quot;);\r\n            helper.applyCss();\r\n\r\n            return helper.getNamedColor();      \r\n        }\r\n        /**\r\n         * @param args the command line arguments\r\n         */\r\n        public static void main(String[] args) {\r\n            launch(args);\r\n        }\r\n    }\r\n\r\nwhere `style.css` is your css file:\r\n\r\n    .root {\r\n        -fx-background: #325c81;\r\n        -fx-default-button: #77a3ca;\r\n        -fx-base: #a7c4dd;\r\n    }\r\n\r\n**Use JavaFX CssParser**\r\n\r\nIf you are looking for a CSS parser, why don&#39;t you just use the one included in JavaFX, the one you actually use to apply styling to your app?\r\n\r\nIt is under `javafx.css.CssParser`, and it has been a part of the public API since [JavaFX 9][2]. \r\n\r\nWith it you can parse the CSS file and retrieve any parsed value easily.\r\n\r\n     public class CSSParsingApp extends Application {\r\n\r\n        @Override\r\n        public void start(Stage primaryStage) {\r\n            ColorPicker cpBackground = new ColorPicker();\r\n            ColorPicker cpBase = new ColorPicker();\r\n            ColorPicker cpDefaultButton = new ColorPicker();  \r\n\r\n            VBox root = new VBox(10, cpBackground, cpDefaultButton, cpBase);\r\n            root.setAlignment(Pos.CENTER);\r\n\r\n            Scene scene = new Scene(root, 300, 250);\r\n            scene.getStylesheets().add(getClass().getResource(&quot;style.css&quot;).toExternalForm());\r\n\r\n            cpBackground.setValue(parseColor(&quot;-fx-background&quot;));\r\n            cpDefaultButton.setValue(parseColor(&quot;-fx-default-button&quot;));\r\n            cpBase.setValue(parseColor(&quot;-fx-base&quot;));\r\n\r\n            primaryStage.setScene(scene);\r\n            primaryStage.show();\r\n        }\r\n\r\n        private Color parseColor(String property) {\r\n            CssParser parser = new CssParser();\r\n            try {\r\n                Stylesheet css = parser.parse(getClass().getResource(&quot;style.css&quot;).toURI().toURL());\r\n                final Rule rootRule = css.getRules().get(0); // .root\r\n                return (Color) rootRule.getDeclarations().stream()\r\n                    .filter(d -&gt; d.getProperty().equals(property))\r\n                    .findFirst()\r\n                    .map(d -&gt; ColorConverter.getInstance().convert(d.getParsedValue(), null))\r\n                    .get();\r\n            } catch (URISyntaxException | IOException ex) { }\r\n            return Color.WHITE;\r\n        }\r\n\r\n        /**\r\n         * @param args the command line arguments\r\n         */\r\n        public static void main(String[] args) {\r\n            launch(args);\r\n        }\r\n    }\r\n\r\nwhere `style.css` is your css file:\r\n\r\n    .root {\r\n        -fx-background: #325c81;\r\n        -fx-default-button: #77a3ca;\r\n        -fx-base: #a7c4dd;\r\n    }\r\n\r\n  [1]: https://stackoverflow.com/questions/32625212/convert-color-from-css-to-javafx-color-object\r\n  [2]: https://openjfx.io/javadoc/20/javafx.graphics/javafx/css/CssParser.html","title":"How to parse/map JavaFX CSS file to retrieve its properties and values?","body":"<p>There are several ways you can tackle the conversion of a CSS declaration into a Color.</p>\n<p><strong>Style an auxiliar node</strong></p>\n<p>This is quite simple, but effective: The idea is that you could just style the background color of a node with the same css, and then set the colorPicker value with that color.</p>\n<p>The only thing you need to take into account in this case is that the node is styled <em>only</em> when is added to a scene.</p>\n<p>So you have to add the node to the scene. Adding a node with 0x0 size won't cause any issue, but maybe you don't want it to be there, so you can use an auxiliar scene.</p>\n<pre><code>public class CSSParsingApp extends Application {\n\n    @Override\n    public void start(Stage primaryStage) {\n        ColorPicker cpBackground = new ColorPicker(retrieveColor(&quot;value1&quot;));\n        ColorPicker cpBase = new ColorPicker(retrieveColor(&quot;value2&quot;));\n        ColorPicker cpDefaultButton = new ColorPicker(retrieveColor(&quot;value3&quot;));\n\n        VBox root = new VBox(10, cpBackground, cpDefaultButton, cpBase);\n        root.setAlignment(Pos.CENTER);\n\n        Scene scene = new Scene(root, 300, 250);\n        scene.getStylesheets().add(getClass().getResource(&quot;style.css&quot;).toExternalForm());\n\n        primaryStage.setScene(scene);\n        primaryStage.show();\n    }\n\n    private Color retrieveColor(String value) {\n        Pane pane = new Pane();\n        pane.getStyleClass().add(value);\n\n        Scene sceneAux = new Scene(pane);\n        sceneAux.getStylesheets().add(getClass().getResource(&quot;style.css&quot;).toExternalForm());\n        pane.applyCss();\n        return (Color) pane.getBackground().getFills().get(0).getFill();\n    }\n\n    public static void main(String[] args) {\n        launch(args);\n    }\n\n}\n</code></pre>\n<p>where <code>style.css</code> is:</p>\n<pre><code>.root {\n    -fx-background: #325c81;\n    -fx-default-button: #77a3ca;\n    -fx-base: #a7c4dd;\n}\n\n.value1 {\n    -fx-background-color: -fx-background;\n}\n.value2 {\n    -fx-background-color: -fx-default-button;\n}\n.value3 {\n    -fx-background-color: -fx-base;\n}\n</code></pre>\n<p><strong>Use StylableProperties</strong></p>\n<p>A similar, more elegant solution is found <a href=\"https://stackoverflow.com/questions/32625212/convert-color-from-css-to-javafx-color-object\">here</a>. It uses <code>StylableProperties</code> to create a node, that you can style with a custom <code>-named-color</code> property, and then adds this <code>helper</code> node to the main scene.</p>\n<p>Basically it is the same idea as the one above, maybe more clean, as you don't need to modify your css file.</p>\n<p>Using <code>CssToColorHelper</code>, your code will be like this:</p>\n<pre><code>public class CSSParsingApp extends Application {\n\n    private CssToColorHelper helper = new CssToColorHelper();\n\n    @Override\n    public void start(Stage primaryStage) {\n        ColorPicker cpBackground = new ColorPicker();\n        ColorPicker cpBase = new ColorPicker();\n        ColorPicker cpDefaultButton = new ColorPicker();  \n\n        VBox root = new VBox(10, cpBackground, cpDefaultButton, cpBase, helper);\n        root.setAlignment(Pos.CENTER);\n\n        Scene scene = new Scene(root, 300, 250);\n        scene.getStylesheets().add(getClass().getResource(&quot;style.css&quot;).toExternalForm());\n\n        cpBackground.setValue(getNamedColor(&quot;-fx-background&quot;));\n        cpDefaultButton.setValue(getNamedColor(&quot;-fx-default-button&quot;));\n        cpBase.setValue(getNamedColor(&quot;-fx-base&quot;));\n\n        primaryStage.setScene(scene);\n        primaryStage.show();\n    }\n\n    private Color getNamedColor(String name) {\n        helper.setStyle(&quot;-named-color: &quot; + name + &quot;;&quot;);\n        helper.applyCss();\n\n        return helper.getNamedColor();      \n    }\n    /**\n     * @param args the command line arguments\n     */\n    public static void main(String[] args) {\n        launch(args);\n    }\n}\n</code></pre>\n<p>where <code>style.css</code> is your css file:</p>\n<pre><code>.root {\n    -fx-background: #325c81;\n    -fx-default-button: #77a3ca;\n    -fx-base: #a7c4dd;\n}\n</code></pre>\n<p><strong>Use JavaFX CssParser</strong></p>\n<p>If you are looking for a CSS parser, why don't you just use the one included in JavaFX, the one you actually use to apply styling to your app?</p>\n<p>It is under <code>javafx.css.CssParser</code>, and it has been a part of the public API since <a href=\"https://openjfx.io/javadoc/20/javafx.graphics/javafx/css/CssParser.html\" rel=\"nofollow noreferrer\">JavaFX 9</a>.</p>\n<p>With it you can parse the CSS file and retrieve any parsed value easily.</p>\n<pre><code> public class CSSParsingApp extends Application {\n\n    @Override\n    public void start(Stage primaryStage) {\n        ColorPicker cpBackground = new ColorPicker();\n        ColorPicker cpBase = new ColorPicker();\n        ColorPicker cpDefaultButton = new ColorPicker();  \n\n        VBox root = new VBox(10, cpBackground, cpDefaultButton, cpBase);\n        root.setAlignment(Pos.CENTER);\n\n        Scene scene = new Scene(root, 300, 250);\n        scene.getStylesheets().add(getClass().getResource(&quot;style.css&quot;).toExternalForm());\n\n        cpBackground.setValue(parseColor(&quot;-fx-background&quot;));\n        cpDefaultButton.setValue(parseColor(&quot;-fx-default-button&quot;));\n        cpBase.setValue(parseColor(&quot;-fx-base&quot;));\n\n        primaryStage.setScene(scene);\n        primaryStage.show();\n    }\n\n    private Color parseColor(String property) {\n        CssParser parser = new CssParser();\n        try {\n            Stylesheet css = parser.parse(getClass().getResource(&quot;style.css&quot;).toURI().toURL());\n            final Rule rootRule = css.getRules().get(0); // .root\n            return (Color) rootRule.getDeclarations().stream()\n                .filter(d -&gt; d.getProperty().equals(property))\n                .findFirst()\n                .map(d -&gt; ColorConverter.getInstance().convert(d.getParsedValue(), null))\n                .get();\n        } catch (URISyntaxException | IOException ex) { }\n        return Color.WHITE;\n    }\n\n    /**\n     * @param args the command line arguments\n     */\n    public static void main(String[] args) {\n        launch(args);\n    }\n}\n</code></pre>\n<p>where <code>style.css</code> is your css file:</p>\n<pre><code>.root {\n    -fx-background: #325c81;\n    -fx-default-button: #77a3ca;\n    -fx-base: #a7c4dd;\n}\n</code></pre>\n"}],"owner":{"account_id":8664592,"reputation":9965,"user_id":6485651,"accept_rate":65,"display_name":"Zephyr"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2975,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":42611487,"answer_count":1,"score":4,"last_activity_date":1692260012,"creation_date":1488725061,"question_id":42609756,"body_markdown":"My application allows users to use custom CSS themes to style the interface.  I have several pre-built &quot;themes&quot; available to choose from that are very simple, with only 3 properties.\r\n\r\n**Sample CSS:**\r\n\r\n    .root{\r\n        -fx-background: #325c81;\r\n        -fx-default-button: #77a3ca;\r\n        -fx-base: #a7c4dd;\r\n    }\r\n\r\nThe application has 3 `ColorPicker` controls that need to allow users to select a color for each of those properties and save back to the CSS file.\r\n\r\nI have no problem with actually writing the CSS file, but I cannot find a way to parse the `.css` file in order to set the values of the `ColorPicker` controls with the values from the `.css` file.\r\n\r\n**Basic Program Flow**\r\n\r\n1) User selects a premade theme from `ComboBox`:\r\n\r\n    cboPresetTheme.valueProperty().addListener((observable, priorTheme, newTheme) -&gt; {\r\n                    Utility.applyTheme(cboPresetTheme.getScene(), newTheme);\r\n                });\r\n\r\n2) The associated `.css` file is loaded and applied to the current `Scene`:   \r\n\r\n    public static void applyTheme(Scene scene, Theme theme) {\r\n        scene.getStylesheets().clear();\r\n\r\n        File css = new File(&quot;themes/&quot; + theme.getFileName());\r\n        File fontFile = new File(&quot;themes/Font.css&quot;);\r\n\r\n        scene.getStylesheets().addAll(\r\n                css.toURI().toString(),\r\n                fontFile.toURI().toString());\r\n    }\r\n\r\n3) The 3 `ColorPicker` controls are updated with the values from the applied `StyleSheet`:\r\n\r\n    cpBackground.setValue(Color.valueOf(cssFileBackground));\r\n    cpBase.setValue(Color.valueOf(cssFileBase));\r\n    cpDefaultButton.setValue(Color.valueOf(cssFileDefaultButton));\r\n\r\nWhile I have no problem with steps 1 &amp; 2, I do not know how to process step 3.\r\n\r\nI have looked at other CSS Parser libraries (thank you, Google) but they seem more geared toward stand CSS and don&#39;t support FX properties. The StackExchange question [edit or parse FX-CSS file programmatically][1] appears to be asking the same question but it was never successfully answered.\r\n\r\nOne answer suggests using [CSS Parser][2] to accomplish this, but as there is little to know documentation (and what is there is beyond my current comprehension level), I don&#39;t know where to begin.\r\n\r\nI understand there may not be a standard API currently available to accomplish this, but I was hoping there may be a simple library or solution out there that I have been unable to find.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/33776022/javafx-edit-or-parse-fx-css-file-programmatically &quot;edit or parse FX-CSS file programmatically&quot;\r\n  [2]: http://sourceforge.net/projects/cssparser/","title":"How to parse/map JavaFX CSS file to retrieve its properties and values?","body":"<p>My application allows users to use custom CSS themes to style the interface.  I have several pre-built \"themes\" available to choose from that are very simple, with only 3 properties.</p>\n\n<p><strong>Sample CSS:</strong></p>\n\n<pre><code>.root{\n    -fx-background: #325c81;\n    -fx-default-button: #77a3ca;\n    -fx-base: #a7c4dd;\n}\n</code></pre>\n\n<p>The application has 3 <code>ColorPicker</code> controls that need to allow users to select a color for each of those properties and save back to the CSS file.</p>\n\n<p>I have no problem with actually writing the CSS file, but I cannot find a way to parse the <code>.css</code> file in order to set the values of the <code>ColorPicker</code> controls with the values from the <code>.css</code> file.</p>\n\n<p><strong>Basic Program Flow</strong></p>\n\n<p>1) User selects a premade theme from <code>ComboBox</code>:</p>\n\n<pre><code>cboPresetTheme.valueProperty().addListener((observable, priorTheme, newTheme) -&gt; {\n                Utility.applyTheme(cboPresetTheme.getScene(), newTheme);\n            });\n</code></pre>\n\n<p>2) The associated <code>.css</code> file is loaded and applied to the current <code>Scene</code>:   </p>\n\n<pre><code>public static void applyTheme(Scene scene, Theme theme) {\n    scene.getStylesheets().clear();\n\n    File css = new File(\"themes/\" + theme.getFileName());\n    File fontFile = new File(\"themes/Font.css\");\n\n    scene.getStylesheets().addAll(\n            css.toURI().toString(),\n            fontFile.toURI().toString());\n}\n</code></pre>\n\n<p>3) The 3 <code>ColorPicker</code> controls are updated with the values from the applied <code>StyleSheet</code>:</p>\n\n<pre><code>cpBackground.setValue(Color.valueOf(cssFileBackground));\ncpBase.setValue(Color.valueOf(cssFileBase));\ncpDefaultButton.setValue(Color.valueOf(cssFileDefaultButton));\n</code></pre>\n\n<p>While I have no problem with steps 1 &amp; 2, I do not know how to process step 3.</p>\n\n<p>I have looked at other CSS Parser libraries (thank you, Google) but they seem more geared toward stand CSS and don't support FX properties. The StackExchange question <a href=\"https://stackoverflow.com/questions/33776022/javafx-edit-or-parse-fx-css-file-programmatically\" title=\"edit or parse FX-CSS file programmatically\">edit or parse FX-CSS file programmatically</a> appears to be asking the same question but it was never successfully answered.</p>\n\n<p>One answer suggests using <a href=\"http://sourceforge.net/projects/cssparser/\" rel=\"nofollow noreferrer\">CSS Parser</a> to accomplish this, but as there is little to know documentation (and what is there is beyond my current comprehension level), I don't know where to begin.</p>\n\n<p>I understand there may not be a standard API currently available to accomplish this, but I was hoping there may be a simple library or solution out there that I have been unable to find.</p>\n"},{"tags":["java","concurrency","java-8","future","completable-future"],"comments":[{"owner":{"account_id":2611247,"reputation":1756,"user_id":2261315,"accept_rate":60,"display_name":"Andrei Epure"},"score":0,"creation_date":1491383618,"post_id":43226405,"comment_id":73523515,"body_markdown":"Did you look into using a CompletionService rather than mapping the results to an array? http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/CompletionService.html","body":"Did you look into using a CompletionService rather than mapping the results to an array? <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/CompletionService.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/7/docs/api/java/util/concurrent/&hellip;</a>"},{"owner":{"account_id":9119853,"reputation":585,"user_id":6785649,"display_name":"Samuel Kok"},"score":0,"creation_date":1491383679,"post_id":43226405,"comment_id":73523563,"body_markdown":"Perhaps try [CompletionService](http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/CompletionService.html)? Here is an [explanation](http://stackoverflow.com/a/19348417/6785649).","body":"Perhaps try <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/CompletionService.html\" rel=\"nofollow noreferrer\">CompletionService</a>? Here is an <a href=\"http://stackoverflow.com/a/19348417/6785649\">explanation</a>."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":4,"creation_date":1491383994,"post_id":43226405,"comment_id":73523773,"body_markdown":"The `CompletionService` is quite useless if you dont have control over the code that produces the `Future`/submits the job to an `Executor`.","body":"The <code>CompletionService</code> is quite useless if you dont have control over the code that produces the <code>Future</code>/submits the job to an <code>Executor</code>."}],"answers":[{"tags":[],"owner":{"account_id":1056871,"reputation":117729,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1491384684,"creation_date":1491384111,"answer_id":43226982,"question_id":43226405,"body_markdown":"Having this list of `List&lt;Future&lt;Object&gt;&gt;`, I would submit it to a custom pool, instead of using the default stream parallel processing.\r\n\r\nThat is because the stream api uses a common pool for parallel processing and you will call `get` on those Futures(if it takes significant time for processing) - you will block all other stream operations that use parallel operations within your application until this one is done.\r\n\r\nThis would a bit like this:\r\n\r\n\r\n    forJoinPool.submit( () -&gt; list.stream().parallel().map(future -&gt; future.get()).collect(Collectors.toList())).get();\r\n\r\n\r\nI would go with a custom pool like shown [here][1]\r\n\r\n\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/21163108/custom-thread-pool-in-java-8-parallel-stream","title":"Most efficient way to stream on list of Futures","body":"<p>Having this list of <code>List&lt;Future&lt;Object&gt;&gt;</code>, I would submit it to a custom pool, instead of using the default stream parallel processing.</p>\n\n<p>That is because the stream api uses a common pool for parallel processing and you will call <code>get</code> on those Futures(if it takes significant time for processing) - you will block all other stream operations that use parallel operations within your application until this one is done.</p>\n\n<p>This would a bit like this:</p>\n\n<pre><code>forJoinPool.submit( () -&gt; list.stream().parallel().map(future -&gt; future.get()).collect(Collectors.toList())).get();\n</code></pre>\n\n<p>I would go with a custom pool like shown <a href=\"https://stackoverflow.com/questions/21163108/custom-thread-pool-in-java-8-parallel-stream\">here</a></p>\n"},{"tags":[],"owner":{"account_id":5786048,"reputation":1847,"user_id":4565235,"display_name":"David Lilljegren"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692259645,"creation_date":1692259645,"answer_id":76919568,"question_id":43226405,"body_markdown":"I found the stream().parallel() tricky to control, depending on the data structure of origin it may not always run in parallel.\r\nHere&#39;s a way to fork join a stream of parallel tasks using *CompletableFuture.join*.\r\n\r\n        var pool = new ForkJoinPool(4);\r\n        IntFunction&lt;CompletableFuture&lt;IntStream&gt;&gt; makePair = i -&gt; CompletableFuture.supplyAsync(() -&gt; IntStream.of(i, i), pool);\r\n        var res = IntStream.of(1, 2, 3, 4, 5).mapToObj(makePair).flatMapToInt(CompletableFuture::join).sum();\r\n        System.out.println(res);\r\n\r\n","title":"Most efficient way to stream on list of Futures","body":"<p>I found the stream().parallel() tricky to control, depending on the data structure of origin it may not always run in parallel.\nHere's a way to fork join a stream of parallel tasks using <em>CompletableFuture.join</em>.</p>\n<pre><code>    var pool = new ForkJoinPool(4);\n    IntFunction&lt;CompletableFuture&lt;IntStream&gt;&gt; makePair = i -&gt; CompletableFuture.supplyAsync(() -&gt; IntStream.of(i, i), pool);\n    var res = IntStream.of(1, 2, 3, 4, 5).mapToObj(makePair).flatMapToInt(CompletableFuture::join).sum();\n    System.out.println(res);\n</code></pre>\n"}],"owner":{"account_id":7751906,"reputation":121,"user_id":5867551,"display_name":"syfro"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10177,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":43226982,"answer_count":2,"score":8,"last_activity_date":1692259645,"creation_date":1491382520,"question_id":43226405,"body_markdown":"I&#39;m calling an async client method by streaming over a list of objects. The method returns Future&lt;Object&gt;.\r\n\r\nWhat&#39;s the best way to iterate over the list of Futures returned after the call (so as to process those Future which comes first)?\r\n\r\nNote: The async client only returns Future not CompletableFuture.\r\n\r\nFollowing is the code:\r\n\r\n    List&lt;Future&lt;Object&gt;&gt; listOfFuture = objectsToProcess.parallelStream()\r\n        .map((object) -&gt; {\r\n            /* calling an async client returning a Future&lt;Object&gt; */ })\r\n        .collect(Collectors.toList());\r\n\r\n","title":"Most efficient way to stream on list of Futures","body":"<p>I'm calling an async client method by streaming over a list of objects. The method returns Future.</p>\n\n<p>What's the best way to iterate over the list of Futures returned after the call (so as to process those Future which comes first)?</p>\n\n<p>Note: The async client only returns Future not CompletableFuture.</p>\n\n<p>Following is the code:</p>\n\n<pre><code>List&lt;Future&lt;Object&gt;&gt; listOfFuture = objectsToProcess.parallelStream()\n    .map((object) -&gt; {\n        /* calling an async client returning a Future&lt;Object&gt; */ })\n    .collect(Collectors.toList());\n</code></pre>\n"},{"tags":["java","android","rest","android-recyclerview","pagination"],"comments":[{"owner":{"account_id":4523707,"reputation":6025,"user_id":3676184,"accept_rate":17,"display_name":"Pavya"},"score":0,"creation_date":1511337126,"post_id":47429347,"comment_id":81813095,"body_markdown":"add your code..","body":"add your code.."},{"owner":{"account_id":2111946,"reputation":1211,"user_id":7801361,"accept_rate":80,"display_name":"Alaa AbuZarifa"},"score":0,"creation_date":1511337168,"post_id":47429347,"comment_id":81813116,"body_markdown":"I&#39;ve tried a bunch of ways... I&#39;ll post some.","body":"I&#39;ve tried a bunch of ways... I&#39;ll post some."},{"owner":{"account_id":7255837,"reputation":744,"user_id":5534518,"accept_rate":43,"display_name":"Ionut J. Bejan"},"score":0,"creation_date":1511337316,"post_id":47429347,"comment_id":81813188,"body_markdown":"Question: the list of data from next paginated answer from the server, you want to add it to the existing one or replace it ?","body":"Question: the list of data from next paginated answer from the server, you want to add it to the existing one or replace it ?"},{"owner":{"account_id":3277843,"reputation":1754,"user_id":2759296,"accept_rate":83,"display_name":"hifromantal"},"score":0,"creation_date":1511337431,"post_id":47429347,"comment_id":81813258,"body_markdown":"Could you add an example of the API response? Do you have any ownership above this API so that in case you want to, you could change the response model?","body":"Could you add an example of the API response? Do you have any ownership above this API so that in case you want to, you could change the response model?"},{"owner":{"account_id":2111946,"reputation":1211,"user_id":7801361,"accept_rate":80,"display_name":"Alaa AbuZarifa"},"score":0,"creation_date":1511337538,"post_id":47429347,"comment_id":81813335,"body_markdown":"@IonutJ.Bejan well, I think adding it better ux. since all items won&#39;t be too big anyway.","body":"@IonutJ.Bejan well, I think adding it better ux. since all items won&#39;t be too big anyway."},{"owner":{"account_id":2111946,"reputation":1211,"user_id":7801361,"accept_rate":80,"display_name":"Alaa AbuZarifa"},"score":0,"creation_date":1511337571,"post_id":47429347,"comment_id":81813354,"body_markdown":"see code added guys.","body":"see code added guys."},{"owner":{"account_id":2111946,"reputation":1211,"user_id":7801361,"accept_rate":80,"display_name":"Alaa AbuZarifa"},"score":0,"creation_date":1511337702,"post_id":47429347,"comment_id":81813445,"body_markdown":"@anthonymonori I don&#39;t think I can, since the same api is already implemented in the ios version of the app. so I can change the model. but I will post the response for u to see it.","body":"@anthonymonori I don&#39;t think I can, since the same api is already implemented in the ios version of the app. so I can change the model. but I will post the response for u to see it."},{"owner":{"account_id":2111946,"reputation":1211,"user_id":7801361,"accept_rate":80,"display_name":"Alaa AbuZarifa"},"score":0,"creation_date":1511337816,"post_id":47429347,"comment_id":81813515,"body_markdown":"@pskink any example for api request, the site gives a db example.","body":"@pskink any example for api request, the site gives a db example."},{"owner":{"display_name":"user6490462"},"score":0,"creation_date":1511340785,"post_id":47429347,"comment_id":81815120,"body_markdown":"1-on recycle scroll add new response to `data` list.  2-notifyDataChange to recycleView adapter. 3-have fun.","body":"1-on recycle scroll add new response to <code>data</code> list.  2-notifyDataChange to recycleView adapter. 3-have fun."},{"owner":{"account_id":2111946,"reputation":1211,"user_id":7801361,"accept_rate":80,"display_name":"Alaa AbuZarifa"},"score":0,"creation_date":1511348932,"post_id":47429347,"comment_id":81820480,"body_markdown":"@Ibrahim can you post an answer with an example?","body":"@Ibrahim can you post an answer with an example?"},{"owner":{"display_name":"user6490462"},"score":0,"creation_date":1511377609,"post_id":47429347,"comment_id":81839418,"body_markdown":"It&#39;s not much different comparing with @lonut answer.","body":"It&#39;s not much different comparing with @lonut answer."}],"answers":[{"tags":[],"owner":{"account_id":7255837,"reputation":744,"user_id":5534518,"accept_rate":43,"display_name":"Ionut J. Bejan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1511337701,"creation_date":1511337701,"answer_id":47429538,"question_id":47429347,"body_markdown":"Here is how I did it in a project... In this case I add more elements when bottom of the list is reached\r\n\r\n    rv_flohtainer_events.addOnScrollListener(new RecyclerView.OnScrollListener() {\r\n            @Override\r\n            public void onScrolled(RecyclerView recyclerView, int dx, int dy) {\r\n                super.onScrolled(recyclerView, dx, dy);\r\n                if (!rv_flohtainer_events.canScrollVertically(1)){\r\n                    if (!(eventsResponse.getCurrent_page() == eventsResponse.getLast_page())) {\r\n                        pageEventsRequest++;\r\n                        makeVendorEventsRequest();\r\n                    }\r\n                }\r\n            }\r\n        });\r\n\r\nThe request I do is with retrofit, and it looks like this \r\n\r\n    @GET(RestClient.API_EVENTS_URL)\r\n    Call&lt;EventsResponse&gt; getEvents(@Query(&quot;page&quot;) int page)","title":"How to implement pagination with recyclerview via api url indexing","body":"<p>Here is how I did it in a project... In this case I add more elements when bottom of the list is reached</p>\n\n<pre><code>rv_flohtainer_events.addOnScrollListener(new RecyclerView.OnScrollListener() {\n        @Override\n        public void onScrolled(RecyclerView recyclerView, int dx, int dy) {\n            super.onScrolled(recyclerView, dx, dy);\n            if (!rv_flohtainer_events.canScrollVertically(1)){\n                if (!(eventsResponse.getCurrent_page() == eventsResponse.getLast_page())) {\n                    pageEventsRequest++;\n                    makeVendorEventsRequest();\n                }\n            }\n        }\n    });\n</code></pre>\n\n<p>The request I do is with retrofit, and it looks like this </p>\n\n<pre><code>@GET(RestClient.API_EVENTS_URL)\nCall&lt;EventsResponse&gt; getEvents(@Query(\"page\") int page)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2111946,"reputation":1211,"user_id":7801361,"accept_rate":80,"display_name":"Alaa AbuZarifa"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1511432002,"creation_date":1511432002,"answer_id":47452903,"question_id":47429347,"body_markdown":" After some time, I did it using **[Paginate Library][1]**\r\n\r\n-----\r\n\r\n**The Code**\r\n\r\n \r\n    public class ChallengesListFragment extends BaseFragment implements OnRefreshListener, Paginate.Callbacks { \r\n    \r\n    // other variables..\r\n      private int currentPage = 1;\r\n      private boolean hasMore;\r\n      private boolean loadingInProgress;\r\n    \r\n    \r\n      @RequiresApi(api = VERSION_CODES.LOLLIPOP)\r\n      @Override\r\n      public View onCreateView(LayoutInflater inflater, ViewGroup container,\r\n          Bundle savedInstanceState) {\r\n        View rootView = inflater.inflate(R.layout.fragment_challenges_list, container, false);\r\n        initView(rootView);\r\n        initToolbar();\r\n        initRecycler();\r\n        getData();\r\n    \r\n        return rootView;\r\n      }\r\n      \r\n      private void initRecycler() {\r\n        data = new ArrayList&lt;&gt;();\r\n        mLayoutManager = new LinearLayoutManager(getActivity());\r\n        recyclerview.setLayoutManager(mLayoutManager);\r\n        adapter = new ChallengesAdapter(data, getActivity(), this);\r\n        recyclerview.setAdapter(adapter);\r\n    \r\n        Paginate.with(recyclerview, this)\r\n            .setLoadingTriggerThreshold(3)\r\n            .addLoadingListItem(false)\r\n            .build();\r\n      }\r\n    \r\n      private void getData() {\r\n    \r\n         swipeRefresh.setRefreshing(true);\r\n        WebRequests.GetActiveChallenges(currentPage, new onResult() {\r\n          @Override\r\n          public void onSuccess(Object object) {\r\n    \r\n            ArrayList&lt;Challenge&gt; list = (ArrayList&lt;Challenge&gt;) object;\r\n            data.addAll(list);\r\n            adapter.notifyDataSetChanged();\r\n    \r\n            if (list.size() == 10) {\r\n              currentPage++;\r\n              hasMore = true;\r\n            } else {\r\n              hasMore = false;\r\n            }\r\n            loadingInProgress = false;\r\n            swipeRefresh.setRefreshing(false);\r\n    \r\n    \r\n          }\r\n    \r\n          @Override\r\n          public void onFail(Object object) {\r\n            Toast.makeText(getActivity(), &quot;Something went wrong, try again later&quot;,\r\n                Toast.LENGTH_SHORT).show(); \r\n            swipeRefresh.setRefreshing(false);\r\n    \r\n          }\r\n        });\r\n    \r\n      } \r\n    \r\n      public ChallengesListFragment() {\r\n       } \r\n    \r\n      @Override\r\n      public void onRefresh() {\r\n        currentPage = 1;\r\n        loadingInProgress = true;\r\n        getData();\r\n       }\r\n    \r\n      @Override\r\n      public void onLoadMore() {\r\n        loadingInProgress = true;\r\n         Handler mHandler = new Handler();\r\n        final Runnable hintRunnable = new Runnable() {\r\n          @Override\r\n          public void run() {\r\n            getData();\r\n          }\r\n        };\r\n        mHandler.postDelayed(hintRunnable, 1500);\r\n    \r\n      }\r\n    \r\n      @Override\r\n      public boolean isLoading() {\r\n        return loadingInProgress;\r\n      }\r\n    \r\n      @Override\r\n      public boolean hasLoadedAllItems() {\r\n        return !hasMore;\r\n      } \r\n\r\n    }\r\n\r\n  [1]: https://github.com/MarkoMilos/Paginate\r\n","title":"How to implement pagination with recyclerview via api url indexing","body":"<p>After some time, I did it using <strong><a href=\"https://github.com/MarkoMilos/Paginate\" rel=\"nofollow noreferrer\">Paginate Library</a></strong></p>\n\n<hr>\n\n<p><strong>The Code</strong></p>\n\n<pre><code>public class ChallengesListFragment extends BaseFragment implements OnRefreshListener, Paginate.Callbacks { \n\n// other variables..\n  private int currentPage = 1;\n  private boolean hasMore;\n  private boolean loadingInProgress;\n\n\n  @RequiresApi(api = VERSION_CODES.LOLLIPOP)\n  @Override\n  public View onCreateView(LayoutInflater inflater, ViewGroup container,\n      Bundle savedInstanceState) {\n    View rootView = inflater.inflate(R.layout.fragment_challenges_list, container, false);\n    initView(rootView);\n    initToolbar();\n    initRecycler();\n    getData();\n\n    return rootView;\n  }\n\n  private void initRecycler() {\n    data = new ArrayList&lt;&gt;();\n    mLayoutManager = new LinearLayoutManager(getActivity());\n    recyclerview.setLayoutManager(mLayoutManager);\n    adapter = new ChallengesAdapter(data, getActivity(), this);\n    recyclerview.setAdapter(adapter);\n\n    Paginate.with(recyclerview, this)\n        .setLoadingTriggerThreshold(3)\n        .addLoadingListItem(false)\n        .build();\n  }\n\n  private void getData() {\n\n     swipeRefresh.setRefreshing(true);\n    WebRequests.GetActiveChallenges(currentPage, new onResult() {\n      @Override\n      public void onSuccess(Object object) {\n\n        ArrayList&lt;Challenge&gt; list = (ArrayList&lt;Challenge&gt;) object;\n        data.addAll(list);\n        adapter.notifyDataSetChanged();\n\n        if (list.size() == 10) {\n          currentPage++;\n          hasMore = true;\n        } else {\n          hasMore = false;\n        }\n        loadingInProgress = false;\n        swipeRefresh.setRefreshing(false);\n\n\n      }\n\n      @Override\n      public void onFail(Object object) {\n        Toast.makeText(getActivity(), \"Something went wrong, try again later\",\n            Toast.LENGTH_SHORT).show(); \n        swipeRefresh.setRefreshing(false);\n\n      }\n    });\n\n  } \n\n  public ChallengesListFragment() {\n   } \n\n  @Override\n  public void onRefresh() {\n    currentPage = 1;\n    loadingInProgress = true;\n    getData();\n   }\n\n  @Override\n  public void onLoadMore() {\n    loadingInProgress = true;\n     Handler mHandler = new Handler();\n    final Runnable hintRunnable = new Runnable() {\n      @Override\n      public void run() {\n        getData();\n      }\n    };\n    mHandler.postDelayed(hintRunnable, 1500);\n\n  }\n\n  @Override\n  public boolean isLoading() {\n    return loadingInProgress;\n  }\n\n  @Override\n  public boolean hasLoadedAllItems() {\n    return !hasMore;\n  } \n\n}\n</code></pre>\n"}],"owner":{"account_id":2111946,"reputation":1211,"user_id":7801361,"accept_rate":80,"display_name":"Alaa AbuZarifa"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4562,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":47452903,"answer_count":2,"score":0,"last_activity_date":1692259303,"creation_date":1511337032,"question_id":47429347,"body_markdown":"I know the title seems weird, but basically what I want is to apply pagination to my list and control it using the url api endpoint as a parameter.!\r\n\r\nso the endpoint looks like this for example &gt; `www.someapi.com/josn/list?pageIndex=1`\r\n\r\nand it will give a response with array of 10 items, and if I want more I have to change the index of the parameter to 2 and so on.!\r\n\r\nresponse\r\n\r\n    {\r\n        &quot;Succeeded&quot;: true,\r\n        &quot;AvailableChallenge&quot;: true,\r\n        &quot;DebugError&quot;: &quot;&quot;,\r\n        &quot;NextPage&quot;: 2,\r\n        &quot;AllPages&quot;: 2,\r\n        &quot;Challenges&quot;: [\r\n            {\r\n                &quot;ID&quot;: 114,\r\n                &quot;Title&quot;: &quot;Amet sit id ratione dolorem numquam&quot;\r\n            },\r\n            {\r\n                &quot;ID&quot;: 114,\r\n                &quot;Title&quot;: &quot;Amet sit id ratione dolorem numquam&quot;\r\n            }\r\n            ...\r\n            ..\r\n            .\r\n            ]\r\n     }\r\n\r\nI tied everything, but couldn&#39;t get it done correctly, I have tried most of the solutions in **[here][1]** and no luck. \r\nI&#39;ve also tried to use these two library **[Paginate][2]** &amp; **[recyclerview-paginated][3]** and even this **[SuperRecyclerView][4]**. but it didn&#39;t work.!\r\n\r\nAny help with the best logic for controlling this will help a lot.\r\n\r\n----\r\n\r\n**Code for [SuperRecyclerView][4]** \r\n\r\n    public class ChallengesListFragment extends BaseFragment {\r\n    \r\n      private int pageNumber = 1; \r\n      private SuperRecyclerView recyclerview;\r\n      private ArrayList&lt;ChallengeActive&gt; data;\r\n      private ChallengesAdapter adapter;\r\n    \r\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\r\n          Bundle savedInstanceState) {\r\n        View rootView = inflater.inflate(R.layout.fragment_challenges_list, container, false);\r\n        initView(rootView);\r\n        initRecycler();\r\n        getData(1);\r\n        return rootView;\r\n      }\r\n    \r\n     private void initRecycler() {\r\n        data = new ArrayList&lt;&gt;();\r\n      \r\n        final RecyclerView.LayoutManager mLayoutManager = new LinearLayoutManager(getActivity());\r\n        recyclerview.setLayoutManager(mLayoutManager);\r\n        adapter = new ChallengesAdapter(data, getActivity(), this); \r\n        recyclerview.setAdapter(adapter);\r\n    \r\n        recyclerview.setupMoreListener(new OnMoreListener() {\r\n          @Override\r\n          public void onMoreAsked(int overallItemsCount, int itemsBeforeMore, int maxLastVisiblePosition) {\r\n     \r\n            pageNumber++;\r\n            getData(maxLastVisiblePosition);\r\n          }\r\n        }, 10);\r\n    \r\n        recyclerview.setRefreshListener(new OnRefreshListener() {\r\n          @Override\r\n          public void onRefresh() {\r\n            pageNumber = 1;\r\n            getData(pageNumber);\r\n          }\r\n        });\r\n       \r\n      }\r\n     \r\n      private void getData(final int pageNumber) {\r\n    \r\n          WebRequests.GetActiveChallenges(pageNumber, new onResult() {\r\n          @Override\r\n          public void onSuccess(Object object) {\r\n            ArrayList&lt;ChallengeActive&gt; list = (ArrayList&lt;ChallengeActive&gt;) object;\r\n            data.clear();\r\n            data.addAll(list);\r\n            adapter.notifyDataSetChanged();  \r\n          }\r\n    \r\n          @Override\r\n          public void onFail(Object object) {\r\n            Toast.makeText(getActivity(), &quot;Something went wrong, try again later&quot;,\r\n                Toast.LENGTH_SHORT).show(); \r\n          }\r\n        }); \r\n      } \r\n    }  \r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/26543131/how-to-implement-endless-list-with-recyclerview\r\n  [2]: https://github.com/MarkoMilos/Paginate\r\n  [3]: https://github.com/hendraanggrian/recyclerview-paginated\r\n  [4]: https://github.com/Malinskiy/SuperRecyclerView","title":"How to implement pagination with recyclerview via api url indexing","body":"<p>I know the title seems weird, but basically what I want is to apply pagination to my list and control it using the url api endpoint as a parameter.!</p>\n<p>so the endpoint looks like this for example &gt; <code>www.someapi.com/josn/list?pageIndex=1</code></p>\n<p>and it will give a response with array of 10 items, and if I want more I have to change the index of the parameter to 2 and so on.!</p>\n<p>response</p>\n<pre><code>{\n    &quot;Succeeded&quot;: true,\n    &quot;AvailableChallenge&quot;: true,\n    &quot;DebugError&quot;: &quot;&quot;,\n    &quot;NextPage&quot;: 2,\n    &quot;AllPages&quot;: 2,\n    &quot;Challenges&quot;: [\n        {\n            &quot;ID&quot;: 114,\n            &quot;Title&quot;: &quot;Amet sit id ratione dolorem numquam&quot;\n        },\n        {\n            &quot;ID&quot;: 114,\n            &quot;Title&quot;: &quot;Amet sit id ratione dolorem numquam&quot;\n        }\n        ...\n        ..\n        .\n        ]\n }\n</code></pre>\n<p>I tied everything, but couldn't get it done correctly, I have tried most of the solutions in <strong><a href=\"https://stackoverflow.com/questions/26543131/how-to-implement-endless-list-with-recyclerview\">here</a></strong> and no luck.\nI've also tried to use these two library <strong><a href=\"https://github.com/MarkoMilos/Paginate\" rel=\"nofollow noreferrer\">Paginate</a></strong> &amp; <strong><a href=\"https://github.com/hendraanggrian/recyclerview-paginated\" rel=\"nofollow noreferrer\">recyclerview-paginated</a></strong> and even this <strong><a href=\"https://github.com/Malinskiy/SuperRecyclerView\" rel=\"nofollow noreferrer\">SuperRecyclerView</a></strong>. but it didn't work.!</p>\n<p>Any help with the best logic for controlling this will help a lot.</p>\n<hr />\n<p><strong>Code for <a href=\"https://github.com/Malinskiy/SuperRecyclerView\" rel=\"nofollow noreferrer\">SuperRecyclerView</a></strong></p>\n<pre><code>public class ChallengesListFragment extends BaseFragment {\n\n  private int pageNumber = 1; \n  private SuperRecyclerView recyclerview;\n  private ArrayList&lt;ChallengeActive&gt; data;\n  private ChallengesAdapter adapter;\n\npublic View onCreateView(LayoutInflater inflater, ViewGroup container,\n      Bundle savedInstanceState) {\n    View rootView = inflater.inflate(R.layout.fragment_challenges_list, container, false);\n    initView(rootView);\n    initRecycler();\n    getData(1);\n    return rootView;\n  }\n\n private void initRecycler() {\n    data = new ArrayList&lt;&gt;();\n  \n    final RecyclerView.LayoutManager mLayoutManager = new LinearLayoutManager(getActivity());\n    recyclerview.setLayoutManager(mLayoutManager);\n    adapter = new ChallengesAdapter(data, getActivity(), this); \n    recyclerview.setAdapter(adapter);\n\n    recyclerview.setupMoreListener(new OnMoreListener() {\n      @Override\n      public void onMoreAsked(int overallItemsCount, int itemsBeforeMore, int maxLastVisiblePosition) {\n \n        pageNumber++;\n        getData(maxLastVisiblePosition);\n      }\n    }, 10);\n\n    recyclerview.setRefreshListener(new OnRefreshListener() {\n      @Override\n      public void onRefresh() {\n        pageNumber = 1;\n        getData(pageNumber);\n      }\n    });\n   \n  }\n \n  private void getData(final int pageNumber) {\n\n      WebRequests.GetActiveChallenges(pageNumber, new onResult() {\n      @Override\n      public void onSuccess(Object object) {\n        ArrayList&lt;ChallengeActive&gt; list = (ArrayList&lt;ChallengeActive&gt;) object;\n        data.clear();\n        data.addAll(list);\n        adapter.notifyDataSetChanged();  \n      }\n\n      @Override\n      public void onFail(Object object) {\n        Toast.makeText(getActivity(), &quot;Something went wrong, try again later&quot;,\n            Toast.LENGTH_SHORT).show(); \n      }\n    }); \n  } \n}  \n</code></pre>\n"},{"tags":["java","eclipse","autocomplete","eclipse-plugin","lombok"],"comments":[{"owner":{"account_id":2019266,"reputation":77,"user_id":2912558,"display_name":"Jacobo Geada"},"score":0,"creation_date":1692010219,"post_id":76898113,"comment_id":135563316,"body_markdown":"@howlger I&#39;m using STS 4.19 and 2023-06 with same results with var and val","body":"@howlger I&#39;m using STS 4.19 and 2023-06 with same results with var and val"},{"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1692016648,"post_id":76898113,"comment_id":135564529,"body_markdown":"@howlger Lombok makes `val` valid as a local variable type","body":"@howlger Lombok makes <code>val</code> valid as a local variable type"},{"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1692016922,"post_id":76898113,"comment_id":135564582,"body_markdown":"@JacoboGeada Do other Lombok features such as `@Getter` and `@Data` work with Eclipse autocompletion? If not, you probably just need to install the Lombok plugin.","body":"@JacoboGeada Do other Lombok features such as <code>@Getter</code> and <code>@Data</code> work with Eclipse autocompletion? If not, you probably just need to install the Lombok plugin."},{"owner":{"account_id":13796,"reputation":19353,"user_id":27905,"display_name":"nitind"},"score":1,"creation_date":1692028243,"post_id":76898113,"comment_id":135567175,"body_markdown":"You have yet to mention which version of *Lombok* this is, and Java, which would seem important. Then again, maybe you could use the standard `var` identifier instead of relying on Lombok for this at development and runtime.","body":"You have yet to mention which version of <i>Lombok</i> this is, and Java, which would seem important. Then again, maybe you could use the standard <code>var</code> identifier instead of relying on Lombok for this at development and runtime."},{"owner":{"account_id":2019266,"reputation":77,"user_id":2912558,"display_name":"Jacobo Geada"},"score":0,"creation_date":1692254542,"post_id":76898113,"comment_id":135598946,"body_markdown":"@nitind i have used several versions of lombok with same results","body":"@nitind i have used several versions of lombok with same results"},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1692258634,"post_id":76898113,"comment_id":135599566,"body_markdown":"Several versions sounds like trial and error and is not what you were asked for. It seems the following known Lombok issue (which also provide a [minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example) which is lacking in this question): https://github.com/projectlombok/lombok/issues/3440","body":"Several versions sounds like trial and error and is not what you were asked for. It seems the following known Lombok issue (which also provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> which is lacking in this question): <a href=\"https://github.com/projectlombok/lombok/issues/3440\" rel=\"nofollow noreferrer\">github.com/projectlombok/lombok/issues/3440</a>"}],"answers":[{"tags":[],"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1692258842,"creation_date":1692258842,"answer_id":76919484,"question_id":76898113,"body_markdown":"This is a **known issue** of Lombok that is [being worked on][1]:\r\n\r\n[**Lombok issue #3440**: \\[BUG\\] Autocomplete for `val` variables stops working &quot;randomly&quot; in Eclipse][2]\r\n\r\n\r\n  [1]: https://github.com/projectlombok/lombok/issues/3440#issuecomment-1680052861\r\n  [2]: https://github.com/projectlombok/lombok/issues/3440","title":"Autocomplete lombok with eclipse","body":"<p>This is a <strong>known issue</strong> of Lombok that is <a href=\"https://github.com/projectlombok/lombok/issues/3440#issuecomment-1680052861\" rel=\"nofollow noreferrer\">being worked on</a>:</p>\n<p><a href=\"https://github.com/projectlombok/lombok/issues/3440\" rel=\"nofollow noreferrer\"><strong>Lombok issue #3440</strong>: [BUG] Autocomplete for <code>val</code> variables stops working &quot;randomly&quot; in Eclipse</a></p>\n"}],"owner":{"account_id":2019266,"reputation":77,"user_id":2912558,"display_name":"Jacobo Geada"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1692258842,"creation_date":1692008653,"question_id":76898113,"body_markdown":"I don&#39;t know if this is a bug or misconfiguration in eclipse with lombok. Eclipse recognizes all annotations but when I try to use:\r\n\r\n    val list = new ArrayList&lt;MyObject&gt;();\r\n\r\nlist only hace Object methods eclipse can&#39;t infer ArrayList methods as size() isEmpty() etc etc\r\n\r\nHow could I configure lombok for autocomplete?\r\n\r\nI&#39;m using eclipse STS 4.19 and eclipse 2023-06 with same result with val and var\r\n","title":"Autocomplete lombok with eclipse","body":"<p>I don't know if this is a bug or misconfiguration in eclipse with lombok. Eclipse recognizes all annotations but when I try to use:</p>\n<pre><code>val list = new ArrayList&lt;MyObject&gt;();\n</code></pre>\n<p>list only hace Object methods eclipse can't infer ArrayList methods as size() isEmpty() etc etc</p>\n<p>How could I configure lombok for autocomplete?</p>\n<p>I'm using eclipse STS 4.19 and eclipse 2023-06 with same result with val and var</p>\n"},{"tags":["java","azul-zulu","project-panama"],"comments":[{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":0,"creation_date":1692253686,"post_id":76918565,"comment_id":135598808,"body_markdown":"&quot;error: release version 20 not supported&quot;. If this were my problem, I&#39;d definitely concentrate on that first.","body":"&quot;error: release version 20 not supported&quot;. If this were my problem, I&#39;d definitely concentrate on that first."},{"owner":{"account_id":298566,"reputation":537,"user_id":604656,"accept_rate":47,"display_name":"ashish.g"},"score":0,"creation_date":1692256381,"post_id":76918565,"comment_id":135599212,"body_markdown":"Try using the earlier versions of jextract, if it suffices, which are compatible with earlier versions of java. It seems like gradle (or your version of it) does not support java 20 yet.","body":"Try using the earlier versions of jextract, if it suffices, which are compatible with earlier versions of java. It seems like gradle (or your version of it) does not support java 20 yet."}],"answers":[{"tags":[],"owner":{"account_id":180181,"reputation":76380,"user_id":413337,"accept_rate":64,"display_name":"Codo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1692258781,"creation_date":1692258781,"answer_id":76919477,"question_id":76918565,"body_markdown":"To run the *jextract* build, you must have both Java 17 and the target Java version (Java 20 in your case). The actual build is done with Java 17.\r\n\r\nSet `JAVA_HOME` to point to Java 17:\r\n\r\n```\r\nexport JAVA_HOME=`/usr/libexec/java_home -v 17`\r\njava -version\r\n```\r\n\r\nThen run the build command:\r\n\r\n```\r\nsh ./gradlew -Pjdk20_home=/Users/user/Documents/zulu20.32.11_1-ca-jdk20.0.2-macosx_aarch64 -Pllvm_home=/Library/Developer/CommandLineTools/usr/ clean verify\r\n```\r\n","title":"How do I get jextract to build on a Macbook air M2 with latest OS","body":"<p>To run the <em>jextract</em> build, you must have both Java 17 and the target Java version (Java 20 in your case). The actual build is done with Java 17.</p>\n<p>Set <code>JAVA_HOME</code> to point to Java 17:</p>\n<pre><code>export JAVA_HOME=`/usr/libexec/java_home -v 17`\njava -version\n</code></pre>\n<p>Then run the build command:</p>\n<pre><code>sh ./gradlew -Pjdk20_home=/Users/user/Documents/zulu20.32.11_1-ca-jdk20.0.2-macosx_aarch64 -Pllvm_home=/Library/Developer/CommandLineTools/usr/ clean verify\n</code></pre>\n"}],"owner":{"account_id":280629,"reputation":5238,"user_id":576448,"accept_rate":40,"display_name":"peterk"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":74,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76919477,"answer_count":1,"score":0,"last_activity_date":1692258781,"creation_date":1692247971,"question_id":76918565,"body_markdown":"I want to. test the Panama project added APIs and the jextract generator for such on a macbook air M2. There don&#39;t seem to be any arm64 prebuilt binaries for jextract.\r\n\r\n\r\nI have zulu jdk 20 installed, cmake, python3, xCode, xCode command line tools, and the latest gradle ( should be enough to run a gradlew which caches the version it wants )  \r\n\r\nI cloned jextract from \r\n\r\nhttps://github.com/openjdk/jextract.git\r\n\r\nJAVA_HOME is set to /Library/Java/JavaVirtualMachines/zulu-20.jdk/Contents/Home\r\n\r\nfollowed the instructions in the README.md\r\nIt specifies I should do:\r\n```\r\nsh ./gradlew -Pjdk20_home=&lt;jdk20_home_dir&gt; -Pllvm_home=&lt;libclang_dir&gt; clean verify\r\n```\r\nWhich led to issuing this command to build it.\r\n\r\n```\r\n./gradlew -Pjdk20_home=/Library/Java/JavaVirtualMachines/zulu-20.jdk/Contents/Home -Pllvm_home=/Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/ clean verify\r\n```\r\nBuilding results in this error from javac from gradle:\r\n\r\n```\r\n&gt; Task :compileJava FAILED\r\nerror: release version 20 not supported\r\nUsage: javac &lt;options&gt; &lt;source files&gt;\r\nuse --help for a list of possible options\r\n\r\nFAILURE: Build failed with an exception.\r\n\r\n* What went wrong:\r\nExecution failed for task &#39;:compileJava&#39;.\r\n&gt; Compilation failed with exit code 2; see the compiler error output for details.\r\n```\r\nI have also tried the other llvm paths they suggest.\r\nAnd have also tried older zulu-17 JDK \r\nand each time deleted gradle caches, the build folder and re-extracted the source (git reset --hard) from git.\r\n\r\nI have searched for a solution for this.\r\nI also have searched for a forum on Panama and.or jextract to help me find a solution or any information on building for an apple M1/M2 and have not found anything.\r\n\r\nThanks !\r\n\r\n","title":"How do I get jextract to build on a Macbook air M2 with latest OS","body":"<p>I want to. test the Panama project added APIs and the jextract generator for such on a macbook air M2. There don't seem to be any arm64 prebuilt binaries for jextract.</p>\n<p>I have zulu jdk 20 installed, cmake, python3, xCode, xCode command line tools, and the latest gradle ( should be enough to run a gradlew which caches the version it wants )</p>\n<p>I cloned jextract from</p>\n<p><a href=\"https://github.com/openjdk/jextract.git\" rel=\"nofollow noreferrer\">https://github.com/openjdk/jextract.git</a></p>\n<p>JAVA_HOME is set to /Library/Java/JavaVirtualMachines/zulu-20.jdk/Contents/Home</p>\n<p>followed the instructions in the README.md\nIt specifies I should do:</p>\n<pre><code>sh ./gradlew -Pjdk20_home=&lt;jdk20_home_dir&gt; -Pllvm_home=&lt;libclang_dir&gt; clean verify\n</code></pre>\n<p>Which led to issuing this command to build it.</p>\n<pre><code>./gradlew -Pjdk20_home=/Library/Java/JavaVirtualMachines/zulu-20.jdk/Contents/Home -Pllvm_home=/Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/ clean verify\n</code></pre>\n<p>Building results in this error from javac from gradle:</p>\n<pre><code>&gt; Task :compileJava FAILED\nerror: release version 20 not supported\nUsage: javac &lt;options&gt; &lt;source files&gt;\nuse --help for a list of possible options\n\nFAILURE: Build failed with an exception.\n\n* What went wrong:\nExecution failed for task ':compileJava'.\n&gt; Compilation failed with exit code 2; see the compiler error output for details.\n</code></pre>\n<p>I have also tried the other llvm paths they suggest.\nAnd have also tried older zulu-17 JDK\nand each time deleted gradle caches, the build folder and re-extracted the source (git reset --hard) from git.</p>\n<p>I have searched for a solution for this.\nI also have searched for a forum on Panama and.or jextract to help me find a solution or any information on building for an apple M1/M2 and have not found anything.</p>\n<p>Thanks !</p>\n"},{"tags":["java","swing"],"comments":[{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1692258448,"post_id":76919365,"comment_id":135599534,"body_markdown":"So, you execute the query, if it has a row, you set the labels text, you then dispose/close the frame so Im at a lose to figure out how you expect to see the result","body":"So, you execute the query, if it has a row, you set the labels text, you then dispose/close the frame so Im at a lose to figure out how you expect to see the result"},{"owner":{"account_id":29242221,"reputation":11,"user_id":22403468,"display_name":"CuriousZoi"},"score":0,"creation_date":1692258609,"post_id":76919365,"comment_id":135599561,"body_markdown":"ah yes! I get my mistake. never occured to me. thank you very much @MadProgrammer","body":"ah yes! I get my mistake. never occured to me. thank you very much @MadProgrammer"},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1692258681,"post_id":76919365,"comment_id":135599580,"body_markdown":"Ok, so you have a layout issue because a label with no text has zero size - so, maybe set the initial text to something like 0. Alternatively, you can call pack on the frame to force it to change size to fit the new text","body":"Ok, so you have a layout issue because a label with no text has zero size - so, maybe set the initial text to something like 0. Alternatively, you can call pack on the frame to force it to change size to fit the new text"},{"owner":{"account_id":29242221,"reputation":11,"user_id":22403468,"display_name":"CuriousZoi"},"score":0,"creation_date":1692258984,"post_id":76919365,"comment_id":135599648,"body_markdown":"I changed it and added the sql statement to the previous JFrame so when they click on the view balance button to find the balance and then when I initialize the jlabel it has the correct amount. thank you again @MadProgrammer. you were very helpful!!","body":"I changed it and added the sql statement to the previous JFrame so when they click on the view balance button to find the balance and then when I initialize the jlabel it has the correct amount. thank you again @MadProgrammer. you were very helpful!!"}],"owner":{"account_id":29242221,"reputation":11,"user_id":22403468,"display_name":"CuriousZoi"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1692257967,"creation_date":1692257775,"question_id":76919365,"body_markdown":"I am trying to create a banking application where the user creates an account and can deposit, withdraw, transfer and view their balance. My problem is with the view balance part because I want it to display the balance and it doesn&#39;t. I have a database connected and after the user clicks the &quot;Show balance&quot; button it should display their amount. Below is my code and an image of what is shows. Can someone help me to fix it please? \r\n\r\n\r\n```\r\npackage app;\r\n\r\nimport java.awt.*;\r\nimport java.awt.event.ActionEvent;\r\nimport java.awt.event.ActionListener;\r\n\r\nimport javax.swing.*;\r\nimport java.sql.*;\r\n\r\npublic class ViewBalance extends JFrame {\r\n\r\n    private JLabel mainl, balance;\r\n    private JButton ok;\r\n    ResultSet result = null;\r\n\r\n    public ViewBalance(Statement statement, int accnum) { //accnum is the account number that was just created\r\n        super(&quot;Banking Application&quot;);\r\n\r\n        mainl = new JLabel(&quot;Balance&quot;, SwingConstants.CENTER);\r\n        balance = new JLabel(&quot;&quot;, SwingConstants.CENTER);\r\n        ok = new JButton(&quot;Ok&quot;);\r\n        ok.addActionListener(new ActionListener() {\r\n            @Override\r\n            public void actionPerformed(ActionEvent e) {\r\n                try {\r\n                    result = statement.executeQuery(&quot;SELECT balance FROM CardInfo WHERE accnum = &quot; + accnum + &quot;;&quot;);\r\n                    if (result.next()) {\r\n                        System.out.println(result.getInt(1));\r\n                        balance.setText(&quot;Your balance is &quot; + result.getInt(1));\r\n                        balance.setVisible(true); \r\n                    }\r\n                } catch (SQLException e1) {\r\n                    // TODO Auto-generated catch block\r\n                    e1.printStackTrace();\r\n                }\r\n                dispose();\r\n                new MainFrame(statement, accnum).setVisible(true);\r\n            }\r\n        });\r\n\r\n        add(mainl, BorderLayout.NORTH);\r\n        add(balance, BorderLayout.CENTER);\r\n        add(ok, BorderLayout.SOUTH);\r\n\r\n        pack();\r\n        setDefaultCloseOperation(EXIT_ON_CLOSE);\r\n        setLocationRelativeTo(null);\r\n    }\r\n}\r\n\r\n```\r\n\r\nhere is also my sql code \r\n\r\n\r\n```\r\nDROP DATABASE IF EXISTS BankingApplication;\r\nDROP TABLE IF EXISTS CardInfo CASCADE;\r\nDROP TABLE IF EXISTS AccountInfo CASCADE;\r\n\r\nCREATE DATABASE BankingApplication\r\n    WITH\r\n    OWNER = postgres\r\n    ENCODING = &#39;UTF8&#39;\r\n    LC_COLLATE = &#39;English_United States.1253&#39;\r\n    LC_CTYPE = &#39;English_United States.1253&#39;\r\n    TABLESPACE = pg_default\r\n    CONNECTION LIMIT = -1\r\n    IS_TEMPLATE = False;\r\n\t\r\nCREATE TABLE AccountInfo(\r\n\taccnum INT,\r\n\tfname varchar(100),\r\n\tlname varchar(100),\r\n\tmobile varchar(10),\r\n\tid varchar(20),\r\n\tssn varchar(9),\r\n\taddress varchar(100),\r\n\temail varchar(100),\r\n\tpassword varchar(100),\r\n\tprimary key(accnum)\r\n);\r\n\r\nCREATE TABLE CardInfo(\r\n\taccnum int,\r\n\tcardnum varchar(16),\r\n\texpmonth int,\r\n\texpyear int,\r\n\tcvv int,\r\n\tpin int,\r\n\tbalance float,\r\n\tprimary key(cardnum),\r\n\tFOREIGN KEY (accnum) REFERENCES AccountInfo (accnum)\r\n);\r\n\r\n\r\n\r\nSELECT * FROM AccountInfo;\r\nSELECT * FROM CardInfo;\r\n```\r\n\r\n\r\n[this is the image I want to display](https://i.stack.imgur.com/KQ51V.png)\r\n[this is the image it displays](https://i.stack.imgur.com/FyvTG.png)\r\n\r\n\r\nI have tried to change the balance jlabel on what to display\r\nI have tried changing the sql statement but non of these work. It is like the balance.setText() in the ActionListener is not working \r\n","title":"Set text to jlabel doesn&#39;t change the text","body":"<p>I am trying to create a banking application where the user creates an account and can deposit, withdraw, transfer and view their balance. My problem is with the view balance part because I want it to display the balance and it doesn't. I have a database connected and after the user clicks the &quot;Show balance&quot; button it should display their amount. Below is my code and an image of what is shows. Can someone help me to fix it please?</p>\n<pre><code>package app;\n\nimport java.awt.*;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\n\nimport javax.swing.*;\nimport java.sql.*;\n\npublic class ViewBalance extends JFrame {\n\n    private JLabel mainl, balance;\n    private JButton ok;\n    ResultSet result = null;\n\n    public ViewBalance(Statement statement, int accnum) { //accnum is the account number that was just created\n        super(&quot;Banking Application&quot;);\n\n        mainl = new JLabel(&quot;Balance&quot;, SwingConstants.CENTER);\n        balance = new JLabel(&quot;&quot;, SwingConstants.CENTER);\n        ok = new JButton(&quot;Ok&quot;);\n        ok.addActionListener(new ActionListener() {\n            @Override\n            public void actionPerformed(ActionEvent e) {\n                try {\n                    result = statement.executeQuery(&quot;SELECT balance FROM CardInfo WHERE accnum = &quot; + accnum + &quot;;&quot;);\n                    if (result.next()) {\n                        System.out.println(result.getInt(1));\n                        balance.setText(&quot;Your balance is &quot; + result.getInt(1));\n                        balance.setVisible(true); \n                    }\n                } catch (SQLException e1) {\n                    // TODO Auto-generated catch block\n                    e1.printStackTrace();\n                }\n                dispose();\n                new MainFrame(statement, accnum).setVisible(true);\n            }\n        });\n\n        add(mainl, BorderLayout.NORTH);\n        add(balance, BorderLayout.CENTER);\n        add(ok, BorderLayout.SOUTH);\n\n        pack();\n        setDefaultCloseOperation(EXIT_ON_CLOSE);\n        setLocationRelativeTo(null);\n    }\n}\n\n</code></pre>\n<p>here is also my sql code</p>\n<pre><code>DROP DATABASE IF EXISTS BankingApplication;\nDROP TABLE IF EXISTS CardInfo CASCADE;\nDROP TABLE IF EXISTS AccountInfo CASCADE;\n\nCREATE DATABASE BankingApplication\n    WITH\n    OWNER = postgres\n    ENCODING = 'UTF8'\n    LC_COLLATE = 'English_United States.1253'\n    LC_CTYPE = 'English_United States.1253'\n    TABLESPACE = pg_default\n    CONNECTION LIMIT = -1\n    IS_TEMPLATE = False;\n    \nCREATE TABLE AccountInfo(\n    accnum INT,\n    fname varchar(100),\n    lname varchar(100),\n    mobile varchar(10),\n    id varchar(20),\n    ssn varchar(9),\n    address varchar(100),\n    email varchar(100),\n    password varchar(100),\n    primary key(accnum)\n);\n\nCREATE TABLE CardInfo(\n    accnum int,\n    cardnum varchar(16),\n    expmonth int,\n    expyear int,\n    cvv int,\n    pin int,\n    balance float,\n    primary key(cardnum),\n    FOREIGN KEY (accnum) REFERENCES AccountInfo (accnum)\n);\n\n\n\nSELECT * FROM AccountInfo;\nSELECT * FROM CardInfo;\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/KQ51V.png\" rel=\"nofollow noreferrer\">this is the image I want to display</a>\n<a href=\"https://i.stack.imgur.com/FyvTG.png\" rel=\"nofollow noreferrer\">this is the image it displays</a></p>\n<p>I have tried to change the balance jlabel on what to display\nI have tried changing the sql statement but non of these work. It is like the balance.setText() in the ActionListener is not working</p>\n"},{"tags":["java","spring-boot","hibernate","sqlite","flyway"],"answers":[{"tags":[],"owner":{"account_id":58650,"reputation":3399,"user_id":175554,"accept_rate":40,"display_name":"ozkanpakdil"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1692257062,"creation_date":1692225393,"answer_id":76917474,"question_id":76894127,"body_markdown":"You are giving too much parameter, below is my application yaml file\r\n```yaml\r\nspring:\r\n  jpa:\r\n    hibernate.hbm2ddl.auto: create-drop\r\n    hibernate.show_sql: true\r\n  datasource:\r\n    url: jdbc:sqlite:file:myDb.db?cache=shared\r\n    username: root\r\n    password: root\r\n  h2:\r\n    console.enabled: true\r\n  flyway:\r\n    baseline-on-migrate: true\r\n#    schemas: myDb\r\n    enabled: true\r\n    url: jdbc:sqlite:file:myDb.db?cache=shared\r\n    user: root\r\n    password: root\r\n    validate-on-migrate: true\r\n    locations: &quot;classpath:db/migration&quot;\r\n```\r\nbasically I just commented schema and things started working. I also added h2 console and start checking mydb and this is how it looks\r\n[![h2 console with sqlie][1]][1]\r\nbelow are the parameters for h2 console login\r\n[![h2 console login for sqlite][2]][2]\r\n[here](https://github.com/ozkanpakdil/spring-examples/tree/master/flyway-sqlite) you can find the full working example.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/YufEJ.png\r\n  [2]: https://i.stack.imgur.com/TZ8f3.png","title":"Using Flyway with SQLite database in spring boot","body":"<p>You are giving too much parameter, below is my application yaml file</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>spring:\n  jpa:\n    hibernate.hbm2ddl.auto: create-drop\n    hibernate.show_sql: true\n  datasource:\n    url: jdbc:sqlite:file:myDb.db?cache=shared\n    username: root\n    password: root\n  h2:\n    console.enabled: true\n  flyway:\n    baseline-on-migrate: true\n#    schemas: myDb\n    enabled: true\n    url: jdbc:sqlite:file:myDb.db?cache=shared\n    user: root\n    password: root\n    validate-on-migrate: true\n    locations: &quot;classpath:db/migration&quot;\n</code></pre>\n<p>basically I just commented schema and things started working. I also added h2 console and start checking mydb and this is how it looks\n<a href=\"https://i.stack.imgur.com/YufEJ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/YufEJ.png\" alt=\"h2 console with sqlie\" /></a>\nbelow are the parameters for h2 console login\n<a href=\"https://i.stack.imgur.com/TZ8f3.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/TZ8f3.png\" alt=\"h2 console login for sqlite\" /></a>\n<a href=\"https://github.com/ozkanpakdil/spring-examples/tree/master/flyway-sqlite\" rel=\"nofollow noreferrer\">here</a> you can find the full working example.</p>\n"},{"tags":[],"owner":{"account_id":2641928,"reputation":3146,"user_id":2285394,"display_name":"Amit Mohanty"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692257896,"creation_date":1692257896,"answer_id":76919376,"question_id":76894127,"body_markdown":"In SQLite, there&#39;s no separation of schemas like in some other databases. So, in your Flyway configuration, you shouldn&#39;t specify a separate schema.\r\n\r\n    spring:\r\n      ...\r\n      flyway:\r\n        baseline-on-migrate: true\r\n        enabled: true\r\n        url: jdbc:sqlite:file:myDb.db?cache=shared\r\n        user: root\r\n        password: root\r\n        validate-on-migrate: true\r\n        locations: &quot;classpath:db/migration&quot;","title":"Using Flyway with SQLite database in spring boot","body":"<p>In SQLite, there's no separation of schemas like in some other databases. So, in your Flyway configuration, you shouldn't specify a separate schema.</p>\n<pre><code>spring:\n  ...\n  flyway:\n    baseline-on-migrate: true\n    enabled: true\n    url: jdbc:sqlite:file:myDb.db?cache=shared\n    user: root\n    password: root\n    validate-on-migrate: true\n    locations: &quot;classpath:db/migration&quot;\n</code></pre>\n"}],"owner":{"account_id":448169,"reputation":5643,"user_id":842225,"accept_rate":49,"display_name":"user842225"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":427,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":76917474,"answer_count":2,"score":3,"last_activity_date":1692257896,"creation_date":1691941728,"question_id":76894127,"body_markdown":"In my Spring Boot project, I need to use SQLite database. I have setup the SQLite database successfully like below:\r\n\r\nThe dependencies:\r\n```\r\nimplementation(&quot;org.xerial:sqlite-jdbc:3.42.0.0&quot;)\r\nimplementation(&quot;org.hibernate.orm:hibernate-community-dialects&quot;)\r\nimplementation(&quot;org.springframework.boot:spring-boot-starter-data-jpa&quot;)\r\n```\r\n\r\napplication.yml\r\n```\r\nspring:\r\n  datasource:\r\n    url: jdbc:sqlite:file:myDb.db?cache=shared\r\n    username: root\r\n    password: root\r\n```\r\n\r\nAs you can see above, I am using **on disk** SQLite database, the database file is `myDb.db`.\r\n\r\nI also created the datasource bean:\r\n```\r\n    @Bean\r\n    public DataSource dataSource() {\r\n        final DriverManagerDataSource dataSource = new DriverManagerDataSource();\r\n        dataSource.setDriverClassName(props.getDriverClassName());\r\n        dataSource.setUrl(props.getUrl());\r\n        dataSource.setUsername(props.getUsername());\r\n        dataSource.setPassword(props.getPassword());\r\n        return dataSource;\r\n    }\r\n```\r\n\r\nI verified this SQLite database setup works, because when I start running my project the entity classes&#39; associated db tables are created successfully in database.\r\n\r\n\r\n**Next, I try to setup Flyway as below:**   \r\n\r\nI included dependency:\r\n```\r\nimplementation(&quot;org.flywaydb:flyway-core:8.5.11&quot;)\r\n```\r\n\r\nIn `application.yml`, I added:\r\n```\r\nspring:\r\n  ...\r\n  flyway:\r\n    baseline-on-migrate: true\r\n    schemas: myDb\r\n    enabled: true\r\n    url: jdbc:sqlite:file:myDb.db?cache=shared\r\n    user: root\r\n    password: root\r\n    validate-on-migrate: true\r\n    locations: &quot;classpath:db/migration&quot;\r\n```\r\n\r\nI also created directory ` /db/migration` directory under `src/main/resources/`\r\n\r\nBut when start running the project, **I end up with error:** \r\n```\r\nCaused by: org.flywaydb.core.internal.exception.FlywaySqlException: Unable to check whether table &quot;myDb&quot;.&quot;flyway_schema_history&quot; exists`\r\n```\r\n\r\nI do understand in SQLite there is no concept of &quot;database schema&quot;, so I also tried manually create the table `flyway_schema_history` after which then start running the project, but I still get the same error.  \r\n\r\nHow can I make Flyway + SQLite work in spring boot? What am I missing?\r\n\r\n(I doubt it is a database connection issue since before I setup Flyway the project can successfully make a connection &amp; create tables based on JPA Entities. Or Could it be I miss some SQLite specific configurations of Flyway to establish DB connection for Flyway??? I&#39;m not sure...)","title":"Using Flyway with SQLite database in spring boot","body":"<p>In my Spring Boot project, I need to use SQLite database. I have setup the SQLite database successfully like below:</p>\n<p>The dependencies:</p>\n<pre><code>implementation(&quot;org.xerial:sqlite-jdbc:3.42.0.0&quot;)\nimplementation(&quot;org.hibernate.orm:hibernate-community-dialects&quot;)\nimplementation(&quot;org.springframework.boot:spring-boot-starter-data-jpa&quot;)\n</code></pre>\n<p>application.yml</p>\n<pre><code>spring:\n  datasource:\n    url: jdbc:sqlite:file:myDb.db?cache=shared\n    username: root\n    password: root\n</code></pre>\n<p>As you can see above, I am using <strong>on disk</strong> SQLite database, the database file is <code>myDb.db</code>.</p>\n<p>I also created the datasource bean:</p>\n<pre><code>    @Bean\n    public DataSource dataSource() {\n        final DriverManagerDataSource dataSource = new DriverManagerDataSource();\n        dataSource.setDriverClassName(props.getDriverClassName());\n        dataSource.setUrl(props.getUrl());\n        dataSource.setUsername(props.getUsername());\n        dataSource.setPassword(props.getPassword());\n        return dataSource;\n    }\n</code></pre>\n<p>I verified this SQLite database setup works, because when I start running my project the entity classes' associated db tables are created successfully in database.</p>\n<p><strong>Next, I try to setup Flyway as below:</strong></p>\n<p>I included dependency:</p>\n<pre><code>implementation(&quot;org.flywaydb:flyway-core:8.5.11&quot;)\n</code></pre>\n<p>In <code>application.yml</code>, I added:</p>\n<pre><code>spring:\n  ...\n  flyway:\n    baseline-on-migrate: true\n    schemas: myDb\n    enabled: true\n    url: jdbc:sqlite:file:myDb.db?cache=shared\n    user: root\n    password: root\n    validate-on-migrate: true\n    locations: &quot;classpath:db/migration&quot;\n</code></pre>\n<p>I also created directory <code> /db/migration</code> directory under <code>src/main/resources/</code></p>\n<p>But when start running the project, <strong>I end up with error:</strong></p>\n<pre><code>Caused by: org.flywaydb.core.internal.exception.FlywaySqlException: Unable to check whether table &quot;myDb&quot;.&quot;flyway_schema_history&quot; exists`\n</code></pre>\n<p>I do understand in SQLite there is no concept of &quot;database schema&quot;, so I also tried manually create the table <code>flyway_schema_history</code> after which then start running the project, but I still get the same error.</p>\n<p>How can I make Flyway + SQLite work in spring boot? What am I missing?</p>\n<p>(I doubt it is a database connection issue since before I setup Flyway the project can successfully make a connection &amp; create tables based on JPA Entities. Or Could it be I miss some SQLite specific configurations of Flyway to establish DB connection for Flyway??? I'm not sure...)</p>\n"},{"tags":["java","intellij-idea","plugins","kotlin"],"answers":[{"tags":[],"owner":{"account_id":13971634,"reputation":11,"user_id":10090085,"display_name":"Aliaksei Hlazkou"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1542044157,"creation_date":1542044157,"answer_id":53267327,"question_id":53238971,"body_markdown":"The issue was fixed by copying &quot;java.exe&quot; to the folder where it&#39;s required &quot;idea-path\\plugins\\Kotlin\\kotlinc/bin/java&quot;","title":"Can&#39;t choose tomcat for &#39;smart tomcat&#39; plugin in Intellij Idea","body":"<p>The issue was fixed by copying \"java.exe\" to the folder where it's required \"idea-path\\plugins\\Kotlin\\kotlinc/bin/java\"</p>\n"}],"owner":{"account_id":13971634,"reputation":11,"user_id":10090085,"display_name":"Aliaksei Hlazkou"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2672,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":53267327,"answer_count":1,"score":1,"last_activity_date":1692257889,"creation_date":1541853071,"question_id":53238971,"body_markdown":"I&quot;m trying to add tomcat to Smart tomcat plugin\r\nUsing these &quot;3 dots&quot; button in [Run/Debug Configuration][1] but nothing happens except the fact that idea fails with exception\r\n\r\n\r\n    java.io.IOException: Cannot run program &quot;idea-path\\plugins\\Kotlin\\kotlinc/bin/java&quot;: CreateProcess error=2, The system cannot find the file specified\r\n    java.lang.RuntimeException: java.io.IOException: Cannot run program &quot;idea-path\\plugins\\Kotlin\\kotlinc/bin/java&quot;: CreateProcess error=2, The system cannot find the file specified\r\n    \tat com.poratu.idea.plugins.tomcat.utils.PluginUtils.getTomcatInfo(PluginUtils.java:58)\r\n    \tat com.poratu.idea.plugins.tomcat.utils.PluginUtils.getTomcatInfo(PluginUtils.java:30)\r\n    \tat com.poratu.idea.plugins.tomcat.setting.TomcatSetting$1.run(TomcatSetting.java:58)\r\n    \tat com.poratu.idea.plugins.tomcat.setting.TomcatSetting$1.run(TomcatSetting.java:45)\r\n    \tat com.intellij.ui.ToolbarDecorator$2.doAdd(ToolbarDecorator.java:440)\r\n    \tat com.intellij.ui.CommonActionsPanel$Buttons.performAction(CommonActionsPanel.java:60)\r\n    \tat com.intellij.ui.CommonActionsPanel$MyActionButton.actionPerformed(CommonActionsPanel.java:272)\r\n    \tat com.intellij.openapi.actionSystem.ex.ActionUtil$1.run(ActionUtil.java:220)\r\n    \tat com.intellij.openapi.actionSystem.ex.ActionUtil.performActionDumbAware(ActionUtil.java:237)\r\n    \tat com.intellij.openapi.actionSystem.impl.ActionButton.actionPerformed(ActionButton.java:193)\r\n    \tat com.intellij.openapi.actionSystem.impl.ActionButton.performAction(ActionButton.java:153)\r\n    \tat com.intellij.openapi.actionSystem.impl.ActionButton.processMouseEvent(ActionButton.java:357)\r\n    \tat java.awt.Component.processEvent(Component.java:6306)\r\n    \tat java.awt.Container.processEvent(Container.java:2237)\r\n    \tat java.awt.Component.dispatchEventImpl(Component.java:4897)\r\n    \tat java.awt.Container.dispatchEventImpl(Container.java:2295)\r\n    \tat java.awt.Component.dispatchEvent(Component.java:4719)\r\n    \tat java.awt.LightweightDispatcher.retargetMouseEvent(Container.java:4889)\r\n    \tat java.awt.LightweightDispatcher.processMouseEvent(Container.java:4526)\r\n    \tat java.awt.LightweightDispatcher.dispatchEvent(Container.java:4467)\r\n    \tat java.awt.Container.dispatchEventImpl(Container.java:2281)\r\n    \tat java.awt.Window.dispatchEventImpl(Window.java:2746)\r\n    \tat java.awt.Component.dispatchEvent(Component.java:4719)\r\n    \tat java.awt.EventQueue.dispatchEventImpl(EventQueue.java:764)\r\n    \tat java.awt.EventQueue.access$500(EventQueue.java:98)\r\n    \tat java.awt.EventQueue$3.run(EventQueue.java:715)\r\n    \tat java.awt.EventQueue$3.run(EventQueue.java:709)\r\n    \tat java.security.AccessController.doPrivileged(Native Method)\r\n    \tat java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:80)\r\n    \tat java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:90)\r\n    \tat java.awt.EventQueue$4.run(EventQueue.java:737)\r\n    \tat java.awt.EventQueue$4.run(EventQueue.java:735)\r\n    \tat java.security.AccessController.doPrivileged(Native Method)\r\n    \tat java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:80)\r\n    \tat java.awt.EventQueue.dispatchEvent(EventQueue.java:734)\r\n    \tat com.intellij.ide.IdeEventQueue.defaultDispatchEvent(IdeEventQueue.java:837)\r\n    \tat com.intellij.ide.IdeEventQueue._dispatchEvent(IdeEventQueue.java:762)\r\n    \tat com.intellij.ide.IdeEventQueue.dispatchEvent(IdeEventQueue.java:434)\r\n    \tat java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:201)\r\n    \tat java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:116)\r\n    \tat java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:109)\r\n    \tat java.awt.WaitDispatchSupport$2.run(WaitDispatchSupport.java:190)\r\n    \tat java.awt.WaitDispatchSupport$4.run(WaitDispatchSupport.java:235)\r\n    \tat java.awt.WaitDispatchSupport$4.run(WaitDispatchSupport.java:233)\r\n    \tat java.security.AccessController.doPrivileged(Native Method)\r\n    \tat java.awt.WaitDispatchSupport.enter(WaitDispatchSupport.java:233)\r\n    \tat java.awt.Dialog.show(Dialog.java:1077)\r\n    \tat com.intellij.openapi.ui.impl.DialogWrapperPeerImpl$MyDialog.show(DialogWrapperPeerImpl.java:694)\r\n    \tat com.intellij.openapi.ui.impl.DialogWrapperPeerImpl.show(DialogWrapperPeerImpl.java:427)\r\n    \tat com.intellij.openapi.ui.DialogWrapper.invokeShow(DialogWrapper.java:1678)\r\n    \tat com.intellij.openapi.ui.DialogWrapper.show(DialogWrapper.java:1627)\r\n    \tat com.intellij.openapi.options.newEditor.SettingsDialog.lambda$show$0(SettingsDialog.java:69)\r\n    \tat com.intellij.openapi.application.TransactionGuardImpl.runSyncTransaction(TransactionGuardImpl.java:88)\r\n    \tat com.intellij.openapi.application.TransactionGuardImpl.submitTransactionAndWait(TransactionGuardImpl.java:153)\r\n    \tat com.intellij.openapi.options.newEditor.SettingsDialog.show(SettingsDialog.java:69)\r\n    \tat com.intellij.ide.actions.ShowSettingsUtilImpl.showSettingsDialog(ShowSettingsUtilImpl.java:97)\r\n    \tat com.intellij.ide.actions.ShowSettingsAction.perform(ShowSettingsAction.java:63)\r\n    \tat com.intellij.ide.actions.ShowSettingsAction.actionPerformed(ShowSettingsAction.java:52)\r\n    \tat com.intellij.openapi.actionSystem.ex.ActionUtil$1.run(ActionUtil.java:220)\r\n    \tat com.intellij.openapi.actionSystem.ex.ActionUtil.performActionDumbAware(ActionUtil.java:237)\r\n    \tat com.intellij.openapi.actionSystem.impl.ActionMenuItem$ActionTransmitter.lambda$actionPerformed$0(ActionMenuItem.java:301)\r\n    \tat com.intellij.openapi.wm.impl.FocusManagerImpl.runOnOwnContext(FocusManagerImpl.java:307)\r\n    \tat com.intellij.openapi.wm.impl.IdeFocusManagerImpl.runOnOwnContext(IdeFocusManagerImpl.java:104)\r\n    \tat com.intellij.openapi.actionSystem.impl.ActionMenuItem$ActionTransmitter.actionPerformed(ActionMenuItem.java:291)\r\n    \tat javax.swing.AbstractButton.fireActionPerformed(AbstractButton.java:2022)\r\n    \tat com.intellij.openapi.actionSystem.impl.ActionMenuItem.lambda$fireActionPerformed$0(ActionMenuItem.java:111)\r\n    \tat com.intellij.openapi.application.TransactionGuardImpl.runSyncTransaction(TransactionGuardImpl.java:88)\r\n    \tat com.intellij.openapi.application.TransactionGuardImpl.lambda$submitTransaction$1(TransactionGuardImpl.java:111)\r\n    \tat com.intellij.openapi.application.TransactionGuardImpl.submitTransaction(TransactionGuardImpl.java:120)\r\n    \tat com.intellij.openapi.application.TransactionGuard.submitTransaction(TransactionGuard.java:122)\r\n    \tat com.intellij.openapi.actionSystem.impl.ActionMenuItem.fireActionPerformed(ActionMenuItem.java:111)\r\n    \tat com.intellij.ui.plaf.beg.BegMenuItemUI.doClick(BegMenuItemUI.java:528)\r\n    \tat com.intellij.ui.plaf.beg.BegMenuItemUI.access$300(BegMenuItemUI.java:48)\r\n    \tat com.intellij.ui.plaf.beg.BegMenuItemUI$MyMouseInputHandler.mouseReleased(BegMenuItemUI.java:548)\r\n    \tat java.awt.Component.processMouseEvent(Component.java:6541)\r\n    \tat javax.swing.JComponent.processMouseEvent(JComponent.java:3325)\r\n    \tat java.awt.Component.processEvent(Component.java:6306)\r\n    \tat java.awt.Container.processEvent(Container.java:2237)\r\n    \tat java.awt.Component.dispatchEventImpl(Component.java:4897)\r\n    \tat java.awt.Container.dispatchEventImpl(Container.java:2295)\r\n    \tat java.awt.Component.dispatchEvent(Component.java:4719)\r\n    \tat java.awt.LightweightDispatcher.retargetMouseEvent(Container.java:4889)\r\n    \tat java.awt.LightweightDispatcher.processMouseEvent(Container.java:4526)\r\n    \tat java.awt.LightweightDispatcher.dispatchEvent(Container.java:4467)\r\n    \tat java.awt.Container.dispatchEventImpl(Container.java:2281)\r\n    \tat java.awt.Window.dispatchEventImpl(Window.java:2746)\r\n    \tat java.awt.Component.dispatchEvent(Component.java:4719)\r\n    \tat java.awt.EventQueue.dispatchEventImpl(EventQueue.java:764)\r\n    \tat java.awt.EventQueue.access$500(EventQueue.java:98)\r\n    \tat java.awt.EventQueue$3.run(EventQueue.java:715)\r\n    \tat java.awt.EventQueue$3.run(EventQueue.java:709)\r\n    \tat java.security.AccessController.doPrivileged(Native Method)\r\n    \tat java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:80)\r\n    \tat java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:90)\r\n    \tat java.awt.EventQueue$4.run(EventQueue.java:737)\r\n    \tat java.awt.EventQueue$4.run(EventQueue.java:735)\r\n    \tat java.security.AccessController.doPrivileged(Native Method)\r\n    \tat java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:80)\r\n    \tat java.awt.EventQueue.dispatchEvent(EventQueue.java:734)\r\n    \tat com.intellij.ide.IdeEventQueue.defaultDispatchEvent(IdeEventQueue.java:837)\r\n    \tat com.intellij.ide.IdeEventQueue._dispatchEvent(IdeEventQueue.java:762)\r\n    \tat com.intellij.ide.IdeEventQueue.dispatchEvent(IdeEventQueue.java:434)\r\n    \tat java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:201)\r\n    \tat java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:116)\r\n    \tat java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:105)\r\n    \tat java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:101)\r\n    \tat java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:93)\r\n    \tat java.awt.EventDispatchThread.run(EventDispatchThread.java:82)\r\n    Caused by: java.io.IOException: Cannot run program &quot;idea-path\\plugins\\Kotlin\\kotlinc/bin/java&quot;: CreateProcess error=2, The system cannot find the file specified\r\n    \tat java.lang.ProcessBuilder.start(ProcessBuilder.java:1048)\r\n    \tat java.lang.Runtime.exec(Runtime.java:620)\r\n    \tat java.lang.Runtime.exec(Runtime.java:450)\r\n    \tat java.lang.Runtime.exec(Runtime.java:347)\r\n    \tat com.poratu.idea.plugins.tomcat.utils.PluginUtils.getTomcatInfo(PluginUtils.java:40)\r\n    \t... 107 more\r\n    Caused by: java.io.IOException: CreateProcess error=2, The system cannot find the file specified\r\n    \tat java.lang.ProcessImpl.create(Native Method)\r\n    \tat java.lang.ProcessImpl.&lt;init&gt;(ProcessImpl.java:386)\r\n    \tat java.lang.ProcessImpl.start(ProcessImpl.java:137)\r\n    \tat java.lang.ProcessBuilder.start(ProcessBuilder.java:1029)\r\n    \t... 111 more\r\n\r\nNo spaces in the path to tomcat,\r\nas well as no space in my path to idea.\r\n\r\nSmart Tomcat version 2.6\r\n\r\nTomcat 8.0.30\r\n\r\nJava 1.8.0_161\r\n\r\nKotlin plugin 1.3.0-release-IJ.2018.1-1\r\n\r\nIntelliJ IDEA 2018.1 EAP (Community Edition)\r\nBuild #IC-181.3986.9, built on February 28, 2018\r\nJRE: 1.8.0_152-release-1136-b16 amd64`enter code here`\r\nJVM: OpenJDK 64-Bit Server VM by JetBrains s.r.o\r\nWindows 10 10.0\r\n\r\nWhy this happens?\r\nWhy does &#39;smart tomcat&#39; requires this &#39;java&#39; under kotlin plugin?\r\nAny ideas?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/xY1S2.png","title":"Can&#39;t choose tomcat for &#39;smart tomcat&#39; plugin in Intellij Idea","body":"<p>I\"m trying to add tomcat to Smart tomcat plugin\nUsing these \"3 dots\" button in <a href=\"https://i.stack.imgur.com/xY1S2.png\" rel=\"nofollow noreferrer\">Run/Debug Configuration</a> but nothing happens except the fact that idea fails with exception</p>\n\n<pre><code>java.io.IOException: Cannot run program \"idea-path\\plugins\\Kotlin\\kotlinc/bin/java\": CreateProcess error=2, The system cannot find the file specified\njava.lang.RuntimeException: java.io.IOException: Cannot run program \"idea-path\\plugins\\Kotlin\\kotlinc/bin/java\": CreateProcess error=2, The system cannot find the file specified\n    at com.poratu.idea.plugins.tomcat.utils.PluginUtils.getTomcatInfo(PluginUtils.java:58)\n    at com.poratu.idea.plugins.tomcat.utils.PluginUtils.getTomcatInfo(PluginUtils.java:30)\n    at com.poratu.idea.plugins.tomcat.setting.TomcatSetting$1.run(TomcatSetting.java:58)\n    at com.poratu.idea.plugins.tomcat.setting.TomcatSetting$1.run(TomcatSetting.java:45)\n    at com.intellij.ui.ToolbarDecorator$2.doAdd(ToolbarDecorator.java:440)\n    at com.intellij.ui.CommonActionsPanel$Buttons.performAction(CommonActionsPanel.java:60)\n    at com.intellij.ui.CommonActionsPanel$MyActionButton.actionPerformed(CommonActionsPanel.java:272)\n    at com.intellij.openapi.actionSystem.ex.ActionUtil$1.run(ActionUtil.java:220)\n    at com.intellij.openapi.actionSystem.ex.ActionUtil.performActionDumbAware(ActionUtil.java:237)\n    at com.intellij.openapi.actionSystem.impl.ActionButton.actionPerformed(ActionButton.java:193)\n    at com.intellij.openapi.actionSystem.impl.ActionButton.performAction(ActionButton.java:153)\n    at com.intellij.openapi.actionSystem.impl.ActionButton.processMouseEvent(ActionButton.java:357)\n    at java.awt.Component.processEvent(Component.java:6306)\n    at java.awt.Container.processEvent(Container.java:2237)\n    at java.awt.Component.dispatchEventImpl(Component.java:4897)\n    at java.awt.Container.dispatchEventImpl(Container.java:2295)\n    at java.awt.Component.dispatchEvent(Component.java:4719)\n    at java.awt.LightweightDispatcher.retargetMouseEvent(Container.java:4889)\n    at java.awt.LightweightDispatcher.processMouseEvent(Container.java:4526)\n    at java.awt.LightweightDispatcher.dispatchEvent(Container.java:4467)\n    at java.awt.Container.dispatchEventImpl(Container.java:2281)\n    at java.awt.Window.dispatchEventImpl(Window.java:2746)\n    at java.awt.Component.dispatchEvent(Component.java:4719)\n    at java.awt.EventQueue.dispatchEventImpl(EventQueue.java:764)\n    at java.awt.EventQueue.access$500(EventQueue.java:98)\n    at java.awt.EventQueue$3.run(EventQueue.java:715)\n    at java.awt.EventQueue$3.run(EventQueue.java:709)\n    at java.security.AccessController.doPrivileged(Native Method)\n    at java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:80)\n    at java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:90)\n    at java.awt.EventQueue$4.run(EventQueue.java:737)\n    at java.awt.EventQueue$4.run(EventQueue.java:735)\n    at java.security.AccessController.doPrivileged(Native Method)\n    at java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:80)\n    at java.awt.EventQueue.dispatchEvent(EventQueue.java:734)\n    at com.intellij.ide.IdeEventQueue.defaultDispatchEvent(IdeEventQueue.java:837)\n    at com.intellij.ide.IdeEventQueue._dispatchEvent(IdeEventQueue.java:762)\n    at com.intellij.ide.IdeEventQueue.dispatchEvent(IdeEventQueue.java:434)\n    at java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:201)\n    at java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:116)\n    at java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:109)\n    at java.awt.WaitDispatchSupport$2.run(WaitDispatchSupport.java:190)\n    at java.awt.WaitDispatchSupport$4.run(WaitDispatchSupport.java:235)\n    at java.awt.WaitDispatchSupport$4.run(WaitDispatchSupport.java:233)\n    at java.security.AccessController.doPrivileged(Native Method)\n    at java.awt.WaitDispatchSupport.enter(WaitDispatchSupport.java:233)\n    at java.awt.Dialog.show(Dialog.java:1077)\n    at com.intellij.openapi.ui.impl.DialogWrapperPeerImpl$MyDialog.show(DialogWrapperPeerImpl.java:694)\n    at com.intellij.openapi.ui.impl.DialogWrapperPeerImpl.show(DialogWrapperPeerImpl.java:427)\n    at com.intellij.openapi.ui.DialogWrapper.invokeShow(DialogWrapper.java:1678)\n    at com.intellij.openapi.ui.DialogWrapper.show(DialogWrapper.java:1627)\n    at com.intellij.openapi.options.newEditor.SettingsDialog.lambda$show$0(SettingsDialog.java:69)\n    at com.intellij.openapi.application.TransactionGuardImpl.runSyncTransaction(TransactionGuardImpl.java:88)\n    at com.intellij.openapi.application.TransactionGuardImpl.submitTransactionAndWait(TransactionGuardImpl.java:153)\n    at com.intellij.openapi.options.newEditor.SettingsDialog.show(SettingsDialog.java:69)\n    at com.intellij.ide.actions.ShowSettingsUtilImpl.showSettingsDialog(ShowSettingsUtilImpl.java:97)\n    at com.intellij.ide.actions.ShowSettingsAction.perform(ShowSettingsAction.java:63)\n    at com.intellij.ide.actions.ShowSettingsAction.actionPerformed(ShowSettingsAction.java:52)\n    at com.intellij.openapi.actionSystem.ex.ActionUtil$1.run(ActionUtil.java:220)\n    at com.intellij.openapi.actionSystem.ex.ActionUtil.performActionDumbAware(ActionUtil.java:237)\n    at com.intellij.openapi.actionSystem.impl.ActionMenuItem$ActionTransmitter.lambda$actionPerformed$0(ActionMenuItem.java:301)\n    at com.intellij.openapi.wm.impl.FocusManagerImpl.runOnOwnContext(FocusManagerImpl.java:307)\n    at com.intellij.openapi.wm.impl.IdeFocusManagerImpl.runOnOwnContext(IdeFocusManagerImpl.java:104)\n    at com.intellij.openapi.actionSystem.impl.ActionMenuItem$ActionTransmitter.actionPerformed(ActionMenuItem.java:291)\n    at javax.swing.AbstractButton.fireActionPerformed(AbstractButton.java:2022)\n    at com.intellij.openapi.actionSystem.impl.ActionMenuItem.lambda$fireActionPerformed$0(ActionMenuItem.java:111)\n    at com.intellij.openapi.application.TransactionGuardImpl.runSyncTransaction(TransactionGuardImpl.java:88)\n    at com.intellij.openapi.application.TransactionGuardImpl.lambda$submitTransaction$1(TransactionGuardImpl.java:111)\n    at com.intellij.openapi.application.TransactionGuardImpl.submitTransaction(TransactionGuardImpl.java:120)\n    at com.intellij.openapi.application.TransactionGuard.submitTransaction(TransactionGuard.java:122)\n    at com.intellij.openapi.actionSystem.impl.ActionMenuItem.fireActionPerformed(ActionMenuItem.java:111)\n    at com.intellij.ui.plaf.beg.BegMenuItemUI.doClick(BegMenuItemUI.java:528)\n    at com.intellij.ui.plaf.beg.BegMenuItemUI.access$300(BegMenuItemUI.java:48)\n    at com.intellij.ui.plaf.beg.BegMenuItemUI$MyMouseInputHandler.mouseReleased(BegMenuItemUI.java:548)\n    at java.awt.Component.processMouseEvent(Component.java:6541)\n    at javax.swing.JComponent.processMouseEvent(JComponent.java:3325)\n    at java.awt.Component.processEvent(Component.java:6306)\n    at java.awt.Container.processEvent(Container.java:2237)\n    at java.awt.Component.dispatchEventImpl(Component.java:4897)\n    at java.awt.Container.dispatchEventImpl(Container.java:2295)\n    at java.awt.Component.dispatchEvent(Component.java:4719)\n    at java.awt.LightweightDispatcher.retargetMouseEvent(Container.java:4889)\n    at java.awt.LightweightDispatcher.processMouseEvent(Container.java:4526)\n    at java.awt.LightweightDispatcher.dispatchEvent(Container.java:4467)\n    at java.awt.Container.dispatchEventImpl(Container.java:2281)\n    at java.awt.Window.dispatchEventImpl(Window.java:2746)\n    at java.awt.Component.dispatchEvent(Component.java:4719)\n    at java.awt.EventQueue.dispatchEventImpl(EventQueue.java:764)\n    at java.awt.EventQueue.access$500(EventQueue.java:98)\n    at java.awt.EventQueue$3.run(EventQueue.java:715)\n    at java.awt.EventQueue$3.run(EventQueue.java:709)\n    at java.security.AccessController.doPrivileged(Native Method)\n    at java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:80)\n    at java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:90)\n    at java.awt.EventQueue$4.run(EventQueue.java:737)\n    at java.awt.EventQueue$4.run(EventQueue.java:735)\n    at java.security.AccessController.doPrivileged(Native Method)\n    at java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:80)\n    at java.awt.EventQueue.dispatchEvent(EventQueue.java:734)\n    at com.intellij.ide.IdeEventQueue.defaultDispatchEvent(IdeEventQueue.java:837)\n    at com.intellij.ide.IdeEventQueue._dispatchEvent(IdeEventQueue.java:762)\n    at com.intellij.ide.IdeEventQueue.dispatchEvent(IdeEventQueue.java:434)\n    at java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:201)\n    at java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:116)\n    at java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:105)\n    at java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:101)\n    at java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:93)\n    at java.awt.EventDispatchThread.run(EventDispatchThread.java:82)\nCaused by: java.io.IOException: Cannot run program \"idea-path\\plugins\\Kotlin\\kotlinc/bin/java\": CreateProcess error=2, The system cannot find the file specified\n    at java.lang.ProcessBuilder.start(ProcessBuilder.java:1048)\n    at java.lang.Runtime.exec(Runtime.java:620)\n    at java.lang.Runtime.exec(Runtime.java:450)\n    at java.lang.Runtime.exec(Runtime.java:347)\n    at com.poratu.idea.plugins.tomcat.utils.PluginUtils.getTomcatInfo(PluginUtils.java:40)\n    ... 107 more\nCaused by: java.io.IOException: CreateProcess error=2, The system cannot find the file specified\n    at java.lang.ProcessImpl.create(Native Method)\n    at java.lang.ProcessImpl.&lt;init&gt;(ProcessImpl.java:386)\n    at java.lang.ProcessImpl.start(ProcessImpl.java:137)\n    at java.lang.ProcessBuilder.start(ProcessBuilder.java:1029)\n    ... 111 more\n</code></pre>\n\n<p>No spaces in the path to tomcat,\nas well as no space in my path to idea.</p>\n\n<p>Smart Tomcat version 2.6</p>\n\n<p>Tomcat 8.0.30</p>\n\n<p>Java 1.8.0_161</p>\n\n<p>Kotlin plugin 1.3.0-release-IJ.2018.1-1</p>\n\n<p>IntelliJ IDEA 2018.1 EAP (Community Edition)\nBuild #IC-181.3986.9, built on February 28, 2018\nJRE: 1.8.0_152-release-1136-b16 amd64<code>enter code here</code>\nJVM: OpenJDK 64-Bit Server VM by JetBrains s.r.o\nWindows 10 10.0</p>\n\n<p>Why this happens?\nWhy does 'smart tomcat' requires this 'java' under kotlin plugin?\nAny ideas?</p>\n"},{"tags":["java","maven","tomcat","intellij-idea"],"comments":[{"owner":{"account_id":7363499,"reputation":27092,"user_id":5606016,"accept_rate":88,"display_name":"A_Di-Matteo"},"score":0,"creation_date":1453502506,"post_id":34956328,"comment_id":57645924,"body_markdown":"did you try to run the example as explained in the official [doc](http://www.oracle.com/webfolder/technetwork/tutorials/obe/java/basic_app_embedded_tomcat/basic_app-tomcat-embedded.html#section9)? from command line (after mvn clean package), from the target folder run: java -jar employees-app-1.0-SNAPSHOT-jar-with-dependencies.jar and then check on localhost:8080","body":"did you try to run the example as explained in the official <a href=\"http://www.oracle.com/webfolder/technetwork/tutorials/obe/java/basic_app_embedded_tomcat/basic_app-tomcat-embedded.html#section9\" rel=\"nofollow noreferrer\">doc</a>? from command line (after mvn clean package), from the target folder run: java -jar employees-app-1.0-SNAPSHOT-jar-with-dependencies.jar and then check on localhost:8080"},{"owner":{"account_id":901438,"reputation":2103,"user_id":937494,"accept_rate":73,"display_name":"Alex G."},"score":0,"creation_date":1453503240,"post_id":34956328,"comment_id":57646195,"body_markdown":"No, I didn&#39;t. The objective is to be able to do Tomcat dev using IntelliJ.","body":"No, I didn&#39;t. The objective is to be able to do Tomcat dev using IntelliJ."}],"answers":[{"tags":[],"owner":{"account_id":901438,"reputation":2103,"user_id":937494,"accept_rate":73,"display_name":"Alex G."},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1453583583,"creation_date":1453583583,"answer_id":34968932,"question_id":34956328,"body_markdown":"I figured it out. \r\n\r\nAs the linked post indicates, it&#39;s best to use Heroku&#39;s launcher and pom.xml file.\r\n\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n      xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\r\n      &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n      &lt;groupId&gt;com.heroku.sample&lt;/groupId&gt;\r\n      &lt;artifactId&gt;embeddedTomcatSample&lt;/artifactId&gt;\r\n      &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n      &lt;packaging&gt;jar&lt;/packaging&gt;\r\n      &lt;name&gt;embeddedTomcatSample Maven Webapp&lt;/name&gt;\r\n      &lt;url&gt;http://maven.apache.org&lt;/url&gt;\r\n      &lt;properties&gt;\r\n        &lt;tomcat.version&gt;8.0.28&lt;/tomcat.version&gt;\r\n      &lt;/properties&gt;\r\n      &lt;dependencies&gt;\r\n        ...tomcat &amp; other deps...\r\n      &lt;/dependencies&gt;\r\n      &lt;build&gt;\r\n        &lt;finalName&gt;embeddedTomcatSample&lt;/finalName&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n                &lt;artifactId&gt;appassembler-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;1.1.1&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;assembleDirectory&gt;target&lt;/assembleDirectory&gt;\r\n                    &lt;programs&gt;\r\n                        &lt;program&gt;\r\n                            &lt;mainClass&gt;launch.Main&lt;/mainClass&gt;\r\n                            &lt;name&gt;webapp&lt;/name&gt;\r\n                        &lt;/program&gt;\r\n                    &lt;/programs&gt;\r\n                &lt;/configuration&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;phase&gt;package&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;assemble&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n      &lt;/build&gt;\r\n    &lt;/project&gt;\r\n\r\nThis launcher function does most of the magic by programatically configuring Tomcat to run inside the project&#39;s directory.\r\n\r\n    public static void main(String[] args) throws Exception {\r\n    \r\n            String webappDirLocation = &quot;src/main/webapp/&quot;;\r\n            Tomcat tomcat = new Tomcat();\r\n    \r\n            //The port that we should run on can be set into an environment variable\r\n            //Look for that variable and default to 8080 if it isn&#39;t there.\r\n            String webPort = System.getenv(&quot;PORT&quot;);\r\n            if(webPort == null || webPort.isEmpty()) {\r\n                webPort = &quot;8080&quot;;\r\n            }\r\n    \r\n            tomcat.setPort(Integer.valueOf(webPort));\r\n    \r\n            StandardContext ctx = (StandardContext) tomcat.addWebapp(&quot;/&quot;, new File(webappDirLocation).getAbsolutePath());\r\n            System.out.println(&quot;configuring app with basedir: &quot; + new File(&quot;./&quot; + webappDirLocation).getAbsolutePath());\r\n    \r\n            // Declare an alternative location for your &quot;WEB-INF/classes&quot; dir\r\n            // Servlet 3.0 annotation will work\r\n            File additionWebInfClasses = new File(&quot;target/classes&quot;);\r\n            WebResourceRoot resources = new StandardRoot(ctx);\r\n            resources.addPreResources(new DirResourceSet(resources, &quot;/WEB-INF/classes&quot;,\r\n                    additionWebInfClasses.getAbsolutePath(), &quot;/&quot;));\r\n            ctx.setResources(resources);\r\n    \r\n            tomcat.start();\r\n            tomcat.getServer().await();\r\n        }\r\n\r\nI couldn&#39;t figure out how to programatically set the path to Tomcat&#39;s *conf* folder but I was able to overcome this thanks to [this answer][1]. Under normal circumstances, Tomcat takes care of setting up the initial context. As a result, the environment variables in a webapp&#39;s context.xml file end up in the initial context. Fortunately, it is possible to replicate this via a custom InitialContextFactory.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/20359483/initialcontext-in-a-standalone-java-program/21733896#comment57663464_21733896","title":"Trouble running embedded Tomcat from IntelliJ Idea Community","body":"<p>I figured it out. </p>\n\n<p>As the linked post indicates, it's best to use Heroku's launcher and pom.xml file.</p>\n\n<pre><code>&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n  xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd\"&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n  &lt;groupId&gt;com.heroku.sample&lt;/groupId&gt;\n  &lt;artifactId&gt;embeddedTomcatSample&lt;/artifactId&gt;\n  &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n  &lt;packaging&gt;jar&lt;/packaging&gt;\n  &lt;name&gt;embeddedTomcatSample Maven Webapp&lt;/name&gt;\n  &lt;url&gt;http://maven.apache.org&lt;/url&gt;\n  &lt;properties&gt;\n    &lt;tomcat.version&gt;8.0.28&lt;/tomcat.version&gt;\n  &lt;/properties&gt;\n  &lt;dependencies&gt;\n    ...tomcat &amp; other deps...\n  &lt;/dependencies&gt;\n  &lt;build&gt;\n    &lt;finalName&gt;embeddedTomcatSample&lt;/finalName&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n            &lt;artifactId&gt;appassembler-maven-plugin&lt;/artifactId&gt;\n            &lt;version&gt;1.1.1&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;assembleDirectory&gt;target&lt;/assembleDirectory&gt;\n                &lt;programs&gt;\n                    &lt;program&gt;\n                        &lt;mainClass&gt;launch.Main&lt;/mainClass&gt;\n                        &lt;name&gt;webapp&lt;/name&gt;\n                    &lt;/program&gt;\n                &lt;/programs&gt;\n            &lt;/configuration&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;phase&gt;package&lt;/phase&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;assemble&lt;/goal&gt;\n                    &lt;/goals&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n  &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n\n<p>This launcher function does most of the magic by programatically configuring Tomcat to run inside the project's directory.</p>\n\n<pre><code>public static void main(String[] args) throws Exception {\n\n        String webappDirLocation = \"src/main/webapp/\";\n        Tomcat tomcat = new Tomcat();\n\n        //The port that we should run on can be set into an environment variable\n        //Look for that variable and default to 8080 if it isn't there.\n        String webPort = System.getenv(\"PORT\");\n        if(webPort == null || webPort.isEmpty()) {\n            webPort = \"8080\";\n        }\n\n        tomcat.setPort(Integer.valueOf(webPort));\n\n        StandardContext ctx = (StandardContext) tomcat.addWebapp(\"/\", new File(webappDirLocation).getAbsolutePath());\n        System.out.println(\"configuring app with basedir: \" + new File(\"./\" + webappDirLocation).getAbsolutePath());\n\n        // Declare an alternative location for your \"WEB-INF/classes\" dir\n        // Servlet 3.0 annotation will work\n        File additionWebInfClasses = new File(\"target/classes\");\n        WebResourceRoot resources = new StandardRoot(ctx);\n        resources.addPreResources(new DirResourceSet(resources, \"/WEB-INF/classes\",\n                additionWebInfClasses.getAbsolutePath(), \"/\"));\n        ctx.setResources(resources);\n\n        tomcat.start();\n        tomcat.getServer().await();\n    }\n</code></pre>\n\n<p>I couldn't figure out how to programatically set the path to Tomcat's <em>conf</em> folder but I was able to overcome this thanks to <a href=\"https://stackoverflow.com/questions/20359483/initialcontext-in-a-standalone-java-program/21733896#comment57663464_21733896\">this answer</a>. Under normal circumstances, Tomcat takes care of setting up the initial context. As a result, the environment variables in a webapp's context.xml file end up in the initial context. Fortunately, it is possible to replicate this via a custom InitialContextFactory.</p>\n"}],"owner":{"account_id":901438,"reputation":2103,"user_id":937494,"accept_rate":73,"display_name":"Alex G."},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3628,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":34968932,"answer_count":1,"score":0,"last_activity_date":1692257733,"creation_date":1453498463,"question_id":34956328,"body_markdown":"I&#39;m trying to use the answers [here][1] in order to run [this example][2] from Oracle in  IntelliJ Idea Community Edition. I&#39;ve created a new project, copied the source code from the example and enabled Maven support in Idea. I&#39;m able to make and run the project but I can&#39;t access the service in the browser. Tomcat keeps throwing 404s. Note that the source code and pom.xml file are untouched.\r\n\r\npom.xml:\r\n\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n        &lt;groupId&gt;com.example.employees&lt;/groupId&gt;\r\n        &lt;artifactId&gt;employees-app&lt;/artifactId&gt;\r\n        &lt;packaging&gt;war&lt;/packaging&gt;\r\n        &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n        &lt;name&gt;employees-app Maven Webapp&lt;/name&gt;\r\n        &lt;url&gt;http://maven.apache.org&lt;/url&gt;\r\n        &lt;properties&gt;\r\n            &lt;tomcat.version&gt;7.0.57&lt;/tomcat.version&gt;\r\n        &lt;/properties&gt;\r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\r\n                &lt;artifactId&gt;tomcat-embed-core&lt;/artifactId&gt;\r\n                &lt;version&gt;${tomcat.version}&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\r\n                &lt;artifactId&gt;tomcat-embed-logging-juli&lt;/artifactId&gt;\r\n                &lt;version&gt;${tomcat.version}&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\r\n                &lt;artifactId&gt;tomcat-embed-jasper&lt;/artifactId&gt;\r\n                &lt;version&gt;${tomcat.version}&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.apache.tomcat&lt;/groupId&gt;\r\n                &lt;artifactId&gt;tomcat-jasper&lt;/artifactId&gt;\r\n                &lt;version&gt;${tomcat.version}&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.apache.tomcat&lt;/groupId&gt;\r\n                &lt;artifactId&gt;tomcat-jasper-el&lt;/artifactId&gt;\r\n                &lt;version&gt;${tomcat.version}&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.apache.tomcat&lt;/groupId&gt;\r\n                &lt;artifactId&gt;tomcat-jsp-api&lt;/artifactId&gt;\r\n                &lt;version&gt;${tomcat.version}&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;jstl&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jstl&lt;/artifactId&gt;\r\n                &lt;version&gt;1.2&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n         &lt;build&gt;\r\n            &lt;finalName&gt;employees-app&lt;/finalName&gt;\r\n            &lt;resources&gt;\r\n                &lt;resource&gt;\r\n                    &lt;directory&gt;src/main/webapp&lt;/directory&gt;\r\n                    &lt;targetPath&gt;META-INF/resources&lt;/targetPath&gt;\r\n                &lt;/resource&gt;\r\n            &lt;/resources&gt;\r\n            &lt;plugins&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;2.3.2&lt;/version&gt;\r\n                    &lt;inherited&gt;true&lt;/inherited&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;source&gt;1.8&lt;/source&gt;\r\n                        &lt;target&gt;1.8&lt;/target&gt;\r\n                    &lt;/configuration&gt;\r\n                    \r\n                &lt;/plugin&gt;           \r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;descriptorRefs&gt;\r\n                            &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\r\n                        &lt;/descriptorRefs&gt;\r\n                        &lt;finalName&gt;employees-app-${project.version}&lt;/finalName&gt;\r\n                        &lt;archive&gt;\r\n                            &lt;manifest&gt;\r\n                                &lt;mainClass&gt;com.example.employees.Main&lt;/mainClass&gt;\r\n                            &lt;/manifest&gt;\r\n                        &lt;/archive&gt;\r\n                    &lt;/configuration&gt;\r\n                    &lt;executions&gt;\r\n                        &lt;execution&gt;\r\n                            &lt;phase&gt;package&lt;/phase&gt;\r\n                            &lt;goals&gt;\r\n                                &lt;goal&gt;single&lt;/goal&gt;\r\n                            &lt;/goals&gt;\r\n                        &lt;/execution&gt;\r\n                    &lt;/executions&gt;\r\n                &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n        &lt;/build&gt;\r\n    &lt;/project&gt;\r\n\r\nUsing Process Monitor I&#39;ve been able to determine that Tomcat associated the root of the website (localhost:8080) with MyProject\\target\\classes. If I place a dummy txt file in there I can access it via the browser (e.g. localhost:8080/test.txt). \r\n\r\nThe &#39;classes&#39; directory is not empty. It contains two sub-directories:\r\n\r\n 1. com/example/employees/*.class - all the class files\r\n 2. META-INF/resources/[everything in /main/src/webapp in the [Oracle\r\n    example \\]][3]\r\n\r\nMy hunch is that there&#39;s something wrong with the folder hierarchy of the output. I&#39;m not sure what or how to fix it. Any ideas?\r\n\r\n  [1]: https://stackoverflow.com/questions/22047860/tomcat-in-intellij-idea-community-edition\r\n  [2]: http://www.oracle.com/webfolder/technetwork/tutorials/obe/java/basic_app_embedded_tomcat/basic_app-tomcat-embedded.html#section2s1\r\n  [3]: http://www.oracle.com/webfolder/technetwork/tutorials/obe/java/basic_app_embedded_tomcat/files/employees-app.zip","title":"Trouble running embedded Tomcat from IntelliJ Idea Community","body":"<p>I'm trying to use the answers <a href=\"https://stackoverflow.com/questions/22047860/tomcat-in-intellij-idea-community-edition\">here</a> in order to run <a href=\"http://www.oracle.com/webfolder/technetwork/tutorials/obe/java/basic_app_embedded_tomcat/basic_app-tomcat-embedded.html#section2s1\" rel=\"nofollow noreferrer\">this example</a> from Oracle in  IntelliJ Idea Community Edition. I've created a new project, copied the source code from the example and enabled Maven support in Idea. I'm able to make and run the project but I can't access the service in the browser. Tomcat keeps throwing 404s. Note that the source code and pom.xml file are untouched.</p>\n\n<p>pom.xml:</p>\n\n<pre><code>&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd\"&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;groupId&gt;com.example.employees&lt;/groupId&gt;\n    &lt;artifactId&gt;employees-app&lt;/artifactId&gt;\n    &lt;packaging&gt;war&lt;/packaging&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;employees-app Maven Webapp&lt;/name&gt;\n    &lt;url&gt;http://maven.apache.org&lt;/url&gt;\n    &lt;properties&gt;\n        &lt;tomcat.version&gt;7.0.57&lt;/tomcat.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\n            &lt;artifactId&gt;tomcat-embed-core&lt;/artifactId&gt;\n            &lt;version&gt;${tomcat.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\n            &lt;artifactId&gt;tomcat-embed-logging-juli&lt;/artifactId&gt;\n            &lt;version&gt;${tomcat.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\n            &lt;artifactId&gt;tomcat-embed-jasper&lt;/artifactId&gt;\n            &lt;version&gt;${tomcat.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.tomcat&lt;/groupId&gt;\n            &lt;artifactId&gt;tomcat-jasper&lt;/artifactId&gt;\n            &lt;version&gt;${tomcat.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.tomcat&lt;/groupId&gt;\n            &lt;artifactId&gt;tomcat-jasper-el&lt;/artifactId&gt;\n            &lt;version&gt;${tomcat.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.tomcat&lt;/groupId&gt;\n            &lt;artifactId&gt;tomcat-jsp-api&lt;/artifactId&gt;\n            &lt;version&gt;${tomcat.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;jstl&lt;/groupId&gt;\n            &lt;artifactId&gt;jstl&lt;/artifactId&gt;\n            &lt;version&gt;1.2&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n     &lt;build&gt;\n        &lt;finalName&gt;employees-app&lt;/finalName&gt;\n        &lt;resources&gt;\n            &lt;resource&gt;\n                &lt;directory&gt;src/main/webapp&lt;/directory&gt;\n                &lt;targetPath&gt;META-INF/resources&lt;/targetPath&gt;\n            &lt;/resource&gt;\n        &lt;/resources&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.3.2&lt;/version&gt;\n                &lt;inherited&gt;true&lt;/inherited&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;1.8&lt;/source&gt;\n                    &lt;target&gt;1.8&lt;/target&gt;\n                &lt;/configuration&gt;\n\n            &lt;/plugin&gt;           \n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;descriptorRefs&gt;\n                        &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\n                    &lt;/descriptorRefs&gt;\n                    &lt;finalName&gt;employees-app-${project.version}&lt;/finalName&gt;\n                    &lt;archive&gt;\n                        &lt;manifest&gt;\n                            &lt;mainClass&gt;com.example.employees.Main&lt;/mainClass&gt;\n                        &lt;/manifest&gt;\n                    &lt;/archive&gt;\n                &lt;/configuration&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;phase&gt;package&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;single&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n\n<p>Using Process Monitor I've been able to determine that Tomcat associated the root of the website (localhost:8080) with MyProject\\target\\classes. If I place a dummy txt file in there I can access it via the browser (e.g. localhost:8080/test.txt). </p>\n\n<p>The 'classes' directory is not empty. It contains two sub-directories:</p>\n\n<ol>\n<li>com/example/employees/*.class - all the class files</li>\n<li>META-INF/resources/[everything in /main/src/webapp in the <a href=\"http://www.oracle.com/webfolder/technetwork/tutorials/obe/java/basic_app_embedded_tomcat/files/employees-app.zip\" rel=\"nofollow noreferrer\">Oracle\nexample ]</a></li>\n</ol>\n\n<p>My hunch is that there's something wrong with the folder hierarchy of the output. I'm not sure what or how to fix it. Any ideas?</p>\n"},{"tags":["java","libphonenumber"],"answers":[{"tags":[],"owner":{"account_id":4625774,"reputation":304,"user_id":3749639,"display_name":"Pablo AM"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1554910643,"creation_date":1554910643,"answer_id":55616466,"question_id":55614160,"body_markdown":"This library does not provide you with random numbers, no matter how many times you run your code you will always get:\r\n\r\n```\r\nCountry Code: 44 National Number: 1212345678\r\n````\r\n\r\nYou can take a look to their github project:\r\n\r\nhttps://github.com/googlei18n/libphonenumber/\r\n\r\nAnd you will see a lot of proto files inside this folder:\r\n\r\nhttps://github.com/googlei18n/libphonenumber/tree/master/java/libphonenumber/src/com/google/i18n/phonenumbers/data\r\n\r\nFrom those files is where they get that number, so it is hardcoded in there. No way to get it randomly.","title":"Random phone number generator for any country","body":"<p>This library does not provide you with random numbers, no matter how many times you run your code you will always get:</p>\n\n<pre><code>Country Code: 44 National Number: 1212345678\n</code></pre>\n\n<p>You can take a look to their github project:</p>\n\n<p><a href=\"https://github.com/googlei18n/libphonenumber/\" rel=\"nofollow noreferrer\">https://github.com/googlei18n/libphonenumber/</a></p>\n\n<p>And you will see a lot of proto files inside this folder:</p>\n\n<p><a href=\"https://github.com/googlei18n/libphonenumber/tree/master/java/libphonenumber/src/com/google/i18n/phonenumbers/data\" rel=\"nofollow noreferrer\">https://github.com/googlei18n/libphonenumber/tree/master/java/libphonenumber/src/com/google/i18n/phonenumbers/data</a></p>\n\n<p>From those files is where they get that number, so it is hardcoded in there. No way to get it randomly.</p>\n"},{"tags":[],"owner":{"account_id":796053,"reputation":115361,"user_id":878126,"accept_rate":51,"display_name":"android developer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1606469450,"creation_date":1606469450,"answer_id":65034923,"question_id":55614160,"body_markdown":"The best way would be to use the REGEX that the library has, somehow, but it&#39;s a lot of work.\r\n\r\nAs the function of getExampleNumber will return you the exact same value, always, you can still use it, to randomize (or iterate) numbers in it. \r\n\r\nHere&#39;s an example (sample [**here**][1]) of how to do it, getting 10 random mobile phone numbers of each supported region :\r\n\r\n```kt\r\nclass MainActivity : AppCompatActivity() {\r\n    @WorkerThread\r\n    override fun onCreate(savedInstanceState: Bundle?) {\r\n        super.onCreate(savedInstanceState)\r\n        setContentView(R.layout.activity_main)\r\n        val phoneNumbersToRandomize = 10\r\n        var regionsThatFoundMobilePhonesFor = 0\r\n        if (savedInstanceState == null)\r\n            thread {\r\n                val phoneNumberUtil = PhoneNumberUtil.getInstance()\r\n                val startTime = System.currentTimeMillis()\r\n                val supportedRegions = phoneNumberUtil.supportedRegions\r\n                for (region in supportedRegions) {\r\n                    val validPhoneNumbers = HashSet&lt;String&gt;()\r\n                    val exampleNumber = phoneNumberUtil.getExampleNumberForType(region, PhoneNumberUtil.PhoneNumberType.MOBILE)\r\n                    if (exampleNumber == null) {\r\n                        Log.w(&quot;AppLog&quot;, &quot;region:$region no exampleNumber&quot;)\r\n                        continue\r\n                    }\r\n                    Log.d(&quot;AppLog&quot;, &quot;region:$region exampleNumber:${phoneNumberUtil.format(exampleNumber, PhoneNumberUtil.PhoneNumberFormat.E164)}&quot;)\r\n                    val countryCode = phoneNumberUtil.getCountryCodeForRegion(region)\r\n                    val nationalSignificantNumber = phoneNumberUtil.getNationalSignificantNumber(exampleNumber)\r\n                    //                    Log.d(&quot;AppLog&quot;, &quot;finding $phoneNumbersToRandomize random mobile phone numbers for $region example phone number:&quot; +\r\n                    //                            phoneNumberUtil.format(exampleNumber, PhoneNumberUtil.PhoneNumberFormat.E164) + &quot; countryCode:$countryCode nationalSignificantNumber:$nationalSignificantNumber &quot;)\r\n                    val randomDigitsLength = nationalSignificantNumber.length\r\n                    while (validPhoneNumbers.size &lt; phoneNumbersToRandomize) {\r\n                        val inputPhone = &quot;+$countryCode${getRandomStringOfDigits(randomDigitsLength)}&quot;\r\n                        if (validPhoneNumbers.contains(inputPhone))\r\n                            continue\r\n                        val phoneNumber = phoneNumberUtil.parse(inputPhone, region)\r\n                        val nationalSignificantNumberFromGeneratedNumber = phoneNumberUtil.getNationalSignificantNumber(phoneNumber)\r\n                        if (nationalSignificantNumberFromGeneratedNumber.length != randomDigitsLength)\r\n                            continue\r\n                        val isValidMobilePhoneNumber = phoneNumberUtil.isValidNumberForRegion(phoneNumber, region)\r\n                                &amp;&amp; phoneNumberUtil.isPossibleNumberForType(phoneNumber, PhoneNumberUtil.PhoneNumberType.MOBILE)\r\n                        if (isValidMobilePhoneNumber) {\r\n                            validPhoneNumbers.add(inputPhone)\r\n                        }\r\n                    }\r\n                    ++regionsThatFoundMobilePhonesFor\r\n                }\r\n                Log.d(&quot;AppLog&quot;, &quot;done regionsThatFoundMobilePhonesFor:$regionsThatFoundMobilePhonesFor out of ${supportedRegions.size}&quot; +\r\n                        &quot;timeTaken:${System.currentTimeMillis() - startTime}ms&quot;)\r\n            }\r\n\r\n    }\r\n\r\n    companion object {\r\n        private fun getRandomStringOfDigits(numberOfDigitsToGenerate: Int): String {\r\n            val sb = StringBuilder(numberOfDigitsToGenerate)\r\n            for (i in 0 until numberOfDigitsToGenerate)\r\n                sb.append(Random.nextInt(10).toString())\r\n            return sb.toString()\r\n        }\r\n    }\r\n}\r\n```\r\n\r\ngradle dependencies:\r\n\r\n```\r\n    implementation fileTree(dir: &#39;libs&#39;, include: [&#39;*.jar&#39;])\r\n    implementation &quot;org.jetbrains.kotlin:kotlin-stdlib-jdk7:$kotlin_version&quot;\r\n    implementation &#39;androidx.appcompat:appcompat:1.2.0&#39;\r\n    implementation &#39;androidx.core:core-ktx:1.3.2&#39;\r\n    implementation &#39;androidx.constraintlayout:constraintlayout:2.0.4&#39;\r\n    api &#39;com.googlecode.libphonenumber:libphonenumber:8.12.13&#39;\r\n```\r\n\r\n\r\n  [1]: https://issuetracker.google.com/issues/174302345#comment3","title":"Random phone number generator for any country","body":"<p>The best way would be to use the REGEX that the library has, somehow, but it's a lot of work.</p>\n<p>As the function of getExampleNumber will return you the exact same value, always, you can still use it, to randomize (or iterate) numbers in it.</p>\n<p>Here's an example (sample <a href=\"https://issuetracker.google.com/issues/174302345#comment3\" rel=\"nofollow noreferrer\"><strong>here</strong></a>) of how to do it, getting 10 random mobile phone numbers of each supported region :</p>\n<pre><code>class MainActivity : AppCompatActivity() {\n    @WorkerThread\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n        val phoneNumbersToRandomize = 10\n        var regionsThatFoundMobilePhonesFor = 0\n        if (savedInstanceState == null)\n            thread {\n                val phoneNumberUtil = PhoneNumberUtil.getInstance()\n                val startTime = System.currentTimeMillis()\n                val supportedRegions = phoneNumberUtil.supportedRegions\n                for (region in supportedRegions) {\n                    val validPhoneNumbers = HashSet&lt;String&gt;()\n                    val exampleNumber = phoneNumberUtil.getExampleNumberForType(region, PhoneNumberUtil.PhoneNumberType.MOBILE)\n                    if (exampleNumber == null) {\n                        Log.w(&quot;AppLog&quot;, &quot;region:$region no exampleNumber&quot;)\n                        continue\n                    }\n                    Log.d(&quot;AppLog&quot;, &quot;region:$region exampleNumber:${phoneNumberUtil.format(exampleNumber, PhoneNumberUtil.PhoneNumberFormat.E164)}&quot;)\n                    val countryCode = phoneNumberUtil.getCountryCodeForRegion(region)\n                    val nationalSignificantNumber = phoneNumberUtil.getNationalSignificantNumber(exampleNumber)\n                    //                    Log.d(&quot;AppLog&quot;, &quot;finding $phoneNumbersToRandomize random mobile phone numbers for $region example phone number:&quot; +\n                    //                            phoneNumberUtil.format(exampleNumber, PhoneNumberUtil.PhoneNumberFormat.E164) + &quot; countryCode:$countryCode nationalSignificantNumber:$nationalSignificantNumber &quot;)\n                    val randomDigitsLength = nationalSignificantNumber.length\n                    while (validPhoneNumbers.size &lt; phoneNumbersToRandomize) {\n                        val inputPhone = &quot;+$countryCode${getRandomStringOfDigits(randomDigitsLength)}&quot;\n                        if (validPhoneNumbers.contains(inputPhone))\n                            continue\n                        val phoneNumber = phoneNumberUtil.parse(inputPhone, region)\n                        val nationalSignificantNumberFromGeneratedNumber = phoneNumberUtil.getNationalSignificantNumber(phoneNumber)\n                        if (nationalSignificantNumberFromGeneratedNumber.length != randomDigitsLength)\n                            continue\n                        val isValidMobilePhoneNumber = phoneNumberUtil.isValidNumberForRegion(phoneNumber, region)\n                                &amp;&amp; phoneNumberUtil.isPossibleNumberForType(phoneNumber, PhoneNumberUtil.PhoneNumberType.MOBILE)\n                        if (isValidMobilePhoneNumber) {\n                            validPhoneNumbers.add(inputPhone)\n                        }\n                    }\n                    ++regionsThatFoundMobilePhonesFor\n                }\n                Log.d(&quot;AppLog&quot;, &quot;done regionsThatFoundMobilePhonesFor:$regionsThatFoundMobilePhonesFor out of ${supportedRegions.size}&quot; +\n                        &quot;timeTaken:${System.currentTimeMillis() - startTime}ms&quot;)\n            }\n\n    }\n\n    companion object {\n        private fun getRandomStringOfDigits(numberOfDigitsToGenerate: Int): String {\n            val sb = StringBuilder(numberOfDigitsToGenerate)\n            for (i in 0 until numberOfDigitsToGenerate)\n                sb.append(Random.nextInt(10).toString())\n            return sb.toString()\n        }\n    }\n}\n</code></pre>\n<p>gradle dependencies:</p>\n<pre><code>    implementation fileTree(dir: 'libs', include: ['*.jar'])\n    implementation &quot;org.jetbrains.kotlin:kotlin-stdlib-jdk7:$kotlin_version&quot;\n    implementation 'androidx.appcompat:appcompat:1.2.0'\n    implementation 'androidx.core:core-ktx:1.3.2'\n    implementation 'androidx.constraintlayout:constraintlayout:2.0.4'\n    api 'com.googlecode.libphonenumber:libphonenumber:8.12.13'\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9924137,"reputation":29,"user_id":7346347,"display_name":"Thinh Trinh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692257536,"creation_date":1692257536,"answer_id":76919336,"question_id":55614160,"body_markdown":"You can use the minimal regex version from [libphonenumber-js][1] library&#39;s metadata and this [tool][2] to generate valid random phone number for any country.\r\n\r\nIf this is too complicated, you can take a look at this [Random phone number generator][3] to simplify all of these stuffs.\r\n\r\n\r\n  [1]: https://www.npmjs.com/package/libphonenumber-js\r\n  [2]: https://onlinetools.com/random/generate-random-data-from-regexp\r\n  [3]: https://dotrand.com/phone-numbers/single","title":"Random phone number generator for any country","body":"<p>You can use the minimal regex version from <a href=\"https://www.npmjs.com/package/libphonenumber-js\" rel=\"nofollow noreferrer\">libphonenumber-js</a> library's metadata and this <a href=\"https://onlinetools.com/random/generate-random-data-from-regexp\" rel=\"nofollow noreferrer\">tool</a> to generate valid random phone number for any country.</p>\n<p>If this is too complicated, you can take a look at this <a href=\"https://dotrand.com/phone-numbers/single\" rel=\"nofollow noreferrer\">Random phone number generator</a> to simplify all of these stuffs.</p>\n"}],"owner":{"account_id":1242860,"reputation":4445,"user_id":1205019,"accept_rate":86,"display_name":"dr_rk"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8083,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":65034923,"answer_count":3,"score":0,"last_activity_date":1692257536,"creation_date":1554903874,"question_id":55614160,"body_markdown":"I am trying to create synthetic data around phone numbers, from a list of countries. \r\n\r\nI found Google&#39;s [libphonenumber][1] Java library with ports in Python, C++, etc. a good resource. \r\n\r\nIs it possible to generate *valid* random phone numbers from a list of countries, with this library? \r\n\r\nWith this code I&#39;ve written, I am using their `getExampleNumber` function but it is generating the same number each time: \r\n\r\n    \r\n    import com.google.i18n.phonenumbers.PhoneNumberUtil;\r\n    import com.google.i18n.phonenumbers.PhoneNumberUtil.PhoneNumberType;\r\n    import com.google.i18n.phonenumbers.Phonenumber.PhoneNumber;\r\n    import com.google.i18n.phonenumbers.Phonemetadata.PhoneNumberDesc;\r\n    import com.google.i18n.phonenumbers.NumberParseException;\r\n\r\n    public class Driver {\r\n        public static void main(String[] args) {\r\n           // Prints &quot;Hello, World&quot; in the terminal window.\r\n           for (int i=0;i&lt;10;i++)\r\n           {\r\n    \t      System.out.println(Generator());\r\n           }\r\n        }\r\n\r\n\r\n        public static PhoneNumber  Generator() \r\n        {\r\n           String regionCode = new String(&quot;GB&quot;);\r\n           PhoneNumberUtil phoneNumberUtil = PhoneNumberUtil.getInstance();\r\n           PhoneNumber exampleNumber =phoneNumberUtil.getExampleNumber(regionCode);\r\n           return exampleNumber;\r\n        }\r\n\r\n    }\r\n\r\n\r\n  [1]: https://github.com/googlei18n/libphonenumber","title":"Random phone number generator for any country","body":"<p>I am trying to create synthetic data around phone numbers, from a list of countries. </p>\n\n<p>I found Google's <a href=\"https://github.com/googlei18n/libphonenumber\" rel=\"nofollow noreferrer\">libphonenumber</a> Java library with ports in Python, C++, etc. a good resource. </p>\n\n<p>Is it possible to generate <em>valid</em> random phone numbers from a list of countries, with this library? </p>\n\n<p>With this code I've written, I am using their <code>getExampleNumber</code> function but it is generating the same number each time: </p>\n\n<pre><code>import com.google.i18n.phonenumbers.PhoneNumberUtil;\nimport com.google.i18n.phonenumbers.PhoneNumberUtil.PhoneNumberType;\nimport com.google.i18n.phonenumbers.Phonenumber.PhoneNumber;\nimport com.google.i18n.phonenumbers.Phonemetadata.PhoneNumberDesc;\nimport com.google.i18n.phonenumbers.NumberParseException;\n\npublic class Driver {\n    public static void main(String[] args) {\n       // Prints \"Hello, World\" in the terminal window.\n       for (int i=0;i&lt;10;i++)\n       {\n          System.out.println(Generator());\n       }\n    }\n\n\n    public static PhoneNumber  Generator() \n    {\n       String regionCode = new String(\"GB\");\n       PhoneNumberUtil phoneNumberUtil = PhoneNumberUtil.getInstance();\n       PhoneNumber exampleNumber =phoneNumberUtil.getExampleNumber(regionCode);\n       return exampleNumber;\n    }\n\n}\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":5368896,"reputation":698,"user_id":4277964,"accept_rate":100,"display_name":"Preshan Pradeepa"},"score":0,"creation_date":1446780077,"post_id":33558844,"comment_id":54897032,"body_markdown":"check this [link](http://codereview.stackexchange.com/questions/63283/password-validation-in-java)\nYou will find some validation methods.","body":"check this <a href=\"http://codereview.stackexchange.com/questions/63283/password-validation-in-java\">link</a> You will find some validation methods."},{"owner":{"account_id":7203757,"reputation":5,"user_id":5500126,"accept_rate":38,"display_name":"Nicole"},"score":0,"creation_date":1446780727,"post_id":33558844,"comment_id":54897189,"body_markdown":"thank you, but i&#39;m looking for an actual explanation, not just a code because i&#39;m a beginner programmer and i do not fully understand what all of that stuff means.","body":"thank you, but i&#39;m looking for an actual explanation, not just a code because i&#39;m a beginner programmer and i do not fully understand what all of that stuff means."}],"answers":[{"tags":[],"owner":{"account_id":7229606,"reputation":314,"user_id":5516972,"display_name":"bakki"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1446780958,"creation_date":1446780958,"answer_id":33559029,"question_id":33558844,"body_markdown":"Start reading and using pattern, regex in java. Below link has good explanation, you can find lots of examples.I hope this is what you are looking for to solve your problem. \r\nhttp://docs.oracle.com/javase/7/docs/api/java/util/regex/Pattern.html","title":"JAVA password check program - check that the password has 2+ digits + only letters and numbers","body":"<p>Start reading and using pattern, regex in java. Below link has good explanation, you can find lots of examples.I hope this is what you are looking for to solve your problem. \n<a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/regex/Pattern.html\" rel=\"nofollow\">http://docs.oracle.com/javase/7/docs/api/java/util/regex/Pattern.html</a></p>\n"},{"tags":[],"owner":{"account_id":1031708,"reputation":1301,"user_id":1039920,"accept_rate":100,"display_name":"Mark Sholund"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1446781226,"creation_date":1446781226,"answer_id":33559074,"question_id":33558844,"body_markdown":"I was going to suggest regular expressions too but as a new programmer they may be difficult to understand. A good starting approach would be to convert the password into an array of characters and then make use of ``Character.isLetterOrDigit(c)`` and count the number of digits. ","title":"JAVA password check program - check that the password has 2+ digits + only letters and numbers","body":"<p>I was going to suggest regular expressions too but as a new programmer they may be difficult to understand. A good starting approach would be to convert the password into an array of characters and then make use of <code>Character.isLetterOrDigit(c)</code> and count the number of digits. </p>\n"},{"tags":[],"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1446783481,"creation_date":1446783481,"answer_id":33559415,"question_id":33558844,"body_markdown":"Regex is the weapon of choice, with which the solution reduces to a single method call:\r\n\r\n    boolean correct = password.matches(&quot;(?=(.*\\\\d){2})[a-zA-Z0-9]{8,}&quot;);","title":"JAVA password check program - check that the password has 2+ digits + only letters and numbers","body":"<p>Regex is the weapon of choice, with which the solution reduces to a single method call:</p>\n\n<pre><code>boolean correct = password.matches(\"(?=(.*\\\\d){2})[a-zA-Z0-9]{8,}\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6846571,"reputation":71,"user_id":5265193,"display_name":"Aeros"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1446784721,"creation_date":1446784721,"answer_id":33559598,"question_id":33558844,"body_markdown":"Here is a solution.  It is not efficient, however it should be helpful for beginners.  It breaks the problem into steps.  Each requirement for the password is tested one step at a time.  If at any point, one of the requirements are violated the method returns false; there is no point in making more checks once we know for sure the password is invalid.\r\n\r\nThe method first checks for the length (as above).  Then it uses a for loop to count the number of digits in the String.  Next it uses a regular expression to ensure that only alphanumeric characters are in the password.  Notice the logical negation (!) operator when testing if the String is alphanumeric.  It enables a return of false if the String does *not* contain exclusively letters and digits.\r\n\r\nComments are included to illustrate and clarify the logic.  Good luck.\r\n\r\n    public static boolean passwordLength(String password) {\r\n        /* Declare a boolean variable to hold the result of the method */\r\n        boolean correct = true;\r\n        \r\n        /* Declare an int variable to hold the count of each digit */\r\n        int digit = 0; \r\n\r\n        if (password.length() &lt; 8) {\r\n            /* The password is less than 8 characters, return false */\r\n            return false;\r\n        }\r\n        \r\n        /* Declare a char variable to hold each element of the String */\r\n        char element;\r\n        \r\n        /* Check if the password has 2 or more digits */\r\n        for(int index = 0; index &lt; password.length(); index++ ){\r\n            \r\n            /* Check each char in the String */\r\n            element = password.charAt( index );\r\n            \r\n            /* Check if it is a digit or not */\r\n            if( Character.isDigit(element) ){\r\n                /* It is a digit, so increment digit */\r\n                digit++;\r\n            } // End if block\r\n           \r\n        } // End for loop \r\n        \r\n        /* Now check for the count of digits in the password */\r\n        if( digit &lt; 2 ){\r\n            /* There are fewer than 2 digits in the password, return false */\r\n            return false;\r\n        }\r\n        \r\n        /* Use a regular expression (regex) to check for only letters and numbers */\r\n        /* The regex will check for upper and lower case letters and digits */\r\n        if( !password.matches(&quot;[a-zA-Z0-9]+&quot;) ){\r\n            /* A non-alphanumeric character was found, return false */\r\n            return false;\r\n        }\r\n            \r\n        /* All checks at this point have passed, the password is valid */\r\n        return correct;\r\n        \r\n    }","title":"JAVA password check program - check that the password has 2+ digits + only letters and numbers","body":"<p>Here is a solution.  It is not efficient, however it should be helpful for beginners.  It breaks the problem into steps.  Each requirement for the password is tested one step at a time.  If at any point, one of the requirements are violated the method returns false; there is no point in making more checks once we know for sure the password is invalid.</p>\n\n<p>The method first checks for the length (as above).  Then it uses a for loop to count the number of digits in the String.  Next it uses a regular expression to ensure that only alphanumeric characters are in the password.  Notice the logical negation (!) operator when testing if the String is alphanumeric.  It enables a return of false if the String does <em>not</em> contain exclusively letters and digits.</p>\n\n<p>Comments are included to illustrate and clarify the logic.  Good luck.</p>\n\n<pre><code>public static boolean passwordLength(String password) {\n    /* Declare a boolean variable to hold the result of the method */\n    boolean correct = true;\n\n    /* Declare an int variable to hold the count of each digit */\n    int digit = 0; \n\n    if (password.length() &lt; 8) {\n        /* The password is less than 8 characters, return false */\n        return false;\n    }\n\n    /* Declare a char variable to hold each element of the String */\n    char element;\n\n    /* Check if the password has 2 or more digits */\n    for(int index = 0; index &lt; password.length(); index++ ){\n\n        /* Check each char in the String */\n        element = password.charAt( index );\n\n        /* Check if it is a digit or not */\n        if( Character.isDigit(element) ){\n            /* It is a digit, so increment digit */\n            digit++;\n        } // End if block\n\n    } // End for loop \n\n    /* Now check for the count of digits in the password */\n    if( digit &lt; 2 ){\n        /* There are fewer than 2 digits in the password, return false */\n        return false;\n    }\n\n    /* Use a regular expression (regex) to check for only letters and numbers */\n    /* The regex will check for upper and lower case letters and digits */\n    if( !password.matches(\"[a-zA-Z0-9]+\") ){\n        /* A non-alphanumeric character was found, return false */\n        return false;\n    }\n\n    /* All checks at this point have passed, the password is valid */\n    return correct;\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18936468,"reputation":107,"user_id":13817418,"display_name":"Blazej Kita"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692257468,"creation_date":1692257468,"answer_id":76919325,"question_id":33558844,"body_markdown":"       public boolean isPassOk(String val)\r\n    {\r\n       boolean isUp       = false;\r\n       boolean isDown     = false;\r\n       boolean isNum      = false;\r\n       boolean isSPecial  = false;\r\n\r\n       char c[] = val.toCharArray();\r\n\r\n       for(int k = 0; k&lt;c.length; k++)\r\n       {\r\n           int cc = (int)c[k];\r\n\r\n           if(cc &gt;= 48 &amp;&amp; cc &lt;= 57 )  {isNum = true;} else\r\n           if(cc &gt;= 65 &amp;&amp; cc &lt;= 90 )  {isUp = true;} else\r\n           if(cc &gt;= 97 &amp;&amp; cc &lt;= 122 ) {isDown = true;} else\r\n               isSPecial = true;\r\n\r\n\r\n       }\r\n\r\n       if(isDown &amp;&amp; isUp &amp;&amp; isNum &amp;&amp; isSPecial) return true;\r\n\r\n       return false;\r\n    }\r\n","title":"JAVA password check program - check that the password has 2+ digits + only letters and numbers","body":"<pre><code>   public boolean isPassOk(String val)\n{\n   boolean isUp       = false;\n   boolean isDown     = false;\n   boolean isNum      = false;\n   boolean isSPecial  = false;\n\n   char c[] = val.toCharArray();\n\n   for(int k = 0; k&lt;c.length; k++)\n   {\n       int cc = (int)c[k];\n\n       if(cc &gt;= 48 &amp;&amp; cc &lt;= 57 )  {isNum = true;} else\n       if(cc &gt;= 65 &amp;&amp; cc &lt;= 90 )  {isUp = true;} else\n       if(cc &gt;= 97 &amp;&amp; cc &lt;= 122 ) {isDown = true;} else\n           isSPecial = true;\n\n\n   }\n\n   if(isDown &amp;&amp; isUp &amp;&amp; isNum &amp;&amp; isSPecial) return true;\n\n   return false;\n}\n</code></pre>\n"}],"owner":{"account_id":7203757,"reputation":5,"user_id":5500126,"accept_rate":38,"display_name":"Nicole"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4694,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":33559598,"answer_count":5,"score":1,"last_activity_date":1692257468,"creation_date":1446779738,"question_id":33558844,"body_markdown":"okay so i&#39;m making a password checker program and there&#39;s a few rules.\r\nthe password must be 8 or more characters\r\nthe password must contain 2 or more digits\r\nthe password can only be letters and numbers\r\nhere is what i have so far\r\n**how do i check for 2 digits and for only letters and numbers? thanks**\r\n\r\n    import java.util.Scanner;\r\n    \r\n    public class checkPassword {\r\n    \r\n    \tpublic static boolean passwordLength(String password) {\r\n    \t\tboolean correct = true;\r\n    \t\tint digit = 0; \r\n    \r\n    \t\tif (password.length() &lt; 8) {\r\n    \t\t\tcorrect = false;\r\n    \t\t}\r\n    \t\treturn correct;\r\n    \t}\r\n    \t\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\t// Nikki Kulyk\r\n    \r\n    \r\n    \t\t//Declare the variables\r\n    \t\tString password;\r\n    \r\n    \t\tScanner input = new Scanner(System.in);\r\n    \r\n    \t\t//Welcome the user\r\n    \t\tSystem.out.println(&quot;Welcome to the password checker!&quot;);\r\n    \r\n    \t\t//Ask the user for input\r\n    \t\tSystem.out.println(&quot;Here are some rules for the password because we like to be complicated:\\n&quot;);\r\n    \t\tSystem.out.println(&quot;A password must contain at least eight characters.\\n&quot; +\r\n    \t\t\t\t&quot;A password consists of only letters and digits.\\n&quot; +\r\n    \t\t\t\t&quot;A password must contain at least two digits.\\n&quot;);\r\n    \t\tSystem.out.println(&quot;Enter the password: &quot;);\r\n    \t\tpassword = input.nextLine();\r\n    \r\n    \t\tboolean correct = passwordLength(password);\r\n    \t\t\r\n    \r\n    \t\tif (correct) {\r\n    \t\t\tSystem.out.println(&quot;Your password is valid.&quot;);\r\n    \t\t}\r\n    \t\telse {\r\n    \t\t\tSystem.out.println(&quot;Your password is invalid.&quot;);\r\n    \t\t}\r\n    \r\n    \t}\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"JAVA password check program - check that the password has 2+ digits + only letters and numbers","body":"<p>okay so i'm making a password checker program and there's a few rules.\nthe password must be 8 or more characters\nthe password must contain 2 or more digits\nthe password can only be letters and numbers\nhere is what i have so far\n<strong>how do i check for 2 digits and for only letters and numbers? thanks</strong></p>\n\n<pre><code>import java.util.Scanner;\n\npublic class checkPassword {\n\n    public static boolean passwordLength(String password) {\n        boolean correct = true;\n        int digit = 0; \n\n        if (password.length() &lt; 8) {\n            correct = false;\n        }\n        return correct;\n    }\n\n\n    public static void main(String[] args) {\n        // Nikki Kulyk\n\n\n        //Declare the variables\n        String password;\n\n        Scanner input = new Scanner(System.in);\n\n        //Welcome the user\n        System.out.println(\"Welcome to the password checker!\");\n\n        //Ask the user for input\n        System.out.println(\"Here are some rules for the password because we like to be complicated:\\n\");\n        System.out.println(\"A password must contain at least eight characters.\\n\" +\n                \"A password consists of only letters and digits.\\n\" +\n                \"A password must contain at least two digits.\\n\");\n        System.out.println(\"Enter the password: \");\n        password = input.nextLine();\n\n        boolean correct = passwordLength(password);\n\n\n        if (correct) {\n            System.out.println(\"Your password is valid.\");\n        }\n        else {\n            System.out.println(\"Your password is invalid.\");\n        }\n\n    }\n}\n</code></pre>\n"},{"tags":["java","oop","constructor","package"],"comments":[{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":2,"creation_date":1692243951,"post_id":76918339,"comment_id":135597904,"body_markdown":"Are `public class Car` and `public class Module10Assignment` in the same source code file? If so, that is a mistake. They need to be in separate source files, one named `Car.java` and the other named `Module10Assignment.java`.  (If they are not in the same source code file, please edit the question to show that.)","body":"Are <code>public class Car</code> and <code>public class Module10Assignment</code> in the same source code file? If so, that is a mistake. They need to be in separate source files, one named <code>Car.java</code> and the other named <code>Module10Assignment.java</code>.  (If they are not in the same source code file, please edit the question to show that.)"}],"answers":[{"tags":[],"owner":{"account_id":24009548,"reputation":49,"user_id":17993307,"display_name":"Mamta"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1692256739,"creation_date":1692244489,"answer_id":76918380,"question_id":76918339,"body_markdown":"In your model class code you made a mistake in constructor, Because constructor do not have any return type, and you assign the void to constructor.\r\n```\r\npublic void Car(String make, String model){\r\n   \r\n    this.make = make;\r\n    this.model = model;\r\n}\r\n```\r\nPlease remove the void from this constructor,\r\nYour Code should be like this: \r\n```\r\npublic Car(String make, String model){\r\n\r\n    this.make = make;\r\n    this.model = model;\r\n}\r\n```","title":"&quot;Class, interface, record, or enum expected&quot; in front of package?","body":"<p>In your model class code you made a mistake in constructor, Because constructor do not have any return type, and you assign the void to constructor.</p>\n<pre><code>public void Car(String make, String model){\n   \n    this.make = make;\n    this.model = model;\n}\n</code></pre>\n<p>Please remove the void from this constructor,\nYour Code should be like this:</p>\n<pre><code>public Car(String make, String model){\n\n    this.make = make;\n    this.model = model;\n}\n</code></pre>\n"}],"owner":{"account_id":29241089,"reputation":1,"user_id":22402598,"display_name":"jay"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1692256739,"creation_date":1692243604,"question_id":76918339,"body_markdown":"This is a program answer provided by a professor, but it has an error in it that i&#39;m currently unable to ask them about. Forgive me if the answer is obvious, i&#39;m still a beginner! Thank you in advance to anyone who can help. I don&#39;t believe the error is cause by a missing bracket by the way, but maybe i&#39;m wrong.\r\n\r\n    //This problem creates a car of a specified make and model.  The car\r\n    //accelerates 25 miles an hour and decelerates to 0 miles per hour\r\n    package module10assignment;\r\n\r\n    import java.io.*;\r\n    import java.util.Scanner;\r\n\r\n    public class Module10Assignment {\r\n\r\n    public static void main(String[] args) {\r\n\r\n        //Local variables\r\n        String inputModel;\r\n        String inputMake;\r\n        Integer index;\r\n\r\n        //Create a Car object\r\n        Car Auto = new Car();\r\n\r\n        Scanner keyboard = new Scanner(System.in);\r\n\r\n        //Get variables for a car\r\n        System.out.println(&quot;Enter a model year:&quot;);\r\n        inputModel = keyboard.nextLine();\r\n        Auto.setModel(inputModel);\r\n      `\r\n        System.out.println(&quot;Enter make:&quot;);\r\n        inputMake = keyboard.nextLine();\r\n        Auto.setMake(inputMake);\r\n\r\n        //Show variables for a car\r\n        System.out.println(&quot;\\nThe car year is &quot; + Auto.getModel());\r\n        System.out.println(&quot;\\nThe car model is &quot; + Auto.getMake() + &quot;\\n&quot;);\r\n\r\n        System.out.println(&quot;I&#39;m starting my car...&quot;);\r\n\r\n        index = 1;\r\n\r\n        //Show speed for each of 5 accelerations\r\n        while (index &lt;= 5){\r\n\r\n            Auto.setAccelerate();\r\n            index += 1;\r\n        }\r\n\r\n        System.out.println(&quot;The car speed after 5 accelerations is &quot; +\r\n                Auto.getSpeed()+ &quot;\\n&quot;);\r\n\r\n        index = 1;\r\n\r\n        //Show speed for each of 5 decelerations\r\n        while (index &lt;= 5){\r\n\r\n            Auto.setBrake();\r\n            index += 1;\r\n        }\r\n\r\n        System.out.println(&quot;The car speed after 5 breaks is &quot; +\r\n                Auto.getSpeed()+ &quot;\\n&quot;);\r\n\r\n\r\n\r\n\r\n     }\r\n\r\n    }\r\n\r\n    ***// THIS IS WHERE THE ERROR SHOWS UP!!!!!!*** \r\n    package module10assignment;\r\n\r\n    public class Car {\r\n\r\n    private String make;\r\n    private String model;\r\n    private Integer speed = 0;\r\n\r\n    public void Car(String make, String model){\r\n\r\n        this.make = make;\r\n        this.model = model;\r\n\r\n    }\r\n\r\n    public void setMake(String make) {\r\n        this.make = make;\r\n    }\r\n\r\n    public void setModel(String model) {\r\n        this.model = model;\r\n    }\r\n\r\n    public String getMake() {\r\n        return make;\r\n    }\r\n\r\n    public String getModel() {\r\n        return model;\r\n    }\r\n\r\n    public void setAccelerate(){\r\n\r\n        //Increase speed by 5 mph\r\n        this.speed += 5;\r\n        System.out.println(&quot;Accelerating to &quot; + this.speed + &quot; miles per hour.&quot;);\r\n     }\r\n\r\n    public void setBrake(){\r\n\r\n        //Decrease speed by 5 mph\r\n        this.speed -= 5;\r\n        System.out.println(&quot;Slowing to &quot; + this.speed + &quot; miles per hour.&quot;);\r\n        }\r\n\r\n       public Integer getSpeed(){\r\n         return speed;\r\n        }\r\n      }\r\n","title":"&quot;Class, interface, record, or enum expected&quot; in front of package?","body":"<p>This is a program answer provided by a professor, but it has an error in it that i'm currently unable to ask them about. Forgive me if the answer is obvious, i'm still a beginner! Thank you in advance to anyone who can help. I don't believe the error is cause by a missing bracket by the way, but maybe i'm wrong.</p>\n<pre><code>//This problem creates a car of a specified make and model.  The car\n//accelerates 25 miles an hour and decelerates to 0 miles per hour\npackage module10assignment;\n\nimport java.io.*;\nimport java.util.Scanner;\n\npublic class Module10Assignment {\n\npublic static void main(String[] args) {\n\n    //Local variables\n    String inputModel;\n    String inputMake;\n    Integer index;\n\n    //Create a Car object\n    Car Auto = new Car();\n\n    Scanner keyboard = new Scanner(System.in);\n\n    //Get variables for a car\n    System.out.println(&quot;Enter a model year:&quot;);\n    inputModel = keyboard.nextLine();\n    Auto.setModel(inputModel);\n  `\n    System.out.println(&quot;Enter make:&quot;);\n    inputMake = keyboard.nextLine();\n    Auto.setMake(inputMake);\n\n    //Show variables for a car\n    System.out.println(&quot;\\nThe car year is &quot; + Auto.getModel());\n    System.out.println(&quot;\\nThe car model is &quot; + Auto.getMake() + &quot;\\n&quot;);\n\n    System.out.println(&quot;I'm starting my car...&quot;);\n\n    index = 1;\n\n    //Show speed for each of 5 accelerations\n    while (index &lt;= 5){\n\n        Auto.setAccelerate();\n        index += 1;\n    }\n\n    System.out.println(&quot;The car speed after 5 accelerations is &quot; +\n            Auto.getSpeed()+ &quot;\\n&quot;);\n\n    index = 1;\n\n    //Show speed for each of 5 decelerations\n    while (index &lt;= 5){\n\n        Auto.setBrake();\n        index += 1;\n    }\n\n    System.out.println(&quot;The car speed after 5 breaks is &quot; +\n            Auto.getSpeed()+ &quot;\\n&quot;);\n\n\n\n\n }\n\n}\n\n***// THIS IS WHERE THE ERROR SHOWS UP!!!!!!*** \npackage module10assignment;\n\npublic class Car {\n\nprivate String make;\nprivate String model;\nprivate Integer speed = 0;\n\npublic void Car(String make, String model){\n\n    this.make = make;\n    this.model = model;\n\n}\n\npublic void setMake(String make) {\n    this.make = make;\n}\n\npublic void setModel(String model) {\n    this.model = model;\n}\n\npublic String getMake() {\n    return make;\n}\n\npublic String getModel() {\n    return model;\n}\n\npublic void setAccelerate(){\n\n    //Increase speed by 5 mph\n    this.speed += 5;\n    System.out.println(&quot;Accelerating to &quot; + this.speed + &quot; miles per hour.&quot;);\n }\n\npublic void setBrake(){\n\n    //Decrease speed by 5 mph\n    this.speed -= 5;\n    System.out.println(&quot;Slowing to &quot; + this.speed + &quot; miles per hour.&quot;);\n    }\n\n   public Integer getSpeed(){\n     return speed;\n    }\n  }\n</code></pre>\n"},{"tags":["java","log4j","log4j2"],"comments":[{"owner":{"account_id":7034556,"reputation":12325,"user_id":5389127,"display_name":"Ga&#235;l J"},"score":0,"creation_date":1692210342,"post_id":76915934,"comment_id":135594004,"body_markdown":"Did you try anything that didn&#39;t work?","body":"Did you try anything that didn&#39;t work?"}],"answers":[{"tags":[],"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1692208396,"creation_date":1692208396,"answer_id":76915967,"question_id":76915934,"body_markdown":"Package the log4j2.xml configuration file in a jar file library and use that library in both projects.\r\n","title":"how to use one shared log4j configure file in multiple java projects","body":"<p>Package the log4j2.xml configuration file in a jar file library and use that library in both projects.</p>\n"}],"owner":{"account_id":4560076,"reputation":518,"user_id":3702685,"display_name":"Ali Zareshahi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":21,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1692492449,"answer_count":1,"score":-2,"last_activity_date":1692256480,"creation_date":1692208071,"question_id":76915934,"body_markdown":"I used one log4j2.xml file configuration in a Java project named &quot;common&quot; \\\r\nnow I want to use this configuration file directly (without copy) in the other two Java projects named &quot;a&quot; and &quot;b&quot;. \r\n\r\nhow can I do this? ","title":"how to use one shared log4j configure file in multiple java projects","body":"<p>I used one log4j2.xml file configuration in a Java project named &quot;common&quot; <br />\nnow I want to use this configuration file directly (without copy) in the other two Java projects named &quot;a&quot; and &quot;b&quot;.</p>\n<p>how can I do this?</p>\n"},{"tags":["java","jsp","visual-studio-code","tomcat"],"comments":[{"owner":{"account_id":25311208,"reputation":7305,"user_id":19133920,"display_name":"JialeDu"},"score":0,"creation_date":1668130747,"post_id":74388409,"comment_id":131337511,"body_markdown":"I think it would be more helpful if you could provide the tomcat you are using and the steps you did and the link you referenced.","body":"I think it would be more helpful if you could provide the tomcat you are using and the steps you did and the link you referenced."}],"answers":[{"tags":[],"owner":{"account_id":25311208,"reputation":7305,"user_id":19133920,"display_name":"JialeDu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668137108,"creation_date":1668137108,"answer_id":74397713,"question_id":74388409,"body_markdown":"First you need to install the [**Community Server Connectors**][1] extension.\r\n\r\n[![enter image description here][2]][2]\r\n\r\nThen &lt;kbd&gt;Ctrl&lt;/kbd&gt;+&lt;kbd&gt;Shift&lt;/kbd&gt;+&lt;kbd&gt;P&lt;/kbd&gt; --&gt; `Servers: Add Local Servers...`.\r\n\r\n[![enter image description here][3]][3]\r\n\r\nIn the pop-up explorer window, select the decompressed tomcat root directory (that is, the value of the system environment variable **CATALINA_HOME**).\r\n\r\n[![enter image description here][4]][4]\r\n\r\nConfirm that the information is correct and click `Finish`.\r\n\r\n[![enter image description here][5]][5]\r\n\r\nSelect the generated `war` package, right-click and select `Run on Server`.\r\n\r\n[![enter image description here][6]][6]\r\n\r\nIn the **SERVERS** view, right-click on the *tomcat* service and select `Server Actions...` --&gt; `Show in browser...` --&gt; `http://localhost:8080/demo/`.\r\n\r\n[![enter image description here][7]][7]\r\n\r\nThe browser will open and display the project page.\r\n\r\n[![enter image description here][8]][8]\r\n\r\n\r\n  [1]: https://marketplace.visualstudio.com/items?itemName=redhat.vscode-community-server-connector\r\n  [2]: https://i.stack.imgur.com/RgcUv.png\r\n  [3]: https://i.stack.imgur.com/8cH64.png\r\n  [4]: https://i.stack.imgur.com/Ys1pM.png\r\n  [5]: https://i.stack.imgur.com/Lt8Kz.png\r\n  [6]: https://i.stack.imgur.com/iHXKw.png\r\n  [7]: https://i.stack.imgur.com/myU6M.png\r\n  [8]: https://i.stack.imgur.com/Gk5hq.png","title":"How to start a Tomcat 8.5 server on VSC using Community Server Connector extension","body":"<p>First you need to install the <a href=\"https://marketplace.visualstudio.com/items?itemName=redhat.vscode-community-server-connector\" rel=\"nofollow noreferrer\"><strong>Community Server Connectors</strong></a> extension.</p>\n<p><a href=\"https://i.stack.imgur.com/RgcUv.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/RgcUv.png\" alt=\"enter image description here\" /></a></p>\n<p>Then <kbd>Ctrl</kbd>+<kbd>Shift</kbd>+<kbd>P</kbd> --&gt; <code>Servers: Add Local Servers...</code>.</p>\n<p><a href=\"https://i.stack.imgur.com/8cH64.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/8cH64.png\" alt=\"enter image description here\" /></a></p>\n<p>In the pop-up explorer window, select the decompressed tomcat root directory (that is, the value of the system environment variable <strong>CATALINA_HOME</strong>).</p>\n<p><a href=\"https://i.stack.imgur.com/Ys1pM.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Ys1pM.png\" alt=\"enter image description here\" /></a></p>\n<p>Confirm that the information is correct and click <code>Finish</code>.</p>\n<p><a href=\"https://i.stack.imgur.com/Lt8Kz.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Lt8Kz.png\" alt=\"enter image description here\" /></a></p>\n<p>Select the generated <code>war</code> package, right-click and select <code>Run on Server</code>.</p>\n<p><a href=\"https://i.stack.imgur.com/iHXKw.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/iHXKw.png\" alt=\"enter image description here\" /></a></p>\n<p>In the <strong>SERVERS</strong> view, right-click on the <em>tomcat</em> service and select <code>Server Actions...</code> --&gt; <code>Show in browser...</code> --&gt; <code>http://localhost:8080/demo/</code>.</p>\n<p><a href=\"https://i.stack.imgur.com/myU6M.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/myU6M.png\" alt=\"enter image description here\" /></a></p>\n<p>The browser will open and display the project page.</p>\n<p><a href=\"https://i.stack.imgur.com/Gk5hq.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Gk5hq.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":12013227,"reputation":1,"user_id":8789183,"display_name":"bheedu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675992007,"creation_date":1675991970,"answer_id":75406090,"question_id":74388409,"body_markdown":"in tomcat-users.xml (in your tomcat config folder) make sure you have the roles setup. adding this should solve your problem\r\n\r\n\r\n    &lt;tomcat-users&gt;\r\n      &lt;role rolename=&quot;manager-gui&quot; /&gt;\r\n      &lt;role rolename=&quot;admin&quot; /&gt;\r\n      &lt;user username=&quot;admin&quot; password=&quot;admin&quot; roles=&quot;admin,manager-gui&quot; /&gt;\r\n    &lt;/tomcat-users&gt;","title":"How to start a Tomcat 8.5 server on VSC using Community Server Connector extension","body":"<p>in tomcat-users.xml (in your tomcat config folder) make sure you have the roles setup. adding this should solve your problem</p>\n<pre><code>&lt;tomcat-users&gt;\n  &lt;role rolename=&quot;manager-gui&quot; /&gt;\n  &lt;role rolename=&quot;admin&quot; /&gt;\n  &lt;user username=&quot;admin&quot; password=&quot;admin&quot; roles=&quot;admin,manager-gui&quot; /&gt;\n&lt;/tomcat-users&gt;\n</code></pre>\n"}],"owner":{"account_id":26888876,"reputation":1,"user_id":20467974,"display_name":"ambznuke"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":3220,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1692256428,"creation_date":1668080401,"question_id":74388409,"body_markdown":"I&#39;m trying to set up a Tomcat Server on VSC (since it couldn&#39;t work on IntelliJ because I don&#39;t have the ultimate edition) but I have no experience (and neither do my colleagues) with Community Server Connector. All our documentation is written for Tomcat For Java extension, but since it&#39;s deprecated we have to use Community Server Connector. I&#39;ve done all the necessary steps (like LDAP certificates, changes to server.xml etc) so it should be working...right?\r\n\r\nOnce I try to start the server I get  \r\nError: Could not find or load main class Files\\Apache\r\n\r\nWe don&#39;t really have a clue where we could solve this, we looked a lot online but nothing really seems to work. If someone has an idea where to look and/or what settings to change please help! \r\n\r\nIf you need more information, just leave a message\r\n\r\nLooked over the documentation steps to see if I missed something\r\nTried out all (I think) of the options within the extension\r\nSearched online for solutions\r\nAsked colleagues but they couldn&#39;t find it either\r\n\r\n","title":"How to start a Tomcat 8.5 server on VSC using Community Server Connector extension","body":"<p>I'm trying to set up a Tomcat Server on VSC (since it couldn't work on IntelliJ because I don't have the ultimate edition) but I have no experience (and neither do my colleagues) with Community Server Connector. All our documentation is written for Tomcat For Java extension, but since it's deprecated we have to use Community Server Connector. I've done all the necessary steps (like LDAP certificates, changes to server.xml etc) so it should be working...right?</p>\n<p>Once I try to start the server I get<br />\nError: Could not find or load main class Files\\Apache</p>\n<p>We don't really have a clue where we could solve this, we looked a lot online but nothing really seems to work. If someone has an idea where to look and/or what settings to change please help!</p>\n<p>If you need more information, just leave a message</p>\n<p>Looked over the documentation steps to see if I missed something\nTried out all (I think) of the options within the extension\nSearched online for solutions\nAsked colleagues but they couldn't find it either</p>\n"},{"tags":["java","apache-kafka","kafka-producer-api","kafka-transactions-api"],"owner":{"account_id":25554154,"reputation":181,"user_id":19338016,"display_name":"hololensen"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692255938,"creation_date":1692220097,"question_id":76917081,"body_markdown":"If I got `ProducerFencedException` in my transactional producer, should I try to recreate it?\r\nIf I got this exception, it means that there is another producer with the same `transaction.id`, but if a new producer is closed (replica is down), my old producer will not be recreated (but replica is still alive). So, I got in situation where I have no producer at all. \r\nHow is this usually decided? Creating sort of container for lifecycle? Can you provide some example?","title":"Should I recreate producer after ProducerFencedException?","body":"<p>If I got <code>ProducerFencedException</code> in my transactional producer, should I try to recreate it?\nIf I got this exception, it means that there is another producer with the same <code>transaction.id</code>, but if a new producer is closed (replica is down), my old producer will not be recreated (but replica is still alive). So, I got in situation where I have no producer at all.\nHow is this usually decided? Creating sort of container for lifecycle? Can you provide some example?</p>\n"},{"tags":["java","orientdb","tinkerpop3"],"owner":{"account_id":17154481,"reputation":25,"user_id":12415697,"display_name":"liyang"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692255850,"creation_date":1692255850,"question_id":76919159,"body_markdown":"In tinkerpop 2.6, I am able to do `setAutoStartTx(false)` for the OrientGraphFactory. How can I do the same in tinkerpop 3.0 using orientdb-gremlin? I am using OrientDB v3.2.21. This is because I want to disable the auto transaction for the OrientGraph. ","title":"OrientDB v3 set auto transaction to false with tinkerpop 3.0","body":"<p>In tinkerpop 2.6, I am able to do <code>setAutoStartTx(false)</code> for the OrientGraphFactory. How can I do the same in tinkerpop 3.0 using orientdb-gremlin? I am using OrientDB v3.2.21. This is because I want to disable the auto transaction for the OrientGraph.</p>\n"},{"tags":["java","windows","awt","display","jna"],"comments":[{"owner":{"account_id":1187908,"reputation":8617,"user_id":1161484,"accept_rate":93,"display_name":"Daniel Widdis"},"score":0,"creation_date":1599438673,"post_id":63770033,"comment_id":112766380,"body_markdown":"I don&#39;t understand what your question is.  Where is the cursor? It&#39;s on both screens simultaneously.","body":"I don&#39;t understand what your question is.  Where is the cursor? It&#39;s on both screens simultaneously."},{"owner":{"account_id":18595817,"reputation":373,"user_id":13551878,"display_name":"Vicne"},"score":0,"creation_date":1599439089,"post_id":63770033,"comment_id":112766448,"body_markdown":"Well if I move my cursor from the left edge of the primary display to the right edge of the secondary display (placed to the right and scaled 150%), of course Windows moves the cursor as expected in a continuous way. However, the call to `MouseInfo.getPointerInfo().getLocation()` returns an increasing x-value from 0 to 1920 while the cursor is on the first display, but as soon as the cursor enters the second display, the x-value jumps back to 1280 and then increases to 2560. I see it as a bug... Please don&#39;t hesitate to test the code, maybe disabling the &quot;if (useJna) {&quot; sections first. Thx.","body":"Well if I move my cursor from the left edge of the primary display to the right edge of the secondary display (placed to the right and scaled 150%), of course Windows moves the cursor as expected in a continuous way. However, the call to <code>MouseInfo.getPointerInfo().getLocation()</code> returns an increasing x-value from 0 to 1920 while the cursor is on the first display, but as soon as the cursor enters the second display, the x-value jumps back to 1280 and then increases to 2560. I see it as a bug... Please don&#39;t hesitate to test the code, maybe disabling the &quot;if (useJna) {&quot; sections first. Thx."},{"owner":{"account_id":1187908,"reputation":8617,"user_id":1161484,"accept_rate":93,"display_name":"Daniel Widdis"},"score":0,"creation_date":1599439423,"post_id":63770033,"comment_id":112766493,"body_markdown":"It would be much more clear if you put that paragraph at the top of your post to give context. I didn&#39;t understand your question without that.","body":"It would be much more clear if you put that paragraph at the top of your post to give context. I didn&#39;t understand your question without that."},{"owner":{"account_id":2127644,"reputation":48132,"user_id":1889329,"accept_rate":71,"display_name":"IInspectable"},"score":0,"creation_date":1599461833,"post_id":63770033,"comment_id":112771144,"body_markdown":"Does [GetCorsorPos](https://learn.microsoft.com/en-us/windows/win32/api/winuser/nf-winuser-getcursorpos) return the same values?","body":"Does <a href=\"https://learn.microsoft.com/en-us/windows/win32/api/winuser/nf-winuser-getcursorpos\" rel=\"nofollow noreferrer\">GetCorsorPos</a> return the same values?"},{"owner":{"account_id":18595817,"reputation":373,"user_id":13551878,"display_name":"Vicne"},"score":0,"creation_date":1599475877,"post_id":63770033,"comment_id":112777141,"body_markdown":"@Daniel Widdis: well, giving context was my goal :-), thats why I put the question at the end. Ill try to rework the beginning.","body":"@Daniel Widdis: well, giving context was my goal :-), thats why I put the question at the end. Ill try to rework the beginning."},{"owner":{"account_id":18595817,"reputation":373,"user_id":13551878,"display_name":"Vicne"},"score":0,"creation_date":1599475979,"post_id":63770033,"comment_id":112777186,"body_markdown":"@IInspectable: Ill try that tonight. Thanks for the suggestion.","body":"@IInspectable: Ill try that tonight. Thanks for the suggestion."},{"owner":{"account_id":18595817,"reputation":373,"user_id":13551878,"display_name":"Vicne"},"score":0,"creation_date":1599522053,"post_id":63770033,"comment_id":112793263,"body_markdown":"@Daniel Widdis: OK, reworked the question and also checked that it affects not only position &quot;reading&quot; (get mouse location) but also &quot;writing&quot; (set dialog location). Code is updated accordingly (with JNA commented-out by default), don&#39;t hesitate to try it.","body":"@Daniel Widdis: OK, reworked the question and also checked that it affects not only position &quot;reading&quot; (get mouse location) but also &quot;writing&quot; (set dialog location). Code is updated accordingly (with JNA commented-out by default), don&#39;t hesitate to try it."},{"owner":{"account_id":18595817,"reputation":373,"user_id":13551878,"display_name":"Vicne"},"score":0,"creation_date":1599522256,"post_id":63770033,"comment_id":112793292,"body_markdown":"@IInspectable: Sorry I cannot find any GetCursorPos in the Java API. Or maybe you meant the native call ? In that case, it was already included in the JNA code, yes, and JNA (both for screen querying and for mouse location) return consistent values based on the physical screens resolutions (no scaling applied).","body":"@IInspectable: Sorry I cannot find any GetCursorPos in the Java API. Or maybe you meant the native call ? In that case, it was already included in the JNA code, yes, and JNA (both for screen querying and for mouse location) return consistent values based on the physical screens resolutions (no scaling applied)."},{"owner":{"account_id":18595817,"reputation":373,"user_id":13551878,"display_name":"Vicne"},"score":0,"creation_date":1599522574,"post_id":63770033,"comment_id":112793348,"body_markdown":"Here is a video showing the issue, using the app above: https://photos.app.goo.gl/yoFXS8A2ctze6qNH8","body":"Here is a video showing the issue, using the app above: <a href=\"https://photos.app.goo.gl/yoFXS8A2ctze6qNH8\" rel=\"nofollow noreferrer\">photos.app.goo.gl/yoFXS8A2ctze6qNH8</a>"}],"answers":[{"tags":[],"owner":{"account_id":1187908,"reputation":8617,"user_id":1161484,"accept_rate":93,"display_name":"Daniel Widdis"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1692255690,"creation_date":1599619510,"answer_id":63804052,"question_id":63770033,"body_markdown":"This looks like you&#39;ve run into a manifestation of bug [JDK-8211999](https://bugs.openjdk.java.net/browse/JDK-8211999):\r\n\r\n&gt; In a multi-monitor setting involving one HiDPI screen placed to the right of one regular monitor, on Windows 10, the bounds returned by `GraphicsEnvironment.getLocalGraphicsEnvironment().getScreenDevices()[x].getDefaultConfiguration().getBounds()` are overlapping. This causes various secondary bugs...\r\n\r\nComments note that:\r\n\r\n&gt; The same bug exists on Linux as well, macOS is not affected.\r\n\r\nThere does not seem to be a simple pure Java workaround. \r\n\r\nA [fix has been proposed](https://mail.openjdk.java.net/pipermail/awt-dev/2020-July/015991.html) which works for Windows, by not even trying to do the coordinate math in Java, and delegating the solution to native code.\r\n\r\nSince it appears that using the JNA (native) implementation appears to work, this seems the best approach for JDK versions 9 to 15.  The bug was allegedly fixed in JDK16 but comments indicates it still exists in JDK 17. There&#39;s a related bug [JDK-8249164](https://bugs.openjdk.org/browse/JDK-8249164) which may or may not be the cause of these additional problems.\r\n\r\nAccording to the bug report, it affects JDK 9+, so it is possible that reverting to JDK 8 may fix the issue, although I saw conflicting accounts on that.  Comments also indicate other workaround available in JavaFX, that I hope will find their way into another answer.","title":"Java Multi-Display Handling under Windows - Bug with scaled displays?","body":"<p>This looks like you've run into a manifestation of bug <a href=\"https://bugs.openjdk.java.net/browse/JDK-8211999\" rel=\"nofollow noreferrer\">JDK-8211999</a>:</p>\n<blockquote>\n<p>In a multi-monitor setting involving one HiDPI screen placed to the right of one regular monitor, on Windows 10, the bounds returned by <code>GraphicsEnvironment.getLocalGraphicsEnvironment().getScreenDevices()[x].getDefaultConfiguration().getBounds()</code> are overlapping. This causes various secondary bugs...</p>\n</blockquote>\n<p>Comments note that:</p>\n<blockquote>\n<p>The same bug exists on Linux as well, macOS is not affected.</p>\n</blockquote>\n<p>There does not seem to be a simple pure Java workaround.</p>\n<p>A <a href=\"https://mail.openjdk.java.net/pipermail/awt-dev/2020-July/015991.html\" rel=\"nofollow noreferrer\">fix has been proposed</a> which works for Windows, by not even trying to do the coordinate math in Java, and delegating the solution to native code.</p>\n<p>Since it appears that using the JNA (native) implementation appears to work, this seems the best approach for JDK versions 9 to 15.  The bug was allegedly fixed in JDK16 but comments indicates it still exists in JDK 17. There's a related bug <a href=\"https://bugs.openjdk.org/browse/JDK-8249164\" rel=\"nofollow noreferrer\">JDK-8249164</a> which may or may not be the cause of these additional problems.</p>\n<p>According to the bug report, it affects JDK 9+, so it is possible that reverting to JDK 8 may fix the issue, although I saw conflicting accounts on that.  Comments also indicate other workaround available in JavaFX, that I hope will find their way into another answer.</p>\n"}],"owner":{"account_id":18595817,"reputation":373,"user_id":13551878,"display_name":"Vicne"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1157,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":63804052,"answer_count":1,"score":6,"last_activity_date":1692255690,"creation_date":1599438253,"question_id":63770033,"body_markdown":"**tl;dr**\r\n\r\nUnder Windows 10, if I put my secondary display to the right of the primary one, and apply a scaling (e.g. 150%) to the secondary, then the display coordinates (as returned by the Java API) overlap instead of letting the display bounds sit side by side. In other words, if I slowly move my mouse from the left edge of the primary to the right edge of the secondary, Java&#39;s API `MouseInfo.getPointerInfo().getLocation()` returns an increasing X-position from 0 to 1920, then once the cursor enters the second screen, the value jumps back down to 1280 and then increases again to 2560. So the 1280-1920 range is returned twice, for different areas.\r\n\r\nAt the end of the post, I have included an (updated) demo that makes the issue obvious. Don&#39;t hesitate to try it and report back.\r\n\r\n**The long version:**\r\n\r\nThis text gives (too) much context but is also meant to share the things I learned while searching on the topic.\r\n\r\nFirst, why bother ? Because I am building a screen capture application in Java that requires a correct handling of multi-display configurations, including displays where Windows&#39; scaling feature is applied.\r\n\r\nUsing the Java API (`GraphicsEnvironment.getLocalGraphicsEnvironment().getScreenDevices()`), as long as the scaling is 100%, one can observe that the primary display has its top left corner at the origin (0,0), with the other displays having coordinates &quot;next&quot; to the main one. \r\n\r\nThe following pictures were made using the code at the end of the post.\r\n\r\nE.g. if we have 2 full-hd displays, the main one has its top left corner is at (0,0), while...\r\n- if the secondary is positioned at its right, at the same level, its top left corner is (1920,0):\r\n\r\n[![enter image description here][1]][1]\r\n\r\n- if the secondary is positioned at its left, at the same level, its top left corner is (-1920,0):\r\n\r\n[![enter image description here][2]][2]\r\n\r\n- if the secondary is positioned below, aligned horizontally, its top left corner is (0,1080):\r\n\r\n[![enter image description here][3]][3]\r\n\r\n- if the secondary is positioned above, aligned horizontally, its top left corner is (0,-1080):\r\n\r\n[![enter image description here][4]][4]\r\n\r\n- and so on if the displays are not aligned:\r\n\r\n[![enter image description here][5]][5]\r\n\r\n- or with different resolutions:\r\n\r\n[![enter image description here][6]][6]\r\n\r\nHowever, if the secondary display is scaled, things go awry: it seems the scaling factor is applied not only to its dimensions, but also its **origin**, which gets closer to (0,0).\r\n\r\nIf the secondary is on the left, it makes sense. For example, when the secondary 1920x1080 is scaled at 150%, it makes a logical 1280x720 positioned at (-1280,0):\r\n\r\n[![enter image description here][7]][7]\r\n\r\nBut if the secondary is on the right, the origin is also **scaled** to (1280,0), getting closer to the origin and causing it to &quot;overlap&quot; the primary one:\r\n\r\n[![enter image description here][8]][8]\r\n\r\nIn other words, if the mouse is at (1800,0) - see red dot above - I see no way of knowing if it actually is positioned on the right of the first display (at 120px from the right edge) or on the left of the secondary one (at 520px of the left edge). When moving the mouse from the primary to the secondary display in this case, the X position of the mouse &quot;jumps back&quot; when it reaches the border of the primary display.\r\n\r\nThe same is true for positioning a window on the screens. If I set the X-position of a dialog to 1800, I have no way to know where it will open.\r\n\r\nAfter much browsing, some answers [like this one][9] indicate that the only way to query Windows scaling is by using native calls. Indeed, using JNA, one can get the physical size of the displays (although the answer seems to indicate that call should return the logical size). I.e the JNA calls ignore the scaling factor, and behaves exactly like the Java API when scaling is at 100%:\r\n\r\n[![enter image description here][10]][10]\r\n\r\n\r\nSo am I missing something ? \r\n\r\nNot knowing the scaling factor is a small issue, but not being able to tell which display the mouse is over, or not being able to position a window on the display I want looks like a real problem to me. Is it a Java Bug ?\r\n\r\n\r\nNote: Here is the code for the app used above, run on with OpenJDK14 on Windows 10 64b. It shows a scaled down version of your display setup and mouse position as perceived by Java. It can also place and move a small dialog across the real screens if you click and drag inside the small rectangles. Credit: The UI is inspired by the WheresMyMouse code posted [here][11].\r\n\r\nAs is, the code uses only the Java API. \r\nIf you want to compare with JNA, search for the 4 blocks marked &quot;JNA_ONLY&quot;, uncomment them, and add the jna libs. The demo will then toggle between JNA and Java API for displaying screen bounds and mouse cursor at each right-click. The dialog positioning never uses JNA in this version.\r\n\r\n```\r\n// JNA_ONLY\r\n//import com.sun.jna.platform.win32.User32;\r\n//import com.sun.jna.platform.win32.WinDef;\r\n//import com.sun.jna.platform.win32.WinUser;\r\n\r\nimport javax.swing.*;\r\nimport java.awt.*;\r\nimport java.awt.event.MouseAdapter;\r\nimport java.awt.event.MouseEvent;\r\nimport java.awt.font.FontRenderContext;\r\nimport java.awt.font.TextLayout;\r\nimport java.awt.geom.Rectangle2D;\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\n/**\r\n * Java multi-display detection and analysis.\r\n * UI idea based on WheresMyMouse - https://stackoverflow.com/a/21592711/13551878\r\n */\r\npublic class ShowDisplays {\r\n\r\n    private static boolean useJna = false;\r\n\r\n    public static void main(String[] args) {\r\n        EventQueue.invokeLater(() -&gt; {\r\n            JFrame frame = new JFrame(&quot;Display Configuration&quot;);\r\n            frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n            frame.setLayout(new BorderLayout());\r\n            frame.add(new TestPane());\r\n            frame.pack();\r\n            frame.setLocationRelativeTo(null);\r\n            frame.setVisible(true);\r\n        });\r\n    }\r\n\r\n    public static class TestPane extends JPanel {\r\n        private List&lt;Rectangle&gt; screenBounds;\r\n        JDialog dlg;\r\n\r\n        public TestPane() {\r\n            screenBounds = getScreenBounds();\r\n            // refresh screen details every second to reflect changes in Windows Preferences in &quot;real time&quot;\r\n            new Timer(1000, e -&gt; screenBounds = getScreenBounds()).start();\r\n\r\n            // Refresh mouse position at 25fps\r\n            new Timer(40, e -&gt; repaint()).start();\r\n\r\n            MouseAdapter mouseAdapter = new MouseAdapter() {\r\n\r\n                public void mouseClicked(MouseEvent e) {\r\n                    if (e.getButton() != MouseEvent.BUTTON1) {\r\n                        useJna = !useJna;\r\n                        repaint();\r\n                    }\r\n                }\r\n\r\n                @Override\r\n                public void mousePressed(MouseEvent e) {\r\n                    System.out.println(e.getButton());\r\n                    if (e.getButton() == MouseEvent.BUTTON1) {\r\n                        if (!dlg.isVisible()) {\r\n                            dlg.setVisible(true);\r\n                        }\r\n                        moveDialogTo(e.getPoint());\r\n                    }\r\n                }\r\n\r\n\r\n                @Override\r\n                public void mouseDragged(MouseEvent e) {\r\n                    moveDialogTo(e.getPoint());\r\n                }\r\n\r\n\r\n                private void moveDialogTo(Point mouseLocation) {\r\n                    final Rectangle surroundingRectangle = getSurroundingRectangle(screenBounds);\r\n                    double scaleFactor = Math.min((double) getWidth() / surroundingRectangle.width, (double) getHeight() / surroundingRectangle.height);\r\n\r\n                    int xOffset = (getWidth() - (int) (surroundingRectangle.width * scaleFactor)) / 2;\r\n                    int yOffset = (getHeight() - (int) (surroundingRectangle.height * scaleFactor)) / 2;\r\n\r\n                    int screenX = surroundingRectangle.x + (int) ((mouseLocation.x - xOffset) / scaleFactor);\r\n                    int screenY = surroundingRectangle.y + (int) ((mouseLocation.y - yOffset) / scaleFactor);\r\n\r\n                    dlg.setLocation(screenX - dlg.getWidth() / 2, screenY - dlg.getHeight() / 2);\r\n                }\r\n\r\n\r\n            };\r\n\r\n            addMouseListener(mouseAdapter);\r\n            addMouseMotionListener(mouseAdapter);\r\n\r\n            // Prepare the test dialog\r\n            dlg = new JDialog();\r\n            dlg.setTitle(&quot;Here&quot;);\r\n            dlg.setSize(50, 50);\r\n            dlg.setDefaultCloseOperation(JFrame.HIDE_ON_CLOSE);\r\n\r\n        }\r\n\r\n        @Override\r\n        public Dimension getPreferredSize() {\r\n            return new Dimension(400, 400);\r\n        }\r\n\r\n        @Override\r\n        protected void paintComponent(Graphics g) {\r\n            super.paintComponent(g);\r\n            Graphics2D g2d = (Graphics2D) g.create();\r\n\r\n            // Mouse position\r\n            Point mousePoint = getMouseLocation();\r\n\r\n            g2d.setColor(Color.BLACK);\r\n            g2d.fillRect(0, 0, getWidth(), getHeight());\r\n\r\n            final Rectangle surroundingRectangle = getSurroundingRectangle(screenBounds);\r\n            double scaleFactor = Math.min((double) getWidth() / surroundingRectangle.width, (double) getHeight() / surroundingRectangle.height);\r\n\r\n            int xOffset = (getWidth() - (int) (surroundingRectangle.width * scaleFactor)) / 2;\r\n            int yOffset = (getHeight() - (int) (surroundingRectangle.height * scaleFactor)) / 2;\r\n\r\n            g2d.setColor(Color.BLUE);\r\n            g2d.fillRect(xOffset, yOffset, (int) (surroundingRectangle.width * scaleFactor), (int) (surroundingRectangle.height * scaleFactor));\r\n\r\n            Font defaultFont = g2d.getFont();\r\n            for (int screenIndex = 0; screenIndex &lt; screenBounds.size(); screenIndex++) {\r\n                Rectangle screen = screenBounds.get(screenIndex);\r\n                Rectangle scaledRectangle = new Rectangle(\r\n                        xOffset + (int) ((screen.x - surroundingRectangle.x) * scaleFactor),\r\n                        yOffset + (int) ((screen.y - surroundingRectangle.y) * scaleFactor),\r\n                        (int) (screen.width * scaleFactor),\r\n                        (int) (screen.height * scaleFactor));\r\n\r\n                // System.out.println(screen + &quot; x &quot; + scaleFactor + &quot; -&gt; &quot; + scaledRectangle);\r\n                g2d.setColor(Color.DARK_GRAY);\r\n                g2d.fill(scaledRectangle);\r\n                g2d.setColor(Color.GRAY);\r\n                g2d.draw(scaledRectangle);\r\n\r\n                // Screen text details\r\n                g2d.setColor(Color.WHITE);\r\n\r\n                // Display number\r\n                final Font largeFont = new Font(defaultFont.getName(), defaultFont.getStyle(), (int) (screen.height * scaleFactor) / 2);\r\n                g2d.setFont(largeFont);\r\n                String label = String.valueOf(screenIndex + 1);\r\n                FontRenderContext frc = g2d.getFontRenderContext();\r\n                TextLayout layout = new TextLayout(label, largeFont, frc);\r\n                Rectangle2D bounds = layout.getBounds();\r\n                g2d.setColor(Color.WHITE);\r\n                g2d.drawString(\r\n                        label,\r\n                        (int) (scaledRectangle.x + (scaledRectangle.width - bounds.getWidth()) / 2),\r\n                        (int) (scaledRectangle.y + (scaledRectangle.height + bounds.getHeight()) / 2)\r\n                );\r\n\r\n                // Resolution + corner\r\n                final Font smallFont = new Font(defaultFont.getName(), defaultFont.getStyle(), (int) (screen.height * scaleFactor) / 10);\r\n                g2d.setFont(smallFont);\r\n\r\n                // Resolution\r\n                String resolution = screen.width + &quot;x&quot; + screen.height;\r\n                layout = new TextLayout(resolution, smallFont, frc);\r\n                bounds = layout.getBounds();\r\n                g2d.drawString(\r\n                        resolution,\r\n                        (int) (scaledRectangle.x + (scaledRectangle.width - bounds.getWidth()) / 2),\r\n                        (int) (scaledRectangle.y + scaledRectangle.height - bounds.getHeight())\r\n                );\r\n\r\n                // Corner\r\n                String corner = &quot;(&quot; + screen.x + &quot;,&quot; + screen.y + &quot;)&quot;;\r\n                g2d.drawString(\r\n                        corner,\r\n                        scaledRectangle.x,\r\n                        (int) (scaledRectangle.y + bounds.getHeight() * 1.5)\r\n                );\r\n\r\n            }\r\n\r\n            g2d.setFont(defaultFont);\r\n            FontMetrics fm = g2d.getFontMetrics();\r\n\r\n            if (mousePoint != null) {\r\n                g2d.fillOval(xOffset + (int) ((mousePoint.x - surroundingRectangle.x) * scaleFactor) - 2,\r\n                        yOffset + (int) ((mousePoint.y - surroundingRectangle.y) * scaleFactor) - 2,\r\n                        4,\r\n                        4\r\n                );\r\n                g2d.drawString(&quot;Mouse pointer is at (&quot; + mousePoint.x + &quot;,&quot; + mousePoint.y + &quot;)&quot;, 4, fm.getHeight());\r\n            }\r\n\r\n            g2d.drawString(&quot;Click and drag in this area to move a dialog on the actual screens&quot;, 4, fm.getHeight() * 2);\r\n\r\n            // JNA_ONLY\r\n            // g2d.drawString(&quot;Now using &quot; + (useJna ? &quot;JNA&quot; : &quot;Java API&quot;) + &quot;. Right-click to toggle&quot;, 4, fm.getHeight() * 3);\r\n\r\n            g2d.dispose();\r\n        }\r\n    }\r\n\r\n    public static Rectangle getSurroundingRectangle(List&lt;Rectangle&gt; screenRectangles) {\r\n        Rectangle surroundingBounds = null;\r\n        for (Rectangle screenBound : screenRectangles) {\r\n            if (surroundingBounds == null) {\r\n                surroundingBounds = new Rectangle(screenRectangles.get(0));\r\n            }\r\n            else {\r\n                surroundingBounds.add(screenBound);\r\n            }\r\n        }\r\n        return surroundingBounds;\r\n    }\r\n\r\n    private static Point getMouseLocation() {\r\n        // JNA_ONLY\r\n//        if (useJna) {\r\n//            final WinDef.POINT point = new WinDef.POINT();\r\n//            if (User32.INSTANCE.GetCursorPos(point)) {\r\n//                return new Point(point.x, point.y);\r\n//            }\r\n//            else {\r\n//                return null;\r\n//            }\r\n//        }\r\n        return MouseInfo.getPointerInfo().getLocation();\r\n    }\r\n\r\n    public static List&lt;Rectangle&gt; getScreenBounds() {\r\n        List&lt;Rectangle&gt; screenBounds;\r\n\r\n        // JNA_ONLY\r\n//        if (useJna) {\r\n//            screenBounds = new ArrayList&lt;&gt;();\r\n//            // Enumerate all monitors, and call a code block for each of them\r\n//            // See https://learn.microsoft.com/en-us/windows/win32/api/winuser/nf-winuser-enumdisplaymonitors\r\n//            // See http://www.pinvoke.net/default.aspx/user32/EnumDisplayMonitors.html\r\n//            User32.INSTANCE.EnumDisplayMonitors(\r\n//                    null, // =&gt; the virtual screen that encompasses all the displays on the desktop.\r\n//                    null, // =&gt; don&#39;t clip the region\r\n//                    (hmonitor, hdc, rect, lparam) -&gt; {\r\n//                        // For each found monitor, get more information\r\n//                        // See https://learn.microsoft.com/en-us/windows/win32/api/winuser/nf-winuser-getmonitorinfoa\r\n//                        // See http://www.pinvoke.net/default.aspx/user32/GetMonitorInfo.html\r\n//                        WinUser.MONITORINFOEX monitorInfoEx = new WinUser.MONITORINFOEX();\r\n//                        User32.INSTANCE.GetMonitorInfo(hmonitor, monitorInfoEx);\r\n//                        // Retrieve its coordinates\r\n//                        final WinDef.RECT rcMonitor = monitorInfoEx.rcMonitor;\r\n//                        // And convert them to a Java rectangle, to be added to the list of monitors\r\n//                        screenBounds.add(new Rectangle(rcMonitor.left, rcMonitor.top, rcMonitor.right - rcMonitor.left, rcMonitor.bottom - rcMonitor.top));\r\n//                        // Then return &quot;true&quot; to continue enumeration\r\n//                        return 1;\r\n//                    },\r\n//                    null // =&gt; No additional info to pass as lparam to the callback\r\n//            );\r\n//            return screenBounds;\r\n//        }\r\n\r\n        GraphicsEnvironment graphicsEnvironment = GraphicsEnvironment.getLocalGraphicsEnvironment();\r\n        GraphicsDevice[] screenDevices = graphicsEnvironment.getScreenDevices();\r\n        screenBounds = new ArrayList&lt;&gt;(screenDevices.length);\r\n        for (GraphicsDevice screenDevice : screenDevices) {\r\n            GraphicsConfiguration configuration = screenDevice.getDefaultConfiguration();\r\n            screenBounds.add(configuration.getBounds());\r\n        }\r\n        return screenBounds;\r\n    }\r\n\r\n}\r\n```\r\n\r\n  [1]: https://i.stack.imgur.com/mERfo.png\r\n  [2]: https://i.stack.imgur.com/EBYaA.png\r\n  [3]: https://i.stack.imgur.com/RIr23.png\r\n  [4]: https://i.stack.imgur.com/jcGyE.png\r\n  [5]: https://i.stack.imgur.com/XjIxW.png\r\n  [6]: https://i.stack.imgur.com/E3E8M.png\r\n  [7]: https://i.stack.imgur.com/Cceso.png\r\n  [8]: https://i.stack.imgur.com/p5Z2J.png\r\n  [9]: https://stackoverflow.com/questions/54912038/querying-windows-display-scaling\r\n  [10]: https://i.stack.imgur.com/cNqc6.png\r\n  [11]: https://stackoverflow.com/a/21592711/13551878\r\n\r\n\r\n","title":"Java Multi-Display Handling under Windows - Bug with scaled displays?","body":"<p><strong>tl;dr</strong></p>\n<p>Under Windows 10, if I put my secondary display to the right of the primary one, and apply a scaling (e.g. 150%) to the secondary, then the display coordinates (as returned by the Java API) overlap instead of letting the display bounds sit side by side. In other words, if I slowly move my mouse from the left edge of the primary to the right edge of the secondary, Java's API <code>MouseInfo.getPointerInfo().getLocation()</code> returns an increasing X-position from 0 to 1920, then once the cursor enters the second screen, the value jumps back down to 1280 and then increases again to 2560. So the 1280-1920 range is returned twice, for different areas.</p>\n<p>At the end of the post, I have included an (updated) demo that makes the issue obvious. Don't hesitate to try it and report back.</p>\n<p><strong>The long version:</strong></p>\n<p>This text gives (too) much context but is also meant to share the things I learned while searching on the topic.</p>\n<p>First, why bother ? Because I am building a screen capture application in Java that requires a correct handling of multi-display configurations, including displays where Windows' scaling feature is applied.</p>\n<p>Using the Java API (<code>GraphicsEnvironment.getLocalGraphicsEnvironment().getScreenDevices()</code>), as long as the scaling is 100%, one can observe that the primary display has its top left corner at the origin (0,0), with the other displays having coordinates &quot;next&quot; to the main one.</p>\n<p>The following pictures were made using the code at the end of the post.</p>\n<p>E.g. if we have 2 full-hd displays, the main one has its top left corner is at (0,0), while...</p>\n<ul>\n<li>if the secondary is positioned at its right, at the same level, its top left corner is (1920,0):</li>\n</ul>\n<p><a href=\"https://i.stack.imgur.com/mERfo.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/mERfo.png\" alt=\"enter image description here\" /></a></p>\n<ul>\n<li>if the secondary is positioned at its left, at the same level, its top left corner is (-1920,0):</li>\n</ul>\n<p><a href=\"https://i.stack.imgur.com/EBYaA.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/EBYaA.png\" alt=\"enter image description here\" /></a></p>\n<ul>\n<li>if the secondary is positioned below, aligned horizontally, its top left corner is (0,1080):</li>\n</ul>\n<p><a href=\"https://i.stack.imgur.com/RIr23.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/RIr23.png\" alt=\"enter image description here\" /></a></p>\n<ul>\n<li>if the secondary is positioned above, aligned horizontally, its top left corner is (0,-1080):</li>\n</ul>\n<p><a href=\"https://i.stack.imgur.com/jcGyE.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/jcGyE.png\" alt=\"enter image description here\" /></a></p>\n<ul>\n<li>and so on if the displays are not aligned:</li>\n</ul>\n<p><a href=\"https://i.stack.imgur.com/XjIxW.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/XjIxW.png\" alt=\"enter image description here\" /></a></p>\n<ul>\n<li>or with different resolutions:</li>\n</ul>\n<p><a href=\"https://i.stack.imgur.com/E3E8M.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/E3E8M.png\" alt=\"enter image description here\" /></a></p>\n<p>However, if the secondary display is scaled, things go awry: it seems the scaling factor is applied not only to its dimensions, but also its <strong>origin</strong>, which gets closer to (0,0).</p>\n<p>If the secondary is on the left, it makes sense. For example, when the secondary 1920x1080 is scaled at 150%, it makes a logical 1280x720 positioned at (-1280,0):</p>\n<p><a href=\"https://i.stack.imgur.com/Cceso.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Cceso.png\" alt=\"enter image description here\" /></a></p>\n<p>But if the secondary is on the right, the origin is also <strong>scaled</strong> to (1280,0), getting closer to the origin and causing it to &quot;overlap&quot; the primary one:</p>\n<p><a href=\"https://i.stack.imgur.com/p5Z2J.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/p5Z2J.png\" alt=\"enter image description here\" /></a></p>\n<p>In other words, if the mouse is at (1800,0) - see red dot above - I see no way of knowing if it actually is positioned on the right of the first display (at 120px from the right edge) or on the left of the secondary one (at 520px of the left edge). When moving the mouse from the primary to the secondary display in this case, the X position of the mouse &quot;jumps back&quot; when it reaches the border of the primary display.</p>\n<p>The same is true for positioning a window on the screens. If I set the X-position of a dialog to 1800, I have no way to know where it will open.</p>\n<p>After much browsing, some answers <a href=\"https://stackoverflow.com/questions/54912038/querying-windows-display-scaling\">like this one</a> indicate that the only way to query Windows scaling is by using native calls. Indeed, using JNA, one can get the physical size of the displays (although the answer seems to indicate that call should return the logical size). I.e the JNA calls ignore the scaling factor, and behaves exactly like the Java API when scaling is at 100%:</p>\n<p><a href=\"https://i.stack.imgur.com/cNqc6.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/cNqc6.png\" alt=\"enter image description here\" /></a></p>\n<p>So am I missing something ?</p>\n<p>Not knowing the scaling factor is a small issue, but not being able to tell which display the mouse is over, or not being able to position a window on the display I want looks like a real problem to me. Is it a Java Bug ?</p>\n<p>Note: Here is the code for the app used above, run on with OpenJDK14 on Windows 10 64b. It shows a scaled down version of your display setup and mouse position as perceived by Java. It can also place and move a small dialog across the real screens if you click and drag inside the small rectangles. Credit: The UI is inspired by the WheresMyMouse code posted <a href=\"https://stackoverflow.com/a/21592711/13551878\">here</a>.</p>\n<p>As is, the code uses only the Java API.\nIf you want to compare with JNA, search for the 4 blocks marked &quot;JNA_ONLY&quot;, uncomment them, and add the jna libs. The demo will then toggle between JNA and Java API for displaying screen bounds and mouse cursor at each right-click. The dialog positioning never uses JNA in this version.</p>\n<pre><code>// JNA_ONLY\n//import com.sun.jna.platform.win32.User32;\n//import com.sun.jna.platform.win32.WinDef;\n//import com.sun.jna.platform.win32.WinUser;\n\nimport javax.swing.*;\nimport java.awt.*;\nimport java.awt.event.MouseAdapter;\nimport java.awt.event.MouseEvent;\nimport java.awt.font.FontRenderContext;\nimport java.awt.font.TextLayout;\nimport java.awt.geom.Rectangle2D;\nimport java.util.ArrayList;\nimport java.util.List;\n\n/**\n * Java multi-display detection and analysis.\n * UI idea based on WheresMyMouse - https://stackoverflow.com/a/21592711/13551878\n */\npublic class ShowDisplays {\n\n    private static boolean useJna = false;\n\n    public static void main(String[] args) {\n        EventQueue.invokeLater(() -&gt; {\n            JFrame frame = new JFrame(&quot;Display Configuration&quot;);\n            frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n            frame.setLayout(new BorderLayout());\n            frame.add(new TestPane());\n            frame.pack();\n            frame.setLocationRelativeTo(null);\n            frame.setVisible(true);\n        });\n    }\n\n    public static class TestPane extends JPanel {\n        private List&lt;Rectangle&gt; screenBounds;\n        JDialog dlg;\n\n        public TestPane() {\n            screenBounds = getScreenBounds();\n            // refresh screen details every second to reflect changes in Windows Preferences in &quot;real time&quot;\n            new Timer(1000, e -&gt; screenBounds = getScreenBounds()).start();\n\n            // Refresh mouse position at 25fps\n            new Timer(40, e -&gt; repaint()).start();\n\n            MouseAdapter mouseAdapter = new MouseAdapter() {\n\n                public void mouseClicked(MouseEvent e) {\n                    if (e.getButton() != MouseEvent.BUTTON1) {\n                        useJna = !useJna;\n                        repaint();\n                    }\n                }\n\n                @Override\n                public void mousePressed(MouseEvent e) {\n                    System.out.println(e.getButton());\n                    if (e.getButton() == MouseEvent.BUTTON1) {\n                        if (!dlg.isVisible()) {\n                            dlg.setVisible(true);\n                        }\n                        moveDialogTo(e.getPoint());\n                    }\n                }\n\n\n                @Override\n                public void mouseDragged(MouseEvent e) {\n                    moveDialogTo(e.getPoint());\n                }\n\n\n                private void moveDialogTo(Point mouseLocation) {\n                    final Rectangle surroundingRectangle = getSurroundingRectangle(screenBounds);\n                    double scaleFactor = Math.min((double) getWidth() / surroundingRectangle.width, (double) getHeight() / surroundingRectangle.height);\n\n                    int xOffset = (getWidth() - (int) (surroundingRectangle.width * scaleFactor)) / 2;\n                    int yOffset = (getHeight() - (int) (surroundingRectangle.height * scaleFactor)) / 2;\n\n                    int screenX = surroundingRectangle.x + (int) ((mouseLocation.x - xOffset) / scaleFactor);\n                    int screenY = surroundingRectangle.y + (int) ((mouseLocation.y - yOffset) / scaleFactor);\n\n                    dlg.setLocation(screenX - dlg.getWidth() / 2, screenY - dlg.getHeight() / 2);\n                }\n\n\n            };\n\n            addMouseListener(mouseAdapter);\n            addMouseMotionListener(mouseAdapter);\n\n            // Prepare the test dialog\n            dlg = new JDialog();\n            dlg.setTitle(&quot;Here&quot;);\n            dlg.setSize(50, 50);\n            dlg.setDefaultCloseOperation(JFrame.HIDE_ON_CLOSE);\n\n        }\n\n        @Override\n        public Dimension getPreferredSize() {\n            return new Dimension(400, 400);\n        }\n\n        @Override\n        protected void paintComponent(Graphics g) {\n            super.paintComponent(g);\n            Graphics2D g2d = (Graphics2D) g.create();\n\n            // Mouse position\n            Point mousePoint = getMouseLocation();\n\n            g2d.setColor(Color.BLACK);\n            g2d.fillRect(0, 0, getWidth(), getHeight());\n\n            final Rectangle surroundingRectangle = getSurroundingRectangle(screenBounds);\n            double scaleFactor = Math.min((double) getWidth() / surroundingRectangle.width, (double) getHeight() / surroundingRectangle.height);\n\n            int xOffset = (getWidth() - (int) (surroundingRectangle.width * scaleFactor)) / 2;\n            int yOffset = (getHeight() - (int) (surroundingRectangle.height * scaleFactor)) / 2;\n\n            g2d.setColor(Color.BLUE);\n            g2d.fillRect(xOffset, yOffset, (int) (surroundingRectangle.width * scaleFactor), (int) (surroundingRectangle.height * scaleFactor));\n\n            Font defaultFont = g2d.getFont();\n            for (int screenIndex = 0; screenIndex &lt; screenBounds.size(); screenIndex++) {\n                Rectangle screen = screenBounds.get(screenIndex);\n                Rectangle scaledRectangle = new Rectangle(\n                        xOffset + (int) ((screen.x - surroundingRectangle.x) * scaleFactor),\n                        yOffset + (int) ((screen.y - surroundingRectangle.y) * scaleFactor),\n                        (int) (screen.width * scaleFactor),\n                        (int) (screen.height * scaleFactor));\n\n                // System.out.println(screen + &quot; x &quot; + scaleFactor + &quot; -&gt; &quot; + scaledRectangle);\n                g2d.setColor(Color.DARK_GRAY);\n                g2d.fill(scaledRectangle);\n                g2d.setColor(Color.GRAY);\n                g2d.draw(scaledRectangle);\n\n                // Screen text details\n                g2d.setColor(Color.WHITE);\n\n                // Display number\n                final Font largeFont = new Font(defaultFont.getName(), defaultFont.getStyle(), (int) (screen.height * scaleFactor) / 2);\n                g2d.setFont(largeFont);\n                String label = String.valueOf(screenIndex + 1);\n                FontRenderContext frc = g2d.getFontRenderContext();\n                TextLayout layout = new TextLayout(label, largeFont, frc);\n                Rectangle2D bounds = layout.getBounds();\n                g2d.setColor(Color.WHITE);\n                g2d.drawString(\n                        label,\n                        (int) (scaledRectangle.x + (scaledRectangle.width - bounds.getWidth()) / 2),\n                        (int) (scaledRectangle.y + (scaledRectangle.height + bounds.getHeight()) / 2)\n                );\n\n                // Resolution + corner\n                final Font smallFont = new Font(defaultFont.getName(), defaultFont.getStyle(), (int) (screen.height * scaleFactor) / 10);\n                g2d.setFont(smallFont);\n\n                // Resolution\n                String resolution = screen.width + &quot;x&quot; + screen.height;\n                layout = new TextLayout(resolution, smallFont, frc);\n                bounds = layout.getBounds();\n                g2d.drawString(\n                        resolution,\n                        (int) (scaledRectangle.x + (scaledRectangle.width - bounds.getWidth()) / 2),\n                        (int) (scaledRectangle.y + scaledRectangle.height - bounds.getHeight())\n                );\n\n                // Corner\n                String corner = &quot;(&quot; + screen.x + &quot;,&quot; + screen.y + &quot;)&quot;;\n                g2d.drawString(\n                        corner,\n                        scaledRectangle.x,\n                        (int) (scaledRectangle.y + bounds.getHeight() * 1.5)\n                );\n\n            }\n\n            g2d.setFont(defaultFont);\n            FontMetrics fm = g2d.getFontMetrics();\n\n            if (mousePoint != null) {\n                g2d.fillOval(xOffset + (int) ((mousePoint.x - surroundingRectangle.x) * scaleFactor) - 2,\n                        yOffset + (int) ((mousePoint.y - surroundingRectangle.y) * scaleFactor) - 2,\n                        4,\n                        4\n                );\n                g2d.drawString(&quot;Mouse pointer is at (&quot; + mousePoint.x + &quot;,&quot; + mousePoint.y + &quot;)&quot;, 4, fm.getHeight());\n            }\n\n            g2d.drawString(&quot;Click and drag in this area to move a dialog on the actual screens&quot;, 4, fm.getHeight() * 2);\n\n            // JNA_ONLY\n            // g2d.drawString(&quot;Now using &quot; + (useJna ? &quot;JNA&quot; : &quot;Java API&quot;) + &quot;. Right-click to toggle&quot;, 4, fm.getHeight() * 3);\n\n            g2d.dispose();\n        }\n    }\n\n    public static Rectangle getSurroundingRectangle(List&lt;Rectangle&gt; screenRectangles) {\n        Rectangle surroundingBounds = null;\n        for (Rectangle screenBound : screenRectangles) {\n            if (surroundingBounds == null) {\n                surroundingBounds = new Rectangle(screenRectangles.get(0));\n            }\n            else {\n                surroundingBounds.add(screenBound);\n            }\n        }\n        return surroundingBounds;\n    }\n\n    private static Point getMouseLocation() {\n        // JNA_ONLY\n//        if (useJna) {\n//            final WinDef.POINT point = new WinDef.POINT();\n//            if (User32.INSTANCE.GetCursorPos(point)) {\n//                return new Point(point.x, point.y);\n//            }\n//            else {\n//                return null;\n//            }\n//        }\n        return MouseInfo.getPointerInfo().getLocation();\n    }\n\n    public static List&lt;Rectangle&gt; getScreenBounds() {\n        List&lt;Rectangle&gt; screenBounds;\n\n        // JNA_ONLY\n//        if (useJna) {\n//            screenBounds = new ArrayList&lt;&gt;();\n//            // Enumerate all monitors, and call a code block for each of them\n//            // See https://learn.microsoft.com/en-us/windows/win32/api/winuser/nf-winuser-enumdisplaymonitors\n//            // See http://www.pinvoke.net/default.aspx/user32/EnumDisplayMonitors.html\n//            User32.INSTANCE.EnumDisplayMonitors(\n//                    null, // =&gt; the virtual screen that encompasses all the displays on the desktop.\n//                    null, // =&gt; don't clip the region\n//                    (hmonitor, hdc, rect, lparam) -&gt; {\n//                        // For each found monitor, get more information\n//                        // See https://learn.microsoft.com/en-us/windows/win32/api/winuser/nf-winuser-getmonitorinfoa\n//                        // See http://www.pinvoke.net/default.aspx/user32/GetMonitorInfo.html\n//                        WinUser.MONITORINFOEX monitorInfoEx = new WinUser.MONITORINFOEX();\n//                        User32.INSTANCE.GetMonitorInfo(hmonitor, monitorInfoEx);\n//                        // Retrieve its coordinates\n//                        final WinDef.RECT rcMonitor = monitorInfoEx.rcMonitor;\n//                        // And convert them to a Java rectangle, to be added to the list of monitors\n//                        screenBounds.add(new Rectangle(rcMonitor.left, rcMonitor.top, rcMonitor.right - rcMonitor.left, rcMonitor.bottom - rcMonitor.top));\n//                        // Then return &quot;true&quot; to continue enumeration\n//                        return 1;\n//                    },\n//                    null // =&gt; No additional info to pass as lparam to the callback\n//            );\n//            return screenBounds;\n//        }\n\n        GraphicsEnvironment graphicsEnvironment = GraphicsEnvironment.getLocalGraphicsEnvironment();\n        GraphicsDevice[] screenDevices = graphicsEnvironment.getScreenDevices();\n        screenBounds = new ArrayList&lt;&gt;(screenDevices.length);\n        for (GraphicsDevice screenDevice : screenDevices) {\n            GraphicsConfiguration configuration = screenDevice.getDefaultConfiguration();\n            screenBounds.add(configuration.getBounds());\n        }\n        return screenBounds;\n    }\n\n}\n</code></pre>\n"},{"tags":["java","android-gridlayout"],"owner":{"account_id":29242023,"reputation":1,"user_id":22403308,"display_name":"KANAK LOHIYA"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":83,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692255411,"creation_date":1692255411,"question_id":76919124,"body_markdown":"I am trying to create tic-tac-toe for the same i have tried using a grid layout for placing coins/X/O. It is taking three coins in a single column as opposed to single coin in a single column\r\nPlease find below the code of my layout and the picture of its output.\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    android:layout_alignParentBottom=&quot;true&quot;&gt;\r\n\r\n    &lt;androidx.gridlayout.widget.GridLayout\r\n        android:layout_width=&quot;400dp&quot;\r\n        android:layout_height=&quot;400dp&quot;\r\n        android:layout_marginStart=&quot;8dp&quot;\r\n        android:layout_marginTop=&quot;8dp&quot;\r\n        android:layout_marginEnd=&quot;8dp&quot;\r\n        android:layout_marginBottom=&quot;8dp&quot;\r\n        app:columnCount=&quot;3&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintHorizontal_bias=&quot;0.5&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n        app:rowCount=&quot;3&quot;&gt;\r\n\r\n        &lt;ImageView\r\n            android:id=&quot;@+id/imageView20&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:src=&quot;@drawable/red&quot;\r\n            app:layout_column=&quot;0&quot;\r\n            app:layout_row=&quot;0&quot; /&gt;\r\n\r\n        &lt;ImageView\r\n            android:id=&quot;@+id/imageView21&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:src=&quot;@drawable/red&quot;\r\n            app:layout_column=&quot;1&quot;\r\n            app:layout_row=&quot;0&quot; /&gt;\r\n\r\n        &lt;ImageView\r\n            android:id=&quot;@+id/imageView22&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:src=&quot;@drawable/red&quot;\r\n            app:layout_column=&quot;2&quot;\r\n            app:layout_row=&quot;0&quot; /&gt;\r\n\r\n        &lt;ImageView\r\n            android:id=&quot;@+id/imageView23&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_marginStart=&quot;16dp&quot;\r\n            android:layout_marginLeft=&quot;16dp&quot;\r\n            android:src=&quot;@drawable/red&quot;\r\n            app:layout_column=&quot;0&quot;\r\n            app:layout_row=&quot;1&quot; /&gt;\r\n\r\n        &lt;ImageView\r\n            android:id=&quot;@+id/imageView24&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_marginStart=&quot;16dp&quot;\r\n            android:layout_marginLeft=&quot;16dp&quot;\r\n            android:src=&quot;@drawable/red&quot;\r\n            app:layout_column=&quot;1&quot;\r\n            app:layout_row=&quot;1&quot; /&gt;\r\n\r\n        &lt;ImageView\r\n            android:id=&quot;@+id/imageView25&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:src=&quot;@drawable/red&quot;\r\n            app:layout_column=&quot;2&quot;\r\n            app:layout_row=&quot;1&quot; /&gt;\r\n\r\n        &lt;ImageView\r\n            android:id=&quot;@+id/imageView26&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:src=&quot;@drawable/red&quot;\r\n            app:layout_column=&quot;0&quot;\r\n            app:layout_row=&quot;2&quot; /&gt;\r\n\r\n        &lt;ImageView\r\n            android:id=&quot;@+id/imageView27&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:src=&quot;@drawable/red&quot;\r\n            app:layout_column=&quot;1&quot;\r\n            app:layout_row=&quot;2&quot; /&gt;\r\n\r\n        &lt;ImageView\r\n            android:id=&quot;@+id/imageView28&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:src=&quot;@drawable/red&quot;\r\n            app:layout_column=&quot;2&quot;\r\n            app:layout_row=&quot;2&quot; /&gt;\r\n\r\n    &lt;/androidx.gridlayout.widget.GridLayout&gt;\r\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n```\r\n\r\n\r\nI tried adding all the coins one by one as soon as i added 4th coin it started in fourth column in 2nd row. while the expectation was to have it in 1st column of 2nd row.","title":"Grid Layout in android studio giraffe making 9 columns even though column count given is 3","body":"<p>I am trying to create tic-tac-toe for the same i have tried using a grid layout for placing coins/X/O. It is taking three coins in a single column as opposed to single coin in a single column\nPlease find below the code of my layout and the picture of its output.</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:layout_alignParentBottom=&quot;true&quot;&gt;\n\n    &lt;androidx.gridlayout.widget.GridLayout\n        android:layout_width=&quot;400dp&quot;\n        android:layout_height=&quot;400dp&quot;\n        android:layout_marginStart=&quot;8dp&quot;\n        android:layout_marginTop=&quot;8dp&quot;\n        android:layout_marginEnd=&quot;8dp&quot;\n        android:layout_marginBottom=&quot;8dp&quot;\n        app:columnCount=&quot;3&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintHorizontal_bias=&quot;0.5&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\n        app:rowCount=&quot;3&quot;&gt;\n\n        &lt;ImageView\n            android:id=&quot;@+id/imageView20&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:src=&quot;@drawable/red&quot;\n            app:layout_column=&quot;0&quot;\n            app:layout_row=&quot;0&quot; /&gt;\n\n        &lt;ImageView\n            android:id=&quot;@+id/imageView21&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:src=&quot;@drawable/red&quot;\n            app:layout_column=&quot;1&quot;\n            app:layout_row=&quot;0&quot; /&gt;\n\n        &lt;ImageView\n            android:id=&quot;@+id/imageView22&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:src=&quot;@drawable/red&quot;\n            app:layout_column=&quot;2&quot;\n            app:layout_row=&quot;0&quot; /&gt;\n\n        &lt;ImageView\n            android:id=&quot;@+id/imageView23&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:layout_marginStart=&quot;16dp&quot;\n            android:layout_marginLeft=&quot;16dp&quot;\n            android:src=&quot;@drawable/red&quot;\n            app:layout_column=&quot;0&quot;\n            app:layout_row=&quot;1&quot; /&gt;\n\n        &lt;ImageView\n            android:id=&quot;@+id/imageView24&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:layout_marginStart=&quot;16dp&quot;\n            android:layout_marginLeft=&quot;16dp&quot;\n            android:src=&quot;@drawable/red&quot;\n            app:layout_column=&quot;1&quot;\n            app:layout_row=&quot;1&quot; /&gt;\n\n        &lt;ImageView\n            android:id=&quot;@+id/imageView25&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:src=&quot;@drawable/red&quot;\n            app:layout_column=&quot;2&quot;\n            app:layout_row=&quot;1&quot; /&gt;\n\n        &lt;ImageView\n            android:id=&quot;@+id/imageView26&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:src=&quot;@drawable/red&quot;\n            app:layout_column=&quot;0&quot;\n            app:layout_row=&quot;2&quot; /&gt;\n\n        &lt;ImageView\n            android:id=&quot;@+id/imageView27&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:src=&quot;@drawable/red&quot;\n            app:layout_column=&quot;1&quot;\n            app:layout_row=&quot;2&quot; /&gt;\n\n        &lt;ImageView\n            android:id=&quot;@+id/imageView28&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:src=&quot;@drawable/red&quot;\n            app:layout_column=&quot;2&quot;\n            app:layout_row=&quot;2&quot; /&gt;\n\n    &lt;/androidx.gridlayout.widget.GridLayout&gt;\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n<p>I tried adding all the coins one by one as soon as i added 4th coin it started in fourth column in 2nd row. while the expectation was to have it in 1st column of 2nd row.</p>\n"},{"tags":["java","mongodb","sorting","mongodb-java"],"answers":[{"tags":[],"owner":{"account_id":162175,"reputation":43412,"user_id":383478,"accept_rate":98,"display_name":"Sammaye"},"down_vote_count":0,"up_vote_count":84,"is_accepted":true,"score":84,"last_activity_date":1547651323,"creation_date":1396944632,"answer_id":22931211,"question_id":22931177,"body_markdown":"**Update:**\r\nAs of now mongodb have case insensitive indexes:\r\n\r\n    Users.find({})\r\n      .collation({locale: &quot;en&quot; })\r\n      .sort({name: 1})\r\n      .exec()\r\n      .then(...)\r\n\r\nshell:\r\n\r\n    db.getCollection(&#39;users&#39;)\r\n      .find({})\r\n      .collation({&#39;locale&#39;:&#39;en&#39;})\r\n      .sort({&#39;firstName&#39;:1})\r\n\r\n---\r\n\r\n**Update:** This answer is out of date, 3.4 will have case insensitive indexes. Look to the JIRA for more information https://jira.mongodb.org/browse/SERVER-90\r\n\r\n---\r\n\r\nUnfortunately MongoDB does not yet have case insensitive indexes: https://jira.mongodb.org/browse/SERVER-90 and the task has been pushed back.\r\n\r\nThis means the only way to sort case insensitive currently is to actually create a specific &quot;lower cased&quot; field, copying the value (lower cased of course) of the sort field in question and sorting on that instead.","title":"Case insensitive sorting in MongoDB","body":"<p><strong>Update:</strong>\nAs of now mongodb have case insensitive indexes:</p>\n\n<pre><code>Users.find({})\n  .collation({locale: \"en\" })\n  .sort({name: 1})\n  .exec()\n  .then(...)\n</code></pre>\n\n<p>shell:</p>\n\n<pre><code>db.getCollection('users')\n  .find({})\n  .collation({'locale':'en'})\n  .sort({'firstName':1})\n</code></pre>\n\n<hr>\n\n<p><strong>Update:</strong> This answer is out of date, 3.4 will have case insensitive indexes. Look to the JIRA for more information <a href=\"https://jira.mongodb.org/browse/SERVER-90\" rel=\"noreferrer\">https://jira.mongodb.org/browse/SERVER-90</a></p>\n\n<hr>\n\n<p>Unfortunately MongoDB does not yet have case insensitive indexes: <a href=\"https://jira.mongodb.org/browse/SERVER-90\" rel=\"noreferrer\">https://jira.mongodb.org/browse/SERVER-90</a> and the task has been pushed back.</p>\n\n<p>This means the only way to sort case insensitive currently is to actually create a specific \"lower cased\" field, copying the value (lower cased of course) of the sort field in question and sorting on that instead.</p>\n"},{"tags":[],"owner":{"account_id":2677968,"reputation":148907,"user_id":2313887,"accept_rate":82,"display_name":"Neil Lunn"},"down_vote_count":0,"up_vote_count":64,"is_accepted":false,"score":64,"last_activity_date":1684756189,"creation_date":1396945410,"answer_id":22931481,"question_id":22931177,"body_markdown":"Sorting does work like that in MongoDB but you can do this on the fly with aggregate:\r\n\r\nTake the following data:\r\n\r\n\r\n```json\r\n{ &quot;field&quot; : &quot;BBB&quot; }\r\n{ &quot;field&quot; : &quot;aaa&quot; }\r\n{ &quot;field&quot; : &quot;AAA&quot; }\r\n```\r\n\r\nSo with the following statement:\r\n\r\n```javascript\r\ndb.collection.aggregate([\r\n    { \r\n        &quot;$project&quot;: {\r\n            &quot;field&quot;: 1,\r\n            &quot;insensitive&quot;: { &quot;$toLower&quot;: &quot;$field&quot; }\r\n        }\r\n    },\r\n    { &quot;$sort&quot;: { &quot;insensitive&quot;: 1 } }\r\n])\r\n```\r\n\r\nWould produce results like:\r\n```json\r\n{\r\n    &quot;field&quot; : &quot;aaa&quot;,\r\n    &quot;insensitive&quot; : &quot;aaa&quot;\r\n},\r\n{\r\n    &quot;field&quot; : &quot;AAA&quot;,\r\n    &quot;insensitive&quot; : &quot;aaa&quot;\r\n},\r\n{\r\n    &quot;field&quot; : &quot;BBB&quot;,\r\n    &quot;insensitive&quot; : &quot;bbb&quot;\r\n}\r\n```\r\nThe actual order of insertion would be maintained for any values resulting in the same key when converted.","title":"Case insensitive sorting in MongoDB","body":"<p>Sorting does work like that in MongoDB but you can do this on the fly with aggregate:</p>\n<p>Take the following data:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{ &quot;field&quot; : &quot;BBB&quot; }\n{ &quot;field&quot; : &quot;aaa&quot; }\n{ &quot;field&quot; : &quot;AAA&quot; }\n</code></pre>\n<p>So with the following statement:</p>\n<pre class=\"lang-js prettyprint-override\"><code>db.collection.aggregate([\n    { \n        &quot;$project&quot;: {\n            &quot;field&quot;: 1,\n            &quot;insensitive&quot;: { &quot;$toLower&quot;: &quot;$field&quot; }\n        }\n    },\n    { &quot;$sort&quot;: { &quot;insensitive&quot;: 1 } }\n])\n</code></pre>\n<p>Would produce results like:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n    &quot;field&quot; : &quot;aaa&quot;,\n    &quot;insensitive&quot; : &quot;aaa&quot;\n},\n{\n    &quot;field&quot; : &quot;AAA&quot;,\n    &quot;insensitive&quot; : &quot;aaa&quot;\n},\n{\n    &quot;field&quot; : &quot;BBB&quot;,\n    &quot;insensitive&quot; : &quot;bbb&quot;\n}\n</code></pre>\n<p>The actual order of insertion would be maintained for any values resulting in the same key when converted.</p>\n"},{"tags":[],"owner":{"account_id":2919557,"reputation":7343,"user_id":2502126,"accept_rate":20,"display_name":"Buzz Moschetti"},"down_vote_count":2,"up_vote_count":3,"is_accepted":false,"score":1,"last_activity_date":1434300440,"creation_date":1434300305,"answer_id":30831958,"question_id":22931177,"body_markdown":"Here it is in Java.  I mixed no-args and first key-val variants of `BasicDBObject` just for variety\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n            DBCollection coll = db.getCollection(&quot;foo&quot;);\r\n\r\n            List&lt;DBObject&gt; pipe = new ArrayList&lt;DBObject&gt;();\r\n\r\n            DBObject prjflds = new BasicDBObject();\r\n            prjflds.put(&quot;field&quot;, 1);\r\n            prjflds.put(&quot;insensitive&quot;, new BasicDBObject(&quot;$toLower&quot;, &quot;$field&quot;));\r\n\r\n            DBObject project = new BasicDBObject();\r\n            project.put(&quot;$project&quot;, prjflds);\r\n            pipe.add(project);\r\n\r\n            DBObject sort = new BasicDBObject();\r\n            sort.put(&quot;$sort&quot;, new BasicDBObject(&quot;insensitive&quot;, 1));\r\n            pipe.add(sort);\r\n\r\n            AggregationOutput agg = coll.aggregate(pipe);\r\n\r\n            for (DBObject result : agg.results()) {\r\n\t\t        System.out.println(result);\r\n            }\r\n\r\n","title":"Case insensitive sorting in MongoDB","body":"<p>Here it is in Java.  I mixed no-args and first key-val variants of <code>BasicDBObject</code> just for variety</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>        DBCollection coll = db.getCollection(\"foo\");\n\n        List&lt;DBObject&gt; pipe = new ArrayList&lt;DBObject&gt;();\n\n        DBObject prjflds = new BasicDBObject();\n        prjflds.put(\"field\", 1);\n        prjflds.put(\"insensitive\", new BasicDBObject(\"$toLower\", \"$field\"));\n\n        DBObject project = new BasicDBObject();\n        project.put(\"$project\", prjflds);\n        pipe.add(project);\n\n        DBObject sort = new BasicDBObject();\n        sort.put(\"$sort\", new BasicDBObject(\"insensitive\", 1));\n        pipe.add(sort);\n\n        AggregationOutput agg = coll.aggregate(pipe);\n\n        for (DBObject result : agg.results()) {\n            System.out.println(result);\n        }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1097012,"reputation":14024,"user_id":1090395,"accept_rate":71,"display_name":"Mladen Janjetovic"},"down_vote_count":1,"up_vote_count":33,"is_accepted":false,"score":32,"last_activity_date":1571940510,"creation_date":1488291432,"answer_id":42511116,"question_id":22931177,"body_markdown":"This has been an [issue][1] for quite a long time on MongoDB JIRA, but it is solved now. Take a look at [this release notes for detailed documentation][2]. You should use `collation`.\r\n\r\n    User.find()\r\n        .collation({locale: &quot;en&quot; }) //or whatever collation you want\r\n        .sort({name:1})\r\n        .exec(function(err, users) {\r\n            // use your case insensitive sorted results\r\n        });\r\n\r\n\r\n  [1]: https://jira.mongodb.org/browse/SERVER-90\r\n  [2]: https://docs.mongodb.com/manual/reference/collation/","title":"Case insensitive sorting in MongoDB","body":"<p>This has been an <a href=\"https://jira.mongodb.org/browse/SERVER-90\" rel=\"noreferrer\">issue</a> for quite a long time on MongoDB JIRA, but it is solved now. Take a look at <a href=\"https://docs.mongodb.com/manual/reference/collation/\" rel=\"noreferrer\">this release notes for detailed documentation</a>. You should use <code>collation</code>.</p>\n\n<pre><code>User.find()\n    .collation({locale: \"en\" }) //or whatever collation you want\n    .sort({name:1})\n    .exec(function(err, users) {\n        // use your case insensitive sorted results\n    });\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7538054,"reputation":1,"user_id":5723726,"display_name":"Kevin Alviola"},"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1491539890,"creation_date":1491539890,"answer_id":43269750,"question_id":22931177,"body_markdown":"&lt;p&gt;We solve this problem with the help of .sort function in JavaScript array&lt;/p&gt;\r\n&lt;p&gt;Here is the code&lt;/p&gt;\r\n\r\n&lt;pre&gt;\r\n\r\n    function foo() {\r\n      let results = collections.find({\r\n        _id: _id\r\n      }, {\r\n        fields: {\r\n          &#39;username&#39;: 1,\r\n        }\r\n      }).fetch();\r\n    \r\n      results.sort((a, b)=&gt;{\r\n        var nameA = a.username.toUpperCase();\r\n        var nameB = b.username.toUpperCase();\r\n    \r\n        if (nameA &lt; nameB) {\r\n          return -1;\r\n        }\r\n        if (nameA &gt; nameB) {\r\n          return 1;\r\n        }\r\n        return 0;\r\n      });\r\n    \r\n      return results;\r\n    }\r\n\r\n&lt;/pre&gt;","title":"Case insensitive sorting in MongoDB","body":"<p>We solve this problem with the help of .sort function in JavaScript array</p>\n\n<p>Here is the code</p>\n\n<pre>\n\n    function foo() {\n      let results = collections.find({\n        _id: _id\n      }, {\n        fields: {\n          'username': 1,\n        }\n      }).fetch();\n\n      results.sort((a, b)=>{\n        var nameA = a.username.toUpperCase();\n        var nameB = b.username.toUpperCase();\n\n        if (nameA  nameB) {\n          return 1;\n        }\n        return 0;\n      });\n\n      return results;\n    }\n\n</pre>\n"},{"tags":[],"owner":{"account_id":4008101,"reputation":3126,"user_id":3370568,"accept_rate":100,"display_name":"Wajahath"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1547640943,"creation_date":1547640943,"answer_id":54216892,"question_id":22931177,"body_markdown":"As of now (mongodb 4), you can do the following:\r\n\r\nmongo shell:\r\n\r\n    db.getCollection(&#39;users&#39;)\r\n      .find({})\r\n      .collation({&#39;locale&#39;:&#39;en&#39;})\r\n      .sort({&#39;firstName&#39;:1});\r\n\r\n\r\nmongoose:\r\n\r\n    Users.find({})\r\n      .collation({locale: &quot;en&quot; })\r\n      .sort({name: 1})\r\n      .exec()\r\n      .then(...)\r\n\r\n\r\nHere are [supported languages and locales][1] by mongodb.\r\n\r\n\r\n  [1]: https://docs.mongodb.com/manual/reference/collation-locales-defaults/#collation-languages-locales","title":"Case insensitive sorting in MongoDB","body":"<p>As of now (mongodb 4), you can do the following:</p>\n\n<p>mongo shell:</p>\n\n<pre><code>db.getCollection('users')\n  .find({})\n  .collation({'locale':'en'})\n  .sort({'firstName':1});\n</code></pre>\n\n<p>mongoose:</p>\n\n<pre><code>Users.find({})\n  .collation({locale: \"en\" })\n  .sort({name: 1})\n  .exec()\n  .then(...)\n</code></pre>\n\n<p>Here are <a href=\"https://docs.mongodb.com/manual/reference/collation-locales-defaults/#collation-languages-locales\" rel=\"nofollow noreferrer\">supported languages and locales</a> by mongodb.</p>\n"},{"tags":[],"owner":{"account_id":14500314,"reputation":370,"user_id":10473693,"display_name":"Monu Chaudhary"},"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1553441467,"creation_date":1553437836,"answer_id":55324842,"question_id":22931177,"body_markdown":"Adding the code `.collation({&#39;locale&#39;:&#39;en&#39;})` helped to solve my issue. ","title":"Case insensitive sorting in MongoDB","body":"<p>Adding the code <code>.collation({'locale':'en'})</code> helped to solve my issue. </p>\n"},{"tags":[],"owner":{"account_id":15196364,"reputation":71,"user_id":10965564,"display_name":"G Boje Gowda"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1576489787,"creation_date":1576489787,"answer_id":59354090,"question_id":22931177,"body_markdown":"In  Mongoose:-\r\n\r\n    Customer.find()\r\n      .collation({locale: &quot;en&quot; })\r\n      .sort({comapany: 1})","title":"Case insensitive sorting in MongoDB","body":"<p>In  Mongoose:-</p>\n\n<pre><code>Customer.find()\n  .collation({locale: \"en\" })\n  .sort({comapany: 1})\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14354118,"reputation":169,"user_id":10368610,"display_name":"SANJEEV RAVI"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1583749313,"creation_date":1583745077,"answer_id":60597470,"question_id":22931177,"body_markdown":"Tried all the above and answers\r\n**Consolidating the result**\r\n       \r\nAnswer-1:\r\n\r\n    db.collection.aggregate([\r\n        { &quot;$project&quot;: {\r\n           &quot;field&quot;: 1,\r\n           &quot;insensitive&quot;: { &quot;$toLower&quot;: &quot;$field&quot; }\r\n        }},\r\n        { &quot;$sort&quot;: { &quot;insensitive&quot;: 1 } } ])\r\n\r\nAggregate query converts the field into lower, So performance is low for large data.\r\n\r\nAnswer-2:\r\n \r\n\r\n    db.collection.find({}).collation({locale: &quot;en&quot;}).sort({&quot;name&quot;:1})\r\nBy default mongo follows uft-8 encoding(Z has high piriority then a) rules ,So overriding with  language-specific rules. \r\nIts fast compare to above query\r\n Look into an official document to customize rules\r\n\r\nhttps://docs.mongodb.com/manual/reference/collation/\r\n \r\n","title":"Case insensitive sorting in MongoDB","body":"<p>Tried all the above and answers\n<strong>Consolidating the result</strong></p>\n\n<p>Answer-1:</p>\n\n<pre><code>db.collection.aggregate([\n    { \"$project\": {\n       \"field\": 1,\n       \"insensitive\": { \"$toLower\": \"$field\" }\n    }},\n    { \"$sort\": { \"insensitive\": 1 } } ])\n</code></pre>\n\n<p>Aggregate query converts the field into lower, So performance is low for large data.</p>\n\n<p>Answer-2:</p>\n\n<pre><code>db.collection.find({}).collation({locale: \"en\"}).sort({\"name\":1})\n</code></pre>\n\n<p>By default mongo follows uft-8 encoding(Z has high piriority then a) rules ,So overriding with  language-specific rules. \nIts fast compare to above query\n Look into an official document to customize rules</p>\n\n<p><a href=\"https://docs.mongodb.com/manual/reference/collation/\" rel=\"nofollow noreferrer\">https://docs.mongodb.com/manual/reference/collation/</a></p>\n"},{"tags":[],"owner":{"account_id":20688841,"reputation":33,"user_id":15190678,"display_name":"Renato Augusto"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1613051284,"creation_date":1613051284,"answer_id":66155990,"question_id":22931177,"body_markdown":"If you want to sort and return all data in a document, you can add `document: &quot;$$ROOT&quot;`\r\n\r\n```js\r\ndb.collection.aggregate([\r\n  { \r\n    $project: {\r\n      field: 1,\r\n      insensitive: { $toLower: &quot;$field&quot; },\r\n      document: &quot;$$ROOT&quot;\r\n    }\r\n  },\r\n  { $sort: { insensitive: 1 } }\r\n]).toArray()\r\n```","title":"Case insensitive sorting in MongoDB","body":"<p>If you want to sort and return all data in a document, you can add <code>document: &quot;$$ROOT&quot;</code></p>\n<pre class=\"lang-js prettyprint-override\"><code>db.collection.aggregate([\n  { \n    $project: {\n      field: 1,\n      insensitive: { $toLower: &quot;$field&quot; },\n      document: &quot;$$ROOT&quot;\n    }\n  },\n  { $sort: { insensitive: 1 } }\n]).toArray()\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9610722,"reputation":56,"user_id":7135157,"display_name":"Pankaj Patil"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692254967,"creation_date":1692254967,"answer_id":76919087,"question_id":22931177,"body_markdown":"MongoDB with Panache provided\r\n```\r\npublic &lt;T extends Entity&gt; ReactivePanacheQuery&lt;T&gt; withCollation(Collation collation); \r\n```\r\nmethod in `ReactivePanacheQuery` class.\r\nUsing this sorting the data with case-insensitive support can be achieved as follows. \r\n\r\n```\r\nrepo.find(query, sort).withCollation(Collation.builder().locale(&quot;en&quot;).build())\r\n```","title":"Case insensitive sorting in MongoDB","body":"<p>MongoDB with Panache provided</p>\n<pre><code>public &lt;T extends Entity&gt; ReactivePanacheQuery&lt;T&gt; withCollation(Collation collation); \n</code></pre>\n<p>method in <code>ReactivePanacheQuery</code> class.\nUsing this sorting the data with case-insensitive support can be achieved as follows.</p>\n<pre><code>repo.find(query, sort).withCollation(Collation.builder().locale(&quot;en&quot;).build())\n</code></pre>\n"}],"owner":{"account_id":4153466,"reputation":1035,"user_id":3405288,"accept_rate":50,"display_name":"Varun Kumar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":66404,"favorite_count":0,"down_vote_count":0,"up_vote_count":86,"accepted_answer_id":22931211,"answer_count":11,"score":86,"last_activity_date":1692254967,"creation_date":1396944504,"question_id":22931177,"body_markdown":"How can I sort a MongoDB collection by a given field, case-insensitively? By default, I get A-Z before a-z.\r\n\r\n\r\n","title":"Case insensitive sorting in MongoDB","body":"<p>How can I sort a MongoDB collection by a given field, case-insensitively? By default, I get A-Z before a-z.</p>\n"},{"tags":["java","list","function","arguments"],"answers":[{"tags":[],"owner":{"account_id":75807,"reputation":81445,"user_id":217332,"accept_rate":100,"display_name":"danben"},"down_vote_count":1,"up_vote_count":16,"is_accepted":false,"score":15,"last_activity_date":1265849803,"creation_date":1265849803,"answer_id":2241523,"question_id":2241514,"body_markdown":"The thing about generics in Java is that generic types are erased at runtime, so both of these methods compile to the same signature.  You will need to have separate method names, or check the type of the list elements at runtime.\r\n\r\n","title":"Overloading Java function with List&lt;&gt; parameter","body":"<p>The thing about generics in Java is that generic types are erased at runtime, so both of these methods compile to the same signature.  You will need to have separate method names, or check the type of the list elements at runtime.</p>\n"},{"tags":[],"owner":{"account_id":78982,"reputation":59009,"user_id":224346,"display_name":"Anon."},"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1265849887,"creation_date":1265849887,"answer_id":2241529,"question_id":2241514,"body_markdown":"Generics have what is known as *type erasure* - `List&lt;Customer&gt;` and `List&lt;Applicant&gt;` are the same type, the compiler just places compile-time restrictions on what you can do with them.\r\n\r\nYou could check the type of the first object in the list and call a (differently-named) internal method based on that.","title":"Overloading Java function with List&lt;&gt; parameter","body":"<p>Generics have what is known as <em>type erasure</em> - <code>List&lt;Customer&gt;</code> and <code>List&lt;Applicant&gt;</code> are the same type, the compiler just places compile-time restrictions on what you can do with them.</p>\n\n<p>You could check the type of the first object in the list and call a (differently-named) internal method based on that.</p>\n"},{"tags":[],"owner":{"account_id":7052,"reputation":48090,"user_id":12048,"accept_rate":94,"display_name":"finnw"},"down_vote_count":0,"up_vote_count":20,"is_accepted":true,"score":20,"last_activity_date":1265850974,"creation_date":1265850974,"answer_id":2241584,"question_id":2241514,"body_markdown":"If you make both classes implement a common interface,\r\n\r\n    interface CustomerNumber {\r\n        String getCustomerNumber();\r\n    }\r\n    \r\n    public class Customer implements CustomerNumber {\r\n      ...\r\n      public String getCustomerNumber();\r\n      ...\r\n    }\r\n    \r\n    public class Applicant implements CustomerNumber {\r\n       ....\r\n       private Customer c;\r\n       public Customer getCustomer() { return c; }\r\n       public String getCustomerNumber() { return getCustomer().getCustomerNumber(); }\r\n       ...\r\n    }\r\n\r\nthen you might be able to do what you want with just a single method:\r\n\r\n    public void processCustomerNumbers(List&lt;? extends CustomerNumber&gt; appList) {\r\n        for (Customer c: appList) {\r\n            processCustomerNumber(c.getCustomerNumber());\r\n        }\r\n    }\r\n\r\n","title":"Overloading Java function with List&lt;&gt; parameter","body":"<p>If you make both classes implement a common interface,</p>\n\n<pre><code>interface CustomerNumber {\n    String getCustomerNumber();\n}\n\npublic class Customer implements CustomerNumber {\n  ...\n  public String getCustomerNumber();\n  ...\n}\n\npublic class Applicant implements CustomerNumber {\n   ....\n   private Customer c;\n   public Customer getCustomer() { return c; }\n   public String getCustomerNumber() { return getCustomer().getCustomerNumber(); }\n   ...\n}\n</code></pre>\n\n<p>then you might be able to do what you want with just a single method:</p>\n\n<pre><code>public void processCustomerNumbers(List&lt;? extends CustomerNumber&gt; appList) {\n    for (Customer c: appList) {\n        processCustomerNumber(c.getCustomerNumber());\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":100446,"reputation":766,"user_id":270780,"accept_rate":75,"display_name":"PassionatedDeveloper"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1265857267,"creation_date":1265857267,"answer_id":2241965,"question_id":2241514,"body_markdown":"Before coming into the method names , the class hierarchy is little bit confusing...\r\n\r\n    public class Customer{          \r\n      ...          \r\n      public String getCustomerNumber();          \r\n      ...          \r\n    }          \r\n              \r\n    public class Applicant{          \r\n       ....          \r\n       private Customer c;          \r\n       public Customer getCustomer(){ return c; }          \r\n       ...          \r\n    }    \r\n\r\n&gt; Why should applicant and Customer be\r\n&gt; different objects ? Can you tell the\r\n&gt; relation between these objects ?\r\n\r\n\r\n\r\n      \r\n","title":"Overloading Java function with List&lt;&gt; parameter","body":"<p>Before coming into the method names , the class hierarchy is little bit confusing...</p>\n\n<pre><code>public class Customer{          \n  ...          \n  public String getCustomerNumber();          \n  ...          \n}          \n\npublic class Applicant{          \n   ....          \n   private Customer c;          \n   public Customer getCustomer(){ return c; }          \n   ...          \n}    \n</code></pre>\n\n<blockquote>\n  <p>Why should applicant and Customer be\n  different objects ? Can you tell the\n  relation between these objects ?</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1265863834,"creation_date":1265863834,"answer_id":2242346,"question_id":2241514,"body_markdown":"One way to workaround this issue would be to define custom list types like this:\r\n\r\n    class CustomerList extends ArrayList&lt;Customer&gt; {\r\n        ...\r\n    }\r\n\r\n    class ApplicantList extends ArrayList&lt;Applicant&gt; {\r\n        ...\r\n    }\r\n\r\nThen the following overloading would be legal:\r\n\r\n    public void processCustomerNumbers(CustomerList custList)\r\n\r\n    public void processCustomerNumbers(ApplicantList appList)\r\n\r\nHowever, I don&#39;t think that this would be a good idea.  For a start, it hardwires particular implementation classes into your application&#39;s APIs.\r\n\r\nA better approach is to define a common interface for Customer and Applicant that allows you to process them with one `processCustomerNumbers` method.  (As described at length in other answers.)","title":"Overloading Java function with List&lt;&gt; parameter","body":"<p>One way to workaround this issue would be to define custom list types like this:</p>\n\n<pre><code>class CustomerList extends ArrayList&lt;Customer&gt; {\n    ...\n}\n\nclass ApplicantList extends ArrayList&lt;Applicant&gt; {\n    ...\n}\n</code></pre>\n\n<p>Then the following overloading would be legal:</p>\n\n<pre><code>public void processCustomerNumbers(CustomerList custList)\n\npublic void processCustomerNumbers(ApplicantList appList)\n</code></pre>\n\n<p>However, I don't think that this would be a good idea.  For a start, it hardwires particular implementation classes into your application's APIs.</p>\n\n<p>A better approach is to define a common interface for Customer and Applicant that allows you to process them with one <code>processCustomerNumbers</code> method.  (As described at length in other answers.)</p>\n"},{"tags":[],"owner":{"account_id":11452778,"reputation":11,"user_id":8394747,"display_name":"Jacob"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1501512622,"creation_date":1501512622,"answer_id":45419082,"question_id":2241514,"body_markdown":"Use array instead.\r\n\r\n    public void processCustomerNumbers(Customer[] custList)\r\n    ...\r\n    \r\n    public void processCustomerNumbers(Applicant[] appList)\r\n    ...\r\n\r\nWhen you try to call these methods with a list, convert the list to array:\r\n\r\n    List&lt;Customer&gt; customers;\r\n    List&lt;Applicant&gt; applicants;\r\n    ...\r\n    processCustomerNumbers(customers.toArray(new Customer[]{});\r\n    processCustomerNumbers(applicants.toArray(new Applicant[]{});","title":"Overloading Java function with List&lt;&gt; parameter","body":"<p>Use array instead.</p>\n\n<pre><code>public void processCustomerNumbers(Customer[] custList)\n...\n\npublic void processCustomerNumbers(Applicant[] appList)\n...\n</code></pre>\n\n<p>When you try to call these methods with a list, convert the list to array:</p>\n\n<pre><code>List&lt;Customer&gt; customers;\nList&lt;Applicant&gt; applicants;\n...\nprocessCustomerNumbers(customers.toArray(new Customer[]{});\nprocessCustomerNumbers(applicants.toArray(new Applicant[]{});\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2440244,"reputation":645,"user_id":2128979,"accept_rate":70,"display_name":"Ashish Tanna"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692254842,"creation_date":1692254842,"answer_id":76919079,"question_id":2241514,"body_markdown":"I have found one easiest workaround for this problem with least modifications in code. You can use `List` and `Collection` in the parameter like this:\r\n\r\n    public void processCustomerNumbers(List&lt;Customer&gt; custList)\r\n    ...\r\n\r\n    public void processCustomerNumbers(Collection&lt;Applicant&gt; appList)\r\n    ...","title":"Overloading Java function with List&lt;&gt; parameter","body":"<p>I have found one easiest workaround for this problem with least modifications in code. You can use <code>List</code> and <code>Collection</code> in the parameter like this:</p>\n<pre><code>public void processCustomerNumbers(List&lt;Customer&gt; custList)\n...\n\npublic void processCustomerNumbers(Collection&lt;Applicant&gt; appList)\n...\n</code></pre>\n"}],"owner":{"account_id":19749,"reputation":2247,"user_id":46527,"accept_rate":85,"display_name":"MadMurf"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":21423,"favorite_count":0,"down_vote_count":0,"up_vote_count":18,"accepted_answer_id":2241584,"answer_count":7,"score":18,"last_activity_date":1692254842,"creation_date":1265849702,"question_id":2241514,"body_markdown":"I have 2 classes\r\n\r\n    public class Customer{\r\n      ...\r\n      public String getCustomerNumber();\r\n      ...\r\n    }\r\n    \r\n    public class Applicant{\r\n       ....\r\n       private Customer c;\r\n       public Customer getCustomer(){ return c; }\r\n       ...\r\n    }\r\n\r\nWhen presented with a list of customers or applicants I want a function which iterates the list and does something with the CustomerNumber.\r\n\r\nI&#39;ve tried overloading the function \r\n\r\n    public void processCustomerNumbers(List&lt;Customer&gt; custList)\r\n    ...\r\n    \r\n    public void processCustomerNumbers(List&lt;Applicant&gt; appList)\r\n    ...\r\n\r\nbut these are seen as duplicate methods... is there a nice way of doing this rather than just having 2 differently named functions?","title":"Overloading Java function with List&lt;&gt; parameter","body":"<p>I have 2 classes</p>\n\n<pre><code>public class Customer{\n  ...\n  public String getCustomerNumber();\n  ...\n}\n\npublic class Applicant{\n   ....\n   private Customer c;\n   public Customer getCustomer(){ return c; }\n   ...\n}\n</code></pre>\n\n<p>When presented with a list of customers or applicants I want a function which iterates the list and does something with the CustomerNumber.</p>\n\n<p>I've tried overloading the function </p>\n\n<pre><code>public void processCustomerNumbers(List&lt;Customer&gt; custList)\n...\n\npublic void processCustomerNumbers(List&lt;Applicant&gt; appList)\n...\n</code></pre>\n\n<p>but these are seen as duplicate methods... is there a nice way of doing this rather than just having 2 differently named functions?</p>\n"},{"tags":["java","android","android-recyclerview","android-room"],"owner":{"account_id":8936013,"reputation":27,"user_id":6666826,"display_name":"AMDIvailo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692254436,"creation_date":1692254436,"question_id":76919024,"body_markdown":"I&#39;m getting a mysterious crash, related to RecyclerView. It appeared in production and I can&#39;t reproduce it. It seems to occur very rarely and for some reason mostly on Samsung devices.\r\n\r\nHere is part of the stack trace:\r\n\r\n```\r\nFatal Exception: java.lang.IndexOutOfBoundsException\r\nInconsistency detected. Invalid item position 0(offset:0).state:4 androidx.recyclerview.widget.RecyclerView{39df388 VFED.V... ......ID 0,85-720,986 #7f0900c5 app:id/daily_tasks_recycler_view}, adapter:com.goaldriven.ui.dailytasks.DailyTaskAdapter@da45121, layout:androidx.recyclerview.widget.LinearLayoutManager@34c946, context:com.goaldriven.MainActivity@c4df606\r\n\r\nandroidx.recyclerview.widget.RecyclerView$Recycler.tryGetViewHolderForPositionByDeadline (RecyclerView.java:6183)\r\n```\r\n\r\nThis is the code where I&#39;m updating the ArrayList that&#39;s used by the adapter and then calling notifyDataSetChanged():\r\n\r\n```\r\npublic void loadDailyTasksFrom(LocalDate date, OnDailyTasksLoadedListener onDailyTasksLoadedListener) {\r\n    new Thread(() -&gt; {\r\n        if (backupHelper.isBackingUp()) {\r\n            return;\r\n        }\r\n        AppDatabase db = Room.databaseBuilder(getContext(), AppDatabase.class, &quot;app-database&quot;).build();\r\n        DailyTaskDao dailyTaskDao = db.dailyTaskDao();\r\n        dailyTasks.clear();\r\n        String dateSqlFormatted = String.format(&quot;%04d-%02d-%02d&quot;, date.getYear(), date.getMonthValue(), date.getDayOfMonth());\r\n        for (DailyTaskEntity dailyTaskEntity : dailyTaskDao.getDailyTasksFrom(dateSqlFormatted)) {\r\n            dailyTasks.add(DailyTask.fromEntity(dailyTaskEntity));\r\n        }\r\n        Handler handler = new Handler(getContext().getMainLooper());\r\n        handler.post(() -&gt; {\r\n            selectedDate = date;\r\n            updateHintState();\r\n            dailyTaskAdapter.notifyDataSetChanged();\r\n            if (onDailyTasksLoadedListener != null)\r\n                onDailyTasksLoadedListener.loaded();\r\n        });\r\n        db.close();\r\n    }).start();\r\n}\r\n```\r\n\r\nI&#39;m pretty new to android development and I don&#39;t even know if this is the right way of updating RecyclerView data. Can you guys spot something obvious that may be causing this crash?\r\n\r\nI can also provide the adapter code itself but I think it&#39;s irrelevant since it&#39;s a pretty standard adapter, populating a few text views.\r\n\r\nThank you in advance!\r\n","title":"Getting a RecyclerView crash in production - java.lang.IndexOutOfBoundsException Inconsistency detected","body":"<p>I'm getting a mysterious crash, related to RecyclerView. It appeared in production and I can't reproduce it. It seems to occur very rarely and for some reason mostly on Samsung devices.</p>\n<p>Here is part of the stack trace:</p>\n<pre><code>Fatal Exception: java.lang.IndexOutOfBoundsException\nInconsistency detected. Invalid item position 0(offset:0).state:4 androidx.recyclerview.widget.RecyclerView{39df388 VFED.V... ......ID 0,85-720,986 #7f0900c5 app:id/daily_tasks_recycler_view}, adapter:com.goaldriven.ui.dailytasks.DailyTaskAdapter@da45121, layout:androidx.recyclerview.widget.LinearLayoutManager@34c946, context:com.goaldriven.MainActivity@c4df606\n\nandroidx.recyclerview.widget.RecyclerView$Recycler.tryGetViewHolderForPositionByDeadline (RecyclerView.java:6183)\n</code></pre>\n<p>This is the code where I'm updating the ArrayList that's used by the adapter and then calling notifyDataSetChanged():</p>\n<pre><code>public void loadDailyTasksFrom(LocalDate date, OnDailyTasksLoadedListener onDailyTasksLoadedListener) {\n    new Thread(() -&gt; {\n        if (backupHelper.isBackingUp()) {\n            return;\n        }\n        AppDatabase db = Room.databaseBuilder(getContext(), AppDatabase.class, &quot;app-database&quot;).build();\n        DailyTaskDao dailyTaskDao = db.dailyTaskDao();\n        dailyTasks.clear();\n        String dateSqlFormatted = String.format(&quot;%04d-%02d-%02d&quot;, date.getYear(), date.getMonthValue(), date.getDayOfMonth());\n        for (DailyTaskEntity dailyTaskEntity : dailyTaskDao.getDailyTasksFrom(dateSqlFormatted)) {\n            dailyTasks.add(DailyTask.fromEntity(dailyTaskEntity));\n        }\n        Handler handler = new Handler(getContext().getMainLooper());\n        handler.post(() -&gt; {\n            selectedDate = date;\n            updateHintState();\n            dailyTaskAdapter.notifyDataSetChanged();\n            if (onDailyTasksLoadedListener != null)\n                onDailyTasksLoadedListener.loaded();\n        });\n        db.close();\n    }).start();\n}\n</code></pre>\n<p>I'm pretty new to android development and I don't even know if this is the right way of updating RecyclerView data. Can you guys spot something obvious that may be causing this crash?</p>\n<p>I can also provide the adapter code itself but I think it's irrelevant since it's a pretty standard adapter, populating a few text views.</p>\n<p>Thank you in advance!</p>\n"},{"tags":["java","audio","vlc","volume"],"owner":{"account_id":29236078,"reputation":1,"user_id":22398683,"display_name":"Kenemtef"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692254188,"creation_date":1692254188,"question_id":76918998,"body_markdown":"I&#39;m maintaining a java legacy project involving vlc.\r\n\r\nFor compatibility reasons, we have to do the following:\r\n\r\nWe place the VLC (almost) entire player in a subdirectory of our project, like this:\r\n[The VLC files](https://i.stack.imgur.com/MScBl.jpg)\r\n\r\nAnd from our java class constructor, we create a ProcessBuilder with the vlc.exe as command, and we create a Process by doing a ProcessBuilder.start().\r\n\r\nThen we create a printStream to send commands to vlc, and a BufferedReader to receive whatever vlc logs or prints on console. We also create and start a thread with that process.\r\n\r\nWhile running, we send commands to vlc with in.print() + in.flush(). Examples: &#171;in.print(&quot;video.mov\\n&quot;); in.flush();&#187; or &#171;in.print(&quot;play\\n&quot;); in.flush();&#187;\r\n\r\nAlmost all commands work fine. But the videos we are playing are playing sound at  0 volume. They are not muted, the volume value is zero. You can see in the following capture that the Windows Sound Control of the VLC player does not have the volume icon crossed out, it&#39;s just that the volume slider is at the zero step, at the bottom. But the sound, as represented by the little grey bar on the left of the slider, is being played:\r\n[Windows Sound Control](https://i.stack.imgur.com/w0RBq.jpg)\r\n\r\nThe one command that doesn&#39;t seem to work is setVolume. We try &#171;in.print(&quot;setVolume 100\\n&quot;); in.flush();&#187;. In the logs we always see an &quot;OK setVolume&quot;, but it&#39;s always followed by one or two &quot;simple volume changed: 0.000000, muting disabled&quot;, maybe not inmediately but less than 100 milliseconds and a few other instructions after the OK.\r\n\r\nIf we manually move the Windows Sound Slider, the audio volume adjusts accordingly, and in the logs we see one of this messages showing the volume on a per unit basis (example: We put the slider at the top, at the 100 step, we see at the log a &quot;simple volume changed: 1.000000, muting disabled&quot; line; if we put the slider at the 67 step, we see a &quot;simple volume changed: 0.670000, muting disabled&quot; line.\r\n\r\nWe have tried to send the setVolume command with a non-integer number also, for example &#171;in.print(&quot;setVolume 0.5&quot;); in.flush();&#187;, but it goes the same way: OK setVolume followed by simple volume changed: 0.000000\r\n\r\nIt&#39;s as if vlc reacted to a setVolume command by resetting the volume to zero again.\r\n\r\nHas anybody some clue about this behaviour of vlc?\r\n\r\nWe need to play the videos with sound. It&#39;s no use for us having to move the sound slider manually, we need to set the volume value from our application.\r\n\r\nThanks in advance.","title":"Can&#39;t set volume for vlc player","body":"<p>I'm maintaining a java legacy project involving vlc.</p>\n<p>For compatibility reasons, we have to do the following:</p>\n<p>We place the VLC (almost) entire player in a subdirectory of our project, like this:\n<a href=\"https://i.stack.imgur.com/MScBl.jpg\" rel=\"nofollow noreferrer\">The VLC files</a></p>\n<p>And from our java class constructor, we create a ProcessBuilder with the vlc.exe as command, and we create a Process by doing a ProcessBuilder.start().</p>\n<p>Then we create a printStream to send commands to vlc, and a BufferedReader to receive whatever vlc logs or prints on console. We also create and start a thread with that process.</p>\n<p>While running, we send commands to vlc with in.print() + in.flush(). Examples: in.print(&quot;video.mov\\n&quot;); in.flush(); or in.print(&quot;play\\n&quot;); in.flush();</p>\n<p>Almost all commands work fine. But the videos we are playing are playing sound at  0 volume. They are not muted, the volume value is zero. You can see in the following capture that the Windows Sound Control of the VLC player does not have the volume icon crossed out, it's just that the volume slider is at the zero step, at the bottom. But the sound, as represented by the little grey bar on the left of the slider, is being played:\n<a href=\"https://i.stack.imgur.com/w0RBq.jpg\" rel=\"nofollow noreferrer\">Windows Sound Control</a></p>\n<p>The one command that doesn't seem to work is setVolume. We try in.print(&quot;setVolume 100\\n&quot;); in.flush();. In the logs we always see an &quot;OK setVolume&quot;, but it's always followed by one or two &quot;simple volume changed: 0.000000, muting disabled&quot;, maybe not inmediately but less than 100 milliseconds and a few other instructions after the OK.</p>\n<p>If we manually move the Windows Sound Slider, the audio volume adjusts accordingly, and in the logs we see one of this messages showing the volume on a per unit basis (example: We put the slider at the top, at the 100 step, we see at the log a &quot;simple volume changed: 1.000000, muting disabled&quot; line; if we put the slider at the 67 step, we see a &quot;simple volume changed: 0.670000, muting disabled&quot; line.</p>\n<p>We have tried to send the setVolume command with a non-integer number also, for example in.print(&quot;setVolume 0.5&quot;); in.flush();, but it goes the same way: OK setVolume followed by simple volume changed: 0.000000</p>\n<p>It's as if vlc reacted to a setVolume command by resetting the volume to zero again.</p>\n<p>Has anybody some clue about this behaviour of vlc?</p>\n<p>We need to play the videos with sound. It's no use for us having to move the sound slider manually, we need to set the volume value from our application.</p>\n<p>Thanks in advance.</p>\n"},{"tags":["java","spring","spring-boot","tomcat","websecurity"],"answers":[{"tags":[],"owner":{"account_id":2669677,"reputation":384,"user_id":2307340,"display_name":"Sherif Mo Shalaby"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692253980,"creation_date":1692253980,"answer_id":76918980,"question_id":76913955,"body_markdown":"- So after deeper investigation and changing the log level to trace\r\nWe found out that spring.security.oauth2.resourceserver.jwt.issuer-uri &amp; spring.security.oauth2.resourceserver.jwt.jwk-set-uri starting from spring-boot 2.1.8 is no longer supporting http protocol ( on prod deployments )\r\n\r\n- So on prod environment u must use https instead, other wise you will get this 401 error instantly","title":"Upgrading springboot version from 2.1.7 to 2.1.8 websecurity issue - 401","body":"<ul>\n<li><p>So after deeper investigation and changing the log level to trace\nWe found out that spring.security.oauth2.resourceserver.jwt.issuer-uri &amp; spring.security.oauth2.resourceserver.jwt.jwk-set-uri starting from spring-boot 2.1.8 is no longer supporting http protocol ( on prod deployments )</p>\n</li>\n<li><p>So on prod environment u must use https instead, other wise you will get this 401 error instantly</p>\n</li>\n</ul>\n"}],"owner":{"account_id":2669677,"reputation":384,"user_id":2307340,"display_name":"Sherif Mo Shalaby"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1692253980,"creation_date":1692191730,"question_id":76913955,"body_markdown":"Upgrading from springboot v2.1.7 to v2.1.8, we hit an issue that all endpoints are giving now 401 without logging any errors.\r\n\r\n- To put in mind no other changes has been done, it`s only a version bump.\r\n\r\n- also to mention that locally when running the springboot app locally all run fine.\r\n and when deploying on the pre-production environment it just gives 401 for all endpoints \r\n\r\n      my machine is having ubuntu 22.04\r\n\r\n      pre-prod machine is having centos ~7.9\r\n\r\n      we are using java 8 and tomcat\r\n\r\nhere is how is our websecurity looks like ( this file hasn&#39;t been touched )\r\n```\r\n\r\nimport java.util.List;\r\n\r\nimport org.apache.log4j.Logger;\r\nimport org.springframework.beans.factory.annotation.Value;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\r\nimport org.springframework.security.config.annotation.web.builders.WebSecurity;\r\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\r\nimport org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter;\r\n\r\n@Configuration\r\n@EnableWebSecurity\r\npublic class WebSecurityConfig extends WebSecurityConfigurerAdapter {\r\n\r\n\tprivate static final Logger logger = Logger.getLogger(WebSecurityConfig.class);\r\n\r\n\t@Value(&quot;${roles}&quot;)\r\n\tpublic String roles;\r\n\r\n\t@Value(&quot;${security.allowed.ip}&quot;)\r\n\tprivate String allowedIp;\r\n\r\n\t@Value(&quot;${web.security.config.web.ignore.matchers}&quot;)\r\n\tprivate List&lt;String&gt; webIgnoreMatchers;\r\n\r\n\t@Value(&quot;${web.security.config.http.cors.matchers}&quot;)\r\n\tprivate List&lt;String&gt; httpCorsMatchers;\r\n\r\n\t@Override\r\n\tpublic void configure(WebSecurity web) {\r\n\t\ttry {\r\n\t\t\tweb.ignoring()\r\n\t\t\t\t\t.antMatchers(webIgnoreMatchers.stream().toArray(String[]::new));\r\n\t\t} catch (Exception e) {\r\n\t\t\tlogger.error(e.getMessage(), e);\r\n\t\t}\r\n\t}\r\n\r\n\t@Override\r\n\tprotected void configure(HttpSecurity http) {\r\n\t\ttry {\r\n\t\t\thttp.csrf().disable().cors().and().authorizeRequests()\r\n\t\t\t\t\t.antMatchers(&quot;/someendpoint&quot;).hasIpAddress(allowedIp)\r\n\t\t\t\t\t.antMatchers(httpCorsMatchers.stream().toArray(String[]::new))\r\n\t\t\t\t\t.permitAll()\r\n\t\t\t\t\t.mvcMatchers(&quot;/**&quot;)\r\n\t\t\t\t\t.hasAnyAuthority(roles).anyRequest().authenticated().and()\r\n\t\t\t\t\t.oauth2ResourceServer().jwt().jwtAuthenticationConverter(new CustomJwtAuthenticationConverter());\r\n\t\t} catch (Exception e) {\r\n\t\t\tlogger.error(e.getMessage(), e);\r\n\t\t}\r\n\t}\r\n\r\n}\r\n\r\n```","title":"Upgrading springboot version from 2.1.7 to 2.1.8 websecurity issue - 401","body":"<p>Upgrading from springboot v2.1.7 to v2.1.8, we hit an issue that all endpoints are giving now 401 without logging any errors.</p>\n<ul>\n<li><p>To put in mind no other changes has been done, it`s only a version bump.</p>\n</li>\n<li><p>also to mention that locally when running the springboot app locally all run fine.\nand when deploying on the pre-production environment it just gives 401 for all endpoints</p>\n<pre><code>my machine is having ubuntu 22.04\n\npre-prod machine is having centos ~7.9\n\nwe are using java 8 and tomcat\n</code></pre>\n</li>\n</ul>\n<p>here is how is our websecurity looks like ( this file hasn't been touched )</p>\n<pre><code>\nimport java.util.List;\n\nimport org.apache.log4j.Logger;\nimport org.springframework.beans.factory.annotation.Value;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\nimport org.springframework.security.config.annotation.web.builders.WebSecurity;\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\nimport org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter;\n\n@Configuration\n@EnableWebSecurity\npublic class WebSecurityConfig extends WebSecurityConfigurerAdapter {\n\n    private static final Logger logger = Logger.getLogger(WebSecurityConfig.class);\n\n    @Value(&quot;${roles}&quot;)\n    public String roles;\n\n    @Value(&quot;${security.allowed.ip}&quot;)\n    private String allowedIp;\n\n    @Value(&quot;${web.security.config.web.ignore.matchers}&quot;)\n    private List&lt;String&gt; webIgnoreMatchers;\n\n    @Value(&quot;${web.security.config.http.cors.matchers}&quot;)\n    private List&lt;String&gt; httpCorsMatchers;\n\n    @Override\n    public void configure(WebSecurity web) {\n        try {\n            web.ignoring()\n                    .antMatchers(webIgnoreMatchers.stream().toArray(String[]::new));\n        } catch (Exception e) {\n            logger.error(e.getMessage(), e);\n        }\n    }\n\n    @Override\n    protected void configure(HttpSecurity http) {\n        try {\n            http.csrf().disable().cors().and().authorizeRequests()\n                    .antMatchers(&quot;/someendpoint&quot;).hasIpAddress(allowedIp)\n                    .antMatchers(httpCorsMatchers.stream().toArray(String[]::new))\n                    .permitAll()\n                    .mvcMatchers(&quot;/**&quot;)\n                    .hasAnyAuthority(roles).anyRequest().authenticated().and()\n                    .oauth2ResourceServer().jwt().jwtAuthenticationConverter(new CustomJwtAuthenticationConverter());\n        } catch (Exception e) {\n            logger.error(e.getMessage(), e);\n        }\n    }\n\n}\n\n</code></pre>\n"},{"tags":["java","amazon-dynamodb"],"owner":{"account_id":4873288,"reputation":293,"user_id":3929110,"accept_rate":67,"display_name":"explorer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":15,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692253039,"creation_date":1692253039,"question_id":76918896,"body_markdown":"This is my table stucture. \r\n\r\n    @DynamoDBTable(tableName=&quot;my_table&quot;)\r\n    public class MyTable {\r\n        private Integer account_id;\r\n\r\n        // account_info is a list of kind [1234, &quot;account_name&quot;, 0.55]\r\n        private List&lt;Object&gt; account_info; \r\n\r\n    @DynamoDBHashKey()\r\n    public Integer getAccount_id() { \r\n        return account_id; \r\n    }\r\n    @DynamoDBAttribute\r\n    public List&lt;Object&gt; getAccount_info() {\r\n        return account_info;\r\n    } \r\n\r\nI am quite new to java and not able to understand how to write a mapper class for this. All the examples I have seem map it to a list of hashmap like [this][1] \r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/54992305/dynamodb-mapper-annotation-for-object-which-has-list-of-another-object","title":"Java - Retrive a list of heterogeneous data types from dynamodb","body":"<p>This is my table stucture.</p>\n<pre><code>@DynamoDBTable(tableName=&quot;my_table&quot;)\npublic class MyTable {\n    private Integer account_id;\n\n    // account_info is a list of kind [1234, &quot;account_name&quot;, 0.55]\n    private List&lt;Object&gt; account_info; \n\n@DynamoDBHashKey()\npublic Integer getAccount_id() { \n    return account_id; \n}\n@DynamoDBAttribute\npublic List&lt;Object&gt; getAccount_info() {\n    return account_info;\n} \n</code></pre>\n<p>I am quite new to java and not able to understand how to write a mapper class for this. All the examples I have seem map it to a list of hashmap like <a href=\"https://stackoverflow.com/questions/54992305/dynamodb-mapper-annotation-for-object-which-has-list-of-another-object\">this</a></p>\n"},{"tags":["java","android","firebase","google-cloud-firestore"],"answers":[{"tags":[],"owner":{"account_id":426109,"reputation":302012,"user_id":807126,"display_name":"Doug Stevenson"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1692252307,"creation_date":1692191435,"answer_id":76913909,"question_id":76913809,"body_markdown":"Your screenshot shows a collection called &quot;messages&quot; with three documents that don&#39;t actually exist.  You can tell they don&#39;t exist because they are in italics.  However, the console still shows them because they have nested subcollections (&quot;shivang&quot;) that still exist - the display of the missing document is required so that you can still see and navigate into that data.\r\n\r\nDeleting a document does not delete any nested subcollections.  You have to delete each nested document individually.\r\n\r\n[Read the documentation about this][1].\r\n\r\nSee also:\r\n\r\n- https://stackoverflow.com/questions/48137582/firestore-db-documents-shown-in-italics\r\n- https://stackoverflow.com/questions/52826365/parent-document-is-being-marked-as-deleted-italics-by-default\r\n- https://stackoverflow.com/questions/66954596/firestore-cant-delete-document\r\n\r\n  [1]: https://firebase.google.com/docs/firestore/using-console#non-existent_ancestor_documents","title":"document not deleting from Firebase Firestore in android Studio java","body":"<p>Your screenshot shows a collection called &quot;messages&quot; with three documents that don't actually exist.  You can tell they don't exist because they are in italics.  However, the console still shows them because they have nested subcollections (&quot;shivang&quot;) that still exist - the display of the missing document is required so that you can still see and navigate into that data.</p>\n<p>Deleting a document does not delete any nested subcollections.  You have to delete each nested document individually.</p>\n<p><a href=\"https://firebase.google.com/docs/firestore/using-console#non-existent_ancestor_documents\" rel=\"nofollow noreferrer\">Read the documentation about this</a>.</p>\n<p>See also:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/48137582/firestore-db-documents-shown-in-italics\">Firestore DB - documents shown in italics</a></li>\n<li><a href=\"https://stackoverflow.com/questions/52826365/parent-document-is-being-marked-as-deleted-italics-by-default\">Parent document is being marked as &quot;deleted&quot; (italics) by default</a></li>\n<li><a href=\"https://stackoverflow.com/questions/66954596/firestore-cant-delete-document\">Firestore: cant delete document</a></li>\n</ul>\n"}],"owner":{"account_id":29237004,"reputation":1,"user_id":22399444,"display_name":"Achal Jaiswal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1692252307,"creation_date":1692190823,"question_id":76913809,"body_markdown":"I am trying to delete user document from the firebase firestore , but neither deleting nor giving error, Although  task.isSuccessfull is working deleted toast is showing but data is not deleted in firestore.\r\n\r\nBelow is my database and code.\r\n\r\n    void clearAll() {\r\n    \r\n        FirebaseFirestore db = FirebaseFirestore.getInstance();\r\n    \r\n    \r\n    \r\n     db.collection(&quot;messeges&quot;).document(firebaseuser.getUid).delete().addOnCompleteListener(new OnCompleteListener&lt;Void&gt;() {\r\n            @Override\r\n            public void onComplete(@NonNull Task&lt;Void&gt; task) {\r\n                if(task.isSuccessful()){\r\n                    Toast.makeText(MainActivity.this, &quot;Deleted&quot;, Toast.LENGTH_SHORT).show();\r\n                }\r\n                else{\r\n                    Toast.makeText(MainActivity.this, &quot;Not Deleted&quot;, Toast.LENGTH_SHORT).show();\r\n                }\r\n            }\r\n        });\r\n    }\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/JLH3z.png","title":"document not deleting from Firebase Firestore in android Studio java","body":"<p>I am trying to delete user document from the firebase firestore , but neither deleting nor giving error, Although  task.isSuccessfull is working deleted toast is showing but data is not deleted in firestore.</p>\n<p>Below is my database and code.</p>\n<pre><code>void clearAll() {\n\n    FirebaseFirestore db = FirebaseFirestore.getInstance();\n\n\n\n db.collection(&quot;messeges&quot;).document(firebaseuser.getUid).delete().addOnCompleteListener(new OnCompleteListener&lt;Void&gt;() {\n        @Override\n        public void onComplete(@NonNull Task&lt;Void&gt; task) {\n            if(task.isSuccessful()){\n                Toast.makeText(MainActivity.this, &quot;Deleted&quot;, Toast.LENGTH_SHORT).show();\n            }\n            else{\n                Toast.makeText(MainActivity.this, &quot;Not Deleted&quot;, Toast.LENGTH_SHORT).show();\n            }\n        }\n    });\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/JLH3z.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/JLH3z.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","sftp","ftp-client","ftp4j"],"answers":[{"tags":[],"owner":{"account_id":453710,"reputation":192083,"user_id":850848,"accept_rate":80,"display_name":"Martin Prikryl"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1690983239,"creation_date":1690983239,"answer_id":76820440,"question_id":76819884,"body_markdown":"FTPES is not SFTP. You cannot use FTP(E(S)) library to connect to an SFTP server. FTP and SFTP are two completely different protocols.\r\n\r\nYou have to use an SFTP library. See https://stackoverflow.com/q/2346764/850848","title":"Problems with connecting with it.sauronsoftware.ftp4j.FTPClient to SFTP","body":"<p>FTPES is not SFTP. You cannot use FTP(E(S)) library to connect to an SFTP server. FTP and SFTP are two completely different protocols.</p>\n<p>You have to use an SFTP library. See <a href=\"https://stackoverflow.com/q/2346764/850848\">Java SFTP Transfer Library</a></p>\n"}],"owner":{"account_id":22540680,"reputation":1,"user_id":16731272,"display_name":"SAFSAF SAFSAF"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":84,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1692252303,"creation_date":1690979209,"question_id":76819884,"body_markdown":"I am having problems connecting with `it.sauronsoftware.ftp4j.FTPClient`.\r\n\r\nI want to use SFTP but always get errors.\r\n\r\n* If I use:\r\n    ```\r\n    sftpClient.setSecurity(FTPClient.SECURITY_FTPES)\r\n    ```\r\n\r\n    I get:\r\n    `ERROR c.l.datamanager.Ftp4jFTPTask - it.sauronsoftware.ftp4j.FTPIllegalReplyException\r\n    ERROR c.l.datamanager.Ftp4jFTPTask - java.lang.IllegalStateException: Client not connected`\r\n\r\n* If I use\r\n    ```\r\n    sftpClient.setSecurity(FTPClient.SECURITY_FTPS);\r\n    ```\r\n\r\n    I get:\r\n    `ERROR c.l.datamanager.Ftp4jFTPTask - javax.net.ssl.SSLException: Unsupported or unrecognized SSL message\r\nc.l.datamanager.Ftp4jFTPTask - java.lang.IllegalStateException: Client not connected`\r\n\r\nPlease let me know how I can use SFTP in `it.sauronsoftware.ftp4j.FTPClient`.\r\n","title":"Problems with connecting with it.sauronsoftware.ftp4j.FTPClient to SFTP","body":"<p>I am having problems connecting with <code>it.sauronsoftware.ftp4j.FTPClient</code>.</p>\n<p>I want to use SFTP but always get errors.</p>\n<ul>\n<li><p>If I use:</p>\n<pre><code>sftpClient.setSecurity(FTPClient.SECURITY_FTPES)\n</code></pre>\n<p>I get:\n<code>ERROR c.l.datamanager.Ftp4jFTPTask - it.sauronsoftware.ftp4j.FTPIllegalReplyException ERROR c.l.datamanager.Ftp4jFTPTask - java.lang.IllegalStateException: Client not connected</code></p>\n</li>\n<li><p>If I use</p>\n<pre><code>sftpClient.setSecurity(FTPClient.SECURITY_FTPS);\n</code></pre>\n<p>I get:\n<code>ERROR c.l.datamanager.Ftp4jFTPTask - javax.net.ssl.SSLException: Unsupported or unrecognized SSL message c.l.datamanager.Ftp4jFTPTask - java.lang.IllegalStateException: Client not connected</code></p>\n</li>\n</ul>\n<p>Please let me know how I can use SFTP in <code>it.sauronsoftware.ftp4j.FTPClient</code>.</p>\n"},{"tags":["java","eclipse-plugin","osgi-bundle","eclipse-jdt"],"answers":[{"tags":[],"owner":{"account_id":3159259,"reputation":109666,"user_id":2670892,"display_name":"greg-449"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1422629505,"creation_date":1422629505,"answer_id":28238437,"question_id":28238134,"body_markdown":"It is just `org.w3c.dom.events` that can&#39;t be resolved. \r\n\r\nYou should have a `org.w3c.dom.events` plugin.\r\n\r\nIf you are setting up a target platform for plugin development the easiest thing to use is everything in the &#39;Eclipse SDK&#39; download form http://download.eclipse.org/eclipse/downloads/","title":"org.osgi.framework.BundleException: Could not resolve module","body":"<p>It is just <code>org.w3c.dom.events</code> that can't be resolved. </p>\n\n<p>You should have a <code>org.w3c.dom.events</code> plugin.</p>\n\n<p>If you are setting up a target platform for plugin development the easiest thing to use is everything in the 'Eclipse SDK' download form <a href=\"http://download.eclipse.org/eclipse/downloads/\" rel=\"nofollow\">http://download.eclipse.org/eclipse/downloads/</a></p>\n"},{"tags":[],"owner":{"account_id":933685,"reputation":230,"user_id":963029,"display_name":"Alexander Baier"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1439889020,"creation_date":1439889020,"answer_id":32068157,"question_id":28238134,"body_markdown":"I faced the same problem. It turned out, I was missing the org.w3c.dom.events plugin in my dependencies in my product file or launch configuration.","title":"org.osgi.framework.BundleException: Could not resolve module","body":"<p>I faced the same problem. It turned out, I was missing the org.w3c.dom.events plugin in my dependencies in my product file or launch configuration.</p>\n"},{"tags":[],"owner":{"account_id":2374153,"reputation":884,"user_id":2078000,"display_name":"mnutsch"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1614013296,"creation_date":1614013296,"answer_id":66320098,"question_id":28238134,"body_markdown":"I had this issue despite the module being present. I found that it was a caching problem in Windows. \r\n\r\nI deleted the contents of: C:/users/UserName/.eclipse\r\n\r\nAfterwards, Eclipse started fine.","title":"org.osgi.framework.BundleException: Could not resolve module","body":"<p>I had this issue despite the module being present. I found that it was a caching problem in Windows.</p>\n<p>I deleted the contents of: C:/users/UserName/.eclipse</p>\n<p>Afterwards, Eclipse started fine.</p>\n"},{"tags":[],"owner":{"account_id":16493874,"reputation":51,"user_id":11916929,"display_name":"deepak yadav"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1648736006,"creation_date":1648619071,"answer_id":71672072,"question_id":28238134,"body_markdown":"for JMC 8 The minimum JDK requirement is version=8, for JMC 8.1 The minimum JDK requirement is version=11\r\n\r\nyou are facing this issue because you are trying to open JMC 8.1 with JDK 8. Install JMC version 8 then your issue will resolve.","title":"org.osgi.framework.BundleException: Could not resolve module","body":"<p>for JMC 8 The minimum JDK requirement is version=8, for JMC 8.1 The minimum JDK requirement is version=11</p>\n<p>you are facing this issue because you are trying to open JMC 8.1 with JDK 8. Install JMC version 8 then your issue will resolve.</p>\n"},{"tags":[],"owner":{"account_id":28662957,"reputation":14,"user_id":21947535,"display_name":"jnrdvlpr"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1692252294,"creation_date":1692186283,"answer_id":76913236,"question_id":28238134,"body_markdown":"Had a similar problem for a different plugin. \r\n\r\nHere is my error:\r\n\r\n**eclipse org.osgi.framework.BundleException: Could not resolve module: oracle.eclipse.tools.jaxrs.v11**\r\n\r\nI use java 8 and 17 together in my system. So when I add the below field to my eclipse.ini file, it solved the problem for me:\r\n```none\r\n-vm\r\n\r\nC:/Program Files/Java/jdk1.8.0_341/bin/javaw.exe (That should be your own jdk path)\r\n```\r\nI hope it helps people who are currently dealing with similar issues.","title":"org.osgi.framework.BundleException: Could not resolve module","body":"<p>Had a similar problem for a different plugin.</p>\n<p>Here is my error:</p>\n<p><strong>eclipse org.osgi.framework.BundleException: Could not resolve module: oracle.eclipse.tools.jaxrs.v11</strong></p>\n<p>I use java 8 and 17 together in my system. So when I add the below field to my eclipse.ini file, it solved the problem for me:</p>\n<pre class=\"lang-none prettyprint-override\"><code>-vm\n\nC:/Program Files/Java/jdk1.8.0_341/bin/javaw.exe (That should be your own jdk path)\n</code></pre>\n<p>I hope it helps people who are currently dealing with similar issues.</p>\n"}],"owner":{"account_id":214240,"reputation":687,"user_id":468101,"accept_rate":67,"display_name":"Dreiven"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":54631,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"answer_count":5,"score":8,"last_activity_date":1692252294,"creation_date":1422628474,"question_id":28238134,"body_markdown":"I&#39;m trying to setup my eclipse plugin development target and receive the following error multiple times:\r\n\r\n    !ENTRY org.eclipse.e4.ui.css.swt 4 0 2015-01-30 15:15:06.879\r\n    !MESSAGE FrameworkEvent ERROR\r\n    !STACK 0\r\n    org.osgi.framework.BundleException: Could not resolve module: org.eclipse.e4.ui.css.swt [955]\r\n    Unresolved requirement: Require-Bundle: org.eclipse.e4.ui.css.core; bundle-version=&quot;0.9.0&quot;\r\n    -&gt; Bundle-SymbolicName: org.eclipse.e4.ui.css.core; bundle-version=&quot;0.10.100.v20140424-2042&quot;; singleton:=&quot;true&quot;\r\n       org.eclipse.e4.ui.css.core [1134]\r\n         Unresolved requirement: Require-Bundle: org.apache.batik.css; bundle-version=&quot;1.7.0&quot;\r\n           -&gt; Bundle-SymbolicName: org.apache.batik.css; bundle-version=&quot;1.7.0.v201011041433&quot;\r\n              org.apache.batik.css [1177]\r\n                Unresolved requirement: Import-Package: org.w3c.dom.events; version=&quot;[3.0.0,4.0.0)&quot;\r\n\r\nDoes this mean that none of these plugins can be resolved, or just not the last one `org.w3c.dom.events` or is this a result from the mismatch of the bundle versions of `org.eclipse.e4.ui.css.core`?","title":"org.osgi.framework.BundleException: Could not resolve module","body":"<p>I'm trying to setup my eclipse plugin development target and receive the following error multiple times:</p>\n\n<pre><code>!ENTRY org.eclipse.e4.ui.css.swt 4 0 2015-01-30 15:15:06.879\n!MESSAGE FrameworkEvent ERROR\n!STACK 0\norg.osgi.framework.BundleException: Could not resolve module: org.eclipse.e4.ui.css.swt [955]\nUnresolved requirement: Require-Bundle: org.eclipse.e4.ui.css.core; bundle-version=\"0.9.0\"\n-&gt; Bundle-SymbolicName: org.eclipse.e4.ui.css.core; bundle-version=\"0.10.100.v20140424-2042\"; singleton:=\"true\"\n   org.eclipse.e4.ui.css.core [1134]\n     Unresolved requirement: Require-Bundle: org.apache.batik.css; bundle-version=\"1.7.0\"\n       -&gt; Bundle-SymbolicName: org.apache.batik.css; bundle-version=\"1.7.0.v201011041433\"\n          org.apache.batik.css [1177]\n            Unresolved requirement: Import-Package: org.w3c.dom.events; version=\"[3.0.0,4.0.0)\"\n</code></pre>\n\n<p>Does this mean that none of these plugins can be resolved, or just not the last one <code>org.w3c.dom.events</code> or is this a result from the mismatch of the bundle versions of <code>org.eclipse.e4.ui.css.core</code>?</p>\n"},{"tags":["java","apache-kafka","kafka-consumer-api"],"comments":[{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1540051559,"post_id":52888094,"comment_id":92725881,"body_markdown":"Why is the needed output tabbed differently?","body":"Why is the needed output tabbed differently?"},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1540051654,"post_id":52888094,"comment_id":92725907,"body_markdown":"The Kafka offset command also runs Java (actually Scala), and the source code for it is on Github, if you just want to reproduce it","body":"The Kafka offset command also runs Java (actually Scala), and the source code for it is on Github, if you just want to reproduce it"},{"owner":{"account_id":2296191,"reputation":2082,"user_id":2017567,"display_name":"Christophe Quintard"},"score":0,"creation_date":1668504888,"post_id":52888094,"comment_id":131415469,"body_markdown":"Does this answer your question? [How to get kafka consume lag in java program](https://stackoverflow.com/questions/42201616/how-to-get-kafka-consume-lag-in-java-program)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/42201616/how-to-get-kafka-consume-lag-in-java-program\">How to get kafka consume lag in java program</a>"}],"answers":[{"tags":[],"owner":{"account_id":1964595,"reputation":25422,"user_id":1765189,"display_name":"Mickael Maison"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1540067909,"creation_date":1540067909,"answer_id":52909914,"question_id":52888094,"body_markdown":"To reproduce the `kafka-consumer-groups` functionality, you need both a Consumer and an AdminClient instance.\r\n\r\nFirst, use the AdminClient, you can call [`listConsumerGroupOffsets()`][2] to retrieve the list of topic-partitions and the committed offsets for a specific group.\r\n\r\nThen use a Consumer to get the End offsets for these partitions. The method you used is inefficient, there&#39;s no need to assign and seek to the end offset. You can simply call [`endOffsets()`][1].\r\n\r\nThat is enough for reproducing the data contained in your screenshot.\r\n\r\n`kafka-consumer-groups` also uses [`AdminClient.describeConsumerGroups()`][3] to print the group member assigned (if any) to each partition.\r\n\r\n\r\n  [1]: http://kafka.apache.org/20/javadoc/org/apache/kafka/clients/consumer/KafkaConsumer.html#endOffsets-java.util.Collection-\r\n  [2]: http://kafka.apache.org/20/javadoc/org/apache/kafka/clients/admin/AdminClient.html#listConsumerGroupOffsets-java.lang.String-\r\n  [3]: http://kafka.apache.org/20/javadoc/org/apache/kafka/clients/admin/AdminClient.html#describeConsumerGroups-java.util.Collection-","title":"how to get kafka lag using java","body":"<p>To reproduce the <code>kafka-consumer-groups</code> functionality, you need both a Consumer and an AdminClient instance.</p>\n\n<p>First, use the AdminClient, you can call <a href=\"http://kafka.apache.org/20/javadoc/org/apache/kafka/clients/admin/AdminClient.html#listConsumerGroupOffsets-java.lang.String-\" rel=\"noreferrer\"><code>listConsumerGroupOffsets()</code></a> to retrieve the list of topic-partitions and the committed offsets for a specific group.</p>\n\n<p>Then use a Consumer to get the End offsets for these partitions. The method you used is inefficient, there's no need to assign and seek to the end offset. You can simply call <a href=\"http://kafka.apache.org/20/javadoc/org/apache/kafka/clients/consumer/KafkaConsumer.html#endOffsets-java.util.Collection-\" rel=\"noreferrer\"><code>endOffsets()</code></a>.</p>\n\n<p>That is enough for reproducing the data contained in your screenshot.</p>\n\n<p><code>kafka-consumer-groups</code> also uses <a href=\"http://kafka.apache.org/20/javadoc/org/apache/kafka/clients/admin/AdminClient.html#describeConsumerGroups-java.util.Collection-\" rel=\"noreferrer\"><code>AdminClient.describeConsumerGroups()</code></a> to print the group member assigned (if any) to each partition.</p>\n"},{"tags":[],"owner":{"account_id":4496522,"reputation":563,"user_id":3656203,"display_name":"GSK"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1575441580,"creation_date":1575441580,"answer_id":59170238,"question_id":52888094,"body_markdown":"You can have LAG by getting EndOffset from consumer\r\n\r\n    Set&lt;TopicPartition&gt; partitionSet = consumer.assignment();\r\n    Map&lt;TopicPartition, Long&gt; endOffsets =consumer.endOffsets(consumer.assignment());\r\n\r\nthen iterate where over set\r\n\r\n    for(TopicPartition tp : partitionSet) { LOG.info(&quot;Topic :: {} ,EndOffset :: {}, currentOffset {}&quot;,tp.topic(),beginningOffsets.get(tp),endOffsets.get(tp), consumer.position(tp)); }\r\n\r\nconsumer.position(tp) -- will get you current offset, subtract this from endoffset , you get LAG\r\n","title":"how to get kafka lag using java","body":"<p>You can have LAG by getting EndOffset from consumer</p>\n\n<pre><code>Set&lt;TopicPartition&gt; partitionSet = consumer.assignment();\nMap&lt;TopicPartition, Long&gt; endOffsets =consumer.endOffsets(consumer.assignment());\n</code></pre>\n\n<p>then iterate where over set</p>\n\n<pre><code>for(TopicPartition tp : partitionSet) { LOG.info(\"Topic :: {} ,EndOffset :: {}, currentOffset {}\",tp.topic(),beginningOffsets.get(tp),endOffsets.get(tp), consumer.position(tp)); }\n</code></pre>\n\n<p>consumer.position(tp) -- will get you current offset, subtract this from endoffset , you get LAG</p>\n"},{"tags":[],"owner":{"account_id":29237514,"reputation":1,"user_id":22399844,"display_name":"user22399844"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692252239,"creation_date":1692194569,"answer_id":76914350,"question_id":52888094,"body_markdown":"```java\r\nprivate static long calculateTopicLag(Properties properties, String topic, String consumerGroup) {\r\n        try (AdminClient adminClient = AdminClient.create(properties)) {\r\n            ListConsumerGroupOffsetsResult groupOffsetsResult = adminClient.listConsumerGroupOffsets(consumerGroup);\r\n            Map&lt;TopicPartition, OffsetAndMetadata&gt; offsets = groupOffsetsResult.partitionsToOffsetAndMetadata().get();\r\n\r\n            long topicLag = 0;\r\n            for (Map.Entry&lt;TopicPartition, OffsetAndMetadata&gt; entry : offsets.entrySet()) {\r\n                TopicPartition topicPartition = entry.getKey();\r\n                long consumerOffset = entry.getValue().offset();\r\n\r\n                KafkaConsumer&lt;?, ?&gt; consumer = new KafkaConsumer&lt;&gt;(properties);\r\n                consumer.assign(Collections.singletonList(topicPartition));\r\n                long endOffset = consumer.endOffsets(Collections.singletonList(topicPartition)).get(topicPartition);\r\n                consumer.close();\r\n\r\n                long partitionLag = endOffset - consumerOffset;\r\n                topicLag += partitionLag;\r\n            }\r\n\r\n            return topicLag;\r\n        } catch (InterruptedException | ExecutionException e) {\r\n            e.printStackTrace();\r\n            return -1;\r\n        }\r\n    }\r\n```","title":"how to get kafka lag using java","body":"<pre class=\"lang-java prettyprint-override\"><code>private static long calculateTopicLag(Properties properties, String topic, String consumerGroup) {\n        try (AdminClient adminClient = AdminClient.create(properties)) {\n            ListConsumerGroupOffsetsResult groupOffsetsResult = adminClient.listConsumerGroupOffsets(consumerGroup);\n            Map&lt;TopicPartition, OffsetAndMetadata&gt; offsets = groupOffsetsResult.partitionsToOffsetAndMetadata().get();\n\n            long topicLag = 0;\n            for (Map.Entry&lt;TopicPartition, OffsetAndMetadata&gt; entry : offsets.entrySet()) {\n                TopicPartition topicPartition = entry.getKey();\n                long consumerOffset = entry.getValue().offset();\n\n                KafkaConsumer&lt;?, ?&gt; consumer = new KafkaConsumer&lt;&gt;(properties);\n                consumer.assign(Collections.singletonList(topicPartition));\n                long endOffset = consumer.endOffsets(Collections.singletonList(topicPartition)).get(topicPartition);\n                consumer.close();\n\n                long partitionLag = endOffset - consumerOffset;\n                topicLag += partitionLag;\n            }\n\n            return topicLag;\n        } catch (InterruptedException | ExecutionException e) {\n            e.printStackTrace();\n            return -1;\n        }\n    }\n</code></pre>\n"}],"owner":{"account_id":14567699,"reputation":31,"user_id":10521876,"display_name":"Ardiel"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4524,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":3,"score":2,"last_activity_date":1692252239,"creation_date":1539935857,"question_id":52888094,"body_markdown":"I have currently developed a code that would display the topic, partition, and log offset. But I am currently stuck on how to get the Lag of a partition. I know that there is a kafka offset command that does this function but what I need is a java code. \r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    public static void main(String[] args) throws Exception {\r\n        System.out.println(&quot;START CONSUMER&quot;);final Properties props = new Properties();\r\n        props.put(ConsumerConfig.KEY_DESERIALIZER_CLASS_CONFIG, StringDeserializer.class.getName());\r\n        props.put(ConsumerConfig.VALUE_DESERIALIZER_CLASS_CONFIG, StringDeserializer.class.getName());\r\n        props.put(CommonClientConfigs.SECURITY_PROTOCOL_CONFIG, &quot;SASL_PLAINTEXT&quot;);\r\n        props.put(ConsumerConfig.BOOTSTRAP_SERVERS_CONFIG, BOOTSTRAP_SERVERS);\r\n        props.put(ConsumerConfig.GROUP_ID_CONFIG, GROUPID);\r\n        props.put(ConsumerConfig.AUTO_OFFSET_RESET_CONFIG, &quot;latest&quot;);\r\n        props.put(ConsumerConfig.ENABLE_AUTO_COMMIT_CONFIG, &quot;false&quot;);\r\n\r\n        // Create the consumer using props.\r\n        final Consumer&lt;Long, String&gt; consumer =  new KafkaConsumer&lt;&gt;(props);\r\n       \r\n        // Subscribe to the topic.\r\n        int i = 0;\r\n        ArrayList&lt;TopicPartition&gt; partitions = new ArrayList&lt;TopicPartition&gt;();\r\n        for (i=0;i&lt;consumer.partitionsFor(TOPIC).size();i++)\r\n        {\r\n            TopicPartition partitiontemp = new TopicPartition(TOPIC, i);\r\n            partitions.add(partitiontemp);\r\n        }\r\n        consumer.assign(partitions);\r\n        consumer.seekToEnd(partitions);\r\n\r\n        for (i=0;i&lt;consumer.partitionsFor(TOPIC).size();i++)\r\n        {\r\n            System.out.printf(&quot;Topic: %s partitionID: %d log offset: %d \\n&quot;, TOPIC, i, consumer.position(partitions.get(i)));\r\n        }\r\n\r\n        System.out.printf(&quot;CREATE CONSUMER DONE&quot;);\r\n        consumer.close();\r\n\r\n\r\n![This is the output of my code][1]\r\n\r\nWhat I need to do is to output the topic, partition, current offset, log offset, and lag. How can I get the lag for my code or how can I get the current offset for my code. (see image for needed output).\r\n\r\n![Needed output][2]\r\n\r\nNOTE: I cannot use the (foreach record) functionality because I must not read each record in the input file.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/yo5UZ.png\r\n  [2]: https://i.stack.imgur.com/oRsH4.png","title":"how to get kafka lag using java","body":"<p>I have currently developed a code that would display the topic, partition, and log offset. But I am currently stuck on how to get the Lag of a partition. I know that there is a kafka offset command that does this function but what I need is a java code. </p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] args) throws Exception {\n    System.out.println(\"START CONSUMER\");final Properties props = new Properties();\n    props.put(ConsumerConfig.KEY_DESERIALIZER_CLASS_CONFIG, StringDeserializer.class.getName());\n    props.put(ConsumerConfig.VALUE_DESERIALIZER_CLASS_CONFIG, StringDeserializer.class.getName());\n    props.put(CommonClientConfigs.SECURITY_PROTOCOL_CONFIG, \"SASL_PLAINTEXT\");\n    props.put(ConsumerConfig.BOOTSTRAP_SERVERS_CONFIG, BOOTSTRAP_SERVERS);\n    props.put(ConsumerConfig.GROUP_ID_CONFIG, GROUPID);\n    props.put(ConsumerConfig.AUTO_OFFSET_RESET_CONFIG, \"latest\");\n    props.put(ConsumerConfig.ENABLE_AUTO_COMMIT_CONFIG, \"false\");\n\n    // Create the consumer using props.\n    final Consumer&lt;Long, String&gt; consumer =  new KafkaConsumer&lt;&gt;(props);\n\n    // Subscribe to the topic.\n    int i = 0;\n    ArrayList&lt;TopicPartition&gt; partitions = new ArrayList&lt;TopicPartition&gt;();\n    for (i=0;i&lt;consumer.partitionsFor(TOPIC).size();i++)\n    {\n        TopicPartition partitiontemp = new TopicPartition(TOPIC, i);\n        partitions.add(partitiontemp);\n    }\n    consumer.assign(partitions);\n    consumer.seekToEnd(partitions);\n\n    for (i=0;i&lt;consumer.partitionsFor(TOPIC).size();i++)\n    {\n        System.out.printf(\"Topic: %s partitionID: %d log offset: %d \\n\", TOPIC, i, consumer.position(partitions.get(i)));\n    }\n\n    System.out.printf(\"CREATE CONSUMER DONE\");\n    consumer.close();\n</code></pre>\n\n<p><img src=\"https://i.stack.imgur.com/yo5UZ.png\" alt=\"This is the output of my code\"></p>\n\n<p>What I need to do is to output the topic, partition, current offset, log offset, and lag. How can I get the lag for my code or how can I get the current offset for my code. (see image for needed output).</p>\n\n<p><img src=\"https://i.stack.imgur.com/oRsH4.png\" alt=\"Needed output\"></p>\n\n<p>NOTE: I cannot use the (foreach record) functionality because I must not read each record in the input file.</p>\n"},{"tags":["java","amazon-web-services","amazon-s3"],"comments":[{"owner":{"account_id":5964120,"reputation":4275,"user_id":4688321,"display_name":"kiner_shah"},"score":0,"creation_date":1640158052,"post_id":70445528,"comment_id":124526364,"body_markdown":"I don&#39;t think you can do this. S3 is just a storage service - either you can upload, download or remove objects from S3 - but not sure if there is any way which I don&#39;t know.","body":"I don&#39;t think you can do this. S3 is just a storage service - either you can upload, download or remove objects from S3 - but not sure if there is any way which I don&#39;t know."},{"owner":{"account_id":213468,"reputation":103489,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1640183701,"post_id":70445528,"comment_id":124535642,"body_markdown":"What do you mean with &quot;downloading&quot;? You will need to download the file content to process it locally, but if you also mean &quot;save it in a (temporary) file before processing&quot;, that shouldn&#39;t be necessary as long as whatever you&#39;re doing accepts an input stream (or a reader).","body":"What do you mean with &quot;downloading&quot;? You will need to download the file content to process it locally, but if you also mean &quot;save it in a (temporary) file before processing&quot;, that shouldn&#39;t be necessary as long as whatever you&#39;re doing accepts an input stream (or a reader)."}],"answers":[{"tags":[],"owner":{"account_id":17503,"reputation":18878,"user_id":39242,"accept_rate":71,"display_name":"Joshua Fox"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640158086,"creation_date":1640158086,"answer_id":70445559,"question_id":70445528,"body_markdown":"For your code to read the file, it needs the contents -- and that means copying it to the local system.\r\n\r\nHowever, you can use [&quot;range&quot;][1] ([Java][2]) to read just a part.\r\n\r\n\r\n  [1]: https://docs.aws.amazon.com/AmazonS3/latest/API/API_GetObject.html#ExampleGetRangeRequestHeaders\r\n  [2]: https://docs.aws.amazon.com/AWSJavaSDK/latest/javadoc/com/amazonaws/services/s3/model/GetObjectRequest.html#setRange-long-","title":"Is there a way to read csv file from S3 using Java without downloading it","body":"<p>For your code to read the file, it needs the contents -- and that means copying it to the local system.</p>\n<p>However, you can use <a href=\"https://docs.aws.amazon.com/AmazonS3/latest/API/API_GetObject.html#ExampleGetRangeRequestHeaders\" rel=\"nofollow noreferrer\">&quot;range&quot;</a> (<a href=\"https://docs.aws.amazon.com/AWSJavaSDK/latest/javadoc/com/amazonaws/services/s3/model/GetObjectRequest.html#setRange-long-\" rel=\"nofollow noreferrer\">Java</a>) to read just a part.</p>\n"},{"tags":[],"owner":{"account_id":23643692,"reputation":73,"user_id":17673617,"display_name":"jay"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1640183716,"creation_date":1640166238,"answer_id":70447056,"question_id":70445528,"body_markdown":"There is a way with a code like this. In my code I am trying to get the file which we want to read in my S3Object obj , then I am passing that file to `InputStreamReader()`  :\r\n```\r\nS3Object Obj = s3client.getObject(&quot;&lt;Bucket Name&gt;&quot;, &quot;File Name&quot;);\r\nBufferedReader reader = new BufferedReader(new InputStreamReader(Obj.getObjectContent()));\r\n\r\n// this will store characters of first row in array    \r\nString row[] = line.split(&quot;,&quot;); \r\n                                   \r\n// this will fetch number of columns\r\nint length = row.length;\r\n\r\nwhile((line=reader.readLine()) != null) {\r\n\r\n     // storing characters of corresponding line in an array\r\n     String value[] = line.split(&quot;,&quot;); \r\n                                          \r\n     for(int i=0;i&lt;length;i++) {\r\n         System.out.print(value[i]+&quot;   &quot;);\r\n     }\r\n     System.out.println();\r\n}\r\n```","title":"Is there a way to read csv file from S3 using Java without downloading it","body":"<p>There is a way with a code like this. In my code I am trying to get the file which we want to read in my S3Object obj , then I am passing that file to <code>InputStreamReader()</code>  :</p>\n<pre><code>S3Object Obj = s3client.getObject(&quot;&lt;Bucket Name&gt;&quot;, &quot;File Name&quot;);\nBufferedReader reader = new BufferedReader(new InputStreamReader(Obj.getObjectContent()));\n\n// this will store characters of first row in array    \nString row[] = line.split(&quot;,&quot;); \n                                   \n// this will fetch number of columns\nint length = row.length;\n\nwhile((line=reader.readLine()) != null) {\n\n     // storing characters of corresponding line in an array\n     String value[] = line.split(&quot;,&quot;); \n                                          \n     for(int i=0;i&lt;length;i++) {\n         System.out.print(value[i]+&quot;   &quot;);\n     }\n     System.out.println();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25818378,"reputation":31,"user_id":19557956,"display_name":"Khtarnas"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1659047064,"creation_date":1659047064,"answer_id":73159816,"question_id":70445528,"body_markdown":"The answer by @jay and @Elikill58 is super helpful! This just adds a bit of clarity and accessibility to it.\r\n\r\nTo get an object from and S3 bucket after you have done all the [authentication work](https://docs.aws.amazon.com/AmazonS3/latest/userguide/MakingAuthenticatedRequests.html) is with the [.getObject(String bucketName, String fileName)](https://docs.aws.amazon.com/sdkfornet/v3/apidocs/items/S3/MS3GetObjectStringString.html) function. Note what it says about file names in the documentation:\r\n\r\n&gt;  An Amazon S3 bucket has no directory hierarchy such as you would find in a typical computer file system. You can, however, create a logical hierarchy by using object key names that imply a folder structure. For example, instead of naming an object sample.jpg, you can name it photos/2006/February/sample.jpg. \r\n&gt;\r\n&gt; To get an object from such a logical hierarchy, specify the full key\r\n&gt; name for the object in the GET operation. For a virtual hosted-style\r\n&gt; request example, if you have the object\r\n&gt; photos/2006/February/sample.jpg, specify the resource as\r\n&gt; /photos/2006/February/sample.jpg. For a path-style request example, if\r\n&gt; you have the object photos/2006/February/sample.jpg in the bucket\r\n&gt; named examplebucket, specify the resource as\r\n&gt; /examplebucket/photos/2006/February/sample.jpg.\r\n\r\nOnce you have an the S3Object that&#39;ll be returned, just pass it into this function below (which is just a modified version of @jay&#39;s that fixes a few errors)!\r\n\r\n\r\n    private static void parseCSVS3Object(S3Object data) {\r\n        BufferedReader reader = new BufferedReader(new InputStreamReader(data.getObjectContent()));\r\n\r\n        try {\r\n            // Get all the csv headers\r\n            String line = reader.readLine();\r\n            String[] headers = line.split(&quot;,&quot;);\r\n\r\n            // Get number of columns and print headers\r\n            int length = headers.length;\r\n            for (String header : headers) {\r\n                System.out.print(header + &quot;   &quot;);\r\n            }\r\n\r\n            while((line = reader.readLine()) != null) {\r\n                System.out.println();\r\n\r\n                // get and print the next line (row)\r\n                String[] row = line.split(&quot;,&quot;);\r\n                for (String value : row) {\r\n                    System.out.print(value + &quot;   &quot;);\r\n                }\r\n            }\r\n        } catch (IOException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n    }","title":"Is there a way to read csv file from S3 using Java without downloading it","body":"<p>The answer by @jay and @Elikill58 is super helpful! This just adds a bit of clarity and accessibility to it.</p>\n<p>To get an object from and S3 bucket after you have done all the <a href=\"https://docs.aws.amazon.com/AmazonS3/latest/userguide/MakingAuthenticatedRequests.html\" rel=\"nofollow noreferrer\">authentication work</a> is with the <a href=\"https://docs.aws.amazon.com/sdkfornet/v3/apidocs/items/S3/MS3GetObjectStringString.html\" rel=\"nofollow noreferrer\">.getObject(String bucketName, String fileName)</a> function. Note what it says about file names in the documentation:</p>\n<blockquote>\n<p>An Amazon S3 bucket has no directory hierarchy such as you would find in a typical computer file system. You can, however, create a logical hierarchy by using object key names that imply a folder structure. For example, instead of naming an object sample.jpg, you can name it photos/2006/February/sample.jpg.</p>\n<p>To get an object from such a logical hierarchy, specify the full key\nname for the object in the GET operation. For a virtual hosted-style\nrequest example, if you have the object\nphotos/2006/February/sample.jpg, specify the resource as\n/photos/2006/February/sample.jpg. For a path-style request example, if\nyou have the object photos/2006/February/sample.jpg in the bucket\nnamed examplebucket, specify the resource as\n/examplebucket/photos/2006/February/sample.jpg.</p>\n</blockquote>\n<p>Once you have an the S3Object that'll be returned, just pass it into this function below (which is just a modified version of @jay's that fixes a few errors)!</p>\n<pre><code>private static void parseCSVS3Object(S3Object data) {\n    BufferedReader reader = new BufferedReader(new InputStreamReader(data.getObjectContent()));\n\n    try {\n        // Get all the csv headers\n        String line = reader.readLine();\n        String[] headers = line.split(&quot;,&quot;);\n\n        // Get number of columns and print headers\n        int length = headers.length;\n        for (String header : headers) {\n            System.out.print(header + &quot;   &quot;);\n        }\n\n        while((line = reader.readLine()) != null) {\n            System.out.println();\n\n            // get and print the next line (row)\n            String[] row = line.split(&quot;,&quot;);\n            for (String value : row) {\n                System.out.print(value + &quot;   &quot;);\n            }\n        }\n    } catch (IOException e) {\n        throw new RuntimeException(e);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4382227,"reputation":2318,"user_id":3573553,"display_name":"Mark"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685725644,"creation_date":1685725644,"answer_id":76392188,"question_id":70445528,"body_markdown":"If you can use Java NIO `Path`s and `Channel`s which are available in Java 1.8 and later then you can use the `aws-java-nio-spi-for-s3` package. With that package on your classpath Java calls to open a `Channel` or `Path` for an s3 URI will be delegated to the package allowing the application to access these files directly without needing to stage the file locally.\r\n\r\nhttps://github.com/awslabs/aws-java-nio-spi-for-s3\r\n","title":"Is there a way to read csv file from S3 using Java without downloading it","body":"<p>If you can use Java NIO <code>Path</code>s and <code>Channel</code>s which are available in Java 1.8 and later then you can use the <code>aws-java-nio-spi-for-s3</code> package. With that package on your classpath Java calls to open a <code>Channel</code> or <code>Path</code> for an s3 URI will be delegated to the package allowing the application to access these files directly without needing to stage the file locally.</p>\n<p><a href=\"https://github.com/awslabs/aws-java-nio-spi-for-s3\" rel=\"nofollow noreferrer\">https://github.com/awslabs/aws-java-nio-spi-for-s3</a></p>\n"},{"tags":[],"owner":{"account_id":3533020,"reputation":3091,"user_id":2952011,"accept_rate":80,"display_name":"Mukit09"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692252090,"creation_date":1692252090,"answer_id":76918831,"question_id":70445528,"body_markdown":"I know I am late to answer it, but I think it may help future seekers. \r\n\r\nWe can take the help of AWS SDK. [Here][1] is an example on aws docs. See the Java section.\r\n\r\n\r\nIf anyone follows the doc, a file will be downloaded as **FileOutputStream** is used there to save the file. But you can store the output of your query in String as well like this:\r\n\r\n    String string = IOUtils.toString(resultInputStream);\r\n\r\nIf you follow the blog, you already know, **resultInputStream** is the output of your query.\r\n\r\n  [1]: https://docs.aws.amazon.com/AmazonS3/latest/userguide/using-select.html","title":"Is there a way to read csv file from S3 using Java without downloading it","body":"<p>I know I am late to answer it, but I think it may help future seekers.</p>\n<p>We can take the help of AWS SDK. <a href=\"https://docs.aws.amazon.com/AmazonS3/latest/userguide/using-select.html\" rel=\"nofollow noreferrer\">Here</a> is an example on aws docs. See the Java section.</p>\n<p>If anyone follows the doc, a file will be downloaded as <strong>FileOutputStream</strong> is used there to save the file. But you can store the output of your query in String as well like this:</p>\n<pre><code>String string = IOUtils.toString(resultInputStream);\n</code></pre>\n<p>If you follow the blog, you already know, <strong>resultInputStream</strong> is the output of your query.</p>\n"}],"owner":{"account_id":23643692,"reputation":73,"user_id":17673617,"display_name":"jay"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8903,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":5,"score":3,"last_activity_date":1692252090,"creation_date":1640157893,"question_id":70445528,"body_markdown":"I was able to connect Java to AWS S3, and I was able to perform basic operations like listing buckets. I need a way to read a CSV file without downloading it. I am attaching my current code here.\r\n\r\n    import com.amazonaws.auth.AWSCredentials;\r\n    import com.amazonaws.auth.AWSStaticCredentialsProvider;\r\n    import com.amazonaws.auth.BasicAWSCredentials;\r\n    import com.amazonaws.regions.Regions;\r\n    import com.amazonaws.services.s3.AmazonS3;\r\n    import com.amazonaws.services.s3.AmazonS3Client;\r\n    import com.amazonaws.services.s3.AmazonS3ClientBuilder;\r\n    import com.amazonaws.services.s3.model.Bucket;\r\n    import com.amazonaws.services.s3.model.CannedAccessControlList;\r\n    import com.amazonaws.services.s3.model.ObjectMetadata;\r\n    import com.amazonaws.services.s3.model.PutObjectRequest;\r\n    import com.amazonaws.services.s3.model.S3ObjectSummary;\r\n    \r\n    import java.io.IOException;\r\n    import java.io.InputStream;\r\n    import java.util.List;\r\n    import java.util.Properties;\r\n    \r\n    public class test {\r\n    \r\n        public static void main(String args[])throws IOException\r\n        {\r\n    \r\n            AWSCredentials credentials =new BasicAWSCredentials(&quot;----&quot;,&quot;----&quot;);\r\n    \r\n            AmazonS3 s3client = AmazonS3ClientBuilder\r\n                    .standard()\r\n                    .withCredentials(new AWSStaticCredentialsProvider(credentials))\r\n                    .withRegion(Regions.US_EAST_2)\r\n                    .build();\r\n    \r\n            List&lt;Bucket&gt; buckets = s3client.listBuckets();\r\n            for(Bucket bucket : buckets) {\r\n                System.out.println(bucket.getName());\r\n            }\r\n        }\r\n    \r\n    }\r\n\r\n","title":"Is there a way to read csv file from S3 using Java without downloading it","body":"<p>I was able to connect Java to AWS S3, and I was able to perform basic operations like listing buckets. I need a way to read a CSV file without downloading it. I am attaching my current code here.</p>\n<pre><code>import com.amazonaws.auth.AWSCredentials;\nimport com.amazonaws.auth.AWSStaticCredentialsProvider;\nimport com.amazonaws.auth.BasicAWSCredentials;\nimport com.amazonaws.regions.Regions;\nimport com.amazonaws.services.s3.AmazonS3;\nimport com.amazonaws.services.s3.AmazonS3Client;\nimport com.amazonaws.services.s3.AmazonS3ClientBuilder;\nimport com.amazonaws.services.s3.model.Bucket;\nimport com.amazonaws.services.s3.model.CannedAccessControlList;\nimport com.amazonaws.services.s3.model.ObjectMetadata;\nimport com.amazonaws.services.s3.model.PutObjectRequest;\nimport com.amazonaws.services.s3.model.S3ObjectSummary;\n\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.util.List;\nimport java.util.Properties;\n\npublic class test {\n\n    public static void main(String args[])throws IOException\n    {\n\n        AWSCredentials credentials =new BasicAWSCredentials(&quot;----&quot;,&quot;----&quot;);\n\n        AmazonS3 s3client = AmazonS3ClientBuilder\n                .standard()\n                .withCredentials(new AWSStaticCredentialsProvider(credentials))\n                .withRegion(Regions.US_EAST_2)\n                .build();\n\n        List&lt;Bucket&gt; buckets = s3client.listBuckets();\n        for(Bucket bucket : buckets) {\n            System.out.println(bucket.getName());\n        }\n    }\n\n}\n</code></pre>\n"},{"tags":["java","spring-boot","swagger","swagger-ui","openapi"],"answers":[{"tags":[],"owner":{"account_id":24440940,"reputation":3122,"user_id":18364656,"display_name":"Andrei Lisa"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692104391,"creation_date":1692077297,"answer_id":76903610,"question_id":76902347,"body_markdown":"Usually if you access to`/swagger-ui.html` you will have an redirect to `/swagger-ui/index.html`, just change the path to:\r\n\r\n    .requestMatchers(&quot;/swagger-ui/**&quot;).permitAll()\r\n\r\nAnd try to open swagger url:\r\n\r\n `http://localhost:8080/swagger-ui/index.html`\r\n\r\n**UPDATE**\r\n\r\nDeclare a custom configuration for OpenApi\r\n\r\n\r\n    @Configuration\r\n    public class ApiConfig {\r\n    \r\n      @Bean\r\n      public OpenAPI customOpenApi() {\r\n        return new OpenAPI().info(new Info().title(&quot;Application API&quot;)\r\n                .version(&quot;version&quot;)\r\n                .description(&quot;description&quot;)\r\n                .license(new License().name(&quot;Apache 2.0&quot;)\r\n                    .url(&quot;http://springdoc.org&quot;))\r\n                .contact(new Contact().name(&quot;username&quot;)\r\n                    .email(&quot;test@gmail.com&quot;)));\r\n      }\r\n    }\r\n\r\n","title":"Can not find swagger-ui page","body":"<p>Usually if you access to<code>/swagger-ui.html</code> you will have an redirect to <code>/swagger-ui/index.html</code>, just change the path to:</p>\n<pre><code>.requestMatchers(&quot;/swagger-ui/**&quot;).permitAll()\n</code></pre>\n<p>And try to open swagger url:</p>\n<p><code>http://localhost:8080/swagger-ui/index.html</code></p>\n<p><strong>UPDATE</strong></p>\n<p>Declare a custom configuration for OpenApi</p>\n<pre><code>@Configuration\npublic class ApiConfig {\n\n  @Bean\n  public OpenAPI customOpenApi() {\n    return new OpenAPI().info(new Info().title(&quot;Application API&quot;)\n            .version(&quot;version&quot;)\n            .description(&quot;description&quot;)\n            .license(new License().name(&quot;Apache 2.0&quot;)\n                .url(&quot;http://springdoc.org&quot;))\n            .contact(new Contact().name(&quot;username&quot;)\n                .email(&quot;test@gmail.com&quot;)));\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23090602,"reputation":59,"user_id":18073200,"display_name":"denstran"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1692251848,"creation_date":1692105305,"answer_id":76906251,"question_id":76902347,"body_markdown":"The problem was in wrong dependency. I was using this\r\n\r\n    &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\r\n            &lt;artifactId&gt;springdoc-openapi-starter-webmvc-api&lt;/artifactId&gt;\r\n            &lt;version&gt;2.2.0&lt;/version&gt;\r\n     &lt;/dependency&gt;\r\nBut looks like this dependency used only for /api-docs path, without ui, so I checked my older project and copied dependency from there\r\n\r\n    &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\r\n            &lt;artifactId&gt;springdoc-openapi-starter-webmvc-ui&lt;/artifactId&gt;\r\n            &lt;version&gt;2.2.0&lt;/version&gt;\r\n     &lt;/dependency&gt;\r\nAnd now everything works fine. Always need to check if you are using correct dependencies.","title":"Can not find swagger-ui page","body":"<p>The problem was in wrong dependency. I was using this</p>\n<pre><code>&lt;dependency&gt;\n        &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\n        &lt;artifactId&gt;springdoc-openapi-starter-webmvc-api&lt;/artifactId&gt;\n        &lt;version&gt;2.2.0&lt;/version&gt;\n &lt;/dependency&gt;\n</code></pre>\n<p>But looks like this dependency used only for /api-docs path, without ui, so I checked my older project and copied dependency from there</p>\n<pre><code>&lt;dependency&gt;\n        &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\n        &lt;artifactId&gt;springdoc-openapi-starter-webmvc-ui&lt;/artifactId&gt;\n        &lt;version&gt;2.2.0&lt;/version&gt;\n &lt;/dependency&gt;\n</code></pre>\n<p>And now everything works fine. Always need to check if you are using correct dependencies.</p>\n"}],"owner":{"account_id":23090602,"reputation":59,"user_id":18073200,"display_name":"denstran"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":112,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76906251,"answer_count":2,"score":0,"last_activity_date":1692251848,"creation_date":1692049899,"question_id":76902347,"body_markdown":"I&#39;ve got a problem with swagger ui. I am using these dependencies:\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;jakarta.xml.bind&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jakarta.xml.bind-api&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\r\n            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n            &lt;scope&gt;runtime&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jjwt&lt;/artifactId&gt;\r\n            &lt;version&gt;0.9.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\r\n            &lt;artifactId&gt;springdoc-openapi-starter-webmvc-api&lt;/artifactId&gt;\r\n            &lt;version&gt;2.2.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n            &lt;optional&gt;true&lt;/optional&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-security-config&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n    &lt;/dependencies&gt;\r\nSo, as you can see, for swagger I am using this dependency:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\r\n        &lt;artifactId&gt;springdoc-openapi-starter-webmvc-api&lt;/artifactId&gt;\r\n        &lt;version&gt;2.2.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nThese are my swagger settings in application.properties\r\n\r\n    # Swagger settings\r\n    springdoc.swagger-ui.enabled=true\r\n    springdoc.api-docs.path=/api-docs\r\n    springdoc.swagger-ui.path=/swagger-ui.html\r\n\r\nHere is my SecurityFilterChain. I thought that Spring Security might be blocking my requests, but it looks like it is not\r\n\r\n    @Bean\r\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\r\n        http.cors().and().csrf().disable()\r\n                .exceptionHandling().authenticationEntryPoint(unauthorizedHandler).and()\r\n                .sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS).and()\r\n                .authorizeHttpRequests((requests) -&gt; requests\r\n                        .requestMatchers(&quot;/api/auth/**&quot;).permitAll()\r\n                        .requestMatchers(&quot;/swagger-ui.html&quot;).permitAll()\r\n                        .requestMatchers(&quot;/api-docs/**&quot;).permitAll()\r\n                        .requestMatchers(&quot;/api/users/**&quot;).hasRole(&quot;USER&quot;)\r\n                        .requestMatchers(&quot;/api/admin/**&quot;).hasRole(&quot;ADMIN&quot;)\r\n                        .anyRequest().permitAll()\r\n                );\r\n\r\n        http.authenticationProvider(authenticationProvider());\r\n\r\n        http.addFilterBefore(authenticationJwtTokenFilter(), UsernamePasswordAuthenticationFilter.class);\r\n\r\n        return http.build();\r\n    }\r\n\r\nI am trying to find swagger ui at this url \r\n\r\n    http://localhost:8080/swagger-ui.html\r\n\r\nand I am getting **Whitelabel Error Page**. Api-docs page \r\n\r\n    http://localhost:8080/api-docs\r\n\r\nworks perfectly, so where is the problem?","title":"Can not find swagger-ui page","body":"<p>I've got a problem with swagger ui. I am using these dependencies:</p>\n<pre><code>&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;jakarta.xml.bind&lt;/groupId&gt;\n        &lt;artifactId&gt;jakarta.xml.bind-api&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n        &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n        &lt;scope&gt;runtime&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\n        &lt;artifactId&gt;jjwt&lt;/artifactId&gt;\n        &lt;version&gt;0.9.1&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\n        &lt;artifactId&gt;springdoc-openapi-starter-webmvc-api&lt;/artifactId&gt;\n        &lt;version&gt;2.2.0&lt;/version&gt;\n    &lt;/dependency&gt;\n\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n        &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n        &lt;optional&gt;true&lt;/optional&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-security-config&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n&lt;/dependencies&gt;\n</code></pre>\n<p>So, as you can see, for swagger I am using this dependency:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\n    &lt;artifactId&gt;springdoc-openapi-starter-webmvc-api&lt;/artifactId&gt;\n    &lt;version&gt;2.2.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>These are my swagger settings in application.properties</p>\n<pre><code># Swagger settings\nspringdoc.swagger-ui.enabled=true\nspringdoc.api-docs.path=/api-docs\nspringdoc.swagger-ui.path=/swagger-ui.html\n</code></pre>\n<p>Here is my SecurityFilterChain. I thought that Spring Security might be blocking my requests, but it looks like it is not</p>\n<pre><code>@Bean\npublic SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n    http.cors().and().csrf().disable()\n            .exceptionHandling().authenticationEntryPoint(unauthorizedHandler).and()\n            .sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS).and()\n            .authorizeHttpRequests((requests) -&gt; requests\n                    .requestMatchers(&quot;/api/auth/**&quot;).permitAll()\n                    .requestMatchers(&quot;/swagger-ui.html&quot;).permitAll()\n                    .requestMatchers(&quot;/api-docs/**&quot;).permitAll()\n                    .requestMatchers(&quot;/api/users/**&quot;).hasRole(&quot;USER&quot;)\n                    .requestMatchers(&quot;/api/admin/**&quot;).hasRole(&quot;ADMIN&quot;)\n                    .anyRequest().permitAll()\n            );\n\n    http.authenticationProvider(authenticationProvider());\n\n    http.addFilterBefore(authenticationJwtTokenFilter(), UsernamePasswordAuthenticationFilter.class);\n\n    return http.build();\n}\n</code></pre>\n<p>I am trying to find swagger ui at this url</p>\n<pre><code>http://localhost:8080/swagger-ui.html\n</code></pre>\n<p>and I am getting <strong>Whitelabel Error Page</strong>. Api-docs page</p>\n<pre><code>http://localhost:8080/api-docs\n</code></pre>\n<p>works perfectly, so where is the problem?</p>\n"},{"tags":["java","memory","memory-management","jar","manifest"],"comments":[{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1692245637,"post_id":76917827,"comment_id":135598021,"body_markdown":"What instrumentation interface did you mean? JMX?","body":"What instrumentation interface did you mean? JMX?"},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1694612535,"post_id":76917827,"comment_id":135914223,"body_markdown":"According to your screenshot, the entry to add to the jar would be `org/example/InstrumentationAgent.class`, not `Sizeof.class`. The current directory must be the folder to which IntelliJ stores the compiled class files.","body":"According to your screenshot, the entry to add to the jar would be <code>org&#47;example&#47;InstrumentationAgent.class</code>, not <code>Sizeof.class</code>. The current directory must be the folder to which IntelliJ stores the compiled class files."}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89768,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692237144,"creation_date":1692237144,"answer_id":76918006,"question_id":76917827,"body_markdown":"The short answer:  You don&#39;t want instrumentation, even if you do, you can&#39;t implement it, messing with the manifest won&#39;t accomplish what you want (but if it does - that&#39;s not how you use `jar`).\r\n\r\nIn some more detail:\r\n\r\n\r\nYour title and your question have nothing to do with each other. It sounds like perhaps this is what happened:\r\n\r\n* You are attempting to write an agent so that you get an impl of `Instrumentation` so you can do instrumentation things.\r\n* You failed at the job.\r\n* You decided to just abort what you were doing entirely and are now thinking: Eh, maybe I&#39;ll just implement `Instrumentation` on my own! ... how do I do that? Better ask SO.\r\n\r\nYou don&#39;t implement `Instrumentation`. You can&#39;t. The JVM implements it and hands you an implementation. That answers the question in your title.\r\n\r\n&gt; jar -cfm Sizeof.jar META-INF/MANIFEST.MF Sizeof.class\r\n\r\nThat&#39;s not how jar works. This command says:\r\n\r\n* Please make a new jar (`-c`).\r\n* Please name this jar `Sizeof.jar (`-f Sizeof.jar`)\r\n* Please put a manifest in it by copying a text file. This text file can be found, relative to the current dir, at this place (`-m META-INF/MANIFEST.MF`).\r\n* Please put file `Sizeof.class` in the jar.\r\n\r\nYou&#39;re confused about what `-m` does. The argument (you passed `META-INF/MANIFEST.MF`) has to be to __an actual text file already existing on disk__. It&#39;s not &#39;where the manifest goes&#39; - that goes at META-INF/MANIFEST.MF, __period__ - it can&#39;t be anywhere else, hence, there is no need to tell `jar` where to put it - it already knows. You __do__ need to tell `jar` what to put __in__ the manifest. `-m` is one way to do that, and you pass a text file.\r\n\r\nSo, you need to MAKE a manifest file. Get an editor out, make a text file, stick this in it:\r\n\r\n```\r\nAgent-Main: com.foo.packagename.of.YourAgentMainClass\r\n```\r\n\r\ncall it &#39;agent-manifest.txt&#39;.\r\n\r\nThen run:\r\n\r\n```\r\njar -cfm Sizeof.jar agent-manifest.txt com/foo/packagename/of/YourAgentMainClass.class\r\n```\r\n\r\nThen run a java app, pass the jar the above command produces as agent, and now your `agentmain` method (that has to be in the class `YourAgentMainClass` which is in package `com.foo.packagename.of`) will be executed, and handed an instance of `Instrumentation`.\r\n\r\nNote that agents aren&#39;t java apps - they are JVM plugins: You run __another__ java app, and the agent can for example replace bytecode.\r\n\r\nIf you just want to check how large some object is in a java app, `Instrumentation` just isn&#39;t the answer. I don&#39;t know what is, but that isn&#39;t it. More generally &quot;I want to know how large this is&quot; isn&#39;t a question the JVM is good at answering - the usual solution is not to ask it. Why do you need to know? There may be an entirely different way to fulfill whatever requirement needs to know.\r\n\r\nNB: Putting `main` classes in the default package is a bad idea. Don&#39;t do that - make an actual package.\r\n","title":"How to correctly implement Java Instrumentation interface?","body":"<p>The short answer:  You don't want instrumentation, even if you do, you can't implement it, messing with the manifest won't accomplish what you want (but if it does - that's not how you use <code>jar</code>).</p>\n<p>In some more detail:</p>\n<p>Your title and your question have nothing to do with each other. It sounds like perhaps this is what happened:</p>\n<ul>\n<li>You are attempting to write an agent so that you get an impl of <code>Instrumentation</code> so you can do instrumentation things.</li>\n<li>You failed at the job.</li>\n<li>You decided to just abort what you were doing entirely and are now thinking: Eh, maybe I'll just implement <code>Instrumentation</code> on my own! ... how do I do that? Better ask SO.</li>\n</ul>\n<p>You don't implement <code>Instrumentation</code>. You can't. The JVM implements it and hands you an implementation. That answers the question in your title.</p>\n<blockquote>\n<p>jar -cfm Sizeof.jar META-INF/MANIFEST.MF Sizeof.class</p>\n</blockquote>\n<p>That's not how jar works. This command says:</p>\n<ul>\n<li>Please make a new jar (<code>-c</code>).</li>\n<li>Please name this jar <code>Sizeof.jar (</code>-f Sizeof.jar`)</li>\n<li>Please put a manifest in it by copying a text file. This text file can be found, relative to the current dir, at this place (<code>-m META-INF/MANIFEST.MF</code>).</li>\n<li>Please put file <code>Sizeof.class</code> in the jar.</li>\n</ul>\n<p>You're confused about what <code>-m</code> does. The argument (you passed <code>META-INF/MANIFEST.MF</code>) has to be to <strong>an actual text file already existing on disk</strong>. It's not 'where the manifest goes' - that goes at META-INF/MANIFEST.MF, <strong>period</strong> - it can't be anywhere else, hence, there is no need to tell <code>jar</code> where to put it - it already knows. You <strong>do</strong> need to tell <code>jar</code> what to put <strong>in</strong> the manifest. <code>-m</code> is one way to do that, and you pass a text file.</p>\n<p>So, you need to MAKE a manifest file. Get an editor out, make a text file, stick this in it:</p>\n<pre><code>Agent-Main: com.foo.packagename.of.YourAgentMainClass\n</code></pre>\n<p>call it 'agent-manifest.txt'.</p>\n<p>Then run:</p>\n<pre><code>jar -cfm Sizeof.jar agent-manifest.txt com/foo/packagename/of/YourAgentMainClass.class\n</code></pre>\n<p>Then run a java app, pass the jar the above command produces as agent, and now your <code>agentmain</code> method (that has to be in the class <code>YourAgentMainClass</code> which is in package <code>com.foo.packagename.of</code>) will be executed, and handed an instance of <code>Instrumentation</code>.</p>\n<p>Note that agents aren't java apps - they are JVM plugins: You run <strong>another</strong> java app, and the agent can for example replace bytecode.</p>\n<p>If you just want to check how large some object is in a java app, <code>Instrumentation</code> just isn't the answer. I don't know what is, but that isn't it. More generally &quot;I want to know how large this is&quot; isn't a question the JVM is good at answering - the usual solution is not to ask it. Why do you need to know? There may be an entirely different way to fulfill whatever requirement needs to know.</p>\n<p>NB: Putting <code>main</code> classes in the default package is a bad idea. Don't do that - make an actual package.</p>\n"},{"tags":[],"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1692251477,"creation_date":1692251477,"answer_id":76918779,"question_id":76917827,"body_markdown":"If you&#39;re interested in actual memory / CPU consumption of a program, use a profiler like [VisualVM](https://visualvm.github.io/) to see how it behaves and look for any performance hotspots.\r\n\r\nIf you&#39;re actually interested in object/class size for micro-optimization purposes, then [JOL](https://github.com/openjdk/jol) can size your objects without running an agent and comes even with an Idea plugin.","title":"How to correctly implement Java Instrumentation interface?","body":"<p>If you're interested in actual memory / CPU consumption of a program, use a profiler like <a href=\"https://visualvm.github.io/\" rel=\"nofollow noreferrer\">VisualVM</a> to see how it behaves and look for any performance hotspots.</p>\n<p>If you're actually interested in object/class size for micro-optimization purposes, then <a href=\"https://github.com/openjdk/jol\" rel=\"nofollow noreferrer\">JOL</a> can size your objects without running an agent and comes even with an Idea plugin.</p>\n"}],"owner":{"account_id":29155915,"reputation":3,"user_id":22335700,"display_name":"wdk23"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":91,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76918779,"answer_count":2,"score":0,"last_activity_date":1692251477,"creation_date":1692233059,"question_id":76917827,"body_markdown":"I am trying to estimate the memory of some objects for a project and I want to use the getObjectSize() method from the instrumentation interface. I&#39;ve been following the steps on how to create an Instrumentation agent from these two websites ([https://iq.opengenus.org/find-size-of-an-object-in-java/](https://stackoverflow.com) and [https://www.baeldung.com/java-size-of-object](https://stackoverflow.com)). However, when I try to make an agent JAR with a custom manifest File, it returns this error: `java.io.FileNotFoundException: META-INF/MANIFEST.MF (No such file or directory)`.\r\n\r\nThis is the full command and error: I&#39;ve also taken a screenshot of where the files and difrectories are in the project. I made a separate project folder to try to get the Instrumentation interface to work.  [Screenshot of Project layout on IntelliJ](https://i.stack.imgur.com/DedKt.png)\r\n\r\n\r\n```\r\nuser@users-MacBook-Pro objectTesting % jar -cfm Sizeof.jar META-INF/MANIFEST.MF Sizeof.class                \r\njava.io.FileNotFoundException: META-INF/MANIFEST.MF (No such file or directory)\r\n        at java.base/java.io.FileInputStream.open0(Native Method)\r\n        at java.base/java.io.FileInputStream.open(FileInputStream.java:219)\r\n        at java.base/java.io.FileInputStream.&lt;init&gt;(FileInputStream.java:158)\r\n        at java.base/java.io.FileInputStream.&lt;init&gt;(FileInputStream.java:112)\r\n        at jdk.jartool/sun.tools.jar.Main.run(Main.java:278)\r\n        at jdk.jartool/sun.tools.jar.Main.main(Main.j\r\n```\r\n\r\nI thought initially that it was because I put the manifest file and META_INF folder in the wrong place, but it still returned the error after I moved it around a few times. How do I fix this? Also, how would I implement the Instrumentation interface into my other projects once I get it to work?\r\n\r\nAlternatively, are there any other ways to estimate the memory consumption of an object in Java?","title":"How to correctly implement Java Instrumentation interface?","body":"<p>I am trying to estimate the memory of some objects for a project and I want to use the getObjectSize() method from the instrumentation interface. I've been following the steps on how to create an Instrumentation agent from these two websites (<a href=\"https://stackoverflow.com\">https://iq.opengenus.org/find-size-of-an-object-in-java/</a> and <a href=\"https://stackoverflow.com\">https://www.baeldung.com/java-size-of-object</a>). However, when I try to make an agent JAR with a custom manifest File, it returns this error: <code>java.io.FileNotFoundException: META-INF/MANIFEST.MF (No such file or directory)</code>.</p>\n<p>This is the full command and error: I've also taken a screenshot of where the files and difrectories are in the project. I made a separate project folder to try to get the Instrumentation interface to work.  <a href=\"https://i.stack.imgur.com/DedKt.png\" rel=\"nofollow noreferrer\">Screenshot of Project layout on IntelliJ</a></p>\n<pre><code>user@users-MacBook-Pro objectTesting % jar -cfm Sizeof.jar META-INF/MANIFEST.MF Sizeof.class                \njava.io.FileNotFoundException: META-INF/MANIFEST.MF (No such file or directory)\n        at java.base/java.io.FileInputStream.open0(Native Method)\n        at java.base/java.io.FileInputStream.open(FileInputStream.java:219)\n        at java.base/java.io.FileInputStream.&lt;init&gt;(FileInputStream.java:158)\n        at java.base/java.io.FileInputStream.&lt;init&gt;(FileInputStream.java:112)\n        at jdk.jartool/sun.tools.jar.Main.run(Main.java:278)\n        at jdk.jartool/sun.tools.jar.Main.main(Main.j\n</code></pre>\n<p>I thought initially that it was because I put the manifest file and META_INF folder in the wrong place, but it still returned the error after I moved it around a few times. How do I fix this? Also, how would I implement the Instrumentation interface into my other projects once I get it to work?</p>\n<p>Alternatively, are there any other ways to estimate the memory consumption of an object in Java?</p>\n"},{"tags":["java","tomcat","intellij-idea"],"answers":[{"tags":[],"owner":{"account_id":36734,"reputation":392117,"user_id":104891,"display_name":"CrazyCoder"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1576203316,"creation_date":1576203316,"answer_id":59315244,"question_id":59314911,"body_markdown":"It looks like you are using IntelliJ IDEA Community edition, while Tomcat support [is the feature of IntelliJ IDEA Ultimate](https://www.jetbrains.com/idea/features/editions_comparison_matrix.html).","title":"adding tomcat to templates in intellij","body":"<p>It looks like you are using IntelliJ IDEA Community edition, while Tomcat support <a href=\"https://www.jetbrains.com/idea/features/editions_comparison_matrix.html\" rel=\"nofollow noreferrer\">is the feature of IntelliJ IDEA Ultimate</a>.</p>\n"},{"tags":[],"owner":{"account_id":1614042,"reputation":7468,"user_id":1492229,"accept_rate":100,"display_name":"asmgx"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1576208441,"creation_date":1576208441,"answer_id":59315830,"question_id":59314911,"body_markdown":"I found a way to do that \r\n\r\n1- Click on Maven Setting\r\n\r\n[![enter image description here][1]][1]\r\n\r\n2- click on Plugins\r\n\r\n[![enter image description here][2]][2]\r\n\r\n3- type tomcat and choose Smart Tomcat\r\n\r\n[![enter image description here][3]][3]\r\n\r\n4- it is there\r\n\r\n[![enter image description here][4]][4]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/syICz.png\r\n  [2]: https://i.stack.imgur.com/pGJ5A.png\r\n  [3]: https://i.stack.imgur.com/g7Wfi.png\r\n  [4]: https://i.stack.imgur.com/cZ7pU.png","title":"adding tomcat to templates in intellij","body":"<p>I found a way to do that </p>\n\n<p>1- Click on Maven Setting</p>\n\n<p><a href=\"https://i.stack.imgur.com/syICz.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/syICz.png\" alt=\"enter image description here\"></a></p>\n\n<p>2- click on Plugins</p>\n\n<p><a href=\"https://i.stack.imgur.com/pGJ5A.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/pGJ5A.png\" alt=\"enter image description here\"></a></p>\n\n<p>3- type tomcat and choose Smart Tomcat</p>\n\n<p><a href=\"https://i.stack.imgur.com/g7Wfi.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/g7Wfi.png\" alt=\"enter image description here\"></a></p>\n\n<p>4- it is there</p>\n\n<p><a href=\"https://i.stack.imgur.com/cZ7pU.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/cZ7pU.png\" alt=\"enter image description here\"></a></p>\n"}],"owner":{"account_id":1614042,"reputation":7468,"user_id":1492229,"accept_rate":100,"display_name":"asmgx"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1160,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":59315830,"answer_count":2,"score":0,"last_activity_date":1692251472,"creation_date":1576200082,"question_id":59314911,"body_markdown":"as part of instructions to run an open source code they said to use tomcat\r\n\r\nI installed tomcat but it is still does not show.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/fAcIA.png\r\n\r\n\r\nhow can I add it there?\r\n\r\n\r\n","title":"adding tomcat to templates in intellij","body":"<p>as part of instructions to run an open source code they said to use tomcat</p>\n\n<p>I installed tomcat but it is still does not show.</p>\n\n<p><a href=\"https://i.stack.imgur.com/fAcIA.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/fAcIA.png\" alt=\"enter image description here\"></a></p>\n\n<p>how can I add it there?</p>\n"},{"tags":["java","android","kotlin","unit-testing","mockk"],"comments":[{"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1692107501,"post_id":76906477,"comment_id":135577634,"body_markdown":"Kotlin methods and classes (and objects) are `final` by default. Most mocking can&#39;t deal with that. You&#39;ll need something like `kotlin-allopen`.","body":"Kotlin methods and classes (and objects) are <code>final</code> by default. Most mocking can&#39;t deal with that. You&#39;ll need something like <code>kotlin-allopen</code>."},{"owner":{"account_id":20928711,"reputation":3225,"user_id":15375588,"display_name":"Karsten Gabriel"},"score":0,"creation_date":1692204612,"post_id":76906477,"comment_id":135593065,"body_markdown":"In the `BusinessRepository` and your test class, it looks like `ObjBeingMocked.getFeatures` is called with only one argument (context), but in the definition of `ObjBeingMocked`, the function `getFeatures` takes 3 arguments (a, b, context). Can you please adapt your question to be consistent?","body":"In the <code>BusinessRepository</code> and your test class, it looks like <code>ObjBeingMocked.getFeatures</code> is called with only one argument (context), but in the definition of <code>ObjBeingMocked</code>, the function <code>getFeatures</code> takes 3 arguments (a, b, context). Can you please adapt your question to be consistent?"},{"owner":{"account_id":13487324,"reputation":11,"user_id":9730741,"display_name":"raj abimanyu"},"score":0,"creation_date":1692250132,"post_id":76906477,"comment_id":135598388,"body_markdown":"@KarstenGabriel edited. Thanks!","body":"@KarstenGabriel edited. Thanks!"},{"owner":{"account_id":20928711,"reputation":3225,"user_id":15375588,"display_name":"Karsten Gabriel"},"score":0,"creation_date":1692277449,"post_id":76906477,"comment_id":135603332,"body_markdown":"Did you try to mock `ObjBeingMocked.getFeatures(any())` instead of `ObjBeingMocked.getFeatures(instrumentationContext)`?","body":"Did you try to mock <code>ObjBeingMocked.getFeatures(any())</code> instead of <code>ObjBeingMocked.getFeatures(instrumentationContext)</code>?"},{"owner":{"account_id":13487324,"reputation":11,"user_id":9730741,"display_name":"raj abimanyu"},"score":0,"creation_date":1692542611,"post_id":76906477,"comment_id":135634749,"body_markdown":"@KarstenGabriel Tried. But that also working.","body":"@KarstenGabriel Tried. But that also working."}],"owner":{"account_id":13487324,"reputation":11,"user_id":9730741,"display_name":"raj abimanyu"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":412,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692250098,"creation_date":1692107323,"question_id":76906477,"body_markdown":"I am using mockk for unit testing my Android project.\r\nI am having an object class and that object class is used inside the repository which I am testing.\r\nThe mockk library I am using : &quot;io.mockk:mockk-android:1.13.7&quot;\r\n\r\nRepository : \r\n\r\n\r\n```\r\nclass BusinessRepository() {\r\n\r\n    companion object {\r\n        private var businessRepository:BusinessRepository? = null\r\n        val instance: BusinessRepository?\r\n            get() {\r\n                if (businessRepository == null) {\r\n                    businessRepository = BusinessRepository()\r\n                }\r\n                return businessRepository\r\n            }\r\n    }\r\n\r\n    suspend fun fetchBusinessData(context:Context,businessData:MutableLiveData&lt;Feature&gt;?, ioDispatcher: CoroutineDispatcher = Dispatchers.IO) = withContext(ioDispatcher) \r\n    {\r\n        val feature = ObjBeingMocked.getFeatures(context)\r\n        businessData?.postValue(feature)\r\n        return@withContext\r\n    }\r\n}\r\n```\r\n\r\nTest Code : \r\n\r\n\r\n```\r\n@RunWith(AndroidJUnit4::class)\r\nclass BusinessRepositoryTest {\r\n    lateinit var businessRepository: BusinessRepository\r\n    var businessDataObservable: MutableLiveData&lt;Feature&gt; = MutableLiveData()\r\n\r\n    lateinit var instrumentationContext: Context\r\n    lateinit var testDispatcher: CoroutineDispatcher\r\n    private val mainThreadSurrogate = Executors\r\n        .newSingleThreadExecutor { Thread(it, &quot;UI-thread&quot;) }\r\n        .asCoroutineDispatcher()\r\n\r\n    @Before\r\n    fun setUp() {\r\n        Dispatchers.setMain(mainThreadSurrogate)\r\n        testDispatcher = TestCoroutineDispatcher()\r\n\r\n        businessRepository = BusinessRepository.instance!!\r\n        instrumentationContext = ApplicationProvider.getApplicationContext()\r\n    }\r\n\r\n    @Test\r\n    fun `fetchBusinessDataTest`() = runBlocking {\r\n\r\n        mockkObject(ObjBeingMocked) {\r\n            val featureMock = mockk&lt;Feature&gt;()\r\n\r\n            every {\r\n                ObjBeingMocked.getFeatures(instrumentationContext)\r\n            } returns featureMock\r\n\r\n            businessRepository.fetchBusinessDataExtra(\r\n                instrumentationContext,\r\n                businessDataObservable,\r\n                testDispatcher\r\n            )\r\n\r\n            delay(500)\r\n\r\n            val responseValue = businessDataObservable.value\r\n            assert(responseValue != null)\r\n        }\r\n\r\n    }\r\n\r\n    @After\r\n    fun tearDown() {\r\n        Dispatchers.resetMain()\r\n        unmockkAll()\r\n    }\r\n}\r\n```\r\n\r\nObjBeingMocked.getFeatures :\r\n\r\n\r\n```\r\nobject ObjBeingMocked {\r\n         fun getFeatures(context: Context): Feature {\r\n            val featureJson = JSONObject(getFeaturesString(context)!!)\r\n            val features = Feature(featureJson)\r\n            return features\r\n        }\r\n\r\n        fun getSharedPref(context: Context): String? {\r\n            // for testing the scenario I am returning null here\r\n            return null\r\n        }\r\n}\r\n```\r\n\r\nNow when I run the test it is throwing the null pointer exception which is happening inside the `ObjBeingMocked.getFeatures` -&gt; `JSONObject(getFeaturesString(context)!!)` -&gt; `getFeaturesString(context)` returns null in real method.\r\n\r\nBut it should not happens if ObjBeingMocked being mocked. \r\n\r\n\r\nI have tried Matt&#39;s blog on this https://matthew-b-groves.medium.com/matts-tidbits-29-how-to-mock-kotlin-singletons-without-using-powermock-938da069fa88\r\n\r\nMaking ObjBeingMocked to implement a interface `IObjBeingMocked`.  \r\nMock that interface and injecting the mocked into `fetchBusinessData` method.\r\n\r\nNow everything working fine. But ObjBeingMocked is being used at so many places in the project.\r\nInjecting IObjBeingMocked to all methods inside all repositories was a heavy task.\r\n\r\nAlso not sure why `ObjBeingMocked.getFeatures(instrumentationContext)` is calling real method eventhough stub method is there in the test.\r\n\r\n```\r\nmockkObject(ObjBeingMocked) {\r\n            val featureMock = mockk&lt;Feature&gt;()\r\n\r\n            every {\r\n                ObjBeingMocked.getFeatures(instrumentationContext)\r\n            } returns featureMock\r\n```\r\n","title":"mockkObject calling real method instead of mocked object class | Android | Kotlin | Unit test","body":"<p>I am using mockk for unit testing my Android project.\nI am having an object class and that object class is used inside the repository which I am testing.\nThe mockk library I am using : &quot;io.mockk:mockk-android:1.13.7&quot;</p>\n<p>Repository :</p>\n<pre><code>class BusinessRepository() {\n\n    companion object {\n        private var businessRepository:BusinessRepository? = null\n        val instance: BusinessRepository?\n            get() {\n                if (businessRepository == null) {\n                    businessRepository = BusinessRepository()\n                }\n                return businessRepository\n            }\n    }\n\n    suspend fun fetchBusinessData(context:Context,businessData:MutableLiveData&lt;Feature&gt;?, ioDispatcher: CoroutineDispatcher = Dispatchers.IO) = withContext(ioDispatcher) \n    {\n        val feature = ObjBeingMocked.getFeatures(context)\n        businessData?.postValue(feature)\n        return@withContext\n    }\n}\n</code></pre>\n<p>Test Code :</p>\n<pre><code>@RunWith(AndroidJUnit4::class)\nclass BusinessRepositoryTest {\n    lateinit var businessRepository: BusinessRepository\n    var businessDataObservable: MutableLiveData&lt;Feature&gt; = MutableLiveData()\n\n    lateinit var instrumentationContext: Context\n    lateinit var testDispatcher: CoroutineDispatcher\n    private val mainThreadSurrogate = Executors\n        .newSingleThreadExecutor { Thread(it, &quot;UI-thread&quot;) }\n        .asCoroutineDispatcher()\n\n    @Before\n    fun setUp() {\n        Dispatchers.setMain(mainThreadSurrogate)\n        testDispatcher = TestCoroutineDispatcher()\n\n        businessRepository = BusinessRepository.instance!!\n        instrumentationContext = ApplicationProvider.getApplicationContext()\n    }\n\n    @Test\n    fun `fetchBusinessDataTest`() = runBlocking {\n\n        mockkObject(ObjBeingMocked) {\n            val featureMock = mockk&lt;Feature&gt;()\n\n            every {\n                ObjBeingMocked.getFeatures(instrumentationContext)\n            } returns featureMock\n\n            businessRepository.fetchBusinessDataExtra(\n                instrumentationContext,\n                businessDataObservable,\n                testDispatcher\n            )\n\n            delay(500)\n\n            val responseValue = businessDataObservable.value\n            assert(responseValue != null)\n        }\n\n    }\n\n    @After\n    fun tearDown() {\n        Dispatchers.resetMain()\n        unmockkAll()\n    }\n}\n</code></pre>\n<p>ObjBeingMocked.getFeatures :</p>\n<pre><code>object ObjBeingMocked {\n         fun getFeatures(context: Context): Feature {\n            val featureJson = JSONObject(getFeaturesString(context)!!)\n            val features = Feature(featureJson)\n            return features\n        }\n\n        fun getSharedPref(context: Context): String? {\n            // for testing the scenario I am returning null here\n            return null\n        }\n}\n</code></pre>\n<p>Now when I run the test it is throwing the null pointer exception which is happening inside the <code>ObjBeingMocked.getFeatures</code> -&gt; <code>JSONObject(getFeaturesString(context)!!)</code> -&gt; <code>getFeaturesString(context)</code> returns null in real method.</p>\n<p>But it should not happens if ObjBeingMocked being mocked.</p>\n<p>I have tried Matt's blog on this <a href=\"https://matthew-b-groves.medium.com/matts-tidbits-29-how-to-mock-kotlin-singletons-without-using-powermock-938da069fa88\" rel=\"nofollow noreferrer\">https://matthew-b-groves.medium.com/matts-tidbits-29-how-to-mock-kotlin-singletons-without-using-powermock-938da069fa88</a></p>\n<p>Making ObjBeingMocked to implement a interface <code>IObjBeingMocked</code>.<br />\nMock that interface and injecting the mocked into <code>fetchBusinessData</code> method.</p>\n<p>Now everything working fine. But ObjBeingMocked is being used at so many places in the project.\nInjecting IObjBeingMocked to all methods inside all repositories was a heavy task.</p>\n<p>Also not sure why <code>ObjBeingMocked.getFeatures(instrumentationContext)</code> is calling real method eventhough stub method is there in the test.</p>\n<pre><code>mockkObject(ObjBeingMocked) {\n            val featureMock = mockk&lt;Feature&gt;()\n\n            every {\n                ObjBeingMocked.getFeatures(instrumentationContext)\n            } returns featureMock\n</code></pre>\n"},{"tags":["java","postgresql","hibernate","spring-data-jpa","enumerated"],"comments":[{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1674726791,"post_id":75243732,"comment_id":132776922,"body_markdown":"As your `roles` table does not hold any additional information, why not replace it with a table that holds the userId and the enum string? No need for the join table as well as making the mapping easier","body":"As your <code>roles</code> table does not hold any additional information, why not replace it with a table that holds the userId and the enum string? No need for the join table as well as making the mapping easier"},{"owner":{"account_id":25470485,"reputation":21,"user_id":19268761,"display_name":"Nara Omur"},"score":0,"creation_date":1674730470,"post_id":75243732,"comment_id":132778002,"body_markdown":"Do you mean to change the whole logic now, user can have several roles as well as the role has several users whereas with one table having user-id and the roles would be not good in terms of readability of the logic, I think","body":"Do you mean to change the whole logic now, user can have several roles as well as the role has several users whereas with one table having user-id and the roles would be not good in terms of readability of the logic, I think"},{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1674741838,"post_id":75243732,"comment_id":132781490,"body_markdown":"Does this answer your question? [Hibernate mapping between PostgreSQL enum and Java enum](https://stackoverflow.com/questions/27804069/hibernate-mapping-between-postgresql-enum-and-java-enum)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/27804069/hibernate-mapping-between-postgresql-enum-and-java-enum\">Hibernate mapping between PostgreSQL enum and Java enum</a>"},{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1674741978,"post_id":75243732,"comment_id":132781543,"body_markdown":"Just saw that you are mapping it to an ENUM column in postgres. Hibernate doesn&#39;t natively support a mapping to this AFAIK. Link above shows how to handle that. `@Enumerated(EnumType.STRING)` tells hibernate how you want to persist the java enum in the database. `EnumType.STRING` persists it as a string, mapping to a `varchar` column. `EnumType.ORDINAL` persists as a number, usually mapping to a `numeric` column","body":"Just saw that you are mapping it to an ENUM column in postgres. Hibernate doesn&#39;t natively support a mapping to this AFAIK. Link above shows how to handle that. <code>@Enumerated(EnumType.STRING)</code> tells hibernate how you want to persist the java enum in the database. <code>EnumType.STRING</code> persists it as a string, mapping to a <code>varchar</code> column. <code>EnumType.ORDINAL</code> persists as a number, usually mapping to a <code>numeric</code> column"},{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":1,"creation_date":1674742217,"post_id":75243732,"comment_id":132781631,"body_markdown":"You can either change the column type in your database to `varchar` to get the enum value persisted. Or you implement the [custom-type](https://vladmihalcea.com/the-best-way-to-map-an-enum-type-with-jpa-and-hibernate/)","body":"You can either change the column type in your database to <code>varchar</code> to get the enum value persisted. Or you implement the <a href=\"https://vladmihalcea.com/the-best-way-to-map-an-enum-type-with-jpa-and-hibernate/\" rel=\"nofollow noreferrer\">custom-type</a>"}],"answers":[{"tags":[],"owner":{"account_id":25470485,"reputation":21,"user_id":19268761,"display_name":"Nara Omur"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1692249022,"creation_date":1692249022,"answer_id":76918630,"question_id":75243732,"body_markdown":"I know it&#39;s been a while but recently saw this question in my profile without closure and flashed back on how I solved this and moved on. \r\n\r\nSo as @XtremeBaumer mentioned about varchar I got an idea just to make table roles as a dictionary that will hold static data or rarely modify. So I just inserted the three levels of roles as VARCHAR values and the hibernate many-to-many mapping did the rest of the magic on joining table user_roles. \r\n\r\n","title":"Enum values are not saved in the database(PostgreSql)","body":"<p>I know it's been a while but recently saw this question in my profile without closure and flashed back on how I solved this and moved on.</p>\n<p>So as @XtremeBaumer mentioned about varchar I got an idea just to make table roles as a dictionary that will hold static data or rarely modify. So I just inserted the three levels of roles as VARCHAR values and the hibernate many-to-many mapping did the rest of the magic on joining table user_roles.</p>\n"}],"owner":{"account_id":25470485,"reputation":21,"user_id":19268761,"display_name":"Nara Omur"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":163,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76918630,"answer_count":1,"score":0,"last_activity_date":1692249022,"creation_date":1674722051,"question_id":75243732,"body_markdown":"The issue is that the enum values are not being saved in the database, so whenever I register new user it returns user with 0 role size even though I have all the right configurations, so came to the root cause which is enum values of ERole not being saved in the database and the Role table is empty. \r\n\r\nERole enum:\r\n\r\n```\r\npublic enum ERole {\r\n    ROLE_USER,\r\n    ROLE_MODERATOR,\r\n    ROLE_ADMIN\r\n}\r\n```\r\n\r\n\r\nRole entity:\r\n\r\n\r\n```\r\n@EqualsAndHashCode\r\n@NoArgsConstructor\r\n@Getter\r\n@Setter\r\n@Entity\r\n@Table(name = &quot;roles&quot;)\r\npublic class Role implements Serializable {\r\n\r\n    private static final long serialVersionUID = 1L;\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    private Long id;\r\n    @Enumerated(EnumType.STRING)\r\n    @Column(length = 20)\r\n    private ERole role;\r\n    @ManyToMany(mappedBy=&quot;roles&quot;)\r\n    private List&lt;User&gt; users = new ArrayList&lt;&gt;();\r\n    public Role(ERole role) {\r\n        this.role = role;\r\n    }\r\n}\r\n```\r\n\r\nUser entity:\r\n\r\n\r\n```\r\n@Getter\r\n@Setter\r\n@NoArgsConstructor\r\n@EqualsAndHashCode\r\n@Entity\r\n@Table(name = &quot;users&quot;,\r\n        uniqueConstraints = {\r\n                @UniqueConstraint(columnNames = &quot;name&quot;),\r\n        })\r\npublic class User implements Serializable {\r\n    private static final long serialVersionUID = 1L;\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    private Long id;\r\n    private String name;\r\n    private String pass;\r\n\r\n    @JsonIgnoreProperties(&quot;users&quot;)\r\n    @ManyToMany(cascade = CascadeType.ALL, fetch = FetchType.EAGER)\r\n    @JoinTable(name = &quot;user_roles&quot;,\r\n            joinColumns = { @JoinColumn(name = &quot;user_id&quot;) },\r\n            inverseJoinColumns = { @JoinColumn(name = &quot;role_id&quot;) })\r\n    private List&lt;Role&gt; roles = new ArrayList&lt;&gt;();\r\n    public User(String name, String pass) {\r\n        this.name = name;\r\n        this.pass = pass;\r\n    }\r\n}\r\n```\r\nAs you see below in the diagram Role entity has the role column with ERole type\r\n[![enter image description here][1]][1]\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nI have seen the oter similar threads where it is suggested to use the @Enumerated(EnumType.STRING) which I&#39;ve been using in the first place. \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/LXSlJ.jpg","title":"Enum values are not saved in the database(PostgreSql)","body":"<p>The issue is that the enum values are not being saved in the database, so whenever I register new user it returns user with 0 role size even though I have all the right configurations, so came to the root cause which is enum values of ERole not being saved in the database and the Role table is empty.</p>\n<p>ERole enum:</p>\n<pre><code>public enum ERole {\n    ROLE_USER,\n    ROLE_MODERATOR,\n    ROLE_ADMIN\n}\n</code></pre>\n<p>Role entity:</p>\n<pre><code>@EqualsAndHashCode\n@NoArgsConstructor\n@Getter\n@Setter\n@Entity\n@Table(name = &quot;roles&quot;)\npublic class Role implements Serializable {\n\n    private static final long serialVersionUID = 1L;\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private Long id;\n    @Enumerated(EnumType.STRING)\n    @Column(length = 20)\n    private ERole role;\n    @ManyToMany(mappedBy=&quot;roles&quot;)\n    private List&lt;User&gt; users = new ArrayList&lt;&gt;();\n    public Role(ERole role) {\n        this.role = role;\n    }\n}\n</code></pre>\n<p>User entity:</p>\n<pre><code>@Getter\n@Setter\n@NoArgsConstructor\n@EqualsAndHashCode\n@Entity\n@Table(name = &quot;users&quot;,\n        uniqueConstraints = {\n                @UniqueConstraint(columnNames = &quot;name&quot;),\n        })\npublic class User implements Serializable {\n    private static final long serialVersionUID = 1L;\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private Long id;\n    private String name;\n    private String pass;\n\n    @JsonIgnoreProperties(&quot;users&quot;)\n    @ManyToMany(cascade = CascadeType.ALL, fetch = FetchType.EAGER)\n    @JoinTable(name = &quot;user_roles&quot;,\n            joinColumns = { @JoinColumn(name = &quot;user_id&quot;) },\n            inverseJoinColumns = { @JoinColumn(name = &quot;role_id&quot;) })\n    private List&lt;Role&gt; roles = new ArrayList&lt;&gt;();\n    public User(String name, String pass) {\n        this.name = name;\n        this.pass = pass;\n    }\n}\n</code></pre>\n<p>As you see below in the diagram Role entity has the role column with ERole type\n<a href=\"https://i.stack.imgur.com/LXSlJ.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/LXSlJ.jpg\" alt=\"enter image description here\" /></a></p>\n<p>I have seen the oter similar threads where it is suggested to use the @Enumerated(EnumType.STRING) which I've been using in the first place.</p>\n"},{"tags":["java","android","localdate","localtime"],"comments":[{"owner":{"account_id":1710326,"reputation":10640,"user_id":1568530,"accept_rate":60,"display_name":"Vladyslav Matviienko"},"score":0,"creation_date":1561098331,"post_id":56695997,"comment_id":99960112,"body_markdown":"It is quite obvious that you can&#39;t use newer features on older devices. You have to either implement this feature by yourself, or find a library that provides similar functionality","body":"It is quite obvious that you can&#39;t use newer features on older devices. You have to either implement this feature by yourself, or find a library that provides similar functionality"},{"owner":{"account_id":18506166,"reputation":147,"user_id":13482411,"display_name":"joakie"},"score":0,"creation_date":1692218140,"post_id":56695997,"comment_id":135595435,"body_markdown":"Many years have past but I just wanted to point out that the comment by @VladyslavMatviienko is not valid anymore.","body":"Many years have past but I just wanted to point out that the comment by @VladyslavMatviienko is not valid anymore."}],"answers":[{"tags":[],"owner":{"account_id":12401582,"reputation":2466,"user_id":9038584,"accept_rate":75,"display_name":"Tenten Ponce"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1561083527,"creation_date":1561083527,"answer_id":56696061,"question_id":56695997,"body_markdown":"You can use [ThreeTenBP](https://www.threeten.org/threetenbp/). But for android it is recommended to use Jake Wharton&#39;s [ThreeTenABP](https://github.com/JakeWharton/ThreeTenABP). \n\n**Why not use ThreeTenBP?**\n\n&gt; Similar to the problems with using Joda-Time on Android, the threetenbp uses a JAR resource for loading timezone information. This is an extremely inefficient mechanism on Android.\n&gt;\n&gt; This library places the timezone information as a standard Android asset and provides a custom loader for parsing it efficiently.\n\n**Why not use Joda-Time?**\n\n&gt; Joda-Time has a very large API which brings with it a very large binary size and large method count. The creator of both JSR-310 and Joda-Time has also said that while Joda-Time isn&#39;t broken, it does have design flaws.\n&gt;\n&gt; If you are using Joda-Time already, there&#39;s little reason to switch unless its size or method count is relevant to you. For new projects, however, this library offers the standard APIs in Java 8 as a much smaller package in not only binary size and method count, but also in API size.\n\nThese explanations came from Jake Wharton&#39;s ThreeTenABP.","title":"How to fix &quot;Call requires API level 26 (current min is 25) &quot; error in Android","body":"<p>You can use <a href=\"https://www.threeten.org/threetenbp/\" rel=\"nofollow noreferrer\">ThreeTenBP</a>. But for android it is recommended to use Jake Wharton's <a href=\"https://github.com/JakeWharton/ThreeTenABP\" rel=\"nofollow noreferrer\">ThreeTenABP</a>.</p>\n<p><strong>Why not use ThreeTenBP?</strong></p>\n<blockquote>\n<p>Similar to the problems with using Joda-Time on Android, the threetenbp uses a JAR resource for loading timezone information. This is an extremely inefficient mechanism on Android.</p>\n<p>This library places the timezone information as a standard Android asset and provides a custom loader for parsing it efficiently.</p>\n</blockquote>\n<p><strong>Why not use Joda-Time?</strong></p>\n<blockquote>\n<p>Joda-Time has a very large API which brings with it a very large binary size and large method count. The creator of both JSR-310 and Joda-Time has also said that while Joda-Time isn't broken, it does have design flaws.</p>\n<p>If you are using Joda-Time already, there's little reason to switch unless its size or method count is relevant to you. For new projects, however, this library offers the standard APIs in Java 8 as a much smaller package in not only binary size and method count, but also in API size.</p>\n</blockquote>\n<p>These explanations came from Jake Wharton's ThreeTenABP.</p>\n"},{"tags":[],"owner":{"account_id":6098078,"reputation":28937,"user_id":4758255,"display_name":"  "},"down_vote_count":2,"up_vote_count":44,"is_accepted":true,"score":42,"last_activity_date":1692248622,"creation_date":1561087958,"answer_id":56696502,"question_id":56695997,"body_markdown":"You need to use https://github.com/JakeWharton/ThreeTenABP to be able using LocalDateTime with Android API &lt; 26.\r\n\r\nAdd the dependencies to your project (please follow the project README):\r\n\r\n    implementation &#39;com.jakewharton.threetenabp:threetenabp:1.2.1&#39;\r\n\r\n\r\nThen change your `LocalDateTime` import from:\r\n\r\n\r\n    import java.time.LocalDateTime;\r\n\r\nto:\r\n\r\n\r\n    import org.threeten.bp.LocalDateTime;\r\n\r\nand please do not forget to call `AndroidThreeTen.init(this)` in your Application class `onCreate` method like;\r\n\r\n    class MyApplication : Application() {\r\n    \r\n        override fun onCreate() {\r\n            super.onCreate()\r\n            AndroidThreeTen.init(this);\r\n        }\r\n    \r\n    }\r\n\r\n----------\r\n\r\n## Update: ##\r\n\r\nThe library mentioned above is no longer the best way as mentioned in [JakeWharton/ThreeTenABP][1] README:\r\n&gt; Attention: Development on this library is winding down. Please consider switching to Android Gradle plugin 4.0, java.time.*, and its core library desugaring feature in the coming months.\r\n\r\nTo use `LocalDateTime` in older API levels, use the desugaring feature from Gradle plugin 4.0:\r\nhttps://developer.android.com/studio/write/java8-support#library-desugaring\r\n\r\n  [1]: https://github.com/JakeWharton/ThreeTenABP","title":"How to fix &quot;Call requires API level 26 (current min is 25) &quot; error in Android","body":"<p>You need to use <a href=\"https://github.com/JakeWharton/ThreeTenABP\" rel=\"nofollow noreferrer\">https://github.com/JakeWharton/ThreeTenABP</a> to be able using LocalDateTime with Android API &lt; 26.</p>\n<p>Add the dependencies to your project (please follow the project README):</p>\n<pre><code>implementation 'com.jakewharton.threetenabp:threetenabp:1.2.1'\n</code></pre>\n<p>Then change your <code>LocalDateTime</code> import from:</p>\n<pre><code>import java.time.LocalDateTime;\n</code></pre>\n<p>to:</p>\n<pre><code>import org.threeten.bp.LocalDateTime;\n</code></pre>\n<p>and please do not forget to call <code>AndroidThreeTen.init(this)</code> in your Application class <code>onCreate</code> method like;</p>\n<pre><code>class MyApplication : Application() {\n\n    override fun onCreate() {\n        super.onCreate()\n        AndroidThreeTen.init(this);\n    }\n\n}\n</code></pre>\n<hr />\n<h2>Update:</h2>\n<p>The library mentioned above is no longer the best way as mentioned in <a href=\"https://github.com/JakeWharton/ThreeTenABP\" rel=\"nofollow noreferrer\">JakeWharton/ThreeTenABP</a> README:</p>\n<blockquote>\n<p>Attention: Development on this library is winding down. Please consider switching to Android Gradle plugin 4.0, java.time.*, and its core library desugaring feature in the coming months.</p>\n</blockquote>\n<p>To use <code>LocalDateTime</code> in older API levels, use the desugaring feature from Gradle plugin 4.0:\n<a href=\"https://developer.android.com/studio/write/java8-support#library-desugaring\" rel=\"nofollow noreferrer\">https://developer.android.com/studio/write/java8-support#library-desugaring</a></p>\n"},{"tags":[],"owner":{"account_id":3892541,"reputation":1057,"user_id":3222339,"accept_rate":43,"display_name":"Jim"},"down_vote_count":0,"up_vote_count":52,"is_accepted":false,"score":52,"last_activity_date":1601359076,"creation_date":1597849601,"answer_id":63489950,"question_id":56695997,"body_markdown":"The best way to use `LocalDateTime` on a lower versions of Android is by desugaring (you must have Android Gradle plugin version 4.0 or higher). Just add the below lines to your `app` module gradle file:\r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/BZdTu.png\r\n\r\n\r\nFinally, add the ff. dependency to your dependencies block:\r\n\r\n`coreLibraryDesugaring &#39;com.android.tools:desugar_jdk_libs:1.0.10&#39;`","title":"How to fix &quot;Call requires API level 26 (current min is 25) &quot; error in Android","body":"<p>The best way to use <code>LocalDateTime</code> on a lower versions of Android is by desugaring (you must have Android Gradle plugin version 4.0 or higher). Just add the below lines to your <code>app</code> module gradle file:</p>\n<p><a href=\"https://i.stack.imgur.com/BZdTu.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/BZdTu.png\" alt=\"enter image description here\" /></a></p>\n<p>Finally, add the ff. dependency to your dependencies block:</p>\n<p><code>coreLibraryDesugaring 'com.android.tools:desugar_jdk_libs:1.0.10'</code></p>\n"},{"tags":[],"owner":{"account_id":10805772,"reputation":1669,"user_id":7948109,"display_name":"Rahul Gaur"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1639981266,"creation_date":1639981266,"answer_id":70418040,"question_id":56695997,"body_markdown":"To use `LocalDateTime` on lower versions of Android is by desugaring (you must have Android Gradle plugin version 4.0 or higher) enable java8 and use the code below in your `app.gradle`\r\n\r\n```\r\nandroid {\r\n    defaultConfig {\r\n        // Required when setting minSdkVersion to 20 or lower\r\n        multiDexEnabled = true\r\n    }\r\n\r\n    compileOptions {\r\n        // Flag to enable support for the new language APIs\r\n        coreLibraryDesugaringEnabled = true // &lt;- this flag is required\r\n\r\n        // Sets Java compatibility to Java 8\r\n        sourceCompatibility = JavaVersion.VERSION_1_8\r\n        targetCompatibility = JavaVersion.VERSION_1_8\r\n    }\r\n\r\n    // For Kotlin projects\r\n    kotlinOptions {\r\n        jvmTarget = &quot;1.8&quot;\r\n    }\r\n}\r\n\r\ndependencies {\r\n    coreLibraryDesugaring(&quot;com.android.tools:desugar_jdk_libs:1.1.5&quot;) // &lt;- this dependency is required\r\n}\r\n```\r\n\r\n\r\n[Supporting docs](https://developer.android.com/studio/write/java8-support#library-desugaring)","title":"How to fix &quot;Call requires API level 26 (current min is 25) &quot; error in Android","body":"<p>To use <code>LocalDateTime</code> on lower versions of Android is by desugaring (you must have Android Gradle plugin version 4.0 or higher) enable java8 and use the code below in your <code>app.gradle</code></p>\n<pre><code>android {\n    defaultConfig {\n        // Required when setting minSdkVersion to 20 or lower\n        multiDexEnabled = true\n    }\n\n    compileOptions {\n        // Flag to enable support for the new language APIs\n        coreLibraryDesugaringEnabled = true // &lt;- this flag is required\n\n        // Sets Java compatibility to Java 8\n        sourceCompatibility = JavaVersion.VERSION_1_8\n        targetCompatibility = JavaVersion.VERSION_1_8\n    }\n\n    // For Kotlin projects\n    kotlinOptions {\n        jvmTarget = &quot;1.8&quot;\n    }\n}\n\ndependencies {\n    coreLibraryDesugaring(&quot;com.android.tools:desugar_jdk_libs:1.1.5&quot;) // &lt;- this dependency is required\n}\n</code></pre>\n<p><a href=\"https://developer.android.com/studio/write/java8-support#library-desugaring\" rel=\"noreferrer\">Supporting docs</a></p>\n"},{"tags":[],"owner":{"account_id":7626501,"reputation":1346,"user_id":5782795,"display_name":"Amir"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1646280686,"creation_date":1646280686,"answer_id":71332061,"question_id":56695997,"body_markdown":"If you have `coreLibraryDesugaringEnabled = true ` as mentioned above but still see the issue is not resolved, check that you have the latest coreLibraryDesugaring version as in my case it was `1.1.1` which upgrading to `1.1.5` fixed the issue.\r\n","title":"How to fix &quot;Call requires API level 26 (current min is 25) &quot; error in Android","body":"<p>If you have <code>coreLibraryDesugaringEnabled = true </code> as mentioned above but still see the issue is not resolved, check that you have the latest coreLibraryDesugaring version as in my case it was <code>1.1.1</code> which upgrading to <code>1.1.5</code> fixed the issue.</p>\n"},{"tags":[],"owner":{"account_id":26719252,"reputation":1,"user_id":20323388,"display_name":"Kenneth Tiet"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669861276,"creation_date":1669861276,"answer_id":74636292,"question_id":56695997,"body_markdown":"Don&#39;t forget to click &#39;Sync Project With Gradle Files&#39; for the configurations to take into effect.\r\n\r\nThis resolves the warning messages that remain.","title":"How to fix &quot;Call requires API level 26 (current min is 25) &quot; error in Android","body":"<p>Don't forget to click 'Sync Project With Gradle Files' for the configurations to take into effect.</p>\n<p>This resolves the warning messages that remain.</p>\n"}],"owner":{"account_id":15993409,"reputation":423,"user_id":11541955,"display_name":"Anna"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":27248,"favorite_count":0,"down_vote_count":1,"up_vote_count":42,"accepted_answer_id":56696502,"answer_count":6,"score":41,"last_activity_date":1692248622,"creation_date":1561082797,"question_id":56695997,"body_markdown":"I know this question may be duplicated but I didn&#39;t find any answer for my problem, I&#39;m using `LocalDateTime` in my Android app that requires API 26 and my device&#39;s API is 25. \r\n\r\nWhat can I do? Your help will be very appreciated.","title":"How to fix &quot;Call requires API level 26 (current min is 25) &quot; error in Android","body":"<p>I know this question may be duplicated but I didn't find any answer for my problem, I'm using <code>LocalDateTime</code> in my Android app that requires API 26 and my device's API is 25. </p>\n\n<p>What can I do? Your help will be very appreciated.</p>\n"},{"tags":["java","spring-boot","hibernate","spring-data-jpa"],"comments":[{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1692208803,"post_id":76912941,"comment_id":135593721,"body_markdown":"Do you mean Spring *Boot* version 3.1.0?","body":"Do you mean Spring <i>Boot</i> version 3.1.0?"},{"owner":{"account_id":456840,"reputation":2947,"user_id":855809,"accept_rate":59,"display_name":"Knight71"},"score":0,"creation_date":1692234489,"post_id":76912941,"comment_id":135597199,"body_markdown":"yes spring boot version","body":"yes spring boot version"},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1692244456,"post_id":76912941,"comment_id":135597931,"body_markdown":"So fix your Question with that important detail.","body":"So fix your Question with that important detail."}],"answers":[{"tags":[],"owner":{"account_id":5221534,"reputation":314,"user_id":4174849,"display_name":"Omid"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692188250,"creation_date":1692188250,"answer_id":76913477,"question_id":76912941,"body_markdown":"It seems like you&#39;re trying to use the Duration type. The problem is that the Duration type isn&#39;t natively supported by PostgreSQL. While you&#39;re using the @Type(PostgreSQLIntervalType.class) annotation, it appears that Hibernate might not be able to properly map the Duration type to a PostgreSQL interval type.\r\n\r\nTo work around this issue, you might need to handle the mapping of the Duration type yourself, potentially by converting it to an appropriate format that PostgreSQL can understand.\r\n\r\nHere&#39;s a general approach you can consider:\r\n\r\n1- Create a custom attribute converter to convert between Duration and String representations that PostgreSQL can handle.\r\n\r\n    import javax.persistence.AttributeConverter;\r\n    import javax.persistence.Converter;\r\n    import java.time.Duration;\r\n\r\n    @Converter\r\n    public class DurationToStringConverter implements AttributeConverter&lt;Duration, String&gt; {\r\n\r\n    @Override\r\n    public String convertToDatabaseColumn(Duration attribute) {\r\n        return attribute.toString(); // Convert Duration to a format PostgreSQL understands\r\n    }\r\n\r\n    @Override\r\n    public Duration convertToEntityAttribute(String dbData) {\r\n        return Duration.parse(dbData); // Convert back from the PostgreSQL format to Duration\r\n     }\r\n    }\r\n\r\n2 - Apply the custom attribute converter to your intervalValue field in your entity class.\r\n\r\n\r\n    @Entity\r\n    public class YourEntity {\r\n    // ...\r\n\r\n    @NonNull\r\n    @Column(name = &quot;interval_value&quot;, nullable = false)\r\n    @Convert(converter = DurationToStringConverter.class)\r\n    private Duration intervalValue;\r\n\r\n    // ... \r\n    }\r\n\r\nBy using this custom attribute converter, you&#39;re effectively converting the Duration type to a String representation that PostgreSQL can handle, and then converting it back to a Duration when retrieving from the database.\r\n\r\n","title":"Unable to build Hibernate SessionFactory when using interval data type","body":"<p>It seems like you're trying to use the Duration type. The problem is that the Duration type isn't natively supported by PostgreSQL. While you're using the @Type(PostgreSQLIntervalType.class) annotation, it appears that Hibernate might not be able to properly map the Duration type to a PostgreSQL interval type.</p>\n<p>To work around this issue, you might need to handle the mapping of the Duration type yourself, potentially by converting it to an appropriate format that PostgreSQL can understand.</p>\n<p>Here's a general approach you can consider:</p>\n<p>1- Create a custom attribute converter to convert between Duration and String representations that PostgreSQL can handle.</p>\n<pre><code>import javax.persistence.AttributeConverter;\nimport javax.persistence.Converter;\nimport java.time.Duration;\n\n@Converter\npublic class DurationToStringConverter implements AttributeConverter&lt;Duration, String&gt; {\n\n@Override\npublic String convertToDatabaseColumn(Duration attribute) {\n    return attribute.toString(); // Convert Duration to a format PostgreSQL understands\n}\n\n@Override\npublic Duration convertToEntityAttribute(String dbData) {\n    return Duration.parse(dbData); // Convert back from the PostgreSQL format to Duration\n }\n}\n</code></pre>\n<p>2 - Apply the custom attribute converter to your intervalValue field in your entity class.</p>\n<pre><code>@Entity\npublic class YourEntity {\n// ...\n\n@NonNull\n@Column(name = &quot;interval_value&quot;, nullable = false)\n@Convert(converter = DurationToStringConverter.class)\nprivate Duration intervalValue;\n\n// ... \n}\n</code></pre>\n<p>By using this custom attribute converter, you're effectively converting the Duration type to a String representation that PostgreSQL can handle, and then converting it back to a Duration when retrieving from the database.</p>\n"}],"owner":{"account_id":456840,"reputation":2947,"user_id":855809,"accept_rate":59,"display_name":"Knight71"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":111,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1692248060,"creation_date":1692183793,"question_id":76912941,"body_markdown":"I am adding the below column in my entity class\r\n\r\n    @NonNull\r\n    @Column(name = &quot;interval_value&quot;, nullable = false)\r\n    @Type(PostgreSQLIntervalType.class)\r\n    private Duration intervalValue;\r\n\r\n\r\nWhen I use the \r\n      \r\n      spring.jpa.hibernate.ddl-auto: create\r\n      database-platform: org.hibernate.dialect.PostgreSQLDialect\r\n\r\nI am getting error in the sql\r\n\r\nUnable to build Hibernate SessionFactory; nested exception is org.hibernate.MappingException: Error creating SQL create commands for table : \r\n\r\nmodule pom.xml\r\n \r\n\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.hypersistence&lt;/groupId&gt;\r\n            &lt;artifactId&gt;hypersistence-utils-hibernate-62&lt;/artifactId&gt;\r\n            &lt;version&gt;3.5.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n       &lt;dependency&gt;\r\n            &lt;groupId&gt;jakarta.validation&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jakarta.validation-api&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n       &lt;dependency&gt;\r\n            &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\r\n            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n            &lt;version&gt;42.6.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\nRoot pom.xml\r\n      \r\n\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;3.1.1&lt;/version&gt;\r\n        &lt;relativePath /&gt; \r\n     &lt;/parent&gt;\r\n\r\nHow to add interval column using spring jpa entity ?","title":"Unable to build Hibernate SessionFactory when using interval data type","body":"<p>I am adding the below column in my entity class</p>\n<pre><code>@NonNull\n@Column(name = &quot;interval_value&quot;, nullable = false)\n@Type(PostgreSQLIntervalType.class)\nprivate Duration intervalValue;\n</code></pre>\n<p>When I use the</p>\n<pre><code>  spring.jpa.hibernate.ddl-auto: create\n  database-platform: org.hibernate.dialect.PostgreSQLDialect\n</code></pre>\n<p>I am getting error in the sql</p>\n<p>Unable to build Hibernate SessionFactory; nested exception is org.hibernate.MappingException: Error creating SQL create commands for table :</p>\n<p>module pom.xml</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;io.hypersistence&lt;/groupId&gt;\n        &lt;artifactId&gt;hypersistence-utils-hibernate-62&lt;/artifactId&gt;\n        &lt;version&gt;3.5.0&lt;/version&gt;\n    &lt;/dependency&gt;\n   &lt;dependency&gt;\n        &lt;groupId&gt;jakarta.validation&lt;/groupId&gt;\n        &lt;artifactId&gt;jakarta.validation-api&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n   &lt;dependency&gt;\n        &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n        &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n        &lt;version&gt;42.6.0&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>Root pom.xml</p>\n<pre><code>&lt;parent&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n    &lt;version&gt;3.1.1&lt;/version&gt;\n    &lt;relativePath /&gt; \n &lt;/parent&gt;\n</code></pre>\n<p>How to add interval column using spring jpa entity ?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":3,"creation_date":1471653706,"post_id":39049298,"comment_id":65448433,"body_markdown":"Er, get the users to tell you? In the file name? You don&#39;t actually need the class name, only the filename.","body":"Er, get the users to tell you? In the file name? You don&#39;t actually need the class name, only the filename."},{"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"score":0,"creation_date":1471654397,"post_id":39049298,"comment_id":65448540,"body_markdown":"Now that I read your question text again, I&#39;m confused. If *&quot;users [...] send [you] a .java file&quot;*, then you already know the name of the file, so why renamed it. And since the file is supposed to contain a `public` class, it&#39;s up to the user to ensure it does. Knowing the name of the file means you also know the name of the class, so you know how to both compile and run it.","body":"Now that I read your question text again, I&#39;m confused. If <i>&quot;users [...] send [you] a .java file&quot;</i>, then you already know the name of the file, so why renamed it. And since the file is supposed to contain a <code>public</code> class, it&#39;s up to the user to ensure it does. Knowing the name of the file means you also know the name of the class, so you know how to both compile and run it."},{"owner":{"account_id":6354503,"reputation":1344,"user_id":4932340,"accept_rate":48,"display_name":"Trevor"},"score":0,"creation_date":1471655915,"post_id":39049298,"comment_id":65448748,"body_markdown":"@Andreas to clarify, they are only sending a string of text, not a named file.","body":"@Andreas to clarify, they are only sending a string of text, not a named file."},{"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"score":0,"creation_date":1471658263,"post_id":39049298,"comment_id":65449058,"body_markdown":"So instruct them to call the class something specific, e.g. `Challenge`, `Assignment`, `Exercise`, etc. If you name the file `Challenge.java` and it won&#39;t compile, or if it compiles but doesn&#39;t create a class of the right name, or the class doesn&#39;t have a `main()` method, then they failed the challenge/assignment/exercise.","body":"So instruct them to call the class something specific, e.g. <code>Challenge</code>, <code>Assignment</code>, <code>Exercise</code>, etc. If you name the file <code>Challenge.java</code> and it won&#39;t compile, or if it compiles but doesn&#39;t create a class of the right name, or the class doesn&#39;t have a <code>main()</code> method, then they failed the challenge/assignment/exercise."}],"answers":[{"tags":[],"owner":{"account_id":5957114,"reputation":281,"user_id":4683365,"display_name":"crystalfrost"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1471653193,"creation_date":1471653193,"answer_id":39049374,"question_id":39049298,"body_markdown":"You can actually compile the class if you do not declare it as public.\r\n\r\nexample: \r\n\r\n    class Test {\r\n       public static void main(String[] args) {\r\n           System.out.println(&quot;Hello world&quot;);\r\n       }\r\n    }\r\n\r\nSave the file as .java, and compile as such on the cmd \r\n\r\n    javac .java\r\n\r\nYou can run afterwards by using the class name\r\n\r\n    java Test","title":"Compile .java file without knowing public class name","body":"<p>You can actually compile the class if you do not declare it as public.</p>\n\n<p>example: </p>\n\n<pre><code>class Test {\n   public static void main(String[] args) {\n       System.out.println(\"Hello world\");\n   }\n}\n</code></pre>\n\n<p>Save the file as .java, and compile as such on the cmd </p>\n\n<pre><code>javac .java\n</code></pre>\n\n<p>You can run afterwards by using the class name</p>\n\n<pre><code>java Test\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8794835,"reputation":75,"user_id":6573035,"display_name":"Suny"},"down_vote_count":4,"up_vote_count":1,"is_accepted":false,"score":-3,"last_activity_date":1471653999,"creation_date":1471653732,"answer_id":39049424,"question_id":39049298,"body_markdown":"The name of the class to keep the same name compiledIn &quot;public class HelloWorld &quot;,&#39;HelloWorld&#39; is the class name,At the same time,it is name of \r\ncompiled.&lt;br/&gt;\r\n\r\n    public class Hello{\r\n            public static void main(String[] args) {\r\n               System.out.println(&quot;Hello, World&quot;);\r\n        }\r\n    }\r\n\r\n&lt;br/&gt;\r\nThat you can compiled as such on the cmd `javac Hello.java`.&lt;br/&gt;\r\nRun `java Hello`&lt;br/&gt;\r\n&lt;hr/&gt;\r\n\r\n    public class Hello2{\r\n            public static void main(String[] args) {\r\n               System.out.println(&quot;Hello, Man&quot;);\r\n        }\r\n    }\r\n\r\nYou can complied as such on the cmd `javac Hello2.java`\r\n&lt;br/&gt;\r\nRun `java Hello2`","title":"Compile .java file without knowing public class name","body":"<p>The name of the class to keep the same name compiledIn \"public class HelloWorld \",'HelloWorld' is the class name,At the same time,it is name of \ncompiled.<br/></p>\n\n<pre><code>public class Hello{\n        public static void main(String[] args) {\n           System.out.println(\"Hello, World\");\n    }\n}\n</code></pre>\n\n<p><br/>\nThat you can compiled as such on the cmd <code>javac Hello.java</code>.<br/>\nRun <code>java Hello</code><br/></p>\n\n<hr/>\n\n<pre><code>public class Hello2{\n        public static void main(String[] args) {\n           System.out.println(\"Hello, Man\");\n    }\n}\n</code></pre>\n\n<p>You can complied as such on the cmd <code>javac Hello2.java</code>\n<br/>\nRun <code>java Hello2</code></p>\n"},{"tags":[],"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1471655801,"creation_date":1471654123,"answer_id":39049461,"question_id":39049298,"body_markdown":"&gt; If I were to randomly assign ?????.java a name such as test.java and ran the command javac test.java then it would fail\n&gt;\n&gt; error: class HelloWorld is public, should be declared in a file named HelloWorld.java\n\nOK, so look at the error message!  The compiler is helpfully telling you what the name of the file should be.  Don&#39;t throw that information away.  Parse the error message to find the correct file name, re-name the file, and try again.\n","title":"Compile .java file without knowing public class name","body":"<blockquote>\n<p>If I were to randomly assign ?????.java a name such as test.java and ran the command javac test.java then it would fail</p>\n<p>error: class HelloWorld is public, should be declared in a file named HelloWorld.java</p>\n</blockquote>\n<p>OK, so look at the error message!  The compiler is helpfully telling you what the name of the file should be.  Don't throw that information away.  Parse the error message to find the correct file name, re-name the file, and try again.</p>\n"},{"tags":[],"owner":{"account_id":2693974,"reputation":113,"user_id":2326545,"display_name":"Catenation"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1471656491,"creation_date":1471656491,"answer_id":39049637,"question_id":39049298,"body_markdown":"I have a suggestion. When somebody send you xxxx.jar file, you must save it to somewhere, so you know the folder path. Then you could use below code to get name. After you get the file name and path, use java reflection technology to get the methods and invoke the methods.\r\n\r\n    final static void showAllFiles(File dir) throws Exception\r\n    {\r\n       File[] fs = dir.listFiles();\r\n       for(int i=0; i&lt;fs.length; i++)\r\n       {\r\n          // here you can get file name and path, then use reflection to get the instance and methods.\r\n       }\r\n    }","title":"Compile .java file without knowing public class name","body":"<p>I have a suggestion. When somebody send you xxxx.jar file, you must save it to somewhere, so you know the folder path. Then you could use below code to get name. After you get the file name and path, use java reflection technology to get the methods and invoke the methods.</p>\n\n<pre><code>final static void showAllFiles(File dir) throws Exception\n{\n   File[] fs = dir.listFiles();\n   for(int i=0; i&lt;fs.length; i++)\n   {\n      // here you can get file name and path, then use reflection to get the instance and methods.\n   }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3915513,"reputation":10992,"user_id":3239417,"display_name":"vsminkov"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1471656971,"creation_date":1471656553,"answer_id":39049642,"question_id":39049298,"body_markdown":"Well... To be able to evaluate custom code you also have to know a class name with `main` method.\r\n\r\nI think the cheapest way is to force users to stick to some sort of code convention i.e _&quot;package name should be foo.bar.baz, class name is Qux, main class is mandatory&quot;_. In that case you can just pass through an error message from compiler to user _as is_ and show a code convention.\r\n\r\nLess quick way is to do some dirty tricks like wrapping received code properly with another class with known name, messing with package names and then try to make reflective call to inner classes `main` method, but in that case you&#39;ll have a problems with proper error reports and easy to do it wrong.\r\n\r\nThe proper and potentially long way is to take java source code parser _(like [this][1])_, build AST, find out top-level class, rename file according package/class name and execute javac (or even produce bytecode from AST).\r\n\r\n**EDIT**\r\n\r\nAlso you can take a took at [java-repl][1] project. This can allow you to eval script-like programs.\r\n\r\nHope that helps!\r\n\r\n  [1]: https://github.com/javaparser/javaparser/wiki/Manual\r\n  [2]: https://github.com/albertlatacz/java-repl\r\n","title":"Compile .java file without knowing public class name","body":"<p>Well... To be able to evaluate custom code you also have to know a class name with <code>main</code> method.</p>\n\n<p>I think the cheapest way is to force users to stick to some sort of code convention i.e <em>\"package name should be foo.bar.baz, class name is Qux, main class is mandatory\"</em>. In that case you can just pass through an error message from compiler to user <em>as is</em> and show a code convention.</p>\n\n<p>Less quick way is to do some dirty tricks like wrapping received code properly with another class with known name, messing with package names and then try to make reflective call to inner classes <code>main</code> method, but in that case you'll have a problems with proper error reports and easy to do it wrong.</p>\n\n<p>The proper and potentially long way is to take java source code parser <em>(like <a href=\"https://github.com/javaparser/javaparser/wiki/Manual\" rel=\"nofollow\">this</a>)</em>, build AST, find out top-level class, rename file according package/class name and execute javac (or even produce bytecode from AST).</p>\n\n<p><strong>EDIT</strong></p>\n\n<p>Also you can take a took at <a href=\"https://github.com/javaparser/javaparser/wiki/Manual\" rel=\"nofollow\">java-repl</a> project. This can allow you to eval script-like programs.</p>\n\n<p>Hope that helps!</p>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1471660436,"creation_date":1471658618,"answer_id":39049779,"question_id":39049298,"body_markdown":"There is no easy way to compile a &quot;.java&quot; file if the basename of the source file does not match the class name *in* the source code.  If you don&#39;t know what the filename should be, then your only option is to (partially) parse the source code to find it.\r\n\r\n--------------------\r\n\r\nBut to be honest, this is problem that you should be addressing in a different way:\r\n\r\n  - If you generated the source code yourself, then you *should* know when the class name is, and therefore you *should* be able to deduce the correct name for the &quot;.java&quot; file.\r\n\r\n  - If you are compiling a file that was &quot;provided for you&quot;, then you could (and IMO should) insist that it is provided in a &quot;.java&quot; file with an appropriate filename.  If the filename doesn&#39;t match the classname, that is a mistake ... and you don&#39;t know whether the mistake is the filename or the classname!\r\n\r\n-------\r\n\r\nHere&#39;s a thought experiment for you.  Suppose someone provided you with source code files:\r\n\r\n   - A.java ... contains class `A`.\r\n   - B.java ... also contains class `A`.\r\n\r\nWhat should you do with that?  If you tried to figure out the &quot;correct&quot; filename from class name in the file, you could miss that the user made a mistake in B.java and put the wrong class name into the source code!\r\n\r\nIn short, you have two pieces of contradictory information.  Either of them could be incorrect.  If you let one automatically take precedence over the other, you miss mistakes. \r\n","title":"Compile .java file without knowing public class name","body":"<p>There is no easy way to compile a \".java\" file if the basename of the source file does not match the class name <em>in</em> the source code.  If you don't know what the filename should be, then your only option is to (partially) parse the source code to find it.</p>\n\n<hr>\n\n<p>But to be honest, this is problem that you should be addressing in a different way:</p>\n\n<ul>\n<li><p>If you generated the source code yourself, then you <em>should</em> know when the class name is, and therefore you <em>should</em> be able to deduce the correct name for the \".java\" file.</p></li>\n<li><p>If you are compiling a file that was \"provided for you\", then you could (and IMO should) insist that it is provided in a \".java\" file with an appropriate filename.  If the filename doesn't match the classname, that is a mistake ... and you don't know whether the mistake is the filename or the classname!</p></li>\n</ul>\n\n<hr>\n\n<p>Here's a thought experiment for you.  Suppose someone provided you with source code files:</p>\n\n<ul>\n<li>A.java ... contains class <code>A</code>.</li>\n<li>B.java ... also contains class <code>A</code>.</li>\n</ul>\n\n<p>What should you do with that?  If you tried to figure out the \"correct\" filename from class name in the file, you could miss that the user made a mistake in B.java and put the wrong class name into the source code!</p>\n\n<p>In short, you have two pieces of contradictory information.  Either of them could be incorrect.  If you let one automatically take precedence over the other, you miss mistakes. </p>\n"},{"tags":[],"owner":{"account_id":24234606,"reputation":1,"user_id":18187916,"display_name":"Manoj Neupane"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692246162,"creation_date":1692094057,"answer_id":76905040,"question_id":39049298,"body_markdown":"By now you might have already implemented it.\r\nBut this is for those trying to implement such system now after 2018,\r\nJava 11 supports directly running the java files.\r\n\r\nIf you have xxxx.java file, you can directly execute it with\r\n```\r\njava xxxx.java\r\n```\r\n\r\nThis works with different filename and classname.  \r\nRefer to the [documentation](https://docs.oracle.com/en/java/javase/11/tools/java.html#GUID-3B1CE181-CD30-4178-9602-230B800D4FAE) for the `java` command.\r\n","title":"Compile .java file without knowing public class name","body":"<p>By now you might have already implemented it.\nBut this is for those trying to implement such system now after 2018,\nJava 11 supports directly running the java files.</p>\n<p>If you have xxxx.java file, you can directly execute it with</p>\n<pre><code>java xxxx.java\n</code></pre>\n<p>This works with different filename and classname.<br />\nRefer to the <a href=\"https://docs.oracle.com/en/java/javase/11/tools/java.html#GUID-3B1CE181-CD30-4178-9602-230B800D4FAE\" rel=\"nofollow noreferrer\">documentation</a> for the <code>java</code> command.</p>\n"}],"owner":{"account_id":6354503,"reputation":1344,"user_id":4932340,"accept_rate":48,"display_name":"Trevor"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2061,"favorite_count":0,"down_vote_count":1,"up_vote_count":7,"answer_count":7,"score":6,"last_activity_date":1692246162,"creation_date":1471652388,"question_id":39049298,"body_markdown":"I&#39;d like to know how to compile .java files without knowing the public class name.\r\n\r\nTo provide an example use case: I am operating a sandbox, and users are allowed to send me a string. I write that string to a .java file, which I compile, evaluate the resulting class and reply the output.\r\n\r\n**?????.java**\r\n\r\n    public class HelloWorld {\r\n        public static void main(String[] args) {\r\n            System.out.println(&quot;Hello, World&quot;);\r\n        }\r\n    }\r\n\r\nIf I were to randomly assign `?????.java` a name such as **test.java** and ran the command `javac test.java` then it would fail \r\n\r\n*error: class HelloWorld is public, should be declared in a file named HelloWorld.java* like so:\r\n\r\n**HelloWorld.java**\r\n\r\n    public class HelloWorld {\r\n        public static void main(String[] args) {\r\n            System.out.println(&quot;Hello, World&quot;);\r\n        }\r\n    }\r\n\r\n\r\nIs this possible? Should I forego the ability to compile Java, or is there an alternative solution?","title":"Compile .java file without knowing public class name","body":"<p>I'd like to know how to compile .java files without knowing the public class name.</p>\n\n<p>To provide an example use case: I am operating a sandbox, and users are allowed to send me a string. I write that string to a .java file, which I compile, evaluate the resulting class and reply the output.</p>\n\n<p><strong>?????.java</strong></p>\n\n<pre><code>public class HelloWorld {\n    public static void main(String[] args) {\n        System.out.println(\"Hello, World\");\n    }\n}\n</code></pre>\n\n<p>If I were to randomly assign <code>?????.java</code> a name such as <strong>test.java</strong> and ran the command <code>javac test.java</code> then it would fail </p>\n\n<p><em>error: class HelloWorld is public, should be declared in a file named HelloWorld.java</em> like so:</p>\n\n<p><strong>HelloWorld.java</strong></p>\n\n<pre><code>public class HelloWorld {\n    public static void main(String[] args) {\n        System.out.println(\"Hello, World\");\n    }\n}\n</code></pre>\n\n<p>Is this possible? Should I forego the ability to compile Java, or is there an alternative solution?</p>\n"},{"tags":["java","exception","crash","minecraft","minecraft-fabric"],"answers":[{"tags":[],"owner":{"account_id":24872383,"reputation":68,"user_id":18746743,"display_name":"mineblock11"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1687930580,"creation_date":1687775141,"answer_id":76555796,"question_id":76548583,"body_markdown":"&gt; Caused by: com.mojang.authlib.exceptions.MinecraftClientHttpException: Status: 401\r\n\r\nThis error is harmless, it&#39;s just telling you that you&#39;re not logged into the game because you&#39;re in a development environment - you can just ignore it.\r\n\r\n----------\r\n\r\n&gt; Execution failed for task &#39;:runClient&#39;. Process &#39;command &#39;C:\\Program Files\\Zulu\\zulu-17\\bin\\java.exe&#39;&#39; finished with non-zero exit value -1\r\n\r\nYou should use your IDE&#39;s run configuration. In IntelliJ IDEA and Eclipse, you should run the &quot;Minecraft Client&quot; configuration.\r\n\r\nYour code has nothing to do with this error.\r\n\r\n\r\n----------\r\n\r\nYou need to check if the world is a client world or server world.\r\n\r\nYou should be returning if it is a client world:\r\n\r\n```java\r\nif(world.isClient) {\r\n    return;\r\n}\r\n```\r\n\r\nThis needs to be done as all logic should be done on the server.\r\n\r\n","title":"Minecraft Crashes when Using Command Item","body":"<blockquote>\n<p>Caused by: com.mojang.authlib.exceptions.MinecraftClientHttpException: Status: 401</p>\n</blockquote>\n<p>This error is harmless, it's just telling you that you're not logged into the game because you're in a development environment - you can just ignore it.</p>\n<hr />\n<blockquote>\n<p>Execution failed for task ':runClient'. Process 'command 'C:\\Program Files\\Zulu\\zulu-17\\bin\\java.exe'' finished with non-zero exit value -1</p>\n</blockquote>\n<p>You should use your IDE's run configuration. In IntelliJ IDEA and Eclipse, you should run the &quot;Minecraft Client&quot; configuration.</p>\n<p>Your code has nothing to do with this error.</p>\n<hr />\n<p>You need to check if the world is a client world or server world.</p>\n<p>You should be returning if it is a client world:</p>\n<pre class=\"lang-java prettyprint-override\"><code>if(world.isClient) {\n    return;\n}\n</code></pre>\n<p>This needs to be done as all logic should be done on the server.</p>\n"}],"owner":{"account_id":24972358,"reputation":113,"user_id":18835408,"display_name":"Email User"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":209,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1692245384,"creation_date":1687657059,"question_id":76548583,"body_markdown":"I&#39;m including a simple item in my mod that, when used on an entity, should cause the game to run a command dictated by its name, here is the code: \r\n\r\n            public ActionResult useOnEntity(ItemStack stack, PlayerEntity user, LivingEntity entity, Hand hand) {\r\n            if(user.getItemCooldownManager().getCooldownProgress(this, 0) == 0){\r\n                //user.getWorld().getServer().getCommandManager().executeWithPrefix(user.getServer().getCommandSource(), stack.getName().toString());\r\n                user.getWorld().getServer().getCommandManager().execute(user.getWorld().getServer().getCommandManager().getDispatcher().parse(stack.getName().toString(), user.getServer().getCommandSource()), stack.getName().toString());\r\n                //user.sendMessage(stack.getName());\r\n\r\n                user.getItemCooldownManager().set(this, 40);\r\n            }\r\n\r\n            return super.useOnEntity(stack, user, entity, hand);\r\n        }\r\n\r\nI have tried both of the commented and uncommented code and both lead to the same result when I used the item on a mob, the game crashing with the error: \r\n\r\n&gt; Execution failed for task &#39;:runClient&#39;.\r\n&gt; Process &#39;command &#39;C:\\Program Files\\Zulu\\zulu-17\\bin\\java.exe&#39;&#39; finished with non-zero exit value -1\r\n\r\nI don&#39;t really understand this, it seems to say that it couldn&#39;t run the client, but the client did run and only crashed when I used the item. \r\n\r\n\r\n&lt;br/&gt;\r\n\r\n**UPDATE:** \r\n\r\nAfter following mineblock&#39;s advice, using the &quot;Minecraft Client&quot; configuration the error has changed to say `Cannot invoke &quot;net.minecraft.server.MinecraftServer.getCommandManager()&quot; because the return value of &quot;net.minecraft.world.World.getServer()&quot; is null`. This was caused by my code calling `user.getWorld().getServer()`. \r\n\r\nWhen I changed it to `user.getServer()` it said `...&quot;net.minecraft.entity.player.PlayerEntity.getServer()&quot; is null`\r\n\r\nIn short, if I can&#39;t use `user.getServer()` and I can&#39;t use `world.getServer()` what can I use?","title":"Minecraft Crashes when Using Command Item","body":"<p>I'm including a simple item in my mod that, when used on an entity, should cause the game to run a command dictated by its name, here is the code:</p>\n<pre><code>        public ActionResult useOnEntity(ItemStack stack, PlayerEntity user, LivingEntity entity, Hand hand) {\n        if(user.getItemCooldownManager().getCooldownProgress(this, 0) == 0){\n            //user.getWorld().getServer().getCommandManager().executeWithPrefix(user.getServer().getCommandSource(), stack.getName().toString());\n            user.getWorld().getServer().getCommandManager().execute(user.getWorld().getServer().getCommandManager().getDispatcher().parse(stack.getName().toString(), user.getServer().getCommandSource()), stack.getName().toString());\n            //user.sendMessage(stack.getName());\n\n            user.getItemCooldownManager().set(this, 40);\n        }\n\n        return super.useOnEntity(stack, user, entity, hand);\n    }\n</code></pre>\n<p>I have tried both of the commented and uncommented code and both lead to the same result when I used the item on a mob, the game crashing with the error:</p>\n<blockquote>\n<p>Execution failed for task ':runClient'.\nProcess 'command 'C:\\Program Files\\Zulu\\zulu-17\\bin\\java.exe'' finished with non-zero exit value -1</p>\n</blockquote>\n<p>I don't really understand this, it seems to say that it couldn't run the client, but the client did run and only crashed when I used the item.</p>\n<br/>\n<p><strong>UPDATE:</strong></p>\n<p>After following mineblock's advice, using the &quot;Minecraft Client&quot; configuration the error has changed to say <code>Cannot invoke &quot;net.minecraft.server.MinecraftServer.getCommandManager()&quot; because the return value of &quot;net.minecraft.world.World.getServer()&quot; is null</code>. This was caused by my code calling <code>user.getWorld().getServer()</code>.</p>\n<p>When I changed it to <code>user.getServer()</code> it said <code>...&quot;net.minecraft.entity.player.PlayerEntity.getServer()&quot; is null</code></p>\n<p>In short, if I can't use <code>user.getServer()</code> and I can't use <code>world.getServer()</code> what can I use?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":5907283,"reputation":1464,"user_id":4648586,"accept_rate":60,"display_name":"Bagus Tesa"},"score":0,"creation_date":1692067409,"post_id":76903147,"comment_id":135571960,"body_markdown":"*&quot;and the method reports an error*&quot; - whats the error? also, have you checked [tag:jena]?","body":"<i>&quot;and the method reports an error</i>&quot; - whats the error? also, have you checked <a href=\"https://stackoverflow.com/questions/tagged/jena\">jena</a>?"},{"owner":{"account_id":26934505,"reputation":1,"user_id":20506338,"display_name":"yongliang chen"},"score":0,"creation_date":1692077783,"post_id":76903147,"comment_id":135572624,"body_markdown":"Open source projects found from github","body":"Open source projects found from github"},{"owner":{"account_id":5907283,"reputation":1464,"user_id":4648586,"accept_rate":60,"display_name":"Bagus Tesa"},"score":0,"creation_date":1692082454,"post_id":76903147,"comment_id":135573174,"body_markdown":"hi yongliang, it would be nice if you could provide a [mcve] to work with. its kind of hard to give concrete suggestion given the state of your question. i do curious whether you have checked [ask] and took a [tour] yet. those material can help you formulate the question better. we can&#39;t help you unless you help us to understand the problem better..","body":"hi yongliang, it would be nice if you could provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> to work with. its kind of hard to give concrete suggestion given the state of your question. i do curious whether you have checked <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a> and took a <a href=\"https://stackoverflow.com/tour\">tour</a> yet. those material can help you formulate the question better. we can&#39;t help you unless you help us to understand the problem better.."}],"answers":[{"tags":[],"owner":{"account_id":26934505,"reputation":1,"user_id":20506338,"display_name":"yongliang chen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692245304,"creation_date":1692101452,"answer_id":76905872,"question_id":76903147,"body_markdown":"Here is the example\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;rdf:RDF xmlns:rdf=&quot;http://www.w3.org/1999/02/22-rdf-syntax-ns#&quot; xmlns:cim=&quot;http://iec.ch/TC57/2017/CIM-Schema-cim17#&quot; xmlns:md=&quot;http://iec.ch/TC57/61970-552/ModelDescription/1#&quot; xmlns:sgsei=&quot;http://epri.sgcc.com.cn/sgsei&quot;&gt;\r\n&lt;cim:RemoteUnit rdf:ID=&quot;08000000301-00000000003802726935595852084&quot;&gt;\r\n&lt;cim:IdentifiedObject.name/&gt;\r\n&lt;cim:PowerSystemResource.PSRType rdf:resource=&quot;0408003&quot;/&gt;\r\n&lt;cim:RemoteUnit.remoteUnitType rdf:resource=&quot;http://iec.ch/TC57/2017CIM-Schema-cim17#RemoteUnitType.X&quot;/&gt;\r\n&lt;sgsei:RemoteUnit.Equipment rdf:resource=&quot;#2tTcY3W0eYW0fKNvlny1tU&quot;/&gt;\r\n&lt;sgsei:RemoteUnit.Equipment rdf:resource=&quot;#rPvX1ee3to6MW2M2uE7sNU&quot;/&gt;\r\n&lt;sgsei:RemoteUnit.Equipment rdf:resource=&quot;#qxB2S9mcOIun9JbjczHdEU&quot;/&gt;\r\n&lt;sgsei:RemoteUnit.Equipment rdf:resource=&quot;#ArzBZyFrvoWf2ck2Hluuqk&quot;/&gt;\r\n&lt;cim:RemoteUnit.RemotePoints rdf:resource=&quot;#00075-2tTcY3W0eYW0fKNvlny1tU&quot;/&gt;\r\n&lt;cim:RemoteUnit.RemotePoints rdf:resource=&quot;#00075-ArzBZyFrvoWf2ck2Hluuqk&quot;/&gt;\r\n&lt;cim:RemoteUnit.RemotePoints rdf:resource=&quot;#00075-qxB2S9mcOIun9JbjczHdEU&quot;/&gt;\r\n&lt;cim:RemoteUnit.RemotePoints rdf:resource=&quot;#00075-rPvX1ee3to6MW2M2uE7sNU&quot;/&gt;\r\n&lt;/cim:RemoteUnit&gt;\r\n&lt;cim:RemoteSource rdf:ID=&quot;00075-2tTcY3W0eYW0fKNvlny1tU&quot;&gt;\r\n&lt;cim:IdentifiedObject.name/&gt;\r\n&lt;cim:RemoteSource.deadband&gt;0&lt;/cim:RemoteSource.deadband&gt;\r\n&lt;cim:RemoteSource.scanInterval&gt;0&lt;/cim:RemoteSource.scanInterval&gt;\r\n&lt;cim:RemoteSource.sensorMaximum&gt;0&lt;/cim:RemoteSource.sensorMaximum&gt;\r\n&lt;cim:RemoteSource.sensorMinimum&gt;0&lt;/cim:RemoteSource.sensorMinimum&gt;\r\n&lt;/cim:RemoteSource&gt;\r\n&lt;cim:RemoteUnit rdf:ID=&quot;08000000301-00000000003802726935595851640&quot;&gt;\r\n&lt;cim:IdentifiedObject.name/&gt;\r\n&lt;cim:PowerSystemResource.PSRType rdf:resource=&quot;0408003&quot;/&gt;\r\n&lt;cim:RemoteUnit.remoteUnitType rdf:resource=&quot;http://iec.ch/TC57/2017CIM-Schema-cim17#RemoteUnitType.X&quot;/&gt;\r\n&lt;cim:RemoteUnit.CommunicationLinks rdf:resource=&quot;0&quot;/&gt;\r\n&lt;sgsei:RemoteUnit.Equipment rdf:resource=&quot;#30500000-39837314&quot;/&gt;\r\n&lt;sgsei:RemoteUnit.Equipment rdf:resource=&quot;#30500000-39837340&quot;/&gt;\r\n&lt;sgsei:RemoteUnit.Equipment rdf:resource=&quot;#30500000-39837339&quot;/&gt;\r\n&lt;sgsei:RemoteUnit.Equipment rdf:resource=&quot;#30500000-39837329&quot;/&gt;\r\n&lt;cim:RemoteUnit.RemotePoints rdf:resource=&quot;#00075-30500000-39837314&quot;/&gt;\r\n&lt;cim:RemoteUnit.RemotePoints rdf:resource=&quot;#00075-30500000-39837329&quot;/&gt;\r\n&lt;cim:RemoteUnit.RemotePoints rdf:resource=&quot;#00075-30500000-39837339&quot;/&gt;\r\n&lt;cim:RemoteUnit.RemotePoints rdf:resource=&quot;#00075-30500000-39837340&quot;/&gt;\r\n&lt;/cim:RemoteUnit&gt;\r\n&lt;cim:RemoteSource rdf:ID=&quot;00075-30500000-39837314&quot;&gt;\r\n&lt;cim:IdentifiedObject.name/&gt;\r\n&lt;cim:RemoteSource.deadband&gt;0&lt;/cim:RemoteSource.deadband&gt;\r\n&lt;cim:RemoteSource.scanInterval&gt;0&lt;/cim:RemoteSource.scanInterval&gt;\r\n&lt;cim:RemoteSource.sensorMaximum&gt;0&lt;/cim:RemoteSource.sensorMaximum&gt;\r\n&lt;cim:RemoteSource.sensorMinimum&gt;0&lt;/cim:RemoteSource.sensorMinimum&gt;\r\n&lt;/cim:RemoteSource&gt;\r\n&lt;cim:RemoteSource rdf:ID=&quot;00075-30500000-39837329&quot;&gt;\r\n&lt;cim:IdentifiedObject.name/&gt;\r\n&lt;cim:RemoteSource.deadband&gt;0&lt;/cim:RemoteSource.deadband&gt;\r\n&lt;cim:RemoteSource.scanInterval&gt;0&lt;/cim:RemoteSource.scanInterval&gt;\r\n&lt;cim:RemoteSource.sensorMaximum&gt;0&lt;/cim:RemoteSource.sensorMaximum&gt;\r\n&lt;cim:RemoteSource.sensorMinimum&gt;0&lt;/cim:RemoteSource.sensorMinimum&gt;\r\n&lt;/cim:RemoteSource&gt;\r\n&lt;cim:RemoteSource rdf:ID=&quot;00075-30500000-39837339&quot;&gt;\r\n&lt;cim:IdentifiedObject.name/&gt;\r\n&lt;cim:RemoteSource.deadband&gt;0&lt;/cim:RemoteSource.deadband&gt;\r\n&lt;cim:RemoteSource.scanInterval&gt;0&lt;/cim:RemoteSource.scanInterval&gt;\r\n&lt;cim:RemoteSource.sensorMaximum&gt;0&lt;/cim:RemoteSource.sensorMaximum&gt;\r\n&lt;cim:RemoteSource.sensorMinimum&gt;0&lt;/cim:RemoteSource.sensorMinimum&gt;\r\n&lt;/cim:RemoteSource&gt;\r\n&lt;cim:RemoteSource rdf:ID=&quot;00075-30500000-39837340&quot;&gt;\r\n&lt;cim:IdentifiedObject.name/&gt;\r\n&lt;cim:RemoteSource.deadband&gt;0&lt;/cim:RemoteSource.deadband&gt;\r\n&lt;cim:RemoteSource.scanInterval&gt;0&lt;/cim:RemoteSource.scanInterval&gt;\r\n&lt;cim:RemoteSource.sensorMaximum&gt;0&lt;/cim:RemoteSource.sensorMaximum&gt;\r\n&lt;cim:RemoteSource.sensorMinimum&gt;0&lt;/cim:RemoteSource.sensorMinimum&gt;\r\n&lt;/cim:RemoteSource&gt;\r\n&lt;cim:RemoteSource rdf:ID=&quot;00075-ArzBZyFrvoWf2ck2Hluuqk&quot;&gt;\r\n&lt;cim:IdentifiedObject.name/&gt;\r\n&lt;cim:RemoteSource.deadband&gt;0&lt;/cim:RemoteSource.deadband&gt;\r\n&lt;cim:RemoteSource.scanInterval&gt;0&lt;/cim:RemoteSource.scanInterval&gt;\r\n&lt;cim:RemoteSource.sensorMaximum&gt;0&lt;/cim:RemoteSource.sensorMaximum&gt;\r\n&lt;cim:RemoteSource.sensorMinimum&gt;0&lt;/cim:RemoteSource.sensorMinimum&gt;\r\n&lt;/cim:RemoteSource&gt;\r\n&lt;cim:RemoteSource rdf:ID=&quot;00075-qxB2S9mcOIun9JbjczHdEU&quot;&gt;\r\n&lt;cim:IdentifiedObject.name/&gt;\r\n&lt;cim:RemoteSource.deadband&gt;0&lt;/cim:RemoteSource.deadband&gt;\r\n&lt;cim:RemoteSource.scanInterval&gt;0&lt;/cim:RemoteSource.scanInterval&gt;\r\n&lt;cim:RemoteSource.sensorMaximum&gt;0&lt;/cim:RemoteSource.sensorMaximum&gt;\r\n&lt;cim:RemoteSource.sensorMinimum&gt;0&lt;/cim:RemoteSource.sensorMinimum&gt;\r\n&lt;/cim:RemoteSource&gt;&lt;cim:RemoteSource rdf:ID=&quot;00075-rPvX1ee3to6MW2M2uE7sNU&quot;&gt;\r\n&lt;cim:IdentifiedObject.name/&gt;\r\n&lt;cim:RemoteSource.deadband&gt;0&lt;/cim:RemoteSource.deadband&gt;\r\n&lt;cim:RemoteSource.scanInterval&gt;0&lt;/cim:RemoteSource.scanInterval&gt;\r\n&lt;cim:RemoteSource.sensorMaximum&gt;0&lt;/cim:RemoteSource.sensorMaximum&gt;\r\n&lt;cim:RemoteSource.sensorMinimum&gt;0&lt;/cim:RemoteSource.sensorMinimum&gt;\r\n&lt;/cim:RemoteSource&gt;\r\n&lt;/rdf:RDF&gt;\r\n```\r\n","title":"Use Java to convert JSON to rdf documents with .xml suffix","body":"<p>Here is the example</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;rdf:RDF xmlns:rdf=&quot;http://www.w3.org/1999/02/22-rdf-syntax-ns#&quot; xmlns:cim=&quot;http://iec.ch/TC57/2017/CIM-Schema-cim17#&quot; xmlns:md=&quot;http://iec.ch/TC57/61970-552/ModelDescription/1#&quot; xmlns:sgsei=&quot;http://epri.sgcc.com.cn/sgsei&quot;&gt;\n&lt;cim:RemoteUnit rdf:ID=&quot;08000000301-00000000003802726935595852084&quot;&gt;\n&lt;cim:IdentifiedObject.name/&gt;\n&lt;cim:PowerSystemResource.PSRType rdf:resource=&quot;0408003&quot;/&gt;\n&lt;cim:RemoteUnit.remoteUnitType rdf:resource=&quot;http://iec.ch/TC57/2017CIM-Schema-cim17#RemoteUnitType.X&quot;/&gt;\n&lt;sgsei:RemoteUnit.Equipment rdf:resource=&quot;#2tTcY3W0eYW0fKNvlny1tU&quot;/&gt;\n&lt;sgsei:RemoteUnit.Equipment rdf:resource=&quot;#rPvX1ee3to6MW2M2uE7sNU&quot;/&gt;\n&lt;sgsei:RemoteUnit.Equipment rdf:resource=&quot;#qxB2S9mcOIun9JbjczHdEU&quot;/&gt;\n&lt;sgsei:RemoteUnit.Equipment rdf:resource=&quot;#ArzBZyFrvoWf2ck2Hluuqk&quot;/&gt;\n&lt;cim:RemoteUnit.RemotePoints rdf:resource=&quot;#00075-2tTcY3W0eYW0fKNvlny1tU&quot;/&gt;\n&lt;cim:RemoteUnit.RemotePoints rdf:resource=&quot;#00075-ArzBZyFrvoWf2ck2Hluuqk&quot;/&gt;\n&lt;cim:RemoteUnit.RemotePoints rdf:resource=&quot;#00075-qxB2S9mcOIun9JbjczHdEU&quot;/&gt;\n&lt;cim:RemoteUnit.RemotePoints rdf:resource=&quot;#00075-rPvX1ee3to6MW2M2uE7sNU&quot;/&gt;\n&lt;/cim:RemoteUnit&gt;\n&lt;cim:RemoteSource rdf:ID=&quot;00075-2tTcY3W0eYW0fKNvlny1tU&quot;&gt;\n&lt;cim:IdentifiedObject.name/&gt;\n&lt;cim:RemoteSource.deadband&gt;0&lt;/cim:RemoteSource.deadband&gt;\n&lt;cim:RemoteSource.scanInterval&gt;0&lt;/cim:RemoteSource.scanInterval&gt;\n&lt;cim:RemoteSource.sensorMaximum&gt;0&lt;/cim:RemoteSource.sensorMaximum&gt;\n&lt;cim:RemoteSource.sensorMinimum&gt;0&lt;/cim:RemoteSource.sensorMinimum&gt;\n&lt;/cim:RemoteSource&gt;\n&lt;cim:RemoteUnit rdf:ID=&quot;08000000301-00000000003802726935595851640&quot;&gt;\n&lt;cim:IdentifiedObject.name/&gt;\n&lt;cim:PowerSystemResource.PSRType rdf:resource=&quot;0408003&quot;/&gt;\n&lt;cim:RemoteUnit.remoteUnitType rdf:resource=&quot;http://iec.ch/TC57/2017CIM-Schema-cim17#RemoteUnitType.X&quot;/&gt;\n&lt;cim:RemoteUnit.CommunicationLinks rdf:resource=&quot;0&quot;/&gt;\n&lt;sgsei:RemoteUnit.Equipment rdf:resource=&quot;#30500000-39837314&quot;/&gt;\n&lt;sgsei:RemoteUnit.Equipment rdf:resource=&quot;#30500000-39837340&quot;/&gt;\n&lt;sgsei:RemoteUnit.Equipment rdf:resource=&quot;#30500000-39837339&quot;/&gt;\n&lt;sgsei:RemoteUnit.Equipment rdf:resource=&quot;#30500000-39837329&quot;/&gt;\n&lt;cim:RemoteUnit.RemotePoints rdf:resource=&quot;#00075-30500000-39837314&quot;/&gt;\n&lt;cim:RemoteUnit.RemotePoints rdf:resource=&quot;#00075-30500000-39837329&quot;/&gt;\n&lt;cim:RemoteUnit.RemotePoints rdf:resource=&quot;#00075-30500000-39837339&quot;/&gt;\n&lt;cim:RemoteUnit.RemotePoints rdf:resource=&quot;#00075-30500000-39837340&quot;/&gt;\n&lt;/cim:RemoteUnit&gt;\n&lt;cim:RemoteSource rdf:ID=&quot;00075-30500000-39837314&quot;&gt;\n&lt;cim:IdentifiedObject.name/&gt;\n&lt;cim:RemoteSource.deadband&gt;0&lt;/cim:RemoteSource.deadband&gt;\n&lt;cim:RemoteSource.scanInterval&gt;0&lt;/cim:RemoteSource.scanInterval&gt;\n&lt;cim:RemoteSource.sensorMaximum&gt;0&lt;/cim:RemoteSource.sensorMaximum&gt;\n&lt;cim:RemoteSource.sensorMinimum&gt;0&lt;/cim:RemoteSource.sensorMinimum&gt;\n&lt;/cim:RemoteSource&gt;\n&lt;cim:RemoteSource rdf:ID=&quot;00075-30500000-39837329&quot;&gt;\n&lt;cim:IdentifiedObject.name/&gt;\n&lt;cim:RemoteSource.deadband&gt;0&lt;/cim:RemoteSource.deadband&gt;\n&lt;cim:RemoteSource.scanInterval&gt;0&lt;/cim:RemoteSource.scanInterval&gt;\n&lt;cim:RemoteSource.sensorMaximum&gt;0&lt;/cim:RemoteSource.sensorMaximum&gt;\n&lt;cim:RemoteSource.sensorMinimum&gt;0&lt;/cim:RemoteSource.sensorMinimum&gt;\n&lt;/cim:RemoteSource&gt;\n&lt;cim:RemoteSource rdf:ID=&quot;00075-30500000-39837339&quot;&gt;\n&lt;cim:IdentifiedObject.name/&gt;\n&lt;cim:RemoteSource.deadband&gt;0&lt;/cim:RemoteSource.deadband&gt;\n&lt;cim:RemoteSource.scanInterval&gt;0&lt;/cim:RemoteSource.scanInterval&gt;\n&lt;cim:RemoteSource.sensorMaximum&gt;0&lt;/cim:RemoteSource.sensorMaximum&gt;\n&lt;cim:RemoteSource.sensorMinimum&gt;0&lt;/cim:RemoteSource.sensorMinimum&gt;\n&lt;/cim:RemoteSource&gt;\n&lt;cim:RemoteSource rdf:ID=&quot;00075-30500000-39837340&quot;&gt;\n&lt;cim:IdentifiedObject.name/&gt;\n&lt;cim:RemoteSource.deadband&gt;0&lt;/cim:RemoteSource.deadband&gt;\n&lt;cim:RemoteSource.scanInterval&gt;0&lt;/cim:RemoteSource.scanInterval&gt;\n&lt;cim:RemoteSource.sensorMaximum&gt;0&lt;/cim:RemoteSource.sensorMaximum&gt;\n&lt;cim:RemoteSource.sensorMinimum&gt;0&lt;/cim:RemoteSource.sensorMinimum&gt;\n&lt;/cim:RemoteSource&gt;\n&lt;cim:RemoteSource rdf:ID=&quot;00075-ArzBZyFrvoWf2ck2Hluuqk&quot;&gt;\n&lt;cim:IdentifiedObject.name/&gt;\n&lt;cim:RemoteSource.deadband&gt;0&lt;/cim:RemoteSource.deadband&gt;\n&lt;cim:RemoteSource.scanInterval&gt;0&lt;/cim:RemoteSource.scanInterval&gt;\n&lt;cim:RemoteSource.sensorMaximum&gt;0&lt;/cim:RemoteSource.sensorMaximum&gt;\n&lt;cim:RemoteSource.sensorMinimum&gt;0&lt;/cim:RemoteSource.sensorMinimum&gt;\n&lt;/cim:RemoteSource&gt;\n&lt;cim:RemoteSource rdf:ID=&quot;00075-qxB2S9mcOIun9JbjczHdEU&quot;&gt;\n&lt;cim:IdentifiedObject.name/&gt;\n&lt;cim:RemoteSource.deadband&gt;0&lt;/cim:RemoteSource.deadband&gt;\n&lt;cim:RemoteSource.scanInterval&gt;0&lt;/cim:RemoteSource.scanInterval&gt;\n&lt;cim:RemoteSource.sensorMaximum&gt;0&lt;/cim:RemoteSource.sensorMaximum&gt;\n&lt;cim:RemoteSource.sensorMinimum&gt;0&lt;/cim:RemoteSource.sensorMinimum&gt;\n&lt;/cim:RemoteSource&gt;&lt;cim:RemoteSource rdf:ID=&quot;00075-rPvX1ee3to6MW2M2uE7sNU&quot;&gt;\n&lt;cim:IdentifiedObject.name/&gt;\n&lt;cim:RemoteSource.deadband&gt;0&lt;/cim:RemoteSource.deadband&gt;\n&lt;cim:RemoteSource.scanInterval&gt;0&lt;/cim:RemoteSource.scanInterval&gt;\n&lt;cim:RemoteSource.sensorMaximum&gt;0&lt;/cim:RemoteSource.sensorMaximum&gt;\n&lt;cim:RemoteSource.sensorMinimum&gt;0&lt;/cim:RemoteSource.sensorMinimum&gt;\n&lt;/cim:RemoteSource&gt;\n&lt;/rdf:RDF&gt;\n</code></pre>\n"}],"owner":{"account_id":26934505,"reputation":1,"user_id":20506338,"display_name":"yongliang chen"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1692245304,"creation_date":1692067228,"question_id":76903147,"body_markdown":"There are very few examples on the Internet, or the versions are incompatible, and the method reports an error. I have java8, java11, java17, and I dont know how to use rdf4j\n\nI want a simple example that is compatible with various versions of Java, without the need for huge and complicated jar packages","title":"Use Java to convert JSON to rdf documents with .xml suffix","body":"<p>There are very few examples on the Internet, or the versions are incompatible, and the method reports an error. I have java8, java11, java17, and I dont know how to use rdf4j</p>\n<p>I want a simple example that is compatible with various versions of Java, without the need for huge and complicated jar packages</p>\n"},{"tags":["java","karate"],"answers":[{"tags":[],"owner":{"account_id":48302,"reputation":55353,"user_id":143475,"display_name":"Peter Thomas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1692245151,"creation_date":1692245151,"answer_id":76918421,"question_id":76918397,"body_markdown":"A lot depends on how your Maven (or Gradle) build file is set up. So read this first: https://github.com/karatelabs/karate#folder-structure\r\n\r\nOnce that is ok, you should be able to use `classpath:response.json`. Refer to the [docs](https://github.com/karatelabs/karate#reading-files) also.\r\n\r\nIf you have trouble, use the [quickstart or template](https://github.com/karatelabs/karate/wiki/Get-Started:-Maven-and-Gradle) projects as a reference.\r\n","title":"Karate API - How to read Json file from /src/test/resources folder using Junit runner?","body":"<p>A lot depends on how your Maven (or Gradle) build file is set up. So read this first: <a href=\"https://github.com/karatelabs/karate#folder-structure\" rel=\"nofollow noreferrer\">https://github.com/karatelabs/karate#folder-structure</a></p>\n<p>Once that is ok, you should be able to use <code>classpath:response.json</code>. Refer to the <a href=\"https://github.com/karatelabs/karate#reading-files\" rel=\"nofollow noreferrer\">docs</a> also.</p>\n<p>If you have trouble, use the <a href=\"https://github.com/karatelabs/karate/wiki/Get-Started:-Maven-and-Gradle\" rel=\"nofollow noreferrer\">quickstart or template</a> projects as a reference.</p>\n"}],"owner":{"account_id":16676287,"reputation":57,"user_id":12052625,"display_name":"Vinod"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":318,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76918421,"answer_count":1,"score":1,"last_activity_date":1692245151,"creation_date":1692244762,"question_id":76918397,"body_markdown":"In Karate API, I can read a JSON file from &quot;/src/test/resources&quot; folder from a feature file location at &quot;/src/test/java/karate/features/mytest.feature&quot; by using below code:\r\n\r\n    * def content = read(&#39;../../../resources/response.json&#39;)\r\n\r\nthe above code runs fine when I run the feature file, but fails when I run Junit runner with Karate.run(). from the error I came to know that it is looking for the file in target folder and could not find.\r\n\r\nThen I used below code as classpath = /src/test/java \r\n\r\n     * def content = read(&#39;classpath:../resources/response.json&#39;)\r\n\r\nbut this too is not working, \r\nhowever if I place my resources folder under Java and use below code then it works\r\n\r\n     * def content = read(&#39;classpath:resources/response.json&#39;)\r\n\r\nI need help in reading json file from below location\r\n &quot;/src/test/resources&quot;\r\n\r\nso far using classpath keyword, I am not able to move to  &quot;/src/test/resources&quot; folder","title":"Karate API - How to read Json file from /src/test/resources folder using Junit runner?","body":"<p>In Karate API, I can read a JSON file from &quot;/src/test/resources&quot; folder from a feature file location at &quot;/src/test/java/karate/features/mytest.feature&quot; by using below code:</p>\n<pre><code>* def content = read('../../../resources/response.json')\n</code></pre>\n<p>the above code runs fine when I run the feature file, but fails when I run Junit runner with Karate.run(). from the error I came to know that it is looking for the file in target folder and could not find.</p>\n<p>Then I used below code as classpath = /src/test/java</p>\n<pre><code> * def content = read('classpath:../resources/response.json')\n</code></pre>\n<p>but this too is not working,\nhowever if I place my resources folder under Java and use below code then it works</p>\n<pre><code> * def content = read('classpath:resources/response.json')\n</code></pre>\n<p>I need help in reading json file from below location\n&quot;/src/test/resources&quot;</p>\n<p>so far using classpath keyword, I am not able to move to  &quot;/src/test/resources&quot; folder</p>\n"},{"tags":["java","properties","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":2166955,"reputation":24093,"user_id":1919879,"accept_rate":92,"display_name":"luboskrnac"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1542182762,"creation_date":1449777894,"answer_id":34210762,"question_id":34207920,"body_markdown":"1. If you want to map single property, just use `@Value` annotation.\r\n\r\n2. If you have groups, e.g. like these:\r\n\r\n    test1.property1=...\r\n    test1.test2.property2=...\r\n    test1.test2.property3=...\r\n\r\nYou can use\r\n\r\n    import javax.validation.constraints.NotNull;\r\n    \r\n    import lombok.Getter;\r\n    import lombok.Setter;\r\n    \r\n    import org.springframework.boot.context.properties.ConfigurationProperties;\r\n    import org.springframework.boot.context.properties.EnableConfigurationProperties;\r\n    import org.springframework.context.annotation.Configuration;\r\n    \r\n    @Getter\r\n    @Setter\r\n    @Configuration\r\n    @EnableConfigurationProperties\r\n    @ConfigurationProperties(locations = &quot;classpath:myapp.properties&quot;)\r\n    public class ApplicationProperties {\r\n    \r\n        private String property1;\r\n        private Test2 test2;\r\n    \r\n        @Getter\r\n        @Setter\r\n        @ConfigurationProperties(prefix = &quot;test2&quot;)\r\n        public static class Test2 {\r\n            @NotNull\r\n            private String property2;\r\n            @NotNull\r\n            private String property3;\r\n        }\r\n    }\r\n\r\n","title":"@ConfigurationProperties on fields","body":"<ol>\n<li><p>If you want to map single property, just use <code>@Value</code> annotation.</p></li>\n<li><p>If you have groups, e.g. like these:</p>\n\n<p>test1.property1=...\ntest1.test2.property2=...\ntest1.test2.property3=...</p></li>\n</ol>\n\n<p>You can use</p>\n\n<pre><code>import javax.validation.constraints.NotNull;\n\nimport lombok.Getter;\nimport lombok.Setter;\n\nimport org.springframework.boot.context.properties.ConfigurationProperties;\nimport org.springframework.boot.context.properties.EnableConfigurationProperties;\nimport org.springframework.context.annotation.Configuration;\n\n@Getter\n@Setter\n@Configuration\n@EnableConfigurationProperties\n@ConfigurationProperties(locations = \"classpath:myapp.properties\")\npublic class ApplicationProperties {\n\n    private String property1;\n    private Test2 test2;\n\n    @Getter\n    @Setter\n    @ConfigurationProperties(prefix = \"test2\")\n    public static class Test2 {\n        @NotNull\n        private String property2;\n        @NotNull\n        private String property3;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":1234227,"reputation":1025,"user_id":1198176,"accept_rate":57,"display_name":"Amer A."},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":9694,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":1,"score":5,"last_activity_date":1692245040,"creation_date":1449767830,"question_id":34207920,"body_markdown":"When defining properties with `@ConfigurationProperties`, can I define the prefix of a specific field instead of the whole class?\r\n\r\nFor example, let&#39;s say we have a Properties class\r\n\r\n    @ConfigurationProperties(prefix = &quot;com.example&quot;)\r\n    public class MyProperties {\r\n        private String host;\r\n        private String port;\r\n        // Geters and setters...\r\n    }\r\nThis will bind the fields `host` and `port` to `com.example.host` and `com.example.port`. Let&#39;s say I want to bind `port` to `com.example.something.port`. The way to do this is to define an Inner class `Something` and add the property `port` there. But if I need more prefixes it will become too cumbersome. I tried to add `@ConfigurationProperties` on the setter because the target of the annotation is `ElementType.TYPE` and `ElementType.METHOD`: \r\n  \r\n\r\n    @ConfigurationProperties(prefix = &quot;com.example.something.port&quot;)\r\n    public void setPort(int port) {...}\r\n\r\nBut it did not work in the end. Is there another way to customise the prefix except via Inner classes?","title":"@ConfigurationProperties on fields","body":"<p>When defining properties with <code>@ConfigurationProperties</code>, can I define the prefix of a specific field instead of the whole class?</p>\n\n<p>For example, let's say we have a Properties class</p>\n\n<pre><code>@ConfigurationProperties(prefix = \"com.example\")\npublic class MyProperties {\n    private String host;\n    private String port;\n    // Geters and setters...\n}\n</code></pre>\n\n<p>This will bind the fields <code>host</code> and <code>port</code> to <code>com.example.host</code> and <code>com.example.port</code>. Let's say I want to bind <code>port</code> to <code>com.example.something.port</code>. The way to do this is to define an Inner class <code>Something</code> and add the property <code>port</code> there. But if I need more prefixes it will become too cumbersome. I tried to add <code>@ConfigurationProperties</code> on the setter because the target of the annotation is <code>ElementType.TYPE</code> and <code>ElementType.METHOD</code>: </p>\n\n<pre><code>@ConfigurationProperties(prefix = \"com.example.something.port\")\npublic void setPort(int port) {...}\n</code></pre>\n\n<p>But it did not work in the end. Is there another way to customise the prefix except via Inner classes?</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9750,"page":242,"page_size":100}
