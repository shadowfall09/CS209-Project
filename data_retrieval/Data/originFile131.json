{"items":[{"tags":["java","maven","automation","frameworks","proguard-maven-plugin"],"comments":[{"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"score":1,"creation_date":1696939467,"post_id":77265370,"comment_id":136214158,"body_markdown":"Please format the error log correctly. It looks like a multiline stacktrace in a single line. That makes it very hard to read. Also provide the pom configuration and what do you mean by your &quot;Maven test framework&quot;. What are you using proguard for exactly?","body":"Please format the error log correctly. It looks like a multiline stacktrace in a single line. That makes it very hard to read. Also provide the pom configuration and what do you mean by your &quot;Maven test framework&quot;. What are you using proguard for exactly?"},{"owner":{"account_id":20856181,"reputation":1,"user_id":15319440,"display_name":"Dheeraj Kumar Rajak"},"score":0,"creation_date":1697092201,"post_id":77265370,"comment_id":136236355,"body_markdown":"I have shared pom.xml and error. The reason for using proguard is we provide frameworks to external companies for use in their projects. One of our key concerns is safeguarding. By hiding the implementation details, we aim to ensure that the core logic behind the framework remain proprietary and inaccessible to others. Maven test framework which we have created for testing.","body":"I have shared pom.xml and error. The reason for using proguard is we provide frameworks to external companies for use in their projects. One of our key concerns is safeguarding. By hiding the implementation details, we aim to ensure that the core logic behind the framework remain proprietary and inaccessible to others. Maven test framework which we have created for testing."}],"owner":{"account_id":20856181,"reputation":1,"user_id":15319440,"display_name":"Dheeraj Kumar Rajak"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697092022,"creation_date":1696937242,"question_id":77265370,"body_markdown":"\r\nI&#39;m encountering the above error when attempting to run mvn clean package. I have a Maven test framework with one test class containing a method, and a main class that creates an object of the test class and calls the method. I haven&#39;t specified anything in proguard.cfg.\r\n\r\nI&#39;m encountering the above error when attempting to run mvn clean package.\r\n\r\n    [INFO] execute ProGuard [-injars, &#39;C:\\Users\\DheerajKumarRajak\\Desktop\\ProguardValidation\\target\\ProguardValidation-1.0-SNAPSHOT.jar&#39;(!META-INF/maven/**) ...&#39;C:\\Users\\DheerajKumarRajak\\Desktop\\ProguardValidation\\target\\ProguardValidation-1.0-SNAPSHOT-small.jar&#39;, -include, &#39;C:\\Users\\DheerajKumarRa\r\n    jak\\Desktop\\ProguardValidation\\src\\main\\resources\\proguard.cfg&#39;, -libraryjars, &#39;C:\\Users\\DheerajKumarRajak\\Desktop\\ProguardValidation\\target\\tempLibrary\r\n    jars\\0&#39;, -printmapping, &#39;C:\\Users\\DheerajKumarRajak\\Desktop\\ProguardValidation\\target\\proguard_map.txt&#39;, -printseeds, &#39;C:\\Users\\DheerajKumarRajak\\Deskto\r\n    p\\ProguardValidation\\target\\proguard_seed.txt&#39;]\r\n    [INFO] proguard jar: [C:\\Users\\DheerajKumarRajak\\.m2\\repository\\com\\guardsquare\\proguard-base\\7.2.2\\proguard-base-7.2.2.jar]\r\n     [proguard] ProGuard, version 7.2.2Warning: org.example.Main: can&#39;t find superclass or interface java.lang.ObjectWarning: org.example.test: can&#39;t find s\r\n    uperclass or interface java.lang.ObjectWarning: org.example.Main: can&#39;t find referenced class java.lang.ObjectWarning: org.example.Main: can&#39;t find refe\r\n    renced class java.lang.ObjectWarning: org.example.Main: can&#39;t find referenced class java.lang.ClassWarning: org.example.Main: can&#39;t find referenced clas\r\n    s java.lang.ClassWarning: org.example.Main: can&#39;t find referenced class java.lang.ClassWarning: org.example.Main: can&#39;t find referenced class java.lang.\r\n    StringWarning: org.example.Main: can&#39;t find referenced class java.lang.StringWarning: org.example.test: can&#39;t find referenced class java.lang.ObjectWarn\r\n    ing: org.example.test: can&#39;t find referenced class java.lang.ObjectWarning: org.example.test: can&#39;t find referenced class java.lang.ClassWarning: org.ex\r\n    ample.test: can&#39;t find referenced class java.lang.SystemWarning: org.example.test: can&#39;t find referenced class java.lang.SystemWarning: org.example.test\r\n    : can&#39;t find referenced class java.lang.ClassWarning: org.example.test: can&#39;t find referenced class java.lang.StringWarning: org.example.test: can&#39;t fin\r\n    d referenced class java.io.PrintStreamWarning: org.example.test: can&#39;t find referenced class java.io.PrintStreamWarning: org.example.test: can&#39;t find re\r\n    ferenced class java.lang.ClassWarning: org.example.test: can&#39;t find referenced class java.lang.ClassWarning: there were 20 unresolved references to clas\r\n    ses or interfaces.         You may need to add missing library jars or update their versions.         If your code works fine without the missing classe\r\n    s, you can suppress         the warnings with &#39;-dontwarn&#39; options.         (https://www.guardsquare.com/proguard/manual/troubleshooting#unresolvedclass)\r\n    Unexpected error java.io.IOException: Please correct the above warnings first.\r\n     [proguard]     at proguard.Initializer.execute(Initializer.java:544) ~[proguard-base-7.2.2.jar:7.2.2]\r\n     [proguard]     at proguard.pass.PassRunner.run(PassRunner.java:24) ~[proguard-base-7.2.2.jar:7.2.2]\r\n     [proguard]     at proguard.ProGuard.initialize(ProGuard.java:328) ~[proguard-base-7.2.2.jar:7.2.2]\r\n     [proguard]     at proguard.ProGuard.execute(ProGuard.java:130) ~[proguard-base-7.2.2.jar:7.2.2]\r\n     [proguard]     at proguard.ProGuard.main(ProGuard.java:623) [proguard-base-7.2.2.jar:7.2.2]\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] BUILD FAILURE\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] Total time:  3.531 s\r\n    [INFO] Finished at: 2023-10-12T11:11:45+05:30\r\n    [INFO] ------------------------------------------------------------------------\r\n    [ERROR] Failed to execute goal com.github.wvengen:proguard-maven-plugin:2.6.0:proguard (default) on project Proguard Validation: Obfuscation failed\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n             xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n             xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \r\n        &lt;groupId&gt;org.example&lt;/groupId&gt;\r\n        &lt;artifactId&gt;ProguardValidation&lt;/artifactId&gt;\r\n        &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n    \r\n        &lt;properties&gt;\r\n            &lt;maven.compiler.source&gt;14&lt;/maven.compiler.source&gt;\r\n            &lt;maven.compiler.target&gt;14&lt;/maven.compiler.target&gt;\r\n            &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n        &lt;/properties&gt;\r\n    \r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.3.0&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n    \r\n        &lt;build&gt;\r\n            &lt;plugins&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;com.github.wvengen&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;proguard-maven-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;2.6.0&lt;/version&gt;\r\n                    &lt;executions&gt;\r\n                        &lt;execution&gt;\r\n                            &lt;phase&gt;package&lt;/phase&gt;\r\n                            &lt;goals&gt;\r\n                                &lt;goal&gt;proguard&lt;/goal&gt;\r\n                            &lt;/goals&gt;\r\n                        &lt;/execution&gt;\r\n                    &lt;/executions&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;putLibraryJarsInTempDir&gt;true&lt;/putLibraryJarsInTempDir&gt;\r\n                        &lt;proguardVersion&gt;7.2.2&lt;/proguardVersion&gt;\r\n                        &lt;obfuscate&gt;true&lt;/obfuscate&gt;\r\n                        &lt;injar&gt;ProguardValidation-1.0-SNAPSHOT.jar&lt;/injar&gt;\r\n                        &lt;outjar&gt;ProguardValidation-1.0-SNAPSHOT-small.jar&lt;/outjar&gt;\r\n                        &lt;proguardInclude&gt;src/main/resources/proguard.cfg&lt;/proguardInclude&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n        &lt;/build&gt;\r\n    &lt;/project&gt;","title":"Error with ProGuard while obfuscating Maven testing framework","body":"<p>I'm encountering the above error when attempting to run mvn clean package. I have a Maven test framework with one test class containing a method, and a main class that creates an object of the test class and calls the method. I haven't specified anything in proguard.cfg.</p>\n<p>I'm encountering the above error when attempting to run mvn clean package.</p>\n<pre><code>[INFO] execute ProGuard [-injars, 'C:\\Users\\DheerajKumarRajak\\Desktop\\ProguardValidation\\target\\ProguardValidation-1.0-SNAPSHOT.jar'(!META-INF/maven/**) ...'C:\\Users\\DheerajKumarRajak\\Desktop\\ProguardValidation\\target\\ProguardValidation-1.0-SNAPSHOT-small.jar', -include, 'C:\\Users\\DheerajKumarRa\njak\\Desktop\\ProguardValidation\\src\\main\\resources\\proguard.cfg', -libraryjars, 'C:\\Users\\DheerajKumarRajak\\Desktop\\ProguardValidation\\target\\tempLibrary\njars\\0', -printmapping, 'C:\\Users\\DheerajKumarRajak\\Desktop\\ProguardValidation\\target\\proguard_map.txt', -printseeds, 'C:\\Users\\DheerajKumarRajak\\Deskto\np\\ProguardValidation\\target\\proguard_seed.txt']\n[INFO] proguard jar: [C:\\Users\\DheerajKumarRajak\\.m2\\repository\\com\\guardsquare\\proguard-base\\7.2.2\\proguard-base-7.2.2.jar]\n [proguard] ProGuard, version 7.2.2Warning: org.example.Main: can't find superclass or interface java.lang.ObjectWarning: org.example.test: can't find s\nuperclass or interface java.lang.ObjectWarning: org.example.Main: can't find referenced class java.lang.ObjectWarning: org.example.Main: can't find refe\nrenced class java.lang.ObjectWarning: org.example.Main: can't find referenced class java.lang.ClassWarning: org.example.Main: can't find referenced clas\ns java.lang.ClassWarning: org.example.Main: can't find referenced class java.lang.ClassWarning: org.example.Main: can't find referenced class java.lang.\nStringWarning: org.example.Main: can't find referenced class java.lang.StringWarning: org.example.test: can't find referenced class java.lang.ObjectWarn\ning: org.example.test: can't find referenced class java.lang.ObjectWarning: org.example.test: can't find referenced class java.lang.ClassWarning: org.ex\nample.test: can't find referenced class java.lang.SystemWarning: org.example.test: can't find referenced class java.lang.SystemWarning: org.example.test\n: can't find referenced class java.lang.ClassWarning: org.example.test: can't find referenced class java.lang.StringWarning: org.example.test: can't fin\nd referenced class java.io.PrintStreamWarning: org.example.test: can't find referenced class java.io.PrintStreamWarning: org.example.test: can't find re\nferenced class java.lang.ClassWarning: org.example.test: can't find referenced class java.lang.ClassWarning: there were 20 unresolved references to clas\nses or interfaces.         You may need to add missing library jars or update their versions.         If your code works fine without the missing classe\ns, you can suppress         the warnings with '-dontwarn' options.         (https://www.guardsquare.com/proguard/manual/troubleshooting#unresolvedclass)\nUnexpected error java.io.IOException: Please correct the above warnings first.\n [proguard]     at proguard.Initializer.execute(Initializer.java:544) ~[proguard-base-7.2.2.jar:7.2.2]\n [proguard]     at proguard.pass.PassRunner.run(PassRunner.java:24) ~[proguard-base-7.2.2.jar:7.2.2]\n [proguard]     at proguard.ProGuard.initialize(ProGuard.java:328) ~[proguard-base-7.2.2.jar:7.2.2]\n [proguard]     at proguard.ProGuard.execute(ProGuard.java:130) ~[proguard-base-7.2.2.jar:7.2.2]\n [proguard]     at proguard.ProGuard.main(ProGuard.java:623) [proguard-base-7.2.2.jar:7.2.2]\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD FAILURE\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time:  3.531 s\n[INFO] Finished at: 2023-10-12T11:11:45+05:30\n[INFO] ------------------------------------------------------------------------\n[ERROR] Failed to execute goal com.github.wvengen:proguard-maven-plugin:2.6.0:proguard (default) on project Proguard Validation: Obfuscation failed\n\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;org.example&lt;/groupId&gt;\n    &lt;artifactId&gt;ProguardValidation&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n\n    &lt;properties&gt;\n        &lt;maven.compiler.source&gt;14&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;14&lt;/maven.compiler.target&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.3.0&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;com.github.wvengen&lt;/groupId&gt;\n                &lt;artifactId&gt;proguard-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.6.0&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;phase&gt;package&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;proguard&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n                &lt;configuration&gt;\n                    &lt;putLibraryJarsInTempDir&gt;true&lt;/putLibraryJarsInTempDir&gt;\n                    &lt;proguardVersion&gt;7.2.2&lt;/proguardVersion&gt;\n                    &lt;obfuscate&gt;true&lt;/obfuscate&gt;\n                    &lt;injar&gt;ProguardValidation-1.0-SNAPSHOT.jar&lt;/injar&gt;\n                    &lt;outjar&gt;ProguardValidation-1.0-SNAPSHOT-small.jar&lt;/outjar&gt;\n                    &lt;proguardInclude&gt;src/main/resources/proguard.cfg&lt;/proguardInclude&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n"},{"tags":["java","gradle"],"comments":[{"owner":{"account_id":7719031,"reputation":2254,"user_id":5845802,"display_name":"PrasadU"},"score":0,"creation_date":1697070921,"post_id":77276528,"comment_id":136234514,"body_markdown":"assuming that you want to read the compatibility flag from build.gradle before running the build - going the shell function (grep / awk) may be the way, OR you can try Toolchains - see https://docs.gradle.org/current/userguide/toolchains.html#toolchains","body":"assuming that you want to read the compatibility flag from build.gradle before running the build - going the shell function (grep / awk) may be the way, OR you can try Toolchains - see <a href=\"https://docs.gradle.org/current/userguide/toolchains.html#toolchains\" rel=\"nofollow noreferrer\">docs.gradle.org/current/userguide/toolchains.html#toolchains</a>"}],"answers":[{"tags":[],"owner":{"account_id":29073167,"reputation":1013,"user_id":22270964,"display_name":"Maksim Eliseev"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1697092012,"creation_date":1697092012,"answer_id":77278158,"question_id":77276528,"body_markdown":"Unfortunately, Gradle CLI doesn&#39;t have a built-in or plug-in observer to retrieve information like Maven does via the [Apache Maven Help Plugin][1].\r\n\r\nBut if you have the ability to modify Gradle build scripts, you can write your own tasks, for example:\r\n\r\n```gradle\r\ntasks.register(&quot;javaSourceCompatibility&quot;) {\r\n    doLast {\r\n        val compileJava = tasks.getByName(&quot;compileJava&quot;, JavaCompile::class)\r\n        print(compileJava.sourceCompatibility)\r\n    }\r\n}\r\n\r\ntasks.register(&quot;javaTargetCompatibility&quot;) {\r\n    doLast {\r\n        val compileJava = tasks.getByName(&quot;compileJava&quot;, JavaCompile::class)\r\n        print(compileJava.targetCompatibility)\r\n    }\r\n}\r\n```\r\n\r\nAnd get information from them as follows:\r\n\r\n```\r\n./gradlew -q --console=plain javaSourceCompatibility\r\n./gradlew -q --console=plain javaTargetCompatibility\r\n```\r\n\r\nNote that the `-q` and `--console=plain` flags are needed to hide all other information except what that the tasks print.\r\n\r\nIf you need to propagate these changes across multiple projects, I recommend you to create a Gradle plugin which will automatically include these tasks in any project.\r\n\r\n  [1]: https://maven.apache.org/plugins/maven-help-plugin/evaluate-mojo.html","title":"How to get Java targetCompatibility from build.gradle via gradle command line","body":"<p>Unfortunately, Gradle CLI doesn't have a built-in or plug-in observer to retrieve information like Maven does via the <a href=\"https://maven.apache.org/plugins/maven-help-plugin/evaluate-mojo.html\" rel=\"nofollow noreferrer\">Apache Maven Help Plugin</a>.</p>\n<p>But if you have the ability to modify Gradle build scripts, you can write your own tasks, for example:</p>\n<pre><code>tasks.register(&quot;javaSourceCompatibility&quot;) {\n    doLast {\n        val compileJava = tasks.getByName(&quot;compileJava&quot;, JavaCompile::class)\n        print(compileJava.sourceCompatibility)\n    }\n}\n\ntasks.register(&quot;javaTargetCompatibility&quot;) {\n    doLast {\n        val compileJava = tasks.getByName(&quot;compileJava&quot;, JavaCompile::class)\n        print(compileJava.targetCompatibility)\n    }\n}\n</code></pre>\n<p>And get information from them as follows:</p>\n<pre><code>./gradlew -q --console=plain javaSourceCompatibility\n./gradlew -q --console=plain javaTargetCompatibility\n</code></pre>\n<p>Note that the <code>-q</code> and <code>--console=plain</code> flags are needed to hide all other information except what that the tasks print.</p>\n<p>If you need to propagate these changes across multiple projects, I recommend you to create a Gradle plugin which will automatically include these tasks in any project.</p>\n"}],"owner":{"account_id":256027,"reputation":4511,"user_id":536466,"accept_rate":75,"display_name":"Julian Suarez"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":105,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77278158,"answer_count":1,"score":1,"last_activity_date":1697092012,"creation_date":1697060292,"question_id":77276528,"body_markdown":"Hey I have a java project setup with gradle, in my file I have something like:\r\n\r\n```\r\ntasks {\r\n    // Set the JVM compatibility versions\r\n    withType&lt;JavaCompile&gt; {\r\n        sourceCompatibility = &quot;21&quot;\r\n        targetCompatibility = &quot;21&quot;\r\n    }\r\n...\r\n```\r\n\r\nFor my CI I want to download the proper JDK to compile my code is there a way to get the java version using gradle CLI?\r\n\r\nI tried with ` ./gradlew properties` and I do get some values with source and target compatibility but it seems to be independent of whatever I put in my build.gradle.kts (is probably the version set by my current gradle version not my project)\r\n\r\nThanks!","title":"How to get Java targetCompatibility from build.gradle via gradle command line","body":"<p>Hey I have a java project setup with gradle, in my file I have something like:</p>\n<pre><code>tasks {\n    // Set the JVM compatibility versions\n    withType&lt;JavaCompile&gt; {\n        sourceCompatibility = &quot;21&quot;\n        targetCompatibility = &quot;21&quot;\n    }\n...\n</code></pre>\n<p>For my CI I want to download the proper JDK to compile my code is there a way to get the java version using gradle CLI?</p>\n<p>I tried with <code> ./gradlew properties</code> and I do get some values with source and target compatibility but it seems to be independent of whatever I put in my build.gradle.kts (is probably the version set by my current gradle version not my project)</p>\n<p>Thanks!</p>\n"},{"tags":["java","spring-boot","spring-security","oauth-2.0"],"comments":[{"owner":{"account_id":308139,"reputation":8199,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"score":0,"creation_date":1697085331,"post_id":77277517,"comment_id":136235576,"body_markdown":"You provide with own introspector instead of configuring Spring default one.","body":"You provide with own introspector instead of configuring Spring default one."}],"answers":[{"tags":[],"owner":{"account_id":25804254,"reputation":774,"user_id":19546048,"display_name":"DingHao"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1697091114,"creation_date":1697091114,"answer_id":77278086,"question_id":77277517,"body_markdown":"    @Bean\r\n    public SecurityFilterChain filterChain(HttpSecurity http, OAuth2ResourceServerProperties properties) throws Exception {\r\n        http\r\n                .authorizeHttpRequests((authorize) -&gt; authorize\r\n                        .anyRequest().authenticated()\r\n                )\r\n                .oauth2ResourceServer((oauth2) -&gt; oauth2\r\n                        .opaqueToken(opaque -&gt; opaque\r\n                                .introspector(new CustomSpringOpaqueTokenIntrospector(properties))\r\n                        )\r\n                );\r\n        return http.build();\r\n    }\r\n\r\n    static class CustomSpringOpaqueTokenIntrospector extends SpringOpaqueTokenIntrospector {\r\n\r\n        public CustomSpringOpaqueTokenIntrospector(OAuth2ResourceServerProperties properties) {\r\n            super(properties.getOpaquetoken().getIntrospectionUri(), properties.getOpaquetoken().getClientId(), properties.getOpaquetoken().getClientSecret());\r\n            setRequestEntityConverter(defaultRequestEntityConverter(URI.create(properties.getOpaquetoken().getIntrospectionUri())));\r\n        }\r\n\r\n        private Converter&lt;String, RequestEntity&lt;?&gt;&gt; defaultRequestEntityConverter(URI introspectionUri) {\r\n            return (token) -&gt; {\r\n                //here you can modify the body of the request\r\n                HttpHeaders headers = requestHeaders();\r\n                MultiValueMap&lt;String, String&gt; body = requestBody(token);\r\n                return new RequestEntity&lt;&gt;(body, headers, HttpMethod.POST, introspectionUri);\r\n            };\r\n        }\r\n\r\n        private HttpHeaders requestHeaders() {\r\n            HttpHeaders headers = new HttpHeaders();\r\n            headers.setAccept(Collections.singletonList(MediaType.APPLICATION_JSON));\r\n            return headers;\r\n        }\r\n\r\n        private MultiValueMap&lt;String, String&gt; requestBody(String token) {\r\n            MultiValueMap&lt;String, String&gt; body = new LinkedMultiValueMap&lt;&gt;();\r\n            body.add(&quot;token&quot;, token);\r\n            return body;\r\n        }\r\n\r\n    }\r\n\r\nOr you can use the default mechanism \r\n\r\n    @Bean\r\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\r\n        http\r\n                .authorizeHttpRequests((authorize) -&gt; authorize\r\n                        .anyRequest().authenticated()\r\n                )\r\n                .oauth2ResourceServer((oauth2) -&gt; oauth2\r\n                        .opaqueToken(Customizer.withDefaults())\r\n                );\r\n        return http.build();\r\n    }\r\n\r\n    @Bean\r\n    SpringOpaqueTokenIntrospector opaqueTokenIntrospector(OAuth2ResourceServerProperties properties) {\r\n        OAuth2ResourceServerProperties.Opaquetoken opaqueToken = properties.getOpaquetoken();\r\n        SpringOpaqueTokenIntrospector springOpaqueTokenIntrospector = new SpringOpaqueTokenIntrospector(opaqueToken.getIntrospectionUri(), opaqueToken.getClientId(),\r\n                opaqueToken.getClientSecret());\r\n        springOpaqueTokenIntrospector.setRequestEntityConverter(defaultRequestEntityConverter(URI.create(properties.getOpaquetoken().getIntrospectionUri())));\r\n        return springOpaqueTokenIntrospector;\r\n    }\r\n\r\n    private Converter&lt;String, RequestEntity&lt;?&gt;&gt; defaultRequestEntityConverter(URI introspectionUri) {\r\n        return (token) -&gt; {\r\n            //here you can modify the body of the request\r\n            HttpHeaders headers = requestHeaders();\r\n            MultiValueMap&lt;String, String&gt; body = requestBody(token);\r\n            return new RequestEntity&lt;&gt;(body, headers, HttpMethod.POST, introspectionUri);\r\n        };\r\n    }\r\n\r\n    private HttpHeaders requestHeaders() {\r\n        HttpHeaders headers = new HttpHeaders();\r\n        headers.setAccept(Collections.singletonList(MediaType.APPLICATION_JSON));\r\n        return headers;\r\n    }\r\n\r\n    private MultiValueMap&lt;String, String&gt; requestBody(String token) {\r\n        MultiValueMap&lt;String, String&gt; body = new LinkedMultiValueMap&lt;&gt;();\r\n        body.add(&quot;token&quot;, token);\r\n        return body;\r\n    }\r\n\r\nI advice use default mechanism","title":"Modify body of request to Oauth2 authentication server in Spring Security 6","body":"<pre><code>@Bean\npublic SecurityFilterChain filterChain(HttpSecurity http, OAuth2ResourceServerProperties properties) throws Exception {\n    http\n            .authorizeHttpRequests((authorize) -&gt; authorize\n                    .anyRequest().authenticated()\n            )\n            .oauth2ResourceServer((oauth2) -&gt; oauth2\n                    .opaqueToken(opaque -&gt; opaque\n                            .introspector(new CustomSpringOpaqueTokenIntrospector(properties))\n                    )\n            );\n    return http.build();\n}\n\nstatic class CustomSpringOpaqueTokenIntrospector extends SpringOpaqueTokenIntrospector {\n\n    public CustomSpringOpaqueTokenIntrospector(OAuth2ResourceServerProperties properties) {\n        super(properties.getOpaquetoken().getIntrospectionUri(), properties.getOpaquetoken().getClientId(), properties.getOpaquetoken().getClientSecret());\n        setRequestEntityConverter(defaultRequestEntityConverter(URI.create(properties.getOpaquetoken().getIntrospectionUri())));\n    }\n\n    private Converter&lt;String, RequestEntity&lt;?&gt;&gt; defaultRequestEntityConverter(URI introspectionUri) {\n        return (token) -&gt; {\n            //here you can modify the body of the request\n            HttpHeaders headers = requestHeaders();\n            MultiValueMap&lt;String, String&gt; body = requestBody(token);\n            return new RequestEntity&lt;&gt;(body, headers, HttpMethod.POST, introspectionUri);\n        };\n    }\n\n    private HttpHeaders requestHeaders() {\n        HttpHeaders headers = new HttpHeaders();\n        headers.setAccept(Collections.singletonList(MediaType.APPLICATION_JSON));\n        return headers;\n    }\n\n    private MultiValueMap&lt;String, String&gt; requestBody(String token) {\n        MultiValueMap&lt;String, String&gt; body = new LinkedMultiValueMap&lt;&gt;();\n        body.add(&quot;token&quot;, token);\n        return body;\n    }\n\n}\n</code></pre>\n<p>Or you can use the default mechanism</p>\n<pre><code>@Bean\npublic SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n    http\n            .authorizeHttpRequests((authorize) -&gt; authorize\n                    .anyRequest().authenticated()\n            )\n            .oauth2ResourceServer((oauth2) -&gt; oauth2\n                    .opaqueToken(Customizer.withDefaults())\n            );\n    return http.build();\n}\n\n@Bean\nSpringOpaqueTokenIntrospector opaqueTokenIntrospector(OAuth2ResourceServerProperties properties) {\n    OAuth2ResourceServerProperties.Opaquetoken opaqueToken = properties.getOpaquetoken();\n    SpringOpaqueTokenIntrospector springOpaqueTokenIntrospector = new SpringOpaqueTokenIntrospector(opaqueToken.getIntrospectionUri(), opaqueToken.getClientId(),\n            opaqueToken.getClientSecret());\n    springOpaqueTokenIntrospector.setRequestEntityConverter(defaultRequestEntityConverter(URI.create(properties.getOpaquetoken().getIntrospectionUri())));\n    return springOpaqueTokenIntrospector;\n}\n\nprivate Converter&lt;String, RequestEntity&lt;?&gt;&gt; defaultRequestEntityConverter(URI introspectionUri) {\n    return (token) -&gt; {\n        //here you can modify the body of the request\n        HttpHeaders headers = requestHeaders();\n        MultiValueMap&lt;String, String&gt; body = requestBody(token);\n        return new RequestEntity&lt;&gt;(body, headers, HttpMethod.POST, introspectionUri);\n    };\n}\n\nprivate HttpHeaders requestHeaders() {\n    HttpHeaders headers = new HttpHeaders();\n    headers.setAccept(Collections.singletonList(MediaType.APPLICATION_JSON));\n    return headers;\n}\n\nprivate MultiValueMap&lt;String, String&gt; requestBody(String token) {\n    MultiValueMap&lt;String, String&gt; body = new LinkedMultiValueMap&lt;&gt;();\n    body.add(&quot;token&quot;, token);\n    return body;\n}\n</code></pre>\n<p>I advice use default mechanism</p>\n"}],"owner":{"account_id":11615972,"reputation":3,"user_id":8508684,"display_name":"Notrome"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":100,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77278086,"answer_count":1,"score":0,"last_activity_date":1697091114,"creation_date":1697081215,"question_id":77277517,"body_markdown":"I&#39;m trying to create a Spring Boot app that contains an Oauth2 resource server with opaque tokens. Here&#39;s my dependencies:\r\n\r\n```xml\r\n&lt;parent&gt;\r\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    &lt;version&gt;3.1.4&lt;/version&gt;\r\n&lt;/parent&gt;\r\n\r\n&lt;dependencies&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n\t    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t    &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n    \t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n\t\t\r\n    &lt;dependency&gt;\r\n\t&lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-security-oauth2-resource-server&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;spring-security-oauth2-jose&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\t\r\n&lt;/dependencies&gt;\r\n```\r\n\r\nAnd my SecurityFilterChain:\r\n\r\n```java\r\n    @Value(&quot;${spring.security.oauth2.resourceserver.opaque-token.introspection-uri}&quot;)\r\n\tString introspectionUri;\r\n\r\n\t@Value(&quot;${spring.security.oauth2.resourceserver.opaque-token.client-id}&quot;)\r\n\tString clientId;\r\n\r\n\t@Value(&quot;${spring.security.oauth2.resourceserver.opaque-token.client-secret}&quot;)\r\n\tString clientSecret;\r\n\r\n    @Bean\r\n\tpublic SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\r\n\t    http\r\n\t        .authorizeHttpRequests((authorize) -&gt; authorize\r\n\t            .anyRequest().authenticated()\r\n\t        )\r\n\t        .oauth2ResourceServer((oauth2) -&gt; oauth2\r\n\t        \t\t.opaqueToken(opaque -&gt; opaque\r\n\t        \t\t\t\t.introspectionUri(this.introspectionUri)\r\n\t        \t\t\t\t.introspectionClientCredentials(this.clientId, this.clientSecret)\r\n\t        \t\t)\r\n\t        );\r\n\t    return http.build();\r\n\t}\r\n```\r\n\r\nThe issue is that the authentication server I need to use does not have &quot;token&quot; as the name of the parameter in the POST request used to authenticate a token. Instead, let&#39;s say it uses &quot;xtoken&quot;. This is preventing the authentication of valid tokens, as shown in my logs:\r\n\r\n```\r\nMapped to com.my.app.TestController#test()\r\nHTTP POST &lt;opaque token introspection URI&gt;\r\nAccept=[application/json, application/*+json]\r\nWriting [{token=[&lt;12345678...&gt;]}] with org.springframework.http.converter.support.AllEncompassingFormHttpMessageConverter\r\nResponse 400 BAD_REQUEST\r\n```\r\n\r\nHow can I modify the body of the request being sent to the authentication server? I initially thought this would be trivial but so far have not found a simple way to configure this.","title":"Modify body of request to Oauth2 authentication server in Spring Security 6","body":"<p>I'm trying to create a Spring Boot app that contains an Oauth2 resource server with opaque tokens. Here's my dependencies:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;parent&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n    &lt;version&gt;3.1.4&lt;/version&gt;\n&lt;/parent&gt;\n\n&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n        \n    &lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-security-oauth2-resource-server&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-security-oauth2-jose&lt;/artifactId&gt;\n    &lt;/dependency&gt;   \n&lt;/dependencies&gt;\n</code></pre>\n<p>And my SecurityFilterChain:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Value(&quot;${spring.security.oauth2.resourceserver.opaque-token.introspection-uri}&quot;)\n    String introspectionUri;\n\n    @Value(&quot;${spring.security.oauth2.resourceserver.opaque-token.client-id}&quot;)\n    String clientId;\n\n    @Value(&quot;${spring.security.oauth2.resourceserver.opaque-token.client-secret}&quot;)\n    String clientSecret;\n\n    @Bean\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n        http\n            .authorizeHttpRequests((authorize) -&gt; authorize\n                .anyRequest().authenticated()\n            )\n            .oauth2ResourceServer((oauth2) -&gt; oauth2\n                    .opaqueToken(opaque -&gt; opaque\n                            .introspectionUri(this.introspectionUri)\n                            .introspectionClientCredentials(this.clientId, this.clientSecret)\n                    )\n            );\n        return http.build();\n    }\n</code></pre>\n<p>The issue is that the authentication server I need to use does not have &quot;token&quot; as the name of the parameter in the POST request used to authenticate a token. Instead, let's say it uses &quot;xtoken&quot;. This is preventing the authentication of valid tokens, as shown in my logs:</p>\n<pre><code>Mapped to com.my.app.TestController#test()\nHTTP POST &lt;opaque token introspection URI&gt;\nAccept=[application/json, application/*+json]\nWriting [{token=[&lt;12345678...&gt;]}] with org.springframework.http.converter.support.AllEncompassingFormHttpMessageConverter\nResponse 400 BAD_REQUEST\n</code></pre>\n<p>How can I modify the body of the request being sent to the authentication server? I initially thought this would be trivial but so far have not found a simple way to configure this.</p>\n"},{"tags":["java","android","unity-game-engine"],"comments":[{"owner":{"account_id":7886651,"reputation":1376,"user_id":5958449,"display_name":"Yoav Gur"},"score":0,"creation_date":1458484881,"post_id":36115022,"comment_id":59870768,"body_markdown":"Usually this means that you are using a different java runtime version that the java version used for compilation.  \nE.g. you compiled your code with java 7 and try to run it with java 8, or vice versa.","body":"Usually this means that you are using a different java runtime version that the java version used for compilation.   E.g. you compiled your code with java 7 and try to run it with java 8, or vice versa."},{"owner":{"account_id":1372683,"reputation":4172,"user_id":1308171,"accept_rate":57,"display_name":"Siddharth"},"score":0,"creation_date":1458484992,"post_id":36115022,"comment_id":59870802,"body_markdown":"@YoavGur, how to solve this problem in mac system? This is big question for me. I can able to understand problem but how to sort this out?","body":"@YoavGur, how to solve this problem in mac system? This is big question for me. I can able to understand problem but how to sort this out?"},{"owner":{"account_id":7886651,"reputation":1376,"user_id":5958449,"display_name":"Yoav Gur"},"score":0,"creation_date":1458485364,"post_id":36115022,"comment_id":59870970,"body_markdown":"What JDK version did you use to compile your code?","body":"What JDK version did you use to compile your code?"},{"owner":{"account_id":1372683,"reputation":4172,"user_id":1308171,"accept_rate":57,"display_name":"Siddharth"},"score":0,"creation_date":1458486021,"post_id":36115022,"comment_id":59871221,"body_markdown":"@YoavGur, Thanks for your reply but I just figure out solution.","body":"@YoavGur, Thanks for your reply but I just figure out solution."},{"owner":{"account_id":2399674,"reputation":2691,"user_id":2097675,"display_name":"JJF"},"score":0,"creation_date":1458486850,"post_id":36115022,"comment_id":59871552,"body_markdown":"@YoavGur Java 8 will happily run Java 7 compiled code.   The reverse is not true however","body":"@YoavGur Java 8 will happily run Java 7 compiled code.   The reverse is not true however"}],"answers":[{"tags":[],"owner":{"account_id":1372683,"reputation":4172,"user_id":1308171,"accept_rate":57,"display_name":"Siddharth"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1537221780,"creation_date":1458485976,"answer_id":36115322,"question_id":36115022,"body_markdown":"I got solution by choose latest version of JDK selection in Unity.\r\n\r\n[![enter image description here][1]][1]\r\n\r\nI just changed Unity JDK path to latest installed version. Then it solved my build problem entirely.\r\n\r\n  [1]: http://i.stack.imgur.com/5o11d.png","title":"Unsupported major.minor version 52.0 - Android Build Error - Unity","body":"<p>I got solution by choose latest version of JDK selection in Unity.</p>\n\n<p><a href=\"https://i.stack.imgur.com/5o11d.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/5o11d.png\" alt=\"enter image description here\"></a></p>\n\n<p>I just changed Unity JDK path to latest installed version. Then it solved my build problem entirely.</p>\n"},{"comments":[{"owner":{"account_id":3914811,"reputation":382,"user_id":3238938,"accept_rate":50,"display_name":"Damien Diehl"},"score":0,"creation_date":1533954869,"post_id":49113187,"comment_id":90549290,"body_markdown":"I cleaned up a lot of my PATH and environmental variables but I think this was the solution. But make sure to restart Unity because it definitely didn&#39;t work until I did that.","body":"I cleaned up a lot of my PATH and environmental variables but I think this was the solution. But make sure to restart Unity because it definitely didn&#39;t work until I did that."}],"tags":[],"owner":{"account_id":8905178,"reputation":46,"user_id":6647260,"display_name":"i.zeynali"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1520263301,"creation_date":1520261667,"answer_id":49113187,"question_id":36115022,"body_markdown":"Add the variable as shown below.\r\nChange to new version of your java ,for me is: jdk1.8.0_65\r\n(make sure restart pc)\r\n**good luck.:)**\r\n![][1]\r\n\r\n  \r\n  [1]: https://i.stack.imgur.com/9dB4t.jpg\r\n","title":"Unsupported major.minor version 52.0 - Android Build Error - Unity","body":"<p>Add the variable as shown below.\nChange to new version of your java ,for me is: jdk1.8.0_65\n(make sure restart pc)\n<strong>good luck.:)</strong>\n<img src=\"https://i.stack.imgur.com/9dB4t.jpg\" alt=\"\"></p>\n"},{"tags":[],"owner":{"account_id":25973083,"reputation":55,"user_id":19687930,"display_name":"Ricardo Alexis Huerta Salazar"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1697090842,"creation_date":1697090842,"answer_id":77278058,"question_id":36115022,"body_markdown":"I solved this by going to:\r\n\r\n    Edit -&gt; Preferences -&gt; External Tools\r\n\r\nAnd then checking all the recommended options:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/lFT3a.png","title":"Unsupported major.minor version 52.0 - Android Build Error - Unity","body":"<p>I solved this by going to:</p>\n<pre><code>Edit -&gt; Preferences -&gt; External Tools\n</code></pre>\n<p>And then checking all the recommended options:</p>\n<p><a href=\"https://i.stack.imgur.com/lFT3a.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/lFT3a.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":1372683,"reputation":4172,"user_id":1308171,"accept_rate":57,"display_name":"Siddharth"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1882,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":36115322,"answer_count":3,"score":2,"last_activity_date":1697090842,"creation_date":1458484414,"question_id":36115022,"body_markdown":"After I have updated my android sdk, I got this type of error when I try to create android build for my game.\r\n\r\n[![enter image description here][1]][1]\r\n\r\nAt present, My game source code contains two plugins, one is Google Play Games and second is RevMob. Before it generated build correctly but at present it is getting above error.\r\n\r\nPlease give some explanation in this. Via google I got so much same forum questions in stack overflow but those are for core platforms. So can&#39;t able to decide how to apply them for unity.\r\n\r\nAt present my terminal java version display like this :\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/YXTks.png\r\n  [2]: http://i.stack.imgur.com/I7464.png","title":"Unsupported major.minor version 52.0 - Android Build Error - Unity","body":"<p>After I have updated my android sdk, I got this type of error when I try to create android build for my game.</p>\n\n<p><a href=\"https://i.stack.imgur.com/YXTks.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/YXTks.png\" alt=\"enter image description here\"></a></p>\n\n<p>At present, My game source code contains two plugins, one is Google Play Games and second is RevMob. Before it generated build correctly but at present it is getting above error.</p>\n\n<p>Please give some explanation in this. Via google I got so much same forum questions in stack overflow but those are for core platforms. So can't able to decide how to apply them for unity.</p>\n\n<p>At present my terminal java version display like this :</p>\n\n<p><a href=\"https://i.stack.imgur.com/I7464.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/I7464.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":["java","gradle","kotlin"],"comments":[{"owner":{"account_id":119433,"reputation":2686,"user_id":311122,"accept_rate":79,"display_name":"Robb"},"score":0,"creation_date":1572357790,"post_id":58608911,"comment_id":103528719,"body_markdown":"possible duplicate: https://stackoverflow.com/questions/39265432/could-not-get-unknown-property-compile-for-object-of-type-org-gradle-api-inter","body":"possible duplicate: <a href=\"https://stackoverflow.com/questions/39265432/could-not-get-unknown-property-compile-for-object-of-type-org-gradle-api-inter\" title=\"could not get unknown property compile for object of type org gradle api inter\">stackoverflow.com/questions/39265432/&hellip;</a>"},{"owner":{"account_id":16290111,"reputation":602,"user_id":11763786,"display_name":"tobsob"},"score":1,"creation_date":1572357995,"post_id":58608911,"comment_id":103528807,"body_markdown":"Possible duplicate of [Could not get unknown property &#39;compile&#39; for object of type org.gradle.api.internal.artifacts.dsl.dependencies.DefaultDependencyHandler](https://stackoverflow.com/questions/39265432/could-not-get-unknown-property-compile-for-object-of-type-org-gradle-api-inter)","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/39265432/could-not-get-unknown-property-compile-for-object-of-type-org-gradle-api-inter\">Could not get unknown property &#39;compile&#39; for object of type org.gradle.api.internal.artifacts.dsl.dependencies.DefaultDe&zwnj;&#8203;pendencyHandler</a>"}],"answers":[{"tags":[],"owner":{"account_id":1884162,"reputation":7056,"user_id":1703730,"display_name":"Bj&#248;rn Vester"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1572363719,"creation_date":1572363719,"answer_id":58610803,"question_id":58608911,"body_markdown":"Remove all those weird plus signs (+) you have after many of your dependency declerations. So, for instance, instead of:\r\n\r\n```\r\nimplementation &#39;com.android.support:appcompat-v7:28.0.0&#39;+\r\n```\r\n\r\nWrite:\r\n\r\n```\r\nimplementation &#39;com.android.support:appcompat-v7:28.0.0&#39;\r\n```\r\n","title":"Could not get unknown property &#39;implementation&#39; for object of type org.gradle.api.internal.artifacts.dsl.dependencies.DefaultDependencyHandler","body":"<p>Remove all those weird plus signs (+) you have after many of your dependency declerations. So, for instance, instead of:</p>\n\n<pre><code>implementation 'com.android.support:appcompat-v7:28.0.0'+\n</code></pre>\n\n<p>Write:</p>\n\n<pre><code>implementation 'com.android.support:appcompat-v7:28.0.0'\n</code></pre>\n"}],"owner":{"account_id":16992508,"reputation":65,"user_id":12291764,"display_name":"lebaneseblonde252"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":11555,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":1,"score":5,"last_activity_date":1697090831,"creation_date":1572357539,"question_id":58608911,"body_markdown":"I&#39;ve searched through previous post and can&#39;t find the answer to my question here is my code from my build.gradle file.\r\n\r\nError: A problem occurred evaluating project &#39;:app&#39;.\r\n&gt; Could not get unknown property &#39;implementation&#39; for object of type org.gradle.api.internal.artifacts.dsl.dependencies.DefaultDependencyHandler.\r\n\r\n        apply plugin: &#39;com.android.application&#39;\r\n    apply plugin: &#39;kotlin-android&#39;\r\n    apply plugin: &#39;kotlin-android-extensions&#39;\r\n    android {\r\n        compileSdkVersion 29\r\n        defaultConfig {\r\n            applicationId &quot;com.loganwiley.findmyphone&quot;\r\n            minSdkVersion 17\r\n            targetSdkVersion 29\r\n            versionCode 1\r\n            versionName &quot;1.0&quot;\r\n            testInstrumentationRunner &quot;android.support.test.runner.AndroidJUnitRunner&quot;\r\n        }\r\n        buildTypes {\r\n            release {\r\n                minifyEnabled false\r\n                proguardFiles getDefaultProguardFile(&#39;proguard-android.txt&#39;), &#39;proguard-rules.pro&#39;\r\n            }\r\n            compileKotlin {\r\n                kotlinOptions.suppressWarnings = true\r\n            }\r\n    \r\n            compileKotlin {\r\n                kotlinOptions {\r\n                    suppressWarnings = true\r\n                }\r\n            }\r\n        }\r\n    }\r\n    \r\n    dependencies {\r\n        implementation fileTree(dir: &#39;libs&#39;, include: [&#39;*.jar&#39;])\r\n        implementation &#39;com.android.support:appcompat-v7:28.0.0&#39;+\r\n        implementation &#39;com.android.support.constraint:constraint-layout:1.0.2&#39;+\r\n        implementation &#39;org.jetbrains.kotlin:kotlin-stdlib-jdk8:$kotlin_version&#39;\r\n        implementation &#39;com.android.support.constraint:constraint-layout:1.0.2&#39;+\r\n        implementation &#39;com.google.firebase:firebase-auth:10.2.4&#39;+\r\n        implementation &#39;com.google.firebase:firebase-database:10.2.4&#39;+\r\n        implementation &#39;com.google.android.gms:play-services-maps:10.2.4&#39;+\r\n        implementation &#39;com.android.support:design:28.0.0&#39;\r\n        implementation &#39;com.android.support.constraint:constraint-layout:1.1.2&#39;+\r\n        testImplementation &#39;junit:junit:4.12&#39;\r\n        androidTestImplementation &#39;com.android.support.test:runner:1.0.2&#39;+\r\n        androidTestImplementation &#39;com.android.support.test.espresso:espresso-core:3.0.2&#39;\r\n    }\r\n    repositories {\r\n        mavenCentral()\r\n    }\r\n    \r\n    apply plugin: &#39;com.google.gms.google-services&#39;","title":"Could not get unknown property &#39;implementation&#39; for object of type org.gradle.api.internal.artifacts.dsl.dependencies.DefaultDependencyHandler","body":"<p>I've searched through previous post and can't find the answer to my question here is my code from my build.gradle file.</p>\n\n<p>Error: A problem occurred evaluating project ':app'.</p>\n\n<blockquote>\n  <p>Could not get unknown property 'implementation' for object of type org.gradle.api.internal.artifacts.dsl.dependencies.DefaultDependencyHandler.</p>\n</blockquote>\n\n<pre><code>    apply plugin: 'com.android.application'\napply plugin: 'kotlin-android'\napply plugin: 'kotlin-android-extensions'\nandroid {\n    compileSdkVersion 29\n    defaultConfig {\n        applicationId \"com.loganwiley.findmyphone\"\n        minSdkVersion 17\n        targetSdkVersion 29\n        versionCode 1\n        versionName \"1.0\"\n        testInstrumentationRunner \"android.support.test.runner.AndroidJUnitRunner\"\n    }\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n        }\n        compileKotlin {\n            kotlinOptions.suppressWarnings = true\n        }\n\n        compileKotlin {\n            kotlinOptions {\n                suppressWarnings = true\n            }\n        }\n    }\n}\n\ndependencies {\n    implementation fileTree(dir: 'libs', include: ['*.jar'])\n    implementation 'com.android.support:appcompat-v7:28.0.0'+\n    implementation 'com.android.support.constraint:constraint-layout:1.0.2'+\n    implementation 'org.jetbrains.kotlin:kotlin-stdlib-jdk8:$kotlin_version'\n    implementation 'com.android.support.constraint:constraint-layout:1.0.2'+\n    implementation 'com.google.firebase:firebase-auth:10.2.4'+\n    implementation 'com.google.firebase:firebase-database:10.2.4'+\n    implementation 'com.google.android.gms:play-services-maps:10.2.4'+\n    implementation 'com.android.support:design:28.0.0'\n    implementation 'com.android.support.constraint:constraint-layout:1.1.2'+\n    testImplementation 'junit:junit:4.12'\n    androidTestImplementation 'com.android.support.test:runner:1.0.2'+\n    androidTestImplementation 'com.android.support.test.espresso:espresso-core:3.0.2'\n}\nrepositories {\n    mavenCentral()\n}\n\napply plugin: 'com.google.gms.google-services'\n</code></pre>\n"},{"tags":["javascript","java","websocket","header"],"comments":[{"owner":{"account_id":1041770,"reputation":29273,"user_id":1047662,"accept_rate":86,"display_name":"Cyclonecode"},"score":1,"creation_date":1436264579,"post_id":31265789,"comment_id":50526617,"body_markdown":"How long are the message you are trying to send? If it&#39;s larger than 125 bytes you need to encode the length in a different manner i.e you must take the extended payload length into consideration.","body":"How long are the message you are trying to send? If it&#39;s larger than 125 bytes you need to encode the length in a different manner i.e you must take the extended payload length into consideration."},{"owner":{"account_id":1080538,"reputation":937,"user_id":1077657,"accept_rate":86,"display_name":"BenJacob"},"score":0,"creation_date":1436264734,"post_id":31265789,"comment_id":50526722,"body_markdown":"Right, of course, so i need to use the next two (or eight) bytes to store the length instead?","body":"Right, of course, so i need to use the next two (or eight) bytes to store the length instead?"},{"owner":{"account_id":1041770,"reputation":29273,"user_id":1047662,"accept_rate":86,"display_name":"Cyclonecode"},"score":0,"creation_date":1436264751,"post_id":31265789,"comment_id":50526729,"body_markdown":"If the length is between 15 and 65535 bytes then your will have to add a two byte extended length, while if it&#39;s larger than 65535 bytes than you&#39;ll need a 4 byte extended length.","body":"If the length is between 15 and 65535 bytes then your will have to add a two byte extended length, while if it&#39;s larger than 65535 bytes than you&#39;ll need a 4 byte extended length."},{"owner":{"account_id":1041770,"reputation":29273,"user_id":1047662,"accept_rate":86,"display_name":"Cyclonecode"},"score":1,"creation_date":1436264786,"post_id":31265789,"comment_id":50526750,"body_markdown":"Checkout http://tools.ietf.org/html/rfc6455, you also have an example here on how to encode your header based on the payload size (this is an php example) https://github.com/CycloneCode/WSServer/blob/master/src/WSServer.php","body":"Checkout <a href=\"http://tools.ietf.org/html/rfc6455\" rel=\"nofollow noreferrer\">tools.ietf.org/html/rfc6455</a>, you also have an example here on how to encode your header based on the payload size (this is an php example) <a href=\"https://github.com/CycloneCode/WSServer/blob/master/src/WSServer.php\" rel=\"nofollow noreferrer\">github.com/CycloneCode/WSServer/blob/master/src/WSServer.php</a>"},{"owner":{"account_id":1041770,"reputation":29273,"user_id":1047662,"accept_rate":86,"display_name":"Cyclonecode"},"score":0,"creation_date":1436264965,"post_id":31265789,"comment_id":50526866,"body_markdown":"Here is another example: http://stackoverflow.com/questions/8125507/how-can-i-send-and-receive-websocket-messages-on-the-server-side","body":"Here is another example: <a href=\"http://stackoverflow.com/questions/8125507/how-can-i-send-and-receive-websocket-messages-on-the-server-side\" title=\"how can i send and receive websocket messages on the server side\">stackoverflow.com/questions/8125507/&hellip;</a>"},{"owner":{"account_id":1080538,"reputation":937,"user_id":1077657,"accept_rate":86,"display_name":"BenJacob"},"score":0,"creation_date":1436265141,"post_id":31265789,"comment_id":50526987,"body_markdown":"Awesome, thanks that helps a lot. (i think you meant 125 not 15 in your second comment)","body":"Awesome, thanks that helps a lot. (i think you meant 125 not 15 in your second comment)"},{"owner":{"account_id":1041770,"reputation":29273,"user_id":1047662,"accept_rate":86,"display_name":"Cyclonecode"},"score":0,"creation_date":1436265175,"post_id":31265789,"comment_id":50527015,"body_markdown":"Haha, yes i did, sorry still a little bit tired =)","body":"Haha, yes i did, sorry still a little bit tired =)"}],"answers":[{"tags":[],"owner":{"account_id":62423,"reputation":3486,"user_id":185498,"display_name":"Manushin Igor"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1535546911,"creation_date":1535546911,"answer_id":52077899,"question_id":31265789,"body_markdown":"Issue is here:\r\n\r\n    byteStream.write(bytes.length);\r\n\r\nThere are different schemas, how to encode integer into the byte array. Please [see Endianness][1] wikipedia article.\r\n\r\nYou have to do something by this (this code fragment is [from .Net WebSocket client][2]):\r\n\r\n    var arrayLengthBytes = BitConverter.GetBytes(bytes.length)\r\n\r\n    if (!BitConverter.IsLittleEndian)\r\n    {\r\n        Array.Reverse(arrayLengthBytes, 0, arrayLengthBytes.Length);\r\n    }\r\n\r\n    byteStream.write(arrayLengthBytes);\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Endianness\r\n  [2]: https://github.com/deniszykov/WebSocketListener/blob/master/vtortola.WebSockets.Rfc6455/Header/WebSocketFrameHeader.cs#L100","title":"Websocket invalid frame header","body":"<p>Issue is here:</p>\n\n<pre><code>byteStream.write(bytes.length);\n</code></pre>\n\n<p>There are different schemas, how to encode integer into the byte array. Please <a href=\"https://en.wikipedia.org/wiki/Endianness\" rel=\"nofollow noreferrer\">see Endianness</a> wikipedia article.</p>\n\n<p>You have to do something by this (this code fragment is <a href=\"https://github.com/deniszykov/WebSocketListener/blob/master/vtortola.WebSockets.Rfc6455/Header/WebSocketFrameHeader.cs#L100\" rel=\"nofollow noreferrer\">from .Net WebSocket client</a>):</p>\n\n<pre><code>var arrayLengthBytes = BitConverter.GetBytes(bytes.length)\n\nif (!BitConverter.IsLittleEndian)\n{\n    Array.Reverse(arrayLengthBytes, 0, arrayLengthBytes.Length);\n}\n\nbyteStream.write(arrayLengthBytes);\n</code></pre>\n"}],"owner":{"account_id":1080538,"reputation":937,"user_id":1077657,"accept_rate":86,"display_name":"BenJacob"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":9336,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1697090831,"creation_date":1436264211,"question_id":31265789,"body_markdown":"I am sending data from a java server to a `javascript` client via a `websocket` in the following manner:\r\n\r\n    private byte[] makeFrame(String message) throws IOException {\r\n        byte[] bytes = message.getBytes(Charset.forName(&quot;UTF-8&quot;));\r\n        ByteArrayOutputStream byteStream = new ByteArrayOutputStream();\r\n        byteStream.write(0x81);\r\n        byteStream.write(bytes.length);\r\n        byteStream.write(bytes);\r\n        byteStream.flush();\r\n        byteStream.close();\r\n        byte[] data = byteStream.toByteArray();\r\n    }\r\n\r\nBut i am getting the error \r\n\r\n    Websocket connection to &#39;ws://localhost:8080/&#39; failed: Invalid frame header\r\n\r\n when the size is large (i believe above 128 bytes). I am unsure whether this is an issue with the op-code or something else.\r\n\r\nMany thanks, Ben","title":"Websocket invalid frame header","body":"<p>I am sending data from a java server to a <code>javascript</code> client via a <code>websocket</code> in the following manner:</p>\n\n<pre><code>private byte[] makeFrame(String message) throws IOException {\n    byte[] bytes = message.getBytes(Charset.forName(\"UTF-8\"));\n    ByteArrayOutputStream byteStream = new ByteArrayOutputStream();\n    byteStream.write(0x81);\n    byteStream.write(bytes.length);\n    byteStream.write(bytes);\n    byteStream.flush();\n    byteStream.close();\n    byte[] data = byteStream.toByteArray();\n}\n</code></pre>\n\n<p>But i am getting the error </p>\n\n<pre><code>Websocket connection to 'ws://localhost:8080/' failed: Invalid frame header\n</code></pre>\n\n<p>when the size is large (i believe above 128 bytes). I am unsure whether this is an issue with the op-code or something else.</p>\n\n<p>Many thanks, Ben</p>\n"},{"tags":["java","mockito","spy"],"answers":[{"tags":[],"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697090778,"creation_date":1697090778,"answer_id":77278054,"question_id":77275170,"body_markdown":"You should be able to use [`@SpyBean`](https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/test/mock/mockito/SpyBean.html):\r\n\r\n&gt; Annotation that can be used to apply Mockito spies to a Spring `ApplicationContext`. Can be used as a class level annotation or on fields in either `@Configuration` classes, or test classes that are `@RunWith` the SpringRunner.\r\n&gt;\r\n&gt; Spies can be applied by type or by bean name. All beans in the context of a matching type (including subclasses) will be wrapped with the spy. If no existing bean is defined a new one will be added. Dependencies that are known to the application context but are not beans (such as those registered directly) will not be found and a spied bean will be added to the context alongside the existing dependency. \r\n\r\n```\r\n@ExtendWith(SpringExtension.class)\r\nclass YourTest {\r\n  @SpyBean\r\n  private ClassThatIsCalled classThatIsCalled;\r\n  @Captor\r\n  private ArgumentCaptor&lt;TypeOfMyParameter&gt; typeOfMyParameter;\r\n\r\n  // ...\r\n}\r\n```\r\n\r\n","title":"How to capture an argument with Mockito and execute real method?","body":"<p>You should be able to use <a href=\"https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/test/mock/mockito/SpyBean.html\" rel=\"nofollow noreferrer\"><code>@SpyBean</code></a>:</p>\n<blockquote>\n<p>Annotation that can be used to apply Mockito spies to a Spring <code>ApplicationContext</code>. Can be used as a class level annotation or on fields in either <code>@Configuration</code> classes, or test classes that are <code>@RunWith</code> the SpringRunner.</p>\n<p>Spies can be applied by type or by bean name. All beans in the context of a matching type (including subclasses) will be wrapped with the spy. If no existing bean is defined a new one will be added. Dependencies that are known to the application context but are not beans (such as those registered directly) will not be found and a spied bean will be added to the context alongside the existing dependency.</p>\n</blockquote>\n<pre><code>@ExtendWith(SpringExtension.class)\nclass YourTest {\n  @SpyBean\n  private ClassThatIsCalled classThatIsCalled;\n  @Captor\n  private ArgumentCaptor&lt;TypeOfMyParameter&gt; typeOfMyParameter;\n\n  // ...\n}\n</code></pre>\n"}],"owner":{"account_id":8188738,"reputation":73,"user_id":6163700,"display_name":"jvdecamargo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":96,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1697090778,"creation_date":1697044995,"question_id":77275170,"body_markdown":"I have some integration tests that use Mockito, and they are working fine. \r\n\r\nHowever, I want to verify that the input of a method that is called some time during the process I&#39;m testing. \r\nThe thing is: I don&#39;t want to mock the method behavior, only to inspect its argument and execute the real method.\r\nIf I do something like this:\r\n\r\n```\r\n@MockBean\r\nprivate ClassThatIsCalled classThatIsCalled;\r\n@Captor\r\nprivate ArgumentCaptor&lt;TypeOfMyParameter&gt; typeOfMyParameter;\r\n```\r\n\r\nI get an error because a dependency of `ClassThatIsCalled` was not found. Even If I do         `given(classThatIsCalled.callMethod(any())).willCallRealMethod();`\r\nI&#39;m still mocking `ClassThatIsCalled` which is not what I want to do.\r\n\r\nIs there a way to call the productive code of `ClassThatIsCalled` (without mocking it) and simply inspect the passed argument?\r\n\r\nTL;DR: I want to use `@Spy`/`@Captor`/similar to inspect an argument passed to a class, but without mocking the class, but calling its real method (using `.willCallRealMethod()` is not enough, since a mocked class has no dependencies injected).","title":"How to capture an argument with Mockito and execute real method?","body":"<p>I have some integration tests that use Mockito, and they are working fine.</p>\n<p>However, I want to verify that the input of a method that is called some time during the process I'm testing.\nThe thing is: I don't want to mock the method behavior, only to inspect its argument and execute the real method.\nIf I do something like this:</p>\n<pre><code>@MockBean\nprivate ClassThatIsCalled classThatIsCalled;\n@Captor\nprivate ArgumentCaptor&lt;TypeOfMyParameter&gt; typeOfMyParameter;\n</code></pre>\n<p>I get an error because a dependency of <code>ClassThatIsCalled</code> was not found. Even If I do         <code>given(classThatIsCalled.callMethod(any())).willCallRealMethod();</code>\nI'm still mocking <code>ClassThatIsCalled</code> which is not what I want to do.</p>\n<p>Is there a way to call the productive code of <code>ClassThatIsCalled</code> (without mocking it) and simply inspect the passed argument?</p>\n<p>TL;DR: I want to use <code>@Spy</code>/<code>@Captor</code>/similar to inspect an argument passed to a class, but without mocking the class, but calling its real method (using <code>.willCallRealMethod()</code> is not enough, since a mocked class has no dependencies injected).</p>\n"},{"tags":["java","spring","rest","validation","javax-validation"],"answers":[{"comments":[{"owner":{"account_id":16223118,"reputation":85,"user_id":11714220,"display_name":"Alfredo Morales"},"score":0,"creation_date":1676335991,"post_id":75441780,"comment_id":133113139,"body_markdown":"yes! thnx @kerbermeister, after I post the question I came across this post: https://stackoverflow.com/questions/63373437/custom-validation-with-javax-validation , pretty much your answer, and yes this does works, thnx again dude :)","body":"yes! thnx @kerbermeister, after I post the question I came across this post: <a href=\"https://stackoverflow.com/questions/63373437/custom-validation-with-javax-validation\" title=\"custom validation with javax validation\">stackoverflow.com/questions/63373437/&hellip;</a> , pretty much your answer, and yes this does works, thnx again dude :)"}],"tags":[],"owner":{"account_id":19395247,"reputation":3208,"user_id":14183092,"display_name":"kerbermeister"},"comment_count":1,"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1694410136,"creation_date":1676327185,"answer_id":75441780,"question_id":75441493,"body_markdown":"Yes, you could write your own annotations and validators for them.\r\n\r\nYour annotation would look like this:\r\n\r\n&lt;!-- language: java --&gt;\r\n    @Documented\r\n    @Constraint(validatedBy = Base64Validator.class)\r\n    @Target( { ElementType.FIELD })\r\n    @Retention(RetentionPolicy.RUNTIME)\r\n    public @interface IsBase64 {\r\n        String message() default &quot;The string is not base64 string&quot;;\r\n        Class&lt;?&gt;[] groups() default {};\r\n        Class&lt;? extends Payload&gt;[] payload() default {};\r\n    }\r\n\r\nConstraint validator `javax.validation` implementation (I&#39;m using here your code for the actual validation):\r\n\r\n    public class Base64Validator implements ConstraintValidator&lt;IsBase64, String&gt; {\r\n        \r\n        @Override\r\n        public boolean isValid(String value, ConstraintValidatorContext cxt) {\r\n            try {\r\n                Base64.getDecoder().decode(value);\r\n                return true;\r\n            } catch(IllegalArgumentException iae) {\r\n                return false;\r\n            }\r\n        }\r\n    }\r\n\r\nExample data class with the annotated field:\r\n\r\n    @Data\r\n    public class MyPayload {\r\n        @IsBase64\r\n        private String value;\r\n    }\r\n\r\nAnd controller method example with `@Valid` annotation which is required:\r\n\r\n    @PostMapping\r\n    public String test(@Valid @RequestBody MyPayload myPayload) {\r\n        return &quot;ok&quot;;\r\n    }\r\n\r\n**UPDATED**:\r\nAlso, if you want to check whether the fiven string is a base64 string, you can use the method `isBase64()` from apache-commons libraby, the class is `org.apache.commons.codec.binary.Base64` \r\nSo, it would look like this \r\n`Base64.isBase64(str);`","title":"Annotation for validation base64 string in Spring","body":"<p>Yes, you could write your own annotations and validators for them.</p>\n<p>Your annotation would look like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Documented\n@Constraint(validatedBy = Base64Validator.class)\n@Target( { ElementType.FIELD })\n@Retention(RetentionPolicy.RUNTIME)\npublic @interface IsBase64 {\n    String message() default &quot;The string is not base64 string&quot;;\n    Class&lt;?&gt;[] groups() default {};\n    Class&lt;? extends Payload&gt;[] payload() default {};\n}\n</code></pre>\n<p>Constraint validator <code>javax.validation</code> implementation (I'm using here your code for the actual validation):</p>\n<pre><code>public class Base64Validator implements ConstraintValidator&lt;IsBase64, String&gt; {\n    \n    @Override\n    public boolean isValid(String value, ConstraintValidatorContext cxt) {\n        try {\n            Base64.getDecoder().decode(value);\n            return true;\n        } catch(IllegalArgumentException iae) {\n            return false;\n        }\n    }\n}\n</code></pre>\n<p>Example data class with the annotated field:</p>\n<pre><code>@Data\npublic class MyPayload {\n    @IsBase64\n    private String value;\n}\n</code></pre>\n<p>And controller method example with <code>@Valid</code> annotation which is required:</p>\n<pre><code>@PostMapping\npublic String test(@Valid @RequestBody MyPayload myPayload) {\n    return &quot;ok&quot;;\n}\n</code></pre>\n<p><strong>UPDATED</strong>:\nAlso, if you want to check whether the fiven string is a base64 string, you can use the method <code>isBase64()</code> from apache-commons libraby, the class is <code>org.apache.commons.codec.binary.Base64</code>\nSo, it would look like this\n<code>Base64.isBase64(str);</code></p>\n"}],"owner":{"account_id":16223118,"reputation":85,"user_id":11714220,"display_name":"Alfredo Morales"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1159,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":75441780,"answer_count":1,"score":2,"last_activity_date":1697090305,"creation_date":1676324766,"question_id":75441493,"body_markdown":"I have a rest service with my request body bean annotated with javax.validation like `@NotBlank @NotNull @Pattern` etc., and in one specific field I receive a file encoded as a **string base64**,\r\n\r\nso, *is there an annotation, or how could I write a custom validation annotation, so it would check if the string is really a base64 string?*\r\n\r\nI just need a validation like this in annotation form:\r\n\r\n    try {\r\n        Base64.getDecoder().decode(someString);\r\n        return true;\r\n    } catch(IllegalArgumentException iae) {\r\n        return false;\r\n    }\r\n\r\n\r\nthnx in advance","title":"Annotation for validation base64 string in Spring","body":"<p>I have a rest service with my request body bean annotated with javax.validation like <code>@NotBlank @NotNull @Pattern</code> etc., and in one specific field I receive a file encoded as a <strong>string base64</strong>,</p>\n<p>so, <em>is there an annotation, or how could I write a custom validation annotation, so it would check if the string is really a base64 string?</em></p>\n<p>I just need a validation like this in annotation form:</p>\n<pre><code>try {\n    Base64.getDecoder().decode(someString);\n    return true;\n} catch(IllegalArgumentException iae) {\n    return false;\n}\n</code></pre>\n<p>thnx in advance</p>\n"},{"tags":["java","avro","confluent-schema-registry","avro-tools"],"comments":[{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1623088247,"post_id":67875544,"comment_id":119974174,"body_markdown":"[I feel like I already answered this](https://stackoverflow.com/questions/67779420/schema-registry-with-spring-kafka-and-avro). Fields are matched by order **when using SpecificRecord** -","body":"<a href=\"https://stackoverflow.com/questions/67779420/schema-registry-with-spring-kafka-and-avro\">I feel like I already answered this</a>. Fields are matched by order <b>when using SpecificRecord</b> -"},{"owner":{"account_id":4328490,"reputation":1080,"user_id":3534593,"accept_rate":67,"display_name":"coretechie"},"score":0,"creation_date":1696349809,"post_id":67875544,"comment_id":136140224,"body_markdown":"I am running into the same issue right now. Is there any way to fix this? I cannot control the producer and the consumer cannot update avdl files based on producer changes. @OneCricketeer How does the order match when a producer has extra fields which the consumer is unaware of?","body":"I am running into the same issue right now. Is there any way to fix this? I cannot control the producer and the consumer cannot update avdl files based on producer changes. @OneCricketeer How does the order match when a producer has extra fields which the consumer is unaware of?"},{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1696362877,"post_id":67875544,"comment_id":136142599,"body_markdown":"@coretechie The error here is actually using GenericReader, not Specific. Avro can match fields by name, not index only when you set `value.deserializer.specific.avro.reader=true`, for example in Kafka/Confluent AvroDeserializer. Some details about Avro vs other formats here https://martin.kleppmann.com/2012/12/05/schema-evolution-in-avro-protocol-buffers-thrift.html","body":"@coretechie The error here is actually using GenericReader, not Specific. Avro can match fields by name, not index only when you set <code>value.deserializer.specific.avro.reader=true</code>, for example in Kafka/Confluent AvroDeserializer. Some details about Avro vs other formats here <a href=\"https://martin.kleppmann.com/2012/12/05/schema-evolution-in-avro-protocol-buffers-thrift.html\" rel=\"nofollow noreferrer\">martin.kleppmann.com/2012/12/05/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":4328490,"reputation":1080,"user_id":3534593,"accept_rate":67,"display_name":"coretechie"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697089424,"creation_date":1697089424,"answer_id":77277967,"question_id":67875544,"body_markdown":"I was running into the same issue with a client and server using avro for communication. In my case, the fix was to use server-side schema while reading records sent from the client which was apparently on a different schema than my server. I had to change the way I was initialising the reader. I kept the following code instead, \r\n\r\n     DatumReader&lt;GenericRecord&gt; reader;\r\n                if(serverSchema != null) {\r\n                    reader = new GenericDatumReader&lt;&gt;(serverSchema);\r\n                } else {\r\n                    reader = new GenericDatumReader&lt;&gt;();\r\n                    LOGGER.warn(&quot;Schema version mismatch can cause execution failures. Always pass expected server schema.&quot;);\r\n                }","title":"Avro Schema deserialization Index out of bound exception error - schema resolution","body":"<p>I was running into the same issue with a client and server using avro for communication. In my case, the fix was to use server-side schema while reading records sent from the client which was apparently on a different schema than my server. I had to change the way I was initialising the reader. I kept the following code instead,</p>\n<pre><code> DatumReader&lt;GenericRecord&gt; reader;\n            if(serverSchema != null) {\n                reader = new GenericDatumReader&lt;&gt;(serverSchema);\n            } else {\n                reader = new GenericDatumReader&lt;&gt;();\n                LOGGER.warn(&quot;Schema version mismatch can cause execution failures. Always pass expected server schema.&quot;);\n            }\n</code></pre>\n"}],"owner":{"account_id":9615182,"reputation":235,"user_id":7138221,"display_name":"VKR"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2013,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1697089424,"creation_date":1623083891,"question_id":67875544,"body_markdown":"I have 2 applications, one is producing the data to topic and another application receiving the data from topic. writer schema version different from reader(consumer) schema. Producer having new schema and where as consumer have old schema. With schema registry schema evolve options I thought consumer works successfully but I am getting below error. Looks like consumer looking ordering of received fields in specificrecord and not ignoring the unknown field.\r\n\r\nFrom Avro docs:\r\n\r\n&gt; if both are records:\r\n&gt; \r\n&gt;   1) The ordering of fields may be different: fields are matched by\r\n&gt; name.    \r\n&gt;   2) Schemas for fields with the same name in both records are\r\n&gt; resolved recursively. \r\n&gt;   3) if the writer&#39;s record contains a field with a name not present in the reader&#39;s record, the writer&#39;s value for that field is ignored.\r\n\r\n```\r\n Caused by: java.lang.IndexOutOfBoundsException: Invalid index: 2\r\n\tat com.test.Employee.put(Employee.java:111) ~[classes!/:0.0.1-SNAPSHOT]\r\n\tat org.apache.avro.generic.GenericData.setField(GenericData.java:816) ~[avro-1.9.2.jar!/:1.9.2]\r\n\tat org.apache.avro.specific.SpecificDatumReader.readField(SpecificDatumReader.java:139) ~[avro-1.9.2.jar!/:1.9.2]\r\n\tat org.apache.avro.generic.GenericDatumReader.readRecord(GenericDatumReader.java:247) ~[avro-1.9.2.jar!/:1.9.2]\r\n\tat org.apache.avro.specific.SpecificDatumReader.readRecord(SpecificDatumReader.java:123) ~[avro-1.9.2.jar!/:1.9.2]\r\n\tat org.apache.avro.generic.GenericDatumReader.readWithoutConversion(GenericDatumReader.java:179) ~[avro-1.9.2.jar!/:1.9.2]\r\n\tat org.apache.avro.generic.GenericDatumReader.read(GenericDatumReader.java:160) ~[avro-1.9.2.jar!/:1.9.2]\r\n\tat org.apache.avro.generic.GenericDatumReader.read(GenericDatumReader.java:153) ~[avro-1.9.2.jar!/:1.9.2]\r\n```\r\n\r\n  Producer Schema:\r\n\r\n```\r\n        {\r\n    &quot;type&quot;: &quot;record&quot;,\r\n    &quot;namespace&quot;: &quot;com.aa.opshub.test&quot;,\r\n    &quot;name&quot;: &quot;Employee&quot;,\r\n    &quot;fields&quot;: [\r\n        {\r\n            &quot;name&quot;: &quot;firstName&quot;,\r\n            &quot;type&quot;: &quot;string&quot;\r\n        },\r\n        {\r\n            &quot;name&quot;: &quot;age&quot;,\r\n            &quot;type&quot;: &quot;int&quot;\r\n        },\r\n\t\t{\r\n            &quot;name&quot;: &quot;middleName&quot;,\r\n            &quot;type&quot;: &quot;string&quot;\r\n        }\r\n    ]\r\n}\r\n```\r\n\r\nConsumer Schema:\r\n\r\n```\r\n  {\r\n   &quot;type&quot; : &quot;record&quot;,\r\n    &quot;namespace&quot; : &quot;com.aa.opshub.test&quot;,\r\n    &quot;name&quot; : &quot;Employee&quot;,\r\n    &quot;fields&quot; : [\r\n        { &quot;name&quot; : &quot;firstName&quot; , &quot;type&quot; : &quot;string&quot; },\r\n        { &quot;name&quot; : &quot;age&quot;, &quot;type&quot; : &quot;int&quot; }\r\n    ]\r\n}\r\n```\r\n\r\n Consumer: SpecificRecord class method throwing error\r\n\r\n     @SuppressWarnings(value=&quot;unchecked&quot;)\r\n      public void put(int field$, java.lang.Object value$) {\r\n        switch (field$) {\r\n        case 0: firstName = (java.lang.CharSequence)value$; break;\r\n        case 1: age = (java.lang.Integer)value$; break;\r\n        default: throw new IndexOutOfBoundsException(&quot;Invalid index: &quot; + field$);\r\n        }\r\n      }","title":"Avro Schema deserialization Index out of bound exception error - schema resolution","body":"<p>I have 2 applications, one is producing the data to topic and another application receiving the data from topic. writer schema version different from reader(consumer) schema. Producer having new schema and where as consumer have old schema. With schema registry schema evolve options I thought consumer works successfully but I am getting below error. Looks like consumer looking ordering of received fields in specificrecord and not ignoring the unknown field.</p>\n<p>From Avro docs:</p>\n<blockquote>\n<p>if both are records:</p>\n<ol>\n<li>The ordering of fields may be different: fields are matched by\nname.</li>\n<li>Schemas for fields with the same name in both records are\nresolved recursively.</li>\n<li>if the writer's record contains a field with a name not present in the reader's record, the writer's value for that field is ignored.</li>\n</ol>\n</blockquote>\n<pre><code> Caused by: java.lang.IndexOutOfBoundsException: Invalid index: 2\n    at com.test.Employee.put(Employee.java:111) ~[classes!/:0.0.1-SNAPSHOT]\n    at org.apache.avro.generic.GenericData.setField(GenericData.java:816) ~[avro-1.9.2.jar!/:1.9.2]\n    at org.apache.avro.specific.SpecificDatumReader.readField(SpecificDatumReader.java:139) ~[avro-1.9.2.jar!/:1.9.2]\n    at org.apache.avro.generic.GenericDatumReader.readRecord(GenericDatumReader.java:247) ~[avro-1.9.2.jar!/:1.9.2]\n    at org.apache.avro.specific.SpecificDatumReader.readRecord(SpecificDatumReader.java:123) ~[avro-1.9.2.jar!/:1.9.2]\n    at org.apache.avro.generic.GenericDatumReader.readWithoutConversion(GenericDatumReader.java:179) ~[avro-1.9.2.jar!/:1.9.2]\n    at org.apache.avro.generic.GenericDatumReader.read(GenericDatumReader.java:160) ~[avro-1.9.2.jar!/:1.9.2]\n    at org.apache.avro.generic.GenericDatumReader.read(GenericDatumReader.java:153) ~[avro-1.9.2.jar!/:1.9.2]\n</code></pre>\n<p>Producer Schema:</p>\n<pre><code>        {\n    &quot;type&quot;: &quot;record&quot;,\n    &quot;namespace&quot;: &quot;com.aa.opshub.test&quot;,\n    &quot;name&quot;: &quot;Employee&quot;,\n    &quot;fields&quot;: [\n        {\n            &quot;name&quot;: &quot;firstName&quot;,\n            &quot;type&quot;: &quot;string&quot;\n        },\n        {\n            &quot;name&quot;: &quot;age&quot;,\n            &quot;type&quot;: &quot;int&quot;\n        },\n        {\n            &quot;name&quot;: &quot;middleName&quot;,\n            &quot;type&quot;: &quot;string&quot;\n        }\n    ]\n}\n</code></pre>\n<p>Consumer Schema:</p>\n<pre><code>  {\n   &quot;type&quot; : &quot;record&quot;,\n    &quot;namespace&quot; : &quot;com.aa.opshub.test&quot;,\n    &quot;name&quot; : &quot;Employee&quot;,\n    &quot;fields&quot; : [\n        { &quot;name&quot; : &quot;firstName&quot; , &quot;type&quot; : &quot;string&quot; },\n        { &quot;name&quot; : &quot;age&quot;, &quot;type&quot; : &quot;int&quot; }\n    ]\n}\n</code></pre>\n<p>Consumer: SpecificRecord class method throwing error</p>\n<pre><code> @SuppressWarnings(value=&quot;unchecked&quot;)\n  public void put(int field$, java.lang.Object value$) {\n    switch (field$) {\n    case 0: firstName = (java.lang.CharSequence)value$; break;\n    case 1: age = (java.lang.Integer)value$; break;\n    default: throw new IndexOutOfBoundsException(&quot;Invalid index: &quot; + field$);\n    }\n  }\n</code></pre>\n"},{"tags":["java","spring-boot","maven","okta"],"comments":[{"owner":{"account_id":3888257,"reputation":111,"user_id":5532932,"display_name":"muratcanyeldan"},"score":1,"creation_date":1697092272,"post_id":77277934,"comment_id":136236361,"body_markdown":"Did you try adding `okta.oauth2.issuer` to your yml file ? If you can share more code or yml this question will be clearer","body":"Did you try adding <code>okta.oauth2.issuer</code> to your yml file ? If you can share more code or yml this question will be clearer"},{"owner":{"account_id":10063719,"reputation":1,"user_id":7439488,"display_name":"ravi"},"score":0,"creation_date":1697135657,"post_id":77277934,"comment_id":136245244,"body_markdown":"im trying to run application in my local \nhere the yaml","body":"im trying to run application in my local  here the yaml"},{"owner":{"account_id":10063719,"reputation":1,"user_id":7439488,"display_name":"ravi"},"score":0,"creation_date":1697136077,"post_id":77277934,"comment_id":136245324,"body_markdown":"im trying to run application in my local \nhere the yaml\nbut other envs like dev and stage have okta issuer configured\n**`\nspring:\n  config:\n    activate:\n      on-profile: local\n    properties:\n      &#39;[org.quartz.threadPool]&#39;:\n        threadCount: 4\n  freemarker:\n    cache: false\n  thymeleaf:\n    cache: false\n  datasource:\n    hikari:\n      minimum-idle: 2\n      maximum-pool-size: 10`**","body":"im trying to run application in my local  here the yaml but other envs like dev and stage have okta issuer configured <b>` spring:   config:     activate:       on-profile: local     properties:       &#39;[org.quartz.threadPool]&#39;:         threadCount: 4   freemarker:     cache: false   thymeleaf:     cache: false   datasource:     hikari:       minimum-idle: 2       maximum-pool-size: 10`</b>"}],"owner":{"account_id":10063719,"reputation":1,"user_id":7439488,"display_name":"ravi"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697089286,"creation_date":1697088971,"question_id":77277934,"body_markdown":"While trying to run the application from VM getting the warning as below and application not started.\r\n\r\n```\r\nlevel=WARN thread_id=main class=com.okta.spring.boot.oauth.env.OktaEnvironmentPostProcessorApplicationListener method=onApplicationEvent line=38 Your Okta Issuer URL is missing. You can copy your domain from the Okta Developer Console. Follow these instructions to find it in okta page\r\nTo fix this add the `okta.oauth2.issuer` property to your application.\r\n```\r\n\r\n\r\ntry running the jar file in local profile with supporting DB connection.","title":"Okta warning message while running application","body":"<p>While trying to run the application from VM getting the warning as below and application not started.</p>\n<pre><code>level=WARN thread_id=main class=com.okta.spring.boot.oauth.env.OktaEnvironmentPostProcessorApplicationListener method=onApplicationEvent line=38 Your Okta Issuer URL is missing. You can copy your domain from the Okta Developer Console. Follow these instructions to find it in okta page\nTo fix this add the `okta.oauth2.issuer` property to your application.\n</code></pre>\n<p>try running the jar file in local profile with supporting DB connection.</p>\n"},{"tags":["java","selenium-webdriver","appium","fluentwait"],"comments":[{"owner":{"account_id":2772450,"reputation":22416,"user_id":2386774,"display_name":"JeffC"},"score":0,"creation_date":1697083124,"post_id":77277059,"comment_id":136235409,"body_markdown":"Edit your question and post the exact two-line string that you are waiting for. Is there some reason you don&#39;t just create the exact two-line string in `scrheading`?","body":"Edit your question and post the exact two-line string that you are waiting for. Is there some reason you don&#39;t just create the exact two-line string in <code>scrheading</code>?"},{"owner":{"account_id":9608819,"reputation":1,"user_id":7133932,"display_name":"user7133932"},"score":0,"creation_date":1697152297,"post_id":77277059,"comment_id":136247471,"body_markdown":"Edited the question. Hope it makes more sense now. Thanks.","body":"Edited the question. Hope it makes more sense now. Thanks."},{"owner":{"account_id":2772450,"reputation":22416,"user_id":2386774,"display_name":"JeffC"},"score":0,"creation_date":1697167671,"post_id":77277059,"comment_id":136248652,"body_markdown":"`scrheading = &quot;Please set your course\\r\\npreferences to proceed.&quot;`","body":"<code>scrheading = &quot;Please set your course\\r\\npreferences to proceed.&quot;</code>"},{"owner":{"account_id":9608819,"reputation":1,"user_id":7133932,"display_name":"user7133932"},"score":0,"creation_date":1697179669,"post_id":77277059,"comment_id":136249783,"body_markdown":"Good solution, but not for my case. I need one step that would work for many instances of `scrheading`(with various string values) in the app. Plus, again, the line breaks could appear anywhere within the text, depending on the device.","body":"Good solution, but not for my case. I need one step that would work for many instances of <code>scrheading</code>(with various string values) in the app. Plus, again, the line breaks could appear anywhere within the text, depending on the device."}],"owner":{"account_id":9608819,"reputation":1,"user_id":7133932,"display_name":"user7133932"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697088606,"creation_date":1697070921,"question_id":77277059,"body_markdown":"The following method works if that text takes only one line:\r\n```\r\npublic void screen_heading_should_be(String scrheading) {\r\n        Wait&lt;WebDriver&gt; fluentWait = new FluentWait&lt;WebDriver&gt;(ldriver)\r\n                .withTimeout(Duration.ofSeconds(10))\r\n                .pollingEvery(Duration.ofSeconds(1));\r\n        fluentWait.until(ExpectedConditions.textToBe(AppiumBy.id(&quot;screen_heading&quot;), scrheading));\r\n    }\r\n```\r\nHow do you wait for the exact text that takes two (or more) lines on the UI?\r\n\r\nThe text I&#39;m waiting for:&lt;br/&gt;\r\n&quot;*Please set your course &lt;br/&gt; preferences to proceed.*&quot;\r\n\r\n`scrheading` is the one-line string (&quot;*Please set your course preferences to proceed.*&quot;) that&#39;s present in my Step Definitions&#39; Gherkin step (Cucumber), so, it has to be a user-friendly one-line string. Plus, texts in my app can even be on three and more lines, depending on the phone device&#39;s screen size/resolution (mobile UI automation).\r\n\r\nI was thinking about applying this: `screen_heading.getText().replaceAll(&quot;\\\\r\\\\n|\\\\r|\\\\n&quot;, &quot; &quot;)`, but it&#39;s a string which is not accepted by the &#39;ExpectedConditions&#39; from above. &#39;By&#39; is required instead.\r\n","title":"Waiting for the exact text that takes at least 2 lines on the UI to be present","body":"<p>The following method works if that text takes only one line:</p>\n<pre><code>public void screen_heading_should_be(String scrheading) {\n        Wait&lt;WebDriver&gt; fluentWait = new FluentWait&lt;WebDriver&gt;(ldriver)\n                .withTimeout(Duration.ofSeconds(10))\n                .pollingEvery(Duration.ofSeconds(1));\n        fluentWait.until(ExpectedConditions.textToBe(AppiumBy.id(&quot;screen_heading&quot;), scrheading));\n    }\n</code></pre>\n<p>How do you wait for the exact text that takes two (or more) lines on the UI?</p>\n<p>The text I'm waiting for:<br/>\n&quot;<em>Please set your course <br/> preferences to proceed.</em>&quot;</p>\n<p><code>scrheading</code> is the one-line string (&quot;<em>Please set your course preferences to proceed.</em>&quot;) that's present in my Step Definitions' Gherkin step (Cucumber), so, it has to be a user-friendly one-line string. Plus, texts in my app can even be on three and more lines, depending on the phone device's screen size/resolution (mobile UI automation).</p>\n<p>I was thinking about applying this: <code>screen_heading.getText().replaceAll(&quot;\\\\r\\\\n|\\\\r|\\\\n&quot;, &quot; &quot;)</code>, but it's a string which is not accepted by the 'ExpectedConditions' from above. 'By' is required instead.</p>\n"},{"tags":["java","spring","spring-boot","security"],"comments":[{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1697003451,"post_id":77269356,"comment_id":136223038,"body_markdown":"The fact that you need to allow the override is weird, that being said you shouldn&#39;t disable csrf as it adds security to your website. Get the CSRF token (you might need to configure seomthing to pass it as a cookie or header) and include it in your requests.","body":"The fact that you need to allow the override is weird, that being said you shouldn&#39;t disable csrf as it adds security to your website. Get the CSRF token (you might need to configure seomthing to pass it as a cookie or header) and include it in your requests."}],"owner":{"account_id":29643868,"reputation":1,"user_id":22719347,"display_name":"Oskar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":112,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697088588,"creation_date":1696977987,"question_id":77269356,"body_markdown":"Im recieving an error: &quot;An expected CSRF token cannot be found&quot; when testing with Postman to register a user in my app. The plan is to register a user &amp; confirm the email address. Although when testing the app it runs although when the endpoint is tested it would throw the An expected CSRF token cannot be found error in Postman.\r\n\r\nIssue also persists when there is .csrf().disable() added in the code in WebSecurityConfig.\r\n\r\n**Request which is being sent in Body in Postman**\r\n\r\n`localhost:8090/api/v1/registration\r\n\r\n{\r\n    &quot;firstName&quot;: &quot;Ali&quot;,\r\n    &quot;lastName&quot;: &quot;Ali&quot;,\r\n    &quot;email&quot;: &quot;nilerumi@socam.me&quot;,\r\n    &quot;password&quot;: &quot;password&quot;\r\n}`\r\n\r\nCould you advise why I would be getting such error?\r\n\r\nHere are the classes:\r\n\r\n**Registration Controller**\r\n\r\n\r\n```\r\n@RestController\r\n@RequestMapping(path = &quot;/api/v1/registration&quot;)\r\npublic class RegistrationController {\r\n\r\n    private final RegistrationService registrationService;\r\n\r\n    @Autowired\r\n    public RegistrationController(RegistrationService registrationService) {\r\n        this.registrationService = registrationService;\r\n    }\r\n\r\n    @PostMapping\r\n    public String register(@RequestBody RegistrationRequest request) {\r\n        return registrationService.register(request);\r\n    }\r\n\r\n    @GetMapping(path = &quot;confirm&quot;)\r\n    public String confirm(@RequestParam(&quot;token&quot;) String token) {\r\n        return registrationService.confirmToken(token);\r\n    }\r\n}\r\n```\r\n\r\n**Registration Service**\r\n\r\n\r\n```\r\n@Service\r\npublic class RegistrationService {\r\n\r\n    private final AppUserService appUserService;\r\n    private final EmailValidator emailValidator;\r\n    private final ConfirmationTokenService confirmTokenService;\r\n    private final EmailSender emailSender;\r\n\r\n\r\n    public RegistrationService(AppUserService appUserService, EmailValidator emailValidator, ConfirmationTokenService confirmTokenService, EmailSender emailSender) {\r\n        this.appUserService = appUserService;\r\n        this.emailValidator = emailValidator;\r\n        this.confirmTokenService = confirmTokenService;\r\n        this.emailSender = emailSender;\r\n    }\r\n\r\n    public String register(RegistrationRequest request) {\r\n        boolean isValidEmail = emailValidator.test(request.getEmail());\r\n        if (isValidEmail) {\r\n            String tokenForNewUser = appUserService.signUpUser(new AppUser(request.getFirstName(),\r\n                    request.getLastName(),\r\n                    request.getEmail(),\r\n                    request.getPassword(),\r\n                    AppUserRole.USER));\r\n\r\n            //Since, we are running the spring boot application in localhost, we are hardcoding the\r\n            //url of the server. We are creating a POST request with token param\r\n            String link = &quot;http://localhost:8090/api/v1/registration/confirm?token=&quot; + tokenForNewUser;\r\n            emailSender.sendEmail(request.getEmail(), buildEmail(request.getFirstName(), link));\r\n            return tokenForNewUser;\r\n        } else {\r\n            throw new IllegalStateException(String.format(&quot;Email %s, not valid&quot;, request.getEmail()));\r\n        }\r\n    }\r\n\r\n\r\n    @Transactional\r\n    public String confirmToken(String token) {\r\n        ConfirmationToken confirmationToken = confirmTokenService\r\n                .getToken(token)\r\n                .orElseThrow(() -&gt;\r\n                        new IllegalStateException(&quot;Token Not Found&quot;));\r\n\r\n        if (confirmationToken.getConfirmedAt() != null) {\r\n            throw new IllegalStateException(&quot;Email Already Confirmed&quot;);\r\n        }\r\n\r\n        LocalDateTime expiredAt = confirmationToken.getExpiresAt();\r\n\r\n        if (expiredAt.isBefore(LocalDateTime.now())) {\r\n            throw new IllegalStateException(&quot;token expired&quot;);\r\n        }\r\n\r\n        confirmTokenService.setConfirmedAt(token);\r\n        appUserService.enableAppUser(\r\n                confirmationToken.getAppUser().getEmail());\r\n        return &quot;confirmed&quot;;\r\n    }\r\n\r\n    private String buildEmail(String name, String link) {\r\n        return &quot;&lt;div style=\\&quot;font-family:Helvetica,Arial,sans-serif;font-size:16px;margin:0;color:#0b0c0c\\&quot;&gt;\\n&quot; +\r\n                &quot;\\n&quot; +\r\n                &quot;&lt;span style=\\&quot;display:none;font-size:1px;color:#fff;max-height:0\\&quot;&gt;&lt;/span&gt;\\n&quot; +\r\n                &quot;\\n&quot; +\r\n                &quot;  &lt;table role=\\&quot;presentation\\&quot; width=\\&quot;100%\\&quot; style=\\&quot;border-collapse:collapse;min-width:100%;width:100%!important\\&quot; cellpadding=\\&quot;0\\&quot; cellspacing=\\&quot;0\\&quot; border=\\&quot;0\\&quot;&gt;\\n&quot; +\r\n                &quot;    &lt;tbody&gt;&lt;tr&gt;\\n&quot; +\r\n                &quot;      &lt;td width=\\&quot;100%\\&quot; height=\\&quot;53\\&quot; bgcolor=\\&quot;#0b0c0c\\&quot;&gt;\\n&quot; +\r\n                &quot;        \\n&quot; +\r\n                &quot;        &lt;table role=\\&quot;presentation\\&quot; width=\\&quot;100%\\&quot; style=\\&quot;border-collapse:collapse;max-width:580px\\&quot; cellpadding=\\&quot;0\\&quot; cellspacing=\\&quot;0\\&quot; border=\\&quot;0\\&quot; align=\\&quot;center\\&quot;&gt;\\n&quot; +\r\n                &quot;          &lt;tbody&gt;&lt;tr&gt;\\n&quot; +\r\n                &quot;            &lt;td width=\\&quot;70\\&quot; bgcolor=\\&quot;#0b0c0c\\&quot; valign=\\&quot;middle\\&quot;&gt;\\n&quot; +\r\n                &quot;                &lt;table role=\\&quot;presentation\\&quot; cellpadding=\\&quot;0\\&quot; cellspacing=\\&quot;0\\&quot; border=\\&quot;0\\&quot; style=\\&quot;border-collapse:collapse\\&quot;&gt;\\n&quot; +\r\n                &quot;                  &lt;tbody&gt;&lt;tr&gt;\\n&quot; +\r\n                &quot;                    &lt;td style=\\&quot;padding-left:10px\\&quot;&gt;\\n&quot; +\r\n                &quot;                  \\n&quot; +\r\n                &quot;                    &lt;/td&gt;\\n&quot; +\r\n                &quot;                    &lt;td style=\\&quot;font-size:28px;line-height:1.315789474;Margin-top:4px;padding-left:10px\\&quot;&gt;\\n&quot; +\r\n                &quot;                      &lt;span style=\\&quot;font-family:Helvetica,Arial,sans-serif;font-weight:700;color:#ffffff;text-decoration:none;vertical-align:top;display:inline-block\\&quot;&gt;Confirm your email&lt;/span&gt;\\n&quot; +\r\n                &quot;                    &lt;/td&gt;\\n&quot; +\r\n                &quot;                  &lt;/tr&gt;\\n&quot; +\r\n                &quot;                &lt;/tbody&gt;&lt;/table&gt;\\n&quot; +\r\n                &quot;              &lt;/a&gt;\\n&quot; +\r\n                &quot;            &lt;/td&gt;\\n&quot; +\r\n                &quot;          &lt;/tr&gt;\\n&quot; +\r\n                &quot;        &lt;/tbody&gt;&lt;/table&gt;\\n&quot; +\r\n                &quot;        \\n&quot; +\r\n                &quot;      &lt;/td&gt;\\n&quot; +\r\n                &quot;    &lt;/tr&gt;\\n&quot; +\r\n                &quot;  &lt;/tbody&gt;&lt;/table&gt;\\n&quot; +\r\n                &quot;  &lt;table role=\\&quot;presentation\\&quot; class=\\&quot;m_-6186904992287805515content\\&quot; align=\\&quot;center\\&quot; cellpadding=\\&quot;0\\&quot; cellspacing=\\&quot;0\\&quot; border=\\&quot;0\\&quot; style=\\&quot;border-collapse:collapse;max-width:580px;width:100%!important\\&quot; width=\\&quot;100%\\&quot;&gt;\\n&quot; +\r\n                &quot;    &lt;tbody&gt;&lt;tr&gt;\\n&quot; +\r\n                &quot;      &lt;td width=\\&quot;10\\&quot; height=\\&quot;10\\&quot; valign=\\&quot;middle\\&quot;&gt;&lt;/td&gt;\\n&quot; +\r\n                &quot;      &lt;td&gt;\\n&quot; +\r\n                &quot;        \\n&quot; +\r\n                &quot;                &lt;table role=\\&quot;presentation\\&quot; width=\\&quot;100%\\&quot; cellpadding=\\&quot;0\\&quot; cellspacing=\\&quot;0\\&quot; border=\\&quot;0\\&quot; style=\\&quot;border-collapse:collapse\\&quot;&gt;\\n&quot; +\r\n                &quot;                  &lt;tbody&gt;&lt;tr&gt;\\n&quot; +\r\n                &quot;                    &lt;td bgcolor=\\&quot;#1D70B8\\&quot; width=\\&quot;100%\\&quot; height=\\&quot;10\\&quot;&gt;&lt;/td&gt;\\n&quot; +\r\n                &quot;                  &lt;/tr&gt;\\n&quot; +\r\n                &quot;                &lt;/tbody&gt;&lt;/table&gt;\\n&quot; +\r\n                &quot;        \\n&quot; +\r\n                &quot;      &lt;/td&gt;\\n&quot; +\r\n                &quot;      &lt;td width=\\&quot;10\\&quot; valign=\\&quot;middle\\&quot; height=\\&quot;10\\&quot;&gt;&lt;/td&gt;\\n&quot; +\r\n                &quot;    &lt;/tr&gt;\\n&quot; +\r\n                &quot;  &lt;/tbody&gt;&lt;/table&gt;\\n&quot; +\r\n                &quot;\\n&quot; +\r\n                &quot;\\n&quot; +\r\n                &quot;\\n&quot; +\r\n                &quot;  &lt;table role=\\&quot;presentation\\&quot; class=\\&quot;m_-6186904992287805515content\\&quot; align=\\&quot;center\\&quot; cellpadding=\\&quot;0\\&quot; cellspacing=\\&quot;0\\&quot; border=\\&quot;0\\&quot; style=\\&quot;border-collapse:collapse;max-width:580px;width:100%!important\\&quot; width=\\&quot;100%\\&quot;&gt;\\n&quot; +\r\n                &quot;    &lt;tbody&gt;&lt;tr&gt;\\n&quot; +\r\n                &quot;      &lt;td height=\\&quot;30\\&quot;&gt;&lt;br&gt;&lt;/td&gt;\\n&quot; +\r\n                &quot;    &lt;/tr&gt;\\n&quot; +\r\n                &quot;    &lt;tr&gt;\\n&quot; +\r\n                &quot;      &lt;td width=\\&quot;10\\&quot; valign=\\&quot;middle\\&quot;&gt;&lt;br&gt;&lt;/td&gt;\\n&quot; +\r\n                &quot;      &lt;td style=\\&quot;font-family:Helvetica,Arial,sans-serif;font-size:19px;line-height:1.315789474;max-width:560px\\&quot;&gt;\\n&quot; +\r\n                &quot;        \\n&quot; +\r\n                &quot;            &lt;p style=\\&quot;Margin:0 0 20px 0;font-size:19px;line-height:25px;color:#0b0c0c\\&quot;&gt;Hi &quot; + name + &quot;,&lt;/p&gt;&lt;p style=\\&quot;Margin:0 0 20px 0;font-size:19px;line-height:25px;color:#0b0c0c\\&quot;&gt; Thank you for registering. Please click on the below link to activate your account: &lt;/p&gt;&lt;blockquote style=\\&quot;Margin:0 0 20px 0;border-left:10px solid #b1b4b6;padding:15px 0 0.1px 15px;font-size:19px;line-height:25px\\&quot;&gt;&lt;p style=\\&quot;Margin:0 0 20px 0;font-size:19px;line-height:25px;color:#0b0c0c\\&quot;&gt; &lt;a href=\\&quot;&quot; + link + &quot;\\&quot;&gt;Activate Now&lt;/a&gt; &lt;/p&gt;&lt;/blockquote&gt;\\n Link will expire in 15 minutes. &lt;p&gt;See you soon&lt;/p&gt;&quot; +\r\n                &quot;        \\n&quot; +\r\n                &quot;      &lt;/td&gt;\\n&quot; +\r\n                &quot;      &lt;td width=\\&quot;10\\&quot; valign=\\&quot;middle\\&quot;&gt;&lt;br&gt;&lt;/td&gt;\\n&quot; +\r\n                &quot;    &lt;/tr&gt;\\n&quot; +\r\n                &quot;    &lt;tr&gt;\\n&quot; +\r\n                &quot;      &lt;td height=\\&quot;30\\&quot;&gt;&lt;br&gt;&lt;/td&gt;\\n&quot; +\r\n                &quot;    &lt;/tr&gt;\\n&quot; +\r\n                &quot;  &lt;/tbody&gt;&lt;/table&gt;&lt;div class=\\&quot;yj6qo\\&quot;&gt;&lt;/div&gt;&lt;div class=\\&quot;adL\\&quot;&gt;\\n&quot; +\r\n                &quot;\\n&quot; +\r\n                &quot;&lt;/div&gt;&lt;/div&gt;&quot;;\r\n    }\r\n}\r\n```\r\n\r\n**WebSecurityConfig**\r\n\r\n```\r\n@Configuration\r\n@AllArgsConstructor\r\n@EnableWebSecurity\r\npublic class WebSecurityConfig {\r\n\r\n    private final AppUserService appUserService;\r\n    private final BCryptPasswordEncoder bCryptPasswordEncoder;\r\n\r\n    @Bean\r\n    protected SecurityFilterChain filterChain(HttpSecurity httpSecurity) throws Exception {\r\n        httpSecurity\r\n                .authenticationProvider(daoAuthenticationProvider())\r\n                .authorizeHttpRequests().requestMatchers(&quot;/api/v*/registration/**&quot;)\r\n                .permitAll()\r\n                .anyRequest()\r\n                .authenticated().and()\r\n                .formLogin();\r\n        return httpSecurity.build();\r\n    }\r\n\r\n    @Bean\r\n    protected AuthenticationManager authenticationManager(AuthenticationConfiguration authenticationConfiguration) throws Exception {\r\n        return authenticationConfiguration.getAuthenticationManager();\r\n    }\r\n\r\n    @Bean\r\n    public DaoAuthenticationProvider daoAuthenticationProvider() {\r\n        DaoAuthenticationProvider provider = new DaoAuthenticationProvider();\r\n        provider.setPasswordEncoder(bCryptPasswordEncoder);\r\n        provider.setUserDetailsService(appUserService);\r\n        return provider;\r\n    }\r\n\r\n}\r\n```\r\n\r\n\r\n\r\n\r\n**Confirmation Token**\r\n```\r\n@Getter\r\n@Setter\r\n@Entity\r\n@AllArgsConstructor\r\npublic class ConfirmationToken {\r\n\r\n    @Id\r\n    @GeneratedValue (strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n\r\n    @Column(nullable = false)\r\n    private String token;\r\n\r\n    @Column(nullable = false)\r\n    private LocalDateTime createdAt;\r\n\r\n    @Column(nullable = false)\r\n    private LocalDateTime expiresAt;\r\n\r\n    private LocalDateTime confirmedAt;\r\n\r\n    @ManyToOne\r\n    @JoinColumn(nullable = false,\r\n            name = &quot;app_user_id&quot;)\r\n    private AppUser appUser;\r\n\r\n    public ConfirmationToken() {\r\n    }\r\n\r\n    public ConfirmationToken(String token, LocalDateTime createdAt, LocalDateTime expiresAt, AppUser appUser) {\r\n        this.token = token;\r\n        this.createdAt = createdAt;\r\n        this.expiresAt = expiresAt;\r\n        this.appUser = appUser;\r\n    }\r\n}\r\n\r\n```\r\n\r\n\r\n\r\n\r\nHave checked the pom.xml file seems ok with the dependencies\r\nHave checked the application.yaml\r\nIn the current setup I had to use allow-bean-definition-overriding: true in yaml.","title":"An expected CSRF token cannot be found error in WebSecurity Spring Boot 3.1.4","body":"<p>Im recieving an error: &quot;An expected CSRF token cannot be found&quot; when testing with Postman to register a user in my app. The plan is to register a user &amp; confirm the email address. Although when testing the app it runs although when the endpoint is tested it would throw the An expected CSRF token cannot be found error in Postman.</p>\n<p>Issue also persists when there is .csrf().disable() added in the code in WebSecurityConfig.</p>\n<p><strong>Request which is being sent in Body in Postman</strong></p>\n<p>`localhost:8090/api/v1/registration</p>\n<p>{\n&quot;firstName&quot;: &quot;Ali&quot;,\n&quot;lastName&quot;: &quot;Ali&quot;,\n&quot;email&quot;: &quot;nilerumi@socam.me&quot;,\n&quot;password&quot;: &quot;password&quot;\n}`</p>\n<p>Could you advise why I would be getting such error?</p>\n<p>Here are the classes:</p>\n<p><strong>Registration Controller</strong></p>\n<pre><code>@RestController\n@RequestMapping(path = &quot;/api/v1/registration&quot;)\npublic class RegistrationController {\n\n    private final RegistrationService registrationService;\n\n    @Autowired\n    public RegistrationController(RegistrationService registrationService) {\n        this.registrationService = registrationService;\n    }\n\n    @PostMapping\n    public String register(@RequestBody RegistrationRequest request) {\n        return registrationService.register(request);\n    }\n\n    @GetMapping(path = &quot;confirm&quot;)\n    public String confirm(@RequestParam(&quot;token&quot;) String token) {\n        return registrationService.confirmToken(token);\n    }\n}\n</code></pre>\n<p><strong>Registration Service</strong></p>\n<pre><code>@Service\npublic class RegistrationService {\n\n    private final AppUserService appUserService;\n    private final EmailValidator emailValidator;\n    private final ConfirmationTokenService confirmTokenService;\n    private final EmailSender emailSender;\n\n\n    public RegistrationService(AppUserService appUserService, EmailValidator emailValidator, ConfirmationTokenService confirmTokenService, EmailSender emailSender) {\n        this.appUserService = appUserService;\n        this.emailValidator = emailValidator;\n        this.confirmTokenService = confirmTokenService;\n        this.emailSender = emailSender;\n    }\n\n    public String register(RegistrationRequest request) {\n        boolean isValidEmail = emailValidator.test(request.getEmail());\n        if (isValidEmail) {\n            String tokenForNewUser = appUserService.signUpUser(new AppUser(request.getFirstName(),\n                    request.getLastName(),\n                    request.getEmail(),\n                    request.getPassword(),\n                    AppUserRole.USER));\n\n            //Since, we are running the spring boot application in localhost, we are hardcoding the\n            //url of the server. We are creating a POST request with token param\n            String link = &quot;http://localhost:8090/api/v1/registration/confirm?token=&quot; + tokenForNewUser;\n            emailSender.sendEmail(request.getEmail(), buildEmail(request.getFirstName(), link));\n            return tokenForNewUser;\n        } else {\n            throw new IllegalStateException(String.format(&quot;Email %s, not valid&quot;, request.getEmail()));\n        }\n    }\n\n\n    @Transactional\n    public String confirmToken(String token) {\n        ConfirmationToken confirmationToken = confirmTokenService\n                .getToken(token)\n                .orElseThrow(() -&gt;\n                        new IllegalStateException(&quot;Token Not Found&quot;));\n\n        if (confirmationToken.getConfirmedAt() != null) {\n            throw new IllegalStateException(&quot;Email Already Confirmed&quot;);\n        }\n\n        LocalDateTime expiredAt = confirmationToken.getExpiresAt();\n\n        if (expiredAt.isBefore(LocalDateTime.now())) {\n            throw new IllegalStateException(&quot;token expired&quot;);\n        }\n\n        confirmTokenService.setConfirmedAt(token);\n        appUserService.enableAppUser(\n                confirmationToken.getAppUser().getEmail());\n        return &quot;confirmed&quot;;\n    }\n\n    private String buildEmail(String name, String link) {\n        return &quot;&lt;div style=\\&quot;font-family:Helvetica,Arial,sans-serif;font-size:16px;margin:0;color:#0b0c0c\\&quot;&gt;\\n&quot; +\n                &quot;\\n&quot; +\n                &quot;&lt;span style=\\&quot;display:none;font-size:1px;color:#fff;max-height:0\\&quot;&gt;&lt;/span&gt;\\n&quot; +\n                &quot;\\n&quot; +\n                &quot;  &lt;table role=\\&quot;presentation\\&quot; width=\\&quot;100%\\&quot; style=\\&quot;border-collapse:collapse;min-width:100%;width:100%!important\\&quot; cellpadding=\\&quot;0\\&quot; cellspacing=\\&quot;0\\&quot; border=\\&quot;0\\&quot;&gt;\\n&quot; +\n                &quot;    &lt;tbody&gt;&lt;tr&gt;\\n&quot; +\n                &quot;      &lt;td width=\\&quot;100%\\&quot; height=\\&quot;53\\&quot; bgcolor=\\&quot;#0b0c0c\\&quot;&gt;\\n&quot; +\n                &quot;        \\n&quot; +\n                &quot;        &lt;table role=\\&quot;presentation\\&quot; width=\\&quot;100%\\&quot; style=\\&quot;border-collapse:collapse;max-width:580px\\&quot; cellpadding=\\&quot;0\\&quot; cellspacing=\\&quot;0\\&quot; border=\\&quot;0\\&quot; align=\\&quot;center\\&quot;&gt;\\n&quot; +\n                &quot;          &lt;tbody&gt;&lt;tr&gt;\\n&quot; +\n                &quot;            &lt;td width=\\&quot;70\\&quot; bgcolor=\\&quot;#0b0c0c\\&quot; valign=\\&quot;middle\\&quot;&gt;\\n&quot; +\n                &quot;                &lt;table role=\\&quot;presentation\\&quot; cellpadding=\\&quot;0\\&quot; cellspacing=\\&quot;0\\&quot; border=\\&quot;0\\&quot; style=\\&quot;border-collapse:collapse\\&quot;&gt;\\n&quot; +\n                &quot;                  &lt;tbody&gt;&lt;tr&gt;\\n&quot; +\n                &quot;                    &lt;td style=\\&quot;padding-left:10px\\&quot;&gt;\\n&quot; +\n                &quot;                  \\n&quot; +\n                &quot;                    &lt;/td&gt;\\n&quot; +\n                &quot;                    &lt;td style=\\&quot;font-size:28px;line-height:1.315789474;Margin-top:4px;padding-left:10px\\&quot;&gt;\\n&quot; +\n                &quot;                      &lt;span style=\\&quot;font-family:Helvetica,Arial,sans-serif;font-weight:700;color:#ffffff;text-decoration:none;vertical-align:top;display:inline-block\\&quot;&gt;Confirm your email&lt;/span&gt;\\n&quot; +\n                &quot;                    &lt;/td&gt;\\n&quot; +\n                &quot;                  &lt;/tr&gt;\\n&quot; +\n                &quot;                &lt;/tbody&gt;&lt;/table&gt;\\n&quot; +\n                &quot;              &lt;/a&gt;\\n&quot; +\n                &quot;            &lt;/td&gt;\\n&quot; +\n                &quot;          &lt;/tr&gt;\\n&quot; +\n                &quot;        &lt;/tbody&gt;&lt;/table&gt;\\n&quot; +\n                &quot;        \\n&quot; +\n                &quot;      &lt;/td&gt;\\n&quot; +\n                &quot;    &lt;/tr&gt;\\n&quot; +\n                &quot;  &lt;/tbody&gt;&lt;/table&gt;\\n&quot; +\n                &quot;  &lt;table role=\\&quot;presentation\\&quot; class=\\&quot;m_-6186904992287805515content\\&quot; align=\\&quot;center\\&quot; cellpadding=\\&quot;0\\&quot; cellspacing=\\&quot;0\\&quot; border=\\&quot;0\\&quot; style=\\&quot;border-collapse:collapse;max-width:580px;width:100%!important\\&quot; width=\\&quot;100%\\&quot;&gt;\\n&quot; +\n                &quot;    &lt;tbody&gt;&lt;tr&gt;\\n&quot; +\n                &quot;      &lt;td width=\\&quot;10\\&quot; height=\\&quot;10\\&quot; valign=\\&quot;middle\\&quot;&gt;&lt;/td&gt;\\n&quot; +\n                &quot;      &lt;td&gt;\\n&quot; +\n                &quot;        \\n&quot; +\n                &quot;                &lt;table role=\\&quot;presentation\\&quot; width=\\&quot;100%\\&quot; cellpadding=\\&quot;0\\&quot; cellspacing=\\&quot;0\\&quot; border=\\&quot;0\\&quot; style=\\&quot;border-collapse:collapse\\&quot;&gt;\\n&quot; +\n                &quot;                  &lt;tbody&gt;&lt;tr&gt;\\n&quot; +\n                &quot;                    &lt;td bgcolor=\\&quot;#1D70B8\\&quot; width=\\&quot;100%\\&quot; height=\\&quot;10\\&quot;&gt;&lt;/td&gt;\\n&quot; +\n                &quot;                  &lt;/tr&gt;\\n&quot; +\n                &quot;                &lt;/tbody&gt;&lt;/table&gt;\\n&quot; +\n                &quot;        \\n&quot; +\n                &quot;      &lt;/td&gt;\\n&quot; +\n                &quot;      &lt;td width=\\&quot;10\\&quot; valign=\\&quot;middle\\&quot; height=\\&quot;10\\&quot;&gt;&lt;/td&gt;\\n&quot; +\n                &quot;    &lt;/tr&gt;\\n&quot; +\n                &quot;  &lt;/tbody&gt;&lt;/table&gt;\\n&quot; +\n                &quot;\\n&quot; +\n                &quot;\\n&quot; +\n                &quot;\\n&quot; +\n                &quot;  &lt;table role=\\&quot;presentation\\&quot; class=\\&quot;m_-6186904992287805515content\\&quot; align=\\&quot;center\\&quot; cellpadding=\\&quot;0\\&quot; cellspacing=\\&quot;0\\&quot; border=\\&quot;0\\&quot; style=\\&quot;border-collapse:collapse;max-width:580px;width:100%!important\\&quot; width=\\&quot;100%\\&quot;&gt;\\n&quot; +\n                &quot;    &lt;tbody&gt;&lt;tr&gt;\\n&quot; +\n                &quot;      &lt;td height=\\&quot;30\\&quot;&gt;&lt;br&gt;&lt;/td&gt;\\n&quot; +\n                &quot;    &lt;/tr&gt;\\n&quot; +\n                &quot;    &lt;tr&gt;\\n&quot; +\n                &quot;      &lt;td width=\\&quot;10\\&quot; valign=\\&quot;middle\\&quot;&gt;&lt;br&gt;&lt;/td&gt;\\n&quot; +\n                &quot;      &lt;td style=\\&quot;font-family:Helvetica,Arial,sans-serif;font-size:19px;line-height:1.315789474;max-width:560px\\&quot;&gt;\\n&quot; +\n                &quot;        \\n&quot; +\n                &quot;            &lt;p style=\\&quot;Margin:0 0 20px 0;font-size:19px;line-height:25px;color:#0b0c0c\\&quot;&gt;Hi &quot; + name + &quot;,&lt;/p&gt;&lt;p style=\\&quot;Margin:0 0 20px 0;font-size:19px;line-height:25px;color:#0b0c0c\\&quot;&gt; Thank you for registering. Please click on the below link to activate your account: &lt;/p&gt;&lt;blockquote style=\\&quot;Margin:0 0 20px 0;border-left:10px solid #b1b4b6;padding:15px 0 0.1px 15px;font-size:19px;line-height:25px\\&quot;&gt;&lt;p style=\\&quot;Margin:0 0 20px 0;font-size:19px;line-height:25px;color:#0b0c0c\\&quot;&gt; &lt;a href=\\&quot;&quot; + link + &quot;\\&quot;&gt;Activate Now&lt;/a&gt; &lt;/p&gt;&lt;/blockquote&gt;\\n Link will expire in 15 minutes. &lt;p&gt;See you soon&lt;/p&gt;&quot; +\n                &quot;        \\n&quot; +\n                &quot;      &lt;/td&gt;\\n&quot; +\n                &quot;      &lt;td width=\\&quot;10\\&quot; valign=\\&quot;middle\\&quot;&gt;&lt;br&gt;&lt;/td&gt;\\n&quot; +\n                &quot;    &lt;/tr&gt;\\n&quot; +\n                &quot;    &lt;tr&gt;\\n&quot; +\n                &quot;      &lt;td height=\\&quot;30\\&quot;&gt;&lt;br&gt;&lt;/td&gt;\\n&quot; +\n                &quot;    &lt;/tr&gt;\\n&quot; +\n                &quot;  &lt;/tbody&gt;&lt;/table&gt;&lt;div class=\\&quot;yj6qo\\&quot;&gt;&lt;/div&gt;&lt;div class=\\&quot;adL\\&quot;&gt;\\n&quot; +\n                &quot;\\n&quot; +\n                &quot;&lt;/div&gt;&lt;/div&gt;&quot;;\n    }\n}\n</code></pre>\n<p><strong>WebSecurityConfig</strong></p>\n<pre><code>@Configuration\n@AllArgsConstructor\n@EnableWebSecurity\npublic class WebSecurityConfig {\n\n    private final AppUserService appUserService;\n    private final BCryptPasswordEncoder bCryptPasswordEncoder;\n\n    @Bean\n    protected SecurityFilterChain filterChain(HttpSecurity httpSecurity) throws Exception {\n        httpSecurity\n                .authenticationProvider(daoAuthenticationProvider())\n                .authorizeHttpRequests().requestMatchers(&quot;/api/v*/registration/**&quot;)\n                .permitAll()\n                .anyRequest()\n                .authenticated().and()\n                .formLogin();\n        return httpSecurity.build();\n    }\n\n    @Bean\n    protected AuthenticationManager authenticationManager(AuthenticationConfiguration authenticationConfiguration) throws Exception {\n        return authenticationConfiguration.getAuthenticationManager();\n    }\n\n    @Bean\n    public DaoAuthenticationProvider daoAuthenticationProvider() {\n        DaoAuthenticationProvider provider = new DaoAuthenticationProvider();\n        provider.setPasswordEncoder(bCryptPasswordEncoder);\n        provider.setUserDetailsService(appUserService);\n        return provider;\n    }\n\n}\n</code></pre>\n<p><strong>Confirmation Token</strong></p>\n<pre><code>@Getter\n@Setter\n@Entity\n@AllArgsConstructor\npublic class ConfirmationToken {\n\n    @Id\n    @GeneratedValue (strategy = GenerationType.IDENTITY)\n    private Long id;\n\n    @Column(nullable = false)\n    private String token;\n\n    @Column(nullable = false)\n    private LocalDateTime createdAt;\n\n    @Column(nullable = false)\n    private LocalDateTime expiresAt;\n\n    private LocalDateTime confirmedAt;\n\n    @ManyToOne\n    @JoinColumn(nullable = false,\n            name = &quot;app_user_id&quot;)\n    private AppUser appUser;\n\n    public ConfirmationToken() {\n    }\n\n    public ConfirmationToken(String token, LocalDateTime createdAt, LocalDateTime expiresAt, AppUser appUser) {\n        this.token = token;\n        this.createdAt = createdAt;\n        this.expiresAt = expiresAt;\n        this.appUser = appUser;\n    }\n}\n\n</code></pre>\n<p>Have checked the pom.xml file seems ok with the dependencies\nHave checked the application.yaml\nIn the current setup I had to use allow-bean-definition-overriding: true in yaml.</p>\n"},{"tags":["java","spring","spring-boot","spring-security","rbac"],"comments":[{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1697029174,"post_id":77272954,"comment_id":136227796,"body_markdown":"1. Ordering matters. The order in which rules are declared is also the rule in which they are consulted. So `.antMatchers(&quot;/api/v1/cards/*&quot;).hasRole(&quot;CUSTOMER&quot;)` also applies to the PUT one already. 2. You are only allowing `ROLE_CUSTOMER`, you want to write your own expression with the `access()` method, something like `access(&quot;hasRole(&#39;CUSTOMER&#39;) or isAuthenticated()&quot;`;","body":"1. Ordering matters. The order in which rules are declared is also the rule in which they are consulted. So <code>.antMatchers(&quot;&#47;api&#47;v1&#47;cards&#47;*&quot;).hasRole(&quot;CUSTOMER&quot;)</code> also applies to the PUT one already. 2. You are only allowing <code>ROLE_CUSTOMER</code>, you want to write your own expression with the <code>access()</code> method, something like <code>access(&quot;hasRole(&#39;CUSTOMER&#39;) or isAuthenticated()&quot;</code>;"},{"owner":{"account_id":11436907,"reputation":625,"user_id":8384029,"accept_rate":40,"display_name":"Mohamed Aoutir"},"score":0,"creation_date":1697036175,"post_id":77272954,"comment_id":136229429,"body_markdown":"@M.Deinum Could you give me your new code snippet in the answer please ?","body":"@M.Deinum Could you give me your new code snippet in the answer please ?"}],"answers":[{"tags":[],"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1697088542,"creation_date":1697088542,"answer_id":77277913,"question_id":77272954,"body_markdown":"When writing Spring Security matching rules the order of the rules matter as the order in which they are defined is also the order in which they are consulted!. So `.antMatchers(&quot;/api/v1/cards/*&quot;).hasRole(&quot;CUSTOMER&quot;)` also applies to the PUT one (below this one) already.\r\n\r\nNext it your security rule is &quot;allow access to all authenticated users or hasRole Customer&quot; then write that rule. Use something like `access(&quot;hasRole(&#39;CUSTOMER&#39;) or isAuthenticated())`. Although this rule is a bit weird as only `isAuthenticated` would do the trick as well in this specific case. ","title":"Allow a specific role to access a limited set of URI but let the remaining roles to access to all URI","body":"<p>When writing Spring Security matching rules the order of the rules matter as the order in which they are defined is also the order in which they are consulted!. So <code>.antMatchers(&quot;/api/v1/cards/*&quot;).hasRole(&quot;CUSTOMER&quot;)</code> also applies to the PUT one (below this one) already.</p>\n<p>Next it your security rule is &quot;allow access to all authenticated users or hasRole Customer&quot; then write that rule. Use something like <code>access(&quot;hasRole('CUSTOMER') or isAuthenticated())</code>. Although this rule is a bit weird as only <code>isAuthenticated</code> would do the trick as well in this specific case.</p>\n"}],"owner":{"account_id":11436907,"reputation":625,"user_id":8384029,"accept_rate":40,"display_name":"Mohamed Aoutir"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77277913,"answer_count":1,"score":0,"last_activity_date":1697088542,"creation_date":1697026380,"question_id":77272954,"body_markdown":"I&#39;m facing a problem in authorizing a user with role **ROLE_CUSTOMER** to access just to these set of URI as listed below:\r\n\r\n    POST /api/v1/beneficiaries/check \r\n    GET /api/v1/accounts/{accountId}/beneficiary-accounts  \r\n    GET /api/v1/accounts/{idAccount} \r\n    GET /api/v1/cards/{cardId}\r\n    PUT /api/v1/cards/{cardId}/deactivate\r\n\r\nbut not for the remaining URI\r\n\r\nand allow the other users with roles (ROLE_API, ROLE_USER) to access all URI, they should be just authenticated.\r\n\r\nHow I can achieve that just with antMatchers config.\r\n\r\nI have tried for several times with the below config:\r\n\r\n    @Override\r\n        protected void configure(HttpSecurity http) throws Exception {\r\n            http\r\n                    .csrf().disable()\r\n                    .exceptionHandling().authenticationEntryPoint(unauthorizedHandler).and()\r\n                    .sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS).and()\r\n                    .authorizeRequests()\r\n                    .antMatchers(HttpMethod.OPTIONS, &quot;/**&quot;).permitAll()\r\n                    .antMatchers(&quot;/api/v1/api-docs/**&quot;).permitAll()\r\n                    .antMatchers(&quot;/api/v1/api-docs**&quot;).permitAll()\r\n                    .antMatchers(&quot;/api/v1/auth&quot;).permitAll()\r\n                    .antMatchers(&quot;/api/v1/auth-dejamobile&quot;).permitAll()\r\n                    .antMatchers(&quot;/api/v1/hc&quot;).permitAll()\r\n                    .antMatchers(&quot;/api/v1/dictionaries/**&quot;).permitAll()\r\n                    .and()\r\n                    .authorizeRequests()\r\n                    .antMatchers(HttpMethod.POST, &quot;/api/v1/beneficiaries/check&quot;).hasRole(&quot;CUSTOMER&quot;)\r\n                    .antMatchers(&quot;/api/v1/accounts/*/beneficiary-accounts&quot;).hasRole(&quot;CUSTOMER&quot;)\r\n                    .antMatchers(&quot;/api/v1/accounts/*&quot;).hasRole(&quot;CUSTOMER&quot;)\r\n                    .antMatchers(&quot;/api/v1/cards/*&quot;).hasRole(&quot;CUSTOMER&quot;)\r\n                    .antMatchers(HttpMethod.PUT,&quot;/api/v1/cards/*/deactivate&quot;).hasRole(&quot;CUSTOMER&quot;)\r\n                    .and()\r\n                    .authorizeRequests()\r\n                    .antMatchers(&quot;/**&quot;).not().hasRole(&quot;CUSTOMER&quot;)\r\n                    .anyRequest().authenticated();\r\n    \r\n    \r\n            http\r\n            .addFilterBefore(authenticationTokenFilterBean(), UsernamePasswordAuthenticationFilter.class);\r\n        }\r\n\r\nbut the **ROLE_API** and **ROLE_USER** haven&#39;t access to the five URI as described above, and **ROLE_CUSTOMER** hasn&#39;t access to ***PUT /api/v1/cards/{cardId}/deactivate*** !!\r\n\r\nAny help is very appreciated.","title":"Allow a specific role to access a limited set of URI but let the remaining roles to access to all URI","body":"<p>I'm facing a problem in authorizing a user with role <strong>ROLE_CUSTOMER</strong> to access just to these set of URI as listed below:</p>\n<pre><code>POST /api/v1/beneficiaries/check \nGET /api/v1/accounts/{accountId}/beneficiary-accounts  \nGET /api/v1/accounts/{idAccount} \nGET /api/v1/cards/{cardId}\nPUT /api/v1/cards/{cardId}/deactivate\n</code></pre>\n<p>but not for the remaining URI</p>\n<p>and allow the other users with roles (ROLE_API, ROLE_USER) to access all URI, they should be just authenticated.</p>\n<p>How I can achieve that just with antMatchers config.</p>\n<p>I have tried for several times with the below config:</p>\n<pre><code>@Override\n    protected void configure(HttpSecurity http) throws Exception {\n        http\n                .csrf().disable()\n                .exceptionHandling().authenticationEntryPoint(unauthorizedHandler).and()\n                .sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS).and()\n                .authorizeRequests()\n                .antMatchers(HttpMethod.OPTIONS, &quot;/**&quot;).permitAll()\n                .antMatchers(&quot;/api/v1/api-docs/**&quot;).permitAll()\n                .antMatchers(&quot;/api/v1/api-docs**&quot;).permitAll()\n                .antMatchers(&quot;/api/v1/auth&quot;).permitAll()\n                .antMatchers(&quot;/api/v1/auth-dejamobile&quot;).permitAll()\n                .antMatchers(&quot;/api/v1/hc&quot;).permitAll()\n                .antMatchers(&quot;/api/v1/dictionaries/**&quot;).permitAll()\n                .and()\n                .authorizeRequests()\n                .antMatchers(HttpMethod.POST, &quot;/api/v1/beneficiaries/check&quot;).hasRole(&quot;CUSTOMER&quot;)\n                .antMatchers(&quot;/api/v1/accounts/*/beneficiary-accounts&quot;).hasRole(&quot;CUSTOMER&quot;)\n                .antMatchers(&quot;/api/v1/accounts/*&quot;).hasRole(&quot;CUSTOMER&quot;)\n                .antMatchers(&quot;/api/v1/cards/*&quot;).hasRole(&quot;CUSTOMER&quot;)\n                .antMatchers(HttpMethod.PUT,&quot;/api/v1/cards/*/deactivate&quot;).hasRole(&quot;CUSTOMER&quot;)\n                .and()\n                .authorizeRequests()\n                .antMatchers(&quot;/**&quot;).not().hasRole(&quot;CUSTOMER&quot;)\n                .anyRequest().authenticated();\n\n\n        http\n        .addFilterBefore(authenticationTokenFilterBean(), UsernamePasswordAuthenticationFilter.class);\n    }\n</code></pre>\n<p>but the <strong>ROLE_API</strong> and <strong>ROLE_USER</strong> haven't access to the five URI as described above, and <strong>ROLE_CUSTOMER</strong> hasn't access to <em><strong>PUT /api/v1/cards/{cardId}/deactivate</strong></em> !!</p>\n<p>Any help is very appreciated.</p>\n"},{"tags":["java","string","split"],"answers":[{"comments":[{"owner":{"account_id":950913,"reputation":3251,"user_id":977087,"accept_rate":86,"display_name":"Crowie"},"score":35,"creation_date":1375347368,"post_id":3481842,"comment_id":26301397,"body_markdown":"Why do you use hash symbols to delimit String&#39;s methods?","body":"Why do you use hash symbols to delimit String&#39;s methods?"},{"owner":{"account_id":52822,"reputation":1089035,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"score":104,"creation_date":1375358658,"post_id":3481842,"comment_id":26308297,"body_markdown":"@Crowie: javadoc-style.","body":"@Crowie: javadoc-style."},{"owner":{"account_id":466110,"reputation":24811,"user_id":870674,"accept_rate":80,"display_name":"klimat"},"score":11,"creation_date":1464006995,"post_id":3481842,"comment_id":62291636,"body_markdown":"Corner case: if it cannot find `reugalr expression` it returns one element array with whole string.","body":"Corner case: if it cannot find <code>reugalr expression</code> it returns one element array with whole string."}],"tags":[],"owner":{"account_id":52822,"reputation":1089035,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"comment_count":3,"down_vote_count":2,"up_vote_count":3371,"is_accepted":true,"score":3369,"last_activity_date":1658706338,"creation_date":1281755134,"answer_id":3481842,"question_id":3481828,"body_markdown":"Use the appropriately named method [`String#split()`][1].\r\n\r\n    String string = &quot;004-034556&quot;;\r\n    String[] parts = string.split(&quot;-&quot;);\r\n    String part1 = parts[0]; // 004\r\n    String part2 = parts[1]; // 034556\r\n\r\nNote that `split`&#39;s argument is assumed to be a [regular expression][2], so remember to escape [special characters][3] if necessary.\r\n\r\n&gt; [there][3] are 12 characters with special meanings: the backslash `\\`, the caret `^`, the dollar sign `$`, the period or dot `.`, the vertical bar or pipe symbol `|`, the question mark `?`, the asterisk or star `*`, the plus sign `+`, the opening parenthesis `(`, the closing parenthesis `)`, and the opening square bracket `[`, the opening curly brace `{`, These special characters are often called &quot;metacharacters&quot;.\r\n\r\nFor instance, to split on a period/dot `.` (which means &quot;[any character][4]&quot; in regex), use either [backslash `\\`][3] to escape the individual special character like so `split(&quot;\\\\.&quot;)`, or use [character class `[]`][5] to represent literal character(s) like so `split(&quot;[.]&quot;)`, or use [`Pattern#quote()`][6] to escape the entire string like so `split(Pattern.quote(&quot;.&quot;))`.\r\n\r\n    String[] parts = string.split(Pattern.quote(&quot;.&quot;)); // Split on the exact string.\r\n\r\nTo test beforehand if the string contains certain character(s), just use [`String#contains()`][7].\r\n\r\n    if (string.contains(&quot;-&quot;)) {\r\n        // Split it.\r\n    } else {\r\n        throw new IllegalArgumentException(&quot;String &quot; + string + &quot; does not contain -&quot;);\r\n    }\r\n\r\nNote, this does not take a regular expression. For that, use [`String#matches()`][8] instead.\r\n\r\nIf you&#39;d like to retain the split character in the resulting parts, then make use of [positive lookaround][9]. In case you want to have the split character to end up in left hand side, use positive lookbehind by prefixing `?&lt;=` group on the pattern.\r\n\r\n    String string = &quot;004-034556&quot;;\r\n    String[] parts = string.split(&quot;(?&lt;=-)&quot;);\r\n    String part1 = parts[0]; // 004-\r\n    String part2 = parts[1]; // 034556\r\n\r\nIn case you want to have the split character to end up in right hand side, use positive lookahead by prefixing `?=` group on the pattern.\r\n\r\n    String string = &quot;004-034556&quot;;\r\n    String[] parts = string.split(&quot;(?=-)&quot;);\r\n    String part1 = parts[0]; // 004\r\n    String part2 = parts[1]; // -034556\r\n\r\nIf you&#39;d like to limit the number of resulting parts, then you can supply the desired number as 2nd argument of `split()` method. \r\n\r\n    String string = &quot;004-034556-42&quot;;\r\n    String[] parts = string.split(&quot;-&quot;, 2);\r\n    String part1 = parts[0]; // 004\r\n    String part2 = parts[1]; // 034556-42\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html#split(java.lang.String)\r\n  [2]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/regex/Pattern.html#sum\r\n  [3]: https://www.regular-expressions.info/characters.html\r\n  [4]: https://www.regular-expressions.info/dot.html\r\n  [5]: https://www.regular-expressions.info/charclass.html\r\n  [6]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/regex/Pattern.html#quote(java.lang.String)\r\n  [7]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html#contains(java.lang.CharSequence)\r\n  [8]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html#matches(java.lang.String)\r\n  [9]: https://www.regular-expressions.info/lookaround.html","title":"How do I split a string in Java?","body":"<p>Use the appropriately named method <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html#split(java.lang.String)\" rel=\"noreferrer\"><code>String#split()</code></a>.</p>\n<pre><code>String string = &quot;004-034556&quot;;\nString[] parts = string.split(&quot;-&quot;);\nString part1 = parts[0]; // 004\nString part2 = parts[1]; // 034556\n</code></pre>\n<p>Note that <code>split</code>'s argument is assumed to be a <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/regex/Pattern.html#sum\" rel=\"noreferrer\">regular expression</a>, so remember to escape <a href=\"https://www.regular-expressions.info/characters.html\" rel=\"noreferrer\">special characters</a> if necessary.</p>\n<blockquote>\n<p><a href=\"https://www.regular-expressions.info/characters.html\" rel=\"noreferrer\">there</a> are 12 characters with special meanings: the backslash <code>\\</code>, the caret <code>^</code>, the dollar sign <code>$</code>, the period or dot <code>.</code>, the vertical bar or pipe symbol <code>|</code>, the question mark <code>?</code>, the asterisk or star <code>*</code>, the plus sign <code>+</code>, the opening parenthesis <code>(</code>, the closing parenthesis <code>)</code>, and the opening square bracket <code>[</code>, the opening curly brace <code>{</code>, These special characters are often called &quot;metacharacters&quot;.</p>\n</blockquote>\n<p>For instance, to split on a period/dot <code>.</code> (which means &quot;<a href=\"https://www.regular-expressions.info/dot.html\" rel=\"noreferrer\">any character</a>&quot; in regex), use either <a href=\"https://www.regular-expressions.info/characters.html\" rel=\"noreferrer\">backslash <code>\\</code></a> to escape the individual special character like so <code>split(&quot;\\\\.&quot;)</code>, or use <a href=\"https://www.regular-expressions.info/charclass.html\" rel=\"noreferrer\">character class <code>[]</code></a> to represent literal character(s) like so <code>split(&quot;[.]&quot;)</code>, or use <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/regex/Pattern.html#quote(java.lang.String)\" rel=\"noreferrer\"><code>Pattern#quote()</code></a> to escape the entire string like so <code>split(Pattern.quote(&quot;.&quot;))</code>.</p>\n<pre><code>String[] parts = string.split(Pattern.quote(&quot;.&quot;)); // Split on the exact string.\n</code></pre>\n<p>To test beforehand if the string contains certain character(s), just use <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html#contains(java.lang.CharSequence)\" rel=\"noreferrer\"><code>String#contains()</code></a>.</p>\n<pre><code>if (string.contains(&quot;-&quot;)) {\n    // Split it.\n} else {\n    throw new IllegalArgumentException(&quot;String &quot; + string + &quot; does not contain -&quot;);\n}\n</code></pre>\n<p>Note, this does not take a regular expression. For that, use <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html#matches(java.lang.String)\" rel=\"noreferrer\"><code>String#matches()</code></a> instead.</p>\n<p>If you'd like to retain the split character in the resulting parts, then make use of <a href=\"https://www.regular-expressions.info/lookaround.html\" rel=\"noreferrer\">positive lookaround</a>. In case you want to have the split character to end up in left hand side, use positive lookbehind by prefixing <code>?&lt;=</code> group on the pattern.</p>\n<pre><code>String string = &quot;004-034556&quot;;\nString[] parts = string.split(&quot;(?&lt;=-)&quot;);\nString part1 = parts[0]; // 004-\nString part2 = parts[1]; // 034556\n</code></pre>\n<p>In case you want to have the split character to end up in right hand side, use positive lookahead by prefixing <code>?=</code> group on the pattern.</p>\n<pre><code>String string = &quot;004-034556&quot;;\nString[] parts = string.split(&quot;(?=-)&quot;);\nString part1 = parts[0]; // 004\nString part2 = parts[1]; // -034556\n</code></pre>\n<p>If you'd like to limit the number of resulting parts, then you can supply the desired number as 2nd argument of <code>split()</code> method.</p>\n<pre><code>String string = &quot;004-034556-42&quot;;\nString[] parts = string.split(&quot;-&quot;, 2);\nString part1 = parts[0]; // 004\nString part2 = parts[1]; // 034556-42\n</code></pre>\n"},{"comments":[{"owner":{"account_id":117745,"reputation":5429,"user_id":308219,"display_name":"Michael Konietzka"},"score":6,"creation_date":1281767791,"post_id":3481843,"comment_id":3635375,"body_markdown":"This will accept &quot;-555&quot; as input and returns [, 555]. The requirements aren&#39;t defined that clear, if it would be valid to accept this. I recommend writing some unit-tests to define the desired behaviour.","body":"This will accept &quot;-555&quot; as input and returns [, 555]. The requirements aren&#39;t defined that clear, if it would be valid to accept this. I recommend writing some unit-tests to define the desired behaviour."},{"owner":{"account_id":220213,"reputation":5790,"user_id":477494,"accept_rate":67,"display_name":"Uncle Iroh"},"score":1,"creation_date":1392051211,"post_id":3481843,"comment_id":32778852,"body_markdown":"Probly safest to change (result.length != 2) to (result.length &lt; 2)","body":"Probly safest to change (result.length != 2) to (result.length &lt; 2)"}],"tags":[],"owner":{"account_id":1885,"reputation":137382,"user_id":2598,"accept_rate":93,"display_name":"jjnguy"},"comment_count":2,"down_vote_count":0,"up_vote_count":50,"is_accepted":false,"score":50,"last_activity_date":1604767396,"creation_date":1281755169,"answer_id":3481843,"question_id":3481828,"body_markdown":"Use:\r\n\r\n    String[] result = yourString.split(&quot;-&quot;);\r\n    if (result.length != 2) \r\n         throw new IllegalArgumentException(&quot;String not in correct format&quot;);\r\n\r\nThis will split your string into two parts. The first element in the array will be the part containing the stuff before the `-`, and the second element in the array will contain the part of your string after the `-`.\r\n\r\nIf the array length is not 2, then the string was not in the format: `string-string`.\r\n\r\nCheck out the [split()][1] method in the `String` class.\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/lang/String.html#split-java.lang.String-int-\r\n","title":"How do I split a string in Java?","body":"<p>Use:</p>\n<pre><code>String[] result = yourString.split(&quot;-&quot;);\nif (result.length != 2) \n     throw new IllegalArgumentException(&quot;String not in correct format&quot;);\n</code></pre>\n<p>This will split your string into two parts. The first element in the array will be the part containing the stuff before the <code>-</code>, and the second element in the array will contain the part of your string after the <code>-</code>.</p>\n<p>If the array length is not 2, then the string was not in the format: <code>string-string</code>.</p>\n<p>Check out the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/String.html#split-java.lang.String-int-\" rel=\"noreferrer\">split()</a> method in the <code>String</code> class.</p>\n"},{"tags":[],"owner":{"account_id":116185,"reputation":7719,"user_id":304778,"accept_rate":74,"display_name":"secmask"},"comment_count":0,"down_vote_count":1,"up_vote_count":39,"is_accepted":false,"score":38,"last_activity_date":1635757045,"creation_date":1281755181,"answer_id":3481845,"question_id":3481828,"body_markdown":"This:\r\n\r\n    String[] out = string.split(&quot;-&quot;);\r\n\r\nshould do the thing you want. The *string* class has many method to operate with a string.\r\n","title":"How do I split a string in Java?","body":"<p>This:</p>\n<pre><code>String[] out = string.split(&quot;-&quot;);\n</code></pre>\n<p>should do the thing you want. The <em>string</em> class has many method to operate with a string.</p>\n"},{"comments":[{"owner":{"account_id":75585,"reputation":595,"user_id":216756,"display_name":"Chris Mountford"},"score":5,"creation_date":1408920212,"post_id":3482361,"comment_id":39760386,"body_markdown":"Useful advice, but not actually an answer to the question. If you&#39;re supporting another answer&#39;s with detail a comment is preferred.","body":"Useful advice, but not actually an answer to the question. If you&#39;re supporting another answer&#39;s with detail a comment is preferred."},{"owner":{"account_id":7919152,"reputation":1465,"user_id":6078409,"display_name":"Ryan Augustine"},"score":0,"creation_date":1537441324,"post_id":3482361,"comment_id":91790063,"body_markdown":"Use : split ( String regex, int limit ) and NOT split( String regex) for reference visit https://www.geeksforgeeks.org/split-string-java-examples/","body":"Use : split ( String regex, int limit ) and NOT split( String regex) for reference visit <a href=\"https://www.geeksforgeeks.org/split-string-java-examples/\" rel=\"nofollow noreferrer\">geeksforgeeks.org/split-string-java-examples</a>"}],"tags":[],"owner":{"account_id":117745,"reputation":5429,"user_id":308219,"display_name":"Michael Konietzka"},"comment_count":2,"down_vote_count":2,"up_vote_count":21,"is_accepted":false,"score":19,"last_activity_date":1426927789,"creation_date":1281769030,"answer_id":3482361,"question_id":3481828,"body_markdown":"The requirements left room for interpretation. I recommend writing a method,\r\n\r\n    public final static String[] mySplit(final String s)\r\n\r\nwhich encapsulate this function. Of course you can use String.split(..) as mentioned in the other answers for the implementation.\r\n\r\nYou should write some unit-tests for input strings and the desired results and behaviour.\r\n\r\nGood test candidates should include:\r\n\r\n     - &quot;0022-3333&quot;\r\n     - &quot;-&quot;\r\n     - &quot;5555-&quot;\r\n     - &quot;-333&quot;\r\n     - &quot;3344-&quot;\r\n     - &quot;--&quot;\r\n     - &quot;&quot;\r\n     - &quot;553535&quot;\r\n     - &quot;333-333-33&quot;\r\n     - &quot;222--222&quot;\r\n     - &quot;222--&quot;\r\n     - &quot;--4555&quot;\r\n\r\nWith defining the according test results, you can specify the behaviour.\r\n\r\nFor example, if `&quot;-333&quot;` should return in `[,333]` or if it is an error.\r\nCan `&quot;333-333-33&quot;` be separated in `[333,333-33] or [333-333,33]` or is it an error? And so on.\r\n","title":"How do I split a string in Java?","body":"<p>The requirements left room for interpretation. I recommend writing a method,</p>\n\n<pre><code>public final static String[] mySplit(final String s)\n</code></pre>\n\n<p>which encapsulate this function. Of course you can use String.split(..) as mentioned in the other answers for the implementation.</p>\n\n<p>You should write some unit-tests for input strings and the desired results and behaviour.</p>\n\n<p>Good test candidates should include:</p>\n\n<pre><code> - \"0022-3333\"\n - \"-\"\n - \"5555-\"\n - \"-333\"\n - \"3344-\"\n - \"--\"\n - \"\"\n - \"553535\"\n - \"333-333-33\"\n - \"222--222\"\n - \"222--\"\n - \"--4555\"\n</code></pre>\n\n<p>With defining the according test results, you can specify the behaviour.</p>\n\n<p>For example, if <code>\"-333\"</code> should return in <code>[,333]</code> or if it is an error.\nCan <code>\"333-333-33\"</code> be separated in <code>[333,333-33] or [333-333,33]</code> or is it an error? And so on.</p>\n"},{"comments":[{"owner":{"account_id":10599556,"reputation":508,"user_id":7806912,"display_name":"ptstone"},"score":0,"creation_date":1499920083,"post_id":3483070,"comment_id":77115447,"body_markdown":"This is a great solution, however the first part should be `m.group(1)`, the second part `m.group(2)`, since `m.group(0)` actually returns the full matching pattern.\n\nI think i also remember `group(0)` used to be the first match instead of the full pattern, maybe this changed in a recent java version update.","body":"This is a great solution, however the first part should be <code>m.group(1)</code>, the second part <code>m.group(2)</code>, since <code>m.group(0)</code> actually returns the full matching pattern.  I think i also remember <code>group(0)</code> used to be the first match instead of the full pattern, maybe this changed in a recent java version update."}],"tags":[],"owner":{"account_id":74899,"reputation":1409,"user_id":215009,"display_name":"Rob Hague"},"comment_count":1,"down_vote_count":0,"up_vote_count":89,"is_accepted":false,"score":89,"last_activity_date":1500307783,"creation_date":1281785319,"answer_id":3483070,"question_id":3481828,"body_markdown":"An alternative to processing the string directly would be to use a regular expression with capturing groups. This has the advantage that it makes it straightforward to imply more sophisticated constraints on the input. For example, the following splits the string into two parts, and ensures that both consist only of digits:\r\n\r\n    import java.util.regex.Pattern;\r\n    import java.util.regex.Matcher;\r\n\r\n    class SplitExample\r\n    {\r\n        private static Pattern twopart = Pattern.compile(&quot;(\\\\d+)-(\\\\d+)&quot;);\r\n\r\n        public static void checkString(String s)\r\n        {\r\n            Matcher m = twopart.matcher(s);\r\n            if (m.matches()) {\r\n                System.out.println(s + &quot; matches; first part is &quot; + m.group(1) +\r\n                                   &quot;, second part is &quot; + m.group(2) + &quot;.&quot;);\r\n            } else {\r\n                System.out.println(s + &quot; does not match.&quot;);\r\n            }\r\n        }\r\n\r\n        public static void main(String[] args) {\r\n            checkString(&quot;123-4567&quot;);\r\n            checkString(&quot;foo-bar&quot;);\r\n            checkString(&quot;123-&quot;);\r\n            checkString(&quot;-4567&quot;);\r\n            checkString(&quot;123-4567-890&quot;);\r\n        }\r\n    }\r\n\r\nAs the pattern is fixed in this instance, it can be compiled in advance and stored as a static member (initialised at class load time in the example). The regular expression is:\r\n\r\n    (\\d+)-(\\d+)\r\n\r\nThe parentheses denote the capturing groups; the string that matched that part of the regexp can be accessed by the Match.group() method, as shown. The \\d matches and single decimal digit, and the + means &quot;match one or more of the previous expression). The - has no special meaning, so just matches that character in the input. Note that you need to double-escape the backslashes when writing this as a Java string. Some other examples:\r\n\r\n    ([A-Z]+)-([A-Z]+)          // Each part consists of only capital letters \r\n    ([^-]+)-([^-]+)            // Each part consists of characters other than -\r\n    ([A-Z]{2})-(\\d+)           // The first part is exactly two capital letters,\r\n                               // the second consists of digits","title":"How do I split a string in Java?","body":"<p>An alternative to processing the string directly would be to use a regular expression with capturing groups. This has the advantage that it makes it straightforward to imply more sophisticated constraints on the input. For example, the following splits the string into two parts, and ensures that both consist only of digits:</p>\n\n<pre><code>import java.util.regex.Pattern;\nimport java.util.regex.Matcher;\n\nclass SplitExample\n{\n    private static Pattern twopart = Pattern.compile(\"(\\\\d+)-(\\\\d+)\");\n\n    public static void checkString(String s)\n    {\n        Matcher m = twopart.matcher(s);\n        if (m.matches()) {\n            System.out.println(s + \" matches; first part is \" + m.group(1) +\n                               \", second part is \" + m.group(2) + \".\");\n        } else {\n            System.out.println(s + \" does not match.\");\n        }\n    }\n\n    public static void main(String[] args) {\n        checkString(\"123-4567\");\n        checkString(\"foo-bar\");\n        checkString(\"123-\");\n        checkString(\"-4567\");\n        checkString(\"123-4567-890\");\n    }\n}\n</code></pre>\n\n<p>As the pattern is fixed in this instance, it can be compiled in advance and stored as a static member (initialised at class load time in the example). The regular expression is:</p>\n\n<pre><code>(\\d+)-(\\d+)\n</code></pre>\n\n<p>The parentheses denote the capturing groups; the string that matched that part of the regexp can be accessed by the Match.group() method, as shown. The \\d matches and single decimal digit, and the + means \"match one or more of the previous expression). The - has no special meaning, so just matches that character in the input. Note that you need to double-escape the backslashes when writing this as a Java string. Some other examples:</p>\n\n<pre><code>([A-Z]+)-([A-Z]+)          // Each part consists of only capital letters \n([^-]+)-([^-]+)            // Each part consists of characters other than -\n([A-Z]{2})-(\\d+)           // The first part is exactly two capital letters,\n                           // the second consists of digits\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2056278,"reputation":23340,"user_id":1833961,"accept_rate":54,"display_name":"bvdb"},"score":64,"creation_date":1378710431,"post_id":13411591,"comment_id":27537575,"body_markdown":"The JavaDoc clearly states: *&quot;`StringTokenizer` is a legacy class that is retained for compatibility reasons although **its use is discouraged in new code**. It is recommended that anyone seeking this functionality use the `split` method of `String` or the `java.util.regex` package instead.&quot;*","body":"The JavaDoc clearly states: <i>&quot;<code>StringTokenizer</code> is a legacy class that is retained for compatibility reasons although <b>its use is discouraged in new code</b>. It is recommended that anyone seeking this functionality use the <code>split</code> method of <code>String</code> or the <code>java.util.regex</code> package instead.&quot;</i>"}],"tags":[],"owner":{"account_id":287366,"reputation":1253,"user_id":587134,"display_name":"Mnyikka"},"comment_count":1,"down_vote_count":6,"up_vote_count":37,"is_accepted":false,"score":31,"last_activity_date":1398285915,"creation_date":1353047454,"answer_id":13411591,"question_id":3481828,"body_markdown":"    // This leaves the regexes issue out of question\r\n    // But we must remember that each character in the Delimiter String is treated\r\n    // like a single delimiter        \r\n\r\n    public static String[] SplitUsingTokenizer(String subject, String delimiters) {\r\n       StringTokenizer strTkn = new StringTokenizer(subject, delimiters);\r\n       ArrayList&lt;String&gt; arrLis = new ArrayList&lt;String&gt;(subject.length());\r\n   \r\n       while(strTkn.hasMoreTokens())\r\n          arrLis.add(strTkn.nextToken());\r\n\r\n       return arrLis.toArray(new String[0]);\r\n    }","title":"How do I split a string in Java?","body":"<pre><code>// This leaves the regexes issue out of question\n// But we must remember that each character in the Delimiter String is treated\n// like a single delimiter        \n\npublic static String[] SplitUsingTokenizer(String subject, String delimiters) {\n   StringTokenizer strTkn = new StringTokenizer(subject, delimiters);\n   ArrayList&lt;String&gt; arrLis = new ArrayList&lt;String&gt;(subject.length());\n\n   while(strTkn.hasMoreTokens())\n      arrLis.add(strTkn.nextToken());\n\n   return arrLis.toArray(new String[0]);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2070008,"reputation":608,"user_id":1844709,"display_name":"SHUNMUGA RAJ PRABAKARAN"},"comment_count":0,"down_vote_count":2,"up_vote_count":19,"is_accepted":false,"score":17,"last_activity_date":1358243918,"creation_date":1358243918,"answer_id":14335132,"question_id":3481828,"body_markdown":"   You can try like this also\r\n\r\n\r\n     String concatenated_String=&quot;hi^Hello&quot;;\r\n        \r\n     String split_string_array[]=concatenated_String.split(&quot;\\\\^&quot;);","title":"How do I split a string in Java?","body":"<p>You can try like this also</p>\n\n<pre><code> String concatenated_String=\"hi^Hello\";\n\n String split_string_array[]=concatenated_String.split(\"\\\\^\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1128840,"reputation":2152,"user_id":1115406,"accept_rate":86,"display_name":"Akhilesh Dhar Dubey"},"comment_count":0,"down_vote_count":3,"up_vote_count":14,"is_accepted":false,"score":11,"last_activity_date":1503998979,"creation_date":1394907438,"answer_id":22427835,"question_id":3481828,"body_markdown":"    public class SplitTest {\r\n\r\n        public static String[] split(String text, String delimiter) {\r\n            java.util.List&lt;String&gt; parts = new java.util.ArrayList&lt;String&gt;();\r\n\r\n            text += delimiter;\r\n\r\n            for (int i = text.indexOf(delimiter), j=0; i != -1;) {\r\n                String temp = text.substring(j,i);\r\n                if(temp.trim().length() != 0) {\r\n                    parts.add(temp);\r\n                }\r\n                j = i + delimiter.length();\r\n                i = text.indexOf(delimiter,j);\r\n            }\r\n\r\n            return parts.toArray(new String[0]);\r\n        }\r\n\r\n\r\n        public static void main(String[] args) {\r\n            String str = &quot;004-034556&quot;;\r\n            String delimiter = &quot;-&quot;;\r\n            String result[] = split(str, delimiter);\r\n            for(String s:result)\r\n                System.out.println(s);\r\n        }\r\n    }\r\n","title":"How do I split a string in Java?","body":"<pre><code>public class SplitTest {\n\n    public static String[] split(String text, String delimiter) {\n        java.util.List&lt;String&gt; parts = new java.util.ArrayList&lt;String&gt;();\n\n        text += delimiter;\n\n        for (int i = text.indexOf(delimiter), j=0; i != -1;) {\n            String temp = text.substring(j,i);\n            if(temp.trim().length() != 0) {\n                parts.add(temp);\n            }\n            j = i + delimiter.length();\n            i = text.indexOf(delimiter,j);\n        }\n\n        return parts.toArray(new String[0]);\n    }\n\n\n    public static void main(String[] args) {\n        String str = \"004-034556\";\n        String delimiter = \"-\";\n        String result[] = split(str, delimiter);\n        for(String s:result)\n            System.out.println(s);\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":75585,"reputation":595,"user_id":216756,"display_name":"Chris Mountford"},"score":7,"creation_date":1408920312,"post_id":22523609,"comment_id":39760407,"body_markdown":"The most scarce resource is often programmer&#39;s time and attention. This code consumes more of that resource than alternatives.","body":"The most scarce resource is often programmer&#39;s time and attention. This code consumes more of that resource than alternatives."},{"owner":{"account_id":3776321,"reputation":140,"user_id":3137077,"display_name":"J Sanchez"},"score":0,"creation_date":1461343803,"post_id":22523609,"comment_id":61172761,"body_markdown":"you have a lot of built-in resources that you can use, where the performance it&#39;s really considered, this solution is lacking of performance execution time","body":"you have a lot of built-in resources that you can use, where the performance it&#39;s really considered, this solution is lacking of performance execution time"},{"owner":{"account_id":2368466,"reputation":411,"user_id":2073670,"accept_rate":67,"display_name":"tekHedd"},"score":1,"creation_date":1547673237,"post_id":22523609,"comment_id":95276774,"body_markdown":"To do a simple split on a single character with error checking, this is no more complex than the regex version.","body":"To do a simple split on a single character with error checking, this is no more complex than the regex version."},{"owner":{"account_id":35161,"reputation":4358,"user_id":99455,"accept_rate":100,"display_name":"Gabriel Magana"},"score":0,"creation_date":1553219064,"post_id":22523609,"comment_id":97312404,"body_markdown":"Bravo!  Finally an answer to this question that does not use regex! Using a regex for this simple task is rather a headscratcher. Good to see there are sane programmers still on this earth :-)","body":"Bravo!  Finally an answer to this question that does not use regex! Using a regex for this simple task is rather a headscratcher. Good to see there are sane programmers still on this earth :-)"},{"owner":{"account_id":15524669,"reputation":2739,"user_id":11199879,"display_name":"Kaplan"},"score":0,"creation_date":1587131591,"post_id":22523609,"comment_id":108396024,"body_markdown":"*There is only one &quot;-&quot;, an Exception is wanted and the result should go to string1 and string2.*\nMake `string1 = s.substring(0, s.indexOf(&quot;-&quot;));` `string2 = s.substring(s.indexOf(&quot;-&quot;) + 1);` out of it.\nYou will get the `StringIndexOutOfBoundsException` automatically if there was no &quot;-&quot;.","body":"<i>There is only one &quot;-&quot;, an Exception is wanted and the result should go to string1 and string2.</i> Make <code>string1 = s.substring(0, s.indexOf(&quot;-&quot;));</code> <code>string2 = s.substring(s.indexOf(&quot;-&quot;) + 1);</code> out of it. You will get the <code>StringIndexOutOfBoundsException</code> automatically if there was no &quot;-&quot;."}],"tags":[],"owner":{"account_id":2678164,"reputation":445,"user_id":2314047,"display_name":"David"},"comment_count":5,"down_vote_count":5,"up_vote_count":18,"is_accepted":false,"score":13,"last_activity_date":1395290226,"creation_date":1395290226,"answer_id":22523609,"question_id":3481828,"body_markdown":"The fastest way, which also consumes the least resource could be:\r\n\r\n    String s = &quot;abc-def&quot;;\r\n    int p = s.indexOf(&#39;-&#39;);\r\n    if (p &gt;= 0) {\r\n        String left = s.substring(0, p);\r\n        String right = s.substring(p + 1);\r\n    } else {\r\n      // s does not contain &#39;-&#39;\r\n    }","title":"How do I split a string in Java?","body":"<p>The fastest way, which also consumes the least resource could be:</p>\n\n<pre><code>String s = \"abc-def\";\nint p = s.indexOf('-');\nif (p &gt;= 0) {\n    String left = s.substring(0, p);\n    String right = s.substring(p + 1);\n} else {\n  // s does not contain '-'\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":151394,"reputation":52351,"user_id":365237,"accept_rate":96,"display_name":"eis"},"comment_count":0,"down_vote_count":1,"up_vote_count":18,"is_accepted":false,"score":17,"last_activity_date":1395729797,"creation_date":1395729797,"answer_id":22627173,"question_id":3481828,"body_markdown":"Assuming, that\r\n\r\n - you don&#39;t really need regular expressions for your split\r\n - you happen to already use apache commons lang in your app\r\n\r\nThe easiest way is to use [StringUtils#split(java.lang.String, char)](http://commons.apache.org/proper/commons-lang/javadocs/api-3.1/org/apache/commons/lang3/StringUtils.html#split%28java.lang.String,%20char%29). That&#39;s more convenient than the one provided by Java out of the box if you don&#39;t need regular expressions. Like its manual says, it works like this:\r\n\r\n    A null input String returns null.\r\n    \r\n     StringUtils.split(null, *)         = null\r\n     StringUtils.split(&quot;&quot;, *)           = []\r\n     StringUtils.split(&quot;a.b.c&quot;, &#39;.&#39;)    = [&quot;a&quot;, &quot;b&quot;, &quot;c&quot;]\r\n     StringUtils.split(&quot;a..b.c&quot;, &#39;.&#39;)   = [&quot;a&quot;, &quot;b&quot;, &quot;c&quot;]\r\n     StringUtils.split(&quot;a:b:c&quot;, &#39;.&#39;)    = [&quot;a:b:c&quot;]\r\n     StringUtils.split(&quot;a b c&quot;, &#39; &#39;)    = [&quot;a&quot;, &quot;b&quot;, &quot;c&quot;]\r\n\r\nI would recommend using commong-lang, since usually it contains a lot of stuff that&#39;s usable. However, if you don&#39;t need it for anything else than doing a split, then implementing yourself or escaping the regex is a better option.\r\n\r\n \r\n\r\n \r\n","title":"How do I split a string in Java?","body":"<p>Assuming, that</p>\n\n<ul>\n<li>you don't really need regular expressions for your split</li>\n<li>you happen to already use apache commons lang in your app</li>\n</ul>\n\n<p>The easiest way is to use <a href=\"http://commons.apache.org/proper/commons-lang/javadocs/api-3.1/org/apache/commons/lang3/StringUtils.html#split%28java.lang.String,%20char%29\" rel=\"noreferrer\">StringUtils#split(java.lang.String, char)</a>. That's more convenient than the one provided by Java out of the box if you don't need regular expressions. Like its manual says, it works like this:</p>\n\n<pre><code>A null input String returns null.\n\n StringUtils.split(null, *)         = null\n StringUtils.split(\"\", *)           = []\n StringUtils.split(\"a.b.c\", '.')    = [\"a\", \"b\", \"c\"]\n StringUtils.split(\"a..b.c\", '.')   = [\"a\", \"b\", \"c\"]\n StringUtils.split(\"a:b:c\", '.')    = [\"a:b:c\"]\n StringUtils.split(\"a b c\", ' ')    = [\"a\", \"b\", \"c\"]\n</code></pre>\n\n<p>I would recommend using commong-lang, since usually it contains a lot of stuff that's usable. However, if you don't need it for anything else than doing a split, then implementing yourself or escaping the regex is a better option.</p>\n"},{"tags":[],"owner":{"account_id":3648696,"reputation":699,"user_id":3041354,"display_name":"sandeep vanama"},"comment_count":0,"down_vote_count":3,"up_vote_count":24,"is_accepted":false,"score":21,"last_activity_date":1435225475,"creation_date":1404189319,"answer_id":24502530,"question_id":3481828,"body_markdown":"Use [org.apache.commons.lang.StringUtils&#39;](http://commons.apache.org/proper/commons-lang/javadocs/api-2.6/org/apache/commons/lang/StringUtils.html#split(java.lang.String,%20char)) split method which can split strings based on the character or string you want to split.\r\n\r\nMethod signature: \r\n\r\n    public static String[] split(String str, char separatorChar);\r\n\r\nIn your case, you want to split a string when there is a &quot;-&quot;.\r\n\r\nYou can simply do as follows:\r\n\r\n    String str = &quot;004-034556&quot;;\r\n    \r\n    String split[] = StringUtils.split(str,&quot;-&quot;);\r\n\r\n**Output:**\r\n\r\n&lt;!-- language: none --&gt;\r\n\r\n    004\r\n    034556\r\n\r\nAssume that if `-` does not exists in your string, it returns the given string, and you will not get any exception.","title":"How do I split a string in Java?","body":"<p>Use <a href=\"http://commons.apache.org/proper/commons-lang/javadocs/api-2.6/org/apache/commons/lang/StringUtils.html#split(java.lang.String,%20char)\" rel=\"noreferrer\">org.apache.commons.lang.StringUtils'</a> split method which can split strings based on the character or string you want to split.</p>\n\n<p>Method signature: </p>\n\n<pre><code>public static String[] split(String str, char separatorChar);\n</code></pre>\n\n<p>In your case, you want to split a string when there is a \"-\".</p>\n\n<p>You can simply do as follows:</p>\n\n<pre><code>String str = \"004-034556\";\n\nString split[] = StringUtils.split(str,\"-\");\n</code></pre>\n\n<p><strong>Output:</strong></p>\n\n<pre class=\"lang-none prettyprint-override\"><code>004\n034556\n</code></pre>\n\n<p>Assume that if <code>-</code> does not exists in your string, it returns the given string, and you will not get any exception.</p>\n"},{"tags":[],"owner":{"account_id":1453502,"reputation":10289,"user_id":1369752,"accept_rate":72,"display_name":"RajeshVijayakumar"},"comment_count":0,"down_vote_count":1,"up_vote_count":12,"is_accepted":false,"score":11,"last_activity_date":1417263586,"creation_date":1409578776,"answer_id":25607125,"question_id":3481828,"body_markdown":"You can split a string by a line break by using the following statement:\r\n\r\n    String textStr[] = yourString.split(&quot;\\\\r?\\\\n&quot;);\r\n\r\nYou can split a string by a hyphen/character by using the following statement:\r\n\r\n    String textStr[] = yourString.split(&quot;-&quot;);\r\n","title":"How do I split a string in Java?","body":"<p>You can split a string by a line break by using the following statement:</p>\n\n<pre><code>String textStr[] = yourString.split(\"\\\\r?\\\\n\");\n</code></pre>\n\n<p>You can split a string by a hyphen/character by using the following statement:</p>\n\n<pre><code>String textStr[] = yourString.split(\"-\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":108817,"reputation":111656,"user_id":288671,"display_name":"Vitalii Fedorenko"},"comment_count":0,"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1518708519,"creation_date":1431524337,"answer_id":30216602,"question_id":3481828,"body_markdown":"For simple use cases [`String.split()`][3] should do the job. If you use guava, there is also a [Splitter][1] class which allows chaining of different string operations and supports [CharMatcher][2]:\r\n\r\n    Splitter.on(&#39;-&#39;)\r\n           .trimResults()\r\n           .omitEmptyStrings()\r\n           .split(string);\r\n\r\n  [1]: https://github.com/google/guava/wiki/StringsExplained#splitter\r\n  [2]: https://google.github.io/guava/releases/snapshot-jre/api/docs/com/google/common/base/CharMatcher.html\r\n  [3]: http://docs.oracle.com/javase/8/docs/api/java/lang/String.html#split-java.lang.String-","title":"How do I split a string in Java?","body":"<p>For simple use cases <a href=\"http://docs.oracle.com/javase/8/docs/api/java/lang/String.html#split-java.lang.String-\" rel=\"noreferrer\"><code>String.split()</code></a> should do the job. If you use guava, there is also a <a href=\"https://github.com/google/guava/wiki/StringsExplained#splitter\" rel=\"noreferrer\">Splitter</a> class which allows chaining of different string operations and supports <a href=\"https://google.github.io/guava/releases/snapshot-jre/api/docs/com/google/common/base/CharMatcher.html\" rel=\"noreferrer\">CharMatcher</a>:</p>\n\n<pre><code>Splitter.on('-')\n       .trimResults()\n       .omitEmptyStrings()\n       .split(string);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6867193,"reputation":1653,"user_id":5279133,"accept_rate":91,"display_name":"Keshav Pradeep Ramanath"},"comment_count":0,"down_vote_count":1,"up_vote_count":9,"is_accepted":false,"score":8,"last_activity_date":1443984550,"creation_date":1443983072,"answer_id":32936816,"question_id":3481828,"body_markdown":"One way to do this is to run through the String in a for-each loop and use the required split character.\r\n\r\n    public class StringSplitTest {\r\n    \r\n    \tpublic static void main(String[] arg){\r\n    \t\tString str = &quot;004-034556&quot;;\r\n    \t\tString split[] = str.split(&quot;-&quot;);\r\n            System.out.println(&quot;The split parts of the String are&quot;);\r\n    \t\tfor(String s:split)\r\n    \t\tSystem.out.println(s);\r\n    \t}\r\n    }\r\n\r\n\r\nOutput:\r\n\r\n    The split parts of the String are:\r\n    004\r\n    034556","title":"How do I split a string in Java?","body":"<p>One way to do this is to run through the String in a for-each loop and use the required split character.</p>\n\n<pre><code>public class StringSplitTest {\n\n    public static void main(String[] arg){\n        String str = \"004-034556\";\n        String split[] = str.split(\"-\");\n        System.out.println(\"The split parts of the String are\");\n        for(String s:split)\n        System.out.println(s);\n    }\n}\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>The split parts of the String are:\n004\n034556\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6453072,"reputation":37996,"user_id":4999394,"accept_rate":98,"display_name":"Ravindra babu"},"comment_count":0,"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1467485890,"creation_date":1449054440,"answer_id":34041213,"question_id":3481828,"body_markdown":"***String Split with multiple characters using Regex***\r\n\r\n    public class StringSplitTest {\r\n         public static void main(String args[]) {\r\n            String s = &quot; ;String; String; String; String, String; String;;String;String; String; String; ;String;String;String;String&quot;;\r\n            //String[] strs = s.split(&quot;[,\\\\s\\\\;]&quot;);\r\n            String[] strs = s.split(&quot;[,\\\\;]&quot;);\r\n            System.out.println(&quot;Substrings length:&quot;+strs.length);\r\n            for (int i=0; i &lt; strs.length; i++) {\r\n                System.out.println(&quot;Str[&quot;+i+&quot;]:&quot;+strs[i]);\r\n            }\r\n         }\r\n      }\r\n\r\nOutput:\r\n\r\n    Substrings length:17\r\n    Str[0]:\r\n    Str[1]:String\r\n    Str[2]: String\r\n    Str[3]: String\r\n    Str[4]: String\r\n    Str[5]: String\r\n    Str[6]: String\r\n    Str[7]:\r\n    Str[8]:String\r\n    Str[9]:String\r\n    Str[10]: String\r\n    Str[11]: String\r\n    Str[12]:\r\n    Str[13]:String\r\n    Str[14]:String\r\n    Str[15]:String\r\n    Str[16]:String\r\n\r\nBut do not expect the same output across all JDK versions. I have seen [one bug][1] which exists in some JDK versions where the first null string has been ignored. This bug is not present in the latest JDK version, but it exists in some versions between JDK 1.7 late versions and 1.8 early versions.\r\n\r\n  [1]: https://bugs.openjdk.java.net/browse/JDK-8043324\r\n","title":"How do I split a string in Java?","body":"<p><strong><em>String Split with multiple characters using Regex</em></strong></p>\n\n<pre><code>public class StringSplitTest {\n     public static void main(String args[]) {\n        String s = \" ;String; String; String; String, String; String;;String;String; String; String; ;String;String;String;String\";\n        //String[] strs = s.split(\"[,\\\\s\\\\;]\");\n        String[] strs = s.split(\"[,\\\\;]\");\n        System.out.println(\"Substrings length:\"+strs.length);\n        for (int i=0; i &lt; strs.length; i++) {\n            System.out.println(\"Str[\"+i+\"]:\"+strs[i]);\n        }\n     }\n  }\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>Substrings length:17\nStr[0]:\nStr[1]:String\nStr[2]: String\nStr[3]: String\nStr[4]: String\nStr[5]: String\nStr[6]: String\nStr[7]:\nStr[8]:String\nStr[9]:String\nStr[10]: String\nStr[11]: String\nStr[12]:\nStr[13]:String\nStr[14]:String\nStr[15]:String\nStr[16]:String\n</code></pre>\n\n<p>But do not expect the same output across all JDK versions. I have seen <a href=\"https://bugs.openjdk.java.net/browse/JDK-8043324\" rel=\"noreferrer\">one bug</a> which exists in some JDK versions where the first null string has been ignored. This bug is not present in the latest JDK version, but it exists in some versions between JDK 1.7 late versions and 1.8 early versions.</p>\n"},{"comments":[{"owner":{"account_id":1330960,"reputation":1383,"user_id":1274890,"display_name":"R Sun"},"score":0,"creation_date":1570385143,"post_id":37117217,"comment_id":102888607,"body_markdown":"Replace `-` with `|`and see what happens :)","body":"Replace <code>-</code> with <code>|</code>and see what happens :)"},{"owner":{"account_id":1330960,"reputation":1383,"user_id":1274890,"display_name":"R Sun"},"score":0,"creation_date":1570385354,"post_id":37117217,"comment_id":102888673,"body_markdown":"In that case, check https://stackoverflow.com/questions/10796160/splitting-a-java-string-by-the-pipe-symbol-using-split","body":"In that case, check <a href=\"https://stackoverflow.com/questions/10796160/splitting-a-java-string-by-the-pipe-symbol-using-split\" title=\"splitting a java string by the pipe symbol using split\">stackoverflow.com/questions/10796160/&hellip;</a>"}],"tags":[],"owner":{"account_id":6818997,"reputation":3699,"user_id":5246706,"accept_rate":80,"display_name":"Divyesh Kanzariya"},"comment_count":2,"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1469181874,"creation_date":1462800965,"answer_id":37117217,"question_id":3481828,"body_markdown":"Check out the `split()` method in the `String` class on javadoc.\r\n\r\n&gt; https://docs.oracle.com/javase/7/docs/api/java/lang/String.html#split(java.lang.String)\r\n\r\n    String data = &quot;004-034556-1212-232-232&quot;;\r\n    int cnt = 1;\r\n    for (String item : data.split(&quot;-&quot;)) {\r\n\t\t\tSystem.out.println(&quot;string &quot;+cnt+&quot; = &quot;+item);\r\n\t\t\tcnt++;\r\n\t}\r\n\r\nHere many examples for split string but I little code optimized.","title":"How do I split a string in Java?","body":"<p>Check out the <code>split()</code> method in the <code>String</code> class on javadoc.</p>\n\n<blockquote>\n  <p><a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/String.html#split(java.lang.String)\" rel=\"nofollow\">https://docs.oracle.com/javase/7/docs/api/java/lang/String.html#split(java.lang.String)</a></p>\n</blockquote>\n\n<pre><code>String data = \"004-034556-1212-232-232\";\nint cnt = 1;\nfor (String item : data.split(\"-\")) {\n        System.out.println(\"string \"+cnt+\" = \"+item);\n        cnt++;\n}\n</code></pre>\n\n<p>Here many examples for split string but I little code optimized.</p>\n"},{"tags":[],"owner":{"account_id":1257650,"reputation":23489,"user_id":1216775,"accept_rate":54,"display_name":"akhil_mittal"},"comment_count":0,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1467485987,"creation_date":1463548657,"answer_id":37290841,"question_id":3481828,"body_markdown":"Please don&#39;t use [StringTokenizer][1] class as it is a legacy class that is retained for compatibility reasons, and its use is discouraged in new code. And we can make use of the split method as suggested by others as well.\r\n\r\n    String[] sampleTokens = &quot;004-034556&quot;.split(&quot;-&quot;);\r\n    System.out.println(Arrays.toString(sampleTokens));\r\n\r\nAnd as expected it will print:\r\n\r\n    [004, 034556]\r\n\r\nIn this answer I also want to point out **one change that has taken place for `split` method in Java 8**. The [String#split()][2] method makes use of `Pattern.split`, and now it will remove empty strings at the start of the result array. Notice this [change][3] in documentation for Java 8:\r\n\r\n&gt; When there is a positive-width match at the beginning of the input\r\n&gt; sequence then an empty leading substring is included at the beginning\r\n&gt; of the resulting array. A zero-width match at the beginning however\r\n&gt; never produces such empty leading substring.\r\n\r\nIt means for the following example:\r\n\r\n    String[] sampleTokensAgain = &quot;004&quot;.split(&quot;&quot;);\r\n    System.out.println(Arrays.toString(sampleTokensAgain));\r\n\r\nwe will get three strings: `[0, 0, 4]` and not four as was the case in Java 7 and before. Also check this similar [question][4].\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/java/util/StringTokenizer.html\r\n  [2]: http://docs.oracle.com/javase/8/docs/api/java/lang/String.html#split-java.lang.String-\r\n  [3]: https://docs.oracle.com/javase/8/docs/api/java/util/regex/Pattern.html#split-java.lang.CharSequence-int-\r\n  [4]: https://stackoverflow.com/questions/22718744/why-in-java-8-split-sometimes-removes-empty-strings-at-start-of-result-array\r\n","title":"How do I split a string in Java?","body":"<p>Please don't use <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/StringTokenizer.html\" rel=\"noreferrer\">StringTokenizer</a> class as it is a legacy class that is retained for compatibility reasons, and its use is discouraged in new code. And we can make use of the split method as suggested by others as well.</p>\n\n<pre><code>String[] sampleTokens = \"004-034556\".split(\"-\");\nSystem.out.println(Arrays.toString(sampleTokens));\n</code></pre>\n\n<p>And as expected it will print:</p>\n\n<pre><code>[004, 034556]\n</code></pre>\n\n<p>In this answer I also want to point out <strong>one change that has taken place for <code>split</code> method in Java 8</strong>. The <a href=\"http://docs.oracle.com/javase/8/docs/api/java/lang/String.html#split-java.lang.String-\" rel=\"noreferrer\">String#split()</a> method makes use of <code>Pattern.split</code>, and now it will remove empty strings at the start of the result array. Notice this <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/regex/Pattern.html#split-java.lang.CharSequence-int-\" rel=\"noreferrer\">change</a> in documentation for Java 8:</p>\n\n<blockquote>\n  <p>When there is a positive-width match at the beginning of the input\n  sequence then an empty leading substring is included at the beginning\n  of the resulting array. A zero-width match at the beginning however\n  never produces such empty leading substring.</p>\n</blockquote>\n\n<p>It means for the following example:</p>\n\n<pre><code>String[] sampleTokensAgain = \"004\".split(\"\");\nSystem.out.println(Arrays.toString(sampleTokensAgain));\n</code></pre>\n\n<p>we will get three strings: <code>[0, 0, 4]</code> and not four as was the case in Java 7 and before. Also check this similar <a href=\"https://stackoverflow.com/questions/22718744/why-in-java-8-split-sometimes-removes-empty-strings-at-start-of-result-array\">question</a>.</p>\n"},{"comments":[{"owner":{"account_id":184203,"reputation":3430,"user_id":420096,"accept_rate":71,"display_name":"Sombriks"},"score":4,"creation_date":1475380290,"post_id":39813593,"comment_id":66918230,"body_markdown":"if i may share advice, how your answer brings more value than the already accepted solution? http://stackoverflow.com/a/3481842/420096 on such situations  you may cast vote on the existing solution, specially if this is a clear trivial case like that one.","body":"if i may share advice, how your answer brings more value than the already accepted solution? <a href=\"http://stackoverflow.com/a/3481842/420096\">stackoverflow.com/a/3481842/420096</a> on such situations  you may cast vote on the existing solution, specially if this is a clear trivial case like that one."}],"tags":[],"owner":{"account_id":8450974,"reputation":424,"user_id":6339815,"display_name":"Ravi Pandey"},"comment_count":1,"down_vote_count":1,"up_vote_count":9,"is_accepted":false,"score":8,"last_activity_date":1479376821,"creation_date":1475379086,"answer_id":39813593,"question_id":3481828,"body_markdown":"    import java.io.*;\r\n    \r\n    public class BreakString {\r\n    \r\n      public static void main(String args[]) {\r\n        \r\n        String string = &quot;004-034556-1234-2341&quot;;\r\n        String[] parts = string.split(&quot;-&quot;);\r\n    \r\n        for(int i=0;i&lt;parts.length;i++) \r\n          System.out.println(parts[i]);\r\n        }\r\n      }\r\n    }\r\n\r\n","title":"How do I split a string in Java?","body":"<pre><code>import java.io.*;\n\npublic class BreakString {\n\n  public static void main(String args[]) {\n\n    String string = \"004-034556-1234-2341\";\n    String[] parts = string.split(\"-\");\n\n    for(int i=0;i&lt;parts.length;i++) \n      System.out.println(parts[i]);\n    }\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6961607,"reputation":2054,"user_id":5340833,"display_name":"Py-Coder"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1479616994,"creation_date":1479616994,"answer_id":40700795,"question_id":3481828,"body_markdown":"    String str=&quot;004-034556&quot;\r\n    String[] sTemp=str.split(&quot;-&quot;);// &#39;-&#39; is a delimiter\r\n\r\n    string1=004 // sTemp[0];\r\n    string2=034556//sTemp[1];\r\n\r\n","title":"How do I split a string in Java?","body":"<pre><code>String str=\"004-034556\"\nString[] sTemp=str.split(\"-\");// '-' is a delimiter\n\nstring1=004 // sTemp[0];\nstring2=034556//sTemp[1];\n</code></pre>\n"},{"comments":[{"owner":{"account_id":222360,"reputation":7615,"user_id":480894,"accept_rate":72,"display_name":"Roland"},"score":2,"creation_date":1489158692,"post_id":40906916,"comment_id":72563114,"body_markdown":"If you want to remove whitespace add `.map(String::trim)` after the `split`","body":"If you want to remove whitespace add <code>.map(String::trim)</code> after the <code>split</code>"}],"tags":[],"owner":{"account_id":255184,"reputation":7191,"user_id":535060,"accept_rate":94,"display_name":"Somaiah Kumbera"},"comment_count":1,"down_vote_count":0,"up_vote_count":27,"is_accepted":false,"score":27,"last_activity_date":1495364852,"creation_date":1480584725,"answer_id":40906916,"question_id":3481828,"body_markdown":"With Java 8:\r\n\r\n        List&lt;String&gt; stringList = Pattern.compile(&quot;-&quot;)\r\n                .splitAsStream(&quot;004-034556&quot;)\r\n                .collect(Collectors.toList());\r\n\r\n        stringList.forEach(s -&gt; System.out.println(s));\r\n","title":"How do I split a string in Java?","body":"<p>With Java 8:</p>\n\n<pre><code>    List&lt;String&gt; stringList = Pattern.compile(\"-\")\n            .splitAsStream(\"004-034556\")\n            .collect(Collectors.toList());\n\n    stringList.forEach(s -&gt; System.out.println(s));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9590996,"reputation":5786,"user_id":7121889,"display_name":"Sarat Chandra"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1517929429,"creation_date":1483982881,"answer_id":41553574,"question_id":3481828,"body_markdown":"You can use Split():\r\n\r\n    import java.io.*;\r\n\r\n    public class Splitting\r\n    {\r\n\r\n        public static void main(String args[])\r\n        {\r\n            String Str = new String(&quot;004-034556&quot;);\r\n            String[] SplittoArray = Str.split(&quot;-&quot;);\r\n            String string1 = SplittoArray[0];\r\n            String string2 = SplittoArray[1];\r\n        }\r\n    }\r\n\r\nElse, you can use StringTokenizer:\r\n\r\n    import java.util.*;\r\n    public class Splitting\r\n    {\r\n        public static void main(String[] args)\r\n        {\r\n            StringTokenizer Str = new StringTokenizer(&quot;004-034556&quot;);\r\n            String string1 = Str.nextToken(&quot;-&quot;);\r\n            String string2 = Str.nextToken(&quot;-&quot;);\r\n        }\r\n    }\r\n","title":"How do I split a string in Java?","body":"<p>You can use Split():</p>\n\n<pre><code>import java.io.*;\n\npublic class Splitting\n{\n\n    public static void main(String args[])\n    {\n        String Str = new String(\"004-034556\");\n        String[] SplittoArray = Str.split(\"-\");\n        String string1 = SplittoArray[0];\n        String string2 = SplittoArray[1];\n    }\n}\n</code></pre>\n\n<p>Else, you can use StringTokenizer:</p>\n\n<pre><code>import java.util.*;\npublic class Splitting\n{\n    public static void main(String[] args)\n    {\n        StringTokenizer Str = new StringTokenizer(\"004-034556\");\n        String string1 = Str.nextToken(\"-\");\n        String string2 = Str.nextToken(\"-\");\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10316232,"reputation":32,"user_id":7610478,"accept_rate":20,"display_name":"SAM Jr"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1487931145,"creation_date":1487931145,"answer_id":42435940,"question_id":3481828,"body_markdown":"\tString s=&quot;004-034556&quot;;\r\n    for(int i=0;i&lt;s.length();i++)\r\n\t{\r\n\t    if(s.charAt(i)==&#39;-&#39;)\r\n\t\t{\r\n\t\t    System.out.println(s.substring(0,i));\r\n\t\t    System.out.println(s.substring(i+1));\r\n\t\t}\r\n\t}\r\n\r\n&gt;As mentioned by everyone, split() is the best option which may be used in your case. An alternative method can be using substring().","title":"How do I split a string in Java?","body":"<pre><code>String s=\"004-034556\";\nfor(int i=0;i&lt;s.length();i++)\n{\n    if(s.charAt(i)=='-')\n    {\n        System.out.println(s.substring(0,i));\n        System.out.println(s.substring(i+1));\n    }\n}\n</code></pre>\n\n<blockquote>\n  <p>As mentioned by everyone, split() is the best option which may be used in your case. An alternative method can be using substring().</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":8051367,"reputation":430,"user_id":6069781,"accept_rate":71,"display_name":"Akshay Gaikwad"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1517929533,"creation_date":1488533955,"answer_id":42575343,"question_id":3481828,"body_markdown":"Here are two ways two achieve it.\r\n\r\nWAY 1: As you have to split two numbers by a special character you can use regex\r\n\r\n    import java.util.regex.Matcher;\r\n    import java.util.regex.Pattern;\r\n\r\n    public class TrialClass\r\n    {\r\n        public static void main(String[] args)\r\n        {\r\n            Pattern p = Pattern.compile(&quot;[0-9]+&quot;);\r\n            Matcher m = p.matcher(&quot;004-034556&quot;);\r\n\r\n            while(m.find())\r\n            {\r\n                System.out.println(m.group());\r\n            }\r\n        }\r\n    }\r\n\r\nWAY 2: Using the string split method\r\n\r\n    public class TrialClass\r\n    {\r\n        public static void main(String[] args)\r\n        {\r\n            String temp = &quot;004-034556&quot;;\r\n            String [] arrString = temp.split(&quot;-&quot;);\r\n            for(String splitString:arrString)\r\n            {\r\n                System.out.println(splitString);\r\n            }\r\n        }\r\n    }\r\n","title":"How do I split a string in Java?","body":"<p>Here are two ways two achieve it.</p>\n\n<p>WAY 1: As you have to split two numbers by a special character you can use regex</p>\n\n<pre><code>import java.util.regex.Matcher;\nimport java.util.regex.Pattern;\n\npublic class TrialClass\n{\n    public static void main(String[] args)\n    {\n        Pattern p = Pattern.compile(\"[0-9]+\");\n        Matcher m = p.matcher(\"004-034556\");\n\n        while(m.find())\n        {\n            System.out.println(m.group());\n        }\n    }\n}\n</code></pre>\n\n<p>WAY 2: Using the string split method</p>\n\n<pre><code>public class TrialClass\n{\n    public static void main(String[] args)\n    {\n        String temp = \"004-034556\";\n        String [] arrString = temp.split(\"-\");\n        for(String splitString:arrString)\n        {\n            System.out.println(splitString);\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5295682,"reputation":379,"user_id":4226914,"display_name":"KIBOU Hassan"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1517929570,"creation_date":1491602229,"answer_id":43287647,"question_id":3481828,"body_markdown":"To split a string, use `String.split(regex)`:\r\n\r\n    String phone = &quot;004-034556&quot;;\r\n    String[] output = phone.split(&quot;-&quot;);\r\n    System.out.println(output[0]);\r\n    System.out.println(output[1]);\r\n\r\nOutput:\r\n\r\n    004\r\n    034556\r\n","title":"How do I split a string in Java?","body":"<p>To split a string, use <code>String.split(regex)</code>:</p>\n\n<pre><code>String phone = \"004-034556\";\nString[] output = phone.split(\"-\");\nSystem.out.println(output[0]);\nSystem.out.println(output[1]);\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>004\n034556\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8017626,"reputation":2089,"user_id":6613299,"accept_rate":75,"display_name":"Rohit-Pandey"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1517929619,"creation_date":1492401232,"answer_id":43444893,"question_id":3481828,"body_markdown":"You can simply use StringTokenizer to split a string in two or more parts whether there are any type of delimiters:\r\n\r\n    StringTokenizer st = new StringTokenizer(&quot;004-034556&quot;, &quot;-&quot;);\r\n\twhile(st.hasMoreTokens())\r\n    {\r\n\t\tSystem.out.println(st.nextToken());\r\n    }\r\n","title":"How do I split a string in Java?","body":"<p>You can simply use StringTokenizer to split a string in two or more parts whether there are any type of delimiters:</p>\n\n<pre><code>StringTokenizer st = new StringTokenizer(\"004-034556\", \"-\");\nwhile(st.hasMoreTokens())\n{\n    System.out.println(st.nextToken());\n}\n</code></pre>\n"},{"tags":[],"owner":{"display_name":"user7973776"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1517929666,"creation_date":1494763962,"answer_id":43963738,"question_id":3481828,"body_markdown":"From the documentation:\r\n\r\n&gt;`public String[] split(String regex,int limit)` ***Splits this string around matches of the given regular expression***. The array returned by this method contains each\r\n&gt; substring of this string that is terminated by another **substring** that\r\n&gt; matches the given expression or is terminated by the end of the\r\n&gt; string. The substrings in the array are in the ***order*** in which they\r\n&gt; occur in this string. If the expression **does not** match any part of the\r\n&gt; input then the resulting array has just **one element**, **namely this\r\n&gt; string.**\r\n\r\nBasically you can do something like this:\r\n\r\n    String s = &quot;123-456-789-123&quot;; // The String to be split\r\n    String[] array = s.split(&quot;-&quot;); // Split according to the hyphen and put them in an array\r\n    for(String subString : array){ // Cycle through the array\r\n       System.out.println(subString);\r\n    }\r\n\r\n**Output:**\r\n\r\n    123\r\n    456\r\n    789\r\n    123\r\n","title":"How do I split a string in Java?","body":"<p>From the documentation:</p>\n\n<blockquote>\n  <p><code>public String[] split(String regex,int limit)</code> <strong><em>Splits this string around matches of the given regular expression</em></strong>. The array returned by this method contains each\n  substring of this string that is terminated by another <strong>substring</strong> that\n  matches the given expression or is terminated by the end of the\n  string. The substrings in the array are in the <strong><em>order</em></strong> in which they\n  occur in this string. If the expression <strong>does not</strong> match any part of the\n  input then the resulting array has just <strong>one element</strong>, <strong>namely this\n  string.</strong></p>\n</blockquote>\n\n<p>Basically you can do something like this:</p>\n\n<pre><code>String s = \"123-456-789-123\"; // The String to be split\nString[] array = s.split(\"-\"); // Split according to the hyphen and put them in an array\nfor(String subString : array){ // Cycle through the array\n   System.out.println(subString);\n}\n</code></pre>\n\n<p><strong>Output:</strong></p>\n\n<pre><code>123\n456\n789\n123\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10230253,"reputation":643,"user_id":7551282,"display_name":"Aditya Singh"},"comment_count":0,"down_vote_count":3,"up_vote_count":3,"is_accepted":false,"score":0,"last_activity_date":1517929735,"creation_date":1506101265,"answer_id":46370184,"question_id":3481828,"body_markdown":"     String string = &quot;004^034556-34&quot;;\r\n     String[] parts = string.split(Pattern.quote(&quot;^&quot;));\r\n\r\nIf you have a special character then you can use Patter.quote. If you simply have dash (-) then you can shorten the code:\r\n\r\n     String string = &quot;004-34&quot;;\r\n     String[] parts = string.split(&quot;-&quot;);\r\n\r\nIf you try to add other special character in place of dash **(^)** then the error will generate *ArrayIndexOutOfBoundsException*. For that you have to use `Pattern.quote`.\r\n","title":"How do I split a string in Java?","body":"<pre><code> String string = \"004^034556-34\";\n String[] parts = string.split(Pattern.quote(\"^\"));\n</code></pre>\n\n<p>If you have a special character then you can use Patter.quote. If you simply have dash (-) then you can shorten the code:</p>\n\n<pre><code> String string = \"004-34\";\n String[] parts = string.split(\"-\");\n</code></pre>\n\n<p>If you try to add other special character in place of dash <strong>(^)</strong> then the error will generate <em>ArrayIndexOutOfBoundsException</em>. For that you have to use <code>Pattern.quote</code>.</p>\n"},{"tags":[],"owner":{"account_id":2232881,"reputation":726,"user_id":1970059,"accept_rate":25,"display_name":"Dmytro Shvechikov"},"comment_count":0,"down_vote_count":1,"up_vote_count":21,"is_accepted":false,"score":20,"last_activity_date":1667575298,"creation_date":1513174801,"answer_id":47795244,"question_id":3481828,"body_markdown":"To summarize: there are at least five ways to split a string in Java:\r\n\r\n1. String.split():\r\n\r\n        String[] parts =&quot;10,20&quot;.split(&quot;,&quot;);\r\n\r\n2. Pattern.compile(regexp).splitAsStream(input):\r\n\r\n        List&lt;String&gt; strings = Pattern.compile(&quot;\\\\|&quot;)\r\n              .splitAsStream(&quot;010|020202&quot;)\r\n              .collect(Collectors.toList());\r\n\r\n3. StringTokenizer (legacy class):\r\n\r\n        StringTokenizer strings = new StringTokenizer(&quot;Welcome to EXPLAINJAVA.COM!&quot;, &quot;.&quot;);\r\n        while(strings.hasMoreTokens()){\r\n            String substring = strings.nextToken();\r\n            System.out.println(substring);\r\n        }\r\n\r\n4. Google Guava Splitter:\r\n\r\n        Iterable&lt;String&gt; result = Splitter.on(&quot;,&quot;).split(&quot;1,2,3,4&quot;);\r\n\r\n5. Apache Commons StringUtils:\r\n\r\n        String[] strings = StringUtils.split(&quot;1,2,3,4&quot;, &quot;,&quot;);\r\n\r\nSo you can choose the best option for you depending on what you need, e.g. return type (array, list, or iterable).\r\n\r\n[Here][1] is a big overview of these methods and the most common examples (how to split by dot, slash, question mark, etc.)\r\n\r\n  [1]: https://codingmorning.com/split-string-java/\r\n","title":"How do I split a string in Java?","body":"<p>To summarize: there are at least five ways to split a string in Java:</p>\n<ol>\n<li><p>String.split():</p>\n<pre><code> String[] parts =&quot;10,20&quot;.split(&quot;,&quot;);\n</code></pre>\n</li>\n<li><p>Pattern.compile(regexp).splitAsStream(input):</p>\n<pre><code> List&lt;String&gt; strings = Pattern.compile(&quot;\\\\|&quot;)\n       .splitAsStream(&quot;010|020202&quot;)\n       .collect(Collectors.toList());\n</code></pre>\n</li>\n<li><p>StringTokenizer (legacy class):</p>\n<pre><code> StringTokenizer strings = new StringTokenizer(&quot;Welcome to EXPLAINJAVA.COM!&quot;, &quot;.&quot;);\n while(strings.hasMoreTokens()){\n     String substring = strings.nextToken();\n     System.out.println(substring);\n }\n</code></pre>\n</li>\n<li><p>Google Guava Splitter:</p>\n<pre><code> Iterable&lt;String&gt; result = Splitter.on(&quot;,&quot;).split(&quot;1,2,3,4&quot;);\n</code></pre>\n</li>\n<li><p>Apache Commons StringUtils:</p>\n<pre><code> String[] strings = StringUtils.split(&quot;1,2,3,4&quot;, &quot;,&quot;);\n</code></pre>\n</li>\n</ol>\n<p>So you can choose the best option for you depending on what you need, e.g. return type (array, list, or iterable).</p>\n<p><a href=\"https://codingmorning.com/split-string-java/\" rel=\"nofollow noreferrer\">Here</a> is a big overview of these methods and the most common examples (how to split by dot, slash, question mark, etc.)</p>\n"},{"tags":[],"owner":{"display_name":"user3773246"},"comment_count":0,"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1517929910,"creation_date":1515565688,"answer_id":48181496,"question_id":3481828,"body_markdown":"I just wanted to write an algorithm instead of using Java built-in functions:\r\n\r\n    public static List&lt;String&gt; split(String str, char c){\r\n        List&lt;String&gt; list = new ArrayList&lt;&gt;();\r\n        StringBuilder sb = new StringBuilder();\r\n\r\n        for (int i = 0; i &lt; str.length(); i++){\r\n            if(str.charAt(i) != c){\r\n                sb.append(str.charAt(i));\r\n            }\r\n            else{\r\n                if(sb.length() &gt; 0){\r\n                    list.add(sb.toString());\r\n                    sb = new StringBuilder();\r\n                }\r\n            }\r\n        }\r\n\r\n        if(sb.length() &gt;0){\r\n            list.add(sb.toString());\r\n        }\r\n        return list;\r\n    }\r\n","title":"How do I split a string in Java?","body":"<p>I just wanted to write an algorithm instead of using Java built-in functions:</p>\n\n<pre><code>public static List&lt;String&gt; split(String str, char c){\n    List&lt;String&gt; list = new ArrayList&lt;&gt;();\n    StringBuilder sb = new StringBuilder();\n\n    for (int i = 0; i &lt; str.length(); i++){\n        if(str.charAt(i) != c){\n            sb.append(str.charAt(i));\n        }\n        else{\n            if(sb.length() &gt; 0){\n                list.add(sb.toString());\n                sb = new StringBuilder();\n            }\n        }\n    }\n\n    if(sb.length() &gt;0){\n        list.add(sb.toString());\n    }\n    return list;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5295682,"reputation":379,"user_id":4226914,"display_name":"KIBOU Hassan"},"comment_count":0,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1567961979,"creation_date":1520519280,"answer_id":49175513,"question_id":3481828,"body_markdown":"To split a string, uses String.split(regex). Review the following examples:\r\n\r\n    String data = &quot;004-034556&quot;;\r\n    String[] output = data.split(&quot;-&quot;);\r\n    System.out.println(output[0]);\r\n    System.out.println(output[1]);\r\n\r\nOutput\r\n\r\n    004\r\n    034556\r\n\r\nNote:\r\n\r\nThis split (regex) takes a regex as an argument. Remember to escape the regex special characters, like period/dot.\r\n\r\n\r\n","title":"How do I split a string in Java?","body":"<p>To split a string, uses String.split(regex). Review the following examples:</p>\n\n<pre><code>String data = \"004-034556\";\nString[] output = data.split(\"-\");\nSystem.out.println(output[0]);\nSystem.out.println(output[1]);\n</code></pre>\n\n<p>Output</p>\n\n<pre><code>004\n034556\n</code></pre>\n\n<p>Note:</p>\n\n<p>This split (regex) takes a regex as an argument. Remember to escape the regex special characters, like period/dot.</p>\n"},{"tags":[],"owner":{"account_id":3466983,"reputation":8589,"user_id":3800782,"accept_rate":77,"display_name":"rghome"},"comment_count":0,"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1567961920,"creation_date":1542715727,"answer_id":53392700,"question_id":3481828,"body_markdown":"There are only two methods you really need to consider.\r\n\r\n**Use String.split for a one-character delimiter or you don&#39;t care about performance**\r\n\r\nIf performance is not an issue, or if the delimiter is a single character that is not a regular expression special character (i.e., not one of `.$|()[{^?*+\\`) then you can use `String.split`.\r\n\r\n    String[] results = input.split(&quot;,&quot;);\r\n\r\nThe split method has an optimization to avoid using a regular expression if the delimeter is a single character and not in the above list. Otherwise, it has to compile a regular expression, and this is not ideal.\r\n\r\n**Use Pattern.split and precompile the pattern if using a complex delimiter and you care about performance.**\r\n\r\nIf performance is an issue, and your delimiter is not one of the above, you should pre-compile a regular expression pattern which you can then reuse.\r\n\r\n    // Save this somewhere\r\n    Pattern pattern = Pattern.compile(&quot;[,;:]&quot;);\r\n\r\n    /// ... later\r\n    String[] results = pattern.split(input);\r\n\r\nThis last option still creates a new `Matcher` object. You can also cache this object and reset it for each input for maximum performance, but that is somewhat more complicated and not thread-safe.\r\n\r\n","title":"How do I split a string in Java?","body":"<p>There are only two methods you really need to consider.</p>\n\n<p><strong>Use String.split for a one-character delimiter or you don't care about performance</strong></p>\n\n<p>If performance is not an issue, or if the delimiter is a single character that is not a regular expression special character (i.e., not one of <code>.$|()[{^?*+\\</code>) then you can use <code>String.split</code>.</p>\n\n<pre><code>String[] results = input.split(\",\");\n</code></pre>\n\n<p>The split method has an optimization to avoid using a regular expression if the delimeter is a single character and not in the above list. Otherwise, it has to compile a regular expression, and this is not ideal.</p>\n\n<p><strong>Use Pattern.split and precompile the pattern if using a complex delimiter and you care about performance.</strong></p>\n\n<p>If performance is an issue, and your delimiter is not one of the above, you should pre-compile a regular expression pattern which you can then reuse.</p>\n\n<pre><code>// Save this somewhere\nPattern pattern = Pattern.compile(\"[,;:]\");\n\n/// ... later\nString[] results = pattern.split(input);\n</code></pre>\n\n<p>This last option still creates a new <code>Matcher</code> object. You can also cache this object and reset it for each input for maximum performance, but that is somewhat more complicated and not thread-safe.</p>\n"},{"tags":[],"owner":{"account_id":12274705,"reputation":2049,"user_id":8958938,"display_name":"Jamith NImantha"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1567961671,"creation_date":1544172480,"answer_id":53666044,"question_id":3481828,"body_markdown":"You can use the method `split`:\r\n\r\n    public class Demo {\r\n        public static void main(String args[]) {\r\n            String str = &quot;004-034556&quot;;\r\n\r\n            if ((str.contains(&quot;-&quot;))) {\r\n                String[] temp = str.split(&quot;-&quot;);\r\n                for (String part:temp) {\r\n                    System.out.println(part);\r\n                }\r\n            }\r\n            else {\r\n                System.out.println(str + &quot; does not contain \\&quot;-\\&quot;.&quot;);\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n\r\n","title":"How do I split a string in Java?","body":"<p>You can use the method <code>split</code>:</p>\n\n<pre><code>public class Demo {\n    public static void main(String args[]) {\n        String str = \"004-034556\";\n\n        if ((str.contains(\"-\"))) {\n            String[] temp = str.split(\"-\");\n            for (String part:temp) {\n                System.out.println(part);\n            }\n        }\n        else {\n            System.out.println(str + \" does not contain \\\"-\\\".\");\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16090002,"reputation":283,"user_id":11613683,"display_name":"Pramesh Bhalala"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1567961586,"creation_date":1566827917,"answer_id":57659369,"question_id":3481828,"body_markdown":"I used a string called `stringValue` and is in the form of something like this &quot;Those who had coins, enjoyed in the rain, those who had notes were busy looking for the shelter&quot;.\r\n\r\nI will split up the `stringValue` using the &quot;,&quot; as the colon.\r\n\r\nAnd then I would simply like to SetText() of three different TextViews to display that string.\r\n\r\n    String stringValue = &quot;Those who had coins, enjoyed in the rain, those who had notes were busy looking for the shelter&quot;;\r\n    String ValueSplitByColon[] = stringValue.split(&quot;,&quot;);\r\n\r\n    String firstValue = ValueSplitByColon[0];\r\n    String secondValue = ValueSplitByColon[1];\r\n    String thirdValue = ValueSplitByColon[2];\r\n\r\n    txtV1.setText(firstValue);\r\n    txtV2.setText(secondValue;\r\n    txtV3.setText(thirdValue;\r\n\r\nIt gives the output as:\r\n\r\n 1. The txtV1 value is: Those who had coins\r\n\r\n 2. The txtV2 value is: enjoyed in the rain\r\n\r\n 3. The txtV3 value is: those who had notes were busy looking for the shelter\r\n\r\n\r\n","title":"How do I split a string in Java?","body":"<p>I used a string called <code>stringValue</code> and is in the form of something like this \"Those who had coins, enjoyed in the rain, those who had notes were busy looking for the shelter\".</p>\n\n<p>I will split up the <code>stringValue</code> using the \",\" as the colon.</p>\n\n<p>And then I would simply like to SetText() of three different TextViews to display that string.</p>\n\n<pre><code>String stringValue = \"Those who had coins, enjoyed in the rain, those who had notes were busy looking for the shelter\";\nString ValueSplitByColon[] = stringValue.split(\",\");\n\nString firstValue = ValueSplitByColon[0];\nString secondValue = ValueSplitByColon[1];\nString thirdValue = ValueSplitByColon[2];\n\ntxtV1.setText(firstValue);\ntxtV2.setText(secondValue;\ntxtV3.setText(thirdValue;\n</code></pre>\n\n<p>It gives the output as:</p>\n\n<ol>\n<li><p>The txtV1 value is: Those who had coins</p></li>\n<li><p>The txtV2 value is: enjoyed in the rain</p></li>\n<li><p>The txtV3 value is: those who had notes were busy looking for the shelter</p></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":449256,"reputation":2120,"user_id":843943,"accept_rate":75,"display_name":"Grim"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1604767972,"creation_date":1587856610,"answer_id":61433862,"question_id":3481828,"body_markdown":"I looked at all the answers and noticed that all are either 3rd party-licenced or regex-based.\r\n\r\nHere is a good dumb implementation I use:\r\n\r\n\t/**\r\n\t * Separates a string into pieces using\r\n\t * case-sensitive-non-regex-char-separators.\r\n\t * &lt;p&gt;\r\n\t * &amp;nbsp;&amp;nbsp;&lt;code&gt;separate(&quot;12-34&quot;, &#39;-&#39;) = &quot;12&quot;, &quot;34&quot;&lt;/code&gt;&lt;br&gt;\r\n\t * &amp;nbsp;&amp;nbsp;&lt;code&gt;separate(&quot;a-b-&quot;, &#39;-&#39;) = &quot;a&quot;, &quot;b&quot;, &quot;&quot;&lt;/code&gt;\r\n\t * &lt;p&gt;\r\n\t * When the separator is the first character in the string, the first result is\r\n\t * an empty string. When the separator is the last character in the string the\r\n\t * last element will be an empty string. One separator after another in the\r\n\t * string will create an empty.\r\n\t * &lt;p&gt;\r\n\t * If no separators are set the source is returned.\r\n\t * &lt;p&gt;\r\n\t * This method is very fast, but it does not focus on memory-efficiency. The memory\r\n\t * consumption is approximately double the size of the string. This method is\r\n\t * thread-safe but not synchronized.\r\n\t *\r\n\t * @param source    The string to split, never &lt;code&gt;null&lt;/code&gt;.\r\n\t * @param separator The character to use as splitting.\r\n\t * @return The mutable array of pieces.\r\n\t * @throws NullPointerException When the source or separators are &lt;code&gt;null&lt;/code&gt;.\r\n\t */\r\n\tpublic final static String[] separate(String source, char... separator) throws NullPointerException {\r\n\t\tString[] resultArray = {};\r\n\t\tboolean multiSeparators = separator.length &gt; 1;\r\n\t\tif (!multiSeparators) {\r\n\t\t\tif (separator.length == 0) {\r\n\t\t\t\treturn new String[] { source };\r\n\t\t\t}\r\n\t\t}\r\n\t\tint charIndex = source.length();\r\n\t\tint lastSeparator = source.length();\r\n\t\twhile (charIndex-- &gt; -1) {\r\n\t\t\tif (charIndex &lt; 0 || (multiSeparators ? Arrays.binarySearch(separator, source.charAt(charIndex)) &gt;= 0 : source.charAt(charIndex) == separator[0])) {\r\n\t\t\t\tString piece = source.substring(charIndex + 1, lastSeparator);\r\n\t\t\t\tlastSeparator = charIndex;\r\n\t\t\t\tString[] tmp = new String[resultArray.length + 1];\r\n\t\t\t\tSystem.arraycopy(resultArray, 0, tmp, 1, resultArray.length);\r\n\t\t\t\ttmp[0] = piece;\r\n\t\t\t\tresultArray = tmp;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn resultArray;\r\n\t}\r\n","title":"How do I split a string in Java?","body":"<p>I looked at all the answers and noticed that all are either 3rd party-licenced or regex-based.</p>\n<p>Here is a good dumb implementation I use:</p>\n<pre><code>/**\n * Separates a string into pieces using\n * case-sensitive-non-regex-char-separators.\n * &lt;p&gt;\n * &amp;nbsp;&amp;nbsp;&lt;code&gt;separate(&quot;12-34&quot;, '-') = &quot;12&quot;, &quot;34&quot;&lt;/code&gt;&lt;br&gt;\n * &amp;nbsp;&amp;nbsp;&lt;code&gt;separate(&quot;a-b-&quot;, '-') = &quot;a&quot;, &quot;b&quot;, &quot;&quot;&lt;/code&gt;\n * &lt;p&gt;\n * When the separator is the first character in the string, the first result is\n * an empty string. When the separator is the last character in the string the\n * last element will be an empty string. One separator after another in the\n * string will create an empty.\n * &lt;p&gt;\n * If no separators are set the source is returned.\n * &lt;p&gt;\n * This method is very fast, but it does not focus on memory-efficiency. The memory\n * consumption is approximately double the size of the string. This method is\n * thread-safe but not synchronized.\n *\n * @param source    The string to split, never &lt;code&gt;null&lt;/code&gt;.\n * @param separator The character to use as splitting.\n * @return The mutable array of pieces.\n * @throws NullPointerException When the source or separators are &lt;code&gt;null&lt;/code&gt;.\n */\npublic final static String[] separate(String source, char... separator) throws NullPointerException {\n    String[] resultArray = {};\n    boolean multiSeparators = separator.length &gt; 1;\n    if (!multiSeparators) {\n        if (separator.length == 0) {\n            return new String[] { source };\n        }\n    }\n    int charIndex = source.length();\n    int lastSeparator = source.length();\n    while (charIndex-- &gt; -1) {\n        if (charIndex &lt; 0 || (multiSeparators ? Arrays.binarySearch(separator, source.charAt(charIndex)) &gt;= 0 : source.charAt(charIndex) == separator[0])) {\n            String piece = source.substring(charIndex + 1, lastSeparator);\n            lastSeparator = charIndex;\n            String[] tmp = new String[resultArray.length + 1];\n            System.arraycopy(resultArray, 0, tmp, 1, resultArray.length);\n            tmp[0] = piece;\n            resultArray = tmp;\n        }\n    }\n    return resultArray;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15878073,"reputation":37,"user_id":11456666,"display_name":"java code point"},"comment_count":0,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1637925947,"creation_date":1637925575,"answer_id":70123588,"question_id":3481828,"body_markdown":"```\r\nString s = &quot;TnGeneral|DOMESTIC&quot;;\r\nString a[]=s.split(&quot;\\\\|&quot;);\r\nSystem.out.println(a.toString());\r\nSystem.out.println(a[0]);\r\nSystem.out.println(a[1]);\r\n```\r\n\r\nOutput:\r\n\r\n```none\r\nTnGeneral\r\nDOMESTIC\r\n```","title":"How do I split a string in Java?","body":"<pre><code>String s = &quot;TnGeneral|DOMESTIC&quot;;\nString a[]=s.split(&quot;\\\\|&quot;);\nSystem.out.println(a.toString());\nSystem.out.println(a[0]);\nSystem.out.println(a[1]);\n</code></pre>\n<p>Output:</p>\n<pre class=\"lang-none prettyprint-override\"><code>TnGeneral\nDOMESTIC\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10277103,"reputation":91,"user_id":7583633,"display_name":"Joseph Kohilan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637929173,"creation_date":1637928011,"answer_id":70124075,"question_id":3481828,"body_markdown":"If you are validating for alphanumeric then change the regex to `[A-Za-z0-9]+-[A-Za-z0-9]+` \r\n\r\n        public static final Pattern VALIDATE_PATTERN = Pattern.compile(&quot;[0-9]+-[0-9]+&quot;);\r\n\r\n    public static String[] validateString(String str) {\r\n        if(VALIDATE_PATTERN.matcher(str).find()) {\r\n            String[] output = str.split(&quot;-&quot;);\r\n            if(output.length != 2) {\r\n                throw new RuntimeException(&quot;Invalid string format&quot;);\r\n            }\r\n            return output;\r\n        } else {\r\n            throw new RuntimeException(&quot;Invalid string format&quot;);\r\n        }\r\n    }","title":"How do I split a string in Java?","body":"<p>If you are validating for alphanumeric then change the regex to <code>[A-Za-z0-9]+-[A-Za-z0-9]+</code></p>\n<pre><code>    public static final Pattern VALIDATE_PATTERN = Pattern.compile(&quot;[0-9]+-[0-9]+&quot;);\n\npublic static String[] validateString(String str) {\n    if(VALIDATE_PATTERN.matcher(str).find()) {\n        String[] output = str.split(&quot;-&quot;);\n        if(output.length != 2) {\n            throw new RuntimeException(&quot;Invalid string format&quot;);\n        }\n        return output;\n    } else {\n        throw new RuntimeException(&quot;Invalid string format&quot;);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8964263,"reputation":415,"user_id":6685619,"display_name":"burak isik"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659354406,"creation_date":1659354406,"answer_id":73193159,"question_id":3481828,"body_markdown":"Splitting and then printing string by using stream\r\n\r\n    String input = &quot;004-034556&quot;;\r\n    Stream&lt;String&gt; stream = Arrays.stream(input.split( &quot;-&quot; ));\r\n    stream.forEach(System.out::println);","title":"How do I split a string in Java?","body":"<p>Splitting and then printing string by using stream</p>\n<pre><code>String input = &quot;004-034556&quot;;\nStream&lt;String&gt; stream = Arrays.stream(input.split( &quot;-&quot; ));\nstream.forEach(System.out::println);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12331407,"reputation":284,"user_id":8997268,"display_name":"Umesh Sulakude"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670630317,"creation_date":1664011517,"answer_id":73836088,"question_id":3481828,"body_markdown":"Using Pattern is Java&amp;nbsp;8. Below is the way!!\r\n\r\n    package com.company;\r\n\r\n    import java.util.regex.Pattern;\r\n\r\n    public class umeshtest {\r\n\r\n        public static void main(String a[]) {\r\n            String ss = &quot;I&#39;m Testing and testing the new feature&quot;;\r\n            Pattern.compile(&quot; &quot;).splitAsStream(ss).forEach(s -&gt; System.out.println(s));\r\n        }\r\n    }\r\n\r\n\r\n\r\n\r\n","title":"How do I split a string in Java?","body":"<p>Using Pattern is Java8. Below is the way!!</p>\n<pre><code>package com.company;\n\nimport java.util.regex.Pattern;\n\npublic class umeshtest {\n\n    public static void main(String a[]) {\n        String ss = &quot;I'm Testing and testing the new feature&quot;;\n        Pattern.compile(&quot; &quot;).splitAsStream(ss).forEach(s -&gt; System.out.println(s));\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":115598,"reputation":21445,"user_id":303459,"accept_rate":83,"display_name":"riyana"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4791472,"favorite_count":0,"down_vote_count":8,"up_vote_count":1925,"accepted_answer_id":3481842,"answer_count":38,"score":1917,"last_activity_date":1697088427,"creation_date":1281754913,"question_id":3481828,"body_markdown":"I want to split a string using a delimiter, for example split `&quot;004-034556&quot;` into two separate strings by the delimiter `&quot;-&quot;`:\r\n\r\n    part1 = &quot;004&quot;;\r\n    part2 = &quot;034556&quot;;\r\n\r\nThat means the first string will contain the characters before `&#39;-&#39;`, and the second string will contain the characters after `&#39;-&#39;`.\r\n\r\nI also want to check if the string has the delimiter (`&#39;-&#39;`) in it.\r\n","title":"How do I split a string in Java?","body":"<p>I want to split a string using a delimiter, for example split <code>&quot;004-034556&quot;</code> into two separate strings by the delimiter <code>&quot;-&quot;</code>:</p>\n<pre><code>part1 = &quot;004&quot;;\npart2 = &quot;034556&quot;;\n</code></pre>\n<p>That means the first string will contain the characters before <code>'-'</code>, and the second string will contain the characters after <code>'-'</code>.</p>\n<p>I also want to check if the string has the delimiter (<code>'-'</code>) in it.</p>\n"},{"tags":["java","spring","hibernate","spring-data-jpa","spring-data"],"comments":[{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1697001626,"post_id":77268509,"comment_id":136222841,"body_markdown":"You really should be using `@Transactional` and make it readonly in this case. What I find weird is that when using a `byte[]` the value is truncated because in the end it all ends up in e `Blob` any way.","body":"You really should be using <code>@Transactional</code> and make it readonly in this case. What I find weird is that when using a <code>byte[]</code> the value is truncated because in the end it all ends up in e <code>Blob</code> any way."},{"owner":{"account_id":1887821,"reputation":2984,"user_id":1706691,"accept_rate":69,"display_name":"James"},"score":0,"creation_date":1697034743,"post_id":77268509,"comment_id":136229119,"body_markdown":"@M.Deinum - Thanks for your comment. Unfortunately, the stored procedure on the DB will hang if I run it using `@Transactional`. The stored procedure was written by a 3rd party vendor and I can&#39;t change it. By the way I can successfully call the stored procedure without a transaction and without using Spring Data. I&#39;ll post this code but I would like to use Spring Data.","body":"@M.Deinum - Thanks for your comment. Unfortunately, the stored procedure on the DB will hang if I run it using <code>@Transactional</code>. The stored procedure was written by a 3rd party vendor and I can&#39;t change it. By the way I can successfully call the stored procedure without a transaction and without using Spring Data. I&#39;ll post this code but I would like to use Spring Data."},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1697035935,"post_id":77268509,"comment_id":136229374,"body_markdown":"If you can call it with plain JDBC, what is the added benefit of adding JPA on top of that?","body":"If you can call it with plain JDBC, what is the added benefit of adding JPA on top of that?"},{"owner":{"account_id":1887821,"reputation":2984,"user_id":1706691,"accept_rate":69,"display_name":"James"},"score":0,"creation_date":1697036549,"post_id":77268509,"comment_id":136229495,"body_markdown":"@M.Deinum - I think two benefits of using Spring Data JPA over the JPA code posted above (or plain JDBC) are 1) The code is less verbose with Spring Data JPA and will be easier to maintain. 2) The rest of my code base is using Spring Data JPA. By using Spring Data JPA for this SP, it will keep the code more consistent and easier to maintain.","body":"@M.Deinum - I think two benefits of using Spring Data JPA over the JPA code posted above (or plain JDBC) are 1) The code is less verbose with Spring Data JPA and will be easier to maintain. 2) The rest of my code base is using Spring Data JPA. By using Spring Data JPA for this SP, it will keep the code more consistent and easier to maintain."},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1697037425,"post_id":77268509,"comment_id":136229699,"body_markdown":"Using a `SimpleJdbcCall` or just `JdbcTemplate.call`/`JdbcTemplate.execute` isn&#39;t  anymore complex, with the benefit that it is executed within the current connection. I find it weird the the procedure hangs when it is in a transaction, seems like a flaw/fault/bug in the SP. It isn&#39;t Spring Data that is closing the connection, that is the default behavior when there is no transaction (or rather being closes at the end of the transaction which is very small here).","body":"Using a <code>SimpleJdbcCall</code> or just <code>JdbcTemplate.call</code>/<code>JdbcTemplate.execute</code> isn&#39;t  anymore complex, with the benefit that it is executed within the current connection. I find it weird the the procedure hangs when it is in a transaction, seems like a flaw/fault/bug in the SP. It isn&#39;t Spring Data that is closing the connection, that is the default behavior when there is no transaction (or rather being closes at the end of the transaction which is very small here)."},{"owner":{"account_id":1887821,"reputation":2984,"user_id":1706691,"accept_rate":69,"display_name":"James"},"score":0,"creation_date":1697039077,"post_id":77268509,"comment_id":136230020,"body_markdown":"@M.Deinum - Yes, I agree with your comment on the SP having an issue. Unfortunately, I&#39;m stuck with the SP. It makes sense that the connection would be closed w/ no txn by default after the end of Spring Data repo call. What&#39;s odd is that my code worked with Spring Boot 2.3 and the MSSQL JDBC 8.2.2.jre8. At any rate, I don&#39;t think I have much of a choice due to the faulty SP. Thanks for pointing out `SimpleJdbcCall`. I&#39;ll use that as like you said it isn&#39;t anymore complex. If you would like to post your comment as an answer, I&#39;ll accept and upvote. Thanks again for your help.","body":"@M.Deinum - Yes, I agree with your comment on the SP having an issue. Unfortunately, I&#39;m stuck with the SP. It makes sense that the connection would be closed w/ no txn by default after the end of Spring Data repo call. What&#39;s odd is that my code worked with Spring Boot 2.3 and the MSSQL JDBC 8.2.2.jre8. At any rate, I don&#39;t think I have much of a choice due to the faulty SP. Thanks for pointing out <code>SimpleJdbcCall</code>. I&#39;ll use that as like you said it isn&#39;t anymore complex. If you would like to post your comment as an answer, I&#39;ll accept and upvote. Thanks again for your help."},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1697087230,"post_id":77268509,"comment_id":136235703,"body_markdown":"Have you tried keeping the same driver version instead of the newer one? Might be related to the driver then. Spring is nothing more then a wrapper on those technologies (although Hibernate does add some additional layers on top of that).","body":"Have you tried keeping the same driver version instead of the newer one? Might be related to the driver then. Spring is nothing more then a wrapper on those technologies (although Hibernate does add some additional layers on top of that)."},{"owner":{"account_id":1887821,"reputation":2984,"user_id":1706691,"accept_rate":69,"display_name":"James"},"score":0,"creation_date":1697122028,"post_id":77268509,"comment_id":136242536,"body_markdown":"That&#39;s a good idea. I haven&#39;t tried it though because I migrated the project from Java 8 to Java 17 when upgrading Spring Boot 3. Microsoft doesn&#39;t have the old driver version using Java 17, so I&#39;d need to revert the project back to Java 8. I may try to do this after I complete my current upgrade project.","body":"That&#39;s a good idea. I haven&#39;t tried it though because I migrated the project from Java 8 to Java 17 when upgrading Spring Boot 3. Microsoft doesn&#39;t have the old driver version using Java 17, so I&#39;d need to revert the project back to Java 8. I may try to do this after I complete my current upgrade project."}],"answers":[{"tags":[],"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1697088216,"creation_date":1697087874,"answer_id":77277871,"question_id":77268509,"body_markdown":"Instead of using the `EntityManager` with the `createStoredProcedureQuery` you might take a look at the [`SimpleJdbcCall`][1]. The API is quite similar and you could define it once (as a bean or in the constructor) and re-use the definition. The added benefit is that the callback to extract the result is operating on the current connection so it stays open. \r\n\r\nSpring Boot automatically configures a `JdbcTemplate` which you can re-use to create a `SimpleJdbcCall`. \r\n\r\n```java\r\nSimpleJdbcCall sp = new SimpleJdbcCall(jdbcTemplate);\r\nsp.declareParameters(new SqlParameter(&quot;carTypes&quot;, Types.VARCHAR),\r\nnew SqlParameter(&quot;tradeDate&quot;, Types.DATE), new SqlOutParameter(&quot;reportData&quot;, Types.BLOB, (rs, row) -&gt; { Blob blob = rs.getBlob(&quot;reportData&quot;); return blob.getBytes(1, (int) blob.length());})\r\n\r\n\r\nsp.executeObject(byte[].class, &quot;sedan,truck&quot;, date);\r\n\r\n```\r\n\r\nSomething along these lines should work. Not sure if the code is totally fine as I coded it from the top of my head. \r\n\r\n[1]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/jdbc/core/simple/SimpleJdbcCall.html","title":"How can I have Spring Data JPA keep the connection open without a transaction?","body":"<p>Instead of using the <code>EntityManager</code> with the <code>createStoredProcedureQuery</code> you might take a look at the <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/jdbc/core/simple/SimpleJdbcCall.html\" rel=\"nofollow noreferrer\"><code>SimpleJdbcCall</code></a>. The API is quite similar and you could define it once (as a bean or in the constructor) and re-use the definition. The added benefit is that the callback to extract the result is operating on the current connection so it stays open.</p>\n<p>Spring Boot automatically configures a <code>JdbcTemplate</code> which you can re-use to create a <code>SimpleJdbcCall</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>SimpleJdbcCall sp = new SimpleJdbcCall(jdbcTemplate);\nsp.declareParameters(new SqlParameter(&quot;carTypes&quot;, Types.VARCHAR),\nnew SqlParameter(&quot;tradeDate&quot;, Types.DATE), new SqlOutParameter(&quot;reportData&quot;, Types.BLOB, (rs, row) -&gt; { Blob blob = rs.getBlob(&quot;reportData&quot;); return blob.getBytes(1, (int) blob.length());})\n\n\nsp.executeObject(byte[].class, &quot;sedan,truck&quot;, date);\n\n</code></pre>\n<p>Something along these lines should work. Not sure if the code is totally fine as I coded it from the top of my head.</p>\n"}],"owner":{"account_id":1887821,"reputation":2984,"user_id":1706691,"accept_rate":69,"display_name":"James"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":94,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77277871,"answer_count":1,"score":0,"last_activity_date":1697088216,"creation_date":1696966110,"question_id":77268509,"body_markdown":"I have a Spring Boot 3.0 application that gets a Blob from a Spring Data repository:\r\n\r\n    @Service\r\n    public class CarService {\r\n    \r\n    \tprivate final CarRepository carRepository;\r\n    \r\n    \tpublic Set&lt;CarDto&gt; getValuations(LocalDate date) {    \t\t\r\n    \t\tBlob reportData = carRepository.getReportData(&quot;sedan,truck&quot;, date);\r\n    \t\ttry {\r\n    \t\t\tbyte[] b= reportData.getBytes(1, (int) reportData.length());\r\n                log.debug(&quot;connection is closed by Spring Data JPA&quot;);\r\n                //...\r\n    \t\t} \r\n\r\n    public interface CarRepository extends Repository&lt;Car, Long&gt; {\r\n    \t\r\n    \t@Procedure(value=&quot;pValuation&quot;, outputParameterName=&quot;reportData&quot;)\r\n        Blob getReportData(String carTypes, LocalDate tradeDate);\r\n\r\nUnfortunately, Spring Data closes the connection after returning the `Blob` from the `getReportData` method. This results in the following error when I try to get the bytes from the `Blob`:\r\n\r\n&gt; SQLException: com.microsoft.sqlserver.jdbc.SQLServerException: The connection is closed. The connection is closed.\r\n\r\nI can keep the connection open by making `getValuations` transactional (i.e., annotation the method as `@Transactional`), but then the database hangs because of locking issues. \r\n\r\nHow can I tell Spring Data to keep the connection open without a transaction so I can retrieve bytes from the Blob? \r\n\r\n*Note: I cannot use byte[] as the return type of `getReportData` since the data will be truncated at 8000 bytes.* \r\n\r\n*Note: My procedure, `pValuation`, is read only.*\r\n\r\n**Update**\r\n\r\nI can call this stored procedure without using Spring Data JPA (and without a transaction) as follows:\r\n\r\n    @Service\r\n    @RequiredArgsConstructor\r\n    @Slf4j\r\n    public class CarService {\r\n      \r\n        private final CarRepository carRepository;\r\n      \tprivate final EntityManager em;\r\n    \r\n       \tpublic Set&lt;CarDto&gt; getValuations(LocalDate date) {\r\n    \t\t\r\n    \t\tStoredProcedureQuery q = em.createStoredProcedureQuery(&quot;pValuation&quot;);\r\n    \t\tq.registerStoredProcedureParameter(&quot;carTypes&quot;, String.class, ParameterMode.IN);\r\n    \t\tq.registerStoredProcedureParameter(&quot;tradeDate&quot;, LocalDate.class, ParameterMode.IN);\r\n    \t\tq.registerStoredProcedureParameter(&quot;reportData&quot;, Blob.class, ParameterMode.OUT);\r\n    \t\tq.setParameter(&quot;carTypes&quot;, &quot;sedan,truck&quot;);\r\n    \t\tq.setParameter(&quot;tradeDate&quot;, date);\r\n    \t\tq.execute();\r\n    \t\t\r\n    \t\tBlob reportData = (Blob) q.getOutputParameterValue(&quot;reportData&quot;);\r\n    \t\t\r\n    \t\tlog.debug(&quot;got Blob&quot;);\r\n    \t\ttry {\r\n    \t\t\tbyte[] b= reportData.getBytes(1, (int) reportData.length());\r\n    \t\t\tlog.debug(&quot;got bytes&quot;);\r\n    \t\t\treturn carRepository.getCarValuations(b);\r\n        \t} \r\n        \tcatch (SQLException convertBlobToBytesException) {\r\n        \t\t\tlog.error(convertBlobToBytesException.toString());\r\n        \t}\r\n        }\r\n\r\nThis code works because the connection stays open while reading the bytes. From what I can tell, Spring Data closes the connection after the repository method call unless I have a transaction (which I can&#39;t use b/c the DB SP hangs). ","title":"How can I have Spring Data JPA keep the connection open without a transaction?","body":"<p>I have a Spring Boot 3.0 application that gets a Blob from a Spring Data repository:</p>\n<pre><code>@Service\npublic class CarService {\n\n    private final CarRepository carRepository;\n\n    public Set&lt;CarDto&gt; getValuations(LocalDate date) {          \n        Blob reportData = carRepository.getReportData(&quot;sedan,truck&quot;, date);\n        try {\n            byte[] b= reportData.getBytes(1, (int) reportData.length());\n            log.debug(&quot;connection is closed by Spring Data JPA&quot;);\n            //...\n        } \n\npublic interface CarRepository extends Repository&lt;Car, Long&gt; {\n    \n    @Procedure(value=&quot;pValuation&quot;, outputParameterName=&quot;reportData&quot;)\n    Blob getReportData(String carTypes, LocalDate tradeDate);\n</code></pre>\n<p>Unfortunately, Spring Data closes the connection after returning the <code>Blob</code> from the <code>getReportData</code> method. This results in the following error when I try to get the bytes from the <code>Blob</code>:</p>\n<blockquote>\n<p>SQLException: com.microsoft.sqlserver.jdbc.SQLServerException: The connection is closed. The connection is closed.</p>\n</blockquote>\n<p>I can keep the connection open by making <code>getValuations</code> transactional (i.e., annotation the method as <code>@Transactional</code>), but then the database hangs because of locking issues.</p>\n<p>How can I tell Spring Data to keep the connection open without a transaction so I can retrieve bytes from the Blob?</p>\n<p><em>Note: I cannot use byte[] as the return type of <code>getReportData</code> since the data will be truncated at 8000 bytes.</em></p>\n<p><em>Note: My procedure, <code>pValuation</code>, is read only.</em></p>\n<p><strong>Update</strong></p>\n<p>I can call this stored procedure without using Spring Data JPA (and without a transaction) as follows:</p>\n<pre><code>@Service\n@RequiredArgsConstructor\n@Slf4j\npublic class CarService {\n  \n    private final CarRepository carRepository;\n    private final EntityManager em;\n\n    public Set&lt;CarDto&gt; getValuations(LocalDate date) {\n        \n        StoredProcedureQuery q = em.createStoredProcedureQuery(&quot;pValuation&quot;);\n        q.registerStoredProcedureParameter(&quot;carTypes&quot;, String.class, ParameterMode.IN);\n        q.registerStoredProcedureParameter(&quot;tradeDate&quot;, LocalDate.class, ParameterMode.IN);\n        q.registerStoredProcedureParameter(&quot;reportData&quot;, Blob.class, ParameterMode.OUT);\n        q.setParameter(&quot;carTypes&quot;, &quot;sedan,truck&quot;);\n        q.setParameter(&quot;tradeDate&quot;, date);\n        q.execute();\n        \n        Blob reportData = (Blob) q.getOutputParameterValue(&quot;reportData&quot;);\n        \n        log.debug(&quot;got Blob&quot;);\n        try {\n            byte[] b= reportData.getBytes(1, (int) reportData.length());\n            log.debug(&quot;got bytes&quot;);\n            return carRepository.getCarValuations(b);\n        } \n        catch (SQLException convertBlobToBytesException) {\n                log.error(convertBlobToBytesException.toString());\n        }\n    }\n</code></pre>\n<p>This code works because the connection stays open while reading the bytes. From what I can tell, Spring Data closes the connection after the repository method call unless I have a transaction (which I can't use b/c the DB SP hangs).</p>\n"},{"tags":["java","spring-boot","amazon-s3"],"answers":[{"tags":[],"owner":{"account_id":22397,"reputation":417280,"user_id":55159,"accept_rate":79,"display_name":"Quassnoi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697087655,"creation_date":1697087655,"answer_id":77277854,"question_id":77277379,"body_markdown":"If all you have is a presigned URL to download from the source bucket, you won&#39;t be able to upload this (or any other) file to the destination bucket.\r\n\r\nIf you have an access token with permissions both to read from source and write to destination, you can generate a presigned URL on the destination bucket which would [copy a certain file][1] from the source bucket.\r\n\r\nTo do this, include `x-amz-copy-source=sourcebucket/sourcefile` as a parameter to the URL of the target file and sign this URL.\r\n\r\nThe copy operation will be triggered by a issuing a `PUT` request to this URL with an empty body.\r\n\r\n  [1]: https://docs.aws.amazon.com/AmazonS3/latest/userguide/copy-object.html","title":"How can get S3 files from presigned url and upload that content to another bucket","body":"<p>If all you have is a presigned URL to download from the source bucket, you won't be able to upload this (or any other) file to the destination bucket.</p>\n<p>If you have an access token with permissions both to read from source and write to destination, you can generate a presigned URL on the destination bucket which would <a href=\"https://docs.aws.amazon.com/AmazonS3/latest/userguide/copy-object.html\" rel=\"nofollow noreferrer\">copy a certain file</a> from the source bucket.</p>\n<p>To do this, include <code>x-amz-copy-source=sourcebucket/sourcefile</code> as a parameter to the URL of the target file and sign this URL.</p>\n<p>The copy operation will be triggered by a issuing a <code>PUT</code> request to this URL with an empty body.</p>\n"}],"owner":{"account_id":12838432,"reputation":13,"user_id":9287208,"display_name":"Tejaswini Jadhav"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1697087655,"creation_date":1697078332,"question_id":77277379,"body_markdown":"I want to upload image using pre-signed URL from one bucket to the another bucket.\r\nFirst bucket has its own pre-signed URL, by using this URL need to upload the image on s3 bucket. Basically avoid download file. I need to do this using java spring boot application.\r\n","title":"How can get S3 files from presigned url and upload that content to another bucket","body":"<p>I want to upload image using pre-signed URL from one bucket to the another bucket.\nFirst bucket has its own pre-signed URL, by using this URL need to upload the image on s3 bucket. Basically avoid download file. I need to do this using java spring boot application.</p>\n"},{"tags":["java","spring","api-gateway","spring-cloud-gateway"],"answers":[{"tags":[],"owner":{"account_id":6512308,"reputation":186,"user_id":5039145,"accept_rate":10,"display_name":"Rohit"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697087603,"creation_date":1697087603,"answer_id":77277848,"question_id":77271531,"body_markdown":"Below worked for me. I had to remove properties from yaml and add it to class file:\r\n\r\n    import java.util.Arrays;\r\n    import java.util.Collections;\r\n    \r\n    import org.springframework.context.annotation.Bean;\r\n    import org.springframework.context.annotation.Configuration;\r\n    import org.springframework.web.cors.CorsConfiguration;\r\n    import org.springframework.web.cors.reactive.CorsWebFilter;\r\n    import org.springframework.web.cors.reactive.UrlBasedCorsConfigurationSource;\r\n    \r\n    @Configuration\r\n    public class CorsWebFilterConfig {\r\n    \r\n    \t@Bean\r\n    \tpublic CorsWebFilter corsWebFilter() {\r\n    \r\n    \t\tfinal CorsConfiguration corsConfig = new CorsConfiguration();\r\n    \r\n    \t\t// TODO: Read the below values from properties file.\r\n    \t\tcorsConfig.setAllowedOriginPatterns(Arrays.asList(&quot;*localhost:8080&quot;, &quot;*abc.com&quot;, &quot;*example.com&quot;));\r\n    \t\tcorsConfig.setMaxAge(3600L);\r\n    \t\tcorsConfig.setAllowedMethods(Collections.singletonList(&quot;POST&quot;));\r\n    \t\tcorsConfig.addAllowedHeader(&quot;*&quot;);\r\n    \r\n    \t\tfinal UrlBasedCorsConfigurationSource source = new UrlBasedCorsConfigurationSource();\r\n    \t\tsource.registerCorsConfiguration(&quot;/**&quot;, corsConfig);\r\n    \r\n    \t\treturn new CorsWebFilter(source);\r\n    \t}\r\n    \r\n    }","title":"Unknown property &#39;allowedOriginPattern&#39; for type &#39;org.springframework.web.cors.CorsConfiguration&#39;","body":"<p>Below worked for me. I had to remove properties from yaml and add it to class file:</p>\n<pre><code>import java.util.Arrays;\nimport java.util.Collections;\n\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.web.cors.CorsConfiguration;\nimport org.springframework.web.cors.reactive.CorsWebFilter;\nimport org.springframework.web.cors.reactive.UrlBasedCorsConfigurationSource;\n\n@Configuration\npublic class CorsWebFilterConfig {\n\n    @Bean\n    public CorsWebFilter corsWebFilter() {\n\n        final CorsConfiguration corsConfig = new CorsConfiguration();\n\n        // TODO: Read the below values from properties file.\n        corsConfig.setAllowedOriginPatterns(Arrays.asList(&quot;*localhost:8080&quot;, &quot;*abc.com&quot;, &quot;*example.com&quot;));\n        corsConfig.setMaxAge(3600L);\n        corsConfig.setAllowedMethods(Collections.singletonList(&quot;POST&quot;));\n        corsConfig.addAllowedHeader(&quot;*&quot;);\n\n        final UrlBasedCorsConfigurationSource source = new UrlBasedCorsConfigurationSource();\n        source.registerCorsConfiguration(&quot;/**&quot;, corsConfig);\n\n        return new CorsWebFilter(source);\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":6512308,"reputation":186,"user_id":5039145,"accept_rate":10,"display_name":"Rohit"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1697087603,"creation_date":1697014164,"question_id":77271531,"body_markdown":"I have a Spring Cloud Gateway application which supported &#39;http://example.com&#39; as a origin. So to handle that below was my code:\r\n\r\n```yaml\r\nspring:\r\n  cloud:\r\n    gateway:          \r\n      globalcors:\r\n        cors-configurations:\r\n          &#39;[/**]&#39;:\r\n            allowedOrigins: &quot;http://localhost:8080&quot;\r\n```\r\n\r\nNow the requirement is to handled anything that ends with **host:8080**. I tried to use ***host:8080**, but that is not working.\r\n\r\nI tried to find the solution and it seems like we have [addAllowedOriginPattern][1], but I am not sure how to handle that using my YAML file.\r\n\r\nHow do I handle a wild card pattern in the YAML file?\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/cors/CorsConfiguration.html#addAllowedOriginPattern(java.lang.String)","title":"Unknown property &#39;allowedOriginPattern&#39; for type &#39;org.springframework.web.cors.CorsConfiguration&#39;","body":"<p>I have a Spring Cloud Gateway application which supported 'http://example.com' as a origin. So to handle that below was my code:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>spring:\n  cloud:\n    gateway:          \n      globalcors:\n        cors-configurations:\n          '[/**]':\n            allowedOrigins: &quot;http://localhost:8080&quot;\n</code></pre>\n<p>Now the requirement is to handled anything that ends with <strong>host:8080</strong>. I tried to use *<strong>host:8080</strong>, but that is not working.</p>\n<p>I tried to find the solution and it seems like we have <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/cors/CorsConfiguration.html#addAllowedOriginPattern(java.lang.String)\" rel=\"nofollow noreferrer\">addAllowedOriginPattern</a>, but I am not sure how to handle that using my YAML file.</p>\n<p>How do I handle a wild card pattern in the YAML file?</p>\n"},{"tags":["java","spring","spring-boot","spring-security"],"comments":[{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":3,"creation_date":1672234722,"post_id":74940897,"comment_id":132247604,"body_markdown":"Let me guess, using AOP with some catch all pointcut, proxying the filter.","body":"Let me guess, using AOP with some catch all pointcut, proxying the filter."},{"owner":{"account_id":3045329,"reputation":1501,"user_id":2581174,"accept_rate":71,"display_name":"Valsaraj Viswanathan"},"score":0,"creation_date":1672235041,"post_id":74940897,"comment_id":132247679,"body_markdown":"Yes, we have this one: \n\n\t@Around(&quot;execution(* com.app.services.register..*.* (..))&quot;)\n\tpublic Object logOnStartAndBeforeReturnOfMethods(ProceedingJoinPoint proceedingJoinPoint) throws Throwable {","body":"Yes, we have this one:   \t@Around(&quot;execution(* com.app.services.register..*.* (..))&quot;) \tpublic Object logOnStartAndBeforeReturnOfMethods(ProceedingJoinPoint proceedingJoinPoint) throws Throwable {"},{"owner":{"account_id":3045329,"reputation":1501,"user_id":2581174,"accept_rate":71,"display_name":"Valsaraj Viswanathan"},"score":0,"creation_date":1672235874,"post_id":74940897,"comment_id":132247915,"body_markdown":"@M.Deinum would you share more on this, whether it is causing the issue?","body":"@M.Deinum would you share more on this, whether it is causing the issue?"},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":6,"creation_date":1672236137,"post_id":74940897,"comment_id":132247988,"body_markdown":"It is. As it proxies the filter, the `init` method is `final` cannot be proxied, will thus be executed on the proxy instead of being passed through to the actual object. The proxy doesn&#39;t have any of its fields initialized (no need to) and thus here you get a `NullPointerException`. Don&#39;t mnake your pointcut so broad (or exclude the filter package for instance).","body":"It is. As it proxies the filter, the <code>init</code> method is <code>final</code> cannot be proxied, will thus be executed on the proxy instead of being passed through to the actual object. The proxy doesn&#39;t have any of its fields initialized (no need to) and thus here you get a <code>NullPointerException</code>. Don&#39;t mnake your pointcut so broad (or exclude the filter package for instance)."}],"answers":[{"tags":[],"owner":{"account_id":1008209,"reputation":119,"user_id":1021356,"display_name":"Srikanth Reddy"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682921988,"creation_date":1682921988,"answer_id":76145070,"question_id":74940897,"body_markdown":"Had the same issue. I have restricted the filter package to just controllers as suggested by Deimun, and it started working. ","title":"NullPointerException in GenericFilterBean on Spring Boot application start after adding a custom filter","body":"<p>Had the same issue. I have restricted the filter package to just controllers as suggested by Deimun, and it started working.</p>\n"},{"tags":[],"owner":{"account_id":10717922,"reputation":41,"user_id":7894381,"display_name":"Sergei Golitsyn"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1697087598,"creation_date":1697087598,"answer_id":77277843,"question_id":74940897,"body_markdown":"I had the same problem with the Spring Boot app and **Micrometer**. I realized that **you cannot use Micrometer annotations whenever you want**. It happens because of the Proxy mechanism. **JDK Dynamic Proxy** can only create proxy if the target class implements at least 1 interface whereas **CGLIB Proxy** has no such limitation and is able to create proxy as long as the target class / method is non-final. This is important because it will help us understand why **Spring AOP will not work on OncePerRequestFilter class**.","title":"NullPointerException in GenericFilterBean on Spring Boot application start after adding a custom filter","body":"<p>I had the same problem with the Spring Boot app and <strong>Micrometer</strong>. I realized that <strong>you cannot use Micrometer annotations whenever you want</strong>. It happens because of the Proxy mechanism. <strong>JDK Dynamic Proxy</strong> can only create proxy if the target class implements at least 1 interface whereas <strong>CGLIB Proxy</strong> has no such limitation and is able to create proxy as long as the target class / method is non-final. This is important because it will help us understand why <strong>Spring AOP will not work on OncePerRequestFilter class</strong>.</p>\n"}],"owner":{"account_id":3045329,"reputation":1501,"user_id":2581174,"accept_rate":71,"display_name":"Valsaraj Viswanathan"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1375,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1697087598,"creation_date":1672234401,"question_id":74940897,"body_markdown":"NullPointerException in GenericFilterBean on Spring Boot application start after adding a custom filter that extends OncePerRequestFilter.\r\n\r\nHere is the stack trace:\r\n\r\n&gt; Caused by: java.lang.NullPointerException: Cannot invoke\r\n&gt; &quot;org.apache.commons.logging.Log.isDebugEnabled()&quot; because\r\n&gt; &quot;this.logger&quot; is null\r\n&gt;     at org.springframework.web.filter.GenericFilterBean.init(GenericFilterBean.java:241)\r\n\r\nWe are using Spring Boot version 2.7.6.\r\n\r\nAny solution for this issue?\r\n\r\n","title":"NullPointerException in GenericFilterBean on Spring Boot application start after adding a custom filter","body":"<p>NullPointerException in GenericFilterBean on Spring Boot application start after adding a custom filter that extends OncePerRequestFilter.</p>\n<p>Here is the stack trace:</p>\n<blockquote>\n<p>Caused by: java.lang.NullPointerException: Cannot invoke\n&quot;org.apache.commons.logging.Log.isDebugEnabled()&quot; because\n&quot;this.logger&quot; is null\nat org.springframework.web.filter.GenericFilterBean.init(GenericFilterBean.java:241)</p>\n</blockquote>\n<p>We are using Spring Boot version 2.7.6.</p>\n<p>Any solution for this issue?</p>\n"},{"tags":["java","apache-kafka","message","kafka-topic"],"comments":[{"owner":{"account_id":12673101,"reputation":1673,"user_id":9210263,"display_name":"LeYAUable"},"score":0,"creation_date":1610963565,"post_id":28579948,"comment_id":116289088,"body_markdown":"My answer gives you an actual way of doing this instead of just consuming the messages: https://stackoverflow.com/a/61916983/9210263","body":"My answer gives you an actual way of doing this instead of just consuming the messages: <a href=\"https://stackoverflow.com/a/61916983/9210263\">stackoverflow.com/a/61916983/9210263</a>"}],"answers":[{"comments":[{"owner":{"account_id":2296191,"reputation":2082,"user_id":2017567,"display_name":"Christophe Quintard"},"score":4,"creation_date":1529669959,"post_id":28617771,"comment_id":88970070,"body_markdown":"See my answer https://stackoverflow.com/a/47313863/2017567. The Java Kafka client allows to get that information.","body":"See my answer <a href=\"https://stackoverflow.com/a/47313863/2017567\">stackoverflow.com/a/47313863/2017567</a>. The Java Kafka client allows to get that information."}],"tags":[],"owner":{"account_id":134292,"reputation":6442,"user_id":1864133,"accept_rate":100,"display_name":"Lundahl"},"comment_count":1,"down_vote_count":5,"up_vote_count":47,"is_accepted":true,"score":42,"last_activity_date":1424383065,"creation_date":1424383065,"answer_id":28617771,"question_id":28579948,"body_markdown":"The only way that comes to mind for this from a consumer point of view is to actually consume the messages and count them then. \r\n\r\nThe Kafka broker exposes JMX counters for number of messages received since start-up but you cannot know how many of them have been purged already.\r\n\r\nIn most common scenarios, messages in Kafka is best seen as an infinite stream and getting a discrete value of how many that is currently being kept on disk is not relevant. Furthermore things get more complicated when dealing with a cluster of brokers which all have a subset of the messages in a topic.","title":"Java, How to get number of messages in a topic in apache kafka","body":"<p>The only way that comes to mind for this from a consumer point of view is to actually consume the messages and count them then. </p>\n\n<p>The Kafka broker exposes JMX counters for number of messages received since start-up but you cannot know how many of them have been purged already.</p>\n\n<p>In most common scenarios, messages in Kafka is best seen as an infinite stream and getting a discrete value of how many that is currently being kept on disk is not relevant. Furthermore things get more complicated when dealing with a cluster of brokers which all have a subset of the messages in a topic.</p>\n"},{"tags":[],"owner":{"account_id":122918,"reputation":7484,"user_id":317027,"accept_rate":72,"display_name":"hba"},"comment_count":0,"down_vote_count":4,"up_vote_count":3,"is_accepted":false,"score":-1,"last_activity_date":1454448621,"creation_date":1454448621,"answer_id":35164142,"question_id":28579948,"body_markdown":"I haven&#39;t tried [this][1] myself, but it seems to make sense.\r\n\r\nYou can also use `kafka.tools.ConsumerOffsetChecker` ([source][2]).\r\n\r\n\r\n  [1]: http://qnalist.com/questions/5974259/number-of-messages-in-a-kafka-topic\r\n  [2]: https://github.com/apache/kafka/blob/0.8/core/src/main/scala/kafka/tools/ConsumerOffsetChecker.scala","title":"Java, How to get number of messages in a topic in apache kafka","body":"<p>I haven't tried <a href=\"http://qnalist.com/questions/5974259/number-of-messages-in-a-kafka-topic\" rel=\"nofollow\">this</a> myself, but it seems to make sense.</p>\n\n<p>You can also use <code>kafka.tools.ConsumerOffsetChecker</code> (<a href=\"https://github.com/apache/kafka/blob/0.8/core/src/main/scala/kafka/tools/ConsumerOffsetChecker.scala\" rel=\"nofollow\">source</a>).</p>\n"},{"comments":[{"owner":{"account_id":215223,"reputation":2949,"user_id":469718,"accept_rate":12,"display_name":"kisna"},"score":17,"creation_date":1458701828,"post_id":35418031,"comment_id":59975069,"body_markdown":"Shouldn&#39;t this be difference of earliest and latest offset per partition sum?\n\n`bash-4.3# $KAFKA_HOME/bin/kafka-run-class.sh kafka.tools.GetOffsetShell --broker-list 10.35.25.95:32774 --topic test-topic --time -1 | awk -F  &quot;:&quot; &#39;{sum += $3} END {print sum}&#39;\n13818663\n\nbash-4.3# $KAFKA_HOME/bin/kafka-run-class.sh kafka.tools.GetOffsetShell --broker-list 10.35.25.95:32774 --topic test-topic --time -2 | awk -F  &quot;:&quot; &#39;{sum += $3} END {print sum}&#39;\n12434609`\n\nAnd then the difference returns actual pending messages in topic? Am I correct?","body":"Shouldn&#39;t this be difference of earliest and latest offset per partition sum?  <code>bash-4.3# $KAFKA_HOME&#47;bin&#47;kafka-run-class.sh kafka.tools.GetOffsetShell --broker-list 10.35.25.95:32774 --topic test-topic --time -1 | awk -F  &quot;:&quot; &#39;{sum += $3} END {print sum}&#39; 13818663  bash-4.3# $KAFKA_HOME&#47;bin&#47;kafka-run-class.sh kafka.tools.GetOffsetShell --broker-list 10.35.25.95:32774 --topic test-topic --time -2 | awk -F  &quot;:&quot; &#39;{sum += $3} END {print sum}&#39; 12434609</code>  And then the difference returns actual pending messages in topic? Am I correct?"},{"owner":{"account_id":1029722,"reputation":1433,"user_id":1038288,"accept_rate":40,"display_name":"ssemichev"},"score":1,"creation_date":1459099829,"post_id":35418031,"comment_id":60130364,"body_markdown":"Yes, that&#39;s true. You have to calculate a difference if the earliest offsets do not equal zero.","body":"Yes, that&#39;s true. You have to calculate a difference if the earliest offsets do not equal zero."},{"owner":{"account_id":215223,"reputation":2949,"user_id":469718,"accept_rate":12,"display_name":"kisna"},"score":1,"creation_date":1459199133,"post_id":35418031,"comment_id":60169356,"body_markdown":"That&#39;s what I thought :).","body":"That&#39;s what I thought :)."},{"owner":{"account_id":5441365,"reputation":1320,"user_id":4329372,"accept_rate":79,"display_name":"salvob"},"score":1,"creation_date":1491578112,"post_id":35418031,"comment_id":73631389,"body_markdown":"Is there ANY way to use that as an API and so inside a code (JAVA, Scala or Python)?","body":"Is there ANY way to use that as an API and so inside a code (JAVA, Scala or Python)?"},{"owner":{"account_id":1029722,"reputation":1433,"user_id":1038288,"accept_rate":40,"display_name":"ssemichev"},"score":0,"creation_date":1491598660,"post_id":35418031,"comment_id":73642092,"body_markdown":"Here is a mix of my code and code from Kafka. It may be useful. I used it for Spark streaming - Kafka integration\nKafkaClient\nhttps://gist.github.com/ssemichev/c2d94dce7ad65339c9637e1b461f86cf\n\nKafkaCluster\nhttps://gist.github.com/ssemichev/fa3605c7b10cb6c7b9c8ab54ffbc5865","body":"Here is a mix of my code and code from Kafka. It may be useful. I used it for Spark streaming - Kafka integration KafkaClient <a href=\"https://gist.github.com/ssemichev/c2d94dce7ad65339c9637e1b461f86cf\" rel=\"nofollow noreferrer\">gist.github.com/ssemichev/c2d94dce7ad65339c9637e1b461f86cf</a>  KafkaCluster <a href=\"https://gist.github.com/ssemichev/fa3605c7b10cb6c7b9c8ab54ffbc5865\" rel=\"nofollow noreferrer\">gist.github.com/ssemichev/fa3605c7b10cb6c7b9c8ab54ffbc5865</a>"},{"owner":{"account_id":7363675,"reputation":1478,"user_id":5606133,"accept_rate":50,"display_name":"Vip"},"score":0,"creation_date":1559611036,"post_id":35418031,"comment_id":99466524,"body_markdown":"Can somebody help me find out how can i pass SASL config in this command?","body":"Can somebody help me find out how can i pass SASL config in this command?"},{"owner":{"account_id":54651,"reputation":825,"user_id":163585,"display_name":"spats"},"score":1,"creation_date":1596193979,"post_id":35418031,"comment_id":111740949,"body_markdown":"simplifying @kisna answer to exact record count :  brokers=&quot;&lt;broker1:port&gt;&quot;\ntopic=&lt;topic-name&gt;\nsum_2=$(/usr/hdp/current/kafka-broker/bin/kafka-run-class.sh kafka.tools.GetOffsetShell --broker-list $brokers --topic $topic --time -2 | grep -e &#39;:[[:digit:]]*:&#39; | awk -F  &quot;:&quot; &#39;{sum += $3} END {print sum}&#39;)\necho &quot;Number of records in topic ${topic}: &quot;$((sum_1 - sum_2))","body":"simplifying @kisna answer to exact record count :  brokers=&quot;&lt;broker1:port&gt;&quot; topic=&lt;topic-name&gt; sum_2=$(/usr/hdp/current/kafka-broker/bin/kafka-run-class.sh kafka.tools.GetOffsetShell --broker-list $brokers --topic $topic --time -2 | grep -e &#39;:[[:digit:]]*:&#39; | awk -F  &quot;:&quot; &#39;{sum += $3} END {print sum}&#39;) echo &quot;Number of records in topic ${topic}: &quot;$((sum_1 - sum_2))"},{"owner":{"account_id":9120249,"reputation":15521,"user_id":6785908,"accept_rate":70,"display_name":"so-random-dude"},"score":0,"creation_date":1618520886,"post_id":35418031,"comment_id":118633659,"body_markdown":"careful if its compacted topic","body":"careful if its compacted topic"},{"owner":{"account_id":13836520,"reputation":355,"user_id":10066623,"display_name":"Anurag"},"score":0,"creation_date":1685345182,"post_id":35418031,"comment_id":134643145,"body_markdown":"This answer is wrong because this command only gives the last offset. You need to use a combination of time parameter with it and then shell script for a correlation for partitions. That too is not accurate as there can be missing offsets in a series say for compacted topics.","body":"This answer is wrong because this command only gives the last offset. You need to use a combination of time parameter with it and then shell script for a correlation for partitions. That too is not accurate as there can be missing offsets in a series say for compacted topics."}],"tags":[],"owner":{"account_id":1029722,"reputation":1433,"user_id":1038288,"accept_rate":40,"display_name":"ssemichev"},"comment_count":9,"down_vote_count":1,"up_vote_count":129,"is_accepted":false,"score":128,"last_activity_date":1637855418,"creation_date":1455566524,"answer_id":35418031,"question_id":28579948,"body_markdown":"It is not java, but may be useful    \r\n\r\n    ./bin/kafka-run-class.sh kafka.tools.GetOffsetShell \\\r\n      --broker-list &lt;broker&gt;:&lt;port&gt; \\\r\n      --topic &lt;topic-name&gt; \\\r\n      | awk -F  &quot;:&quot; &#39;{sum += $3} END {print sum}&#39;","title":"Java, How to get number of messages in a topic in apache kafka","body":"<p>It is not java, but may be useful</p>\n<pre><code>./bin/kafka-run-class.sh kafka.tools.GetOffsetShell \\\n  --broker-list &lt;broker&gt;:&lt;port&gt; \\\n  --topic &lt;topic-name&gt; \\\n  | awk -F  &quot;:&quot; '{sum += $3} END {print sum}'\n</code></pre>\n"},{"comments":[{"owner":{"account_id":104921,"reputation":1069,"user_id":280275,"accept_rate":64,"display_name":"armandfp"},"score":0,"creation_date":1489581036,"post_id":35535200,"comment_id":72731755,"body_markdown":"this tool is nice, but if it will not work if your topic has more than 2 dots.","body":"this tool is nice, but if it will not work if your topic has more than 2 dots."}],"tags":[],"owner":{"account_id":201101,"reputation":21953,"user_id":447344,"accept_rate":44,"display_name":"Thomas Decaux"},"comment_count":1,"down_vote_count":2,"up_vote_count":13,"is_accepted":false,"score":11,"last_activity_date":1456082653,"creation_date":1456052090,"answer_id":35535200,"question_id":28579948,"body_markdown":"Use https://prestodb.io/docs/current/connector/kafka-tutorial.html\r\n\r\nA super SQL engine, provided by Facebook, that connects on several data sources (Cassandra, Kafka, JMX, Redis ...).\r\n\r\nPrestoDB is running as a server with optional workers (there is a standalone mode without extra workers), then you use a small executable JAR (called presto CLI) to make queries.\r\n\r\nOnce you have configured well the Presto server , you can use traditionnal SQL:\r\n\r\n    SELECT count(*) FROM TOPIC_NAME;","title":"Java, How to get number of messages in a topic in apache kafka","body":"<p>Use <a href=\"https://prestodb.io/docs/current/connector/kafka-tutorial.html\" rel=\"noreferrer\">https://prestodb.io/docs/current/connector/kafka-tutorial.html</a></p>\n\n<p>A super SQL engine, provided by Facebook, that connects on several data sources (Cassandra, Kafka, JMX, Redis ...).</p>\n\n<p>PrestoDB is running as a server with optional workers (there is a standalone mode without extra workers), then you use a small executable JAR (called presto CLI) to make queries.</p>\n\n<p>Once you have configured well the Presto server , you can use traditionnal SQL:</p>\n\n<pre><code>SELECT count(*) FROM TOPIC_NAME;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":5667681,"reputation":95,"user_id":4483415,"display_name":"Szymon Sado"},"score":2,"creation_date":1476099120,"post_id":38454823,"comment_id":67193979,"body_markdown":"Please note that ConsumerOffsetChecker is deprecated and will be dropped in releases following 0.9.0. Use ConsumerGroupCommand instead. (kafka.tools.ConsumerOffsetChecker$)","body":"Please note that ConsumerOffsetChecker is deprecated and will be dropped in releases following 0.9.0. Use ConsumerGroupCommand instead. (kafka.tools.ConsumerOffsetChecker$)"},{"owner":{"account_id":322007,"reputation":7050,"user_id":641170,"accept_rate":88,"display_name":"Rudy"},"score":2,"creation_date":1476119757,"post_id":38454823,"comment_id":67206666,"body_markdown":"Yeah, that&#39;s what I said.","body":"Yeah, that&#39;s what I said."},{"owner":{"account_id":5667681,"reputation":95,"user_id":4483415,"display_name":"Szymon Sado"},"score":0,"creation_date":1476177224,"post_id":38454823,"comment_id":67226981,"body_markdown":"Your last sentence is not accurate. The above command still works in 0.10.0.1 and the warning is the same as my previous comment.","body":"Your last sentence is not accurate. The above command still works in 0.10.0.1 and the warning is the same as my previous comment."}],"tags":[],"owner":{"account_id":322007,"reputation":7050,"user_id":641170,"accept_rate":88,"display_name":"Rudy"},"comment_count":3,"down_vote_count":1,"up_vote_count":24,"is_accepted":false,"score":23,"last_activity_date":1500308705,"creation_date":1468921243,"answer_id":38454823,"question_id":28579948,"body_markdown":"I actually use this for benchmarking my POC. The item you want to use ConsumerOffsetChecker. You can run it using bash script like below.\r\n\r\n    bin/kafka-run-class.sh kafka.tools.ConsumerOffsetChecker  --topic test --zookeeper localhost:2181 --group testgroup\r\n\r\nAnd below is the result : \r\n[![enter image description here][1]][1]\r\nAs you can see on the red box, 999 is the number of message currently in the topic.\r\n\r\nUpdate: ConsumerOffsetChecker is deprecated since 0.10.0, you may want to start using ConsumerGroupCommand.\r\n\r\n  [1]: http://i.stack.imgur.com/ZELQB.png\r\n  [2]: http://i.stack.imgur.com/1GqIu.png","title":"Java, How to get number of messages in a topic in apache kafka","body":"<p>I actually use this for benchmarking my POC. The item you want to use ConsumerOffsetChecker. You can run it using bash script like below.</p>\n\n<pre><code>bin/kafka-run-class.sh kafka.tools.ConsumerOffsetChecker  --topic test --zookeeper localhost:2181 --group testgroup\n</code></pre>\n\n<p>And below is the result : \n<a href=\"https://i.stack.imgur.com/ZELQB.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/ZELQB.png\" alt=\"enter image description here\"></a>\nAs you can see on the red box, 999 is the number of message currently in the topic.</p>\n\n<p>Update: ConsumerOffsetChecker is deprecated since 0.10.0, you may want to start using ConsumerGroupCommand.</p>\n"},{"tags":[],"owner":{"account_id":199671,"reputation":148444,"user_id":445131,"accept_rate":89,"display_name":"Eric Leschinski"},"comment_count":0,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1472652478,"creation_date":1472652015,"answer_id":39251742,"question_id":28579948,"body_markdown":"Apache Kafka command to get un handled messages on all partitions of a topic:\r\n\r\n    kafka-run-class kafka.tools.ConsumerOffsetChecker \r\n        --topic test --zookeeper localhost:2181 \r\n        --group test_group\r\n\r\nPrints:\r\n\r\n    Group      Topic        Pid Offset          logSize         Lag             Owner\r\n    test_group test         0   11051           11053           2               none\r\n    test_group test         1   10810           10812           2               none\r\n    test_group test         2   11027           11028           1               none\r\n\r\nColumn 6 is the un-handled messages.  Add them up like this:\r\n\r\n    kafka-run-class kafka.tools.ConsumerOffsetChecker \r\n        --topic test --zookeeper localhost:2181 \r\n        --group test_group 2&gt;/dev/null | awk &#39;NR&gt;1 {sum += $6} \r\n        END {print sum}&#39;\r\n\r\nawk reads the rows, skips the header line and adds up the 6th column and at the end prints the sum.\r\n\r\nPrints\r\n\r\n    5\r\n\r\n","title":"Java, How to get number of messages in a topic in apache kafka","body":"<p>Apache Kafka command to get un handled messages on all partitions of a topic:</p>\n\n<pre><code>kafka-run-class kafka.tools.ConsumerOffsetChecker \n    --topic test --zookeeper localhost:2181 \n    --group test_group\n</code></pre>\n\n<p>Prints:</p>\n\n<pre><code>Group      Topic        Pid Offset          logSize         Lag             Owner\ntest_group test         0   11051           11053           2               none\ntest_group test         1   10810           10812           2               none\ntest_group test         2   11027           11028           1               none\n</code></pre>\n\n<p>Column 6 is the un-handled messages.  Add them up like this:</p>\n\n<pre><code>kafka-run-class kafka.tools.ConsumerOffsetChecker \n    --topic test --zookeeper localhost:2181 \n    --group test_group 2&gt;/dev/null | awk 'NR&gt;1 {sum += $6} \n    END {print sum}'\n</code></pre>\n\n<p>awk reads the rows, skips the header line and adds up the 6th column and at the end prints the sum.</p>\n\n<p>Prints</p>\n\n<pre><code>5\n</code></pre>\n"},{"comments":[{"owner":{"account_id":143589,"reputation":1483,"user_id":352035,"display_name":"AutomatedMike"},"score":4,"creation_date":1498034601,"post_id":40282980,"comment_id":76326415,"body_markdown":"btw, if you have compaction turned on then there may be gaps in the stream so the actual number of messages may be lower than the total calculated here.  To get an accurate total you&#39;re going to have to replay the messages and count them.","body":"btw, if you have compaction turned on then there may be gaps in the stream so the actual number of messages may be lower than the total calculated here.  To get an accurate total you&#39;re going to have to replay the messages and count them."}],"tags":[],"owner":{"account_id":143589,"reputation":1483,"user_id":352035,"display_name":"AutomatedMike"},"comment_count":1,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1477566176,"creation_date":1477566176,"answer_id":40282980,"question_id":28579948,"body_markdown":"To get all the messages stored for the topic you can seek the consumer to the beginning and end of the stream for each partition and sum the results\r\n\r\n    List&lt;TopicPartition&gt; partitions = consumer.partitionsFor(topic).stream()\r\n            .map(p -&gt; new TopicPartition(topic, p.partition()))\r\n            .collect(Collectors.toList());\r\n        consumer.assign(partitions); \r\n        consumer.seekToEnd(Collections.emptySet());\r\n    Map&lt;TopicPartition, Long&gt; endPartitions = partitions.stream()\r\n            .collect(Collectors.toMap(Function.identity(), consumer::position));\r\n        consumer.seekToBeginning(Collections.emptySet());\r\n    System.out.println(partitions.stream().mapToLong(p -&gt; endPartitions.get(p) - consumer.position(p)).sum());\r\n\r\n","title":"Java, How to get number of messages in a topic in apache kafka","body":"<p>To get all the messages stored for the topic you can seek the consumer to the beginning and end of the stream for each partition and sum the results</p>\n\n<pre><code>List&lt;TopicPartition&gt; partitions = consumer.partitionsFor(topic).stream()\n        .map(p -&gt; new TopicPartition(topic, p.partition()))\n        .collect(Collectors.toList());\n    consumer.assign(partitions); \n    consumer.seekToEnd(Collections.emptySet());\nMap&lt;TopicPartition, Long&gt; endPartitions = partitions.stream()\n        .collect(Collectors.toMap(Function.identity(), consumer::position));\n    consumer.seekToBeginning(Collections.emptySet());\nSystem.out.println(partitions.stream().mapToLong(p -&gt; endPartitions.get(p) - consumer.position(p)).sum());\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1084207,"reputation":180,"user_id":1080334,"accept_rate":50,"display_name":"adaslaw"},"score":0,"creation_date":1604516554,"post_id":47313863,"comment_id":114373552,"body_markdown":"I prefer you answer comparing to @AutomatedMike answer since your answer doesn&#39;t mess with `seekToEnd(..)` and `seekToBeginning(..)` methods which change the state of the `consumer`.","body":"I prefer you answer comparing to @AutomatedMike answer since your answer doesn&#39;t mess with <code>seekToEnd(..)</code> and <code>seekToBeginning(..)</code> methods which change the state of the <code>consumer</code>."}],"tags":[],"owner":{"account_id":2296191,"reputation":2082,"user_id":2017567,"display_name":"Christophe Quintard"},"comment_count":1,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1510767244,"creation_date":1510767244,"answer_id":47313863,"question_id":28579948,"body_markdown":"Using the Java client of Kafka 2.11-1.0.0, you can do the following thing :\r\n\r\n        KafkaConsumer&lt;String, String&gt; consumer = new KafkaConsumer&lt;&gt;(props);\r\n        consumer.subscribe(Collections.singletonList(&quot;test&quot;));\r\n        while(true) {\r\n            ConsumerRecords&lt;String, String&gt; records = consumer.poll(100);\r\n            for (ConsumerRecord&lt;String, String&gt; record : records) {\r\n                System.out.printf(&quot;offset = %d, key = %s, value = %s%n&quot;, record.offset(), record.key(), record.value());\r\n\r\n                // after each message, query the number of messages of the topic\r\n                Set&lt;TopicPartition&gt; partitions = consumer.assignment();\r\n                Map&lt;TopicPartition, Long&gt; offsets = consumer.endOffsets(partitions);\r\n                for(TopicPartition partition : offsets.keySet()) {\r\n                    System.out.printf(&quot;partition %s is at %d\\n&quot;, partition.topic(), offsets.get(partition));\r\n                }\r\n            }\r\n        }\r\n\r\nOutput is something like this :\r\n\r\n    offset = 10, key = null, value = un\r\n    partition test is at 13\r\n    offset = 11, key = null, value = deux\r\n    partition test is at 13\r\n    offset = 12, key = null, value = trois\r\n    partition test is at 13","title":"Java, How to get number of messages in a topic in apache kafka","body":"<p>Using the Java client of Kafka 2.11-1.0.0, you can do the following thing :</p>\n\n<pre><code>    KafkaConsumer&lt;String, String&gt; consumer = new KafkaConsumer&lt;&gt;(props);\n    consumer.subscribe(Collections.singletonList(\"test\"));\n    while(true) {\n        ConsumerRecords&lt;String, String&gt; records = consumer.poll(100);\n        for (ConsumerRecord&lt;String, String&gt; record : records) {\n            System.out.printf(\"offset = %d, key = %s, value = %s%n\", record.offset(), record.key(), record.value());\n\n            // after each message, query the number of messages of the topic\n            Set&lt;TopicPartition&gt; partitions = consumer.assignment();\n            Map&lt;TopicPartition, Long&gt; offsets = consumer.endOffsets(partitions);\n            for(TopicPartition partition : offsets.keySet()) {\n                System.out.printf(\"partition %s is at %d\\n\", partition.topic(), offsets.get(partition));\n            }\n        }\n    }\n</code></pre>\n\n<p>Output is something like this :</p>\n\n<pre><code>offset = 10, key = null, value = un\npartition test is at 13\noffset = 11, key = null, value = deux\npartition test is at 13\noffset = 12, key = null, value = trois\npartition test is at 13\n</code></pre>\n"},{"tags":[],"owner":{"account_id":185859,"reputation":1758,"user_id":422842,"accept_rate":33,"display_name":"f01"},"comment_count":0,"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1515134328,"creation_date":1515134328,"answer_id":48108441,"question_id":28579948,"body_markdown":"In most recent versions of Kafka Manager, there is a column titled _Summed Recent Offsets_.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/1Z5rI.png","title":"Java, How to get number of messages in a topic in apache kafka","body":"<p>In most recent versions of Kafka Manager, there is a column titled <em>Summed Recent Offsets</em>.</p>\n\n<p><a href=\"https://i.stack.imgur.com/1Z5rI.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/1Z5rI.png\" alt=\"enter image description here\"></a></p>\n"},{"comments":[{"owner":{"display_name":"user7652554"},"score":6,"creation_date":1549378997,"post_id":50083376,"comment_id":95875922,"body_markdown":"If log compaction is enabled, then summing the offsets of the partitions may not give the exact count of messages in the topic.","body":"If log compaction is enabled, then summing the offsets of the partitions may not give the exact count of messages in the topic."},{"owner":{"account_id":13836520,"reputation":355,"user_id":10066623,"display_name":"Anurag"},"score":0,"creation_date":1685345322,"post_id":50083376,"comment_id":134643166,"body_markdown":"This is not showing the total messages. This is showing the last offset. The initial one can be any number.","body":"This is not showing the total messages. This is showing the last offset. The initial one can be any number."}],"tags":[],"owner":{"account_id":1531303,"reputation":4187,"user_id":3636464,"accept_rate":75,"display_name":"pdp"},"comment_count":2,"down_vote_count":2,"up_vote_count":21,"is_accepted":false,"score":19,"last_activity_date":1524975976,"creation_date":1524975976,"answer_id":50083376,"question_id":28579948,"body_markdown":"Sometimes the interest is in knowing the number of messages in each partition, for example, when testing a custom partitioner.The ensuing steps have been tested to work with Kafka 0.10.2.1-2 from Confluent 3.2. Given a Kafka topic, `kt` and the following command-line:\r\n\r\n    $ kafka-run-class kafka.tools.GetOffsetShell \\\r\n      --broker-list host01:9092,host02:9092,host02:9092 --topic kt\r\nThat prints the sample output showing the count of messages in the three partitions:\r\n\r\n    kt:2:6138\r\n    kt:1:6123\r\n    kt:0:6137\r\nThe number of lines could be more or less depending on the number of partitions for the topic.","title":"Java, How to get number of messages in a topic in apache kafka","body":"<p>Sometimes the interest is in knowing the number of messages in each partition, for example, when testing a custom partitioner.The ensuing steps have been tested to work with Kafka 0.10.2.1-2 from Confluent 3.2. Given a Kafka topic, <code>kt</code> and the following command-line:</p>\n\n<pre><code>$ kafka-run-class kafka.tools.GetOffsetShell \\\n  --broker-list host01:9092,host02:9092,host02:9092 --topic kt\n</code></pre>\n\n<p>That prints the sample output showing the count of messages in the three partitions:</p>\n\n<pre><code>kt:2:6138\nkt:1:6123\nkt:0:6137\n</code></pre>\n\n<p>The number of lines could be more or less depending on the number of partitions for the topic.</p>\n"},{"comments":[{"owner":{"account_id":1053202,"reputation":59956,"user_id":1056563,"accept_rate":90,"display_name":"WestCoastProjects"},"score":0,"creation_date":1555894244,"post_id":51710092,"comment_id":98246271,"body_markdown":"Note: I removed the `--new-consumer` since that option is no longer available (or apparently necessary)","body":"Note: I removed the <code>--new-consumer</code> since that option is no longer available (or apparently necessary)"}],"tags":[],"owner":{"account_id":3065469,"reputation":1555,"user_id":2597267,"display_name":"Borislav Markov"},"comment_count":1,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1555894015,"creation_date":1533566226,"answer_id":51710092,"question_id":28579948,"body_markdown":"Run the following (assuming `kafka-console-consumer.sh` is on the path):\r\n\r\n    kafka-console-consumer.sh  --from-beginning \\\r\n    --bootstrap-server yourbroker:9092 --property print.key=true  \\\r\n    --property print.value=false --property print.partition \\\r\n    --topic yourtopic --timeout-ms 5000 | tail -n 10|grep &quot;Processed a total of&quot;\r\n","title":"Java, How to get number of messages in a topic in apache kafka","body":"<p>Run the following (assuming <code>kafka-console-consumer.sh</code> is on the path):</p>\n\n<pre><code>kafka-console-consumer.sh  --from-beginning \\\n--bootstrap-server yourbroker:9092 --property print.key=true  \\\n--property print.value=false --property print.partition \\\n--topic yourtopic --timeout-ms 5000 | tail -n 10|grep \"Processed a total of\"\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4160435,"reputation":81,"user_id":4555106,"display_name":"S R Bandi"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1534757143,"creation_date":1534757143,"answer_id":51927715,"question_id":28579948,"body_markdown":"**Excerpts from Kafka docs**\r\n\r\nDeprecations in 0.9.0.0\r\n\r\nThe kafka-consumer-offset-checker.sh (kafka.tools.ConsumerOffsetChecker) has been deprecated. Going forward, please use kafka-consumer-groups.sh (kafka.admin.ConsumerGroupCommand) for this functionality.\r\n\r\nI am running Kafka broker with SSL enabled for both server and client. Below command I use \r\n\r\n`kafka-consumer-groups.sh --bootstrap-server Broker_IP:Port --list --command-config /tmp/ssl_config\r\nkafka-consumer-groups.sh --bootstrap-server Broker_IP:Port --command-config /tmp/ssl_config  --describe --group group_name_x\r\n`\r\n\r\nwhere /tmp/ssl_config is as below\r\n\r\n    security.protocol=SSL\r\n    ssl.truststore.location=truststore_file_path.jks\r\n    ssl.truststore.password=truststore_password\r\n    ssl.keystore.location=keystore_file_path.jks\r\n    ssl.keystore.password=keystore_password\r\n    ssl.key.password=key_password\r\n\r\n\r\n","title":"Java, How to get number of messages in a topic in apache kafka","body":"<p><strong>Excerpts from Kafka docs</strong></p>\n\n<p>Deprecations in 0.9.0.0</p>\n\n<p>The kafka-consumer-offset-checker.sh (kafka.tools.ConsumerOffsetChecker) has been deprecated. Going forward, please use kafka-consumer-groups.sh (kafka.admin.ConsumerGroupCommand) for this functionality.</p>\n\n<p>I am running Kafka broker with SSL enabled for both server and client. Below command I use </p>\n\n<p><code>kafka-consumer-groups.sh --bootstrap-server Broker_IP:Port --list --command-config /tmp/ssl_config\nkafka-consumer-groups.sh --bootstrap-server Broker_IP:Port --command-config /tmp/ssl_config  --describe --group group_name_x\n</code></p>\n\n<p>where /tmp/ssl_config is as below</p>\n\n<pre><code>security.protocol=SSL\nssl.truststore.location=truststore_file_path.jks\nssl.truststore.password=truststore_password\nssl.keystore.location=keystore_file_path.jks\nssl.keystore.password=keystore_password\nssl.key.password=key_password\n</code></pre>\n"},{"comments":[{"owner":{"account_id":20580,"reputation":1076,"user_id":49330,"accept_rate":36,"display_name":"Florin Andrei"},"score":0,"creation_date":1641945686,"post_id":51933855,"comment_id":124939915,"body_markdown":"Let me see if I get this right: Enable JMX. Get all metrics. Pick a topic and a partition. For that topic/partition combo, get LogEndOffset and LogStartOffset. Do the difference. That&#39;s the number of messages in the queue. Correct?","body":"Let me see if I get this right: Enable JMX. Get all metrics. Pick a topic and a partition. For that topic/partition combo, get LogEndOffset and LogStartOffset. Do the difference. That&#39;s the number of messages in the queue. Correct?"},{"owner":{"account_id":20580,"reputation":1076,"user_id":49330,"accept_rate":36,"display_name":"Florin Andrei"},"score":0,"creation_date":1641947854,"post_id":51933855,"comment_id":124940357,"body_markdown":"If a topic has multiple partitions, then I need to do this math separately for each partition? Then add the results? (I&#39;m new to Kafka, I&#39;ve only used RabbitMQ before.)","body":"If a topic has multiple partitions, then I need to do this math separately for each partition? Then add the results? (I&#39;m new to Kafka, I&#39;ve only used RabbitMQ before.)"}],"tags":[],"owner":{"account_id":8249479,"reputation":4439,"user_id":6204612,"accept_rate":75,"display_name":"Adam Kotwasinski"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1534778303,"creation_date":1534778303,"answer_id":51933855,"question_id":28579948,"body_markdown":"If you have access to server&#39;s JMX interface, the start &amp; end offsets are present at:\r\n\r\n    kafka.log:type=Log,name=LogStartOffset,topic=TOPICNAME,partition=PARTITIONNUMBER\r\n    kafka.log:type=Log,name=LogEndOffset,topic=TOPICNAME,partition=PARTITIONNUMBER\r\n\r\n\r\n(you need to replace `TOPICNAME` &amp; `PARTITIONNUMBER`).\r\nBear in mind you need to check for each of the replicas of given partition, or you need to find out which one of the brokers is the leader for a _given_ partition (and this can change over time).\r\n\r\nAlternatively, you can use [Kafka Consumer](https://kafka.apache.org/10/javadoc/?org/apache/kafka/clients/consumer/KafkaConsumer.html) methods `beginningOffsets` and `endOffsets`.","title":"Java, How to get number of messages in a topic in apache kafka","body":"<p>If you have access to server's JMX interface, the start &amp; end offsets are present at:</p>\n\n<pre><code>kafka.log:type=Log,name=LogStartOffset,topic=TOPICNAME,partition=PARTITIONNUMBER\nkafka.log:type=Log,name=LogEndOffset,topic=TOPICNAME,partition=PARTITIONNUMBER\n</code></pre>\n\n<p>(you need to replace <code>TOPICNAME</code> &amp; <code>PARTITIONNUMBER</code>).\nBear in mind you need to check for each of the replicas of given partition, or you need to find out which one of the brokers is the leader for a <em>given</em> partition (and this can change over time).</p>\n\n<p>Alternatively, you can use <a href=\"https://kafka.apache.org/10/javadoc/?org/apache/kafka/clients/consumer/KafkaConsumer.html\" rel=\"nofollow noreferrer\">Kafka Consumer</a> methods <code>beginningOffsets</code> and <code>endOffsets</code>.</p>\n"},{"tags":[],"owner":{"account_id":5393531,"reputation":11,"user_id":6256924,"display_name":"Sebastian Sturza"},"comment_count":0,"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1539189800,"creation_date":1539188616,"answer_id":52744785,"question_id":28579948,"body_markdown":"The simplest way I&#39;ve found is to use the Kafdrop REST API `/topic/topicName` and specify the key: `&quot;Accept&quot;` / value: `&quot;application/json&quot;` header in order to get back a JSON response. \r\n\r\n[This is documented here][1].\r\n\r\n\r\n  [1]: https://github.com/HomeAdvisor/Kafdrop","title":"Java, How to get number of messages in a topic in apache kafka","body":"<p>The simplest way I've found is to use the Kafdrop REST API <code>/topic/topicName</code> and specify the key: <code>\"Accept\"</code> / value: <code>\"application/json\"</code> header in order to get back a JSON response. </p>\n\n<p><a href=\"https://github.com/HomeAdvisor/Kafdrop\" rel=\"nofollow noreferrer\">This is documented here</a>.</p>\n"},{"comments":[{"owner":{"account_id":1478531,"reputation":664,"user_id":1388362,"accept_rate":67,"display_name":"Felipe Correa"},"score":3,"creation_date":1631051397,"post_id":54762796,"comment_id":122118473,"body_markdown":"This answer is lacking a bit in precision. LAG is the amount of messages that are pending to be consumed by a consumer. Is not the total of messages in the partition. A value a bit more accurate for the TOTAL of messages in the partitions (but still somewhat misleading) would be LOG-END-OFFSET.","body":"This answer is lacking a bit in precision. LAG is the amount of messages that are pending to be consumed by a consumer. Is not the total of messages in the partition. A value a bit more accurate for the TOTAL of messages in the partitions (but still somewhat misleading) would be LOG-END-OFFSET."}],"tags":[],"owner":{"account_id":4752391,"reputation":703,"user_id":3842076,"accept_rate":80,"display_name":"ruslangm"},"comment_count":1,"down_vote_count":0,"up_vote_count":35,"is_accepted":false,"score":35,"last_activity_date":1550578845,"creation_date":1550568545,"answer_id":54762796,"question_id":28579948,"body_markdown":"Since `ConsumerOffsetChecker` is no longer supported, you can use this command to check all messages in topic: \r\n\r\n    bin/kafka-run-class.sh kafka.admin.ConsumerGroupCommand \\\r\n        --group my-group \\\r\n        --bootstrap-server localhost:9092 \\\r\n        --describe\r\n\r\nWhere `LAG` is the count of messages in topic partition:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nAlso you can try to use [kafkacat][2]. This is an open source project that may help you to read messages from a topic and partition and prints them to stdout. Here is a sample that reads the last 10 messages from `sample-kafka-topic` topic, then exit:\r\n\r\n    kafkacat -b localhost:9092 -t sample-kafka-topic -p 0 -o -10 -e\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ch2oq.png\r\n  [2]: https://github.com/edenhill/kafkacat","title":"Java, How to get number of messages in a topic in apache kafka","body":"<p>Since <code>ConsumerOffsetChecker</code> is no longer supported, you can use this command to check all messages in topic: </p>\n\n<pre><code>bin/kafka-run-class.sh kafka.admin.ConsumerGroupCommand \\\n    --group my-group \\\n    --bootstrap-server localhost:9092 \\\n    --describe\n</code></pre>\n\n<p>Where <code>LAG</code> is the count of messages in topic partition:</p>\n\n<p><a href=\"https://i.stack.imgur.com/ch2oq.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/ch2oq.png\" alt=\"enter image description here\"></a></p>\n\n<p>Also you can try to use <a href=\"https://github.com/edenhill/kafkacat\" rel=\"noreferrer\">kafkacat</a>. This is an open source project that may help you to read messages from a topic and partition and prints them to stdout. Here is a sample that reads the last 10 messages from <code>sample-kafka-topic</code> topic, then exit:</p>\n\n<pre><code>kafkacat -b localhost:9092 -t sample-kafka-topic -p 0 -o -10 -e\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12673101,"reputation":1673,"user_id":9210263,"display_name":"LeYAUable"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1589988636,"creation_date":1589988636,"answer_id":61916983,"question_id":28579948,"body_markdown":"I had this same question and this is how I am doing it, from a KafkaConsumer, in Kotlin:\r\n\r\n    val messageCount = consumer.listTopics().entries.filter { it.key == topicName }\r\n        .map {\r\n            it.value.map { topicInfo -&gt; TopicPartition(topicInfo.topic(), topicInfo.partition()) }\r\n        }.map { consumer.endOffsets(it).values.sum() - consumer.beginningOffsets(it).values.sum()}\r\n        .first()\r\n\r\nVery rough code, as I just got this to work, but basically you want to subtract the topic&#39;s beginning offset from the ending offset and this will be the current message count for the topic.\r\n\r\nYou can&#39;t just rely on the end offset because of other configurations (cleanup policy, retention-ms, etc.) that may end up causing the deletion old messages from your topic.\r\nOffsets only &quot;move&quot; forward, so it is the beggining offset that will move forward closer to the end offset (or eventually to the same value, if the topic contains no message right now).\r\n\r\nBasically the end offset represents the overall number of messages that went through that topic, and the difference between the two represent the number of messages that the topic contains right now.\r\n\r\n ","title":"Java, How to get number of messages in a topic in apache kafka","body":"<p>I had this same question and this is how I am doing it, from a KafkaConsumer, in Kotlin:</p>\n\n<pre><code>val messageCount = consumer.listTopics().entries.filter { it.key == topicName }\n    .map {\n        it.value.map { topicInfo -&gt; TopicPartition(topicInfo.topic(), topicInfo.partition()) }\n    }.map { consumer.endOffsets(it).values.sum() - consumer.beginningOffsets(it).values.sum()}\n    .first()\n</code></pre>\n\n<p>Very rough code, as I just got this to work, but basically you want to subtract the topic's beginning offset from the ending offset and this will be the current message count for the topic.</p>\n\n<p>You can't just rely on the end offset because of other configurations (cleanup policy, retention-ms, etc.) that may end up causing the deletion old messages from your topic.\nOffsets only \"move\" forward, so it is the beggining offset that will move forward closer to the end offset (or eventually to the same value, if the topic contains no message right now).</p>\n\n<p>Basically the end offset represents the overall number of messages that went through that topic, and the difference between the two represent the number of messages that the topic contains right now.</p>\n"},{"tags":[],"owner":{"account_id":23506,"reputation":7505,"user_id":58962,"accept_rate":65,"display_name":"Michael B&#246;ckling"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654164794,"creation_date":1654069585,"answer_id":72458114,"question_id":28579948,"body_markdown":"If you need to calculate the result for all the consumers in a consumer group, (or for different consumer groups), another option is to use the admin client and subtract the consumer group offsets from the topic/partition offsets, code examples in Kotlin:\r\n\r\n    val topicName = &quot;someTopic&quot;\r\n    val groupId = &quot;theGroupId&quot;\r\n    val admin = Admin.create(kafkaProps.buildAdminProperties()) // Spring KafkaProperties\r\n    val parts = admin.describeTopics(listOf(topicName)).values()[topicName]!!.get().partitions()\r\n    val topicPartitionOffsets = admin.listOffsets(parts.associate { TopicPartition(topicName, it.partition()) to OffsetSpec.latest() }).all().get()\r\n    val consumerGroupOffsets = admin.listConsumerGroupOffsets(groupId)\r\n        .partitionsToOffsetAndMetadata().get()\r\n    val highWaterMark = topicPartitionOffsets.map { it.value.offset() }.sum()\r\n    val consumerPos = consumerGroupOffsets.map { it.value.offset() }.sum()\r\n    val unProcessedMessages = highWaterMark - consumerPos\r\n\r\nAlso here is a working version of LeYAUable&#39;s example code which only uses a regular (non-admin) client:\r\n\r\n    val partitions = consumer.partitionsFor(&quot;topicName&quot;)\r\n            .map { TopicPartition(it.topic(), it.partition()) }\r\n    val highWaterMark = consumer.endOffsets(partitions).values.sum()\r\n    val consumerPosition = consumer.beginningOffsets(partitions).values.sum()\r\n    val msgCount = highWaterMark - consumerPosition\r\n\r\nThis will only give you the offset for this particular consumer though! The usual caveat applies that this is imprecise when a topic is compacted.\r\n","title":"Java, How to get number of messages in a topic in apache kafka","body":"<p>If you need to calculate the result for all the consumers in a consumer group, (or for different consumer groups), another option is to use the admin client and subtract the consumer group offsets from the topic/partition offsets, code examples in Kotlin:</p>\n<pre><code>val topicName = &quot;someTopic&quot;\nval groupId = &quot;theGroupId&quot;\nval admin = Admin.create(kafkaProps.buildAdminProperties()) // Spring KafkaProperties\nval parts = admin.describeTopics(listOf(topicName)).values()[topicName]!!.get().partitions()\nval topicPartitionOffsets = admin.listOffsets(parts.associate { TopicPartition(topicName, it.partition()) to OffsetSpec.latest() }).all().get()\nval consumerGroupOffsets = admin.listConsumerGroupOffsets(groupId)\n    .partitionsToOffsetAndMetadata().get()\nval highWaterMark = topicPartitionOffsets.map { it.value.offset() }.sum()\nval consumerPos = consumerGroupOffsets.map { it.value.offset() }.sum()\nval unProcessedMessages = highWaterMark - consumerPos\n</code></pre>\n<p>Also here is a working version of LeYAUable's example code which only uses a regular (non-admin) client:</p>\n<pre><code>val partitions = consumer.partitionsFor(&quot;topicName&quot;)\n        .map { TopicPartition(it.topic(), it.partition()) }\nval highWaterMark = consumer.endOffsets(partitions).values.sum()\nval consumerPosition = consumer.beginningOffsets(partitions).values.sum()\nval msgCount = highWaterMark - consumerPosition\n</code></pre>\n<p>This will only give you the offset for this particular consumer though! The usual caveat applies that this is imprecise when a topic is compacted.</p>\n"},{"tags":[],"owner":{"account_id":13836520,"reputation":355,"user_id":10066623,"display_name":"Anurag"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685346546,"creation_date":1685346077,"answer_id":76355484,"question_id":28579948,"body_markdown":"The only precise way to get the accurate number is by reading the messages using a consumer. \r\n\r\nAlternatively, the way (not accurate) to get the closest number is to use &quot;*kafka.tools.GetOffsetShell*&quot; class. In two separate shell commands, get the latest and earliest offsets for each partition using the time parameter (*-1 for latest and -2 for earliest*) and then use a simple shell script to relate each partitions and subtract the numbers. See below the command examples. But note, that this may not be true as in some rare circumstances, the topics may miss an offset number. Another such example is compacted topics. So, in those cases, this won&#39;t work.\r\n\r\n\r\n**Get Latest / End Offset number for a Topic**\r\n\r\nbin % ./kafka-run-class kafka.tools.GetOffsetShell --broker-list localhost:9092 --topic tpmqtt --time -1\r\n\r\ntpmqtt:0:8\r\n\r\ntpmqtt:1:0\r\n\r\ntpmqtt:2:10\r\n\r\n**Get Earliest Offset number for a Topic:**\r\n\r\n\r\nbin % ./kafka-run-class kafka.tools.GetOffsetShell --broker-list localhost:9092 --topic tpmqtt --time -2\r\n\r\ntpmqtt:0:0\r\n\r\ntpmqtt:1:0\r\n\r\ntpmqtt:2:0\r\n\r\n\r\nIn this example for value- &quot;tpmqtt:2:10&quot;, tpmqtt is the topic, 2 \r\nis the partition number and 10 is the last offset number in this \r\npartition.\r\n\r\n","title":"Java, How to get number of messages in a topic in apache kafka","body":"<p>The only precise way to get the accurate number is by reading the messages using a consumer.</p>\n<p>Alternatively, the way (not accurate) to get the closest number is to use &quot;<em>kafka.tools.GetOffsetShell</em>&quot; class. In two separate shell commands, get the latest and earliest offsets for each partition using the time parameter (<em>-1 for latest and -2 for earliest</em>) and then use a simple shell script to relate each partitions and subtract the numbers. See below the command examples. But note, that this may not be true as in some rare circumstances, the topics may miss an offset number. Another such example is compacted topics. So, in those cases, this won't work.</p>\n<p><strong>Get Latest / End Offset number for a Topic</strong></p>\n<p>bin % ./kafka-run-class kafka.tools.GetOffsetShell --broker-list localhost:9092 --topic tpmqtt --time -1</p>\n<p>tpmqtt:0:8</p>\n<p>tpmqtt:1:0</p>\n<p>tpmqtt:2:10</p>\n<p><strong>Get Earliest Offset number for a Topic:</strong></p>\n<p>bin % ./kafka-run-class kafka.tools.GetOffsetShell --broker-list localhost:9092 --topic tpmqtt --time -2</p>\n<p>tpmqtt:0:0</p>\n<p>tpmqtt:1:0</p>\n<p>tpmqtt:2:0</p>\n<p>In this example for value- &quot;tpmqtt:2:10&quot;, tpmqtt is the topic, 2\nis the partition number and 10 is the last offset number in this\npartition.</p>\n"}],"owner":{"account_id":1411349,"reputation":4805,"user_id":1337863,"accept_rate":53,"display_name":"Chetan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":224933,"favorite_count":0,"down_vote_count":1,"up_vote_count":132,"accepted_answer_id":28617771,"answer_count":18,"score":131,"last_activity_date":1697087444,"creation_date":1424251506,"question_id":28579948,"body_markdown":"I am using Apache Kafka for messaging. I have implemented the producer and consumer in Java. How can we get the number of messages in a particular topic?","title":"Java, How to get number of messages in a topic in apache kafka","body":"<p>I am using Apache Kafka for messaging. I have implemented the producer and consumer in Java. How can we get the number of messages in a particular topic?</p>\n"},{"tags":["java","exception","apache-kafka"],"comments":[{"owner":{"account_id":15903,"reputation":323443,"user_id":34088,"accept_rate":77,"display_name":"Aaron Digulla"},"score":11,"creation_date":1389270917,"post_id":21020347,"comment_id":31595551,"body_markdown":"My first instinct would be to ask you to split this huge message into several smaller ones :-/ My guess is that this isn&#39;t possible for some reason but you may want to reconsider it nonetheless: Huge messages usually means there is a design flaw somewhere that should really be fixed.","body":"My first instinct would be to ask you to split this huge message into several smaller ones :-/ My guess is that this isn&#39;t possible for some reason but you may want to reconsider it nonetheless: Huge messages usually means there is a design flaw somewhere that should really be fixed."},{"owner":{"account_id":204382,"reputation":10989,"user_id":517336,"accept_rate":88,"display_name":"Sonson123"},"score":1,"creation_date":1389272566,"post_id":21020347,"comment_id":31596654,"body_markdown":"Thanks, but it would make my logic a lot more complex. Why is it a *bad* idea to use Kafka for messages around 15MB? Is 1 MB the maximum message size limit that can be used? I found not much about the message size limit in the Kafka documentation.","body":"Thanks, but it would make my logic a lot more complex. Why is it a <i>bad</i> idea to use Kafka for messages around 15MB? Is 1 MB the maximum message size limit that can be used? I found not much about the message size limit in the Kafka documentation."},{"owner":{"account_id":15903,"reputation":323443,"user_id":34088,"accept_rate":77,"display_name":"Aaron Digulla"},"score":2,"creation_date":1389275374,"post_id":21020347,"comment_id":31598491,"body_markdown":"This is completely unrelated to Kafka or any other message processing system. My reasoning: If something goes wrong with your 15MB file, then cleaning up the mess afterwards is very expensive. That&#39;s why I usually split large files into many smaller jobs (which can then usually be executed in parallel as well).","body":"This is completely unrelated to Kafka or any other message processing system. My reasoning: If something goes wrong with your 15MB file, then cleaning up the mess afterwards is very expensive. That&#39;s why I usually split large files into many smaller jobs (which can then usually be executed in parallel as well)."},{"owner":{"account_id":3224137,"reputation":8035,"user_id":2720864,"accept_rate":43,"display_name":"user2720864"},"score":0,"creation_date":1389299372,"post_id":21020347,"comment_id":31614487,"body_markdown":"have you used any compression? could you please share some more details, its kinda hard to guess something out of just one single word","body":"have you used any compression? could you please share some more details, its kinda hard to guess something out of just one single word"},{"owner":{"account_id":1573494,"reputation":14865,"user_id":1460628,"accept_rate":60,"display_name":"Miljen Mikic"},"score":0,"creation_date":1603204128,"post_id":21020347,"comment_id":113958771,"body_markdown":"For those who stumble upon this question, but use `librdkafka` for the communication with Kafka, see also: https://stackoverflow.com/questions/60739858/how-to-set-the-max-size-of-a-kafka-message-using-librdkafka","body":"For those who stumble upon this question, but use <code>librdkafka</code> for the communication with Kafka, see also: <a href=\"https://stackoverflow.com/questions/60739858/how-to-set-the-max-size-of-a-kafka-message-using-librdkafka\" title=\"how to set the max size of a kafka message using librdkafka\">stackoverflow.com/questions/60739858/&hellip;</a>"}],"answers":[{"comments":[{"owner":{"account_id":204382,"reputation":10989,"user_id":517336,"accept_rate":88,"display_name":"Sonson123"},"score":1,"creation_date":1389341215,"post_id":21030397,"comment_id":31629521,"body_markdown":"I have updated my question with more information: Kafka Version 2.8.0-0.8.0; now I only need the producer.","body":"I have updated my question with more information: Kafka Version 2.8.0-0.8.0; now I only need the producer."}],"tags":[],"owner":{"account_id":3224137,"reputation":8035,"user_id":2720864,"accept_rate":43,"display_name":"user2720864"},"comment_count":1,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1389694443,"creation_date":1389299109,"answer_id":21030397,"question_id":21020347,"body_markdown":"One key thing to remember that `message.max.bytes` attribute must be **in sync** with the consumer&#39;s `fetch.message.max.bytes` property. the fetch size must be at least as large as the maximum message size otherwise there could be situation where producers can send messages larger than the consumer can consume/fetch. It might worth taking a look at it. &lt;br/&gt;\r\nWhich version of Kafka you are using? Also provide some more details trace that you are getting. is there some thing like ... `payload size of xxxx larger\r\nthan 1000000` coming up in  the log?","title":"How can I send large messages with Kafka (over 15MB)?","body":"<p>One key thing to remember that <code>message.max.bytes</code> attribute must be <strong>in sync</strong> with the consumer's <code>fetch.message.max.bytes</code> property. the fetch size must be at least as large as the maximum message size otherwise there could be situation where producers can send messages larger than the consumer can consume/fetch. It might worth taking a look at it. <br/>\nWhich version of Kafka you are using? Also provide some more details trace that you are getting. is there some thing like ... <code>payload size of xxxx larger\nthan 1000000</code> coming up in  the log?</p>\n"},{"comments":[{"owner":{"account_id":204382,"reputation":10989,"user_id":517336,"accept_rate":88,"display_name":"Sonson123"},"score":4,"creation_date":1391441859,"post_id":21343878,"comment_id":32511728,"body_markdown":"Ok, you and user2720864 were correct. I had only set the `message.max.bytes` in the source code. But I have to set these values in the configuration of the Kafka server `config/server.properties`. Now also bigger messages work :).","body":"Ok, you and user2720864 were correct. I had only set the <code>message.max.bytes</code> in the source code. But I have to set these values in the configuration of the Kafka server <code>config&#47;server.properties</code>. Now also bigger messages work :)."},{"owner":{"account_id":332422,"reputation":1916,"user_id":657723,"accept_rate":60,"display_name":"Ivan Balashov"},"score":4,"creation_date":1408392385,"post_id":21343878,"comment_id":39563125,"body_markdown":"Are there any known disadvantages setting these values too high?","body":"Are there any known disadvantages setting these values too high?"},{"owner":{"account_id":2699530,"reputation":3756,"user_id":2487927,"display_name":"laughing_man"},"score":16,"creation_date":1408403589,"post_id":21343878,"comment_id":39567417,"body_markdown":"Yes. On the consumer side, you allocate `fetch.message.max.bytes` memory for EACH partition. This means that if you use a huge number for `fetch.message.max.bytes` combined with a large number of partitions, it will consume a lot of memory. In fact, since the replication process between the brokers is also a specialized consumer, this will also consume memory on the brokers.","body":"Yes. On the consumer side, you allocate <code>fetch.message.max.bytes</code> memory for EACH partition. This means that if you use a huge number for <code>fetch.message.max.bytes</code> combined with a large number of partitions, it will consume a lot of memory. In fact, since the replication process between the brokers is also a specialized consumer, this will also consume memory on the brokers."},{"owner":{"account_id":5801078,"reputation":1241,"user_id":4575227,"accept_rate":50,"display_name":"Kedar Parikh"},"score":0,"creation_date":1440604144,"post_id":21343878,"comment_id":52344790,"body_markdown":"Post suggested changes, the consumer isnt able to consume the message http://stackoverflow.com/questions/32231095/kafka-kafka-common-messagesizetoolargeexception-at-consumer any ideas?","body":"Post suggested changes, the consumer isnt able to consume the message <a href=\"http://stackoverflow.com/questions/32231095/kafka-kafka-common-messagesizetoolargeexception-at-consumer\" title=\"kafka kafka common messagesizetoolargeexception at consumer\">stackoverflow.com/questions/32231095/&hellip;</a> any ideas?"},{"owner":{"account_id":5801078,"reputation":1241,"user_id":4575227,"accept_rate":50,"display_name":"Kedar Parikh"},"score":0,"creation_date":1440653695,"post_id":21343878,"comment_id":52364122,"body_markdown":"fetch.message.max.bytes is to be added to consumer.properties","body":"fetch.message.max.bytes is to be added to consumer.properties"},{"owner":{"account_id":227595,"reputation":761,"user_id":489363,"display_name":"Peter Davis"},"score":3,"creation_date":1463762461,"post_id":21343878,"comment_id":62219063,"body_markdown":"Note there is also a `max.message.bytes` configuration *per-topic* which can be lower than the broker&#39;s `message.max.bytes`.","body":"Note there is also a <code>max.message.bytes</code> configuration <i>per-topic</i> which can be lower than the broker&#39;s <code>message.max.bytes</code>."},{"owner":{"account_id":9271624,"reputation":542,"user_id":6885397,"display_name":"bluu"},"score":3,"creation_date":1544807159,"post_id":21343878,"comment_id":94419582,"body_markdown":"According to official doc, the parameters on the consumer side and those regarding the replication between brokers `/.*fetch.*bytes/` don&#39;t seem to be hard limits: &quot;This is not an absolute maximum, if [...] larger than this value, the record batch will still be returned to ensure that progress can be made.&quot;","body":"According to official doc, the parameters on the consumer side and those regarding the replication between brokers <code>&#47;.*fetch.*bytes&#47;</code> don&#39;t seem to be hard limits: &quot;This is not an absolute maximum, if [...] larger than this value, the record batch will still be returned to ensure that progress can be made.&quot;"},{"owner":{"account_id":190269,"reputation":18134,"user_id":430128,"accept_rate":78,"display_name":"Raman"},"score":1,"creation_date":1556561724,"post_id":21343878,"comment_id":98472822,"body_markdown":"As of Kafka 0.10.1.0, the response and partition limits *do not* have to be equal to or larger than the message size limit, as the fetch logic now accepts individual messages even if they exceed the fetch size limit. See  http://kafka.apache.org/documentation/#upgrade_1010_notable.","body":"As of Kafka 0.10.1.0, the response and partition limits <i>do not</i> have to be equal to or larger than the message size limit, as the fetch logic now accepts individual messages even if they exceed the fetch size limit. See  <a href=\"http://kafka.apache.org/documentation/#upgrade_1010_notable\" rel=\"nofollow noreferrer\">kafka.apache.org/documentation/#upgrade_1010_notable</a>."},{"owner":{"account_id":60171,"reputation":115485,"user_id":179850,"accept_rate":100,"display_name":"Gray"},"score":1,"creation_date":1567003460,"post_id":21343878,"comment_id":101834094,"body_markdown":"Please consider editing your answer.  I&#39;m pretty sure that `fetch.message.max.bytes` is not a read limit but rather a batch size config.  Messages larger than that will still be returned.","body":"Please consider editing your answer.  I&#39;m pretty sure that <code>fetch.message.max.bytes</code> is not a read limit but rather a batch size config.  Messages larger than that will still be returned."},{"owner":{"account_id":12239426,"reputation":1851,"user_id":8932910,"display_name":"jack"},"score":0,"creation_date":1567020944,"post_id":21343878,"comment_id":101841923,"body_markdown":"Hi, do you also need to set the `batch.size` and `linger.ms` on the producer side? https://www.cloudera.com/documentation/kafka/latest/topics/kafka_performance.html","body":"Hi, do you also need to set the <code>batch.size</code> and <code>linger.ms</code> on the producer side? <a href=\"https://www.cloudera.com/documentation/kafka/latest/topics/kafka_performance.html\" rel=\"nofollow noreferrer\">cloudera.com/documentation/kafka/latest/topics/&hellip;</a>"},{"owner":{"account_id":133593,"reputation":6983,"user_id":335062,"accept_rate":56,"display_name":"codebased"},"score":0,"creation_date":1669301816,"post_id":21343878,"comment_id":131617667,"body_markdown":"Change Kafka Configuration (default is 1 MB)\n\n(example 10 MB) \n\n- Topic Side: modify max.message.bytes=10485880\n- Broker-Level, set max replication fetch size  (example 10 MB) replica.fetch.max.bytes=10485880 &amp; message.max.bytes=10485880\n- Consumer side: max.partition.fetch.bytes=10485880\n- Producer side : max.request.size=10485880","body":"Change Kafka Configuration (default is 1 MB)  (example 10 MB)   - Topic Side: modify max.message.bytes=10485880 - Broker-Level, set max replication fetch size  (example 10 MB) replica.fetch.max.bytes=10485880 &amp; message.max.bytes=10485880 - Consumer side: max.partition.fetch.bytes=10485880 - Producer side : max.request.size=10485880"}],"tags":[],"owner":{"account_id":2699530,"reputation":3756,"user_id":2487927,"display_name":"laughing_man"},"comment_count":11,"down_vote_count":0,"up_vote_count":267,"is_accepted":true,"score":267,"last_activity_date":1463769267,"creation_date":1390603602,"answer_id":21343878,"question_id":21020347,"body_markdown":"You need to adjust three (or four) properties:\r\n\r\n - Consumer side:`fetch.message.max.bytes` - this will determine the largest size of a message that can be fetched by the consumer.\r\n - Broker side: `replica.fetch.max.bytes` - this will allow for the replicas in the brokers to send messages within the cluster and make sure the messages are replicated correctly. If this is too small, then the message will never be replicated, and therefore, the consumer will never see the message because the message will never be committed (fully replicated).\r\n - Broker side: `message.max.bytes` - this is the largest size of the message that can be received by the broker from a producer.\r\n - Broker side (per topic): `max.message.bytes` - this is the largest size of the message the broker will allow to be appended to the topic. This size is validated pre-compression. (Defaults to broker&#39;s `message.max.bytes`.)\r\n\r\n\r\nI found out the hard way about number 2 - you don&#39;t get ANY exceptions, messages, or warnings from Kafka, so be sure to consider this when you are sending large messages.","title":"How can I send large messages with Kafka (over 15MB)?","body":"<p>You need to adjust three (or four) properties:</p>\n\n<ul>\n<li>Consumer side:<code>fetch.message.max.bytes</code> - this will determine the largest size of a message that can be fetched by the consumer.</li>\n<li>Broker side: <code>replica.fetch.max.bytes</code> - this will allow for the replicas in the brokers to send messages within the cluster and make sure the messages are replicated correctly. If this is too small, then the message will never be replicated, and therefore, the consumer will never see the message because the message will never be committed (fully replicated).</li>\n<li>Broker side: <code>message.max.bytes</code> - this is the largest size of the message that can be received by the broker from a producer.</li>\n<li>Broker side (per topic): <code>max.message.bytes</code> - this is the largest size of the message the broker will allow to be appended to the topic. This size is validated pre-compression. (Defaults to broker's <code>message.max.bytes</code>.)</li>\n</ul>\n\n<p>I found out the hard way about number 2 - you don't get ANY exceptions, messages, or warnings from Kafka, so be sure to consider this when you are sending large messages.</p>\n"},{"comments":[{"owner":{"account_id":3218966,"reputation":2868,"user_id":2716837,"accept_rate":58,"display_name":"Ziggy Eunicien"},"score":1,"creation_date":1399594109,"post_id":21825799,"comment_id":36141518,"body_markdown":"for the commandline consumer, I need to use the --fetch-size=&lt;bytes&gt; flag.  It doesn&#39;t seem to read the consumer.properties file (kafka 0.8.1) .  I would also recommend turning on compression from the producer side using the compression.codec option.","body":"for the commandline consumer, I need to use the --fetch-size=&lt;bytes&gt; flag.  It doesn&#39;t seem to read the consumer.properties file (kafka 0.8.1) .  I would also recommend turning on compression from the producer side using the compression.codec option."},{"owner":{"account_id":314523,"reputation":1841,"user_id":629737,"accept_rate":75,"display_name":"James"},"score":0,"creation_date":1428118364,"post_id":21825799,"comment_id":47052771,"body_markdown":"Ziggy&#39;s comment worked for me kafka 0.8.1.1.  Thank you!","body":"Ziggy&#39;s comment worked for me kafka 0.8.1.1.  Thank you!"},{"owner":{"account_id":1250747,"reputation":12431,"user_id":1640490,"accept_rate":92,"display_name":"nano_nano"},"score":1,"creation_date":1466165102,"post_id":21825799,"comment_id":63217120,"body_markdown":"could it be that fetch.message.max.bytes is replaced by max.partition.fetch.bytes in ConsumerConfig?","body":"could it be that fetch.message.max.bytes is replaced by max.partition.fetch.bytes in ConsumerConfig?"}],"tags":[],"owner":{"account_id":3006053,"reputation":635,"user_id":2550587,"accept_rate":44,"display_name":"user2550587"},"comment_count":3,"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1392631018,"creation_date":1392631018,"answer_id":21825799,"question_id":21020347,"body_markdown":"You need to override the following properties:\r\n\r\n**Broker Configs($KAFKA_HOME/config/server.properties)**\r\n\r\n - replica.fetch.max.bytes\r\n - message.max.bytes\r\n\r\n**Consumer Configs($KAFKA_HOME/config/consumer.properties)** &lt;br/&gt;\r\n*This step didn&#39;t work for me. I add it to the consumer app and it was working fine*\r\n\r\n - fetch.message.max.bytes\r\n\r\nRestart the server.\r\n\r\nlook at this documentation for more info:\r\nhttp://kafka.apache.org/08/configuration.html","title":"How can I send large messages with Kafka (over 15MB)?","body":"<p>You need to override the following properties:</p>\n\n<p><strong>Broker Configs($KAFKA_HOME/config/server.properties)</strong></p>\n\n<ul>\n<li>replica.fetch.max.bytes</li>\n<li>message.max.bytes</li>\n</ul>\n\n<p><strong>Consumer Configs($KAFKA_HOME/config/consumer.properties)</strong> <br/>\n<em>This step didn't work for me. I add it to the consumer app and it was working fine</em></p>\n\n<ul>\n<li>fetch.message.max.bytes</li>\n</ul>\n\n<p>Restart the server.</p>\n\n<p>look at this documentation for more info:\n<a href=\"http://kafka.apache.org/08/configuration.html\" rel=\"noreferrer\">http://kafka.apache.org/08/configuration.html</a></p>\n"},{"comments":[{"owner":{"account_id":1250747,"reputation":12431,"user_id":1640490,"accept_rate":92,"display_name":"nano_nano"},"score":2,"creation_date":1466165071,"post_id":32517158,"comment_id":63217093,"body_markdown":"could it be that fetch.message.max.bytes is replaced by max.partition.fetch.bytes in ConsumerConfig?","body":"could it be that fetch.message.max.bytes is replaced by max.partition.fetch.bytes in ConsumerConfig?"},{"owner":{"account_id":4373887,"reputation":117,"user_id":3567383,"accept_rate":57,"display_name":"hexagon"},"score":1,"creation_date":1642552730,"post_id":32517158,"comment_id":125099881,"body_markdown":"you don&#39;t need to change the producer then ?","body":"you don&#39;t need to change the producer then ?"}],"tags":[],"owner":{"account_id":6936348,"reputation":221,"user_id":5324125,"display_name":"Ravi"},"comment_count":2,"down_vote_count":0,"up_vote_count":22,"is_accepted":false,"score":22,"last_activity_date":1562686852,"creation_date":1441953822,"answer_id":32517158,"question_id":21020347,"body_markdown":"The idea is to have equal size of message being sent from Kafka Producer to Kafka Broker and then received by Kafka Consumer i.e.\r\n\r\n**Kafka producer --&gt; Kafka Broker --&gt; Kafka Consumer**\r\n\r\nSuppose if the requirement is to send 15MB of message, then the _Producer_, the _Broker_ and the _Consumer_, all three, needs to be in sync. \r\n\r\n\r\n**Kafka Producer** sends 15 MB **--&gt;** **Kafka Broker** Allows/Stores 15 MB **--&gt;** **Kafka Consumer** receives 15 MB \r\n\r\nThe setting therefore should be:\r\n\r\na) on Broker:\r\n```\r\nmessage.max.bytes=15728640 \r\nreplica.fetch.max.bytes=15728640\r\n```\r\n\r\nb) on Consumer:\r\n```\r\nfetch.message.max.bytes=15728640\r\n```","title":"How can I send large messages with Kafka (over 15MB)?","body":"<p>The idea is to have equal size of message being sent from Kafka Producer to Kafka Broker and then received by Kafka Consumer i.e.</p>\n\n<p><strong>Kafka producer --> Kafka Broker --> Kafka Consumer</strong></p>\n\n<p>Suppose if the requirement is to send 15MB of message, then the <em>Producer</em>, the <em>Broker</em> and the <em>Consumer</em>, all three, needs to be in sync. </p>\n\n<p><strong>Kafka Producer</strong> sends 15 MB <strong>--></strong> <strong>Kafka Broker</strong> Allows/Stores 15 MB <strong>--></strong> <strong>Kafka Consumer</strong> receives 15 MB </p>\n\n<p>The setting therefore should be:</p>\n\n<p>a) on Broker:</p>\n\n<pre><code>message.max.bytes=15728640 \nreplica.fetch.max.bytes=15728640\n</code></pre>\n\n<p>b) on Consumer:</p>\n\n<pre><code>fetch.message.max.bytes=15728640\n</code></pre>\n"},{"comments":[{"owner":{"account_id":147775,"reputation":343,"user_id":2363529,"display_name":"Kostas"},"score":2,"creation_date":1490239020,"post_id":39026744,"comment_id":73026983,"body_markdown":"Do you know why `message.max.bytes` needs to be smaller than `replica.fetch.max.bytes`?","body":"Do you know why <code>message.max.bytes</code> needs to be smaller than <code>replica.fetch.max.bytes</code>?"},{"owner":{"account_id":1810110,"reputation":2486,"user_id":1646364,"accept_rate":93,"display_name":"Sascha Vetter"},"score":3,"creation_date":1490293950,"post_id":39026744,"comment_id":73060400,"body_markdown":"&quot;**replica.fetch.max.bytes** (default: 1MB)  Maximum size of data that a broker can replicate. This has to be larger than **message.max.bytes**, or\na broker will accept messages and fail to replicate them. Leading to potential data loss.&quot; Source: [handling-large-messages-kafka](http://ingest.tips/2015/01/21/handling-large-messages-kafka/)","body":"&quot;<b>replica.fetch.max.bytes</b> (default: 1MB)  Maximum size of data that a broker can replicate. This has to be larger than <b>message.max.bytes</b>, or a broker will accept messages and fail to replicate them. Leading to potential data loss.&quot; Source: <a href=\"http://ingest.tips/2015/01/21/handling-large-messages-kafka/\" rel=\"nofollow noreferrer\">handling-large-messages-kafka</a>"},{"owner":{"account_id":147775,"reputation":343,"user_id":2363529,"display_name":"Kostas"},"score":3,"creation_date":1490318998,"post_id":39026744,"comment_id":73071229,"body_markdown":"Thank you for getting back to me with a link. This seems to echo what the [Cloudera guide](https://www.cloudera.com/documentation/kafka/latest/topics/kafka_performance.html) suggests as well. Both of these however are wrong - notice that they don&#39;t offer any technical reason as to _why_ `replica.fetch.max.bytes` should be strictly larger to `message.max.bytes`. A Confluent employee [confirmed earlier today](https://lists.apache.org/thread.html/dc9c636dd0b4b1bfe6a0310b6e550ebf71ef6b197910ab40d7500bca@%3Cusers.kafka.apache.org%3E) what I suspected: that the two quantities can, in fact, be equal.","body":"Thank you for getting back to me with a link. This seems to echo what the <a href=\"https://www.cloudera.com/documentation/kafka/latest/topics/kafka_performance.html\" rel=\"nofollow noreferrer\">Cloudera guide</a> suggests as well. Both of these however are wrong - notice that they don&#39;t offer any technical reason as to <i>why</i> <code>replica.fetch.max.bytes</code> should be strictly larger to <code>message.max.bytes</code>. A Confluent employee <a href=\"https://lists.apache.org/thread.html/dc9c636dd0b4b1bfe6a0310b6e550ebf71ef6b197910ab40d7500bca@%3Cusers.kafka.apache.org%3E\" rel=\"nofollow noreferrer\">confirmed earlier today</a> what I suspected: that the two quantities can, in fact, be equal."},{"owner":{"account_id":147775,"reputation":343,"user_id":2363529,"display_name":"Kostas"},"score":0,"creation_date":1490319169,"post_id":39026744,"comment_id":73071269,"body_markdown":"Ugh. I just realized that your link points to an article written by Gwen, who _also_ works for Confluent. So we seem to have an odd disagreement here. I&#39;ll post on the kafka-users mailing list and see what&#39;s going on. I&#39;ll update this thread with my findings.","body":"Ugh. I just realized that your link points to an article written by Gwen, who <i>also</i> works for Confluent. So we seem to have an odd disagreement here. I&#39;ll post on the kafka-users mailing list and see what&#39;s going on. I&#39;ll update this thread with my findings."},{"owner":{"account_id":1810110,"reputation":2486,"user_id":1646364,"accept_rate":93,"display_name":"Sascha Vetter"},"score":2,"creation_date":1493329742,"post_id":39026744,"comment_id":74383813,"body_markdown":"Are there any updates regarding `message.max.bytes&lt;replica.fetch.max.bytes` or `message.max.bytes=replica.fetch.max.bytes` @Kostas?","body":"Are there any updates regarding <code>message.max.bytes&lt;replica.fetch.max.bytes</code> or <code>message.max.bytes=replica.fetch.max.bytes</code> @Kostas?"},{"owner":{"account_id":147775,"reputation":343,"user_id":2363529,"display_name":"Kostas"},"score":3,"creation_date":1493356747,"post_id":39026744,"comment_id":74391115,"body_markdown":"Yes, they can be equal: https://www.mail-archive.com/users@kafka.apache.org/msg25494.html (Ismael works for Confluent)","body":"Yes, they can be equal: <a href=\"https://www.mail-archive.com/users@kafka.apache.org/msg25494.html\" rel=\"nofollow noreferrer\">mail-archive.com/users@kafka.apache.org/msg25494.html</a> (Ismael works for Confluent)"}],"tags":[],"owner":{"account_id":1810110,"reputation":2486,"user_id":1646364,"accept_rate":93,"display_name":"Sascha Vetter"},"comment_count":6,"down_vote_count":0,"up_vote_count":72,"is_accepted":false,"score":72,"last_activity_date":1493415793,"creation_date":1471551201,"answer_id":39026744,"question_id":21020347,"body_markdown":"Minor changes required for **Kafka 0.10** and the [new consumer][1] compared to [laughing_man&#39;s answer][2]:\r\n\r\n - Broker: No changes, you still need to increase properties `message.max.bytes` and `replica.fetch.max.bytes`. `message.max.bytes` has to be equal or smaller(*) than `replica.fetch.max.bytes`.\r\n - Producer: Increase `max.request.size` to send the larger message.\r\n - Consumer: Increase `max.partition.fetch.bytes` to receive larger messages.\r\n\r\n(*) Read the comments to learn more about `message.max.bytes`&lt;=`replica.fetch.max.bytes`\r\n\r\n  [1]: http://kafka.apache.org/documentation.html#newconsumerconfigs\r\n  [2]: https://stackoverflow.com/a/21343878/1646364","title":"How can I send large messages with Kafka (over 15MB)?","body":"<p>Minor changes required for <strong>Kafka 0.10</strong> and the <a href=\"http://kafka.apache.org/documentation.html#newconsumerconfigs\" rel=\"noreferrer\">new consumer</a> compared to <a href=\"https://stackoverflow.com/a/21343878/1646364\">laughing_man's answer</a>:</p>\n\n<ul>\n<li>Broker: No changes, you still need to increase properties <code>message.max.bytes</code> and <code>replica.fetch.max.bytes</code>. <code>message.max.bytes</code> has to be equal or smaller(*) than <code>replica.fetch.max.bytes</code>.</li>\n<li>Producer: Increase <code>max.request.size</code> to send the larger message.</li>\n<li>Consumer: Increase <code>max.partition.fetch.bytes</code> to receive larger messages.</li>\n</ul>\n\n<p>(*) Read the comments to learn more about <code>message.max.bytes</code>&lt;=<code>replica.fetch.max.bytes</code></p>\n"},{"comments":[{"owner":{"account_id":1035313,"reputation":574,"user_id":1042763,"display_name":"calloc_org"},"score":3,"creation_date":1594300315,"post_id":53317502,"comment_id":111082296,"body_markdown":"Kafka works with large messages, absolutely no issue. The intro page on the Kafka home page even references it as a storage system.","body":"Kafka works with large messages, absolutely no issue. The intro page on the Kafka home page even references it as a storage system."},{"owner":{"account_id":5669,"reputation":45222,"user_id":9266,"accept_rate":63,"display_name":"Jeremy"},"score":0,"creation_date":1601614585,"post_id":53317502,"comment_id":113467225,"body_markdown":"@Bhanu Hoysala - I agee large messages should be persisted to storage then a reference sent in the message.  That being said,  how do you guarantee that both the data gets written and the  reference message gets pushed atomically? Both such succeed or neither.","body":"@Bhanu Hoysala - I agee large messages should be persisted to storage then a reference sent in the message.  That being said,  how do you guarantee that both the data gets written and the  reference message gets pushed atomically? Both such succeed or neither."},{"owner":{"account_id":2471950,"reputation":1483,"user_id":2153576,"accept_rate":50,"display_name":"Player_Neo"},"score":0,"creation_date":1601741129,"post_id":53317502,"comment_id":113502505,"body_markdown":"@Jeremy We need to have another topic/queue listing to the changes done to the bucket (we can configure to get the notification for only create event). \n\nIn a success case, we will get the message according to the configuration (You do not receive event notifications from failed operations in S3). \n\nIn a failed case, the file uploading service will know whether the write is success or not (this is a synchronous operation).\nhttps://docs.aws.amazon.com/AmazonS3/latest/dev/NotificationHowTo.html\n\nDepends on the Broker &amp; Storage combinations various kinds of integrations can be done.","body":"@Jeremy We need to have another topic/queue listing to the changes done to the bucket (we can configure to get the notification for only create event).   In a success case, we will get the message according to the configuration (You do not receive event notifications from failed operations in S3).   In a failed case, the file uploading service will know whether the write is success or not (this is a synchronous operation). <a href=\"https://docs.aws.amazon.com/AmazonS3/latest/dev/NotificationHowTo.html\" rel=\"nofollow noreferrer\">docs.aws.amazon.com/AmazonS3/latest/dev/NotificationHowTo.ht&zwnj;&#8203;ml</a>  Depends on the Broker &amp; Storage combinations various kinds of integrations can be done."},{"owner":{"account_id":1400303,"reputation":873,"user_id":1329213,"accept_rate":100,"display_name":"Rajdeep Siddhapura"},"score":1,"creation_date":1641895279,"post_id":53317502,"comment_id":124920950,"body_markdown":"@Player_Neo, you said that &quot;Kafka isnt meant to handle large messages.&quot;. Could you also throw light on what are the impacts of increasing message size?","body":"@Player_Neo, you said that &quot;Kafka isnt meant to handle large messages.&quot;. Could you also throw light on what are the impacts of increasing message size?"}],"tags":[],"owner":{"account_id":2471950,"reputation":1483,"user_id":2153576,"accept_rate":50,"display_name":"Player_Neo"},"comment_count":4,"down_vote_count":3,"up_vote_count":41,"is_accepted":false,"score":38,"last_activity_date":1627596455,"creation_date":1542278201,"answer_id":53317502,"question_id":21020347,"body_markdown":"The answer from @laughing_man is quite accurate. But still, I wanted to give a recommendation which I learned from Kafka expert [Stephane Maarek][1]. We actively applied this solution in our live systems.\r\n\r\n**Kafka isnt meant to handle large messages.**\r\n\r\nYour API should use cloud storage (for example, AWS S3) and simply push a reference to S3 to Kafka or any other message broker. You&#39;ll need to find a place to save your data, whether it can be a&#160;network drive or something else entirely, but it shouldn&#39;t be a message broker.\r\n\r\nIf you don&#39;t want to proceed with the recommended and reliable solution above,\r\n\r\nThe message max size is 1MB (the setting in your brokers is called `message.max.bytes`) [Apache Kafka][2]. If you really needed it badly, you could increase that size and make sure to increase the network buffers for your producers and consumers.\r\n\r\nAnd if you really care about splitting your message, make sure each message split has the exact same key so that it gets pushed to the same partition, and your message content should report a part id so that your consumer can fully reconstruct the message. \r\n\r\nIf the message is text-based try to compress the data, which may reduce the data size, but not magically.\r\n\r\nAgain, you have to use an external system to store that data and just push an external reference to Kafka. That is a very common architecture and one you should go with and widely accepted. \r\n\r\n**Keep that in mind Kafka works best only if the messages are huge in amount but not in size.**\r\n\r\nSource: [https://www.quora.com/How-do-I-send-Large-messages-80-MB-in-Kafka][3]\r\n\r\n\r\n  [1]: https://medium.com/@stephane.maarek\r\n  [2]: https://kafka.apache.org/documentation/#brokerconfigs\r\n  [3]: https://www.quora.com/How-do-I-send-Large-messages-80-MB-in-Kafka","title":"How can I send large messages with Kafka (over 15MB)?","body":"<p>The answer from @laughing_man is quite accurate. But still, I wanted to give a recommendation which I learned from Kafka expert <a href=\"https://medium.com/@stephane.maarek\" rel=\"noreferrer\">Stephane Maarek</a>. We actively applied this solution in our live systems.</p>\n<p><strong>Kafka isnt meant to handle large messages.</strong></p>\n<p>Your API should use cloud storage (for example, AWS S3) and simply push a reference to S3 to Kafka or any other message broker. You'll need to find a place to save your data, whether it can be anetwork drive or something else entirely, but it shouldn't be a message broker.</p>\n<p>If you don't want to proceed with the recommended and reliable solution above,</p>\n<p>The message max size is 1MB (the setting in your brokers is called <code>message.max.bytes</code>) <a href=\"https://kafka.apache.org/documentation/#brokerconfigs\" rel=\"noreferrer\">Apache Kafka</a>. If you really needed it badly, you could increase that size and make sure to increase the network buffers for your producers and consumers.</p>\n<p>And if you really care about splitting your message, make sure each message split has the exact same key so that it gets pushed to the same partition, and your message content should report a part id so that your consumer can fully reconstruct the message.</p>\n<p>If the message is text-based try to compress the data, which may reduce the data size, but not magically.</p>\n<p>Again, you have to use an external system to store that data and just push an external reference to Kafka. That is a very common architecture and one you should go with and widely accepted.</p>\n<p><strong>Keep that in mind Kafka works best only if the messages are huge in amount but not in size.</strong></p>\n<p>Source: <a href=\"https://www.quora.com/How-do-I-send-Large-messages-80-MB-in-Kafka\" rel=\"noreferrer\">https://www.quora.com/How-do-I-send-Large-messages-80-MB-in-Kafka</a></p>\n"},{"tags":[],"owner":{"account_id":10412283,"reputation":831,"user_id":7677338,"accept_rate":25,"display_name":"informer"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1669724111,"creation_date":1591129527,"answer_id":62160832,"question_id":21020347,"body_markdown":"For people using landoop kafka:\r\nYou can pass the config values in the environment variables like:\r\n\r\n    docker run -d --rm -p 2181:2181 -p 3030:3030 -p 8081-8083:8081-8083  -p 9581-9585:9581-9585 -p 9092:9092\r\n     -e KAFKA_TOPIC_MAX_MESSAGE_BYTES=15728640 -e KAFKA_REPLICA_FETCH_MAX_BYTES=15728640  landoop/fast-data-dev:latest `\r\n\r\nThis sets `topic.max.message.bytes` and `replica.fetch.max.bytes` on the broker.\r\n\r\nAnd if you&#39;re using `rdkafka` then pass the `message.max.bytes` in the producer config like:\r\n\r\n      const producer = new Kafka.Producer({\r\n            &#39;metadata.broker.list&#39;: &#39;localhost:9092&#39;,\r\n            &#39;message.max.bytes&#39;: &#39;15728640&#39;,\r\n            &#39;dr_cb&#39;: true\r\n        });\r\n\r\nSimilarly, for the consumer,\r\n       \r\n      const kafkaConf = {\r\n       &quot;group.id&quot;: &quot;librd-test&quot;,\r\n       &quot;fetch.message.max.bytes&quot;:&quot;15728640&quot;,\r\n       ... .. }                                                                                                                                                                                                                                                      ","title":"How can I send large messages with Kafka (over 15MB)?","body":"<p>For people using landoop kafka:\nYou can pass the config values in the environment variables like:</p>\n<pre><code>docker run -d --rm -p 2181:2181 -p 3030:3030 -p 8081-8083:8081-8083  -p 9581-9585:9581-9585 -p 9092:9092\n -e KAFKA_TOPIC_MAX_MESSAGE_BYTES=15728640 -e KAFKA_REPLICA_FETCH_MAX_BYTES=15728640  landoop/fast-data-dev:latest `\n</code></pre>\n<p>This sets <code>topic.max.message.bytes</code> and <code>replica.fetch.max.bytes</code> on the broker.</p>\n<p>And if you're using <code>rdkafka</code> then pass the <code>message.max.bytes</code> in the producer config like:</p>\n<pre><code>  const producer = new Kafka.Producer({\n        'metadata.broker.list': 'localhost:9092',\n        'message.max.bytes': '15728640',\n        'dr_cb': true\n    });\n</code></pre>\n<p>Similarly, for the consumer,</p>\n<pre><code>  const kafkaConf = {\n   &quot;group.id&quot;: &quot;librd-test&quot;,\n   &quot;fetch.message.max.bytes&quot;:&quot;15728640&quot;,\n   ... .. }                                                                                                                                                                                                                                                      \n</code></pre>\n"},{"tags":[],"owner":{"account_id":14983151,"reputation":570,"user_id":10816587,"display_name":"MichaelCkr"},"comment_count":0,"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1622117943,"creation_date":1622117943,"answer_id":67721976,"question_id":21020347,"body_markdown":"I think, most of the answers here are kind of outdated or not entirely complete.\r\n\r\nTo refer on the [answer of Sacha Vetter](https://stackoverflow.com/a/39026744/10816587) (with the update for **Kafka 0.10**), I&#39;d like to provide some additional Information and links to the official documentation.\r\n\r\n-----\r\n\r\nProducer Configuration:\r\n\r\n - [``max.request.size`` (Link)](https://kafka.apache.org/documentation/#producerconfigs_max.request.size) has to be increased for files bigger than 1 MB, otherwise they are rejected\r\n\r\nBroker/Topic configuration:\r\n\r\n - [``message.max.bytes`` (Link)](https://kafka.apache.org/documentation/#brokerconfigs_message.max.bytes) may be set, if one like to increase the message size on broker level. But, from the documentation: *&quot;This can be set per topic with the topic level max.message.bytes config.&quot;*\r\n - [``max.message.bytes`` (Link)](https://kafka.apache.org/documentation/#topicconfigs_max.message.bytes) may be increased, if only one topic should be able to accept lager files. The broker configuration must not be changed.\r\n\r\nI&#39;d always prefer a topic-restricted configuration, due to the fact, that I can configure the topic by myself as a client for the Kafka cluster (e.g. with the [admin client](https://kafka.apache.org/documentation/#adminclientconfigs)). I may not have any influence on the broker configuration itself.\r\n\r\n-----\r\n\r\nIn the answers from above, some more configurations are mentioned as necessary:\r\n\r\n - [``replica.fetch.max.bytes`` (Link)](https://kafka.apache.org/documentation/#brokerconfigs_replica.fetch.max.bytes) (Broker config)\r\n\r\nFrom the documentation: *&quot;This is not an absolute maximum, if the first record batch in the first non-empty partition of the fetch is larger than this value, the record batch will still be returned to ensure that progress can be made.&quot;*\r\n\r\n\r\n - [``max.partition.fetch.bytes`` (Link)](https://kafka.apache.org/documentation/#consumerconfigs_max.partition.fetch.bytes) (Consumer config)\r\n\r\nFrom the documentation: *&quot;Records are fetched in batches by the consumer. If the first record batch in the first non-empty partition of the fetch is larger than this limit, the batch will still be returned to ensure that the consumer can make progress.&quot;*\r\n\r\n - [``fetch.max.bytes`` (Link)](https://kafka.apache.org/documentation/#consumerconfigs_fetch.max.bytes) (Consumer config; not mentioned above, but same category)\r\n\r\nFrom the documentation: *&quot;Records are fetched in batches by the consumer, and if the first record batch in the first non-empty partition of the fetch is larger than this value, the record batch will still be returned to ensure that the consumer can make progress.&quot;*\r\n\r\n-----\r\n\r\n**Conclusion:** The configurations regarding fetching messages are not necessary to change for processing messages, lager than the default values of these configuration (had this tested in a small setup). Probably, the consumer may always get batches of size 1. However, two of the configurations from the first block has to be set, as mentioned in the answers before.\r\n\r\nThis clarification should not tell anything about performance and should not be a recommendation to set or not to set these configuration. The best values has to be evaluated individually depending on the concrete planned throughput and data structure.","title":"How can I send large messages with Kafka (over 15MB)?","body":"<p>I think, most of the answers here are kind of outdated or not entirely complete.</p>\n<p>To refer on the <a href=\"https://stackoverflow.com/a/39026744/10816587\">answer of Sacha Vetter</a> (with the update for <strong>Kafka 0.10</strong>), I'd like to provide some additional Information and links to the official documentation.</p>\n<hr />\n<p>Producer Configuration:</p>\n<ul>\n<li><a href=\"https://kafka.apache.org/documentation/#producerconfigs_max.request.size\" rel=\"noreferrer\"><code>max.request.size</code> (Link)</a> has to be increased for files bigger than 1 MB, otherwise they are rejected</li>\n</ul>\n<p>Broker/Topic configuration:</p>\n<ul>\n<li><a href=\"https://kafka.apache.org/documentation/#brokerconfigs_message.max.bytes\" rel=\"noreferrer\"><code>message.max.bytes</code> (Link)</a> may be set, if one like to increase the message size on broker level. But, from the documentation: <em>&quot;This can be set per topic with the topic level max.message.bytes config.&quot;</em></li>\n<li><a href=\"https://kafka.apache.org/documentation/#topicconfigs_max.message.bytes\" rel=\"noreferrer\"><code>max.message.bytes</code> (Link)</a> may be increased, if only one topic should be able to accept lager files. The broker configuration must not be changed.</li>\n</ul>\n<p>I'd always prefer a topic-restricted configuration, due to the fact, that I can configure the topic by myself as a client for the Kafka cluster (e.g. with the <a href=\"https://kafka.apache.org/documentation/#adminclientconfigs\" rel=\"noreferrer\">admin client</a>). I may not have any influence on the broker configuration itself.</p>\n<hr />\n<p>In the answers from above, some more configurations are mentioned as necessary:</p>\n<ul>\n<li><a href=\"https://kafka.apache.org/documentation/#brokerconfigs_replica.fetch.max.bytes\" rel=\"noreferrer\"><code>replica.fetch.max.bytes</code> (Link)</a> (Broker config)</li>\n</ul>\n<p>From the documentation: <em>&quot;This is not an absolute maximum, if the first record batch in the first non-empty partition of the fetch is larger than this value, the record batch will still be returned to ensure that progress can be made.&quot;</em></p>\n<ul>\n<li><a href=\"https://kafka.apache.org/documentation/#consumerconfigs_max.partition.fetch.bytes\" rel=\"noreferrer\"><code>max.partition.fetch.bytes</code> (Link)</a> (Consumer config)</li>\n</ul>\n<p>From the documentation: <em>&quot;Records are fetched in batches by the consumer. If the first record batch in the first non-empty partition of the fetch is larger than this limit, the batch will still be returned to ensure that the consumer can make progress.&quot;</em></p>\n<ul>\n<li><a href=\"https://kafka.apache.org/documentation/#consumerconfigs_fetch.max.bytes\" rel=\"noreferrer\"><code>fetch.max.bytes</code> (Link)</a> (Consumer config; not mentioned above, but same category)</li>\n</ul>\n<p>From the documentation: <em>&quot;Records are fetched in batches by the consumer, and if the first record batch in the first non-empty partition of the fetch is larger than this value, the record batch will still be returned to ensure that the consumer can make progress.&quot;</em></p>\n<hr />\n<p><strong>Conclusion:</strong> The configurations regarding fetching messages are not necessary to change for processing messages, lager than the default values of these configuration (had this tested in a small setup). Probably, the consumer may always get batches of size 1. However, two of the configurations from the first block has to be set, as mentioned in the answers before.</p>\n<p>This clarification should not tell anything about performance and should not be a recommendation to set or not to set these configuration. The best values has to be evaluated individually depending on the concrete planned throughput and data structure.</p>\n"},{"tags":[],"owner":{"account_id":4003656,"reputation":4304,"user_id":3298964,"display_name":"Tobias Ernst"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1625845374,"creation_date":1625845374,"answer_id":68319460,"question_id":21020347,"body_markdown":"Here is how I achieved successfully sending data up to 100mb using `kafka-python==2.0.2`:\r\n\r\nBroker:\r\n\r\n    consumer = KafkaConsumer(\r\n        ...\r\n        max_partition_fetch_bytes=max_bytes,\r\n        fetch_max_bytes=max_bytes,         \r\n    )\r\n\r\n\r\nProducer (See final solution at the end):\r\n\r\n    producer = KafkaProducer(\r\n        ...\r\n        max_request_size=KafkaSettings.MAX_BYTES,\r\n    )\r\n\r\n\r\nThen:\r\n\r\n\r\n    producer.send(topic, value=data).get()\r\n\r\nAfter sending data like this, the following exception appeared:\r\n\r\n`MessageSizeTooLargeError: The message is n bytes when serialized which is larger than the total memory buffer you have configured with the buffer_memory configuration.`\r\n\r\n\r\nFinally I increased `buffer_memory` (default 32mb) to receive the message on the other end.\r\n\r\n    producer = KafkaProducer(\r\n        ...\r\n        max_request_size=KafkaSettings.MAX_BYTES,\r\n        buffer_memory=KafkaSettings.MAX_BYTES * 3,\r\n    )\r\n","title":"How can I send large messages with Kafka (over 15MB)?","body":"<p>Here is how I achieved successfully sending data up to 100mb using <code>kafka-python==2.0.2</code>:</p>\n<p>Broker:</p>\n<pre><code>consumer = KafkaConsumer(\n    ...\n    max_partition_fetch_bytes=max_bytes,\n    fetch_max_bytes=max_bytes,         \n)\n</code></pre>\n<p>Producer (See final solution at the end):</p>\n<pre><code>producer = KafkaProducer(\n    ...\n    max_request_size=KafkaSettings.MAX_BYTES,\n)\n</code></pre>\n<p>Then:</p>\n<pre><code>producer.send(topic, value=data).get()\n</code></pre>\n<p>After sending data like this, the following exception appeared:</p>\n<p><code>MessageSizeTooLargeError: The message is n bytes when serialized which is larger than the total memory buffer you have configured with the buffer_memory configuration.</code></p>\n<p>Finally I increased <code>buffer_memory</code> (default 32mb) to receive the message on the other end.</p>\n<pre><code>producer = KafkaProducer(\n    ...\n    max_request_size=KafkaSettings.MAX_BYTES,\n    buffer_memory=KafkaSettings.MAX_BYTES * 3,\n)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1137891,"reputation":345,"user_id":1122559,"accept_rate":47,"display_name":"Mandar K"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696835175,"creation_date":1696835175,"answer_id":77256841,"question_id":21020347,"body_markdown":"A better solution I can think of is to store the large messages in an external storage system (like S3 or GCS) and only retain the relevant details for consumers to be able fetch those messages in Kafka Records.","title":"How can I send large messages with Kafka (over 15MB)?","body":"<p>A better solution I can think of is to store the large messages in an external storage system (like S3 or GCS) and only retain the relevant details for consumers to be able fetch those messages in Kafka Records.</p>\n"}],"owner":{"account_id":204382,"reputation":10989,"user_id":517336,"accept_rate":88,"display_name":"Sonson123"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":275710,"favorite_count":0,"down_vote_count":0,"up_vote_count":183,"accepted_answer_id":21343878,"answer_count":10,"score":183,"last_activity_date":1697087344,"creation_date":1389270693,"question_id":21020347,"body_markdown":"I send String-messages to `Kafka V. 0.8` with the Java Producer API.\r\nIf the message size is about 15 MB I get a `MessageSizeTooLargeException`. \r\nI have tried to set `message.max.bytes`to 40 MB, but I still get the exception. Small messages worked without problems.\r\n\r\nThe exception appears in the producer, I don&#39;t have a consumer in this application.\r\n\r\nHow can I get rid of this exception?\r\n\r\n## My example producer config\r\n\r\n    private ProducerConfig kafkaConfig() {\r\n        Properties props = new Properties();\r\n        props.put(&quot;metadata.broker.list&quot;, BROKERS);\r\n        props.put(&quot;serializer.class&quot;, &quot;kafka.serializer.StringEncoder&quot;);\r\n        props.put(&quot;request.required.acks&quot;, &quot;1&quot;);\r\n        props.put(&quot;message.max.bytes&quot;, &quot;&quot; + 1024 * 1024 * 40);\r\n        return new ProducerConfig(props);\r\n    }\r\n\r\n## Error-Log:\r\n\r\n    4709 [main] WARN  kafka.producer.async.DefaultEventHandler  - Produce request with correlation id 214 failed due to [datasift,0]: kafka.common.MessageSizeTooLargeException\r\n    4869 [main] WARN  kafka.producer.async.DefaultEventHandler  - Produce request with    correlation id 217 failed due to [datasift,0]: kafka.common.MessageSizeTooLargeException\r\n    5035 [main] WARN  kafka.producer.async.DefaultEventHandler  - Produce request with   correlation id 220 failed due to [datasift,0]: kafka.common.MessageSizeTooLargeException\r\n    5198 [main] WARN  kafka.producer.async.DefaultEventHandler  - Produce request with correlation id 223 failed due to [datasift,0]: kafka.common.MessageSizeTooLargeException\r\n    5305 [main] ERROR kafka.producer.async.DefaultEventHandler  - Failed to send requests for topics datasift with correlation ids in [213,224]\r\n\r\n    kafka.common.FailedToSendMessageException: Failed to send messages after 3 tries.\r\n\tat kafka.producer.async.DefaultEventHandler.handle(Unknown Source)\r\n\tat kafka.producer.Producer.send(Unknown Source)\r\n\tat kafka.javaapi.producer.Producer.send(Unknown Source)\r\n\r\n","title":"How can I send large messages with Kafka (over 15MB)?","body":"<p>I send String-messages to <code>Kafka V. 0.8</code> with the Java Producer API.\nIf the message size is about 15 MB I get a <code>MessageSizeTooLargeException</code>.\nI have tried to set <code>message.max.bytes</code>to 40 MB, but I still get the exception. Small messages worked without problems.</p>\n<p>The exception appears in the producer, I don't have a consumer in this application.</p>\n<p>How can I get rid of this exception?</p>\n<h2>My example producer config</h2>\n<pre><code>private ProducerConfig kafkaConfig() {\n    Properties props = new Properties();\n    props.put(&quot;metadata.broker.list&quot;, BROKERS);\n    props.put(&quot;serializer.class&quot;, &quot;kafka.serializer.StringEncoder&quot;);\n    props.put(&quot;request.required.acks&quot;, &quot;1&quot;);\n    props.put(&quot;message.max.bytes&quot;, &quot;&quot; + 1024 * 1024 * 40);\n    return new ProducerConfig(props);\n}\n</code></pre>\n<h2>Error-Log:</h2>\n<pre><code>4709 [main] WARN  kafka.producer.async.DefaultEventHandler  - Produce request with correlation id 214 failed due to [datasift,0]: kafka.common.MessageSizeTooLargeException\n4869 [main] WARN  kafka.producer.async.DefaultEventHandler  - Produce request with    correlation id 217 failed due to [datasift,0]: kafka.common.MessageSizeTooLargeException\n5035 [main] WARN  kafka.producer.async.DefaultEventHandler  - Produce request with   correlation id 220 failed due to [datasift,0]: kafka.common.MessageSizeTooLargeException\n5198 [main] WARN  kafka.producer.async.DefaultEventHandler  - Produce request with correlation id 223 failed due to [datasift,0]: kafka.common.MessageSizeTooLargeException\n5305 [main] ERROR kafka.producer.async.DefaultEventHandler  - Failed to send requests for topics datasift with correlation ids in [213,224]\n\nkafka.common.FailedToSendMessageException: Failed to send messages after 3 tries.\nat kafka.producer.async.DefaultEventHandler.handle(Unknown Source)\nat kafka.producer.Producer.send(Unknown Source)\nat kafka.javaapi.producer.Producer.send(Unknown Source)\n</code></pre>\n"},{"tags":["java","kotlin","amazon-connect"],"answers":[{"comments":[{"owner":{"account_id":1552500,"reputation":952,"user_id":1444576,"accept_rate":29,"display_name":"Cipous"},"score":0,"creation_date":1697092635,"post_id":77277815,"comment_id":136236406,"body_markdown":"Thank you. I am wondering if there is already SDK i that is mapping events to java objects.","body":"Thank you. I am wondering if there is already SDK i that is mapping events to java objects."},{"owner":{"account_id":1083222,"reputation":880,"user_id":1079611,"accept_rate":100,"display_name":"Aossey"},"score":0,"creation_date":1697207343,"post_id":77277815,"comment_id":136254799,"body_markdown":"There is not, unfortunately. Since the data is JSON, you can easily use a parser to convert it to a POJO in your application.","body":"There is not, unfortunately. Since the data is JSON, you can easily use a parser to convert it to a POJO in your application."}],"tags":[],"owner":{"account_id":1083222,"reputation":880,"user_id":1079611,"accept_rate":100,"display_name":"Aossey"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1697087091,"creation_date":1697087091,"answer_id":77277815,"question_id":77274646,"body_markdown":"Amazon Connect Agent events are published to an Amazon Kinesis Data Stream (KDS). The KDS is just a storage location for the data, which is essentially a JSON representation of each event. You need to use the Kinesis Client Library (KCL), Kinesis Firehose, or Lambda to get the JSON event data from the KDS. Each KDS record has a payload where you will find the the event JSON. The JSON payload will have properties as described in [this documentation][1].\r\n\r\n\r\n  [1]: https://docs.aws.amazon.com/connect/latest/adminguide/agent-event-stream-model.html","title":"Is there SDK for Agent event streams data model?","body":"<p>Amazon Connect Agent events are published to an Amazon Kinesis Data Stream (KDS). The KDS is just a storage location for the data, which is essentially a JSON representation of each event. You need to use the Kinesis Client Library (KCL), Kinesis Firehose, or Lambda to get the JSON event data from the KDS. Each KDS record has a payload where you will find the the event JSON. The JSON payload will have properties as described in <a href=\"https://docs.aws.amazon.com/connect/latest/adminguide/agent-event-stream-model.html\" rel=\"nofollow noreferrer\">this documentation</a>.</p>\n"}],"owner":{"account_id":1552500,"reputation":952,"user_id":1444576,"accept_rate":29,"display_name":"Cipous"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1697087091,"creation_date":1697039823,"question_id":77274646,"body_markdown":"We would like to consume AWS connect events.\r\nI was hoping there is sdk for [events described][1] but we cannot find anything in [aws java skd][2] nor [kotlin sdk][3]\r\n\r\nWhere could we find SDK that supports Agent and Contact events as they are coming from Kinesis stream?\r\n\r\n  [1]: https://docs.aws.amazon.com/connect/latest/adminguide/agent-event-stream-model.html#AgentEvent\r\n  [2]: https://docs.aws.amazon.com/AWSJavaSDK/latest/javadoc/com/amazonaws/services/connect/model/package-summary.html\r\n  [3]: https://sdk.amazonaws.com/kotlin/api/latest/connect/aws.sdk.kotlin.services.connect.model/index.html","title":"Is there SDK for Agent event streams data model?","body":"<p>We would like to consume AWS connect events.\nI was hoping there is sdk for <a href=\"https://docs.aws.amazon.com/connect/latest/adminguide/agent-event-stream-model.html#AgentEvent\" rel=\"nofollow noreferrer\">events described</a> but we cannot find anything in <a href=\"https://docs.aws.amazon.com/AWSJavaSDK/latest/javadoc/com/amazonaws/services/connect/model/package-summary.html\" rel=\"nofollow noreferrer\">aws java skd</a> nor <a href=\"https://sdk.amazonaws.com/kotlin/api/latest/connect/aws.sdk.kotlin.services.connect.model/index.html\" rel=\"nofollow noreferrer\">kotlin sdk</a></p>\n<p>Where could we find SDK that supports Agent and Contact events as they are coming from Kinesis stream?</p>\n"},{"tags":["java","corretto","java-21"],"comments":[{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1695712138,"post_id":77177393,"comment_id":136057249,"body_markdown":"From the error _&quot;If you would like to submit a bug report, please visit: https://github.com/corretto/corretto-21/issues/&quot;_","body":"From the error <i>&quot;If you would like to submit a bug report, please visit: <a href=\"https://github.com/corretto/corretto-21/issues/\" rel=\"nofollow noreferrer\">github.com/corretto/corretto-21/issues</a>&quot;</i>"},{"owner":{"account_id":2497295,"reputation":3931,"user_id":2173392,"display_name":"pdem"},"score":0,"creation_date":1695712775,"post_id":77177393,"comment_id":136057391,"body_markdown":"Have you tried the openjdk? https://jdk.java.net/21/ Can you provide the reproducer?","body":"Have you tried the openjdk? <a href=\"https://jdk.java.net/21/\" rel=\"nofollow noreferrer\">jdk.java.net/21</a> Can you provide the reproducer?"},{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":0,"creation_date":1695717498,"post_id":77177393,"comment_id":136058313,"body_markdown":"Also from the error: _An error report file with more information is saved as: /[...]/hs_err_pid3580.log_. That file is important if you want to understand what happened.","body":"Also from the error: <i>An error report file with more information is saved as: /[...]/hs_err_pid3580.log</i>. That file is important if you want to understand what happened."}],"answers":[{"tags":[],"owner":{"account_id":1371634,"reputation":4233,"user_id":1306655,"accept_rate":40,"display_name":"Misagh Moayyed"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1697087024,"creation_date":1697087024,"answer_id":77277814,"question_id":77177393,"body_markdown":"The issue had to do with netty native libraries that were not compatible with JDK 21. Netty 4.1.99.Final fixes this.\r\n\r\n&gt; Netty 4.1.99.Final released: We are happy to announce the release of netty 4.1.99.Final. This release fixes a bug which could lead to SIGSERV while running on JDK21+. As JDK21 was recently released and is considered an LTS release we did decided to do this emergency release. Because of the nature of this bug (crashing the JVM) you should upgrade ASAP.\r\n\r\nhttps://netty.io/news/2023/09/21/4-1-99-Final.html\r\n\r\n","title":"Corretto JDK 21 Build 35 crash: [libjvm.so+0x840016] G1ParCopyClosure&lt;(G1Barrier)","body":"<p>The issue had to do with netty native libraries that were not compatible with JDK 21. Netty 4.1.99.Final fixes this.</p>\n<blockquote>\n<p>Netty 4.1.99.Final released: We are happy to announce the release of netty 4.1.99.Final. This release fixes a bug which could lead to SIGSERV while running on JDK21+. As JDK21 was recently released and is considered an LTS release we did decided to do this emergency release. Because of the nature of this bug (crashing the JVM) you should upgrade ASAP.</p>\n</blockquote>\n<p><a href=\"https://netty.io/news/2023/09/21/4-1-99-Final.html\" rel=\"nofollow noreferrer\">https://netty.io/news/2023/09/21/4-1-99-Final.html</a></p>\n"}],"owner":{"account_id":1371634,"reputation":4233,"user_id":1306655,"accept_rate":40,"display_name":"Misagh Moayyed"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":182,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":77277814,"answer_count":1,"score":-2,"last_activity_date":1697087024,"creation_date":1695708783,"question_id":77177393,"body_markdown":"## Questions\r\n\r\n- Have you seen or encountered the error listed below?\r\n- Thoughts or suggestions as to how one might diagnose this?\r\n- If this is a JDK bug, suggestions as to where this might best be reported? \r\n\r\n## Environment\r\n\r\n- Corretto JDK 21 Build 35 (Also tried with Zulu JDK 21 Build 35)\r\n- GitHub Actions CI - Ubuntu 22.04.3 LTS\r\n- Gradle 8.4 RC1\r\n\r\n## Crash\r\n\r\nJava Runtime crashes with the following error: \r\n\r\n\r\n```\r\n#\r\n# A fatal error has been detected by the Java Runtime Environment:\r\n#\r\n#  SIGSEGV (0xb) at pc=0x00007f58e7c40016, pid=3580, tid=3599\r\n#\r\n# JRE version: OpenJDK Runtime Environment Corretto-21.0.0.35.1 (21.0+35) (build 21+35-LTS)\r\n# Java VM: OpenJDK 64-Bit Server VM Corretto-21.0.0.35.1 (21+35-LTS, mixed mode, sharing, tiered, compressed oops, compressed class ptrs, g1 gc, linux-amd64)\r\n# Problematic frame:\r\n# V  [libjvm.so+0x840016]  G1ParCopyClosure&lt;(G1Barrier)0, false&gt;::do_oop(oopDesc**)+0x56\r\n#\r\n# Core dump will be written. Default location: Core dumps may be processed with &quot;/usr/share/apport/apport -p%p -s%s -c%c -d%d -P%P -u%u -g%g -- %E&quot; (or dumping to /home/runner/work/cas/cas/support/cas-server-support-ldap-core/core.3580)\r\n#\r\n# An error report file with more information is saved as:\r\n# /home/runner/work/cas/cas/support/cas-server-support-ldap-core/hs_err_pid3580.log\r\n#\r\n# If you would like to submit a bug report, please visit:\r\n#   https://github.com/corretto/corretto-21/issues/\r\n#\r\n#\r\n# A fatal error has been detected by the Java Runtime Environment:\r\n#\r\n#  SIGSEGV (0xb) at pc=0x00007f0044440016, pid=3611, tid=3615\r\n#\r\n# JRE version: OpenJDK Runtime Environment Corretto-21.0.0.35.1 (21.0+35) (build 21+35-LTS)\r\n# Java VM: OpenJDK 64-Bit Server VM Corretto-21.0.0.35.1 (21+35-LTS, mixed mode, sharing, tiered, compressed oops, compressed class ptrs, g1 gc, linux-amd64)\r\n# Problematic frame:\r\n# V  [libjvm.so+0x840016]  G1ParCopyClosure&lt;(G1Barrier)0, false&gt;::do_oop(oopDesc**)+0x56\r\n#\r\n# Core dump will be written. Default location: Core dumps may be processed with &quot;/usr/share/apport/apport -p%p -s%s -c%c -d%d -P%P -u%u -g%g -- %E&quot; (or dumping to /home/runner/work/cas/cas/support/cas-server-support-ldap/core.3611)\r\n#\r\n# An error report file with more information is saved as:\r\n# /home/runner/work/cas/cas/support/cas-server-support-ldap/hs_err_pid3611.log\r\n#\r\n# If you would like to submit a bug report, please visit:\r\n#   https://github.com/corretto/corretto-21/issues/\r\n```","title":"Corretto JDK 21 Build 35 crash: [libjvm.so+0x840016] G1ParCopyClosure&lt;(G1Barrier)","body":"<h2>Questions</h2>\n<ul>\n<li>Have you seen or encountered the error listed below?</li>\n<li>Thoughts or suggestions as to how one might diagnose this?</li>\n<li>If this is a JDK bug, suggestions as to where this might best be reported?</li>\n</ul>\n<h2>Environment</h2>\n<ul>\n<li>Corretto JDK 21 Build 35 (Also tried with Zulu JDK 21 Build 35)</li>\n<li>GitHub Actions CI - Ubuntu 22.04.3 LTS</li>\n<li>Gradle 8.4 RC1</li>\n</ul>\n<h2>Crash</h2>\n<p>Java Runtime crashes with the following error:</p>\n<pre><code>#\n# A fatal error has been detected by the Java Runtime Environment:\n#\n#  SIGSEGV (0xb) at pc=0x00007f58e7c40016, pid=3580, tid=3599\n#\n# JRE version: OpenJDK Runtime Environment Corretto-21.0.0.35.1 (21.0+35) (build 21+35-LTS)\n# Java VM: OpenJDK 64-Bit Server VM Corretto-21.0.0.35.1 (21+35-LTS, mixed mode, sharing, tiered, compressed oops, compressed class ptrs, g1 gc, linux-amd64)\n# Problematic frame:\n# V  [libjvm.so+0x840016]  G1ParCopyClosure&lt;(G1Barrier)0, false&gt;::do_oop(oopDesc**)+0x56\n#\n# Core dump will be written. Default location: Core dumps may be processed with &quot;/usr/share/apport/apport -p%p -s%s -c%c -d%d -P%P -u%u -g%g -- %E&quot; (or dumping to /home/runner/work/cas/cas/support/cas-server-support-ldap-core/core.3580)\n#\n# An error report file with more information is saved as:\n# /home/runner/work/cas/cas/support/cas-server-support-ldap-core/hs_err_pid3580.log\n#\n# If you would like to submit a bug report, please visit:\n#   https://github.com/corretto/corretto-21/issues/\n#\n#\n# A fatal error has been detected by the Java Runtime Environment:\n#\n#  SIGSEGV (0xb) at pc=0x00007f0044440016, pid=3611, tid=3615\n#\n# JRE version: OpenJDK Runtime Environment Corretto-21.0.0.35.1 (21.0+35) (build 21+35-LTS)\n# Java VM: OpenJDK 64-Bit Server VM Corretto-21.0.0.35.1 (21+35-LTS, mixed mode, sharing, tiered, compressed oops, compressed class ptrs, g1 gc, linux-amd64)\n# Problematic frame:\n# V  [libjvm.so+0x840016]  G1ParCopyClosure&lt;(G1Barrier)0, false&gt;::do_oop(oopDesc**)+0x56\n#\n# Core dump will be written. Default location: Core dumps may be processed with &quot;/usr/share/apport/apport -p%p -s%s -c%c -d%d -P%P -u%u -g%g -- %E&quot; (or dumping to /home/runner/work/cas/cas/support/cas-server-support-ldap/core.3611)\n#\n# An error report file with more information is saved as:\n# /home/runner/work/cas/cas/support/cas-server-support-ldap/hs_err_pid3611.log\n#\n# If you would like to submit a bug report, please visit:\n#   https://github.com/corretto/corretto-21/issues/\n</code></pre>\n"},{"tags":["java","android","android-fragments","android-activity"],"owner":{"account_id":19174752,"reputation":62,"user_id":14007693,"display_name":"alireza"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697087005,"creation_date":1697076259,"question_id":77277287,"body_markdown":"I tried to change [this][1] answer to send data from a fragment to a new activity. But `listener` gets null when activity starts.\r\n\r\nI checked and after the first time activity starts, listener gets valued and works fine.\r\nI know there are better ways to communicate between fragments and activities but for the sake of learning i want to do it this way. Thanks.\r\n\r\nMapsFragment :\r\n    \r\n    private static MapsFragment.onMySignalListener listener;\r\n    public void switchWindow() {\r\n        if (listener == null)\r\n            Toast.makeText(getContext(), &quot;Problem&quot;, Toast.LENGTH_LONG).show();\r\n\r\n        if(listener != null){\r\n            listener.onMySignal(paramImageUrl);\r\n        }\r\n    }\r\n    public interface onMySignalListener {\r\n        void onMySignal(String image_url);\r\n    }\r\n    public static void setOnMySignalListener(MapsFragment.onMySignalListener listener) {\r\n        MapsFragment.listener = listener;\r\n    }\r\n\r\nDestination Activity :\r\n\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n    .\r\n    MapsFragment.setOnMySignalListener(new MapsFragment.onMySignalListener() {\r\n            @Override\r\n            public void onMySignal(String image_url) {\r\n                ImageUrl = image_url;\r\n            }\r\n        });\r\n    }\r\n\r\n somewhere in a button listener in the fragment i call this method\r\n\r\n    switchWindow();\r\n\r\n  [1]: https://stackoverflow.com/a/9097390/14007693","title":"Interface of a fragment in a new activity returns null for the first time","body":"<p>I tried to change <a href=\"https://stackoverflow.com/a/9097390/14007693\">this</a> answer to send data from a fragment to a new activity. But <code>listener</code> gets null when activity starts.</p>\n<p>I checked and after the first time activity starts, listener gets valued and works fine.\nI know there are better ways to communicate between fragments and activities but for the sake of learning i want to do it this way. Thanks.</p>\n<p>MapsFragment :</p>\n<pre><code>private static MapsFragment.onMySignalListener listener;\npublic void switchWindow() {\n    if (listener == null)\n        Toast.makeText(getContext(), &quot;Problem&quot;, Toast.LENGTH_LONG).show();\n\n    if(listener != null){\n        listener.onMySignal(paramImageUrl);\n    }\n}\npublic interface onMySignalListener {\n    void onMySignal(String image_url);\n}\npublic static void setOnMySignalListener(MapsFragment.onMySignalListener listener) {\n    MapsFragment.listener = listener;\n}\n</code></pre>\n<p>Destination Activity :</p>\n<pre><code>protected void onCreate(Bundle savedInstanceState) {\n.\nMapsFragment.setOnMySignalListener(new MapsFragment.onMySignalListener() {\n        @Override\n        public void onMySignal(String image_url) {\n            ImageUrl = image_url;\n        }\n    });\n}\n</code></pre>\n<p>somewhere in a button listener in the fragment i call this method</p>\n<pre><code>switchWindow();\n</code></pre>\n"},{"tags":["java","jpa","interface","repository"],"comments":[{"owner":{"account_id":1806969,"reputation":102,"user_id":1643891,"display_name":"Sup19"},"score":0,"creation_date":1697086708,"post_id":77277445,"comment_id":136235670,"body_markdown":"Does this answer your question? [How are Spring Data repositories actually implemented?](https://stackoverflow.com/questions/38509882/how-are-spring-data-repositories-actually-implemented)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/38509882/how-are-spring-data-repositories-actually-implemented\">How are Spring Data repositories actually implemented?</a>"}],"answers":[{"tags":[],"owner":{"account_id":29653351,"reputation":16,"user_id":22726649,"display_name":"Palash Shah"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1697085357,"creation_date":1697085357,"answer_id":77277736,"question_id":77277445,"body_markdown":"Spring Data JPA generates a dynamic proxy for your repository interface at runtime.\r\nSpring Data JPA analyzes the method names in your repository interface to derive the query it should execute. It uses conventions to translate method names into SQL queries or JPA queries.\r\nSpring Data JPA generates SQL or JPQL (Java Persistence Query Language) queries based on the method names and the structure of your domain model.\r\nSpring Data JPA uses the JPA EntityManager to execute the generated queries. \r\nJPA maps the results of the query to your domain objects, transforming the database rows into Java objects.","title":"JPA repository interface","body":"<p>Spring Data JPA generates a dynamic proxy for your repository interface at runtime.\nSpring Data JPA analyzes the method names in your repository interface to derive the query it should execute. It uses conventions to translate method names into SQL queries or JPA queries.\nSpring Data JPA generates SQL or JPQL (Java Persistence Query Language) queries based on the method names and the structure of your domain model.\nSpring Data JPA uses the JPA EntityManager to execute the generated queries.\nJPA maps the results of the query to your domain objects, transforming the database rows into Java objects.</p>\n"}],"owner":{"account_id":26692607,"reputation":3,"user_id":20300969,"display_name":"Deepak Singh"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77277736,"answer_count":1,"score":0,"last_activity_date":1697085357,"creation_date":1697079881,"question_id":77277445,"body_markdown":"JPA repository is an interface and it&#39;s implemented by some other class. Then how we are able to use JPA repository&#39;s method in our class without implementing it.\r\n\r\nI was using JPA repository&#39;s method but I don&#39;t know how it&#39;s internally working.","title":"JPA repository interface","body":"<p>JPA repository is an interface and it's implemented by some other class. Then how we are able to use JPA repository's method in our class without implementing it.</p>\n<p>I was using JPA repository's method but I don't know how it's internally working.</p>\n"},{"tags":["java","hibernate","hibernate-criteria"],"answers":[{"comments":[{"owner":{"account_id":178183,"reputation":41234,"user_id":409976,"accept_rate":68,"display_name":"Kevin Meredith"},"score":0,"creation_date":1405963810,"post_id":13909409,"comment_id":38627528,"body_markdown":"what if I wanted to add a `Restriction.eq` for `professor.id` equals 1234, i.e. comparing a property directly to a `Long`?","body":"what if I wanted to add a <code>Restriction.eq</code> for <code>professor.id</code> equals 1234, i.e. comparing a property directly to a <code>Long</code>?"},{"owner":{"account_id":1422534,"reputation":138,"user_id":1346875,"display_name":"anubina"},"score":0,"creation_date":1431017189,"post_id":13909409,"comment_id":48325339,"body_markdown":"@KevinMeredith Restrictions.eq(&quot;professor.id&quot;, 1234L)","body":"@KevinMeredith Restrictions.eq(&quot;professor.id&quot;, 1234L)"},{"owner":{"account_id":1585889,"reputation":4070,"user_id":1470257,"accept_rate":62,"display_name":"yiwei"},"score":0,"creation_date":1444929253,"post_id":13909409,"comment_id":54118386,"body_markdown":"Was looking for something like this! Glad this solution still works after 3 years :D","body":"Was looking for something like this! Glad this solution still works after 3 years :D"},{"owner":{"account_id":1318114,"reputation":927,"user_id":1264550,"accept_rate":100,"display_name":"blackwolf"},"score":0,"creation_date":1522243789,"post_id":13909409,"comment_id":86078247,"body_markdown":"createCriteria is deprecated. Update the answer.","body":"createCriteria is deprecated. Update the answer."}],"tags":[],"owner":{"account_id":925302,"reputation":713,"user_id":956197,"accept_rate":67,"display_name":"Teifi"},"comment_count":4,"down_vote_count":0,"up_vote_count":13,"is_accepted":true,"score":13,"last_activity_date":1355726177,"creation_date":1355726177,"answer_id":13909409,"question_id":13858876,"body_markdown":"suppose your tables like that:\r\n\r\n    @Entity\r\n    public class Professor{\r\n        K id;\r\n        List&lt;Student&gt; students;\r\n    }\r\n\r\n    @Entity\r\n    public class Student{\r\n        K profid;\r\n        List&lt;Assignments&gt; assignments;\r\n    }\r\n\r\n    @Entity\r\n    public class Assignments{\r\n        K studentid;\r\n    }\r\n\r\nsimple sample by using alias:\r\n\r\n    Criteria criteria = currentSession.createCriteria(Professor.class, &quot;professor&quot;);\r\n        criteria.createAlias(&quot;professor.students&quot;, &quot;student&quot;);\r\n        criteria.createAlias(&quot;student.assigments&quot;, &quot;assigment&quot;);\r\n        criteria.add(Restrictions.eqProperty(&quot;professor.id&quot;, &quot;student.profid&quot;));\r\n        criteria.add(Restrictions.eqProperty(&quot;assigment.studentid&quot;, &quot;student.profid&quot;));\r\n        criteria.add(Restrictions.eq(&quot;id&quot;, 2411));\r\n    return criteria.list();","title":"Hibernate criteria query multiple criteria","body":"<p>suppose your tables like that:</p>\n\n<pre><code>@Entity\npublic class Professor{\n    K id;\n    List&lt;Student&gt; students;\n}\n\n@Entity\npublic class Student{\n    K profid;\n    List&lt;Assignments&gt; assignments;\n}\n\n@Entity\npublic class Assignments{\n    K studentid;\n}\n</code></pre>\n\n<p>simple sample by using alias:</p>\n\n<pre><code>Criteria criteria = currentSession.createCriteria(Professor.class, \"professor\");\n    criteria.createAlias(\"professor.students\", \"student\");\n    criteria.createAlias(\"student.assigments\", \"assigment\");\n    criteria.add(Restrictions.eqProperty(\"professor.id\", \"student.profid\"));\n    criteria.add(Restrictions.eqProperty(\"assigment.studentid\", \"student.profid\"));\n    criteria.add(Restrictions.eq(\"id\", 2411));\nreturn criteria.list();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11966550,"reputation":1991,"user_id":8756056,"display_name":"Mikhail"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697084412,"creation_date":1697083882,"answer_id":77277672,"question_id":13858876,"body_markdown":"In Kotlin + Spring Data JPA.\r\nIf entities have no relations in your code (@OneToMany, @ManyToOne, @ManyToMany, @OneToOne): \r\n    \r\n    @Entity\r\n    data class Professor(\r\n    \t@Id\r\n        var id: Long?,\r\n    )\r\n    \r\n    @Entity\r\n    data class Student(\r\n    \t@Id\r\n        var id: Long?,\r\n        var professorId: Long,\r\n    )\r\n    \r\n    @Entity\r\n    data class Assignment(\r\n    \t@Id\r\n    \tvar id: Long?,\r\n        var studentId: Long,\r\n    )\r\n    \r\n    data class ResultModel(\r\n    \tval professorId: Long,\r\n        val studentId: Long,\r\n        val assignmentId: Long,\r\n    )\r\n\r\nThe query might be like this:\r\n\r\n    val cb = entityManager.criteriaBuilder\r\n    val query = cb.createQuery(KfoProjectBySearchEntity::class.java)\r\n    val professor = query.from(Professor::class.java)\r\n    val student = query.from(Student::class.java)\r\n    val assignment = query.from(Assignment::class.java)\r\n                 \r\n    query.select(\r\n        cb.construct(\r\n            ResultModel::class.java,\r\n            professor.get&lt;Long&gt;(Professor::id.name),\r\n            student.get&lt;Long&gt;(Student::id.name),\r\n            assignment.get&lt;Long&gt;(Assignment::id.name),\r\n        )\r\n    ).where(\r\n    \tcb.and(\r\n    \t\tcb.equal(\r\n    \t\t    professor.get&lt;Long&gt;(Professor::id.name),\r\n    \t\t    student.get&lt;Long&gt;(Student::professorId.name),\r\n    \t\t),\r\n    \t\tcb.equal(\r\n    \t\t    student.get&lt;Long&gt;(Student::id.name),\r\n    \t\t    assignment.get&lt;Long&gt;(Assignment::studentId.name),\r\n    \t\t),\r\n    \t\tcb.equal(\r\n    \t\t    professor.get&lt;Long&gt;(Professor::id.name),\r\n    \t\t    2411L,\r\n    \t\t),\r\n    \t\t\r\n    \t)\r\n    )\r\n\r\n","title":"Hibernate criteria query multiple criteria","body":"<p>In Kotlin + Spring Data JPA.\nIf entities have no relations in your code (@OneToMany, @ManyToOne, @ManyToMany, @OneToOne):</p>\n<pre><code>@Entity\ndata class Professor(\n    @Id\n    var id: Long?,\n)\n\n@Entity\ndata class Student(\n    @Id\n    var id: Long?,\n    var professorId: Long,\n)\n\n@Entity\ndata class Assignment(\n    @Id\n    var id: Long?,\n    var studentId: Long,\n)\n\ndata class ResultModel(\n    val professorId: Long,\n    val studentId: Long,\n    val assignmentId: Long,\n)\n</code></pre>\n<p>The query might be like this:</p>\n<pre><code>val cb = entityManager.criteriaBuilder\nval query = cb.createQuery(KfoProjectBySearchEntity::class.java)\nval professor = query.from(Professor::class.java)\nval student = query.from(Student::class.java)\nval assignment = query.from(Assignment::class.java)\n             \nquery.select(\n    cb.construct(\n        ResultModel::class.java,\n        professor.get&lt;Long&gt;(Professor::id.name),\n        student.get&lt;Long&gt;(Student::id.name),\n        assignment.get&lt;Long&gt;(Assignment::id.name),\n    )\n).where(\n    cb.and(\n        cb.equal(\n            professor.get&lt;Long&gt;(Professor::id.name),\n            student.get&lt;Long&gt;(Student::professorId.name),\n        ),\n        cb.equal(\n            student.get&lt;Long&gt;(Student::id.name),\n            assignment.get&lt;Long&gt;(Assignment::studentId.name),\n        ),\n        cb.equal(\n            professor.get&lt;Long&gt;(Professor::id.name),\n            2411L,\n        ),\n        \n    )\n)\n</code></pre>\n"}],"owner":{"account_id":1303051,"reputation":1624,"user_id":1252595,"accept_rate":79,"display_name":"ilya.stmn"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14621,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":13909409,"answer_count":2,"score":7,"last_activity_date":1697084412,"creation_date":1355398138,"question_id":13858876,"body_markdown":"In my current project I&#39;ve faced a problem of getting entities with hibernate criteria query. I have the following entities:\r\n \r\n - Professor, which contains a list of students\r\n - Student, which contains a list of assignments.\r\n - Assignment, which contains id of student to which it is assigned to.\r\n\r\nNow, I want to get all assignments relative to the professor, i.e. all assignments Professor assigned to his students.\r\n\r\nThis query shows what I want to implement in criteria query.\r\n   \r\n    select * from Assigment p, Student a, Professor c where p.studentid = a.id and a.proffid = c.id and c.id = 2411;\r\n\r\nHow can I implement this query using hibernate criteria API?","title":"Hibernate criteria query multiple criteria","body":"<p>In my current project I've faced a problem of getting entities with hibernate criteria query. I have the following entities:</p>\n\n<ul>\n<li>Professor, which contains a list of students</li>\n<li>Student, which contains a list of assignments.</li>\n<li>Assignment, which contains id of student to which it is assigned to.</li>\n</ul>\n\n<p>Now, I want to get all assignments relative to the professor, i.e. all assignments Professor assigned to his students.</p>\n\n<p>This query shows what I want to implement in criteria query.</p>\n\n<pre><code>select * from Assigment p, Student a, Professor c where p.studentid = a.id and a.proffid = c.id and c.id = 2411;\n</code></pre>\n\n<p>How can I implement this query using hibernate criteria API?</p>\n"},{"tags":["java","performance","caching","java-native-interface"],"answers":[{"comments":[{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":6,"creation_date":1337170670,"post_id":10618239,"comment_id":13759683,"body_markdown":"This code cannot possibly work. You can&#39;t cache jclasses or jobjects across different JNI invocations without using a GlobalReference. You can cache methodIDs and fieldIDs..","body":"This code cannot possibly work. You can&#39;t cache jclasses or jobjects across different JNI invocations without using a GlobalReference. You can cache methodIDs and fieldIDs.."},{"owner":{"account_id":156522,"reputation":13969,"user_id":373861,"accept_rate":95,"display_name":"Favonius"},"score":0,"creation_date":1337171055,"post_id":10618239,"comment_id":13759848,"body_markdown":"@EJP: Could you please explain why &#39;it can&#39;t cache jclasses or jobjects across different JNI&#39;? The code snippet provided here is taken and modified from the eclipse SWT implementation for win32.","body":"@EJP: Could you please explain why &#39;it can&#39;t cache jclasses or jobjects across different JNI&#39;? The code snippet provided here is taken and modified from the eclipse SWT implementation for win32."},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":3,"creation_date":1337221395,"post_id":10618239,"comment_id":13776981,"body_markdown":"@Favonious For the [same reason that GlobalReferences exist](http://docs.oracle.com/javase/6/docs/technotes/guides/jni/spec/design.html#wp1242). (1) &quot;Local references are valid for the duration of a native method call&quot;, (2) &quot;All Java objects returned by JNI functions are local references&quot;, and (3) &quot;Local references are only valid in the thread in which they are created&quot;.","body":"@Favonious For the <a href=\"http://docs.oracle.com/javase/6/docs/technotes/guides/jni/spec/design.html#wp1242\" rel=\"nofollow noreferrer\">same reason that GlobalReferences exist</a>. (1) &quot;Local references are valid for the duration of a native method call&quot;, (2) &quot;All Java objects returned by JNI functions are local references&quot;, and (3) &quot;Local references are only valid in the thread in which they are created&quot;."},{"owner":{"account_id":961675,"reputation":4991,"user_id":985906,"accept_rate":93,"display_name":"JoshDM"},"score":0,"creation_date":1355427360,"post_id":10618239,"comment_id":19095660,"body_markdown":"The &quot;How to extend SWT COM support&quot; target no longer exists.","body":"The &quot;How to extend SWT COM support&quot; target no longer exists."}],"tags":[],"owner":{"account_id":156522,"reputation":13969,"user_id":373861,"accept_rate":95,"display_name":"Favonius"},"comment_count":4,"down_vote_count":2,"up_vote_count":3,"is_accepted":false,"score":1,"last_activity_date":1337170314,"creation_date":1337170314,"answer_id":10618239,"question_id":10617735,"body_markdown":"You can have some utility structures like this:\r\n\r\n    typedef struct MYVARIANT_FID_CACHE {\r\n        int cached;\r\n        jclass clazz;\r\n        jfieldID pAddress;\r\n    } MYVARIANT_FID_CACHE;\r\n    \r\n    MYVARIANT_FID_CACHE VARIANTFc;\r\n    \r\n    void cacheMYVARIANTFields(JNIEnv *env, jobject lpObject)\r\n    {\r\n        if (VARIANTFc.cached) return;\r\n        VARIANTFc.clazz = env-&gt;GetObjectClass(lpObject);\r\n        VARIANTFc.pAddress = env-&gt;GetFieldID(VARIANTFc.clazz, &quot;pAddress&quot;, &quot;I&quot;);\r\n        VARIANTFc.cached = 1;\r\n    }\r\n    \r\n    VARIANT *getMYVARIANTFields(JNIEnv *env, jobject lpObject, VARIANT *lpStruct)\r\n    {\r\n        if (!VARIANTFc.cached) cacheVARIANT2Fields(env, lpObject);\r\n    \r\n        lpStruct = (VARIANT*)(env-&gt;GetIntField(lpObject, VARIANTFc.pAddress));\r\n    \r\n        return lpStruct;\r\n    }\r\n\r\nThis is taken from my question: https://stackoverflow.com/questions/10617714/how-to-extend-swt-com-support\r\n\r\nFor some good examples look at the `os_structs.c` it is bundled with eclipse SWT implementation. \r\n\r\n**Note:** The above code is just an example and could be adapted for different OS. Also it just shows &quot;how to access java fields&quot;; for methods you could follow the same approach.\r\n","title":"In JNI, how do I cache the class, methodID, and fieldIDs per IBM&#39;s performance recommendations?","body":"<p>You can have some utility structures like this:</p>\n\n<pre><code>typedef struct MYVARIANT_FID_CACHE {\n    int cached;\n    jclass clazz;\n    jfieldID pAddress;\n} MYVARIANT_FID_CACHE;\n\nMYVARIANT_FID_CACHE VARIANTFc;\n\nvoid cacheMYVARIANTFields(JNIEnv *env, jobject lpObject)\n{\n    if (VARIANTFc.cached) return;\n    VARIANTFc.clazz = env-&gt;GetObjectClass(lpObject);\n    VARIANTFc.pAddress = env-&gt;GetFieldID(VARIANTFc.clazz, \"pAddress\", \"I\");\n    VARIANTFc.cached = 1;\n}\n\nVARIANT *getMYVARIANTFields(JNIEnv *env, jobject lpObject, VARIANT *lpStruct)\n{\n    if (!VARIANTFc.cached) cacheVARIANT2Fields(env, lpObject);\n\n    lpStruct = (VARIANT*)(env-&gt;GetIntField(lpObject, VARIANTFc.pAddress));\n\n    return lpStruct;\n}\n</code></pre>\n\n<p>This is taken from my question: <a href=\"https://stackoverflow.com/questions/10617714/how-to-extend-swt-com-support\">https://stackoverflow.com/questions/10617714/how-to-extend-swt-com-support</a></p>\n\n<p>For some good examples look at the <code>os_structs.c</code> it is bundled with eclipse SWT implementation. </p>\n\n<p><strong>Note:</strong> The above code is just an example and could be adapted for different OS. Also it just shows \"how to access java fields\"; for methods you could follow the same approach.</p>\n"},{"comments":[{"owner":{"account_id":343371,"reputation":1298,"user_id":675034,"display_name":"Julien"},"score":0,"creation_date":1390583056,"post_id":10681561,"comment_id":32168825,"body_markdown":"What I didn&#39;t show is how to initialize the `methodId` field, but it&#39;s basic JNI. The caching is done automatically at class loading: initIDs is invoked and the `methodID` field is initialized","body":"What I didn&#39;t show is how to initialize the <code>methodId</code> field, but it&#39;s basic JNI. The caching is done automatically at class loading: initIDs is invoked and the <code>methodID</code> field is initialized"}],"tags":[],"owner":{"account_id":343371,"reputation":1298,"user_id":675034,"display_name":"Julien"},"comment_count":1,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1337587740,"creation_date":1337587740,"answer_id":10681561,"question_id":10617735,"body_markdown":"For simple case, I use static fields in the C code, initialized with an initId method called from my java classes :\r\n\r\n    package demo;\r\n    public class WithNatives {\r\n    \r\n     static {\r\n       initIDs();\r\n     }\r\n    \r\n     private static native void initIDs();\r\n    \r\n    }\r\n\r\nAnd in C :\r\n\r\n    static jmethodID methodId;\r\n    \r\n    void JNICALL Java_demo_WithNatives_initIDs(JNIEnv *env, jclass clazz)\r\n    {\r\n       // initialize methodId\r\n    }\r\n\r\n","title":"In JNI, how do I cache the class, methodID, and fieldIDs per IBM&#39;s performance recommendations?","body":"<p>For simple case, I use static fields in the C code, initialized with an initId method called from my java classes :</p>\n\n<pre><code>package demo;\npublic class WithNatives {\n\n static {\n   initIDs();\n }\n\n private static native void initIDs();\n\n}\n</code></pre>\n\n<p>And in C :</p>\n\n<pre><code>static jmethodID methodId;\n\nvoid JNICALL Java_demo_WithNatives_initIDs(JNIEnv *env, jclass clazz)\n{\n   // initialize methodId\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":4985315,"reputation":1203,"user_id":4009117,"accept_rate":89,"display_name":"Konstantin Berkov"},"score":3,"creation_date":1520287921,"post_id":13940735,"comment_id":85246175,"body_markdown":"One of best answers about caching jclass/jmethodId/jfieldId!\nStill one question bugs me. What about jmethodID/jfieldID? They are opaque structs, how can we free/delete them, or should we? Or just pointing everything (all deleted global refs, jmethodIDs, jfieIDs) to NULL/nullptr is enough?","body":"One of best answers about caching jclass/jmethodId/jfieldId! Still one question bugs me. What about jmethodID/jfieldID? They are opaque structs, how can we free/delete them, or should we? Or just pointing everything (all deleted global refs, jmethodIDs, jfieIDs) to NULL/nullptr is enough?"},{"owner":{"account_id":961675,"reputation":4991,"user_id":985906,"accept_rate":93,"display_name":"JoshDM"},"score":2,"creation_date":1520290253,"post_id":13940735,"comment_id":85246988,"body_markdown":"@KonstantinBerkow - Method IDs and Field IDs are not managed by the native code; they are managed by the virtual machine and are valid until the associated class is unloaded. Field IDs and Method IDs cannot be explicitly deleted before the virtual machine unloads the defining class.  Just let the VM handle them.  If it makes you feel better to set them to NULL, do it after you release the associated class, but it is not necessary to do at all.","body":"@KonstantinBerkow - Method IDs and Field IDs are not managed by the native code; they are managed by the virtual machine and are valid until the associated class is unloaded. Field IDs and Method IDs cannot be explicitly deleted before the virtual machine unloads the defining class.  Just let the VM handle them.  If it makes you feel better to set them to NULL, do it after you release the associated class, but it is not necessary to do at all."},{"owner":{"account_id":74423,"reputation":14794,"user_id":213871,"accept_rate":100,"display_name":"ceztko"},"score":0,"creation_date":1559563538,"post_id":13940735,"comment_id":99448545,"body_markdown":"Question: is caching `JC_BeanObject` strictly necessary to safely use the cached `JMID_BeanObject_getFoo`?","body":"Question: is caching <code>JC_BeanObject</code> strictly necessary to safely use the cached <code>JMID_BeanObject_getFoo</code>?"},{"owner":{"account_id":961675,"reputation":4991,"user_id":985906,"accept_rate":93,"display_name":"JoshDM"},"score":0,"creation_date":1559665867,"post_id":13940735,"comment_id":99489306,"body_markdown":"See the Rationale portion, @ceztko.  From what I read when it was written, and presuming it still holds true today, if the class (JC_) gets unloaded by the classloader, then re-loaded, it gets a new signature.  The associated method signature (JMID_) would reference the original signature and no longer be valid.  Caching the class prevents unloading.  See the original article from the OP: http://www.ibm.com/developerworks/java/library/j-jni/index.html#notc","body":"See the Rationale portion, @ceztko.  From what I read when it was written, and presuming it still holds true today, if the class (JC_) gets unloaded by the classloader, then re-loaded, it gets a new signature.  The associated method signature (JMID_) would reference the original signature and no longer be valid.  Caching the class prevents unloading.  See the original article from the OP: <a href=\"http://www.ibm.com/developerworks/java/library/j-jni/index.html#notc\" rel=\"nofollow noreferrer\">ibm.com/developerworks/java/library/j-jni/index.html#notc</a>"},{"owner":{"account_id":961675,"reputation":4991,"user_id":985906,"accept_rate":93,"display_name":"JoshDM"},"score":0,"creation_date":1559671832,"post_id":13940735,"comment_id":99491783,"body_markdown":"@ceztko TL;DR answer: not for the first call, but for subsequent calls to the same loaded JNI class, it provides a probably-never-to-be-used-in-99.999998%-of-scenarios safety net.","body":"@ceztko TL;DR answer: not for the first call, but for subsequent calls to the same loaded JNI class, it provides a probably-never-to-be-used-in-99.999998%-of-scenarios safety net."},{"owner":{"account_id":1475,"reputation":533794,"user_id":1968,"accept_rate":83,"display_name":"Konrad Rudolph"},"score":0,"creation_date":1582049652,"post_id":13940735,"comment_id":106640141,"body_markdown":"Good answer, but theres really no need to clear up all those local references. Let the Java VM do it  the waste of space is negligible, and it vastly decreases the risk of accidentally prematurely releasing a reference (it also unclutters the code: less code means less chance of bugs).","body":"Good answer, but theres really no need to clear up all those local references. Let the Java VM do it  the waste of space is negligible, and it vastly decreases the risk of accidentally prematurely releasing a reference (it also unclutters the code: less code means less chance of bugs)."},{"owner":{"account_id":17340051,"reputation":157,"user_id":12560952,"display_name":"Raii"},"score":0,"creation_date":1623541743,"post_id":13940735,"comment_id":120108572,"body_markdown":"How to find the JNI_VERSION we are using? I use Android Studio and cmake to make the cpp file. However, I cannot find any JNI_VERSION value in build.gradle or native-lib.cpp or CmakeLists.txt.  I only find JavaVersion.VERSION_1_8 in build.gradle but JavaVERSION seems not the JNI_VERSION???","body":"How to find the JNI_VERSION we are using? I use Android Studio and cmake to make the cpp file. However, I cannot find any JNI_VERSION value in build.gradle or native-lib.cpp or CmakeLists.txt.  I only find JavaVersion.VERSION_1_8 in build.gradle but JavaVERSION seems not the JNI_VERSION???"},{"owner":{"account_id":961675,"reputation":4991,"user_id":985906,"accept_rate":93,"display_name":"JoshDM"},"score":0,"creation_date":1645564302,"post_id":13940735,"comment_id":125904176,"body_markdown":"@Raii - it is defined in jni.h which is included in the javah auto-generated header file: #include &lt;jni.h&gt;","body":"@Raii - it is defined in jni.h which is included in the javah auto-generated header file: #include &lt;jni.h&gt;"}],"tags":[],"owner":{"account_id":961675,"reputation":4991,"user_id":985906,"accept_rate":93,"display_name":"JoshDM"},"comment_count":8,"down_vote_count":0,"up_vote_count":55,"is_accepted":true,"score":55,"last_activity_date":1697084110,"creation_date":1355861570,"answer_id":13940735,"question_id":10617735,"body_markdown":"There is no built-in methodology to follow, however here is a somewhat standard, clean, and repeatable implementation showing how I practice IBM&#39;s recommendation.\r\n\r\nI am going to assume you are calling your DLL from Java and you are referencing it multiple times throughout your application life-cycle.\r\n\r\nThe sample Native Java Class is named `org.stackoverflow.jni.NativeClazz`, which will implement the 2 built-in JNI methods `JNI_OnLoad()` and `JNI_OnUnload()`.\r\n\r\n`void JNI_OnLoad(JavaVM *vm, void *reserved)`:  This method will be used to register the Class IDs as global variables and assign the Method IDs and Field IDs to static variables.  The method is automatically called when the driver is loaded by the Java VM; it is only called once during the driver life-cycle.\r\n\r\n`void JNI_OnUnload(JavaVM *vm, void *reserved)`:  This method will be used to free any global variables registered by `JNI_OnLoad()`.  The VM will automatically call `JNI_OnUnload()` immediately prior to application shutdown.\r\n\r\n**Rationale:** It&#39;s my understanding the Class IDs must be registered as global references to maintain the viability of any associated Method ID / Field IDs.  If this isn&#39;t done and the class is unloaded from the JVM, on class reload, the Method IDs / Field IDs may be different.  If the Class ID is registered as a global reference, the associated Method IDs and Field IDs do not need to be registered as global references.  Registering a Class ID as a global reference prevents the associated Java class from unloading, therefore stabilizing the Method ID / Field ID values.  Global references, including the Class IDs should be removed in `JNI_OnUnload()`.\r\n\r\nMethod IDs and Field IDs are not managed by the native code; they are managed by the virtual machine and are valid until the associated class is unloaded. Field IDs and Method IDs cannot be explicitly deleted before the virtual machine unloads the defining class; they can be left for the VM to handle after unload.\r\n\r\n**Sample Code**\r\n\r\nComments in the following C++ code sections explain registering variables globally.\r\n\r\n*Here is the Java class `BeanObject` representing a data object:*\r\n\r\n\r\n    package org.stackoverflow.data;\r\n    \r\n    public class BeanObject {\r\n    \r\n        String foo = &quot;&quot;;\r\n    \t\r\n        public String getFoo() {\r\n\t     \r\n            return foo;\r\n        }\r\n    }\r\n\r\n*Here is a skeleton Java class `NativeClazz`:*\r\n\r\n    package org.stackoverflow.jni;\r\n    \r\n    import org.stackoverflow.data.BeanObject;\r\n    \r\n    public class NativeClazz {\r\n    \r\n        // Static area for forced initialization\r\n        static {\r\n    \r\n            // Load Native Library (C++); calls JNI_OnLoad()\r\n            System.loadLibrary(&quot;Native_Library_File_Name&quot;);\r\n        }\t\t\r\n    \r\n        /**\r\n         * A static native method you plan to call.\r\n         */\r\n        public static native void staticNativeMethod(BeanObject bean);\r\n    \r\n        /**\r\n         * A non-static native method you plan to call, to show this also works with \r\n         * Java class instances.\r\n         */\r\n        public native void instanceNativeMethod(BeanObject bean);\r\n    }\r\n\r\n*Here is the C++ header file &quot;`org_stackoverflow_jni_NativeClazz.h`&quot; generated using `javah` on `NativeClazz`:*\r\n\r\n    /* DO NOT EDIT THIS FILE - it is machine generated */\r\n    #include &lt;jni.h&gt;\r\n    /* Header for class org_stackoverflow_jni_NativeClazz */\r\n    \r\n    #ifndef _Included_org_stackoverflow_jni_NativeClazz\r\n    #define _Included_org_stackoverflow_jni_NativeClazz\r\n    #ifdef __cplusplus\r\n    extern &quot;C&quot; {\r\n    #endif\r\n    \r\n    /*\r\n     * Class:     org_stackoverflow_jni_NativeClazz_staticNativeMethod\r\n     * Method:    staticNativeMethod\r\n     * Signature: ()V\r\n     */\r\n    JNIEXPORT void JNICALL Java_org_stackoverflow_jni_NativeClazz_staticNativeMethod\r\n      (JNIEnv *, jclass, jobject);\r\n    \r\n    /*\r\n     * Class:     org_stackoverflow_jni_NativeClazz_instanceNativeMethod\r\n     * Method:    instanceNativeMethod\r\n     * Signature: ()V\r\n     */\r\n    JNIEXPORT void JNICALL Java_org_stackoverflow_jni_NativeClazz_instanceNativeMethod\r\n      (JNIEnv *, jobject, jobject);\r\n    \r\n    #ifdef __cplusplus\r\n    }\r\n    #endif\r\n    #endif\r\n\r\n*Here is the C++ .cpp file implementing the header file:*\r\n\r\n    #include &quot;org_stackoverflow_jni_NativeClazz.h&quot;\r\n    \r\n    using namespace std;\r\n    \r\n    /**************************************************************\r\n     * Static Global Variables to cache Java Class and Method IDs\r\n     **************************************************************/\r\n    static jclass JC_BeanObject;              // declare for each class\r\n    static jmethodID JMID_BeanObject_getFoo;  // declare for each class method\r\n    \r\n    /**************************************************************\r\n     * Declare general JNI_VERSION for use in JNI_Onload/JNI_OnUnLoad\r\n     * Change value if a Java upgrade requires it (prior: JNI_VERSION_1_6)\r\n     * JNI_VERSION_#_# obtained from jni.h inclusion \r\n     **************************************************************/\r\n    static jint JNI_VERSION = JNI_VERSION_1_8;\r\n\r\n    /**************************************************************\r\n     * Initialize the static Class and Method Id variables\r\n     **************************************************************/\r\n    jint JNI_OnLoad(JavaVM* vm, void* reserved) {\r\n    \r\n        // Obtain the JNIEnv from the VM and confirm JNI_VERSION\r\n        JNIEnv* env;\r\n        if (vm-&gt;GetEnv(reinterpret_cast&lt;void**&gt;(&amp;env), JNI_VERSION) != JNI_OK) {\r\n\r\n            return JNI_ERR;\r\n        }\r\n\r\n        // Temporary local reference holder\r\n        jclass tempLocalClassRef;\r\n    \r\n        // STEP 1/3 : Load the class id\r\n        tempLocalClassRef = env-&gt;FindClass(&quot;org/stackoverflow/data/BeanObject&quot;);\r\n    \r\n        // STEP 2/3 : Assign the ClassId as a Global Reference\r\n        JC_BeanObject = (jclass) env-&gt;NewGlobalRef(tempLocalClassRef);\r\n    \r\n        // STEP 3/3 : Delete the no longer needed local reference\r\n        env-&gt;DeleteLocalRef(tempLocalClassRef);\r\n        \r\n        // Load the method id\r\n        JMID_BeanObject_getFoo = env-&gt;GetMethodID(JC_BeanObject, &quot;getFoo&quot;, &quot;(Ljava/lang/String;)V&quot;);\r\n    \r\n        // ... repeat prior line for any other methods of BeanObject\r\n    \r\n        // ... repeat STEPS 1-3 for any other classes; re-use tempLocalClassRef.\r\n\r\n        // Return the JNI Version as required by method\r\n        return JNI_VERSION;\r\n    }\r\n    \r\n    /**************************************************************\r\n     * Destroy the global static Class Id variables\r\n     **************************************************************/\r\n    void JNI_OnUnload(JavaVM *vm, void *reserved) {\r\n\r\n        // Obtain the JNIEnv from the VM\r\n        // NOTE: some re-do the JNI Version check here, but I find that redundant\r\n        JNIEnv* env;\r\n        vm-&gt;GetEnv(reinterpret_cast&lt;void**&gt;(&amp;env), JNI_VERSION);\r\n    \r\n        // Destroy the global references\r\n        env-&gt;DeleteGlobalRef(JC_BeanObject);\r\n        \r\n        // ... repeat for any other global references\r\n    }\r\n    \r\n    /**************************************************************\r\n     * A Static Native Method\r\n     **************************************************************/\r\n    JNIEXPORT void JNICALL Java_org_stackoverflow_jni_NativeClazz_staticNativeMethod\r\n                   (JNIEnv * env, jclass clazz, jobject jBeanObject) {\r\n        \r\n        // Retrieve jstring from the Java Object\r\n        jstring jFoo = (jstring)env-&gt;CallObjectMethod(jBeanObject, JMID_BeanObject_getFoo);\r\n\r\n        // Make accessible to C++\r\n        const char * cFoo = env-&gt;GetStringUTFChars(jFoo, NULL);             \r\n\r\n        // Do something with cFoo...\r\n\r\n        // Release Resources\r\n        env-&gt;ReleaseStringUTFChars(jFoo, cFoo);\r\n        env-&gt;DeleteLocalRef(jFoo);\r\n    }\r\n    \r\n    /**************************************************************\r\n     * Instance / Non-Static Native Method\r\n     **************************************************************/\r\n    JNIEXPORT void JNICALL Java_org_stackoverflow_jni_NativeClazz_instanceNativeMethod\r\n                   (JNIEnv * env, jobject selfReference, jobject jBeanObject) {\r\n    \r\n        // Retrieve jstring from the Java Object\r\n        jstring jFoo = (jstring)env-&gt;CallObjectMethod(jBeanObject, JMID_BeanObject_getFoo);               \r\n\r\n        // Make accessible to C++\r\n        const char * cFoo = env-&gt;GetStringUTFChars(jFoo, NULL);             \r\n\r\n        // Do something with cFoo...\r\n\r\n        // Release Resources\r\n        env-&gt;ReleaseStringUTFChars(jFoo, cFoo);\r\n        env-&gt;DeleteLocalRef(jFoo);\r\n    }","title":"In JNI, how do I cache the class, methodID, and fieldIDs per IBM&#39;s performance recommendations?","body":"<p>There is no built-in methodology to follow, however here is a somewhat standard, clean, and repeatable implementation showing how I practice IBM's recommendation.</p>\n<p>I am going to assume you are calling your DLL from Java and you are referencing it multiple times throughout your application life-cycle.</p>\n<p>The sample Native Java Class is named <code>org.stackoverflow.jni.NativeClazz</code>, which will implement the 2 built-in JNI methods <code>JNI_OnLoad()</code> and <code>JNI_OnUnload()</code>.</p>\n<p><code>void JNI_OnLoad(JavaVM *vm, void *reserved)</code>:  This method will be used to register the Class IDs as global variables and assign the Method IDs and Field IDs to static variables.  The method is automatically called when the driver is loaded by the Java VM; it is only called once during the driver life-cycle.</p>\n<p><code>void JNI_OnUnload(JavaVM *vm, void *reserved)</code>:  This method will be used to free any global variables registered by <code>JNI_OnLoad()</code>.  The VM will automatically call <code>JNI_OnUnload()</code> immediately prior to application shutdown.</p>\n<p><strong>Rationale:</strong> It's my understanding the Class IDs must be registered as global references to maintain the viability of any associated Method ID / Field IDs.  If this isn't done and the class is unloaded from the JVM, on class reload, the Method IDs / Field IDs may be different.  If the Class ID is registered as a global reference, the associated Method IDs and Field IDs do not need to be registered as global references.  Registering a Class ID as a global reference prevents the associated Java class from unloading, therefore stabilizing the Method ID / Field ID values.  Global references, including the Class IDs should be removed in <code>JNI_OnUnload()</code>.</p>\n<p>Method IDs and Field IDs are not managed by the native code; they are managed by the virtual machine and are valid until the associated class is unloaded. Field IDs and Method IDs cannot be explicitly deleted before the virtual machine unloads the defining class; they can be left for the VM to handle after unload.</p>\n<p><strong>Sample Code</strong></p>\n<p>Comments in the following C++ code sections explain registering variables globally.</p>\n<p><em>Here is the Java class <code>BeanObject</code> representing a data object:</em></p>\n<pre><code>package org.stackoverflow.data;\n\npublic class BeanObject {\n\n    String foo = &quot;&quot;;\n    \n    public String getFoo() {\n     \n        return foo;\n    }\n}\n</code></pre>\n<p><em>Here is a skeleton Java class <code>NativeClazz</code>:</em></p>\n<pre><code>package org.stackoverflow.jni;\n\nimport org.stackoverflow.data.BeanObject;\n\npublic class NativeClazz {\n\n    // Static area for forced initialization\n    static {\n\n        // Load Native Library (C++); calls JNI_OnLoad()\n        System.loadLibrary(&quot;Native_Library_File_Name&quot;);\n    }       \n\n    /**\n     * A static native method you plan to call.\n     */\n    public static native void staticNativeMethod(BeanObject bean);\n\n    /**\n     * A non-static native method you plan to call, to show this also works with \n     * Java class instances.\n     */\n    public native void instanceNativeMethod(BeanObject bean);\n}\n</code></pre>\n<p><em>Here is the C++ header file &quot;<code>org_stackoverflow_jni_NativeClazz.h</code>&quot; generated using <code>javah</code> on <code>NativeClazz</code>:</em></p>\n<pre><code>/* DO NOT EDIT THIS FILE - it is machine generated */\n#include &lt;jni.h&gt;\n/* Header for class org_stackoverflow_jni_NativeClazz */\n\n#ifndef _Included_org_stackoverflow_jni_NativeClazz\n#define _Included_org_stackoverflow_jni_NativeClazz\n#ifdef __cplusplus\nextern &quot;C&quot; {\n#endif\n\n/*\n * Class:     org_stackoverflow_jni_NativeClazz_staticNativeMethod\n * Method:    staticNativeMethod\n * Signature: ()V\n */\nJNIEXPORT void JNICALL Java_org_stackoverflow_jni_NativeClazz_staticNativeMethod\n  (JNIEnv *, jclass, jobject);\n\n/*\n * Class:     org_stackoverflow_jni_NativeClazz_instanceNativeMethod\n * Method:    instanceNativeMethod\n * Signature: ()V\n */\nJNIEXPORT void JNICALL Java_org_stackoverflow_jni_NativeClazz_instanceNativeMethod\n  (JNIEnv *, jobject, jobject);\n\n#ifdef __cplusplus\n}\n#endif\n#endif\n</code></pre>\n<p><em>Here is the C++ .cpp file implementing the header file:</em></p>\n<pre><code>#include &quot;org_stackoverflow_jni_NativeClazz.h&quot;\n\nusing namespace std;\n\n/**************************************************************\n * Static Global Variables to cache Java Class and Method IDs\n **************************************************************/\nstatic jclass JC_BeanObject;              // declare for each class\nstatic jmethodID JMID_BeanObject_getFoo;  // declare for each class method\n\n/**************************************************************\n * Declare general JNI_VERSION for use in JNI_Onload/JNI_OnUnLoad\n * Change value if a Java upgrade requires it (prior: JNI_VERSION_1_6)\n * JNI_VERSION_#_# obtained from jni.h inclusion \n **************************************************************/\nstatic jint JNI_VERSION = JNI_VERSION_1_8;\n\n/**************************************************************\n * Initialize the static Class and Method Id variables\n **************************************************************/\njint JNI_OnLoad(JavaVM* vm, void* reserved) {\n\n    // Obtain the JNIEnv from the VM and confirm JNI_VERSION\n    JNIEnv* env;\n    if (vm-&gt;GetEnv(reinterpret_cast&lt;void**&gt;(&amp;env), JNI_VERSION) != JNI_OK) {\n\n        return JNI_ERR;\n    }\n\n    // Temporary local reference holder\n    jclass tempLocalClassRef;\n\n    // STEP 1/3 : Load the class id\n    tempLocalClassRef = env-&gt;FindClass(&quot;org/stackoverflow/data/BeanObject&quot;);\n\n    // STEP 2/3 : Assign the ClassId as a Global Reference\n    JC_BeanObject = (jclass) env-&gt;NewGlobalRef(tempLocalClassRef);\n\n    // STEP 3/3 : Delete the no longer needed local reference\n    env-&gt;DeleteLocalRef(tempLocalClassRef);\n    \n    // Load the method id\n    JMID_BeanObject_getFoo = env-&gt;GetMethodID(JC_BeanObject, &quot;getFoo&quot;, &quot;(Ljava/lang/String;)V&quot;);\n\n    // ... repeat prior line for any other methods of BeanObject\n\n    // ... repeat STEPS 1-3 for any other classes; re-use tempLocalClassRef.\n\n    // Return the JNI Version as required by method\n    return JNI_VERSION;\n}\n\n/**************************************************************\n * Destroy the global static Class Id variables\n **************************************************************/\nvoid JNI_OnUnload(JavaVM *vm, void *reserved) {\n\n    // Obtain the JNIEnv from the VM\n    // NOTE: some re-do the JNI Version check here, but I find that redundant\n    JNIEnv* env;\n    vm-&gt;GetEnv(reinterpret_cast&lt;void**&gt;(&amp;env), JNI_VERSION);\n\n    // Destroy the global references\n    env-&gt;DeleteGlobalRef(JC_BeanObject);\n    \n    // ... repeat for any other global references\n}\n\n/**************************************************************\n * A Static Native Method\n **************************************************************/\nJNIEXPORT void JNICALL Java_org_stackoverflow_jni_NativeClazz_staticNativeMethod\n               (JNIEnv * env, jclass clazz, jobject jBeanObject) {\n    \n    // Retrieve jstring from the Java Object\n    jstring jFoo = (jstring)env-&gt;CallObjectMethod(jBeanObject, JMID_BeanObject_getFoo);\n\n    // Make accessible to C++\n    const char * cFoo = env-&gt;GetStringUTFChars(jFoo, NULL);             \n\n    // Do something with cFoo...\n\n    // Release Resources\n    env-&gt;ReleaseStringUTFChars(jFoo, cFoo);\n    env-&gt;DeleteLocalRef(jFoo);\n}\n\n/**************************************************************\n * Instance / Non-Static Native Method\n **************************************************************/\nJNIEXPORT void JNICALL Java_org_stackoverflow_jni_NativeClazz_instanceNativeMethod\n               (JNIEnv * env, jobject selfReference, jobject jBeanObject) {\n\n    // Retrieve jstring from the Java Object\n    jstring jFoo = (jstring)env-&gt;CallObjectMethod(jBeanObject, JMID_BeanObject_getFoo);               \n\n    // Make accessible to C++\n    const char * cFoo = env-&gt;GetStringUTFChars(jFoo, NULL);             \n\n    // Do something with cFoo...\n\n    // Release Resources\n    env-&gt;ReleaseStringUTFChars(jFoo, cFoo);\n    env-&gt;DeleteLocalRef(jFoo);\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":277661,"reputation":4125,"user_id":571778,"accept_rate":81,"display_name":"yano"},"score":0,"creation_date":1433888740,"post_id":28526447,"comment_id":49543505,"body_markdown":"It is a good idea to do this caching in your JNI_OnLoad method, particularly in Android, because the ClassLoader is only available (by default) on the thread which is calling JNI_OnLoad, so that&#39;s why I have upvoted this answer!","body":"It is a good idea to do this caching in your JNI_OnLoad method, particularly in Android, because the ClassLoader is only available (by default) on the thread which is calling JNI_OnLoad, so that&#39;s why I have upvoted this answer!"},{"owner":{"account_id":17340051,"reputation":157,"user_id":12560952,"display_name":"Raii"},"score":0,"creation_date":1623541561,"post_id":28526447,"comment_id":120108550,"body_markdown":"link &quot;The Java Native Interface: Programmer&#39;s Guide and Specification.&quot; no response","body":"link &quot;The Java Native Interface: Programmer&#39;s Guide and Specification.&quot; no response"}],"tags":[],"owner":{"account_id":4063938,"reputation":321,"user_id":3339622,"display_name":"xmpy"},"comment_count":2,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1516655365,"creation_date":1424006178,"answer_id":28526447,"question_id":10617735,"body_markdown":"Here is how I practice IBM&#39;s recommendation.\r\nConsidering demo java class like that:\r\n\r\n\tpublic class SimpleClazz {\r\n\t\t\r\n\t\tpublic int value = 10;\r\n\t\t\r\n\t\tpublic native int getValue();\r\n\r\n\t\tstatic {\r\n\t\t\t// Load Native Library\r\n\t\t\tSystem.loadLibrary(&quot;The native library name&quot;);\r\n\t\t}\r\n\t}\r\n\r\nThe corresponding jni header file like that:\r\n\r\n\t/* DO NOT EDIT THIS FILE - it is machine generated */\r\n\t#include &lt;jni.h&gt;\r\n\t/* Header for class SimpleClazz */\r\n\r\n\t#ifndef _Included_SimpleClazz\r\n\t#define _Included_SimpleClazz\r\n\t#ifdef __cplusplus\r\n\textern &quot;C&quot; {\r\n\t#endif\r\n\t/*\r\n\t * Class:     SimpleClazz\r\n\t * Method:    getValue\r\n\t * Signature: ()I\r\n\t */\r\n\tJNIEXPORT jint JNICALL Java_SimpleClazz_getValue\r\n\t  (JNIEnv *, jobject);\r\n\r\n\t#ifdef __cplusplus\r\n\t}\r\n\t#endif\r\n\t#endif\r\n\r\nAccording to IBM&#39;s recommendation, we need to cache the used class `SimpleClazz` and the field id of the object member `value`.\r\n \r\nAfter learning this good [article](http://normanmaurer.me/blog/2014/01/07/JNI-Performance-Welcome-to-the-dark-side/), I cache the `SimpleClazz` in the function `JNI_OnLoad `, which is called when the native library is loaded (for example, through System.loadLibrary). In the `JNI_Onload`, we do find class and store this jclass as a global field.\r\n\r\nFurthermore, in the native implementation of `getValue`, we use static local variable to cache the field id of `value`. This design is to make sure this filed id can be in the better scope, rather than in the global scope. The drawback of this design is that we need to compare with NULL each time we call this function. I learnt this design from section 4.4.1 of the book [The Java Native Interface: Programmer&#39;s Guide and Specification](http://barbie.uta.edu/~jli/Resources/Resource%20Provisoning&amp;Performance%20Evaluation/85.pdf).\r\n\r\nFinally, we also need to write the function `JNI_OnUnload`, which is called when the class loader containing the native library is garbage collected. In this function, we release the global reference of jclass.\r\n\r\n\r\nMy cpp implementation is shown as below:\r\n\r\n\t#include &lt;jni.h&gt;\r\n\t#include &lt;SimpleClazz.h&gt;\r\n\r\n\tstatic jclass simpleCls;\r\n\r\n\t// According to http://docs.oracle.com/javase/1.5.0/docs/guide/jni/spec/invocation.html#JNI_OnLoad\r\n\t// The VM calls JNI_OnLoad when the native library is loaded (for example, through System.loadLibrary).\r\n\tjint JNI_OnLoad(JavaVM* vm, void* reserved) {\r\n        JNIEnv* env;\r\n\t\tif ((*vm)-&gt;GetEnv(vm, (void **) &amp;env, JNI_VERSION_1_6) != JNI_OK) {\r\n\t        return JNI_ERR;\r\n\t    } else {\r\n\t    \tjclass localSimpleCls = (*env)-&gt;FindClass(&quot;SimpleClazz&quot;);\r\n\t        \r\n\t        if (localSimpleCls == NULL) {\r\n\t            return JNI_ERR;\r\n\t        }\r\n\t        simpleCls = (jclass) (*env)-&gt;NewGlobalRef(env, localSimpleCls);\r\n\t    } \r\n\t    return JNI_VERSION_1_6;\r\n\t}\r\n\r\n\r\n\r\n\tJNIEXPORT jint JNICALL Java_SimpleClazz_getValue(JNIEnv * env, jobject thiz){\r\n\t\tstatic jfieldID valueID = NULL;\r\n\t\tif (valueID == NULL) {\r\n\t\t\tvalueID = (*env)-&gt;GetFieldID(env, simpleCls, &quot;value&quot;, &quot;I&quot;);\r\n\t\t\tif (valueID == NULL){\r\n\t\t\t\treturn JNI_ERR; \t\t// Exception thrown\r\n\t\t\t}\r\n\t\t}\r\n\t\tjint value = (*env)-&gt;GetIntField(env, thiz, valueID);\r\n\t\treturn value;\r\n\t}\r\n\r\n\t// According to http://docs.oracle.com/javase/1.5.0/docs/guide/jni/spec/invocation.html#JNI_OnUnload\r\n\t// The VM calls JNI_OnUnload when the class loader containing the native library is garbage collected.\r\n\tvoid JNI_OnUnload(JavaVM *vm, void *reserved) {\r\n\t\tJNIEnv* env;\r\n\t    if ((*vm)-&gt;GetEnv(vm, (void **) &amp;env, JNI_VERSION_1_6) != JNI_OK) {\r\n\t        // Something is wrong but nothing we can do about this :(\r\n\t        return;\r\n\t    } else {\r\n\t    \tif (0 != NULL){\r\n\t    \t\t(*env)-&gt;DeleteGlobalRef(env, simpleCls);\r\n\t    \t}\r\n\t    }\r\n\t}\r\n","title":"In JNI, how do I cache the class, methodID, and fieldIDs per IBM&#39;s performance recommendations?","body":"<p>Here is how I practice IBM's recommendation.\nConsidering demo java class like that:</p>\n\n<pre><code>public class SimpleClazz {\n\n    public int value = 10;\n\n    public native int getValue();\n\n    static {\n        // Load Native Library\n        System.loadLibrary(\"The native library name\");\n    }\n}\n</code></pre>\n\n<p>The corresponding jni header file like that:</p>\n\n<pre><code>/* DO NOT EDIT THIS FILE - it is machine generated */\n#include &lt;jni.h&gt;\n/* Header for class SimpleClazz */\n\n#ifndef _Included_SimpleClazz\n#define _Included_SimpleClazz\n#ifdef __cplusplus\nextern \"C\" {\n#endif\n/*\n * Class:     SimpleClazz\n * Method:    getValue\n * Signature: ()I\n */\nJNIEXPORT jint JNICALL Java_SimpleClazz_getValue\n  (JNIEnv *, jobject);\n\n#ifdef __cplusplus\n}\n#endif\n#endif\n</code></pre>\n\n<p>According to IBM's recommendation, we need to cache the used class <code>SimpleClazz</code> and the field id of the object member <code>value</code>.</p>\n\n<p>After learning this good <a href=\"http://normanmaurer.me/blog/2014/01/07/JNI-Performance-Welcome-to-the-dark-side/\" rel=\"nofollow noreferrer\">article</a>, I cache the <code>SimpleClazz</code> in the function <code>JNI_OnLoad</code>, which is called when the native library is loaded (for example, through System.loadLibrary). In the <code>JNI_Onload</code>, we do find class and store this jclass as a global field.</p>\n\n<p>Furthermore, in the native implementation of <code>getValue</code>, we use static local variable to cache the field id of <code>value</code>. This design is to make sure this filed id can be in the better scope, rather than in the global scope. The drawback of this design is that we need to compare with NULL each time we call this function. I learnt this design from section 4.4.1 of the book <a href=\"http://barbie.uta.edu/~jli/Resources/Resource%20Provisoning&amp;Performance%20Evaluation/85.pdf\" rel=\"nofollow noreferrer\">The Java Native Interface: Programmer's Guide and Specification</a>.</p>\n\n<p>Finally, we also need to write the function <code>JNI_OnUnload</code>, which is called when the class loader containing the native library is garbage collected. In this function, we release the global reference of jclass.</p>\n\n<p>My cpp implementation is shown as below:</p>\n\n<pre><code>#include &lt;jni.h&gt;\n#include &lt;SimpleClazz.h&gt;\n\nstatic jclass simpleCls;\n\n// According to http://docs.oracle.com/javase/1.5.0/docs/guide/jni/spec/invocation.html#JNI_OnLoad\n// The VM calls JNI_OnLoad when the native library is loaded (for example, through System.loadLibrary).\njint JNI_OnLoad(JavaVM* vm, void* reserved) {\n    JNIEnv* env;\n    if ((*vm)-&gt;GetEnv(vm, (void **) &amp;env, JNI_VERSION_1_6) != JNI_OK) {\n        return JNI_ERR;\n    } else {\n        jclass localSimpleCls = (*env)-&gt;FindClass(\"SimpleClazz\");\n\n        if (localSimpleCls == NULL) {\n            return JNI_ERR;\n        }\n        simpleCls = (jclass) (*env)-&gt;NewGlobalRef(env, localSimpleCls);\n    } \n    return JNI_VERSION_1_6;\n}\n\n\n\nJNIEXPORT jint JNICALL Java_SimpleClazz_getValue(JNIEnv * env, jobject thiz){\n    static jfieldID valueID = NULL;\n    if (valueID == NULL) {\n        valueID = (*env)-&gt;GetFieldID(env, simpleCls, \"value\", \"I\");\n        if (valueID == NULL){\n            return JNI_ERR;         // Exception thrown\n        }\n    }\n    jint value = (*env)-&gt;GetIntField(env, thiz, valueID);\n    return value;\n}\n\n// According to http://docs.oracle.com/javase/1.5.0/docs/guide/jni/spec/invocation.html#JNI_OnUnload\n// The VM calls JNI_OnUnload when the class loader containing the native library is garbage collected.\nvoid JNI_OnUnload(JavaVM *vm, void *reserved) {\n    JNIEnv* env;\n    if ((*vm)-&gt;GetEnv(vm, (void **) &amp;env, JNI_VERSION_1_6) != JNI_OK) {\n        // Something is wrong but nothing we can do about this :(\n        return;\n    } else {\n        if (0 != NULL){\n            (*env)-&gt;DeleteGlobalRef(env, simpleCls);\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1724432,"reputation":510,"user_id":1579455,"accept_rate":50,"display_name":"Jon Scobie"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1578704939,"creation_date":1549895730,"answer_id":54632891,"question_id":10617735,"body_markdown":"Referring to the answer given by @JoshDM \r\n\r\nThe C interface for this is slightly different than the C++ one given above. You have to write it like this :-\r\n\r\n    /**************************************************************\r\n     * Initialize the static Class and Method Id variables\r\n     **************************************************************/\r\n    jint JNI_OnLoad(JavaVM* vm, void* reserved) {\r\n\r\n        // Obtain the JNIEnv from the VM and confirm JNI_VERSION\r\n        JNIEnv* env;\r\n        if (*(vm)-&gt;GetEnv(vm, (void**)&amp;env, JNI_VERSION) != JNI_OK) {\r\n\r\n            return JNI_ERR;\r\n        }\r\n\r\n        // Temporary local reference holder\r\n        jclass tempLocalClassRef;\r\n\r\n        // STEP 1/3 : Load the class id\r\n        tempLocalClassRef = (*env)-&gt;FindClass(env, &quot;org/stackoverflow/data/BeanObject&quot;);\r\n\r\n        // STEP 2/3 : Assign the ClassId as a Global Reference\r\n        JC_BeanObject = (jclass) (*env)-&gt;NewGlobalRef(env, tempLocalClassRef);\r\n\r\n        // STEP 3/3 : Delete the no longer needed local reference\r\n        (*env)-&gt;DeleteLocalRef(env, tempLocalClassRef);\r\n\r\n        // Load the method id\r\n        JMID_BeanObject_getFoo = (*env)-&gt;GetMethodID(env, JC_BeanObject, &quot;getFoo&quot;, &quot;(Ljava/lang/String;)V&quot;);\r\n\r\n        // ... repeat prior line for any other methods of BeanObject\r\n\r\n        // ... repeat STEPS 1-3 for any other classes; re-use tempLocalClassRef.\r\n\r\n        // Return the JNI Version as required by method\r\n        return JNI_VERSION;\r\n    }","title":"In JNI, how do I cache the class, methodID, and fieldIDs per IBM&#39;s performance recommendations?","body":"<p>Referring to the answer given by @JoshDM </p>\n\n<p>The C interface for this is slightly different than the C++ one given above. You have to write it like this :-</p>\n\n<pre><code>/**************************************************************\n * Initialize the static Class and Method Id variables\n **************************************************************/\njint JNI_OnLoad(JavaVM* vm, void* reserved) {\n\n    // Obtain the JNIEnv from the VM and confirm JNI_VERSION\n    JNIEnv* env;\n    if (*(vm)-&gt;GetEnv(vm, (void**)&amp;env, JNI_VERSION) != JNI_OK) {\n\n        return JNI_ERR;\n    }\n\n    // Temporary local reference holder\n    jclass tempLocalClassRef;\n\n    // STEP 1/3 : Load the class id\n    tempLocalClassRef = (*env)-&gt;FindClass(env, \"org/stackoverflow/data/BeanObject\");\n\n    // STEP 2/3 : Assign the ClassId as a Global Reference\n    JC_BeanObject = (jclass) (*env)-&gt;NewGlobalRef(env, tempLocalClassRef);\n\n    // STEP 3/3 : Delete the no longer needed local reference\n    (*env)-&gt;DeleteLocalRef(env, tempLocalClassRef);\n\n    // Load the method id\n    JMID_BeanObject_getFoo = (*env)-&gt;GetMethodID(env, JC_BeanObject, \"getFoo\", \"(Ljava/lang/String;)V\");\n\n    // ... repeat prior line for any other methods of BeanObject\n\n    // ... repeat STEPS 1-3 for any other classes; re-use tempLocalClassRef.\n\n    // Return the JNI Version as required by method\n    return JNI_VERSION;\n}\n</code></pre>\n"}],"owner":{"account_id":326393,"reputation":22554,"user_id":648138,"accept_rate":68,"display_name":"Suhail Gupta"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":17695,"favorite_count":0,"down_vote_count":0,"up_vote_count":29,"accepted_answer_id":13940735,"answer_count":5,"score":29,"last_activity_date":1697084110,"creation_date":1337168388,"question_id":10617735,"body_markdown":"I read on [on IBM](http://www.ibm.com/developerworks/java/library/j-jni/index.html#notc) that \r\n\r\n&gt; To access Java objects&#39; fields and invoke their methods, native code\r\n&gt; must make calls to FindClass(), GetFieldID(), GetMethodId(), and\r\n&gt; GetStaticMethodID(). In the case of GetFieldID(), GetMethodID(), and\r\n&gt; GetStaticMethodID(), the IDs returned for a given class don&#39;t change\r\n&gt; for the lifetime of the JVM process. But the call to get the field or\r\n&gt; method can require significant work in the JVM, because fields and\r\n&gt; methods might have been inherited from superclasses, making the JVM\r\n&gt; walk up the class hierarchy to find them. Because the IDs are the same\r\n&gt; for a given class, you should look them up once and then reuse them.\r\n&gt; Similarly, looking up class objects can be expensive, so they should\r\n&gt; be cached as well.\r\n\r\nHow does one **cache** the `methodID`, `fieldID`, and `class` objects in JNI?\r\nAre there built-in methods or a specific procedure that has to be followed?","title":"In JNI, how do I cache the class, methodID, and fieldIDs per IBM&#39;s performance recommendations?","body":"<p>I read on <a href=\"http://www.ibm.com/developerworks/java/library/j-jni/index.html#notc\" rel=\"noreferrer\">on IBM</a> that </p>\n\n<blockquote>\n  <p>To access Java objects' fields and invoke their methods, native code\n  must make calls to FindClass(), GetFieldID(), GetMethodId(), and\n  GetStaticMethodID(). In the case of GetFieldID(), GetMethodID(), and\n  GetStaticMethodID(), the IDs returned for a given class don't change\n  for the lifetime of the JVM process. But the call to get the field or\n  method can require significant work in the JVM, because fields and\n  methods might have been inherited from superclasses, making the JVM\n  walk up the class hierarchy to find them. Because the IDs are the same\n  for a given class, you should look them up once and then reuse them.\n  Similarly, looking up class objects can be expensive, so they should\n  be cached as well.</p>\n</blockquote>\n\n<p>How does one <strong>cache</strong> the <code>methodID</code>, <code>fieldID</code>, and <code>class</code> objects in JNI?\nAre there built-in methods or a specific procedure that has to be followed?</p>\n"},{"tags":["java","testing","mocking","cucumber","karate"],"answers":[{"tags":[],"owner":{"account_id":48302,"reputation":55363,"user_id":143475,"display_name":"Peter Thomas"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697083720,"creation_date":1697083720,"answer_id":77277661,"question_id":77276587,"body_markdown":"The `@setup` hook is designed to work only for tests and not for mocks. Since the `Background` for mocks is run &quot;once only&quot;, you just set a variable, call a JS function if needed and nothing more is required. If you do need something specific, do consider contributing code.","title":"Karate mock with @setup scenario does not work","body":"<p>The <code>@setup</code> hook is designed to work only for tests and not for mocks. Since the <code>Background</code> for mocks is run &quot;once only&quot;, you just set a variable, call a JS function if needed and nothing more is required. If you do need something specific, do consider contributing code.</p>\n"}],"owner":{"account_id":9744856,"reputation":985,"user_id":7225171,"accept_rate":67,"display_name":"Serob_b"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1697083720,"creation_date":1697061195,"question_id":77276587,"body_markdown":"I&#39;m on karate v1.4.0\r\n\r\nWant to define a function and a variable to be used on mock creation (`pathToMy.js` always returns `true`):\r\n\r\n    @setup\r\n    Scenario:\r\n        * def data = read(&#39;data.json&#39;)\r\n        * def myFunc = read(&#39;pathToMy.js&#39;)\r\n\r\n    Scenario: pathMatches(&#39;/my_url&#39;) &amp;&amp; methodIs(&#39;post&#39;) &amp;&amp; myFunc()\r\n        * def responseHeaders = { &#39;Content-Type&#39;: &#39;application/json&#39; }\r\n        * def response = data\r\n        * def responseStatus = 200\r\n\r\nWhen I request to `/my_url` on test run, it does not return anything: moreover, just having another scenario with or without `@setup` does not allow mock URL to be captured:\r\n\r\n\r\n    Scenario:\r\n        * def data= read(&#39;data.json&#39;)\r\n\r\n    # Note that not connected to the above scenario at all\r\n    Scenario: pathMatches(&#39;/my_url&#39;) &amp;&amp; methodIs(&#39;post&#39;) \r\n        * def responseHeaders = { &#39;Content-Type&#39;: &#39;application/json&#39; }\r\n        * def response = {&quot;my&quot;:&quot;data&quot;} \r\n        * def responseStatus = 200\r\n\r\n\r\nAlso, when not using additional scenario, but trying to call the method to match, it does not work:\r\n\r\n    Scenario: pathMatches(&#39;/my_url&#39;) &amp;&amp; methodIs(&#39;post&#39;) &amp;&amp; call read(&#39;pathToMy.js&#39;) # call diectly\r\n        * def responseHeaders = { &#39;Content-Type&#39;: &#39;application/json&#39; }\r\n        * def response = {&quot;my&quot;:&quot;data&quot;}\r\n        * def responseStatus = 200\r\n\r\nBut when I do the same thing without additional scenario and method call it works:\r\n\r\n    Scenario: pathMatches(&#39;/my_url&#39;) &amp;&amp; methodIs(&#39;post&#39;) \r\n        * def responseHeaders = { &#39;Content-Type&#39;: &#39;application/json&#39; }\r\n        * def response = read(&#39;data.json&#39;) # read data from a file\r\n        * def responseStatus = 200\r\n\r\nP.S. An ideal solution for my use case would be a possibility to have `Scenario Outline`, but seems it is also not supported (as I use `@setup` to provide an external json file)","title":"Karate mock with @setup scenario does not work","body":"<p>I'm on karate v1.4.0</p>\n<p>Want to define a function and a variable to be used on mock creation (<code>pathToMy.js</code> always returns <code>true</code>):</p>\n<pre><code>@setup\nScenario:\n    * def data = read('data.json')\n    * def myFunc = read('pathToMy.js')\n\nScenario: pathMatches('/my_url') &amp;&amp; methodIs('post') &amp;&amp; myFunc()\n    * def responseHeaders = { 'Content-Type': 'application/json' }\n    * def response = data\n    * def responseStatus = 200\n</code></pre>\n<p>When I request to <code>/my_url</code> on test run, it does not return anything: moreover, just having another scenario with or without <code>@setup</code> does not allow mock URL to be captured:</p>\n<pre><code>Scenario:\n    * def data= read('data.json')\n\n# Note that not connected to the above scenario at all\nScenario: pathMatches('/my_url') &amp;&amp; methodIs('post') \n    * def responseHeaders = { 'Content-Type': 'application/json' }\n    * def response = {&quot;my&quot;:&quot;data&quot;} \n    * def responseStatus = 200\n</code></pre>\n<p>Also, when not using additional scenario, but trying to call the method to match, it does not work:</p>\n<pre><code>Scenario: pathMatches('/my_url') &amp;&amp; methodIs('post') &amp;&amp; call read('pathToMy.js') # call diectly\n    * def responseHeaders = { 'Content-Type': 'application/json' }\n    * def response = {&quot;my&quot;:&quot;data&quot;}\n    * def responseStatus = 200\n</code></pre>\n<p>But when I do the same thing without additional scenario and method call it works:</p>\n<pre><code>Scenario: pathMatches('/my_url') &amp;&amp; methodIs('post') \n    * def responseHeaders = { 'Content-Type': 'application/json' }\n    * def response = read('data.json') # read data from a file\n    * def responseStatus = 200\n</code></pre>\n<p>P.S. An ideal solution for my use case would be a possibility to have <code>Scenario Outline</code>, but seems it is also not supported (as I use <code>@setup</code> to provide an external json file)</p>\n"},{"tags":["java","maven","aop","aspectj","hikaricp"],"answers":[{"comments":[{"owner":{"account_id":14996835,"reputation":51,"user_id":10825918,"display_name":"Tovarisch"},"score":0,"creation_date":1696832732,"post_id":77256208,"comment_id":136198331,"body_markdown":"Great answer, man, thanks!","body":"Great answer, man, thanks!"},{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":1,"creation_date":1697076519,"post_id":77256208,"comment_id":136234885,"body_markdown":"Andrey B. Panfilov explained the details very well, but the short answer to the question in the subject is: **No,** you cannot force downstream users to use your dependency instead of the original one. This would be a huge security problem. Imagine, I create a custom version of a popular library with a backdoor and would by some magical means contrive to the whole world to use mine instead of the original one. That does not make sense. So, in Maven the user is in control of which dependencies she pulls into her project.","body":"Andrey B. Panfilov explained the details very well, but the short answer to the question in the subject is: <b>No,</b> you cannot force downstream users to use your dependency instead of the original one. This would be a huge security problem. Imagine, I create a custom version of a popular library with a backdoor and would by some magical means contrive to the whole world to use mine instead of the original one. That does not make sense. So, in Maven the user is in control of which dependencies she pulls into her project."},{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":1,"creation_date":1697076747,"post_id":77256208,"comment_id":136234899,"body_markdown":"That is why the exclusion for the original was necessary, as it was already pulled into your project as a transitive dependency. As for getting this to work smoothly in an IDE, I think this is possible. Exclusions should be respected by IDEs. Just do not try to do everything in one big project. If you create the woven dependency separately and `mvn install|deploy` it, then in the consuming project this limits the possibility that the IDE falsely pulls in the original (`provided` scope) dependency into the classpath when running the projcet from the IDE instead of from the command line.","body":"That is why the exclusion for the original was necessary, as it was already pulled into your project as a transitive dependency. As for getting this to work smoothly in an IDE, I think this is possible. Exclusions should be respected by IDEs. Just do not try to do everything in one big project. If you create the woven dependency separately and <code>mvn install|deploy</code> it, then in the consuming project this limits the possibility that the IDE falsely pulls in the original (<code>provided</code> scope) dependency into the classpath when running the projcet from the IDE instead of from the command line."},{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":2,"creation_date":1697077012,"post_id":77256208,"comment_id":136234915,"body_markdown":"If, instead of using compile-time weaving, you just let your project depend on the aspect library and use load-time weaving instead, it would also work from the IDE, but of course at the expense of configuring LTW. The advantage would be that users would have a choice to run the project with or without aspect enhancement, simply by (de-)activating LTW. Each variant is a teade-off, it depends on the use case&#39;s context.","body":"If, instead of using compile-time weaving, you just let your project depend on the aspect library and use load-time weaving instead, it would also work from the IDE, but of course at the expense of configuring LTW. The advantage would be that users would have a choice to run the project with or without aspect enhancement, simply by (de-)activating LTW. Each variant is a teade-off, it depends on the use case&#39;s context."},{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1697082155,"post_id":77256208,"comment_id":136235340,"body_markdown":"It works, I just tried: I pulled out the aspect module into its own project, using _spring-boot-starter-parent_ as a parent directly, built it with `mvn clean install`, used it as a regular (external) dependency in the application module, excluded the original library, and it works perfectly, also in the IDE. Even jumping to Hikari classes from the IDE leads to the woven ones in the dependency.","body":"It works, I just tried: I pulled out the aspect module into its own project, using <i>spring-boot-starter-parent</i> as a parent directly, built it with <code>mvn clean install</code>, used it as a regular (external) dependency in the application module, excluded the original library, and it works perfectly, also in the IDE. Even jumping to Hikari classes from the IDE leads to the woven ones in the dependency."},{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":2,"creation_date":1697082785,"post_id":77256208,"comment_id":136235389,"body_markdown":"Note to myself and everyone else wondering why Andrey used the `provided` scope: It makes the dependency non-transitive. Very nice, indeed. Read [this Baeldung tutorial](https://www.baeldung.com/maven-dependency-scopes) for reference.","body":"Note to myself and everyone else wondering why Andrey used the <code>provided</code> scope: It makes the dependency non-transitive. Very nice, indeed. Read <a href=\"https://www.baeldung.com/maven-dependency-scopes\" rel=\"nofollow noreferrer\">this Baeldung tutorial</a> for reference."},{"owner":{"account_id":4181375,"reputation":5121,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":1,"creation_date":1697083160,"post_id":77256208,"comment_id":136235411,"body_markdown":"@kriegaex I definitely can&#39;t speak for every IDE, however I can say `IntelliJ` do not support the most of maven &quot;tricks&quot; when we are talking about &quot;My goal is to press green play button opposite to class/method and I expect it should work smoothly&quot;, `aspectj-maven-plugin` is not the only case there, `maven-shade-plugin`, `maven-dependency-plugin` and the most code generators are problematic as well. As for me the rule of thumb is following: if green button does not want to play that means I&#39;m doing something wrong and my activities are just wasting the time of other developers.","body":"@kriegaex I definitely can&#39;t speak for every IDE, however I can say <code>IntelliJ</code> do not support the most of maven &quot;tricks&quot; when we are talking about &quot;My goal is to press green play button opposite to class/method and I expect it should work smoothly&quot;, <code>aspectj-maven-plugin</code> is not the only case there, <code>maven-shade-plugin</code>, <code>maven-dependency-plugin</code> and the most code generators are problematic as well. As for me the rule of thumb is following: if green button does not want to play that means I&#39;m doing something wrong and my activities are just wasting the time of other developers."},{"owner":{"account_id":4181375,"reputation":5121,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":0,"creation_date":1697083328,"post_id":77256208,"comment_id":136235423,"body_markdown":"so, in case of CTW the best option is to move module to another dedicated project, on the other hand, there is a great change that LTW will work &quot;as expected&quot;, at least `IntelliJ` has a special handling of  `maven-surefire-plugin` configuration.","body":"so, in case of CTW the best option is to move module to another dedicated project, on the other hand, there is a great change that LTW will work &quot;as expected&quot;, at least <code>IntelliJ</code> has a special handling of  <code>maven-surefire-plugin</code> configuration."},{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1697086526,"post_id":77256208,"comment_id":136235653,"body_markdown":"I use IntelliJ IDEA Ultimate, and it works as I described it. Of course, splitting into two projects is a workaround for imperfections in IDEA, but it is viable and straightforward. To keep an aspect library separate from consuming projects (plural!), makes sense  for modularisation reasons, even without the need for a workaround. It is a special case to define an aspect library to be used by a single project only. With Hikari in this concrete case, I would also argue that the aspect-enhanced version should be useful in other projects, too.","body":"I use IntelliJ IDEA Ultimate, and it works as I described it. Of course, splitting into two projects is a workaround for imperfections in IDEA, but it is viable and straightforward. To keep an aspect library separate from consuming projects (plural!), makes sense  for modularisation reasons, even without the need for a workaround. It is a special case to define an aspect library to be used by a single project only. With Hikari in this concrete case, I would also argue that the aspect-enhanced version should be useful in other projects, too."},{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1697086977,"post_id":77256208,"comment_id":136235685,"body_markdown":"What you mentioned about Surefire is the support for VM arguments to the test VM, including (in this case) `-javaagent:`. Just be careful not to put the same parameters into the Maven Failsafe config, as IDEA then will use both, duplicating VM parameters, which is quite annoying.","body":"What you mentioned about Surefire is the support for VM arguments to the test VM, including (in this case) <code>-javaagent:</code>. Just be careful not to put the same parameters into the Maven Failsafe config, as IDEA then will use both, duplicating VM parameters, which is quite annoying."},{"owner":{"account_id":4181375,"reputation":5121,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":0,"creation_date":1697090493,"post_id":77256208,"comment_id":136236072,"body_markdown":"IntelliJ contains a special handling of `maven-surefire-plugin` and `maven-failsafe-plugin`: [MavenJUnitPatcher.java](https://github.com/JetBrains/intellij-community/blob/master/plugins/maven/src/main/java/org/jetbrains/idea/maven/execution/MavenJUnitPatcher.java), I do something similar in [SpringBootPatcher.java](https://github.com/andreybpanfilov/spring-boot-patcher/blob/master/src/tel/panfilov/intellij/plugin/springboot/SpringBootPatcher.java), so, LTW has a good chance to work smoothly.","body":"IntelliJ contains a special handling of <code>maven-surefire-plugin</code> and <code>maven-failsafe-plugin</code>: <a href=\"https://github.com/JetBrains/intellij-community/blob/master/plugins/maven/src/main/java/org/jetbrains/idea/maven/execution/MavenJUnitPatcher.java\" rel=\"nofollow noreferrer\">MavenJUnitPatcher.java</a>, I do something similar in <a href=\"https://github.com/andreybpanfilov/spring-boot-patcher/blob/master/src/tel/panfilov/intellij/plugin/springboot/SpringBootPatcher.java\" rel=\"nofollow noreferrer\">SpringBootPatcher.java</a>, so, LTW has a good chance to work smoothly."}],"tags":[],"owner":{"account_id":4181375,"reputation":5121,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"comment_count":11,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1697083499,"creation_date":1696824188,"answer_id":77256208,"question_id":77253592,"body_markdown":"First of all, I do believe `AspectJ` is not proper choice for this particular case, since you are using `spring-framework` you may build more elegant solution using `BeanPostProcessor` and [`datasource-proxy` project](https://github.com/jdbc-observations/datasource-proxy), smth. like:\r\n\r\n\r\n```java\r\npublic class DiagDataSourcePostProcessor implements BeanPostProcessor {\r\n\r\n    @Override\r\n    public Object postProcessAfterInitialization(@NonNull Object bean, @NonNull String beanName) throws BeansException {\r\n        if (!(bean instanceof DataSource)) {\r\n            return bean;\r\n        }\r\n\r\n        ProxyDataSourceBuilder builder = ProxyDataSourceBuilder.create(beanName, (DataSource) bean);\r\n        builder.listener(new JdbcLifecycleEventListenerAdapter() {\r\n\r\n            public void beforeClose(MethodExecutionContext executionContext) {\r\n                if (executionContext.getTarget() instanceof Connection) {\r\n                    // some logic here\r\n                }\r\n            }\r\n\r\n            public void afterGetConnection(MethodExecutionContext executionContext) {\r\n                // some logic here\r\n            }\r\n\r\n\r\n        });\r\n        return builder.build();\r\n    }\r\n\r\n}\r\n```\r\n\r\n```java\r\n@Bean\r\npublic static BeanPostProcessor diagDataSourcePostProcessor() {\r\n    return new DiagDataSourcePostProcessor();\r\n}\r\n```\r\n\r\n\r\n----------\r\n\r\n\r\nAs regards to your aspectj project it contains some smells which actually prevent you from achieving your goal:\r\n\r\n1. you should avoid defining plugins and dependencies in aggregate pom&#39;s - in your case you have turned `aspectj` module into &quot;application&quot; however that should be a &quot;library&quot;, so, aggregate pom (`demo`) should look like:\r\n\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;3.1.4&lt;/version&gt;\r\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    &lt;/parent&gt;\r\n\t\r\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\r\n    &lt;artifactId&gt;demo&lt;/artifactId&gt;\r\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    &lt;packaging&gt;pom&lt;/packaging&gt;\r\n    &lt;name&gt;aspectj-demo&lt;/name&gt;\r\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;java.version&gt;17&lt;/java.version&gt;\r\n    &lt;/properties&gt;\r\n\r\n\t&lt;modules&gt;\r\n\t\t&lt;module&gt;aspectj&lt;/module&gt;\r\n\t\t&lt;module&gt;some-app&lt;/module&gt;\r\n\t&lt;/modules&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\n\r\n2. since the purpose of `aspectj` module is to build some kind of &quot;enhanced&quot; version of `HikariCP` (**in case of compile-time weaving**), it should not &quot;depend&quot; on `HikariCP` from &quot;library observer&quot; perspective, otherwise application classpath will contain two versions of `HikariCP` library: &quot;enhanced&quot; and the original one, so, `aspectj` pom should look like:\r\n\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;com.example&lt;/groupId&gt;\r\n        &lt;artifactId&gt;demo&lt;/artifactId&gt;\r\n        &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    &lt;/parent&gt;\r\n\r\n    &lt;groupId&gt;org.example&lt;/groupId&gt;\r\n    &lt;artifactId&gt;aspectj&lt;/artifactId&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.aspectj&lt;/groupId&gt;\r\n            &lt;artifactId&gt;aspectjrt&lt;/artifactId&gt;\r\n            &lt;version&gt;1.9.20&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.zaxxer&lt;/groupId&gt;\r\n            &lt;artifactId&gt;HikariCP&lt;/artifactId&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n            &lt;optional&gt;true&lt;/optional&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;dependencyManagement&gt;\r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.zaxxer&lt;/groupId&gt;\r\n                &lt;artifactId&gt;HikariCP&lt;/artifactId&gt;\r\n                &lt;version&gt;5.0.1&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n    &lt;/dependencyManagement&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n         &lt;plugin&gt;\r\n            &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n            &lt;artifactId&gt;aspectj-maven-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;1.14.0&lt;/version&gt;\r\n            &lt;configuration&gt;\r\n                &lt;complianceLevel&gt;11&lt;/complianceLevel&gt;\r\n                &lt;showWeaveInfo&gt;true&lt;/showWeaveInfo&gt;\r\n                &lt;verbose&gt;true&lt;/verbose&gt;\r\n                &lt;Xlint&gt;ignore&lt;/Xlint&gt;\r\n                &lt;weaveDependencies&gt;\r\n                    &lt;weaveDependency&gt;\r\n                        &lt;groupId&gt;com.zaxxer&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;HikariCP&lt;/artifactId&gt;\r\n                    &lt;/weaveDependency&gt;\r\n                &lt;/weaveDependencies&gt;\r\n            &lt;/configuration&gt;\r\n            &lt;executions&gt;\r\n                &lt;execution&gt;\r\n                    &lt;goals&gt;\r\n                        &lt;goal&gt;compile&lt;/goal&gt;\r\n                    &lt;/goals&gt;\r\n                &lt;/execution&gt;\r\n            &lt;/executions&gt;\r\n        &lt;/plugin&gt;\r\n    &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\n\r\n3. and, I believe, that is clear the application module (`some-app`) should depend on `aspectj` module and do not depended on `HikariCP`, so, finally we get:\r\n\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;com.example&lt;/groupId&gt;\r\n        &lt;artifactId&gt;demo&lt;/artifactId&gt;\r\n        &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    &lt;/parent&gt;\r\n\r\n    &lt;groupId&gt;org.example&lt;/groupId&gt;\r\n    &lt;artifactId&gt;some-app&lt;/artifactId&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.example&lt;/groupId&gt;\r\n            &lt;artifactId&gt;aspectj&lt;/artifactId&gt;\r\n            &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\r\n            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n            &lt;version&gt;42.5.4&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n            &lt;optional&gt;true&lt;/optional&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;dependencyManagement&gt;\r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n                &lt;version&gt;3.1.4&lt;/version&gt;\r\n                &lt;exclusions&gt;\r\n                    &lt;exclusion&gt;\r\n                        &lt;groupId&gt;com.zaxxer&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;HikariCP&lt;/artifactId&gt;\r\n                    &lt;/exclusion&gt;\r\n                &lt;/exclusions&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n    &lt;/dependencyManagement&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;excludes&gt;\r\n                        &lt;exclude&gt;\r\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n                        &lt;/exclude&gt;\r\n                    &lt;/excludes&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\n\r\nUnfortunately, the configuration above is unreliable, the problem is it does work within maven context but there is no chance it will work smoothly in IDE.","title":"AspectJ weave external dependency code, repackage jar and force dependency users to use it","body":"<p>First of all, I do believe <code>AspectJ</code> is not proper choice for this particular case, since you are using <code>spring-framework</code> you may build more elegant solution using <code>BeanPostProcessor</code> and <a href=\"https://github.com/jdbc-observations/datasource-proxy\" rel=\"nofollow noreferrer\"><code>datasource-proxy</code> project</a>, smth. like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class DiagDataSourcePostProcessor implements BeanPostProcessor {\n\n    @Override\n    public Object postProcessAfterInitialization(@NonNull Object bean, @NonNull String beanName) throws BeansException {\n        if (!(bean instanceof DataSource)) {\n            return bean;\n        }\n\n        ProxyDataSourceBuilder builder = ProxyDataSourceBuilder.create(beanName, (DataSource) bean);\n        builder.listener(new JdbcLifecycleEventListenerAdapter() {\n\n            public void beforeClose(MethodExecutionContext executionContext) {\n                if (executionContext.getTarget() instanceof Connection) {\n                    // some logic here\n                }\n            }\n\n            public void afterGetConnection(MethodExecutionContext executionContext) {\n                // some logic here\n            }\n\n\n        });\n        return builder.build();\n    }\n\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@Bean\npublic static BeanPostProcessor diagDataSourcePostProcessor() {\n    return new DiagDataSourcePostProcessor();\n}\n</code></pre>\n<hr />\n<p>As regards to your aspectj project it contains some smells which actually prevent you from achieving your goal:</p>\n<ol>\n<li>you should avoid defining plugins and dependencies in aggregate pom's - in your case you have turned <code>aspectj</code> module into &quot;application&quot; however that should be a &quot;library&quot;, so, aggregate pom (<code>demo</code>) should look like:</li>\n</ol>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.1.4&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    \n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;demo&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;packaging&gt;pom&lt;/packaging&gt;\n    &lt;name&gt;aspectj-demo&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;/properties&gt;\n\n    &lt;modules&gt;\n        &lt;module&gt;aspectj&lt;/module&gt;\n        &lt;module&gt;some-app&lt;/module&gt;\n    &lt;/modules&gt;\n\n&lt;/project&gt;\n</code></pre>\n<ol start=\"2\">\n<li>since the purpose of <code>aspectj</code> module is to build some kind of &quot;enhanced&quot; version of <code>HikariCP</code> (<strong>in case of compile-time weaving</strong>), it should not &quot;depend&quot; on <code>HikariCP</code> from &quot;library observer&quot; perspective, otherwise application classpath will contain two versions of <code>HikariCP</code> library: &quot;enhanced&quot; and the original one, so, <code>aspectj</code> pom should look like:</li>\n</ol>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;com.example&lt;/groupId&gt;\n        &lt;artifactId&gt;demo&lt;/artifactId&gt;\n        &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;/parent&gt;\n\n    &lt;groupId&gt;org.example&lt;/groupId&gt;\n    &lt;artifactId&gt;aspectj&lt;/artifactId&gt;\n\n    &lt;properties&gt;\n        &lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.aspectj&lt;/groupId&gt;\n            &lt;artifactId&gt;aspectjrt&lt;/artifactId&gt;\n            &lt;version&gt;1.9.20&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n            &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.zaxxer&lt;/groupId&gt;\n            &lt;artifactId&gt;HikariCP&lt;/artifactId&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;dependencyManagement&gt;\n        &lt;dependencies&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;com.zaxxer&lt;/groupId&gt;\n                &lt;artifactId&gt;HikariCP&lt;/artifactId&gt;\n                &lt;version&gt;5.0.1&lt;/version&gt;\n            &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n    &lt;/dependencyManagement&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n         &lt;plugin&gt;\n            &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n            &lt;artifactId&gt;aspectj-maven-plugin&lt;/artifactId&gt;\n            &lt;version&gt;1.14.0&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;complianceLevel&gt;11&lt;/complianceLevel&gt;\n                &lt;showWeaveInfo&gt;true&lt;/showWeaveInfo&gt;\n                &lt;verbose&gt;true&lt;/verbose&gt;\n                &lt;Xlint&gt;ignore&lt;/Xlint&gt;\n                &lt;weaveDependencies&gt;\n                    &lt;weaveDependency&gt;\n                        &lt;groupId&gt;com.zaxxer&lt;/groupId&gt;\n                        &lt;artifactId&gt;HikariCP&lt;/artifactId&gt;\n                    &lt;/weaveDependency&gt;\n                &lt;/weaveDependencies&gt;\n            &lt;/configuration&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;compile&lt;/goal&gt;\n                    &lt;/goals&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<ol start=\"3\">\n<li>and, I believe, that is clear the application module (<code>some-app</code>) should depend on <code>aspectj</code> module and do not depended on <code>HikariCP</code>, so, finally we get:</li>\n</ol>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;com.example&lt;/groupId&gt;\n        &lt;artifactId&gt;demo&lt;/artifactId&gt;\n        &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;/parent&gt;\n\n    &lt;groupId&gt;org.example&lt;/groupId&gt;\n    &lt;artifactId&gt;some-app&lt;/artifactId&gt;\n\n    &lt;properties&gt;\n        &lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.example&lt;/groupId&gt;\n            &lt;artifactId&gt;aspectj&lt;/artifactId&gt;\n            &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n            &lt;version&gt;42.5.4&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;dependencyManagement&gt;\n        &lt;dependencies&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n                &lt;version&gt;3.1.4&lt;/version&gt;\n                &lt;exclusions&gt;\n                    &lt;exclusion&gt;\n                        &lt;groupId&gt;com.zaxxer&lt;/groupId&gt;\n                        &lt;artifactId&gt;HikariCP&lt;/artifactId&gt;\n                    &lt;/exclusion&gt;\n                &lt;/exclusions&gt;\n            &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n    &lt;/dependencyManagement&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;excludes&gt;\n                        &lt;exclude&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                        &lt;/exclude&gt;\n                    &lt;/excludes&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>Unfortunately, the configuration above is unreliable, the problem is it does work within maven context but there is no chance it will work smoothly in IDE.</p>\n"}],"owner":{"account_id":14996835,"reputation":51,"user_id":10825918,"display_name":"Tovarisch"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":83,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77256208,"answer_count":1,"score":1,"last_activity_date":1697083499,"creation_date":1696767709,"question_id":77253592,"body_markdown":"Let&#39;s say I have a common multi-module maven project which modules are used as dependencies across bunch of the projects, I want to weave my Aspects into Hikari dependency classes and make this logic in the on of these common modules and make those common multi-module users to have woven Hikari jar. As I guess the following steps are required:\r\n1) Compile code with aspects (did that)\r\n2) Repackage external jar with code from 1)\r\n3) Somehow force all the projects having this common dependency to use this repackaged jar.\r\n\r\nI am kind of confused of steps 2-3 possibility and didn&#39;t manage to find any reliable guides or doc references. Is it even possible in the way all the changes will be seamless for dependency users? Project to look at or play with : [git-repo][1]\r\n\r\n\r\n  [1]: https://github.com/setofaces/aspectj-maven-sof","title":"AspectJ weave external dependency code, repackage jar and force dependency users to use it","body":"<p>Let's say I have a common multi-module maven project which modules are used as dependencies across bunch of the projects, I want to weave my Aspects into Hikari dependency classes and make this logic in the on of these common modules and make those common multi-module users to have woven Hikari jar. As I guess the following steps are required:</p>\n<ol>\n<li>Compile code with aspects (did that)</li>\n<li>Repackage external jar with code from 1)</li>\n<li>Somehow force all the projects having this common dependency to use this repackaged jar.</li>\n</ol>\n<p>I am kind of confused of steps 2-3 possibility and didn't manage to find any reliable guides or doc references. Is it even possible in the way all the changes will be seamless for dependency users? Project to look at or play with : <a href=\"https://github.com/setofaces/aspectj-maven-sof\" rel=\"nofollow noreferrer\">git-repo</a></p>\n"},{"tags":["java","spring-boot","maven"],"comments":[{"owner":{"account_id":1751415,"reputation":5059,"user_id":1600419,"accept_rate":78,"display_name":"Richie"},"score":0,"creation_date":1612962163,"post_id":66137318,"comment_id":116928673,"body_markdown":"It looks like the problem is in your Test class ApplicationTests. Can you add the code for that class above?","body":"It looks like the problem is in your Test class ApplicationTests. Can you add the code for that class above?"},{"owner":{"account_id":7780187,"reputation":165,"user_id":5886828,"display_name":"SwapnilM"},"score":0,"creation_date":1612963927,"post_id":66137318,"comment_id":116929479,"body_markdown":"@Richie Please find below test class and I don&#39;t see anything in test class\n\n```\nimport org.junit.jupiter.api.Test;\nimport org.springframework.boot.test.context.SpringBootTest;\n\n@SpringBootTest\nclass ApplicationTests {\n\n\t@Test\n\tvoid contextLoads() {\n\t}\n\n}\n```","body":"@Richie Please find below test class and I don&#39;t see anything in test class  ``` import org.junit.jupiter.api.Test; import org.springframework.boot.test.context.SpringBootTest;  @SpringBootTest class ApplicationTests {  \t@Test \tvoid contextLoads() { \t}  } ```"}],"answers":[{"comments":[{"owner":{"account_id":7780187,"reputation":165,"user_id":5886828,"display_name":"SwapnilM"},"score":0,"creation_date":1612963344,"post_id":66137454,"comment_id":116929187,"body_markdown":"I have already added dependency for spring-boot-starter-web","body":"I have already added dependency for spring-boot-starter-web"},{"owner":{"account_id":7780187,"reputation":165,"user_id":5886828,"display_name":"SwapnilM"},"score":0,"creation_date":1612968477,"post_id":66137454,"comment_id":116931682,"body_markdown":"No luck still facing same issue","body":"No luck still facing same issue"},{"owner":{"account_id":9504657,"reputation":7440,"user_id":7064617,"display_name":"JCompetence"},"score":0,"creation_date":1612971425,"post_id":66137454,"comment_id":116933131,"body_markdown":"@SwapnilM it is very weird...when I copied your pom to my eclipse, it was not valid...can you please try what I pasted in the answer.","body":"@SwapnilM it is very weird...when I copied your pom to my eclipse, it was not valid...can you please try what I pasted in the answer."},{"owner":{"account_id":7780187,"reputation":165,"user_id":5886828,"display_name":"SwapnilM"},"score":0,"creation_date":1613111164,"post_id":66137454,"comment_id":116980438,"body_markdown":"I am able to fix it, it is more of spring webmvc version conflict.","body":"I am able to fix it, it is more of spring webmvc version conflict."}],"tags":[],"owner":{"account_id":9504657,"reputation":7440,"user_id":7064617,"display_name":"JCompetence"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1612971498,"creation_date":1612962209,"answer_id":66137454,"question_id":66137318,"body_markdown":"Your error is this:  `Caused by: java.lang.NoClassDefFoundError: org/springframework/web/filter/FormContentFilter`\r\n\r\nFormContentFilter is part of the Spring-Web, therefore I suggest you add to your pom.xml if you use maven, or the proper gradle dependency.\r\n\r\n    &lt;dependency&gt;\r\n    \t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n\r\n--- Kindly remove this dependency:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-web&lt;/artifactId&gt;\r\n        &lt;version&gt;4.3.11.RELEASE&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n-----Edited Pom:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n    \txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \t&lt;groupId&gt;GroupId&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;artifactId&lt;/artifactId&gt;\r\n    \t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    \t&lt;name&gt;appName&lt;/name&gt;\r\n    \t&lt;description&gt;DESC&lt;/description&gt;\r\n    \t&lt;packaging&gt;war&lt;/packaging&gt;\r\n    \t&lt;parent&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;2.4.2&lt;/version&gt;\r\n    \t\t&lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\r\n    \t&lt;/parent&gt;\r\n    \t&lt;properties&gt;\r\n    \t\t&lt;java.version&gt;1.8&lt;/java.version&gt;\r\n    \t&lt;/properties&gt;\r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-data-rest&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-jersey&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-web-services&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.session&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-session-core&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n    \t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.oracle.jdbc&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;ojdbc7&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;12.1.0.2&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-configuration-processor&lt;/artifactId&gt;\r\n    \t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.restdocs&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-restdocs-mockmvc&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t&lt;/dependencies&gt;\r\n    \t&lt;build&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; \r\n    \t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n    &lt;/project&gt;\r\n\r\n","title":"java.lang.IllegalStateException: Error processing condition on org.springframework.boot.actuate.autoconfigure.audit.AuditAutoConfiguration","body":"<p>Your error is this:  <code>Caused by: java.lang.NoClassDefFoundError: org/springframework/web/filter/FormContentFilter</code></p>\n<p>FormContentFilter is part of the Spring-Web, therefore I suggest you add to your pom.xml if you use maven, or the proper gradle dependency.</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>--- Kindly remove this dependency:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-web&lt;/artifactId&gt;\n    &lt;version&gt;4.3.11.RELEASE&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>-----Edited Pom:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;groupId&gt;GroupId&lt;/groupId&gt;\n    &lt;artifactId&gt;artifactId&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;appName&lt;/name&gt;\n    &lt;description&gt;DESC&lt;/description&gt;\n    &lt;packaging&gt;war&lt;/packaging&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.4.2&lt;/version&gt;\n        &lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-rest&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-jersey&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web-services&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.session&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-session-core&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.oracle.jdbc&lt;/groupId&gt;\n            &lt;artifactId&gt;ojdbc7&lt;/artifactId&gt;\n            &lt;version&gt;12.1.0.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-configuration-processor&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.restdocs&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-restdocs-mockmvc&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; \n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7780187,"reputation":165,"user_id":5886828,"display_name":"SwapnilM"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1613111260,"creation_date":1613111260,"answer_id":66167265,"question_id":66137318,"body_markdown":"This is resolved it is more of spring webmvc version conflict. Found it from Effective POM.","title":"java.lang.IllegalStateException: Error processing condition on org.springframework.boot.actuate.autoconfigure.audit.AuditAutoConfiguration","body":"<p>This is resolved it is more of spring webmvc version conflict. Found it from Effective POM.</p>\n"},{"tags":[],"owner":{"account_id":26422715,"reputation":1,"user_id":20070165,"display_name":"Alex"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694346170,"creation_date":1694346170,"answer_id":77075959,"question_id":66137318,"body_markdown":"It&#39;s can be related with error in application.properties or bootstrap.yml too. For me it was incorrect setting &quot;management.endpoints.web.exposure.include=*&quot;. I was converting config from &quot;yml&quot; format to &quot;properties&quot; and forgot to remove the apostrophes around the asterisk. It was \r\n\r\n    management.endpoints.web.exposure.include=&#39;*&#39;\r\n\r\nbut it should be \r\n\r\n    management.endpoints.web.exposure.include=*","title":"java.lang.IllegalStateException: Error processing condition on org.springframework.boot.actuate.autoconfigure.audit.AuditAutoConfiguration","body":"<p>It's can be related with error in application.properties or bootstrap.yml too. For me it was incorrect setting &quot;management.endpoints.web.exposure.include=*&quot;. I was converting config from &quot;yml&quot; format to &quot;properties&quot; and forgot to remove the apostrophes around the asterisk. It was</p>\n<pre><code>management.endpoints.web.exposure.include='*'\n</code></pre>\n<p>but it should be</p>\n<pre><code>management.endpoints.web.exposure.include=*\n</code></pre>\n"}],"owner":{"account_id":7780187,"reputation":165,"user_id":5886828,"display_name":"SwapnilM"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":9684,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":3,"score":2,"last_activity_date":1697083490,"creation_date":1612961709,"question_id":66137318,"body_markdown":"I am trying to write a small hello world program and packaging it with war. I am using maven and writing a SpringBoot App to do this.\r\n\r\nHere is my Application.java file\r\n\r\n    import org.springframework.boot.SpringApplication;\r\n    import org.springframework.boot.autoconfigure.SpringBootApplication;\r\n    import org.springframework.web.bind.annotation.GetMapping;\r\n    import org.springframework.web.bind.annotation.RequestParam;\r\n    import org.springframework.web.bind.annotation.RestController;\r\n    \r\n    \r\n    @SpringBootApplication\r\n    @RestController\r\n    public class Application {\r\n    \t\r\n    \tpublic static void main(String[] args) {\r\n    \t\tSpringApplication.run(Application.class, args);\r\n    \t}\r\n    \t\r\n    \t@GetMapping(&quot;/hello&quot;)\r\n    \tpublic String hello(@RequestParam(value = &quot;name&quot;, defaultValue = &quot;World&quot;) String name) {\r\n    \t\treturn String.format(&quot;Hello %s!&quot;, name);\r\n    \t}\r\n    \t\r\n    }\r\n\r\nWhile building it I am getting error :\r\n\r\n        [INFO] --------------------------&lt; PackageName:appName &gt;------------------\r\n        [INFO] Building appName 0.0.1-SNAPSHOT\r\n        [INFO] --------------------------------[ war ]----------------------------\r\n        [INFO] \r\n        [INFO] --- maven-clean-plugin:3.1.0:clean (default-clean) @ appName ---\r\n        [INFO] Deleting C:\\Downloads\\appName\\target\r\n    \r\n        [INFO] --- maven-compiler-plugin:3.8.1:compile (default-compile) @ appName ---\r\n        [INFO] Changes detected - recompiling the module!\r\n        [INFO] Compiling 2 source files to C:\\Downloads\\appName\\target\\classes\r\n        [INFO] \r\n        [INFO] --- maven-resources-plugin:3.2.0:testResources (default-testResources) @ appName ---\r\n        [INFO] skip non existing resourceDirectory C:\\Downloads\\appName\\src\\test\\resources\r\n        [INFO] \r\n        [INFO] --- maven-compiler-plugin:3.8.1:testCompile (default-testCompile) @ appName ---\r\n        [INFO] Changes detected - recompiling the module!\r\n        [INFO] Compiling 1 source file to C:\\Downloads\\appName\\target\\test-classes\r\n        [INFO] \r\n        [INFO] --- maven-surefire-plugin:2.22.2:test (default-test) @ appName ---\r\n        [INFO] \r\n        [INFO] -------------------------------------------------------\r\n        [INFO]  T E S T S\r\n        [INFO] -------------------------------------------------------\r\n        [INFO] Running packageName.ApplicationTests\r\n        17:17:40.487 [main] DEBUG org.springframework.test.context.BootstrapUtils - Instantiating CacheAwareContextLoaderDelegate from class [org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate]\r\n        17:17:40.521 [main] DEBUG org.springframework.test.context.BootstrapUtils - Instantiating BootstrapContext using constructor [public org.springframework.test.context.support.DefaultBootstrapContext(java.lang.Class,org.springframework.test.context.CacheAwareContextLoaderDelegate)]\r\n        17:17:40.598 [main] DEBUG org.springframework.test.context.BootstrapUtils - Instantiating TestContextBootstrapper for test class [packageName.ApplicationTests] from class [org.springframework.boot.test.context.SpringBootTestContextBootstrapper]\r\n        17:17:40.637 [main] INFO org.springframework.boot.test.context.SpringBootTestContextBootstrapper - Neither @ContextConfiguration nor @ContextHierarchy found for test class [packageName.ApplicationTests], using SpringBootContextLoader\r\n        17:17:40.646 [main] DEBUG org.springframework.test.context.support.AbstractContextLoader - Did not detect default resource location for test class [packageName.ApplicationTests]: class path resource [packageName/ApplicationTests-context.xml] does not exist\r\n        17:17:40.647 [main] DEBUG org.springframework.test.context.support.AbstractContextLoader - Did not detect default resource location for test class [packageName.ApplicationTests]: class path resource [packageName/ApplicationTestsContext.groovy] does not exist\r\n        17:17:40.647 [main] INFO org.springframework.test.context.support.AbstractContextLoader - Could not detect default resource locations for test class [packageName.ApplicationTests]: no resource found for suffixes {-context.xml, Context.groovy}.\r\n        17:17:40.649 [main] INFO org.springframework.test.context.support.AnnotationConfigContextLoaderUtils - Could not detect default configuration classes for test class [packageName.ApplicationTests]: ApplicationTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.\r\n        17:17:40.827 [main] DEBUG org.springframework.test.context.support.ActiveProfilesUtils - Could not find an &#39;annotation declaring class&#39; for annotation type [org.springframework.test.context.ActiveProfiles] and class [packageName.ApplicationTests]\r\n        17:17:41.085 [main] DEBUG org.springframework.context.annotation.ClassPathScanningCandidateComponentProvider - Identified candidate component class: file [C:\\Downloads\\appName\\target\\classes\\packageName\\Application.class]\r\n        17:17:41.093 [main] INFO org.springframework.boot.test.context.SpringBootTestContextBootstrapper - Found @SpringBootConfiguration packageName.Application for test class packageName.ApplicationTests\r\n        17:17:41.347 [main] DEBUG org.springframework.boot.test.context.SpringBootTestContextBootstrapper - @TestExecutionListeners is not present for class [packageName.ApplicationTests]: using defaults.\r\n        17:17:41.349 [main] INFO org.springframework.boot.test.context.SpringBootTestContextBootstrapper - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener]\r\n        17:17:41.500 [main] INFO org.springframework.boot.test.context.SpringBootTestContextBootstrapper - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@338fc1d8, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@4722ef0c, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@48e1f6c7, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@55cb6996, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@1807e3f6, org.springframework.test.context.support.DirtiesContextTestExecutionListener@480d3575, org.springframework.test.context.transaction.TransactionalTestExecutionListener@f1da57d, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@194fad1, org.springframework.test.context.event.EventPublishingTestExecutionListener@26abb146, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@72c8e7b, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@65f8f5ae, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@431cd9b2, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@38467116, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@5b7a7f33, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@790da477, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@5c7933ad, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@57bc27f5]\r\n        17:17:41.517 [main] DEBUG org.springframework.test.context.support.AbstractDirtiesContextTestExecutionListener - Before test class: context [DefaultTestContext@30f842ca testClass = ApplicationTests, testInstance = [null], testMethod = [null], testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@69c81773 testClass = ApplicationTests, locations = &#39;{}&#39;, classes = &#39;{class packageName.Application}&#39;, contextInitializerClasses = &#39;[]&#39;, activeProfiles = &#39;{}&#39;, propertySourceLocations = &#39;{}&#39;, propertySourceProperties = &#39;{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}&#39;, contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@74fe5c40, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@131774fe, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@7d8995e, org.springframework.boot.test.autoconfigure.actuate.metrics.MetricsExportContextCustomizerFactory$DisableMetricExportContextCustomizer@f6efaab, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@368f2016, org.springframework.boot.test.context.SpringBootTestArgs@1, org.springframework.boot.test.context.SpringBootTestWebEnvironment@5cb9f472], resourceBasePath = &#39;src/main/webapp&#39;, contextLoader = &#39;org.springframework.boot.test.context.SpringBootContextLoader&#39;, parent = [null]], attributes = map[&#39;org.springframework.test.context.web.ServletTestExecutionListener.activateListener&#39; -&gt; true]], class annotated with @DirtiesContext [false] with mode [null].\r\n        17:17:41.636 [main] DEBUG org.springframework.test.context.support.TestPropertySourceUtils - Adding inlined properties to environment: {spring.jmx.enabled=false, org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}\r\n        \r\n          .   ____          _            __ _ _\r\n         /\\\\ / ___&#39;_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\r\n        ( ( )\\___ | &#39;_ | &#39;_| | &#39;_ \\/ _` | \\ \\ \\ \\\r\n         \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\r\n          &#39;  |____| .__|_| |_|_| |_\\__, | / / / /\r\n         =========|_|==============|___/=/_/_/_/\r\n         :: Spring Boot ::                (v2.4.2)\r\n        \r\n        2021-02-10 17:17:42.425  INFO 8100 --- [           main] packageName.ApplicationTests     : Starting ApplicationTests using Java 1.8.0_202 on hostName with PID 8100 (started by user in C:\\Downloads\\appName)\r\n        2021-02-10 17:17:42.432  INFO 8100 --- [           main] packageName.ApplicationTests     : No active profile set, falling back to default profiles: default\r\n        2021-02-10 17:17:45.008 ERROR 8100 --- [           main] o.s.boot.SpringApplication               : Application run failed\r\n        \r\n        java.lang.IllegalStateException: Error processing condition on org.springframework.boot.actuate.autoconfigure.audit.AuditAutoConfiguration\r\n        \tat org.springframework.boot.autoconfigure.condition.SpringBootCondition.matches(SpringBootCondition.java:60) ~[spring-boot-autoconfigure-2.4.2.jar:2.4.2]\r\n        \tat org.springframework.context.annotation.ConditionEvaluator.shouldSkip(ConditionEvaluator.java:108) ~[spring-context-5.3.3.jar:5.3.3]\r\n        \tat org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader$TrackedConditionEvaluator.shouldSkip(ConfigurationClassBeanDefinitionReader.java:489) ~[spring-context-5.3.3.jar:5.3.3]\r\n        \tat org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader.loadBeanDefinitionsForConfigurationClass(ConfigurationClassBeanDefinitionReader.java:140) ~[spring-context-5.3.3.jar:5.3.3]\r\n        \tat org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader.loadBeanDefinitions(ConfigurationClassBeanDefinitionReader.java:129) ~[spring-context-5.3.3.jar:5.3.3]\r\n        \tat org.springframework.context.annotation.ConfigurationClassPostProcessor.processConfigBeanDefinitions(ConfigurationClassPostProcessor.java:348) ~[spring-context-5.3.3.jar:5.3.3] at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:124) [spring-test-5.3.3.jar:5.3.3]\r\n        \tat org.springframework.test.context.web.ServletTestExecutionListener.setUpRequestContextIfNecessary(ServletTestExecutionListener.java:190) [spring-test-5.3.3.jar:5.3.3]\r\n        \tat org.springframework.test.context.web.ServletTestExecutionListener.prepareTestInstance(ServletTestExecutionListener.java:132) [spring-test-5.3.3.jar:5.3.3]\r\n        \tat org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:244) [spring-test-5.3.3.jar:5.3.3]\r\n        \tat org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138) [spring-test-5.3.3.jar:5.3.3]\r\n        \tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$6(ClassBasedTestDescriptor.java:350) [junit-jupiter-engine-5.7.0.jar:5.7.0]\r\n        \tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:355) [junit-jupiter-engine-5.7.0.jar:5.7.0]\r\n        \tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$7(ClassBasedTestDescriptor.java:350) [junit-jupiter-engine-5.7.0.jar:5.7.0]\r\n        \tat java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193) ~[na:1.8.0_202]\r\n        \tat java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:175) ~[na:1.8.0_202]\r\n        \tat java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1382) ~[na:1.8.0_202]\r\n        \tat java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:481) ~[na:1.8.0_202]\r\n        \tat java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:471) ~[na:1.8.0_202]\r\n        \tat java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:312) ~[na:1.8.0_202]\r\n        \tat java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:743) ~[na:1.8.0_202]\r\n        \tat java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:742) ~[na:1.8.0_202]\r\n        \tat java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:580) ~[na:1.8.0_202]\r\n        \tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:349) [junit-jupiter-engine-5.7.0.jar:5.7.0]\r\n        \tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$4(ClassBasedTestDescriptor.java:270) [junit-jupiter-engine-5.7.0.jar:5.7.0]\r\n        \tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.7.0.jar:1.7.0]\r\n        \tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:269) [junit-jupiter-engine-5.7.0.jar:5.7.0]\r\n        \tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$2(ClassBasedTestDescriptor.java:259) [junit-jupiter-engine-5.7.0.jar:5.7.0]\r\n        \tat java.util.Optional.orElseGet(Optional.java:267) ~[na:1.8.0_202]\r\n        \tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$3(ClassBasedTestDescriptor.java:258) [junit-jupiter-engine-5.7.0.jar:5.7.0]\r\n        \tat org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31) ~[junit-jupiter-engine-5.7.0.jar:5.7.0]\r\n        \tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:101) ~[junit-jupiter-engine-5.7.0.jar:5.7.0]\r\n        \tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.7.0.jar:1.7.0]\r\n        \tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:100) ~[junit-jupiter-engine-5.7.0.jar:5.7.0]\r\n        \tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:65) ~[junit-jupiter-engine-5.7.0.jar:5.7.0]\r\n        \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$1(NodeTestTask.java:111) ~[junit-platform-engine-1.7.0.jar:1.7.0]\r\n        \tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.7.0.jar:1.7.0]\r\n        \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:111) ~[junit-platform-engine-1.7.0.jar:1.7.0]\r\n        \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:79) ~[junit-platform-engine-1.7.0.jar:1.7.0]\r\n        \tat java.util.ArrayList.forEach(ArrayList.java:1257) ~[na:1.8.0_202]\r\n        \tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38) ~[junit-platform-engine-1.7.0.jar:1.7.0]\r\n        \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$5(NodeTestTask.java:143) ~[junit-platform-engine-1.7.0.jar:1.7.0]\r\n        \tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.7.0.jar:1.7.0]\r\n        \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$7(NodeTestTask.java:129) ~[junit-platform-engine-1.7.0.jar:1.7.0]\r\n        \tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137) ~[junit-platform-engine-1.7.0.jar:1.7.0]\r\n        \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:127) ~[junit-platform-engine-1.7.0.jar:1.7.0]\r\n        \tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.7.0.jar:1.7.0]\r\n        \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:126) ~[junit-platform-engine-1.7.0.jar:1.7.0]\r\n        \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:84) ~[junit-platform-engine-1.7.0.jar:1.7.0]\r\n        \tat java.util.ArrayList.forEach(ArrayList.java:1257) ~[na:1.8.0_202]\r\n        \tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38) ~[junit-platform-engine-1.7.0.jar:1.7.0]\r\n        \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$5(NodeTestTask.java:143) ~[junit-platform-engine-1.7.0.jar:1.7.0]\r\n        \tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.7.0.jar:1.7.0]\r\n        \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$7(NodeTestTask.java:129) ~[junit-platform-engine-1.7.0.jar:1.7.0]\r\n        \tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137) ~[junit-platform-engine-1.7.0.jar:1.7.0]\r\n        \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:127) ~[junit-platform-engine-1.7.0.jar:1.7.0]\r\n        \tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.7.0.jar:1.7.0]\r\n        \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:126) ~[junit-platform-engine-1.7.0.jar:1.7.0]\r\n        \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:84) ~[junit-platform-engine-1.7.0.jar:1.7.0]\r\n        \tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:32) ~[junit-platform-engine-1.7.0.jar:1.7.0]\r\n        \tat org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57) ~[junit-platform-engine-1.7.0.jar:1.7.0]\r\n        \tat org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:51) ~[junit-platform-engine-1.7.0.jar:1.7.0]\r\n        \tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:220) ~[junit-platform-launcher-1.3.1.jar:1.3.1]\r\n        \tat org.junit.platform.launcher.core.DefaultLauncher.lambda$execute$6(DefaultLauncher.java:188) ~[junit-platform-launcher-1.3.1.jar:1.3.1]\r\n        \tat org.junit.platform.launcher.core.DefaultLauncher.withInterceptedStreams(DefaultLauncher.java:202) ~[junit-platform-launcher-1.3.1.jar:1.3.1]\r\n        \tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:181) ~[junit-platform-launcher-1.3.1.jar:1.3.1]\r\n        \tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:128) ~[junit-platform-launcher-1.3.1.jar:1.3.1]\r\n        \tat org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:150) ~[surefire-junit-platform-2.22.2.jar:2.22.2]\r\n        \tat org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:124) ~[surefire-junit-platform-2.22.2.jar:2.22.2]\r\n        \tat org.apache.maven.surefire.booter.ForkedBooter.invokeProviderInSameClassLoader(ForkedBooter.java:384) ~[surefire-booter-2.22.2.jar:2.22.2]\r\n        \tat org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:345) ~[surefire-booter-2.22.2.jar:2.22.2]\r\n        \tat org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:126) ~[surefire-booter-2.22.2.jar:2.22.2]\r\n        \tat org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:418) ~[surefire-booter-2.22.2.jar:2.22.2]\r\n        Caused by: java.lang.IllegalStateException: Failed to introspect Class [org.springframework.boot.autoconfigure.web.servlet.WebMvcAutoConfiguration] from ClassLoader [sun.misc.Launcher$AppClassLoader@42a57993]\r\n        \tat org.springframework.util.ReflectionUtils.getDeclaredMethods(ReflectionUtils.java:481) ~[spring-core-5.3.3.jar:5.3.3]\r\n        \tat org.springframework.util.ReflectionUtils.doWithMethods(ReflectionUtils.java:358) ~[spring-core-5.3.3.jar:5.3.3]\r\n        \tat org.springframework.util.ReflectionUtils.getUniqueDeclaredMethods(ReflectionUtils.java:414) ~[spring-core-5.3.3.jar:5.3.3]\r\n        \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.lambda$getTypeForFactoryMethod$2(AbstractAutowireCapableBeanFactory.java:754) ~[spring-beans-5.3.3.jar:5.3.3]\r\n        \tat java.util.concurrent.ConcurrentHashMap.computeIfAbsent(ConcurrentHashMap.java:1660) ~[na:1.8.0_202]\r\n        \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.getTypeForFactoryMethod(AbstractAutowireCapableBeanFactory.java:753) ~[spring-beans-5.3.3.jar:5.3.3]\r\n        \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.determineTargetType(AbstractAutowireCapableBeanFactory.java:692) ~[spring-beans-5.3.3.jar:5.3.3]\r\n        \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.predictBeanType(AbstractAutowireCapableBeanFactory.java:663) ~[spring-beans-5.3.3.jar:5.3.3]\r\n        \tat org.springframework.beans.factory.support.AbstractBeanFactory.isFactoryBean(AbstractBeanFactory.java:1670) ~[spring-beans-5.3.3.jar:5.3.3]\r\n    org.springframework.boot.autoconfigure.condition.OnBeanCondition.collectBeanNamesForType(OnBeanCondition.java:238) ~[spring-boot-autoconfigure-2.4.2.jar:2.4.2]\r\n        \tat org.springframework.boot.autoconfigure.condition.OnBeanCondition.getMatchingBeans(OnBeanCondition.java:169) ~[spring-boot-autoconfigure-2.4.2.jar:2.4.2]\r\n        \tat org.springframework.boot.autoconfigure.condition.OnBeanCondition.getMatchOutcome(OnBeanCondition.java:119) ~[spring-boot-autoconfigure-2.4.2.jar:2.4.2]\r\n        \tat org.springframework.boot.autoconfigure.condition.SpringBootCondition.matches(SpringBootCondition.java:47) ~[spring-boot-autoconfigure-2.4.2.jar:2.4.2]\r\n        \t... 84 common frames omitted\r\n        Caused by: java.lang.NoClassDefFoundError: org/springframework/web/filter/FormContentFilter\r\n        \tat java.lang.ClassLoader.defineClass1(Native Method) ~[na:1.8.0_202]\r\n        \tat java.lang.ClassLoader.defineClass(ClassLoader.java:763) ~[na:1.8.0_202]\r\n        \tat java.security.SecureClassLoader.defineClass(SecureClassLoader.java:142) ~[na:1.8.0_202]\r\n        \tat java.net.URLClassLoader.defineClass(URLClassLoader.java:468) ~[na:1.8.0_202]\r\n        \tat java.net.URLClassLoader.access$100(URLClassLoader.java:74) ~[na:1.8.0_202]\r\n        \tat java.net.URLClassLoader$1.run(URLClassLoader.java:369) ~[na:1.8.0_202]\r\n        \tat java.net.URLClassLoader$1.run(URLClassLoader.java:363) ~[na:1.8.0_202]\r\n        \tat java.security.AccessController.doPrivileged(Native Method) ~[na:1.8.0_202]\r\n        \tat java.net.URLClassLoader.findClass(URLClassLoader.java:362) ~[na:1.8.0_202]\r\n        \tat java.lang.ClassLoader.loadClass(ClassLoader.java:424) ~[na:1.8.0_202]\r\n        \tat java.lang.Class.getDeclaredMethods(Class.java:1975) ~[na:1.8.0_202]\r\n        \tat org.springframework.util.ReflectionUtils.getDeclaredMethods(ReflectionUtils.java:463) ~[spring-core-5.3.3.jar:5.3.3]\r\n        \t... 100 common frames omitted\r\n        Caused by: java.lang.ClassNotFoundException: org.springframework.web.filter.FormContentFilter\r\n\r\n\r\nmy pom.xml\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\nxsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n&lt;groupId&gt;GroupId&lt;/groupId&gt;\t&lt;artifactId&gt;artifactId&lt;/artifactId &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n&lt;name&gt;appName&lt;/name&gt; &lt;description&gt;DESC&lt;/description&gt; &lt;packaging&gt;war&lt;/packaging&gt;\r\n&lt;parent&gt;&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;&lt;version&gt;2.4.2&lt;/version&gt;&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n&lt;/parent&gt;&lt;properties&gt; &lt;java.version&gt;1.8&lt;/java.version&gt; &lt;/properties&gt;\r\n&lt;dependencies&gt;&lt;dependency&gt; &lt;groupId&gt;org.springframework&lt;/groupId&gt; &lt;artifactId&gt;spring-web&lt;/artifactId&gt; &lt;version&gt;4.3.11.RELEASE&lt;/version&gt; &lt;/dependency&gt;&lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt; &lt;/dependency&gt;\r\n&lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt; &lt;/dependency&gt;\r\n&lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-data-rest&lt;/artifactId&gt; &lt;/dependency&gt;&lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-jersey&lt;/artifactId&gt; &lt;/dependency&gt;\r\n&lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt; &lt;/dependency&gt;\r\n&lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt; &lt;/dependency&gt;\r\n&lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt; &lt;/dependency&gt;\r\n&lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-web-services&lt;/artifactId&gt; &lt;/dependency&gt;\r\n&lt;dependency&gt; &lt;groupId&gt;org.springframework.session&lt;/groupId&gt; &lt;artifactId&gt;spring-session-core&lt;/artifactId&gt; &lt;/dependency&gt;\r\n&lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt; &lt;scope&gt;runtime&lt;/scope&gt; &lt;optional&gt;true&lt;/optional&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;com.oracle.jdbc&lt;/groupId&gt; &lt;artifactId&gt;ojdbc7&lt;/artifactId&gt; &lt;version&gt;12.1.0.2&lt;/version&gt; &lt;/dependency&gt;&lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-configuration-processor&lt;/artifactId&gt; &lt;optional&gt;true&lt;/optional&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt; &lt;scope&gt;test&lt;/scope&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework.restdocs&lt;/groupId&gt; &lt;artifactId&gt;spring-restdocs-mockmvc&lt;/artifactId&gt; &lt;scope&gt;test&lt;/scope&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework.security&lt;/groupId&gt; &lt;artifactId&gt;spring-security-test&lt;/artifactId&gt; &lt;scope&gt;test&lt;/scope&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt; &lt;/dependency&gt;      &lt;/dependencies&gt; &lt;build&gt; &lt;plugins&gt; &lt;plugin&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;&lt;/plugin&gt;&lt;/plugins&gt;&lt;/build&gt;&lt;/project&gt;\r\n```\r\nCan anybody suggest what is going wrong here and why am I getting this error.\r\nHelp is appreciated. Thanks.\r\n","title":"java.lang.IllegalStateException: Error processing condition on org.springframework.boot.actuate.autoconfigure.audit.AuditAutoConfiguration","body":"<p>I am trying to write a small hello world program and packaging it with war. I am using maven and writing a SpringBoot App to do this.</p>\n<p>Here is my Application.java file</p>\n<pre><code>import org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.RequestParam;\nimport org.springframework.web.bind.annotation.RestController;\n\n\n@SpringBootApplication\n@RestController\npublic class Application {\n    \n    public static void main(String[] args) {\n        SpringApplication.run(Application.class, args);\n    }\n    \n    @GetMapping(&quot;/hello&quot;)\n    public String hello(@RequestParam(value = &quot;name&quot;, defaultValue = &quot;World&quot;) String name) {\n        return String.format(&quot;Hello %s!&quot;, name);\n    }\n    \n}\n</code></pre>\n<p>While building it I am getting error :</p>\n<pre><code>    [INFO] --------------------------&lt; PackageName:appName &gt;------------------\n    [INFO] Building appName 0.0.1-SNAPSHOT\n    [INFO] --------------------------------[ war ]----------------------------\n    [INFO] \n    [INFO] --- maven-clean-plugin:3.1.0:clean (default-clean) @ appName ---\n    [INFO] Deleting C:\\Downloads\\appName\\target\n\n    [INFO] --- maven-compiler-plugin:3.8.1:compile (default-compile) @ appName ---\n    [INFO] Changes detected - recompiling the module!\n    [INFO] Compiling 2 source files to C:\\Downloads\\appName\\target\\classes\n    [INFO] \n    [INFO] --- maven-resources-plugin:3.2.0:testResources (default-testResources) @ appName ---\n    [INFO] skip non existing resourceDirectory C:\\Downloads\\appName\\src\\test\\resources\n    [INFO] \n    [INFO] --- maven-compiler-plugin:3.8.1:testCompile (default-testCompile) @ appName ---\n    [INFO] Changes detected - recompiling the module!\n    [INFO] Compiling 1 source file to C:\\Downloads\\appName\\target\\test-classes\n    [INFO] \n    [INFO] --- maven-surefire-plugin:2.22.2:test (default-test) @ appName ---\n    [INFO] \n    [INFO] -------------------------------------------------------\n    [INFO]  T E S T S\n    [INFO] -------------------------------------------------------\n    [INFO] Running packageName.ApplicationTests\n    17:17:40.487 [main] DEBUG org.springframework.test.context.BootstrapUtils - Instantiating CacheAwareContextLoaderDelegate from class [org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate]\n    17:17:40.521 [main] DEBUG org.springframework.test.context.BootstrapUtils - Instantiating BootstrapContext using constructor [public org.springframework.test.context.support.DefaultBootstrapContext(java.lang.Class,org.springframework.test.context.CacheAwareContextLoaderDelegate)]\n    17:17:40.598 [main] DEBUG org.springframework.test.context.BootstrapUtils - Instantiating TestContextBootstrapper for test class [packageName.ApplicationTests] from class [org.springframework.boot.test.context.SpringBootTestContextBootstrapper]\n    17:17:40.637 [main] INFO org.springframework.boot.test.context.SpringBootTestContextBootstrapper - Neither @ContextConfiguration nor @ContextHierarchy found for test class [packageName.ApplicationTests], using SpringBootContextLoader\n    17:17:40.646 [main] DEBUG org.springframework.test.context.support.AbstractContextLoader - Did not detect default resource location for test class [packageName.ApplicationTests]: class path resource [packageName/ApplicationTests-context.xml] does not exist\n    17:17:40.647 [main] DEBUG org.springframework.test.context.support.AbstractContextLoader - Did not detect default resource location for test class [packageName.ApplicationTests]: class path resource [packageName/ApplicationTestsContext.groovy] does not exist\n    17:17:40.647 [main] INFO org.springframework.test.context.support.AbstractContextLoader - Could not detect default resource locations for test class [packageName.ApplicationTests]: no resource found for suffixes {-context.xml, Context.groovy}.\n    17:17:40.649 [main] INFO org.springframework.test.context.support.AnnotationConfigContextLoaderUtils - Could not detect default configuration classes for test class [packageName.ApplicationTests]: ApplicationTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.\n    17:17:40.827 [main] DEBUG org.springframework.test.context.support.ActiveProfilesUtils - Could not find an 'annotation declaring class' for annotation type [org.springframework.test.context.ActiveProfiles] and class [packageName.ApplicationTests]\n    17:17:41.085 [main] DEBUG org.springframework.context.annotation.ClassPathScanningCandidateComponentProvider - Identified candidate component class: file [C:\\Downloads\\appName\\target\\classes\\packageName\\Application.class]\n    17:17:41.093 [main] INFO org.springframework.boot.test.context.SpringBootTestContextBootstrapper - Found @SpringBootConfiguration packageName.Application for test class packageName.ApplicationTests\n    17:17:41.347 [main] DEBUG org.springframework.boot.test.context.SpringBootTestContextBootstrapper - @TestExecutionListeners is not present for class [packageName.ApplicationTests]: using defaults.\n    17:17:41.349 [main] INFO org.springframework.boot.test.context.SpringBootTestContextBootstrapper - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener]\n    17:17:41.500 [main] INFO org.springframework.boot.test.context.SpringBootTestContextBootstrapper - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@338fc1d8, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@4722ef0c, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@48e1f6c7, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@55cb6996, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@1807e3f6, org.springframework.test.context.support.DirtiesContextTestExecutionListener@480d3575, org.springframework.test.context.transaction.TransactionalTestExecutionListener@f1da57d, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@194fad1, org.springframework.test.context.event.EventPublishingTestExecutionListener@26abb146, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@72c8e7b, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@65f8f5ae, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@431cd9b2, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@38467116, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@5b7a7f33, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@790da477, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@5c7933ad, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@57bc27f5]\n    17:17:41.517 [main] DEBUG org.springframework.test.context.support.AbstractDirtiesContextTestExecutionListener - Before test class: context [DefaultTestContext@30f842ca testClass = ApplicationTests, testInstance = [null], testMethod = [null], testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@69c81773 testClass = ApplicationTests, locations = '{}', classes = '{class packageName.Application}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@74fe5c40, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@131774fe, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@7d8995e, org.springframework.boot.test.autoconfigure.actuate.metrics.MetricsExportContextCustomizerFactory$DisableMetricExportContextCustomizer@f6efaab, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@368f2016, org.springframework.boot.test.context.SpringBootTestArgs@1, org.springframework.boot.test.context.SpringBootTestWebEnvironment@5cb9f472], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -&gt; true]], class annotated with @DirtiesContext [false] with mode [null].\n    17:17:41.636 [main] DEBUG org.springframework.test.context.support.TestPropertySourceUtils - Adding inlined properties to environment: {spring.jmx.enabled=false, org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}\n    \n      .   ____          _            __ _ _\n     /\\\\ / ___'_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\n    ( ( )\\___ | '_ | '_| | '_ \\/ _` | \\ \\ \\ \\\n     \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\n      '  |____| .__|_| |_|_| |_\\__, | / / / /\n     =========|_|==============|___/=/_/_/_/\n     :: Spring Boot ::                (v2.4.2)\n    \n    2021-02-10 17:17:42.425  INFO 8100 --- [           main] packageName.ApplicationTests     : Starting ApplicationTests using Java 1.8.0_202 on hostName with PID 8100 (started by user in C:\\Downloads\\appName)\n    2021-02-10 17:17:42.432  INFO 8100 --- [           main] packageName.ApplicationTests     : No active profile set, falling back to default profiles: default\n    2021-02-10 17:17:45.008 ERROR 8100 --- [           main] o.s.boot.SpringApplication               : Application run failed\n    \n    java.lang.IllegalStateException: Error processing condition on org.springframework.boot.actuate.autoconfigure.audit.AuditAutoConfiguration\n        at org.springframework.boot.autoconfigure.condition.SpringBootCondition.matches(SpringBootCondition.java:60) ~[spring-boot-autoconfigure-2.4.2.jar:2.4.2]\n        at org.springframework.context.annotation.ConditionEvaluator.shouldSkip(ConditionEvaluator.java:108) ~[spring-context-5.3.3.jar:5.3.3]\n        at org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader$TrackedConditionEvaluator.shouldSkip(ConfigurationClassBeanDefinitionReader.java:489) ~[spring-context-5.3.3.jar:5.3.3]\n        at org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader.loadBeanDefinitionsForConfigurationClass(ConfigurationClassBeanDefinitionReader.java:140) ~[spring-context-5.3.3.jar:5.3.3]\n        at org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader.loadBeanDefinitions(ConfigurationClassBeanDefinitionReader.java:129) ~[spring-context-5.3.3.jar:5.3.3]\n        at org.springframework.context.annotation.ConfigurationClassPostProcessor.processConfigBeanDefinitions(ConfigurationClassPostProcessor.java:348) ~[spring-context-5.3.3.jar:5.3.3] at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:124) [spring-test-5.3.3.jar:5.3.3]\n        at org.springframework.test.context.web.ServletTestExecutionListener.setUpRequestContextIfNecessary(ServletTestExecutionListener.java:190) [spring-test-5.3.3.jar:5.3.3]\n        at org.springframework.test.context.web.ServletTestExecutionListener.prepareTestInstance(ServletTestExecutionListener.java:132) [spring-test-5.3.3.jar:5.3.3]\n        at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:244) [spring-test-5.3.3.jar:5.3.3]\n        at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138) [spring-test-5.3.3.jar:5.3.3]\n        at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$6(ClassBasedTestDescriptor.java:350) [junit-jupiter-engine-5.7.0.jar:5.7.0]\n        at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:355) [junit-jupiter-engine-5.7.0.jar:5.7.0]\n        at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$7(ClassBasedTestDescriptor.java:350) [junit-jupiter-engine-5.7.0.jar:5.7.0]\n        at java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193) ~[na:1.8.0_202]\n        at java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:175) ~[na:1.8.0_202]\n        at java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1382) ~[na:1.8.0_202]\n        at java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:481) ~[na:1.8.0_202]\n        at java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:471) ~[na:1.8.0_202]\n        at java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:312) ~[na:1.8.0_202]\n        at java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:743) ~[na:1.8.0_202]\n        at java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:742) ~[na:1.8.0_202]\n        at java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:580) ~[na:1.8.0_202]\n        at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:349) [junit-jupiter-engine-5.7.0.jar:5.7.0]\n        at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$4(ClassBasedTestDescriptor.java:270) [junit-jupiter-engine-5.7.0.jar:5.7.0]\n        at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.7.0.jar:1.7.0]\n        at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:269) [junit-jupiter-engine-5.7.0.jar:5.7.0]\n        at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$2(ClassBasedTestDescriptor.java:259) [junit-jupiter-engine-5.7.0.jar:5.7.0]\n        at java.util.Optional.orElseGet(Optional.java:267) ~[na:1.8.0_202]\n        at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$3(ClassBasedTestDescriptor.java:258) [junit-jupiter-engine-5.7.0.jar:5.7.0]\n        at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31) ~[junit-jupiter-engine-5.7.0.jar:5.7.0]\n        at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:101) ~[junit-jupiter-engine-5.7.0.jar:5.7.0]\n        at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.7.0.jar:1.7.0]\n        at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:100) ~[junit-jupiter-engine-5.7.0.jar:5.7.0]\n        at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:65) ~[junit-jupiter-engine-5.7.0.jar:5.7.0]\n        at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$1(NodeTestTask.java:111) ~[junit-platform-engine-1.7.0.jar:1.7.0]\n        at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.7.0.jar:1.7.0]\n        at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:111) ~[junit-platform-engine-1.7.0.jar:1.7.0]\n        at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:79) ~[junit-platform-engine-1.7.0.jar:1.7.0]\n        at java.util.ArrayList.forEach(ArrayList.java:1257) ~[na:1.8.0_202]\n        at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38) ~[junit-platform-engine-1.7.0.jar:1.7.0]\n        at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$5(NodeTestTask.java:143) ~[junit-platform-engine-1.7.0.jar:1.7.0]\n        at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.7.0.jar:1.7.0]\n        at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$7(NodeTestTask.java:129) ~[junit-platform-engine-1.7.0.jar:1.7.0]\n        at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137) ~[junit-platform-engine-1.7.0.jar:1.7.0]\n        at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:127) ~[junit-platform-engine-1.7.0.jar:1.7.0]\n        at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.7.0.jar:1.7.0]\n        at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:126) ~[junit-platform-engine-1.7.0.jar:1.7.0]\n        at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:84) ~[junit-platform-engine-1.7.0.jar:1.7.0]\n        at java.util.ArrayList.forEach(ArrayList.java:1257) ~[na:1.8.0_202]\n        at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38) ~[junit-platform-engine-1.7.0.jar:1.7.0]\n        at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$5(NodeTestTask.java:143) ~[junit-platform-engine-1.7.0.jar:1.7.0]\n        at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.7.0.jar:1.7.0]\n        at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$7(NodeTestTask.java:129) ~[junit-platform-engine-1.7.0.jar:1.7.0]\n        at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137) ~[junit-platform-engine-1.7.0.jar:1.7.0]\n        at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:127) ~[junit-platform-engine-1.7.0.jar:1.7.0]\n        at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.7.0.jar:1.7.0]\n        at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:126) ~[junit-platform-engine-1.7.0.jar:1.7.0]\n        at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:84) ~[junit-platform-engine-1.7.0.jar:1.7.0]\n        at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:32) ~[junit-platform-engine-1.7.0.jar:1.7.0]\n        at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57) ~[junit-platform-engine-1.7.0.jar:1.7.0]\n        at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:51) ~[junit-platform-engine-1.7.0.jar:1.7.0]\n        at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:220) ~[junit-platform-launcher-1.3.1.jar:1.3.1]\n        at org.junit.platform.launcher.core.DefaultLauncher.lambda$execute$6(DefaultLauncher.java:188) ~[junit-platform-launcher-1.3.1.jar:1.3.1]\n        at org.junit.platform.launcher.core.DefaultLauncher.withInterceptedStreams(DefaultLauncher.java:202) ~[junit-platform-launcher-1.3.1.jar:1.3.1]\n        at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:181) ~[junit-platform-launcher-1.3.1.jar:1.3.1]\n        at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:128) ~[junit-platform-launcher-1.3.1.jar:1.3.1]\n        at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:150) ~[surefire-junit-platform-2.22.2.jar:2.22.2]\n        at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:124) ~[surefire-junit-platform-2.22.2.jar:2.22.2]\n        at org.apache.maven.surefire.booter.ForkedBooter.invokeProviderInSameClassLoader(ForkedBooter.java:384) ~[surefire-booter-2.22.2.jar:2.22.2]\n        at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:345) ~[surefire-booter-2.22.2.jar:2.22.2]\n        at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:126) ~[surefire-booter-2.22.2.jar:2.22.2]\n        at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:418) ~[surefire-booter-2.22.2.jar:2.22.2]\n    Caused by: java.lang.IllegalStateException: Failed to introspect Class [org.springframework.boot.autoconfigure.web.servlet.WebMvcAutoConfiguration] from ClassLoader [sun.misc.Launcher$AppClassLoader@42a57993]\n        at org.springframework.util.ReflectionUtils.getDeclaredMethods(ReflectionUtils.java:481) ~[spring-core-5.3.3.jar:5.3.3]\n        at org.springframework.util.ReflectionUtils.doWithMethods(ReflectionUtils.java:358) ~[spring-core-5.3.3.jar:5.3.3]\n        at org.springframework.util.ReflectionUtils.getUniqueDeclaredMethods(ReflectionUtils.java:414) ~[spring-core-5.3.3.jar:5.3.3]\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.lambda$getTypeForFactoryMethod$2(AbstractAutowireCapableBeanFactory.java:754) ~[spring-beans-5.3.3.jar:5.3.3]\n        at java.util.concurrent.ConcurrentHashMap.computeIfAbsent(ConcurrentHashMap.java:1660) ~[na:1.8.0_202]\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.getTypeForFactoryMethod(AbstractAutowireCapableBeanFactory.java:753) ~[spring-beans-5.3.3.jar:5.3.3]\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.determineTargetType(AbstractAutowireCapableBeanFactory.java:692) ~[spring-beans-5.3.3.jar:5.3.3]\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.predictBeanType(AbstractAutowireCapableBeanFactory.java:663) ~[spring-beans-5.3.3.jar:5.3.3]\n        at org.springframework.beans.factory.support.AbstractBeanFactory.isFactoryBean(AbstractBeanFactory.java:1670) ~[spring-beans-5.3.3.jar:5.3.3]\norg.springframework.boot.autoconfigure.condition.OnBeanCondition.collectBeanNamesForType(OnBeanCondition.java:238) ~[spring-boot-autoconfigure-2.4.2.jar:2.4.2]\n        at org.springframework.boot.autoconfigure.condition.OnBeanCondition.getMatchingBeans(OnBeanCondition.java:169) ~[spring-boot-autoconfigure-2.4.2.jar:2.4.2]\n        at org.springframework.boot.autoconfigure.condition.OnBeanCondition.getMatchOutcome(OnBeanCondition.java:119) ~[spring-boot-autoconfigure-2.4.2.jar:2.4.2]\n        at org.springframework.boot.autoconfigure.condition.SpringBootCondition.matches(SpringBootCondition.java:47) ~[spring-boot-autoconfigure-2.4.2.jar:2.4.2]\n        ... 84 common frames omitted\n    Caused by: java.lang.NoClassDefFoundError: org/springframework/web/filter/FormContentFilter\n        at java.lang.ClassLoader.defineClass1(Native Method) ~[na:1.8.0_202]\n        at java.lang.ClassLoader.defineClass(ClassLoader.java:763) ~[na:1.8.0_202]\n        at java.security.SecureClassLoader.defineClass(SecureClassLoader.java:142) ~[na:1.8.0_202]\n        at java.net.URLClassLoader.defineClass(URLClassLoader.java:468) ~[na:1.8.0_202]\n        at java.net.URLClassLoader.access$100(URLClassLoader.java:74) ~[na:1.8.0_202]\n        at java.net.URLClassLoader$1.run(URLClassLoader.java:369) ~[na:1.8.0_202]\n        at java.net.URLClassLoader$1.run(URLClassLoader.java:363) ~[na:1.8.0_202]\n        at java.security.AccessController.doPrivileged(Native Method) ~[na:1.8.0_202]\n        at java.net.URLClassLoader.findClass(URLClassLoader.java:362) ~[na:1.8.0_202]\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:424) ~[na:1.8.0_202]\n        at java.lang.Class.getDeclaredMethods(Class.java:1975) ~[na:1.8.0_202]\n        at org.springframework.util.ReflectionUtils.getDeclaredMethods(ReflectionUtils.java:463) ~[spring-core-5.3.3.jar:5.3.3]\n        ... 100 common frames omitted\n    Caused by: java.lang.ClassNotFoundException: org.springframework.web.filter.FormContentFilter\n</code></pre>\n<p>my pom.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\nxsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n&lt;groupId&gt;GroupId&lt;/groupId&gt;  &lt;artifactId&gt;artifactId&lt;/artifactId &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n&lt;name&gt;appName&lt;/name&gt; &lt;description&gt;DESC&lt;/description&gt; &lt;packaging&gt;war&lt;/packaging&gt;\n&lt;parent&gt;&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;&lt;version&gt;2.4.2&lt;/version&gt;&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n&lt;/parent&gt;&lt;properties&gt; &lt;java.version&gt;1.8&lt;/java.version&gt; &lt;/properties&gt;\n&lt;dependencies&gt;&lt;dependency&gt; &lt;groupId&gt;org.springframework&lt;/groupId&gt; &lt;artifactId&gt;spring-web&lt;/artifactId&gt; &lt;version&gt;4.3.11.RELEASE&lt;/version&gt; &lt;/dependency&gt;&lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt; &lt;/dependency&gt;\n&lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt; &lt;/dependency&gt;\n&lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-data-rest&lt;/artifactId&gt; &lt;/dependency&gt;&lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-jersey&lt;/artifactId&gt; &lt;/dependency&gt;\n&lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt; &lt;/dependency&gt;\n&lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt; &lt;/dependency&gt;\n&lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt; &lt;/dependency&gt;\n&lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-web-services&lt;/artifactId&gt; &lt;/dependency&gt;\n&lt;dependency&gt; &lt;groupId&gt;org.springframework.session&lt;/groupId&gt; &lt;artifactId&gt;spring-session-core&lt;/artifactId&gt; &lt;/dependency&gt;\n&lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt; &lt;scope&gt;runtime&lt;/scope&gt; &lt;optional&gt;true&lt;/optional&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;com.oracle.jdbc&lt;/groupId&gt; &lt;artifactId&gt;ojdbc7&lt;/artifactId&gt; &lt;version&gt;12.1.0.2&lt;/version&gt; &lt;/dependency&gt;&lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-configuration-processor&lt;/artifactId&gt; &lt;optional&gt;true&lt;/optional&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt; &lt;scope&gt;test&lt;/scope&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework.restdocs&lt;/groupId&gt; &lt;artifactId&gt;spring-restdocs-mockmvc&lt;/artifactId&gt; &lt;scope&gt;test&lt;/scope&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework.security&lt;/groupId&gt; &lt;artifactId&gt;spring-security-test&lt;/artifactId&gt; &lt;scope&gt;test&lt;/scope&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt; &lt;/dependency&gt;      &lt;/dependencies&gt; &lt;build&gt; &lt;plugins&gt; &lt;plugin&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;&lt;/plugin&gt;&lt;/plugins&gt;&lt;/build&gt;&lt;/project&gt;\n</code></pre>\n<p>Can anybody suggest what is going wrong here and why am I getting this error.\nHelp is appreciated. Thanks.</p>\n"},{"tags":["java","spring","youtube-data-api"],"owner":{"account_id":9672,"reputation":4912,"user_id":17967,"accept_rate":66,"display_name":"Gary Kephart"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697083173,"creation_date":1696306487,"question_id":77219629,"body_markdown":"I am creating a website using Spring Boot 2.7.9 (Spring 5) that is making calls to the YouTube API (via an Open Feign interface). Right now, I&#39;m just trying to successfully call getRatings, using the scope below, but am getting the exception below. I already created users before adding this scope. \r\n\r\nOne solution seems to be &quot;revoke the users access and then authorize your application again&quot; which I assume means to go to &quot;https://console.cloud.google.com/apis&quot; but I could not find where on there to do that.\r\n\r\nIs there something else I need to do, like specify the scopes during user authentication on my app? Add a header to the request to YouTube?\r\n\r\nI&#39;m not sure what other info you need in order to help me solve this, so please let me know that.\r\n\r\n\t\t&quot;error&quot;: {\r\n\t\t\t&quot;code&quot;: 403,\r\n\t\t\t&quot;message&quot;: &quot;Request had insufficient authentication scopes.&quot;,\r\n\t\t\t&quot;errors&quot;: [\r\n\t\t\t\t{\r\n\t\t\t\t\t&quot;message&quot;: &quot;Insufficient Permission&quot;,\r\n\t\t\t\t\t&quot;domain&quot;: &quot;global&quot;,\r\n\t\t\t\t\t&quot;reason&quot;: &quot;insufficientPermissions&quot;\r\n\t\t\t\t}\r\n\t\t\t],\r\n\t\t\t&quot;status&quot;: &quot;PERMISSION_DENIED&quot;,\r\n\t\t\t&quot;details&quot;: [\r\n\t\t\t\t{\r\n\t\t\t\t\t&quot;@type&quot;: &quot;type.googleapis.com/google.rpc.ErrorInfo&quot;,\r\n\t\t\t\t\t&quot;reason&quot;: &quot;ACCESS_TOKEN_SCOPE_INSUFFICIENT&quot;,\r\n\t\t\t\t\t&quot;domain&quot;: &quot;googleapis.com&quot;,\r\n\t\t\t\t\t&quot;metadata&quot;: {\r\n\t\t\t\t\t\t&quot;service&quot;: &quot;youtube.googleapis.com&quot;,\r\n\t\t\t\t\t\t&quot;method&quot;: &quot;youtube.api.v3.V3DataVideoRatingService.List&quot;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t]\r\n\t\t}\r\n\t}\r\n\r\nAn example access token looks like this\r\n\r\n    ya29.a0AfB_byAc7...\r\n\r\nMy Open Feign call to Google looks like this:\r\n\r\n    @FeignClient(value = &quot;youTubeService&quot;, url = &quot;https://www.googleapis.com/youtube/v3&quot;)\r\n    public interface FeignYouTubeService\r\n    {\r\n      @GetMapping(&quot;/videos/getRating&quot;)\r\n      YouTubeRatingResponse getVideoRating(//\r\n        @RequestHeader(name = &quot;Authorization&quot;)\r\n        String accessToken,\r\n        @RequestParam(&quot;id&quot;)\r\n        String videoId, //\r\n        @RequestParam(&quot;key&quot;)\r\n        String key);\r\n\r\n\r\nHere I&#39;m showing that my app has that scope.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nWhen I set this up in Postman, it works. So what&#39;s the difference? What in my Spring Security could be different?\r\n\r\n  [1]: https://i.stack.imgur.com/VXtId.png","title":"How do I solve getting ACCESS_TOKEN_SCOPE_INSUFFICIENT exception using Google/YouTube API?","body":"<p>I am creating a website using Spring Boot 2.7.9 (Spring 5) that is making calls to the YouTube API (via an Open Feign interface). Right now, I'm just trying to successfully call getRatings, using the scope below, but am getting the exception below. I already created users before adding this scope.</p>\n<p>One solution seems to be &quot;revoke the users access and then authorize your application again&quot; which I assume means to go to &quot;https://console.cloud.google.com/apis&quot; but I could not find where on there to do that.</p>\n<p>Is there something else I need to do, like specify the scopes during user authentication on my app? Add a header to the request to YouTube?</p>\n<p>I'm not sure what other info you need in order to help me solve this, so please let me know that.</p>\n<pre><code>    &quot;error&quot;: {\n        &quot;code&quot;: 403,\n        &quot;message&quot;: &quot;Request had insufficient authentication scopes.&quot;,\n        &quot;errors&quot;: [\n            {\n                &quot;message&quot;: &quot;Insufficient Permission&quot;,\n                &quot;domain&quot;: &quot;global&quot;,\n                &quot;reason&quot;: &quot;insufficientPermissions&quot;\n            }\n        ],\n        &quot;status&quot;: &quot;PERMISSION_DENIED&quot;,\n        &quot;details&quot;: [\n            {\n                &quot;@type&quot;: &quot;type.googleapis.com/google.rpc.ErrorInfo&quot;,\n                &quot;reason&quot;: &quot;ACCESS_TOKEN_SCOPE_INSUFFICIENT&quot;,\n                &quot;domain&quot;: &quot;googleapis.com&quot;,\n                &quot;metadata&quot;: {\n                    &quot;service&quot;: &quot;youtube.googleapis.com&quot;,\n                    &quot;method&quot;: &quot;youtube.api.v3.V3DataVideoRatingService.List&quot;\n                }\n            }\n        ]\n    }\n}\n</code></pre>\n<p>An example access token looks like this</p>\n<pre><code>ya29.a0AfB_byAc7...\n</code></pre>\n<p>My Open Feign call to Google looks like this:</p>\n<pre><code>@FeignClient(value = &quot;youTubeService&quot;, url = &quot;https://www.googleapis.com/youtube/v3&quot;)\npublic interface FeignYouTubeService\n{\n  @GetMapping(&quot;/videos/getRating&quot;)\n  YouTubeRatingResponse getVideoRating(//\n    @RequestHeader(name = &quot;Authorization&quot;)\n    String accessToken,\n    @RequestParam(&quot;id&quot;)\n    String videoId, //\n    @RequestParam(&quot;key&quot;)\n    String key);\n</code></pre>\n<p>Here I'm showing that my app has that scope.</p>\n<p><a href=\"https://i.stack.imgur.com/VXtId.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/VXtId.png\" alt=\"enter image description here\" /></a></p>\n<p>When I set this up in Postman, it works. So what's the difference? What in my Spring Security could be different?</p>\n"},{"tags":["java","tuples","key-value","priority-queue","avl-tree"],"comments":[{"owner":{"account_id":13385810,"reputation":862,"user_id":9659759,"display_name":"Jake"},"score":1,"creation_date":1679344409,"post_id":75793357,"comment_id":133702213,"body_markdown":"I think a bit more context may be valuable here.  For example, why do you want to share a single Node class with both an AVL tree and a PriorityQueue?  What problems are you actually experiencing - just general uncertainty with how to proceed, or is there a specific bug you&#39;re hitting?  How are you planning on implementing your PriorityQueue? As far as syntax issues go, at a minimum, the snippet above is missing a closing brace, and you also wouldn&#39;t normally put `@Override` inside of a comment.  Probably no need to import any of the native Java data structures, either.","body":"I think a bit more context may be valuable here.  For example, why do you want to share a single Node class with both an AVL tree and a PriorityQueue?  What problems are you actually experiencing - just general uncertainty with how to proceed, or is there a specific bug you&#39;re hitting?  How are you planning on implementing your PriorityQueue? As far as syntax issues go, at a minimum, the snippet above is missing a closing brace, and you also wouldn&#39;t normally put <code>@Override</code> inside of a comment.  Probably no need to import any of the native Java data structures, either."},{"owner":{"account_id":25539081,"reputation":41,"user_id":19325537,"display_name":"eshtabel3asal"},"score":0,"creation_date":1679347788,"post_id":75793357,"comment_id":133702870,"body_markdown":"@Jake I&#39;m trying to create a priorityqueue class that takes a the node (a tuple) as input, in order for it to sort itself out according to the value of the tuple. so I thought that by passing it the same Node class that&#39;s in the AVLTree class, I can do that. basically, I&#39;m trying to sort out the nodes (each made of  key and a value) of the avl tree by the values from largest to smallest. I&#39;m unsure how to proceed","body":"@Jake I&#39;m trying to create a priorityqueue class that takes a the node (a tuple) as input, in order for it to sort itself out according to the value of the tuple. so I thought that by passing it the same Node class that&#39;s in the AVLTree class, I can do that. basically, I&#39;m trying to sort out the nodes (each made of  key and a value) of the avl tree by the values from largest to smallest. I&#39;m unsure how to proceed"}],"answers":[{"comments":[{"owner":{"account_id":25539081,"reputation":41,"user_id":19325537,"display_name":"eshtabel3asal"},"score":0,"creation_date":1679361386,"post_id":75796045,"comment_id":133704756,"body_markdown":"Thank you so much! I&#39;m trying to put all the words from a txt file into an AVL tree (ordered alphabetically) &amp; count their frequency in the txt file so that each node of the AVL tree is a node (word, frequency). then I wanted to put all those words into a PQ where they would be ordered in terms of their value (aka frequency) so I can later poll() to take out the most frequent words (I was also going to try to reverse the order of PQ so poll() can take out the highest frequency not the lowest frequency). so how would I be able to do that if the PQ takes Integer, not key, value or tuple?","body":"Thank you so much! I&#39;m trying to put all the words from a txt file into an AVL tree (ordered alphabetically) &amp; count their frequency in the txt file so that each node of the AVL tree is a node (word, frequency). then I wanted to put all those words into a PQ where they would be ordered in terms of their value (aka frequency) so I can later poll() to take out the most frequent words (I was also going to try to reverse the order of PQ so poll() can take out the highest frequency not the lowest frequency). so how would I be able to do that if the PQ takes Integer, not key, value or tuple?"},{"owner":{"account_id":13385810,"reputation":862,"user_id":9659759,"display_name":"Jake"},"score":0,"creation_date":1679379837,"post_id":75796045,"comment_id":133706668,"body_markdown":"Well for that specific task, a simple Integer PQ will not work, you are correct; you would need, as you have already discovered, a key-value pairing.  So yes, you could hard-code this as a Tuple class, or go all-out and make your PQ a true generic class, up to you.  But I would still try to provide a layer of abstraction between your AVL::Node and PQ::Tuple classes, perhaps using a snippet something like this `Node temp = avlTree.getNode(); pq.add(new Tuple(temp.key, temp.value));`.  Although at the end of the day, for a project like this, you should feel free to do it however you prefer.","body":"Well for that specific task, a simple Integer PQ will not work, you are correct; you would need, as you have already discovered, a key-value pairing.  So yes, you could hard-code this as a Tuple class, or go all-out and make your PQ a true generic class, up to you.  But I would still try to provide a layer of abstraction between your AVL::Node and PQ::Tuple classes, perhaps using a snippet something like this <code>Node temp = avlTree.getNode(); pq.add(new Tuple(temp.key, temp.value));</code>.  Although at the end of the day, for a project like this, you should feel free to do it however you prefer."}],"tags":[],"owner":{"account_id":13385810,"reputation":862,"user_id":9659759,"display_name":"Jake"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1679352997,"creation_date":1679352997,"answer_id":75796045,"question_id":75793357,"body_markdown":"I have a few comments to offer, based on the OP&#39;s original question and most recent reply.  Since the OP doesn&#39;t seem to have a specific technical question, I&#39;m just going to provide some commentary, in hopes of moving them forwards.  \r\n\r\nFirst, I would try not to get too hung up on the integration between the AVL tree and PriorityQueue.  It&#39;s fine to have this as an end goal, but good implementations of most data structures will be generic enough that they can be easily modified to accept slightly different incoming data types.  You can often accomplish this with [generics](https://www.geeksforgeeks.org/generics-in-java/) (which it seems you are already familiar with), but good, flexible class design can also go a long way.  So to start with, I would focus on creating a functional AVL tree that just stores, for example, integers, and then a functional Priority Queue that also just stores integers, and then you can worry about the extra complexity of additional types and interfacing between the two of them once the base functionality works.  That is my personal philosophy though, and there are lots of other viable design strategies here as well.  \r\n\r\nSecond, you said &quot;I&#39;m trying to create a priorityqueue class that takes a the *node (a tuple)* as input&quot;.  I want to point out that right now, a Node is NOT a Tuple, nor are they related to each other in any way.  It would also be very weird to define a method on your priority queue that accepts an instance of AVLTree::Node; this would be tightly coupling two inherently unrelated data structures together.  If you wanted to extract Node to its own public class, and have it extend Tuple, or something of that nature, that is one option.  But most data structure implementations you see in the real world will be standalone and will utilize either primitive or generic types for their public methods.  \r\n\r\nSo to give an example, using some very rough code that will not compile, I would consider this to be a bad implementation:\r\n\r\n    public class PriorityQueue{\r\n      private LinkedList&lt;Integer&gt; queue;\r\n\r\n      // tied too tightly to a different data structure that should be unrelated\r\n      public void addNodeToPQ(Node node){\r\n        this.queue.addLast(node.value);  // this isn&#39;t really how you would add a value to a PriorityQueue, it&#39;s just for example\r\n      }\r\n    }\r\n    \r\n    PriorityQueue pq = new PriorityQueue();\r\n    AVLTree avlTree = new AVLTree();\r\n    pq.addNodeToPQ(avlTree.get(1));\r\n\r\nWhile this implementation is cleaner and more extendable\r\n\r\n    public class PriorityQueue{\r\n      private LinkedList&lt;Integer&gt; queue;\r\n\r\n      // Uses a very basic type (Integer), rather than relying on another specialized data structure.  This allows multiple consumers to use your PriorityQueue, not just your AVLTree\r\n      public void addValueToPQ(Integer value){\r\n        this.queue.addLast(value); // this isn&#39;t really how you would add a value to a PriorityQueue, it&#39;s just for example\r\n      }\r\n    }\r\n    \r\n    PriorityQueue pq = new PriorityQueue();\r\n    AVLTree avlTree = new AVLTree();\r\n    pq.addValueToPQ(avlTree.get(1).value);\r\n\r\nRegarding errors in your `PriorityQueue_AVL` code, I can think of 4 things I would change off the top of my head\r\n\r\n 1. No obvious reason to import HashMap, Map, or PriorityQueue in your class\r\n 2. Presumably you are going to be instantiating individual Tuple objects, so using `static` in the class definition is not appropriate and will not work\r\n 3. `@Override` should not be commented\r\n 4. You were missing a closing `}` for your class. \r\n\r\nOutside of these, the code compiles just fine for me, so if there are additional syntax errors that you would like help with, some more details will be necessary.  \r\n\r\nLastly, I do want to point out that an AVLTree (and also a PriorityQueue to some extent) is a complex data structure.  If you&#39;re new to Java (and ESPECIALLY if you are new to programming in general) and you&#39;re doing this exercise purely for academic purposes, I suggest starting off by implementing something a little easier (ArrayList and LinkedList come to mind).  But if that isn&#39;t the case, disregard.  \r\n\r\nIf you have additional, specific questions, I (or others) are likely happy to help, but without more code or details added to your original question, I think the above is pretty much everything I have to offer.  \r\n","title":"How can I add a tuple (key, value) from AVL Tree to a priority queue in java?","body":"<p>I have a few comments to offer, based on the OP's original question and most recent reply.  Since the OP doesn't seem to have a specific technical question, I'm just going to provide some commentary, in hopes of moving them forwards.</p>\n<p>First, I would try not to get too hung up on the integration between the AVL tree and PriorityQueue.  It's fine to have this as an end goal, but good implementations of most data structures will be generic enough that they can be easily modified to accept slightly different incoming data types.  You can often accomplish this with <a href=\"https://www.geeksforgeeks.org/generics-in-java/\" rel=\"nofollow noreferrer\">generics</a> (which it seems you are already familiar with), but good, flexible class design can also go a long way.  So to start with, I would focus on creating a functional AVL tree that just stores, for example, integers, and then a functional Priority Queue that also just stores integers, and then you can worry about the extra complexity of additional types and interfacing between the two of them once the base functionality works.  That is my personal philosophy though, and there are lots of other viable design strategies here as well.</p>\n<p>Second, you said &quot;I'm trying to create a priorityqueue class that takes a the <em>node (a tuple)</em> as input&quot;.  I want to point out that right now, a Node is NOT a Tuple, nor are they related to each other in any way.  It would also be very weird to define a method on your priority queue that accepts an instance of AVLTree::Node; this would be tightly coupling two inherently unrelated data structures together.  If you wanted to extract Node to its own public class, and have it extend Tuple, or something of that nature, that is one option.  But most data structure implementations you see in the real world will be standalone and will utilize either primitive or generic types for their public methods.</p>\n<p>So to give an example, using some very rough code that will not compile, I would consider this to be a bad implementation:</p>\n<pre><code>public class PriorityQueue{\n  private LinkedList&lt;Integer&gt; queue;\n\n  // tied too tightly to a different data structure that should be unrelated\n  public void addNodeToPQ(Node node){\n    this.queue.addLast(node.value);  // this isn't really how you would add a value to a PriorityQueue, it's just for example\n  }\n}\n\nPriorityQueue pq = new PriorityQueue();\nAVLTree avlTree = new AVLTree();\npq.addNodeToPQ(avlTree.get(1));\n</code></pre>\n<p>While this implementation is cleaner and more extendable</p>\n<pre><code>public class PriorityQueue{\n  private LinkedList&lt;Integer&gt; queue;\n\n  // Uses a very basic type (Integer), rather than relying on another specialized data structure.  This allows multiple consumers to use your PriorityQueue, not just your AVLTree\n  public void addValueToPQ(Integer value){\n    this.queue.addLast(value); // this isn't really how you would add a value to a PriorityQueue, it's just for example\n  }\n}\n\nPriorityQueue pq = new PriorityQueue();\nAVLTree avlTree = new AVLTree();\npq.addValueToPQ(avlTree.get(1).value);\n</code></pre>\n<p>Regarding errors in your <code>PriorityQueue_AVL</code> code, I can think of 4 things I would change off the top of my head</p>\n<ol>\n<li>No obvious reason to import HashMap, Map, or PriorityQueue in your class</li>\n<li>Presumably you are going to be instantiating individual Tuple objects, so using <code>static</code> in the class definition is not appropriate and will not work</li>\n<li><code>@Override</code> should not be commented</li>\n<li>You were missing a closing <code>}</code> for your class.</li>\n</ol>\n<p>Outside of these, the code compiles just fine for me, so if there are additional syntax errors that you would like help with, some more details will be necessary.</p>\n<p>Lastly, I do want to point out that an AVLTree (and also a PriorityQueue to some extent) is a complex data structure.  If you're new to Java (and ESPECIALLY if you are new to programming in general) and you're doing this exercise purely for academic purposes, I suggest starting off by implementing something a little easier (ArrayList and LinkedList come to mind).  But if that isn't the case, disregard.</p>\n<p>If you have additional, specific questions, I (or others) are likely happy to help, but without more code or details added to your original question, I think the above is pretty much everything I have to offer.</p>\n"}],"owner":{"account_id":25539081,"reputation":41,"user_id":19325537,"display_name":"eshtabel3asal"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":98,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1697082587,"creation_date":1679332590,"question_id":75793357,"body_markdown":"I want to build a priority queue, where the elements are the nodes of my AVL tree. The priority queue should order the nodes with the one with the highest value first, and the one with the lowest value last. I tried to create a new class to implement it, but I&#39;m not sure how to create it in a way that indicates that each element in the priority queue is a node in the AVL tree.\r\n\r\nThis is my code so far:\r\n\r\n```java\r\nimport java.util.HashMap;\r\nimport java.util.Map;\r\nimport java.util.PriorityQueue;\r\n\r\npublic class PriorityQueue_AVL {\r\n    \r\n    static class Tuple implements Comparable&lt;Tuple&gt;{\r\n        String key;\r\n        int value;\r\n             \r\n        public Tuple(String key, int value){\r\n            this.key = key;\r\n            this.value = value;\r\n        }\r\n     \r\n        //@Override\r\n        public int compareTo(Tuple node) {\r\n            return this.value - node.value; //if positive, then this.value is larger so it goes first, and vice versa\r\n        }\r\n```\r\n\r\nRight below the `compareTo()` method in the above class, I also tried to create a method that iterates through the AVL tree to add each element to the priority queue, but Im not sure if that&#39;s how it should be done. `node`, `key`, and `value` are all underlined in red in the method:\r\n\r\n```java\r\n    static void AVLtoPQ(){\r\n        System.out.println();\r\n        // push elements into priority queue PQ\r\n        PriorityQueue&lt;Tuple&gt; PQ = new PriorityQueue&lt;Tuple&gt;();\r\n        if (AVLTree.node != null) {\r\n            inOrderTraversal(node.left);\r\n            PQ.add(new Tuple(key, value));\r\n            inOrderTraversal(node.right);    \r\n        }\r\n    }\r\n```\r\n\r\nThis is how I&#39;m defining the AVL tree nodes in the `AVLTree.java` class:\r\n\r\n```java\r\n    public class AVLTree&lt;Key extends Comparable&lt;Key&gt;, Value&gt; {\r\n    \r\n        private Node root;  // root of the AVL tree\r\n    \r\n        // A node of the AVL tree\r\n        public class Node {\r\n            private Key key;           // key of the node\r\n            private Value value;       // value of the node\r\n            private Node left, right;  // left and right subtrees of the node\r\n            private int height;        // height of the node\r\n    \r\n            public Node(Key key, Value value) {\r\n                this.key = key;\r\n                this.value = value;\r\n                this.height = 1;\r\n            }\r\n        }\r\n```\r\n    \r\nWhat&#39;s wrong with the code, and how can I fix it? I know I need to &quot;connect&quot; the `AVLTree.java` class to the `PriorityQueue_AVL.java` class to be able to use the object Node there, but I&#39;m not sure how. Also, the syntax for the priority queue is off, and I can&#39;t pinpoint why.","title":"How can I add a tuple (key, value) from AVL Tree to a priority queue in java?","body":"<p>I want to build a priority queue, where the elements are the nodes of my AVL tree. The priority queue should order the nodes with the one with the highest value first, and the one with the lowest value last. I tried to create a new class to implement it, but I'm not sure how to create it in a way that indicates that each element in the priority queue is a node in the AVL tree.</p>\n<p>This is my code so far:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.HashMap;\nimport java.util.Map;\nimport java.util.PriorityQueue;\n\npublic class PriorityQueue_AVL {\n    \n    static class Tuple implements Comparable&lt;Tuple&gt;{\n        String key;\n        int value;\n             \n        public Tuple(String key, int value){\n            this.key = key;\n            this.value = value;\n        }\n     \n        //@Override\n        public int compareTo(Tuple node) {\n            return this.value - node.value; //if positive, then this.value is larger so it goes first, and vice versa\n        }\n</code></pre>\n<p>Right below the <code>compareTo()</code> method in the above class, I also tried to create a method that iterates through the AVL tree to add each element to the priority queue, but Im not sure if that's how it should be done. <code>node</code>, <code>key</code>, and <code>value</code> are all underlined in red in the method:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    static void AVLtoPQ(){\n        System.out.println();\n        // push elements into priority queue PQ\n        PriorityQueue&lt;Tuple&gt; PQ = new PriorityQueue&lt;Tuple&gt;();\n        if (AVLTree.node != null) {\n            inOrderTraversal(node.left);\n            PQ.add(new Tuple(key, value));\n            inOrderTraversal(node.right);    \n        }\n    }\n</code></pre>\n<p>This is how I'm defining the AVL tree nodes in the <code>AVLTree.java</code> class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    public class AVLTree&lt;Key extends Comparable&lt;Key&gt;, Value&gt; {\n    \n        private Node root;  // root of the AVL tree\n    \n        // A node of the AVL tree\n        public class Node {\n            private Key key;           // key of the node\n            private Value value;       // value of the node\n            private Node left, right;  // left and right subtrees of the node\n            private int height;        // height of the node\n    \n            public Node(Key key, Value value) {\n                this.key = key;\n                this.value = value;\n                this.height = 1;\n            }\n        }\n</code></pre>\n<p>What's wrong with the code, and how can I fix it? I know I need to &quot;connect&quot; the <code>AVLTree.java</code> class to the <code>PriorityQueue_AVL.java</code> class to be able to use the object Node there, but I'm not sure how. Also, the syntax for the priority queue is off, and I can't pinpoint why.</p>\n"},{"tags":["java","android","gradle","resolve"],"comments":[{"owner":{"account_id":6115604,"reputation":1052,"user_id":4770743,"accept_rate":58,"display_name":"Alireza Ghaffari"},"score":0,"creation_date":1582974788,"post_id":60463052,"comment_id":106966171,"body_markdown":"Try it File&gt;Sync Project with Gradle Files","body":"Try it File&gt;Sync Project with Gradle Files"}],"answers":[{"comments":[{"owner":{"account_id":6130926,"reputation":194,"user_id":4781137,"display_name":"Rio Marie A. Callos"},"score":0,"creation_date":1583072014,"post_id":60467950,"comment_id":106985910,"body_markdown":"This helped me I setup offline mode before upgrading to 3.6. Then when 3.6 opened the checkbox for offline mode was gone in Preferences menu. Thank you so much!","body":"This helped me I setup offline mode before upgrading to 3.6. Then when 3.6 opened the checkbox for offline mode was gone in Preferences menu. Thank you so much!"},{"owner":{"account_id":10031983,"reputation":1084,"user_id":7418129,"display_name":"user7418129"},"score":0,"creation_date":1585284456,"post_id":60467950,"comment_id":107711429,"body_markdown":"After Toggle offline mode, make a gradle sync it will tell you what to do in the rest.\nThank you for the help @Asif Iqbal","body":"After Toggle offline mode, make a gradle sync it will tell you what to do in the rest. Thank you for the help @Asif Iqbal"}],"tags":[],"owner":{"account_id":16651417,"reputation":219,"user_id":12034161,"display_name":"Asif Iqbal"},"comment_count":2,"down_vote_count":1,"up_vote_count":22,"is_accepted":false,"score":21,"last_activity_date":1582998516,"creation_date":1582998516,"answer_id":60467950,"question_id":60463052,"body_markdown":"It is a problem found in the new Android Studio 3.6 update. But it is basically not a problem. &lt;br&gt;&lt;br&gt;\r\n&lt;b&gt;All you have to do is the following:&lt;/b&gt; &lt;br&gt;\r\nTo enable or disable Gradle&#39;s offline mode, first select View &gt; Tool Windows &gt; Gradle from the menu bar. Then, near the top of the Gradle window, click Toggle Offline Mode &lt;br&gt;&lt;br&gt;\r\n\r\nHere are some screenshots:&lt;br&gt;\r\n\r\n1. [First go here][1]&lt;br&gt;\r\n2. [Toggle this option][2]\r\n\r\n  [1]: https://i.stack.imgur.com/FOf1N.png\r\n  [2]: https://i.stack.imgur.com/qiDBX.png","title":"Android Gradle Sync failed: Could not resolve all artifacts for configuration &#39;:classpath&#39;","body":"<p>It is a problem found in the new Android Studio 3.6 update. But it is basically not a problem. <br><br>\n<b>All you have to do is the following:</b> <br>\nTo enable or disable Gradle's offline mode, first select View > Tool Windows > Gradle from the menu bar. Then, near the top of the Gradle window, click Toggle Offline Mode <br><br></p>\n\n<p>Here are some screenshots:<br></p>\n\n<ol>\n<li><a href=\"https://i.stack.imgur.com/FOf1N.png\" rel=\"noreferrer\">First go here</a><br></li>\n<li><a href=\"https://i.stack.imgur.com/qiDBX.png\" rel=\"noreferrer\">Toggle this option</a></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":62173,"reputation":8994,"user_id":1097104,"accept_rate":100,"display_name":"Juuso Ohtonen"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1583051508,"creation_date":1583051508,"answer_id":60473325,"question_id":60463052,"body_markdown":"I opened an old project with Eclipse. For me, it helped to add the following in *build.gradle*:\r\n\r\n    apply plugin: &#39;com.android.application&#39;\r\n    \r\n    repositories {\r\n        // order may be important!\r\n        google()\r\n        jcenter()\r\n    } \r\n\r\nSource: https://stackoverflow.com/a/50285646/1097104\r\n\r\nIn addition, a few times I had to use _File_ &gt; _Invalidate Caches / Restart_.\r\n","title":"Android Gradle Sync failed: Could not resolve all artifacts for configuration &#39;:classpath&#39;","body":"<p>I opened an old project with Eclipse. For me, it helped to add the following in <em>build.gradle</em>:</p>\n\n<pre><code>apply plugin: 'com.android.application'\n\nrepositories {\n    // order may be important!\n    google()\n    jcenter()\n} \n</code></pre>\n\n<p>Source: <a href=\"https://stackoverflow.com/a/50285646/1097104\">https://stackoverflow.com/a/50285646/1097104</a></p>\n\n<p>In addition, a few times I had to use <em>File</em> > <em>Invalidate Caches / Restart</em>.</p>\n"},{"tags":[],"owner":{"account_id":3422576,"reputation":11,"user_id":2869593,"display_name":"Amarildo Lucas"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1583082530,"creation_date":1583082530,"answer_id":60477595,"question_id":60463052,"body_markdown":"The project that you are trying to build probably doesn&#39;t have the required SDK version. You can download it from the Android Studio within the &quot;Preferences&quot; dialog, under Appearance &amp; Behavior  System Settings  Android SDK. [Preferences Screenshot][1].\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/EdWY2.png","title":"Android Gradle Sync failed: Could not resolve all artifacts for configuration &#39;:classpath&#39;","body":"<p>The project that you are trying to build probably doesn't have the required SDK version. You can download it from the Android Studio within the \"Preferences\" dialog, under Appearance &amp; Behavior  System Settings  Android SDK. <a href=\"https://i.stack.imgur.com/EdWY2.png\" rel=\"nofollow noreferrer\">Preferences Screenshot</a>.</p>\n"},{"tags":[],"owner":{"account_id":12139942,"reputation":585,"user_id":8864205,"display_name":"Koch"},"comment_count":0,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1584992063,"creation_date":1584557229,"answer_id":60745734,"question_id":60463052,"body_markdown":"I was going through similar issues last night, this is what worked for me :\r\n \r\nOpen the *build.gradle* file from your app folder, it should look similar to this\r\n\r\n    \r\n    buildscript {\r\n        repositories {\r\n            jcenter()\r\n        }\r\n        dependencies {\r\n            classpath &#39;com.android.tools.build:gradle:3.6.1&#39;\r\n        }\r\n    }\r\n    \r\n    allprojects {\r\n        repositories {\r\n            jcenter()\r\n        }\r\n    }\r\n\r\nadd *google()* to *repositories* in -**buildscript** and -**allprojects**, just like here :\r\n\r\n    buildscript {\r\n        repositories {\r\n            google()       // here\r\n            jcenter()\r\n        }\r\n        dependencies {\r\n            classpath &#39;com.android.tools.build:gradle:3.6.1&#39;\r\n        }\r\n    }\r\n    \r\n    allprojects {\r\n        repositories {\r\n            google()      //and here\r\n            jcenter()\r\n        }\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nIn Android Studio, go to **File** -&gt; **Project Structure..**   *[ shortcut : **Ctrl + Alt + Shift + S** ]*\r\n\r\nIn the ***Project*** tab -&gt; Android Gradle Plugin Version -&gt; 3.6.1 **and** Gradle Version -&gt; 5.6.4 |||\r\n\r\nLast, under the ***Module*** tab, make sure the compile sdk version is &gt; 14 (ie: 25, 28 or 29..)\r\n\r\n\r\n","title":"Android Gradle Sync failed: Could not resolve all artifacts for configuration &#39;:classpath&#39;","body":"<p>I was going through similar issues last night, this is what worked for me :</p>\n\n<p>Open the <em>build.gradle</em> file from your app folder, it should look similar to this</p>\n\n<pre><code>buildscript {\n    repositories {\n        jcenter()\n    }\n    dependencies {\n        classpath 'com.android.tools.build:gradle:3.6.1'\n    }\n}\n\nallprojects {\n    repositories {\n        jcenter()\n    }\n}\n</code></pre>\n\n<p>add <em>google()</em> to <em>repositories</em> in -<strong>buildscript</strong> and -<strong>allprojects</strong>, just like here :</p>\n\n<pre><code>buildscript {\n    repositories {\n        google()       // here\n        jcenter()\n    }\n    dependencies {\n        classpath 'com.android.tools.build:gradle:3.6.1'\n    }\n}\n\nallprojects {\n    repositories {\n        google()      //and here\n        jcenter()\n    }\n}\n</code></pre>\n\n<p>In Android Studio, go to <strong>File</strong> -> <strong>Project Structure..</strong>   <em>[ shortcut : <strong>Ctrl + Alt + Shift + S</strong> ]</em></p>\n\n<p>In the <strong><em>Project</em></strong> tab -> Android Gradle Plugin Version -> 3.6.1 <strong>and</strong> Gradle Version -> 5.6.4 |||</p>\n\n<p>Last, under the <strong><em>Module</em></strong> tab, make sure the compile sdk version is > 14 (ie: 25, 28 or 29..)</p>\n"},{"tags":[],"owner":{"account_id":3368850,"reputation":3589,"user_id":2828651,"accept_rate":56,"display_name":"   - Atef Farouk"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1599412003,"creation_date":1599412003,"answer_id":63766772,"question_id":60463052,"body_markdown":"solution is to enable gradle as highlighted in below picture:\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/AIHBb.png","title":"Android Gradle Sync failed: Could not resolve all artifacts for configuration &#39;:classpath&#39;","body":"<p>solution is to enable gradle as highlighted in below picture:\n<a href=\"https://i.stack.imgur.com/AIHBb.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/AIHBb.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":24599404,"reputation":41,"user_id":18502458,"display_name":"Govind Dhage"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663250600,"creation_date":1663250600,"answer_id":73732574,"question_id":60463052,"body_markdown":"If you are using Android Latest version Chipmunk. Then this solution for you.\r\n\r\nstep 1. Open Gradle Setting and copy **gradlePluginPortal()**  and paste it in dependencyResolutionManagement below.\r\n\r\nstep 2. Change **RepositoriesMode.PREFER_SETTINGS**  like this\r\nstep 3. enable **android.enableJetifier=true**\r\n\r\nfollow the above step then definetelly solve your issue.\r\n","title":"Android Gradle Sync failed: Could not resolve all artifacts for configuration &#39;:classpath&#39;","body":"<p>If you are using Android Latest version Chipmunk. Then this solution for you.</p>\n<p>step 1. Open Gradle Setting and copy <strong>gradlePluginPortal()</strong>  and paste it in dependencyResolutionManagement below.</p>\n<p>step 2. Change <strong>RepositoriesMode.PREFER_SETTINGS</strong>  like this\nstep 3. enable <strong>android.enableJetifier=true</strong></p>\n<p>follow the above step then definetelly solve your issue.</p>\n"},{"tags":[],"owner":{"account_id":25171906,"reputation":119,"user_id":19014628,"display_name":"chanthini begam"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696317940,"creation_date":1696317570,"answer_id":77220347,"question_id":60463052,"body_markdown":"In some cases, cached artifacts or metadata may be causing issues. Try clearing the cache for your dependency management system and re-running your build or resolution process. In android studio, File-&gt; Invalidate caches -&gt; Invalidate and Restart.\r\nIf you&#39;ve tried the above steps and are still facing the issue, close the android studio and open it then run your application it will work fine. (It&#39;s worked for me... Hence i have added it)","title":"Android Gradle Sync failed: Could not resolve all artifacts for configuration &#39;:classpath&#39;","body":"<p>In some cases, cached artifacts or metadata may be causing issues. Try clearing the cache for your dependency management system and re-running your build or resolution process. In android studio, File-&gt; Invalidate caches -&gt; Invalidate and Restart.\nIf you've tried the above steps and are still facing the issue, close the android studio and open it then run your application it will work fine. (It's worked for me... Hence i have added it)</p>\n"},{"tags":[],"owner":{"account_id":18463401,"reputation":81,"user_id":13450267,"display_name":"SHUBHAM SONI"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697082311,"creation_date":1697082311,"answer_id":77277577,"question_id":60463052,"body_markdown":"This i my project issue\r\n\r\nCaused by: org.gradle.api.internal.artifacts.ivyservice.DefaultLenientConfiguration$ArtifactResolveException: Could not resolve all files for configuration &#39;:app:debugRuntimeClasspath&#39;.\r\n\r\nI have Resolve this problem\r\nadded one dependency library.\r\n\r\n&gt; implementation(platform(&quot;org.jetbrains.kotlin:kotlin-bom:1.8.0&quot;))\r\n\r\n\r\n","title":"Android Gradle Sync failed: Could not resolve all artifacts for configuration &#39;:classpath&#39;","body":"<p>This i my project issue</p>\n<p>Caused by: org.gradle.api.internal.artifacts.ivyservice.DefaultLenientConfiguration$ArtifactResolveException: Could not resolve all files for configuration ':app:debugRuntimeClasspath'.</p>\n<p>I have Resolve this problem\nadded one dependency library.</p>\n<blockquote>\n<p>implementation(platform(&quot;org.jetbrains.kotlin:kotlin-bom:1.8.0&quot;))</p>\n</blockquote>\n"}],"owner":{"account_id":16540336,"reputation":171,"user_id":11951307,"display_name":"Harish Kumar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":64174,"favorite_count":0,"down_vote_count":0,"up_vote_count":17,"answer_count":8,"score":17,"last_activity_date":1697082311,"creation_date":1582962455,"question_id":60463052,"body_markdown":"The error is the following:\r\n\r\n```\r\nCaused by: org.gradle.api.internal.artifacts.ivyservice.DefaultLenientConfiguration$ArtifactResolveException: Could not resolve all artifacts for configuration &#39;:classpath&#39;.\r\n\r\nCaused by: org.gradle.internal.resolve.ModuleVersionResolveException: Could not resolve com.android.tools.build:gradle:3.6.1.\r\n\r\nCaused by: org.gradle.internal.resolve.ModuleVersionResolveException: No cached version of com.android.tools.build:gradle:3.6.1 available for offline mode.\r\n```","title":"Android Gradle Sync failed: Could not resolve all artifacts for configuration &#39;:classpath&#39;","body":"<p>The error is the following:</p>\n<pre><code>Caused by: org.gradle.api.internal.artifacts.ivyservice.DefaultLenientConfiguration$ArtifactResolveException: Could not resolve all artifacts for configuration ':classpath'.\n\nCaused by: org.gradle.internal.resolve.ModuleVersionResolveException: Could not resolve com.android.tools.build:gradle:3.6.1.\n\nCaused by: org.gradle.internal.resolve.ModuleVersionResolveException: No cached version of com.android.tools.build:gradle:3.6.1 available for offline mode.\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":788777,"reputation":28977,"user_id":857132,"accept_rate":69,"display_name":"John3136"},"score":0,"creation_date":1697079096,"post_id":77277396,"comment_id":136235077,"body_markdown":"If was your tutor you just failed because you used a floating point type for money. Hopefully your tutor isn&#39;t an utter utter b&amp;*%$d like me :-) It is possible that the double is the cause of your problem. changeToGive could be getting very close to 0 (but still &gt; 0 but less than .1 so it never changes).","body":"If was your tutor you just failed because you used a floating point type for money. Hopefully your tutor isn&#39;t an utter utter b&amp;*%$d like me :-) It is possible that the double is the cause of your problem. changeToGive could be getting very close to 0 (but still &gt; 0 but less than .1 so it never changes)."},{"owner":{"account_id":93689,"reputation":415951,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1697080521,"post_id":77277396,"comment_id":136235188,"body_markdown":"The trick is to use `int` (not `double`!) for *everything*, including the price, by storing amounts as the integer quantity of *cents*.","body":"The trick is to use <code>int</code> (not <code>double</code>!) for <i>everything</i>, including the price, by storing amounts as the integer quantity of <i>cents</i>."}],"answers":[{"tags":[],"owner":{"account_id":93689,"reputation":415951,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1697081227,"creation_date":1697081227,"answer_id":77277518,"question_id":77277396,"body_markdown":"After making `changeToGive` an `int` instead of a `double` (plus removal of a small amount of unnecessary code), you&#39;ll have a working solution:\r\n\r\n```\r\nint quarters = 0;\r\nint dimes = 0;\r\nint nickels = 0;\r\nint pennies = 0;\r\nScanner sc = new Scanner(System.in);\r\nint changeToGive = 0;\r\n\r\ndo {\r\n    // if the user gave us a negative dollar amount\r\n    if (changeToGive &lt; 0)\r\n        System.out.println(&quot;Dollar amounts must be positive.&quot;);\r\n\r\n    // prompt the user for a monetary input\r\n    System.out.println(&quot;How much change do you need to pay out?&quot;);\r\n\r\n    // while the user&#39;s input is not a valid double, prompt again\r\n    while (!sc.hasNextDouble()) {\r\n        System.out.println(&quot;Invalid input. How much change do you need to pay out?&quot;);\r\n        sc.next(); // this is important!\r\n    }\r\n\r\n    // if the user entered a valid double, assign it to changeToGive\r\n    changeToGive = (int) (sc.nextDouble() * 100); // cents\r\n} while (changeToGive &lt;= 0); //if the user entered a valid double but it was negative, do it all again\r\n\r\nwhile (changeToGive &gt; 0) {\r\n    if (changeToGive &gt;= 25) {\r\n        changeToGive -= 25;\r\n        quarters++;\r\n    } else if (changeToGive &gt;= 10) {\r\n        changeToGive -= 10;\r\n        dimes++;\r\n    } else if (changeToGive &gt;= 5) {\r\n        changeToGive -= 5;\r\n        nickels++;\r\n    } else {\r\n        changeToGive -= 1;\r\n        pennies++;\r\n    }\r\n}\r\n\r\nSystem.out.print(&quot;Your change is:\\n&quot; + quarters + &quot; quarters\\n&quot; + dimes + &quot; dimes\\n&quot; + nickels + &quot; nickels\\n&quot; + pennies + &quot; pennies\\n&quot;);\r\n```\r\n\r\n---\r\n\r\nFor bonus marks, use an `enum` of coins, each with a `value` field, rather than hard coding them. Left to you to investigate.","title":"Writing a code to give back the least amount of coins for a user inputted number. I have no clue why the results aren&#39;t printing","body":"<p>After making <code>changeToGive</code> an <code>int</code> instead of a <code>double</code> (plus removal of a small amount of unnecessary code), you'll have a working solution:</p>\n<pre><code>int quarters = 0;\nint dimes = 0;\nint nickels = 0;\nint pennies = 0;\nScanner sc = new Scanner(System.in);\nint changeToGive = 0;\n\ndo {\n    // if the user gave us a negative dollar amount\n    if (changeToGive &lt; 0)\n        System.out.println(&quot;Dollar amounts must be positive.&quot;);\n\n    // prompt the user for a monetary input\n    System.out.println(&quot;How much change do you need to pay out?&quot;);\n\n    // while the user's input is not a valid double, prompt again\n    while (!sc.hasNextDouble()) {\n        System.out.println(&quot;Invalid input. How much change do you need to pay out?&quot;);\n        sc.next(); // this is important!\n    }\n\n    // if the user entered a valid double, assign it to changeToGive\n    changeToGive = (int) (sc.nextDouble() * 100); // cents\n} while (changeToGive &lt;= 0); //if the user entered a valid double but it was negative, do it all again\n\nwhile (changeToGive &gt; 0) {\n    if (changeToGive &gt;= 25) {\n        changeToGive -= 25;\n        quarters++;\n    } else if (changeToGive &gt;= 10) {\n        changeToGive -= 10;\n        dimes++;\n    } else if (changeToGive &gt;= 5) {\n        changeToGive -= 5;\n        nickels++;\n    } else {\n        changeToGive -= 1;\n        pennies++;\n    }\n}\n\nSystem.out.print(&quot;Your change is:\\n&quot; + quarters + &quot; quarters\\n&quot; + dimes + &quot; dimes\\n&quot; + nickels + &quot; nickels\\n&quot; + pennies + &quot; pennies\\n&quot;);\n</code></pre>\n<hr />\n<p>For bonus marks, use an <code>enum</code> of coins, each with a <code>value</code> field, rather than hard coding them. Left to you to investigate.</p>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697081986,"creation_date":1697081986,"answer_id":77277556,"question_id":77277396,"body_markdown":"&gt; _&quot;... I am not sure how to get the proper results to print out, and am not sure why it isn&#39;t giving the correct response when it is. ...&quot;_\r\n\r\nYou&#39;ve incorrectly denoted a _5 cent_ and _1 cent_ value as _0.5_ and _0.1_, instead of _0.05_, and _0.01_.\r\n\r\n```java\r\nif (changeToGive &gt;= .5) changeToGive -= .5;\r\nif (changeToGive &gt;= .1) changeToGive -= .1;\r\n```\r\n\r\nAdditionally, the _changeToGive_ value is mutating as you deduct the values.\r\n\r\nHere is an iteration for _0.99_.\r\n\r\n```none\r\n0.99 - .25 = 0.74\r\n0.74 - .25 = 0.49\r\n0.49 - .25 = 0.24\r\n0.24 - .10 = 0.13999999999999999\r\n0.13999999999999999 - .10 = 0.03999999999999998\r\n0.03999999999999998 - 0.01 = 0.029999999999999978\r\n0.029999999999999978 - 0.01 = 0.019999999999999976\r\n0.019999999999999976 - 0.01 = 0.009999999999999976\r\n```\r\n\r\nAs suggested by _Java_, use the _[BigDecimal](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/math/BigDecimal.html)_ class for _currency_ application.\r\n\r\n_[Primitive Data Types (The Java&amp;trade; Tutorials &amp;gt; Learning the Java Language &amp;gt; Language Basics)](https://docs.oracle.com/javase/tutorial/java/nutsandbolts/datatypes.html)_.\r\n\r\n&gt; _The float data type ... This data type should never be used for precise values, such as currency. For that, you will need to use the [[java.math.BigDecimal]](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/math/BigDecimal.html) class instead._\r\n\r\nHere is an example.\r\n\r\n```java\r\nimport static java.math.BigDecimal.ZERO;\r\nimport static java.math.RoundingMode.HALF_EVEN;\r\n\r\nimport java.math.BigDecimal;\r\n```\r\n\r\n```java\r\nint quarters = 0;\r\nint dimes = 0;\r\nint nickels = 0;\r\nint pennies = 0;\r\n//prompt the user for a monetary input\r\nScanner sc = new Scanner(System.in);\r\nBigDecimal changeToGive = ZERO.setScale(2, HALF_EVEN), z = ZERO,\r\n           q = new BigDecimal(&quot;.25&quot;), d = new BigDecimal(&quot;.10&quot;),\r\n           n = new BigDecimal(&quot;.05&quot;), p = new BigDecimal(&quot;.01&quot;);\r\n\r\ndo {\r\n    //if the user gave us a negative dollar amount\r\n    if(changeToGive.compareTo(z) &lt; 0)\r\n        System.out.println(&quot;Dollar amounts must be positive.&quot;);\r\n\r\n        //if the current amount is zero dollars\r\n    else if(changeToGive.compareTo(z) == 0)\r\n        System.out.println(&quot;How much change do you need to pay out?&quot;);\r\n\r\n    // while the user&#39;s input is not a valid double, prompt again\r\n    while (!sc.hasNextBigDecimal()) {\r\n        System.out.println(&quot;Invalid input.  How much change do you need to pay out?&quot;);\r\n        sc.next(); // this is important!\r\n    }\r\n\r\n    //if the user entered a valid double, assign it to changeToGive\r\n    changeToGive = sc.nextBigDecimal();\r\n} while (changeToGive.compareTo(z) &lt;= 0); //if the user entered a valid double but it was negative, do it all again\r\n\r\nwhile (changeToGive.compareTo(z) &gt; 0){\r\n    if (changeToGive.compareTo(q) &gt;= 0){\r\n        changeToGive = changeToGive.subtract(q);\r\n        quarters++;\r\n    }else if (changeToGive.compareTo(d) &gt;= 0){\r\n        changeToGive = changeToGive.subtract(d);\r\n        dimes++;\r\n    }else if (changeToGive.compareTo(n) &gt;= 0){\r\n        changeToGive = changeToGive.subtract(n);\r\n        nickels++;\r\n    }else if (changeToGive.compareTo(p) &gt;= 0){\r\n        changeToGive = changeToGive.subtract(p);\r\n        pennies++;\r\n    }\r\n}\r\nSystem.out.print(&quot;Your change is:\\n&quot;+quarters+&quot; quarters\\n&quot;+dimes+&quot; dimes\\n&quot;+nickels+&quot; nickels\\n&quot;+pennies+&quot; pennies\\n&quot;);\r\n```\r\n\r\nOutput\r\n\r\n```none\r\nHow much change do you need to pay out?\r\n.99\r\nYour change is:\r\n3 quarters\r\n2 dimes\r\n0 nickels\r\n4 pennies\r\n```","title":"Writing a code to give back the least amount of coins for a user inputted number. I have no clue why the results aren&#39;t printing","body":"<blockquote>\n<p><em>&quot;... I am not sure how to get the proper results to print out, and am not sure why it isn't giving the correct response when it is. ...&quot;</em></p>\n</blockquote>\n<p>You've incorrectly denoted a <em>5 cent</em> and <em>1 cent</em> value as <em>0.5</em> and <em>0.1</em>, instead of <em>0.05</em>, and <em>0.01</em>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>if (changeToGive &gt;= .5) changeToGive -= .5;\nif (changeToGive &gt;= .1) changeToGive -= .1;\n</code></pre>\n<p>Additionally, the <em>changeToGive</em> value is mutating as you deduct the values.</p>\n<p>Here is an iteration for <em>0.99</em>.</p>\n<pre class=\"lang-none prettyprint-override\"><code>0.99 - .25 = 0.74\n0.74 - .25 = 0.49\n0.49 - .25 = 0.24\n0.24 - .10 = 0.13999999999999999\n0.13999999999999999 - .10 = 0.03999999999999998\n0.03999999999999998 - 0.01 = 0.029999999999999978\n0.029999999999999978 - 0.01 = 0.019999999999999976\n0.019999999999999976 - 0.01 = 0.009999999999999976\n</code></pre>\n<p>As suggested by <em>Java</em>, use the <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/math/BigDecimal.html\" rel=\"nofollow noreferrer\">BigDecimal</a></em> class for <em>currency</em> application.</p>\n<p><em><a href=\"https://docs.oracle.com/javase/tutorial/java/nutsandbolts/datatypes.html\" rel=\"nofollow noreferrer\">Primitive Data Types (The Java Tutorials &gt; Learning the Java Language &gt; Language Basics)</a></em>.</p>\n<blockquote>\n<p><em>The float data type ... This data type should never be used for precise values, such as currency. For that, you will need to use the <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/math/BigDecimal.html\" rel=\"nofollow noreferrer\">[java.math.BigDecimal]</a> class instead.</em></p>\n</blockquote>\n<p>Here is an example.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import static java.math.BigDecimal.ZERO;\nimport static java.math.RoundingMode.HALF_EVEN;\n\nimport java.math.BigDecimal;\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>int quarters = 0;\nint dimes = 0;\nint nickels = 0;\nint pennies = 0;\n//prompt the user for a monetary input\nScanner sc = new Scanner(System.in);\nBigDecimal changeToGive = ZERO.setScale(2, HALF_EVEN), z = ZERO,\n           q = new BigDecimal(&quot;.25&quot;), d = new BigDecimal(&quot;.10&quot;),\n           n = new BigDecimal(&quot;.05&quot;), p = new BigDecimal(&quot;.01&quot;);\n\ndo {\n    //if the user gave us a negative dollar amount\n    if(changeToGive.compareTo(z) &lt; 0)\n        System.out.println(&quot;Dollar amounts must be positive.&quot;);\n\n        //if the current amount is zero dollars\n    else if(changeToGive.compareTo(z) == 0)\n        System.out.println(&quot;How much change do you need to pay out?&quot;);\n\n    // while the user's input is not a valid double, prompt again\n    while (!sc.hasNextBigDecimal()) {\n        System.out.println(&quot;Invalid input.  How much change do you need to pay out?&quot;);\n        sc.next(); // this is important!\n    }\n\n    //if the user entered a valid double, assign it to changeToGive\n    changeToGive = sc.nextBigDecimal();\n} while (changeToGive.compareTo(z) &lt;= 0); //if the user entered a valid double but it was negative, do it all again\n\nwhile (changeToGive.compareTo(z) &gt; 0){\n    if (changeToGive.compareTo(q) &gt;= 0){\n        changeToGive = changeToGive.subtract(q);\n        quarters++;\n    }else if (changeToGive.compareTo(d) &gt;= 0){\n        changeToGive = changeToGive.subtract(d);\n        dimes++;\n    }else if (changeToGive.compareTo(n) &gt;= 0){\n        changeToGive = changeToGive.subtract(n);\n        nickels++;\n    }else if (changeToGive.compareTo(p) &gt;= 0){\n        changeToGive = changeToGive.subtract(p);\n        pennies++;\n    }\n}\nSystem.out.print(&quot;Your change is:\\n&quot;+quarters+&quot; quarters\\n&quot;+dimes+&quot; dimes\\n&quot;+nickels+&quot; nickels\\n&quot;+pennies+&quot; pennies\\n&quot;);\n</code></pre>\n<p>Output</p>\n<pre class=\"lang-none prettyprint-override\"><code>How much change do you need to pay out?\n.99\nYour change is:\n3 quarters\n2 dimes\n0 nickels\n4 pennies\n</code></pre>\n"}],"owner":{"account_id":29652883,"reputation":1,"user_id":22726298,"display_name":"zome"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1697081986,"creation_date":1697078739,"question_id":77277396,"body_markdown":"I am not sure how to get the proper results to print out, and am not sure why it isn&#39;t giving the correct response when it is. The beginning code was starter code I was told not to touch.\r\n\r\nI tried moving the location of the print statement, but it would end up printing one quarter and nothing else.\r\n```\r\n\r\nimport java.util.Scanner;\r\n\r\nclass Main {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tint quarters = 0;\r\n    int dimes = 0;\r\n    int nickels = 0;\r\n    int pennies = 0;\r\n\t\t//prompt the user for a monetary input\r\n\t    Scanner sc = new Scanner(System.in);\r\n\t    double changeToGive = 0;\r\n\t    \r\n\t    do {\r\n\t    \t//if the user gave us a negative dollar amount\r\n\t        if(changeToGive &lt; 0)\r\n\t            System.out.println(&quot;Dollar amounts must be positive.&quot;);\r\n\t        \r\n\t        //if the current amount is zero dollars\r\n\t        else if(changeToGive == 0)\r\n\t            System.out.println(&quot;How much change do you need to pay out?&quot;);\r\n\t        \r\n\t        // while the user&#39;s input is not a valid double, prompt again\r\n\t        while (!sc.hasNextDouble()) {\r\n\t            System.out.println(&quot;Invalid input.  How much change do you need to pay out?&quot;);\r\n\t            sc.next(); // this is important!\r\n\t        }\r\n\t        \r\n\t        //if the user entered a valid double, assign it to changeToGive\r\n\t        changeToGive = sc.nextDouble();\r\n\t    } while (changeToGive &lt;= 0); //if the user entered a valid double but it was negative, do it all again\r\n\r\n     while (changeToGive &gt; 0){ \r\n    if (changeToGive &gt;= .25){\r\n    changeToGive -= .25;\r\n    quarters++;\r\n    }else if (changeToGive &gt;= .10){\r\n    changeToGive -= .10;\r\n    dimes++;\r\n    }else if (changeToGive &gt;= .5){\r\n    changeToGive -= .5;\r\n    nickels++;\r\n    }else if (changeToGive &gt;= .1){\r\n    changeToGive -= .1;\r\n    pennies++;\r\n    }\r\n     }\r\n    System.out.print(&quot;Your change is:\\n&quot;+quarters+&quot; quarters\\n&quot;+dimes+&quot; dimes\\n&quot;+nickels+&quot; nickels\\n&quot;+pennies+&quot; pennies\\n&quot;);\r\n       \r\n    \r\n    \r\n    \r\n\r\n    }\r\n    \r\n      \r\n    }\r\n\t\r\n```\r\n","title":"Writing a code to give back the least amount of coins for a user inputted number. I have no clue why the results aren&#39;t printing","body":"<p>I am not sure how to get the proper results to print out, and am not sure why it isn't giving the correct response when it is. The beginning code was starter code I was told not to touch.</p>\n<p>I tried moving the location of the print statement, but it would end up printing one quarter and nothing else.</p>\n<pre><code>\nimport java.util.Scanner;\n\nclass Main {\n\n    public static void main(String[] args) {\n        int quarters = 0;\n    int dimes = 0;\n    int nickels = 0;\n    int pennies = 0;\n        //prompt the user for a monetary input\n        Scanner sc = new Scanner(System.in);\n        double changeToGive = 0;\n        \n        do {\n            //if the user gave us a negative dollar amount\n            if(changeToGive &lt; 0)\n                System.out.println(&quot;Dollar amounts must be positive.&quot;);\n            \n            //if the current amount is zero dollars\n            else if(changeToGive == 0)\n                System.out.println(&quot;How much change do you need to pay out?&quot;);\n            \n            // while the user's input is not a valid double, prompt again\n            while (!sc.hasNextDouble()) {\n                System.out.println(&quot;Invalid input.  How much change do you need to pay out?&quot;);\n                sc.next(); // this is important!\n            }\n            \n            //if the user entered a valid double, assign it to changeToGive\n            changeToGive = sc.nextDouble();\n        } while (changeToGive &lt;= 0); //if the user entered a valid double but it was negative, do it all again\n\n     while (changeToGive &gt; 0){ \n    if (changeToGive &gt;= .25){\n    changeToGive -= .25;\n    quarters++;\n    }else if (changeToGive &gt;= .10){\n    changeToGive -= .10;\n    dimes++;\n    }else if (changeToGive &gt;= .5){\n    changeToGive -= .5;\n    nickels++;\n    }else if (changeToGive &gt;= .1){\n    changeToGive -= .1;\n    pennies++;\n    }\n     }\n    System.out.print(&quot;Your change is:\\n&quot;+quarters+&quot; quarters\\n&quot;+dimes+&quot; dimes\\n&quot;+nickels+&quot; nickels\\n&quot;+pennies+&quot; pennies\\n&quot;);\n       \n    \n    \n    \n\n    }\n    \n      \n    }\n    \n</code></pre>\n"},{"tags":["java","eclipse","gradle"],"comments":[{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1679614889,"post_id":75826538,"comment_id":133757842,"body_markdown":"See https://stackoverflow.com/a/53824670/6505250 and https://stackoverflow.com/a/74890645/6505250","body":"See <a href=\"https://stackoverflow.com/a/53824670/6505250\">stackoverflow.com/a/53824670/6505250</a> and <a href=\"https://stackoverflow.com/a/74890645/6505250\">stackoverflow.com/a/74890645/6505250</a>"}],"answers":[{"comments":[{"owner":{"account_id":28078485,"reputation":11,"user_id":21449953,"display_name":"Manuel"},"score":0,"creation_date":1679654112,"post_id":75827498,"comment_id":133763546,"body_markdown":"Hello! Thanks for your answer. I think I&#39;ve found the bug; Eclipse cannot resolve the dependency because there are two packages with the same name (javax.xml.transform.dom) one imports it from the jdk and the other from gradle. The problem now is that it won&#39;t let me delete or exclude that package from the eclipse Java Build Path, in the Module Dependencies tab. If what I have to do is not use the jdk library (the javax.xml.transform.dom package specifically), I don&#39;t know how I can exclude it from the project.","body":"Hello! Thanks for your answer. I think I&#39;ve found the bug; Eclipse cannot resolve the dependency because there are two packages with the same name (javax.xml.transform.dom) one imports it from the jdk and the other from gradle. The problem now is that it won&#39;t let me delete or exclude that package from the eclipse Java Build Path, in the Module Dependencies tab. If what I have to do is not use the jdk library (the javax.xml.transform.dom package specifically), I don&#39;t know how I can exclude it from the project."}],"tags":[],"owner":{"account_id":19093070,"reputation":11,"user_id":13942982,"display_name":"David He"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1679601524,"creation_date":1679601524,"answer_id":75827498,"question_id":75826538,"body_markdown":"This is a common problem in modular Java.\r\n\r\nThis issue occurs when: \r\n\r\n - modules are being referenced by your project\r\n - there is a dependency in your project\r\n - project contains lines of code\r\n - packages are also in modules \r\n\r\n\r\nA key rule to know in Java is: \r\n\r\n&quot;In your own code, if the JDK has packages. Do not use those packages.&quot;\r\n\r\nIf you do this, you cannot go any further and will hit a wall.\r\n\r\n\r\nTo fix this, you will need to: \r\n\r\n 1. In package explorer, expand the &quot;External Dependencies and Projects&quot; tab\r\n 2. Determine and identify dependency is being used.\r\n 3. Exclude the dependency from the project.\r\n 4. If possible, rebuild the jar with packages that are changed, after obtaining the source of the dependency.\r\n5. If you do not complete the previous step, then you will have to remove the dependency and find a replacement.\r\n\r\n","title":"Eclipse can&#39;t resolve an import, and won&#39;t let me debug","body":"<p>This is a common problem in modular Java.</p>\n<p>This issue occurs when:</p>\n<ul>\n<li>modules are being referenced by your project</li>\n<li>there is a dependency in your project</li>\n<li>project contains lines of code</li>\n<li>packages are also in modules</li>\n</ul>\n<p>A key rule to know in Java is:</p>\n<p>&quot;In your own code, if the JDK has packages. Do not use those packages.&quot;</p>\n<p>If you do this, you cannot go any further and will hit a wall.</p>\n<p>To fix this, you will need to:</p>\n<ol>\n<li>In package explorer, expand the &quot;External Dependencies and Projects&quot; tab</li>\n<li>Determine and identify dependency is being used.</li>\n<li>Exclude the dependency from the project.</li>\n<li>If possible, rebuild the jar with packages that are changed, after obtaining the source of the dependency.</li>\n<li>If you do not complete the previous step, then you will have to remove the dependency and find a replacement.</li>\n</ol>\n"}],"owner":{"account_id":28078485,"reputation":11,"user_id":21449953,"display_name":"Manuel"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":97,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1697081428,"creation_date":1679594286,"question_id":75826538,"body_markdown":"I&#39;m working on a project with a development team, and I&#39;m the only one using Eclipse. The fact is that, (since the implementation of a functionality that one of my colleagues did), Eclipse warns me that there are two errors related to a dependency that it cannot resolve:\r\n\r\n![enter image description here](https://i.stack.imgur.com/hj7Gl.png)\r\n\r\nThis does not happen to any of my colleagues since they use different IDEs (VSCode or IntelliJ).\r\n\r\nThe solutions that I have seen on the internet are based on touching dependency configuration files (in this case it is a gradle project so it would be touching the `build.gradle` file), but this is not possible in my case since if I modify something in that file, I can harm my colleagues. I also suppose that there is another way to solve it from Eclipse because if it only happens to me, it must be something that has been corrupted.\r\n\r\nThat is why I call on the Eclipse scholars in the forum to see if they can give me a hand, because with these errors, Eclipse won&#39;t let me run the application in debug mode.\r\n\r\nI tried to look for information about it in other internet sites, but the solution of modifying configuration files cannot be applied to my case.","title":"Eclipse can&#39;t resolve an import, and won&#39;t let me debug","body":"<p>I'm working on a project with a development team, and I'm the only one using Eclipse. The fact is that, (since the implementation of a functionality that one of my colleagues did), Eclipse warns me that there are two errors related to a dependency that it cannot resolve:</p>\n<p><img src=\"https://i.stack.imgur.com/hj7Gl.png\" alt=\"enter image description here\" /></p>\n<p>This does not happen to any of my colleagues since they use different IDEs (VSCode or IntelliJ).</p>\n<p>The solutions that I have seen on the internet are based on touching dependency configuration files (in this case it is a gradle project so it would be touching the <code>build.gradle</code> file), but this is not possible in my case since if I modify something in that file, I can harm my colleagues. I also suppose that there is another way to solve it from Eclipse because if it only happens to me, it must be something that has been corrupted.</p>\n<p>That is why I call on the Eclipse scholars in the forum to see if they can give me a hand, because with these errors, Eclipse won't let me run the application in debug mode.</p>\n<p>I tried to look for information about it in other internet sites, but the solution of modifying configuration files cannot be applied to my case.</p>\n"},{"tags":["java","spring-boot","spring-data-jpa","thymeleaf","hibernate-validator"],"owner":{"account_id":28257380,"reputation":21,"user_id":21602639,"display_name":"Borbarad13"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1697080824,"creation_date":1681053337,"question_id":75971312,"body_markdown":"Showing **errors** with thymeleaf forms works **fine**, when the validation of a field fails.\r\nHowever, I am **struggling to implement &quot;warnings**&quot;. For example:\r\n\r\n- Booking Date: If it&#39;s more than a year in the future, a warning should be created, which can be waived/acknowledged. If the date is in the past an error should be created.\r\n\r\n- Booking Offer: If the dollar value is greater than 1000 then a warning should be created, which can be waived/acknowledged. If the dollar value is \\&lt;= 0, then an error should be created.\r\n\r\nI tried to implement the warning system using **validation constraints** (jakarta.validation.Constraint) the same way (hard) validations are implemented.\r\nHowever, I haven&#39;t found a way to **distinguish between &quot;errors&quot; and &quot;warnings&quot; in the thymeleaf template to make the &quot;warnings&quot; acknowledgeable** (e.g. showing an additional clickable check mark)\r\n\r\nAlso, I fail to see how the **information** that a &quot;warning&quot; was acknowledged can be **passed back to the Validator/Constraint**, so that the data can be stored once the user has **fixed all errors and acknowledged all warnings**.\r\n\r\nHere is the code that I have so far:\r\n\r\n```java\r\n@Entity\r\n@Getter\r\n@Setter\r\n@NoArgsConstructor\r\n@EqualsAndHashCode\r\npublic class BookingHeader {\r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        private long id;\r\n\r\n        @DateTimeFormat(iso= DateTimeFormat.ISO.DATE)\r\n        @FutureOrPresent\r\n        @OpenBookingPeriodConstraint(message = &quot;{BookingHeader.BookingDate.OpenBookingPeriodConstraint}&quot;)\r\n        private Date bookingDate;\r\n        \r\n        @Positive\r\n        @OfferPriceTooHighConstraint\r\n        private int bookingOffer;\r\n}\r\n```\r\n\r\n```java\r\n@Documented\r\n@Constraint(validatedBy = OpenBookingPeriodValidator.class)\r\n@Target( { ElementType.METHOD, ElementType.FIELD })\r\n@Retention(RetentionPolicy.RUNTIME)\r\npublic @interface OpenBookingPeriodConstraint {\r\n       String message() default &quot;Booking is too far in the future&quot;;\r\n        Class&lt;?&gt;[] groups() default {};\r\n        Class&lt;? extends Payload&gt;[] payload() default {};\r\n}\r\n```\r\n\r\n```java\r\npublic class OpenBookingPeriodValidator implements ConstraintValidator&lt;OpenBookingPeriodConstraint, Date&gt; {\r\n\r\n        @Override\r\n        public void initialize(OpenBookingPeriodConstraint constraint) {\r\n        }\r\n\r\n        @Override\r\n        public boolean isValid(Date dateField, ConstraintValidatorContext cxt) {\r\n\r\n                Calendar cal = Calendar.getInstance();\r\n                cal.setTime(new Date());\r\n                cal.add(Calendar.DATE, 365);\r\n                return dateField != null &amp;&amp; dateField.before(cal.getTime());\r\n        }\r\n\r\n}\r\n```\r\n\r\n```html\r\n&lt;div class = &quot;container&quot;&gt;\r\n    &lt;div class = &quot;row&quot;&gt;\r\n        &lt;div class = &quot;col-lg-6 col-md-6 col-sm-6 container justify-content-center card&quot;&gt;\r\n            &lt;h1 class =&quot;text-center&quot;&gt; Create Booking&lt;/h1&gt;\r\n            &lt;div class = &quot;card-body&quot;&gt;\r\n                &lt;form th:action=&quot;@{/booking/add}&quot; th:object=&quot;${bookingHeader}&quot; method=&quot;post&quot; id=&quot;contactForm1&quot; data-bs-target=&quot;#main_menu_users&quot;&gt;\r\n                    \r\n                    &lt;div class =&quot;form-group&quot;&gt;\r\n                        &lt;label for=&quot;bookingDate&quot;&gt;bookingDate&lt;/label&gt;\r\n                        &lt;input type=&quot;date&quot; th:field=&quot;*{bookingDate}&quot; id=&quot;bookingDate&quot; placeholder=&quot;bookingDate&quot; class=&quot;form-control&quot;&gt;\r\n                        &lt;span th:if=&quot;${#fields.hasErrors(&#39;bookingDate&#39;)}&quot; th:errors=&quot;*{bookingDate}&quot;&gt;&lt;/span&gt;\r\n                    &lt;/div&gt;\r\n                    &lt;br&gt;\r\n                    &lt;div class =&quot;form-group&quot;&gt;\r\n                        &lt;label for=&quot;bookingOffer&quot;&gt;bookingOffer&lt;/label&gt;\r\n                        &lt;input type=&quot;number&quot; th:field=&quot;*{bookingOffer}&quot; id=&quot;bookingOffer&quot; placeholder=&quot;bookingOffer&quot; class=&quot;form-control&quot;&gt;\r\n                        &lt;span th:if=&quot;${#fields.hasErrors(&#39;bookingOffer&#39;)}&quot; th:errors=&quot;*{bookingOffer}&quot;&gt;&lt;/span&gt;\r\n                    &lt;/div&gt;\r\n                &lt;/form&gt;\r\n            &lt;/div&gt;\r\n        &lt;/div&gt;\r\n    &lt;/div&gt;\r\n&lt;/div&gt;\r\n```\r\n\r\n![Errors show correctly](https://i.stack.imgur.com/kuUhb.jpg)\r\n\r\n![These messages though should be warnings that can be skipped/acknowledged](https://i.stack.imgur.com/FJvEi.jpg)\r\n","title":"How to create acknowledgeable warnings alongside of errors with spring-boot + thymeleaf + jpa?","body":"<p>Showing <strong>errors</strong> with thymeleaf forms works <strong>fine</strong>, when the validation of a field fails.\nHowever, I am <strong>struggling to implement &quot;warnings</strong>&quot;. For example:</p>\n<ul>\n<li><p>Booking Date: If it's more than a year in the future, a warning should be created, which can be waived/acknowledged. If the date is in the past an error should be created.</p>\n</li>\n<li><p>Booking Offer: If the dollar value is greater than 1000 then a warning should be created, which can be waived/acknowledged. If the dollar value is &lt;= 0, then an error should be created.</p>\n</li>\n</ul>\n<p>I tried to implement the warning system using <strong>validation constraints</strong> (jakarta.validation.Constraint) the same way (hard) validations are implemented.\nHowever, I haven't found a way to <strong>distinguish between &quot;errors&quot; and &quot;warnings&quot; in the thymeleaf template to make the &quot;warnings&quot; acknowledgeable</strong> (e.g. showing an additional clickable check mark)</p>\n<p>Also, I fail to see how the <strong>information</strong> that a &quot;warning&quot; was acknowledged can be <strong>passed back to the Validator/Constraint</strong>, so that the data can be stored once the user has <strong>fixed all errors and acknowledged all warnings</strong>.</p>\n<p>Here is the code that I have so far:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@Getter\n@Setter\n@NoArgsConstructor\n@EqualsAndHashCode\npublic class BookingHeader {\n        @Id\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\n        private long id;\n\n        @DateTimeFormat(iso= DateTimeFormat.ISO.DATE)\n        @FutureOrPresent\n        @OpenBookingPeriodConstraint(message = &quot;{BookingHeader.BookingDate.OpenBookingPeriodConstraint}&quot;)\n        private Date bookingDate;\n        \n        @Positive\n        @OfferPriceTooHighConstraint\n        private int bookingOffer;\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@Documented\n@Constraint(validatedBy = OpenBookingPeriodValidator.class)\n@Target( { ElementType.METHOD, ElementType.FIELD })\n@Retention(RetentionPolicy.RUNTIME)\npublic @interface OpenBookingPeriodConstraint {\n       String message() default &quot;Booking is too far in the future&quot;;\n        Class&lt;?&gt;[] groups() default {};\n        Class&lt;? extends Payload&gt;[] payload() default {};\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public class OpenBookingPeriodValidator implements ConstraintValidator&lt;OpenBookingPeriodConstraint, Date&gt; {\n\n        @Override\n        public void initialize(OpenBookingPeriodConstraint constraint) {\n        }\n\n        @Override\n        public boolean isValid(Date dateField, ConstraintValidatorContext cxt) {\n\n                Calendar cal = Calendar.getInstance();\n                cal.setTime(new Date());\n                cal.add(Calendar.DATE, 365);\n                return dateField != null &amp;&amp; dateField.before(cal.getTime());\n        }\n\n}\n</code></pre>\n<pre class=\"lang-html prettyprint-override\"><code>&lt;div class = &quot;container&quot;&gt;\n    &lt;div class = &quot;row&quot;&gt;\n        &lt;div class = &quot;col-lg-6 col-md-6 col-sm-6 container justify-content-center card&quot;&gt;\n            &lt;h1 class =&quot;text-center&quot;&gt; Create Booking&lt;/h1&gt;\n            &lt;div class = &quot;card-body&quot;&gt;\n                &lt;form th:action=&quot;@{/booking/add}&quot; th:object=&quot;${bookingHeader}&quot; method=&quot;post&quot; id=&quot;contactForm1&quot; data-bs-target=&quot;#main_menu_users&quot;&gt;\n                    \n                    &lt;div class =&quot;form-group&quot;&gt;\n                        &lt;label for=&quot;bookingDate&quot;&gt;bookingDate&lt;/label&gt;\n                        &lt;input type=&quot;date&quot; th:field=&quot;*{bookingDate}&quot; id=&quot;bookingDate&quot; placeholder=&quot;bookingDate&quot; class=&quot;form-control&quot;&gt;\n                        &lt;span th:if=&quot;${#fields.hasErrors('bookingDate')}&quot; th:errors=&quot;*{bookingDate}&quot;&gt;&lt;/span&gt;\n                    &lt;/div&gt;\n                    &lt;br&gt;\n                    &lt;div class =&quot;form-group&quot;&gt;\n                        &lt;label for=&quot;bookingOffer&quot;&gt;bookingOffer&lt;/label&gt;\n                        &lt;input type=&quot;number&quot; th:field=&quot;*{bookingOffer}&quot; id=&quot;bookingOffer&quot; placeholder=&quot;bookingOffer&quot; class=&quot;form-control&quot;&gt;\n                        &lt;span th:if=&quot;${#fields.hasErrors('bookingOffer')}&quot; th:errors=&quot;*{bookingOffer}&quot;&gt;&lt;/span&gt;\n                    &lt;/div&gt;\n                &lt;/form&gt;\n            &lt;/div&gt;\n        &lt;/div&gt;\n    &lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n<p><img src=\"https://i.stack.imgur.com/kuUhb.jpg\" alt=\"Errors show correctly\" /></p>\n<p><img src=\"https://i.stack.imgur.com/FJvEi.jpg\" alt=\"These messages though should be warnings that can be skipped/acknowledged\" /></p>\n"},{"tags":["java","apache-camel","properties-file"],"comments":[{"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"score":0,"creation_date":1697034899,"post_id":77273921,"comment_id":136229155,"body_markdown":"Where do you run the application from? You need to check the current working directory (`System.getProperties(&quot;user.dir&quot;)`.) If you are double-clicking, it might be you&#39;re running it from `C:\\Windows\\System32`.","body":"Where do you run the application from? You need to check the current working directory (<code>System.getProperties(&quot;user.dir&quot;)</code>.) If you are double-clicking, it might be you&#39;re running it from <code>C:\\Windows\\System32</code>."},{"owner":{"account_id":1546043,"reputation":57,"user_id":1439571,"display_name":"Anto"},"score":0,"creation_date":1697036205,"post_id":77273921,"comment_id":136229437,"body_markdown":"@k314159,  The path where those files are kept in C:\\Anto_Dev_Environment\\proxy_wmi","body":"@k314159,  The path where those files are kept in C:\\Anto_Dev_Environment\\proxy_wmi"},{"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"score":0,"creation_date":1697037382,"post_id":77273921,"comment_id":136229689,"body_markdown":"Are you sure? How do you know it&#39;s that folder? If you double-click it, that folder is _not_ the current directory. Try putting `echo %CD% &amp;&amp; pause` at the start of your `run_proxy.bat` and you&#39;ll see.","body":"Are you sure? How do you know it&#39;s that folder? If you double-click it, that folder is <i>not</i> the current directory. Try putting <code>echo %CD% &amp;&amp; pause</code> at the start of your <code>run_proxy.bat</code> and you&#39;ll see."},{"owner":{"account_id":1546043,"reputation":57,"user_id":1439571,"display_name":"Anto"},"score":1,"creation_date":1697080814,"post_id":77273921,"comment_id":136235217,"body_markdown":"@k314159, I got the directory  &#39;echo C:\\Anto_Dev_Environment\\proxy_wmi   &amp;&amp; pause&#39; I tried the above code..No luck.","body":"@k314159, I got the directory  &#39;echo C:\\Anto_Dev_Environment\\proxy_wmi   &amp;&amp; pause&#39; I tried the above code..No luck."}],"owner":{"account_id":1546043,"reputation":57,"user_id":1439571,"display_name":"Anto"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697080757,"creation_date":1697033931,"question_id":77273921,"body_markdown":"Our project used to have two kinds of properties in camel. One is for the default configuration and the other is a web service info. Once we package an entire project in a jar format. We placed the properties files in a separate folder (config). Which is present outside the jar file. Dynamically the web service properties are changed based on client requirements. It&#39;s better to keep it outside. So, to avoid every time building the jar file based on the web service property gets changed. \r\n\r\nOn reading the properties from the camel route, it was looking inside the jar directory of /config folder. We need to look outside of the /config folder. \r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nThe below code used to apply the properties \r\n\r\n    main.setPropertyPlaceholderLocations(&quot;file:config/scb-api-proxy.properties,config/scb-api-proxy-cred.properties,classpath:application.properties&quot;);\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/SDExV.png\r\n  [2]: https://i.stack.imgur.com/eLtlV.png\r\n\r\n    try {\r\n            \tPropertiesComponent pc = new PropertiesComponent();\r\n        \t\tString path = System.getProperty(&quot;user.dir&quot;) + &quot;\\\\config123\\\\&quot;;\r\n        \t\tSystem.out.println(&quot;***** PATH&quot; + path);\r\n        \t\tpc.setLocation(&quot;file:&quot; + path +&quot;scb-api-proxy.properties,&quot; + path +&quot;scb-api-proxy-cred.properties,classpath:application.properties&quot;);\r\n        \t\t\r\n     \r\n        \t\tcontext.setPropertiesComponent(pc);\r\n        \t\t\r\n        \t\tLOG.info(&quot;Loading the properties file &quot; +  context.resolvePropertyPlaceholders(\r\n            \t\t\t&quot;{{smartcore.api.proxy.credential:false}}&quot;\r\n            \t\t\t.toString()));\r\n        \t\t\r\n            \t}catch(Exception err) {\r\n            \t\terr.printStackTrace();\r\n            \t}\r\n    \t","title":"Handling multiple properties file in camel","body":"<p>Our project used to have two kinds of properties in camel. One is for the default configuration and the other is a web service info. Once we package an entire project in a jar format. We placed the properties files in a separate folder (config). Which is present outside the jar file. Dynamically the web service properties are changed based on client requirements. It's better to keep it outside. So, to avoid every time building the jar file based on the web service property gets changed.</p>\n<p>On reading the properties from the camel route, it was looking inside the jar directory of /config folder. We need to look outside of the /config folder.</p>\n<p><a href=\"https://i.stack.imgur.com/SDExV.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/SDExV.png\" alt=\"enter image description here\" /></a></p>\n<p>The below code used to apply the properties</p>\n<pre><code>main.setPropertyPlaceholderLocations(&quot;file:config/scb-api-proxy.properties,config/scb-api-proxy-cred.properties,classpath:application.properties&quot;);\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/eLtlV.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/eLtlV.png\" alt=\"enter image description here\" /></a></p>\n<pre><code>try {\n            PropertiesComponent pc = new PropertiesComponent();\n            String path = System.getProperty(&quot;user.dir&quot;) + &quot;\\\\config123\\\\&quot;;\n            System.out.println(&quot;***** PATH&quot; + path);\n            pc.setLocation(&quot;file:&quot; + path +&quot;scb-api-proxy.properties,&quot; + path +&quot;scb-api-proxy-cred.properties,classpath:application.properties&quot;);\n            \n \n            context.setPropertiesComponent(pc);\n            \n            LOG.info(&quot;Loading the properties file &quot; +  context.resolvePropertyPlaceholders(\n                    &quot;{{smartcore.api.proxy.credential:false}}&quot;\n                    .toString()));\n            \n            }catch(Exception err) {\n                err.printStackTrace();\n            }\n    \n</code></pre>\n"},{"tags":["java","tomcat","custom-error-pages"],"answers":[{"tags":[],"owner":{"account_id":18590045,"reputation":229,"user_id":13547487,"display_name":"Erik"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697080501,"creation_date":1697080501,"answer_id":77277481,"question_id":77270024,"body_markdown":"Welp....I found out where I went wrong.\r\n\r\nThe ```conf/server.xml```\r\n\r\n    &lt;Valve className=&quot;org.apache.catalina.valves.ErrorReportValve&quot;\r\n           error.400=&quot;errors/error_400.html&quot;\r\n           error.404=&quot;errors/error_404.html&quot; showReport=&quot;false&quot;\r\n           showServerInfo=&quot;false&quot; /&gt;\r\n\r\nerror.404 -&gt; error**Code**.404\r\n\r\nerror.400 -&gt; error**Code**.400\r\n\r\nNot sure if I read the documentation wrong, or the site I was reading it from had the wrong syntax, but once I changed that, my issues were more or less solved. This not only referred to the error pages in the base ```/tomcat``` directory as I wanted, but also allowed referencing to other folders, like ```/tomcat/webapps``` for example.","title":"Create Tomcat custom error pages, but not in ROOT","body":"<p>Welp....I found out where I went wrong.</p>\n<p>The <code>conf/server.xml</code></p>\n<pre><code>&lt;Valve className=&quot;org.apache.catalina.valves.ErrorReportValve&quot;\n       error.400=&quot;errors/error_400.html&quot;\n       error.404=&quot;errors/error_404.html&quot; showReport=&quot;false&quot;\n       showServerInfo=&quot;false&quot; /&gt;\n</code></pre>\n<p>error.404 -&gt; error<strong>Code</strong>.404</p>\n<p>error.400 -&gt; error<strong>Code</strong>.400</p>\n<p>Not sure if I read the documentation wrong, or the site I was reading it from had the wrong syntax, but once I changed that, my issues were more or less solved. This not only referred to the error pages in the base <code>/tomcat</code> directory as I wanted, but also allowed referencing to other folders, like <code>/tomcat/webapps</code> for example.</p>\n"}],"owner":{"account_id":18590045,"reputation":229,"user_id":13547487,"display_name":"Erik"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":115,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1697080501,"creation_date":1696993900,"question_id":77270024,"body_markdown":"Can I put my generic error folder not in the /ROOT folder, but somewhere else?\r\n\r\nI&#39;m running a local Tomcat server (9.0.37) with multiple applications, similar to the folder structure below\r\n```none\r\ntomcat/\r\n      conf/\r\n         web.xml\r\n         server.xml\r\n      webapps/\r\n         ROOT/\r\n           WEB-INF/\r\n         app1/\r\n           META-INF/\r\n           WEB-INF/\r\n              web.xml\r\n         app2/\r\n           META-INF/\r\n           WEB-INF/\r\n              web.xml\r\n```\r\n\r\nI&#39;m trying to create some custom error pages to supersede the default Tomcat ones; generic ones that can be shared by all applications.\r\n\r\nI&#39;ve consulted [a][1] [few][2] [other][3] [examples][4] on this and have created an ```/errors``` folder, containing the HTML for my error pages, as well as modifying the ```tomcat/conf/web.xml```\r\n\r\n```xml\r\n&lt;error-page&gt;\r\n   &lt;error-code&gt;404&lt;/error-code&gt; &lt;!-- Not Found --&gt;\r\n\t&lt;location&gt;/errors/error_404.html&lt;/location&gt;\r\n&lt;/error-page&gt;\r\n```\r\n\r\nand the ```tomcat/conf/server.xml```\r\n\r\n```xml\r\n&lt;Valve className=&quot;org.apache.catalina.valves.ErrorReportValve&quot;\r\n       error.400=&quot;errors/error_400.html&quot;\r\n       error.404=&quot;errors/error_404.html&quot; showReport=&quot;false&quot;\r\n       showServerInfo=&quot;false&quot; /&gt;\r\n```\r\n\r\nThe issue here is that after deployment and simulating a 404 error, I get something alone the lines of &quot;Page Not Found&quot;.\r\n\r\nMy ```/errors``` folder was initially parked under ```tomcat/``` (basically, on the same level as ```conf/```), but I moved it around to try and figure out the cause of this issue.\r\n\r\nAfter moving around the path of my folder, it turns out that the settings in the two XML files(or at least, based on ```conf/web.xml``` from what I&#39;m seeing) seems to be pointing towards to ```conf/webapps/ROOT/errors```. \r\n\r\nIn other words, it works if I add my ```/errors``` folder to ```conf/webapps/ROOT/```. This is consistent with the answers I found above.\r\n\r\nThis is not what I want. I do not want my error folder to be in the ROOT folder, but in another more generic path, as mentioned above under ```/tomcat```\r\n\r\nI had even tried something like the full path itself\r\n\r\n```xml\r\n&lt;error-page&gt;\r\n    &lt;error-code&gt;404&lt;/error-code&gt; &lt;!-- Not Found --&gt;\r\n    &lt;location&gt;/apache-tomcat-9.0.37/webapps/errors/error_404.html&lt;/location&gt;\r\n&lt;/error-page&gt;\r\n```\r\n\r\nand I still get the &#39;Page not Found&#39; error.\r\n\r\nI also had tried, as per one of the answers linked above, starting the path with ```./```\r\n\r\n```xml\r\n&lt;error-page&gt;\r\n     &lt;error-code&gt;404&lt;/error-code&gt; &lt;!-- Not Found --&gt;\r\n     &lt;location&gt;./errors/error_404.html&lt;/location&gt;\r\n&lt;/error-page&gt;\r\n```\r\n\r\nand all I got was the server complaining that the URL must start with a forward slash(&#39;/&#39;).\r\n\r\nTrying ```/../errors/error_404.html``` didn&#39;t really help either.\r\n\r\nWhere am I going wrong?\r\n\r\n  [1]: https://serverfault.com/questions/254102/custom-error-pages-on-apache-tomcat\r\n  [2]: https://stackoverflow.com/questions/47869500/apache-tomcats-error-page\r\n  [3]: https://stackoverflow.com/questions/13914575/how-to-build-server-level-custom-error-page-in-tomcat\r\n  [4]: https://rajesh-w61.medium.com/custom-error-pages-apache-tomcat-2aee835d81bc","title":"Create Tomcat custom error pages, but not in ROOT","body":"<p>Can I put my generic error folder not in the /ROOT folder, but somewhere else?</p>\n<p>I'm running a local Tomcat server (9.0.37) with multiple applications, similar to the folder structure below</p>\n<pre class=\"lang-none prettyprint-override\"><code>tomcat/\n      conf/\n         web.xml\n         server.xml\n      webapps/\n         ROOT/\n           WEB-INF/\n         app1/\n           META-INF/\n           WEB-INF/\n              web.xml\n         app2/\n           META-INF/\n           WEB-INF/\n              web.xml\n</code></pre>\n<p>I'm trying to create some custom error pages to supersede the default Tomcat ones; generic ones that can be shared by all applications.</p>\n<p>I've consulted <a href=\"https://serverfault.com/questions/254102/custom-error-pages-on-apache-tomcat\">a</a> <a href=\"https://stackoverflow.com/questions/47869500/apache-tomcats-error-page\">few</a> <a href=\"https://stackoverflow.com/questions/13914575/how-to-build-server-level-custom-error-page-in-tomcat\">other</a> <a href=\"https://rajesh-w61.medium.com/custom-error-pages-apache-tomcat-2aee835d81bc\" rel=\"nofollow noreferrer\">examples</a> on this and have created an <code>/errors</code> folder, containing the HTML for my error pages, as well as modifying the <code>tomcat/conf/web.xml</code></p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;error-page&gt;\n   &lt;error-code&gt;404&lt;/error-code&gt; &lt;!-- Not Found --&gt;\n    &lt;location&gt;/errors/error_404.html&lt;/location&gt;\n&lt;/error-page&gt;\n</code></pre>\n<p>and the <code>tomcat/conf/server.xml</code></p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;Valve className=&quot;org.apache.catalina.valves.ErrorReportValve&quot;\n       error.400=&quot;errors/error_400.html&quot;\n       error.404=&quot;errors/error_404.html&quot; showReport=&quot;false&quot;\n       showServerInfo=&quot;false&quot; /&gt;\n</code></pre>\n<p>The issue here is that after deployment and simulating a 404 error, I get something alone the lines of &quot;Page Not Found&quot;.</p>\n<p>My <code>/errors</code> folder was initially parked under <code>tomcat/</code> (basically, on the same level as <code>conf/</code>), but I moved it around to try and figure out the cause of this issue.</p>\n<p>After moving around the path of my folder, it turns out that the settings in the two XML files(or at least, based on <code>conf/web.xml</code> from what I'm seeing) seems to be pointing towards to <code>conf/webapps/ROOT/errors</code>.</p>\n<p>In other words, it works if I add my <code>/errors</code> folder to <code>conf/webapps/ROOT/</code>. This is consistent with the answers I found above.</p>\n<p>This is not what I want. I do not want my error folder to be in the ROOT folder, but in another more generic path, as mentioned above under <code>/tomcat</code></p>\n<p>I had even tried something like the full path itself</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;error-page&gt;\n    &lt;error-code&gt;404&lt;/error-code&gt; &lt;!-- Not Found --&gt;\n    &lt;location&gt;/apache-tomcat-9.0.37/webapps/errors/error_404.html&lt;/location&gt;\n&lt;/error-page&gt;\n</code></pre>\n<p>and I still get the 'Page not Found' error.</p>\n<p>I also had tried, as per one of the answers linked above, starting the path with <code>./</code></p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;error-page&gt;\n     &lt;error-code&gt;404&lt;/error-code&gt; &lt;!-- Not Found --&gt;\n     &lt;location&gt;./errors/error_404.html&lt;/location&gt;\n&lt;/error-page&gt;\n</code></pre>\n<p>and all I got was the server complaining that the URL must start with a forward slash('/').</p>\n<p>Trying <code>/../errors/error_404.html</code> didn't really help either.</p>\n<p>Where am I going wrong?</p>\n"},{"tags":["java","text","printwriter"],"answers":[{"tags":[],"owner":{"account_id":3768354,"reputation":7981,"user_id":3131203,"accept_rate":50,"display_name":"keshlam"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1394904082,"creation_date":1394904082,"answer_id":22427153,"question_id":22427094,"body_markdown":"If you want to add to a file&#39;s contents, you need to explicitly open the file for append; the default in most languages is overwrite.\r\n\r\nTo do so in Java, use `new FileWriter(&quot;myfile.txt&quot;, true)`. You can then wrap a PrintWriter around that if desired. ","title":"PrintWriter deleting old contents of a txt file when writing","body":"<p>If you want to add to a file's contents, you need to explicitly open the file for append; the default in most languages is overwrite.</p>\n\n<p>To do so in Java, use <code>new FileWriter(\"myfile.txt\", true)</code>. You can then wrap a PrintWriter around that if desired. </p>\n"},{"tags":[],"owner":{"account_id":23549034,"reputation":71,"user_id":17592044,"display_name":"Nnamdi "},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697078672,"creation_date":1697078672,"answer_id":77277393,"question_id":22427094,"body_markdown":"Doing something like:\r\n```\r\nFileWriter fileWriterName = new FileWriter(&quot;myfile.txt&quot;, true);\r\nPrintWriter printWriterName = new PrintWriter(fileWriterName);\r\n```\r\nshould work. \r\n\r\nCalling \r\n```\r\nprintWriterName.println(&quot;Hello&quot;); \r\n```\r\nshould add a &quot;Hello&quot; line to myfile.txt without erasing what was there before.\r\n\r\nthanks @keshlam","title":"PrintWriter deleting old contents of a txt file when writing","body":"<p>Doing something like:</p>\n<pre><code>FileWriter fileWriterName = new FileWriter(&quot;myfile.txt&quot;, true);\nPrintWriter printWriterName = new PrintWriter(fileWriterName);\n</code></pre>\n<p>should work.</p>\n<p>Calling</p>\n<pre><code>printWriterName.println(&quot;Hello&quot;); \n</code></pre>\n<p>should add a &quot;Hello&quot; line to myfile.txt without erasing what was there before.</p>\n<p>thanks @keshlam</p>\n"}],"owner":{"account_id":3088412,"reputation":145,"user_id":2615107,"display_name":"Geoffroi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8312,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":22427153,"answer_count":2,"score":3,"last_activity_date":1697078672,"creation_date":1394903790,"question_id":22427094,"body_markdown":"So lets say I have a txt file that I want to write to with a PrintWriter. How come the following code deletes the old contents of the file everytime its called?\r\n\r\nCode: \r\n\r\n    import java.io.File;\r\n    import java.io.FileNotFoundException;\r\n    import java.io.PrintWriter;\r\n    \r\n    public class Test {\r\n\t    \r\n\t    public static void main(String[] args) {\r\n\t\t    writeToFile(&quot;foo&quot;);\r\n\t\t    writeToFile(&quot;bar&quot;);\r\n\t    }\r\n\t    \r\n\t    public static void writeToFile(String text) {\r\n\t\t    try {\r\n\t\t\t    PrintWriter printer = new PrintWriter(new File(&quot;myTextFile.txt&quot;));\r\n\t\t\t    printer.println(&quot;Your text is:&quot; + text);\r\n\t\t\t    printer.close();\r\n\t\t    } catch (FileNotFoundException fnfe) {\r\n\t\t\t    fnfe.printStackTrace();\r\n\t   \t    }\r\n\t    }\r\n    \t\r\n    }\r\n\r\nOutput:\r\n\r\n    Your text is:bar\r\n\r\nI&#39;m guessing its something to do with the fact that I&#39;m creating a new PrintWriter or a new File every time the method is being called, but having only one instance being created in the main method failed to work as well.","title":"PrintWriter deleting old contents of a txt file when writing","body":"<p>So lets say I have a txt file that I want to write to with a PrintWriter. How come the following code deletes the old contents of the file everytime its called?</p>\n\n<p>Code: </p>\n\n<pre><code>import java.io.File;\nimport java.io.FileNotFoundException;\nimport java.io.PrintWriter;\n\npublic class Test {\n\n    public static void main(String[] args) {\n        writeToFile(\"foo\");\n        writeToFile(\"bar\");\n    }\n\n    public static void writeToFile(String text) {\n        try {\n            PrintWriter printer = new PrintWriter(new File(\"myTextFile.txt\"));\n            printer.println(\"Your text is:\" + text);\n            printer.close();\n        } catch (FileNotFoundException fnfe) {\n            fnfe.printStackTrace();\n        }\n    }\n\n}\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>Your text is:bar\n</code></pre>\n\n<p>I'm guessing its something to do with the fact that I'm creating a new PrintWriter or a new File every time the method is being called, but having only one instance being created in the main method failed to work as well.</p>\n"},{"tags":["java","methods","javadoc"],"comments":[{"owner":{"account_id":105525,"reputation":32628,"user_id":281545,"accept_rate":85,"display_name":"Mr_and_Mrs_D"},"score":5,"creation_date":1379684388,"post_id":5011291,"comment_id":27929818,"body_markdown":"_put `@see` in `MethodB`&#39;s javadoc and reference `MethodA` because that is what called it_ --&gt; How would be ever possible to know all methods which call one of your methods ? Even if this is possible (say a private method used only once) linking from callee to caller sounds at least weird...","body":"<i>put <code>@see</code> in <code>MethodB</code>&#39;s javadoc and reference <code>MethodA</code> because that is what called it</i> --&gt; How would be ever possible to know all methods which call one of your methods ? Even if this is possible (say a private method used only once) linking from callee to caller sounds at least weird..."},{"owner":{"account_id":4589337,"reputation":230,"user_id":3760459,"display_name":"stackexchanger"},"score":1,"creation_date":1471966230,"post_id":5011291,"comment_id":65557430,"body_markdown":"It means what it usually means in English: https://www.oxforddictionaries.com/us/definition/american_english/see (definition 1.4)","body":"It means what it usually means in English: <a href=\"https://www.oxforddictionaries.com/us/definition/american_english/see\" rel=\"nofollow noreferrer\">oxforddictionaries.com/us/definition/american_english/see</a> (definition 1.4)"}],"answers":[{"tags":[],"owner":{"account_id":132399,"reputation":1349,"user_id":333068,"accept_rate":50,"display_name":"Rob Dawson"},"comment_count":0,"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1297817483,"creation_date":1297817483,"answer_id":5011339,"question_id":5011291,"body_markdown":"@see is useful for information about related methods/classes in an API.  It will produce a link to the referenced method/code on the documentation.  Use it when there is related code that might help the user understand how to use the API.","title":"Usage of @see in JavaDoc?","body":"<p>@see is useful for information about related methods/classes in an API.  It will produce a link to the referenced method/code on the documentation.  Use it when there is related code that might help the user understand how to use the API.</p>\n"},{"comments":[{"owner":{"account_id":8371845,"reputation":139,"user_id":6286797,"display_name":"Mark Peschel"},"score":19,"creation_date":1496103070,"post_id":5014784,"comment_id":75511847,"body_markdown":"`@see` is also useful for linking to alternatives to `@Deprecated` methods.","body":"<code>@see</code> is also useful for linking to alternatives to <code>@Deprecated</code> methods."},{"owner":{"account_id":564775,"reputation":2435,"user_id":196405,"display_name":"Christopher"},"score":2,"creation_date":1578615011,"post_id":5014784,"comment_id":105506319,"body_markdown":"@MauveRanger Since `@see` is pretty vague, for deprecated stuff I find it more useful to do something more explicit, like: `@deprecated since X.Y.Z; use {@link #alternateMethod()} instead`","body":"@MauveRanger Since <code>@see</code> is pretty vague, for deprecated stuff I find it more useful to do something more explicit, like: <code>@deprecated since X.Y.Z; use {@link #alternateMethod()} instead</code>"}],"tags":[],"owner":{"account_id":295869,"reputation":73614,"user_id":600500,"accept_rate":54,"display_name":"Palo Ebermann"},"comment_count":2,"down_vote_count":0,"up_vote_count":146,"is_accepted":true,"score":146,"last_activity_date":1697077397,"creation_date":1297849210,"answer_id":5014784,"question_id":5011291,"body_markdown":"Yeah, it is quite vague.\r\n\r\nYou should use it whenever it may be useful for readers of the documentation of your method to also look at some other method. If the documentation of your methodA says &quot;Works like methodB but ...&quot;, then you surely should put a link.\r\n\r\nAn alternative to `@see` would be the inline `{@link ...}` tag:\r\n\r\n    /**\r\n     * ...\r\n     * Works like {@link #methodB}, but ...\r\n     */\r\n\r\nWhen the fact that methodA calls methodB is an implementation detail and there is no real relation from the outside, you don&#39;t need a link here.","title":"Usage of @see in JavaDoc?","body":"<p>Yeah, it is quite vague.</p>\n<p>You should use it whenever it may be useful for readers of the documentation of your method to also look at some other method. If the documentation of your methodA says &quot;Works like methodB but ...&quot;, then you surely should put a link.</p>\n<p>An alternative to <code>@see</code> would be the inline <code>{@link ...}</code> tag:</p>\n<pre><code>/**\n * ...\n * Works like {@link #methodB}, but ...\n */\n</code></pre>\n<p>When the fact that methodA calls methodB is an implementation detail and there is no real relation from the outside, you don't need a link here.</p>\n"},{"comments":[{"owner":{"display_name":"user719662"},"score":2,"creation_date":1415207086,"post_id":19256806,"comment_id":42107061,"body_markdown":"wasn&#39;t me, but it was probably because we have @inheritDoc http://docs.oracle.com/javase/6/docs/technotes/tools/solaris/javadoc.html#@inheritDoc","body":"wasn&#39;t me, but it was probably because we have @inheritDoc <a href=\"http://docs.oracle.com/javase/6/docs/technotes/tools/solaris/javadoc.html#@inheritDoc\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/6/docs/technotes/tools/solaris/&hellip;</a>"},{"owner":{"account_id":8435236,"reputation":80,"user_id":6329595,"display_name":"dok"},"score":1,"creation_date":1470311045,"post_id":19256806,"comment_id":64904004,"body_markdown":"the java documentation for @see is a really good. should be first.","body":"the java documentation for @see is a really good. should be first."},{"owner":{"account_id":479580,"reputation":1191,"user_id":892327,"accept_rate":73,"display_name":"Nielsvh"},"score":2,"creation_date":1485987436,"post_id":19256806,"comment_id":71158890,"body_markdown":"@vaxquis `@inheritDoc` copies the documentation from another location. I imagine that describing details rather than adding fluff has its uses?","body":"@vaxquis <code>@inheritDoc</code> copies the documentation from another location. I imagine that describing details rather than adding fluff has its uses?"},{"owner":{"display_name":"user719662"},"score":0,"creation_date":1485988544,"post_id":19256806,"comment_id":71159379,"body_markdown":"@Nielsvg this answer mentions that `the overridden/implemented method could use a @see tag, referring to the base one.` - and that&#39;s exactly what `@inheritDoc` is for; IMO it&#39;s better to include the base class description verbatim by means of `@inheritDoc` *and* supplement it as needed, than to refer to it by `@see` - see (sic!) http://stackoverflow.com/questions/11121600/writing-proper-javadoc-with-see ; many developers (me included) prefer having *all* the implementation details in one place, instead of neverending chain of upwards links leading upwards through an inheritance hierarchy.","body":"@Nielsvg this answer mentions that <code>the overridden&#47;implemented method could use a @see tag, referring to the base one.</code> - and that&#39;s exactly what <code>@inheritDoc</code> is for; IMO it&#39;s better to include the base class description verbatim by means of <code>@inheritDoc</code> <i>and</i> supplement it as needed, than to refer to it by <code>@see</code> - see (sic!) <a href=\"http://stackoverflow.com/questions/11121600/writing-proper-javadoc-with-see\" title=\"writing proper javadoc with see\">stackoverflow.com/questions/11121600/&hellip;</a> ; many developers (me included) prefer having <i>all</i> the implementation details in one place, instead of neverending chain of upwards links leading upwards through an inheritance hierarchy."}],"tags":[],"owner":{"account_id":1039075,"reputation":949,"user_id":1045538,"accept_rate":86,"display_name":"AtomHeartFather"},"comment_count":4,"down_vote_count":2,"up_vote_count":15,"is_accepted":false,"score":13,"last_activity_date":1405495120,"creation_date":1381261215,"answer_id":19256806,"question_id":5011291,"body_markdown":"A good example of a situation when `@see` can be useful would be implementing or overriding an interface/abstract class method. The declaration would have `javadoc` section detailing the method and the overridden/implemented method could use a `@see` tag, referring to the base one.\r\n\r\nRelated question:\r\nhttps://stackoverflow.com/questions/11121600/writing-proper-javadoc-with-see\r\n\r\nJava SE documentation: [`@see`][1]\r\n\r\n[1]: http://docs.oracle.com/javase/7/docs/technotes/tools/windows/javadoc.html#see","title":"Usage of @see in JavaDoc?","body":"<p>A good example of a situation when <code>@see</code> can be useful would be implementing or overriding an interface/abstract class method. The declaration would have <code>javadoc</code> section detailing the method and the overridden/implemented method could use a <code>@see</code> tag, referring to the base one.</p>\n\n<p>Related question:\n<a href=\"https://stackoverflow.com/questions/11121600/writing-proper-javadoc-with-see\">Writing proper javadoc with @see?</a></p>\n\n<p>Java SE documentation: <a href=\"http://docs.oracle.com/javase/7/docs/technotes/tools/windows/javadoc.html#see\" rel=\"noreferrer\"><code>@see</code></a></p>\n"},{"tags":[],"owner":{"account_id":5631059,"reputation":480,"user_id":4458013,"display_name":"Maruthi"},"comment_count":0,"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1432969251,"creation_date":1432969251,"answer_id":30543313,"question_id":5011291,"body_markdown":"I use @see to annotate methods of an interface implementation class where the description of the method is already provided in the javadoc of the interface. When we do that I notice that Eclipse pulls up the interface&#39;s documentation even when I am looking up method on the implementation reference during code complete","title":"Usage of @see in JavaDoc?","body":"<p>I use @see to annotate methods of an interface implementation class where the description of the method is already provided in the javadoc of the interface. When we do that I notice that Eclipse pulls up the interface's documentation even when I am looking up method on the implementation reference during code complete</p>\n"},{"comments":[{"owner":{"account_id":2851272,"reputation":1349,"user_id":2448440,"accept_rate":50,"display_name":"Qw3ry"},"score":3,"creation_date":1618304119,"post_id":65512494,"comment_id":118554776,"body_markdown":"+1 for listing the different possibilities to use links in javadoc with examples. But note that other JavaDoc renderers will behave different! 5. does not work with IntelliJ, for example.","body":"+1 for listing the different possibilities to use links in javadoc with examples. But note that other JavaDoc renderers will behave different! 5. does not work with IntelliJ, for example."}],"tags":[],"owner":{"account_id":1852061,"reputation":1950,"user_id":1678392,"accept_rate":93,"display_name":"nikodaemus"},"comment_count":1,"down_vote_count":0,"up_vote_count":23,"is_accepted":false,"score":23,"last_activity_date":1619710521,"creation_date":1609356282,"answer_id":65512494,"question_id":5011291,"body_markdown":"The `@see` tag is a bit different than the `@link` tag,&lt;br /&gt;\r\nlimited in some ways and more flexible in others.&lt;br /&gt;\r\nThe following examples are from Eclipse:\r\n\r\n[![different JavaDoc link types][1]][1]\r\n&lt;sup&gt;*Different JavaDoc link types*&lt;/sup&gt;\r\n\r\n 1. Displays the member name for better learning, and is refactorable; the name will update when renaming by refactor\r\n 2. Refactorable and customizable; your text is displayed instead of the member name\r\n 3. Displays name, refactorable\r\n 4. Refactorable, customizable\r\n 5. A rather *mediocre* combination that is:\r\n   * Refactorable, customizable, and stays in the **See Also** section\r\n   * Displays nicely in the Eclipse hover\r\n   * Displays the link tag and its formatting when generated &#128542;\r\n   * When using multiple `@see` items, commas in the description make the output confusing\r\n 6. **Completely illegal**; causes unexpected content and illegal character errors in the generator\r\n\r\nSee the results below:\r\n\r\n[![JavaDoc generation results with different link types][2]][2]\r\n&lt;sup&gt;*JavaDoc generation results with different link types*&lt;/sup&gt;\r\n\r\nBest regards.\r\n\r\n  [1]: https://i.stack.imgur.com/5W2KP.png\r\n  [2]: https://i.stack.imgur.com/HN8wC.png","title":"Usage of @see in JavaDoc?","body":"<p>The <code>@see</code> tag is a bit different than the <code>@link</code> tag,<br />\nlimited in some ways and more flexible in others.<br />\nThe following examples are from Eclipse:</p>\n<p><a href=\"https://i.stack.imgur.com/5W2KP.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/5W2KP.png\" alt=\"different JavaDoc link types\" /></a>\n<sup><em>Different JavaDoc link types</em></sup></p>\n<ol>\n<li>Displays the member name for better learning, and is refactorable; the name will update when renaming by refactor</li>\n<li>Refactorable and customizable; your text is displayed instead of the member name</li>\n<li>Displays name, refactorable</li>\n<li>Refactorable, customizable</li>\n<li>A rather <em>mediocre</em> combination that is:</li>\n</ol>\n<ul>\n<li>Refactorable, customizable, and stays in the <strong>See Also</strong> section</li>\n<li>Displays nicely in the Eclipse hover</li>\n<li>Displays the link tag and its formatting when generated </li>\n<li>When using multiple <code>@see</code> items, commas in the description make the output confusing</li>\n</ul>\n<ol start=\"6\">\n<li><strong>Completely illegal</strong>; causes unexpected content and illegal character errors in the generator</li>\n</ol>\n<p>See the results below:</p>\n<p><a href=\"https://i.stack.imgur.com/HN8wC.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/HN8wC.png\" alt=\"JavaDoc generation results with different link types\" /></a>\n<sup><em>JavaDoc generation results with different link types</em></sup></p>\n<p>Best regards.</p>\n"}],"owner":{"account_id":604895,"reputation":2017,"user_id":314681,"accept_rate":56,"display_name":"Jeff"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":208893,"favorite_count":0,"down_vote_count":1,"up_vote_count":137,"accepted_answer_id":5014784,"answer_count":5,"score":136,"last_activity_date":1697077397,"creation_date":1297817118,"question_id":5011291,"body_markdown":"When do I use `@see` when dealing with JavaDocs? What is its usage?\r\n\r\nFor example if `MethodA` calls `MethodB` then do I have to put `@see` in `MethodB`&#39;s javadoc and reference `MethodA` because that is what called it, or do I have to put a reference to `MethodB` from `MethodA` because it&#39;s calling it. I&#39;ve read the stuff about `@see` on the Oracle website and it seems to me to be incredibly vague, it says it means &quot;see also&quot; but not really what that means!","title":"Usage of @see in JavaDoc?","body":"<p>When do I use <code>@see</code> when dealing with JavaDocs? What is its usage?</p>\n\n<p>For example if <code>MethodA</code> calls <code>MethodB</code> then do I have to put <code>@see</code> in <code>MethodB</code>'s javadoc and reference <code>MethodA</code> because that is what called it, or do I have to put a reference to <code>MethodB</code> from <code>MethodA</code> because it's calling it. I've read the stuff about <code>@see</code> on the Oracle website and it seems to me to be incredibly vague, it says it means \"see also\" but not really what that means!</p>\n"},{"tags":["java","hyperlink","javadoc"],"comments":[{"owner":{"account_id":332245,"reputation":16487,"user_id":657427,"accept_rate":67,"display_name":"Christophe Roussy"},"score":32,"creation_date":1394035008,"post_id":5915992,"comment_id":33706027,"body_markdown":"I know this is a few years ago but... looking at the official Java classes can help find any form of Javadoc formatting you need. For example look at the HashMap Javadoc.","body":"I know this is a few years ago but... looking at the official Java classes can help find any form of Javadoc formatting you need. For example look at the HashMap Javadoc."}],"answers":[{"comments":[{"owner":{"account_id":19061,"reputation":185746,"user_id":44330,"accept_rate":70,"display_name":"Jason S"},"score":0,"creation_date":1304709905,"post_id":5916021,"comment_id":6812077,"body_markdown":"Wait: I just want the method name with a link, I don&#39;t want the class name as well.","body":"Wait: I just want the method name with a link, I don&#39;t want the class name as well."},{"owner":{"account_id":69443,"reputation":85343,"user_id":202009,"accept_rate":79,"display_name":"Andy Thomas"},"score":0,"creation_date":1304710835,"post_id":5916021,"comment_id":6812267,"body_markdown":"Ah, okay. The first example in the link above illustrates that.","body":"Ah, okay. The first example in the link above illustrates that."},{"owner":{"account_id":152633,"reputation":48313,"user_id":367285,"accept_rate":81,"display_name":"FrVaBe"},"score":1,"creation_date":1304711202,"post_id":5916021,"comment_id":6812362,"body_markdown":"+1 for providing a Java 6 link that I was not linked to from the Oracle JavaDoc HowTo page. I still can&#39;t get along with the oracle links... (fixed links to Java 6 in my answer).","body":"+1 for providing a Java 6 link that I was not linked to from the Oracle JavaDoc HowTo page. I still can&#39;t get along with the oracle links... (fixed links to Java 6 in my answer)."},{"owner":{"account_id":295869,"reputation":73614,"user_id":600500,"accept_rate":54,"display_name":"Palo Ebermann"},"score":0,"creation_date":1304723773,"post_id":5916021,"comment_id":6814787,"body_markdown":"@K. Claszen: http://download.oracle.com/javase/6/docs/, then click [javadoc](http://download.oracle.com/javase/6/docs/technotes/guides/javadoc/index.html) in the diagram, then choose [Javadoc Tool Reference Page (Microsoft Windows)](http://download.oracle.com/javase/6/docs/technotes/tools/windows/javadoc.html), then [Javadoc tags](http://download.oracle.com/javase/6/docs/technotes/tools/windows/javadoc.html#javadoctags).","body":"@K. Claszen: <a href=\"http://download.oracle.com/javase/6/docs/\" rel=\"nofollow noreferrer\">download.oracle.com/javase/6/docs</a>, then click <a href=\"http://download.oracle.com/javase/6/docs/technotes/guides/javadoc/index.html\" rel=\"nofollow noreferrer\">javadoc</a> in the diagram, then choose <a href=\"http://download.oracle.com/javase/6/docs/technotes/tools/windows/javadoc.html\" rel=\"nofollow noreferrer\">Javadoc Tool Reference Page (Microsoft Windows)</a>, then <a href=\"http://download.oracle.com/javase/6/docs/technotes/tools/windows/javadoc.html#javadoctags\" rel=\"nofollow noreferrer\">Javadoc tags</a>."},{"owner":{"account_id":152633,"reputation":48313,"user_id":367285,"accept_rate":81,"display_name":"FrVaBe"},"score":0,"creation_date":1304747544,"post_id":5916021,"comment_id":6816839,"body_markdown":"@Palo Ebermann Thanks! Will try to use the &#39;docs&#39; page as entry point in the future.","body":"@Palo Ebermann Thanks! Will try to use the &#39;docs&#39; page as entry point in the future."},{"owner":{"account_id":69443,"reputation":85343,"user_id":202009,"accept_rate":79,"display_name":"Andy Thomas"},"score":0,"creation_date":1449676039,"post_id":5916021,"comment_id":56112288,"body_markdown":"@zasadnyy - Thank you for your attempt to add the important note about generics. I liked it, but didn&#39;t get to the review before others. I&#39;ve added the section *#member and generics* to the answer above.","body":"@zasadnyy - Thank you for your attempt to add the important note about generics. I liked it, but didn&#39;t get to the review before others. I&#39;ve added the section <i>#member and generics</i> to the answer above."},{"owner":{"account_id":2699532,"reputation":1544,"user_id":2330577,"display_name":"Jose Tepedino"},"score":0,"creation_date":1554662173,"post_id":5916021,"comment_id":97824588,"body_markdown":"The label keeps the link short, by hiding package and class information.\nThat&#39;s great!","body":"The label keeps the link short, by hiding package and class information. That&#39;s great!"}],"tags":[],"owner":{"account_id":69443,"reputation":85343,"user_id":202009,"accept_rate":79,"display_name":"Andy Thomas"},"comment_count":7,"down_vote_count":2,"up_vote_count":882,"is_accepted":false,"score":880,"last_activity_date":1633551135,"creation_date":1304709474,"answer_id":5916021,"question_id":5915992,"body_markdown":"The general format, from the [@link section of the javadoc documentation][1], is:\r\n\r\n[![{@link package.class#member label}][3]][3]\r\n\r\n&lt;h1&gt;Examples&lt;/h1&gt;\r\n\r\n**Method in the same class:**\r\n\r\n&lt;!-- language-all: lang-none --&gt;\r\n\r\n    /** See also {@link #myMethod(String)}. */\r\n    void foo() { ... }\r\n\r\n**Method in a *different class,*** either in the same package or imported:\r\n\r\n&lt;!-- language-all: lang-none --&gt;\r\n\r\n    /** See also {@link MyOtherClass#myMethod(String)}. */\r\n    void foo() { ... }\r\n\r\n**Method in a *different package*** and not imported:\r\n\r\n&lt;!-- language-all: lang-none --&gt;\r\n\r\n    /** See also {@link com.mypackage.YetAnotherClass#myMethod(String)}. */\r\n    void foo() { ... }\r\n\r\n**Label linked to method, in plain text** rather than code font:\r\n\r\n&lt;!-- language-all: lang-none --&gt;\r\n\r\n    /** See also this {@linkplain #myMethod(String) implementation}. */\r\n    void foo() { ... }\r\n\r\n**A chain of method calls,** as in your question. We have to specify labels for the links to methods outside this class, or we get &lt;code&gt;getFoo().Foo.getBar().Bar.getBaz()&lt;/code&gt;. But these labels can be fragile during refactoring -- see &quot;Labels&quot; below.\r\n\r\n&lt;!-- language-all: lang-none --&gt;\r\n\r\n    /**\r\n     * A convenience method, equivalent to \r\n     * {@link #getFoo()}.{@link Foo#getBar() getBar()}.{@link Bar#getBaz() getBaz()}.\r\n     * @return baz\r\n     */\r\n    public Baz fooBarBaz()\r\n\r\n&lt;h1&gt;Labels&lt;/h1&gt;\r\n\r\n**Automated refactoring may not affect labels.** This includes renaming the method, class or package; and changing the method signature.\r\n\r\n**Therefore, provide a label *only* if you want different text than the default.** \r\n\r\nFor example, you might link from human language to code:\r\n\r\n&lt;!-- language-all: lang-none --&gt;\r\n\r\n\t/** You can also {@linkplain #getFoo() get the current foo}. */\r\n    void setFoo( Foo foo ) { ... }\r\n\r\nOr you might link from a code sample with text different than the default, as shown above under &quot;A chain of method calls.&quot; However, this can be fragile while APIs are evolving. \r\n\r\n&lt;h1&gt;Type erasure and #member&lt;/h1&gt;\r\n\r\nIf the method signature includes parameterized types, use the erasure of those types in the javadoc @link. For example:\r\n\r\n    int bar( Collection&lt;Integer&gt; receiver ) { ... }\r\n\r\n    /** See also {@link #bar(Collection)}. */\r\n    void foo() { ... }\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/specs/javadoc/doc-comment-spec.html#link\r\n  [3]: http://i.stack.imgur.com/HGVDj.png","title":"How to reference a method in javadoc?","body":"<p>The general format, from the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/specs/javadoc/doc-comment-spec.html#link\" rel=\"noreferrer\">@link section of the javadoc documentation</a>, is:</p>\n<p><a href=\"https://i.stack.imgur.com/HGVDj.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/HGVDj.png\" alt=\"{@link package.class#member label}\" /></a></p>\n<h1>Examples</h1>\n<p><strong>Method in the same class:</strong></p>\n\n<pre class=\"lang-none prettyprint-override\"><code>/** See also {@link #myMethod(String)}. */\nvoid foo() { ... }\n</code></pre>\n<p><strong>Method in a <em>different class,</em></strong> either in the same package or imported:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>/** See also {@link MyOtherClass#myMethod(String)}. */\nvoid foo() { ... }\n</code></pre>\n<p><strong>Method in a <em>different package</em></strong> and not imported:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>/** See also {@link com.mypackage.YetAnotherClass#myMethod(String)}. */\nvoid foo() { ... }\n</code></pre>\n<p><strong>Label linked to method, in plain text</strong> rather than code font:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>/** See also this {@linkplain #myMethod(String) implementation}. */\nvoid foo() { ... }\n</code></pre>\n<p><strong>A chain of method calls,</strong> as in your question. We have to specify labels for the links to methods outside this class, or we get <code>getFoo().Foo.getBar().Bar.getBaz()</code>. But these labels can be fragile during refactoring -- see &quot;Labels&quot; below.</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>/**\n * A convenience method, equivalent to \n * {@link #getFoo()}.{@link Foo#getBar() getBar()}.{@link Bar#getBaz() getBaz()}.\n * @return baz\n */\npublic Baz fooBarBaz()\n</code></pre>\n<h1>Labels</h1>\n<p><strong>Automated refactoring may not affect labels.</strong> This includes renaming the method, class or package; and changing the method signature.</p>\n<p><strong>Therefore, provide a label <em>only</em> if you want different text than the default.</strong></p>\n<p>For example, you might link from human language to code:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>/** You can also {@linkplain #getFoo() get the current foo}. */\nvoid setFoo( Foo foo ) { ... }\n</code></pre>\n<p>Or you might link from a code sample with text different than the default, as shown above under &quot;A chain of method calls.&quot; However, this can be fragile while APIs are evolving.</p>\n<h1>Type erasure and #member</h1>\n<p>If the method signature includes parameterized types, use the erasure of those types in the javadoc @link. For example:</p>\n<pre class=\"lang-none prettyprint-override\"><code>int bar( Collection&lt;Integer&gt; receiver ) { ... }\n\n/** See also {@link #bar(Collection)}. */\nvoid foo() { ... }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":152633,"reputation":48313,"user_id":367285,"accept_rate":81,"display_name":"FrVaBe"},"comment_count":0,"down_vote_count":2,"up_vote_count":1282,"is_accepted":true,"score":1280,"last_activity_date":1697077056,"creation_date":1304709902,"answer_id":5916098,"question_id":5915992,"body_markdown":"You will find much information about JavaDoc at the _[Documentation Comment Specification for the Standard Doclet][1]_, including the information on the \r\n\r\n&gt; **[{@link module/package.class#member  label}][2]**\r\n\r\ntag (that you are looking for). The corresponding example from the documentation is as follows\r\n\r\n&gt; For example, here is a comment that refers to the getComponentAt(int, int) method:\r\n&gt;\r\n&gt; `Use the {@link #getComponentAt(int, int) getComponentAt} method.`\r\n\r\nThe `module/package.class` part can be ommited if the referred method is in the current class.\r\n\r\n----------\r\nOther useful links about JavaDoc are:\r\n\r\n - [JDK 17 Tool Specifications - The javadoc Command][3]\r\n - [JavaDoc Guide][4]\r\n - [How to Write Doc Comments for the Javadoc Tool][5] \r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/specs/javadoc/doc-comment-spec.html\r\n  [2]: https://docs.oracle.com/en/java/javase/17/docs/specs/javadoc/doc-comment-spec.html#link\r\n  [3]: https://docs.oracle.com/en/java/javase/17/docs/specs/man/javadoc.html\r\n  [4]: https://docs.oracle.com/en/java/javase/17/javadoc/javadoc.html\r\n  [5]: https://www.oracle.com/technical-resources/articles/java/javadoc-tool.html","title":"How to reference a method in javadoc?","body":"<p>You will find much information about JavaDoc at the <em><a href=\"https://docs.oracle.com/en/java/javase/17/docs/specs/javadoc/doc-comment-spec.html\" rel=\"nofollow noreferrer\">Documentation Comment Specification for the Standard Doclet</a></em>, including the information on the</p>\n<blockquote>\n<p><strong><a href=\"https://docs.oracle.com/en/java/javase/17/docs/specs/javadoc/doc-comment-spec.html#link\" rel=\"nofollow noreferrer\">{@link module/package.class#member  label}</a></strong></p>\n</blockquote>\n<p>tag (that you are looking for). The corresponding example from the documentation is as follows</p>\n<blockquote>\n<p>For example, here is a comment that refers to the getComponentAt(int, int) method:</p>\n<p><code>Use the {@link #getComponentAt(int, int) getComponentAt} method.</code></p>\n</blockquote>\n<p>The <code>module/package.class</code> part can be ommited if the referred method is in the current class.</p>\n<hr />\n<p>Other useful links about JavaDoc are:</p>\n<ul>\n<li><a href=\"https://docs.oracle.com/en/java/javase/17/docs/specs/man/javadoc.html\" rel=\"nofollow noreferrer\">JDK 17 Tool Specifications - The javadoc Command</a></li>\n<li><a href=\"https://docs.oracle.com/en/java/javase/17/javadoc/javadoc.html\" rel=\"nofollow noreferrer\">JavaDoc Guide</a></li>\n<li><a href=\"https://www.oracle.com/technical-resources/articles/java/javadoc-tool.html\" rel=\"nofollow noreferrer\">How to Write Doc Comments for the Javadoc Tool</a></li>\n</ul>\n"},{"comments":[{"owner":{"account_id":69443,"reputation":85343,"user_id":202009,"accept_rate":79,"display_name":"Andy Thomas"},"score":6,"creation_date":1484266104,"post_id":41604072,"comment_id":70451742,"body_markdown":"OP: &quot;How can I use the @link tag to link to a method?&quot; The *@link* tag can be used inline within a paragraph, as requested by the OP. The *@see* tag cannot. See more detail at [this question](http://stackoverflow.com/questions/10097199/javadoc-see-or-link).","body":"OP: &quot;How can I use the @link tag to link to a method?&quot; The <i>@link</i> tag can be used inline within a paragraph, as requested by the OP. The <i>@see</i> tag cannot. See more detail at <a href=\"http://stackoverflow.com/questions/10097199/javadoc-see-or-link\">this question</a>."}],"tags":[],"owner":{"account_id":3516368,"reputation":6373,"user_id":2939690,"accept_rate":17,"display_name":"vuhung3990"},"comment_count":1,"down_vote_count":2,"up_vote_count":20,"is_accepted":false,"score":18,"last_activity_date":1484187438,"creation_date":1484187438,"answer_id":41604072,"question_id":5915992,"body_markdown":"you can use `@see` to do that:\r\n\r\nsample: \r\n\r\n    interface View {\r\n            /**\r\n             * @return true: have read contact and call log permissions, else otherwise\r\n             * @see #requestReadContactAndCallLogPermissions()\r\n             */\r\n            boolean haveReadContactAndCallLogPermissions();\r\n    \r\n            /**\r\n             * if not have permissions, request to user for allow\r\n             * @see #haveReadContactAndCallLogPermissions()\r\n             */\r\n            void requestReadContactAndCallLogPermissions();\r\n        }","title":"How to reference a method in javadoc?","body":"<p>you can use <code>@see</code> to do that:</p>\n\n<p>sample: </p>\n\n<pre><code>interface View {\n        /**\n         * @return true: have read contact and call log permissions, else otherwise\n         * @see #requestReadContactAndCallLogPermissions()\n         */\n        boolean haveReadContactAndCallLogPermissions();\n\n        /**\n         * if not have permissions, request to user for allow\n         * @see #haveReadContactAndCallLogPermissions()\n         */\n        void requestReadContactAndCallLogPermissions();\n    }\n</code></pre>\n"}],"owner":{"account_id":19061,"reputation":185746,"user_id":44330,"accept_rate":70,"display_name":"Jason S"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":585395,"favorite_count":0,"down_vote_count":0,"up_vote_count":1007,"accepted_answer_id":5916098,"answer_count":3,"score":1007,"last_activity_date":1697077056,"creation_date":1304709305,"question_id":5915992,"body_markdown":"How can I use the `@link` tag to link to a method?\r\n\r\nI want to change:\r\n\r\n    /**\r\n     * Returns the Baz object owned by the Bar object owned by Foo owned by this.\r\n     * A convenience method, equivalent to getFoo().getBar().getBaz()\r\n     * @return baz\r\n     */\r\n    public Baz fooBarBaz()\r\n\r\n**to:**\r\n\r\n    /**\r\n     * Returns the Baz object owned by the Bar object owned by Foo owned by this.\r\n     * A convenience method, equivalent to {@link getFoo()}.{@link getBar()}.{@link getBaz()}\r\n     * @return baz\r\n     */\r\n    public Baz fooBarBaz()\r\n\r\nbut I don&#39;t know how to format the `@link` tag correctly.","title":"How to reference a method in javadoc?","body":"<p>How can I use the <code>@link</code> tag to link to a method?</p>\n\n<p>I want to change:</p>\n\n<pre><code>/**\n * Returns the Baz object owned by the Bar object owned by Foo owned by this.\n * A convenience method, equivalent to getFoo().getBar().getBaz()\n * @return baz\n */\npublic Baz fooBarBaz()\n</code></pre>\n\n<p><strong>to:</strong></p>\n\n<pre><code>/**\n * Returns the Baz object owned by the Bar object owned by Foo owned by this.\n * A convenience method, equivalent to {@link getFoo()}.{@link getBar()}.{@link getBaz()}\n * @return baz\n */\npublic Baz fooBarBaz()\n</code></pre>\n\n<p>but I don't know how to format the <code>@link</code> tag correctly.</p>\n"},{"tags":["java","spring","spring-boot","netflix-eureka","graalvm-native-image"],"answers":[{"comments":[{"owner":{"account_id":25207018,"reputation":63,"user_id":19045208,"display_name":"Tallen67"},"score":0,"creation_date":1697076840,"post_id":77266296,"comment_id":136234903,"body_markdown":"What seemed to solve the problem in my case was to add `spring.cloud.refresh.enabled=false`","body":"What seemed to solve the problem in my case was to add <code>spring.cloud.refresh.enabled=false</code>"}],"tags":[],"owner":{"account_id":26927495,"reputation":1,"user_id":20500521,"display_name":"Vahid Ramezani"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696945064,"creation_date":1696945064,"answer_id":77266296,"question_id":77262813,"body_markdown":"Try specifying the health endpoint properties to include only the health indicators that you need. You can add the following configurations to your application.yaml:\r\n\r\n```\r\nmanagement:\r\n  ...\r\n  health:\r\n    diskspace:\r\n      enabled: true\r\n    db:\r\n      enabled: true\r\n    ...\r\n```","title":"UnsatisfiedDependencyException: Error creating bean with name &#39;healthContributorRegistry&#39; when using GraalVM native image","body":"<p>Try specifying the health endpoint properties to include only the health indicators that you need. You can add the following configurations to your application.yaml:</p>\n<pre><code>management:\n  ...\n  health:\n    diskspace:\n      enabled: true\n    db:\n      enabled: true\n    ...\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25207018,"reputation":63,"user_id":19045208,"display_name":"Tallen67"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697076869,"creation_date":1697076869,"answer_id":77277314,"question_id":77262813,"body_markdown":"What seemed to solve the problem in my case was to add `spring.cloud.refresh.enabled=false`","title":"UnsatisfiedDependencyException: Error creating bean with name &#39;healthContributorRegistry&#39; when using GraalVM native image","body":"<p>What seemed to solve the problem in my case was to add <code>spring.cloud.refresh.enabled=false</code></p>\n"}],"owner":{"account_id":25207018,"reputation":63,"user_id":19045208,"display_name":"Tallen67"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":141,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1697076869,"creation_date":1696909280,"question_id":77262813,"body_markdown":"I&#39;m using Spring 3.1.2 and can successfully deploy a very simple REST application in a k8s cluster using a JAR file. The application is registering with an Eureka server and works just fine if I deploy as a JAR file.\r\n\r\nNow the problem is that when I compile the application using `mvn clean -Pnative native:compile` and deploy the same application I get the following errors in the logfile:\r\n\r\n```log\r\n\r\n  .   ____          _            __ _ _\r\n /\\\\ / ___&#39;_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\r\n( ( )\\___ | &#39;_ | &#39;_| | &#39;_ \\/ _` | \\ \\ \\ \\\r\n \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\r\n  &#39;  |____| .__|_| |_|_| |_\\__, | / / / /\r\n =========|_|==============|___/=/_/_/_/\r\n :: Spring Boot ::                (v3.1.2)\r\n\r\n2023-10-09T22:33:25.141-05:00  INFO 30700 --- [           main] c.e.creditscore.CreditscoreApplication   : Starting AOT-processed CreditscoreApplication using Java 17.0.8 with PID 30700 (/Users/atael/Documents/GitHub/microservices-datadriven/cloudbank-v2/spring-apps-spring3/creditscore/target/creditscore started by atael in /Users/atael/Documents/GitHub/microservices-datadriven/cloudbank-v2/spring-apps-spring3/creditscore/target)\r\n2023-10-09T22:33:25.142-05:00  INFO 30700 --- [           main] c.e.creditscore.CreditscoreApplication   : No active profile set, falling back to 1 default profile: &quot;default&quot;\r\n2023-10-09T22:33:25.144-05:00  INFO 30700 --- [           main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=368d3e47-1089-3f9a-85bc-0c3f5dcda5ab\r\n2023-10-09T22:33:25.162-05:00  INFO 30700 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)\r\n2023-10-09T22:33:25.163-05:00  INFO 30700 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\r\n2023-10-09T22:33:25.163-05:00  INFO 30700 --- [           main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.11]\r\n2023-10-09T22:33:25.170-05:00  INFO 30700 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\r\n2023-10-09T22:33:25.170-05:00  INFO 30700 --- [           main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 28 ms\r\n2023-10-09T22:33:25.195-05:00  WARN 30700 --- [           main] w.s.c.ServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;healthContributorRegistry&#39;: Unsatisfied dependency expressed through method &#39;healthContributorRegistry&#39; parameter 2: Error creating bean with name &#39;discoveryCompositeHealthContributor&#39;: Unsatisfied dependency expressed through method &#39;discoveryCompositeHealthContributor&#39; parameter 0: Error creating bean with name &#39;eurekaHealthIndicator&#39;: Unsatisfied dependency expressed through method &#39;eurekaHealthIndicator&#39; parameter 0: No qualifying bean of type &#39;com.netflix.discovery.EurekaClient&#39; available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}\r\n```\r\n\r\nMy pom.xml contains this:\r\n```xml\r\n&lt;plugin&gt;\r\n    &lt;groupId&gt;org.graalvm.buildtools&lt;/groupId&gt;\r\n    &lt;artifactId&gt;native-maven-plugin&lt;/artifactId&gt;\r\n&lt;/plugin&gt;\r\n```\r\n\r\nI&#39;m using this version of Java:\r\n```\r\njava version &quot;17.0.8&quot; 2023-07-18 LTS\r\nJava(TM) SE Runtime Environment Oracle GraalVM 17.0.8+9.1 (build 17.0.8+9-LTS-jvmci-23.0-b14)\r\nJava HotSpot(TM) 64-Bit Server VM Oracle GraalVM 17.0.8+9.1 (build 17.0.8+9-LTS-jvmci-23.0-b14, mixed mode, sharing)\r\n```\r\n \r\nAnd this is the application:\r\n\r\n```java\r\npackage com.example.creditscore;\r\n\r\nimport org.springframework.boot.SpringApplication;\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\nimport org.springframework.cloud.client.discovery.EnableDiscoveryClient;\r\n\r\n@EnableDiscoveryClient\r\n@SpringBootApplication\r\npublic class CreditscoreApplication {\r\n\r\n    public static void main(String[] args) {\r\n        SpringApplication.run(CreditscoreApplication.class, args);\r\n    }\r\n\r\n}\r\n```\r\n\r\n```java\r\npackage com.example.creditscore.controller;\r\n\r\nimport org.springframework.web.bind.annotation.*;\r\n\r\nimport lombok.extern.slf4j.Slf4j;\r\n\r\nimport java.security.SecureRandom;\r\nimport java.util.HashMap;\r\nimport java.util.Map;\r\n\r\n@RestController\r\n@RequestMapping(&quot;/api/v1&quot;)\r\n@Slf4j\r\npublic class CreditScoreController {\r\n\r\n    @GetMapping(&quot;/creditscore&quot;)\r\n    public Map&lt;String, String&gt; getCreditScore() {\r\n        log.info(&quot;CREDITSCORE: getCreditScore&quot;);\r\n        int max = 900;\r\n        int min = 500;\r\n        SecureRandom secureRandom = new SecureRandom();\r\n        HashMap&lt;String, String&gt; map = new HashMap&lt;&gt;();\r\n        map.put(&quot;Credit Score&quot;, String.valueOf(secureRandom.nextInt(max - min) + min));\r\n        map.put(&quot;Date&quot;, String.valueOf(java.time.LocalDate.now()));\r\n        return map;\r\n    }\r\n}\r\n```\r\nAnd the application.yaml looks like this:\r\n```yaml\r\nspring:\r\n  application:\r\n    name: creditscore\r\n  zipkin:\r\n    base-url: ${zipkin.base-url}\r\n\r\neureka:\r\n  instance:\r\n    hostname: ${spring.application.name}\r\n    preferIpAddress: true\r\n  client:\r\n    service-url:\r\n      defaultZone: ${eureka.service-url}\r\n    fetch-registry: true\r\n    register-with-eureka: true\r\n    enabled: true\r\n\r\nmanagement:\r\n  endpoint:\r\n    health:\r\n      show-details: always\r\n  endpoints:\r\n    web:\r\n      exposure:\r\n        include: &quot;*&quot;\r\n  metrics:\r\n    tags:\r\n      application: ${spring.application.name}\r\n```\r\nAnd if I do a kubectl describe deployment I get this information:\r\n```yaml\r\nName:                   creditscore\r\nNamespace:              nativetest\r\nCreationTimestamp:      Mon, 09 Oct 2023 15:53:20 -0500\r\nLabels:                 &lt;none&gt;\r\nAnnotations:            deployment.kubernetes.io/revision: 1\r\nSelector:               app=creditscore\r\nReplicas:               1 desired | 1 updated | 1 total | 0 available | 1 unavailable\r\nStrategyType:           RollingUpdate\r\nMinReadySeconds:        0\r\nRollingUpdateStrategy:  25% max unavailable, 25% max surge\r\nPod Template:\r\n  Labels:  app=creditscore\r\n           version=0.0.1\r\n  Containers:\r\n   creditscore:\r\n    Image:      &lt;notforpublic&gt;\r\n    Port:       8080/TCP\r\n    Host Port:  0/TCP\r\n    Environment:\r\n      app.container.port:                     8080\r\n      spring.profiles.active:                 default\r\n      spring.config.label:                    0.0.1\r\n      eureka.instance.preferIpAddress:        true\r\n      eureka.instance.hostname:               creditscore.nativetest\r\n      MP_LRA_COORDINATOR_URL:                 http://otmm-tcs.otmm.svc.cluster.local:9000/api/v1/lra-coordinator\r\n      MP_LRA_PARTICIPANT_URL:                 http://creditscore.nativetest.svc.cluster.local:8080\r\n      eureka.client.register-with-eureka:     true\r\n      eureka.client.fetch-registry:           true\r\n      eureka.client.service-url.defaultZone:  http://eureka.eureka:8761/eureka\r\n      zipkin.base-url:                        http://jaegertracing-collector.observability:9411\r\n      otel.exporter.otlp.endpoint:            http://open-telemetry-opentelemetry-collector.open-telemetry:4317\r\n      hystrix.metrics.enabled:                true\r\n    Mounts:                                   &lt;none&gt;\r\n  Volumes:                                    &lt;none&gt;\r\nConditions:\r\n  Type           Status  Reason\r\n  ----           ------  ------\r\n  Progressing    True    NewReplicaSetAvailable\r\n  Available      False   MinimumReplicasUnavailable\r\nOldReplicaSets:  &lt;none&gt;\r\nNewReplicaSet:   creditscore-5774cb4757 (1/1 replicas created)\r\nEvents:          &lt;none&gt;\r\n```\r\n\r\nAny great ideas on what I&#39;m doing wrong?","title":"UnsatisfiedDependencyException: Error creating bean with name &#39;healthContributorRegistry&#39; when using GraalVM native image","body":"<p>I'm using Spring 3.1.2 and can successfully deploy a very simple REST application in a k8s cluster using a JAR file. The application is registering with an Eureka server and works just fine if I deploy as a JAR file.</p>\n<p>Now the problem is that when I compile the application using <code>mvn clean -Pnative native:compile</code> and deploy the same application I get the following errors in the logfile:</p>\n<pre><code>\n  .   ____          _            __ _ _\n /\\\\ / ___'_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\n( ( )\\___ | '_ | '_| | '_ \\/ _` | \\ \\ \\ \\\n \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\n  '  |____| .__|_| |_|_| |_\\__, | / / / /\n =========|_|==============|___/=/_/_/_/\n :: Spring Boot ::                (v3.1.2)\n\n2023-10-09T22:33:25.141-05:00  INFO 30700 --- [           main] c.e.creditscore.CreditscoreApplication   : Starting AOT-processed CreditscoreApplication using Java 17.0.8 with PID 30700 (/Users/atael/Documents/GitHub/microservices-datadriven/cloudbank-v2/spring-apps-spring3/creditscore/target/creditscore started by atael in /Users/atael/Documents/GitHub/microservices-datadriven/cloudbank-v2/spring-apps-spring3/creditscore/target)\n2023-10-09T22:33:25.142-05:00  INFO 30700 --- [           main] c.e.creditscore.CreditscoreApplication   : No active profile set, falling back to 1 default profile: &quot;default&quot;\n2023-10-09T22:33:25.144-05:00  INFO 30700 --- [           main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=368d3e47-1089-3f9a-85bc-0c3f5dcda5ab\n2023-10-09T22:33:25.162-05:00  INFO 30700 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)\n2023-10-09T22:33:25.163-05:00  INFO 30700 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\n2023-10-09T22:33:25.163-05:00  INFO 30700 --- [           main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.11]\n2023-10-09T22:33:25.170-05:00  INFO 30700 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\n2023-10-09T22:33:25.170-05:00  INFO 30700 --- [           main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 28 ms\n2023-10-09T22:33:25.195-05:00  WARN 30700 --- [           main] w.s.c.ServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'healthContributorRegistry': Unsatisfied dependency expressed through method 'healthContributorRegistry' parameter 2: Error creating bean with name 'discoveryCompositeHealthContributor': Unsatisfied dependency expressed through method 'discoveryCompositeHealthContributor' parameter 0: Error creating bean with name 'eurekaHealthIndicator': Unsatisfied dependency expressed through method 'eurekaHealthIndicator' parameter 0: No qualifying bean of type 'com.netflix.discovery.EurekaClient' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}\n</code></pre>\n<p>My pom.xml contains this:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.graalvm.buildtools&lt;/groupId&gt;\n    &lt;artifactId&gt;native-maven-plugin&lt;/artifactId&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>I'm using this version of Java:</p>\n<pre><code>java version &quot;17.0.8&quot; 2023-07-18 LTS\nJava(TM) SE Runtime Environment Oracle GraalVM 17.0.8+9.1 (build 17.0.8+9-LTS-jvmci-23.0-b14)\nJava HotSpot(TM) 64-Bit Server VM Oracle GraalVM 17.0.8+9.1 (build 17.0.8+9-LTS-jvmci-23.0-b14, mixed mode, sharing)\n</code></pre>\n<p>And this is the application:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.example.creditscore;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.cloud.client.discovery.EnableDiscoveryClient;\n\n@EnableDiscoveryClient\n@SpringBootApplication\npublic class CreditscoreApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(CreditscoreApplication.class, args);\n    }\n\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>package com.example.creditscore.controller;\n\nimport org.springframework.web.bind.annotation.*;\n\nimport lombok.extern.slf4j.Slf4j;\n\nimport java.security.SecureRandom;\nimport java.util.HashMap;\nimport java.util.Map;\n\n@RestController\n@RequestMapping(&quot;/api/v1&quot;)\n@Slf4j\npublic class CreditScoreController {\n\n    @GetMapping(&quot;/creditscore&quot;)\n    public Map&lt;String, String&gt; getCreditScore() {\n        log.info(&quot;CREDITSCORE: getCreditScore&quot;);\n        int max = 900;\n        int min = 500;\n        SecureRandom secureRandom = new SecureRandom();\n        HashMap&lt;String, String&gt; map = new HashMap&lt;&gt;();\n        map.put(&quot;Credit Score&quot;, String.valueOf(secureRandom.nextInt(max - min) + min));\n        map.put(&quot;Date&quot;, String.valueOf(java.time.LocalDate.now()));\n        return map;\n    }\n}\n</code></pre>\n<p>And the application.yaml looks like this:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>spring:\n  application:\n    name: creditscore\n  zipkin:\n    base-url: ${zipkin.base-url}\n\neureka:\n  instance:\n    hostname: ${spring.application.name}\n    preferIpAddress: true\n  client:\n    service-url:\n      defaultZone: ${eureka.service-url}\n    fetch-registry: true\n    register-with-eureka: true\n    enabled: true\n\nmanagement:\n  endpoint:\n    health:\n      show-details: always\n  endpoints:\n    web:\n      exposure:\n        include: &quot;*&quot;\n  metrics:\n    tags:\n      application: ${spring.application.name}\n</code></pre>\n<p>And if I do a kubectl describe deployment I get this information:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>Name:                   creditscore\nNamespace:              nativetest\nCreationTimestamp:      Mon, 09 Oct 2023 15:53:20 -0500\nLabels:                 &lt;none&gt;\nAnnotations:            deployment.kubernetes.io/revision: 1\nSelector:               app=creditscore\nReplicas:               1 desired | 1 updated | 1 total | 0 available | 1 unavailable\nStrategyType:           RollingUpdate\nMinReadySeconds:        0\nRollingUpdateStrategy:  25% max unavailable, 25% max surge\nPod Template:\n  Labels:  app=creditscore\n           version=0.0.1\n  Containers:\n   creditscore:\n    Image:      &lt;notforpublic&gt;\n    Port:       8080/TCP\n    Host Port:  0/TCP\n    Environment:\n      app.container.port:                     8080\n      spring.profiles.active:                 default\n      spring.config.label:                    0.0.1\n      eureka.instance.preferIpAddress:        true\n      eureka.instance.hostname:               creditscore.nativetest\n      MP_LRA_COORDINATOR_URL:                 http://otmm-tcs.otmm.svc.cluster.local:9000/api/v1/lra-coordinator\n      MP_LRA_PARTICIPANT_URL:                 http://creditscore.nativetest.svc.cluster.local:8080\n      eureka.client.register-with-eureka:     true\n      eureka.client.fetch-registry:           true\n      eureka.client.service-url.defaultZone:  http://eureka.eureka:8761/eureka\n      zipkin.base-url:                        http://jaegertracing-collector.observability:9411\n      otel.exporter.otlp.endpoint:            http://open-telemetry-opentelemetry-collector.open-telemetry:4317\n      hystrix.metrics.enabled:                true\n    Mounts:                                   &lt;none&gt;\n  Volumes:                                    &lt;none&gt;\nConditions:\n  Type           Status  Reason\n  ----           ------  ------\n  Progressing    True    NewReplicaSetAvailable\n  Available      False   MinimumReplicasUnavailable\nOldReplicaSets:  &lt;none&gt;\nNewReplicaSet:   creditscore-5774cb4757 (1/1 replicas created)\nEvents:          &lt;none&gt;\n</code></pre>\n<p>Any great ideas on what I'm doing wrong?</p>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1697072099,"post_id":77277087,"comment_id":136234590,"body_markdown":"This is a warning, not an error. Precision please. You haven&#39;t asked an actual question, but the answer to it is contained in the message.","body":"This is a warning, not an error. Precision please. You haven&#39;t asked an actual question, but the answer to it is contained in the message."},{"owner":{"account_id":5613533,"reputation":13,"user_id":4445608,"display_name":"steve"},"score":0,"creation_date":1697160649,"post_id":77277087,"comment_id":136248107,"body_markdown":"Joop Eggen clarity, has really help me format my code...hence resolved","body":"Joop Eggen clarity, has really help me format my code...hence resolved"}],"answers":[{"comments":[{"owner":{"account_id":5613533,"reputation":13,"user_id":4445608,"display_name":"steve"},"score":0,"creation_date":1697160365,"post_id":77277312,"comment_id":136248088,"body_markdown":"thanks  Joop Eggen for the clarification...its helpful","body":"thanks  Joop Eggen for the clarification...its helpful"}],"tags":[],"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1697076824,"creation_date":1697076824,"answer_id":77277312,"question_id":77277087,"body_markdown":"One can use `Map.of(k0, v0, k1, v1, etc)`.\r\n\r\nType-safe but needing overloads for different number of map entries.\r\n\r\nYour code has the problem that a `String...`/`String[]` is passed as an `Object...`. Which has the ambiguity - unrelated to any actual java rule -, that either one Object is passed with the String array, or every sole String is passed as a separate Object.\r\n\r\nSimply specify\r\n\r\n    &lt;K, V, E /*super K &amp; V*/&gt; toMap(Class&lt;K&gt; keyType, Class&lt;V&gt; valueType, E[] entries) {\r\n\r\nThis allows pervasively passing a String array. I am unsure whether E cannot be more restricted to K and V. Hence out-commented.\r\n","title":"Java Error: non-varargs call of varargs method with inexact argument type for last parameter","body":"<p>One can use <code>Map.of(k0, v0, k1, v1, etc)</code>.</p>\n<p>Type-safe but needing overloads for different number of map entries.</p>\n<p>Your code has the problem that a <code>String...</code>/<code>String[]</code> is passed as an <code>Object...</code>. Which has the ambiguity - unrelated to any actual java rule -, that either one Object is passed with the String array, or every sole String is passed as a separate Object.</p>\n<p>Simply specify</p>\n<pre><code>&lt;K, V, E /*super K &amp; V*/&gt; toMap(Class&lt;K&gt; keyType, Class&lt;V&gt; valueType, E[] entries) {\n</code></pre>\n<p>This allows pervasively passing a String array. I am unsure whether E cannot be more restricted to K and V. Hence out-commented.</p>\n"}],"owner":{"account_id":5613533,"reputation":13,"user_id":4445608,"display_name":"steve"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":44,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":77277312,"answer_count":1,"score":-1,"last_activity_date":1697076824,"creation_date":1697071517,"question_id":77277087,"body_markdown":"I get this warning message for the java below class code: \r\n\r\n&lt;b&gt;Error message:&lt;/b&gt; non-varargs call of varargs method with inexact argument type for last parameter;\r\n  cast to java.lang.Object for a varargs call\r\n  cast to java.lang.Object[] for a non-varargs call and to suppress this warning\r\n\r\n\r\n    public class EntityNotFoundException extends RuntimeException {\r\n\r\n    public EntityNotFoundException(Class&lt;?&gt; clazz, String... searchParamsMap) {\r\n        super(EntityNotFoundException.generateMessage(clazz.getSimpleName(), toMap(String.class, String.class, searchParamsMap)));\r\n    }\r\n\r\n    private static String generateMessage(String entity, Map&lt;String, String&gt; searchParams) {\r\n        return StringUtils.capitalize(entity) +\r\n                &quot; was not found for parameters:-&gt; &quot; +\r\n                searchParams;\r\n    }\r\n\r\n    private static &lt;K, V&gt; Map&lt;K, V&gt; toMap(\r\n            Class&lt;K&gt; keyType, Class&lt;V&gt; valueType, Object... entries) {\r\n        if (entries.length % 2 == 1)\r\n            throw new IllegalArgumentException(&quot;Invalid entries&quot;);\r\n\r\n        return IntStream.range(0, entries.length / 2).map(i -&gt; i * 2)\r\n                .collect(HashMap::new,\r\n                        (m, i) -&gt; m.put(keyType.cast(entries[i]), valueType.cast(entries[i + 1])),\r\n                        Map::putAll);\r\n    }\r\n\r\n}","title":"Java Error: non-varargs call of varargs method with inexact argument type for last parameter","body":"<p>I get this warning message for the java below class code:</p>\n<p><b>Error message:</b> non-varargs call of varargs method with inexact argument type for last parameter;\ncast to java.lang.Object for a varargs call\ncast to java.lang.Object[] for a non-varargs call and to suppress this warning</p>\n<pre><code>public class EntityNotFoundException extends RuntimeException {\n\npublic EntityNotFoundException(Class&lt;?&gt; clazz, String... searchParamsMap) {\n    super(EntityNotFoundException.generateMessage(clazz.getSimpleName(), toMap(String.class, String.class, searchParamsMap)));\n}\n\nprivate static String generateMessage(String entity, Map&lt;String, String&gt; searchParams) {\n    return StringUtils.capitalize(entity) +\n            &quot; was not found for parameters:-&gt; &quot; +\n            searchParams;\n}\n\nprivate static &lt;K, V&gt; Map&lt;K, V&gt; toMap(\n        Class&lt;K&gt; keyType, Class&lt;V&gt; valueType, Object... entries) {\n    if (entries.length % 2 == 1)\n        throw new IllegalArgumentException(&quot;Invalid entries&quot;);\n\n    return IntStream.range(0, entries.length / 2).map(i -&gt; i * 2)\n            .collect(HashMap::new,\n                    (m, i) -&gt; m.put(keyType.cast(entries[i]), valueType.cast(entries[i + 1])),\n                    Map::putAll);\n}\n</code></pre>\n<p>}</p>\n"},{"tags":["java","spring","spring-mvc","intellij-idea","bcrypt"],"comments":[{"owner":{"account_id":19344468,"reputation":1965,"user_id":14143312,"display_name":"Rukshan Jayasekara"},"score":0,"creation_date":1621613655,"post_id":67640397,"comment_id":119557575,"body_markdown":"Can you provide the code where you are getting the error?","body":"Can you provide the code where you are getting the error?"},{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":0,"creation_date":1621613667,"post_id":67640397,"comment_id":119557577,"body_markdown":"What import statement are you using?","body":"What import statement are you using?"},{"owner":{"account_id":8900088,"reputation":4307,"user_id":6643803,"accept_rate":81,"display_name":"akuma8"},"score":0,"creation_date":1621614802,"post_id":67640397,"comment_id":119558036,"body_markdown":"I think it&#39;s an IDE issue, I often experience this kind of problem with the last releases of IntelliJ. I don&#39;t know why but the last versions of IntelliJ Ultimate (since 2020.1) seem really instable. To solve it, check your module SDK (not the project SDK) sometimes they are not the same. Also, you can invalidate the cache and restart.","body":"I think it&#39;s an IDE issue, I often experience this kind of problem with the last releases of IntelliJ. I don&#39;t know why but the last versions of IntelliJ Ultimate (since 2020.1) seem really instable. To solve it, check your module SDK (not the project SDK) sometimes they are not the same. Also, you can invalidate the cache and restart."}],"answers":[{"comments":[{"owner":{"account_id":14381284,"reputation":187,"user_id":10388412,"display_name":" "},"score":0,"creation_date":1630743983,"post_id":67641228,"comment_id":122043584,"body_markdown":"This works for me. \nThe version which did not work:     &lt;version&gt;5.5.2&lt;/version&gt;","body":"This works for me.  The version which did not work:     &lt;version&gt;5.5.2&lt;/version&gt;"}],"tags":[],"owner":{"account_id":1594534,"reputation":56,"user_id":1477052,"display_name":"Shriraj"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1621618536,"creation_date":1621617106,"answer_id":67641228,"question_id":67640397,"body_markdown":"Could you try with \r\n\r\n    &lt;dependency&gt;\r\n    &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring-security-crypto&lt;/artifactId&gt;\r\n    &lt;version&gt;5.4.6&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n\r\n\r\n","title":"Cannot resolve symbol &#39;BCrypt&#39;","body":"<p>Could you try with</p>\n<pre><code>&lt;dependency&gt;\n&lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n&lt;artifactId&gt;spring-security-crypto&lt;/artifactId&gt;\n&lt;version&gt;5.4.6&lt;/version&gt;\n</code></pre>\n\n"},{"tags":[],"owner":{"account_id":10814530,"reputation":4195,"user_id":7954021,"display_name":"Renis1235"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1621619556,"creation_date":1621619556,"answer_id":67641758,"question_id":67640397,"body_markdown":"The following dependency works for me.\r\n\r\nTry adding this, refreshing maven dependencies and restarting your IDE.\r\n```\r\n        &lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n```","title":"Cannot resolve symbol &#39;BCrypt&#39;","body":"<p>The following dependency works for me.</p>\n<p>Try adding this, refreshing maven dependencies and restarting your IDE.</p>\n<pre><code>        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25093798,"reputation":1,"user_id":18945178,"display_name":"leLu-BR"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697076713,"creation_date":1697060851,"answer_id":77276560,"question_id":67640397,"body_markdown":"I&#39;m not sure my contribution will help you.\r\nI&#39;ve tried many answers to fix a similar issue, but the source for bcrypt I&#39;ve used is different. The below code worked for me in VSCode.\r\nIn pom.xml file(within dependencies):\r\n\r\n```xml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;at.favre.lib&lt;/groupId&gt;\r\n    &lt;artifactId&gt;bcrypt&lt;/artifactId&gt;\r\n    &lt;version&gt;0.10.2&lt;/version&gt;\r\n    &lt;packaging&gt;jar&lt;/packaging&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nAlso, this is what the import looks like:\r\n\r\n```java\r\nimport at.favre.lib.crypto.bcrypt.BCrypt;\r\n```\r\n\r\nLink to the source for this version of BCrypt.\r\nhttps://github.com/patrickfav/bcrypt \r\nI hope this helps someone.","title":"Cannot resolve symbol &#39;BCrypt&#39;","body":"<p>I'm not sure my contribution will help you.\nI've tried many answers to fix a similar issue, but the source for bcrypt I've used is different. The below code worked for me in VSCode.\nIn pom.xml file(within dependencies):</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;at.favre.lib&lt;/groupId&gt;\n    &lt;artifactId&gt;bcrypt&lt;/artifactId&gt;\n    &lt;version&gt;0.10.2&lt;/version&gt;\n    &lt;packaging&gt;jar&lt;/packaging&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Also, this is what the import looks like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import at.favre.lib.crypto.bcrypt.BCrypt;\n</code></pre>\n<p>Link to the source for this version of BCrypt.\n<a href=\"https://github.com/patrickfav/bcrypt\" rel=\"nofollow noreferrer\">https://github.com/patrickfav/bcrypt</a>\nI hope this helps someone.</p>\n"}],"owner":{"account_id":19313322,"reputation":3,"user_id":14118589,"display_name":"Jenny L"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2200,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":67641228,"answer_count":3,"score":0,"last_activity_date":1697076713,"creation_date":1621613219,"question_id":67640397,"body_markdown":"I am trying to add BCrypt to my code, but my program won&#39;t import the dependency. All I get is the message &quot;Cannot resolve symbol &#39;BCrypt&#39;&quot; and if I try to look at the informationsymbol, my only alternatives are:\r\n- &quot;Create class &#39;BCrypt&#39;&quot;\r\n- &quot;Create field &#39;BCrypt&#39; in &#39;JavaclassName&#39;&quot;\r\n- &quot;Create local variable &#39;BCrypt&#39;&quot;\r\nand so on...\r\n\r\nI tried adding dependency in the pom.xml-file:\r\n\r\n    &lt;dependency&gt;\r\n       &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n       &lt;artifactId&gt;spring-security-core&lt;/artifactId&gt;\r\n       &lt;version&gt;5.4.6&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nbut it did not help.\r\nI also tried:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.mindrot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jbcrypt&lt;/artifactId&gt;\r\n        &lt;version&gt;0.4&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nbut this just gave me red warnign-signs.\r\n\r\nI use Intellij, and started a Spring project with SDK java version 11.\r\nHope someone is able to help :)","title":"Cannot resolve symbol &#39;BCrypt&#39;","body":"<p>I am trying to add BCrypt to my code, but my program won't import the dependency. All I get is the message &quot;Cannot resolve symbol 'BCrypt'&quot; and if I try to look at the informationsymbol, my only alternatives are:</p>\n<ul>\n<li>&quot;Create class 'BCrypt'&quot;</li>\n<li>&quot;Create field 'BCrypt' in 'JavaclassName'&quot;</li>\n<li>&quot;Create local variable 'BCrypt'&quot;\nand so on...</li>\n</ul>\n<p>I tried adding dependency in the pom.xml-file:</p>\n<pre><code>&lt;dependency&gt;\n   &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n   &lt;artifactId&gt;spring-security-core&lt;/artifactId&gt;\n   &lt;version&gt;5.4.6&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>but it did not help.\nI also tried:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.mindrot&lt;/groupId&gt;\n    &lt;artifactId&gt;jbcrypt&lt;/artifactId&gt;\n    &lt;version&gt;0.4&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>but this just gave me red warnign-signs.</p>\n<p>I use Intellij, and started a Spring project with SDK java version 11.\nHope someone is able to help :)</p>\n"},{"tags":["java","ssl","intellij-idea"],"comments":[{"owner":{"account_id":1275953,"reputation":26182,"user_id":1231230,"accept_rate":76,"display_name":"Ankur Singhal"},"score":0,"creation_date":1416320874,"post_id":26996555,"comment_id":42523896,"body_markdown":"have a look [here](http://ankursinghal86.blogspot.jp/2014/06/authentication-with-client-certificate.html)","body":"have a look <a href=\"http://ankursinghal86.blogspot.jp/2014/06/authentication-with-client-certificate.html\" rel=\"nofollow noreferrer\">here</a>"},{"owner":{"account_id":5351686,"reputation":1,"user_id":4265663,"display_name":"marta"},"score":0,"creation_date":1416328642,"post_id":26996555,"comment_id":42528883,"body_markdown":"Ankur-singhal, thanks for your advice. I have a question to you. The entry type of my certificate is &#39;trustedCertEntry&#39;, but in your article - Entry type: PrivateKeyEntry. Is the &#39; Entry type&#39; important very much?","body":"Ankur-singhal, thanks for your advice. I have a question to you. The entry type of my certificate is &#39;trustedCertEntry&#39;, but in your article - Entry type: PrivateKeyEntry. Is the &#39; Entry type&#39; important very much?"},{"owner":{"account_id":155770,"reputation":120153,"user_id":372643,"accept_rate":88,"display_name":"Bruno"},"score":0,"creation_date":1416480522,"post_id":26996555,"comment_id":42595137,"body_markdown":"The `HostnameVerifier` you&#39;re using is insecure. It&#39;s only checking the hostname against a reverse lookup (so vulnerable to MITM attacks), not against the certificate.","body":"The <code>HostnameVerifier</code> you&#39;re using is insecure. It&#39;s only checking the hostname against a reverse lookup (so vulnerable to MITM attacks), not against the certificate."}],"answers":[{"tags":[],"owner":{"account_id":2417794,"reputation":2126,"user_id":2111482,"display_name":"Roshith"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1416480681,"creation_date":1416480235,"answer_id":27037572,"question_id":26996555,"body_markdown":"Import the server cert as trusted\r\n\r\nkeytool -import -trustcacerts -alias somealias -keystore clienttrust.jks -file marta.cer","title":"Exception in thread &quot;main&quot; javax.net.ssl.SSLHandshakeException: sun.security.validator.ValidatorException: No trusted certificate found","body":"<p>Import the server cert as trusted</p>\n\n<p>keytool -import -trustcacerts -alias somealias -keystore clienttrust.jks -file marta.cer</p>\n"}],"owner":{"account_id":5351686,"reputation":1,"user_id":4265663,"display_name":"marta"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":9157,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1697076170,"creation_date":1416320521,"question_id":26996555,"body_markdown":"I am in first in automated testing. So, I have a task to create automated script for API testing. I need to create https request with self-signed serificate. This certificate gave me our admins with p12 extension and password file. I exported this certificate to .cer extenssion. Than I created the trust store and import this certificate to this store.\r\n\r\n`C:\\Program Files (x86)\\Java\\jdk1.8.0_25\\jre\\bin&gt;keytool -import -keystore clienttrust.jks -file marta.cer -storepass storepass`\r\n\r\nI located the marta.cer and clienttrust.jks near my project. I have writing my code in IntelliJ IDEA 13.1.1 on Java.\r\n\r\nHere is code:\r\n\r\n    public void testSimpleHttpsClient() throws CertificateException, InterruptedException, UnrecoverableKeyException, NoSuchAlgorithmException,\r\n            IOException, KeyManagementException, KeyStoreException {\r\n\r\n\r\n        URL url = new URL(&quot;https://intstg1-kaakioskpublicapi.ptstaging.ptec/TLE/36171/player/info&quot;);\r\n\r\n        HttpsURLConnection con = (HttpsURLConnection)url.openConnection();\r\n        con.setRequestMethod( &quot;GET&quot; );\r\n\r\n        SSLContext sslContext = SSLContext.getInstance(&quot;TLS&quot;);\r\n\r\n        char[]  passphrase = &quot;storepass&quot;.toCharArray();\r\n        KeyStore ks = KeyStore.getInstance(&quot;JKS&quot;);\r\n        ks.load(this.getClass().getResourceAsStream(&quot;clienttrust.jks&quot;), passphrase);\r\n        System.out.println(ks);\r\n\r\n        TrustManagerFactory tmf = TrustManagerFactory.getInstance(&quot;SunX509&quot;);\r\n        tmf.init(ks);\r\n\r\n        System.out.println(tmf.toString());\r\n\r\n        HostnameVerifier hostnameVerifier = new HostnameVerifier() {\r\n\r\n            public boolean verify(String s, SSLSession sslSession) {\r\n                return s.equals(sslSession.getPeerHost());\r\n            }\r\n        };\r\n        con.setHostnameVerifier(hostnameVerifier);\r\n\r\n        sslContext.init(null, tmf.getTrustManagers(), null);\r\n       con.setSSLSocketFactory(sslContext.getSocketFactory());\r\n\r\n        int responseCode = con.getResponseCode();\r\n        InputStream inputStream;\r\n        if (responseCode == HttpURLConnection.HTTP_OK) {\r\n            inputStream = con.getInputStream();\r\n        } else {\r\n            inputStream = con.getErrorStream();\r\n        }\r\n\r\n        // Process the response\r\n        BufferedReader reader;\r\n        String line = null;\r\n        reader = new BufferedReader( new InputStreamReader( inputStream ) );\r\n        while( ( line = reader.readLine() ) != null )\r\n        {\r\n            System.out.println( line );\r\n        }\r\n\r\n        inputStream.close();\r\n    }\r\n\r\nSo, after this code executes I get the next Exception:\r\n\r\nException in thread &quot;main&quot; javax.net.ssl.SSLHandshakeException: sun.security.validator.ValidatorException: No trusted certificate found\r\n\tat sun.security.ssl.Alerts.getSSLException(Alerts.java:192)\r\n\tat sun.security.ssl.SSLSocketImpl.fatal(SSLSocketImpl.java:1917)\r\n\tat sun.security.ssl.Handshaker.fatalSE(Handshaker.java:301)\r\n\tat sun.security.ssl.Handshaker.fatalSE(Handshaker.java:295)\r\n\tat sun.security.ssl.ClientHandshaker.serverCertificate(ClientHandshaker.java:1471)\r\n\tat sun.security.ssl.ClientHandshaker.processMessage(ClientHandshaker.java:212)\r\n\tat sun.security.ssl.Handshaker.processLoop(Handshaker.java:936)\r\n\tat sun.security.ssl.Handshaker.process_record(Handshaker.java:871)\r\n\tat sun.security.ssl.SSLSocketImpl.readRecord(SSLSocketImpl.java:1043)\r\n\tat sun.security.ssl.SSLSocketImpl.performInitialHandshake(SSLSocketImpl.java:1343)\r\n\tat sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:1371)\r\n\tat sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:1355)\r\n\tat sun.net.www.protocol.https.HttpsClient.afterConnect(HttpsClient.java:563)\r\n\tat sun.net.www.protocol.https.AbstractDelegateHttpsURLConnection.connect(AbstractDelegateHttpsURLConnection.java:185)\r\n\tat sun.net.www.protocol.http.HttpURLConnection.getInputStream0(HttpURLConnection.java:1511)\r\n\tat sun.net.www.protocol.http.HttpURLConnection.getInputStream(HttpURLConnection.java:1439)\r\n\tat java.net.HttpURLConnection.getResponseCode(HttpURLConnection.java:480)\r\n\tat sun.net.www.protocol.https.HttpsURLConnectionImpl.getResponseCode(HttpsURLConnectionImpl.java:338)\r\n\tat httpConnection.Connection.testSimpleHttpsClient(Connection.java:179)\r\n\tat httpConnection.Connection.main(Connection.java:22)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:483)\r\n\tat com.intellij.rt.execution.application.AppMain.main(AppMain.java:120)\r\nCaused by: sun.security.validator.ValidatorException: No trusted certificate found\r\n\tat sun.security.validator.SimpleValidator.buildTrustedChain(SimpleValidator.java:384)\r\n\tat sun.security.validator.SimpleValidator.engineValidate(SimpleValidator.java:133)\r\n\tat sun.security.validator.Validator.validate(Validator.java:260)\r\n\tat sun.security.ssl.X509TrustManagerImpl.validate(X509TrustManagerImpl.java:324)\r\n\tat sun.security.ssl.X509TrustManagerImpl.checkTrusted(X509TrustManagerImpl.java:229)\r\n\tat sun.security.ssl.X509TrustManagerImpl.checkServerTrusted(X509TrustManagerImpl.java:124)\r\n\tat sun.security.ssl.ClientHandshaker.serverCertificate(ClientHandshaker.java:1453)\r\n\t... 20 more\r\n\r\nGuys, please explain to me how to solve this problem.\r\n\r\n","title":"Exception in thread &quot;main&quot; javax.net.ssl.SSLHandshakeException: sun.security.validator.ValidatorException: No trusted certificate found","body":"<p>I am in first in automated testing. So, I have a task to create automated script for API testing. I need to create https request with self-signed serificate. This certificate gave me our admins with p12 extension and password file. I exported this certificate to .cer extenssion. Than I created the trust store and import this certificate to this store.</p>\n\n<p><code>C:\\Program Files (x86)\\Java\\jdk1.8.0_25\\jre\\bin&gt;keytool -import -keystore clienttrust.jks -file marta.cer -storepass storepass</code></p>\n\n<p>I located the marta.cer and clienttrust.jks near my project. I have writing my code in IntelliJ IDEA 13.1.1 on Java.</p>\n\n<p>Here is code:</p>\n\n<pre><code>public void testSimpleHttpsClient() throws CertificateException, InterruptedException, UnrecoverableKeyException, NoSuchAlgorithmException,\n        IOException, KeyManagementException, KeyStoreException {\n\n\n    URL url = new URL(\"https://intstg1-kaakioskpublicapi.ptstaging.ptec/TLE/36171/player/info\");\n\n    HttpsURLConnection con = (HttpsURLConnection)url.openConnection();\n    con.setRequestMethod( \"GET\" );\n\n    SSLContext sslContext = SSLContext.getInstance(\"TLS\");\n\n    char[]  passphrase = \"storepass\".toCharArray();\n    KeyStore ks = KeyStore.getInstance(\"JKS\");\n    ks.load(this.getClass().getResourceAsStream(\"clienttrust.jks\"), passphrase);\n    System.out.println(ks);\n\n    TrustManagerFactory tmf = TrustManagerFactory.getInstance(\"SunX509\");\n    tmf.init(ks);\n\n    System.out.println(tmf.toString());\n\n    HostnameVerifier hostnameVerifier = new HostnameVerifier() {\n\n        public boolean verify(String s, SSLSession sslSession) {\n            return s.equals(sslSession.getPeerHost());\n        }\n    };\n    con.setHostnameVerifier(hostnameVerifier);\n\n    sslContext.init(null, tmf.getTrustManagers(), null);\n   con.setSSLSocketFactory(sslContext.getSocketFactory());\n\n    int responseCode = con.getResponseCode();\n    InputStream inputStream;\n    if (responseCode == HttpURLConnection.HTTP_OK) {\n        inputStream = con.getInputStream();\n    } else {\n        inputStream = con.getErrorStream();\n    }\n\n    // Process the response\n    BufferedReader reader;\n    String line = null;\n    reader = new BufferedReader( new InputStreamReader( inputStream ) );\n    while( ( line = reader.readLine() ) != null )\n    {\n        System.out.println( line );\n    }\n\n    inputStream.close();\n}\n</code></pre>\n\n<p>So, after this code executes I get the next Exception:</p>\n\n<p>Exception in thread \"main\" javax.net.ssl.SSLHandshakeException: sun.security.validator.ValidatorException: No trusted certificate found\n    at sun.security.ssl.Alerts.getSSLException(Alerts.java:192)\n    at sun.security.ssl.SSLSocketImpl.fatal(SSLSocketImpl.java:1917)\n    at sun.security.ssl.Handshaker.fatalSE(Handshaker.java:301)\n    at sun.security.ssl.Handshaker.fatalSE(Handshaker.java:295)\n    at sun.security.ssl.ClientHandshaker.serverCertificate(ClientHandshaker.java:1471)\n    at sun.security.ssl.ClientHandshaker.processMessage(ClientHandshaker.java:212)\n    at sun.security.ssl.Handshaker.processLoop(Handshaker.java:936)\n    at sun.security.ssl.Handshaker.process_record(Handshaker.java:871)\n    at sun.security.ssl.SSLSocketImpl.readRecord(SSLSocketImpl.java:1043)\n    at sun.security.ssl.SSLSocketImpl.performInitialHandshake(SSLSocketImpl.java:1343)\n    at sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:1371)\n    at sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:1355)\n    at sun.net.www.protocol.https.HttpsClient.afterConnect(HttpsClient.java:563)\n    at sun.net.www.protocol.https.AbstractDelegateHttpsURLConnection.connect(AbstractDelegateHttpsURLConnection.java:185)\n    at sun.net.www.protocol.http.HttpURLConnection.getInputStream0(HttpURLConnection.java:1511)\n    at sun.net.www.protocol.http.HttpURLConnection.getInputStream(HttpURLConnection.java:1439)\n    at java.net.HttpURLConnection.getResponseCode(HttpURLConnection.java:480)\n    at sun.net.www.protocol.https.HttpsURLConnectionImpl.getResponseCode(HttpsURLConnectionImpl.java:338)\n    at httpConnection.Connection.testSimpleHttpsClient(Connection.java:179)\n    at httpConnection.Connection.main(Connection.java:22)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:483)\n    at com.intellij.rt.execution.application.AppMain.main(AppMain.java:120)\nCaused by: sun.security.validator.ValidatorException: No trusted certificate found\n    at sun.security.validator.SimpleValidator.buildTrustedChain(SimpleValidator.java:384)\n    at sun.security.validator.SimpleValidator.engineValidate(SimpleValidator.java:133)\n    at sun.security.validator.Validator.validate(Validator.java:260)\n    at sun.security.ssl.X509TrustManagerImpl.validate(X509TrustManagerImpl.java:324)\n    at sun.security.ssl.X509TrustManagerImpl.checkTrusted(X509TrustManagerImpl.java:229)\n    at sun.security.ssl.X509TrustManagerImpl.checkServerTrusted(X509TrustManagerImpl.java:124)\n    at sun.security.ssl.ClientHandshaker.serverCertificate(ClientHandshaker.java:1453)\n    ... 20 more</p>\n\n<p>Guys, please explain to me how to solve this problem.</p>\n"},{"tags":["java","multithreading","thread-safety"],"comments":[{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":4,"creation_date":1697065351,"post_id":77276782,"comment_id":136234067,"body_markdown":"Inheritance has nothing to do with thread safety. What exactly do you mean by &quot;thread safe&quot;?","body":"Inheritance has nothing to do with thread safety. What exactly do you mean by &quot;thread safe&quot;?"},{"owner":{"account_id":28104689,"reputation":512,"user_id":21473475,"display_name":"Arfur Narf"},"score":0,"creation_date":1697065628,"post_id":77276782,"comment_id":136234090,"body_markdown":"Since there&#39;s no path-dependent variation in execution, there&#39;s nothing to &#39;go wrong&#39; in this code. At least, not if assigning a reference is atomic in the JVM, which I think it is.","body":"Since there&#39;s no path-dependent variation in execution, there&#39;s nothing to &#39;go wrong&#39; in this code. At least, not if assigning a reference is atomic in the JVM, which I think it is."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1697066704,"post_id":77276782,"comment_id":136234181,"body_markdown":"Your Question could be improved by editing the body to explain a bit about whatever concern prompted you to write this post.","body":"Your Question could be improved by editing the body to explain a bit about whatever concern prompted you to write this post."}],"answers":[{"tags":[],"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697072681,"creation_date":1697066602,"answer_id":77276858,"question_id":77276782,"body_markdown":"[Inheritance][1] and [thread-safety][2] are orthogonal topics. \r\n\r\nThis code:\r\n\r\n```java\r\nvar child = new ChildClass()\r\nchild.setFirstName(&quot;Jo&quot;);\r\nchild.setFamilyName(&quot;Smith&quot;);\r\n```\r\n\r\n is thread-safe if all three lines execute within the same thread.\r\n\r\nThread-safety issues arise from shared resources. Such resources include a shared file possibly being modified, a shared network connection, or a shared [mutable variable][3]. \r\n\r\nIn this case, you have a new instance of `ChildClass`. Being new means it is, so far, unshared with any other thread. You access its contained fields via setter methods on that same instance within the same thread  so no other threads means no resources shared across threads, and that means no thread-safety issues. \r\n\r\nThe fact that two setters are defined on the subclass while another setter is defined on the superclass does not affect thread-safety. You can think of those two classes as being coalesced, with the superclass content collapsed into the subclass. \r\n\r\nAs far as thread-safety goes, there is no difference between a single class defining all three setters and a pair of classes where one defines two setters and the other defines a single setter. \r\n\r\nIf you start calling those getters and setters from across threads, then you will have thread-safety problems.\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Inheritance_(object-oriented_programming)\r\n  [2]: https://en.wikipedia.org/wiki/Thread_safety\r\n  [3]: https://en.wikipedia.org/wiki/Immutable_object#Immutable_variables","title":"Thread safety on child object when setter is on parent","body":"<p><a href=\"https://en.wikipedia.org/wiki/Inheritance_(object-oriented_programming)\" rel=\"nofollow noreferrer\">Inheritance</a> and <a href=\"https://en.wikipedia.org/wiki/Thread_safety\" rel=\"nofollow noreferrer\">thread-safety</a> are orthogonal topics.</p>\n<p>This code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>var child = new ChildClass()\nchild.setFirstName(&quot;Jo&quot;);\nchild.setFamilyName(&quot;Smith&quot;);\n</code></pre>\n<p> is thread-safe if all three lines execute within the same thread.</p>\n<p>Thread-safety issues arise from shared resources. Such resources include a shared file possibly being modified, a shared network connection, or a shared <a href=\"https://en.wikipedia.org/wiki/Immutable_object#Immutable_variables\" rel=\"nofollow noreferrer\">mutable variable</a>.</p>\n<p>In this case, you have a new instance of <code>ChildClass</code>. Being new means it is, so far, unshared with any other thread. You access its contained fields via setter methods on that same instance within the same thread  so no other threads means no resources shared across threads, and that means no thread-safety issues.</p>\n<p>The fact that two setters are defined on the subclass while another setter is defined on the superclass does not affect thread-safety. You can think of those two classes as being coalesced, with the superclass content collapsed into the subclass.</p>\n<p>As far as thread-safety goes, there is no difference between a single class defining all three setters and a pair of classes where one defines two setters and the other defines a single setter.</p>\n<p>If you start calling those getters and setters from across threads, then you will have thread-safety problems.</p>\n"},{"tags":[],"owner":{"account_id":29594110,"reputation":60,"user_id":22680961,"display_name":"Akshit Gupta"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1697070587,"creation_date":1697070587,"answer_id":77277053,"question_id":77276782,"body_markdown":"No, both the classes are not thread safe.\r\nYou have to use synchronisation mechanism to achieve thread safety.\r\n\r\n 1. You can use synchronized keyword in the parent class&#39;s getter and setter.\r\n 2. Or you can use other synchronisation mechanism to achieve the thread safety like ReentrantLock or Semaphores.\r\n\r\nCan you please elaborate more on this?\r\n\r\nJust putting a sample code, to achieve thread safety using semaphores.\r\n\r\n    import java.util.concurrent.Semaphore;\r\n\r\n    public abstract class ParentClass {\r\n      private String familyName;\r\n      private final Semaphore semaphore = new Semaphore(1); // Initialize with one permit\r\n\r\n      public String getFamily() {\r\n        return familyName;\r\n      }\r\n\r\n      public void setFamily(String familyName) {\r\n        try {\r\n            semaphore.acquire(); // Acquire the permit\r\n            this.familyName = familyName;\r\n        } catch (InterruptedException e) {\r\n            Thread.currentThread().interrupt();\r\n        } finally {\r\n            semaphore.release(); // Release the permit\r\n        }\r\n      }\r\n     }\r\n\r\n    public class ChildClass extends ParentClass {\r\n      private String firstName;\r\n\r\n      public String getFirstName() {\r\n        return firstName;\r\n      }\r\n\r\n      public void setFirstName(String firstName) {\r\n        this.firstName = firstName;\r\n      }\r\n    }\r\n\r\nThis ensures that only one thread can modify the familyName at a time, making it thread-safe.\r\n\r\n","title":"Thread safety on child object when setter is on parent","body":"<p>No, both the classes are not thread safe.\nYou have to use synchronisation mechanism to achieve thread safety.</p>\n<ol>\n<li>You can use synchronized keyword in the parent class's getter and setter.</li>\n<li>Or you can use other synchronisation mechanism to achieve the thread safety like ReentrantLock or Semaphores.</li>\n</ol>\n<p>Can you please elaborate more on this?</p>\n<p>Just putting a sample code, to achieve thread safety using semaphores.</p>\n<pre><code>import java.util.concurrent.Semaphore;\n\npublic abstract class ParentClass {\n  private String familyName;\n  private final Semaphore semaphore = new Semaphore(1); // Initialize with one permit\n\n  public String getFamily() {\n    return familyName;\n  }\n\n  public void setFamily(String familyName) {\n    try {\n        semaphore.acquire(); // Acquire the permit\n        this.familyName = familyName;\n    } catch (InterruptedException e) {\n        Thread.currentThread().interrupt();\n    } finally {\n        semaphore.release(); // Release the permit\n    }\n  }\n }\n\npublic class ChildClass extends ParentClass {\n  private String firstName;\n\n  public String getFirstName() {\n    return firstName;\n  }\n\n  public void setFirstName(String firstName) {\n    this.firstName = firstName;\n  }\n}\n</code></pre>\n<p>This ensures that only one thread can modify the familyName at a time, making it thread-safe.</p>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697075889,"creation_date":1697073996,"answer_id":77277185,"question_id":77276782,"body_markdown":"    var child = new ChildClass()\r\n    child.setFirstName(&quot;Jo&quot;);\r\n    child.setFamilyName(&quot;Smith&quot;);\r\n\r\nTechnically, those lines are thread-safe because the object that `child` refers to is *thread confined*; i.e. it is only accessible from one thread.  \r\n\r\nAnd if another thread *could* access the `child` instance, then the application as a whole would not be thread-safe.  (There are some complicated exceptions to this, but lets not go there.)\r\n\r\nHowever, the classes themselves are NOT thread-safe.  The location of the methods in the superclass or subclass makes no difference to thread safety.  If you want those classes to be unconditionally thread-safe, then you need to add some explicit synchronization mechanism, OR rewrite them to be immutable classes.\r\n\r\n-----------------------\r\n\r\nNote that thread-safety is technically difficult to define in precise terms.  One approach is to start with some code that is functionally correct (per some specified requirements) when executed with only one thread.  If the code is *also* functionally correct for *all possible executions* involving more than one thread, then the code is thread safe.\r\n\r\nSo if we are going to ask the question is class `XYZ` thread safe, we first need a specification that `XYZ` needs to meet.  In your example classes, we can infer a specification that says that the getters return the values most recently set by the corresponding setters.  Your classes are NOT thread-safe per that specification because the lack of synchronization means that there can be memory anomalies.  But declaring the getters and setters as `synchronized` methods would be sufficient for thread-safety with respect to that spec.","title":"Thread safety on child object when setter is on parent","body":"<pre><code>var child = new ChildClass()\nchild.setFirstName(&quot;Jo&quot;);\nchild.setFamilyName(&quot;Smith&quot;);\n</code></pre>\n<p>Technically, those lines are thread-safe because the object that <code>child</code> refers to is <em>thread confined</em>; i.e. it is only accessible from one thread.</p>\n<p>And if another thread <em>could</em> access the <code>child</code> instance, then the application as a whole would not be thread-safe.  (There are some complicated exceptions to this, but lets not go there.)</p>\n<p>However, the classes themselves are NOT thread-safe.  The location of the methods in the superclass or subclass makes no difference to thread safety.  If you want those classes to be unconditionally thread-safe, then you need to add some explicit synchronization mechanism, OR rewrite them to be immutable classes.</p>\n<hr />\n<p>Note that thread-safety is technically difficult to define in precise terms.  One approach is to start with some code that is functionally correct (per some specified requirements) when executed with only one thread.  If the code is <em>also</em> functionally correct for <em>all possible executions</em> involving more than one thread, then the code is thread safe.</p>\n<p>So if we are going to ask the question is class <code>XYZ</code> thread safe, we first need a specification that <code>XYZ</code> needs to meet.  In your example classes, we can infer a specification that says that the getters return the values most recently set by the corresponding setters.  Your classes are NOT thread-safe per that specification because the lack of synchronization means that there can be memory anomalies.  But declaring the getters and setters as <code>synchronized</code> methods would be sufficient for thread-safety with respect to that spec.</p>\n"}],"owner":{"account_id":1404496,"reputation":13,"user_id":1332579,"display_name":"cappy39"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1697075889,"creation_date":1697065160,"question_id":77276782,"body_markdown":"Will the following example code be threadsafe in a mulithread environment,  when creating a new Child object \r\nwhere some setters are on the parent.\r\n\r\n```\r\npublic abstract class ParentClass {\r\n   private String familyName;\r\n\r\n   public Strng getFamily() {\r\n     return familyName;\r\n   }\r\n   public void setFamily (String familyName) {\r\n    return  this.familyName = familyName\r\n}\r\n```\r\n\r\n```\r\npublic class ChildClass extends ParentClass  {\r\n   private String firstName;\r\n\r\n   public String getFirstName() {\r\n     return firstName;\r\n   }\r\n   public void setFirstName (String firstName) {\r\n    return  this.firstName = firstName\r\n}\r\n```\r\n\r\n\r\n\r\nNow, when i Create a new Child as below shown below, will the setter (setFamily) be thread safe when the child object is proccesed in the application\r\n\r\n```\r\nvar child = new ChildClass()\r\nchild.setFirstName(&quot;Jo&quot;);\r\nchild.setFamilyName(&quot;Smith&quot;);\r\n```","title":"Thread safety on child object when setter is on parent","body":"<p>Will the following example code be threadsafe in a mulithread environment,  when creating a new Child object\nwhere some setters are on the parent.</p>\n<pre><code>public abstract class ParentClass {\n   private String familyName;\n\n   public Strng getFamily() {\n     return familyName;\n   }\n   public void setFamily (String familyName) {\n    return  this.familyName = familyName\n}\n</code></pre>\n<pre><code>public class ChildClass extends ParentClass  {\n   private String firstName;\n\n   public String getFirstName() {\n     return firstName;\n   }\n   public void setFirstName (String firstName) {\n    return  this.firstName = firstName\n}\n</code></pre>\n<p>Now, when i Create a new Child as below shown below, will the setter (setFamily) be thread safe when the child object is proccesed in the application</p>\n<pre><code>var child = new ChildClass()\nchild.setFirstName(&quot;Jo&quot;);\nchild.setFamilyName(&quot;Smith&quot;);\n</code></pre>\n"},{"tags":["java","arraylist"],"comments":[{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1697049681,"post_id":77274946,"comment_id":136231925,"body_markdown":"What is `courseEnrollment` ?  I don&#39;t see where that is defined. You should be getting  compiler error on `for (ArrayList&lt;Object&gt; currentStudent : courseEnrollment)` as well as the `.get`","body":"What is <code>courseEnrollment</code> ?  I don&#39;t see where that is defined. You should be getting  compiler error on <code>for (ArrayList&lt;Object&gt; currentStudent : courseEnrollment)</code> as well as the <code>.get</code>"},{"owner":{"account_id":29650081,"reputation":9,"user_id":22724211,"display_name":"Wendy Lawrence"},"score":0,"creation_date":1697053186,"post_id":77274946,"comment_id":136232530,"body_markdown":"the courseEnrollment is an ArrayList in the class CourseManagement","body":"the courseEnrollment is an ArrayList in the class CourseManagement"},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1697053873,"post_id":77274946,"comment_id":136232645,"body_markdown":"An `ArrayList&lt;Integer&gt;` or an `ArrayList&lt;ArrayList&lt;Integer&gt;&gt;`? Either way, there should be a line in the code that shows it.","body":"An <code>ArrayList&lt;Integer&gt;</code> or an <code>ArrayList&lt;ArrayList&lt;Integer&gt;&gt;</code>? Either way, there should be a line in the code that shows it."},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1697054150,"post_id":77274946,"comment_id":136232690,"body_markdown":"In your enhanced `for` loops, `overAll` and `currentGrade` are each a &quot;1D&quot; `List&lt;Integer&gt;`.  An invocation of `get` on either one will return *one* `Integer`.  And, and `Integer` doesn&#39;t have a `get (int index)` method.","body":"In your enhanced <code>for</code> loops, <code>overAll</code> and <code>currentGrade</code> are each a &quot;1D&quot; <code>List&lt;Integer&gt;</code>.  An invocation of <code>get</code> on either one will return <i>one</i> <code>Integer</code>.  And, and <code>Integer</code> doesn&#39;t have a <code>get (int index)</code> method."},{"owner":{"account_id":1535561,"reputation":7664,"user_id":1431720,"accept_rate":89,"display_name":"Robert"},"score":1,"creation_date":1697059764,"post_id":77274946,"comment_id":136233483,"body_markdown":"A [mcve] would be helpful.","body":"A <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> would be helpful."},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1697131562,"post_id":77274946,"comment_id":136244495,"body_markdown":"Off-topic: I, and others, don&#39;t like parallel arrays or parallel collections. Whatever this is a part of, I wonder if the design could be improved. Putting that aside, you might improve the question by adding more information about what the data in the `List&lt;List&lt;Integer&gt;&gt;`   Objects represent. We can infer some, but we shouldn&#39;t  have to.","body":"Off-topic: I, and others, don&#39;t like parallel arrays or parallel collections. Whatever this is a part of, I wonder if the design could be improved. Putting that aside, you might improve the question by adding more information about what the data in the <code>List&lt;List&lt;Integer&gt;&gt;</code>   Objects represent. We can infer some, but we shouldn&#39;t  have to."},{"owner":{"account_id":29650081,"reputation":9,"user_id":22724211,"display_name":"Wendy Lawrence"},"score":0,"creation_date":1698239569,"post_id":77274946,"comment_id":136379803,"body_markdown":"I have to agree, I don&#39;t like that type of array at all, it just didn&#39;t work with what I was trying to do and it ended up being very confusing. I ended up just handing in my assignment and took the loss.","body":"I have to agree, I don&#39;t like that type of array at all, it just didn&#39;t work with what I was trying to do and it ended up being very confusing. I ended up just handing in my assignment and took the loss."}],"answers":[{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697075006,"creation_date":1697074423,"answer_id":77277200,"question_id":77274946,"body_markdown":"&gt; _&quot;... I don&#39;t know if what I am trying to accomplish is even doable. I have created a 2d arrayList (it could be a list in a list), and I need to pull the second element in the list, and then add it together. ...&quot;_\r\n\r\nYes, this can be accomplished in _Java_.\r\n\r\n&gt; _&quot;... In this method the second .get has an error of Cannot resolve method &#39;get&#39; in &#39;Integer&#39;. ...&quot;_\r\n\r\nYou&#39;ve acquired the _index_, so there is no need to iterate on _courseGrade_ or _courseGradeTotal_.\r\n\r\nInstead, iterate on the _index_ from _courseGrade_ and _courseGradeTotal_.\r\n\r\n```java\r\nIterator&lt;Integer&gt; i;\r\nint index;\r\nfor (List&lt;?&gt; currentStudent : courseEnrollment)\r\n    if ((index = currentStudent.indexOf(takeCode1)) != -1) {\r\n        i = courseGrade.get(index).iterator();\r\n        while (i.hasNext()) grade1 += i.next();\r\n        i = courseGradeTotal.get(index).iterator();\r\n        while (i.hasNext()) totalGrade1 += i.next();\r\n    }\r\n```","title":"2d ArrayList and pulling the second element in a specific index","body":"<blockquote>\n<p><em>&quot;... I don't know if what I am trying to accomplish is even doable. I have created a 2d arrayList (it could be a list in a list), and I need to pull the second element in the list, and then add it together. ...&quot;</em></p>\n</blockquote>\n<p>Yes, this can be accomplished in <em>Java</em>.</p>\n<blockquote>\n<p><em>&quot;... In this method the second .get has an error of Cannot resolve method 'get' in 'Integer'. ...&quot;</em></p>\n</blockquote>\n<p>You've acquired the <em>index</em>, so there is no need to iterate on <em>courseGrade</em> or <em>courseGradeTotal</em>.</p>\n<p>Instead, iterate on the <em>index</em> from <em>courseGrade</em> and <em>courseGradeTotal</em>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Iterator&lt;Integer&gt; i;\nint index;\nfor (List&lt;?&gt; currentStudent : courseEnrollment)\n    if ((index = currentStudent.indexOf(takeCode1)) != -1) {\n        i = courseGrade.get(index).iterator();\n        while (i.hasNext()) grade1 += i.next();\n        i = courseGradeTotal.get(index).iterator();\n        while (i.hasNext()) totalGrade1 += i.next();\n    }\n</code></pre>\n"}],"owner":{"account_id":29650081,"reputation":9,"user_id":22724211,"display_name":"Wendy Lawrence"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1697075006,"creation_date":1697042993,"question_id":77274946,"body_markdown":"I don&#39;t know if what I am trying to accomplish is even doable. I have created a 2d arrayList (it could be a list in a list), and I need to pull the second element in the list, and then add it together.  \r\n\r\nHopefully, I have all the code that is needed for help. I am so new at this and this is the last part of my assignment that I just can&#39;t figure out.\r\n\r\n```\r\n//member variable/arrays\r\npublic static ArrayList&lt;ArrayList&lt;Integer&gt;&gt; courseGrade = new ArrayList&lt;&gt;();\r\n    public static ArrayList&lt;ArrayList&lt;Integer&gt;&gt; courseGradeTotal = new ArrayList&lt;&gt;();\r\n    private int countCourseEnrollment = 0;\r\n    private int takeCode;\r\n    private static int totalGrade1 = 0;\r\n    private static int grade1 = 0\r\n\r\n//method to calculate course average\r\npublic static void calculateOverallGrade() {\r\n        Course.listCourses();\r\n\r\n        System.out.println(&quot; &quot;);\r\n        System.out.print(&quot;Enter the course code to get course average:&quot;);\r\n        String takeCode1 = Main.scan.next();\r\n\r\n        System.out.println(&quot;Current students in course: &quot; + takeCode1);\r\n\r\n\r\n        for (ArrayList&lt;Object&gt; currentStudent : courseEnrollment) {\r\n            if (currentStudent.contains(takeCode1)) {\r\n                System.out.println(currentStudent);\r\n                int index = currentStudent.indexOf(takeCode1);\r\n                System.out.println(index);\r\n                for (ArrayList&lt;Integer&gt; currentGrade : courseGrade) {\r\n                    int intGrade1 = currentGrade.get(index).get(1);\r\n                    System.out.println(intGrade1);\r\n                    grade1 = grade1 + intGrade1;\r\n                }\r\n                for (ArrayList&lt;Integer&gt; overAll : courseGradeTotal) {\r\n                    int totGrade1 = overAll.get(index).get(1);\r\n                    System.out.print(totGrade1);\r\n                    totalGrade1 = totalGrade1 + totGrade1;\r\n                }\r\n\r\n            }\r\n        }\r\n\r\n        System.out.println(&quot;Student grades: &quot; + grade1);\r\n        System.out.println(&quot;Total grades could have earned: &quot; + totalGrade1);\r\n\r\n\r\n\r\n    } //ends CalculateOverAllGrade method\r\n```\r\n\r\n\r\nIn this method the second .get has an error of Cannot resolve method &#39;get&#39; in &#39;Integer&#39;. The output from Array courseGrade is [4643, 98]. First number is the course code and the second number is the grade awarded to student. I hope this all makes sense, thank you in advance for your help.\r\n\r\nI have tried so many things I just don&#39;t know where to start. ","title":"2d ArrayList and pulling the second element in a specific index","body":"<p>I don't know if what I am trying to accomplish is even doable. I have created a 2d arrayList (it could be a list in a list), and I need to pull the second element in the list, and then add it together.</p>\n<p>Hopefully, I have all the code that is needed for help. I am so new at this and this is the last part of my assignment that I just can't figure out.</p>\n<pre><code>//member variable/arrays\npublic static ArrayList&lt;ArrayList&lt;Integer&gt;&gt; courseGrade = new ArrayList&lt;&gt;();\n    public static ArrayList&lt;ArrayList&lt;Integer&gt;&gt; courseGradeTotal = new ArrayList&lt;&gt;();\n    private int countCourseEnrollment = 0;\n    private int takeCode;\n    private static int totalGrade1 = 0;\n    private static int grade1 = 0\n\n//method to calculate course average\npublic static void calculateOverallGrade() {\n        Course.listCourses();\n\n        System.out.println(&quot; &quot;);\n        System.out.print(&quot;Enter the course code to get course average:&quot;);\n        String takeCode1 = Main.scan.next();\n\n        System.out.println(&quot;Current students in course: &quot; + takeCode1);\n\n\n        for (ArrayList&lt;Object&gt; currentStudent : courseEnrollment) {\n            if (currentStudent.contains(takeCode1)) {\n                System.out.println(currentStudent);\n                int index = currentStudent.indexOf(takeCode1);\n                System.out.println(index);\n                for (ArrayList&lt;Integer&gt; currentGrade : courseGrade) {\n                    int intGrade1 = currentGrade.get(index).get(1);\n                    System.out.println(intGrade1);\n                    grade1 = grade1 + intGrade1;\n                }\n                for (ArrayList&lt;Integer&gt; overAll : courseGradeTotal) {\n                    int totGrade1 = overAll.get(index).get(1);\n                    System.out.print(totGrade1);\n                    totalGrade1 = totalGrade1 + totGrade1;\n                }\n\n            }\n        }\n\n        System.out.println(&quot;Student grades: &quot; + grade1);\n        System.out.println(&quot;Total grades could have earned: &quot; + totalGrade1);\n\n\n\n    } //ends CalculateOverAllGrade method\n</code></pre>\n<p>In this method the second .get has an error of Cannot resolve method 'get' in 'Integer'. The output from Array courseGrade is [4643, 98]. First number is the course code and the second number is the grade awarded to student. I hope this all makes sense, thank you in advance for your help.</p>\n<p>I have tried so many things I just don't know where to start.</p>\n"},{"tags":["java","jvm","freeze","arm64","g1gc"],"comments":[{"owner":{"account_id":350117,"reputation":8663,"user_id":685806,"accept_rate":44,"display_name":"Pino"},"score":0,"creation_date":1697014702,"post_id":77271496,"comment_id":136224965,"body_markdown":"It&#39;s a deadlock: not a JVM bug but a bug in your code.","body":"It&#39;s a deadlock: not a JVM bug but a bug in your code."},{"owner":{"account_id":29646711,"reputation":1,"user_id":22721563,"display_name":"xijiu"},"score":0,"creation_date":1697015069,"post_id":77271496,"comment_id":136225044,"body_markdown":"@Pino i do not think it&#39;s a deadlock in my code. first, the jstack not detected deadlocks; second, the VM Thread stack trace is not normaly, it&#39;s stucked in `SuspendibleThreadSet::synchronize()`. VM Thread should not be stuck here even if deadlock exist.","body":"@Pino i do not think it&#39;s a deadlock in my code. first, the jstack not detected deadlocks; second, the VM Thread stack trace is not normaly, it&#39;s stucked in <code>SuspendibleThreadSet::synchronize()</code>. VM Thread should not be stuck here even if deadlock exist."},{"owner":{"account_id":350117,"reputation":8663,"user_id":685806,"accept_rate":44,"display_name":"Pino"},"score":0,"creation_date":1697015940,"post_id":77271496,"comment_id":136225237,"body_markdown":"Perhaps this can help: https://stackoverflow.com/questions/1611314/does-this-stack-dump-indicate-that-i-have-a-deadlock","body":"Perhaps this can help: <a href=\"https://stackoverflow.com/questions/1611314/does-this-stack-dump-indicate-that-i-have-a-deadlock\" title=\"does this stack dump indicate that i have a deadlock\">stackoverflow.com/questions/1611314/&hellip;</a>"},{"owner":{"account_id":350117,"reputation":8663,"user_id":685806,"accept_rate":44,"display_name":"Pino"},"score":0,"creation_date":1697016259,"post_id":77271496,"comment_id":136225282,"body_markdown":"However without the complete output of `jstack` some useful detail could be hidden.","body":"However without the complete output of <code>jstack</code> some useful detail could be hidden."},{"owner":{"account_id":29646711,"reputation":1,"user_id":22721563,"display_name":"xijiu"},"score":0,"creation_date":1697016870,"post_id":77271496,"comment_id":136225413,"body_markdown":"application has 100+ threads, and all threads are BLOCKED. The oracle document:  https://docs.oracle.com/en/java/javase/20/troubleshoot/troubleshoot-process-hangs-and-loops.html#GUID-88307E36-5BA7-4EF7-B90D-5B8F028E7890","body":"application has 100+ threads, and all threads are BLOCKED. The oracle document:  <a href=\"https://docs.oracle.com/en/java/javase/20/troubleshoot/troubleshoot-process-hangs-and-loops.html#GUID-88307E36-5BA7-4EF7-B90D-5B8F028E7890\" rel=\"nofollow noreferrer\">docs.oracle.com/en/java/javase/20/troubleshoot/&hellip;</a>"},{"owner":{"account_id":350117,"reputation":8663,"user_id":685806,"accept_rate":44,"display_name":"Pino"},"score":1,"creation_date":1697017780,"post_id":77271496,"comment_id":136225572,"body_markdown":"Your link is interesting.  It also says [If the thread dump is printed and no deadlocks are found, then the issue might be a bug in which a thread is waiting for a monitor that is never notified.](https://docs.oracle.com/en/java/javase/20/troubleshoot/troubleshoot-process-hangs-and-loops.html#GUID-8B8DE8E0-D7E3-48A9-96EB-77BC1128100D:~:text=If%20the%20thread%20dump%20is%20printed%20and%20no%20deadlocks%20are%20found%2C%20then%20the%20issue%20might%20be%20a%20bug%20in%20which%20a%20thread%20is%20waiting%20for%20a%20monitor%20that%20is%20never%20notified.)","body":"Your link is interesting.  It also says <a href=\"https://docs.oracle.com/en/java/javase/20/troubleshoot/troubleshoot-process-hangs-and-loops.html#GUID-8B8DE8E0-D7E3-48A9-96EB-77BC1128100D:~:text=If%20the%20thread%20dump%20is%20printed%20and%20no%20deadlocks%20are%20found%2C%20then%20the%20issue%20might%20be%20a%20bug%20in%20which%20a%20thread%20is%20waiting%20for%20a%20monitor%20that%20is%20never%20notified.\" rel=\"nofollow noreferrer\">If the thread dump is printed and no deadlocks are found, then the issue might be a bug in which a thread is waiting for a monitor that is never notified.</a>"},{"owner":{"account_id":29646711,"reputation":1,"user_id":22721563,"display_name":"xijiu"},"score":0,"creation_date":1697074850,"post_id":77271496,"comment_id":136248673,"body_markdown":"I raised a question for JDK, and Martijn Verburg reply: https://github.com/adoptium/adoptium-support/issues/912","body":"I raised a question for JDK, and Martijn Verburg reply: <a href=\"https://github.com/adoptium/adoptium-support/issues/912\" rel=\"nofollow noreferrer\">github.com/adoptium/adoptium-support/issues/912</a>"},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1697102232,"post_id":77271496,"comment_id":136238311,"body_markdown":"A deadlock is a specific situation where two (or more) thread wait for each other. Its perfectly possible to have a hanging application without a deadlock, for example, just one thread waiting for an impossible condition. So far, you just have a hanging application and not shown any indicator for a deadlock nor for your assumption that this must be a bug in the JVM rather than a bug in your application.","body":"A deadlock is a specific situation where two (or more) thread wait for each other. Its perfectly possible to have a hanging application without a deadlock, for example, just one thread waiting for an impossible condition. So far, you just have a hanging application and not shown any indicator for a deadlock nor for your assumption that this must be a bug in the JVM rather than a bug in your application."},{"owner":{"account_id":29646711,"reputation":1,"user_id":22721563,"display_name":"xijiu"},"score":0,"creation_date":1697115009,"post_id":77271496,"comment_id":136240803,"body_markdown":"@Holger My application is Kafka broker, it has 100+ threads.  The state of each thread is BLOCKED,  and each thread&#39;s stack is different. What&#39;s JVM hang?   Every   thread stopped, just like Stop The World.  If all threads waiting for an impossible condition, why VM Thread(GC generally) stuck in `SafepointSynchronize::begin()`","body":"@Holger My application is Kafka broker, it has 100+ threads.  The state of each thread is BLOCKED,  and each thread&#39;s stack is different. What&#39;s JVM hang?   Every   thread stopped, just like Stop The World.  If all threads waiting for an impossible condition, why VM Thread(GC generally) stuck in <code>SafepointSynchronize::begin()</code>"}],"answers":[{"tags":[],"owner":{"account_id":29647172,"reputation":1,"user_id":22721940,"display_name":"jmc"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697017761,"creation_date":1697017761,"answer_id":77271929,"question_id":77271496,"body_markdown":"it is seemed like a JVM bug, if it&#39;s a deadlock, the command &quot;jstack [pid]&quot; should be responsed.","title":"JVM hang suddenly with jdk version 8u1.8.0_312","body":"<p>it is seemed like a JVM bug, if it's a deadlock, the command &quot;jstack [pid]&quot; should be responsed.</p>\n"}],"owner":{"account_id":29646711,"reputation":1,"user_id":22721563,"display_name":"xijiu"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":105,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1697074850,"creation_date":1697013777,"question_id":77271496,"body_markdown":"Our online Kafka Broker service suddenly hung up, and it&#39;s occurs with low probability and without any time regularity. no crash, no warning, no error and no logs\r\n\r\nThe command &quot;`jstack [pid]`&quot; no response, then I print the stack trace with command &quot;`jstack -m [pid]`&quot;, and I found all threads state are **BLOCKED**, include **VM Thread**.\r\n\r\nVM Thread stack:\r\n\r\n    ox0000ffff99f4da8c __pthread_cond_wait\r\n    ox0000ffff997c014c _ZN2os13PlatformEvent4parkEv\r\n    ox0000ffff9976f014 _ZN7Monitor5IWaitEP6Thread1\r\n    ox0000ffff9976faf0 _ZN7Monitor4waitEblb\r\n    ox0000ffff999355dc _ZN20SuspendibleThreadSet11synchronizeEv\r\n    ox0000ffff99858a68 _ZN20SafepointSynchronize5beginEv\r\n    ox0000ffff999d3124 _ZN8VMThread4loopEv\r\n    ox0000ffff999d3458 _ZN8VMThread3runEv\r\n    ox0000ffff997b8204 _ZL10java_startP6Thread\r\n    ox0000ffff99f47800 start_thread\r\n\r\n\r\nOnly one thead state is IN_NATIVE, it&#39;s stack trace:\r\n\r\n    ox0000ffff99de7dd8 __GI___poll\r\n    ox0000fffed7871a3c NET_Timeout0\r\n    ox0000fffe786ec40 Java_java_net_PlainSocketImpl_socketAccept\r\n    ox0000ffff8c015628 * java.net.PlainSocketImpl.socketAccept(java.net.SocketImpl) bci:0 (Interpreted frame)\r\n    ox0000ffff8c008498 * java.net.AbstractPlainSocketImpl.accept(java.net.SocketImpl) bci:7 line:409 (Interpreted frame)\r\n    ox0000ffff8c008498 * java.net.ServerSocket.implAccept(java.net.SocketImpl)\r\n    ox0000ffff8c008498 * java.net.ServerSocket.accept()\r\n    ox0000ffff8c008380 * sun.management.jmxremote.LocalRMIServerSocketFactory$1.accept()\r\n    ox0000ffff8c008380 * sun.rmi.transport.tcp.TCPTransport$AcceptLoop.executeAcceptLoop()\r\n\r\nI&#39;m not sure whether this is a JVM bug. Maybe IN_NATIVE thread is useless, STS call synchronize() stuck.\r\n\r\n\r\nLinux on aarch64, and jdk version is \r\nopenjdk version &quot;1.8.0_312&quot; OpenJDK Runtime Environment (build 1.8.0_312-b07) OpenJDK 64-Bit Server VM (build 25.312-b07, mixed mode)\r\n\r\nI try to find out the reason, but the JVM hang","title":"JVM hang suddenly with jdk version 8u1.8.0_312","body":"<p>Our online Kafka Broker service suddenly hung up, and it's occurs with low probability and without any time regularity. no crash, no warning, no error and no logs</p>\n<p>The command &quot;<code>jstack [pid]</code>&quot; no response, then I print the stack trace with command &quot;<code>jstack -m [pid]</code>&quot;, and I found all threads state are <strong>BLOCKED</strong>, include <strong>VM Thread</strong>.</p>\n<p>VM Thread stack:</p>\n<pre><code>ox0000ffff99f4da8c __pthread_cond_wait\nox0000ffff997c014c _ZN2os13PlatformEvent4parkEv\nox0000ffff9976f014 _ZN7Monitor5IWaitEP6Thread1\nox0000ffff9976faf0 _ZN7Monitor4waitEblb\nox0000ffff999355dc _ZN20SuspendibleThreadSet11synchronizeEv\nox0000ffff99858a68 _ZN20SafepointSynchronize5beginEv\nox0000ffff999d3124 _ZN8VMThread4loopEv\nox0000ffff999d3458 _ZN8VMThread3runEv\nox0000ffff997b8204 _ZL10java_startP6Thread\nox0000ffff99f47800 start_thread\n</code></pre>\n<p>Only one thead state is IN_NATIVE, it's stack trace:</p>\n<pre><code>ox0000ffff99de7dd8 __GI___poll\nox0000fffed7871a3c NET_Timeout0\nox0000fffe786ec40 Java_java_net_PlainSocketImpl_socketAccept\nox0000ffff8c015628 * java.net.PlainSocketImpl.socketAccept(java.net.SocketImpl) bci:0 (Interpreted frame)\nox0000ffff8c008498 * java.net.AbstractPlainSocketImpl.accept(java.net.SocketImpl) bci:7 line:409 (Interpreted frame)\nox0000ffff8c008498 * java.net.ServerSocket.implAccept(java.net.SocketImpl)\nox0000ffff8c008498 * java.net.ServerSocket.accept()\nox0000ffff8c008380 * sun.management.jmxremote.LocalRMIServerSocketFactory$1.accept()\nox0000ffff8c008380 * sun.rmi.transport.tcp.TCPTransport$AcceptLoop.executeAcceptLoop()\n</code></pre>\n<p>I'm not sure whether this is a JVM bug. Maybe IN_NATIVE thread is useless, STS call synchronize() stuck.</p>\n<p>Linux on aarch64, and jdk version is\nopenjdk version &quot;1.8.0_312&quot; OpenJDK Runtime Environment (build 1.8.0_312-b07) OpenJDK 64-Bit Server VM (build 25.312-b07, mixed mode)</p>\n<p>I try to find out the reason, but the JVM hang</p>\n"},{"tags":["java","spring","spring-boot","response-entity"],"comments":[{"owner":{"account_id":27097454,"reputation":797,"user_id":20644506,"display_name":"Peng"},"score":0,"creation_date":1697094512,"post_id":77277136,"comment_id":136236696,"body_markdown":"i  noticed that  you define the sendFile response type as APPLICATION_PDF,and the aspect of  sendfile and sendByemail implementation  is different ,  according to  your sample  error stack (it should be  demonstrate more about it ,  the whole would imporve ensure issue cause) ,it may be http  convert error ,  the sendfile  contenttype is APPLICATION_PDF , but you return   application/json in  globalException Handler  , maybe some conflict  within it ?  well ,it also may be that   you missed pdf message http converter ?","body":"i  noticed that  you define the sendFile response type as APPLICATION_PDF,and the aspect of  sendfile and sendByemail implementation  is different ,  according to  your sample  error stack (it should be  demonstrate more about it ,  the whole would imporve ensure issue cause) ,it may be http  convert error ,  the sendfile  contenttype is APPLICATION_PDF , but you return   application/json in  globalException Handler  , maybe some conflict  within it ?  well ,it also may be that   you missed pdf message http converter ?"}],"owner":{"account_id":9260920,"reputation":1801,"user_id":6878038,"display_name":"Manzini"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697072893,"creation_date":1697072893,"question_id":77277136,"body_markdown":"My application has an aspect that checks if the request is duplicated within a TTL and returns the endpoint result or a message.\r\n\r\nThis is my controller\r\n\r\n   \r\n\r\n     @RestController\r\n    @RequestMapping(&quot;/results/shares&quot;)\r\n    class MyController(\r\n        private val myService: MyService,\r\n    ) {\r\n    \r\n        private val responseHeaders = HttpHeaders().apply {\r\n            contentType = MediaType.APPLICATION_PDF\r\n            set(&quot;Content-Disposition&quot;, &quot;attachment; filename=fatura.pdf&quot;)\r\n        }\r\n    \r\n        @LogProfiler\r\n        @LogInfo(logParameters = true)\r\n        @CacheMessageResponse(ttl = 60, false)\r\n        @PostMapping(&quot;/email/{invoiceId}&quot;)\r\n        fun sendByEmail(\r\n            @RequestHeader(&quot;clientId&quot;) clientId: String,\r\n            @PathVariable id: String,\r\n        ): EmaileResponse =\r\n            myService.sendInvoiceByEmail(id, clientId).toEmailCompleteResponse()\r\n    \r\n       \r\n        @CacheRequest(ttl = 60, false)\r\n        @GetMapping(&quot;/file/{id}&quot;, produces = [MediaType.APPLICATION_PDF_VALUE])\r\n        fun sendFile(\r\n            @RequestHeader(&quot;clientId&quot;) clientId: String,\r\n            @PathVariable Id: String,\r\n        ): ResponseEntity&lt;Resource&gt; =\r\n            ResponseEntity(myService.retrieveFile(id, clientId), responseHeaders, HttpStatus.OK)\r\n    }\r\n\r\nInside the aspect I do a check and if it is in TTL I throw an exception, otherwise the endpoint calls the service and continues the process normally\r\n\r\n        if (cachedValue != null) {\r\n                throw DuplicateRequestOnTtlException(&quot;Duplicate Error&quot;)\r\n            }\r\n\r\n\r\n    class DuplicateRequestOnTtlException(message: String) : RuntimeException(message)\r\n\r\n\r\nIn my Controller exception handler I handle exceptions\r\n\r\n    @ExceptionHandler(DuplicateRequestOnTtlException::class)\r\n    @ResponseBody\r\n    fun handleDuplicateRequestOnTtlException(e: DuplicateRequestOnTtlException): ResponseEntity&lt;DuplicateRequestOnTtlErrorResponse&gt; {\r\n        val errorResponse = DuplicateRequestOnTtlErrorResponse(properties.download.message)\r\n        return ResponseEntity.status(HttpStatus.TOO_MANY_REQUESTS).body(errorResponse)\r\n    }\r\n    \r\n   \r\n    data class DuplicateRequestOnTtlErrorResponse(val message: String)\r\n\r\nEverything works as expected for the sendByEmail endpoint, it returns ResponseEntity&lt;DuplicateRequestOnTtlErrorResponse&gt; when necessary, however, with the sendFile endpoint this does not happen, When it is inside the ttl and is to respond to a DuplicateRequestOnTtlErrorResponse gives:\r\n Spring cannot handle the response\r\nan org.springframework.web.HttpMediaTypeNotAcceptableException: No acceptable representation is thrown and I can&#39;t deal with it because I get an Ambiguous @ExceptionHandler in advice","title":"Two possible responses on the same endpoint","body":"<p>My application has an aspect that checks if the request is duplicated within a TTL and returns the endpoint result or a message.</p>\n<p>This is my controller</p>\n<pre><code> @RestController\n@RequestMapping(&quot;/results/shares&quot;)\nclass MyController(\n    private val myService: MyService,\n) {\n\n    private val responseHeaders = HttpHeaders().apply {\n        contentType = MediaType.APPLICATION_PDF\n        set(&quot;Content-Disposition&quot;, &quot;attachment; filename=fatura.pdf&quot;)\n    }\n\n    @LogProfiler\n    @LogInfo(logParameters = true)\n    @CacheMessageResponse(ttl = 60, false)\n    @PostMapping(&quot;/email/{invoiceId}&quot;)\n    fun sendByEmail(\n        @RequestHeader(&quot;clientId&quot;) clientId: String,\n        @PathVariable id: String,\n    ): EmaileResponse =\n        myService.sendInvoiceByEmail(id, clientId).toEmailCompleteResponse()\n\n   \n    @CacheRequest(ttl = 60, false)\n    @GetMapping(&quot;/file/{id}&quot;, produces = [MediaType.APPLICATION_PDF_VALUE])\n    fun sendFile(\n        @RequestHeader(&quot;clientId&quot;) clientId: String,\n        @PathVariable Id: String,\n    ): ResponseEntity&lt;Resource&gt; =\n        ResponseEntity(myService.retrieveFile(id, clientId), responseHeaders, HttpStatus.OK)\n}\n</code></pre>\n<p>Inside the aspect I do a check and if it is in TTL I throw an exception, otherwise the endpoint calls the service and continues the process normally</p>\n<pre><code>    if (cachedValue != null) {\n            throw DuplicateRequestOnTtlException(&quot;Duplicate Error&quot;)\n        }\n\n\nclass DuplicateRequestOnTtlException(message: String) : RuntimeException(message)\n</code></pre>\n<p>In my Controller exception handler I handle exceptions</p>\n<pre><code>@ExceptionHandler(DuplicateRequestOnTtlException::class)\n@ResponseBody\nfun handleDuplicateRequestOnTtlException(e: DuplicateRequestOnTtlException): ResponseEntity&lt;DuplicateRequestOnTtlErrorResponse&gt; {\n    val errorResponse = DuplicateRequestOnTtlErrorResponse(properties.download.message)\n    return ResponseEntity.status(HttpStatus.TOO_MANY_REQUESTS).body(errorResponse)\n}\n\n\ndata class DuplicateRequestOnTtlErrorResponse(val message: String)\n</code></pre>\n<p>Everything works as expected for the sendByEmail endpoint, it returns ResponseEntity when necessary, however, with the sendFile endpoint this does not happen, When it is inside the ttl and is to respond to a DuplicateRequestOnTtlErrorResponse gives:\nSpring cannot handle the response\nan org.springframework.web.HttpMediaTypeNotAcceptableException: No acceptable representation is thrown and I can't deal with it because I get an Ambiguous @ExceptionHandler in advice</p>\n"},{"tags":["java","spring-boot","native","graalvm"],"owner":{"account_id":157895,"reputation":263,"user_id":376152,"accept_rate":100,"display_name":"moorsu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697071653,"creation_date":1697071653,"question_id":77277098,"body_markdown":"I have used this in my pom.xml\r\n\r\n```\r\n&lt;buildArgs&gt;\r\n       &lt;buildArg&gt;-H:IncludeResources=&quot;.*yml$&quot;&lt;/buildArg&gt; \r\n&lt;/buildArgs&gt;\r\n```\r\n\r\nBut still I am getting the exception while running the native executable\r\n\r\nCaused by: java.lang.IllegalArgumentException: argument &quot;src&quot; is null\r\nat com.fasterxml.jackson.databind.ObjectMapper._assertNotNull(ObjectMapper.java:4980) ~[2.15.2]\r\nat com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3824) ~[2.15.2]\r\nat io.github.mngsk.devicedetector.device.AbstractDeviceParser.(AbstractDeviceParser.java:32)\r\n\r\n","title":"How to add *.yml files from the third party libraries to the include argument (-H:IncludeResources) while compiling spring-boot application i?","body":"<p>I have used this in my pom.xml</p>\n<pre><code>&lt;buildArgs&gt;\n       &lt;buildArg&gt;-H:IncludeResources=&quot;.*yml$&quot;&lt;/buildArg&gt; \n&lt;/buildArgs&gt;\n</code></pre>\n<p>But still I am getting the exception while running the native executable</p>\n<p>Caused by: java.lang.IllegalArgumentException: argument &quot;src&quot; is null\nat com.fasterxml.jackson.databind.ObjectMapper._assertNotNull(ObjectMapper.java:4980) ~[2.15.2]\nat com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3824) ~[2.15.2]\nat io.github.mngsk.devicedetector.device.AbstractDeviceParser.(AbstractDeviceParser.java:32)</p>\n"},{"tags":["java","eclipse","spring-boot","lombok"],"comments":[{"owner":{"account_id":4514344,"reputation":31626,"user_id":3669624,"accept_rate":100,"display_name":"cdk"},"score":1,"creation_date":1530799723,"post_id":51193039,"comment_id":89368309,"body_markdown":"That&#39;s because your getter and setter methods aren&#39;t generated in your `.class` files when you run the project. Please check [**this answer**](https://stackoverflow.com/a/11807022/3669624) for more details.","body":"That&#39;s because your getter and setter methods aren&#39;t generated in your <code>.class</code> files when you run the project. Please check <a href=\"https://stackoverflow.com/a/11807022/3669624\"><b>this answer</b></a> for more details."},{"owner":{"account_id":1964374,"reputation":543,"user_id":1767688,"accept_rate":75,"display_name":"SpaceCowboy"},"score":0,"creation_date":1530800442,"post_id":51193039,"comment_id":89368788,"body_markdown":"That sounds like the issue to me, however when I follow the instructions in the answer to provided I still get the same issue :(","body":"That sounds like the issue to me, however when I follow the instructions in the answer to provided I still get the same issue :("},{"owner":{"account_id":2139538,"reputation":42521,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":0,"creation_date":1530800602,"post_id":51193039,"comment_id":89368884,"body_markdown":"What version of Java are you targeting? I&#39;ve had similar issues with Java 9 and Java 10. Java 8 is the only one that seems to work perfectly.","body":"What version of Java are you targeting? I&#39;ve had similar issues with Java 9 and Java 10. Java 8 is the only one that seems to work perfectly."},{"owner":{"account_id":1801353,"reputation":81710,"user_id":1639625,"display_name":"tobias_k"},"score":0,"creation_date":1530800752,"post_id":51193039,"comment_id":89368978,"body_markdown":"Did you also do `mvn eclipse:eclipse` after adding lombok to the pom? Also, are you running the project from within Eclipse, or from maven/appassembler/whatever?","body":"Did you also do <code>mvn eclipse:eclipse</code> after adding lombok to the pom? Also, are you running the project from within Eclipse, or from maven/appassembler/whatever?"},{"owner":{"account_id":1964374,"reputation":543,"user_id":1767688,"accept_rate":75,"display_name":"SpaceCowboy"},"score":0,"creation_date":1530800760,"post_id":51193039,"comment_id":89368982,"body_markdown":"I&#39;m using Java 8, strangely it has been working perfectly. Only recently this has started to occur. I&#39;ve rolled back to a version which worked but im still seeing the issue","body":"I&#39;m using Java 8, strangely it has been working perfectly. Only recently this has started to occur. I&#39;ve rolled back to a version which worked but im still seeing the issue"},{"owner":{"account_id":1964374,"reputation":543,"user_id":1767688,"accept_rate":75,"display_name":"SpaceCowboy"},"score":0,"creation_date":1530800847,"post_id":51193039,"comment_id":89369040,"body_markdown":"@tobias_k yeah I did, I&#39;m running it from within Eclipse","body":"@tobias_k yeah I did, I&#39;m running it from within Eclipse"},{"owner":{"account_id":1801353,"reputation":81710,"user_id":1639625,"display_name":"tobias_k"},"score":0,"creation_date":1530800933,"post_id":51193039,"comment_id":89369117,"body_markdown":"Still not entirely clear. You say you can build the project with maven (`mvn install`), but can you also (a) run it with maven/from command line, (b) compile it in Eclipse (no squigly red lines), (c) run it in Eclipse?","body":"Still not entirely clear. You say you can build the project with maven (<code>mvn install</code>), but can you also (a) run it with maven/from command line, (b) compile it in Eclipse (no squigly red lines), (c) run it in Eclipse?"},{"owner":{"account_id":4514344,"reputation":31626,"user_id":3669624,"accept_rate":100,"display_name":"cdk"},"score":0,"creation_date":1530800958,"post_id":51193039,"comment_id":89369128,"body_markdown":"@SpaceCowboy Try to close and start eclipse after adding lombok and executing the suggested command, if you check [this answer](https://stackoverflow.com/a/22332248/3669624) as well, it&#39;s stating the same thing.","body":"@SpaceCowboy Try to close and start eclipse after adding lombok and executing the suggested command, if you check <a href=\"https://stackoverflow.com/a/22332248/3669624\">this answer</a> as well, it&#39;s stating the same thing."},{"owner":{"account_id":1964374,"reputation":543,"user_id":1767688,"accept_rate":75,"display_name":"SpaceCowboy"},"score":0,"creation_date":1530801126,"post_id":51193039,"comment_id":89369250,"body_markdown":"I can build with mvn clean/install in eclipse, also on the commandline, but I can&#39;t run it from anywhere as it complains about missing getters/setters","body":"I can build with mvn clean/install in eclipse, also on the commandline, but I can&#39;t run it from anywhere as it complains about missing getters/setters"}],"answers":[{"tags":[],"owner":{"account_id":13890437,"reputation":281,"user_id":10028584,"display_name":"Andrii Torzhkov"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1530800323,"creation_date":1530800323,"answer_id":51193656,"question_id":51193039,"body_markdown":"I don&#39;t know how exactly in eclipse, but in the Intellij IDEA I need to install the lombok plugin in the settings, I suspect that in eclipse also it needs to be done.\r\n","title":"Lombok/Eclipse Issues - I can compile but I cannot run","body":"<p>I don't know how exactly in eclipse, but in the Intellij IDEA I need to install the lombok plugin in the settings, I suspect that in eclipse also it needs to be done.</p>\n"},{"tags":[],"owner":{"account_id":4802848,"reputation":2464,"user_id":3878948,"accept_rate":86,"display_name":"Rishabh Agarwal"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1572989240,"creation_date":1572989240,"answer_id":58719711,"question_id":51193039,"body_markdown":"Here is tested link for setting up lombok for the eclipse as well as intellij.\r\n\r\n\r\nhttps://www.baeldung.com/lombok-ide","title":"Lombok/Eclipse Issues - I can compile but I cannot run","body":"<p>Here is tested link for setting up lombok for the eclipse as well as intellij.</p>\n\n<p><a href=\"https://www.baeldung.com/lombok-ide\" rel=\"nofollow noreferrer\">https://www.baeldung.com/lombok-ide</a></p>\n"},{"tags":[],"owner":{"account_id":24248641,"reputation":1,"user_id":18199977,"display_name":"sric0880"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644854963,"creation_date":1644807688,"answer_id":71106718,"question_id":51193039,"body_markdown":"Adding the tag `&lt;annotationProcessorPaths&gt;` to pom.xml solved my same problem.\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;annotationProcessorPaths&gt;\r\n                        &lt;path&gt;\r\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n                            &lt;version&gt;RELEASE&lt;/version&gt;\r\n                        &lt;/path&gt;\r\n                    &lt;/annotationProcessorPaths&gt;\r\n                    ...\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n","title":"Lombok/Eclipse Issues - I can compile but I cannot run","body":"<p>Adding the tag <code>&lt;annotationProcessorPaths&gt;</code> to pom.xml solved my same problem.</p>\n<pre><code>&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\n            &lt;configuration&gt;\n                &lt;annotationProcessorPaths&gt;\n                    &lt;path&gt;\n                        &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                        &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                        &lt;version&gt;RELEASE&lt;/version&gt;\n                    &lt;/path&gt;\n                &lt;/annotationProcessorPaths&gt;\n                ...\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26613352,"reputation":11,"user_id":20233210,"display_name":"Anju"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697071606,"creation_date":1697071606,"answer_id":77277094,"question_id":51193039,"body_markdown":"Here are the steps I followed to resolve this:\r\n\r\n**Step1**: Download Lombok Jar File &amp; Install it.\r\n\r\n**Step2**: edit C:/Program Files/Eclipse/eclipse.ini , &amp; provide path of lombok jar in this file like below:\r\n\r\n`-javaagent:H:\\Jars\\lombok-1.18.24.jar`\r\n\r\n**Step3**: Restart Eclipse : project &gt; clean","title":"Lombok/Eclipse Issues - I can compile but I cannot run","body":"<p>Here are the steps I followed to resolve this:</p>\n<p><strong>Step1</strong>: Download Lombok Jar File &amp; Install it.</p>\n<p><strong>Step2</strong>: edit C:/Program Files/Eclipse/eclipse.ini , &amp; provide path of lombok jar in this file like below:</p>\n<p><code>-javaagent:H:\\Jars\\lombok-1.18.24.jar</code></p>\n<p><strong>Step3</strong>: Restart Eclipse : project &gt; clean</p>\n"}],"owner":{"account_id":1964374,"reputation":543,"user_id":1767688,"accept_rate":75,"display_name":"SpaceCowboy"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2251,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":4,"score":0,"last_activity_date":1697071606,"creation_date":1530798520,"question_id":51193039,"body_markdown":"I&#39;m having an issue with Lombok or Eclipse, not sure which. I have a Spring Boot maven project for which I am using Lombok. I&#39;ve added this in my pom.xml file and I&#39;ve used the lombok install for eclipse.\r\n\r\nWhats happening is that I can do a `mvn clean` and a `mvn install` and a maven update on the project and everything builds as expected. As soon as I go to run the project errors start to appear and I get error such as:\r\n\r\n    java.lang.Error: Unresolved compilation problems: \r\n    \tThe method getxxx() is undefined for the type xxxxxx\r\n\r\n\r\nIs there anything that can happen when running the project that can some how strip out lombok?!\r\n\r\n\r\nI&#39;m running Eclipse Oxygen (4.7.3) with lombok v1.16.18 &quot;Dancing Elephant&quot; any help would be much appreciated. ","title":"Lombok/Eclipse Issues - I can compile but I cannot run","body":"<p>I'm having an issue with Lombok or Eclipse, not sure which. I have a Spring Boot maven project for which I am using Lombok. I've added this in my pom.xml file and I've used the lombok install for eclipse.</p>\n\n<p>Whats happening is that I can do a <code>mvn clean</code> and a <code>mvn install</code> and a maven update on the project and everything builds as expected. As soon as I go to run the project errors start to appear and I get error such as:</p>\n\n<pre><code>java.lang.Error: Unresolved compilation problems: \n    The method getxxx() is undefined for the type xxxxxx\n</code></pre>\n\n<p>Is there anything that can happen when running the project that can some how strip out lombok?!</p>\n\n<p>I'm running Eclipse Oxygen (4.7.3) with lombok v1.16.18 \"Dancing Elephant\" any help would be much appreciated. </p>\n"},{"tags":["java","jframe"],"comments":[{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1697071667,"post_id":77277082,"comment_id":136234561,"body_markdown":"`ImageIcon` is renowned for failing silently when it can&#39;t load the image.  I would recommend using [`ImageIO.read`](https://docs.oracle.com/javase/tutorial/2d/images/loadimage.html) instead, this will throw an exception if the image failed to load - this is a good starting point.  Continued failure without exception would require a [mcve]","body":"<code>ImageIcon</code> is renowned for failing silently when it can&#39;t load the image.  I would recommend using <a href=\"https://docs.oracle.com/javase/tutorial/2d/images/loadimage.html\" rel=\"nofollow noreferrer\"><code>ImageIO.read</code></a> instead, this will throw an exception if the image failed to load - this is a good starting point.  Continued failure without exception would require a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>"},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":1,"creation_date":1697073236,"post_id":77277082,"comment_id":136234666,"body_markdown":"*I have all png file in the correct place* - how do you know? What is the &quot;correct place&quot;? If the image was in the correct place then your code should work. Search the site. This question is asked over and over.","body":"<i>I have all png file in the correct place</i> - how do you know? What is the &quot;correct place&quot;? If the image was in the correct place then your code should work. Search the site. This question is asked over and over."}],"owner":{"account_id":29567284,"reputation":1,"user_id":22660358,"display_name":"Adam Traboulay"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697071441,"creation_date":1697071441,"question_id":77277082,"body_markdown":"\t\t//Draw Bart\r\n\t\tImageIcon imgBart = new ImageIcon(&quot;bart.png&quot;);\r\n\t\tg2.drawImage(imgBart.getImage(), 1, 50, this);\r\n\r\n\r\n\r\nI tried multiple variations of code but the image is still not outputting towards the frame. I have all png file in the correct place already but it does not output.","title":"My picture is not outputting to the frame","body":"<pre><code>    //Draw Bart\n    ImageIcon imgBart = new ImageIcon(&quot;bart.png&quot;);\n    g2.drawImage(imgBart.getImage(), 1, 50, this);\n</code></pre>\n<p>I tried multiple variations of code but the image is still not outputting towards the frame. I have all png file in the correct place already but it does not output.</p>\n"},{"tags":["java","spring","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":19081660,"reputation":520,"user_id":13933721,"display_name":"Mr. Kenneth"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1697071265,"creation_date":1697071265,"answer_id":77277076,"question_id":77271194,"body_markdown":"I got it. The code needed is:\r\n\r\n```\r\nString url = MvcUriComponentsBuilder\r\n        .fromMappingName(ControllerName.class, &quot;methodName&quot;, &quot;param1&quot;) // where starting from &quot;param1&quot; can be multiple params separated by comma,\r\n        .toString();\r\n```\r\n\r\nNow for my question, the actual code would be:\r\n\r\n```\r\n# /api/v1/auth/password-change/token1234\r\nString url = MvcUriComponentsBuilder\r\n        .fromMappingName(AuthenticationController.class, &quot;passwordChange&quot;, &quot;token1234&quot;)\r\n        .toString();\r\n```\r\n\r\nIf you need multiple parameters then:\r\n\r\n```\r\n# /api/v1/auth/xxxx/{param1}/yyyy/{param2}\r\n# becomes\r\n# /api/v1/auth/xxxx/param1Val/yyyy/param2Val\r\nString url = MvcUriComponentsBuilder\r\n        .fromMappingName(ControllerName.class, &quot;methodName&quot;, &quot;param1Val&quot;, &quot;param2Val&quot;)\r\n        .toString();\r\n```","title":"MvcUriComponentsBuilder to generate a url from named routes with parameter","body":"<p>I got it. The code needed is:</p>\n<pre><code>String url = MvcUriComponentsBuilder\n        .fromMappingName(ControllerName.class, &quot;methodName&quot;, &quot;param1&quot;) // where starting from &quot;param1&quot; can be multiple params separated by comma,\n        .toString();\n</code></pre>\n<p>Now for my question, the actual code would be:</p>\n<pre><code># /api/v1/auth/password-change/token1234\nString url = MvcUriComponentsBuilder\n        .fromMappingName(AuthenticationController.class, &quot;passwordChange&quot;, &quot;token1234&quot;)\n        .toString();\n</code></pre>\n<p>If you need multiple parameters then:</p>\n<pre><code># /api/v1/auth/xxxx/{param1}/yyyy/{param2}\n# becomes\n# /api/v1/auth/xxxx/param1Val/yyyy/param2Val\nString url = MvcUriComponentsBuilder\n        .fromMappingName(ControllerName.class, &quot;methodName&quot;, &quot;param1Val&quot;, &quot;param2Val&quot;)\n        .toString();\n</code></pre>\n"}],"owner":{"account_id":19081660,"reputation":520,"user_id":13933721,"display_name":"Mr. Kenneth"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77277076,"answer_count":1,"score":1,"last_activity_date":1697071265,"creation_date":1697011274,"question_id":77271194,"body_markdown":"I just started with Spring Boot and I would like to generate a URL based on named routes. I was able to start my code halfway using the answer from [here][1]. However, the route has a parameter and I want to include that in my generated route:\r\n\r\n\r\nAuthenticationController.java\r\n\r\n```\r\n@RestController\r\n@RequestMapping(path = &quot;/api/v1/auth&quot;, name = &quot;auth&quot;)\r\npublic class AuthenticationController {\r\n\r\n    @PostMapping(path = &quot;/password-change/{token}&quot;, name = &quot;passwordChange&quot;)\r\n    public void passwordChange(@PathVariable(&quot;token&quot;) String token){\r\n    }\r\n\r\n}\r\n```\r\n\r\nThe method somewhere.java\r\n```\r\nString url = MvcUriComponentsBuilder.fromMappingName(&quot;auth#passwordChange&quot;).build();\r\n```\r\n\r\nWith or without the `{token}` in the path, the url value is always `&quot;/api/v1/auth/password-change/&quot;`. How should I generate the full url using the name route?\r\n\r\nI also tried using the `buildAndExpand` method still the same result:\r\n\r\n```\r\nString url = MvcUriComponentsBuilder\r\n        .fromMappingName(&quot;auth#passwordChange&quot;)\r\n        .buildAndExpand(&quot;token1234&quot;)\r\n        .toString();\r\n```\r\n\r\nMy expected result should be `&quot;/api/v1/auth/password-change/token1234&quot;`\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/57055314/13933721","title":"MvcUriComponentsBuilder to generate a url from named routes with parameter","body":"<p>I just started with Spring Boot and I would like to generate a URL based on named routes. I was able to start my code halfway using the answer from <a href=\"https://stackoverflow.com/a/57055314/13933721\">here</a>. However, the route has a parameter and I want to include that in my generated route:</p>\n<p>AuthenticationController.java</p>\n<pre><code>@RestController\n@RequestMapping(path = &quot;/api/v1/auth&quot;, name = &quot;auth&quot;)\npublic class AuthenticationController {\n\n    @PostMapping(path = &quot;/password-change/{token}&quot;, name = &quot;passwordChange&quot;)\n    public void passwordChange(@PathVariable(&quot;token&quot;) String token){\n    }\n\n}\n</code></pre>\n<p>The method somewhere.java</p>\n<pre><code>String url = MvcUriComponentsBuilder.fromMappingName(&quot;auth#passwordChange&quot;).build();\n</code></pre>\n<p>With or without the <code>{token}</code> in the path, the url value is always <code>&quot;/api/v1/auth/password-change/&quot;</code>. How should I generate the full url using the name route?</p>\n<p>I also tried using the <code>buildAndExpand</code> method still the same result:</p>\n<pre><code>String url = MvcUriComponentsBuilder\n        .fromMappingName(&quot;auth#passwordChange&quot;)\n        .buildAndExpand(&quot;token1234&quot;)\n        .toString();\n</code></pre>\n<p>My expected result should be <code>&quot;/api/v1/auth/password-change/token1234&quot;</code></p>\n"},{"tags":["java","opengl","3d","rendering","lwjgl"],"comments":[{"owner":{"account_id":3060069,"reputation":1907,"user_id":2592931,"display_name":"abiessu"},"score":0,"creation_date":1383322554,"post_id":19730676,"comment_id":29314596,"body_markdown":"As long as a landmass is assumed to be one-to-one (that is, for every plane point, there is exactly one height associated, e.g., for every `(x,y)` coordinate pair, there is exactly one `z` associated), then you can connect the closest up to `n` points to each point with lines as a pseudo-triangularization.  There are probably other (better) ways of doing this as well.","body":"As long as a landmass is assumed to be one-to-one (that is, for every plane point, there is exactly one height associated, e.g., for every <code>(x,y)</code> coordinate pair, there is exactly one <code>z</code> associated), then you can connect the closest up to <code>n</code> points to each point with lines as a pseudo-triangularization.  There are probably other (better) ways of doing this as well."},{"owner":{"account_id":3239757,"reputation":672,"user_id":2733085,"accept_rate":75,"display_name":"Ryxuma"},"score":0,"creation_date":1383322627,"post_id":19730676,"comment_id":29314647,"body_markdown":"@abiessu no for every the (x, y) coordinate there is HEIGHT many z&#39;s.","body":"@abiessu no for every the (x, y) coordinate there is HEIGHT many z&#39;s."},{"owner":{"account_id":19185,"reputation":51299,"user_id":44729,"accept_rate":100,"display_name":"genpfault"},"score":4,"creation_date":1383322658,"post_id":19730676,"comment_id":29314663,"body_markdown":"[Isosurface](http://en.wikipedia.org/wiki/Isosurface) extraction, perhaps via [marching cubes](http://en.wikipedia.org/wiki/Marching_cubes).","body":"<a href=\"http://en.wikipedia.org/wiki/Isosurface\" rel=\"nofollow noreferrer\">Isosurface</a> extraction, perhaps via <a href=\"http://en.wikipedia.org/wiki/Marching_cubes\" rel=\"nofollow noreferrer\">marching cubes</a>."}],"answers":[{"tags":[],"owner":{"account_id":3557623,"reputation":1,"user_id":2970944,"display_name":"Alexdsz"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1384196996,"creation_date":1383961005,"answer_id":19871392,"question_id":19730676,"body_markdown":"If you have the points describing the outer shell of your terrain, this package is VERY good (fast) for calculating the Delaunay Triangulation of that set of points:\r\n\r\nhttp://www.cs.bgu.ac.il/~benmoshe/DT/\r\n\r\nYou can later draw each of the triangles from the triangulation. I made a couple or methods for converting everything back to doubles for use with JOGL that you might find helpful:\r\n\r\n    public static ArrayList&lt;Point_dt[]&gt; DTtoTriListDT(Delaunay_Triangulation DT){\r\n\tArrayList&lt;Point_dt[]&gt; triangles = new ArrayList&lt;Point_dt[]&gt;();\r\n\tPoint_dt[] triangle = new Point_dt[3];\r\n\t\r\n\tIterator&lt;Triangle_dt&gt; surface = DT.trianglesIterator();\r\n\twhile(surface.hasNext()){\r\n\t\tTriangle_dt tri = surface.next();\r\n\t\ttriangle[0] = tri.p1();\r\n\t\ttriangle[1] = tri.p2();\r\n\t\ttriangle[2] = tri.p3();\r\n\t\ttriangles.add(triangle);\r\n\t}\r\n\t\r\n\treturn triangles;}\r\n\r\nand\r\n\r\n    public static ArrayList&lt;double[][]&gt; DTtoTriList(Delaunay_Triangulation DT){\r\n\tArrayList&lt;Point_dt[]&gt; trianglesdt = Algebra.DTtoTriListDT(DT);\r\n\tArrayList&lt;double[][]&gt; triangles = new ArrayList&lt;double[][]&gt;();\r\n\tdouble[][] triangle = new double[3][3];\r\n\t\r\n\tIterator&lt;Point_dt[]&gt; surface = trianglesdt.iterator();\r\n\twhile(surface.hasNext()){\r\n\t\tPoint_dt[] tri = surface.next();\r\n\r\n\t\ttriangle[0][0] = tri[0].x();\r\n\t\ttriangle[0][1] = tri[0].y();\r\n\t\ttriangle[0][2] = tri[0].z();\r\n\r\n\t\ttriangle[1][0] = tri[1].x();\r\n\t\ttriangle[1][1] = tri[1].y();\r\n\t\ttriangle[1][2] = tri[1].z();\r\n\r\n\t\ttriangle[2][0] = tri[2].x();\r\n\t\ttriangle[2][1] = tri[2].y();\r\n\t\ttriangle[2][2] = tri[2].z();\r\n\t\t\t\t\t\r\n\t\ttriangles.add(triangle);\r\n\t}\r\n\t\r\n\treturn triangles;\r\n}\r\n\r\nI have it all in an Algebra class (FYI).\r\nWith the last method, you get an ArrayList with tree sets of three doubles on each entry (each set contains the three coordinates of each point and each entry is one triangle).","title":"How to draw 3D terrain with triangles?","body":"<p>If you have the points describing the outer shell of your terrain, this package is VERY good (fast) for calculating the Delaunay Triangulation of that set of points:</p>\n\n<p><a href=\"http://www.cs.bgu.ac.il/~benmoshe/DT/\" rel=\"nofollow\">http://www.cs.bgu.ac.il/~benmoshe/DT/</a></p>\n\n<p>You can later draw each of the triangles from the triangulation. I made a couple or methods for converting everything back to doubles for use with JOGL that you might find helpful:</p>\n\n<pre><code>public static ArrayList&lt;Point_dt[]&gt; DTtoTriListDT(Delaunay_Triangulation DT){\nArrayList&lt;Point_dt[]&gt; triangles = new ArrayList&lt;Point_dt[]&gt;();\nPoint_dt[] triangle = new Point_dt[3];\n\nIterator&lt;Triangle_dt&gt; surface = DT.trianglesIterator();\nwhile(surface.hasNext()){\n    Triangle_dt tri = surface.next();\n    triangle[0] = tri.p1();\n    triangle[1] = tri.p2();\n    triangle[2] = tri.p3();\n    triangles.add(triangle);\n}\n\nreturn triangles;}\n</code></pre>\n\n<p>and</p>\n\n<pre><code>public static ArrayList&lt;double[][]&gt; DTtoTriList(Delaunay_Triangulation DT){\nArrayList&lt;Point_dt[]&gt; trianglesdt = Algebra.DTtoTriListDT(DT);\nArrayList&lt;double[][]&gt; triangles = new ArrayList&lt;double[][]&gt;();\ndouble[][] triangle = new double[3][3];\n\nIterator&lt;Point_dt[]&gt; surface = trianglesdt.iterator();\nwhile(surface.hasNext()){\n    Point_dt[] tri = surface.next();\n\n    triangle[0][0] = tri[0].x();\n    triangle[0][1] = tri[0].y();\n    triangle[0][2] = tri[0].z();\n\n    triangle[1][0] = tri[1].x();\n    triangle[1][1] = tri[1].y();\n    triangle[1][2] = tri[1].z();\n\n    triangle[2][0] = tri[2].x();\n    triangle[2][1] = tri[2].y();\n    triangle[2][2] = tri[2].z();\n\n    triangles.add(triangle);\n}\n\nreturn triangles;\n</code></pre>\n\n<p>}</p>\n\n<p>I have it all in an Algebra class (FYI).\nWith the last method, you get an ArrayList with tree sets of three doubles on each entry (each set contains the three coordinates of each point and each entry is one triangle).</p>\n"},{"tags":[],"owner":{"account_id":1161585,"reputation":10773,"user_id":1140976,"accept_rate":74,"display_name":"the swine"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1697069966,"creation_date":1400084664,"answer_id":23660174,"question_id":19730676,"body_markdown":"Absolutely amazing question! I couldn&#39;t resist but to play with boxes, since boxes are sexy. It is actually fairly easy to produce boxes with the hidden faces omitted.\r\n\r\nThe following algorithm takes a list of 3D positions of `true` in your grid, which is easy to obtain by simply scanning through the grid and filling an array. Also with this data format you can store much larger grid, provided that the terrain is reasonably sparse. Up front, apologies for my spartan for-each loops, I just wanted to have the code in-place and avoid writing dozens of function objects or using lambdas. Also apologies for using C++ instead of Java, don&#39;t have javac at home and I&#39;m not really good with it anyway. Here goes:\r\n\r\n    #include &lt;vector&gt;\r\n    #include &lt;map&gt;\r\n    #include &lt;set&gt;\r\n    #include &lt;utility&gt;\r\n    #include &lt;assert.h&gt;\r\n    #include &lt;math.h&gt;\r\n\r\n    struct Pos3 {\r\n        int x, y, z;\r\n\r\n        Pos3(int _x = 0, int _y = 0, int _z = 0);\r\n        bool operator &lt;(const Pos3 &amp;other) const;\r\n    };\r\n\r\n    std::vector&lt;int&gt; index_buffer;\r\n    std::vector&lt;float&gt; vertex_buffer;\r\n\r\n    void onInitialize()\r\n    {\r\n        const int N = 32;\r\n        std::vector&lt;Pos3&gt; points;\r\n        GeneratePoints(points, N);\r\n        // input: bunch of points in NxNxN box (easy to get from a boolean array,\r\n        // can have much larger terrains if stored like this)\r\n\r\n        std::set&lt;Pos3&gt; point_set;\r\n        point_set.insert(points.begin(), points.end());\r\n        // put all the points to a set to be able to lookup neighbors (not needed with an array)\r\n\r\n        std::vector&lt;std::vector&lt;int&gt; &gt; polygons;\r\n        polygons.reserve(3 * points.size()); // guess\r\n        std::map&lt;Pos3, int&gt; vertex_map;\r\n        for(size_t i = 0, n = points.size(); i &lt; n; ++ i) {\r\n            Pos3 p = points[i], corners[8] = {\r\n                p, Pos3(p.x + 1, p.y, p.z), Pos3(p.x + 1, p.y + 1, p.z), Pos3(p.x, p.y + 1, p.z),\r\n                Pos3(p.x, p.y, p.z + 1), Pos3(p.x + 1, p.y, p.z + 1), Pos3(p.x + 1, p.y + 1, p.z + 1),\r\n                Pos3(p.x, p.y + 1, p.z + 1)\r\n            };\r\n            // get corners of a cube\r\n\r\n            static const int sides[][3 + 4] = {\r\n                0, -1,  0,\t4, 5, 1, 0,\t\t\t 1, 0, 0,\t5, 6, 2, 1,\r\n                0,  1,  0,\t6, 7, 3, 2,\t\t\t-1, 0, 0,\t7, 4, 0, 3,\r\n                0,  0, -1,\t0, 1, 2, 3,\t\t\t 0, 0, 1,\t7, 6, 5, 4\r\n            };\r\n            // directions and side quad indices\r\n\r\n            for(int j = 0; j &lt; 6; ++ j) {\r\n                Pos3 n(p.x + sides[j][0], p.y + sides[j][1], p.z + sides[j][2]); // position of a neighbor\r\n                if(point_set.find(n) != point_set.end())\r\n                    continue; // have a neighbor, will not triangulate this side\r\n\r\n                polygons.resize(polygons.size() + 1);\r\n                std::vector&lt;int&gt; &amp;poly = polygons.back(); // or use emplace_back() in c++11\r\n                poly.resize(4); // form quads\r\n                for(int v = 0; v &lt; 4; ++ v) {\r\n                    Pos3 vert = corners[sides[j][3 + v]];\r\n                    std::map&lt;Pos3, int&gt;::iterator it; // use map to reuse vertices\r\n                    if((it = vertex_map.find(vert)) == vertex_map.end())\r\n                        vertex_map[vert] = poly[v] = vertex_map.size(); // new vertex\r\n                    else\r\n                        poly[v] = (*it).second; // existing vertex\r\n                }\r\n            }\r\n            // generate sides, skip invisible sides\r\n            // note that this still triangulates cavities, would have to flood-fill\r\n            // outside area and then set all that is not outside to opaque (did not\r\n            // solve that as this is also a valid behavior)\r\n        }\r\n\r\n        vertex_buffer.resize(vertex_map.size() * 3);\r\n        for(std::map&lt;Pos3, int&gt;::const_iterator it = vertex_map.begin(), e = vertex_map.end(); it != e; ++ it) {\r\n            size_t i = (*it).second * 3;\r\n            vertex_buffer[i + 0] = ((*it).first.x + .5f) / (N + 1) * 2 - 1;\r\n            vertex_buffer[i + 1] = ((*it).first.y + .5f) / (N + 1) * 2 - 1;\r\n            vertex_buffer[i + 2] = ((*it).first.z + .5f) / (N + 1) * 2 - 1;\r\n        }\r\n        // convert points from the discrete domain\r\n        // to a unit 3D cube centered around the origin\r\n\r\n        index_buffer.reserve(polygons.size() * 2 * 3); // approximate number of triangles\r\n        for(size_t i = 0, n = polygons.size(); i &lt; n; ++ i) {\r\n            const std::vector&lt;int&gt; &amp;poly = polygons[i];\r\n            for(size_t j = 2, n = poly.size(); j &lt; n; ++ j) {\r\n                index_buffer.push_back(poly[0]);\r\n                index_buffer.push_back(poly[j]);\r\n                index_buffer.push_back(poly[j - 1]);\r\n            }\r\n        }\r\n        // convert polygons (those are actually quads) to triangles\r\n    }\r\n\r\nThere is also some more code that generates normals (ommited for the sake of clarity), the output looks like this:\r\n\r\n![Julia set as cubes, wireframe][3]\r\n\r\nThe shape is a Julia set generated on a discrete lattice, you might recognize the shape when you turn it arround.\r\n\r\nThis is actually pretty similar to what you would get by the Delaunay triangulation if you could easily remove your interior points. The generated shape is hollow. There can be some &quot;bubbles&quot; in the shape, in case the booleans also contain a bubble (does not occur with Julia). This is easily fixed by flood-filling the booleans in order to fill those up.\r\n\r\nNext, we can apply Catmull-Clark subdivision in order to get a smoother mesh:\r\n\r\n    typedef std::map&lt;std::pair&lt;int, int&gt;, std::pair&lt;size_t, int&gt; &gt; EdgeMap;\r\n\r\n    static bool Get_EdgeID(size_t &amp;eid, int a, int b, EdgeMap &amp;edges)\r\n    {\r\n        std::pair&lt;int, int&gt; e(std::min(a, b), std::max(a, b));\r\n        EdgeMap::iterator it = edges.find(e);\r\n        if(it == edges.end()) {\r\n            edges[e] = std::make_pair(eid = edges.size(), 1); // id, count\r\n            return true; // new edge\r\n        } else {\r\n            eid = (*it).second.first; // get id\r\n            ++ (*it).second.second; // increase count\r\n            return false; // no new edge\r\n        }\r\n    }\r\n\r\n    void CatClark(std::vector&lt;std::vector&lt;int&gt; &gt; &amp;src_quads, std::vector&lt;float&gt; &amp;src_verts)\r\n    {\r\n        const static float vpw[4] = {9.0f, 3.0f, 1.0f, 3.0f};\r\n        const static float epw[4] = {3.0f, 3.0f, 1.0f, 1.0f};\r\n\r\n        std::vector&lt;std::vector&lt;int&gt; &gt; dst_quads(src_quads.size() * 4, std::vector&lt;int&gt;(4)); // will produce quads\r\n        std::vector&lt;float&gt; dst_verts(src_verts.size() + src_quads.size() * 3, 0); // alloc s&#168;pace for vertices\r\n\r\n        EdgeMap edges;\r\n        std::vector&lt;int&gt; face_valences(src_verts.size() / 3, 0);\r\n        const size_t off_vp = src_quads.size(), off_ep = off_vp + src_verts.size() / 3;\r\n        for(size_t j = 0; j &lt; off_vp; ++ j) {\r\n            assert(src_quads[j].size() == 4); // otherwise won&#39;t work\r\n            size_t eid[4];\r\n            for(int k = 0; k &lt; 4; ++ k) {\r\n                int quad[4];\r\n                for(int i = 0; i &lt; 4; ++ i)\r\n                    quad[i] = src_quads[j][(i + k) &amp; 3]; // get the 4 vertices (but rotate them each k iteration)\r\n                if(Get_EdgeID(eid[k], quad[0], quad[1], edges)) // create edges\r\n                    dst_verts.insert(dst_verts.end(), 3, .0f); // must add new vertex to accomodate subdivided edge point\r\n                ++ face_valences[quad[0]]; // update face-valence\r\n                for(int n = 0; n &lt; 3; ++ n)\r\n                    dst_verts[j * 3 + n] += 0.25f * src_verts[quad[0] * 3 + n]; // increment face point \r\n                for(int i = 0; i &lt; 4; ++ i) {\r\n                    for(int n = 0; n &lt; 3; ++ n) {\r\n                        dst_verts[(off_vp + quad[0]) * 3 + n] += vpw[i] * src_verts[quad[i] * 3 + n]; // incremente vertex point\r\n                        dst_verts[(off_ep + eid[k]) * 3 + n] += epw[i] * src_verts[quad[i] * 3 + n]; // increment edge point\r\n                    }\r\n                }\r\n            }\r\n            for(int k = 0; k &lt; 4; ++ k) { // make child faces\r\n                dst_quads[4 * j + k][0] = j;\r\n                dst_quads[4 * j + k][4] = off_ep + eid[(3 + k) &amp; 3]; \r\n                dst_quads[4 * j + k][5] = off_ep + eid[(0 + k) &amp; 3]; \r\n                dst_quads[4 * j + k][6] = off_vp + src_quads[j][k];\r\n            }\r\n        }\r\n        for(size_t j = 0, n = src_verts.size() / 3; j &lt; n; ++ j) {\r\n            for(int n = 0; n &lt; 3; ++ n)\r\n                dst_verts[(off_vp + j) * 3 + n] *= 0.0625f / float(face_valences[j]);\r\n        }\r\n        for(EdgeMap::const_iterator it = edges.begin(), e = edges.end(); it != e; ++ it) {\r\n            size_t j = (*it).second.first;\r\n            float rvalence = 0.1250f / float((*it).second.second);\r\n            for(int n = 0; n &lt; 3; ++ n)\r\n                dst_verts[(off_ep + j) * 3 + n] *= rvalence;\r\n        }\r\n        dst_quads.swap(src_quads);\r\n        dst_verts.swap(src_verts);\r\n    }\r\n\r\nThis algorithm was adapted to work with STL containers from I&#241;igo &#39;iq&#39; Quilez / rgba, &quot;Tricks and techniques for rgba&#39;s past and future intros&quot;, Breakpoint, 2007.\r\n\r\nThis gives output quite similar to what you would get with marching cubes / marching tetrahedrons / marching triangles, except that it is always higher resolution than that of the original lattice (with the above methods you can easily change the triangulation resolution). A slightly different view of the same data:\r\n\r\n![Julia set as cubes after double Catmull-Clark subdivision, wireframe][7]\r\n\r\nOr without wireframe:\r\n\r\n![Julia set as cubes after double Catmull-Clark subdivision, smooth shaded][8]\r\n\r\nThe complete source code, along with Visual Studio workspace and win32 binaries can be found at [here][9]. It uses GLUT and the old fixed-function pipeline to display the generated geometry (only for simplicity and portability, otherwise I&#39;d have to include GLEW or the like). I really enjoyed toying around with your question, I hope you will like the output ...\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/IDgnX.png\r\n  [2]: http://i.stack.imgur.com/IDgnX.png\r\n  [3]: http://i.stack.imgur.com/IDgnX.png\r\n  [4]: http://i.stack.imgur.com/IDgnX.png\r\n  [5]: http://i.stack.imgur.com/IDgnX.png\r\n  [6]: http://i.stack.imgur.com/IDgnX.png\r\n  [7]: http://i.stack.imgur.com/vrkjv.png\r\n  [8]: http://i.stack.imgur.com/iUvCl.png\r\n  [9]: http://www.stud.fit.vutbr.cz/~xpolok00/proj/Boxels.zip\r\n","title":"How to draw 3D terrain with triangles?","body":"<p>Absolutely amazing question! I couldn't resist but to play with boxes, since boxes are sexy. It is actually fairly easy to produce boxes with the hidden faces omitted.</p>\n<p>The following algorithm takes a list of 3D positions of <code>true</code> in your grid, which is easy to obtain by simply scanning through the grid and filling an array. Also with this data format you can store much larger grid, provided that the terrain is reasonably sparse. Up front, apologies for my spartan for-each loops, I just wanted to have the code in-place and avoid writing dozens of function objects or using lambdas. Also apologies for using C++ instead of Java, don't have javac at home and I'm not really good with it anyway. Here goes:</p>\n<pre><code>#include &lt;vector&gt;\n#include &lt;map&gt;\n#include &lt;set&gt;\n#include &lt;utility&gt;\n#include &lt;assert.h&gt;\n#include &lt;math.h&gt;\n\nstruct Pos3 {\n    int x, y, z;\n\n    Pos3(int _x = 0, int _y = 0, int _z = 0);\n    bool operator &lt;(const Pos3 &amp;other) const;\n};\n\nstd::vector&lt;int&gt; index_buffer;\nstd::vector&lt;float&gt; vertex_buffer;\n\nvoid onInitialize()\n{\n    const int N = 32;\n    std::vector&lt;Pos3&gt; points;\n    GeneratePoints(points, N);\n    // input: bunch of points in NxNxN box (easy to get from a boolean array,\n    // can have much larger terrains if stored like this)\n\n    std::set&lt;Pos3&gt; point_set;\n    point_set.insert(points.begin(), points.end());\n    // put all the points to a set to be able to lookup neighbors (not needed with an array)\n\n    std::vector&lt;std::vector&lt;int&gt; &gt; polygons;\n    polygons.reserve(3 * points.size()); // guess\n    std::map&lt;Pos3, int&gt; vertex_map;\n    for(size_t i = 0, n = points.size(); i &lt; n; ++ i) {\n        Pos3 p = points[i], corners[8] = {\n            p, Pos3(p.x + 1, p.y, p.z), Pos3(p.x + 1, p.y + 1, p.z), Pos3(p.x, p.y + 1, p.z),\n            Pos3(p.x, p.y, p.z + 1), Pos3(p.x + 1, p.y, p.z + 1), Pos3(p.x + 1, p.y + 1, p.z + 1),\n            Pos3(p.x, p.y + 1, p.z + 1)\n        };\n        // get corners of a cube\n\n        static const int sides[][3 + 4] = {\n            0, -1,  0,  4, 5, 1, 0,          1, 0, 0,   5, 6, 2, 1,\n            0,  1,  0,  6, 7, 3, 2,         -1, 0, 0,   7, 4, 0, 3,\n            0,  0, -1,  0, 1, 2, 3,          0, 0, 1,   7, 6, 5, 4\n        };\n        // directions and side quad indices\n\n        for(int j = 0; j &lt; 6; ++ j) {\n            Pos3 n(p.x + sides[j][0], p.y + sides[j][1], p.z + sides[j][2]); // position of a neighbor\n            if(point_set.find(n) != point_set.end())\n                continue; // have a neighbor, will not triangulate this side\n\n            polygons.resize(polygons.size() + 1);\n            std::vector&lt;int&gt; &amp;poly = polygons.back(); // or use emplace_back() in c++11\n            poly.resize(4); // form quads\n            for(int v = 0; v &lt; 4; ++ v) {\n                Pos3 vert = corners[sides[j][3 + v]];\n                std::map&lt;Pos3, int&gt;::iterator it; // use map to reuse vertices\n                if((it = vertex_map.find(vert)) == vertex_map.end())\n                    vertex_map[vert] = poly[v] = vertex_map.size(); // new vertex\n                else\n                    poly[v] = (*it).second; // existing vertex\n            }\n        }\n        // generate sides, skip invisible sides\n        // note that this still triangulates cavities, would have to flood-fill\n        // outside area and then set all that is not outside to opaque (did not\n        // solve that as this is also a valid behavior)\n    }\n\n    vertex_buffer.resize(vertex_map.size() * 3);\n    for(std::map&lt;Pos3, int&gt;::const_iterator it = vertex_map.begin(), e = vertex_map.end(); it != e; ++ it) {\n        size_t i = (*it).second * 3;\n        vertex_buffer[i + 0] = ((*it).first.x + .5f) / (N + 1) * 2 - 1;\n        vertex_buffer[i + 1] = ((*it).first.y + .5f) / (N + 1) * 2 - 1;\n        vertex_buffer[i + 2] = ((*it).first.z + .5f) / (N + 1) * 2 - 1;\n    }\n    // convert points from the discrete domain\n    // to a unit 3D cube centered around the origin\n\n    index_buffer.reserve(polygons.size() * 2 * 3); // approximate number of triangles\n    for(size_t i = 0, n = polygons.size(); i &lt; n; ++ i) {\n        const std::vector&lt;int&gt; &amp;poly = polygons[i];\n        for(size_t j = 2, n = poly.size(); j &lt; n; ++ j) {\n            index_buffer.push_back(poly[0]);\n            index_buffer.push_back(poly[j]);\n            index_buffer.push_back(poly[j - 1]);\n        }\n    }\n    // convert polygons (those are actually quads) to triangles\n}\n</code></pre>\n<p>There is also some more code that generates normals (ommited for the sake of clarity), the output looks like this:</p>\n<p><img src=\"https://i.stack.imgur.com/IDgnX.png\" alt=\"Julia set as cubes, wireframe\" /></p>\n<p>The shape is a Julia set generated on a discrete lattice, you might recognize the shape when you turn it arround.</p>\n<p>This is actually pretty similar to what you would get by the Delaunay triangulation if you could easily remove your interior points. The generated shape is hollow. There can be some &quot;bubbles&quot; in the shape, in case the booleans also contain a bubble (does not occur with Julia). This is easily fixed by flood-filling the booleans in order to fill those up.</p>\n<p>Next, we can apply Catmull-Clark subdivision in order to get a smoother mesh:</p>\n<pre><code>typedef std::map&lt;std::pair&lt;int, int&gt;, std::pair&lt;size_t, int&gt; &gt; EdgeMap;\n\nstatic bool Get_EdgeID(size_t &amp;eid, int a, int b, EdgeMap &amp;edges)\n{\n    std::pair&lt;int, int&gt; e(std::min(a, b), std::max(a, b));\n    EdgeMap::iterator it = edges.find(e);\n    if(it == edges.end()) {\n        edges[e] = std::make_pair(eid = edges.size(), 1); // id, count\n        return true; // new edge\n    } else {\n        eid = (*it).second.first; // get id\n        ++ (*it).second.second; // increase count\n        return false; // no new edge\n    }\n}\n\nvoid CatClark(std::vector&lt;std::vector&lt;int&gt; &gt; &amp;src_quads, std::vector&lt;float&gt; &amp;src_verts)\n{\n    const static float vpw[4] = {9.0f, 3.0f, 1.0f, 3.0f};\n    const static float epw[4] = {3.0f, 3.0f, 1.0f, 1.0f};\n\n    std::vector&lt;std::vector&lt;int&gt; &gt; dst_quads(src_quads.size() * 4, std::vector&lt;int&gt;(4)); // will produce quads\n    std::vector&lt;float&gt; dst_verts(src_verts.size() + src_quads.size() * 3, 0); // alloc space for vertices\n\n    EdgeMap edges;\n    std::vector&lt;int&gt; face_valences(src_verts.size() / 3, 0);\n    const size_t off_vp = src_quads.size(), off_ep = off_vp + src_verts.size() / 3;\n    for(size_t j = 0; j &lt; off_vp; ++ j) {\n        assert(src_quads[j].size() == 4); // otherwise won't work\n        size_t eid[4];\n        for(int k = 0; k &lt; 4; ++ k) {\n            int quad[4];\n            for(int i = 0; i &lt; 4; ++ i)\n                quad[i] = src_quads[j][(i + k) &amp; 3]; // get the 4 vertices (but rotate them each k iteration)\n            if(Get_EdgeID(eid[k], quad[0], quad[1], edges)) // create edges\n                dst_verts.insert(dst_verts.end(), 3, .0f); // must add new vertex to accomodate subdivided edge point\n            ++ face_valences[quad[0]]; // update face-valence\n            for(int n = 0; n &lt; 3; ++ n)\n                dst_verts[j * 3 + n] += 0.25f * src_verts[quad[0] * 3 + n]; // increment face point \n            for(int i = 0; i &lt; 4; ++ i) {\n                for(int n = 0; n &lt; 3; ++ n) {\n                    dst_verts[(off_vp + quad[0]) * 3 + n] += vpw[i] * src_verts[quad[i] * 3 + n]; // incremente vertex point\n                    dst_verts[(off_ep + eid[k]) * 3 + n] += epw[i] * src_verts[quad[i] * 3 + n]; // increment edge point\n                }\n            }\n        }\n        for(int k = 0; k &lt; 4; ++ k) { // make child faces\n            dst_quads[4 * j + k][0] = j;\n            dst_quads[4 * j + k][4] = off_ep + eid[(3 + k) &amp; 3]; \n            dst_quads[4 * j + k][5] = off_ep + eid[(0 + k) &amp; 3]; \n            dst_quads[4 * j + k][6] = off_vp + src_quads[j][k];\n        }\n    }\n    for(size_t j = 0, n = src_verts.size() / 3; j &lt; n; ++ j) {\n        for(int n = 0; n &lt; 3; ++ n)\n            dst_verts[(off_vp + j) * 3 + n] *= 0.0625f / float(face_valences[j]);\n    }\n    for(EdgeMap::const_iterator it = edges.begin(), e = edges.end(); it != e; ++ it) {\n        size_t j = (*it).second.first;\n        float rvalence = 0.1250f / float((*it).second.second);\n        for(int n = 0; n &lt; 3; ++ n)\n            dst_verts[(off_ep + j) * 3 + n] *= rvalence;\n    }\n    dst_quads.swap(src_quads);\n    dst_verts.swap(src_verts);\n}\n</code></pre>\n<p>This algorithm was adapted to work with STL containers from Iigo 'iq' Quilez / rgba, &quot;Tricks and techniques for rgba's past and future intros&quot;, Breakpoint, 2007.</p>\n<p>This gives output quite similar to what you would get with marching cubes / marching tetrahedrons / marching triangles, except that it is always higher resolution than that of the original lattice (with the above methods you can easily change the triangulation resolution). A slightly different view of the same data:</p>\n<p><img src=\"https://i.stack.imgur.com/vrkjv.png\" alt=\"Julia set as cubes after double Catmull-Clark subdivision, wireframe\" /></p>\n<p>Or without wireframe:</p>\n<p><img src=\"https://i.stack.imgur.com/iUvCl.png\" alt=\"Julia set as cubes after double Catmull-Clark subdivision, smooth shaded\" /></p>\n<p>The complete source code, along with Visual Studio workspace and win32 binaries can be found at <a href=\"http://www.stud.fit.vutbr.cz/%7Expolok00/proj/Boxels.zip\" rel=\"nofollow noreferrer\">here</a>. It uses GLUT and the old fixed-function pipeline to display the generated geometry (only for simplicity and portability, otherwise I'd have to include GLEW or the like). I really enjoyed toying around with your question, I hope you will like the output ...</p>\n"}],"owner":{"account_id":3239757,"reputation":672,"user_id":2733085,"accept_rate":75,"display_name":"Ryxuma"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2142,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":23660174,"answer_count":2,"score":2,"last_activity_date":1697069966,"creation_date":1383322188,"question_id":19730676,"body_markdown":"I have a 3D array of booleans that represents some 3D terrain.  Currently i can draw it by drawing a point at the position specified by its x y and z in the array, it looks like this.![The terrain as it stands][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/SVWSl.png\r\n\r\nWhat i can&#39;t figure out is how i would draw this using triangles, so it looks like actual terrain.  I don&#39;t want to draw each on as a cube either.\r\n\r\nAre there any algorithms to obtain which points to draw to (bear in mind that for the sake of efficiency only points on the exterior of a landmass should be drawn)?","title":"How to draw 3D terrain with triangles?","body":"<p>I have a 3D array of booleans that represents some 3D terrain.  Currently i can draw it by drawing a point at the position specified by its x y and z in the array, it looks like this.<img src=\"https://i.stack.imgur.com/SVWSl.png\" alt=\"The terrain as it stands\"></p>\n\n<p>What i can't figure out is how i would draw this using triangles, so it looks like actual terrain.  I don't want to draw each on as a cube either.</p>\n\n<p>Are there any algorithms to obtain which points to draw to (bear in mind that for the sake of efficiency only points on the exterior of a landmass should be drawn)?</p>\n"},{"tags":["java","json"],"comments":[{"owner":{"account_id":1082858,"reputation":104688,"user_id":1079354,"accept_rate":93,"display_name":"Makoto"},"score":0,"creation_date":1406247098,"post_id":24946034,"comment_id":38769349,"body_markdown":"I&#39;m not entirely clear as to what&#39;s broken.  What values are contained in your `responseMap`?","body":"I&#39;m not entirely clear as to what&#39;s broken.  What values are contained in your <code>responseMap</code>?"},{"owner":{"account_id":1218251,"reputation":14573,"user_id":1185422,"accept_rate":62,"display_name":"Ahmed"},"score":0,"creation_date":1406247196,"post_id":24946034,"comment_id":38769375,"body_markdown":"{response=ok, versionname=dummy, extra=, package=dummy, devicename=dummy, versioncode=dummy, synclocation=null, deviceid=unknown-device-id}","body":"{response=ok, versionname=dummy, extra=, package=dummy, devicename=dummy, versioncode=dummy, synclocation=null, deviceid=unknown-device-id}"},{"owner":{"account_id":1082858,"reputation":104688,"user_id":1079354,"accept_rate":93,"display_name":"Makoto"},"score":0,"creation_date":1406247512,"post_id":24946034,"comment_id":38769468,"body_markdown":"That looks fine with me (using `org.json.JSONObject`).  Where exactly are you seeing this break down?","body":"That looks fine with me (using <code>org.json.JSONObject</code>).  Where exactly are you seeing this break down?"},{"owner":{"account_id":1218251,"reputation":14573,"user_id":1185422,"accept_rate":62,"display_name":"Ahmed"},"score":0,"creation_date":1406247614,"post_id":24946034,"comment_id":38769480,"body_markdown":"json object when contructed i howver over the var and it shows {&quot;empty&quot;:false}  same is sent over the network, in json.toString()","body":"json object when contructed i howver over the var and it shows {&quot;empty&quot;:false}  same is sent over the network, in json.toString()"},{"owner":{"account_id":1082858,"reputation":104688,"user_id":1079354,"accept_rate":93,"display_name":"Makoto"},"score":0,"creation_date":1406247778,"post_id":24946034,"comment_id":38769516,"body_markdown":"So let me rephrase: the JSON entity looks fine.  Are you sure that the output stream isn&#39;t buffering and sending across only a bit of data?  (Although where it&#39;s getting &quot;empty&quot; from is beyond me.)  Have you examined the network traffic to see if that&#39;s exactly what it&#39;s sending across?","body":"So let me rephrase: the JSON entity looks fine.  Are you sure that the output stream isn&#39;t buffering and sending across only a bit of data?  (Although where it&#39;s getting &quot;empty&quot; from is beyond me.)  Have you examined the network traffic to see if that&#39;s exactly what it&#39;s sending across?"},{"owner":{"account_id":1218251,"reputation":14573,"user_id":1185422,"accept_rate":62,"display_name":"Ahmed"},"score":0,"creation_date":1406247960,"post_id":24946034,"comment_id":38769549,"body_markdown":"regardless of network, json.toString() returns {&quot;empty&quot;:false} which it should not. I think the library has some issue or I am not using the JSONObject constructor correctly","body":"regardless of network, json.toString() returns {&quot;empty&quot;:false} which it should not. I think the library has some issue or I am not using the JSONObject constructor correctly"},{"owner":{"account_id":1082858,"reputation":104688,"user_id":1079354,"accept_rate":93,"display_name":"Makoto"},"score":1,"creation_date":1406248159,"post_id":24946034,"comment_id":38769603,"body_markdown":"I think your library has a problem, then.  I&#39;m using the latest `org.json.JSONObject` [from Maven](http://mvnrepository.com/artifact/org.json/json).  I&#39;m not seeing the same problem that you are.","body":"I think your library has a problem, then.  I&#39;m using the latest <code>org.json.JSONObject</code> <a href=\"http://mvnrepository.com/artifact/org.json/json\" rel=\"nofollow noreferrer\">from Maven</a>.  I&#39;m not seeing the same problem that you are."},{"owner":{"account_id":1218251,"reputation":14573,"user_id":1185422,"accept_rate":62,"display_name":"Ahmed"},"score":0,"creation_date":1406249036,"post_id":24946034,"comment_id":38769834,"body_markdown":"Thanks @Makoto the jar from the Maven link you gave works fine. It was issue with the code from where I downloaded earlier..","body":"Thanks @Makoto the jar from the Maven link you gave works fine. It was issue with the code from where I downloaded earlier.."}],"answers":[{"tags":[],"owner":{"account_id":1716961,"reputation":9711,"user_id":1573835,"accept_rate":49,"display_name":"Zaw Than oo"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1406256024,"creation_date":1406256024,"answer_id":24947205,"question_id":24946034,"body_markdown":"Map to Json, Json to Map? I use `Gson` lib. There is no problem.\r\n\t\t\r\n\t\t\r\nMap to Json String\r\n\t\r\n\tGson gson = new GsonBuilder().setPrettyPrinting().create();\r\n\tMap&lt;String, String&gt; map = new HashMap&lt;String, String&gt;();\r\n\tmap.put(&quot;111&quot;, &quot;AAAAA&quot;);\r\n\tmap.put(&quot;222&quot;, &quot;BBBBB&quot;);\r\n\tString mapString = gson.toJson(map);\r\n\tSystem.out.println(mapString);\r\n\r\nOutput\r\n\t\r\n\t{\r\n\t  &quot;222&quot;: &quot;BBBBB&quot;,\r\n\t  &quot;111&quot;: &quot;AAAAA&quot;\r\n\t}\r\n        \r\n\r\nJson String to Map\r\n\t\r\n\tGson gson = new GsonBuilder().setPrettyPrinting().create();\r\n\tString mapString  = &quot;{\\&quot;222\\&quot;: \\&quot;BBBBB\\&quot;,\\&quot;111\\&quot;: \\&quot;AAAAA\\&quot;}&quot;;\r\n\tMap&lt;String, String&gt; map = gson.fromJson(mapString, Map.class);\r\n\tSystem.out.println(map.get(&quot;111&quot;));\r\n\r\nOutput\t\t\r\n\r\n\tAAAAA","title":"json map to string failure in java","body":"<p>Map to Json, Json to Map? I use <code>Gson</code> lib. There is no problem.</p>\n\n<p>Map to Json String</p>\n\n<pre><code>Gson gson = new GsonBuilder().setPrettyPrinting().create();\nMap&lt;String, String&gt; map = new HashMap&lt;String, String&gt;();\nmap.put(\"111\", \"AAAAA\");\nmap.put(\"222\", \"BBBBB\");\nString mapString = gson.toJson(map);\nSystem.out.println(mapString);\n</code></pre>\n\n<p>Output</p>\n\n<pre><code>{\n  \"222\": \"BBBBB\",\n  \"111\": \"AAAAA\"\n}\n</code></pre>\n\n<p>Json String to Map</p>\n\n<pre><code>Gson gson = new GsonBuilder().setPrettyPrinting().create();\nString mapString  = \"{\\\"222\\\": \\\"BBBBB\\\",\\\"111\\\": \\\"AAAAA\\\"}\";\nMap&lt;String, String&gt; map = gson.fromJson(mapString, Map.class);\nSystem.out.println(map.get(\"111\"));\n</code></pre>\n\n<p>Output      </p>\n\n<pre><code>AAAAA\n</code></pre>\n"},{"tags":[],"owner":{"account_id":40774,"reputation":28739,"user_id":118228,"accept_rate":85,"display_name":"djangofan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697068672,"creation_date":1697068672,"answer_id":77276963,"question_id":24946034,"body_markdown":"I wouldn&#39;t recommend you doing it the way you are doing it.  I created an example project that shows how to do it with Map&lt;String, Object&gt; rather than Map&lt;String, String&gt; .\r\n\r\nhttps://github.com/djangofan/json-serialization-jackson-example/blob/main/src/test/java/com/example/TestObjectsTest.java\r\n\r\nIn that example:\r\n\r\n      ....\r\n      private static final ObjectMapper MAPPER = new ObjectMapper();\r\n      .....\r\n      @Test\r\n      void testDeserialization() {\r\n        Map&lt;String, Object&gt; linkedHashMap = new LinkedHashMap&lt;&gt;();\r\n        linkedHashMap.put(&quot;foo&quot;, &quot;bar&quot;);\r\n        linkedHashMap.put(&quot;bar&quot;, &quot;foo&quot;);\r\n    \r\n        TestObjects.Bar bar = TestObjects.Bar.builder()\r\n            .id(3)\r\n            .description(&quot;bar description&quot;)\r\n            .stringBoolean(&quot;false&quot;)\r\n            .nestedMap(linkedHashMap)\r\n            .build();\r\n        TestObjects.Foo foo = TestObjects.Foo.builder()\r\n            .id(1)\r\n            .description(&quot;foo description&quot;)\r\n            .primitiveBoolean(false)\r\n            .bar(bar)\r\n            .build();\r\n    \r\n        String serialized = null;\r\n        try {\r\n          serialized = MAPPER.writeValueAsString(foo);\r\n        } catch (JsonProcessingException e) {\r\n          throw new RuntimeException(e);\r\n        }\r\n    \r\n        assertTrue(serialized.contains(&quot;foo description&quot;));\r\n        try {\r\n          TestObjects.Foo foo1 = MAPPER.readValue(serialized, TestObjects.Foo.class);\r\n          TestObjects.Bar bar1 = foo1.getBar();\r\n    \r\n          assertEquals(bar1.id, 3);\r\n        } catch (JsonProcessingException e) {\r\n          throw new RuntimeException(e);\r\n        }\r\n    \r\n      }","title":"json map to string failure in java","body":"<p>I wouldn't recommend you doing it the way you are doing it.  I created an example project that shows how to do it with Map&lt;String, Object&gt; rather than Map&lt;String, String&gt; .</p>\n<p><a href=\"https://github.com/djangofan/json-serialization-jackson-example/blob/main/src/test/java/com/example/TestObjectsTest.java\" rel=\"nofollow noreferrer\">https://github.com/djangofan/json-serialization-jackson-example/blob/main/src/test/java/com/example/TestObjectsTest.java</a></p>\n<p>In that example:</p>\n<pre><code>  ....\n  private static final ObjectMapper MAPPER = new ObjectMapper();\n  .....\n  @Test\n  void testDeserialization() {\n    Map&lt;String, Object&gt; linkedHashMap = new LinkedHashMap&lt;&gt;();\n    linkedHashMap.put(&quot;foo&quot;, &quot;bar&quot;);\n    linkedHashMap.put(&quot;bar&quot;, &quot;foo&quot;);\n\n    TestObjects.Bar bar = TestObjects.Bar.builder()\n        .id(3)\n        .description(&quot;bar description&quot;)\n        .stringBoolean(&quot;false&quot;)\n        .nestedMap(linkedHashMap)\n        .build();\n    TestObjects.Foo foo = TestObjects.Foo.builder()\n        .id(1)\n        .description(&quot;foo description&quot;)\n        .primitiveBoolean(false)\n        .bar(bar)\n        .build();\n\n    String serialized = null;\n    try {\n      serialized = MAPPER.writeValueAsString(foo);\n    } catch (JsonProcessingException e) {\n      throw new RuntimeException(e);\n    }\n\n    assertTrue(serialized.contains(&quot;foo description&quot;));\n    try {\n      TestObjects.Foo foo1 = MAPPER.readValue(serialized, TestObjects.Foo.class);\n      TestObjects.Bar bar1 = foo1.getBar();\n\n      assertEquals(bar1.id, 3);\n    } catch (JsonProcessingException e) {\n      throw new RuntimeException(e);\n    }\n\n  }\n</code></pre>\n"}],"owner":{"account_id":1218251,"reputation":14573,"user_id":1185422,"accept_rate":62,"display_name":"Ahmed"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":158,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1697068672,"creation_date":1406247020,"question_id":24946034,"body_markdown":"In java I am trying to convert a Map&lt;String,String&gt; to json string. using code below\r\n\r\n\r\n    private void sendResponse(Map&lt;String, String&gt; responseMap) throws IOException\r\n\t{\r\n\t\t\r\n\t\tPrintStream ps = new PrintStream(clientSocket.getOutputStream());\t\r\n\t\tJSONObject json = new JSONObject(responseMap);\r\n\t\tps.println(json.toString());\t\t\r\n\r\n\t}\r\n\r\nThe variable \r\n\r\n    json results in {&quot;empty&quot;:false}  the map contains valid keyvalue pairs.\r\n\r\nThe map contains values like this\r\n\r\n     \r\n\t\t\tresponseMap.put(&quot;response&quot;, &quot;ok&quot;);\r\n\t\t\tresponseMap.put(&quot;versionname&quot;, &quot;dummy&quot;);\r\n\t\t\tresponseMap.put(&quot;versioncode&quot;, &quot;dummy&quot;);\r\n\t\t\tresponseMap.put(&quot;package&quot;,&quot;dummy&quot;);\t\r\n\t\t\tresponseMap.put(&quot;deviceid&quot;, &quot;unknown&quot;);\r\n\t\t\tresponseMap.put(&quot;devicename&quot;, &quot;dummy&quot;);\t\r\n\t\t\tresponseMap.put(&quot;synclocation&quot;, null);\r\n\t\t\tresponseMap.put(&quot;extra&quot;, &quot;&quot;);\r\n\r\nThe code I am using comes from https://github.com/douglascrockford/JSON-java\r\n\r\nany ideas why its not working \r\n?","title":"json map to string failure in java","body":"<p>In java I am trying to convert a Map to json string. using code below</p>\n\n<pre><code>private void sendResponse(Map&lt;String, String&gt; responseMap) throws IOException\n{\n\n    PrintStream ps = new PrintStream(clientSocket.getOutputStream());   \n    JSONObject json = new JSONObject(responseMap);\n    ps.println(json.toString());        \n\n}\n</code></pre>\n\n<p>The variable </p>\n\n<pre><code>json results in {\"empty\":false}  the map contains valid keyvalue pairs.\n</code></pre>\n\n<p>The map contains values like this</p>\n\n<pre><code>        responseMap.put(\"response\", \"ok\");\n        responseMap.put(\"versionname\", \"dummy\");\n        responseMap.put(\"versioncode\", \"dummy\");\n        responseMap.put(\"package\",\"dummy\"); \n        responseMap.put(\"deviceid\", \"unknown\");\n        responseMap.put(\"devicename\", \"dummy\"); \n        responseMap.put(\"synclocation\", null);\n        responseMap.put(\"extra\", \"\");\n</code></pre>\n\n<p>The code I am using comes from <a href=\"https://github.com/douglascrockford/JSON-java\" rel=\"nofollow\">https://github.com/douglascrockford/JSON-java</a></p>\n\n<p>any ideas why its not working \n?</p>\n"},{"tags":["java","openapi","openapi-generator","openapi-generator-cli"],"comments":[{"owner":{"account_id":1684984,"reputation":27030,"user_id":1548468,"display_name":"Botje"},"score":2,"creation_date":1697061391,"post_id":77276565,"comment_id":136233680,"body_markdown":"You will have to ask whoever added `object`, `file` and `list` to the [reserved words list for the Java generator](https://openapi-generator.tech/docs/generators/java/#reserved-words)","body":"You will have to ask whoever added <code>object</code>, <code>file</code> and <code>list</code> to the <a href=\"https://openapi-generator.tech/docs/generators/java/#reserved-words\" rel=\"nofollow noreferrer\">reserved words list for the Java generator</a>"},{"owner":{"account_id":93689,"reputation":415951,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1697061829,"post_id":77276565,"comment_id":136233727,"body_markdown":"Could be so every name can be legal, including names starting with numbers. `9foo` (illegal java identifier) becomes `_9foo` (legal java identifier).","body":"Could be so every name can be legal, including names starting with numbers. <code>9foo</code> (illegal java identifier) becomes <code>_9foo</code> (legal java identifier)."},{"owner":{"account_id":6077817,"reputation":1213,"user_id":4744568,"display_name":"pcalkins"},"score":0,"creation_date":1697062089,"post_id":77276565,"comment_id":136233761,"body_markdown":"Object, List, and File are already defined in Java Platform.","body":"Object, List, and File are already defined in Java Platform."},{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":0,"creation_date":1697068173,"post_id":77276565,"comment_id":136234291,"body_markdown":"@pcalkins But are different than object, list, and file. By that argument any existing JDK class could exhibit the same behavior.","body":"@pcalkins But are different than object, list, and file. By that argument any existing JDK class could exhibit the same behavior."}],"answers":[{"tags":[],"owner":{"account_id":22258428,"reputation":51,"user_id":16490250,"display_name":"booniepepper"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1697068040,"creation_date":1697067693,"answer_id":77276922,"question_id":77276565,"body_markdown":"It&#39;s a &quot;reserved word&quot; for OpenAPI generator&#39;s Java processor. ([docs](https://openapi-generator.tech/docs/generators/java/#reserved-words), [code](https://github.com/OpenAPITools/openapi-generator/blob/2cfce7cd2d54f42f0d64bc96c87829a2f99f58ce/modules/openapi-generator/src/main/java/org/openapitools/codegen/languages/AbstractJavaCodegen.java#L184)) Reserved words for Java that get processed by OpenAPI generator end up prefixing an underscore.\r\n\r\nAs far as I can tell, the only way to opt out of this is to either patch OpenAPI or do post-processing. (Maybe someone in comments can correct me, though)\r\n\r\n---\r\n\r\nWhile `object` is not a reserved keyword in Java as a language, it might be worth leaving as `_object` since it&#39;s a reserved keyword in other JVM languages.\r\n\r\n* In Kotlin, `object` is a keyword for an anonymous Object: https://kotlinlang.org/docs/object-declarations.html\r\n* In Scala, `object` is a keyword for Singleton instances: https://docs.scala-lang.org/scala3/book/taste-objects.html\r\n\r\nThose languages support bare words to get around the keyword limitation, so `myModelThing.`object`(etc)` could be valid, but it&#39;s a pain.\r\n\r\nWhile this might not be the reason it was added to OpenAPI generator&#39;s reserved words, it does mean that a client generated in Java (or derivative software) is more likely to be able to interact with other JVM languages, so unless you plan to also generate a Kotlin client and Scala client (and others?) it might be worth leaving it as-is.","title":"Why does OpenAPI generate Java members/methods with underscore prefixes?","body":"<p>It's a &quot;reserved word&quot; for OpenAPI generator's Java processor. (<a href=\"https://openapi-generator.tech/docs/generators/java/#reserved-words\" rel=\"nofollow noreferrer\">docs</a>, <a href=\"https://github.com/OpenAPITools/openapi-generator/blob/2cfce7cd2d54f42f0d64bc96c87829a2f99f58ce/modules/openapi-generator/src/main/java/org/openapitools/codegen/languages/AbstractJavaCodegen.java#L184\" rel=\"nofollow noreferrer\">code</a>) Reserved words for Java that get processed by OpenAPI generator end up prefixing an underscore.</p>\n<p>As far as I can tell, the only way to opt out of this is to either patch OpenAPI or do post-processing. (Maybe someone in comments can correct me, though)</p>\n<hr />\n<p>While <code>object</code> is not a reserved keyword in Java as a language, it might be worth leaving as <code>_object</code> since it's a reserved keyword in other JVM languages.</p>\n<ul>\n<li>In Kotlin, <code>object</code> is a keyword for an anonymous Object: <a href=\"https://kotlinlang.org/docs/object-declarations.html\" rel=\"nofollow noreferrer\">https://kotlinlang.org/docs/object-declarations.html</a></li>\n<li>In Scala, <code>object</code> is a keyword for Singleton instances: <a href=\"https://docs.scala-lang.org/scala3/book/taste-objects.html\" rel=\"nofollow noreferrer\">https://docs.scala-lang.org/scala3/book/taste-objects.html</a></li>\n</ul>\n<p>Those languages support bare words to get around the keyword limitation, so <code>myModelThing.</code>object<code>(etc)</code> could be valid, but it's a pain.</p>\n<p>While this might not be the reason it was added to OpenAPI generator's reserved words, it does mean that a client generated in Java (or derivative software) is more likely to be able to interact with other JVM languages, so unless you plan to also generate a Kotlin client and Scala client (and others?) it might be worth leaving it as-is.</p>\n"}],"owner":{"account_id":22258428,"reputation":51,"user_id":16490250,"display_name":"booniepepper"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":111,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":77276922,"answer_count":1,"score":2,"last_activity_date":1697068040,"creation_date":1697060978,"question_id":77276565,"body_markdown":"I have an OpenAPI model I&#39;m rendering in Java. In the context (of OpenFGA) there&#39;s a model for an &quot;object&quot;, as in, the object of a relationship. In any case it&#39;s called &quot;object&quot; in the model\r\n\r\nWhen I render the model, I end up with member variables and methods called `_object` instead.\r\n\r\nMember variables end up looking like:\r\n\r\n```\r\n    public static final String JSON_PROPERTY_OBJECT = &quot;object&quot;;\r\n    private String _object;\r\n```\r\n\r\n...and methods like:\r\n\r\n```\r\n    public TupleKey _object(String _object) {\r\n        this._object = _object;\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * Get _object\r\n     * @return _object\r\n     **/\r\n    @javax.annotation.Nullable\r\n    @JsonProperty(JSON_PROPERTY_OBJECT)\r\n    @JsonInclude(value = JsonInclude.Include.USE_DEFAULTS)\r\n    public String getObject() {\r\n        return _object;\r\n    }\r\n\r\n    @JsonProperty(JSON_PROPERTY_OBJECT)\r\n    @JsonInclude(value = JsonInclude.Include.USE_DEFAULTS)\r\n    public void setObject(String _object) {\r\n        this._object = _object;\r\n    }\r\n\r\n    public TupleKey relation(String relation) {\r\n        this.relation = relation;\r\n        return this;\r\n    }\r\n```\r\n\r\nWhy `_object`? If `object` is not a keyword in Java, we don&#39;t need a leading underscore, right? I see the same happen with `_list` and `_file` as well.","title":"Why does OpenAPI generate Java members/methods with underscore prefixes?","body":"<p>I have an OpenAPI model I'm rendering in Java. In the context (of OpenFGA) there's a model for an &quot;object&quot;, as in, the object of a relationship. In any case it's called &quot;object&quot; in the model</p>\n<p>When I render the model, I end up with member variables and methods called <code>_object</code> instead.</p>\n<p>Member variables end up looking like:</p>\n<pre><code>    public static final String JSON_PROPERTY_OBJECT = &quot;object&quot;;\n    private String _object;\n</code></pre>\n<p>...and methods like:</p>\n<pre><code>    public TupleKey _object(String _object) {\n        this._object = _object;\n        return this;\n    }\n\n    /**\n     * Get _object\n     * @return _object\n     **/\n    @javax.annotation.Nullable\n    @JsonProperty(JSON_PROPERTY_OBJECT)\n    @JsonInclude(value = JsonInclude.Include.USE_DEFAULTS)\n    public String getObject() {\n        return _object;\n    }\n\n    @JsonProperty(JSON_PROPERTY_OBJECT)\n    @JsonInclude(value = JsonInclude.Include.USE_DEFAULTS)\n    public void setObject(String _object) {\n        this._object = _object;\n    }\n\n    public TupleKey relation(String relation) {\n        this.relation = relation;\n        return this;\n    }\n</code></pre>\n<p>Why <code>_object</code>? If <code>object</code> is not a keyword in Java, we don't need a leading underscore, right? I see the same happen with <code>_list</code> and <code>_file</code> as well.</p>\n"},{"tags":["java","http","httpurlconnection","java-7"],"comments":[{"owner":{"account_id":113908,"reputation":3110,"user_id":299787,"display_name":"Redlab"},"score":0,"creation_date":1486133380,"post_id":42026770,"comment_id":71227766,"body_markdown":"Did you try the solution in http://stackoverflow.com/questions/25163131/httpurlconnection-invalid-http-method-patch that proposes to use HttpClient from httpcomponents? See also http://hc.apache.org/httpcomponents-client-ga/httpclient/apidocs/org/apache/http/client/methods/HttpPatch.html","body":"Did you try the solution in <a href=\"http://stackoverflow.com/questions/25163131/httpurlconnection-invalid-http-method-patch\" title=\"httpurlconnection invalid http method patch\">stackoverflow.com/questions/25163131/&hellip;</a> that proposes to use HttpClient from httpcomponents? See also <a href=\"http://hc.apache.org/httpcomponents-client-ga/httpclient/apidocs/org/apache/http/client/methods/HttpPatch.html\" rel=\"nofollow noreferrer\">hc.apache.org/httpcomponents-client-ga/httpclient/apidocs/or&zwnj;&#8203;g/&hellip;</a>"},{"owner":{"account_id":219684,"reputation":37267,"user_id":476716,"accept_rate":77,"display_name":"OrangeDog"},"score":5,"creation_date":1486133381,"post_id":42026770,"comment_id":71227769,"body_markdown":"`HttpURLConnection` just doesn&#39;t support `PATCH`. You&#39;ll have to use a different HTTP library.","body":"<code>HttpURLConnection</code> just doesn&#39;t support <code>PATCH</code>. You&#39;ll have to use a different HTTP library."},{"owner":{"account_id":6691354,"reputation":2410,"user_id":5160771,"accept_rate":80,"display_name":"lesnar"},"score":0,"creation_date":1486133547,"post_id":42026770,"comment_id":71227878,"body_markdown":"@Redlab yes i tried , i have also mentioned the same Post in my question.","body":"@Redlab yes i tried , i have also mentioned the same Post in my question."},{"owner":{"account_id":113908,"reputation":3110,"user_id":299787,"display_name":"Redlab"},"score":0,"creation_date":1486133994,"post_id":42026770,"comment_id":71228154,"body_markdown":"HttpPatch from httpcomponents would do the trick though....","body":"HttpPatch from httpcomponents would do the trick though...."}],"answers":[{"tags":[],"owner":{"account_id":6937456,"reputation":2312,"user_id":5324923,"display_name":"Dezso Gabos"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1543517289,"creation_date":1543517289,"answer_id":53545687,"question_id":42026770,"body_markdown":"An example of PATCH method with apache http client:\r\n\r\n        try {\r\n\t\t\r\n\t\t\t//This is just to avoid ssl hostname verification and to trust all, you can use simple Http client also\r\n            CloseableHttpClient httpClient = HttpClientBuilder.create().setSSLContext(new SSLContextBuilder().loadTrustMaterial(null, TrustAllStrategy.INSTANCE).build())\r\n                    .setSSLHostnameVerifier(NoopHostnameVerifier.INSTANCE).build();\r\n\r\n            HttpPatch request = new HttpPatch(REST_SERVICE_URL);\r\n            StringEntity params = new StringEntity(JSON.toJSONString(payload), ContentType.APPLICATION_JSON);\r\n            request.setEntity(params);\r\n\t\t\trequest.addHeader(org.apache.http.HttpHeaders.CONTENT_TYPE, MediaType.APPLICATION_JSON_VALUE);\r\n            request.addHeader(HttpHeaders.ACCEPT, MediaType.APPLICATION_JSON_VALUE);\r\n            request.addHeader(HttpHeaders.AUTHORIZATION, OAuth2AccessToken.BEARER_TYPE + &quot; &quot; + accessToken);\r\n            HttpResponse response =     httpClient.execute(request);            \r\n\t\t\t\r\n\t\t\tString statusCode = response.getStatusLine().getStatusCode();\r\n            \r\n        } catch (Exception ex) {\r\n            // handle exception here\r\n        }\r\n\t\t\r\n\t\t\r\nEquivalent example with RestTemplate:\r\n\t\t\r\n\t\tHttpHeaders headers = new HttpHeaders();\r\n\t\theaders.setContentType(MediaType.APPLICATION_JSON);\r\n        headers.add(&quot;Authorization&quot;, OAuth2AccessToken.BEARER_TYPE + &quot; &quot; + accessToken);\r\n        final HttpEntity&lt;String&gt; entity = new HttpEntity&lt;String&gt;(JSON.toJSONString(payload), headers);\r\n        RestTemplate restTemplate = new RestTemplate();\r\n        try {\r\n            ResponseEntity&lt;String&gt; response = restTemplate.exchange(REST_SERVICE_URL, HttpMethod.PATCH, entity, String.class);\r\n            String statusCode =  response.getStatusCode();\r\n        } catch (HttpClientErrorException e) {\r\n            // handle exception here\r\n\t\t}","title":"Invalid HTTP method: PATCH","body":"<p>An example of PATCH method with apache http client:</p>\n\n<pre><code>    try {\n\n        //This is just to avoid ssl hostname verification and to trust all, you can use simple Http client also\n        CloseableHttpClient httpClient = HttpClientBuilder.create().setSSLContext(new SSLContextBuilder().loadTrustMaterial(null, TrustAllStrategy.INSTANCE).build())\n                .setSSLHostnameVerifier(NoopHostnameVerifier.INSTANCE).build();\n\n        HttpPatch request = new HttpPatch(REST_SERVICE_URL);\n        StringEntity params = new StringEntity(JSON.toJSONString(payload), ContentType.APPLICATION_JSON);\n        request.setEntity(params);\n        request.addHeader(org.apache.http.HttpHeaders.CONTENT_TYPE, MediaType.APPLICATION_JSON_VALUE);\n        request.addHeader(HttpHeaders.ACCEPT, MediaType.APPLICATION_JSON_VALUE);\n        request.addHeader(HttpHeaders.AUTHORIZATION, OAuth2AccessToken.BEARER_TYPE + \" \" + accessToken);\n        HttpResponse response =     httpClient.execute(request);            \n\n        String statusCode = response.getStatusLine().getStatusCode();\n\n    } catch (Exception ex) {\n        // handle exception here\n    }\n</code></pre>\n\n<p>Equivalent example with RestTemplate:</p>\n\n<pre><code>    HttpHeaders headers = new HttpHeaders();\n    headers.setContentType(MediaType.APPLICATION_JSON);\n    headers.add(\"Authorization\", OAuth2AccessToken.BEARER_TYPE + \" \" + accessToken);\n    final HttpEntity&lt;String&gt; entity = new HttpEntity&lt;String&gt;(JSON.toJSONString(payload), headers);\n    RestTemplate restTemplate = new RestTemplate();\n    try {\n        ResponseEntity&lt;String&gt; response = restTemplate.exchange(REST_SERVICE_URL, HttpMethod.PATCH, entity, String.class);\n        String statusCode =  response.getStatusCode();\n    } catch (HttpClientErrorException e) {\n        // handle exception here\n    }\n</code></pre>\n"}],"owner":{"account_id":6691354,"reputation":2410,"user_id":5160771,"accept_rate":80,"display_name":"lesnar"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":14449,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1697065736,"creation_date":1486132907,"question_id":42026770,"body_markdown":"After trying other solutions from https://stackoverflow.com/questions/25163131/httpurlconnection-invalid-http-method-patch\r\n\r\nI am getting Invalid HTTP Method: PATCH Exception with JAVA 7.\r\nUpdating JAVA is not in option so i have to stick to the workarounds.\r\n\r\nI am using Invocation to invoke the request like this\r\n\r\n\tInvocation invoke = reqBuilder.build(getHTTPVerb(), Entity.entity(requestJSON, MediaType.APPLICATION_JSON));\r\n\tgetWebTarget().request(MediaType.APPLICATION_JSON).header(&quot;Authorization&quot;, getAuthorization()).accept(MediaType.APPLICATION_JSON);\r\n\r\n`getHTTPVerb()` returns String &quot;POST&quot; or &quot;PATCH&quot;.\r\n\r\nWith PATCH method I am having problem.\r\n\r\nIn the mentioned question, i have not tried one solution with:\r\n\r\n    conn.setRequestProperty(&quot;X-HTTP-Method-Override&quot;, &quot;PATCH&quot;);\r\n    conn.setRequestMethod(&quot;POST&quot;);\r\n\r\n`conn` is `HttpURLConnection`  instance.\r\n\r\nBut I am not sure how I can get `HttpURLConnection` from Invocation class or any property.\r\n\r\n\r\nAny pointers or help would be highly appreciated.","title":"Invalid HTTP method: PATCH","body":"<p>After trying other solutions from <a href=\"https://stackoverflow.com/questions/25163131/httpurlconnection-invalid-http-method-patch\">HttpURLConnection Invalid HTTP method: PATCH</a></p>\n<p>I am getting Invalid HTTP Method: PATCH Exception with JAVA 7.\nUpdating JAVA is not in option so i have to stick to the workarounds.</p>\n<p>I am using Invocation to invoke the request like this</p>\n<pre><code>Invocation invoke = reqBuilder.build(getHTTPVerb(), Entity.entity(requestJSON, MediaType.APPLICATION_JSON));\ngetWebTarget().request(MediaType.APPLICATION_JSON).header(&quot;Authorization&quot;, getAuthorization()).accept(MediaType.APPLICATION_JSON);\n</code></pre>\n<p><code>getHTTPVerb()</code> returns String &quot;POST&quot; or &quot;PATCH&quot;.</p>\n<p>With PATCH method I am having problem.</p>\n<p>In the mentioned question, i have not tried one solution with:</p>\n<pre><code>conn.setRequestProperty(&quot;X-HTTP-Method-Override&quot;, &quot;PATCH&quot;);\nconn.setRequestMethod(&quot;POST&quot;);\n</code></pre>\n<p><code>conn</code> is <code>HttpURLConnection</code>  instance.</p>\n<p>But I am not sure how I can get <code>HttpURLConnection</code> from Invocation class or any property.</p>\n<p>Any pointers or help would be highly appreciated.</p>\n"},{"tags":["java","kotlin","android-studio"],"owner":{"account_id":21981644,"reputation":107,"user_id":16256588,"display_name":"Michael Debo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697065545,"creation_date":1697065545,"question_id":77276806,"body_markdown":"I am trying to complete the Kotlin Koans course on Android Studio, but I cannot even begin because it is not accepting my version of java as valid. After I select my JDK, the error it gives me is: &quot;Failed to determine Java version from string: Oracle OpenJDK version 21. In the settings section, choose or download another JDK.&quot;. When I allow Android Studio to download another JDK, it gives me the same error. I downloaded the newest version of both Android Studio and JDK earlier today. Is there any way to resolve this?","title":"Android Studio not recognizing Java Version when attempting a course","body":"<p>I am trying to complete the Kotlin Koans course on Android Studio, but I cannot even begin because it is not accepting my version of java as valid. After I select my JDK, the error it gives me is: &quot;Failed to determine Java version from string: Oracle OpenJDK version 21. In the settings section, choose or download another JDK.&quot;. When I allow Android Studio to download another JDK, it gives me the same error. I downloaded the newest version of both Android Studio and JDK earlier today. Is there any way to resolve this?</p>\n"},{"tags":["java","spring","spring-boot"],"owner":{"account_id":10652480,"reputation":818,"user_id":7842955,"accept_rate":59,"display_name":"BlueBoy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":82,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697065451,"creation_date":1697065451,"question_id":77276802,"body_markdown":"I&#39;m trying to use `server.error.include-message: on-param` in my `application.properties` file when calling: `throw new ResponseStatusException(HttpStatus.BAD_REQUEST, &quot;message&quot;)` but the message does not show. All other properties are set to their defaults. I also tried it as `on_param` but that did not work either.\r\n\r\nIf I use `server.error.include-message: always` then the message does show, but I want it only to show on-param though because that is more secure.\r\n\r\nCan anyone help me understand why on-pram does not work?\r\n\r\nI am using spring boot starter web 3.1.4.","title":"Spring Boot 3 - server.error.include-message: on-param not working","body":"<p>I'm trying to use <code>server.error.include-message: on-param</code> in my <code>application.properties</code> file when calling: <code>throw new ResponseStatusException(HttpStatus.BAD_REQUEST, &quot;message&quot;)</code> but the message does not show. All other properties are set to their defaults. I also tried it as <code>on_param</code> but that did not work either.</p>\n<p>If I use <code>server.error.include-message: always</code> then the message does show, but I want it only to show on-param though because that is more secure.</p>\n<p>Can anyone help me understand why on-pram does not work?</p>\n<p>I am using spring boot starter web 3.1.4.</p>\n"},{"tags":["java","linux"],"comments":[{"owner":{"account_id":1471892,"reputation":9718,"user_id":1383240,"accept_rate":38,"display_name":"NiVeR"},"score":0,"creation_date":1527941529,"post_id":50656788,"comment_id":88323535,"body_markdown":"Does the user with which you operate has the right to run the file.","body":"Does the user with which you operate has the right to run the file."},{"owner":{"account_id":1611562,"reputation":11552,"user_id":1490322,"accept_rate":71,"display_name":"Jose Martinez"},"score":2,"creation_date":1527941558,"post_id":50656788,"comment_id":88323547,"body_markdown":"What happens when you execute &#39;java -version&#39;?","body":"What happens when you execute &#39;java -version&#39;?"},{"owner":{"account_id":21994,"reputation":73808,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":2,"creation_date":1527941663,"post_id":50656788,"comment_id":88323572,"body_markdown":"Why do you run it as root?  And how did you install java?","body":"Why do you run it as root?  And how did you install java?"},{"owner":{"account_id":13699354,"reputation":1,"user_id":9885026,"display_name":"Emanuel Hongu"},"score":0,"creation_date":1527943803,"post_id":50656788,"comment_id":88324137,"body_markdown":"@GonzaloMatheu and how can I enable that permission? I am thinking of reinstalling java.","body":"@GonzaloMatheu and how can I enable that permission? I am thinking of reinstalling java."},{"owner":{"account_id":44682,"reputation":9837,"user_id":131264,"accept_rate":100,"display_name":"Alexander"},"score":1,"creation_date":1527961148,"post_id":50656788,"comment_id":88329034,"body_markdown":"Why are you not installing Java with your distros&#39;s package manager?","body":"Why are you not installing Java with your distros&#39;s package manager?"}],"answers":[{"comments":[{"owner":{"account_id":13699354,"reputation":1,"user_id":9885026,"display_name":"Emanuel Hongu"},"score":0,"creation_date":1527944052,"post_id":50657111,"comment_id":88324214,"body_markdown":"Done, permission denied, reinstalling java.","body":"Done, permission denied, reinstalling java."},{"owner":{"account_id":246243,"reputation":9164,"user_id":520275,"accept_rate":83,"display_name":"Gonzalo Matheu"},"score":0,"creation_date":1527944173,"post_id":50657111,"comment_id":88324247,"body_markdown":"Execute it with root permissions.","body":"Execute it with root permissions."},{"owner":{"account_id":13699354,"reputation":1,"user_id":9885026,"display_name":"Emanuel Hongu"},"score":0,"creation_date":1527944549,"post_id":50657111,"comment_id":88324352,"body_markdown":"Reinstalled java, executed everything with root permissions, &quot;Permission denied&quot;","body":"Reinstalled java, executed everything with root permissions, &quot;Permission denied&quot;"},{"owner":{"account_id":13699354,"reputation":1,"user_id":9885026,"display_name":"Emanuel Hongu"},"score":1,"creation_date":1527947008,"post_id":50657111,"comment_id":88325013,"body_markdown":"I tried using taz package manager, it says &quot;failed&quot; after the &quot;Installing package&quot; step.  I guess it is not compatible.","body":"I tried using taz package manager, it says &quot;failed&quot; after the &quot;Installing package&quot; step.  I guess it is not compatible."},{"owner":{"account_id":9262092,"reputation":451,"user_id":6917520,"display_name":"ayunami2000"},"score":0,"creation_date":1610482388,"post_id":50657111,"comment_id":116146543,"body_markdown":"@EmanuelHongu same here it seems to be specific to slitaz","body":"@EmanuelHongu same here it seems to be specific to slitaz"}],"tags":[],"owner":{"account_id":246243,"reputation":9164,"user_id":520275,"accept_rate":83,"display_name":"Gonzalo Matheu"},"comment_count":5,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1527944209,"creation_date":1527943927,"answer_id":50657111,"question_id":50656788,"body_markdown":"It seeem that **java** binary does not have execution permission.  Executing **chmod a+x /usr/bin/java/jre-8u171-i586/bin/java** might solve the issue.\r\n\r\nBut it something wrong about how you installed java. I would try to install it using the [package manager][1].\n\n\n  [1]: http://doc.slitaz.org/en:handbook:packages","title":"sh: java: permission denied tryinng to execute .jar file","body":"<p>It seeem that <strong>java</strong> binary does not have execution permission.  Executing <strong>chmod a+x /usr/bin/java/jre-8u171-i586/bin/java</strong> might solve the issue.</p>\n\n<p>But it something wrong about how you installed java. I would try to install it using the <a href=\"http://doc.slitaz.org/en:handbook:packages\" rel=\"nofollow noreferrer\">package manager</a>.</p>\n"}],"owner":{"account_id":13699354,"reputation":1,"user_id":9885026,"display_name":"Emanuel Hongu"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":10339,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1697061705,"creation_date":1527941427,"question_id":50656788,"body_markdown":"My OS: SLiTaz 32 bits, last version.\nI installed java in /usr/bin/java/jre-8u171-i586\n\nI run the terminal as root, cd to where my executable jar file is, and type:\n\n# java -jar desktop-1.7.2a-1.jar\n\nI get:\n\nsh: java: Permission denied\n\nWhat is the cause of this and how can I execute my .jar file? \n\nAlso know that this file is a game, more specifically &quot;Pixel Dungeon&quot;.\n\nEdit: when I execute java -version, it again says permission denied. I must say that to execute these commands, I run the terminal as my own user, Flavius, then do su, enter password and from there I execute all commands.\n\nEdit2: To install java I uncompressed the tar.gz file I got from the official java site using a website, because I didn&#39;t know how to uncompress it by commands, then I moved java files to /usr/bin and then I tried just double clicking the .jar file to execute it, but it asked what program to use to execute .jar files, and I didn&#39;t know how to fin java in that menu so I tried using commands...\n\n","title":"sh: java: permission denied tryinng to execute .jar file","body":"<p>My OS: SLiTaz 32 bits, last version.\nI installed java in /usr/bin/java/jre-8u171-i586</p>\n<p>I run the terminal as root, cd to where my executable jar file is, and type:</p>\n<h1>java -jar desktop-1.7.2a-1.jar</h1>\n<p>I get:</p>\n<p>sh: java: Permission denied</p>\n<p>What is the cause of this and how can I execute my .jar file?</p>\n<p>Also know that this file is a game, more specifically &quot;Pixel Dungeon&quot;.</p>\n<p>Edit: when I execute java -version, it again says permission denied. I must say that to execute these commands, I run the terminal as my own user, Flavius, then do su, enter password and from there I execute all commands.</p>\n<p>Edit2: To install java I uncompressed the tar.gz file I got from the official java site using a website, because I didn't know how to uncompress it by commands, then I moved java files to /usr/bin and then I tried just double clicking the .jar file to execute it, but it asked what program to use to execute .jar files, and I didn't know how to fin java in that menu so I tried using commands...</p>\n"},{"tags":["java","excel","servlets"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1469769284,"post_id":38650925,"comment_id":64683843,"body_markdown":"Think the Content is wrong try this solution: http://stackoverflow.com/questions/2937465/what-is-correct-content-type-for-excel-files","body":"Think the Content is wrong try this solution: <a href=\"http://stackoverflow.com/questions/2937465/what-is-correct-content-type-for-excel-files\" title=\"what is correct content type for excel files\">stackoverflow.com/questions/2937465/&hellip;</a>"},{"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"score":0,"creation_date":1469770408,"post_id":38650925,"comment_id":64684216,"body_markdown":"`response.setContentType(&quot;application/vnd.ms-excel&quot;)`, then `response.setContentType(&quot;application/octet-stream&quot;)`. Make up your mind. I suggest your mind stick with the first one.","body":"<code>response.setContentType(&quot;application&#47;vnd.ms-excel&quot;)</code>, then <code>response.setContentType(&quot;application&#47;octet-stream&quot;)</code>. Make up your mind. I suggest your mind stick with the first one."},{"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"score":0,"creation_date":1469770458,"post_id":38650925,"comment_id":64684235,"body_markdown":"`response.setHeader(&quot;Content-Disposition&quot;, &quot;attachment...`, then `response.setHeader(&quot;Content-Disposition&quot;,&quot;inline...`. Make up your mind.","body":"<code>response.setHeader(&quot;Content-Disposition&quot;, &quot;attachment...</code>, then <code>response.setHeader(&quot;Content-Disposition&quot;,&quot;inline...</code>. Make up your mind."}],"answers":[{"comments":[{"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"score":0,"creation_date":1469770553,"post_id":38651088,"comment_id":64684264,"body_markdown":"OP should also decide on a Content-Type and a Content-Disposition, instead of setting both twice. --- Using try-with-resources would also be a good suggestion.","body":"OP should also decide on a Content-Type and a Content-Disposition, instead of setting both twice. --- Using try-with-resources would also be a good suggestion."},{"owner":{"account_id":956558,"reputation":30924,"user_id":981744,"display_name":"Erwin Bolwidt"},"score":0,"creation_date":1469770726,"post_id":38651088,"comment_id":64684325,"body_markdown":"@Andreas Agree. Also the OP should do a lot more to clean up this code. It&#39;s very inefficient as well. At least it looks like he got *some* file downloaded, just that the file was corrupt.","body":"@Andreas Agree. Also the OP should do a lot more to clean up this code. It&#39;s very inefficient as well. At least it looks like he got <i>some</i> file downloaded, just that the file was corrupt."}],"tags":[],"owner":{"account_id":956558,"reputation":30924,"user_id":981744,"display_name":"Erwin Bolwidt"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1469770419,"creation_date":1469770069,"answer_id":38651088,"question_id":38650925,"body_markdown":"Replace this line:\r\n\r\n    PrintWriter out = response.getWriter();\r\n\r\nwith this line:\r\n\r\n    OutputStream out = response.getOutputStream();\r\n\r\nYou&#39;re reading a byte from an InputStream and you should be writing a byte to an OutputStream again to copy it. Right now your byte is sent as a character to a PrintWriter which is wrong.\r\n\r\nAnd remove this line:\r\n\r\n    System.out.println(&quot;Buffer Reader length :&quot;+fileInputStream.read());\r\n\r\nThis line is reading the first byte from the file and throwing it away, and as a result the downloaded file is missing its first byte.\r\n","title":"Excel Downloading in JAVA servlet giving error file is not matching","body":"<p>Replace this line:</p>\n\n<pre><code>PrintWriter out = response.getWriter();\n</code></pre>\n\n<p>with this line:</p>\n\n<pre><code>OutputStream out = response.getOutputStream();\n</code></pre>\n\n<p>You're reading a byte from an InputStream and you should be writing a byte to an OutputStream again to copy it. Right now your byte is sent as a character to a PrintWriter which is wrong.</p>\n\n<p>And remove this line:</p>\n\n<pre><code>System.out.println(\"Buffer Reader length :\"+fileInputStream.read());\n</code></pre>\n\n<p>This line is reading the first byte from the file and throwing it away, and as a result the downloaded file is missing its first byte.</p>\n"},{"tags":[],"owner":{"account_id":26613352,"reputation":11,"user_id":20233210,"display_name":"Anju"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1697061288,"creation_date":1697061288,"answer_id":77276592,"question_id":38650925,"body_markdown":"I faced same issue few days back, and it got resolved after adding `&lt;nonFilteredFileExtensions&gt;` in maven dependency as below:\r\n\r\n```\r\n&lt;plugin&gt;\r\n\t&lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\r\n\t&lt;version&gt;3.3.1&lt;/version&gt;\r\n\t&lt;configuration&gt;\r\n\t\t&lt;encoding&gt;UTF-8&lt;/encoding&gt;\r\n\t\t&lt;nonFilteredFileExtensions&gt;\r\n\t\t\t&lt;nonFilteredFileExtension&gt;xls&lt;/nonFilteredFileExtension&gt;\r\n\t\t\t&lt;nonFilteredFileExtension&gt;xlsx&lt;/nonFilteredFileExtension&gt;\r\n\t\t&lt;/nonFilteredFileExtensions&gt;\r\n\t&lt;/configuration&gt;\r\n&lt;/plugin&gt;\r\n```\r\n\r\nThis will prevent binary files filtering.","title":"Excel Downloading in JAVA servlet giving error file is not matching","body":"<p>I faced same issue few days back, and it got resolved after adding <code>&lt;nonFilteredFileExtensions&gt;</code> in maven dependency as below:</p>\n<pre><code>&lt;plugin&gt;\n    &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\n    &lt;version&gt;3.3.1&lt;/version&gt;\n    &lt;configuration&gt;\n        &lt;encoding&gt;UTF-8&lt;/encoding&gt;\n        &lt;nonFilteredFileExtensions&gt;\n            &lt;nonFilteredFileExtension&gt;xls&lt;/nonFilteredFileExtension&gt;\n            &lt;nonFilteredFileExtension&gt;xlsx&lt;/nonFilteredFileExtension&gt;\n        &lt;/nonFilteredFileExtensions&gt;\n    &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>This will prevent binary files filtering.</p>\n"}],"owner":{"account_id":8816334,"reputation":17,"user_id":6587606,"display_name":"Shilpa"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1576,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1697061288,"creation_date":1469769117,"question_id":38650925,"body_markdown":"\r\n\t/**\r\n\t * @see HttpServlet#doGet(HttpServletRequest request, HttpServletResponse response)\r\n\t */\r\n\tprotected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\r\n\t\t// TODO Auto-generated method stub\r\n\t\tSystem.out.println(&quot;Hi inside download file :&quot;);\r\n\t\tresponse.setContentType(&quot;application/vnd.ms-excel&quot;);\r\n\t\tPrintWriter out = response.getWriter();\r\n\t\tString filename = &quot;ResetPassword.xlsx&quot;;\r\n\t\tInputStream is = null;\r\n\t\t//is = this.getClass().getClassLoader().getResourceAsStream(&quot;LoginConfigurations.xlsx&quot;);\r\n\t\t//System.out.println(&quot;InputStream :&quot;+is);\r\n\t\tString filepath = &quot;E:\\\\SPACE_OM_01.02\\\\SPACE-OM_1.0-V01.02\\\\WebContent\\\\Data\\\\&quot;;\r\n\t\tresponse.setContentType(&quot;application/octet-stream&quot;);\r\n\t\tresponse.setHeader(&quot;Content-Disposition&quot;, &quot;attachment; filename=\\&quot;&quot;\t+ filename + &quot;\\&quot;&quot;);\r\n\r\n\t\t// use inline if you want to view the content in browser, helpful for\r\n\t\t// pdf file\r\n\t\tresponse.setHeader(&quot;Content-Disposition&quot;,&quot;inline; filename=\\&quot;&quot; +filename + &quot;\\&quot;&quot;);\r\n\t\tFileInputStream fileInputStream = new FileInputStream(filepath+ filename);\r\n\t\t/*BufferedReader br = new BufferedReader(new InputStreamReader(is));\r\n\r\n\t\t\tint line;\r\n\t\t\tSystem.out.println(&quot;Buffer Reader length :&quot;+br.read());\r\n\t\t\tStringBuilder sb = new StringBuilder();\r\n\t\t\twhile ((line = br.read()) != -1) {\r\n\t\t\t\t//sb.append(line);\r\n\t\t\t\tout.write(line);\r\n\t\t\t}\r\n\t\t\tbr.close();*/\r\n\t\tint line;\r\n\t\tSystem.out.println(&quot;Buffer Reader length :&quot;+fileInputStream.read());\r\n\t\t//StringBuilder sb = new StringBuilder();\r\n\t\twhile ((line = fileInputStream.read()) != -1) {\r\n\t\t\t//sb.append(line);\r\n\t\t\tout.write(line);\r\n\t\t}\r\n\t\tfileInputStream.close();\r\n\t\tout.close();\r\n\t}\r\n\r\n\t/**\r\n\t * @see HttpServlet#doPost(HttpServletRequest request, HttpServletResponse response)\r\n\t */\r\n\tprotected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\r\n\t\t// TODO Auto-generated method stub\r\n\t\tdoGet(request, response);\r\n\t}\r\nI am trying to download the excel file with extension .xlsx using button click after clicking download button file is downloading when i am trying to open that download file its giving error like Excel file cannot open because the file format or file extensions is not valid. Please help me in solving this problem. Thanks in advance.","title":"Excel Downloading in JAVA servlet giving error file is not matching","body":"<pre><code>/**\n * @see HttpServlet#doGet(HttpServletRequest request, HttpServletResponse response)\n */\nprotected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\n    // TODO Auto-generated method stub\n    System.out.println(\"Hi inside download file :\");\n    response.setContentType(\"application/vnd.ms-excel\");\n    PrintWriter out = response.getWriter();\n    String filename = \"ResetPassword.xlsx\";\n    InputStream is = null;\n    //is = this.getClass().getClassLoader().getResourceAsStream(\"LoginConfigurations.xlsx\");\n    //System.out.println(\"InputStream :\"+is);\n    String filepath = \"E:\\\\SPACE_OM_01.02\\\\SPACE-OM_1.0-V01.02\\\\WebContent\\\\Data\\\\\";\n    response.setContentType(\"application/octet-stream\");\n    response.setHeader(\"Content-Disposition\", \"attachment; filename=\\\"\" + filename + \"\\\"\");\n\n    // use inline if you want to view the content in browser, helpful for\n    // pdf file\n    response.setHeader(\"Content-Disposition\",\"inline; filename=\\\"\" +filename + \"\\\"\");\n    FileInputStream fileInputStream = new FileInputStream(filepath+ filename);\n    /*BufferedReader br = new BufferedReader(new InputStreamReader(is));\n\n        int line;\n        System.out.println(\"Buffer Reader length :\"+br.read());\n        StringBuilder sb = new StringBuilder();\n        while ((line = br.read()) != -1) {\n            //sb.append(line);\n            out.write(line);\n        }\n        br.close();*/\n    int line;\n    System.out.println(\"Buffer Reader length :\"+fileInputStream.read());\n    //StringBuilder sb = new StringBuilder();\n    while ((line = fileInputStream.read()) != -1) {\n        //sb.append(line);\n        out.write(line);\n    }\n    fileInputStream.close();\n    out.close();\n}\n\n/**\n * @see HttpServlet#doPost(HttpServletRequest request, HttpServletResponse response)\n */\nprotected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\n    // TODO Auto-generated method stub\n    doGet(request, response);\n}\n</code></pre>\n\n<p>I am trying to download the excel file with extension .xlsx using button click after clicking download button file is downloading when i am trying to open that download file its giving error like Excel file cannot open because the file format or file extensions is not valid. Please help me in solving this problem. Thanks in advance.</p>\n"},{"tags":["java","regex","replace"],"comments":[{"owner":{"account_id":7089168,"reputation":157141,"user_id":5424988,"display_name":"The fourth bird"},"score":0,"creation_date":1545991982,"post_id":53956800,"comment_id":94751416,"body_markdown":"Did you try splitting on a `/`?","body":"Did you try splitting on a <code>&#47;</code>?"},{"owner":{"account_id":13580787,"reputation":115,"user_id":9796892,"display_name":"cuteBrick"},"score":0,"creation_date":1545992185,"post_id":53956800,"comment_id":94751485,"body_markdown":"Like this?`text.split(&quot;/&quot;)[0];`","body":"Like this?<code>text.split(&quot;&#47;&quot;)[0];</code>"},{"owner":{"account_id":121840,"reputation":36551,"user_id":315228,"accept_rate":100,"display_name":"SMA"},"score":0,"creation_date":1545992372,"post_id":53956800,"comment_id":94751557,"body_markdown":"Why would you want to replace? and why would you use `subSequence` instead of `substring` without making use of `toString()`?","body":"Why would you want to replace? and why would you use <code>subSequence</code> instead of <code>substring</code> without making use of <code>toString()</code>?"},{"owner":{"account_id":7089168,"reputation":157141,"user_id":5424988,"display_name":"The fourth bird"},"score":0,"creation_date":1545992862,"post_id":53956800,"comment_id":94751730,"body_markdown":"Yes, split on a `/` and then join the second and the third part again https://ideone.com/NHlFZn","body":"Yes, split on a <code>&#47;</code> and then join the second and the third part again <a href=\"https://ideone.com/NHlFZn\" rel=\"nofollow noreferrer\">ideone.com/NHlFZn</a>"},{"owner":{"account_id":97082,"reputation":375036,"user_id":263525,"accept_rate":85,"display_name":"Denys S&#233;guret"},"score":1,"creation_date":1545992965,"post_id":53956800,"comment_id":94751777,"body_markdown":"Using index and substring is fine (but cumbersome). But `split` ? That&#39;s just a lazy hack here.","body":"Using index and substring is fine (but cumbersome). But <code>split</code> ? That&#39;s just a lazy hack here."}],"answers":[{"tags":[],"owner":{"account_id":97082,"reputation":375036,"user_id":263525,"accept_rate":85,"display_name":"Denys S&#233;guret"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1545992205,"creation_date":1545992205,"answer_id":53956881,"question_id":53956800,"body_markdown":"`replace` doesn&#39;t take a regex as parameter but just tries to replace the passed char sequence.\r\n\r\nYou may use `replaceFirst`:\r\n\r\n     return text.replaceFirst(&quot;/.*&quot;, &quot;&quot;);\r\n\r\n(note that there&#39;s nothing to escape and no group is necessary)","title":"Regex to replace everything after a specific symbol? java","body":"<p><code>replace</code> doesn't take a regex as parameter but just tries to replace the passed char sequence.</p>\n\n<p>You may use <code>replaceFirst</code>:</p>\n\n<pre><code> return text.replaceFirst(\"/.*\", \"\");\n</code></pre>\n\n<p>(note that there's nothing to escape and no group is necessary)</p>\n"},{"tags":[],"owner":{"account_id":3618153,"reputation":367,"user_id":3017555,"display_name":"Ganesan Karuppasamy"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1545992485,"creation_date":1545992485,"answer_id":53956941,"question_id":53956800,"body_markdown":"You can try the below code it will replace after first slash,\r\n\r\n     text.replaceAll(&quot;\\\\/[^\\\\/].*&quot;, &quot;&quot;)","title":"Regex to replace everything after a specific symbol? java","body":"<p>You can try the below code it will replace after first slash,</p>\n\n<pre><code> text.replaceAll(\"\\\\/[^\\\\/].*\", \"\")\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6829777,"reputation":41,"user_id":5254266,"display_name":"Java Learner"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1545998428,"creation_date":1545998428,"answer_id":53958279,"question_id":53956800,"body_markdown":"replace will not work in this case use this .\r\n\r\n    return text.replaceAll(&quot;/.&quot;, &quot;&quot;);","title":"Regex to replace everything after a specific symbol? java","body":"<p>replace will not work in this case use this .</p>\n\n<pre><code>return text.replaceAll(\"/.\", \"\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1496502,"reputation":3708,"user_id":1402301,"accept_rate":68,"display_name":"coolcool1994"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697059224,"creation_date":1697059224,"answer_id":77276456,"question_id":53956800,"body_markdown":"In Kotlin you want something like `string.replace(&quot;/.*&quot;.toRegex(), &quot;&quot;)`","title":"Regex to replace everything after a specific symbol? java","body":"<p>In Kotlin you want something like <code>string.replace(&quot;/.*&quot;.toRegex(), &quot;&quot;)</code></p>\n"}],"owner":{"account_id":13580787,"reputation":115,"user_id":9796892,"display_name":"cuteBrick"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1340,"favorite_count":0,"down_vote_count":4,"up_vote_count":0,"accepted_answer_id":53956881,"answer_count":4,"score":-4,"last_activity_date":1697059224,"creation_date":1545991821,"question_id":53956800,"body_markdown":"I have a string in format like &quot;one / two / three&quot; and I need only the first one (before the first foreslash). I tried it like that: \r\n\r\n    if (text.contains(&quot;/&quot;)) {\r\n            int i = text.indexOf(&quot;/&quot;);\r\n            return text.subSequence(0, i).toString();\r\n        }\r\nThis solution works but I think it would be better to write simple `text.replace()` function.\r\nTried this regex `&quot;\\\\/(.*)&quot;` but it didn`t work.\r\n","title":"Regex to replace everything after a specific symbol? java","body":"<p>I have a string in format like \"one / two / three\" and I need only the first one (before the first foreslash). I tried it like that: </p>\n\n<pre><code>if (text.contains(\"/\")) {\n        int i = text.indexOf(\"/\");\n        return text.subSequence(0, i).toString();\n    }\n</code></pre>\n\n<p>This solution works but I think it would be better to write simple <code>text.replace()</code> function.\nTried this regex <code>\"\\\\/(.*)\"</code> but it didn`t work.</p>\n"},{"tags":["java","mysql","spring-boot","hibernate","jpa"],"owner":{"account_id":9016705,"reputation":950,"user_id":6719286,"display_name":"racerX"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697058786,"creation_date":1697058786,"question_id":77276431,"body_markdown":"I am working an a project with Spring JPA. In it, have a Person Entity:\r\n\r\n```\r\n@Data\r\n@Entity(name = &quot;person&quot;)\r\npublic class Person {\r\n  \r\n  @Id\r\n  private UUID id;\r\n  \r\n  @Column\r\n  private String firstName;\r\n\r\n  @Column\r\n  private String lastName;\r\n  \r\n  @ElementCollection(fetch = FetchType.EAGER)\r\n  @CollectionTable(name = &quot;cities_must&quot;, joinColumns = @JoinColumn(name = &quot;person_id&quot;))\r\n  @Column(name = &quot;city&quot;)\r\n  private Set&lt;String&gt; citiesMust;\r\n\r\n  @ElementCollection(fetch = FetchType.EAGER)\r\n  @CollectionTable(name = &quot;cities_optional&quot;, joinColumns = @JoinColumn(name = &quot;person_id&quot;))\r\n  @Column(name = &quot;city&quot;)\r\n  private Set&lt;String&gt; citiesOptional;\r\n\r\n  @Column\r\n  @CreationTimestamp\r\n  private Instant creationTimestamp;\r\n \r\n}\r\n```\r\n\r\nNow, in the Person repository, there already exists this derived query below:\r\n\r\nQUERY1:\r\n```\r\n    @EntityGraph(attributePaths = { &quot;citiesMust&quot;, &quot;citiesOptional&quot;})\r\n    List&lt;Person&gt; findDistinctByCitiesMustContainingAndCitiesOptionalNotContains(String mustCity, String optionalCity);\r\n```\r\n\r\nI now need to create a method in the repository where I need to, in additional to the above logic, group persons by their last name and return the latest person in the group based on creation timestamp. So, not knowing where to start I decided to first see what query hibernate was running for the above derived query, based on which I created the below:\r\n\r\nQUERY2:\r\n```\r\n@Query(\r\nvalue = &quot;&quot;&quot;\r\nselect distinct p1_0.id, p1_0.firstName, p1_0.lastName, p1_0.creation_timestamp, cm1_0.person_id, cm1_0.city, co1_0.person_id, co1_0.city\r\nfrom person p1_0\r\nleft join cities_must cm1_0 on p1_0.id = cm1_0.person_id\r\nleft join cities_optional co1_0 on p1_0.id = co1_0.person_id\r\nwhere ?1 in (select cm2_0.city from cities_must cm2_0 where p1_0.id=cm2_0.person_id)\r\n  and ?2 not in (select co2_0.city from cities_optional co2_0 where p1_0.id=co2_0.person_id)\r\n&quot;&quot;&quot;,\r\nnativeQuery = true\r\n)\r\nList&lt;Person&gt; testQuery(String mustCity, String optionalCity);\r\n```\r\n\r\nMy thought process was that I would simply create the above native query and add the following condition to the above at the end\r\n```\r\nand p1_0.creation_timestamp = (select max(creation_timestamp) from person where lastName = p1_0.lastName)\r\n```\r\n\r\nBut when I run QUERY2 above, hibernate gives the exception, &quot;Unable to evaluate the children renderer expression Method threw &#39;org.hibernate.LazyInitializationException&#39; exception.&quot;. I don&#39;t really know what to change here, because the QUERY2 that I created is based on the actual query hibernate is running against the db for the method in QUERY1.\r\nI want to be able to modify that to a custom query so I can add the additional logic and create the new query I require.","title":"JPA query with join to ElementCollection","body":"<p>I am working an a project with Spring JPA. In it, have a Person Entity:</p>\n<pre><code>@Data\n@Entity(name = &quot;person&quot;)\npublic class Person {\n  \n  @Id\n  private UUID id;\n  \n  @Column\n  private String firstName;\n\n  @Column\n  private String lastName;\n  \n  @ElementCollection(fetch = FetchType.EAGER)\n  @CollectionTable(name = &quot;cities_must&quot;, joinColumns = @JoinColumn(name = &quot;person_id&quot;))\n  @Column(name = &quot;city&quot;)\n  private Set&lt;String&gt; citiesMust;\n\n  @ElementCollection(fetch = FetchType.EAGER)\n  @CollectionTable(name = &quot;cities_optional&quot;, joinColumns = @JoinColumn(name = &quot;person_id&quot;))\n  @Column(name = &quot;city&quot;)\n  private Set&lt;String&gt; citiesOptional;\n\n  @Column\n  @CreationTimestamp\n  private Instant creationTimestamp;\n \n}\n</code></pre>\n<p>Now, in the Person repository, there already exists this derived query below:</p>\n<p>QUERY1:</p>\n<pre><code>    @EntityGraph(attributePaths = { &quot;citiesMust&quot;, &quot;citiesOptional&quot;})\n    List&lt;Person&gt; findDistinctByCitiesMustContainingAndCitiesOptionalNotContains(String mustCity, String optionalCity);\n</code></pre>\n<p>I now need to create a method in the repository where I need to, in additional to the above logic, group persons by their last name and return the latest person in the group based on creation timestamp. So, not knowing where to start I decided to first see what query hibernate was running for the above derived query, based on which I created the below:</p>\n<p>QUERY2:</p>\n<pre><code>@Query(\nvalue = &quot;&quot;&quot;\nselect distinct p1_0.id, p1_0.firstName, p1_0.lastName, p1_0.creation_timestamp, cm1_0.person_id, cm1_0.city, co1_0.person_id, co1_0.city\nfrom person p1_0\nleft join cities_must cm1_0 on p1_0.id = cm1_0.person_id\nleft join cities_optional co1_0 on p1_0.id = co1_0.person_id\nwhere ?1 in (select cm2_0.city from cities_must cm2_0 where p1_0.id=cm2_0.person_id)\n  and ?2 not in (select co2_0.city from cities_optional co2_0 where p1_0.id=co2_0.person_id)\n&quot;&quot;&quot;,\nnativeQuery = true\n)\nList&lt;Person&gt; testQuery(String mustCity, String optionalCity);\n</code></pre>\n<p>My thought process was that I would simply create the above native query and add the following condition to the above at the end</p>\n<pre><code>and p1_0.creation_timestamp = (select max(creation_timestamp) from person where lastName = p1_0.lastName)\n</code></pre>\n<p>But when I run QUERY2 above, hibernate gives the exception, &quot;Unable to evaluate the children renderer expression Method threw 'org.hibernate.LazyInitializationException' exception.&quot;. I don't really know what to change here, because the QUERY2 that I created is based on the actual query hibernate is running against the db for the method in QUERY1.\nI want to be able to modify that to a custom query so I can add the additional logic and create the new query I require.</p>\n"},{"tags":["java","guice"],"owner":{"account_id":321078,"reputation":15468,"user_id":639687,"accept_rate":69,"display_name":"czerny"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":14,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697058644,"creation_date":1697058644,"question_id":77276420,"body_markdown":"`Binding` interface contains a method `getProvider()` that should do the conversion to a `Provider`. However most of implementations are based on [`BindingImpl`](https://github.com/google/guice/blob/6.0.0/core/src/com/google/inject/internal/BindingImpl.java#L70) that allows for getting a `Provider` only when an injector is available or when the binding is defined using a provider. Otherwise `UnsupportedOperationException` is throw.\r\n\r\nHow to reliably obtain a `Provider` corresponding to a `Binding` before an injector in created?\r\n\r\nOr more generally how to use a `Binding` element as a source of value in my custom `Provider`?\r\n\r\nContext: A library that I&#39;d like to uses, exposes a Guice [`Module`](https://google.github.io/guice/api-docs/6.0.0/javadoc/com/google/inject/Module.html) through which it integrates with the main app. I&#39;d like to conditionally re-map selected services of that library. Methods of [`Elements`](https://google.github.io/guice/api-docs/6.0.0/javadoc/com/google/inject/spi/Elements.html) class allow to cherry-pick bindings. I&#39;d like to convert a selected [`Binding`](https://google.github.io/guice/api-docs/6.0.0/javadoc/com/google/inject/Binding.html) to a [`Provider`](https://google.github.io/guice/api-docs/6.0.0/javadoc/com/google/inject/Provider.html) so that it can be conditionally use it in my own provider.","title":"How to get a Provider from an Element of type Binding in Guice?","body":"<p><code>Binding</code> interface contains a method <code>getProvider()</code> that should do the conversion to a <code>Provider</code>. However most of implementations are based on <a href=\"https://github.com/google/guice/blob/6.0.0/core/src/com/google/inject/internal/BindingImpl.java#L70\" rel=\"nofollow noreferrer\"><code>BindingImpl</code></a> that allows for getting a <code>Provider</code> only when an injector is available or when the binding is defined using a provider. Otherwise <code>UnsupportedOperationException</code> is throw.</p>\n<p>How to reliably obtain a <code>Provider</code> corresponding to a <code>Binding</code> before an injector in created?</p>\n<p>Or more generally how to use a <code>Binding</code> element as a source of value in my custom <code>Provider</code>?</p>\n<p>Context: A library that I'd like to uses, exposes a Guice <a href=\"https://google.github.io/guice/api-docs/6.0.0/javadoc/com/google/inject/Module.html\" rel=\"nofollow noreferrer\"><code>Module</code></a> through which it integrates with the main app. I'd like to conditionally re-map selected services of that library. Methods of <a href=\"https://google.github.io/guice/api-docs/6.0.0/javadoc/com/google/inject/spi/Elements.html\" rel=\"nofollow noreferrer\"><code>Elements</code></a> class allow to cherry-pick bindings. I'd like to convert a selected <a href=\"https://google.github.io/guice/api-docs/6.0.0/javadoc/com/google/inject/Binding.html\" rel=\"nofollow noreferrer\"><code>Binding</code></a> to a <a href=\"https://google.github.io/guice/api-docs/6.0.0/javadoc/com/google/inject/Provider.html\" rel=\"nofollow noreferrer\"><code>Provider</code></a> so that it can be conditionally use it in my own provider.</p>\n"},{"tags":["java","xpages","lotus-domino"],"answers":[{"tags":[],"owner":{"account_id":412150,"reputation":21391,"user_id":785061,"accept_rate":60,"display_name":"Per Henrik Lausten"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1697058607,"creation_date":1697058607,"answer_id":77276415,"question_id":77221662,"body_markdown":"This was caused by two instances of DominoJNA on the server. See discussion on GitHub: https://github.com/klehmann/domino-jna/issues/79","title":"Thread is not enabled for auto GC","body":"<p>This was caused by two instances of DominoJNA on the server. See discussion on GitHub: <a href=\"https://github.com/klehmann/domino-jna/issues/79\" rel=\"nofollow noreferrer\">https://github.com/klehmann/domino-jna/issues/79</a></p>\n"}],"owner":{"account_id":1879268,"reputation":2000,"user_id":1699830,"accept_rate":37,"display_name":"Patrick Kwinten"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77276415,"answer_count":1,"score":1,"last_activity_date":1697058607,"creation_date":1696330684,"question_id":77221662,"body_markdown":"When running in XPages environment:\r\n\r\n    NotesDatabase db = new NotesDatabase(ExtLibUtil.getCurrentSession(), &quot;&quot;, fakenamesPath);\r\n\r\nI get message:\r\n\r\n&gt; HTTP JVM: java.lang.IllegalStateException: Thread is not enabled for\r\n&gt; auto GC. Either run your code via NotesGC.runWithAutoGC(Callable) or\r\n&gt; via try-with-resources on the object returned by NotesGC.initThread().\r\n\r\nOn https://www.mindoo.com/web/blog.nsf/dx/16.01.2017082125KLEAMY.htm?opendocument&amp;comments I read\r\n\r\n&quot;Since they are integrated with the JSF lifecycle, memory management is automatically handled by the plugin. That means that code using the API does not have to be wrapped in NotesGC.runWithAutoGC() blocks to automatically recycle allocated C handles and memory after a HTTP request.&quot;\r\n\r\nI installed version domino-jna-xpages-0.9.48\r\n\r\nI am trying to run this sample application:\r\nhttp://linqed.eu/2018/10/02/query-domino-data-and-faceted-search-with-domino-jna-part-1/\r\n\r\nAnyone a suggestion what is wrong/missing in my setup?","title":"Thread is not enabled for auto GC","body":"<p>When running in XPages environment:</p>\n<pre><code>NotesDatabase db = new NotesDatabase(ExtLibUtil.getCurrentSession(), &quot;&quot;, fakenamesPath);\n</code></pre>\n<p>I get message:</p>\n<blockquote>\n<p>HTTP JVM: java.lang.IllegalStateException: Thread is not enabled for\nauto GC. Either run your code via NotesGC.runWithAutoGC(Callable) or\nvia try-with-resources on the object returned by NotesGC.initThread().</p>\n</blockquote>\n<p>On <a href=\"https://www.mindoo.com/web/blog.nsf/dx/16.01.2017082125KLEAMY.htm?opendocument&amp;comments\" rel=\"nofollow noreferrer\">https://www.mindoo.com/web/blog.nsf/dx/16.01.2017082125KLEAMY.htm?opendocument&amp;comments</a> I read</p>\n<p>&quot;Since they are integrated with the JSF lifecycle, memory management is automatically handled by the plugin. That means that code using the API does not have to be wrapped in NotesGC.runWithAutoGC() blocks to automatically recycle allocated C handles and memory after a HTTP request.&quot;</p>\n<p>I installed version domino-jna-xpages-0.9.48</p>\n<p>I am trying to run this sample application:\n<a href=\"http://linqed.eu/2018/10/02/query-domino-data-and-faceted-search-with-domino-jna-part-1/\" rel=\"nofollow noreferrer\">http://linqed.eu/2018/10/02/query-domino-data-and-faceted-search-with-domino-jna-part-1/</a></p>\n<p>Anyone a suggestion what is wrong/missing in my setup?</p>\n"},{"tags":["java","android","json","string"],"comments":[{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":1,"creation_date":1485147892,"post_id":41799519,"comment_id":70787255,"body_markdown":"Please include a [mcve].","body":"Please include a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."},{"owner":{"account_id":4614809,"reputation":3662,"user_id":3741698,"accept_rate":96,"display_name":"David Hackro"},"score":1,"creation_date":1485148488,"post_id":41799519,"comment_id":70787387,"body_markdown":"please see this quuestion before http://stackoverflow.com/questions/9069799/android-json-charset-utf-8-problems","body":"please see this quuestion before <a href=\"http://stackoverflow.com/questions/9069799/android-json-charset-utf-8-problems\" title=\"android json charset utf 8 problems\">stackoverflow.com/questions/9069799/&hellip;</a>"},{"owner":{"account_id":2794710,"reputation":608,"user_id":2404132,"display_name":"Umais Gillani"},"score":0,"creation_date":1485148504,"post_id":41799519,"comment_id":70787392,"body_markdown":"Which api you are using for parsing ?","body":"Which api you are using for parsing ?"},{"owner":{"account_id":10085326,"reputation":1624,"user_id":7454155,"accept_rate":33,"display_name":"Raj Suvariya"},"score":0,"creation_date":1485150616,"post_id":41799519,"comment_id":70788064,"body_markdown":"Hackerrank codechecker api","body":"Hackerrank codechecker api"}],"answers":[{"comments":[{"owner":{"account_id":9558279,"reputation":788,"user_id":7328984,"accept_rate":0,"display_name":"android_jain"},"score":0,"creation_date":1485148407,"post_id":41799599,"comment_id":70787367,"body_markdown":"you have to add whith string where is spatial character","body":"you have to add whith string where is spatial character"},{"owner":{"account_id":10085326,"reputation":1624,"user_id":7454155,"accept_rate":33,"display_name":"Raj Suvariya"},"score":0,"creation_date":1485149442,"post_id":41799599,"comment_id":70787671,"body_markdown":"But when I am parsing it then only it is converting the string escape character into random characters and I am using third party API so can&#39;t use unicode for &quot;&quot;","body":"But when I am parsing it then only it is converting the string escape character into random characters and I am using third party API so can&#39;t use unicode for &quot;&quot;"}],"tags":[],"owner":{"account_id":9558279,"reputation":788,"user_id":7328984,"accept_rate":0,"display_name":"android_jain"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1485148336,"creation_date":1485148336,"answer_id":41799599,"question_id":41799519,"body_markdown":"use Unicode for &quot;&quot; or  for every special character or you can use /also for spatial character for &quot; you can use  / for every character \r\nor tack help from hare\r\nhttps://stackoverflow.com/questions/17612778/how-to-define-special-characters-in-string-array-java","title":"How to parse JSON String containing special characters?","body":"<p>use Unicode for \"\" or  for every special character or you can use /also for spatial character for \" you can use  / for every character \nor tack help from hare\n<a href=\"https://stackoverflow.com/questions/17612778/how-to-define-special-characters-in-string-array-java\">How to define special characters in string array java</a></p>\n"}],"owner":{"account_id":10085326,"reputation":1624,"user_id":7454155,"accept_rate":33,"display_name":"Raj Suvariya"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":8471,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1697058350,"creation_date":1485147785,"question_id":41799519,"body_markdown":"I am using hackerrank.com API for the code compilation. So when user enters code with compilation error the JSON response is like this\r\n\r\n    {\r\n      &quot;result&quot;: {\r\n        &quot;callback_url&quot;: &quot;&quot;,\r\n        &quot;censored_compile_message&quot;: &quot;&quot;,\r\n        &quot;codechecker_hash&quot;: &quot;something&quot;,\r\n        &quot;compile_command&quot;: &quot;/usr/lib/jvm/java-7-sun/bin/javac -encoding UTF-8  -classpath &#39;*:/usr/share/java/json-simple-1.1.1.jar:/usr/share/java/junixsocket.jar:/usr/share/java/abacus-util-jdk7.jar&#39; AddNumbers.java 1&gt; compile.err 2&gt;&amp;1&quot;,\r\n        &quot;compilemessage&quot;: &quot;AddNumbers.java:1: error: &#39;;&#39; expected\\nimport java.util.Scanner;   class AddNumbers {    public static void main(String args[])    {       int x, y, z             Scanner in = new Scanner(System.in);       x = in.nextInt();       y = in.nextInt();      z = x + y;       System.out.println(z);    } }\\n                                                                                                               ^\\n1 error\\n&quot;,\r\n        &quot;error_code&quot;: 0,\r\n        &quot;hash&quot;: &quot;something&quot;,\r\n        &quot;loopback&quot;: null,\r\n        &quot;memory&quot;: null,\r\n        &quot;message&quot;: null,\r\n        &quot;response_s3_path&quot;: &quot;something&quot;,\r\n        &quot;result&quot;: 255,\r\n        &quot;run_command&quot;: &quot;&quot;,\r\n        &quot;server&quot;: &quot;something&quot;,\r\n        &quot;signal&quot;: null,\r\n        &quot;stderr&quot;: null,\r\n        &quot;stdout&quot;: null,\r\n        &quot;time&quot;: null\r\n      }\r\n    }\r\n\r\nIn this JSON &quot;compilemessage&quot; contains special escape characters like `&#39;&#39; &quot;&quot; ;` etc. so how to parse this string so that the characters remains as it is.\r\n\r\nWhen I tried to parse with just normal \r\n\r\n&gt; jsonobject.getString(&quot;compilemessage&quot;)\r\n\r\nthen it converts it into some random character as shown in the picture\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/QQLcC.png","title":"How to parse JSON String containing special characters?","body":"<p>I am using hackerrank.com API for the code compilation. So when user enters code with compilation error the JSON response is like this</p>\n\n<pre><code>{\n  \"result\": {\n    \"callback_url\": \"\",\n    \"censored_compile_message\": \"\",\n    \"codechecker_hash\": \"something\",\n    \"compile_command\": \"/usr/lib/jvm/java-7-sun/bin/javac -encoding UTF-8  -classpath '*:/usr/share/java/json-simple-1.1.1.jar:/usr/share/java/junixsocket.jar:/usr/share/java/abacus-util-jdk7.jar' AddNumbers.java 1&gt; compile.err 2&gt;&amp;1\",\n    \"compilemessage\": \"AddNumbers.java:1: error: ';' expected\\nimport java.util.Scanner;   class AddNumbers {    public static void main(String args[])    {       int x, y, z             Scanner in = new Scanner(System.in);       x = in.nextInt();       y = in.nextInt();      z = x + y;       System.out.println(z);    } }\\n                                                                                                               ^\\n1 error\\n\",\n    \"error_code\": 0,\n    \"hash\": \"something\",\n    \"loopback\": null,\n    \"memory\": null,\n    \"message\": null,\n    \"response_s3_path\": \"something\",\n    \"result\": 255,\n    \"run_command\": \"\",\n    \"server\": \"something\",\n    \"signal\": null,\n    \"stderr\": null,\n    \"stdout\": null,\n    \"time\": null\n  }\n}\n</code></pre>\n\n<p>In this JSON \"compilemessage\" contains special escape characters like <code>'' \"\" ;</code> etc. so how to parse this string so that the characters remains as it is.</p>\n\n<p>When I tried to parse with just normal </p>\n\n<blockquote>\n  <p>jsonobject.getString(\"compilemessage\")</p>\n</blockquote>\n\n<p>then it converts it into some random character as shown in the picture</p>\n\n<p><a href=\"https://i.stack.imgur.com/QQLcC.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/QQLcC.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":["java","selenium-webdriver","sendkeys"],"comments":[{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1697057450,"post_id":77276328,"comment_id":136233186,"body_markdown":"*WHY* is it not working? Whatever the answer is, changing the way you iterate from 1 to 10 isn&#39;t going to make a difference.","body":"<i>WHY</i> is it not working? Whatever the answer is, changing the way you iterate from 1 to 10 isn&#39;t going to make a difference."}],"answers":[{"tags":[],"owner":{"account_id":24412628,"reputation":1,"user_id":22725324,"display_name":"Vitor Santos"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697058097,"creation_date":1697058097,"answer_id":77276378,"question_id":77276328,"body_markdown":"* Maybe you should to include some delay in your code like  \r\n`TimeUnit.SECONDS.sleep(1);`\r\n\r\nor \r\n\r\n```    public static void wait(int ms)\r\n{\r\n    try\r\n    {\r\n        Thread.sleep(ms);\r\n    }\r\n    catch(InterruptedException ex)\r\n    {\r\n        Thread.currentThread().interrupt();\r\n    }\r\n}\r\n```\r\n\r\nTry increasing step by step, starting por 0.1 s \r\n\r\n","title":"Java - SendKeys multiple times (Keys.ARROW_RIGHT)","body":"<ul>\n<li>Maybe you should to include some delay in your code like<br />\n<code>TimeUnit.SECONDS.sleep(1);</code></li>\n</ul>\n<p>or</p>\n<pre><code>{\n    try\n    {\n        Thread.sleep(ms);\n    }\n    catch(InterruptedException ex)\n    {\n        Thread.currentThread().interrupt();\n    }\n}\n</code></pre>\n<p>Try increasing step by step, starting por 0.1 s</p>\n"}],"owner":{"account_id":11307943,"reputation":527,"user_id":8291902,"display_name":"nosequeweaponer"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1697058097,"creation_date":1697057363,"question_id":77276328,"body_markdown":"Hi people: I&#39;m trying o automate (Selenium with Java) a method that moves from a row to another (10 times) with the sendKeys. I tried with for cicle, but it&#39;s not working:\r\n\r\n        public void moveToNextRow() {\r\n           for (int i = 0; i &lt; 10; i++) {\r\n           this.myPage.FirstRow().sendKeys(Keys.ARROW_RIGHT);\r\n        }\r\n\r\nThe other way that I tried was with IntStream, but also it&#39;s not working.\r\n\r\n        public void moveToNextRow() {\r\n           IntStream.iterate(1, n -&gt; n + 1).limit(10).forEach(number -&gt; \r\n\t\t   this.myPage.FirstRow().sendKeys(Keys.ARROW_RIGHT));\r\n        }\r\n\r\nCan anybody help me with that?","title":"Java - SendKeys multiple times (Keys.ARROW_RIGHT)","body":"<p>Hi people: I'm trying o automate (Selenium with Java) a method that moves from a row to another (10 times) with the sendKeys. I tried with for cicle, but it's not working:</p>\n<pre><code>    public void moveToNextRow() {\n       for (int i = 0; i &lt; 10; i++) {\n       this.myPage.FirstRow().sendKeys(Keys.ARROW_RIGHT);\n    }\n</code></pre>\n<p>The other way that I tried was with IntStream, but also it's not working.</p>\n<pre><code>    public void moveToNextRow() {\n       IntStream.iterate(1, n -&gt; n + 1).limit(10).forEach(number -&gt; \n       this.myPage.FirstRow().sendKeys(Keys.ARROW_RIGHT));\n    }\n</code></pre>\n<p>Can anybody help me with that?</p>\n"},{"tags":["java","android","database","algorithm","sqlite"],"answers":[{"comments":[{"owner":{"account_id":12901347,"reputation":1,"user_id":9330069,"display_name":"Abdullah Sevmez"},"score":0,"creation_date":1555801155,"post_id":55778426,"comment_id":98228692,"body_markdown":"yes for example I&#39;m student its my point when I know question my point will grow","body":"yes for example I&#39;m student its my point when I know question my point will grow"},{"owner":{"account_id":14535244,"reputation":161564,"user_id":10498828,"display_name":"forpas"},"score":0,"creation_date":1555801335,"post_id":55778426,"comment_id":98228727,"body_markdown":"The sql statement is correct. I don&#39;t know how you use it.","body":"The sql statement is correct. I don&#39;t know how you use it."},{"owner":{"account_id":12901347,"reputation":1,"user_id":9330069,"display_name":"Abdullah Sevmez"},"score":0,"creation_date":1555801377,"post_id":55778426,"comment_id":98228738,"body_markdown":"I tried but firstly my point is one times changing and when I continue value its same","body":"I tried but firstly my point is one times changing and when I continue value its same"}],"tags":[],"owner":{"account_id":14535244,"reputation":161564,"user_id":10498828,"display_name":"forpas"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1555800650,"creation_date":1555800650,"answer_id":55778426,"question_id":55778351,"body_markdown":"I guess you want to add the value of `point` to the existing value of `DatabaseFelds.SUBJECT_PROGRESS`, right? You can do it like this:\r\n\r\n    &quot;UPDATE &quot; + DatabaseFelds.TABLE_NAME + \r\n    &quot; SET &quot; + DatabaseFelds.SUBJECT_PROGRESS + &quot; = &quot;  + \r\n    DatabaseFelds.SUBJECT_PROGRESS + &quot; + &quot; + point + \r\n    &quot; WHERE &quot; + DatabaseFelds.SUBJECT_ID + &quot; = &quot; + id;","title":"Sqlite update operations can I add value existing value?","body":"<p>I guess you want to add the value of <code>point</code> to the existing value of <code>DatabaseFelds.SUBJECT_PROGRESS</code>, right? You can do it like this:</p>\n\n<pre><code>\"UPDATE \" + DatabaseFelds.TABLE_NAME + \n\" SET \" + DatabaseFelds.SUBJECT_PROGRESS + \" = \"  + \nDatabaseFelds.SUBJECT_PROGRESS + \" + \" + point + \n\" WHERE \" + DatabaseFelds.SUBJECT_ID + \" = \" + id;\n</code></pre>\n"}],"owner":{"account_id":12901347,"reputation":1,"user_id":9330069,"display_name":"Abdullah Sevmez"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":179,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1697057972,"creation_date":1555799984,"question_id":55778351,"body_markdown":"    &quot;UPDATE &quot; + DatabaseFelds.TABLE_NAME + \r\n    &quot; SET &quot; + DatabaseFelds.SUBJECT_PROGRESS + &quot; = &quot; + \r\n    point + &quot; WHERE &quot; + DatabaseFelds.SUBJECT_ID + &quot; = &quot; + id; \r\n\r\nthis query updates my value, but I want it to add to existing value. How can I fix this problem ?","title":"Sqlite update operations can I add value existing value?","body":"<pre><code>\"UPDATE \" + DatabaseFelds.TABLE_NAME + \n\" SET \" + DatabaseFelds.SUBJECT_PROGRESS + \" = \" + \npoint + \" WHERE \" + DatabaseFelds.SUBJECT_ID + \" = \" + id; \n</code></pre>\n\n<p>this query updates my value, but I want it to add to existing value. How can I fix this problem ?</p>\n"},{"tags":["java","eclipse","package","com.sun.net.httpserver"],"answers":[{"comments":[{"owner":{"account_id":27289999,"reputation":1,"user_id":20808572,"display_name":"SherlockJoe"},"score":0,"creation_date":1671463418,"post_id":74842232,"comment_id":132098791,"body_markdown":"Thanks for the advice. i tried both ways and unfortunately adding the line to my module-info.java doesnt do anything and deleting it resulting in &quot;The import com.sun.httpserver cannot be resolved.&quot; Does that mean i don&#39;t have the necessary .jar-file with the wanted class? i tried download it and added it to my libraries for that java project but its still giving the error message.","body":"Thanks for the advice. i tried both ways and unfortunately adding the line to my module-info.java doesnt do anything and deleting it resulting in &quot;The import com.sun.httpserver cannot be resolved.&quot; Does that mean i don&#39;t have the necessary .jar-file with the wanted class? i tried download it and added it to my libraries for that java project but its still giving the error message."},{"owner":{"account_id":3159259,"reputation":109678,"user_id":2670892,"display_name":"greg-449"},"score":0,"creation_date":1671469773,"post_id":74842232,"comment_id":132101088,"body_markdown":"Both ways work for me testing here. `jdk.httpserver` should be part of the standard JDK without needing downloads. I&#39;m not sure what the problem is.","body":"Both ways work for me testing here. <code>jdk.httpserver</code> should be part of the standard JDK without needing downloads. I&#39;m not sure what the problem is."}],"tags":[],"owner":{"account_id":3159259,"reputation":109678,"user_id":2670892,"display_name":"greg-449"},"comment_count":2,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1671383508,"creation_date":1671374458,"answer_id":74842232,"question_id":74842129,"body_markdown":"You have a `module-info.java` so you are using Java modules. Consequently you need to say that you are using the `jdk.httpserver` module which contains `com.sun.net.httpserver.HttpServer`.\r\n\r\nYou do that by adding the line:\r\n```\r\n  requires jdk.httpserver;\r\n```\r\nto your module-info.java. So something like:\r\n```\r\nmodule modulename\r\n{\r\n  requires jdk.httpserver;\r\n}\r\n```\r\nwhere `modulename` is the name of your module.\r\n\r\nAlternatively delete the `module-info.java` file to stop using the module system.","title":"The package com.sun is not accessible. Java in Eclipse. Classic Problem, but nothing works for me","body":"<p>You have a <code>module-info.java</code> so you are using Java modules. Consequently you need to say that you are using the <code>jdk.httpserver</code> module which contains <code>com.sun.net.httpserver.HttpServer</code>.</p>\n<p>You do that by adding the line:</p>\n<pre><code>  requires jdk.httpserver;\n</code></pre>\n<p>to your module-info.java. So something like:</p>\n<pre><code>module modulename\n{\n  requires jdk.httpserver;\n}\n</code></pre>\n<p>where <code>modulename</code> is the name of your module.</p>\n<p>Alternatively delete the <code>module-info.java</code> file to stop using the module system.</p>\n"}],"owner":{"account_id":27289999,"reputation":1,"user_id":20808572,"display_name":"SherlockJoe"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":880,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1697057719,"creation_date":1671373604,"question_id":74842129,"body_markdown":"Im trying to use the HttpServer Class from com.sun package but i can&#39;t import it. It keeps saying: &quot;The package com.sun is not accessible.&quot;\r\n\r\n\r\nI&#39;ve tried every solution i could find in other questions about this topic. I&#39;ve added a rule to have access to it to my libraries. I changed my JDK to another installed JDK17. I don&#39;t know what to do anymore. It&#39;s for my college homework, so it would be cool to get it running.\r\n\r\nDoes someone have a clue?\r\n\r\nmy code problem:\r\n![my code problem](https://i.stack.imgur.com/RDDAN.png)\r\n\r\nthe access rule:\r\n![the access rule](https://i.stack.imgur.com/ou1iJ.png)\r\n\r\nmy current used jdk:\r\n![my current used jdk](https://i.stack.imgur.com/yiYws.png)","title":"The package com.sun is not accessible. Java in Eclipse. Classic Problem, but nothing works for me","body":"<p>Im trying to use the HttpServer Class from com.sun package but i can't import it. It keeps saying: &quot;The package com.sun is not accessible.&quot;</p>\n<p>I've tried every solution i could find in other questions about this topic. I've added a rule to have access to it to my libraries. I changed my JDK to another installed JDK17. I don't know what to do anymore. It's for my college homework, so it would be cool to get it running.</p>\n<p>Does someone have a clue?</p>\n<p>my code problem:\n<img src=\"https://i.stack.imgur.com/RDDAN.png\" alt=\"my code problem\" /></p>\n<p>the access rule:\n<img src=\"https://i.stack.imgur.com/ou1iJ.png\" alt=\"the access rule\" /></p>\n<p>my current used jdk:\n<img src=\"https://i.stack.imgur.com/yiYws.png\" alt=\"my current used jdk\" /></p>\n"},{"tags":["java","arrays","object","reference","nullpointerexception"],"comments":[{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":2,"creation_date":1697055226,"post_id":77276027,"comment_id":136232859,"body_markdown":"Once there are no references to an object, it will eventually be garbage collected. So if that array had the only reference to your object, then yes.","body":"Once there are no references to an object, it will eventually be garbage collected. So if that array had the only reference to your object, then yes."},{"owner":{"account_id":9760,"reputation":85860,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":1,"creation_date":1697058336,"post_id":77276027,"comment_id":136233318,"body_markdown":"Your question is somewhat ambiguous.  Do you want the _reference_ to be removed from memory, OR are you talking about the object the reference points to? What is your reason for wanting to control this?  This may be an [XY Problem](http://xyproblem.info)","body":"Your question is somewhat ambiguous.  Do you want the <i>reference</i> to be removed from memory, OR are you talking about the object the reference points to? What is your reason for wanting to control this?  This may be an <a href=\"http://xyproblem.info\" rel=\"nofollow noreferrer\">XY Problem</a>"}],"answers":[{"tags":[],"owner":{"account_id":29456424,"reputation":11,"user_id":22572198,"display_name":"Himanshu Gupta"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697057630,"creation_date":1697057206,"answer_id":77276318,"question_id":77276027,"body_markdown":"If the object variable you set to null, and no other object variable is referencing to that object any more than it will be picked up by garbage collector in jvm at some point, but we don&#39;t have to worry about it.\r\n\r\nRefer to this question:\r\n\r\nhttps://stackoverflow.com/questions/60930083/how-does-garbage-collection-identify-orphaned-objects","title":"Does setting an object reference equal to null in an array of references, delete it completely from the memory in java? If not, then how?","body":"<p>If the object variable you set to null, and no other object variable is referencing to that object any more than it will be picked up by garbage collector in jvm at some point, but we don't have to worry about it.</p>\n<p>Refer to this question:</p>\n<p><a href=\"https://stackoverflow.com/questions/60930083/how-does-garbage-collection-identify-orphaned-objects\">How does Garbage Collection identify orphaned objects?</a></p>\n"}],"owner":{"account_id":27432373,"reputation":1,"user_id":20928848,"display_name":"Shashwat Malasi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1697065190,"answer_count":1,"score":-2,"last_activity_date":1697057630,"creation_date":1697053726,"question_id":77276027,"body_markdown":"How can I delete an object reference completely from an array of references from the memory in Java? I was setting it&#39;s value to null but I am not sure of how things are working under the hood.\r\n\r\nI tried to iterate through the array using for loop to reach to the specific index from where I had to delete the object reference and then shift all the other references to the left by one position each. ","title":"Does setting an object reference equal to null in an array of references, delete it completely from the memory in java? If not, then how?","body":"<p>How can I delete an object reference completely from an array of references from the memory in Java? I was setting it's value to null but I am not sure of how things are working under the hood.</p>\n<p>I tried to iterate through the array using for loop to reach to the specific index from where I had to delete the object reference and then shift all the other references to the left by one position each.</p>\n"},{"tags":["java","javafx","oauth-2.0","oauth","chromium-embedded"],"comments":[{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":1,"creation_date":1697064923,"post_id":77276253,"comment_id":136234018,"body_markdown":"That is a warning, then info, not an error, the reason your page isn&#39;t loading could be due to some other reason entirely.","body":"That is a warning, then info, not an error, the reason your page isn&#39;t loading could be due to some other reason entirely."},{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1697064944,"post_id":77276253,"comment_id":136234021,"body_markdown":"Your code doesn&#39;t look like the code in the working sample app you referred to.  My advice: run the jcefsampleapp unchanged on a Java runtime that uses JavaFX (e.g. Azul Zulu JRE FX).   Then modify the sample app to launch a JavaFX application and display a website in a JCEF component displayed in a JFXPanel (according to [JavaFX/Swing integration](https://docs.oracle.com/javase/8/javafx/interoperability-tutorial/embed-swing.htm)).  Or use JavaFX WebView instead of JCEF.","body":"Your code doesn&#39;t look like the code in the working sample app you referred to.  My advice: run the jcefsampleapp unchanged on a Java runtime that uses JavaFX (e.g. Azul Zulu JRE FX).   Then modify the sample app to launch a JavaFX application and display a website in a JCEF component displayed in a JFXPanel (according to <a href=\"https://docs.oracle.com/javase/8/javafx/interoperability-tutorial/embed-swing.htm\" rel=\"nofollow noreferrer\">JavaFX/Swing integration</a>).  Or use JavaFX WebView instead of JCEF."},{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1697065608,"post_id":77276253,"comment_id":136234088,"body_markdown":"I don&#39;t know JCEF at all, so this info might be wrong or misleading.  But, if you want to enable Chromium to use Google APIs (which I think is what it is trying to do when it complains about the missing OAuth client ID and secret), then you may be able to acquire and provide them by following the [Chromium API key instructions](https://www.chromium.org/developers/how-tos/api-keys/).  BTW, this is the [source of your warning](https://chromium.googlesource.com/chromium/src/+/master/chrome/browser/signin/account_consistency_mode_manager.cc#73).","body":"I don&#39;t know JCEF at all, so this info might be wrong or misleading.  But, if you want to enable Chromium to use Google APIs (which I think is what it is trying to do when it complains about the missing OAuth client ID and secret), then you may be able to acquire and provide them by following the <a href=\"https://www.chromium.org/developers/how-tos/api-keys/\" rel=\"nofollow noreferrer\">Chromium API key instructions</a>.  BTW, this is the <a href=\"https://chromium.googlesource.com/chromium/src/+/master/chrome/browser/signin/account_consistency_mode_manager.cc#73\" rel=\"nofollow noreferrer\">source of your warning</a>."}],"owner":{"account_id":13462282,"reputation":385,"user_id":10946427,"display_name":"Dmitriy"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697056441,"creation_date":1697056441,"question_id":77276253,"body_markdown":"Please tell me, I decided to try the JCEF browser in my javafx program, I implemented a minimal example:\r\n\r\n    CefAppBuilder builder = new CefAppBuilder();\r\n    builder.setInstallDir(new File(&quot;jcef-bundle&quot;)); //Default\r\n    builder.setProgressHandler(new ConsoleProgressHandler()); //Default\r\n    try {app = builder.build();} \r\n    catch (IOException | UnsupportedPlatformException | InterruptedException | CefInitializationException e) {throw new RuntimeException(e);}\r\n    client = app.createClient();\r\n    browser = client.createBrowser(&quot;https://www.google.com/&quot;, false, false);\r\n\r\nI have Windows 7, so I use jcef maven 2022 (version 108.4.13), since the latest version does not run on Windows 7\r\nThe problem is that not a single site opens, not even localhost, but gives the following error:\r\n\r\n    [1011/224739.873:WARNING:account_consistency_mode_manager.cc(70)] Desktop Identity Consistency cannot be enabled as no OAuth client ID and client secret have been configured.\r\n    [1011/224740.180:INFO:CONSOLE(0)] &quot;Error with Permissions-Policy header: Origin trial controlled feature not enabled: &#39;unload&#39;.&quot;, source:  (0)\r\n\r\nTried to run the example https://github.com/jcefmaven/jcefsampleapp and it works well, but why doesn&#39;t it work in my javafx application?\r\n\r\nDoes anyone know how to solve the problem?","title":"JCEF doesn&#39;t load page due to OAuth error","body":"<p>Please tell me, I decided to try the JCEF browser in my javafx program, I implemented a minimal example:</p>\n<pre><code>CefAppBuilder builder = new CefAppBuilder();\nbuilder.setInstallDir(new File(&quot;jcef-bundle&quot;)); //Default\nbuilder.setProgressHandler(new ConsoleProgressHandler()); //Default\ntry {app = builder.build();} \ncatch (IOException | UnsupportedPlatformException | InterruptedException | CefInitializationException e) {throw new RuntimeException(e);}\nclient = app.createClient();\nbrowser = client.createBrowser(&quot;https://www.google.com/&quot;, false, false);\n</code></pre>\n<p>I have Windows 7, so I use jcef maven 2022 (version 108.4.13), since the latest version does not run on Windows 7\nThe problem is that not a single site opens, not even localhost, but gives the following error:</p>\n<pre><code>[1011/224739.873:WARNING:account_consistency_mode_manager.cc(70)] Desktop Identity Consistency cannot be enabled as no OAuth client ID and client secret have been configured.\n[1011/224740.180:INFO:CONSOLE(0)] &quot;Error with Permissions-Policy header: Origin trial controlled feature not enabled: 'unload'.&quot;, source:  (0)\n</code></pre>\n<p>Tried to run the example <a href=\"https://github.com/jcefmaven/jcefsampleapp\" rel=\"nofollow noreferrer\">https://github.com/jcefmaven/jcefsampleapp</a> and it works well, but why doesn't it work in my javafx application?</p>\n<p>Does anyone know how to solve the problem?</p>\n"},{"tags":["java","html","sql","jsp"],"answers":[{"comments":[{"owner":{"account_id":23262181,"reputation":13,"user_id":17348311,"display_name":"damnetime"},"score":0,"creation_date":1697054877,"post_id":77275694,"comment_id":136232811,"body_markdown":"This works only with 1 value inside select","body":"This works only with 1 value inside select"},{"owner":{"account_id":27699053,"reputation":2348,"user_id":21144042,"display_name":"Diego Borba"},"score":0,"creation_date":1697055956,"post_id":77275694,"comment_id":136232941,"body_markdown":"Sorry, I updated my answer.","body":"Sorry, I updated my answer."},{"owner":{"account_id":23262181,"reputation":13,"user_id":17348311,"display_name":"damnetime"},"score":0,"creation_date":1697057435,"post_id":77275694,"comment_id":136233184,"body_markdown":"Thank you! This works as i needed but i deleted &quot;${priv_id_list}&quot; inside value in foreach. But when i selected another value inside &#39;select&#39; tag the second &#39;select&#39; tag didnt update. Can you help me pls with that issue","body":"Thank you! This works as i needed but i deleted &quot;${priv_id_list}&quot; inside value in foreach. But when i selected another value inside &#39;select&#39; tag the second &#39;select&#39; tag didnt update. Can you help me pls with that issue"},{"owner":{"account_id":27699053,"reputation":2348,"user_id":21144042,"display_name":"Diego Borba"},"score":0,"creation_date":1697058091,"post_id":77275694,"comment_id":136233279,"body_markdown":"Can you put this code in the question to I understand it better?","body":"Can you put this code in the question to I understand it better?"},{"owner":{"account_id":23262181,"reputation":13,"user_id":17348311,"display_name":"damnetime"},"score":1,"creation_date":1697058562,"post_id":77275694,"comment_id":136233354,"body_markdown":"Already did it with JS. Thank you very much for your help!","body":"Already did it with JS. Thank you very much for your help!"}],"tags":[],"owner":{"account_id":27699053,"reputation":2348,"user_id":21144042,"display_name":"Diego Borba"},"comment_count":5,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1697055948,"creation_date":1697050299,"answer_id":77275694,"question_id":77275560,"body_markdown":"You can use *JSTL*:\r\n\r\n```html\r\n&lt;!-- List of priv_id values --&gt;\r\n&lt;c:set var=&quot;priv_id_list&quot; value=&quot;&quot; /&gt;\r\n\r\n&lt;!-- Loop through and append the values to the list --&gt;\r\n&lt;c:forEach items=&quot;${priv_query.rows}&quot; var=&quot;row&quot;&gt;\r\n    &lt;c:set var=&quot;priv_id_list&quot; value=&quot;${priv_id_list}${row.priv_id}&quot; /&gt;\r\n    &lt;c:if test=&quot;${!loop.last}&quot;&gt;,&lt;/c:if&gt;\r\n&lt;/c:forEach&gt;\r\n\r\n&lt;sql:query var=&quot;itemquery&quot;&gt;\r\n    SELECT ItemName from en_items\r\n    where actual IN (${priv_id_list})\r\n&lt;/sql:query&gt;\r\n```\r\n\r\nThe [`&lt;c:forEach&gt;`][1] iterates the result set of the first query and append each `priv_id` value to `priv_id_list`. \r\n\r\nAnd then you can use the `IN` clause with `${priv_id_list}` to your second query.\r\n\r\n  [1]: https://docs.oracle.com/javaee/6/javaserverfaces/2.1/docs/vdldocs/facelets/c/forEach.html","title":"How to get value from select and put to another select in JSP","body":"<p>You can use <em>JSTL</em>:</p>\n<pre class=\"lang-html prettyprint-override\"><code>&lt;!-- List of priv_id values --&gt;\n&lt;c:set var=&quot;priv_id_list&quot; value=&quot;&quot; /&gt;\n\n&lt;!-- Loop through and append the values to the list --&gt;\n&lt;c:forEach items=&quot;${priv_query.rows}&quot; var=&quot;row&quot;&gt;\n    &lt;c:set var=&quot;priv_id_list&quot; value=&quot;${priv_id_list}${row.priv_id}&quot; /&gt;\n    &lt;c:if test=&quot;${!loop.last}&quot;&gt;,&lt;/c:if&gt;\n&lt;/c:forEach&gt;\n\n&lt;sql:query var=&quot;itemquery&quot;&gt;\n    SELECT ItemName from en_items\n    where actual IN (${priv_id_list})\n&lt;/sql:query&gt;\n</code></pre>\n<p>The <a href=\"https://docs.oracle.com/javaee/6/javaserverfaces/2.1/docs/vdldocs/facelets/c/forEach.html\" rel=\"nofollow noreferrer\"><code>&lt;c:forEach&gt;</code></a> iterates the result set of the first query and append each <code>priv_id</code> value to <code>priv_id_list</code>.</p>\n<p>And then you can use the <code>IN</code> clause with <code>${priv_id_list}</code> to your second query.</p>\n"}],"owner":{"account_id":23262181,"reputation":13,"user_id":17348311,"display_name":"damnetime"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77275694,"answer_count":1,"score":1,"last_activity_date":1697055948,"creation_date":1697048869,"question_id":77275560,"body_markdown":"I have two select tags with sql query in one jsp page. How to put value from select 1 to the second select?\r\n\r\nFrom\r\n\r\n```html\r\n&lt;sql:query var=&quot;priv_query&quot;&gt;\r\n    SELECT priv_id from en_privilegetypes\r\n    where actual = 1\r\n&lt;/sql:query&gt;\r\n```\r\n\r\nTo \r\n\r\n```html\r\n&lt;sql:query var=&quot;itemquery&quot;&gt;\r\n    SELECT ItemName  from en_items\r\n    where actual = &lt;!-- priv_id  value from priv_query --&gt;\r\n&lt;/sql:query&gt;\r\n```","title":"How to get value from select and put to another select in JSP","body":"<p>I have two select tags with sql query in one jsp page. How to put value from select 1 to the second select?</p>\n<p>From</p>\n<pre class=\"lang-html prettyprint-override\"><code>&lt;sql:query var=&quot;priv_query&quot;&gt;\n    SELECT priv_id from en_privilegetypes\n    where actual = 1\n&lt;/sql:query&gt;\n</code></pre>\n<p>To</p>\n<pre class=\"lang-html prettyprint-override\"><code>&lt;sql:query var=&quot;itemquery&quot;&gt;\n    SELECT ItemName  from en_items\n    where actual = &lt;!-- priv_id  value from priv_query --&gt;\n&lt;/sql:query&gt;\n</code></pre>\n"},{"tags":["java","excel","apache-poi","xlsx"],"comments":[{"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"score":0,"creation_date":1574359862,"post_id":58981017,"comment_id":104215211,"body_markdown":"Maybe have a look at https://github.com/ozlerhakan/poiji. But behind the scenes of course this also needs get the contents from the sheet using code which looks &quot;ugly/nasty&quot;.","body":"Maybe have a look at <a href=\"https://github.com/ozlerhakan/poiji\" rel=\"nofollow noreferrer\">github.com/ozlerhakan/poiji</a>. But behind the scenes of course this also needs get the contents from the sheet using code which looks &quot;ugly/nasty&quot;."}],"answers":[{"comments":[{"owner":{"account_id":6802882,"reputation":175,"user_id":5235665,"display_name":"hotmeatballsoup"},"score":0,"creation_date":1574362750,"post_id":58981402,"comment_id":104216569,"body_markdown":"Thanks so much @Sambit (+1) -- one thing I didn&#39;t think to mention when I wrote this question a few hours ago is that my output file (e.g. `processed-cars.xlsx`) needs to be formatted with certain styles (certain columns center-aligned, other columns with font and background colors applied, etc.). Of course, I could always use one of these libs to write my `List&lt;Car&gt;` to an Excel file and then apply the formatting after the fact (with POI API), but if one of these libs allows me to do this formatting inline, that&#39;d be the deciding factor in my mind. Do you know if either of these allows this?","body":"Thanks so much @Sambit (+1) -- one thing I didn&#39;t think to mention when I wrote this question a few hours ago is that my output file (e.g. <code>processed-cars.xlsx</code>) needs to be formatted with certain styles (certain columns center-aligned, other columns with font and background colors applied, etc.). Of course, I could always use one of these libs to write my <code>List&lt;Car&gt;</code> to an Excel file and then apply the formatting after the fact (with POI API), but if one of these libs allows me to do this formatting inline, that&#39;d be the deciding factor in my mind. Do you know if either of these allows this?"},{"owner":{"account_id":3763662,"reputation":7765,"user_id":3127812,"accept_rate":0,"display_name":"Sambit"},"score":0,"creation_date":1574362978,"post_id":58981402,"comment_id":104216675,"body_markdown":"I think these do not do formatting, we need to check such library if available.","body":"I think these do not do formatting, we need to check such library if available."},{"owner":{"account_id":6802882,"reputation":175,"user_id":5235665,"display_name":"hotmeatballsoup"},"score":0,"creation_date":1574703848,"post_id":58981402,"comment_id":104317624,"body_markdown":"Important to note that Poiji does _not_ support writing back to Excel, and the POI Mapper project no longer seems to be maintained.","body":"Important to note that Poiji does <i>not</i> support writing back to Excel, and the POI Mapper project no longer seems to be maintained."},{"owner":{"account_id":3592775,"reputation":423,"user_id":2998403,"accept_rate":33,"display_name":"Naveen"},"score":1,"creation_date":1623927068,"post_id":58981402,"comment_id":120219396,"body_markdown":"Write to file doesn&#39;t work. It is just writing headers but not the data","body":"Write to file doesn&#39;t work. It is just writing headers but not the data"}],"tags":[],"owner":{"account_id":3763662,"reputation":7765,"user_id":3127812,"accept_rate":0,"display_name":"Sambit"},"comment_count":4,"down_vote_count":0,"up_vote_count":22,"is_accepted":true,"score":22,"last_activity_date":1682629711,"creation_date":1574360522,"answer_id":58981402,"question_id":58981017,"body_markdown":"As of now Apache POI does not have such a feature. There are external libraries which you can check. I provide a few libraries below.\r\n\r\nhttps://github.com/ozlerhakan/poiji\r\n\r\nThe library is available in mvnrepository, link is given below. This library provides only one way binding like from excel sheet to java pojo only.\r\n\r\nhttps://mvnrepository.com/artifact/com.github.ozlerhakan/poiji/2.2.0\r\n\r\nAs per the above, you can do something like this.\r\n\r\n    public class Employee {\r\n    \r\n        @ExcelRow                  \r\n        private int rowIndex;\r\n    \r\n        @ExcelCell(0)                \r\n        private long employeeId;  \r\n    \r\n        @ExcelCell(1)\r\n        private String name;\r\n    \r\n        @ExcelCell(2)\r\n        private String surname;\r\n    \r\n        @ExcelCell(3)\r\n        private int age;\r\n    }\r\n\r\nTo get the information from excel sheet to java object, you have to do in the following manner.\r\n\r\n    List&lt;Employee&gt; employees = Poiji.fromExcel(new File(&quot;employees.xls&quot;), Employee.class);\r\n\r\nThere is another library which can do both things like excel to java and java to excel.\r\nI provide below the link.\r\n\r\nhttps://github.com/millij/poi-object-mapper\r\n\r\nAs per above library, you can do something like this.\r\n\r\n    @Sheet\r\n    public class Employee {\r\n    \r\n        @SheetColumn(&quot;Age&quot;)\r\n        private Integer age;\r\n    \r\n        @SheetColumn(&quot;Name&quot;)\r\n        public String getName() {\r\n            return name;\r\n        }\r\n    \r\n    }\r\n\r\nTo get data from xlsx file, you have to write like this.\r\n\r\n    final File xlsxFile = new File(&quot;&lt;path_to_file&gt;&quot;);\r\n    final XlsReader reader = new XlsReader();\r\n    List&lt;Employee&gt; employees = reader.read(Employee.class, xlsxFile);\r\n\r\nTo write data to the excel sheet, you have to do like this.\r\n\r\n    List&lt;Employee&gt; employees = new ArrayList&lt;Employee&gt;();\r\n    employees.add(new Employee(&quot;1&quot;, &quot;foo&quot;, 12, &quot;MALE&quot;, 1.68));\r\n    SpreadsheetWriter writer = new SpreadsheetWriter(&quot;&lt;output_file_path&gt;&quot;);\r\n    writer.addSheet(Employee.class, employees);\r\n    writer.write();\r\n\r\nYou have to evaluate both the libraries for your use cases.","title":"Java Excel/POJO Mapping in POI","body":"<p>As of now Apache POI does not have such a feature. There are external libraries which you can check. I provide a few libraries below.</p>\n<p><a href=\"https://github.com/ozlerhakan/poiji\" rel=\"nofollow noreferrer\">https://github.com/ozlerhakan/poiji</a></p>\n<p>The library is available in mvnrepository, link is given below. This library provides only one way binding like from excel sheet to java pojo only.</p>\n<p><a href=\"https://mvnrepository.com/artifact/com.github.ozlerhakan/poiji/2.2.0\" rel=\"nofollow noreferrer\">https://mvnrepository.com/artifact/com.github.ozlerhakan/poiji/2.2.0</a></p>\n<p>As per the above, you can do something like this.</p>\n<pre><code>public class Employee {\n\n    @ExcelRow                  \n    private int rowIndex;\n\n    @ExcelCell(0)                \n    private long employeeId;  \n\n    @ExcelCell(1)\n    private String name;\n\n    @ExcelCell(2)\n    private String surname;\n\n    @ExcelCell(3)\n    private int age;\n}\n</code></pre>\n<p>To get the information from excel sheet to java object, you have to do in the following manner.</p>\n<pre><code>List&lt;Employee&gt; employees = Poiji.fromExcel(new File(&quot;employees.xls&quot;), Employee.class);\n</code></pre>\n<p>There is another library which can do both things like excel to java and java to excel.\nI provide below the link.</p>\n<p><a href=\"https://github.com/millij/poi-object-mapper\" rel=\"nofollow noreferrer\">https://github.com/millij/poi-object-mapper</a></p>\n<p>As per above library, you can do something like this.</p>\n<pre><code>@Sheet\npublic class Employee {\n\n    @SheetColumn(&quot;Age&quot;)\n    private Integer age;\n\n    @SheetColumn(&quot;Name&quot;)\n    public String getName() {\n        return name;\n    }\n\n}\n</code></pre>\n<p>To get data from xlsx file, you have to write like this.</p>\n<pre><code>final File xlsxFile = new File(&quot;&lt;path_to_file&gt;&quot;);\nfinal XlsReader reader = new XlsReader();\nList&lt;Employee&gt; employees = reader.read(Employee.class, xlsxFile);\n</code></pre>\n<p>To write data to the excel sheet, you have to do like this.</p>\n<pre><code>List&lt;Employee&gt; employees = new ArrayList&lt;Employee&gt;();\nemployees.add(new Employee(&quot;1&quot;, &quot;foo&quot;, 12, &quot;MALE&quot;, 1.68));\nSpreadsheetWriter writer = new SpreadsheetWriter(&quot;&lt;output_file_path&gt;&quot;);\nwriter.addSheet(Employee.class, employees);\nwriter.write();\n</code></pre>\n<p>You have to evaluate both the libraries for your use cases.</p>\n"},{"comments":[{"owner":{"account_id":5621541,"reputation":79,"user_id":4451210,"display_name":"share75"},"score":0,"creation_date":1585909580,"post_id":59008492,"comment_id":107935984,"body_markdown":"how would you suggest writing your own custom converter? For instance converting a java object to string.","body":"how would you suggest writing your own custom converter? For instance converting a java object to string."},{"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"score":0,"creation_date":1585916115,"post_id":59008492,"comment_id":107939070,"body_markdown":"@share75: It is not clear to me what your comment is about. This answer is about getting `Excel` sheet data into a `List` of  `POJO`s and vice versa. What own custom converter shall be written? And why converting a java object to string?","body":"@share75: It is not clear to me what your comment is about. This answer is about getting <code>Excel</code> sheet data into a <code>List</code> of  <code>POJO</code>s and vice versa. What own custom converter shall be written? And why converting a java object to string?"},{"owner":{"account_id":5621541,"reputation":79,"user_id":4451210,"display_name":"share75"},"score":0,"creation_date":1587765313,"post_id":59008492,"comment_id":108648642,"body_markdown":"Lets say in the above example there is one more fields which says; @ExcelColumn(name = &quot;Car&quot;) \npublic Car car;\n\nI want car.toString() as the value in the column.","body":"Lets say in the above example there is one more fields which says; @ExcelColumn(name = &quot;Car&quot;)  public Car car;  I want car.toString() as the value in the column."}],"tags":[],"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"comment_count":3,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1574768618,"creation_date":1574518204,"answer_id":59008492,"question_id":58981017,"body_markdown":"I would consider writing my own `apache poi` to/from `POJO` mapper package instead of simply searching for any available packages. Doing this you are more flexible in extending the functionality then because you then know how it works without the need of dive deep into code others have wrote and which is heavily divided up into classes and methods. Trying to understand such code can be really difficult. No to mention to know where to place your own wanted extensions then.\r\n\r\nTo have a start, here is a package `PoiPOJO` which until now only consists of two classes. `PoiPOJOUtils` which provides two static methods. One `sheetToPOJO` and one `pojoToSheet`. And `ExcelColumn` which is an `Annotation` interface usable in `POJO` classes then.\r\n\r\n`PoiPOJOUtils.java`:\r\n\r\n    package PoiPOJO;\r\n    \r\n    import org.apache.poi.ss.usermodel.*;\r\n    import org.apache.poi.ss.util.CellUtil;\r\n    import java.util.*;\r\n    import java.lang.reflect.*;\r\n    \r\n    public class PoiPOJOUtils {\r\n    \r\n     public static &lt;T&gt; List&lt;T&gt; sheetToPOJO(Sheet sheet, Class&lt;T&gt; beanClass) throws Exception {\r\n    \r\n      DataFormatter formatter = new DataFormatter(java.util.Locale.US);\r\n      FormulaEvaluator evaluator = sheet.getWorkbook().getCreationHelper().createFormulaEvaluator();\r\n    \r\n      int headerRowNum = sheet.getFirstRowNum();\r\n    \r\n      // collecting the column headers as a Map of header names to column indexes\r\n      Map&lt;Integer, String&gt; colHeaders = new HashMap&lt;Integer, String&gt;();\r\n      Row row = sheet.getRow(headerRowNum);\r\n      for (Cell cell : row) {\r\n       int colIdx = cell.getColumnIndex();\r\n       String value = formatter.formatCellValue(cell, evaluator);\r\n       colHeaders.put(colIdx, value);\r\n      }\r\n    \r\n      // collecting the content rows\r\n      List&lt;T&gt; result = new ArrayList&lt;T&gt;();\r\n      String cellValue = &quot;&quot;;\r\n      java.util.Date date = null;\r\n      Double num = null;\r\n      for (int r = headerRowNum + 1; r &lt;= sheet.getLastRowNum(); r++) {\r\n       row = sheet.getRow(r); if (row == null) row = sheet.createRow(r);\r\n       T bean = beanClass.getDeclaredConstructor().newInstance();\r\n    \r\n       for (Map.Entry&lt;Integer, String&gt; entry : colHeaders.entrySet()) {\r\n        int colIdx = entry.getKey();\r\n        Cell cell = row.getCell(colIdx); if (cell == null) cell = row.createCell(colIdx);\r\n        cellValue = formatter.formatCellValue(cell, evaluator); // string values and formatted numbers\r\n        // make some differences for numeric or formula content\r\n        date = null;\r\n        num = null;\r\n        if (cell.getCellType() == CellType.NUMERIC) {\r\n         if (DateUtil.isCellDateFormatted(cell)) { // date\r\n          date = cell.getDateCellValue();\r\n         } else { // other numbers\r\n          num = cell.getNumericCellValue();\r\n         }\r\n        } else if (cell.getCellType() == CellType.FORMULA) {\r\n         // if formula evaluates to numeric\r\n         if (evaluator.evaluateFormulaCell(cell) == CellType.NUMERIC) {\r\n          if (DateUtil.isCellDateFormatted(cell)) { // date\r\n           date = cell.getDateCellValue();\r\n          } else { // other numbers\r\n           num = cell.getNumericCellValue();\r\n          }\r\n         }\r\n        }\r\n    \r\n        // fill the bean\r\n        for (Field f : beanClass.getDeclaredFields()) {\r\n         if (!f.isAnnotationPresent(ExcelColumn.class)) {\r\n          continue;\r\n         }\r\n         ExcelColumn ec = f.getAnnotation(ExcelColumn.class);\r\n         if(entry.getValue().equals(ec.name())) {\r\n          f.setAccessible(true);\r\n          if (f.getType() == String.class) {\r\n           f.set(bean, cellValue);\r\n          } else if (f.getType() == Double.class) {\r\n           f.set(bean, num);\r\n          } else if (f.getType() == java.util.Date.class) {\r\n           f.set(bean, date);\r\n          } else { // this is for all other; Integer, Boolean, ...\r\n           if (!&quot;&quot;.equals(cellValue)) {\r\n            Method valueOf = f.getType().getDeclaredMethod(&quot;valueOf&quot;, String.class);\r\n            f.set(bean, valueOf.invoke(f.getType(), cellValue));\r\n           }\r\n          }\r\n         }\r\n        } \r\n       }\r\n       result.add(bean);\r\n      }\r\n    \r\n      return result;\r\n    \r\n     }\r\n    \r\n     public static &lt;T&gt; void pojoToSheet(Sheet sheet, List&lt;T&gt; rows) throws Exception {\r\n      if (rows.size() &gt; 0) { \r\n       Row row = null;\r\n       Cell cell = null;\r\n       int r = 0;\r\n       int c = 0;\r\n       int colCount = 0;\r\n       Map&lt;String, Object&gt; properties = null;\r\n       DataFormat dataFormat = sheet.getWorkbook().createDataFormat();\r\n    \r\n       Class beanClass = rows.get(0).getClass();\r\n    \r\n       // header row\r\n       row = sheet.createRow(r++);\r\n       for (Field f : beanClass.getDeclaredFields()) {\r\n        if (!f.isAnnotationPresent(ExcelColumn.class)) {\r\n         continue;\r\n        }\r\n        ExcelColumn ec = f.getAnnotation(ExcelColumn.class);\r\n        cell = row.createCell(c++);\r\n        // do formatting the header row\r\n        properties = new HashMap&lt;String, Object&gt;();\r\n        properties.put(CellUtil.FILL_PATTERN, FillPatternType.SOLID_FOREGROUND);\r\n        properties.put(CellUtil.FILL_FOREGROUND_COLOR, IndexedColors.GREY_25_PERCENT.getIndex());\r\n        CellUtil.setCellStyleProperties(cell, properties);\r\n        cell.setCellValue(ec.name());\r\n       }\r\n    \r\n       colCount = c;\r\n    \r\n       // contents\r\n       for (T bean : rows) {\r\n        c = 0;\r\n        row = sheet.createRow(r++);\r\n        for (Field f : beanClass.getDeclaredFields()) {\r\n         cell = row.createCell(c++);\r\n         if (!f.isAnnotationPresent(ExcelColumn.class)) {\r\n          continue;\r\n         }\r\n         ExcelColumn ec = f.getAnnotation(ExcelColumn.class);\r\n         // do number formatting the contents\r\n         String numberFormat = ec.numberFormat();\r\n         properties = new HashMap&lt;String, Object&gt;();\r\n         properties.put(CellUtil.DATA_FORMAT, dataFormat.getFormat(numberFormat));\r\n         CellUtil.setCellStyleProperties(cell, properties);\r\n    \r\n         f.setAccessible(true);\r\n         Object value = f.get(bean);\r\n         if (value != null) {\r\n          if (value instanceof String) {\r\n           cell.setCellValue((String)value);\r\n          } else if (value instanceof Double) {\r\n           cell.setCellValue((Double)value);\r\n          } else if (value instanceof Integer) {\r\n           cell.setCellValue((Integer)value);\r\n          } else if (value instanceof java.util.Date) {\r\n           cell.setCellValue((java.util.Date)value);\r\n          } else if (value instanceof Boolean) {\r\n           cell.setCellValue((Boolean)value);\r\n          }\r\n         }\r\n        }\r\n       }\r\n    \r\n       // auto size columns\r\n       for (int col = 0; col &lt; colCount; col++) {\r\n        sheet.autoSizeColumn(col);\r\n       }\r\n      }\r\n     }\r\n    \r\n    }\r\n\r\nand\r\n\r\n`ExcelColumn.java`:\r\n\r\n    package PoiPOJO;\r\n    \r\n    import java.lang.annotation.*;\r\n    \r\n    @Retention(RetentionPolicy.RUNTIME)\r\n    public @interface ExcelColumn {\r\n     String name();\r\n     String numberFormat() default &quot;General&quot;;\r\n    } \r\n\r\nThis can be used then having ...\r\n\r\n`Car.java`:\r\n\r\n    import PoiPOJO.ExcelColumn;\r\n    \r\n    public class Car {\r\n    \r\n     @ExcelColumn(name = &quot;Manufacturer&quot;)\r\n     public String manufacturer;\r\n    \r\n     @ExcelColumn(name = &quot;Model&quot;)\r\n     public String model;\r\n    \r\n     @ExcelColumn(name = &quot;Color&quot;)\r\n     public String color;\r\n    \r\n     @ExcelColumn(name = &quot;Year&quot;, numberFormat = &quot;0&quot;)\r\n     public Integer year;\r\n    \r\n     @ExcelColumn(name = &quot;Price&quot;, numberFormat = &quot;$#,##0.00&quot;)\r\n     public Double price;\r\n    \r\n     @ExcelColumn(name = &quot;Date&quot;, numberFormat = &quot;YYYY-MM-DD&quot;)\r\n     public java.util.Date date;\r\n    \r\n     @ExcelColumn(name = &quot;Available&quot;)\r\n     public Boolean available;\r\n    \r\n     public String toString() {\r\n      String result = &quot;&quot;\r\n       +&quot;Manufacturer=&quot; + this.manufacturer\r\n       +&quot; Model=&quot; + this.model\r\n       +&quot; Color=&quot; + this.color\r\n       +&quot; Year=&quot; + this.year\r\n       +&quot; Price=&quot; + this.price\r\n       +&quot; Date=&quot; + this.date\r\n       +&quot; Available=&quot; + this.available\r\n       +&quot;&quot;;\r\n      return result;\r\n     }\r\n    }\r\n\r\nand \r\n\r\n`TestPoiPOJO.java`:\r\n\r\n    import PoiPOJO.PoiPOJOUtils;\r\n    \r\n    import org.apache.poi.ss.usermodel.*;\r\n    \r\n    import java.io.FileInputStream;\r\n    import java.io.FileOutputStream;\r\n    import java.util.List;\r\n    \r\n    public class TestPoiPOJO {\r\n    \r\n     public static void main(String[] args) throws Exception {\r\n    \r\n      Workbook workbook = WorkbookFactory.create(new FileInputStream(&quot;ExcelCars.xlsx&quot;));\r\n      Sheet sheet = workbook.getSheetAt(0);\r\n      List&lt;Car&gt; cars = PoiPOJOUtils.sheetToPOJO(sheet, Car.class);\r\n      System.out.println(cars);\r\n    \r\n      Car car = new Car();\r\n      car.manufacturer = &quot;Mercedes-Benz&quot;;\r\n      car.model = &quot;S 560 4Matic&quot;;\r\n      car.color = &quot;Bordeaux&quot;;\r\n      car.year = 2019;\r\n      car.price = 78456.78;\r\n      car.date = new java.util.Date();\r\n      car.available = true;\r\n    \r\n      cars.add(car);\r\n    \r\n      sheet = workbook.createSheet();\r\n      PoiPOJOUtils.pojoToSheet(sheet, cars);\r\n    \r\n      FileOutputStream out = new FileOutputStream(&quot;ExcelCarsNew.xlsx&quot;);\r\n      workbook.write(out);\r\n      out.close();\r\n      workbook.close();\r\n     }\r\n    }\r\n\r\n\r\nThe `ExcelCars.xlsx` must contain your sample cars table in first sheet. The sequence of the columns is flexible. Only the headings must correspond to the names of the `ExcelColumn` annotations in class `Car`.\r\n\r\n\r\n","title":"Java Excel/POJO Mapping in POI","body":"<p>I would consider writing my own <code>apache poi</code> to/from <code>POJO</code> mapper package instead of simply searching for any available packages. Doing this you are more flexible in extending the functionality then because you then know how it works without the need of dive deep into code others have wrote and which is heavily divided up into classes and methods. Trying to understand such code can be really difficult. No to mention to know where to place your own wanted extensions then.</p>\n\n<p>To have a start, here is a package <code>PoiPOJO</code> which until now only consists of two classes. <code>PoiPOJOUtils</code> which provides two static methods. One <code>sheetToPOJO</code> and one <code>pojoToSheet</code>. And <code>ExcelColumn</code> which is an <code>Annotation</code> interface usable in <code>POJO</code> classes then.</p>\n\n<p><code>PoiPOJOUtils.java</code>:</p>\n\n<pre><code>package PoiPOJO;\n\nimport org.apache.poi.ss.usermodel.*;\nimport org.apache.poi.ss.util.CellUtil;\nimport java.util.*;\nimport java.lang.reflect.*;\n\npublic class PoiPOJOUtils {\n\n public static &lt;T&gt; List&lt;T&gt; sheetToPOJO(Sheet sheet, Class&lt;T&gt; beanClass) throws Exception {\n\n  DataFormatter formatter = new DataFormatter(java.util.Locale.US);\n  FormulaEvaluator evaluator = sheet.getWorkbook().getCreationHelper().createFormulaEvaluator();\n\n  int headerRowNum = sheet.getFirstRowNum();\n\n  // collecting the column headers as a Map of header names to column indexes\n  Map&lt;Integer, String&gt; colHeaders = new HashMap&lt;Integer, String&gt;();\n  Row row = sheet.getRow(headerRowNum);\n  for (Cell cell : row) {\n   int colIdx = cell.getColumnIndex();\n   String value = formatter.formatCellValue(cell, evaluator);\n   colHeaders.put(colIdx, value);\n  }\n\n  // collecting the content rows\n  List&lt;T&gt; result = new ArrayList&lt;T&gt;();\n  String cellValue = \"\";\n  java.util.Date date = null;\n  Double num = null;\n  for (int r = headerRowNum + 1; r &lt;= sheet.getLastRowNum(); r++) {\n   row = sheet.getRow(r); if (row == null) row = sheet.createRow(r);\n   T bean = beanClass.getDeclaredConstructor().newInstance();\n\n   for (Map.Entry&lt;Integer, String&gt; entry : colHeaders.entrySet()) {\n    int colIdx = entry.getKey();\n    Cell cell = row.getCell(colIdx); if (cell == null) cell = row.createCell(colIdx);\n    cellValue = formatter.formatCellValue(cell, evaluator); // string values and formatted numbers\n    // make some differences for numeric or formula content\n    date = null;\n    num = null;\n    if (cell.getCellType() == CellType.NUMERIC) {\n     if (DateUtil.isCellDateFormatted(cell)) { // date\n      date = cell.getDateCellValue();\n     } else { // other numbers\n      num = cell.getNumericCellValue();\n     }\n    } else if (cell.getCellType() == CellType.FORMULA) {\n     // if formula evaluates to numeric\n     if (evaluator.evaluateFormulaCell(cell) == CellType.NUMERIC) {\n      if (DateUtil.isCellDateFormatted(cell)) { // date\n       date = cell.getDateCellValue();\n      } else { // other numbers\n       num = cell.getNumericCellValue();\n      }\n     }\n    }\n\n    // fill the bean\n    for (Field f : beanClass.getDeclaredFields()) {\n     if (!f.isAnnotationPresent(ExcelColumn.class)) {\n      continue;\n     }\n     ExcelColumn ec = f.getAnnotation(ExcelColumn.class);\n     if(entry.getValue().equals(ec.name())) {\n      f.setAccessible(true);\n      if (f.getType() == String.class) {\n       f.set(bean, cellValue);\n      } else if (f.getType() == Double.class) {\n       f.set(bean, num);\n      } else if (f.getType() == java.util.Date.class) {\n       f.set(bean, date);\n      } else { // this is for all other; Integer, Boolean, ...\n       if (!\"\".equals(cellValue)) {\n        Method valueOf = f.getType().getDeclaredMethod(\"valueOf\", String.class);\n        f.set(bean, valueOf.invoke(f.getType(), cellValue));\n       }\n      }\n     }\n    } \n   }\n   result.add(bean);\n  }\n\n  return result;\n\n }\n\n public static &lt;T&gt; void pojoToSheet(Sheet sheet, List&lt;T&gt; rows) throws Exception {\n  if (rows.size() &gt; 0) { \n   Row row = null;\n   Cell cell = null;\n   int r = 0;\n   int c = 0;\n   int colCount = 0;\n   Map&lt;String, Object&gt; properties = null;\n   DataFormat dataFormat = sheet.getWorkbook().createDataFormat();\n\n   Class beanClass = rows.get(0).getClass();\n\n   // header row\n   row = sheet.createRow(r++);\n   for (Field f : beanClass.getDeclaredFields()) {\n    if (!f.isAnnotationPresent(ExcelColumn.class)) {\n     continue;\n    }\n    ExcelColumn ec = f.getAnnotation(ExcelColumn.class);\n    cell = row.createCell(c++);\n    // do formatting the header row\n    properties = new HashMap&lt;String, Object&gt;();\n    properties.put(CellUtil.FILL_PATTERN, FillPatternType.SOLID_FOREGROUND);\n    properties.put(CellUtil.FILL_FOREGROUND_COLOR, IndexedColors.GREY_25_PERCENT.getIndex());\n    CellUtil.setCellStyleProperties(cell, properties);\n    cell.setCellValue(ec.name());\n   }\n\n   colCount = c;\n\n   // contents\n   for (T bean : rows) {\n    c = 0;\n    row = sheet.createRow(r++);\n    for (Field f : beanClass.getDeclaredFields()) {\n     cell = row.createCell(c++);\n     if (!f.isAnnotationPresent(ExcelColumn.class)) {\n      continue;\n     }\n     ExcelColumn ec = f.getAnnotation(ExcelColumn.class);\n     // do number formatting the contents\n     String numberFormat = ec.numberFormat();\n     properties = new HashMap&lt;String, Object&gt;();\n     properties.put(CellUtil.DATA_FORMAT, dataFormat.getFormat(numberFormat));\n     CellUtil.setCellStyleProperties(cell, properties);\n\n     f.setAccessible(true);\n     Object value = f.get(bean);\n     if (value != null) {\n      if (value instanceof String) {\n       cell.setCellValue((String)value);\n      } else if (value instanceof Double) {\n       cell.setCellValue((Double)value);\n      } else if (value instanceof Integer) {\n       cell.setCellValue((Integer)value);\n      } else if (value instanceof java.util.Date) {\n       cell.setCellValue((java.util.Date)value);\n      } else if (value instanceof Boolean) {\n       cell.setCellValue((Boolean)value);\n      }\n     }\n    }\n   }\n\n   // auto size columns\n   for (int col = 0; col &lt; colCount; col++) {\n    sheet.autoSizeColumn(col);\n   }\n  }\n }\n\n}\n</code></pre>\n\n<p>and</p>\n\n<p><code>ExcelColumn.java</code>:</p>\n\n<pre><code>package PoiPOJO;\n\nimport java.lang.annotation.*;\n\n@Retention(RetentionPolicy.RUNTIME)\npublic @interface ExcelColumn {\n String name();\n String numberFormat() default \"General\";\n} \n</code></pre>\n\n<p>This can be used then having ...</p>\n\n<p><code>Car.java</code>:</p>\n\n<pre><code>import PoiPOJO.ExcelColumn;\n\npublic class Car {\n\n @ExcelColumn(name = \"Manufacturer\")\n public String manufacturer;\n\n @ExcelColumn(name = \"Model\")\n public String model;\n\n @ExcelColumn(name = \"Color\")\n public String color;\n\n @ExcelColumn(name = \"Year\", numberFormat = \"0\")\n public Integer year;\n\n @ExcelColumn(name = \"Price\", numberFormat = \"$#,##0.00\")\n public Double price;\n\n @ExcelColumn(name = \"Date\", numberFormat = \"YYYY-MM-DD\")\n public java.util.Date date;\n\n @ExcelColumn(name = \"Available\")\n public Boolean available;\n\n public String toString() {\n  String result = \"\"\n   +\"Manufacturer=\" + this.manufacturer\n   +\" Model=\" + this.model\n   +\" Color=\" + this.color\n   +\" Year=\" + this.year\n   +\" Price=\" + this.price\n   +\" Date=\" + this.date\n   +\" Available=\" + this.available\n   +\"\";\n  return result;\n }\n}\n</code></pre>\n\n<p>and </p>\n\n<p><code>TestPoiPOJO.java</code>:</p>\n\n<pre><code>import PoiPOJO.PoiPOJOUtils;\n\nimport org.apache.poi.ss.usermodel.*;\n\nimport java.io.FileInputStream;\nimport java.io.FileOutputStream;\nimport java.util.List;\n\npublic class TestPoiPOJO {\n\n public static void main(String[] args) throws Exception {\n\n  Workbook workbook = WorkbookFactory.create(new FileInputStream(\"ExcelCars.xlsx\"));\n  Sheet sheet = workbook.getSheetAt(0);\n  List&lt;Car&gt; cars = PoiPOJOUtils.sheetToPOJO(sheet, Car.class);\n  System.out.println(cars);\n\n  Car car = new Car();\n  car.manufacturer = \"Mercedes-Benz\";\n  car.model = \"S 560 4Matic\";\n  car.color = \"Bordeaux\";\n  car.year = 2019;\n  car.price = 78456.78;\n  car.date = new java.util.Date();\n  car.available = true;\n\n  cars.add(car);\n\n  sheet = workbook.createSheet();\n  PoiPOJOUtils.pojoToSheet(sheet, cars);\n\n  FileOutputStream out = new FileOutputStream(\"ExcelCarsNew.xlsx\");\n  workbook.write(out);\n  out.close();\n  workbook.close();\n }\n}\n</code></pre>\n\n<p>The <code>ExcelCars.xlsx</code> must contain your sample cars table in first sheet. The sequence of the columns is flexible. Only the headings must correspond to the names of the <code>ExcelColumn</code> annotations in class <code>Car</code>.</p>\n"},{"tags":[],"owner":{"account_id":2588804,"reputation":951,"user_id":2243919,"display_name":"zpavel"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1587124787,"creation_date":1587124787,"answer_id":61271135,"question_id":58981017,"body_markdown":"I wanted to find a simple way to parse a xls/xlsx file to a list of pojo. After some searching i didn&#39;t find anything convenient and preferred to develop it quickly. Now i am able to get pojos by simply calling :\r\n\r\n    InputStream is = this.getClass().getResourceAsStream(&quot;/ExcelUtilsTest.xlsx&quot;);\r\n    List&lt;Pojo&gt; pojos = ExcelToPojoUtils.toPojo(Pojo.class, is);\r\n\r\nIf interested take a look on it :\r\n\r\nhttps://github.com/ZPavel/excelToPojo","title":"Java Excel/POJO Mapping in POI","body":"<p>I wanted to find a simple way to parse a xls/xlsx file to a list of pojo. After some searching i didn't find anything convenient and preferred to develop it quickly. Now i am able to get pojos by simply calling :</p>\n\n<pre><code>InputStream is = this.getClass().getResourceAsStream(\"/ExcelUtilsTest.xlsx\");\nList&lt;Pojo&gt; pojos = ExcelToPojoUtils.toPojo(Pojo.class, is);\n</code></pre>\n\n<p>If interested take a look on it :</p>\n\n<p><a href=\"https://github.com/ZPavel/excelToPojo\" rel=\"nofollow noreferrer\">https://github.com/ZPavel/excelToPojo</a></p>\n"},{"tags":[],"owner":{"account_id":14035926,"reputation":208,"user_id":10138625,"display_name":"chirag"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1592259016,"creation_date":1592259016,"answer_id":62397821,"question_id":58981017,"body_markdown":"A slight variation to @Axel Ritcher&#39;s answer, using parallel streams and for Java objects with a Set Field (and no formula evaluation)  :\r\n\r\n```\r\npublic class ExcelFileUtils {\r\n\r\n    \r\n    @SneakyThrows\r\n    // Call this using ExcelFileUtils.sheetToPOJO(new FileInputStream(&quot;yourExcl.xlsx&quot;),YourPojo.class)\r\n    public static &lt;T&gt; List&lt;T&gt; sheetToPOJO(InputStream is, Class&lt;T&gt; beanClass) {\r\n        Workbook workbook = WorkbookFactory.create(is);\r\n        Sheet sheet=workbook.getSheetAt(0);\r\n        Map&lt;Integer, String&gt; colHeadersByColIdx = getColHeadersByCoIndex(sheet);\r\n        Map&lt;String, Field&gt; beanFieldsByExlColName=beanFieldsByExlColName(beanClass);\r\n        return IntStream.range(sheet.getFirstRowNum()+1,sheet.getLastRowNum())\r\n                .parallel()\r\n                .mapToObj(rowNum-&gt;{\r\n                    T bean = null;\r\n                    try {\r\n                        bean =beanClass.getDeclaredConstructor().newInstance();\r\n                        Row currentRow=sheet.getRow(rowNum);\r\n                        if(Objects.isNull(currentRow)) currentRow=sheet.createRow(rowNum);\r\n                        Row finalCurrentRow = currentRow;\r\n                        T finalBean = bean;\r\n                        colHeadersByColIdx.keySet().parallelStream()\r\n                                .forEach(colIdx-&gt;{\r\n                                    String colName=colHeadersByColIdx.get(colIdx);\r\n                                    Cell cell=finalCurrentRow.getCell(colIdx);\r\n                                    if(Objects.isNull(cell))cell=finalCurrentRow.createCell(colIdx);\r\n                                    String cellValue=cell.getStringCellValue();\r\n                                    Field fieldForColName=beanFieldsByExlColName.get(colName);\r\n                                    fieldForColName.setAccessible(true);\r\n                                    try {\r\n                                        if (fieldForColName.getType() == String.class) {\r\n                                            fieldForColName.set(finalBean, cellValue);\r\n                                        }\r\n                                        if(fieldForColName.getType() == Double.class){\r\n                                            fieldForColName.set(finalBean,cell.getNumericCellValue());\r\n                                        }\r\n                                        if(fieldForColName.getType() == Set.class ){\r\n                                            fieldForColName.set(finalBean, Arrays.stream(cellValue.split(&quot;,&quot;)).collect(Collectors.toSet()));\r\n                                        }\r\n                                    }catch (IllegalAccessException ex){\r\n                                        throw new ResponseStatusException(HttpStatus.INTERNAL_SERVER_ERROR,ex.getMessage());\r\n                                    }\r\n\r\n                                });\r\n                    } catch (InstantiationException | IllegalAccessException | InvocationTargetException |NoSuchMethodException e) {\r\n                        throw new ResponseStatusException(HttpStatus.BAD_REQUEST,e.getMessage());\r\n                    }\r\n\r\n\r\n                    return bean;\r\n                }).collect(Collectors.toList());\r\n\r\n\r\n    }\r\n\r\n    private static &lt;T&gt; Map&lt;String, Field&gt; beanFieldsByExlColName(Class&lt;T&gt; beanClass){\r\n        Map&lt;String, Field&gt; beanFieldsByExlColName=new HashMap&lt;&gt;();\r\n        Arrays.stream(beanClass.getDeclaredFields())\r\n                .parallel()\r\n                .filter(field -&gt; field.isAnnotationPresent(ExcelColumn.class))\r\n                .forEach(field -&gt; {\r\n                    ExcelColumn ec = field.getAnnotation(ExcelColumn.class);\r\n                    beanFieldsByExlColName.put(ec.name(),field);\r\n                });\r\n        return beanFieldsByExlColName;\r\n    }\r\n\r\n    private static  Map&lt;Integer, String&gt; getColHeadersByCoIndex(Sheet sheet){\r\n        Map&lt;Integer, String&gt; colHeadersByColIdx = new HashMap&lt;Integer, String&gt;();\r\n        Row row1 = sheet.getRow(sheet.getFirstRowNum());\r\n        for(Cell cell : row1){\r\n            int colIdx=cell.getColumnIndex();\r\n            colHeadersByColIdx.put(colIdx,cell.getStringCellValue());\r\n        }\r\n        return colHeadersByColIdx;\r\n    }\r\n}\r\n\r\n\r\n```\r\n\r\nPlease note that this example assumes that you have String, Double and Set&lt;String&gt; in your pojo and the excel column that corresponds to the Set&lt;String&gt; has comma separated values. \r\n\r\nFor example : \r\n\r\nPOJO : \r\n\r\n```\r\n@Data\r\npublic  class TestProduct{\r\n    @ExcelColumn(name = &quot;Product Name&quot;)\r\n    private String productName;\r\n    @ExcelColumn(name = &quot;Image Urls&quot;)\r\n    private Set&lt;String&gt; mediaUrls;\r\n}\r\n```\r\nAnd the Excel sheet : \r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/kMly2.png","title":"Java Excel/POJO Mapping in POI","body":"<p>A slight variation to @Axel Ritcher's answer, using parallel streams and for Java objects with a Set Field (and no formula evaluation)  :</p>\n\n<pre><code>public class ExcelFileUtils {\n\n\n    @SneakyThrows\n    // Call this using ExcelFileUtils.sheetToPOJO(new FileInputStream(\"yourExcl.xlsx\"),YourPojo.class)\n    public static &lt;T&gt; List&lt;T&gt; sheetToPOJO(InputStream is, Class&lt;T&gt; beanClass) {\n        Workbook workbook = WorkbookFactory.create(is);\n        Sheet sheet=workbook.getSheetAt(0);\n        Map&lt;Integer, String&gt; colHeadersByColIdx = getColHeadersByCoIndex(sheet);\n        Map&lt;String, Field&gt; beanFieldsByExlColName=beanFieldsByExlColName(beanClass);\n        return IntStream.range(sheet.getFirstRowNum()+1,sheet.getLastRowNum())\n                .parallel()\n                .mapToObj(rowNum-&gt;{\n                    T bean = null;\n                    try {\n                        bean =beanClass.getDeclaredConstructor().newInstance();\n                        Row currentRow=sheet.getRow(rowNum);\n                        if(Objects.isNull(currentRow)) currentRow=sheet.createRow(rowNum);\n                        Row finalCurrentRow = currentRow;\n                        T finalBean = bean;\n                        colHeadersByColIdx.keySet().parallelStream()\n                                .forEach(colIdx-&gt;{\n                                    String colName=colHeadersByColIdx.get(colIdx);\n                                    Cell cell=finalCurrentRow.getCell(colIdx);\n                                    if(Objects.isNull(cell))cell=finalCurrentRow.createCell(colIdx);\n                                    String cellValue=cell.getStringCellValue();\n                                    Field fieldForColName=beanFieldsByExlColName.get(colName);\n                                    fieldForColName.setAccessible(true);\n                                    try {\n                                        if (fieldForColName.getType() == String.class) {\n                                            fieldForColName.set(finalBean, cellValue);\n                                        }\n                                        if(fieldForColName.getType() == Double.class){\n                                            fieldForColName.set(finalBean,cell.getNumericCellValue());\n                                        }\n                                        if(fieldForColName.getType() == Set.class ){\n                                            fieldForColName.set(finalBean, Arrays.stream(cellValue.split(\",\")).collect(Collectors.toSet()));\n                                        }\n                                    }catch (IllegalAccessException ex){\n                                        throw new ResponseStatusException(HttpStatus.INTERNAL_SERVER_ERROR,ex.getMessage());\n                                    }\n\n                                });\n                    } catch (InstantiationException | IllegalAccessException | InvocationTargetException |NoSuchMethodException e) {\n                        throw new ResponseStatusException(HttpStatus.BAD_REQUEST,e.getMessage());\n                    }\n\n\n                    return bean;\n                }).collect(Collectors.toList());\n\n\n    }\n\n    private static &lt;T&gt; Map&lt;String, Field&gt; beanFieldsByExlColName(Class&lt;T&gt; beanClass){\n        Map&lt;String, Field&gt; beanFieldsByExlColName=new HashMap&lt;&gt;();\n        Arrays.stream(beanClass.getDeclaredFields())\n                .parallel()\n                .filter(field -&gt; field.isAnnotationPresent(ExcelColumn.class))\n                .forEach(field -&gt; {\n                    ExcelColumn ec = field.getAnnotation(ExcelColumn.class);\n                    beanFieldsByExlColName.put(ec.name(),field);\n                });\n        return beanFieldsByExlColName;\n    }\n\n    private static  Map&lt;Integer, String&gt; getColHeadersByCoIndex(Sheet sheet){\n        Map&lt;Integer, String&gt; colHeadersByColIdx = new HashMap&lt;Integer, String&gt;();\n        Row row1 = sheet.getRow(sheet.getFirstRowNum());\n        for(Cell cell : row1){\n            int colIdx=cell.getColumnIndex();\n            colHeadersByColIdx.put(colIdx,cell.getStringCellValue());\n        }\n        return colHeadersByColIdx;\n    }\n}\n\n\n</code></pre>\n\n<p>Please note that this example assumes that you have String, Double and Set in your pojo and the excel column that corresponds to the Set has comma separated values. </p>\n\n<p>For example : </p>\n\n<p>POJO : </p>\n\n<pre><code>@Data\npublic  class TestProduct{\n    @ExcelColumn(name = \"Product Name\")\n    private String productName;\n    @ExcelColumn(name = \"Image Urls\")\n    private Set&lt;String&gt; mediaUrls;\n}\n</code></pre>\n\n<p>And the Excel sheet : \n<a href=\"https://i.stack.imgur.com/kMly2.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/kMly2.png\" alt=\"enter image description here\"></a></p>\n"},{"comments":[{"owner":{"account_id":15772872,"reputation":477,"user_id":11381412,"display_name":"Jocasso"},"score":0,"creation_date":1644856185,"post_id":69683478,"comment_id":125710442,"body_markdown":"I like this library. It supports writing and reading. And the order of the Columns is matching with the order of the pojo field. Love it!","body":"I like this library. It supports writing and reading. And the order of the Columns is matching with the order of the pojo field. Love it!"},{"owner":{"account_id":15772872,"reputation":477,"user_id":11381412,"display_name":"Jocasso"},"score":0,"creation_date":1644859862,"post_id":69683478,"comment_id":125711863,"body_markdown":"is there the opportunity to map child-objects to the excel tabel?","body":"is there the opportunity to map child-objects to the excel tabel?"},{"owner":{"account_id":23116215,"reputation":91,"user_id":17223419,"display_name":"RusH UaT"},"score":0,"creation_date":1645037042,"post_id":69683478,"comment_id":125766557,"body_markdown":"Sorry, not sure if I see your question very clear. So, in the case if you want to map a child object to a Excel cell you can add your own ValueConverter for a child field and use it to map object data to a Excel cell and vice versa. But, if you want to map a child object to a table this way is not supported. Anyway you can add a ticket with your ideas to the project page on GitHub. Thanks.","body":"Sorry, not sure if I see your question very clear. So, in the case if you want to map a child object to a Excel cell you can add your own ValueConverter for a child field and use it to map object data to a Excel cell and vice versa. But, if you want to map a child object to a table this way is not supported. Anyway you can add a ticket with your ideas to the project page on GitHub. Thanks."},{"owner":{"account_id":23116215,"reputation":91,"user_id":17223419,"display_name":"RusH UaT"},"score":0,"creation_date":1663965109,"post_id":69683478,"comment_id":130371758,"body_markdown":"FYI, the latest version of the library now supports enumerations and class hierarchy mapping. Probably, it could help with child-objects mapping as well. Enjoy!","body":"FYI, the latest version of the library now supports enumerations and class hierarchy mapping. Probably, it could help with child-objects mapping as well. Enjoy!"},{"owner":{"account_id":2089121,"reputation":567,"user_id":1859342,"display_name":"Jach"},"score":0,"creation_date":1700624024,"post_id":69683478,"comment_id":136676419,"body_markdown":"@RusHUaT, nice that you are still updating ocell as of Nov 2023, upvote.","body":"@RusHUaT, nice that you are still updating ocell as of Nov 2023, upvote."}],"tags":[],"owner":{"account_id":23116215,"reputation":91,"user_id":17223419,"display_name":"RusH UaT"},"comment_count":5,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1697055585,"creation_date":1634940031,"answer_id":69683478,"question_id":58981017,"body_markdown":"I would like to recommend to use *oCell* library for mapping Excel to POJO and POJO to Excel.\r\n\r\nhttps://github.com/rushuat/ocell\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;io.github.rushuat&lt;/groupId&gt;\r\n      &lt;artifactId&gt;ocell&lt;/artifactId&gt;\r\n      &lt;version&gt;0.1.8&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nPlus, this library supports few types of annotations (i.e. oCell, Jackson, JAXB, JPA) and other features for mapping (e.g. data transformation, cell formatting, field ignoring, etc).\r\n\r\nCar POJO:\r\n\r\n    @Data\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    public class Car {\r\n    \r\n      @FieldName(&quot;Manufacturer&quot;)\r\n      private String manufacturer;\r\n    \r\n      @FieldName(&quot;Model&quot;)\r\n      private String model;\r\n    \r\n      @FieldName(&quot;Color&quot;)\r\n      private String color;\r\n    \r\n      @FieldAlignment(horizontal = &quot;right&quot;)\r\n      @FieldConverter(YearConverter.class)\r\n      @FieldName(&quot;Year&quot;)\r\n      private String year;\r\n    \r\n      @FieldAlignment(horizontal = &quot;right&quot;)\r\n      @FieldFormat(&quot;_($* #,##0.00_);_($* (#,##0.00);_($* \\&quot;-\\&quot;??_);_(@_)&quot;)\r\n      @FieldConverter(PriceConverter.class)\r\n      @FieldName(&quot;Price&quot;)\r\n      private BigDecimal price;\r\n    }\r\n\r\nRead/Write Excel:\r\n\r\n    Car hondaCar = new Car(&quot;Honda&quot;, &quot;Pilot&quot;, &quot;White&quot;, &quot;2019&quot;, new BigDecimal(39000));\r\n    Car chevyCar = new Car(&quot;Chevy&quot;, &quot;Silverado&quot;, &quot;Green&quot;, &quot;2018&quot;, new BigDecimal(34000));\r\n    Car toyotaCar = new Car(&quot;Toyota&quot;, &quot;Corolla&quot;, &quot;Silver&quot;, &quot;2002&quot;, new BigDecimal(4000));\r\n\r\n    try (Document document = new DocumentOOXML()) {\r\n      List&lt;Car&gt; cars = Arrays.asList(hondaCar, chevyCar, toyotaCar);\r\n      document.addSheet(cars);\r\n      document.toFile(&quot;cars.xlsx&quot;);\r\n    }\r\n\r\n    try (Document document = new DocumentOOXML()) {\r\n      document.fromFile(&quot;cars.xlsx&quot;);\r\n      List&lt;Car&gt; cars = document.getSheet(Car.class);\r\n    }\r\n\r\nField Converters:\r\n\r\n    public class YearConverter implements ValueConverter&lt;String, Integer&gt; {\r\n    \r\n      @Override\r\n      public String convertInput(Integer value) {\r\n        return value == null ? null : String.valueOf(value);\r\n      }\r\n    \r\n      @Override\r\n      public Integer convertOutput(String value) {\r\n        return value == null ? null : Integer.valueOf(value);\r\n      }\r\n    }\r\n\r\n    public class PriceConverter implements ValueConverter&lt;BigDecimal, Long&gt; {\r\n    \r\n      @Override\r\n      public BigDecimal convertInput(Long value) {\r\n        return value == null ? null : new BigDecimal(value);\r\n      }\r\n    \r\n      @Override\r\n      public Long convertOutput(BigDecimal value) {\r\n        return value == null ? null : value.longValue();\r\n      }\r\n    }\r\n\r\n@FieldFormat Source:\r\n\r\nhttps://stackoverflow.com/questions/319438/basic-excel-currency-format-with-apache-poi","title":"Java Excel/POJO Mapping in POI","body":"<p>I would like to recommend to use <em>oCell</em> library for mapping Excel to POJO and POJO to Excel.</p>\n<p><a href=\"https://github.com/rushuat/ocell\" rel=\"nofollow noreferrer\">https://github.com/rushuat/ocell</a></p>\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;io.github.rushuat&lt;/groupId&gt;\n  &lt;artifactId&gt;ocell&lt;/artifactId&gt;\n  &lt;version&gt;0.1.8&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Plus, this library supports few types of annotations (i.e. oCell, Jackson, JAXB, JPA) and other features for mapping (e.g. data transformation, cell formatting, field ignoring, etc).</p>\n<p>Car POJO:</p>\n<pre><code>@Data\n@NoArgsConstructor\n@AllArgsConstructor\npublic class Car {\n\n  @FieldName(&quot;Manufacturer&quot;)\n  private String manufacturer;\n\n  @FieldName(&quot;Model&quot;)\n  private String model;\n\n  @FieldName(&quot;Color&quot;)\n  private String color;\n\n  @FieldAlignment(horizontal = &quot;right&quot;)\n  @FieldConverter(YearConverter.class)\n  @FieldName(&quot;Year&quot;)\n  private String year;\n\n  @FieldAlignment(horizontal = &quot;right&quot;)\n  @FieldFormat(&quot;_($* #,##0.00_);_($* (#,##0.00);_($* \\&quot;-\\&quot;??_);_(@_)&quot;)\n  @FieldConverter(PriceConverter.class)\n  @FieldName(&quot;Price&quot;)\n  private BigDecimal price;\n}\n</code></pre>\n<p>Read/Write Excel:</p>\n<pre><code>Car hondaCar = new Car(&quot;Honda&quot;, &quot;Pilot&quot;, &quot;White&quot;, &quot;2019&quot;, new BigDecimal(39000));\nCar chevyCar = new Car(&quot;Chevy&quot;, &quot;Silverado&quot;, &quot;Green&quot;, &quot;2018&quot;, new BigDecimal(34000));\nCar toyotaCar = new Car(&quot;Toyota&quot;, &quot;Corolla&quot;, &quot;Silver&quot;, &quot;2002&quot;, new BigDecimal(4000));\n\ntry (Document document = new DocumentOOXML()) {\n  List&lt;Car&gt; cars = Arrays.asList(hondaCar, chevyCar, toyotaCar);\n  document.addSheet(cars);\n  document.toFile(&quot;cars.xlsx&quot;);\n}\n\ntry (Document document = new DocumentOOXML()) {\n  document.fromFile(&quot;cars.xlsx&quot;);\n  List&lt;Car&gt; cars = document.getSheet(Car.class);\n}\n</code></pre>\n<p>Field Converters:</p>\n<pre><code>public class YearConverter implements ValueConverter&lt;String, Integer&gt; {\n\n  @Override\n  public String convertInput(Integer value) {\n    return value == null ? null : String.valueOf(value);\n  }\n\n  @Override\n  public Integer convertOutput(String value) {\n    return value == null ? null : Integer.valueOf(value);\n  }\n}\n\npublic class PriceConverter implements ValueConverter&lt;BigDecimal, Long&gt; {\n\n  @Override\n  public BigDecimal convertInput(Long value) {\n    return value == null ? null : new BigDecimal(value);\n  }\n\n  @Override\n  public Long convertOutput(BigDecimal value) {\n    return value == null ? null : value.longValue();\n  }\n}\n</code></pre>\n<p>@FieldFormat Source:</p>\n<p><a href=\"https://stackoverflow.com/questions/319438/basic-excel-currency-format-with-apache-poi\">Basic Excel currency format with Apache POI</a></p>\n"}],"owner":{"account_id":6802882,"reputation":175,"user_id":5235665,"display_name":"hotmeatballsoup"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":36588,"favorite_count":0,"down_vote_count":0,"up_vote_count":12,"accepted_answer_id":58981402,"answer_count":5,"score":12,"last_activity_date":1697055585,"creation_date":1574359017,"question_id":58981017,"body_markdown":"Java 8 here using Apache POI 4.1 to load Excel (XLSX) files into memory, and write lists of Java beans/POJOs back to new Excel files.\r\n\r\nTo me, an Excel file (at least the ones I&#39;m working with) is really a list of POJOs, with each row being a different instance of the POJO, and each column a different field value for that instance. Observe:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nHere I might have a POJO called `Car`, and the example spreadsheet above is a `List&lt;Car&gt;`:\r\n\r\n```\r\n@Getter\r\n@Setter\r\npublic class Car {\r\n\r\n  private String manufacturer;\r\n  private String model;\r\n  private String color;\r\n  private String year;\r\n  private BigDecimal price;\r\n\r\n}\r\n```\r\n\r\nSo I have **functioning** code that will read an Excel file (&quot;`new-cars.xlsx`&quot;) into a `List&lt;Car&gt;`, process that list, and then write the processed list back to an output file, say, &quot;`processed-cars.xlsx`&quot;:\r\n\r\n```\r\n// 1. Load excel file into a List&lt;Car&gt;\r\nInputStream inp = new FileInputStream(&quot;new-cars.xlsx&quot;);\r\nWorkbook workbook = WorkbookFactory.create(inp);\r\nIterator&lt;Row&gt; iterator = workbook.getSheetAt(0).iterator();\r\n\r\nList&lt;Car&gt; carsInventory = new ArrayList&lt;&gt;();\r\nwhile (iterator.hasNext()) {\r\n\r\n    Car car = new Car();\r\n\r\n    Row currentRow = iterator.next();\r\n\r\n    // don&#39;t read the header\r\n    if (currentRow.getRowNum() == 0) {\r\n        continue;\r\n    }\r\n\r\n    Iterator&lt;Cell&gt; cellIterator = currentRow.iterator();\r\n\r\n    while (cellIterator.hasNext()) {\r\n\r\n        Cell currentCell = cellIterator.next();\r\n        CellAddress address = currentCell.getAddress();\r\n\r\n        if (0 == address.getColumn()) {\r\n            // 1st col is &quot;Manufacturer&quot;\r\n            car.setManufacturer(currentCell.getStringCellValue());\r\n        } else if (1 == address.getColumn()) {\r\n            // 2nd col is &quot;Model&quot;\r\n            car.setModel(currentCell.getStringCellValue());\r\n        } else if (2 == address.getColumn()) {\r\n            // 3rd col is &quot;Color&quot;\r\n            car.setColor(currentCell.getStringCellValue());\r\n        } else if (3 == address.getColumn()) {\r\n            // 4th col is &quot;Year&quot;\r\n            car.setYear(currentCell.getStringCellValue());\r\n        } else if (4 == address.getColumn()) {\r\n            // 5th col is &quot;Price&quot;\r\n            car.setPrice(BigDecimal.valueOf(currentCell.getNumericCellValue()));\r\n        }\r\n\r\n    }\r\n\r\n    carsInventory.add(car);\r\n\r\n}\r\n\r\n// 2. Process the list of Cars; doesn&#39;t matter what this does\r\nList&lt;Car&gt; processedInventory = processInventory(carsInventory);\r\n\r\n// 3. Output to &quot;processed-cars.xlsx&quot;\r\nWorkbook workbook = new XSSFWorkbook();\r\nSheet sheet = workbook.createSheet(&quot;Processed Inventory&quot;);\r\nint rowNum = 0;\r\n\r\n// create headers\r\nRow headerRow = sheet.createRow(rowNum);\r\nheaderRow.createCell(0).setCellValue(&quot;Manufacturer&quot;);\r\nheaderRow.createCell(1).setCellValue(&quot;Model&quot;);\r\nheaderRow.createCell(2).setCellValue(&quot;Color&quot;);\r\nheaderRow.createCell(3).setCellValue(&quot;Year&quot;);\r\nheaderRow.createCell(4).setCellValue(&quot;Price&quot;);\r\n\r\nrowNum++;\r\n\r\n// rip through the cars list and convert each one into a subsequent row\r\nfor (Car processedCar : processedInventory) {\r\n\r\n    Row nextRow = sheet.createRow(rowNum);\r\n\r\n    nextRow.createCell(0).setCellValue(processedCar.getManufacturer());\r\n    nextRow.createCell(1).setCellValue(processedCar.getModel());\r\n    nextRow.createCell(2).setCellValue(processedCar.getColor());\r\n    nextRow.createCell(3).setCellValue(processedCar.getYear());\r\n    nextRow.createCell(4).setCellValue(processedCar.getPrice().doubleValue());\r\n\r\n    rowNum++;\r\n\r\n}\r\n\r\nFileOutputStream fos = new FileOutputStream(&quot;processed-cars.xlsx&quot;);\r\nworkbook.write(fos);\r\n\r\nworkbook.close();\r\n\r\n```\r\n\r\n**While this works**, it looks really ugly/nasty to me. I&#39;ve used JSON mappers (Jackson, GSON, etc.), XML mappers (XStream) and OR/M tools (Hibernate) for years, and it occurred to me that POI&#39;s API (or some other library) might offer a &quot;_mapper-esque_&quot; solution that would allow me to map/bind the Excel data to/from a list of POJOs with minimal code and maximal elegance. However, I cannot find any such feature anywhere. Maybe this is because it doesn&#39;t exist, or maybe I&#39;m just not searching for the right keywords.\r\n\r\nIdeally, something along the lines of:\r\n\r\n```\r\n// Annotate the fields with something that POI (or whatever tool) can pick up\r\n@Getter\r\n@Setter\r\npublic class Car {\r\n\r\n  @ExcelColumn(name = &quot;Manufacturer&quot;, col = 0)\r\n  private String manufacturer;\r\n  \r\n  @ExcelColumn(name = &quot;Model&quot;, col = 1)\r\n  private String model;\r\n  \r\n  @ExcelColumn(name = &quot;Color&quot;, col = 2)\r\n  private String color;\r\n  \r\n  @ExcelColumn(name = &quot;Year&quot;, col = 3)\r\n  private String year;\r\n  \r\n  @ExcelColumn(name = &quot;Price&quot;, col = 4)\r\n  private BigDecimal price;\r\n\r\n}\r\n\r\n// 2. Now load the Excel into a List&lt;Car&gt;\r\nInputStream inp = new FileInputStream(&quot;new-cars.xlsx&quot;);\r\nList&lt;Car&gt; carsInventory = WorkbookFactory.create(inp).buildList(Car.class);\r\n\r\n// 3. Process the list\r\nList&lt;Car&gt; processedInventory = processInventory(carsInventory);\r\n\r\n//4. Write to a new file\r\nWorkbookFactory.write(processInventory, &quot;processed-cars.xlsx&quot;);\r\n```\r\n\r\n**Does anything like this exist in POI-land? Or am I stuck with what I got?**\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ak0XF.png","title":"Java Excel/POJO Mapping in POI","body":"<p>Java 8 here using Apache POI 4.1 to load Excel (XLSX) files into memory, and write lists of Java beans/POJOs back to new Excel files.</p>\n\n<p>To me, an Excel file (at least the ones I'm working with) is really a list of POJOs, with each row being a different instance of the POJO, and each column a different field value for that instance. Observe:</p>\n\n<p><a href=\"https://i.stack.imgur.com/ak0XF.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/ak0XF.png\" alt=\"enter image description here\"></a></p>\n\n<p>Here I might have a POJO called <code>Car</code>, and the example spreadsheet above is a <code>List&lt;Car&gt;</code>:</p>\n\n<pre><code>@Getter\n@Setter\npublic class Car {\n\n  private String manufacturer;\n  private String model;\n  private String color;\n  private String year;\n  private BigDecimal price;\n\n}\n</code></pre>\n\n<p>So I have <strong>functioning</strong> code that will read an Excel file (\"<code>new-cars.xlsx</code>\") into a <code>List&lt;Car&gt;</code>, process that list, and then write the processed list back to an output file, say, \"<code>processed-cars.xlsx</code>\":</p>\n\n<pre><code>// 1. Load excel file into a List&lt;Car&gt;\nInputStream inp = new FileInputStream(\"new-cars.xlsx\");\nWorkbook workbook = WorkbookFactory.create(inp);\nIterator&lt;Row&gt; iterator = workbook.getSheetAt(0).iterator();\n\nList&lt;Car&gt; carsInventory = new ArrayList&lt;&gt;();\nwhile (iterator.hasNext()) {\n\n    Car car = new Car();\n\n    Row currentRow = iterator.next();\n\n    // don't read the header\n    if (currentRow.getRowNum() == 0) {\n        continue;\n    }\n\n    Iterator&lt;Cell&gt; cellIterator = currentRow.iterator();\n\n    while (cellIterator.hasNext()) {\n\n        Cell currentCell = cellIterator.next();\n        CellAddress address = currentCell.getAddress();\n\n        if (0 == address.getColumn()) {\n            // 1st col is \"Manufacturer\"\n            car.setManufacturer(currentCell.getStringCellValue());\n        } else if (1 == address.getColumn()) {\n            // 2nd col is \"Model\"\n            car.setModel(currentCell.getStringCellValue());\n        } else if (2 == address.getColumn()) {\n            // 3rd col is \"Color\"\n            car.setColor(currentCell.getStringCellValue());\n        } else if (3 == address.getColumn()) {\n            // 4th col is \"Year\"\n            car.setYear(currentCell.getStringCellValue());\n        } else if (4 == address.getColumn()) {\n            // 5th col is \"Price\"\n            car.setPrice(BigDecimal.valueOf(currentCell.getNumericCellValue()));\n        }\n\n    }\n\n    carsInventory.add(car);\n\n}\n\n// 2. Process the list of Cars; doesn't matter what this does\nList&lt;Car&gt; processedInventory = processInventory(carsInventory);\n\n// 3. Output to \"processed-cars.xlsx\"\nWorkbook workbook = new XSSFWorkbook();\nSheet sheet = workbook.createSheet(\"Processed Inventory\");\nint rowNum = 0;\n\n// create headers\nRow headerRow = sheet.createRow(rowNum);\nheaderRow.createCell(0).setCellValue(\"Manufacturer\");\nheaderRow.createCell(1).setCellValue(\"Model\");\nheaderRow.createCell(2).setCellValue(\"Color\");\nheaderRow.createCell(3).setCellValue(\"Year\");\nheaderRow.createCell(4).setCellValue(\"Price\");\n\nrowNum++;\n\n// rip through the cars list and convert each one into a subsequent row\nfor (Car processedCar : processedInventory) {\n\n    Row nextRow = sheet.createRow(rowNum);\n\n    nextRow.createCell(0).setCellValue(processedCar.getManufacturer());\n    nextRow.createCell(1).setCellValue(processedCar.getModel());\n    nextRow.createCell(2).setCellValue(processedCar.getColor());\n    nextRow.createCell(3).setCellValue(processedCar.getYear());\n    nextRow.createCell(4).setCellValue(processedCar.getPrice().doubleValue());\n\n    rowNum++;\n\n}\n\nFileOutputStream fos = new FileOutputStream(\"processed-cars.xlsx\");\nworkbook.write(fos);\n\nworkbook.close();\n\n</code></pre>\n\n<p><strong>While this works</strong>, it looks really ugly/nasty to me. I've used JSON mappers (Jackson, GSON, etc.), XML mappers (XStream) and OR/M tools (Hibernate) for years, and it occurred to me that POI's API (or some other library) might offer a \"<em>mapper-esque</em>\" solution that would allow me to map/bind the Excel data to/from a list of POJOs with minimal code and maximal elegance. However, I cannot find any such feature anywhere. Maybe this is because it doesn't exist, or maybe I'm just not searching for the right keywords.</p>\n\n<p>Ideally, something along the lines of:</p>\n\n<pre><code>// Annotate the fields with something that POI (or whatever tool) can pick up\n@Getter\n@Setter\npublic class Car {\n\n  @ExcelColumn(name = \"Manufacturer\", col = 0)\n  private String manufacturer;\n\n  @ExcelColumn(name = \"Model\", col = 1)\n  private String model;\n\n  @ExcelColumn(name = \"Color\", col = 2)\n  private String color;\n\n  @ExcelColumn(name = \"Year\", col = 3)\n  private String year;\n\n  @ExcelColumn(name = \"Price\", col = 4)\n  private BigDecimal price;\n\n}\n\n// 2. Now load the Excel into a List&lt;Car&gt;\nInputStream inp = new FileInputStream(\"new-cars.xlsx\");\nList&lt;Car&gt; carsInventory = WorkbookFactory.create(inp).buildList(Car.class);\n\n// 3. Process the list\nList&lt;Car&gt; processedInventory = processInventory(carsInventory);\n\n//4. Write to a new file\nWorkbookFactory.write(processInventory, \"processed-cars.xlsx\");\n</code></pre>\n\n<p><strong>Does anything like this exist in POI-land? Or am I stuck with what I got?</strong></p>\n"},{"tags":["java","swt","rcp"],"comments":[{"owner":{"account_id":3159259,"reputation":109678,"user_id":2670892,"display_name":"greg-449"},"score":0,"creation_date":1696180022,"post_id":77210963,"comment_id":136117442,"body_markdown":"Generally you should not need to dispose of controls manually, SWT nearly always does this automatically at the correct time. But it is not at all clear from the question what exactly you are doing that causes the problem.","body":"Generally you should not need to dispose of controls manually, SWT nearly always does this automatically at the correct time. But it is not at all clear from the question what exactly you are doing that causes the problem."}],"owner":{"account_id":28386856,"reputation":1,"user_id":21713206,"display_name":"Bernard85"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697055000,"creation_date":1696171497,"question_id":77210963,"body_markdown":"In Java-SWT-RCP, I create several composites programmatically.\r\n\r\nFor each of them I register a menu:\r\n\r\n    eMenuService.registerContextMenu(this, &quot;SourceViewer.popupmenu&quot;);\r\n\r\nEverything work fine!\r\n\r\nBut, if I dispose one of the composites with the routine `.dispose`.\r\n\r\nAll the other composites lost the `popupmenu`.\r\n\r\nIs there any method to unregister the menu properly, before it dispose the composite?\r\n\r\n\r\n[enter image description here][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/vQsnM.png","title":"java RCP SWT the registerContextMenu(...) are lost","body":"<p>In Java-SWT-RCP, I create several composites programmatically.</p>\n<p>For each of them I register a menu:</p>\n<pre><code>eMenuService.registerContextMenu(this, &quot;SourceViewer.popupmenu&quot;);\n</code></pre>\n<p>Everything work fine!</p>\n<p>But, if I dispose one of the composites with the routine <code>.dispose</code>.</p>\n<p>All the other composites lost the <code>popupmenu</code>.</p>\n<p>Is there any method to unregister the menu properly, before it dispose the composite?</p>\n<p><a href=\"https://i.stack.imgur.com/vQsnM.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n"},{"tags":["java","open-telemetry"],"answers":[{"tags":[],"owner":{"account_id":4979746,"reputation":106,"user_id":4005091,"display_name":"Gaurang"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647857317,"creation_date":1647856756,"answer_id":71555705,"question_id":71480626,"body_markdown":"As per the logs it is trying to export to localhost:55680 which refers to your  application&#39;s container ,instead it should export to otel-collector&#39;s ip address.\r\n\r\n\r\n","title":"OpenTelemetry autoinstrumentation. Error with export spans via OTel collector to Jaeger","body":"<p>As per the logs it is trying to export to localhost:55680 which refers to your  application's container ,instead it should export to otel-collector's ip address.</p>\n"},{"tags":[],"owner":{"account_id":26202329,"reputation":21,"user_id":19882501,"display_name":"Adri V"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1663357721,"creation_date":1663355921,"answer_id":73749439,"question_id":71480626,"body_markdown":"Your `OTEL_EXPORTER_OTLP_TRACES_PROTOCOL` is set to `http/protobuf`; however your trace endpoint is set to `http://localhost:4317`, which is the default gRPC endpoint for the Collector. It should either be:\r\n\r\n```\r\nOTEL_EXPORTER_OTLP_TRACES_PROTOCOL=grpc\r\nOTEL_EXPORTER_OTLP_TRACES_ENDPOINT=http://localhost:4317\r\n```\r\nor\r\n\r\n```\r\nOTEL_EXPORTER_OTLP_TRACES_PROTOCOL=http/protobuf\r\nOTEL_EXPORTER_OTLP_TRACES_ENDPOINT=http://localhost:4318/v1/traces\r\n```\r\n\r\nSee docs [here](https://github.com/open-telemetry/opentelemetry-java/blob/main/sdk-extensions/autoconfigure/README.md#exporters)","title":"OpenTelemetry autoinstrumentation. Error with export spans via OTel collector to Jaeger","body":"<p>Your <code>OTEL_EXPORTER_OTLP_TRACES_PROTOCOL</code> is set to <code>http/protobuf</code>; however your trace endpoint is set to <code>http://localhost:4317</code>, which is the default gRPC endpoint for the Collector. It should either be:</p>\n<pre><code>OTEL_EXPORTER_OTLP_TRACES_PROTOCOL=grpc\nOTEL_EXPORTER_OTLP_TRACES_ENDPOINT=http://localhost:4317\n</code></pre>\n<p>or</p>\n<pre><code>OTEL_EXPORTER_OTLP_TRACES_PROTOCOL=http/protobuf\nOTEL_EXPORTER_OTLP_TRACES_ENDPOINT=http://localhost:4318/v1/traces\n</code></pre>\n<p>See docs <a href=\"https://github.com/open-telemetry/opentelemetry-java/blob/main/sdk-extensions/autoconfigure/README.md#exporters\" rel=\"nofollow noreferrer\">here</a></p>\n"}],"owner":{"account_id":24563580,"reputation":11,"user_id":18470999,"display_name":"Igor Vologodskiy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13018,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1697054690,"creation_date":1647339965,"question_id":71480626,"body_markdown":"I have a simple spring boot app and am trying to learn how to export spans with opentelemetry-javaagent via OpenTelemetry Collector in Jaeger. But I&#39;m getting an error. My application provides a simple post Rest API.\r\n\r\nCould you help me please what am I doing wrong?\r\n\r\n```\r\nError\r\n[opentelemetry.auto.trace 2022-03-15 10:02:28:286 +0000] [BatchSpanProcessor_ExporterThread_1] WARN io.opentelemetry.exporters.otlp.OtlpGrpcSpanExporter - Failed to export spans\r\nSpringBootRestService_1  | io.grpc.StatusRuntimeException: UNAVAILABLE: io exception\r\nSpringBootRestService_1  |      at io.grpc.stub.ClientCalls.toStatusRuntimeException(ClientCalls.java:244)\r\nSpringBootRestService_1  |      at io.grpc.stub.ClientCalls.getUnchecked(ClientCalls.java:225)\r\nSpringBootRestService_1  |      at io.grpc.stub.ClientCalls.blockingUnaryCall(ClientCalls.java:142)\r\nSpringBootRestService_1  |      at io.opentelemetry.proto.collector.trace.v1.TraceServiceGrpc$TraceServiceBlockingStub.export(TraceServiceGrpc.java:201)\r\nSpringBootRestService_1  |      at io.opentelemetry.exporters.otlp.OtlpGrpcSpanExporter.export(OtlpGrpcSpanExporter.java:114)\r\nSpringBootRestService_1  |      at io.opentelemetry.sdk.trace.export.BatchSpanProcessor$Worker$1.run(BatchSpanProcessor.java:288)\r\nSpringBootRestService_1  |      at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Unknown Source)\r\nSpringBootRestService_1  |      at java.base/java.util.concurrent.FutureTask.run(Unknown Source)\r\nSpringBootRestService_1  |      at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)\r\nSpringBootRestService_1  |      at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)\r\nSpringBootRestService_1  |      at java.base/java.lang.Thread.run(Unknown Source)\r\nSpringBootRestService_1  | Caused by: io.grpc.netty.shaded.io.netty.channel.AbstractChannel$AnnotatedConnectException: finishConnect(..) failed: Connection refused: localhost/127.0.0.1:55680\r\nSpringBootRestService_1  | Caused by: java.net.ConnectException: finishConnect(..) failed: Connection refused\r\n```\r\n    \r\nConfiguration (otel-collector-config.yaml):\r\n```\r\n    receivers:\r\n      otlp:\r\n        protocols:\r\n            grpc:\r\n              endpoint:\r\n    \r\n    exporters:\r\n      prometheus:\r\n        endpoint: &quot;0.0.0.0:8889&quot;\r\n        namespace: promexample\r\n        const_labels:\r\n          label1: value1\r\n      logging:\r\n        loglevel: debug\r\n    \r\n      zipkin:\r\n        endpoint: http://zipkin-all-in-one:9411/api/v2/spans\r\n        format: proto\r\n    \r\n      jaeger:\r\n        endpoint: jaeger-all-in-one:14250\r\n        insecure: true\r\n    \r\n    \r\n    processors:\r\n      batch:\r\n    \r\n    extensions:\r\n      health_check:\r\n      pprof:\r\n        endpoint: :1888\r\n      zpages:\r\n        endpoint: :55679\r\n    \r\n    service:\r\n      extensions: [pprof, zpages, health_check]\r\n      pipelines:\r\n        traces:\r\n          receivers: [otlp]\r\n          processors: [batch]\r\n          exporters: [logging, zipkin, jaeger]\r\n        metrics:\r\n          receivers: [otlp]\r\n          processors: [batch]\r\n          exporters: [logging, prometheus]\r\n    \r\n    **docker-compose.yml**\r\n    version: &quot;3.8&quot;\r\n    \r\n    services:\r\n    \r\n      SpringBootRestService:\r\n        image: &quot;spring-boot-rest-service&quot;\r\n        ports:\r\n          - &quot;8080-8090:8080-8090&quot;\r\n        volumes:\r\n          - &quot;./api/config/application.yml:/config/application.yml&quot;\r\n    \r\n      # Jaeger\r\n      jaeger-all-in-one:\r\n        image: &quot;jaegertracing/all-in-one:latest&quot;\r\n        ports:\r\n          - 5775:5775/udp\r\n          - 6831:6831/udp\r\n          - 6832:6832/udp\r\n          - 5778:5778\r\n          - 16686:16686\r\n          - 14268:14268\r\n          - 14250:14250\r\n    \r\n      # Zipkin\r\n      zipkin:\r\n        image: openzipkin/zipkin:latest\r\n        ports:\r\n          - &quot;9411:9411&quot;\r\n    \r\n        # Collector\r\n      otel-collector:\r\n        image: ${OTELCOL_IMG}\r\n        command: [ &quot;--config=./config/otel-collector-config.yaml&quot;, &quot;${OTELCOL_ARGS}&quot; ]\r\n        volumes:\r\n          - ./otel-collector-config.yaml:/config/otel-collector-config.yaml\r\n        ports:\r\n          - &quot;1888:1888&quot;   # pprof extension\r\n          - &quot;8888:8888&quot;   # Prometheus metrics exposed by the collector\r\n          - &quot;8889:8889&quot;   # Prometheus exporter metrics\r\n          - &quot;13133:13133&quot; # health_check extension\r\n          - &quot;55679:55679&quot; # zpages extension\r\n          - &quot;55680:55680&quot;\r\n          - &quot;4317:4317&quot;   # otlp receiver grpc\r\n          - &quot;4318:4318&quot;   # otlp receiver http\r\n          - &quot;55681:55681&quot;\r\n          - &quot;6831:6831&quot;\r\n          - &quot;6832:6832&quot;\r\n          - &quot;9943:9943&quot;\r\n          - &quot;1777:1777&quot;\r\n        depends_on:\r\n          - jaeger-all-in-one\r\n          - zipkin\r\n```\r\n\r\nStart:\r\n```\r\n    JAVA_OPTS=&quot;${JAVA_OPTS} \\\r\n      -Xms${JAVA_XMS} \\\r\n      -Xmx${JAVA_XMX} \\\r\n      -Dapplication.name=${APP_NAME} \\\r\n      -Dapplication.home=${APP_HOME} \\\r\n      -Dotel.traces.exporter=${OTEL_TRACES_EXPORTER} \\\r\n      -Dotel.service.name=${OTEL_SERVICE_NAME} \\\r\n      -Dotel.exporter.otlp.endpoint=${OTEL_EXPORTER_OTLP_ENDPOINT} \\\r\n      -javaagent:${APP_HOME}/opentelemetry-javaagent-all.jar&quot;\r\n    \r\n    exec java ${JAVA_OPTS} \\\r\n      -jar &quot;${APP_HOME}/${APP_NAME}.jar&quot; \\\r\n      --spring.config.location=/config/application.yml\r\n```\r\n\r\nEnvironmental variables:\r\n```\r\n    OTEL_TRACES_EXPORTER=otlp\r\n    OTELCOL_IMG=otel/opentelemetry-collector:latest\r\n    OTELCOL_OPTIONS=&quot;--config=./config/otel-collector-config.yaml&quot;\r\n    OTEL_EXPORTER_OTLP_ENDPOINT=http://localhost:4317\r\n    OTEL_EXPORTER_OTLP_TRACES_ENDPOINT=http://localhost:4317\r\n    OTEL_EXPORTER_OTLP_TRACES_PROTOCOL=http/protobuf\r\n    OTEL_SERVICE_NAME=spring-boot-rest-service\r\n    OTEL_RESOURCE_ATTRIBUTES=application=APPLICATION_NAME\r\n    OTELCOL_ARGS=\r\n```","title":"OpenTelemetry autoinstrumentation. Error with export spans via OTel collector to Jaeger","body":"<p>I have a simple spring boot app and am trying to learn how to export spans with opentelemetry-javaagent via OpenTelemetry Collector in Jaeger. But I'm getting an error. My application provides a simple post Rest API.</p>\n<p>Could you help me please what am I doing wrong?</p>\n<pre><code>Error\n[opentelemetry.auto.trace 2022-03-15 10:02:28:286 +0000] [BatchSpanProcessor_ExporterThread_1] WARN io.opentelemetry.exporters.otlp.OtlpGrpcSpanExporter - Failed to export spans\nSpringBootRestService_1  | io.grpc.StatusRuntimeException: UNAVAILABLE: io exception\nSpringBootRestService_1  |      at io.grpc.stub.ClientCalls.toStatusRuntimeException(ClientCalls.java:244)\nSpringBootRestService_1  |      at io.grpc.stub.ClientCalls.getUnchecked(ClientCalls.java:225)\nSpringBootRestService_1  |      at io.grpc.stub.ClientCalls.blockingUnaryCall(ClientCalls.java:142)\nSpringBootRestService_1  |      at io.opentelemetry.proto.collector.trace.v1.TraceServiceGrpc$TraceServiceBlockingStub.export(TraceServiceGrpc.java:201)\nSpringBootRestService_1  |      at io.opentelemetry.exporters.otlp.OtlpGrpcSpanExporter.export(OtlpGrpcSpanExporter.java:114)\nSpringBootRestService_1  |      at io.opentelemetry.sdk.trace.export.BatchSpanProcessor$Worker$1.run(BatchSpanProcessor.java:288)\nSpringBootRestService_1  |      at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Unknown Source)\nSpringBootRestService_1  |      at java.base/java.util.concurrent.FutureTask.run(Unknown Source)\nSpringBootRestService_1  |      at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)\nSpringBootRestService_1  |      at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)\nSpringBootRestService_1  |      at java.base/java.lang.Thread.run(Unknown Source)\nSpringBootRestService_1  | Caused by: io.grpc.netty.shaded.io.netty.channel.AbstractChannel$AnnotatedConnectException: finishConnect(..) failed: Connection refused: localhost/127.0.0.1:55680\nSpringBootRestService_1  | Caused by: java.net.ConnectException: finishConnect(..) failed: Connection refused\n</code></pre>\n<p>Configuration (otel-collector-config.yaml):</p>\n<pre><code>    receivers:\n      otlp:\n        protocols:\n            grpc:\n              endpoint:\n    \n    exporters:\n      prometheus:\n        endpoint: &quot;0.0.0.0:8889&quot;\n        namespace: promexample\n        const_labels:\n          label1: value1\n      logging:\n        loglevel: debug\n    \n      zipkin:\n        endpoint: http://zipkin-all-in-one:9411/api/v2/spans\n        format: proto\n    \n      jaeger:\n        endpoint: jaeger-all-in-one:14250\n        insecure: true\n    \n    \n    processors:\n      batch:\n    \n    extensions:\n      health_check:\n      pprof:\n        endpoint: :1888\n      zpages:\n        endpoint: :55679\n    \n    service:\n      extensions: [pprof, zpages, health_check]\n      pipelines:\n        traces:\n          receivers: [otlp]\n          processors: [batch]\n          exporters: [logging, zipkin, jaeger]\n        metrics:\n          receivers: [otlp]\n          processors: [batch]\n          exporters: [logging, prometheus]\n    \n    **docker-compose.yml**\n    version: &quot;3.8&quot;\n    \n    services:\n    \n      SpringBootRestService:\n        image: &quot;spring-boot-rest-service&quot;\n        ports:\n          - &quot;8080-8090:8080-8090&quot;\n        volumes:\n          - &quot;./api/config/application.yml:/config/application.yml&quot;\n    \n      # Jaeger\n      jaeger-all-in-one:\n        image: &quot;jaegertracing/all-in-one:latest&quot;\n        ports:\n          - 5775:5775/udp\n          - 6831:6831/udp\n          - 6832:6832/udp\n          - 5778:5778\n          - 16686:16686\n          - 14268:14268\n          - 14250:14250\n    \n      # Zipkin\n      zipkin:\n        image: openzipkin/zipkin:latest\n        ports:\n          - &quot;9411:9411&quot;\n    \n        # Collector\n      otel-collector:\n        image: ${OTELCOL_IMG}\n        command: [ &quot;--config=./config/otel-collector-config.yaml&quot;, &quot;${OTELCOL_ARGS}&quot; ]\n        volumes:\n          - ./otel-collector-config.yaml:/config/otel-collector-config.yaml\n        ports:\n          - &quot;1888:1888&quot;   # pprof extension\n          - &quot;8888:8888&quot;   # Prometheus metrics exposed by the collector\n          - &quot;8889:8889&quot;   # Prometheus exporter metrics\n          - &quot;13133:13133&quot; # health_check extension\n          - &quot;55679:55679&quot; # zpages extension\n          - &quot;55680:55680&quot;\n          - &quot;4317:4317&quot;   # otlp receiver grpc\n          - &quot;4318:4318&quot;   # otlp receiver http\n          - &quot;55681:55681&quot;\n          - &quot;6831:6831&quot;\n          - &quot;6832:6832&quot;\n          - &quot;9943:9943&quot;\n          - &quot;1777:1777&quot;\n        depends_on:\n          - jaeger-all-in-one\n          - zipkin\n</code></pre>\n<p>Start:</p>\n<pre><code>    JAVA_OPTS=&quot;${JAVA_OPTS} \\\n      -Xms${JAVA_XMS} \\\n      -Xmx${JAVA_XMX} \\\n      -Dapplication.name=${APP_NAME} \\\n      -Dapplication.home=${APP_HOME} \\\n      -Dotel.traces.exporter=${OTEL_TRACES_EXPORTER} \\\n      -Dotel.service.name=${OTEL_SERVICE_NAME} \\\n      -Dotel.exporter.otlp.endpoint=${OTEL_EXPORTER_OTLP_ENDPOINT} \\\n      -javaagent:${APP_HOME}/opentelemetry-javaagent-all.jar&quot;\n    \n    exec java ${JAVA_OPTS} \\\n      -jar &quot;${APP_HOME}/${APP_NAME}.jar&quot; \\\n      --spring.config.location=/config/application.yml\n</code></pre>\n<p>Environmental variables:</p>\n<pre><code>    OTEL_TRACES_EXPORTER=otlp\n    OTELCOL_IMG=otel/opentelemetry-collector:latest\n    OTELCOL_OPTIONS=&quot;--config=./config/otel-collector-config.yaml&quot;\n    OTEL_EXPORTER_OTLP_ENDPOINT=http://localhost:4317\n    OTEL_EXPORTER_OTLP_TRACES_ENDPOINT=http://localhost:4317\n    OTEL_EXPORTER_OTLP_TRACES_PROTOCOL=http/protobuf\n    OTEL_SERVICE_NAME=spring-boot-rest-service\n    OTEL_RESOURCE_ATTRIBUTES=application=APPLICATION_NAME\n    OTELCOL_ARGS=\n</code></pre>\n"},{"tags":["java","spring-boot","multithreading","spring-data-jpa","integration-testing"],"answers":[{"comments":[{"owner":{"account_id":1736824,"reputation":5410,"user_id":1589188,"accept_rate":66,"display_name":"user1589188"},"score":0,"creation_date":1697081546,"post_id":77276073,"comment_id":136235286,"body_markdown":"I also have some on the fly DDL (create table) so not everything can be removed by repositories.","body":"I also have some on the fly DDL (create table) so not everything can be removed by repositories."},{"owner":{"account_id":14162458,"reputation":3910,"user_id":10231374,"display_name":"Toni"},"score":0,"creation_date":1697095239,"post_id":77276073,"comment_id":136236849,"body_markdown":"Ok, then you can filter out the initial data (for example `deleteByIdNotIn(listOfIInitialds)`) or you can rerun liquidbase scripts which would be a more time-consuming solution.","body":"Ok, then you can filter out the initial data (for example <code>deleteByIdNotIn(listOfIInitialds)</code>) or you can rerun liquidbase scripts which would be a more time-consuming solution."}],"tags":[],"owner":{"account_id":14162458,"reputation":3910,"user_id":10231374,"display_name":"Toni"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697054219,"creation_date":1697054219,"answer_id":77276073,"question_id":77271984,"body_markdown":"Probably the simplest way would be defining an `@AfterEach` method that calls `deleteAll` of the underlying repository or repositories:\r\n```java\r\n@AfterEach\r\nvoid afterEach() {\r\n  repo.deleteAll();\r\n}\r\n```","title":"Easy way to undo changes made by multithread after each Spring Data JPA Integration Test?","body":"<p>Probably the simplest way would be defining an <code>@AfterEach</code> method that calls <code>deleteAll</code> of the underlying repository or repositories:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@AfterEach\nvoid afterEach() {\n  repo.deleteAll();\n}\n</code></pre>\n"}],"owner":{"account_id":1736824,"reputation":5410,"user_id":1589188,"accept_rate":66,"display_name":"user1589188"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1697054618,"creation_date":1697018306,"question_id":77271984,"body_markdown":"I know adding `@Transactional` can rollback the changes, however, my integration test involves multiple threads, and Hibernate is not happy to work with a single transaction shared between multiple threads, plus I need each thread to be able to see the changes made by other threads, so I ended up with threads having their own transactions and rolling back the starting testing thread does not undo the changes made by these threads.\r\n\r\nTest database is started with TestContainer and I don&#39;t want to destroy the container as well, because tables are setup with Liquibase. So I am after some easy way to just wipe the data after each integration test.","title":"Easy way to undo changes made by multithread after each Spring Data JPA Integration Test?","body":"<p>I know adding <code>@Transactional</code> can rollback the changes, however, my integration test involves multiple threads, and Hibernate is not happy to work with a single transaction shared between multiple threads, plus I need each thread to be able to see the changes made by other threads, so I ended up with threads having their own transactions and rolling back the starting testing thread does not undo the changes made by these threads.</p>\n<p>Test database is started with TestContainer and I don't want to destroy the container as well, because tables are setup with Liquibase. So I am after some easy way to just wipe the data after each integration test.</p>\n"},{"tags":["java","parsing","csv","opencsv"],"comments":[{"owner":{"account_id":401367,"reputation":23742,"user_id":767881,"accept_rate":14,"display_name":"Ravinder Reddy"},"score":0,"creation_date":1397472219,"post_id":23057761,"comment_id":35233510,"body_markdown":"What happens when you read a line from CSV and split it using `&quot;\\t\\t&quot;` ?","body":"What happens when you read a line from CSV and split it using <code>&quot;\\t\\t&quot;</code> ?"},{"owner":{"account_id":3617176,"reputation":1433,"user_id":3016744,"display_name":"Jad B."},"score":0,"creation_date":1397638198,"post_id":23057761,"comment_id":35316242,"body_markdown":"That&#39;s what I did finally, I parsed the file manually line by line and split by double tab string","body":"That&#39;s what I did finally, I parsed the file manually line by line and split by double tab string"}],"answers":[{"comments":[{"owner":{"account_id":2078676,"reputation":2468,"user_id":1851302,"accept_rate":62,"display_name":"KNU"},"score":0,"creation_date":1397472308,"post_id":23058043,"comment_id":35233554,"body_markdown":"i agree making a custom JAVA CSV reader is preferable than using APIs.","body":"i agree making a custom JAVA CSV reader is preferable than using APIs."},{"owner":{"account_id":1861886,"reputation":3121,"user_id":1686330,"accept_rate":83,"display_name":"Dirk Lachowski"},"score":2,"creation_date":1397472517,"post_id":23058043,"comment_id":35233666,"body_markdown":"I don&#39;t agree that reading/parsing csv is such a simple thing. It get&#39;s quite fast nasty (eg. quoted strings containing the field separator). But he could use openCSV and simply subclass `CSVParser.parseLine()`.","body":"I don&#39;t agree that reading/parsing csv is such a simple thing. It get&#39;s quite fast nasty (eg. quoted strings containing the field separator). But he could use openCSV and simply subclass <code>CSVParser.parseLine()</code>."},{"owner":{"account_id":261698,"reputation":6422,"user_id":546060,"accept_rate":86,"display_name":"Charles Goodwin"},"score":0,"creation_date":1397472919,"post_id":23058043,"comment_id":35233897,"body_markdown":"Suggest it as an answer @DirkLachowski","body":"Suggest it as an answer @DirkLachowski"}],"tags":[],"owner":{"account_id":261698,"reputation":6422,"user_id":546060,"accept_rate":86,"display_name":"Charles Goodwin"},"comment_count":3,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1397472199,"creation_date":1397472199,"answer_id":23058043,"question_id":23057761,"body_markdown":"There&#39;s 101 examples online. I Googled &quot;java parse csv&quot; and this was the #1 result:\r\n\r\nhttp://www.mkyong.com/java/how-to-read-and-parse-csv-file-in-java/\r\n\r\nThat uses a String as a separator, however this is code rather than an API.\r\n\r\nGiven that parsing a CSV file is a pretty simple process, I don&#39;t think it&#39;s a good example of a situation requiring a library and - especially with a slightly unique requirement like you have with the strange `\\t\\t` separator - it is probably better to just code it anyway.","title":"Parsing a CSV file with custom String separator","body":"<p>There's 101 examples online. I Googled \"java parse csv\" and this was the #1 result:</p>\n\n<p><a href=\"http://www.mkyong.com/java/how-to-read-and-parse-csv-file-in-java/\" rel=\"nofollow\">http://www.mkyong.com/java/how-to-read-and-parse-csv-file-in-java/</a></p>\n\n<p>That uses a String as a separator, however this is code rather than an API.</p>\n\n<p>Given that parsing a CSV file is a pretty simple process, I don't think it's a good example of a situation requiring a library and - especially with a slightly unique requirement like you have with the strange <code>\\t\\t</code> separator - it is probably better to just code it anyway.</p>\n"},{"tags":[],"owner":{"account_id":2904340,"reputation":2020,"user_id":2490115,"accept_rate":100,"display_name":"The Badak"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1397472319,"creation_date":1397472319,"answer_id":23058080,"question_id":23057761,"body_markdown":"try this:\r\n\r\n    ArrayList&lt;String&gt; itemsOne=new ArrayList&lt;String&gt;();\r\n    ArrayList&lt;String&gt; itemsTwo=new ArrayList&lt;String&gt;();\r\n    \r\n    InputStream is = getResources().openRawResource(R.raw.csvfile);\r\n    try {\r\n        BufferedReader reader = new BufferedReader(new InputStreamReader(is));\r\n        String line;\r\n    \r\n        while ((line = reader.readLine()) != null ) {\r\n            String [] rowData = line.split(&quot;\\t\\t&quot;);\r\n            itemsOne.add(rowData[0]);\r\n            itemsTwo.add(rowData[1]);\r\n        }\r\n    } catch (Exception e) {}","title":"Parsing a CSV file with custom String separator","body":"<p>try this:</p>\n\n<pre><code>ArrayList&lt;String&gt; itemsOne=new ArrayList&lt;String&gt;();\nArrayList&lt;String&gt; itemsTwo=new ArrayList&lt;String&gt;();\n\nInputStream is = getResources().openRawResource(R.raw.csvfile);\ntry {\n    BufferedReader reader = new BufferedReader(new InputStreamReader(is));\n    String line;\n\n    while ((line = reader.readLine()) != null ) {\n        String [] rowData = line.split(\"\\t\\t\");\n        itemsOne.add(rowData[0]);\n        itemsTwo.add(rowData[1]);\n    }\n} catch (Exception e) {}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3617176,"reputation":1433,"user_id":3016744,"display_name":"Jad B."},"score":0,"creation_date":1397478757,"post_id":23058178,"comment_id":35237300,"body_markdown":"I don&#39;t think this will help, because with Jsefa I&#39;m mapping the extracted line to the corresponding object","body":"I don&#39;t think this will help, because with Jsefa I&#39;m mapping the extracted line to the corresponding object"}],"tags":[],"owner":{"account_id":1488071,"reputation":5336,"user_id":1395863,"accept_rate":95,"display_name":"Farvardin"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1397472598,"creation_date":1397472598,"answer_id":23058178,"question_id":23057761,"body_markdown":"yes its correct that `opencsv` does not support `String` as deleimiter.\r\n\r\none simple solution is to use `&#39;\\t&#39;` as delimiter and ignore empty fields.\r\n\r\nfor example :\r\n\r\n    String s = &quot;1\\t\\t2\\t\\t3\\t\\t4&quot;;\r\n\r\nto\r\n\r\n    String[7] fields;\r\n    fields[0] = &quot;1&quot;;\r\n    fields[1] = &quot;&quot;;\r\n    fields[2] = &quot;2&quot;;\r\n    fields[3] = &quot;&quot;;\r\n    ...\r\n\r\n\r\n\r\n\r\n","title":"Parsing a CSV file with custom String separator","body":"<p>yes its correct that <code>opencsv</code> does not support <code>String</code> as deleimiter.</p>\n\n<p>one simple solution is to use <code>'\\t'</code> as delimiter and ignore empty fields.</p>\n\n<p>for example :</p>\n\n<pre><code>String s = \"1\\t\\t2\\t\\t3\\t\\t4\";\n</code></pre>\n\n<p>to</p>\n\n<pre><code>String[7] fields;\nfields[0] = \"1\";\nfields[1] = \"\";\nfields[2] = \"2\";\nfields[3] = \"\";\n...\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2166141,"reputation":10222,"user_id":1919228,"accept_rate":83,"display_name":"Pablo Lozano"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1397472963,"creation_date":1397472963,"answer_id":23058300,"question_id":23057761,"body_markdown":"The solution you are suggesting (replacing the separator string by a character seems to be the best one, as is easy and solves your problem.\r\nCSV is a very simple format, if you modify it adding complex separators then it is not a &quot;Comma Separated Values&quot; format anymore. Keep it simple!","title":"Parsing a CSV file with custom String separator","body":"<p>The solution you are suggesting (replacing the separator string by a character seems to be the best one, as is easy and solves your problem.\nCSV is a very simple format, if you modify it adding complex separators then it is not a \"Comma Separated Values\" format anymore. Keep it simple!</p>\n"},{"tags":[],"owner":{"account_id":55879,"reputation":10520,"user_id":167425,"accept_rate":50,"display_name":"Tom Morris"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697054204,"creation_date":1697054204,"answer_id":77276069,"question_id":23057761,"body_markdown":"The Apache `commons-csv` module added support for String delimiters in v1.9.0 a couple of years ago.\r\n\r\nhttps://issues.apache.org/jira/browse/CSV-206","title":"Parsing a CSV file with custom String separator","body":"<p>The Apache <code>commons-csv</code> module added support for String delimiters in v1.9.0 a couple of years ago.</p>\n<p><a href=\"https://issues.apache.org/jira/browse/CSV-206\" rel=\"nofollow noreferrer\">https://issues.apache.org/jira/browse/CSV-206</a></p>\n"}],"owner":{"account_id":3617176,"reputation":1433,"user_id":3016744,"display_name":"Jad B."},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9022,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":23058043,"answer_count":5,"score":4,"last_activity_date":1697054204,"creation_date":1397471239,"question_id":23057761,"body_markdown":"I tried to parse a CSV file with two APIs - [JSefa](http://jsefa.sourceforge.net/) and [OpenCSV](http://opencsv.sourceforge.net/) - but the problem is that the separator in the CSV file is a double tab &quot;\\t\\t&quot; and the APIs only accept a character, not a string, for the separator.\r\n\r\nIs there any other API that could solve the problem,  or there s a way to determine a new String separator in Jsefa or OpenCSV?\r\n\r\nAs a last resort I could, before parsing, try to replace the double tab by a semicolon but I was hoping to do it a cleaner way.","title":"Parsing a CSV file with custom String separator","body":"<p>I tried to parse a CSV file with two APIs - <a href=\"http://jsefa.sourceforge.net/\" rel=\"nofollow\">JSefa</a> and <a href=\"http://opencsv.sourceforge.net/\" rel=\"nofollow\">OpenCSV</a> - but the problem is that the separator in the CSV file is a double tab \"\\t\\t\" and the APIs only accept a character, not a string, for the separator.</p>\n\n<p>Is there any other API that could solve the problem,  or there s a way to determine a new String separator in Jsefa or OpenCSV?</p>\n\n<p>As a last resort I could, before parsing, try to replace the double tab by a semicolon but I was hoping to do it a cleaner way.</p>\n"},{"tags":["java","multithreading","unit-testing","junit","testability"],"comments":[{"owner":{"account_id":445,"reputation":114845,"user_id":572,"accept_rate":90,"display_name":"Thomas Owens"},"score":2,"creation_date":1227285601,"post_id":309396,"comment_id":152479,"body_markdown":"I&#39;m curious as to why a function would ever call System.exit()...","body":"I&#39;m curious as to why a function would ever call System.exit()..."},{"owner":{"account_id":11936,"reputation":13753,"user_id":23249,"accept_rate":85,"display_name":"Elie"},"score":2,"creation_date":1227286230,"post_id":309396,"comment_id":152521,"body_markdown":"If you&#39;re calling a function that exits the application. For example, if the user tries to perform a task they are not authorized to perform more that x times in a row, you force them out of the application.","body":"If you&#39;re calling a function that exits the application. For example, if the user tries to perform a task they are not authorized to perform more that x times in a row, you force them out of the application."},{"owner":{"account_id":445,"reputation":114845,"user_id":572,"accept_rate":90,"display_name":"Thomas Owens"},"score":5,"creation_date":1227286636,"post_id":309396,"comment_id":152537,"body_markdown":"I still think that in that case, there should be a nicer way to return from the application rather than System.exit().","body":"I still think that in that case, there should be a nicer way to return from the application rather than System.exit()."},{"owner":{"account_id":1376,"reputation":61117,"user_id":1836,"accept_rate":90,"display_name":"Matthew Farwell"},"score":40,"creation_date":1302000220,"post_id":309396,"comment_id":6310268,"body_markdown":"If you&#39;re testing main(), then it makes perfect sense to call System.exit(). We have a requirement that on error a batch process should exit with 1 and on success exit with 0.","body":"If you&#39;re testing main(), then it makes perfect sense to call System.exit(). We have a requirement that on error a batch process should exit with 1 and on success exit with 0."},{"owner":{"account_id":367746,"reputation":24129,"user_id":714112,"accept_rate":80,"display_name":"Sridhar Sarnobat"},"score":11,"creation_date":1508865024,"post_id":309396,"comment_id":80779894,"body_markdown":"I disagree with everyone who says `System.exit()` is bad - your program should fail fast. Throwing an exception merely prolongs an application in an invalid state in situations where a developer wants to exit and will give spurious errors.","body":"I disagree with everyone who says <code>System.exit()</code> is bad - your program should fail fast. Throwing an exception merely prolongs an application in an invalid state in situations where a developer wants to exit and will give spurious errors."},{"owner":{"account_id":2085695,"reputation":1023,"user_id":1856744,"accept_rate":4,"display_name":"Stunner"},"score":3,"creation_date":1601614795,"post_id":309396,"comment_id":113467260,"body_markdown":"@ThomasOwens  I&#39;m curious as to why you think System.exit is bad or not required.  Please tell me how to return a batch with exit code 20 or 30 from  a java application .","body":"@ThomasOwens  I&#39;m curious as to why you think System.exit is bad or not required.  Please tell me how to return a batch with exit code 20 or 30 from  a java application ."}],"answers":[{"tags":[],"owner":{"account_id":16634,"reputation":15228,"user_id":36472,"display_name":"flolo"},"comment_count":0,"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1227285907,"creation_date":1227285907,"answer_id":309415,"question_id":309396,"body_markdown":"A quick look at the api, shows that System.exit can throw an exception esp. if a securitymanager forbids the shutdown of the vm. Maybe a solution would be to install such a manager.","title":"How to test methods that call System.exit()?","body":"<p>A quick look at the api, shows that System.exit can throw an exception esp. if a securitymanager forbids the shutdown of the vm. Maybe a solution would be to install such a manager.</p>\n"},{"comments":[{"owner":{"account_id":7445,"reputation":62274,"user_id":12943,"accept_rate":84,"display_name":"Bill K"},"score":4,"creation_date":1227288350,"post_id":309427,"comment_id":152637,"body_markdown":"Didn&#39;t like the first answer, but the second is pretty cool--I hadn&#39;t messed with security managers and assumed they were more complicated than that.  However, how do you test the security manager/testing mechanism.","body":"Didn&#39;t like the first answer, but the second is pretty cool--I hadn&#39;t messed with security managers and assumed they were more complicated than that.  However, how do you test the security manager/testing mechanism."},{"owner":{"account_id":5100,"reputation":29377,"user_id":8026,"accept_rate":63,"display_name":"MetroidFan2002"},"score":8,"creation_date":1227423650,"post_id":309427,"comment_id":154931,"body_markdown":"Make sure the tear down is executed properly, otherwise, your test will fail in a runner such as Eclipse because the JUnit application can&#39;t exit! :)","body":"Make sure the tear down is executed properly, otherwise, your test will fail in a runner such as Eclipse because the JUnit application can&#39;t exit! :)"},{"owner":{"account_id":1862,"reputation":2568,"user_id":2569,"display_name":"Nicolai Reuschling"},"score":6,"creation_date":1242823666,"post_id":309427,"comment_id":694621,"body_markdown":"I don&#39;t like the solution using the security manager. Seems like a hack to me just to test it.","body":"I don&#39;t like the solution using the security manager. Seems like a hack to me just to test it."},{"owner":{"account_id":38851,"reputation":918,"user_id":111786,"accept_rate":59,"display_name":"bbuser"},"score":0,"creation_date":1335443530,"post_id":309427,"comment_id":13306502,"body_markdown":"I like that solution but it doesn&#39;t work for me. I use Aaron M. Renn&#39;s getopt port which does a `System.getProperty(&quot;gnu.posixly_correct&quot;, null)` (Getopt.java, line 615). This causes a security exception to be thrown whenever the  `NoExitSecurityManager` is installed. I also tried the more elaborate `NoExitSecurityManager` from the SystemRules library mentioned in another answer, but it also throws the exception.","body":"I like that solution but it doesn&#39;t work for me. I use Aaron M. Renn&#39;s getopt port which does a <code>System.getProperty(&quot;gnu.posixly_correct&quot;, null)</code> (Getopt.java, line 615). This causes a security exception to be thrown whenever the  <code>NoExitSecurityManager</code> is installed. I also tried the more elaborate <code>NoExitSecurityManager</code> from the SystemRules library mentioned in another answer, but it also throws the exception."},{"owner":{"account_id":4243,"reputation":1301938,"user_id":6309,"accept_rate":100,"display_name":"VonC"},"score":0,"creation_date":1335447065,"post_id":309427,"comment_id":13308146,"body_markdown":"@bbuser the one from http://www.urbanophile.com/arenn/hacking/getopt/ then? Interesting. That would be best in a separate question (with a link to this question) in order to present what you have tried and the security exception it generates.","body":"@bbuser the one from <a href=\"http://www.urbanophile.com/arenn/hacking/getopt/\" rel=\"nofollow noreferrer\">urbanophile.com/arenn/hacking/getopt</a> then? Interesting. That would be best in a separate question (with a link to this question) in order to present what you have tried and the security exception it generates."},{"owner":{"account_id":218057,"reputation":67738,"user_id":474189,"accept_rate":72,"display_name":"Duncan Jones"},"score":1,"creation_date":1343401329,"post_id":309427,"comment_id":15500793,"body_markdown":"@VonC Don&#39;t agree with the first answer. Some Java programs are written to be executed by scripts which expect 0=success, 1=failure behaviour. AFAIK, the Java spec does not force a JVM to return a non-zero error code if an uncaught exception occurs. Second answer looks good though.","body":"@VonC Don&#39;t agree with the first answer. Some Java programs are written to be executed by scripts which expect 0=success, 1=failure behaviour. AFAIK, the Java spec does not force a JVM to return a non-zero error code if an uncaught exception occurs. Second answer looks good though."},{"owner":{"account_id":4243,"reputation":1301938,"user_id":6309,"accept_rate":100,"display_name":"VonC"},"score":0,"creation_date":1343402656,"post_id":309427,"comment_id":15501462,"body_markdown":"@DuncanJones re-reading http://docs.oracle.com/javase/specs/jvms/se7/html/jvms-2.html#jvms-2.10 , you are right (on the lack of fixed exit status on a JVM ending because of unchecked exception)","body":"@DuncanJones re-reading <a href=\"http://docs.oracle.com/javase/specs/jvms/se7/html/jvms-2.html#jvms-2.10\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/specs/jvms/se7/html/&hellip;</a> , you are right (on the lack of fixed exit status on a JVM ending because of unchecked exception)"},{"owner":{"account_id":268386,"reputation":6188,"user_id":557117,"accept_rate":92,"display_name":"Will"},"score":7,"creation_date":1355765658,"post_id":309427,"comment_id":19186122,"body_markdown":"If you&#39;re using junit 4.7 or above, let a library deal with capturing your System.exit calls.  System Rules  - http://stefanbirkner.github.com/system-rules/","body":"If you&#39;re using junit 4.7 or above, let a library deal with capturing your System.exit calls.  System Rules  - <a href=\"http://stefanbirkner.github.com/system-rules/\" rel=\"nofollow noreferrer\">stefanbirkner.github.com/system-rules</a>"},{"owner":{"account_id":4243,"reputation":1301938,"user_id":6309,"accept_rate":100,"display_name":"VonC"},"score":0,"creation_date":1355777040,"post_id":309427,"comment_id":19191210,"body_markdown":"@Will interesting suggestion. I have included it in this (old) answer for more visibility.","body":"@Will interesting suggestion. I have included it in this (old) answer for more visibility."},{"owner":{"account_id":244931,"reputation":18072,"user_id":808804,"accept_rate":80,"display_name":"Adam Parkin"},"score":10,"creation_date":1375891260,"post_id":309427,"comment_id":26510398,"body_markdown":"&quot;Instead of terminating with System.exit(whateverValue), why not throw an unchecked exception?&quot; -- because I&#39;m using command line argument processing framework which calls `System.exit` whenever an invalid command line argument is supplied.","body":"&quot;Instead of terminating with System.exit(whateverValue), why not throw an unchecked exception?&quot; -- because I&#39;m using command line argument processing framework which calls <code>System.exit</code> whenever an invalid command line argument is supplied."},{"owner":{"account_id":1560281,"reputation":6593,"user_id":1450294,"accept_rate":61,"display_name":"Michael Scheper"},"score":0,"creation_date":1390531170,"post_id":309427,"comment_id":32142269,"body_markdown":"Nothing against @Will, but this answer actually predates his comment, so I think its author should receive the credit: http://stackoverflow.com/a/8658497/1450294","body":"Nothing against @Will, but this answer actually predates his comment, so I think its author should receive the credit: <a href=\"http://stackoverflow.com/a/8658497/1450294\">stackoverflow.com/a/8658497/1450294</a>"},{"owner":{"account_id":4243,"reputation":1301938,"user_id":6309,"accept_rate":100,"display_name":"VonC"},"score":1,"creation_date":1390545275,"post_id":309427,"comment_id":32146814,"body_markdown":"@MichaelScheper right, I have added the proper attribution in the answer.","body":"@MichaelScheper right, I have added the proper attribution in the answer."},{"owner":{"account_id":154112,"reputation":4462,"user_id":369824,"accept_rate":50,"display_name":"L. Holanda"},"score":2,"creation_date":1445454224,"post_id":309427,"comment_id":54335637,"body_markdown":"Voted down: don&#39;t like first point. I agree System.exit is not a good practice, however, not the answer for the question asked. don&#39;t like the second point. Messing up with java security manager is not in harmony with unit test. I like the third point, but it is just a copy &amp; paste from Stefan Birkner answer below. His answer should be the accepted one, not this one.","body":"Voted down: don&#39;t like first point. I agree System.exit is not a good practice, however, not the answer for the question asked. don&#39;t like the second point. Messing up with java security manager is not in harmony with unit test. I like the third point, but it is just a copy &amp; paste from Stefan Birkner answer below. His answer should be the accepted one, not this one."},{"owner":{"account_id":362118,"reputation":532,"user_id":705147,"display_name":"cbaldan"},"score":1,"creation_date":1457379525,"post_id":309427,"comment_id":59370608,"body_markdown":"I liked the solution to catch a System.exit(). I need to control the life of a web engine within my test framework, and the company security policies requires it to call exit() explicitly, so, I *need* to catch that. I added some extra verification in the strackTrace if the engine was the exit() caller, and it&#39;s plain good for my need. Voted up!\nBut for testing purposes, [Sytem Rules](http://stefanbirkner.github.com/system-rules/) is a much more elegant approach.","body":"I liked the solution to catch a System.exit(). I need to control the life of a web engine within my test framework, and the company security policies requires it to call exit() explicitly, so, I <i>need</i> to catch that. I added some extra verification in the strackTrace if the engine was the exit() caller, and it&#39;s plain good for my need. Voted up! But for testing purposes, <a href=\"http://stefanbirkner.github.com/system-rules/\" rel=\"nofollow noreferrer\">Sytem Rules</a> is a much more elegant approach."},{"owner":{"account_id":1330808,"reputation":147,"user_id":1274776,"display_name":"hyperlink"},"score":0,"creation_date":1607526760,"post_id":309427,"comment_id":115301096,"body_markdown":"Hi, My tests won&#39;t fail even if there is no system.exit() in the code after the exit.expectSystemExit(); line. Any ideas why that would happen?","body":"Hi, My tests won&#39;t fail even if there is no system.exit() in the code after the exit.expectSystemExit(); line. Any ideas why that would happen?"},{"owner":{"account_id":4243,"reputation":1301938,"user_id":6309,"accept_rate":100,"display_name":"VonC"},"score":0,"creation_date":1607526857,"post_id":309427,"comment_id":115301133,"body_markdown":"@hyperlink 12 years later, I am not sure: you might want to ask a separate question, with your current 2020 Java and OS, which are certainly different from mine at the time I wrote this.","body":"@hyperlink 12 years later, I am not sure: you might want to ask a separate question, with your current 2020 Java and OS, which are certainly different from mine at the time I wrote this."},{"owner":{"account_id":249565,"reputation":9766,"user_id":525725,"accept_rate":67,"display_name":"Emmanuel Bourg"},"score":0,"creation_date":1697025052,"post_id":309427,"comment_id":136226933,"body_markdown":"For this to work with Java 21 this system property must be set `-Djava.security.manager=allow`","body":"For this to work with Java 21 this system property must be set <code>-Djava.security.manager=allow</code>"},{"owner":{"account_id":4243,"reputation":1301938,"user_id":6309,"accept_rate":100,"display_name":"VonC"},"score":0,"creation_date":1697053965,"post_id":309427,"comment_id":136232662,"body_markdown":"@EmmanuelBourg Good point, thank you for your feedback. I have included your comment in the answer for more visibility.","body":"@EmmanuelBourg Good point, thank you for your feedback. I have included your comment in the answer for more visibility."}],"tags":[],"owner":{"account_id":4243,"reputation":1301938,"user_id":6309,"accept_rate":100,"display_name":"VonC"},"comment_count":18,"down_vote_count":5,"up_vote_count":244,"is_accepted":true,"score":239,"last_activity_date":1697053908,"creation_date":1227286102,"answer_id":309427,"question_id":309396,"body_markdown":"Indeed, [Derkeiler.com][1] suggests:\r\n\r\n&gt; - Why `System.exit()` ?\r\n&gt;\r\n&gt;   Instead of terminating with System.exit(whateverValue), why not throw an unchecked exception? In normal use it will drift all the way out to the JVM&#39;s last-ditch catcher and shut your script down (unless you decide to catch it somewhere along the way, which might be useful someday). \r\n&gt;\r\n&gt;   In the JUnit scenario it will be caught by the JUnit framework, which will report that such-and-such test failed and move smoothly along to the next.\r\n&gt;\r\n&gt; - Prevent `System.exit()` to actually exit the JVM:\r\n&gt;\r\n&gt;   Try modifying the TestCase to run with a security manager that prevents calling System.exit, then catch the SecurityException.\r\n\r\n```java\r\npublic class NoExitTestCase extends TestCase \r\n{\r\n\r\n\tprotected static class ExitException extends SecurityException \r\n\t{\r\n\t\tpublic final int status;\r\n\t\tpublic ExitException(int status) \r\n\t\t{\r\n\t\t\tsuper(&quot;There is no escape!&quot;);\r\n\t\t\tthis.status = status;\r\n\t\t}\r\n\t}\r\n\r\n\tprivate static class NoExitSecurityManager extends SecurityManager \r\n\t{\r\n\t\t@Override\r\n\t\tpublic void checkPermission(Permission perm) \r\n\t\t{\r\n\t\t\t// allow anything.\r\n\t\t}\r\n\t\t@Override\r\n\t\tpublic void checkPermission(Permission perm, Object context) \r\n\t\t{\r\n\t\t\t// allow anything.\r\n\t\t}\r\n\t\t@Override\r\n\t\tpublic void checkExit(int status) \r\n\t\t{\r\n\t\t\tsuper.checkExit(status);\r\n\t\t\tthrow new ExitException(status);\r\n\t\t}\r\n\t}\r\n\r\n\t@Override\r\n\tprotected void setUp() throws Exception \r\n\t{\r\n\t\tsuper.setUp();\r\n\t\tSystem.setSecurityManager(new NoExitSecurityManager());\r\n\t}\r\n\r\n\t@Override\r\n\tprotected void tearDown() throws Exception \r\n\t{\r\n\t\tSystem.setSecurityManager(null); // or save and restore original\r\n\t\tsuper.tearDown();\r\n\t}\r\n\r\n\tpublic void testNoExit() throws Exception \r\n\t{\r\n\t\tSystem.out.println(&quot;Printing works&quot;);\r\n\t}\r\n\r\n\tpublic void testExit() throws Exception \r\n\t{\r\n\t\ttry \r\n\t\t{\r\n\t\t\tSystem.exit(42);\r\n\t\t} catch (ExitException e) \r\n\t\t{\r\n\t\t\tassertEquals(&quot;Exit status&quot;, 42, e.status);\r\n\t\t}\r\n\t}\r\n}\r\n```\r\n\r\n----\r\n\r\nUpdate December 2012:\r\n\r\n[Will][2] proposes [in the comments][3] using [**System Rules**][4], a collection of JUnit(4.9+) rules for testing code which uses `java.lang.System`.  \r\nThis was initially mentioned by **[Stefan Birkner][5]** in [his answer][6] in December 2011.\r\n\r\n    System.exit()\r\n\r\n&gt; Use the [`ExpectedSystemExit`][7] rule to verify that `System.exit()` is called.  \r\nYou could verify the exit status, too.\r\n\r\nFor instance:\r\n\r\n```java\r\npublic void MyTest {\r\n\t@Rule\r\n\tpublic final ExpectedSystemExit exit = ExpectedSystemExit.none();\r\n\r\n\t@Test\r\n\tpublic void noSystemExit() {\r\n\t\t//passes\r\n\t}\r\n\r\n\t@Test\r\n\tpublic void systemExitWithArbitraryStatusCode() {\r\n\t\texit.expectSystemExit();\r\n\t\tSystem.exit(0);\r\n\t}\r\n\r\n\t@Test\r\n\tpublic void systemExitWithSelectedStatusCode0() {\r\n\t\texit.expectSystemExitWithStatus(0);\r\n\t\tSystem.exit(0);\r\n\t}\r\n}\r\n```\r\n\r\n----\r\n\r\n2023: [Emmanuel Bourg](https://stackoverflow.com/users/525725/emmanuel-bourg) reports in [the comments](https://stackoverflow.com/questions/309396/how-to-test-methods-that-call-system-exit/309427#comment136226933_309427):\r\n\r\n&gt; For this to work with Java 21 this system property must be set `-Djava.security.manager=allow`\r\n\r\n  [1]: http://coding.derkeiler.com/Archive/Java/comp.lang.java.programmer/2008-04/msg02603.html\r\n  [2]: https://stackoverflow.com/users/557117/will\r\n  [3]: https://stackoverflow.com/questions/309396/java-how-to-test-methods-that-call-system-exit/309427#comment19186122_309427\r\n  [4]: https://stefanbirkner.github.io/system-rules\r\n  [5]: https://stackoverflow.com/users/557091/stefan-birkner\r\n  [6]: https://stackoverflow.com/a/8658497/6309\r\n  [7]: https://stefanbirkner.github.io/system-rules/#ExpectedSystemExit","title":"How to test methods that call System.exit()?","body":"<p>Indeed, <a href=\"http://coding.derkeiler.com/Archive/Java/comp.lang.java.programmer/2008-04/msg02603.html\" rel=\"nofollow noreferrer\">Derkeiler.com</a> suggests:</p>\n<blockquote>\n<ul>\n<li><p>Why <code>System.exit()</code> ?</p>\n<p>Instead of terminating with System.exit(whateverValue), why not throw an unchecked exception? In normal use it will drift all the way out to the JVM's last-ditch catcher and shut your script down (unless you decide to catch it somewhere along the way, which might be useful someday).</p>\n<p>In the JUnit scenario it will be caught by the JUnit framework, which will report that such-and-such test failed and move smoothly along to the next.</p>\n</li>\n<li><p>Prevent <code>System.exit()</code> to actually exit the JVM:</p>\n<p>Try modifying the TestCase to run with a security manager that prevents calling System.exit, then catch the SecurityException.</p>\n</li>\n</ul>\n</blockquote>\n<pre class=\"lang-java prettyprint-override\"><code>public class NoExitTestCase extends TestCase \n{\n\n    protected static class ExitException extends SecurityException \n    {\n        public final int status;\n        public ExitException(int status) \n        {\n            super(&quot;There is no escape!&quot;);\n            this.status = status;\n        }\n    }\n\n    private static class NoExitSecurityManager extends SecurityManager \n    {\n        @Override\n        public void checkPermission(Permission perm) \n        {\n            // allow anything.\n        }\n        @Override\n        public void checkPermission(Permission perm, Object context) \n        {\n            // allow anything.\n        }\n        @Override\n        public void checkExit(int status) \n        {\n            super.checkExit(status);\n            throw new ExitException(status);\n        }\n    }\n\n    @Override\n    protected void setUp() throws Exception \n    {\n        super.setUp();\n        System.setSecurityManager(new NoExitSecurityManager());\n    }\n\n    @Override\n    protected void tearDown() throws Exception \n    {\n        System.setSecurityManager(null); // or save and restore original\n        super.tearDown();\n    }\n\n    public void testNoExit() throws Exception \n    {\n        System.out.println(&quot;Printing works&quot;);\n    }\n\n    public void testExit() throws Exception \n    {\n        try \n        {\n            System.exit(42);\n        } catch (ExitException e) \n        {\n            assertEquals(&quot;Exit status&quot;, 42, e.status);\n        }\n    }\n}\n</code></pre>\n<hr />\n<p>Update December 2012:</p>\n<p><a href=\"https://stackoverflow.com/users/557117/will\">Will</a> proposes <a href=\"https://stackoverflow.com/questions/309396/java-how-to-test-methods-that-call-system-exit/309427#comment19186122_309427\">in the comments</a> using <a href=\"https://stefanbirkner.github.io/system-rules\" rel=\"nofollow noreferrer\"><strong>System Rules</strong></a>, a collection of JUnit(4.9+) rules for testing code which uses <code>java.lang.System</code>.<br />\nThis was initially mentioned by <strong><a href=\"https://stackoverflow.com/users/557091/stefan-birkner\">Stefan Birkner</a></strong> in <a href=\"https://stackoverflow.com/a/8658497/6309\">his answer</a> in December 2011.</p>\n<pre><code>System.exit()\n</code></pre>\n<blockquote>\n<p>Use the <a href=\"https://stefanbirkner.github.io/system-rules/#ExpectedSystemExit\" rel=\"nofollow noreferrer\"><code>ExpectedSystemExit</code></a> rule to verify that <code>System.exit()</code> is called.<br />\nYou could verify the exit status, too.</p>\n</blockquote>\n<p>For instance:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void MyTest {\n    @Rule\n    public final ExpectedSystemExit exit = ExpectedSystemExit.none();\n\n    @Test\n    public void noSystemExit() {\n        //passes\n    }\n\n    @Test\n    public void systemExitWithArbitraryStatusCode() {\n        exit.expectSystemExit();\n        System.exit(0);\n    }\n\n    @Test\n    public void systemExitWithSelectedStatusCode0() {\n        exit.expectSystemExitWithStatus(0);\n        System.exit(0);\n    }\n}\n</code></pre>\n<hr />\n<p>2023: <a href=\"https://stackoverflow.com/users/525725/emmanuel-bourg\">Emmanuel Bourg</a> reports in <a href=\"https://stackoverflow.com/questions/309396/how-to-test-methods-that-call-system-exit/309427#comment136226933_309427\">the comments</a>:</p>\n<blockquote>\n<p>For this to work with Java 21 this system property must be set <code>-Djava.security.manager=allow</code></p>\n</blockquote>\n"},{"comments":[{"owner":{"account_id":11936,"reputation":13753,"user_id":23249,"accept_rate":85,"display_name":"Elie"},"score":9,"creation_date":1227286411,"post_id":309434,"comment_id":152526,"body_markdown":"That doesn&#39;t answer the question, though. What if the function being tested IS ultimately the main method? So calling System.exit() might be valid and ok from a design perspective. How do you write a test case for it?","body":"That doesn&#39;t answer the question, though. What if the function being tested IS ultimately the main method? So calling System.exit() might be valid and ok from a design perspective. How do you write a test case for it?"},{"owner":{"account_id":445,"reputation":114845,"user_id":572,"accept_rate":90,"display_name":"Thomas Owens"},"score":3,"creation_date":1227286710,"post_id":309434,"comment_id":152544,"body_markdown":"You shouldn&#39;t have to test the main method as the main method should just take any arguments, pass them to a parser method, and then kick start the application. There should be no logic in the main method to be tested.","body":"You shouldn&#39;t have to test the main method as the main method should just take any arguments, pass them to a parser method, and then kick start the application. There should be no logic in the main method to be tested."},{"owner":{"account_id":3140,"reputation":1822,"user_id":4464,"accept_rate":60,"display_name":"runaros"},"score":5,"creation_date":1228256557,"post_id":309434,"comment_id":172174,"body_markdown":"@Elie: In these types of questions there are two valid answers. One answering the question posed, and one asking why the question was based. Both types of answers give a better understanding, and especially both together.","body":"@Elie: In these types of questions there are two valid answers. One answering the question posed, and one asking why the question was based. Both types of answers give a better understanding, and especially both together."}],"tags":[],"owner":{"display_name":"martin"},"comment_count":3,"down_vote_count":7,"up_vote_count":6,"is_accepted":false,"score":-1,"last_activity_date":1227286242,"creation_date":1227286242,"answer_id":309434,"question_id":309396,"body_markdown":"Calling System.exit() is a bad practice, unless it&#39;s done inside a main(). These methods should be throwing an exception which, ultimately, is caught by your main(), who then calls System.exit with the appropriate code.","title":"How to test methods that call System.exit()?","body":"<p>Calling System.exit() is a bad practice, unless it's done inside a main(). These methods should be throwing an exception which, ultimately, is caught by your main(), who then calls System.exit with the appropriate code.</p>\n"},{"comments":[{"owner":{"account_id":71043,"reputation":30960,"user_id":205521,"accept_rate":89,"display_name":"Thomas Ahle"},"score":0,"creation_date":1282511445,"post_id":309435,"comment_id":3710585,"body_markdown":"Is this what they call dependency injection?","body":"Is this what they call dependency injection?"},{"owner":{"account_id":5382,"reputation":10719,"user_id":2495576,"accept_rate":100,"display_name":"Scott Bale"},"score":2,"creation_date":1282591695,"post_id":309435,"comment_id":3719816,"body_markdown":"This example as written is sort of half-baked dependency injection - the dependency is passed to the package-visible foo method (by either the public foo method or the unit test), but the main class still hardcodes the default Runnable implementation.","body":"This example as written is sort of half-baked dependency injection - the dependency is passed to the package-visible foo method (by either the public foo method or the unit test), but the main class still hardcodes the default Runnable implementation."}],"tags":[],"owner":{"account_id":5382,"reputation":10719,"user_id":2495576,"accept_rate":100,"display_name":"Scott Bale"},"comment_count":2,"down_vote_count":2,"up_vote_count":23,"is_accepted":false,"score":21,"last_activity_date":1229200348,"creation_date":1227286249,"answer_id":309435,"question_id":309396,"body_markdown":"One trick we used in our code base was to have the call to System.exit() be encapsulated in a Runnable impl, which the method in question used by default.  To unit test, we set a different mock Runnable.  Something like this:\r\n\r\n    private static final Runnable DEFAULT_ACTION = new Runnable(){\r\n      public void run(){\r\n        System.exit(0);\r\n      }\r\n    };\r\n\r\n    public void foo(){ \r\n      this.foo(DEFAULT_ACTION);\r\n    }\r\n    \r\n    /* package-visible only for unit testing */\r\n    void foo(Runnable action){   \r\n      // ...some stuff...   \r\n      action.run(); \r\n    }\r\n\r\n...and the JUnit test method...\r\n    \r\n    public void testFoo(){   \r\n      final AtomicBoolean actionWasCalled = new AtomicBoolean(false);   \r\n      fooObject.foo(new Runnable(){\r\n        public void run(){\r\n          actionWasCalled.set(true);\r\n        }   \r\n      });   \r\n      assertTrue(actionWasCalled.get()); \r\n    }","title":"How to test methods that call System.exit()?","body":"<p>One trick we used in our code base was to have the call to System.exit() be encapsulated in a Runnable impl, which the method in question used by default.  To unit test, we set a different mock Runnable.  Something like this:</p>\n\n<pre><code>private static final Runnable DEFAULT_ACTION = new Runnable(){\n  public void run(){\n    System.exit(0);\n  }\n};\n\npublic void foo(){ \n  this.foo(DEFAULT_ACTION);\n}\n\n/* package-visible only for unit testing */\nvoid foo(Runnable action){   \n  // ...some stuff...   \n  action.run(); \n}\n</code></pre>\n\n<p>...and the JUnit test method...</p>\n\n<pre><code>public void testFoo(){   \n  final AtomicBoolean actionWasCalled = new AtomicBoolean(false);   \n  fooObject.foo(new Runnable(){\n    public void run(){\n      actionWasCalled.set(true);\n    }   \n  });   \n  assertTrue(actionWasCalled.get()); \n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1064,"reputation":55491,"user_id":1412,"accept_rate":60,"display_name":"Chris Conway"},"score":0,"creation_date":1227286797,"post_id":309451,"comment_id":152549,"body_markdown":"Hm. The System.exit docs say specifically that checkExit(int) will be called, not checkPermission with name=&quot;exitVM&quot;. I wonder if I should override both?","body":"Hm. The System.exit docs say specifically that checkExit(int) will be called, not checkPermission with name=&quot;exitVM&quot;. I wonder if I should override both?"},{"owner":{"account_id":1290,"reputation":979,"user_id":1720,"accept_rate":86,"display_name":"Mark Derricutt"},"score":0,"creation_date":1279232215,"post_id":309451,"comment_id":3370977,"body_markdown":"The permission name actually seems to be exitVM.(statuscode), i.e. exitVM.0 - at least in my recent test on OSX.","body":"The permission name actually seems to be exitVM.(statuscode), i.e. exitVM.0 - at least in my recent test on OSX."}],"tags":[],"owner":{"account_id":13446,"reputation":44828,"user_id":27020,"accept_rate":100,"display_name":"Marc Novakowski"},"comment_count":2,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1227286513,"creation_date":1227286513,"answer_id":309451,"question_id":309396,"body_markdown":"You can use the java SecurityManager to prevent the current thread from shutting down the Java VM.  The following code should do what you want:\r\n\r\n    SecurityManager securityManager = new SecurityManager() {\r\n    \tpublic void checkPermission(Permission permission) {\r\n    \t\tif (&quot;exitVM&quot;.equals(permission.getName())) {\r\n    \t\t\tthrow new SecurityException(&quot;System.exit attempted and blocked.&quot;);\r\n    \t\t}\r\n    \t}\r\n    };\r\n    System.setSecurityManager(securityManager);","title":"How to test methods that call System.exit()?","body":"<p>You can use the java SecurityManager to prevent the current thread from shutting down the Java VM.  The following code should do what you want:</p>\n\n<pre><code>SecurityManager securityManager = new SecurityManager() {\n    public void checkPermission(Permission permission) {\n        if (\"exitVM\".equals(permission.getName())) {\n            throw new SecurityException(\"System.exit attempted and blocked.\");\n        }\n    }\n};\nSystem.setSecurityManager(securityManager);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":121797,"reputation":2346,"user_id":3059685,"display_name":"Joman68"},"score":1,"creation_date":1567035174,"post_id":309467,"comment_id":101846146,"body_markdown":"+1 Nice solution. Also easy to implement if you are using Spring as the ExitManager becomes a simple Component. Just be aware that you need to make sure that your code doesn&#39;t carry on executing after the exitManager.exit() call. When your code is being tested with a mock ExitManager the code won&#39;t actually exit after the call to exitManager.exit.","body":"+1 Nice solution. Also easy to implement if you are using Spring as the ExitManager becomes a simple Component. Just be aware that you need to make sure that your code doesn&#39;t carry on executing after the exitManager.exit() call. When your code is being tested with a mock ExitManager the code won&#39;t actually exit after the call to exitManager.exit."}],"tags":[],"owner":{"account_id":5543,"reputation":25609,"user_id":8976,"accept_rate":100,"display_name":"EricSchaefer"},"comment_count":1,"down_vote_count":1,"up_vote_count":34,"is_accepted":false,"score":33,"last_activity_date":1227286759,"creation_date":1227286759,"answer_id":309467,"question_id":309396,"body_markdown":"How about injecting an &quot;ExitManager&quot; into this Methods:\r\n\r\n    public interface ExitManager {\r\n        void exit(int exitCode);\r\n    }\r\n\r\n    public class ExitManagerImpl implements ExitManager {\r\n        public void exit(int exitCode) {\r\n            System.exit(exitCode);\r\n        }\r\n    }\r\n\r\n    public class ExitManagerMock implements ExitManager {\r\n        public bool exitWasCalled;\r\n        public int exitCode;\r\n        public void exit(int exitCode) {\r\n            exitWasCalled = true;\r\n            this.exitCode = exitCode;\r\n        }\r\n    }\r\n\r\n    public class MethodsCallExit {\r\n        public void CallsExit(ExitManager exitManager) {\r\n            // whatever\r\n            if (foo) {\r\n                exitManager.exit(42);\r\n            }\r\n            // whatever\r\n        }\r\n    }\r\n\r\nThe production code uses the ExitManagerImpl and the test code uses ExitManagerMock and can check if exit() was called and with which exit code.\r\n","title":"How to test methods that call System.exit()?","body":"<p>How about injecting an \"ExitManager\" into this Methods:</p>\n\n<pre><code>public interface ExitManager {\n    void exit(int exitCode);\n}\n\npublic class ExitManagerImpl implements ExitManager {\n    public void exit(int exitCode) {\n        System.exit(exitCode);\n    }\n}\n\npublic class ExitManagerMock implements ExitManager {\n    public bool exitWasCalled;\n    public int exitCode;\n    public void exit(int exitCode) {\n        exitWasCalled = true;\n        this.exitCode = exitCode;\n    }\n}\n\npublic class MethodsCallExit {\n    public void CallsExit(ExitManager exitManager) {\n        // whatever\n        if (foo) {\n            exitManager.exit(42);\n        }\n        // whatever\n    }\n}\n</code></pre>\n\n<p>The production code uses the ExitManagerImpl and the test code uses ExitManagerMock and can check if exit() was called and with which exit code.</p>\n"},{"comments":[{"owner":{"account_id":16536,"reputation":9797,"user_id":36131,"accept_rate":63,"display_name":"Andrea Francia"},"score":2,"creation_date":1229259258,"post_id":309705,"comment_id":195946,"body_markdown":"This tecniques does not stop the conrol flow when the exit() has been called. Use an Exception instead.","body":"This tecniques does not stop the conrol flow when the exit() has been called. Use an Exception instead."}],"tags":[],"owner":{"account_id":16468,"reputation":4493,"user_id":35894,"display_name":"Jeffrey Fredrick"},"comment_count":1,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1227292289,"creation_date":1227292289,"answer_id":309705,"question_id":309396,"body_markdown":"I like some of the answers already given but I wanted to demonstrate a different technique that is often useful when getting legacy code under test. Given code like:\r\n\r\n    public class Foo {\r\n      public void bar(int i) {\r\n        if (i &lt; 0) {\r\n          System.exit(i);\r\n        }\r\n      }\r\n    }\r\n\r\nYou can do a safe refactoring to create a method that wraps the System.exit call:\r\n\r\n    public class Foo {\r\n      public void bar(int i) {\r\n        if (i &lt; 0) {\r\n          exit(i);\r\n        }\r\n      }\r\n    \r\n      void exit(int i) {\r\n        System.exit(i);\r\n      }\r\n    }\r\n\r\nThen you can create a fake for your test that overrides exit:\r\n\r\n    public class TestFoo extends TestCase {\r\n    \r\n      public void testShouldExitWithNegativeNumbers() {\r\n        TestFoo foo = new TestFoo();\r\n        foo.bar(-1);\r\n        assertTrue(foo.exitCalled);\r\n        assertEquals(-1, foo.exitValue);\r\n      }\r\n    \r\n      private class TestFoo extends Foo {\r\n        boolean exitCalled;\r\n        int exitValue;\r\n        void exit(int i) {\r\n          exitCalled = true;\r\n          exitValue = i;\r\n        }\r\n    }\r\n\r\nThis is a generic technique for substituting behavior for test cases, and I use it all the time when refactoring legacy code. It not usually where I&#39;m going to leave thing, but an intermediate step to get the existing code under test.\r\n\r\n\r\n\r\n","title":"How to test methods that call System.exit()?","body":"<p>I like some of the answers already given but I wanted to demonstrate a different technique that is often useful when getting legacy code under test. Given code like:</p>\n\n<pre><code>public class Foo {\n  public void bar(int i) {\n    if (i &lt; 0) {\n      System.exit(i);\n    }\n  }\n}\n</code></pre>\n\n<p>You can do a safe refactoring to create a method that wraps the System.exit call:</p>\n\n<pre><code>public class Foo {\n  public void bar(int i) {\n    if (i &lt; 0) {\n      exit(i);\n    }\n  }\n\n  void exit(int i) {\n    System.exit(i);\n  }\n}\n</code></pre>\n\n<p>Then you can create a fake for your test that overrides exit:</p>\n\n<pre><code>public class TestFoo extends TestCase {\n\n  public void testShouldExitWithNegativeNumbers() {\n    TestFoo foo = new TestFoo();\n    foo.bar(-1);\n    assertTrue(foo.exitCalled);\n    assertEquals(-1, foo.exitValue);\n  }\n\n  private class TestFoo extends Foo {\n    boolean exitCalled;\n    int exitValue;\n    void exit(int i) {\n      exitCalled = true;\n      exitValue = i;\n    }\n}\n</code></pre>\n\n<p>This is a generic technique for substituting behavior for test cases, and I use it all the time when refactoring legacy code. It not usually where I'm going to leave thing, but an intermediate step to get the existing code under test.</p>\n"},{"comments":[{"owner":{"account_id":154112,"reputation":4462,"user_id":369824,"accept_rate":50,"display_name":"L. Holanda"},"score":2,"creation_date":1445454568,"post_id":1185204,"comment_id":54335803,"body_markdown":"Vote down reason: The problem with this solution is that if System.exit is not the last line in the code (i.e. inside if condition), the code will continue to run.","body":"Vote down reason: The problem with this solution is that if System.exit is not the last line in the code (i.e. inside if condition), the code will continue to run."},{"owner":{"account_id":42147,"reputation":16251,"user_id":2326914,"accept_rate":33,"display_name":"Rog&#233;rio"},"score":0,"creation_date":1445460162,"post_id":1185204,"comment_id":54338789,"body_markdown":"@LeoHolanda Added a version of the test which prevents code to run after the `exit` call (not that it really was a problem, IMO).","body":"@LeoHolanda Added a version of the test which prevents code to run after the <code>exit</code> call (not that it really was a problem, IMO)."},{"owner":{"account_id":243463,"reputation":987,"user_id":515655,"accept_rate":50,"display_name":"user515655"},"score":0,"creation_date":1513574763,"post_id":1185204,"comment_id":82690073,"body_markdown":"Might it be more appropriate to replace the last System.out.println() with an assert statement?","body":"Might it be more appropriate to replace the last System.out.println() with an assert statement?"},{"owner":{"account_id":2344577,"reputation":3561,"user_id":2055163,"accept_rate":81,"display_name":"Thorsten Sch&#246;ning"},"score":0,"creation_date":1541761110,"post_id":1185204,"comment_id":93335661,"body_markdown":"&quot;@Mocked(&quot;exit&quot;)&quot; doesn&#39;t seem to work anymore with JMockit 1.43: &quot;The attribute value is undefined for the annotation type Mocked&quot; The docs: &quot;There are three different mocking annotations we can use when declaring mock fields and parameters: @Mocked, which will mock all methods and constructors on all existing and future instances of a mocked class (for the duration of the tests using it);&quot; http://jmockit.github.io/tutorial/Mocking.html#mocked","body":"&quot;@Mocked(&quot;exit&quot;)&quot; doesn&#39;t seem to work anymore with JMockit 1.43: &quot;The attribute value is undefined for the annotation type Mocked&quot; The docs: &quot;There are three different mocking annotations we can use when declaring mock fields and parameters: @Mocked, which will mock all methods and constructors on all existing and future instances of a mocked class (for the duration of the tests using it);&quot; <a href=\"http://jmockit.github.io/tutorial/Mocking.html#mocked\" rel=\"nofollow noreferrer\">jmockit.github.io/tutorial/Mocking.html#mocked</a>"},{"owner":{"account_id":2344577,"reputation":3561,"user_id":2055163,"accept_rate":81,"display_name":"Thorsten Sch&#246;ning"},"score":0,"creation_date":1541788471,"post_id":1185204,"comment_id":93349852,"body_markdown":"Did you actually try your suggestion? I get: &quot;java.lang.IllegalArgumentException: Class java.lang.System is not mockable&quot; `Runtime` can be mocked, but doesn&#39;t stop `System.exit` at least in my scenario running Tests in Gradle.","body":"Did you actually try your suggestion? I get: &quot;java.lang.IllegalArgumentException: Class java.lang.System is not mockable&quot; <code>Runtime</code> can be mocked, but doesn&#39;t stop <code>System.exit</code> at least in my scenario running Tests in Gradle."},{"owner":{"account_id":42147,"reputation":16251,"user_id":2326914,"accept_rate":33,"display_name":"Rog&#233;rio"},"score":0,"creation_date":1541788897,"post_id":1185204,"comment_id":93350027,"body_markdown":"@ThorstenSch&#246;ning That second test works with older versions of JMockit; in newer versions `java.lang.System` can no longer be *mocked*, but it can still be *faked* (with a `MockUp`).","body":"@ThorstenSch&#246;ning That second test works with older versions of JMockit; in newer versions <code>java.lang.System</code> can no longer be <i>mocked</i>, but it can still be <i>faked</i> (with a <code>MockUp</code>)."},{"owner":{"account_id":3121314,"reputation":492,"user_id":2641025,"display_name":"Fr Jeremy Krieg"},"score":0,"creation_date":1645055068,"post_id":1185204,"comment_id":125772119,"body_markdown":"You can also use mockito-inline to mock `System.exit()`. The library System Stubs does this: https://github.com/webcompere/system-stubs","body":"You can also use mockito-inline to mock <code>System.exit()</code>. The library System Stubs does this: <a href=\"https://github.com/webcompere/system-stubs\" rel=\"nofollow noreferrer\">github.com/webcompere/system-stubs</a>"}],"tags":[],"owner":{"account_id":42147,"reputation":16251,"user_id":2326914,"accept_rate":33,"display_name":"Rog&#233;rio"},"comment_count":7,"down_vote_count":0,"up_vote_count":32,"is_accepted":false,"score":32,"last_activity_date":1541709094,"creation_date":1248632869,"answer_id":1185204,"question_id":309396,"body_markdown":"You actually &lt;em&gt;can&lt;/em&gt; mock or stub out the &lt;code&gt;System.exit&lt;/code&gt; method, in a JUnit test.\r\n\r\nFor example, using &lt;a href=&quot;http://jmockit.github.io&quot;&gt;JMockit&lt;/a&gt; you could write (there are other ways as well):\r\n&lt;pre&gt;&lt;code&gt;@Test\r\npublic void mockSystemExit(@Mocked(&quot;exit&quot;) System mockSystem)\r\n{\r\n    // Called by code under test:\r\n    System.exit(); // will not exit the program\r\n}\r\n&lt;/code&gt;&lt;/pre&gt;\r\n&lt;br&gt;\r\nEDIT: Alternative test (using latest JMockit API) which does not allow any code to run after a call to `System.exit(n)`:\r\n\r\n    @Test(expected = EOFException.class)\r\n    public void checkingForSystemExitWhileNotAllowingCodeToContinueToRun() {\r\n        new Expectations(System.class) {{ System.exit(anyInt); result = new EOFException(); }};\r\n\r\n        // From the code under test:\r\n        System.exit(1);\r\n        System.out.println(&quot;This will never run (and not exit either)&quot;);\r\n    }\r\n","title":"How to test methods that call System.exit()?","body":"<p>You actually <em>can</em> mock or stub out the <code>System.exit</code> method, in a JUnit test.</p>\n\n<p>For example, using <a href=\"http://jmockit.github.io\" rel=\"nofollow noreferrer\">JMockit</a> you could write (there are other ways as well):</p>\n\n<pre><code>@Test\npublic void mockSystemExit(@Mocked(\"exit\") System mockSystem)\n{\n    // Called by code under test:\n    System.exit(); // will not exit the program\n}\n</code></pre>\n\n<p><br>\nEDIT: Alternative test (using latest JMockit API) which does not allow any code to run after a call to <code>System.exit(n)</code>:</p>\n\n<pre><code>@Test(expected = EOFException.class)\npublic void checkingForSystemExitWhileNotAllowingCodeToContinueToRun() {\n    new Expectations(System.class) {{ System.exit(anyInt); result = new EOFException(); }};\n\n    // From the code under test:\n    System.exit(1);\n    System.out.println(\"This will never run (and not exit either)\");\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":30828,"reputation":3778,"user_id":263003,"accept_rate":75,"display_name":"Jeow Li Huan"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1264959923,"creation_date":1264959923,"answer_id":2172642,"question_id":309396,"body_markdown":"For VonC&#39;s answer to run on JUnit 4, I&#39;ve modified the code as follows\r\n\r\n\tprotected static class ExitException extends SecurityException {\r\n\t\tprivate static final long serialVersionUID = -1982617086752946683L;\r\n\t\tpublic final int status;\r\n\r\n\t\tpublic ExitException(int status) {\r\n\t\t\tsuper(&quot;There is no escape!&quot;);\r\n\t\t\tthis.status = status;\r\n\t\t}\r\n\t}\r\n\r\n\tprivate static class NoExitSecurityManager extends SecurityManager {\r\n\t\t@Override\r\n\t\tpublic void checkPermission(Permission perm) {\r\n\t\t\t// allow anything.\r\n\t\t}\r\n\r\n\t\t@Override\r\n\t\tpublic void checkPermission(Permission perm, Object context) {\r\n\t\t\t// allow anything.\r\n\t\t}\r\n\r\n\t\t@Override\r\n\t\tpublic void checkExit(int status) {\r\n\t\t\tsuper.checkExit(status);\r\n\t\t\tthrow new ExitException(status);\r\n\t\t}\r\n\t}\r\n\r\n\tprivate SecurityManager securityManager;\r\n\t\r\n\t@Before\r\n\tpublic void setUp() {\r\n\t\tsecurityManager = System.getSecurityManager();\r\n\t\tSystem.setSecurityManager(new NoExitSecurityManager());\r\n\t}\r\n\r\n\t@After\r\n\tpublic void tearDown() {\r\n\t\tSystem.setSecurityManager(securityManager);\r\n\t}","title":"How to test methods that call System.exit()?","body":"<p>For VonC's answer to run on JUnit 4, I've modified the code as follows</p>\n\n<pre><code>protected static class ExitException extends SecurityException {\n    private static final long serialVersionUID = -1982617086752946683L;\n    public final int status;\n\n    public ExitException(int status) {\n        super(\"There is no escape!\");\n        this.status = status;\n    }\n}\n\nprivate static class NoExitSecurityManager extends SecurityManager {\n    @Override\n    public void checkPermission(Permission perm) {\n        // allow anything.\n    }\n\n    @Override\n    public void checkPermission(Permission perm, Object context) {\n        // allow anything.\n    }\n\n    @Override\n    public void checkExit(int status) {\n        super.checkExit(status);\n        throw new ExitException(status);\n    }\n}\n\nprivate SecurityManager securityManager;\n\n@Before\npublic void setUp() {\n    securityManager = System.getSecurityManager();\n    System.setSecurityManager(new NoExitSecurityManager());\n}\n\n@After\npublic void tearDown() {\n    System.setSecurityManager(securityManager);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":71361,"reputation":1417,"user_id":206480,"display_name":"Dan Watt"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1277237301,"creation_date":1277237301,"answer_id":3096741,"question_id":309396,"body_markdown":"There are environments where the returned exit code is used by the calling program (such as ERRORLEVEL in MS Batch). We have tests around the main methods that do this in our code, and our approach has been to use a similar SecurityManager override as used in other tests here.\r\n\r\nLast night I put together a small JAR using Junit @Rule annotations to hide the security manager code, as well as add expectations based on the expected return code. http://code.google.com/p/junitsystemrules/","title":"How to test methods that call System.exit()?","body":"<p>There are environments where the returned exit code is used by the calling program (such as ERRORLEVEL in MS Batch). We have tests around the main methods that do this in our code, and our approach has been to use a similar SecurityManager override as used in other tests here.</p>\n\n<p>Last night I put together a small JAR using Junit @Rule annotations to hide the security manager code, as well as add expectations based on the expected return code. <a href=\"http://code.google.com/p/junitsystemrules/\" rel=\"nofollow noreferrer\">http://code.google.com/p/junitsystemrules/</a></p>\n"},{"comments":[{"owner":{"account_id":358449,"reputation":42107,"user_id":699224,"accept_rate":67,"display_name":"DNA"},"score":3,"creation_date":1348427800,"post_id":3977267,"comment_id":16910476,"body_markdown":"How will you interact with the class under test, if it is in a separate process from the unit test?","body":"How will you interact with the class under test, if it is in a separate process from the unit test?"},{"owner":{"account_id":154112,"reputation":4462,"user_id":369824,"accept_rate":50,"display_name":"L. Holanda"},"score":1,"creation_date":1445454841,"post_id":3977267,"comment_id":54335946,"body_markdown":"In 99% of the cases System.exit is inside a main method. Therefore, you interact with them by command line arguments (i.e. args).","body":"In 99% of the cases System.exit is inside a main method. Therefore, you interact with them by command line arguments (i.e. args)."}],"tags":[],"owner":{"account_id":660946,"reputation":31,"user_id":481614,"display_name":"Alexei"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1329747560,"creation_date":1287574128,"answer_id":3977267,"question_id":309396,"body_markdown":"Use `Runtime.exec(String command)` to start JVM in a separate process.\r\n","title":"How to test methods that call System.exit()?","body":"<p>Use <code>Runtime.exec(String command)</code> to start JVM in a separate process.</p>\n"},{"comments":[{"owner":{"account_id":268386,"reputation":6188,"user_id":557117,"accept_rate":92,"display_name":"Will"},"score":5,"creation_date":1355765709,"post_id":8658497,"comment_id":19186149,"body_markdown":"Perfect.  Elegant.  Didn&#39;t have to change a stitch of my original code or play around with the security manager.  This should be the top answer!","body":"Perfect.  Elegant.  Didn&#39;t have to change a stitch of my original code or play around with the security manager.  This should be the top answer!"},{"owner":{"account_id":154112,"reputation":4462,"user_id":369824,"accept_rate":50,"display_name":"L. Holanda"},"score":4,"creation_date":1445453920,"post_id":8658497,"comment_id":54335464,"body_markdown":"This should be the top answer. Instead of endless debate on the proper use of System.exit, direct to the point. In addition, a flexible solution in adherence to JUnit itself so we don&#39;t need to reinvent the wheel or mess up with security manager.","body":"This should be the top answer. Instead of endless debate on the proper use of System.exit, direct to the point. In addition, a flexible solution in adherence to JUnit itself so we don&#39;t need to reinvent the wheel or mess up with security manager."},{"owner":{"account_id":42147,"reputation":16251,"user_id":2326914,"accept_rate":33,"display_name":"Rog&#233;rio"},"score":0,"creation_date":1445458528,"post_id":8658497,"comment_id":54337877,"body_markdown":"@LeoHolanda Doesn&#39;t this solution suffer from the same &quot;problem&quot; you used to justify a downvote on my answer? Also, what about TestNG users?","body":"@LeoHolanda Doesn&#39;t this solution suffer from the same &quot;problem&quot; you used to justify a downvote on my answer? Also, what about TestNG users?"},{"owner":{"account_id":154112,"reputation":4462,"user_id":369824,"accept_rate":50,"display_name":"L. Holanda"},"score":0,"creation_date":1445467735,"post_id":8658497,"comment_id":54342239,"body_markdown":"@Rog&#233;rio Nope. With ExpectedSystemExit the code under test will exit when it finds the mocked System.exit call but will continue to run other tests. Furthermore, if exit is not called (with expected exit code), test will fail","body":"@Rog&#233;rio Nope. With ExpectedSystemExit the code under test will exit when it finds the mocked System.exit call but will continue to run other tests. Furthermore, if exit is not called (with expected exit code), test will fail"},{"owner":{"account_id":42147,"reputation":16251,"user_id":2326914,"accept_rate":33,"display_name":"Rog&#233;rio"},"score":2,"creation_date":1445530547,"post_id":8658497,"comment_id":54371642,"body_markdown":"@LeoHolanda You&#39;re right; looking at the implementation of the rule, I now see it uses a custom security manager which throws an exception when the call for the &quot;system exit&quot; check occurs, therefore ending the test. The added example test in my answer satisfies both requirements (proper verification with System.exit getting called/not called), BTW. The use of `ExpectedSystemRule` is nice, of course; the problem is it requires an extra 3rd-party library which provides very little in terms of real-world usefulness, and is JUnit-specific.","body":"@LeoHolanda You&#39;re right; looking at the implementation of the rule, I now see it uses a custom security manager which throws an exception when the call for the &quot;system exit&quot; check occurs, therefore ending the test. The added example test in my answer satisfies both requirements (proper verification with System.exit getting called/not called), BTW. The use of <code>ExpectedSystemRule</code> is nice, of course; the problem is it requires an extra 3rd-party library which provides very little in terms of real-world usefulness, and is JUnit-specific."},{"owner":{"account_id":2270908,"reputation":3270,"user_id":2313177,"accept_rate":59,"display_name":"Andriy Kryvtsun"},"score":0,"creation_date":1471552452,"post_id":8658497,"comment_id":65405015,"body_markdown":"@Stefan Birkner Unfortunately, `ExpectedSystemExit` doesn&#39;t work correctly in multi-threaded tests.","body":"@Stefan Birkner Unfortunately, <code>ExpectedSystemExit</code> doesn&#39;t work correctly in multi-threaded tests."},{"owner":{"account_id":8897,"reputation":11219,"user_id":16206,"accept_rate":78,"display_name":"borjab"},"score":0,"creation_date":1509698477,"post_id":8658497,"comment_id":81132262,"body_markdown":"SystemRules is really usefull (thanks for your code!!) . The only problem is that it seems to end the test.  I was wondering if you there is any way exitRule.ignoreAndContinue(); that will allow my junit to make more verifications after.","body":"SystemRules is really usefull (thanks for your code!!) . The only problem is that it seems to end the test.  I was wondering if you there is any way exitRule.ignoreAndContinue(); that will allow my junit to make more verifications after."},{"owner":{"account_id":268368,"reputation":24162,"user_id":557091,"display_name":"Stefan Birkner"},"score":2,"creation_date":1509721704,"post_id":8658497,"comment_id":81147497,"body_markdown":"There is `exit.checkAssertionAfterwards()`.","body":"There is <code>exit.checkAssertionAfterwards()</code>."},{"owner":{"account_id":2344577,"reputation":3561,"user_id":2055163,"accept_rate":81,"display_name":"Thorsten Sch&#246;ning"},"score":0,"creation_date":1541759207,"post_id":8658497,"comment_id":93334696,"body_markdown":"Does this work with Gradle and JUnit Jupiter? Gradle spawns a new JVM for tests and I always get the error: &quot;Unexpected exception thrown.\norg.gradle.internal.remote.internal.MessageIOException: Could not read message from &#39;/127.0.0.1:49215&#39;.&quot; Providing all dependencies like `junit-vintage-engine` and `junit:junit:4.12` and things run in general, but `System.exit` in the spawned JVM doesn&#39;t seem to be ignored. https://junit.org/junit5/docs/current/user-guide/#migrating-from-junit4-rule-support","body":"Does this work with Gradle and JUnit Jupiter? Gradle spawns a new JVM for tests and I always get the error: &quot;Unexpected exception thrown. org.gradle.internal.remote.internal.MessageIOException: Could not read message from &#39;/127.0.0.1:49215&#39;.&quot; Providing all dependencies like <code>junit-vintage-engine</code> and <code>junit:junit:4.12</code> and things run in general, but <code>System.exit</code> in the spawned JVM doesn&#39;t seem to be ignored. <a href=\"https://junit.org/junit5/docs/current/user-guide/#migrating-from-junit4-rule-support\" rel=\"nofollow noreferrer\">junit.org/junit5/docs/current/user-guide/&hellip;</a>"},{"owner":{"account_id":5483053,"reputation":406,"user_id":4358787,"display_name":"Gaurav"},"score":0,"creation_date":1598740432,"post_id":8658497,"comment_id":112558774,"body_markdown":"this works flawlessly with latest junit5 release! Use this instead of System-rules which has some problems testing code for system exit.","body":"this works flawlessly with latest junit5 release! Use this instead of System-rules which has some problems testing code for system exit."}],"tags":[],"owner":{"account_id":268368,"reputation":24162,"user_id":557091,"display_name":"Stefan Birkner"},"comment_count":10,"down_vote_count":0,"up_vote_count":136,"is_accepted":false,"score":136,"last_activity_date":1616798800,"creation_date":1325089540,"answer_id":8658497,"question_id":309396,"body_markdown":"The library [System Lambda][1] has a method `catchSystemExit`.With this rule you are able to test code, that calls System.exit(...):\r\n\r\n\tpublic class MyTest {\r\n\t\t@Test\r\n\t\tpublic void systemExitWithArbitraryStatusCode() {\r\n\t\t\tSystemLambda.catchSystemExit(() -&gt; {\r\n\t\t\t    //the code under test, which calls System.exit(...);\r\n            });\r\n\t\t}\r\n\r\n\r\n\t\t@Test\r\n\t\tpublic void systemExitWithSelectedStatusCode0() {\r\n\t\t\tint status = SystemLambda.catchSystemExit(() -&gt; {\r\n\t\t\t    //the code under test, which calls System.exit(0);\r\n            });\r\n\r\n            assertEquals(0, status);\r\n\t\t}\r\n\t}\r\n\r\nFor Java 5 to 7 the library [System Rules][2] has a JUnit rule called ExpectedSystemExit. With this rule you are able to test code, that calls System.exit(...):\r\n\r\n\tpublic class MyTest {\r\n\t\t@Rule\r\n\t\tpublic final ExpectedSystemExit exit = ExpectedSystemExit.none();\r\n\r\n\t\t@Test\r\n\t\tpublic void systemExitWithArbitraryStatusCode() {\r\n\t\t\texit.expectSystemExit();\r\n\t\t\t//the code under test, which calls System.exit(...);\r\n\t\t}\r\n\r\n\t\t@Test\r\n\t\tpublic void systemExitWithSelectedStatusCode0() {\r\n\t\t\texit.expectSystemExitWithStatus(0);\r\n\t\t\t//the code under test, which calls System.exit(0);\r\n\t\t}\r\n\t}\r\n\r\nFull disclosure: I&#39;m the author of both libraries. \r\n\r\n  [1]: https://github.com/stefanbirkner/system-lambda/\r\n  [2]: https://stefanbirkner.github.com/system-rules/","title":"How to test methods that call System.exit()?","body":"<p>The library <a href=\"https://github.com/stefanbirkner/system-lambda/\" rel=\"noreferrer\">System Lambda</a> has a method <code>catchSystemExit</code>.With this rule you are able to test code, that calls System.exit(...):</p>\n<pre><code>public class MyTest {\n    @Test\n    public void systemExitWithArbitraryStatusCode() {\n        SystemLambda.catchSystemExit(() -&gt; {\n            //the code under test, which calls System.exit(...);\n        });\n    }\n\n\n    @Test\n    public void systemExitWithSelectedStatusCode0() {\n        int status = SystemLambda.catchSystemExit(() -&gt; {\n            //the code under test, which calls System.exit(0);\n        });\n\n        assertEquals(0, status);\n    }\n}\n</code></pre>\n<p>For Java 5 to 7 the library <a href=\"https://stefanbirkner.github.com/system-rules/\" rel=\"noreferrer\">System Rules</a> has a JUnit rule called ExpectedSystemExit. With this rule you are able to test code, that calls System.exit(...):</p>\n<pre><code>public class MyTest {\n    @Rule\n    public final ExpectedSystemExit exit = ExpectedSystemExit.none();\n\n    @Test\n    public void systemExitWithArbitraryStatusCode() {\n        exit.expectSystemExit();\n        //the code under test, which calls System.exit(...);\n    }\n\n    @Test\n    public void systemExitWithSelectedStatusCode0() {\n        exit.expectSystemExitWithStatus(0);\n        //the code under test, which calls System.exit(0);\n    }\n}\n</code></pre>\n<p>Full disclosure: I'm the author of both libraries.</p>\n"},{"tags":[],"owner":{"account_id":29270,"reputation":4126,"user_id":78973,"accept_rate":100,"display_name":"Arend v. Reinersdorff"},"comment_count":0,"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1325172962,"creation_date":1325172962,"answer_id":8669826,"question_id":309396,"body_markdown":"Create a mock-able class that wraps System.exit()\r\n-------------------------------------------------\r\n\r\nI agree with [EricSchaefer][1]. But if you use a good mocking framework like [Mockito][2] a simple concrete class is enough, no need for an interface and two implementations.\r\n\r\nStopping test execution on System.exit()\r\n----------------------------------------\r\n**Problem:**\r\n\r\n    // do thing1\r\n    if(someCondition) {\r\n    \tSystem.exit(1);\r\n    }\r\n    // do thing2\r\n    System.exit(0)\r\n\r\nA mocked `Sytem.exit()` will not terminate execution. This is bad if you want to test that `thing2` is not executed.\r\n\r\n**Solution:**\r\n\r\nYou should refactor this code as suggested by [martin][3]:\r\n\r\n    // do thing1\r\n    if(someCondition) {\r\n    \treturn 1;\r\n    }\r\n    // do thing2\r\n    return 0;\r\n\r\nAnd do `System.exit(status)` in the calling function. This forces you to have all your `System.exit()`s in one place in or near `main()`. This is cleaner than calling `System.exit()` deep inside your logic.\r\n\r\nCode\r\n----\r\nWrapper:\r\n\r\n    public class SystemExit {\r\n    \r\n        public void exit(int status) {\r\n            System.exit(status);\r\n        }\r\n    }\r\n\r\nMain:\r\n\r\n    public class Main {\r\n    \r\n        private final SystemExit systemExit;\r\n    \r\n    \r\n        Main(SystemExit systemExit) {\r\n            this.systemExit = systemExit;\r\n        }\r\n    \r\n    \r\n        public static void main(String[] args) {\r\n            SystemExit aSystemExit = new SystemExit();\r\n            Main main = new Main(aSystemExit);\r\n    \r\n            main.executeAndExit(args);\r\n        }\r\n    \r\n    \r\n        void executeAndExit(String[] args) {\r\n            int status = execute(args);\r\n            systemExit.exit(status);\r\n        }\r\n    \r\n    \r\n        private int execute(String[] args) {\r\n            System.out.println(&quot;First argument:&quot;);\r\n            if (args.length == 0) {\r\n                return 1;\r\n            }\r\n            System.out.println(args[0]);\r\n            return 0;\r\n        }\r\n    }\r\n\r\nTest:\r\n\r\n    public class MainTest {\r\n    \r\n        private Main       main;\r\n    \r\n        private SystemExit systemExit;\r\n    \r\n    \r\n        @Before\r\n        public void setUp() {\r\n            systemExit = mock(SystemExit.class);\r\n            main = new Main(systemExit);\r\n        }\r\n    \r\n    \r\n        @Test\r\n        public void executeCallsSystemExit() {\r\n            String[] emptyArgs = {};\r\n    \r\n            // test\r\n            main.executeAndExit(emptyArgs);\r\n    \r\n            verify(systemExit).exit(1);\r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/309467/78973\r\n  [2]: http://code.google.com/p/mockito/\r\n  [3]: https://stackoverflow.com/a/309434/78973","title":"How to test methods that call System.exit()?","body":"<h2>Create a mock-able class that wraps System.exit()</h2>\n\n<p>I agree with <a href=\"https://stackoverflow.com/a/309467/78973\">EricSchaefer</a>. But if you use a good mocking framework like <a href=\"http://code.google.com/p/mockito/\" rel=\"nofollow noreferrer\">Mockito</a> a simple concrete class is enough, no need for an interface and two implementations.</p>\n\n<h2>Stopping test execution on System.exit()</h2>\n\n<p><strong>Problem:</strong></p>\n\n<pre><code>// do thing1\nif(someCondition) {\n    System.exit(1);\n}\n// do thing2\nSystem.exit(0)\n</code></pre>\n\n<p>A mocked <code>Sytem.exit()</code> will not terminate execution. This is bad if you want to test that <code>thing2</code> is not executed.</p>\n\n<p><strong>Solution:</strong></p>\n\n<p>You should refactor this code as suggested by <a href=\"https://stackoverflow.com/a/309434/78973\">martin</a>:</p>\n\n<pre><code>// do thing1\nif(someCondition) {\n    return 1;\n}\n// do thing2\nreturn 0;\n</code></pre>\n\n<p>And do <code>System.exit(status)</code> in the calling function. This forces you to have all your <code>System.exit()</code>s in one place in or near <code>main()</code>. This is cleaner than calling <code>System.exit()</code> deep inside your logic.</p>\n\n<h2>Code</h2>\n\n<p>Wrapper:</p>\n\n<pre><code>public class SystemExit {\n\n    public void exit(int status) {\n        System.exit(status);\n    }\n}\n</code></pre>\n\n<p>Main:</p>\n\n<pre><code>public class Main {\n\n    private final SystemExit systemExit;\n\n\n    Main(SystemExit systemExit) {\n        this.systemExit = systemExit;\n    }\n\n\n    public static void main(String[] args) {\n        SystemExit aSystemExit = new SystemExit();\n        Main main = new Main(aSystemExit);\n\n        main.executeAndExit(args);\n    }\n\n\n    void executeAndExit(String[] args) {\n        int status = execute(args);\n        systemExit.exit(status);\n    }\n\n\n    private int execute(String[] args) {\n        System.out.println(\"First argument:\");\n        if (args.length == 0) {\n            return 1;\n        }\n        System.out.println(args[0]);\n        return 0;\n    }\n}\n</code></pre>\n\n<p>Test:</p>\n\n<pre><code>public class MainTest {\n\n    private Main       main;\n\n    private SystemExit systemExit;\n\n\n    @Before\n    public void setUp() {\n        systemExit = mock(SystemExit.class);\n        main = new Main(systemExit);\n    }\n\n\n    @Test\n    public void executeCallsSystemExit() {\n        String[] emptyArgs = {};\n\n        // test\n        main.executeAndExit(emptyArgs);\n\n        verify(systemExit).exit(1);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":157392,"reputation":3230,"user_id":375317,"display_name":"cayhorstmann"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1332892141,"creation_date":1332892141,"answer_id":9899322,"question_id":309396,"body_markdown":"There is a minor problem with the `SecurityManager` solution. Some methods, such as `JFrame.exitOnClose`, also call `SecurityManager.checkExit`. In my application, I didn&#39;t want that call to fail, so I used\r\n\r\n    Class[] stack = getClassContext();\r\n    if (stack[1] != JFrame.class &amp;&amp; !okToExit) throw new ExitException();\r\n    super.checkExit(status);","title":"How to test methods that call System.exit()?","body":"<p>There is a minor problem with the <code>SecurityManager</code> solution. Some methods, such as <code>JFrame.exitOnClose</code>, also call <code>SecurityManager.checkExit</code>. In my application, I didn't want that call to fail, so I used</p>\n\n<pre><code>Class[] stack = getClassContext();\nif (stack[1] != JFrame.class &amp;&amp; !okToExit) throw new ExitException();\nsuper.checkExit(status);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2375368,"reputation":4423,"user_id":2078908,"display_name":"ursa"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1370980315,"creation_date":1370980315,"answer_id":17052539,"question_id":309396,"body_markdown":"You can test System.exit(..) with replacing Runtime instance. \r\nE.g. with TestNG + Mockito:\r\n\r\n    public class ConsoleTest {\r\n        /** Original runtime. */\r\n        private Runtime originalRuntime;\r\n    \r\n        /** Mocked runtime. */\r\n        private Runtime spyRuntime;\r\n    \r\n        @BeforeMethod\r\n        public void setUp() {\r\n            originalRuntime = Runtime.getRuntime();\r\n            spyRuntime = spy(originalRuntime);\r\n    \r\n            // Replace original runtime with a spy (via reflection).\r\n            Utils.setField(Runtime.class, &quot;currentRuntime&quot;, spyRuntime);\r\n        }\r\n    \r\n        @AfterMethod\r\n        public void tearDown() {\r\n            // Recover original runtime.\r\n            Utils.setField(Runtime.class, &quot;currentRuntime&quot;, originalRuntime);\r\n        }\r\n    \r\n        @Test\r\n        public void testSystemExit() {\r\n            // Or anything you want as an answer.\r\n            doNothing().when(spyRuntime).exit(anyInt());\r\n    \r\n            System.exit(1);\r\n    \r\n            verify(spyRuntime).exit(1);\r\n        }\r\n    }\r\n","title":"How to test methods that call System.exit()?","body":"<p>You can test System.exit(..) with replacing Runtime instance. \nE.g. with TestNG + Mockito:</p>\n\n<pre><code>public class ConsoleTest {\n    /** Original runtime. */\n    private Runtime originalRuntime;\n\n    /** Mocked runtime. */\n    private Runtime spyRuntime;\n\n    @BeforeMethod\n    public void setUp() {\n        originalRuntime = Runtime.getRuntime();\n        spyRuntime = spy(originalRuntime);\n\n        // Replace original runtime with a spy (via reflection).\n        Utils.setField(Runtime.class, \"currentRuntime\", spyRuntime);\n    }\n\n    @AfterMethod\n    public void tearDown() {\n        // Recover original runtime.\n        Utils.setField(Runtime.class, \"currentRuntime\", originalRuntime);\n    }\n\n    @Test\n    public void testSystemExit() {\n        // Or anything you want as an answer.\n        doNothing().when(spyRuntime).exit(anyInt());\n\n        System.exit(1);\n\n        verify(spyRuntime).exit(1);\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1434179,"reputation":5113,"user_id":1355930,"display_name":"Ashley Frieze"},"score":0,"creation_date":1606208197,"post_id":59930938,"comment_id":114886051,"body_markdown":"This is much the same implementation as both System Lambda and System Stubs use - https://github.com/webcompere/system-stubs#systemexit - the latter has a JUnit 5 plugin which can be used as a universal conversion of `System.exit` into a catchable error, thus stopping unexpected exits from stopping the test.","body":"This is much the same implementation as both System Lambda and System Stubs use - <a href=\"https://github.com/webcompere/system-stubs#systemexit\" rel=\"nofollow noreferrer\">github.com/webcompere/system-stubs#systemexit</a> - the latter has a JUnit 5 plugin which can be used as a universal conversion of <code>System.exit</code> into a catchable error, thus stopping unexpected exits from stopping the test."}],"tags":[],"owner":{"account_id":4355473,"reputation":17255,"user_id":3554264,"accept_rate":62,"display_name":"Christian Hujer"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1580127522,"creation_date":1580127141,"answer_id":59930938,"question_id":309396,"body_markdown":"Most solutions will\r\n\r\n* terminate the test (method, not the entire run) the moment `System.exit()` is called\r\n* ignore an already installed `SecurityManager`\r\n* Sometimes be quite specific to a test framework\r\n* restrict to be used at max once per test case\r\n\r\nThus, most solutions are not suited for situations where:\r\n\r\n* Verification of side-effects are to be performed after the call to `System.exit()`\r\n* An existing security manager is part of the testing.\r\n* A different test framework is used.\r\n* You want to have multiple verifications in a single test case. This may be strictly not recommended, but can be very convenient at times, especially in combination with `assertAll()`, for example.\r\n\r\nI was not happy with the restrictions imposed by the existing solutions presented in the other answers, and thus came up with something on my own.\r\n\r\nThe following class provides a method `assertExits(int expectedStatus, Executable executable)` which asserts that `System.exit()` is called with a specified `status` value, and the test can continue after it. It works the same way as JUnit 5 `assertThrows`. It also respects an existing security manager.\r\n\r\nThere is one remaining problem: When the code under test installs a new security manager which completely replaces the security manager set by the test. All other `SecurityManager`-based solutions known to me suffer the same problem.\r\n\r\n```\r\nimport java.security.Permission;\r\n\r\nimport static java.lang.System.getSecurityManager;\r\nimport static java.lang.System.setSecurityManager;\r\nimport static org.junit.jupiter.api.Assertions.assertEquals;\r\nimport static org.junit.jupiter.api.Assertions.fail;\r\n\r\npublic enum ExitAssertions {\r\n    ;\r\n\r\n    public static &lt;E extends Throwable&gt; void assertExits(final int expectedStatus, final ThrowingExecutable&lt;E&gt; executable) throws E {\r\n        final SecurityManager originalSecurityManager = getSecurityManager();\r\n        setSecurityManager(new SecurityManager() {\r\n            @Override\r\n            public void checkPermission(final Permission perm) {\r\n                if (originalSecurityManager != null)\r\n                    originalSecurityManager.checkPermission(perm);\r\n            }\r\n\r\n            @Override\r\n            public void checkPermission(final Permission perm, final Object context) {\r\n                if (originalSecurityManager != null)\r\n                    originalSecurityManager.checkPermission(perm, context);\r\n            }\r\n\r\n            @Override\r\n            public void checkExit(final int status) {\r\n                super.checkExit(status);\r\n                throw new ExitException(status);\r\n            }\r\n        });\r\n        try {\r\n            executable.run();\r\n            fail(&quot;Expected System.exit(&quot; + expectedStatus + &quot;) to be called, but it wasn&#39;t called.&quot;);\r\n        } catch (final ExitException e) {\r\n            assertEquals(expectedStatus, e.status, &quot;Wrong System.exit() status.&quot;);\r\n        } finally {\r\n            setSecurityManager(originalSecurityManager);\r\n        }\r\n    }\r\n\r\n    public interface ThrowingExecutable&lt;E extends Throwable&gt; {\r\n        void run() throws E;\r\n    }\r\n\r\n    private static class ExitException extends SecurityException {\r\n        final int status;\r\n\r\n        private ExitException(final int status) {\r\n            this.status = status;\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nYou can use the class like this:\r\n```\r\n    @Test\r\n    void example() {\r\n        assertExits(0, () -&gt; System.exit(0)); // succeeds\r\n        assertExits(1, () -&gt; System.exit(1)); // succeeds\r\n        assertExits(2, () -&gt; System.exit(1)); // fails\r\n    }\r\n```\r\n\r\nThe code can easily be ported to JUnit 4, TestNG, or any other framework, if necessary. The only framework-specific element is failing the test. This can easily be changed to something framework-independent (other than a _Junit 4_ `Rule` \r\n\r\nThere is room for improvement, for example, overloading `assertExits()` with customizable messages.","title":"How to test methods that call System.exit()?","body":"<p>Most solutions will</p>\n\n<ul>\n<li>terminate the test (method, not the entire run) the moment <code>System.exit()</code> is called</li>\n<li>ignore an already installed <code>SecurityManager</code></li>\n<li>Sometimes be quite specific to a test framework</li>\n<li>restrict to be used at max once per test case</li>\n</ul>\n\n<p>Thus, most solutions are not suited for situations where:</p>\n\n<ul>\n<li>Verification of side-effects are to be performed after the call to <code>System.exit()</code></li>\n<li>An existing security manager is part of the testing.</li>\n<li>A different test framework is used.</li>\n<li>You want to have multiple verifications in a single test case. This may be strictly not recommended, but can be very convenient at times, especially in combination with <code>assertAll()</code>, for example.</li>\n</ul>\n\n<p>I was not happy with the restrictions imposed by the existing solutions presented in the other answers, and thus came up with something on my own.</p>\n\n<p>The following class provides a method <code>assertExits(int expectedStatus, Executable executable)</code> which asserts that <code>System.exit()</code> is called with a specified <code>status</code> value, and the test can continue after it. It works the same way as JUnit 5 <code>assertThrows</code>. It also respects an existing security manager.</p>\n\n<p>There is one remaining problem: When the code under test installs a new security manager which completely replaces the security manager set by the test. All other <code>SecurityManager</code>-based solutions known to me suffer the same problem.</p>\n\n<pre><code>import java.security.Permission;\n\nimport static java.lang.System.getSecurityManager;\nimport static java.lang.System.setSecurityManager;\nimport static org.junit.jupiter.api.Assertions.assertEquals;\nimport static org.junit.jupiter.api.Assertions.fail;\n\npublic enum ExitAssertions {\n    ;\n\n    public static &lt;E extends Throwable&gt; void assertExits(final int expectedStatus, final ThrowingExecutable&lt;E&gt; executable) throws E {\n        final SecurityManager originalSecurityManager = getSecurityManager();\n        setSecurityManager(new SecurityManager() {\n            @Override\n            public void checkPermission(final Permission perm) {\n                if (originalSecurityManager != null)\n                    originalSecurityManager.checkPermission(perm);\n            }\n\n            @Override\n            public void checkPermission(final Permission perm, final Object context) {\n                if (originalSecurityManager != null)\n                    originalSecurityManager.checkPermission(perm, context);\n            }\n\n            @Override\n            public void checkExit(final int status) {\n                super.checkExit(status);\n                throw new ExitException(status);\n            }\n        });\n        try {\n            executable.run();\n            fail(\"Expected System.exit(\" + expectedStatus + \") to be called, but it wasn't called.\");\n        } catch (final ExitException e) {\n            assertEquals(expectedStatus, e.status, \"Wrong System.exit() status.\");\n        } finally {\n            setSecurityManager(originalSecurityManager);\n        }\n    }\n\n    public interface ThrowingExecutable&lt;E extends Throwable&gt; {\n        void run() throws E;\n    }\n\n    private static class ExitException extends SecurityException {\n        final int status;\n\n        private ExitException(final int status) {\n            this.status = status;\n        }\n    }\n}\n</code></pre>\n\n<p>You can use the class like this:</p>\n\n<pre><code>    @Test\n    void example() {\n        assertExits(0, () -&gt; System.exit(0)); // succeeds\n        assertExits(1, () -&gt; System.exit(1)); // succeeds\n        assertExits(2, () -&gt; System.exit(1)); // fails\n    }\n</code></pre>\n\n<p>The code can easily be ported to JUnit 4, TestNG, or any other framework, if necessary. The only framework-specific element is failing the test. This can easily be changed to something framework-independent (other than a <em>Junit 4</em> <code>Rule</code> </p>\n\n<p>There is room for improvement, for example, overloading <code>assertExits()</code> with customizable messages.</p>\n"},{"comments":[{"owner":{"account_id":1434179,"reputation":5113,"user_id":1355930,"display_name":"Ashley Frieze"},"score":1,"creation_date":1645087378,"post_id":64983262,"comment_id":125778774,"body_markdown":"@FrJeremyKrieg - as the author of that library, I can assure you that it doesn&#39;t. You can&#39;t apply mockito static mocking to `System`.","body":"@FrJeremyKrieg - as the author of that library, I can assure you that it doesn&#39;t. You can&#39;t apply mockito static mocking to <code>System</code>."},{"owner":{"account_id":3121314,"reputation":492,"user_id":2641025,"display_name":"Fr Jeremy Krieg"},"score":0,"creation_date":1645177590,"post_id":64983262,"comment_id":125807158,"body_markdown":"Sorry, I misread your blurb! I deleted my comment to avoid misleading anyone else!","body":"Sorry, I misread your blurb! I deleted my comment to avoid misleading anyone else!"},{"owner":{"account_id":1434179,"reputation":5113,"user_id":1355930,"display_name":"Ashley Frieze"},"score":0,"creation_date":1645186932,"post_id":64983262,"comment_id":125810466,"body_markdown":"@FrJeremyKrieg it&#39;s easily done... that said, the security manager is going away, so we&#39;re going to have to work out a new way of solving this problem in future. Feel free to come up with an idea and submit a PR. Always looking for new input on the library.","body":"@FrJeremyKrieg it&#39;s easily done... that said, the security manager is going away, so we&#39;re going to have to work out a new way of solving this problem in future. Feel free to come up with an idea and submit a PR. Always looking for new input on the library."},{"owner":{"account_id":3121314,"reputation":492,"user_id":2641025,"display_name":"Fr Jeremy Krieg"},"score":0,"creation_date":1645400006,"post_id":64983262,"comment_id":125854901,"body_markdown":"Any generic solution is probably going to involve code weaving or an agent, I think. Maybe JMockit (which I believe can mock System.exit()).","body":"Any generic solution is probably going to involve code weaving or an agent, I think. Maybe JMockit (which I believe can mock System.exit())."},{"owner":{"account_id":1434179,"reputation":5113,"user_id":1355930,"display_name":"Ashley Frieze"},"score":0,"creation_date":1645526124,"post_id":64983262,"comment_id":125888769,"body_markdown":"@FrJeremyKrieg https://github.com/jmockit/jmockit1 was last updated 2 years ago. I think it&#39;s not a go-forward mocking library.","body":"@FrJeremyKrieg <a href=\"https://github.com/jmockit/jmockit1\" rel=\"nofollow noreferrer\">github.com/jmockit/jmockit1</a> was last updated 2 years ago. I think it&#39;s not a go-forward mocking library."}],"tags":[],"owner":{"account_id":1434179,"reputation":5113,"user_id":1355930,"display_name":"Ashley Frieze"},"comment_count":5,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1606208677,"creation_date":1606208677,"answer_id":64983262,"question_id":309396,"body_markdown":"System Stubs - https://github.com/webcompere/system-stubs - is also able to solve this problem. It shares System Lambda&#39;s syntax for wrapping around code that we _know_ will execute `System.exit`, but that can lead to odd effects when other code unexpectedly exits.\r\n\r\nVia the JUnit 5 plugin, we can provide insurance that any exit will be converted to an exception:\r\n\r\n```java\r\n@ExtendWith(SystemStubsExtension.class)\r\nclass SystemExitUseCase {\r\n    // the presence of this in the test means System.exit becomes an exception\r\n    @SystemStub\r\n    private SystemExit systemExit;\r\n\r\n    @Test\r\n    void doSomethingThatAccidentallyCallsSystemExit() {\r\n        // this test would have stopped the JVM, now it ends in `AbortExecutionException`\r\n        // System.exit(1);\r\n    }\r\n\r\n    @Test\r\n    void canCatchSystemExit() {\r\n        assertThatThrownBy(() -&gt; System.exit(1))\r\n            .isInstanceOf(AbortExecutionException.class);\r\n\r\n        assertThat(systemExit.getExitCode()).isEqualTo(1);\r\n    }\r\n}\r\n```\r\n\r\nAlternatively, the assertion-like static method can also be used:\r\n\r\n```java\r\nassertThat(catchSystemExit(() -&gt; {\r\n   //the code under test\r\n   System.exit(123);\r\n})).isEqualTo(123);\r\n```","title":"How to test methods that call System.exit()?","body":"<p>System Stubs - <a href=\"https://github.com/webcompere/system-stubs\" rel=\"noreferrer\">https://github.com/webcompere/system-stubs</a> - is also able to solve this problem. It shares System Lambda's syntax for wrapping around code that we <em>know</em> will execute <code>System.exit</code>, but that can lead to odd effects when other code unexpectedly exits.</p>\n<p>Via the JUnit 5 plugin, we can provide insurance that any exit will be converted to an exception:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@ExtendWith(SystemStubsExtension.class)\nclass SystemExitUseCase {\n    // the presence of this in the test means System.exit becomes an exception\n    @SystemStub\n    private SystemExit systemExit;\n\n    @Test\n    void doSomethingThatAccidentallyCallsSystemExit() {\n        // this test would have stopped the JVM, now it ends in `AbortExecutionException`\n        // System.exit(1);\n    }\n\n    @Test\n    void canCatchSystemExit() {\n        assertThatThrownBy(() -&gt; System.exit(1))\n            .isInstanceOf(AbortExecutionException.class);\n\n        assertThat(systemExit.getExitCode()).isEqualTo(1);\n    }\n}\n</code></pre>\n<p>Alternatively, the assertion-like static method can also be used:</p>\n<pre class=\"lang-java prettyprint-override\"><code>assertThat(catchSystemExit(() -&gt; {\n   //the code under test\n   System.exit(123);\n})).isEqualTo(123);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1400553,"reputation":1715,"user_id":1329426,"display_name":"Jool"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1625874723,"creation_date":1625868215,"answer_id":68323093,"question_id":309396,"body_markdown":"A generally useful approach that can be used for unit and integration testing, is to have a package private (default access) mockable runner class that provides run() and exit() methods.  These methods can be overridden by Mock or Fake test classes in the test modules.\r\n\r\nThe test class (JUnit or other) provides exceptions that the exit() method can throw in place of System.exit().\r\n\r\n    package mainmocked;\r\n    class MainRunner {\r\n        void run(final String[] args) {\r\n            new MainMocked().run(args);    \r\n        }\r\n        void exit(final int status) {\r\n            System.exit(status);\r\n        }\r\n    }\r\n\r\nthe class with main() below, also has an altMain() to receive the mock or fake runner, when unit or integration testing:\r\n\r\n    package mainmocked;\r\n\r\n    public class MainMocked {\r\n        private static MainRunner runner = new MainRunner();\r\n\r\n        static void altMain(final String[] args, final MainRunner inRunner) {\r\n            runner = inRunner;\r\n            main(args);\r\n        }\r\n\r\n        public static void main(String[] args) {\r\n            try {\r\n              runner.run(args);\r\n            } catch (Throwable ex) {\r\n                // Log(&quot;error: &quot;, ex);\r\n                runner.exit(1);\r\n            }\r\n            runner.exit(0);\r\n        } // main\r\n\r\n\r\n        public void run(String[] args) {\r\n            // do things ...\r\n        }\r\n    } // class\r\n\r\nA simple mock (with Mockito) would be:\r\n\r\n    @Test\r\n    public void testAltMain() {\r\n        String[] args0 = {};\r\n        MainRunner mockRunner = mock(MainRunner.class);\r\n        MainMocked.altMain(args0, mockRunner);\r\n\r\n        verify(mockRunner).run(args0);\r\n        verify(mockRunner).exit(0);\r\n      }\r\n\r\nA more complex test class would use a Fake, in which run() could do anything, and an Exception class to replace System.exit():\r\n\r\n    private class FakeRunnerRuns extends MainRunner {\r\n        @Override\r\n        void run(String[] args){\r\n            new MainMocked().run(args);\r\n        }\r\n        @Override\r\n        void exit(final int status) {\r\n            if (status == 0) {\r\n                throw new MyMockExitExceptionOK(&quot;exit(0) success&quot;);\r\n            }\r\n            else {\r\n                throw new MyMockExitExceptionFail(&quot;Unexpected Exception&quot;);\r\n            } // ok\r\n        } // exit\r\n    } // class\r\n","title":"How to test methods that call System.exit()?","body":"<p>A generally useful approach that can be used for unit and integration testing, is to have a package private (default access) mockable runner class that provides run() and exit() methods.  These methods can be overridden by Mock or Fake test classes in the test modules.</p>\n<p>The test class (JUnit or other) provides exceptions that the exit() method can throw in place of System.exit().</p>\n<pre><code>package mainmocked;\nclass MainRunner {\n    void run(final String[] args) {\n        new MainMocked().run(args);    \n    }\n    void exit(final int status) {\n        System.exit(status);\n    }\n}\n</code></pre>\n<p>the class with main() below, also has an altMain() to receive the mock or fake runner, when unit or integration testing:</p>\n<pre><code>package mainmocked;\n\npublic class MainMocked {\n    private static MainRunner runner = new MainRunner();\n\n    static void altMain(final String[] args, final MainRunner inRunner) {\n        runner = inRunner;\n        main(args);\n    }\n\n    public static void main(String[] args) {\n        try {\n          runner.run(args);\n        } catch (Throwable ex) {\n            // Log(&quot;error: &quot;, ex);\n            runner.exit(1);\n        }\n        runner.exit(0);\n    } // main\n\n\n    public void run(String[] args) {\n        // do things ...\n    }\n} // class\n</code></pre>\n<p>A simple mock (with Mockito) would be:</p>\n<pre><code>@Test\npublic void testAltMain() {\n    String[] args0 = {};\n    MainRunner mockRunner = mock(MainRunner.class);\n    MainMocked.altMain(args0, mockRunner);\n\n    verify(mockRunner).run(args0);\n    verify(mockRunner).exit(0);\n  }\n</code></pre>\n<p>A more complex test class would use a Fake, in which run() could do anything, and an Exception class to replace System.exit():</p>\n<pre><code>private class FakeRunnerRuns extends MainRunner {\n    @Override\n    void run(String[] args){\n        new MainMocked().run(args);\n    }\n    @Override\n    void exit(final int status) {\n        if (status == 0) {\n            throw new MyMockExitExceptionOK(&quot;exit(0) success&quot;);\n        }\n        else {\n            throw new MyMockExitExceptionFail(&quot;Unexpected Exception&quot;);\n        } // ok\n    } // exit\n} // class\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10886857,"reputation":1,"user_id":8004081,"display_name":"tmurphy"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633017123,"creation_date":1633017123,"answer_id":69395325,"question_id":309396,"body_markdown":"Another technique here is to introduce additional code into the (hopefully small number of) places where the logic does the System.exit(). This additional code then  *avoids* doing the System.exit() when the logic is being called as part of unit test. For example, define a package private constant like TEST_MODE which is normally false. Then have the unit test code set this true and add logic to the code under test to check for that case and bypass the System.exit call and instead throw an exception that the unit test logic can catch. By the way, in 2021 and using something like spotbugs, this problem can manifest itself in the obscure error that &quot;java.io.IOException: An existing connection was forcibly closed by the remote host&quot;.","title":"How to test methods that call System.exit()?","body":"<p>Another technique here is to introduce additional code into the (hopefully small number of) places where the logic does the System.exit(). This additional code then  <em>avoids</em> doing the System.exit() when the logic is being called as part of unit test. For example, define a package private constant like TEST_MODE which is normally false. Then have the unit test code set this true and add logic to the code under test to check for that case and bypass the System.exit call and instead throw an exception that the unit test logic can catch. By the way, in 2021 and using something like spotbugs, this problem can manifest itself in the obscure error that &quot;java.io.IOException: An existing connection was forcibly closed by the remote host&quot;.</p>\n"}],"owner":{"account_id":1064,"reputation":55491,"user_id":1412,"accept_rate":60,"display_name":"Chris Conway"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":126574,"favorite_count":0,"down_vote_count":0,"up_vote_count":237,"accepted_answer_id":309427,"answer_count":19,"score":237,"last_activity_date":1697053908,"creation_date":1227285538,"question_id":309396,"body_markdown":"I&#39;ve got a few methods that should call `System.exit()` on certain inputs. Unfortunately, testing these cases causes JUnit to terminate! Putting the method calls in a new Thread doesn&#39;t seem to help, since `System.exit()` terminates the JVM, not just the current thread. Are there any common patterns for dealing with this? For example, can I substitute a stub for `System.exit()`? \r\n\r\nThe class in question is actually a command-line tool which I&#39;m attempting to test inside JUnit. Maybe JUnit is simply not the right tool for the job? Suggestions for complementary regression testing tools are welcome (preferably something that integrates well with JUnit and EclEmma).","title":"How to test methods that call System.exit()?","body":"<p>I've got a few methods that should call <code>System.exit()</code> on certain inputs. Unfortunately, testing these cases causes JUnit to terminate! Putting the method calls in a new Thread doesn't seem to help, since <code>System.exit()</code> terminates the JVM, not just the current thread. Are there any common patterns for dealing with this? For example, can I substitute a stub for <code>System.exit()</code>?</p>\n<p>The class in question is actually a command-line tool which I'm attempting to test inside JUnit. Maybe JUnit is simply not the right tool for the job? Suggestions for complementary regression testing tools are welcome (preferably something that integrates well with JUnit and EclEmma).</p>\n"},{"tags":["java","string","collections"],"answers":[{"tags":[],"owner":{"account_id":9320,"reputation":159784,"user_id":17172,"display_name":"coobird"},"comment_count":0,"down_vote_count":1,"up_vote_count":9,"is_accepted":false,"score":8,"last_activity_date":1307847160,"creation_date":1307847160,"answer_id":6319826,"question_id":6319775,"body_markdown":"The most straightforward way is to use a `for` loop to add elements to a new `List`:\r\n\r\n    String abc = &quot;abc&quot;;\r\n    List&lt;Character&gt; charList = new ArrayList&lt;Character&gt;();\r\n    \r\n    for (char c : abc.toCharArray()) {\r\n      charList.add(c);\r\n    }\r\n\r\nSimilarly, for a `Set`:\r\n\r\n    String abc = &quot;abc&quot;;\r\n    Set&lt;Character&gt; charSet = new HashSet&lt;Character&gt;();\r\n    \r\n    for (char c : abc.toCharArray()) {\r\n      charSet.add(c);\r\n    }\r\n","title":"Java collections convert a string to a list of characters","body":"<p>The most straightforward way is to use a <code>for</code> loop to add elements to a new <code>List</code>:</p>\n\n<pre><code>String abc = \"abc\";\nList&lt;Character&gt; charList = new ArrayList&lt;Character&gt;();\n\nfor (char c : abc.toCharArray()) {\n  charList.add(c);\n}\n</code></pre>\n\n<p>Similarly, for a <code>Set</code>:</p>\n\n<pre><code>String abc = \"abc\";\nSet&lt;Character&gt; charSet = new HashSet&lt;Character&gt;();\n\nfor (char c : abc.toCharArray()) {\n  charSet.add(c);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":295869,"reputation":73614,"user_id":600500,"accept_rate":54,"display_name":"Palo Ebermann"},"comment_count":0,"down_vote_count":1,"up_vote_count":61,"is_accepted":true,"score":60,"last_activity_date":1516063779,"creation_date":1307847183,"answer_id":6319827,"question_id":6319775,"body_markdown":"You will have to either use a loop, or create a collection wrapper like `Arrays.asList` which works on primitive char arrays (or directly on strings).\r\n\r\n    List&lt;Character&gt; list = new ArrayList&lt;Character&gt;();\r\n    Set&lt;Character&gt; unique = new HashSet&lt;Character&gt;();\r\n    for(char c : &quot;abc&quot;.toCharArray()) {\r\n        list.add(c);\r\n        unique.add(c);\r\n    }\r\n\r\n\r\nHere is an `Arrays.asList` like wrapper for strings:\r\n\r\n    public List&lt;Character&gt; asList(final String string) {\r\n        return new AbstractList&lt;Character&gt;() {\r\n           public int size() { return string.length(); }\r\n           public Character get(int index) { return string.charAt(index); }\r\n        };\r\n    }\r\n\r\nThis one is an immutable list, though. If you want a mutable list, use this with a `char[]`:\r\n\r\n    public List&lt;Character&gt; asList(final char[] string) {\r\n        return new AbstractList&lt;Character&gt;() {\r\n           public int size() { return string.length; }\r\n           public Character get(int index) { return string[index]; }\r\n           public Character set(int index, Character newVal) {\r\n              char old = string[index];\r\n              string[index] = newVal;\r\n              return old;\r\n           }\r\n        };\r\n    }\r\n\r\nAnalogous to this you can implement this for the other primitive types.\r\n**Note that using this normally is not recommended, since for every access you\r\nwould do a boxing and unboxing operation.**\r\n\r\nThe [Guava library][1] contains [similar List wrapper methods for several primitive array classes][2], like [Chars.asList][3], and a wrapper for String in [Lists.charactersOf(String)][4].\r\n\r\n\r\n  [1]: http://code.google.com/p/guava-libraries/\r\n  [2]: http://code.google.com/p/guava-libraries/wiki/PrimitivesExplained#Primitive_array_utilities\r\n  [3]: https://google.github.io/guava/releases/23.6-jre/api/docs/com/google/common/primitives/Chars.html#asList%28char...%29\r\n  [4]: https://google.github.io/guava/releases/23.6-jre/api/docs/com/google/common/collect/Lists.html#charactersOf%28java.lang.String%29","title":"Java collections convert a string to a list of characters","body":"<p>You will have to either use a loop, or create a collection wrapper like <code>Arrays.asList</code> which works on primitive char arrays (or directly on strings).</p>\n\n<pre><code>List&lt;Character&gt; list = new ArrayList&lt;Character&gt;();\nSet&lt;Character&gt; unique = new HashSet&lt;Character&gt;();\nfor(char c : \"abc\".toCharArray()) {\n    list.add(c);\n    unique.add(c);\n}\n</code></pre>\n\n<p>Here is an <code>Arrays.asList</code> like wrapper for strings:</p>\n\n<pre><code>public List&lt;Character&gt; asList(final String string) {\n    return new AbstractList&lt;Character&gt;() {\n       public int size() { return string.length(); }\n       public Character get(int index) { return string.charAt(index); }\n    };\n}\n</code></pre>\n\n<p>This one is an immutable list, though. If you want a mutable list, use this with a <code>char[]</code>:</p>\n\n<pre><code>public List&lt;Character&gt; asList(final char[] string) {\n    return new AbstractList&lt;Character&gt;() {\n       public int size() { return string.length; }\n       public Character get(int index) { return string[index]; }\n       public Character set(int index, Character newVal) {\n          char old = string[index];\n          string[index] = newVal;\n          return old;\n       }\n    };\n}\n</code></pre>\n\n<p>Analogous to this you can implement this for the other primitive types.\n<strong>Note that using this normally is not recommended, since for every access you\nwould do a boxing and unboxing operation.</strong></p>\n\n<p>The <a href=\"http://code.google.com/p/guava-libraries/\" rel=\"noreferrer\">Guava library</a> contains <a href=\"http://code.google.com/p/guava-libraries/wiki/PrimitivesExplained#Primitive_array_utilities\" rel=\"noreferrer\">similar List wrapper methods for several primitive array classes</a>, like <a href=\"https://google.github.io/guava/releases/23.6-jre/api/docs/com/google/common/primitives/Chars.html#asList%28char...%29\" rel=\"noreferrer\">Chars.asList</a>, and a wrapper for String in <a href=\"https://google.github.io/guava/releases/23.6-jre/api/docs/com/google/common/collect/Lists.html#charactersOf%28java.lang.String%29\" rel=\"noreferrer\">Lists.charactersOf(String)</a>.</p>\n"},{"tags":[],"owner":{"account_id":373467,"reputation":3837,"user_id":723113,"accept_rate":100,"display_name":"Sai"},"comment_count":0,"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1556113563,"creation_date":1307847479,"answer_id":6319845,"question_id":6319775,"body_markdown":"Create an empty list of Character and then make a loop to get every character from the array and put them in the list one by one.\r\n\r\n    List&lt;Character&gt; characterList = new ArrayList&lt;Character&gt;();\r\n    char arrayChar[] = abc.toCharArray();\r\n    for (char aChar : arrayChar) \r\n    {\r\n        characterList.add(aChar); //  autoboxing \r\n    }\r\n","title":"Java collections convert a string to a list of characters","body":"<p>Create an empty list of Character and then make a loop to get every character from the array and put them in the list one by one.</p>\n\n<pre><code>List&lt;Character&gt; characterList = new ArrayList&lt;Character&gt;();\nchar arrayChar[] = abc.toCharArray();\nfor (char aChar : arrayChar) \n{\n    characterList.add(aChar); //  autoboxing \n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":295869,"reputation":73614,"user_id":600500,"accept_rate":54,"display_name":"Palo Ebermann"},"score":1,"creation_date":1307851638,"post_id":6319912,"comment_id":7388588,"body_markdown":"Looks like I have reinvented the wheel here ... I suppose `Chars.asList` does about what the `asList` method in my answer does.","body":"Looks like I have reinvented the wheel here ... I suppose <code>Chars.asList</code> does about what the <code>asList</code> method in my answer does."},{"owner":{"account_id":50932,"reputation":6550,"user_id":152061,"accept_rate":80,"display_name":"Brad Cupit"},"score":8,"creation_date":1389033923,"post_id":6319912,"comment_id":31478411,"body_markdown":"Also in Guava is `Lists.charactersOf(&quot;abc&quot;)` which is is a little shorter and doesn&#39;t make us call `toCharArray()`","body":"Also in Guava is <code>Lists.charactersOf(&quot;abc&quot;)</code> which is is a little shorter and doesn&#39;t make us call <code>toCharArray()</code>"}],"tags":[],"owner":{"account_id":80775,"reputation":80366,"user_id":228171,"accept_rate":78,"display_name":"Mark Peters"},"comment_count":2,"down_vote_count":0,"up_vote_count":37,"is_accepted":false,"score":37,"last_activity_date":1307848627,"creation_date":1307848627,"answer_id":6319912,"question_id":6319775,"body_markdown":"The lack of a good way to convert between a primitive array and a collection of its corresponding wrapper type is solved by some third party libraries.  Guava, a very common one, [has a convenience method to do the conversion][1]:\r\n\r\n    List&lt;Character&gt; characterList = Chars.asList(&quot;abc&quot;.toCharArray());\r\n    Set&lt;Character&gt; characterSet = new HashSet&lt;Character&gt;(characterList);\r\n\r\n\r\n  [1]: http://guava-libraries.googlecode.com/svn/tags/release09/javadoc/com/google/common/primitives/Chars.html#asList%28char...%29","title":"Java collections convert a string to a list of characters","body":"<p>The lack of a good way to convert between a primitive array and a collection of its corresponding wrapper type is solved by some third party libraries.  Guava, a very common one, <a href=\"http://guava-libraries.googlecode.com/svn/tags/release09/javadoc/com/google/common/primitives/Chars.html#asList%28char...%29\" rel=\"noreferrer\">has a convenience method to do the conversion</a>:</p>\n\n<pre><code>List&lt;Character&gt; characterList = Chars.asList(\"abc\".toCharArray());\nSet&lt;Character&gt; characterSet = new HashSet&lt;Character&gt;(characterList);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2173655,"reputation":1349,"user_id":1924918,"display_name":"Andrea Gottardo"},"score":0,"creation_date":1565043132,"post_id":31641308,"comment_id":101219454,"body_markdown":"Importing `java.util.stream.Collectors` is required for this snippet to work.","body":"Importing <code>java.util.stream.Collectors</code> is required for this snippet to work."},{"owner":{"account_id":1062360,"reputation":37721,"user_id":1063716,"accept_rate":94,"display_name":"Steve Chambers"},"score":0,"creation_date":1634286147,"post_id":31641308,"comment_id":122988588,"body_markdown":"The [`chars`](https://docs.oracle.com/javase/9/docs/api/java/lang/String.html#chars--) method was introduced in Java 9 - it doesn&#39;t exist in Java 8.","body":"The <a href=\"https://docs.oracle.com/javase/9/docs/api/java/lang/String.html#chars--\" rel=\"nofollow noreferrer\"><code>chars</code></a> method was introduced in Java 9 - it doesn&#39;t exist in Java 8."},{"owner":{"account_id":13170666,"reputation":78679,"user_id":9513184,"display_name":"Unmitigated"},"score":0,"creation_date":1636437857,"post_id":31641308,"comment_id":123549854,"body_markdown":"@SteveChambers It does exist on `CharSequence` in Java 8: https://docs.oracle.com/javase/8/docs/api/java/lang/CharSequence.html#chars--","body":"@SteveChambers It does exist on <code>CharSequence</code> in Java 8: <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/CharSequence.html#chars--\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/8/docs/api/java/lang/&hellip;</a>"},{"owner":{"account_id":1062360,"reputation":37721,"user_id":1063716,"accept_rate":94,"display_name":"Steve Chambers"},"score":0,"creation_date":1636448152,"post_id":31641308,"comment_id":123552970,"body_markdown":"@Unmitigated Ah good point.","body":"@Unmitigated Ah good point."}],"tags":[],"owner":{"account_id":6464879,"reputation":1241,"user_id":5007257,"display_name":"waggledans"},"comment_count":4,"down_vote_count":0,"up_vote_count":84,"is_accepted":false,"score":84,"last_activity_date":1697053248,"creation_date":1437940629,"answer_id":31641308,"question_id":6319775,"body_markdown":"In Java, starting from Java 8, you can use streams.\r\nList of Character objects:\r\n\r\n    List&lt;Character&gt; chars = str.chars()\r\n        .mapToObj(e-&gt;(char)e).collect(Collectors.toList());\r\n\r\nAnd set could be obtained in a similar way:\r\n\r\n    Set&lt;Character&gt; charsSet = str.chars()\r\n        .mapToObj(e-&gt;(char)e).collect(Collectors.toSet());\r\n\r\n\r\n","title":"Java collections convert a string to a list of characters","body":"<p>In Java, starting from Java 8, you can use streams.\nList of Character objects:</p>\n<pre><code>List&lt;Character&gt; chars = str.chars()\n    .mapToObj(e-&gt;(char)e).collect(Collectors.toList());\n</code></pre>\n<p>And set could be obtained in a similar way:</p>\n<pre><code>Set&lt;Character&gt; charsSet = str.chars()\n    .mapToObj(e-&gt;(char)e).collect(Collectors.toSet());\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1744260,"reputation":14886,"user_id":1594823,"accept_rate":64,"display_name":"Saikat"},"score":2,"creation_date":1539838222,"post_id":41506487,"comment_id":92647960,"body_markdown":"https://stackoverflow.com/questions/22435833/why-is-string-chars-a-stream-of-ints-in-java-8","body":"<a href=\"https://stackoverflow.com/questions/22435833/why-is-string-chars-a-stream-of-ints-in-java-8\" title=\"why is string chars a stream of ints in java 8\">stackoverflow.com/questions/22435833/&hellip;</a>"}],"tags":[],"owner":{"account_id":8191460,"reputation":13817,"user_id":7366707,"accept_rate":86,"display_name":"Salem"},"comment_count":1,"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1502867273,"creation_date":1483708228,"answer_id":41506487,"question_id":6319775,"body_markdown":"Use a Java 8 `Stream`.\r\n\r\n    myString.chars().mapToObj(i -&gt; (char) i).collect(Collectors.toList());\r\n\r\nBreakdown:\r\n\r\n    myString\r\n        .chars() // Convert to an IntStream\r\n        .mapToObj(i -&gt; (char) i) // Convert int to char, which gets boxed to Character\r\n        .collect(Collectors.toList()); // Collect in a List&lt;Character&gt;\r\n\r\n(I have absolutely no idea why `String#chars()` returns an `IntStream`.)","title":"Java collections convert a string to a list of characters","body":"<p>Use a Java 8 <code>Stream</code>.</p>\n\n<pre><code>myString.chars().mapToObj(i -&gt; (char) i).collect(Collectors.toList());\n</code></pre>\n\n<p>Breakdown:</p>\n\n<pre><code>myString\n    .chars() // Convert to an IntStream\n    .mapToObj(i -&gt; (char) i) // Convert int to char, which gets boxed to Character\n    .collect(Collectors.toList()); // Collect in a List&lt;Character&gt;\n</code></pre>\n\n<p>(I have absolutely no idea why <code>String#chars()</code> returns an <code>IntStream</code>.)</p>\n"},{"tags":[],"owner":{"account_id":1712726,"reputation":6528,"user_id":1570415,"display_name":"Donald Raab"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1573351057,"creation_date":1498243257,"answer_id":44728032,"question_id":6319775,"body_markdown":"You can do this without boxing if you use [Eclipse Collections][1]:\r\n\r\n    CharAdapter abc = Strings.asChars(&quot;abc&quot;);\r\n    CharList list = abc.toList();\r\n    CharSet set = abc.toSet();\r\n    CharBag bag = abc.toBag();\r\n\r\nBecause `CharAdapter` is an `ImmutableCharList`, calling `collect` on it will return an `ImmutableList`.\r\n\r\n    ImmutableList&lt;Character&gt; immutableList = abc.collect(Character::valueOf);\r\n\r\nIf you want to return a boxed `List`, `Set` or `Bag` of `Character`, the following will work:\r\n\r\n    LazyIterable&lt;Character&gt; lazyIterable = abc.asLazy().collect(Character::valueOf);\r\n    List&lt;Character&gt; list = lazyIterable.toList();\r\n    Set&lt;Character&gt; set = lazyIterable.toSet();\r\n    Bag&lt;Character&gt; set = lazyIterable.toBag();\r\n\r\nNote: I am a committer for Eclipse Collections.\r\n\r\n\r\n  [1]: https://www.eclipse.org/collections/\r\n","title":"Java collections convert a string to a list of characters","body":"<p>You can do this without boxing if you use <a href=\"https://www.eclipse.org/collections/\" rel=\"nofollow noreferrer\">Eclipse Collections</a>:</p>\n\n<pre><code>CharAdapter abc = Strings.asChars(\"abc\");\nCharList list = abc.toList();\nCharSet set = abc.toSet();\nCharBag bag = abc.toBag();\n</code></pre>\n\n<p>Because <code>CharAdapter</code> is an <code>ImmutableCharList</code>, calling <code>collect</code> on it will return an <code>ImmutableList</code>.</p>\n\n<pre><code>ImmutableList&lt;Character&gt; immutableList = abc.collect(Character::valueOf);\n</code></pre>\n\n<p>If you want to return a boxed <code>List</code>, <code>Set</code> or <code>Bag</code> of <code>Character</code>, the following will work:</p>\n\n<pre><code>LazyIterable&lt;Character&gt; lazyIterable = abc.asLazy().collect(Character::valueOf);\nList&lt;Character&gt; list = lazyIterable.toList();\nSet&lt;Character&gt; set = lazyIterable.toSet();\nBag&lt;Character&gt; set = lazyIterable.toBag();\n</code></pre>\n\n<p>Note: I am a committer for Eclipse Collections.</p>\n"},{"tags":[],"owner":{"account_id":5401096,"reputation":1,"user_id":4300988,"display_name":"Vibodha Balalla"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1506195732,"creation_date":1506195732,"answer_id":46383597,"question_id":6319775,"body_markdown":"IntStream can be used to access each character and add them to the list. \r\n\r\n    String str = &quot;abc&quot;;\r\n    List&lt;Character&gt; charList = new ArrayList&lt;&gt;();\r\n    IntStream.range(0,str.length()).forEach(i -&gt; charList.add(str.charAt(i)));\r\n\r\n","title":"Java collections convert a string to a list of characters","body":"<p>IntStream can be used to access each character and add them to the list. </p>\n\n<pre><code>String str = \"abc\";\nList&lt;Character&gt; charList = new ArrayList&lt;&gt;();\nIntStream.range(0,str.length()).forEach(i -&gt; charList.add(str.charAt(i)));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9934922,"reputation":4769,"user_id":7353562,"accept_rate":75,"display_name":"Arpan Saini"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1566450148,"creation_date":1566450148,"answer_id":57602336,"question_id":6319775,"body_markdown":"**Using Java 8 - Stream Funtion:**\r\n\r\n**Converting A String into Character List:**\r\n\r\n         \r\n    ArrayList&lt;Character&gt; characterList =  givenStringVariable\r\n                                                             .chars()\r\n                                                             .mapToObj(c-&gt; (char)c)\r\n                                                             .collect(collectors.toList());\r\n\r\n**Converting A Character List into String:**\r\n\r\n     String givenStringVariable =  characterList\r\n                                                .stream()\r\n                                                .map(String::valueOf)\r\n                                                .collect(Collectors.joining())","title":"Java collections convert a string to a list of characters","body":"<p><strong>Using Java 8 - Stream Funtion:</strong></p>\n\n<p><strong>Converting A String into Character List:</strong></p>\n\n<pre><code>ArrayList&lt;Character&gt; characterList =  givenStringVariable\n                                                         .chars()\n                                                         .mapToObj(c-&gt; (char)c)\n                                                         .collect(collectors.toList());\n</code></pre>\n\n<p><strong>Converting A Character List into String:</strong></p>\n\n<pre><code> String givenStringVariable =  characterList\n                                            .stream()\n                                            .map(String::valueOf)\n                                            .collect(Collectors.joining())\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6755245,"reputation":339,"user_id":5203924,"display_name":"Mathieu Allain"},"comment_count":0,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1575828323,"creation_date":1575828323,"answer_id":59238353,"question_id":6319775,"body_markdown":"    List&lt;String&gt; result = Arrays.asList(&quot;abc&quot;.split(&quot;&quot;));","title":"Java collections convert a string to a list of characters","body":"<pre><code>List&lt;String&gt; result = Arrays.asList(\"abc\".split(\"\"));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17420023,"reputation":36,"user_id":12625762,"display_name":"Bhakti Vora"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632958621,"creation_date":1632957059,"answer_id":69384254,"question_id":6319775,"body_markdown":"**To get a list of Characters / Strings -**\r\n\r\n    List&lt;String&gt; stringsOfCharacters = string.chars().\r\n                                       mapToObj(i -&gt; (char)i).\r\n                                       map(c -&gt; c.toString()).\r\n                                       collect(Collectors.toList());","title":"Java collections convert a string to a list of characters","body":"<p><strong>To get a list of Characters / Strings -</strong></p>\n<pre><code>List&lt;String&gt; stringsOfCharacters = string.chars().\n                                   mapToObj(i -&gt; (char)i).\n                                   map(c -&gt; c.toString()).\n                                   collect(Collectors.toList());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11777498,"reputation":1,"user_id":8618365,"display_name":"ankit singh"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693456537,"creation_date":1693394331,"answer_id":77007484,"question_id":6319775,"body_markdown":"We can convert `List` of `String` into `Set` of characters as below.\r\n\r\n    Set&lt;Character&gt; charSet = new HashSet&lt;&gt;();\r\n    List&lt;String&gt; strList = List.of(&quot;abc&quot;, &quot;cde&quot;, &quot;def&quot;, &quot;afc&quot;);\r\n    strList.forEach(str -&gt; {\r\n                    charSet.addAll(str.chars()\r\n                                      .mapToObj(c -&gt; (char) c)\r\n                                      .collect(Collectors.toSet()));\r\n                });\r\n\r\nOutput will be something like this.\r\n```none\r\n[a, b, c, d, e, f]\r\n```","title":"Java collections convert a string to a list of characters","body":"<p>We can convert <code>List</code> of <code>String</code> into <code>Set</code> of characters as below.</p>\n<pre><code>Set&lt;Character&gt; charSet = new HashSet&lt;&gt;();\nList&lt;String&gt; strList = List.of(&quot;abc&quot;, &quot;cde&quot;, &quot;def&quot;, &quot;afc&quot;);\nstrList.forEach(str -&gt; {\n                charSet.addAll(str.chars()\n                                  .mapToObj(c -&gt; (char) c)\n                                  .collect(Collectors.toSet()));\n            });\n</code></pre>\n<p>Output will be something like this.</p>\n<pre class=\"lang-none prettyprint-override\"><code>[a, b, c, d, e, f]\n</code></pre>\n"}],"owner":{"account_id":738737,"reputation":3541,"user_id":701441,"accept_rate":71,"display_name":"phoenix"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":209888,"favorite_count":0,"down_vote_count":0,"up_vote_count":78,"accepted_answer_id":6319827,"answer_count":12,"score":78,"last_activity_date":1697053248,"creation_date":1307846341,"question_id":6319775,"body_markdown":"I would like to convert the string containing `abc` to a list of characters and a hashset of characters. How can I do that in Java ? \r\n\r\n    List&lt;Character&gt; charList = new ArrayList&lt;Character&gt;(&quot;abc&quot;.toCharArray());\r\n    \t\r\n\r\n","title":"Java collections convert a string to a list of characters","body":"<p>I would like to convert the string containing <code>abc</code> to a list of characters and a hashset of characters. How can I do that in Java ? </p>\n\n<pre><code>List&lt;Character&gt; charList = new ArrayList&lt;Character&gt;(\"abc\".toCharArray());\n</code></pre>\n"},{"tags":["java","bazel","bazel-rules","bazel-java"],"comments":[{"owner":{"account_id":20728043,"reputation":338,"user_id":15220917,"display_name":"SG_Bazel"},"score":0,"creation_date":1697705498,"post_id":77275865,"comment_id":136314320,"body_markdown":"Here it is https://github.com/bazelbuild/bazel/blob/073fba498cd436fdf99067ed8bdcb023c78c7200/src/main/java/com/google/devtools/build/lib/util/ProcessUtils.java#L42C1-L51C7.           ```@return the process ID of this process.\n   * @throws UnsatisfiedLinkError when JNI is not available.```","body":"Here it is <a href=\"https://github.com/bazelbuild/bazel/blob/073fba498cd436fdf99067ed8bdcb023c78c7200/src/main/java/com/google/devtools/build/lib/util/ProcessUtils.java#L42C1-L51C7\" rel=\"nofollow noreferrer\">github.com/bazelbuild/bazel/blob/&hellip;</a>.           <code>@return the process ID of this process.    * @throws UnsatisfiedLinkError when JNI is not available.</code>"}],"owner":{"account_id":2421862,"reputation":1343,"user_id":5157998,"accept_rate":59,"display_name":"rishi007bansod"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697053050,"creation_date":1697051866,"question_id":77275865,"body_markdown":"I am facing below issue with Bazel Info command -&gt;\r\n\r\n```\r\n$bazel info                                                                                                                                                   \r\nStarting local Bazel server and connecting to it...\r\nINFO: Invocation ID: 47f56fa4-a837-4636-97ef-57591ed4dcae\r\nbazel-bin: /private/var/tmp/_bazel_rbansod/1cd1a8b9e1567ccf289777f2b0d30088/execroot/nsx/bazel-out/darwin-fastbuild/bin\r\nbazel-genfiles: /private/var/tmp/_bazel_rbansod/1cd1a8b9e1567ccf289777f2b0d30088/execroot/nsx/bazel-out/darwin-fastbuild/bin\r\nbazel-testlogs: /private/var/tmp/_bazel_rbansod/1cd1a8b9e1567ccf289777f2b0d30088/execroot/nsx/bazel-out/darwin-fastbuild/testlogs\r\ncharacter-encoding: file.encoding = ISO-8859-1, defaultCharset = ISO-8859-1\r\ncommand_log: /private/var/tmp/_bazel_rbansod/1cd1a8b9e1567ccf289777f2b0d30088/command.log\r\ncommitted-heap-size: 2147MB\r\nexecution_root: /private/var/tmp/_bazel_rbansod/1cd1a8b9e1567ccf289777f2b0d30088/execroot/nsx\r\ngc-count: 4\r\ngc-time: 28ms\r\ninstall_base: /var/tmp/_bazel_rbansod/install/1cd9602f1e0e120a357e06b085ac3a74\r\njava-home: /Library/Java/JavaVirtualMachines/jdk-11.jdk/Contents/Home\r\njava-runtime: Java(TM) SE Runtime Environment (build 11.0.19+9-LTS-224) by Oracle Corporation\r\njava-vm: Java HotSpot(TM) 64-Bit Server VM (build 11.0.19+9-LTS-224, mixed mode) by Oracle Corporation\r\nmax-heap-size: 2147MB\r\noutput_base: /private/var/tmp/_bazel_rbansod/1cd1a8b9e1567ccf289777f2b0d30088\r\noutput_path: /private/var/tmp/_bazel_rbansod/1cd1a8b9e1567ccf289777f2b0d30088/execroot/nsx/bazel-out\r\npackage_path: %workspace%\r\nrelease: release 4.2.2\r\nrepository_cache: /var/tmp/_bazel_rbansod/cache/repos/v1\r\nserver_log: /private/var/tmp/_bazel_rbansod/1cd1a8b9e1567ccf289777f2b0d30088/java.log.rbansodj4h4v.rbansod.log.java.20231012-000350.91479\r\nserver_pid: FATAL: bazel crashed due to an internal error. Printing stack trace:\r\njava.lang.UnsatisfiedLinkError: com.google.devtools.build.lib.unix.ProcessUtils.getpid()I\r\n\tat com.google.devtools.build.lib.unix.ProcessUtils.getpid(Native Method)\r\n\tat com.google.devtools.build.lib.util.ProcessUtils.getpid(ProcessUtils.java:51)\r\n\tat com.google.devtools.build.lib.runtime.commands.info.ServerPidInfoItem.get(ServerPidInfoItem.java:31)\r\n\tat com.google.devtools.build.lib.runtime.commands.InfoCommand.exec(InfoCommand.java:243)\r\n\tat com.google.devtools.build.lib.runtime.BlazeCommandDispatcher.execExclusively(BlazeCommandDispatcher.java:579)\r\n\tat com.google.devtools.build.lib.runtime.BlazeCommandDispatcher.exec(BlazeCommandDispatcher.java:231)\r\n\tat com.google.devtools.build.lib.server.GrpcServerImpl.executeCommand(GrpcServerImpl.java:543)\r\n\tat com.google.devtools.build.lib.server.GrpcServerImpl.lambda$run$1(GrpcServerImpl.java:606)\r\n\tat io.grpc.Context$1.run(Context.java:579)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\r\n\tat java.base/java.lang.Thread.run(Thread.java:834)\r\n```\r\nHow can we resolve this issue?\r\n\r\nDev Machine is -&gt;\r\nApple M1 Pro, Mac OS 13.5.2\r\n","title":"java.lang.UnsatisfiedLinkError: com.google.devtools.build.lib.unix.ProcessUtils.getpid","body":"<p>I am facing below issue with Bazel Info command -&gt;</p>\n<pre><code>$bazel info                                                                                                                                                   \nStarting local Bazel server and connecting to it...\nINFO: Invocation ID: 47f56fa4-a837-4636-97ef-57591ed4dcae\nbazel-bin: /private/var/tmp/_bazel_rbansod/1cd1a8b9e1567ccf289777f2b0d30088/execroot/nsx/bazel-out/darwin-fastbuild/bin\nbazel-genfiles: /private/var/tmp/_bazel_rbansod/1cd1a8b9e1567ccf289777f2b0d30088/execroot/nsx/bazel-out/darwin-fastbuild/bin\nbazel-testlogs: /private/var/tmp/_bazel_rbansod/1cd1a8b9e1567ccf289777f2b0d30088/execroot/nsx/bazel-out/darwin-fastbuild/testlogs\ncharacter-encoding: file.encoding = ISO-8859-1, defaultCharset = ISO-8859-1\ncommand_log: /private/var/tmp/_bazel_rbansod/1cd1a8b9e1567ccf289777f2b0d30088/command.log\ncommitted-heap-size: 2147MB\nexecution_root: /private/var/tmp/_bazel_rbansod/1cd1a8b9e1567ccf289777f2b0d30088/execroot/nsx\ngc-count: 4\ngc-time: 28ms\ninstall_base: /var/tmp/_bazel_rbansod/install/1cd9602f1e0e120a357e06b085ac3a74\njava-home: /Library/Java/JavaVirtualMachines/jdk-11.jdk/Contents/Home\njava-runtime: Java(TM) SE Runtime Environment (build 11.0.19+9-LTS-224) by Oracle Corporation\njava-vm: Java HotSpot(TM) 64-Bit Server VM (build 11.0.19+9-LTS-224, mixed mode) by Oracle Corporation\nmax-heap-size: 2147MB\noutput_base: /private/var/tmp/_bazel_rbansod/1cd1a8b9e1567ccf289777f2b0d30088\noutput_path: /private/var/tmp/_bazel_rbansod/1cd1a8b9e1567ccf289777f2b0d30088/execroot/nsx/bazel-out\npackage_path: %workspace%\nrelease: release 4.2.2\nrepository_cache: /var/tmp/_bazel_rbansod/cache/repos/v1\nserver_log: /private/var/tmp/_bazel_rbansod/1cd1a8b9e1567ccf289777f2b0d30088/java.log.rbansodj4h4v.rbansod.log.java.20231012-000350.91479\nserver_pid: FATAL: bazel crashed due to an internal error. Printing stack trace:\njava.lang.UnsatisfiedLinkError: com.google.devtools.build.lib.unix.ProcessUtils.getpid()I\n    at com.google.devtools.build.lib.unix.ProcessUtils.getpid(Native Method)\n    at com.google.devtools.build.lib.util.ProcessUtils.getpid(ProcessUtils.java:51)\n    at com.google.devtools.build.lib.runtime.commands.info.ServerPidInfoItem.get(ServerPidInfoItem.java:31)\n    at com.google.devtools.build.lib.runtime.commands.InfoCommand.exec(InfoCommand.java:243)\n    at com.google.devtools.build.lib.runtime.BlazeCommandDispatcher.execExclusively(BlazeCommandDispatcher.java:579)\n    at com.google.devtools.build.lib.runtime.BlazeCommandDispatcher.exec(BlazeCommandDispatcher.java:231)\n    at com.google.devtools.build.lib.server.GrpcServerImpl.executeCommand(GrpcServerImpl.java:543)\n    at com.google.devtools.build.lib.server.GrpcServerImpl.lambda$run$1(GrpcServerImpl.java:606)\n    at io.grpc.Context$1.run(Context.java:579)\n    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\n    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\n    at java.base/java.lang.Thread.run(Thread.java:834)\n</code></pre>\n<p>How can we resolve this issue?</p>\n<p>Dev Machine is -&gt;\nApple M1 Pro, Mac OS 13.5.2</p>\n"},{"tags":["java","file","path"],"comments":[{"owner":{"account_id":7421543,"reputation":2874,"user_id":5645656,"accept_rate":100,"display_name":"Cardinal System"},"score":0,"creation_date":1697049399,"post_id":77275531,"comment_id":136231866,"body_markdown":"How are you reading the file? Please share your code.","body":"How are you reading the file? Please share your code."},{"owner":{"account_id":28216296,"reputation":53,"user_id":22303021,"display_name":"Derek Kwon"},"score":0,"creation_date":1697049840,"post_id":77275531,"comment_id":136231941,"body_markdown":"I am using BufferedReader and BufferedWriter, so \n\nBufferedReader scoreReadStart = new BufferedReader(new FileReader(&quot;C:\\\\Users\\\\name\\\\Desktop\\\\CSCI\\\\MemoryGame\\\\resources\\\\leaderboard.txt&quot;)); \n\nand \n\nBufferedWriter scoreWrite = new BufferedWriter(new FileWriter(&quot;C:\\\\Users\\\\name\\\\Desktop\\\\CSCI\\\\MemoryGame\\\\resources\\\\leaderboard.txt&quot;));","body":"I am using BufferedReader and BufferedWriter, so   BufferedReader scoreReadStart = new BufferedReader(new FileReader(&quot;C:\\\\Users\\\\name\\\\Desktop\\\\CSCI\\\\MemoryGame\\\\reso&zwnj;&#8203;urces\\\\leaderboard.t&zwnj;&#8203;xt&quot;));   and   BufferedWriter scoreWrite = new BufferedWriter(new FileWriter(&quot;C:\\\\Users\\\\name\\\\Desktop\\\\CSCI\\\\MemoryGame\\\\reso&zwnj;&#8203;urces\\\\leaderboard.t&zwnj;&#8203;xt&quot;));"},{"owner":{"account_id":7421543,"reputation":2874,"user_id":5645656,"accept_rate":100,"display_name":"Cardinal System"},"score":0,"creation_date":1697050019,"post_id":77275531,"comment_id":136231962,"body_markdown":"For future reference, please update your question with the relevant code instead of pasting it in the comments.","body":"For future reference, please update your question with the relevant code instead of pasting it in the comments."},{"owner":{"account_id":28216296,"reputation":53,"user_id":22303021,"display_name":"Derek Kwon"},"score":0,"creation_date":1697050238,"post_id":77275531,"comment_id":136232005,"body_markdown":"Understood, I have updated my question accordingly. Thank you for the tip.","body":"Understood, I have updated my question accordingly. Thank you for the tip."}],"answers":[{"tags":[],"owner":{"account_id":7421543,"reputation":2874,"user_id":5645656,"accept_rate":100,"display_name":"Cardinal System"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1697051079,"creation_date":1697050752,"answer_id":77275747,"question_id":77275531,"body_markdown":"I personally prefer to use the Java NIO class [`Path`][1] in conjunction with [`Path#resolve(String)`][2], but if you&#39;re sticking with [`File`][3] you can use the [`File(File, String)`][4] constructor, which takes a parent argument.\r\n\r\nHere&#39;s an example which assumes that the program&#39;s working directory is the same as the project&#39;s root directory:\r\n\r\n\tpublic static void main(String[] args) throws IOException {\r\n\t\tFile workingDirectory = new File(System.getProperty(&quot;user.dir&quot;));\r\n\t\tSystem.out.println(&quot;The program is running in: &quot; + workingDirectory);\r\n\r\n\t\tFile resourcesDirectory = new File(workingDirectory, &quot;resources&quot;);\r\n\t\tSystem.out.println(&quot;Resources directory: &quot; + resourcesDirectory);\r\n\r\n\t\tFile leaderboardFile = new File(resourcesDirectory, &quot;leaderboard.txt&quot;);\r\n\t\tSystem.out.println(&quot;Leaderboard file: &quot; + leaderboardFile);\r\n\r\n\t\tBufferedWriter scoreWrite = new BufferedWriter(new FileWriter(leaderboardFile));\r\n\t\tBufferedReader scoreRead = new BufferedReader(new FileReader(leaderboardFile));\r\n\r\n        // ...\r\n\t}\r\n\r\nUnrelated to the question, but consider using a [try-with-resources][5] statement.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/nio/file/Path.html\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/nio/file/Path.html#resolve-java.lang.String-\r\n  [3]: https://docs.oracle.com/javase/8/docs/api/java/io/File.html\r\n  [4]: https://docs.oracle.com/javase/8/docs/api/java/io/File.html#File-java.io.File-java.lang.String-\r\n  [5]: https://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html","title":"relative filepath for java","body":"<p>I personally prefer to use the Java NIO class <a href=\"https://docs.oracle.com/javase/8/docs/api/java/nio/file/Path.html\" rel=\"nofollow noreferrer\"><code>Path</code></a> in conjunction with <a href=\"https://docs.oracle.com/javase/8/docs/api/java/nio/file/Path.html#resolve-java.lang.String-\" rel=\"nofollow noreferrer\"><code>Path#resolve(String)</code></a>, but if you're sticking with <a href=\"https://docs.oracle.com/javase/8/docs/api/java/io/File.html\" rel=\"nofollow noreferrer\"><code>File</code></a> you can use the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/io/File.html#File-java.io.File-java.lang.String-\" rel=\"nofollow noreferrer\"><code>File(File, String)</code></a> constructor, which takes a parent argument.</p>\n<p>Here's an example which assumes that the program's working directory is the same as the project's root directory:</p>\n<pre><code>public static void main(String[] args) throws IOException {\n    File workingDirectory = new File(System.getProperty(&quot;user.dir&quot;));\n    System.out.println(&quot;The program is running in: &quot; + workingDirectory);\n\n    File resourcesDirectory = new File(workingDirectory, &quot;resources&quot;);\n    System.out.println(&quot;Resources directory: &quot; + resourcesDirectory);\n\n    File leaderboardFile = new File(resourcesDirectory, &quot;leaderboard.txt&quot;);\n    System.out.println(&quot;Leaderboard file: &quot; + leaderboardFile);\n\n    BufferedWriter scoreWrite = new BufferedWriter(new FileWriter(leaderboardFile));\n    BufferedReader scoreRead = new BufferedReader(new FileReader(leaderboardFile));\n\n    // ...\n}\n</code></pre>\n<p>Unrelated to the question, but consider using a <a href=\"https://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html\" rel=\"nofollow noreferrer\">try-with-resources</a> statement.</p>\n"}],"owner":{"account_id":28216296,"reputation":53,"user_id":22303021,"display_name":"Derek Kwon"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":55,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1697052153,"creation_date":1697048636,"question_id":77275531,"body_markdown":"For my first java project I have been assigned to build a card flipping memory game that includes a leaderboard. In the project folder, there is the src folder, but there is also a folder named &quot;resources&quot;. That is where the `leaderboard.txt` file is.\r\n\r\nI have gotten everything working fine on my device, but the file path that I use to read in the leaderboard and write data to it is a local path: `C:\\\\Users\\\\Name\\\\Desktop\\\\ProjectFolder\\\\Resources\\\\Leaderboard.txt`. Obviously, this will not work on the instructor&#39;s computer.\r\n\r\nHow should I edit the file path so that it works on the grader&#39;s end? I have read something about using &quot;/&quot; as a separator but I don&#39;t know how I should incorporate that into the file path. I am using BufferedWriter and BufferedReader, so the code looks like this:\r\n\r\n    BufferedWriter scoreWrite = new BufferedWriter(new FileWriter(&quot;C:\\\\Users\\\\name\\\\Desktop\\\\CSCI\\\\MemoryGame\\\\resources\\\\leaderboard.txt&quot;));\r\n    BufferedReader scoreRead = new BufferedReader(new FileReader(&quot;C:\\\\Users\\\\name\\\\Desktop\\\\CSCI\\\\MemoryGame\\\\resources\\\\leaderboard.txt&quot;));\r\n\r\nIf MemoryGame is the folder created by cloning the repository and the resources folder is within the MemoryGame folder, would &quot;./resources/leaderboard.txt&quot; work as a filepath? The dot indicates that I am searching with a relative path, correct?\r\n\r\nI am very new to Java so I would be very happy to receive any and all advice. Thank you all!","title":"relative filepath for java","body":"<p>For my first java project I have been assigned to build a card flipping memory game that includes a leaderboard. In the project folder, there is the src folder, but there is also a folder named &quot;resources&quot;. That is where the <code>leaderboard.txt</code> file is.</p>\n<p>I have gotten everything working fine on my device, but the file path that I use to read in the leaderboard and write data to it is a local path: <code>C:\\\\Users\\\\Name\\\\Desktop\\\\ProjectFolder\\\\Resources\\\\Leaderboard.txt</code>. Obviously, this will not work on the instructor's computer.</p>\n<p>How should I edit the file path so that it works on the grader's end? I have read something about using &quot;/&quot; as a separator but I don't know how I should incorporate that into the file path. I am using BufferedWriter and BufferedReader, so the code looks like this:</p>\n<pre><code>BufferedWriter scoreWrite = new BufferedWriter(new FileWriter(&quot;C:\\\\Users\\\\name\\\\Desktop\\\\CSCI\\\\MemoryGame\\\\resources\\\\leaderboard.txt&quot;));\nBufferedReader scoreRead = new BufferedReader(new FileReader(&quot;C:\\\\Users\\\\name\\\\Desktop\\\\CSCI\\\\MemoryGame\\\\resources\\\\leaderboard.txt&quot;));\n</code></pre>\n<p>If MemoryGame is the folder created by cloning the repository and the resources folder is within the MemoryGame folder, would &quot;./resources/leaderboard.txt&quot; work as a filepath? The dot indicates that I am searching with a relative path, correct?</p>\n<p>I am very new to Java so I would be very happy to receive any and all advice. Thank you all!</p>\n"},{"tags":["java","eclipse","web-applications"],"comments":[{"owner":{"account_id":195331,"reputation":275428,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":1,"creation_date":1396879984,"post_id":22914927,"comment_id":34974640,"body_markdown":"Just add a source folder.","body":"Just add a source folder."},{"owner":{"account_id":56519,"reputation":22672,"user_id":169277,"accept_rate":97,"display_name":"ant"},"score":0,"creation_date":1396880017,"post_id":22914927,"comment_id":34974662,"body_markdown":"You can create them yourself like a regular folders. Create src folder, than test inside src then java inside test","body":"You can create them yourself like a regular folders. Create src folder, than test inside src then java inside test"},{"owner":{"account_id":928080,"reputation":1759,"user_id":958443,"accept_rate":56,"display_name":"Sandeep Rao"},"score":1,"creation_date":1396880086,"post_id":22914927,"comment_id":34974702,"body_markdown":"I am unable to add sub folders to src folder in eclipse. Can you please let me know how I can do that ?","body":"I am unable to add sub folders to src folder in eclipse. Can you please let me know how I can do that ?"}],"answers":[{"comments":[{"owner":{"account_id":928080,"reputation":1759,"user_id":958443,"accept_rate":56,"display_name":"Sandeep Rao"},"score":0,"creation_date":1396880230,"post_id":22914992,"comment_id":34974818,"body_markdown":"Thanks for replying but when I try to add sub folders I am getting and error msg . &quot;Cannot nest &#39;TestApp/src/main/java exclude &#39;main/&#39; from &#39;TestApp/src&quot;","body":"Thanks for replying but when I try to add sub folders I am getting and error msg . &quot;Cannot nest &#39;TestApp/src/main/java exclude &#39;main/&#39; from &#39;TestApp/src&quot;"},{"owner":{"account_id":162901,"reputation":10387,"user_id":384674,"accept_rate":69,"display_name":"Betlista"},"score":0,"creation_date":1396880498,"post_id":22914992,"comment_id":34975014,"body_markdown":"You simply cannot have `src` and `src/main` both as a source folder by default. But you can exclude `main` from `src` in `Source` tab (my Eclipse version did it by default)...","body":"You simply cannot have <code>src</code> and <code>src&#47;main</code> both as a source folder by default. But you can exclude <code>main</code> from <code>src</code> in <code>Source</code> tab (my Eclipse version did it by default)..."},{"owner":{"account_id":928080,"reputation":1759,"user_id":958443,"accept_rate":56,"display_name":"Sandeep Rao"},"score":0,"creation_date":1396880888,"post_id":22914992,"comment_id":34975291,"body_markdown":"Can you explain me how I can exclude it ?","body":"Can you explain me how I can exclude it ?"},{"owner":{"account_id":3159259,"reputation":109678,"user_id":2670892,"display_name":"greg-449"},"score":0,"creation_date":1396881134,"post_id":22914992,"comment_id":34975484,"body_markdown":"Remove the existing src entry and then add the new entries","body":"Remove the existing src entry and then add the new entries"}],"tags":[],"owner":{"account_id":3159259,"reputation":109678,"user_id":2670892,"display_name":"greg-449"},"comment_count":4,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1396880063,"creation_date":1396880063,"answer_id":22914992,"question_id":22914927,"body_markdown":"Open  `Properties &gt; Java Build Path` for the project. Select the `Source` tab and use `Add Folders` to add source folders.","title":"Creating a src/main/java folder structure in Eclipse without Maven","body":"<p>Open  <code>Properties &gt; Java Build Path</code> for the project. Select the <code>Source</code> tab and use <code>Add Folders</code> to add source folders.</p>\n"},{"comments":[{"owner":{"account_id":928080,"reputation":1759,"user_id":958443,"accept_rate":56,"display_name":"Sandeep Rao"},"score":0,"creation_date":1396880997,"post_id":22915248,"comment_id":34975385,"body_markdown":"I tried to edit and rename the folder structure but I am getting the following error.An internal error occurred during: &quot;Setting build path&quot;.\nassertion failed: Cannot move &#39;/TestApp/src&#39;. Destination should not be under source&#39;s hierarchy.","body":"I tried to edit and rename the folder structure but I am getting the following error.An internal error occurred during: &quot;Setting build path&quot;. assertion failed: Cannot move &#39;/TestApp/src&#39;. Destination should not be under source&#39;s hierarchy."},{"owner":{"account_id":2147768,"reputation":1995,"user_id":1905015,"accept_rate":80,"display_name":"markusw"},"score":0,"creation_date":1396881026,"post_id":22915248,"comment_id":34975405,"body_markdown":"Do not edit it! just delete it and create a new one!","body":"Do not edit it! just delete it and create a new one!"},{"owner":{"account_id":928080,"reputation":1759,"user_id":958443,"accept_rate":56,"display_name":"Sandeep Rao"},"score":0,"creation_date":1396881131,"post_id":22915248,"comment_id":34975483,"body_markdown":"I already have some packages under src folder and I don&#39;t want to lose it. Nvm I was able to do it. Thanks!","body":"I already have some packages under src folder and I don&#39;t want to lose it. Nvm I was able to do it. Thanks!"}],"tags":[],"owner":{"account_id":2147768,"reputation":1995,"user_id":1905015,"accept_rate":80,"display_name":"markusw"},"comment_count":3,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1396880727,"creation_date":1396880727,"answer_id":22915248,"question_id":22914927,"body_markdown":"Remove the actual source folder definition in the build path and add a new source folder an name it `src/main/java`","title":"Creating a src/main/java folder structure in Eclipse without Maven","body":"<p>Remove the actual source folder definition in the build path and add a new source folder an name it <code>src/main/java</code></p>\n"},{"comments":[{"owner":{"account_id":9135869,"reputation":555,"user_id":6795572,"accept_rate":70,"display_name":"S Kumar"},"score":0,"creation_date":1521396466,"post_id":22915508,"comment_id":85702288,"body_markdown":"After selecting use as source folder option, the structure of folder is created but while updating the maven project it is giving error : Unable to update maven configuration for the following projects. Cannot nest &#39;Foldername/src/main/java&#39; inside &#39;Foldername/src&#39;. To enable the nesting exclude &#39;main/&#39; from &#39;SelectExample/src&#39;","body":"After selecting use as source folder option, the structure of folder is created but while updating the maven project it is giving error : Unable to update maven configuration for the following projects. Cannot nest &#39;Foldername/src/main/java&#39; inside &#39;Foldername/src&#39;. To enable the nesting exclude &#39;main/&#39; from &#39;SelectExample/src&#39;"}],"tags":[],"owner":{"account_id":701757,"reputation":121151,"user_id":592139,"display_name":"Ian Roberts"},"comment_count":1,"down_vote_count":0,"up_vote_count":185,"is_accepted":true,"score":185,"last_activity_date":1396881399,"creation_date":1396881399,"answer_id":22915508,"question_id":22914927,"body_markdown":"As you&#39;ve discovered, you can&#39;t have a source folder inside another source folder, so before you can create `src/main/java` you have to tell Eclipse not to treat `src` as a source folder.  To do this, right click on the `src` folder and select build path -&gt; remove from build path.\r\n\r\nOnce you have done this `src` will appear in the folder tree in its normal place, so you can create the `main` and `java` folders under it, and move the existing `src/com` to `src/main/java/com`.  Finally right-click the newly-created `java` folder and select build path -&gt; use as source folder.","title":"Creating a src/main/java folder structure in Eclipse without Maven","body":"<p>As you've discovered, you can't have a source folder inside another source folder, so before you can create <code>src/main/java</code> you have to tell Eclipse not to treat <code>src</code> as a source folder.  To do this, right click on the <code>src</code> folder and select build path -> remove from build path.</p>\n\n<p>Once you have done this <code>src</code> will appear in the folder tree in its normal place, so you can create the <code>main</code> and <code>java</code> folders under it, and move the existing <code>src/com</code> to <code>src/main/java/com</code>.  Finally right-click the newly-created <code>java</code> folder and select build path -> use as source folder.</p>\n"},{"tags":[],"owner":{"display_name":"user6428790"},"comment_count":0,"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1466029108,"creation_date":1466029108,"answer_id":37846753,"question_id":22914927,"body_markdown":"I have solved this issue by below steps:\r\n\r\nRight click the Maven Project -&gt; Build Path -&gt; Configure Build Path\r\nIn Order and Export tab, you can see the message like &#39;2 build path entries are missing&#39;\r\nNow select &#39;JRE System Library&#39; and &#39;Maven Dependencies&#39; checkbox\r\nClick OK\r\n\r\n","title":"Creating a src/main/java folder structure in Eclipse without Maven","body":"<p>I have solved this issue by below steps:</p>\n\n<p>Right click the Maven Project -> Build Path -> Configure Build Path\nIn Order and Export tab, you can see the message like '2 build path entries are missing'\nNow select 'JRE System Library' and 'Maven Dependencies' checkbox\nClick OK</p>\n"},{"tags":[],"owner":{"account_id":8718906,"reputation":11,"user_id":6522631,"display_name":"AmosJ"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1467107992,"creation_date":1467107992,"answer_id":38073038,"question_id":22914927,"body_markdown":"the problem will be solved by checking on &#39;JRE System Library&#39; and &#39;Maven Dependencies&#39; checkboxs Click OK. this is found in the project&#39;s &#39;build path option&#39;","title":"Creating a src/main/java folder structure in Eclipse without Maven","body":"<p>the problem will be solved by checking on 'JRE System Library' and 'Maven Dependencies' checkboxs Click OK. this is found in the project's 'build path option'</p>\n"},{"tags":[],"owner":{"account_id":8850314,"reputation":51,"user_id":6609819,"display_name":"kiran kumar"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1469085600,"creation_date":1469085600,"answer_id":38497528,"question_id":22914927,"body_markdown":"\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/VaCWR.png\r\n\r\nIf you don&#39;t find the Included Path just add the path it will resolve.","title":"Creating a src/main/java folder structure in Eclipse without Maven","body":"<p><a href=\"https://i.stack.imgur.com/VaCWR.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/VaCWR.png\" alt=\"enter image description here\"></a></p>\n\n<p>If you don't find the Included Path just add the path it will resolve.</p>\n"},{"tags":[],"owner":{"account_id":347913,"reputation":755,"user_id":682312,"accept_rate":40,"display_name":"Puneet Lamba"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1591980100,"creation_date":1506370552,"answer_id":46413489,"question_id":22914927,"body_markdown":"If the package structure is setup as `src.main.java.com.inventica`, instead of `com.inventica`, thats usually because under project properties &gt; Java build path &gt; Source, the source folder is setup as `src` instead of `src/main/java`. Theres no easy way to fix this, so remove `src` as a source folder and click ok. \r\n\r\nNow Eclipse will show a folder hierarchy `src/main/java`. Browse to the `java` folder &gt; right-click &gt; build path &gt; use as source folder. \r\n\r\nAfter this, you may have to fix the Eclipse .project and .classpath files to have it use Maven to manage dependencies, builds etc. \r\n\r\nTypically, you can copy this from a working project since there isnt anything project specific here assuming youre structured as a standard Maven project.","title":"Creating a src/main/java folder structure in Eclipse without Maven","body":"<p>If the package structure is setup as <code>src.main.java.com.inventica</code>, instead of <code>com.inventica</code>, thats usually because under project properties > Java build path > Source, the source folder is setup as <code>src</code> instead of <code>src/main/java</code>. Theres no easy way to fix this, so remove <code>src</code> as a source folder and click ok. </p>\n\n<p>Now Eclipse will show a folder hierarchy <code>src/main/java</code>. Browse to the <code>java</code> folder > right-click > build path > use as source folder. </p>\n\n<p>After this, you may have to fix the Eclipse .project and .classpath files to have it use Maven to manage dependencies, builds etc. </p>\n\n<p>Typically, you can copy this from a working project since there isnt anything project specific here assuming youre structured as a standard Maven project.</p>\n"},{"tags":[],"owner":{"account_id":5604771,"reputation":53,"user_id":4439779,"accept_rate":0,"display_name":"Guru"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1521343855,"creation_date":1521343855,"answer_id":49344226,"question_id":22914927,"body_markdown":"Simple solution would be create &#39;java&#39; folder directly one the drive into src/main even before opening it in eclipse that way eclipse will not complain about the issue.","title":"Creating a src/main/java folder structure in Eclipse without Maven","body":"<p>Simple solution would be create 'java' folder directly one the drive into src/main even before opening it in eclipse that way eclipse will not complain about the issue.</p>\n"},{"tags":[],"owner":{"account_id":19070122,"reputation":109,"user_id":13924481,"display_name":"Little Bug"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1634174133,"creation_date":1634135906,"answer_id":69557499,"question_id":22914927,"body_markdown":"Solution One:\r\n\r\nChange the JRE version to 1.8 and change it back to the original version (for maven-archetype-webapp, the original version is 1.7).\r\n\r\n[![Steps Here][1]][1]\r\n\r\n\r\n\r\nSolution Two:\r\n\r\nCheck the JRE option and Maven Dependencies option in &quot;Order and Export&quot;.\r\n\r\n[![Steps Here][2]][2]\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/udZ2x.jpg\r\n  [2]: https://i.stack.imgur.com/DyZHk.jpg","title":"Creating a src/main/java folder structure in Eclipse without Maven","body":"<p>Solution One:</p>\n<p>Change the JRE version to 1.8 and change it back to the original version (for maven-archetype-webapp, the original version is 1.7).</p>\n<p><a href=\"https://i.stack.imgur.com/udZ2x.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/udZ2x.jpg\" alt=\"Steps Here\" /></a></p>\n<p>Solution Two:</p>\n<p>Check the JRE option and Maven Dependencies option in &quot;Order and Export&quot;.</p>\n<p><a href=\"https://i.stack.imgur.com/DyZHk.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/DyZHk.jpg\" alt=\"Steps Here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":28200882,"reputation":11,"user_id":21554686,"display_name":"Ramesh Gupta"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1697051871,"creation_date":1697051871,"answer_id":77275868,"question_id":22914927,"body_markdown":"Open Properties &gt; Java Build Path for the project. Select the Source tab and use Add Folders to add source folders.","title":"Creating a src/main/java folder structure in Eclipse without Maven","body":"<p>Open Properties &gt; Java Build Path for the project. Select the Source tab and use Add Folders to add source folders.</p>\n"}],"owner":{"account_id":928080,"reputation":1759,"user_id":958443,"accept_rate":56,"display_name":"Sandeep Rao"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":117995,"favorite_count":0,"down_vote_count":0,"up_vote_count":74,"accepted_answer_id":22915508,"answer_count":10,"score":74,"last_activity_date":1697051871,"creation_date":1396879907,"question_id":22914927,"body_markdown":"How do I create the `src/main/java` and `src/test/java` in my default web application project in Eclipse without Maven? My current folder structure is  \r\n\r\n    TestApp\r\n     JavaResources\r\n        src  \r\n            com.mypackage\r\n     WebContent","title":"Creating a src/main/java folder structure in Eclipse without Maven","body":"<p>How do I create the <code>src/main/java</code> and <code>src/test/java</code> in my default web application project in Eclipse without Maven? My current folder structure is  </p>\n\n<pre><code>TestApp\n JavaResources\n    src  \n        com.mypackage\n WebContent\n</code></pre>\n"},{"tags":["java","algorithm","data-structures","linked-list","deque"],"comments":[{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":2,"creation_date":1697056013,"post_id":77275743,"comment_id":136232947,"body_markdown":"By definition, you cannot go through the whole list in O(1). If you need that, you must make sure to check and update the max value every time you add or remove from your `Deque`. For removing, that most likely means an O(N) check if you removed the current max element.","body":"By definition, you cannot go through the whole list in O(1). If you need that, you must make sure to check and update the max value every time you add or remove from your <code>Deque</code>. For removing, that most likely means an O(N) check if you removed the current max element."},{"owner":{"account_id":93689,"reputation":415951,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1697058658,"post_id":77275743,"comment_id":136233364,"body_markdown":"Consider using a Heap which returns max in O(1): `PriorityQueue&lt;Integer&gt; maxHeap = new PriorityQueue&lt;&gt;(Comparator.reverseOrder());` \n- see https://stackoverflow.com/questions/14165325/is-there-a-heap-in-java . Of course, adding elements is not O(1)","body":"Consider using a Heap which returns max in O(1): <code>PriorityQueue&lt;Integer&gt; maxHeap = new PriorityQueue&lt;&gt;(Comparator.reverseOrder());</code>  - see <a href=\"https://stackoverflow.com/questions/14165325/is-there-a-heap-in-java\" title=\"is there a heap in java\">stackoverflow.com/questions/14165325/is-there-a-heap-in-java</a> . Of course, adding elements is not O(1)"},{"owner":{"account_id":12931984,"reputation":7896,"user_id":9350720,"display_name":"Abhinav Mathur"},"score":0,"creation_date":1697087329,"post_id":77275743,"comment_id":136235709,"body_markdown":"So you need the `max()` function to have `O(1)` complexity. But the other functions don&#39;t have to be `O(1)`, right?","body":"So you need the <code>max()</code> function to have <code>O(1)</code> complexity. But the other functions don&#39;t have to be <code>O(1)</code>, right?"}],"owner":{"account_id":26921020,"reputation":27,"user_id":20495039,"display_name":"Girly Girl"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":80,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1697050727,"creation_date":1697050727,"question_id":77275743,"body_markdown":"In java, I&#39;m implementing a deque using LinkedList. `Deque&lt;Integer&gt; deque = new LinkedList&lt;&gt;()`. \r\n\r\nMy deque has the following methods:\r\n`addFirst(Integer x)`\r\n`addLast(Integer x)`\r\n`Integer removeFirst()`\r\n`Integer removeLast()` and \r\n`Integer max()`\r\n\r\nThe `max()` method needs to find the max element in the deque in O(1) amortized time and return it.\r\n\r\nCurrently I am using `Deque&lt;Integer&gt; max_deque = new LinkedList&lt;&gt;()` to store the max element of the deque but I am having trouble updating the max element in this data structure when the add and remove operations are performed on `deque`. \r\n\r\nHow do I go about implementing this so that the max element gets updated and returned in O(1) amortized time? Thank you!","title":"How to find the max element in a deque in java in O(1) amortized time?","body":"<p>In java, I'm implementing a deque using LinkedList. <code>Deque&lt;Integer&gt; deque = new LinkedList&lt;&gt;()</code>.</p>\n<p>My deque has the following methods:\n<code>addFirst(Integer x)</code>\n<code>addLast(Integer x)</code>\n<code>Integer removeFirst()</code>\n<code>Integer removeLast()</code> and\n<code>Integer max()</code></p>\n<p>The <code>max()</code> method needs to find the max element in the deque in O(1) amortized time and return it.</p>\n<p>Currently I am using <code>Deque&lt;Integer&gt; max_deque = new LinkedList&lt;&gt;()</code> to store the max element of the deque but I am having trouble updating the max element in this data structure when the add and remove operations are performed on <code>deque</code>.</p>\n<p>How do I go about implementing this so that the max element gets updated and returned in O(1) amortized time? Thank you!</p>\n"},{"tags":["python","java","python-3.x","intellij-idea","pycharm"],"comments":[{"owner":{"account_id":399622,"reputation":4096,"user_id":765091,"display_name":"slothrop"},"score":2,"creation_date":1697052780,"post_id":77275696,"comment_id":136232475,"body_markdown":"Assuming you are using CPython, `print` is implemented in C: I don&#39;t know of any Python IDE that would show you that implementation, as opposed to the Python stub that you do see. (And I&#39;m not sure how it would be possible without the source code of CPython, which usually isn&#39;t included when you install).","body":"Assuming you are using CPython, <code>print</code> is implemented in C: I don&#39;t know of any Python IDE that would show you that implementation, as opposed to the Python stub that you do see. (And I&#39;m not sure how it would be possible without the source code of CPython, which usually isn&#39;t included when you install)."},{"owner":{"account_id":17392625,"reputation":67,"user_id":12602857,"display_name":"Mermaid Man"},"score":0,"creation_date":1697053825,"post_id":77275696,"comment_id":136232638,"body_markdown":"Yes, CPython. &amp; so u said it should be possible with the source code of CPython? Do u think there&#39;s anyway I could download it &amp; have it function like it does in Java? All I want is to read what code gets executed when I call a function, it&#39;s a tremendous learning tool for me &amp; has helped me a lot in Java, I&#39;m constantly going in &amp; out of the Java Source Code, sometimes I spend literal hours in it. But for python, c++, JavaScript, &amp; TypeScript... I can never view the source like Java. **Even if I use the debugger, &amp; try to step into the `print()` function it doesnt step into.** Is that normal?","body":"Yes, CPython. &amp; so u said it should be possible with the source code of CPython? Do u think there&#39;s anyway I could download it &amp; have it function like it does in Java? All I want is to read what code gets executed when I call a function, it&#39;s a tremendous learning tool for me &amp; has helped me a lot in Java, I&#39;m constantly going in &amp; out of the Java Source Code, sometimes I spend literal hours in it. But for python, c++, JavaScript, &amp; TypeScript... I can never view the source like Java. <b>Even if I use the debugger, &amp; try to step into the <code>print()</code> function it doesnt step into.</b> Is that normal?"},{"owner":{"account_id":399622,"reputation":4096,"user_id":765091,"display_name":"slothrop"},"score":1,"creation_date":1697053957,"post_id":77275696,"comment_id":136232661,"body_markdown":"*&quot;Do u think there&#39;s anyway I could download it &amp; have it function like it does in Java?&quot;* Do Java IDEs do this though? In your example, you show how the IDE can show you the Java source code of `println`, because that method is implemented in Java itself. But does the IDE ever **step into the C source code of the JVM implementation**? That&#39;s the Java equivalent of what you&#39;re looking for in Python here.","body":"<i>&quot;Do u think there&#39;s anyway I could download it &amp; have it function like it does in Java?&quot;</i> Do Java IDEs do this though? In your example, you show how the IDE can show you the Java source code of <code>println</code>, because that method is implemented in Java itself. But does the IDE ever <b>step into the C source code of the JVM implementation</b>? That&#39;s the Java equivalent of what you&#39;re looking for in Python here."},{"owner":{"account_id":399622,"reputation":4096,"user_id":765091,"display_name":"slothrop"},"score":1,"creation_date":1697054011,"post_id":77275696,"comment_id":136232672,"body_markdown":"The CPython source is here on Github: https://github.com/python/cpython. But having the source is one thing; being able to automatically infer what piece of C code is the implementation of Python `print` is a different and more complex thing.","body":"The CPython source is here on Github: <a href=\"https://github.com/python/cpython\" rel=\"nofollow noreferrer\">github.com/python/cpython</a>. But having the source is one thing; being able to automatically infer what piece of C code is the implementation of Python <code>print</code> is a different and more complex thing."},{"owner":{"account_id":17392625,"reputation":67,"user_id":12602857,"display_name":"Mermaid Man"},"score":0,"creation_date":1697055277,"post_id":77275696,"comment_id":136232869,"body_markdown":"No it doesn&#39;t step into the C source code, it just shows the Java source code. And I think I see what you&#39;re saying now. There is no python source code for `print` like there&#39;s java source code for `println`.  But I can&#39;t step into the `str().lower()` or `str().split` either, so do they fall under the same category as print()?","body":"No it doesn&#39;t step into the C source code, it just shows the Java source code. And I think I see what you&#39;re saying now. There is no python source code for <code>print</code> like there&#39;s java source code for <code>println</code>.  But I can&#39;t step into the <code>str().lower()</code> or <code>str().split</code> either, so do they fall under the same category as print()?"},{"owner":{"account_id":399622,"reputation":4096,"user_id":765091,"display_name":"slothrop"},"score":1,"creation_date":1697055364,"post_id":77275696,"comment_id":136232878,"body_markdown":"Regarding how you might attempt this: https://stackoverflow.com/questions/26198847/can-i-step-into-python-library-code https://stackoverflow.com/questions/150375/how-do-you-break-into-the-debugger-from-python-source-code?rq=3 https://stackoverflow.com/questions/23319883/can-i-view-source-code-of-python-built-in-function-while-debugging-with-pdb?rq=3 https://stackoverflow.com/questions/58343685/how-to-walk-through-python-opcode-while-debugging-cpython https://stackoverflow.com/questions/57278643/the-optimal-way-to-set-a-breakpoint-in-the-python-source-code-while-debugging-cp?noredirect=1&amp;lq=1","body":"Regarding how you might attempt this: <a href=\"https://stackoverflow.com/questions/26198847/can-i-step-into-python-library-code\" title=\"can i step into python library code\">stackoverflow.com/questions/26198847/&hellip;</a> <a href=\"https://stackoverflow.com/questions/150375/how-do-you-break-into-the-debugger-from-python-source-code?rq=3\" title=\"how do you break into the debugger from python source code\">stackoverflow.com/questions/150375/&hellip;</a> <a href=\"https://stackoverflow.com/questions/23319883/can-i-view-source-code-of-python-built-in-function-while-debugging-with-pdb?rq=3\" title=\"can i view source code of python built in function while debugging with pdb\">stackoverflow.com/questions/23319883/&hellip;</a> <a href=\"https://stackoverflow.com/questions/58343685/how-to-walk-through-python-opcode-while-debugging-cpython\" title=\"how to walk through python opcode while debugging cpython\">stackoverflow.com/questions/58343685/&hellip;</a> <a href=\"https://stackoverflow.com/questions/57278643/the-optimal-way-to-set-a-breakpoint-in-the-python-source-code-while-debugging-cp?noredirect=1&amp;lq=1\" title=\"the optimal way to set a breakpoint in the python source code while debugging cp\">stackoverflow.com/questions/57278643/&hellip;</a>"},{"owner":{"account_id":399622,"reputation":4096,"user_id":765091,"display_name":"slothrop"},"score":1,"creation_date":1697055381,"post_id":77275696,"comment_id":136232880,"body_markdown":"...but all of this involves a bit of manual work, I don&#39;t think any IDE has integrated it.","body":"...but all of this involves a bit of manual work, I don&#39;t think any IDE has integrated it."},{"owner":{"account_id":399622,"reputation":4096,"user_id":765091,"display_name":"slothrop"},"score":1,"creation_date":1697055588,"post_id":77275696,"comment_id":136232902,"body_markdown":"Regarding `str` methods, yes they&#39;re also implemented in C. For example `lower()` is here: https://github.com/python/cpython/blob/c523ce0f434582580a3721e15cb7dd6b56ad0236/Objects/unicodeobject.c#L11830 Generally, heavily used classes like `str` tend to be implemented in C, because the performance gain is most noticeable for the most used classes.","body":"Regarding <code>str</code> methods, yes they&#39;re also implemented in C. For example <code>lower()</code> is here: <a href=\"https://github.com/python/cpython/blob/c523ce0f434582580a3721e15cb7dd6b56ad0236/Objects/unicodeobject.c#L11830\" rel=\"nofollow noreferrer\">github.com/python/cpython/blob/&hellip;</a> Generally, heavily used classes like <code>str</code> tend to be implemented in C, because the performance gain is most noticeable for the most used classes."},{"owner":{"account_id":17392625,"reputation":67,"user_id":12602857,"display_name":"Mermaid Man"},"score":0,"creation_date":1697056977,"post_id":77275696,"comment_id":136233105,"body_markdown":"Okay, I see, I just tried it with the `webbrowser.get()` method and it worked like It does in the Java screenshot. So I just can&#39;t view the source code, generally, for heavily used classes like `str`. Okay that makes sense. Thank you :) and so am I kinda right to think that it&#39;s the same when I try to view the source code in c++, javascript, and TypeScript when I can&#39;t see the method body...the source code doesn&#39;t exist in that lang because the implementation is written in something else? And the only way to view it would be getting the source for the lang it&#39;s implementation is written in?","body":"Okay, I see, I just tried it with the <code>webbrowser.get()</code> method and it worked like It does in the Java screenshot. So I just can&#39;t view the source code, generally, for heavily used classes like <code>str</code>. Okay that makes sense. Thank you :) and so am I kinda right to think that it&#39;s the same when I try to view the source code in c++, javascript, and TypeScript when I can&#39;t see the method body...the source code doesn&#39;t exist in that lang because the implementation is written in something else? And the only way to view it would be getting the source for the lang it&#39;s implementation is written in?"},{"owner":{"account_id":399622,"reputation":4096,"user_id":765091,"display_name":"slothrop"},"score":1,"creation_date":1697057976,"post_id":77275696,"comment_id":136233269,"body_markdown":"I think that&#39;s right for JS and TypeScript. Not so sure for C++, because generally the libraries are written in C++ itself. But I don&#39;t know enough about C++ IDEs to understand what is and isn&#39;t available, sorry!","body":"I think that&#39;s right for JS and TypeScript. Not so sure for C++, because generally the libraries are written in C++ itself. But I don&#39;t know enough about C++ IDEs to understand what is and isn&#39;t available, sorry!"},{"owner":{"account_id":17392625,"reputation":67,"user_id":12602857,"display_name":"Mermaid Man"},"score":1,"creation_date":1697058539,"post_id":77275696,"comment_id":136233352,"body_markdown":"No problem! This is something that has been bugging me for a long time but I never knew how to google it or ask the question. But now I know. Thank you :)","body":"No problem! This is something that has been bugging me for a long time but I never knew how to google it or ask the question. But now I know. Thank you :)"}],"owner":{"account_id":17392625,"reputation":67,"user_id":12602857,"display_name":"Mermaid Man"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":74,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697050310,"creation_date":1697050310,"question_id":77275696,"body_markdown":"I&#39;m a Java programmer, trying to set up my python/PyCharm IDEA environment and there is a feature that I love in Java/IntelliJ where I can ctrl+click a method like println in ```System.out.println()``` and it will take me to the ```println()``` method declaration where **I can see the &quot;method body&quot;** as well. And for python/PyCharm it does the same thing, except, the **&quot;method body&quot; isn&#39;t shown**. I have 2 pics to show what I&#39;m talking about:\r\n\r\nIn Python &amp; PyCharm, when I ctrl+click on the ```print()``` function to &quot;Go To Declaration&quot; I don&#39;t see any actual code, only the method header... &lt;br&gt;\r\n[![enter image description here][1]][1]\r\n\r\nBut In Java &amp; IntelliJ Ultimate, when I ctrl+click on the ```System.out.printlin()``` method to &quot;Go To Declaration&quot; I do see all the actual code. &lt;br&gt;\r\n[![enter image description here][2]][2]\r\n\r\nSo is it even possible to set up python/PyCharm IDEA to allow for the whole method body to be shown like it does in the Java picture? Or is there something I&#39;m misunderstanding about Python that doesn&#39;t allow for this kind of capability. \r\n\r\n  [1]: https://i.stack.imgur.com/aB3BC.png\r\n  [2]: https://i.stack.imgur.com/GZqFb.png","title":"In PyCharm, ctrl+click on a method takes you to that methods declaration but for print() &amp; other methods I only see the method header, but no body","body":"<p>I'm a Java programmer, trying to set up my python/PyCharm IDEA environment and there is a feature that I love in Java/IntelliJ where I can ctrl+click a method like println in <code>System.out.println()</code> and it will take me to the <code>println()</code> method declaration where <strong>I can see the &quot;method body&quot;</strong> as well. And for python/PyCharm it does the same thing, except, the <strong>&quot;method body&quot; isn't shown</strong>. I have 2 pics to show what I'm talking about:</p>\n<p>In Python &amp; PyCharm, when I ctrl+click on the <code>print()</code> function to &quot;Go To Declaration&quot; I don't see any actual code, only the method header... <br>\n<a href=\"https://i.stack.imgur.com/aB3BC.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/aB3BC.png\" alt=\"enter image description here\" /></a></p>\n<p>But In Java &amp; IntelliJ Ultimate, when I ctrl+click on the <code>System.out.printlin()</code> method to &quot;Go To Declaration&quot; I do see all the actual code. <br>\n<a href=\"https://i.stack.imgur.com/GZqFb.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/GZqFb.png\" alt=\"enter image description here\" /></a></p>\n<p>So is it even possible to set up python/PyCharm IDEA to allow for the whole method body to be shown like it does in the Java picture? Or is there something I'm misunderstanding about Python that doesn't allow for this kind of capability.</p>\n"},{"tags":["java","android","mobile","mobile-development"],"answers":[{"comments":[{"owner":{"account_id":23745164,"reputation":13,"user_id":17762680,"display_name":"KZMKBL"},"score":0,"creation_date":1697049280,"post_id":77275590,"comment_id":136231842,"body_markdown":"I don&#39;t know how to do this. This is exactly what I want to tell you. If you receive a message from a friend while using Instagram, the notification that comes in Instagram does not disappear immediately, it has a certain time. for example 5 seconds. it disappears only within this time. but let&#39;s assume that there is 5 seconds in my application. if I switch between activities, the notification disappears before it expires. so I can&#39;t keep the notification in transitions between activities.","body":"I don&#39;t know how to do this. This is exactly what I want to tell you. If you receive a message from a friend while using Instagram, the notification that comes in Instagram does not disappear immediately, it has a certain time. for example 5 seconds. it disappears only within this time. but let&#39;s assume that there is 5 seconds in my application. if I switch between activities, the notification disappears before it expires. so I can&#39;t keep the notification in transitions between activities."},{"owner":{"account_id":19267933,"reputation":316,"user_id":14082516,"display_name":"Marvin Stelter"},"score":0,"creation_date":1697051162,"post_id":77275590,"comment_id":136232161,"body_markdown":"Yeah that&#39;s why you shouldn&#39;t use to many activities when you can use fragments of course it will be gone if you close the activity. What you&#39;ve have to do is to use a activity which holds the fragments, the fragments have the logic for their functionality and the third fragment is also in that activity which will show the notification. I try to write a template for you","body":"Yeah that&#39;s why you shouldn&#39;t use to many activities when you can use fragments of course it will be gone if you close the activity. What you&#39;ve have to do is to use a activity which holds the fragments, the fragments have the logic for their functionality and the third fragment is also in that activity which will show the notification. I try to write a template for you"},{"owner":{"account_id":23745164,"reputation":13,"user_id":17762680,"display_name":"KZMKBL"},"score":0,"creation_date":1697051335,"post_id":77275590,"comment_id":136232202,"body_markdown":"I&#39;m waiting. I&#39;d be very grateful.","body":"I&#39;m waiting. I&#39;d be very grateful."},{"owner":{"account_id":19267933,"reputation":316,"user_id":14082516,"display_name":"Marvin Stelter"},"score":0,"creation_date":1697054053,"post_id":77275590,"comment_id":136232678,"body_markdown":"Not beautiful, just an example...  also the notifications moves the other fragments down but that could be fixed easily. https://drive.google.com/file/d/1U1FcCMq6QVSZJLXQVRDO6zj5t9gPQDAA/view?usp=drive_link","body":"Not beautiful, just an example...  also the notifications moves the other fragments down but that could be fixed easily. <a href=\"https://drive.google.com/file/d/1U1FcCMq6QVSZJLXQVRDO6zj5t9gPQDAA/view?usp=drive_link\" rel=\"nofollow noreferrer\">drive.google.com/file/d/1U1FcCMq6QVSZJLXQVRDO6zj5t9gPQDAA/&hellip;</a>"},{"owner":{"account_id":23745164,"reputation":13,"user_id":17762680,"display_name":"KZMKBL"},"score":0,"creation_date":1697054634,"post_id":77275590,"comment_id":136232775,"body_markdown":"Thank you very much, I will look into it. I hope this will be a solution.","body":"Thank you very much, I will look into it. I hope this will be a solution."},{"owner":{"account_id":23745164,"reputation":13,"user_id":17762680,"display_name":"KZMKBL"},"score":0,"creation_date":1697055195,"post_id":77275590,"comment_id":136232852,"body_markdown":"Well, there is one more problem :D I have 3 activities other than fragments. What am I going to do about it :D How can I show it in activities? Is there a solution to do this on all screens without any problems? If you use discord, can you add me? I really need that. id: kzmkbl","body":"Well, there is one more problem :D I have 3 activities other than fragments. What am I going to do about it :D How can I show it in activities? Is there a solution to do this on all screens without any problems? If you use discord, can you add me? I really need that. id: kzmkbl"},{"owner":{"account_id":19267933,"reputation":316,"user_id":14082516,"display_name":"Marvin Stelter"},"score":0,"creation_date":1697055609,"post_id":77275590,"comment_id":136232905,"body_markdown":"I can&#39;t add you because of your privacy settings. my username: donmarv","body":"I can&#39;t add you because of your privacy settings. my username: donmarv"},{"owner":{"account_id":23745164,"reputation":13,"user_id":17762680,"display_name":"KZMKBL"},"score":0,"creation_date":1697055689,"post_id":77275590,"comment_id":136232919,"body_markdown":"I understand you, that&#39;s fine, but do you have a solution? Unfortunately I couldn&#39;t find much about it, how can I show it on the activities.","body":"I understand you, that&#39;s fine, but do you have a solution? Unfortunately I couldn&#39;t find much about it, how can I show it on the activities."}],"tags":[],"owner":{"account_id":19267933,"reputation":316,"user_id":14082516,"display_name":"Marvin Stelter"},"comment_count":8,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1697049161,"creation_date":1697049161,"answer_id":77275590,"question_id":77275444,"body_markdown":"Maybe I don&#39;t understand your question correctly but you could display it in the activity which holds the other fragments for the different pages. Then It would be there even if your change the other fragments.","title":"How Can I Create Android Java In-App Notification?","body":"<p>Maybe I don't understand your question correctly but you could display it in the activity which holds the other fragments for the different pages. Then It would be there even if your change the other fragments.</p>\n"}],"owner":{"account_id":23745164,"reputation":13,"user_id":17762680,"display_name":"KZMKBL"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77275590,"answer_count":1,"score":0,"last_activity_date":1697050245,"creation_date":1697047763,"question_id":77275444,"body_markdown":"I use Android java. \r\n\r\n[![][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/qIbSy.png\r\n\r\nFor example: I have a notification like this when navigating within the app. It is independent from Android notifications, like within the instagram and within the twitter.\r\n\r\nLet&#39;s assume that normally the display time of this notification is 3 seconds. I am in activity A, if I go to activity B when the notification arrives, the notification disappears from the screen before it expires. So I can&#39;t keep this notification live on the screen as I move between activities. It will disappear before it expires. \r\n\r\nWhat will I do to not lose this fragment while navigating between activities. And what will I do to make it work on each activity. I have no idea about this, I am looking for a way.\r\n\r\nRight now it only works correctly when the notification comes when I am in the current activity, but as soon as I move to another activity it disappears.\r\n\r\n","title":"How Can I Create Android Java In-App Notification?","body":"<p>I use Android java.</p>\n<p><a href=\"https://i.stack.imgur.com/qIbSy.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/qIbSy.png\" alt=\"\" /></a></p>\n<p>For example: I have a notification like this when navigating within the app. It is independent from Android notifications, like within the instagram and within the twitter.</p>\n<p>Let's assume that normally the display time of this notification is 3 seconds. I am in activity A, if I go to activity B when the notification arrives, the notification disappears from the screen before it expires. So I can't keep this notification live on the screen as I move between activities. It will disappear before it expires.</p>\n<p>What will I do to not lose this fragment while navigating between activities. And what will I do to make it work on each activity. I have no idea about this, I am looking for a way.</p>\n<p>Right now it only works correctly when the notification comes when I am in the current activity, but as soon as I move to another activity it disappears.</p>\n"},{"tags":["java","swing","parent","jmenuitem"],"answers":[{"comments":[{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1697049363,"post_id":77275562,"comment_id":136231862,"body_markdown":"Since `((JPopupMenu) parent).getInvoker()` will return a `Component` based result, couldn&#39;t you just use `SwingUtilities.windowForComponent(parent);` and forego the loop?","body":"Since <code>((JPopupMenu) parent).getInvoker()</code> will return a <code>Component</code> based result, couldn&#39;t you just use <code>SwingUtilities.windowForComponent(parent);</code> and forego the loop?"},{"owner":{"account_id":7421543,"reputation":2874,"user_id":5645656,"accept_rate":100,"display_name":"Cardinal System"},"score":0,"creation_date":1697049925,"post_id":77275562,"comment_id":136231953,"body_markdown":"@MadProgrammer you are correct. I think that approach is just a little nicer to look at as well. I updated my answer.","body":"@MadProgrammer you are correct. I think that approach is just a little nicer to look at as well. I updated my answer."}],"tags":[],"owner":{"account_id":7421543,"reputation":2874,"user_id":5645656,"accept_rate":100,"display_name":"Cardinal System"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1697049839,"creation_date":1697048869,"answer_id":77275562,"question_id":77275561,"body_markdown":"I changed it to print the parent of the menu item:\r\n\r\n    testItem.addActionListener(e -&gt;System.out.println(testItem.getParent().getClass().getSimpleName()));\r\n\r\nIt prints &quot;JPopupMenu&quot; rather than &quot;JMenu&quot;, which means that `testMenu` is not the parent of `testMenuItem`. However, if you cast the parent class and call [`JPopupMenu#getInvoker`][1], it will return the JMenu.\r\n\r\nWith this in mind, I created the following method:\r\n\r\n\tprivate static Window getWindowAncestor(JMenuItem item) {\r\n\t\tContainer parent = item.getParent();\r\n\t\tif (parent instanceof JPopupMenu)\r\n\t\t\treturn SwingUtilities.getWindowAncestor(((JPopupMenu) parent).getInvoker());\r\n\t\telse if (parent instanceof Window)\r\n\t\t\treturn (Window) parent;\r\n\t\telse\r\n\t\t\treturn SwingUtilities.getWindowAncestor(parent);\r\n\t}\r\n\r\nIt works :)\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/javax/swing/JPopupMenu.html#getInvoker--","title":"Get the Window for a JMenuItem?","body":"<p>I changed it to print the parent of the menu item:</p>\n<pre><code>testItem.addActionListener(e -&gt;System.out.println(testItem.getParent().getClass().getSimpleName()));\n</code></pre>\n<p>It prints &quot;JPopupMenu&quot; rather than &quot;JMenu&quot;, which means that <code>testMenu</code> is not the parent of <code>testMenuItem</code>. However, if you cast the parent class and call <a href=\"https://docs.oracle.com/javase/8/docs/api/javax/swing/JPopupMenu.html#getInvoker--\" rel=\"nofollow noreferrer\"><code>JPopupMenu#getInvoker</code></a>, it will return the JMenu.</p>\n<p>With this in mind, I created the following method:</p>\n<pre><code>private static Window getWindowAncestor(JMenuItem item) {\n    Container parent = item.getParent();\n    if (parent instanceof JPopupMenu)\n        return SwingUtilities.getWindowAncestor(((JPopupMenu) parent).getInvoker());\n    else if (parent instanceof Window)\n        return (Window) parent;\n    else\n        return SwingUtilities.getWindowAncestor(parent);\n}\n</code></pre>\n<p>It works :)</p>\n"}],"owner":{"account_id":7421543,"reputation":2874,"user_id":5645656,"accept_rate":100,"display_name":"Cardinal System"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77275562,"answer_count":1,"score":0,"last_activity_date":1697049839,"creation_date":1697048869,"question_id":77275561,"body_markdown":"Is there a way to get the Window which a `JMenuItem` belongs to? I tried this proof of-concept:\r\n\r\n\tJFrame testFrame = new JFrame();\r\n\ttestFrame.setSize(300, 100);\r\n\ttestFrame.setLocationRelativeTo(null);\r\n\r\n\tJMenuBar testBar = new JMenuBar();\r\n\tJMenu testMenu = new JMenu(&quot;Test&quot;);\r\n\tJMenuItem testItem = new JMenuItem(&quot;Parent Test&quot;);\r\n\r\n\ttestItem.addActionListener(e -&gt; {\r\n\t\tSystem.out.println(&quot;Has Top Level Ancestor: &quot; + (testItem.getTopLevelAncestor() != null));\r\n\t\tSystem.out.println(&quot;Has Window Ancestor: &quot; + (SwingUtilities.getWindowAncestor(testItem) != null));\r\n\t});\r\n\r\n\ttestBar.add(testMenu);\r\n\ttestMenu.add(testItem);\r\n\r\n\ttestFrame.setJMenuBar(testBar);\r\n\ttestFrame.setVisible(true);\r\n\r\nThe output was:\r\n\r\n    Has Top Level Ancestor: false\r\n    Has Window Ancestor: false","title":"Get the Window for a JMenuItem?","body":"<p>Is there a way to get the Window which a <code>JMenuItem</code> belongs to? I tried this proof of-concept:</p>\n<pre><code>JFrame testFrame = new JFrame();\ntestFrame.setSize(300, 100);\ntestFrame.setLocationRelativeTo(null);\n\nJMenuBar testBar = new JMenuBar();\nJMenu testMenu = new JMenu(&quot;Test&quot;);\nJMenuItem testItem = new JMenuItem(&quot;Parent Test&quot;);\n\ntestItem.addActionListener(e -&gt; {\n    System.out.println(&quot;Has Top Level Ancestor: &quot; + (testItem.getTopLevelAncestor() != null));\n    System.out.println(&quot;Has Window Ancestor: &quot; + (SwingUtilities.getWindowAncestor(testItem) != null));\n});\n\ntestBar.add(testMenu);\ntestMenu.add(testItem);\n\ntestFrame.setJMenuBar(testBar);\ntestFrame.setVisible(true);\n</code></pre>\n<p>The output was:</p>\n<pre><code>Has Top Level Ancestor: false\nHas Window Ancestor: false\n</code></pre>\n"},{"tags":["java","migration","cucumber"],"comments":[{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":1,"creation_date":1697014284,"post_id":77271500,"comment_id":136224885,"body_markdown":"Did you try checking the Cucumber documentation? It&#39;s most likely mentioned in one of the release note documents in any of the 5 (!) major versions you skipped.","body":"Did you try checking the Cucumber documentation? It&#39;s most likely mentioned in one of the release note documents in any of the 5 (!) major versions you skipped."},{"owner":{"account_id":29646653,"reputation":3,"user_id":22721515,"display_name":"Jo&#227;o Manoel Pampanini Filho"},"score":0,"creation_date":1697014797,"post_id":77271500,"comment_id":136224982,"body_markdown":"They removed it on 3 and there is just a note saying that they are not providing a migration guide :)","body":"They removed it on 3 and there is just a note saying that they are not providing a migration guide :)"}],"answers":[{"tags":[],"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1697014990,"creation_date":1697014990,"answer_id":77271637,"question_id":77271500,"body_markdown":"The [3.0 release post](https://cucumber.io/blog/open-source/announcing-cucumber-jvm-3-0-0/) says:\r\n\r\n&gt; (...) @Transformer (...) from XStream will no longer work. These must be replaced by DataTableType or ParameterType\r\n\r\nIn other words, you&#39;ll have to replace that feature with something else. It&#39;s just no longer supported by Cucumber.","title":"Migrating Transformer from cucumber 2 to cucumber 7","body":"<p>The <a href=\"https://cucumber.io/blog/open-source/announcing-cucumber-jvm-3-0-0/\" rel=\"nofollow noreferrer\">3.0 release post</a> says:</p>\n<blockquote>\n<p>(...) @Transformer (...) from XStream will no longer work. These must be replaced by DataTableType or ParameterType</p>\n</blockquote>\n<p>In other words, you'll have to replace that feature with something else. It's just no longer supported by Cucumber.</p>\n"},{"tags":[],"owner":{"account_id":4895787,"reputation":10858,"user_id":3945473,"display_name":"M.P. Korstanje"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1697049630,"creation_date":1697049630,"answer_id":77275631,"question_id":77271500,"body_markdown":"By now it is possible to use `Optional&lt;String&gt;` without any custom code.\r\n\r\n```java\r\n  @And(&quot;^Some ?(not)? step?$&quot;)\r\n  public void someStep(Optional&lt;String&gt; example){\r\n    System.out.println(example);\r\n  }\r\n```\r\n\r\nWill print either `Optional.empty` or `Optional[not]`.","title":"Migrating Transformer from cucumber 2 to cucumber 7","body":"<p>By now it is possible to use <code>Optional&lt;String&gt;</code> without any custom code.</p>\n<pre class=\"lang-java prettyprint-override\"><code>  @And(&quot;^Some ?(not)? step?$&quot;)\n  public void someStep(Optional&lt;String&gt; example){\n    System.out.println(example);\n  }\n</code></pre>\n<p>Will print either <code>Optional.empty</code> or <code>Optional[not]</code>.</p>\n"}],"owner":{"account_id":29646653,"reputation":3,"user_id":22721515,"display_name":"Jo&#227;o Manoel Pampanini Filho"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77275631,"answer_count":2,"score":0,"last_activity_date":1697049630,"creation_date":1697013811,"question_id":77271500,"body_markdown":"I have a task here to upgrade from cucumber 2 to 7 and I managed to find everything but not how to migrate `Transformer` and `@Transform` code like bellow one:\r\n\r\n\r\n```\r\nimport cucumber.api.Transformer;\r\nimport cucumber.runtime.java.guice.ScenarioScoped;\r\nimport java.util.Optional;\r\n\r\npublic class OptionalStringTransformer extends Transformer&lt;Optional&lt;String&gt;&gt; {\r\n    @Override\r\n    public Optional&lt;String&gt; transform(String s) {\r\n        return Optional.ofNullable(s);\r\n    }\r\n}\r\n\r\n@ScenarioScoped\r\npublic class StepDefinitions {\r\n    @And(&quot;^Some ?(not)? step?$&quot;)\r\n    public void someStep(@Transform(OptionalStringTransformer.class) Optional&lt;String&gt; example){\r\n        // Step code\r\n    }\r\n}\r\n```\r\n\r\nAnyone know how to do it?","title":"Migrating Transformer from cucumber 2 to cucumber 7","body":"<p>I have a task here to upgrade from cucumber 2 to 7 and I managed to find everything but not how to migrate <code>Transformer</code> and <code>@Transform</code> code like bellow one:</p>\n<pre><code>import cucumber.api.Transformer;\nimport cucumber.runtime.java.guice.ScenarioScoped;\nimport java.util.Optional;\n\npublic class OptionalStringTransformer extends Transformer&lt;Optional&lt;String&gt;&gt; {\n    @Override\n    public Optional&lt;String&gt; transform(String s) {\n        return Optional.ofNullable(s);\n    }\n}\n\n@ScenarioScoped\npublic class StepDefinitions {\n    @And(&quot;^Some ?(not)? step?$&quot;)\n    public void someStep(@Transform(OptionalStringTransformer.class) Optional&lt;String&gt; example){\n        // Step code\n    }\n}\n</code></pre>\n<p>Anyone know how to do it?</p>\n"},{"tags":["java","android","firebase-realtime-database","firebase-authentication"],"comments":[{"owner":{"account_id":72426,"reputation":573804,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"score":1,"creation_date":1697049070,"post_id":77275221,"comment_id":136231806,"body_markdown":"I recommend debugging the code you shared locally and telling us the results of that. So: If you set a breakpoint on each line of the code you shared, run the code in a debugger, and then check the value of each variable on each line, which is the **first** line that doesn&#39;t do what you expect it to do?","body":"I recommend debugging the code you shared locally and telling us the results of that. So: If you set a breakpoint on each line of the code you shared, run the code in a debugger, and then check the value of each variable on each line, which is the <b>first</b> line that doesn&#39;t do what you expect it to do?"},{"owner":{"account_id":72426,"reputation":573804,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"score":1,"creation_date":1697049076,"post_id":77275221,"comment_id":136231809,"body_markdown":"The Android docs have a great page on [debugging your app](https://developer.android.com/studio/debug) to get you started with, including the section on [working with breakpoints](https://developer.android.com/studio/debug#breakPoints) and [inspecting varialbles](https://developer.android.com/studio/debug#variablesAndWatches).","body":"The Android docs have a great page on <a href=\"https://developer.android.com/studio/debug\" rel=\"nofollow noreferrer\">debugging your app</a> to get you started with, including the section on <a href=\"https://developer.android.com/studio/debug#breakPoints\" rel=\"nofollow noreferrer\">working with breakpoints</a> and <a href=\"https://developer.android.com/studio/debug#variablesAndWatches\" rel=\"nofollow noreferrer\">inspecting varialbles</a>."},{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1697091371,"post_id":77275221,"comment_id":136236204,"body_markdown":"Have you tried to attach a listener to the `setValue()` operation, to see if something went wrong? Please respond using @AlexMamo","body":"Have you tried to attach a listener to the <code>setValue()</code> operation, to see if something went wrong? Please respond using @AlexMamo"}],"owner":{"account_id":26984480,"reputation":1,"user_id":20548352,"display_name":"dioscuri"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697049025,"creation_date":1697045475,"question_id":77275221,"body_markdown":"I&#39;m making an app and I&#39;m trying to store data in Firebase Authentication and Realtime Database with Android Studio. However, the data I&#39;m saving to Realtime database doesn&#39;t get saved.\r\n\r\n```\r\nmAuth = FirebaseAuth.getInstance();\r\n\r\ndb = FirebaseDatabase.getInstance();\r\nreference = db.getReference(&quot;Users&quot;);\r\n\r\nbutton_Register.setOnClickListener(new View.OnClickListener() {\r\n    @Override\r\n    public void onClick(View v) {\r\n        email = binding.email.getText().toString();\r\n        password = binding.password.getText().toString();\r\n        firstName = binding.firstName.getText().toString();\r\n        lastName = binding.lastName.getText().toString();\r\n        userName = binding.username.getText().toString();\r\n        progressBar.setVisibility(View.VISIBLE);\r\n\r\n        if (TextUtils.isEmpty(email) || TextUtils.isEmpty(password) || TextUtils.isEmpty(firstName) || TextUtils.isEmpty(lastName) || TextUtils.isEmpty(userName)) {\r\n            Toast.makeText(Register.this, &quot;Please fill in all fields&quot;, Toast.LENGTH_SHORT).show();\r\n            progressBar.setVisibility(View.GONE);\r\n            return;\r\n        }\r\n\r\n        // Create a new user with email and password using Firebase Authentication\r\n        mAuth.createUserWithEmailAndPassword(email, password)\r\n                .addOnCompleteListener(Register.this, new OnCompleteListener&lt;AuthResult&gt;() {\r\n                    @Override\r\n                    public void onComplete(@NonNull Task&lt;AuthResult&gt; task) {\r\n                        progressBar.setVisibility(View.GONE);\r\n                        if (task.isSuccessful()) {\r\n                            // User registration successful\r\n                            FirebaseUser user = mAuth.getCurrentUser();\r\n\r\n                            Log.d(&quot;class&quot;, &quot;class&quot;);\r\n                            // Save the user&#39;s additional information to Firebase Realtime Database\r\n                            Users userData = new Users(email, password, firstName, lastName, birthday, userName);\r\n                            reference.child(userName).setValue(userData);\r\n\r\n                            Toast.makeText(Register.this, &quot;Account Created&quot;, Toast.LENGTH_SHORT).show();\r\n\r\n                            // Clear input fields\r\n                            binding.firstName.setText(&quot;&quot;);\r\n                            binding.lastName.setText(&quot;&quot;);\r\n                            binding.username.setText(&quot;&quot;);\r\n                            binding.email.setText(&quot;&quot;);\r\n                            binding.password.setText(&quot;&quot;);\r\n\r\n                            // Redirect to the main activity or any other desired activity\r\n                            Intent intent = new Intent(Register.this, MainActivity.class);\r\n                            startActivity(intent);\r\n                            finish();\r\n                        } else {\r\n                            // If sign-up fails, display an error message\r\n                            Toast.makeText(Register.this, &quot;Registration failed: &quot; + task.getException().getMessage(),\r\n                                    Toast.LENGTH_SHORT).show();\r\n                        }\r\n                    }\r\n                });\r\n    }\r\n});\r\n```\r\n\r\nThe realtime database data doesn&#39;t get stored only the Firebase authentication. There&#39;s no explicit error from Logcat.","title":"Data is not being saved in Firebase","body":"<p>I'm making an app and I'm trying to store data in Firebase Authentication and Realtime Database with Android Studio. However, the data I'm saving to Realtime database doesn't get saved.</p>\n<pre><code>mAuth = FirebaseAuth.getInstance();\n\ndb = FirebaseDatabase.getInstance();\nreference = db.getReference(&quot;Users&quot;);\n\nbutton_Register.setOnClickListener(new View.OnClickListener() {\n    @Override\n    public void onClick(View v) {\n        email = binding.email.getText().toString();\n        password = binding.password.getText().toString();\n        firstName = binding.firstName.getText().toString();\n        lastName = binding.lastName.getText().toString();\n        userName = binding.username.getText().toString();\n        progressBar.setVisibility(View.VISIBLE);\n\n        if (TextUtils.isEmpty(email) || TextUtils.isEmpty(password) || TextUtils.isEmpty(firstName) || TextUtils.isEmpty(lastName) || TextUtils.isEmpty(userName)) {\n            Toast.makeText(Register.this, &quot;Please fill in all fields&quot;, Toast.LENGTH_SHORT).show();\n            progressBar.setVisibility(View.GONE);\n            return;\n        }\n\n        // Create a new user with email and password using Firebase Authentication\n        mAuth.createUserWithEmailAndPassword(email, password)\n                .addOnCompleteListener(Register.this, new OnCompleteListener&lt;AuthResult&gt;() {\n                    @Override\n                    public void onComplete(@NonNull Task&lt;AuthResult&gt; task) {\n                        progressBar.setVisibility(View.GONE);\n                        if (task.isSuccessful()) {\n                            // User registration successful\n                            FirebaseUser user = mAuth.getCurrentUser();\n\n                            Log.d(&quot;class&quot;, &quot;class&quot;);\n                            // Save the user's additional information to Firebase Realtime Database\n                            Users userData = new Users(email, password, firstName, lastName, birthday, userName);\n                            reference.child(userName).setValue(userData);\n\n                            Toast.makeText(Register.this, &quot;Account Created&quot;, Toast.LENGTH_SHORT).show();\n\n                            // Clear input fields\n                            binding.firstName.setText(&quot;&quot;);\n                            binding.lastName.setText(&quot;&quot;);\n                            binding.username.setText(&quot;&quot;);\n                            binding.email.setText(&quot;&quot;);\n                            binding.password.setText(&quot;&quot;);\n\n                            // Redirect to the main activity or any other desired activity\n                            Intent intent = new Intent(Register.this, MainActivity.class);\n                            startActivity(intent);\n                            finish();\n                        } else {\n                            // If sign-up fails, display an error message\n                            Toast.makeText(Register.this, &quot;Registration failed: &quot; + task.getException().getMessage(),\n                                    Toast.LENGTH_SHORT).show();\n                        }\n                    }\n                });\n    }\n});\n</code></pre>\n<p>The realtime database data doesn't get stored only the Firebase authentication. There's no explicit error from Logcat.</p>\n"},{"tags":["java","spring-data-jpa"],"comments":[{"owner":{"account_id":19174433,"reputation":31,"user_id":14007429,"display_name":"Sethu pandiaraja"},"score":0,"creation_date":1595917757,"post_id":63128209,"comment_id":111631621,"body_markdown":"I need help desperately as I need to join an Organization in which Spring-boot-data-jpa is  being used in their project. I appreciate help urgently.","body":"I need help desperately as I need to join an Organization in which Spring-boot-data-jpa is  being used in their project. I appreciate help urgently."},{"owner":{"account_id":2273522,"reputation":379,"user_id":8718151,"display_name":"Vikrant Korde"},"score":0,"creation_date":1684789449,"post_id":63128209,"comment_id":134565553,"body_markdown":"This looks like a bug. Is there any reference with springboot project?","body":"This looks like a bug. Is there any reference with springboot project?"}],"answers":[{"comments":[{"owner":{"account_id":19174433,"reputation":31,"user_id":14007429,"display_name":"Sethu pandiaraja"},"score":0,"creation_date":1595919766,"post_id":63128501,"comment_id":111632405,"body_markdown":"I tried it already. But still getting the same error. I am tired of this error. If you have any other suggestions please share. Thanks","body":"I tried it already. But still getting the same error. I am tired of this error. If you have any other suggestions please share. Thanks"},{"owner":{"account_id":18955614,"reputation":192,"user_id":13832267,"display_name":"karthick M"},"score":0,"creation_date":1595920020,"post_id":63128501,"comment_id":111632486,"body_markdown":"Try adding @Repository to the repository interface","body":"Try adding @Repository to the repository interface"},{"owner":{"account_id":19174433,"reputation":31,"user_id":14007429,"display_name":"Sethu pandiaraja"},"score":0,"creation_date":1595920425,"post_id":63128501,"comment_id":111632675,"body_markdown":"Sorry, about my previous comment. It really works fine after I removed the generics &lt;City&gt; as directed by you. Thank you sooooooo much. God be with you. Thanks a lot!!!","body":"Sorry, about my previous comment. It really works fine after I removed the generics &lt;City&gt; as directed by you. Thank you sooooooo much. God be with you. Thanks a lot!!!"}],"tags":[],"owner":{"account_id":18955614,"reputation":192,"user_id":13832267,"display_name":"karthick M"},"comment_count":3,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1595919450,"creation_date":1595919061,"answer_id":63128501,"question_id":63128209,"body_markdown":"In your Service class, replace below \r\n\r\n     @Autowired\r\n     private H2Repository&lt;City&gt; h2repository;\r\n\r\nwith \r\n\r\n     @Autowired\r\n     private H2Repository h2repository;\r\n\r\n\r\n\r\nAnd also your repository interface, replace below\r\n\r\n     public interface H2Repository&lt;City&gt; extends CrudRepository&lt;City, Long&gt;\r\nwith\r\n\r\n     public interface H2Repository extends CrudRepository&lt;City, Long&gt;\r\n\r\n","title":"@EnableJpaRepositories is not detecting or @Autowired of Repository is not detected anywhere in spring-boot application","body":"<p>In your Service class, replace below</p>\n<pre><code> @Autowired\n private H2Repository&lt;City&gt; h2repository;\n</code></pre>\n<p>with</p>\n<pre><code> @Autowired\n private H2Repository h2repository;\n</code></pre>\n<p>And also your repository interface, replace below</p>\n<pre><code> public interface H2Repository&lt;City&gt; extends CrudRepository&lt;City, Long&gt;\n</code></pre>\n<p>with</p>\n<pre><code> public interface H2Repository extends CrudRepository&lt;City, Long&gt;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":19174433,"reputation":31,"user_id":14007429,"display_name":"Sethu pandiaraja"},"score":1,"creation_date":1595920327,"post_id":63128695,"comment_id":111632625,"body_markdown":"Thanks a lot, It works fine now and the components are mapped properly. Thanks a lot !!","body":"Thanks a lot, It works fine now and the components are mapped properly. Thanks a lot !!"}],"tags":[],"owner":{"account_id":19161079,"reputation":91,"user_id":13996841,"display_name":"syntax"},"comment_count":1,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1630701500,"creation_date":1595919873,"answer_id":63128695,"question_id":63128209,"body_markdown":"Do not need the component scan if you have your main class at the top of the structure, also not need \r\n\r\n    @Configuration\r\n    @EnableAutoConfiguration\r\n    @ComponentScan(&quot;com.example.repository&quot;) as well in the Boot application class.\r\n\r\nonly need \r\n    @SpringBootApplication in your main class.\r\n\r\nHERE NOT FOLLOWING DEFAULT STRUCTURE OF SPRING\r\n\r\nuse the \r\n    @ComponentScan(basePackages = {&quot;com.example&quot;}) \r\n\r\ntry this following code:\r\n \r\n    @SpringBootApplication   \r\n    @EnableAutoConfiguration\r\n    @ComponentScan(basePackages={&quot;&lt;base package name&gt;&quot;})\r\n    @EnableJpaRepositories(basePackages=&quot;&lt;repository package name&gt;&quot;)\r\n    @EnableTransactionManagement\r\n    @EntityScan(basePackages=&quot;&lt;entity package name&gt;&quot;)\r\n\r\n\r\n\r\n","title":"@EnableJpaRepositories is not detecting or @Autowired of Repository is not detected anywhere in spring-boot application","body":"<p>Do not need the component scan if you have your main class at the top of the structure, also not need</p>\n<pre><code>@Configuration\n@EnableAutoConfiguration\n@ComponentScan(&quot;com.example.repository&quot;) as well in the Boot application class.\n</code></pre>\n<p>only need\n@SpringBootApplication in your main class.</p>\n<p>HERE NOT FOLLOWING DEFAULT STRUCTURE OF SPRING</p>\n<p>use the\n@ComponentScan(basePackages = {&quot;com.example&quot;})</p>\n<p>try this following code:</p>\n<pre><code>@SpringBootApplication   \n@EnableAutoConfiguration\n@ComponentScan(basePackages={&quot;&lt;base package name&gt;&quot;})\n@EnableJpaRepositories(basePackages=&quot;&lt;repository package name&gt;&quot;)\n@EnableTransactionManagement\n@EntityScan(basePackages=&quot;&lt;entity package name&gt;&quot;)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":21554197,"reputation":27,"user_id":15889775,"display_name":"Sajan Alex"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1620673562,"creation_date":1620673562,"answer_id":67476304,"question_id":63128209,"body_markdown":"I could solve this issue by selecting the right java version, dependencies in pom.xml, application.properties and made sure the SQL server is running.","title":"@EnableJpaRepositories is not detecting or @Autowired of Repository is not detected anywhere in spring-boot application","body":"<p>I could solve this issue by selecting the right java version, dependencies in pom.xml, application.properties and made sure the SQL server is running.</p>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1697408005,"post_id":77275503,"comment_id":136272720,"body_markdown":"As its currently written, your answer is unclear. Please [edit] to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"As its currently written, your answer is unclear. Please <a href=\"https://stackoverflow.com/posts/77275503/edit\">edit</a> to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":17911993,"reputation":1,"user_id":13013881,"display_name":"James Vercetti"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697048381,"creation_date":1697048381,"answer_id":77275503,"question_id":63128209,"body_markdown":"This may also be a consequence of incorrect placement of the Entity class. Look in which folder the other Entity classes are located.","title":"@EnableJpaRepositories is not detecting or @Autowired of Repository is not detected anywhere in spring-boot application","body":"<p>This may also be a consequence of incorrect placement of the Entity class. Look in which folder the other Entity classes are located.</p>\n"}],"owner":{"account_id":19174433,"reputation":31,"user_id":14007429,"display_name":"Sethu pandiaraja"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":47988,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":4,"score":3,"last_activity_date":1697048381,"creation_date":1595917646,"question_id":63128209,"body_markdown":"I have referred many stackoverflow questions similar to this. I have tried all the solutions provided and the suggestions. But keeps giving the error due to non-detection of @Autowired of Repository class irrespective of its definition in @EnableJpaRepositories in the Boot application file. I have tried using\r\n    \r\n    @Configuration\r\n    @EnableAutoConfiguration\r\n    @ComponentScan(&quot;com.example.repository&quot;) as well in the Boot application class. \r\n    Nothing seems to resolve the error. \r\n    \r\n    Desperately seeking help from anyone who can find out what am I doing wrong. Please help me out. I have been trying to find on the internet and tried on my own. But still no luck and I have not been patient for the past two days because of this.\r\n    \r\n    I want to resolve this and get ready to get a job using spring-boot-starter-data-jpa in their project. So please help.\r\n    \r\n    ===============================================================================\r\n    \r\n        enter code here\r\n    \r\n    folder structure\r\n    src-&gt;main-&gt;java-&gt;com\r\n      - ApplicationDataSource.java\r\n    src-&gt;main-&gt;java-&gt;com-&gt;example-&gt;controller\r\n      - H2Controller.java\r\n    src-&gt;main-&gt;java-&gt;com-&gt;example-&gt;service\r\n      - H2Service.java\r\n    src-&gt;main-&gt;java-&gt;com-&gt;example-&gt;repository\r\n      - H2Repository.java\r\n    -------------------------------------------\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \t&lt;parent&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;2.3.2.RELEASE&lt;/version&gt;\r\n    \t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    \t&lt;/parent&gt;\r\n    \t&lt;groupId&gt;com.example&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;h2sample&lt;/artifactId&gt;\r\n    \t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    \t&lt;name&gt;h2sample&lt;/name&gt;\r\n    \t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n    \r\n    \t&lt;properties&gt;\r\n    \t\t&lt;java.version&gt;1.8&lt;/java.version&gt;\r\n    \t&lt;/properties&gt;\r\n    \r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;org.apache.tomcat&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;tomcat-jdbc&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;9.0.10&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.3.2.RELEASE&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.3.2.RELEASE&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.h2database&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;h2&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t\r\n    \t\t&lt;dependency&gt;\r\n                &lt;groupId&gt;com.jolbox&lt;/groupId&gt;\r\n                &lt;artifactId&gt;bonecp&lt;/artifactId&gt;\r\n                &lt;version&gt;0.8.0.RELEASE&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \t\t\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t\t&lt;exclusions&gt;\r\n    \t\t\t\t&lt;exclusion&gt;\r\n    \t\t\t\t\t&lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\r\n    \t\t\t\t\t&lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;/exclusion&gt;\r\n    \t\t\t&lt;/exclusions&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t&lt;/dependencies&gt;\r\n    \r\n    \t&lt;build&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n    \r\n    &lt;/project&gt;\r\n    \r\n    ---------------------------------------------------\r\n    \r\n        \r\n    \r\n    package com;\r\n    \r\n    import org.springframework.boot.SpringApplication;\r\n    import org.springframework.boot.autoconfigure.SpringBootApplication;\r\n    import org.springframework.boot.autoconfigure.EnableAutoConfiguration;\r\n    import org.springframework.data.jpa.repository.config.EnableJpaRepositories;\r\n    import org.springframework.boot.autoconfigure.domain.EntityScan;\r\n    import org.springframework.context.annotation.ComponentScan;\r\n    import org.springframework.context.annotation.Configuration;\r\n    \r\n    import com.example.repository.H2Repository;\r\n    import com.example.repository.City;\r\n    \r\n    \r\n    /*\r\n     * @Configuration\r\n     * \r\n     * @EnableAutoConfiguration\r\n     * \r\n     * @ComponentScan(&quot;com.example.h2sample&quot;)\r\n     */\r\n    \r\n    @SpringBootApplication(scanBasePackages= {&quot;com.example.controller&quot;,&quot;com.example.service&quot;})\r\n    @EnableJpaRepositories(&quot;com.example.repository&quot;)\r\n    public class H2sampleApplication {\r\n    \t\r\n    \tpublic static void main(String[] args) {\r\n    \t\tSpringApplication.run(H2sampleApplication.class, args);\r\n    \t}\r\n    \t\r\n    \t\r\n    \r\n    }\r\n    --------------------\r\n    \r\n    \r\n    \r\n    \r\n    package com.example.controller;\r\n    \r\n    import org.springframework.http.ResponseEntity;\r\n    import org.springframework.http.HttpStatus;\r\n    import org.springframework.http.MediaType;\r\n    import org.springframework.web.bind.annotation.GetMapping;\r\n    import org.springframework.web.bind.annotation.RestController;\r\n    import org.springframework.data.jpa.repository.config.EnableJpaRepositories;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    \r\n    import com.example.service.H2Service;\r\n    \r\n    @RestController\r\n    public class H2Controller {\r\n    \t\r\n    \t\r\n    \t@Autowired\r\n    \tprivate H2Service h2service;\r\n    \t\t\r\n    \t@GetMapping(value=&quot;/testh2&quot;)\r\n    \tpublic String testh2() {\r\n    \t\t\r\n    \t\treturn &quot;Hi Test &quot;+h2service.getH2Service();\r\n    \t}\r\n    \r\n    }\r\n    \r\n    -------------------------------------------\r\n    \r\n    \r\n    \r\n    \r\n    package com.example.service;\r\n    \r\n    import org.springframework.stereotype.Service;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.data.jpa.repository.config.EnableJpaRepositories;\r\n    import com.example.repository.H2Repository;\r\n    import com.example.repository.City;\r\n    \r\n    \r\n    \r\n    \r\n    @Service\r\n    public class H2Service {\r\n    \t\r\n    \t\r\n    \t\r\n    \t @Autowired\r\n    \t private H2Repository&lt;City&gt; h2repository;\r\n    \t\t\r\n    \t\r\n    \tpublic String getH2Service() {\r\n    \t\t\r\n    \t\tSystem.out.println(h2repository.findAll());\r\n    \t\treturn &quot; from Service&quot;;\r\n    \t}\r\n    }\r\n    \r\n    --------------------------------------\r\n    package com.example.repository;\r\n    \r\n    import org.springframework.data.jpa.repository.JpaRepository;\r\n    import org.springframework.data.repository.CrudRepository;\r\n    \r\n    import org.springframework.stereotype.Repository;\r\n    import org.springframework.stereotype.Component;\r\n    import java.util.List;\r\n    \r\n    \r\n    public interface H2Repository&lt;City&gt; extends CrudRepository&lt;City, Long&gt; {\r\n    \t\r\n    \tpublic List&lt;City&gt; findAll();\r\n    \r\n    }\r\n    -----------------------------------------\r\n    \r\n    \r\n    \r\n    \r\n    \r\n    package com.example.repository;\r\n    \r\n    import java.util.Objects;\r\n    import javax.persistence.Entity;\r\n    import javax.persistence.GeneratedValue;\r\n    import javax.persistence.GenerationType;\r\n    import javax.persistence.Id;\r\n    import javax.persistence.Table;\r\n    \r\n    \r\n    @Entity\r\n    @Table(name = &quot;CITY&quot;)\r\n    public class City {\r\n    \r\n        @Id\r\n        private Long id;\r\n    \r\n        private String name;\r\n        private int population;\r\n    \r\n        public Long getId() {\r\n    \r\n            return id;\r\n        }\r\n    \r\n        public void setId(Long id) {\r\n    \r\n            this.id = id;\r\n        }\r\n    \r\n        public String getName() {\r\n            return name;\r\n        }\r\n    \r\n        public void setName(String name) {\r\n    \r\n            this.name = name;\r\n        }\r\n    \r\n        public int getPopulation() {\r\n    \r\n            return population;\r\n        }\r\n    \r\n        public void setPopulation(int population) {\r\n    \r\n            this.population = population;\r\n        }\r\n        \r\n    }\r\n    \r\n    ===================================================================\r\n    \r\n    server.servlet.context-path=/h2\r\n    spring.datasource.driverClassName=org.h2.Driver\r\n    spring.datasource.url=jdbc:h2:./test-db\r\n    spring.datasource.username=sa\r\n    spring.datasource.password=password\r\n    spring.jpa.database-platform=org.hibernate.dialect.H2Dialect\r\n    spring.jpa.show-sql=true\r\n\r\n    \r\n    \r\n    Error\r\n    ----\r\n    \r\n    H2Sample\\h2sample\\target\\classes started by Sethu in H:\\H2Sample\\h2sample)\r\n    2020-07-28 11:39:01.955  INFO 14236 --- [           main] com.H2sampleApplication                  : No active profile set, falling back to default profiles: default\r\n    2020-07-28 11:39:02.453  INFO 14236 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.\r\n    2020-07-28 11:39:02.511  INFO 14236 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 46ms. Found 1 JPA repository interfaces.\r\n    2020-07-28 11:39:03.610  INFO 14236 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)\r\n    2020-07-28 11:39:03.624  INFO 14236 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\r\n    2020-07-28 11:39:03.624  INFO 14236 --- [           main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.37]\r\n    2020-07-28 11:39:03.754  INFO 14236 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/h2]     : Initializing Spring embedded WebApplicationContext\r\n    2020-07-28 11:39:03.755  INFO 14236 --- [           main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1736 ms\r\n    2020-07-28 11:39:03.922  INFO 14236 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...\r\n    2020-07-28 11:39:04.047  INFO 14236 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.\r\n    2020-07-28 11:39:05.024  INFO 14236 --- [           main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]\r\n    2020-07-28 11:39:05.072  INFO 14236 --- [           main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.4.18.Final\r\n    2020-07-28 11:39:05.309  INFO 14236 --- [           main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.0.Final}\r\n    2020-07-28 11:39:05.414  INFO 14236 --- [           main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect\r\n    Hibernate: drop table if exists city CASCADE\r\n    Hibernate: create table city (id bigint not null, name varchar(255), population integer not null, primary key (id))\r\n    2020-07-28 11:39:05.970  INFO 14236 --- [           main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]\r\n    2020-07-28 11:39:05.980  INFO 14236 --- [           main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit &#39;default&#39;\r\n    2020-07-28 11:39:06.135  WARN 14236 --- [           main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;h2Controller&#39;: Unsatisfied dependency expressed through field &#39;h2service&#39;; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;h2Service&#39;: Unsatisfied dependency expressed through field &#39;h2repository&#39;; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;h2Repository&#39; defined in com.example.repository.H2Repository defined in @EnableJpaRepositories declared on H2sampleApplication: Invocation of init method failed; nested exception is java.lang.IllegalArgumentException: Not a managed type: class java.lang.Object\r\n    2020-07-28 11:39:06.136  INFO 14236 --- [           main] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit &#39;default&#39;\r\n    2020-07-28 11:39:06.141  INFO 14236 --- [           main] .SchemaDropperImpl$DelayedDropActionImpl : HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down&#39;\r\n    Hibernate: drop table if exists city CASCADE\r\n    2020-07-28 11:39:06.150  INFO 14236 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...\r\n    2020-07-28 11:39:06.188  INFO 14236 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.\r\n    2020-07-28 11:39:06.194  INFO 14236 --- [           main] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]\r\n    2020-07-28 11:39:06.223  INFO 14236 --- [           main] ConditionEvaluationReportLoggingListener :\r\n    \r\n    Error starting ApplicationContext. To display the conditions report re-run your application with &#39;debug&#39; enabled.\r\n    2020-07-28 11:39:06.255 ERROR 14236 --- [           main] o.s.boot.SpringApplication               : Application run failed\r\n    \r\n    org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;h2Controller&#39;: Unsatisfied dependency expressed through field &#39;h2service&#39;; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;h2Service&#39;: Unsatisfied dependency expressed through field &#39;h2repository&#39;; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;h2Repository&#39; defined in com.example.repository.H2Repository defined in @EnableJpaRepositories declared on H2sampleApplication: Invocation of init method failed; nested exception is java.lang.IllegalArgumentException: Not a managed type: class java.lang.Object\r\n            at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:643) ~[spring-beans-5.2.8.RELEASE.jar:5.2.8.RELEASE]\r\n            at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:130) ~[spring-beans-5.2.8.RELEASE.jar:5.2.8.RELEASE]\r\n            at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:399) ~[spring-beans-5.2.8.RELEASE.jar:5.2.8.RELEASE]\r\n            at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1420) ~[spring-beans-5.2.8.RELEASE.jar:5.2.8.RELEASE]\r\n            at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:593) ~[spring-beans-5.2.8.RELEASE.jar:5.2.8.RELEASE]\r\n            at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:516) ~[spring-beans-5.2.8.RELEASE.jar:5.2.8.RELEASE]\r\n            at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:324) ~[spring-beans-5.2.8.RELEASE.jar:5.2.8.RELEASE]\r\n            at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:226) ~[spring-beans-5.2.8.RELEASE.jar:5.2.8.RELEASE]\r\n            at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322) ~[spring-beans-5.2.8.RELEASE.jar:5.2.8.RELEASE]\r\n            at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202) ~[spring-beans-5.2.8.RELEASE.jar:5.2.8.RELEASE]\r\n            at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:897) ~[spring-beans-5.2.8.RELEASE.jar:5.2.8.RELEASE]\r\n            at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:879) ~[spring-context-5.2.8.RELEASE.jar:5.2.8.RELEASE]\r\n            at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:551) ~[spring-context-5.2.8.RELEASE.jar:5.2.8.RELEASE]\r\n            at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:143) ~[spring-boot-2.3.2.RELEASE.jar:2.3.2.RELEASE]\r\n            at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:758) [spring-boot-2.3.2.RELEASE.jar:2.3.2.RELEASE]\r\n            at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:750) [spring-boot-2.3.2.RELEASE.jar:2.3.2.RELEASE]\r\n            at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397) [spring-boot-2.3.2.RELEASE.jar:2.3.2.RELEASE]\r\n            at org.springframework.boot.SpringApplication.run(SpringApplication.java:315) [spring-boot-2.3.2.RELEASE.jar:2.3.2.RELEASE]\r\n            at org.springframework.boot.SpringApplication.run(SpringApplication.java:1237) [spring-boot-2.3.2.RELEASE.jar:2.3.2.RELEASE]\r\n            at org.springframework.boot.SpringApplication.run(SpringApplication.java:1226) [spring-boot-2.3.2.RELEASE.jar:2.3.2.RELEASE]\r\n            at com.H2sampleApplication.main(H2sampleApplication.java:28) [classes/:na]\r\n    Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;h2Service&#39;: Unsatisfied dependency expressed through field &#39;h2repository&#39;; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;h2Repository&#39; defined in com.example.repository.H2Repository defined in @EnableJpaRepositories declared on H2sampleApplication: Invocation of init method failed; nested exception is java.lang.IllegalArgumentException: Not a managed type: class java.lang.Object\r\n            at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:643) ~[spring-beans-5.2.8.RELEASE.jar:5.2.8.RELEASE]\r\n            at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:130) ~[spring-beans-5.2.8.RELEASE.jar:5.2.8.RELEASE]\r\n            at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:399) ~[spring-beans-5.2.8.RELEASE.jar:5.2.8.RELEASE]\r\n            at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1420) ~[spring-beans-5.2.8.RELEASE.jar:5.2.8.RELEASE]\r\n            at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:593) ~[spring-beans-5.2.8.RELEASE.jar:5.2.8.RELEASE]\r\n            at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:516) ~[spring-beans-5.2.8.RELEASE.jar:5.2.8.RELEASE]\r\n            at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:324) ~[spring-beans-5.2.8.RELEASE.jar:5.2.8.RELEASE]\r\n            at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:226) ~[spring-beans-5.2.8.RELEASE.jar:5.2.8.RELEASE]\r\n            at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322) ~[spring-beans-5.2.8.RELEASE.jar:5.2.8.RELEASE]\r\n            at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202) ~[spring-beans-5.2.8.RELEASE.jar:5.2.8.RELEASE]\r\n            at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276) ~[spring-beans-5.2.8.RELEASE.jar:5.2.8.RELEASE]\r\n            at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1307) ~[spring-beans-5.2.8.RELEASE.jar:5.2.8.RELEASE]\r\n            at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1227) ~[spring-beans-5.2.8.RELEASE.jar:5.2.8.RELEASE]\r\n            at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:640) ~[spring-beans-5.2.8.RELEASE.jar:5.2.8.RELEASE]\r\n            ... 20 common frames omitted\r\n    Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;h2Repository&#39; defined in com.example.repository.H2Repository defined in @EnableJpaRepositories declared on H2sampleApplication: Invocation of init method failed; nested exception is java.lang.IllegalArgumentException: Not a managed type: class java.lang.Object\r\n            at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1794) ~[spring-beans-5.2.8.RELEASE.jar:5.2.8.RELEASE]\r\n            at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:594) ~[spring-beans-5.2.8.RELEASE.jar:5.2.8.RELEASE]\r\n            at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:516) ~[spring-beans-5.2.8.RELEASE.jar:5.2.8.RELEASE]\r\n            at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:324) ~[spring-beans-5.2.8.RELEASE.jar:5.2.8.RELEASE]\r\n            at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:226) ~[spring-beans-5.2.8.RELEASE.jar:5.2.8.RELEASE]\r\n            at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322) ~[spring-beans-5.2.8.RELEASE.jar:5.2.8.RELEASE]\r\n            at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202) ~[spring-beans-5.2.8.RELEASE.jar:5.2.8.RELEASE]\r\n            at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276) ~[spring-beans-5.2.8.RELEASE.jar:5.2.8.RELEASE]\r\n            at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1307) ~[spring-beans-5.2.8.RELEASE.jar:5.2.8.RELEASE]\r\n            at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1227) ~[spring-beans-5.2.8.RELEASE.jar:5.2.8.RELEASE]\r\n            at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:640) ~[spring-beans-5.2.8.RELEASE.jar:5.2.8.RELEASE]\r\n            ... 33 common frames omitted\r\n    Caused by: java.lang.IllegalArgumentException: Not a managed type: class java.lang.Object\r\n            at org.hibernate.metamodel.internal.MetamodelImpl.managedType(MetamodelImpl.java:582) ~[hibernate-core-5.4.18.Final.jar:5.4.18.Final]\r\n            at org.hibernate.metamodel.internal.MetamodelImpl.managedType(MetamodelImpl.java:85) ~[hibernate-core-5.4.18.Final.jar:5.4.18.Final]\r\n            at org.springframework.data.jpa.repository.support.JpaMetamodelEntityInformation.&lt;init&gt;(JpaMetamodelEntityInformation.java:75) ~[spring-data-jpa-2.3.2.RELEASE.jar:2.3.2.RELEASE]\r\n            at org.springframework.data.jpa.repository.support.JpaEntityInformationSupport.getEntityInformation(JpaEntityInformationSupport.java:66) ~[spring-data-jpa-2.3.2.RELEASE.jar:2.3.2.RELEASE]\r\n            at org.springframework.data.jpa.repository.support.JpaRepositoryFactory.getEntityInformation(JpaRepositoryFactory.java:229) ~[spring-data-jpa-2.3.2.RELEASE.jar:2.3.2.RELEASE]\r\n            at org.springframework.data.jpa.repository.support.JpaRepositoryFactory.getTargetRepository(JpaRepositoryFactory.java:179) ~[spring-data-jpa-2.3.2.RELEASE.jar:2.3.2.RELEASE]\r\n            at org.springframework.data.jpa.repository.support.JpaRepositoryFactory.getTargetRepository(JpaRepositoryFactory.java:162) ~[spring-data-jpa-2.3.2.RELEASE.jar:2.3.2.RELEASE]\r\n            at org.springframework.data.jpa.repository.support.JpaRepositoryFactory.getTargetRepository(JpaRepositoryFactory.java:72) ~[spring-data-jpa-2.3.2.RELEASE.jar:2.3.2.RELEASE]\r\n            at org.springframework.data.repository.core.support.RepositoryFactorySupport.getRepository(RepositoryFactorySupport.java:309) ~[spring-data-commons-2.3.2.RELEASE.jar:2.3.2.RELEASE]\r\n            at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.lambda$afterPropertiesSet$5(RepositoryFactoryBeanSupport.java:297) ~[spring-data-commons-2.3.2.RELEASE.jar:2.3.2.RELEASE]\r\n            at org.springframework.data.util.Lazy.getNullable(Lazy.java:212) ~[spring-data-commons-2.3.2.RELEASE.jar:2.3.2.RELEASE]\r\n            at org.springframework.data.util.Lazy.get(Lazy.java:94) ~[spring-data-commons-2.3.2.RELEASE.jar:2.3.2.RELEASE]\r\n            at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.afterPropertiesSet(RepositoryFactoryBeanSupport.java:300) ~[spring-data-commons-2.3.2.RELEASE.jar:2.3.2.RELEASE]\r\n            at org.springframework.data.jpa.repository.support.JpaRepositoryFactoryBean.afterPropertiesSet(JpaRepositoryFactoryBean.java:144) ~[spring-data-jpa-2.3.2.RELEASE.jar:2.3.2.RELEASE]\r\n            at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1853) ~[spring-beans-5.2.8.RELEASE.jar:5.2.8.RELEASE]\r\n            at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1790) ~[spring-beans-5.2.8.RELEASE.jar:5.2.8.RELEASE]\r\n            ... 43 common frames omitted\r\n    \r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] BUILD FAILURE\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] Total time:  9.079 s\r\n    [INFO] Finished at: 2020-07-28T11:39:06+05:30\r\n    [INFO] ------------------------------------------------------------------------\r\n    [ERROR] Failed to execute goal org.springframework.boot:spring-boot-maven-plugin:2.3.2.RELEASE:run (default-cli) on project h2sample: Application finished with exit code: 1 -&gt; [Help 1]\r\n    [ERROR]\r\n    [ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\r\n    [ERROR] Re-run Maven using the -X switch to enable full debug logging.\r\n    [ERROR]\r\n    [ERROR] For more information about the errors and possible solutions, please read the following articles:\r\n    [ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoExecutionException\r\n    \r\n    --------------------------------------------------------------------------------------\r\n\r\n\r\n\r\n\r\n","title":"@EnableJpaRepositories is not detecting or @Autowired of Repository is not detected anywhere in spring-boot application","body":"<p>I have referred many stackoverflow questions similar to this. I have tried all the solutions provided and the suggestions. But keeps giving the error due to non-detection of @Autowired of Repository class irrespective of its definition in @EnableJpaRepositories in the Boot application file. I have tried using</p>\n<pre><code>@Configuration\n@EnableAutoConfiguration\n@ComponentScan(&quot;com.example.repository&quot;) as well in the Boot application class. \nNothing seems to resolve the error. \n\nDesperately seeking help from anyone who can find out what am I doing wrong. Please help me out. I have been trying to find on the internet and tried on my own. But still no luck and I have not been patient for the past two days because of this.\n\nI want to resolve this and get ready to get a job using spring-boot-starter-data-jpa in their project. So please help.\n\n===============================================================================\n\n    enter code here\n\nfolder structure\nsrc-&gt;main-&gt;java-&gt;com\n  - ApplicationDataSource.java\nsrc-&gt;main-&gt;java-&gt;com-&gt;example-&gt;controller\n  - H2Controller.java\nsrc-&gt;main-&gt;java-&gt;com-&gt;example-&gt;service\n  - H2Service.java\nsrc-&gt;main-&gt;java-&gt;com-&gt;example-&gt;repository\n  - H2Repository.java\n-------------------------------------------\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.3.2.RELEASE&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;h2sample&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;h2sample&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n\n    &lt;properties&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.tomcat&lt;/groupId&gt;\n        &lt;artifactId&gt;tomcat-jdbc&lt;/artifactId&gt;\n        &lt;version&gt;9.0.10&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n            &lt;version&gt;2.3.2.RELEASE&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n            &lt;version&gt;2.3.2.RELEASE&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.h2database&lt;/groupId&gt;\n            &lt;artifactId&gt;h2&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        \n        &lt;dependency&gt;\n            &lt;groupId&gt;com.jolbox&lt;/groupId&gt;\n            &lt;artifactId&gt;bonecp&lt;/artifactId&gt;\n            &lt;version&gt;0.8.0.RELEASE&lt;/version&gt;\n        &lt;/dependency&gt;\n        \n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\n                    &lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n\n---------------------------------------------------\n\n    \n\npackage com;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.boot.autoconfigure.EnableAutoConfiguration;\nimport org.springframework.data.jpa.repository.config.EnableJpaRepositories;\nimport org.springframework.boot.autoconfigure.domain.EntityScan;\nimport org.springframework.context.annotation.ComponentScan;\nimport org.springframework.context.annotation.Configuration;\n\nimport com.example.repository.H2Repository;\nimport com.example.repository.City;\n\n\n/*\n * @Configuration\n * \n * @EnableAutoConfiguration\n * \n * @ComponentScan(&quot;com.example.h2sample&quot;)\n */\n\n@SpringBootApplication(scanBasePackages= {&quot;com.example.controller&quot;,&quot;com.example.service&quot;})\n@EnableJpaRepositories(&quot;com.example.repository&quot;)\npublic class H2sampleApplication {\n    \n    public static void main(String[] args) {\n        SpringApplication.run(H2sampleApplication.class, args);\n    }\n    \n    \n\n}\n--------------------\n\n\n\n\npackage com.example.controller;\n\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.http.HttpStatus;\nimport org.springframework.http.MediaType;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.RestController;\nimport org.springframework.data.jpa.repository.config.EnableJpaRepositories;\nimport org.springframework.beans.factory.annotation.Autowired;\n\nimport com.example.service.H2Service;\n\n@RestController\npublic class H2Controller {\n    \n    \n    @Autowired\n    private H2Service h2service;\n        \n    @GetMapping(value=&quot;/testh2&quot;)\n    public String testh2() {\n        \n        return &quot;Hi Test &quot;+h2service.getH2Service();\n    }\n\n}\n\n-------------------------------------------\n\n\n\n\npackage com.example.service;\n\nimport org.springframework.stereotype.Service;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.data.jpa.repository.config.EnableJpaRepositories;\nimport com.example.repository.H2Repository;\nimport com.example.repository.City;\n\n\n\n\n@Service\npublic class H2Service {\n    \n    \n    \n     @Autowired\n     private H2Repository&lt;City&gt; h2repository;\n        \n    \n    public String getH2Service() {\n        \n        System.out.println(h2repository.findAll());\n        return &quot; from Service&quot;;\n    }\n}\n\n--------------------------------------\npackage com.example.repository;\n\nimport org.springframework.data.jpa.repository.JpaRepository;\nimport org.springframework.data.repository.CrudRepository;\n\nimport org.springframework.stereotype.Repository;\nimport org.springframework.stereotype.Component;\nimport java.util.List;\n\n\npublic interface H2Repository&lt;City&gt; extends CrudRepository&lt;City, Long&gt; {\n    \n    public List&lt;City&gt; findAll();\n\n}\n-----------------------------------------\n\n\n\n\n\npackage com.example.repository;\n\nimport java.util.Objects;\nimport javax.persistence.Entity;\nimport javax.persistence.GeneratedValue;\nimport javax.persistence.GenerationType;\nimport javax.persistence.Id;\nimport javax.persistence.Table;\n\n\n@Entity\n@Table(name = &quot;CITY&quot;)\npublic class City {\n\n    @Id\n    private Long id;\n\n    private String name;\n    private int population;\n\n    public Long getId() {\n\n        return id;\n    }\n\n    public void setId(Long id) {\n\n        this.id = id;\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n\n        this.name = name;\n    }\n\n    public int getPopulation() {\n\n        return population;\n    }\n\n    public void setPopulation(int population) {\n\n        this.population = population;\n    }\n    \n}\n\n===================================================================\n\nserver.servlet.context-path=/h2\nspring.datasource.driverClassName=org.h2.Driver\nspring.datasource.url=jdbc:h2:./test-db\nspring.datasource.username=sa\nspring.datasource.password=password\nspring.jpa.database-platform=org.hibernate.dialect.H2Dialect\nspring.jpa.show-sql=true\n\n\n\nError\n----\n\nH2Sample\\h2sample\\target\\classes started by Sethu in H:\\H2Sample\\h2sample)\n2020-07-28 11:39:01.955  INFO 14236 --- [           main] com.H2sampleApplication                  : No active profile set, falling back to default profiles: default\n2020-07-28 11:39:02.453  INFO 14236 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.\n2020-07-28 11:39:02.511  INFO 14236 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 46ms. Found 1 JPA repository interfaces.\n2020-07-28 11:39:03.610  INFO 14236 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)\n2020-07-28 11:39:03.624  INFO 14236 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\n2020-07-28 11:39:03.624  INFO 14236 --- [           main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.37]\n2020-07-28 11:39:03.754  INFO 14236 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/h2]     : Initializing Spring embedded WebApplicationContext\n2020-07-28 11:39:03.755  INFO 14236 --- [           main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1736 ms\n2020-07-28 11:39:03.922  INFO 14236 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...\n2020-07-28 11:39:04.047  INFO 14236 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.\n2020-07-28 11:39:05.024  INFO 14236 --- [           main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]\n2020-07-28 11:39:05.072  INFO 14236 --- [           main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.4.18.Final\n2020-07-28 11:39:05.309  INFO 14236 --- [           main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.0.Final}\n2020-07-28 11:39:05.414  INFO 14236 --- [           main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect\nHibernate: drop table if exists city CASCADE\nHibernate: create table city (id bigint not null, name varchar(255), population integer not null, primary key (id))\n2020-07-28 11:39:05.970  INFO 14236 --- [           main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]\n2020-07-28 11:39:05.980  INFO 14236 --- [           main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'\n2020-07-28 11:39:06.135  WARN 14236 --- [           main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'h2Controller': Unsatisfied dependency expressed through field 'h2service'; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'h2Service': Unsatisfied dependency expressed through field 'h2repository'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'h2Repository' defined in com.example.repository.H2Repository defined in @EnableJpaRepositories declared on H2sampleApplication: Invocation of init method failed; nested exception is java.lang.IllegalArgumentException: Not a managed type: class java.lang.Object\n2020-07-28 11:39:06.136  INFO 14236 --- [           main] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'\n2020-07-28 11:39:06.141  INFO 14236 --- [           main] .SchemaDropperImpl$DelayedDropActionImpl : HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'\nHibernate: drop table if exists city CASCADE\n2020-07-28 11:39:06.150  INFO 14236 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...\n2020-07-28 11:39:06.188  INFO 14236 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.\n2020-07-28 11:39:06.194  INFO 14236 --- [           main] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]\n2020-07-28 11:39:06.223  INFO 14236 --- [           main] ConditionEvaluationReportLoggingListener :\n\nError starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.\n2020-07-28 11:39:06.255 ERROR 14236 --- [           main] o.s.boot.SpringApplication               : Application run failed\n\norg.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'h2Controller': Unsatisfied dependency expressed through field 'h2service'; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'h2Service': Unsatisfied dependency expressed through field 'h2repository'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'h2Repository' defined in com.example.repository.H2Repository defined in @EnableJpaRepositories declared on H2sampleApplication: Invocation of init method failed; nested exception is java.lang.IllegalArgumentException: Not a managed type: class java.lang.Object\n        at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:643) ~[spring-beans-5.2.8.RELEASE.jar:5.2.8.RELEASE]\n        at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:130) ~[spring-beans-5.2.8.RELEASE.jar:5.2.8.RELEASE]\n        at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:399) ~[spring-beans-5.2.8.RELEASE.jar:5.2.8.RELEASE]\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1420) ~[spring-beans-5.2.8.RELEASE.jar:5.2.8.RELEASE]\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:593) ~[spring-beans-5.2.8.RELEASE.jar:5.2.8.RELEASE]\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:516) ~[spring-beans-5.2.8.RELEASE.jar:5.2.8.RELEASE]\n        at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:324) ~[spring-beans-5.2.8.RELEASE.jar:5.2.8.RELEASE]\n        at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:226) ~[spring-beans-5.2.8.RELEASE.jar:5.2.8.RELEASE]\n        at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322) ~[spring-beans-5.2.8.RELEASE.jar:5.2.8.RELEASE]\n        at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202) ~[spring-beans-5.2.8.RELEASE.jar:5.2.8.RELEASE]\n        at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:897) ~[spring-beans-5.2.8.RELEASE.jar:5.2.8.RELEASE]\n        at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:879) ~[spring-context-5.2.8.RELEASE.jar:5.2.8.RELEASE]\n        at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:551) ~[spring-context-5.2.8.RELEASE.jar:5.2.8.RELEASE]\n        at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:143) ~[spring-boot-2.3.2.RELEASE.jar:2.3.2.RELEASE]\n        at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:758) [spring-boot-2.3.2.RELEASE.jar:2.3.2.RELEASE]\n        at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:750) [spring-boot-2.3.2.RELEASE.jar:2.3.2.RELEASE]\n        at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397) [spring-boot-2.3.2.RELEASE.jar:2.3.2.RELEASE]\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:315) [spring-boot-2.3.2.RELEASE.jar:2.3.2.RELEASE]\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1237) [spring-boot-2.3.2.RELEASE.jar:2.3.2.RELEASE]\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1226) [spring-boot-2.3.2.RELEASE.jar:2.3.2.RELEASE]\n        at com.H2sampleApplication.main(H2sampleApplication.java:28) [classes/:na]\nCaused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'h2Service': Unsatisfied dependency expressed through field 'h2repository'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'h2Repository' defined in com.example.repository.H2Repository defined in @EnableJpaRepositories declared on H2sampleApplication: Invocation of init method failed; nested exception is java.lang.IllegalArgumentException: Not a managed type: class java.lang.Object\n        at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:643) ~[spring-beans-5.2.8.RELEASE.jar:5.2.8.RELEASE]\n        at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:130) ~[spring-beans-5.2.8.RELEASE.jar:5.2.8.RELEASE]\n        at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:399) ~[spring-beans-5.2.8.RELEASE.jar:5.2.8.RELEASE]\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1420) ~[spring-beans-5.2.8.RELEASE.jar:5.2.8.RELEASE]\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:593) ~[spring-beans-5.2.8.RELEASE.jar:5.2.8.RELEASE]\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:516) ~[spring-beans-5.2.8.RELEASE.jar:5.2.8.RELEASE]\n        at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:324) ~[spring-beans-5.2.8.RELEASE.jar:5.2.8.RELEASE]\n        at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:226) ~[spring-beans-5.2.8.RELEASE.jar:5.2.8.RELEASE]\n        at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322) ~[spring-beans-5.2.8.RELEASE.jar:5.2.8.RELEASE]\n        at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202) ~[spring-beans-5.2.8.RELEASE.jar:5.2.8.RELEASE]\n        at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276) ~[spring-beans-5.2.8.RELEASE.jar:5.2.8.RELEASE]\n        at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1307) ~[spring-beans-5.2.8.RELEASE.jar:5.2.8.RELEASE]\n        at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1227) ~[spring-beans-5.2.8.RELEASE.jar:5.2.8.RELEASE]\n        at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:640) ~[spring-beans-5.2.8.RELEASE.jar:5.2.8.RELEASE]\n        ... 20 common frames omitted\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'h2Repository' defined in com.example.repository.H2Repository defined in @EnableJpaRepositories declared on H2sampleApplication: Invocation of init method failed; nested exception is java.lang.IllegalArgumentException: Not a managed type: class java.lang.Object\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1794) ~[spring-beans-5.2.8.RELEASE.jar:5.2.8.RELEASE]\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:594) ~[spring-beans-5.2.8.RELEASE.jar:5.2.8.RELEASE]\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:516) ~[spring-beans-5.2.8.RELEASE.jar:5.2.8.RELEASE]\n        at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:324) ~[spring-beans-5.2.8.RELEASE.jar:5.2.8.RELEASE]\n        at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:226) ~[spring-beans-5.2.8.RELEASE.jar:5.2.8.RELEASE]\n        at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322) ~[spring-beans-5.2.8.RELEASE.jar:5.2.8.RELEASE]\n        at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202) ~[spring-beans-5.2.8.RELEASE.jar:5.2.8.RELEASE]\n        at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276) ~[spring-beans-5.2.8.RELEASE.jar:5.2.8.RELEASE]\n        at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1307) ~[spring-beans-5.2.8.RELEASE.jar:5.2.8.RELEASE]\n        at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1227) ~[spring-beans-5.2.8.RELEASE.jar:5.2.8.RELEASE]\n        at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:640) ~[spring-beans-5.2.8.RELEASE.jar:5.2.8.RELEASE]\n        ... 33 common frames omitted\nCaused by: java.lang.IllegalArgumentException: Not a managed type: class java.lang.Object\n        at org.hibernate.metamodel.internal.MetamodelImpl.managedType(MetamodelImpl.java:582) ~[hibernate-core-5.4.18.Final.jar:5.4.18.Final]\n        at org.hibernate.metamodel.internal.MetamodelImpl.managedType(MetamodelImpl.java:85) ~[hibernate-core-5.4.18.Final.jar:5.4.18.Final]\n        at org.springframework.data.jpa.repository.support.JpaMetamodelEntityInformation.&lt;init&gt;(JpaMetamodelEntityInformation.java:75) ~[spring-data-jpa-2.3.2.RELEASE.jar:2.3.2.RELEASE]\n        at org.springframework.data.jpa.repository.support.JpaEntityInformationSupport.getEntityInformation(JpaEntityInformationSupport.java:66) ~[spring-data-jpa-2.3.2.RELEASE.jar:2.3.2.RELEASE]\n        at org.springframework.data.jpa.repository.support.JpaRepositoryFactory.getEntityInformation(JpaRepositoryFactory.java:229) ~[spring-data-jpa-2.3.2.RELEASE.jar:2.3.2.RELEASE]\n        at org.springframework.data.jpa.repository.support.JpaRepositoryFactory.getTargetRepository(JpaRepositoryFactory.java:179) ~[spring-data-jpa-2.3.2.RELEASE.jar:2.3.2.RELEASE]\n        at org.springframework.data.jpa.repository.support.JpaRepositoryFactory.getTargetRepository(JpaRepositoryFactory.java:162) ~[spring-data-jpa-2.3.2.RELEASE.jar:2.3.2.RELEASE]\n        at org.springframework.data.jpa.repository.support.JpaRepositoryFactory.getTargetRepository(JpaRepositoryFactory.java:72) ~[spring-data-jpa-2.3.2.RELEASE.jar:2.3.2.RELEASE]\n        at org.springframework.data.repository.core.support.RepositoryFactorySupport.getRepository(RepositoryFactorySupport.java:309) ~[spring-data-commons-2.3.2.RELEASE.jar:2.3.2.RELEASE]\n        at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.lambda$afterPropertiesSet$5(RepositoryFactoryBeanSupport.java:297) ~[spring-data-commons-2.3.2.RELEASE.jar:2.3.2.RELEASE]\n        at org.springframework.data.util.Lazy.getNullable(Lazy.java:212) ~[spring-data-commons-2.3.2.RELEASE.jar:2.3.2.RELEASE]\n        at org.springframework.data.util.Lazy.get(Lazy.java:94) ~[spring-data-commons-2.3.2.RELEASE.jar:2.3.2.RELEASE]\n        at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.afterPropertiesSet(RepositoryFactoryBeanSupport.java:300) ~[spring-data-commons-2.3.2.RELEASE.jar:2.3.2.RELEASE]\n        at org.springframework.data.jpa.repository.support.JpaRepositoryFactoryBean.afterPropertiesSet(JpaRepositoryFactoryBean.java:144) ~[spring-data-jpa-2.3.2.RELEASE.jar:2.3.2.RELEASE]\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1853) ~[spring-beans-5.2.8.RELEASE.jar:5.2.8.RELEASE]\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1790) ~[spring-beans-5.2.8.RELEASE.jar:5.2.8.RELEASE]\n        ... 43 common frames omitted\n\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD FAILURE\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time:  9.079 s\n[INFO] Finished at: 2020-07-28T11:39:06+05:30\n[INFO] ------------------------------------------------------------------------\n[ERROR] Failed to execute goal org.springframework.boot:spring-boot-maven-plugin:2.3.2.RELEASE:run (default-cli) on project h2sample: Application finished with exit code: 1 -&gt; [Help 1]\n[ERROR]\n[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\n[ERROR]\n[ERROR] For more information about the errors and possible solutions, please read the following articles:\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoExecutionException\n\n--------------------------------------------------------------------------------------\n</code></pre>\n"},{"tags":["java","spring-boot","spring-security"],"answers":[{"comments":[{"owner":{"account_id":1338329,"reputation":649,"user_id":1280547,"display_name":"DocJones"},"score":0,"creation_date":1697004026,"post_id":77266891,"comment_id":136223119,"body_markdown":"Thanks for your answer! That did the trick :) Now, the index.html is being served. I will try to skip the jib-step for development purposes as you suggested.","body":"Thanks for your answer! That did the trick :) Now, the index.html is being served. I will try to skip the jib-step for development purposes as you suggested."}],"tags":[],"owner":{"account_id":258438,"reputation":355,"user_id":540624,"display_name":"wmkoch"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1697048260,"creation_date":1696949819,"answer_id":77266891,"question_id":77264388,"body_markdown":"I believe the key here is the paths specified in `.requestMatchers(...)` refer to the HTTP request&#39;s path, not the path on the filesystem.\r\n\r\nYou&#39;ll notice the request shown from the browser is to `/index.html`, which is not specified in the list of ignored request matchers in the `webSecurityCustomizer` bean. [This answer from Andy Wilkinson][1] goes into more detail.\r\n\r\nModifying the bean to:\r\n```java\r\n@Bean\r\nWebSecurityCustomizer webSecurityCustomizer() {\r\n  return (web) -&gt; web.ignoring().requestMatchers(&quot;/index.html&quot;, &quot;/js/**&quot;, &quot;/css/**&quot;, &quot;/images/**&quot;, &quot;/actuator/**&quot;);\r\n}\r\n```\r\nShould fix things.\r\n\r\nYou might also want to take Jib out of the equation while you&#39;re developing locally and just try running the application with `mvn spring-boot:run` or `./gradlew bootRun`. Then, once things are working, try doing the same with the Jib-built Docker image.\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/24920752/540624","title":"Spring boot app containerized with jib not serving static content","body":"<p>I believe the key here is the paths specified in <code>.requestMatchers(...)</code> refer to the HTTP request's path, not the path on the filesystem.</p>\n<p>You'll notice the request shown from the browser is to <code>/index.html</code>, which is not specified in the list of ignored request matchers in the <code>webSecurityCustomizer</code> bean. <a href=\"https://stackoverflow.com/a/24920752/540624\">This answer from Andy Wilkinson</a> goes into more detail.</p>\n<p>Modifying the bean to:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Bean\nWebSecurityCustomizer webSecurityCustomizer() {\n  return (web) -&gt; web.ignoring().requestMatchers(&quot;/index.html&quot;, &quot;/js/**&quot;, &quot;/css/**&quot;, &quot;/images/**&quot;, &quot;/actuator/**&quot;);\n}\n</code></pre>\n<p>Should fix things.</p>\n<p>You might also want to take Jib out of the equation while you're developing locally and just try running the application with <code>mvn spring-boot:run</code> or <code>./gradlew bootRun</code>. Then, once things are working, try doing the same with the Jib-built Docker image.</p>\n"}],"owner":{"account_id":1338329,"reputation":649,"user_id":1280547,"display_name":"DocJones"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":55,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":77266891,"answer_count":1,"score":-1,"last_activity_date":1697048260,"creation_date":1696929173,"question_id":77264388,"body_markdown":"i have a mixed code container containing:\r\n* a java spring boot app (backend)\r\n* a vue.js app (frontend)\r\n\r\nthe container is being build using jib - the &#39;static&#39; content are deployed with a gradle copy job in the /app/resources/static directory. \r\nHere is the Layout:\r\n\r\n[![screenshot of dive][1]][1]\r\n\r\nThe backend is secured with spring security.\r\n\r\nThe frontend is excluded from spring security chain:\r\n\r\n[![bean configuration for frontend][2]][2]\r\n\r\nStarting the container and trying to access the index.html yields in a 401 &quot;Unauthorized&quot;:\r\n\r\n[![result from http-get][3]][3]\r\n\r\nI tried different things already (changing the static-path, modifying the security chain, ...) but i always get the same result. I am a bit lost and kindly request guidance :)\r\n\r\nRegards\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/RwKXv.png\r\n  [2]: https://i.stack.imgur.com/gIDWM.png\r\n  [3]: https://i.stack.imgur.com/ELVKr.png","title":"Spring boot app containerized with jib not serving static content","body":"<p>i have a mixed code container containing:</p>\n<ul>\n<li>a java spring boot app (backend)</li>\n<li>a vue.js app (frontend)</li>\n</ul>\n<p>the container is being build using jib - the 'static' content are deployed with a gradle copy job in the /app/resources/static directory.\nHere is the Layout:</p>\n<p><a href=\"https://i.stack.imgur.com/RwKXv.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/RwKXv.png\" alt=\"screenshot of dive\" /></a></p>\n<p>The backend is secured with spring security.</p>\n<p>The frontend is excluded from spring security chain:</p>\n<p><a href=\"https://i.stack.imgur.com/gIDWM.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/gIDWM.png\" alt=\"bean configuration for frontend\" /></a></p>\n<p>Starting the container and trying to access the index.html yields in a 401 &quot;Unauthorized&quot;:</p>\n<p><a href=\"https://i.stack.imgur.com/ELVKr.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ELVKr.png\" alt=\"result from http-get\" /></a></p>\n<p>I tried different things already (changing the static-path, modifying the security chain, ...) but i always get the same result. I am a bit lost and kindly request guidance :)</p>\n<p>Regards</p>\n"},{"tags":["java","spring","spring-boot","spring-el"],"owner":{"account_id":27416536,"reputation":1,"user_id":20915599,"display_name":"aidanquist"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":88,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697047916,"creation_date":1697047916,"question_id":77275461,"body_markdown":"I am trying to create a custom annotatin that will grab the parameter from a function based on the name provided. \r\nFor example: \r\n\r\n```\r\n@AuthzPreAuthorize(filterType = &quot;CUSTOMER_NUMBER&quot;, filterKey = &quot;#objectId&quot;, filterRole = &quot;role&quot;)\r\n    public ComplexOrder findComplexOrderPre(String objectId){}\r\n```\r\nshould get the objectId parameter and pass it into the annotation before the function runs. The problem I am running into is when I try to parse the expression &quot;#objectId&quot; \r\n`Expression expFilterKeyName = parser.parseExpression(expression);\r\n String objectId = expFilterKeyName.getValue(String.class);`\r\nobjectId is always null. \r\n\r\nHow do I pass objectId into the annotation with SPeL? I know using `args[0]` would work but I need this annotation to work with multiple methods that I don&#39;t know the parameters to. I have also tried doing approaches similar answers in https://stackoverflow.com/questions/53822544/get-dynamic-parameter-referenced-in-annotation-by-using-spring-spel-expression and https://stackoverflow.com/questions/3281978/can-we-use-spring-expressions-spel-in-other-annotations but have not been sucessful.\r\n\r\nMy annotation aspect class:\r\n\r\n```\r\n@Aspect\r\n@Component\r\npublic class AuthzPreAuthorizeAspect {\r\n\r\n    private static final Logger logger = LoggerFactory.getLogger(AuthzPreAuthorize.class);\r\n\r\n    private final SpelExpressionParser parser = new SpelExpressionParser();\r\n\r\n    @Autowired\r\n    private ApplicationContext context;\r\n\r\n    RestTemplate restTemplate = new RestTemplate();\r\n\r\n    @Before(value = &quot;execution(* *(..)) &amp;&amp; @annotation(authzPreAuthorize)&quot;)\r\n    public void authzPreAuthorize(JoinPoint joinPoint, AuthzPreAuthorize authzPreAuthorize) throws Throwable {\r\n        // Get the method arguments from the joinPoint\r\n        Object[] args = joinPoint.getArgs();\r\n\r\n        // Log the SpEL expression for debugging\r\n        String expression = &quot;#objectId&quot;; //for testing\r\n        //String expression = authzPreAuthorize.filterKey();\r\n        logger.info(&quot;SpEL Expression: &quot; + expression);\r\n\r\n        Expression expFilterKeyName = parser.parseExpression(expression);\r\n        String objectId = expFilterKeyName.getValue(String.class);\r\n\r\n        logger.info(&quot;objectId: &quot; + objectId);\r\n        //do stuff with objectId...\r\n    }\r\n```\r\n\r\n\r\nMy service class where I call the annotation from (objectId is &quot;100004545&quot;):\r\n\r\n```\r\n    @AuthzPreAuthorize(filterType = &quot;CUSTOMER_NUMBER&quot;, filterKey = &quot;#objectId&quot;, filterRole = &quot;&#39;com.gfs:order.access&#39;&quot;)\r\n    public ComplexOrder findComplexOrderPre(String objectId){\r\n        return new ComplexOrder(2.7, new Address(&quot;40000 main st&quot;, &quot;NY&quot;, 55555), new Customer(objectId, &quot;unit&quot;, &quot;role&quot;));\r\n    }\r\n```\r\n\r\n\r\nI am expecting to get objectId in my annotation to be &quot;100004545&quot;. I know using `args[0]` would work but I need this annotation to work with multiple methods that I don&#39;t know the parameters to.","title":"Get parameter in custom annotation using SPeL","body":"<p>I am trying to create a custom annotatin that will grab the parameter from a function based on the name provided.\nFor example:</p>\n<pre><code>@AuthzPreAuthorize(filterType = &quot;CUSTOMER_NUMBER&quot;, filterKey = &quot;#objectId&quot;, filterRole = &quot;role&quot;)\n    public ComplexOrder findComplexOrderPre(String objectId){}\n</code></pre>\n<p>should get the objectId parameter and pass it into the annotation before the function runs. The problem I am running into is when I try to parse the expression &quot;#objectId&quot;\n<code>Expression expFilterKeyName = parser.parseExpression(expression); String objectId = expFilterKeyName.getValue(String.class);</code>\nobjectId is always null.</p>\n<p>How do I pass objectId into the annotation with SPeL? I know using <code>args[0]</code> would work but I need this annotation to work with multiple methods that I don't know the parameters to. I have also tried doing approaches similar answers in <a href=\"https://stackoverflow.com/questions/53822544/get-dynamic-parameter-referenced-in-annotation-by-using-spring-spel-expression\">Get dynamic parameter referenced in Annotation by using Spring SpEL Expression</a> and <a href=\"https://stackoverflow.com/questions/3281978/can-we-use-spring-expressions-spel-in-other-annotations\">can we use spring expressions (spel) in other annotations?</a> but have not been sucessful.</p>\n<p>My annotation aspect class:</p>\n<pre><code>@Aspect\n@Component\npublic class AuthzPreAuthorizeAspect {\n\n    private static final Logger logger = LoggerFactory.getLogger(AuthzPreAuthorize.class);\n\n    private final SpelExpressionParser parser = new SpelExpressionParser();\n\n    @Autowired\n    private ApplicationContext context;\n\n    RestTemplate restTemplate = new RestTemplate();\n\n    @Before(value = &quot;execution(* *(..)) &amp;&amp; @annotation(authzPreAuthorize)&quot;)\n    public void authzPreAuthorize(JoinPoint joinPoint, AuthzPreAuthorize authzPreAuthorize) throws Throwable {\n        // Get the method arguments from the joinPoint\n        Object[] args = joinPoint.getArgs();\n\n        // Log the SpEL expression for debugging\n        String expression = &quot;#objectId&quot;; //for testing\n        //String expression = authzPreAuthorize.filterKey();\n        logger.info(&quot;SpEL Expression: &quot; + expression);\n\n        Expression expFilterKeyName = parser.parseExpression(expression);\n        String objectId = expFilterKeyName.getValue(String.class);\n\n        logger.info(&quot;objectId: &quot; + objectId);\n        //do stuff with objectId...\n    }\n</code></pre>\n<p>My service class where I call the annotation from (objectId is &quot;100004545&quot;):</p>\n<pre><code>    @AuthzPreAuthorize(filterType = &quot;CUSTOMER_NUMBER&quot;, filterKey = &quot;#objectId&quot;, filterRole = &quot;'com.gfs:order.access'&quot;)\n    public ComplexOrder findComplexOrderPre(String objectId){\n        return new ComplexOrder(2.7, new Address(&quot;40000 main st&quot;, &quot;NY&quot;, 55555), new Customer(objectId, &quot;unit&quot;, &quot;role&quot;));\n    }\n</code></pre>\n<p>I am expecting to get objectId in my annotation to be &quot;100004545&quot;. I know using <code>args[0]</code> would work but I need this annotation to work with multiple methods that I don't know the parameters to.</p>\n"},{"tags":["java","linux","xml","maven","lucene"],"comments":[{"owner":{"account_id":1592447,"reputation":677,"user_id":1475478,"accept_rate":63,"display_name":"Jasir"},"score":0,"creation_date":1697069485,"post_id":77275450,"comment_id":136234402,"body_markdown":"Try using this instead https://mvnrepository.com/artifact/org.apache.lucene/lucene-analysis-common","body":"Try using this instead <a href=\"https://mvnrepository.com/artifact/org.apache.lucene/lucene-analysis-common\" rel=\"nofollow noreferrer\">mvnrepository.com/artifact/org.apache.lucene/&hellip;</a>"}],"owner":{"account_id":23012815,"reputation":1,"user_id":17135097,"display_name":"jackiechan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697047822,"creation_date":1697047822,"question_id":77275450,"body_markdown":"\r\nthis is the error i receive every single time i try to run the jar file\r\n\r\n\r\n```\r\n.0-SNAPSHOT.jar com.mycompany.app.App\r\nException in thread &quot;main&quot; java.lang.NoClassDefFoundError: org/apache/lucene/analysis/standard/StandardAnalyzer\r\n        at com.mycompany.app.App.main(App.java:14)\r\nCaused by: java.lang.ClassNotFoundException: org.apache.lucene.analysis.standard.StandardAnalyzer\r\n        at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:581)\r\n        at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178)\r\n        at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:527)\r\n        ... 1 more\r\n```\r\n\r\n\r\n\r\nthis is what my dependencies in my pom.xml file look like\r\n\r\n\r\n\r\n```\r\n&lt;dependencies&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;junit&lt;/groupId&gt;\r\n      &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n      &lt;version&gt;4.11&lt;/version&gt;\r\n      &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;        \r\n        &lt;groupId&gt;org.apache.lucene&lt;/groupId&gt;          \r\n        &lt;artifactId&gt;lucene-core&lt;/artifactId&gt;\r\n        &lt;version&gt;9.4.2&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.apache.lucene&lt;/groupId&gt;\r\n        &lt;artifactId&gt;lucene-analyzers&lt;/artifactId&gt;\r\n        &lt;version&gt;3.6.2&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n  &lt;/dependencies&gt;\r\n```\r\n\r\n\r\n\r\n\r\n\r\nthis is what my program looks like\r\n\r\n\r\n```\r\npackage com.mycompany.app;\r\n\r\nimport org.apache.lucene.analysis.Analyzer;\r\nimport org.apache.lucene.analysis.standard.StandardAnalyzer;\r\n\r\n/**\r\n * Hello world!\r\n *\r\n */\r\npublic class App \r\n{\r\n    public static void main( String[] args )\r\n    {\r\n        Analyzer test = new StandardAnalyzer();\r\n        System.out.println( &quot;Hello World!&quot; );\r\n    }\r\n}\r\n```\r\n\r\n\r\n\r\ni have absolutely no idea what is going on.\r\n\r\nive tried different dependencies like this one below but it still give the\r\n\r\n\r\n```\r\n&lt;dependency&gt;\r\n      &lt;groupId&gt;org.apache.lucene&lt;/groupId&gt;\r\n      &lt;artifactId&gt;lucene-analyzers-common&lt;/artifactId&gt;\r\n      &lt;version&gt;8.10.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n```\r\n","title":"maven not loading analyzer dependency from Lucene, no matter what i do it will not load the dependency","body":"<p>this is the error i receive every single time i try to run the jar file</p>\n<pre><code>.0-SNAPSHOT.jar com.mycompany.app.App\nException in thread &quot;main&quot; java.lang.NoClassDefFoundError: org/apache/lucene/analysis/standard/StandardAnalyzer\n        at com.mycompany.app.App.main(App.java:14)\nCaused by: java.lang.ClassNotFoundException: org.apache.lucene.analysis.standard.StandardAnalyzer\n        at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:581)\n        at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178)\n        at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:527)\n        ... 1 more\n</code></pre>\n<p>this is what my dependencies in my pom.xml file look like</p>\n<pre><code>&lt;dependencies&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;junit&lt;/groupId&gt;\n      &lt;artifactId&gt;junit&lt;/artifactId&gt;\n      &lt;version&gt;4.11&lt;/version&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;        \n        &lt;groupId&gt;org.apache.lucene&lt;/groupId&gt;          \n        &lt;artifactId&gt;lucene-core&lt;/artifactId&gt;\n        &lt;version&gt;9.4.2&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.lucene&lt;/groupId&gt;\n        &lt;artifactId&gt;lucene-analyzers&lt;/artifactId&gt;\n        &lt;version&gt;3.6.2&lt;/version&gt;\n    &lt;/dependency&gt;\n  &lt;/dependencies&gt;\n</code></pre>\n<p>this is what my program looks like</p>\n<pre><code>package com.mycompany.app;\n\nimport org.apache.lucene.analysis.Analyzer;\nimport org.apache.lucene.analysis.standard.StandardAnalyzer;\n\n/**\n * Hello world!\n *\n */\npublic class App \n{\n    public static void main( String[] args )\n    {\n        Analyzer test = new StandardAnalyzer();\n        System.out.println( &quot;Hello World!&quot; );\n    }\n}\n</code></pre>\n<p>i have absolutely no idea what is going on.</p>\n<p>ive tried different dependencies like this one below but it still give the</p>\n<pre><code>&lt;dependency&gt;\n      &lt;groupId&gt;org.apache.lucene&lt;/groupId&gt;\n      &lt;artifactId&gt;lucene-analyzers-common&lt;/artifactId&gt;\n      &lt;version&gt;8.10.0&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n"},{"tags":["java","hibernate","spring-boot","maven"],"comments":[{"owner":{"account_id":4668137,"reputation":6228,"user_id":9681755,"display_name":"Dirk Deyne"},"score":0,"creation_date":1588405094,"post_id":61555717,"comment_id":108886001,"body_markdown":"The message option? `@Email(message = &quot;Invalid email&quot;) @NotEmpty(message = &quot;Please enter email&quot;) private String email;` and  `violation.getMessage()`","body":"The message option? <code>@Email(message = &quot;Invalid email&quot;) @NotEmpty(message = &quot;Please enter email&quot;) private String email;</code> and  <code>violation.getMessage()</code>"},{"owner":{"account_id":18173824,"reputation":1226,"user_id":13222971,"display_name":"Michael Kreutz"},"score":0,"creation_date":1588405987,"post_id":61555717,"comment_id":108886261,"body_markdown":"I wonder how you get hibernate `ConstraintViolationException`. Can you provide a minimal example of your configuration, e.g. `pom.xml` or `build.gradle`?","body":"I wonder how you get hibernate <code>ConstraintViolationException</code>. Can you provide a minimal example of your configuration, e.g. <code>pom.xml</code> or <code>build.gradle</code>?"},{"owner":{"account_id":16173363,"reputation":97,"user_id":11676639,"display_name":"weirdVariable"},"score":0,"creation_date":1588406250,"post_id":61555717,"comment_id":108886349,"body_markdown":"@DirkDeyne I annotate most of my Class fields with @Column(). I did not find something similar to &quot;message&quot; there :/ Is it better to change the Annotations to get this done?","body":"@DirkDeyne I annotate most of my Class fields with @Column(). I did not find something similar to &quot;message&quot; there :/ Is it better to change the Annotations to get this done?"},{"owner":{"account_id":4668137,"reputation":6228,"user_id":9681755,"display_name":"Dirk Deyne"},"score":2,"creation_date":1588406715,"post_id":61555717,"comment_id":108886508,"body_markdown":"this may help [hibernate-notnull-vs-nullable](https://www.baeldung.com/hibernate-notnull-vs-nullable) ?","body":"this may help <a href=\"https://www.baeldung.com/hibernate-notnull-vs-nullable\" rel=\"nofollow noreferrer\">hibernate-notnull-vs-nullable</a> ?"},{"owner":{"account_id":16173363,"reputation":97,"user_id":11676639,"display_name":"weirdVariable"},"score":0,"creation_date":1588407112,"post_id":61555717,"comment_id":108886618,"body_markdown":"@MichaelKreutz I added the dependencies in the EDIT to my question. I think these are the relevant ones to my question.","body":"@MichaelKreutz I added the dependencies in the EDIT to my question. I think these are the relevant ones to my question."},{"owner":{"account_id":18173824,"reputation":1226,"user_id":13222971,"display_name":"Michael Kreutz"},"score":0,"creation_date":1588407355,"post_id":61555717,"comment_id":108886678,"body_markdown":"Which Spring Boot version are you using? Maye you could share the whole `pom.xml`? Setting up a small project, I get `javax.validation.ConstraintViolation`s...","body":"Which Spring Boot version are you using? Maye you could share the whole <code>pom.xml</code>? Setting up a small project, I get <code>javax.validation.ConstraintViolation</code>s..."},{"owner":{"account_id":16173363,"reputation":97,"user_id":11676639,"display_name":"weirdVariable"},"score":0,"creation_date":1588409284,"post_id":61555717,"comment_id":108887286,"body_markdown":"@DirkDeyne So I seem to be able to remove most of my constraints from the \\@Column Annotation in order to label them. But how do I do it when I want a class field to be unique? With \\@Table(\\@UniqueConstraint(...)) ? Seems a bit complicated :D","body":"@DirkDeyne So I seem to be able to remove most of my constraints from the \\@Column Annotation in order to label them. But how do I do it when I want a class field to be unique? With \\@Table(\\@UniqueConstraint(...)) ? Seems a bit complicated :D"},{"owner":{"account_id":18173824,"reputation":1226,"user_id":13222971,"display_name":"Michael Kreutz"},"score":0,"creation_date":1588409689,"post_id":61555717,"comment_id":108887402,"body_markdown":"Refactoring your constraints as suggested by @DirkDeyne will solve your problem","body":"Refactoring your constraints as suggested by @DirkDeyne will solve your problem"},{"owner":{"account_id":18173824,"reputation":1226,"user_id":13222971,"display_name":"Michael Kreutz"},"score":2,"creation_date":1588410992,"post_id":61555717,"comment_id":108887812,"body_markdown":"@weirdVariable You cannot control some constraints on the data before accessing the database (e.g. @NotNull) but you cannot find out if unique key constraint will be violated before accessing the database. So do not expect to get a `javax.validation.ConstraintViolation` for all of your constraints.","body":"@weirdVariable You cannot control some constraints on the data before accessing the database (e.g. @NotNull) but you cannot find out if unique key constraint will be violated before accessing the database. So do not expect to get a <code>javax.validation.ConstraintViolation</code> for all of your constraints."}],"answers":[{"comments":[{"owner":{"account_id":16173363,"reputation":97,"user_id":11676639,"display_name":"weirdVariable"},"score":0,"creation_date":1588497483,"post_id":61560286,"comment_id":108914226,"body_markdown":"Thanks! I did what you recommended, used matching ```javax.validation.constraints``` annotations and am validating them with the Validator class. However, I decided it&#39;s best to check unique constraints and foreign key constraints by myself (before saving the entity to the database) because everything else is just too much hassle and might also cause security risks.","body":"Thanks! I did what you recommended, used matching <code>javax.validation.constraints</code> annotations and am validating them with the Validator class. However, I decided it&#39;s best to check unique constraints and foreign key constraints by myself (before saving the entity to the database) because everything else is just too much hassle and might also cause security risks."},{"owner":{"account_id":16273889,"reputation":2910,"user_id":11751648,"display_name":"areus"},"score":1,"creation_date":1588510842,"post_id":61560286,"comment_id":108918965,"body_markdown":"You can check foreign keys, using `entityManager.find` and checking for `null`, or using `entityManger.getReference` and catching `EntityNotFoundException`, but in the case of unique keys, you surely can do a query before saving your entity, but that will not always work if there is concurrency.","body":"You can check foreign keys, using <code>entityManager.find</code> and checking for <code>null</code>, or using <code>entityManger.getReference</code> and catching <code>EntityNotFoundException</code>, but in the case of unique keys, you surely can do a query before saving your entity, but that will not always work if there is concurrency."}],"tags":[],"owner":{"account_id":16273889,"reputation":2910,"user_id":11751648,"display_name":"areus"},"comment_count":2,"down_vote_count":1,"up_vote_count":4,"is_accepted":true,"score":3,"last_activity_date":1588427845,"creation_date":1588426714,"answer_id":61560286,"question_id":61555717,"body_markdown":"You are mixing things.\r\n\r\n**Bean Validation**\r\n\r\nThe `Bean Validation` API lets you validate your beans, with the `@NotNull`, `@Size`, and all the other annotations of the `javax.validation.constraints` package.\r\n\r\nYou can use a `Validator` to validate your beans and get a `javax.validation.ConstraintViolationException` with all the `ConstraintViolation` with the info of the property.\r\n\r\nJPA/Hibernate supports the `Bean Validation` API. If the `&lt;validation-mode&gt;` element in `persistence.xml` is set to `AUTO` (or it&#39;s not set, as `AUTO` is the default value), JPA will validate entities prior to saving them with a `Validator`, and throw a `javax.validation.ConstraintViolationException` if there are any `ConstraintViolation`s, only if an implementation of `Bean Validation` is present on the environment. If you set `&lt;validation-mode&gt;` to `CALLBACK`, JPA will always validate the entities and will throw an error during deployment if there is not a `Bean Validation` implementation on the environment.\r\n\r\n**SQL Constraints**\r\n\r\nJPA annotations, like `@Column` provide information to generate your database DDL. Using `@Column(nullable = false, length = 10)` will generates a database column with a maximum length of 10 and a `NOT NULL` SQL constraint. But that&#39;s it. Hibernate don&#39;t check this before sending the statement to the database. \r\n\r\nIf a `null` value is provided, the database will report an SQL Error, that will be mapped to a `SQLException` by the JDBC driver. The error message in the `SQLException` will be different for each DBMS, but will contain the constraint name. Hibernate wraps this exceptions in a `org.hibernate.exception.ConstraintViolationException` that extracts the constraint name from the SQLException message. \r\n\r\n**Conclusion**\r\n\r\n - Set `&lt;validation-mode&gt;` to `CALLBACK` on your `persistence.xml` to make sure validation is always performed and invalid values don&#39;t hit the database\r\n - Use `javax.validation.constraints` annotations to mach the SQL column constraints, for example, a not null column with a max size of 50: \r\n\r\n   @NotNull @Size(max = 50)\r\n   @Column(name = &quot;NAME&quot;, nullable = false, length = 50)\r\n\r\n - Provide meaningful names for unique constraints and foreign key constraints, as this will be the only info you can get to identify what constraint is violated.\r\n","title":"Hibernate - Is there any way to get the name of the column for which a Constraint was violated?","body":"<p>You are mixing things.</p>\n\n<p><strong>Bean Validation</strong></p>\n\n<p>The <code>Bean Validation</code> API lets you validate your beans, with the <code>@NotNull</code>, <code>@Size</code>, and all the other annotations of the <code>javax.validation.constraints</code> package.</p>\n\n<p>You can use a <code>Validator</code> to validate your beans and get a <code>javax.validation.ConstraintViolationException</code> with all the <code>ConstraintViolation</code> with the info of the property.</p>\n\n<p>JPA/Hibernate supports the <code>Bean Validation</code> API. If the <code>&lt;validation-mode&gt;</code> element in <code>persistence.xml</code> is set to <code>AUTO</code> (or it's not set, as <code>AUTO</code> is the default value), JPA will validate entities prior to saving them with a <code>Validator</code>, and throw a <code>javax.validation.ConstraintViolationException</code> if there are any <code>ConstraintViolation</code>s, only if an implementation of <code>Bean Validation</code> is present on the environment. If you set <code>&lt;validation-mode&gt;</code> to <code>CALLBACK</code>, JPA will always validate the entities and will throw an error during deployment if there is not a <code>Bean Validation</code> implementation on the environment.</p>\n\n<p><strong>SQL Constraints</strong></p>\n\n<p>JPA annotations, like <code>@Column</code> provide information to generate your database DDL. Using <code>@Column(nullable = false, length = 10)</code> will generates a database column with a maximum length of 10 and a <code>NOT NULL</code> SQL constraint. But that's it. Hibernate don't check this before sending the statement to the database. </p>\n\n<p>If a <code>null</code> value is provided, the database will report an SQL Error, that will be mapped to a <code>SQLException</code> by the JDBC driver. The error message in the <code>SQLException</code> will be different for each DBMS, but will contain the constraint name. Hibernate wraps this exceptions in a <code>org.hibernate.exception.ConstraintViolationException</code> that extracts the constraint name from the SQLException message. </p>\n\n<p><strong>Conclusion</strong></p>\n\n<ul>\n<li>Set <code>&lt;validation-mode&gt;</code> to <code>CALLBACK</code> on your <code>persistence.xml</code> to make sure validation is always performed and invalid values don't hit the database</li>\n<li><p>Use <code>javax.validation.constraints</code> annotations to mach the SQL column constraints, for example, a not null column with a max size of 50: </p>\n\n<p>@NotNull @Size(max = 50)\n@Column(name = \"NAME\", nullable = false, length = 50)</p></li>\n<li><p>Provide meaningful names for unique constraints and foreign key constraints, as this will be the only info you can get to identify what constraint is violated.</p></li>\n</ul>\n"},{"comments":[{"owner":{"account_id":7856677,"reputation":1967,"user_id":5938276,"accept_rate":38,"display_name":"Al Grant"},"score":0,"creation_date":1697003206,"post_id":61560772,"comment_id":136223015,"body_markdown":"Can you post ErrorDto class? What is Project and Value?","body":"Can you post ErrorDto class? What is Project and Value?"}],"tags":[],"owner":{"account_id":48638,"reputation":5943,"user_id":144578,"accept_rate":79,"display_name":"Sebastiaan van den Broek"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1588428926,"creation_date":1588428926,"answer_id":61560772,"question_id":61555717,"body_markdown":"The [answer][1] by Areus explains to not confuse Hibernate validator and the database constraints, but building on that, it&#39;s not always easy to fetch the affected column name from the database exception that you get. For instance when you have a unique constraint on the database column it&#39;s hard to properly return this exception to the user.\r\n\r\nWhat I did was have a class that handles my REST call exception handling and finds that specific exception message. I found no other way to do this yet in Spring/Hibernate.\r\n\r\n    @ControllerAdvice\r\n    @RequestMapping(produces = APPLICATION_JSON_VALUE)\r\n    public class RestResponseEntityExceptionHandler {\r\n    \r\n        @ExceptionHandler(DataIntegrityViolationException.class)\r\n        public ResponseEntity&lt;ErrorDTO&gt; dataIntegrityViolationException(final DataIntegrityViolationException e) {\r\n            String mostSpecificCauseMessage = e.getMostSpecificCause().getMessage();\r\n            if (e.getCause() instanceof ConstraintViolationException) {\r\n                String name = ((ConstraintViolationException) e.getCause()).getConstraintName();\r\n                log.debug(&quot;Encountered ConstraintViolationException, details: &quot; + mostSpecificCauseMessage);\r\n                return determineError(mostSpecificCauseMessage, name);\r\n            } else {\r\n                log.debug(&quot;Encountered DataIntegrityViolation exception, details: &quot; + mostSpecificCauseMessage);\r\n                ErrorDTO errorDTO =\r\n                    new ErrorDTO(&quot;BAD_REQUEST_ERROR&quot;, &quot;DataIntegrityViolation exception. &quot; + mostSpecificCauseMessage);\r\n                return new ResponseEntity&lt;&gt;(errorDTO, HttpStatus.BAD_REQUEST);\r\n            }\r\n        }\r\n    \r\n        //this catches the manually invoked entityManager.flush() exceptions\r\n        @ExceptionHandler(ConstraintViolationException.class)\r\n        public ResponseEntity&lt;ErrorDTO&gt; constraintViolationException(final ConstraintViolationException e) {\r\n            String message = e.getMessage();\r\n            String name = e.getConstraintName();\r\n            log.debug(&quot;Encountered ConstraintViolationException, details: {}&quot;, message);\r\n            return determineError(message, name);\r\n        }\r\n    \r\n        private ResponseEntity&lt;ErrorDTO&gt; determineError(String message, String name) {\r\n            Map&lt;String, String&gt; errors = new HashMap&lt;&gt;();\r\n            switch (name) {\r\n                case Project.UNIQUE_CONSTRAINT_NAME:\r\n                    errors.put(&quot;name&quot;, ALREADY_EXISTS);\r\n                    break;\r\n                case Value.UNIQUE_CONSTRAINT_VALUE:\r\n                    errors.put(&quot;value&quot;, ALREADY_EXISTS);\r\n                    break;\r\n                //and so on\r\n                default:\r\n                    break;\r\n            }\r\n    \r\n            if (!errors.isEmpty()) {\r\n                ErrorDTO error = new ErrorDTO(VALIDATION_ERROR, VALIDATION_ERROR_MESSAGE, errors);\r\n                return new ResponseEntity&lt;&gt;(error, HttpStatus.BAD_REQUEST);\r\n            } else {\r\n                ErrorDTO errorDTO = new ErrorDTO(&quot;CONFLICT_ERROR&quot;, message);\r\n                return new ResponseEntity&lt;&gt;(errorDTO, HttpStatus.CONFLICT);\r\n            }\r\n        }\r\n    }\r\n\r\nYou also need to define the constraint name in your Model entity/database, such as:\r\n\r\n    @Table(uniqueConstraints = {\r\n        @UniqueConstraint(name = UNIQUE_CONSTRAINT_VALUE, columnNames = {&quot;value&quot;})})\r\n\r\n    public static final String UNIQUE_CONSTRAINT_VALUE = &quot;unique_constraint_property_value&quot;;\r\n\r\nAnd in the database definition as well of course.\r\n\r\n  [1]: https://stackoverflow.com/a/61560286/144578\r\n","title":"Hibernate - Is there any way to get the name of the column for which a Constraint was violated?","body":"<p>The <a href=\"https://stackoverflow.com/a/61560286/144578\">answer</a> by Areus explains to not confuse Hibernate validator and the database constraints, but building on that, it's not always easy to fetch the affected column name from the database exception that you get. For instance when you have a unique constraint on the database column it's hard to properly return this exception to the user.</p>\n\n<p>What I did was have a class that handles my REST call exception handling and finds that specific exception message. I found no other way to do this yet in Spring/Hibernate.</p>\n\n<pre><code>@ControllerAdvice\n@RequestMapping(produces = APPLICATION_JSON_VALUE)\npublic class RestResponseEntityExceptionHandler {\n\n    @ExceptionHandler(DataIntegrityViolationException.class)\n    public ResponseEntity&lt;ErrorDTO&gt; dataIntegrityViolationException(final DataIntegrityViolationException e) {\n        String mostSpecificCauseMessage = e.getMostSpecificCause().getMessage();\n        if (e.getCause() instanceof ConstraintViolationException) {\n            String name = ((ConstraintViolationException) e.getCause()).getConstraintName();\n            log.debug(\"Encountered ConstraintViolationException, details: \" + mostSpecificCauseMessage);\n            return determineError(mostSpecificCauseMessage, name);\n        } else {\n            log.debug(\"Encountered DataIntegrityViolation exception, details: \" + mostSpecificCauseMessage);\n            ErrorDTO errorDTO =\n                new ErrorDTO(\"BAD_REQUEST_ERROR\", \"DataIntegrityViolation exception. \" + mostSpecificCauseMessage);\n            return new ResponseEntity&lt;&gt;(errorDTO, HttpStatus.BAD_REQUEST);\n        }\n    }\n\n    //this catches the manually invoked entityManager.flush() exceptions\n    @ExceptionHandler(ConstraintViolationException.class)\n    public ResponseEntity&lt;ErrorDTO&gt; constraintViolationException(final ConstraintViolationException e) {\n        String message = e.getMessage();\n        String name = e.getConstraintName();\n        log.debug(\"Encountered ConstraintViolationException, details: {}\", message);\n        return determineError(message, name);\n    }\n\n    private ResponseEntity&lt;ErrorDTO&gt; determineError(String message, String name) {\n        Map&lt;String, String&gt; errors = new HashMap&lt;&gt;();\n        switch (name) {\n            case Project.UNIQUE_CONSTRAINT_NAME:\n                errors.put(\"name\", ALREADY_EXISTS);\n                break;\n            case Value.UNIQUE_CONSTRAINT_VALUE:\n                errors.put(\"value\", ALREADY_EXISTS);\n                break;\n            //and so on\n            default:\n                break;\n        }\n\n        if (!errors.isEmpty()) {\n            ErrorDTO error = new ErrorDTO(VALIDATION_ERROR, VALIDATION_ERROR_MESSAGE, errors);\n            return new ResponseEntity&lt;&gt;(error, HttpStatus.BAD_REQUEST);\n        } else {\n            ErrorDTO errorDTO = new ErrorDTO(\"CONFLICT_ERROR\", message);\n            return new ResponseEntity&lt;&gt;(errorDTO, HttpStatus.CONFLICT);\n        }\n    }\n}\n</code></pre>\n\n<p>You also need to define the constraint name in your Model entity/database, such as:</p>\n\n<pre><code>@Table(uniqueConstraints = {\n    @UniqueConstraint(name = UNIQUE_CONSTRAINT_VALUE, columnNames = {\"value\"})})\n\npublic static final String UNIQUE_CONSTRAINT_VALUE = \"unique_constraint_property_value\";\n</code></pre>\n\n<p>And in the database definition as well of course.</p>\n"},{"tags":[],"owner":{"account_id":9150447,"reputation":1,"user_id":22724599,"display_name":"Salvador Mata"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697047379,"creation_date":1697047303,"answer_id":77275408,"question_id":61555717,"body_markdown":"First of all, I apologize for my terrible level of English (I used google translator as best I can)\r\n\r\nI imagine this is not the best way to solve this, but it worked for me:\r\n\r\nGiven that in the database, in the design of the table, we can see the correspondence between the name of the index and that of the field, I make a Map where I store them for later use\r\n\r\n[enter image description here][1]\r\n\r\n\r\n    public class ApiUniqueViolationException {\r\n\r\n    private String fieldname;\r\n\r\n    private String value;\r\n\r\n    public ApiUniqueViolationException(Exception ex) {\r\n        initForeigns(ex);\r\n    }\r\n\r\n    private void initForeigns(Exception ex){\r\n        Map&lt;String, String&gt; foreigns = new HashMap&lt;&gt;();\r\n        foreigns.put(&quot;UK_ob8kqyqqgmefl0aco34akdtpe&quot;, &quot;email&quot;);\r\n        if ( ex.getMessage().contains(&quot;Duplicate entry&quot;) ) {\r\n            Pattern pattern = Pattern.compile(&quot;Duplicate entry &#39;(.*?)&#39; for key&quot;);\r\n            String message = ex.getMessage();\r\n            Matcher matcher = pattern.matcher(message);\r\n            if (matcher.find()) {\r\n                String match = matcher.group(1);\r\n                String key = ((ConstraintViolationException)ex.getCause()).getConstraintName();\r\n                this.setValue(match);\r\n                this.setFieldname(foreigns.get(key));\r\n            }\r\n        }\r\n    }\r\n\r\n    public String getFieldname() {\r\n        return fieldname;\r\n    }\r\n\r\n    public void setFieldname(String fieldname) {\r\n        this.fieldname = fieldname;\r\n    }\r\n\r\n    public String getValue() {\r\n        return value;\r\n    }\r\n\r\n    public void setValue(String value) {\r\n        this.value = value;\r\n    }\r\n\r\nResponse from swagger\r\n[enter image description here][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/GeI1F.png\r\n  [2]: https://i.stack.imgur.com/iNt1w.png","title":"Hibernate - Is there any way to get the name of the column for which a Constraint was violated?","body":"<p>First of all, I apologize for my terrible level of English (I used google translator as best I can)</p>\n<p>I imagine this is not the best way to solve this, but it worked for me:</p>\n<p>Given that in the database, in the design of the table, we can see the correspondence between the name of the index and that of the field, I make a Map where I store them for later use</p>\n<p><a href=\"https://i.stack.imgur.com/GeI1F.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<pre><code>public class ApiUniqueViolationException {\n\nprivate String fieldname;\n\nprivate String value;\n\npublic ApiUniqueViolationException(Exception ex) {\n    initForeigns(ex);\n}\n\nprivate void initForeigns(Exception ex){\n    Map&lt;String, String&gt; foreigns = new HashMap&lt;&gt;();\n    foreigns.put(&quot;UK_ob8kqyqqgmefl0aco34akdtpe&quot;, &quot;email&quot;);\n    if ( ex.getMessage().contains(&quot;Duplicate entry&quot;) ) {\n        Pattern pattern = Pattern.compile(&quot;Duplicate entry '(.*?)' for key&quot;);\n        String message = ex.getMessage();\n        Matcher matcher = pattern.matcher(message);\n        if (matcher.find()) {\n            String match = matcher.group(1);\n            String key = ((ConstraintViolationException)ex.getCause()).getConstraintName();\n            this.setValue(match);\n            this.setFieldname(foreigns.get(key));\n        }\n    }\n}\n\npublic String getFieldname() {\n    return fieldname;\n}\n\npublic void setFieldname(String fieldname) {\n    this.fieldname = fieldname;\n}\n\npublic String getValue() {\n    return value;\n}\n\npublic void setValue(String value) {\n    this.value = value;\n}\n</code></pre>\n<p>Response from swagger\n<a href=\"https://i.stack.imgur.com/iNt1w.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n"}],"owner":{"account_id":16173363,"reputation":97,"user_id":11676639,"display_name":"weirdVariable"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2518,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":61560286,"answer_count":3,"score":5,"last_activity_date":1697047379,"creation_date":1588403601,"question_id":61555717,"body_markdown":"I&#39;m using Hibernate to save Entities in a Database. \r\n\r\nOn the Entity fields (columns), I have defined a lot of Constraints (such as NotNull or length=10).\r\nWhen a Constraint is violated, a ConstraintViolationException is thrown. I want to somehow be able to track for which column a constraint was violated.\r\nThe ConstraintViolationException in the Java-Library &quot;javax.validation.ConstraintViolation&quot; has a method &quot;getConstraintViolations()&quot; so I can just do\r\n\r\n&gt; ```constraintViolationException.getConstraintViolations().getPropertyPath() ```\r\n\r\nwhich should give me the column name.\r\n\r\nHowever, the ConstraintViolationException thrown by Hibernate does not have a method &quot;getConstraintViolations()&quot; and there doesn&#39;t seem to be anything like it.\r\nMy only option now would be to analyze the String returned by calling &quot;getConstraintName()&quot;:\r\n \r\n&gt; ``` constraintViolationException.getConstraintName() ```\r\n\r\nBut this seems kind of messy and not secure.\r\n\r\nDoes anyone have an idea how I can get the column name?\r\n\r\n\r\nEDIT:\r\n\r\nRelevant dependencies inside the pom.xml:\r\n\r\n```\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.h2database&lt;/groupId&gt;\r\n            &lt;artifactId&gt;h2&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n```","title":"Hibernate - Is there any way to get the name of the column for which a Constraint was violated?","body":"<p>I'm using Hibernate to save Entities in a Database. </p>\n\n<p>On the Entity fields (columns), I have defined a lot of Constraints (such as NotNull or length=10).\nWhen a Constraint is violated, a ConstraintViolationException is thrown. I want to somehow be able to track for which column a constraint was violated.\nThe ConstraintViolationException in the Java-Library \"javax.validation.ConstraintViolation\" has a method \"getConstraintViolations()\" so I can just do</p>\n\n<blockquote>\n  <p><code>constraintViolationException.getConstraintViolations().getPropertyPath()</code></p>\n</blockquote>\n\n<p>which should give me the column name.</p>\n\n<p>However, the ConstraintViolationException thrown by Hibernate does not have a method \"getConstraintViolations()\" and there doesn't seem to be anything like it.\nMy only option now would be to analyze the String returned by calling \"getConstraintName()\":</p>\n\n<blockquote>\n  <p><code>constraintViolationException.getConstraintName()</code></p>\n</blockquote>\n\n<p>But this seems kind of messy and not secure.</p>\n\n<p>Does anyone have an idea how I can get the column name?</p>\n\n<p>EDIT:</p>\n\n<p>Relevant dependencies inside the pom.xml:</p>\n\n<pre><code>        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.h2database&lt;/groupId&gt;\n            &lt;artifactId&gt;h2&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n</code></pre>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":6921189,"reputation":1490,"user_id":5313817,"display_name":"Rishal"},"score":0,"creation_date":1659083909,"post_id":73163599,"comment_id":129215828,"body_markdown":"You have disable the web server using properties means you have used `spring.main.web-application-type=NONE` and your batch application wont start if you add this property?","body":"You have disable the web server using properties means you have used <code>spring.main.web-application-type=NONE</code> and your batch application wont start if you add this property?"},{"owner":{"account_id":3683051,"reputation":6733,"user_id":3067542,"accept_rate":85,"display_name":"Vincent F"},"score":0,"creation_date":1659086042,"post_id":73163599,"comment_id":129216535,"body_markdown":"yes, it doesn&#39;t start, because the batch still needs to have webClient properly configured (to call remote APIs), but ClientRegistrationRepository is missing and batch fails to start","body":"yes, it doesn&#39;t start, because the batch still needs to have webClient properly configured (to call remote APIs), but ClientRegistrationRepository is missing and batch fails to start"},{"owner":{"account_id":6921189,"reputation":1490,"user_id":5313817,"display_name":"Rishal"},"score":1,"creation_date":1659086436,"post_id":73163599,"comment_id":129216694,"body_markdown":"Including the `spring.main.web-application-type=NONE` doesnt exclude the web libraries, can you share the logs by setting the log level to trace.","body":"Including the <code>spring.main.web-application-type=NONE</code> doesnt exclude the web libraries, can you share the logs by setting the log level to trace."},{"owner":{"account_id":3683051,"reputation":6733,"user_id":3067542,"accept_rate":85,"display_name":"Vincent F"},"score":0,"creation_date":1659087585,"post_id":73163599,"comment_id":129217109,"body_markdown":"I have updated the question, showing why OAuth2ClientAutoConfiguration doesn&#39;t get enabled when the application type is NONE : the binary is here, but it&#39;s explicitly not enabled because of that.","body":"I have updated the question, showing why OAuth2ClientAutoConfiguration doesn&#39;t get enabled when the application type is NONE : the binary is here, but it&#39;s explicitly not enabled because of that."}],"answers":[{"comments":[{"owner":{"account_id":3683051,"reputation":6733,"user_id":3067542,"accept_rate":85,"display_name":"Vincent F"},"score":1,"creation_date":1659085973,"post_id":73163776,"comment_id":129216501,"body_markdown":"but instead of changing the server.port, the more logical thing would be to not run the server at all, which is what I am trying to do","body":"but instead of changing the server.port, the more logical thing would be to not run the server at all, which is what I am trying to do"},{"owner":{"account_id":166382,"reputation":2080,"user_id":390462,"display_name":"BendaThierry.com"},"score":0,"creation_date":1659087454,"post_id":73163776,"comment_id":129217061,"body_markdown":"Using `spring.main.web-application-type=none` could do the job then.","body":"Using <code>spring.main.web-application-type=none</code> could do the job then."},{"owner":{"account_id":166382,"reputation":2080,"user_id":390462,"display_name":"BendaThierry.com"},"score":0,"creation_date":1659087790,"post_id":73163776,"comment_id":129217160,"body_markdown":"Just see your edit now, did you try to create a custom annotation without these conditionnal statment and call your class with it ?","body":"Just see your edit now, did you try to create a custom annotation without these conditionnal statment and call your class with it ?"},{"owner":{"account_id":3683051,"reputation":6733,"user_id":3067542,"accept_rate":85,"display_name":"Vincent F"},"score":2,"creation_date":1659087915,"post_id":73163776,"comment_id":129217211,"body_markdown":"since the actual Configuration classes are not public, I would also need to copy paste them... I can try that, but I may end up copy pasting more things, and it definitely looks like a hack, not very &quot;SpringBoot-ish&quot;","body":"since the actual Configuration classes are not public, I would also need to copy paste them... I can try that, but I may end up copy pasting more things, and it definitely looks like a hack, not very &quot;SpringBoot-ish&quot;"},{"owner":{"account_id":166382,"reputation":2080,"user_id":390462,"display_name":"BendaThierry.com"},"score":0,"creation_date":1659088050,"post_id":73163776,"comment_id":129217267,"body_markdown":"The web security layer is required for oauth anyway, so servlet dependencies are mandatory. It seems to be a wrong way to go with custom annotation. If I were you, I will go for a working way now (the first way I suggested), and seek a better solution in the background.","body":"The web security layer is required for oauth anyway, so servlet dependencies are mandatory. It seems to be a wrong way to go with custom annotation. If I were you, I will go for a working way now (the first way I suggested), and seek a better solution in the background."},{"owner":{"account_id":3683051,"reputation":6733,"user_id":3067542,"accept_rate":85,"display_name":"Vincent F"},"score":1,"creation_date":1659088489,"post_id":73163776,"comment_id":129217440,"body_markdown":"that&#39;s what I am doing ;-) I am just surprised to be the first one having the issue ;-)","body":"that&#39;s what I am doing ;-) I am just surprised to be the first one having the issue ;-)"},{"owner":{"account_id":166382,"reputation":2080,"user_id":390462,"display_name":"BendaThierry.com"},"score":0,"creation_date":1659088505,"post_id":73163776,"comment_id":129217446,"body_markdown":"I&#39;ve just found something interesting in service layer with oauth. Answer updated with it.","body":"I&#39;ve just found something interesting in service layer with oauth. Answer updated with it."},{"owner":{"account_id":166382,"reputation":2080,"user_id":390462,"display_name":"BendaThierry.com"},"score":0,"creation_date":1659088863,"post_id":73163776,"comment_id":129217571,"body_markdown":"Okay, maybe you are the first one to talk about it here, maybe not ;) It didn&#39;t use OAuth to run any batch applications without the web layer, so it is new here ;) But I have worked on many projects where batch were done with some schedulers impl with or without cron task to do them with hundreds of To of datas. Hope you&#39;ll find a way.","body":"Okay, maybe you are the first one to talk about it here, maybe not ;) It didn&#39;t use OAuth to run any batch applications without the web layer, so it is new here ;) But I have worked on many projects where batch were done with some schedulers impl with or without cron task to do them with hundreds of To of datas. Hope you&#39;ll find a way."}],"tags":[],"owner":{"account_id":166382,"reputation":2080,"user_id":390462,"display_name":"BendaThierry.com"},"comment_count":8,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659088379,"creation_date":1659083468,"answer_id":73163776,"question_id":73163599,"body_markdown":"With Spring Boot, you can customize the port of your webapplication by setting the property `server.port=8095` in your `application.properties` or any customized env properties file ie `application-dev.properties`, `application-prod.properties` and so on.\r\n\r\nUsing these property, your webapplication will listen on the port of your choice and will not conflict anymore with other stuff. And if you need multiple instances running in parallel, run them with a range of ports could be great (@see [https://stackoverflow.com/a/56884100/390462][1]. You can add listeners too (@see [https://stackoverflow.com/a/51876661/390462][2]). Or at least multiple instances of your batch application with differents `server.port` values.\r\n\r\nIf you want to disable the webserver, the best bet is to use the property : `spring.main.web-application-type=none`.\r\n\r\nI&#39;ve just found something interesting using `AuthorizedClientServiceOAuth2AuthorizedClientManager` in your service layer (@see [https://stackoverflow.com/a/60173451/390462][3]\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/56884100/390462\r\n  [2]: https://stackoverflow.com/a/51876661/390462\r\n  [3]: https://stackoverflow.com/a/60173451/390462","title":"auto-configure ClientRegistrationRepository in a non-web Spring Boot application","body":"<p>With Spring Boot, you can customize the port of your webapplication by setting the property <code>server.port=8095</code> in your <code>application.properties</code> or any customized env properties file ie <code>application-dev.properties</code>, <code>application-prod.properties</code> and so on.</p>\n<p>Using these property, your webapplication will listen on the port of your choice and will not conflict anymore with other stuff. And if you need multiple instances running in parallel, run them with a range of ports could be great (@see <a href=\"https://stackoverflow.com/a/56884100/390462\">https://stackoverflow.com/a/56884100/390462</a>. You can add listeners too (@see <a href=\"https://stackoverflow.com/a/51876661/390462\">https://stackoverflow.com/a/51876661/390462</a>). Or at least multiple instances of your batch application with differents <code>server.port</code> values.</p>\n<p>If you want to disable the webserver, the best bet is to use the property : <code>spring.main.web-application-type=none</code>.</p>\n<p>I've just found something interesting using <code>AuthorizedClientServiceOAuth2AuthorizedClientManager</code> in your service layer (@see <a href=\"https://stackoverflow.com/a/60173451/390462\">https://stackoverflow.com/a/60173451/390462</a></p>\n"},{"tags":[],"owner":{"account_id":29650462,"reputation":11,"user_id":22724506,"display_name":"Fiacko"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1697046876,"creation_date":1697046876,"answer_id":77275361,"question_id":73163599,"body_markdown":"I have manual approach, think it would be helpful, because it is quite simple:\r\n\r\nmake the config:\r\n\r\n   ```\r\n@ConfigurationProperties(&quot;spring.security.oauth2.client.registration.keycloak&quot;) //use your oauth2 properties\r\n    @Getter\r\n    @Setter\r\n    public class Oauth2KeycloakProperties {\r\n        private String clientSecret;\r\n        ...\r\n    }\r\n```\r\n\r\nCreate ClientRegistrationRepository manually:\r\n```\r\n@Bean\r\npublic ClientRegistrationRepository clientRegistrationRepository(Oauth2KeycloakProperties properties) {\r\n    ClientRegistration registration = ClientRegistration\r\n            .withRegistrationId(properties.getRegistrationId())\r\n            .authorizationGrantType(properties.getAuthorizationGrantType())\r\n            .clientId(properties.getClientId())\r\n            .clientSecret(properties.getClientSecret())                 \r\n            .clientAuthenticationMethod(ClientAuthenticationMethod.CLIENT_SECRET_BASIC)\r\n            .scope(properties.getScope())\r\n            .tokenUri(properties.getTokenUri())\r\n            .clientName(properties.getClientName())\r\n            .build();\r\n        return new InMemoryClientRegistrationRepository(List.of(registration));\r\n    }\r\n```\r\nCreate ClientService bean:\r\n```\r\n@Bean\r\npublic OAuth2AuthorizedClientService clientService(ClientRegistrationRepository clientRegistrationRepository) {\r\n    return new InMemoryOAuth2AuthorizedClientService(clientRegistrationRepository);\r\n    }\r\n```\r\nAlso you may need jackson-databind dependency, because there is a bug in message converter and the token&#39;s expires_in field is deserializes as a Double, instead of an Integer and spring will request a new token on every request\r\n```\r\n&lt;dependency&gt;\r\n      &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n      &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\r\n      &lt;version&gt;2.15.2&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```","title":"auto-configure ClientRegistrationRepository in a non-web Spring Boot application","body":"<p>I have manual approach, think it would be helpful, because it is quite simple:</p>\n<p>make the config:</p>\n<pre><code>@ConfigurationProperties(&quot;spring.security.oauth2.client.registration.keycloak&quot;) //use your oauth2 properties\n @Getter\n @Setter\n public class Oauth2KeycloakProperties {\n     private String clientSecret;\n     ...\n }\n</code></pre>\n<p>Create ClientRegistrationRepository manually:</p>\n<pre><code>@Bean\npublic ClientRegistrationRepository clientRegistrationRepository(Oauth2KeycloakProperties properties) {\n    ClientRegistration registration = ClientRegistration\n            .withRegistrationId(properties.getRegistrationId())\n            .authorizationGrantType(properties.getAuthorizationGrantType())\n            .clientId(properties.getClientId())\n            .clientSecret(properties.getClientSecret())                 \n            .clientAuthenticationMethod(ClientAuthenticationMethod.CLIENT_SECRET_BASIC)\n            .scope(properties.getScope())\n            .tokenUri(properties.getTokenUri())\n            .clientName(properties.getClientName())\n            .build();\n        return new InMemoryClientRegistrationRepository(List.of(registration));\n    }\n</code></pre>\n<p>Create ClientService bean:</p>\n<pre><code>@Bean\npublic OAuth2AuthorizedClientService clientService(ClientRegistrationRepository clientRegistrationRepository) {\n    return new InMemoryOAuth2AuthorizedClientService(clientRegistrationRepository);\n    }\n</code></pre>\n<p>Also you may need jackson-databind dependency, because there is a bug in message converter and the token's expires_in field is deserializes as a Double, instead of an Integer and spring will request a new token on every request</p>\n<pre><code>&lt;dependency&gt;\n      &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n      &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\n      &lt;version&gt;2.15.2&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":3683051,"reputation":6733,"user_id":3067542,"accept_rate":85,"display_name":"Vincent F"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1297,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"answer_count":2,"score":7,"last_activity_date":1697046876,"creation_date":1659082469,"question_id":73163599,"body_markdown":"I am writing a batch using Spring Boot 2.7.1 and `spring-boot-starter-batch` . The batch needs 2 different `WebClient` to call 2 different APIs with different authentication systems, that I configure through standard Spring Boot properties (spring.security.oauth2.client etc).  \r\n\r\nIt works well, but I realized the batch was listening on port 8080 when running, because I have imported `spring-boot-starter-web` , which enables the auto-configuration of my `WebClient` , by injecting a `ClientRegistrationRepository` . It&#39;s not a major issue, but it prevents me from launching the batch twice in parallel for instance, because the port is already used... so I would like to disable the web server part. \r\n\r\nThe problem is that when I disable the web server,  either through properties, code or dependencies (by removing `spring-boot-starter-web`), then the batch doesn&#39;t start anymore, because `ClientRegistrationRepository` is not loaded anymore, because I require \r\n\r\n    a bean of type &#39;org.springframework.security.oauth2.client.registration.ClientRegistrationRepository&#39; that could not be found\r\n\r\n\r\nThis is because, there&#39;s a conditional on Spring&#39;s `OAuth2ClientAutoConfiguration` :\r\n\r\n\r\n\t@AutoConfiguration(before = SecurityAutoConfiguration.class)\r\n\t@ConditionalOnClass({ EnableWebSecurity.class, ClientRegistration.class })\r\n\t@ConditionalOnWebApplication(type = ConditionalOnWebApplication.Type.SERVLET)\r\n\t@Import({ OAuth2ClientRegistrationRepositoryConfiguration.class, OAuth2WebSecurityConfiguration.class })\r\n\tpublic class OAuth2ClientAutoConfiguration {\r\n\r\n\t}\r\n\r\nBecause the application is not of type `SERVLET`, but `NONE`, this doesn&#39;t get enabled. \r\n\r\nI&#39;ve tried to &quot;force load&quot; it : \r\n\r\n    @ImportAutoConfiguration(OAuth2ClientAutoConfiguration.class)\r\n\r\nbut it doesn&#39;t work.\r\n\r\n\r\nLooking into the source code, I see that `OAuth2ClientAutoConfiguration` is actually loading 2 config classes, but they are not public, so I can&#39;t import them directly : \r\n\r\n    @Import({ OAuth2ClientRegistrationRepositoryConfiguration.class, OAuth2WebSecurityConfiguration.class })\r\n\r\nthere must be a trick to achieve that.. but what is it ?\r\n\r\n","title":"auto-configure ClientRegistrationRepository in a non-web Spring Boot application","body":"<p>I am writing a batch using Spring Boot 2.7.1 and <code>spring-boot-starter-batch</code> . The batch needs 2 different <code>WebClient</code> to call 2 different APIs with different authentication systems, that I configure through standard Spring Boot properties (spring.security.oauth2.client etc).</p>\n<p>It works well, but I realized the batch was listening on port 8080 when running, because I have imported <code>spring-boot-starter-web</code> , which enables the auto-configuration of my <code>WebClient</code> , by injecting a <code>ClientRegistrationRepository</code> . It's not a major issue, but it prevents me from launching the batch twice in parallel for instance, because the port is already used... so I would like to disable the web server part.</p>\n<p>The problem is that when I disable the web server,  either through properties, code or dependencies (by removing <code>spring-boot-starter-web</code>), then the batch doesn't start anymore, because <code>ClientRegistrationRepository</code> is not loaded anymore, because I require</p>\n<pre><code>a bean of type 'org.springframework.security.oauth2.client.registration.ClientRegistrationRepository' that could not be found\n</code></pre>\n<p>This is because, there's a conditional on Spring's <code>OAuth2ClientAutoConfiguration</code> :</p>\n<pre><code>@AutoConfiguration(before = SecurityAutoConfiguration.class)\n@ConditionalOnClass({ EnableWebSecurity.class, ClientRegistration.class })\n@ConditionalOnWebApplication(type = ConditionalOnWebApplication.Type.SERVLET)\n@Import({ OAuth2ClientRegistrationRepositoryConfiguration.class, OAuth2WebSecurityConfiguration.class })\npublic class OAuth2ClientAutoConfiguration {\n\n}\n</code></pre>\n<p>Because the application is not of type <code>SERVLET</code>, but <code>NONE</code>, this doesn't get enabled.</p>\n<p>I've tried to &quot;force load&quot; it :</p>\n<pre><code>@ImportAutoConfiguration(OAuth2ClientAutoConfiguration.class)\n</code></pre>\n<p>but it doesn't work.</p>\n<p>Looking into the source code, I see that <code>OAuth2ClientAutoConfiguration</code> is actually loading 2 config classes, but they are not public, so I can't import them directly :</p>\n<pre><code>@Import({ OAuth2ClientRegistrationRepositoryConfiguration.class, OAuth2WebSecurityConfiguration.class })\n</code></pre>\n<p>there must be a trick to achieve that.. but what is it ?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":8903500,"reputation":1374,"user_id":6646188,"display_name":"Abhijit Mondal Abhi"},"score":0,"creation_date":1697046761,"post_id":77275276,"comment_id":136231442,"body_markdown":"No. I am mapping the scope, sid in an object. But I also need to map the roles which is a list as a property in my object.","body":"No. I am mapping the scope, sid in an object. But I also need to map the roles which is a list as a property in my object."}],"answers":[{"tags":[],"owner":{"account_id":27699053,"reputation":2348,"user_id":21144042,"display_name":"Diego Borba"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1697046388,"creation_date":1697046388,"answer_id":77275307,"question_id":77275276,"body_markdown":"You can use *Jackson* to do it:\r\n\r\n```java\r\nObjectMapper objectMapper = new ObjectMapper();\r\nJsonNode jsonNode = objectMapper.readTree(your_json_here);\r\n\r\nJsonNode rolesNode = jsonNode.path(&quot;resource_access&quot;).path(&quot;thg-hbgs&quot;).path(&quot;roles&quot;);\r\nif (rolesNode.isArray()) {\r\n\tfor (JsonNode role : rolesNode) {\r\n\t\t// TODO: handle role\r\n\t}\r\n}\r\n```\r\n","title":"How to get nested list items from a JSON Object?","body":"<p>You can use <em>Jackson</em> to do it:</p>\n<pre class=\"lang-java prettyprint-override\"><code>ObjectMapper objectMapper = new ObjectMapper();\nJsonNode jsonNode = objectMapper.readTree(your_json_here);\n\nJsonNode rolesNode = jsonNode.path(&quot;resource_access&quot;).path(&quot;thg-hbgs&quot;).path(&quot;roles&quot;);\nif (rolesNode.isArray()) {\n    for (JsonNode role : rolesNode) {\n        // TODO: handle role\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":8903500,"reputation":1374,"user_id":6646188,"display_name":"Abhijit Mondal Abhi"},"comment_count":1,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":61,"favorite_count":0,"down_vote_count":4,"up_vote_count":1,"closed_date":1697047053,"accepted_answer_id":77275307,"answer_count":1,"score":-3,"last_activity_date":1697046388,"creation_date":1697045977,"question_id":77275276,"body_markdown":"How can I get roles as a list in java here? Following is my JSON Object.\r\n\r\n    {\r\n      &quot;typ&quot;: &quot;Bearer&quot;,\r\n      &quot;azp&quot;: &quot;idp-e4f9cb79-0c4f-46a4-8b5f-34dc05e39138&quot;,\r\n      &quot;session_state&quot;: &quot;9698bd84-6465-4947-98e9-2b477cd119aa&quot;,\r\n      &quot;acr&quot;: &quot;1&quot;,\r\n      &quot;resource_access&quot;: {\r\n        &quot;thg-hbgs&quot;: {\r\n          &quot;roles&quot;: [\r\n            &quot;Admin&quot;,\r\n            &quot;Manager&quot;,\r\n            &quot;Clerk&quot;\r\n          ]\r\n        }\r\n      },\r\n      &quot;scope&quot;: &quot;openid profile email&quot;,\r\n      &quot;sid&quot;: &quot;9699bd84-6465-4947-98e9-2b477cd119aa&quot;,\r\n      &quot;email_verified&quot;: true,\r\n      \r\n    }","title":"How to get nested list items from a JSON Object?","body":"<p>How can I get roles as a list in java here? Following is my JSON Object.</p>\n<pre><code>{\n  &quot;typ&quot;: &quot;Bearer&quot;,\n  &quot;azp&quot;: &quot;idp-e4f9cb79-0c4f-46a4-8b5f-34dc05e39138&quot;,\n  &quot;session_state&quot;: &quot;9698bd84-6465-4947-98e9-2b477cd119aa&quot;,\n  &quot;acr&quot;: &quot;1&quot;,\n  &quot;resource_access&quot;: {\n    &quot;thg-hbgs&quot;: {\n      &quot;roles&quot;: [\n        &quot;Admin&quot;,\n        &quot;Manager&quot;,\n        &quot;Clerk&quot;\n      ]\n    }\n  },\n  &quot;scope&quot;: &quot;openid profile email&quot;,\n  &quot;sid&quot;: &quot;9699bd84-6465-4947-98e9-2b477cd119aa&quot;,\n  &quot;email_verified&quot;: true,\n  \n}\n</code></pre>\n"},{"tags":["java","linux","gradle","centos","qupath"],"comments":[{"owner":{"account_id":248409,"reputation":4974,"user_id":523744,"display_name":"Samuel Audet"},"score":0,"creation_date":1649719319,"post_id":71835049,"comment_id":126942875,"body_markdown":"Instead of using the `gradlew` script, try to install Gradle manually and run `gradle` instead: https://gradle.org/install/","body":"Instead of using the <code>gradlew</code> script, try to install Gradle manually and run <code>gradle</code> instead: <a href=\"https://gradle.org/install/\" rel=\"nofollow noreferrer\">gradle.org/install</a>"},{"owner":{"account_id":2808137,"reputation":35560,"user_id":2414957,"accept_rate":61,"display_name":"Mona Jalal"},"score":0,"creation_date":1649722967,"post_id":71835049,"comment_id":126943427,"body_markdown":"@SamuelAudet your comment is not very clear to me. All of the above steps are from the manual provided by QuPath and gradle. Could you provide step by step guide on what you mentioned?","body":"@SamuelAudet your comment is not very clear to me. All of the above steps are from the manual provided by QuPath and gradle. Could you provide step by step guide on what you mentioned?"},{"owner":{"account_id":2808137,"reputation":35560,"user_id":2414957,"accept_rate":61,"display_name":"Mona Jalal"},"score":0,"creation_date":1649723085,"post_id":71835049,"comment_id":126943449,"body_markdown":"also, I have installed gradle manually from source into /opt/gradle as you see in my question description","body":"also, I have installed gradle manually from source into /opt/gradle as you see in my question description"},{"owner":{"account_id":2808137,"reputation":35560,"user_id":2414957,"accept_rate":61,"display_name":"Mona Jalal"},"score":0,"creation_date":1649723193,"post_id":71835049,"comment_id":126943477,"body_markdown":"@SamuelAudet is this what you meant? `[jalal@goku qupath]$ ./gradle clean jpackage\nbash: ./gradle: Is a directory`","body":"@SamuelAudet is this what you meant? <code>[jalal@goku qupath]$ .&#47;gradle clean jpackage bash: .&#47;gradle: Is a directory</code>"},{"owner":{"account_id":2693923,"reputation":2602,"user_id":3958878,"accept_rate":40,"display_name":"Mehdi Golzadeh"},"score":0,"creation_date":1649724061,"post_id":71835049,"comment_id":126943631,"body_markdown":"\\gradlew is a wrapper over gradle to make the use of gradle easier. Here in your case it seems that the gradle version inside /scratch3/downloads directory is missing some plugin file that is required. I think if you find and copy the required file inside the directory it will do the trick.","body":"\\gradlew is a wrapper over gradle to make the use of gradle easier. Here in your case it seems that the gradle version inside /scratch3/downloads directory is missing some plugin file that is required. I think if you find and copy the required file inside the directory it will do the trick."},{"owner":{"account_id":2808137,"reputation":35560,"user_id":2414957,"accept_rate":61,"display_name":"Mona Jalal"},"score":0,"creation_date":1649725097,"post_id":71835049,"comment_id":126943805,"body_markdown":"@MehdiGolzadeh there is no gradle installed in `[jalal@goku downloads]$ pwd\n/scratch3/downloads\n[jalal@goku downloads]$ find . -name &quot;*gradle*&quot;\n./gradle-7.4.2-all.zip` as I mentioned in OP, I installed the gradle following the original instructions in `/opt/gradle`","body":"@MehdiGolzadeh there is no gradle installed in <code>[jalal@goku downloads]$ pwd &#47;scratch3&#47;downloads [jalal@goku downloads]$ find . -name &quot;*gradle*&quot; .&#47;gradle-7.4.2-all.zip</code> as I mentioned in OP, I installed the gradle following the original instructions in <code>&#47;opt&#47;gradle</code>"}],"owner":{"account_id":2808137,"reputation":35560,"user_id":2414957,"accept_rate":61,"display_name":"Mona Jalal"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1890,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697045856,"creation_date":1649716520,"question_id":71835049,"body_markdown":"I am following the [instructions for building QuPath][1] from source on CentOS 7. I get the following error:\r\n\r\n    [jalal@goku qupath]$ ./gradlew clean jpackage\r\n    \r\n    FAILURE: Build failed with an exception.\r\n    \r\n    * What went wrong:\r\n    Failed to apply plugin class &#39;org.gradle.api.plugins.JavaPlugin&#39;.\r\n    &gt; java.io.FileNotFoundException: /scratch3/downloads/gradle-7.4.2/lib/plugins/gradle-plugins-7.4.2.jar (No such file or directory)\r\n    \r\n    * Try:\r\n    &gt; Run with --stacktrace option to get the stack trace.\r\n    &gt; Run with --info or --debug option to get more log output.\r\n    &gt; Run with --scan to get full insights.\r\n    \r\n    * Get more help at https://help.gradle.org\r\n    \r\n    BUILD FAILED in 721ms\r\n\r\n\r\nThe instructions that I am following are as follows:\r\n\r\n    $ git clone https://github.com/qupath/qupath\r\n    $ cd qupath\r\n    $ ./gradlew clean jpackage\r\n\r\n\r\n I have:\r\n```\r\n$ uname -a\r\nLinux goku.bu.edu 3.10.0-1160.59.1.el7.x86_64 #1 SMP Wed Feb 23 16:47:03 UTC 2022 x86_64 x86_64 x86_64 GNU/Linux\r\n\r\n```\r\nand\r\n```\r\n$ lsb_release -a\r\nLSB Version:\t:core-4.1-amd64:core-4.1-noarch\r\nDistributor ID:\tCentOS\r\nDescription:\tCentOS Linux release 7.9.2009 (Core)\r\nRelease:\t7.9.2009\r\nCodename:\tCore\r\n```\r\n\r\nalso:\r\n```\r\n$ java -version\r\nopenjdk version &quot;1.8.0_322&quot;\r\nOpenJDK Runtime Environment (build 1.8.0_322-b06)\r\nOpenJDK 64-Bit Server VM (build 25.322-b06, mixed mode)\r\n```\r\n\r\nI also don&#39;t understand why it is looking elsewhere than where I have zipped it and set the directory to it as in:\r\n```\r\n[jalal@goku downloads]$ sudo vi  /etc/profile.d/gradle.sh\r\n[jalal@goku downloads]$ sudo chmod +x /etc/profile.d/gradle.sh\r\n[jalal@goku downloads]$ source /etc/profile.d/gradle.sh\r\n[jalal@goku downloads]$ gradle -v\r\n\r\n------------------------------------------------------------\r\nGradle 7.4.2\r\n------------------------------------------------------------\r\n\r\nBuild time:   2022-03-31 15:25:29 UTC\r\nRevision:     540473b8118064efcc264694cbcaa4b677f61041\r\n\r\nKotlin:       1.5.31\r\nGroovy:       3.0.9\r\nAnt:          Apache Ant(TM) version 1.10.11 compiled on July 10 2021\r\nJVM:          1.8.0_322 (Red Hat, Inc. 25.322-b06)\r\nOS:           Linux 3.10.0-1160.59.1.el7.x86_64 amd64\r\n\r\n[jalal@goku downloads]$ cat /etc/profile.d/gradle.sh \r\n\r\nexport GRADLE_HOME=/opt/gradle/gradle-7.4.2\r\nexport PATH=${GRADLE_HOME}/bin:${PATH}\r\n\r\n$ tail -1 ~/.bashrc\r\nexport PATH=$PATH:/opt/gradle/gradle-7.4.2/bin\r\n$ source ~/.bashrc\r\n\r\n```\r\n\r\nThe plugin that is reported as missing in the error is in \r\n```\r\n[jalal@goku ~]$ find /opt/gradle -name &quot;gradle-plugins-7.4.2.jar&quot;\r\n/opt/gradle/gradle-7.4.2/lib/plugins/gradle-plugins-7.4.2.jar\r\n```\r\n\r\nFull log of `./gradlew clean jpackage --stacktrace`: https://pastebin.com/raw/RuuJnuTe\r\n\r\nFull log of `./gradlew clean jpackage --debug`:\r\nhttps://pastebin.com/raw/EPJs2jRR\r\n\r\nFull log of `./gradlew clean jpackage --scan`:\r\nhttps://pastebin.com/raw/TUGSM73K\r\n\r\n\r\n  [1]: https://qupath.readthedocs.io/en/latest/docs/reference/building.html","title":"Failed to apply plugin class &#39;org.gradle.api.plugins.JavaPlugin&#39;. gradle-plugins-7.4.2.jar (No such file or directory)","body":"<p>I am following the <a href=\"https://qupath.readthedocs.io/en/latest/docs/reference/building.html\" rel=\"nofollow noreferrer\">instructions for building QuPath</a> from source on CentOS 7. I get the following error:</p>\n<pre><code>[jalal@goku qupath]$ ./gradlew clean jpackage\n\nFAILURE: Build failed with an exception.\n\n* What went wrong:\nFailed to apply plugin class 'org.gradle.api.plugins.JavaPlugin'.\n&gt; java.io.FileNotFoundException: /scratch3/downloads/gradle-7.4.2/lib/plugins/gradle-plugins-7.4.2.jar (No such file or directory)\n\n* Try:\n&gt; Run with --stacktrace option to get the stack trace.\n&gt; Run with --info or --debug option to get more log output.\n&gt; Run with --scan to get full insights.\n\n* Get more help at https://help.gradle.org\n\nBUILD FAILED in 721ms\n</code></pre>\n<p>The instructions that I am following are as follows:</p>\n<pre><code>$ git clone https://github.com/qupath/qupath\n$ cd qupath\n$ ./gradlew clean jpackage\n</code></pre>\n<p>I have:</p>\n<pre><code>$ uname -a\nLinux goku.bu.edu 3.10.0-1160.59.1.el7.x86_64 #1 SMP Wed Feb 23 16:47:03 UTC 2022 x86_64 x86_64 x86_64 GNU/Linux\n\n</code></pre>\n<p>and</p>\n<pre><code>$ lsb_release -a\nLSB Version:    :core-4.1-amd64:core-4.1-noarch\nDistributor ID: CentOS\nDescription:    CentOS Linux release 7.9.2009 (Core)\nRelease:    7.9.2009\nCodename:   Core\n</code></pre>\n<p>also:</p>\n<pre><code>$ java -version\nopenjdk version &quot;1.8.0_322&quot;\nOpenJDK Runtime Environment (build 1.8.0_322-b06)\nOpenJDK 64-Bit Server VM (build 25.322-b06, mixed mode)\n</code></pre>\n<p>I also don't understand why it is looking elsewhere than where I have zipped it and set the directory to it as in:</p>\n<pre><code>[jalal@goku downloads]$ sudo vi  /etc/profile.d/gradle.sh\n[jalal@goku downloads]$ sudo chmod +x /etc/profile.d/gradle.sh\n[jalal@goku downloads]$ source /etc/profile.d/gradle.sh\n[jalal@goku downloads]$ gradle -v\n\n------------------------------------------------------------\nGradle 7.4.2\n------------------------------------------------------------\n\nBuild time:   2022-03-31 15:25:29 UTC\nRevision:     540473b8118064efcc264694cbcaa4b677f61041\n\nKotlin:       1.5.31\nGroovy:       3.0.9\nAnt:          Apache Ant(TM) version 1.10.11 compiled on July 10 2021\nJVM:          1.8.0_322 (Red Hat, Inc. 25.322-b06)\nOS:           Linux 3.10.0-1160.59.1.el7.x86_64 amd64\n\n[jalal@goku downloads]$ cat /etc/profile.d/gradle.sh \n\nexport GRADLE_HOME=/opt/gradle/gradle-7.4.2\nexport PATH=${GRADLE_HOME}/bin:${PATH}\n\n$ tail -1 ~/.bashrc\nexport PATH=$PATH:/opt/gradle/gradle-7.4.2/bin\n$ source ~/.bashrc\n\n</code></pre>\n<p>The plugin that is reported as missing in the error is in</p>\n<pre><code>[jalal@goku ~]$ find /opt/gradle -name &quot;gradle-plugins-7.4.2.jar&quot;\n/opt/gradle/gradle-7.4.2/lib/plugins/gradle-plugins-7.4.2.jar\n</code></pre>\n<p>Full log of <code>./gradlew clean jpackage --stacktrace</code>: <a href=\"https://pastebin.com/raw/RuuJnuTe\" rel=\"nofollow noreferrer\">https://pastebin.com/raw/RuuJnuTe</a></p>\n<p>Full log of <code>./gradlew clean jpackage --debug</code>:\n<a href=\"https://pastebin.com/raw/EPJs2jRR\" rel=\"nofollow noreferrer\">https://pastebin.com/raw/EPJs2jRR</a></p>\n<p>Full log of <code>./gradlew clean jpackage --scan</code>:\n<a href=\"https://pastebin.com/raw/TUGSM73K\" rel=\"nofollow noreferrer\">https://pastebin.com/raw/TUGSM73K</a></p>\n"},{"tags":["java","macos","maven","dmg","qupath"],"comments":[{"owner":{"account_id":36734,"reputation":392137,"user_id":104891,"display_name":"CrazyCoder"},"score":0,"creation_date":1493179300,"post_id":43624758,"comment_id":74298287,"body_markdown":"http://stackoverflow.com/questions/30828620/create-mac-dmg-file-from-java","body":"<a href=\"http://stackoverflow.com/questions/30828620/create-mac-dmg-file-from-java\" title=\"create mac dmg file from java\">stackoverflow.com/questions/30828620/&hellip;</a>"},{"owner":{"account_id":2138679,"reputation":18996,"user_id":1897870,"display_name":"Steve C"},"score":0,"creation_date":1493179364,"post_id":43624758,"comment_id":74298299,"body_markdown":"Possible duplicate of [How to build a dmg Mac OS X file (on a non-Mac platform)?](http://stackoverflow.com/questions/286419/how-to-build-a-dmg-mac-os-x-file-on-a-non-mac-platform)","body":"Possible duplicate of <a href=\"http://stackoverflow.com/questions/286419/how-to-build-a-dmg-mac-os-x-file-on-a-non-mac-platform\">How to build a dmg Mac OS X file (on a non-Mac platform)?</a>"}],"answers":[{"comments":[{"owner":{"account_id":2138679,"reputation":18996,"user_id":1897870,"display_name":"Steve C"},"score":0,"creation_date":1493182855,"post_id":43624854,"comment_id":74299374,"body_markdown":"These are instructions for a Mac. The OP is using Ubuntu","body":"These are instructions for a Mac. The OP is using Ubuntu"}],"tags":[],"owner":{"account_id":28511,"reputation":7390,"user_id":76237,"display_name":"diginoise"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1493179651,"creation_date":1493179651,"answer_id":43624854,"question_id":43624758,"body_markdown":"Use Java packager https://docs.oracle.com/javase/8/docs/technotes/tools/unix/javapackager.html  as per this tutorial http://centerkey.com/mac/java. ","title":"How can I make dmg file for OSX from a IntelliJ-maven project?","body":"<p>Use Java packager <a href=\"https://docs.oracle.com/javase/8/docs/technotes/tools/unix/javapackager.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/8/docs/technotes/tools/unix/javapackager.html</a>  as per this tutorial <a href=\"http://centerkey.com/mac/java\" rel=\"nofollow noreferrer\">http://centerkey.com/mac/java</a>. </p>\n"}],"owner":{"account_id":6766375,"reputation":19,"user_id":5211270,"display_name":"Peter Cha"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1433,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1697045673,"creation_date":1493179006,"question_id":43624758,"body_markdown":"I&#39;m new in IntelliJ-maven-java programming, and I want to make dmg file for Mac OS as a result of my program. \r\n\r\n My development environment is Ubuntu-IntelliJ-Java-Maven. As I searched, there are some plugins that are able to make dmg file from intelliJ, but it is actually very complicated to me.\r\n \r\n Could you tell me the order of the process kindly? \r\n Thanks in advance. \r\n\r\n \r\n Futhermore, following messages are from command when I run `mvn install`with `appbundle-maven-plugin` from https://github.com/federkasten/appbundle-maven-plugin.\r\n If I did something stupid, could you tell me which part is awkward? \r\n \r\n\r\n\r\n    [INFO] BUILD FAILURE\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] Total time: 0.623 s\r\n    [INFO] Finished at: 2017-04-26T14:16:36+09:00\r\n    [INFO] Final Memory: 12M/240M\r\n    [INFO] ------------------------------------------------------------------------\r\n    [ERROR] Failed to execute goal sh.tak.appbundler:appbundle-maven-\r\n    plugin:1.2.0:bundle (default) on project qupath: Execution default of goal sh.tak.appbundler:appbundle-maven-plugin:1.2.0:bundle failed. NullPointerException -&gt; [Help 1]\r\n    [ERROR] \r\n    [ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\r\n    [ERROR] Re-run Maven using the -X switch to enable full debug logging.\r\n    [ERROR] \r\n    [ERROR] For more information about the errors and possible solutions, please read the following articles:\r\n    [ERROR] [Help 1] \r\n  \r\n  \r\n and this is my maven-plugin code.\r\n\r\n     &lt;plugin&gt;\r\n\t\t&lt;groupId&gt;sh.tak.appbundler&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;appbundle-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;1.2.0&lt;/version&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;mainClass&gt;src.main.java.qupath.QuPath&lt;/mainClass&gt;\r\n\t\t\t\t\t&lt;jrePath&gt;/usr/lib/jvm/java-8-oracle/jre&lt;/jrePath&gt;\r\n\t\t\t\t\t&lt;generateDiskImageFile&gt;true&lt;/generateDiskImageFile&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t\t&lt;executions&gt;\r\n\t\t\t\t\t&lt;execution&gt;\r\n\t\t\t\t\t\t&lt;phase&gt;package&lt;/phase&gt;\r\n\t\t\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t\t\t&lt;goal&gt;bundle&lt;/goal&gt;\r\n\t\t\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t\t&lt;/execution&gt;\r\n\t\t\t\t&lt;/executions&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\r\n ","title":"How can I make dmg file for OSX from a IntelliJ-maven project?","body":"<p>I'm new in IntelliJ-maven-java programming, and I want to make dmg file for Mac OS as a result of my program. </p>\n\n<p>My development environment is Ubuntu-IntelliJ-Java-Maven. As I searched, there are some plugins that are able to make dmg file from intelliJ, but it is actually very complicated to me.</p>\n\n<p>Could you tell me the order of the process kindly? \n Thanks in advance. </p>\n\n<p>Futhermore, following messages are from command when I run <code>mvn install</code>with <code>appbundle-maven-plugin</code> from <a href=\"https://github.com/federkasten/appbundle-maven-plugin\" rel=\"nofollow noreferrer\">https://github.com/federkasten/appbundle-maven-plugin</a>.\n If I did something stupid, could you tell me which part is awkward? </p>\n\n<pre><code>[INFO] BUILD FAILURE\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time: 0.623 s\n[INFO] Finished at: 2017-04-26T14:16:36+09:00\n[INFO] Final Memory: 12M/240M\n[INFO] ------------------------------------------------------------------------\n[ERROR] Failed to execute goal sh.tak.appbundler:appbundle-maven-\nplugin:1.2.0:bundle (default) on project qupath: Execution default of goal sh.tak.appbundler:appbundle-maven-plugin:1.2.0:bundle failed. NullPointerException -&gt; [Help 1]\n[ERROR] \n[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\n[ERROR] \n[ERROR] For more information about the errors and possible solutions, please read the following articles:\n[ERROR] [Help 1] \n</code></pre>\n\n<p>and this is my maven-plugin code.</p>\n\n<pre><code> &lt;plugin&gt;\n    &lt;groupId&gt;sh.tak.appbundler&lt;/groupId&gt;\n        &lt;artifactId&gt;appbundle-maven-plugin&lt;/artifactId&gt;\n            &lt;version&gt;1.2.0&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;mainClass&gt;src.main.java.qupath.QuPath&lt;/mainClass&gt;\n                &lt;jrePath&gt;/usr/lib/jvm/java-8-oracle/jre&lt;/jrePath&gt;\n                &lt;generateDiskImageFile&gt;true&lt;/generateDiskImageFile&gt;\n            &lt;/configuration&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;phase&gt;package&lt;/phase&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;bundle&lt;/goal&gt;\n                    &lt;/goals&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n</code></pre>\n"},{"tags":["python","java","image-processing","geojson","qupath"],"owner":{"account_id":24864768,"reputation":93,"user_id":19650014,"display_name":"fgootkind"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":120,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1697045522,"creation_date":1671570572,"question_id":74868938,"body_markdown":"I&#39;m trying to convert the tissue &quot;masks&quot; created in one program (basically regions of tissue annotated on a tissue slide) and I wanted to import them into a program known as QuPath.\r\n\r\nThe &quot;mask&quot; files are essentially a series of shapes stored as np.unint8 arrays, each value being a pixel, where a positive value corresponds to the presence of tissue and a 0 corresponds to no tissue being present. As an example, this mask:\r\n\r\n```\r\n[[ 0, 0, 0, 0 ],\r\n\r\n[ 0, 1, 1, 0 ],\r\n\r\n[ 0, 1, 1, 0 ],\r\n\r\n[ 0, 0, 0, 0 ]]\r\n```\r\n\r\nwould correspond to a 4x4 square.\r\n\r\nThe arrays are all in a larger H5 file along with associated metadata.\r\n\r\nThe program I want to import them into (QuPath) only accepts annotations in a GeoJSON format. Is there an existing method to convert pixel-by-pixel arrays into a GeoJSON format or will this have to be a novel method?\r\n\r\nHere&#39;s the code I have to extract the arrays from the H5 file.\r\n\r\n```\r\n# open and load file\r\nasset_directory = &#39;D:\\pathai_masks&#39;\r\nfile_name = os.path.join(asset_directory, &quot;path5_mask.h5&quot;)\r\nh5_file = h5py.File(file_name, &#39;r&#39;)\r\n \r\n# access attributes like a regular dictionary \r\n# ex. access&#39;wsi_masks&#39;\r\nwsi_masks = h5_file[&#39;wsi_masks&#39;]\r\n\r\n# Load the JSON from the H5 file:\r\nnecrosis_dataset = h5_file[&quot;wsi_masks&quot;][&quot;predicted_region_mask_l1_5&quot;]\r\n\r\n# Encodes as a numpy.ndarray of uint8 \r\nnecrosis_numpy_array = necrosis_dataset[:, :]\r\n```\r\n\r\nThis is what I have to convert the array directly to a GeoJSON file.\r\n\r\n```\r\ncoordinates = []\r\n\r\nfor row in necrosis_numpy_array:\r\n    coordinates.append(row.tolist())\r\n\r\ngeojson = {\r\n    &quot;type&quot;: &quot;FeatureCollection&quot;,\r\n    &quot;features&quot;: [\r\n        {\r\n            &quot;type&quot;: &quot;Feature&quot;,\r\n            &quot;geometry&quot;: {\r\n                &quot;type&quot;: &quot;Point&quot;,\r\n                &quot;coordinates&quot;: coordinates\r\n            }\r\n        }\r\n    ]\r\n}\r\n\r\njson_data = json.dumps(geojson)\r\n```\r\n\r\nAnd this is the format that QuPath accepts.\r\n\r\n```\r\n{\r\n        &quot;type&quot;: &quot;Feature&quot;,\r\n        &quot;id&quot;: &quot;PathDetectionObject&quot;,\r\n        &quot;geometry&quot;: {\r\n            &quot;type&quot;: &quot;Polygon&quot;,\r\n            &quot;coordinates&quot;: [[[17738.72, 42238], [17737.94, 42240.13], [17738.39, 42242.34], [17737.21, 42244.28], [17737.19, 42246.54], [17739.74, 42250.23], [17743.86, 42248.63], [17743.7, 42246.37], [17745.05, 42242.08], [17748.38, 42239.13], [17747.76, 42238.25], [17738.72, 42238]]]\r\n        },\r\n        &quot;properties&quot;: {\r\n            &quot;isLocked&quot;: false,\r\n            &quot;measurements&quot;: [],\r\n            &quot;classification&quot;: {\r\n                &quot;name&quot;: &quot;Other&quot;,\r\n                &quot;colorRGB&quot;: -377282\r\n            }\r\n        }\r\n    }\r\n```","title":"Converting an np.unint8 to a GeoJSON file that can be imported to QuPath","body":"<p>I'm trying to convert the tissue &quot;masks&quot; created in one program (basically regions of tissue annotated on a tissue slide) and I wanted to import them into a program known as QuPath.</p>\n<p>The &quot;mask&quot; files are essentially a series of shapes stored as np.unint8 arrays, each value being a pixel, where a positive value corresponds to the presence of tissue and a 0 corresponds to no tissue being present. As an example, this mask:</p>\n<pre><code>[[ 0, 0, 0, 0 ],\n\n[ 0, 1, 1, 0 ],\n\n[ 0, 1, 1, 0 ],\n\n[ 0, 0, 0, 0 ]]\n</code></pre>\n<p>would correspond to a 4x4 square.</p>\n<p>The arrays are all in a larger H5 file along with associated metadata.</p>\n<p>The program I want to import them into (QuPath) only accepts annotations in a GeoJSON format. Is there an existing method to convert pixel-by-pixel arrays into a GeoJSON format or will this have to be a novel method?</p>\n<p>Here's the code I have to extract the arrays from the H5 file.</p>\n<pre><code># open and load file\nasset_directory = 'D:\\pathai_masks'\nfile_name = os.path.join(asset_directory, &quot;path5_mask.h5&quot;)\nh5_file = h5py.File(file_name, 'r')\n \n# access attributes like a regular dictionary \n# ex. access'wsi_masks'\nwsi_masks = h5_file['wsi_masks']\n\n# Load the JSON from the H5 file:\nnecrosis_dataset = h5_file[&quot;wsi_masks&quot;][&quot;predicted_region_mask_l1_5&quot;]\n\n# Encodes as a numpy.ndarray of uint8 \nnecrosis_numpy_array = necrosis_dataset[:, :]\n</code></pre>\n<p>This is what I have to convert the array directly to a GeoJSON file.</p>\n<pre><code>coordinates = []\n\nfor row in necrosis_numpy_array:\n    coordinates.append(row.tolist())\n\ngeojson = {\n    &quot;type&quot;: &quot;FeatureCollection&quot;,\n    &quot;features&quot;: [\n        {\n            &quot;type&quot;: &quot;Feature&quot;,\n            &quot;geometry&quot;: {\n                &quot;type&quot;: &quot;Point&quot;,\n                &quot;coordinates&quot;: coordinates\n            }\n        }\n    ]\n}\n\njson_data = json.dumps(geojson)\n</code></pre>\n<p>And this is the format that QuPath accepts.</p>\n<pre><code>{\n        &quot;type&quot;: &quot;Feature&quot;,\n        &quot;id&quot;: &quot;PathDetectionObject&quot;,\n        &quot;geometry&quot;: {\n            &quot;type&quot;: &quot;Polygon&quot;,\n            &quot;coordinates&quot;: [[[17738.72, 42238], [17737.94, 42240.13], [17738.39, 42242.34], [17737.21, 42244.28], [17737.19, 42246.54], [17739.74, 42250.23], [17743.86, 42248.63], [17743.7, 42246.37], [17745.05, 42242.08], [17748.38, 42239.13], [17747.76, 42238.25], [17738.72, 42238]]]\n        },\n        &quot;properties&quot;: {\n            &quot;isLocked&quot;: false,\n            &quot;measurements&quot;: [],\n            &quot;classification&quot;: {\n                &quot;name&quot;: &quot;Other&quot;,\n                &quot;colorRGB&quot;: -377282\n            }\n        }\n    }\n</code></pre>\n"},{"tags":["java","postgresql"],"comments":[{"owner":{"account_id":27212,"reputation":413,"user_id":71576,"display_name":"kdubb"},"score":0,"creation_date":1549763634,"post_id":54602118,"comment_id":96019340,"body_markdown":"How are you adding the pgjdbc-ng dependency?","body":"How are you adding the pgjdbc-ng dependency?"},{"owner":{"account_id":8931680,"reputation":11,"user_id":6664081,"display_name":"Rafael Bello Lara"},"score":0,"creation_date":1549899184,"post_id":54602118,"comment_id":96060083,"body_markdown":"I added pgjdbc-ng 0.8.1 and postgresql-42.2.5  to my maven repository. I need to do something else? &lt;dependency&gt;\n        &lt;groupId&gt;com.impossibl.pgjdbc-ng&lt;/groupId&gt;\n        &lt;artifactId&gt;pgjdbc-ng&lt;/artifactId&gt;\n        &lt;version&gt;0.8.1&lt;/version&gt;\n     &lt;/dependency&gt;","body":"I added pgjdbc-ng 0.8.1 and postgresql-42.2.5  to my maven repository. I need to do something else? &lt;dependency&gt;         &lt;groupId&gt;com.impossibl.pgjdbc-ng&lt;/groupId&gt;         &lt;artifactId&gt;pgjdbc-ng&lt;/artifactId&gt;         &lt;version&gt;0.8.1&lt;/version&gt;      &lt;/dependency&gt;"}],"answers":[{"comments":[{"owner":{"account_id":8931680,"reputation":11,"user_id":6664081,"display_name":"Rafael Bello Lara"},"score":0,"creation_date":1550508015,"post_id":54678457,"comment_id":96285640,"body_markdown":"Thanks but my error after add &lt;classifier&gt;all&lt;/classifier&gt;  tag in my com.impossibl.pgjdb-ng dependency is this :Could not resolve dependencies for project com.curu:rest:war:1.2: Could not find artifact com.impossibl.pgjdb-ng:pgjdb-ng:jar:all:0.8.2 in central (https://repo.maven.apache.org/maven2) -&gt; [Help 1]","body":"Thanks but my error after add &lt;classifier&gt;all&lt;/classifier&gt;  tag in my com.impossibl.pgjdb-ng dependency is this :Could not resolve dependencies for project com.curu:rest:war:1.2: Could not find artifact com.impossibl.pgjdb-ng:pgjdb-ng:jar:all:0.8.2 in central (<a href=\"https://repo.maven.apache.org/maven2\" rel=\"nofollow noreferrer\">repo.maven.apache.org/maven2</a>) -&gt; [Help 1]"},{"owner":{"account_id":27212,"reputation":413,"user_id":71576,"display_name":"kdubb"},"score":0,"creation_date":1550632531,"post_id":54678457,"comment_id":96335803,"body_markdown":"@RafaelBelloLara I believe your setup for maven is incorrect. I am quite certain the &quot;all&quot; uber jar is in central; you can see it here (https://repo.maven.apache.org/maven2/com/impossibl/pgjdbc-ng/pgjdbc-ng/0.8.2). Also, I copied the coordinates in my answer from a test project that properly locates the &quot;all&quot; uber jar.","body":"@RafaelBelloLara I believe your setup for maven is incorrect. I am quite certain the &quot;all&quot; uber jar is in central; you can see it here (<a href=\"https://repo.maven.apache.org/maven2/com/impossibl/pgjdbc-ng/pgjdbc-ng/0.8.2\" rel=\"nofollow noreferrer\">repo.maven.apache.org/maven2/com/impossibl/pgjdbc-ng/pgjdbc&zwnj;&#8203;-ng/&hellip;</a>). Also, I copied the coordinates in my answer from a test project that properly locates the &quot;all&quot; uber jar."}],"tags":[],"owner":{"account_id":27212,"reputation":413,"user_id":71576,"display_name":"kdubb"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1550088300,"creation_date":1550087900,"answer_id":54678457,"question_id":54602118,"body_markdown":"However you are executing the program, the transitive dependencies of the `pgjdbc-ng` are not getting added to your classpath. \r\n\r\nOne solution is to use the the uber jar that includes all dependencies package in one jar.\r\n\r\nTo use the uber jar via Maven you need to add the &quot;all&quot; classifier to the dependency specification, as in\r\n\r\n```xml\r\n&lt;dependency&gt;\r\n  &lt;groupId&gt;com.impossibl.pgjdb-ng&lt;/groupId&gt;\r\n  &lt;artifactId&gt;pgjdb-ng&lt;/artifactId&gt;\r\n  &lt;version&gt;0.8.2&lt;/version&gt;\r\n  &lt;classifier&gt;all&lt;/classifier&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nAlternatively you can manually download the uber jar and add it to your class path. More information is available in the &quot;Manual Download&quot; section of the [User Guide](http://impossibl.github.io/pgjdbc-ng/docs/current/user-guide/#overview-getting-started-deps)\r\n\r\n_NOTE_: Using the uber jar shouldn&#39;t be necessary if you are executing your program in a way that includes Maven&#39;s transitive dependencies.","title":"Unsupported event loop group type: NioEventLoopGroup using pgjdbc-ng","body":"<p>However you are executing the program, the transitive dependencies of the <code>pgjdbc-ng</code> are not getting added to your classpath. </p>\n\n<p>One solution is to use the the uber jar that includes all dependencies package in one jar.</p>\n\n<p>To use the uber jar via Maven you need to add the \"all\" classifier to the dependency specification, as in</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n  &lt;groupId&gt;com.impossibl.pgjdb-ng&lt;/groupId&gt;\n  &lt;artifactId&gt;pgjdb-ng&lt;/artifactId&gt;\n  &lt;version&gt;0.8.2&lt;/version&gt;\n  &lt;classifier&gt;all&lt;/classifier&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>Alternatively you can manually download the uber jar and add it to your class path. More information is available in the \"Manual Download\" section of the <a href=\"http://impossibl.github.io/pgjdbc-ng/docs/current/user-guide/#overview-getting-started-deps\" rel=\"nofollow noreferrer\">User Guide</a></p>\n\n<p><em>NOTE</em>: Using the uber jar shouldn't be necessary if you are executing your program in a way that includes Maven's transitive dependencies.</p>\n"},{"tags":[],"owner":{"account_id":5410764,"reputation":448,"user_id":4307638,"accept_rate":67,"display_name":"lemario"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697044994,"creation_date":1697044994,"answer_id":77275168,"question_id":54602118,"body_markdown":"Like @kdubb said &quot;However you are executing the program, the transitive dependencies of the pgjdbc-ng are not getting added to your classpath.&quot;\r\n\r\nI am using graddle and adding the dependencies like so: \r\n\r\n    compileOnly &quot;com.impossibl.pgjdbc-ng:pgjdbc-ng:0.8.9&quot;\r\n\r\nI was getting a bunch of *ClassNotFoundException*&#39;s \r\n\r\nWhen you declare a dependency using **compileOnly**, it includes only the direct dependency in your project&#39;s classpath, but it excludes the transitive dependencies. However declaring a dependency using **implementation**, not only includes the direct dependencies but also all of its transitive ones. ","title":"Unsupported event loop group type: NioEventLoopGroup using pgjdbc-ng","body":"<p>Like @kdubb said &quot;However you are executing the program, the transitive dependencies of the pgjdbc-ng are not getting added to your classpath.&quot;</p>\n<p>I am using graddle and adding the dependencies like so:</p>\n<pre><code>compileOnly &quot;com.impossibl.pgjdbc-ng:pgjdbc-ng:0.8.9&quot;\n</code></pre>\n<p>I was getting a bunch of <em>ClassNotFoundException</em>'s</p>\n<p>When you declare a dependency using <strong>compileOnly</strong>, it includes only the direct dependency in your project's classpath, but it excludes the transitive dependencies. However declaring a dependency using <strong>implementation</strong>, not only includes the direct dependencies but also all of its transitive ones.</p>\n"}],"owner":{"account_id":8931680,"reputation":11,"user_id":6664081,"display_name":"Rafael Bello Lara"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":243,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1697044994,"creation_date":1549673362,"question_id":54602118,"body_markdown":"After [reviewing][1] by Steve Taylor\r\nI have tried to use it in my rest API but I have not managed to create the connection with my database, I have tried to create an instance of the `ListenNotify` class in the main thread and in secondary threads without achieving good result, please I could use it a little of help.\r\n\r\n    package com.curu.open.rest.notifications.PostgresChanel;\r\n    \r\n    import java.sql.SQLException;\r\n    import java.sql.Statement;\r\n    \r\n    import com.impossibl.postgres.api.jdbc.PGConnection;\r\n    import com.impossibl.postgres.api.jdbc.PGNotificationListener;\r\n    import com.impossibl.postgres.jdbc.PGDataSource;\r\n    \r\n    public class ListenNotify {\r\n      // Database connection\r\n      PGConnection connection;\r\n    \r\n      public ListenNotify() {\r\n        // Create the listener callback\r\n        PGNotificationListener listener = new PGNotificationListener() {\r\n          @Override\r\n          public void notification(int processId, String channelName, String payload) {\r\n            System.out.println(&quot;/channels/&quot; + channelName + &quot; &quot; + payload);\r\n          }\r\n        };\r\n        try {\r\n          PGDataSource dataSource = new PGDataSource();\r\n          dataSource.setHost(&quot;localhost&quot;);\r\n          dataSource.setPort(5432);\r\n          dataSource.setDatabaseName(&quot;test&quot;);\r\n          dataSource.setUser(&quot;postgres&quot;);\r\n          dataSource.setPassword(&quot;postgres&quot;);\r\n          // Log into the db\r\n          connection = (PGConnection) dataSource.getConnection();\r\n          // add the callback listener created earlier to the connection\r\n          connection.addNotificationListener(listener);\r\n          // Tell Postgres to send NOTIFY q_event to our connection and listener\r\n          Statement statement = connection.createStatement();\r\n          statement.execute(&quot;LISTEN my_event&quot;);\r\n          statement.close();\r\n        } catch (SQLException e) {\r\n          e.printStackTrace();\r\n        }\r\n      }\r\n    }\r\n\r\n\r\n&gt; com.impossibl.postgres.jdbc.PGSQLSimpleException: Connection Error: \r\n&gt;     java.lang.IllegalArgumentException: Unsupported event loop group type: \r\n&gt;     NioEventLoopGroup at    com.impossibl.postgres.jdbc.ErrorUtils.makeSQLException(ErrorUtils.java:137)\r\n&gt; \tat\r\n&gt; com.impossibl.postgres.jdbc.ConnectionUtil.createConnection(ConnectionUtil.java:212)\r\n&gt; \tat\r\n&gt; com.impossibl.postgres.jdbc.AbstractDataSource.createConnection(AbstractDataSource.java:137)\r\n&gt; \tat\r\n&gt; com.impossibl.postgres.jdbc.PGDataSource.getConnection(PGDataSource.java:71)\r\n&gt; \tat\r\n&gt; com.impossibl.postgres.jdbc.PGDataSource.getConnection(PGDataSource.java:63)\r\n&gt; \tat\r\n&gt; com.curu.open.rest.notifications.PostgresChanel.ListenNotify.&lt;init&gt;(ListenNotify.java:58)\r\n&gt; \tat\r\n&gt; com.curu.open.NotificationDispacherTimerTask.run(NotificationDispacherTimerTask.java:29)\r\n&gt; \tat java.util.TimerThread.mainLoop(Unknown Source) \tat\r\n&gt; java.util.TimerThread.run(Unknown Source)\r\n\r\n\r\n  [1]: https://www.openmakesoftware.com/postgresql-listen-notify-events-example/","title":"Unsupported event loop group type: NioEventLoopGroup using pgjdbc-ng","body":"<p>After <a href=\"https://www.openmakesoftware.com/postgresql-listen-notify-events-example/\" rel=\"nofollow noreferrer\">reviewing</a> by Steve Taylor\nI have tried to use it in my rest API but I have not managed to create the connection with my database, I have tried to create an instance of the <code>ListenNotify</code> class in the main thread and in secondary threads without achieving good result, please I could use it a little of help.</p>\n\n<pre><code>package com.curu.open.rest.notifications.PostgresChanel;\n\nimport java.sql.SQLException;\nimport java.sql.Statement;\n\nimport com.impossibl.postgres.api.jdbc.PGConnection;\nimport com.impossibl.postgres.api.jdbc.PGNotificationListener;\nimport com.impossibl.postgres.jdbc.PGDataSource;\n\npublic class ListenNotify {\n  // Database connection\n  PGConnection connection;\n\n  public ListenNotify() {\n    // Create the listener callback\n    PGNotificationListener listener = new PGNotificationListener() {\n      @Override\n      public void notification(int processId, String channelName, String payload) {\n        System.out.println(\"/channels/\" + channelName + \" \" + payload);\n      }\n    };\n    try {\n      PGDataSource dataSource = new PGDataSource();\n      dataSource.setHost(\"localhost\");\n      dataSource.setPort(5432);\n      dataSource.setDatabaseName(\"test\");\n      dataSource.setUser(\"postgres\");\n      dataSource.setPassword(\"postgres\");\n      // Log into the db\n      connection = (PGConnection) dataSource.getConnection();\n      // add the callback listener created earlier to the connection\n      connection.addNotificationListener(listener);\n      // Tell Postgres to send NOTIFY q_event to our connection and listener\n      Statement statement = connection.createStatement();\n      statement.execute(\"LISTEN my_event\");\n      statement.close();\n    } catch (SQLException e) {\n      e.printStackTrace();\n    }\n  }\n}\n</code></pre>\n\n<blockquote>\n  <p>com.impossibl.postgres.jdbc.PGSQLSimpleException: Connection Error: \n      java.lang.IllegalArgumentException: Unsupported event loop group type: \n      NioEventLoopGroup at    com.impossibl.postgres.jdbc.ErrorUtils.makeSQLException(ErrorUtils.java:137)\n    at\n  com.impossibl.postgres.jdbc.ConnectionUtil.createConnection(ConnectionUtil.java:212)\n    at\n  com.impossibl.postgres.jdbc.AbstractDataSource.createConnection(AbstractDataSource.java:137)\n    at\n  com.impossibl.postgres.jdbc.PGDataSource.getConnection(PGDataSource.java:71)\n    at\n  com.impossibl.postgres.jdbc.PGDataSource.getConnection(PGDataSource.java:63)\n    at\n  com.curu.open.rest.notifications.PostgresChanel.ListenNotify.(ListenNotify.java:58)\n    at\n  com.curu.open.NotificationDispacherTimerTask.run(NotificationDispacherTimerTask.java:29)\n    at java.util.TimerThread.mainLoop(Unknown Source)   at\n  java.util.TimerThread.run(Unknown Source)</p>\n</blockquote>\n"},{"tags":["java","spring","prometheus","webclient","metrics"],"answers":[{"comments":[{"owner":{"account_id":24203989,"reputation":21,"user_id":18161446,"display_name":"Patrick Baie"},"score":0,"creation_date":1698055838,"post_id":77274972,"comment_id":136352273,"body_markdown":"Thanks a lot for your answer\n\nThis is what I&#39;ve done in the WebClientInstanceBuilder class, which implements the BeanDefinitionRegistryPostProcessor interface.\n\nIn the postProcessBeanDefinitionRegistry method I build the WebClient and put it in the registry.\n\nOne thing I&#39;ve noticed: as soon as I remove the BeanDefinitionRegistryPostProcessor implements, I can see all the metrics.\n\nMaybe this is the problem ?","body":"Thanks a lot for your answer  This is what I&#39;ve done in the WebClientInstanceBuilder class, which implements the BeanDefinitionRegistryPostProcessor interface.  In the postProcessBeanDefinitionRegistry method I build the WebClient and put it in the registry.  One thing I&#39;ve noticed: as soon as I remove the BeanDefinitionRegistryPostProcessor implements, I can see all the metrics.  Maybe this is the problem ?"}],"tags":[],"owner":{"account_id":12455565,"reputation":5317,"user_id":9068895,"display_name":"Alex"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697043492,"creation_date":1697043176,"answer_id":77274972,"question_id":77220633,"body_markdown":"Not sure how `WebClient` is instantiated but, if you rely on the `WebClient.Builder` bean provided by [`WebClientAutoConfiguration`](https://github.com/spring-projects/spring-boot/blob/main/spring-boot-project/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/web/reactive/function/client/WebClientAutoConfiguration.java#L53), metrics should work out of the box. \r\n\r\nInternally, in spring boot 2.7.x, metrics are initialized using [`MetricsWebClientCustomizer`](https://github.com/spring-projects/spring-boot/blob/2.7.x/spring-boot-project/spring-boot-actuator/src/main/java/org/springframework/boot/actuate/metrics/web/reactive/client/MetricsWebClientCustomizer.java#L53) attaching filter functions (`MetricsWebClientFilterFunction`) to the `WebClient.Builder`.\r\n\r\nYou can &quot;mirror&quot; this logic and add corresponding filters explicitly to your client, but using `WebClient.Builder` is a recommended approach.\r\n\r\n\r\nOne possible solution is to create factory and use it to instantiate `WebClient` \r\n```\r\n@Component\r\npublic class WebClientFactory {\r\n\tprivate final WebClient.Builder webClientBuilder;\r\n\r\n\tpublic WebClientFactory(WebClient.Builder webClientBuilder) {\r\n\t\tthis.webClientBuilder = webClientBuilder;\r\n\t}\r\n\r\n\tpublic WebClient get(String baseUrl) {\r\n\t\t// we need to clone builder otherwise filters will be accumulated from different clients\r\n\t\treturn webClientBuilder.clone()\r\n\t\t\t\t.baseUrl(baseUrl)\r\n\t\t\t\t.build();\r\n\t}\r\n}\r\n```\r\n\r\nThe advantage of this approach is that you can add more cross-cutting logic (common filters, timeout settings, ...) into the factory that all your clients &quot;inherit&quot; the same settings. \r\n\r\n\r\nIn spring boot 3.x internals of metrics initialization were reworked and [`ObservationWebClientCustomizer`](https://github.com/spring-projects/spring-boot/blob/3.0.x/spring-boot-project/spring-boot-actuator/src/main/java/org/springframework/boot/actuate/metrics/web/reactive/client/ObservationWebClientCustomizer.java) is using to initialize metrics, but if you rely `WebClient.Builder` no changes will be required on app side.","title":"Why I don&#39;t see all the spring prometheus metrics with WebClient","body":"<p>Not sure how <code>WebClient</code> is instantiated but, if you rely on the <code>WebClient.Builder</code> bean provided by <a href=\"https://github.com/spring-projects/spring-boot/blob/main/spring-boot-project/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/web/reactive/function/client/WebClientAutoConfiguration.java#L53\" rel=\"nofollow noreferrer\"><code>WebClientAutoConfiguration</code></a>, metrics should work out of the box.</p>\n<p>Internally, in spring boot 2.7.x, metrics are initialized using <a href=\"https://github.com/spring-projects/spring-boot/blob/2.7.x/spring-boot-project/spring-boot-actuator/src/main/java/org/springframework/boot/actuate/metrics/web/reactive/client/MetricsWebClientCustomizer.java#L53\" rel=\"nofollow noreferrer\"><code>MetricsWebClientCustomizer</code></a> attaching filter functions (<code>MetricsWebClientFilterFunction</code>) to the <code>WebClient.Builder</code>.</p>\n<p>You can &quot;mirror&quot; this logic and add corresponding filters explicitly to your client, but using <code>WebClient.Builder</code> is a recommended approach.</p>\n<p>One possible solution is to create factory and use it to instantiate <code>WebClient</code></p>\n<pre><code>@Component\npublic class WebClientFactory {\n    private final WebClient.Builder webClientBuilder;\n\n    public WebClientFactory(WebClient.Builder webClientBuilder) {\n        this.webClientBuilder = webClientBuilder;\n    }\n\n    public WebClient get(String baseUrl) {\n        // we need to clone builder otherwise filters will be accumulated from different clients\n        return webClientBuilder.clone()\n                .baseUrl(baseUrl)\n                .build();\n    }\n}\n</code></pre>\n<p>The advantage of this approach is that you can add more cross-cutting logic (common filters, timeout settings, ...) into the factory that all your clients &quot;inherit&quot; the same settings.</p>\n<p>In spring boot 3.x internals of metrics initialization were reworked and <a href=\"https://github.com/spring-projects/spring-boot/blob/3.0.x/spring-boot-project/spring-boot-actuator/src/main/java/org/springframework/boot/actuate/metrics/web/reactive/client/ObservationWebClientCustomizer.java\" rel=\"nofollow noreferrer\"><code>ObservationWebClientCustomizer</code></a> is using to initialize metrics, but if you rely <code>WebClient.Builder</code> no changes will be required on app side.</p>\n"}],"owner":{"account_id":24203989,"reputation":21,"user_id":18161446,"display_name":"Patrick Baie"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":165,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1697043492,"creation_date":1696320888,"question_id":77220633,"body_markdown":"when I try to dynamically create a WebClient from a configuration file (application.properties) some prometheus metrics disappear, such as the jvm metrics\r\n\r\nI use spring boot 2.7.0, jdk 17.\r\n\r\n\r\n1/ First I load the configurations about the actuator&#39;s metrics\r\nTo do this, I have a spring.factories that contains \r\n\r\n```\r\norg.springframework.boot.env.EnvironmentPostProcessor=re.test.pos.api.actuator.LoadActuatorDefaultProperties\r\n\r\n```\r\n\r\n\r\nIn the class LoadActuatorDefaultProperties, I load in Environment the contains of the acutator-default.properties which contains for example :\r\n\r\n```\r\n\r\n    management.server.port=4242\r\n    management.endpoint.health.show-details=always\r\n    management.endpoints.web.exposure.include=*\r\n\r\n    management.endpoints.jmx.exposure.exclude=*\r\n    spring.jmx.enabled=true\r\n\r\n    management.endpoint.health.probes.enabled=true\r\n\r\n```\r\n\r\n2/ In a second time, I use a &quot;re.test.pos.api.consumer.WebClientInstanceBuilderAutoConfiguration&quot; in order to create a WebClientInstanceBuilder with the configuration containing in the application.properties which contains for example :\r\n\r\n```\r\n    xoapi.consumer.services.accountManagement.url=https://test.api:8443/test\r\n    xoapi.consumer.services.accountManagement.headers[Content-Type]=application/json\r\n    xoapi.consumer.services.accountManagement.headers[Accept-Language]=fr\r\n```\r\n\r\n\r\nMy goal is to retrieve parameters starting with xoapi.consumer and push them into the ConsumerProperties class.\r\nAfter that, WebClientInstanceBuilderAutoConfiguration class load ConsumerProperties and instantiate a WebClientInstanceBuilder and a WebClient.Builder with this kind of command : \r\n\r\n```\r\n    return serviceBuilder.baseUrl(service.getUrl()).defaultHeaders(httpHeaders -&gt; {\r\n\t\t\tservice.getHeaders().forEach(httpHeaders::add);\r\n\t\t}).codecs( codecs -&gt; {\r\n\t\t\tcodecs.defaultCodecs().maxInMemorySize(this.maxInMemorySize.intValue());\r\n\t\t});\r\n```\r\n\r\n3/ After that, when I try the URL http://localhost:4242/actuator/prometheus in my browser I see the next metrics :\r\n\r\n\r\n```\r\n\r\nexecutor_active_threads{name=&quot;applicationTaskExecutor&quot;,} 0.0\r\nexecutor_pool_size_threads{name=&quot;applicationTaskExecutor&quot;,} 0.0\r\ntomcat_sessions_alive_max_seconds 0.0\r\ntomcat_sessions_expired_sessions_total 0.0\r\ntomcat_sessions_created_sessions_total 0.0\r\nexecutor_queued_tasks{name=&quot;applicationTaskExecutor&quot;,} 0.0\r\nexecutor_queue_remaining_tasks{name=&quot;applicationTaskExecutor&quot;,} 2.147483647E9\r\napplication_started_time_seconds{main_application_class=&quot;re.test.pos.api.PointsOfSaleApiApplication&quot;,} 9.399\r\ntomcat_sessions_rejected_sessions_total 0.0\r\nexecutor_completed_tasks_total{name=&quot;applicationTaskExecutor&quot;,} 0.0\r\ntomcat_sessions_active_max_sessions 0.0\r\nexecutor_pool_core_threads{name=&quot;applicationTaskExecutor&quot;,} 8.0\r\nexecutor_pool_max_threads{name=&quot;applicationTaskExecutor&quot;,} 2.147483647E9\r\napplication_ready_time_seconds{main_application_class=&quot;re.test.pos.api.PointsOfSaleApiApplication&quot;,} 9.433\r\ntomcat_sessions_active_current_sessions 0.0\r\n\r\n```\r\n\r\n\r\n4/ In the application.properties, if I put in comment :\r\n\r\n\r\n```\r\n\r\n#xoapi.consumer.services.accountManagement.url=https://test.api:8443/test\r\n#xoapi.consumer.services.accountManagement.headers[Content-Type]=application/json\r\n#xoapi.consumer.services.accountManagement.headers[Accept-Language]=fr\r\n```\r\n\r\n\r\nAs there are no longer any associated configurations for WebClient creation, the WebClientInstanceBuilderAutoConfiguration class no longer attempts to instantiate a WebClient.\r\n\r\nIn this case, if I try the URL http://localhost:4242/actuator/prometheus in my browser I see a lot of metrics, more than in the above example. For example I see the jvm metrics :\r\n\r\n\r\n```\r\n\r\nprocess_cpu_usage 0.1100376909902195\r\nexecutor_pool_max_threads{name=&quot;applicationTaskExecutor&quot;,} 2.147483647E9\r\njvm_threads_live_threads 37.0\r\ntomcat_sessions_rejected_sessions_total 0.0\r\njvm_threads_states_threads{state=&quot;runnable&quot;,} 10.0\r\njvm_threads_states_threads{state=&quot;blocked&quot;,} 0.0\r\njvm_threads_states_threads{state=&quot;waiting&quot;,} 22.0\r\njvm_threads_states_threads{state=&quot;timed-waiting&quot;,} 5.0\r\njvm_threads_states_threads{state=&quot;new&quot;,} 0.0\r\njvm_threads_states_threads{state=&quot;terminated&quot;,} 0.0\r\njvm_gc_memory_promoted_bytes_total 6495232.0\r\ntomcat_sessions_alive_max_seconds 0.0\r\njvm_gc_memory_allocated_bytes_total 7.1303168E7\r\nexecutor_pool_size_threads{name=&quot;applicationTaskExecutor&quot;,} 0.0\r\n....\r\n\r\n```\r\n\r\n5/ Questions :\r\n\r\nWhy I don&#39;t see all the metrics if I create a WebClient ?\r\n\r\n6/ Here a zip file with the code\r\n[text](https://github.com/micrometer-metrics/micrometer/files/12790078/pointsofsalemetricsnotcomplete-api.zip)\r\n\r\nDezip the archive and run mvn clean install\r\nAfter thaht =&gt; run java -jar target\\pos-api-1.0.1.jar\r\n\r\n\r\n","title":"Why I don&#39;t see all the spring prometheus metrics with WebClient","body":"<p>when I try to dynamically create a WebClient from a configuration file (application.properties) some prometheus metrics disappear, such as the jvm metrics</p>\n<p>I use spring boot 2.7.0, jdk 17.</p>\n<p>1/ First I load the configurations about the actuator's metrics\nTo do this, I have a spring.factories that contains</p>\n<pre><code>org.springframework.boot.env.EnvironmentPostProcessor=re.test.pos.api.actuator.LoadActuatorDefaultProperties\n\n</code></pre>\n<p>In the class LoadActuatorDefaultProperties, I load in Environment the contains of the acutator-default.properties which contains for example :</p>\n<pre><code>\n    management.server.port=4242\n    management.endpoint.health.show-details=always\n    management.endpoints.web.exposure.include=*\n\n    management.endpoints.jmx.exposure.exclude=*\n    spring.jmx.enabled=true\n\n    management.endpoint.health.probes.enabled=true\n\n</code></pre>\n<p>2/ In a second time, I use a &quot;re.test.pos.api.consumer.WebClientInstanceBuilderAutoConfiguration&quot; in order to create a WebClientInstanceBuilder with the configuration containing in the application.properties which contains for example :</p>\n<pre><code>    xoapi.consumer.services.accountManagement.url=https://test.api:8443/test\n    xoapi.consumer.services.accountManagement.headers[Content-Type]=application/json\n    xoapi.consumer.services.accountManagement.headers[Accept-Language]=fr\n</code></pre>\n<p>My goal is to retrieve parameters starting with xoapi.consumer and push them into the ConsumerProperties class.\nAfter that, WebClientInstanceBuilderAutoConfiguration class load ConsumerProperties and instantiate a WebClientInstanceBuilder and a WebClient.Builder with this kind of command :</p>\n<pre><code>    return serviceBuilder.baseUrl(service.getUrl()).defaultHeaders(httpHeaders -&gt; {\n            service.getHeaders().forEach(httpHeaders::add);\n        }).codecs( codecs -&gt; {\n            codecs.defaultCodecs().maxInMemorySize(this.maxInMemorySize.intValue());\n        });\n</code></pre>\n<p>3/ After that, when I try the URL http://localhost:4242/actuator/prometheus in my browser I see the next metrics :</p>\n<pre><code>\nexecutor_active_threads{name=&quot;applicationTaskExecutor&quot;,} 0.0\nexecutor_pool_size_threads{name=&quot;applicationTaskExecutor&quot;,} 0.0\ntomcat_sessions_alive_max_seconds 0.0\ntomcat_sessions_expired_sessions_total 0.0\ntomcat_sessions_created_sessions_total 0.0\nexecutor_queued_tasks{name=&quot;applicationTaskExecutor&quot;,} 0.0\nexecutor_queue_remaining_tasks{name=&quot;applicationTaskExecutor&quot;,} 2.147483647E9\napplication_started_time_seconds{main_application_class=&quot;re.test.pos.api.PointsOfSaleApiApplication&quot;,} 9.399\ntomcat_sessions_rejected_sessions_total 0.0\nexecutor_completed_tasks_total{name=&quot;applicationTaskExecutor&quot;,} 0.0\ntomcat_sessions_active_max_sessions 0.0\nexecutor_pool_core_threads{name=&quot;applicationTaskExecutor&quot;,} 8.0\nexecutor_pool_max_threads{name=&quot;applicationTaskExecutor&quot;,} 2.147483647E9\napplication_ready_time_seconds{main_application_class=&quot;re.test.pos.api.PointsOfSaleApiApplication&quot;,} 9.433\ntomcat_sessions_active_current_sessions 0.0\n\n</code></pre>\n<p>4/ In the application.properties, if I put in comment :</p>\n<pre><code>\n#xoapi.consumer.services.accountManagement.url=https://test.api:8443/test\n#xoapi.consumer.services.accountManagement.headers[Content-Type]=application/json\n#xoapi.consumer.services.accountManagement.headers[Accept-Language]=fr\n</code></pre>\n<p>As there are no longer any associated configurations for WebClient creation, the WebClientInstanceBuilderAutoConfiguration class no longer attempts to instantiate a WebClient.</p>\n<p>In this case, if I try the URL http://localhost:4242/actuator/prometheus in my browser I see a lot of metrics, more than in the above example. For example I see the jvm metrics :</p>\n<pre><code>\nprocess_cpu_usage 0.1100376909902195\nexecutor_pool_max_threads{name=&quot;applicationTaskExecutor&quot;,} 2.147483647E9\njvm_threads_live_threads 37.0\ntomcat_sessions_rejected_sessions_total 0.0\njvm_threads_states_threads{state=&quot;runnable&quot;,} 10.0\njvm_threads_states_threads{state=&quot;blocked&quot;,} 0.0\njvm_threads_states_threads{state=&quot;waiting&quot;,} 22.0\njvm_threads_states_threads{state=&quot;timed-waiting&quot;,} 5.0\njvm_threads_states_threads{state=&quot;new&quot;,} 0.0\njvm_threads_states_threads{state=&quot;terminated&quot;,} 0.0\njvm_gc_memory_promoted_bytes_total 6495232.0\ntomcat_sessions_alive_max_seconds 0.0\njvm_gc_memory_allocated_bytes_total 7.1303168E7\nexecutor_pool_size_threads{name=&quot;applicationTaskExecutor&quot;,} 0.0\n....\n\n</code></pre>\n<p>5/ Questions :</p>\n<p>Why I don't see all the metrics if I create a WebClient ?</p>\n<p>6/ Here a zip file with the code\n<a href=\"https://github.com/micrometer-metrics/micrometer/files/12790078/pointsofsalemetricsnotcomplete-api.zip\" rel=\"nofollow noreferrer\">text</a></p>\n<p>Dezip the archive and run mvn clean install\nAfter thaht =&gt; run java -jar target\\pos-api-1.0.1.jar</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":44195,"reputation":269053,"user_id":129570,"accept_rate":79,"display_name":"Oliver Charlesworth"},"score":2,"creation_date":1413038317,"post_id":26315782,"comment_id":41297461,"body_markdown":"Please read up on [two&#39;s complement](http://en.wikipedia.org/wiki/Two%27s_complement).","body":"Please read up on <a href=\"http://en.wikipedia.org/wiki/Two%27s_complement\" rel=\"nofollow noreferrer\">two&#39;s complement</a>."}],"answers":[{"tags":[],"owner":{"account_id":8291,"reputation":860517,"user_id":14860,"accept_rate":100,"display_name":"paxdiablo"},"comment_count":0,"down_vote_count":0,"up_vote_count":49,"is_accepted":true,"score":49,"last_activity_date":1577750112,"creation_date":1413038333,"answer_id":26315812,"question_id":26315782,"body_markdown":"Your understanding of what those negative numbers should look like is flawed. Java uses two&#39;s complement for negative numbers and the basic rule is to take the positive, invert all bits then add one. That gets you the negative.\r\n\r\nHence five is, as you state:\r\n\r\n    0000...00000101\r\n\r\nInverting that gives you:\r\n\r\n    1111...11111010\r\n\r\nThen adding one gives:\r\n\r\n    1111...11111011\r\n\r\nThe bit pattern _you_ have shown for `-5` is what&#39;s called sign/magnitude, where you negate a number simply by flipping the leftmost bit. That&#39;s allowed in C implementations as one of the [three possibilities][1]&lt;sup&gt;(a)&lt;/sup&gt;, but Java uses two&#39;s complement only (for its negative integers).\r\n\r\n---\r\n\r\n&lt;sup&gt;(a)&lt;/sup&gt; But keep in mind there are current efforts in both C and C++ to remove the other two encoding types and allow only two&#39;s complement.\r\n\r\n  [1]: https://stackoverflow.com/questions/3952123/representation-of-negative-numbers-in-c/3952262#3952262","title":"Binary presentation of negative integer in Java","body":"<p>Your understanding of what those negative numbers should look like is flawed. Java uses two's complement for negative numbers and the basic rule is to take the positive, invert all bits then add one. That gets you the negative.</p>\n\n<p>Hence five is, as you state:</p>\n\n<pre><code>0000...00000101\n</code></pre>\n\n<p>Inverting that gives you:</p>\n\n<pre><code>1111...11111010\n</code></pre>\n\n<p>Then adding one gives:</p>\n\n<pre><code>1111...11111011\n</code></pre>\n\n<p>The bit pattern <em>you</em> have shown for <code>-5</code> is what's called sign/magnitude, where you negate a number simply by flipping the leftmost bit. That's allowed in C implementations as one of the <a href=\"https://stackoverflow.com/questions/3952123/representation-of-negative-numbers-in-c/3952262#3952262\">three possibilities</a><sup>(a)</sup>, but Java uses two's complement only (for its negative integers).</p>\n\n<hr>\n\n<p><sup>(a)</sup> But keep in mind there are current efforts in both C and C++ to remove the other two encoding types and allow only two's complement.</p>\n"},{"tags":[],"owner":{"account_id":4819600,"reputation":56500,"user_id":3890632,"display_name":"khelwood"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1413038434,"creation_date":1413038434,"answer_id":26315823,"question_id":26315782,"body_markdown":"http://en.wikipedia.org/wiki/Two%27s_complement\r\n\r\nThe way negative numbers are stored is that the most significant bit (e.g. the bit representing 2^31 for a 32 bit number) is regarded as negative. So if you stored all 1s, you would add up\r\n\r\n    (-2^31) + 2^30 + 2^29 + ... + 2^1 + 2^0\r\n\r\nwhich makes `-1`.\r\n\r\nSmall negative numbers will be mostly ones under this representation.","title":"Binary presentation of negative integer in Java","body":"<p><a href=\"http://en.wikipedia.org/wiki/Two%27s_complement\" rel=\"nofollow\">http://en.wikipedia.org/wiki/Two%27s_complement</a></p>\n\n<p>The way negative numbers are stored is that the most significant bit (e.g. the bit representing 2^31 for a 32 bit number) is regarded as negative. So if you stored all 1s, you would add up</p>\n\n<pre><code>(-2^31) + 2^30 + 2^29 + ... + 2^1 + 2^0\n</code></pre>\n\n<p>which makes <code>-1</code>.</p>\n\n<p>Small negative numbers will be mostly ones under this representation.</p>\n"},{"tags":[],"owner":{"account_id":134022,"reputation":717183,"user_id":335858,"accept_rate":81,"display_name":"Sergey Kalinichenko"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1413039041,"creation_date":1413038490,"answer_id":26315828,"question_id":26315782,"body_markdown":"&gt; And as I understand binary presentation of -5 should be like `10000000.00000000.00000000.00000101`.\r\n\r\nThat would be right if Java used a [Sign and Magnitude][1] representation for integers. However, Java uses [Two&#39;s Complement][2] representation, so the rest of the bits are changed in accordance with the rules of that representation.\r\n\r\nThe idea behind two&#39;s complement representation is that when you add a number in such representation to another value dropping the extra bit on the most significant end, the result would be as if you subtracted a positive number of the same magnitude.\r\n\r\nYou can illustrate this with decimal numbers. In a two-digit representation, the value of 99 would behave like -1, 98 would be like -2, 97 like -3, and so on. For example, if you drop the top digit in `23 + 99 = [1]22`, so 99 behaved like -1. `23 + 98 = [1]21`, so 98 behaved like -2.\r\n\r\nThis works the same way with two&#39;s complement representation of binary numbers, except you would drop the extra bit at the top.\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Signed_number_representations#Sign-and-magnitude_method\r\n  [2]: http://en.wikipedia.org/wiki/Signed_number_representations#Two.27s_complement","title":"Binary presentation of negative integer in Java","body":"<blockquote>\n  <p>And as I understand binary presentation of -5 should be like <code>10000000.00000000.00000000.00000101</code>.</p>\n</blockquote>\n\n<p>That would be right if Java used a <a href=\"http://en.wikipedia.org/wiki/Signed_number_representations#Sign-and-magnitude_method\" rel=\"noreferrer\">Sign and Magnitude</a> representation for integers. However, Java uses <a href=\"http://en.wikipedia.org/wiki/Signed_number_representations#Two.27s_complement\" rel=\"noreferrer\">Two's Complement</a> representation, so the rest of the bits are changed in accordance with the rules of that representation.</p>\n\n<p>The idea behind two's complement representation is that when you add a number in such representation to another value dropping the extra bit on the most significant end, the result would be as if you subtracted a positive number of the same magnitude.</p>\n\n<p>You can illustrate this with decimal numbers. In a two-digit representation, the value of 99 would behave like -1, 98 would be like -2, 97 like -3, and so on. For example, if you drop the top digit in <code>23 + 99 = [1]22</code>, so 99 behaved like -1. <code>23 + 98 = [1]21</code>, so 98 behaved like -2.</p>\n\n<p>This works the same way with two's complement representation of binary numbers, except you would drop the extra bit at the top.</p>\n"},{"tags":[],"owner":{"display_name":"user3830162"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1413038503,"creation_date":1413038503,"answer_id":26315830,"question_id":26315782,"body_markdown":"Here is an example for 2&#39;s compliment:\r\n\r\nIf you have -30, and want to represent it in 2&#39;s complement, you take the binary representation of 30:\r\n\r\n0000 0000 0000 0000 0000 0000 0001 1110\r\n\r\nInvert the digits.\r\n\r\n1111 1111 1111 1111 1111 1111 1110 0001\r\n\r\nAnd add one.\r\n\r\n1111 1111 1111 1111 1111 1111 1110 0010\r\n\r\nConverted back into hex, this is 0xFFFFFFE2. And indeed, suppose you have this code:\r\n\r\n    #include &lt;stdio.h&gt;\r\n    \r\n    int main() {\r\n        int myInt;\r\n        myInt = 0xFFFFFFE2;\r\n        printf(&quot;%d\\n&quot;,myInt);\r\n    \r\n        return 0;\r\n    }\r\n\r\nThat should yield an output of -30. Try it out if you like.","title":"Binary presentation of negative integer in Java","body":"<p>Here is an example for 2's compliment:</p>\n\n<p>If you have -30, and want to represent it in 2's complement, you take the binary representation of 30:</p>\n\n<p>0000 0000 0000 0000 0000 0000 0001 1110</p>\n\n<p>Invert the digits.</p>\n\n<p>1111 1111 1111 1111 1111 1111 1110 0001</p>\n\n<p>And add one.</p>\n\n<p>1111 1111 1111 1111 1111 1111 1110 0010</p>\n\n<p>Converted back into hex, this is 0xFFFFFFE2. And indeed, suppose you have this code:</p>\n\n<pre><code>#include &lt;stdio.h&gt;\n\nint main() {\n    int myInt;\n    myInt = 0xFFFFFFE2;\n    printf(\"%d\\n\",myInt);\n\n    return 0;\n}\n</code></pre>\n\n<p>That should yield an output of -30. Try it out if you like.</p>\n"},{"tags":[],"owner":{"account_id":1937747,"reputation":14200,"user_id":1744774,"accept_rate":100,"display_name":"Gerold Broser"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1677595660,"creation_date":1413050141,"answer_id":26317552,"question_id":26315782,"body_markdown":"With two&#39;s complement it&#39;s true that a MSB of 1 indicates a negative number. But the remaining bits are not the binary representation of its value then.\r\n\r\nOn the other hand, if the MSB is 0 the remaining bits represent the binary value. But it cannot be said that the number is positive then. Zero is neither positive nor negative. \r\n\r\nThis picture, a [number circle][nc], helped me to understand the principle when I started to learn that there are more representations of numbers than with 0..9:\r\n\r\n               0\r\n        -1    000    1\r\n           111   001  \r\n    -2  110         010  2\r\n           101   011\r\n        -3    100    3\r\n              -4\r\n\r\nOr as linked above:\r\n\r\n&lt;img src=&quot;https://i.stack.imgur.com/jBWno.gif&quot; width=&quot;320&quot; height=&quot;256&quot;&gt;\r\n\r\n\r\n[nc]: https://i.stack.imgur.com/jBWno.gif","title":"Binary presentation of negative integer in Java","body":"<p>With two's complement it's true that a MSB of 1 indicates a negative number. But the remaining bits are not the binary representation of its value then.</p>\n<p>On the other hand, if the MSB is 0 the remaining bits represent the binary value. But it cannot be said that the number is positive then. Zero is neither positive nor negative.</p>\n<p>This picture, a <a href=\"https://i.stack.imgur.com/jBWno.gif\" rel=\"nofollow noreferrer\">number circle</a>, helped me to understand the principle when I started to learn that there are more representations of numbers than with 0..9:</p>\n<pre><code>           0\n    -1    000    1\n       111   001  \n-2  110         010  2\n       101   011\n    -3    100    3\n          -4\n</code></pre>\n<p>Or as linked above:</p>\n<img src=\"https://i.stack.imgur.com/jBWno.gif\" width=\"320\" height=\"256\">\n"},{"tags":[],"owner":{"account_id":22049143,"reputation":3,"user_id":16313677,"display_name":"Jatin Agarwal"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697043082,"creation_date":1697043082,"answer_id":77274959,"question_id":26315782,"body_markdown":"https://stackoverflow.com/a/26315812/16313677 this explains how to get a two&#39;s complement. But I am writing this answer to give an intuitive insight to two&#39;s complement. How it represents negative of a number.\r\n\r\n 1. Lets assume we are working with 32 bit integers and the first bit ( that is the most significant bit) has a direction of -1 instead of usual one. What do I mean that. If you are given binary number 101 it means `(+1)*(2^2) + (0)*(2^1) + (+1)*(2^0)`. However if the most significant bit is set, it represents `(-1)*(2^31)`\r\n 2. lets x be our original positive number. Lets assume we flip all its bits except the most significant bit. We get a number y. Now `x + y = 2^31 - 1`\r\n 3. By rearranging we get `-x = -(2^31) + y + 1`\r\n\r\nNow look carefully at the RHS of the last equation. We will get `-(2^31)` through the most significant bit. y is received by flipping all the bits. And we add 1. This is exactly how we do two&#39;s complement. ","title":"Binary presentation of negative integer in Java","body":"<p><a href=\"https://stackoverflow.com/a/26315812/16313677\">https://stackoverflow.com/a/26315812/16313677</a> this explains how to get a two's complement. But I am writing this answer to give an intuitive insight to two's complement. How it represents negative of a number.</p>\n<ol>\n<li>Lets assume we are working with 32 bit integers and the first bit ( that is the most significant bit) has a direction of -1 instead of usual one. What do I mean that. If you are given binary number 101 it means <code>(+1)*(2^2) + (0)*(2^1) + (+1)*(2^0)</code>. However if the most significant bit is set, it represents <code>(-1)*(2^31)</code></li>\n<li>lets x be our original positive number. Lets assume we flip all its bits except the most significant bit. We get a number y. Now <code>x + y = 2^31 - 1</code></li>\n<li>By rearranging we get <code>-x = -(2^31) + y + 1</code></li>\n</ol>\n<p>Now look carefully at the RHS of the last equation. We will get <code>-(2^31)</code> through the most significant bit. y is received by flipping all the bits. And we add 1. This is exactly how we do two's complement.</p>\n"}],"owner":{"account_id":1873537,"reputation":1459,"user_id":1695258,"accept_rate":73,"display_name":"Petr Shypila"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":17845,"favorite_count":0,"down_vote_count":0,"up_vote_count":19,"accepted_answer_id":26315812,"answer_count":6,"score":19,"last_activity_date":1697043082,"creation_date":1413038166,"question_id":26315782,"body_markdown":"Please, help me to understand binary presentation of negative integers.\r\n\r\nFor example we have 5. \r\nBinary presentation of 5 is `00000000.00000000.00000000.00000101`.\r\n\r\nAnd as I understand binary presentation of -5 should be like `10000000.00000000.00000000.00000101`.\r\n\r\nBut output is `11111111.11111111.11111111.11111011`.\r\n\r\nI have 2 question:\r\n\r\n1) Why here is so much `1` bits.\r\n\r\n2) What I really cant understand it last 3 bits `011`. It looks like `3`. Even +1 or -1 it&#39;ll be `100` or `010`\r\n\r\nThanks","title":"Binary presentation of negative integer in Java","body":"<p>Please, help me to understand binary presentation of negative integers.</p>\n\n<p>For example we have 5. \nBinary presentation of 5 is <code>00000000.00000000.00000000.00000101</code>.</p>\n\n<p>And as I understand binary presentation of -5 should be like <code>10000000.00000000.00000000.00000101</code>.</p>\n\n<p>But output is <code>11111111.11111111.11111111.11111011</code>.</p>\n\n<p>I have 2 question:</p>\n\n<p>1) Why here is so much <code>1</code> bits.</p>\n\n<p>2) What I really cant understand it last 3 bits <code>011</code>. It looks like <code>3</code>. Even +1 or -1 it'll be <code>100</code> or <code>010</code></p>\n\n<p>Thanks</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9786,"page":131,"page_size":100}
