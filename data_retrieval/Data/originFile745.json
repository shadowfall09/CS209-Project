{"items":[{"tags":["java","android"],"owner":{"account_id":27469044,"reputation":1,"user_id":20958304,"display_name":"Carlos Serrano"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673277089,"creation_date":1673277089,"question_id":75059264,"body_markdown":"I want to make a query to Firestore database to get a url stored. Then with that url I want to show the .txt that cointains the url.\r\nMy problem is that the code executes automatically and doesn&#39;t wait to end the query.\r\nI want to:\r\n\r\n1. Store the url in a variable.\r\n\r\n2. With that variable take the .txt and read line by line in a texview.\r\n   I can do both, but separately, when I try to do it together I have the problem, I need to wait the result and then continue executing the code. How can I do it?\r\n   My code is:\r\n\r\n```\r\nString idioma, modo, cuento, url_cuento;\r\nFirebaseFirestore db = FirebaseFirestore.getInstance();\r\n@Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_reproductor_cuento);\r\n\r\n        //Hacemos llamada a clase para mostrar la pantalla completa\r\n        PantallaCompleta pantallaCompleta = new PantallaCompleta();\r\n        View decorView = getWindow().getDecorView();\r\n        pantallaCompleta.pantallaCompleta(decorView);\r\n\r\n\r\n        //Recogemos los parametros que se pasan por activities\r\n        Bundle extra = this.getIntent().getExtras();\r\n        idioma = extra.getString(&quot;idioma&quot;);\r\n        modo = extra.getString(&quot;modo&quot;);\r\n        cuento = extra.getString(&quot;cuento&quot;);\r\n\r\n        url_cuento = consultaTxtCuento(cuento, idioma);\r\n        new GetData().execute();\r\n    }\r\n\r\npublic String consultaTxtCuento(String cuento, String idioma){\r\n        final String[] urlTxt = new String[1];\r\n        DocumentReference docRef = db.collection(&quot;cuentos&quot;).document(cuento);\r\n        docRef.get().addOnCompleteListener(new OnCompleteListener&lt;DocumentSnapshot&gt;() {\r\n            @Override\r\n            public void onComplete(@NonNull Task&lt;DocumentSnapshot&gt; task) {\r\n                if (task.isSuccessful()) {\r\n                    DocumentSnapshot document = task.getResult();\r\n                    if (document.exists()) {\r\n                        urlTxt[0] = document.get(&quot;txt_&quot; + idioma).toString();\r\n                        System.out.println(&quot;Se obtiene como URL -&gt; &quot; + urlTxt[0]);\r\n                    }\r\n                } else {\r\n                    Log.d(TAG, &quot;get failed with &quot;, task.getException());\r\n                }\r\n            }\r\n        });\r\n        return urlTxt[0];\r\n    }\r\n\r\n    class GetData extends AsyncTask&lt;String, Void, String&gt; {\r\n        @Override\r\n        protected String doInBackground(String... params) {\r\n            HttpURLConnection urlConnection = null;\r\n            String result = &quot;&quot;;\r\n            try {\r\n                URL url = new URL(url_cuento);\r\n                urlConnection = (HttpURLConnection) url.openConnection();\r\n                int code = urlConnection.getResponseCode();\r\n                if(code==200){\r\n                    InputStream in = new BufferedInputStream(urlConnection.getInputStream());\r\n                    if (in != null) {\r\n                        BufferedReader bufferedReader = new BufferedReader(new InputStreamReader(in));\r\n                        String line = &quot;&quot;;\r\n                        while ((line = bufferedReader.readLine()) != null)\r\n                            result += line;\r\n                    }\r\n                    in.close();\r\n                }\r\n                return result;\r\n            } catch (MalformedURLException e) {\r\n                e.printStackTrace();\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n\r\n            finally {\r\n                urlConnection.disconnect();\r\n            }\r\n            return result;\r\n        }\r\n\r\n        @Override\r\n        protected void onPostExecute(String result) {\r\n            super.onPostExecute(result);\r\n        }\r\n    }\r\n```\r\n\r\n\r\nWhat can I do to execute waiting the results? Thanks","title":"How to make a query to Firestore databse, wait the result and look for a url","body":"<p>I want to make a query to Firestore database to get a url stored. Then with that url I want to show the .txt that cointains the url.\nMy problem is that the code executes automatically and doesn't wait to end the query.\nI want to:</p>\n<ol>\n<li><p>Store the url in a variable.</p>\n</li>\n<li><p>With that variable take the .txt and read line by line in a texview.\nI can do both, but separately, when I try to do it together I have the problem, I need to wait the result and then continue executing the code. How can I do it?\nMy code is:</p>\n</li>\n</ol>\n<pre><code>String idioma, modo, cuento, url_cuento;\nFirebaseFirestore db = FirebaseFirestore.getInstance();\n@Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_reproductor_cuento);\n\n        //Hacemos llamada a clase para mostrar la pantalla completa\n        PantallaCompleta pantallaCompleta = new PantallaCompleta();\n        View decorView = getWindow().getDecorView();\n        pantallaCompleta.pantallaCompleta(decorView);\n\n\n        //Recogemos los parametros que se pasan por activities\n        Bundle extra = this.getIntent().getExtras();\n        idioma = extra.getString(&quot;idioma&quot;);\n        modo = extra.getString(&quot;modo&quot;);\n        cuento = extra.getString(&quot;cuento&quot;);\n\n        url_cuento = consultaTxtCuento(cuento, idioma);\n        new GetData().execute();\n    }\n\npublic String consultaTxtCuento(String cuento, String idioma){\n        final String[] urlTxt = new String[1];\n        DocumentReference docRef = db.collection(&quot;cuentos&quot;).document(cuento);\n        docRef.get().addOnCompleteListener(new OnCompleteListener&lt;DocumentSnapshot&gt;() {\n            @Override\n            public void onComplete(@NonNull Task&lt;DocumentSnapshot&gt; task) {\n                if (task.isSuccessful()) {\n                    DocumentSnapshot document = task.getResult();\n                    if (document.exists()) {\n                        urlTxt[0] = document.get(&quot;txt_&quot; + idioma).toString();\n                        System.out.println(&quot;Se obtiene como URL -&gt; &quot; + urlTxt[0]);\n                    }\n                } else {\n                    Log.d(TAG, &quot;get failed with &quot;, task.getException());\n                }\n            }\n        });\n        return urlTxt[0];\n    }\n\n    class GetData extends AsyncTask&lt;String, Void, String&gt; {\n        @Override\n        protected String doInBackground(String... params) {\n            HttpURLConnection urlConnection = null;\n            String result = &quot;&quot;;\n            try {\n                URL url = new URL(url_cuento);\n                urlConnection = (HttpURLConnection) url.openConnection();\n                int code = urlConnection.getResponseCode();\n                if(code==200){\n                    InputStream in = new BufferedInputStream(urlConnection.getInputStream());\n                    if (in != null) {\n                        BufferedReader bufferedReader = new BufferedReader(new InputStreamReader(in));\n                        String line = &quot;&quot;;\n                        while ((line = bufferedReader.readLine()) != null)\n                            result += line;\n                    }\n                    in.close();\n                }\n                return result;\n            } catch (MalformedURLException e) {\n                e.printStackTrace();\n            } catch (IOException e) {\n                e.printStackTrace();\n            }\n\n            finally {\n                urlConnection.disconnect();\n            }\n            return result;\n        }\n\n        @Override\n        protected void onPostExecute(String result) {\n            super.onPostExecute(result);\n        }\n    }\n</code></pre>\n<p>What can I do to execute waiting the results? Thanks</p>\n"},{"tags":["java","concurrency","completable-future"],"comments":[{"owner":{"account_id":1078629,"reputation":599,"user_id":1076228,"display_name":"fsschmitt"},"score":0,"creation_date":1537529261,"post_id":52441594,"comment_id":91828130,"body_markdown":"Which version o Java are you using? You basically want to use sync methods but you only have async methods available, am I right? Be really aware of what this can do to performance. Check the CompletableFuture docs: https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/CompletableFuture.html\n\nFeel free to use .get() method to wait on the result of a Future and .allOf() method to create a Future that waits on all other futures to be completed.","body":"Which version o Java are you using? You basically want to use sync methods but you only have async methods available, am I right? Be really aware of what this can do to performance. Check the CompletableFuture docs: <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/CompletableFuture.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/8/docs/api/java/util/concurrent/&hellip;</a>  Feel free to use .get() method to wait on the result of a Future and .allOf() method to create a Future that waits on all other futures to be completed."}],"answers":[{"tags":[],"owner":{"account_id":249169,"reputation":19388,"user_id":525036,"accept_rate":25,"display_name":"Didier L"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1673276960,"creation_date":1537529817,"answer_id":52442903,"question_id":52441594,"body_markdown":"Your current solution calls `supplyAsync()` immediately and later tries to combine the results.\r\n\r\nIf you want to guarantee sequential execution, you should use `thenApply()` or `thenCompose()` instead of `thenCombine()`:\r\n\r\n\tfor (Supplier&lt;Boolean&gt; method : methods)\r\n\t{\r\n\t\tif (future == null)\r\n\t\t{\r\n\t\t\tfuture = CompletableFuture.supplyAsync(method, threadPool);\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\tfuture = future.thenApplyAsync(result -&gt; result &amp;&amp; method.get(), threadPool);\r\n\t\t}\r\n\t}\r\n\r\nNote that this will not call the `method.get()` on the next suppliers if any of them returns false, since `&amp;&amp;` is short-circuiting. You could use a single `&amp;` to force the call anyway, or swap the parameters.\r\n\r\nThis already combines all the boolean results at the end. You can add anything on the resulting `future` after the loop, like more `thenApply()` calls, or a blocking `join()` call to retrieve the `Boolean`.\r\n\r\nNote that this loop can also easily be rewritten using streams:\r\n\r\n\tfuture = Arrays.stream(methods)\r\n\t\t\t.reduce(CompletableFuture.completedFuture(true),\r\n\t\t\t\t\t(f, method) -&gt; f.thenApplyAsync(result -&gt; result &amp;&amp; method.get()),\r\n\t\t\t\t\t(f1, f2) -&gt; f1.thenCombine(f2, (result1, result2) -&gt; result1 &amp;&amp; result2));","title":"Run async actions in sequence","body":"<p>Your current solution calls <code>supplyAsync()</code> immediately and later tries to combine the results.</p>\n<p>If you want to guarantee sequential execution, you should use <code>thenApply()</code> or <code>thenCompose()</code> instead of <code>thenCombine()</code>:</p>\n<pre><code>for (Supplier&lt;Boolean&gt; method : methods)\n{\n    if (future == null)\n    {\n        future = CompletableFuture.supplyAsync(method, threadPool);\n    }\n    else\n    {\n        future = future.thenApplyAsync(result -&gt; result &amp;&amp; method.get(), threadPool);\n    }\n}\n</code></pre>\n<p>Note that this will not call the <code>method.get()</code> on the next suppliers if any of them returns false, since <code>&amp;&amp;</code> is short-circuiting. You could use a single <code>&amp;</code> to force the call anyway, or swap the parameters.</p>\n<p>This already combines all the boolean results at the end. You can add anything on the resulting <code>future</code> after the loop, like more <code>thenApply()</code> calls, or a blocking <code>join()</code> call to retrieve the <code>Boolean</code>.</p>\n<p>Note that this loop can also easily be rewritten using streams:</p>\n<pre><code>future = Arrays.stream(methods)\n        .reduce(CompletableFuture.completedFuture(true),\n                (f, method) -&gt; f.thenApplyAsync(result -&gt; result &amp;&amp; method.get()),\n                (f1, f2) -&gt; f1.thenCombine(f2, (result1, result2) -&gt; result1 &amp;&amp; result2));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":387081,"reputation":1374,"user_id":745224,"accept_rate":70,"display_name":"dirkvranckaert"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1594891707,"creation_date":1594891707,"answer_id":62931597,"question_id":52441594,"body_markdown":"You could easily do so by using the Spotify CompletableFutures library: https://github.com/spotify/completable-futures\r\n\r\nThey provide some really useful tools for this, for example an `allAsList` that returns a `CompletableFuture&lt;List&lt;T&gt;&gt;`.","title":"Run async actions in sequence","body":"<p>You could easily do so by using the Spotify CompletableFutures library: <a href=\"https://github.com/spotify/completable-futures\" rel=\"nofollow noreferrer\">https://github.com/spotify/completable-futures</a></p>\n<p>They provide some really useful tools for this, for example an <code>allAsList</code> that returns a <code>CompletableFuture&lt;List&lt;T&gt;&gt;</code>.</p>\n"}],"owner":{"account_id":1144833,"reputation":7270,"user_id":1127843,"accept_rate":86,"display_name":"kayz1"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3047,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":52442903,"answer_count":2,"score":0,"last_activity_date":1673276960,"creation_date":1537525294,"question_id":52441594,"body_markdown":"I have a sequence of I/O operations (DB, I/O devices...) I need to run in sequence.\r\n\r\n    @SafeVarargs\r\n    public final CompletableFuture&lt;Boolean&gt; execute(final Supplier&lt;Boolean&gt;... methods)\r\n    {\r\n    \tCompletableFuture&lt;Boolean&gt; future = null;\r\n    \r\n    \tfor (Supplier&lt;Boolean&gt; method : methods)\r\n    \t{\r\n    \t\tif (future == null)\r\n    \t\t{\r\n    \t\t\tfuture = CompletableFuture.supplyAsync(method, threadPool);\r\n    \t\t}\r\n    \t\telse\r\n    \t\t{\r\n    \t\t\tfuture.thenCombineAsync(CompletableFuture.supplyAsync(method, threadPool), (result, currentResult) -&gt; result &amp;&amp; currentResult,\r\n    \t\t\t\t\tthreadPool);\r\n    \t\t}\r\n    \t}\r\n    \r\n    \treturn future.exceptionally(this::onException);\r\n    }\r\n\r\nMy code executes randomly. \r\n\r\n 1. What can I do to ensure order?\r\n 2. How can I combine results in the end? If all were true, for instance?\r\n 3. To apply a callback after everything is complete to check the result?","title":"Run async actions in sequence","body":"<p>I have a sequence of I/O operations (DB, I/O devices...) I need to run in sequence.</p>\n\n<pre><code>@SafeVarargs\npublic final CompletableFuture&lt;Boolean&gt; execute(final Supplier&lt;Boolean&gt;... methods)\n{\n    CompletableFuture&lt;Boolean&gt; future = null;\n\n    for (Supplier&lt;Boolean&gt; method : methods)\n    {\n        if (future == null)\n        {\n            future = CompletableFuture.supplyAsync(method, threadPool);\n        }\n        else\n        {\n            future.thenCombineAsync(CompletableFuture.supplyAsync(method, threadPool), (result, currentResult) -&gt; result &amp;&amp; currentResult,\n                    threadPool);\n        }\n    }\n\n    return future.exceptionally(this::onException);\n}\n</code></pre>\n\n<p>My code executes randomly. </p>\n\n<ol>\n<li>What can I do to ensure order?</li>\n<li>How can I combine results in the end? If all were true, for instance?</li>\n<li>To apply a callback after everything is complete to check the result?</li>\n</ol>\n"},{"tags":["java","android","graph","linegraph"],"comments":[{"owner":{"account_id":13180915,"reputation":1094,"user_id":9520315,"display_name":"Sujal Kumar"},"score":0,"creation_date":1673500729,"post_id":75059231,"comment_id":132514413,"body_markdown":"I am not very familiar with the LineChart stuff you are using but from what I understood, you want the dates to be arranged in ascending/descending order on the X-axis. If that is correct, I think a proportional conversion of the `Date` string to something like seconds completely should do it.","body":"I am not very familiar with the LineChart stuff you are using but from what I understood, you want the dates to be arranged in ascending/descending order on the X-axis. If that is correct, I think a proportional conversion of the <code>Date</code> string to something like seconds completely should do it."}],"owner":{"account_id":26394012,"reputation":31,"user_id":20045441,"display_name":"wuad"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":117,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1673276920,"creation_date":1673276920,"question_id":75059231,"body_markdown":"I am making an app in android studio with java in which I want to make a line graph with the mpchart android library. The data that I want to represent in my graph is obtained by reading a sqlite database. The idea is that the x axis shows the time and date while the axis and the amount of data. The problem is that the method to insert the values ​​into the dataset with which it is graphed only accepts numeric values ​​and the data that I read from my database are integers and strings, so My question is how to convert the date and time string to an integer so that the graph works for me?\r\nmy code:\r\n\r\nlineGraphClass:\r\n\r\n```\r\npublic class lineGraphClass {\r\n    int count;\r\n    String date;\r\n\r\n    public String getDate() {\r\n\r\n        return date;\r\n    }\r\n\r\n    public void setDate(String date) {\r\n        this.date = date;\r\n    }\r\n    public int getCount() {\r\n        return count;\r\n    }\r\n\r\n    public void setCount(int count) {\r\n\r\n        this.count = count;\r\n    }\r\n}\r\n\r\n\r\n```\r\n\r\nconexionsqlitehelper.class:query database:\r\n\r\n```\r\npublic List&lt;lineGraphClass&gt; dataDebatebyGroupDate(int id){\r\n        SQLiteDatabase db = this.getReadableDatabase();\r\n        String query = &quot;SELECT count(arguments.id_arguments),arguments.date_arguments FROM arguments WHERE arguments.arguments_summary_debate_relation =? &quot;;\r\n        Cursor cursor = db.rawQuery(query, new String[]{String.valueOf(id)});\r\n        List&lt;lineGraphClass&gt; data = new ArrayList&lt;lineGraphClass&gt;();\r\n        if (cursor.moveToFirst()) {\r\n            do {\r\n                lineGraphClass fill_data = new lineGraphClass();\r\n                fill_data.setCount(cursor.getInt(0));\r\n                fill_data.setDate(cursor.getString(1));\r\n                data.add(fill_data);\r\n            } while (cursor.moveToNext());\r\n        }\r\n        db.close();\r\n        return data;\r\n    } \r\n``` \r\n\r\nlineChart.class:class that will draw the line graph\r\n\r\n``` \r\npublic class lineChart extends Fragment {\r\n    public String name,title;\r\n    List&lt;lineGraphClass&gt; data;\r\n    @Override\r\n    public View onCreateView(LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState) {\r\n        View view = inflater.inflate(R.layout.fragment_line_chart, container, false);\r\n        LineChart linechart = view.findViewById(R.id.linechart);\r\n        LineDataSet linedataset = new LineDataSet(fillDataset(),&quot;&quot;);\r\n        ArrayList&lt;ILineDataSet&gt; dataSets = new ArrayList&lt;&gt;();\r\n        dataSets.add(linedataset);\r\n        LineData linedata = new LineData(dataSets);\r\n        linechart.setData(linedata);\r\n        linechart.invalidate();\r\n        return view;\r\n    }\r\n    private ArrayList&lt;Entry&gt; fillDataset() {\r\n        ConexionSQliteHelper conn = new ConexionSQliteHelper(getContext(), &quot;lala&quot;, null, 40);\r\n        name = getArguments().getString(&quot;name&quot;);\r\n        title = getArguments().getString(&quot;title&quot;);\r\n        int id = conn.requestId(name);\r\n        int id_text_discuss = conn.requestIdDiscuss(id, title);\r\n        data = conn.dataDebatebyGroupDate(id_text_discuss);\r\n        ArrayList&lt;Entry&gt; datavalues = new ArrayList&lt;Entry&gt;();\r\n        for (int i = 0; i &lt; data.size(); i++) {\r\n            datavalues.add(new Entry(data.get(i).getDate(), data.get(i).getCount()));\r\n        }\r\n        return datavalues;\r\n    }\r\n}\r\n``` \r\n\r\n\r\n","title":"how to pass data from string type to integer to make line chart using mpandroidchart","body":"<p>I am making an app in android studio with java in which I want to make a line graph with the mpchart android library. The data that I want to represent in my graph is obtained by reading a sqlite database. The idea is that the x axis shows the time and date while the axis and the amount of data. The problem is that the method to insert the values ​​into the dataset with which it is graphed only accepts numeric values ​​and the data that I read from my database are integers and strings, so My question is how to convert the date and time string to an integer so that the graph works for me?\nmy code:</p>\n<p>lineGraphClass:</p>\n<pre><code>public class lineGraphClass {\n    int count;\n    String date;\n\n    public String getDate() {\n\n        return date;\n    }\n\n    public void setDate(String date) {\n        this.date = date;\n    }\n    public int getCount() {\n        return count;\n    }\n\n    public void setCount(int count) {\n\n        this.count = count;\n    }\n}\n\n\n</code></pre>\n<p>conexionsqlitehelper.class:query database:</p>\n<pre><code>public List&lt;lineGraphClass&gt; dataDebatebyGroupDate(int id){\n        SQLiteDatabase db = this.getReadableDatabase();\n        String query = &quot;SELECT count(arguments.id_arguments),arguments.date_arguments FROM arguments WHERE arguments.arguments_summary_debate_relation =? &quot;;\n        Cursor cursor = db.rawQuery(query, new String[]{String.valueOf(id)});\n        List&lt;lineGraphClass&gt; data = new ArrayList&lt;lineGraphClass&gt;();\n        if (cursor.moveToFirst()) {\n            do {\n                lineGraphClass fill_data = new lineGraphClass();\n                fill_data.setCount(cursor.getInt(0));\n                fill_data.setDate(cursor.getString(1));\n                data.add(fill_data);\n            } while (cursor.moveToNext());\n        }\n        db.close();\n        return data;\n    } \n</code></pre>\n<p>lineChart.class:class that will draw the line graph</p>\n<pre><code>public class lineChart extends Fragment {\n    public String name,title;\n    List&lt;lineGraphClass&gt; data;\n    @Override\n    public View onCreateView(LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState) {\n        View view = inflater.inflate(R.layout.fragment_line_chart, container, false);\n        LineChart linechart = view.findViewById(R.id.linechart);\n        LineDataSet linedataset = new LineDataSet(fillDataset(),&quot;&quot;);\n        ArrayList&lt;ILineDataSet&gt; dataSets = new ArrayList&lt;&gt;();\n        dataSets.add(linedataset);\n        LineData linedata = new LineData(dataSets);\n        linechart.setData(linedata);\n        linechart.invalidate();\n        return view;\n    }\n    private ArrayList&lt;Entry&gt; fillDataset() {\n        ConexionSQliteHelper conn = new ConexionSQliteHelper(getContext(), &quot;lala&quot;, null, 40);\n        name = getArguments().getString(&quot;name&quot;);\n        title = getArguments().getString(&quot;title&quot;);\n        int id = conn.requestId(name);\n        int id_text_discuss = conn.requestIdDiscuss(id, title);\n        data = conn.dataDebatebyGroupDate(id_text_discuss);\n        ArrayList&lt;Entry&gt; datavalues = new ArrayList&lt;Entry&gt;();\n        for (int i = 0; i &lt; data.size(); i++) {\n            datavalues.add(new Entry(data.get(i).getDate(), data.get(i).getCount()));\n        }\n        return datavalues;\n    }\n}\n</code></pre>\n"},{"tags":["java","junit","controller","spring-webflux","webtestclient"],"comments":[{"owner":{"account_id":19395247,"reputation":3208,"user_id":14183092,"display_name":"kerbermeister"},"score":0,"creation_date":1673279756,"post_id":75059061,"comment_id":132457759,"body_markdown":"What type com.project.v1.model.timestamps.TimestampsDto[&quot;createdDate&quot;] field has? Deserializer says it cannot construct an object of this type. And could you also post here your DTO classes?","body":"What type com.project.v1.model.timestamps.TimestampsDto[&quot;createdDate&quot;] field has? Deserializer says it cannot construct an object of this type. And could you also post here your DTO classes?"},{"owner":{"account_id":25828073,"reputation":11,"user_id":19565778,"display_name":"eyal tamsot"},"score":0,"creation_date":1673343650,"post_id":75059061,"comment_id":132472025,"body_markdown":"Its a string, and its getter returns java&#39;s LocalDateTime after parsing the string.","body":"Its a string, and its getter returns java&#39;s LocalDateTime after parsing the string."}],"owner":{"account_id":25828073,"reputation":11,"user_id":19565778,"display_name":"eyal tamsot"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673276140,"creation_date":1673276140,"question_id":75059061,"body_markdown":"I am writing unit tests for my API controller, \r\non one of the tests - i am facing a problem of deserializing an object when it returns from the endpoint, when debugging it in the controller&#39;s function i see that everything goes as expected but the error is being thrown on expectBody(UserDto.class)\r\n\r\nIt works in production but throws error on test context\r\n\r\n\r\n\r\n\r\n``` \r\n        String Id = &quot;123&quot;;\r\n        UserTimestampDto userTimestampDto = new             UserTimestampDto(LocalDateTime.now().toString());\r\n        TimestampsDto timestampsDto = new TimestampsDto(userTimestampDto, userTimestampDto);\r\n        UserDto userDto = new UserDto(&quot;123&quot;,timestampsDto);\r\n\r\n        webTestClient\r\n                .get()\r\n                .uri(uriBuilder -&gt; uriBuilder\r\n                        .path(UserController.BASE_URL + &quot;/&quot; + Id)\r\n                        .build())\r\n                .accept(MediaType.APPLICATION_JSON)\r\n                .exchange()\r\n                .expectStatus().isOk()\r\n                .expectBody(UserDto.class)\r\n                .value(userItem -&gt; userItem, equalTo(userDto));\r\n```\r\n\r\nThe Error:\r\n\r\n&gt; org.springframework.core.codec.DecodingException: JSON decoding error: Cannot construct instance of `com.project.v1.model.timestamps.UserTimestampDto` (although at least one Creator exists): cannot deserialize from Object value (no delegate- or property-based Creator); nested exception is com.fasterxml.jackson.databind.exc.MismatchedInputException: Cannot construct instance of `com.project.v1.model.timestamps.UserTimestampDto` (although at least one Creator exists): cannot deserialize from Object value (no delegate- or property-based Creator)\r\n&gt;  at [Source: (org.springframework.core.io.buffer.DefaultDataBuffer$DefaultDataBufferInputStream); line: 1, column: 296] (through reference chain: com.project.v1.model.customer.UserDto[&quot;internalTimestamps&quot;]-&gt;com.project.v1.model.timestamps.TimestampsDto[&quot;createdDate&quot;])","title":"Object fails to get deserialized when returning back to WebFluxTest context","body":"<p>I am writing unit tests for my API controller,\non one of the tests - i am facing a problem of deserializing an object when it returns from the endpoint, when debugging it in the controller's function i see that everything goes as expected but the error is being thrown on expectBody(UserDto.class)</p>\n<p>It works in production but throws error on test context</p>\n<pre><code>        String Id = &quot;123&quot;;\n        UserTimestampDto userTimestampDto = new             UserTimestampDto(LocalDateTime.now().toString());\n        TimestampsDto timestampsDto = new TimestampsDto(userTimestampDto, userTimestampDto);\n        UserDto userDto = new UserDto(&quot;123&quot;,timestampsDto);\n\n        webTestClient\n                .get()\n                .uri(uriBuilder -&gt; uriBuilder\n                        .path(UserController.BASE_URL + &quot;/&quot; + Id)\n                        .build())\n                .accept(MediaType.APPLICATION_JSON)\n                .exchange()\n                .expectStatus().isOk()\n                .expectBody(UserDto.class)\n                .value(userItem -&gt; userItem, equalTo(userDto));\n</code></pre>\n<p>The Error:</p>\n<blockquote>\n<p>org.springframework.core.codec.DecodingException: JSON decoding error: Cannot construct instance of <code>com.project.v1.model.timestamps.UserTimestampDto</code> (although at least one Creator exists): cannot deserialize from Object value (no delegate- or property-based Creator); nested exception is com.fasterxml.jackson.databind.exc.MismatchedInputException: Cannot construct instance of <code>com.project.v1.model.timestamps.UserTimestampDto</code> (although at least one Creator exists): cannot deserialize from Object value (no delegate- or property-based Creator)\nat [Source: (org.springframework.core.io.buffer.DefaultDataBuffer$DefaultDataBufferInputStream); line: 1, column: 296] (through reference chain: com.project.v1.model.customer.UserDto[&quot;internalTimestamps&quot;]-&gt;com.project.v1.model.timestamps.TimestampsDto[&quot;createdDate&quot;])</p>\n</blockquote>\n"},{"tags":["java","spring","spring-boot","spring-mvc","spring-security"],"answers":[{"tags":[],"owner":{"account_id":9763630,"reputation":16595,"user_id":7237884,"display_name":"Panagiotis Bougioukos"},"comment_count":0,"down_vote_count":0,"up_vote_count":14,"is_accepted":true,"score":14,"last_activity_date":1618852353,"creation_date":1618851959,"answer_id":67166362,"question_id":67166273,"body_markdown":"`@ManyToOne` should annotate a field not a collection. For collection fields the right annotation is `@OneToMany`.\r\n\r\nSo if you have\r\n\r\n    @ManyToOne\r\n    private List&lt;Something&gt; list;\r\n\r\nthat should be\r\n\r\n \r\n\r\n    @OneToMany\r\n    private List&lt;Something&gt; list;","title":"&#39;Many To One&#39; attribute type should not be a container","body":"<p><code>@ManyToOne</code> should annotate a field not a collection. For collection fields the right annotation is <code>@OneToMany</code>.</p>\n<p>So if you have</p>\n<pre><code>@ManyToOne\nprivate List&lt;Something&gt; list;\n</code></pre>\n<p>that should be</p>\n<pre><code>@OneToMany\nprivate List&lt;Something&gt; list;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7400502,"reputation":66,"user_id":5631112,"display_name":"TrueCall"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1620393425,"creation_date":1620393425,"answer_id":67435698,"question_id":67166273,"body_markdown":"As Error says manyToOne should not be collection/list but should be single ojbect\r\n\r\n    @ManyToOne\r\n    Somthing somthing; // but not list","title":"&#39;Many To One&#39; attribute type should not be a container","body":"<p>As Error says manyToOne should not be collection/list but should be single ojbect</p>\n<pre><code>@ManyToOne\nSomthing somthing; // but not list\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23208927,"reputation":1159,"user_id":17302718,"display_name":"Mounir bkr"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669813304,"creation_date":1669813304,"answer_id":74628231,"question_id":67166273,"body_markdown":"1- @ManyToOne annotate a field,like that, in Hall classe: \r\n\r\n    @ManyToOne\r\n    private Cinema cinema;\r\n\r\n\r\n2- @OneToMany annotate a collection, like that, in Cinema classe: \r\n\r\n    @OneToMany(mappedBy =&quot;cinema&quot;)\r\n    private Collection&lt;Hall&gt; halls;","title":"&#39;Many To One&#39; attribute type should not be a container","body":"<p>1- @ManyToOne annotate a field,like that, in Hall classe:</p>\n<pre><code>@ManyToOne\nprivate Cinema cinema;\n</code></pre>\n<p>2- @OneToMany annotate a collection, like that, in Cinema classe:</p>\n<pre><code>@OneToMany(mappedBy =&quot;cinema&quot;)\nprivate Collection&lt;Hall&gt; halls;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17569788,"reputation":495,"user_id":12745710,"display_name":"Emmanuel Ametepee"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673276016,"creation_date":1673276016,"answer_id":75059030,"question_id":67166273,"body_markdown":"    @OneToMany(cascade = CascadeType.ALL)\r\n    @JoinColumn(name = &quot;user_id&quot;, referencedColumnName = &quot;user_id&quot;)\r\n    private List&lt;Address&gt; address;\r\n\r\nSince is a One-to-Many relationship, you must that, the other side is a list of something, i.e List&lt;Something&gt; something","title":"&#39;Many To One&#39; attribute type should not be a container","body":"<pre><code>@OneToMany(cascade = CascadeType.ALL)\n@JoinColumn(name = &quot;user_id&quot;, referencedColumnName = &quot;user_id&quot;)\nprivate List&lt;Address&gt; address;\n</code></pre>\n<p>Since is a One-to-Many relationship, you must that, the other side is a list of something, i.e List something</p>\n"}],"owner":{"account_id":5619788,"reputation":4111,"user_id":4450024,"accept_rate":99,"display_name":"Nu&#241;ito Calzada"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":20668,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":67166362,"answer_count":4,"score":7,"last_activity_date":1673276016,"creation_date":1618851601,"question_id":67166273,"body_markdown":"I have this class:\r\n\r\n    import org.springframework.security.core.userdetails.UserDetails;\r\n    \r\n    @Entity\r\n    @Table(name=&quot;t_user&quot;)\r\n    @JsonInclude(JsonInclude.Include.NON_NULL)\r\n    @JsonIgnoreProperties(ignoreUnknown = true)\r\n    @Data\r\n    public class User implements Serializable, UserDetails {\r\n    \r\n    @Override\r\n    \tpublic Collection&lt;? extends GrantedAuthority&gt; getAuthorities() {\r\n    \t\treturn null;\r\n    \t}\r\n    ..\r\n    }\r\n\r\n\r\nbut I have this compilation error:\r\n\r\n    &#39;Many To One&#39; attribute type should not be a container \r\n\r\n","title":"&#39;Many To One&#39; attribute type should not be a container","body":"<p>I have this class:</p>\n<pre><code>import org.springframework.security.core.userdetails.UserDetails;\n\n@Entity\n@Table(name=&quot;t_user&quot;)\n@JsonInclude(JsonInclude.Include.NON_NULL)\n@JsonIgnoreProperties(ignoreUnknown = true)\n@Data\npublic class User implements Serializable, UserDetails {\n\n@Override\n    public Collection&lt;? extends GrantedAuthority&gt; getAuthorities() {\n        return null;\n    }\n..\n}\n</code></pre>\n<p>but I have this compilation error:</p>\n<pre><code>'Many To One' attribute type should not be a container \n</code></pre>\n"},{"tags":["java","hibernate","ojdbc"],"comments":[{"owner":{"account_id":7767429,"reputation":674,"user_id":5878215,"display_name":"Zorglube"},"score":1,"creation_date":1673275583,"post_id":75058869,"comment_id":132456015,"body_markdown":"Instead of trying to change the way the Class Loader work, maybe you should try to check if it&#39;s really necessary to have 4 versions of the same lib into your classpath.","body":"Instead of trying to change the way the Class Loader work, maybe you should try to check if it&#39;s really necessary to have 4 versions of the same lib into your classpath."}],"owner":{"account_id":19469961,"reputation":91,"user_id":14242535,"display_name":"Learner"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673275597,"creation_date":1673275203,"question_id":75058869,"body_markdown":"\r\nWe have 4 ojdbc jars namely ojdbc14.jar, ojdbc6.jar, ojdbc7.jar and ojdbc8.jar in the &quot;lib&quot; folder of the java application.\r\nAnd we have declared the necessary configurations for the driver in XML file as shown below,\r\n\r\n\r\n    &lt;property name=&quot;hibernate.connection.driver_class&quot; value=&quot;oracle.jdbc.driver.OracleDriver&quot; /&gt;  \t\t\t\r\n\r\n\t\r\nIn the above options, Which ojdbc jar does hibernate choose? whether it will select the first jar or will select one of the ojdbc jars at random.\r\n\r\nAnd based on what logic does Hibernate select the appropriate ojdbc jar file?\r\n\r\n\r\nThanks in advance.\r\n\r\n\r\n","title":"How the hibernate selects ojdbc jars if multiple jars are available?","body":"<p>We have 4 ojdbc jars namely ojdbc14.jar, ojdbc6.jar, ojdbc7.jar and ojdbc8.jar in the &quot;lib&quot; folder of the java application.\nAnd we have declared the necessary configurations for the driver in XML file as shown below,</p>\n<pre><code>&lt;property name=&quot;hibernate.connection.driver_class&quot; value=&quot;oracle.jdbc.driver.OracleDriver&quot; /&gt;           \n</code></pre>\n<p>In the above options, Which ojdbc jar does hibernate choose? whether it will select the first jar or will select one of the ojdbc jars at random.</p>\n<p>And based on what logic does Hibernate select the appropriate ojdbc jar file?</p>\n<p>Thanks in advance.</p>\n"},{"tags":["java","eclipse","file"],"comments":[{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":0,"creation_date":1673277045,"post_id":75058468,"comment_id":132456560,"body_markdown":"`package vari;` but folder `variable1` - ry creating a folder `vari` and moving the file to it","body":"<code>package vari;</code> but folder <code>variable1</code> - ry creating a folder <code>vari</code> and moving the file to it"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1673285301,"post_id":75058468,"comment_id":132459823,"body_markdown":"@user16320675 wouldn&#39;t doing the exact opposite be a whole lot easier? Change &#39;vari&#39; to `variable1`, rebuild and make sure `Exam3` is your main class. It should then run","body":"@user16320675 wouldn&#39;t doing the exact opposite be a whole lot easier? Change &#39;vari&#39; to <code>variable1</code>, rebuild and make sure <code>Exam3</code> is your main class. It should then run"},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":0,"creation_date":1673286597,"post_id":75058468,"comment_id":132460263,"body_markdown":"@g00se not sure, OP wrote &quot;*This file is from other.*&quot; so I suppose there are other computers/developers involved... It sure is an option, but I do not think that creating a folder and dragging the files into it is that much harder","body":"@g00se not sure, OP wrote &quot;<i>This file is from other.</i>&quot; so I suppose there are other computers/developers involved... It sure is an option, but I do not think that creating a folder and dragging the files into it is that much harder"},{"owner":{"account_id":15396644,"reputation":25775,"user_id":11107541,"display_name":"starball"},"score":0,"creation_date":1673301670,"post_id":75058468,"comment_id":132464434,"body_markdown":"Welcome! Could you please [read about why &#39;Can somebody help me?&#39; is not really a question by our community&#39;s standards](//meta.stackoverflow.com/a/284237/11107541) and [edit] to apply what you learn to ask your question? You can also see [ask] for further guidance. For example, a better question might look like: &quot;_What is the cause of &lt;specific issue&gt;, and how can the problem be resolved to get &lt;specific correct behaviour&gt;?_&quot;","body":"Welcome! Could you please <a href=\"//meta.stackoverflow.com/a/284237/11107541\">read about why &#39;Can somebody help me?&#39; is not really a question by our community&#39;s standards</a> and <a href=\"https://stackoverflow.com/posts/75058468/edit\">edit</a> to apply what you learn to ask your question? You can also see <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a> for further guidance. For example, a better question might look like: &quot;<i>What is the cause of &lt;specific issue&gt;, and how can the problem be resolved to get &lt;specific correct behaviour&gt;?</i>&quot;"},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1673304792,"post_id":75058468,"comment_id":132465121,"body_markdown":"The editor icon of `Exam3.java` is an outline `J` (instead of a regular `J` like in `Exam1.java` and `LL.java`), which means the file `Exam3.java` is not contained in a source folder, so it will not be compiled and cannot be run. Move the file `Exam3.java` into a source folder.","body":"The editor icon of <code>Exam3.java</code> is an outline <code>J</code> (instead of a regular <code>J</code> like in <code>Exam1.java</code> and <code>LL.java</code>), which means the file <code>Exam3.java</code> is not contained in a source folder, so it will not be compiled and cannot be run. Move the file <code>Exam3.java</code> into a source folder."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1673314360,"post_id":75058468,"comment_id":132466478,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."},{"owner":{"account_id":26997204,"reputation":1,"user_id":20559106,"display_name":"Sua"},"score":0,"creation_date":1673541127,"post_id":75058468,"comment_id":132527430,"body_markdown":"Thank you so much everyone! I could not notice the the folder name was different. I changed the name to variable1 in the code.","body":"Thank you so much everyone! I could not notice the the folder name was different. I changed the name to variable1 in the code."}],"answers":[{"comments":[{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":0,"creation_date":1673277175,"post_id":75058826,"comment_id":132456630,"body_markdown":"if package is `LL` (not conventional name, BTW; expected all lowercase) then the direct containing folder must also be named `LL` and not `src` as indicated in this answer","body":"if package is <code>LL</code> (not conventional name, BTW; expected all lowercase) then the direct containing folder must also be named <code>LL</code> and not <code>src</code> as indicated in this answer"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1673284641,"post_id":75058826,"comment_id":132459594,"body_markdown":"As it’s currently written, your answer is unclear. Please [edit] to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"As it’s currently written, your answer is unclear. Please <a href=\"https://stackoverflow.com/posts/75058826/edit\">edit</a> to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":19380291,"reputation":27,"user_id":14171709,"display_name":"Dhyan Prasad"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673275564,"creation_date":1673275014,"answer_id":75058826,"question_id":75058468,"body_markdown":"You need to have a new folder where the file name is the same  as the java public **class name** inside **src** of the new folder. You can do this by creating a new project within eclipseand file with the **same class name**.\r\n\r\nSo your file tree structure would look like **LL &gt; src &gt; LL.java**\r\n\r\nAnd inside the java file provide the following in line 1\r\n\r\n    package LL;","title":"Why eclipse can&#39;t run other people&#39;s java file","body":"<p>You need to have a new folder where the file name is the same  as the java public <strong>class name</strong> inside <strong>src</strong> of the new folder. You can do this by creating a new project within eclipseand file with the <strong>same class name</strong>.</p>\n<p>So your file tree structure would look like <strong>LL &gt; src &gt; LL.java</strong></p>\n<p>And inside the java file provide the following in line 1</p>\n<pre><code>package LL;\n</code></pre>\n"}],"owner":{"account_id":26997204,"reputation":1,"user_id":20559106,"display_name":"Sua"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":111,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1673275564,"creation_date":1673273314,"question_id":75058468,"body_markdown":"[When I press run, it appears. and none of those &quot;Ant Build&quot; works.](https://i.stack.imgur.com/xHPTB.png)\r\nIf I collect one of those, it shows \r\n\r\n\r\n*Build Failed\r\nReason:\r\nUnable to find an Ant file to run.*\r\n\r\n\r\nThis file is from other. It worked well on his eclipse. Every other my files run well.\r\n\r\n\r\n[This is from my eclips left side.](https://i.stack.imgur.com/zC7L2.png)\r\n\r\n[And this is the folder that is including the files from other.](https://i.stack.imgur.com/INmvh.png)\r\n\r\nExam3, Exam4 are from friend which have probelm right now. I have to run it and check the result. But I can&#39;t. \r\n\r\n\r\n*When I open these files using Visul Studio Code, it works well. \r\n\r\n*I created new file &quot;LL&quot; in eclipse. and it has showed in same folder with Exam3 and Exam4. So the address for the file is correct I guess. \r\n\r\nIt&#39;s been few days since I started learning Java and eclips. So it can be ridiculous question. But I really need your help. Can you help me please? ","title":"Why eclipse can&#39;t run other people&#39;s java file","body":"<p><a href=\"https://i.stack.imgur.com/xHPTB.png\" rel=\"nofollow noreferrer\">When I press run, it appears. and none of those &quot;Ant Build&quot; works.</a>\nIf I collect one of those, it shows</p>\n<p><em>Build Failed\nReason:\nUnable to find an Ant file to run.</em></p>\n<p>This file is from other. It worked well on his eclipse. Every other my files run well.</p>\n<p><a href=\"https://i.stack.imgur.com/zC7L2.png\" rel=\"nofollow noreferrer\">This is from my eclips left side.</a></p>\n<p><a href=\"https://i.stack.imgur.com/INmvh.png\" rel=\"nofollow noreferrer\">And this is the folder that is including the files from other.</a></p>\n<p>Exam3, Exam4 are from friend which have probelm right now. I have to run it and check the result. But I can't.</p>\n<p>*When I open these files using Visul Studio Code, it works well.</p>\n<p>*I created new file &quot;LL&quot; in eclipse. and it has showed in same folder with Exam3 and Exam4. So the address for the file is correct I guess.</p>\n<p>It's been few days since I started learning Java and eclips. So it can be ridiculous question. But I really need your help. Can you help me please?</p>\n"},{"tags":["java","memory","primitive","jvm-hotspot"],"comments":[{"owner":{"account_id":55734,"reputation":35141,"user_id":166955,"display_name":"Geoff Reedy"},"score":7,"creation_date":1327685863,"post_id":9037468,"comment_id":11336292,"body_markdown":"From a certain perspective, this question is unanswerable because the overhead on a boxed primitive is not specified in any specification. It can and will vary from VM to VM and platform to platform. A hardware platform with tagged memory could even have zero overhead.","body":"From a certain perspective, this question is unanswerable because the overhead on a boxed primitive is not specified in any specification. It can and will vary from VM to VM and platform to platform. A hardware platform with tagged memory could even have zero overhead."},{"owner":{"account_id":204659,"reputation":37559,"user_id":453005,"accept_rate":100,"display_name":"DwB"},"score":0,"creation_date":1327686723,"post_id":9037468,"comment_id":11336547,"body_markdown":"duplicate of [In Java, what is the best way to determine the size of an object?](http://stackoverflow.com/questions/52353/in-java-what-is-the-best-way-to-determine-the-size-of-an-object).","body":"duplicate of <a href=\"http://stackoverflow.com/questions/52353/in-java-what-is-the-best-way-to-determine-the-size-of-an-object\">In Java, what is the best way to determine the size of an object?</a>."},{"owner":{"account_id":267053,"reputation":29704,"user_id":554988,"accept_rate":86,"display_name":"Garrett Hall"},"score":0,"creation_date":1327686843,"post_id":9037468,"comment_id":11336589,"body_markdown":"I think it could also depend on the context you are using the boxed int and any optimizations the runtime compiler is making.","body":"I think it could also depend on the context you are using the boxed int and any optimizations the runtime compiler is making."},{"owner":{"account_id":916642,"reputation":15473,"user_id":949300,"accept_rate":65,"display_name":"user949300"},"score":0,"creation_date":1327689021,"post_id":9037468,"comment_id":11337285,"body_markdown":"See also [is-an-array-of-one-boolean-in-java-smaller-than-a-standalone-variable](http://stackoverflow.com/questions/8959319/is-an-array-of-one-boolean-in-java-smaller-than-a-standalone-variable)","body":"See also <a href=\"http://stackoverflow.com/questions/8959319/is-an-array-of-one-boolean-in-java-smaller-than-a-standalone-variable\">is-an-array-of-one-boolean-in-java-smaller-than-a-standalone&zwnj;&#8203;-variable</a>"}],"answers":[{"comments":[{"owner":{"account_id":48693,"reputation":29189,"user_id":144746,"accept_rate":93,"display_name":"Voo"},"score":0,"creation_date":1327687013,"post_id":9037586,"comment_id":11336646,"body_markdown":"I&#39;ve got not the slightest idea how you come up with those numbers.. looking at my Hotspot source in `oop.hpp` also makes me none the wiser (I can only find the usual 2 pointers there)","body":"I&#39;ve got not the slightest idea how you come up with those numbers.. looking at my Hotspot source in <code>oop.hpp</code> also makes me none the wiser (I can only find the usual 2 pointers there)"}],"tags":[],"owner":{"account_id":268636,"reputation":8124,"user_id":557500,"display_name":"rfeak"},"comment_count":1,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1327686446,"creation_date":1327685932,"answer_id":9037586,"question_id":9037468,"body_markdown":"It&#39;s more than that. \r\n\r\nEvery object reference has additional overhead, such as a Class reference. Not only that, your 4-byte pointer isn&#39;t quite accurate. It&#39;s a reference, so it&#39;s an ID plus a pointer, AND that pointer may be 8 bytes if you are on a 64 bit JVM.\r\n\r\nThere also appear to be VM implementation differences. Best way to be sure on this would be to pull it up in a profiler.\r\n\r\nMy (Super SWAG) estimate would be.\r\nObject reference 16 bytes (64 bit JVM)\r\nClass reference 16 bytes\r\nprimitive value 4 bytes (Assuming int.)\r\nTotal. 36 bytes.\r\n\r\nEDIT: Now that your specify 32-bit JVM my SWAG would be 20 bytes using same math above.","title":"What is the storage cost for a boxed primitive in Java?","body":"<p>It's more than that. </p>\n\n<p>Every object reference has additional overhead, such as a Class reference. Not only that, your 4-byte pointer isn't quite accurate. It's a reference, so it's an ID plus a pointer, AND that pointer may be 8 bytes if you are on a 64 bit JVM.</p>\n\n<p>There also appear to be VM implementation differences. Best way to be sure on this would be to pull it up in a profiler.</p>\n\n<p>My (Super SWAG) estimate would be.\nObject reference 16 bytes (64 bit JVM)\nClass reference 16 bytes\nprimitive value 4 bytes (Assuming int.)\nTotal. 36 bytes.</p>\n\n<p>EDIT: Now that your specify 32-bit JVM my SWAG would be 20 bytes using same math above.</p>\n"},{"comments":[{"owner":{"account_id":266709,"reputation":11856,"user_id":554431,"display_name":"bestsss"},"score":1,"creation_date":1327936565,"post_id":9037808,"comment_id":11378886,"body_markdown":"for the sake of completeness: if the object is synchronized upon, there will be a native struct holding the mutex.","body":"for the sake of completeness: if the object is synchronized upon, there will be a native struct holding the mutex."},{"owner":{"account_id":48693,"reputation":29189,"user_id":144746,"accept_rate":93,"display_name":"Voo"},"score":0,"creation_date":1327939380,"post_id":9037808,"comment_id":11379912,"body_markdown":"@bestsss Right, completely ignored that. I think heavyweight locks are only created if we have a contended lock (assuming biased locking). If we don&#39;t, and don&#39;t use the hashcode of the object I think Hotspot stores the tid in the object header itself. So just calling `synchronized(foo)` may not necessarily allocate any memory.","body":"@bestsss Right, completely ignored that. I think heavyweight locks are only created if we have a contended lock (assuming biased locking). If we don&#39;t, and don&#39;t use the hashcode of the object I think Hotspot stores the tid in the object header itself. So just calling <code>synchronized(foo)</code> may not necessarily allocate any memory."},{"owner":{"account_id":266709,"reputation":11856,"user_id":554431,"display_name":"bestsss"},"score":0,"creation_date":1327942492,"post_id":9037808,"comment_id":11381078,"body_markdown":"yes. uncontended biased locks do not inflate the header if there is System.identityHashCode() request. The latter is used (unofficiallY) to prevent biased locking on a selected object. (i mean mostly contented -&gt; sometimes i used `Object lock =new Byte(1)` to simplify serialization","body":"yes. uncontended biased locks do not inflate the header if there is System.identityHashCode() request. The latter is used (unofficiallY) to prevent biased locking on a selected object. (i mean mostly contented -&gt; sometimes i used <code>Object lock =new Byte(1)</code> to simplify serialization"}],"tags":[],"owner":{"account_id":48693,"reputation":29189,"user_id":144746,"accept_rate":93,"display_name":"Voo"},"comment_count":3,"down_vote_count":0,"up_vote_count":11,"is_accepted":true,"score":11,"last_activity_date":1327687411,"creation_date":1327686959,"answer_id":9037808,"question_id":9037468,"body_markdown":"This is implementation defined, so there&#39;s no specific answer. But I should be able to answer it for Hotspot.\r\n\r\nWhat you need to know is: Hotspot always aligns objects on 8byte boundaries. Furthermore there are 2 words overhead for each and every object. [1]\r\n\r\nIf we put this together we get:\r\n\r\n32bit VM: 4byte integer + 2 words object header = 12bytes. That&#39;s no multiple of 8 so as a result the cost for 1 integer is the next multiple of 8: 16byte. \r\n\r\n64bit VM: 4byte integer + 2 words = 20bytes. Rounding up again: 24byte size.\r\n\r\nThe size of a reference obviously does not play into the size of an object itself, except if it has references to other objects which isn&#39;t the case for a simple int wrapper. If it would, we&#39;d have 4byte per reference for 32bit and 4byte for heaps &lt;= 32gb with `CompressedOops` on modern JVMs (otherwise 8byte) for 64bit JVMs.\r\n\r\n[1] Interested people can look at the code in `share/vm/oops/oop.hpp`","title":"What is the storage cost for a boxed primitive in Java?","body":"<p>This is implementation defined, so there's no specific answer. But I should be able to answer it for Hotspot.</p>\n\n<p>What you need to know is: Hotspot always aligns objects on 8byte boundaries. Furthermore there are 2 words overhead for each and every object. [1]</p>\n\n<p>If we put this together we get:</p>\n\n<p>32bit VM: 4byte integer + 2 words object header = 12bytes. That's no multiple of 8 so as a result the cost for 1 integer is the next multiple of 8: 16byte. </p>\n\n<p>64bit VM: 4byte integer + 2 words = 20bytes. Rounding up again: 24byte size.</p>\n\n<p>The size of a reference obviously does not play into the size of an object itself, except if it has references to other objects which isn't the case for a simple int wrapper. If it would, we'd have 4byte per reference for 32bit and 4byte for heaps &lt;= 32gb with <code>CompressedOops</code> on modern JVMs (otherwise 8byte) for 64bit JVMs.</p>\n\n<p>[1] Interested people can look at the code in <code>share/vm/oops/oop.hpp</code></p>\n"},{"tags":[],"owner":{"account_id":1159513,"reputation":2405,"user_id":1146259,"accept_rate":85,"display_name":"Alex"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673275425,"creation_date":1327687410,"answer_id":9037904,"question_id":9037468,"body_markdown":"I know this doesn&#39;t exactly answer your question on the storage cost of boxed primitives, but I sense from your question that you are questioning whether or not your use of them is warranted.\r\n\r\nHere is an excerpt from Effective Java (2nd Edition) by Joshua Bloch that should help you decide: \r\n\r\n&gt; So when should you use boxed primitives? They have several legitimate uses. The \r\nfirst is as elements, keys, and values in collections. You can’t put primitives in collections, so you’re forced to use boxed primitives. This is a special case of a more general one. You must use boxed primitives as type parameters in parameterized types (Chapter 5), because the language does not permit you to use primitives. For example, you cannot declare a variable to be of type `Thread Local&lt;int&gt;`, so you must use `ThreadLocal&lt;Integer&gt;` instead. Finally, you must use boxed primitives when making reflective method invocations (Item 53).`\r\n&gt;\r\n&gt; In summary, use primitives in preference to boxed primitives whenever you have the choice. Primitive types are simpler and faster. If you must use boxed primitives, be careful! Autoboxing reduces the verbosity, but not the danger, of using boxed primitives. When your program compares two boxed primitives with the `==` operator, it does an identity comparison, which is almost certainly not what you want. When your program does mixed-type computations involving boxed and unboxed primitives, it does unboxing, and when your program does unboxing, it can throw a `NullPointerException`. Finally, when your program boxes primitive values, it can result in costly and unnecessary object creations.\r\n","title":"What is the storage cost for a boxed primitive in Java?","body":"<p>I know this doesn't exactly answer your question on the storage cost of boxed primitives, but I sense from your question that you are questioning whether or not your use of them is warranted.</p>\n<p>Here is an excerpt from Effective Java (2nd Edition) by Joshua Bloch that should help you decide:</p>\n<blockquote>\n<p>So when should you use boxed primitives? They have several legitimate uses. The\nfirst is as elements, keys, and values in collections. You can’t put primitives in collections, so you’re forced to use boxed primitives. This is a special case of a more general one. You must use boxed primitives as type parameters in parameterized types (Chapter 5), because the language does not permit you to use primitives. For example, you cannot declare a variable to be of type <code>Thread Local&lt;int&gt;</code>, so you must use <code>ThreadLocal&lt;Integer&gt;</code> instead. Finally, you must use boxed primitives when making reflective method invocations (Item 53).`</p>\n<p>In summary, use primitives in preference to boxed primitives whenever you have the choice. Primitive types are simpler and faster. If you must use boxed primitives, be careful! Autoboxing reduces the verbosity, but not the danger, of using boxed primitives. When your program compares two boxed primitives with the <code>==</code> operator, it does an identity comparison, which is almost certainly not what you want. When your program does mixed-type computations involving boxed and unboxed primitives, it does unboxing, and when your program does unboxing, it can throw a <code>NullPointerException</code>. Finally, when your program boxes primitive values, it can result in costly and unnecessary object creations.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":29165,"reputation":2803,"user_id":78569,"accept_rate":62,"display_name":"Imaskar"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1568392674,"creation_date":1568392674,"answer_id":57927409,"question_id":9037468,"body_markdown":"One very small addition for these answers is that there is some deduplication happening for boxed primitives. For example, `Integer::valueOf(int)` uses `java.lang.IntegerCache` that uses Integer instances with values in range `-128..127`. So, you have above mentioned sizes for boxed objects, but not each of them would be a separate object.","title":"What is the storage cost for a boxed primitive in Java?","body":"<p>One very small addition for these answers is that there is some deduplication happening for boxed primitives. For example, <code>Integer::valueOf(int)</code> uses <code>java.lang.IntegerCache</code> that uses Integer instances with values in range <code>-128..127</code>. So, you have above mentioned sizes for boxed objects, but not each of them would be a separate object.</p>\n"}],"owner":{"account_id":216313,"reputation":12017,"user_id":471478,"accept_rate":86,"display_name":"scravy"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4232,"favorite_count":0,"down_vote_count":0,"up_vote_count":17,"accepted_answer_id":9037808,"answer_count":4,"score":17,"last_activity_date":1673275425,"creation_date":1327685368,"question_id":9037468,"body_markdown":"How large, in bytes, is a boxed primitive like `java.lang.Integer` or `java.lang.Character` in Java?\r\n\r\nAn `int` is 4 bytes, a typical pointer is also 4 byte (if not compressed by the JVM). Is the cost for an Integer (without caching) thus `4 bytes + 4 bytes = 8 bytes`? Are there any more hidden fields within the box-object or additional overhead incurred regarding objects (i.e. is there a general cost for objects that I&#39;m not aware of?).\r\n\r\nI&#39;m not interested in caching issues. I know that Integers within a certain range are cached by the JVM.\r\n\r\nOne could rephrase the question: What is the maximum factor to be multiplied on the amount of memory used for boxed values versus primitive values?\r\n\r\n**EDIT:** I do understand that multiple implementations of the JVM exist. What is the typical cost in a typical 32-bit HotSpot Implementation?","title":"What is the storage cost for a boxed primitive in Java?","body":"<p>How large, in bytes, is a boxed primitive like <code>java.lang.Integer</code> or <code>java.lang.Character</code> in Java?</p>\n\n<p>An <code>int</code> is 4 bytes, a typical pointer is also 4 byte (if not compressed by the JVM). Is the cost for an Integer (without caching) thus <code>4 bytes + 4 bytes = 8 bytes</code>? Are there any more hidden fields within the box-object or additional overhead incurred regarding objects (i.e. is there a general cost for objects that I'm not aware of?).</p>\n\n<p>I'm not interested in caching issues. I know that Integers within a certain range are cached by the JVM.</p>\n\n<p>One could rephrase the question: What is the maximum factor to be multiplied on the amount of memory used for boxed values versus primitive values?</p>\n\n<p><strong>EDIT:</strong> I do understand that multiple implementations of the JVM exist. What is the typical cost in a typical 32-bit HotSpot Implementation?</p>\n"},{"tags":["java","spring-boot","spring-security","spring-webflux","reactor"],"answers":[{"comments":[{"owner":{"account_id":3163862,"reputation":36940,"user_id":2674303,"accept_rate":62,"display_name":"gstackoverflow"},"score":0,"creation_date":1673262245,"post_id":75056229,"comment_id":132450974,"body_markdown":"I copy pasted your code and result is the same as in my question:\n`block()/blockFirst()/blockLast() are blocking, which is not supported in thread parallel-1`\n\nI also tried to replace `Object result = mono.block();` with `Object result = objectMono .block();` but I still see the same error. How can I fix it ?","body":"I copy pasted your code and result is the same as in my question: <code>block()&#47;blockFirst()&#47;blockLast() are blocking, which is not supported in thread parallel-1</code>  I also tried to replace <code>Object result = mono.block();</code> with <code>Object result = objectMono .block();</code> but I still see the same error. How can I fix it ?"},{"owner":{"account_id":13252051,"reputation":1635,"user_id":9569292,"display_name":"Thomas Timbul"},"score":0,"creation_date":1673264320,"post_id":75056229,"comment_id":132451662,"body_markdown":"I&#39;ve been reading your other question about MinIO - can you use `MinioAsyncClient` to remain within an async context? `MinioAsyncClient` methods return Futures, so those would be easy to wrap with `Mono.fromFuture`.","body":"I&#39;ve been reading your other question about MinIO - can you use <code>MinioAsyncClient</code> to remain within an async context? <code>MinioAsyncClient</code> methods return Futures, so those would be easy to wrap with <code>Mono.fromFuture</code>."},{"owner":{"account_id":3163862,"reputation":36940,"user_id":2674303,"accept_rate":62,"display_name":"gstackoverflow"},"score":0,"creation_date":1673265038,"post_id":75056229,"comment_id":132451880,"body_markdown":"yes, I can switch to `MinioAsyncClient`. If it could fix my issue - please provide details because I don&#39;t understand how could it help for now.","body":"yes, I can switch to <code>MinioAsyncClient</code>. If it could fix my issue - please provide details because I don&#39;t understand how could it help for now."},{"owner":{"account_id":13252051,"reputation":1635,"user_id":9569292,"display_name":"Thomas Timbul"},"score":0,"creation_date":1673266636,"post_id":75056229,"comment_id":132452454,"body_markdown":"To be honest it probably doesn&#39;t, because the CredentialsProvider is still not reactive.\n`block()` most likely still fails because itself is executed on one of the http threads. Can you share the code that surrounds your above block?","body":"To be honest it probably doesn&#39;t, because the CredentialsProvider is still not reactive. <code>block()</code> most likely still fails because itself is executed on one of the http threads. Can you share the code that surrounds your above block?"},{"owner":{"account_id":3163862,"reputation":36940,"user_id":2674303,"accept_rate":62,"display_name":"gstackoverflow"},"score":0,"creation_date":1673268171,"post_id":75056229,"comment_id":132453019,"body_markdown":"1. I end up with the same opinion about usage of `MinioAsyncClient`. \n2. Maybe there is a way to execute Mono on a different thread.\n3. Eventually I want to use this code inside `CredentialsProvider` implementation.  For local testing I just wrote it inside controller method.","body":"1. I end up with the same opinion about usage of <code>MinioAsyncClient</code>.  2. Maybe there is a way to execute Mono on a different thread. 3. Eventually I want to use this code inside <code>CredentialsProvider</code> implementation.  For local testing I just wrote it inside controller method."},{"owner":{"account_id":3163862,"reputation":36940,"user_id":2674303,"accept_rate":62,"display_name":"gstackoverflow"},"score":0,"creation_date":1673268568,"post_id":75056229,"comment_id":132453151,"body_markdown":"4. Shared the code that surrounds my code block (updated topic)","body":"4. Shared the code that surrounds my code block (updated topic)"},{"owner":{"account_id":13252051,"reputation":1635,"user_id":9569292,"display_name":"Thomas Timbul"},"score":0,"creation_date":1673272715,"post_id":75056229,"comment_id":132454836,"body_markdown":"I have updated my answer. It might be possible to avoid the `.block()` call completely...","body":"I have updated my answer. It might be possible to avoid the <code>.block()</code> call completely..."},{"owner":{"account_id":13252051,"reputation":1635,"user_id":9569292,"display_name":"Thomas Timbul"},"score":0,"creation_date":1673272781,"post_id":75056229,"comment_id":132454857,"body_markdown":"Let us [continue this discussion in chat](https://chat.stackoverflow.com/rooms/250969/discussion-between-thomas-timbul-and-gstackoverflow).","body":"Let us <a href=\"https://chat.stackoverflow.com/rooms/250969/discussion-between-thomas-timbul-and-gstackoverflow\">continue this discussion in chat</a>."}],"tags":[],"owner":{"account_id":13252051,"reputation":1635,"user_id":9569292,"display_name":"Thomas Timbul"},"comment_count":8,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673275331,"creation_date":1673261601,"answer_id":75056229,"question_id":75055071,"body_markdown":"`subscribeOn` only applies to the subscribe event, i.e. when you first add your subscription. Events are still published on the default Scheduler, in this case &#39;parallel&#39;.\r\n\r\nTo be able to make blocking calls you need to `publishOn` a non-blocking Scheduler, so for instance:\r\n\r\n    Mono&lt;Object&gt; mono = ReactiveSecurityContextHolder.getContext()\r\n                .map(securityContext -&gt; securityContext.getAuthentication().getPrincipal());\r\n    Mono&lt;Object&gt; objectMono = mono.subscribeOn(Schedulers.boundedElastic())\r\n                                  .publishOn(Schedulers.boundedElastic()); // &lt;- this\r\n\r\n    Object result = mono.block();\r\n\r\nshould do the trick.\r\n\r\nEdit:\r\n\r\nIn your case you should not call `block` directly within the method annotated with `@GetMapping`.\r\n\r\nConsider doing this:\r\n    \r\n    public MinioAsyncClient getOrCreateClientForPrincipal(Object Principal) {\r\n        ...\r\n    }\r\n\r\n    @GetMapping(..)\r\n    public Mono&lt;ResponseEntity&lt;Boolean&gt;&gt; someEndpoint(...) {\r\n        Mono&lt;Boolean&gt; mono = ReactiveSecurityContextHolder.getContext()\r\n                .publishOn(Schedulers.boundedElastic()) //&lt;-- this allows .block() somewhere downstream\r\n                .subscribeOn(Schedulers.boundedElastic())\r\n                .map(securityContext -&gt; securityContext.getAuthentication().getPrincipal())\r\n                .map(this::getOrCreateClientForPrincipal)\r\n                .flatMap(asyncClient -&gt;\r\n                    {\r\n                        BucketExistsArgs args = ...;\r\n                        try {\r\n                            CompletableFuture&lt;Boolean&gt; existsQuery = asyncClient.bucketExists(args);\r\n                            return Mono.fromFuture(existsQuery)\r\n                                 //allow Future to be cancelled if this Mono is cancelled\r\n                                 .doOnCancel(() -&gt; existsQuery.cancel(true))\r\n                                 //unwrap CompletionException from the Future to its cause\r\n                                 .onErrorMap(CompletionException.class, e -&gt; e.getCause())\r\n                            ;\r\n                            } catch(InsufficientDataException\r\n                                    | InternalException\r\n                                    | InvalidKeyException\r\n                                    | IOException\r\n                                    | NoSuchAlgorithmException\r\n                                    | XmlParserException e) {\r\n                                //We need to catch these only because they&#39;re declared by MinioAsyncClient.\r\n                                //they aren&#39;t actually thrown\r\n                                return Mono.error(e);\r\n                        }\r\n                    }\r\n                )\r\n                //error handling, adapt as necessary\r\n                .onErrorReturn(InsufficientDataException.class, ...)\r\n                .onErrorReturn(InvalidKeyException.class, ...)\r\n                .onErrorReturn(IOException.class, ...)\r\n                .onErrorReturn(NoSuchAlgorithmException.class, ...)\r\n                .onErrorReturn(XmlParserException.class, ...)\r\n            ;\r\n        \r\n        return mono.map(ResponseEntity::ok);\r\n        \r\n    }\r\n\r\nNotes:\r\n\r\nThe method is declared as returning `Mono`, since you are in a reactive context anyway. This makes it easier to return appropriately after processing, instead of using void and pretending to have a &#39;normal&#39; context.\r\n\r\nif `getOrCreateClientForPrincipal` takes &#39;longer&#39;, you could consider making it return `Mono&lt;MinioAsyncclient&gt;` and calling it with `.flatMap`.\r\nShould you follow the suggestion in the other question of caching the client for each principal in order to avoid creation on each call, you can do it in this method. You will need to figure a way of cleaning up that cache, but that&#39;s beyond the scope of this answer.\r\n\r\nError handling:\r\n`MinioAsyncClient` declares a bunch of Exceptions that it won&#39;t actually throw. These Exceptions can certainly be thrown within the `Future` and would be wrapped in a `CompletionException`, which the above code unwraps back to its source. It then provides for returning a default Boolean value for each exception, but here you can use the various `.onError...` methods to handle, propagate, etc.\r\n\r\nYou may even want to move them out one more level and handle on the outermost `mono` to map directly to an appropriate response code.\r\n\r\n\r\nNote how there is no call to `block()` - it shouldn&#39;t really be needed, so in fact this may very well work without the calls to `publishOn` or `subscribeOn`...","title":"How to make blocking call for Mono?(How to get token from ReactiveSecurityContextHolder in a syncronous way)","body":"<p><code>subscribeOn</code> only applies to the subscribe event, i.e. when you first add your subscription. Events are still published on the default Scheduler, in this case 'parallel'.</p>\n<p>To be able to make blocking calls you need to <code>publishOn</code> a non-blocking Scheduler, so for instance:</p>\n<pre><code>Mono&lt;Object&gt; mono = ReactiveSecurityContextHolder.getContext()\n            .map(securityContext -&gt; securityContext.getAuthentication().getPrincipal());\nMono&lt;Object&gt; objectMono = mono.subscribeOn(Schedulers.boundedElastic())\n                              .publishOn(Schedulers.boundedElastic()); // &lt;- this\n\nObject result = mono.block();\n</code></pre>\n<p>should do the trick.</p>\n<p>Edit:</p>\n<p>In your case you should not call <code>block</code> directly within the method annotated with <code>@GetMapping</code>.</p>\n<p>Consider doing this:</p>\n<pre><code>public MinioAsyncClient getOrCreateClientForPrincipal(Object Principal) {\n    ...\n}\n\n@GetMapping(..)\npublic Mono&lt;ResponseEntity&lt;Boolean&gt;&gt; someEndpoint(...) {\n    Mono&lt;Boolean&gt; mono = ReactiveSecurityContextHolder.getContext()\n            .publishOn(Schedulers.boundedElastic()) //&lt;-- this allows .block() somewhere downstream\n            .subscribeOn(Schedulers.boundedElastic())\n            .map(securityContext -&gt; securityContext.getAuthentication().getPrincipal())\n            .map(this::getOrCreateClientForPrincipal)\n            .flatMap(asyncClient -&gt;\n                {\n                    BucketExistsArgs args = ...;\n                    try {\n                        CompletableFuture&lt;Boolean&gt; existsQuery = asyncClient.bucketExists(args);\n                        return Mono.fromFuture(existsQuery)\n                             //allow Future to be cancelled if this Mono is cancelled\n                             .doOnCancel(() -&gt; existsQuery.cancel(true))\n                             //unwrap CompletionException from the Future to its cause\n                             .onErrorMap(CompletionException.class, e -&gt; e.getCause())\n                        ;\n                        } catch(InsufficientDataException\n                                | InternalException\n                                | InvalidKeyException\n                                | IOException\n                                | NoSuchAlgorithmException\n                                | XmlParserException e) {\n                            //We need to catch these only because they're declared by MinioAsyncClient.\n                            //they aren't actually thrown\n                            return Mono.error(e);\n                    }\n                }\n            )\n            //error handling, adapt as necessary\n            .onErrorReturn(InsufficientDataException.class, ...)\n            .onErrorReturn(InvalidKeyException.class, ...)\n            .onErrorReturn(IOException.class, ...)\n            .onErrorReturn(NoSuchAlgorithmException.class, ...)\n            .onErrorReturn(XmlParserException.class, ...)\n        ;\n    \n    return mono.map(ResponseEntity::ok);\n    \n}\n</code></pre>\n<p>Notes:</p>\n<p>The method is declared as returning <code>Mono</code>, since you are in a reactive context anyway. This makes it easier to return appropriately after processing, instead of using void and pretending to have a 'normal' context.</p>\n<p>if <code>getOrCreateClientForPrincipal</code> takes 'longer', you could consider making it return <code>Mono&lt;MinioAsyncclient&gt;</code> and calling it with <code>.flatMap</code>.\nShould you follow the suggestion in the other question of caching the client for each principal in order to avoid creation on each call, you can do it in this method. You will need to figure a way of cleaning up that cache, but that's beyond the scope of this answer.</p>\n<p>Error handling:\n<code>MinioAsyncClient</code> declares a bunch of Exceptions that it won't actually throw. These Exceptions can certainly be thrown within the <code>Future</code> and would be wrapped in a <code>CompletionException</code>, which the above code unwraps back to its source. It then provides for returning a default Boolean value for each exception, but here you can use the various <code>.onError...</code> methods to handle, propagate, etc.</p>\n<p>You may even want to move them out one more level and handle on the outermost <code>mono</code> to map directly to an appropriate response code.</p>\n<p>Note how there is no call to <code>block()</code> - it shouldn't really be needed, so in fact this may very well work without the calls to <code>publishOn</code> or <code>subscribeOn</code>...</p>\n"}],"owner":{"account_id":3163862,"reputation":36940,"user_id":2674303,"accept_rate":62,"display_name":"gstackoverflow"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":928,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1673275331,"creation_date":1673255202,"question_id":75055071,"body_markdown":"My Task is - get JWT token.(all details are here https://stackoverflow.com/questions/74875058/how-to-get-jwt-token-value-in-spring-webflux-to-exchange-it-with-minio-sts-tok)\r\n\r\nBut lets discard redundant details. In an nutshell:\r\n\r\nI have a source code:\r\n    \r\n    @GetMapping(..)\r\n    public void someEndpoint(...) {\r\n        Mono&lt;Object&gt; mono = ReactiveSecurityContextHolder.getContext()\r\n            .map(securityContext -&gt; securityContext.getAuthentication().getPrincipal());\r\n        mono.block(); //&lt;-- I need to get the result of Mono execution HERE at this thread in a blocking manner\r\n         ...\r\n    }\r\n\r\nAnd I get the error here:\r\n\r\n    block()/blockFirst()/blockLast() are blocking, which is not supported in thread parallel-2\r\n\r\nBecause it is forbidden to use blocking calls in reactor and bla bla bla although in previous versions of reactor this code was working.\r\n\r\nI started to looking for a solution of my issue and created 2 topics:\r\n\r\n 1. https://stackoverflow.com/questions/74875058/how-to-get-jwt-token-value-in-spring-webflux-to-exchange-it-with-minio-sts-tok\r\n 2. https://stackoverflow.com/questions/74921888/how-to-get-raw-token-from-reactivesecuritycontextholder\r\n\r\nI&#39;ve got an [advice][1] to make blocking call in a way described [here][2]:\r\n\r\nSo my attempts are:\r\n\r\n\r\n**Attempt 1:**\r\n\r\n    Mono&lt;Object&gt; mono = ReactiveSecurityContextHolder.getContext()\r\n                .map(securityContext -&gt; securityContext.getAuthentication().getPrincipal());\r\n    Mono&lt;Object&gt; objectMono = mono.subscribeOn(Schedulers.boundedElastic());\r\n    Object result = objectMono.block();\r\n\r\n   \r\n\r\n**Attempt 2:**\r\n\r\n    Mono&lt;Object&gt; mono = ReactiveSecurityContextHolder.getContext()\r\n                .map(securityContext -&gt; securityContext.getAuthentication().getPrincipal());\r\n    mono.subscribeOn(Schedulers.boundedElastic());\r\n    Object result = mono.block();\r\n\r\nIn both cases I receive the same error:\r\n\r\n    block()/blockFirst()/blockLast() are blocking, which is not supported in thread parallel-2\r\n\r\nHow can I fix it ?\r\n\r\nUPDATE 1:\r\n-\r\nAlso I&#39;ve found the similar topic with the same question but without any answer https://stackoverflow.com/questions/70701792/how-do-i-extract-information-from-jwt-which-is-stored-in-reactivesecuritycontext\r\n\r\n\r\nUPDATE 2:\r\n-\r\n\r\nAll code snippets provided below lead to the same error (    `block()/blockFirst()/blockLast() are blocking, which is not supported in thread parallel-2`\r\n)\r\n\r\nA)\r\n\r\n    Mono.just(&quot;qwerty&quot;)\r\n    .subscribeOn(Schedulers.boundedElastic())\r\n    .publishOn(Schedulers.boundedElastic())\r\n    .block()\r\n\r\nB)\r\n\r\n    Mono&lt;String&gt; customMono = Mono.just(&quot;qwerty&quot;);\r\n    Mono&lt;String&gt; blockedMono = customMono\r\n            .subscribeOn(Schedulers.boundedElastic())\r\n            .publishOn(Schedulers.boundedElastic());\r\n    System.out.println(&quot;blockedMono.block(): &quot; + blockedMono.block());\r\n\r\nC)   \r\n\r\n     Mono&lt;String&gt; customMono = Mono.just(&quot;qwerty&quot;);\r\n     Mono&lt;String&gt; blockedMono =  Mono.just(0)\r\n                .subscribeOn(Schedulers.boundedElastic())\r\n                .publishOn(Schedulers.boundedElastic())\r\n                .then(customMono);\r\n    \r\n     System.out.println(&quot;blockedMono.block(): &quot; + blockedMono.block());\r\n\r\n  [1]: https://stackoverflow.com/questions/74875058/how-to-get-jwt-token-value-in-spring-webflux-to-exchange-it-with-minio-sts-tok#comment132326290_74875058\r\n  [2]: https://projectreactor.io/docs/core/release/reference/#faq.wrap-blocking\r\n","title":"How to make blocking call for Mono?(How to get token from ReactiveSecurityContextHolder in a syncronous way)","body":"<p>My Task is - get JWT token.(all details are here <a href=\"https://stackoverflow.com/questions/74875058/how-to-get-jwt-token-value-in-spring-webflux-to-exchange-it-with-minio-sts-tok\">How to get jwt token value in spring webflux? (to exchange it with Minio STS token)</a>)</p>\n<p>But lets discard redundant details. In an nutshell:</p>\n<p>I have a source code:</p>\n<pre><code>@GetMapping(..)\npublic void someEndpoint(...) {\n    Mono&lt;Object&gt; mono = ReactiveSecurityContextHolder.getContext()\n        .map(securityContext -&gt; securityContext.getAuthentication().getPrincipal());\n    mono.block(); //&lt;-- I need to get the result of Mono execution HERE at this thread in a blocking manner\n     ...\n}\n</code></pre>\n<p>And I get the error here:</p>\n<pre><code>block()/blockFirst()/blockLast() are blocking, which is not supported in thread parallel-2\n</code></pre>\n<p>Because it is forbidden to use blocking calls in reactor and bla bla bla although in previous versions of reactor this code was working.</p>\n<p>I started to looking for a solution of my issue and created 2 topics:</p>\n<ol>\n<li><a href=\"https://stackoverflow.com/questions/74875058/how-to-get-jwt-token-value-in-spring-webflux-to-exchange-it-with-minio-sts-tok\">How to get jwt token value in spring webflux? (to exchange it with Minio STS token)</a></li>\n<li><a href=\"https://stackoverflow.com/questions/74921888/how-to-get-raw-token-from-reactivesecuritycontextholder\">How to get raw token from ReactiveSecurityContextHolder?</a></li>\n</ol>\n<p>I've got an <a href=\"https://stackoverflow.com/questions/74875058/how-to-get-jwt-token-value-in-spring-webflux-to-exchange-it-with-minio-sts-tok#comment132326290_74875058\">advice</a> to make blocking call in a way described <a href=\"https://projectreactor.io/docs/core/release/reference/#faq.wrap-blocking\" rel=\"nofollow noreferrer\">here</a>:</p>\n<p>So my attempts are:</p>\n<p><strong>Attempt 1:</strong></p>\n<pre><code>Mono&lt;Object&gt; mono = ReactiveSecurityContextHolder.getContext()\n            .map(securityContext -&gt; securityContext.getAuthentication().getPrincipal());\nMono&lt;Object&gt; objectMono = mono.subscribeOn(Schedulers.boundedElastic());\nObject result = objectMono.block();\n</code></pre>\n<p><strong>Attempt 2:</strong></p>\n<pre><code>Mono&lt;Object&gt; mono = ReactiveSecurityContextHolder.getContext()\n            .map(securityContext -&gt; securityContext.getAuthentication().getPrincipal());\nmono.subscribeOn(Schedulers.boundedElastic());\nObject result = mono.block();\n</code></pre>\n<p>In both cases I receive the same error:</p>\n<pre><code>block()/blockFirst()/blockLast() are blocking, which is not supported in thread parallel-2\n</code></pre>\n<p>How can I fix it ?</p>\n<h2>UPDATE 1:</h2>\n<p>Also I've found the similar topic with the same question but without any answer <a href=\"https://stackoverflow.com/questions/70701792/how-do-i-extract-information-from-jwt-which-is-stored-in-reactivesecuritycontext\">How do i extract information from Jwt which is stored in ReactiveSecurityContextHolder. It returns a Mono&lt;String&gt; but I need String</a></p>\n<h2>UPDATE 2:</h2>\n<p>All code snippets provided below lead to the same error (    <code>block()/blockFirst()/blockLast() are blocking, which is not supported in thread parallel-2</code>\n)</p>\n<p>A)</p>\n<pre><code>Mono.just(&quot;qwerty&quot;)\n.subscribeOn(Schedulers.boundedElastic())\n.publishOn(Schedulers.boundedElastic())\n.block()\n</code></pre>\n<p>B)</p>\n<pre><code>Mono&lt;String&gt; customMono = Mono.just(&quot;qwerty&quot;);\nMono&lt;String&gt; blockedMono = customMono\n        .subscribeOn(Schedulers.boundedElastic())\n        .publishOn(Schedulers.boundedElastic());\nSystem.out.println(&quot;blockedMono.block(): &quot; + blockedMono.block());\n</code></pre>\n<p>C)</p>\n<pre><code> Mono&lt;String&gt; customMono = Mono.just(&quot;qwerty&quot;);\n Mono&lt;String&gt; blockedMono =  Mono.just(0)\n            .subscribeOn(Schedulers.boundedElastic())\n            .publishOn(Schedulers.boundedElastic())\n            .then(customMono);\n\n System.out.println(&quot;blockedMono.block(): &quot; + blockedMono.block());\n</code></pre>\n"},{"tags":["java","spring","spring-boot","thymeleaf"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1673246000,"post_id":75052373,"comment_id":132446552,"body_markdown":"There is no `id` value sense `walletId` will resolve to nothing leading to a wrong URL. So check the URL that is being generated.","body":"There is no <code>id</code> value sense <code>walletId</code> will resolve to nothing leading to a wrong URL. So check the URL that is being generated."},{"owner":{"account_id":14718929,"reputation":81,"user_id":14125692,"display_name":"asu"},"score":0,"creation_date":1673273378,"post_id":75052373,"comment_id":132455073,"body_markdown":"I put `transaction.setId(walletId)` after `if(result.hasErrors())` but its still same URL after submit button","body":"I put <code>transaction.setId(walletId)</code> after <code>if(result.hasErrors())</code> but its still same URL after submit button"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1673274592,"post_id":75052373,"comment_id":132455564,"body_markdown":"The 404 clearly indicates you are posting to the wrong URL, that **or** your redirect isn&#39;t working. Check your logs and errormessages, for now there is too little information.","body":"The 404 clearly indicates you are posting to the wrong URL, that <b>or</b> your redirect isn&#39;t working. Check your logs and errormessages, for now there is too little information."},{"owner":{"account_id":14718929,"reputation":81,"user_id":14125692,"display_name":"asu"},"score":0,"creation_date":1673274734,"post_id":75052373,"comment_id":132455639,"body_markdown":"When I get form url is `http://localhost:8080/api/transaction/expenseTransaction/5` with 5 as ID at the end and that is fine, when I insert wrong data and click submit I get error on screen and URL is this `http://localhost:8080/api/transaction/saveExpense/5` now if I again insert wrong error it still should be `http://localhost:8080/api/transaction/saveExpense/5` but it is `http://localhost:8080/api/transaction/saveExpense/` without `5` as ID at the end","body":"When I get form url is <code>http:&#47;&#47;localhost:8080&#47;api&#47;transaction&#47;expenseTransaction&#47;5</code> with 5 as ID at the end and that is fine, when I insert wrong data and click submit I get error on screen and URL is this <code>http:&#47;&#47;localhost:8080&#47;api&#47;transaction&#47;saveExpense&#47;5</code> now if I again insert wrong error it still should be <code>http:&#47;&#47;localhost:8080&#47;api&#47;transaction&#47;saveExpense&#47;5</code> but it is <code>http:&#47;&#47;localhost:8080&#47;api&#47;transaction&#47;saveExpense&#47;</code> without <code>5</code> as ID at the end"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1673274855,"post_id":75052373,"comment_id":132455699,"body_markdown":"Which is what I hinted at in my comment. There is no `id` property in your model, setting it on the transaction won&#39;t help. You need to add a property `id` with the proper value to the `model`. The problem is that initially your property is `id` but in your submit your path variable is suddenly `walletId` now when re-rendering the page no more `id` but a `walletId` is in the model. So the URL generation for `th:action` fails. Put the `walletId` in the model as `id`.","body":"Which is what I hinted at in my comment. There is no <code>id</code> property in your model, setting it on the transaction won&#39;t help. You need to add a property <code>id</code> with the proper value to the <code>model</code>. The problem is that initially your property is <code>id</code> but in your submit your path variable is suddenly <code>walletId</code> now when re-rendering the page no more <code>id</code> but a <code>walletId</code> is in the model. So the URL generation for <code>th:action</code> fails. Put the <code>walletId</code> in the model as <code>id</code>."},{"owner":{"account_id":14718929,"reputation":81,"user_id":14125692,"display_name":"asu"},"score":0,"creation_date":1673274891,"post_id":75052373,"comment_id":132455719,"body_markdown":"In Form you can see I have `th:action=&quot;@{/api/transaction/saveExpense/{walletId} (walletId=${id})}&quot;` on tutorial I&#39;m watching it stays like this for example `.../{walletId} (walletId=${wallet.id})}&quot;` but I dont know if that can be a problem since at first and also my form works when all fields are fine","body":"In Form you can see I have <code>th:action=&quot;@{&#47;api&#47;transaction&#47;saveExpense&#47;{walletId} (walletId=${id})}&quot;</code> on tutorial I&#39;m watching it stays like this for example <code>...&#47;{walletId} (walletId=${wallet.id})}&quot;</code> but I dont know if that can be a problem since at first and also my form works when all fields are fine"},{"owner":{"account_id":14718929,"reputation":81,"user_id":14125692,"display_name":"asu"},"score":0,"creation_date":1673274967,"post_id":75052373,"comment_id":132455748,"body_markdown":"Can you give me some example how to insert that than? I&#39;m watching some tutorial, this is repo https://github.com/RameshMF/springboot-thymeleaf-crud-tutorial/blob/master/src/main/java/net/javaguides/springboot/tutorial/controller/StudentController.java and I did same like he did","body":"Can you give me some example how to insert that than? I&#39;m watching some tutorial, this is repo <a href=\"https://github.com/RameshMF/springboot-thymeleaf-crud-tutorial/blob/master/src/main/java/net/javaguides/springboot/tutorial/controller/StudentController.java\" rel=\"nofollow noreferrer\">github.com/RameshMF/springboot-thymeleaf-crud-tutorial/blob/&zwnj;&#8203;&hellip;</a> and I did same like he did"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1673274990,"post_id":75052373,"comment_id":132455759,"body_markdown":"So you are half and half following a tutorial and wondering why it doesn&#39;t work. What you have is different then the tutorial and thus is break (see my previous comment). So no you didn&#39;t do as they did. `${id}` isn&#39;t `${wallet.id}`. Also in their tutorials the name of the `@PathVariable` doesn&#39;t change (as it does in yours). As I stated -&gt; * The problem is that initially your property is `id` but in your submit your path variable is suddenly `walletId` now when re-rendering the page no more `id` but a `walletId` is in the model. So the URL generation for th:action fails.*","body":"So you are half and half following a tutorial and wondering why it doesn&#39;t work. What you have is different then the tutorial and thus is break (see my previous comment). So no you didn&#39;t do as they did. <code>${id}</code> isn&#39;t <code>${wallet.id}</code>. Also in their tutorials the name of the <code>@PathVariable</code> doesn&#39;t change (as it does in yours). As I stated -&gt; * The problem is that initially your property is <code>id</code> but in your submit your path variable is suddenly <code>walletId</code> now when re-rendering the page no more <code>id</code> but a <code>walletId</code> is in the model. So the URL generation for th:action fails.*"},{"owner":{"account_id":14718929,"reputation":81,"user_id":14125692,"display_name":"asu"},"score":0,"creation_date":1673275064,"post_id":75052373,"comment_id":132455788,"body_markdown":"Okay, maybe you are right, but my controllers are similar to him, he also have path variable at the end of URL and other stuff like me, so I tried to combine that from him and make to work on my own","body":"Okay, maybe you are right, but my controllers are similar to him, he also have path variable at the end of URL and other stuff like me, so I tried to combine that from him and make to work on my own"},{"owner":{"account_id":14718929,"reputation":81,"user_id":14125692,"display_name":"asu"},"score":0,"creation_date":1673275085,"post_id":75052373,"comment_id":132455799,"body_markdown":"I know it isnt, i just gave example","body":"I know it isnt, i just gave example"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1673275141,"post_id":75052373,"comment_id":132455821,"body_markdown":"Similar isn&#39;t the same, as stated twice now, your path variables names change.","body":"Similar isn&#39;t the same, as stated twice now, your path variables names change."}],"answers":[{"tags":[],"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1673275307,"creation_date":1673275307,"answer_id":75058888,"question_id":75052373,"body_markdown":"The problem is your code. \r\n\r\nYour get method is defined with `@GetMapping(&quot;/expenseTransaction/{id}&quot;)` and your POST method is defined with `@PostMapping(&quot;/saveExpense/{walletId}&quot;)`.\r\n\r\nThe GET method will expose a variable named `id` in your model and fill that with the value of the path variable. \r\n\r\nYour POST method will expose a variable named `walletId` in your model and fill that with the value of the path variable. \r\n\r\nIn your `th:action` you expect the `id` to be filled. Which is true for the GET not for the POST because the names are different. \r\n\r\nEither fix your path variable names, or explicitly add `id` to the model in the POST method with the value from `walletId`. ","title":"User cant have a second chance for input if first time enter wrong data","body":"<p>The problem is your code.</p>\n<p>Your get method is defined with <code>@GetMapping(&quot;/expenseTransaction/{id}&quot;)</code> and your POST method is defined with <code>@PostMapping(&quot;/saveExpense/{walletId}&quot;)</code>.</p>\n<p>The GET method will expose a variable named <code>id</code> in your model and fill that with the value of the path variable.</p>\n<p>Your POST method will expose a variable named <code>walletId</code> in your model and fill that with the value of the path variable.</p>\n<p>In your <code>th:action</code> you expect the <code>id</code> to be filled. Which is true for the GET not for the POST because the names are different.</p>\n<p>Either fix your path variable names, or explicitly add <code>id</code> to the model in the POST method with the value from <code>walletId</code>.</p>\n"}],"owner":{"account_id":14718929,"reputation":81,"user_id":14125692,"display_name":"asu"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75058888,"answer_count":1,"score":0,"last_activity_date":1673275307,"creation_date":1673226099,"question_id":75052373,"body_markdown":"So actually I have an controller that show form to user. User get that form and for example if he enter a wrong data, for example amount field is just positive numbers but user insert -1 user will get error message on screen, but when user change that value and enter for example 3 for amount and submit form, user get 404 `Whitelabel Error Page`. \r\n\r\nSo first URL is:\r\n\r\n`http://localhost:8080/api/transaction/expenseTransaction/4`, now, user enter -1 for amount and click submit, URL is `http://localhost:8080/api/transaction/saveExpense/4`, so is there any way to stay on same page and allow user to save form after he insert properly data?\r\n\r\n\r\nI have this controller to show form:\r\n\r\n    @GetMapping(&quot;/expenseTransaction/{id}&quot;)\r\n    public String expenseTransaction(@PathVariable(value = &quot;id&quot;) long id, Transaction transaction, Model model) {\r\n        Authentication authentication = SecurityContextHolder.getContext().getAuthentication();\r\n        UserDetailsImpl user = (UserDetailsImpl) authentication.getPrincipal();\r\n        long userId = user.getId();\r\n        model.addAttribute(&quot;userId&quot;, userId);\r\n\r\n\r\n        model.addAttribute(&quot;transaction&quot;, transaction);\r\n        model.addAttribute(&quot;expenseCategories&quot;, ExpenseCategories.values());\r\n\r\n        return &quot;expense_transaction&quot;;\r\n\r\n    }\r\n\r\nThis is the form:\r\n\r\n    &lt;div class=&quot;container my-5&quot;&gt;\r\n    &lt;h3&gt; Expense transaction&lt;/h3&gt;\r\n    &lt;div class=&quot;card&quot;&gt;\r\n        &lt;div class=&quot;card-body&quot;&gt;\r\n            &lt;div class=&quot;col-md-8&quot;&gt;\r\n                &lt;form action=&quot;#&quot;\r\n                      th:action=&quot;@{/api/transaction/saveExpense/{walletId} (walletId=${id})}&quot;\r\n                      th:object=&quot;${transaction}&quot; method=&quot;post&quot;&gt;\r\n                    &lt;div class=&quot;row&quot;&gt;\r\n                        &lt;div class=&quot;form-group col-md-6&quot;&gt;\r\n                            &lt;label for=&quot;amount&quot; class=&quot;col-form-label&quot;&gt;Amount&lt;/label&gt; &lt;input\r\n                                type=&quot;text&quot; th:field=&quot;*{amount}&quot; class=&quot;form-control&quot; id=&quot;amount&quot;\r\n                                placeholder=&quot;amount&quot;&gt; &lt;span\r\n                                th:if=&quot;${#fields.hasErrors(&#39;amount&#39;)}&quot; th:errors=&quot;*{amount}&quot;\r\n                                class=&quot;text-danger&quot;&gt;&lt;/span&gt;\r\n                        &lt;/div&gt;\r\n                        &lt;div class=&quot;form-group col-md-8&quot;&gt;\r\n                            &lt;label for=&quot;note&quot; class=&quot;col-form-label&quot;&gt;Note&lt;/label&gt; &lt;input\r\n                                type=&quot;text&quot; th:field=&quot;*{note}&quot; class=&quot;form-control&quot; id=&quot;note&quot;\r\n                                placeholder=&quot;note&quot;&gt; &lt;span\r\n                                th:if=&quot;${#fields.hasErrors(&#39;note&#39;)}&quot; th:errors=&quot;*{note}&quot;\r\n                                class=&quot;text-danger&quot;&gt;&lt;/span&gt;\r\n                        &lt;/div&gt;\r\n                        &lt;div class=&quot;form-group col-md-8&quot;&gt;\r\n                            &lt;label for=&quot;date&quot; class=&quot;col-form-label&quot;&gt;Date&lt;/label&gt; &lt;input\r\n                                type=&quot;date&quot; th:field=&quot;*{date}&quot; class=&quot;form-control&quot;\r\n                                id=&quot;date&quot; placeholder=&quot;date&quot;&gt; &lt;span\r\n                                th:if=&quot;${#fields.hasErrors(&#39;date&#39;)}&quot; th:errors=&quot;date&quot;\r\n                                class=&quot;text-danger&quot;&gt;&lt;/span&gt;\r\n                        &lt;/div&gt;\r\n                        &lt;div class=&quot;form-group col-md-8&quot;&gt;\r\n                            &lt;label for=&quot;date&quot; class=&quot;col-form-label&quot;&gt;Category&lt;/label&gt;\r\n                            &lt;select th:field=&quot;${transaction.expenseCategories}&quot;&gt;\r\n                                &lt;option value=&quot;0&quot;&gt;Select expense category&lt;/option&gt;\r\n                                &lt;option\r\n                                        th:each=&quot;expenseCategories : ${expenseCategories}&quot;\r\n                                        th:value=&quot;${expenseCategories}&quot;\r\n                                        th:text=&quot;${expenseCategories.displayName}&quot;\r\n                                &gt;&lt;/option&gt;\r\n                            &lt;/select&gt;\r\n                        &lt;/div&gt;\r\n\r\n                        &lt;div class=&quot;form-group col-md-8&quot;&gt;\r\n                            &lt;input type=&quot;submit&quot; class=&quot;btn btn-primary&quot;\r\n                                   value=&quot;Update Student&quot;&gt;\r\n                        &lt;/div&gt;\r\n                    &lt;/div&gt;\r\n                &lt;/form&gt;\r\n            &lt;/div&gt;\r\n        &lt;/div&gt;\r\n    &lt;/div&gt;\r\n&lt;/div&gt;\r\n\r\nThis is controller to save that form:\r\n\r\n    @PostMapping(&quot;/saveExpense/{walletId}&quot;)\r\n    public String saveExpense(@PathVariable(value = &quot;walletId&quot;) long walletId,\r\n                              @Valid Transaction transaction, BindingResult result, Model model) {\r\n\r\n        Authentication authentication = SecurityContextHolder.getContext().getAuthentication();\r\n        UserDetailsImpl user = (UserDetailsImpl) authentication.getPrincipal();\r\n        long userId = user.getId();\r\n\r\n        Wallet wallet = walletService.getWalletById(walletId);\r\n\r\n        boolean thereAreErrors = result.hasErrors();\r\n        if (thereAreErrors) {\r\n            transaction.setId(walletId);\r\n            model.addAttribute(&quot;expenseCategories&quot;, ExpenseCategories.values());\r\n            return &quot;expense_transaction&quot;;\r\n        }\r\n\r\n        transaction.setWallet(wallet);\r\n        transactionService.saveExpense(transaction, walletId, userId);\r\n        return &quot;redirect:/api/wallet/userWallet/balance/&quot; + userId;\r\n\r\n    }\r\n\r\n\r\n","title":"User cant have a second chance for input if first time enter wrong data","body":"<p>So actually I have an controller that show form to user. User get that form and for example if he enter a wrong data, for example amount field is just positive numbers but user insert -1 user will get error message on screen, but when user change that value and enter for example 3 for amount and submit form, user get 404 <code>Whitelabel Error Page</code>.</p>\n<p>So first URL is:</p>\n<p><code>http://localhost:8080/api/transaction/expenseTransaction/4</code>, now, user enter -1 for amount and click submit, URL is <code>http://localhost:8080/api/transaction/saveExpense/4</code>, so is there any way to stay on same page and allow user to save form after he insert properly data?</p>\n<p>I have this controller to show form:</p>\n<pre><code>@GetMapping(&quot;/expenseTransaction/{id}&quot;)\npublic String expenseTransaction(@PathVariable(value = &quot;id&quot;) long id, Transaction transaction, Model model) {\n    Authentication authentication = SecurityContextHolder.getContext().getAuthentication();\n    UserDetailsImpl user = (UserDetailsImpl) authentication.getPrincipal();\n    long userId = user.getId();\n    model.addAttribute(&quot;userId&quot;, userId);\n\n\n    model.addAttribute(&quot;transaction&quot;, transaction);\n    model.addAttribute(&quot;expenseCategories&quot;, ExpenseCategories.values());\n\n    return &quot;expense_transaction&quot;;\n\n}\n</code></pre>\n<p>This is the form:</p>\n<pre><code>&lt;div class=&quot;container my-5&quot;&gt;\n&lt;h3&gt; Expense transaction&lt;/h3&gt;\n&lt;div class=&quot;card&quot;&gt;\n    &lt;div class=&quot;card-body&quot;&gt;\n        &lt;div class=&quot;col-md-8&quot;&gt;\n            &lt;form action=&quot;#&quot;\n                  th:action=&quot;@{/api/transaction/saveExpense/{walletId} (walletId=${id})}&quot;\n                  th:object=&quot;${transaction}&quot; method=&quot;post&quot;&gt;\n                &lt;div class=&quot;row&quot;&gt;\n                    &lt;div class=&quot;form-group col-md-6&quot;&gt;\n                        &lt;label for=&quot;amount&quot; class=&quot;col-form-label&quot;&gt;Amount&lt;/label&gt; &lt;input\n                            type=&quot;text&quot; th:field=&quot;*{amount}&quot; class=&quot;form-control&quot; id=&quot;amount&quot;\n                            placeholder=&quot;amount&quot;&gt; &lt;span\n                            th:if=&quot;${#fields.hasErrors('amount')}&quot; th:errors=&quot;*{amount}&quot;\n                            class=&quot;text-danger&quot;&gt;&lt;/span&gt;\n                    &lt;/div&gt;\n                    &lt;div class=&quot;form-group col-md-8&quot;&gt;\n                        &lt;label for=&quot;note&quot; class=&quot;col-form-label&quot;&gt;Note&lt;/label&gt; &lt;input\n                            type=&quot;text&quot; th:field=&quot;*{note}&quot; class=&quot;form-control&quot; id=&quot;note&quot;\n                            placeholder=&quot;note&quot;&gt; &lt;span\n                            th:if=&quot;${#fields.hasErrors('note')}&quot; th:errors=&quot;*{note}&quot;\n                            class=&quot;text-danger&quot;&gt;&lt;/span&gt;\n                    &lt;/div&gt;\n                    &lt;div class=&quot;form-group col-md-8&quot;&gt;\n                        &lt;label for=&quot;date&quot; class=&quot;col-form-label&quot;&gt;Date&lt;/label&gt; &lt;input\n                            type=&quot;date&quot; th:field=&quot;*{date}&quot; class=&quot;form-control&quot;\n                            id=&quot;date&quot; placeholder=&quot;date&quot;&gt; &lt;span\n                            th:if=&quot;${#fields.hasErrors('date')}&quot; th:errors=&quot;date&quot;\n                            class=&quot;text-danger&quot;&gt;&lt;/span&gt;\n                    &lt;/div&gt;\n                    &lt;div class=&quot;form-group col-md-8&quot;&gt;\n                        &lt;label for=&quot;date&quot; class=&quot;col-form-label&quot;&gt;Category&lt;/label&gt;\n                        &lt;select th:field=&quot;${transaction.expenseCategories}&quot;&gt;\n                            &lt;option value=&quot;0&quot;&gt;Select expense category&lt;/option&gt;\n                            &lt;option\n                                    th:each=&quot;expenseCategories : ${expenseCategories}&quot;\n                                    th:value=&quot;${expenseCategories}&quot;\n                                    th:text=&quot;${expenseCategories.displayName}&quot;\n                            &gt;&lt;/option&gt;\n                        &lt;/select&gt;\n                    &lt;/div&gt;\n\n                    &lt;div class=&quot;form-group col-md-8&quot;&gt;\n                        &lt;input type=&quot;submit&quot; class=&quot;btn btn-primary&quot;\n                               value=&quot;Update Student&quot;&gt;\n                    &lt;/div&gt;\n                &lt;/div&gt;\n            &lt;/form&gt;\n        &lt;/div&gt;\n    &lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>This is controller to save that form:</p>\n<pre><code>@PostMapping(&quot;/saveExpense/{walletId}&quot;)\npublic String saveExpense(@PathVariable(value = &quot;walletId&quot;) long walletId,\n                          @Valid Transaction transaction, BindingResult result, Model model) {\n\n    Authentication authentication = SecurityContextHolder.getContext().getAuthentication();\n    UserDetailsImpl user = (UserDetailsImpl) authentication.getPrincipal();\n    long userId = user.getId();\n\n    Wallet wallet = walletService.getWalletById(walletId);\n\n    boolean thereAreErrors = result.hasErrors();\n    if (thereAreErrors) {\n        transaction.setId(walletId);\n        model.addAttribute(&quot;expenseCategories&quot;, ExpenseCategories.values());\n        return &quot;expense_transaction&quot;;\n    }\n\n    transaction.setWallet(wallet);\n    transactionService.saveExpense(transaction, walletId, userId);\n    return &quot;redirect:/api/wallet/userWallet/balance/&quot; + userId;\n\n}\n</code></pre>\n"},{"tags":["java","criteria-api","jpa-2.1"],"comments":[{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1673276082,"post_id":75058867,"comment_id":132456195,"body_markdown":"What if the tutor examines a schedule he didn&#39;t create? That would not show in your current setup. You should rather query the `Schedule` table where the tutor is an examiner","body":"What if the tutor examines a schedule he didn&#39;t create? That would not show in your current setup. You should rather query the <code>Schedule</code> table where the tutor is an examiner"},{"owner":{"account_id":6725074,"reputation":145,"user_id":7646476,"accept_rate":100,"display_name":"basamoahjnr"},"score":0,"creation_date":1673276994,"post_id":75058867,"comment_id":132456547,"body_markdown":"I have been contemplating that for a while, in my use case the tutor who creates a schedule might not necessarily be an examiner even though the said tutor created the schedule. From your comment, i should look to query the schedule table rather than traversing the relationships from `Tutor`.","body":"I have been contemplating that for a while, in my use case the tutor who creates a schedule might not necessarily be an examiner even though the said tutor created the schedule. From your comment, i should look to query the schedule table rather than traversing the relationships from <code>Tutor</code>."},{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":1,"creation_date":1673278144,"post_id":75058867,"comment_id":132457030,"body_markdown":"There are 2 possible approaches, though one will possibly be missing `Schedules`. 1st: query tutor with all the schedules he created and remove the schedules for which he is not an examiner (you might be missing the ones he does examine but didn&#39;t create). 2nd: query the mapping table to get all schedules where the tutor is an examiner. This would get you all schedules which the tutor examines. However, this is harder to do with criteria api. With criteria you will start at `Schedule` and need to find the ones where the tutor is a part of examiners. A native query would probably be easier tho","body":"There are 2 possible approaches, though one will possibly be missing <code>Schedules</code>. 1st: query tutor with all the schedules he created and remove the schedules for which he is not an examiner (you might be missing the ones he does examine but didn&#39;t create). 2nd: query the mapping table to get all schedules where the tutor is an examiner. This would get you all schedules which the tutor examines. However, this is harder to do with criteria api. With criteria you will start at <code>Schedule</code> and need to find the ones where the tutor is a part of examiners. A native query would probably be easier tho"}],"owner":{"account_id":6725074,"reputation":145,"user_id":7646476,"accept_rate":100,"display_name":"basamoahjnr"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673275195,"creation_date":1673275195,"question_id":75058867,"body_markdown":"I have an entity `Tutor` with two relationships in class `Schedule`. Code below defines the relationship between the two entities. \r\n\r\n    public class Tutor{\r\n       //list of schedules created by tutor\r\n       @OneToMany\r\n       List&lt;Schedule&gt; schedules;\r\n     }\r\n\r\nthen\r\n\r\n    public class Schedule{\r\n\r\n        //tutor who created this schedule\r\n        @ManyToOne\r\n        Tutor tutor;\r\n\r\n        //tutors who would be examiners of this schedule\r\n        @ManyToMany\r\n        @JoinTable\r\n        List&lt;Tutor&gt; examiners;\r\n       }\r\n\r\nhow can i query `Tutor` and fetch all `Schedule(s)` where `Tutor` is an `examiner` using criteria api","title":"Using JPA Criteria API to fetch a list","body":"<p>I have an entity <code>Tutor</code> with two relationships in class <code>Schedule</code>. Code below defines the relationship between the two entities.</p>\n<pre><code>public class Tutor{\n   //list of schedules created by tutor\n   @OneToMany\n   List&lt;Schedule&gt; schedules;\n }\n</code></pre>\n<p>then</p>\n<pre><code>public class Schedule{\n\n    //tutor who created this schedule\n    @ManyToOne\n    Tutor tutor;\n\n    //tutors who would be examiners of this schedule\n    @ManyToMany\n    @JoinTable\n    List&lt;Tutor&gt; examiners;\n   }\n</code></pre>\n<p>how can i query <code>Tutor</code> and fetch all <code>Schedule(s)</code> where <code>Tutor</code> is an <code>examiner</code> using criteria api</p>\n"},{"tags":["java","spring","spring-mvc","spring-aop"],"comments":[{"owner":{"account_id":8909811,"reputation":2612,"user_id":6650475,"display_name":"Andrew S"},"score":0,"creation_date":1513883044,"post_id":47930978,"comment_id":82831180,"body_markdown":"Likely through a filter - [this](https://stackoverflow.com/questions/27504696/how-to-change-the-posted-values-with-a-spring-mvc-interceptor) might help.","body":"Likely through a filter - <a href=\"https://stackoverflow.com/questions/27504696/how-to-change-the-posted-values-with-a-spring-mvc-interceptor\">this</a> might help."},{"owner":{"account_id":277416,"reputation":681888,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":2,"creation_date":1513884021,"post_id":47930978,"comment_id":82831695,"body_markdown":"What&#39;s wrong with a good old method call? `id = leftPad(id)`?","body":"What&#39;s wrong with a good old method call? <code>id = leftPad(id)</code>?"}],"answers":[{"comments":[{"owner":{"account_id":7122775,"reputation":1029,"user_id":5446775,"accept_rate":48,"display_name":"Yves Calaci"},"score":0,"creation_date":1513888448,"post_id":47932149,"comment_id":82833730,"body_markdown":"Hey, thank you for your time! Although your answer only works for a fixed length and pads all the string parameters within the controller actions. Also, copying this `@InitBinder` to every controller is out of mind.","body":"Hey, thank you for your time! Although your answer only works for a fixed length and pads all the string parameters within the controller actions. Also, copying this <code>@InitBinder</code> to every controller is out of mind."}],"tags":[],"owner":{"account_id":5758401,"reputation":2142,"user_id":4545552,"accept_rate":100,"display_name":"yanefedor"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1513887350,"creation_date":1513887350,"answer_id":47932149,"question_id":47930978,"body_markdown":"Spring `@InitBinder` annotation and `WebDataBinder` class will help you to intercept parameter and process it&#39;s value before controller method call.\r\n\r\nDocumentation:\r\n\r\n - [InitBinder][1]\r\n   \r\n - [WebDataBinder][2]\r\n\r\nFull code pattern:\r\n\r\n    @RestController\r\n    public class FooController {\r\n    \r\n        @InitBinder\r\n        private void initBinder(WebDataBinder binder) {\r\n            binder.registerCustomEditor(String.class, new PropertyEditorSupport() {\r\n                @Override\r\n                public void setAsText(String text) throws IllegalArgumentException {\r\n                    super.setValue(&quot;000&quot; + text);\r\n                }\r\n            } );\r\n        }\r\n    \r\n        @GetMapping(value = &quot;/foo/{id}&quot;)\r\n        public Foo sayHello(\r\n                @PathVariable(value = &quot;id&quot;) String id\r\n        ) {\r\n            return new Foo(id);\r\n        }\r\n    \r\n        @XmlRootElement\r\n        @XmlAccessorType(XmlAccessType.FIELD)\r\n        public static class Foo {\r\n            @XmlElement(name = &quot;id&quot;)\r\n            private String id;\r\n    \r\n            public Foo(String id) {\r\n                this.id = id;\r\n            }\r\n    \r\n            public Foo() {\r\n            }\r\n    \r\n            public String getId() {\r\n                return id;\r\n            }\r\n    \r\n            public void setId(String id) {\r\n                this.id = id;\r\n            }\r\n        }\r\n    }\r\n\r\nAnd the usage:\r\n\r\n    curl http://localhost:8080/foo/10 | xmllint --format -\r\n\r\nResponse:\r\n\r\n    &lt;foo&gt;\r\n    &lt;id&gt;00010&lt;/id&gt;\r\n    &lt;/foo&gt;\r\n\r\n  [1]: https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/web/bind/annotation/InitBinder.html\r\n  [2]: https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/web/bind/WebDataBinder.html","title":"Spring MVC: How to read and change a @PathVariable value","body":"<p>Spring <code>@InitBinder</code> annotation and <code>WebDataBinder</code> class will help you to intercept parameter and process it's value before controller method call.</p>\n\n<p>Documentation:</p>\n\n<ul>\n<li><p><a href=\"https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/web/bind/annotation/InitBinder.html\" rel=\"nofollow noreferrer\">InitBinder</a></p></li>\n<li><p><a href=\"https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/web/bind/WebDataBinder.html\" rel=\"nofollow noreferrer\">WebDataBinder</a></p></li>\n</ul>\n\n<p>Full code pattern:</p>\n\n<pre><code>@RestController\npublic class FooController {\n\n    @InitBinder\n    private void initBinder(WebDataBinder binder) {\n        binder.registerCustomEditor(String.class, new PropertyEditorSupport() {\n            @Override\n            public void setAsText(String text) throws IllegalArgumentException {\n                super.setValue(\"000\" + text);\n            }\n        } );\n    }\n\n    @GetMapping(value = \"/foo/{id}\")\n    public Foo sayHello(\n            @PathVariable(value = \"id\") String id\n    ) {\n        return new Foo(id);\n    }\n\n    @XmlRootElement\n    @XmlAccessorType(XmlAccessType.FIELD)\n    public static class Foo {\n        @XmlElement(name = \"id\")\n        private String id;\n\n        public Foo(String id) {\n            this.id = id;\n        }\n\n        public Foo() {\n        }\n\n        public String getId() {\n            return id;\n        }\n\n        public void setId(String id) {\n            this.id = id;\n        }\n    }\n}\n</code></pre>\n\n<p>And the usage:</p>\n\n<pre><code>curl http://localhost:8080/foo/10 | xmllint --format -\n</code></pre>\n\n<p>Response:</p>\n\n<pre><code>&lt;foo&gt;\n&lt;id&gt;00010&lt;/id&gt;\n&lt;/foo&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7122775,"reputation":1029,"user_id":5446775,"accept_rate":48,"display_name":"Yves Calaci"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1513888358,"creation_date":1513888358,"answer_id":47932331,"question_id":47930978,"body_markdown":"Ok, here is how I&#39;ve done it.\r\n\r\nSince we can&#39;t inherit annotations and thus `@PathVariable`&#39;s target are only parameters, we have to create a new annotation, as follows:\r\n\r\n    @Target(ElementType.PARAMETER)\r\n    @Retention(RetentionPolicy.RUNTIME)\r\n    public @interface PathVariablePad {\r\n    \r\n    \tint zeros() default 0;\r\n    \t\r\n    \t@AliasFor(&quot;name&quot;)\r\n    \tString value() default &quot;&quot;;\r\n    \r\n    \t@AliasFor(&quot;value&quot;)\r\n    \tString name() default &quot;&quot;;\r\n    \r\n    \tboolean required() default true;\r\n    \t\r\n    }\r\n\r\nNow we need to create a `HandlerMethodArgumentResolver`. In this case, since all I want is to left-pad a `@PathVariable` with zeros, we&#39;re going to inherit `PathVariableMethodArgumentResolver`, like this:\r\n\r\n    public class PathVariablePadderMethodArgumentResolver extends PathVariableMethodArgumentResolver {\r\n    \r\n    \tprivate String leftPadWithZeros(Object target, int zeros) {\r\n    \t\treturn String.format(&quot;%1$&quot; + zeros + &quot;s&quot;, target.toString()).replace(&#39; &#39;, &#39;0&#39;); // Eeeewwwwwwwwwwww!\r\n    \t}\r\n    \t\r\n    \t@Override\r\n    \tpublic boolean supportsParameter(MethodParameter parameter) {\r\n    \t\treturn parameter.hasParameterAnnotation(PathVariablePad.class);\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tprotected NamedValueInfo createNamedValueInfo(MethodParameter parameter) {\r\n    \t\tPathVariablePad pvp = parameter.getParameterAnnotation(PathVariablePad.class);\r\n    \t\t\r\n    \t\treturn new NamedValueInfo(pvp.name(), pvp.required(), leftPadWithZeros(&quot;&quot;, pvp.zeros()));\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tprotected Object resolveName(String name, MethodParameter parameter, NativeWebRequest request) throws Exception {\r\n    \t\tPathVariablePad pvp = parameter.getParameterAnnotation(PathVariablePad.class);\r\n    \t\t\r\n    \t\treturn leftPadWithZeros(super.resolveName(name, parameter, request), pvp.zeros());\r\n    \t}\r\n    \r\n    }\r\n\r\nFinally, let&#39;s register our method argument resolver (xml):\r\n\r\n    &lt;mvc:annotation-driven&gt;\r\n        &lt;mvc:argument-resolvers&gt;\r\n            &lt;bean class=&quot;my.package.PathVariablePadderMethodArgumentResolver&quot; /&gt;\r\n        &lt;/mvc:argument-resolvers&gt;\r\n    &lt;/mvc:annotation-driven&gt;\r\n\r\nThe usage is pretty simple and heres how to do this:\r\n\r\n    @GetMapping(&quot;/ten/{id}&quot;)\r\n    public void ten(@PathVariablePad(zeros = 10) String id) {\r\n        // id would be &quot;0000000001&quot; on &quot;/ten/1&quot; calls\r\n    }\r\n    \r\n    @GetMapping(&quot;/five/{id}&quot;)\r\n    public void five(@PathVariablePad(zeros = 5) String id) {\r\n        // id would be &quot;00001&quot; on &quot;/five/1&quot; calls\r\n    }","title":"Spring MVC: How to read and change a @PathVariable value","body":"<p>Ok, here is how I've done it.</p>\n\n<p>Since we can't inherit annotations and thus <code>@PathVariable</code>'s target are only parameters, we have to create a new annotation, as follows:</p>\n\n<pre><code>@Target(ElementType.PARAMETER)\n@Retention(RetentionPolicy.RUNTIME)\npublic @interface PathVariablePad {\n\n    int zeros() default 0;\n\n    @AliasFor(\"name\")\n    String value() default \"\";\n\n    @AliasFor(\"value\")\n    String name() default \"\";\n\n    boolean required() default true;\n\n}\n</code></pre>\n\n<p>Now we need to create a <code>HandlerMethodArgumentResolver</code>. In this case, since all I want is to left-pad a <code>@PathVariable</code> with zeros, we're going to inherit <code>PathVariableMethodArgumentResolver</code>, like this:</p>\n\n<pre><code>public class PathVariablePadderMethodArgumentResolver extends PathVariableMethodArgumentResolver {\n\n    private String leftPadWithZeros(Object target, int zeros) {\n        return String.format(\"%1$\" + zeros + \"s\", target.toString()).replace(' ', '0'); // Eeeewwwwwwwwwwww!\n    }\n\n    @Override\n    public boolean supportsParameter(MethodParameter parameter) {\n        return parameter.hasParameterAnnotation(PathVariablePad.class);\n    }\n\n    @Override\n    protected NamedValueInfo createNamedValueInfo(MethodParameter parameter) {\n        PathVariablePad pvp = parameter.getParameterAnnotation(PathVariablePad.class);\n\n        return new NamedValueInfo(pvp.name(), pvp.required(), leftPadWithZeros(\"\", pvp.zeros()));\n    }\n\n    @Override\n    protected Object resolveName(String name, MethodParameter parameter, NativeWebRequest request) throws Exception {\n        PathVariablePad pvp = parameter.getParameterAnnotation(PathVariablePad.class);\n\n        return leftPadWithZeros(super.resolveName(name, parameter, request), pvp.zeros());\n    }\n\n}\n</code></pre>\n\n<p>Finally, let's register our method argument resolver (xml):</p>\n\n<pre><code>&lt;mvc:annotation-driven&gt;\n    &lt;mvc:argument-resolvers&gt;\n        &lt;bean class=\"my.package.PathVariablePadderMethodArgumentResolver\" /&gt;\n    &lt;/mvc:argument-resolvers&gt;\n&lt;/mvc:annotation-driven&gt;\n</code></pre>\n\n<p>The usage is pretty simple and heres how to do this:</p>\n\n<pre><code>@GetMapping(\"/ten/{id}\")\npublic void ten(@PathVariablePad(zeros = 10) String id) {\n    // id would be \"0000000001\" on \"/ten/1\" calls\n}\n\n@GetMapping(\"/five/{id}\")\npublic void five(@PathVariablePad(zeros = 5) String id) {\n    // id would be \"00001\" on \"/five/1\" calls\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2389091,"reputation":19,"user_id":2089337,"display_name":"Igor"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673274927,"creation_date":1673274927,"answer_id":75058805,"question_id":47930978,"body_markdown":"This is quite similar, but for Decoding the @PathVariable value, as brought here by @yanefedor, but applied to all Controllers in the application:\r\n\r\n   \r\n\r\n     @org.springframework.web.bind.annotation.ControllerAdvice\r\n    public class ControllerAdvice {\r\n    \r\n        /**\r\n         * Just to decode the data parsed into the Controller&#39;s methods parameters annotated with @PathVariable.\r\n         *\r\n         * @param binder\r\n         */\r\n        @InitBinder\r\n        private void initBinder(WebDataBinder binder) {\r\n            binder.registerCustomEditor(String.class, new PropertyEditorSupport() {\r\n                @Override\r\n                public void setAsText(String text) throws IllegalArgumentException {\r\n                    if (text == null) {\r\n                        super.setValue(null);\r\n                    } else {\r\n                        super.setValue(UriUtils.decode(text, Charset.defaultCharset()));\r\n                    }\r\n                }\r\n            });\r\n        }\r\n    }","title":"Spring MVC: How to read and change a @PathVariable value","body":"<p>This is quite similar, but for Decoding the @PathVariable value, as brought here by @yanefedor, but applied to all Controllers in the application:</p>\n<pre><code> @org.springframework.web.bind.annotation.ControllerAdvice\npublic class ControllerAdvice {\n\n    /**\n     * Just to decode the data parsed into the Controller's methods parameters annotated with @PathVariable.\n     *\n     * @param binder\n     */\n    @InitBinder\n    private void initBinder(WebDataBinder binder) {\n        binder.registerCustomEditor(String.class, new PropertyEditorSupport() {\n            @Override\n            public void setAsText(String text) throws IllegalArgumentException {\n                if (text == null) {\n                    super.setValue(null);\n                } else {\n                    super.setValue(UriUtils.decode(text, Charset.defaultCharset()));\n                }\n            }\n        });\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":7122775,"reputation":1029,"user_id":5446775,"accept_rate":48,"display_name":"Yves Calaci"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2510,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":47932331,"answer_count":3,"score":2,"last_activity_date":1673274927,"creation_date":1513882022,"question_id":47930978,"body_markdown":"This question is very similar to [this][1] one, but I dont know where to start.\r\n\r\nSuppose I have an action like this:\r\n\r\n    @GetMapping(&quot;/foo/{id}&quot;)\r\n    public Collection&lt;Foo&gt; listById(@PathVariable(&quot;id&quot;) string id) {\r\n    \treturn null;\r\n    }\r\n\r\nHow could one intercept the `listById` method and change the value of `id` (Eg.: concat a string, pad with zeros etc)?\r\n\r\nMy scenario is that mostly of the IDs are left-padded with zeros (lengths differ) and I dont want to leave this to my ajax calls.\r\n\r\nExpected solution:\r\n\r\n    @GetMapping(&quot;/foo/{id}&quot;)\r\n    public Collection&lt;Foo&gt; listById(@PathVariablePad(&quot;id&quot;, 4) string id) {\r\n    \t// id would be &quot;0004&quot; on &quot;/foo/4&quot; calls\r\n    \treturn null;\r\n    }\r\n\r\n  [1]: https://stackoverflow.com/questions/43183537/spring-aop-how-to-read-path-variable-value-from-uri-template-in-aspect/43185007#43185007","title":"Spring MVC: How to read and change a @PathVariable value","body":"<p>This question is very similar to <a href=\"https://stackoverflow.com/questions/43183537/spring-aop-how-to-read-path-variable-value-from-uri-template-in-aspect/43185007#43185007\">this</a> one, but I dont know where to start.</p>\n\n<p>Suppose I have an action like this:</p>\n\n<pre><code>@GetMapping(\"/foo/{id}\")\npublic Collection&lt;Foo&gt; listById(@PathVariable(\"id\") string id) {\n    return null;\n}\n</code></pre>\n\n<p>How could one intercept the <code>listById</code> method and change the value of <code>id</code> (Eg.: concat a string, pad with zeros etc)?</p>\n\n<p>My scenario is that mostly of the IDs are left-padded with zeros (lengths differ) and I dont want to leave this to my ajax calls.</p>\n\n<p>Expected solution:</p>\n\n<pre><code>@GetMapping(\"/foo/{id}\")\npublic Collection&lt;Foo&gt; listById(@PathVariablePad(\"id\", 4) string id) {\n    // id would be \"0004\" on \"/foo/4\" calls\n    return null;\n}\n</code></pre>\n"},{"tags":["java","annotations","default"],"comments":[{"owner":{"account_id":773585,"reputation":3537,"user_id":1034782,"accept_rate":25,"display_name":"Donatello"},"score":3,"creation_date":1580295160,"post_id":1178104,"comment_id":106047902,"body_markdown":"Because as there is no default anymore, the field becomes mandatory in annotation usage","body":"Because as there is no default anymore, the field becomes mandatory in annotation usage"},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":3,"creation_date":1610644285,"post_id":1178104,"comment_id":116203933,"body_markdown":"It’s funny that no-one answered the question: “Isn’t `null` constant?” The answer is no, in Java, `null` is not a constant. `null` can not be used at any place where a compile-time constant is required. E.g. try to add `String foo() default &quot;&quot; + null;` to your annotation. We know, the expression predictably evaluates to `&quot;null&quot;`, still, it’s not a constant expression, hence, not allowed.","body":"It’s funny that no-one answered the question: “Isn’t <code>null</code> constant?” The answer is no, in Java, <code>null</code> is not a constant. <code>null</code> can not be used at any place where a compile-time constant is required. E.g. try to add <code>String foo() default &quot;&quot; + null;</code> to your annotation. We know, the expression predictably evaluates to <code>&quot;null&quot;</code>, still, it’s not a constant expression, hence, not allowed."}],"answers":[{"comments":[{"owner":{"account_id":6636,"reputation":224532,"user_id":11236,"accept_rate":76,"display_name":"ripper234"},"score":3,"creation_date":1248447164,"post_id":1178157,"comment_id":998978,"body_markdown":"Yes, we do something similar (we just use Foo.class as the default). Sucks.","body":"Yes, we do something similar (we just use Foo.class as the default). Sucks."},{"owner":{"account_id":91310,"reputation":5171,"user_id":250798,"display_name":"Tim Yates"},"score":7,"creation_date":1358177795,"post_id":1178157,"comment_id":19899911,"body_markdown":"And in the case of String fields, you have to resort to [magic strings](http://en.wikipedia.org/wiki/Magic_string). Apparently well-known antipatterns are better than well-understood language features now.","body":"And in the case of String fields, you have to resort to <a href=\"http://en.wikipedia.org/wiki/Magic_string\" rel=\"nofollow noreferrer\">magic strings</a>. Apparently well-known antipatterns are better than well-understood language features now."},{"owner":{"account_id":243192,"reputation":6619,"user_id":515205,"accept_rate":83,"display_name":"spaaarky21"},"score":3,"creation_date":1395865140,"post_id":1178157,"comment_id":34537506,"body_markdown":"@TimYates  It kills me to see people defining their own &quot;no value&quot; sentinel value when null is available and universally understood.   And now that&#39;s being required by the language itself?!  Luckily, you can define your &quot;magic strings&quot; as public constants.  It&#39;s still not ideal but at least the code that&#39;s looking for your annotation can reference the constant instead of using literals everywhere.","body":"@TimYates  It kills me to see people defining their own &quot;no value&quot; sentinel value when null is available and universally understood.   And now that&#39;s being required by the language itself?!  Luckily, you can define your &quot;magic strings&quot; as public constants.  It&#39;s still not ideal but at least the code that&#39;s looking for your annotation can reference the constant instead of using literals everywhere."}],"tags":[],"owner":{"account_id":11089,"reputation":400050,"user_id":21234,"accept_rate":91,"display_name":"skaffman"},"comment_count":3,"down_vote_count":0,"up_vote_count":55,"is_accepted":false,"score":55,"last_activity_date":1248446638,"creation_date":1248446638,"answer_id":1178157,"question_id":1178104,"body_markdown":"It would seem this is illegal, although the JLS is very fuzzy on this.\r\n\r\nI wracked my memory to try and think of an existing annotation out there that had a Class attribute to an annotation, and remembered this one from the JAXB API:\r\n\r\n    @Retention(RUNTIME) @Target({PACKAGE,FIELD,METHOD,TYPE,PARAMETER})        \r\n    public @interface XmlJavaTypeAdapter {\r\n        Class type() default DEFAULT.class;\r\n    \r\n        static final class DEFAULT {}    \r\n    }\r\n\r\nYou can see how they&#39;ve had to define a dummy static class to hold the equivalent of a null.\r\n\r\nUnpleasant.","title":"Error setting a default null value for an annotation&#39;s field","body":"<p>It would seem this is illegal, although the JLS is very fuzzy on this.</p>\n\n<p>I wracked my memory to try and think of an existing annotation out there that had a Class attribute to an annotation, and remembered this one from the JAXB API:</p>\n\n<pre><code>@Retention(RUNTIME) @Target({PACKAGE,FIELD,METHOD,TYPE,PARAMETER})        \npublic @interface XmlJavaTypeAdapter {\n    Class type() default DEFAULT.class;\n\n    static final class DEFAULT {}    \n}\n</code></pre>\n\n<p>You can see how they've had to define a dummy static class to hold the equivalent of a null.</p>\n\n<p>Unpleasant.</p>\n"},{"tags":[],"owner":{"account_id":28947,"reputation":90769,"user_id":77779,"accept_rate":89,"display_name":"Yishai"},"comment_count":0,"down_vote_count":0,"up_vote_count":71,"is_accepted":true,"score":71,"last_activity_date":1610701481,"creation_date":1248447783,"answer_id":1178272,"question_id":1178104,"body_markdown":"I don&#39;t know why, but the [JLS][1] is very clear:\r\n\r\n\r\n     Discussion\r\n\r\n     Note that null is not a legal element value for any element type. \r\n\r\nAnd the definition of a default element is:\r\n\r\n         DefaultValue:\r\n             default ElementValue\r\n\r\nUnfortunately I keep finding that the new language features (Enums and now Annotations) have very unhelpful compiler error messages when you don&#39;t meet the language spec.\r\n\r\nEDIT: A little googleing found the [following][2] in the JSR-308, where they argue for allowing nulls in this situation:\r\n\r\n&gt; We note some possible objections to the proposal.\r\n&gt;\r\n&gt; The proposal doesn&#39;t make anything possible that was not possible before.\r\n&gt;\r\n&gt; The programmer-defined special value provides better documentation than null, which might mean “none”, “uninitialized”, null itself, etc.\r\n&gt;\r\n&gt; The proposal is more error-prone. It&#39;s much easier to forget checking against null than to forget checking for an explicit value.\r\n&gt;\r\n&gt; The proposal may make the standard idiom more verbose. Currently only the users of an annotation need to check for its special values. With the proposal, many tools that process annotations will have to check whether a field&#39;s value is null lest they throw a null pointer exception.\r\n\r\nI think only the last two points are relevant to &quot;why not do it in the first place.&quot; The last point certainly brings up a good point - an annotation processor never has to be concerned that they will get a null on an annotation value. I tend to see that as more the job of annotation processors and other such framework code to have to do that kind of check to make the developers code clearer rather than the other way around, but it would certainly make it hard to justify changing it.\r\n\r\n\r\n  [1]: http://java.sun.com/docs/books/jls/third_edition/html/interfaces.html\r\n  [2]: https://web.archive.org/web/20090804142546/http://groups.csail.mit.edu/pag/jsr308/specification/java-annotation-design.html#htoc48","title":"Error setting a default null value for an annotation&#39;s field","body":"<p>I don't know why, but the <a href=\"http://java.sun.com/docs/books/jls/third_edition/html/interfaces.html\" rel=\"noreferrer\">JLS</a> is very clear:</p>\n<pre><code> Discussion\n\n Note that null is not a legal element value for any element type. \n</code></pre>\n<p>And the definition of a default element is:</p>\n<pre><code>     DefaultValue:\n         default ElementValue\n</code></pre>\n<p>Unfortunately I keep finding that the new language features (Enums and now Annotations) have very unhelpful compiler error messages when you don't meet the language spec.</p>\n<p>EDIT: A little googleing found the <a href=\"https://web.archive.org/web/20090804142546/http://groups.csail.mit.edu/pag/jsr308/specification/java-annotation-design.html#htoc48\" rel=\"noreferrer\">following</a> in the JSR-308, where they argue for allowing nulls in this situation:</p>\n<blockquote>\n<p>We note some possible objections to the proposal.</p>\n<p>The proposal doesn't make anything possible that was not possible before.</p>\n<p>The programmer-defined special value provides better documentation than null, which might mean “none”, “uninitialized”, null itself, etc.</p>\n<p>The proposal is more error-prone. It's much easier to forget checking against null than to forget checking for an explicit value.</p>\n<p>The proposal may make the standard idiom more verbose. Currently only the users of an annotation need to check for its special values. With the proposal, many tools that process annotations will have to check whether a field's value is null lest they throw a null pointer exception.</p>\n</blockquote>\n<p>I think only the last two points are relevant to &quot;why not do it in the first place.&quot; The last point certainly brings up a good point - an annotation processor never has to be concerned that they will get a null on an annotation value. I tend to see that as more the job of annotation processors and other such framework code to have to do that kind of check to make the developers code clearer rather than the other way around, but it would certainly make it hard to justify changing it.</p>\n"},{"comments":[{"owner":{"account_id":7046,"reputation":4518,"user_id":12039,"accept_rate":89,"display_name":"Kariem"},"score":9,"creation_date":1385650360,"post_id":16200820,"comment_id":30235886,"body_markdown":"I like it. The only problem – in the context of the original question – is that this answer does not support type parameters:\n\n    `Class&lt;? extends Foo&gt; bar() default void.null`\n\ndoes not compile.","body":"I like it. The only problem – in the context of the original question – is that this answer does not support type parameters:      <code>Class&lt;? extends Foo&gt; bar() default void.null</code>  does not compile."},{"owner":{"account_id":988393,"reputation":721,"user_id":1048679,"accept_rate":91,"display_name":"wjohnson"},"score":3,"creation_date":1419210979,"post_id":16200820,"comment_id":43614751,"body_markdown":"The void.class can&#39;t be applied generally: public @interface NoNullDefault { String value() default void.class; }","body":"The void.class can&#39;t be applied generally: public @interface NoNullDefault { String value() default void.class; }"},{"owner":{"account_id":288740,"reputation":36435,"user_id":589329,"accept_rate":40,"display_name":"Vampire"},"score":0,"creation_date":1473936896,"post_id":16200820,"comment_id":66334699,"body_markdown":"For Groovy it works fine, even in the cases mentioned in the comments","body":"For Groovy it works fine, even in the cases mentioned in the comments"},{"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"score":0,"creation_date":1579642719,"post_id":16200820,"comment_id":105832608,"body_markdown":"*LOL:* that means nothing *vs* that means &quot;nothing&quot;","body":"<i>LOL:</i> that means nothing <i>vs</i> that means &quot;nothing&quot;"}],"tags":[],"owner":{"account_id":2211769,"reputation":6120,"user_id":1953420,"accept_rate":78,"display_name":"Logan Murphy"},"comment_count":4,"down_vote_count":0,"up_vote_count":72,"is_accepted":false,"score":72,"last_activity_date":1373471552,"creation_date":1366832638,"answer_id":16200820,"question_id":1178104,"body_markdown":"Try this\r\n\r\n    @Target(ElementType.TYPE)\r\n    @Retention(RetentionPolicy.RUNTIME)\r\n    public @interface SomeInterface {\r\n        Class bar() default void.class;\r\n    }\r\n\r\nIt does not require a new class and it is already a keyword in Java that means nothing.","title":"Error setting a default null value for an annotation&#39;s field","body":"<p>Try this</p>\n\n<pre><code>@Target(ElementType.TYPE)\n@Retention(RetentionPolicy.RUNTIME)\npublic @interface SomeInterface {\n    Class bar() default void.class;\n}\n</code></pre>\n\n<p>It does not require a new class and it is already a keyword in Java that means nothing.</p>\n"},{"comments":[{"owner":{"account_id":14857222,"reputation":126,"user_id":10729324,"display_name":"Oswaldo Junior"},"score":0,"creation_date":1685332151,"post_id":25624099,"comment_id":134641787,"body_markdown":"I saw this approach being used by picocli.","body":"I saw this approach being used by picocli."}],"tags":[],"owner":{"account_id":16900,"reputation":24039,"user_id":37298,"accept_rate":88,"display_name":"Shervin Asgari"},"comment_count":1,"down_vote_count":1,"up_vote_count":14,"is_accepted":false,"score":13,"last_activity_date":1409662942,"creation_date":1409662942,"answer_id":25624099,"question_id":1178104,"body_markdown":"It seem there is one other way of doing it.\r\n\r\nI don&#39;t like this either, but it might work.\r\n\r\n    @Target(ElementType.TYPE)\r\n    @Retention(RetentionPolicy.RUNTIME)\r\n    public @interface SomeInterface {\r\n        Class&lt;? extends Foo&gt;[] bar() default {};\r\n    }\r\n\r\nSo basically you create an empty Array instead. This seems to allow a default value.","title":"Error setting a default null value for an annotation&#39;s field","body":"<p>It seem there is one other way of doing it.</p>\n\n<p>I don't like this either, but it might work.</p>\n\n<pre><code>@Target(ElementType.TYPE)\n@Retention(RetentionPolicy.RUNTIME)\npublic @interface SomeInterface {\n    Class&lt;? extends Foo&gt;[] bar() default {};\n}\n</code></pre>\n\n<p>So basically you create an empty Array instead. This seems to allow a default value.</p>\n"},{"tags":[],"owner":{"account_id":195331,"reputation":275428,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"comment_count":0,"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1673274874,"creation_date":1482541340,"answer_id":41309428,"question_id":1178104,"body_markdown":"No, the [Java Language Specification][1] does not define the `null` literal/value as a constant expression.\r\n\r\nThe [specification][2] states the following when defining the possible default values for annotation type elements:\r\n\r\n&gt; It is a compile-time error if the type of the element **is not commensurate** (&#167;9.7) with the default value specified.\r\n\r\nAnd to [explain what that means][3]\r\n\r\n&gt; It is a compile-time error if the element type is not commensurate\r\n&gt; with the element value. **An element type T is commensurate with an\r\n&gt; element value V** if and only if one of the following is true:\r\n&gt; \r\n&gt; - `T` is an array type `E[]`, and either:\r\n&gt;  - [...]\r\n&gt; - **`T` is not an array type**, and the type of `V` is assignment compatible (&#167;5.2) with `T`, **and**:\r\n&gt;  - If `T` is a primitive type or `String`, then `V` is a constant expression (&#167;15.28).\r\n&gt;  - If `T` is `Class` or an invocation of `Class` (&#167;4.5), then `V` is a class literal (&#167;15.8.2).\r\n&gt;  - If `T` is an enum type (&#167;8.9), then `V` is an enum constant (&#167;8.9.1).\r\n&gt;  - **V is not null**.\r\n\r\nSo here, your element type, `Class&lt;? extends Foo&gt;`, is not commensurate with the default value, because that value is `null`.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/specs/jls/se8/html/jls-15.html#jls-15.28\r\n  [2]: http://docs.oracle.com/javase/specs/jls/se8/html/jls-9.html#jls-9.6.2\r\n  [3]: http://docs.oracle.com/javase/specs/jls/se8/html/jls-9.html#jls-9.7.1","title":"Error setting a default null value for an annotation&#39;s field","body":"<p>No, the <a href=\"https://docs.oracle.com/javase/specs/jls/se8/html/jls-15.html#jls-15.28\" rel=\"nofollow noreferrer\">Java Language Specification</a> does not define the <code>null</code> literal/value as a constant expression.</p>\n<p>The <a href=\"http://docs.oracle.com/javase/specs/jls/se8/html/jls-9.html#jls-9.6.2\" rel=\"nofollow noreferrer\">specification</a> states the following when defining the possible default values for annotation type elements:</p>\n<blockquote>\n<p>It is a compile-time error if the type of the element <strong>is not commensurate</strong> (§9.7) with the default value specified.</p>\n</blockquote>\n<p>And to <a href=\"http://docs.oracle.com/javase/specs/jls/se8/html/jls-9.html#jls-9.7.1\" rel=\"nofollow noreferrer\">explain what that means</a></p>\n<blockquote>\n<p>It is a compile-time error if the element type is not commensurate\nwith the element value. <strong>An element type T is commensurate with an\nelement value V</strong> if and only if one of the following is true:</p>\n<ul>\n<li><code>T</code> is an array type <code>E[]</code>, and either:</li>\n<li>[...]</li>\n<li><strong><code>T</code> is not an array type</strong>, and the type of <code>V</code> is assignment compatible (§5.2) with <code>T</code>, <strong>and</strong>:</li>\n<li>If <code>T</code> is a primitive type or <code>String</code>, then <code>V</code> is a constant expression (§15.28).</li>\n<li>If <code>T</code> is <code>Class</code> or an invocation of <code>Class</code> (§4.5), then <code>V</code> is a class literal (§15.8.2).</li>\n<li>If <code>T</code> is an enum type (§8.9), then <code>V</code> is an enum constant (§8.9.1).</li>\n<li><strong>V is not null</strong>.</li>\n</ul>\n</blockquote>\n<p>So here, your element type, <code>Class&lt;? extends Foo&gt;</code>, is not commensurate with the default value, because that value is <code>null</code>.</p>\n"},{"comments":[{"owner":{"account_id":294084,"reputation":977,"user_id":597767,"accept_rate":75,"display_name":"Doradus"},"score":0,"creation_date":1542075249,"post_id":44974877,"comment_id":93428681,"body_markdown":"Incidentally, I just tried this with a String, and that doesn&#39;t work.  You don&#39;t get back the same String object.","body":"Incidentally, I just tried this with a String, and that doesn&#39;t work.  You don&#39;t get back the same String object."},{"owner":{"account_id":60171,"reputation":115485,"user_id":179850,"accept_rate":100,"display_name":"Gray"},"score":0,"creation_date":1578259644,"post_id":44974877,"comment_id":105372535,"body_markdown":"Did you use `.equals()` and not `==` @Doradus?  Did you get a different _value_ or a different object.","body":"Did you use <code>.equals()</code> and not <code>==</code> @Doradus?  Did you get a different <i>value</i> or a different object."},{"owner":{"account_id":294084,"reputation":977,"user_id":597767,"accept_rate":75,"display_name":"Doradus"},"score":0,"creation_date":1579450112,"post_id":44974877,"comment_id":105762186,"body_markdown":"Different object.  I used `==`.","body":"Different object.  I used <code>==</code>."},{"owner":{"account_id":60171,"reputation":115485,"user_id":179850,"accept_rate":100,"display_name":"Gray"},"score":0,"creation_date":1579450787,"post_id":44974877,"comment_id":105762397,"body_markdown":"Well the class is a singleton @Doradus.  I would have expected the String to be a singleton as well but I guess it isn&#39;t and you&#39;ll need to use `.equals()`.  Surprising.","body":"Well the class is a singleton @Doradus.  I would have expected the String to be a singleton as well but I guess it isn&#39;t and you&#39;ll need to use <code>.equals()</code>.  Surprising."}],"tags":[],"owner":{"account_id":60171,"reputation":115485,"user_id":179850,"accept_rate":100,"display_name":"Gray"},"comment_count":4,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1539960143,"creation_date":1499442174,"answer_id":44974877,"question_id":1178104,"body_markdown":"&gt;     Class&lt;? extends Foo&gt; bar() default null;// this doesn&#39;t compile\r\n\r\nAs mentioned, the Java language specification does not allow null values in the annotations defaults.\r\n\r\nWhat I tend to do is to do is to define `DEFAULT_VALUE` constants at the top of the annotation definition.  Something like:\r\n\r\n    public @interface MyAnnotation {\r\n    \tpublic static final String DEFAULT_PREFIX = &quot;__class-name-here__ default&quot;;\r\n        ...\r\n    \tpublic String prefix() default DEFAULT_PREFIX;\r\n    }\r\n\r\nThen in my code I do something like:\r\n\r\n    if (myAnnotation.prefix().equals(MyAnnotation.DEFAULT_PREFIX)) { ... }\r\n\r\nIn your case with a class, I would just define a marker class.  Unfortunately you can&#39;t have a constant for this so instead you need to do something like:\r\n\r\n    public @interface MyAnnotation {\r\n    \tpublic static Class&lt;? extends Foo&gt; DEFAULT_BAR = DefaultBar.class;\r\n        ...\r\n        Class&lt;? extends Foo&gt; bar() default DEFAULT_BAR;\r\n    }\r\n\r\nYour `DefaultFoo` class would just an empty implementation so that the code can do:\r\n\r\n    if (myAnnotation.bar() == MyAnnotation.DEFAULT_BAR) { ... }\r\n\r\nHope this helps.\r\n","title":"Error setting a default null value for an annotation&#39;s field","body":"<blockquote>\n<pre><code>Class&lt;? extends Foo&gt; bar() default null;// this doesn't compile\n</code></pre>\n</blockquote>\n\n<p>As mentioned, the Java language specification does not allow null values in the annotations defaults.</p>\n\n<p>What I tend to do is to do is to define <code>DEFAULT_VALUE</code> constants at the top of the annotation definition.  Something like:</p>\n\n<pre><code>public @interface MyAnnotation {\n    public static final String DEFAULT_PREFIX = \"__class-name-here__ default\";\n    ...\n    public String prefix() default DEFAULT_PREFIX;\n}\n</code></pre>\n\n<p>Then in my code I do something like:</p>\n\n<pre><code>if (myAnnotation.prefix().equals(MyAnnotation.DEFAULT_PREFIX)) { ... }\n</code></pre>\n\n<p>In your case with a class, I would just define a marker class.  Unfortunately you can't have a constant for this so instead you need to do something like:</p>\n\n<pre><code>public @interface MyAnnotation {\n    public static Class&lt;? extends Foo&gt; DEFAULT_BAR = DefaultBar.class;\n    ...\n    Class&lt;? extends Foo&gt; bar() default DEFAULT_BAR;\n}\n</code></pre>\n\n<p>Your <code>DefaultFoo</code> class would just an empty implementation so that the code can do:</p>\n\n<pre><code>if (myAnnotation.bar() == MyAnnotation.DEFAULT_BAR) { ... }\n</code></pre>\n\n<p>Hope this helps.</p>\n"},{"tags":[],"owner":{"account_id":7008925,"reputation":319,"user_id":5372500,"display_name":"Alexander Terp"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1573102672,"creation_date":1573102672,"answer_id":58742196,"question_id":1178104,"body_markdown":"As others have said, there is a rule which says that null is not a valid default value in Java. \r\n\r\n**If you&#39;ve got a limited number of possible values that the field can have**, then one option for working around this is to make the field type a custom enum which itself contains a mapping to null. For example, imagine I have the following annotation that I want a default null for:\r\n\r\n\r\n```\r\npublic @interface MyAnnotation {\r\n   Class&lt;?&gt; value() default null;\r\n}\r\n```\r\n\r\nAs we&#39;ve established, this is not allowed. What we can instead do is define an enum:\r\n\r\n```\r\npublic enum MyClassEnum {\r\n    NULL(null),\r\n    MY_CLASS1(MyClass1.class),\r\n    MY_CLASS2(MyClass2.class),\r\n    ;\r\n\r\n    public final Class&lt;?&gt; myClass;\r\n\r\n    MyClassEnum(Class&lt;?&gt; aClass) {\r\n        myClass = aClass;\r\n    }\r\n}\r\n```\r\n\r\nand change the annotation as such:\r\n\r\n\r\n```\r\npublic @interface MyAnnotation {\r\n  MyClassEnum value() default MyClassEnum.NULL;\r\n}\r\n```\r\n\r\nThe main downside of this (asides from needing to enumerate your possible values) is that you&#39;ve now wrapped your value in an enum, so you&#39;ll need to invoke the property/getter on the enum to get the value.","title":"Error setting a default null value for an annotation&#39;s field","body":"<p>As others have said, there is a rule which says that null is not a valid default value in Java. </p>\n\n<p><strong>If you've got a limited number of possible values that the field can have</strong>, then one option for working around this is to make the field type a custom enum which itself contains a mapping to null. For example, imagine I have the following annotation that I want a default null for:</p>\n\n<pre><code>public @interface MyAnnotation {\n   Class&lt;?&gt; value() default null;\n}\n</code></pre>\n\n<p>As we've established, this is not allowed. What we can instead do is define an enum:</p>\n\n<pre><code>public enum MyClassEnum {\n    NULL(null),\n    MY_CLASS1(MyClass1.class),\n    MY_CLASS2(MyClass2.class),\n    ;\n\n    public final Class&lt;?&gt; myClass;\n\n    MyClassEnum(Class&lt;?&gt; aClass) {\n        myClass = aClass;\n    }\n}\n</code></pre>\n\n<p>and change the annotation as such:</p>\n\n<pre><code>public @interface MyAnnotation {\n  MyClassEnum value() default MyClassEnum.NULL;\n}\n</code></pre>\n\n<p>The main downside of this (asides from needing to enumerate your possible values) is that you've now wrapped your value in an enum, so you'll need to invoke the property/getter on the enum to get the value.</p>\n"}],"owner":{"account_id":6636,"reputation":224532,"user_id":11236,"accept_rate":76,"display_name":"ripper234"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":64884,"favorite_count":0,"down_vote_count":0,"up_vote_count":90,"accepted_answer_id":1178272,"answer_count":7,"score":90,"last_activity_date":1673274874,"creation_date":1248446140,"question_id":1178104,"body_markdown":"Why am I getting an error &quot;Attribute value must be constant&quot;. Isn&#39;t **null** constant???\r\n\r\n    @Target(ElementType.TYPE)\r\n    @Retention(RetentionPolicy.RUNTIME)\r\n    public @interface SomeInterface {\r\n        Class&lt;? extends Foo&gt; bar() default null;// this doesn&#39;t compile\r\n    }","title":"Error setting a default null value for an annotation&#39;s field","body":"<p>Why am I getting an error \"Attribute value must be constant\". Isn't <strong>null</strong> constant???</p>\n\n<pre><code>@Target(ElementType.TYPE)\n@Retention(RetentionPolicy.RUNTIME)\npublic @interface SomeInterface {\n    Class&lt;? extends Foo&gt; bar() default null;// this doesn't compile\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","elasticsearch","kubernetes"],"comments":[{"owner":{"account_id":26127214,"reputation":1801,"user_id":19818461,"display_name":"Veera Nagireddy"},"score":1,"creation_date":1670845150,"post_id":74316512,"comment_id":131959736,"body_markdown":"If your  issue is solved, can you please provide the resolution steps you have followed and provide it as an answer for the greater visibility of the community.","body":"If your  issue is solved, can you please provide the resolution steps you have followed and provide it as an answer for the greater visibility of the community."},{"owner":{"account_id":10491815,"reputation":26310,"user_id":7733418,"display_name":"Yunnosch"},"score":0,"creation_date":1673275086,"post_id":74316512,"comment_id":132455800,"body_markdown":"Salik47, thanks for making an answer. I have however the impression that you have removed much of the information which was initially contained in the question. Please review and make sure that the info needed for answering the question is still in there, so that somebody else could theoretically also/still answer it. (To be clear, I do not understand enough detail technically to judge myself, I really ask you to just review and confirm). If you identifed that information which was unneeded and only distracting and then removed it for making a focused question, then you did great of course.","body":"Salik47, thanks for making an answer. I have however the impression that you have removed much of the information which was initially contained in the question. Please review and make sure that the info needed for answering the question is still in there, so that somebody else could theoretically also/still answer it. (To be clear, I do not understand enough detail technically to judge myself, I really ask you to just review and confirm). If you identifed that information which was unneeded and only distracting and then removed it for making a focused question, then you did great of course."}],"answers":[{"tags":[],"owner":{"account_id":4357277,"reputation":149,"user_id":3555465,"accept_rate":25,"display_name":"Salik47"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1673274752,"creation_date":1673274752,"answer_id":75058762,"question_id":74316512,"body_markdown":"I solved my problem is this way:\r\n\r\nIn official [ElasticSearch helm chart][1] there are 2 services created:\r\n\r\n 1. elasticsearch-master - 9200/TCP, 9300/TCP\r\n 2. elasticsearch-master-headless\r\n\r\nI created the first service of `type: LoadBalancer` with of class `nlb` with following annotations\r\n\r\n```\r\nannotations: {\r\n    service.beta.kubernetes.io/aws-load-balancer-name: &quot;es-nlb&quot;,\r\n    service.beta.kubernetes.io/aws-load-balancer-type: &quot;external&quot;,\r\n    service.beta.kubernetes.io/aws-load-balancer-nlb-target-type: &quot;instance&quot;,\r\n    service.beta.kubernetes.io/aws-load-balancer-scheme: &quot;internet-facing&quot;\r\n}\r\n```\r\n\r\nWhich creates 2 listener ports i.e. `9200` &amp; `9300` at ELB end and linked with target group pointing to the application\r\n\r\n`&lt;es-nlb-dns&gt;:9200`\r\n\r\n`&lt;es-nlb-dns&gt;:9300`\r\n\r\nNow i used these endpoints to connect with the springboot data elasticsearch client.\r\n\r\n  [1]: https://github.com/elastic/helm-charts/tree/v7.17.3","title":"How to expose a headless service for a Elasticsearch StatefulSet externally in Kubernetes","body":"<p>I solved my problem is this way:</p>\n<p>In official <a href=\"https://github.com/elastic/helm-charts/tree/v7.17.3\" rel=\"nofollow noreferrer\">ElasticSearch helm chart</a> there are 2 services created:</p>\n<ol>\n<li>elasticsearch-master - 9200/TCP, 9300/TCP</li>\n<li>elasticsearch-master-headless</li>\n</ol>\n<p>I created the first service of <code>type: LoadBalancer</code> with of class <code>nlb</code> with following annotations</p>\n<pre><code>annotations: {\n    service.beta.kubernetes.io/aws-load-balancer-name: &quot;es-nlb&quot;,\n    service.beta.kubernetes.io/aws-load-balancer-type: &quot;external&quot;,\n    service.beta.kubernetes.io/aws-load-balancer-nlb-target-type: &quot;instance&quot;,\n    service.beta.kubernetes.io/aws-load-balancer-scheme: &quot;internet-facing&quot;\n}\n</code></pre>\n<p>Which creates 2 listener ports i.e. <code>9200</code> &amp; <code>9300</code> at ELB end and linked with target group pointing to the application</p>\n<p><code>&lt;es-nlb-dns&gt;:9200</code></p>\n<p><code>&lt;es-nlb-dns&gt;:9300</code></p>\n<p>Now i used these endpoints to connect with the springboot data elasticsearch client.</p>\n"}],"owner":{"account_id":4357277,"reputation":149,"user_id":3555465,"accept_rate":25,"display_name":"Salik47"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":425,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75058762,"answer_count":1,"score":1,"last_activity_date":1673274815,"creation_date":1667562212,"question_id":74316512,"body_markdown":"**Problem Summary**\r\n\r\nThe goal is to expose the Elasticsearch Nodes endpoints externally which are internally addressed as:\r\n\r\n```\r\nelasticsearch-master-0.elastic.svc.cluster.local:9200\r\nelasticsearch-master-1.elastic.svc.cluster.local:9200 \r\nelasticsearch-master-2.elastic.svc.cluster.local:9200\r\n```\r\nThis uses a StatefulSet and a headless service for service discovery within the cluster.\r\n\r\nThe constraint is that this external service be able to address the brokers specifically.\r\n\r\nWhats the right (or one possible) way of going about this? Is it possible to expose a external service per elasticsearch-x.elastic.svc.cluster.local:9200?\r\n\r\n\r\n\r\n\r\n","title":"How to expose a headless service for a Elasticsearch StatefulSet externally in Kubernetes","body":"<p><strong>Problem Summary</strong></p>\n<p>The goal is to expose the Elasticsearch Nodes endpoints externally which are internally addressed as:</p>\n<pre><code>elasticsearch-master-0.elastic.svc.cluster.local:9200\nelasticsearch-master-1.elastic.svc.cluster.local:9200 \nelasticsearch-master-2.elastic.svc.cluster.local:9200\n</code></pre>\n<p>This uses a StatefulSet and a headless service for service discovery within the cluster.</p>\n<p>The constraint is that this external service be able to address the brokers specifically.</p>\n<p>Whats the right (or one possible) way of going about this? Is it possible to expose a external service per elasticsearch-x.elastic.svc.cluster.local:9200?</p>\n"},{"tags":["java","android","kotlin"],"comments":[{"owner":{"account_id":10814854,"reputation":4137,"user_id":7954210,"accept_rate":73,"display_name":"Mouaad Abdelghafour AITALI"},"score":0,"creation_date":1672936991,"post_id":75021583,"comment_id":132390365,"body_markdown":"Have you tried `isWiredHeadsetOn` from the `AudioManager`, e.g. `boolean isWiredHeadsetOn = mAudioManager.isWiredHeadsetOn();`","body":"Have you tried <code>isWiredHeadsetOn</code> from the <code>AudioManager</code>, e.g. <code>boolean isWiredHeadsetOn = mAudioManager.isWiredHeadsetOn();</code>"},{"owner":{"account_id":980880,"reputation":6357,"user_id":1000626,"accept_rate":73,"display_name":"Chris Watts"},"score":0,"creation_date":1672937501,"post_id":75021583,"comment_id":132390557,"body_markdown":"I&#39;m looking for wireless headphones but yes, I presume that would be another way to check wired headphones. It does appear to require a permission as well but I think it doesn&#39;t need user intervention so perhaps there&#39;s something there that works for wireless too.","body":"I&#39;m looking for wireless headphones but yes, I presume that would be another way to check wired headphones. It does appear to require a permission as well but I think it doesn&#39;t need user intervention so perhaps there&#39;s something there that works for wireless too."}],"owner":{"account_id":980880,"reputation":6357,"user_id":1000626,"accept_rate":73,"display_name":"Chris Watts"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":0,"score":3,"last_activity_date":1673274744,"creation_date":1672936318,"question_id":75021583,"body_markdown":"I&#39;ve been trying to look for a good solution to detect when headphones are connected in Android regardless of whether they are wired or wireless.\r\n\r\nThe case for wired headphones is [fairly straight-forward](https://stackoverflow.com/questions/6249023/detecting-whether-a-headset-is-plugged-into-an-android-device-or-not). However, when detecting if a wireless headset is connected, the APIs I have been using require `Manifest.permission.BLUETOOTH` or `Manifest.permission.BLUETOOTH_CONNECT`.\r\n\r\nFor some time I&#39;ve accepted that only if those permissions are granted will I know for sure if headphones are connected, but this is now increasingly becoming problematic.\r\n\r\nDoes anyone know of an alternative that would determine if a headset is connected without user-facing &#39;dangerous&#39; permission prompts like the BluetoothHeadset solution does? Is there anything in the AudioManager that can be used instead?\r\n\r\nHere is what I have today:\r\n\r\n```\r\npackage ai.numbereight.sdk.platform.sensors\r\n\r\nimport android.bluetooth.BluetoothAdapter\r\nimport android.bluetooth.BluetoothHeadset\r\nimport android.bluetooth.BluetoothProfile\r\nimport android.content.BroadcastReceiver\r\nimport android.content.Context\r\nimport android.content.Intent\r\nimport android.content.IntentFilter\r\nimport android.util.Log\r\n\r\nprivate val listener = object : BroadcastReceiver() {\r\n    override fun onReceive(context: Context, intent: Intent) {\r\n        val connection = when (intent.getIntExtra(BluetoothHeadset.EXTRA_STATE,\r\n                BluetoothHeadset.STATE_DISCONNECTED)) {\r\n            BluetoothHeadset.STATE_CONNECTED -&gt; &quot;Connected&quot;\r\n            BluetoothHeadset.STATE_DISCONNECTED -&gt; &quot;Disconnected&quot;\r\n            else -&gt; &quot;Unknown&quot;\r\n        }\r\n\r\n        Log.d(&quot;Connection&quot;, connection)\r\n    }\r\n}\r\n\r\nfun register(context: Context) {\r\n    // Register for changes - events will only be received\r\n    // if Manifest.permission.BLUETOOTH (&lt; Android 10)\r\n    // or Manifest.permission.BLUETOOTH_CONNECT (&gt;= Android 10)\r\n    // are granted.\r\n    val filter = IntentFilter()\r\n    filter.addAction(BluetoothHeadset.ACTION_CONNECTION_STATE_CHANGED)\r\n    context.registerReceiver(listener, filter)\r\n\r\n    // Fire initial event - this API call requires the above Bluetooth permissions\r\n    // For brevity I assume that the default adapter is not null\r\n    val currentState = BluetoothAdapter.getDefaultAdapter()!!.getProfileConnectionState(BluetoothProfile.HEADSET)\r\n    val initialIntent = Intent(BluetoothHeadset.ACTION_CONNECTION_STATE_CHANGED)\r\n    initialIntent.putExtra(BluetoothHeadset.EXTRA_STATE, currentState)\r\n    listener.onReceive(context, initialIntent)\r\n}\r\n```","title":"Detecting if headphones are connected without using dangerous permissions","body":"<p>I've been trying to look for a good solution to detect when headphones are connected in Android regardless of whether they are wired or wireless.</p>\n<p>The case for wired headphones is <a href=\"https://stackoverflow.com/questions/6249023/detecting-whether-a-headset-is-plugged-into-an-android-device-or-not\">fairly straight-forward</a>. However, when detecting if a wireless headset is connected, the APIs I have been using require <code>Manifest.permission.BLUETOOTH</code> or <code>Manifest.permission.BLUETOOTH_CONNECT</code>.</p>\n<p>For some time I've accepted that only if those permissions are granted will I know for sure if headphones are connected, but this is now increasingly becoming problematic.</p>\n<p>Does anyone know of an alternative that would determine if a headset is connected without user-facing 'dangerous' permission prompts like the BluetoothHeadset solution does? Is there anything in the AudioManager that can be used instead?</p>\n<p>Here is what I have today:</p>\n<pre><code>package ai.numbereight.sdk.platform.sensors\n\nimport android.bluetooth.BluetoothAdapter\nimport android.bluetooth.BluetoothHeadset\nimport android.bluetooth.BluetoothProfile\nimport android.content.BroadcastReceiver\nimport android.content.Context\nimport android.content.Intent\nimport android.content.IntentFilter\nimport android.util.Log\n\nprivate val listener = object : BroadcastReceiver() {\n    override fun onReceive(context: Context, intent: Intent) {\n        val connection = when (intent.getIntExtra(BluetoothHeadset.EXTRA_STATE,\n                BluetoothHeadset.STATE_DISCONNECTED)) {\n            BluetoothHeadset.STATE_CONNECTED -&gt; &quot;Connected&quot;\n            BluetoothHeadset.STATE_DISCONNECTED -&gt; &quot;Disconnected&quot;\n            else -&gt; &quot;Unknown&quot;\n        }\n\n        Log.d(&quot;Connection&quot;, connection)\n    }\n}\n\nfun register(context: Context) {\n    // Register for changes - events will only be received\n    // if Manifest.permission.BLUETOOTH (&lt; Android 10)\n    // or Manifest.permission.BLUETOOTH_CONNECT (&gt;= Android 10)\n    // are granted.\n    val filter = IntentFilter()\n    filter.addAction(BluetoothHeadset.ACTION_CONNECTION_STATE_CHANGED)\n    context.registerReceiver(listener, filter)\n\n    // Fire initial event - this API call requires the above Bluetooth permissions\n    // For brevity I assume that the default adapter is not null\n    val currentState = BluetoothAdapter.getDefaultAdapter()!!.getProfileConnectionState(BluetoothProfile.HEADSET)\n    val initialIntent = Intent(BluetoothHeadset.ACTION_CONNECTION_STATE_CHANGED)\n    initialIntent.putExtra(BluetoothHeadset.EXTRA_STATE, currentState)\n    listener.onReceive(context, initialIntent)\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","testing","transactions"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1673260914,"post_id":75056041,"comment_id":132450552,"body_markdown":"If you have multiple datasource you also have multiple transactions which will be commit for each individually (or even worse you have unmanaged transactions and you hope they work). I also wonder how you are assigning the dataasource as this looks like you are working with just a single default repository.","body":"If you have multiple datasource you also have multiple transactions which will be commit for each individually (or even worse you have unmanaged transactions and you hope they work). I also wonder how you are assigning the dataasource as this looks like you are working with just a single default repository."},{"owner":{"account_id":13079058,"reputation":195,"user_id":9450156,"display_name":"Martin Pichler"},"score":0,"creation_date":1673261740,"post_id":75056041,"comment_id":132450821,"body_markdown":"I didn&#39;t code the DatabaseConfig Beans but I works by having multiple @Configuration DatabaseConfig beans that scan different packages. This is how the JPA repositories know which EntityManager to use.","body":"I didn&#39;t code the DatabaseConfig Beans but I works by having multiple @Configuration DatabaseConfig beans that scan different packages. This is how the JPA repositories know which EntityManager to use."},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1673270377,"post_id":75056041,"comment_id":132453826,"body_markdown":"But in this test you are only using one. Hence you aren&#39;t switching datasources but just a single one, in this test. So why not just use `@DataJpaTest` as your comment doesn&#39;t really hold.","body":"But in this test you are only using one. Hence you aren&#39;t switching datasources but just a single one, in this test. So why not just use <code>@DataJpaTest</code> as your comment doesn&#39;t really hold."},{"owner":{"account_id":13079058,"reputation":195,"user_id":9450156,"display_name":"Martin Pichler"},"score":0,"creation_date":1673273253,"post_id":75056041,"comment_id":132455030,"body_markdown":"There are also some other beans that I need. I found the problem now but have no solution atm. When I call save(), JpaTransactionManager creates a new inner transaction, saves the entity and closes the transaction. I don&#39;t know why though.","body":"There are also some other beans that I need. I found the problem now but have no solution atm. When I call save(), JpaTransactionManager creates a new inner transaction, saves the entity and closes the transaction. I don&#39;t know why though."},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1673274499,"post_id":75056041,"comment_id":132455530,"body_markdown":"Because you are probably using another tx manager and thus there is no transaction. Multiple entitymanagers means multiple tx managers.","body":"Because you are probably using another tx manager and thus there is no transaction. Multiple entitymanagers means multiple tx managers."}],"answers":[{"tags":[],"owner":{"account_id":13079058,"reputation":195,"user_id":9450156,"display_name":"Martin Pichler"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1673273962,"creation_date":1673273962,"answer_id":75058608,"question_id":75056041,"body_markdown":"After looking at the JpaTransactionManager logs using:\r\n\r\n    logging:\r\n      level:\r\n        sql: DEBUG\r\n        ROOT: DEBUG\r\n        org.springframework.orm.jpa: DEBUG\r\n        org.springframework.transaction: DEBUG\r\nI saw that for each .save() call there was a new inner transaction. I tried to specify the transaction manager manually by passing the value to the @Transactional annotation and now it works. Looks like the DataSource beans are not picked up entirely correct. I got the idea based on this article where a ChainedTransactionManager is used for multiple datasources https://medium.com/preplaced/distributed-transaction-management-for-multiple-databases-with-springboot-jpa-and-hibernate-cde4e1b298e4\r\n","title":"Spring Boot Test not rolling back transactions (MS SQL Server, Spring Boot 2.7.5)","body":"<p>After looking at the JpaTransactionManager logs using:</p>\n<pre><code>logging:\n  level:\n    sql: DEBUG\n    ROOT: DEBUG\n    org.springframework.orm.jpa: DEBUG\n    org.springframework.transaction: DEBUG\n</code></pre>\n<p>I saw that for each .save() call there was a new inner transaction. I tried to specify the transaction manager manually by passing the value to the @Transactional annotation and now it works. Looks like the DataSource beans are not picked up entirely correct. I got the idea based on this article where a ChainedTransactionManager is used for multiple datasources <a href=\"https://medium.com/preplaced/distributed-transaction-management-for-multiple-databases-with-springboot-jpa-and-hibernate-cde4e1b298e4\" rel=\"nofollow noreferrer\">https://medium.com/preplaced/distributed-transaction-management-for-multiple-databases-with-springboot-jpa-and-hibernate-cde4e1b298e4</a></p>\n"}],"owner":{"account_id":13079058,"reputation":195,"user_id":9450156,"display_name":"Martin Pichler"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":389,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75058608,"answer_count":1,"score":0,"last_activity_date":1673273962,"creation_date":1673260647,"question_id":75056041,"body_markdown":"I am writing integration tests for a project with multiple datasources and want to test the repository and service layer. Problem is that the @Transactional annotation is not working and data inserted during tests is persisted. \r\n\r\nThis is a simple IT. I need to use @SpringBootTest instead of @DataJpaTest because multiple datasources are configured in a bean which handles assigning the right datasource to the correct repository. \r\n\r\n    @SpringBootTest(classes = { MyApp.class, TestSecurityConfiguration.class })\r\n    @AutoConfigureTestDatabase(replace = AutoConfigureTestDatabase.Replace.NONE)\r\n    @ActiveProfiles(&quot;database-test&quot;)\r\n    @Transactional\r\n    @Rollback\r\n    public class MyIT {\r\n    \r\n    \r\n        @Autowired\r\n        ChannelRepository channelRepository;\r\n    \r\n        @Test\r\n        public void testChannels() {\r\n    \r\n            Channel testChannel1 = new Channel();\r\n            testChannel1.setDescription(&quot;Test Channel 1&quot;);\r\n            channelRepository.save(testChannel1);\r\n    \r\n            Channel testChannel2 = new Channel();\r\n            testChannel2.setDescription(&quot;Test Channel 2&quot;);\r\n            channelRepository.save(testChannel2);\r\n    \r\n            Channel channel = channelRepository.findById(1).get();\r\n            assertThat(channel).isNotNull();\r\n        }\r\n    \r\n    }\r\n\r\nThe dialect configured in the application.yml is &quot;org.hibernate.dialect.SQLServer2012Dialect&quot; and the database is our test database that runs on a dedicated server, not an embedded database.\r\n\r\nThe data is inserted without rollback.","title":"Spring Boot Test not rolling back transactions (MS SQL Server, Spring Boot 2.7.5)","body":"<p>I am writing integration tests for a project with multiple datasources and want to test the repository and service layer. Problem is that the @Transactional annotation is not working and data inserted during tests is persisted.</p>\n<p>This is a simple IT. I need to use @SpringBootTest instead of @DataJpaTest because multiple datasources are configured in a bean which handles assigning the right datasource to the correct repository.</p>\n<pre><code>@SpringBootTest(classes = { MyApp.class, TestSecurityConfiguration.class })\n@AutoConfigureTestDatabase(replace = AutoConfigureTestDatabase.Replace.NONE)\n@ActiveProfiles(&quot;database-test&quot;)\n@Transactional\n@Rollback\npublic class MyIT {\n\n\n    @Autowired\n    ChannelRepository channelRepository;\n\n    @Test\n    public void testChannels() {\n\n        Channel testChannel1 = new Channel();\n        testChannel1.setDescription(&quot;Test Channel 1&quot;);\n        channelRepository.save(testChannel1);\n\n        Channel testChannel2 = new Channel();\n        testChannel2.setDescription(&quot;Test Channel 2&quot;);\n        channelRepository.save(testChannel2);\n\n        Channel channel = channelRepository.findById(1).get();\n        assertThat(channel).isNotNull();\n    }\n\n}\n</code></pre>\n<p>The dialect configured in the application.yml is &quot;org.hibernate.dialect.SQLServer2012Dialect&quot; and the database is our test database that runs on a dedicated server, not an embedded database.</p>\n<p>The data is inserted without rollback.</p>\n"},{"tags":["java","image","android-studio","imageview","removeall"],"owner":{"account_id":23188436,"reputation":1,"user_id":17285155,"display_name":"ahsdsgfc"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673273327,"creation_date":1673189347,"question_id":75048699,"body_markdown":"what I will use to prevent the image from appearing again. I want the image won&#39;t reapeat appearing but don&#39;t know what can I use to do that. \r\n\r\n```\r\npublic ImageView imgViewQuestion;\r\n\r\nint [] image_list = {\r\n\r\n            R.drawable.forms,\r\n            R.drawable.tags,\r\n            R.drawable.tables,\r\n            R.drawable.radiobutton,\r\n            R.drawable.checkbox,\r\n            R.drawable.font,\r\n            R.drawable.anchors,\r\n            R.drawable.html\r\n    };\r\n\r\n```\r\n\r\n```\r\n private void setupList() {\r\n        Random random = new Random();\r\n        int imageSelected = image_list[random.nextInt(image_list.length)];\r\n        imgViewQuestion.setImageResource(imageSelected);\r\n        fourinfoassucommon.imageSelected = imageSelected;\r\n\r\n        correct_answer = getResources().getResourceName(imageSelected);\r\n        correct_answer = correct_answer.substring(correct_answer.lastIndexOf(&quot;/&quot;) + 1);\r\n\r\n        answer = correct_answer.toCharArray();\r\n\r\n        fourinfoassucommon.user_submit_answer = new char[answer.length];\r\n\r\n        suggestSource.clear();\r\n        for (char item : answer) {\r\n            suggestSource.add(String.valueOf(item));\r\n\r\n```","title":"How can I make the image list wont appear again if it is used already?","body":"<p>what I will use to prevent the image from appearing again. I want the image won't reapeat appearing but don't know what can I use to do that.</p>\n<pre><code>public ImageView imgViewQuestion;\n\nint [] image_list = {\n\n            R.drawable.forms,\n            R.drawable.tags,\n            R.drawable.tables,\n            R.drawable.radiobutton,\n            R.drawable.checkbox,\n            R.drawable.font,\n            R.drawable.anchors,\n            R.drawable.html\n    };\n\n</code></pre>\n<pre><code> private void setupList() {\n        Random random = new Random();\n        int imageSelected = image_list[random.nextInt(image_list.length)];\n        imgViewQuestion.setImageResource(imageSelected);\n        fourinfoassucommon.imageSelected = imageSelected;\n\n        correct_answer = getResources().getResourceName(imageSelected);\n        correct_answer = correct_answer.substring(correct_answer.lastIndexOf(&quot;/&quot;) + 1);\n\n        answer = correct_answer.toCharArray();\n\n        fourinfoassucommon.user_submit_answer = new char[answer.length];\n\n        suggestSource.clear();\n        for (char item : answer) {\n            suggestSource.add(String.valueOf(item));\n\n</code></pre>\n"},{"tags":["java","xml-parsing"],"comments":[{"owner":{"account_id":5609307,"reputation":1839,"user_id":4442714,"display_name":"Matthias Wiehl"},"score":0,"creation_date":1673267487,"post_id":75057126,"comment_id":132452773,"body_markdown":"I doubt that you tried to run the code you pasted as the syntax obviously is incorrect. Please fix the formatting of your post.","body":"I doubt that you tried to run the code you pasted as the syntax obviously is incorrect. Please fix the formatting of your post."},{"owner":{"account_id":20322964,"reputation":21,"user_id":14907157,"display_name":"ash_kmt"},"score":0,"creation_date":1673273179,"post_id":75057126,"comment_id":132455002,"body_markdown":"@MatthiasWiehl : fixed the formatting and compiler errors.","body":"@MatthiasWiehl : fixed the formatting and compiler errors."},{"owner":{"account_id":5252988,"reputation":1450,"user_id":4196620,"display_name":"kendavidson"},"score":0,"creation_date":1673292042,"post_id":75057126,"comment_id":132461852,"body_markdown":"Your XML has `City/value` but you&#39;re only attempting the text content of `City`, there is no `TextContent` for City, you need to go one level deeper.","body":"Your XML has <code>City&#47;value</code> but you&#39;re only attempting the text content of <code>City</code>, there is no <code>TextContent</code> for City, you need to go one level deeper."},{"owner":{"account_id":20322964,"reputation":21,"user_id":14907157,"display_name":"ash_kmt"},"score":0,"creation_date":1673328061,"post_id":75057126,"comment_id":132468186,"body_markdown":"@kendavidson: I tried with the xpath &quot;//Customer/State/City/value&quot; but still the issue persists.","body":"@kendavidson: I tried with the xpath &quot;//Customer/State/City/value&quot; but still the issue persists."},{"owner":{"account_id":91947,"reputation":161829,"user_id":252228,"accept_rate":80,"display_name":"Martin Honnen"},"score":0,"creation_date":1673339382,"post_id":75057126,"comment_id":132470683,"body_markdown":"Works fine for me at https://github.com/martin-honnen/XPathSO75057126, outputs the changed XML as e.g. `&lt;Customer&gt;&lt;State&gt;&lt;value&gt;Andhra&lt;/value&gt;&lt;City&gt;&lt;value&gt;Hyderabad&lt;/value&gt;&lt;/City&gt;&lt;/State&gt;&lt;/Customer&gt;`","body":"Works fine for me at <a href=\"https://github.com/martin-honnen/XPathSO75057126\" rel=\"nofollow noreferrer\">github.com/martin-honnen/XPathSO75057126</a>, outputs the changed XML as e.g. <code>&lt;Customer&gt;&lt;State&gt;&lt;value&gt;Andhra&lt;&#47;value&gt;&lt;City&gt;&lt;value&gt;Hyderabad&zwnj;&#8203;&lt;&#47;value&gt;&lt;&#47;City&gt;&lt;&#47;Sta&zwnj;&#8203;te&gt;&lt;&#47;Customer&gt;</code>"}],"owner":{"account_id":20322964,"reputation":21,"user_id":14907157,"display_name":"ash_kmt"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673273130,"creation_date":1673266415,"question_id":75057126,"body_markdown":"I need to design a utility which searches node using input xpath in XML document and set its value as per given input.\r\n\r\n```\r\nimport java.io.File;\r\n\r\nimport javax.xml.parsers.DocumentBuilderFactory;\r\nimport javax.xml.transform.OutputKeys;\r\nimport javax.xml.transform.Transformer;\r\nimport javax.xml.transform.TransformerFactory;\r\nimport javax.xml.transform.dom.DOMSource;\r\nimport javax.xml.transform.stream.StreamResult;\r\nimport javax.xml.xpath.XPath;\r\nimport javax.xml.xpath.XPathConstants;\r\nimport javax.xml.xpath.XPathFactory;\r\n\r\nimport org.apache.commons.io.FileUtils;\r\nimport org.w3c.dom.Document;\r\nimport org.w3c.dom.Node;\r\npublic class XMLUtil \r\n{\r\n\r\n\t\tprivate XPath xPath;\r\n\t\tprivate Document xmlDoc;\r\n\t\tprivate String xmlName;\r\n\r\n\t\tpublic XMLUtil(String xmlName) {\r\n\t\t\tthis.xmlName = xmlName;\r\n\t\t\tSystem.out.println(System.getProperty(&quot;user.dir&quot;));\r\n\t\t\tFile srcXMLFile = new File(System.getProperty(&quot;user.dir&quot;) + xmlName);\r\n\t\t\tDocumentBuilderFactory factory = DocumentBuilderFactory.newInstance();\r\n\t\t\ttry {\r\n\t\t\t\txmlDoc = factory.newDocumentBuilder().parse(srcXMLFile);\r\n\t\t\t} catch (Exception e) {\r\n\t\t\t\t// TODO Auto-generated catch block\r\n\t\t\t\te.printStackTrace();\r\n\t\t\t}\r\n\t\t\txPath = XPathFactory.newInstance().newXPath();\r\n\t\t}\r\n\r\n\t\tpublic void changeXMLNodeValue(String xpath, String query) {\r\n\t\t\ttry {\r\n\t\t\t\t\t\t\r\n\t\t\tNode node = (Node) xPath.compile(xpath).evaluate(xmlDoc, XPathConstants.NODE);\r\n\t\t\tnode.setTextContent(query);\r\n\t\t\t\t\r\n\t\t\t} catch (Exception e) {\r\n\t\t\t\t// TODO Auto-generated catch block\r\n\t\t\t\te.printStackTrace();\r\n\t\t\t}\r\n\t\t}\r\n\t\r\n\tpublic static void main(String[] args) { \r\n\t\tXMLUtil xmlUtil = new XMLUtil(&quot;tc01.xml&quot;); \r\n\txmlUtil.changeXMLNodeValue(&quot;//Customer/State/City&quot;,&quot;Hyderabad&quot;);\r\n\t}\r\n\t}\r\n\r\n```\r\nXML File:tc01.xml\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;Customer&gt;\r\n&lt;State&gt;\r\n&lt;value&gt;Andhra&lt;/value&gt;\r\n&lt;City&gt;\r\n&lt;value&gt;amravati&lt;/value&gt;\r\n&lt;/City&gt;\r\n&lt;/State&gt;\r\n&lt;/Customer&gt;\r\n\r\n```\r\n&gt; Running the code is throwing NullPointerException at changeXMLNodeValue method on trying to compile and evalute the xpath to fetch the node.\r\n&gt; Node node = (Node) xPath.compile(xpath).evaluate(xmlDoc, XPathConstants.NODE);\r\n\r\n\r\n\r\nThis is a simple xml without any namespace requirement.\r\nI am using the API first please let me know if I missed something.","title":"javax.xml.xpath.XPath.evalute method could not resolve simple xpath","body":"<p>I need to design a utility which searches node using input xpath in XML document and set its value as per given input.</p>\n<pre><code>import java.io.File;\n\nimport javax.xml.parsers.DocumentBuilderFactory;\nimport javax.xml.transform.OutputKeys;\nimport javax.xml.transform.Transformer;\nimport javax.xml.transform.TransformerFactory;\nimport javax.xml.transform.dom.DOMSource;\nimport javax.xml.transform.stream.StreamResult;\nimport javax.xml.xpath.XPath;\nimport javax.xml.xpath.XPathConstants;\nimport javax.xml.xpath.XPathFactory;\n\nimport org.apache.commons.io.FileUtils;\nimport org.w3c.dom.Document;\nimport org.w3c.dom.Node;\npublic class XMLUtil \n{\n\n        private XPath xPath;\n        private Document xmlDoc;\n        private String xmlName;\n\n        public XMLUtil(String xmlName) {\n            this.xmlName = xmlName;\n            System.out.println(System.getProperty(&quot;user.dir&quot;));\n            File srcXMLFile = new File(System.getProperty(&quot;user.dir&quot;) + xmlName);\n            DocumentBuilderFactory factory = DocumentBuilderFactory.newInstance();\n            try {\n                xmlDoc = factory.newDocumentBuilder().parse(srcXMLFile);\n            } catch (Exception e) {\n                // TODO Auto-generated catch block\n                e.printStackTrace();\n            }\n            xPath = XPathFactory.newInstance().newXPath();\n        }\n\n        public void changeXMLNodeValue(String xpath, String query) {\n            try {\n                        \n            Node node = (Node) xPath.compile(xpath).evaluate(xmlDoc, XPathConstants.NODE);\n            node.setTextContent(query);\n                \n            } catch (Exception e) {\n                // TODO Auto-generated catch block\n                e.printStackTrace();\n            }\n        }\n    \n    public static void main(String[] args) { \n        XMLUtil xmlUtil = new XMLUtil(&quot;tc01.xml&quot;); \n    xmlUtil.changeXMLNodeValue(&quot;//Customer/State/City&quot;,&quot;Hyderabad&quot;);\n    }\n    }\n\n</code></pre>\n<p>XML File:tc01.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;Customer&gt;\n&lt;State&gt;\n&lt;value&gt;Andhra&lt;/value&gt;\n&lt;City&gt;\n&lt;value&gt;amravati&lt;/value&gt;\n&lt;/City&gt;\n&lt;/State&gt;\n&lt;/Customer&gt;\n\n</code></pre>\n<blockquote>\n<p>Running the code is throwing NullPointerException at changeXMLNodeValue method on trying to compile and evalute the xpath to fetch the node.\nNode node = (Node) xPath.compile(xpath).evaluate(xmlDoc, XPathConstants.NODE);</p>\n</blockquote>\n<p>This is a simple xml without any namespace requirement.\nI am using the API first please let me know if I missed something.</p>\n"},{"tags":["java","android","inputstream"],"answers":[{"tags":[],"owner":{"account_id":2161651,"reputation":2722,"user_id":1915697,"accept_rate":89,"display_name":"Yogesh Tatwal"},"comment_count":0,"down_vote_count":1,"up_vote_count":37,"is_accepted":true,"score":36,"last_activity_date":1445963163,"creation_date":1360643487,"answer_id":14825401,"question_id":14825374,"body_markdown":"try this \r\n\r\n    import android.app.Activity;\r\n    import android.os.Bundle;\r\n    import android.widget.Toast;\r\n    import java.io.*;\r\n    \r\n    public class FileDemo1 extends Activity {\r\n        \r\n        @Override\r\n        public void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.main);\r\n            try {\r\n                playWithRawFiles();\r\n            } catch (IOException e) {\r\n                Toast.makeText(getApplicationContext(), &quot;Problems: &quot; + e.getMessage(), 1).show();\r\n            }\r\n        }\r\n        \r\n        public void playWithRawFiles() throws IOException {      \r\n            String str = &quot;&quot;;\r\n            StringBuffer buf = new StringBuffer();            \r\n            InputStream is = this.getResources().openRawResource(R.drawable.my_base_data);\r\n            try {\r\n                BufferedReader reader = new BufferedReader(new InputStreamReader(is));\r\n                if (is != null) {                            \r\n                    while ((str = reader.readLine()) != null) {    \r\n                        buf.append(str + &quot;\\n&quot; );\r\n                    }                \r\n                }\r\n            } finally {\r\n                try { is.close(); } catch (Throwable ignore) {}\r\n            }\r\n            Toast.makeText(getBaseContext(), buf.toString(), Toast.LENGTH_LONG).show();\r\n        }\r\n    }","title":"Reading a textfile using InputStream","body":"<p>try this </p>\n\n<pre><code>import android.app.Activity;\nimport android.os.Bundle;\nimport android.widget.Toast;\nimport java.io.*;\n\npublic class FileDemo1 extends Activity {\n\n    @Override\n    public void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.main);\n        try {\n            playWithRawFiles();\n        } catch (IOException e) {\n            Toast.makeText(getApplicationContext(), \"Problems: \" + e.getMessage(), 1).show();\n        }\n    }\n\n    public void playWithRawFiles() throws IOException {      \n        String str = \"\";\n        StringBuffer buf = new StringBuffer();            \n        InputStream is = this.getResources().openRawResource(R.drawable.my_base_data);\n        try {\n            BufferedReader reader = new BufferedReader(new InputStreamReader(is));\n            if (is != null) {                            \n                while ((str = reader.readLine()) != null) {    \n                    buf.append(str + \"\\n\" );\n                }                \n            }\n        } finally {\n            try { is.close(); } catch (Throwable ignore) {}\n        }\n        Toast.makeText(getBaseContext(), buf.toString(), Toast.LENGTH_LONG).show();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1130033,"reputation":6889,"user_id":1116354,"accept_rate":94,"display_name":"Vinay"},"comment_count":0,"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1360643881,"creation_date":1360643881,"answer_id":14825459,"question_id":14825374,"body_markdown":"Use `BufferedReader` to read the input stream. As `BufferedReader` will read text from a character-input stream, buffering characters so as to provide for the efficient reading of characters, arrays, and lines. `InputStream` represents an input stream of bytes. `reader.readLine()` will read the file line by line. \r\n\r\n    BufferedReader reader = new BufferedReader(new InputStreamReader(in));\r\n    StringBuilder out = new StringBuilder();\r\n    String line;\r\n    while ((line = reader.readLine()) != null) {\r\n        out.append(line);   // add everything to StringBuilder \r\n        // here you can have your logic of comparison.\r\n        if(line.toString().equals(&quot;.&quot;)) {\r\n            // do something\r\n        } \r\n\r\n    }","title":"Reading a textfile using InputStream","body":"<p>Use <code>BufferedReader</code> to read the input stream. As <code>BufferedReader</code> will read text from a character-input stream, buffering characters so as to provide for the efficient reading of characters, arrays, and lines. <code>InputStream</code> represents an input stream of bytes. <code>reader.readLine()</code> will read the file line by line. </p>\n\n<pre><code>BufferedReader reader = new BufferedReader(new InputStreamReader(in));\nStringBuilder out = new StringBuilder();\nString line;\nwhile ((line = reader.readLine()) != null) {\n    out.append(line);   // add everything to StringBuilder \n    // here you can have your logic of comparison.\n    if(line.toString().equals(\".\")) {\n        // do something\n    } \n\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":5145435,"reputation":4720,"user_id":4121573,"accept_rate":100,"display_name":"Adonis"},"score":0,"creation_date":1503476468,"post_id":45833906,"comment_id":78625810,"body_markdown":"It would help to provide context to how and where to use your code","body":"It would help to provide context to how and where to use your code"},{"owner":{"account_id":11610430,"reputation":11,"user_id":8504818,"display_name":"Ziyad"},"score":0,"creation_date":1503477914,"post_id":45833906,"comment_id":78626755,"body_markdown":"if you have any txt file and u want to read that text file using  FileInputStream you can do so and.......... in your  File fe=new File(abc.txt); and this will be display in your console  read data String str=new String(data);\n                System.out.println(str);","body":"if you have any txt file and u want to read that text file using  FileInputStream you can do so and.......... in your  File fe=new File(abc.txt); and this will be display in your console  read data String str=new String(data);                 System.out.println(str);"}],"tags":[],"owner":{"account_id":11610430,"reputation":11,"user_id":8504818,"display_name":"Ziyad"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1673273025,"creation_date":1503475092,"answer_id":45833906,"question_id":14825374,"body_markdown":"                   \r\n\tFile fe = new File(&quot;abc.txt&quot;);\r\n\tFileInputStream fis = new FileInputStream(fe);\r\n\tbyte data[] = new byte[fis.available()];\r\n\tfis.read(data);\r\n\tfis.close();\r\n\tString str = new String(data);\r\n\tSystem.out.println(str);\r\n","title":"Reading a textfile using InputStream","body":"<pre><code>File fe = new File(&quot;abc.txt&quot;);\nFileInputStream fis = new FileInputStream(fe);\nbyte data[] = new byte[fis.available()];\nfis.read(data);\nfis.close();\nString str = new String(data);\nSystem.out.println(str);\n</code></pre>\n"}],"owner":{"account_id":2058644,"reputation":621,"user_id":1835779,"accept_rate":81,"display_name":"RE60K"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":91681,"favorite_count":0,"down_vote_count":0,"up_vote_count":26,"accepted_answer_id":14825401,"answer_count":3,"score":26,"last_activity_date":1673273025,"creation_date":1360643270,"question_id":14825374,"body_markdown":"How can I read a text file like in android app:\r\n\r\n    &quot;1.something written\r\n    2.in this file\r\n    3.is to be read by\r\n    4.the InputStream\r\n    ...&quot;\r\n\r\nso I can be returned a string like:\r\n\r\n    &quot;something written\\nin this file\\nis to be read by\\nthe InputStream&quot;\r\n\r\nwhat I thought of is(Pseudocode):\r\n\r\n    make an inputstream\r\n    is = getAssest().open(&quot;textfile.txt&quot;);  //in try and catch\r\n    for loop{\r\n    string = is.read() and if it equals &quot;.&quot; (i.e. from 1., 2., 3. etc) add &quot;/n&quot; ...\r\n    }\r\n    ","title":"Reading a textfile using InputStream","body":"<p>How can I read a text file like in android app:</p>\n\n<pre><code>\"1.something written\n2.in this file\n3.is to be read by\n4.the InputStream\n...\"\n</code></pre>\n\n<p>so I can be returned a string like:</p>\n\n<pre><code>\"something written\\nin this file\\nis to be read by\\nthe InputStream\"\n</code></pre>\n\n<p>what I thought of is(Pseudocode):</p>\n\n<pre><code>make an inputstream\nis = getAssest().open(\"textfile.txt\");  //in try and catch\nfor loop{\nstring = is.read() and if it equals \".\" (i.e. from 1., 2., 3. etc) add \"/n\" ...\n}\n</code></pre>\n"},{"tags":["java","jgit"],"comments":[{"owner":{"account_id":1056871,"reputation":117749,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"score":0,"creation_date":1673084811,"post_id":75039051,"comment_id":132421589,"body_markdown":"interesting question, 1+; but what did you try? It might be easier to think in reverse, like how would you solve that with plain command line and then reverse engineer to jgit","body":"interesting question, 1+; but what did you try? It might be easier to think in reverse, like how would you solve that with plain command line and then reverse engineer to jgit"},{"owner":{"account_id":888714,"reputation":34077,"user_id":927493,"accept_rate":61,"display_name":"J Fabian Meier"},"score":0,"creation_date":1673085687,"post_id":75039051,"comment_id":132421688,"body_markdown":"jgit is still a bit of a mystery to me. I tried to find information about changed files in RevCommit, and I also tried to google this, but had the impression that trying to list all changed files etc. is overkill.","body":"jgit is still a bit of a mystery to me. I tried to find information about changed files in RevCommit, and I also tried to google this, but had the impression that trying to list all changed files etc. is overkill."}],"answers":[{"tags":[],"owner":{"account_id":179293,"reputation":15713,"user_id":411846,"accept_rate":80,"display_name":"centic"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1673272975,"creation_date":1673251164,"answer_id":75054468,"question_id":75039051,"body_markdown":"In the high-level API of JGit you can use [Git.log()][1] with &quot;addPath&quot; to get a simple list of related commits. \r\n\r\n       logs = git.log()\r\n                .addPath(&quot;pom.xml&quot;)\r\n                .call();\r\n\r\nSee this [snippet][2] in the [jgit-cookbook][7] for a ready-to-run example.\r\n\r\nIn general the methods on the entry-class [Git][3] provide similar functionality to the regular git commands.\r\n\r\n---\r\n\r\nFor the low-level API which provides much more fine-grained control/results, you can use [Git.diff()][4] with &quot;newTree&quot; and &quot;oldTree&quot; and a &quot;pathFilter&quot;. The trees are constructed via [RevWalk][5] and [CanonicalTreeParser][6]\r\n\r\nThere is a related snippet for this approach in the [jgit-cookbook][7] at [ShowFileDiff.java][8]\r\n\r\n\r\n  [1]: https://download.eclipse.org/jgit/site/6.3.0.202209071007-r/apidocs/org/eclipse/jgit/api/Git.html#log()\r\n  [2]: https://github.com/centic9/jgit-cookbook/blob/master/src/main/java/org/dstadler/jgit/porcelain/ShowLog.java#L99\r\n  [3]: https://download.eclipse.org/jgit/site/6.3.0.202209071007-r/apidocs/org/eclipse/jgit/api/Git.html\r\n  [4]: https://download.eclipse.org/jgit/site/6.3.0.202209071007-r/apidocs/org/eclipse/jgit/api/Git.html#diff()\r\n  [5]: https://download.eclipse.org/jgit/site/6.3.0.202209071007-r/apidocs/org/eclipse/jgit/revwalk/RevWalk.html\r\n  [6]: https://download.eclipse.org/jgit/site/6.3.0.202209071007-r/apidocs/org/eclipse/jgit/treewalk/CanonicalTreeParser.html\r\n  [7]: https://github.com/centic9/jgit-cookbook\r\n  [8]: https://github.com/centic9/jgit-cookbook/blob/master/src/main/java/org/dstadler/jgit/porcelain/ShowFileDiff.java","title":"Find all commits that changed a given directory from Java","body":"<p>In the high-level API of JGit you can use <a href=\"https://download.eclipse.org/jgit/site/6.3.0.202209071007-r/apidocs/org/eclipse/jgit/api/Git.html#log()\" rel=\"nofollow noreferrer\">Git.log()</a> with &quot;addPath&quot; to get a simple list of related commits.</p>\n<pre><code>   logs = git.log()\n            .addPath(&quot;pom.xml&quot;)\n            .call();\n</code></pre>\n<p>See this <a href=\"https://github.com/centic9/jgit-cookbook/blob/master/src/main/java/org/dstadler/jgit/porcelain/ShowLog.java#L99\" rel=\"nofollow noreferrer\">snippet</a> in the <a href=\"https://github.com/centic9/jgit-cookbook\" rel=\"nofollow noreferrer\">jgit-cookbook</a> for a ready-to-run example.</p>\n<p>In general the methods on the entry-class <a href=\"https://download.eclipse.org/jgit/site/6.3.0.202209071007-r/apidocs/org/eclipse/jgit/api/Git.html\" rel=\"nofollow noreferrer\">Git</a> provide similar functionality to the regular git commands.</p>\n<hr />\n<p>For the low-level API which provides much more fine-grained control/results, you can use <a href=\"https://download.eclipse.org/jgit/site/6.3.0.202209071007-r/apidocs/org/eclipse/jgit/api/Git.html#diff()\" rel=\"nofollow noreferrer\">Git.diff()</a> with &quot;newTree&quot; and &quot;oldTree&quot; and a &quot;pathFilter&quot;. The trees are constructed via <a href=\"https://download.eclipse.org/jgit/site/6.3.0.202209071007-r/apidocs/org/eclipse/jgit/revwalk/RevWalk.html\" rel=\"nofollow noreferrer\">RevWalk</a> and <a href=\"https://download.eclipse.org/jgit/site/6.3.0.202209071007-r/apidocs/org/eclipse/jgit/treewalk/CanonicalTreeParser.html\" rel=\"nofollow noreferrer\">CanonicalTreeParser</a></p>\n<p>There is a related snippet for this approach in the <a href=\"https://github.com/centic9/jgit-cookbook\" rel=\"nofollow noreferrer\">jgit-cookbook</a> at <a href=\"https://github.com/centic9/jgit-cookbook/blob/master/src/main/java/org/dstadler/jgit/porcelain/ShowFileDiff.java\" rel=\"nofollow noreferrer\">ShowFileDiff.java</a></p>\n"}],"owner":{"account_id":888714,"reputation":34077,"user_id":927493,"accept_rate":61,"display_name":"J Fabian Meier"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":74,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1673272975,"creation_date":1673080816,"question_id":75039051,"body_markdown":"I write a Java program, and I use jgit. In this Java program, I want to list all commits of some git repository `g` that changed at least one file in a directory `x`.\r\n\r\nI do not want to solve the problem &quot;on command line&quot;, but within Java.","title":"Find all commits that changed a given directory from Java","body":"<p>I write a Java program, and I use jgit. In this Java program, I want to list all commits of some git repository <code>g</code> that changed at least one file in a directory <code>x</code>.</p>\n<p>I do not want to solve the problem &quot;on command line&quot;, but within Java.</p>\n"},{"tags":["java","macos"],"comments":[{"owner":{"account_id":12448976,"reputation":351,"user_id":9064287,"display_name":"nhaggen"},"score":0,"creation_date":1670860763,"post_id":74744794,"comment_id":131965411,"body_markdown":"Well, I see, someone didn&#39;t like the question but did not bother to give a constructive contribution. That&#39;s not how it is supposed to be","body":"Well, I see, someone didn&#39;t like the question but did not bother to give a constructive contribution. That&#39;s not how it is supposed to be"}],"answers":[{"tags":[],"owner":{"account_id":12448976,"reputation":351,"user_id":9064287,"display_name":"nhaggen"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1673272734,"creation_date":1673263524,"answer_id":75056591,"question_id":74744794,"body_markdown":"After a lot of headaches and try and error, I can luckily provide a solution to my problem.\r\n\r\n1. The short version: **I used to have two executables, one calling the other, the other executing the java code.** This lead to my problems described above.\r\n\r\n2. The longer version:\r\nThe executable that is registered in Info.plist under `&lt;key&gt;CFBundleExecutable&lt;/key&gt;` used to be a one liner whose only purpose was to redirect all output (standard and error) to a local logfile inside the applications *Contents* folder.\r\n\r\n    `exec JavaApplicationStub &gt;&gt; &quot;../$USER&quot;.log 2&gt;&amp;1`\r\n\r\n   JavaApplicationStub was for a long while a compiled executable taking care of loading the correct VM and passing the VM-Options defined in Info.plist. It was then first replaced by the non-compiled [UniversalJavaApplicationStub][1], later by a compiled version of it (slightly modified in order not to log to syslog). Basically it analizes the entries defined under Java/JavaX and then starts java\r\n  \r\n   `exec java [VM Options] [Arguments] mainClass `.\r\n\r\n   With the advent of macOS 11, I had to compile even my one liner script, which with [shc][2] is not an issue. My App opened smoothly when clicked on it, but it started to show problems opening files by double-clicking them. Depending on the OS I fed it with different versions of the launch executables, which lead to the different behaviour.\r\n\r\nThe **solution** was to modify *UniversalJavaApplicationStub* and then recompiling it in order to directly redirect all output to the local logfile, making the sequential call of the two executables unnecessary.\r\n\r\nI haven&#39;t read anywhere that it is bad practice to have different executables, and for a long while this wasn&#39;t a problem either. For some reasons the `AppEvent.OpenFilesEvent` is no longer passed to the Java-App under these circumstances.\r\n\r\n\r\n  [1]: https://github.com/tofi86/universalJavaApplicationStub\r\n  [2]: https://github.com/neurobin/shc","title":"OpenFilesHandler not working anymore under macOS 10.15 and higher","body":"<p>After a lot of headaches and try and error, I can luckily provide a solution to my problem.</p>\n<ol>\n<li><p>The short version: <strong>I used to have two executables, one calling the other, the other executing the java code.</strong> This lead to my problems described above.</p>\n</li>\n<li><p>The longer version:\nThe executable that is registered in Info.plist under <code>&lt;key&gt;CFBundleExecutable&lt;/key&gt;</code> used to be a one liner whose only purpose was to redirect all output (standard and error) to a local logfile inside the applications <em>Contents</em> folder.</p>\n<p><code>exec JavaApplicationStub &gt;&gt; &quot;../$USER&quot;.log 2&gt;&amp;1</code></p>\n<p>JavaApplicationStub was for a long while a compiled executable taking care of loading the correct VM and passing the VM-Options defined in Info.plist. It was then first replaced by the non-compiled <a href=\"https://github.com/tofi86/universalJavaApplicationStub\" rel=\"nofollow noreferrer\">UniversalJavaApplicationStub</a>, later by a compiled version of it (slightly modified in order not to log to syslog). Basically it analizes the entries defined under Java/JavaX and then starts java</p>\n<p><code>exec java [VM Options] [Arguments] mainClass </code>.</p>\n<p>With the advent of macOS 11, I had to compile even my one liner script, which with <a href=\"https://github.com/neurobin/shc\" rel=\"nofollow noreferrer\">shc</a> is not an issue. My App opened smoothly when clicked on it, but it started to show problems opening files by double-clicking them. Depending on the OS I fed it with different versions of the launch executables, which lead to the different behaviour.</p>\n</li>\n</ol>\n<p>The <strong>solution</strong> was to modify <em>UniversalJavaApplicationStub</em> and then recompiling it in order to directly redirect all output to the local logfile, making the sequential call of the two executables unnecessary.</p>\n<p>I haven't read anywhere that it is bad practice to have different executables, and for a long while this wasn't a problem either. For some reasons the <code>AppEvent.OpenFilesEvent</code> is no longer passed to the Java-App under these circumstances.</p>\n"}],"owner":{"account_id":12448976,"reputation":351,"user_id":9064287,"display_name":"nhaggen"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":78,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1673272734,"creation_date":1670597882,"question_id":74744794,"body_markdown":"I have a Java Application for macOS with a proprietary file type.\r\nWhen double-clicking such a proprietary file, the application should open and load the file. If the application is already open, the selected file should be opened in a new application-window.\r\n\r\nThis used to work and still works on older macOS (e.g. 10.13), on 10.15 however this only works when the application is not open yet. If the application is already open, Finder plays the &quot;*animation for opening a file*&quot;, but nothing happens.\r\n\r\nI played around a while with old versions, settings in **info.plist**, Launching executables (ApplicationStub) and got following results.\r\n\r\n| App Status    /    OS | macOS 10.13 | macOS 10.15 | macOS 12 |\r\n| --------------------- | ----------- | ----------- | -------- |\r\n|App is closed when double-click| opens App and Document | opens App and Document | opens App only |\r\n|App is open when double-click | opens App and Document | nothing | nothing |\r\n\r\nThe difference between macOS 10.15 and macOS 12 is to be found in the Executable that launches the Java-application. Until 10.15 a non compiled script is accepted, later on it must be compiled (so the two apps are not identical but Java code is unchanged)\r\n\r\nWhen double-clicking on a file, i would expect `public void handleOpenFile(AppEvent.OpenFilesEvent event)` to be called, but it isn&#39;t.\r\n\r\nSince on macOS 10.15 I get the Application to launch and open the selected Document, I suppose the Settings in **info.plist** are correct and the **OpenFilesHandler** correctly registered.\r\n\r\nSo I suppose there is something in macOS 10.15 and later that disturbs `com.apple.eawt.OpenFilesHandler`.\r\n\r\nHas anybody encountered this problem and found a solution for it? Or any ideas where the problem could be located?\r\n\r\nMy code is written and executed in Java-8, I develop on macOS 10.15 but have access to older and newer systems.\r\n\r\nThis is not a duplicate of https://stackoverflow.com/q/23750594/9064287, since at time the other question was written, my Application was still opening smoothly and the OS-Versions that are causing me troubles were far from being released.\r\n\r\nI don&#39;t think it&#39;s related with https://stackoverflow.com/q/54081531/9064287 , since I have mostly problems when the application is already running, there it seems that the handler was missing at startup (besides it&#39;s using Desktop class)","title":"OpenFilesHandler not working anymore under macOS 10.15 and higher","body":"<p>I have a Java Application for macOS with a proprietary file type.\nWhen double-clicking such a proprietary file, the application should open and load the file. If the application is already open, the selected file should be opened in a new application-window.</p>\n<p>This used to work and still works on older macOS (e.g. 10.13), on 10.15 however this only works when the application is not open yet. If the application is already open, Finder plays the &quot;<em>animation for opening a file</em>&quot;, but nothing happens.</p>\n<p>I played around a while with old versions, settings in <strong>info.plist</strong>, Launching executables (ApplicationStub) and got following results.</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>App Status    /    OS</th>\n<th>macOS 10.13</th>\n<th>macOS 10.15</th>\n<th>macOS 12</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>App is closed when double-click</td>\n<td>opens App and Document</td>\n<td>opens App and Document</td>\n<td>opens App only</td>\n</tr>\n<tr>\n<td>App is open when double-click</td>\n<td>opens App and Document</td>\n<td>nothing</td>\n<td>nothing</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>The difference between macOS 10.15 and macOS 12 is to be found in the Executable that launches the Java-application. Until 10.15 a non compiled script is accepted, later on it must be compiled (so the two apps are not identical but Java code is unchanged)</p>\n<p>When double-clicking on a file, i would expect <code>public void handleOpenFile(AppEvent.OpenFilesEvent event)</code> to be called, but it isn't.</p>\n<p>Since on macOS 10.15 I get the Application to launch and open the selected Document, I suppose the Settings in <strong>info.plist</strong> are correct and the <strong>OpenFilesHandler</strong> correctly registered.</p>\n<p>So I suppose there is something in macOS 10.15 and later that disturbs <code>com.apple.eawt.OpenFilesHandler</code>.</p>\n<p>Has anybody encountered this problem and found a solution for it? Or any ideas where the problem could be located?</p>\n<p>My code is written and executed in Java-8, I develop on macOS 10.15 but have access to older and newer systems.</p>\n<p>This is not a duplicate of <a href=\"https://stackoverflow.com/q/23750594/9064287\">OpenFilesHandler no longer works in Mac OS X</a>, since at time the other question was written, my Application was still opening smoothly and the OS-Versions that are causing me troubles were far from being released.</p>\n<p>I don't think it's related with <a href=\"https://stackoverflow.com/q/54081531/9064287\">Desktop.setOpenFileHandler doesn&#39;t work when program isn&#39;t running</a> , since I have mostly problems when the application is already running, there it seems that the handler was missing at startup (besides it's using Desktop class)</p>\n"},{"tags":["java","google-ad-manager"],"owner":{"account_id":27478094,"reputation":1,"user_id":20965723,"display_name":"RAJI HEMANTH KUMAR"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673272621,"creation_date":1673272621,"question_id":75058313,"body_markdown":"I am trying to attain TOTAL_INVENTORY_LEVEL_UNFILLED_IMPRESSIONS from Google Ad Manager report service API, but am getting this error: [ReportError.COLUMNS_NOT_SUPPORTED_FOR_REQUESTED_DIMENSIONS @ columns; trigger:&#39;TOTAL_INVENTORY_LEVEL_UNFILLED_IMPRESSIONS&#39;]\r\n\r\nMy code is as shown below:\r\n\r\n```\r\nReportQuery reportQuery = new ReportQuery();\r\nreportQuery.setDimensions(new Dimension[]\r\n{\r\nDimension.DATE,\r\nDimension.ORDER_ID,\r\nDimension.ORDER_NAME,\r\nDimension.AD_UNIT_ID,\r\nDimension.AD_UNIT_NAME,\r\nDimension.LINE_ITEM_ID,\r\nDimension.LINE_ITEM_NAME,\r\nDimension.LINE_ITEM_TYPE\r\n});\r\nreportQuery.setDimensionAttributes(new DimensionAttribute[]\r\n{DimensionAttribute.ORDER_START_DATE_TIME, DimensionAttribute.ORDER_END_DATE_TIME});\r\nreportQuery.setColumns(new Column[] {Column.TOTAL_CODE_SERVED_COUNT, Column.TOTAL_INVENTORY_LEVEL_UNFILLED_IMPRESSIONS});\r\n```\r\n\r\n\r\nTried getting unfilled impression but unsure what dimension is supposed to be used, but get this error mesage:\r\n\r\nCannot invoke &quot;java.lang.Long.longValue()&quot; because the return value of &quot;com.google.api.ads.admanager.axis.v202208.ReportJob.getId()&quot; is null","title":"Google Ad Manager COLUMNS_NOT_SUPPORTED_FOR_REQUESTED_DIMENSION [TOTAL_INVENTORY_LEVEL_UNFILLED_IMPRESSIONS]","body":"<p>I am trying to attain TOTAL_INVENTORY_LEVEL_UNFILLED_IMPRESSIONS from Google Ad Manager report service API, but am getting this error: [ReportError.COLUMNS_NOT_SUPPORTED_FOR_REQUESTED_DIMENSIONS @ columns; trigger:'TOTAL_INVENTORY_LEVEL_UNFILLED_IMPRESSIONS']</p>\n<p>My code is as shown below:</p>\n<pre><code>ReportQuery reportQuery = new ReportQuery();\nreportQuery.setDimensions(new Dimension[]\n{\nDimension.DATE,\nDimension.ORDER_ID,\nDimension.ORDER_NAME,\nDimension.AD_UNIT_ID,\nDimension.AD_UNIT_NAME,\nDimension.LINE_ITEM_ID,\nDimension.LINE_ITEM_NAME,\nDimension.LINE_ITEM_TYPE\n});\nreportQuery.setDimensionAttributes(new DimensionAttribute[]\n{DimensionAttribute.ORDER_START_DATE_TIME, DimensionAttribute.ORDER_END_DATE_TIME});\nreportQuery.setColumns(new Column[] {Column.TOTAL_CODE_SERVED_COUNT, Column.TOTAL_INVENTORY_LEVEL_UNFILLED_IMPRESSIONS});\n</code></pre>\n<p>Tried getting unfilled impression but unsure what dimension is supposed to be used, but get this error mesage:</p>\n<p>Cannot invoke &quot;java.lang.Long.longValue()&quot; because the return value of &quot;com.google.api.ads.admanager.axis.v202208.ReportJob.getId()&quot; is null</p>\n"},{"tags":["java","android","android-keypad","inputmethodmanager"],"answers":[{"comments":[{"owner":{"account_id":6989591,"reputation":3250,"user_id":5359340,"display_name":"FGH"},"score":0,"creation_date":1673274867,"post_id":75058310,"comment_id":132455708,"body_markdown":"Thanks for your response, but how can I listen to this event in the UI directly ?","body":"Thanks for your response, but how can I listen to this event in the UI directly ?"},{"owner":{"account_id":39846,"reputation":991173,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1673275386,"post_id":75058310,"comment_id":132455932,"body_markdown":"@Prasath: I do not know what you mean by &quot;listen to the event&quot;. You already appear to be listening to the event. Your error is coming from what you are doing *in response to the event*. That is because you are trying to use `AlertDialog` from outside of an activity, which will not work.","body":"@Prasath: I do not know what you mean by &quot;listen to the event&quot;. You already appear to be listening to the event. Your error is coming from what you are doing <i>in response to the event</i>. That is because you are trying to use <code>AlertDialog</code> from outside of an activity, which will not work."},{"owner":{"account_id":6989591,"reputation":3250,"user_id":5359340,"display_name":"FGH"},"score":0,"creation_date":1673276004,"post_id":75058310,"comment_id":132456166,"body_markdown":"I understood Mark Murphy, to notify in the keyboard screen is a good option, but how to get the network unavailability event in the Keyboard event? please explain bit &#128591;","body":"I understood Mark Murphy, to notify in the keyboard screen is a good option, but how to get the network unavailability event in the Keyboard event? please explain bit 🙏"},{"owner":{"account_id":39846,"reputation":991173,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":1,"creation_date":1673276274,"post_id":75058310,"comment_id":132456276,"body_markdown":"@Prasath: Your `NetworkChangeListener` is already getting the event.","body":"@Prasath: Your <code>NetworkChangeListener</code> is already getting the event."},{"owner":{"account_id":6989591,"reputation":3250,"user_id":5359340,"display_name":"FGH"},"score":0,"creation_date":1673277899,"post_id":75058310,"comment_id":132456932,"body_markdown":"yes, it&#39;s , it&#39;s only crashing when it&#39;s creating the Alertdialog","body":"yes, it&#39;s , it&#39;s only crashing when it&#39;s creating the Alertdialog"},{"owner":{"account_id":6989591,"reputation":3250,"user_id":5359340,"display_name":"FGH"},"score":0,"creation_date":1673280901,"post_id":75058310,"comment_id":132458219,"body_markdown":"Murphy, I have done that using the callbacks, Thanks a lot ❤️","body":"Murphy, I have done that using the callbacks, Thanks a lot ❤️"}],"tags":[],"owner":{"account_id":39846,"reputation":991173,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"comment_count":6,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1673272602,"creation_date":1673272602,"answer_id":75058310,"question_id":75058232,"body_markdown":"`Dialog` and its subtypes, like `AlertDialog`, can only be used from an `Activity`, not other forms of `Context`.\r\n\r\nEither:\r\n\r\n- Show your message in your keyboard UI directly, or\r\n- Start an activity, perhaps one using a dialog theme, to show your message","title":"In Android, Is there any way to listen Network Changes in the InputMethodService class?","body":"<p><code>Dialog</code> and its subtypes, like <code>AlertDialog</code>, can only be used from an <code>Activity</code>, not other forms of <code>Context</code>.</p>\n<p>Either:</p>\n<ul>\n<li>Show your message in your keyboard UI directly, or</li>\n<li>Start an activity, perhaps one using a dialog theme, to show your message</li>\n</ul>\n"}],"owner":{"account_id":6989591,"reputation":3250,"user_id":5359340,"display_name":"FGH"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75058310,"answer_count":1,"score":0,"last_activity_date":1673272602,"creation_date":1673272237,"question_id":75058232,"body_markdown":"I&#39;m creating a custom keyboard in Android, whenever the keyboard popups, I want to show the popup when the network connection is interrupted,  I have tried this in Activity-based classes but this is a different scenario because it&#39;s a Service class. \r\n\r\nbut when it&#39;s starting run, keyboard crashes and getting this error message\r\n\r\n&gt; Error\r\n\r\n    Caused by: android.view.WindowManager$BadTokenException: Unable to add window -- token null is not valid; is your activity running?\r\n                     \tat android.view.ViewRootImpl.setView(ViewRootImpl.java:1159)\r\n                     \tat android.view.WindowManagerGlobal.addView(WindowManagerGlobal.java:399)\r\n                     \tat android.view.WindowManagerImpl.addView(WindowManagerImpl.java:133)\r\n                     \tat android.app.Dialog.show(Dialog.java:345)\r\n                     \tat com.prasath.openaikeyboard.util.NetworkChangeListener.onReceive(NetworkChangeListener.java:25)\r\n                     \tat android.app.LoadedApk$ReceiverDispatcher$Args.lambda$getRunnable$0$LoadedApk$ReceiverDispatcher$Args(LoadedApk.java:1679)\r\n\r\n\r\n\r\nThanks in Advance\r\n\r\n&gt; InputMethodService class\r\n\r\n    public class MyInputMethodService  extends InputMethodService implements KeyboardView.OnKeyboardActionListener {\r\n        private static final String TAG = &quot;MyInputMethodService&quot;;\r\n        private NetworkChangeListener networkChangeListener=new NetworkChangeListener();\r\n    \r\n        @Override\r\n        public View onCreateInputView() {\r\n            KeyboardView keyboardView=(KeyboardView) getLayoutInflater().inflate(R.layout.keyboard_view,null);\r\n            Keyboard keyboard=new Keyboard(this,R.xml.numberpad);\r\n            keyboardView.setKeyboard(keyboard);\r\n            keyboardView.setOnKeyboardActionListener(this);\r\n            networkChangeListener=new NetworkChangeListener();\r\n            return keyboardView;\r\n    \r\n        }\r\n\r\n&gt; NetworkChangeListener class\r\n\r\n    public class NetworkChangeListener extends BroadcastReceiver {\r\n        @Override\r\n        public void onReceive(Context context, Intent intent) {\r\n            if(!Common.isConnectedToInternet(context)){\r\n                AlertDialog.Builder builder=new AlertDialog.Builder(context);\r\n                View view= LayoutInflater.from(context).inflate(R.layout.check_internet_dialog,null);\r\n                builder.setView(view);\r\n    \r\n                Button button=view.findViewById(R.id.btnrefreshid);\r\n    \r\n                AlertDialog alertDialog=builder.create();\r\n                alertDialog.show();\r\n                alertDialog.setCancelable(false);\r\n    \r\n                alertDialog.getWindow().setGravity(Gravity.CENTER);\r\n    \r\n                button.setOnClickListener(new View.OnClickListener() {\r\n                    @Override\r\n                    public void onClick(View v) {\r\n                        alertDialog.dismiss();\r\n                        onReceive(context,intent);\r\n                    }\r\n                });\r\n            }\r\n        }\r\n    }\r\n\r\n","title":"In Android, Is there any way to listen Network Changes in the InputMethodService class?","body":"<p>I'm creating a custom keyboard in Android, whenever the keyboard popups, I want to show the popup when the network connection is interrupted,  I have tried this in Activity-based classes but this is a different scenario because it's a Service class.</p>\n<p>but when it's starting run, keyboard crashes and getting this error message</p>\n<blockquote>\n<p>Error</p>\n</blockquote>\n<pre><code>Caused by: android.view.WindowManager$BadTokenException: Unable to add window -- token null is not valid; is your activity running?\n                    at android.view.ViewRootImpl.setView(ViewRootImpl.java:1159)\n                    at android.view.WindowManagerGlobal.addView(WindowManagerGlobal.java:399)\n                    at android.view.WindowManagerImpl.addView(WindowManagerImpl.java:133)\n                    at android.app.Dialog.show(Dialog.java:345)\n                    at com.prasath.openaikeyboard.util.NetworkChangeListener.onReceive(NetworkChangeListener.java:25)\n                    at android.app.LoadedApk$ReceiverDispatcher$Args.lambda$getRunnable$0$LoadedApk$ReceiverDispatcher$Args(LoadedApk.java:1679)\n</code></pre>\n<p>Thanks in Advance</p>\n<blockquote>\n<p>InputMethodService class</p>\n</blockquote>\n<pre><code>public class MyInputMethodService  extends InputMethodService implements KeyboardView.OnKeyboardActionListener {\n    private static final String TAG = &quot;MyInputMethodService&quot;;\n    private NetworkChangeListener networkChangeListener=new NetworkChangeListener();\n\n    @Override\n    public View onCreateInputView() {\n        KeyboardView keyboardView=(KeyboardView) getLayoutInflater().inflate(R.layout.keyboard_view,null);\n        Keyboard keyboard=new Keyboard(this,R.xml.numberpad);\n        keyboardView.setKeyboard(keyboard);\n        keyboardView.setOnKeyboardActionListener(this);\n        networkChangeListener=new NetworkChangeListener();\n        return keyboardView;\n\n    }\n</code></pre>\n<blockquote>\n<p>NetworkChangeListener class</p>\n</blockquote>\n<pre><code>public class NetworkChangeListener extends BroadcastReceiver {\n    @Override\n    public void onReceive(Context context, Intent intent) {\n        if(!Common.isConnectedToInternet(context)){\n            AlertDialog.Builder builder=new AlertDialog.Builder(context);\n            View view= LayoutInflater.from(context).inflate(R.layout.check_internet_dialog,null);\n            builder.setView(view);\n\n            Button button=view.findViewById(R.id.btnrefreshid);\n\n            AlertDialog alertDialog=builder.create();\n            alertDialog.show();\n            alertDialog.setCancelable(false);\n\n            alertDialog.getWindow().setGravity(Gravity.CENTER);\n\n            button.setOnClickListener(new View.OnClickListener() {\n                @Override\n                public void onClick(View v) {\n                    alertDialog.dismiss();\n                    onReceive(context,intent);\n                }\n            });\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":129540,"reputation":210839,"user_id":328193,"accept_rate":91,"display_name":"David"},"score":2,"creation_date":1673272529,"post_id":75058250,"comment_id":132454774,"body_markdown":"This is a good opportunity for you to start familiarizing yourself with [using a debugger](https://stackoverflow.com/q/25385173/328193).  When you step through the code in a debugger, which operation first produces an unexpected result?  What were the values used in that operation?  What was the result?  What result was expected?  Why?  To learn more about this community and how we can help you, please start with the [tour] and read [ask] and its linked resources.","body":"This is a good opportunity for you to start familiarizing yourself with <a href=\"https://stackoverflow.com/q/25385173/328193\">using a debugger</a>.  When you step through the code in a debugger, which operation first produces an unexpected result?  What were the values used in that operation?  What was the result?  What result was expected?  Why?  To learn more about this community and how we can help you, please start with the <a href=\"https://stackoverflow.com/tour\">tour</a> and read <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a> and its linked resources."},{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":0,"creation_date":1673272662,"post_id":75058250,"comment_id":132454823,"body_markdown":"And note: or you just add print statements. If you dont understand what your code is doing then first use a piece of paper an write down what you THINK you should happen and then have your code PRINT what is doing to...","body":"And note: or you just add print statements. If you dont understand what your code is doing then first use a piece of paper an write down what you THINK you should happen and then have your code PRINT what is doing to..."},{"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"score":0,"creation_date":1673275434,"post_id":75058250,"comment_id":132455953,"body_markdown":"Check the for-loop&#39;s condition. That will only be true when `num` is empty (and then it will remain true until `i` overflows from `Integer.MIN_VALUE` to `Integer.MAX_VALUE`).","body":"Check the for-loop&#39;s condition. That will only be true when <code>num</code> is empty (and then it will remain true until <code>i</code> overflows from <code>Integer.MIN_VALUE</code> to <code>Integer.MAX_VALUE</code>)."},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":0,"creation_date":1673277883,"post_id":75058250,"comment_id":132456925,"body_markdown":"if the `result` is `null` I would suspect that: it is never being initialized; and that the loop is never being executed || Hints: there is no reason for `result` to be a field instead of a local variable; no reason for it to be `Integer` instead of `int` (same for return type of method); check the condition of the `for` loop (it is not meant for be the terminating condition, but the condition for looping)","body":"if the <code>result</code> is <code>null</code> I would suspect that: it is never being initialized; and that the loop is never being executed || Hints: there is no reason for <code>result</code> to be a field instead of a local variable; no reason for it to be <code>Integer</code> instead of <code>int</code> (same for return type of method); check the condition of the <code>for</code> loop (it is not meant for be the terminating condition, but the condition for looping)"}],"owner":{"account_id":14262563,"reputation":21,"user_id":10302822,"display_name":"David"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673272328,"creation_date":1673272328,"question_id":75058250,"body_markdown":"\r\n```\r\nimport java.util.HashMap;\r\n\r\npublic class Rtoi{\r\n\r\n    private HashMap&lt;Character,Integer&gt; rn = new HashMap&lt;Character,Integer&gt;();\r\n    Character[] input;\r\n    Integer result;\r\n    //constructor\r\n    public Rtoi(){\r\n        rn.put(&#39;I&#39;, 1);\r\n        rn.put(&#39;V&#39;, 5);\r\n        rn.put(&#39;X&#39;, 10);\r\n        rn.put(&#39;L&#39;, 50);\r\n        rn.put(&#39;C&#39;, 100);\r\n        rn.put(&#39;D&#39;, 500);\r\n        rn.put(&#39;M&#39;, 1000);\r\n    }\r\n    public Integer convert(String num){\r\n  \r\n        //read frm right to left\r\n        for(int i=num.length()-1;i&lt;0;i--){\r\n            Character current =num.charAt(i);\r\n            Character next =num.charAt(i-1);\r\n            if(rn.get(current)&lt;=rn.get(next)){\r\n                result += rn.get(current);\r\n            }\r\n            else{\r\n                result -= rn.get(current);\r\n            }\r\n        }\r\n        return result;\r\n\r\n    }\r\n}\r\n```\r\nThe method convert get a string of roman num to convert to integer but it return a default value result\r\n\r\ntested using the string = &quot;MMXVIII&quot;","title":"For loop and if statement not working when comparing value from a HashMap in java","body":"<pre><code>import java.util.HashMap;\n\npublic class Rtoi{\n\n    private HashMap&lt;Character,Integer&gt; rn = new HashMap&lt;Character,Integer&gt;();\n    Character[] input;\n    Integer result;\n    //constructor\n    public Rtoi(){\n        rn.put('I', 1);\n        rn.put('V', 5);\n        rn.put('X', 10);\n        rn.put('L', 50);\n        rn.put('C', 100);\n        rn.put('D', 500);\n        rn.put('M', 1000);\n    }\n    public Integer convert(String num){\n  \n        //read frm right to left\n        for(int i=num.length()-1;i&lt;0;i--){\n            Character current =num.charAt(i);\n            Character next =num.charAt(i-1);\n            if(rn.get(current)&lt;=rn.get(next)){\n                result += rn.get(current);\n            }\n            else{\n                result -= rn.get(current);\n            }\n        }\n        return result;\n\n    }\n}\n</code></pre>\n<p>The method convert get a string of roman num to convert to integer but it return a default value result</p>\n<p>tested using the string = &quot;MMXVIII&quot;</p>\n"},{"tags":["java","spring","rest","http"],"comments":[{"owner":{"account_id":19020553,"reputation":675,"user_id":13884720,"display_name":"Abdalrhman Alkraien"},"score":0,"creation_date":1625831784,"post_id":68315228,"comment_id":120738809,"body_markdown":"can you see me your url with request Param","body":"can you see me your url with request Param"}],"answers":[{"tags":[],"owner":{"account_id":167329,"reputation":604,"user_id":392061,"accept_rate":43,"display_name":"DavesPlanet"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1673045775,"creation_date":1673045775,"answer_id":75036843,"question_id":68315228,"body_markdown":"It looks like you posted binary data to a controller that takes a String. If that isn&#39;t the case then this error can also be cause by the controller receiving a partial payload due to timeout or network loss.","title":"Required request parameter &#39;image&#39; for method parameter type String is not present","body":"<p>It looks like you posted binary data to a controller that takes a String. If that isn't the case then this error can also be cause by the controller receiving a partial payload due to timeout or network loss.</p>\n"}],"owner":{"account_id":22167816,"reputation":1,"user_id":16413721,"display_name":"DanielGopnik"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":932,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1673272293,"creation_date":1625826325,"question_id":68315228,"body_markdown":"I have a problem with spring http method\r\n```\r\n    @PutMapping(&quot;/book/photo/{id}&quot;)\r\n    public ResponseEntity&lt;?&gt; updatePhoto(@PathVariable(&quot;id&quot;) long id, @RequestParam(&quot;image&quot;) String image)\r\n    {\r\n        try\r\n        {\r\n            bookService.updateImage(id,null);\r\n        }\r\n        catch (BadRequestIdException e)\r\n        {\r\n            return ResponseEntity.status(HttpStatus.NOT_FOUND).body(e.getMessage());\r\n        }\r\n        return ResponseEntity.ok(&quot;PHOTO WAS UPDATED&quot;);\r\n    }\r\n```\r\n![enter image description here][1]\r\n\r\n  [1]: https://i.stack.imgur.com/tAodq.png\r\n\r\nWhen I run this in postman I get response\r\n\r\n```none\r\n2021-07-09 12:17:52.768  WARN 2860 --- [nio-8080-exec-2] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved \r\n[org.springframework.web.bind.MissingServletRequestParameterException: \r\nRequired request parameter &#39;image&#39; for method parameter type String is not present]\r\n```\r\n\r\nWhy doesn&#39;t it work?\r\n","title":"Required request parameter &#39;image&#39; for method parameter type String is not present","body":"<p>I have a problem with spring http method</p>\n<pre><code>    @PutMapping(&quot;/book/photo/{id}&quot;)\n    public ResponseEntity&lt;?&gt; updatePhoto(@PathVariable(&quot;id&quot;) long id, @RequestParam(&quot;image&quot;) String image)\n    {\n        try\n        {\n            bookService.updateImage(id,null);\n        }\n        catch (BadRequestIdException e)\n        {\n            return ResponseEntity.status(HttpStatus.NOT_FOUND).body(e.getMessage());\n        }\n        return ResponseEntity.ok(&quot;PHOTO WAS UPDATED&quot;);\n    }\n</code></pre>\n<p><img src=\"https://i.stack.imgur.com/tAodq.png\" alt=\"enter image description here\" /></p>\n<p>When I run this in postman I get response</p>\n<pre class=\"lang-none prettyprint-override\"><code>2021-07-09 12:17:52.768  WARN 2860 --- [nio-8080-exec-2] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved \n[org.springframework.web.bind.MissingServletRequestParameterException: \nRequired request parameter 'image' for method parameter type String is not present]\n</code></pre>\n<p>Why doesn't it work?</p>\n"},{"tags":["java","gradle","groovy","processbuilder"],"comments":[{"owner":{"account_id":9760,"reputation":85860,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":0,"creation_date":1672963908,"post_id":75024927,"comment_id":132397781,"body_markdown":"There is no foolproof way to do this.  If your Java process gets forcibly killed, a shutdown hook will not be invoked.  If you&#39;re running in an IDE the shutdown hook may not be invoked until the JVM terminates (depending on how the IDE manages debug/run sessions).  The usual way this is handled in Linux is for processes to write their PID to a file, usually in `/var/run/[programname].pid` and then check on startup to see if that process is still running.","body":"There is no foolproof way to do this.  If your Java process gets forcibly killed, a shutdown hook will not be invoked.  If you&#39;re running in an IDE the shutdown hook may not be invoked until the JVM terminates (depending on how the IDE manages debug/run sessions).  The usual way this is handled in Linux is for processes to write their PID to a file, usually in <code>&#47;var&#47;run&#47;[programname].pid</code> and then check on startup to see if that process is still running."},{"owner":{"account_id":491129,"reputation":841,"user_id":1234990,"accept_rate":76,"display_name":"kshep92"},"score":0,"creation_date":1672975193,"post_id":75024927,"comment_id":132399294,"body_markdown":"@JimGarrison What I am expecting is that when I presss the Stop button in IntelliJ, the main application terminates, and I have the opportunity to  restart it immediately after. What happens is that the IDE hangs while it waits for the Gradle sub process to complete (which it never would). I&#39;m trying to get the Gradle sub process to die when I kill the main application.","body":"@JimGarrison What I am expecting is that when I presss the Stop button in IntelliJ, the main application terminates, and I have the opportunity to  restart it immediately after. What happens is that the IDE hangs while it waits for the Gradle sub process to complete (which it never would). I&#39;m trying to get the Gradle sub process to die when I kill the main application."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1673014615,"post_id":75024927,"comment_id":132408291,"body_markdown":"By the way, `.directory(new File(System.getProperty(&quot;user.dir&quot;)))` does nothing.  The default directory for executing a child process is already the current directory.","body":"By the way, <code>.directory(new File(System.getProperty(&quot;user.dir&quot;)))</code> does nothing.  The default directory for executing a child process is already the current directory."}],"answers":[{"comments":[{"owner":{"account_id":491129,"reputation":841,"user_id":1234990,"accept_rate":76,"display_name":"kshep92"},"score":0,"creation_date":1672960648,"post_id":75025041,"comment_id":132397205,"body_markdown":"It looks like I also have to use IntelliJ&#39;s Exit button in order to have the shutdown hook fire. No good since I&#39;d like to use the Stop and Rerun shortcut button during development quite a lot. I think I might have to delegate this to an external script or something...","body":"It looks like I also have to use IntelliJ&#39;s Exit button in order to have the shutdown hook fire. No good since I&#39;d like to use the Stop and Rerun shortcut button during development quite a lot. I think I might have to delegate this to an external script or something..."}],"tags":[],"owner":{"account_id":17436542,"reputation":495,"user_id":12639399,"display_name":"Marcus Dunn"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672957816,"creation_date":1672957816,"answer_id":75025041,"question_id":75024927,"body_markdown":"You can use a shutdown hook.\r\n\r\nAdd some code in the shutdown hook to kill the process you spawned.\r\n\r\n```\r\nRuntime\r\n    .getRuntime()\r\n    .addShutdownHook(new Thread(() -&gt; System.out.println(&quot;killing the thing&quot;)));\r\n```\r\n\r\nFurther Reading:\r\n\r\nhttps://www.baeldung.com/jvm-shutdown-hooks","title":"Java: How do I kill a background process automatically when the main application is stopped?","body":"<p>You can use a shutdown hook.</p>\n<p>Add some code in the shutdown hook to kill the process you spawned.</p>\n<pre><code>Runtime\n    .getRuntime()\n    .addShutdownHook(new Thread(() -&gt; System.out.println(&quot;killing the thing&quot;)));\n</code></pre>\n<p>Further Reading:</p>\n<p><a href=\"https://www.baeldung.com/jvm-shutdown-hooks\" rel=\"nofollow noreferrer\">https://www.baeldung.com/jvm-shutdown-hooks</a></p>\n"},{"tags":[],"owner":{"account_id":6098363,"reputation":64,"user_id":4758401,"display_name":"pgeadas"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672969945,"creation_date":1672969945,"answer_id":75026167,"question_id":75024927,"body_markdown":"If you want to use an external script to kill a process, I needed to do something similar not long ago. When I start my app, I write the PID to a file, and when I need to shut it down, I have this script reading that PID and then killing it:\r\n\r\n    #!/bin/bash\r\n\r\n    SCRIPT_DIR=&quot;$(cd &quot;$(dirname &quot;${BASH_SOURCE[0]}&quot;)&quot; &amp;&amp; pwd)&quot;\r\n    PIDS_DIR=&quot;${SCRIPT_DIR}/pids/&quot;\r\n    \r\n    #\r\n    # Kills all the processes associated with a CWS ID\r\n    #\r\n    kill_cws() {\r\n      if [ $# -ne 0 ]; then\r\n        echo &quot;ERROR: Invalid number of arguments. Expected 0.&quot;\r\n        exit 1\r\n      fi\r\n    \r\n      echo &quot;[INFO] Stopping CWS...&quot;\r\n    \r\n      for f in &quot;${PIDS_DIR}/cws_&quot;*&quot;.pid&quot;; do\r\n        kill_cws_process &quot;${f}&quot;\r\n      done\r\n    \r\n      echo &quot;[INFO] CWS Stopped&quot;\r\n    }\r\n    \r\n    #\r\n    # Kills a specific process\r\n    #\r\n    kill_cws_process() {\r\n      local pid_file=&quot;$1&quot;\r\n      local pid\r\n      pid=$(cat &quot;${pid_file}&quot;)\r\n    \r\n      echo &quot;[INFO][PID=${pid}] Killing CWS instance&quot;\r\n      kill -9 &quot;${pid}&quot;\r\n      ev=$?\r\n      if [ &quot;${ev}&quot; -ne 0 ]; then\r\n        echo &quot;[WARN][PID=${pid}] Error killing PID&quot;\r\n      fi\r\n    \r\n      echo &quot;[INFO][PID=${pid}] Waiting for instance termination&quot;\r\n   \r\n      echo &quot;[INFO][PID=${pid}] Clean instance PID file&quot;\r\n      rm &quot;${pid_file}&quot;\r\n      ev=$?\r\n      if [ &quot;${ev}&quot; -ne 0 ]; then\r\n        echo &quot;[WARN][PID=${pid}] Error deleting pid file ${pid_file}&quot;\r\n      fi\r\n    }\r\n    \r\n    #\r\n    # MAIN\r\n    #\r\n    kill_cws &quot;$@&quot;\r\n\r\n","title":"Java: How do I kill a background process automatically when the main application is stopped?","body":"<p>If you want to use an external script to kill a process, I needed to do something similar not long ago. When I start my app, I write the PID to a file, and when I need to shut it down, I have this script reading that PID and then killing it:</p>\n<pre><code>#!/bin/bash\n\nSCRIPT_DIR=&quot;$(cd &quot;$(dirname &quot;${BASH_SOURCE[0]}&quot;)&quot; &amp;&amp; pwd)&quot;\nPIDS_DIR=&quot;${SCRIPT_DIR}/pids/&quot;\n\n#\n# Kills all the processes associated with a CWS ID\n#\nkill_cws() {\n  if [ $# -ne 0 ]; then\n    echo &quot;ERROR: Invalid number of arguments. Expected 0.&quot;\n    exit 1\n  fi\n\n  echo &quot;[INFO] Stopping CWS...&quot;\n\n  for f in &quot;${PIDS_DIR}/cws_&quot;*&quot;.pid&quot;; do\n    kill_cws_process &quot;${f}&quot;\n  done\n\n  echo &quot;[INFO] CWS Stopped&quot;\n}\n\n#\n# Kills a specific process\n#\nkill_cws_process() {\n  local pid_file=&quot;$1&quot;\n  local pid\n  pid=$(cat &quot;${pid_file}&quot;)\n\n  echo &quot;[INFO][PID=${pid}] Killing CWS instance&quot;\n  kill -9 &quot;${pid}&quot;\n  ev=$?\n  if [ &quot;${ev}&quot; -ne 0 ]; then\n    echo &quot;[WARN][PID=${pid}] Error killing PID&quot;\n  fi\n\n  echo &quot;[INFO][PID=${pid}] Waiting for instance termination&quot;\n\n  echo &quot;[INFO][PID=${pid}] Clean instance PID file&quot;\n  rm &quot;${pid_file}&quot;\n  ev=$?\n  if [ &quot;${ev}&quot; -ne 0 ]; then\n    echo &quot;[WARN][PID=${pid}] Error deleting pid file ${pid_file}&quot;\n  fi\n}\n\n#\n# MAIN\n#\nkill_cws &quot;$@&quot;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":491129,"reputation":841,"user_id":1234990,"accept_rate":76,"display_name":"kshep92"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673016386,"creation_date":1673016386,"answer_id":75032438,"question_id":75024927,"body_markdown":"After a couple hours of reading, I realize that while this is possible, I have not found a fully workable solution. As a work-around, I used the [Gradle Tooling API][1] to devise the following solution:\r\n\r\n    final ProjectConnection connection = GradleConnector\r\n                .newConnector()\r\n                .forProjectDirectory(new File(System.getProperty(&quot;user.dir&quot;)))\r\n                .connect()\r\n    try {\r\n      connection\r\n        .newBuild()\r\n        .forTasks(&quot;compileGroovy&quot;)\r\n        .withArguments(&quot;--continuous&quot;)\r\n        .setStandardOutput(System.out)\r\n        .run()\r\n    } catch (BuildException ignored) {\r\n     // Ignored for testing\r\n    }\r\n\r\nIt&#39;s neat and it solves all of the process management issues.\r\n\r\n  [1]: https://docs.gradle.org/current/userguide/third_party_integration.html","title":"Java: How do I kill a background process automatically when the main application is stopped?","body":"<p>After a couple hours of reading, I realize that while this is possible, I have not found a fully workable solution. As a work-around, I used the <a href=\"https://docs.gradle.org/current/userguide/third_party_integration.html\" rel=\"nofollow noreferrer\">Gradle Tooling API</a> to devise the following solution:</p>\n<pre><code>final ProjectConnection connection = GradleConnector\n            .newConnector()\n            .forProjectDirectory(new File(System.getProperty(&quot;user.dir&quot;)))\n            .connect()\ntry {\n  connection\n    .newBuild()\n    .forTasks(&quot;compileGroovy&quot;)\n    .withArguments(&quot;--continuous&quot;)\n    .setStandardOutput(System.out)\n    .run()\n} catch (BuildException ignored) {\n // Ignored for testing\n}\n</code></pre>\n<p>It's neat and it solves all of the process management issues.</p>\n"},{"tags":[],"owner":{"account_id":1333316,"reputation":26958,"user_id":1276664,"accept_rate":17,"display_name":"daggett"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673022104,"creation_date":1673022104,"answer_id":75033474,"question_id":75024927,"body_markdown":"this groovy script terminates external process on main thread end.\r\n\r\nnot saying it&#39;s nice but it works\r\n\r\n```\r\ndef procBuilder =\r\n\tnew ProcessBuilder(&quot;notepad.exe&quot;)\r\n\t\t.inheritIO()\r\n\r\ndef mainThread = Thread.currentThread()\r\n\r\n//not a daemon to avoid termination..\r\nThread.start {\r\n\ttry {\r\n\t\tprintln &quot;daemon start&quot;\r\n\t\tdef proc = procBuilder.start()\r\n\t\tprintln &quot;daemon process started&quot;\r\n\t\tmainThread.join()\r\n\t\tprintln &quot;daemon process killing...&quot;\r\n\t\tproc.destroy()\r\n\t\tprintln &quot;daemon process end&quot;\r\n\t} catch(e) {\r\n\t\tprintln &quot;daemon error: $e&quot;\r\n\t}\r\n}\r\n\r\nprintln &quot;main thread sleep&quot;\r\nThread.sleep(5000)\r\nprintln &quot;main thread end&quot;\r\n```","title":"Java: How do I kill a background process automatically when the main application is stopped?","body":"<p>this groovy script terminates external process on main thread end.</p>\n<p>not saying it's nice but it works</p>\n<pre><code>def procBuilder =\n    new ProcessBuilder(&quot;notepad.exe&quot;)\n        .inheritIO()\n\ndef mainThread = Thread.currentThread()\n\n//not a daemon to avoid termination..\nThread.start {\n    try {\n        println &quot;daemon start&quot;\n        def proc = procBuilder.start()\n        println &quot;daemon process started&quot;\n        mainThread.join()\n        println &quot;daemon process killing...&quot;\n        proc.destroy()\n        println &quot;daemon process end&quot;\n    } catch(e) {\n        println &quot;daemon error: $e&quot;\n    }\n}\n\nprintln &quot;main thread sleep&quot;\nThread.sleep(5000)\nprintln &quot;main thread end&quot;\n</code></pre>\n"}],"owner":{"account_id":491129,"reputation":841,"user_id":1234990,"accept_rate":76,"display_name":"kshep92"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":691,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":4,"score":0,"last_activity_date":1673272229,"creation_date":1672956930,"question_id":75024927,"body_markdown":"I&#39;m trying to use Java to launch a Gradle process that performs a continuous build in the background. Here is my code:\r\n\r\n    final var updateTimestampProcess =\r\n          new ProcessBuilder(&quot;gradlew.bat&quot;, &quot;compileGroovy&quot;, &quot;--continuous&quot;)\r\n                    .directory(new File(System.getProperty(&quot;user.dir&quot;)))\r\n                    .inheritIO()\r\n         try {\r\n             updateTimestampProcess.start()\r\n         } catch (IOException ignored) {}\r\n\r\nIt works, but the process doesn&#39;t terminate when I use IntelliJ&#39;s Stop command. I have to use Task Manager to hunt down the Java process that&#39;s running the `gradlew` command and end it manually.\r\n\r\nHow can I amend my code so that the background process is terminated when the main process stops?","title":"Java: How do I kill a background process automatically when the main application is stopped?","body":"<p>I'm trying to use Java to launch a Gradle process that performs a continuous build in the background. Here is my code:</p>\n<pre><code>final var updateTimestampProcess =\n      new ProcessBuilder(&quot;gradlew.bat&quot;, &quot;compileGroovy&quot;, &quot;--continuous&quot;)\n                .directory(new File(System.getProperty(&quot;user.dir&quot;)))\n                .inheritIO()\n     try {\n         updateTimestampProcess.start()\n     } catch (IOException ignored) {}\n</code></pre>\n<p>It works, but the process doesn't terminate when I use IntelliJ's Stop command. I have to use Task Manager to hunt down the Java process that's running the <code>gradlew</code> command and end it manually.</p>\n<p>How can I amend my code so that the background process is terminated when the main process stops?</p>\n"},{"tags":["java","junit","mockito","junit5"],"comments":[{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":1,"creation_date":1673273138,"post_id":75058104,"comment_id":132454988,"body_markdown":"What are you trying to do? This code doesn&#39;t make much sense. Do you want to duplicate the contents of the list by adding all existing elements back on the same list? Because this is what this `classRoomListItemsList.addAll(classRoomListItemsList);` does. This doesn&#39;t test or prove anything.","body":"What are you trying to do? This code doesn&#39;t make much sense. Do you want to duplicate the contents of the list by adding all existing elements back on the same list? Because this is what this <code>classRoomListItemsList.addAll(classRoomListItemsList);</code> does. This doesn&#39;t test or prove anything."}],"answers":[{"tags":[],"owner":{"account_id":1387645,"reputation":7926,"user_id":1319284,"accept_rate":69,"display_name":"kutschkem"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1673272196,"creation_date":1673272196,"answer_id":75058228,"question_id":75058104,"body_markdown":"There is no way classRoomListItemsList can be null, since it is created right beforehand. So to me it seems you should remove the dead code path (=&gt; remove the null check).\r\n\r\nAlso, you do realize all this method does is produce an empty ArrayList?","title":"Junit to cover Objects.notnull","body":"<p>There is no way classRoomListItemsList can be null, since it is created right beforehand. So to me it seems you should remove the dead code path (=&gt; remove the null check).</p>\n<p>Also, you do realize all this method does is produce an empty ArrayList?</p>\n"}],"owner":{"account_id":6501139,"reputation":192,"user_id":5031920,"display_name":"Vaibhav Yadav"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":91,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1673272196,"creation_date":1673271545,"question_id":75058104,"body_markdown":"```\r\npublic List&lt;ClassRoomListAdapterModel&gt; getRoomListItems() {\r\nfinal List&lt;ClassRoomListAdapterModel&gt; classRoomListItemsList = new ArrayList&lt;&gt;();\r\nif (Objects.nonNull (classRoomListItemsList)) {\r\nclassRoomListItemsList.addAll\r\n(classRoomListItemsList);\r\n}\r\nreturn classRoomListItemsList;\r\n}\r\n```\r\n\r\n\r\nStuck with junit coverage to cover if conditions Objects.nonNull","title":"Junit to cover Objects.notnull","body":"<pre><code>public List&lt;ClassRoomListAdapterModel&gt; getRoomListItems() {\nfinal List&lt;ClassRoomListAdapterModel&gt; classRoomListItemsList = new ArrayList&lt;&gt;();\nif (Objects.nonNull (classRoomListItemsList)) {\nclassRoomListItemsList.addAll\n(classRoomListItemsList);\n}\nreturn classRoomListItemsList;\n}\n</code></pre>\n<p>Stuck with junit coverage to cover if conditions Objects.nonNull</p>\n"},{"tags":["java","spring","spring-boot","spring-mvc","web-frontend"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":1,"creation_date":1673125761,"post_id":75043751,"comment_id":132429407,"body_markdown":"`src/main/resource` is for resources","body":"<code>src&#47;main&#47;resource</code> is for resources"}],"answers":[{"tags":[],"owner":{"account_id":6066722,"reputation":100,"user_id":4736746,"display_name":"Pratik Prakash"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1673129116,"creation_date":1673129116,"answer_id":75044088,"question_id":75043751,"body_markdown":"`src/main/resource`  or some organised order structure module wie inside `src/main/resource` is good practice and easy to find by IDEs and WARs unpacking / loading paths.","title":"Which Folder do i put my frontend files in Spring boot. Is it Src/main/resource or Src/main","body":"<p><code>src/main/resource</code>  or some organised order structure module wie inside <code>src/main/resource</code> is good practice and easy to find by IDEs and WARs unpacking / loading paths.</p>\n"},{"tags":[],"owner":{"account_id":480617,"reputation":2495,"user_id":893952,"accept_rate":57,"display_name":"Harry Coder"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1673271981,"creation_date":1673156533,"answer_id":75045741,"question_id":75043751,"body_markdown":"You can put it in the `src/main/resource` folder by default. Also you can follow those approachs:\r\n\r\n - Generate a project with [JHipster][1] and see the content.\r\n - Do a research on [github][2] with the key word **&quot;fullstack spring boot&quot;**, you will find many examples and differents types of project organization\r\n - Use [Docker Compose][3] to deploy your **Front End** (on NodeJS) and your **Back End** (as a Spring Boot application) in differents images\r\n\r\n\r\n  [1]: https://www.jhipster.tech/\r\n  [2]: https://github.com/search?q=fullstack%20spring%20boot\r\n  [3]: https://www.callicoder.com/spring-boot-mysql-react-docker-compose-example/","title":"Which Folder do i put my frontend files in Spring boot. Is it Src/main/resource or Src/main","body":"<p>You can put it in the <code>src/main/resource</code> folder by default. Also you can follow those approachs:</p>\n<ul>\n<li>Generate a project with <a href=\"https://www.jhipster.tech/\" rel=\"nofollow noreferrer\">JHipster</a> and see the content.</li>\n<li>Do a research on <a href=\"https://github.com/search?q=fullstack%20spring%20boot\" rel=\"nofollow noreferrer\">github</a> with the key word <strong>&quot;fullstack spring boot&quot;</strong>, you will find many examples and differents types of project organization</li>\n<li>Use <a href=\"https://www.callicoder.com/spring-boot-mysql-react-docker-compose-example/\" rel=\"nofollow noreferrer\">Docker Compose</a> to deploy your <strong>Front End</strong> (on NodeJS) and your <strong>Back End</strong> (as a Spring Boot application) in differents images</li>\n</ul>\n"}],"owner":{"account_id":27207623,"reputation":33,"user_id":20738934,"display_name":"G Route"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":809,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75045741,"answer_count":2,"score":0,"last_activity_date":1673271981,"creation_date":1673125293,"question_id":75043751,"body_markdown":"Im confused on where to put all my Front-end files like HTML and CSS as Well JS and it frontend framekwork stuff like react. Do i put it in the resource folder or the scr/main and create a folder call &quot;webApp&quot; and host all my HTML files there? \r\n\r\nDoes it matter which I use? \r\n","title":"Which Folder do i put my frontend files in Spring boot. Is it Src/main/resource or Src/main","body":"<p>Im confused on where to put all my Front-end files like HTML and CSS as Well JS and it frontend framekwork stuff like react. Do i put it in the resource folder or the scr/main and create a folder call &quot;webApp&quot; and host all my HTML files there?</p>\n<p>Does it matter which I use?</p>\n"},{"tags":["java","spring-boot","hibernate"],"comments":[{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1673264971,"post_id":75056798,"comment_id":132451861,"body_markdown":"You prolly have a relationship to `Country` on the `Person` class and in that relationship you have the ID 0","body":"You prolly have a relationship to <code>Country</code> on the <code>Person</code> class and in that relationship you have the ID 0"}],"answers":[{"tags":[],"owner":{"account_id":8602220,"reputation":161,"user_id":6443385,"display_name":"taichouvik"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673271886,"creation_date":1673271886,"answer_id":75058177,"question_id":75056798,"body_markdown":"You probably did not set ```countryId = 1```, on the new person object which you are trying to persist","title":"Hibernate-Entity Not found exception -Spring batch","body":"<p>You probably did not set <code>countryId = 1</code>, on the new person object which you are trying to persist</p>\n"}],"owner":{"account_id":12793177,"reputation":1,"user_id":9257041,"display_name":"aiswarya murali"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":80,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1673271886,"creation_date":1673264672,"question_id":75056798,"body_markdown":"I have @manytoone relationship from person table to country table on country-id (foreign key)\r\n\r\nIn country table -id &#39;s started from 1.\r\n\r\nHowever while saving data in person table .\r\n\r\nI&#39;m getting an error \r\n\r\nEntityNotFound:unable to find country id 0\r\n\r\nAlso ,there is an error\r\n\r\nHHH000100: Fail-safe cleanup (collections) : org. hibernate. engine. loading. internal. CollectionLoadContext@5da03062&lt;rs-\r\nHikariPro onLoadContext - \r\n\r\nHHH000160: On CollectionLoadContext#cleanup, localLoadingCollectionKeys contained [1] entries\r\n\r\n\r\nWhat will be the possible causes of this.\r\n\r\nThis error occurred in spring batch application \r\n\r\n\r\n1.checked table data --there is no entry in country table with id 0","title":"Hibernate-Entity Not found exception -Spring batch","body":"<p>I have @manytoone relationship from person table to country table on country-id (foreign key)</p>\n<p>In country table -id 's started from 1.</p>\n<p>However while saving data in person table .</p>\n<p>I'm getting an error</p>\n<p>EntityNotFound:unable to find country id 0</p>\n<p>Also ,there is an error</p>\n<p>HHH000100: Fail-safe cleanup (collections) : org. hibernate. engine. loading. internal. CollectionLoadContext@5da03062&lt;rs-\nHikariPro onLoadContext -</p>\n<p>HHH000160: On CollectionLoadContext#cleanup, localLoadingCollectionKeys contained [1] entries</p>\n<p>What will be the possible causes of this.</p>\n<p>This error occurred in spring batch application</p>\n<p>1.checked table data --there is no entry in country table with id 0</p>\n"},{"tags":["java","hibernate","csv","opencsv"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1673262166,"post_id":75056322,"comment_id":132450950,"body_markdown":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer.","body":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer."},{"owner":{"account_id":4688171,"reputation":11056,"user_id":3795036,"accept_rate":88,"display_name":"K.Nicholas"},"score":0,"creation_date":1673270619,"post_id":75056322,"comment_id":132453948,"body_markdown":"When do the headers get added?","body":"When do the headers get added?"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1673272218,"post_id":75056322,"comment_id":132454679,"body_markdown":"Why would you need headers? If you know the structure you know what csv column maps to which db column. You can use Spring Batch with a `FlatFileItemReader` to pump data into the datbase using a `JdbcBatchItemWriter`. You don&#39;t even need an intermediate object but could directly stream into the database. If you don&#39;t want to use Spring Batch you can simple read the file using an inputstream and use a `JdbcTemplate` with a batch update to insert data. I would ditch OpenCsv and just keep it simple.","body":"Why would you need headers? If you know the structure you know what csv column maps to which db column. You can use Spring Batch with a <code>FlatFileItemReader</code> to pump data into the datbase using a <code>JdbcBatchItemWriter</code>. You don&#39;t even need an intermediate object but could directly stream into the database. If you don&#39;t want to use Spring Batch you can simple read the file using an inputstream and use a <code>JdbcTemplate</code> with a batch update to insert data. I would ditch OpenCsv and just keep it simple."}],"answers":[{"tags":[],"owner":{"account_id":17353823,"reputation":67,"user_id":12571723,"display_name":"Talavera316"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673271767,"creation_date":1673271767,"answer_id":75058153,"question_id":75056322,"body_markdown":"Think of it as two separate tasks:\r\n\r\n1.Read the csv file:\r\n\r\nCreate a reader class that transforms lines into entities\r\n\r\nYourEntity createEntity(String[] line)\r\n\r\nUsing the reader process all lines to get a collection of entities corresponding to the csv file\r\n\r\n\r\n2.Save the entity collection in your JPA repository(DB):\r\n\r\n@Repository\r\npublic interface YourRepository extends JpaRepository&lt;YourEntity, UUID&gt;\r\n\r\n yourRepo.saveAll(Iterable&lt;S&gt; entities)","title":"How to load csv file which has no header, data into oracle db using hibernate springboot","body":"<p>Think of it as two separate tasks:</p>\n<p>1.Read the csv file:</p>\n<p>Create a reader class that transforms lines into entities</p>\n<p>YourEntity createEntity(String[] line)</p>\n<p>Using the reader process all lines to get a collection of entities corresponding to the csv file</p>\n<p>2.Save the entity collection in your JPA repository(DB):</p>\n<p>@Repository\npublic interface YourRepository extends JpaRepository&lt;YourEntity, UUID&gt;</p>\n<p>yourRepo.saveAll(Iterable entities)</p>\n"}],"owner":{"account_id":27250622,"reputation":9,"user_id":20775153,"display_name":"VARUN A MENON"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":67,"favorite_count":0,"down_vote_count":3,"up_vote_count":1,"answer_count":1,"score":-2,"last_activity_date":1673271767,"creation_date":1673262035,"question_id":75056322,"body_markdown":"Connecting and giving values were very easy ,but I couldn&#39;t  load the csv data into oracle db\r\n\r\nI was able to connect db and give data into db.\r\n\r\nBut  couldn&#39;t  load csv file  which has no header files","title":"How to load csv file which has no header, data into oracle db using hibernate springboot","body":"<p>Connecting and giving values were very easy ,but I couldn't  load the csv data into oracle db</p>\n<p>I was able to connect db and give data into db.</p>\n<p>But  couldn't  load csv file  which has no header files</p>\n"},{"tags":["javascript","java","xml"],"owner":{"account_id":27477874,"reputation":1,"user_id":20965542,"display_name":"prince"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673271534,"creation_date":1673271534,"question_id":75058101,"body_markdown":"I am running Joost with javascript support.\r\n\r\nJoost explains the usage [here](https://joost.sourceforge.net/#limitations:~:text=%3Cstx%3Atransform%20xmlns%3Astx%3D%22http%3A//stx.sourceforge.net/2002/ns%22%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20xmlns%3Ajoost%3D%22http%3A//joost.sf.net/extension%22%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20xmlns%3Ajs%3D%22urn%3Ajavascript%22%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20version%3D%221.0%22%3E).\r\n\r\nHowever, I am getting below errors\r\n\r\n```\r\n`Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: org/apache/bsf/BSFManager\r\n    at net.sf.joost.stx.function.FunctionFactory.getBSFManager(FunctionFactory.java:279)\r\n    at net.sf.joost.stx.function.FunctionFactory.addScript(FunctionFactory.java:309)\r\n    at net.sf.joost.instruction.ScriptFactory$Instance.compile(ScriptFactory.java:195)\r\n    at net.sf.joost.stx.Parser.endElement(Parser.java:419)\r\n    at com.sun.org.apache.xerces.internal.parsers.AbstractSAXParser.endElement(AbstractSAXParser.java:609)\r\n    at com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl.scanEndElement(XMLDocumentFragmentScannerImpl.java:1781)\r\n    at com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl$FragmentContentDriver.next(XMLDocumentFragmentScannerImpl.java:2966)\r\n\r\n```\r\n**CausedBy**\r\n\r\n```\r\nCaused by: java.lang.ClassNotFoundException: org.apache.bsf.BSFManager\r\n    at java.net.URLClassLoader.findClass(URLClassLoader.java:387)\r\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:418)\r\n    at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:352)\r\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:351)\r\n\r\n\r\n```\r\n\r\n\t\r\n\r\nI have added the below jars in classpath with command\r\n\r\n```\r\nexport CLASSPATH=${CLASSPATH}:bsf-all-3.1.jar \r\nexport CLASSPATH=${CLASSPATH}:rhino-script-engine-1.1.1.jar \r\nexport CLASSPATH=${CLASSPATH}:rhino-1.7R5.jar `\r\n```","title":"Joost with javascript support","body":"<p>I am running Joost with javascript support.</p>\n<p>Joost explains the usage <a href=\"https://joost.sourceforge.net/#limitations:%7E:text=%3Cstx%3Atransform%20xmlns%3Astx%3D%22http%3A//stx.sourceforge.net/2002/ns%22%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20xmlns%3Ajoost%3D%22http%3A//joost.sf.net/extension%22%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20xmlns%3Ajs%3D%22urn%3Ajavascript%22%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20version%3D%221.0%22%3E\" rel=\"nofollow noreferrer\">here</a>.</p>\n<p>However, I am getting below errors</p>\n<pre><code>`Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: org/apache/bsf/BSFManager\n    at net.sf.joost.stx.function.FunctionFactory.getBSFManager(FunctionFactory.java:279)\n    at net.sf.joost.stx.function.FunctionFactory.addScript(FunctionFactory.java:309)\n    at net.sf.joost.instruction.ScriptFactory$Instance.compile(ScriptFactory.java:195)\n    at net.sf.joost.stx.Parser.endElement(Parser.java:419)\n    at com.sun.org.apache.xerces.internal.parsers.AbstractSAXParser.endElement(AbstractSAXParser.java:609)\n    at com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl.scanEndElement(XMLDocumentFragmentScannerImpl.java:1781)\n    at com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl$FragmentContentDriver.next(XMLDocumentFragmentScannerImpl.java:2966)\n\n</code></pre>\n<p><strong>CausedBy</strong></p>\n<pre><code>Caused by: java.lang.ClassNotFoundException: org.apache.bsf.BSFManager\n    at java.net.URLClassLoader.findClass(URLClassLoader.java:387)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:418)\n    at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:352)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:351)\n\n\n</code></pre>\n<p>I have added the below jars in classpath with command</p>\n<pre><code>export CLASSPATH=${CLASSPATH}:bsf-all-3.1.jar \nexport CLASSPATH=${CLASSPATH}:rhino-script-engine-1.1.1.jar \nexport CLASSPATH=${CLASSPATH}:rhino-1.7R5.jar `\n</code></pre>\n"},{"tags":["java","arrays","sparse-matrix"],"comments":[{"owner":{"account_id":36137,"reputation":178799,"user_id":102937,"accept_rate":90,"display_name":"Robert Harvey"},"score":1,"creation_date":1672595936,"post_id":74976391,"comment_id":132310786,"body_markdown":"The third option is to use linked lists.  The fourth option is to use a Row-Column-Value array. \n See https://www.geeksforgeeks.org/what-is-meant-by-sparse-array/","body":"The third option is to use linked lists.  The fourth option is to use a Row-Column-Value array.   See <a href=\"https://www.geeksforgeeks.org/what-is-meant-by-sparse-array/\" rel=\"nofollow noreferrer\">geeksforgeeks.org/what-is-meant-by-sparse-array</a>"},{"owner":{"account_id":36137,"reputation":178799,"user_id":102937,"accept_rate":90,"display_name":"Robert Harvey"},"score":2,"creation_date":1672596111,"post_id":74976391,"comment_id":132310824,"body_markdown":"Note that the source code for the  Android `SparseArray` class is [available online](https://android.googlesource.com/platform/frameworks/base/+/master/core/java/android/util/SparseArray.java), under an Apache license.","body":"Note that the source code for the  Android <code>SparseArray</code> class is <a href=\"https://android.googlesource.com/platform/frameworks/base/+/master/core/java/android/util/SparseArray.java\" rel=\"nofollow noreferrer\">available online</a>, under an Apache license."},{"owner":{"account_id":25276572,"reputation":379,"user_id":19370273,"display_name":"Leaderboard"},"score":0,"creation_date":1672596294,"post_id":74976391,"comment_id":132310856,"body_markdown":"@RobertHarvey \n\nThe problem with a linked list (which I considered) is that lookups by index won&#39;t work (without a manual iteration), which is difficult. \n\nA &quot;Row-Value&quot; array won&#39;t work either, as that simply reduces to a hashmap (with row as the key) from an implementation point of view (or alternatively something like the `Pair` class).\n\nIt should be noted that my array is one-dimensional. If I have misunderstood you, please clarify.","body":"@RobertHarvey   The problem with a linked list (which I considered) is that lookups by index won&#39;t work (without a manual iteration), which is difficult.   A &quot;Row-Value&quot; array won&#39;t work either, as that simply reduces to a hashmap (with row as the key) from an implementation point of view (or alternatively something like the <code>Pair</code> class).  It should be noted that my array is one-dimensional. If I have misunderstood you, please clarify."},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1672596456,"post_id":74976391,"comment_id":132310890,"body_markdown":"We could use a `Map&lt;Integer, Integer&gt;` to simulate a sparse array. This could be extended for matrices, e.g. by using a `Map&lt;Pair&lt;Integer, Integer&gt;, Integer&gt;` with `public record Pair&lt;T, U&gt;(T first, U second)`.","body":"We could use a <code>Map&lt;Integer, Integer&gt;</code> to simulate a sparse array. This could be extended for matrices, e.g. by using a <code>Map&lt;Pair&lt;Integer, Integer&gt;, Integer&gt;</code> with <code>public record Pair&lt;T, U&gt;(T first, U second)</code>."},{"owner":{"account_id":25276572,"reputation":379,"user_id":19370273,"display_name":"Leaderboard"},"score":0,"creation_date":1672596555,"post_id":74976391,"comment_id":132310913,"body_markdown":"@Turing85 That is my current approach, but it appears to have a significant penalty in memory usage from my understanding (due to its relative complexity - see https://stackoverflow.com/questions/25560629/sparsearray-vs-hashmap for an example). In this case, I have to optimise memory usage as much as possible; if the array was relatively full, I would have gone with a primitive array.","body":"@Turing85 That is my current approach, but it appears to have a significant penalty in memory usage from my understanding (due to its relative complexity - see <a href=\"https://stackoverflow.com/questions/25560629/sparsearray-vs-hashmap\" title=\"sparsearray vs hashmap\">stackoverflow.com/questions/25560629/sparsearray-vs-hashmap</a> for an example). In this case, I have to optimise memory usage as much as possible; if the array was relatively full, I would have gone with a primitive array."},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":1,"creation_date":1672596791,"post_id":74976391,"comment_id":132310969,"body_markdown":"How did you confirm your suggestion that the `Map` is the root cause for the memory consumption? What limitations wrt. memory do you have?","body":"How did you confirm your suggestion that the <code>Map</code> is the root cause for the memory consumption? What limitations wrt. memory do you have?"},{"owner":{"account_id":25276572,"reputation":379,"user_id":19370273,"display_name":"Leaderboard"},"score":0,"creation_date":1672596900,"post_id":74976391,"comment_id":132310989,"body_markdown":"@Turing85 My program is a bunch of hashmaps chained together (https://github.com/Leader-board/Wikimedia-statistics/blob/main/Global%20user%20table%20generator/Main.java). As it currently stands, this takes up almost 100 GB of RAM. I want to change the nested hashmap into one with a sparse array as its value.","body":"@Turing85 My program is a bunch of hashmaps chained together (<a href=\"https://github.com/Leader-board/Wikimedia-statistics/blob/main/Global%20user%20table%20generator/Main.java\" rel=\"nofollow noreferrer\">github.com/Leader-board/Wikimedia-statistics/blob/main/&hellip;</a>). As it currently stands, this takes up almost 100 GB of RAM. I want to change the nested hashmap into one with a sparse array as its value."},{"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1672597166,"post_id":74976391,"comment_id":132311035,"body_markdown":"So you&#39;re okay with your arrays not being able to store `0`? Or how else do you want to distinguish between present and not-present? Note that using reference types such as `Integer` to store null will require even more memory (4 bytes for the number and even more bytes for the reference)","body":"So you&#39;re okay with your arrays not being able to store <code>0</code>? Or how else do you want to distinguish between present and not-present? Note that using reference types such as <code>Integer</code> to store null will require even more memory (4 bytes for the number and even more bytes for the reference)"},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1672597209,"post_id":74976391,"comment_id":132311043,"body_markdown":"And which parts **do** actually consume that memory? Have analyzed the memory consumption at runtime, e.g. through VisualVM?","body":"And which parts <b>do</b> actually consume that memory? Have analyzed the memory consumption at runtime, e.g. through VisualVM?"},{"owner":{"account_id":25276572,"reputation":379,"user_id":19370273,"display_name":"Leaderboard"},"score":0,"creation_date":1672597218,"post_id":74976391,"comment_id":132311045,"body_markdown":"&quot;So you&#39;re okay with your arrays not being able to store 0?&quot; - That is fine by me; in other words, it&#39;s fine to treat 0 as &quot;not-present&quot;.","body":"&quot;So you&#39;re okay with your arrays not being able to store 0?&quot; - That is fine by me; in other words, it&#39;s fine to treat 0 as &quot;not-present&quot;."},{"owner":{"account_id":25276572,"reputation":379,"user_id":19370273,"display_name":"Leaderboard"},"score":0,"creation_date":1672597282,"post_id":74976391,"comment_id":132311053,"body_markdown":"&gt; And which parts do actually consume that memory? \n\nIt&#39;s the hashmaps - I haven&#39;t used VisualVM, but can consider running it if it helps. I do monitor the memory usage when running the program.","body":"&gt; And which parts do actually consume that memory?   It&#39;s the hashmaps - I haven&#39;t used VisualVM, but can consider running it if it helps. I do monitor the memory usage when running the program."},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1672597380,"post_id":74976391,"comment_id":132311072,"body_markdown":"Yes, it would help. In particular, it would help to know which `Map` consumes the most memory, and why. For further analysis, however, we would most probably also need a description on what the program actually does.","body":"Yes, it would help. In particular, it would help to know which <code>Map</code> consumes the most memory, and why. For further analysis, however, we would most probably also need a description on what the program actually does."},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1672597659,"post_id":74976391,"comment_id":132311123,"body_markdown":"From what I can see, it seems that there might be a bunch of non-closed `Stream`s. I am not sure whether `System.setOut(...)` closes the current `System.out`-stream.","body":"From what I can see, it seems that there might be a bunch of non-closed <code>Stream</code>s. I am not sure whether <code>System.setOut(...)</code> closes the current <code>System.out</code>-stream."},{"owner":{"account_id":25276572,"reputation":379,"user_id":19370273,"display_name":"Leaderboard"},"score":0,"creation_date":1672597841,"post_id":74976391,"comment_id":132311150,"body_markdown":"@Turing85\n\n* It isn&#39;t `System.setOut`; that phase kicks in only after importing. The majority of RAM is used up in the importing stage. Additionally, I changed it to buffered writes, with the same result.\n* I am reasonably sure that it&#39;s the nested hashmap `static HashMap&lt;String, HashMap&lt;String, Integer&gt;&gt; users = new HashMap&lt;&gt;(); ` that is most intensive in memory. This can be shown by the fact that `analyser()` does not increase memory usage substantially despite it having a treemap of its own. I need to run a profiler though to fully answer your previous question.","body":"@Turing85  * It isn&#39;t <code>System.setOut</code>; that phase kicks in only after importing. The majority of RAM is used up in the importing stage. Additionally, I changed it to buffered writes, with the same result. * I am reasonably sure that it&#39;s the nested hashmap <code>static HashMap&lt;String, HashMap&lt;String, Integer&gt;&gt; users = new HashMap&lt;&gt;(); </code> that is most intensive in memory. This can be shown by the fact that <code>analyser()</code> does not increase memory usage substantially despite it having a treemap of its own. I need to run a profiler though to fully answer your previous question."},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1672598316,"post_id":74976391,"comment_id":132311242,"body_markdown":"is replacing the inner map with an, for example, `public record WikiEditCount(String wikiName, int edits){}` an option? This would mean to change `Map&lt;String, Map&lt;String, Integer&gt;&gt; users` to a `Map&lt;String, Set&lt;WikiEditCount&gt;&gt; users`.","body":"is replacing the inner map with an, for example, <code>public record WikiEditCount(String wikiName, int edits){}</code> an option? This would mean to change <code>Map&lt;String, Map&lt;String, Integer&gt;&gt; users</code> to a <code>Map&lt;String, Set&lt;WikiEditCount&gt;&gt; users</code>."},{"owner":{"account_id":25276572,"reputation":379,"user_id":19370273,"display_name":"Leaderboard"},"score":0,"creation_date":1672598410,"post_id":74976391,"comment_id":132311260,"body_markdown":"@Turing85 Would that not potentially increase the memory usage instead, plus require `WikiEditCount` to be hashable anyway? I could be mistaken there though.","body":"@Turing85 Would that not potentially increase the memory usage instead, plus require <code>WikiEditCount</code> to be hashable anyway? I could be mistaken there though."},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1672598565,"post_id":74976391,"comment_id":132311279,"body_markdown":"It is defined as a record, thus is it is implicitly hashable. My gut instinct tells me that the overhead of a `Set` of records is lower than the overhead of a `Map`. But to be sure, we&#39;d need to run some tests... If you can provide me a test data set of relevant size, I can take a look.","body":"It is defined as a record, thus is it is implicitly hashable. My gut instinct tells me that the overhead of a <code>Set</code> of records is lower than the overhead of a <code>Map</code>. But to be sure, we&#39;d need to run some tests... If you can provide me a test data set of relevant size, I can take a look."},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":2,"creation_date":1672673434,"post_id":74976391,"comment_id":132324683,"body_markdown":"&quot;Options like linked lists or an arraylist (of Pairs for instance) won&#39;t work since lookups are difficult that way.&quot; .   Creating software sometimes uses the art of compromise. You might have to sacrifice some desirable characteristic at the expense of improving some other characteristic.  A sparse array is used to reduce memory requirements at the expense of some reduction in the time needed to access an element.","body":"&quot;Options like linked lists or an arraylist (of Pairs for instance) won&#39;t work since lookups are difficult that way.&quot; .   Creating software sometimes uses the art of compromise. You might have to sacrifice some desirable characteristic at the expense of improving some other characteristic.  A sparse array is used to reduce memory requirements at the expense of some reduction in the time needed to access an element."},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1673232517,"post_id":74976391,"comment_id":132444839,"body_markdown":"If you are asking if there is a sparse array data structure that has O(1) get and set operations and also has low space overheads ... there isn&#39;t one.  You need to compromise on some of the requirements.","body":"If you are asking if there is a sparse array data structure that has O(1) get and set operations and also has low space overheads ... there isn&#39;t one.  You need to compromise on some of the requirements."},{"owner":{"account_id":25276572,"reputation":379,"user_id":19370273,"display_name":"Leaderboard"},"score":0,"creation_date":1673271426,"post_id":74976391,"comment_id":132454324,"body_markdown":"@StephenC _Some_ compromise is indeed fine to me. For example, amortised O(1) (as the accepted answer does) or O(log n) are both OK. I was simply looking for the best option.","body":"@StephenC <i>Some</i> compromise is indeed fine to me. For example, amortised O(1) (as the accepted answer does) or O(log n) are both OK. I was simply looking for the best option."}],"answers":[{"comments":[{"owner":{"account_id":25276572,"reputation":379,"user_id":19370273,"display_name":"Leaderboard"},"score":0,"creation_date":1672598189,"post_id":74976583,"comment_id":132311212,"body_markdown":"* How large are your collections? The keys can have up to 71 million rows with up to 950 elements as its value for each key (i.e, the `users` hashmap). It&#39;s that &quot;up to 950 elements&quot; that I want to replace with a sparse array. I am aware that memory usage will still be high, but believe that it can be significantly lowered from the current ~100 GB, and hence my idea of a sparse array. \n* While I don&#39;t think GNU Trove answers my question, it could be useful and I&#39;ll need to look into it further.","body":"* How large are your collections? The keys can have up to 71 million rows with up to 950 elements as its value for each key (i.e, the <code>users</code> hashmap). It&#39;s that &quot;up to 950 elements&quot; that I want to replace with a sparse array. I am aware that memory usage will still be high, but believe that it can be significantly lowered from the current ~100 GB, and hence my idea of a sparse array.  * While I don&#39;t think GNU Trove answers my question, it could be useful and I&#39;ll need to look into it further."},{"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1672598662,"post_id":74976583,"comment_id":132311297,"body_markdown":"@Leaderboard GNU trove would allow you to use a HashMap without the overhead of reference-types. Why do you need to index though? How will you know which indices exist?","body":"@Leaderboard GNU trove would allow you to use a HashMap without the overhead of reference-types. Why do you need to index though? How will you know which indices exist?"},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":2,"creation_date":1672598783,"post_id":74976583,"comment_id":132311318,"body_markdown":"71 million rows?! You mean `users.size()` returns 71 million?!","body":"71 million rows?! You mean <code>users.size()</code> returns 71 million?!"},{"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":1,"creation_date":1672598919,"post_id":74976583,"comment_id":132311340,"body_markdown":"Another question: why do you need to keep everything in memory?","body":"Another question: why do you need to keep everything in memory?"},{"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"score":1,"creation_date":1672600300,"post_id":74976583,"comment_id":132311597,"body_markdown":"*This is because I want to optimise memory as much as possible (as most of the elements in the array would be 0/empty)*.  Just curious..  With 950 items per row, how many cells in the rows would actually have a non-zero value?  Would there be sufficiently few to justify the overhead of an alternative data structure like a map?  Even a homegrown map with minimal overhead?","body":"<i>This is because I want to optimise memory as much as possible (as most of the elements in the array would be 0/empty)</i>.  Just curious..  With 950 items per row, how many cells in the rows would actually have a non-zero value?  Would there be sufficiently few to justify the overhead of an alternative data structure like a map?  Even a homegrown map with minimal overhead?"},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1672625626,"post_id":74976583,"comment_id":132315150,"body_markdown":"You want a class that can emulate a 2D array with 67.45 billion elements?","body":"You want a class that can emulate a 2D array with 67.45 billion elements?"},{"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":1,"creation_date":1672676225,"post_id":74976583,"comment_id":132325458,"body_markdown":"@Leaderboard please keep in mind that using _boxed primitives_ adds significant memory overhead (12 bytes per integer, 16 bytes per long). I have extended my answer to make this clear.","body":"@Leaderboard please keep in mind that using <i>boxed primitives</i> adds significant memory overhead (12 bytes per integer, 16 bytes per long). I have extended my answer to make this clear."},{"owner":{"account_id":25276572,"reputation":379,"user_id":19370273,"display_name":"Leaderboard"},"score":0,"creation_date":1673181084,"post_id":74976583,"comment_id":132436043,"body_markdown":"I tried GNU Trove, and (combined with some other optimisations I did) reduced the memory usage to ~23 GB, which is much more reasonable. So in that way, your suggestion did work, and also answered my question (since this means that GNU Trove is close enough to a sparse array). \n@Turing85:Yes\nWJS: The majority of the cells would be zero. \nOldDogProgrammer: No. I was simply looking for a sparse array data structure equivalent, which knittl answered for me.","body":"I tried GNU Trove, and (combined with some other optimisations I did) reduced the memory usage to ~23 GB, which is much more reasonable. So in that way, your suggestion did work, and also answered my question (since this means that GNU Trove is close enough to a sparse array).  @Turing85:Yes WJS: The majority of the cells would be zero.  OldDogProgrammer: No. I was simply looking for a sparse array data structure equivalent, which knittl answered for me."},{"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1673272728,"post_id":74976583,"comment_id":132454841,"body_markdown":"100GB→23GB. Wow, that&#39;s a 77% reduction, or &#190;!","body":"100GB→23GB. Wow, that&#39;s a 77% reduction, or &#190;!"}],"tags":[],"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"comment_count":9,"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1672676302,"creation_date":1672597733,"answer_id":74976583,"question_id":74976391,"body_markdown":"How large are your collections? Do note that `Integer` (boxed reference type) adds significant memory overhead. Standard Java collection types (`Map`, `List`) only support reference types.\r\n\r\nWhat does _significant_ mean? An `int` takes 4 bytes of memory, a `long` takes 8 bytes. Compare that to an `Integer` (16 bytes) or a `Long` (24 bytes). Reference: https://stackoverflow.com/questions/9037468/what-is-the-storage-cost-for-a-boxed-primitive-in-java\r\n\r\n[GNU Trove](https://trove4j.sourceforge.net/html/overview.html) implements most collections with primitive types, which increases cache locality and decreases memory consumption. Perhaps this will work for you.","title":"Sparse integer array in Java","body":"<p>How large are your collections? Do note that <code>Integer</code> (boxed reference type) adds significant memory overhead. Standard Java collection types (<code>Map</code>, <code>List</code>) only support reference types.</p>\n<p>What does <em>significant</em> mean? An <code>int</code> takes 4 bytes of memory, a <code>long</code> takes 8 bytes. Compare that to an <code>Integer</code> (16 bytes) or a <code>Long</code> (24 bytes). Reference: <a href=\"https://stackoverflow.com/questions/9037468/what-is-the-storage-cost-for-a-boxed-primitive-in-java\">What is the storage cost for a boxed primitive in Java?</a></p>\n<p><a href=\"https://trove4j.sourceforge.net/html/overview.html\" rel=\"nofollow noreferrer\">GNU Trove</a> implements most collections with primitive types, which increases cache locality and decreases memory consumption. Perhaps this will work for you.</p>\n"}],"owner":{"account_id":25276572,"reputation":379,"user_id":19370273,"display_name":"Leaderboard"},"comment_count":20,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":238,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"accepted_answer_id":74976583,"answer_count":1,"score":3,"last_activity_date":1673271482,"creation_date":1672595813,"question_id":74976391,"body_markdown":"As the title says, is there a way for me to have a sparse int array in Java? Something like `int[]` or `Integer[]`, but each element in the array should not take up space until it is actually written to with a non-zero value. This is because I want to optimise memory as much as possible (as most of the elements in the array would be 0/empty), yet have the option to look up by index, as with a standard array. I&#39;ve considered the below options before asking this question:\r\n\r\n- I am aware of options such as https://developer.android.com/reference/android/util/SparseIntArray. The problem is that they seem to be Android-specific, and I could not find a desktop equivalent.\r\n- My understanding is that `int[]` and `Integer[]` are not sparse arrays; even if I were to keep the elements of an `Integer` array as `null`, it would still take up space, which wouldn&#39;t work for me.\r\n- The other option is to use hashmaps. While that works, it does take up non-insignificant amount of space (which is an issue in this particular case). \r\n- Options like linked lists or an arraylist (of `Pairs` for instance) won&#39;t work since lookups are difficult that way.","title":"Sparse integer array in Java","body":"<p>As the title says, is there a way for me to have a sparse int array in Java? Something like <code>int[]</code> or <code>Integer[]</code>, but each element in the array should not take up space until it is actually written to with a non-zero value. This is because I want to optimise memory as much as possible (as most of the elements in the array would be 0/empty), yet have the option to look up by index, as with a standard array. I've considered the below options before asking this question:</p>\n<ul>\n<li>I am aware of options such as <a href=\"https://developer.android.com/reference/android/util/SparseIntArray\" rel=\"nofollow noreferrer\">https://developer.android.com/reference/android/util/SparseIntArray</a>. The problem is that they seem to be Android-specific, and I could not find a desktop equivalent.</li>\n<li>My understanding is that <code>int[]</code> and <code>Integer[]</code> are not sparse arrays; even if I were to keep the elements of an <code>Integer</code> array as <code>null</code>, it would still take up space, which wouldn't work for me.</li>\n<li>The other option is to use hashmaps. While that works, it does take up non-insignificant amount of space (which is an issue in this particular case).</li>\n<li>Options like linked lists or an arraylist (of <code>Pairs</code> for instance) won't work since lookups are difficult that way.</li>\n</ul>\n"},{"tags":["java","csv","gson"],"comments":[{"owner":{"account_id":2818342,"reputation":299906,"user_id":2422776,"display_name":"Mureinik"},"score":2,"creation_date":1673029748,"post_id":75034826,"comment_id":132413315,"body_markdown":"Help us help you - share your attempt and indicate the exact problem you&#39;re having with it","body":"Help us help you - share your attempt and indicate the exact problem you&#39;re having with it"},{"owner":{"account_id":17061535,"reputation":156,"user_id":12344841,"display_name":"Vadim Hagedorn"},"score":0,"creation_date":1673045119,"post_id":75034826,"comment_id":132417257,"body_markdown":"`JsonObject object = gson.newBuilder().create().fromJson(data, \nJsonObject.class);` this doesn&#39;t look right. If you&#39;re trying to parse JSON use `JsonParser.parseReader(inputStreamReader)`. Your `createCsvFile` method returns the filename... you should probably declare it as `String` explicitly.","body":"<code>JsonObject object = gson.newBuilder().create().fromJson(data,  JsonObject.class);</code> this doesn&#39;t look right. If you&#39;re trying to parse JSON use <code>JsonParser.parseReader(inputStreamReader)</code>. Your <code>createCsvFile</code> method returns the filename... you should probably declare it as <code>String</code> explicitly."}],"answers":[{"tags":[],"owner":{"account_id":11723239,"reputation":37,"user_id":8581504,"display_name":"Mateus Bodanese"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1673271148,"creation_date":1673271148,"answer_id":75058037,"question_id":75034826,"body_markdown":"Resolved.\r\n\r\n\r\nThe solution was as follows:\r\n\r\n    var header = array.get(0).getAsJsonObject().keySet();\r\n        for (int j = 0; j &lt; header.size(); j++) {\r\n            for (Object cab : header) {\r\n                rowhead.createCell(j).setCellValue(cab.toString());\r\n                j++;\r\n            }\r\n        }\r\n\r\n        int l = 1;\r\n        for (int i = 1; i &lt; array.size(); i++) {\r\n\r\n            for (Object aray : array){\r\n                HSSFRow row = sheet.createRow((short) l);\r\n                JsonObject values = array.get(i).getAsJsonObject();\r\n                Set&lt;String&gt; keys = values.keySet();\r\n                int c = 0;\r\n                for (String key: keys) {\r\n                    row.createCell(c).setCellValue(values.get(key).toString());\r\n                    c++;\r\n                }\r\n            }\r\n            l++;\r\n        }\r\n\r\nTo access a value in GSON it is necessary to access the KEY, in this way you can obtain the value of the object,","title":"How to return a csv in java using Gson?","body":"<p>Resolved.</p>\n<p>The solution was as follows:</p>\n<pre><code>var header = array.get(0).getAsJsonObject().keySet();\n    for (int j = 0; j &lt; header.size(); j++) {\n        for (Object cab : header) {\n            rowhead.createCell(j).setCellValue(cab.toString());\n            j++;\n        }\n    }\n\n    int l = 1;\n    for (int i = 1; i &lt; array.size(); i++) {\n\n        for (Object aray : array){\n            HSSFRow row = sheet.createRow((short) l);\n            JsonObject values = array.get(i).getAsJsonObject();\n            Set&lt;String&gt; keys = values.keySet();\n            int c = 0;\n            for (String key: keys) {\n                row.createCell(c).setCellValue(values.get(key).toString());\n                c++;\n            }\n        }\n        l++;\n    }\n</code></pre>\n<p>To access a value in GSON it is necessary to access the KEY, in this way you can obtain the value of the object,</p>\n"}],"owner":{"account_id":11723239,"reputation":37,"user_id":8581504,"display_name":"Mateus Bodanese"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":126,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75058037,"answer_count":1,"score":0,"last_activity_date":1673271148,"creation_date":1673029674,"question_id":75034826,"body_markdown":"I need to create a function that will read a JsonArray(gson) and transform it into CSV.\r\n\r\n\r\n\r\nI tried using openCSV, but I couldn&#39;t, OpenCSV already expects a list to create the csv and I couldn&#39;t convert the JsonArray to a list.\r\n\r\nMy Codes;\r\n\r\n   \r\n    public Report buildCsv2(@NonNull Report.Type type,\r\n                           @NonNull String ev_json_in,\r\n                           @NonNull String titulo) throws IOException \r\n    {;\r\n        StringBuffer dados = repository.getJson(ev_json_in);\r\n        var data = dados.toString();\r\n\r\n        Gson gson = new Gson();\r\n        JsonObject object = gson.newBuilder().create().fromJson(data, \r\n    JsonObject.class);\r\n        JsonArray array = object.getAsJsonArray(titulo);\r\n\r\n        return Report.builder()\r\n                .body(CsvHelper.createCsvFile(array))\r\n                .type(type.getMediaType())\r\n                .filename(titulo)\r\n                .build();\r\n    }\r\n\r\n\r\n       public static Object createCsvFile(JsonArray array) {\r\n        File file = new File(&quot;csv.csv&quot;);\r\n\r\n        try {\r\n            FileWriter outputfile = new FileWriter(file);\r\n            CSVWriter writer = new CSVWriter(outputfile);\r\n            List data = array.asList();\r\n\r\n            writer.writeAll(data);\r\n            writer.close();\r\n        }\r\n        catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n        return file.getName();\r\n    }\r\n\r\nThe error :\r\n\r\n    &lt;message&gt;class com.google.gson.JsonObject cannot be cast to class [Ljava.lang.String; (com.google.gson.JsonObject is in unnamed module of loader &#39;app&#39;; [Ljava.lang.String; is in module java.base of loader &#39;bootstrap&#39;)&lt;/message&gt;\r\n\r\nthanks in advance","title":"How to return a csv in java using Gson?","body":"<p>I need to create a function that will read a JsonArray(gson) and transform it into CSV.</p>\n<p>I tried using openCSV, but I couldn't, OpenCSV already expects a list to create the csv and I couldn't convert the JsonArray to a list.</p>\n<p>My Codes;</p>\n<pre><code>public Report buildCsv2(@NonNull Report.Type type,\n                       @NonNull String ev_json_in,\n                       @NonNull String titulo) throws IOException \n{;\n    StringBuffer dados = repository.getJson(ev_json_in);\n    var data = dados.toString();\n\n    Gson gson = new Gson();\n    JsonObject object = gson.newBuilder().create().fromJson(data, \nJsonObject.class);\n    JsonArray array = object.getAsJsonArray(titulo);\n\n    return Report.builder()\n            .body(CsvHelper.createCsvFile(array))\n            .type(type.getMediaType())\n            .filename(titulo)\n            .build();\n}\n\n\n   public static Object createCsvFile(JsonArray array) {\n    File file = new File(&quot;csv.csv&quot;);\n\n    try {\n        FileWriter outputfile = new FileWriter(file);\n        CSVWriter writer = new CSVWriter(outputfile);\n        List data = array.asList();\n\n        writer.writeAll(data);\n        writer.close();\n    }\n    catch (IOException e) {\n        e.printStackTrace();\n    }\n    return file.getName();\n}\n</code></pre>\n<p>The error :</p>\n<pre><code>&lt;message&gt;class com.google.gson.JsonObject cannot be cast to class [Ljava.lang.String; (com.google.gson.JsonObject is in unnamed module of loader 'app'; [Ljava.lang.String; is in module java.base of loader 'bootstrap')&lt;/message&gt;\n</code></pre>\n<p>thanks in advance</p>\n"},{"tags":["java","apache-camel"],"answers":[{"comments":[{"owner":{"account_id":27609,"reputation":1815,"user_id":73010,"accept_rate":68,"display_name":"FrEaKmAn"},"score":0,"creation_date":1498775810,"post_id":44823211,"comment_id":76652585,"body_markdown":"One small question. Once I enable unitOfWork to true, it seems that all exchange share same properties... is this true?","body":"One small question. Once I enable unitOfWork to true, it seems that all exchange share same properties... is this true?"}],"tags":[],"owner":{"account_id":176018,"reputation":56316,"user_id":406429,"display_name":"Claus Ibsen"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1498733736,"creation_date":1498733736,"answer_id":44823211,"question_id":44813151,"body_markdown":"You can set `shareUnitOfWork` to true in your content-enricher&#39;s so they work together in the same unit of work. See more details in the documentation: http://camel.apache.org/content-enricher.html","title":"Propagate exception to enriching routes","body":"<p>You can set <code>shareUnitOfWork</code> to true in your content-enricher's so they work together in the same unit of work. See more details in the documentation: <a href=\"http://camel.apache.org/content-enricher.html\" rel=\"nofollow noreferrer\">http://camel.apache.org/content-enricher.html</a></p>\n"}],"owner":{"account_id":27609,"reputation":1815,"user_id":73010,"accept_rate":68,"display_name":"FrEaKmAn"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":294,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":44823211,"answer_count":1,"score":3,"last_activity_date":1673271088,"creation_date":1498686876,"question_id":44813151,"body_markdown":"I have 3 routes: \r\n\r\n- `route-file1` which reads `file1.csv` and converts to array \r\n- `route-file2` which reads `file2.csv` and converts to array \r\n- `route-final` which uses enrich of both routes (with custom aggregator to merge arrays) and do something \r\n\r\nProblem is if `route-file1` succeeds, but `route-file2` or any other routes fail. `route-file1` already completed and moved `file1.csv` to `.done` folder, so I cannot rerun everything again. \r\n\r\nIs there a way that when `route-final` fails, it propagates exception to other routes used in enrich? I tried using transaction which works fine with stopping the route execution, but does not propagate exception to the `route-fileX` routes. Is this possible with the camel?\r\n\r\n","title":"Propagate exception to enriching routes","body":"<p>I have 3 routes:</p>\n<ul>\n<li><code>route-file1</code> which reads <code>file1.csv</code> and converts to array</li>\n<li><code>route-file2</code> which reads <code>file2.csv</code> and converts to array</li>\n<li><code>route-final</code> which uses enrich of both routes (with custom aggregator to merge arrays) and do something</li>\n</ul>\n<p>Problem is if <code>route-file1</code> succeeds, but <code>route-file2</code> or any other routes fail. <code>route-file1</code> already completed and moved <code>file1.csv</code> to <code>.done</code> folder, so I cannot rerun everything again.</p>\n<p>Is there a way that when <code>route-final</code> fails, it propagates exception to other routes used in enrich? I tried using transaction which works fine with stopping the route execution, but does not propagate exception to the <code>route-fileX</code> routes. Is this possible with the camel?</p>\n"},{"tags":["java","android","layout"],"comments":[{"owner":{"account_id":1021726,"reputation":4542,"user_id":1031888,"accept_rate":90,"display_name":"Rafi Kamal"},"score":0,"creation_date":1400425119,"post_id":23722762,"comment_id":36462953,"body_markdown":"Please paste the xml code of the layout","body":"Please paste the xml code of the layout"}],"answers":[{"comments":[{"owner":{"account_id":2311540,"reputation":13103,"user_id":2029566,"accept_rate":100,"display_name":"Emmanuel"},"score":0,"creation_date":1400422484,"post_id":23722811,"comment_id":36462072,"body_markdown":"He wants to toggle the layout&#39;s visibility. This will only set it to visible every time the `Button` is clicked.","body":"He wants to toggle the layout&#39;s visibility. This will only set it to visible every time the <code>Button</code> is clicked."},{"owner":{"account_id":4451874,"reputation":1622,"user_id":3623485,"accept_rate":89,"display_name":"Lampione"},"score":0,"creation_date":1400422637,"post_id":23722811,"comment_id":36462122,"body_markdown":"Thank for the answer :) however.. I&#39;m trying to set a Layout visibility, not a textview. That&#39;s my problem, I don&#39;t know how to programm the layout definition line in Java","body":"Thank for the answer :) however.. I&#39;m trying to set a Layout visibility, not a textview. That&#39;s my problem, I don&#39;t know how to programm the layout definition line in Java"},{"owner":{"account_id":3375606,"reputation":10150,"user_id":2833783,"accept_rate":56,"display_name":"Illegal Argument"},"score":0,"creation_date":1400422725,"post_id":23722811,"comment_id":36462149,"body_markdown":"just replace your view with the textview any thing that inherits from view is going to be toggled","body":"just replace your view with the textview any thing that inherits from view is going to be toggled"}],"tags":[],"owner":{"account_id":3375606,"reputation":10150,"user_id":2833783,"accept_rate":56,"display_name":"Illegal Argument"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1476369022,"creation_date":1400422192,"answer_id":23722811,"question_id":23722762,"body_markdown":"Try this:\r\n     \r\n    int counter = 0;\r\n        TextVeiw tv = (TextView) findViewById(R.id.textView);\r\n    Button button = (Button ) findViewById(R.id.but);\r\n    button.setOnClickListener(new OnClickListener() {\r\n\r\n    public void onClick(View v) {\r\n        // TODO Auto-generated method stub\r\n        counter++;\r\n        if(counter%2==0){\r\n            tv.setVisibility(View.Visible);//show\r\n        } else {\r\n            tv.setVisibility(View.Gone);//hide\r\n        }\r\n    }\r\n    });","title":"Toggle visibility of a layout on onClick","body":"<p>Try this:</p>\n\n<pre><code>int counter = 0;\n    TextVeiw tv = (TextView) findViewById(R.id.textView);\nButton button = (Button ) findViewById(R.id.but);\nbutton.setOnClickListener(new OnClickListener() {\n\npublic void onClick(View v) {\n    // TODO Auto-generated method stub\n    counter++;\n    if(counter%2==0){\n        tv.setVisibility(View.Visible);//show\n    } else {\n        tv.setVisibility(View.Gone);//hide\n    }\n}\n});\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2311540,"reputation":13103,"user_id":2029566,"accept_rate":100,"display_name":"Emmanuel"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1400422367,"creation_date":1400422367,"answer_id":23722834,"question_id":23722762,"body_markdown":"You will need to set an `OnClickListener()` on the layout you want to toggle. Then inside the listener you check to see if the layout is visible or not. If it is, then you set its visibility to `View.INVISIBLE `. Otherwise, you set it to `View.VISIBLE`.","title":"Toggle visibility of a layout on onClick","body":"<p>You will need to set an <code>OnClickListener()</code> on the layout you want to toggle. Then inside the listener you check to see if the layout is visible or not. If it is, then you set its visibility to <code>View.INVISIBLE</code>. Otherwise, you set it to <code>View.VISIBLE</code>.</p>\n"},{"tags":[],"owner":{"account_id":4451874,"reputation":1622,"user_id":3623485,"accept_rate":89,"display_name":"Lampione"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1673270966,"creation_date":1401358856,"answer_id":23931054,"question_id":23722762,"body_markdown":"DerGolem gave the right answer but he then deleted it, so I report it here now:\r\n\r\n    //First we set visibility value of interested layout either to gone, visible or invisible\r\n    android:visibility=&quot;gone&quot;\r\n\r\nThen under onCreate write like:\r\n\r\n    //specify the button that has to handle visibility  \r\n    ImageButton properties = (ImageButton) findViewById(R.id.propBtn);\r\n    \r\n    //And the layout we want to change is visibility\r\n    final LinearLayout propLayout = (LinearLayout) findViewById(R.id.properLayout);\r\n    \r\n    properties.setOnClickListener(new View.OnClickListener() {\r\n        public void onClick(View v) {\r\n            if (propLayout.getVisibility() == View.VISIBLE){\r\n                propLayout.setVisibility(View.INVISIBLE);\r\n            } else {\r\n                propLayout.setVisibility(View.VISIBLE);\r\n            }\r\n        }\r\n    });\r\n\r\n","title":"Toggle visibility of a layout on onClick","body":"<p>DerGolem gave the right answer but he then deleted it, so I report it here now:</p>\n<pre><code>//First we set visibility value of interested layout either to gone, visible or invisible\nandroid:visibility=&quot;gone&quot;\n</code></pre>\n<p>Then under onCreate write like:</p>\n<pre><code>//specify the button that has to handle visibility  \nImageButton properties = (ImageButton) findViewById(R.id.propBtn);\n\n//And the layout we want to change is visibility\nfinal LinearLayout propLayout = (LinearLayout) findViewById(R.id.properLayout);\n\nproperties.setOnClickListener(new View.OnClickListener() {\n    public void onClick(View v) {\n        if (propLayout.getVisibility() == View.VISIBLE){\n            propLayout.setVisibility(View.INVISIBLE);\n        } else {\n            propLayout.setVisibility(View.VISIBLE);\n        }\n    }\n});\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6379381,"reputation":379,"user_id":4953620,"display_name":"Saidolim"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1476365180,"creation_date":1476365180,"answer_id":40022334,"question_id":23722762,"body_markdown":"The another way of toggle, with less lines, if someone likes\r\n\r\n    // button to click\r\n    ImageButton properties = (ImageButton) findViewById(R.id.propBtn);\r\n    \r\n    // and LinearLayout to toggle\r\n    final LinearLayout propLayout = (LinearLayout) findViewById(R.id.properLayout);\r\n\r\n    properties.setOnClickListener(new View.OnClickListener() {\r\n        @Override\r\n        public void onClick(View v) {\r\n            propLayout.setVisibility((propLayout.getVisibility() == View.VISIBLE) \r\n              ? View.INVISIBLE \r\n              : View.VISIBLE);\r\n        }\r\n    });\r\n\r\n","title":"Toggle visibility of a layout on onClick","body":"<p>The another way of toggle, with less lines, if someone likes</p>\n\n<pre><code>// button to click\nImageButton properties = (ImageButton) findViewById(R.id.propBtn);\n\n// and LinearLayout to toggle\nfinal LinearLayout propLayout = (LinearLayout) findViewById(R.id.properLayout);\n\nproperties.setOnClickListener(new View.OnClickListener() {\n    @Override\n    public void onClick(View v) {\n        propLayout.setVisibility((propLayout.getVisibility() == View.VISIBLE) \n          ? View.INVISIBLE \n          : View.VISIBLE);\n    }\n});\n</code></pre>\n"}],"owner":{"account_id":4451874,"reputation":1622,"user_id":3623485,"accept_rate":89,"display_name":"Lampione"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13464,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":23931054,"answer_count":4,"score":4,"last_activity_date":1673270966,"creation_date":1400421837,"question_id":23722762,"body_markdown":"I need to set this layout visible when i click a button, my java is like:\r\n\r\n    Layout propLayout = (Layout) findViewById(R.id.properLayout);\r\n\r\n        public void propsBtn(View view) {\r\n    propLayout.setVisiblity(View.Visible);\r\n    }\r\n\r\nI know I&#39;m totally wrong with the layout line! I&#39;ll be very grateful if someone could show me how to set it right :)\r\n\r\nThis is my XML:\r\n\r\n    &lt;FrameLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    android:background=&quot;@color/mainBackGround&quot;\r\n    tools:context=&quot;com.myapplication2.app.MainActivity&quot;&gt;\r\n\r\n    &lt;LinearLayout\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;&gt;\r\n\r\n        &lt;RelativeLayout\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;match_parent&quot;\r\n            android:padding=&quot;8dp&quot;&gt;\r\n\r\n    ...contents...\r\n\r\n        &lt;/RelativeLayout&gt;\r\n\r\n    &lt;/LinearLayout&gt;\r\n\r\n    &lt;LinearLayout\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:visibility=&quot;gone&quot;\r\n        android:id=&quot;@+id/properLayout&quot;&gt;\r\n\r\n        &lt;RelativeLayout\r\n            android:orientation=&quot;horizontal&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;300dp&quot;\r\n            android:layout_gravity=&quot;bottom&quot;\r\n            android:padding=&quot;8dp&quot;&gt;\r\n\r\n    ...contents...           \r\n\r\n        &lt;/RelativeLayout&gt;\r\n\r\n    &lt;/LinearLayout&gt;\r\n\r\n&lt;/FrameLayout&gt;\r\n","title":"Toggle visibility of a layout on onClick","body":"<p>I need to set this layout visible when i click a button, my java is like:</p>\n\n<pre><code>Layout propLayout = (Layout) findViewById(R.id.properLayout);\n\n    public void propsBtn(View view) {\npropLayout.setVisiblity(View.Visible);\n}\n</code></pre>\n\n<p>I know I'm totally wrong with the layout line! I'll be very grateful if someone could show me how to set it right :)</p>\n\n<p>This is my XML:</p>\n\n<pre><code>&lt;FrameLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\nxmlns:tools=\"http://schemas.android.com/tools\"\nandroid:layout_width=\"match_parent\"\nandroid:layout_height=\"match_parent\"\nandroid:background=\"@color/mainBackGround\"\ntools:context=\"com.myapplication2.app.MainActivity\"&gt;\n\n&lt;LinearLayout\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"&gt;\n\n    &lt;RelativeLayout\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\"\n        android:padding=\"8dp\"&gt;\n\n...contents...\n\n    &lt;/RelativeLayout&gt;\n\n&lt;/LinearLayout&gt;\n\n&lt;LinearLayout\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    android:visibility=\"gone\"\n    android:id=\"@+id/properLayout\"&gt;\n\n    &lt;RelativeLayout\n        android:orientation=\"horizontal\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"300dp\"\n        android:layout_gravity=\"bottom\"\n        android:padding=\"8dp\"&gt;\n\n...contents...           \n\n    &lt;/RelativeLayout&gt;\n\n&lt;/LinearLayout&gt;\n</code></pre>\n\n<p></p>\n"},{"tags":["java","excel","apache-poi"],"comments":[{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":2,"creation_date":1673271487,"post_id":75057955,"comment_id":132454344,"body_markdown":"AFAIK not possible with apache poi. If you check the code of such a .htm file, you will see quite a bit of JavaScript code which apache poi can&#39;t process","body":"AFAIK not possible with apache poi. If you check the code of such a .htm file, you will see quite a bit of JavaScript code which apache poi can&#39;t process"},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":0,"creation_date":1673287270,"post_id":75057955,"comment_id":132460488,"body_markdown":"Is the resulting `.xls` file readable as an `HSSFWorkbook`?","body":"Is the resulting <code>.xls</code> file readable as an <code>HSSFWorkbook</code>?"},{"owner":{"account_id":980057,"reputation":7528,"user_id":1000011,"accept_rate":52,"display_name":"opticyclic"},"score":0,"creation_date":1673297716,"post_id":75057955,"comment_id":132463373,"body_markdown":"It isn&#39;t readable as an HSSFWorkbook, which is the way the other reports are being read.","body":"It isn&#39;t readable as an HSSFWorkbook, which is the way the other reports are being read."}],"owner":{"account_id":980057,"reputation":7528,"user_id":1000011,"accept_rate":52,"display_name":"opticyclic"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":80,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673270781,"creation_date":1673270781,"question_id":75057955,"body_markdown":"Excel gives you the option to save as `Web Page (*.html, *.html)` which will convert your spreadsheet from the binary format to html.\r\n\r\nIt creates the html with the header:\r\n\r\n    &lt;html \r\n        xmlns:v=&quot;urn:schemas-microsoft-com:vml&quot;\r\n        xmlns:v=&quot;urn:schemas-microsoft-com:office:office&quot;\r\n        xmlns:x=&quot;urn:schemas-microsoft-com:office:excel&quot;\r\n\r\nA legacy third-party system being used is generating this html and saving it with the extension xls. Excel will open the file and although it gives a warning about &quot;The file format and extension don&#39;t match&quot; it opens the file just fine.\r\n\r\nCurrently, some VBA on on the end users personal macro workbook is reading these files and saving them to the binary Excel format.\r\n\r\n    Sub Convert()\r\n          Const FOLDER_PATH As String = &quot;Z:\\reports\\&quot;\r\n          Dim wb As Workbook\r\n          Set wb = Workbooks.Open(FOLDER_PATH &amp; &quot;input.html.xls&quot;)\r\n          wb.SaveAs Filename:=FOLDER_PATH &amp; &quot;output.xls&quot;, FileFormat:=xlExcel8\r\n    End Sub\r\n\r\nHowever, the files are now being fed through a centralised process that handles all the report feeds.\r\n\r\nThe existing process reads reports in Java using poi. However, the process fails when being sent this Excel file as it is expecting xls and not html renamed as xls.\r\n\r\nHow do I read/convert these files in Java?\r\n","title":"How do I read an Excel Web Page?","body":"<p>Excel gives you the option to save as <code>Web Page (*.html, *.html)</code> which will convert your spreadsheet from the binary format to html.</p>\n<p>It creates the html with the header:</p>\n<pre><code>&lt;html \n    xmlns:v=&quot;urn:schemas-microsoft-com:vml&quot;\n    xmlns:v=&quot;urn:schemas-microsoft-com:office:office&quot;\n    xmlns:x=&quot;urn:schemas-microsoft-com:office:excel&quot;\n</code></pre>\n<p>A legacy third-party system being used is generating this html and saving it with the extension xls. Excel will open the file and although it gives a warning about &quot;The file format and extension don't match&quot; it opens the file just fine.</p>\n<p>Currently, some VBA on on the end users personal macro workbook is reading these files and saving them to the binary Excel format.</p>\n<pre><code>Sub Convert()\n      Const FOLDER_PATH As String = &quot;Z:\\reports\\&quot;\n      Dim wb As Workbook\n      Set wb = Workbooks.Open(FOLDER_PATH &amp; &quot;input.html.xls&quot;)\n      wb.SaveAs Filename:=FOLDER_PATH &amp; &quot;output.xls&quot;, FileFormat:=xlExcel8\nEnd Sub\n</code></pre>\n<p>However, the files are now being fed through a centralised process that handles all the report feeds.</p>\n<p>The existing process reads reports in Java using poi. However, the process fails when being sent this Excel file as it is expecting xls and not html renamed as xls.</p>\n<p>How do I read/convert these files in Java?</p>\n"},{"tags":["java","arrays","oop"],"comments":[{"owner":{"account_id":8326,"reputation":258555,"user_id":14955,"accept_rate":55,"display_name":"Thilo"},"score":0,"creation_date":1415680939,"post_id":26857587,"comment_id":42276820,"body_markdown":"The Collections framework has `removeAll` and `retainAll` methods that could be useful here. Don&#39;t operate on arrays directly, though.","body":"The Collections framework has <code>removeAll</code> and <code>retainAll</code> methods that could be useful here. Don&#39;t operate on arrays directly, though."},{"owner":{"account_id":5162597,"reputation":378,"user_id":4133763,"accept_rate":73,"display_name":"DanSchneiderNA"},"score":1,"creation_date":1415681928,"post_id":26857587,"comment_id":42277086,"body_markdown":"Is it guarenteed that the arrays contain the same number of elements or is sorted?","body":"Is it guarenteed that the arrays contain the same number of elements or is sorted?"},{"owner":{"account_id":3344216,"reputation":2140,"user_id":2809686,"accept_rate":25,"display_name":"Kingsley Simon"},"score":0,"creation_date":1415682245,"post_id":26857587,"comment_id":42277193,"body_markdown":"i dont get your question Tyler.","body":"i dont get your question Tyler."},{"owner":{"account_id":5162597,"reputation":378,"user_id":4133763,"accept_rate":73,"display_name":"DanSchneiderNA"},"score":0,"creation_date":1415686694,"post_id":26857587,"comment_id":42278666,"body_markdown":"I was asking if you knew whether the two arrays would always be sorted and/or contain the same number of elements. Such as both arrays containing 5 elements. However, rather than posting another answer, I would suggest using Jayesh&#39;s answer if you are unsure of the array types you will be using or just want to achieve a state of code-reuse","body":"I was asking if you knew whether the two arrays would always be sorted and/or contain the same number of elements. Such as both arrays containing 5 elements. However, rather than posting another answer, I would suggest using Jayesh&#39;s answer if you are unsure of the array types you will be using or just want to achieve a state of code-reuse"}],"answers":[{"tags":[],"owner":{"account_id":2375524,"reputation":782,"user_id":2079023,"display_name":"Krunal Indrodiya"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1415682780,"creation_date":1415682780,"answer_id":26857968,"question_id":26857587,"body_markdown":"you can use java collection framework, Many function are there,\r\nhere is simple example check it.\r\n\r\n    public static void main(String a[]){\r\n         \r\n        List&lt;String&gt; sl = new ArrayList&lt;String&gt;();\r\n        sl.add(&quot;apple&quot;);\r\n        sl.add(&quot;java&quot;);\r\n        sl.add(&quot;c++&quot;);\r\n        sl.add(&quot;unix&quot;);\r\n        sl.add(&quot;orange&quot;);\r\n        sl.add(&quot;airtel&quot;);\r\n        List&lt;String&gt; tl = new ArrayList&lt;String&gt;();\r\n        tl.add(&quot;job&quot;);\r\n        tl.add(&quot;oracle&quot;);\r\n        tl.add(&quot;jungle&quot;);\r\n        tl.add(&quot;cricket&quot;);\r\n        boolean isCommon = Collections.disjoint(sl,tl);\r\n        System.out.println(&quot;Does not found any common elements? &quot;+isCommon);\r\n        tl.add(&quot;java&quot;);\r\n        isCommon = Collections.disjoint(sl,tl);\r\n        System.out.println(&quot;Does not found any common elements? &quot;+isCommon);\r\n    }\r\n","title":"comparing values of two arrays if exist or not","body":"<p>you can use java collection framework, Many function are there,\nhere is simple example check it.</p>\n\n<pre><code>public static void main(String a[]){\n\n    List&lt;String&gt; sl = new ArrayList&lt;String&gt;();\n    sl.add(\"apple\");\n    sl.add(\"java\");\n    sl.add(\"c++\");\n    sl.add(\"unix\");\n    sl.add(\"orange\");\n    sl.add(\"airtel\");\n    List&lt;String&gt; tl = new ArrayList&lt;String&gt;();\n    tl.add(\"job\");\n    tl.add(\"oracle\");\n    tl.add(\"jungle\");\n    tl.add(\"cricket\");\n    boolean isCommon = Collections.disjoint(sl,tl);\n    System.out.println(\"Does not found any common elements? \"+isCommon);\n    tl.add(\"java\");\n    isCommon = Collections.disjoint(sl,tl);\n    System.out.println(\"Does not found any common elements? \"+isCommon);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5183289,"reputation":233,"user_id":4148312,"display_name":"Navish Sharma"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1415684290,"creation_date":1415684290,"answer_id":26858282,"question_id":26857587,"body_markdown":"You may use Apache&#39;s `CollectionUtils` for this purpose if you want an abstraction from the implementation logic.E.g:\r\n\r\n    public static void main(String[] args) {\r\n    \t\tList&lt;Integer&gt; list1=Arrays.asList(1,2,4,6,7);\r\n    \t\tList&lt;Integer&gt; list2=Arrays.asList(2,3,4,6,7);\r\n    \t\t\r\n    \tSystem.out.println(CollectionUtils.disjunction(list1,list2));\r\n    \t}","title":"comparing values of two arrays if exist or not","body":"<p>You may use Apache's <code>CollectionUtils</code> for this purpose if you want an abstraction from the implementation logic.E.g:</p>\n\n<pre><code>public static void main(String[] args) {\n        List&lt;Integer&gt; list1=Arrays.asList(1,2,4,6,7);\n        List&lt;Integer&gt; list2=Arrays.asList(2,3,4,6,7);\n\n    System.out.println(CollectionUtils.disjunction(list1,list2));\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4829578,"reputation":4682,"user_id":3898076,"accept_rate":72,"display_name":"Naman Gala"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1415685191,"creation_date":1415685191,"answer_id":26858459,"question_id":26857587,"body_markdown":"You can code this way\r\n\r\n\tList&lt;Integer&gt; array1 = Arrays.asList(1,2,4,6,7);\r\n\tList&lt;Integer&gt; array2 = Arrays.asList(2,3,4,6,7);\r\n\t\r\n\tList&lt;Integer&gt; disjointArray = new ArrayList&lt;Integer&gt;();\r\n\tfor (Integer value : array1) {\r\n\t\tif (!array2.contains(value)) {\r\n\t\t\tdisjointArray.add(value);\r\n\t\t}\r\n\t}\r\n\r\nAnd then you can print disjointArray or do whatever manipulation you want.","title":"comparing values of two arrays if exist or not","body":"<p>You can code this way</p>\n\n<pre><code>List&lt;Integer&gt; array1 = Arrays.asList(1,2,4,6,7);\nList&lt;Integer&gt; array2 = Arrays.asList(2,3,4,6,7);\n\nList&lt;Integer&gt; disjointArray = new ArrayList&lt;Integer&gt;();\nfor (Integer value : array1) {\n    if (!array2.contains(value)) {\n        disjointArray.add(value);\n    }\n}\n</code></pre>\n\n<p>And then you can print disjointArray or do whatever manipulation you want.</p>\n"},{"tags":[],"owner":{"account_id":5264288,"reputation":101,"user_id":4204793,"display_name":"Jayesh"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1415685230,"creation_date":1415685230,"answer_id":26858463,"question_id":26857587,"body_markdown":"Using Collection class removeAll method\r\n\r\n      String original[] = { &quot;1&quot;,&quot;2&quot;,&quot;3&quot;,&quot;4&quot;,&quot;6&quot;};\r\n\t\t String testStr[] = { &quot;1&quot;,&quot;2&quot;,&quot;3&quot;,&quot;5&quot;,&quot;7&quot; };\r\n\t\t    List origList = new ArrayList(Arrays.asList(original));\r\n\t\t    List testList = new ArrayList(Arrays.asList(testStr));\r\n\r\n\t\t    System.out.println(origList.removeAll(testList));\r\n\t\t    System.out.println(origList);\r\n\t\t\r\n\t\t   ","title":"comparing values of two arrays if exist or not","body":"<p>Using Collection class removeAll method</p>\n\n<pre><code>  String original[] = { \"1\",\"2\",\"3\",\"4\",\"6\"};\n     String testStr[] = { \"1\",\"2\",\"3\",\"5\",\"7\" };\n        List origList = new ArrayList(Arrays.asList(original));\n        List testList = new ArrayList(Arrays.asList(testStr));\n\n        System.out.println(origList.removeAll(testList));\n        System.out.println(origList);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3971227,"reputation":8507,"user_id":3275788,"display_name":"wumpz"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1415689099,"creation_date":1415689099,"answer_id":26859314,"question_id":26857587,"body_markdown":"Here a running example using Javas Collection classes:\r\n\r\n    public class Disjunction {\r\n        public static void main(String args[]) throws UnsupportedEncodingException {\r\n            //Some data preparation\r\n            List&lt;Integer&gt; list1=Arrays.asList(1,2,4);\r\n            List&lt;Integer&gt; list2=Arrays.asList(5,2,8);\r\n            \r\n            //Here calculating data1-data2 and data2-data1, collect all list items\r\n            //that are in data1 or in data2 but not in both.\r\n            List&lt;Integer&gt; data1 = new ArrayList&lt;&gt;(list1);\r\n            data1.removeAll(list2);\r\n            List&lt;Integer&gt; data2 = new ArrayList&lt;&gt;(list2);\r\n            data2.removeAll(list1);\r\n            \r\n            //Merging both results. data1 contains now exclusive or of list1 and list2\r\n            data1.addAll(data2);\r\n            \r\n            System.out.println(&quot;exclusive or is &quot; + data1);\r\n    \t}\r\n    }\r\n\r\nIt prints out\r\n\r\n    exclusive or is [1, 4, 5, 8]","title":"comparing values of two arrays if exist or not","body":"<p>Here a running example using Javas Collection classes:</p>\n\n<pre><code>public class Disjunction {\n    public static void main(String args[]) throws UnsupportedEncodingException {\n        //Some data preparation\n        List&lt;Integer&gt; list1=Arrays.asList(1,2,4);\n        List&lt;Integer&gt; list2=Arrays.asList(5,2,8);\n\n        //Here calculating data1-data2 and data2-data1, collect all list items\n        //that are in data1 or in data2 but not in both.\n        List&lt;Integer&gt; data1 = new ArrayList&lt;&gt;(list1);\n        data1.removeAll(list2);\n        List&lt;Integer&gt; data2 = new ArrayList&lt;&gt;(list2);\n        data2.removeAll(list1);\n\n        //Merging both results. data1 contains now exclusive or of list1 and list2\n        data1.addAll(data2);\n\n        System.out.println(\"exclusive or is \" + data1);\n    }\n}\n</code></pre>\n\n<p>It prints out</p>\n\n<pre><code>exclusive or is [1, 4, 5, 8]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20654866,"reputation":1,"user_id":15164249,"display_name":"Abhay Sahu"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673270590,"creation_date":1673029610,"answer_id":75034813,"question_id":26857587,"body_markdown":"Try the following program that checks two arrays for numbers they both have and numbers they don&#39;t have:\r\n\r\n    package test;\r\n    \r\n    import java.util.ArrayList;\r\n    \r\n    public class ArrayDifferentiater {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tint[] ori = { 1, 5, 4, 8, 6, 65, 16, 6, 575, 64, 561, 57, 57 };\r\n    \t\tint[] che = { 1, 4, 8, 6 };\r\n    \t\tsort(ori, che);\r\n    \t}\r\n    \r\n    \tpublic static void sort(int[] a, int[] b) {\r\n    \t\t/**\r\n    \t\t * &#39;foundNum&#39; contains the numbers which exists in both array. \r\n    \t\t * &#39;notFoundNum&#39; contains the numbers which exists in only first array.\r\n    \t\t */\r\n    \t\tArrayList&lt;Integer&gt; foundNum = new ArrayList&lt;&gt;();\r\n    \t\tArrayList&lt;Integer&gt; notFoundNum = new ArrayList&lt;&gt;();\r\n    \r\n    \t\t// First for loop starts\r\n    \t\tfor (int i = 0; i &lt; a.length; i++) {\r\n    \t\t\t\r\n    \t\t\t// Second for loop starts\r\n    \t\t\tfor (int j = 0; j &lt; b.length; j++) {\r\n    \r\n    \t\t\t\t/**\r\n    \t\t\t\t * Check if array 1 contains value of array 2. \r\n    \t\t\t\t * If contains than add it to &quot;foundNum&quot; arraylist.\r\n    \t\t\t\t */\r\n    \t\t\t\tif (a[i] == b[j]) {\r\n    \t\t\t\t\tfoundNum.add(a[i]);\r\n    \r\n    \t\t\t\t\t// Remove the number which exists in both arrays from &quot;notFoundNum&quot; arraylist.\r\n    \r\n    \t\t\t\t\tif (notFoundNum.contains(a[i])) {\r\n    \t\t\t\t\t\tfor (int k = 0; k &lt; notFoundNum.size(); k++) {\r\n    \t\t\t\t\t\t\tif (notFoundNum.get(k) == a[i]) {\r\n    \t\t\t\t\t\t\t\tnotFoundNum.remove(k);\r\n    \t\t\t\t\t\t\t}\r\n    \t\t\t\t\t\t}\r\n    \t\t\t\t\t}\r\n    \r\n    \t\t\t\t\tbreak;\r\n    \t\t\t\t\t\r\n    \t\t\t\t} // First if block ends\r\n    \r\n    \t\t\t\t/**\r\n    \t\t\t\t * Checks if a not found number does not exists in &#39;notFoundNum&#39; arraylist (to reduce redundancy)\r\n    \t\t\t\t * then adds a not found number to &#39;notFoundNum&#39; arraylist\r\n    \t\t\t\t * */\r\n    \t\t\t\tif (!notFoundNum.contains(a[i]))\r\n    \t\t\t\t\tnotFoundNum.add(a[i]);\r\n    \t\t\t\t\r\n    \t\t\t} // Second for loop ends\r\n    \t\t\t\r\n    \t\t} // First for loop ends\r\n    \t\t\r\n    \t\tSystem.out.println(&quot;Found Numbers : &quot; + foundNum);\r\n    \t\tSystem.out.println(&quot;Not Found Numbers : &quot; + notFoundNum);\r\n    \t}\r\n    \r\n    }\r\n\r\n\r\nHere is the output for the above program:\r\n\r\n    Found Numbers : [1, 4, 8, 6, 6]\r\n    Not Found Numbers : [5, 65, 16, 575, 64, 561, 57]\r\n\r\n","title":"comparing values of two arrays if exist or not","body":"<p>Try the following program that checks two arrays for numbers they both have and numbers they don't have:</p>\n<pre><code>package test;\n\nimport java.util.ArrayList;\n\npublic class ArrayDifferentiater {\n\n    public static void main(String[] args) {\n        int[] ori = { 1, 5, 4, 8, 6, 65, 16, 6, 575, 64, 561, 57, 57 };\n        int[] che = { 1, 4, 8, 6 };\n        sort(ori, che);\n    }\n\n    public static void sort(int[] a, int[] b) {\n        /**\n         * 'foundNum' contains the numbers which exists in both array. \n         * 'notFoundNum' contains the numbers which exists in only first array.\n         */\n        ArrayList&lt;Integer&gt; foundNum = new ArrayList&lt;&gt;();\n        ArrayList&lt;Integer&gt; notFoundNum = new ArrayList&lt;&gt;();\n\n        // First for loop starts\n        for (int i = 0; i &lt; a.length; i++) {\n            \n            // Second for loop starts\n            for (int j = 0; j &lt; b.length; j++) {\n\n                /**\n                 * Check if array 1 contains value of array 2. \n                 * If contains than add it to &quot;foundNum&quot; arraylist.\n                 */\n                if (a[i] == b[j]) {\n                    foundNum.add(a[i]);\n\n                    // Remove the number which exists in both arrays from &quot;notFoundNum&quot; arraylist.\n\n                    if (notFoundNum.contains(a[i])) {\n                        for (int k = 0; k &lt; notFoundNum.size(); k++) {\n                            if (notFoundNum.get(k) == a[i]) {\n                                notFoundNum.remove(k);\n                            }\n                        }\n                    }\n\n                    break;\n                    \n                } // First if block ends\n\n                /**\n                 * Checks if a not found number does not exists in 'notFoundNum' arraylist (to reduce redundancy)\n                 * then adds a not found number to 'notFoundNum' arraylist\n                 * */\n                if (!notFoundNum.contains(a[i]))\n                    notFoundNum.add(a[i]);\n                \n            } // Second for loop ends\n            \n        } // First for loop ends\n        \n        System.out.println(&quot;Found Numbers : &quot; + foundNum);\n        System.out.println(&quot;Not Found Numbers : &quot; + notFoundNum);\n    }\n\n}\n</code></pre>\n<p>Here is the output for the above program:</p>\n<pre><code>Found Numbers : [1, 4, 8, 6, 6]\nNot Found Numbers : [5, 65, 16, 575, 64, 561, 57]\n</code></pre>\n"}],"owner":{"account_id":3344216,"reputation":2140,"user_id":2809686,"accept_rate":25,"display_name":"Kingsley Simon"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1903,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":26858463,"answer_count":6,"score":0,"last_activity_date":1673270590,"creation_date":1415680750,"question_id":26857587,"body_markdown":" I have this code which is to check in the two arrays  and print out the values that dont exist in the other array. I think the way i did it is not the most efficient way to do it hence can anyone offer a better OOP way to write this code in Java? \r\n\r\nThanks \r\n     \r\n     public class Calculate {\r\n        \tstatic int [] x = {1,2,4,6,7};\r\n        \tstatic int [] y = {2,3,4,6,7}; \r\n        \tstatic boolean xflag = true;\r\n        \tstatic boolean yflag = true;\r\n        \r\n        \tpublic static void main(String[] args) {\r\n        \t\t// TODO Auto-generated method stub\r\n        \t\t\r\n        \t\tfor(int i = 0; i&lt;x.length; i++)\r\n        \t\t{\r\n        \t\t\r\n        \t\tfor (int b=0;  b&lt;y.length; b++)\r\n        \t\t\t{\r\n        \t\t\t\tif(x[i]!= y[b])\r\n        \t\t\t\t{\r\n        \t\t\t\t\txflag= false;\r\n        \t\t\t\t\t\r\n        \t\t\t\t}\r\n        \t\t\t\telse\r\n        \t\t\t\t{\r\n        \t\t\t\t\txflag = true;\r\n        \t\t\t\t\tbreak;\r\n        \t\t\t\t}\r\n        \t\t\t\t\t\r\n        \t\t\t}\r\n        \t\t\r\n        \t\t\tif(xflag==false)\r\n        \t\t\t{\r\n        \t\t\t\tSystem.out.println(x[i] +&quot; does not exist in array 2&quot;);\r\n        \t\t\t}\r\n        \t\t\t\r\n        \t\t}\r\n        \t\t\r\n        \t\t\r\n        \t\tfor(int i = 0; i&lt;x.length; i++)\r\n        \t\t{\r\n        \t\t\r\n        \t\tfor (int b=0;  b&lt;y.length; b++)\r\n        \t\t\t{\r\n        \t\t\t\tif(y[i]!= x[b])\r\n        \t\t\t\t{\r\n        \t\t\t\t\tyflag= false;\r\n        \t\t\t\t\t\r\n        \t\t\t\t}\r\n        \t\t\t\telse\r\n        \t\t\t\t{\r\n        \t\t\t\t\tyflag = true;\r\n        \t\t\t\t\tbreak;\r\n        \t\t\t\t}\r\n        \t\t\t\t\t\r\n        \t\t\t}\r\n        \t\t\r\n        \t\t\tif(yflag==false)\r\n        \t\t\t{\r\n        \t\t\t\tSystem.out.println(y[i] +&quot; does not exist in array1&quot;);\r\n        \t\t\t}\r\n        \t\t\t\r\n        \t\t}\r\n        \t\t\r\n        \t\t\r\n        \t\t\r\n        \t\t\r\n        \r\n        \t}\r\n        \r\n        \t\r\n        }\r\n\r\n","title":"comparing values of two arrays if exist or not","body":"<p>I have this code which is to check in the two arrays  and print out the values that dont exist in the other array. I think the way i did it is not the most efficient way to do it hence can anyone offer a better OOP way to write this code in Java? </p>\n\n<p>Thanks </p>\n\n<pre><code> public class Calculate {\n        static int [] x = {1,2,4,6,7};\n        static int [] y = {2,3,4,6,7}; \n        static boolean xflag = true;\n        static boolean yflag = true;\n\n        public static void main(String[] args) {\n            // TODO Auto-generated method stub\n\n            for(int i = 0; i&lt;x.length; i++)\n            {\n\n            for (int b=0;  b&lt;y.length; b++)\n                {\n                    if(x[i]!= y[b])\n                    {\n                        xflag= false;\n\n                    }\n                    else\n                    {\n                        xflag = true;\n                        break;\n                    }\n\n                }\n\n                if(xflag==false)\n                {\n                    System.out.println(x[i] +\" does not exist in array 2\");\n                }\n\n            }\n\n\n            for(int i = 0; i&lt;x.length; i++)\n            {\n\n            for (int b=0;  b&lt;y.length; b++)\n                {\n                    if(y[i]!= x[b])\n                    {\n                        yflag= false;\n\n                    }\n                    else\n                    {\n                        yflag = true;\n                        break;\n                    }\n\n                }\n\n                if(yflag==false)\n                {\n                    System.out.println(y[i] +\" does not exist in array1\");\n                }\n\n            }\n\n\n\n\n\n        }\n\n\n    }\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-data-jpa","lazy-initialization"],"comments":[{"owner":{"account_id":4688171,"reputation":11056,"user_id":3795036,"accept_rate":88,"display_name":"K.Nicholas"},"score":0,"creation_date":1673281061,"post_id":75056620,"comment_id":132458291,"body_markdown":"The construct of the criteria query needs to be constructed to match the required SQL.","body":"The construct of the criteria query needs to be constructed to match the required SQL."},{"owner":{"account_id":13750010,"reputation":171,"user_id":9922403,"display_name":"BADER EDDINE QODIA"},"score":0,"creation_date":1673296147,"post_id":75056620,"comment_id":132462960,"body_markdown":"can you explain more what do you mean ?","body":"can you explain more what do you mean ?"}],"owner":{"account_id":13750010,"reputation":171,"user_id":9922403,"display_name":"BADER EDDINE QODIA"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":93,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673270571,"creation_date":1673263680,"question_id":75056620,"body_markdown":"I have an error when selecting the children values of the installer entity which name it infoRges\r\n\r\ninstaller entity:\r\n\r\n        @Entity\r\n        @Table(name = &quot;installer&quot;)\r\n        public class Installer implements Serializable {\r\n    \r\n        @OneToMany(cascade = CascadeType.ALL, fetch = FetchType.LAZY)\r\n        private Set&lt;InfoRge&gt; infoRges;\r\n \r\n        @Column(name = &quot;enterprise_name&quot;, length = 50)\r\n        private String name;\r\n        //with getter and setter\r\n\r\n        }\r\n\r\nInstallerListDto class :\r\n\r\n    private Set&lt;InfoRge&gt; infoRges;\r\n    private string name;\r\n    constructor(Long id, Set&lt;InfoRge&gt; infoRges, String name);\r\n    //setters and getters\r\n\r\ncriteria query for selecting list of infoRge :\r\n\r\n        // Creating the criteria builder\r\n        CriteriaBuilder cb = em.getCriteriaBuilder();\r\n\r\n        // Creating the query from Installer Class\r\n        CriteriaQuery&lt;InstallerListDto&gt; criteriaQuery = cb.createQuery(InstallerListDto.class);\r\n\r\n        Root&lt;Installer&gt; from = criteriaQuery.from(Installer.class);\r\n        criteriaQuery.select(cb.construct(InstallerListDto.class, from.get(&quot;id&quot;),\r\n                                              from.get(&quot;infoRges&quot;),\r\n                                              from.get(&quot;name&quot;)));\r\n\r\nerror messages :\r\n\r\n    org.springframework.dao.InvalidDataAccessResourceUsageException: could not extract ResultSet; SQL [n/a]; nested exception is org.hibernate.exception.SQLGrammarException: could not extract ResultSet\r\n\r\n    Caused by: java.sql.SQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near &#39;. as col_5_0_, installer0_.enterprise_name as col_6_0_ from installer installer0&#39; at line 1\r\n\r\n","title":"hibernate criteria query for one to many relationship with error when selecting children values","body":"<p>I have an error when selecting the children values of the installer entity which name it infoRges</p>\n<p>installer entity:</p>\n<pre><code>    @Entity\n    @Table(name = &quot;installer&quot;)\n    public class Installer implements Serializable {\n\n    @OneToMany(cascade = CascadeType.ALL, fetch = FetchType.LAZY)\n    private Set&lt;InfoRge&gt; infoRges;\n\n    @Column(name = &quot;enterprise_name&quot;, length = 50)\n    private String name;\n    //with getter and setter\n\n    }\n</code></pre>\n<p>InstallerListDto class :</p>\n<pre><code>private Set&lt;InfoRge&gt; infoRges;\nprivate string name;\nconstructor(Long id, Set&lt;InfoRge&gt; infoRges, String name);\n//setters and getters\n</code></pre>\n<p>criteria query for selecting list of infoRge :</p>\n<pre><code>    // Creating the criteria builder\n    CriteriaBuilder cb = em.getCriteriaBuilder();\n\n    // Creating the query from Installer Class\n    CriteriaQuery&lt;InstallerListDto&gt; criteriaQuery = cb.createQuery(InstallerListDto.class);\n\n    Root&lt;Installer&gt; from = criteriaQuery.from(Installer.class);\n    criteriaQuery.select(cb.construct(InstallerListDto.class, from.get(&quot;id&quot;),\n                                          from.get(&quot;infoRges&quot;),\n                                          from.get(&quot;name&quot;)));\n</code></pre>\n<p>error messages :</p>\n<pre><code>org.springframework.dao.InvalidDataAccessResourceUsageException: could not extract ResultSet; SQL [n/a]; nested exception is org.hibernate.exception.SQLGrammarException: could not extract ResultSet\n\nCaused by: java.sql.SQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '. as col_5_0_, installer0_.enterprise_name as col_6_0_ from installer installer0' at line 1\n</code></pre>\n"},{"tags":["java","modelmapper"],"answers":[{"comments":[{"owner":{"display_name":"user20937564"},"score":0,"creation_date":1673270918,"post_id":75057894,"comment_id":132454101,"body_markdown":"Correct, its a bug in model mapper and thats why he added condition   if (time == null) {\n        return 0;\n    } in his toMillis method because model mapper will execute the mapping line code when it finds declaration, and if you will remove this null handling then your code will break at line -  mapper.typeMap(Source.class, Destination.class)....   only.","body":"Correct, its a bug in model mapper and thats why he added condition   if (time == null) {         return 0;     } in his toMillis method because model mapper will execute the mapping line code when it finds declaration, and if you will remove this null handling then your code will break at line -  mapper.typeMap(Source.class, Destination.class)....   only."},{"owner":{"account_id":9463219,"reputation":9357,"user_id":7036419,"display_name":"Maurice Perry"},"score":0,"creation_date":1673340674,"post_id":75057894,"comment_id":132471088,"body_markdown":"OK, thanks. I didn&#39;t want to put the conversion methods in the `Source` class; I ended up using a `Converter&lt;LocalDateTime,Long&gt;`.","body":"OK, thanks. I didn&#39;t want to put the conversion methods in the <code>Source</code> class; I ended up using a <code>Converter&lt;LocalDateTime,Long&gt;</code>."}],"tags":[],"owner":{"display_name":"user19443549"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1673270540,"creation_date":1673270540,"answer_id":75057894,"question_id":75057068,"body_markdown":"That&#39;s an issue with ModelMapper, where it is not able to bind complete lambda for mapping and just mapping `src.getTime()` and that&#39;s why you are getting error so either you can have time field as long in your Source class or can move toMillis method inside Source class something like below -\r\n\r\n    public class Source {\r\n    private LocalDateTime time;\r\n\r\n    public LocalDateTime getTime() {\r\n        return time;\r\n    }\r\n\r\n    public void setTime(LocalDateTime time) {\r\n        this.time = time;\r\n    }\r\n\r\n    public long toMillis() {\r\n        if (time == null) {\r\n            return 0;\r\n        }\r\n        ZonedDateTime zdt = ZonedDateTime.of(time, ZoneId.systemDefault());\r\n        return zdt.toInstant().toEpochMilli();\r\n    }\r\n    }\r\n\r\nand then can change mapping code like below -\r\n\r\n     mapper.typeMap(Source.class, Destination.class)\r\n                .addMappings(map -&gt; map.map(Source::toMillis, Destination::setTime));","title":"ModelMapper: converting a `LocalDateTime` property into a `long`","body":"<p>That's an issue with ModelMapper, where it is not able to bind complete lambda for mapping and just mapping <code>src.getTime()</code> and that's why you are getting error so either you can have time field as long in your Source class or can move toMillis method inside Source class something like below -</p>\n<pre><code>public class Source {\nprivate LocalDateTime time;\n\npublic LocalDateTime getTime() {\n    return time;\n}\n\npublic void setTime(LocalDateTime time) {\n    this.time = time;\n}\n\npublic long toMillis() {\n    if (time == null) {\n        return 0;\n    }\n    ZonedDateTime zdt = ZonedDateTime.of(time, ZoneId.systemDefault());\n    return zdt.toInstant().toEpochMilli();\n}\n}\n</code></pre>\n<p>and then can change mapping code like below -</p>\n<pre><code> mapper.typeMap(Source.class, Destination.class)\n            .addMappings(map -&gt; map.map(Source::toMillis, Destination::setTime));\n</code></pre>\n"}],"owner":{"account_id":9463219,"reputation":9357,"user_id":7036419,"display_name":"Maurice Perry"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":465,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75057894,"answer_count":1,"score":0,"last_activity_date":1673270540,"creation_date":1673266134,"question_id":75057068,"body_markdown":"I&#39;m having a hard time configuring a `ModelMapper` so that it can convert a `LocalDateTime` property into a `long`.\r\n\r\nHere is my source class:\r\n\r\n```\r\n\r\npublic class Source {\r\n     private LocalDateTime time;\r\n\r\n     public LocalDateTime getTime() {\r\n         return time;\r\n     }\r\n\r\n     public void setTime(LocalDateTime time) {\r\n         this.time = time;\r\n     }\r\n}\r\n```\r\n\r\nmy destination class:\r\n\r\n```\r\npublic class Destination {\r\n     private long time;\r\n\r\n     public long getTime() {\r\n         return time;\r\n     }\r\n\r\n     public void setTime(long time) {\r\n         this.time = time;\r\n     }\r\n}\r\n\r\n```\r\n\r\nI configure my `ModelMapper` as follows:\r\n\r\n```\r\n         ModelMapper mapper = new ModelMapper();\r\n         mapper.getConfiguration()\r\n                 .setMatchingStrategy(MatchingStrategies.STRICT);\r\n    \r\n         mapper.typeMap(Source.class, Destination.class)\r\n                 .addMappings(map -&gt; {\r\n             map.map(src -&gt; toMillis(src.getTime()), Destination::setTime);\r\n         });\r\n\r\n...\r\n\r\n     private static long toMillis(LocalDateTime dt) {\r\n         if (dt == null) {\r\n             return 0;\r\n         }\r\n         ZonedDateTime zdt = ZonedDateTime.of(dt, ZoneId.systemDefault());\r\n         return zdt.toInstant().toEpochMilli();\r\n     }\r\n\r\n```\r\n\r\nAnd use it as follows:\r\n\r\n```\r\n         Source src = new Source();\r\n         src.setTime(LocalDateTime.now());\r\n         Destination dst = mapper.map(src, Destination.class);\r\n\r\n```\r\n\r\nBut I&#39;m getting the exception bellow:\r\n```\r\n\r\nException in thread &quot;main&quot; org.modelmapper.MappingException: ModelMapper\r\nmapping errors:\r\n\r\n1) Converter org.modelmapper.internal.converter.NumberConverter@72967906\r\n   failed to convert java.time.LocalDateTime to long.\r\n\r\n1 error\r\nat\r\norg.modelmapper.internal.Errors.throwMappingExceptionIfErrorsExist(Errors.java:380)\r\nat\r\norg.modelmapper.internal.MappingEngineImpl.map(MappingEngineImpl.java:80)\r\nat org.modelmapper.ModelMapper.mapInternal(ModelMapper.java:573)\r\nat org.modelmapper.ModelMapper.map(ModelMapper.java:406)\r\nat org.tastefuljava.test19.Main.main(Main.java:21)\r\nCaused by: org.modelmapper.MappingException: ModelMapper mapping errors:\r\n\r\n1) Error mapping 2023-01-09T12:47:56.793910 to java.lang.Long\r\n\r\n1 error\r\nat org.modelmapper.internal.Errors.toMappingException(Errors.java:258)\r\nat\r\norg.modelmapper.internal.converter.NumberConverter.numberFor(NumberConverter.java:181)\r\nat\r\norg.modelmapper.internal.converter.NumberConverter.convert(NumberConverter.java:75)\r\nat\r\norg.modelmapper.internal.converter.NumberConverter.convert(NumberConverter.java:57)\r\nat\r\norg.modelmapper.internal.MappingEngineImpl.convert(MappingEngineImpl.java:306)\r\nat\r\norg.modelmapper.internal.MappingEngineImpl.map(MappingEngineImpl.java:109)\r\nat\r\norg.modelmapper.internal.MappingEngineImpl.setDestinationValue(MappingEngineImpl.java:245)\r\nat\r\norg.modelmapper.internal.MappingEngineImpl.propertyMap(MappingEngineImpl.java:187)\r\nat\r\norg.modelmapper.internal.MappingEngineImpl.typeMap(MappingEngineImpl.java:151)\r\nat\r\norg.modelmapper.internal.MappingEngineImpl.map(MappingEngineImpl.java:105)\r\nat\r\norg.modelmapper.internal.MappingEngineImpl.map(MappingEngineImpl.java:71)\r\n... 3 more\r\nCaused by: java.lang.NumberFormatException: For input string:\r\n&quot;2023-01-09T12:47:56.793910&quot;\r\nat\r\njava.base/java.lang.NumberFormatException.forInputString(NumberFormatException.java:67)\r\nat java.base/java.lang.Long.parseLong(Long.java:711)\r\nat java.base/java.lang.Long.valueOf(Long.java:1159)\r\nat\r\norg.modelmapper.internal.converter.NumberConverter.numberFor(NumberConverter.java:171)\r\n... 12 more\r\nCommand execution failed.\r\norg.apache.commons.exec.ExecuteException: Process exited with an error:\r\n1 (Exit value: 1)\r\nat\r\norg.apache.commons.exec.DefaultExecutor.executeInternal(DefaultExecutor.java:404)\r\nat\r\norg.apache.commons.exec.DefaultExecutor.execute(DefaultExecutor.java:166)\r\nat\r\norg.codehaus.mojo.exec.ExecMojo.executeCommandLine(ExecMojo.java:982)\r\nat\r\norg.codehaus.mojo.exec.ExecMojo.executeCommandLine(ExecMojo.java:929)\r\nat org.codehaus.mojo.exec.ExecMojo.execute(ExecMojo.java:457)\r\nat\r\norg.apache.maven.plugin.DefaultBuildPluginManager.executeMojo(DefaultBuildPluginManager.java:134)\r\nat\r\norg.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:207)\r\nat\r\norg.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:153)\r\nat\r\norg.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:145)\r\nat\r\norg.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:116)\r\nat\r\norg.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:80)\r\nat\r\norg.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build(SingleThreadedBuilder.java:51)\r\nat\r\norg.apache.maven.lifecycle.internal.LifecycleStarter.execute(LifecycleStarter.java:128)\r\nat org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:307)\r\nat org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:193)\r\nat org.apache.maven.DefaultMaven.execute(DefaultMaven.java:106)\r\nat org.apache.maven.cli.MavenCli.execute(MavenCli.java:863)\r\nat org.apache.maven.cli.MavenCli.doMain(MavenCli.java:288)\r\nat org.apache.maven.cli.MavenCli.main(MavenCli.java:199)\r\nat\r\njava.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\r\nat java.base/java.lang.reflect.Method.invoke(Method.java:577)\r\nat\r\norg.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced(Launcher.java:289)\r\nat\r\norg.codehaus.plexus.classworlds.launcher.Launcher.launch(Launcher.java:229)\r\nat\r\norg.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode(Launcher.java:415)\r\nat\r\norg.codehaus.plexus.classworlds.launcher.Launcher.main(Launcher.java:356)\r\n```\r\n\r\nCould anyone help me fix this?\r\nThanks in advance\r\n","title":"ModelMapper: converting a `LocalDateTime` property into a `long`","body":"<p>I'm having a hard time configuring a <code>ModelMapper</code> so that it can convert a <code>LocalDateTime</code> property into a <code>long</code>.</p>\n<p>Here is my source class:</p>\n<pre><code>\npublic class Source {\n     private LocalDateTime time;\n\n     public LocalDateTime getTime() {\n         return time;\n     }\n\n     public void setTime(LocalDateTime time) {\n         this.time = time;\n     }\n}\n</code></pre>\n<p>my destination class:</p>\n<pre><code>public class Destination {\n     private long time;\n\n     public long getTime() {\n         return time;\n     }\n\n     public void setTime(long time) {\n         this.time = time;\n     }\n}\n\n</code></pre>\n<p>I configure my <code>ModelMapper</code> as follows:</p>\n<pre><code>         ModelMapper mapper = new ModelMapper();\n         mapper.getConfiguration()\n                 .setMatchingStrategy(MatchingStrategies.STRICT);\n    \n         mapper.typeMap(Source.class, Destination.class)\n                 .addMappings(map -&gt; {\n             map.map(src -&gt; toMillis(src.getTime()), Destination::setTime);\n         });\n\n...\n\n     private static long toMillis(LocalDateTime dt) {\n         if (dt == null) {\n             return 0;\n         }\n         ZonedDateTime zdt = ZonedDateTime.of(dt, ZoneId.systemDefault());\n         return zdt.toInstant().toEpochMilli();\n     }\n\n</code></pre>\n<p>And use it as follows:</p>\n<pre><code>         Source src = new Source();\n         src.setTime(LocalDateTime.now());\n         Destination dst = mapper.map(src, Destination.class);\n\n</code></pre>\n<p>But I'm getting the exception bellow:</p>\n<pre><code>\nException in thread &quot;main&quot; org.modelmapper.MappingException: ModelMapper\nmapping errors:\n\n1) Converter org.modelmapper.internal.converter.NumberConverter@72967906\n   failed to convert java.time.LocalDateTime to long.\n\n1 error\nat\norg.modelmapper.internal.Errors.throwMappingExceptionIfErrorsExist(Errors.java:380)\nat\norg.modelmapper.internal.MappingEngineImpl.map(MappingEngineImpl.java:80)\nat org.modelmapper.ModelMapper.mapInternal(ModelMapper.java:573)\nat org.modelmapper.ModelMapper.map(ModelMapper.java:406)\nat org.tastefuljava.test19.Main.main(Main.java:21)\nCaused by: org.modelmapper.MappingException: ModelMapper mapping errors:\n\n1) Error mapping 2023-01-09T12:47:56.793910 to java.lang.Long\n\n1 error\nat org.modelmapper.internal.Errors.toMappingException(Errors.java:258)\nat\norg.modelmapper.internal.converter.NumberConverter.numberFor(NumberConverter.java:181)\nat\norg.modelmapper.internal.converter.NumberConverter.convert(NumberConverter.java:75)\nat\norg.modelmapper.internal.converter.NumberConverter.convert(NumberConverter.java:57)\nat\norg.modelmapper.internal.MappingEngineImpl.convert(MappingEngineImpl.java:306)\nat\norg.modelmapper.internal.MappingEngineImpl.map(MappingEngineImpl.java:109)\nat\norg.modelmapper.internal.MappingEngineImpl.setDestinationValue(MappingEngineImpl.java:245)\nat\norg.modelmapper.internal.MappingEngineImpl.propertyMap(MappingEngineImpl.java:187)\nat\norg.modelmapper.internal.MappingEngineImpl.typeMap(MappingEngineImpl.java:151)\nat\norg.modelmapper.internal.MappingEngineImpl.map(MappingEngineImpl.java:105)\nat\norg.modelmapper.internal.MappingEngineImpl.map(MappingEngineImpl.java:71)\n... 3 more\nCaused by: java.lang.NumberFormatException: For input string:\n&quot;2023-01-09T12:47:56.793910&quot;\nat\njava.base/java.lang.NumberFormatException.forInputString(NumberFormatException.java:67)\nat java.base/java.lang.Long.parseLong(Long.java:711)\nat java.base/java.lang.Long.valueOf(Long.java:1159)\nat\norg.modelmapper.internal.converter.NumberConverter.numberFor(NumberConverter.java:171)\n... 12 more\nCommand execution failed.\norg.apache.commons.exec.ExecuteException: Process exited with an error:\n1 (Exit value: 1)\nat\norg.apache.commons.exec.DefaultExecutor.executeInternal(DefaultExecutor.java:404)\nat\norg.apache.commons.exec.DefaultExecutor.execute(DefaultExecutor.java:166)\nat\norg.codehaus.mojo.exec.ExecMojo.executeCommandLine(ExecMojo.java:982)\nat\norg.codehaus.mojo.exec.ExecMojo.executeCommandLine(ExecMojo.java:929)\nat org.codehaus.mojo.exec.ExecMojo.execute(ExecMojo.java:457)\nat\norg.apache.maven.plugin.DefaultBuildPluginManager.executeMojo(DefaultBuildPluginManager.java:134)\nat\norg.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:207)\nat\norg.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:153)\nat\norg.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:145)\nat\norg.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:116)\nat\norg.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:80)\nat\norg.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build(SingleThreadedBuilder.java:51)\nat\norg.apache.maven.lifecycle.internal.LifecycleStarter.execute(LifecycleStarter.java:128)\nat org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:307)\nat org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:193)\nat org.apache.maven.DefaultMaven.execute(DefaultMaven.java:106)\nat org.apache.maven.cli.MavenCli.execute(MavenCli.java:863)\nat org.apache.maven.cli.MavenCli.doMain(MavenCli.java:288)\nat org.apache.maven.cli.MavenCli.main(MavenCli.java:199)\nat\njava.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\nat java.base/java.lang.reflect.Method.invoke(Method.java:577)\nat\norg.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced(Launcher.java:289)\nat\norg.codehaus.plexus.classworlds.launcher.Launcher.launch(Launcher.java:229)\nat\norg.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode(Launcher.java:415)\nat\norg.codehaus.plexus.classworlds.launcher.Launcher.main(Launcher.java:356)\n</code></pre>\n<p>Could anyone help me fix this?\nThanks in advance</p>\n"},{"tags":["java","spring","spring-security","localization"],"answers":[{"tags":[],"owner":{"account_id":27470082,"reputation":26,"user_id":20959156,"display_name":"Alexander Miller "},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1673270512,"creation_date":1673196940,"answer_id":75049677,"question_id":75049604,"body_markdown":"Add this HTTP header to your authorization request: `&#39;Accept-Language&#39;: &#39;en&#39;`","title":"How to change Spring Security error message language?","body":"<p>Add this HTTP header to your authorization request: <code>'Accept-Language': 'en'</code></p>\n"}],"owner":{"account_id":19461556,"reputation":1,"user_id":16713432,"display_name":"valerii_sit"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":146,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":75049677,"answer_count":1,"score":-2,"last_activity_date":1673270512,"creation_date":1673196409,"question_id":75049604,"body_markdown":"I use Spring Security for my server. There is a piece of code from my sign in controller, that returns error messages in German instead of English. How to fix it?\r\n\r\n\r\n```\r\ntry{\r\n    authentication = authenticationManager.authenticate(\r\n        new UsernamePasswordAuthenticationToken(user.getUsername(), user.getPassword())\r\n    );\r\n}catch(AuthenticationException e){\r\n    response.setErrorMessage(e.getMessage());\r\n    return ResponseEntity.status(401).body(response);\r\n}\r\n```\r\n\r\n\r\nI know it is possible to solve the problem with localization but I am sure there must be an easier solution.","title":"How to change Spring Security error message language?","body":"<p>I use Spring Security for my server. There is a piece of code from my sign in controller, that returns error messages in German instead of English. How to fix it?</p>\n<pre><code>try{\n    authentication = authenticationManager.authenticate(\n        new UsernamePasswordAuthenticationToken(user.getUsername(), user.getPassword())\n    );\n}catch(AuthenticationException e){\n    response.setErrorMessage(e.getMessage());\n    return ResponseEntity.status(401).body(response);\n}\n</code></pre>\n<p>I know it is possible to solve the problem with localization but I am sure there must be an easier solution.</p>\n"},{"tags":["java","assert"],"answers":[{"comments":[{"owner":{"account_id":1911430,"reputation":2483,"user_id":1725151,"accept_rate":67,"display_name":"Guildenstern"},"score":0,"creation_date":1672919110,"post_id":16788186,"comment_id":132383559,"body_markdown":"Will this work for the synonym `-enableassertions`?","body":"Will this work for the synonym <code>-enableassertions</code>?"}],"tags":[],"owner":{"account_id":294022,"reputation":115930,"user_id":597657,"accept_rate":99,"display_name":"Eng.Fouad"},"comment_count":1,"down_vote_count":2,"up_vote_count":4,"is_accepted":false,"score":2,"last_activity_date":1369732368,"creation_date":1369732368,"answer_id":16788186,"question_id":16788085,"body_markdown":"    ManagementFactory.getRuntimeMXBean().getInputArguments().contains(&quot;-ea&quot;);","title":"Checking if assertions are enabled","body":"<pre><code>ManagementFactory.getRuntimeMXBean().getInputArguments().contains(\"-ea\");\n</code></pre>\n"},{"comments":[{"owner":{"account_id":8670,"reputation":74291,"user_id":15721,"accept_rate":74,"display_name":"Will"},"score":2,"creation_date":1369732548,"post_id":16788189,"comment_id":24192004,"body_markdown":"Shouldn&#39;t there be a catch in there in case asserts are enabled?","body":"Shouldn&#39;t there be a catch in there in case asserts are enabled?"},{"owner":{"account_id":2590947,"reputation":1058,"user_id":2245668,"display_name":"kevin847"},"score":1,"creation_date":1369733000,"post_id":16788189,"comment_id":24192271,"body_markdown":"No, because &#39;assertsEnabled = true;&#39; evaulates to true, so if assertions ARE enabled, then the assertion succeeds. This is based on an example from Oracle&#39;s documentation at: http://docs.oracle.com/javase/1.4.2/docs/guide/lang/assert.html","body":"No, because &#39;assertsEnabled = true;&#39; evaulates to true, so if assertions ARE enabled, then the assertion succeeds. This is based on an example from Oracle&#39;s documentation at: <a href=\"http://docs.oracle.com/javase/1.4.2/docs/guide/lang/assert.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/1.4.2/docs/guide/lang/assert.html</a>"},{"owner":{"account_id":8670,"reputation":74291,"user_id":15721,"accept_rate":74,"display_name":"Will"},"score":2,"creation_date":1369941664,"post_id":16788189,"comment_id":24289673,"body_markdown":"If I could accept multiple answers I would accept this too!  My static analyser complained about the side-effect in an assert so I went with the try/catch to keep it quiet and to make the code less &#39;aha&#39; for those who follow.","body":"If I could accept multiple answers I would accept this too!  My static analyser complained about the side-effect in an assert so I went with the try/catch to keep it quiet and to make the code less &#39;aha&#39; for those who follow."}],"tags":[],"owner":{"account_id":2590947,"reputation":1058,"user_id":2245668,"display_name":"kevin847"},"comment_count":3,"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1369732386,"creation_date":1369732386,"answer_id":16788189,"question_id":16788085,"body_markdown":"    public static boolean areAssertsEnabled() {\r\n      boolean assertsEnabled = false;\r\n      assert assertsEnabled = true; // Intentional side effect!!!\r\n      return assertsEnabled;\r\n    }","title":"Checking if assertions are enabled","body":"<pre><code>public static boolean areAssertsEnabled() {\n  boolean assertsEnabled = false;\n  assert assertsEnabled = true; // Intentional side effect!!!\n  return assertsEnabled;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1283501,"reputation":51335,"user_id":1237040,"display_name":"Ravi K Thapliyal"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1369732412,"creation_date":1369732412,"answer_id":16788199,"question_id":16788085,"body_markdown":"    boolean assertEnabled = false;\r\n    \r\n    try {\r\n       assert false;\r\n    } catch (AssertionError e) {\r\n       assertEnabled = true;\r\n    }","title":"Checking if assertions are enabled","body":"<pre><code>boolean assertEnabled = false;\n\ntry {\n   assert false;\n} catch (AssertionError e) {\n   assertEnabled = true;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1911430,"reputation":2483,"user_id":1725151,"accept_rate":67,"display_name":"Guildenstern"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673208620,"creation_date":1673042702,"answer_id":75036494,"question_id":16788085,"body_markdown":"The [sibling answer][1] is correct. But I question the utility and the generality of this approach. (Jump to “Alternative approach” for another way to deal with this problem.)\r\n\r\nThe simplest way for assertions to be enabled is if they are enabled for all classes.\r\n\r\n```\r\n-ea\r\n```\r\n\r\nor:\r\n\r\n```\r\n-enableassertions\r\n```\r\n\r\nIn that case you can store that fact in one variable and use it throughout your program:\r\n\r\n```\r\npublic class Main {\r\n\r\n    public static boolean assertsEnabled = false;\r\n    static {\r\n        assert assertsEnabled = true;\r\n    }\r\n[…]\r\n}\r\n```\r\n\r\nBut say I have classes\r\n\r\n```\r\nMain, A, B, C\r\n```\r\n\r\nAnd:\r\n\r\n```\r\n-ea:Main -ea:A\r\n```\r\n\r\nI.e. assertions are only enabled for `Main` and `A`. The intent must thus be that assertions inside `B` and `C` shouldn’t be run.\r\n\r\nGiven this:\r\n\r\n```\r\npublic class Main {\r\n\r\n    public static boolean assertsEnabled = false;\r\n    static {\r\n        assert assertsEnabled = true;\r\n    }\r\n    public static void main(String[] args) {\r\n        System.out.println(&quot;Hello from main()&quot;);\r\n        m();\r\n        assert A.print();\r\n        A.print2();\r\n        assert B.print();\r\n        B.print2();\r\n        assert C.print();\r\n        C.print2();\r\n    }\r\n\r\n    private static void m() {\r\n        if (assertsEnabled) {\r\n            System.out.println(&quot;  main() again (using static variable)&quot;);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nIt is clear how the `print()` methods will be handled: they will be run since `-ea:Main`. If `-da:Main()` then they will not be run.\r\n\r\n`m()` will print the string since we know that `assertsEnabled`.\r\n\r\nThe `print2()` functions look like this:\r\n\r\n```\r\n// C\r\n    public static void print2() {\r\n        if (Main.assertsEnabled) {\r\n            System.out.println(&quot;  assert inside C (using variable from Main)&quot;);\r\n        }\r\n    }\r\n```\r\n\r\nHere, it is also clear what will happen: the program will print that string since `-ea:Main` and the way we initialized `Main.assertsEnabled`. But hold on: assertions are disabled for `C` (effectively `-da:C`). So is this really what we intended? Perhaps. Or perhaps we just used the static variable belonging to `Main` as it was convenient enough, and didn’t consider that this _run in `Main`_:\r\n\r\n```\r\n\r\n    public static boolean assertsEnabled = false;\r\n    static {\r\n        assert assertsEnabled = true;\r\n    }\r\n```\r\n\r\nWill behave differently than the exact same code which would be copy-pasted into `C`.\r\n\r\nSo code that acts differently based on the assertion inclusion of _other_ classes seems potentially confusing. Let’s instead just copy–paste this snippet into every class which uses assertions:\r\n\r\n```\r\n    private static boolean assertsEnabled = false;\r\n    static {\r\n        assert assertsEnabled = true;\r\n    }\r\n```\r\n\r\nAnd use it like this:\r\n\r\n```\r\nif (assertsEnabled) {\r\n  // Error checking\r\n}\r\n```\r\n\r\nBut I think there is a more straightforward approach.\r\n\r\n## Alternative approach\r\n\r\nOP:\r\n\r\n&gt; I want to take some code paths that perform expensive checks only if the JVM is invoked with assertions enabled.\r\n\r\n1. For any block of code X which is only supposed to be run if assertions are enabled\r\n2. Make a static method `x()` with return type `boolean`\r\n3. Just put `return true` to satisfy the type checker (could also be whatever you want to assert, but since you want to check if assertions are enabled _and then_ run some code it seems that the checks are more involved than what one single boolean expression can conveniently achieve)\r\n4. Put X inside the method body\r\n5. Put `assert` in front of all invocations of `x()`\r\n\r\n```\r\nassert x();\r\n[…]\r\nprivate static boolean x() {\r\n    // X\r\n}\r\n```\r\n\r\nFor example:\r\n\r\n```\r\nprivate static boolean x() {\r\n    var setup = new Setup();\r\n    assert ...;\r\n    assert ...;\r\n    [more setup and preparation]\r\n    assert ...;\r\n    return true;\r\n}\r\n```\r\n\r\n### Interleaving regular code and assertion code \r\n\r\nThe “time how long this runs” problem: sometimes you have cross-cutting concerns. In this case, you might want to run some assertion-only code, then the regular code, and then finally the other part of the assertion-only code (which uses the first part).\r\n\r\n[The Java article][2] on assertions covers how to approach this problem:\r\n\r\n&gt;  Occasionally it is necessary to save some data prior to performing a computation in order to check a postcondition. You can do this with two assert statements and a simple inner class that saves the state of one or more variables so they can be checked (or rechecked) after the computation. […]\r\n\r\nHere’s a more simplified and hand-wavy example:\r\n\r\n```\r\n    private static void doWork(Work work) {\r\n        ConsistencyCheck cc = null;\r\n        assert ((cc = new ConsistencyCheck(work)) != null);\r\n        doWorkInner(work);\r\n        assert cc.check(work);\r\n    }\r\n```\r\n\r\nThe only overhead here (if it isn’t removed by the JIT as dead code) when running with assertions disabled would be to initialize an object to `null`, which shouldn’t be expensive.\r\n\r\n[1]: https://stackoverflow.com/a/16788189/1725151\r\n[2]: https://docs.oracle.com/javase/7/docs/technotes/guides/language/assert.html","title":"Checking if assertions are enabled","body":"<p>The <a href=\"https://stackoverflow.com/a/16788189/1725151\">sibling answer</a> is correct. But I question the utility and the generality of this approach. (Jump to “Alternative approach” for another way to deal with this problem.)</p>\n<p>The simplest way for assertions to be enabled is if they are enabled for all classes.</p>\n<pre><code>-ea\n</code></pre>\n<p>or:</p>\n<pre><code>-enableassertions\n</code></pre>\n<p>In that case you can store that fact in one variable and use it throughout your program:</p>\n<pre><code>public class Main {\n\n    public static boolean assertsEnabled = false;\n    static {\n        assert assertsEnabled = true;\n    }\n[…]\n}\n</code></pre>\n<p>But say I have classes</p>\n<pre><code>Main, A, B, C\n</code></pre>\n<p>And:</p>\n<pre><code>-ea:Main -ea:A\n</code></pre>\n<p>I.e. assertions are only enabled for <code>Main</code> and <code>A</code>. The intent must thus be that assertions inside <code>B</code> and <code>C</code> shouldn’t be run.</p>\n<p>Given this:</p>\n<pre><code>public class Main {\n\n    public static boolean assertsEnabled = false;\n    static {\n        assert assertsEnabled = true;\n    }\n    public static void main(String[] args) {\n        System.out.println(&quot;Hello from main()&quot;);\n        m();\n        assert A.print();\n        A.print2();\n        assert B.print();\n        B.print2();\n        assert C.print();\n        C.print2();\n    }\n\n    private static void m() {\n        if (assertsEnabled) {\n            System.out.println(&quot;  main() again (using static variable)&quot;);\n        }\n    }\n}\n</code></pre>\n<p>It is clear how the <code>print()</code> methods will be handled: they will be run since <code>-ea:Main</code>. If <code>-da:Main()</code> then they will not be run.</p>\n<p><code>m()</code> will print the string since we know that <code>assertsEnabled</code>.</p>\n<p>The <code>print2()</code> functions look like this:</p>\n<pre><code>// C\n    public static void print2() {\n        if (Main.assertsEnabled) {\n            System.out.println(&quot;  assert inside C (using variable from Main)&quot;);\n        }\n    }\n</code></pre>\n<p>Here, it is also clear what will happen: the program will print that string since <code>-ea:Main</code> and the way we initialized <code>Main.assertsEnabled</code>. But hold on: assertions are disabled for <code>C</code> (effectively <code>-da:C</code>). So is this really what we intended? Perhaps. Or perhaps we just used the static variable belonging to <code>Main</code> as it was convenient enough, and didn’t consider that this <em>run in <code>Main</code></em>:</p>\n<pre><code>\n    public static boolean assertsEnabled = false;\n    static {\n        assert assertsEnabled = true;\n    }\n</code></pre>\n<p>Will behave differently than the exact same code which would be copy-pasted into <code>C</code>.</p>\n<p>So code that acts differently based on the assertion inclusion of <em>other</em> classes seems potentially confusing. Let’s instead just copy–paste this snippet into every class which uses assertions:</p>\n<pre><code>    private static boolean assertsEnabled = false;\n    static {\n        assert assertsEnabled = true;\n    }\n</code></pre>\n<p>And use it like this:</p>\n<pre><code>if (assertsEnabled) {\n  // Error checking\n}\n</code></pre>\n<p>But I think there is a more straightforward approach.</p>\n<h2>Alternative approach</h2>\n<p>OP:</p>\n<blockquote>\n<p>I want to take some code paths that perform expensive checks only if the JVM is invoked with assertions enabled.</p>\n</blockquote>\n<ol>\n<li>For any block of code X which is only supposed to be run if assertions are enabled</li>\n<li>Make a static method <code>x()</code> with return type <code>boolean</code></li>\n<li>Just put <code>return true</code> to satisfy the type checker (could also be whatever you want to assert, but since you want to check if assertions are enabled <em>and then</em> run some code it seems that the checks are more involved than what one single boolean expression can conveniently achieve)</li>\n<li>Put X inside the method body</li>\n<li>Put <code>assert</code> in front of all invocations of <code>x()</code></li>\n</ol>\n<pre><code>assert x();\n[…]\nprivate static boolean x() {\n    // X\n}\n</code></pre>\n<p>For example:</p>\n<pre><code>private static boolean x() {\n    var setup = new Setup();\n    assert ...;\n    assert ...;\n    [more setup and preparation]\n    assert ...;\n    return true;\n}\n</code></pre>\n<h3>Interleaving regular code and assertion code</h3>\n<p>The “time how long this runs” problem: sometimes you have cross-cutting concerns. In this case, you might want to run some assertion-only code, then the regular code, and then finally the other part of the assertion-only code (which uses the first part).</p>\n<p><a href=\"https://docs.oracle.com/javase/7/docs/technotes/guides/language/assert.html\" rel=\"nofollow noreferrer\">The Java article</a> on assertions covers how to approach this problem:</p>\n<blockquote>\n<p>Occasionally it is necessary to save some data prior to performing a computation in order to check a postcondition. You can do this with two assert statements and a simple inner class that saves the state of one or more variables so they can be checked (or rechecked) after the computation. […]</p>\n</blockquote>\n<p>Here’s a more simplified and hand-wavy example:</p>\n<pre><code>    private static void doWork(Work work) {\n        ConsistencyCheck cc = null;\n        assert ((cc = new ConsistencyCheck(work)) != null);\n        doWorkInner(work);\n        assert cc.check(work);\n    }\n</code></pre>\n<p>The only overhead here (if it isn’t removed by the JIT as dead code) when running with assertions disabled would be to initialize an object to <code>null</code>, which shouldn’t be expensive.</p>\n"}],"owner":{"account_id":8670,"reputation":74291,"user_id":15721,"accept_rate":74,"display_name":"Will"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1115,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":16788199,"answer_count":4,"score":5,"last_activity_date":1673270277,"creation_date":1369732051,"question_id":16788085,"body_markdown":"You can enable/disable `assert` on the [`ClassLoader`][1].\r\n\r\nBut how can you determine if they are already enabled?\r\n\r\n(I want to take some code paths that perform expensive checks only if the JVM is invoked with assertions enabled.)\r\n\r\n\r\n  [1]: http://docs.oracle.com/cd/E19683-01/806-7930/assert-5/index.html","title":"Checking if assertions are enabled","body":"<p>You can enable/disable <code>assert</code> on the <a href=\"http://docs.oracle.com/cd/E19683-01/806-7930/assert-5/index.html\" rel=\"noreferrer\"><code>ClassLoader</code></a>.</p>\n\n<p>But how can you determine if they are already enabled?</p>\n\n<p>(I want to take some code paths that perform expensive checks only if the JVM is invoked with assertions enabled.)</p>\n"},{"tags":["java","reflection"],"comments":[{"owner":{"account_id":1636,"reputation":20746,"user_id":2197,"accept_rate":76,"display_name":"David Koelle"},"score":11,"creation_date":1239724329,"post_id":744226,"comment_id":559511,"body_markdown":"All great answers! Thanks to everyone for replying and commenting - this has been an interesting and insightful discussion.","body":"All great answers! Thanks to everyone for replying and commenting - this has been an interesting and insightful discussion."},{"owner":{"account_id":474835,"reputation":10401,"user_id":884778,"accept_rate":71,"display_name":"Dhiral Pandya"},"score":0,"creation_date":1331921257,"post_id":744226,"comment_id":12390880,"body_markdown":"I found [this Detail Tutorial for Reflection](http://omtlab.com/java-reflection-tutorial/)","body":"I found <a href=\"http://omtlab.com/java-reflection-tutorial/\" rel=\"nofollow noreferrer\">this Detail Tutorial for Reflection</a>"},{"owner":{"account_id":459428,"reputation":258,"user_id":859903,"accept_rate":29,"display_name":"Wendal Chen"},"score":0,"creation_date":1334127938,"post_id":744226,"comment_id":19577735,"body_markdown":"It is possible. See my [gist][1]. Works for JDK 1.1 to JDK 7. [1]:https://gist.github.com/2011728","body":"It is possible. See my [gist][1]. Works for JDK 1.1 to JDK 7. [1]:<a href=\"https://gist.github.com/2011728\" rel=\"nofollow noreferrer\">gist.github.com/2011728</a>"},{"owner":{"account_id":37136,"reputation":57822,"user_id":106104,"accept_rate":62,"display_name":"user253751"},"score":0,"creation_date":1436917612,"post_id":744226,"comment_id":50810939,"body_markdown":"possible duplicate of [Is there a way in Java to find the name of the variable that was passed to a function?](http://stackoverflow.com/questions/9984550/is-there-a-way-in-java-to-find-the-name-of-the-variable-that-was-passed-to-a-fun)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/9984550/is-there-a-way-in-java-to-find-the-name-of-the-variable-that-was-passed-to-a-fun\">Is there a way in Java to find the name of the variable that was passed to a function?</a>"},{"owner":{"account_id":1636,"reputation":20746,"user_id":2197,"accept_rate":76,"display_name":"David Koelle"},"score":3,"creation_date":1437168748,"post_id":744226,"comment_id":50934911,"body_markdown":"Not a duplicate, and updated my question to explain why. If anything, that other question is a duplicate (or special case) of this one!","body":"Not a duplicate, and updated my question to explain why. If anything, that other question is a duplicate (or special case) of this one!"}],"answers":[{"comments":[{"owner":{"account_id":1108,"reputation":9901,"user_id":1471,"accept_rate":64,"display_name":"Tim Frey"},"score":0,"creation_date":1239636169,"post_id":744232,"comment_id":555754,"body_markdown":"Then how do you explain this: http://java.sun.com/javase/6/docs/api/java/lang/reflect/Field.html   ?","body":"Then how do you explain this: <a href=\"http://java.sun.com/javase/6/docs/api/java/lang/reflect/Field.html\" rel=\"nofollow noreferrer\">java.sun.com/javase/6/docs/api/java/lang/reflect/Field.html</a>   ?"},{"owner":{"account_id":20338,"reputation":63801,"user_id":48503,"accept_rate":100,"display_name":"Luke Woodward"},"score":1,"creation_date":1239636667,"post_id":744232,"comment_id":555788,"body_markdown":"-1: I think you&#39;ve misunderstood. @David is after fields, not local variables.  Local variables are indeed unavailable through the Reflection API.","body":"-1: I think you&#39;ve misunderstood. @David is after fields, not local variables.  Local variables are indeed unavailable through the Reflection API."},{"owner":{"account_id":7745,"reputation":189765,"user_id":13531,"accept_rate":75,"display_name":"Michael Myers"},"score":0,"creation_date":1239636899,"post_id":744232,"comment_id":555798,"body_markdown":"I think Pourquoi Litytestdata is right. Obviously fields can&#39;t be optimized away, so Marcel J. must be thinking of local variables.","body":"I think Pourquoi Litytestdata is right. Obviously fields can&#39;t be optimized away, so Marcel J. must be thinking of local variables."},{"owner":{"account_id":19061,"reputation":185746,"user_id":44330,"accept_rate":70,"display_name":"Jason S"},"score":3,"creation_date":1239637043,"post_id":744232,"comment_id":555805,"body_markdown":"@David: You need to edit to clarify that you meant fields rather than local variables. The original question gives code that declares b, a, and r as local variables.","body":"@David: You need to edit to clarify that you meant fields rather than local variables. The original question gives code that declares b, a, and r as local variables."},{"owner":{"account_id":19061,"reputation":185746,"user_id":44330,"accept_rate":70,"display_name":"Jason S"},"score":0,"creation_date":1239637092,"post_id":744232,"comment_id":555806,"body_markdown":"please don&#39;t penalize someone for not reading minds when the original poster meant one thing but asked something else. :(","body":"please don&#39;t penalize someone for not reading minds when the original poster meant one thing but asked something else. :("},{"owner":{"account_id":13988,"reputation":54108,"user_id":28401,"accept_rate":68,"display_name":"Marcel Jackwerth"},"score":0,"creation_date":1239637153,"post_id":744232,"comment_id":555811,"body_markdown":"I agree that he was talking about fields, but the method he provides as an example clearly states that he will use them as parameters like in `baz(b,a,r);` which simply won&#39;t work.","body":"I agree that he was talking about fields, but the method he provides as an example clearly states that he will use them as parameters like in <code>baz(b,a,r);</code> which simply won&#39;t work."},{"owner":{"account_id":7745,"reputation":189765,"user_id":13531,"accept_rate":75,"display_name":"Michael Myers"},"score":0,"creation_date":1239637199,"post_id":744232,"comment_id":555813,"body_markdown":"@Jason S: He said both &quot;instance variable&quot; and &quot;field&quot;. Those declarations could be local variables, or they could be package-private fields, or he could have been making them up on the spot and simply forgot the access modifiers. They don&#39;t _directly_ contradict the actual question as asked.","body":"@Jason S: He said both &quot;instance variable&quot; and &quot;field&quot;. Those declarations could be local variables, or they could be package-private fields, or he could have been making them up on the spot and simply forgot the access modifiers. They don&#39;t <i>directly</i> contradict the actual question as asked."},{"owner":{"account_id":1636,"reputation":20746,"user_id":2197,"accept_rate":76,"display_name":"David Koelle"},"score":9,"creation_date":1239637282,"post_id":744232,"comment_id":555820,"body_markdown":"I did mean local variables, and I&#39;ve edited the question to reflect that.  I thought it might not be possible to get variable names, but I figured I&#39;d ask SO before considering it impossible.","body":"I did mean local variables, and I&#39;ve edited the question to reflect that.  I thought it might not be possible to get variable names, but I figured I&#39;d ask SO before considering it impossible."},{"owner":{"account_id":20338,"reputation":63801,"user_id":48503,"accept_rate":100,"display_name":"Luke Woodward"},"score":0,"creation_date":1239637410,"post_id":744232,"comment_id":555826,"body_markdown":"Downvote rescinded.  Apologies for misunderstanding and thanks for clarifying.","body":"Downvote rescinded.  Apologies for misunderstanding and thanks for clarifying."}],"tags":[],"owner":{"account_id":13988,"reputation":54108,"user_id":28401,"accept_rate":68,"display_name":"Marcel Jackwerth"},"comment_count":9,"down_vote_count":1,"up_vote_count":58,"is_accepted":false,"score":57,"last_activity_date":1239637703,"creation_date":1239636003,"answer_id":744232,"question_id":744226,"body_markdown":"It is *not* possible at all. Variable names aren&#39;t communicated within Java (and might also be removed due to compiler optimizations).\r\n\r\n**EDIT (related to comments):**\r\n\r\nIf you step back from the idea of having to use it as function parameters, here&#39;s an alternative (which I wouldn&#39;t use - see below):\r\n\r\n    public void printFieldNames(Object obj, Foo... foos) {\r\n        List&lt;Foo&gt; fooList = Arrays.asList(foos);\r\n        for(Field field : obj.getClass().getFields()) {\r\n             if(fooList.contains(field.get()) {\r\n                  System.out.println(field.getName());\r\n             }\r\n        }\r\n    }\r\n\r\nThere will be issues if `a == b, a == r, or b == r` or there are other fields which have the same references.\r\n\r\n**EDIT now unnecessary since question got clarified**","title":"Java Reflection: How to get the name of a variable?","body":"<p>It is <em>not</em> possible at all. Variable names aren't communicated within Java (and might also be removed due to compiler optimizations).</p>\n\n<p><strong>EDIT (related to comments):</strong></p>\n\n<p>If you step back from the idea of having to use it as function parameters, here's an alternative (which I wouldn't use - see below):</p>\n\n<pre><code>public void printFieldNames(Object obj, Foo... foos) {\n    List&lt;Foo&gt; fooList = Arrays.asList(foos);\n    for(Field field : obj.getClass().getFields()) {\n         if(fooList.contains(field.get()) {\n              System.out.println(field.getName());\n         }\n    }\n}\n</code></pre>\n\n<p>There will be issues if <code>a == b, a == r, or b == r</code> or there are other fields which have the same references.</p>\n\n<p><strong>EDIT now unnecessary since question got clarified</strong></p>\n"},{"comments":[{"owner":{"account_id":7745,"reputation":189765,"user_id":13531,"accept_rate":75,"display_name":"Michael Myers"},"score":1,"creation_date":1239638787,"post_id":744249,"comment_id":555906,"body_markdown":"Uh-oh, erickson posted while I was editing and now I&#39;m contradicting him. Which probably means I&#39;m wrong.","body":"Uh-oh, erickson posted while I was editing and now I&#39;m contradicting him. Which probably means I&#39;m wrong."},{"owner":{"account_id":2496,"reputation":266244,"user_id":3474,"accept_rate":83,"display_name":"erickson"},"score":0,"creation_date":1239650226,"post_id":744249,"comment_id":556575,"body_markdown":"By default, `javac` puts a local variable table in the class for each method to assist debugging. Use the `-l` option to `javap` to see the local variable table.","body":"By default, <code>javac</code> puts a local variable table in the class for each method to assist debugging. Use the <code>-l</code> option to <code>javap</code> to see the local variable table."},{"owner":{"account_id":7745,"reputation":189765,"user_id":13531,"accept_rate":75,"display_name":"Michael Myers"},"score":0,"creation_date":1239652834,"post_id":744249,"comment_id":556700,"body_markdown":"Not by default, it seems. I had to use `javac -g:vars` to get it. (I&#39;ve been trying to edit this answer for the past three hours, but as I said my network connection is having problems, which makes it hard to research.)","body":"Not by default, it seems. I had to use <code>javac -g:vars</code> to get it. (I&#39;ve been trying to edit this answer for the past three hours, but as I said my network connection is having problems, which makes it hard to research.)"},{"owner":{"account_id":2496,"reputation":266244,"user_id":3474,"accept_rate":83,"display_name":"erickson"},"score":2,"creation_date":1239724667,"post_id":744249,"comment_id":559529,"body_markdown":"You&#39;re right, sorry about that. It&#39;s line numbers that are &quot;on&quot; by default.","body":"You&#39;re right, sorry about that. It&#39;s line numbers that are &quot;on&quot; by default."}],"tags":[],"owner":{"account_id":7745,"reputation":189765,"user_id":13531,"accept_rate":75,"display_name":"Michael Myers"},"comment_count":4,"down_vote_count":0,"up_vote_count":33,"is_accepted":false,"score":33,"last_activity_date":1239653371,"creation_date":1239636295,"answer_id":744249,"question_id":744226,"body_markdown":"(*Edit: two previous answers removed, one for answering the question as it stood before edits and one for being, if not absolutely wrong, at least close to it.*)\r\n\r\nIf you compile with debug information on (`javac -g`), the names of local variables are kept in the .class file. For example, take this simple class:\r\n\r\n    class TestLocalVarNames {\r\n        public String aMethod(int arg) {\r\n            String local1 = &quot;a string&quot;;\r\n            StringBuilder local2 = new StringBuilder();\r\n            return local2.append(local1).append(arg).toString();\r\n        }\r\n    }\r\nAfter compiling with `javac -g:vars TestLocalVarNames.java`, the names of local variables are now in the .class file. `javap`&#39;s `-l` flag (&quot;Print line number and local variable tables&quot;) can show them.\r\n\r\n`javap -l -c TestLocalVarNames` shows:\r\n\r\n    class TestLocalVarNames extends java.lang.Object{\r\n    TestLocalVarNames();\r\n      Code:\r\n       0:   aload_0\r\n       1:   invokespecial   #1; //Method java/lang/Object.&quot;&lt;init&gt;&quot;:()V\r\n       4:   return\r\n    \r\n      LocalVariableTable:\r\n       Start  Length  Slot  Name   Signature\r\n       0      5      0    this       LTestLocalVarNames;\r\n    \r\n    public java.lang.String aMethod(int);\r\n      Code:\r\n       0:   ldc     #2; //String a string\r\n       2:   astore_2\r\n       3:   new     #3; //class java/lang/StringBuilder\r\n       6:   dup\r\n       7:   invokespecial   #4; //Method java/lang/StringBuilder.&quot;&lt;init&gt;&quot;:()V\r\n       10:  astore_3\r\n       11:  aload_3\r\n       12:  aload_2\r\n       13:  invokevirtual   #5; //Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;\r\n       16:  iload_1\r\n       17:  invokevirtual   #6; //Method java/lang/StringBuilder.append:(I)Ljava/lang/StringBuilder;\r\n       20:  invokevirtual   #7; //Method java/lang/StringBuilder.toString:()Ljava/lang/String;\r\n       23:  areturn\r\n    \r\n      LocalVariableTable:\r\n       Start  Length  Slot  Name   Signature\r\n       0      24      0    this       LTestLocalVarNames;\r\n       0      24      1    arg       I\r\n       3      21      2    local1       Ljava/lang/String;\r\n       11      13      3    local2       Ljava/lang/StringBuilder;\r\n    }\r\n\r\nThe [VM spec][1] explains what we&#39;re seeing here:\r\n\r\n[&#167;4.7.9 The `LocalVariableTable` Attribute][2]: \r\n&gt;The `LocalVariableTable` attribute is an optional variable-length attribute of a `Code` (&#167;4.7.3) attribute. It may be used by debuggers to determine the value of a given local variable during the execution of a method.\r\n\r\nThe `LocalVariableTable` stores the names and types of the variables in each slot, so it is possible to match them up with the bytecode. This is how debuggers can do &quot;Evaluate expression&quot;.\r\n\r\nAs erickson said, though, there&#39;s no way to access this table through normal reflection. If you&#39;re still determined to do this, I believe the [Java Platform Debugger Architecture (JPDA)][3] will help (but I&#39;ve never used it myself).\r\n\r\n\r\n  [1]: http://java.sun.com/docs/books/vmspec/2nd-edition/html/VMSpecTOC.doc.html\r\n  [2]: http://java.sun.com/docs/books/jvms/second_edition/html/ClassFile.doc.html#5956\r\n  [3]: http://java.sun.com/javase/technologies/core/toolsapis/jpda/","title":"Java Reflection: How to get the name of a variable?","body":"<p>(<em>Edit: two previous answers removed, one for answering the question as it stood before edits and one for being, if not absolutely wrong, at least close to it.</em>)</p>\n\n<p>If you compile with debug information on (<code>javac -g</code>), the names of local variables are kept in the .class file. For example, take this simple class:</p>\n\n<pre><code>class TestLocalVarNames {\n    public String aMethod(int arg) {\n        String local1 = \"a string\";\n        StringBuilder local2 = new StringBuilder();\n        return local2.append(local1).append(arg).toString();\n    }\n}\n</code></pre>\n\n<p>After compiling with <code>javac -g:vars TestLocalVarNames.java</code>, the names of local variables are now in the .class file. <code>javap</code>'s <code>-l</code> flag (\"Print line number and local variable tables\") can show them.</p>\n\n<p><code>javap -l -c TestLocalVarNames</code> shows:</p>\n\n<pre><code>class TestLocalVarNames extends java.lang.Object{\nTestLocalVarNames();\n  Code:\n   0:   aload_0\n   1:   invokespecial   #1; //Method java/lang/Object.\"&lt;init&gt;\":()V\n   4:   return\n\n  LocalVariableTable:\n   Start  Length  Slot  Name   Signature\n   0      5      0    this       LTestLocalVarNames;\n\npublic java.lang.String aMethod(int);\n  Code:\n   0:   ldc     #2; //String a string\n   2:   astore_2\n   3:   new     #3; //class java/lang/StringBuilder\n   6:   dup\n   7:   invokespecial   #4; //Method java/lang/StringBuilder.\"&lt;init&gt;\":()V\n   10:  astore_3\n   11:  aload_3\n   12:  aload_2\n   13:  invokevirtual   #5; //Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;\n   16:  iload_1\n   17:  invokevirtual   #6; //Method java/lang/StringBuilder.append:(I)Ljava/lang/StringBuilder;\n   20:  invokevirtual   #7; //Method java/lang/StringBuilder.toString:()Ljava/lang/String;\n   23:  areturn\n\n  LocalVariableTable:\n   Start  Length  Slot  Name   Signature\n   0      24      0    this       LTestLocalVarNames;\n   0      24      1    arg       I\n   3      21      2    local1       Ljava/lang/String;\n   11      13      3    local2       Ljava/lang/StringBuilder;\n}\n</code></pre>\n\n<p>The <a href=\"http://java.sun.com/docs/books/vmspec/2nd-edition/html/VMSpecTOC.doc.html\" rel=\"noreferrer\">VM spec</a> explains what we're seeing here:</p>\n\n<p><a href=\"http://java.sun.com/docs/books/jvms/second_edition/html/ClassFile.doc.html#5956\" rel=\"noreferrer\">§4.7.9 The <code>LocalVariableTable</code> Attribute</a>: </p>\n\n<blockquote>\n  <p>The <code>LocalVariableTable</code> attribute is an optional variable-length attribute of a <code>Code</code> (§4.7.3) attribute. It may be used by debuggers to determine the value of a given local variable during the execution of a method.</p>\n</blockquote>\n\n<p>The <code>LocalVariableTable</code> stores the names and types of the variables in each slot, so it is possible to match them up with the bytecode. This is how debuggers can do \"Evaluate expression\".</p>\n\n<p>As erickson said, though, there's no way to access this table through normal reflection. If you're still determined to do this, I believe the <a href=\"http://java.sun.com/javase/technologies/core/toolsapis/jpda/\" rel=\"noreferrer\">Java Platform Debugger Architecture (JPDA)</a> will help (but I've never used it myself).</p>\n"},{"tags":[],"owner":{"account_id":2496,"reputation":266244,"user_id":3474,"accept_rate":83,"display_name":"erickson"},"comment_count":0,"down_vote_count":2,"up_vote_count":73,"is_accepted":true,"score":71,"last_activity_date":1395343847,"creation_date":1239638155,"answer_id":744341,"question_id":744226,"body_markdown":"As of Java 8, some local variable name information is available through reflection. See the *&quot;Update&quot;* section below.\r\n\r\nComplete information is often stored in class files. One compile-time optimization is to remove it, saving space (and providing some obsfuscation). However, when it is is present, each method has a local variable table attribute that lists the type and name of local variables, and the range of instructions where they are in scope.\r\n\r\nPerhaps a byte-code engineering library like [ASM][1] would allow you to inspect this information at runtime. The only reasonable place I can think of for needing this information is in a development tool, and so byte-code engineering is likely to be useful for other purposes too.\r\n\r\n---\r\n\r\n*Update:* Limited support for this was [added to Java 8.][2] Parameter (a special class of local variable) names are now available via reflection. Among other purposes, this can help to replace `@ParameterName` annotations used by dependency injection containers.\r\n\r\n\r\n  [1]: http://asm.ow2.org/\r\n  [2]: http://openjdk.java.net/jeps/118","title":"Java Reflection: How to get the name of a variable?","body":"<p>As of Java 8, some local variable name information is available through reflection. See the <em>\"Update\"</em> section below.</p>\n\n<p>Complete information is often stored in class files. One compile-time optimization is to remove it, saving space (and providing some obsfuscation). However, when it is is present, each method has a local variable table attribute that lists the type and name of local variables, and the range of instructions where they are in scope.</p>\n\n<p>Perhaps a byte-code engineering library like <a href=\"http://asm.ow2.org/\" rel=\"noreferrer\">ASM</a> would allow you to inspect this information at runtime. The only reasonable place I can think of for needing this information is in a development tool, and so byte-code engineering is likely to be useful for other purposes too.</p>\n\n<hr>\n\n<p><em>Update:</em> Limited support for this was <a href=\"http://openjdk.java.net/jeps/118\" rel=\"noreferrer\">added to Java 8.</a> Parameter (a special class of local variable) names are now available via reflection. Among other purposes, this can help to replace <code>@ParameterName</code> annotations used by dependency injection containers.</p>\n"},{"comments":[{"owner":{"account_id":484053,"reputation":1156,"user_id":899494,"accept_rate":77,"display_name":"Vombat"},"score":6,"creation_date":1427786002,"post_id":4562044,"comment_id":46909024,"body_markdown":"`getDeclaredFields()` can be used in case you want private field’s names as well","body":"<code>getDeclaredFields()</code> can be used in case you want private field’s names as well"}],"tags":[],"owner":{"account_id":65162,"reputation":9302,"user_id":191969,"accept_rate":66,"display_name":"Peeter"},"comment_count":1,"down_vote_count":2,"up_vote_count":21,"is_accepted":false,"score":19,"last_activity_date":1673270265,"creation_date":1293707015,"answer_id":4562044,"question_id":744226,"body_markdown":"    import java.lang.reflect.Field;\r\n    \r\n    \r\n    public class Test {\r\n    \r\n     public int i = 5;\r\n     \r\n     public Integer test = 5;\r\n     \r\n     public String omghi = &quot;der&quot;;\r\n     \r\n     public static String testStatic = &quot;THIS IS STATIC&quot;;\r\n     \r\n     public static void main(String[] args) throws IllegalArgumentException, IllegalAccessException {\r\n      Test t = new Test();\r\n      for(Field f : t.getClass().getFields()) {\r\n       System.out.println(f.getGenericType() +&quot; &quot;+f.getName() + &quot; = &quot; + f.get(t));\r\n      }\r\n     }\r\n    \r\n    }\r\n\r\n","title":"Java Reflection: How to get the name of a variable?","body":"<pre><code>import java.lang.reflect.Field;\n\n\npublic class Test {\n\n public int i = 5;\n \n public Integer test = 5;\n \n public String omghi = &quot;der&quot;;\n \n public static String testStatic = &quot;THIS IS STATIC&quot;;\n \n public static void main(String[] args) throws IllegalArgumentException, IllegalAccessException {\n  Test t = new Test();\n  for(Field f : t.getClass().getFields()) {\n   System.out.println(f.getGenericType() +&quot; &quot;+f.getName() + &quot; = &quot; + f.get(t));\n  }\n }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":939857,"reputation":457,"user_id":968117,"accept_rate":72,"display_name":"error_null_pointer"},"comment_count":0,"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1335506910,"creation_date":1332188826,"answer_id":9777425,"question_id":744226,"body_markdown":"All you need to do is make an array of fields and then set it to the class you want like shown below.\r\n\r\n    Field fld[] = (class name).class.getDeclaredFields();   \r\n    for(Field x : fld)\r\n    {System.out.println(x);}\r\n\r\nFor example if you did \r\n\r\n    Field fld[] = Integer.class.getDeclaredFields();\r\n\t\t\t  for(Field x : fld)\r\n\t\t\t  {System.out.println(x);}\r\n**you would get**\r\n\r\n    public static final int java.lang.Integer.MIN_VALUE\r\n    public static final int java.lang.Integer.MAX_VALUE\r\n    public static final java.lang.Class java.lang.Integer.TYPE\r\n    static final char[] java.lang.Integer.digits\r\n    static final char[] java.lang.Integer.DigitTens\r\n    static final char[] java.lang.Integer.DigitOnes\r\n    static final int[] java.lang.Integer.sizeTable\r\n    private static java.lang.String java.lang.Integer.integerCacheHighPropValue\r\n    private final int java.lang.Integer.value\r\n    public static final int java.lang.Integer.SIZE\r\n    private static final long java.lang.Integer.serialVersionUID","title":"Java Reflection: How to get the name of a variable?","body":"<p>All you need to do is make an array of fields and then set it to the class you want like shown below.</p>\n\n<pre><code>Field fld[] = (class name).class.getDeclaredFields();   \nfor(Field x : fld)\n{System.out.println(x);}\n</code></pre>\n\n<p>For example if you did </p>\n\n<pre><code>Field fld[] = Integer.class.getDeclaredFields();\n          for(Field x : fld)\n          {System.out.println(x);}\n</code></pre>\n\n<p><strong>you would get</strong></p>\n\n<pre><code>public static final int java.lang.Integer.MIN_VALUE\npublic static final int java.lang.Integer.MAX_VALUE\npublic static final java.lang.Class java.lang.Integer.TYPE\nstatic final char[] java.lang.Integer.digits\nstatic final char[] java.lang.Integer.DigitTens\nstatic final char[] java.lang.Integer.DigitOnes\nstatic final int[] java.lang.Integer.sizeTable\nprivate static java.lang.String java.lang.Integer.integerCacheHighPropValue\nprivate final int java.lang.Integer.value\npublic static final int java.lang.Integer.SIZE\nprivate static final long java.lang.Integer.serialVersionUID\n</code></pre>\n"},{"tags":[],"owner":{"account_id":355679,"reputation":189,"user_id":1283397,"display_name":"h.meknassi"},"comment_count":0,"down_vote_count":3,"up_vote_count":2,"is_accepted":false,"score":-1,"last_activity_date":1335469972,"creation_date":1335469972,"answer_id":10340458,"question_id":744226,"body_markdown":"see this example :\r\n\r\n    PersonneTest pt=new PersonneTest();\r\n    System.out.println(pt.getClass().getDeclaredFields().length);\r\n    Field[]x=pt.getClass().getDeclaredFields();\r\n    System.out.println(x[1].getName());","title":"Java Reflection: How to get the name of a variable?","body":"<p>see this example :</p>\n\n<pre><code>PersonneTest pt=new PersonneTest();\nSystem.out.println(pt.getClass().getDeclaredFields().length);\nField[]x=pt.getClass().getDeclaredFields();\nSystem.out.println(x[1].getName());\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3467967,"reputation":1511,"user_id":2903069,"accept_rate":24,"display_name":"Shashi Ranjan"},"score":0,"creation_date":1470891515,"post_id":13815279,"comment_id":65135614,"body_markdown":"Your answer works fine to get all the fieads. To get only one field, when I use: YourClass.class.getDeclaredField(&quot;field1&quot;); I get NullPointer. What is the problem in using it? How I should use getDeclaredField method?","body":"Your answer works fine to get all the fieads. To get only one field, when I use: YourClass.class.getDeclaredField(&quot;field1&quot;); I get NullPointer. What is the problem in using it? How I should use getDeclaredField method?"}],"tags":[],"owner":{"account_id":2130094,"reputation":1331,"user_id":1891112,"accept_rate":71,"display_name":"tinker_fairy"},"comment_count":1,"down_vote_count":3,"up_vote_count":17,"is_accepted":false,"score":14,"last_activity_date":1413363325,"creation_date":1355209702,"answer_id":13815279,"question_id":744226,"body_markdown":"You can do like this:\r\n\r\n    Field[] fields = YourClass.class.getDeclaredFields();\r\n    //gives no of fields\r\n    System.out.println(fields.length);         \r\n    for (Field field : fields) {\r\n        //gives the names of the fields\r\n        System.out.println(field.getName());   \r\n    }\r\n","title":"Java Reflection: How to get the name of a variable?","body":"<p>You can do like this:</p>\n\n<pre><code>Field[] fields = YourClass.class.getDeclaredFields();\n//gives no of fields\nSystem.out.println(fields.length);         \nfor (Field field : fields) {\n    //gives the names of the fields\n    System.out.println(field.getName());   \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8677386,"reputation":811,"user_id":6494418,"display_name":"Colin Wang"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656706262,"creation_date":1582643400,"answer_id":60397709,"question_id":744226,"body_markdown":"update @Marcel Jackwerth&#39;s answer for general.\r\n\r\nand only working with class attribute,\r\nnot working with method variable.\r\n\r\n```java\r\n/**\r\n * get variable name as string\r\n * only work with class attributes\r\n * not work with method variable\r\n *\r\n * @param headClass variable name space\r\n * @param vars      object variable\r\n * @throws IllegalAccessException\r\n */\r\npublic static void printFieldNames(Object headClass, Object... vars) throws IllegalAccessException {\r\n\tList&lt;Object&gt; fooList = Arrays.asList(vars);\r\n\tfor (Field field : headClass.getClass().getFields()) {\r\n\t\tif (fooList.contains(field.get(headClass))) {\r\n\t\t\tSystem.out.println(field.getGenericType() + &quot; &quot; + field.getName() + &quot; = &quot; + field.get(headClass));\r\n\t\t}\r\n\t}\r\n}\r\n```\r\n","title":"Java Reflection: How to get the name of a variable?","body":"<p>update @Marcel Jackwerth's answer for general.</p>\n<p>and only working with class attribute,\nnot working with method variable.</p>\n<pre class=\"lang-java prettyprint-override\"><code>/**\n * get variable name as string\n * only work with class attributes\n * not work with method variable\n *\n * @param headClass variable name space\n * @param vars      object variable\n * @throws IllegalAccessException\n */\npublic static void printFieldNames(Object headClass, Object... vars) throws IllegalAccessException {\n    List&lt;Object&gt; fooList = Arrays.asList(vars);\n    for (Field field : headClass.getClass().getFields()) {\n        if (fooList.contains(field.get(headClass))) {\n            System.out.println(field.getGenericType() + &quot; &quot; + field.getName() + &quot; = &quot; + field.get(headClass));\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":1636,"reputation":20746,"user_id":2197,"accept_rate":76,"display_name":"David Koelle"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":322775,"favorite_count":0,"down_vote_count":0,"up_vote_count":166,"accepted_answer_id":744341,"answer_count":8,"score":166,"last_activity_date":1673270265,"creation_date":1239635868,"question_id":744226,"body_markdown":"Using Java Reflection, is it possible to get the name of a local variable?  For example, if I have this:\r\n\r\n&lt;pre&gt;&lt;code&gt;Foo b = new Foo();\r\nFoo a = new Foo();\r\nFoo r = new Foo();\r\n&lt;/code&gt;&lt;/pre&gt;\r\n\r\nis it possible to implement a method that can find the names of those variables, like so:\r\n\r\n&lt;pre&gt;&lt;code&gt;public void baz(Foo... foos)\r\n{\r\n    for (Foo foo: foos) {\r\n        // Print the name of each foo - b, a, and r\r\n        System.out.println(***); \r\n    }\r\n}\r\n&lt;/code&gt;&lt;/pre&gt;\r\n\r\n*EDIT: This question is different from https://stackoverflow.com/questions/9984550/is-there-a-way-in-java-to-find-the-name-of-the-variable-that-was-passed-to-a-fun in that it more purely asks the question about whether one can use reflection to determine the name of a local variable, whereas the other question (including the accepted answer) is more focused on testing values of variables.*","title":"Java Reflection: How to get the name of a variable?","body":"<p>Using Java Reflection, is it possible to get the name of a local variable?  For example, if I have this:</p>\n\n<pre><code>Foo b = new Foo();\nFoo a = new Foo();\nFoo r = new Foo();\n</code></pre>\n\n<p>is it possible to implement a method that can find the names of those variables, like so:</p>\n\n<pre><code>public void baz(Foo... foos)\n{\n    for (Foo foo: foos) {\n        // Print the name of each foo - b, a, and r\n        System.out.println(***); \n    }\n}\n</code></pre>\n\n<p><em>EDIT: This question is different from <a href=\"https://stackoverflow.com/questions/9984550/is-there-a-way-in-java-to-find-the-name-of-the-variable-that-was-passed-to-a-fun\">Is there a way in Java to find the name of the variable that was passed to a function?</a> in that it more purely asks the question about whether one can use reflection to determine the name of a local variable, whereas the other question (including the accepted answer) is more focused on testing values of variables.</em></p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":2138757,"reputation":2526,"user_id":1897935,"accept_rate":81,"display_name":"Srinath Ganesh"},"score":0,"creation_date":1435133912,"post_id":31021248,"comment_id":50067710,"body_markdown":"Well i have not worked much with it but look for **javax.crypto** package","body":"Well i have not worked much with it but look for <b>javax.crypto</b> package"},{"owner":{"account_id":2675031,"reputation":234,"user_id":4022095,"accept_rate":100,"display_name":"King"},"score":0,"creation_date":1435134352,"post_id":31021248,"comment_id":50067962,"body_markdown":"I have that lib of javax.crypto already. Its my first time to work with it encrption, Currently I have  **lcrypto-jdk16-143.jar**, **lcrypto-jdk16-143**","body":"I have that lib of javax.crypto already. Its my first time to work with it encrption, Currently I have  <b>lcrypto-jdk16-143.jar</b>, <b>lcrypto-jdk16-143</b>"},{"owner":{"account_id":2138757,"reputation":2526,"user_id":1897935,"accept_rate":81,"display_name":"Srinath Ganesh"},"score":0,"creation_date":1435135599,"post_id":31021248,"comment_id":50068707,"body_markdown":"javax.crpto is inbuilt in ur jdk and try this http://javapapers.com/java/java-symmetric-aes-encryption-decryption-using-jce/","body":"javax.crpto is inbuilt in ur jdk and try this <a href=\"http://javapapers.com/java/java-symmetric-aes-encryption-decryption-using-jce/\" rel=\"nofollow noreferrer\">javapapers.com/java/&hellip;</a>"},{"owner":{"account_id":2675031,"reputation":234,"user_id":4022095,"accept_rate":100,"display_name":"King"},"score":0,"creation_date":1435136380,"post_id":31021248,"comment_id":50069186,"body_markdown":"I want to encrypt it with a password, sorry for not mentioning that on my question, I see your link is encrypting Strings, I want to encrypt a zipped file, will that code work if I also want to encrypt a zip file?","body":"I want to encrypt it with a password, sorry for not mentioning that on my question, I see your link is encrypting Strings, I want to encrypt a zipped file, will that code work if I also want to encrypt a zip file?"},{"owner":{"account_id":2138757,"reputation":2526,"user_id":1897935,"accept_rate":81,"display_name":"Srinath Ganesh"},"score":0,"creation_date":1435161566,"post_id":31021248,"comment_id":50087339,"body_markdown":"First off all , work in crypt at **byte** level . so the **file extension** wont matter... Zip readers cannot read your java emcrypted files ! **(EXCEPTION: you are talking about a zip tool say winzip giving its predefined password prompt to open the fine. My comments dont cover this aspect)**","body":"First off all , work in crypt at <b>byte</b> level . so the <b>file extension</b> wont matter... Zip readers cannot read your java emcrypted files ! <b>(EXCEPTION: you are talking about a zip tool say winzip giving its predefined password prompt to open the fine. My comments dont cover this aspect)</b>"},{"owner":{"account_id":2675031,"reputation":234,"user_id":4022095,"accept_rate":100,"display_name":"King"},"score":0,"creation_date":1435229322,"post_id":31021248,"comment_id":50117689,"body_markdown":"Okay I get your point, thanks anyway with your suggestion.","body":"Okay I get your point, thanks anyway with your suggestion."}],"answers":[{"comments":[{"owner":{"account_id":2675031,"reputation":234,"user_id":4022095,"accept_rate":100,"display_name":"King"},"score":0,"creation_date":1435139252,"post_id":31022756,"comment_id":50071176,"body_markdown":"Thanks Drakos. I only need to encrypt it. I wont decrypt it for now. Were do you point to the file that you want  to encrypt?","body":"Thanks Drakos. I only need to encrypt it. I wont decrypt it for now. Were do you point to the file that you want  to encrypt?"},{"owner":{"account_id":3530863,"reputation":872,"user_id":2950471,"display_name":"Evripidis Drakos"},"score":0,"creation_date":1435139956,"post_id":31022756,"comment_id":50071677,"body_markdown":"`File input= new File(inDir, inFilename);` is the input file to encrypt, `File output= new File(outDir, outFilename);` is the encrypted output file","body":"<code>File input= new File(inDir, inFilename);</code> is the input file to encrypt, <code>File output= new File(outDir, outFilename);</code> is the encrypted output file"},{"owner":{"account_id":2675031,"reputation":234,"user_id":4022095,"accept_rate":100,"display_name":"King"},"score":0,"creation_date":1435140182,"post_id":31022756,"comment_id":50071850,"body_markdown":"Thanks Drakos you helped me.","body":"Thanks Drakos you helped me."}],"tags":[],"owner":{"account_id":3530863,"reputation":872,"user_id":2950471,"display_name":"Evripidis Drakos"},"comment_count":3,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1435138029,"creation_date":1435138029,"answer_id":31022756,"question_id":31021248,"body_markdown":"I use `CipherOutputStream` like this:\r\n\r\n    public static void encryptAndClose(FileInputStream fis, FileOutputStream fos) \r\n\t\t\tthrows IOException, NoSuchAlgorithmException, NoSuchPaddingException, InvalidKeyException {\r\n\t   \r\n\t    // Length is 16 byte\r\n\t    SecretKeySpec sks = new SecretKeySpec(&quot;1234567890123456&quot;.getBytes(), &quot;AES&quot;);\r\n\t    // Create cipher\r\n\t    Cipher cipher = Cipher.getInstance(&quot;AES&quot;);\r\n\t    cipher.init(Cipher.ENCRYPT_MODE, sks);\t    \r\n\t    \r\n\t    // Wrap the output stream for encoding\r\n\t    CipherOutputStream cos = new CipherOutputStream(fos, cipher);\t    \r\n\r\n\t    //wrap output with buffer stream\r\n\t    BufferedOutputStream bos = new BufferedOutputStream(cos);\t  \r\n\t    \r\n\t    //wrap input with buffer stream\r\n\t    BufferedInputStream bis = new BufferedInputStream(fis);\t\r\n\t    \r\n\t    // Write bytes\r\n\t    int b;\r\n\t    byte[] d = new byte[8];\r\n\t    while((b = bis.read(d)) != -1) {\r\n\t    \tbos.write(d, 0, b);\r\n\t    }\r\n\t    // Flush and close streams.\r\n\t    bos.flush();\r\n\t    bos.close();\r\n\t    bis.close();\r\n\t}\r\n\t\r\n\t\r\n\tpublic static void decryptAndClose(FileInputStream fis, FileOutputStream fos) \r\n\t\t\tthrows IOException, NoSuchAlgorithmException, NoSuchPaddingException, InvalidKeyException {\r\n\t   \r\n\t    SecretKeySpec sks = new SecretKeySpec(&quot;1234567890123456&quot;.getBytes(), &quot;AES&quot;);\r\n\t    Cipher cipher = Cipher.getInstance(&quot;AES&quot;);\r\n\t    cipher.init(Cipher.DECRYPT_MODE, sks);\r\n\r\n\t    CipherInputStream cis = new CipherInputStream(fis, cipher);\r\n\r\n\t    //wrap input with buffer stream\r\n\t    BufferedInputStream bis = new BufferedInputStream(cis);\t\r\n\t    \r\n\t    //wrap output with buffer stream\r\n\t    BufferedOutputStream bos = new BufferedOutputStream(fos);\t    \r\n\t    \r\n\t    int b;\r\n\t    byte[] d = new byte[8];\r\n\t    while((b = bis.read(d)) != -1) {\r\n\t    \tbos.write(d, 0, b);\r\n\t    }\r\n\t    bos.flush();\r\n\t    bos.close();\r\n\t    bis.close();\r\n\t}\r\n\r\nI use it like this:\r\n\r\n\r\n    File output= new File(outDir, outFilename);\r\n\r\n    File input= new File(inDir, inFilename);\r\n\r\n    if (input.exists()) {\r\n\r\n\tFileInputStream inStream = new FileInputStream(input);\r\n\tFileOutputStream outStream = new FileOutputStream(output);\r\n\r\n\tencryptAndClose(inStream, outStream);\t\r\n    }","title":"Encrypting a zip","body":"<p>I use <code>CipherOutputStream</code> like this:</p>\n\n<pre><code>public static void encryptAndClose(FileInputStream fis, FileOutputStream fos) \n        throws IOException, NoSuchAlgorithmException, NoSuchPaddingException, InvalidKeyException {\n\n    // Length is 16 byte\n    SecretKeySpec sks = new SecretKeySpec(\"1234567890123456\".getBytes(), \"AES\");\n    // Create cipher\n    Cipher cipher = Cipher.getInstance(\"AES\");\n    cipher.init(Cipher.ENCRYPT_MODE, sks);      \n\n    // Wrap the output stream for encoding\n    CipherOutputStream cos = new CipherOutputStream(fos, cipher);       \n\n    //wrap output with buffer stream\n    BufferedOutputStream bos = new BufferedOutputStream(cos);     \n\n    //wrap input with buffer stream\n    BufferedInputStream bis = new BufferedInputStream(fis); \n\n    // Write bytes\n    int b;\n    byte[] d = new byte[8];\n    while((b = bis.read(d)) != -1) {\n        bos.write(d, 0, b);\n    }\n    // Flush and close streams.\n    bos.flush();\n    bos.close();\n    bis.close();\n}\n\n\npublic static void decryptAndClose(FileInputStream fis, FileOutputStream fos) \n        throws IOException, NoSuchAlgorithmException, NoSuchPaddingException, InvalidKeyException {\n\n    SecretKeySpec sks = new SecretKeySpec(\"1234567890123456\".getBytes(), \"AES\");\n    Cipher cipher = Cipher.getInstance(\"AES\");\n    cipher.init(Cipher.DECRYPT_MODE, sks);\n\n    CipherInputStream cis = new CipherInputStream(fis, cipher);\n\n    //wrap input with buffer stream\n    BufferedInputStream bis = new BufferedInputStream(cis); \n\n    //wrap output with buffer stream\n    BufferedOutputStream bos = new BufferedOutputStream(fos);       \n\n    int b;\n    byte[] d = new byte[8];\n    while((b = bis.read(d)) != -1) {\n        bos.write(d, 0, b);\n    }\n    bos.flush();\n    bos.close();\n    bis.close();\n}\n</code></pre>\n\n<p>I use it like this:</p>\n\n<pre><code>File output= new File(outDir, outFilename);\n\nFile input= new File(inDir, inFilename);\n\nif (input.exists()) {\n\nFileInputStream inStream = new FileInputStream(input);\nFileOutputStream outStream = new FileOutputStream(output);\n\nencryptAndClose(inStream, outStream);   \n}\n</code></pre>\n"}],"owner":{"account_id":2675031,"reputation":234,"user_id":4022095,"accept_rate":100,"display_name":"King"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2347,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"accepted_answer_id":31022756,"answer_count":1,"score":2,"last_activity_date":1673270235,"creation_date":1435133764,"question_id":31021248,"body_markdown":"I want to **Encrypt Zip file** that I generate, which contains a **files** inside it. I want to encrypt it with password.\r\n\r\nIts my first time to work with `Encryption`. I did my own `research`, I seem to understand but not clearly on how it works.\r\n\r\nCan anyone help with a clear example, and a good way of `encrypting` by explain to me and how do I implement it or maybe give an example.\r\n\r\nYour help will be appreciated.","title":"Encrypting a zip","body":"<p>I want to <strong>Encrypt Zip file</strong> that I generate, which contains a <strong>files</strong> inside it. I want to encrypt it with password.</p>\n<p>Its my first time to work with <code>Encryption</code>. I did my own <code>research</code>, I seem to understand but not clearly on how it works.</p>\n<p>Can anyone help with a clear example, and a good way of <code>encrypting</code> by explain to me and how do I implement it or maybe give an example.</p>\n<p>Your help will be appreciated.</p>\n"},{"tags":["java","xml","xsd","jaxb"],"owner":{"account_id":1484861,"reputation":119,"user_id":1393335,"accept_rate":67,"display_name":"pemko"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":81,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673270193,"creation_date":1673259947,"question_id":75055893,"body_markdown":"I have a problem after JAXB 3 and Java 17 updates I get a \r\n\r\n    [ERROR] Error while parsing schema(s).Location [ file:/C:/work/project/backend/src/main/resources/xsd/Import_v1.xsd{12,2}].\r\n    org.xml.sax.SAXParseException: Unsupported binding namespace &quot;http://www.w3.org/2001/XMLSchema&quot;. Perhaps you meant &quot;http://java.sun.com/xml/ns/jaxb/xjc&quot;?\r\n        at com.sun.tools.xjc.reader.AbstractExtensionBindingChecker.error (AbstractExtensionBindingChecker.java:183)\r\n        at com.sun.tools.xjc.reader.AbstractExtensionBindingChecker.checkAndEnable (AbstractExtensionBindingChecker.java:85)\r\n\r\nBut this error doesn&#39;t really make sense because the Sun link goes into nothing\r\n\r\nmy *.xsd:\r\n\r\n    &lt;xs:schema\r\n        xmlns:xs=&quot;http://www.w3.org/2001/XMLSchema&quot;\r\n        xmlns:xml=&quot;http://www.w3.org/XML/1998/namespace&quot;\r\n        elementFormDefault=&quot;qualified&quot;\r\n        attributeFormDefault=&quot;unqualified&quot;\r\n        version=&quot;3.0&quot;&gt;\r\n\r\nSadly I only find help for JAXB2","title":"Unsupported Binding namespace in xsd","body":"<p>I have a problem after JAXB 3 and Java 17 updates I get a</p>\n<pre><code>[ERROR] Error while parsing schema(s).Location [ file:/C:/work/project/backend/src/main/resources/xsd/Import_v1.xsd{12,2}].\norg.xml.sax.SAXParseException: Unsupported binding namespace &quot;http://www.w3.org/2001/XMLSchema&quot;. Perhaps you meant &quot;http://java.sun.com/xml/ns/jaxb/xjc&quot;?\n    at com.sun.tools.xjc.reader.AbstractExtensionBindingChecker.error (AbstractExtensionBindingChecker.java:183)\n    at com.sun.tools.xjc.reader.AbstractExtensionBindingChecker.checkAndEnable (AbstractExtensionBindingChecker.java:85)\n</code></pre>\n<p>But this error doesn't really make sense because the Sun link goes into nothing</p>\n<p>my *.xsd:</p>\n<pre><code>&lt;xs:schema\n    xmlns:xs=&quot;http://www.w3.org/2001/XMLSchema&quot;\n    xmlns:xml=&quot;http://www.w3.org/XML/1998/namespace&quot;\n    elementFormDefault=&quot;qualified&quot;\n    attributeFormDefault=&quot;unqualified&quot;\n    version=&quot;3.0&quot;&gt;\n</code></pre>\n<p>Sadly I only find help for JAXB2</p>\n"},{"tags":["java","android","flutter","dart","flutter-android"],"comments":[{"owner":{"account_id":39846,"reputation":991173,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1673271449,"post_id":75057825,"comment_id":132454334,"body_markdown":"Last I checked, Flutter apps get compiled to APKs. If so, you cannot do what you are describing. You could download an APK and request to install it, but the user will need to approve this and could decline. But, if the user agrees, your main app could start some activity in the second app -- it is unclear if this is what you mean by &quot;embed&quot;. You may also need to file some paperwork with Google to justify this behavior, if you plan on distributing your main app through Google Play.","body":"Last I checked, Flutter apps get compiled to APKs. If so, you cannot do what you are describing. You could download an APK and request to install it, but the user will need to approve this and could decline. But, if the user agrees, your main app could start some activity in the second app -- it is unclear if this is what you mean by &quot;embed&quot;. You may also need to file some paperwork with Google to justify this behavior, if you plan on distributing your main app through Google Play."},{"owner":{"account_id":23922086,"reputation":21,"user_id":17917758,"display_name":"Endi"},"score":0,"creation_date":1673271943,"post_id":75057825,"comment_id":132454551,"body_markdown":"@CommonsWare - Let’s imagine you have an app. In that app you have a button. When that button is clicked, I want to render / load / embed a new Flutter screen / app, that is outside (ex: on ec2 server).\n\nI have seen many apps that are doing this, but they are rendering react native apps, instead of Flutter.","body":"@CommonsWare - Let’s imagine you have an app. In that app you have a button. When that button is clicked, I want to render / load / embed a new Flutter screen / app, that is outside (ex: on ec2 server).  I have seen many apps that are doing this, but they are rendering react native apps, instead of Flutter."}],"owner":{"account_id":23922086,"reputation":21,"user_id":17917758,"display_name":"Endi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":152,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1673270177,"creation_date":1673270177,"question_id":75057825,"body_markdown":"I am trying to embed a Flutter app into an existing Android app at runtime. The Flutter app is hosted on an EC2 server and can be downloaded as a zip file from a CDN. \r\n\r\nI have been looking at the FlutterActivity class as a potential solution, but have not been able to find any methods or properties that allow me to achieve this. Is it possible to embed a Flutter app from an external source in this way, and if so, what is the recommended approach? Any guidance or suggestions would be greatly appreciated.\r\n\r\nI have been trying to use the FlutterActivity class to embed the Flutter app into my Android app, but have not been able to find any methods or properties that allow me to do so. I have not yet tried any other approaches, as I was hoping to use the FlutterActivity class to achieve this. \r\n\r\nI was expecting to be able to use the FlutterActivity class to load the Flutter app from the EC2 server and display it within my Android app at runtime. However, I have not been able to find any documentation or examples that demonstrate how to do this using the FlutterActivity class.","title":"Embedding Flutter app from external source in Android app at runtime","body":"<p>I am trying to embed a Flutter app into an existing Android app at runtime. The Flutter app is hosted on an EC2 server and can be downloaded as a zip file from a CDN.</p>\n<p>I have been looking at the FlutterActivity class as a potential solution, but have not been able to find any methods or properties that allow me to achieve this. Is it possible to embed a Flutter app from an external source in this way, and if so, what is the recommended approach? Any guidance or suggestions would be greatly appreciated.</p>\n<p>I have been trying to use the FlutterActivity class to embed the Flutter app into my Android app, but have not been able to find any methods or properties that allow me to do so. I have not yet tried any other approaches, as I was hoping to use the FlutterActivity class to achieve this.</p>\n<p>I was expecting to be able to use the FlutterActivity class to load the Flutter app from the EC2 server and display it within my Android app at runtime. However, I have not been able to find any documentation or examples that demonstrate how to do this using the FlutterActivity class.</p>\n"},{"tags":["java","arrays","algorithm","size","tiles"],"comments":[{"owner":{"account_id":18559672,"reputation":300,"user_id":13523946,"display_name":"notAPPP"},"score":0,"creation_date":1673225929,"post_id":75052296,"comment_id":132444058,"body_markdown":"Looks complicated for first look, set breakpoint and verify where you have a bug step by step (or maybe some breakpoints, because loops have hundreds of iterations).","body":"Looks complicated for first look, set breakpoint and verify where you have a bug step by step (or maybe some breakpoints, because loops have hundreds of iterations)."},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":0,"creation_date":1673226522,"post_id":75052296,"comment_id":132444120,"body_markdown":"I can see a few problems with this; but one problem is that you&#39;ve mixed up different units.  You&#39;ve got `tileWidth` and `tileLength` in decimetres, but `floorWidth`, `floorLength` and `jointSpacing` are in centimetres.","body":"I can see a few problems with this; but one problem is that you&#39;ve mixed up different units.  You&#39;ve got <code>tileWidth</code> and <code>tileLength</code> in decimetres, but <code>floorWidth</code>, <code>floorLength</code> and <code>jointSpacing</code> are in centimetres."}],"answers":[{"comments":[{"owner":{"display_name":"user20868173"},"score":0,"creation_date":1673265347,"post_id":75052506,"comment_id":132451998,"body_markdown":"Thank you for your solution. I tried your code with the Scanner input and numbers of the example: 420,350,500,500 and 3, but somehow it don&#39;t gives me the output of 180. Could you please check that? thx!","body":"Thank you for your solution. I tried your code with the Scanner input and numbers of the example: 420,350,500,500 and 3, but somehow it don&#39;t gives me the output of 180. Could you please check that? thx!"},{"owner":{"account_id":26879624,"reputation":386,"user_id":20460294,"display_name":"Anon"},"score":0,"creation_date":1673268761,"post_id":75052506,"comment_id":132453223,"body_markdown":"i mean your own code is wrong of course it wont give the same results that gave to you","body":"i mean your own code is wrong of course it wont give the same results that gave to you"},{"owner":{"account_id":26879624,"reputation":386,"user_id":20460294,"display_name":"Anon"},"score":0,"creation_date":1673269201,"post_id":75052506,"comment_id":132453388,"body_markdown":"and even without the joint space the max num of  tiles is 171 with your inputs so you should never even reach 180 tiles","body":"and even without the joint space the max num of  tiles is 171 with your inputs so you should never even reach 180 tiles"}],"tags":[],"owner":{"account_id":26879624,"reputation":386,"user_id":20460294,"display_name":"Anon"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673270134,"creation_date":1673228479,"answer_id":75052506,"question_id":75052296,"body_markdown":"On your solution you are dividing by 100 but you want to divide by 10 to go from mm to cm\r\n\r\nOn this solution i just calculate the area of the floor - half the jointSpacing  on each side, then calculate the area of the tiles the same way then divide floorArea / tileAreaWithSpacing and round up to get the estimate.\r\n\r\nNote: here im counting half tiles as 1 full tile and the jointSpacing is also present near the wall and tile\r\n\r\n    public static void main(String[] args) {\r\n        double tileWidth = 45 / 10.0;    // tile width (mm)\r\n        double tileLength = 45 / 10.0;   // tile length (mm)\r\n        double floorWidth = 25.5;        // floor width (cm)\r\n        double floorLength = 25.5;       // floor length (cm)\r\n        double jointSpacing = 10 / 10.0; // joint spacing (mm);\r\n        double floorArea = (floorLength - (jointSpacing / 2)) * (floorWidth - (jointSpacing / 2));\r\n        double tileAreaWithSpacing = (tileWidth + (jointSpacing / 2)) * (tileLength + (jointSpacing / 2));\r\n        double numberOfTiles = Math.ceil(floorArea / tileAreaWithSpacing);\r\n        System.out.println(numberOfTiles);\r\n    }\r\n \r\nOutput:\r\n\r\n    25.0\r\n\r\nvisual representation of the code:\r\n\r\n    Black is the floor area\r\n    Ligth yellow is half of the jointSpacing that goes around the floor area\r\n    Green is the other half of the jointSpacing that goes around the tile area\r\n    Gray is the tile area\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/wU2c9.png\r\n","title":"Java: How can I find the amount of tiles which fits in?","body":"<p>On your solution you are dividing by 100 but you want to divide by 10 to go from mm to cm</p>\n<p>On this solution i just calculate the area of the floor - half the jointSpacing  on each side, then calculate the area of the tiles the same way then divide floorArea / tileAreaWithSpacing and round up to get the estimate.</p>\n<p>Note: here im counting half tiles as 1 full tile and the jointSpacing is also present near the wall and tile</p>\n<pre><code>public static void main(String[] args) {\n    double tileWidth = 45 / 10.0;    // tile width (mm)\n    double tileLength = 45 / 10.0;   // tile length (mm)\n    double floorWidth = 25.5;        // floor width (cm)\n    double floorLength = 25.5;       // floor length (cm)\n    double jointSpacing = 10 / 10.0; // joint spacing (mm);\n    double floorArea = (floorLength - (jointSpacing / 2)) * (floorWidth - (jointSpacing / 2));\n    double tileAreaWithSpacing = (tileWidth + (jointSpacing / 2)) * (tileLength + (jointSpacing / 2));\n    double numberOfTiles = Math.ceil(floorArea / tileAreaWithSpacing);\n    System.out.println(numberOfTiles);\n}\n</code></pre>\n<p>Output:</p>\n<pre><code>25.0\n</code></pre>\n<p>visual representation of the code:</p>\n<pre><code>Black is the floor area\nLigth yellow is half of the jointSpacing that goes around the floor area\nGreen is the other half of the jointSpacing that goes around the tile area\nGray is the tile area\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/wU2c9.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/wU2c9.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"display_name":"user20868173"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":121,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1673270134,"creation_date":1673224740,"question_id":75052296,"body_markdown":"Im actually done with my code but somehow it doesn&#39;t work like it should. My problem is that I don&#39;t know what exactly I need to change so it works like it actually should, Am I rounding false , or...? I&#39;am looking forward for some solutions, thx!\r\n\r\nHere is the task:\r\n\r\nWrite a small application that helps a tiler to estimate how many tiles he needs to tile a floor. For this purpose, the dimensions of the tiles (width and length in mm) should be transferred to the application, as well as the floor area to be tiled in the form of width and length in cm. In addition, the user should be asked about the joint distance (distance between two tiles) in mm.\r\n\r\nThe application uses this data to calculate how many tiles are needed and print the number on the screen. The fact that tiles can be partially reused should not be taken into account.\r\n\r\n```\r\nimport java.util.Scanner;\r\n\r\npublic class Tiles {\r\n    public static void main(String[] args) {\r\n\r\n        Scanner scanner = new Scanner(System.in);\r\n\r\n        System.out.print(&quot;tile width (mm):&quot;);\r\n        double tilewidth = (scanner.nextDouble() / 100.0);\r\n        System.out.print(&quot;tile length (mm): &quot;);\r\n        double tilelength = (scanner.nextDouble() / 100.0);\r\n        System.out.print(&quot;floor width (cm): &quot;);\r\n        double floorwidth = scanner.nextDouble();\r\n        System.out.print(&quot;floor length (cm): &quot;);\r\n        double floorlength = scanner.nextDouble();\r\n        System.out.print(&quot;joint spacing (mm): &quot;);\r\n        double jointspacing = (scanner.nextDouble() / 10.0);\r\n\r\n\r\n        double tilelength1 = 0;\r\n        double tilewidth1 = 0;\r\n        double f2 = tilelength;\r\n        double f2_2 = tilewidth;\r\n        double f3 = 0;\r\n\r\n\r\n        for (; f2 &lt; floorlength; f2++) {\r\n            tilelength1 = f2;\r\n        }\r\n        tilelength1 = tilelength1 / tilelength;\r\n\r\n        double joints = (Math.round(jointspacing * tilelength1));\r\n\r\n        double lengtheoftiles = tilelength1 - joints;\r\n\r\n\r\n        for (; f2_2 &lt; floorwidth; f2_2++) {\r\n            tilewidth1 = f2_2;\r\n        }\r\n        tilewidth1 = tilewidth1 / tilewidth;\r\n\r\n        double joints2 = (Math.round(jointspacing * tilewidth1));\r\n\r\n        double widthoftiles = tilewidth1 - joints2;\r\n\r\n\r\n        double needtiles = widthoftiles + lengtheoftiles;\r\n\r\n        System.out.println(&quot;tiles required:&quot; + Math.round(needtiles);\r\n\r\n\r\n    }\r\n\r\n\r\n}\r\n```\r\n\r\n[![enter image description here](https://i.stack.imgur.com/Jg9Jg.png)](https://i.stack.imgur.com/Jg9Jg.png)\r\n\r\nIt should work like in the task and with other numbers to.","title":"Java: How can I find the amount of tiles which fits in?","body":"<p>Im actually done with my code but somehow it doesn't work like it should. My problem is that I don't know what exactly I need to change so it works like it actually should, Am I rounding false , or...? I'am looking forward for some solutions, thx!</p>\n<p>Here is the task:</p>\n<p>Write a small application that helps a tiler to estimate how many tiles he needs to tile a floor. For this purpose, the dimensions of the tiles (width and length in mm) should be transferred to the application, as well as the floor area to be tiled in the form of width and length in cm. In addition, the user should be asked about the joint distance (distance between two tiles) in mm.</p>\n<p>The application uses this data to calculate how many tiles are needed and print the number on the screen. The fact that tiles can be partially reused should not be taken into account.</p>\n<pre><code>import java.util.Scanner;\n\npublic class Tiles {\n    public static void main(String[] args) {\n\n        Scanner scanner = new Scanner(System.in);\n\n        System.out.print(&quot;tile width (mm):&quot;);\n        double tilewidth = (scanner.nextDouble() / 100.0);\n        System.out.print(&quot;tile length (mm): &quot;);\n        double tilelength = (scanner.nextDouble() / 100.0);\n        System.out.print(&quot;floor width (cm): &quot;);\n        double floorwidth = scanner.nextDouble();\n        System.out.print(&quot;floor length (cm): &quot;);\n        double floorlength = scanner.nextDouble();\n        System.out.print(&quot;joint spacing (mm): &quot;);\n        double jointspacing = (scanner.nextDouble() / 10.0);\n\n\n        double tilelength1 = 0;\n        double tilewidth1 = 0;\n        double f2 = tilelength;\n        double f2_2 = tilewidth;\n        double f3 = 0;\n\n\n        for (; f2 &lt; floorlength; f2++) {\n            tilelength1 = f2;\n        }\n        tilelength1 = tilelength1 / tilelength;\n\n        double joints = (Math.round(jointspacing * tilelength1));\n\n        double lengtheoftiles = tilelength1 - joints;\n\n\n        for (; f2_2 &lt; floorwidth; f2_2++) {\n            tilewidth1 = f2_2;\n        }\n        tilewidth1 = tilewidth1 / tilewidth;\n\n        double joints2 = (Math.round(jointspacing * tilewidth1));\n\n        double widthoftiles = tilewidth1 - joints2;\n\n\n        double needtiles = widthoftiles + lengtheoftiles;\n\n        System.out.println(&quot;tiles required:&quot; + Math.round(needtiles);\n\n\n    }\n\n\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/Jg9Jg.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Jg9Jg.png\" alt=\"enter image description here\" /></a></p>\n<p>It should work like in the task and with other numbers to.</p>\n"},{"tags":["java","spring","maven","spring-boot","querydsl"],"comments":[{"owner":{"account_id":4154342,"reputation":3562,"user_id":3405980,"accept_rate":69,"display_name":"harshavmb"},"score":0,"creation_date":1496304346,"post_id":44301810,"comment_id":75609024,"body_markdown":"May I know why you aren&#39;t excluding `querydsl-apt` from `com.mysema.maven` plugin?","body":"May I know why you aren&#39;t excluding <code>querydsl-apt</code> from <code>com.mysema.maven</code> plugin?"},{"owner":{"account_id":4154342,"reputation":3562,"user_id":3405980,"accept_rate":69,"display_name":"harshavmb"},"score":0,"creation_date":1496304412,"post_id":44301810,"comment_id":75609076,"body_markdown":"Also, frequently do project refresh as eclipse caches the fiesystem and we miss to identify","body":"Also, frequently do project refresh as eclipse caches the fiesystem and we miss to identify"},{"owner":{"account_id":1119402,"reputation":3163,"user_id":1108064,"accept_rate":82,"display_name":"Teo"},"score":0,"creation_date":1496304567,"post_id":44301810,"comment_id":75609185,"body_markdown":"why do I have to exclude  querydsl-apt from com.mysema.maven plugin?","body":"why do I have to exclude  querydsl-apt from com.mysema.maven plugin?"},{"owner":{"account_id":4154342,"reputation":3562,"user_id":3405980,"accept_rate":69,"display_name":"harshavmb"},"score":0,"creation_date":1496304683,"post_id":44301810,"comment_id":75609256,"body_markdown":"https://pastebin.com/QUwU19ep is my pom. I followed https://github.com/spring-projects/spring-data-examples/blob/master/rest/starbucks/pom.xml","body":"<a href=\"https://pastebin.com/QUwU19ep\" rel=\"nofollow noreferrer\">pastebin.com/QUwU19ep</a> is my pom. I followed <a href=\"https://github.com/spring-projects/spring-data-examples/blob/master/rest/starbucks/pom.xml\" rel=\"nofollow noreferrer\">github.com/spring-projects/spring-data-examples/blob/master/&zwnj;&#8203;&hellip;</a>"},{"owner":{"account_id":1119402,"reputation":3163,"user_id":1108064,"accept_rate":82,"display_name":"Teo"},"score":0,"creation_date":1496305833,"post_id":44301810,"comment_id":75609945,"body_markdown":"@harshavmb thank you! I fiound the problem.. I was using the wrong processor","body":"@harshavmb thank you! I fiound the problem.. I was using the wrong processor"},{"owner":{"account_id":4154342,"reputation":3562,"user_id":3405980,"accept_rate":69,"display_name":"harshavmb"},"score":0,"creation_date":1496306296,"post_id":44301810,"comment_id":75610251,"body_markdown":"Happy to see that it helped you!","body":"Happy to see that it helped you!"}],"answers":[{"tags":[],"owner":{"account_id":1119402,"reputation":3163,"user_id":1108064,"accept_rate":82,"display_name":"Teo"},"comment_count":0,"down_vote_count":1,"up_vote_count":8,"is_accepted":true,"score":7,"last_activity_date":1496305809,"creation_date":1496305809,"answer_id":44302359,"question_id":44301810,"body_markdown":"I was using the wrong processor, I have to use `com.querydsl.apt.jpa.JPAAnnotationProcessor`  instead of `com.mysema.query.apt.jpa.JPAAnnotationProcessor`\r\n\r\n\r\nSo this is the entire plugin :\r\n\r\n     &lt;plugin&gt;\r\n      &lt;groupId&gt;com.mysema.maven&lt;/groupId&gt;\r\n      &lt;artifactId&gt;apt-maven-plugin&lt;/artifactId&gt;\r\n      &lt;version&gt;1.1.3&lt;/version&gt;\r\n      &lt;executions&gt;\r\n        &lt;execution&gt;\r\n          &lt;goals&gt;\r\n            &lt;goal&gt;process&lt;/goal&gt;\r\n          &lt;/goals&gt;\r\n          &lt;configuration&gt;\r\n            &lt;outputDirectory&gt;target/generated-sources/java&lt;/outputDirectory&gt;\r\n            &lt;processor&gt;com.querydsl.apt.jpa.JPAAnnotationProcessor&lt;/processor&gt;\r\n          &lt;/configuration&gt;\r\n        &lt;/execution&gt;\r\n      &lt;/executions&gt;\r\n","title":"QueryDsl doesn&#39;t generate Q class using Spring Boot and Maven","body":"<p>I was using the wrong processor, I have to use <code>com.querydsl.apt.jpa.JPAAnnotationProcessor</code>  instead of <code>com.mysema.query.apt.jpa.JPAAnnotationProcessor</code></p>\n\n<p>So this is the entire plugin :</p>\n\n<pre><code> &lt;plugin&gt;\n  &lt;groupId&gt;com.mysema.maven&lt;/groupId&gt;\n  &lt;artifactId&gt;apt-maven-plugin&lt;/artifactId&gt;\n  &lt;version&gt;1.1.3&lt;/version&gt;\n  &lt;executions&gt;\n    &lt;execution&gt;\n      &lt;goals&gt;\n        &lt;goal&gt;process&lt;/goal&gt;\n      &lt;/goals&gt;\n      &lt;configuration&gt;\n        &lt;outputDirectory&gt;target/generated-sources/java&lt;/outputDirectory&gt;\n        &lt;processor&gt;com.querydsl.apt.jpa.JPAAnnotationProcessor&lt;/processor&gt;\n      &lt;/configuration&gt;\n    &lt;/execution&gt;\n  &lt;/executions&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3171905,"reputation":10222,"user_id":2680640,"display_name":"sendon1982"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1515462322,"creation_date":1515462322,"answer_id":48160412,"question_id":44301810,"body_markdown":"Use `com.mysema.query.apt.jpa.JPAAnnotationProcessor` also works for me.\r\n\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;com.mysema.maven&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-apt-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;1.0.4&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;process-common-model&lt;/id&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;process&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                        &lt;phase&gt;generate-sources&lt;/phase&gt;\r\n                        &lt;!--\r\n                        &lt;configuration&gt;\r\n                            &lt;sourceDirectory&gt;src/main/java/com/uniarb/autogds/dao/entity&lt;/sourceDirectory&gt;\r\n                        &lt;/configuration&gt;\r\n                        --&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;outputDirectory&gt;target/generated-sources/apt&lt;/outputDirectory&gt;\r\n                    &lt;processors&gt;\r\n                        &lt;processor&gt;com.mysema.query.apt.jpa.JPAAnnotationProcessor&lt;/processor&gt;\r\n                    &lt;/processors&gt;\r\n                    &lt;options&gt;\r\n                        &lt;querydsl.entityAccessors&gt;true&lt;/querydsl.entityAccessors&gt;\r\n                        &lt;querydsl.createDefaultVariable&gt;true&lt;/querydsl.createDefaultVariable&gt;\r\n                        &lt;querydsl.packageSuffix&gt;.apt&lt;/querydsl.packageSuffix&gt;\r\n                    &lt;/options&gt;\r\n                &lt;/configuration&gt;\r\n                &lt;dependencies&gt;\r\n                    &lt;dependency&gt;\r\n                        &lt;groupId&gt;com.mysema.querydsl&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;querydsl-apt&lt;/artifactId&gt;\r\n                        &lt;version&gt;3.7.3&lt;/version&gt;\r\n                    &lt;/dependency&gt;\r\n                &lt;/dependencies&gt;\r\n            &lt;/plugin&gt;","title":"QueryDsl doesn&#39;t generate Q class using Spring Boot and Maven","body":"<p>Use <code>com.mysema.query.apt.jpa.JPAAnnotationProcessor</code> also works for me.</p>\n\n<pre><code>        &lt;plugin&gt;\n            &lt;groupId&gt;com.mysema.maven&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-apt-plugin&lt;/artifactId&gt;\n            &lt;version&gt;1.0.4&lt;/version&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;id&gt;process-common-model&lt;/id&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;process&lt;/goal&gt;\n                    &lt;/goals&gt;\n                    &lt;phase&gt;generate-sources&lt;/phase&gt;\n                    &lt;!--\n                    &lt;configuration&gt;\n                        &lt;sourceDirectory&gt;src/main/java/com/uniarb/autogds/dao/entity&lt;/sourceDirectory&gt;\n                    &lt;/configuration&gt;\n                    --&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n            &lt;configuration&gt;\n                &lt;outputDirectory&gt;target/generated-sources/apt&lt;/outputDirectory&gt;\n                &lt;processors&gt;\n                    &lt;processor&gt;com.mysema.query.apt.jpa.JPAAnnotationProcessor&lt;/processor&gt;\n                &lt;/processors&gt;\n                &lt;options&gt;\n                    &lt;querydsl.entityAccessors&gt;true&lt;/querydsl.entityAccessors&gt;\n                    &lt;querydsl.createDefaultVariable&gt;true&lt;/querydsl.createDefaultVariable&gt;\n                    &lt;querydsl.packageSuffix&gt;.apt&lt;/querydsl.packageSuffix&gt;\n                &lt;/options&gt;\n            &lt;/configuration&gt;\n            &lt;dependencies&gt;\n                &lt;dependency&gt;\n                    &lt;groupId&gt;com.mysema.querydsl&lt;/groupId&gt;\n                    &lt;artifactId&gt;querydsl-apt&lt;/artifactId&gt;\n                    &lt;version&gt;3.7.3&lt;/version&gt;\n                &lt;/dependency&gt;\n            &lt;/dependencies&gt;\n        &lt;/plugin&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25653399,"reputation":1,"user_id":19420301,"display_name":"Sevinch Abdisattarova"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673269905,"creation_date":1673269864,"answer_id":75057766,"question_id":44301810,"body_markdown":"in my case I had to add ```&lt;classifier&gt;jakarta&lt;/classifier&gt;``` to the dependencies of querydsl. Then I could find generated classes in ```target/generated-sources```\r\n\r\n```\r\n         &lt;dependency&gt;\r\n            &lt;groupId&gt;com.querydsl&lt;/groupId&gt;\r\n            &lt;artifactId&gt;querydsl-apt&lt;/artifactId&gt;\r\n            &lt;version&gt;${querydsl.version}&lt;/version&gt;\r\n            &lt;classifier&gt;jakarta&lt;/classifier&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.querydsl&lt;/groupId&gt;\r\n            &lt;artifactId&gt;querydsl-jpa&lt;/artifactId&gt;\r\n            &lt;version&gt;${querydsl.version}&lt;/version&gt;\r\n            &lt;classifier&gt;jakarta&lt;/classifier&gt;\r\n        &lt;/dependency&gt;\r\n","title":"QueryDsl doesn&#39;t generate Q class using Spring Boot and Maven","body":"<p>in my case I had to add <code>&lt;classifier&gt;jakarta&lt;/classifier&gt;</code> to the dependencies of querydsl. Then I could find generated classes in <code>target/generated-sources</code></p>\n<pre><code>         &lt;dependency&gt;\n            &lt;groupId&gt;com.querydsl&lt;/groupId&gt;\n            &lt;artifactId&gt;querydsl-apt&lt;/artifactId&gt;\n            &lt;version&gt;${querydsl.version}&lt;/version&gt;\n            &lt;classifier&gt;jakarta&lt;/classifier&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.querydsl&lt;/groupId&gt;\n            &lt;artifactId&gt;querydsl-jpa&lt;/artifactId&gt;\n            &lt;version&gt;${querydsl.version}&lt;/version&gt;\n            &lt;classifier&gt;jakarta&lt;/classifier&gt;\n        &lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":1119402,"reputation":3163,"user_id":1108064,"accept_rate":82,"display_name":"Teo"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5306,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":44302359,"answer_count":3,"score":4,"last_activity_date":1673269905,"creation_date":1496304023,"question_id":44301810,"body_markdown":"I don&#39;t know why but I can&#39;t generate the query class using spring boot and query dsl.\r\n\r\nThis is my pom.xml:\r\n\r\n   \r\n\r\n    \r\n\t&lt;properties&gt;\r\n\t\t&lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n\t\t&lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\r\n\t\t&lt;java.version&gt;1.8&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-aop&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-mail&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;mysql&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.microsoft.sqlserver&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mssql-jdbc&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t &lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;com.querydsl&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;querydsl-core&lt;/artifactId&gt;\r\n\t\t    &lt;version&gt;4.1.4&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.querydsl&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;querydsl-apt&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;4.1.4&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.querydsl&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;querydsl-jpa&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;4.1.4&lt;/version&gt;\r\n\t\t&lt;/dependency&gt; \r\n\t\t\t\t&lt;!-- Joda-time --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;joda-time&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;joda-time&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.9.9&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;joda-time&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;joda-time-hibernate&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.4&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;joda-time&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;joda-time-jsptags&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.1.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t    &lt;groupId&gt;com.mysema.maven&lt;/groupId&gt;\r\n\t\t\t    &lt;artifactId&gt;apt-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t    &lt;version&gt;1.1.3&lt;/version&gt;\r\n\t\t\t    &lt;executions&gt;\r\n\t\t\t        &lt;execution&gt;\r\n\t\t\t        \t&lt;phase&gt;generate-sources&lt;/phase&gt;\r\n\t\t\t            &lt;goals&gt;\r\n\t\t\t                &lt;goal&gt;process&lt;/goal&gt;\r\n\t\t\t            &lt;/goals&gt;\r\n\t\t\t            &lt;configuration&gt;\r\n\t\t\t                &lt;outputDirectory&gt;target/generated-sources&lt;/outputDirectory&gt;\r\n\t\t\t                &lt;processor&gt;com.mysema.query.apt.jpa.JPAAnnotationProcessor&lt;/processor&gt;\r\n\t\t\t            &lt;/configuration&gt;\r\n\t\t\t        &lt;/execution&gt;\r\n\t\t\t    &lt;/executions&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t\t\r\n\t\t&lt;/plugins&gt;\r\n\r\nI aslo add to the build path the generated folder, but it is empty.\r\nDid I forget any configuration for query dsl?","title":"QueryDsl doesn&#39;t generate Q class using Spring Boot and Maven","body":"<p>I don't know why but I can't generate the query class using spring boot and query dsl.</p>\n\n<p>This is my pom.xml:</p>\n\n<pre><code>&lt;properties&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\n    &lt;java.version&gt;1.8&lt;/java.version&gt;\n&lt;/properties&gt;\n\n&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-aop&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-mail&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;mysql&lt;/groupId&gt;\n        &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n        &lt;scope&gt;runtime&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.microsoft.sqlserver&lt;/groupId&gt;\n        &lt;artifactId&gt;mssql-jdbc&lt;/artifactId&gt;\n        &lt;scope&gt;runtime&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\n        &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n &lt;dependency&gt;\n        &lt;groupId&gt;com.querydsl&lt;/groupId&gt;\n        &lt;artifactId&gt;querydsl-core&lt;/artifactId&gt;\n        &lt;version&gt;4.1.4&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.querydsl&lt;/groupId&gt;\n        &lt;artifactId&gt;querydsl-apt&lt;/artifactId&gt;\n        &lt;version&gt;4.1.4&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.querydsl&lt;/groupId&gt;\n        &lt;artifactId&gt;querydsl-jpa&lt;/artifactId&gt;\n        &lt;version&gt;4.1.4&lt;/version&gt;\n    &lt;/dependency&gt; \n            &lt;!-- Joda-time --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;joda-time&lt;/groupId&gt;\n        &lt;artifactId&gt;joda-time&lt;/artifactId&gt;\n        &lt;version&gt;2.9.9&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;joda-time&lt;/groupId&gt;\n        &lt;artifactId&gt;joda-time-hibernate&lt;/artifactId&gt;\n        &lt;version&gt;1.4&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;joda-time&lt;/groupId&gt;\n        &lt;artifactId&gt;joda-time-jsptags&lt;/artifactId&gt;\n        &lt;version&gt;1.1.1&lt;/version&gt;\n    &lt;/dependency&gt;\n\n\n&lt;/dependencies&gt;\n\n&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;com.mysema.maven&lt;/groupId&gt;\n            &lt;artifactId&gt;apt-maven-plugin&lt;/artifactId&gt;\n            &lt;version&gt;1.1.3&lt;/version&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;phase&gt;generate-sources&lt;/phase&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;process&lt;/goal&gt;\n                    &lt;/goals&gt;\n                    &lt;configuration&gt;\n                        &lt;outputDirectory&gt;target/generated-sources&lt;/outputDirectory&gt;\n                        &lt;processor&gt;com.mysema.query.apt.jpa.JPAAnnotationProcessor&lt;/processor&gt;\n                    &lt;/configuration&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n\n    &lt;/plugins&gt;\n</code></pre>\n\n<p>I aslo add to the build path the generated folder, but it is empty.\nDid I forget any configuration for query dsl?</p>\n"},{"tags":["java","android","sorting","collections","comparator"],"comments":[{"owner":{"account_id":54119,"reputation":5756,"user_id":161895,"display_name":"Kennet"},"score":2,"creation_date":1328175082,"post_id":9109890,"comment_id":11444370,"body_markdown":"&quot;Should I use Collections.sort() with some kind of comparator? &quot; Yes, sounds like a good idea","body":"&quot;Should I use Collections.sort() with some kind of comparator? &quot; Yes, sounds like a good idea"},{"owner":{"account_id":300067,"reputation":5365,"user_id":607013,"accept_rate":95,"display_name":"James andresakis"},"score":0,"creation_date":1328175200,"post_id":9109890,"comment_id":11444397,"body_markdown":"I dont know if it matters but the number of objects in the list will be as high as 80. Thats why Im kind of confused about using a comparator if that is the way to go because it only compares two values at once.","body":"I dont know if it matters but the number of objects in the list will be as high as 80. Thats why Im kind of confused about using a comparator if that is the way to go because it only compares two values at once."},{"owner":{"account_id":54119,"reputation":5756,"user_id":161895,"display_name":"Kennet"},"score":0,"creation_date":1328175688,"post_id":9109890,"comment_id":11444549,"body_markdown":"That&#39;s how the sorting works. First add one item to a list. When adding next; should this go before or after current in the list. When adding third item compare to first item in list, if after then compare to next item. And so on.","body":"That&#39;s how the sorting works. First add one item to a list. When adding next; should this go before or after current in the list. When adding third item compare to first item in list, if after then compare to next item. And so on."}],"answers":[{"comments":[{"owner":{"account_id":300067,"reputation":5365,"user_id":607013,"accept_rate":95,"display_name":"James andresakis"},"score":1,"creation_date":1328175492,"post_id":9109930,"comment_id":11444489,"body_markdown":"But how do I make it sort by a value within the object. Thats what Im stuck on.","body":"But how do I make it sort by a value within the object. Thats what Im stuck on."}],"tags":[],"owner":{"account_id":35623,"reputation":30546,"user_id":100957,"accept_rate":93,"display_name":"Heiko Rupp"},"comment_count":1,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1328175122,"creation_date":1328175122,"answer_id":9109930,"question_id":9109890,"body_markdown":"&quot;Android-java&quot; is here by no means different than &quot;normal java&quot;, so yes `Collections.sort()` would be a good approach.","title":"Android-java- How to sort a list of objects by a certain value within the object","body":"<p>\"Android-java\" is here by no means different than \"normal java\", so yes <code>Collections.sort()</code> would be a good approach.</p>\n"},{"comments":[{"owner":{"account_id":300067,"reputation":5365,"user_id":607013,"accept_rate":95,"display_name":"James andresakis"},"score":0,"creation_date":1328175757,"post_id":9109978,"comment_id":11444574,"body_markdown":"I went ahead and implemented Comparable in my class but and created a method to call sort on the list when i need to have it sorted but how do I sort it by a value with in the object?","body":"I went ahead and implemented Comparable in my class but and created a method to call sort on the list when i need to have it sorted but how do I sort it by a value with in the object?"},{"owner":{"account_id":1063646,"reputation":31628,"user_id":1064728,"accept_rate":77,"display_name":"Jave"},"score":0,"creation_date":1328175953,"post_id":9109978,"comment_id":11444636,"body_markdown":"The `compareTo()`-method is where you do the comparison. A little googling gave several detailed examples on how to use it, here is one of them: http://www.javadeveloper.co.in/java-example/java-comparable-example.html","body":"The <code>compareTo()</code>-method is where you do the comparison. A little googling gave several detailed examples on how to use it, here is one of them: <a href=\"http://www.javadeveloper.co.in/java-example/java-comparable-example.html\" rel=\"nofollow noreferrer\">javadeveloper.co.in/java-example/java-comparable-example.htm&zwnj;&#8203;l</a>"},{"owner":{"account_id":300067,"reputation":5365,"user_id":607013,"accept_rate":95,"display_name":"James andresakis"},"score":0,"creation_date":1328216188,"post_id":9109978,"comment_id":11459444,"body_markdown":"I set up a method similar to the example however I get an error stating I cant use compareTo on a cast double. It seems like for what ever reason, what Im doing it doesnt like. Cannot invoke compareTo(double) on the primitive type double. Ill add my code up above to show what I mean","body":"I set up a method similar to the example however I get an error stating I cant use compareTo on a cast double. It seems like for what ever reason, what Im doing it doesnt like. Cannot invoke compareTo(double) on the primitive type double. Ill add my code up above to show what I mean"}],"tags":[],"owner":{"account_id":1063646,"reputation":31628,"user_id":1064728,"accept_rate":77,"display_name":"Jave"},"comment_count":3,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1328175302,"creation_date":1328175302,"answer_id":9109978,"question_id":9109890,"body_markdown":"Either make a [`Comparator`][1] that can compare your objects, or if they are all instances of the same class, you can make that class implement [`Comparable`][2]. You can then use Collections.sort() to do the actual sorting.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/6/docs/api/java/util/Comparator.html\r\n  [2]: http://docs.oracle.com/javase/6/docs/api/java/lang/Comparable.html","title":"Android-java- How to sort a list of objects by a certain value within the object","body":"<p>Either make a <a href=\"http://docs.oracle.com/javase/6/docs/api/java/util/Comparator.html\" rel=\"nofollow\"><code>Comparator</code></a> that can compare your objects, or if they are all instances of the same class, you can make that class implement <a href=\"http://docs.oracle.com/javase/6/docs/api/java/lang/Comparable.html\" rel=\"nofollow\"><code>Comparable</code></a>. You can then use Collections.sort() to do the actual sorting.</p>\n"},{"comments":[{"owner":{"account_id":300067,"reputation":5365,"user_id":607013,"accept_rate":95,"display_name":"James andresakis"},"score":1,"creation_date":1328216541,"post_id":9109990,"comment_id":11459578,"body_markdown":"Hey thanks for the link :) I go back and forth from one language to the next so Im always missing something :p you know how it goes......jack of all trades but a master of none lol","body":"Hey thanks for the link :) I go back and forth from one language to the next so Im always missing something :p you know how it goes......jack of all trades but a master of none lol"}],"tags":[],"owner":{"account_id":215504,"reputation":52472,"user_id":470184,"accept_rate":91,"display_name":"blue-sky"},"comment_count":1,"down_vote_count":1,"up_vote_count":105,"is_accepted":true,"score":104,"last_activity_date":1453465867,"creation_date":1328175348,"answer_id":9109990,"question_id":9109890,"body_markdown":"You should use Comparable instead of a Comparator if a default sort is what your looking for.\r\n\r\nSee here, this may be of some help - https://stackoverflow.com/questions/1440134/java-what-is-the-difference-between-implementing-comparable-and-comparator\r\n\r\nTry this - \r\n\r\n    import java.util.ArrayList;\r\n    import java.util.Collections;\r\n    import java.util.List;\r\n    \r\n    public class TestSort {\r\n    \t\r\n    \tpublic static void main(String args[]){\r\n    \t\t\r\n    \t\tToSort toSort1 = new ToSort(new Float(3), &quot;3&quot;);\r\n    \t\tToSort toSort2 = new ToSort(new Float(6), &quot;6&quot;);\r\n    \t\tToSort toSort3 = new ToSort(new Float(9), &quot;9&quot;);\r\n    \t\tToSort toSort4 = new ToSort(new Float(1), &quot;1&quot;);\r\n    \t\tToSort toSort5 = new ToSort(new Float(5), &quot;5&quot;);\r\n    \t\tToSort toSort6 = new ToSort(new Float(0), &quot;0&quot;);\r\n    \t\tToSort toSort7 = new ToSort(new Float(3), &quot;3&quot;);\r\n    \t\tToSort toSort8 = new ToSort(new Float(-3), &quot;-3&quot;);\r\n    \t\t\r\n    \t\tList&lt;ToSort&gt; sortList = new ArrayList&lt;ToSort&gt;();\r\n    \t\tsortList.add(toSort1);\r\n    \t\tsortList.add(toSort2);\r\n    \t\tsortList.add(toSort3);\r\n    \t\tsortList.add(toSort4);\r\n    \t\tsortList.add(toSort5);\r\n    \t\tsortList.add(toSort6);\r\n    \t\tsortList.add(toSort7);\r\n    \t\tsortList.add(toSort8);\r\n    \t\t\r\n    \t\tCollections.sort(sortList);\r\n    \t\t\r\n    \t\tfor(ToSort toSort : sortList){\r\n    \t\t\tSystem.out.println(toSort.toString());\r\n    \t\t}\r\n    \t}\r\n    \r\n    }\r\n    \r\n    public class ToSort implements Comparable&lt;ToSort&gt; {\r\n    \t\r\n    \tprivate Float val;\r\n    \tprivate String id;\r\n    \t\r\n    \tpublic ToSort(Float val, String id){\r\n    \t\tthis.val = val;\r\n    \t\tthis.id = id;\r\n    \t}\r\n    \t\r\n    \t@Override\r\n    \tpublic int compareTo(ToSort f) {\r\n    \t\t\r\n    \t\tif (val.floatValue() &gt; f.val.floatValue()) {\r\n    \t\t\treturn 1;\r\n    \t\t}\r\n    \t\telse if (val.floatValue() &lt;  f.val.floatValue()) {\r\n    \t\t\treturn -1;\r\n    \t\t}\r\n    \t\telse {\r\n    \t\t\treturn 0;\r\n    \t\t}\r\n    \r\n    \t}\r\n    \t\r\n    \t@Override\r\n    \tpublic String toString(){\r\n    \t\treturn this.id;\r\n    \t}\r\n    }","title":"Android-java- How to sort a list of objects by a certain value within the object","body":"<p>You should use Comparable instead of a Comparator if a default sort is what your looking for.</p>\n\n<p>See here, this may be of some help - <a href=\"https://stackoverflow.com/questions/1440134/java-what-is-the-difference-between-implementing-comparable-and-comparator\">When should a class be Comparable and/or Comparator?</a></p>\n\n<p>Try this - </p>\n\n<pre><code>import java.util.ArrayList;\nimport java.util.Collections;\nimport java.util.List;\n\npublic class TestSort {\n\n    public static void main(String args[]){\n\n        ToSort toSort1 = new ToSort(new Float(3), \"3\");\n        ToSort toSort2 = new ToSort(new Float(6), \"6\");\n        ToSort toSort3 = new ToSort(new Float(9), \"9\");\n        ToSort toSort4 = new ToSort(new Float(1), \"1\");\n        ToSort toSort5 = new ToSort(new Float(5), \"5\");\n        ToSort toSort6 = new ToSort(new Float(0), \"0\");\n        ToSort toSort7 = new ToSort(new Float(3), \"3\");\n        ToSort toSort8 = new ToSort(new Float(-3), \"-3\");\n\n        List&lt;ToSort&gt; sortList = new ArrayList&lt;ToSort&gt;();\n        sortList.add(toSort1);\n        sortList.add(toSort2);\n        sortList.add(toSort3);\n        sortList.add(toSort4);\n        sortList.add(toSort5);\n        sortList.add(toSort6);\n        sortList.add(toSort7);\n        sortList.add(toSort8);\n\n        Collections.sort(sortList);\n\n        for(ToSort toSort : sortList){\n            System.out.println(toSort.toString());\n        }\n    }\n\n}\n\npublic class ToSort implements Comparable&lt;ToSort&gt; {\n\n    private Float val;\n    private String id;\n\n    public ToSort(Float val, String id){\n        this.val = val;\n        this.id = id;\n    }\n\n    @Override\n    public int compareTo(ToSort f) {\n\n        if (val.floatValue() &gt; f.val.floatValue()) {\n            return 1;\n        }\n        else if (val.floatValue() &lt;  f.val.floatValue()) {\n            return -1;\n        }\n        else {\n            return 0;\n        }\n\n    }\n\n    @Override\n    public String toString(){\n        return this.id;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":384864,"reputation":2971,"user_id":741663,"accept_rate":62,"display_name":"Ramesh Solanki"},"comment_count":0,"down_vote_count":0,"up_vote_count":46,"is_accepted":false,"score":46,"last_activity_date":1453469558,"creation_date":1328175597,"answer_id":9110036,"question_id":9109890,"body_markdown":"I think this will help you better \r\n\r\n    Person p = new Person(&quot;Bruce&quot;, &quot;Willis&quot;);\r\n    Person p1  = new Person(&quot;Tom&quot;, &quot;Hanks&quot;);\r\n    Person p2 = new Person(&quot;Nicolas&quot;, &quot;Cage&quot;);\r\n    Person p3 = new Person(&quot;John&quot;, &quot;Travolta&quot;);\r\n \r\n    ArrayList&lt;Person&gt; list = new ArrayList&lt;Person&gt;();\r\n    list.add(p);\r\n    list.add(p1);\r\n    list.add(p2);\r\n    list.add(p3);\r\n \r\n    Collections.sort(list, new Comparator() {\r\n        @Override\r\n        public int compare(Object o1, Object o2) {\r\n            Person p1 = (Person) o1;\r\n            Person p2 = (Person) o2;\r\n            return p1.getFirstName().compareToIgnoreCase(p2.getFirstName());\r\n        }\r\n    });","title":"Android-java- How to sort a list of objects by a certain value within the object","body":"<p>I think this will help you better </p>\n\n<pre><code>Person p = new Person(\"Bruce\", \"Willis\");\nPerson p1  = new Person(\"Tom\", \"Hanks\");\nPerson p2 = new Person(\"Nicolas\", \"Cage\");\nPerson p3 = new Person(\"John\", \"Travolta\");\n\nArrayList&lt;Person&gt; list = new ArrayList&lt;Person&gt;();\nlist.add(p);\nlist.add(p1);\nlist.add(p2);\nlist.add(p3);\n\nCollections.sort(list, new Comparator() {\n    @Override\n    public int compare(Object o1, Object o2) {\n        Person p1 = (Person) o1;\n        Person p2 = (Person) o2;\n        return p1.getFirstName().compareToIgnoreCase(p2.getFirstName());\n    }\n});\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1681248,"reputation":2447,"user_id":1545435,"accept_rate":78,"display_name":"Ambran"},"score":0,"creation_date":1472132479,"post_id":13821611,"comment_id":65637601,"body_markdown":"This example works for comparing strings. For sorting by comparing integers look at Pranav&#39;s answer below.","body":"This example works for comparing strings. For sorting by comparing integers look at Pranav&#39;s answer below."},{"owner":{"account_id":1124275,"reputation":8912,"user_id":1111918,"accept_rate":83,"display_name":"Atif Mahmood"},"score":0,"creation_date":1563983465,"post_id":13821611,"comment_id":100883875,"body_markdown":"@Themelis it&#39;s java function","body":"@Themelis it&#39;s java function"},{"owner":{"account_id":6503459,"reputation":3563,"user_id":5033303,"accept_rate":0,"display_name":"Ali Zarei"},"score":4,"creation_date":1570988422,"post_id":13821611,"comment_id":103082703,"body_markdown":"int compare can be replaced by: return Integer.compare(obj1.empId, obj2.empId);","body":"int compare can be replaced by: return Integer.compare(obj1.empId, obj2.empId);"}],"tags":[],"owner":{"account_id":1124275,"reputation":8912,"user_id":1111918,"accept_rate":83,"display_name":"Atif Mahmood"},"comment_count":3,"down_vote_count":1,"up_vote_count":429,"is_accepted":false,"score":428,"last_activity_date":1542688002,"creation_date":1355232987,"answer_id":13821611,"question_id":9109890,"body_markdown":"Follow this code to sort any ArrayList\r\n\r\n    Collections.sort(myList, new Comparator&lt;EmployeeClass&gt;(){\r\n        public int compare(EmployeeClass obj1, EmployeeClass obj2) {\r\n            // ## Ascending order\r\n            return obj1.firstName.compareToIgnoreCase(obj2.firstName); // To compare string values\r\n            // return Integer.valueOf(obj1.empId).compareTo(Integer.valueOf(obj2.empId)); // To compare integer values\r\n\r\n            // ## Descending order\r\n            // return obj2.firstName.compareToIgnoreCase(obj1.firstName); // To compare string values\r\n            // return Integer.valueOf(obj2.empId).compareTo(Integer.valueOf(obj1.empId)); // To compare integer values\r\n            }\r\n        });","title":"Android-java- How to sort a list of objects by a certain value within the object","body":"<p>Follow this code to sort any ArrayList</p>\n\n<pre><code>Collections.sort(myList, new Comparator&lt;EmployeeClass&gt;(){\n    public int compare(EmployeeClass obj1, EmployeeClass obj2) {\n        // ## Ascending order\n        return obj1.firstName.compareToIgnoreCase(obj2.firstName); // To compare string values\n        // return Integer.valueOf(obj1.empId).compareTo(Integer.valueOf(obj2.empId)); // To compare integer values\n\n        // ## Descending order\n        // return obj2.firstName.compareToIgnoreCase(obj1.firstName); // To compare string values\n        // return Integer.valueOf(obj2.empId).compareTo(Integer.valueOf(obj1.empId)); // To compare integer values\n        }\n    });\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1488222,"reputation":272,"user_id":1395977,"display_name":"Ketan Mehta"},"comment_count":0,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1453469652,"creation_date":1375967306,"answer_id":18126899,"question_id":9109890,"body_markdown":"    public class DateComparator implements Comparator&lt;Marker&gt; {\r\n        @Override\r\n        public int compare(Mark lhs, Mark rhs) {\r\n            Double distance = Double.valueOf(lhs.getDistance());\r\n            Double distance1 = Double.valueOf(rhs.getDistance());\r\n            if (distance.compareTo(distance1) &lt; 0) {\r\n                return -1;\r\n            } else if (distance.compareTo(distance1) &gt; 0) {\r\n                return 1;\r\n            } else {\r\n                return 0;\r\n        \t}\r\n        }\r\n    }\r\n    \r\n    ArrayList(Marker) arraylist;\r\n\r\nHow To use:\r\n\r\n    Collections.sort(arraylist, new DateComparator());","title":"Android-java- How to sort a list of objects by a certain value within the object","body":"<pre><code>public class DateComparator implements Comparator&lt;Marker&gt; {\n    @Override\n    public int compare(Mark lhs, Mark rhs) {\n        Double distance = Double.valueOf(lhs.getDistance());\n        Double distance1 = Double.valueOf(rhs.getDistance());\n        if (distance.compareTo(distance1) &lt; 0) {\n            return -1;\n        } else if (distance.compareTo(distance1) &gt; 0) {\n            return 1;\n        } else {\n            return 0;\n        }\n    }\n}\n\nArrayList(Marker) arraylist;\n</code></pre>\n\n<p>How To use:</p>\n\n<pre><code>Collections.sort(arraylist, new DateComparator());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1987205,"reputation":1548,"user_id":1782087,"display_name":"DropAndTrap"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1379574527,"creation_date":1379573289,"answer_id":18887908,"question_id":9109890,"body_markdown":"I have a listview which shows the Information about the all clients\r\nI am sorting the clients name using this custom comparator class.\r\nThey are having some extra lerret apart from english letters which \r\ni am managing with this setStrength(Collator.SECONDARY)\r\n\r\n       \r\n     public class CustomNameComparator implements Comparator&lt;ClientInfo&gt; {\r\n            @Override\r\n        \r\n        public int compare(ClientInfo o1, ClientInfo o2) { \r\n   \r\n        \tLocale locale=Locale.getDefault();\r\n        \tCollator collator = Collator.getInstance(locale);\r\n            collator.setStrength(Collator.SECONDARY);\r\n            return collator.compare(o1.title, o2.title);\r\n\r\n        }\r\n    }\r\n\r\n\r\n    PRIMARY strength: Typically, this is used to denote differences between base characters (for example, &quot;a&quot; &lt; &quot;b&quot;). It is the strongest difference. For example, dictionaries are divided into different sections by base character. \r\n    SECONDARY strength: Accents in the characters are considered secondary differences (for example, &quot;as&quot; &lt; &quot;&#224;s&quot; &lt; &quot;at&quot;). Other differences between letters can also be considered secondary differences, depending on the language. A secondary difference is ignored when there is a primary difference anywhere in the strings. \r\n    TERTIARY strength: Upper and lower case differences in characters are distinguished at tertiary strength (for example, &quot;ao&quot; &lt; &quot;Ao&quot; &lt; &quot;a&#242;&quot;). In addition, a variant of a letter differs from the base form on the tertiary strength (such as &quot;A&quot; and &quot;Ⓐ&quot;). Another example is the difference between large and small Kana. A tertiary difference is ignored when there is a primary or secondary difference anywhere in the strings. \r\n    IDENTICAL strength: When all other strengths are equal, the IDENTICAL strength is used as a tiebreaker. The Unicode code point values of the NFD form of each string are compared, just in case there is no difference. For example, Hebrew cantellation marks are only distinguished at this strength. This strength should be used sparingly, as only code point value differences between two strings are an extremely rare occurrence. Using this strength substantially decreases the performance for both comparison and collation key generation APIs. This strength also increases the size of the collation key. \r\n\r\n    **Here is a another way to make a rule base sorting if u need it just sharing**\r\n    \r\n    /*    \tString rules=&quot;&lt; &#229;,&#197;&lt; &#228;,&#196;&lt; a,A&lt; b,B&lt; c,C&lt; d,D&lt; &#233;&lt; e,E&lt; f,F&lt; g,G&lt; h,H&lt; &#239;&lt; i,I&quot;+&quot;&lt; j,J&lt; k,K&lt; l,L&lt; m,M&lt; n,N&lt; &#246;,&#214;&lt; o,O&lt; p,P&lt; q,Q&lt; r,R&quot;+&quot;&lt; s,S&lt; t,T&lt; &#252;&lt; u,U&lt; v,V&lt; w,W&lt; x,X&lt; y,Y&lt; z,Z&quot;;\r\n    \t\tRuleBasedCollator rbc = null;\r\n    \t\ttry {\r\n    \t\t\trbc = new RuleBasedCollator(rules);\r\n    \t\t} catch (ParseException e) {\r\n    \t\t\t// TODO Auto-generated catch block\r\n    \t\t\te.printStackTrace();\r\n    \t\t}\r\n    \t\tString myTitles[]={o1.title,o2.title};\r\n    \t\tCollections.sort(Arrays.asList(myTitles), rbc);*/","title":"Android-java- How to sort a list of objects by a certain value within the object","body":"<p>I have a listview which shows the Information about the all clients\nI am sorting the clients name using this custom comparator class.\nThey are having some extra lerret apart from english letters which \ni am managing with this setStrength(Collator.SECONDARY)</p>\n\n<pre><code> public class CustomNameComparator implements Comparator&lt;ClientInfo&gt; {\n        @Override\n\n    public int compare(ClientInfo o1, ClientInfo o2) { \n\n        Locale locale=Locale.getDefault();\n        Collator collator = Collator.getInstance(locale);\n        collator.setStrength(Collator.SECONDARY);\n        return collator.compare(o1.title, o2.title);\n\n    }\n}\n\n\nPRIMARY strength: Typically, this is used to denote differences between base characters (for example, \"a\" &lt; \"b\"). It is the strongest difference. For example, dictionaries are divided into different sections by base character. \nSECONDARY strength: Accents in the characters are considered secondary differences (for example, \"as\" &lt; \"às\" &lt; \"at\"). Other differences between letters can also be considered secondary differences, depending on the language. A secondary difference is ignored when there is a primary difference anywhere in the strings. \nTERTIARY strength: Upper and lower case differences in characters are distinguished at tertiary strength (for example, \"ao\" &lt; \"Ao\" &lt; \"aò\"). In addition, a variant of a letter differs from the base form on the tertiary strength (such as \"A\" and \"Ⓐ\"). Another example is the difference between large and small Kana. A tertiary difference is ignored when there is a primary or secondary difference anywhere in the strings. \nIDENTICAL strength: When all other strengths are equal, the IDENTICAL strength is used as a tiebreaker. The Unicode code point values of the NFD form of each string are compared, just in case there is no difference. For example, Hebrew cantellation marks are only distinguished at this strength. This strength should be used sparingly, as only code point value differences between two strings are an extremely rare occurrence. Using this strength substantially decreases the performance for both comparison and collation key generation APIs. This strength also increases the size of the collation key. \n\n**Here is a another way to make a rule base sorting if u need it just sharing**\n\n/*      String rules=\"&lt; å,Å&lt; ä,Ä&lt; a,A&lt; b,B&lt; c,C&lt; d,D&lt; é&lt; e,E&lt; f,F&lt; g,G&lt; h,H&lt; ï&lt; i,I\"+\"&lt; j,J&lt; k,K&lt; l,L&lt; m,M&lt; n,N&lt; ö,Ö&lt; o,O&lt; p,P&lt; q,Q&lt; r,R\"+\"&lt; s,S&lt; t,T&lt; ü&lt; u,U&lt; v,V&lt; w,W&lt; x,X&lt; y,Y&lt; z,Z\";\n        RuleBasedCollator rbc = null;\n        try {\n            rbc = new RuleBasedCollator(rules);\n        } catch (ParseException e) {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n        }\n        String myTitles[]={o1.title,o2.title};\n        Collections.sort(Arrays.asList(myTitles), rbc);*/\n</code></pre>\n"},{"comments":[{"owner":{"account_id":9350810,"reputation":702,"user_id":6940564,"accept_rate":73,"display_name":"User"},"score":0,"creation_date":1614942185,"post_id":26404471,"comment_id":117545282,"body_markdown":"this places names starting from numbers (i.e 1gbfilename) on bottom. how they can be placed at top?","body":"this places names starting from numbers (i.e 1gbfilename) on bottom. how they can be placed at top?"}],"tags":[],"owner":{"account_id":1786224,"reputation":1251,"user_id":1627643,"display_name":"Ankit Sharma"},"comment_count":1,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1488789845,"creation_date":1413462527,"answer_id":26404471,"question_id":9109890,"body_markdown":"You can compare two String by using this.\r\n\r\n    Collections.sort(contactsList, new Comparator&lt;ContactsData&gt;() {\r\n\r\n\t\t\t\t\t\t@Override\r\n\t\t\t\t\t\tpublic int compare(ContactsData lhs, ContactsData rhs) {\r\n\r\n\t\t\t\t\t\t\tchar l = Character.toUpperCase(lhs.name.charAt(0));\r\n\r\n\t\t\t\t\t\t\tif (l &lt; &#39;A&#39; || l &gt; &#39;Z&#39;)\r\n\r\n\t\t\t\t\t\t\t\tl += &#39;Z&#39;;\r\n\r\n\t\t\t\t\t\t\tchar r = Character.toUpperCase(rhs.name.charAt(0));\r\n\r\n\t\t\t\t\t\t\tif (r &lt; &#39;A&#39; || r &gt; &#39;Z&#39;)\r\n\r\n\t\t\t\t\t\t\t\tr += &#39;Z&#39;;\r\n\r\n\t\t\t\t\t\t\tString s1 = l + lhs.name.substring(1);\r\n\r\n\t\t\t\t\t\t\tString s2 = r + rhs.name.substring(1);\r\n\r\n\t\t\t\t\t\t\treturn s1.compareTo(s2);\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t});\r\n\r\n**And Now make a ContactData Class.**\r\n\r\n\r\n    public class ContactsData {\r\n\r\n\tpublic String name;\r\n\tpublic String id;\r\n\tpublic String email;\r\n\tpublic String avatar; \r\n\tpublic String connection_type;\r\n\tpublic String thumb;\r\n\tpublic String small;\r\n\tpublic String first_name;\r\n\tpublic String last_name;\r\n\tpublic String no_of_user;\r\n\tpublic int grpIndex;\r\n\t\r\n\tpublic ContactsData(String name, String id, String email, String avatar, String connection_type)\r\n\t{\r\n\t\tthis.name = name;\r\n\t\tthis.id = id;\r\n\t\tthis.email = email;\r\n\t\tthis.avatar = avatar;\r\n\t\tthis.connection_type = connection_type;\r\n\t\t\r\n\t}\r\n    }\r\n\r\n\r\n**Here contactsList is :**\r\n\r\n    public static ArrayList&lt;ContactsData&gt; contactsList = new ArrayList&lt;ContactsData&gt;();","title":"Android-java- How to sort a list of objects by a certain value within the object","body":"<p>You can compare two String by using this.</p>\n\n<pre><code>Collections.sort(contactsList, new Comparator&lt;ContactsData&gt;() {\n\n                    @Override\n                    public int compare(ContactsData lhs, ContactsData rhs) {\n\n                        char l = Character.toUpperCase(lhs.name.charAt(0));\n\n                        if (l &lt; 'A' || l &gt; 'Z')\n\n                            l += 'Z';\n\n                        char r = Character.toUpperCase(rhs.name.charAt(0));\n\n                        if (r &lt; 'A' || r &gt; 'Z')\n\n                            r += 'Z';\n\n                        String s1 = l + lhs.name.substring(1);\n\n                        String s2 = r + rhs.name.substring(1);\n\n                        return s1.compareTo(s2);\n\n                    }\n\n                });\n</code></pre>\n\n<p><strong>And Now make a ContactData Class.</strong></p>\n\n<pre><code>public class ContactsData {\n\npublic String name;\npublic String id;\npublic String email;\npublic String avatar; \npublic String connection_type;\npublic String thumb;\npublic String small;\npublic String first_name;\npublic String last_name;\npublic String no_of_user;\npublic int grpIndex;\n\npublic ContactsData(String name, String id, String email, String avatar, String connection_type)\n{\n    this.name = name;\n    this.id = id;\n    this.email = email;\n    this.avatar = avatar;\n    this.connection_type = connection_type;\n\n}\n}\n</code></pre>\n\n<p><strong>Here contactsList is :</strong></p>\n\n<pre><code>public static ArrayList&lt;ContactsData&gt; contactsList = new ArrayList&lt;ContactsData&gt;();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2075948,"reputation":52334,"user_id":4233197,"accept_rate":55,"display_name":"Hiren Patel"},"comment_count":0,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1453469736,"creation_date":1430222184,"answer_id":29918810,"question_id":9109890,"body_markdown":"**Model Class:** \r\n\r\n   \r\n\r\n    public class ToDoModel implements Comparable&lt;ToDoModel&gt; {\r\n        private String id;\r\n        private Date taskDate;\r\n        \t\r\n    \tpublic String getId() {\r\n    \t\treturn id;\r\n    \t}\r\n    \r\n    \tpublic void setId(String id) {\r\n    \t\tthis.id = id;\r\n    \t}\r\n    \r\n        public Date getTaskDate() {\r\n        \treturn taskDate;\r\n        }\r\n        \r\n        public void setTaskDate(Date taskDate) {\r\n        \tthis.taskDate = taskDate;\r\n        }\r\n\r\n        @Override\r\n    \tpublic int compareTo(ToDoModel another) {\r\n    \t\treturn getTaskDate().compareTo(another.getTaskDate());\t\r\n        }\r\n    }\r\n\r\n**Now set data in ArrayList&lt;ToDoModel&gt;**\r\n\r\n    for (int i = 0; i &lt; your_array_length; i++) {\r\n        ToDoModel tm = new ToDoModel();\r\n        tm.setId(your_id);\r\n        tm.setTaskDate(your_date);\r\n        mArrayList.add(tm);\r\n    }\r\n\r\n**Now Sort ArrayList**\r\n\r\n    Collections.sort(toDoList);\r\n\r\n***Summary: It will sort your data datewise***","title":"Android-java- How to sort a list of objects by a certain value within the object","body":"<p><strong>Model Class:</strong> </p>\n\n<pre><code>public class ToDoModel implements Comparable&lt;ToDoModel&gt; {\n    private String id;\n    private Date taskDate;\n\n    public String getId() {\n        return id;\n    }\n\n    public void setId(String id) {\n        this.id = id;\n    }\n\n    public Date getTaskDate() {\n        return taskDate;\n    }\n\n    public void setTaskDate(Date taskDate) {\n        this.taskDate = taskDate;\n    }\n\n    @Override\n    public int compareTo(ToDoModel another) {\n        return getTaskDate().compareTo(another.getTaskDate());  \n    }\n}\n</code></pre>\n\n<p><strong>Now set data in ArrayList</strong></p>\n\n<pre><code>for (int i = 0; i &lt; your_array_length; i++) {\n    ToDoModel tm = new ToDoModel();\n    tm.setId(your_id);\n    tm.setTaskDate(your_date);\n    mArrayList.add(tm);\n}\n</code></pre>\n\n<p><strong>Now Sort ArrayList</strong></p>\n\n<pre><code>Collections.sort(toDoList);\n</code></pre>\n\n<p><strong><em>Summary: It will sort your data datewise</em></strong></p>\n"},{"comments":[{"owner":{"account_id":4545435,"reputation":860,"user_id":3692177,"accept_rate":88,"display_name":"SebasSBM"},"score":0,"creation_date":1681452206,"post_id":32655684,"comment_id":134061429,"body_markdown":"Someone up above reccommended your answer for comparing integer values. However, and even I am gonna try your style anyway, I wonder: why you convert to Integer the first value, but not the second one? Will it work like this anyway? The `compareTo` already has an &quot;under the hood&quot; conversion of the parameter, or this was just a mistake?","body":"Someone up above reccommended your answer for comparing integer values. However, and even I am gonna try your style anyway, I wonder: why you convert to Integer the first value, but not the second one? Will it work like this anyway? The <code>compareTo</code> already has an &quot;under the hood&quot; conversion of the parameter, or this was just a mistake?"},{"owner":{"account_id":4545435,"reputation":860,"user_id":3692177,"accept_rate":88,"display_name":"SebasSBM"},"score":0,"creation_date":1681453379,"post_id":32655684,"comment_id":134061601,"body_markdown":"After trying it myself, I think I know why: maybe the input for the Comparator are just `int`, which by itself doesn&#39;t have the `compareTo` method... so, if I didn&#39;t overlook anything, it was just because of that, right? So, after applying your code, Android Studio just reccommended me to replace it with `Integer.compare( rhs.getDistance(), lhs.getDistance() )`... doesn&#39;t it look cleaner this way? I still have to test this though...","body":"After trying it myself, I think I know why: maybe the input for the Comparator are just <code>int</code>, which by itself doesn&#39;t have the <code>compareTo</code> method... so, if I didn&#39;t overlook anything, it was just because of that, right? So, after applying your code, Android Studio just reccommended me to replace it with <code>Integer.compare( rhs.getDistance(), lhs.getDistance() )</code>... doesn&#39;t it look cleaner this way? I still have to test this though..."},{"owner":{"account_id":4545435,"reputation":860,"user_id":3692177,"accept_rate":88,"display_name":"SebasSBM"},"score":0,"creation_date":1681453792,"post_id":32655684,"comment_id":134061675,"body_markdown":"But well, this answer is 8 years old already... perhaps this suggestion of mine was not an option with the latest API levels of those days...","body":"But well, this answer is 8 years old already... perhaps this suggestion of mine was not an option with the latest API levels of those days..."}],"tags":[],"owner":{"account_id":2980596,"reputation":4200,"user_id":2991983,"accept_rate":36,"display_name":"Pranav"},"comment_count":3,"down_vote_count":0,"up_vote_count":33,"is_accepted":false,"score":33,"last_activity_date":1442589874,"creation_date":1442589874,"answer_id":32655684,"question_id":9109890,"body_markdown":"Now no need to Boxing (i.e no need to Creating `OBJECT` using new Operator use valueOf insted with compareTo of Collections.Sort..)\r\n\r\n1)For Ascending order\r\n\r\n    Collections.sort(temp, new Comparator&lt;XYZBean&gt;() \r\n    {\r\n         @Override\r\n         public int compare(XYZBean lhs, XYZBean rhs) {\r\n\r\n           return Integer.valueOf(lhs.getDistance()).compareTo(rhs.getDistance());\r\n          }\r\n     });\r\n\r\n\r\n1)For Deascending order\r\n\r\n    Collections.sort(temp, new Comparator&lt;XYZBean&gt;() \r\n    {\r\n         @Override\r\n         public int compare(XYZBean lhs, XYZBean rhs) {\r\n\r\n           return Integer.valueOf(rhs.getDistance()).compareTo(lhs.getDistance());\r\n          }\r\n     });\r\n","title":"Android-java- How to sort a list of objects by a certain value within the object","body":"<p>Now no need to Boxing (i.e no need to Creating <code>OBJECT</code> using new Operator use valueOf insted with compareTo of Collections.Sort..)</p>\n\n<p>1)For Ascending order</p>\n\n<pre><code>Collections.sort(temp, new Comparator&lt;XYZBean&gt;() \n{\n     @Override\n     public int compare(XYZBean lhs, XYZBean rhs) {\n\n       return Integer.valueOf(lhs.getDistance()).compareTo(rhs.getDistance());\n      }\n });\n</code></pre>\n\n<p>1)For Deascending order</p>\n\n<pre><code>Collections.sort(temp, new Comparator&lt;XYZBean&gt;() \n{\n     @Override\n     public int compare(XYZBean lhs, XYZBean rhs) {\n\n       return Integer.valueOf(rhs.getDistance()).compareTo(lhs.getDistance());\n      }\n });\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6154008,"reputation":353,"user_id":4797577,"display_name":"Musab Gultekin"},"comment_count":0,"down_vote_count":2,"up_vote_count":8,"is_accepted":false,"score":6,"last_activity_date":1546096827,"creation_date":1546096827,"answer_id":53970791,"question_id":9109890,"body_markdown":"It&#39;s very easy for Kotlin!\r\n\r\n`listToBeSorted.sortBy { it.distance }`","title":"Android-java- How to sort a list of objects by a certain value within the object","body":"<p>It's very easy for Kotlin!</p>\n\n<p><code>listToBeSorted.sortBy { it.distance }</code></p>\n"},{"tags":[],"owner":{"account_id":12156027,"reputation":13933,"user_id":8874958,"display_name":"Kishan Solanki"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1590914722,"creation_date":1590914722,"answer_id":62113685,"question_id":9109890,"body_markdown":"For **Kotlin**, you can use this function\r\n\r\n    fun sortList(list: List&lt;YourCustomPOJOClass?&gt;) {\r\n    \r\n        //descending\r\n        Collections.sort(\r\n            list\r\n        ) { o1, o2 -&gt; Integer.valueOf(o1!!.intValueXYZ!!).compareTo(o2!!.intValueXYZ!!) }\r\n    \r\n    //    //ascending\r\n    //    Collections.sort(\r\n    //        list\r\n    //    ) { o1, o2 -&gt; Integer.valueOf(o2!!.intValueXYZ!!).compareTo(o1!!.intValueXYZ!!) }\r\n    }\r\n\r\nand just call it in your `activity` or `fragment` by\r\n\r\n\r\n    sortList(list)\r\n\r\n","title":"Android-java- How to sort a list of objects by a certain value within the object","body":"<p>For <strong>Kotlin</strong>, you can use this function</p>\n\n<pre><code>fun sortList(list: List&lt;YourCustomPOJOClass?&gt;) {\n\n    //descending\n    Collections.sort(\n        list\n    ) { o1, o2 -&gt; Integer.valueOf(o1!!.intValueXYZ!!).compareTo(o2!!.intValueXYZ!!) }\n\n//    //ascending\n//    Collections.sort(\n//        list\n//    ) { o1, o2 -&gt; Integer.valueOf(o2!!.intValueXYZ!!).compareTo(o1!!.intValueXYZ!!) }\n}\n</code></pre>\n\n<p>and just call it in your <code>activity</code> or <code>fragment</code> by</p>\n\n<pre><code>sortList(list)\n</code></pre>\n"},{"comments":[{"owner":{"account_id":10673275,"reputation":1351,"user_id":7857701,"display_name":"Snigdhajyoti"},"score":0,"creation_date":1631220749,"post_id":69122893,"comment_id":122171668,"body_markdown":"same answer is already given. You can also see different different approaches too.","body":"same answer is already given. You can also see different different approaches too."}],"tags":[],"owner":{"account_id":19405192,"reputation":855,"user_id":14190819,"display_name":"Ammar"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1631210759,"creation_date":1631210759,"answer_id":69122893,"question_id":9109890,"body_markdown":"&gt; Person Model Class\r\n\r\n     class Person {\r\n            int id;\r\n            String name;\r\n            String fatherName;\r\n\r\n            public Person(int id, String name, String fatherName) {\r\n                this.id = id;\r\n                this.name = name;\r\n                this.fatherName = fatherName;\r\n            }\r\n            \r\n        }\r\n\r\n&gt; Sorting \r\n\r\n    class SORT_BY_ID implements Comparator&lt;Person&gt; {\r\n            public int compare(Person a, Person b)\r\n            {\r\n                return a.id - b.id;\r\n            }\r\n        }\r\n\r\n&gt; Usage \r\n\r\n     ArrayList&lt;Person&gt; personArrayList = new ArrayList&lt;Person&gt;();\r\n                personArrayList.add(new Person(111, &quot;bb&quot;, &quot;oakla&quot;));\r\n                personArrayList.add(new Person(131, &quot;aa&quot;, &quot;fast&quot;));\r\n                personArrayList.add(new Person(121, &quot;cccc&quot;, &quot;paokla&quot;));\r\n\r\n                System.out.println(&quot;Before Sorted Array list of PErson&quot;);\r\n                for (int i=0; i&lt;personArrayList.size(); i++)\r\n                    System.out.println(personArrayList.get(i));\r\n\r\n                Collections.sort(personArrayList, new SORT_BY_ID());\r\n\r\n                System.out.println(&quot;After Sorted &quot;);\r\n                for (int i=0; i&lt;personArrayList.size(); i++)\r\n                    System.out.println(personArrayList.get(i));\r\n","title":"Android-java- How to sort a list of objects by a certain value within the object","body":"<blockquote>\n<p>Person Model Class</p>\n</blockquote>\n<pre><code> class Person {\n        int id;\n        String name;\n        String fatherName;\n\n        public Person(int id, String name, String fatherName) {\n            this.id = id;\n            this.name = name;\n            this.fatherName = fatherName;\n        }\n        \n    }\n</code></pre>\n<blockquote>\n<p>Sorting</p>\n</blockquote>\n<pre><code>class SORT_BY_ID implements Comparator&lt;Person&gt; {\n        public int compare(Person a, Person b)\n        {\n            return a.id - b.id;\n        }\n    }\n</code></pre>\n<blockquote>\n<p>Usage</p>\n</blockquote>\n<pre><code> ArrayList&lt;Person&gt; personArrayList = new ArrayList&lt;Person&gt;();\n            personArrayList.add(new Person(111, &quot;bb&quot;, &quot;oakla&quot;));\n            personArrayList.add(new Person(131, &quot;aa&quot;, &quot;fast&quot;));\n            personArrayList.add(new Person(121, &quot;cccc&quot;, &quot;paokla&quot;));\n\n            System.out.println(&quot;Before Sorted Array list of PErson&quot;);\n            for (int i=0; i&lt;personArrayList.size(); i++)\n                System.out.println(personArrayList.get(i));\n\n            Collections.sort(personArrayList, new SORT_BY_ID());\n\n            System.out.println(&quot;After Sorted &quot;);\n            for (int i=0; i&lt;personArrayList.size(); i++)\n                System.out.println(personArrayList.get(i));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16210155,"reputation":179,"user_id":14160951,"display_name":"Hridoy Krisna Das"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644060683,"creation_date":1643608139,"answer_id":70921744,"question_id":9109890,"body_markdown":"**I am using this code:**\r\n\r\n    Collections.sort(groupMemberList, new Comparator&lt;GroupMember&gt;() {\r\n        @Override\r\n        public int compare(GroupMember o1, GroupMember o2) {\r\n            return Long.valueOf(o2.getStatus()).compareTo(Long.valueOf(o1.getStatus()));\r\n    }\r\n        @Override\r\n        public boolean equals(Object obj) {\r\n            return false;\r\n        }\r\n});\r\n\r\n ","title":"Android-java- How to sort a list of objects by a certain value within the object","body":"<p><strong>I am using this code:</strong></p>\n<pre><code>Collections.sort(groupMemberList, new Comparator&lt;GroupMember&gt;() {\n    @Override\n    public int compare(GroupMember o1, GroupMember o2) {\n        return Long.valueOf(o2.getStatus()).compareTo(Long.valueOf(o1.getStatus()));\n}\n    @Override\n    public boolean equals(Object obj) {\n        return false;\n    }\n</code></pre>\n<p>});</p>\n"},{"tags":[],"owner":{"account_id":14100048,"reputation":51,"user_id":10185615,"display_name":"Chris Baaijens"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673269615,"creation_date":1673269615,"answer_id":75057707,"question_id":9109890,"body_markdown":"When sorting a view model you can sort very easily, even with multiple elements if you create a comparator.\r\n\r\n    // Create the comparator\r\n    Comparator&lt;NewsViewModel&gt; sortByDateTime = Comparator.comparing(NewsViewModel::getNewsDate)\r\n                    .thenComparing(NewsViewModel::getNewsTime);\r\n    \r\n    // Sort on date, then on time\r\n    Collections.sort(newsList, sortByDateTime);\r\n    \r\n    // And even reverse the list afterwards\r\n    Collections.reverse(newsList);","title":"Android-java- How to sort a list of objects by a certain value within the object","body":"<p>When sorting a view model you can sort very easily, even with multiple elements if you create a comparator.</p>\n<pre><code>// Create the comparator\nComparator&lt;NewsViewModel&gt; sortByDateTime = Comparator.comparing(NewsViewModel::getNewsDate)\n                .thenComparing(NewsViewModel::getNewsTime);\n\n// Sort on date, then on time\nCollections.sort(newsList, sortByDateTime);\n\n// And even reverse the list afterwards\nCollections.reverse(newsList);\n</code></pre>\n"}],"owner":{"account_id":300067,"reputation":5365,"user_id":607013,"accept_rate":95,"display_name":"James andresakis"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":244863,"favorite_count":0,"down_vote_count":2,"up_vote_count":135,"accepted_answer_id":9109990,"answer_count":15,"score":133,"last_activity_date":1673269615,"creation_date":1328174961,"question_id":9109890,"body_markdown":"Im trying to sort through an arraylist of objects by a particular value within the object. What would be the best approach to do such a thing. Should I use Collections.sort() with some kind of comparator? \r\n\r\nIm trying to sort a list of objects by a float value they hold in one of the variables.\r\n\r\n\r\nEDIT:\r\nThis is what I have so far:\r\n\r\n    public class CustomComparator implements Comparator&lt;Marker&gt; {\r\n\t    @Override\r\n\t    public int compare(Mark o1, Mark o2) {\r\n\t        return o1.getDistance().compareTo(o2.getDistance());\r\n\t    }\r\n\t}\r\n\r\nthe error states: Cannot invoke compareTo(double) on the primitive type double.\r\n\r\nIs it because a comparator cant return anything other than a certain type?\r\n","title":"Android-java- How to sort a list of objects by a certain value within the object","body":"<p>Im trying to sort through an arraylist of objects by a particular value within the object. What would be the best approach to do such a thing. Should I use Collections.sort() with some kind of comparator? </p>\n\n<p>Im trying to sort a list of objects by a float value they hold in one of the variables.</p>\n\n<p>EDIT:\nThis is what I have so far:</p>\n\n<pre><code>public class CustomComparator implements Comparator&lt;Marker&gt; {\n    @Override\n    public int compare(Mark o1, Mark o2) {\n        return o1.getDistance().compareTo(o2.getDistance());\n    }\n}\n</code></pre>\n\n<p>the error states: Cannot invoke compareTo(double) on the primitive type double.</p>\n\n<p>Is it because a comparator cant return anything other than a certain type?</p>\n"},{"tags":["java","spring-boot","ag-grid","spring-data-mongodb"],"owner":{"account_id":1271410,"reputation":177,"user_id":1227571,"accept_rate":64,"display_name":"meet patel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":90,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673269221,"creation_date":1673269221,"question_id":75057624,"body_markdown":"i have scenario server side row model where by selecting the select all checkbox i have to select all rows(not on view port or displayed) i.e all 10K rows, that also want to  maintain as logged in user based,\r\nso that each user row selection not interfere other user selection.\r\ni am not rendering the all Data in ag-grid only 50 per page so to maintain in client browser is not  work for me. Backend i am using spring boot-mongoDb.","title":"How to handle sever side user selection or select all in spring boot with ag-grid with user based?","body":"<p>i have scenario server side row model where by selecting the select all checkbox i have to select all rows(not on view port or displayed) i.e all 10K rows, that also want to  maintain as logged in user based,\nso that each user row selection not interfere other user selection.\ni am not rendering the all Data in ag-grid only 50 per page so to maintain in client browser is not  work for me. Backend i am using spring boot-mongoDb.</p>\n"},{"tags":["java","vaadin","vaadin-flow","vaadin14","vaadin-grid"],"comments":[{"owner":{"account_id":3837378,"reputation":35488,"user_id":3181392,"display_name":"cfrick"},"score":1,"creation_date":1672934926,"post_id":75021157,"comment_id":132389523,"body_markdown":"Could you please be specific, _when_ the time is wasted.  E.g. is the time spent inside `getCellStyle` or does ti take 40s to render the grid in the browser? If you can not use a profiler, then at least try to bisect the problem (e.g. don&#39;t call `getOverallScore`).  Also what exactly is `StundentService` and what is `Student` (e.g. some Repo and some ORM-mapped class? Is the score materialized? Has the Student lazy-loaded content (n+1-Problem))?","body":"Could you please be specific, <i>when</i> the time is wasted.  E.g. is the time spent inside <code>getCellStyle</code> or does ti take 40s to render the grid in the browser? If you can not use a profiler, then at least try to bisect the problem (e.g. don&#39;t call <code>getOverallScore</code>).  Also what exactly is <code>StundentService</code> and what is <code>Student</code> (e.g. some Repo and some ORM-mapped class? Is the score materialized? Has the Student lazy-loaded content (n+1-Problem))?"},{"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"score":2,"creation_date":1672936539,"post_id":75021157,"comment_id":132390179,"body_markdown":"Can you create a minimal reproducible example?","body":"Can you create a minimal reproducible example?"},{"owner":{"account_id":23256661,"reputation":29,"user_id":17343609,"display_name":"Tom Milton"},"score":0,"creation_date":1672939262,"post_id":75021157,"comment_id":132391190,"body_markdown":"I have amended my question to hopefully make things abit clearer, I should of mentioned  that my application is not getting hung up anywhere (its not taking along time to load anything) I know this because the values in the rows are updated very quickly. Its almost as if the class name generator runs periodically and my grid is waiting for the next call. (Im sure thats not the case, but thats what its acting like)","body":"I have amended my question to hopefully make things abit clearer, I should of mentioned  that my application is not getting hung up anywhere (its not taking along time to load anything) I know this because the values in the rows are updated very quickly. Its almost as if the class name generator runs periodically and my grid is waiting for the next call. (Im sure thats not the case, but thats what its acting like)"},{"owner":{"account_id":3837378,"reputation":35488,"user_id":3181392,"display_name":"cfrick"},"score":0,"creation_date":1672945346,"post_id":75021157,"comment_id":132393153,"body_markdown":"&quot;but the colour of the cell is taking too long&quot; _where_ is it slow? In\nthe browser? When it polls? I&#39;ll second: Please provide\na [MRE](https://stackoverflow.com/help/minimal-reproducible-example)","body":"&quot;but the colour of the cell is taking too long&quot; <i>where</i> is it slow? In the browser? When it polls? I&#39;ll second: Please provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">MRE</a>"}],"owner":{"account_id":23256661,"reputation":29,"user_id":17343609,"display_name":"Tom Milton"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":89,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673269183,"creation_date":1672934153,"question_id":75021157,"body_markdown":"I have Vaadin Spring Boot Application that has a grid that uses a class name generator to style a columns cells. When setItems() is called on this grid the values in the cells are updated almost immediately but the cell colour doesn&#39;t change for some time after.\r\n\r\nMy class uses a Poll to call an update method every 10 seconds which calls setItems() on the grid. See below for a basic example of the set up I am using. In the example below when the update method is called, the overall score value will be updated in an acceptable amount of time, but the colour of the cell is taking too long. \r\n\r\nAny advice to speed this up would be great, I&#39;m not that keen on the poll so if anyone thinks that may be the problem I would love to hear your thoughts.\r\n \r\n    @Route(&quot;simple-layout&quot;)\r\n    @CssImport(value = &quot;./styles/grid-styles.css&quot;)\r\n    public class SimpleLayout extends VerticalLayout { \r\n        \r\n        private Grid&lt;Student&gt; grid;\r\n        private StudentService service;\r\n        \r\n        public SimpleLayout(StudentService service) {\r\n\r\n            ... ommitted other code fragments\r\n\r\n            grid.addColumn(Student::getOverallScore).setClassNameGenerator(this::getCellStyle());\r\n            add(grid);\r\n\r\n            UI ui = UI.getCurrent();\r\n            ui.setPollInterval(10000);\r\n            PollListenerRegistration pollListenerRegistration = ui.addPollListener(pollEvent -&gt; updateGrid());\r\n        }\r\n\r\n        private String getCellStyle(Student student) {\r\n           \r\n            if(student.getOverallScore() &gt; 50) {\r\n                return &quot;green-cell-colour&quot;;\r\n            } else {\r\n                return &quot;red-cell-colour&quot;;\r\n            }\r\n        }\r\n\r\n        private void updateGrid() {\r\n          \r\n            grid.setItems(service.findAll());\r\n        }\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n\r\n    @Entity\r\n    public class Student implements Serializable {\r\n\r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.SEQUENCE)\r\n        private Long id;\r\n    \r\n        private int overallScore;\r\n        \r\n        public Student() {}\r\n        \r\n        ...getters and setters omitted\r\n    } \r\n\r\n\r\n\r\n\r\n\r\n    @Service\r\n    public class StudentService {\r\n        \r\n        private StudentRepo repo;\r\n\r\n        public StudentService(StudentRepo repo) {\r\n       \r\n            this.repo = repo;\r\n        }\r\n        \r\n        public List&lt;Student&gt; findAll() {\r\n        \r\n            return repo.findAll();\r\n        }\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n\r\n    public interface StudentRepo extends JpaRepository&lt;Student, Long&gt; {\r\n\r\n        List&lt;Student&gt; findAll();\r\n    }","title":"Vaadin: Grid Cell Colour, Slow To React","body":"<p>I have Vaadin Spring Boot Application that has a grid that uses a class name generator to style a columns cells. When setItems() is called on this grid the values in the cells are updated almost immediately but the cell colour doesn't change for some time after.</p>\n<p>My class uses a Poll to call an update method every 10 seconds which calls setItems() on the grid. See below for a basic example of the set up I am using. In the example below when the update method is called, the overall score value will be updated in an acceptable amount of time, but the colour of the cell is taking too long.</p>\n<p>Any advice to speed this up would be great, I'm not that keen on the poll so if anyone thinks that may be the problem I would love to hear your thoughts.</p>\n<pre><code>@Route(&quot;simple-layout&quot;)\n@CssImport(value = &quot;./styles/grid-styles.css&quot;)\npublic class SimpleLayout extends VerticalLayout { \n    \n    private Grid&lt;Student&gt; grid;\n    private StudentService service;\n    \n    public SimpleLayout(StudentService service) {\n\n        ... ommitted other code fragments\n\n        grid.addColumn(Student::getOverallScore).setClassNameGenerator(this::getCellStyle());\n        add(grid);\n\n        UI ui = UI.getCurrent();\n        ui.setPollInterval(10000);\n        PollListenerRegistration pollListenerRegistration = ui.addPollListener(pollEvent -&gt; updateGrid());\n    }\n\n    private String getCellStyle(Student student) {\n       \n        if(student.getOverallScore() &gt; 50) {\n            return &quot;green-cell-colour&quot;;\n        } else {\n            return &quot;red-cell-colour&quot;;\n        }\n    }\n\n    private void updateGrid() {\n      \n        grid.setItems(service.findAll());\n    }\n}\n\n\n\n\n\n\n@Entity\npublic class Student implements Serializable {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.SEQUENCE)\n    private Long id;\n\n    private int overallScore;\n    \n    public Student() {}\n    \n    ...getters and setters omitted\n} \n\n\n\n\n\n@Service\npublic class StudentService {\n    \n    private StudentRepo repo;\n\n    public StudentService(StudentRepo repo) {\n   \n        this.repo = repo;\n    }\n    \n    public List&lt;Student&gt; findAll() {\n    \n        return repo.findAll();\n    }\n}\n\n\n\n\n\n\npublic interface StudentRepo extends JpaRepository&lt;Student, Long&gt; {\n\n    List&lt;Student&gt; findAll();\n}\n</code></pre>\n"},{"tags":["java","spring"],"answers":[{"tags":[],"owner":{"account_id":8602220,"reputation":161,"user_id":6443385,"display_name":"taichouvik"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673269134,"creation_date":1673239250,"answer_id":75053248,"question_id":73421603,"body_markdown":"Add a null check on String s, in `convertToEntityAttribute` of `HashMapConverter`","title":"adding json on a column in enitity class using spring boot","body":"<p>Add a null check on String s, in <code>convertToEntityAttribute</code> of <code>HashMapConverter</code></p>\n"}],"owner":{"account_id":26083255,"reputation":1,"user_id":19781037,"display_name":"Durgesh Soni"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":509,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1673269134,"creation_date":1660938485,"question_id":73421603,"body_markdown":"I was using JPA AttributeConverter with Spring Boot 1.2.1 RELEASE and it worked fine. But I get the following error after upgrading to Spring Boot 1.3.0.RELEASE\r\n\r\n\r\nattributeLabelMap.java:\r\n\r\nI want to add this as the json format\r\n\r\n```json\r\nmetadata: {\r\n          masked: true,\r\n          maxLength: 200,\r\n          formula: &quot;a + b&quot;,\r\n          parentCode: &quot;strAttr_1&quot;,\r\n          currency: &quot;$&quot;,\r\n        },\r\n```\r\n\r\nI added this column in entity class\r\n\r\n```java\r\n@Column(name = &quot;metadata_json&quot;,columnDefinition = &quot;json&quot;)\r\n@Convert(converter = HashMapConverter.class)\r\nprivate Map&lt;String,Object&gt; metaDataAttribute\r\n```\r\n\r\nHashMapConverter class:\r\n\r\n```java\r\npackage in.nobroker.hood.crm.entity;\r\n\r\nimport com.fasterxml.jackson.core.JsonProcessingException;\r\nimport com.fasterxml.jackson.databind.ObjectMapper;\r\nimport lombok.extern.slf4j.Slf4j;\r\nimport javax.persistence.AttributeConverter;\r\nimport java.io.IOException;\r\nimport java.util.Map;\r\n\r\n@Slf4j\r\npublic class HashMapConverter implements AttributeConverter&lt;Map&lt;String, Object&gt;, String&gt; {\r\n    private final ObjectMapper objectMapper = new ObjectMapper();\r\n\r\n    @Override\r\n    public String convertToDatabaseColumn(Map&lt;String, Object&gt; stringObjectMap) {\r\n        String attributeInfoJson = null;\r\n        try {\r\n            attributeInfoJson = objectMapper.writeValueAsString(stringObjectMap);\r\n        } catch (final JsonProcessingException e) {\r\n            log.error(&quot;JSON writing error&quot;, e);\r\n        }\r\n        return attributeInfoJson;\r\n    }\r\n\r\n    @Override\r\n    public Map&lt;String, Object&gt; convertToEntityAttribute(String s) {\r\n        Map&lt;String, Object&gt; attributeInfo = null;\r\n        try {\r\n            attributeInfo = objectMapper.readValue(s, Map.class);\r\n        } catch (final IOException e) {\r\n            log.error(&quot;JSON reading error&quot;, e);\r\n        }\r\n        return attributeInfo;\r\n    }\r\n}\r\n```\r\n\r\nIn Postman:\r\n\r\n```json\r\n{\r\n    &quot;label&quot;: &quot;dateAttr_5&quot;,\r\n    &quot;id&quot;: &quot;f73434ba-bfaa-49f5-9a41-b86715a985f2&quot;,\r\n    &quot;filter&quot;: true,\r\n    &quot;inUse&quot;: true,\r\n    &quot;editable&quot;: true,\r\n    &quot;mandatory&quot;: true,\r\n    &quot;priority&quot;: 0,\r\n    &quot;textOptions&quot;: &quot;a,b,c,d&quot;,\r\n    &quot;type&quot;: &quot;DATETIME_FORM_DATA&quot;,\r\n    &quot;filterType&quot;: &quot;ABSOLUTE&quot;,\r\n    &quot;metaDataAttribute&quot;: {\r\n        &quot;masked&quot;: true,\r\n        &quot;maxLength&quot;: 200,\r\n        &quot;formula&quot;: &quot;a + b&quot;,\r\n        &quot;parentCode&quot;: &quot;strAttr_1&quot;,\r\n        &quot;currency&quot;: &quot;$&quot;\r\n    }\r\n}\r\n```\r\n\r\nI want to add metaDataAttribute when I hit Postman its giving internal server error:\r\n\r\n``` none\r\nargument &quot;content&quot; is null\r\nfailed to fetch attribute label mappings \r\nargument &quot;content&quot; is null\r\n\tat com.fasterxml.jackson.databind.ObjectMapper._assertNotNull(ObjectMapper.java:4693)\r\n\tat com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3401)\r\n\tat in.nobroker.hood.crm.entity.HashMapConverter.convertToEntityAttribute(HashMapConverter.java:31)\r\n\tat in.nobroker.hood.crm.entity.HashMapConverter.convertToEntityAttribute(HashMapConverter.java:10)\r\n\tat org.hibernate.metamodel.model.convert.internal.JpaAttributeConverterImpl.toDomainValue(JpaAttributeConverterImpl.java:45)\r\n\tat org.hibernate.type.descriptor.converter.AttributeConverterSqlTypeDescriptorAdapter$2.doConversion(AttributeConverterSqlTypeDescriptorAdapter.java:140)\r\n\t... 186 common frames omitted\r\n```\r\n","title":"adding json on a column in enitity class using spring boot","body":"<p>I was using JPA AttributeConverter with Spring Boot 1.2.1 RELEASE and it worked fine. But I get the following error after upgrading to Spring Boot 1.3.0.RELEASE</p>\n<p>attributeLabelMap.java:</p>\n<p>I want to add this as the json format</p>\n<pre class=\"lang-json prettyprint-override\"><code>metadata: {\n          masked: true,\n          maxLength: 200,\n          formula: &quot;a + b&quot;,\n          parentCode: &quot;strAttr_1&quot;,\n          currency: &quot;$&quot;,\n        },\n</code></pre>\n<p>I added this column in entity class</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Column(name = &quot;metadata_json&quot;,columnDefinition = &quot;json&quot;)\n@Convert(converter = HashMapConverter.class)\nprivate Map&lt;String,Object&gt; metaDataAttribute\n</code></pre>\n<p>HashMapConverter class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package in.nobroker.hood.crm.entity;\n\nimport com.fasterxml.jackson.core.JsonProcessingException;\nimport com.fasterxml.jackson.databind.ObjectMapper;\nimport lombok.extern.slf4j.Slf4j;\nimport javax.persistence.AttributeConverter;\nimport java.io.IOException;\nimport java.util.Map;\n\n@Slf4j\npublic class HashMapConverter implements AttributeConverter&lt;Map&lt;String, Object&gt;, String&gt; {\n    private final ObjectMapper objectMapper = new ObjectMapper();\n\n    @Override\n    public String convertToDatabaseColumn(Map&lt;String, Object&gt; stringObjectMap) {\n        String attributeInfoJson = null;\n        try {\n            attributeInfoJson = objectMapper.writeValueAsString(stringObjectMap);\n        } catch (final JsonProcessingException e) {\n            log.error(&quot;JSON writing error&quot;, e);\n        }\n        return attributeInfoJson;\n    }\n\n    @Override\n    public Map&lt;String, Object&gt; convertToEntityAttribute(String s) {\n        Map&lt;String, Object&gt; attributeInfo = null;\n        try {\n            attributeInfo = objectMapper.readValue(s, Map.class);\n        } catch (final IOException e) {\n            log.error(&quot;JSON reading error&quot;, e);\n        }\n        return attributeInfo;\n    }\n}\n</code></pre>\n<p>In Postman:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n    &quot;label&quot;: &quot;dateAttr_5&quot;,\n    &quot;id&quot;: &quot;f73434ba-bfaa-49f5-9a41-b86715a985f2&quot;,\n    &quot;filter&quot;: true,\n    &quot;inUse&quot;: true,\n    &quot;editable&quot;: true,\n    &quot;mandatory&quot;: true,\n    &quot;priority&quot;: 0,\n    &quot;textOptions&quot;: &quot;a,b,c,d&quot;,\n    &quot;type&quot;: &quot;DATETIME_FORM_DATA&quot;,\n    &quot;filterType&quot;: &quot;ABSOLUTE&quot;,\n    &quot;metaDataAttribute&quot;: {\n        &quot;masked&quot;: true,\n        &quot;maxLength&quot;: 200,\n        &quot;formula&quot;: &quot;a + b&quot;,\n        &quot;parentCode&quot;: &quot;strAttr_1&quot;,\n        &quot;currency&quot;: &quot;$&quot;\n    }\n}\n</code></pre>\n<p>I want to add metaDataAttribute when I hit Postman its giving internal server error:</p>\n<pre class=\"lang-none prettyprint-override\"><code>argument &quot;content&quot; is null\nfailed to fetch attribute label mappings \nargument &quot;content&quot; is null\n    at com.fasterxml.jackson.databind.ObjectMapper._assertNotNull(ObjectMapper.java:4693)\n    at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3401)\n    at in.nobroker.hood.crm.entity.HashMapConverter.convertToEntityAttribute(HashMapConverter.java:31)\n    at in.nobroker.hood.crm.entity.HashMapConverter.convertToEntityAttribute(HashMapConverter.java:10)\n    at org.hibernate.metamodel.model.convert.internal.JpaAttributeConverterImpl.toDomainValue(JpaAttributeConverterImpl.java:45)\n    at org.hibernate.type.descriptor.converter.AttributeConverterSqlTypeDescriptorAdapter$2.doConversion(AttributeConverterSqlTypeDescriptorAdapter.java:140)\n    ... 186 common frames omitted\n</code></pre>\n"},{"tags":["java","java-9","java-platform-module-system","java-17"],"comments":[{"owner":{"account_id":2139538,"reputation":42521,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":2,"creation_date":1633954936,"post_id":69526033,"comment_id":122889784,"body_markdown":"I&#39;m fairly sure, but not positive, that the way you&#39;re expected to solve this is to simply disambiguate them: e.g. `foo.bar.images` and `foo.bazz.images`.","body":"I&#39;m fairly sure, but not positive, that the way you&#39;re expected to solve this is to simply disambiguate them: e.g. <code>foo.bar.images</code> and <code>foo.bazz.images</code>."},{"owner":{"account_id":3084600,"reputation":5860,"user_id":2612030,"display_name":"ewramner"},"score":2,"creation_date":1633957268,"post_id":69526033,"comment_id":122890751,"body_markdown":"The rule is that anything that looks like a package is treated as a package, so you could try putting the files in META-INF/images instead. Not sure if it works, but easy to try.","body":"The rule is that anything that looks like a package is treated as a package, so you could try putting the files in META-INF/images instead. Not sure if it works, but easy to try."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":4,"creation_date":1634030087,"post_id":69526033,"comment_id":122910761,"body_markdown":"Before the introduction of the module system, looking up the resources starting with `/images` could unpredictably end up in arbitrary results of either jar file. Now, the module system is telling you that there’s a problem. Why do you insist on storing resources in paths with name clashes?","body":"Before the introduction of the module system, looking up the resources starting with <code>&#47;images</code> could unpredictably end up in arbitrary results of either jar file. Now, the module system is telling you that there’s a problem. Why do you insist on storing resources in paths with name clashes?"},{"owner":{"account_id":1534652,"reputation":8621,"user_id":1431016,"accept_rate":100,"display_name":"Sormuras"},"score":0,"creation_date":1634398507,"post_id":69526033,"comment_id":123016111,"body_markdown":"As Holger wrote: different modules, different packages. Make use of the ServiceLoader SPI to find multiple service implemenations including sources of resources at runtime. The auto-merging powers of the class-path don&#39;t work in the modular world.","body":"As Holger wrote: different modules, different packages. Make use of the ServiceLoader SPI to find multiple service implemenations including sources of resources at runtime. The auto-merging powers of the class-path don&#39;t work in the modular world."}],"answers":[{"tags":[],"owner":{"account_id":4555218,"reputation":32585,"user_id":3699139,"display_name":"Jorn Vernee"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1673268999,"creation_date":1634405544,"answer_id":69598030,"question_id":69526033,"body_markdown":"&gt; How to add resources to two modular jars in same-named folders?\r\n\r\nWhile it is possible to do this by putting the resources under a path that is not a valid package name, such as `META-INF/resources` or another path with a `-` hyphen in it, I would advice against doing so since such resources are not encapsulated, and might not be uniquely identifiable with some APIs.\r\n\r\nIn other words: ANY code in the application can load a resource that is not inside a valid package, not just the code of the module in the jar that contains the resource.\r\n\r\nAs well as: if the resource does not have a unique name based on it&#39;s path inside the jar, only one of the resources with the same name can be found by the `ClassLoader.findResource` API.\r\n\r\n---\r\n\r\nMy advice would be to create a package in your module that has the same name as the module, with the `.images` suffix. e.g. `mod.foo.images`, and then put your resources in that package. Then load the resource with the [modular resource loading API](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Module.html#getResourceAsStream(java.lang.String)):\r\n\r\n    MyClass.class.getModule().getResourceAsStream(&quot;mod/foo/images/my_image.jpg&quot;)\r\n\r\nThat way the resource would only be loadable by code in the same module (`mod.foo`, as long as you put it on the module path), as well as avoiding any ambiguity with resource names.\r\n\r\n","title":"How to add resources to two modular jars in same-named folders?","body":"<blockquote>\n<p>How to add resources to two modular jars in same-named folders?</p>\n</blockquote>\n<p>While it is possible to do this by putting the resources under a path that is not a valid package name, such as <code>META-INF/resources</code> or another path with a <code>-</code> hyphen in it, I would advice against doing so since such resources are not encapsulated, and might not be uniquely identifiable with some APIs.</p>\n<p>In other words: ANY code in the application can load a resource that is not inside a valid package, not just the code of the module in the jar that contains the resource.</p>\n<p>As well as: if the resource does not have a unique name based on it's path inside the jar, only one of the resources with the same name can be found by the <code>ClassLoader.findResource</code> API.</p>\n<hr />\n<p>My advice would be to create a package in your module that has the same name as the module, with the <code>.images</code> suffix. e.g. <code>mod.foo.images</code>, and then put your resources in that package. Then load the resource with the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Module.html#getResourceAsStream(java.lang.String)\" rel=\"nofollow noreferrer\">modular resource loading API</a>:</p>\n<pre><code>MyClass.class.getModule().getResourceAsStream(&quot;mod/foo/images/my_image.jpg&quot;)\n</code></pre>\n<p>That way the resource would only be loadable by code in the same module (<code>mod.foo</code>, as long as you put it on the module path), as well as avoiding any ambiguity with resource names.</p>\n"}],"owner":{"account_id":5762699,"reputation":81,"user_id":4548549,"display_name":"Zach"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":323,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":1,"score":4,"last_activity_date":1673268999,"creation_date":1633954436,"question_id":69526033,"body_markdown":"Assuming we have two jar files with two different modules. Both jar-files include some resources (lets say png-files) in a folder called images in their jar. When I now try to start a module in java I get the following error:\r\n\r\n    Error occurred during initialization of boot layer\r\n    java.lang.LayerInstantiationException: Package images in both module A and module B\r\n\r\nAlthough my images folder is not meant to be a package but is just a folder containing resources. So how can I get two modules with an images-folder onto my module-path?","title":"How to add resources to two modular jars in same-named folders?","body":"<p>Assuming we have two jar files with two different modules. Both jar-files include some resources (lets say png-files) in a folder called images in their jar. When I now try to start a module in java I get the following error:</p>\n<pre><code>Error occurred during initialization of boot layer\njava.lang.LayerInstantiationException: Package images in both module A and module B\n</code></pre>\n<p>Although my images folder is not meant to be a package but is just a folder containing resources. So how can I get two modules with an images-folder onto my module-path?</p>\n"},{"tags":["java","android","android-dialogfragment"],"owner":{"account_id":25311834,"reputation":73,"user_id":19134480,"display_name":"Patrick Renaud"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673268958,"creation_date":1673268461,"question_id":75057489,"body_markdown":"I am writing an app where i am trying to display a dialog fragment on Activity A. Activity-A launch Activity-B using an intent. I am launching the Dialogfragment using a broadcast intent whose receiver is registered on Activity-A . But when i  switch from activity A to activity B , i get the an IllegalStateException error when Activity A broadcast receiver receives the intent . The eror displays : Can not perform this action after onSaveInstanceState . Could you help me please ?","title":"java.lang.IllegalStateException error :&quot;Can not perform this action after onSaveInstanceState&quot;","body":"<p>I am writing an app where i am trying to display a dialog fragment on Activity A. Activity-A launch Activity-B using an intent. I am launching the Dialogfragment using a broadcast intent whose receiver is registered on Activity-A . But when i  switch from activity A to activity B , i get the an IllegalStateException error when Activity A broadcast receiver receives the intent . The eror displays : Can not perform this action after onSaveInstanceState . Could you help me please ?</p>\n"},{"tags":["java","selenium","iframe","selenium-webdriver"],"answers":[{"comments":[{"owner":{"account_id":2830774,"reputation":1406,"user_id":2432405,"accept_rate":33,"display_name":"user2432405"},"score":0,"creation_date":1377745954,"post_id":18487764,"comment_id":27202540,"body_markdown":"I tested the page with the following code:  \n\tpublic void SelectSomething(WebDriver driver, String s) {  \n\n    driver.manage().timeouts().implicitlyWait(10, TimeUnit.SECONDS);\n    WebDriverWait wait = new WebDriverWait(driver, 20);\n    WebDriver frame = wait.until(\n\t\tExpectedConditions.frameToBeAvailableAndSwitchToIt(&quot;frmMain&quot;));\n    wait = new WebDriverWait(frame, 30);\n    System.out.println(&quot;#######################&quot; + (new Date()));\n    System.out.println(frame.getPageSource());\n    System.out.println(&quot;#######################&quot; + (new Date()));  \n//////To be continued...","body":"I tested the page with the following code:   \tpublic void SelectSomething(WebDriver driver, String s) {        driver.manage().timeouts().implicitlyWait(10, TimeUnit.SECONDS);     WebDriverWait wait = new WebDriverWait(driver, 20);     WebDriver frame = wait.until( \t\tExpectedConditions.frameToBeAvailableAndSwitchToIt(&quot;frmMai&zwnj;&#8203;n&quot;));     wait = new WebDriverWait(frame, 30);     System.out.println(&quot;#######################&quot; + (new Date()));     System.out.println(frame.getPageSource());     System.out.println(&quot;#######################&quot; + (new Date()));   //////To be continued..."},{"owner":{"account_id":2830774,"reputation":1406,"user_id":2432405,"accept_rate":33,"display_name":"user2432405"},"score":0,"creation_date":1377746069,"post_id":18487764,"comment_id":27202562,"body_markdown":"try {\n\t\twait.until(ExpectedConditions.presenceOfElementLocated(By.tagName(&quot;img&quot;)));\n\t}  catch (TimeoutException e) {\n\t\tSystem.out.println(frame.getPageSource());\n\t}  \n\t\n\tSystem.out.println(&quot;#######################&quot; + (new Date()));\n\tSystem.out.println(frame.getPageSource());\n\tSystem.out.println(&quot;#######################&quot; + (new Date()));\n}\n//////To be continued...","body":"try { \t\twait.until(ExpectedConditions.presenceOfElementLocated(By.&zwnj;&#8203;tagName(&quot;img&quot;))); \t}  catch (TimeoutException e) { \t\tSystem.out.println(frame.getPageSource()); \t}   \t \tSystem.out.println(&quot;#######################&quot; + (new Date())); \tSystem.out.println(frame.getPageSource()); \tSystem.out.println(&quot;#######################&quot; + (new Date())); } //////To be continued..."},{"owner":{"account_id":2830774,"reputation":1406,"user_id":2432405,"accept_rate":33,"display_name":"user2432405"},"score":0,"creation_date":1377746116,"post_id":18487764,"comment_id":27202574,"body_markdown":"And get the following results sometimes:\t\t\n\n#######################Thu Aug 29 10:30:36 CST 2013\t\t\n\t\t&lt;HTML&gt;&lt;HEAD&gt;&lt;/HEAD&gt;\t\t\n\t\t&lt;BODY&gt;&lt;/BODY&gt;&lt;/HTML&gt;\t\t\t\n#######################Thu Aug 29 10:30:37 CST 2013\n\t\tPageSource Section#2\t\t\n#######################Thu Aug 29 10:31:09 CST 2013\n\t\tPageSource Section#3\t\t\n#######################Thu Aug 29 10:31:09 CST 2013\n//////To be continued...","body":"And get the following results sometimes:\t\t  #######################Thu Aug 29 10:30:36 CST 2013\t\t \t\t&lt;HTML&gt;&lt;HEAD&gt;&lt;/HEAD&gt;\t\t \t\t&lt;BODY&gt;&lt;/BODY&gt;&lt;/HTML&gt;\t\t\t #######################Thu Aug 29 10:30:37 CST 2013 \t\tPageSource Section#2\t\t #######################Thu Aug 29 10:31:09 CST 2013 \t\tPageSource Section#3\t\t #######################Thu Aug 29 10:31:09 CST 2013 //////To be continued..."},{"owner":{"account_id":2830774,"reputation":1406,"user_id":2432405,"accept_rate":33,"display_name":"user2432405"},"score":0,"creation_date":1377746141,"post_id":18487764,"comment_id":27202577,"body_markdown":"Here are two problems I couldn&#39;t work out:\n1. frame.getPageSource() got the source of the whole page, other than that of the iframe.\t\t\n2. I had waited long enough for elements in the iframe to be present, but the source got with method frame.getPageSource() didn&#39;t include anyone.                                                           Sorry for the ugly formatting.","body":"Here are two problems I couldn&#39;t work out: 1. frame.getPageSource() got the source of the whole page, other than that of the iframe.\t\t 2. I had waited long enough for elements in the iframe to be present, but the source got with method frame.getPageSource() didn&#39;t include anyone.                                                           Sorry for the ugly formatting."},{"owner":{"account_id":1124049,"reputation":6262,"user_id":1111732,"accept_rate":67,"display_name":"craastad"},"score":0,"creation_date":1377760288,"post_id":18487764,"comment_id":27206893,"body_markdown":"Have you tried switching to the Iframe first and then waiting for an element in it to loading? This is what I do in my code.\nIn C# this is done with `driver.SwitchTo().Frame(driver.FindElement(By.CssSelector(IFrameCss)));`","body":"Have you tried switching to the Iframe first and then waiting for an element in it to loading? This is what I do in my code. In C# this is done with <code>driver.SwitchTo().Frame(driver.FindElement(By.CssSelector(IF&zwnj;&#8203;rameCss)));</code>"}],"tags":[],"owner":{"account_id":898648,"reputation":10303,"user_id":935374,"accept_rate":50,"display_name":"Abhishek Singh"},"comment_count":5,"down_vote_count":0,"up_vote_count":19,"is_accepted":false,"score":19,"last_activity_date":1488890604,"creation_date":1377692506,"answer_id":18487764,"question_id":18486511,"body_markdown":"Select any element on IFrame which takes maximum time to load e.g. any button or image and the wait using the following code.\r\n\r\n    WebDriverWait wait = new WebDriverWait(driver, 30);\r\n    wait.until(ExpectedConditions.visibilityOfElementLocated((By\r\n    \t\t\t\t.name(&quot;element&quot;))));\r\n\r\nOr rather you can wait for for iFrame to appear and then switch to it and then use the above statement !","title":"Selenium WebDriver: How to wait for iFrames to load completely?","body":"<p>Select any element on IFrame which takes maximum time to load e.g. any button or image and the wait using the following code.</p>\n\n<pre><code>WebDriverWait wait = new WebDriverWait(driver, 30);\nwait.until(ExpectedConditions.visibilityOfElementLocated((By\n                .name(\"element\"))));\n</code></pre>\n\n<p>Or rather you can wait for for iFrame to appear and then switch to it and then use the above statement !</p>\n"},{"comments":[{"owner":{"account_id":14961484,"reputation":89,"user_id":10801092,"display_name":"Grzech"},"score":0,"creation_date":1652340190,"post_id":59060172,"comment_id":127583658,"body_markdown":"Thanks! This helped me a lot. Just needed to change second condition (cond2) to more general one without putting locator there: \n\n`ExpectedCondition&lt;Boolean&gt; stalenessOfOldElement = ExpectedConditions.stalenessOf(elementOld);  \nExpectedCondition&lt;WebElement&gt; visibilityOfNewElement = ExpectedConditions.visibilityOf(elementNew);  \nExpectedCondition&lt;Boolean&gt; readyToSwitch = ExpectedConditions.and(stalenessOfOldElement, visibilityOfNewElement);  \nwait.until(readyToSwitch);`","body":"Thanks! This helped me a lot. Just needed to change second condition (cond2) to more general one without putting locator there:   <code>ExpectedCondition&lt;Boolean&gt; stalenessOfOldElement = ExpectedConditions.stalenessOf(elementOld);   ExpectedCondition&lt;WebElement&gt; visibilityOfNewElement = ExpectedConditions.visibilityOf(elementNew);   ExpectedCondition&lt;Boolean&gt; readyToSwitch = ExpectedConditions.and(stalenessOfOldElement, visibilityOfNewElement);   wait.until(readyToSwitch);</code>"},{"owner":{"account_id":8104679,"reputation":1650,"user_id":6106641,"accept_rate":80,"display_name":"Archmede"},"score":0,"creation_date":1652362550,"post_id":59060172,"comment_id":127591775,"body_markdown":"@Grzech the reason I use an xpath for the new element is because how would you have found the element you&#39;re looking for if the page hasn&#39;t loaded yet?","body":"@Grzech the reason I use an xpath for the new element is because how would you have found the element you&#39;re looking for if the page hasn&#39;t loaded yet?"}],"tags":[],"owner":{"account_id":8104679,"reputation":1650,"user_id":6106641,"accept_rate":80,"display_name":"Archmede"},"comment_count":2,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1574806568,"creation_date":1574806568,"answer_id":59060172,"question_id":18486511,"body_markdown":"The most robust way to verify a page reload is to verify that an element went stale and then to verify that a new element has loaded.\r\n\r\nChoose an element, `elementToBeStale`, which exists on the &quot;old&quot; page. This is the element you expect to go stale when the page reloads.\r\n\r\nNow choose an element you expect to appear on the page once it has reloaded, `xPathOfElementToLoad`. Note that this can be the same element you expected to go stale.\r\n\r\nNote that `xPathOfElementToLoad` can&#39;t be a `WebElement` because the it doesn&#39;t yet exist on the page so it can&#39;t be represented by one.\r\n\r\n\r\n    WebDriverWait wait = new WebDriverWait(driver, WAIT_TIME, POLL_INTERVAL);\r\n\r\n    ExpectedCondition&lt;Boolean&gt; cond1 = ExpectedConditions.stalenessOf(elementToBeStale);\r\n    ExpectedCondition&lt;WebElement&gt; cond2 = ExpectedConditions.presenceOfElementLocated(By.xpath(xPathOfElementToLoad));\r\n    ExpectedCondition&lt;Boolean&gt; cond = ExpectedConditions.and(cond1, cond2);\r\n\r\n    wait.until(cond);\r\n\r\nThis is useful for page reloads because on a page reload waiting for a `WebElement` to go stale guarantees the element no longer exists and then waiting for a new element to exist guarantees the new page has loaded","title":"Selenium WebDriver: How to wait for iFrames to load completely?","body":"<p>The most robust way to verify a page reload is to verify that an element went stale and then to verify that a new element has loaded.</p>\n\n<p>Choose an element, <code>elementToBeStale</code>, which exists on the \"old\" page. This is the element you expect to go stale when the page reloads.</p>\n\n<p>Now choose an element you expect to appear on the page once it has reloaded, <code>xPathOfElementToLoad</code>. Note that this can be the same element you expected to go stale.</p>\n\n<p>Note that <code>xPathOfElementToLoad</code> can't be a <code>WebElement</code> because the it doesn't yet exist on the page so it can't be represented by one.</p>\n\n<pre><code>WebDriverWait wait = new WebDriverWait(driver, WAIT_TIME, POLL_INTERVAL);\n\nExpectedCondition&lt;Boolean&gt; cond1 = ExpectedConditions.stalenessOf(elementToBeStale);\nExpectedCondition&lt;WebElement&gt; cond2 = ExpectedConditions.presenceOfElementLocated(By.xpath(xPathOfElementToLoad));\nExpectedCondition&lt;Boolean&gt; cond = ExpectedConditions.and(cond1, cond2);\n\nwait.until(cond);\n</code></pre>\n\n<p>This is useful for page reloads because on a page reload waiting for a <code>WebElement</code> to go stale guarantees the element no longer exists and then waiting for a new element to exist guarantees the new page has loaded</p>\n"},{"tags":[],"owner":{"account_id":27477460,"reputation":1,"user_id":20965199,"display_name":"Fernando AD"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673268905,"creation_date":1673268593,"answer_id":75057510,"question_id":18486511,"body_markdown":"I don&#39;t know if you already solved this, but here it goes. \r\n\r\nYour code is missing the type of search for the element, and I think is &quot;By.ID&quot;, so your code should be:\r\n\r\n\r\n    WebDriver frame = wait.until(ExpectedConditions.frameToBeAvailableAndSwitchToIt((By.ID, &quot;frmMain&quot;)))","title":"Selenium WebDriver: How to wait for iFrames to load completely?","body":"<p>I don't know if you already solved this, but here it goes.</p>\n<p>Your code is missing the type of search for the element, and I think is &quot;By.ID&quot;, so your code should be:</p>\n<pre><code>WebDriver frame = wait.until(ExpectedConditions.frameToBeAvailableAndSwitchToIt((By.ID, &quot;frmMain&quot;)))\n</code></pre>\n"}],"owner":{"account_id":2830774,"reputation":1406,"user_id":2432405,"accept_rate":33,"display_name":"user2432405"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":38731,"favorite_count":0,"down_vote_count":1,"up_vote_count":19,"answer_count":3,"score":18,"last_activity_date":1673268905,"creation_date":1377689033,"question_id":18486511,"body_markdown":"I&#39;m testing a page with an iFrame whose contents are generated by JavaScript dynamically. I have to wait for the iFrame loaded completely to make sure that all the elements are present. I tried the following code, it didn&#39;t work. \r\n\r\n    WebDriver frame = wait.until(ExpectedConditions.frameToBeAvailableAndSwitchToIt(&quot;frmMain&quot;));\r\n\r\nI also tried to wait for some element in the iFrame to be present. It didn&#39;t work, neither.\r\n&lt;br /&gt;&lt;br /&gt;\r\nAny help would be greatly appreciated, thanks!","title":"Selenium WebDriver: How to wait for iFrames to load completely?","body":"<p>I'm testing a page with an iFrame whose contents are generated by JavaScript dynamically. I have to wait for the iFrame loaded completely to make sure that all the elements are present. I tried the following code, it didn't work. </p>\n\n<pre><code>WebDriver frame = wait.until(ExpectedConditions.frameToBeAvailableAndSwitchToIt(\"frmMain\"));\n</code></pre>\n\n<p>I also tried to wait for some element in the iFrame to be present. It didn't work, neither.\n<br /><br />\nAny help would be greatly appreciated, thanks!</p>\n"},{"tags":["java","arrays","multidimensional-array","converters"],"answers":[{"comments":[{"owner":{"account_id":21906031,"reputation":13,"user_id":16191082,"display_name":"derhussain"},"score":0,"creation_date":1672953015,"post_id":75024149,"comment_id":132395384,"body_markdown":"Wow, this is such a good response. Thank you very much!","body":"Wow, this is such a good response. Thank you very much!"}],"tags":[],"owner":{"account_id":8049276,"reputation":746,"user_id":6068426,"display_name":"Kevin Seymour"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673268477,"creation_date":1672951404,"answer_id":75024149,"question_id":75024045,"body_markdown":"You can use `System.arraycopy` to do this.  You do not need to specify the size of the second dimension of the array (which is how you are able to have your original arrays to begin with).\r\n\r\nThe first copy takes `a1` and adds it to `a` (the resulting array) and then adds `a2` to the end of `a1` (which is now in `a`).\r\n\r\n    public class so75024045 {\r\n        public static void main(String[] args) {\r\n            int[][] a1 = new int[][] { { 1, 1, 1, 1 }, { 2, 2, 2 }, { 3, 3, 3 } };\r\n            int[][] a2 = new int[][] { { 4 }, { 5, 5, 5, 5, 5 } };\r\n            int[][] a = new int[a1.length + a2.length][];\r\n    \r\n            System.arraycopy(a1, 0, a, 0, a1.length);\r\n            System.arraycopy(a2, 0, a, a1.length, a2.length);\r\n    \r\n            for (int[] x : a) {\r\n                for (int y : x) {\r\n                    System.out.print(y + &quot; &quot;);\r\n                }\r\n                System.out.println(&quot;&quot;);\r\n            }\r\n        }\r\n    }\r\n\r\n","title":"Turning two 2-Dimensional Arrays into one 2-Dimensional Array with different length of Arrays and different length of Arrays inside 2D Array","body":"<p>You can use <code>System.arraycopy</code> to do this.  You do not need to specify the size of the second dimension of the array (which is how you are able to have your original arrays to begin with).</p>\n<p>The first copy takes <code>a1</code> and adds it to <code>a</code> (the resulting array) and then adds <code>a2</code> to the end of <code>a1</code> (which is now in <code>a</code>).</p>\n<pre><code>public class so75024045 {\n    public static void main(String[] args) {\n        int[][] a1 = new int[][] { { 1, 1, 1, 1 }, { 2, 2, 2 }, { 3, 3, 3 } };\n        int[][] a2 = new int[][] { { 4 }, { 5, 5, 5, 5, 5 } };\n        int[][] a = new int[a1.length + a2.length][];\n\n        System.arraycopy(a1, 0, a, 0, a1.length);\n        System.arraycopy(a2, 0, a, a1.length, a2.length);\n\n        for (int[] x : a) {\n            for (int y : x) {\n                System.out.print(y + &quot; &quot;);\n            }\n            System.out.println(&quot;&quot;);\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1672953912,"creation_date":1672951435,"answer_id":75024156,"question_id":75024045,"body_markdown":"Try it like this.\r\n\r\n- use `Arrays.copyOf` to create a new array of the same size and copying the first.\r\n- then the easiest way is to just use a loop to copy the second array to the  first.\r\n- this ensures that the resultant array does not share objects with the previous two.\r\n```\r\npublic class ArraysAndMore {\r\n\r\n    public static void main(String[] args) {\r\n        int[][] ary2DFirst = new int[][]\r\n            {\r\n                    {1,1,1,1},\r\n                    {2,2,2},\r\n                    {3,3,3}};\r\n        int[][] ary2DSecond = new int[][]\r\n            {\r\n                    {4},\r\n                    {5,5,5,5,5}};\r\n\r\n        int[][] result = add2D(ary2DFirst, ary2DSecond);\r\n        System.out.println(Arrays.deepToString(result));\r\n    }\r\n\r\n   public static int[][] add2D(int[][] ary1, int[][] ary2) {\r\n        // allocate a new array of proper size\r\n        int[][] result = new int[ary1.length + ary2.length][];\r\n        \r\n        // copy the first array\r\n        for (int i = 0; i &lt; ary1.length; i++) {\r\n            result[i] = Arrays.copyOf(ary1[i], ary1[i].length);\r\n        }\r\n        \r\n        // copy the second array;\r\n        int k = ary1.length;\r\n        for (int i = 0; i &lt; ary2.length; i++) {\r\n            result[k++] = Arrays.copyOf(ary2[i], ary2[i].length);\r\n        }\r\n        return result;\r\n    }\r\n}\r\n```\r\nprints\r\n```\r\n[[1, 1, 1, 1], [2, 2, 2], [3, 3, 3], [4], [5, 5, 5, 5, 5]]\r\n```\r\nThe key to remember is that 2D arrays are just arrays of arrays.\r\n\r\nAn alternative to accomplish the same thing is to use streams.\r\n```\r\nint result2[][] = Stream.of(ary2DFirst, ary2DSecond)\r\n                .flatMap(Arrays::stream).map(s -&gt; Arrays.copyOf(s, s.length))\r\n                .toArray(int[][]::new);\r\n```\r\nThe `Arrays.copyOf` is required to ensure the arrays don&#39;t share objects.","title":"Turning two 2-Dimensional Arrays into one 2-Dimensional Array with different length of Arrays and different length of Arrays inside 2D Array","body":"<p>Try it like this.</p>\n<ul>\n<li>use <code>Arrays.copyOf</code> to create a new array of the same size and copying the first.</li>\n<li>then the easiest way is to just use a loop to copy the second array to the  first.</li>\n<li>this ensures that the resultant array does not share objects with the previous two.</li>\n</ul>\n<pre><code>public class ArraysAndMore {\n\n    public static void main(String[] args) {\n        int[][] ary2DFirst = new int[][]\n            {\n                    {1,1,1,1},\n                    {2,2,2},\n                    {3,3,3}};\n        int[][] ary2DSecond = new int[][]\n            {\n                    {4},\n                    {5,5,5,5,5}};\n\n        int[][] result = add2D(ary2DFirst, ary2DSecond);\n        System.out.println(Arrays.deepToString(result));\n    }\n\n   public static int[][] add2D(int[][] ary1, int[][] ary2) {\n        // allocate a new array of proper size\n        int[][] result = new int[ary1.length + ary2.length][];\n        \n        // copy the first array\n        for (int i = 0; i &lt; ary1.length; i++) {\n            result[i] = Arrays.copyOf(ary1[i], ary1[i].length);\n        }\n        \n        // copy the second array;\n        int k = ary1.length;\n        for (int i = 0; i &lt; ary2.length; i++) {\n            result[k++] = Arrays.copyOf(ary2[i], ary2[i].length);\n        }\n        return result;\n    }\n}\n</code></pre>\n<p>prints</p>\n<pre><code>[[1, 1, 1, 1], [2, 2, 2], [3, 3, 3], [4], [5, 5, 5, 5, 5]]\n</code></pre>\n<p>The key to remember is that 2D arrays are just arrays of arrays.</p>\n<p>An alternative to accomplish the same thing is to use streams.</p>\n<pre><code>int result2[][] = Stream.of(ary2DFirst, ary2DSecond)\n                .flatMap(Arrays::stream).map(s -&gt; Arrays.copyOf(s, s.length))\n                .toArray(int[][]::new);\n</code></pre>\n<p>The <code>Arrays.copyOf</code> is required to ensure the arrays don't share objects.</p>\n"},{"tags":[],"owner":{"account_id":6714862,"reputation":16230,"user_id":5176992,"display_name":"Eritrean"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672952484,"creation_date":1672952484,"answer_id":75024315,"question_id":75024045,"body_markdown":"An alternative simple approach using streams:\r\n\r\n    public static int[][] add2D(int[][]ary1, int[][]ary2){\r\n        return Stream.concat(Arrays.stream(ary1), Arrays.stream(ary2))\r\n                     .toArray(int[][]::new);\r\n    }","title":"Turning two 2-Dimensional Arrays into one 2-Dimensional Array with different length of Arrays and different length of Arrays inside 2D Array","body":"<p>An alternative simple approach using streams:</p>\n<pre><code>public static int[][] add2D(int[][]ary1, int[][]ary2){\n    return Stream.concat(Arrays.stream(ary1), Arrays.stream(ary2))\n                 .toArray(int[][]::new);\n}\n</code></pre>\n"}],"owner":{"account_id":21906031,"reputation":13,"user_id":16191082,"display_name":"derhussain"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":70,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":75024156,"answer_count":3,"score":0,"last_activity_date":1673268477,"creation_date":1672950759,"question_id":75024045,"body_markdown":"# Hello,\r\n# how can i turn **two 2D Arrays** into **one 2D Array**. The **Array length** is **different** **from the Other**. And **inside a 2D Array** the **Arrays** **also** can have a **different length**.\r\n\r\n*Example:*\r\n\r\n    int[][] ary2DFirst = new int[][]{{1,1,1,1},{2,2,2},{3,3,3}};\r\n    int[][] ary2DSecond = new int[][]{{4},{5,5,5,5,5}};\r\n\r\n**result should be**\r\n\r\n    addedUpAry2D == {{1,1,1,1},{2,2,2},{3,3,3},{4},{5,5,5,5,5}}\r\n\r\nI couldn&#180;t do it jet with a 2D Array, **just with a 1D Array** (as showed in could below)\r\nThank you\r\n\r\n\timport java.util.Arrays;\r\n\r\n\tpublic class ArraysAndMore {\r\n\r\n\t\tpublic static int[] add2D(int[][]ary1, int[][]ary2){\r\n\t\t//Attention please. the return must be a two dimensional Array, because i couldnt do it, i did it with a one Dimensional Array.\r\n\r\n\t\t\tint aryElementCountFirst = 0;\r\n\t\t\tint aryElementCountSecond = 0;\r\n\r\n\t\t\tfor (int[] i:ary1) {\r\n\t\t\t\tfor (int n:i) {\r\n\t\t\t\t\taryElementCountFirst++;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tfor (int[] i:ary2) {\r\n\t\t\t\tfor (int n:i) {\r\n\t\t\t\t\taryElementCountSecond++;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tint[]arysInOneDFirst = new int[aryElementCountFirst];\r\n\t\t\tint[]arysInOneDSecond = new int[aryElementCountSecond];\r\n\t\t\tint counter = 0;\r\n\r\n\t\t\tfor (int[] i:ary1) {\r\n\t\t\t\tfor (int n:i) {\r\n\t\t\t\t\tarysInOneDFirst[counter++] = n;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tint counter2 = 0;\r\n\t\t\tfor (int[] i:ary2) {\r\n\t\t\t\tfor (int n:i) {\r\n\t\t\t\t\tarysInOneDSecond[counter2++] = n;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tint[] aryTwo1Dtogether = add(arysInOneDFirst, arysInOneDSecond);\r\n\t\t\treturn aryTwo1Dtogether; **//should be a 2D Array!!**\r\n\t\t}\r\n\r\n\t\tpublic static int[] add(int[] ary1, int[]ary2) {\r\n\r\n\t\t\t** //This Method turns two 1D Arrays into one 1D Array**\\\r\n\r\n\t\t\tif(ary1.length==0 &amp;&amp; ary2.length==0){\r\n\t\t\t\treturn new int[0];\r\n\t\t\t}\r\n\t\t\tint[]addedUp = new int[ary1.length+ ary2.length];\r\n\t\t\tint counter = 0;\r\n\t\t\tfor (int i = 0; i &lt; ary1.length; i++) {\r\n\t\t\t\taddedUp[counter++] = ary1[i];\r\n\t\t\t}\r\n\t\t\tfor (int i = 0; i &lt; ary2.length; i++) {\r\n\t\t\t\taddedUp[counter++] = ary2[i];\r\n\t\t\t}\r\n\t\t\treturn addedUp;\r\n\t\t}\r\n\t\t\r\n\t\tpublic static void main(String[] args) {\r\n\r\n\t\t\tint[][] ary2D1 = new int[][]{{1,1,1,1},{2,2,2},{3,3,3}};\r\n\t\t\tint[][] ary2D2 = new int[][]{{4},{5,5,5,5,5}};\r\n\r\n\t\t\tSystem.out.println(Arrays.toString(add2D(ary2D1, ary2D2)));\r\n\t\t}\r\n\t\t\r\n\t}\r\n\r\nMy Output looks like this:\r\n\r\n    [1, 1, 1, 1, 2, 2, 2, 3, 3, 3, 4, 5, 5, 5, 5, 5]\r\n\r\nit needs to look like this:\r\n\r\n    {{1,1,1,1},{2,2,2},{3,3,3},{4},{5,5,5,5,5}}\r\n\r\n","title":"Turning two 2-Dimensional Arrays into one 2-Dimensional Array with different length of Arrays and different length of Arrays inside 2D Array","body":"<h1>Hello,</h1>\n<h1>how can i turn <strong>two 2D Arrays</strong> into <strong>one 2D Array</strong>. The <strong>Array length</strong> is <strong>different</strong> <strong>from the Other</strong>. And <strong>inside a 2D Array</strong> the <strong>Arrays</strong> <strong>also</strong> can have a <strong>different length</strong>.</h1>\n<p><em>Example:</em></p>\n<pre><code>int[][] ary2DFirst = new int[][]{{1,1,1,1},{2,2,2},{3,3,3}};\nint[][] ary2DSecond = new int[][]{{4},{5,5,5,5,5}};\n</code></pre>\n<p><strong>result should be</strong></p>\n<pre><code>addedUpAry2D == {{1,1,1,1},{2,2,2},{3,3,3},{4},{5,5,5,5,5}}\n</code></pre>\n<p>I couldn´t do it jet with a 2D Array, <strong>just with a 1D Array</strong> (as showed in could below)\nThank you</p>\n<pre><code>import java.util.Arrays;\n\npublic class ArraysAndMore {\n\n    public static int[] add2D(int[][]ary1, int[][]ary2){\n    //Attention please. the return must be a two dimensional Array, because i couldnt do it, i did it with a one Dimensional Array.\n\n        int aryElementCountFirst = 0;\n        int aryElementCountSecond = 0;\n\n        for (int[] i:ary1) {\n            for (int n:i) {\n                aryElementCountFirst++;\n            }\n        }\n\n        for (int[] i:ary2) {\n            for (int n:i) {\n                aryElementCountSecond++;\n            }\n        }\n\n        int[]arysInOneDFirst = new int[aryElementCountFirst];\n        int[]arysInOneDSecond = new int[aryElementCountSecond];\n        int counter = 0;\n\n        for (int[] i:ary1) {\n            for (int n:i) {\n                arysInOneDFirst[counter++] = n;\n            }\n        }\n\n        int counter2 = 0;\n        for (int[] i:ary2) {\n            for (int n:i) {\n                arysInOneDSecond[counter2++] = n;\n            }\n        }\n\n        int[] aryTwo1Dtogether = add(arysInOneDFirst, arysInOneDSecond);\n        return aryTwo1Dtogether; **//should be a 2D Array!!**\n    }\n\n    public static int[] add(int[] ary1, int[]ary2) {\n\n        ** //This Method turns two 1D Arrays into one 1D Array**\\\n\n        if(ary1.length==0 &amp;&amp; ary2.length==0){\n            return new int[0];\n        }\n        int[]addedUp = new int[ary1.length+ ary2.length];\n        int counter = 0;\n        for (int i = 0; i &lt; ary1.length; i++) {\n            addedUp[counter++] = ary1[i];\n        }\n        for (int i = 0; i &lt; ary2.length; i++) {\n            addedUp[counter++] = ary2[i];\n        }\n        return addedUp;\n    }\n    \n    public static void main(String[] args) {\n\n        int[][] ary2D1 = new int[][]{{1,1,1,1},{2,2,2},{3,3,3}};\n        int[][] ary2D2 = new int[][]{{4},{5,5,5,5,5}};\n\n        System.out.println(Arrays.toString(add2D(ary2D1, ary2D2)));\n    }\n    \n}\n</code></pre>\n<p>My Output looks like this:</p>\n<pre><code>[1, 1, 1, 1, 2, 2, 2, 3, 3, 3, 4, 5, 5, 5, 5, 5]\n</code></pre>\n<p>it needs to look like this:</p>\n<pre><code>{{1,1,1,1},{2,2,2},{3,3,3},{4},{5,5,5,5,5}}\n</code></pre>\n"},{"tags":["java","c++","windows"],"comments":[{"owner":{"account_id":7195349,"reputation":33492,"user_id":5494370,"display_name":"Alan Birtles"},"score":0,"creation_date":1673269153,"post_id":75057267,"comment_id":132453366,"body_markdown":"Which filesystem are you using? Are you sure the attribute has actually been set?","body":"Which filesystem are you using? Are you sure the attribute has actually been set?"},{"owner":{"account_id":12566830,"reputation":11,"user_id":9142512,"display_name":"Hasan Enes"},"score":0,"creation_date":1673269339,"post_id":75057267,"comment_id":132453450,"body_markdown":"NTFS. Yes I&#39;m sure attribute has actually been set because I can read it with Files.getAttribute in Java","body":"NTFS. Yes I&#39;m sure attribute has actually been set because I can read it with Files.getAttribute in Java"},{"owner":{"account_id":4106157,"reputation":2138,"user_id":3370124,"display_name":"Richard Critten"},"score":1,"creation_date":1673270319,"post_id":75057267,"comment_id":132453811,"body_markdown":"Java will probably be using an alternative [File Stream](https://learn.microsoft.com/en-us/windows/win32/fileio/file-streams) (files can have multiple streams) to save the attributes. You will need to determine which one (enumerate them using WinAPI) and then you should be able to read the attributes.","body":"Java will probably be using an alternative <a href=\"https://learn.microsoft.com/en-us/windows/win32/fileio/file-streams\" rel=\"nofollow noreferrer\">File Stream</a> (files can have multiple streams) to save the attributes. You will need to determine which one (enumerate them using WinAPI) and then you should be able to read the attributes."},{"owner":{"account_id":12566830,"reputation":11,"user_id":9142512,"display_name":"Hasan Enes"},"score":0,"creation_date":1673270981,"post_id":75057267,"comment_id":132454128,"body_markdown":"Thanks for your time and help. Can you provide any examples for this I&#39;m really new to C++ and windows file systems. @RichardCritten","body":"Thanks for your time and help. Can you provide any examples for this I&#39;m really new to C++ and windows file systems. @RichardCritten"},{"owner":{"account_id":4106157,"reputation":2138,"user_id":3370124,"display_name":"Richard Critten"},"score":0,"creation_date":1673271333,"post_id":75057267,"comment_id":132454286,"body_markdown":"Data streams can be enumerated using the [`FindFirstStreamW`](https://learn.microsoft.com/en-us/windows/win32/api/fileapi/nf-fileapi-findfirststreamw) and [`FindNextStreamW`](https://learn.microsoft.com/en-us/windows/win32/api/fileapi/nf-fileapi-findnextstreamw) functions.","body":"Data streams can be enumerated using the <a href=\"https://learn.microsoft.com/en-us/windows/win32/api/fileapi/nf-fileapi-findfirststreamw\" rel=\"nofollow noreferrer\"><code>FindFirstStreamW</code></a> and <a href=\"https://learn.microsoft.com/en-us/windows/win32/api/fileapi/nf-fileapi-findnextstreamw\" rel=\"nofollow noreferrer\"><code>FindNextStreamW</code></a> functions."},{"owner":{"account_id":7195349,"reputation":33492,"user_id":5494370,"display_name":"Alan Birtles"},"score":1,"creation_date":1673271845,"post_id":75057267,"comment_id":132454508,"body_markdown":"Here&#39;s what Java&#39;s doing if that helps: https://github.com/openjdk/jdk/blob/15345e3edcd8beee0d2c3192cfaaf76c7accee1f/src/java.base/windows/classes/sun/nio/fs/WindowsUserDefinedFileAttributeView.java#L177","body":"Here&#39;s what Java&#39;s doing if that helps: <a href=\"https://github.com/openjdk/jdk/blob/15345e3edcd8beee0d2c3192cfaaf76c7accee1f/src/java.base/windows/classes/sun/nio/fs/WindowsUserDefinedFileAttributeView.java#L177\" rel=\"nofollow noreferrer\">github.com/openjdk/jdk/blob/&hellip;</a>"}],"owner":{"account_id":12566830,"reputation":11,"user_id":9142512,"display_name":"Hasan Enes"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":100,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673267761,"creation_date":1673267237,"question_id":75057267,"body_markdown":"I am implementing a simple Windows Overlay Icon Handler in C++ and I want to decide with a property of the document whether to show overlay icons or not. However, this property will be a custom property and will be given with my Java application. Below you can see a piece of sample Java code. Is it possible to read this property that I set in Java with C++?\r\n\r\n\r\n```\r\ntry {\r\n     Files.setAttribute(Paths.get(&quot;my file path&quot;), &quot;user:status&quot;, &quot;10&quot;.getBytes(&quot;UTF-8&quot;));\r\n} catch (IOException exception) {\r\n     exception.printStackTrace();\r\n}\r\n```\r\n\r\n\r\nI tried the property example from windows tutorial [here.](https://github.com/microsoft/Windows-classic-samples/tree/main/Samples/Win7Samples/winui/shell/appplatform/PropertyEdit) but that code only giving me system attributes. You can see the output of this code below [sample output](https://i.stack.imgur.com/Mr6yF.png) \r\n\r\nI&#39;m trying the read that custom attribute of file on overlay icon handler and decide whether to show overlay icons or not. I guess my C++ method would look like this.\r\n\r\n```\r\nHRESULT __stdcall CIconHandler::IsMemberOf(LPCWSTR pwszPath, DWORD dwAttrib)\r\n{\r\n   //get file attributes\r\n   // read user:status attribute value\r\n   // if (value = 15) {show icon}\r\n   // else { don&#39;t show icon }\r\n} \r\n```\r\n\r\nAnd if you have other solutions or suggestion for this operation I&#39;m open for them.","title":"Reading / Writing custom file attributes with C++/Java","body":"<p>I am implementing a simple Windows Overlay Icon Handler in C++ and I want to decide with a property of the document whether to show overlay icons or not. However, this property will be a custom property and will be given with my Java application. Below you can see a piece of sample Java code. Is it possible to read this property that I set in Java with C++?</p>\n<pre><code>try {\n     Files.setAttribute(Paths.get(&quot;my file path&quot;), &quot;user:status&quot;, &quot;10&quot;.getBytes(&quot;UTF-8&quot;));\n} catch (IOException exception) {\n     exception.printStackTrace();\n}\n</code></pre>\n<p>I tried the property example from windows tutorial <a href=\"https://github.com/microsoft/Windows-classic-samples/tree/main/Samples/Win7Samples/winui/shell/appplatform/PropertyEdit\" rel=\"nofollow noreferrer\">here.</a> but that code only giving me system attributes. You can see the output of this code below <a href=\"https://i.stack.imgur.com/Mr6yF.png\" rel=\"nofollow noreferrer\">sample output</a></p>\n<p>I'm trying the read that custom attribute of file on overlay icon handler and decide whether to show overlay icons or not. I guess my C++ method would look like this.</p>\n<pre><code>HRESULT __stdcall CIconHandler::IsMemberOf(LPCWSTR pwszPath, DWORD dwAttrib)\n{\n   //get file attributes\n   // read user:status attribute value\n   // if (value = 15) {show icon}\n   // else { don't show icon }\n} \n</code></pre>\n<p>And if you have other solutions or suggestion for this operation I'm open for them.</p>\n"},{"tags":["java","jsp"],"answers":[{"comments":[{"owner":{"account_id":1313389,"reputation":2530,"user_id":1260882,"accept_rate":62,"display_name":"Master Chief"},"score":0,"creation_date":1502429039,"post_id":1073915,"comment_id":78214238,"body_markdown":"&quot;Such a function always returns a value, which is totally decided by its input parameters.&quot; This really sums it up. And great point on functional programming. Will look into it.","body":"&quot;Such a function always returns a value, which is totally decided by its input parameters.&quot; This really sums it up. And great point on functional programming. Will look into it."}],"tags":[],"owner":{"account_id":13903,"reputation":393623,"user_id":28169,"accept_rate":88,"display_name":"unwind"},"comment_count":1,"down_vote_count":0,"up_vote_count":23,"is_accepted":false,"score":23,"last_activity_date":1246535175,"creation_date":1246535175,"answer_id":1073915,"question_id":1073909,"body_markdown":"This means that you&#39;re not calling a &quot;true&quot; function, in the mathematical sense. Such a function always returns a value, which is totally decided by its input parameters. There is no &quot;state&quot; to modify, and nothing else can happen. This is why functional programming is interesting from the parallelization point of view; it makes it easier to prove that e.g. two function calls are independent and can run in parallel.\r\n\r\nSee the Wikipedia entry on [pure functions][1] for further detail.\r\n\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Pure_function","title":"Side effect--what&#39;s this?","body":"<p>This means that you're not calling a \"true\" function, in the mathematical sense. Such a function always returns a value, which is totally decided by its input parameters. There is no \"state\" to modify, and nothing else can happen. This is why functional programming is interesting from the parallelization point of view; it makes it easier to prove that e.g. two function calls are independent and can run in parallel.</p>\n\n<p>See the Wikipedia entry on <a href=\"http://en.wikipedia.org/wiki/Pure_function\" rel=\"noreferrer\">pure functions</a> for further detail.</p>\n"},{"comments":[{"owner":{"account_id":22651,"reputation":13651,"user_id":56076,"accept_rate":72,"display_name":"Don Branson"},"score":10,"creation_date":1246535970,"post_id":1073932,"comment_id":886665,"body_markdown":"+1 Good description of side-effects.  But - that&#39;s not why Java uses the word &quot;method&quot; instead.  It&#39;s not for good PR, it&#39;s that &quot;method&quot; is the terminology within OO, well before Java was ever around.","body":"+1 Good description of side-effects.  But - that&#39;s not why Java uses the word &quot;method&quot; instead.  It&#39;s not for good PR, it&#39;s that &quot;method&quot; is the terminology within OO, well before Java was ever around."},{"owner":{"account_id":9193,"reputation":343123,"user_id":16883,"accept_rate":83,"display_name":"Michael Borgwardt"},"score":10,"creation_date":1246536594,"post_id":1073932,"comment_id":886718,"body_markdown":"I suspect that &quot;method&quot; as an OO terminology was coined precisely because the essence of OO is the encapsulation of data with functions that change the data and are therefore not really functions.","body":"I suspect that &quot;method&quot; as an OO terminology was coined precisely because the essence of OO is the encapsulation of data with functions that change the data and are therefore not really functions."}],"tags":[],"owner":{"account_id":9193,"reputation":343123,"user_id":16883,"accept_rate":83,"display_name":"Michael Borgwardt"},"comment_count":2,"down_vote_count":0,"up_vote_count":66,"is_accepted":false,"score":66,"last_activity_date":1246535498,"creation_date":1246535498,"answer_id":1073932,"question_id":1073909,"body_markdown":"A side effect is anything a method does besides computing and returning a value. Any change of instance or class field values is a side effect, as is drawing something on the screen, writing to a file or a network connection.\r\n\r\nStrictly speaking, a &quot;function&quot; is defined as not having side effects - which is why Java uses the word &quot;method&quot; instead. A real function with no return value would be pointless.\r\n\r\nObviously, a method that does not have a return value must have some sort of side effect that justifies its existence. Set methods are an example - the side effect is changing the object&#39;s internal state.","title":"Side effect--what&#39;s this?","body":"<p>A side effect is anything a method does besides computing and returning a value. Any change of instance or class field values is a side effect, as is drawing something on the screen, writing to a file or a network connection.</p>\n\n<p>Strictly speaking, a \"function\" is defined as not having side effects - which is why Java uses the word \"method\" instead. A real function with no return value would be pointless.</p>\n\n<p>Obviously, a method that does not have a return value must have some sort of side effect that justifies its existence. Set methods are an example - the side effect is changing the object's internal state.</p>\n"},{"comments":[{"owner":{"account_id":10258,"reputation":26470,"user_id":19276,"accept_rate":81,"display_name":"DJClayworth"},"score":1,"creation_date":1246545160,"post_id":1074315,"comment_id":887458,"body_markdown":"A side-effect can be other things than changing a class state, as described above.","body":"A side-effect can be other things than changing a class state, as described above."}],"tags":[],"owner":{"account_id":44451,"reputation":3976,"user_id":130516,"display_name":"codethulhu"},"comment_count":1,"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1246541060,"creation_date":1246541060,"answer_id":1074315,"question_id":1073909,"body_markdown":"A side effect is when a method call changes a class&#39;s state. So\r\n\r\n    public class SideEffectClass{\r\n\r\n        private int state = 0;\r\n\r\n\r\n        public doSomething(int arg0){\r\n            state += arg0;\r\n        }\r\n    }\r\n\r\nHere, doSomething(int arg0) has the side effect of changing the state variable.\r\n\r\nWhen you think of a program, you can think of it as instructions + state + input. So if the domain of a program is the range of all possible input * state, and the program has side effects, you can see that the codomain of possible results for the application can grow explosively, as the number of side effects increase. This makes the possible states for the program large, which leads to complicated testing. The functional programming paradigm is designed to eliminate side effects. By making functions first class citizens and by making all declarations immutable functional programming prevents side effects, which makes functional programming shine in parallel processing, as synchronization issues are reduced.","title":"Side effect--what&#39;s this?","body":"<p>A side effect is when a method call changes a class's state. So</p>\n\n<pre><code>public class SideEffectClass{\n\n    private int state = 0;\n\n\n    public doSomething(int arg0){\n        state += arg0;\n    }\n}\n</code></pre>\n\n<p>Here, doSomething(int arg0) has the side effect of changing the state variable.</p>\n\n<p>When you think of a program, you can think of it as instructions + state + input. So if the domain of a program is the range of all possible input * state, and the program has side effects, you can see that the codomain of possible results for the application can grow explosively, as the number of side effects increase. This makes the possible states for the program large, which leads to complicated testing. The functional programming paradigm is designed to eliminate side effects. By making functions first class citizens and by making all declarations immutable functional programming prevents side effects, which makes functional programming shine in parallel processing, as synchronization issues are reduced.</p>\n"},{"tags":[],"owner":{"account_id":2477149,"reputation":43,"user_id":2157539,"accept_rate":17,"display_name":"Oekel"},"comment_count":0,"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1497061449,"creation_date":1457696720,"answer_id":35939462,"question_id":1073909,"body_markdown":"Let&#39;s manipulate the given code above a little bit to make it clear in comparison.\r\n\r\n    public class SideEffectClass{\r\n\r\n        private int state = 0;\r\n\r\n        public doSomething(...){//Does not matter\r\n            state ++;\r\n        }\r\n    }","title":"Side effect--what&#39;s this?","body":"<p>Let's manipulate the given code above a little bit to make it clear in comparison.</p>\n\n<pre><code>public class SideEffectClass{\n\n    private int state = 0;\n\n    public doSomething(...){//Does not matter\n        state ++;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1238641,"reputation":10455,"user_id":1201725,"accept_rate":100,"display_name":"Bahadir Tasdemir"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1673267574,"creation_date":1494529862,"answer_id":43923805,"question_id":1073909,"body_markdown":"When you use a medicine, its side effects are those that are generally unwanted bad effects. The main purpose to use it is to get its &quot;demanded&quot; effect. Here, when we look at the angle of functions, generally when you call them you get a calculated value and use. There are other functions that they also change some values while calculating the &quot;demanded&quot; value so here the &quot;changing some values&quot; is a side effect. In the description of your sentence, if a function does not return anything, it is only used for its side effects so here, the side effects are &quot;changing some values&quot;.","title":"Side effect--what&#39;s this?","body":"<p>When you use a medicine, its side effects are those that are generally unwanted bad effects. The main purpose to use it is to get its &quot;demanded&quot; effect. Here, when we look at the angle of functions, generally when you call them you get a calculated value and use. There are other functions that they also change some values while calculating the &quot;demanded&quot; value so here the &quot;changing some values&quot; is a side effect. In the description of your sentence, if a function does not return anything, it is only used for its side effects so here, the side effects are &quot;changing some values&quot;.</p>\n"}],"owner":{"display_name":"Java_Noob"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":33698,"favorite_count":0,"down_vote_count":1,"up_vote_count":35,"answer_count":5,"score":34,"last_activity_date":1673267574,"creation_date":1246535063,"question_id":1073909,"body_markdown":"Could someone tell me the meaning of &quot;side effect&quot; in the following line?\r\n\r\n&gt; If you&#39;re calling an EL function that doesn&#39;t return anything, then you&#39;re calling it just for its side effects.","title":"Side effect--what&#39;s this?","body":"<p>Could someone tell me the meaning of \"side effect\" in the following line?</p>\n\n<blockquote>\n  <p>If you're calling an EL function that doesn't return anything, then you're calling it just for its side effects.</p>\n</blockquote>\n"},{"tags":["java","windows","selenium","selenium-webdriver","tabs"],"comments":[{"owner":{"account_id":26782616,"reputation":313,"user_id":20377250,"display_name":"Alex_X1"},"score":0,"creation_date":1673267154,"post_id":75057219,"comment_id":132452644,"body_markdown":"Your question has already been answered: https://stackoverflow.com/questions/12729265/switch-tabs-using-selenium-webdriver-with-java","body":"Your question has already been answered: <a href=\"https://stackoverflow.com/questions/12729265/switch-tabs-using-selenium-webdriver-with-java\" title=\"switch tabs using selenium webdriver with java\">stackoverflow.com/questions/12729265/&hellip;</a>"}],"owner":{"account_id":23766170,"reputation":21,"user_id":17780910,"display_name":"Bug Hunter"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673266956,"creation_date":1673266956,"question_id":75057219,"body_markdown":"Every thing works fine but the webdriver is not shifting focus to second tab after opening yopmail earlier shifting from one window and focussing from one window is working fine but focus on second tab is not working I am using arraylist for this rest of the codes is fine only focussing on second tab is not working   \r\n\r\n\r\n\r\n\r\n    package Rolesandpermissions;\r\n    import org.openqa.selenium.*;\r\n    import org.openqa.selenium.chrome.ChromeDriver;\r\n    import org.openqa.selenium.interactions.Actions;\r\n    \r\n    import java.awt.*;\r\n    import java.awt.event.KeyEvent;\r\n    import java.util.ArrayList;\r\n    import java.util.concurrent.TimeUnit;\r\n    \r\n    public class Inviteuserbyemail {\r\n        public static void main(String[] args) throws InterruptedException, AWTException {\r\n            System.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;Path to chromedriver&quot;);\r\n            WebDriver driver = new ChromeDriver();\r\n            String windowHandle = driver.getWindowHandle();\r\n            driver.get(&quot;URL&quot;);\r\n            driver.navigate().forward();\r\n            driver.manage().window().maximize();\r\n            driver.navigate().forward();\r\n            driver.manage().timeouts().implicitlyWait(7, TimeUnit.SECONDS);\r\n            driver.findElement(By.xpath(&quot;//*[@id=\\&quot;formBasicEmail\\&quot;]&quot;)).sendKeys(&quot;good@yopmail.com&quot;);\r\n            driver.navigate().forward();\r\n            driver.findElement(By.name(&quot;password&quot;)).sendKeys(&quot;Qwerty@10&quot;);\r\n            driver.manage().timeouts().implicitlyWait(7, TimeUnit.SECONDS);\r\n            driver.navigate().forward();\r\n            driver.findElement(By.className(&quot;checkmark&quot;)).click();\r\n            driver.manage().timeouts().implicitlyWait(7, TimeUnit.SECONDS);\r\n            driver.findElement(By.xpath(&quot;//*[@id=\\&quot;root\\&quot;]/div/div[2]/div/div/div[1]/div/div/form/button&quot;)).click();\r\n            driver.navigate().forward();\r\n            Thread.sleep(7000);\r\n            driver.findElement(By.xpath(&quot;/html/body/div/div/div[1]/ul/li[2]/a&quot;)).click();\r\n            Thread.sleep(4000);\r\n            driver.findElement(By.xpath(&quot;/html/body/div/div/div[2]/div[3]/div/div/div/div&quot;)).click();\r\n            driver.navigate().forward();\r\n            Thread.sleep(8000);\r\n            driver.findElement(By.xpath(&quot;//button[@class=\\&quot;NewUserWrap secondaryBtn\\&quot;]&quot;)).click();\r\n            Thread.sleep(2000);\r\n            driver.findElement(By.name(&quot;email&quot;)).sendKeys(&quot;Hond@yopmail.com&quot;);\r\n            Thread.sleep(2000);\r\n            driver.findElement(By.xpath(&quot;/html/body/div[3]/div/div/form/div[2]/div[2]/div/div/div[1]/input[1]&quot;)).click();\r\n            Thread.sleep(2000);\r\n            driver.findElement(By.xpath(&quot;/html/body/div[3]/div/div/form/div[2]/div[2]/div/div/div[2]/a[6]&quot;)).click();\r\n            driver.findElement(By.id(&quot;teams&quot;)).click();\r\n            Thread.sleep(5000);\r\n            driver.findElement(By.xpath(&quot;/html/body/div[3]/div/div/form/div[2]/div[3]/div/div/div/div/div/span[1]&quot;)).click();\r\n            Thread.sleep(2000);\r\n            driver.findElement(By.xpath(&quot;//button[@class=\\&quot;btn btn-primary\\&quot;]&quot;)).click();\r\n            Thread.sleep(2000);\r\n            driver.manage().deleteAllCookies();\r\n            // If you want to sign out //\r\n            driver.findElement(By.xpath(&quot;//img[@class=\\&quot;rounded-circle\\&quot;]&quot;)).click();\r\n            driver.findElement(By.xpath(&quot;//a[@href=\\&quot;#\\&quot;]&quot;)).click();\r\n            Thread.sleep(2000);\r\n            driver.switchTo().newWindow(WindowType.WINDOW);\r\n            // User has received invitation //\r\n            driver.get(&quot;http://www.yopmail.com&quot;);\r\n            driver.findElement(By.xpath(&quot;//*[@id=\\&quot;login\\&quot;]&quot;)).sendKeys(&quot;Bond@yopmail.com&quot;); //replace the test email\r\n            driver.findElement(By.xpath(&quot;/html/body/div[1]/div[2]/main/div[3]/div/div[1]/div[2]/div/div/form/div/div/div[4]/button/i\\n&quot;)).click();\r\n            Thread.sleep(4000);\r\n            driver.manage().window().maximize();\r\n            driver.switchTo().frame(&quot;ifmail&quot;);\r\n            driver.findElement(By.linkText(&quot;URL&quot;)).click();\r\n            ArrayList&lt;String&gt; tabs2 = new ArrayList&lt;String&gt;(driver.getWindowHandles());\r\n            driver.switchTo().window(tabs2.get(1));\r\n            driver.navigate().forward();\r\n            Thread.sleep(8000);\r\n            driver.findElement(By.className(&quot;form-control&quot;)).sendKeys(&quot;Victorious&quot;);\r\n            Thread.sleep(4000);\r\n            driver.findElement(By.name(&quot;email&quot;)).sendKeys(&quot;Bond@yopmail.com&quot;);\r\n            Thread.sleep(2000);\r\n            driver.findElement(By.className(&quot;checkmark&quot;)).click();\r\n            Thread.sleep(2000);\r\n            driver.findElement(By.xpath(&quot;//*[@id=\\&quot;root\\&quot;]/div/div[2]/div/div[1]/div/div/form/button&quot;)).click();\r\n            //driver.findElement(By.xpath(&quot;/html/body/div/div/div[2]/div/div/div[1]/div/div/p/a&quot;)).click();\r\n            driver.navigate().forward();\r\n            driver.findElement(By.xpath(&quot;//*[@id=\\&quot;fullName\\&quot;]&quot;)).sendKeys(&quot;Victorious&quot;);\r\n            driver.navigate().forward();\r\n            driver.findElement(By.name(&quot;email&quot;)).sendKeys(&quot;Bond@yopmail.com&quot;);\r\n            driver.navigate().forward();\r\n            driver.findElement(By.className(&quot;checkmark&quot;)).click();\r\n            driver.findElement(By.xpath(&quot;//*[@id=\\&quot;root\\&quot;]/div/div[2]/div/div[1]/div/div/form/button&quot;)).click();\r\n            //perform other operations.\r\n            Robot r = new Robot();\r\n            r.keyPress(KeyEvent.VK_CONTROL);\r\n            r.keyPress(KeyEvent.VK_T);\r\n            r.keyRelease(KeyEvent.VK_CONTROL);\r\n            r.keyRelease(KeyEvent.VK_T);\r\n            driver.switchTo().window(tabs2.get(0));\r\n            driver.get(&quot;http://www.yopmail.com&quot;);\r\n            driver.findElement(By.xpath(&quot;//*[@id=\\&quot;login\\&quot;]&quot;)).sendKeys(&quot;Bond@yopmail.com&quot;); //replace the test email\r\n            driver.findElement(By.xpath(&quot;/html/body/div[1]/div[2]/main/div[3]/div/div[1]/div[2]/div/div/form/div/div/div[4]/button/i\\n&quot;)).click();\r\n            driver.switchTo().frame(&quot;ifmail&quot;);\r\n            driver.manage().timeouts().implicitlyWait(5, TimeUnit.SECONDS);\r\n            String strCode = driver.findElement(By.xpath(&quot;//*[@id=\\&quot;mail\\&quot;]/div/table/tbody/tr[3]/td/table/tbody/tr[1]/td/table/tbody/tr[5]/td/span&quot;)).getText(); //replace the locator for verification code\r\n            System.out.println(&quot;----------------&quot;);\r\n            System.out.println(strCode);\r\n            System.out.println(&quot;----------------&quot;);\r\n            Actions actions = new Actions(driver);\r\n            actions.sendKeys(Keys.chord(Keys.LEFT_CONTROL, &quot;c&quot;)).build().perform();\r\n            driver.switchTo().window(tabs2.get(1));\r\n            //driver.manage().timeouts().implicitlyWait(60,TimeUnit.SECONDS);\r\n            driver.navigate().forward();\r\n             driver.findElement(By.id(&quot;code1&quot;)).sendKeys(strCode);\r\n            driver.manage().timeouts().implicitlyWait(5, TimeUnit.SECONDS);\r\n            int i;\r\n            for (i = 1; i &lt;= 6; i++) {\r\n                driver.navigate().forward();\r\n                driver.manage().timeouts().implicitlyWait(4, TimeUnit.SECONDS);\r\n                driver.findElement(By.xpath(&quot;//button[@class=\\&quot;otp btn btn-primary\\&quot;]&quot;)).click();\r\n                driver.navigate().forward();\r\n                driver.findElement(By.xpath(&quot;//input[@name=\\&quot;newPassword\\&quot;]&quot;)).sendKeys(&quot;Qwerty@10&quot;);\r\n                driver.navigate().forward();\r\n                driver.findElement(By.xpath(&quot;//input[@name=\\&quot;comfirmNewPass\\&quot;] &quot;)).sendKeys(&quot;Qwerty@10&quot;);\r\n                driver.navigate().forward();\r\n                driver.findElement(By.xpath(&quot;//button[@class=\\&quot;otp btn btn-primary\\&quot;]&quot;)).click();\r\n                driver.navigate().forward();\r\n                driver.manage().timeouts().implicitlyWait(10, TimeUnit.SECONDS);\r\n                driver.findElement(By.name(&quot;email&quot;)).sendKeys(&quot;Bond@yopmail.com&quot;);\r\n                driver.navigate().forward();\r\n                driver.findElement(By.name(&quot;password&quot;)).sendKeys(&quot;Qwerty@10&quot;);\r\n                driver.navigate().forward();\r\n                driver.findElement(By.xpath(&quot;//span[@class=\\&quot;checkmark\\&quot;]&quot;)).click();\r\n                driver.navigate().forward();\r\n                driver.findElement(By.xpath(&quot;//button[@class=\\&quot;btn btn-primary\\&quot;]&quot;)).click();\r\n                Thread.sleep(1000);\r\n                driver.findElement(By.xpath(&quot;/html/body/div/div/div[1]/ul/li[1]/a&quot;)).click();\r\n                //New Team Creation //\r\n                /*driver.findElement(By.xpath(&quot;(//span[@class=\\&quot;toggleHide\\&quot;])[2]&quot;)).click();\r\n                Thread.sleep(2000);\r\n                driver.findElement(By.xpath(&quot;//button[@class=\\&quot;NewUserWrap secondaryBtn\\&quot;]&quot;)).click();\r\n                Thread.sleep(2000);\r\n                driver.findElement(By.name(&quot;teamLogo&quot;)).sendKeys(&quot;tunnel.jpg&quot;);\r\n                Thread.sleep(2000);\r\n                driver.findElement(By.name(&quot;name&quot;)).sendKeys(&quot;Great&quot;);\r\n                Thread.sleep(2000);\r\n                driver.findElement(By.xpath(&quot;//textarea[@name=\\&quot;description\\&quot;]&quot;)).sendKeys(&quot;T&quot;);\r\n                Thread.sleep(4000);\r\n                driver.findElement(By.xpath(&quot;/html/body/div[3]/div/div/form/div[3]/button[2]&quot;)).click();*/\r\n                // User click on joining a team //\r\n                Thread.sleep(4000);\r\n                driver.findElement(By.xpath(&quot;/html/body/div/div/div[2]/div[2]/div[2]/span/div/button&quot;)).click();\r\n    \r\n    \r\n            }\r\n        }\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"Unable to shift to second tab in java selenium","body":"<p>Every thing works fine but the webdriver is not shifting focus to second tab after opening yopmail earlier shifting from one window and focussing from one window is working fine but focus on second tab is not working I am using arraylist for this rest of the codes is fine only focussing on second tab is not working</p>\n<pre><code>package Rolesandpermissions;\nimport org.openqa.selenium.*;\nimport org.openqa.selenium.chrome.ChromeDriver;\nimport org.openqa.selenium.interactions.Actions;\n\nimport java.awt.*;\nimport java.awt.event.KeyEvent;\nimport java.util.ArrayList;\nimport java.util.concurrent.TimeUnit;\n\npublic class Inviteuserbyemail {\n    public static void main(String[] args) throws InterruptedException, AWTException {\n        System.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;Path to chromedriver&quot;);\n        WebDriver driver = new ChromeDriver();\n        String windowHandle = driver.getWindowHandle();\n        driver.get(&quot;URL&quot;);\n        driver.navigate().forward();\n        driver.manage().window().maximize();\n        driver.navigate().forward();\n        driver.manage().timeouts().implicitlyWait(7, TimeUnit.SECONDS);\n        driver.findElement(By.xpath(&quot;//*[@id=\\&quot;formBasicEmail\\&quot;]&quot;)).sendKeys(&quot;good@yopmail.com&quot;);\n        driver.navigate().forward();\n        driver.findElement(By.name(&quot;password&quot;)).sendKeys(&quot;Qwerty@10&quot;);\n        driver.manage().timeouts().implicitlyWait(7, TimeUnit.SECONDS);\n        driver.navigate().forward();\n        driver.findElement(By.className(&quot;checkmark&quot;)).click();\n        driver.manage().timeouts().implicitlyWait(7, TimeUnit.SECONDS);\n        driver.findElement(By.xpath(&quot;//*[@id=\\&quot;root\\&quot;]/div/div[2]/div/div/div[1]/div/div/form/button&quot;)).click();\n        driver.navigate().forward();\n        Thread.sleep(7000);\n        driver.findElement(By.xpath(&quot;/html/body/div/div/div[1]/ul/li[2]/a&quot;)).click();\n        Thread.sleep(4000);\n        driver.findElement(By.xpath(&quot;/html/body/div/div/div[2]/div[3]/div/div/div/div&quot;)).click();\n        driver.navigate().forward();\n        Thread.sleep(8000);\n        driver.findElement(By.xpath(&quot;//button[@class=\\&quot;NewUserWrap secondaryBtn\\&quot;]&quot;)).click();\n        Thread.sleep(2000);\n        driver.findElement(By.name(&quot;email&quot;)).sendKeys(&quot;Hond@yopmail.com&quot;);\n        Thread.sleep(2000);\n        driver.findElement(By.xpath(&quot;/html/body/div[3]/div/div/form/div[2]/div[2]/div/div/div[1]/input[1]&quot;)).click();\n        Thread.sleep(2000);\n        driver.findElement(By.xpath(&quot;/html/body/div[3]/div/div/form/div[2]/div[2]/div/div/div[2]/a[6]&quot;)).click();\n        driver.findElement(By.id(&quot;teams&quot;)).click();\n        Thread.sleep(5000);\n        driver.findElement(By.xpath(&quot;/html/body/div[3]/div/div/form/div[2]/div[3]/div/div/div/div/div/span[1]&quot;)).click();\n        Thread.sleep(2000);\n        driver.findElement(By.xpath(&quot;//button[@class=\\&quot;btn btn-primary\\&quot;]&quot;)).click();\n        Thread.sleep(2000);\n        driver.manage().deleteAllCookies();\n        // If you want to sign out //\n        driver.findElement(By.xpath(&quot;//img[@class=\\&quot;rounded-circle\\&quot;]&quot;)).click();\n        driver.findElement(By.xpath(&quot;//a[@href=\\&quot;#\\&quot;]&quot;)).click();\n        Thread.sleep(2000);\n        driver.switchTo().newWindow(WindowType.WINDOW);\n        // User has received invitation //\n        driver.get(&quot;http://www.yopmail.com&quot;);\n        driver.findElement(By.xpath(&quot;//*[@id=\\&quot;login\\&quot;]&quot;)).sendKeys(&quot;Bond@yopmail.com&quot;); //replace the test email\n        driver.findElement(By.xpath(&quot;/html/body/div[1]/div[2]/main/div[3]/div/div[1]/div[2]/div/div/form/div/div/div[4]/button/i\\n&quot;)).click();\n        Thread.sleep(4000);\n        driver.manage().window().maximize();\n        driver.switchTo().frame(&quot;ifmail&quot;);\n        driver.findElement(By.linkText(&quot;URL&quot;)).click();\n        ArrayList&lt;String&gt; tabs2 = new ArrayList&lt;String&gt;(driver.getWindowHandles());\n        driver.switchTo().window(tabs2.get(1));\n        driver.navigate().forward();\n        Thread.sleep(8000);\n        driver.findElement(By.className(&quot;form-control&quot;)).sendKeys(&quot;Victorious&quot;);\n        Thread.sleep(4000);\n        driver.findElement(By.name(&quot;email&quot;)).sendKeys(&quot;Bond@yopmail.com&quot;);\n        Thread.sleep(2000);\n        driver.findElement(By.className(&quot;checkmark&quot;)).click();\n        Thread.sleep(2000);\n        driver.findElement(By.xpath(&quot;//*[@id=\\&quot;root\\&quot;]/div/div[2]/div/div[1]/div/div/form/button&quot;)).click();\n        //driver.findElement(By.xpath(&quot;/html/body/div/div/div[2]/div/div/div[1]/div/div/p/a&quot;)).click();\n        driver.navigate().forward();\n        driver.findElement(By.xpath(&quot;//*[@id=\\&quot;fullName\\&quot;]&quot;)).sendKeys(&quot;Victorious&quot;);\n        driver.navigate().forward();\n        driver.findElement(By.name(&quot;email&quot;)).sendKeys(&quot;Bond@yopmail.com&quot;);\n        driver.navigate().forward();\n        driver.findElement(By.className(&quot;checkmark&quot;)).click();\n        driver.findElement(By.xpath(&quot;//*[@id=\\&quot;root\\&quot;]/div/div[2]/div/div[1]/div/div/form/button&quot;)).click();\n        //perform other operations.\n        Robot r = new Robot();\n        r.keyPress(KeyEvent.VK_CONTROL);\n        r.keyPress(KeyEvent.VK_T);\n        r.keyRelease(KeyEvent.VK_CONTROL);\n        r.keyRelease(KeyEvent.VK_T);\n        driver.switchTo().window(tabs2.get(0));\n        driver.get(&quot;http://www.yopmail.com&quot;);\n        driver.findElement(By.xpath(&quot;//*[@id=\\&quot;login\\&quot;]&quot;)).sendKeys(&quot;Bond@yopmail.com&quot;); //replace the test email\n        driver.findElement(By.xpath(&quot;/html/body/div[1]/div[2]/main/div[3]/div/div[1]/div[2]/div/div/form/div/div/div[4]/button/i\\n&quot;)).click();\n        driver.switchTo().frame(&quot;ifmail&quot;);\n        driver.manage().timeouts().implicitlyWait(5, TimeUnit.SECONDS);\n        String strCode = driver.findElement(By.xpath(&quot;//*[@id=\\&quot;mail\\&quot;]/div/table/tbody/tr[3]/td/table/tbody/tr[1]/td/table/tbody/tr[5]/td/span&quot;)).getText(); //replace the locator for verification code\n        System.out.println(&quot;----------------&quot;);\n        System.out.println(strCode);\n        System.out.println(&quot;----------------&quot;);\n        Actions actions = new Actions(driver);\n        actions.sendKeys(Keys.chord(Keys.LEFT_CONTROL, &quot;c&quot;)).build().perform();\n        driver.switchTo().window(tabs2.get(1));\n        //driver.manage().timeouts().implicitlyWait(60,TimeUnit.SECONDS);\n        driver.navigate().forward();\n         driver.findElement(By.id(&quot;code1&quot;)).sendKeys(strCode);\n        driver.manage().timeouts().implicitlyWait(5, TimeUnit.SECONDS);\n        int i;\n        for (i = 1; i &lt;= 6; i++) {\n            driver.navigate().forward();\n            driver.manage().timeouts().implicitlyWait(4, TimeUnit.SECONDS);\n            driver.findElement(By.xpath(&quot;//button[@class=\\&quot;otp btn btn-primary\\&quot;]&quot;)).click();\n            driver.navigate().forward();\n            driver.findElement(By.xpath(&quot;//input[@name=\\&quot;newPassword\\&quot;]&quot;)).sendKeys(&quot;Qwerty@10&quot;);\n            driver.navigate().forward();\n            driver.findElement(By.xpath(&quot;//input[@name=\\&quot;comfirmNewPass\\&quot;] &quot;)).sendKeys(&quot;Qwerty@10&quot;);\n            driver.navigate().forward();\n            driver.findElement(By.xpath(&quot;//button[@class=\\&quot;otp btn btn-primary\\&quot;]&quot;)).click();\n            driver.navigate().forward();\n            driver.manage().timeouts().implicitlyWait(10, TimeUnit.SECONDS);\n            driver.findElement(By.name(&quot;email&quot;)).sendKeys(&quot;Bond@yopmail.com&quot;);\n            driver.navigate().forward();\n            driver.findElement(By.name(&quot;password&quot;)).sendKeys(&quot;Qwerty@10&quot;);\n            driver.navigate().forward();\n            driver.findElement(By.xpath(&quot;//span[@class=\\&quot;checkmark\\&quot;]&quot;)).click();\n            driver.navigate().forward();\n            driver.findElement(By.xpath(&quot;//button[@class=\\&quot;btn btn-primary\\&quot;]&quot;)).click();\n            Thread.sleep(1000);\n            driver.findElement(By.xpath(&quot;/html/body/div/div/div[1]/ul/li[1]/a&quot;)).click();\n            //New Team Creation //\n            /*driver.findElement(By.xpath(&quot;(//span[@class=\\&quot;toggleHide\\&quot;])[2]&quot;)).click();\n            Thread.sleep(2000);\n            driver.findElement(By.xpath(&quot;//button[@class=\\&quot;NewUserWrap secondaryBtn\\&quot;]&quot;)).click();\n            Thread.sleep(2000);\n            driver.findElement(By.name(&quot;teamLogo&quot;)).sendKeys(&quot;tunnel.jpg&quot;);\n            Thread.sleep(2000);\n            driver.findElement(By.name(&quot;name&quot;)).sendKeys(&quot;Great&quot;);\n            Thread.sleep(2000);\n            driver.findElement(By.xpath(&quot;//textarea[@name=\\&quot;description\\&quot;]&quot;)).sendKeys(&quot;T&quot;);\n            Thread.sleep(4000);\n            driver.findElement(By.xpath(&quot;/html/body/div[3]/div/div/form/div[3]/button[2]&quot;)).click();*/\n            // User click on joining a team //\n            Thread.sleep(4000);\n            driver.findElement(By.xpath(&quot;/html/body/div/div/div[2]/div[2]/div[2]/span/div/button&quot;)).click();\n\n\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","hibernate","orm"],"comments":[{"owner":{"account_id":3084600,"reputation":5860,"user_id":2612030,"display_name":"ewramner"},"score":0,"creation_date":1673018314,"post_id":75032577,"comment_id":132409515,"body_markdown":"As a starting point, log each class you add by calling addAnnotatedClass to make sure that PlayerStats is actually added to the context. The error indicates that it is not.","body":"As a starting point, log each class you add by calling addAnnotatedClass to make sure that PlayerStats is actually added to the context. The error indicates that it is not."},{"owner":{"account_id":27454123,"reputation":3,"user_id":20945869,"display_name":"sauuey"},"score":0,"creation_date":1673036557,"post_id":75032577,"comment_id":132415140,"body_markdown":"@ewramner yes you are right. When I use this way to collecting the classes there are stored as java.lang.Class and not as my class. So now I fixed it and everything is fine. Best regards.","body":"@ewramner yes you are right. When I use this way to collecting the classes there are stored as java.lang.Class and not as my class. So now I fixed it and everything is fine. Best regards."},{"owner":{"account_id":27454123,"reputation":3,"user_id":20945869,"display_name":"sauuey"},"score":0,"creation_date":1673251029,"post_id":75032577,"comment_id":132447593,"body_markdown":"@ewramner can you please post your comment as answer so i can accept it.","body":"@ewramner can you please post your comment as answer so i can accept it."},{"owner":{"account_id":3084600,"reputation":5860,"user_id":2612030,"display_name":"ewramner"},"score":0,"creation_date":1673266469,"post_id":75032577,"comment_id":132452401,"body_markdown":"please see my other answer below. I think that is better, as it shows the actual bug?","body":"please see my other answer below. I think that is better, as it shows the actual bug?"},{"owner":{"account_id":27454123,"reputation":3,"user_id":20945869,"display_name":"sauuey"},"score":0,"creation_date":1673281548,"post_id":75032577,"comment_id":132458475,"body_markdown":"Your answer is not the solve. The problem is at the parameter collection for the consturctor. There I used &#39;Class&lt;?&gt;... clazz&#39; which stores the classes in a lost of java.lang.Class ant not of the actuall class. So after I created a builder, so I can add the classes successively it works. You can edit your answer? So I can accept it, it was basiclly your idea.","body":"Your answer is not the solve. The problem is at the parameter collection for the consturctor. There I used &#39;Class&lt;?&gt;... clazz&#39; which stores the classes in a lost of java.lang.Class ant not of the actuall class. So after I created a builder, so I can add the classes successively it works. You can edit your answer? So I can accept it, it was basiclly your idea."},{"owner":{"account_id":3084600,"reputation":5860,"user_id":2612030,"display_name":"ewramner"},"score":0,"creation_date":1673333789,"post_id":75032577,"comment_id":132469233,"body_markdown":"I can, but the type of the collection should not matter. The type you actually pass to addAnnotatedClass matters and in your original code that was wrong as per the answer. Perhaps you could try just that fix to verify? You can always go back to the nicer builder code afterwards. I&#39;m pretty sure this is the real solution.","body":"I can, but the type of the collection should not matter. The type you actually pass to addAnnotatedClass matters and in your original code that was wrong as per the answer. Perhaps you could try just that fix to verify? You can always go back to the nicer builder code afterwards. I&#39;m pretty sure this is the real solution."},{"owner":{"account_id":27454123,"reputation":3,"user_id":20945869,"display_name":"sauuey"},"score":0,"creation_date":1674462299,"post_id":75032577,"comment_id":132710926,"body_markdown":"@ewramner okay sorry nvm. I do not know what I did last time. I tried your answers and this works fine.","body":"@ewramner okay sorry nvm. I do not know what I did last time. I tried your answers and this works fine."}],"answers":[{"tags":[],"owner":{"account_id":3084600,"reputation":5860,"user_id":2612030,"display_name":"ewramner"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1673266555,"creation_date":1673088443,"answer_id":75039701,"question_id":75032577,"body_markdown":"EDIT: as written in the comments, make sure that addAnnotatedClass actually adds PlayerStats to the context. The error indicates that it has not been added.\r\n\r\nLooking closer I think I spotted the bug in your original code. Change:\r\n\r\n    for (Class&lt;?&gt; c : clazz) {\r\n        configuration.addAnnotatedClass(c.getClass());\r\n    }\r\nTo:\r\n\r\n    for (Class&lt;?&gt; c : clazz) {\r\n        configuration.addAnnotatedClass(c);\r\n    }\r\n\r\nYou are already passing the classes, so the old code is registering the class of the class.","title":"Hibernate - Could not resolve root entity","body":"<p>EDIT: as written in the comments, make sure that addAnnotatedClass actually adds PlayerStats to the context. The error indicates that it has not been added.</p>\n<p>Looking closer I think I spotted the bug in your original code. Change:</p>\n<pre><code>for (Class&lt;?&gt; c : clazz) {\n    configuration.addAnnotatedClass(c.getClass());\n}\n</code></pre>\n<p>To:</p>\n<pre><code>for (Class&lt;?&gt; c : clazz) {\n    configuration.addAnnotatedClass(c);\n}\n</code></pre>\n<p>You are already passing the classes, so the old code is registering the class of the class.</p>\n"}],"owner":{"account_id":27454123,"reputation":3,"user_id":20945869,"display_name":"sauuey"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":480,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75039701,"answer_count":1,"score":0,"last_activity_date":1673266555,"creation_date":1673017168,"question_id":75032577,"body_markdown":"I&#39;m getting a &quot;Could not resolve root entity &#39;PlayerStats&#39;&quot; UnknownEntityException while try to load a entity with spezific uuid. Inside the Test-Section it works fine but in when I compile it and try to run I received the error.\r\n\r\nPlayerStats\r\n```\r\nimport jakarta.persistence.Column;\r\nimport jakarta.persistence.Entity;\r\nimport jakarta.persistence.Id;\r\nimport jakarta.persistence.NamedQueries;\r\nimport jakarta.persistence.NamedQuery;\r\nimport jakarta.persistence.Table;\r\nimport jakarta.persistence.Transient;\r\nimport lombok.Getter;\r\nimport lombok.NoArgsConstructor;\r\nimport lombok.Setter;\r\nimport java.io.Serializable;\r\n\r\n@Getter\r\n@Setter\r\n@NoArgsConstructor\r\n@Table\r\n@Entity\r\npublic class PlayerStats implements Serializable {\r\n\r\n    public PlayerStats(String UUID, int deaths, int placed, int destroyed, String settings) {\r\n\r\n        this.UUID = UUID;\r\n        setDeaths(deaths);\r\n        setPlaced(placedBlocks);\r\n        setDestroyed(destroyed);\r\n        setSettings(settings);\r\n        stringToBool();\r\n    }\r\n\r\n    @Id\r\n    @Column\r\n    private String UUID;\r\n\r\n    @Column\r\n    private int deaths;\r\n\r\n    @Column\r\n    private int placed;\r\n\r\n    @Column\r\n    private int destroyed;\r\n\r\n    @Column\r\n    private String settings;\r\n\r\n...\r\n}\r\n```\r\n\r\nTest\r\n//This works\r\n```\r\n@Test\r\n    public void abc(){\r\n        SessionFactory sessionFactory;\r\n        Properties properties = new Properties();\r\n\r\n        properties.setProperty(&quot;hibernate.dialect&quot;, &quot;org.hibernate.dialect.MySQLDialect&quot;);\r\n        properties.setProperty(&quot;connection.driver_class&quot;, &quot;com.mysql.cl.jdbc.Driver&quot;);\r\n        properties.setProperty(&quot;hibernate.connection.url&quot;, &quot;jdbc:mysql://localhost:3306/alldatanew&quot;);\r\n        properties.setProperty(&quot;hibernate.connection.username&quot;, &quot;root&quot;);\r\n        properties.setProperty(&quot;hibernate.connection.password&quot;, &quot;&quot;);\r\n        properties.setProperty(&quot;hibernate.hbm2ddl.auto&quot;, &quot;update&quot;);\r\n        properties.setProperty(&quot;current_session_context_class&quot;, &quot;thread&quot;);\r\n\r\n        try {\r\n            sessionFactory = new Configuration()\r\n                    .addProperties(properties)\r\n                    .addAnnotatedClass(PlayerStats.class)\r\n                    .buildSessionFactory();\r\n        } catch (final Exception e) {\r\n            e.printStackTrace();\r\n            throw new RuntimeException();\r\n        }\r\n        Session session = sessionFactory.openSession();\r\n        SelectionQuery&lt;PlayerStats&gt; query = session.createSelectionQuery(&quot;FROM PlayerStats as P WHERE P.UUID = :uuid&quot;, PlayerStats.class);\r\n        query.setParameter(&quot;uuid&quot;, &quot;test3&quot;);\r\n        PlayerStats playerStats = query.getSingleResult();\r\n        System.out.println(playerStats.getUUID());\r\n\r\n\r\n    }\r\n\r\n```\r\n\r\nPlayerStatsStore\r\n//This do not work\r\n\r\n```\r\npublic PlayerStats findByUUID(String uuid) {\r\n\r\n        try (Session session = openSession()) {\r\n            SelectionQuery&lt;PlayerStats&gt; query = session.createSelectionQuery(&quot;FROM PlayerStats as P WHERE P.UUID = :uuid&quot;, PlayerStats.class);\r\n            query.setParameter(&quot;uuid&quot;, uuid);\r\n            PlayerStats playerStats = query.getSingleResult();\r\n            return playerStats;\r\n        } catch (final NoResultException exc) {\r\n            return null;\r\n        }\r\n    }\r\n```\r\n\r\nThe exception\r\n[Exception](https://i.stack.imgur.com/CztJW.png)\r\n[Exception](https://i.stack.imgur.com/nrXoy.png)\r\n\r\nSo my question is why it works inside of the test and not after compiling?\r\nWhat am I doing wrong?\r\n\r\nRegards, and thank you very much\r\n\r\nI tried to solve my problem with the @NamedQuery annotation. This also doesn&#39;t work. So maybe my problem is at the SessionFactory init.\r\n\r\nSessionFactory creation:\r\n\r\n```\r\npublic SessionFactory createSessionFactory(Class&lt;?&gt;... clazz) {\r\n\r\n        Properties properties = new Properties();\r\n\r\n        properties.setProperty(&quot;hibernate.dialect&quot;, &quot;org.hibernate.dialect.MySQLDialect&quot;);\r\n        properties.setProperty(&quot;connection.driver_class&quot;, &quot;com.mysql.cl.jdbc.Driver&quot;);\r\n        properties.setProperty(&quot;hibernate.connection.url&quot;, &quot;jdbc:mysql://localhost:3306/alldatanew&quot;);\r\n        properties.setProperty(&quot;hibernate.connection.username&quot;, &quot;root&quot;);\r\n        properties.setProperty(&quot;hibernate.connection.password&quot;, &quot;&quot;);\r\n        properties.setProperty(&quot;hibernate.hbm2ddl.auto&quot;, &quot;update&quot;);\r\n        properties.setProperty(&quot;current_session_context_class&quot;, &quot;thread&quot;);\r\n        properties.setProperty(&quot;hibernate.show_sql&quot;, &quot;true&quot;);\r\n\r\n        try {\r\n            Configuration configuration = new Configuration();\r\n            configuration.addProperties(properties);\r\n            for (Class&lt;?&gt; c : clazz) {\r\n                configuration.addAnnotatedClass(c.getClass());\r\n            }\r\n            return configuration.buildSessionFactory();\r\n        } catch (final Exception e) {\r\n            e.printStackTrace();\r\n            throw new RuntimeException();\r\n        }\r\n    }\r\n```\r\n","title":"Hibernate - Could not resolve root entity","body":"<p>I'm getting a &quot;Could not resolve root entity 'PlayerStats'&quot; UnknownEntityException while try to load a entity with spezific uuid. Inside the Test-Section it works fine but in when I compile it and try to run I received the error.</p>\n<p>PlayerStats</p>\n<pre><code>import jakarta.persistence.Column;\nimport jakarta.persistence.Entity;\nimport jakarta.persistence.Id;\nimport jakarta.persistence.NamedQueries;\nimport jakarta.persistence.NamedQuery;\nimport jakarta.persistence.Table;\nimport jakarta.persistence.Transient;\nimport lombok.Getter;\nimport lombok.NoArgsConstructor;\nimport lombok.Setter;\nimport java.io.Serializable;\n\n@Getter\n@Setter\n@NoArgsConstructor\n@Table\n@Entity\npublic class PlayerStats implements Serializable {\n\n    public PlayerStats(String UUID, int deaths, int placed, int destroyed, String settings) {\n\n        this.UUID = UUID;\n        setDeaths(deaths);\n        setPlaced(placedBlocks);\n        setDestroyed(destroyed);\n        setSettings(settings);\n        stringToBool();\n    }\n\n    @Id\n    @Column\n    private String UUID;\n\n    @Column\n    private int deaths;\n\n    @Column\n    private int placed;\n\n    @Column\n    private int destroyed;\n\n    @Column\n    private String settings;\n\n...\n}\n</code></pre>\n<p>Test\n//This works</p>\n<pre><code>@Test\n    public void abc(){\n        SessionFactory sessionFactory;\n        Properties properties = new Properties();\n\n        properties.setProperty(&quot;hibernate.dialect&quot;, &quot;org.hibernate.dialect.MySQLDialect&quot;);\n        properties.setProperty(&quot;connection.driver_class&quot;, &quot;com.mysql.cl.jdbc.Driver&quot;);\n        properties.setProperty(&quot;hibernate.connection.url&quot;, &quot;jdbc:mysql://localhost:3306/alldatanew&quot;);\n        properties.setProperty(&quot;hibernate.connection.username&quot;, &quot;root&quot;);\n        properties.setProperty(&quot;hibernate.connection.password&quot;, &quot;&quot;);\n        properties.setProperty(&quot;hibernate.hbm2ddl.auto&quot;, &quot;update&quot;);\n        properties.setProperty(&quot;current_session_context_class&quot;, &quot;thread&quot;);\n\n        try {\n            sessionFactory = new Configuration()\n                    .addProperties(properties)\n                    .addAnnotatedClass(PlayerStats.class)\n                    .buildSessionFactory();\n        } catch (final Exception e) {\n            e.printStackTrace();\n            throw new RuntimeException();\n        }\n        Session session = sessionFactory.openSession();\n        SelectionQuery&lt;PlayerStats&gt; query = session.createSelectionQuery(&quot;FROM PlayerStats as P WHERE P.UUID = :uuid&quot;, PlayerStats.class);\n        query.setParameter(&quot;uuid&quot;, &quot;test3&quot;);\n        PlayerStats playerStats = query.getSingleResult();\n        System.out.println(playerStats.getUUID());\n\n\n    }\n\n</code></pre>\n<p>PlayerStatsStore\n//This do not work</p>\n<pre><code>public PlayerStats findByUUID(String uuid) {\n\n        try (Session session = openSession()) {\n            SelectionQuery&lt;PlayerStats&gt; query = session.createSelectionQuery(&quot;FROM PlayerStats as P WHERE P.UUID = :uuid&quot;, PlayerStats.class);\n            query.setParameter(&quot;uuid&quot;, uuid);\n            PlayerStats playerStats = query.getSingleResult();\n            return playerStats;\n        } catch (final NoResultException exc) {\n            return null;\n        }\n    }\n</code></pre>\n<p>The exception\n<a href=\"https://i.stack.imgur.com/CztJW.png\" rel=\"nofollow noreferrer\">Exception</a>\n<a href=\"https://i.stack.imgur.com/nrXoy.png\" rel=\"nofollow noreferrer\">Exception</a></p>\n<p>So my question is why it works inside of the test and not after compiling?\nWhat am I doing wrong?</p>\n<p>Regards, and thank you very much</p>\n<p>I tried to solve my problem with the @NamedQuery annotation. This also doesn't work. So maybe my problem is at the SessionFactory init.</p>\n<p>SessionFactory creation:</p>\n<pre><code>public SessionFactory createSessionFactory(Class&lt;?&gt;... clazz) {\n\n        Properties properties = new Properties();\n\n        properties.setProperty(&quot;hibernate.dialect&quot;, &quot;org.hibernate.dialect.MySQLDialect&quot;);\n        properties.setProperty(&quot;connection.driver_class&quot;, &quot;com.mysql.cl.jdbc.Driver&quot;);\n        properties.setProperty(&quot;hibernate.connection.url&quot;, &quot;jdbc:mysql://localhost:3306/alldatanew&quot;);\n        properties.setProperty(&quot;hibernate.connection.username&quot;, &quot;root&quot;);\n        properties.setProperty(&quot;hibernate.connection.password&quot;, &quot;&quot;);\n        properties.setProperty(&quot;hibernate.hbm2ddl.auto&quot;, &quot;update&quot;);\n        properties.setProperty(&quot;current_session_context_class&quot;, &quot;thread&quot;);\n        properties.setProperty(&quot;hibernate.show_sql&quot;, &quot;true&quot;);\n\n        try {\n            Configuration configuration = new Configuration();\n            configuration.addProperties(properties);\n            for (Class&lt;?&gt; c : clazz) {\n                configuration.addAnnotatedClass(c.getClass());\n            }\n            return configuration.buildSessionFactory();\n        } catch (final Exception e) {\n            e.printStackTrace();\n            throw new RuntimeException();\n        }\n    }\n</code></pre>\n"},{"tags":["java","spring-boot","jackson","jackson-databind","whitesource"],"answers":[{"tags":[],"owner":{"account_id":7286943,"reputation":29,"user_id":5554738,"display_name":"pred"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648043995,"creation_date":1648043995,"answer_id":71588518,"question_id":71512818,"body_markdown":"The fix for it on the way. Thanks to the open source community. In mean time if there  is possibility of a waiver, please request from your vendor. \r\n\r\nMore details can be found at https://github.com/FasterXML/jackson-databind/issues/2816","title":"CVE-2020-36518 : Unable to resolve WhiteSource vulnerability for jackson-databind library","body":"<p>The fix for it on the way. Thanks to the open source community. In mean time if there  is possibility of a waiver, please request from your vendor.</p>\n<p>More details can be found at <a href=\"https://github.com/FasterXML/jackson-databind/issues/2816\" rel=\"nofollow noreferrer\">https://github.com/FasterXML/jackson-databind/issues/2816</a></p>\n"}],"owner":{"account_id":22638603,"reputation":31,"user_id":16815090,"display_name":"Brajesh Jha"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1428,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"closed_date":1702135084,"answer_count":1,"score":2,"last_activity_date":1673266547,"creation_date":1647522328,"question_id":71512818,"body_markdown":"I have tried all the versions of **jackson-databind** (including version suggested on whitesource fix), but all the version for jackson-databind showing vulnerability on whitesource scan.\r\n\r\nBelow is the description of the issue and we can also see the WhiteSource Note :\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/5er9s.png\r\n\r\nCan someone help me here to resolve this? \r\n\r\nNote: I am using jackson-databind dependency so can not exclude it in pom.xml","title":"CVE-2020-36518 : Unable to resolve WhiteSource vulnerability for jackson-databind library","body":"<p>I have tried all the versions of <strong>jackson-databind</strong> (including version suggested on whitesource fix), but all the version for jackson-databind showing vulnerability on whitesource scan.</p>\n<p>Below is the description of the issue and we can also see the WhiteSource Note :\n<a href=\"https://i.stack.imgur.com/5er9s.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/5er9s.png\" alt=\"enter image description here\" /></a></p>\n<p>Can someone help me here to resolve this?</p>\n<p>Note: I am using jackson-databind dependency so can not exclude it in pom.xml</p>\n"},{"tags":["java","unit-testing","junit"],"comments":[{"owner":{"account_id":970,"reputation":399857,"user_id":1288,"accept_rate":93,"display_name":"Bill the Lizard"},"score":0,"creation_date":1232726183,"post_id":473401,"comment_id":290934,"body_markdown":"What does the above code give you in JUnit 4?","body":"What does the above code give you in JUnit 4?"},{"owner":{"account_id":17822,"reputation":39726,"user_id":40310,"accept_rate":62,"display_name":"Dave Ray"},"score":5,"creation_date":1232726482,"post_id":473401,"comment_id":290952,"body_markdown":"JUnit 3 tests extend TestCase where getName() is defined. JUnit 4 tests do not extend a base class, so there is no getName() method at all.","body":"JUnit 3 tests extend TestCase where getName() is defined. JUnit 4 tests do not extend a base class, so there is no getName() method at all."},{"owner":{"account_id":23933,"reputation":7284,"user_id":60462,"accept_rate":71,"display_name":"Volker Stolz"},"score":0,"creation_date":1234747291,"post_id":473401,"comment_id":363662,"body_markdown":"I have a similar problem where I want to &lt;b&gt;set&lt;/b&gt; the test name since I&#39;m using the Parametrized runner that only gives me numbered test cases.","body":"I have a similar problem where I want to &lt;b&gt;set&lt;/b&gt; the test name since I&#39;m using the Parametrized runner that only gives me numbered test cases."},{"owner":{"account_id":703628,"reputation":14438,"user_id":595305,"accept_rate":83,"display_name":"mike rodent"},"score":0,"creation_date":1477249211,"post_id":473401,"comment_id":67677725,"body_markdown":"Lovely solution using Test or TestWatcher... just wondering (out loud) whether there should ever be a need for this? You can find whether a test is running slowly by looking at the timing output charts given by Gradle.  You should never need to know the order in which tests operate... ?","body":"Lovely solution using Test or TestWatcher... just wondering (out loud) whether there should ever be a need for this? You can find whether a test is running slowly by looking at the timing output charts given by Gradle.  You should never need to know the order in which tests operate... ?"}],"answers":[{"comments":[{"owner":{"account_id":17822,"reputation":39726,"user_id":40310,"accept_rate":62,"display_name":"Dave Ray"},"score":1,"creation_date":1232730724,"post_id":473431,"comment_id":291194,"body_markdown":"Is there an not-out-of-the-box mechanism out there other than inspecting the stack?","body":"Is there an not-out-of-the-box mechanism out there other than inspecting the stack?"},{"owner":{"account_id":83125,"reputation":9583,"user_id":233266,"accept_rate":75,"display_name":"Toby"},"score":4,"creation_date":1365060614,"post_id":473431,"comment_id":22477014,"body_markdown":"Not the case given the answers below! maybe assign the correct answer to someone else?","body":"Not the case given the answers below! maybe assign the correct answer to someone else?"}],"tags":[],"owner":{"account_id":16573,"reputation":3565,"user_id":36267,"accept_rate":83,"display_name":"cordellcp3"},"comment_count":2,"down_vote_count":8,"up_vote_count":12,"is_accepted":false,"score":4,"last_activity_date":1232726264,"creation_date":1232726264,"answer_id":473431,"question_id":473401,"body_markdown":"JUnit 4 does not have any out-of-the-box mechanism for a test case to get it’s own name (including during setup and teardown).","title":"Get name of currently executing test in JUnit 4","body":"<p>JUnit 4 does not have any out-of-the-box mechanism for a test case to get it’s own name (including during setup and teardown).</p>\n"},{"tags":[],"owner":{"account_id":22565,"reputation":11004,"user_id":55794,"accept_rate":54,"display_name":"emeraldjava"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1232831020,"creation_date":1232831020,"answer_id":476645,"question_id":473401,"body_markdown":"I&#39;d suggest you decouple the test method name from your test data set. I would model a DataLoaderFactory class which loads/caches the sets of test data from your resources, and then in your test case cam call some interface method which returns a set of test data for the test case. Having the test data tied to the test method name assumes the test data can only be used once, where in most case i&#39;d suggest that the same test data in uses in multiple tests to verify various aspects of your business logic.   ","title":"Get name of currently executing test in JUnit 4","body":"<p>I'd suggest you decouple the test method name from your test data set. I would model a DataLoaderFactory class which loads/caches the sets of test data from your resources, and then in your test case cam call some interface method which returns a set of test data for the test case. Having the test data tied to the test method name assumes the test data can only be used once, where in most case i'd suggest that the same test data in uses in multiple tests to verify various aspects of your business logic.   </p>\n"},{"comments":[{"owner":{"account_id":34923,"reputation":504,"user_id":98761,"display_name":"user98761"},"score":0,"creation_date":1355357336,"post_id":758180,"comment_id":19068748,"body_markdown":"Conceptually at least, this idea seems rather straightforward to me.  My point being: I wouldn&#39;t call it convoluted.","body":"Conceptually at least, this idea seems rather straightforward to me.  My point being: I wouldn&#39;t call it convoluted."},{"owner":{"account_id":1653550,"reputation":11563,"user_id":1523648,"accept_rate":89,"display_name":"oberlies"},"score":0,"creation_date":1375786803,"post_id":758180,"comment_id":26457880,"body_markdown":"&quot;on a Test superclass ...&quot; - Please, no more of the horrible inheritance based design patterns. This is so JUnit3!","body":"&quot;on a Test superclass ...&quot; - Please, no more of the horrible inheritance based design patterns. This is so JUnit3!"}],"tags":[],"owner":{"account_id":32966,"reputation":485,"user_id":91864,"accept_rate":80,"display_name":"chris.f.jones"},"comment_count":2,"down_vote_count":3,"up_vote_count":9,"is_accepted":false,"score":6,"last_activity_date":1239918302,"creation_date":1239918302,"answer_id":758180,"question_id":473401,"body_markdown":"A convoluted way is to create your own Runner by subclassing org.junit.runners.BlockJUnit4ClassRunner.\r\n\r\nYou can then do something like this:\r\n\r\n    public class NameAwareRunner extends BlockJUnit4ClassRunner {\r\n    \r\n        public NameAwareRunner(Class&lt;?&gt; aClass) throws InitializationError {\r\n            super(aClass);\r\n        }\r\n    \r\n        @Override\r\n        protected Statement methodBlock(FrameworkMethod frameworkMethod) {\r\n            System.err.println(frameworkMethod.getName());\r\n            return super.methodBlock(frameworkMethod);\r\n        }\r\n    }\r\n\r\n\r\nThen for each test class, you&#39;ll need to add a @RunWith(NameAwareRunner.class) annotation. Alternatively, you could put that annotation on a Test superclass if you don&#39;t want to remember it every time. This, of course, limits your selection of runners but that may be acceptable.\r\n\r\nAlso, it may take a little bit of kung fu to get the current test name out of the Runner and into your framework, but this at least gets you the name.\r\n","title":"Get name of currently executing test in JUnit 4","body":"<p>A convoluted way is to create your own Runner by subclassing org.junit.runners.BlockJUnit4ClassRunner.</p>\n\n<p>You can then do something like this:</p>\n\n<pre><code>public class NameAwareRunner extends BlockJUnit4ClassRunner {\n\n    public NameAwareRunner(Class&lt;?&gt; aClass) throws InitializationError {\n        super(aClass);\n    }\n\n    @Override\n    protected Statement methodBlock(FrameworkMethod frameworkMethod) {\n        System.err.println(frameworkMethod.getName());\n        return super.methodBlock(frameworkMethod);\n    }\n}\n</code></pre>\n\n<p>Then for each test class, you'll need to add a @RunWith(NameAwareRunner.class) annotation. Alternatively, you could put that annotation on a Test superclass if you don't want to remember it every time. This, of course, limits your selection of runners but that may be acceptable.</p>\n\n<p>Also, it may take a little bit of kung fu to get the current test name out of the Runner and into your framework, but this at least gets you the name.</p>\n"},{"comments":[{"owner":{"account_id":623,"reputation":23503,"user_id":814,"accept_rate":89,"display_name":"jm."},"score":4,"creation_date":1257438857,"post_id":1426730,"comment_id":1555941,"body_markdown":"Also note that TestName is not available in @before :(\n\nSee: http://old.nabble.com/@Rule-TestName-not-available-in-@Before-methods...-td25198691.html","body":"Also note that TestName is not available in @before :(  See: <a href=\"http://old.nabble.com/@Rule-TestName-not-available-in-@Before-methods...-td25198691.html\" rel=\"nofollow noreferrer\">old.nabble.com/&hellip;</a>"},{"owner":{"account_id":70313,"reputation":2679,"user_id":204021,"accept_rate":80,"display_name":"MightyE"},"score":42,"creation_date":1271417816,"post_id":1426730,"comment_id":2668667,"body_markdown":"Apparently newer versions of JUnit execute `@Rule` before `@Before` - I&#39;m new to JUnit and was depending on `TestName` in my `@Before` without any difficulties.","body":"Apparently newer versions of JUnit execute <code>@Rule</code> before <code>@Before</code> - I&#39;m new to JUnit and was depending on <code>TestName</code> in my <code>@Before</code> without any difficulties."},{"owner":{"account_id":649723,"reputation":1632,"user_id":2197088,"display_name":"Legna"},"score":3,"creation_date":1401284374,"post_id":1426730,"comment_id":36824055,"body_markdown":"If you are using parameterized tests &quot;name.getMethodName()&quot; will return  {testA[0], testA[1], etc} thus I use some like :\n\t\tassertTrue(name.getMethodName().matches(&quot;testA(\\\\[\\\\d\\\\])?&quot;));","body":"If you are using parameterized tests &quot;name.getMethodName()&quot; will return  {testA[0], testA[1], etc} thus I use some like : \t\tassertTrue(name.getMethodName().matches(&quot;testA(\\&#91;\\\\d\\&&zwnj;&#8203;#93;)?&quot;));"},{"owner":{"account_id":150404,"reputation":42109,"user_id":363573,"accept_rate":97,"display_name":"Stephan"},"score":3,"creation_date":1541696828,"post_id":1426730,"comment_id":93313223,"body_markdown":"@DuncanJones Why the proposed alternative is &quot;more efficient&quot;?","body":"@DuncanJones Why the proposed alternative is &quot;more efficient&quot;?"},{"owner":{"account_id":16752149,"reputation":2993,"user_id":12109043,"display_name":"zr0gravity7"},"score":0,"creation_date":1644296532,"post_id":1426730,"comment_id":125562215,"body_markdown":"JUnit 4 annotations `@Rule` and `@ClassRule` do not exist in JUnit 5. For an updated alternative see here: https://stackoverflow.com/questions/52074872/what-is-the-equivalent-of-testname-rule-in-junit-5","body":"JUnit 4 annotations <code>@Rule</code> and <code>@ClassRule</code> do not exist in JUnit 5. For an updated alternative see here: <a href=\"https://stackoverflow.com/questions/52074872/what-is-the-equivalent-of-testname-rule-in-junit-5\" title=\"what is the equivalent of testname rule in junit 5\">stackoverflow.com/questions/52074872/&hellip;</a>"}],"tags":[],"owner":{"account_id":22914,"reputation":5048,"user_id":56994,"display_name":"FroMage"},"comment_count":5,"down_vote_count":0,"up_vote_count":422,"is_accepted":true,"score":422,"last_activity_date":1435566289,"creation_date":1253015991,"answer_id":1426730,"question_id":473401,"body_markdown":"JUnit 4.7 added this feature it seems using [TestName-Rule][1]. Looks like this will get you the method name:\r\n\r\n    import org.junit.Rule;\r\n\r\n    public class NameRuleTest {\r\n    \t@Rule public TestName name = new TestName();\r\n    \t\r\n    \t@Test public void testA() {\r\n    \t\tassertEquals(&quot;testA&quot;, name.getMethodName());\r\n    \t}\r\n    \t\r\n    \t@Test public void testB() {\r\n    \t\tassertEquals(&quot;testB&quot;, name.getMethodName());\r\n    \t}\r\n    }\r\n\r\n\r\n  [1]: https://github.com/junit-team/junit/wiki/Rules#testname-rule","title":"Get name of currently executing test in JUnit 4","body":"<p>JUnit 4.7 added this feature it seems using <a href=\"https://github.com/junit-team/junit/wiki/Rules#testname-rule\" rel=\"noreferrer\">TestName-Rule</a>. Looks like this will get you the method name:</p>\n\n<pre><code>import org.junit.Rule;\n\npublic class NameRuleTest {\n    @Rule public TestName name = new TestName();\n\n    @Test public void testA() {\n        assertEquals(\"testA\", name.getMethodName());\n    }\n\n    @Test public void testB() {\n        assertEquals(\"testB\", name.getMethodName());\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":533594,"reputation":3851,"user_id":903998,"accept_rate":75,"display_name":"Victor"},"score":1,"creation_date":1431533012,"post_id":4566953,"comment_id":48543818,"body_markdown":"I can argue that he only wanted to show a solution .. do not see why the negative vote.... @downvoter: at least, at least, add useful information..","body":"I can argue that he only wanted to show a solution .. do not see why the negative vote.... @downvoter: at least, at least, add useful information.."},{"owner":{"account_id":1431635,"reputation":5085,"user_id":1353930,"accept_rate":50,"display_name":"Daniel Alder"},"score":1,"creation_date":1505811594,"post_id":4566953,"comment_id":79554596,"body_markdown":"@skaffman We all love to see the full range of alternative solutions. This is the closest one for what I&#39;m looking for: Getting the test name not directly in the testclass but in the class which gets used during the test (for example somewhere in a logger component). There, test-relevant annotations don&#39;t work anymore.","body":"@skaffman We all love to see the full range of alternative solutions. This is the closest one for what I&#39;m looking for: Getting the test name not directly in the testclass but in the class which gets used during the test (for example somewhere in a logger component). There, test-relevant annotations don&#39;t work anymore."}],"tags":[],"owner":{"account_id":96522,"reputation":61,"user_id":262315,"display_name":"jnorris"},"comment_count":2,"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1293750305,"creation_date":1293750305,"answer_id":4566953,"question_id":473401,"body_markdown":"    String testName = null;\r\n    StackTraceElement[] trace = Thread.currentThread().getStackTrace();\r\n    for (int i = trace.length - 1; i &gt; 0; --i) {\r\n        StackTraceElement ste = trace[i];\r\n        try {\r\n            Class&lt;?&gt; cls = Class.forName(ste.getClassName());\r\n            Method method = cls.getDeclaredMethod(ste.getMethodName());\r\n            Test annotation = method.getAnnotation(Test.class);\r\n            if (annotation != null) {\r\n                testName = ste.getClassName() + &quot;.&quot; + ste.getMethodName();\r\n                break;\r\n            }\r\n        } catch (ClassNotFoundException e) {\r\n        } catch (NoSuchMethodException e) {\r\n        } catch (SecurityException e) {\r\n        }\r\n    }\r\n","title":"Get name of currently executing test in JUnit 4","body":"<pre><code>String testName = null;\nStackTraceElement[] trace = Thread.currentThread().getStackTrace();\nfor (int i = trace.length - 1; i &gt; 0; --i) {\n    StackTraceElement ste = trace[i];\n    try {\n        Class&lt;?&gt; cls = Class.forName(ste.getClassName());\n        Method method = cls.getDeclaredMethod(ste.getMethodName());\n        Test annotation = method.getAnnotation(Test.class);\n        if (annotation != null) {\n            testName = ste.getClassName() + \".\" + ste.getMethodName();\n            break;\n        }\n    } catch (ClassNotFoundException e) {\n    } catch (NoSuchMethodException e) {\n    } catch (SecurityException e) {\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1135821,"reputation":81,"user_id":1120900,"display_name":"journeyman"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1325154308,"creation_date":1325153152,"answer_id":8666389,"question_id":473401,"body_markdown":"Consider using SLF4J (Simple Logging Facade for Java) provides some neat improvements using parameterized messages. Combining SLF4J with JUnit 4 rule implementations can provide more efficient test class logging techniques.\r\n\r\n    import org.junit.Rule;\r\n    import org.junit.Test;\r\n    import org.junit.rules.MethodRule;\r\n    import org.junit.rules.TestWatchman;\r\n    import org.junit.runners.model.FrameworkMethod;\r\n    import org.slf4j.Logger;\r\n    import org.slf4j.LoggerFactory;\r\n \r\n    public class LoggingTest {\r\n \r\n      @Rule public MethodRule watchman = new TestWatchman() {\r\n        public void starting(FrameworkMethod method) {\r\n          logger.info(&quot;{} being run...&quot;, method.getName());\r\n        }\r\n      };\r\n \r\n      final Logger logger =\r\n        LoggerFactory.getLogger(LoggingTest.class);\r\n \r\n      @Test\r\n      public void testA() {\r\n \r\n      }\r\n \r\n      @Test\r\n      public void testB() {\r\n \r\n      }\r\n    }","title":"Get name of currently executing test in JUnit 4","body":"<p>Consider using SLF4J (Simple Logging Facade for Java) provides some neat improvements using parameterized messages. Combining SLF4J with JUnit 4 rule implementations can provide more efficient test class logging techniques.</p>\n\n<pre><code>import org.junit.Rule;\nimport org.junit.Test;\nimport org.junit.rules.MethodRule;\nimport org.junit.rules.TestWatchman;\nimport org.junit.runners.model.FrameworkMethod;\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\n\npublic class LoggingTest {\n\n  @Rule public MethodRule watchman = new TestWatchman() {\n    public void starting(FrameworkMethod method) {\n      logger.info(\"{} being run...\", method.getName());\n    }\n  };\n\n  final Logger logger =\n    LoggerFactory.getLogger(LoggingTest.class);\n\n  @Test\n  public void testA() {\n\n  }\n\n  @Test\n  public void testB() {\n\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1534612,"reputation":276,"user_id":1430985,"display_name":"leojkelav"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1350047584,"creation_date":1350047584,"answer_id":12859862,"question_id":473401,"body_markdown":"    @ClassRule\r\n    public static TestRule watchman = new TestWatcher() {\r\n        @Override\r\n        protected void starting( final Description description ) {\r\n            String mN = description.getMethodName();\r\n            if ( mN == null ) {\r\n                mN = &quot;setUpBeforeClass..&quot;;\r\n            }\r\n\r\n            final String s = StringTools.toString( &quot;starting..JUnit-Test: %s.%s&quot;, description.getClassName(), mN );\r\n            System.err.println( s );\r\n        }\r\n    };","title":"Get name of currently executing test in JUnit 4","body":"<pre><code>@ClassRule\npublic static TestRule watchman = new TestWatcher() {\n    @Override\n    protected void starting( final Description description ) {\n        String mN = description.getMethodName();\n        if ( mN == null ) {\n            mN = \"setUpBeforeClass..\";\n        }\n\n        final String s = StringTools.toString( \"starting..JUnit-Test: %s.%s\", description.getClassName(), mN );\n        System.err.println( s );\n    }\n};\n</code></pre>\n"},{"comments":[{"owner":{"account_id":175361,"reputation":3070,"user_id":405326,"accept_rate":93,"display_name":"Raffi Khatchadourian"},"score":0,"creation_date":1458396801,"post_id":13987909,"comment_id":59848188,"body_markdown":"Why use a `public` field?","body":"Why use a <code>public</code> field?"},{"owner":{"account_id":218057,"reputation":67738,"user_id":474189,"accept_rate":72,"display_name":"Duncan Jones"},"score":1,"creation_date":1458980923,"post_id":13987909,"comment_id":60097033,"body_markdown":"@RaffiKhatchadourian See http://stackoverflow.com/questions/14335558/why-rule-annotated-fields-in-junit-has-to-be-public","body":"@RaffiKhatchadourian See <a href=\"http://stackoverflow.com/questions/14335558/why-rule-annotated-fields-in-junit-has-to-be-public\" title=\"why rule annotated fields in junit has to be public\">stackoverflow.com/questions/14335558/&hellip;</a>"},{"owner":{"account_id":1594136,"reputation":891,"user_id":1476761,"display_name":"HeikoG"},"score":0,"creation_date":1685535214,"post_id":13987909,"comment_id":134673192,"body_markdown":"In Kotlin you have to use @get:Rule","body":"In Kotlin you have to use @get:Rule"}],"tags":[],"owner":{"account_id":218057,"reputation":67738,"user_id":474189,"accept_rate":72,"display_name":"Duncan Jones"},"comment_count":3,"down_vote_count":0,"up_vote_count":129,"is_accepted":false,"score":129,"last_activity_date":1567034733,"creation_date":1356083824,"answer_id":13987909,"question_id":473401,"body_markdown":"# JUnit 4.9.x and higher\n\nSince JUnit 4.9, the [`TestWatchman`](http://junit.org/javadoc/latest/org/junit/rules/TestWatchman.html) class has been deprecated in favour of the [`TestWatcher`](http://junit.org/javadoc/latest/org/junit/rules/TestWatcher.html) class, which has invocation:\n\n    @Rule\n    public TestRule watcher = new TestWatcher() {\n       protected void starting(Description description) {\n          System.out.println(&quot;Starting test: &quot; + description.getMethodName());\n       }\n    };\n\nNote: The containing class must be declared `public`.\n\n# JUnit 4.7.x - 4.8.x\n\nThe following approach will print method names for all tests in a class:\n\n    @Rule\n    public MethodRule watchman = new TestWatchman() {\n       public void starting(FrameworkMethod method) {\n          System.out.println(&quot;Starting test: &quot; + method.getName());\n       }\n    };\n","title":"Get name of currently executing test in JUnit 4","body":"<h1>JUnit 4.9.x and higher</h1>\n<p>Since JUnit 4.9, the <a href=\"http://junit.org/javadoc/latest/org/junit/rules/TestWatchman.html\" rel=\"noreferrer\"><code>TestWatchman</code></a> class has been deprecated in favour of the <a href=\"http://junit.org/javadoc/latest/org/junit/rules/TestWatcher.html\" rel=\"noreferrer\"><code>TestWatcher</code></a> class, which has invocation:</p>\n<pre><code>@Rule\npublic TestRule watcher = new TestWatcher() {\n   protected void starting(Description description) {\n      System.out.println(&quot;Starting test: &quot; + description.getMethodName());\n   }\n};\n</code></pre>\n<p>Note: The containing class must be declared <code>public</code>.</p>\n<h1>JUnit 4.7.x - 4.8.x</h1>\n<p>The following approach will print method names for all tests in a class:</p>\n<pre><code>@Rule\npublic MethodRule watchman = new TestWatchman() {\n   public void starting(FrameworkMethod method) {\n      System.out.println(&quot;Starting test: &quot; + method.getName());\n   }\n};\n</code></pre>\n"},{"comments":[{"owner":{"account_id":330999,"reputation":306,"user_id":655419,"display_name":"user655419"},"score":3,"creation_date":1380467342,"post_id":16113631,"comment_id":28203906,"body_markdown":"God bless you for your NOTE at the very of the example.","body":"God bless you for your NOTE at the very of the example."},{"owner":{"account_id":1670258,"reputation":1584,"user_id":1536833,"accept_rate":50,"display_name":"Benjineer"},"score":0,"creation_date":1448946701,"post_id":16113631,"comment_id":55781686,"body_markdown":"&quot;This DOES NOT work&quot; - case in point - cucumber ignores @Rule annotations","body":"&quot;This DOES NOT work&quot; - case in point - cucumber ignores @Rule annotations"}],"tags":[],"owner":{"account_id":92970,"reputation":679,"user_id":254562,"display_name":"Yavin5"},"comment_count":2,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1366406263,"creation_date":1366406263,"answer_id":16113631,"question_id":473401,"body_markdown":"Try this instead:\r\n \r\n\r\n    public class MyTest {\r\n            @Rule\r\n            public TestName testName = new TestName();\r\n            \r\n            @Rule\r\n            public TestWatcher testWatcher = new TestWatcher() {\r\n                @Override\r\n                protected void starting(final Description description) {\r\n                    String methodName = description.getMethodName();\r\n                    String className = description.getClassName();\r\n                    className = className.substring(className.lastIndexOf(&#39;.&#39;) + 1);\r\n                    System.err.println(&quot;Starting JUnit-test: &quot; + className + &quot; &quot; + methodName);\r\n                }\r\n            };\r\n        \r\n            @Test\r\n            public void testA() {\r\n                    assertEquals(&quot;testA&quot;, testName.getMethodName());\r\n            }\r\n        \r\n            @Test\r\n            public void testB() {\r\n                    assertEquals(&quot;testB&quot;, testName.getMethodName());\r\n            }\r\n    }\r\n\r\nThe output looks like this:\r\n\r\n    Starting JUnit-test: MyTest testA\r\n    Starting JUnit-test: MyTest testB\r\n\r\nNOTE: This ***DOES NOT*** work if your test is a subclass of **TestCase**!  The test runs but the **@Rule** code just never runs.\r\n\r\n","title":"Get name of currently executing test in JUnit 4","body":"<p>Try this instead:</p>\n\n<pre><code>public class MyTest {\n        @Rule\n        public TestName testName = new TestName();\n\n        @Rule\n        public TestWatcher testWatcher = new TestWatcher() {\n            @Override\n            protected void starting(final Description description) {\n                String methodName = description.getMethodName();\n                String className = description.getClassName();\n                className = className.substring(className.lastIndexOf('.') + 1);\n                System.err.println(\"Starting JUnit-test: \" + className + \" \" + methodName);\n            }\n        };\n\n        @Test\n        public void testA() {\n                assertEquals(\"testA\", testName.getMethodName());\n        }\n\n        @Test\n        public void testB() {\n                assertEquals(\"testB\", testName.getMethodName());\n        }\n}\n</code></pre>\n\n<p>The output looks like this:</p>\n\n<pre><code>Starting JUnit-test: MyTest testA\nStarting JUnit-test: MyTest testB\n</code></pre>\n\n<p>NOTE: This <strong><em>DOES NOT</em></strong> work if your test is a subclass of <strong>TestCase</strong>!  The test runs but the <strong>@Rule</strong> code just never runs.</p>\n"},{"tags":[],"owner":{"account_id":226441,"reputation":3090,"user_id":958263,"accept_rate":69,"display_name":"Coder"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1428987178,"creation_date":1428987178,"answer_id":29619401,"question_id":473401,"body_markdown":"You can achieve this using `Slf4j` and `TestWatcher`\r\n\r\n    private static Logger _log = LoggerFactory.getLogger(SampleTest.class.getName());\r\n    \r\n    @Rule\r\n    public TestWatcher watchman = new TestWatcher() {\r\n        @Override\r\n        public void starting(final Description method) {\r\n            _log.info(&quot;being run...&quot; + method.getMethodName());\r\n        }\r\n    };","title":"Get name of currently executing test in JUnit 4","body":"<p>You can achieve this using <code>Slf4j</code> and <code>TestWatcher</code></p>\n\n<pre><code>private static Logger _log = LoggerFactory.getLogger(SampleTest.class.getName());\n\n@Rule\npublic TestWatcher watchman = new TestWatcher() {\n    @Override\n    public void starting(final Description method) {\n        _log.info(\"being run...\" + method.getMethodName());\n    }\n};\n</code></pre>\n"},{"comments":[{"owner":{"account_id":10512827,"reputation":6163,"user_id":7747942,"display_name":"Sylhare"},"score":0,"creation_date":1528488490,"post_id":37996370,"comment_id":88542884,"body_markdown":"Hi what is that `ImportUtilsTest`, I get an error, it seems to be a logger class, do I have more information? Thanks","body":"Hi what is that <code>ImportUtilsTest</code>, I get an error, it seems to be a logger class, do I have more information? Thanks"},{"owner":{"account_id":3345755,"reputation":124,"user_id":2810942,"display_name":"Csaba Tenkes"},"score":1,"creation_date":1529197873,"post_id":37996370,"comment_id":88786295,"body_markdown":"The named class is just an example of a JUnit test class: the user of JUnitHelper. I will correct the usage example.","body":"The named class is just an example of a JUnit test class: the user of JUnitHelper. I will correct the usage example."},{"owner":{"account_id":10512827,"reputation":6163,"user_id":7747942,"display_name":"Sylhare"},"score":0,"creation_date":1529277839,"post_id":37996370,"comment_id":88802259,"body_markdown":"Ah now I feel dumb, it was so obvious. Thanks a lot! ;)","body":"Ah now I feel dumb, it was so obvious. Thanks a lot! ;)"}],"tags":[],"owner":{"account_id":3345755,"reputation":124,"user_id":2810942,"display_name":"Csaba Tenkes"},"comment_count":3,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1529198349,"creation_date":1466697098,"answer_id":37996370,"question_id":473401,"body_markdown":"Based on the previous comment and further considering I created an extension of TestWather which you can use in your JUnit test methods with this:\r\n\r\n    public class ImportUtilsTest {\r\n\t    private static final Logger LOGGER = Logger.getLogger(ImportUtilsTest.class);\r\n\t\r\n\t    @Rule\r\n        public TestWatcher testWatcher = new JUnitHelper(LOGGER);\r\n    \r\n        @Test\r\n        public test1(){\r\n        ...\r\n        }\r\n    }\r\n\r\n\r\nThe test helper class is the next:\r\n\r\n    public class JUnitHelper extends TestWatcher {\r\n\tprivate Logger LOGGER;\r\n\r\n\tpublic JUnitHelper(Logger LOGGER) {\r\n\t\tthis.LOGGER = LOGGER;\r\n\t}\r\n\r\n\t@Override\r\n\tprotected void starting(final Description description) {\r\n\t\tLOGGER.info(&quot;STARTED &quot; + description.getMethodName());\r\n\t}\r\n\r\n \t@Override\r\n\tprotected void succeeded(Description description) {\r\n\t\tLOGGER.info(&quot;SUCCESSFUL &quot; + description.getMethodName());\r\n\t}\r\n\r\n\t@Override\r\n\tprotected void failed(Throwable e, Description description) {\r\n\t\tLOGGER.error(&quot;FAILURE &quot; + description.getMethodName());\r\n\t}\r\n    }\r\n\r\nEnjoy!","title":"Get name of currently executing test in JUnit 4","body":"<p>Based on the previous comment and further considering I created an extension of TestWather which you can use in your JUnit test methods with this:</p>\n\n<pre><code>public class ImportUtilsTest {\n    private static final Logger LOGGER = Logger.getLogger(ImportUtilsTest.class);\n\n    @Rule\n    public TestWatcher testWatcher = new JUnitHelper(LOGGER);\n\n    @Test\n    public test1(){\n    ...\n    }\n}\n</code></pre>\n\n<p>The test helper class is the next:</p>\n\n<pre><code>public class JUnitHelper extends TestWatcher {\nprivate Logger LOGGER;\n\npublic JUnitHelper(Logger LOGGER) {\n    this.LOGGER = LOGGER;\n}\n\n@Override\nprotected void starting(final Description description) {\n    LOGGER.info(\"STARTED \" + description.getMethodName());\n}\n\n@Override\nprotected void succeeded(Description description) {\n    LOGGER.info(\"SUCCESSFUL \" + description.getMethodName());\n}\n\n@Override\nprotected void failed(Throwable e, Description description) {\n    LOGGER.error(\"FAILURE \" + description.getMethodName());\n}\n}\n</code></pre>\n\n<p>Enjoy!</p>\n"},{"comments":[{"owner":{"account_id":485360,"reputation":20815,"user_id":901641,"accept_rate":78,"display_name":"ArtOfWarfare"},"score":0,"creation_date":1646167452,"post_id":41321322,"comment_id":126055594,"body_markdown":"This also works in methods marked `@BeforeEach` and `@AfterEach`. You can also define those methods in an abstract base class that your other test classes inherit/extend from, so that you only need to put the log statements in one spot instead of repeating that in every test class.","body":"This also works in methods marked <code>@BeforeEach</code> and <code>@AfterEach</code>. You can also define those methods in an abstract base class that your other test classes inherit/extend from, so that you only need to put the log statements in one spot instead of repeating that in every test class."},{"owner":{"account_id":448246,"reputation":106,"user_id":842344,"display_name":"Mache"},"score":1,"creation_date":1672842929,"post_id":41321322,"comment_id":132364195,"body_markdown":"Also works for Classes\n```@DisplayName(&quot;This is my Class&quot;)\n       public class MyClass ....\n    @BeforeAll\n    static void beforeAll(TestInfo testInfo) { System.out.println(testInfo.getDisplayName())} ``` will show the Class `displayName`","body":"Also works for Classes <code>@DisplayName(&quot;This is my Class&quot;)        public class MyClass ....     @BeforeAll     static void beforeAll(TestInfo testInfo) { System.out.println(testInfo.getDisplayName())} </code> will show the Class <code>displayName</code>"}],"tags":[],"owner":{"account_id":6589671,"reputation":10127,"user_id":5091346,"accept_rate":72,"display_name":"Andrii Abramov"},"comment_count":2,"down_vote_count":1,"up_vote_count":29,"is_accepted":false,"score":28,"last_activity_date":1639572290,"creation_date":1482670800,"answer_id":41321322,"question_id":473401,"body_markdown":"# JUnit 5 and higher\r\n\r\nIn **JUnit 5** you can inject `TestInfo` which simplifies test metadata injection to test methods. For example:\r\n\r\n    @Test\r\n    @DisplayName(&quot;This is my test&quot;)\r\n    @Tag(&quot;It is my tag&quot;)\r\n    void test1(TestInfo testInfo) {\r\n        assertEquals(&quot;This is my test&quot;, testInfo.getDisplayName());\r\n        assertTrue(testInfo.getTags().contains(&quot;It is my tag&quot;));\r\n    }\r\n\r\nSee more: [JUnit 5 User guide][1], [TestInfo javadoc][2].\r\n\r\n\r\n  [1]: https://junit.org/junit5/docs/current/user-guide/\r\n  [2]: https://junit.org/junit5/docs/current/api/org.junit.jupiter.api/org/junit/jupiter/api/TestInfo.html","title":"Get name of currently executing test in JUnit 4","body":"<h1>JUnit 5 and higher</h1>\n<p>In <strong>JUnit 5</strong> you can inject <code>TestInfo</code> which simplifies test metadata injection to test methods. For example:</p>\n<pre><code>@Test\n@DisplayName(&quot;This is my test&quot;)\n@Tag(&quot;It is my tag&quot;)\nvoid test1(TestInfo testInfo) {\n    assertEquals(&quot;This is my test&quot;, testInfo.getDisplayName());\n    assertTrue(testInfo.getTags().contains(&quot;It is my tag&quot;));\n}\n</code></pre>\n<p>See more: <a href=\"https://junit.org/junit5/docs/current/user-guide/\" rel=\"nofollow noreferrer\">JUnit 5 User guide</a>, <a href=\"https://junit.org/junit5/docs/current/api/org.junit.jupiter.api/org/junit/jupiter/api/TestInfo.html\" rel=\"nofollow noreferrer\">TestInfo javadoc</a>.</p>\n"},{"tags":[],"owner":{"account_id":100270,"reputation":127154,"user_id":270371,"accept_rate":33,"display_name":"davidxxx"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1534090176,"creation_date":1534090176,"answer_id":51810563,"question_id":473401,"body_markdown":"In JUnit 5 [`TestInfo`][1] acts as a drop-in replacement for the TestName rule from JUnit 4.   \r\n\r\nFrom the documentation : \r\n\r\n&gt; TestInfo is used to inject information about the current test or\r\n&gt; container into to @Test, @RepeatedTest, @ParameterizedTest,\r\n&gt; @TestFactory, @BeforeEach, @AfterEach, @BeforeAll, and @AfterAll\r\n&gt; methods.\r\n\r\nTo retrieve the method name of the current executed test, you have two options :  `String TestInfo.getDisplayName()` and \r\n`Method TestInfo.getTestMethod()`.    \r\n\r\nTo retrieve only the name of the current test method  `TestInfo.getDisplayName()` may not be enough as the test method default display name is `methodName(TypeArg1, TypeArg2, ... TypeArg3)`.   \r\nDuplicating method names in `@DisplayName(&quot;..&quot;)` is not necessary a good idea.   \r\n\r\nAs alternative you could use \r\n`TestInfo.getTestMethod()` that returns a `Optional&lt;Method&gt;` object.  \r\nIf the retrieval method is used inside a test method, you don&#39;t even need to test the `Optional` wrapped value.   \r\n\r\n    import org.junit.jupiter.api.Assertions;\r\n    import org.junit.jupiter.api.TestInfo;\r\n    import org.junit.jupiter.api.Test;\r\n\r\n    @Test\r\n    void doThat(TestInfo testInfo) throws Exception {\r\n    \tAssertions.assertEquals(&quot;doThat(TestInfo)&quot;,testInfo.getDisplayName());\r\n    \tAssertions.assertEquals(&quot;doThat&quot;,testInfo.getTestMethod().get().getName());\r\n    }\r\n\r\n\r\n  [1]: https://junit.org/junit5/docs/current/api/org/junit/jupiter/api/TestInfo.html","title":"Get name of currently executing test in JUnit 4","body":"<p>In JUnit 5 <a href=\"https://junit.org/junit5/docs/current/api/org/junit/jupiter/api/TestInfo.html\" rel=\"nofollow noreferrer\"><code>TestInfo</code></a> acts as a drop-in replacement for the TestName rule from JUnit 4.   </p>\n\n<p>From the documentation : </p>\n\n<blockquote>\n  <p>TestInfo is used to inject information about the current test or\n  container into to @Test, @RepeatedTest, @ParameterizedTest,\n  @TestFactory, @BeforeEach, @AfterEach, @BeforeAll, and @AfterAll\n  methods.</p>\n</blockquote>\n\n<p>To retrieve the method name of the current executed test, you have two options :  <code>String TestInfo.getDisplayName()</code> and \n<code>Method TestInfo.getTestMethod()</code>.    </p>\n\n<p>To retrieve only the name of the current test method  <code>TestInfo.getDisplayName()</code> may not be enough as the test method default display name is <code>methodName(TypeArg1, TypeArg2, ... TypeArg3)</code>.<br>\nDuplicating method names in <code>@DisplayName(\"..\")</code> is not necessary a good idea.   </p>\n\n<p>As alternative you could use \n<code>TestInfo.getTestMethod()</code> that returns a <code>Optional&lt;Method&gt;</code> object.<br>\nIf the retrieval method is used inside a test method, you don't even need to test the <code>Optional</code> wrapped value.   </p>\n\n<pre><code>import org.junit.jupiter.api.Assertions;\nimport org.junit.jupiter.api.TestInfo;\nimport org.junit.jupiter.api.Test;\n\n@Test\nvoid doThat(TestInfo testInfo) throws Exception {\n    Assertions.assertEquals(\"doThat(TestInfo)\",testInfo.getDisplayName());\n    Assertions.assertEquals(\"doThat\",testInfo.getTestMethod().get().getName());\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3340410,"reputation":5354,"user_id":2806819,"accept_rate":97,"display_name":"k_rollo"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1585228526,"creation_date":1585103157,"answer_id":60842203,"question_id":473401,"body_markdown":"JUnit 5 via ExtensionContext\r\n---------\r\n\r\n**Advantage:**\r\n\r\nYou get to have the added functionalities of `ExtensionContext` by overriding `afterEach(ExtensionContext context)`.\r\n\r\n```\r\npublic abstract class BaseTest {\r\n\r\n\tprotected WebDriver driver;\r\n\r\n\t@RegisterExtension\r\n\tAfterEachExtension afterEachExtension = new AfterEachExtension();\r\n\r\n\t@BeforeEach\r\n\tpublic void beforeEach() {\r\n\t\t// Initialise driver\r\n\t}\r\n\r\n\t@AfterEach\r\n\tpublic void afterEach() {\r\n\t\tafterEachExtension.setDriver(driver);\r\n\t}\r\n\r\n}\r\n```\r\n\r\n```\r\npublic class AfterEachExtension implements AfterEachCallback {\r\n\r\n\tprivate WebDriver driver;\r\n\r\n\tpublic void setDriver(WebDriver driver) {\r\n\t\tthis.driver = driver;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void afterEach(ExtensionContext context) {\r\n\t\tString testMethodName = context.getTestMethod().orElseThrow().getName();\r\n\t\t// Attach test steps, attach scsreenshots on failure only, etc.\r\n\t\tdriver.quit();\r\n\t}\r\n\r\n}\r\n```","title":"Get name of currently executing test in JUnit 4","body":"<h2>JUnit 5 via ExtensionContext</h2>\n\n<p><strong>Advantage:</strong></p>\n\n<p>You get to have the added functionalities of <code>ExtensionContext</code> by overriding <code>afterEach(ExtensionContext context)</code>.</p>\n\n<pre><code>public abstract class BaseTest {\n\n    protected WebDriver driver;\n\n    @RegisterExtension\n    AfterEachExtension afterEachExtension = new AfterEachExtension();\n\n    @BeforeEach\n    public void beforeEach() {\n        // Initialise driver\n    }\n\n    @AfterEach\n    public void afterEach() {\n        afterEachExtension.setDriver(driver);\n    }\n\n}\n</code></pre>\n\n<pre><code>public class AfterEachExtension implements AfterEachCallback {\n\n    private WebDriver driver;\n\n    public void setDriver(WebDriver driver) {\n        this.driver = driver;\n    }\n\n    @Override\n    public void afterEach(ExtensionContext context) {\n        String testMethodName = context.getTestMethod().orElseThrow().getName();\n        // Attach test steps, attach scsreenshots on failure only, etc.\n        driver.quit();\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9426911,"reputation":31,"user_id":7011561,"display_name":"James Crawford"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1624410678,"creation_date":1624410678,"answer_id":68092365,"question_id":473401,"body_markdown":"I have a Junit4 test class that extends TestCase so the example with @Rule didn&#39;t work (as mentioned in other answers).\r\n\r\nHowever, if your class extends TestCase you can use getName() to get the current test name so this works:\r\n\r\n    @Before\r\n    public void setUp() {\r\n      System.out.println(&quot;Start test: &quot; + getName());\r\n    }\r\n    \r\n    @After\r\n    public void tearDown() {\r\n      System.out.println(&quot;Finish test: &quot; + getName());\r\n    }\r\n\r\n","title":"Get name of currently executing test in JUnit 4","body":"<p>I have a Junit4 test class that extends TestCase so the example with @Rule didn't work (as mentioned in other answers).</p>\n<p>However, if your class extends TestCase you can use getName() to get the current test name so this works:</p>\n<pre><code>@Before\npublic void setUp() {\n  System.out.println(&quot;Start test: &quot; + getName());\n}\n\n@After\npublic void tearDown() {\n  System.out.println(&quot;Finish test: &quot; + getName());\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23528295,"reputation":11,"user_id":17574416,"display_name":"Tomasz"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1638472179,"creation_date":1638472179,"answer_id":70205195,"question_id":473401,"body_markdown":"I usually use something like this:\r\n```\r\n/** Returns text with test method name\r\n\t@param offset index of method on call stack to print, 1 for a caller of this method.\r\n\t*/\r\n\tstatic String getName(int offset)\r\n\t{ \r\n\t\tThrowable t = new Throwable();\r\n\t\tt.fillInStackTrace();\r\n\t\treturn \r\n               t.getStackTrace()[offset].getMethodName()+&quot;:&quot;+t.getStackTrace()[offset].getLineNumber(); \r\n\t};\r\n```\r\nThis is exactly what Exception do use when printing stack trace.\r\nDepending on the exact context You may have to figure out correct offset value. It is crude and primitive tough and is not using any fancy modern futures.","title":"Get name of currently executing test in JUnit 4","body":"<p>I usually use something like this:</p>\n<pre><code>/** Returns text with test method name\n    @param offset index of method on call stack to print, 1 for a caller of this method.\n    */\n    static String getName(int offset)\n    { \n        Throwable t = new Throwable();\n        t.fillInStackTrace();\n        return \n               t.getStackTrace()[offset].getMethodName()+&quot;:&quot;+t.getStackTrace()[offset].getLineNumber(); \n    };\n</code></pre>\n<p>This is exactly what Exception do use when printing stack trace.\nDepending on the exact context You may have to figure out correct offset value. It is crude and primitive tough and is not using any fancy modern futures.</p>\n"},{"comments":[{"owner":{"account_id":165479,"reputation":30126,"user_id":388980,"display_name":"Sam Brannen"},"score":0,"creation_date":1692276626,"post_id":75057136,"comment_id":135603117,"body_markdown":"That&#39;s TestNG, not JUnit 4.","body":"That&#39;s TestNG, not JUnit 4."}],"tags":[],"owner":{"account_id":18428716,"reputation":77,"user_id":13424370,"display_name":"Sanjit"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1673266496,"creation_date":1673266496,"answer_id":75057136,"question_id":473401,"body_markdown":"A more simpler way is to put this logic in **setUp()** and **tearDown()** methods.\\\r\nRefer below code for better clarity,\r\n\r\n    \r\n    import java.lang.reflect.Method;\r\n\r\n    @BeforeMethod\r\n    void setUp(Method method) {\r\n      log.info(&quot;###############################################&quot;);\r\n      log.info(&quot;Running Test: {}&quot;, method.getName());\r\n    }\r\n\r\n    @AfterMethod\r\n    void tearDown(Method method) {\r\n      log.info(&quot;Finished Test: {}&quot;, method.getName());\r\n        log.info(&quot;###############################################&quot;);\r\n    }\r\n\r\n\r\n    @Test\r\n    public void testMethodName() {\r\n      // Method logic implementation...\r\n    }\r\n\r\nHere is the output of above test execution,\r\n\r\n    #############################################################\r\n    Running Test: testMethodName\r\n    // Logs related to method execution...\r\n    Finished Test: testMethodName\r\n    #############################################################\r\n","title":"Get name of currently executing test in JUnit 4","body":"<p>A more simpler way is to put this logic in <strong>setUp()</strong> and <strong>tearDown()</strong> methods.<br />\nRefer below code for better clarity,</p>\n<pre><code>import java.lang.reflect.Method;\n\n@BeforeMethod\nvoid setUp(Method method) {\n  log.info(&quot;###############################################&quot;);\n  log.info(&quot;Running Test: {}&quot;, method.getName());\n}\n\n@AfterMethod\nvoid tearDown(Method method) {\n  log.info(&quot;Finished Test: {}&quot;, method.getName());\n    log.info(&quot;###############################################&quot;);\n}\n\n\n@Test\npublic void testMethodName() {\n  // Method logic implementation...\n}\n</code></pre>\n<p>Here is the output of above test execution,</p>\n<pre><code>#############################################################\nRunning Test: testMethodName\n// Logs related to method execution...\nFinished Test: testMethodName\n#############################################################\n</code></pre>\n"}],"owner":{"account_id":17822,"reputation":39726,"user_id":40310,"accept_rate":62,"display_name":"Dave Ray"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":151460,"favorite_count":0,"down_vote_count":0,"up_vote_count":266,"accepted_answer_id":1426730,"answer_count":17,"score":266,"last_activity_date":1673266496,"creation_date":1232725874,"question_id":473401,"body_markdown":"In JUnit 3, I could get the name of the currently running test like this:\r\n\r\n    public class MyTest extends TestCase\r\n    {\r\n        public void testSomething()\r\n        {\r\n            System.out.println(&quot;Current test is &quot; + getName());\r\n            ...\r\n        }\r\n    }\r\n\r\nwhich would print &quot;Current test is testSomething&quot;. \r\n\r\nIs there any out-of-the-box or simple way to do this in JUnit 4?\r\n\r\nBackground: Obviously, I don&#39;t want to just print the name of the test. I want to load test-specific data that is stored in a resource with the same name as the test. You know, [convention over configuration][1] and all that.\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Convention_over_Configuration","title":"Get name of currently executing test in JUnit 4","body":"<p>In JUnit 3, I could get the name of the currently running test like this:</p>\n\n<pre><code>public class MyTest extends TestCase\n{\n    public void testSomething()\n    {\n        System.out.println(\"Current test is \" + getName());\n        ...\n    }\n}\n</code></pre>\n\n<p>which would print \"Current test is testSomething\". </p>\n\n<p>Is there any out-of-the-box or simple way to do this in JUnit 4?</p>\n\n<p>Background: Obviously, I don't want to just print the name of the test. I want to load test-specific data that is stored in a resource with the same name as the test. You know, <a href=\"http://en.wikipedia.org/wiki/Convention_over_Configuration\" rel=\"noreferrer\">convention over configuration</a> and all that.</p>\n"},{"tags":["java","eclipse","tomcat","servlets","mysql-connector"],"comments":[{"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"score":0,"creation_date":1673210013,"post_id":75051012,"comment_id":132441827,"body_markdown":"Eclipse has nothing to do with it, in spite of its many flaws.  You can&#39;t make a JDBC connection without a URL string and credentials.  This is a poor design.  You shouldn&#39;t be creating a new Connection for every request.  They take a long time to create.  Better to use a connection pool and check connections in and out of that.","body":"Eclipse has nothing to do with it, in spite of its many flaws.  You can&#39;t make a JDBC connection without a URL string and credentials.  This is a poor design.  You shouldn&#39;t be creating a new Connection for every request.  They take a long time to create.  Better to use a connection pool and check connections in and out of that."}],"answers":[{"comments":[{"owner":{"account_id":24826724,"reputation":3,"user_id":18706489,"display_name":"Minor Campos"},"score":0,"creation_date":1673214558,"post_id":75051032,"comment_id":132442663,"body_markdown":"thanks friend this information helped me a lot","body":"thanks friend this information helped me a lot"}],"tags":[],"owner":{"account_id":5255222,"reputation":573,"user_id":4198317,"display_name":"St&#233;phane Jeandeaux"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1673209606,"creation_date":1673209606,"answer_id":75051032,"question_id":75051012,"body_markdown":"https://dev.mysql.com/doc/connector-j/8.0/en/connector-j-usagenotes-tomcat.html\r\n\r\nYou should look at this page to install mysql driver properly in Tomcat","title":"failed connection Servlet error java and MySql","body":"<p><a href=\"https://dev.mysql.com/doc/connector-j/8.0/en/connector-j-usagenotes-tomcat.html\" rel=\"nofollow noreferrer\">https://dev.mysql.com/doc/connector-j/8.0/en/connector-j-usagenotes-tomcat.html</a></p>\n<p>You should look at this page to install mysql driver properly in Tomcat</p>\n"}],"owner":{"account_id":24826724,"reputation":3,"user_id":18706489,"display_name":"Minor Campos"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1673266415,"accepted_answer_id":75051032,"answer_count":1,"score":0,"last_activity_date":1673266428,"creation_date":1673209290,"question_id":75051012,"body_markdown":"today i have a problem with servlet in java and mySql, btw i&#39;m using eclipse to write this code. The problem is that when i use the servlet to call my DAO class in tomcat, my connection to the database fails, but when i use a normal class to make a try with java compiler, the connection is good, this error is only when i use Tomcat.\r\n\r\nthis is my Servlet controller (in this the connection fails and i run this with tomcat)\r\n\r\n    public class ProductController extends HttpServlet {\r\n        private static final long serialVersionUID = 1L;\r\n    \r\n        public ProductController() {\r\n            super();\r\n        }\r\n    \r\n        protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\r\n    \tProductDAO productDAO = new ProductDAO();\r\n    \tRequestDispatcher dispatcher = null;\r\n    \tString accion = request.getParameter(&quot;accion&quot;);\r\n    \t\r\n    \tif(accion == null || accion.isEmpty()) {\r\n    \t\tdispatcher = request.getRequestDispatcher(&quot;products/index.jsp&quot;);\r\n    \t\tList&lt;Product&gt; list = productDAO.getList();\r\n    \t\trequest.setAttribute(&quot;list&quot;, list);\r\n    \t}\r\n    \tdispatcher.forward(request, response);\r\n        }\r\n    \r\n        protected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\r\n    \tdoGet(request, response);\r\n        }\r\n    }\r\n\r\nThis is my DAO class\r\n\r\n    public class ProductDAO {\r\n        public ProductDAO() {\r\n        }\r\n    \r\n        public List&lt;Product&gt; getList() {\r\n    \tConnection_ jdbc = new Connection();\r\n    \tPreparedStatement ps;\r\n    \tResultSet rs;\r\n    \tList&lt;Product&gt; list = new ArrayList&lt;&gt;();\r\n    \t\r\n    \ttry {\r\n                ps = jdbc.getConecction().prepareStatement(&quot;SELECT * FROM products&quot;);;\r\n                rs = ps.executeQuery();\r\n                while(rs.next()) {\r\n    \t\tlist.add(new Product(rs.getInt(&quot;id&quot;), rs.getInt(&quot;stock&quot;), rs.getDouble(&quot;price&quot;), rs.getString(&quot;name&quot;), rs.getString(&quot;code&quot;)));\r\n                }\r\n                return list;\r\n    \t}catch (Exception e) {\r\n                System.out.println(&quot;Fallo en la conexion&quot;);\r\n                return null; \r\n    \t}\r\n        }\r\n    }\r\n\r\nThis is the error message\r\n\r\n[enter image description here](https://i.stack.imgur.com/eQVDj.png)\r\n\r\nThis is my Try controller\r\n\r\n    public class Controller{\r\n    \r\n        public static void main(String[] args) {\r\n    \tConnection_ jdbc = new Connection();\r\n    \tStatement statement;\r\n    \tResultSet rows;\r\n    \ttry {\r\n                statement = jdbc.getConecction().createStatement();\r\n                rows = statement.executeQuery(&quot;SELECT * FROM products&quot;);\r\n                System.out.println(&quot;Registers&quot;);\r\n                while(rows.next()) {\r\n                    System.out.println(&quot;Id &quot;+rows.getInt(&quot;stock&quot;));\r\n                }\r\n    \t} catch (Exception e) {\r\n                System.out.println(&quot;Fallo en la conexion&quot;);\r\n    \t}\r\n    }\r\n\r\nAnd this is when i use the try controller\r\n\r\n[enter image description here](https://i.stack.imgur.com/q4ZRg.png)\r\n\r\nlike i said before, in this try i am using java compiler of eclipse and i don&#39;t have the problem but, when i use tomcat again in this controller my system failes, i dont know how can i resolve it","title":"failed connection Servlet error java and MySql","body":"<p>today i have a problem with servlet in java and mySql, btw i'm using eclipse to write this code. The problem is that when i use the servlet to call my DAO class in tomcat, my connection to the database fails, but when i use a normal class to make a try with java compiler, the connection is good, this error is only when i use Tomcat.</p>\n<p>this is my Servlet controller (in this the connection fails and i run this with tomcat)</p>\n<pre><code>public class ProductController extends HttpServlet {\n    private static final long serialVersionUID = 1L;\n\n    public ProductController() {\n        super();\n    }\n\n    protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\n    ProductDAO productDAO = new ProductDAO();\n    RequestDispatcher dispatcher = null;\n    String accion = request.getParameter(&quot;accion&quot;);\n    \n    if(accion == null || accion.isEmpty()) {\n        dispatcher = request.getRequestDispatcher(&quot;products/index.jsp&quot;);\n        List&lt;Product&gt; list = productDAO.getList();\n        request.setAttribute(&quot;list&quot;, list);\n    }\n    dispatcher.forward(request, response);\n    }\n\n    protected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\n    doGet(request, response);\n    }\n}\n</code></pre>\n<p>This is my DAO class</p>\n<pre><code>public class ProductDAO {\n    public ProductDAO() {\n    }\n\n    public List&lt;Product&gt; getList() {\n    Connection_ jdbc = new Connection();\n    PreparedStatement ps;\n    ResultSet rs;\n    List&lt;Product&gt; list = new ArrayList&lt;&gt;();\n    \n    try {\n            ps = jdbc.getConecction().prepareStatement(&quot;SELECT * FROM products&quot;);;\n            rs = ps.executeQuery();\n            while(rs.next()) {\n        list.add(new Product(rs.getInt(&quot;id&quot;), rs.getInt(&quot;stock&quot;), rs.getDouble(&quot;price&quot;), rs.getString(&quot;name&quot;), rs.getString(&quot;code&quot;)));\n            }\n            return list;\n    }catch (Exception e) {\n            System.out.println(&quot;Fallo en la conexion&quot;);\n            return null; \n    }\n    }\n}\n</code></pre>\n<p>This is the error message</p>\n<p><a href=\"https://i.stack.imgur.com/eQVDj.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>This is my Try controller</p>\n<pre><code>public class Controller{\n\n    public static void main(String[] args) {\n    Connection_ jdbc = new Connection();\n    Statement statement;\n    ResultSet rows;\n    try {\n            statement = jdbc.getConecction().createStatement();\n            rows = statement.executeQuery(&quot;SELECT * FROM products&quot;);\n            System.out.println(&quot;Registers&quot;);\n            while(rows.next()) {\n                System.out.println(&quot;Id &quot;+rows.getInt(&quot;stock&quot;));\n            }\n    } catch (Exception e) {\n            System.out.println(&quot;Fallo en la conexion&quot;);\n    }\n}\n</code></pre>\n<p>And this is when i use the try controller</p>\n<p><a href=\"https://i.stack.imgur.com/q4ZRg.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>like i said before, in this try i am using java compiler of eclipse and i don't have the problem but, when i use tomcat again in this controller my system failes, i dont know how can i resolve it</p>\n"},{"tags":["java","simpledateformat"],"comments":[{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":4,"creation_date":1673264144,"post_id":75056668,"comment_id":132451610,"body_markdown":"I suspect the difference is some sort of overflow. Create a breakpoint and debug this to find out more. The real question is why you don&#39;t solve the actual problem and cut off the time part. And why the pattern contains 2-digit years but your input has 4-digit years.","body":"I suspect the difference is some sort of overflow. Create a breakpoint and debug this to find out more. The real question is why you don&#39;t solve the actual problem and cut off the time part. And why the pattern contains 2-digit years but your input has 4-digit years."},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":2,"creation_date":1673264238,"post_id":75056668,"comment_id":132451634,"body_markdown":"`ddMMyy` doesn&#39;t really match your input - but you really shouldn&#39;t be using `SimpleDateFormat` anymore and instead prefer `DateTimeFormatter` instead","body":"<code>ddMMyy</code> doesn&#39;t really match your input - but you really shouldn&#39;t be using <code>SimpleDateFormat</code> anymore and instead prefer <code>DateTimeFormatter</code> instead"},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":2,"creation_date":1673264331,"post_id":75056668,"comment_id":132451670,"body_markdown":"I changed it to `ddMMyyyy` and `09012022` and it works","body":"I changed it to <code>ddMMyyyy</code> and <code>09012022</code> and it works"},{"owner":{"account_id":43702,"reputation":15263,"user_id":127863,"accept_rate":93,"display_name":"jqno"},"score":0,"creation_date":1673264498,"post_id":75056668,"comment_id":132451720,"body_markdown":"Yes, I know that SimpleDateFormat is not very good, and I know that the input doesn&#39;t match the format, and that the input is weird in the first place. This is just what I encountered in a legacy codebase, and I&#39;m simply curious to understand what&#39;s happening in the existing code, before I attempt to refactor.","body":"Yes, I know that SimpleDateFormat is not very good, and I know that the input doesn&#39;t match the format, and that the input is weird in the first place. This is just what I encountered in a legacy codebase, and I&#39;m simply curious to understand what&#39;s happening in the existing code, before I attempt to refactor."},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1673264533,"post_id":75056668,"comment_id":132451728,"body_markdown":"So, using `yyyy` and `2023000000000` it generates a year of `70403584` so I&#39;m &quot;assuming&quot; that&#39;s it&#39;s trying to consume  all the trailing `0`s","body":"So, using <code>yyyy</code> and <code>2023000000000</code> it generates a year of <code>70403584</code> so I&#39;m &quot;assuming&quot; that&#39;s it&#39;s trying to consume  all the trailing <code>0</code>s"},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1673265358,"post_id":75056668,"comment_id":132452004,"body_markdown":"If this is a bug in your legacy code and you need to fix the bug and test the code again, how much code wold you need to rewrite in order to avoid using `SimpleDateFormat` here? Certainly an option I would seriously consider.","body":"If this is a bug in your legacy code and you need to fix the bug and test the code again, how much code wold you need to rewrite in order to avoid using <code>SimpleDateFormat</code> here? Certainly an option I would seriously consider."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1673265677,"post_id":75056668,"comment_id":132452116,"body_markdown":"I have reproduced. I agree with the others, though, that  if `2023` in your string is the year, then the you need `yyyy` (not `yy`) to parse it.","body":"I have reproduced. I agree with the others, though, that  if <code>2023</code> in your string is the year, then the you need <code>yyyy</code> (not <code>yy</code>) to parse it."},{"owner":{"account_id":401843,"reputation":89873,"user_id":768644,"display_name":"rzwitserloot"},"score":1,"creation_date":1673266493,"post_id":75056668,"comment_id":132452409,"body_markdown":"@jqno As a fellow dutchie, note that your legacy code is intricately bound up with fairly careless conversion between epoch-milli form and y/m/d form (GregorianCalendar and Date contain the careless code, to be clear), and very recent versions of the JVM (if you&#39;re on coretto 17, you&#39;ll have this mess, most other JDK editions don&#39;t, yet, but will soon), `Europe/Amsterdam` is broken, and any birthdates pre-1940 will shift by a day. Perhaps this disaster will let you claim the resources to fully refactor away from the legacy here.","body":"@jqno As a fellow dutchie, note that your legacy code is intricately bound up with fairly careless conversion between epoch-milli form and y/m/d form (GregorianCalendar and Date contain the careless code, to be clear), and very recent versions of the JVM (if you&#39;re on coretto 17, you&#39;ll have this mess, most other JDK editions don&#39;t, yet, but will soon), <code>Europe&#47;Amsterdam</code> is broken, and any birthdates pre-1940 will shift by a day. Perhaps this disaster will let you claim the resources to fully refactor away from the legacy here."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":2,"creation_date":1673266685,"post_id":75056668,"comment_id":132452474,"body_markdown":"Which is the desired behaviour in your production code? Asking because both strings begin with `090120` , which appears to me to be correct for 9 January 2020. Are you wanting the exception or do you want parsing without exception? In the latter case, do you need to get the year correct (2023 and 2020 in your two examples)?","body":"Which is the desired behaviour in your production code? Asking because both strings begin with <code>090120</code> , which appears to me to be correct for 9 January 2020. Are you wanting the exception or do you want parsing without exception? In the latter case, do you need to get the year correct (2023 and 2020 in your two examples)?"},{"owner":{"account_id":43702,"reputation":15263,"user_id":127863,"accept_rate":93,"display_name":"jqno"},"score":0,"creation_date":1673266810,"post_id":75056668,"comment_id":132452514,"body_markdown":"@rzwitserloot We&#39;re still stuck on Java 8 for the foreseeable future and also we&#39;re dealing with dates no earlier than 1990, so unfortunately this probably won&#39;t sway the powers that be. But thanks for the heads-up though!","body":"@rzwitserloot We&#39;re still stuck on Java 8 for the foreseeable future and also we&#39;re dealing with dates no earlier than 1990, so unfortunately this probably won&#39;t sway the powers that be. But thanks for the heads-up though!"},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1673266844,"post_id":75056668,"comment_id":132452531,"body_markdown":"This parses correctly since Java 9: `LocalDateTime.parse(&quot;09012020000000000&quot;, DateTimeFormatter.ofPattern(&quot;ddMMuuuuHHmmssSSS&quot;))`. Same if year is 2020 instead of 2023. In Java 8 it’s just a little more complicated.","body":"This parses correctly since Java 9: <code>LocalDateTime.parse(&quot;09012020000000000&quot;, DateTimeFormatter.ofPattern(&quot;ddMMuuuuHHmmssSSS&quot;))</code>. Same if year is 2020 instead of 2023. In Java 8 it’s just a little more complicated."},{"owner":{"account_id":43702,"reputation":15263,"user_id":127863,"accept_rate":93,"display_name":"jqno"},"score":2,"creation_date":1673266958,"post_id":75056668,"comment_id":132452574,"body_markdown":"@OleV.V. Fun fact, the desired behaviour in this case is the exception, which will cause the parser to fall-through to a second date format to attempt, which uses yyyy instead of yy. I honestly can&#39;t think of a better example for programming-by-coincidence than this.","body":"@OleV.V. Fun fact, the desired behaviour in this case is the exception, which will cause the parser to fall-through to a second date format to attempt, which uses yyyy instead of yy. I honestly can&#39;t think of a better example for programming-by-coincidence than this."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1673268858,"post_id":75056668,"comment_id":132453248,"body_markdown":"So the quick fix would be to throw the exception manually regardless of the string you get (not knowing the rest of your code it’s hard for me to tell whether there is a better solution, I hope there is).","body":"So the quick fix would be to throw the exception manually regardless of the string you get (not knowing the rest of your code it’s hard for me to tell whether there is a better solution, I hope there is)."},{"owner":{"account_id":401843,"reputation":89873,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1673270759,"post_id":75056668,"comment_id":132454029,"body_markdown":"@jqno for what its worth, if you want &#39;least impact&#39;, you could clone `SimpleDateFormat` and replace line 1940 in `SimpleDateFormat`, which reads: `value = number.intValue();` with `value =  number.longValue() &gt; Integer.MAX_VALUE ? -1 : number.intValue();`, and use this cloned copy...","body":"@jqno for what its worth, if you want &#39;least impact&#39;, you could clone <code>SimpleDateFormat</code> and replace line 1940 in <code>SimpleDateFormat</code>, which reads: <code>value = number.intValue();</code> with <code>value =  number.longValue() &gt; Integer.MAX_VALUE ? -1 : number.intValue();</code>, and use this cloned copy..."}],"answers":[{"comments":[{"owner":{"account_id":43702,"reputation":15263,"user_id":127863,"accept_rate":93,"display_name":"jqno"},"score":0,"creation_date":1673265895,"post_id":75057000,"comment_id":132452187,"body_markdown":"So why the ParseException on `9012022000000000` then?","body":"So why the ParseException on <code>9012022000000000</code> then?"},{"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":6,"creation_date":1673265940,"post_id":75057000,"comment_id":132452202,"body_markdown":"@jqno because 2022 results in a negative value, 2023 results in a positive value.","body":"@jqno because 2022 results in a negative value, 2023 results in a positive value."}],"tags":[],"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"comment_count":2,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1673266207,"creation_date":1673265810,"answer_id":75057000,"question_id":75056668,"body_markdown":"The reason is integer overflow. But seriously, fix the legacy code.\r\n\r\n```\r\njshell&gt; (int)9012023000000000L\r\n$1 ==&gt; 496985600\r\n\r\njshell&gt; (int)9012022000000000L\r\n$2 ==&gt; -503014400\r\n```\r\n\r\nA negative year is out of range for the year component. A crazy large year is still considered valid.\r\n\r\nSet a breakpoint on [line 1543 of SimpleDateFormat.java](https://github.com/JetBrains/jdk8u_jdk/blob/master/src/share/classes/java/text/SimpleDateFormat.java#L1543). The exception itself is thrown in [Line 2583 of GregorianCalendar.java](https://github.com/openjdk-mirror/jdk7u-jdk/blob/master/src/share/classes/java/util/GregorianCalendar.java#L2583):\r\n\r\n&gt;     for (int field = 0; field &lt; FIELD_COUNT; field++) {\r\n&gt;         int value = internalGet(field);\r\n&gt;         if (isExternallySet(field)) {\r\n&gt;             // Quick validation for any out of range values\r\n&gt;             if (value &lt; getMinimum(field) || value &gt; getMaximum(field)) {\r\n&gt;                 throw new IllegalArgumentException(getFieldName(field));\r\n&gt;             }\r\n&gt;         }\r\n&gt;         originalFields[field] = value;\r\n&gt;     }\r\n\r\nThe actual &quot;year&quot; value that ends up in this method is `-929596416` (`(int)2022000000000L`). Year 2023 does not throw because the long value coerced into an integer ends up being `70403584` – which is allowed. The GregorianCalendar rejects values smaller than 1 (`&lt; 1`) and greater than 292278994 (`&gt; 292278994`).","title":"SimpleDateFormat succeeds or throws depending on year number","body":"<p>The reason is integer overflow. But seriously, fix the legacy code.</p>\n<pre><code>jshell&gt; (int)9012023000000000L\n$1 ==&gt; 496985600\n\njshell&gt; (int)9012022000000000L\n$2 ==&gt; -503014400\n</code></pre>\n<p>A negative year is out of range for the year component. A crazy large year is still considered valid.</p>\n<p>Set a breakpoint on <a href=\"https://github.com/JetBrains/jdk8u_jdk/blob/master/src/share/classes/java/text/SimpleDateFormat.java#L1543\" rel=\"nofollow noreferrer\">line 1543 of SimpleDateFormat.java</a>. The exception itself is thrown in <a href=\"https://github.com/openjdk-mirror/jdk7u-jdk/blob/master/src/share/classes/java/util/GregorianCalendar.java#L2583\" rel=\"nofollow noreferrer\">Line 2583 of GregorianCalendar.java</a>:</p>\n<blockquote>\n<pre><code>for (int field = 0; field &lt; FIELD_COUNT; field++) {\n    int value = internalGet(field);\n    if (isExternallySet(field)) {\n        // Quick validation for any out of range values\n        if (value &lt; getMinimum(field) || value &gt; getMaximum(field)) {\n            throw new IllegalArgumentException(getFieldName(field));\n        }\n    }\n    originalFields[field] = value;\n}\n</code></pre>\n</blockquote>\n<p>The actual &quot;year&quot; value that ends up in this method is <code>-929596416</code> (<code>(int)2022000000000L</code>). Year 2023 does not throw because the long value coerced into an integer ends up being <code>70403584</code> – which is allowed. The GregorianCalendar rejects values smaller than 1 (<code>&lt; 1</code>) and greater than 292278994 (<code>&gt; 292278994</code>).</p>\n"},{"tags":[],"owner":{"account_id":401843,"reputation":89873,"user_id":768644,"display_name":"rzwitserloot"},"comment_count":0,"down_vote_count":0,"up_vote_count":11,"is_accepted":true,"score":11,"last_activity_date":1673266378,"creation_date":1673265968,"answer_id":75057035,"question_id":75056668,"body_markdown":"OBVIOUS ANSWER: Get rid of this obsolete crud that never worked properly and do it right.\r\n\r\n## Let&#39;s first explain this result\r\n\r\nI&#39;m not sure why, but you wanted to know why this happens. I dived into the source of `SimpleDateFormat` for you.\r\n\r\nGiven that the `yy` part is the last, it takes all remaining digits. Thus, the `&quot;2022000000000&quot;` part of the string is parsed into a `Long` of value `2022000000000`. This is then immediately converted to an `int`, and that&#39;s quite problematic; `2022000000000` overflows and turns into int value `-929596416`. A standard `java.text.CalendarBuilder` instance is then told to set its `YEAR` field to that value (-929596416). Which is fine.\r\n\r\nWhen parsing is done, that builder is asked to produce a `GregorianCalendar` value. This doesn&#39;t work - the GregorianCalendar accepts -929596416 as YEAR value just fine, but `SimpleDateFormat` then asks this GregCal instance to calculate the time in millis since the epoch, and __that__ fails; an exception throws an exception indicating this. This exception is caught by the SimpleDateFormat code and results in the `Unparseable date` exception that you are getting.\r\n\r\nWith 2023, you get the same effect: That is turned into an `int` without checking if it overflows; that overflows just the same, and results in int value `70403584`. __GregorianCalendar DOES accept this year__. This then results in what you saw: Year 70403584 - which is explained as follows:\r\n\r\n```\r\nlong y = 2023000000000L;\r\nint i = (int) y;\r\nSystem.out.println(i); // prints 70403584\r\n```\r\n\r\nA deeper dive then is: Why is 70403584 fine, and -929596416 isn&#39;t?\r\n\r\nMostly, &#39;because&#39;. The GregCal internal methods `getMinimum(field)` and `getMaximum(field)`, when passing the YEAR field (constant value 1) are respectively 1 and 292278994. That means 70403584 is accepted, and -929596416 is not. You told it to be non-lenient. &quot;Lenient&quot; here (the old `j.u.Calendar` stuff) is mostly a silly concept (trying to define what is acceptable in non-lenient mode is virtually impossible. Various utterly ridiculous dates nevertheless are acceptable even in non-lenient mode).\r\n\r\nWe can verify this:\r\n\r\n```\r\nGregorianCalendar cal = new GregorianCalendar();\r\ncal.setLenient(false);\r\ncal.set(Calendar.YEAR, -5);\r\nSystem.out.println(cal.getTime());\r\n```\r\n\r\ngives you:\r\n\r\n```\r\nException in thread &quot;main&quot; java.lang.IllegalArgumentException: YEAR\r\n\tat java.base/java.util.GregorianCalendar.computeTime(GregorianCalendar.java:2609)\r\n\tat java.base/java.util.Calendar.updateTime(Calendar.java:3411)\r\n\tat java.base/java.util.Calendar.getTimeInMillis(Calendar.java:1805)\r\n\tat java.base/java.util.Calendar.getTime(Calendar.java:1776)\r\n```\r\n\r\n__THE EXECUTIVE CONCLUSION__: If you were expecting lenient mode to reject these patterns, I have some nasty news for you: non-lenient mode __does not work and never did__ and you should not be relying on it. Specifically here, overflows are not checked (you&#39;d think that in non-lenient mode, any overflow of any value means the value is rejected, but, alas), and 2023000000000 so happens to overflow into a ridiculous but nevertheless, acceptable (even in non-lenient) year, whereas 2022000000000 does not.\r\n\r\n## So how do you fix this?\r\n\r\nYou can&#39;t. SimpleDateFormat and GregorianCalendar are horrible API and broken implementations. The only fix is to ditch it. Use `java.time`. Make a new formatter using `java.time.DateTimeFormatter`, parse this value into a `LocalDate`, and go from there. You&#39;ll solve a whole host of timezone related craziness on the fly, too! (Because `java.util.Date` is lying and doesn&#39;t represent dates. It represents instants, hence why `.getYear()` and company are deprecated, because you can&#39;t ask an instant for a year without a timezone, and Date doesn&#39;t have one. Calendar is intricately interwoven with it all - hence, storing dates on one timezone and reading them on another causes wonkiness. LocalDate avoids all that).\r\n\r\nEDIT: As a fellow dutchie, note that the most recent JDKs break the `Europe/Amsterdam` timezone (grumble grumble OpenJDK team doesn&#39;t understand what damage they are causing) - which means any conversion between epoch-millis and base dates is extra problematic for software running in dutch locales. For example, if you are storing birthdates and you dip through conversion like this, __everybody born before 1940 will break__ and their birthday will shift by a day. `LocalDate` avoids this by never storing anything as epoch-millis in the first place.\r\n","title":"SimpleDateFormat succeeds or throws depending on year number","body":"<p>OBVIOUS ANSWER: Get rid of this obsolete crud that never worked properly and do it right.</p>\n<h2>Let's first explain this result</h2>\n<p>I'm not sure why, but you wanted to know why this happens. I dived into the source of <code>SimpleDateFormat</code> for you.</p>\n<p>Given that the <code>yy</code> part is the last, it takes all remaining digits. Thus, the <code>&quot;2022000000000&quot;</code> part of the string is parsed into a <code>Long</code> of value <code>2022000000000</code>. This is then immediately converted to an <code>int</code>, and that's quite problematic; <code>2022000000000</code> overflows and turns into int value <code>-929596416</code>. A standard <code>java.text.CalendarBuilder</code> instance is then told to set its <code>YEAR</code> field to that value (-929596416). Which is fine.</p>\n<p>When parsing is done, that builder is asked to produce a <code>GregorianCalendar</code> value. This doesn't work - the GregorianCalendar accepts -929596416 as YEAR value just fine, but <code>SimpleDateFormat</code> then asks this GregCal instance to calculate the time in millis since the epoch, and <strong>that</strong> fails; an exception throws an exception indicating this. This exception is caught by the SimpleDateFormat code and results in the <code>Unparseable date</code> exception that you are getting.</p>\n<p>With 2023, you get the same effect: That is turned into an <code>int</code> without checking if it overflows; that overflows just the same, and results in int value <code>70403584</code>. <strong>GregorianCalendar DOES accept this year</strong>. This then results in what you saw: Year 70403584 - which is explained as follows:</p>\n<pre><code>long y = 2023000000000L;\nint i = (int) y;\nSystem.out.println(i); // prints 70403584\n</code></pre>\n<p>A deeper dive then is: Why is 70403584 fine, and -929596416 isn't?</p>\n<p>Mostly, 'because'. The GregCal internal methods <code>getMinimum(field)</code> and <code>getMaximum(field)</code>, when passing the YEAR field (constant value 1) are respectively 1 and 292278994. That means 70403584 is accepted, and -929596416 is not. You told it to be non-lenient. &quot;Lenient&quot; here (the old <code>j.u.Calendar</code> stuff) is mostly a silly concept (trying to define what is acceptable in non-lenient mode is virtually impossible. Various utterly ridiculous dates nevertheless are acceptable even in non-lenient mode).</p>\n<p>We can verify this:</p>\n<pre><code>GregorianCalendar cal = new GregorianCalendar();\ncal.setLenient(false);\ncal.set(Calendar.YEAR, -5);\nSystem.out.println(cal.getTime());\n</code></pre>\n<p>gives you:</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.IllegalArgumentException: YEAR\n    at java.base/java.util.GregorianCalendar.computeTime(GregorianCalendar.java:2609)\n    at java.base/java.util.Calendar.updateTime(Calendar.java:3411)\n    at java.base/java.util.Calendar.getTimeInMillis(Calendar.java:1805)\n    at java.base/java.util.Calendar.getTime(Calendar.java:1776)\n</code></pre>\n<p><strong>THE EXECUTIVE CONCLUSION</strong>: If you were expecting lenient mode to reject these patterns, I have some nasty news for you: non-lenient mode <strong>does not work and never did</strong> and you should not be relying on it. Specifically here, overflows are not checked (you'd think that in non-lenient mode, any overflow of any value means the value is rejected, but, alas), and 2023000000000 so happens to overflow into a ridiculous but nevertheless, acceptable (even in non-lenient) year, whereas 2022000000000 does not.</p>\n<h2>So how do you fix this?</h2>\n<p>You can't. SimpleDateFormat and GregorianCalendar are horrible API and broken implementations. The only fix is to ditch it. Use <code>java.time</code>. Make a new formatter using <code>java.time.DateTimeFormatter</code>, parse this value into a <code>LocalDate</code>, and go from there. You'll solve a whole host of timezone related craziness on the fly, too! (Because <code>java.util.Date</code> is lying and doesn't represent dates. It represents instants, hence why <code>.getYear()</code> and company are deprecated, because you can't ask an instant for a year without a timezone, and Date doesn't have one. Calendar is intricately interwoven with it all - hence, storing dates on one timezone and reading them on another causes wonkiness. LocalDate avoids all that).</p>\n<p>EDIT: As a fellow dutchie, note that the most recent JDKs break the <code>Europe/Amsterdam</code> timezone (grumble grumble OpenJDK team doesn't understand what damage they are causing) - which means any conversion between epoch-millis and base dates is extra problematic for software running in dutch locales. For example, if you are storing birthdates and you dip through conversion like this, <strong>everybody born before 1940 will break</strong> and their birthday will shift by a day. <code>LocalDate</code> avoids this by never storing anything as epoch-millis in the first place.</p>\n"}],"owner":{"account_id":43702,"reputation":15263,"user_id":127863,"accept_rate":93,"display_name":"jqno"},"comment_count":14,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":271,"favorite_count":0,"down_vote_count":1,"up_vote_count":5,"accepted_answer_id":75057035,"answer_count":2,"score":4,"last_activity_date":1673266378,"creation_date":1673263927,"question_id":75056668,"body_markdown":"I&#39;m working with legacy code that tries to parse dates that include an optional time component that&#39;s usually padded with zeroes, using the a format string `ddMMyy` that doesn&#39;t really match the input. In the spirit of true legacy code, nobody ever bothered to clean it up because it accidentally does what it&#39;s supposed to do. Except, in 2023, it no longer does.\r\n\r\nHere&#39;s a (drastically simplified) version of the code:\r\n\r\n```java\r\nimport java.text.ParseException;\r\nimport java.text.SimpleDateFormat;\r\n\r\npublic class WeirdDateFormat {\r\n    public static void main(String...args) throws ParseException {\r\n        var df = new SimpleDateFormat(&quot;ddMMyy&quot;);\r\n        df.setLenient(false);\r\n\r\n        System.out.println(df.parse(&quot;09012023000000000&quot;));\r\n        System.out.println(df.parse(&quot;09012022000000000&quot;));\r\n    }\r\n}\r\n```\r\n\r\nIt prints:\r\n\r\n```\r\nMon Jan 09 00:00:00 CET 70403584\r\nException in thread &quot;main&quot; java.text.ParseException: Unparseable date: &quot;09012022000000000&quot;\r\n\tat java.base/java.text.DateFormat.parse(DateFormat.java:399)\r\n\tat WeirdDateFormat.main(WeirdDateFormat.java:10)\r\n```\r\n\r\nIn other words, the first date (9 January 2023) parses fine, but gives a date with the year 70403584.\r\nThe second date (9 January 2022) fails to parse and throws an exception.\r\n\r\n(If we set lenient to `true`, the second date doesn&#39;t throw but ends up in the year 239492593.)\r\n\r\nWTF is happening here? Why does it sometimes fail to parse, and sometimes not? And where do these bizarre year numbers come from?\r\n\r\n(Found the issue in production running Java 8, but the behaviour on Java 17 is the same.)\r\n\r\n\r\n**EDIT** Yes, I know, I know, I must fix the legacy code. No need to keep telling me, you&#39;re preaching to the choir! Unfortunately, my drastically simplified version of the code doesn&#39;t show you all the other legacy defects of the code base that *also* have to be addressed. I just want to understand what&#39;s going on here so I&#39;ll be better informed when I actually do refactor this code.","title":"SimpleDateFormat succeeds or throws depending on year number","body":"<p>I'm working with legacy code that tries to parse dates that include an optional time component that's usually padded with zeroes, using the a format string <code>ddMMyy</code> that doesn't really match the input. In the spirit of true legacy code, nobody ever bothered to clean it up because it accidentally does what it's supposed to do. Except, in 2023, it no longer does.</p>\n<p>Here's a (drastically simplified) version of the code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.text.ParseException;\nimport java.text.SimpleDateFormat;\n\npublic class WeirdDateFormat {\n    public static void main(String...args) throws ParseException {\n        var df = new SimpleDateFormat(&quot;ddMMyy&quot;);\n        df.setLenient(false);\n\n        System.out.println(df.parse(&quot;09012023000000000&quot;));\n        System.out.println(df.parse(&quot;09012022000000000&quot;));\n    }\n}\n</code></pre>\n<p>It prints:</p>\n<pre><code>Mon Jan 09 00:00:00 CET 70403584\nException in thread &quot;main&quot; java.text.ParseException: Unparseable date: &quot;09012022000000000&quot;\n    at java.base/java.text.DateFormat.parse(DateFormat.java:399)\n    at WeirdDateFormat.main(WeirdDateFormat.java:10)\n</code></pre>\n<p>In other words, the first date (9 January 2023) parses fine, but gives a date with the year 70403584.\nThe second date (9 January 2022) fails to parse and throws an exception.</p>\n<p>(If we set lenient to <code>true</code>, the second date doesn't throw but ends up in the year 239492593.)</p>\n<p>WTF is happening here? Why does it sometimes fail to parse, and sometimes not? And where do these bizarre year numbers come from?</p>\n<p>(Found the issue in production running Java 8, but the behaviour on Java 17 is the same.)</p>\n<p><strong>EDIT</strong> Yes, I know, I know, I must fix the legacy code. No need to keep telling me, you're preaching to the choir! Unfortunately, my drastically simplified version of the code doesn't show you all the other legacy defects of the code base that <em>also</em> have to be addressed. I just want to understand what's going on here so I'll be better informed when I actually do refactor this code.</p>\n"},{"tags":["java","spring-boot","egit","jgit"],"owner":{"account_id":26552899,"reputation":11,"user_id":20181950,"display_name":"Rocky"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673265760,"creation_date":1673265084,"question_id":75056869,"body_markdown":"Hi i created a branch and added some files on that and checked out that branch after that if I try pushing the branch it is not pushed to remote only inital commit gets pushed each and everytime \r\n\r\nHere is the code \r\n```\r\n\r\n    private void remotePush(GitDto gitDto, CredentialsProvider credential, File destination)\r\n    {\r\n        try (Repository repository = repositoryBuilder(destination)) {\r\n            try (Git git = Git.open(destination)) {\r\n                git.checkout().setName(gitDto.getBranchName()).call(); git.commit().setAll(true).setMessage(gitDto.getCommitMessage()).call();\r\n                git.push().setRemote(&quot;origin&quot;).setCredentialsProvider(credential)\r\n                   .setRefSpecs(new RefSpec(gitDto.getBranchName() + &quot;:&quot; + gitDto.getBranchName()))\r\n                    .call();\r\n            } catch (RefNotFoundException e)\r\n            {\r\n                throw new RuntimeException(e);\r\n            }\r\n            catch (RefAlreadyExistsException e)\r\n            {\r\n                throw new RuntimeException(e);\r\n            }\r\n            catch (InvalidRefNameException e)\r\n            {\r\n                throw new RuntimeException(e);\r\n            }\r\n            catch (CheckoutConflictException e)\r\n            {\r\n                throw new RuntimeException(e);\r\n            }\r\n            catch (GitAPIException e) { throw new RuntimeException(e); }\r\n        } catch (IOException e) { throw new RuntimeException(e); }\r\n    }\r\n```\r\nThanks in advance ","title":"Issue while pushing branch into remote (jgit)","body":"<p>Hi i created a branch and added some files on that and checked out that branch after that if I try pushing the branch it is not pushed to remote only inital commit gets pushed each and everytime</p>\n<p>Here is the code</p>\n<pre><code>\n    private void remotePush(GitDto gitDto, CredentialsProvider credential, File destination)\n    {\n        try (Repository repository = repositoryBuilder(destination)) {\n            try (Git git = Git.open(destination)) {\n                git.checkout().setName(gitDto.getBranchName()).call(); git.commit().setAll(true).setMessage(gitDto.getCommitMessage()).call();\n                git.push().setRemote(&quot;origin&quot;).setCredentialsProvider(credential)\n                   .setRefSpecs(new RefSpec(gitDto.getBranchName() + &quot;:&quot; + gitDto.getBranchName()))\n                    .call();\n            } catch (RefNotFoundException e)\n            {\n                throw new RuntimeException(e);\n            }\n            catch (RefAlreadyExistsException e)\n            {\n                throw new RuntimeException(e);\n            }\n            catch (InvalidRefNameException e)\n            {\n                throw new RuntimeException(e);\n            }\n            catch (CheckoutConflictException e)\n            {\n                throw new RuntimeException(e);\n            }\n            catch (GitAPIException e) { throw new RuntimeException(e); }\n        } catch (IOException e) { throw new RuntimeException(e); }\n    }\n</code></pre>\n<p>Thanks in advance</p>\n"},{"tags":["java","android","xml","scaling","proportions"],"owner":{"account_id":27471919,"reputation":57,"user_id":20960654,"display_name":"Marfog509"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673265663,"creation_date":1673263662,"question_id":75056617,"body_markdown":"I am trying to create a calculator app on android studio but I can&#39;t figure out how to adjust the numbers which users types into the calculator and which are shown on their screen according to their screen size. I want the numbers to have enough space for longer equations and also for everything to look proportional. I have tried adding textview autosize to my code:\r\n\r\n\r\n```\r\napp:autoSizeTextType=&quot;uniform&quot;\r\n        app:autoSizeMinTextSize=&quot;12sp&quot;\r\n        app:autoSizeMaxTextSize=&quot;55sp&quot;\r\n        android:autoSizeStepGranularity=&quot;2sp&quot;\r\n```\r\n\r\nbut this does not adjust the text size according to the screen size. \r\n\r\nWhat is the most appropriate code to add to my app to solve this problem?\r\n\r\nHere is the code for my output section.\r\n\r\n\r\n```\r\n&lt;TextView\r\n        android:id=&quot;@+id/tvmain&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;0dp&quot;\r\n        android:background=&quot;#000&quot;\r\n        android:text=&quot;&quot;\r\n        android:textColor=&quot;#fff&quot;\r\n        app:autoSizeTextType=&quot;uniform&quot;\r\n        app:autoSizeMinTextSize=&quot;12sp&quot;\r\n        app:autoSizeMaxTextSize=&quot;55sp&quot;\r\n        android:autoSizeStepGranularity=&quot;2sp&quot;\r\n        android:textAlignment=&quot;viewEnd&quot;\r\n        android:padding=&quot;10dp&quot;\r\n        android:gravity=&quot;bottom&quot;\r\n        android:maxLines=&quot;1&quot;\r\n        android:layout_weight=&quot;2&quot;&gt;\r\n        \r\n\r\n    &lt;/TextView&gt;\r\n```\r\n\r\n\r\nIf anymore information is needed to help me in solving this problem then please let me know.","title":"How do I scale text according to screen size in android studio?","body":"<p>I am trying to create a calculator app on android studio but I can't figure out how to adjust the numbers which users types into the calculator and which are shown on their screen according to their screen size. I want the numbers to have enough space for longer equations and also for everything to look proportional. I have tried adding textview autosize to my code:</p>\n<pre><code>app:autoSizeTextType=&quot;uniform&quot;\n        app:autoSizeMinTextSize=&quot;12sp&quot;\n        app:autoSizeMaxTextSize=&quot;55sp&quot;\n        android:autoSizeStepGranularity=&quot;2sp&quot;\n</code></pre>\n<p>but this does not adjust the text size according to the screen size.</p>\n<p>What is the most appropriate code to add to my app to solve this problem?</p>\n<p>Here is the code for my output section.</p>\n<pre><code>&lt;TextView\n        android:id=&quot;@+id/tvmain&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;0dp&quot;\n        android:background=&quot;#000&quot;\n        android:text=&quot;&quot;\n        android:textColor=&quot;#fff&quot;\n        app:autoSizeTextType=&quot;uniform&quot;\n        app:autoSizeMinTextSize=&quot;12sp&quot;\n        app:autoSizeMaxTextSize=&quot;55sp&quot;\n        android:autoSizeStepGranularity=&quot;2sp&quot;\n        android:textAlignment=&quot;viewEnd&quot;\n        android:padding=&quot;10dp&quot;\n        android:gravity=&quot;bottom&quot;\n        android:maxLines=&quot;1&quot;\n        android:layout_weight=&quot;2&quot;&gt;\n        \n\n    &lt;/TextView&gt;\n</code></pre>\n<p>If anymore information is needed to help me in solving this problem then please let me know.</p>\n"},{"tags":["java","multithreading","concurrency","java-threads"],"comments":[{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1673259617,"post_id":75055627,"comment_id":132450131,"body_markdown":"There’s no sense in creating new threads manually, only to call `executor.submit(…);` The purpose of `submit` is to execute the task according to the executor’s policy, e.g. to run the task in another thread of a thread pool. Wrapping the `submit` call in another thread is a waste of resources. Just execute the `submit` calls directy.","body":"There’s no sense in creating new threads manually, only to call <code>executor.submit(…);</code> The purpose of <code>submit</code> is to execute the task according to the executor’s policy, e.g. to run the task in another thread of a thread pool. Wrapping the <code>submit</code> call in another thread is a waste of resources. Just execute the <code>submit</code> calls directy."},{"owner":{"account_id":25288091,"reputation":33,"user_id":19114669,"display_name":"Jetski111"},"score":0,"creation_date":1673263551,"post_id":75055627,"comment_id":132451404,"body_markdown":"@Holger new threads will be coming in randomly from clients. This was to simulate that.","body":"@Holger new threads will be coming in randomly from clients. This was to simulate that."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1673263754,"post_id":75055627,"comment_id":132451475,"body_markdown":"Don’t use the word “thread” when you mean “task” or “job”. You don’t not submit threads to an executor, you submit `Runnable`s which encapsulate a task. The `executor` decides how to map the tasks to threads. The caller thread of the `submit` call is entirely irrelevant.","body":"Don’t use the word “thread” when you mean “task” or “job”. You don’t not submit threads to an executor, you submit <code>Runnable</code>s which encapsulate a task. The <code>executor</code> decides how to map the tasks to threads. The caller thread of the <code>submit</code> call is entirely irrelevant."},{"owner":{"account_id":25288091,"reputation":33,"user_id":19114669,"display_name":"Jetski111"},"score":0,"creation_date":1673264016,"post_id":75055627,"comment_id":132451562,"body_markdown":"@Holger Is a task not on a separate thread...? I&#39;m unsure how this is even relevant towards my question?","body":"@Holger Is a task not on a separate thread...? I&#39;m unsure how this is even relevant towards my question?"},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1673264611,"post_id":75055627,"comment_id":132451767,"body_markdown":"It depends on the particular executor, how each job maps to a thread. You entire question is based on the assumption that *not* every task gets a separate thread but that there are *less* threads than tasks (otherwise, there would be no problem in blocking threads). This is indeed not the most important aspect of the question, but using the right terms may be helpful for future readers.","body":"It depends on the particular executor, how each job maps to a thread. You entire question is based on the assumption that <i>not</i> every task gets a separate thread but that there are <i>less</i> threads than tasks (otherwise, there would be no problem in blocking threads). This is indeed not the most important aspect of the question, but using the right terms may be helpful for future readers."},{"owner":{"account_id":25288091,"reputation":33,"user_id":19114669,"display_name":"Jetski111"},"score":0,"creation_date":1673265295,"post_id":75055627,"comment_id":132451984,"body_markdown":"@Holger if it seems as though I am making that assumption. It is simply because I don&#39;t know how to explain the issue myself. Did my edit explain it better?","body":"@Holger if it seems as though I am making that assumption. It is simply because I don&#39;t know how to explain the issue myself. Did my edit explain it better?"},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1673268912,"post_id":75055627,"comment_id":132453269,"body_markdown":"Yes, that’s better. I hope, the answer helps you. Let me know if there’s still a problem.","body":"Yes, that’s better. I hope, the answer helps you. Let me know if there’s still a problem."},{"owner":{"account_id":25288091,"reputation":33,"user_id":19114669,"display_name":"Jetski111"},"score":0,"creation_date":1673269809,"post_id":75055627,"comment_id":132453613,"body_markdown":"@Holger it helped me and I have already implemented the ideas into my project. I thank you very much","body":"@Holger it helped me and I have already implemented the ideas into my project. I thank you very much"}],"answers":[{"comments":[{"owner":{"account_id":25288091,"reputation":33,"user_id":19114669,"display_name":"Jetski111"},"score":0,"creation_date":1673265111,"post_id":75056757,"comment_id":132451913,"body_markdown":"Beautiful. I had tried something similar to this, but wasn&#39;t using the `ConcurrentHashMap` I will definitely do some more reading on this.","body":"Beautiful. I had tried something similar to this, but wasn&#39;t using the <code>ConcurrentHashMap</code> I will definitely do some more reading on this."}],"tags":[],"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1673264446,"creation_date":1673264446,"answer_id":75056757,"question_id":75055627,"body_markdown":"To avoid blocking a thread, you have to ensure that the action doesn’t even run before the other. For example, you can use a `CompletableFuture` to chain an action, to be scheduled when the previous has been completed:\r\n\r\n```java\r\npublic static void main(String[] args) {\r\n    ExecutorService es = Executors.newFixedThreadPool(2);\r\n    for(int i = 0; i &lt; 5; i++) submit(&quot;one&quot;, task(&quot;one&quot;), es);\r\n    for(int i = 0; i &lt; 5; i++) submit(&quot;two&quot;, task(&quot;two&quot;), es);\r\n    LockSupport.parkNanos(TimeUnit.SECONDS.toNanos(26));\r\n    es.shutdown();\r\n}\r\n\r\nstatic Runnable task(String x) {\r\n    return () -&gt; {\r\n        System.out.println(x);\r\n        LockSupport.parkNanos(TimeUnit.SECONDS.toNanos(5));\r\n    };\r\n}\r\n\r\nstatic final ConcurrentHashMap&lt;String, CompletableFuture&lt;Void&gt;&gt; MAP\r\n    = new ConcurrentHashMap&lt;&gt;();\r\n\r\nstatic final void submit(String key, Runnable task, Executor e) {\r\n    CompletableFuture&lt;Void&gt; job = MAP.compute(key,\r\n        (k, previous) -&gt; previous != null?\r\n            previous.thenRunAsync(task, e): CompletableFuture.runAsync(task, e));\r\n    job.whenComplete((v,t) -&gt; MAP.remove(key, job));\r\n}\r\n```\r\n\r\nThe `ConcurrentHashMap` allows us to handle the cases as atomic updates\r\n\r\n - If no previous future exists for a key, just schedule the action, creating the future\r\n\r\n - If a previous future exists, chain the action, to be scheduled when the previous completed; the dependent action becomes the new future\r\n\r\n - If a job completed, the two-arg `remove(key, job)` will remove it if and only if it is still the current job\r\n\r\nThe example in the `main` method demonstrates how two independent actions can run with a thread pool of two threads, never blocking at thread.\r\n","title":"Prevent thread blocking queued threads","body":"<p>To avoid blocking a thread, you have to ensure that the action doesn’t even run before the other. For example, you can use a <code>CompletableFuture</code> to chain an action, to be scheduled when the previous has been completed:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] args) {\n    ExecutorService es = Executors.newFixedThreadPool(2);\n    for(int i = 0; i &lt; 5; i++) submit(&quot;one&quot;, task(&quot;one&quot;), es);\n    for(int i = 0; i &lt; 5; i++) submit(&quot;two&quot;, task(&quot;two&quot;), es);\n    LockSupport.parkNanos(TimeUnit.SECONDS.toNanos(26));\n    es.shutdown();\n}\n\nstatic Runnable task(String x) {\n    return () -&gt; {\n        System.out.println(x);\n        LockSupport.parkNanos(TimeUnit.SECONDS.toNanos(5));\n    };\n}\n\nstatic final ConcurrentHashMap&lt;String, CompletableFuture&lt;Void&gt;&gt; MAP\n    = new ConcurrentHashMap&lt;&gt;();\n\nstatic final void submit(String key, Runnable task, Executor e) {\n    CompletableFuture&lt;Void&gt; job = MAP.compute(key,\n        (k, previous) -&gt; previous != null?\n            previous.thenRunAsync(task, e): CompletableFuture.runAsync(task, e));\n    job.whenComplete((v,t) -&gt; MAP.remove(key, job));\n}\n</code></pre>\n<p>The <code>ConcurrentHashMap</code> allows us to handle the cases as atomic updates</p>\n<ul>\n<li><p>If no previous future exists for a key, just schedule the action, creating the future</p>\n</li>\n<li><p>If a previous future exists, chain the action, to be scheduled when the previous completed; the dependent action becomes the new future</p>\n</li>\n<li><p>If a job completed, the two-arg <code>remove(key, job)</code> will remove it if and only if it is still the current job</p>\n</li>\n</ul>\n<p>The example in the <code>main</code> method demonstrates how two independent actions can run with a thread pool of two threads, never blocking at thread.</p>\n"}],"owner":{"account_id":25288091,"reputation":33,"user_id":19114669,"display_name":"Jetski111"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":178,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":75056757,"answer_count":1,"score":3,"last_activity_date":1673265451,"creation_date":1673258395,"question_id":75055627,"body_markdown":"I have a task that will run many times with different values. I&#39;d like to prevent it from executing 2 of the same tasks (Based on the string value) at the same time. Below is an example of the strings. These values will change, but for simplicity I have included these values below in the example. I submit these tasks via an `ExecutorService` The tasks run, but the 2nd hi blocks the other tasks from running. So 4/5 tasks run concurrently. Once the lock is released from the first hi the 5th tasks continues and the other tasks continue fine. Is there a way to prevent this type of blocking of the task so that the other 3 tasks can run before it so there is no queuing until there is actually 5 tasks running concurrently. \r\n\r\nSubmission of the tasks:\r\n\r\n```\r\nexecutor.submit(new Task(&quot;hi&quot;));\r\nexecutor.submit(new Task(&quot;h&quot;));\r\nexecutor.submit(new Task(&quot;u&quot;));\r\nexecutor.submit(new Task(&quot;y&quot;));\r\nexecutor.submit(new Task(&quot;hi&quot;));\r\nexecutor.submit(new Task(&quot;p&quot;));\r\nexecutor.submit(new Task(&quot;o&quot;));\r\nexecutor.submit(new Task(&quot;bb&quot;));\r\n```\r\nThe Task is simple. It just prints out the string:\r\n```\r\nLock l = getLock(x);\r\ntry {\r\nl.lock();\r\n\r\nSystem.out.println(x);\r\n\r\ntry {\r\nThread.sleep(5000);\r\n} catch (InterruptedException ex) {\r\nLogger.getLogger(Task.class.getName()).log(Level.SEVERE, null, ex);\r\n}\r\n\r\n} finally {\r\nl.unlock();\r\n\r\n}\r\n```\r\n\r\n\r\nI&#39;ve updated the post to allow for things to be more clearly understood... ","title":"Prevent thread blocking queued threads","body":"<p>I have a task that will run many times with different values. I'd like to prevent it from executing 2 of the same tasks (Based on the string value) at the same time. Below is an example of the strings. These values will change, but for simplicity I have included these values below in the example. I submit these tasks via an <code>ExecutorService</code> The tasks run, but the 2nd hi blocks the other tasks from running. So 4/5 tasks run concurrently. Once the lock is released from the first hi the 5th tasks continues and the other tasks continue fine. Is there a way to prevent this type of blocking of the task so that the other 3 tasks can run before it so there is no queuing until there is actually 5 tasks running concurrently.</p>\n<p>Submission of the tasks:</p>\n<pre><code>executor.submit(new Task(&quot;hi&quot;));\nexecutor.submit(new Task(&quot;h&quot;));\nexecutor.submit(new Task(&quot;u&quot;));\nexecutor.submit(new Task(&quot;y&quot;));\nexecutor.submit(new Task(&quot;hi&quot;));\nexecutor.submit(new Task(&quot;p&quot;));\nexecutor.submit(new Task(&quot;o&quot;));\nexecutor.submit(new Task(&quot;bb&quot;));\n</code></pre>\n<p>The Task is simple. It just prints out the string:</p>\n<pre><code>Lock l = getLock(x);\ntry {\nl.lock();\n\nSystem.out.println(x);\n\ntry {\nThread.sleep(5000);\n} catch (InterruptedException ex) {\nLogger.getLogger(Task.class.getName()).log(Level.SEVERE, null, ex);\n}\n\n} finally {\nl.unlock();\n\n}\n</code></pre>\n<p>I've updated the post to allow for things to be more clearly understood...</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":732315,"reputation":4996,"user_id":681444,"display_name":"racraman"},"score":0,"creation_date":1673219046,"post_id":75051835,"comment_id":132443250,"body_markdown":"In think we need see the code for QuizIntent - but also, is it intentional that you `putExtra(&quot;TRANSFER_NUMBER&quot;` but `getIntExtra(&quot;EXTRA_NUMBER&quot;` ?","body":"In think we need see the code for QuizIntent - but also, is it intentional that you <code>putExtra(&quot;TRANSFER_NUMBER&quot;</code> but <code>getIntExtra(&quot;EXTRA_NUMBER&quot;</code> ?"},{"owner":{"account_id":27471957,"reputation":1,"user_id":20960684,"display_name":"kanna"},"score":0,"creation_date":1673233964,"post_id":75051835,"comment_id":132445005,"body_markdown":"@racraman sorry i got confused, both are the same `&quot;TRANSFER_NUMBER&quot;`  also do you mean the intent or the whole code for the first activity?","body":"@racraman sorry i got confused, both are the same <code>&quot;TRANSFER_NUMBER&quot;</code>  also do you mean the intent or the whole code for the first activity?"},{"owner":{"account_id":732315,"reputation":4996,"user_id":681444,"display_name":"racraman"},"score":0,"creation_date":1673235646,"post_id":75051835,"comment_id":132445201,"body_markdown":"The Intent Class - certainly the putExtra and getIntExtra methodd …. But hold on, in first activity, you have `Intent quizIntent = new Intent`, but you never store that `quizIntent` anywhere - so there’s no way that seconds Activity can be referring to the same instance.","body":"The Intent Class - certainly the putExtra and getIntExtra methodd …. But hold on, in first activity, you have <code>Intent quizIntent = new Intent</code>, but you never store that <code>quizIntent</code> anywhere - so there’s no way that seconds Activity can be referring to the same instance."},{"owner":{"account_id":16001900,"reputation":328,"user_id":11548316,"display_name":"Preston"},"score":0,"creation_date":1673251474,"post_id":75051835,"comment_id":132447708,"body_markdown":"This link (https://stackoverflow.com/questions/2091465/how-do-i-pass-data-between-activities-in-android-application) should help you.","body":"This link (<a href=\"https://stackoverflow.com/questions/2091465/how-do-i-pass-data-between-activities-in-android-application\" title=\"how do i pass data between activities in android application\">stackoverflow.com/questions/2091465/&hellip;</a>) should help you."},{"owner":{"account_id":27471957,"reputation":1,"user_id":20960684,"display_name":"kanna"},"score":0,"creation_date":1673272584,"post_id":75051835,"comment_id":132454794,"body_markdown":"@racraman thank you so much, i finally fixed the problem..","body":"@racraman thank you so much, i finally fixed the problem.."}],"answers":[{"tags":[],"owner":{"account_id":26855967,"reputation":2351,"user_id":20440272,"display_name":"Sohaib Ahmed"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673262632,"creation_date":1673262632,"answer_id":75056423,"question_id":75051835,"body_markdown":"Update this\r\n\r\n    Intent quizIntent = new Intent(QuizSecond.this, ComputeActivity.class);\r\n    quizIntent.putExtra(&quot;TRANSFER_NUMBER&quot;, score);\r\n    startActivity(quizIntent);\r\n","title":"How can I transfer integer value from one activity to another?","body":"<p>Update this</p>\n<pre><code>Intent quizIntent = new Intent(QuizSecond.this, ComputeActivity.class);\nquizIntent.putExtra(&quot;TRANSFER_NUMBER&quot;, score);\nstartActivity(quizIntent);\n</code></pre>\n"}],"owner":{"account_id":27471957,"reputation":1,"user_id":20960684,"display_name":"kanna"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":77,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1673265406,"creation_date":1673218033,"question_id":75051835,"body_markdown":"i&#39;m trying to compile 4 integers from 4 different activities. the first activity is one of the 4 integer. the second activity is where i compile them.. I don&#39;t know what&#39;s the best way to send a value from different activites. Most of the intent methods i saw uses startActivity but still won&#39;t work.\r\n\r\n    public class QuizSecond extends AppCompatActivity implements View.OnClickListener{\r\n    TextView totalQuestionsTextView2;\r\n    TextView questionTextView2;\r\n    Button ansA2, ansB2, ansC2, ansD2;\r\n    Button submitBtn2;\r\n    int score= 0;\r\n    int totalQuestion2 = QuestionAnswer2.question2.length;\r\n    int currentQuestionIndex2 = 0;\r\n    String selectedAnswer2 = &quot;&quot;;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_quiz_second);\r\n\r\n        totalQuestionsTextView2 = findViewById(R.id.total_question2);\r\n        questionTextView2 = findViewById(R.id.question_preview);\r\n        ansA2 = findViewById(R.id.ans_A2);\r\n        ansB2 = findViewById(R.id.ans_B2);\r\n        ansC2 = findViewById(R.id.ans_C2);\r\n        ansD2 = findViewById(R.id.ans_D2);\r\n        submitBtn2 = findViewById(R.id.submit_btn2);\r\n\r\n        ansA2.setOnClickListener(this);\r\n        ansB2.setOnClickListener(this);\r\n        ansC2.setOnClickListener(this);\r\n        ansD2.setOnClickListener(this);\r\n        submitBtn2.setOnClickListener(this);\r\n\r\n        totalQuestionsTextView2.setText(&quot;Total questions : &quot;+totalQuestion2);\r\n        loadNewQuestion();\r\n\r\n    }\r\n\r\n    @Override\r\n    public void onClick(View view) {\r\n\r\n        ansA2.setBackgroundColor(Color.WHITE);\r\n        ansB2.setBackgroundColor(Color.WHITE);\r\n        ansC2.setBackgroundColor(Color.WHITE);\r\n        ansD2.setBackgroundColor(Color.WHITE);\r\n\r\n        Button clickedButton = (Button) view;\r\n        if(clickedButton.getId()==R.id.submit_btn2){\r\n            if(selectedAnswer2.equals(QuestionAnswer2.correctAnswers2[currentQuestionIndex2])) {\r\n                score++;\r\n\r\n\r\n            }\r\n            currentQuestionIndex2++;\r\n            loadNewQuestion();\r\n\r\n\r\n            Intent quizIntent = new Intent(QuizSecond.this,ComputeActivity.class);\r\n            quizIntent.putExtra(&quot;EXTRA_NUMBER&quot;,score);\r\n\r\n\r\n\r\n        }\r\n        else{\r\n            //choices button clicked\r\n            selectedAnswer2  = clickedButton.getText().toString();\r\n            clickedButton.setBackgroundColor(Color.MAGENTA);\r\n\r\n        }\r\n\r\n    }\r\n\r\n    void loadNewQuestion(){\r\n\r\n        if(currentQuestionIndex2 == totalQuestion2 ){\r\n            startActivity(new Intent(QuizSecond.this, ComputeActivity.class));\r\n\r\n            return;\r\n        }\r\n\r\n        questionTextView2.setText(QuestionAnswer2.question2[currentQuestionIndex2]);\r\n        ansA2.setText(QuestionAnswer2.choices2[currentQuestionIndex2][0]);\r\n        ansB2.setText(QuestionAnswer2.choices2[currentQuestionIndex2][1]);\r\n        ansC2.setText(QuestionAnswer2.choices2[currentQuestionIndex2][2]);\r\n        ansD2.setText(QuestionAnswer2.choices2[currentQuestionIndex2][3]);\r\n\r\n    }\r\n\r\n\r\n\r\n}\r\n\r\nsecond activity:\r\n\r\n\r\n`int number = getIntent().getIntExtra(&quot;EXTRA_NUMBER&quot;,0);\r\nif (number &gt; 3){\r\nToast.makeText(ComputeActivity.this,\r\n&quot;Your Message&quot;, Toast.LENGHT_LONG).show();}`","title":"How can I transfer integer value from one activity to another?","body":"<p>i'm trying to compile 4 integers from 4 different activities. the first activity is one of the 4 integer. the second activity is where i compile them.. I don't know what's the best way to send a value from different activites. Most of the intent methods i saw uses startActivity but still won't work.</p>\n<pre><code>public class QuizSecond extends AppCompatActivity implements View.OnClickListener{\nTextView totalQuestionsTextView2;\nTextView questionTextView2;\nButton ansA2, ansB2, ansC2, ansD2;\nButton submitBtn2;\nint score= 0;\nint totalQuestion2 = QuestionAnswer2.question2.length;\nint currentQuestionIndex2 = 0;\nString selectedAnswer2 = &quot;&quot;;\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_quiz_second);\n\n    totalQuestionsTextView2 = findViewById(R.id.total_question2);\n    questionTextView2 = findViewById(R.id.question_preview);\n    ansA2 = findViewById(R.id.ans_A2);\n    ansB2 = findViewById(R.id.ans_B2);\n    ansC2 = findViewById(R.id.ans_C2);\n    ansD2 = findViewById(R.id.ans_D2);\n    submitBtn2 = findViewById(R.id.submit_btn2);\n\n    ansA2.setOnClickListener(this);\n    ansB2.setOnClickListener(this);\n    ansC2.setOnClickListener(this);\n    ansD2.setOnClickListener(this);\n    submitBtn2.setOnClickListener(this);\n\n    totalQuestionsTextView2.setText(&quot;Total questions : &quot;+totalQuestion2);\n    loadNewQuestion();\n\n}\n\n@Override\npublic void onClick(View view) {\n\n    ansA2.setBackgroundColor(Color.WHITE);\n    ansB2.setBackgroundColor(Color.WHITE);\n    ansC2.setBackgroundColor(Color.WHITE);\n    ansD2.setBackgroundColor(Color.WHITE);\n\n    Button clickedButton = (Button) view;\n    if(clickedButton.getId()==R.id.submit_btn2){\n        if(selectedAnswer2.equals(QuestionAnswer2.correctAnswers2[currentQuestionIndex2])) {\n            score++;\n\n\n        }\n        currentQuestionIndex2++;\n        loadNewQuestion();\n\n\n        Intent quizIntent = new Intent(QuizSecond.this,ComputeActivity.class);\n        quizIntent.putExtra(&quot;EXTRA_NUMBER&quot;,score);\n\n\n\n    }\n    else{\n        //choices button clicked\n        selectedAnswer2  = clickedButton.getText().toString();\n        clickedButton.setBackgroundColor(Color.MAGENTA);\n\n    }\n\n}\n\nvoid loadNewQuestion(){\n\n    if(currentQuestionIndex2 == totalQuestion2 ){\n        startActivity(new Intent(QuizSecond.this, ComputeActivity.class));\n\n        return;\n    }\n\n    questionTextView2.setText(QuestionAnswer2.question2[currentQuestionIndex2]);\n    ansA2.setText(QuestionAnswer2.choices2[currentQuestionIndex2][0]);\n    ansB2.setText(QuestionAnswer2.choices2[currentQuestionIndex2][1]);\n    ansC2.setText(QuestionAnswer2.choices2[currentQuestionIndex2][2]);\n    ansD2.setText(QuestionAnswer2.choices2[currentQuestionIndex2][3]);\n\n}\n</code></pre>\n<p>}</p>\n<p>second activity:</p>\n<p><code>int number = getIntent().getIntExtra(&quot;EXTRA_NUMBER&quot;,0); if (number &gt; 3){ Toast.makeText(ComputeActivity.this, &quot;Your Message&quot;, Toast.LENGHT_LONG).show();}</code></p>\n"},{"tags":["java","csv","apache-tika","file-type","probe"],"comments":[{"owner":{"account_id":350017,"reputation":47555,"user_id":685641,"display_name":"Gagravarr"},"score":0,"creation_date":1509042289,"post_id":46960231,"comment_id":80870003,"body_markdown":"You&#39;re loosing the file name, creating objects you don&#39;t need, and generally being overly complicated! Why not just do [Tika.detect(File)](http://tika.apache.org/1.16/api/org/apache/tika/Tika.html#detect-java.io.File-) ?","body":"You&#39;re loosing the file name, creating objects you don&#39;t need, and generally being overly complicated! Why not just do <a href=\"http://tika.apache.org/1.16/api/org/apache/tika/Tika.html#detect-java.io.File-\" rel=\"nofollow noreferrer\">Tika.detect(File)</a> ?"},{"owner":{"account_id":3163862,"reputation":36940,"user_id":2674303,"accept_rate":62,"display_name":"gstackoverflow"},"score":3,"creation_date":1509048679,"post_id":46960231,"comment_id":80873720,"body_markdown":"@Gagravarr, **System.out.println(new Tika().detect(inputStream));** returns **text/plain**","body":"@Gagravarr, <b>System.out.println(new Tika().detect(inputStream));</b> returns <b>text/plain</b>"},{"owner":{"account_id":3163862,"reputation":36940,"user_id":2674303,"accept_rate":62,"display_name":"gstackoverflow"},"score":2,"creation_date":1509049367,"post_id":46960231,"comment_id":80874068,"body_markdown":"@Gagravarr I don&#39;t want to provide name because if I rename foo.txt  with foo.csv - tika thinks that it csv","body":"@Gagravarr I don&#39;t want to provide name because if I rename foo.txt  with foo.csv - tika thinks that it csv"},{"owner":{"account_id":350017,"reputation":47555,"user_id":685641,"display_name":"Gagravarr"},"score":2,"creation_date":1509107946,"post_id":46960231,"comment_id":80897861,"body_markdown":"There&#39;s no way to tell the difference between a CSV and a TXT other than by filename though!","body":"There&#39;s no way to tell the difference between a CSV and a TXT other than by filename though!"},{"owner":{"account_id":6428583,"reputation":6399,"user_id":4982691,"display_name":"jumping_monkey"},"score":0,"creation_date":1668129995,"post_id":46960231,"comment_id":131337392,"body_markdown":"Hi @gstackoverflow, what did you end you doing? What the `text/plain` good enough to detect a csv file?","body":"Hi @gstackoverflow, what did you end you doing? What the <code>text&#47;plain</code> good enough to detect a csv file?"},{"owner":{"account_id":1275353,"reputation":1052,"user_id":1230748,"accept_rate":29,"display_name":"dcalap"},"score":1,"creation_date":1673265200,"post_id":46960231,"comment_id":132451947,"body_markdown":"@jumping_monkey I&#39;ve added an answer with the current Apache Tika version. Hope it helps","body":"@jumping_monkey I&#39;ve added an answer with the current Apache Tika version. Hope it helps"}],"answers":[{"tags":[],"owner":{"account_id":3034727,"reputation":21,"user_id":2573083,"display_name":"Anbu Chinna"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1583319348,"creation_date":1583319348,"answer_id":60524467,"question_id":46960231,"body_markdown":"Try this...\r\n\r\n    public static String checkThatMimeTypeIsCsv(String fileName ) throws Exception {\r\n        File sourceFile = new File(fileName );\r\n        DefaultDetector file_detector = new DefaultDetector();\r\n        TikaInputStream file_stream = TikaInputStream.get(sourceFile);\r\n        Metadata metadata = new Metadata();\r\n        metadata.set(Metadata.RESOURCE_NAME_KEY, sourceFile.getName());\r\n        MediaType mediaType = file_detector.detect(file_stream, metadata);            \t\r\n        String file_type = mediaType.toString();\r\n        System.out.println(file_type);\r\n        return file_type;\r\n    }","title":"Apache tika detects mime-type incorrectly for csv","body":"<p>Try this...</p>\n\n<pre><code>public static String checkThatMimeTypeIsCsv(String fileName ) throws Exception {\n    File sourceFile = new File(fileName );\n    DefaultDetector file_detector = new DefaultDetector();\n    TikaInputStream file_stream = TikaInputStream.get(sourceFile);\n    Metadata metadata = new Metadata();\n    metadata.set(Metadata.RESOURCE_NAME_KEY, sourceFile.getName());\n    MediaType mediaType = file_detector.detect(file_stream, metadata);              \n    String file_type = mediaType.toString();\n    System.out.println(file_type);\n    return file_type;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1275353,"reputation":1052,"user_id":1230748,"accept_rate":29,"display_name":"dcalap"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1673264913,"creation_date":1673264913,"answer_id":75056841,"question_id":46960231,"body_markdown":"Here is an example of how to do it with [Apache Tika 2.6.0][1] (current version at this moment)\r\n\r\n```java\r\n// Read a CSV file.       \r\nFile file = new File(&quot;src/test/resources/testcsv/entities.csv&quot;);\r\nString csvContent = Files.readString(file.toPath());\r\n\r\nInputStream is = new FileInputStream(file);\r\nBufferedInputStream bufferedInputStream = new BufferedInputStream(is);\r\n\r\n// Prepare Tika data for detection\r\nMetadata metadata = new Metadata();\r\nmetadata.set(TikaCoreProperties.RESOURCE_NAME_KEY, file.getFilename());\r\n\r\nString detectedMimeType = MimeTypes.getDefaultMimeTypes().detect(bufferedInputStream, metadata).toString();\r\nassertEquals(&quot;text/csv&quot;, detectedMimeType);\r\n```\r\n\r\nFor a no real CSV file but trying to fake the extension:\r\n\r\n```java\r\n// Read a file that is not a CSV. I&#39;ve downloaded  https://upload.wikimedia.org/wikipedia/commons/7/74/Apache_Tika_Logo.svg and renamed to &#39;.csv&#39; extension for the test        \r\nFile file = new File(&quot;src/test/resources/testcsv/Apache_Tika_Logo.csv&quot;);\r\nString csvContent = Files.readString(file.toPath());\r\n\r\nInputStream is = new FileInputStream(file);\r\nBufferedInputStream bufferedInputStream = new BufferedInputStream(is);\r\n\r\n// Prepare Tika data for detection\r\nMetadata metadata = new Metadata();\r\nmetadata.set(TikaCoreProperties.RESOURCE_NAME_KEY, file.getFilename());\r\n\r\nString detectedMimeType = MimeTypes.getDefaultMimeTypes().detect(bufferedInputStream, metadata).toString();\r\nassertNotEquals(&quot;text/csv&quot;, detectedMimeType);\r\n```\r\n\r\nThe output of the `detectedMimeType` variable in the example file is `image/svg+xml`\r\n\r\n\r\n  [1]: https://tika.apache.org/2.6.0/index.html","title":"Apache tika detects mime-type incorrectly for csv","body":"<p>Here is an example of how to do it with <a href=\"https://tika.apache.org/2.6.0/index.html\" rel=\"nofollow noreferrer\">Apache Tika 2.6.0</a> (current version at this moment)</p>\n<pre class=\"lang-java prettyprint-override\"><code>// Read a CSV file.       \nFile file = new File(&quot;src/test/resources/testcsv/entities.csv&quot;);\nString csvContent = Files.readString(file.toPath());\n\nInputStream is = new FileInputStream(file);\nBufferedInputStream bufferedInputStream = new BufferedInputStream(is);\n\n// Prepare Tika data for detection\nMetadata metadata = new Metadata();\nmetadata.set(TikaCoreProperties.RESOURCE_NAME_KEY, file.getFilename());\n\nString detectedMimeType = MimeTypes.getDefaultMimeTypes().detect(bufferedInputStream, metadata).toString();\nassertEquals(&quot;text/csv&quot;, detectedMimeType);\n</code></pre>\n<p>For a no real CSV file but trying to fake the extension:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// Read a file that is not a CSV. I've downloaded  https://upload.wikimedia.org/wikipedia/commons/7/74/Apache_Tika_Logo.svg and renamed to '.csv' extension for the test        \nFile file = new File(&quot;src/test/resources/testcsv/Apache_Tika_Logo.csv&quot;);\nString csvContent = Files.readString(file.toPath());\n\nInputStream is = new FileInputStream(file);\nBufferedInputStream bufferedInputStream = new BufferedInputStream(is);\n\n// Prepare Tika data for detection\nMetadata metadata = new Metadata();\nmetadata.set(TikaCoreProperties.RESOURCE_NAME_KEY, file.getFilename());\n\nString detectedMimeType = MimeTypes.getDefaultMimeTypes().detect(bufferedInputStream, metadata).toString();\nassertNotEquals(&quot;text/csv&quot;, detectedMimeType);\n</code></pre>\n<p>The output of the <code>detectedMimeType</code> variable in the example file is <code>image/svg+xml</code></p>\n"}],"owner":{"account_id":3163862,"reputation":36940,"user_id":2674303,"accept_rate":62,"display_name":"gstackoverflow"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2677,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":2,"score":4,"last_activity_date":1673264913,"creation_date":1509038322,"question_id":46960231,"body_markdown":"I&#39;ve created `.csv` file using excel and I wrote following code using apache tika:\r\n\r\n    public static boolean checkThatMimeTypeIsCsv(InputStream inputStream) throws IOException {\r\n        BufferedInputStream bis = new BufferedInputStream(inputStream);\r\n        AutoDetectParser parser = new AutoDetectParser();\r\n        Detector detector = parser.getDetector();\r\n        Metadata md = new Metadata();\r\n        MediaType mediaType = detector.detect(bis, md);\r\n        return &quot;text/csv&quot;.equals(mediaType.toString());\r\n    }\r\n    \r\n    public static void main(String[] args) throws IOException {\r\n        System.out.println(checkThatMimeTypeIsCsv(new FileInputStream(&quot;Data.csv&quot;)));\r\n    }\r\n\r\nBut it returns `false`&#39;.\r\n\r\nDoes Tika so bad or I missed something?","title":"Apache tika detects mime-type incorrectly for csv","body":"<p>I've created <code>.csv</code> file using excel and I wrote following code using apache tika:</p>\n\n<pre><code>public static boolean checkThatMimeTypeIsCsv(InputStream inputStream) throws IOException {\n    BufferedInputStream bis = new BufferedInputStream(inputStream);\n    AutoDetectParser parser = new AutoDetectParser();\n    Detector detector = parser.getDetector();\n    Metadata md = new Metadata();\n    MediaType mediaType = detector.detect(bis, md);\n    return \"text/csv\".equals(mediaType.toString());\n}\n\npublic static void main(String[] args) throws IOException {\n    System.out.println(checkThatMimeTypeIsCsv(new FileInputStream(\"Data.csv\")));\n}\n</code></pre>\n\n<p>But it returns <code>false</code>'.</p>\n\n<p>Does Tika so bad or I missed something?</p>\n"},{"tags":["java","unit-testing","automated-tests","quarkus"],"comments":[{"owner":{"account_id":2922228,"reputation":61034,"user_id":2504224,"display_name":"geoand"},"score":0,"creation_date":1638946861,"post_id":70268026,"comment_id":124220097,"body_markdown":"This sounds like a bug, but I can&#39;t be sure... I propose opening an issue on Github so we can make sure we don&#39;t loose it","body":"This sounds like a bug, but I can&#39;t be sure... I propose opening an issue on Github so we can make sure we don&#39;t loose it"},{"owner":{"account_id":3615835,"reputation":1759,"user_id":3015723,"accept_rate":100,"display_name":"Snappawapa"},"score":1,"creation_date":1638966378,"post_id":70268026,"comment_id":124226715,"body_markdown":"@geoand Thanks, made an issue. Linked in question.","body":"@geoand Thanks, made an issue. Linked in question."}],"answers":[{"tags":[],"owner":{"account_id":1202593,"reputation":9569,"user_id":1173495,"accept_rate":46,"display_name":"SANN3"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673264784,"creation_date":1673264784,"answer_id":75056820,"question_id":70268026,"body_markdown":"Any use of `@QuarkusTestResource()` without `restrictToAnnotatedClass` set to true, means that the `QuarkusTestResourceLifecycleManager` will be applied to all tests no matter where the annotation is placed.\r\n\r\nHope `restrictToAnnotatedClass` will solve the problem.","title":"Mixed up Test configuration when using @ResourceArg","body":"<p>Any use of <code>@QuarkusTestResource()</code> without <code>restrictToAnnotatedClass</code> set to true, means that the <code>QuarkusTestResourceLifecycleManager</code> will be applied to all tests no matter where the annotation is placed.</p>\n<p>Hope <code>restrictToAnnotatedClass</code> will solve the problem.</p>\n"}],"owner":{"account_id":3615835,"reputation":1759,"user_id":3015723,"accept_rate":100,"display_name":"Snappawapa"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":376,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1673264784,"creation_date":1638918346,"question_id":70268026,"body_markdown":"TL:DR; When running tests with different `@ResourceArg`s, the configuration of different tests get thrown around and override others, breaking tests meant to run with specific configurations.\r\n\r\nSo, I have a service that has tests that run in different configuration setups. The main difference at the moment is the service can either manage its own authentication or get it from an external source (Keycloak).\r\n\r\nI firstly control this using test profiles, which seem to work fine. Unfortunately, in order to support both cases, the `ResourceLifecycleManager` I have setup supports setting up a Keycloak instance and returns config values that break the config for self authentication (This is due primarily to the fact that I have not found out how to get the lifecycle manager to determine on its own what profile or config is currently running. If I could do this, I think I would be much better off than using `@ResourceArg`, so would love to know if I missed something here).\r\n\r\nTo remedy this shortcoming, I have attempted to use `@ResourceArg`s to convey to the lifecycle manager when to setup for external auth. However, I have noticed some really odd execution timings and the config that ends up at my test/service isn&#39;t what I intend based on the test class&#39;s annotations, where it is obvious the lifecycle manager has setup for external auth.\r\n\r\nAdditionally, it should be noted that I have my tests ordered such that the profiles and configs shouldn&#39;t be running out of order; all the tests that don&#39;t care are run first, then the &#39;normal&#39; tests with self auth, then the tests with the external auth profile. I can see this working appropriately when I run in intellij, and the fact I can tell the time is being taken to start up the new service instance between the test profiles.\r\n\r\nLooking at the logs when I throw a breakpoint in places, some odd things are obvious:\r\n\r\n - When breakpoint on an erring test (before the external-configured tests run)\r\n   - The `start()` method of my `TestResourceLifecycleManager` has been called twice\r\n     - The first run ran with Keycloak starting, would override/break config\r\n       - though the time I would expect to need to be taken to start up keycloak not happening, a little confused here\r\n     - The second run is correct, not starting keycloak\r\n   - The profile config is what is expected, except for what the keycloak setup would override\r\n - When breakpoint on an external-configured test (after all self-configured tests run):\r\n   - The `start()` method has now been called 4 times; appears that things were started in the same order as before again for the new run of the app\r\n\r\nThere could be some weirdness in how Intellij/Gradle shows logs, but I am interpreting this as:\r\n - Quarkus initting the two instances of LifecycleManager when starting the app for some reason, and one&#39;s config overrides the other, causing my woes.\r\n - The lifecycle manager is working as expected; it appropriately starts/ doesn&#39;t start keycloak when configured either way\r\n\r\nAt this point I can&#39;t tell if I&#39;m doing something wrong, or if there&#39;s a bug.\r\n\r\n\r\nTest class example for self-auth test (same annotations for all tests in this (`test`) profile):\r\n\r\n```\r\n@Slf4j\r\n@QuarkusTest\r\n@QuarkusTestResource(TestResourceLifecycleManager.class)\r\n@TestHTTPEndpoint(Auth.class)\r\nclass AuthTest extends RunningServerTest {\r\n```\r\n\r\nTest class example for external auth test (same annotations for all tests in this (`externalAuth`) profile):\r\n\r\n```\r\n@Slf4j\r\n@QuarkusTest\r\n@TestProfile(ExternalAuthTestProfile.class)\r\n@QuarkusTestResource(value = TestResourceLifecycleManager.class, initArgs = @ResourceArg(name=TestResourceLifecycleManager.EXTERNAL_AUTH_ARG, value=&quot;true&quot;))\r\n@TestHTTPEndpoint(Auth.class)\r\nclass AuthExternalTest extends RunningServerTest {\r\n```\r\n\r\n`ExternalAuthTestProfile` extends this, providing the appropriate profile name:\r\n\r\n```\r\npublic class NonDefaultTestProfile implements QuarkusTestProfile {\r\n\r\n    private final String testProfile;\r\n    private final Map&lt;String, String&gt; overrides = new HashMap&lt;&gt;();\r\n\r\n    protected NonDefaultTestProfile(String testProfile) {\r\n        this.testProfile = testProfile;\r\n    }\r\n\r\n    protected NonDefaultTestProfile(String testProfile, Map&lt;String, String&gt; configOverrides) {\r\n        this(testProfile);\r\n        this.overrides.putAll(configOverrides);\r\n    }\r\n\r\n    @Override\r\n    public Map&lt;String, String&gt; getConfigOverrides() {\r\n        return new HashMap&lt;&gt;(this.overrides);\r\n    }\r\n\r\n    @Override\r\n    public String getConfigProfile() {\r\n        return testProfile;\r\n    }\r\n\r\n    @Override\r\n    public List&lt;TestResourceEntry&gt; testResources() {\r\n        return QuarkusTestProfile.super.testResources();\r\n    }\r\n}\r\n```\r\n\r\n\r\nLifecycle manager:\r\n\r\n```\r\n@Slf4j\r\npublic class TestResourceLifecycleManager implements QuarkusTestResourceLifecycleManager {\r\n    public static final String EXTERNAL_AUTH_ARG = &quot;externalAuth&quot;;\r\n\r\n    private static volatile MongodExecutable MONGO_EXE = null;\r\n    private static volatile KeycloakContainer KEYCLOAK_CONTAINER = null;\r\n\r\n\tprivate boolean externalAuth = false;\r\n\r\n    public synchronized Map&lt;String, String&gt; startKeycloakTestServer() {\r\n        if(!this.externalAuth){\r\n            log.info(&quot;No need for keycloak.&quot;);\r\n            return Map.of();\r\n        }\r\n        if (KEYCLOAK_CONTAINER != null) {\r\n            log.info(&quot;Keycloak already started.&quot;);\r\n        } else {\r\n            KEYCLOAK_CONTAINER = new KeycloakContainer()\r\n//\t\t\t\t.withEnv(&quot;hello&quot;,&quot;world&quot;)\r\n                    .withRealmImportFile(&quot;keycloak-realm.json&quot;);\r\n            KEYCLOAK_CONTAINER.start();\r\n            log.info(\r\n                    &quot;Test keycloak started at endpoint: {}\\tAdmin creds: {}:{}&quot;,\r\n                    KEYCLOAK_CONTAINER.getAuthServerUrl(),\r\n                    KEYCLOAK_CONTAINER.getAdminUsername(),\r\n                    KEYCLOAK_CONTAINER.getAdminPassword()\r\n            );\r\n\r\n        }\r\n        String clientId;\r\n        String clientSecret;\r\n        String publicKey = &quot;&quot;;\r\n        try (\r\n                Keycloak keycloak = KeycloakBuilder.builder()\r\n                        .serverUrl(KEYCLOAK_CONTAINER.getAuthServerUrl())\r\n                        .realm(&quot;master&quot;)\r\n                        .grantType(OAuth2Constants.PASSWORD)\r\n                        .clientId(&quot;admin-cli&quot;)\r\n                        .username(KEYCLOAK_CONTAINER.getAdminUsername())\r\n                        .password(KEYCLOAK_CONTAINER.getAdminPassword())\r\n                        .build();\r\n        ) {\r\n            RealmResource appsRealmResource = keycloak.realms().realm(&quot;apps&quot;);\r\n\r\n            ClientRepresentation qmClientResource = appsRealmResource.clients().findByClientId(&quot;quartermaster&quot;).get(0);\r\n\r\n            clientSecret = qmClientResource.getSecret();\r\n\r\n            log.info(&quot;Got client id \\&quot;{}\\&quot; with secret: {}&quot;, &quot;quartermaster&quot;, clientSecret);\r\n\r\n            //get private key\r\n            for (KeysMetadataRepresentation.KeyMetadataRepresentation curKey : appsRealmResource.keys().getKeyMetadata().getKeys()) {\r\n                if (!SIG.equals(curKey.getUse())) {\r\n                    continue;\r\n                }\r\n                if (!&quot;RSA&quot;.equals(curKey.getType())) {\r\n                    continue;\r\n                }\r\n                String publicKeyTemp = curKey.getPublicKey();\r\n                if (publicKeyTemp == null || publicKeyTemp.isBlank()) {\r\n                    continue;\r\n                }\r\n                publicKey = publicKeyTemp;\r\n                log.info(&quot;Found a relevant key for public key use: {} / {}&quot;, curKey.getKid(), publicKey);\r\n            }\r\n        }\r\n        // write public key\r\n        // = new File(TestResourceLifecycleManager.class.getResource(&quot;/&quot;).toURI().toString() + &quot;/security/testKeycloakPublicKey.pem&quot;);\r\n        File publicKeyFile;\r\n        try {\r\n            publicKeyFile = File.createTempFile(&quot;oqmTestKeycloakPublicKey&quot;,&quot;.pem&quot;);\r\n//            publicKeyFile = new File(TestResourceLifecycleManager.class.getResource(&quot;/&quot;).toURI().toString().replace(&quot;/classes/java/&quot;, &quot;/resources/&quot;) + &quot;/security/testKeycloakPublicKey.pem&quot;);\r\n            log.info(&quot;path of public key: {}&quot;, publicKeyFile);\r\n//            if(publicKeyFile.createNewFile()){\r\n//                log.info(&quot;created new public key file&quot;);\r\n//\r\n//            } else {\r\n//                log.info(&quot;Public file already exists&quot;);\r\n//            }\r\n            try (\r\n                    FileOutputStream os = new FileOutputStream(\r\n                            publicKeyFile\r\n                    );\r\n            ) {\r\n                IOUtils.write(publicKey, os, UTF_8);\r\n            } catch (IOException e) {\r\n                log.error(&quot;Failed to write out public key of keycloak: &quot;, e);\r\n                throw new IllegalStateException(&quot;Failed to write out public key of keycloak.&quot;, e);\r\n            }\r\n        } catch (IOException  e) {\r\n            log.error(&quot;Failed to create public key file: &quot;, e);\r\n            throw new IllegalStateException(&quot;Failed to create public key file&quot;, e);\r\n        }\r\n\r\n        String keycloakUrl = KEYCLOAK_CONTAINER.getAuthServerUrl().replace(&quot;/auth&quot;, &quot;&quot;);\r\n\r\n        return Map.of(\r\n                &quot;test.keycloak.url&quot;, keycloakUrl,\r\n                &quot;test.keycloak.authUrl&quot;, KEYCLOAK_CONTAINER.getAuthServerUrl(),\r\n                &quot;test.keycloak.adminName&quot;, KEYCLOAK_CONTAINER.getAdminUsername(),\r\n                &quot;test.keycloak.adminPass&quot;, KEYCLOAK_CONTAINER.getAdminPassword(),\r\n                //TODO:: add config for server to talk to\r\n                &quot;service.externalAuth.url&quot;, keycloakUrl,\r\n                &quot;mp.jwt.verify.publickey.location&quot;, publicKeyFile.getAbsolutePath()\r\n\r\n\r\n        );\r\n    }\r\n\r\n    public static synchronized void startMongoTestServer() throws IOException {\r\n        if (MONGO_EXE != null) {\r\n            log.info(&quot;Flapdoodle Mongo already started.&quot;);\r\n            return;\r\n        }\r\n        Version.Main version = Version.Main.V4_0;\r\n        int port = 27018;\r\n        log.info(&quot;Starting Flapdoodle Test Mongo {} on port {}&quot;, version, port);\r\n        IMongodConfig config = new MongodConfigBuilder()\r\n                .version(version)\r\n                .net(new Net(port, Network.localhostIsIPv6()))\r\n                .build();\r\n        try {\r\n            MONGO_EXE = MongodStarter.getDefaultInstance().prepare(config);\r\n            MongodProcess process = MONGO_EXE.start();\r\n            if (!process.isProcessRunning()) {\r\n                throw new IOException();\r\n            }\r\n        } catch (Throwable e) {\r\n            log.error(&quot;FAILED to start test mongo server: &quot;, e);\r\n            MONGO_EXE = null;\r\n            throw e;\r\n        }\r\n    }\r\n\r\n    public static synchronized void stopMongoTestServer() {\r\n        if (MONGO_EXE == null) {\r\n            log.warn(&quot;Mongo was not started.&quot;);\r\n            return;\r\n        }\r\n        MONGO_EXE.stop();\r\n        MONGO_EXE = null;\r\n    }\r\n\r\n    public synchronized static void cleanMongo() throws IOException {\r\n        if (MONGO_EXE == null) {\r\n            log.warn(&quot;Mongo was not started.&quot;);\r\n            return;\r\n        }\r\n\r\n        log.info(&quot;Cleaning Mongo of all entries.&quot;);\r\n    }\r\n\r\n\r\n    @Override\r\n    public void init(Map&lt;String, String&gt; initArgs) {\r\n        this.externalAuth = Boolean.parseBoolean(initArgs.getOrDefault(EXTERNAL_AUTH_ARG, Boolean.toString(this.externalAuth)));\r\n    }\r\n\r\n    @Override\r\n    public Map&lt;String, String&gt; start() {\r\n        log.info(&quot;STARTING test lifecycle resources.&quot;);\r\n        Map&lt;String, String&gt; configOverride = new HashMap&lt;&gt;();\r\n        try {\r\n            startMongoTestServer();\r\n        } catch (IOException e) {\r\n            log.error(&quot;Unable to start Flapdoodle Mongo server&quot;);\r\n        }\r\n\r\n        configOverride.putAll(startKeycloakTestServer());\r\n\r\n        return configOverride;\r\n    }\r\n\r\n    @Override\r\n    public void stop() {\r\n        log.info(&quot;STOPPING test lifecycle resources.&quot;);\r\n        stopMongoTestServer();\r\n    }\r\n}\r\n```\r\n\r\n\r\n\r\nThe app can be found here: https://github.com/Epic-Breakfast-Productions/OpenQuarterMaster/tree/main/software/open-qm-base-station\r\n\r\nThe tests are currently failing in the ways I am describing, so feel free to look around.\r\n\r\nNote that to run this, you will need to run `./gradlew build publishToMavenLocal` in https://github.com/Epic-Breakfast-Productions/OpenQuarterMaster/tree/main/software/libs/open-qm-core to install a dependency locally.\r\n\r\nGithub issue also tracking this: https://github.com/quarkusio/quarkus/issues/22025","title":"Mixed up Test configuration when using @ResourceArg","body":"<p>TL:DR; When running tests with different <code>@ResourceArg</code>s, the configuration of different tests get thrown around and override others, breaking tests meant to run with specific configurations.</p>\n<p>So, I have a service that has tests that run in different configuration setups. The main difference at the moment is the service can either manage its own authentication or get it from an external source (Keycloak).</p>\n<p>I firstly control this using test profiles, which seem to work fine. Unfortunately, in order to support both cases, the <code>ResourceLifecycleManager</code> I have setup supports setting up a Keycloak instance and returns config values that break the config for self authentication (This is due primarily to the fact that I have not found out how to get the lifecycle manager to determine on its own what profile or config is currently running. If I could do this, I think I would be much better off than using <code>@ResourceArg</code>, so would love to know if I missed something here).</p>\n<p>To remedy this shortcoming, I have attempted to use <code>@ResourceArg</code>s to convey to the lifecycle manager when to setup for external auth. However, I have noticed some really odd execution timings and the config that ends up at my test/service isn't what I intend based on the test class's annotations, where it is obvious the lifecycle manager has setup for external auth.</p>\n<p>Additionally, it should be noted that I have my tests ordered such that the profiles and configs shouldn't be running out of order; all the tests that don't care are run first, then the 'normal' tests with self auth, then the tests with the external auth profile. I can see this working appropriately when I run in intellij, and the fact I can tell the time is being taken to start up the new service instance between the test profiles.</p>\n<p>Looking at the logs when I throw a breakpoint in places, some odd things are obvious:</p>\n<ul>\n<li>When breakpoint on an erring test (before the external-configured tests run)\n<ul>\n<li>The <code>start()</code> method of my <code>TestResourceLifecycleManager</code> has been called twice\n<ul>\n<li>The first run ran with Keycloak starting, would override/break config\n<ul>\n<li>though the time I would expect to need to be taken to start up keycloak not happening, a little confused here</li>\n</ul>\n</li>\n<li>The second run is correct, not starting keycloak</li>\n</ul>\n</li>\n<li>The profile config is what is expected, except for what the keycloak setup would override</li>\n</ul>\n</li>\n<li>When breakpoint on an external-configured test (after all self-configured tests run):\n<ul>\n<li>The <code>start()</code> method has now been called 4 times; appears that things were started in the same order as before again for the new run of the app</li>\n</ul>\n</li>\n</ul>\n<p>There could be some weirdness in how Intellij/Gradle shows logs, but I am interpreting this as:</p>\n<ul>\n<li>Quarkus initting the two instances of LifecycleManager when starting the app for some reason, and one's config overrides the other, causing my woes.</li>\n<li>The lifecycle manager is working as expected; it appropriately starts/ doesn't start keycloak when configured either way</li>\n</ul>\n<p>At this point I can't tell if I'm doing something wrong, or if there's a bug.</p>\n<p>Test class example for self-auth test (same annotations for all tests in this (<code>test</code>) profile):</p>\n<pre><code>@Slf4j\n@QuarkusTest\n@QuarkusTestResource(TestResourceLifecycleManager.class)\n@TestHTTPEndpoint(Auth.class)\nclass AuthTest extends RunningServerTest {\n</code></pre>\n<p>Test class example for external auth test (same annotations for all tests in this (<code>externalAuth</code>) profile):</p>\n<pre><code>@Slf4j\n@QuarkusTest\n@TestProfile(ExternalAuthTestProfile.class)\n@QuarkusTestResource(value = TestResourceLifecycleManager.class, initArgs = @ResourceArg(name=TestResourceLifecycleManager.EXTERNAL_AUTH_ARG, value=&quot;true&quot;))\n@TestHTTPEndpoint(Auth.class)\nclass AuthExternalTest extends RunningServerTest {\n</code></pre>\n<p><code>ExternalAuthTestProfile</code> extends this, providing the appropriate profile name:</p>\n<pre><code>public class NonDefaultTestProfile implements QuarkusTestProfile {\n\n    private final String testProfile;\n    private final Map&lt;String, String&gt; overrides = new HashMap&lt;&gt;();\n\n    protected NonDefaultTestProfile(String testProfile) {\n        this.testProfile = testProfile;\n    }\n\n    protected NonDefaultTestProfile(String testProfile, Map&lt;String, String&gt; configOverrides) {\n        this(testProfile);\n        this.overrides.putAll(configOverrides);\n    }\n\n    @Override\n    public Map&lt;String, String&gt; getConfigOverrides() {\n        return new HashMap&lt;&gt;(this.overrides);\n    }\n\n    @Override\n    public String getConfigProfile() {\n        return testProfile;\n    }\n\n    @Override\n    public List&lt;TestResourceEntry&gt; testResources() {\n        return QuarkusTestProfile.super.testResources();\n    }\n}\n</code></pre>\n<p>Lifecycle manager:</p>\n<pre><code>@Slf4j\npublic class TestResourceLifecycleManager implements QuarkusTestResourceLifecycleManager {\n    public static final String EXTERNAL_AUTH_ARG = &quot;externalAuth&quot;;\n\n    private static volatile MongodExecutable MONGO_EXE = null;\n    private static volatile KeycloakContainer KEYCLOAK_CONTAINER = null;\n\n    private boolean externalAuth = false;\n\n    public synchronized Map&lt;String, String&gt; startKeycloakTestServer() {\n        if(!this.externalAuth){\n            log.info(&quot;No need for keycloak.&quot;);\n            return Map.of();\n        }\n        if (KEYCLOAK_CONTAINER != null) {\n            log.info(&quot;Keycloak already started.&quot;);\n        } else {\n            KEYCLOAK_CONTAINER = new KeycloakContainer()\n//              .withEnv(&quot;hello&quot;,&quot;world&quot;)\n                    .withRealmImportFile(&quot;keycloak-realm.json&quot;);\n            KEYCLOAK_CONTAINER.start();\n            log.info(\n                    &quot;Test keycloak started at endpoint: {}\\tAdmin creds: {}:{}&quot;,\n                    KEYCLOAK_CONTAINER.getAuthServerUrl(),\n                    KEYCLOAK_CONTAINER.getAdminUsername(),\n                    KEYCLOAK_CONTAINER.getAdminPassword()\n            );\n\n        }\n        String clientId;\n        String clientSecret;\n        String publicKey = &quot;&quot;;\n        try (\n                Keycloak keycloak = KeycloakBuilder.builder()\n                        .serverUrl(KEYCLOAK_CONTAINER.getAuthServerUrl())\n                        .realm(&quot;master&quot;)\n                        .grantType(OAuth2Constants.PASSWORD)\n                        .clientId(&quot;admin-cli&quot;)\n                        .username(KEYCLOAK_CONTAINER.getAdminUsername())\n                        .password(KEYCLOAK_CONTAINER.getAdminPassword())\n                        .build();\n        ) {\n            RealmResource appsRealmResource = keycloak.realms().realm(&quot;apps&quot;);\n\n            ClientRepresentation qmClientResource = appsRealmResource.clients().findByClientId(&quot;quartermaster&quot;).get(0);\n\n            clientSecret = qmClientResource.getSecret();\n\n            log.info(&quot;Got client id \\&quot;{}\\&quot; with secret: {}&quot;, &quot;quartermaster&quot;, clientSecret);\n\n            //get private key\n            for (KeysMetadataRepresentation.KeyMetadataRepresentation curKey : appsRealmResource.keys().getKeyMetadata().getKeys()) {\n                if (!SIG.equals(curKey.getUse())) {\n                    continue;\n                }\n                if (!&quot;RSA&quot;.equals(curKey.getType())) {\n                    continue;\n                }\n                String publicKeyTemp = curKey.getPublicKey();\n                if (publicKeyTemp == null || publicKeyTemp.isBlank()) {\n                    continue;\n                }\n                publicKey = publicKeyTemp;\n                log.info(&quot;Found a relevant key for public key use: {} / {}&quot;, curKey.getKid(), publicKey);\n            }\n        }\n        // write public key\n        // = new File(TestResourceLifecycleManager.class.getResource(&quot;/&quot;).toURI().toString() + &quot;/security/testKeycloakPublicKey.pem&quot;);\n        File publicKeyFile;\n        try {\n            publicKeyFile = File.createTempFile(&quot;oqmTestKeycloakPublicKey&quot;,&quot;.pem&quot;);\n//            publicKeyFile = new File(TestResourceLifecycleManager.class.getResource(&quot;/&quot;).toURI().toString().replace(&quot;/classes/java/&quot;, &quot;/resources/&quot;) + &quot;/security/testKeycloakPublicKey.pem&quot;);\n            log.info(&quot;path of public key: {}&quot;, publicKeyFile);\n//            if(publicKeyFile.createNewFile()){\n//                log.info(&quot;created new public key file&quot;);\n//\n//            } else {\n//                log.info(&quot;Public file already exists&quot;);\n//            }\n            try (\n                    FileOutputStream os = new FileOutputStream(\n                            publicKeyFile\n                    );\n            ) {\n                IOUtils.write(publicKey, os, UTF_8);\n            } catch (IOException e) {\n                log.error(&quot;Failed to write out public key of keycloak: &quot;, e);\n                throw new IllegalStateException(&quot;Failed to write out public key of keycloak.&quot;, e);\n            }\n        } catch (IOException  e) {\n            log.error(&quot;Failed to create public key file: &quot;, e);\n            throw new IllegalStateException(&quot;Failed to create public key file&quot;, e);\n        }\n\n        String keycloakUrl = KEYCLOAK_CONTAINER.getAuthServerUrl().replace(&quot;/auth&quot;, &quot;&quot;);\n\n        return Map.of(\n                &quot;test.keycloak.url&quot;, keycloakUrl,\n                &quot;test.keycloak.authUrl&quot;, KEYCLOAK_CONTAINER.getAuthServerUrl(),\n                &quot;test.keycloak.adminName&quot;, KEYCLOAK_CONTAINER.getAdminUsername(),\n                &quot;test.keycloak.adminPass&quot;, KEYCLOAK_CONTAINER.getAdminPassword(),\n                //TODO:: add config for server to talk to\n                &quot;service.externalAuth.url&quot;, keycloakUrl,\n                &quot;mp.jwt.verify.publickey.location&quot;, publicKeyFile.getAbsolutePath()\n\n\n        );\n    }\n\n    public static synchronized void startMongoTestServer() throws IOException {\n        if (MONGO_EXE != null) {\n            log.info(&quot;Flapdoodle Mongo already started.&quot;);\n            return;\n        }\n        Version.Main version = Version.Main.V4_0;\n        int port = 27018;\n        log.info(&quot;Starting Flapdoodle Test Mongo {} on port {}&quot;, version, port);\n        IMongodConfig config = new MongodConfigBuilder()\n                .version(version)\n                .net(new Net(port, Network.localhostIsIPv6()))\n                .build();\n        try {\n            MONGO_EXE = MongodStarter.getDefaultInstance().prepare(config);\n            MongodProcess process = MONGO_EXE.start();\n            if (!process.isProcessRunning()) {\n                throw new IOException();\n            }\n        } catch (Throwable e) {\n            log.error(&quot;FAILED to start test mongo server: &quot;, e);\n            MONGO_EXE = null;\n            throw e;\n        }\n    }\n\n    public static synchronized void stopMongoTestServer() {\n        if (MONGO_EXE == null) {\n            log.warn(&quot;Mongo was not started.&quot;);\n            return;\n        }\n        MONGO_EXE.stop();\n        MONGO_EXE = null;\n    }\n\n    public synchronized static void cleanMongo() throws IOException {\n        if (MONGO_EXE == null) {\n            log.warn(&quot;Mongo was not started.&quot;);\n            return;\n        }\n\n        log.info(&quot;Cleaning Mongo of all entries.&quot;);\n    }\n\n\n    @Override\n    public void init(Map&lt;String, String&gt; initArgs) {\n        this.externalAuth = Boolean.parseBoolean(initArgs.getOrDefault(EXTERNAL_AUTH_ARG, Boolean.toString(this.externalAuth)));\n    }\n\n    @Override\n    public Map&lt;String, String&gt; start() {\n        log.info(&quot;STARTING test lifecycle resources.&quot;);\n        Map&lt;String, String&gt; configOverride = new HashMap&lt;&gt;();\n        try {\n            startMongoTestServer();\n        } catch (IOException e) {\n            log.error(&quot;Unable to start Flapdoodle Mongo server&quot;);\n        }\n\n        configOverride.putAll(startKeycloakTestServer());\n\n        return configOverride;\n    }\n\n    @Override\n    public void stop() {\n        log.info(&quot;STOPPING test lifecycle resources.&quot;);\n        stopMongoTestServer();\n    }\n}\n</code></pre>\n<p>The app can be found here: <a href=\"https://github.com/Epic-Breakfast-Productions/OpenQuarterMaster/tree/main/software/open-qm-base-station\" rel=\"nofollow noreferrer\">https://github.com/Epic-Breakfast-Productions/OpenQuarterMaster/tree/main/software/open-qm-base-station</a></p>\n<p>The tests are currently failing in the ways I am describing, so feel free to look around.</p>\n<p>Note that to run this, you will need to run <code>./gradlew build publishToMavenLocal</code> in <a href=\"https://github.com/Epic-Breakfast-Productions/OpenQuarterMaster/tree/main/software/libs/open-qm-core\" rel=\"nofollow noreferrer\">https://github.com/Epic-Breakfast-Productions/OpenQuarterMaster/tree/main/software/libs/open-qm-core</a> to install a dependency locally.</p>\n<p>Github issue also tracking this: <a href=\"https://github.com/quarkusio/quarkus/issues/22025\" rel=\"nofollow noreferrer\">https://github.com/quarkusio/quarkus/issues/22025</a></p>\n"},{"tags":["java","selenium","selenium-ide"],"comments":[{"owner":{"account_id":306604,"reputation":37084,"user_id":617450,"accept_rate":61,"display_name":"Ripon Al Wasim"},"score":0,"creation_date":1429267382,"post_id":7990922,"comment_id":47529964,"body_markdown":"What version of Selenium IDE are you using?","body":"What version of Selenium IDE are you using?"}],"answers":[{"comments":[{"owner":{"account_id":4226501,"reputation":13504,"user_id":3459910,"accept_rate":73,"display_name":"winklerrr"},"score":0,"creation_date":1524154098,"post_id":7991999,"comment_id":86867082,"body_markdown":"There is no `options` or `file` button?!","body":"There is no <code>options</code> or <code>file</code> button?!"},{"owner":{"account_id":460481,"reputation":5813,"user_id":861594,"display_name":"user861594"},"score":0,"creation_date":1524854011,"post_id":7991999,"comment_id":87153089,"body_markdown":"Yes it was available in old version but not in the new version. May be new version will add all features which are available in legacy. However you can post in QAF users group to support SIDE project in addition to BDD KWD and Java so you user don&#39;t need to export to junit/testng/qaf. Note: isfw is now renamed as [qaf](https://qmetry.github.io/qaf)","body":"Yes it was available in old version but not in the new version. May be new version will add all features which are available in legacy. However you can post in QAF users group to support SIDE project in addition to BDD KWD and Java so you user don&#39;t need to export to junit/testng/qaf. Note: isfw is now renamed as <a href=\"https://qmetry.github.io/qaf\" rel=\"nofollow noreferrer\">qaf</a>"},{"owner":{"account_id":4226501,"reputation":13504,"user_id":3459910,"accept_rate":73,"display_name":"winklerrr"},"score":1,"creation_date":1524857408,"post_id":7991999,"comment_id":87154627,"body_markdown":"I found an alternative plugin (available for Chrome &amp; Firefox) which is build on the new selenium framework and which offers the possibility to export code (python, Java, etc.).  It&#39;s called [Katalon Recorder](https://www.katalon.com/)","body":"I found an alternative plugin (available for Chrome &amp; Firefox) which is build on the new selenium framework and which offers the possibility to export code (python, Java, etc.).  It&#39;s called <a href=\"https://www.katalon.com/\" rel=\"nofollow noreferrer\">Katalon Recorder</a>"}],"tags":[],"owner":{"account_id":460481,"reputation":5813,"user_id":861594,"display_name":"user861594"},"comment_count":3,"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1557906079,"creation_date":1320309244,"answer_id":7991999,"question_id":7990922,"body_markdown":" Below are steps:\r\n\r\n 1. `Options-&gt;Format -&gt; select format of your choice` eg. [junit/testng/isfw][1] \r\n 2. Go to `Source tab`.\r\n\r\nTo export test case in specific format use\r\n\r\n    File-&gt;Export Test Case As -&gt; select format\r\nOne of the useful feature of Selenium IDE is, it provide option to set clipboard format so that you can copy commands form table view and paste in format of your choice of language.\r\n\r\n    Options-&gt;Clipboard Format -&gt; set format\r\nHere is the [selenium IDE documentation][2]. \r\n\r\n\r\n  [1]: https://www.seleniumhq.org/selenium-ide/docs/en/introduction/code-export/#java-junit\r\n  [2]: https://www.seleniumhq.org/selenium-ide/docs/en/introduction/getting-started/","title":"How to generate Java source code from Selenium IDE (IDE code is in HTML extension)","body":"<p>Below are steps:</p>\n\n<ol>\n<li><code>Options-&gt;Format -&gt; select format of your choice</code> eg. <a href=\"https://www.seleniumhq.org/selenium-ide/docs/en/introduction/code-export/#java-junit\" rel=\"nofollow noreferrer\">junit/testng/isfw</a> </li>\n<li>Go to <code>Source tab</code>.</li>\n</ol>\n\n<p>To export test case in specific format use</p>\n\n<pre><code>File-&gt;Export Test Case As -&gt; select format\n</code></pre>\n\n<p>One of the useful feature of Selenium IDE is, it provide option to set clipboard format so that you can copy commands form table view and paste in format of your choice of language.</p>\n\n<pre><code>Options-&gt;Clipboard Format -&gt; set format\n</code></pre>\n\n<p>Here is the <a href=\"https://www.seleniumhq.org/selenium-ide/docs/en/introduction/getting-started/\" rel=\"nofollow noreferrer\">selenium IDE documentation</a>. </p>\n"},{"comments":[{"owner":{"account_id":4226501,"reputation":13504,"user_id":3459910,"accept_rate":73,"display_name":"winklerrr"},"score":0,"creation_date":1524154143,"post_id":31131083,"comment_id":86867108,"body_markdown":"I can&#39;t find the `File -&gt; Export Test Case As`... There is no `File` at all.","body":"I can&#39;t find the <code>File -&gt; Export Test Case As</code>... There is no <code>File</code> at all."}],"tags":[],"owner":{"account_id":306604,"reputation":37084,"user_id":617450,"accept_rate":61,"display_name":"Ripon Al Wasim"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1435645581,"creation_date":1435645581,"answer_id":31131083,"question_id":7990922,"body_markdown":"There are 2 ways for the Java code in Selenium IDE:\r\n\r\n**1st way:** By exporting recorded test case(HTML format) into java file:\r\n\r\n1. Record your tests in HTML format by using Selenium IDE&lt;br&gt;\r\n2. File -&gt; Export Test Case As -&gt; Java / JUnit4/ WebDriver&lt;br&gt;\r\n3. Save the file (it would be saved as .java and this will show your expected Java code)\r\n\r\n**2nd way:** To see the Java code directly in Selenium IDE\r\n\r\n1. Go to Options -&gt; Options... &lt;br&gt;\r\n2. At &quot;Selenium IDE Options&quot; window: Check the check box for &quot;Enable experimental features&quot; and click OK button&lt;br&gt;\r\n3. Options -&gt; Format -&gt; Java / JUnit4 / WebDriver&lt;br&gt;\r\n4. Click OK button from &quot;JavaScript Application&quot; pop up -&gt; You will see the desired Java source code for your recorded tests","title":"How to generate Java source code from Selenium IDE (IDE code is in HTML extension)","body":"<p>There are 2 ways for the Java code in Selenium IDE:</p>\n\n<p><strong>1st way:</strong> By exporting recorded test case(HTML format) into java file:</p>\n\n<ol>\n<li>Record your tests in HTML format by using Selenium IDE<br></li>\n<li>File -> Export Test Case As -> Java / JUnit4/ WebDriver<br></li>\n<li>Save the file (it would be saved as .java and this will show your expected Java code)</li>\n</ol>\n\n<p><strong>2nd way:</strong> To see the Java code directly in Selenium IDE</p>\n\n<ol>\n<li>Go to Options -> Options... <br></li>\n<li>At \"Selenium IDE Options\" window: Check the check box for \"Enable experimental features\" and click OK button<br></li>\n<li>Options -> Format -> Java / JUnit4 / WebDriver<br></li>\n<li>Click OK button from \"JavaScript Application\" pop up -> You will see the desired Java source code for your recorded tests</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":10867764,"reputation":1,"user_id":7990604,"display_name":"suraj kakode"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1494406454,"creation_date":1494406454,"answer_id":43887758,"question_id":7990922,"body_markdown":"Go to option, click on Enable Experiment Feature, click OK\r\nClick oK when popUp. Now again check option&gt;Format&gt;select ur desired format. \r\nCode will be display on &quot;source&quot; tab","title":"How to generate Java source code from Selenium IDE (IDE code is in HTML extension)","body":"<p>Go to option, click on Enable Experiment Feature, click OK\nClick oK when popUp. Now again check option>Format>select ur desired format. \nCode will be display on \"source\" tab</p>\n"},{"comments":[{"owner":{"account_id":4825385,"reputation":233,"user_id":5677130,"display_name":"Martin del Necesario"},"score":0,"creation_date":1673265884,"post_id":50350544,"comment_id":132452182,"body_markdown":"The current version (`4.0.0`) supports the &quot;export to code&quot; functionality (again). See my answer: https://stackoverflow.com/a/75056766/5677130","body":"The current version (<code>4.0.0</code>) supports the &quot;export to code&quot; functionality (again). See my answer: <a href=\"https://stackoverflow.com/a/75056766/5677130\">stackoverflow.com/a/75056766/5677130</a>"}],"tags":[],"owner":{"account_id":4226501,"reputation":13504,"user_id":3459910,"accept_rate":73,"display_name":"winklerrr"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1526388229,"creation_date":1526388229,"answer_id":50350544,"question_id":7990922,"body_markdown":"The current version of [Selenium IDE][1] (`version: 3.0.2`) doesn&#39;t seem to support the &quot;export to code&quot; functionality.\r\n\r\nBut there is an alternative plugin which also uses the new [Selenium framework][2] (`version: 3+`) and still offers the possibility to export tests directly to code (python, Java, etc.). It&#39;s called:\r\n\r\n**[Katalon Recorder][3]** (available for Chrome &amp; Firefox, for free!)\r\n\r\nAs you can see in the picture below: there is an &quot;Export&quot; button in the top menu bar.\r\n\r\n![Katalon Recorder][4]\r\n\r\n\r\n\r\n[1]: https://addons.mozilla.org/de/firefox/addon/selenium-ide/\r\n[2]: https://github.com/SeleniumHQ/selenium\r\n[3]: https://www.katalon.com/resources-center/blog/katalon-automation-recorder/\r\n[4]: https://d1h3p5fzmizjvp.cloudfront.net/wp-content/uploads/2017/11/02143412/Katalon-Recorder-3.3.png &quot;Katalon Recorder&quot;","title":"How to generate Java source code from Selenium IDE (IDE code is in HTML extension)","body":"<p>The current version of <a href=\"https://addons.mozilla.org/de/firefox/addon/selenium-ide/\" rel=\"nofollow noreferrer\">Selenium IDE</a> (<code>version: 3.0.2</code>) doesn't seem to support the \"export to code\" functionality.</p>\n\n<p>But there is an alternative plugin which also uses the new <a href=\"https://github.com/SeleniumHQ/selenium\" rel=\"nofollow noreferrer\">Selenium framework</a> (<code>version: 3+</code>) and still offers the possibility to export tests directly to code (python, Java, etc.). It's called:</p>\n\n<p><strong><a href=\"https://www.katalon.com/resources-center/blog/katalon-automation-recorder/\" rel=\"nofollow noreferrer\">Katalon Recorder</a></strong> (available for Chrome &amp; Firefox, for free!)</p>\n\n<p>As you can see in the picture below: there is an \"Export\" button in the top menu bar.</p>\n\n<p><img src=\"https://d1h3p5fzmizjvp.cloudfront.net/wp-content/uploads/2017/11/02143412/Katalon-Recorder-3.3.png\" alt=\"Katalon Recorder\" title=\"Katalon Recorder\"></p>\n"},{"tags":[],"owner":{"account_id":4825385,"reputation":233,"user_id":5677130,"display_name":"Martin del Necesario"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673264483,"creation_date":1673264483,"answer_id":75056766,"question_id":7990922,"body_markdown":"With version 4 of Selenium IDE, the export into multiple languages is possible directly from Selenium IDE:\r\n\r\nsource: https://expleoacademy.com/int/6-steps-to-create-and-export-selenium-ide-tests/\r\n\r\n1. \r\n\r\n[![Side pane with Tests, mouse hovering over &quot;...&quot; option of one test][1]][1]\r\n\r\n2.\r\n\r\n[![shows export menue, visiable after clicking the &quot;...&quot; option. Mouse hovering over the entry &quot;Export&quot;][2]][2]\r\n\r\n3. \r\n\r\n[![bullet points to selected export language and framework (C#, Java, JavaScript, Python, Ruby), as well as further export options][3]][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/9tvX3.png\r\n  [2]: https://i.stack.imgur.com/OHQgS.png\r\n  [3]: https://i.stack.imgur.com/wKlLA.png","title":"How to generate Java source code from Selenium IDE (IDE code is in HTML extension)","body":"<p>With version 4 of Selenium IDE, the export into multiple languages is possible directly from Selenium IDE:</p>\n<p>source: <a href=\"https://expleoacademy.com/int/6-steps-to-create-and-export-selenium-ide-tests/\" rel=\"nofollow noreferrer\">https://expleoacademy.com/int/6-steps-to-create-and-export-selenium-ide-tests/</a></p>\n<p>1.</p>\n<p><a href=\"https://i.stack.imgur.com/9tvX3.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/9tvX3.png\" alt=\"Side pane with Tests, mouse hovering over &quot;...&quot; option of one test\" /></a></p>\n<p>2.</p>\n<p><a href=\"https://i.stack.imgur.com/OHQgS.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/OHQgS.png\" alt=\"shows export menue, visiable after clicking the &quot;...&quot; option. Mouse hovering over the entry &quot;Export&quot;\" /></a></p>\n<p>3.</p>\n<p><a href=\"https://i.stack.imgur.com/wKlLA.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/wKlLA.png\" alt=\"bullet points to selected export language and framework (C#, Java, JavaScript, Python, Ruby), as well as further export options\" /></a></p>\n"}],"owner":{"account_id":475453,"reputation":3047,"user_id":885798,"accept_rate":70,"display_name":"max"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":25452,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":7991999,"answer_count":5,"score":8,"last_activity_date":1673264483,"creation_date":1320300693,"question_id":7990922,"body_markdown":"I am using Selenium IDE (a Firefox plugin) for doing testing. I am unable to see java code when I start recording something. What I see always is HTML. Any idea what can be the best way to get the java source code. Please any one can help on this. \r\n\r\nThanks a lot.","title":"How to generate Java source code from Selenium IDE (IDE code is in HTML extension)","body":"<p>I am using Selenium IDE (a Firefox plugin) for doing testing. I am unable to see java code when I start recording something. What I see always is HTML. Any idea what can be the best way to get the java source code. Please any one can help on this. </p>\n\n<p>Thanks a lot.</p>\n"},{"tags":["java","bazel"],"comments":[{"owner":{"account_id":2437175,"reputation":2938,"user_id":2144408,"accept_rate":75,"display_name":"TamaMcGlinn"},"score":0,"creation_date":1639402307,"post_id":68594321,"comment_id":124331894,"body_markdown":"Could you add the output of `java --version` to your question? For me, I just didn&#39;t have a jdk installed, so I needed to do `sudo apt install default-jdk`","body":"Could you add the output of <code>java --version</code> to your question? For me, I just didn&#39;t have a jdk installed, so I needed to do <code>sudo apt install default-jdk</code>"},{"owner":{"account_id":9436770,"reputation":239,"user_id":7018565,"display_name":"user7018565"},"score":0,"creation_date":1641833838,"post_id":68594321,"comment_id":124904852,"body_markdown":"The VM is now running &quot;bullseye&quot; and the issue is no longer there!?","body":"The VM is now running &quot;bullseye&quot; and the issue is no longer there!?"}],"answers":[{"tags":[],"owner":{"account_id":9436770,"reputation":239,"user_id":7018565,"display_name":"user7018565"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641834058,"creation_date":1641834058,"answer_id":70656170,"question_id":68594321,"body_markdown":"Today, I have retested for the first time since long, and the issue seems to be gone.  The VM is running `bullseye`.\r\n\r\nBazel version:\r\n\r\n~~~~\r\n$ bazel version\r\nBazelisk version: v1.10.1\r\nBuild label: 4.2.1\r\nBuild target: bazel-out/k8-opt/bin/src/main/java/com/google/devtools/build/lib/bazel/BazelServer_deploy.jar\r\nBuild time: Mon Aug 30 15:17:47 2021 (1630336667)\r\nBuild timestamp: 1630336667\r\nBuild timestamp as int: 1630336667\r\n~~~~\r\n\r\n\r\nJava version:\r\n\r\n~~~~\r\n$ java --version\r\nopenjdk 11.0.13 2021-10-19\r\nOpenJDK Runtime Environment (build 11.0.13+8-post-Debian-1deb11u1)\r\nOpenJDK 64-Bit Server VM (build 11.0.13+8-post-Debian-1deb11u1, mixed mode, sharing)\r\n~~~~\r\n\r\nMaybe a heisenbug ...\r\n","title":"Error in fail: Auto-Configuration Error: Cannot find Java binary bin/java","body":"<p>Today, I have retested for the first time since long, and the issue seems to be gone.  The VM is running <code>bullseye</code>.</p>\n<p>Bazel version:</p>\n<pre><code>$ bazel version\nBazelisk version: v1.10.1\nBuild label: 4.2.1\nBuild target: bazel-out/k8-opt/bin/src/main/java/com/google/devtools/build/lib/bazel/BazelServer_deploy.jar\nBuild time: Mon Aug 30 15:17:47 2021 (1630336667)\nBuild timestamp: 1630336667\nBuild timestamp as int: 1630336667\n</code></pre>\n<p>Java version:</p>\n<pre><code>$ java --version\nopenjdk 11.0.13 2021-10-19\nOpenJDK Runtime Environment (build 11.0.13+8-post-Debian-1deb11u1)\nOpenJDK 64-Bit Server VM (build 11.0.13+8-post-Debian-1deb11u1, mixed mode, sharing)\n</code></pre>\n<p>Maybe a heisenbug ...</p>\n"},{"tags":[],"owner":{"account_id":4746724,"reputation":51,"user_id":3837871,"display_name":"Raulcr93"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1643195038,"creation_date":1643195038,"answer_id":70862440,"question_id":68594321,"body_markdown":"I had the same error but I resolved it with the correct installation of the jdk. Check that your version of bazel does not mark this Warning:\r\n\r\n    bazel version \r\n    Bazelisk version: v1.11.0\r\n    **WARNING: Ignoring JAVA_HOME, because it must point to a JDK, not a JRE.**\r\n    Build label: 4.2.1\r\n    Build target: bazel-out/k8-opt/bin/src/main/java/com/google/devtools/build/lib/bazel/BazelServer_deploy.jar\r\n    Build time: Mon Aug 30 15:17:47 2021 (1630336667)\r\n    Build timestamp: 1630336667\r\n    Build timestamp as int: 1630336667\r\n\r\nIf this warning appears, it means that we have a problem with the jdk, validate that you have the javac command installed with the following command:\r\n\r\n    javac -version\r\n\r\nIf it is not installed, look for the installation for your platform, in my case it is with the following command:\r\n\r\n    sudo apt install default-jdk\r\n\r\nFinally verify the installation directory with the following command:\r\n\r\n    sudo update-alternatives --config javac\r\n\r\nMake sure you have the JAVA_HOME configured correctly.\r\n\r\n","title":"Error in fail: Auto-Configuration Error: Cannot find Java binary bin/java","body":"<p>I had the same error but I resolved it with the correct installation of the jdk. Check that your version of bazel does not mark this Warning:</p>\n<pre><code>bazel version \nBazelisk version: v1.11.0\n**WARNING: Ignoring JAVA_HOME, because it must point to a JDK, not a JRE.**\nBuild label: 4.2.1\nBuild target: bazel-out/k8-opt/bin/src/main/java/com/google/devtools/build/lib/bazel/BazelServer_deploy.jar\nBuild time: Mon Aug 30 15:17:47 2021 (1630336667)\nBuild timestamp: 1630336667\nBuild timestamp as int: 1630336667\n</code></pre>\n<p>If this warning appears, it means that we have a problem with the jdk, validate that you have the javac command installed with the following command:</p>\n<pre><code>javac -version\n</code></pre>\n<p>If it is not installed, look for the installation for your platform, in my case it is with the following command:</p>\n<pre><code>sudo apt install default-jdk\n</code></pre>\n<p>Finally verify the installation directory with the following command:</p>\n<pre><code>sudo update-alternatives --config javac\n</code></pre>\n<p>Make sure you have the JAVA_HOME configured correctly.</p>\n"},{"tags":[],"owner":{"account_id":97993,"reputation":90071,"user_id":265521,"accept_rate":58,"display_name":"Timmmm"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673264435,"creation_date":1673264435,"answer_id":75056754,"question_id":68594321,"body_markdown":"This is a confusing error message - it says it can&#39;t find `bin/java` but I did have `java` available on my system.\r\n\r\nThe issue is that I had the JRE (Java Runtime Environment) which lets you run Java programs with the `java` command, but I did not have the JDK (Java Development Environment) which lets you *compile* Java code with the `javac` command. That&#39;s what Bazel actually wants.\r\n\r\nI&#39;m on RHEL 8 so I installed it like this:\r\n\r\n```\r\nsudo dnf install java-1.8.0-openjdk-devel\r\n```","title":"Error in fail: Auto-Configuration Error: Cannot find Java binary bin/java","body":"<p>This is a confusing error message - it says it can't find <code>bin/java</code> but I did have <code>java</code> available on my system.</p>\n<p>The issue is that I had the JRE (Java Runtime Environment) which lets you run Java programs with the <code>java</code> command, but I did not have the JDK (Java Development Environment) which lets you <em>compile</em> Java code with the <code>javac</code> command. That's what Bazel actually wants.</p>\n<p>I'm on RHEL 8 so I installed it like this:</p>\n<pre><code>sudo dnf install java-1.8.0-openjdk-devel\n</code></pre>\n"}],"owner":{"account_id":9436770,"reputation":239,"user_id":7018565,"display_name":"user7018565"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2636,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":3,"score":3,"last_activity_date":1673264435,"creation_date":1627662779,"question_id":68594321,"body_markdown":"I am using the following configuration on an up-to-date Debian Testing:\r\n\r\n~~~~\r\n$ bazel version\r\nBazelisk version: v1.10.1\r\nStarting local Bazel server and connecting to it...\r\nBuild label: 4.0.0\r\nBuild target: bazel-out/k8-opt/bin/src/main/java/com/google/devtools/build/lib/bazel/BazelServer_deploy.jar\r\nBuild time: Thu Jan 21 07:33:24 2021 (1611214404)\r\nBuild timestamp: 1611214404\r\nBuild timestamp as int: 1611214404\r\n~~~~\r\n\r\nI have openjdk 11 (currently 11.0.11) installed and `update-alternatives` points to it via `/usr/bin/java`. Environment variable `JAVA_HOME` is **unset**.\r\n\r\nIn this configuration the following command fails:\r\n\r\n~~~~\r\n$ bazel coverage --config=linux_x86 -c dbg --instrumentation_filter=&quot;//implementation:atos_utest&quot; //implementation/src/utest:all 2&gt;&amp;1 | tee /tmp/buildlog.txt\r\n2021/07/30 16:40:49 Downloading https://releases.bazel.build/4.0.0/release/bazel-4.0.0-linux-x86_64...\r\nExtracting Bazel installation...\r\nStarting local Bazel server and connecting to it...\r\nLoading: \r\nLoading: 0 packages loaded\r\nLoading: 0 packages loaded\r\n    currently loading: implementation/src/utest\r\nAnalyzing: 27 targets (1 packages loaded)\r\nAnalyzing: 27 targets (1 packages loaded, 0 targets configured)\r\nAnalyzing: 27 targets (18 packages loaded, 73 targets configured)\r\nAnalyzing: 27 targets (27 packages loaded, 144 targets configured)\r\nERROR: /home/atoml/.cache/bazel/_bazel_atoml/ababbc8a7f78bac9d28b91a651da5105/external/local_jdk/BUILD.bazel:3:10: in fail_rule rule @local_jdk//:jdk: \r\nTraceback (most recent call last):\r\n\tFile &quot;/home/atoml/.cache/bazel/_bazel_atoml/ababbc8a7f78bac9d28b91a651da5105/external/bazel_tools/tools/jdk/fail_rule.bzl&quot;, line 19, column 13, in _fail_rule_impl\r\n\t\tfail(&quot;%s %s&quot; % (ctx.attr.header, ctx.attr.message))\r\nError in fail: Auto-Configuration Error: Cannot find Java binary bin/java in /home/atoml/.cache/bazel/_bazel_atoml/install/1a4a2fac02d50c77031d44c0d91b8920/embedded_tools/tools/jdk/nosystemjdk; either correct your JAVA_HOME, PATH or specify embedded Java (e.g. --javabase=@bazel_tools//tools/jdk:remote_jdk11)\r\nERROR: Analysis of target &#39;//implementation/src/utest:uut_compdb&#39; failed; build aborted: Analysis of target &#39;@local_jdk//:jdk&#39; failed\r\nINFO: Elapsed time: 7.681s\r\nINFO: 0 processes.\r\nFAILED: Build did NOT complete successfully (29 packages loaded, 367 targets configured)\r\nERROR: Couldn&#39;t start the build. Unable to run tests\r\nFAILED: Build did NOT complete successfully (29 packages loaded, 367 targets configured)\r\n~~~~\r\n\r\nOther build commands succeed. This is a VM setup, on other VM instances with the same configuration as described above, this command succeeds.\r\n\r\nI&#39;d be grateful for hints.  Simple things like `bazel clean` as in [a similar question][1] do not help, I have even removed the build cache completely, but to no avail. BTW. my build has nothing to do with android.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/68481735/error-in-fail-auto-configuration-error-cannot-find-java-binary","title":"Error in fail: Auto-Configuration Error: Cannot find Java binary bin/java","body":"<p>I am using the following configuration on an up-to-date Debian Testing:</p>\n<pre><code>$ bazel version\nBazelisk version: v1.10.1\nStarting local Bazel server and connecting to it...\nBuild label: 4.0.0\nBuild target: bazel-out/k8-opt/bin/src/main/java/com/google/devtools/build/lib/bazel/BazelServer_deploy.jar\nBuild time: Thu Jan 21 07:33:24 2021 (1611214404)\nBuild timestamp: 1611214404\nBuild timestamp as int: 1611214404\n</code></pre>\n<p>I have openjdk 11 (currently 11.0.11) installed and <code>update-alternatives</code> points to it via <code>/usr/bin/java</code>. Environment variable <code>JAVA_HOME</code> is <strong>unset</strong>.</p>\n<p>In this configuration the following command fails:</p>\n<pre><code>$ bazel coverage --config=linux_x86 -c dbg --instrumentation_filter=&quot;//implementation:atos_utest&quot; //implementation/src/utest:all 2&gt;&amp;1 | tee /tmp/buildlog.txt\n2021/07/30 16:40:49 Downloading https://releases.bazel.build/4.0.0/release/bazel-4.0.0-linux-x86_64...\nExtracting Bazel installation...\nStarting local Bazel server and connecting to it...\nLoading: \nLoading: 0 packages loaded\nLoading: 0 packages loaded\n    currently loading: implementation/src/utest\nAnalyzing: 27 targets (1 packages loaded)\nAnalyzing: 27 targets (1 packages loaded, 0 targets configured)\nAnalyzing: 27 targets (18 packages loaded, 73 targets configured)\nAnalyzing: 27 targets (27 packages loaded, 144 targets configured)\nERROR: /home/atoml/.cache/bazel/_bazel_atoml/ababbc8a7f78bac9d28b91a651da5105/external/local_jdk/BUILD.bazel:3:10: in fail_rule rule @local_jdk//:jdk: \nTraceback (most recent call last):\n    File &quot;/home/atoml/.cache/bazel/_bazel_atoml/ababbc8a7f78bac9d28b91a651da5105/external/bazel_tools/tools/jdk/fail_rule.bzl&quot;, line 19, column 13, in _fail_rule_impl\n        fail(&quot;%s %s&quot; % (ctx.attr.header, ctx.attr.message))\nError in fail: Auto-Configuration Error: Cannot find Java binary bin/java in /home/atoml/.cache/bazel/_bazel_atoml/install/1a4a2fac02d50c77031d44c0d91b8920/embedded_tools/tools/jdk/nosystemjdk; either correct your JAVA_HOME, PATH or specify embedded Java (e.g. --javabase=@bazel_tools//tools/jdk:remote_jdk11)\nERROR: Analysis of target '//implementation/src/utest:uut_compdb' failed; build aborted: Analysis of target '@local_jdk//:jdk' failed\nINFO: Elapsed time: 7.681s\nINFO: 0 processes.\nFAILED: Build did NOT complete successfully (29 packages loaded, 367 targets configured)\nERROR: Couldn't start the build. Unable to run tests\nFAILED: Build did NOT complete successfully (29 packages loaded, 367 targets configured)\n</code></pre>\n<p>Other build commands succeed. This is a VM setup, on other VM instances with the same configuration as described above, this command succeeds.</p>\n<p>I'd be grateful for hints.  Simple things like <code>bazel clean</code> as in <a href=\"https://stackoverflow.com/questions/68481735/error-in-fail-auto-configuration-error-cannot-find-java-binary\">a similar question</a> do not help, I have even removed the build cache completely, but to no avail. BTW. my build has nothing to do with android.</p>\n"},{"tags":["javascript","java","android","kotlin"],"answers":[{"comments":[{"owner":{"account_id":10661662,"reputation":79,"user_id":7849477,"display_name":"GNova"},"score":0,"creation_date":1673019298,"post_id":75032491,"comment_id":132409875,"body_markdown":"This is a public event, which I can already see in the Chrome console after it is fired off, just like a click event, I just need a way to see the same event in the app.\n\nExample: after the event is emmited, I want to trigger a popup in app...\n\nFrom your first paragraph you are saying there is no way to do this from in App, only way is to have the original page update something externally and check it in App?","body":"This is a public event, which I can already see in the Chrome console after it is fired off, just like a click event, I just need a way to see the same event in the app.  Example: after the event is emmited, I want to trigger a popup in app...  From your first paragraph you are saying there is no way to do this from in App, only way is to have the original page update something externally and check it in App?"},{"owner":{"account_id":19962129,"reputation":379,"user_id":14629458,"display_name":"Yasser CHENIK"},"score":0,"creation_date":1673021591,"post_id":75032491,"comment_id":132410764,"body_markdown":"@GNova yes , exactly !","body":"@GNova yes , exactly !"}],"tags":[],"owner":{"account_id":19962129,"reputation":379,"user_id":14629458,"display_name":"Yasser CHENIK"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673016726,"creation_date":1673016726,"answer_id":75032491,"question_id":75032331,"body_markdown":"The answer here depends on why you want it ! One way to do it is with updating a field in database when the event is triggered and you need to have a looping check in your java code that asks the same database if the event was triggered ... &lt;br /&gt;\r\nAlso, You can&#39;t access that information directly ! Witch is very good to provide security for the user … imagine you take the user to his PayPal account and he sees a perfectly functioning PayPal web page with all purchases. If your android app has access to the scripts in his website, i think we all know what can happend.\r\n","title":"How to listen for javascript events from a native android application?","body":"<p>The answer here depends on why you want it ! One way to do it is with updating a field in database when the event is triggered and you need to have a looping check in your java code that asks the same database if the event was triggered ... <br />\nAlso, You can't access that information directly ! Witch is very good to provide security for the user … imagine you take the user to his PayPal account and he sees a perfectly functioning PayPal web page with all purchases. If your android app has access to the scripts in his website, i think we all know what can happend.</p>\n"},{"tags":[],"owner":{"account_id":10661662,"reputation":79,"user_id":7849477,"display_name":"GNova"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1673264053,"creation_date":1673264053,"answer_id":75056684,"question_id":75032331,"body_markdown":"I found the solution that seems to have worked, it was posted on another Answer:\r\n\r\nUsing our webview implementation. We implemented the onPageFinished method in order to inject our JS code to load the web:\r\n\r\n    override fun onPageFinished(url: String?) {\r\n    webview.loadUrl(\r\n    &quot;javascript:(function() {&quot; +\r\n        &quot;window.parent.addEventListener (&#39;message&#39;, function(event) {&quot; +\r\n        &quot; Android.receiveMessage(JSON.stringify(event.data));});&quot; +\r\n        &quot;})()&quot;\r\n    )\r\n    }\r\n\r\n\r\nwhat we are doing is creating a listener that sends those messages to our own JS and Android Bridge interface. Which we&#39;ve previously created in the webview setup in our Android activity as we normally do with addJavascriptInterface.\r\n\r\n    webview.addJavascriptInterface(JsObject(presenter), &quot;Android”)\r\n\r\nThis way, we already have that communication bridge and all the messages sent by the postMessage will reach us in that interface that is subscribed with that listener.\r\n\r\n    class JsObject(val presenter: Presenter) {\r\n        @JavascriptInterface\r\n        fun receiveMessage(data: String): Boolean {\r\n            presenter.onDataReceived(data)\r\n            Log.d(&quot;Data from JS&quot;, data)\r\n            return true\r\n        }\r\n\r\nOriginal Answer:\r\nhttps://stackoverflow.com/a/62500309/7849477\r\n\r\nHope it helps someone else.","title":"How to listen for javascript events from a native android application?","body":"<p>I found the solution that seems to have worked, it was posted on another Answer:</p>\n<p>Using our webview implementation. We implemented the onPageFinished method in order to inject our JS code to load the web:</p>\n<pre><code>override fun onPageFinished(url: String?) {\nwebview.loadUrl(\n&quot;javascript:(function() {&quot; +\n    &quot;window.parent.addEventListener ('message', function(event) {&quot; +\n    &quot; Android.receiveMessage(JSON.stringify(event.data));});&quot; +\n    &quot;})()&quot;\n)\n}\n</code></pre>\n<p>what we are doing is creating a listener that sends those messages to our own JS and Android Bridge interface. Which we've previously created in the webview setup in our Android activity as we normally do with addJavascriptInterface.</p>\n<pre><code>webview.addJavascriptInterface(JsObject(presenter), &quot;Android”)\n</code></pre>\n<p>This way, we already have that communication bridge and all the messages sent by the postMessage will reach us in that interface that is subscribed with that listener.</p>\n<pre><code>class JsObject(val presenter: Presenter) {\n    @JavascriptInterface\n    fun receiveMessage(data: String): Boolean {\n        presenter.onDataReceived(data)\n        Log.d(&quot;Data from JS&quot;, data)\n        return true\n    }\n</code></pre>\n<p>Original Answer:\n<a href=\"https://stackoverflow.com/a/62500309/7849477\">https://stackoverflow.com/a/62500309/7849477</a></p>\n<p>Hope it helps someone else.</p>\n"}],"owner":{"account_id":10661662,"reputation":79,"user_id":7849477,"display_name":"GNova"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":893,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75056684,"answer_count":2,"score":1,"last_activity_date":1673264053,"creation_date":1673015912,"question_id":75032331,"body_markdown":"I have a native Android app that has a webView that loads a web page I have no control over.\r\n\r\nIn app I need to track/detect a “MessageEvent” that happens when a button is clicked on this page within the webView. \r\n\r\nScenario: \r\nUser presses a button within the webView which fires off a &quot;MessageEvent&quot;, When this “MessageEvent” is detected, a method in the Java/Kotlin code needs to be called, either through a listener that waits for this “MessageEvent” or another way(irrelevant how the method is called).\r\n\r\n\r\nMy main concern is how to detect this javascript “MessageEvent” event within my Java/Kotlin code.","title":"How to listen for javascript events from a native android application?","body":"<p>I have a native Android app that has a webView that loads a web page I have no control over.</p>\n<p>In app I need to track/detect a “MessageEvent” that happens when a button is clicked on this page within the webView.</p>\n<p>Scenario:\nUser presses a button within the webView which fires off a &quot;MessageEvent&quot;, When this “MessageEvent” is detected, a method in the Java/Kotlin code needs to be called, either through a listener that waits for this “MessageEvent” or another way(irrelevant how the method is called).</p>\n<p>My main concern is how to detect this javascript “MessageEvent” event within my Java/Kotlin code.</p>\n"},{"tags":["java","jsf","jakarta-ee-security-api"],"comments":[{"owner":{"account_id":384223,"reputation":1237,"user_id":740582,"accept_rate":39,"display_name":"Marcos"},"score":0,"creation_date":1673360766,"post_id":74988689,"comment_id":132477822,"body_markdown":"Maybe this question can be helpful: https://stackoverflow.com/questions/64750354/on-a-successful-login-securitycontext-authenticate-returns-authenticationstat","body":"Maybe this question can be helpful: <a href=\"https://stackoverflow.com/questions/64750354/on-a-successful-login-securitycontext-authenticate-returns-authenticationstat\" title=\"on a successful login securitycontext authenticate returns authenticationstat\">stackoverflow.com/questions/64750354/&hellip;</a>"}],"answers":[{"comments":[{"owner":{"account_id":19624165,"reputation":35,"user_id":14363960,"display_name":"mauvecrow"},"score":0,"creation_date":1674507317,"post_id":75056670,"comment_id":132724957,"body_markdown":"Hi. Sorry it took so long to respond.\nAdding AutoApplySession to my ApplicationConfig did not work. It did prompt an interesting message about using AutoApplySession on a HttpAuthenticationMechanism so I&#39;m playing around with that now","body":"Hi. Sorry it took so long to respond. Adding AutoApplySession to my ApplicationConfig did not work. It did prompt an interesting message about using AutoApplySession on a HttpAuthenticationMechanism so I&#39;m playing around with that now"}],"tags":[],"owner":{"account_id":907715,"reputation":3073,"user_id":942261,"accept_rate":88,"display_name":"DaveB"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673263943,"creation_date":1673263943,"answer_id":75056670,"question_id":74988689,"body_markdown":"Have you tried adding [@AutoApplySession][1] to your ApplicationConfig? This should instruct the servlet to store authentication status in Session scope\r\n\r\n\r\n  [1]: https://javaee.github.io/security-api/apidocs/index.html?javax/security/enterprise/authentication/mechanism/http/AutoApplySession.html","title":"Jakarta EE 10: Why am I being asked to login again after already loggin in?","body":"<p>Have you tried adding <a href=\"https://javaee.github.io/security-api/apidocs/index.html?javax/security/enterprise/authentication/mechanism/http/AutoApplySession.html\" rel=\"nofollow noreferrer\">@AutoApplySession</a> to your ApplicationConfig? This should instruct the servlet to store authentication status in Session scope</p>\n"}],"owner":{"account_id":19624165,"reputation":35,"user_id":14363960,"display_name":"mauvecrow"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":433,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1673263943,"creation_date":1672714535,"question_id":74988689,"body_markdown":"I am trying to implement role based security to a web app using Jakarta EE 10 and JSF 4.0.\r\nI currently have some resources secured with the following url pattern: /myApp/*. (details in web.xml below)\r\n\r\nI am using a custom database identity store and a custom form authentication mechanism. I believe this is working correctly since I am being asked to login, and entering appropriate credentials redirects me to the desired page: /myApp/transactions.xhtml.\r\n\r\nI have another page, /myApp/import.xhtml. I access this page via a custom component, that currently uses h:commandLink, defined in transactions.xhtml.\r\n\r\nMy question: why am I being asked to login again when I navigate from transaction.xhtml to import.xhtml? My expectation is that I should be prompted to login once, and then be able to access any secured pages (e.g. import.xhtml) without having to login again.\r\n\r\nI do add my user to the session map (see below Login bean). \r\n\r\nHere is the code for the application configuration to do custom database identity store and a custom form authentication mechanism:\r\n\r\n\r\n\r\n```\r\n@ApplicationScoped\r\n@DatabaseIdentityStoreDefinition(\r\n        dataSourceLookup = &quot;java:/MySqlDS&quot;,\r\n        callerQuery = &quot;select enc_password from id_store_callers where username = ?&quot;,\r\n        groupsQuery = &quot;select idsg.group_name from id_store_groups idsg, id_store_callers idsc &quot; +\r\n                &quot;where idsg.caller_id = idsc.ids_caller_id and idsc.username = ?&quot;\r\n)\r\n@CustomFormAuthenticationMechanismDefinition(\r\n        loginToContinue = @LoginToContinue(\r\n                loginPage = &quot;/login.xhtml&quot;,\r\n                errorPage = &quot;&quot;,\r\n                useForwardToLogin = false\r\n        )\r\n)\r\npublic class ApplicationConfig {\r\n}\r\n```\r\n\r\n\r\n\r\nLogin page\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;!DOCTYPE html&gt;\r\n&lt;html xmlns=&quot;http://www.w3.org/1999/xhtml&quot;\r\n      xmlns:h=&quot;jakarta.faces.html&quot;\r\n      xmlns:ui=&quot;jakarta.faces.facelets&quot;\r\n      xmlns:f=&quot;jakarta.faces.core&quot;&gt;\r\n&lt;f:view&gt;\r\n    &lt;h:head&gt;\r\n        &lt;title&gt;Login&lt;/title&gt;\r\n    &lt;/h:head&gt;\r\n    &lt;h:body&gt;\r\n        &lt;h:form&gt;\r\n            &lt;h:outputLabel for=&quot;username&quot; value=&quot;Username&quot;/&gt;\r\n            &lt;h:inputText id=&quot;username&quot; value=&quot;#{cLogin.username}&quot; size=&quot;45&quot; /&gt;\r\n            &lt;br /&gt;\r\n            &lt;h:outputLabel for=&quot;password&quot; value=&quot;Password&quot;/&gt;\r\n            &lt;h:inputSecret id=&quot;password&quot; value=&quot;#{cLogin.password}&quot; size=&quot;45&quot; /&gt;\r\n            &lt;br /&gt;\r\n            &lt;h:commandButton value=&quot;Login&quot; action=&quot;#{cLogin.login()}&quot; ajax=&quot;false&quot;/&gt;\r\n        &lt;/h:form&gt;\r\n    &lt;/h:body&gt;\r\n\r\n&lt;/f:view&gt;\r\n&lt;/html&gt;\r\n```\r\n\r\n\r\n\r\n\r\n\r\n\r\nLogin bean:\r\n\r\n```\r\n@Named(&quot;cLogin&quot;)\r\n@ViewScoped\r\npublic class LoginController implements Serializable {\r\n\r\n    @Inject\r\n    SecurityContext securityContext;\r\n\r\n    @Inject\r\n    FacesContext facesContext;\r\n\r\n    private String username;\r\n\r\n    private String password;\r\n\r\n    public void login() throws IOException {\r\n        ExternalContext ec = facesContext.getExternalContext();\r\n        HttpServletRequest req = (HttpServletRequest) ec.getRequest();\r\n        HttpServletResponse resp = (HttpServletResponse) ec.getResponse();\r\n\r\n        AuthenticationParameters params = AuthenticationParameters.withParams()\r\n                        .credential(\r\n                                new UsernamePasswordCredential(username,password)\r\n                        );\r\n        AuthenticationStatus outcome = securityContext.authenticate(req, resp, params);\r\n\r\n        String url = (String) ec.getRequestMap()\r\n                .get(RequestDispatcher.FORWARD_REQUEST_URI);\r\n        System.out.println(&quot;url: &quot; + url);\r\n        String query = (String) ec.getRequestMap()\r\n                .get(RequestDispatcher.FORWARD_QUERY_STRING);\r\n        System.out.println(&quot;query: &quot; + query);\r\n\r\n        if(outcome != AuthenticationStatus.SEND_FAILURE){\r\n            System.out.println(&quot;auth status: &quot; + outcome);\r\n            ec.getSessionMap()\r\n                    .putIfAbsent(&quot;user&quot;,securityContext.getCallerPrincipal().getName());\r\n            System.out.println(&quot;session user: &quot; + ec.getSessionMap().get(&quot;user&quot;));\r\n\r\n            if(url == null &amp;&amp; outcome == AuthenticationStatus.SUCCESS){\r\n                url = ec.getRequestContextPath() + &quot;/myApp/transactions.xhtml&quot;;\r\n                ec.redirect(url);\r\n            }\r\n            else if(url == null &amp;&amp; outcome == AuthenticationStatus.SEND_CONTINUE){\r\n                facesContext.responseComplete();\r\n            }\r\n        }\r\n        else {\r\n            facesContext.addMessage(null, new FacesMessage(FacesMessage.SEVERITY_ERROR, &quot;invalid credentials&quot;, null));\r\n        }\r\n\r\n    }\r\n\r\n    public String logout() throws ServletException {\r\n        ExternalContext ec = facesContext.getExternalContext();\r\n        ((HttpServletRequest)ec.getRequest())\r\n                .logout();\r\n        return &quot;/index.html?faces-redirect=true&quot;;\r\n    }\r\n\r\n    public String returnHome() {\r\n        return &quot;/myApp/transactions.xhtml?faces-redirect=true&quot;;\r\n    }\r\n\r\n    public String getUsername() {\r\n        return username;\r\n    }\r\n\r\n    public void setUsername(String username) {\r\n        this.username = username;\r\n    }\r\n\r\n    public String getPassword() {\r\n        return password;\r\n    }\r\n\r\n    public void setPassword(String password) {\r\n        this.password = password;\r\n    }\r\n```\r\n\r\n\r\n\r\nweb.xml\r\n\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;web-app xmlns=&quot;https://jakarta.ee/xml/ns/jakartaee&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;https://jakarta.ee/xml/ns/jakartaee https://jakarta.ee/xml/ns/jakartaee/web-app_6_0.xsd&quot;\r\n         version=&quot;6.0&quot;&gt;\r\n    &lt;servlet&gt;\r\n        &lt;servlet-name&gt;facesServlet&lt;/servlet-name&gt;\r\n        &lt;servlet-class&gt;jakarta.faces.webapp.FacesServlet&lt;/servlet-class&gt;\r\n    &lt;/servlet&gt;\r\n    &lt;servlet-mapping&gt;\r\n        &lt;servlet-name&gt;facesServlet&lt;/servlet-name&gt;\r\n        &lt;url-pattern&gt;*.xhtml&lt;/url-pattern&gt;\r\n    &lt;/servlet-mapping&gt;\r\n    &lt;security-constraint&gt;\r\n        &lt;display-name&gt;Planner Role&lt;/display-name&gt;\r\n        &lt;web-resource-collection&gt;\r\n            &lt;web-resource-name&gt;All Transaction Pages&lt;/web-resource-name&gt;\r\n            &lt;url-pattern&gt;/myApp/*&lt;/url-pattern&gt;\r\n        &lt;/web-resource-collection&gt;\r\n        &lt;auth-constraint&gt;\r\n            &lt;role-name&gt;planner&lt;/role-name&gt;\r\n        &lt;/auth-constraint&gt;\r\n    &lt;/security-constraint&gt;\r\n    &lt;security-constraint&gt;\r\n        &lt;web-resource-collection&gt;\r\n            &lt;web-resource-name&gt;JSF resources&lt;/web-resource-name&gt;\r\n            &lt;url-pattern&gt;/resources/*&lt;/url-pattern&gt;\r\n        &lt;/web-resource-collection&gt;\r\n        &lt;auth-constraint /&gt;\r\n    &lt;/security-constraint&gt;\r\n    &lt;welcome-file-list&gt;\r\n        &lt;welcome-file&gt;/index.xhtml&lt;/welcome-file&gt;\r\n    &lt;/welcome-file-list&gt;\r\n&lt;/web-app&gt;\r\n```\r\n\r\n\r\n\r\ntransactions.xhtml\r\n\r\n\r\n```\r\n&lt;ui:composition\r\n    xmlns:h=&quot;jakarta.faces.html&quot;\r\n    xmlns:ui=&quot;jakarta.faces.facelets&quot;\r\n    template=&quot;/WEB-INF/templates/homeTemplate.xhtml&quot;\r\n    xmlns:bq=&quot;jakarta.faces.composite/bqcomp&quot;\r\n&gt;\r\n    &lt;ui:param name=&quot;title&quot; value=&quot;My Transactions Home&quot; /&gt;\r\n    &lt;ui:define name=&quot;header&quot;&gt;\r\n        &lt;h:link value=&quot;Home&quot; outcome=&quot;#{cLogin.returnHome()}&quot;/&gt;\r\n        &lt;h:link value=&quot;Logout&quot; outcome=&quot;#{cLogin.logout()}&quot;/&gt;\r\n    &lt;/ui:define&gt;\r\n    &lt;ui:define name=&quot;main&quot;&gt;\r\n        &lt;h:outputStylesheet library=&quot;myApp&quot; name=&quot;css/components.css&quot; target=&quot;head&quot; /&gt;\r\n        &lt;h3&gt;Welcome #{cUser.username}&lt;/h3&gt;\r\n        &lt;bq:card title=&quot;Import&quot; image=&quot;upload.png&quot; navigation=&quot;import.xhtml?faces-redirect=true&quot;/&gt;\r\n    &lt;/ui:define&gt;\r\n&lt;/ui:composition&gt;\r\n```\r\n\r\n\r\n\r\ncard component:\r\n\r\n\r\n```\r\n&lt;ui:component xmlns:composite=&quot;jakarta.faces.composite&quot;\r\n    xmlns:ui=&quot;jakarta.faces.facelets&quot;\r\n    xmlns:h=&quot;jakarta.faces.html&quot;&gt;\r\n    &lt;composite:interface name=&quot;card&quot;\r\n                  displayName=&quot;Simple Card component&quot;&gt;\r\n        &lt;composite:attribute name=&quot;title&quot; required=&quot;true&quot; /&gt;\r\n        &lt;composite:attribute name=&quot;image&quot; required=&quot;false&quot; /&gt;\r\n        &lt;composite:attribute name=&quot;navigation&quot; /&gt;\r\n    &lt;/composite:interface&gt;\r\n    &lt;composite:implementation&gt;\r\n        &lt;div class=&quot;card-outer&quot;&gt;\r\n            &lt;div class=&quot;card-text&quot;&gt;\r\n                &lt;h:outputText value=&quot;#{cc.attrs.title}&quot; /&gt;\r\n            &lt;/div&gt;\r\n            &lt;div class=&quot;card-inner&quot;&gt;\r\n&lt;h:form&gt;\r\n    &lt;h:commandLink action=&quot;#{cUser.cardAction(cc.attrs.navigation)}&quot; &gt;\r\n        &lt;h:graphicImage library=&quot;images&quot; name=&quot;#{cc.attrs.image}&quot; rendered=&quot;#{not empty cc.attrs.image}&quot;/&gt;\r\n    &lt;/h:commandLink&gt;\r\n&lt;/h:form&gt;\r\n\r\n\r\n            &lt;/div&gt;\r\n        &lt;/div&gt;\r\n    &lt;/composite:implementation&gt;\r\n&lt;/ui:component&gt;\r\n\r\n```\r\n\r\n\r\n\r\n\r\nLastly, I&#39;m a coding enthusiast. Forgive me if there is something basic/fundamental that I&#39;m missing. I&#39;m trying to learn to build my own web app with Java, any feedback is welcome.\r\n\r\nThanks.\r\n\r\nI&#39;ve tried changing the Login bean from ViewScope and SessionScope. Looking at other posts, it seemed like the key is to have a &quot;user&quot; object in the Session Map; but I don&#39;t fully understand the significance of the &quot;user&quot; object.\r\n\r\nI am using a Database Identity store because I don&#39;t want to configure users and roles within the application server; I am defining them in a MySql database. I have a separate been to register new users with the &quot;planner&quot; role. That is working fine.\r\n\r\nI want to have secured pages, and I also only expect to login once per session. ","title":"Jakarta EE 10: Why am I being asked to login again after already loggin in?","body":"<p>I am trying to implement role based security to a web app using Jakarta EE 10 and JSF 4.0.\nI currently have some resources secured with the following url pattern: /myApp/*. (details in web.xml below)</p>\n<p>I am using a custom database identity store and a custom form authentication mechanism. I believe this is working correctly since I am being asked to login, and entering appropriate credentials redirects me to the desired page: /myApp/transactions.xhtml.</p>\n<p>I have another page, /myApp/import.xhtml. I access this page via a custom component, that currently uses h:commandLink, defined in transactions.xhtml.</p>\n<p>My question: why am I being asked to login again when I navigate from transaction.xhtml to import.xhtml? My expectation is that I should be prompted to login once, and then be able to access any secured pages (e.g. import.xhtml) without having to login again.</p>\n<p>I do add my user to the session map (see below Login bean).</p>\n<p>Here is the code for the application configuration to do custom database identity store and a custom form authentication mechanism:</p>\n<pre><code>@ApplicationScoped\n@DatabaseIdentityStoreDefinition(\n        dataSourceLookup = &quot;java:/MySqlDS&quot;,\n        callerQuery = &quot;select enc_password from id_store_callers where username = ?&quot;,\n        groupsQuery = &quot;select idsg.group_name from id_store_groups idsg, id_store_callers idsc &quot; +\n                &quot;where idsg.caller_id = idsc.ids_caller_id and idsc.username = ?&quot;\n)\n@CustomFormAuthenticationMechanismDefinition(\n        loginToContinue = @LoginToContinue(\n                loginPage = &quot;/login.xhtml&quot;,\n                errorPage = &quot;&quot;,\n                useForwardToLogin = false\n        )\n)\npublic class ApplicationConfig {\n}\n</code></pre>\n<p>Login page</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;!DOCTYPE html&gt;\n&lt;html xmlns=&quot;http://www.w3.org/1999/xhtml&quot;\n      xmlns:h=&quot;jakarta.faces.html&quot;\n      xmlns:ui=&quot;jakarta.faces.facelets&quot;\n      xmlns:f=&quot;jakarta.faces.core&quot;&gt;\n&lt;f:view&gt;\n    &lt;h:head&gt;\n        &lt;title&gt;Login&lt;/title&gt;\n    &lt;/h:head&gt;\n    &lt;h:body&gt;\n        &lt;h:form&gt;\n            &lt;h:outputLabel for=&quot;username&quot; value=&quot;Username&quot;/&gt;\n            &lt;h:inputText id=&quot;username&quot; value=&quot;#{cLogin.username}&quot; size=&quot;45&quot; /&gt;\n            &lt;br /&gt;\n            &lt;h:outputLabel for=&quot;password&quot; value=&quot;Password&quot;/&gt;\n            &lt;h:inputSecret id=&quot;password&quot; value=&quot;#{cLogin.password}&quot; size=&quot;45&quot; /&gt;\n            &lt;br /&gt;\n            &lt;h:commandButton value=&quot;Login&quot; action=&quot;#{cLogin.login()}&quot; ajax=&quot;false&quot;/&gt;\n        &lt;/h:form&gt;\n    &lt;/h:body&gt;\n\n&lt;/f:view&gt;\n&lt;/html&gt;\n</code></pre>\n<p>Login bean:</p>\n<pre><code>@Named(&quot;cLogin&quot;)\n@ViewScoped\npublic class LoginController implements Serializable {\n\n    @Inject\n    SecurityContext securityContext;\n\n    @Inject\n    FacesContext facesContext;\n\n    private String username;\n\n    private String password;\n\n    public void login() throws IOException {\n        ExternalContext ec = facesContext.getExternalContext();\n        HttpServletRequest req = (HttpServletRequest) ec.getRequest();\n        HttpServletResponse resp = (HttpServletResponse) ec.getResponse();\n\n        AuthenticationParameters params = AuthenticationParameters.withParams()\n                        .credential(\n                                new UsernamePasswordCredential(username,password)\n                        );\n        AuthenticationStatus outcome = securityContext.authenticate(req, resp, params);\n\n        String url = (String) ec.getRequestMap()\n                .get(RequestDispatcher.FORWARD_REQUEST_URI);\n        System.out.println(&quot;url: &quot; + url);\n        String query = (String) ec.getRequestMap()\n                .get(RequestDispatcher.FORWARD_QUERY_STRING);\n        System.out.println(&quot;query: &quot; + query);\n\n        if(outcome != AuthenticationStatus.SEND_FAILURE){\n            System.out.println(&quot;auth status: &quot; + outcome);\n            ec.getSessionMap()\n                    .putIfAbsent(&quot;user&quot;,securityContext.getCallerPrincipal().getName());\n            System.out.println(&quot;session user: &quot; + ec.getSessionMap().get(&quot;user&quot;));\n\n            if(url == null &amp;&amp; outcome == AuthenticationStatus.SUCCESS){\n                url = ec.getRequestContextPath() + &quot;/myApp/transactions.xhtml&quot;;\n                ec.redirect(url);\n            }\n            else if(url == null &amp;&amp; outcome == AuthenticationStatus.SEND_CONTINUE){\n                facesContext.responseComplete();\n            }\n        }\n        else {\n            facesContext.addMessage(null, new FacesMessage(FacesMessage.SEVERITY_ERROR, &quot;invalid credentials&quot;, null));\n        }\n\n    }\n\n    public String logout() throws ServletException {\n        ExternalContext ec = facesContext.getExternalContext();\n        ((HttpServletRequest)ec.getRequest())\n                .logout();\n        return &quot;/index.html?faces-redirect=true&quot;;\n    }\n\n    public String returnHome() {\n        return &quot;/myApp/transactions.xhtml?faces-redirect=true&quot;;\n    }\n\n    public String getUsername() {\n        return username;\n    }\n\n    public void setUsername(String username) {\n        this.username = username;\n    }\n\n    public String getPassword() {\n        return password;\n    }\n\n    public void setPassword(String password) {\n        this.password = password;\n    }\n</code></pre>\n<p>web.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;web-app xmlns=&quot;https://jakarta.ee/xml/ns/jakartaee&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;https://jakarta.ee/xml/ns/jakartaee https://jakarta.ee/xml/ns/jakartaee/web-app_6_0.xsd&quot;\n         version=&quot;6.0&quot;&gt;\n    &lt;servlet&gt;\n        &lt;servlet-name&gt;facesServlet&lt;/servlet-name&gt;\n        &lt;servlet-class&gt;jakarta.faces.webapp.FacesServlet&lt;/servlet-class&gt;\n    &lt;/servlet&gt;\n    &lt;servlet-mapping&gt;\n        &lt;servlet-name&gt;facesServlet&lt;/servlet-name&gt;\n        &lt;url-pattern&gt;*.xhtml&lt;/url-pattern&gt;\n    &lt;/servlet-mapping&gt;\n    &lt;security-constraint&gt;\n        &lt;display-name&gt;Planner Role&lt;/display-name&gt;\n        &lt;web-resource-collection&gt;\n            &lt;web-resource-name&gt;All Transaction Pages&lt;/web-resource-name&gt;\n            &lt;url-pattern&gt;/myApp/*&lt;/url-pattern&gt;\n        &lt;/web-resource-collection&gt;\n        &lt;auth-constraint&gt;\n            &lt;role-name&gt;planner&lt;/role-name&gt;\n        &lt;/auth-constraint&gt;\n    &lt;/security-constraint&gt;\n    &lt;security-constraint&gt;\n        &lt;web-resource-collection&gt;\n            &lt;web-resource-name&gt;JSF resources&lt;/web-resource-name&gt;\n            &lt;url-pattern&gt;/resources/*&lt;/url-pattern&gt;\n        &lt;/web-resource-collection&gt;\n        &lt;auth-constraint /&gt;\n    &lt;/security-constraint&gt;\n    &lt;welcome-file-list&gt;\n        &lt;welcome-file&gt;/index.xhtml&lt;/welcome-file&gt;\n    &lt;/welcome-file-list&gt;\n&lt;/web-app&gt;\n</code></pre>\n<p>transactions.xhtml</p>\n<pre><code>&lt;ui:composition\n    xmlns:h=&quot;jakarta.faces.html&quot;\n    xmlns:ui=&quot;jakarta.faces.facelets&quot;\n    template=&quot;/WEB-INF/templates/homeTemplate.xhtml&quot;\n    xmlns:bq=&quot;jakarta.faces.composite/bqcomp&quot;\n&gt;\n    &lt;ui:param name=&quot;title&quot; value=&quot;My Transactions Home&quot; /&gt;\n    &lt;ui:define name=&quot;header&quot;&gt;\n        &lt;h:link value=&quot;Home&quot; outcome=&quot;#{cLogin.returnHome()}&quot;/&gt;\n        &lt;h:link value=&quot;Logout&quot; outcome=&quot;#{cLogin.logout()}&quot;/&gt;\n    &lt;/ui:define&gt;\n    &lt;ui:define name=&quot;main&quot;&gt;\n        &lt;h:outputStylesheet library=&quot;myApp&quot; name=&quot;css/components.css&quot; target=&quot;head&quot; /&gt;\n        &lt;h3&gt;Welcome #{cUser.username}&lt;/h3&gt;\n        &lt;bq:card title=&quot;Import&quot; image=&quot;upload.png&quot; navigation=&quot;import.xhtml?faces-redirect=true&quot;/&gt;\n    &lt;/ui:define&gt;\n&lt;/ui:composition&gt;\n</code></pre>\n<p>card component:</p>\n<pre><code>&lt;ui:component xmlns:composite=&quot;jakarta.faces.composite&quot;\n    xmlns:ui=&quot;jakarta.faces.facelets&quot;\n    xmlns:h=&quot;jakarta.faces.html&quot;&gt;\n    &lt;composite:interface name=&quot;card&quot;\n                  displayName=&quot;Simple Card component&quot;&gt;\n        &lt;composite:attribute name=&quot;title&quot; required=&quot;true&quot; /&gt;\n        &lt;composite:attribute name=&quot;image&quot; required=&quot;false&quot; /&gt;\n        &lt;composite:attribute name=&quot;navigation&quot; /&gt;\n    &lt;/composite:interface&gt;\n    &lt;composite:implementation&gt;\n        &lt;div class=&quot;card-outer&quot;&gt;\n            &lt;div class=&quot;card-text&quot;&gt;\n                &lt;h:outputText value=&quot;#{cc.attrs.title}&quot; /&gt;\n            &lt;/div&gt;\n            &lt;div class=&quot;card-inner&quot;&gt;\n&lt;h:form&gt;\n    &lt;h:commandLink action=&quot;#{cUser.cardAction(cc.attrs.navigation)}&quot; &gt;\n        &lt;h:graphicImage library=&quot;images&quot; name=&quot;#{cc.attrs.image}&quot; rendered=&quot;#{not empty cc.attrs.image}&quot;/&gt;\n    &lt;/h:commandLink&gt;\n&lt;/h:form&gt;\n\n\n            &lt;/div&gt;\n        &lt;/div&gt;\n    &lt;/composite:implementation&gt;\n&lt;/ui:component&gt;\n\n</code></pre>\n<p>Lastly, I'm a coding enthusiast. Forgive me if there is something basic/fundamental that I'm missing. I'm trying to learn to build my own web app with Java, any feedback is welcome.</p>\n<p>Thanks.</p>\n<p>I've tried changing the Login bean from ViewScope and SessionScope. Looking at other posts, it seemed like the key is to have a &quot;user&quot; object in the Session Map; but I don't fully understand the significance of the &quot;user&quot; object.</p>\n<p>I am using a Database Identity store because I don't want to configure users and roles within the application server; I am defining them in a MySql database. I have a separate been to register new users with the &quot;planner&quot; role. That is working fine.</p>\n<p>I want to have secured pages, and I also only expect to login once per session.</p>\n"},{"tags":["java","sharepoint","cmis","opencmis","java1.4"],"owner":{"account_id":27336946,"reputation":1,"user_id":20848237,"display_name":"Matt P."},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":91,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673263614,"creation_date":1673263529,"question_id":75056592,"body_markdown":"I have my connection to SP through open CMIS.\r\n\r\nI am trying to get cmis:contentStreamLength based on many cmis:objectId.\r\n\r\nThis select, for all documents works fine.\r\n\r\n`SELECT cmis:contentStreamLength FROM cmis:document`\r\n\r\nBut this query with where cond. doesn&#39;t.\r\n\r\n`SELECT cmis:contentStreamLength FROM cmis:document d WHERE ANY d.cmis:objectId IN (&#39;id&#39;,...)`\r\n\r\nOR\r\n\r\n`SELECT * FROM cmis:document d WHERE d.cmis:objectId = &#39;&quot;+contentId+&quot;&#39;&quot;` (just one id in form &quot;id&quot;)\r\n\r\nHere is the code in Java (1.4).\r\n\r\n    public int getSizeInBytes(String contentIds) {\r\n               String query = &quot;SELECT * FROM cmis:document d WHERE ANY d.cmis:objectId IN (&quot;+contentIds+&quot;)&quot;;\r\n               ItemIterable results = session.query(query,false);\r\n               int size=0;\r\n               Iterator iterator = results.iterator();\r\n               \r\n               while (iterator.hasNext()) {\r\n                   QueryResult res = (QueryResult) iterator.next();\r\n                   size +=   Integer.parseInt(res.getPropertyById(&quot;cmis:contentStreamLength&quot;).getFirstValue().toString());\r\n               }\r\n               \r\n               return size;\r\n           }\r\n\r\ncontetntIds are in the form of string like so - &quot;&#39;id&#39;,&#39;id&#39;,...&quot; - id as xxxx:xxxx\r\n\r\nIt breaks on  `while (iterator.hasNext())`\r\n\r\nexception :\r\n```\r\nCmisInvalidArgumentException: One or more of the input parameters to the service method is missing or invalid.\r\n```\r\nWhen I did\r\n\r\n`where d.cmis:createdBy = &quot;nonsens/non existent&quot;`\r\n\r\nIt just worked, like it didn&#39;t show a thing, so empty result is ok.\r\n\r\nWhat seems to be the problem ?\r\n\r\nEverything I tried is in details of my problem. \r\nI expect to get size of all documents with inputed ids.","title":"Java - CMIS query - WHERE IN","body":"<p>I have my connection to SP through open CMIS.</p>\n<p>I am trying to get cmis:contentStreamLength based on many cmis:objectId.</p>\n<p>This select, for all documents works fine.</p>\n<p><code>SELECT cmis:contentStreamLength FROM cmis:document</code></p>\n<p>But this query with where cond. doesn't.</p>\n<p><code>SELECT cmis:contentStreamLength FROM cmis:document d WHERE ANY d.cmis:objectId IN ('id',...)</code></p>\n<p>OR</p>\n<p><code>SELECT * FROM cmis:document d WHERE d.cmis:objectId = '&quot;+contentId+&quot;'&quot;</code> (just one id in form &quot;id&quot;)</p>\n<p>Here is the code in Java (1.4).</p>\n<pre><code>public int getSizeInBytes(String contentIds) {\n           String query = &quot;SELECT * FROM cmis:document d WHERE ANY d.cmis:objectId IN (&quot;+contentIds+&quot;)&quot;;\n           ItemIterable results = session.query(query,false);\n           int size=0;\n           Iterator iterator = results.iterator();\n           \n           while (iterator.hasNext()) {\n               QueryResult res = (QueryResult) iterator.next();\n               size +=   Integer.parseInt(res.getPropertyById(&quot;cmis:contentStreamLength&quot;).getFirstValue().toString());\n           }\n           \n           return size;\n       }\n</code></pre>\n<p>contetntIds are in the form of string like so - &quot;'id','id',...&quot; - id as xxxx:xxxx</p>\n<p>It breaks on  <code>while (iterator.hasNext())</code></p>\n<p>exception :</p>\n<pre><code>CmisInvalidArgumentException: One or more of the input parameters to the service method is missing or invalid.\n</code></pre>\n<p>When I did</p>\n<p><code>where d.cmis:createdBy = &quot;nonsens/non existent&quot;</code></p>\n<p>It just worked, like it didn't show a thing, so empty result is ok.</p>\n<p>What seems to be the problem ?</p>\n<p>Everything I tried is in details of my problem.\nI expect to get size of all documents with inputed ids.</p>\n"},{"tags":["java","path","srt"],"owner":{"account_id":26317982,"reputation":1,"user_id":19980460,"display_name":"Amir Hazim"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673263571,"creation_date":1673255096,"question_id":75055055,"body_markdown":"i am  developing an app that  add subtitle (srt file) to videos using ffmpeg\r\n\r\ni want to know how the get the path on an .srt file \r\n\r\nright now what i am doing this to get the srt file is \r\n\r\n```\r\n Intent intent = new Intent(Intent.ACTION_OPEN_DOCUMENT);\r\n\r\n          \r\n            intent.setType(&quot;*/*&quot;);\r\n\r\n             intent.addCategory(Intent.CATEGORY_OPENABLE);\r\n             intent.putExtra(Intent.EXTRA_LOCAL_ONLY, true)\r\n\r\n            startActivityForResult(intent, SELECT_SRT)\r\n)\r\n```\r\n\r\nso how can i use the startActivityForResult() to get the path?\r\n\r\ni did get the path of the video doing this \r\n```\r\n String[] projection = {MediaStore.Images.Media.DATA};\r\n        Cursor cursor = managedQuery(uri, projection, null, null, null);\r\n        if (cursor != null) {\r\n            try {\r\n                int column_index = cursor.getColumnIndexOrThrow(MediaStore.Video.Media.DATA);\r\n                cursor.moveToFirst();\r\n                return cursor.getString(column_index);\r\n            } catch (RuntimeException e) {\r\n\r\n                Log.d(&quot;TAG&quot;, &quot;MainActivity :  catch (RuntimeException e)&quot;);\r\n\r\n                return null;\r\n            }\r\n        } else return null;\r\n```\r\nbut this  will return null if its a SRT file    \r\n","title":"how to get the path of SRT file in andriod java","body":"<p>i am  developing an app that  add subtitle (srt file) to videos using ffmpeg</p>\n<p>i want to know how the get the path on an .srt file</p>\n<p>right now what i am doing this to get the srt file is</p>\n<pre><code> Intent intent = new Intent(Intent.ACTION_OPEN_DOCUMENT);\n\n          \n            intent.setType(&quot;*/*&quot;);\n\n             intent.addCategory(Intent.CATEGORY_OPENABLE);\n             intent.putExtra(Intent.EXTRA_LOCAL_ONLY, true)\n\n            startActivityForResult(intent, SELECT_SRT)\n)\n</code></pre>\n<p>so how can i use the startActivityForResult() to get the path?</p>\n<p>i did get the path of the video doing this</p>\n<pre><code> String[] projection = {MediaStore.Images.Media.DATA};\n        Cursor cursor = managedQuery(uri, projection, null, null, null);\n        if (cursor != null) {\n            try {\n                int column_index = cursor.getColumnIndexOrThrow(MediaStore.Video.Media.DATA);\n                cursor.moveToFirst();\n                return cursor.getString(column_index);\n            } catch (RuntimeException e) {\n\n                Log.d(&quot;TAG&quot;, &quot;MainActivity :  catch (RuntimeException e)&quot;);\n\n                return null;\n            }\n        } else return null;\n</code></pre>\n<p>but this  will return null if its a SRT file</p>\n"},{"tags":["java","spring-boot","logging","backend"],"answers":[{"tags":[],"owner":{"account_id":2073393,"reputation":2457,"user_id":1847378,"display_name":"AndrewL"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1673263441,"creation_date":1673263441,"answer_id":75056573,"question_id":75056242,"body_markdown":"First let&#39;s name the two applications:\r\n\r\n 1. API - the API service that you want to monitor\r\n 2. Monitor - which wants to see what calls are made to (1)\r\n\r\nThere are several ways to achieve this. \r\n\r\na) Open up a socket on Monitor for inbound traffic.  Communicate the IP address and socket port  manually to the API server, have it open up the connection to the Monitor and send some packet of data down this &quot;pipe&quot;.  This is the lowest level approach simple, but very fragile as you have to coordinate the starting of the services, and decide on a &quot;protocol&quot; for how the applications exchange data.\r\n\r\nb) REST: Create a RESTful controller on the Monitor app that accepts a POST.   Communicate the IP address and port manually to the API server.  Initiate a POST request to the Monitor app when needed.  This is more robust but still suffers from needing careful starting of the servers\r\n\r\nc) Message Queue. install a message queue system like RabbitMQ or ActiveMQ (available in Docker containers).  API server **publishes** a message to a **Queue**.  Monitor **subscribes** to the Queue.  Must more robust, still requires each application to be advised of the address of the MQ server, but now you can stop/start the two applications in any order\r\n\r\nd) The java logging article is good started into java logging. Most use cases log to a local file on the local server. There are some implementations of backend logging that send logs to remote places (I don&#39;t think that article covers them), and there are ways of adding your own custom receiver of this log traffic.  In this option, on the API side, it would use ordinary logging code with no knowledge of the downstream consumption of the logging.  Your monitor app would need to integrate tightly into a particular logging system with this approach. ","title":"App with Event logger on port:8080 listening calls from API port:8090 in SpringBoot","body":"<p>First let's name the two applications:</p>\n<ol>\n<li>API - the API service that you want to monitor</li>\n<li>Monitor - which wants to see what calls are made to (1)</li>\n</ol>\n<p>There are several ways to achieve this.</p>\n<p>a) Open up a socket on Monitor for inbound traffic.  Communicate the IP address and socket port  manually to the API server, have it open up the connection to the Monitor and send some packet of data down this &quot;pipe&quot;.  This is the lowest level approach simple, but very fragile as you have to coordinate the starting of the services, and decide on a &quot;protocol&quot; for how the applications exchange data.</p>\n<p>b) REST: Create a RESTful controller on the Monitor app that accepts a POST.   Communicate the IP address and port manually to the API server.  Initiate a POST request to the Monitor app when needed.  This is more robust but still suffers from needing careful starting of the servers</p>\n<p>c) Message Queue. install a message queue system like RabbitMQ or ActiveMQ (available in Docker containers).  API server <strong>publishes</strong> a message to a <strong>Queue</strong>.  Monitor <strong>subscribes</strong> to the Queue.  Must more robust, still requires each application to be advised of the address of the MQ server, but now you can stop/start the two applications in any order</p>\n<p>d) The java logging article is good started into java logging. Most use cases log to a local file on the local server. There are some implementations of backend logging that send logs to remote places (I don't think that article covers them), and there are ways of adding your own custom receiver of this log traffic.  In this option, on the API side, it would use ordinary logging code with no knowledge of the downstream consumption of the logging.  Your monitor app would need to integrate tightly into a particular logging system with this approach.</p>\n"}],"owner":{"account_id":27428753,"reputation":7,"user_id":20925806,"display_name":"V.T"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75056573,"answer_count":1,"score":0,"last_activity_date":1673263441,"creation_date":1673261669,"question_id":75056242,"body_markdown":"I&#39;m trying to create an app with notification service whenever a call is made on API.\r\nIs it possible for me to create a logger on port:8080 and when app is run on the server it listens to api running on another server.\r\nBoth applications are run on local machine for testing purposes using Docker.\r\n\r\n\r\nSo far I&#39;ve been reading https://www.baeldung.com/spring-boot-logging in order to implement it but I&#39;m having problems with understanding the path mapping.\r\nAny ideas?","title":"App with Event logger on port:8080 listening calls from API port:8090 in SpringBoot","body":"<p>I'm trying to create an app with notification service whenever a call is made on API.\nIs it possible for me to create a logger on port:8080 and when app is run on the server it listens to api running on another server.\nBoth applications are run on local machine for testing purposes using Docker.</p>\n<p>So far I've been reading <a href=\"https://www.baeldung.com/spring-boot-logging\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-boot-logging</a> in order to implement it but I'm having problems with understanding the path mapping.\nAny ideas?</p>\n"},{"tags":["java","exception","intellij-idea"],"comments":[{"owner":{"account_id":380582,"reputation":15578,"user_id":734687,"accept_rate":83,"display_name":"ChrLipp"},"score":0,"creation_date":1673258083,"post_id":75055484,"comment_id":132449641,"body_markdown":"How was the excpetion created? Through a Java application?","body":"How was the excpetion created? Through a Java application?"},{"owner":{"account_id":25342469,"reputation":38,"user_id":19160683,"display_name":"dev.AMS"},"score":0,"creation_date":1673258363,"post_id":75055484,"comment_id":132449718,"body_markdown":"Yes, just made a simple Java application to recreate an exception. The (Det g&#229;r inte att hitta filen) part can be translated to &quot;The file cannot be found&quot;.","body":"Yes, just made a simple Java application to recreate an exception. The (Det g&#229;r inte att hitta filen) part can be translated to &quot;The file cannot be found&quot;."},{"owner":{"account_id":3538058,"reputation":5428,"user_id":2960034,"display_name":"y.bedrov"},"score":0,"creation_date":1673288006,"post_id":75055484,"comment_id":132460724,"body_markdown":"Have you tried to add &quot;-Duser.language=en -Duser.region=US&quot; to VM options in your run configuration?","body":"Have you tried to add &quot;-Duser.language=en -Duser.region=US&quot; to VM options in your run configuration?"},{"owner":{"account_id":25342469,"reputation":38,"user_id":19160683,"display_name":"dev.AMS"},"score":0,"creation_date":1673341650,"post_id":75055484,"comment_id":132471374,"body_markdown":"Yes I did as @Taras suggested which did not work","body":"Yes I did as @Taras suggested which did not work"},{"owner":{"account_id":3538058,"reputation":5428,"user_id":2960034,"display_name":"y.bedrov"},"score":0,"creation_date":1673895938,"post_id":75055484,"comment_id":132594946,"body_markdown":"I meant you run configuration, not IDE .vmoptions file.","body":"I meant you run configuration, not IDE .vmoptions file."},{"owner":{"account_id":25342469,"reputation":38,"user_id":19160683,"display_name":"dev.AMS"},"score":0,"creation_date":1674024212,"post_id":75055484,"comment_id":132623954,"body_markdown":"Also did not work unfortunately","body":"Also did not work unfortunately"}],"answers":[{"comments":[{"owner":{"account_id":25342469,"reputation":38,"user_id":19160683,"display_name":"dev.AMS"},"score":0,"creation_date":1673261275,"post_id":75055809,"comment_id":132450673,"body_markdown":"It did not work","body":"It did not work"}],"tags":[],"owner":{"account_id":17875756,"reputation":106,"user_id":12985876,"display_name":"Taras"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673259499,"creation_date":1673259499,"answer_id":75055809,"question_id":75055484,"body_markdown":"Maybe you also need to change region in .vmoptions file:\r\n\r\n    -Duser.language=en\r\n    -Duser.region=US\r\n\r\nThis will override the default language and region settings for the Java Virtual Machine (JVM) and may cause exception messages to be displayed in English.","title":"Exception message not in English using Intellij","body":"<p>Maybe you also need to change region in .vmoptions file:</p>\n<pre><code>-Duser.language=en\n-Duser.region=US\n</code></pre>\n<p>This will override the default language and region settings for the Java Virtual Machine (JVM) and may cause exception messages to be displayed in English.</p>\n"},{"tags":[],"owner":{"account_id":11267822,"reputation":61,"user_id":8264132,"display_name":"Tayyab Munir"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673263127,"creation_date":1673263127,"answer_id":75056523,"question_id":75055484,"body_markdown":"Have to try to add below to &quot;Help | Edit custom VM options&quot;.\r\n\r\n    -Duser.language=en","title":"Exception message not in English using Intellij","body":"<p>Have to try to add below to &quot;Help | Edit custom VM options&quot;.</p>\n<pre><code>-Duser.language=en\n</code></pre>\n"}],"owner":{"account_id":25342469,"reputation":38,"user_id":19160683,"display_name":"dev.AMS"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":168,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1673263127,"creation_date":1673257641,"question_id":75055484,"body_markdown":"I can&#39;t seem to change the language on the exception messages in Intellij (Getting them in my native language). Everything else in the run log / output is in English. \r\n\r\nI have checked the settings for any deviation from English but can&#39;t find any. I also added the line &quot;-Duser.language=en&quot; in .vmoptions. \r\n\r\n**Example:** Got a FileNotFoundException \r\n\r\n    java.io.FileNotFoundException C:\\Users\\SomeUser\\SomeFilePath\\SomeFile ***(Det g&#229;r inte att hitta filen)***","title":"Exception message not in English using Intellij","body":"<p>I can't seem to change the language on the exception messages in Intellij (Getting them in my native language). Everything else in the run log / output is in English.</p>\n<p>I have checked the settings for any deviation from English but can't find any. I also added the line &quot;-Duser.language=en&quot; in .vmoptions.</p>\n<p><strong>Example:</strong> Got a FileNotFoundException</p>\n<pre><code>java.io.FileNotFoundException C:\\Users\\SomeUser\\SomeFilePath\\SomeFile ***(Det går inte att hitta filen)***\n</code></pre>\n"},{"tags":["java","windows","intellij-idea","tomcat8"],"comments":[{"owner":{"account_id":22880973,"reputation":698,"user_id":17022570,"display_name":"Arsh Coder"},"score":3,"creation_date":1635315364,"post_id":69733636,"comment_id":123260939,"body_markdown":"Does this answer your question? [Error running &#39;Tomcat&#39;: Address localhost:1099 is already in use. Why?](https://stackoverflow.com/questions/60466736/error-running-tomcat-address-localhost1099-is-already-in-use-why)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/60466736/error-running-tomcat-address-localhost1099-is-already-in-use-why\">Error running &#39;Tomcat&#39;: Address localhost:1099 is already in use. Why?</a>"},{"owner":{"account_id":16320638,"reputation":1,"user_id":11786523,"display_name":"YellowLife"},"score":0,"creation_date":1635315595,"post_id":69733636,"comment_id":123261009,"body_markdown":"I have tried to modify the port number, but whichever I change to is occupied,And mine is spring","body":"I have tried to modify the port number, but whichever I change to is occupied,And mine is spring"},{"owner":{"account_id":22880973,"reputation":698,"user_id":17022570,"display_name":"Arsh Coder"},"score":0,"creation_date":1635315694,"post_id":69733636,"comment_id":123261038,"body_markdown":"Try restarting server.","body":"Try restarting server."},{"owner":{"account_id":16320638,"reputation":1,"user_id":11786523,"display_name":"YellowLife"},"score":0,"creation_date":1635315894,"post_id":69733636,"comment_id":123261096,"body_markdown":"I did not install tomcat and did not set up javahome\nI have restarted the computer several times","body":"I did not install tomcat and did not set up javahome I have restarted the computer several times"},{"owner":{"account_id":16320638,"reputation":1,"user_id":11786523,"display_name":"YellowLife"},"score":0,"creation_date":1635315918,"post_id":69733636,"comment_id":123261103,"body_markdown":"Tomcat does not set environment variables, directly use the idea in","body":"Tomcat does not set environment variables, directly use the idea in"}],"answers":[{"comments":[{"owner":{"account_id":16320638,"reputation":1,"user_id":11786523,"display_name":"YellowLife"},"score":0,"creation_date":1635322053,"post_id":69734074,"comment_id":123263349,"body_markdown":"Thank you, I used the administrator to reset and restart, but it still doesn&#39;t work.","body":"Thank you, I used the administrator to reset and restart, but it still doesn&#39;t work."}],"tags":[],"owner":{"account_id":14630393,"reputation":1,"user_id":10566393,"display_name":"LHZ"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635317758,"creation_date":1635317758,"answer_id":69734074,"question_id":69733636,"body_markdown":"This may be a bug in idea\r\n\r\nYou can try the following:\r\nRun cmd as an administrator\r\nnetsh winsock reset\r\nThen restart the computer\r\n\r\nHope your problem can be solved","title":"Intelij IDEA Error runing &#39;Tomcat 8.5.68&quot; address 1099 is already in use","body":"<p>This may be a bug in idea</p>\n<p>You can try the following:\nRun cmd as an administrator\nnetsh winsock reset\nThen restart the computer</p>\n<p>Hope your problem can be solved</p>\n"},{"comments":[{"owner":{"account_id":16269349,"reputation":13462,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"score":0,"creation_date":1635353183,"post_id":69737577,"comment_id":123277349,"body_markdown":"This is not an answer to your question, you should post it as a comment.","body":"This is not an answer to your question, you should post it as a comment."}],"tags":[],"owner":{"account_id":16320638,"reputation":1,"user_id":11786523,"display_name":"YellowLife"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673263103,"creation_date":1635333045,"answer_id":69737577,"question_id":69733636,"body_markdown":"Okay, but I don&#39;t know what to do next time.\r\nI reinstalled jdk IDEA tomcat and it didn&#39;t work. I also reset the network, but it didn&#39;t work. After a while, I changed a project and it didn&#39;t work, but I changed it back and it was fine.\r\n\r\n**My solution is as follows:**\r\n\r\n- Open powershell with administrator privileges\r\n\r\n- `netsh int ipv4 set dynamic tcp start=49152 num=16384`\r\n\r\n- `netsh int ipv6 set dynamic tcp start=49152 num=16384`\r\n\r\n- `netsh int ipv4 show dynamicport tcp`\r\n\r\nAdditional references:\r\n\r\n[WSL2, Hyper-V &amp; Reserved Ports](https://hungyi.net/posts/wsl2-reserved-ports/)\r\n\r\n[Unable to bind ports: Docker-for-Windows &amp; Hyper-V excluding but not using important port ranges\r\n#3171](https://github.com/docker/for-win/issues/3171#issuecomment-554587817)\r\n\r\n[The default dynamic port range for TCP/IP has changed since Windows Vista and in Windows Server 2008](https://learn.microsoft.com/en-us/troubleshoot/windows-server/networking/default-dynamic-port-range-tcpip-chang)","title":"Intelij IDEA Error runing &#39;Tomcat 8.5.68&quot; address 1099 is already in use","body":"<p>Okay, but I don't know what to do next time.\nI reinstalled jdk IDEA tomcat and it didn't work. I also reset the network, but it didn't work. After a while, I changed a project and it didn't work, but I changed it back and it was fine.</p>\n<p><strong>My solution is as follows:</strong></p>\n<ul>\n<li><p>Open powershell with administrator privileges</p>\n</li>\n<li><p><code>netsh int ipv4 set dynamic tcp start=49152 num=16384</code></p>\n</li>\n<li><p><code>netsh int ipv6 set dynamic tcp start=49152 num=16384</code></p>\n</li>\n<li><p><code>netsh int ipv4 show dynamicport tcp</code></p>\n</li>\n</ul>\n<p>Additional references:</p>\n<p><a href=\"https://hungyi.net/posts/wsl2-reserved-ports/\" rel=\"nofollow noreferrer\">WSL2, Hyper-V &amp; Reserved Ports</a></p>\n<p><a href=\"https://github.com/docker/for-win/issues/3171#issuecomment-554587817\" rel=\"nofollow noreferrer\">Unable to bind ports: Docker-for-Windows &amp; Hyper-V excluding but not using important port ranges\n#3171</a></p>\n<p><a href=\"https://learn.microsoft.com/en-us/troubleshoot/windows-server/networking/default-dynamic-port-range-tcpip-chang\" rel=\"nofollow noreferrer\">The default dynamic port range for TCP/IP has changed since Windows Vista and in Windows Server 2008</a></p>\n"}],"owner":{"account_id":16320638,"reputation":1,"user_id":11786523,"display_name":"YellowLife"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":412,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1635355015,"answer_count":2,"score":-1,"last_activity_date":1673263103,"creation_date":1635315243,"question_id":69733636,"body_markdown":"[error image][1]\r\nI tried before [link 1][2][link 2][3] [link 4][4] and Clear idea cache.\r\nThere is no error when deleting tomcat.\r\nnetstat -ano did not find 1099\r\nI have run the code without any problems, this problem is sometimes sometimes not.\r\n\r\n  [1]: https://i.stack.imgur.com/Fma7D.png\r\n  [2]:https://stackoverflow.com/questions/38986910/intellij-idea-address-localhost1099-is-already-in-use/55788410 \r\n[3]:https://developpaper.com/question/ideatomact-address-localhost1099-is-already-in-use/\r\n[4]:https://tridion.stackexchange.com/questions/12941/debugging-in-intellij-gives-address-localhost1099-is-already-in-use-error\r\n","title":"Intelij IDEA Error runing &#39;Tomcat 8.5.68&quot; address 1099 is already in use","body":"<p><a href=\"https://i.stack.imgur.com/Fma7D.png\" rel=\"nofollow noreferrer\">error image</a>\nI tried before <a href=\"https://stackoverflow.com/questions/38986910/intellij-idea-address-localhost1099-is-already-in-use/55788410\">link 1</a><a href=\"https://developpaper.com/question/ideatomact-address-localhost1099-is-already-in-use/\" rel=\"nofollow noreferrer\">link 2</a> <a href=\"https://tridion.stackexchange.com/questions/12941/debugging-in-intellij-gives-address-localhost1099-is-already-in-use-error\">link 4</a> and Clear idea cache.\nThere is no error when deleting tomcat.\nnetstat -ano did not find 1099\nI have run the code without any problems, this problem is sometimes sometimes not.</p>\n"},{"tags":["java","spring-boot","enums","mapstruct"],"comments":[{"owner":{"account_id":9680259,"reputation":366,"user_id":7182233,"display_name":"Aleks D"},"score":0,"creation_date":1592682091,"post_id":62472215,"comment_id":110514662,"body_markdown":"Hi, maybe I misunderstood the question, but why you cannot use @ValueMappings method inside your main mapper and use it as your custom mapping? How i know mapstruct generate the same logic as your method. See more [here](https://mapstruct.org/documentation/stable/reference/html/#_mapping_enum_types)","body":"Hi, maybe I misunderstood the question, but why you cannot use @ValueMappings method inside your main mapper and use it as your custom mapping? How i know mapstruct generate the same logic as your method. See more <a href=\"https://mapstruct.org/documentation/stable/reference/html/#_mapping_enum_types\" rel=\"nofollow noreferrer\">here</a>"},{"owner":{"account_id":17968100,"reputation":129,"user_id":13057558,"display_name":"fee1good"},"score":0,"creation_date":1592735053,"post_id":62472215,"comment_id":110525465,"body_markdown":"Hi Alex! Thanks for the link, I&#39;ve used it for generating the single enum mapping method (see eventSourceToSportEventSource), but not sure how I can map the exact field of the object using @ValueMappings inside the main mapper","body":"Hi Alex! Thanks for the link, I&#39;ve used it for generating the single enum mapping method (see eventSourceToSportEventSource), but not sure how I can map the exact field of the object using @ValueMappings inside the main mapper"},{"owner":{"account_id":9680259,"reputation":366,"user_id":7182233,"display_name":"Aleks D"},"score":0,"creation_date":1592735448,"post_id":62472215,"comment_id":110525552,"body_markdown":"MapStruct make mapping &quot;by type&quot; and if you just add method with @ValueMappings to main mapping class, then main mapping  method will use this method to map your enums by default. I think it should work out of box.","body":"MapStruct make mapping &quot;by type&quot; and if you just add method with @ValueMappings to main mapping class, then main mapping  method will use this method to map your enums by default. I think it should work out of box."},{"owner":{"account_id":1128956,"reputation":19775,"user_id":1115491,"display_name":"Filip"},"score":0,"creation_date":1592975394,"post_id":62472215,"comment_id":110613470,"body_markdown":"The error you are getting is weird. Can you please add your entire mapper and the objects to the question. With the information you&#39;ve provided currently this should be working correctly (no error message)","body":"The error you are getting is weird. Can you please add your entire mapper and the objects to the question. With the information you&#39;ve provided currently this should be working correctly (no error message)"},{"owner":{"account_id":17968100,"reputation":129,"user_id":13057558,"display_name":"fee1good"},"score":1,"creation_date":1593514137,"post_id":62472215,"comment_id":110801980,"body_markdown":"Hey @Filip, nice to see the member of the core MapStruct team here :) MapStruct works well, it was my mistake, details in the accepted answer. Thanks!","body":"Hey @Filip, nice to see the member of the core MapStruct team here :) MapStruct works well, it was my mistake, details in the accepted answer. Thanks!"},{"owner":{"account_id":1128956,"reputation":19775,"user_id":1115491,"display_name":"Filip"},"score":1,"creation_date":1593527431,"post_id":62472215,"comment_id":110809171,"body_markdown":"We try to answer as many questions to our users on StackOverflow.","body":"We try to answer as many questions to our users on StackOverflow."}],"answers":[{"comments":[{"owner":{"account_id":1128956,"reputation":19775,"user_id":1115491,"display_name":"Filip"},"score":2,"creation_date":1593527393,"post_id":62655713,"comment_id":110809141,"body_markdown":"Makes sense. Just FYI, it seems like the `ConverterMapper` is only for utils. If that&#39;s the case you don&#39;t need to annotate it with `@Mapper`. You can also add any utils via `Mapper#uses` and make your `unitValueConverter` a static method.","body":"Makes sense. Just FYI, it seems like the <code>ConverterMapper</code> is only for utils. If that&#39;s the case you don&#39;t need to annotate it with <code>@Mapper</code>. You can also add any utils via <code>Mapper#uses</code> and make your <code>unitValueConverter</code> a static method."}],"tags":[],"owner":{"account_id":17968100,"reputation":129,"user_id":13057558,"display_name":"fee1good"},"comment_count":1,"down_vote_count":2,"up_vote_count":1,"is_accepted":true,"score":-1,"last_activity_date":1593514066,"creation_date":1593514066,"answer_id":62655713,"question_id":62472215,"body_markdown":"I used\r\n\r\n    @Mapper(componentModel = &quot;spring&quot;)\r\n    public interface ConverterMapper {\r\n      @Named(&quot;UnitValueConverter&quot;)\r\n      default Long unitValueConverter(UInt64Value value) {\r\n        return value.getValue();\r\n      }\r\n\r\nas an interface which contains all named mappers like above, and then I do\r\n\r\n    @Mapper(componentModel = &quot;spring&quot;)\r\n    public interface EventMapper extends ConverterMapper\r\n\r\n\r\nThe issue was that I didn&#39;t add the @Mapper annotation to the `ConverterMapper` interface\r\n","title":"Map Enum field with MapStruct","body":"<p>I used</p>\n<pre><code>@Mapper(componentModel = &quot;spring&quot;)\npublic interface ConverterMapper {\n  @Named(&quot;UnitValueConverter&quot;)\n  default Long unitValueConverter(UInt64Value value) {\n    return value.getValue();\n  }\n</code></pre>\n<p>as an interface which contains all named mappers like above, and then I do</p>\n<pre><code>@Mapper(componentModel = &quot;spring&quot;)\npublic interface EventMapper extends ConverterMapper\n</code></pre>\n<p>The issue was that I didn't add the @Mapper annotation to the <code>ConverterMapper</code> interface</p>\n"},{"tags":[],"owner":{"account_id":5121464,"reputation":1288,"user_id":4104865,"accept_rate":96,"display_name":"Thomas Schmidt"},"comment_count":0,"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1607268232,"creation_date":1607268232,"answer_id":65169701,"question_id":62472215,"body_markdown":"This can be achieved using [@ValueMapping][1]\r\n\r\n\r\n  [1]: https://mapstruct.org/documentation/dev/api/org/mapstruct/ValueMapping.html","title":"Map Enum field with MapStruct","body":"<p>This can be achieved using <a href=\"https://mapstruct.org/documentation/dev/api/org/mapstruct/ValueMapping.html\" rel=\"nofollow noreferrer\">@ValueMapping</a></p>\n"},{"tags":[],"owner":{"account_id":13463936,"reputation":73,"user_id":9714946,"display_name":"Sergey Yaushev"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1673261585,"creation_date":1673261585,"answer_id":75056227,"question_id":62472215,"body_markdown":"I think the most convenient way is just to make a default method in your mapper\r\n\r\n    default ProblemStatus problemStatusFromString(String status) {\r\n        return ProblemStatus.get(status);\r\n    }\r\n\r\n    default String problemStatusToString(ProblemStatus problemStatus) {\r\n        return problemStatus.getValue();\r\n    }","title":"Map Enum field with MapStruct","body":"<p>I think the most convenient way is just to make a default method in your mapper</p>\n<pre><code>default ProblemStatus problemStatusFromString(String status) {\n    return ProblemStatus.get(status);\n}\n\ndefault String problemStatusToString(ProblemStatus problemStatus) {\n    return problemStatus.getValue();\n}\n</code></pre>\n"}],"owner":{"account_id":17968100,"reputation":129,"user_id":13057558,"display_name":"fee1good"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":44718,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":62655713,"answer_count":3,"score":7,"last_activity_date":1673261585,"creation_date":1592576210,"question_id":62472215,"body_markdown":"I want to map 2 models, where each of them has almost the same enums. Let me show:\r\n\r\nThe first model has enum:\r\n\r\n    public enum EventSource {\r\n      BETRADAR(&quot;SOURCE_BETRADAR&quot;),\r\n      BETGENIUS(&quot;SOURCE_BETGENIUS&quot;),\r\n      BETCONSTRUCT(&quot;SOURCE_BETCONSTRUCT&quot;),\r\n      MODEL(&quot;SOURCE_MODEL&quot;);\r\n\r\nSecond model has enum:\r\n\r\n    public enum SportEventSource implements ProtocolMessageEnum {\r\n      SOURCE_UNKNOWN(0),\r\n      SOURCE_BETRADAR(1),\r\n      SOURCE_BETGENIUS(2),\r\n      SOURCE_BETCONSTRUCT(3),\r\n      UNRECOGNIZED(-1);\r\n\r\nI have such custom mapping method:\r\n\r\n    @Named(&quot;eventSourceConverter&quot;)   \r\n    default EventSource eventSourceConverter(SportEventSource source) {\r\n            switch (source) {\r\n              case SOURCE_MODEL:\r\n                return EventSource.MODEL;\r\n              case SOURCE_BETCONSTRUCT:\r\n                return EventSource.BETCONSTRUCT;\r\n              case SOURCE_BETGENIUS:\r\n                return EventSource.BETGENIUS;\r\n              case SOURCE_BETRADAR:\r\n                return EventSource.BETRADAR;\r\n              default:\r\n                return EventSource.MODEL;\r\n            }   \r\n    }\r\n\r\nAnd then I use:\r\n\r\n      @Mapping(target = &quot;mainSource&quot;, source = &quot;source&quot;, qualifiedByName = &quot;eventSourceConverter&quot;)\r\n      AdapterCompetitor protoToModel(Competitor proto);\r\n\r\nBut get:\r\n\r\n    error: The following constants from the property &quot;SportEventSource source&quot; enum have no corresponding constant in the &quot;*source*&quot; enum and must be mapped via adding additional mappings: SOURCE_UNKNOWN, SOURCE_BETRADAR, SOURCE_BETGENIUS, SOURCE_BETCONSTRUCT, UNRECOGNIZED.\r\n      AdapterCompetitor protoToModel(Competitor proto);\r\n\r\nI&#39;ve also created the enum mapper like:\r\n\r\n      @ValueMappings({\r\n          @ValueMapping(source = &quot;SOURCE_BETRADAR&quot;, target = &quot;BETRADAR&quot;),\r\n          @ValueMapping(source = &quot;SOURCE_BETGENIUS&quot;, target = &quot;BETGENIUS&quot;),\r\n          @ValueMapping(source = &quot;SOURCE_BETCONSTRUCT&quot;, target = &quot;BETCONSTRUCT&quot;),\r\n          @ValueMapping(source = &quot;SOURCE_MODEL&quot;, target = &quot;MODEL&quot;),\r\n          @ValueMapping(source = &quot;SOURCE_UNKNOWN&quot;, target = &quot;MODEL&quot;),\r\n          @ValueMapping(source = &quot;UNRECOGNIZED&quot;, target = &quot;MODEL&quot;)\r\n      })\r\n      EventSource eventSourceToSportEventSource(SportEventSource source);\r\n\r\nBut I don&#39;t need to have it separately, just want that enum field will be mapped within the internal mapping. Simply to say — when I do `AdapterCompetitor protoToModel(Competitor proto)` enum also should be mapped.\r\n\r\nThanks!\r\n\r\np.s. sorry for my eng, hope my questions make sense :)","title":"Map Enum field with MapStruct","body":"<p>I want to map 2 models, where each of them has almost the same enums. Let me show:</p>\n\n<p>The first model has enum:</p>\n\n<pre><code>public enum EventSource {\n  BETRADAR(\"SOURCE_BETRADAR\"),\n  BETGENIUS(\"SOURCE_BETGENIUS\"),\n  BETCONSTRUCT(\"SOURCE_BETCONSTRUCT\"),\n  MODEL(\"SOURCE_MODEL\");\n</code></pre>\n\n<p>Second model has enum:</p>\n\n<pre><code>public enum SportEventSource implements ProtocolMessageEnum {\n  SOURCE_UNKNOWN(0),\n  SOURCE_BETRADAR(1),\n  SOURCE_BETGENIUS(2),\n  SOURCE_BETCONSTRUCT(3),\n  UNRECOGNIZED(-1);\n</code></pre>\n\n<p>I have such custom mapping method:</p>\n\n<pre><code>@Named(\"eventSourceConverter\")   \ndefault EventSource eventSourceConverter(SportEventSource source) {\n        switch (source) {\n          case SOURCE_MODEL:\n            return EventSource.MODEL;\n          case SOURCE_BETCONSTRUCT:\n            return EventSource.BETCONSTRUCT;\n          case SOURCE_BETGENIUS:\n            return EventSource.BETGENIUS;\n          case SOURCE_BETRADAR:\n            return EventSource.BETRADAR;\n          default:\n            return EventSource.MODEL;\n        }   \n}\n</code></pre>\n\n<p>And then I use:</p>\n\n<pre><code>  @Mapping(target = \"mainSource\", source = \"source\", qualifiedByName = \"eventSourceConverter\")\n  AdapterCompetitor protoToModel(Competitor proto);\n</code></pre>\n\n<p>But get:</p>\n\n<pre><code>error: The following constants from the property \"SportEventSource source\" enum have no corresponding constant in the \"*source*\" enum and must be mapped via adding additional mappings: SOURCE_UNKNOWN, SOURCE_BETRADAR, SOURCE_BETGENIUS, SOURCE_BETCONSTRUCT, UNRECOGNIZED.\n  AdapterCompetitor protoToModel(Competitor proto);\n</code></pre>\n\n<p>I've also created the enum mapper like:</p>\n\n<pre><code>  @ValueMappings({\n      @ValueMapping(source = \"SOURCE_BETRADAR\", target = \"BETRADAR\"),\n      @ValueMapping(source = \"SOURCE_BETGENIUS\", target = \"BETGENIUS\"),\n      @ValueMapping(source = \"SOURCE_BETCONSTRUCT\", target = \"BETCONSTRUCT\"),\n      @ValueMapping(source = \"SOURCE_MODEL\", target = \"MODEL\"),\n      @ValueMapping(source = \"SOURCE_UNKNOWN\", target = \"MODEL\"),\n      @ValueMapping(source = \"UNRECOGNIZED\", target = \"MODEL\")\n  })\n  EventSource eventSourceToSportEventSource(SportEventSource source);\n</code></pre>\n\n<p>But I don't need to have it separately, just want that enum field will be mapped within the internal mapping. Simply to say — when I do <code>AdapterCompetitor protoToModel(Competitor proto)</code> enum also should be mapped.</p>\n\n<p>Thanks!</p>\n\n<p>p.s. sorry for my eng, hope my questions make sense :)</p>\n"},{"tags":["java","processing","control-p5"],"owner":{"account_id":19117752,"reputation":121,"user_id":13962321,"display_name":"Вадим Кузьмин"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673261473,"creation_date":1673261473,"question_id":75056200,"body_markdown":"I use the controlP5 library and did not find how to change the layout of the tabs.\r\nTried various tricks but .setPosition is not responsive.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n  [1]: https://i.stack.imgur.com/7RcxA.jpg\r\n\r\n\r\nimport controlP5.*;\r\n    \r\n    ControlP5 cp5;\r\n    int myColorBackground = color(128);\r\n    int sliderValue = 100;\r\n    \r\n    void setup() {\r\n      size(700,400);\r\n      noStroke();\r\n      cp5 = new ControlP5(this);\r\n    \r\n      // By default all controllers are stored inside Tab &#39;default&#39;\r\n      // add a second tab with name &#39;extra&#39;\r\n      cp5.addTab(&quot;extra&quot;)\r\n         .setColorBackground(color(0, 160, 100))\r\n         .setColorLabel(color(255))\r\n         .setColorActive(color(255,128,0))\r\n         ;\r\n    \r\n      // if you want to receive a controlEvent when\r\n      // a  tab is clicked, use activeEvent(true)\r\n      cp5.getTab(&quot;default&quot;)\r\n         .activateEvent(true)\r\n         .setLabel(&quot;my default tab&quot;)\r\n         .setPosition (120 , 230)\r\n         .setId(1)\r\n         ;\r\n    \r\n      cp5.getTab(&quot;extra&quot;)\r\n         .activateEvent(true)\r\n         .setPosition (150, 260)\r\n         .setId(2)\r\n         ;","title":"How can you move tabs?","body":"<p>I use the controlP5 library and did not find how to change the layout of the tabs.\nTried various tricks but .setPosition is not responsive.</p>\n<p><a href=\"https://i.stack.imgur.com/7RcxA.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/7RcxA.jpg\" alt=\"enter image description here\" /></a></p>\n<p>import controlP5.*;</p>\n<pre><code>ControlP5 cp5;\nint myColorBackground = color(128);\nint sliderValue = 100;\n\nvoid setup() {\n  size(700,400);\n  noStroke();\n  cp5 = new ControlP5(this);\n\n  // By default all controllers are stored inside Tab 'default'\n  // add a second tab with name 'extra'\n  cp5.addTab(&quot;extra&quot;)\n     .setColorBackground(color(0, 160, 100))\n     .setColorLabel(color(255))\n     .setColorActive(color(255,128,0))\n     ;\n\n  // if you want to receive a controlEvent when\n  // a  tab is clicked, use activeEvent(true)\n  cp5.getTab(&quot;default&quot;)\n     .activateEvent(true)\n     .setLabel(&quot;my default tab&quot;)\n     .setPosition (120 , 230)\n     .setId(1)\n     ;\n\n  cp5.getTab(&quot;extra&quot;)\n     .activateEvent(true)\n     .setPosition (150, 260)\n     .setId(2)\n     ;\n</code></pre>\n"},{"tags":["java","spring-boot","spring-security"],"comments":[{"owner":{"account_id":6463892,"reputation":15974,"user_id":5277820,"accept_rate":68,"display_name":"dur"},"score":0,"creation_date":1673261081,"post_id":75056093,"comment_id":132450611,"body_markdown":"Why? With the refresh tolen you get a new access token, so you get the information anyway.","body":"Why? With the refresh tolen you get a new access token, so you get the information anyway."},{"owner":{"account_id":15786285,"reputation":11,"user_id":11390964,"display_name":"SEETHARAMU G N"},"score":0,"creation_date":1673264842,"post_id":75056093,"comment_id":132451823,"body_markdown":"no the access token is customized for the first time of creation when I use a refresh token to generate an access token it will not available because refresh token I didn&#39;t customized","body":"no the access token is customized for the first time of creation when I use a refresh token to generate an access token it will not available because refresh token I didn&#39;t customized"},{"owner":{"account_id":6463892,"reputation":15974,"user_id":5277820,"accept_rate":68,"display_name":"dur"},"score":0,"creation_date":1673268198,"post_id":75056093,"comment_id":132453026,"body_markdown":"Why is your access token different the second time? It should always contain the same information.","body":"Why is your access token different the second time? It should always contain the same information."},{"owner":{"account_id":15786285,"reputation":11,"user_id":11390964,"display_name":"SEETHARAMU G N"},"score":0,"creation_date":1673268501,"post_id":75056093,"comment_id":132453128,"body_markdown":"as of my understand like this second-time refresh token gives the info to generate the access not the user what is present in the refresh token it will copy the info and generate new access token","body":"as of my understand like this second-time refresh token gives the info to generate the access not the user what is present in the refresh token it will copy the info and generate new access token"},{"owner":{"account_id":6463892,"reputation":15974,"user_id":5277820,"accept_rate":68,"display_name":"dur"},"score":0,"creation_date":1673269835,"post_id":75056093,"comment_id":132453626,"body_markdown":"That is the identity token of OIDC. The access token doesn&#39;t contain user information. Also the refresh token doesn&#39;t contain user information. You should save the user information after you get the identity token.","body":"That is the identity token of OIDC. The access token doesn&#39;t contain user information. Also the refresh token doesn&#39;t contain user information. You should save the user information after you get the identity token."},{"owner":{"account_id":6463892,"reputation":15974,"user_id":5277820,"accept_rate":68,"display_name":"dur"},"score":0,"creation_date":1673270245,"post_id":75056093,"comment_id":132453780,"body_markdown":"https://connect2id.com/learn/openid-connect, https://www.baeldung.com/spring-security-openid-connect","body":"<a href=\"https://connect2id.com/learn/openid-connect\" rel=\"nofollow noreferrer\">connect2id.com/learn/openid-connect</a>, <a href=\"https://www.baeldung.com/spring-security-openid-connect\" rel=\"nofollow noreferrer\">baeldung.com/spring-security-openid-connect</a>"},{"owner":{"account_id":15786285,"reputation":11,"user_id":11390964,"display_name":"SEETHARAMU G N"},"score":0,"creation_date":1673338166,"post_id":75056093,"comment_id":132470347,"body_markdown":"thanks @dur for ur info I got the idea to customize","body":"thanks @dur for ur info I got the idea to customize"}],"owner":{"account_id":15786285,"reputation":11,"user_id":11390964,"display_name":"SEETHARAMU G N"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":140,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673260919,"creation_date":1673260919,"question_id":75056093,"body_markdown":"I need to add more custom fields in the refresh token\r\n\r\n[![added][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/4PGXb.png\r\n\r\nthe left side was the access token data right side was the token refresh data I need the same as the access token ","title":"how to customize the Oauth refresh token in spring boot","body":"<p>I need to add more custom fields in the refresh token</p>\n<p><a href=\"https://i.stack.imgur.com/4PGXb.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/4PGXb.png\" alt=\"added\" /></a></p>\n<p>the left side was the access token data right side was the token refresh data I need the same as the access token</p>\n"},{"tags":["java","gstreamer"],"owner":{"account_id":1601231,"reputation":459,"user_id":1482214,"accept_rate":40,"display_name":"Sebastian G&#246;tz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":211,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673260478,"creation_date":1672931426,"question_id":75020532,"body_markdown":"I have the task to stream an IP camera&#39;s video stream (RTP/RTSP in h264) via J2EE application server to a browser. For this I am using [GStreamer 1.21.3][1] (latest dev release) with the [gstreamer-java library][2] on top. We are aiming towards a Websocket solution as the traditional HLS introduces significant latency.\r\nAfter having figured out what to do with the gst-launch executable on the commandline, I ended up with this code (for the moment):\r\n\r\n    \r\n    /*\r\n     * Configuration for RTSP over TCP to WebSocket:\r\n     *  1. rtspsrc to ip camera\r\n     *  2. rtph264depay ! h246parse to extract the h264 content\r\n     *  3. mp4mux to create fragmented MP4\r\n     *  4. appsink to grab the frames and use them in Websocket server\r\n     */\r\n    final String gstPipeline = String.format(&quot;rtspsrc onvif-mode=true protocols=tcp user-id=%s user-pw=%s location=%s latency=200&quot;\r\n    \t\t+ &quot; ! rtph264depay ! h264parse&quot;\r\n    \t\t+ &quot; ! mp4mux streamable=true fragment-duration=5000&quot;\r\n    \t\t+ &quot; ! appsink name=sink&quot;, USERNAME, PASSWORD, uri);\r\n    final Pipeline pipeline = initGStreamerPipeline(gstPipeline);\r\n    // Add listener to consume the incoming data\r\n    final AppSink sink = (AppSink) pipeline.getElementByName(&quot;sink&quot;);\r\n    sink.setCaps(Caps.anyCaps());\r\n    sink.set(&quot;emit-signals&quot;, true);\r\n    sink.set(&quot;max-buffers&quot;, 50);\r\n    sink.connect((NEW_SAMPLE) appsink -&gt; {\r\n    \tfinal Sample sample = appsink.pullSample();\r\n    \tif (sample == null)\r\n    \t{\r\n    \t\treturn FlowReturn.OK;\r\n    \t}\r\n    \r\n    \tfinal Buffer buffer = sample.getBuffer();\r\n    \ttry\r\n    \t{\r\n    \t\tfinal ByteBuffer buf = buffer.map(false);\r\n    \t\tLOGGER.debug(&quot;Unicast HTTP/TCP message received: {}&quot;, new String(Hex.encodeHex(buf, true)));\r\n    \t\tif (session != null)\r\n    \t\t{\r\n    \t\t\ttry\r\n    \t\t\t{\r\n    \t\t\t\tbuf.flip();\r\n    \t\t\t\tsession.getRemote().sendBytes(buf);\r\n    \t\t\t}\r\n    \t\t\tcatch (final Exception e)\r\n    \t\t\t{\r\n    \t\t\t\tLOGGER.error(&quot;Failed to send data via WebSocket&quot;, e);\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}\r\n    \tfinally\r\n    \t{\r\n    \t\tbuffer.unmap();\r\n    \t}\r\n    \r\n    \treturn FlowReturn.OK;\r\n    });\r\n    sink.connect((AppSink.EOS) s -&gt; LOGGER.info(&quot;Appsink is EOS&quot;));\r\n    sink.connect((AppSink.NEW_PREROLL) s -&gt; {\r\n    \tLOGGER.info(&quot;Appsink NEW_PREROLL&quot;);\r\n    \treturn FlowReturn.OK;\r\n    });\r\n    \r\n    LOGGER.info(&quot;Connecting to {}&quot;, uri);\r\n    \r\n    /**\r\n     * Start the pipeline. Attach a bus listener to call Gst.quit on EOS or error.\r\n     */\r\n    pipeline.getBus().connect((Bus.ERROR) ((source, code, message) -&gt; {\r\n    \tLOGGER.info(message);\r\n    \tGst.quit();\r\n    }));\r\n    pipeline.getBus().connect((Bus.EOS) (source) -&gt; Gst.quit());\r\n    pipeline.play();\r\n    \r\n    /**\r\n     * Wait until Gst.quit() called.\r\n     */\r\n    LOGGER.info(&quot;Starting to consume media stream...&quot;);\r\n    Gst.main();\r\n    pipeline.stop();\r\n    server.stop();\r\n\r\nNow I seem to be stuck here, because the AppSink at the end of the pipeline never gets its new_sample signal triggered. The complete example works like a charme when I replace the appsink with a filesink. I have noticed that there are some other threads (like [this one][3]) with similar problems which normally boil down to &quot;you forgot to set emit-signals=true&quot;. Any ideas why my appsink gets no data?\r\n\r\n**Update:**\r\n\r\nIt appears that the problem is the URL I am passing to the pipeline string. It has two query parameters: `http://192.168.xx.xx:544/streaming?video=0&amp;meta=1`. If I remove the second parameter (and the ambersand along with it), the pipeline works. Unfortunately I found no docs how to escape URLs in the correct way so GStreamer can read it. Can anyone share such documentation?\r\n\r\n**Update 2:**\r\n\r\nIt starts getting weired now: It looks like the name of the URL parameter is the problem. I have started to replace it with some dummy argument and it works. So the ambersand is not the problem. Then I used VLC media player to consume the stream with the `&amp;meta=1` in place which also worked. Is it possible that the string &quot;meta&quot; is treated special in gstreamer?\r\n\r\n  [1]: https://gstreamer.freedesktop.org/pkg/windows/1.21.3/msvc/\r\n  [2]: https://github.com/gstreamer-java\r\n  [3]: https://stackoverflow.com/questions/33947284/gstreamer-appsink-not-getting-data-from-the-pipeline?r=SearchResults&amp;s=2%7C123.7572","title":"GStreamer java: AppSink not receiving new_sample signal","body":"<p>I have the task to stream an IP camera's video stream (RTP/RTSP in h264) via J2EE application server to a browser. For this I am using <a href=\"https://gstreamer.freedesktop.org/pkg/windows/1.21.3/msvc/\" rel=\"nofollow noreferrer\">GStreamer 1.21.3</a> (latest dev release) with the <a href=\"https://github.com/gstreamer-java\" rel=\"nofollow noreferrer\">gstreamer-java library</a> on top. We are aiming towards a Websocket solution as the traditional HLS introduces significant latency.\nAfter having figured out what to do with the gst-launch executable on the commandline, I ended up with this code (for the moment):</p>\n<pre><code>/*\n * Configuration for RTSP over TCP to WebSocket:\n *  1. rtspsrc to ip camera\n *  2. rtph264depay ! h246parse to extract the h264 content\n *  3. mp4mux to create fragmented MP4\n *  4. appsink to grab the frames and use them in Websocket server\n */\nfinal String gstPipeline = String.format(&quot;rtspsrc onvif-mode=true protocols=tcp user-id=%s user-pw=%s location=%s latency=200&quot;\n        + &quot; ! rtph264depay ! h264parse&quot;\n        + &quot; ! mp4mux streamable=true fragment-duration=5000&quot;\n        + &quot; ! appsink name=sink&quot;, USERNAME, PASSWORD, uri);\nfinal Pipeline pipeline = initGStreamerPipeline(gstPipeline);\n// Add listener to consume the incoming data\nfinal AppSink sink = (AppSink) pipeline.getElementByName(&quot;sink&quot;);\nsink.setCaps(Caps.anyCaps());\nsink.set(&quot;emit-signals&quot;, true);\nsink.set(&quot;max-buffers&quot;, 50);\nsink.connect((NEW_SAMPLE) appsink -&gt; {\n    final Sample sample = appsink.pullSample();\n    if (sample == null)\n    {\n        return FlowReturn.OK;\n    }\n\n    final Buffer buffer = sample.getBuffer();\n    try\n    {\n        final ByteBuffer buf = buffer.map(false);\n        LOGGER.debug(&quot;Unicast HTTP/TCP message received: {}&quot;, new String(Hex.encodeHex(buf, true)));\n        if (session != null)\n        {\n            try\n            {\n                buf.flip();\n                session.getRemote().sendBytes(buf);\n            }\n            catch (final Exception e)\n            {\n                LOGGER.error(&quot;Failed to send data via WebSocket&quot;, e);\n            }\n        }\n    }\n    finally\n    {\n        buffer.unmap();\n    }\n\n    return FlowReturn.OK;\n});\nsink.connect((AppSink.EOS) s -&gt; LOGGER.info(&quot;Appsink is EOS&quot;));\nsink.connect((AppSink.NEW_PREROLL) s -&gt; {\n    LOGGER.info(&quot;Appsink NEW_PREROLL&quot;);\n    return FlowReturn.OK;\n});\n\nLOGGER.info(&quot;Connecting to {}&quot;, uri);\n\n/**\n * Start the pipeline. Attach a bus listener to call Gst.quit on EOS or error.\n */\npipeline.getBus().connect((Bus.ERROR) ((source, code, message) -&gt; {\n    LOGGER.info(message);\n    Gst.quit();\n}));\npipeline.getBus().connect((Bus.EOS) (source) -&gt; Gst.quit());\npipeline.play();\n\n/**\n * Wait until Gst.quit() called.\n */\nLOGGER.info(&quot;Starting to consume media stream...&quot;);\nGst.main();\npipeline.stop();\nserver.stop();\n</code></pre>\n<p>Now I seem to be stuck here, because the AppSink at the end of the pipeline never gets its new_sample signal triggered. The complete example works like a charme when I replace the appsink with a filesink. I have noticed that there are some other threads (like <a href=\"https://stackoverflow.com/questions/33947284/gstreamer-appsink-not-getting-data-from-the-pipeline?r=SearchResults&amp;s=2%7C123.7572\">this one</a>) with similar problems which normally boil down to &quot;you forgot to set emit-signals=true&quot;. Any ideas why my appsink gets no data?</p>\n<p><strong>Update:</strong></p>\n<p>It appears that the problem is the URL I am passing to the pipeline string. It has two query parameters: <code>http://192.168.xx.xx:544/streaming?video=0&amp;meta=1</code>. If I remove the second parameter (and the ambersand along with it), the pipeline works. Unfortunately I found no docs how to escape URLs in the correct way so GStreamer can read it. Can anyone share such documentation?</p>\n<p><strong>Update 2:</strong></p>\n<p>It starts getting weired now: It looks like the name of the URL parameter is the problem. I have started to replace it with some dummy argument and it works. So the ambersand is not the problem. Then I used VLC media player to consume the stream with the <code>&amp;meta=1</code> in place which also worked. Is it possible that the string &quot;meta&quot; is treated special in gstreamer?</p>\n"},{"tags":["java","performance","parallelstream"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":2,"creation_date":1669796539,"post_id":74624720,"comment_id":131722029,"body_markdown":"Please don&#39;t just describe your code. Include a [example] with your question instead.","body":"Please don&#39;t just describe your code. Include a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> with your question instead."},{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":0,"creation_date":1669796582,"post_id":74624720,"comment_id":131722044,"body_markdown":"And please also include your inputs, expected results and actual results.","body":"And please also include your inputs, expected results and actual results."},{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":0,"creation_date":1669812710,"post_id":74624720,"comment_id":131727450,"body_markdown":"does the code inside the lambda expression access (read/modify) any data from outside i common (e.g. reads or writes to the same file, the same database, the same objects in memory) or do you really just create new stuff in your code or modify that person object? It would be quite unusual to work without any side effects inside a `.foreach`. Can you describe that &quot;fetch data from different array list&quot; and &quot;create a set of combinations&quot; a bit more in details?","body":"does the code inside the lambda expression access (read/modify) any data from outside i common (e.g. reads or writes to the same file, the same database, the same objects in memory) or do you really just create new stuff in your code or modify that person object? It would be quite unusual to work without any side effects inside a <code>.foreach</code>. Can you describe that &quot;fetch data from different array list&quot; and &quot;create a set of combinations&quot; a bit more in details?"}],"answers":[{"comments":[{"owner":{"account_id":6476838,"reputation":12880,"user_id":5015207,"accept_rate":83,"display_name":"B&#246; macht Blau"},"score":0,"creation_date":1673170531,"post_id":75026300,"comment_id":132434375,"body_markdown":"If you have a new question, please ask it by clicking the [Ask Question](https://stackoverflow.com/questions/ask) button. Include a link to this question if it helps provide context. - [From Review](/review/late-answers/33570972)","body":"If you have a new question, please ask it by clicking the <a href=\"https://stackoverflow.com/questions/ask\">Ask Question</a> button. Include a link to this question if it helps provide context. - <a href=\"/review/late-answers/33570972\">From Review</a>"},{"owner":{"account_id":14581216,"reputation":11,"user_id":10531590,"display_name":"Wise Lin"},"score":0,"creation_date":1673255921,"post_id":75026300,"comment_id":132448945,"body_markdown":"I&#39;m answering this question and I have provided solutions to solve it, maybe you should check the content first.","body":"I&#39;m answering this question and I have provided solutions to solve it, maybe you should check the content first."},{"owner":{"account_id":6476838,"reputation":12880,"user_id":5015207,"accept_rate":83,"display_name":"B&#246; macht Blau"},"score":0,"creation_date":1673266150,"post_id":75026300,"comment_id":132452276,"body_markdown":"Sorry I misunderstood your intention. I suppose some of it was lost in translation (looks like none of us has English as their first language)","body":"Sorry I misunderstood your intention. I suppose some of it was lost in translation (looks like none of us has English as their first language)"}],"tags":[],"owner":{"account_id":14581216,"reputation":11,"user_id":10531590,"display_name":"Wise Lin"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673260310,"creation_date":1672971407,"answer_id":75026300,"question_id":74624720,"body_markdown":"I have the question which is similar to @cyberbrain &#39;s comment. \r\n\r\nDoes the `nested for-loop` read and write the same collection(List/Set)? \r\n\r\nIf so, please make your collection can be concurrent object type.\r\ne.g. `CopyOnWriteArrayList` or `CopyOnWriteArraySet` something like these.","title":"Nested for loops inside a parallel for loops gives incorrect results","body":"<p>I have the question which is similar to @cyberbrain 's comment.</p>\n<p>Does the <code>nested for-loop</code> read and write the same collection(List/Set)?</p>\n<p>If so, please make your collection can be concurrent object type.\ne.g. <code>CopyOnWriteArrayList</code> or <code>CopyOnWriteArraySet</code> something like these.</p>\n"}],"owner":{"account_id":13351707,"reputation":11,"user_id":9636730,"display_name":"Mohana Priya"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1673260310,"creation_date":1669796458,"question_id":74624720,"body_markdown":"I am iterating the foreach loop using parallelStream but inside i have a list of nested for loops.\r\n\r\nDuring iteration its giving incorrect result each time with different value.\r\n\r\nI really needs this parallel for loop execution to increase performance.\r\n\r\nExpectation - 6k records\r\n\r\nResult set after parallel iteration - 2k which also varies if I execute the same logic again.\r\nWhat is the difference when we execute a parallelstream with foreach() loop and foreachOrdered()loop? Which one offers a best result with good performance?\r\n\r\n\r\n     //created a class\r\n     public class Person{\r\n         private Integer personId;\r\n         private String personName;\r\n     }\r\n\r\n     //Arraylist that holds all the person details\r\n     public Class PersonDetails{\r\n         public void personData(){\r\n             List&lt;Person&gt; personList = getPersonDetails();\r\n             personList.parallelStream().forEach(person-&gt; {\r\n                 // code logic to fetch data from different array list \r\n                 // based on personid and create a set of combinations \r\n                 // using nested for-loop.\r\n            });\r\n        }\r\n    }\r\n            \r\n            \r\n\r\n\r\n","title":"Nested for loops inside a parallel for loops gives incorrect results","body":"<p>I am iterating the foreach loop using parallelStream but inside i have a list of nested for loops.</p>\n<p>During iteration its giving incorrect result each time with different value.</p>\n<p>I really needs this parallel for loop execution to increase performance.</p>\n<p>Expectation - 6k records</p>\n<p>Result set after parallel iteration - 2k which also varies if I execute the same logic again.\nWhat is the difference when we execute a parallelstream with foreach() loop and foreachOrdered()loop? Which one offers a best result with good performance?</p>\n<pre><code> //created a class\n public class Person{\n     private Integer personId;\n     private String personName;\n }\n\n //Arraylist that holds all the person details\n public Class PersonDetails{\n     public void personData(){\n         List&lt;Person&gt; personList = getPersonDetails();\n         personList.parallelStream().forEach(person-&gt; {\n             // code logic to fetch data from different array list \n             // based on personid and create a set of combinations \n             // using nested for-loop.\n        });\n    }\n}\n        \n        \n</code></pre>\n"},{"tags":["java","hazelcast"],"answers":[{"tags":[],"owner":{"account_id":7226902,"reputation":5025,"user_id":5515155,"display_name":"Rafał Leszko"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1587110254,"creation_date":1587110254,"answer_id":61266701,"question_id":61265717,"body_markdown":"It looks like the issue https://github.com/hazelcast/hazelcast/issues/3395 is fixed in the version 3.7.\r\n\r\nSo you can try with the latest Hazelcast version: `4.0.1`. Or if you don&#39;t want to upgrade the major version, then try `3.12.6`.","title":"WrongTargetException in Hazelcast cluster","body":"<p>It looks like the issue <a href=\"https://github.com/hazelcast/hazelcast/issues/3395\" rel=\"nofollow noreferrer\">https://github.com/hazelcast/hazelcast/issues/3395</a> is fixed in the version 3.7.</p>\n\n<p>So you can try with the latest Hazelcast version: <code>4.0.1</code>. Or if you don't want to upgrade the major version, then try <code>3.12.6</code>.</p>\n"}],"owner":{"account_id":1822566,"reputation":199,"user_id":1656253,"display_name":"Rahul J"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1713,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":61266701,"answer_count":1,"score":2,"last_activity_date":1673260158,"creation_date":1587106581,"question_id":61265717,"body_markdown":" I was running a POC with two members of hazelcast cluster, with 3.4.1 version of hazelcast. \r\n I observed a strange behavior, where one member was continuously throwing WrongTargetException. \r\n It was a rare scenario which I was able to replicate with following sequence of events : \r\n\r\n Assume I am running cluster with two members say X and Y.\r\n\r\n 1. Unplugged Y from the the cluster so it becomes unresponsive.\r\n 2. X thinks Y is not responding so it remove it from clusters.  \r\n 3.  Plugged in Y again, Y assumes it has not received any response/heart-beat\r\n    from X, so think X is dead, and it kicked X out from the cluster.\r\n 4. X begins to throw WrongTargetException soon.\r\n\r\nWhile searching on google I find same issue is described here https://github.com/hazelcast/hazelcast/issues/3395.\r\n \r\nSo would like to know if this has been fixed now, and what is preferred version that should be used. Please consider that I am already using 3.4.1 for other applications as well, so don&#39;t want to do a massive change while upgrading to latest version. ","title":"WrongTargetException in Hazelcast cluster","body":"<p>I was running a POC with two members of hazelcast cluster, with 3.4.1 version of hazelcast.\nI observed a strange behavior, where one member was continuously throwing WrongTargetException.\nIt was a rare scenario which I was able to replicate with following sequence of events :</p>\n<p>Assume I am running cluster with two members say X and Y.</p>\n<ol>\n<li>Unplugged Y from the the cluster so it becomes unresponsive.</li>\n<li>X thinks Y is not responding so it remove it from clusters.</li>\n<li>Plugged in Y again, Y assumes it has not received any response/heart-beat\nfrom X, so think X is dead, and it kicked X out from the cluster.</li>\n<li>X begins to throw WrongTargetException soon.</li>\n</ol>\n<p>While searching on google I find same issue is described here <a href=\"https://github.com/hazelcast/hazelcast/issues/3395\" rel=\"nofollow noreferrer\">https://github.com/hazelcast/hazelcast/issues/3395</a>.</p>\n<p>So would like to know if this has been fixed now, and what is preferred version that should be used. Please consider that I am already using 3.4.1 for other applications as well, so don't want to do a massive change while upgrading to latest version.</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":23507202,"reputation":61,"user_id":17556283,"display_name":"louis clement"},"score":0,"creation_date":1673216516,"post_id":75048674,"comment_id":132442958,"body_markdown":"can you please provide more information?? And to show ur code you can use this :```","body":"can you please provide more information?? And to show ur code you can use this :```"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1673221782,"post_id":75048674,"comment_id":132443598,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."},{"owner":{"account_id":27469044,"reputation":1,"user_id":20958304,"display_name":"Carlos Serrano"},"score":0,"creation_date":1673283639,"post_id":75048674,"comment_id":132459236,"body_markdown":"Sorry, I&#39;m new here so I don&#39;t know how to do some things, I edited the post and put the code, any more just tell me please.","body":"Sorry, I&#39;m new here so I don&#39;t know how to do some things, I edited the post and put the code, any more just tell me please."}],"owner":{"account_id":27469044,"reputation":1,"user_id":20958304,"display_name":"Carlos Serrano"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673260019,"creation_date":1673189143,"question_id":75048674,"body_markdown":"I need help with this. I have a theme with:\r\n\r\n    &lt;style name=&quot;Theme.CuentameUnCuento&quot; parent=&quot;Theme.AppCompat.Light.NoActionBar&quot;&gt;\r\n        &lt;!-- Primary brand color. --&gt;\r\n        &lt;item name=&quot;colorPrimary&quot;&gt;#4CAF50&lt;/item&gt;\r\n        &lt;item name=&quot;colorPrimaryVariant&quot;&gt;#388E3C&lt;/item&gt;\r\n        &lt;item name=&quot;colorOnPrimary&quot;&gt;@color/white&lt;/item&gt;\r\n        &lt;!-- Secondary brand color. --&gt;\r\n        &lt;item name=&quot;colorSecondary&quot;&gt;#009688&lt;/item&gt;\r\n        &lt;item name=&quot;colorSecondaryVariant&quot;&gt;#00796B&lt;/item&gt;\r\n        &lt;item name=&quot;colorOnSecondary&quot;&gt;@color/white&lt;/item&gt;\r\n        &lt;!-- Status bar color. --&gt;\r\n        &lt;item name=&quot;android:statusBarColor&quot;&gt;?attr/colorPrimaryVariant&lt;/item&gt;\r\n        &lt;!-- Customize your theme here. --&gt;\r\n        &lt;item name=&quot;android:windowNoTitle&quot;&gt;true&lt;/item&gt;\r\n        &lt;item name=&quot;android:windowActionBar&quot;&gt;false&lt;/item&gt;\r\n        &lt;item name=&quot;android:windowFullscreen&quot;&gt;true&lt;/item&gt;\r\n        &lt;item name=&quot;android:windowContentOverlay&quot;&gt;@null&lt;/item&gt;\r\n        &lt;item name=&quot;android:fontFamily&quot;&gt;@font/anna&lt;/item&gt;\r\n    &lt;/style&gt;\r\n\r\nThen I have, in the MainActivity.java, after the setContentView.\r\n\r\n        View decorView = getWindow().getDecorView();\r\n        int uiOptions = View.SYSTEM_UI_FLAG_HIDE_NAVIGATION\r\n                | View.SYSTEM_UI_FLAG_FULLSCREEN;\r\n        decorView.setSystemUiVisibility(uiOptions);\r\n\r\nWith all of this I can set the full screen mode in the app.\r\n\r\nAll seems to works fine, except when I touch a spinner adapter. Then the navigation buttons appears.\r\nIn the actitvity_main.xml the spinner:\r\n\r\n    &lt;Spinner\r\n        android:id=&quot;@+id/sp_idioma_menu&quot;\r\n        style=&quot;@style/spinner_style&quot;\r\n        android:layout_width=&quot;80dp&quot;\r\n        android:layout_height=&quot;60dp&quot;\r\n        android:layout_marginEnd=&quot;16dp&quot;\r\n        android:layout_marginBottom=&quot;36dp&quot;\r\n        app:layout_constraintBottom_toTopOf=&quot;@+id/btn_salir&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        android:stateListAnimator=&quot;@null&quot;/&gt;\r\n\r\n\r\nThe styles.xml is:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;resources&gt;\r\n        &lt;style name=&quot;spinner_style&quot;&gt;\r\n            &lt;item name=&quot;android:layout_width&quot;&gt;match_parent&lt;/item&gt;\r\n            &lt;item name=&quot;android:layout_height&quot;&gt;wrap_content&lt;/item&gt;\r\n            &lt;item name=&quot;android:background&quot;&gt;@drawable/diseny_spinner&lt;/item&gt;\r\n            &lt;item name=&quot;android:paddingLeft&quot;&gt;8dp&lt;/item&gt;\r\n            &lt;item name=&quot;android:paddingRight&quot;&gt;20dp&lt;/item&gt;\r\n            &lt;item name=&quot;android:windowNoTitle&quot;&gt;true&lt;/item&gt;\r\n            &lt;item name=&quot;android:windowActionBar&quot;&gt;false&lt;/item&gt;\r\n            &lt;item name=&quot;android:windowFullscreen&quot;&gt;true&lt;/item&gt;\r\n            &lt;item name=&quot;android:windowContentOverlay&quot;&gt;@null&lt;/item&gt;\r\n        &lt;/style&gt;\r\n    &lt;/resources&gt;\r\n\r\n\r\nThe diseny_spinner.xml is:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;selector xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\r\n        &lt;item&gt;&lt;layer-list&gt;\r\n            &lt;item&gt;&lt;shape&gt;\r\n            &lt;/shape&gt;&lt;/item&gt;\r\n        &lt;/layer-list&gt;&lt;/item&gt;\r\n    &lt;/selector&gt;\r\n\r\nImages:\r\n[Screenshot when I touch the Spinner][1]\r\n[Screenshot when Spinner is not opened][2]\r\n\r\nHow can I solve this? Thanks\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ojyLr.png\r\n  [2]: https://i.stack.imgur.com/FgqxL.png","title":"Navigation Buttons appears when I touch a spinner","body":"<p>I need help with this. I have a theme with:</p>\n<pre><code>&lt;style name=&quot;Theme.CuentameUnCuento&quot; parent=&quot;Theme.AppCompat.Light.NoActionBar&quot;&gt;\n    &lt;!-- Primary brand color. --&gt;\n    &lt;item name=&quot;colorPrimary&quot;&gt;#4CAF50&lt;/item&gt;\n    &lt;item name=&quot;colorPrimaryVariant&quot;&gt;#388E3C&lt;/item&gt;\n    &lt;item name=&quot;colorOnPrimary&quot;&gt;@color/white&lt;/item&gt;\n    &lt;!-- Secondary brand color. --&gt;\n    &lt;item name=&quot;colorSecondary&quot;&gt;#009688&lt;/item&gt;\n    &lt;item name=&quot;colorSecondaryVariant&quot;&gt;#00796B&lt;/item&gt;\n    &lt;item name=&quot;colorOnSecondary&quot;&gt;@color/white&lt;/item&gt;\n    &lt;!-- Status bar color. --&gt;\n    &lt;item name=&quot;android:statusBarColor&quot;&gt;?attr/colorPrimaryVariant&lt;/item&gt;\n    &lt;!-- Customize your theme here. --&gt;\n    &lt;item name=&quot;android:windowNoTitle&quot;&gt;true&lt;/item&gt;\n    &lt;item name=&quot;android:windowActionBar&quot;&gt;false&lt;/item&gt;\n    &lt;item name=&quot;android:windowFullscreen&quot;&gt;true&lt;/item&gt;\n    &lt;item name=&quot;android:windowContentOverlay&quot;&gt;@null&lt;/item&gt;\n    &lt;item name=&quot;android:fontFamily&quot;&gt;@font/anna&lt;/item&gt;\n&lt;/style&gt;\n</code></pre>\n<p>Then I have, in the MainActivity.java, after the setContentView.</p>\n<pre><code>    View decorView = getWindow().getDecorView();\n    int uiOptions = View.SYSTEM_UI_FLAG_HIDE_NAVIGATION\n            | View.SYSTEM_UI_FLAG_FULLSCREEN;\n    decorView.setSystemUiVisibility(uiOptions);\n</code></pre>\n<p>With all of this I can set the full screen mode in the app.</p>\n<p>All seems to works fine, except when I touch a spinner adapter. Then the navigation buttons appears.\nIn the actitvity_main.xml the spinner:</p>\n<pre><code>&lt;Spinner\n    android:id=&quot;@+id/sp_idioma_menu&quot;\n    style=&quot;@style/spinner_style&quot;\n    android:layout_width=&quot;80dp&quot;\n    android:layout_height=&quot;60dp&quot;\n    android:layout_marginEnd=&quot;16dp&quot;\n    android:layout_marginBottom=&quot;36dp&quot;\n    app:layout_constraintBottom_toTopOf=&quot;@+id/btn_salir&quot;\n    app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n    android:stateListAnimator=&quot;@null&quot;/&gt;\n</code></pre>\n<p>The styles.xml is:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;resources&gt;\n    &lt;style name=&quot;spinner_style&quot;&gt;\n        &lt;item name=&quot;android:layout_width&quot;&gt;match_parent&lt;/item&gt;\n        &lt;item name=&quot;android:layout_height&quot;&gt;wrap_content&lt;/item&gt;\n        &lt;item name=&quot;android:background&quot;&gt;@drawable/diseny_spinner&lt;/item&gt;\n        &lt;item name=&quot;android:paddingLeft&quot;&gt;8dp&lt;/item&gt;\n        &lt;item name=&quot;android:paddingRight&quot;&gt;20dp&lt;/item&gt;\n        &lt;item name=&quot;android:windowNoTitle&quot;&gt;true&lt;/item&gt;\n        &lt;item name=&quot;android:windowActionBar&quot;&gt;false&lt;/item&gt;\n        &lt;item name=&quot;android:windowFullscreen&quot;&gt;true&lt;/item&gt;\n        &lt;item name=&quot;android:windowContentOverlay&quot;&gt;@null&lt;/item&gt;\n    &lt;/style&gt;\n&lt;/resources&gt;\n</code></pre>\n<p>The diseny_spinner.xml is:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;selector xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\n    &lt;item&gt;&lt;layer-list&gt;\n        &lt;item&gt;&lt;shape&gt;\n        &lt;/shape&gt;&lt;/item&gt;\n    &lt;/layer-list&gt;&lt;/item&gt;\n&lt;/selector&gt;\n</code></pre>\n<p>Images:\n<a href=\"https://i.stack.imgur.com/ojyLr.png\" rel=\"nofollow noreferrer\">Screenshot when I touch the Spinner</a>\n<a href=\"https://i.stack.imgur.com/FgqxL.png\" rel=\"nofollow noreferrer\">Screenshot when Spinner is not opened</a></p>\n<p>How can I solve this? Thanks</p>\n"},{"tags":["java","android","retrofit"],"answers":[{"tags":[],"owner":{"account_id":3793752,"reputation":491,"user_id":3149553,"display_name":"guillaume_fr"},"comment_count":0,"down_vote_count":3,"up_vote_count":6,"is_accepted":false,"score":3,"last_activity_date":1442312989,"creation_date":1442312989,"answer_id":32583756,"question_id":32579754,"body_markdown":"Go with RxJava Observable and call retry()\r\nDoc: https://github.com/ReactiveX/RxJava/wiki/Error-Handling-Operators","title":"Retrying the request using Retrofit 2","body":"<p>Go with RxJava Observable and call retry()\nDoc: <a href=\"https://github.com/ReactiveX/RxJava/wiki/Error-Handling-Operators\" rel=\"nofollow\">https://github.com/ReactiveX/RxJava/wiki/Error-Handling-Operators</a></p>\n"},{"comments":[{"owner":{"account_id":2323171,"reputation":1367,"user_id":2038286,"accept_rate":64,"display_name":"Ninja Coding"},"score":1,"creation_date":1448637908,"post_id":32840088,"comment_id":55678342,"body_markdown":"On CallUtils the overrided method should be: @Override\n            public void onResponse(Response&lt;T&gt; response, Retrofit retrofit) {\n                callback.onResponse(response, retrofit);\n            }","body":"On CallUtils the overrided method should be: @Override             public void onResponse(Response&lt;T&gt; response, Retrofit retrofit) {                 callback.onResponse(response, retrofit);             }"},{"owner":{"account_id":2323171,"reputation":1367,"user_id":2038286,"accept_rate":64,"display_name":"Ninja Coding"},"score":0,"creation_date":1448639117,"post_id":32840088,"comment_id":55679045,"body_markdown":"how we can change the baseUrl from the CallbackWithRetry class?","body":"how we can change the baseUrl from the CallbackWithRetry class?"},{"owner":{"account_id":38705,"reputation":2720,"user_id":111277,"display_name":"situee"},"score":6,"creation_date":1482746916,"post_id":32840088,"comment_id":69862230,"body_markdown":"Great answer!  By the way, with Retrofit 2.1, the `Callback.onFailure(Call&lt;T&gt; call, Throwable t)` already has the &quot;call&quot;, don&#39;t need `CallUtils` any more.","body":"Great answer!  By the way, with Retrofit 2.1, the <code>Callback.onFailure(Call&lt;T&gt; call, Throwable t)</code> already has the &quot;call&quot;, don&#39;t need <code>CallUtils</code> any more."}],"tags":[],"owner":{"account_id":2931700,"reputation":7194,"user_id":2511775,"accept_rate":71,"display_name":"Ashkan Sarlak"},"comment_count":3,"down_vote_count":0,"up_vote_count":65,"is_accepted":true,"score":65,"last_activity_date":1443517763,"creation_date":1443517763,"answer_id":32840088,"question_id":32579754,"body_markdown":"I finally did something like this, for anyone interested:\r\n\r\n## 1 ##\r\n\r\nFirst I made an abstract class `CallbackWithRetry` \r\n\r\n    public abstract class CallbackWithRetry&lt;T&gt; implements Callback&lt;T&gt; {\r\n    \r\n        private static final int TOTAL_RETRIES = 3;\r\n        private static final String TAG = CallbackWithRetry.class.getSimpleName();\r\n        private final Call&lt;T&gt; call;\r\n        private int retryCount = 0;\r\n    \r\n        public CallbackWithRetry(Call&lt;T&gt; call) {\r\n            this.call = call;\r\n        }\r\n    \r\n        @Override\r\n        public void onFailure(Throwable t) {\r\n            Log.e(TAG, t.getLocalizedMessage());\r\n            if (retryCount++ &lt; TOTAL_RETRIES) {\r\n                Log.v(TAG, &quot;Retrying... (&quot; + retryCount + &quot; out of &quot; + TOTAL_RETRIES + &quot;)&quot;);\r\n                retry();\r\n            }\r\n        }\r\n    \r\n        private void retry() {\r\n            call.clone().enqueue(this);\r\n        }\r\n    }\r\n\r\nUsing this class I can do something like this:\r\n\r\n    serviceCall.enqueue(new CallbackWithRetry&lt;List&lt;Album&gt;&gt;(serviceCall) {\r\n        @Override\r\n        public void onResponse(Response&lt;List&lt;Album&gt;&gt; response) {\r\n            ...\r\n        }\r\n    });\r\n\r\n\r\n----------\r\n\r\n## 2 ##\r\n\r\nThis is not completely satisfactory because I have to pass same `serviceCall` twice. This can confusing as one can think the second `serviceCall` (that goes into constructor of `CallbackWithRetry`) should or could be something different from first one (which we invoke `enqueue` method on it)\r\n\r\nSo I implemented a helper class `CallUtils`:\r\n\r\n    public class CallUtils {\r\n    \r\n        public static &lt;T&gt; void enqueueWithRetry(Call&lt;T&gt; call, final Callback&lt;T&gt; callback) {\r\n            call.enqueue(new CallbackWithRetry&lt;T&gt;(call) {\r\n                @Override\r\n                public void onResponse(Response&lt;T&gt; response) {\r\n                    callback.onResponse(response);\r\n                }\r\n    \r\n                @Override\r\n                public void onFailure(Throwable t) {\r\n                    super.onFailure(t);\r\n                    callback.onFailure(t);\r\n                }\r\n            });\r\n        }\r\n    \r\n    }\r\n\r\nAnd I can use it like this:\r\n\r\n    CallUtils.enqueueWithRetry(serviceCall, new Callback&lt;List&lt;Album&gt;&gt;() {\r\n        @Override\r\n        public void onResponse(Response&lt;List&lt;Album&gt;&gt; response) {\r\n            ...\r\n        }\r\n    \r\n        @Override\r\n        public void onFailure(Throwable t) {\r\n            // Let the underlying method do the job of retrying.\r\n        }\r\n    });\r\n\r\nWith this I have to pass a standard `Callback` to `enqueueWithRetry` method and it makes me implement `onFailure` (Though in the previous method I can implement it too)\r\n\r\nSo this is how I&#39;ve solved the issue. Any suggestion for a better design would be appreciated. ","title":"Retrying the request using Retrofit 2","body":"<p>I finally did something like this, for anyone interested:</p>\n\n<h2>1</h2>\n\n<p>First I made an abstract class <code>CallbackWithRetry</code> </p>\n\n<pre><code>public abstract class CallbackWithRetry&lt;T&gt; implements Callback&lt;T&gt; {\n\n    private static final int TOTAL_RETRIES = 3;\n    private static final String TAG = CallbackWithRetry.class.getSimpleName();\n    private final Call&lt;T&gt; call;\n    private int retryCount = 0;\n\n    public CallbackWithRetry(Call&lt;T&gt; call) {\n        this.call = call;\n    }\n\n    @Override\n    public void onFailure(Throwable t) {\n        Log.e(TAG, t.getLocalizedMessage());\n        if (retryCount++ &lt; TOTAL_RETRIES) {\n            Log.v(TAG, \"Retrying... (\" + retryCount + \" out of \" + TOTAL_RETRIES + \")\");\n            retry();\n        }\n    }\n\n    private void retry() {\n        call.clone().enqueue(this);\n    }\n}\n</code></pre>\n\n<p>Using this class I can do something like this:</p>\n\n<pre><code>serviceCall.enqueue(new CallbackWithRetry&lt;List&lt;Album&gt;&gt;(serviceCall) {\n    @Override\n    public void onResponse(Response&lt;List&lt;Album&gt;&gt; response) {\n        ...\n    }\n});\n</code></pre>\n\n<hr>\n\n<h2>2</h2>\n\n<p>This is not completely satisfactory because I have to pass same <code>serviceCall</code> twice. This can confusing as one can think the second <code>serviceCall</code> (that goes into constructor of <code>CallbackWithRetry</code>) should or could be something different from first one (which we invoke <code>enqueue</code> method on it)</p>\n\n<p>So I implemented a helper class <code>CallUtils</code>:</p>\n\n<pre><code>public class CallUtils {\n\n    public static &lt;T&gt; void enqueueWithRetry(Call&lt;T&gt; call, final Callback&lt;T&gt; callback) {\n        call.enqueue(new CallbackWithRetry&lt;T&gt;(call) {\n            @Override\n            public void onResponse(Response&lt;T&gt; response) {\n                callback.onResponse(response);\n            }\n\n            @Override\n            public void onFailure(Throwable t) {\n                super.onFailure(t);\n                callback.onFailure(t);\n            }\n        });\n    }\n\n}\n</code></pre>\n\n<p>And I can use it like this:</p>\n\n<pre><code>CallUtils.enqueueWithRetry(serviceCall, new Callback&lt;List&lt;Album&gt;&gt;() {\n    @Override\n    public void onResponse(Response&lt;List&lt;Album&gt;&gt; response) {\n        ...\n    }\n\n    @Override\n    public void onFailure(Throwable t) {\n        // Let the underlying method do the job of retrying.\n    }\n});\n</code></pre>\n\n<p>With this I have to pass a standard <code>Callback</code> to <code>enqueueWithRetry</code> method and it makes me implement <code>onFailure</code> (Though in the previous method I can implement it too)</p>\n\n<p>So this is how I've solved the issue. Any suggestion for a better design would be appreciated. </p>\n"},{"comments":[{"owner":{"account_id":1008068,"reputation":340,"user_id":1021253,"accept_rate":100,"display_name":"Granjero"},"score":0,"creation_date":1624648107,"post_id":38459318,"comment_id":120425065,"body_markdown":"Implementing this solution within my custom CallAdapter.Factory causes a RuntimeException (Can&#39;t create handler inside thread that has not called Looper.prepare())","body":"Implementing this solution within my custom CallAdapter.Factory causes a RuntimeException (Can&#39;t create handler inside thread that has not called Looper.prepare())"}],"tags":[],"owner":{"account_id":1863553,"reputation":274,"user_id":1687601,"display_name":"milechainsaw"},"comment_count":1,"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1468933105,"creation_date":1468933105,"answer_id":38459318,"question_id":32579754,"body_markdown":"I&#39;ve made custom implementation of the Callback&lt;T&gt; interface, you can pretty much use it in place of original callback. If call is successful, the onResponse() method is called. If after retrying for set amount of repetitions call fails, onFailedAfterRetry() is called.\r\n\r\n    public abstract class BackoffCallback&lt;T&gt; implements Callback&lt;T&gt; {\r\n    private static final int RETRY_COUNT = 3;\r\n    /**\r\n     * Base retry delay for exponential backoff, in Milliseconds\r\n     */\r\n    private static final double RETRY_DELAY = 300;\r\n    private int retryCount = 0;\r\n\r\n    @Override\r\n    public void onFailure(final Call&lt;T&gt; call, Throwable t) {\r\n        retryCount++;\r\n        if (retryCount &lt;= RETRY_COUNT) {\r\n            int expDelay = (int) (RETRY_DELAY * Math.pow(2, Math.max(0, retryCount - 1)));\r\n            new Handler().postDelayed(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    retry(call);\r\n                }\r\n            }, expDelay);\r\n        } else {\r\n            onFailedAfterRetry(t);\r\n        }\r\n    }\r\n\r\n    private void retry(Call&lt;T&gt; call) {\r\n        call.clone().enqueue(this);\r\n    }\r\n\r\n    public abstract void onFailedAfterRetry(Throwable t);\r\n\r\n    }\r\n\r\nhttps://gist.github.com/milechainsaw/811c1b583706da60417ed10d35d2808f","title":"Retrying the request using Retrofit 2","body":"<p>I've made custom implementation of the Callback interface, you can pretty much use it in place of original callback. If call is successful, the onResponse() method is called. If after retrying for set amount of repetitions call fails, onFailedAfterRetry() is called.</p>\n\n<pre><code>public abstract class BackoffCallback&lt;T&gt; implements Callback&lt;T&gt; {\nprivate static final int RETRY_COUNT = 3;\n/**\n * Base retry delay for exponential backoff, in Milliseconds\n */\nprivate static final double RETRY_DELAY = 300;\nprivate int retryCount = 0;\n\n@Override\npublic void onFailure(final Call&lt;T&gt; call, Throwable t) {\n    retryCount++;\n    if (retryCount &lt;= RETRY_COUNT) {\n        int expDelay = (int) (RETRY_DELAY * Math.pow(2, Math.max(0, retryCount - 1)));\n        new Handler().postDelayed(new Runnable() {\n            @Override\n            public void run() {\n                retry(call);\n            }\n        }, expDelay);\n    } else {\n        onFailedAfterRetry(t);\n    }\n}\n\nprivate void retry(Call&lt;T&gt; call) {\n    call.clone().enqueue(this);\n}\n\npublic abstract void onFailedAfterRetry(Throwable t);\n\n}\n</code></pre>\n\n<p><a href=\"https://gist.github.com/milechainsaw/811c1b583706da60417ed10d35d2808f\" rel=\"noreferrer\">https://gist.github.com/milechainsaw/811c1b583706da60417ed10d35d2808f</a></p>\n"},{"comments":[{"owner":{"account_id":918595,"reputation":1764,"user_id":950814,"accept_rate":60,"display_name":"behelit"},"score":0,"creation_date":1576025279,"post_id":41884400,"comment_id":104761690,"body_markdown":"How is this used?","body":"How is this used?"},{"owner":{"account_id":1717188,"reputation":935,"user_id":1574012,"accept_rate":67,"display_name":"cljk"},"score":0,"creation_date":1589490469,"post_id":41884400,"comment_id":109324143,"body_markdown":"Haven&#180;t tried - but you&#180;ll invoke &quot;call.enque(new CallBackWithRetry() { ... }&quot;\nThe anonymous inner class inherits the default implementation for &quot;onFailure&quot;","body":"Haven&#180;t tried - but you&#180;ll invoke &quot;call.enque(new CallBackWithRetry() { ... }&quot; The anonymous inner class inherits the default implementation for &quot;onFailure&quot;"}],"tags":[],"owner":{"account_id":42784,"reputation":1740,"user_id":124759,"accept_rate":93,"display_name":"huwr"},"comment_count":2,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1485471084,"creation_date":1485471084,"answer_id":41884400,"question_id":32579754,"body_markdown":"I did something quite similar to Ashkan Sarlak, but since Retrofit 2.1 passes the `Call&lt;T&gt;` into the `onFailure` method, you can simplify to one `CallbackWithRetry&lt;T&gt;` abstract class. See:\r\n\r\n    public abstract class CallbackWithRetry&lt;T&gt; implements Callback&lt;T&gt; {\r\n\r\n \r\n\r\n     private static final String TAG = &quot;CallbackWithRetry&quot;;\r\n    \r\n      private int retryCount = 0;\r\n    \r\n      private final Logger logger;\r\n      private final String requestName;\r\n      private final int retryAttempts;\r\n    \r\n      protected CallbackWithRetry(@NonNull Logger logger, @NonNull String requestName, int retryAttempts) {\r\n        this.logger = logger;\r\n        this.requestName = requestName;\r\n        this.retryAttempts = retryAttempts;\r\n      }\r\n    \r\n      @Override\r\n      public void onFailure(Call&lt;T&gt; call, Throwable t) {\r\n        if (retryCount &lt; retryAttempts) {\r\n          logger.e(TAG, &quot;Retrying &quot;, requestName, &quot;... (&quot;, retryCount, &quot; out of &quot;, retryAttempts, &quot;)&quot;);\r\n          retry(call);\r\n    \r\n          retryCount += 1;\r\n        } else {\r\n          logger.e(TAG, &quot;Failed request &quot;, requestName, &quot; after &quot;, retryAttempts, &quot; attempts&quot;);\r\n        }\r\n      }\r\n    \r\n      private void retry(Call&lt;T&gt; call) {\r\n        call.clone().enqueue(this);\r\n      }\r\n    }","title":"Retrying the request using Retrofit 2","body":"<p>I did something quite similar to Ashkan Sarlak, but since Retrofit 2.1 passes the <code>Call&lt;T&gt;</code> into the <code>onFailure</code> method, you can simplify to one <code>CallbackWithRetry&lt;T&gt;</code> abstract class. See:</p>\n\n<pre><code>public abstract class CallbackWithRetry&lt;T&gt; implements Callback&lt;T&gt; {\n\n\n\n private static final String TAG = \"CallbackWithRetry\";\n\n  private int retryCount = 0;\n\n  private final Logger logger;\n  private final String requestName;\n  private final int retryAttempts;\n\n  protected CallbackWithRetry(@NonNull Logger logger, @NonNull String requestName, int retryAttempts) {\n    this.logger = logger;\n    this.requestName = requestName;\n    this.retryAttempts = retryAttempts;\n  }\n\n  @Override\n  public void onFailure(Call&lt;T&gt; call, Throwable t) {\n    if (retryCount &lt; retryAttempts) {\n      logger.e(TAG, \"Retrying \", requestName, \"... (\", retryCount, \" out of \", retryAttempts, \")\");\n      retry(call);\n\n      retryCount += 1;\n    } else {\n      logger.e(TAG, \"Failed request \", requestName, \" after \", retryAttempts, \" attempts\");\n    }\n  }\n\n  private void retry(Call&lt;T&gt; call) {\n    call.clone().enqueue(this);\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8541170,"reputation":13189,"user_id":6401241,"display_name":"Radesh"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1539163003,"creation_date":1539163003,"answer_id":52736729,"question_id":32579754,"body_markdown":"[ashkan-sarlak][1] answer work great and i&#39;m just try to make it up to date.\r\n\r\nFrom [retrofit 2.1][2] \r\n\r\n    onFailure(Throwable t) \r\n   \r\nChange to\r\n\r\n    onFailure(Call&lt;T&gt; call, Throwable t)\r\n\r\nSo this make it so easy now.just create `CallbackWithRetry.java` like this\r\n\r\n    public abstract class CallbackWithRetry&lt;T&gt; implements Callback&lt;T&gt; {\r\n    \r\n        private static final int TOTAL_RETRIES = 3;\r\n        private static final String TAG = CallbackWithRetry.class.getSimpleName();\r\n        private int retryCount = 0;\r\n    \r\n        @Override\r\n        public void onFailure(Call&lt;T&gt; call, Throwable t) {\r\n            Log.e(TAG, t.getLocalizedMessage());\r\n            if (retryCount++ &lt; TOTAL_RETRIES) {\r\n                Log.v(TAG, &quot;Retrying... (&quot; + retryCount + &quot; out of &quot; + TOTAL_RETRIES + &quot;)&quot;);\r\n                retry(call);\r\n            }\r\n        }\r\n    \r\n        private void retry(Call&lt;T&gt; call) {\r\n            call.clone().enqueue(this);\r\n        }\r\n    }\r\n\r\nThat&#39;s all! you can simply use it like this\r\n\r\n    call.enqueue(new CallbackWithRetry&lt;someResponseClass&gt;() {\r\n            \r\n            @Override\r\n            public void onResponse(@NonNull Call&lt;someResponseClass&gt; call, @NonNull retrofit2.Response&lt;someResponseClass&gt; response) {\r\n                //do what you want\r\n            }\r\n            @Override\r\n            public void onFailure(@NonNull Call&lt;someResponseClass&gt; call, @NonNull Throwable t) {\r\n                super.onFailure(call,t);\r\n                //do some thing to show ui you trying\r\n                //or don&#39;t show! its optional\r\n            }\r\n        });\r\n\r\n\r\n  [1]: https://stackoverflow.com/users/2511775/ashkan-sarlak\r\n  [2]: https://github.com/square/retrofit/tags","title":"Retrying the request using Retrofit 2","body":"<p><a href=\"https://stackoverflow.com/users/2511775/ashkan-sarlak\">ashkan-sarlak</a> answer work great and i'm just try to make it up to date.</p>\n\n<p>From <a href=\"https://github.com/square/retrofit/tags\" rel=\"noreferrer\">retrofit 2.1</a> </p>\n\n<pre><code>onFailure(Throwable t) \n</code></pre>\n\n<p>Change to</p>\n\n<pre><code>onFailure(Call&lt;T&gt; call, Throwable t)\n</code></pre>\n\n<p>So this make it so easy now.just create <code>CallbackWithRetry.java</code> like this</p>\n\n<pre><code>public abstract class CallbackWithRetry&lt;T&gt; implements Callback&lt;T&gt; {\n\n    private static final int TOTAL_RETRIES = 3;\n    private static final String TAG = CallbackWithRetry.class.getSimpleName();\n    private int retryCount = 0;\n\n    @Override\n    public void onFailure(Call&lt;T&gt; call, Throwable t) {\n        Log.e(TAG, t.getLocalizedMessage());\n        if (retryCount++ &lt; TOTAL_RETRIES) {\n            Log.v(TAG, \"Retrying... (\" + retryCount + \" out of \" + TOTAL_RETRIES + \")\");\n            retry(call);\n        }\n    }\n\n    private void retry(Call&lt;T&gt; call) {\n        call.clone().enqueue(this);\n    }\n}\n</code></pre>\n\n<p>That's all! you can simply use it like this</p>\n\n<pre><code>call.enqueue(new CallbackWithRetry&lt;someResponseClass&gt;() {\n\n        @Override\n        public void onResponse(@NonNull Call&lt;someResponseClass&gt; call, @NonNull retrofit2.Response&lt;someResponseClass&gt; response) {\n            //do what you want\n        }\n        @Override\n        public void onFailure(@NonNull Call&lt;someResponseClass&gt; call, @NonNull Throwable t) {\n            super.onFailure(call,t);\n            //do some thing to show ui you trying\n            //or don't show! its optional\n        }\n    });\n</code></pre>\n"},{"tags":[],"owner":{"account_id":163184,"reputation":4278,"user_id":385138,"accept_rate":90,"display_name":"SIVAKUMAR.J"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1540906530,"creation_date":1540906530,"answer_id":53065556,"question_id":32579754,"body_markdown":"I think for android we no need to go for retrofit for this.We can make use of Workmanager (which predefine android api).\r\nWe can use &quot;ListenableWorker.Result.SUCCESS&quot;,&quot;ListenableWorker.Result.RETRY&quot; ,etc and achieve the above goals.","title":"Retrying the request using Retrofit 2","body":"<p>I think for android we no need to go for retrofit for this.We can make use of Workmanager (which predefine android api).\nWe can use \"ListenableWorker.Result.SUCCESS\",\"ListenableWorker.Result.RETRY\" ,etc and achieve the above goals.</p>\n"},{"tags":[],"owner":{"account_id":1883941,"reputation":380,"user_id":1703546,"accept_rate":33,"display_name":"DTodt"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1549281689,"creation_date":1549281689,"answer_id":54515673,"question_id":32579754,"body_markdown":"With Retrofit 2.5\r\n\r\nNow it&#39;s possible to make async sync calls through **java.util.concurrent.CompletableFuture**, the code waits for it&#39;s completion wich is very nice.\r\n\r\nHere&#39;s a [gist][1] with a working solution.\r\n\r\n\r\n  [1]: https://gist.github.com/dtodt/2b62a18e87375682167027bb7feb6752","title":"Retrying the request using Retrofit 2","body":"<p>With Retrofit 2.5</p>\n\n<p>Now it's possible to make async sync calls through <strong>java.util.concurrent.CompletableFuture</strong>, the code waits for it's completion wich is very nice.</p>\n\n<p>Here's a <a href=\"https://gist.github.com/dtodt/2b62a18e87375682167027bb7feb6752\" rel=\"nofollow noreferrer\">gist</a> with a working solution.</p>\n"},{"tags":[],"owner":{"account_id":3234840,"reputation":618,"user_id":2729310,"display_name":"A. Ferrand"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1663921155,"creation_date":1663921155,"answer_id":73824880,"question_id":32579754,"body_markdown":"Another solution for this problem if retry is optional :\r\n\r\n```java\r\npublic class CustomCallback&lt;T&gt; implements Callback&lt;T&gt; {\r\n    @NonNull\r\n    Callback&lt;T&gt; callback;\r\n\r\n    private int retryCount = 0;\r\n    private int maxRetry = 0;\r\n\r\n    @EverythingIsNonNull\r\n    public CustomCallback(Callback&lt;T&gt; callback) {\r\n        this.callback = callback;\r\n    }\r\n\r\n\r\n    public CustomCallback&lt;T&gt; retryOnFailure(int nbRetry) {\r\n        maxRetry = nbRetry;\r\n        return this;\r\n    }\r\n\r\n    @EverythingIsNonNull\r\n    @Override\r\n    public void onResponse(Call&lt;T&gt; call, Response&lt;T&gt; response) {\r\n        callback.onResponse(call, response);\r\n    }\r\n\r\n    @EverythingIsNonNull\r\n    @Override\r\n    public void onFailure(Call&lt;T&gt; call, Throwable t) {\r\n        if (maxRetry &gt; retryCount) {\r\n            retryCount++;\r\n            call.clone().enqueue(this);\r\n            return;\r\n        }\r\n        callback.onFailure(call, t);\r\n    }\r\n}\r\n```\r\n\r\nThis way, you can choose if you want retry or not :\r\n```java\r\n//With retry\r\n myAPI.makeCall().enqueue(new CustomCallback&lt;&gt;(myCallback).retryOnFailure(3));\r\n//Without\r\n myAPI.makeCall().enqueue(new CustomCallback&lt;&gt;(myCallback));\r\n```","title":"Retrying the request using Retrofit 2","body":"<p>Another solution for this problem if retry is optional :</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class CustomCallback&lt;T&gt; implements Callback&lt;T&gt; {\n    @NonNull\n    Callback&lt;T&gt; callback;\n\n    private int retryCount = 0;\n    private int maxRetry = 0;\n\n    @EverythingIsNonNull\n    public CustomCallback(Callback&lt;T&gt; callback) {\n        this.callback = callback;\n    }\n\n\n    public CustomCallback&lt;T&gt; retryOnFailure(int nbRetry) {\n        maxRetry = nbRetry;\n        return this;\n    }\n\n    @EverythingIsNonNull\n    @Override\n    public void onResponse(Call&lt;T&gt; call, Response&lt;T&gt; response) {\n        callback.onResponse(call, response);\n    }\n\n    @EverythingIsNonNull\n    @Override\n    public void onFailure(Call&lt;T&gt; call, Throwable t) {\n        if (maxRetry &gt; retryCount) {\n            retryCount++;\n            call.clone().enqueue(this);\n            return;\n        }\n        callback.onFailure(call, t);\n    }\n}\n</code></pre>\n<p>This way, you can choose if you want retry or not :</p>\n<pre class=\"lang-java prettyprint-override\"><code>//With retry\n myAPI.makeCall().enqueue(new CustomCallback&lt;&gt;(myCallback).retryOnFailure(3));\n//Without\n myAPI.makeCall().enqueue(new CustomCallback&lt;&gt;(myCallback));\n</code></pre>\n"}],"owner":{"account_id":2931700,"reputation":7194,"user_id":2511775,"accept_rate":71,"display_name":"Ashkan Sarlak"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":33316,"favorite_count":0,"down_vote_count":0,"up_vote_count":32,"accepted_answer_id":32840088,"answer_count":8,"score":32,"last_activity_date":1673259618,"creation_date":1442300746,"question_id":32579754,"body_markdown":"How can I add retry functionality to the requests sent by [Retrofit 2][1] library. Something like:\r\n\r\n    service.listItems().enqueue(new Callback&lt;List&lt;Item&gt;&gt;() {\r\n            @Override\r\n            public void onResponse(Response&lt;List&lt;Item&gt;&gt; response) {\r\n                ...\r\n            }\r\n\r\n            @Override\r\n            public void onFailure(Throwable t) {\r\n                ...\r\n            }\r\n        }).retryOnFailure(5 /* times */);\r\n\r\n\r\n  [1]: http://square.github.io/retrofit/","title":"Retrying the request using Retrofit 2","body":"<p>How can I add retry functionality to the requests sent by <a href=\"http://square.github.io/retrofit/\" rel=\"noreferrer\">Retrofit 2</a> library. Something like:</p>\n\n<pre><code>service.listItems().enqueue(new Callback&lt;List&lt;Item&gt;&gt;() {\n        @Override\n        public void onResponse(Response&lt;List&lt;Item&gt;&gt; response) {\n            ...\n        }\n\n        @Override\n        public void onFailure(Throwable t) {\n            ...\n        }\n    }).retryOnFailure(5 /* times */);\n</code></pre>\n"},{"tags":["java","mysql","arrays","servlets","jdbc"],"comments":[{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1673258832,"post_id":75055636,"comment_id":132449888,"body_markdown":"Create a new `User` for each row and not one user with a list property","body":"Create a new <code>User</code> for each row and not one user with a list property"},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1673259181,"post_id":75055636,"comment_id":132450009,"body_markdown":"Please ask about only one problem per question.","body":"Please ask about only one problem per question."},{"owner":{"account_id":2450346,"reputation":5181,"user_id":2136795,"display_name":"Gyro Gearless"},"score":0,"creation_date":1673259739,"post_id":75055636,"comment_id":132450159,"body_markdown":"So if you want to persist _shoes_, why on earth your class is called `User`?","body":"So if you want to persist <i>shoes</i>, why on earth your class is called <code>User</code>?"}],"owner":{"account_id":27469296,"reputation":1,"user_id":20958522,"display_name":"Bambina"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1673266335,"answer_count":0,"score":0,"last_activity_date":1673259538,"creation_date":1673258440,"question_id":75055636,"body_markdown":"I have an exact/similar problem with: https://stackoverflow.com/q/66652003/20958522 on How to insert dynamically created field values to MySQL db using Java/JDBC?\r\n\r\nThere&#39;s one answer that solved the problem above, but instead of one dynamically created field values (multiple phone numbers) I have to insert multiple dynamic field values in a row for example (size, price, stocks)\r\n[Image of multiple input fields](https://i.stack.imgur.com/abFFi.jpg)\r\n\r\nSolution that I found: https://stackoverflow.com/a/66691466/20958522\r\n\r\nHere is the code following the guide from the solution:\r\n\r\nAside from inserting multiple fields value from quantity, I also need to insert multiple weight, rate, and price into MySQL. What can I do to modify the code to be able to insert multiple input fields in a row to the database?\r\n\r\n**/Insert servlet**\r\n\r\n```java\r\nprotected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\r\n\ttry {\r\n\t\tString shoe_name= request.getParameter(&quot;shoe_name&quot;);        \t\r\n        String[] quantity = request.getParameterValues(&quot;quantity&quot;);\r\n        \r\n        List&lt;String&gt; qty = new ArrayList&lt;&gt;();\r\n        if (quantity != null) {\r\n          qty = Arrays.asList(quantity);\r\n        }\r\n        \r\n        String weight = request.getParameter(&quot;weight&quot;);\r\n    \tString rate= request.getParameter(&quot;rate&quot;);\r\n        String price = request.getParameter(&quot;price&quot;);\r\n        String status = &quot;2&quot;;\r\n                    \r\n        User newUser = new User(shoe_name, qty, weight, rate, price, status);\r\n        \r\n\t\tuserDAO.insertUser(newUser);\r\n        response.sendRedirect(&quot;List&quot;);\r\n\t\tSystem.out.println(&quot;Added Successfully&quot;);\r\n\t} catch (SQLException e) {\r\n\t\t// TODO Auto-generated catch block\r\n\t\te.printStackTrace();\r\n\t}\r\n}\r\n```\r\n\r\n**userDAO.java code**\r\n(insert to database)\r\n\r\n```\r\n\r\n//INSERT ITEMS\r\npublic void insertUser(User user) throws SQLException, FileNotFoundException {\r\n    List&lt;String&gt; quantity = user.getQuantity();\r\n    PreparedStatement preparedStatement = null;\r\n    \r\n    if (quantity != null &amp;&amp; !quantity.isEmpty()) {\r\n\r\n\ttry (Connection connection = getConnection()){ \r\n\t preparedStatement = connection.prepareStatement(INSERT_USERS_SQL); \r\n    \r\n\t for (String qty : quantity) {\r\n\r\n\t\tpreparedStatement.setString(1, user.getShoe_name());\r\n  //    preparedStatement.setString(2, user.getQuantity());\r\n        \r\n\t\tpreparedStatement.setString(2, qty);\r\n\t\tpreparedStatement.setString(3, user.getWeight());\r\n        preparedStatement.setString(4, user.getRate());\r\n        preparedStatement.setString(5, user.getPrice());\r\n        preparedStatement.setString(6, user.getStatus());\r\n        preparedStatement.addBatch(); //remove\r\n\r\n\t }   \r\n\t \r\n     System.out.println(preparedStatement);\r\n//     preparedStatement.executeUpdate();\r\n     preparedStatement.executeBatch();\r\n\t \r\n    } catch (SQLException e) {\r\n    \tprintSQLException(e);\r\n    }catch(Exception ex) { \r\n\t\tex.printStackTrace(); \r\n\t} \r\n   }\r\n}\r\n```\r\n\r\n**user.java**\r\n\r\n```\r\npublic class User {\r\n\t\r\n\tprivate int product_id;\r\n\tprivate String shoe_name;\r\n    private List&lt;String&gt; quantity = new ArrayList&lt;&gt;();\r\n\tprivate String qty;\r\n    private String weight;\r\n\tprivate String rate;\r\n\tprivate String price;\r\n\tprivate String status = &quot;2&quot;;\r\n\r\n\tpublic User(String shoe_name, List&lt;String&gt; quantity, String weight, String rate, String price, String status) {\r\n\t\tsuper();\r\n\t\tthis.shoe_name = shoe_name;\r\n\t\tthis.quantity = quantity;\r\n\t\tthis.weight = weight;\r\n\t\tthis.rate = rate;\r\n\t\tthis.price = price;\r\n\t\tthis.status = status;\r\n\r\n\t}\r\n\r\n    public void addQty(String quantity) {\r\n        if (this.quantity == null) {\r\n          this.quantity = new ArrayList&lt;&gt;();\r\n        }\r\n\r\n        this.quantity.add(quantity);\r\n      }\r\n\r\n\r\n/*\r\n* SETTERS AND GETTERS */\r\n```\r\n\r\n\r\n","title":"How to insert dynamically *multiple* input fields in a row to mysql using java","body":"<p>I have an exact/similar problem with: <a href=\"https://stackoverflow.com/q/66652003/20958522\">How to insert dynamically created field values to MySQL db using Java/JDBC?</a> on How to insert dynamically created field values to MySQL db using Java/JDBC?</p>\n<p>There's one answer that solved the problem above, but instead of one dynamically created field values (multiple phone numbers) I have to insert multiple dynamic field values in a row for example (size, price, stocks)\n<a href=\"https://i.stack.imgur.com/abFFi.jpg\" rel=\"nofollow noreferrer\">Image of multiple input fields</a></p>\n<p>Solution that I found: <a href=\"https://stackoverflow.com/a/66691466/20958522\">https://stackoverflow.com/a/66691466/20958522</a></p>\n<p>Here is the code following the guide from the solution:</p>\n<p>Aside from inserting multiple fields value from quantity, I also need to insert multiple weight, rate, and price into MySQL. What can I do to modify the code to be able to insert multiple input fields in a row to the database?</p>\n<p><strong>/Insert servlet</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\n    try {\n        String shoe_name= request.getParameter(&quot;shoe_name&quot;);            \n        String[] quantity = request.getParameterValues(&quot;quantity&quot;);\n        \n        List&lt;String&gt; qty = new ArrayList&lt;&gt;();\n        if (quantity != null) {\n          qty = Arrays.asList(quantity);\n        }\n        \n        String weight = request.getParameter(&quot;weight&quot;);\n        String rate= request.getParameter(&quot;rate&quot;);\n        String price = request.getParameter(&quot;price&quot;);\n        String status = &quot;2&quot;;\n                    \n        User newUser = new User(shoe_name, qty, weight, rate, price, status);\n        \n        userDAO.insertUser(newUser);\n        response.sendRedirect(&quot;List&quot;);\n        System.out.println(&quot;Added Successfully&quot;);\n    } catch (SQLException e) {\n        // TODO Auto-generated catch block\n        e.printStackTrace();\n    }\n}\n</code></pre>\n<p><strong>userDAO.java code</strong>\n(insert to database)</p>\n<pre><code>\n//INSERT ITEMS\npublic void insertUser(User user) throws SQLException, FileNotFoundException {\n    List&lt;String&gt; quantity = user.getQuantity();\n    PreparedStatement preparedStatement = null;\n    \n    if (quantity != null &amp;&amp; !quantity.isEmpty()) {\n\n    try (Connection connection = getConnection()){ \n     preparedStatement = connection.prepareStatement(INSERT_USERS_SQL); \n    \n     for (String qty : quantity) {\n\n        preparedStatement.setString(1, user.getShoe_name());\n  //    preparedStatement.setString(2, user.getQuantity());\n        \n        preparedStatement.setString(2, qty);\n        preparedStatement.setString(3, user.getWeight());\n        preparedStatement.setString(4, user.getRate());\n        preparedStatement.setString(5, user.getPrice());\n        preparedStatement.setString(6, user.getStatus());\n        preparedStatement.addBatch(); //remove\n\n     }   \n     \n     System.out.println(preparedStatement);\n//     preparedStatement.executeUpdate();\n     preparedStatement.executeBatch();\n     \n    } catch (SQLException e) {\n        printSQLException(e);\n    }catch(Exception ex) { \n        ex.printStackTrace(); \n    } \n   }\n}\n</code></pre>\n<p><strong>user.java</strong></p>\n<pre><code>public class User {\n    \n    private int product_id;\n    private String shoe_name;\n    private List&lt;String&gt; quantity = new ArrayList&lt;&gt;();\n    private String qty;\n    private String weight;\n    private String rate;\n    private String price;\n    private String status = &quot;2&quot;;\n\n    public User(String shoe_name, List&lt;String&gt; quantity, String weight, String rate, String price, String status) {\n        super();\n        this.shoe_name = shoe_name;\n        this.quantity = quantity;\n        this.weight = weight;\n        this.rate = rate;\n        this.price = price;\n        this.status = status;\n\n    }\n\n    public void addQty(String quantity) {\n        if (this.quantity == null) {\n          this.quantity = new ArrayList&lt;&gt;();\n        }\n\n        this.quantity.add(quantity);\n      }\n\n\n/*\n* SETTERS AND GETTERS */\n</code></pre>\n"},{"tags":["java","output"],"comments":[{"owner":{"account_id":4947846,"reputation":9433,"user_id":3982755,"accept_rate":79,"display_name":"Bentaye"},"score":0,"creation_date":1673011756,"post_id":75030887,"comment_id":132407302,"body_markdown":"I don&#39;t understand how `numArray` works, is it the amount of votes for the name at that same index? Can you give an example of an input with its expected output?","body":"I don&#39;t understand how <code>numArray</code> works, is it the amount of votes for the name at that same index? Can you give an example of an input with its expected output?"},{"owner":{"display_name":"user20758216"},"score":0,"creation_date":1673011914,"post_id":75030887,"comment_id":132407350,"body_markdown":"I have editted the code with everything so you can see.","body":"I have editted the code with everything so you can see."},{"owner":{"account_id":1475,"reputation":533794,"user_id":1968,"accept_rate":83,"display_name":"Konrad Rudolph"},"score":0,"creation_date":1673012599,"post_id":75030887,"comment_id":132407587,"body_markdown":"@CyberJack2022 Unfortunately your edit deleted the *actually relevant* code. Please revert it. Also, please take a moment to read the [formatting help](https://stackoverflow.com/help/formatting) — you are accidentally inserting a JavaScript block instead of a Java code block","body":"@CyberJack2022 Unfortunately your edit deleted the <i>actually relevant</i> code. Please revert it. Also, please take a moment to read the <a href=\"https://stackoverflow.com/help/formatting\">formatting help</a> — you are accidentally inserting a JavaScript block instead of a Java code block"},{"owner":{"display_name":"user20758216"},"score":0,"creation_date":1673013031,"post_id":75030887,"comment_id":132407739,"body_markdown":"None of that is javascript","body":"None of that is javascript"},{"owner":{"account_id":1475,"reputation":533794,"user_id":1968,"accept_rate":83,"display_name":"Konrad Rudolph"},"score":0,"creation_date":1673013155,"post_id":75030887,"comment_id":132407780,"body_markdown":"@CyberJack2022 I know. But it is *formatted* as such.","body":"@CyberJack2022 I know. But it is <i>formatted</i> as such."}],"answers":[{"comments":[{"owner":{"display_name":"user20758216"},"score":0,"creation_date":1673011158,"post_id":75031355,"comment_id":132407136,"body_markdown":"is this javascript?","body":"is this javascript?"},{"owner":{"display_name":"user20758216"},"score":0,"creation_date":1673011287,"post_id":75031355,"comment_id":132407177,"body_markdown":"As to be honest, i dont really understand the program too.","body":"As to be honest, i dont really understand the program too."},{"owner":{"account_id":5823420,"reputation":785,"user_id":6656833,"display_name":"Pavel"},"score":0,"creation_date":1673011395,"post_id":75031355,"comment_id":132407198,"body_markdown":"it&#39;s java 17. I left the comments, what do you need to explain more in detail?","body":"it&#39;s java 17. I left the comments, what do you need to explain more in detail?"},{"owner":{"display_name":"user20758216"},"score":0,"creation_date":1673012279,"post_id":75031355,"comment_id":132407466,"body_markdown":"the&#39;record Candidate&#39; part. I dont understand how that works with the program. and also the rest of the code i dont understand as i havent learnt java 17. I also have to create functions from scratch like i have in the above code. if that helps.","body":"the&#39;record Candidate&#39; part. I dont understand how that works with the program. and also the rest of the code i dont understand as i havent learnt java 17. I also have to create functions from scratch like i have in the above code. if that helps."},{"owner":{"account_id":5823420,"reputation":785,"user_id":6656833,"display_name":"Pavel"},"score":0,"creation_date":1673013474,"post_id":75031355,"comment_id":132407910,"body_markdown":"the record keyword was introduced in Java 14, it allows you to create a immutable structure with the defined fields, in this case name and numVotes and implements all the boilerplate like equals, hasshcode , toString for you","body":"the record keyword was introduced in Java 14, it allows you to create a immutable structure with the defined fields, in this case name and numVotes and implements all the boilerplate like equals, hasshcode , toString for you"},{"owner":{"display_name":"user20758216"},"score":0,"creation_date":1673019946,"post_id":75031355,"comment_id":132410115,"body_markdown":"the java version i am using is earlier than this i think. not too sure. But i have not learnt that feature yet, so my mentor would not allow it","body":"the java version i am using is earlier than this i think. not too sure. But i have not learnt that feature yet, so my mentor would not allow it"},{"owner":{"account_id":5823420,"reputation":785,"user_id":6656833,"display_name":"Pavel"},"score":0,"creation_date":1673020201,"post_id":75031355,"comment_id":132410224,"body_markdown":"you can always implement it as a regular class with all the clutter. the point I wanted to make, is that it&#39;s cleaner when you model your domain instead of tracking the names and number of votes across multiple arrays, which is hard to work with and also error prone","body":"you can always implement it as a regular class with all the clutter. the point I wanted to make, is that it&#39;s cleaner when you model your domain instead of tracking the names and number of votes across multiple arrays, which is hard to work with and also error prone"}],"tags":[],"owner":{"account_id":5823420,"reputation":785,"user_id":6656833,"display_name":"Pavel"},"comment_count":7,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673010551,"creation_date":1673010551,"answer_id":75031355,"question_id":75030887,"body_markdown":"This is approach I would take. I would create a structure to hold the candidate name and number of votes as tracking that across 2 arrays is complicated and might be confusing. I would also suggest to use different data structures than arrays as the method input, I converted the input in the example into stream of `Candidate` which has 2 fields name and numVotes:\r\n```java\r\n    record Candidate(String name, int numVotes) {\r\n    }\r\n\r\n    public static void displayFinalResults(String[] stringArray, int[] numArray) {\r\n        //make sure that 2 arrays match in size\r\n        assert numArray.length == stringArray.length;\r\n        //zip arrays and convert to the stream of Candidate\r\n        var candidates = IntStream.range(0, stringArray.length).mapToObj(i -&gt; new Candidate(stringArray[i], numArray[i]));\r\n        //group by number of votes\r\n        var groupedByNumVotes = candidates.collect(Collectors.groupingBy(c -&gt; c.numVotes));\r\n        //sort by number of votes descending\r\n        var sorded = groupedByNumVotes.entrySet().stream().sorted((e1, e2) -&gt; Integer.compare(e2.getKey(), e1.getKey()));\r\n        //take first 3 places\r\n        var winners = sorded.limit(3).toList();\r\n\r\n        //Loop through the list of winners with index and print it\r\n        for (int i = 0; i &lt; winners.size(); i++) {\r\n            //List is indexed from 0 so the place number needs to be increased by one\r\n            System.out.println(&quot;Place &quot; + (i + 1));  \r\n            winners.get(i).getValue().forEach(System.out::println);\r\n            System.out.println();\r\n        }\r\n    }\r\n```","title":"Output election winner in the presence of ties","body":"<p>This is approach I would take. I would create a structure to hold the candidate name and number of votes as tracking that across 2 arrays is complicated and might be confusing. I would also suggest to use different data structures than arrays as the method input, I converted the input in the example into stream of <code>Candidate</code> which has 2 fields name and numVotes:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    record Candidate(String name, int numVotes) {\n    }\n\n    public static void displayFinalResults(String[] stringArray, int[] numArray) {\n        //make sure that 2 arrays match in size\n        assert numArray.length == stringArray.length;\n        //zip arrays and convert to the stream of Candidate\n        var candidates = IntStream.range(0, stringArray.length).mapToObj(i -&gt; new Candidate(stringArray[i], numArray[i]));\n        //group by number of votes\n        var groupedByNumVotes = candidates.collect(Collectors.groupingBy(c -&gt; c.numVotes));\n        //sort by number of votes descending\n        var sorded = groupedByNumVotes.entrySet().stream().sorted((e1, e2) -&gt; Integer.compare(e2.getKey(), e1.getKey()));\n        //take first 3 places\n        var winners = sorded.limit(3).toList();\n\n        //Loop through the list of winners with index and print it\n        for (int i = 0; i &lt; winners.size(); i++) {\n            //List is indexed from 0 so the place number needs to be increased by one\n            System.out.println(&quot;Place &quot; + (i + 1));  \n            winners.get(i).getValue().forEach(System.out::println);\n            System.out.println();\n        }\n    }\n</code></pre>\n"},{"comments":[{"owner":{"display_name":"user20758216"},"score":0,"creation_date":1673012163,"post_id":75031519,"comment_id":132407421,"body_markdown":"i appreciate the help, but in my scenario this would not be correct.","body":"i appreciate the help, but in my scenario this would not be correct."},{"owner":{"account_id":1475,"reputation":533794,"user_id":1968,"accept_rate":83,"display_name":"Konrad Rudolph"},"score":0,"creation_date":1673012450,"post_id":75031519,"comment_id":132407520,"body_markdown":"@CyberJack2022 Fair enough, but it should be trivial to adapt. Just the assign the corresponding `winner` index.","body":"@CyberJack2022 Fair enough, but it should be trivial to adapt. Just the assign the corresponding <code>winner</code> index."}],"tags":[],"owner":{"account_id":1475,"reputation":533794,"user_id":1968,"accept_rate":83,"display_name":"Konrad Rudolph"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673011430,"creation_date":1673011430,"answer_id":75031519,"question_id":75030887,"body_markdown":"Frankly, there is nothing fundamentally wrong with your approach (except that, by convention, the second place is usually skipped if there is a tie for the first; that is: there are two tied first-place candidates and a third place, but no second place). You just need to add one more case for three tied candidates.\r\n\r\nThat said, you can slightly shorten the code by merging redundancies in output formatting:\r\n\r\n    public static void displayFinalResults(String[] names, int[] scores) {\r\n        final String[] winners = new String[3];\r\n\r\n        if (scores[0] == scores[1] &amp;&amp; scores[1] == scores[2]) {\r\n            winners[0] = String.format(&quot;%s, %s and %s&quot;, names[0], names[1], names[2]);\r\n        } else if (scores[0] == scores[1]) {\r\n            winners[0] = String.format(&quot;%s and %s&quot;, names[0], names[1]);\r\n            winners[2] = names[2];\r\n        } else if (scores[1] == scores[2]) {\r\n            winners[0] = names[0];\r\n            winners[1] = String.format(&quot;%s and %s&quot;, names[1], names[2]);\r\n        } else {\r\n            System.arraycopy(names, 0, winners, 0, 3);\r\n        }\r\n\r\n        System.out.println();\r\n        if (winners[2] != null) System.out.printf(&quot;In third place: %s\\n&quot;, winners[2]);\r\n        if (winners[1] != null) System.out.printf(&quot;In second place: %s\\n&quot;, winners[1]);\r\n        final String prefix = winners[2] == null &amp;&amp; winners[1] == null ? &quot;T&quot; : &quot;And t&quot;;\r\n        System.out.printf(&quot;%she winner is: %s\\n&quot;, prefix, winners[0]);\r\n    }","title":"Output election winner in the presence of ties","body":"<p>Frankly, there is nothing fundamentally wrong with your approach (except that, by convention, the second place is usually skipped if there is a tie for the first; that is: there are two tied first-place candidates and a third place, but no second place). You just need to add one more case for three tied candidates.</p>\n<p>That said, you can slightly shorten the code by merging redundancies in output formatting:</p>\n<pre><code>public static void displayFinalResults(String[] names, int[] scores) {\n    final String[] winners = new String[3];\n\n    if (scores[0] == scores[1] &amp;&amp; scores[1] == scores[2]) {\n        winners[0] = String.format(&quot;%s, %s and %s&quot;, names[0], names[1], names[2]);\n    } else if (scores[0] == scores[1]) {\n        winners[0] = String.format(&quot;%s and %s&quot;, names[0], names[1]);\n        winners[2] = names[2];\n    } else if (scores[1] == scores[2]) {\n        winners[0] = names[0];\n        winners[1] = String.format(&quot;%s and %s&quot;, names[1], names[2]);\n    } else {\n        System.arraycopy(names, 0, winners, 0, 3);\n    }\n\n    System.out.println();\n    if (winners[2] != null) System.out.printf(&quot;In third place: %s\\n&quot;, winners[2]);\n    if (winners[1] != null) System.out.printf(&quot;In second place: %s\\n&quot;, winners[1]);\n    final String prefix = winners[2] == null &amp;&amp; winners[1] == null ? &quot;T&quot; : &quot;And t&quot;;\n    System.out.printf(&quot;%she winner is: %s\\n&quot;, prefix, winners[0]);\n}\n</code></pre>\n"},{"comments":[{"owner":{"display_name":"user20758216"},"score":0,"creation_date":1673020054,"post_id":75031890,"comment_id":132410156,"body_markdown":"i already have a sort algorithm that sorts the array of highest to lowest. But i need something that will do the question i asked. Which is allowing two or more to have the same answer and be placed in the ranks. e.g. ahmed and celine win. jack and joe come second etc","body":"i already have a sort algorithm that sorts the array of highest to lowest. But i need something that will do the question i asked. Which is allowing two or more to have the same answer and be placed in the ranks. e.g. ahmed and celine win. jack and joe come second etc"},{"owner":{"account_id":4947846,"reputation":9433,"user_id":3982755,"accept_rate":79,"display_name":"Bentaye"},"score":0,"creation_date":1673023032,"post_id":75031890,"comment_id":132411235,"body_markdown":"This code does that, you can have 2 persons on the same rank. Try it out.","body":"This code does that, you can have 2 persons on the same rank. Try it out."},{"owner":{"display_name":"user20758216"},"score":0,"creation_date":1673440260,"post_id":75031890,"comment_id":132498644,"body_markdown":"i accidentally edited the code and it changed the for loop to for(int score : scores). What was it originally do you know? @Bentaye","body":"i accidentally edited the code and it changed the for loop to for(int score : scores). What was it originally do you know? @Bentaye"},{"owner":{"account_id":4947846,"reputation":9433,"user_id":3982755,"accept_rate":79,"display_name":"Bentaye"},"score":0,"creation_date":1673441112,"post_id":75031890,"comment_id":132498921,"body_markdown":"@CyberJack2022 Seems correct, that is what it should be `for (int score : scores)`","body":"@CyberJack2022 Seems correct, that is what it should be <code>for (int score : scores)</code>"},{"owner":{"display_name":"user20758216"},"score":0,"creation_date":1673441505,"post_id":75031890,"comment_id":132499082,"body_markdown":"what does it mean in say these terms for (int i = 0 ; i &gt; 10; i++)?","body":"what does it mean in say these terms for (int i = 0 ; i &gt; 10; i++)?"},{"owner":{"display_name":"user20758216"},"score":0,"creation_date":1673442151,"post_id":75031890,"comment_id":132499316,"body_markdown":"it was previously something else. and i changed it accidentally in my IDE. and i prefer it that way as it doesnt make sense to me this way lol","body":"it was previously something else. and i changed it accidentally in my IDE. and i prefer it that way as it doesnt make sense to me this way lol"},{"owner":{"account_id":4947846,"reputation":9433,"user_id":3982755,"accept_rate":79,"display_name":"Bentaye"},"score":0,"creation_date":1673442808,"post_id":75031890,"comment_id":132499571,"body_markdown":"@CyberJack2022 `for (int score : scores)` is he same as `for (int i; i&lt;scores.length; i++) { int score = scores[i]; ...... }` . You should learn how to use it, you will see it everywhere and you will be probably be asked to use it in code reviews","body":"@CyberJack2022 <code>for (int score : scores)</code> is he same as <code>for (int i; i&lt;scores.length; i++) { int score = scores[i]; ...... }</code> . You should learn how to use it, you will see it everywhere and you will be probably be asked to use it in code reviews"}],"tags":[],"owner":{"account_id":4947846,"reputation":9433,"user_id":3982755,"accept_rate":79,"display_name":"Bentaye"},"comment_count":7,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1673013501,"creation_date":1673013501,"answer_id":75031890,"question_id":75030887,"body_markdown":"I&#39;d first check what are the scores, highest, second highest, third highest.\r\nAnd then pick the names which have these values\r\n\r\n\r\n    public static void displayFinalResults(String[] stringArray, int[] numArray){\r\n        int highestScore = max(numArray, Integer.MAX_VALUE);\r\n        int secondHighestScore = max(numArray, highestScore);\r\n        int thirdHighestScore = max(numArray, secondHighestScore);\r\n\r\n        System.out.println(&quot;\\nIn third place: &quot;);\r\n        for (int i = 0; i &lt; numArray.length; i++) {\r\n            if (numArray[i] == thirdHighestScore) {\r\n                System.out.println(stringArray[i]);\r\n            }\r\n        }\r\n\r\n        System.out.println(&quot;In second place: &quot;);\r\n        for (int i = 0; i &lt; numArray.length; i++) {\r\n            if (numArray[i] == secondHighestScore) {\r\n                System.out.println(stringArray[i]);\r\n            }\r\n        }\r\n\r\n        System.out.println(&quot;And the winner: &quot;);\r\n        for (int i = 0; i &lt; numArray.length; i++) {\r\n            if (numArray[i] == highestScore) {\r\n                System.out.println(stringArray[i]);\r\n            }\r\n        }\r\n\r\n    }\r\n\r\n    public static int max(int[] scores, int lessThan) {\r\n        int max = Integer.MIN_VALUE;\r\n        for (int score : scores) {\r\n            if (score &gt; max &amp;&amp; score &lt; lessThan) {\r\n                max = score;\r\n            }\r\n        }\r\n\r\n        return max;\r\n    }","title":"Output election winner in the presence of ties","body":"<p>I'd first check what are the scores, highest, second highest, third highest.\nAnd then pick the names which have these values</p>\n<pre><code>public static void displayFinalResults(String[] stringArray, int[] numArray){\n    int highestScore = max(numArray, Integer.MAX_VALUE);\n    int secondHighestScore = max(numArray, highestScore);\n    int thirdHighestScore = max(numArray, secondHighestScore);\n\n    System.out.println(&quot;\\nIn third place: &quot;);\n    for (int i = 0; i &lt; numArray.length; i++) {\n        if (numArray[i] == thirdHighestScore) {\n            System.out.println(stringArray[i]);\n        }\n    }\n\n    System.out.println(&quot;In second place: &quot;);\n    for (int i = 0; i &lt; numArray.length; i++) {\n        if (numArray[i] == secondHighestScore) {\n            System.out.println(stringArray[i]);\n        }\n    }\n\n    System.out.println(&quot;And the winner: &quot;);\n    for (int i = 0; i &lt; numArray.length; i++) {\n        if (numArray[i] == highestScore) {\n            System.out.println(stringArray[i]);\n        }\n    }\n\n}\n\npublic static int max(int[] scores, int lessThan) {\n    int max = Integer.MIN_VALUE;\n    for (int score : scores) {\n        if (score &gt; max &amp;&amp; score &lt; lessThan) {\n            max = score;\n        }\n    }\n\n    return max;\n}\n</code></pre>\n"}],"owner":{"display_name":"user20758216"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":86,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75031890,"answer_count":3,"score":0,"last_activity_date":1673259414,"creation_date":1673007735,"question_id":75030887,"body_markdown":"I have programmed a working voting system, but it needs a little more decision making involved. The program needs to work if **two or more** candidates have the same number of votes. \r\n\r\nBelow is what i have but i think it is very long winded, and it will only work with 2 candidates having the same number of votes. Is there a more efficient way of doing this while working with 2 or more candidates having the same votes.\r\n\r\nThere are only 5 candidates available in this scenario, but should work if more are added too.\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    \r\n            if(numArray[0] == numArray[1]){\r\n                System.out.println(&quot;\\nIn third place: &quot; + Array[3]);\r\n                System.out.println(&quot;In second place: &quot; + Array[2]);\r\n                System.out.println(&quot;And the winner is: &quot; + Array[0] + &quot; and &quot; + Array[1]);\r\n\r\n            }else if(numArray[1] == numArray[2]){\r\n                System.out.println(&quot;\\nIn third place: &quot; + Array[3]);\r\n                System.out.println(&quot;In second place: &quot; + Array[1] + &quot; and &quot; + Array[2]);\r\n                System.out.println(&quot;And the winner is: &quot; + Array[0]);\r\n            }else if(numArray[2] == numArray[3]){\r\n                System.out.println(&quot;\\nIn third place: &quot; + Array[2] + &quot; and &quot; + Array[3]);\r\n                System.out.println(&quot;In second place: &quot; + Array[1]);\r\n                System.out.println(&quot;And the winner is: &quot; + Array[0]);\r\n            }else{\r\n                System.out.println(&quot;\\third place: &quot; + Array[2]);\r\n                System.out.println(&quot;second place: &quot; + Array[1]);\r\n                System.out.println(&quot;winner is: &quot; + Array[0]);\r\n            }\r\n\r\n        \r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n","title":"Output election winner in the presence of ties","body":"<p>I have programmed a working voting system, but it needs a little more decision making involved. The program needs to work if <strong>two or more</strong> candidates have the same number of votes.</p>\n<p>Below is what i have but i think it is very long winded, and it will only work with 2 candidates having the same number of votes. Is there a more efficient way of doing this while working with 2 or more candidates having the same votes.</p>\n<p>There are only 5 candidates available in this scenario, but should work if more are added too.</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>        if(numArray[0] == numArray[1]){\n            System.out.println(\"\\nIn third place: \" + Array[3]);\n            System.out.println(\"In second place: \" + Array[2]);\n            System.out.println(\"And the winner is: \" + Array[0] + \" and \" + Array[1]);\n\n        }else if(numArray[1] == numArray[2]){\n            System.out.println(\"\\nIn third place: \" + Array[3]);\n            System.out.println(\"In second place: \" + Array[1] + \" and \" + Array[2]);\n            System.out.println(\"And the winner is: \" + Array[0]);\n        }else if(numArray[2] == numArray[3]){\n            System.out.println(\"\\nIn third place: \" + Array[2] + \" and \" + Array[3]);\n            System.out.println(\"In second place: \" + Array[1]);\n            System.out.println(\"And the winner is: \" + Array[0]);\n        }else{\n            System.out.println(\"\\third place: \" + Array[2]);\n            System.out.println(\"second place: \" + Array[1]);\n            System.out.println(\"winner is: \" + Array[0]);\n        }\n\n    </code></pre>\r\n</div>\r\n</div>\r\n</p>\n"},{"tags":["java","maven"],"answers":[{"tags":[],"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1673258741,"creation_date":1673258741,"answer_id":75055696,"question_id":75055314,"body_markdown":"First you should not separate your unit tests from integration tests by using different directories. Use the existing naming conventions. Unit Test `*Test.java` and integration tests `*IT.java`...\r\n\r\nUse the following [configuration in your POM File][1]:\r\n\r\n\r\n&lt;!-- language:language-xml --&gt;\r\n\r\n    &lt;project\r\n        xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n        xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n        xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\r\n    \r\n      &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \r\n      &lt;groupId&gt;com.soebes.youtube.maven.episodes&lt;/groupId&gt;\r\n      &lt;artifactId&gt;example-episode-2&lt;/artifactId&gt;\r\n      &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n    \r\n      &lt;name&gt;Episode 2: Unit- and/or Integration Testing&lt;/name&gt;\r\n    \r\n      &lt;properties&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n        &lt;maven.compiler.release&gt;17&lt;/maven.compiler.release&gt;\r\n      &lt;/properties&gt;\r\n      &lt;dependencyManagement&gt;\r\n        &lt;dependencies&gt;\r\n          &lt;dependency&gt;\r\n            &lt;groupId&gt;org.junit&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit-bom&lt;/artifactId&gt;\r\n            &lt;version&gt;5.9.1&lt;/version&gt;\r\n            &lt;scope&gt;import&lt;/scope&gt;\r\n            &lt;type&gt;pom&lt;/type&gt;\r\n          &lt;/dependency&gt;\r\n          &lt;dependency&gt;\r\n            &lt;groupId&gt;org.assertj&lt;/groupId&gt;\r\n            &lt;artifactId&gt;assertj-core&lt;/artifactId&gt;\r\n            &lt;version&gt;3.23.1&lt;/version&gt;\r\n          &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n      &lt;/dependencyManagement&gt;\r\n    \r\n      &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n          &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\r\n          &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n          &lt;artifactId&gt;junit-jupiter-params&lt;/artifactId&gt;\r\n          &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.assertj&lt;/groupId&gt;\r\n          &lt;artifactId&gt;assertj-core&lt;/artifactId&gt;\r\n          &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n      &lt;/dependencies&gt;\r\n    \r\n      &lt;build&gt;\r\n        &lt;pluginManagement&gt;\r\n          &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n              &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n              &lt;artifactId&gt;maven-clean-plugin&lt;/artifactId&gt;\r\n              &lt;version&gt;3.2.0&lt;/version&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n              &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n              &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\r\n              &lt;version&gt;3.3.0&lt;/version&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n              &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n              &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\r\n              &lt;version&gt;3.3.0&lt;/version&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n              &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n              &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n              &lt;version&gt;3.10.1&lt;/version&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n              &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n              &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n              &lt;version&gt;3.0.0-M8&lt;/version&gt;\r\n              &lt;configuration&gt;\r\n                &lt;skipTests&gt;${skipUTs}&lt;/skipTests&gt;\r\n              &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n              &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n              &lt;artifactId&gt;maven-failsafe-plugin&lt;/artifactId&gt;\r\n              &lt;version&gt;3.0.0-M8&lt;/version&gt;\r\n              &lt;configuration&gt;\r\n                &lt;skipTests&gt;${skipITs}&lt;/skipTests&gt;\r\n              &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n              &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n              &lt;artifactId&gt;maven-install-plugin&lt;/artifactId&gt;\r\n              &lt;version&gt;3.1.0&lt;/version&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n              &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n              &lt;artifactId&gt;maven-deploy-plugin&lt;/artifactId&gt;\r\n              &lt;version&gt;3.0.0&lt;/version&gt;\r\n            &lt;/plugin&gt;\r\n          &lt;/plugins&gt;\r\n        &lt;/pluginManagement&gt;\r\n        &lt;plugins&gt;\r\n          &lt;plugin&gt;\r\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n            &lt;artifactId&gt;maven-failsafe-plugin&lt;/artifactId&gt;\r\n            &lt;executions&gt;\r\n              &lt;execution&gt;\r\n                &lt;goals&gt;\r\n                  &lt;goal&gt;integration-test&lt;/goal&gt;\r\n                  &lt;goal&gt;verify&lt;/goal&gt;\r\n                &lt;/goals&gt;\r\n              &lt;/execution&gt;\r\n            &lt;/executions&gt;\r\n          &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n      &lt;/build&gt;\r\n    &lt;/project&gt;\r\n\r\nBy using that you can run your unit tests via:\r\n\r\n    mvn test\r\n\r\nYou can run your unit- and your integration tests via:\r\n\r\n    mvn verify\r\n\r\nIf you like to run your integration tests only:\r\n\r\n    mvn verify -DskipUTs\r\n\r\n\r\nFor detail explanations you could check the following [YT video][2].\r\n\r\n\r\n  [1]: https://github.com/khmarbaise/youtube-videos/tree/main/episode-2\r\n  [2]: https://youtu.be/IVwbrhYCLpc","title":"Maven run unit tests without integration tests, and integration tests without unit tests","body":"<p>First you should not separate your unit tests from integration tests by using different directories. Use the existing naming conventions. Unit Test <code>*Test.java</code> and integration tests <code>*IT.java</code>...</p>\n<p>Use the following <a href=\"https://github.com/khmarbaise/youtube-videos/tree/main/episode-2\" rel=\"nofollow noreferrer\">configuration in your POM File</a>:</p>\n\n<pre><code>&lt;project\n    xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\n\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n  &lt;groupId&gt;com.soebes.youtube.maven.episodes&lt;/groupId&gt;\n  &lt;artifactId&gt;example-episode-2&lt;/artifactId&gt;\n  &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n\n  &lt;name&gt;Episode 2: Unit- and/or Integration Testing&lt;/name&gt;\n\n  &lt;properties&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;maven.compiler.release&gt;17&lt;/maven.compiler.release&gt;\n  &lt;/properties&gt;\n  &lt;dependencyManagement&gt;\n    &lt;dependencies&gt;\n      &lt;dependency&gt;\n        &lt;groupId&gt;org.junit&lt;/groupId&gt;\n        &lt;artifactId&gt;junit-bom&lt;/artifactId&gt;\n        &lt;version&gt;5.9.1&lt;/version&gt;\n        &lt;scope&gt;import&lt;/scope&gt;\n        &lt;type&gt;pom&lt;/type&gt;\n      &lt;/dependency&gt;\n      &lt;dependency&gt;\n        &lt;groupId&gt;org.assertj&lt;/groupId&gt;\n        &lt;artifactId&gt;assertj-core&lt;/artifactId&gt;\n        &lt;version&gt;3.23.1&lt;/version&gt;\n      &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n  &lt;/dependencyManagement&gt;\n\n  &lt;dependencies&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n      &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n      &lt;artifactId&gt;junit-jupiter-params&lt;/artifactId&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.assertj&lt;/groupId&gt;\n      &lt;artifactId&gt;assertj-core&lt;/artifactId&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n  &lt;/dependencies&gt;\n\n  &lt;build&gt;\n    &lt;pluginManagement&gt;\n      &lt;plugins&gt;\n        &lt;plugin&gt;\n          &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n          &lt;artifactId&gt;maven-clean-plugin&lt;/artifactId&gt;\n          &lt;version&gt;3.2.0&lt;/version&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n          &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n          &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\n          &lt;version&gt;3.3.0&lt;/version&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n          &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n          &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n          &lt;version&gt;3.3.0&lt;/version&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n          &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n          &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n          &lt;version&gt;3.10.1&lt;/version&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n          &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n          &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n          &lt;version&gt;3.0.0-M8&lt;/version&gt;\n          &lt;configuration&gt;\n            &lt;skipTests&gt;${skipUTs}&lt;/skipTests&gt;\n          &lt;/configuration&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n          &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n          &lt;artifactId&gt;maven-failsafe-plugin&lt;/artifactId&gt;\n          &lt;version&gt;3.0.0-M8&lt;/version&gt;\n          &lt;configuration&gt;\n            &lt;skipTests&gt;${skipITs}&lt;/skipTests&gt;\n          &lt;/configuration&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n          &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n          &lt;artifactId&gt;maven-install-plugin&lt;/artifactId&gt;\n          &lt;version&gt;3.1.0&lt;/version&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n          &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n          &lt;artifactId&gt;maven-deploy-plugin&lt;/artifactId&gt;\n          &lt;version&gt;3.0.0&lt;/version&gt;\n        &lt;/plugin&gt;\n      &lt;/plugins&gt;\n    &lt;/pluginManagement&gt;\n    &lt;plugins&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-failsafe-plugin&lt;/artifactId&gt;\n        &lt;executions&gt;\n          &lt;execution&gt;\n            &lt;goals&gt;\n              &lt;goal&gt;integration-test&lt;/goal&gt;\n              &lt;goal&gt;verify&lt;/goal&gt;\n            &lt;/goals&gt;\n          &lt;/execution&gt;\n        &lt;/executions&gt;\n      &lt;/plugin&gt;\n    &lt;/plugins&gt;\n  &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p>By using that you can run your unit tests via:</p>\n<pre><code>mvn test\n</code></pre>\n<p>You can run your unit- and your integration tests via:</p>\n<pre><code>mvn verify\n</code></pre>\n<p>If you like to run your integration tests only:</p>\n<pre><code>mvn verify -DskipUTs\n</code></pre>\n<p>For detail explanations you could check the following <a href=\"https://youtu.be/IVwbrhYCLpc\" rel=\"nofollow noreferrer\">YT video</a>.</p>\n"}],"owner":{"account_id":7527198,"reputation":1109,"user_id":5716914,"accept_rate":11,"display_name":"Johnyb"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":69,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1673258741,"creation_date":1673256615,"question_id":75055314,"body_markdown":"I have structure:\r\n\r\n     - test\r\n       - java\r\n           - com\r\n              - A\r\n                 - service\r\n                     - serviceB\r\n                        - DefaultServiceBTest.java\r\n                        - integration\r\n                              - DefaultServiceBIntegrationTest.java\r\n\r\nI want to run separately unit and integration tests. I am using maven surefire and failsafe plugins:\r\n\r\n    &lt;plugin&gt;\r\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;${maven.surefire.plugin.version}&lt;/version&gt;\r\n        &lt;configuration&gt;\r\n            &lt;trimStackTrace&gt;false&lt;/trimStackTrace&gt;\r\n            &lt;printSummary&gt;true&lt;/printSummary&gt;\r\n            &lt;excludes&gt;\r\n                &lt;exclude&gt;integration/*.java&lt;/exclude&gt;\r\n            &lt;/excludes&gt;\r\n        &lt;/configuration&gt;\r\n    &lt;/plugin&gt;\r\n\r\nSince `mvn test` defaultly runs `surefire:test` having this configuration for `maven-surefire` works, and using `mvn test` only runs unit tests - in my case all tests that are not in `integration` folder.\r\n\r\nHowever for failsafe i have this configuration:\r\n\r\n    &lt;plugin&gt;\r\n        &lt;artifactId&gt;maven-failsafe-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;${maven.failsafe.plugin.version}&lt;/version&gt;\r\n        &lt;configuration&gt;\r\n            &lt;includes&gt;\r\n                &lt;include&gt;**/integration/*.java&lt;/include&gt;\r\n            &lt;/includes&gt;\r\n        &lt;/configuration&gt;\r\n        &lt;executions&gt;\r\n            &lt;execution&gt;\r\n                &lt;goals&gt;\r\n                    &lt;goal&gt;integration-test&lt;/goal&gt;\r\n                    &lt;goal&gt;verify&lt;/goal&gt;\r\n                &lt;/goals&gt;\r\n            &lt;/execution&gt;\r\n        &lt;/executions&gt;\r\n    &lt;/plugin&gt;\r\n\r\nHaving this configuration for `maven-failsafe` and running `mvn verify -Pfailsafe` results in first running unit tests, and then integration tests. However i dont want the unit tests to be executed with this. What is wrong with the configuration?\r\n\r\nThanks for help!","title":"Maven run unit tests without integration tests, and integration tests without unit tests","body":"<p>I have structure:</p>\n<pre><code> - test\n   - java\n       - com\n          - A\n             - service\n                 - serviceB\n                    - DefaultServiceBTest.java\n                    - integration\n                          - DefaultServiceBIntegrationTest.java\n</code></pre>\n<p>I want to run separately unit and integration tests. I am using maven surefire and failsafe plugins:</p>\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n    &lt;version&gt;${maven.surefire.plugin.version}&lt;/version&gt;\n    &lt;configuration&gt;\n        &lt;trimStackTrace&gt;false&lt;/trimStackTrace&gt;\n        &lt;printSummary&gt;true&lt;/printSummary&gt;\n        &lt;excludes&gt;\n            &lt;exclude&gt;integration/*.java&lt;/exclude&gt;\n        &lt;/excludes&gt;\n    &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>Since <code>mvn test</code> defaultly runs <code>surefire:test</code> having this configuration for <code>maven-surefire</code> works, and using <code>mvn test</code> only runs unit tests - in my case all tests that are not in <code>integration</code> folder.</p>\n<p>However for failsafe i have this configuration:</p>\n<pre><code>&lt;plugin&gt;\n    &lt;artifactId&gt;maven-failsafe-plugin&lt;/artifactId&gt;\n    &lt;version&gt;${maven.failsafe.plugin.version}&lt;/version&gt;\n    &lt;configuration&gt;\n        &lt;includes&gt;\n            &lt;include&gt;**/integration/*.java&lt;/include&gt;\n        &lt;/includes&gt;\n    &lt;/configuration&gt;\n    &lt;executions&gt;\n        &lt;execution&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;integration-test&lt;/goal&gt;\n                &lt;goal&gt;verify&lt;/goal&gt;\n            &lt;/goals&gt;\n        &lt;/execution&gt;\n    &lt;/executions&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>Having this configuration for <code>maven-failsafe</code> and running <code>mvn verify -Pfailsafe</code> results in first running unit tests, and then integration tests. However i dont want the unit tests to be executed with this. What is wrong with the configuration?</p>\n<p>Thanks for help!</p>\n"},{"tags":["java","criteria"],"comments":[{"owner":{"account_id":4688171,"reputation":11056,"user_id":3795036,"accept_rate":88,"display_name":"K.Nicholas"},"score":0,"creation_date":1673270679,"post_id":75055694,"comment_id":132453982,"body_markdown":"When will the proper constructor be added?","body":"When will the proper constructor be added?"},{"owner":{"account_id":13252051,"reputation":1635,"user_id":9569292,"display_name":"Thomas Timbul"},"score":0,"creation_date":1673304879,"post_id":75055694,"comment_id":132465131,"body_markdown":"Try adding `@AllArgsConstructor` on `StudentResDto`. You may also want to consider using `@Accessors(chain=true)` instead of `@SuperBuilder`.","body":"Try adding <code>@AllArgsConstructor</code> on <code>StudentResDto</code>. You may also want to consider using <code>@Accessors(chain=true)</code> instead of <code>@SuperBuilder</code>."},{"owner":{"account_id":16260697,"reputation":13,"user_id":11742091,"display_name":"user11742091"},"score":0,"creation_date":1673313343,"post_id":75055694,"comment_id":132466354,"body_markdown":"@ThomasTimbul it still error.","body":"@ThomasTimbul it still error."},{"owner":{"account_id":16260697,"reputation":13,"user_id":11742091,"display_name":"user11742091"},"score":0,"creation_date":1673313608,"post_id":75055694,"comment_id":132466386,"body_markdown":"@K.Nicholas i call function getStudent() in the service. I want to select specific columns so I create StudentResDto class","body":"@K.Nicholas i call function getStudent() in the service. I want to select specific columns so I create StudentResDto class"},{"owner":{"account_id":13252051,"reputation":1635,"user_id":9569292,"display_name":"Thomas Timbul"},"score":0,"creation_date":1673342814,"post_id":75055694,"comment_id":132471747,"body_markdown":"Look at the expected constructor arguments (error message). They are the same as the results of your query. You will need to adapt `StudentResDto` to accept those arguments in the same order of your query, or manually create a constructor that accepts those arguments in that order.","body":"Look at the expected constructor arguments (error message). They are the same as the results of your query. You will need to adapt <code>StudentResDto</code> to accept those arguments in the same order of your query, or manually create a constructor that accepts those arguments in that order."},{"owner":{"account_id":16260697,"reputation":13,"user_id":11742091,"display_name":"user11742091"},"score":0,"creation_date":1673402894,"post_id":75055694,"comment_id":132489353,"body_markdown":"@ThomasTimbul yes, I reorder the arguments and it worked. Thank you.","body":"@ThomasTimbul yes, I reorder the arguments and it worked. Thank you."},{"owner":{"account_id":13252051,"reputation":1635,"user_id":9569292,"display_name":"Thomas Timbul"},"score":0,"creation_date":1673429841,"post_id":75055694,"comment_id":132495058,"body_markdown":"Great! The other option of course would be to change the ordering in your `select` ;-)","body":"Great! The other option of course would be to change the ordering in your <code>select</code> ;-)"}],"owner":{"account_id":16260697,"reputation":13,"user_id":11742091,"display_name":"user11742091"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":73,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673258731,"creation_date":1673258731,"question_id":75055694,"body_markdown":"I have classes:\r\n\r\n**Account.java**\r\n```\r\n@Entity\r\n@Table(name = &quot;accounts&quot;)\r\n@Getter\r\n@Setter\r\n@Builder\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\npublic class Account extends BaseEntity {\r\n    private String username;\r\n    private String password;\r\n    private int status;\r\n    private int type;\r\n}\r\n```\r\n\r\n**Student.java**\r\n```\r\n@Entity\r\n@Table(name = &quot;students&quot;)\r\n@Getter\r\n@Setter\r\n@Builder\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\npublic class Student extends BaseEntity {\r\n    @OneToOne\r\n    @JoinColumn(name = &quot;account_id&quot;)\r\n    private Account account;\r\n\r\n    private String fullName;\r\n    private long classId;\r\n    private long titleId;\r\n}\r\n```\r\n\r\n**UserResDto.java**\r\n```\r\n@SuperBuilder\r\n@Getter\r\n@Setter\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\npublic class UserResDto {\r\n    private long accountId;\r\n    private String username;\r\n    private String fullName;\r\n    private int type;\r\n    private List&lt;Ability&gt; abilities;\r\n}\r\n```\r\n\r\n**StudentResDto.java**\r\n```\r\n@SuperBuilder\r\n@Getter\r\n@Setter\r\npublic class StudentResDto extends UserResDto {\r\n    private long classId;\r\n    private long titleId;\r\n}\r\n```\r\n\r\nI get students list use criteria:\r\n```\r\npublic List&lt;StudentResDto&gt; getStudent(String username) {\r\n        CriteriaBuilder cb = em.getCriteriaBuilder();\r\n        CriteriaQuery&lt;StudentResDto&gt; cq = cb.createQuery(StudentResDto.class);\r\n        Root&lt;Student&gt; student = cq.from(Student.class);\r\n        Join&lt;Student, Account&gt; account = student.join(&quot;account&quot;);\r\n        cq.multiselect(\r\n                account.get(&quot;id&quot;).alias(&quot;accountId&quot;),\r\n                account.get(&quot;username&quot;),\r\n                account.get(&quot;type&quot;),\r\n                student.get(&quot;fullName&quot;),\r\n                student.get(&quot;classId&quot;),\r\n                student.get(&quot;titleId&quot;)\r\n        );\r\n        return em.createQuery(cq).getResultList();\r\n    }\r\n```\r\n\r\nBut got errors:\r\n\r\nUnable to locate appropriate constructor on class [com.example.qldtback.dto.response.UserRes.StudentResDto]. Expected arguments are: long, java.lang.String, int, java.lang.String, long, long [select new com.example.qldtback.dto.response.UserRes.StudentResDto(generatedAlias0.id, generatedAlias0.username, generatedAlias0.type, generatedAlias1.fullName, generatedAlias1.classId, generatedAlias1.titleId) from com.example.qldtback.modules.student.Student as generatedAlias1 inner join generatedAlias1.account as generatedAlias0]\r\n\r\n\r\nSo how to fix it? Thank you very much!\r\n","title":"Criteria Unable to locate appropriate constructor on class","body":"<p>I have classes:</p>\n<p><strong>Account.java</strong></p>\n<pre><code>@Entity\n@Table(name = &quot;accounts&quot;)\n@Getter\n@Setter\n@Builder\n@NoArgsConstructor\n@AllArgsConstructor\npublic class Account extends BaseEntity {\n    private String username;\n    private String password;\n    private int status;\n    private int type;\n}\n</code></pre>\n<p><strong>Student.java</strong></p>\n<pre><code>@Entity\n@Table(name = &quot;students&quot;)\n@Getter\n@Setter\n@Builder\n@NoArgsConstructor\n@AllArgsConstructor\npublic class Student extends BaseEntity {\n    @OneToOne\n    @JoinColumn(name = &quot;account_id&quot;)\n    private Account account;\n\n    private String fullName;\n    private long classId;\n    private long titleId;\n}\n</code></pre>\n<p><strong>UserResDto.java</strong></p>\n<pre><code>@SuperBuilder\n@Getter\n@Setter\n@AllArgsConstructor\n@NoArgsConstructor\npublic class UserResDto {\n    private long accountId;\n    private String username;\n    private String fullName;\n    private int type;\n    private List&lt;Ability&gt; abilities;\n}\n</code></pre>\n<p><strong>StudentResDto.java</strong></p>\n<pre><code>@SuperBuilder\n@Getter\n@Setter\npublic class StudentResDto extends UserResDto {\n    private long classId;\n    private long titleId;\n}\n</code></pre>\n<p>I get students list use criteria:</p>\n<pre><code>public List&lt;StudentResDto&gt; getStudent(String username) {\n        CriteriaBuilder cb = em.getCriteriaBuilder();\n        CriteriaQuery&lt;StudentResDto&gt; cq = cb.createQuery(StudentResDto.class);\n        Root&lt;Student&gt; student = cq.from(Student.class);\n        Join&lt;Student, Account&gt; account = student.join(&quot;account&quot;);\n        cq.multiselect(\n                account.get(&quot;id&quot;).alias(&quot;accountId&quot;),\n                account.get(&quot;username&quot;),\n                account.get(&quot;type&quot;),\n                student.get(&quot;fullName&quot;),\n                student.get(&quot;classId&quot;),\n                student.get(&quot;titleId&quot;)\n        );\n        return em.createQuery(cq).getResultList();\n    }\n</code></pre>\n<p>But got errors:</p>\n<p>Unable to locate appropriate constructor on class [com.example.qldtback.dto.response.UserRes.StudentResDto]. Expected arguments are: long, java.lang.String, int, java.lang.String, long, long [select new com.example.qldtback.dto.response.UserRes.StudentResDto(generatedAlias0.id, generatedAlias0.username, generatedAlias0.type, generatedAlias1.fullName, generatedAlias1.classId, generatedAlias1.titleId) from com.example.qldtback.modules.student.Student as generatedAlias1 inner join generatedAlias1.account as generatedAlias0]</p>\n<p>So how to fix it? Thank you very much!</p>\n"},{"tags":["java","automation","pivot"],"owner":{"account_id":7942805,"reputation":1,"user_id":5996214,"display_name":"saffin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673258299,"creation_date":1673258299,"question_id":75055610,"body_markdown":"so below is the data for which pivot table is created already by a non technical person now she is asking me to automate that means she already have the data but with some java code lets say Apache POI API the pivot table should get automatically created\r\nany ideas or suggestion how to automatically create Pivot table \r\n\r\nbelow are the 3 columns for which pivot table needs to be created\r\n\r\n[enter image description here][1]\r\n\r\nbelow is pivot table format for which sheet should look alike\r\n\r\n[enter image description here][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/4zXoi.png\r\n  [2]: https://i.stack.imgur.com/IBCZb.png","title":"how to create pivot table using apache POI API","body":"<p>so below is the data for which pivot table is created already by a non technical person now she is asking me to automate that means she already have the data but with some java code lets say Apache POI API the pivot table should get automatically created\nany ideas or suggestion how to automatically create Pivot table</p>\n<p>below are the 3 columns for which pivot table needs to be created</p>\n<p><a href=\"https://i.stack.imgur.com/4zXoi.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>below is pivot table format for which sheet should look alike</p>\n<p><a href=\"https://i.stack.imgur.com/IBCZb.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n"},{"tags":["java","android","android-recyclerview","android-espresso"],"comments":[{"owner":{"account_id":245621,"reputation":1106,"user_id":2435126,"display_name":"Karan Harsh Wardhan"},"score":0,"creation_date":1549619495,"post_id":54589711,"comment_id":95975804,"body_markdown":"are you using stable ids or not?","body":"are you using stable ids or not?"},{"owner":{"account_id":15261807,"reputation":721,"user_id":11011605,"display_name":"Kratos"},"score":0,"creation_date":1549619916,"post_id":54589711,"comment_id":95976086,"body_markdown":"Yes I use stable ids","body":"Yes I use stable ids"},{"owner":{"account_id":4926203,"reputation":1059,"user_id":3967395,"display_name":"Nilesh Panchal"},"score":0,"creation_date":1549620239,"post_id":54589711,"comment_id":95976249,"body_markdown":"Try my answer code it will work fine.","body":"Try my answer code it will work fine."},{"owner":{"account_id":11187514,"reputation":1634,"user_id":8209253,"display_name":"Just The Highlights"},"score":0,"creation_date":1549705929,"post_id":54589711,"comment_id":96005583,"body_markdown":"Please provide the log below the error message that you&#39;re seeing. You definitely have more than one view with the id `R.id.ticket_list_list`.","body":"Please provide the log below the error message that you&#39;re seeing. You definitely have more than one view with the id <code>R.id.ticket_list_list</code>."},{"owner":{"account_id":4926203,"reputation":1059,"user_id":3967395,"display_name":"Nilesh Panchal"},"score":0,"creation_date":1552885870,"post_id":54589711,"comment_id":97165061,"body_markdown":"@Haris Have you got the answer or not?","body":"@Haris Have you got the answer or not?"}],"answers":[{"comments":[{"owner":{"account_id":245621,"reputation":1106,"user_id":2435126,"display_name":"Karan Harsh Wardhan"},"score":1,"creation_date":1549620741,"post_id":54589929,"comment_id":95976538,"body_markdown":"downvoting because you haven&#39;t explained why this would work,just pasting code as an answer is against stackoverflow rules","body":"downvoting because you haven&#39;t explained why this would work,just pasting code as an answer is against stackoverflow rules"},{"owner":{"account_id":4926203,"reputation":1059,"user_id":3967395,"display_name":"Nilesh Panchal"},"score":0,"creation_date":1549626394,"post_id":54589929,"comment_id":95979632,"body_markdown":"What the problem do you face when implemented above solution?","body":"What the problem do you face when implemented above solution?"},{"owner":{"account_id":15261807,"reputation":721,"user_id":11011605,"display_name":"Kratos"},"score":0,"creation_date":1549627179,"post_id":54589929,"comment_id":95980069,"body_markdown":"Returns me same error when crush like before:android.support.test.espresso.AmbiguousViewMatcherException: &#39;with id: hr.psk.android:id/ticket_list_list&#39; matches multiple views in the hierarchy. Problem views are marked with &#39;****MATCHES****&#39; below.","body":"Returns me same error when crush like before:android.support.test.espresso.AmbiguousViewMatcherExc&zwnj;&#8203;eption: &#39;with id: hr.psk.android:id/ticket_list_list&#39; matches multiple views in the hierarchy. Problem views are marked with &#39;****MATCHES****&#39; below."},{"owner":{"account_id":4926203,"reputation":1059,"user_id":3967395,"display_name":"Nilesh Panchal"},"score":0,"creation_date":1549861899,"post_id":54589929,"comment_id":96040928,"body_markdown":"Can you post your layout code?, So we can get a better idea to solve the problem","body":"Can you post your layout code?, So we can get a better idea to solve the problem"}],"tags":[],"owner":{"account_id":4926203,"reputation":1059,"user_id":3967395,"display_name":"Nilesh Panchal"},"comment_count":4,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1549621969,"creation_date":1549620129,"answer_id":54589929,"question_id":54589711,"body_markdown":"I also face the same problem before few days but finally got the solutions from StackOverflow.\r\n\r\nIf you want to click recycler custom item view click then implement the following code in your project\r\n\r\nYou need to write this code in java this will help you a lot and saved your time\r\n\r\nClickOnButtonView is control a view action happened in the list item and \r\nUiController class helps you find custom row item\r\n\r\n\r\nThe code is written in **Kotlin**\r\n\r\n    @RunWith(AndroidJUnit4::class)\r\n    class CampaignFragmentTest {\r\n\r\n        @get: Rule\r\n        val activityTestRule = ActivityTestRule(TestActivity::class.java)\r\n\r\n        @Test\r\n        fun testCustomListClick() {\r\n            clickOnButtonAtRow(0)\r\n        }\r\n    }\r\n\r\n    private fun clickOnButtonAtRow(position: Int) {\r\n        Espresso.onView(ViewMatchers.withId(R.id.list)).perform(RecyclerViewActions.actionOnItemAtPosition&lt;RecyclerView.ViewHolder&gt;\r\n        (position, ClickOnButtonView()))\r\n    }\r\n\r\n    inner class ClickOnButtonView : ViewAction {\r\n        internal var click = ViewActions.click()\r\n\r\n        override fun getConstraints(): Matcher&lt;View&gt; {\r\n            return click.constraints\r\n        }\r\n\r\n        override fun getDescription(): String {\r\n            return &quot; click on custom button view&quot;\r\n        }\r\n\r\n        override fun perform(uiController: UiController, view: View) {\r\n            //btnClickMe -&gt; Custom row item view button\r\n            click.perform(uiController, view.findViewById(R.id.btnClickMe))\r\n        }\r\n    }","title":"Espresso perform click on view in Recyclerview item","body":"<p>I also face the same problem before few days but finally got the solutions from StackOverflow.</p>\n\n<p>If you want to click recycler custom item view click then implement the following code in your project</p>\n\n<p>You need to write this code in java this will help you a lot and saved your time</p>\n\n<p>ClickOnButtonView is control a view action happened in the list item and \nUiController class helps you find custom row item</p>\n\n<p>The code is written in <strong>Kotlin</strong></p>\n\n<pre><code>@RunWith(AndroidJUnit4::class)\nclass CampaignFragmentTest {\n\n    @get: Rule\n    val activityTestRule = ActivityTestRule(TestActivity::class.java)\n\n    @Test\n    fun testCustomListClick() {\n        clickOnButtonAtRow(0)\n    }\n}\n\nprivate fun clickOnButtonAtRow(position: Int) {\n    Espresso.onView(ViewMatchers.withId(R.id.list)).perform(RecyclerViewActions.actionOnItemAtPosition&lt;RecyclerView.ViewHolder&gt;\n    (position, ClickOnButtonView()))\n}\n\ninner class ClickOnButtonView : ViewAction {\n    internal var click = ViewActions.click()\n\n    override fun getConstraints(): Matcher&lt;View&gt; {\n        return click.constraints\n    }\n\n    override fun getDescription(): String {\n        return \" click on custom button view\"\n    }\n\n    override fun perform(uiController: UiController, view: View) {\n        //btnClickMe -&gt; Custom row item view button\n        click.perform(uiController, view.findViewById(R.id.btnClickMe))\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11187514,"reputation":1634,"user_id":8209253,"display_name":"Just The Highlights"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1588178777,"creation_date":1549706741,"answer_id":54605181,"question_id":54589711,"body_markdown":"That error means that it found multiple views with the id `R.id.ticket_list_list`. There should also be a view hierarchy log that follows the error message you provided, showing the views that Espresso found with that same id marked with `****MATCHES****`. \r\n\r\nSo you can either change the id of the view you want to test or target the view by providing another [ViewMatcher][1] as below:\r\n\r\n    onView(allOf(withId(recyclerViewID), viewMatcher))\r\n        .perform(RecyclerViewActions.actionOnItemAtPosition(0, click()));\r\n\r\n\r\n  [1]: https://developer.android.com/reference/androidx/test/espresso/matcher/ViewMatchers","title":"Espresso perform click on view in Recyclerview item","body":"<p>That error means that it found multiple views with the id <code>R.id.ticket_list_list</code>. There should also be a view hierarchy log that follows the error message you provided, showing the views that Espresso found with that same id marked with <code>****MATCHES****</code>. </p>\n\n<p>So you can either change the id of the view you want to test or target the view by providing another <a href=\"https://developer.android.com/reference/androidx/test/espresso/matcher/ViewMatchers\" rel=\"nofollow noreferrer\">ViewMatcher</a> as below:</p>\n\n<pre><code>onView(allOf(withId(recyclerViewID), viewMatcher))\n    .perform(RecyclerViewActions.actionOnItemAtPosition(0, click()));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4275384,"reputation":1457,"user_id":3496135,"accept_rate":50,"display_name":"kdyz"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1549774960,"creation_date":1549774960,"answer_id":54613515,"question_id":54589711,"body_markdown":"    onView(withId(R.id.ticket_list_list))\r\n        .perform(RecyclerViewActions.actionOnItemAtPosition(0, click()));\r\n\r\nThe error you&#39;re getting means that there&#39;s another View somewhere that also uses the id ***ticket_list_list***\r\n\r\n**Is ticket_list_list your actual list view?** (the parent of the things that you want to click)\r\n\r\nIf it is then **is it the only one available on the screen?** if it is then use the following\r\n\r\n    onView(allOf(withId(R.id.ticket_list_list), isDisplayed()))\r\n        .perform(RecyclerViewActions.actionOnItemAtPosition(0, click()));\r\n\r\nAdding the isDisplayed() Matcher makes the targeted View more specific by targeting only those that are displayed and ignoring those that are existing but not displayed\r\n\r\n**If there really is another matcher displayed (or the above doesn&#39;t work for you)** that has the same id as the one you&#39;re trying to match then use the following\r\n\r\n    onView(allOf(withId(R.id.ticket_list_list), withParentIndex(index_of_matcher_here)))\r\n        .perform(RecyclerViewActions.actionOnItemAtPosition(0, click()));\r\n\r\nInstead of isDisplayed() withParentIndex(some_number) should more specifically target and give you the view that has the id you&#39;re looking for along with the index of it\r\n\r\nIn the very messy instance that the above still doesn&#39;t work, maybe because all the returned Views have the same index possibly because they are the children of another View then you can get creative and do something like\r\n\r\n    onView(allOf(withId(R.id.ticket_list_list), withParent(allOf(withId(if_of_the_parent), withParentIndex(index_of_matcher_here)))))\r\n        .perform(RecyclerViewActions.actionOnItemAtPosition(0, click()));\r\n\r\nto specify the index of the parent instead. \r\n\r\nJust mix &#39;n match your way through it, just make sure to not go crazy on the Matchers and just keep things readable \r\n\r\n*Use as little as you can (make sure it&#39;s readable and maintainable too and not just made up of indexes), you&#39;re not trying to get the coordinates for a missile target- you just want the View*","title":"Espresso perform click on view in Recyclerview item","body":"<pre><code>onView(withId(R.id.ticket_list_list))\n    .perform(RecyclerViewActions.actionOnItemAtPosition(0, click()));\n</code></pre>\n\n<p>The error you're getting means that there's another View somewhere that also uses the id <strong><em>ticket_list_list</em></strong></p>\n\n<p><strong>Is ticket_list_list your actual list view?</strong> (the parent of the things that you want to click)</p>\n\n<p>If it is then <strong>is it the only one available on the screen?</strong> if it is then use the following</p>\n\n<pre><code>onView(allOf(withId(R.id.ticket_list_list), isDisplayed()))\n    .perform(RecyclerViewActions.actionOnItemAtPosition(0, click()));\n</code></pre>\n\n<p>Adding the isDisplayed() Matcher makes the targeted View more specific by targeting only those that are displayed and ignoring those that are existing but not displayed</p>\n\n<p><strong>If there really is another matcher displayed (or the above doesn't work for you)</strong> that has the same id as the one you're trying to match then use the following</p>\n\n<pre><code>onView(allOf(withId(R.id.ticket_list_list), withParentIndex(index_of_matcher_here)))\n    .perform(RecyclerViewActions.actionOnItemAtPosition(0, click()));\n</code></pre>\n\n<p>Instead of isDisplayed() withParentIndex(some_number) should more specifically target and give you the view that has the id you're looking for along with the index of it</p>\n\n<p>In the very messy instance that the above still doesn't work, maybe because all the returned Views have the same index possibly because they are the children of another View then you can get creative and do something like</p>\n\n<pre><code>onView(allOf(withId(R.id.ticket_list_list), withParent(allOf(withId(if_of_the_parent), withParentIndex(index_of_matcher_here)))))\n    .perform(RecyclerViewActions.actionOnItemAtPosition(0, click()));\n</code></pre>\n\n<p>to specify the index of the parent instead. </p>\n\n<p>Just mix 'n match your way through it, just make sure to not go crazy on the Matchers and just keep things readable </p>\n\n<p><em>Use as little as you can (make sure it's readable and maintainable too and not just made up of indexes), you're not trying to get the coordinates for a missile target- you just want the View</em></p>\n"},{"tags":[],"owner":{"account_id":14071220,"reputation":41,"user_id":10164681,"display_name":"Mubarak Ansari"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673258017,"creation_date":1673258017,"answer_id":75055562,"question_id":54589711,"body_markdown":"   You Can also create your own custom click action like this :\r\n    \r\n        fun customActionClickOnItemEvent(\r\n            @NonNull targetViewId: Int\r\n        ): ViewAction {\r\n        \r\n            return object : ViewAction {\r\n        \r\n                val click = ViewActions.click()\r\n        \r\n                override fun getDescription(): String = &quot;Item clicked&quot;\r\n        \r\n                override fun getConstraints(): Matcher&lt;View&gt; = click.constraints\r\n        \r\n                override fun perform(uiController: UiController?, view: View?) {\r\n                    click.perform(uiController,view?.findViewById(targetViewId))\r\n                }\r\n            }\r\n        }\r\n    \r\n    \r\n   And Calling this function like this :\r\n    \r\n     onView(withId(R.id.rv_products)).perform(\r\n                RecyclerViewActions.actionOnItemAtPosition&lt;RecyclerView.ViewHolder&gt;(\r\n                    1,\r\n                    customActionClickOnItemEvent(R.id.img_wish_list)\r\n                )\r\n            )","title":"Espresso perform click on view in Recyclerview item","body":"<p>You Can also create your own custom click action like this :</p>\n<pre><code>    fun customActionClickOnItemEvent(\n        @NonNull targetViewId: Int\n    ): ViewAction {\n    \n        return object : ViewAction {\n    \n            val click = ViewActions.click()\n    \n            override fun getDescription(): String = &quot;Item clicked&quot;\n    \n            override fun getConstraints(): Matcher&lt;View&gt; = click.constraints\n    \n            override fun perform(uiController: UiController?, view: View?) {\n                click.perform(uiController,view?.findViewById(targetViewId))\n            }\n        }\n    }\n</code></pre>\n<p>And Calling this function like this :</p>\n<pre><code> onView(withId(R.id.rv_products)).perform(\n            RecyclerViewActions.actionOnItemAtPosition&lt;RecyclerView.ViewHolder&gt;(\n                1,\n                customActionClickOnItemEvent(R.id.img_wish_list)\n            )\n        )\n</code></pre>\n"}],"owner":{"account_id":15261807,"reputation":721,"user_id":11011605,"display_name":"Kratos"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6501,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":54613515,"answer_count":4,"score":1,"last_activity_date":1673258017,"creation_date":1549619327,"question_id":54589711,"body_markdown":"I tried everything to perform click on view in recyclerview item but not succesfull. Read every option on internet and tried it but still not working. Lately I used:\r\n\r\n    onView(ViewMatchers.withId(R.id.live_rw_liveMatchList))\r\n        .perform(RecyclerViewActions.actionOnItemAtPosition(2, MyViewAction.clickChildViewWithId(R.id.pick_pw_pickLeft)));\r\n\r\nBut all i get is:\r\n\r\n&gt; android.support.test.espresso.AmbiguousViewMatcherException: &#39;with id:\r\n&gt; hr.psk.android:id/ticket_list_list&#39; matches multiple views in the\r\n&gt; hierarchy. Problem views are marked with &#39;****MATCHES****&#39; below.\r\n\r\nAnd it matches only one view (my recyclerview with 13 childs)\r\n\r\nI know this should work but it is not working in my project. Tried to perform only click on recyclerviw item in other recyclerview to make it more simple like this:\r\n\r\n    onView(withId(R.id.ticket_list_list))\r\n        .perform(RecyclerViewActions.actionOnItemAtPosition(0, click()));\r\n\r\nBut it gives me the same message back -&gt; Multiple matches problem\r\n\r\nsomebody help, I really tried everything","title":"Espresso perform click on view in Recyclerview item","body":"<p>I tried everything to perform click on view in recyclerview item but not succesfull. Read every option on internet and tried it but still not working. Lately I used:</p>\n\n<pre><code>onView(ViewMatchers.withId(R.id.live_rw_liveMatchList))\n    .perform(RecyclerViewActions.actionOnItemAtPosition(2, MyViewAction.clickChildViewWithId(R.id.pick_pw_pickLeft)));\n</code></pre>\n\n<p>But all i get is:</p>\n\n<blockquote>\n  <p>android.support.test.espresso.AmbiguousViewMatcherException: 'with id:\n  hr.psk.android:id/ticket_list_list' matches multiple views in the\n  hierarchy. Problem views are marked with '****MATCHES****' below.</p>\n</blockquote>\n\n<p>And it matches only one view (my recyclerview with 13 childs)</p>\n\n<p>I know this should work but it is not working in my project. Tried to perform only click on recyclerviw item in other recyclerview to make it more simple like this:</p>\n\n<pre><code>onView(withId(R.id.ticket_list_list))\n    .perform(RecyclerViewActions.actionOnItemAtPosition(0, click()));\n</code></pre>\n\n<p>But it gives me the same message back -> Multiple matches problem</p>\n\n<p>somebody help, I really tried everything</p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1673255357,"post_id":75055064,"comment_id":132448769,"body_markdown":"Add the complete error message as text to your question","body":"Add the complete error message as text to your question"},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1673255647,"post_id":75055064,"comment_id":132448852,"body_markdown":"Looks like your application doesn&#39;t start. You should see stacktraces in the mvn output","body":"Looks like your application doesn&#39;t start. You should see stacktraces in the mvn output"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1673258057,"post_id":75055064,"comment_id":132449628,"body_markdown":"Remove `hibernate-jpa-2.1-api` and remove the `maven-surefire-plugin` it download an incompatible one. If you want to skip tests add `-DskipTests=true` to your maven execution. Remoing the `hibernate-jpa-2.1-api` will probably lead to compilation errors because you should be using `jakarta.persistence` instead of `javax.persistence`.","body":"Remove <code>hibernate-jpa-2.1-api</code> and remove the <code>maven-surefire-plugin</code> it download an incompatible one. If you want to skip tests add <code>-DskipTests=true</code> to your maven execution. Remoing the <code>hibernate-jpa-2.1-api</code> will probably lead to compilation errors because you should be using <code>jakarta.persistence</code> instead of <code>javax.persistence</code>."}],"answers":[{"comments":[{"owner":{"account_id":27475383,"reputation":1,"user_id":20963479,"display_name":"Bebetot"},"score":0,"creation_date":1673339967,"post_id":75055117,"comment_id":132470847,"body_markdown":"This what i did before and it doesn&#39;t fix my error","body":"This what i did before and it doesn&#39;t fix my error"}],"tags":[],"owner":{"account_id":21199058,"reputation":17,"user_id":15590048,"display_name":"AlexGolub"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1673257932,"creation_date":1673255526,"answer_id":75055117,"question_id":75055064,"body_markdown":"Try creating new workspace for your project.  \r\n\r\nRun `mvn clean install` if project fails again then run the same command with `-X` i.e. `mvn clean install -X` to get the full stack trace log (paste it here)","title":"How to fix build failure : Failed to execute goal org.springframework.boot:spring-boot-maven-plugin:3.0.1:run (default-cli) on project?","body":"<p>Try creating new workspace for your project.</p>\n<p>Run <code>mvn clean install</code> if project fails again then run the same command with <code>-X</code> i.e. <code>mvn clean install -X</code> to get the full stack trace log (paste it here)</p>\n"}],"owner":{"account_id":27475383,"reputation":1,"user_id":20963479,"display_name":"Bebetot"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":208,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1673257932,"creation_date":1673255166,"question_id":75055064,"body_markdown":"I am facing an error when I build a spring project\r\n[prompt error in cmd](https://i.stack.imgur.com/PvSTL.png)\r\nBelow is my pom.xml :\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \t&lt;parent&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;3.0.1&lt;/version&gt;\r\n    \t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    \t&lt;/parent&gt;\r\n    \t&lt;groupId&gt;com.mycompany.formationspring&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;demo&lt;/artifactId&gt;\r\n    \t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    \t&lt;name&gt;demo&lt;/name&gt;\r\n    \t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n    \t&lt;properties&gt;\r\n    \t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n    \t&lt;/properties&gt;\r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.h2database&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;h2&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.hibernate.javax.persistence&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;hibernate-jpa-2.1-api&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.0.0.Final&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t\r\n    \t&lt;/dependencies&gt;\r\n    \r\n    \t&lt;build&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t\t\r\n    \t\t\t&lt;plugin&gt;  \r\n    \t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;  \r\n    \t\t\t\t&lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;  \r\n    \t\t\t\t&lt;version&gt;2.22.2&lt;/version&gt;  \r\n    \t\t\t\t&lt;configuration&gt;  \r\n    \t\t\t\t\t&lt;skipTests&gt;true&lt;/skipTests&gt;  \r\n    \t\t\t\t&lt;/configuration&gt;  \r\n    \t\t\t&lt;/plugin&gt;  \r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n    \r\n    &lt;/project&gt;\r\n\r\nHow can I fix this error ? \r\n\r\n\r\nI try to fix a spring build error\r\n","title":"How to fix build failure : Failed to execute goal org.springframework.boot:spring-boot-maven-plugin:3.0.1:run (default-cli) on project?","body":"<p>I am facing an error when I build a spring project\n<a href=\"https://i.stack.imgur.com/PvSTL.png\" rel=\"nofollow noreferrer\">prompt error in cmd</a>\nBelow is my pom.xml :</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.0.1&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.mycompany.formationspring&lt;/groupId&gt;\n    &lt;artifactId&gt;demo&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;demo&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.h2database&lt;/groupId&gt;\n            &lt;artifactId&gt;h2&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        \n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate.javax.persistence&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-jpa-2.1-api&lt;/artifactId&gt;\n            &lt;version&gt;1.0.0.Final&lt;/version&gt;\n        &lt;/dependency&gt;\n        \n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n            \n            &lt;plugin&gt;  \n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;  \n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;  \n                &lt;version&gt;2.22.2&lt;/version&gt;  \n                &lt;configuration&gt;  \n                    &lt;skipTests&gt;true&lt;/skipTests&gt;  \n                &lt;/configuration&gt;  \n            &lt;/plugin&gt;  \n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>How can I fix this error ?</p>\n<p>I try to fix a spring build error</p>\n"},{"tags":["java","spring-boot","junit","mockito"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":4,"creation_date":1673254460,"post_id":75054923,"comment_id":132448514,"body_markdown":"I doubt it is called as there is no `@Test` on your test method.","body":"I doubt it is called as there is no <code>@Test</code> on your test method."},{"owner":{"account_id":19857572,"reputation":31,"user_id":14546645,"display_name":"mhvb"},"score":0,"creation_date":1673255741,"post_id":75054923,"comment_id":132448886,"body_markdown":"@knittl you are right, I Just kept some sample code, I updated question now","body":"@knittl you are right, I Just kept some sample code, I updated question now"},{"owner":{"account_id":19857572,"reputation":31,"user_id":14546645,"display_name":"mhvb"},"score":0,"creation_date":1673255880,"post_id":75054923,"comment_id":132448930,"body_markdown":"@M.Deinum, in question i missed it","body":"@M.Deinum, in question i missed it"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1673257957,"post_id":75054923,"comment_id":132449593,"body_markdown":"That is reactive code, nothing subscribes to it, so it does exactly that nothing.","body":"That is reactive code, nothing subscribes to it, so it does exactly that nothing."}],"answers":[{"tags":[],"owner":{"account_id":21199058,"reputation":17,"user_id":15590048,"display_name":"AlexGolub"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673257412,"creation_date":1673257412,"answer_id":75055443,"question_id":75054923,"body_markdown":"From the first code snippet the line `int a = this::add;` does not compile because incompatible types: int is not a [functional interface][1]\r\n\r\n    @Service\r\n    public class MainClass {\r\n        public void simpleExe() {\r\n            int a = this::add; // DOES NOT COMPILE\r\n        }\r\n    \r\n        private int add() {\r\n            return 42;\r\n        }\r\n    }\r\n\r\nIf you want to use method reference that accepts zero arguments and return `int` you can utilize the `IntSupplier` functional interface:\r\n\r\n    import org.springframework.stereotype.Service;\r\n    import java.util.function.IntSupplier;\r\n    \r\n    @Service\r\n    public class MainClass {\r\n    \r\n        IntSupplier add = () -&gt; {\r\n            // some calculations\r\n            return 42;\r\n        };\r\n    \r\n        public void simpleExe() {\r\n            int a = add.getAsInt();\r\n            System.out.println(&quot;a = &quot; + a);\r\n            // ...\r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://java-8-tips.readthedocs.io/en/stable/funcinterfaces.html#functional-interfaces","title":"method call not happening for method while unit testing","body":"<p>From the first code snippet the line <code>int a = this::add;</code> does not compile because incompatible types: int is not a <a href=\"https://java-8-tips.readthedocs.io/en/stable/funcinterfaces.html#functional-interfaces\" rel=\"nofollow noreferrer\">functional interface</a></p>\n<pre><code>@Service\npublic class MainClass {\n    public void simpleExe() {\n        int a = this::add; // DOES NOT COMPILE\n    }\n\n    private int add() {\n        return 42;\n    }\n}\n</code></pre>\n<p>If you want to use method reference that accepts zero arguments and return <code>int</code> you can utilize the <code>IntSupplier</code> functional interface:</p>\n<pre><code>import org.springframework.stereotype.Service;\nimport java.util.function.IntSupplier;\n\n@Service\npublic class MainClass {\n\n    IntSupplier add = () -&gt; {\n        // some calculations\n        return 42;\n    };\n\n    public void simpleExe() {\n        int a = add.getAsInt();\n        System.out.println(&quot;a = &quot; + a);\n        // ...\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":19857572,"reputation":31,"user_id":14546645,"display_name":"mhvb"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":145,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1673257412,"creation_date":1673254302,"question_id":75054923,"body_markdown":"I have code like below trying to unit test it\r\n    \r\n    @Service\r\n    class MainClass {\r\n    public void simpleExe() {\r\n    webclient.post()\r\n    .uri(&quot;url&quot;)\r\n    .header(----)\r\n    .bodyValue(ReqPojo)\r\n    .retrieve()\r\n    .bodyToMono(Response.class)\r\n    .flatMap(this::add); **this line is running but the call not happening to add method**\r\n    }\r\n    \r\n    private Mono&lt;Response&gt; add() {\r\n    // doing some calculation\r\n    }\r\n    }\r\n\r\n\r\nTest class\r\n\r\n    @SpringBootTest\r\n    class MainClassTest {\r\n    \r\n    //mocked few other service calls\r\n    \r\n    @Autowired\r\n    MainClass mainClass;\r\n    @Test\r\n    public void testsimpleExe() {\r\n       mainClass.simpleExe();\r\n     }\r\n    }\r\n\r\n**this::add control coming to this line but call not happening to add method.**\r\nwhat could be the issue. any thing missing?","title":"method call not happening for method while unit testing","body":"<p>I have code like below trying to unit test it</p>\n<pre><code>@Service\nclass MainClass {\npublic void simpleExe() {\nwebclient.post()\n.uri(&quot;url&quot;)\n.header(----)\n.bodyValue(ReqPojo)\n.retrieve()\n.bodyToMono(Response.class)\n.flatMap(this::add); **this line is running but the call not happening to add method**\n}\n\nprivate Mono&lt;Response&gt; add() {\n// doing some calculation\n}\n}\n</code></pre>\n<p>Test class</p>\n<pre><code>@SpringBootTest\nclass MainClassTest {\n\n//mocked few other service calls\n\n@Autowired\nMainClass mainClass;\n@Test\npublic void testsimpleExe() {\n   mainClass.simpleExe();\n }\n}\n</code></pre>\n<p><strong>this::add control coming to this line but call not happening to add method.</strong>\nwhat could be the issue. any thing missing?</p>\n"},{"tags":["java","java-9","java-platform-module-system","jmod"],"comments":[{"owner":{"account_id":1546239,"reputation":3192,"user_id":1439733,"display_name":"Stefan Zobel"},"score":2,"creation_date":1498296719,"post_id":44732915,"comment_id":76451549,"body_markdown":"&quot;JMOD files can be used at compile time and link time, but not at run time&quot;. So, I&#39;d guess a JAR is still more useful for library consumers unless they&#39;d want to link their own run-time images.","body":"&quot;JMOD files can be used at compile time and link time, but not at run time&quot;. So, I&#39;d guess a JAR is still more useful for library consumers unless they&#39;d want to link their own run-time images."},{"owner":{"account_id":362885,"reputation":37276,"user_id":706317,"accept_rate":70,"display_name":"ZhekaKozlov"},"score":1,"creation_date":1498299771,"post_id":44732915,"comment_id":76452259,"body_markdown":"As far as I can tell, JMOD files are used only for building custom runtime images (with `jlink`). This is not what most of the people do often. They are not even a part of the Java SE 9 specification. For now, JMOD files are just zip files, but this can be changed in the future.","body":"As far as I can tell, JMOD files are used only for building custom runtime images (with <code>jlink</code>). This is not what most of the people do often. They are not even a part of the Java SE 9 specification. For now, JMOD files are just zip files, but this can be changed in the future."},{"owner":{"account_id":195439,"reputation":60926,"user_id":438319,"accept_rate":73,"display_name":"ams"},"score":2,"creation_date":1498309666,"post_id":44732915,"comment_id":76454801,"body_markdown":"@ZhekaKozlov there is no more jre/lib/rt.jar in Java 9 so when javac is running to find the code for java.util.List it would be picking that up from $JDK_HOME/jmods/java.base.jmod so I think that if you only care about Java 9 you can just distribute JMOD files instead of jar files. JMOD files are not read at runtime with the JVM so if you make a custom jdk image with jlink to ship to customers there is no point in including the JMOD files, the Java 9 JRE does not ship with the JMOD files for the JDK.","body":"@ZhekaKozlov there is no more jre/lib/rt.jar in Java 9 so when javac is running to find the code for java.util.List it would be picking that up from $JDK_HOME/jmods/java.base.jmod so I think that if you only care about Java 9 you can just distribute JMOD files instead of jar files. JMOD files are not read at runtime with the JVM so if you make a custom jdk image with jlink to ship to customers there is no point in including the JMOD files, the Java 9 JRE does not ship with the JMOD files for the JDK."},{"owner":{"account_id":10990142,"reputation":397,"user_id":8074444,"display_name":"Anlon Burke"},"score":3,"creation_date":1498319493,"post_id":44732915,"comment_id":76457840,"body_markdown":"@ams Sorry, I don&#39;t get your last comment. Are you implicating that the Java 9 JDK reads from the JMOD files at runtime? AFAIK, that would be wrong. You can delete the whole jmods directory from a JDK without any consequences. Also, to my knowledge, a Java 9 JDK wouldn&#39;t &quot;pick up&quot; a custom custom JMOD that you distribute.","body":"@ams Sorry, I don&#39;t get your last comment. Are you implicating that the Java 9 JDK reads from the JMOD files at runtime? AFAIK, that would be wrong. You can delete the whole jmods directory from a JDK without any consequences. Also, to my knowledge, a Java 9 JDK wouldn&#39;t &quot;pick up&quot; a custom custom JMOD that you distribute."},{"owner":{"account_id":195439,"reputation":60926,"user_id":438319,"accept_rate":73,"display_name":"ams"},"score":0,"creation_date":1498322368,"post_id":44732915,"comment_id":76458703,"body_markdown":"@AnlonBurke I expected javac to depend on $JDK_HOME/jmods folder to resolve import statements or the IDE to depend on $JDK_HOME/jmods so I deleted the jmods folder on my machine stuff still compiles. The key thing I want to know is under what conditions would a developer publish a JMOD file?","body":"@AnlonBurke I expected javac to depend on $JDK_HOME/jmods folder to resolve import statements or the IDE to depend on $JDK_HOME/jmods so I deleted the jmods folder on my machine stuff still compiles. The key thing I want to know is under what conditions would a developer publish a JMOD file?"},{"owner":{"account_id":10990142,"reputation":397,"user_id":8074444,"display_name":"Anlon Burke"},"score":3,"creation_date":1498323505,"post_id":44732915,"comment_id":76459043,"body_markdown":"@ams To my knowledge (and as all the other commenters have said here) you&#39;d publish a JMOD file to enable a consumer to `jlink` his own run-time image that includes your JMOD module. It&#39;s possible I don&#39;t get the whole picture though.","body":"@ams To my knowledge (and as all the other commenters have said here) you&#39;d publish a JMOD file to enable a consumer to <code>jlink</code> his own run-time image that includes your JMOD module. It&#39;s possible I don&#39;t get the whole picture though."},{"owner":{"account_id":11265861,"reputation":6089,"user_id":14352161,"display_name":"concision"},"score":1,"creation_date":1601874288,"post_id":44732915,"comment_id":113530342,"body_markdown":"@Naman I have added a detailed answer on the purpose of JMODs in the context of Java 9&#39;s new module system. Let me know if this sufficiently answers the question at hand.","body":"@Naman I have added a detailed answer on the purpose of JMODs in the context of Java 9&#39;s new module system. Let me know if this sufficiently answers the question at hand."}],"answers":[{"comments":[{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":11,"creation_date":1498644477,"post_id":44736159,"comment_id":76578978,"body_markdown":"Or, in other words: JMOD files were not supposed to be zip files, but due to insufficient resources, there is that kludge, with the well-known kind of promise to deliver the better solution later, which will not happen within the next decade…","body":"Or, in other words: JMOD files were not supposed to be zip files, but due to insufficient resources, there is that kludge, with the well-known kind of promise to deliver the better solution later, which will not happen within the next decade…"},{"owner":{"account_id":21994,"reputation":73808,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":1,"creation_date":1546461125,"post_id":44736159,"comment_id":94862404,"body_markdown":"native code used to be published as shared libraries, i.e. platform native form.","body":"native code used to be published as shared libraries, i.e. platform native form."},{"owner":{"account_id":3858478,"reputation":7458,"user_id":3196753,"display_name":"tresf"},"score":1,"creation_date":1548900361,"post_id":44736159,"comment_id":95713045,"body_markdown":"My project bundles [some native libraries](https://stackoverflow.com/questions/52911791/hardened-runtime-for-java-and-mojave) and the lib/jar dependencies just come bundled with the native objects and find a way to load them at runtime.  As the project works on moving off of JDK8 and onto JDK11 due to [recent events](https://www.azul.com/think-moving-jdk-9-sometime-next-year-think/) and the (now missing) JavaFX runtime is provided in several formats, one being `jmod`. I&#39;m curious if this format assists in any way with the dependency/packaging process.","body":"My project bundles <a href=\"https://stackoverflow.com/questions/52911791/hardened-runtime-for-java-and-mojave\">some native libraries</a> and the lib/jar dependencies just come bundled with the native objects and find a way to load them at runtime.  As the project works on moving off of JDK8 and onto JDK11 due to <a href=\"https://www.azul.com/think-moving-jdk-9-sometime-next-year-think/\" rel=\"nofollow noreferrer\">recent events</a> and the (now missing) JavaFX runtime is provided in several formats, one being <code>jmod</code>. I&#39;m curious if this format assists in any way with the dependency/packaging process."}],"tags":[],"owner":{"account_id":7332,"reputation":23983,"user_id":12704,"accept_rate":75,"display_name":"Michael Easter"},"comment_count":3,"down_vote_count":1,"up_vote_count":15,"is_accepted":false,"score":14,"last_activity_date":1498305606,"creation_date":1498305606,"answer_id":44736159,"question_id":44732915,"body_markdown":"Here are some quotes from [JEP 261: Module System][1], which contains a section on JMOD files.\r\n\r\n**Why?**\r\n\r\nFrom [JEP 261][1]:\r\n\r\n&gt; The new JMOD format goes beyond JAR files to include native code,\r\n&gt; configuration files, and other kinds of data that do not fit\r\n&gt; naturally, if at all, into JAR files.\r\n\r\nand\r\n\r\n&gt; The final format of JMOD files is an open issue, but for now it is\r\n&gt; based on ZIP files.\r\n\r\n**Should a developer publish JMOD files?**\r\n\r\nNote that JMOD files appear to be a way to incorporate native code (among other things) at compile-time and link-time. From [JEP 261][1]:\r\n\r\n&gt; JMOD files can be used at compile time and link time, but not at run\r\n&gt; time.\r\n\r\n(To be honest, I&#39;m not sure how native code is published pre-JDK 9.) For the vast majority of developers (without native libraries or other corner-cases), we will merely publish modular jars.\r\n\r\n  [1]: http://openjdk.java.net/jeps/261","title":"Why did Java 9 introduce the JMOD file format?","body":"<p>Here are some quotes from <a href=\"http://openjdk.java.net/jeps/261\" rel=\"noreferrer\">JEP 261: Module System</a>, which contains a section on JMOD files.</p>\n\n<p><strong>Why?</strong></p>\n\n<p>From <a href=\"http://openjdk.java.net/jeps/261\" rel=\"noreferrer\">JEP 261</a>:</p>\n\n<blockquote>\n  <p>The new JMOD format goes beyond JAR files to include native code,\n  configuration files, and other kinds of data that do not fit\n  naturally, if at all, into JAR files.</p>\n</blockquote>\n\n<p>and</p>\n\n<blockquote>\n  <p>The final format of JMOD files is an open issue, but for now it is\n  based on ZIP files.</p>\n</blockquote>\n\n<p><strong>Should a developer publish JMOD files?</strong></p>\n\n<p>Note that JMOD files appear to be a way to incorporate native code (among other things) at compile-time and link-time. From <a href=\"http://openjdk.java.net/jeps/261\" rel=\"noreferrer\">JEP 261</a>:</p>\n\n<blockquote>\n  <p>JMOD files can be used at compile time and link time, but not at run\n  time.</p>\n</blockquote>\n\n<p>(To be honest, I'm not sure how native code is published pre-JDK 9.) For the vast majority of developers (without native libraries or other corner-cases), we will merely publish modular jars.</p>\n"},{"comments":[{"owner":{"account_id":204515,"reputation":11679,"user_id":452775,"accept_rate":63,"display_name":"Lii"},"score":1,"creation_date":1680267946,"post_id":64202720,"comment_id":133873856,"body_markdown":"Note that the term &quot;linking&quot; is also used for a phase during class loading, at runtime. For information see [this answer](https://stackoverflow.com/a/62788328/452775), and also the [Java Language Specification](https://docs.oracle.com/javase/specs/jls/se17/html/jls-12.html#jls-12.3)","body":"Note that the term &quot;linking&quot; is also used for a phase during class loading, at runtime. For information see <a href=\"https://stackoverflow.com/a/62788328/452775\">this answer</a>, and also the <a href=\"https://docs.oracle.com/javase/specs/jls/se17/html/jls-12.html#jls-12.3\" rel=\"nofollow noreferrer\">Java Language Specification</a>"}],"tags":[],"owner":{"account_id":11265861,"reputation":6089,"user_id":14352161,"display_name":"concision"},"comment_count":1,"down_vote_count":0,"up_vote_count":70,"is_accepted":true,"score":70,"last_activity_date":1673256901,"creation_date":1601874173,"answer_id":64202720,"question_id":44732915,"body_markdown":"The purpose of JMODs are not well documented and existing documentation is rather sparse. Here is an in-depth explanation of system, from my understanding.\r\n\r\nParts of this answer are rather long, verbose, partially redundant, and a tough read. Constructive, structural, or grammatical edits are more than welcome to improve readability for future readers.\r\n\r\n&lt;hr&gt;\r\n\r\n# Short(er) Answer\r\n\r\nThe [*Java Platform Module System*][1] ([*Project Jigsaw*](https://openjdk.java.net/projects/jigsaw/)) in [Java 9][2]+ introduces the notion of a new optional *link time* phase. This phase occurs when using the [CLI][3] tool [`jlink`](https://docs.oracle.com/javase/9/tools/jlink.htm) ([JEP 282][4]) to build a custom space-optimized [JRE][5]. \r\n\r\nThe `jlink` utility bundles all explicit/transitive [JAR][6] modules/JMOD dependencies into a minified JRE. All other unreachable dependencies in the dependency graph (starting from specified root modules) are omitted from the built JRE. As of JDK 9+, all of Java&#39;s standard library has been broken up into JMODs. These JMODs are located at `&lt;jdk&gt;/jmods`.\r\n\r\nWhereas JARs can only contain `.class` and resource files, JMODs (i.e. `.jmod` files) contain additional files that are consumed specifically in the new optional *link time* phase to customize the JRE (e.g. executables, native libraries, configurations, legal licenses, etc). These additional files are not available as resources at run time in the classpath, but are instead installed under various locations in the built JRE (e.g. executables and native libraries are placed under `&lt;jre&gt;/bin`). From the relevant bundled JARs and JMODs dependencies, classes and file resources will be written into a single optimized JIMAGE file, located at `&lt;jre&gt;/lib/modules` (replacing `&lt;jre&gt;/lib/rt.jar` in Java 8 and prior versions). The role of JMODs is at compile time and link time, and are _not_ designed to be used at run time.\r\n\r\nFor the average library/application, only JARs should be built and pushed, instead of JMODs; only under certain conditions will JMODs offer critical functionality that is needed during the *link time* phase. At the time of writing, Maven does not appear to offer strong support for JMODs beyond the alpha release plugin [`org.apache.maven.plugins:maven-jmod-plugin`](https://maven.apache.org/plugins/maven-jmod-plugin/).\r\n\r\n&lt;hr&gt;\r\n\r\n# Long Answer\r\nThis long-winded answer is more complexly motivated and sheds some light into how the new module system fundamentally operates. There is a strong emphasis throughout this post on the CLI tool `jlink`, since JMODs are designed specifically for this new optional *link time* phase that the tool introduces.\r\n\r\n## The Introduction of Project Jigsaw\r\nJava 9 introduced [Project Jigsaw](https://openjdk.java.net/projects/jigsaw/) in &#39;[JEP 261: Module System](http://openjdk.java.net/jeps/261)&#39;, a novel module system that can be used to minimize startup times and the size of JREs. As part of this release, the CLI utilities [`jmod`](https://docs.oracle.com/javase/9/tools/jmod.htm), `jimage`, and [`jlink`](https://docs.oracle.com/javase/9/tools/jlink.htm) were introduced along with new file formats for JMODs/`.jmod`s (ZIP-based) and JIMAGEs/`.jimage`s. \r\n\r\nA significant takeaway of this new module system is that the CLI tool `jlink` enables developers to build a custom JRE that contains only relevant standard library and external dependencies for their applications. This introduces a new notion of an optional *link time* phase between the traditional phases in the `compile time -&gt; run time` pipeline. \r\n\r\nFor an example of the advantages of using `jlink`, a minimalist JRE built from JDK 15 with only the `java.base` module comes out to roughly ~40MB in size, in stark juxtaposition to JDK 15&#39;s ~310MB size. This is especially useful for shipping a minimal custom JRE, such as for lean Docker images. The new module system brings significant benefits to the Java ecosystem that have been discussed at length elsewhere, and are thus not further elaborated in detail here. \r\n\r\n\r\n## The 3 J&#39;s: JARs, JMODs, and JIMAGEs\r\n\r\nThe high level description of a JARs, JMODs, and JIMAGEs do not quickly lend themselves to an explanation that strongly differentiates between the roles of the three file formats. Here is a non-exhaustive overview of the purposes of each:\r\n - **JARs:** The classical format based on the ZIP file format for bundling classes and resources into the classpath at *run time*. This is the de-facto mainstream standard set forth since JDK 1.1 in 1997. JARs can be added to the classpath with the `java` `-cp`/`-classpath` flags. Almost every library or dependency _has_, _is_, and _will_ be using this format, so it is glossed over in this section.\r\n\r\n - **JMODs:** A new format based on the ZIP file format for bundling the same contents that a JAR can contain, but with support for additional files (e.g. executables, native libraries, configurations, legal licenses, etc) that are consumed at the optional *link time* phase when building a custom JRE. JMODs are designed to be used at both compile time and link time, but _not_ at run time. This new format was likely introduced (instead of extending JARs) because there is a special meaning for directories within this new archive-based format that is _not_ backwards compatible with JARs that already use the same directory names. \r\n   - A JMOD can be constructed from a JAR module (i.e. contains a valid `module-info.class`) with the CLI tool [`jmod`](https://docs.oracle.com/javase/9/tools/jmod.htm). \r\n   - As of JDK 9 and onward, all Java standard modules are stored under `&lt;jdk&gt;/jmods` in a JDK installation. \r\n   - JMODs can be published for use by other developers and upstream applications; at the time of writing, I am unsure if JMODs may be pushed to Maven repositories, but various sources seem to indicate likely not for the time being. \r\n   - JMOD classes and resources _cannot_ be used at *run time* in the classpath with the `java` `-cp`/`-classpath` flags, as the classes and resources inside of the JMOD archive are stored under `classes` and not in the archive root.\r\n  &gt; Note: There may be a way to add easily JMODs to the classpath at *run time*; however, research did not explicitly state any functionality relating to this. Merely adding a JMOD to the classpath will not be sufficient for using the classes and resources. A custom [`ClassLoader`](https://docs.oracle.com/javase/9/docs/api/java/lang/ClassLoader.html) could be used to resolve class and resource files correctly in the JMOD archive at run time, however; this is generally not recommended and is not the purpose of JMODs.\r\n\r\n - **JIMAGEs**: A special file format introduced in &#39;[JEP 220: Modular Run-Time Images](http://openjdk.java.net/jeps/220)&#39; that is a *runtime* image containing all necessary classes and resources for a JRE (i.e. the standard library). Prior to JRE/JDK 9, a single large non-modular uber JAR was used, located at `&lt;jre&gt;/lib/rt.jar`; it has since been removed in favor of a single optimized JIMAGE stored located at `&lt;jre&gt;/lib/modules`. This format is _not_ based on the ZIP format and uses a custom format that is significantly more time and space efficient than the original legacy JAR format, reducing startup times.\r\n   - When building a custom JRE image with the CLI tool `jlink`, all relevant  (explicit or transistive) module dependencies&#39; classes and resources (from JAR modules or JMODs) are compiled into a single optimized JIMAGE file (again, stored under `&lt;jre&gt;/lib/modules`).\r\n   - The JIMAGE file format is modular and can be created, modified, disassembled, or inspected with the CLI tool `jimage`. E.g. `jimage list $JAVA_HOME/lib/modules`\r\n   - JIMAGEs should generally not be be published, but instead shipped with a specific custom JRE version; the file format may be subject to changes in the future.\r\n\r\n\r\n## The Substance: Detailed Purpose of JMOD\r\n\r\n\r\n### A New, Optional *Link Time* Phase\r\nAs stated a few times previously, the CLI tool [`jlink`](https://docs.oracle.com/javase/9/tools/jlink.htm) introduces a new optional stage in the normal Java pipeline - the ***link time phase***. This link time phase is used to generate a custom built JRE from a set of Java 9 modules (either a JAR with a `module-info.java` descriptor or a JMOD).\r\n\r\nThe high level stages are briefly described as follows:\r\n- **compile time** (`javac`): As described on the [`javac` documentation](https://docs.oracle.com/javase/9/tools/javac.htm), the compile time phase...\r\n  &gt; ...reads class and interface definitions, written in the Java programming language, and compiles them into bytecode class files. It can also process annotations in Java source files and classes.\r\n\r\n- **link time** (`jlink`): As described on &#39;[JEP 282: jlink: The Java Linker](https://openjdk.java.net/jeps/282)&#39;, the link time phase is...\r\n  &gt; ...an optional phase between the phases of compile time (the javac command) and run-time (the java run-time launcher). Link time requires a linking tool that will assemble and optimize a set of modules and their transitive dependencies to create a run-time image or executable.&lt;br&gt;&lt;br&gt;\r\n  &gt; Link time is an opportunity to do whole-world optimizations that are otherwise difficult at compile time or costly at run-time. An example would be to optimize a computation when all its inputs become constant (i.e., not unknown). A follow-up optimization would be to remove code that is no longer reachable.\r\n\r\n- **run time** (`java`): As described on the [`javac` documentation](https://docs.oracle.com/javase/9/tools/java.htm), the run time phase...\r\n  &gt; ...starts a Java application. It does this by starting the Java Runtime Environment (JRE), loading the specified class, and calling that class&#39;s main() method.\r\n\r\n### Introduction of JMODs\r\nDuring the link time phase, all classes and resources from modules (valid JAR modules or form JMODs&#39; `classes`) are compiled into a single optimized JIMAGE runtime image located at `&lt;jre&gt;/lib/modules`. Modules not explicitly or transitively included will _not_ be included into this final JIMAGE, saving a significant amount of space. However, when building a custom JRE, some additional files might be necessary inside of the JRE; e.g. executable commands or native libraries. For JAR modules, the story ends here - this is no way for a JAR to add files (beyond the classes included in the JIMAGE) into the built JRE without ambiguities.\r\n\r\nIntroducing JMODs: **JMODs have the ability to add additional files into the custom built JRE**; some examples (but not necessarily exhaustive): executable commands, configuration files, header files, legal notices and licenses, native libraries, and manual pages. This allows a module dependency to shape the built JRE in its own way. The behavior of how these additional files are inserted into the built JRE by the CLI tool `jlink` are documented within the next section.\r\n\r\nJMODs are destined for _solely_ for the compile time and link time phases, as described in &#39;[JEP 261: Module System](http://openjdk.java.net/jeps/261)&#39;:\r\n&gt; JMOD files can be used at compile time and link time, but not at run time. To support them at run time would require, in general, that we be prepared to extract and link native-code libraries on-the-fly. This is feasible on most platforms, though it can be very tricky, and we have not seen many use cases that require this capability, so for simplicity we have chosen to limit the utility of JMOD files in this release.\r\n\r\n\r\n### The New Format - No Backwards Compatibility with JARs\r\nA good question might be &quot;why not enable JARs to add link-time behavior?&quot;. A sneaking suspicion here is that this does not enable sufficient backwards-compatibility support with existing JARs and tooling. There is no specification for reserved filenames in the JAR archive file format. If an existing library stores any resources under the directories intended for link time, `jlink` could not accurately guess whether it is meant to be consumed during link time or needed at run time. A new file format specification with reserved directory names would resolve this clashing issue - such as the new JMOD format. With JMODs, there is no ambiguity about what resources are designated for link time and run time. Furthermore, the JMOD format can be also extended to add new functionalities in later JDK versions, without backwards-compatibility issues.\r\n\r\nThe JMOD file format is similar to a JAR in that it is based on the ZIP file format. A JMOD file has the following reserved directory names with the following behavior (this is not necessarily an exhaustive list!):\r\n- `bin` (`--cmds`): Executable commands that are copied to `&lt;jre&gt;/bin`\r\n- `classes` (`--class-path`): Intended for including into the final built JIMAGE, stored at `&lt;jre&gt;/lib/modules`\r\n- `conf` (`--config`): Additional configurations copied to `&lt;jre&gt;/conf`; likely used to control configuration for any bundled modules, if required\r\n- `include` (`--header-files`): Additional C header files that are copied to `&lt;jre&gt;/include/` for building C libraries for the JVM using JNI; e.g. in `java.base`, the JNI interfaces are exported\r\n- `legal` (`--legal-notices`): Legal notices and licenses for the module that are copied to `&lt;jre&gt;/legal/&lt;module name&gt;/`\r\n- `lib` (`--libs`): Native libraries that are copied to `&lt;jre&gt;/bin`\r\n\r\n&gt; For the curiously inclined, standard library JMODs (located under `$JAVA_HOME/jmods` in a JDK 9+) can be inspected with any application that reads ZIP archives.\r\n\r\n### Mainstream Support...?\r\nA significant part of the reason that JMODs have not been rapidly adopted and have poor documentation availability is that, quite simply put, they are not necessary for the vast majority of libraries and module dependencies. While they still are useful for specific use cases, modules should use the JAR format that already has mainstream support since it was defined with JDK 1.1 in 1997 (with `module-info.java` module support added with JDK 9 in 2017).\r\n\r\nFrom the documentation of the CLI tool [`jmod`](https://docs.oracle.com/en/java/javase/15/docs/specs/man/jmod.html): \r\n&gt; For most development tasks, including deploying modules on the module path or publishing them to a Maven repository, continue to package modules in modular JAR files. The jmod tool is intended for modules that have native libraries or other configuration files or for modules that you intend to link, with the jlink tool, to a runtime image.\r\n\r\n**An opinion**: JMODs will likely not gain any significant adoption by developers for at least a _very_ long time. Most developers will never hear or know the purpose of a JMOD - nor will they need to. JMODs serve a critical purpose behind the scenes for building JREs (all of the Java standard library modules are JMODs), but do not affect the vast majority of applications and projects due to their niche use case at link time. Java 9 was released in 2017 and dependencies in the Java ecosystem still struggle to reliably have a `module-info.class` descriptor to make a JAR a valid fully-fledged module...\r\n\r\n\r\n## Takeaways\r\n- JMODs are a fundamental new feature for creating JREs with the CLI tool `jlink` that enables customizing the custom built JRE with additional files.\r\n- Deploy JARs instead of JMODs, unless some features from JMODs are specifically needed. JAR modules are also compatible with `jlink`, so it is not necessary to ship a JMOD that only includes classes and resources. Ecosystem support and tooling is not necessarily going to adopt JMODs anytime soon and will certainly have compatibility issues for years to come.\r\n- Java documentation for this area of the ecosystem could _really_ use some improvement.\r\n\r\n&lt;hr&gt;\r\n\r\n# Disclaimer\r\nAt the time of writing this answer, there was sparse documentation on the purpose of JMODs for Java 9 and onward. In fact, the Google search phrases &quot;java jmods&quot; and &quot;jmod format&quot; bring this very same StackOverflow question as the second search hit result. Therefore, some aspects may not be accurately explained, but are generally &quot;directionally correct&quot;; furthermore, it may not paint the full picture. If you find any issues or caveats, leave a comment and I will try to reconcile it with this answer.\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Java_Platform_Module_System\r\n  [2]: https://en.m.wikipedia.org/wiki/Java_version_history#Java_9\r\n  [3]: https://en.m.wikipedia.org/wiki/Command-line_interface\r\n  [4]: https://openjdk.org/jeps/282\r\n  [5]: https://en.m.wikipedia.org/wiki/Java_(software_platform)#Java_Runtime_Environment\r\n  [6]: https://en.m.wikipedia.org/wiki/JAR_(file_format)","title":"Why did Java 9 introduce the JMOD file format?","body":"<p>The purpose of JMODs are not well documented and existing documentation is rather sparse. Here is an in-depth explanation of system, from my understanding.</p>\n<p>Parts of this answer are rather long, verbose, partially redundant, and a tough read. Constructive, structural, or grammatical edits are more than welcome to improve readability for future readers.</p>\n<hr>\n<h1>Short(er) Answer</h1>\n<p>The <a href=\"https://en.wikipedia.org/wiki/Java_Platform_Module_System\" rel=\"noreferrer\"><em>Java Platform Module System</em></a> (<a href=\"https://openjdk.java.net/projects/jigsaw/\" rel=\"noreferrer\"><em>Project Jigsaw</em></a>) in <a href=\"https://en.m.wikipedia.org/wiki/Java_version_history#Java_9\" rel=\"noreferrer\">Java 9</a>+ introduces the notion of a new optional <em>link time</em> phase. This phase occurs when using the <a href=\"https://en.m.wikipedia.org/wiki/Command-line_interface\" rel=\"noreferrer\">CLI</a> tool <a href=\"https://docs.oracle.com/javase/9/tools/jlink.htm\" rel=\"noreferrer\"><code>jlink</code></a> (<a href=\"https://openjdk.org/jeps/282\" rel=\"noreferrer\">JEP 282</a>) to build a custom space-optimized <a href=\"https://en.m.wikipedia.org/wiki/Java_(software_platform)#Java_Runtime_Environment\" rel=\"noreferrer\">JRE</a>.</p>\n<p>The <code>jlink</code> utility bundles all explicit/transitive <a href=\"https://en.m.wikipedia.org/wiki/JAR_(file_format)\" rel=\"noreferrer\">JAR</a> modules/JMOD dependencies into a minified JRE. All other unreachable dependencies in the dependency graph (starting from specified root modules) are omitted from the built JRE. As of JDK 9+, all of Java's standard library has been broken up into JMODs. These JMODs are located at <code>&lt;jdk&gt;/jmods</code>.</p>\n<p>Whereas JARs can only contain <code>.class</code> and resource files, JMODs (i.e. <code>.jmod</code> files) contain additional files that are consumed specifically in the new optional <em>link time</em> phase to customize the JRE (e.g. executables, native libraries, configurations, legal licenses, etc). These additional files are not available as resources at run time in the classpath, but are instead installed under various locations in the built JRE (e.g. executables and native libraries are placed under <code>&lt;jre&gt;/bin</code>). From the relevant bundled JARs and JMODs dependencies, classes and file resources will be written into a single optimized JIMAGE file, located at <code>&lt;jre&gt;/lib/modules</code> (replacing <code>&lt;jre&gt;/lib/rt.jar</code> in Java 8 and prior versions). The role of JMODs is at compile time and link time, and are <em>not</em> designed to be used at run time.</p>\n<p>For the average library/application, only JARs should be built and pushed, instead of JMODs; only under certain conditions will JMODs offer critical functionality that is needed during the <em>link time</em> phase. At the time of writing, Maven does not appear to offer strong support for JMODs beyond the alpha release plugin <a href=\"https://maven.apache.org/plugins/maven-jmod-plugin/\" rel=\"noreferrer\"><code>org.apache.maven.plugins:maven-jmod-plugin</code></a>.</p>\n<hr>\n<h1>Long Answer</h1>\n<p>This long-winded answer is more complexly motivated and sheds some light into how the new module system fundamentally operates. There is a strong emphasis throughout this post on the CLI tool <code>jlink</code>, since JMODs are designed specifically for this new optional <em>link time</em> phase that the tool introduces.</p>\n<h2>The Introduction of Project Jigsaw</h2>\n<p>Java 9 introduced <a href=\"https://openjdk.java.net/projects/jigsaw/\" rel=\"noreferrer\">Project Jigsaw</a> in '<a href=\"http://openjdk.java.net/jeps/261\" rel=\"noreferrer\">JEP 261: Module System</a>', a novel module system that can be used to minimize startup times and the size of JREs. As part of this release, the CLI utilities <a href=\"https://docs.oracle.com/javase/9/tools/jmod.htm\" rel=\"noreferrer\"><code>jmod</code></a>, <code>jimage</code>, and <a href=\"https://docs.oracle.com/javase/9/tools/jlink.htm\" rel=\"noreferrer\"><code>jlink</code></a> were introduced along with new file formats for JMODs/<code>.jmod</code>s (ZIP-based) and JIMAGEs/<code>.jimage</code>s.</p>\n<p>A significant takeaway of this new module system is that the CLI tool <code>jlink</code> enables developers to build a custom JRE that contains only relevant standard library and external dependencies for their applications. This introduces a new notion of an optional <em>link time</em> phase between the traditional phases in the <code>compile time -&gt; run time</code> pipeline.</p>\n<p>For an example of the advantages of using <code>jlink</code>, a minimalist JRE built from JDK 15 with only the <code>java.base</code> module comes out to roughly ~40MB in size, in stark juxtaposition to JDK 15's ~310MB size. This is especially useful for shipping a minimal custom JRE, such as for lean Docker images. The new module system brings significant benefits to the Java ecosystem that have been discussed at length elsewhere, and are thus not further elaborated in detail here.</p>\n<h2>The 3 J's: JARs, JMODs, and JIMAGEs</h2>\n<p>The high level description of a JARs, JMODs, and JIMAGEs do not quickly lend themselves to an explanation that strongly differentiates between the roles of the three file formats. Here is a non-exhaustive overview of the purposes of each:</p>\n<ul>\n<li><p><strong>JARs:</strong> The classical format based on the ZIP file format for bundling classes and resources into the classpath at <em>run time</em>. This is the de-facto mainstream standard set forth since JDK 1.1 in 1997. JARs can be added to the classpath with the <code>java</code> <code>-cp</code>/<code>-classpath</code> flags. Almost every library or dependency <em>has</em>, <em>is</em>, and <em>will</em> be using this format, so it is glossed over in this section.</p>\n</li>\n<li><p><strong>JMODs:</strong> A new format based on the ZIP file format for bundling the same contents that a JAR can contain, but with support for additional files (e.g. executables, native libraries, configurations, legal licenses, etc) that are consumed at the optional <em>link time</em> phase when building a custom JRE. JMODs are designed to be used at both compile time and link time, but <em>not</em> at run time. This new format was likely introduced (instead of extending JARs) because there is a special meaning for directories within this new archive-based format that is <em>not</em> backwards compatible with JARs that already use the same directory names.</p>\n<ul>\n<li>A JMOD can be constructed from a JAR module (i.e. contains a valid <code>module-info.class</code>) with the CLI tool <a href=\"https://docs.oracle.com/javase/9/tools/jmod.htm\" rel=\"noreferrer\"><code>jmod</code></a>.</li>\n<li>As of JDK 9 and onward, all Java standard modules are stored under <code>&lt;jdk&gt;/jmods</code> in a JDK installation.</li>\n<li>JMODs can be published for use by other developers and upstream applications; at the time of writing, I am unsure if JMODs may be pushed to Maven repositories, but various sources seem to indicate likely not for the time being.</li>\n<li>JMOD classes and resources <em>cannot</em> be used at <em>run time</em> in the classpath with the <code>java</code> <code>-cp</code>/<code>-classpath</code> flags, as the classes and resources inside of the JMOD archive are stored under <code>classes</code> and not in the archive root.</li>\n</ul>\n</li>\n</ul>\n<blockquote>\n<p>Note: There may be a way to add easily JMODs to the classpath at <em>run time</em>; however, research did not explicitly state any functionality relating to this. Merely adding a JMOD to the classpath will not be sufficient for using the classes and resources. A custom <a href=\"https://docs.oracle.com/javase/9/docs/api/java/lang/ClassLoader.html\" rel=\"noreferrer\"><code>ClassLoader</code></a> could be used to resolve class and resource files correctly in the JMOD archive at run time, however; this is generally not recommended and is not the purpose of JMODs.</p>\n</blockquote>\n<ul>\n<li><strong>JIMAGEs</strong>: A special file format introduced in '<a href=\"http://openjdk.java.net/jeps/220\" rel=\"noreferrer\">JEP 220: Modular Run-Time Images</a>' that is a <em>runtime</em> image containing all necessary classes and resources for a JRE (i.e. the standard library). Prior to JRE/JDK 9, a single large non-modular uber JAR was used, located at <code>&lt;jre&gt;/lib/rt.jar</code>; it has since been removed in favor of a single optimized JIMAGE stored located at <code>&lt;jre&gt;/lib/modules</code>. This format is <em>not</em> based on the ZIP format and uses a custom format that is significantly more time and space efficient than the original legacy JAR format, reducing startup times.\n<ul>\n<li>When building a custom JRE image with the CLI tool <code>jlink</code>, all relevant  (explicit or transistive) module dependencies' classes and resources (from JAR modules or JMODs) are compiled into a single optimized JIMAGE file (again, stored under <code>&lt;jre&gt;/lib/modules</code>).</li>\n<li>The JIMAGE file format is modular and can be created, modified, disassembled, or inspected with the CLI tool <code>jimage</code>. E.g. <code>jimage list $JAVA_HOME/lib/modules</code></li>\n<li>JIMAGEs should generally not be be published, but instead shipped with a specific custom JRE version; the file format may be subject to changes in the future.</li>\n</ul>\n</li>\n</ul>\n<h2>The Substance: Detailed Purpose of JMOD</h2>\n<h3>A New, Optional <em>Link Time</em> Phase</h3>\n<p>As stated a few times previously, the CLI tool <a href=\"https://docs.oracle.com/javase/9/tools/jlink.htm\" rel=\"noreferrer\"><code>jlink</code></a> introduces a new optional stage in the normal Java pipeline - the <em><strong>link time phase</strong></em>. This link time phase is used to generate a custom built JRE from a set of Java 9 modules (either a JAR with a <code>module-info.java</code> descriptor or a JMOD).</p>\n<p>The high level stages are briefly described as follows:</p>\n<ul>\n<li><p><strong>compile time</strong> (<code>javac</code>): As described on the <a href=\"https://docs.oracle.com/javase/9/tools/javac.htm\" rel=\"noreferrer\"><code>javac</code> documentation</a>, the compile time phase...</p>\n<blockquote>\n<p>...reads class and interface definitions, written in the Java programming language, and compiles them into bytecode class files. It can also process annotations in Java source files and classes.</p>\n</blockquote>\n</li>\n<li><p><strong>link time</strong> (<code>jlink</code>): As described on '<a href=\"https://openjdk.java.net/jeps/282\" rel=\"noreferrer\">JEP 282: jlink: The Java Linker</a>', the link time phase is...</p>\n<blockquote>\n<p>...an optional phase between the phases of compile time (the javac command) and run-time (the java run-time launcher). Link time requires a linking tool that will assemble and optimize a set of modules and their transitive dependencies to create a run-time image or executable.<br><br>\nLink time is an opportunity to do whole-world optimizations that are otherwise difficult at compile time or costly at run-time. An example would be to optimize a computation when all its inputs become constant (i.e., not unknown). A follow-up optimization would be to remove code that is no longer reachable.</p>\n</blockquote>\n</li>\n<li><p><strong>run time</strong> (<code>java</code>): As described on the <a href=\"https://docs.oracle.com/javase/9/tools/java.htm\" rel=\"noreferrer\"><code>javac</code> documentation</a>, the run time phase...</p>\n<blockquote>\n<p>...starts a Java application. It does this by starting the Java Runtime Environment (JRE), loading the specified class, and calling that class's main() method.</p>\n</blockquote>\n</li>\n</ul>\n<h3>Introduction of JMODs</h3>\n<p>During the link time phase, all classes and resources from modules (valid JAR modules or form JMODs' <code>classes</code>) are compiled into a single optimized JIMAGE runtime image located at <code>&lt;jre&gt;/lib/modules</code>. Modules not explicitly or transitively included will <em>not</em> be included into this final JIMAGE, saving a significant amount of space. However, when building a custom JRE, some additional files might be necessary inside of the JRE; e.g. executable commands or native libraries. For JAR modules, the story ends here - this is no way for a JAR to add files (beyond the classes included in the JIMAGE) into the built JRE without ambiguities.</p>\n<p>Introducing JMODs: <strong>JMODs have the ability to add additional files into the custom built JRE</strong>; some examples (but not necessarily exhaustive): executable commands, configuration files, header files, legal notices and licenses, native libraries, and manual pages. This allows a module dependency to shape the built JRE in its own way. The behavior of how these additional files are inserted into the built JRE by the CLI tool <code>jlink</code> are documented within the next section.</p>\n<p>JMODs are destined for <em>solely</em> for the compile time and link time phases, as described in '<a href=\"http://openjdk.java.net/jeps/261\" rel=\"noreferrer\">JEP 261: Module System</a>':</p>\n<blockquote>\n<p>JMOD files can be used at compile time and link time, but not at run time. To support them at run time would require, in general, that we be prepared to extract and link native-code libraries on-the-fly. This is feasible on most platforms, though it can be very tricky, and we have not seen many use cases that require this capability, so for simplicity we have chosen to limit the utility of JMOD files in this release.</p>\n</blockquote>\n<h3>The New Format - No Backwards Compatibility with JARs</h3>\n<p>A good question might be &quot;why not enable JARs to add link-time behavior?&quot;. A sneaking suspicion here is that this does not enable sufficient backwards-compatibility support with existing JARs and tooling. There is no specification for reserved filenames in the JAR archive file format. If an existing library stores any resources under the directories intended for link time, <code>jlink</code> could not accurately guess whether it is meant to be consumed during link time or needed at run time. A new file format specification with reserved directory names would resolve this clashing issue - such as the new JMOD format. With JMODs, there is no ambiguity about what resources are designated for link time and run time. Furthermore, the JMOD format can be also extended to add new functionalities in later JDK versions, without backwards-compatibility issues.</p>\n<p>The JMOD file format is similar to a JAR in that it is based on the ZIP file format. A JMOD file has the following reserved directory names with the following behavior (this is not necessarily an exhaustive list!):</p>\n<ul>\n<li><code>bin</code> (<code>--cmds</code>): Executable commands that are copied to <code>&lt;jre&gt;/bin</code></li>\n<li><code>classes</code> (<code>--class-path</code>): Intended for including into the final built JIMAGE, stored at <code>&lt;jre&gt;/lib/modules</code></li>\n<li><code>conf</code> (<code>--config</code>): Additional configurations copied to <code>&lt;jre&gt;/conf</code>; likely used to control configuration for any bundled modules, if required</li>\n<li><code>include</code> (<code>--header-files</code>): Additional C header files that are copied to <code>&lt;jre&gt;/include/</code> for building C libraries for the JVM using JNI; e.g. in <code>java.base</code>, the JNI interfaces are exported</li>\n<li><code>legal</code> (<code>--legal-notices</code>): Legal notices and licenses for the module that are copied to <code>&lt;jre&gt;/legal/&lt;module name&gt;/</code></li>\n<li><code>lib</code> (<code>--libs</code>): Native libraries that are copied to <code>&lt;jre&gt;/bin</code></li>\n</ul>\n<blockquote>\n<p>For the curiously inclined, standard library JMODs (located under <code>$JAVA_HOME/jmods</code> in a JDK 9+) can be inspected with any application that reads ZIP archives.</p>\n</blockquote>\n<h3>Mainstream Support...?</h3>\n<p>A significant part of the reason that JMODs have not been rapidly adopted and have poor documentation availability is that, quite simply put, they are not necessary for the vast majority of libraries and module dependencies. While they still are useful for specific use cases, modules should use the JAR format that already has mainstream support since it was defined with JDK 1.1 in 1997 (with <code>module-info.java</code> module support added with JDK 9 in 2017).</p>\n<p>From the documentation of the CLI tool <a href=\"https://docs.oracle.com/en/java/javase/15/docs/specs/man/jmod.html\" rel=\"noreferrer\"><code>jmod</code></a>:</p>\n<blockquote>\n<p>For most development tasks, including deploying modules on the module path or publishing them to a Maven repository, continue to package modules in modular JAR files. The jmod tool is intended for modules that have native libraries or other configuration files or for modules that you intend to link, with the jlink tool, to a runtime image.</p>\n</blockquote>\n<p><strong>An opinion</strong>: JMODs will likely not gain any significant adoption by developers for at least a <em>very</em> long time. Most developers will never hear or know the purpose of a JMOD - nor will they need to. JMODs serve a critical purpose behind the scenes for building JREs (all of the Java standard library modules are JMODs), but do not affect the vast majority of applications and projects due to their niche use case at link time. Java 9 was released in 2017 and dependencies in the Java ecosystem still struggle to reliably have a <code>module-info.class</code> descriptor to make a JAR a valid fully-fledged module...</p>\n<h2>Takeaways</h2>\n<ul>\n<li>JMODs are a fundamental new feature for creating JREs with the CLI tool <code>jlink</code> that enables customizing the custom built JRE with additional files.</li>\n<li>Deploy JARs instead of JMODs, unless some features from JMODs are specifically needed. JAR modules are also compatible with <code>jlink</code>, so it is not necessary to ship a JMOD that only includes classes and resources. Ecosystem support and tooling is not necessarily going to adopt JMODs anytime soon and will certainly have compatibility issues for years to come.</li>\n<li>Java documentation for this area of the ecosystem could <em>really</em> use some improvement.</li>\n</ul>\n<hr>\n<h1>Disclaimer</h1>\n<p>At the time of writing this answer, there was sparse documentation on the purpose of JMODs for Java 9 and onward. In fact, the Google search phrases &quot;java jmods&quot; and &quot;jmod format&quot; bring this very same StackOverflow question as the second search hit result. Therefore, some aspects may not be accurately explained, but are generally &quot;directionally correct&quot;; furthermore, it may not paint the full picture. If you find any issues or caveats, leave a comment and I will try to reconcile it with this answer.</p>\n"}],"owner":{"account_id":195439,"reputation":60926,"user_id":438319,"accept_rate":73,"display_name":"ams"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":22604,"favorite_count":0,"down_vote_count":0,"up_vote_count":87,"accepted_answer_id":64202720,"answer_count":2,"score":87,"last_activity_date":1673256901,"creation_date":1498280198,"question_id":44732915,"body_markdown":"Java 9 has three ways to package compiled code in files:\r\n\r\n - JAR\r\n - JMOD\r\n - JIMAGE \r\n\r\nJIMAGE is optimized for speed and space and used by the JVM at runtime so it makes sense why JIMAGE was introduced. JIMAGE files are not supposed to be published to maven repos or used at compile or link time. \r\n\r\nThe docs claim that JMOD can store native code and other things that can&#39;t be stored by JAR files and that developers can make and distribute their own JMOD files. The JDK ships with `jmods/` directory containing all the modules of the JDK for users to depend on. \r\n\r\n**Questions:** \r\n\r\n - Why did Java 9 introduce the JMOD file format?\r\n - Should a library author distribute a JMOD file or a JAR file or both? \r\n - Should jmod files be published to maven repos? \r\n\r\n","title":"Why did Java 9 introduce the JMOD file format?","body":"<p>Java 9 has three ways to package compiled code in files:</p>\n\n<ul>\n<li>JAR</li>\n<li>JMOD</li>\n<li>JIMAGE </li>\n</ul>\n\n<p>JIMAGE is optimized for speed and space and used by the JVM at runtime so it makes sense why JIMAGE was introduced. JIMAGE files are not supposed to be published to maven repos or used at compile or link time. </p>\n\n<p>The docs claim that JMOD can store native code and other things that can't be stored by JAR files and that developers can make and distribute their own JMOD files. The JDK ships with <code>jmods/</code> directory containing all the modules of the JDK for users to depend on. </p>\n\n<p><strong>Questions:</strong> </p>\n\n<ul>\n<li>Why did Java 9 introduce the JMOD file format?</li>\n<li>Should a library author distribute a JMOD file or a JAR file or both? </li>\n<li>Should jmod files be published to maven repos? </li>\n</ul>\n"},{"tags":["java","callback"],"answers":[{"tags":[],"owner":{"account_id":7247195,"reputation":742,"user_id":5528725,"accept_rate":60,"display_name":"Thomas W."},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1673256322,"creation_date":1673254367,"answer_id":75054936,"question_id":75053100,"body_markdown":"From a functional programing perspective you solve this with currying. Meaning your function return another function. You can pass the Function to methods (or other functions).\r\n\r\nHere is your example with currying:\r\n\r\n    import java.util.function.Function;\r\n    \r\n    public class A {\r\n    \r\n        public static Function&lt;Double, Function&lt;Double, Function&lt;Double, Double&gt;&gt;&gt; plus = a -&gt; b -&gt; c -&gt; a + b + c;\r\n        public static Function&lt;Double, Function&lt;Double, Function&lt;Double, Double&gt;&gt;&gt; multiply = a -&gt; b -&gt; c -&gt; a * b * c;\r\n    \r\n        public static double doMath(double a, double b, double c, Function&lt;Double, Function&lt;Double, Function&lt;Double, Double&gt;&gt;&gt; calc) {\r\n            return calc.apply(a).apply(b).apply(c);\r\n        }\r\n\r\n        public static void main(String[] args) {\r\n            System.out.println(&quot;Plus:     &quot; + doMath(2, 3, 4, plus));\r\n            System.out.println(&quot;Multiply: &quot; + doMath(2, 3, 4, multiply));\r\n        }\r\n    }\r\n","title":"Callback with 3 parameters","body":"<p>From a functional programing perspective you solve this with currying. Meaning your function return another function. You can pass the Function to methods (or other functions).</p>\n<p>Here is your example with currying:</p>\n<pre><code>import java.util.function.Function;\n\npublic class A {\n\n    public static Function&lt;Double, Function&lt;Double, Function&lt;Double, Double&gt;&gt;&gt; plus = a -&gt; b -&gt; c -&gt; a + b + c;\n    public static Function&lt;Double, Function&lt;Double, Function&lt;Double, Double&gt;&gt;&gt; multiply = a -&gt; b -&gt; c -&gt; a * b * c;\n\n    public static double doMath(double a, double b, double c, Function&lt;Double, Function&lt;Double, Function&lt;Double, Double&gt;&gt;&gt; calc) {\n        return calc.apply(a).apply(b).apply(c);\n    }\n\n    public static void main(String[] args) {\n        System.out.println(&quot;Plus:     &quot; + doMath(2, 3, 4, plus));\n        System.out.println(&quot;Multiply: &quot; + doMath(2, 3, 4, multiply));\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1673254802,"creation_date":1673254802,"answer_id":75055004,"question_id":75053100,"body_markdown":"Just create your own `TriFunction` functional interface. Let&#39;s keep it simple and omit all the default methods for now:\r\n\r\n```java\r\n@FunctionalInterface\r\ninterface TriFunction&lt;T, U, V, R&gt; {\r\n\r\n    R apply(T t, U u, V v);\r\n}\r\n```\r\nThe annotation is optional, but it will cause a compiler error if you add another non-default method.","title":"Callback with 3 parameters","body":"<p>Just create your own <code>TriFunction</code> functional interface. Let's keep it simple and omit all the default methods for now:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@FunctionalInterface\ninterface TriFunction&lt;T, U, V, R&gt; {\n\n    R apply(T t, U u, V v);\n}\n</code></pre>\n<p>The annotation is optional, but it will cause a compiler error if you add another non-default method.</p>\n"}],"owner":{"account_id":19529,"reputation":31895,"user_id":45843,"accept_rate":91,"display_name":"rwallace"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":196,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75055004,"answer_count":2,"score":0,"last_activity_date":1673256322,"creation_date":1673237207,"question_id":75053100,"body_markdown":"In modern Java, using a callback (a.k.a. function reference a.k.a. function pointer) with up to two parameters is pleasantly easy and straightforward. Example:\r\n\r\n\tclass a {\r\n\t  public static Object plus(Object a, Object b) {\r\n\t    return (Double) a + (Double) b;\r\n\t  }\r\n\t\r\n\t  public static void main(String[] args) {\r\n\t    BiFunction&lt;Object, Object, Object&gt; f = a::plus;\r\n\t    System.out.println(f.apply(2.0, 3.0));\r\n\t  }\r\n\t}\r\n\r\n(The parameters and return value can be typed, though they have to be object references, not primitives.)\r\n\r\nThe compiler directly knows about `java.util.function.BiFunction` and its smaller kin, as can be seen in the disassembly of the above `main`:\r\n\r\n         0: invokedynamic #17,  0             // InvokeDynamic #0:apply:()Ljava/util/function/BiFunction;\r\n         5: astore_1\r\n         6: getstatic     #21                 // Field java/lang/System.out:Ljava/io/PrintStream;\r\n         9: aload_1\r\n        10: ldc2_w        #27                 // double 2.0d\r\n        13: invokestatic  #13                 // Method java/lang/Double.valueOf:(D)Ljava/lang/Double;\r\n        16: ldc2_w        #29                 // double 3.0d\r\n        19: invokestatic  #13                 // Method java/lang/Double.valueOf:(D)Ljava/lang/Double;\r\n        22: invokeinterface #31,  3           // InterfaceMethod java/util/function/BiFunction.apply:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;\r\n        27: invokevirtual #36                 // Method java/io/PrintStream.println:(Ljava/lang/Object;)V\r\n        30: return\r\n\r\nThere is, however, no `java.util.function.TriFunction`.\r\n\r\nHow do you set up a callback with three parameters?","title":"Callback with 3 parameters","body":"<p>In modern Java, using a callback (a.k.a. function reference a.k.a. function pointer) with up to two parameters is pleasantly easy and straightforward. Example:</p>\n<pre><code>class a {\n  public static Object plus(Object a, Object b) {\n    return (Double) a + (Double) b;\n  }\n\n  public static void main(String[] args) {\n    BiFunction&lt;Object, Object, Object&gt; f = a::plus;\n    System.out.println(f.apply(2.0, 3.0));\n  }\n}\n</code></pre>\n<p>(The parameters and return value can be typed, though they have to be object references, not primitives.)</p>\n<p>The compiler directly knows about <code>java.util.function.BiFunction</code> and its smaller kin, as can be seen in the disassembly of the above <code>main</code>:</p>\n<pre><code>     0: invokedynamic #17,  0             // InvokeDynamic #0:apply:()Ljava/util/function/BiFunction;\n     5: astore_1\n     6: getstatic     #21                 // Field java/lang/System.out:Ljava/io/PrintStream;\n     9: aload_1\n    10: ldc2_w        #27                 // double 2.0d\n    13: invokestatic  #13                 // Method java/lang/Double.valueOf:(D)Ljava/lang/Double;\n    16: ldc2_w        #29                 // double 3.0d\n    19: invokestatic  #13                 // Method java/lang/Double.valueOf:(D)Ljava/lang/Double;\n    22: invokeinterface #31,  3           // InterfaceMethod java/util/function/BiFunction.apply:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;\n    27: invokevirtual #36                 // Method java/io/PrintStream.println:(Ljava/lang/Object;)V\n    30: return\n</code></pre>\n<p>There is, however, no <code>java.util.function.TriFunction</code>.</p>\n<p>How do you set up a callback with three parameters?</p>\n"},{"tags":["java","spring-boot","maven","junit","jaxb"],"comments":[{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":1,"creation_date":1673190374,"post_id":75048741,"comment_id":132437824,"body_markdown":"You never read from the file. Your code attempts to parse the file name as xml.","body":"You never read from the file. Your code attempts to parse the file name as xml."},{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":0,"creation_date":1673190404,"post_id":75048741,"comment_id":132437835,"body_markdown":"Also: Please post you code as text, not as screenshots.","body":"Also: Please post you code as text, not as screenshots."},{"owner":{"account_id":16211352,"reputation":4324,"user_id":11713777,"display_name":"dariosicily"},"score":0,"creation_date":1673194709,"post_id":75048741,"comment_id":132438749,"body_markdown":"Please include also the xml you are using for test.","body":"Please include also the xml you are using for test."}],"answers":[{"comments":[{"owner":{"account_id":27180609,"reputation":19,"user_id":20715915,"display_name":"SGP"},"score":0,"creation_date":1673251451,"post_id":75050461,"comment_id":132447699,"body_markdown":"I&#39;m getting an error like this &quot;Exception in thread &quot;main&quot; com.sun.xml.bind.v2.runtime.IllegalAnnotationsException: 8 counts of IllegalAnnotationExceptions\nThere are two properties named &quot;author&quot; &quot;\nEven after making only one author.","body":"I&#39;m getting an error like this &quot;Exception in thread &quot;main&quot; com.sun.xml.bind.v2.runtime.IllegalAnnotationsException: 8 counts of IllegalAnnotationExceptions There are two properties named &quot;author&quot; &quot; Even after making only one author."},{"owner":{"account_id":16211352,"reputation":4324,"user_id":11713777,"display_name":"dariosicily"},"score":0,"creation_date":1673255454,"post_id":75050461,"comment_id":132448798,"body_markdown":"@SGP, I added pom for clarity, the code works without problems on my side.","body":"@SGP, I added pom for clarity, the code works without problems on my side."}],"tags":[],"owner":{"account_id":16211352,"reputation":4324,"user_id":11713777,"display_name":"dariosicily"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673255313,"creation_date":1673203918,"answer_id":75050461,"question_id":75048741,"body_markdown":"Taking the xml you are using for tests (I omitted non significative tags from code, up to you integrate them):\r\n\r\n~~~\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;yes&quot;?&gt;\r\n&lt;ns2:bookStore xmlns:ns2=&quot;com.zetcode&quot;&gt;\r\n    &lt;bookList&gt;\r\n        &lt;book AuthorName=&quot;Neil Strauss&quot;&gt;\r\n            &lt;title&gt;The Game&lt;/title&gt;\r\n            &lt;publisher&gt;Harpercollins&lt;/publisher&gt;\r\n            &lt;isbn&gt;978-0060554736&lt;/isbn&gt;\r\n        &lt;/book&gt;\r\n        &lt;book AuthorName=&quot;Charlotte Roche&quot;&gt;\r\n            &lt;title&gt;Feuchtgebiete&lt;/title&gt;\r\n            &lt;publisher&gt;Dumont Buchverlag&lt;/publisher&gt;\r\n            &lt;isbn&gt;978-3832180577&lt;/isbn&gt;\r\n        &lt;/book&gt;\r\n    &lt;/bookList&gt;\r\n    &lt;location&gt;Livres belles&lt;/location&gt;\r\n    &lt;name&gt;Fraport Bookstore&lt;/name&gt;\r\n&lt;/ns2:bookStore&gt;\r\n~~~\r\n\r\nThe first problem is about the presence of `&lt;ns2:bookStore xmlns:ns2=&quot;com.zetcode&quot;&gt;` tag, you have to define a `BookStore`wrapper class matching the `&lt;bookStore&gt;` tag to wrap the `&lt;bookList&gt;` tag using the [`XmlRootElement`](https://docs.oracle.com/javase/7/docs/api/javax/xml/bind/annotation/XmlRootElement.html) annotation:\r\n\r\n~~~\r\n@Data //&lt;--lombok annotation\r\n@XmlRootElement(name=&quot;bookStore&quot;, namespace = &quot;com.zetcode&quot;)\r\n@XmlAccessorType(XmlAccessType.FIELD) //&lt;-- used for permit access to fields\r\npublic class BookStore {\r\n\r\n    public BookList bookList;\r\n}\r\n~~~  \r\nYou have to repeat the same process for the `bookList` tag being aware it contains a list of books with the help of the [`XmlElement`](https://docs.oracle.com/javase/7/docs/api/javax/xml/bind/annotation/XmlElement.html) annotation which specifies every book is an element of the list:\r\n\r\n~~~\r\n@Data \r\n@XmlRootElement(name=&quot;bookList&quot;)\r\n@XmlAccessorType(XmlAccessType.FIELD)\r\npublic class BookList {\r\n\r\n    @XmlElement(name = &quot;book&quot;)\r\n    private List&lt;Book&gt; books;   \r\n}\r\n\r\n@Data\r\n@XmlRootElement(name = &quot;book&quot;)\r\n@XmlAccessorType(XmlAccessType.FIELD)\r\n@XmlType(propOrder = {&quot;author&quot;, &quot;name&quot;, &quot;publisher&quot;, &quot;isbn&quot;})\r\npublic class Book {\r\n\r\n    private String name;\r\n    private String author;\r\n    private String publisher;\r\n    private String isbn;\r\n}\r\n~~~\r\n\r\nThen you can verify that everything is ok unmarshalling and marshalling the xml, printing it to the stdout :\r\n\r\n~~~\r\npublic class JaxbMain {\r\n\r\n    public static void main(String[] args) throws JAXBException {\r\n        File xml = new File(&quot;msg.xml&quot;);\r\n        //unmarshalling the xml\r\n        JAXBContext jc = JAXBContext.newInstance(BookStore.class);\r\n        Unmarshaller unmarshaller = jc.createUnmarshaller();\r\n        BookStore bookStore = (BookStore) unmarshaller.unmarshal(xml);\r\n\r\n        //marshalling the xml to the stdout\r\n        Marshaller marshaller = jc.createMarshaller();\r\n        marshaller.setProperty(Marshaller.JAXB_FORMATTED_OUTPUT, true);\r\n        //ok it prints the same xml\r\n        marshaller.marshal(bookStore, System.out);\r\n    }\r\n}\r\n~~~\r\n\r\nPom.xml:\r\n~~~\r\n&lt;dependencies&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\r\n        &lt;version&gt;2.3.1&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jaxb-impl&lt;/artifactId&gt;\r\n        &lt;version&gt;2.3.4&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n        &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n        &lt;version&gt;1.18.20&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n&lt;/dependencies&gt;\r\n~~~","title":"The output is showing error when I convert xml into java object using JAXBException","body":"<p>Taking the xml you are using for tests (I omitted non significative tags from code, up to you integrate them):</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;yes&quot;?&gt;\n&lt;ns2:bookStore xmlns:ns2=&quot;com.zetcode&quot;&gt;\n    &lt;bookList&gt;\n        &lt;book AuthorName=&quot;Neil Strauss&quot;&gt;\n            &lt;title&gt;The Game&lt;/title&gt;\n            &lt;publisher&gt;Harpercollins&lt;/publisher&gt;\n            &lt;isbn&gt;978-0060554736&lt;/isbn&gt;\n        &lt;/book&gt;\n        &lt;book AuthorName=&quot;Charlotte Roche&quot;&gt;\n            &lt;title&gt;Feuchtgebiete&lt;/title&gt;\n            &lt;publisher&gt;Dumont Buchverlag&lt;/publisher&gt;\n            &lt;isbn&gt;978-3832180577&lt;/isbn&gt;\n        &lt;/book&gt;\n    &lt;/bookList&gt;\n    &lt;location&gt;Livres belles&lt;/location&gt;\n    &lt;name&gt;Fraport Bookstore&lt;/name&gt;\n&lt;/ns2:bookStore&gt;\n</code></pre>\n<p>The first problem is about the presence of <code>&lt;ns2:bookStore xmlns:ns2=&quot;com.zetcode&quot;&gt;</code> tag, you have to define a <code>BookStore</code>wrapper class matching the <code>&lt;bookStore&gt;</code> tag to wrap the <code>&lt;bookList&gt;</code> tag using the <a href=\"https://docs.oracle.com/javase/7/docs/api/javax/xml/bind/annotation/XmlRootElement.html\" rel=\"nofollow noreferrer\"><code>XmlRootElement</code></a> annotation:</p>\n<pre><code>@Data //&lt;--lombok annotation\n@XmlRootElement(name=&quot;bookStore&quot;, namespace = &quot;com.zetcode&quot;)\n@XmlAccessorType(XmlAccessType.FIELD) //&lt;-- used for permit access to fields\npublic class BookStore {\n\n    public BookList bookList;\n}\n</code></pre>\n<p>You have to repeat the same process for the <code>bookList</code> tag being aware it contains a list of books with the help of the <a href=\"https://docs.oracle.com/javase/7/docs/api/javax/xml/bind/annotation/XmlElement.html\" rel=\"nofollow noreferrer\"><code>XmlElement</code></a> annotation which specifies every book is an element of the list:</p>\n<pre><code>@Data \n@XmlRootElement(name=&quot;bookList&quot;)\n@XmlAccessorType(XmlAccessType.FIELD)\npublic class BookList {\n\n    @XmlElement(name = &quot;book&quot;)\n    private List&lt;Book&gt; books;   \n}\n\n@Data\n@XmlRootElement(name = &quot;book&quot;)\n@XmlAccessorType(XmlAccessType.FIELD)\n@XmlType(propOrder = {&quot;author&quot;, &quot;name&quot;, &quot;publisher&quot;, &quot;isbn&quot;})\npublic class Book {\n\n    private String name;\n    private String author;\n    private String publisher;\n    private String isbn;\n}\n</code></pre>\n<p>Then you can verify that everything is ok unmarshalling and marshalling the xml, printing it to the stdout :</p>\n<pre><code>public class JaxbMain {\n\n    public static void main(String[] args) throws JAXBException {\n        File xml = new File(&quot;msg.xml&quot;);\n        //unmarshalling the xml\n        JAXBContext jc = JAXBContext.newInstance(BookStore.class);\n        Unmarshaller unmarshaller = jc.createUnmarshaller();\n        BookStore bookStore = (BookStore) unmarshaller.unmarshal(xml);\n\n        //marshalling the xml to the stdout\n        Marshaller marshaller = jc.createMarshaller();\n        marshaller.setProperty(Marshaller.JAXB_FORMATTED_OUTPUT, true);\n        //ok it prints the same xml\n        marshaller.marshal(bookStore, System.out);\n    }\n}\n</code></pre>\n<p>Pom.xml:</p>\n<pre><code>&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\n        &lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\n        &lt;version&gt;2.3.1&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\n        &lt;artifactId&gt;jaxb-impl&lt;/artifactId&gt;\n        &lt;version&gt;2.3.4&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n        &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n        &lt;version&gt;1.18.20&lt;/version&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n"}],"owner":{"account_id":27180609,"reputation":19,"user_id":20715915,"display_name":"SGP"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":335,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1673255313,"creation_date":1673189679,"question_id":75048741,"body_markdown":"In src/main/java, I have POJO classes and in src/test/resource I have XML file. I&#39;m writing a Junit test case where I have to parse the XML file into POJOs using JAXBException and then I have to check whether the variables are null or not.\r\n\r\nI created a test class and added the asseertNotNull statement but after running the code as &quot;Junit test&quot; I&#39;m getting some errors.\r\n\r\nJava Class :-\r\n\r\n    package com.examples.demo;\r\n\r\n    import javax.xml.bind.annotation.XmlAttribute;\r\n    import javax.xml.bind.annotation.XmlElement;\r\n    import javax.xml.bind.annotation.XmlRootElement;\r\n    import javax.xml.bind.annotation.XmlType;\r\n\r\n    @XmlRootElement(name = &quot;book&quot;)\r\n\r\n    // Defining order\r\n    @XmlType(propOrder = { &quot;author&quot;, &quot;name&quot;, &quot;publisher&quot;, &quot;isbn&quot; })\r\n    public class Book {\r\n\r\n\t    private String name;\r\n\t    private String author;\r\n\t    private String publisher;\r\n\t    private String isbn;\r\n\r\n\t    // Changing to title\r\n\t    @XmlElement(name = &quot;title&quot;)\r\n\t    public String getName() {\r\n\t\t    return name;\r\n\t    }\r\n\r\n\t    public void setName(String name) {\r\n\t\t    this.name = name;\r\n\t    }\r\n\r\n\t    @XmlAttribute(name = &quot;AuthorName&quot;)\r\n\t    public String getAuthor() {\r\n\t\t    return author;\r\n\t    }\r\n\r\n\t    public void setAuthor(String author) {\r\n\t\t    this.author = author;\r\n\t    }\r\n\r\n\t    @XmlElement(name = &quot;publisher&quot;)\r\n\t    public String getPublisher() {\r\n\t\t    return publisher;\r\n\t    }\r\n\r\n\t    public void setPublisher(String publisher) {\r\n\t\t    this.publisher = publisher;\r\n\t    }\r\n\r\n\t    @XmlElement(name = &quot;isbn&quot;)\r\n\t    public String getIsbn() {\r\n\t\t    return isbn;\r\n\t    }\r\n\r\n\t    public void setIsbn(String isbn) {\r\n\t\t    this.isbn = isbn;\r\n\t    }\r\n\r\n\t    @Override\r\n\t    public String toString() {\r\n\t\t    final StringBuilder sb = new StringBuilder(&quot;Book{&quot;);\r\n\t\t    sb.append(&quot;name=&#39;&quot;).append(name).append(&#39;\\&#39;&#39;);\r\n\t\t    sb.append(&quot;, author=&#39;&quot;).append(author).append(&#39;\\&#39;&#39;);\r\n\t\t    sb.append(&quot;, publisher=&#39;&quot;).append(publisher).append(&#39;\\&#39;&#39;);\r\n\t\t    sb.append(&quot;, isbn=&#39;&quot;).append(isbn).append(&#39;\\&#39;&#39;);\r\n\t\t    sb.append(&#39;}&#39;);\r\n\t\t    return sb.toString();\r\n\t    }\r\n    }\r\n\r\n\r\nTest Class :-\r\n\r\n    package com.examples.demo;\r\n\r\n    import static org.junit.jupiter.api.Assertions.assertNotNull;\r\n\r\n    import java.io.IOException;\r\n    import java.io.StringReader;\r\n\r\n    import javax.xml.bind.JAXBException;\r\n\r\n    import org.junit.jupiter.api.Test;\r\n\r\n    import jakarta.xml.bind.JAXBContext;\r\n\r\n    public class BookTest {\r\n\r\n\t    private static final String BOOKSTORE_XML = &quot;src/test/resources/bookstore.xml&quot;;\r\n\r\n\t    @Test\r\n\t    public void oneDemo() throws JAXBException, IOException, jakarta.xml.bind.JAXBException {\r\n\t\t    JAXBContext context = JAXBContext.newInstance(BookStore.class);\r\n\t\t    BookStore bookStore = (BookStore) context.createUnmarshaller().unmarshal(new StringReader(BOOKSTORE_XML));\r\n\r\n\t\t    String name = bookStore.getName();\r\n\t\tassertNotNull(name);\r\n\r\n\t    }\r\n\r\n    }\r\n\r\nXML file :-\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;yes&quot;?&gt;\r\n    &lt;ns2:bookStore xmlns:ns2=&quot;com.zetcode&quot;&gt;\r\n        &lt;bookList&gt;\r\n            &lt;book AuthorName=&quot;Neil Strauss&quot;&gt;\r\n                &lt;title&gt;The Game&lt;/title&gt;\r\n                &lt;publisher&gt;Harpercollins&lt;/publisher&gt;\r\n                &lt;isbn&gt;978-0060554736&lt;/isbn&gt;\r\n            &lt;/book&gt;\r\n            &lt;book AuthorName=&quot;Charlotte Roche&quot;&gt;\r\n                &lt;title&gt;Feuchtgebiete&lt;/title&gt;\r\n                &lt;publisher&gt;Dumont Buchverlag&lt;/publisher&gt;\r\n                &lt;isbn&gt;978-3832180577&lt;/isbn&gt;\r\n            &lt;/book&gt;\r\n        &lt;/bookList&gt;\r\n        &lt;location&gt;Livres belles&lt;/location&gt;\r\n        &lt;name&gt;Fraport Bookstore&lt;/name&gt;\r\n    &lt;/ns2:bookStore&gt;\r\n\r\n\r\n\r\n[![errors](https://i.stack.imgur.com/9ttvB.png)](https://i.stack.imgur.com/9ttvB.png)\r\n\r\n\r\n\r\nHow to solve this? please help me\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/eS3gM.png","title":"The output is showing error when I convert xml into java object using JAXBException","body":"<p>In src/main/java, I have POJO classes and in src/test/resource I have XML file. I'm writing a Junit test case where I have to parse the XML file into POJOs using JAXBException and then I have to check whether the variables are null or not.</p>\n<p>I created a test class and added the asseertNotNull statement but after running the code as &quot;Junit test&quot; I'm getting some errors.</p>\n<p>Java Class :-</p>\n<pre><code>package com.examples.demo;\n\nimport javax.xml.bind.annotation.XmlAttribute;\nimport javax.xml.bind.annotation.XmlElement;\nimport javax.xml.bind.annotation.XmlRootElement;\nimport javax.xml.bind.annotation.XmlType;\n\n@XmlRootElement(name = &quot;book&quot;)\n\n// Defining order\n@XmlType(propOrder = { &quot;author&quot;, &quot;name&quot;, &quot;publisher&quot;, &quot;isbn&quot; })\npublic class Book {\n\n    private String name;\n    private String author;\n    private String publisher;\n    private String isbn;\n\n    // Changing to title\n    @XmlElement(name = &quot;title&quot;)\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    @XmlAttribute(name = &quot;AuthorName&quot;)\n    public String getAuthor() {\n        return author;\n    }\n\n    public void setAuthor(String author) {\n        this.author = author;\n    }\n\n    @XmlElement(name = &quot;publisher&quot;)\n    public String getPublisher() {\n        return publisher;\n    }\n\n    public void setPublisher(String publisher) {\n        this.publisher = publisher;\n    }\n\n    @XmlElement(name = &quot;isbn&quot;)\n    public String getIsbn() {\n        return isbn;\n    }\n\n    public void setIsbn(String isbn) {\n        this.isbn = isbn;\n    }\n\n    @Override\n    public String toString() {\n        final StringBuilder sb = new StringBuilder(&quot;Book{&quot;);\n        sb.append(&quot;name='&quot;).append(name).append('\\'');\n        sb.append(&quot;, author='&quot;).append(author).append('\\'');\n        sb.append(&quot;, publisher='&quot;).append(publisher).append('\\'');\n        sb.append(&quot;, isbn='&quot;).append(isbn).append('\\'');\n        sb.append('}');\n        return sb.toString();\n    }\n}\n</code></pre>\n<p>Test Class :-</p>\n<pre><code>package com.examples.demo;\n\nimport static org.junit.jupiter.api.Assertions.assertNotNull;\n\nimport java.io.IOException;\nimport java.io.StringReader;\n\nimport javax.xml.bind.JAXBException;\n\nimport org.junit.jupiter.api.Test;\n\nimport jakarta.xml.bind.JAXBContext;\n\npublic class BookTest {\n\n    private static final String BOOKSTORE_XML = &quot;src/test/resources/bookstore.xml&quot;;\n\n    @Test\n    public void oneDemo() throws JAXBException, IOException, jakarta.xml.bind.JAXBException {\n        JAXBContext context = JAXBContext.newInstance(BookStore.class);\n        BookStore bookStore = (BookStore) context.createUnmarshaller().unmarshal(new StringReader(BOOKSTORE_XML));\n\n        String name = bookStore.getName();\n    assertNotNull(name);\n\n    }\n\n}\n</code></pre>\n<p>XML file :-</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;yes&quot;?&gt;\n&lt;ns2:bookStore xmlns:ns2=&quot;com.zetcode&quot;&gt;\n    &lt;bookList&gt;\n        &lt;book AuthorName=&quot;Neil Strauss&quot;&gt;\n            &lt;title&gt;The Game&lt;/title&gt;\n            &lt;publisher&gt;Harpercollins&lt;/publisher&gt;\n            &lt;isbn&gt;978-0060554736&lt;/isbn&gt;\n        &lt;/book&gt;\n        &lt;book AuthorName=&quot;Charlotte Roche&quot;&gt;\n            &lt;title&gt;Feuchtgebiete&lt;/title&gt;\n            &lt;publisher&gt;Dumont Buchverlag&lt;/publisher&gt;\n            &lt;isbn&gt;978-3832180577&lt;/isbn&gt;\n        &lt;/book&gt;\n    &lt;/bookList&gt;\n    &lt;location&gt;Livres belles&lt;/location&gt;\n    &lt;name&gt;Fraport Bookstore&lt;/name&gt;\n&lt;/ns2:bookStore&gt;\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/9ttvB.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/9ttvB.png\" alt=\"errors\" /></a></p>\n<p>How to solve this? please help me</p>\n"},{"tags":["java","system.out"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":4,"creation_date":1673252280,"post_id":75054597,"comment_id":132447908,"body_markdown":"Do not catch exceptions without handle it","body":"Do not catch exceptions without handle it"},{"owner":{"account_id":2843847,"reputation":55833,"user_id":2442804,"accept_rate":80,"display_name":"luk2302"},"score":1,"creation_date":1673252333,"post_id":75054597,"comment_id":132447923,"body_markdown":"No, printing does not affect the value of variables. (unless your classes have a ***very*** weird `toString()` implementation, `int` certainly does not have that)","body":"No, printing does not affect the value of variables. (unless your classes have a <b><i>very</i></b> weird <code>toString()</code> implementation, <code>int</code> certainly does not have that)"},{"owner":{"account_id":4401107,"reputation":1326,"user_id":4257751,"accept_rate":62,"display_name":"Karim Tawfik"},"score":0,"creation_date":1673252981,"post_id":75054597,"comment_id":132448091,"body_markdown":"Regardless the logic you are trying to implement, this code is incorrect, as it should be throwing NPE, due to the fact that you are using recursion, however there is no stopping condition, in your code you are swallowing the exception.\nAnd no priting doesn&#39;t affect the variables, unless you are doing on the fly assignment (e.g. `System.out.println((i+=2));`","body":"Regardless the logic you are trying to implement, this code is incorrect, as it should be throwing NPE, due to the fact that you are using recursion, however there is no stopping condition, in your code you are swallowing the exception. And no priting doesn&#39;t affect the variables, unless you are doing on the fly assignment (e.g. <code>System.out.println((i+=2));</code>"},{"owner":{"account_id":401843,"reputation":89873,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1673253039,"post_id":75054597,"comment_id":132448113,"body_markdown":"The answer is simple: No. You did not include enough code to make a meaningful remark about what is causing what you&#39;re observing. But it isn&#39;t &#39;println changing variables&#39;.","body":"The answer is simple: No. You did not include enough code to make a meaningful remark about what is causing what you&#39;re observing. But it isn&#39;t &#39;println changing variables&#39;."},{"owner":{"account_id":18911549,"reputation":600,"user_id":13797513,"display_name":"chptr-one"},"score":0,"creation_date":1673255200,"post_id":75054597,"comment_id":132448728,"body_markdown":"This code looks like a great puzzler for job interview .","body":"This code looks like a great puzzler for job interview ."}],"answers":[{"tags":[],"owner":{"account_id":2843847,"reputation":55833,"user_id":2442804,"accept_rate":80,"display_name":"luk2302"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1673255171,"creation_date":1673254760,"answer_id":75054999,"question_id":75054597,"body_markdown":"The printing is not the cause of the different behaviour but the access of `j.val` is.\r\n\r\nIf you had proper null-checks in your code, e.g. `if (j == null) { return 0; }` in the beginning of the method this would not happen.\r\n\r\nIn the first snippet if you call the method with `j = null` you get an NPE in the `try`, catch it, ignore it and then return 1. The caller will get the 1, add 1 and then `return 2`.\r\n\r\nIn the second snippet if you call the method with `j = null` you once again get an NPE in the try, ignore it, then continue to the `print` which raises another NPE which is then thrown from the method and the recursive caller will catch it and *not* perform the `ans = ... + 1` successfully but simply `return 1`. \r\n\r\nTherefore you have a different behaviour between the two snippets. **But this is entirely unrelated to printing itself**.","title":"Does print statement in java effect any variables (without using increment)?","body":"<p>The printing is not the cause of the different behaviour but the access of <code>j.val</code> is.</p>\n<p>If you had proper null-checks in your code, e.g. <code>if (j == null) { return 0; }</code> in the beginning of the method this would not happen.</p>\n<p>In the first snippet if you call the method with <code>j = null</code> you get an NPE in the <code>try</code>, catch it, ignore it and then return 1. The caller will get the 1, add 1 and then <code>return 2</code>.</p>\n<p>In the second snippet if you call the method with <code>j = null</code> you once again get an NPE in the try, ignore it, then continue to the <code>print</code> which raises another NPE which is then thrown from the method and the recursive caller will catch it and <em>not</em> perform the <code>ans = ... + 1</code> successfully but simply <code>return 1</code>.</p>\n<p>Therefore you have a different behaviour between the two snippets. <strong>But this is entirely unrelated to printing itself</strong>.</p>\n"}],"owner":{"account_id":26535125,"reputation":5,"user_id":20166766,"display_name":"Jagnath reddy"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":82,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1673260418,"accepted_answer_id":75054999,"answer_count":1,"score":0,"last_activity_date":1673255171,"creation_date":1673252006,"question_id":75054597,"body_markdown":"I was trying out the leetcode problem [here](https://leetcode.com/problems/diameter-of-binary-tree/description/) \r\n\r\nthe code i wrote is\r\n\r\n```\r\npublic int toLeaf(TreeNode j){\r\n        int ans=1;\r\n        try{\r\n            ans= Math.max(toLeaf(j.left),toLeaf(j.right))+1;\r\n        }catch(Exception e){\r\n\r\n        }\r\n        return ans;\r\n    }\r\n    public int diameterOfBinaryTree(TreeNode root) {\r\n        return toLeaf(root);\r\n    }\r\n```\r\nwhich gave me wrong answer but as soon as added a print statment i got correct answers on the sample testcases\r\n\r\n```\r\npublic int toLeaf(TreeNode j){\r\n        int ans=1;\r\n        try{\r\n            ans= Math.max(toLeaf(j.left),toLeaf(j.right))+1;\r\n        }catch(Exception e){\r\n\r\n        }\r\n        System.out.println(j.val+&quot; &quot;+ans);  //here\r\n        return ans;\r\n    }\r\n    public int diameterOfBinaryTree(TreeNode root) {\r\n        return toLeaf(root);\r\n    }\r\n\r\n```\r\nwhat is the reason behind this?\r\n[here is the screenshot](https://i.stack.imgur.com/5eSiK.png)\r\n[rejected](https://i.stack.imgur.com/2OvGY.png)\r\n\r\n\r\n","title":"Does print statement in java effect any variables (without using increment)?","body":"<p>I was trying out the leetcode problem <a href=\"https://leetcode.com/problems/diameter-of-binary-tree/description/\" rel=\"nofollow noreferrer\">here</a></p>\n<p>the code i wrote is</p>\n<pre><code>public int toLeaf(TreeNode j){\n        int ans=1;\n        try{\n            ans= Math.max(toLeaf(j.left),toLeaf(j.right))+1;\n        }catch(Exception e){\n\n        }\n        return ans;\n    }\n    public int diameterOfBinaryTree(TreeNode root) {\n        return toLeaf(root);\n    }\n</code></pre>\n<p>which gave me wrong answer but as soon as added a print statment i got correct answers on the sample testcases</p>\n<pre><code>public int toLeaf(TreeNode j){\n        int ans=1;\n        try{\n            ans= Math.max(toLeaf(j.left),toLeaf(j.right))+1;\n        }catch(Exception e){\n\n        }\n        System.out.println(j.val+&quot; &quot;+ans);  //here\n        return ans;\n    }\n    public int diameterOfBinaryTree(TreeNode root) {\n        return toLeaf(root);\n    }\n\n</code></pre>\n<p>what is the reason behind this?\n<a href=\"https://i.stack.imgur.com/5eSiK.png\" rel=\"nofollow noreferrer\">here is the screenshot</a>\n<a href=\"https://i.stack.imgur.com/2OvGY.png\" rel=\"nofollow noreferrer\">rejected</a></p>\n"},{"tags":["java","log4j","dynamic-data"],"answers":[{"comments":[{"owner":{"account_id":2447666,"reputation":513,"user_id":2134591,"accept_rate":27,"display_name":"SuRa"},"score":1,"creation_date":1418129109,"post_id":6558539,"comment_id":43207852,"body_markdown":"Will it support/take if i give the values in the .properties file? i.e., instead of defining the value in the start of JVM, can i define it in the .properties file?","body":"Will it support/take if i give the values in the .properties file? i.e., instead of defining the value in the start of JVM, can i define it in the .properties file?"},{"owner":{"account_id":8273875,"reputation":456,"user_id":6220762,"display_name":"James"},"score":0,"creation_date":1488727481,"post_id":6558539,"comment_id":72349571,"body_markdown":"if you use \nSystem.setProperty(&quot;logfilename&quot;, &quot;a_cool_logname&quot;);\nmake sure you set this before you log anything","body":"if you use  System.setProperty(&quot;logfilename&quot;, &quot;a_cool_logname&quot;); make sure you set this before you log anything"},{"owner":{"account_id":3551840,"reputation":527,"user_id":2966528,"accept_rate":75,"display_name":"automaton"},"score":6,"creation_date":1551985739,"post_id":6558539,"comment_id":96852107,"body_markdown":"If you&#39;re using log4j2, I believe you need `${sys:logfilename}` in the XML instead","body":"If you&#39;re using log4j2, I believe you need <code>${sys:logfilename}</code> in the XML instead"},{"owner":{"account_id":11711219,"reputation":497,"user_id":8573084,"display_name":"manikanta nvsr"},"score":0,"creation_date":1586155694,"post_id":6558539,"comment_id":108012741,"body_markdown":"Can we give the path also in the filename like &quot;D:/Test/my_fancy_filename&quot; so that it can create my_fancy_filename.log in the specified directory?","body":"Can we give the path also in the filename like &quot;D:/Test/my_fancy_filename&quot; so that it can create my_fancy_filename.log in the specified directory?"}],"tags":[],"owner":{"account_id":776367,"reputation":811,"user_id":826257,"display_name":"Big B"},"comment_count":4,"down_vote_count":0,"up_vote_count":81,"is_accepted":false,"score":81,"last_activity_date":1309687784,"creation_date":1309627982,"answer_id":6558539,"question_id":2810926,"body_markdown":"It&#39;s much easier to do the following:\r\n\r\n\r\nIn log4j.xml define variable as ${variable}:\r\n\r\n\t&lt;appender name=&quot;FILE&quot; class=&quot;org.apache.log4j.FileAppender&quot;&gt;\t\r\n\t\t&lt;param name=&quot;File&quot; value=&quot;${logfilename}.log&quot; /&gt;\r\n\t\t&lt;layout class=&quot;org.apache.log4j.PatternLayout&quot;&gt;\r\n\t\t\t&lt;param name=&quot;ConversionPattern&quot; value=&quot;%d::[%t]::%-5p::%c::%x - %m%n&quot; /&gt;\r\n\t\t&lt;/layout&gt;\t\t\r\n\t&lt;/appender&gt;\r\n\r\nThen make sure you set the system property when you start your JVM such as:\r\n\r\n    java -Dlogfilename=my_fancy_filename  example.Application\r\n\r\nThat will create a dynamic log file name:  `my_fancy_filename.log`\r\n\r\n\r\nAlternatively, you can set the system property in code so long as you do it before you create a logger (this is useful if you want your PID in your logs for instance). Such as:\r\n\r\n    System.setProperty(&quot;logfilename&quot;, &quot;a_cool_logname&quot;);\r\n\r\nOnce that is set you can go ahead and get your loggers as normal and they will log to the dynamic file (be careful of those static Loggers that create loggers before your main method executes).","title":"How to give dynamic file name in the appender in log4j.xml","body":"<p>It's much easier to do the following:</p>\n\n<p>In log4j.xml define variable as ${variable}:</p>\n\n<pre><code>&lt;appender name=\"FILE\" class=\"org.apache.log4j.FileAppender\"&gt;    \n    &lt;param name=\"File\" value=\"${logfilename}.log\" /&gt;\n    &lt;layout class=\"org.apache.log4j.PatternLayout\"&gt;\n        &lt;param name=\"ConversionPattern\" value=\"%d::[%t]::%-5p::%c::%x - %m%n\" /&gt;\n    &lt;/layout&gt;       \n&lt;/appender&gt;\n</code></pre>\n\n<p>Then make sure you set the system property when you start your JVM such as:</p>\n\n<pre><code>java -Dlogfilename=my_fancy_filename  example.Application\n</code></pre>\n\n<p>That will create a dynamic log file name:  <code>my_fancy_filename.log</code></p>\n\n<p>Alternatively, you can set the system property in code so long as you do it before you create a logger (this is useful if you want your PID in your logs for instance). Such as:</p>\n\n<pre><code>System.setProperty(\"logfilename\", \"a_cool_logname\");\n</code></pre>\n\n<p>Once that is set you can go ahead and get your loggers as normal and they will log to the dynamic file (be careful of those static Loggers that create loggers before your main method executes).</p>\n"},{"tags":[],"owner":{"account_id":1394773,"reputation":51,"user_id":1324767,"display_name":"Nik"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1351501720,"creation_date":1334081361,"answer_id":10094098,"question_id":2810926,"body_markdown":"It makes more sense to extend `FileAppender` with your own class, in which you override `setOptions()` method. Then in your `log4j.properties` you configure root to log to `yourpackage.yourFileAppender`, which is much cleaner.","title":"How to give dynamic file name in the appender in log4j.xml","body":"<p>It makes more sense to extend <code>FileAppender</code> with your own class, in which you override <code>setOptions()</code> method. Then in your <code>log4j.properties</code> you configure root to log to <code>yourpackage.yourFileAppender</code>, which is much cleaner.</p>\n"},{"tags":[],"owner":{"account_id":1757979,"reputation":1367,"user_id":1605761,"accept_rate":25,"display_name":"Utsav Chokshi"},"comment_count":0,"down_vote_count":1,"up_vote_count":11,"is_accepted":false,"score":10,"last_activity_date":1578023653,"creation_date":1395220327,"answer_id":22500931,"question_id":2810926,"body_markdown":"Below is my code for using Log4J for dynamically generate filename.\r\nIt changes its name according to input file name and current date-time. (So helpful in case you run same file multiple times.)\r\n\r\n    public class LogClass {\r\n    \t\r\n    \tprivate static Logger log =  Logger.getLogger(LogClass.class);\r\n    \tprivate static boolean initializationFlag = false;\r\n    \tprivate static String fileName;\r\n    \t\r\n    \tprivate static void intializeLogger(){\r\n    \t\tlog.setLevel(Level.DEBUG);\r\n    \t\t\r\n    \t\tDateFormat dateFormat = new SimpleDateFormat(&quot;dd/MM/yyyy HH:mm:ss&quot;);\r\n    \t\tDate date = new Date();\r\n    \t\t\r\n    \t\tRollingFileAppender appender = new RollingFileAppender();\r\n    \t\tappender.setAppend(true);\r\n    \t\tappender.setMaxFileSize(&quot;1MB&quot;);\r\n    \t\tappender.setMaxBackupIndex(1);\r\n    \t\tappender.setFile(fileName + &quot;_&quot; + dateFormat.format(date) + &quot;.log&quot;);\r\n    \t\tappender.activateOptions();\r\n\r\n    \t\tPatternLayout layOut = new PatternLayout();\r\n    \t\tlayOut.setConversionPattern(&quot;%d{yyyy-MM-dd HH:mm:ss} %-5p %c{1}:%L - %m%n&quot;);\r\n    \t\tappender.setLayout(layOut);\r\n    \t\t\r\n    \t\tlog.addAppender(appender);\r\n    \t}\r\n    \t\r\n    \tpublic static Logger getLogger(){\r\n    \t\tif(initializationFlag == false){\r\n    \t\t\tintializeLogger();\r\n    \t\t\tinitializationFlag = true;\r\n    \t\t\treturn LogClass.log;\r\n    \t\t}\r\n    \t\telse{\r\n    \t\t\treturn LogClass.log;\r\n    \t\t}\r\n    \t}\r\n    \t\r\n    \tpublic static void setFileName(String fileName){\r\n    \t\tLogClass.fileName = fileName;\r\n    \t}\r\n    }\r\n\r\nNow whenever you want to use logger in your program,\r\nJust write these two lines :\r\n\r\n    LogClass.setFileName(yourFileName);\r\n\tLogClass.getLogger().debug(&quot;hello!!&quot;);\r\n\r\nHappy Coding.\r\n\r\n \r\n","title":"How to give dynamic file name in the appender in log4j.xml","body":"<p>Below is my code for using Log4J for dynamically generate filename.\nIt changes its name according to input file name and current date-time. (So helpful in case you run same file multiple times.)</p>\n\n<pre><code>public class LogClass {\n\n    private static Logger log =  Logger.getLogger(LogClass.class);\n    private static boolean initializationFlag = false;\n    private static String fileName;\n\n    private static void intializeLogger(){\n        log.setLevel(Level.DEBUG);\n\n        DateFormat dateFormat = new SimpleDateFormat(\"dd/MM/yyyy HH:mm:ss\");\n        Date date = new Date();\n\n        RollingFileAppender appender = new RollingFileAppender();\n        appender.setAppend(true);\n        appender.setMaxFileSize(\"1MB\");\n        appender.setMaxBackupIndex(1);\n        appender.setFile(fileName + \"_\" + dateFormat.format(date) + \".log\");\n        appender.activateOptions();\n\n        PatternLayout layOut = new PatternLayout();\n        layOut.setConversionPattern(\"%d{yyyy-MM-dd HH:mm:ss} %-5p %c{1}:%L - %m%n\");\n        appender.setLayout(layOut);\n\n        log.addAppender(appender);\n    }\n\n    public static Logger getLogger(){\n        if(initializationFlag == false){\n            intializeLogger();\n            initializationFlag = true;\n            return LogClass.log;\n        }\n        else{\n            return LogClass.log;\n        }\n    }\n\n    public static void setFileName(String fileName){\n        LogClass.fileName = fileName;\n    }\n}\n</code></pre>\n\n<p>Now whenever you want to use logger in your program,\nJust write these two lines :</p>\n\n<pre><code>LogClass.setFileName(yourFileName);\nLogClass.getLogger().debug(\"hello!!\");\n</code></pre>\n\n<p>Happy Coding.</p>\n"},{"comments":[{"owner":{"account_id":1588748,"reputation":299,"user_id":1472551,"display_name":"Abhi"},"score":0,"creation_date":1659000250,"post_id":39371965,"comment_id":129193330,"body_markdown":"Do u have a similar example for log4j2 as well?","body":"Do u have a similar example for log4j2 as well?"}],"tags":[],"owner":{"account_id":5776348,"reputation":2162,"user_id":4558302,"accept_rate":67,"display_name":"Bopsi"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1473256738,"creation_date":1473256738,"answer_id":39371965,"question_id":2810926,"body_markdown":"In your class containing main method set the name of your class to some system property. In following example I used `log_dir` as property name.\r\n\r\n    class ABC{\r\n     public static void main(String s[]){\r\n      System.setProperty(&quot;log_dir&quot;, ABC.class.getSimpleName());\r\n     }\r\n    }\r\n\r\nAnd in your log4j.xml file use `log_dir` property in File param&#39;s value attribute\r\n\r\n    &lt;appender name=&quot;FA&quot; class=&quot;org.apache.log4j.DailyRollingFileAppender&quot;&gt;\r\n      &lt;param name=&quot;DatePattern&quot; value=&quot;&#39;_&#39;yyyyMMdd&quot;/&gt;\r\n      &lt;param name=&quot;File&quot; value=&quot;D:/logFiles/${log_dir}&quot;/&gt;\r\n      &lt;layout class=&quot;com.dnb.genericpreprocessor.common.log.AppXMLLayout&quot;/&gt;\r\n    &lt;/appender&gt;\r\n\r\nWorks like a charm","title":"How to give dynamic file name in the appender in log4j.xml","body":"<p>In your class containing main method set the name of your class to some system property. In following example I used <code>log_dir</code> as property name.</p>\n\n<pre><code>class ABC{\n public static void main(String s[]){\n  System.setProperty(\"log_dir\", ABC.class.getSimpleName());\n }\n}\n</code></pre>\n\n<p>And in your log4j.xml file use <code>log_dir</code> property in File param's value attribute</p>\n\n<pre><code>&lt;appender name=\"FA\" class=\"org.apache.log4j.DailyRollingFileAppender\"&gt;\n  &lt;param name=\"DatePattern\" value=\"'_'yyyyMMdd\"/&gt;\n  &lt;param name=\"File\" value=\"D:/logFiles/${log_dir}\"/&gt;\n  &lt;layout class=\"com.dnb.genericpreprocessor.common.log.AppXMLLayout\"/&gt;\n&lt;/appender&gt;\n</code></pre>\n\n<p>Works like a charm</p>\n"},{"tags":[],"owner":{"account_id":11711219,"reputation":497,"user_id":8573084,"display_name":"manikanta nvsr"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1586349313,"creation_date":1586349313,"answer_id":61100805,"question_id":2810926,"body_markdown":"Before executing anything, log4j thoroughly checks the class path for log4j.xml configuration file. Let&#39;say, by chance, if there is any log4j.xml configuration file in the library jars you referenced in your project, log4j loads that file as the configuration file and starts logging. In this context, when you are setting log file location in your FileAppender dynamically by getting the value from System properties as suggested by @Big B, it will not work since log4j had already loaded the configuration file it discovered first.\r\n\r\nTo prevent this, you can use `DOMConfigurator` to inform log4j what configuration file it should load and when it should load. So, as soon as you set the system property of LogFileLocation in your program use DOMConfigurator to load intended properties file in the following way:\r\n\r\n\r\n    System.setProperty(&quot;LogFileLocation&quot;, &quot;D:Test/Logdetails&quot;));\r\n    DOMConfigurator.configure(&quot;log4j.xml&quot;);\r\n\r\nBy doing this way, you will load log4j.xml after you set the system property LogFileLocation in your program. (It will also override the already loaded configuration)\r\n\r\nInside the log4j.xml configuration, you set the file location in the param tag &#39;File&#39;:\r\n\r\n    &lt;appender name=&quot;fileAppender&quot;\r\n    \t\tclass=&quot;org.apache.log4j.FileAppender&quot;&gt;\r\n    \t\t&lt;param name=&quot;File&quot; value=&quot;${LogFileLocation}.log&quot; /&gt;\r\n    \t\t&lt;param name=&quot;Append&quot; value=&quot;false&quot; /&gt; \r\n    &lt;!-- false will make the log to override the file. true will make the log to append to the file --&gt;\r\n    \t\t&lt;layout class=&quot;org.apache.log4j.PatternLayout&quot;&gt;\r\n    \t\t\t&lt;param name=&quot;ConversionPattern&quot;\r\n    \t\t\t\tvalue=&quot;%d{dd/MM/yyyy HH:mm:ss} %-5p %c{2} \r\n    \t\t- %m%n&quot; /&gt;\r\n    \t\t&lt;/layout&gt;\r\n    \t&lt;/appender&gt;\r\n\r\nTo understand whatever I said better, provide `-Dlog4j.debug=true` in your VM arguments and see the log of log4j execution in your console.","title":"How to give dynamic file name in the appender in log4j.xml","body":"<p>Before executing anything, log4j thoroughly checks the class path for log4j.xml configuration file. Let'say, by chance, if there is any log4j.xml configuration file in the library jars you referenced in your project, log4j loads that file as the configuration file and starts logging. In this context, when you are setting log file location in your FileAppender dynamically by getting the value from System properties as suggested by @Big B, it will not work since log4j had already loaded the configuration file it discovered first.</p>\n\n<p>To prevent this, you can use <code>DOMConfigurator</code> to inform log4j what configuration file it should load and when it should load. So, as soon as you set the system property of LogFileLocation in your program use DOMConfigurator to load intended properties file in the following way:</p>\n\n<pre><code>System.setProperty(\"LogFileLocation\", \"D:Test/Logdetails\"));\nDOMConfigurator.configure(\"log4j.xml\");\n</code></pre>\n\n<p>By doing this way, you will load log4j.xml after you set the system property LogFileLocation in your program. (It will also override the already loaded configuration)</p>\n\n<p>Inside the log4j.xml configuration, you set the file location in the param tag 'File':</p>\n\n<pre><code>&lt;appender name=\"fileAppender\"\n        class=\"org.apache.log4j.FileAppender\"&gt;\n        &lt;param name=\"File\" value=\"${LogFileLocation}.log\" /&gt;\n        &lt;param name=\"Append\" value=\"false\" /&gt; \n&lt;!-- false will make the log to override the file. true will make the log to append to the file --&gt;\n        &lt;layout class=\"org.apache.log4j.PatternLayout\"&gt;\n            &lt;param name=\"ConversionPattern\"\n                value=\"%d{dd/MM/yyyy HH:mm:ss} %-5p %c{2} \n        - %m%n\" /&gt;\n        &lt;/layout&gt;\n    &lt;/appender&gt;\n</code></pre>\n\n<p>To understand whatever I said better, provide <code>-Dlog4j.debug=true</code> in your VM arguments and see the log of log4j execution in your console.</p>\n"},{"tags":[],"owner":{"account_id":1558549,"reputation":167,"user_id":1448980,"accept_rate":0,"display_name":"ashah"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673254686,"creation_date":1673254686,"answer_id":75054984,"question_id":2810926,"body_markdown":"For me it worked only after I used ${sys: ...  as below. Without that it was not picking up that variable set in java command.\r\n\r\n    &lt;param name=&quot;File&quot; value=&quot;${sys:logfilename}.log&quot; /&gt;\r\n\r\n","title":"How to give dynamic file name in the appender in log4j.xml","body":"<p>For me it worked only after I used ${sys: ...  as below. Without that it was not picking up that variable set in java command.</p>\n<pre><code>&lt;param name=&quot;File&quot; value=&quot;${sys:logfilename}.log&quot; /&gt;\n</code></pre>\n"}],"owner":{"account_id":612152,"reputation":241,"user_id":338298,"display_name":"Bittu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":102807,"favorite_count":0,"down_vote_count":0,"up_vote_count":24,"answer_count":6,"score":24,"last_activity_date":1673254686,"creation_date":1273583484,"question_id":2810926,"body_markdown":"I am using log4j to log information. I have used a `log4j.xml` file for creating log files. I have given the absolute path for each log file as a `param` tag value.\r\n\r\nE.g.:\r\n\r\n    &lt;appender name=&quot;FA&quot; class=&quot;org.apache.log4j.DailyRollingFileAppender&quot;&gt;\r\n      &lt;param name=&quot;DatePattern&quot; value=&quot;&#39;_&#39;yyyyMMdd&quot;/&gt;\r\n      &lt;param name=&quot;File&quot; value=&quot;D:/logFiles/GPreprocessor.log&quot;/&gt;\r\n      &lt;layout class=&quot;com.dnb.genericpreprocessor.common.log.AppXMLLayout&quot;/&gt;\r\n    &lt;/appender&gt;\r\n\r\nI do not want to write &quot;GPreprocessor.log&quot; directly. Actually, that file name is dynamic, based on my project&#39;s name. For example, if I run the program ABC.java, logging should go to `D:/logFiles/ABC.log`, but if I run XYZ.java, logging should go to `D:/logFiles/XYZ.log`. The file&#39;s location will always remain the same: `D:/logFiles/`. How can I change the log file&#39;s name dynamically?","title":"How to give dynamic file name in the appender in log4j.xml","body":"<p>I am using log4j to log information. I have used a <code>log4j.xml</code> file for creating log files. I have given the absolute path for each log file as a <code>param</code> tag value.</p>\n\n<p>E.g.:</p>\n\n<pre><code>&lt;appender name=\"FA\" class=\"org.apache.log4j.DailyRollingFileAppender\"&gt;\n  &lt;param name=\"DatePattern\" value=\"'_'yyyyMMdd\"/&gt;\n  &lt;param name=\"File\" value=\"D:/logFiles/GPreprocessor.log\"/&gt;\n  &lt;layout class=\"com.dnb.genericpreprocessor.common.log.AppXMLLayout\"/&gt;\n&lt;/appender&gt;\n</code></pre>\n\n<p>I do not want to write \"GPreprocessor.log\" directly. Actually, that file name is dynamic, based on my project's name. For example, if I run the program ABC.java, logging should go to <code>D:/logFiles/ABC.log</code>, but if I run XYZ.java, logging should go to <code>D:/logFiles/XYZ.log</code>. The file's location will always remain the same: <code>D:/logFiles/</code>. How can I change the log file's name dynamically?</p>\n"},{"tags":["java","java-stream"],"comments":[{"owner":{"account_id":121626,"reputation":8142,"user_id":314862,"accept_rate":76,"display_name":"Dimitri"},"score":1,"creation_date":1673254426,"post_id":75054906,"comment_id":132448504,"body_markdown":"It&#39;s because your hash method is not correct. Your hash is inconsistent.","body":"It&#39;s because your hash method is not correct. Your hash is inconsistent."},{"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":1,"creation_date":1673255106,"post_id":75054906,"comment_id":132448707,"body_markdown":"I think your `equals` is incorrect too. It is not transitive. Can you explain in more detail about the two &quot;equality conditions&quot;?","body":"I think your <code>equals</code> is incorrect too. It is not transitive. Can you explain in more detail about the two &quot;equality conditions&quot;?"},{"owner":{"account_id":121626,"reputation":8142,"user_id":314862,"accept_rate":76,"display_name":"Dimitri"},"score":0,"creation_date":1673255115,"post_id":75054906,"comment_id":132448710,"body_markdown":"you could reduce your equals conditions like this : `StringUtils.equals( dto.getName(), this.insideDto.getName()) || StringUtils.equals(dto.getType(), this.insideDto.getType()) &amp;&amp; StringUtils.equals(dto.getColor(), this.insideDto.getColor());`","body":"you could reduce your equals conditions like this : <code>StringUtils.equals( dto.getName(), this.insideDto.getName()) || StringUtils.equals(dto.getType(), this.insideDto.getType()) &amp;&amp; StringUtils.equals(dto.getColor(), this.insideDto.getColor());</code>"},{"owner":{"account_id":121626,"reputation":8142,"user_id":314862,"accept_rate":76,"display_name":"Dimitri"},"score":0,"creation_date":1673255185,"post_id":75054906,"comment_id":132448724,"body_markdown":"And in hashCode, just `Objects.hash(this.insideDto.getName(), this.insideDto.getType(),this.insideDto.getColor())`.","body":"And in hashCode, just <code>Objects.hash(this.insideDto.getName(), this.insideDto.getType(),this.insideDto.getColor())</code>."},{"owner":{"account_id":121626,"reputation":8142,"user_id":314862,"accept_rate":76,"display_name":"Dimitri"},"score":0,"creation_date":1673255208,"post_id":75054906,"comment_id":132448732,"body_markdown":"Btw you don&#39;t need a wrapper class for that.","body":"Btw you don&#39;t need a wrapper class for that."},{"owner":{"account_id":249169,"reputation":19388,"user_id":525036,"accept_rate":25,"display_name":"Didier L"},"score":1,"creation_date":1673270045,"post_id":75054906,"comment_id":132453704,"body_markdown":"Let’s say you have a) a red cat called Foo, b) a red cat call Bar and c) a green cat called Foo. a equals b, a equals c, but b is not equal to c =&gt; your equals method is not transitive, so you cannot have consistent logic. Bonus question: how many distinct animals do you have? If you start with a, you only have 1. If you start from b or c, you have 2.","body":"Let’s say you have a) a red cat called Foo, b) a red cat call Bar and c) a green cat called Foo. a equals b, a equals c, but b is not equal to c =&gt; your equals method is not transitive, so you cannot have consistent logic. Bonus question: how many distinct animals do you have? If you start with a, you only have 1. If you start from b or c, you have 2."},{"owner":{"account_id":6325177,"reputation":1443,"user_id":4911868,"accept_rate":100,"display_name":"javaDeveloper"},"score":0,"creation_date":1673276244,"post_id":75054906,"comment_id":132456263,"body_markdown":"@DidierL For this system, the data inconsistency is okay as long as there are no duplicates. And the rules are applied in the order of 1 and two in the order they are in the list","body":"@DidierL For this system, the data inconsistency is okay as long as there are no duplicates. And the rules are applied in the order of 1 and two in the order they are in the list"}],"owner":{"account_id":6325177,"reputation":1443,"user_id":4911868,"accept_rate":100,"display_name":"javaDeveloper"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":107,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673254582,"creation_date":1673254223,"question_id":75054906,"body_markdown":"I have a class Animal with three properties\r\n\r\n    class Animal {\r\n      String name;\r\n      String type;\r\n      String color;\r\n    }\r\n\r\nFrom a list of animals I need to find distinct animals.\r\n\r\nThe equality conditions are \r\n\r\n 1. if name is same both are equal\r\n 2. If both type and color are equal both are equal\r\n\r\nSo I wrote a wrapper animal and override the equals and hashcode\r\n\r\n    class WrapperAnimal {\r\n        Animal insideDto;\r\n    \r\n        public WrapperAnimal(Animal dto) {\r\n            this.insideDto = dto;\r\n        }\r\n    \r\n        public Animal unwrap() {\r\n            return insideDto;\r\n        }\r\n    \r\n        @Override\r\n        public boolean equals(Object o) {\r\n            if(this == o) {\r\n                return true;\r\n            }\r\n            if(o == null || getClass() != o.getClass()) {\r\n                return false;\r\n            }\r\n    \r\n            Animal dto = ((Animal) o).unwrap();\r\n    \r\n            if(dto.getName() != null &amp;&amp; StringUtils.equals(dto.getName(), this.insideDto.getName())) {\r\n                return true;\r\n            }\r\n    \r\n            return StringUtils.equals(dto.getType(), this.insideDto.getType()) &amp;&amp;\r\n                    StringUtils.equals(dto.getColor(), this.insideDto.getColor());\r\n        }\r\n    \r\n        @Override\r\n        public int hashCode() {\r\n            if(StringUtils.isNotEmpty(this.insideDto.getName())) {\r\n                return Objects.hash(this.insideDto.getName());\r\n            }\r\n    \r\n            return Objects.hash(this.insideDto.getType(),this.insideDto.getColor());\r\n        }\r\n    }\r\n\r\n\r\nI used streams distinct to find distinct\r\n\r\n    List&lt;Animal&gt; distinctAnimals = animals.stream().map(WrapperAnimal::new).distinct().map(WrapperAnimal::unwrap).toList()\r\n\r\nThis is not working when names are different but type and color are same.\r\n\r\n|Name|Type|Color|\r\n|------|------|--|\r\n|tiger1|type1|yellow|\r\n|tiger2|type1|yellow|\r\n\r\nI understand this is issue with the hashcode function. How can I fix this?","title":"Distinct by multiple properties with specific conditions","body":"<p>I have a class Animal with three properties</p>\n<pre><code>class Animal {\n  String name;\n  String type;\n  String color;\n}\n</code></pre>\n<p>From a list of animals I need to find distinct animals.</p>\n<p>The equality conditions are</p>\n<ol>\n<li>if name is same both are equal</li>\n<li>If both type and color are equal both are equal</li>\n</ol>\n<p>So I wrote a wrapper animal and override the equals and hashcode</p>\n<pre><code>class WrapperAnimal {\n    Animal insideDto;\n\n    public WrapperAnimal(Animal dto) {\n        this.insideDto = dto;\n    }\n\n    public Animal unwrap() {\n        return insideDto;\n    }\n\n    @Override\n    public boolean equals(Object o) {\n        if(this == o) {\n            return true;\n        }\n        if(o == null || getClass() != o.getClass()) {\n            return false;\n        }\n\n        Animal dto = ((Animal) o).unwrap();\n\n        if(dto.getName() != null &amp;&amp; StringUtils.equals(dto.getName(), this.insideDto.getName())) {\n            return true;\n        }\n\n        return StringUtils.equals(dto.getType(), this.insideDto.getType()) &amp;&amp;\n                StringUtils.equals(dto.getColor(), this.insideDto.getColor());\n    }\n\n    @Override\n    public int hashCode() {\n        if(StringUtils.isNotEmpty(this.insideDto.getName())) {\n            return Objects.hash(this.insideDto.getName());\n        }\n\n        return Objects.hash(this.insideDto.getType(),this.insideDto.getColor());\n    }\n}\n</code></pre>\n<p>I used streams distinct to find distinct</p>\n<pre><code>List&lt;Animal&gt; distinctAnimals = animals.stream().map(WrapperAnimal::new).distinct().map(WrapperAnimal::unwrap).toList()\n</code></pre>\n<p>This is not working when names are different but type and color are same.</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>Name</th>\n<th>Type</th>\n<th>Color</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>tiger1</td>\n<td>type1</td>\n<td>yellow</td>\n</tr>\n<tr>\n<td>tiger2</td>\n<td>type1</td>\n<td>yellow</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>I understand this is issue with the hashcode function. How can I fix this?</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9478,"page":745,"page_size":100}
