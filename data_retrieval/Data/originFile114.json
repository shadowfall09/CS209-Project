{"items":[{"tags":["java","spring","spring-boot","metrics","micrometer"],"comments":[{"owner":{"account_id":944144,"reputation":5341,"user_id":971735,"display_name":"Jonatan Ivanov"},"score":0,"creation_date":1698089655,"post_id":77328856,"comment_id":136358666,"body_markdown":"The version you are using is very old and not supported anymore. You can instrument your redis client using a Timer.","body":"The version you are using is very old and not supported anymore. You can instrument your redis client using a Timer."},{"owner":{"account_id":15062605,"reputation":967,"user_id":10870817,"display_name":"SoT"},"score":0,"creation_date":1698114403,"post_id":77328856,"comment_id":136361250,"body_markdown":"Hi @JonatanIvanov thank you for your comment. Could you help to provide more infomation? &quot;The version you are using is very old...&quot; you mean redisson or spring boot? &quot;You can instrument your redis client...&quot; can you provide me a snip of code?","body":"Hi @JonatanIvanov thank you for your comment. Could you help to provide more infomation? &quot;The version you are using is very old...&quot; you mean redisson or spring boot? &quot;You can instrument your redis client...&quot; can you provide me a snip of code?"},{"owner":{"account_id":944144,"reputation":5341,"user_id":971735,"display_name":"Jonatan Ivanov"},"score":0,"creation_date":1698198761,"post_id":77328856,"comment_id":136373781,"body_markdown":"I meant Boot: https://spring.io/projects/spring-boot#support also, I forgot that instrumentation is available starting from Redison 3.21.0: https://github.com/redisson/redisson/issues/4976 you will need Spring Boot 3 for that.","body":"I meant Boot: <a href=\"https://spring.io/projects/spring-boot#support\" rel=\"nofollow noreferrer\">spring.io/projects/spring-boot#support</a> also, I forgot that instrumentation is available starting from Redison 3.21.0: <a href=\"https://github.com/redisson/redisson/issues/4976\" rel=\"nofollow noreferrer\">github.com/redisson/redisson/issues/4976</a> you will need Spring Boot 3 for that."},{"owner":{"account_id":15062605,"reputation":967,"user_id":10870817,"display_name":"SoT"},"score":0,"creation_date":1698204103,"post_id":77328856,"comment_id":136374159,"body_markdown":"I still cannot get your point about instrumentation. How Observation API give me the distribution of the redis cluster? I want to get some thing like: 1k request to instance 1, 900 to instance 2 and 0 to instance 3 since instance 3 was not running\n\nPlease help to provide some code snip. Thank you","body":"I still cannot get your point about instrumentation. How Observation API give me the distribution of the redis cluster? I want to get some thing like: 1k request to instance 1, 900 to instance 2 and 0 to instance 3 since instance 3 was not running  Please help to provide some code snip. Thank you"}],"owner":{"account_id":15062605,"reputation":967,"user_id":10870817,"display_name":"SoT"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697784908,"creation_date":1697784908,"question_id":77328856,"body_markdown":"We have a redis cluster containing multiple redis instances. We also have a spring boot app that read from/write to this cluster. Now we want to use micrometer/prometheus/grafana to capture operation distribution metrics of the cluster (for example, this cluster have 3 instances and the counter metrics should show me 1k request to instance 1, 900 to instance 2 and 0 to instance 3 since instance 3 was not running).\r\n\r\nI would like to get your idea how to archive this requirement. Please help!\r\n\r\n    Spring boot version: 2.3.9-RELEASE\r\n    Redisson version: 3.15.0","title":"How to capture distribution metrics of the redis cluster?","body":"<p>We have a redis cluster containing multiple redis instances. We also have a spring boot app that read from/write to this cluster. Now we want to use micrometer/prometheus/grafana to capture operation distribution metrics of the cluster (for example, this cluster have 3 instances and the counter metrics should show me 1k request to instance 1, 900 to instance 2 and 0 to instance 3 since instance 3 was not running).</p>\n<p>I would like to get your idea how to archive this requirement. Please help!</p>\n<pre><code>Spring boot version: 2.3.9-RELEASE\nRedisson version: 3.15.0\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-webflux","project-reactor"],"answers":[{"comments":[{"owner":{"account_id":1229677,"reputation":415,"user_id":1194528,"display_name":"user1194528"},"score":2,"creation_date":1680725984,"post_id":69570324,"comment_id":133949082,"body_markdown":"this method is deprecated. new approach is to use something like readableByteBuffers","body":"this method is deprecated. new approach is to use something like readableByteBuffers"}],"tags":[],"owner":{"account_id":2411568,"reputation":15860,"user_id":2106516,"accept_rate":91,"display_name":"tmarwen"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1634212855,"creation_date":1634212855,"answer_id":69570324,"question_id":69570229,"body_markdown":"You can simply use the `org.springframework.core.io.buffer.DataBuffer#asByteBuffer()`:\r\n\r\n    Flux&lt;java.nio.ByteBuffer&gt; buffers = filePart.content()\r\n        .map(DataBuffer::asByteBuffer);\r\n\r\n  ","title":"Convert Flux&lt;DataBuffer&gt; into Flux&lt;ByteBuffer&gt;","body":"<p>You can simply use the <code>org.springframework.core.io.buffer.DataBuffer#asByteBuffer()</code>:</p>\n<pre><code>Flux&lt;java.nio.ByteBuffer&gt; buffers = filePart.content()\n    .map(DataBuffer::asByteBuffer);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":438049,"reputation":386,"user_id":826076,"accept_rate":80,"display_name":"Alper Kanat"},"score":0,"creation_date":1689285193,"post_id":76388223,"comment_id":135195948,"body_markdown":"In my experience, using readableByteBuffers() instead of asByteBuffer() leads to corruption. Couldn&#39;t figure out why. My guess is either the iterator is not read in order or it&#39;s not closed properly.","body":"In my experience, using readableByteBuffers() instead of asByteBuffer() leads to corruption. Couldn&#39;t figure out why. My guess is either the iterator is not read in order or it&#39;s not closed properly."},{"owner":{"account_id":438049,"reputation":386,"user_id":826076,"accept_rate":80,"display_name":"Alper Kanat"},"score":1,"creation_date":1689285866,"post_id":76388223,"comment_id":135196018,"body_markdown":"Using `flatMapSequential` instead of `flatMap` solved the issue I had.","body":"Using <code>flatMapSequential</code> instead of <code>flatMap</code> solved the issue I had."}],"tags":[],"owner":{"account_id":2161358,"reputation":42669,"user_id":1915448,"accept_rate":96,"display_name":"g00glen00b"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1697784530,"creation_date":1685692766,"answer_id":76388223,"question_id":69570229,"body_markdown":"The [`asByteBuffer()`](https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/core/io/buffer/DataBuffer.html#asByteBuffer()) method mentioned in the [answer of tmarwen](https://stackoverflow.com/a/69570324/1915448) is deprecated **since Spring Boot 3.x** (and Spring framework 6.x). The following deprecation warning is added:\r\n\r\n&gt; **Deprecated.**&lt;br /&gt;\r\n&gt; *as of 6.0, in favor of `toByteBuffer(ByteBuffer)`, `readableByteBuffers()`, or `writableByteBuffers()`.*\r\n\r\nIf you&#39;re using the `DataBuffer` to upload a file, `readableByteBuffers()` can be used. This method returns an `Iterator&lt;ByteBuffer&gt;` so you can use it with `Flux.fromIterable()`:\r\n\r\n```java\r\nFlux&lt;ByteBuffer&gt; byteBuffers = filePart\r\n    .content()\r\n    // The `flatMapSequential` is important for larger buffers to preserve order\r\n    . flatMapSequential(dataBuffer -&gt; Flux.fromIterable(dataBuffer::readableByteBuffers));\r\n```\r\n\r\n**IMPORTANT**: The `readableByteBuffers()` method was added in Spring Boot 3.0.3 (Spring framework 6.0.5) while the deprecation warning is present since Spring Boot 3.0.0 (Spring framework 6.0.0). This means you have to upgrade your project to at least Spring Boot 3.0.3 to make this work.","title":"Convert Flux&lt;DataBuffer&gt; into Flux&lt;ByteBuffer&gt;","body":"<p>The <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/core/io/buffer/DataBuffer.html#asByteBuffer()\" rel=\"nofollow noreferrer\"><code>asByteBuffer()</code></a> method mentioned in the <a href=\"https://stackoverflow.com/a/69570324/1915448\">answer of tmarwen</a> is deprecated <strong>since Spring Boot 3.x</strong> (and Spring framework 6.x). The following deprecation warning is added:</p>\n<blockquote>\n<p><strong>Deprecated.</strong><br />\n<em>as of 6.0, in favor of <code>toByteBuffer(ByteBuffer)</code>, <code>readableByteBuffers()</code>, or <code>writableByteBuffers()</code>.</em></p>\n</blockquote>\n<p>If you're using the <code>DataBuffer</code> to upload a file, <code>readableByteBuffers()</code> can be used. This method returns an <code>Iterator&lt;ByteBuffer&gt;</code> so you can use it with <code>Flux.fromIterable()</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Flux&lt;ByteBuffer&gt; byteBuffers = filePart\n    .content()\n    // The `flatMapSequential` is important for larger buffers to preserve order\n    . flatMapSequential(dataBuffer -&gt; Flux.fromIterable(dataBuffer::readableByteBuffers));\n</code></pre>\n<p><strong>IMPORTANT</strong>: The <code>readableByteBuffers()</code> method was added in Spring Boot 3.0.3 (Spring framework 6.0.5) while the deprecation warning is present since Spring Boot 3.0.0 (Spring framework 6.0.0). This means you have to upgrade your project to at least Spring Boot 3.0.3 to make this work.</p>\n"}],"owner":{"account_id":4567927,"reputation":5819,"user_id":3708462,"accept_rate":57,"display_name":"Emdadul Sawon"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2915,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69570324,"answer_count":2,"score":0,"last_activity_date":1697784530,"creation_date":1634212436,"question_id":69570229,"body_markdown":"I am working on spring webflux file upload. From the controller I want to upload the file on amazon S3 bucket. So in the controller I received following object \r\n\r\n    org.springframework.http.codec.multipart.FilePart\r\nAnd from the `FilePart.content()` I can get\r\n\r\n    reactor.core.publisher.Flux&lt;org.springframework.core.io.buffer.DataBuffer&gt;\r\nMy question is how can I convert this `Flux&lt;DataBuffer&gt;` into `Flux&lt;ByteBuffer&gt;`. I mean into the following object\r\n\r\n    Flux&lt;java.nio.ByteBuffer&gt;\r\n\r\n","title":"Convert Flux&lt;DataBuffer&gt; into Flux&lt;ByteBuffer&gt;","body":"<p>I am working on spring webflux file upload. From the controller I want to upload the file on amazon S3 bucket. So in the controller I received following object</p>\n<pre><code>org.springframework.http.codec.multipart.FilePart\n</code></pre>\n<p>And from the <code>FilePart.content()</code> I can get</p>\n<pre><code>reactor.core.publisher.Flux&lt;org.springframework.core.io.buffer.DataBuffer&gt;\n</code></pre>\n<p>My question is how can I convert this <code>Flux&lt;DataBuffer&gt;</code> into <code>Flux&lt;ByteBuffer&gt;</code>. I mean into the following object</p>\n<pre><code>Flux&lt;java.nio.ByteBuffer&gt;\n</code></pre>\n"},{"tags":["java","spring","spring-boot","hibernate","jpa"],"comments":[{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1697786074,"post_id":77328777,"comment_id":136325832,"body_markdown":"You have way to much (and conflicting) dependencies, you are trying to outsmart Spring Boot dependency management, tip don&#39;t do that. Remove the `javax.mail` and `javax.activation` dependencies, those are incompatible, remove the `hibernate-core` and `jakarta.persistence` dependency that is already included in `spring-boot-starter-data-jpa`. Remove the version for the various `spring-boot-starter-` dependencies that have it, remove `jackson-datatype-jsr310` and `jakarta.servlet` as well. There are probably more as you have the `javax.persistence` import instead of `jakarta.persistence`.","body":"You have way to much (and conflicting) dependencies, you are trying to outsmart Spring Boot dependency management, tip don&#39;t do that. Remove the <code>javax.mail</code> and <code>javax.activation</code> dependencies, those are incompatible, remove the <code>hibernate-core</code> and <code>jakarta.persistence</code> dependency that is already included in <code>spring-boot-starter-data-jpa</code>. Remove the version for the various <code>spring-boot-starter-</code> dependencies that have it, remove <code>jackson-datatype-jsr310</code> and <code>jakarta.servlet</code> as well. There are probably more as you have the <code>javax.persistence</code> import instead of <code>jakarta.persistence</code>."},{"owner":{"account_id":17520974,"reputation":1,"user_id":12707034,"display_name":"Sistem Suciu"},"score":0,"creation_date":1697787304,"post_id":77328777,"comment_id":136326057,"body_markdown":"Made all those changes, still inserts the row in the db, but now I get a different error: `&quot;Unable to resolve name [org.hibernate.dialect.PostgreSQL9Dialect] as strategy [org.hibernate.dialect.Dialect]. Caused by .ClassLoadingException: Unable to load class [org.hibernate.dialect.PostgreSQL9Dialect]. Failed to initialize JPA EntityManagerFactory: Unable to create requested service JdbcEnvironment due to: Unable to resolve name PostgreSQL9Dialect as strategy org.hibernate.dialect.Dialect`","body":"Made all those changes, still inserts the row in the db, but now I get a different error: <code>&quot;Unable to resolve name [org.hibernate.dialect.PostgreSQL9Dialect] as strategy [org.hibernate.dialect.Dialect]. Caused by .ClassLoadingException: Unable to load class [org.hibernate.dialect.PostgreSQL9Dialect]. Failed to initialize JPA EntityManagerFactory: Unable to create requested service JdbcEnvironment due to: Unable to resolve name PostgreSQL9Dialect as strategy org.hibernate.dialect.Dialect</code>"},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1697787831,"post_id":77328777,"comment_id":136326139,"body_markdown":"Because that class doesn&#39;t exist anymore. Are &quot;following&quot; some tutorial and decided to use newer dependencies? Use `org.hibernate.dialect.PostgreSQLDialect` instead.","body":"Because that class doesn&#39;t exist anymore. Are &quot;following&quot; some tutorial and decided to use newer dependencies? Use <code>org.hibernate.dialect.PostgreSQLDialect</code> instead."}],"owner":{"account_id":17520974,"reputation":1,"user_id":12707034,"display_name":"Sistem Suciu"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":130,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697784161,"creation_date":1697783986,"question_id":77328777,"body_markdown":"I&#39;m using Springboot version 3.1.0 with Hibernate version 6.1.0 and jakarta persistence api 3.1.0.\r\n\r\nI&#39;m using PostgresSQL.\r\n\r\nWhen I run the code it creates the mitarbeiter and inserts the rows that I give him, but I have the following error: &quot;Error creating bean with name &#39;entityManagerFactory&#39; defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Class org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider does not implement the requested interface jakarta.persistence.spi.PersistenceProvider&quot;, caused by &quot;java.lang.IncompatibleClassChangeError: Class org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider does not implement the requested interface jakarta.persistence.spi.PersistenceProvider&quot;\r\n\r\n**application-local.yaml** looks like this:\r\n\r\n\r\n```\r\ncom:\r\n  example:\r\n    cors:\r\n      allowed-origins:\r\n        - &quot;http://localhost:8080&quot;\r\n        - &quot;http://localhost:4200&quot;\r\n\r\nspring:\r\n  datasource:\r\n    url: jdbc:postgresql://localhost:5432/postgres?useSSL=false\r\n    username: postgres\r\n    password:\r\n  liquibase:\r\n    change-log: classpath:db/changelog/db.changelog-master.yaml\r\n    enabled: true\r\n  jpa:\r\n    database-platform: org.hibernate.dialect.PostgreSQL9Dialect\r\n\r\n```\r\n\r\n**pom.xml**:\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\t\t xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;3.1.0&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.example&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;demo&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;accessing-data-jpa-complete&lt;/name&gt;\r\n\t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-mail&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.fasterxml.jackson.datatype&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jackson-datatype-jsr310&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;io.github.classgraph&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;classgraph&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;4.8.70&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.1.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;jakarta.servlet&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jakarta.servlet-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;6.0.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-configuration-processor&lt;/artifactId&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;!-- ElasticSearch-Anbindung per Hibernate Search --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.hibernate.search&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;hibernate-search-mapper-orm&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;6.1.0.Final&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.hibernate.search&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;hibernate-search-backend-elasticsearch&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;6.1.0.Final&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.hibernate.orm&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;6.1.0.Final&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;!-- OpenAPI / Swagger --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springdoc&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;springdoc-openapi-ui&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.4.8&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springdoc&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;springdoc-openapi-data-rest&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.4.8&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;jakarta.persistence&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jakarta.persistence-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.1.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;!-- JWT Authentication --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jjwt&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;0.9.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;!-- Liquibase --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.liquibase&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;liquibase-core&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;4.19.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;!-- Datenbank-Treiber --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.h2database&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;h2&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.oracle.database.jdbc&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;ojdbc8&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.postgresql&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;!-- Lombok --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.18.16&lt;/version&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;!-- Passwortqualit&#228;tspr&#252;fungen --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.passay&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;passay&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.6.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;!-- Export nach Word --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.docx4j&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;docx4j-JAXB-ReferenceImpl&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;11.2.9&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.docx4j&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;docx4j-ImportXHTML&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;8.2.1&lt;/version&gt;\r\n\t\t\t&lt;exclusions&gt;\r\n\t\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t\t&lt;groupId&gt;org.docx4j&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;docx4j-samples-resources&lt;/artifactId&gt;\r\n\t\t\t\t&lt;/exclusion&gt;\r\n\t\t\t&lt;/exclusions&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;!-- OWASP Java HTML Sanitizer --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.googlecode.owasp-java-html-sanitizer&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;owasp-java-html-sanitizer&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;20200713.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;!-- Tests --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t\t&lt;exclusions&gt;\r\n\t\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t\t&lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\r\n\t\t\t\t&lt;/exclusion&gt;\r\n\t\t\t&lt;/exclusions&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;junit&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;!-- Microsoft Graph API --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.microsoft.graph&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;microsoft-graph&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.10.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.microsoft.graph&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;microsoft-graph-auth&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;0.3.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;!-- JavaX Mail / Activation--&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;javax.mail&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mail&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.4.7&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;javax.activation&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;activation&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.1.1&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\n\r\n**Mitarbeiter.java**:\r\n\r\n```\r\npackage com.example.accessingdatajpa;\r\n\r\nimport lombok.Getter;\r\nimport lombok.NoArgsConstructor;\r\nimport lombok.Setter;\r\nimport org.hibernate.search.mapper.pojo.mapping.definition.annotation.*;\r\nimport org.springframework.context.annotation.Bean;\r\n\r\nimport javax.persistence.*;\r\n\r\n@Getter\r\n@Setter\r\n@NoArgsConstructor\r\n@Entity\r\n@Table(name = &quot;mitarbeiter&quot;)\r\npublic class Mitarbeiter {\r\n\r\n  @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;mitarbeiterSeqGen&quot;)\r\n  @SequenceGenerator(sequenceName = &quot;mitarbeiter_seq&quot;, name = &quot;mitarbeiterSeqGen&quot;,\r\n      allocationSize = 1)\r\n  @Column(name = &quot;mitarbeiter_id&quot;)\r\n  @Id\r\n  private Long id;\r\n\r\n  @Column(name = &quot;email&quot;, unique = true)\r\n  @KeywordField\r\n  private String email;\r\n\r\n  @Column(name = &quot;vorname&quot;)\r\n  @FullTextField(analyzer = &quot;german&quot;)\r\n  private String vorname;\r\n\r\n  @Column(name = &quot;nachname&quot;)\r\n  @FullTextField(analyzer = &quot;german&quot;)\r\n  private String nachname;\r\n\r\n  public Mitarbeiter(Long id, String vorname, String nachname) {\r\n    this.id = id;\r\n    this.vorname = vorname;\r\n    this.nachname = nachname;\r\n\r\n  }\r\n}\r\n\r\n```\r\nAccessingDataJpaApplication.java:\r\n\r\n```\r\npackage com.example.accessingdatajpa;\r\n\r\nimport org.springframework.boot.SpringApplication;\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\n\r\n@SpringBootApplication\r\npublic class AccessingDataJpaApplication {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(AccessingDataJpaApplication.class);\r\n\t}}\r\n\r\n```\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n**Detailed error**:\r\n\r\n```\r\n2023-10-20T09:30:09.235+03:00  INFO 18304 --- [           main] c.e.a.AccessingDataJpaApplication        : Starting AccessingDataJpaApplication using Java 17.0.8.1 with PID 18304 (C:\\Profilmanager\\gs-accessing-data-jpa\\complete\\target\\classes started by VladSuciu in C:\\Profilmanager\\gs-accessing-data-jpa\\complete)\r\n2023-10-20T09:30:09.241+03:00  INFO 18304 --- [           main] c.e.a.AccessingDataJpaApplication        : The following 1 profile is active: &quot;local&quot;\r\n2023-10-20T09:30:10.642+03:00  INFO 18304 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.\r\n2023-10-20T09:30:10.704+03:00  INFO 18304 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 49 ms. Found 1 JPA repository interfaces.\r\n2023-10-20T09:30:11.906+03:00  INFO 18304 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)\r\n2023-10-20T09:30:11.919+03:00  INFO 18304 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\r\n2023-10-20T09:30:11.919+03:00  INFO 18304 --- [           main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.8]\r\n2023-10-20T09:30:12.083+03:00  INFO 18304 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\r\n2023-10-20T09:30:12.086+03:00  INFO 18304 --- [           main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2778 ms\r\n2023-10-20T09:30:12.481+03:00  INFO 18304 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...\r\n2023-10-20T09:30:12.822+03:00  INFO 18304 --- [           main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@55222ee9\r\n2023-10-20T09:30:12.823+03:00  INFO 18304 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.\r\n2023-10-20T09:30:12.989+03:00  INFO 18304 --- [           main] liquibase.database                       : Set default schema name to public\r\n2023-10-20T09:30:13.407+03:00  INFO 18304 --- [           main] liquibase.executor                       : Changelog query completed.\r\n2023-10-20T09:30:13.415+03:00  INFO 18304 --- [           main] liquibase.executor                       : Changelog query completed.\r\n2023-10-20T09:30:13.421+03:00  INFO 18304 --- [           main] liquibase.executor                       : Changelog query completed.\r\n2023-10-20T09:30:13.426+03:00  INFO 18304 --- [           main] liquibase.executor                       : Changelog query completed.\r\n2023-10-20T09:30:13.434+03:00  INFO 18304 --- [           main] liquibase.executor                       : Changelog query completed.\r\n2023-10-20T09:30:13.437+03:00  INFO 18304 --- [           main] liquibase.lockservice                    : Successfully acquired change log lock\r\n2023-10-20T09:30:13.464+03:00  INFO 18304 --- [           main] liquibase.changelog                      : Creating database history table with name: public.databasechangelog\r\n2023-10-20T09:30:13.474+03:00  INFO 18304 --- [           main] liquibase.executor                       : Changelog query completed.\r\n2023-10-20T09:30:13.479+03:00  INFO 18304 --- [           main] liquibase.changelog                      : Reading from public.databasechangelog\r\n2023-10-20T09:30:13.482+03:00  INFO 18304 --- [           main] liquibase.executor                       : Changelog query completed.\r\n2023-10-20T09:30:13.486+03:00  INFO 18304 --- [           main] liquibase.executor                       : Changelog query completed.\r\nRunning Changeset: classpath*:db/changelog/changes/00001-initial-database.yaml::1::\r\n2023-10-20T09:30:13.531+03:00  INFO 18304 --- [           main] liquibase.changelog                      : Sequence mitarbeiter_seq created\r\n2023-10-20T09:30:13.534+03:00  INFO 18304 --- [           main] liquibase.changelog                      : ChangeSet classpath*:db/changelog/changes/00001-initial-database.yaml::1:: ran successfully in 9ms\r\n2023-10-20T09:30:13.538+03:00  INFO 18304 --- [           main] liquibase.executor                       : Changelog query completed.\r\n2023-10-20T09:30:13.540+03:00  INFO 18304 --- [           main] liquibase.executor                       : Changelog query completed.\r\nRunning Changeset: classpath*:db/changelog/changes/00001-initial-database.yaml::2::\r\n2023-10-20T09:30:13.554+03:00  INFO 18304 --- [           main] liquibase.changelog                      : Table mitarbeiter created\r\n2023-10-20T09:30:13.557+03:00  INFO 18304 --- [           main] liquibase.changelog                      : ChangeSet classpath*:db/changelog/changes/00001-initial-database.yaml::2:: ran successfully in 15ms\r\n2023-10-20T09:30:13.559+03:00  INFO 18304 --- [           main] liquibase.executor                       : Changelog query completed.\r\nRunning Changeset: classpath*:db/changelog/changes/00001-initial-database.yaml::3::\r\n2023-10-20T09:30:13.573+03:00  INFO 18304 --- [           main] liquibase.changelog                      : Unique constraint added to mitarbeiter(email)\r\n2023-10-20T09:30:13.577+03:00  INFO 18304 --- [           main] liquibase.changelog                      : ChangeSet classpath*:db/changelog/changes/00001-initial-database.yaml::3::ran successfully in 15ms\r\n2023-10-20T09:30:13.579+03:00  INFO 18304 --- [           main] liquibase.executor                       : Changelog query completed.\r\nRunning Changeset: classpath*:db/changelog/changes/00006-initial-data-mitarbeiter.yaml::1::\r\n2023-10-20T09:30:13.588+03:00  INFO 18304 --- [           main] liquibase.changelog                      : New row inserted into mitarbeiter\r\n2023-10-20T09:30:13.591+03:00  INFO 18304 --- [           main] liquibase.changelog                      : ChangeSet classpath*:db/changelog/changes/00006-initial-data-mitarbeiter.yaml::1:: ran successfully in 9ms\r\n2023-10-20T09:30:13.594+03:00  INFO 18304 --- [           main] liquibase.executor                       : Changelog query completed.\r\nRunning Changeset: classpath*:db/changelog/changes/00006-initial-data-mitarbeiter.yaml::2:\r\n2023-10-20T09:30:13.603+03:00  INFO 18304 --- [           main] liquibase.changelog                      : New row inserted into mitarbeiter\r\n2023-10-20T09:30:13.607+03:00  INFO 18304 --- [           main] liquibase.changelog                      : ChangeSet classpath*:db/changelog/changes/00006-initial-data-mitarbeiter.yaml::2::ran successfully in 8ms\r\n2023-10-20T09:30:13.610+03:00  INFO 18304 --- [           main] liquibase.executor                       : Changelog query completed.\r\n2023-10-20T09:30:13.613+03:00  INFO 18304 --- [           main] liquibase                                : Update command completed successfully.\r\n2023-10-20T09:30:13.619+03:00  INFO 18304 --- [           main] liquibase.executor                       : Changelog query completed.\r\n2023-10-20T09:30:13.623+03:00  INFO 18304 --- [           main] liquibase.lockservice                    : Successfully released change log lock\r\n2023-10-20T09:30:13.755+03:00  WARN 18304 --- [           main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;entityManagerFactory&#39; defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Class org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider does not implement the requested interface jakarta.persistence.spi.PersistenceProvider\r\n2023-10-20T09:30:13.756+03:00  INFO 18304 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...\r\n2023-10-20T09:30:13.764+03:00  INFO 18304 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.\r\n2023-10-20T09:30:13.772+03:00  INFO 18304 --- [           main] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]\r\n2023-10-20T09:30:13.790+03:00  INFO 18304 --- [           main] .s.b.a.l.ConditionEvaluationReportLogger : \r\n\r\nError starting ApplicationContext. To display the condition evaluation report re-run your application with &#39;debug&#39; enabled.\r\n2023-10-20T09:30:13.831+03:00 ERROR 18304 --- [           main] o.s.boot.SpringApplication               : Application run failed\r\n\r\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;entityManagerFactory&#39; defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Class org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider does not implement the requested interface jakarta.persistence.spi.PersistenceProvider\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1770) ~[spring-beans-6.0.9.jar:6.0.9]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598) ~[spring-beans-6.0.9.jar:6.0.9]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520) ~[spring-beans-6.0.9.jar:6.0.9]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.9.jar:6.0.9]\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.9.jar:6.0.9]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.9.jar:6.0.9]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.9.jar:6.0.9]\r\n\tat org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1156) ~[spring-context-6.0.9.jar:6.0.9]\r\n\tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:931) ~[spring-context-6.0.9.jar:6.0.9]\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:608) ~[spring-context-6.0.9.jar:6.0.9]\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.1.0.jar:3.1.0]\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:733) ~[spring-boot-3.1.0.jar:3.1.0]\r\n\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:435) ~[spring-boot-3.1.0.jar:3.1.0]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:311) ~[spring-boot-3.1.0.jar:3.1.0]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1305) ~[spring-boot-3.1.0.jar:3.1.0]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1294) ~[spring-boot-3.1.0.jar:3.1.0]\r\n\tat com.example.accessingdatajpa.AccessingDataJpaApplication.main(AccessingDataJpaApplication.java:10) ~[classes/:na]\r\nCaused by: java.lang.IncompatibleClassChangeError: Class org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider does not implement the requested interface jakarta.persistence.spi.PersistenceProvider\r\n\tat org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:376) ~[spring-orm-6.0.9.jar:6.0.9]\r\n\tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-6.0.9.jar:6.0.9]\r\n\tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-6.0.9.jar:6.0.9]\r\n\tat org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:352) ~[spring-orm-6.0.9.jar:6.0.9]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1816) ~[spring-beans-6.0.9.jar:6.0.9]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1766) ~[spring-beans-6.0.9.jar:6.0.9]\r\n\t... 16 common frames omitted\r\n\r\n\r\nProcess finished with exit code 1\r\n```\r\n","title":"Error creating bean entityManagerFactory: SpringHibernateJpaPersistenceProvider does not implement jakarta.persistence.spi.PersistenceProvider","body":"<p>I'm using Springboot version 3.1.0 with Hibernate version 6.1.0 and jakarta persistence api 3.1.0.</p>\n<p>I'm using PostgresSQL.</p>\n<p>When I run the code it creates the mitarbeiter and inserts the rows that I give him, but I have the following error: &quot;Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Class org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider does not implement the requested interface jakarta.persistence.spi.PersistenceProvider&quot;, caused by &quot;java.lang.IncompatibleClassChangeError: Class org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider does not implement the requested interface jakarta.persistence.spi.PersistenceProvider&quot;</p>\n<p><strong>application-local.yaml</strong> looks like this:</p>\n<pre><code>com:\n  example:\n    cors:\n      allowed-origins:\n        - &quot;http://localhost:8080&quot;\n        - &quot;http://localhost:4200&quot;\n\nspring:\n  datasource:\n    url: jdbc:postgresql://localhost:5432/postgres?useSSL=false\n    username: postgres\n    password:\n  liquibase:\n    change-log: classpath:db/changelog/db.changelog-master.yaml\n    enabled: true\n  jpa:\n    database-platform: org.hibernate.dialect.PostgreSQL9Dialect\n\n</code></pre>\n<p><strong>pom.xml</strong>:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.1.0&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;demo&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;accessing-data-jpa-complete&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-mail&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.fasterxml.jackson.datatype&lt;/groupId&gt;\n            &lt;artifactId&gt;jackson-datatype-jsr310&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.github.classgraph&lt;/groupId&gt;\n            &lt;artifactId&gt;classgraph&lt;/artifactId&gt;\n            &lt;version&gt;4.8.70&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n            &lt;version&gt;3.1.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;jakarta.servlet&lt;/groupId&gt;\n            &lt;artifactId&gt;jakarta.servlet-api&lt;/artifactId&gt;\n            &lt;version&gt;6.0.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-configuration-processor&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- ElasticSearch-Anbindung per Hibernate Search --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate.search&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-search-mapper-orm&lt;/artifactId&gt;\n            &lt;version&gt;6.1.0.Final&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate.search&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-search-backend-elasticsearch&lt;/artifactId&gt;\n            &lt;version&gt;6.1.0.Final&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate.orm&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\n            &lt;version&gt;6.1.0.Final&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- OpenAPI / Swagger --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\n            &lt;artifactId&gt;springdoc-openapi-ui&lt;/artifactId&gt;\n            &lt;version&gt;1.4.8&lt;/version&gt;\n        &lt;/dependency&gt;\n\n\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\n            &lt;artifactId&gt;springdoc-openapi-data-rest&lt;/artifactId&gt;\n            &lt;version&gt;1.4.8&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;jakarta.persistence&lt;/groupId&gt;\n            &lt;artifactId&gt;jakarta.persistence-api&lt;/artifactId&gt;\n            &lt;version&gt;3.1.0&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- JWT Authentication --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\n            &lt;artifactId&gt;jjwt&lt;/artifactId&gt;\n            &lt;version&gt;0.9.1&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- Liquibase --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.liquibase&lt;/groupId&gt;\n            &lt;artifactId&gt;liquibase-core&lt;/artifactId&gt;\n            &lt;version&gt;4.19.1&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- Datenbank-Treiber --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.h2database&lt;/groupId&gt;\n            &lt;artifactId&gt;h2&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.oracle.database.jdbc&lt;/groupId&gt;\n            &lt;artifactId&gt;ojdbc8&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- Lombok --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;version&gt;1.18.16&lt;/version&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- Passwortqualitätsprüfungen --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.passay&lt;/groupId&gt;\n            &lt;artifactId&gt;passay&lt;/artifactId&gt;\n            &lt;version&gt;1.6.0&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- Export nach Word --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.docx4j&lt;/groupId&gt;\n            &lt;artifactId&gt;docx4j-JAXB-ReferenceImpl&lt;/artifactId&gt;\n            &lt;version&gt;11.2.9&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.docx4j&lt;/groupId&gt;\n            &lt;artifactId&gt;docx4j-ImportXHTML&lt;/artifactId&gt;\n            &lt;version&gt;8.2.1&lt;/version&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.docx4j&lt;/groupId&gt;\n                    &lt;artifactId&gt;docx4j-samples-resources&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- OWASP Java HTML Sanitizer --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.googlecode.owasp-java-html-sanitizer&lt;/groupId&gt;\n            &lt;artifactId&gt;owasp-java-html-sanitizer&lt;/artifactId&gt;\n            &lt;version&gt;20200713.1&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- Tests --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\n                    &lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;junit&lt;/groupId&gt;\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- Microsoft Graph API --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.microsoft.graph&lt;/groupId&gt;\n            &lt;artifactId&gt;microsoft-graph&lt;/artifactId&gt;\n            &lt;version&gt;2.10.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.microsoft.graph&lt;/groupId&gt;\n            &lt;artifactId&gt;microsoft-graph-auth&lt;/artifactId&gt;\n            &lt;version&gt;0.3.0&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- JavaX Mail / Activation--&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.mail&lt;/groupId&gt;\n            &lt;artifactId&gt;mail&lt;/artifactId&gt;\n            &lt;version&gt;1.4.7&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.activation&lt;/groupId&gt;\n            &lt;artifactId&gt;activation&lt;/artifactId&gt;\n            &lt;version&gt;1.1.1&lt;/version&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p><strong>Mitarbeiter.java</strong>:</p>\n<pre><code>package com.example.accessingdatajpa;\n\nimport lombok.Getter;\nimport lombok.NoArgsConstructor;\nimport lombok.Setter;\nimport org.hibernate.search.mapper.pojo.mapping.definition.annotation.*;\nimport org.springframework.context.annotation.Bean;\n\nimport javax.persistence.*;\n\n@Getter\n@Setter\n@NoArgsConstructor\n@Entity\n@Table(name = &quot;mitarbeiter&quot;)\npublic class Mitarbeiter {\n\n  @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;mitarbeiterSeqGen&quot;)\n  @SequenceGenerator(sequenceName = &quot;mitarbeiter_seq&quot;, name = &quot;mitarbeiterSeqGen&quot;,\n      allocationSize = 1)\n  @Column(name = &quot;mitarbeiter_id&quot;)\n  @Id\n  private Long id;\n\n  @Column(name = &quot;email&quot;, unique = true)\n  @KeywordField\n  private String email;\n\n  @Column(name = &quot;vorname&quot;)\n  @FullTextField(analyzer = &quot;german&quot;)\n  private String vorname;\n\n  @Column(name = &quot;nachname&quot;)\n  @FullTextField(analyzer = &quot;german&quot;)\n  private String nachname;\n\n  public Mitarbeiter(Long id, String vorname, String nachname) {\n    this.id = id;\n    this.vorname = vorname;\n    this.nachname = nachname;\n\n  }\n}\n\n</code></pre>\n<p>AccessingDataJpaApplication.java:</p>\n<pre><code>package com.example.accessingdatajpa;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\n\n@SpringBootApplication\npublic class AccessingDataJpaApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(AccessingDataJpaApplication.class);\n    }}\n\n</code></pre>\n<p><strong>Detailed error</strong>:</p>\n<pre><code>2023-10-20T09:30:09.235+03:00  INFO 18304 --- [           main] c.e.a.AccessingDataJpaApplication        : Starting AccessingDataJpaApplication using Java 17.0.8.1 with PID 18304 (C:\\Profilmanager\\gs-accessing-data-jpa\\complete\\target\\classes started by VladSuciu in C:\\Profilmanager\\gs-accessing-data-jpa\\complete)\n2023-10-20T09:30:09.241+03:00  INFO 18304 --- [           main] c.e.a.AccessingDataJpaApplication        : The following 1 profile is active: &quot;local&quot;\n2023-10-20T09:30:10.642+03:00  INFO 18304 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.\n2023-10-20T09:30:10.704+03:00  INFO 18304 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 49 ms. Found 1 JPA repository interfaces.\n2023-10-20T09:30:11.906+03:00  INFO 18304 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)\n2023-10-20T09:30:11.919+03:00  INFO 18304 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\n2023-10-20T09:30:11.919+03:00  INFO 18304 --- [           main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.8]\n2023-10-20T09:30:12.083+03:00  INFO 18304 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\n2023-10-20T09:30:12.086+03:00  INFO 18304 --- [           main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2778 ms\n2023-10-20T09:30:12.481+03:00  INFO 18304 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...\n2023-10-20T09:30:12.822+03:00  INFO 18304 --- [           main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@55222ee9\n2023-10-20T09:30:12.823+03:00  INFO 18304 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.\n2023-10-20T09:30:12.989+03:00  INFO 18304 --- [           main] liquibase.database                       : Set default schema name to public\n2023-10-20T09:30:13.407+03:00  INFO 18304 --- [           main] liquibase.executor                       : Changelog query completed.\n2023-10-20T09:30:13.415+03:00  INFO 18304 --- [           main] liquibase.executor                       : Changelog query completed.\n2023-10-20T09:30:13.421+03:00  INFO 18304 --- [           main] liquibase.executor                       : Changelog query completed.\n2023-10-20T09:30:13.426+03:00  INFO 18304 --- [           main] liquibase.executor                       : Changelog query completed.\n2023-10-20T09:30:13.434+03:00  INFO 18304 --- [           main] liquibase.executor                       : Changelog query completed.\n2023-10-20T09:30:13.437+03:00  INFO 18304 --- [           main] liquibase.lockservice                    : Successfully acquired change log lock\n2023-10-20T09:30:13.464+03:00  INFO 18304 --- [           main] liquibase.changelog                      : Creating database history table with name: public.databasechangelog\n2023-10-20T09:30:13.474+03:00  INFO 18304 --- [           main] liquibase.executor                       : Changelog query completed.\n2023-10-20T09:30:13.479+03:00  INFO 18304 --- [           main] liquibase.changelog                      : Reading from public.databasechangelog\n2023-10-20T09:30:13.482+03:00  INFO 18304 --- [           main] liquibase.executor                       : Changelog query completed.\n2023-10-20T09:30:13.486+03:00  INFO 18304 --- [           main] liquibase.executor                       : Changelog query completed.\nRunning Changeset: classpath*:db/changelog/changes/00001-initial-database.yaml::1::\n2023-10-20T09:30:13.531+03:00  INFO 18304 --- [           main] liquibase.changelog                      : Sequence mitarbeiter_seq created\n2023-10-20T09:30:13.534+03:00  INFO 18304 --- [           main] liquibase.changelog                      : ChangeSet classpath*:db/changelog/changes/00001-initial-database.yaml::1:: ran successfully in 9ms\n2023-10-20T09:30:13.538+03:00  INFO 18304 --- [           main] liquibase.executor                       : Changelog query completed.\n2023-10-20T09:30:13.540+03:00  INFO 18304 --- [           main] liquibase.executor                       : Changelog query completed.\nRunning Changeset: classpath*:db/changelog/changes/00001-initial-database.yaml::2::\n2023-10-20T09:30:13.554+03:00  INFO 18304 --- [           main] liquibase.changelog                      : Table mitarbeiter created\n2023-10-20T09:30:13.557+03:00  INFO 18304 --- [           main] liquibase.changelog                      : ChangeSet classpath*:db/changelog/changes/00001-initial-database.yaml::2:: ran successfully in 15ms\n2023-10-20T09:30:13.559+03:00  INFO 18304 --- [           main] liquibase.executor                       : Changelog query completed.\nRunning Changeset: classpath*:db/changelog/changes/00001-initial-database.yaml::3::\n2023-10-20T09:30:13.573+03:00  INFO 18304 --- [           main] liquibase.changelog                      : Unique constraint added to mitarbeiter(email)\n2023-10-20T09:30:13.577+03:00  INFO 18304 --- [           main] liquibase.changelog                      : ChangeSet classpath*:db/changelog/changes/00001-initial-database.yaml::3::ran successfully in 15ms\n2023-10-20T09:30:13.579+03:00  INFO 18304 --- [           main] liquibase.executor                       : Changelog query completed.\nRunning Changeset: classpath*:db/changelog/changes/00006-initial-data-mitarbeiter.yaml::1::\n2023-10-20T09:30:13.588+03:00  INFO 18304 --- [           main] liquibase.changelog                      : New row inserted into mitarbeiter\n2023-10-20T09:30:13.591+03:00  INFO 18304 --- [           main] liquibase.changelog                      : ChangeSet classpath*:db/changelog/changes/00006-initial-data-mitarbeiter.yaml::1:: ran successfully in 9ms\n2023-10-20T09:30:13.594+03:00  INFO 18304 --- [           main] liquibase.executor                       : Changelog query completed.\nRunning Changeset: classpath*:db/changelog/changes/00006-initial-data-mitarbeiter.yaml::2:\n2023-10-20T09:30:13.603+03:00  INFO 18304 --- [           main] liquibase.changelog                      : New row inserted into mitarbeiter\n2023-10-20T09:30:13.607+03:00  INFO 18304 --- [           main] liquibase.changelog                      : ChangeSet classpath*:db/changelog/changes/00006-initial-data-mitarbeiter.yaml::2::ran successfully in 8ms\n2023-10-20T09:30:13.610+03:00  INFO 18304 --- [           main] liquibase.executor                       : Changelog query completed.\n2023-10-20T09:30:13.613+03:00  INFO 18304 --- [           main] liquibase                                : Update command completed successfully.\n2023-10-20T09:30:13.619+03:00  INFO 18304 --- [           main] liquibase.executor                       : Changelog query completed.\n2023-10-20T09:30:13.623+03:00  INFO 18304 --- [           main] liquibase.lockservice                    : Successfully released change log lock\n2023-10-20T09:30:13.755+03:00  WARN 18304 --- [           main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Class org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider does not implement the requested interface jakarta.persistence.spi.PersistenceProvider\n2023-10-20T09:30:13.756+03:00  INFO 18304 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...\n2023-10-20T09:30:13.764+03:00  INFO 18304 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.\n2023-10-20T09:30:13.772+03:00  INFO 18304 --- [           main] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]\n2023-10-20T09:30:13.790+03:00  INFO 18304 --- [           main] .s.b.a.l.ConditionEvaluationReportLogger : \n\nError starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.\n2023-10-20T09:30:13.831+03:00 ERROR 18304 --- [           main] o.s.boot.SpringApplication               : Application run failed\n\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Class org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider does not implement the requested interface jakarta.persistence.spi.PersistenceProvider\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1770) ~[spring-beans-6.0.9.jar:6.0.9]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598) ~[spring-beans-6.0.9.jar:6.0.9]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520) ~[spring-beans-6.0.9.jar:6.0.9]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.9.jar:6.0.9]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.9.jar:6.0.9]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.9.jar:6.0.9]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.9.jar:6.0.9]\n    at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1156) ~[spring-context-6.0.9.jar:6.0.9]\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:931) ~[spring-context-6.0.9.jar:6.0.9]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:608) ~[spring-context-6.0.9.jar:6.0.9]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.1.0.jar:3.1.0]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:733) ~[spring-boot-3.1.0.jar:3.1.0]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:435) ~[spring-boot-3.1.0.jar:3.1.0]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:311) ~[spring-boot-3.1.0.jar:3.1.0]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1305) ~[spring-boot-3.1.0.jar:3.1.0]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1294) ~[spring-boot-3.1.0.jar:3.1.0]\n    at com.example.accessingdatajpa.AccessingDataJpaApplication.main(AccessingDataJpaApplication.java:10) ~[classes/:na]\nCaused by: java.lang.IncompatibleClassChangeError: Class org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider does not implement the requested interface jakarta.persistence.spi.PersistenceProvider\n    at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:376) ~[spring-orm-6.0.9.jar:6.0.9]\n    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-6.0.9.jar:6.0.9]\n    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-6.0.9.jar:6.0.9]\n    at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:352) ~[spring-orm-6.0.9.jar:6.0.9]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1816) ~[spring-beans-6.0.9.jar:6.0.9]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1766) ~[spring-beans-6.0.9.jar:6.0.9]\n    ... 16 common frames omitted\n\n\nProcess finished with exit code 1\n</code></pre>\n"},{"tags":["java","apache-poi","xdocreport"],"answers":[{"tags":[],"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697783850,"creation_date":1697690147,"answer_id":77320986,"question_id":77311809,"body_markdown":"From your code I guess you are using very old versions of XDocReport and Apache POI. So I suggest update to more current versions.\r\n\r\nCurrent XDocReport  version 2.0.4 provides the `ImageManager` `Base64EmbedImgManager` already. So no special `Base64ImageExtractor` needed.\r\n\r\nFollowing works for me.\r\n\r\n    import java.io.*;\r\n    \r\n    //needed jars: xdocreport-2.0.4.jar, \r\n    import fr.opensagres.poi.xwpf.converter.xhtml.XHTMLConverter;\r\n    import fr.opensagres.poi.xwpf.converter.xhtml.XHTMLOptions;\r\n    import fr.opensagres.poi.xwpf.converter.xhtml.Base64EmbedImgManager ;\r\n    \r\n    //needed jars: all apache poi dependencies of poi-ooxml version 5.2.3\r\n    import org.apache.poi.xwpf.usermodel.*;\r\n    \r\n    public class DOCXToXHTMLXDocReport {\r\n    \r\n     public static void main(String[] args) throws Exception {\r\n    \r\n      String docPath = &quot;./WordDocument.docx&quot;;\r\n      String htmlPath = &quot;./WordDocument.html&quot;;\r\n    \r\n      XWPFDocument document = new XWPFDocument(new FileInputStream(docPath));\r\n    \r\n      XHTMLOptions options = XHTMLOptions.create().setImageManager(new Base64EmbedImgManager());\r\n      \r\n      FileOutputStream out = new FileOutputStream(htmlPath);\r\n      XHTMLConverter.getInstance().convert(document, out, options);\r\n    \r\n      out.close();      \r\n      document.close();    \r\n    \r\n      java.awt.Desktop.getDesktop().browse(new File(htmlPath).toPath().toRealPath(java.nio.file.LinkOption.NOFOLLOW_LINKS).toUri());  \r\n     \r\n     }\r\n    }\r\n\r\n\r\nAfter upgrading your versions, you should test again. And and if you have problems with Unicode in `WordDocument.docx`, the you should provide an example `WordDocument.docx` which produces those problems. That will make your problem reproducible for others.\r\n_________________________________________________\r\n\r\nFound the Unicode problem. [fr.opensagres.poi.xwpf.converter.xhtml.SimpleContentHandler](https://github.com/opensagres/xdocreport/blob/master/thirdparties-extension/fr.opensagres.poi.xwpf.converter.xhtml/src/main/java/fr/opensagres/poi/xwpf/converter/xhtml/SimpleContentHandler.java) uses [String.getBytes](https://docs.oracle.com/javase/8/docs/api/java/lang/String.html#getBytes--) without explicit `Charset`. That &quot;Encodes this String into a sequence of bytes using the **platform&#39;s default charset**, storing the result into a new byte array.&quot;.\r\n\r\nSo it depends on platform&#39;s default charset whether Unicode will be handled correctly. If the platform is Windows and no other charset is set via environment variables, the platform&#39;s default charset is windows-1252. That, of course cannot handle Unicode.\r\n\r\nYou can check via:\r\n\r\n    System.out.println(&quot;Default Charset=&quot; + java.nio.charset.Charset.defaultCharset());\t \r\n\r\nFor how to set UTF-8 the platform&#39;s default charset for Windows, please see https://stackoverflow.com/questions/361975/setting-the-default-java-character-encoding?answertab=scoredesc#tab-top.\r\n\r\nFor me, starting the class `DOCXToXHTMLXDocReport` via\r\n\r\n    java -Dfile.encoding=UTF-8 ... DOCXToXHTMLXDocReport\r\n\r\nproduces the correct Unicode results in HTML in Windows platform too.\r\n\r\n\r\n\r\n","title":"Convert .doc with utf-8 to html using xdocreport","body":"<p>From your code I guess you are using very old versions of XDocReport and Apache POI. So I suggest update to more current versions.</p>\n<p>Current XDocReport  version 2.0.4 provides the <code>ImageManager</code> <code>Base64EmbedImgManager</code> already. So no special <code>Base64ImageExtractor</code> needed.</p>\n<p>Following works for me.</p>\n<pre><code>import java.io.*;\n\n//needed jars: xdocreport-2.0.4.jar, \nimport fr.opensagres.poi.xwpf.converter.xhtml.XHTMLConverter;\nimport fr.opensagres.poi.xwpf.converter.xhtml.XHTMLOptions;\nimport fr.opensagres.poi.xwpf.converter.xhtml.Base64EmbedImgManager ;\n\n//needed jars: all apache poi dependencies of poi-ooxml version 5.2.3\nimport org.apache.poi.xwpf.usermodel.*;\n\npublic class DOCXToXHTMLXDocReport {\n\n public static void main(String[] args) throws Exception {\n\n  String docPath = &quot;./WordDocument.docx&quot;;\n  String htmlPath = &quot;./WordDocument.html&quot;;\n\n  XWPFDocument document = new XWPFDocument(new FileInputStream(docPath));\n\n  XHTMLOptions options = XHTMLOptions.create().setImageManager(new Base64EmbedImgManager());\n  \n  FileOutputStream out = new FileOutputStream(htmlPath);\n  XHTMLConverter.getInstance().convert(document, out, options);\n\n  out.close();      \n  document.close();    \n\n  java.awt.Desktop.getDesktop().browse(new File(htmlPath).toPath().toRealPath(java.nio.file.LinkOption.NOFOLLOW_LINKS).toUri());  \n \n }\n}\n</code></pre>\n<p>After upgrading your versions, you should test again. And and if you have problems with Unicode in <code>WordDocument.docx</code>, the you should provide an example <code>WordDocument.docx</code> which produces those problems. That will make your problem reproducible for others.</p>\n<hr />\n<p>Found the Unicode problem. <a href=\"https://github.com/opensagres/xdocreport/blob/master/thirdparties-extension/fr.opensagres.poi.xwpf.converter.xhtml/src/main/java/fr/opensagres/poi/xwpf/converter/xhtml/SimpleContentHandler.java\" rel=\"nofollow noreferrer\">fr.opensagres.poi.xwpf.converter.xhtml.SimpleContentHandler</a> uses <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/String.html#getBytes--\" rel=\"nofollow noreferrer\">String.getBytes</a> without explicit <code>Charset</code>. That &quot;Encodes this String into a sequence of bytes using the <strong>platform's default charset</strong>, storing the result into a new byte array.&quot;.</p>\n<p>So it depends on platform's default charset whether Unicode will be handled correctly. If the platform is Windows and no other charset is set via environment variables, the platform's default charset is windows-1252. That, of course cannot handle Unicode.</p>\n<p>You can check via:</p>\n<pre><code>System.out.println(&quot;Default Charset=&quot; + java.nio.charset.Charset.defaultCharset());  \n</code></pre>\n<p>For how to set UTF-8 the platform's default charset for Windows, please see <a href=\"https://stackoverflow.com/questions/361975/setting-the-default-java-character-encoding?answertab=scoredesc#tab-top\">Setting the default Java character encoding</a>.</p>\n<p>For me, starting the class <code>DOCXToXHTMLXDocReport</code> via</p>\n<pre><code>java -Dfile.encoding=UTF-8 ... DOCXToXHTMLXDocReport\n</code></pre>\n<p>produces the correct Unicode results in HTML in Windows platform too.</p>\n"}],"owner":{"account_id":29010361,"reputation":11,"user_id":22221997,"display_name":"Pla"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":87,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1697783850,"creation_date":1697571512,"question_id":77311809,"body_markdown":"I am converting doc file to html using the following code:\r\n   \r\n```\r\n   public static byte[] generateHTMLFromDoc(byte[] docBytes) {\r\n        try(ByteArrayInputStream inputStream = new ByteArrayInputStream(docBytes);\r\n            ByteArrayOutputStream outputStream = new ByteArrayOutputStream()) {\r\n            XWPFDocument document = new XWPFDocument(inputStream);\r\n            XHTMLOptions options = XHTMLOptions.create();\r\n            Base64ImageExtractor imageExtractor = new Base64ImageExtractor();\r\n            options.setExtractor(imageExtractor);\r\n            options.URIResolver(imageExtractor);\r\n            XHTMLConverter.getInstance().convert(document, outputStream, options);\r\n            return outputStream.toByteArray();\r\n        } catch (FileNotFoundException e) {\r\n            e.printStackTrace();\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n        return null;\r\n    }\r\n```\r\n\r\nBut my file include utf-8 so it will dislay like ??? such as: m?c l?c\r\nPlease help me how to add utf-8 into options\r\n\r\nI tried to add\r\n\r\n```\r\noptions.setEncoding(&quot;UTF-8&quot;);\r\n```\r\n\r\nbut there is no setEncoding for XHTMLOptions","title":"Convert .doc with utf-8 to html using xdocreport","body":"<p>I am converting doc file to html using the following code:</p>\n<pre><code>   public static byte[] generateHTMLFromDoc(byte[] docBytes) {\n        try(ByteArrayInputStream inputStream = new ByteArrayInputStream(docBytes);\n            ByteArrayOutputStream outputStream = new ByteArrayOutputStream()) {\n            XWPFDocument document = new XWPFDocument(inputStream);\n            XHTMLOptions options = XHTMLOptions.create();\n            Base64ImageExtractor imageExtractor = new Base64ImageExtractor();\n            options.setExtractor(imageExtractor);\n            options.URIResolver(imageExtractor);\n            XHTMLConverter.getInstance().convert(document, outputStream, options);\n            return outputStream.toByteArray();\n        } catch (FileNotFoundException e) {\n            e.printStackTrace();\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n        return null;\n    }\n</code></pre>\n<p>But my file include utf-8 so it will dislay like ??? such as: m?c l?c\nPlease help me how to add utf-8 into options</p>\n<p>I tried to add</p>\n<pre><code>options.setEncoding(&quot;UTF-8&quot;);\n</code></pre>\n<p>but there is no setEncoding for XHTMLOptions</p>\n"},{"tags":["java","json"],"comments":[{"owner":{"account_id":17717155,"reputation":527,"user_id":12863192,"display_name":"Ishan"},"score":0,"creation_date":1697781709,"post_id":77328605,"comment_id":136325209,"body_markdown":"You can have your own mapping file. Either a properties file or a JSON file. That file can have mappings between the fields in the incoming file and the fields in your POJO. That mapping file would be outside your deployment, a kind of data file. It could be a file OR it could be env variables or AWS Parameter Store or something if you are using cloud. Only that data needs to be changed when incoming file&#39;s field names change. No deploment needed. No change in your code.","body":"You can have your own mapping file. Either a properties file or a JSON file. That file can have mappings between the fields in the incoming file and the fields in your POJO. That mapping file would be outside your deployment, a kind of data file. It could be a file OR it could be env variables or AWS Parameter Store or something if you are using cloud. Only that data needs to be changed when incoming file&#39;s field names change. No deploment needed. No change in your code."},{"owner":{"account_id":17717155,"reputation":527,"user_id":12863192,"display_name":"Ishan"},"score":0,"creation_date":1697783059,"post_id":77328605,"comment_id":136325353,"body_markdown":"Forgot to mention. If something like this is not readily available, you can use Java Reflection APIs to dynamically call setters on your POJO.","body":"Forgot to mention. If something like this is not readily available, you can use Java Reflection APIs to dynamically call setters on your POJO."},{"owner":{"account_id":13009011,"reputation":1105,"user_id":9402689,"display_name":"Raymond Choi"},"score":0,"creation_date":1697783975,"post_id":77328605,"comment_id":136325462,"body_markdown":"Your JSON is a single level map to String.  Define your POJO with one element as type `Map&lt;String, String&gt;` can do the job.","body":"Your JSON is a single level map to String.  Define your POJO with one element as type <code>Map&lt;String, String&gt;</code> can do the job."}],"answers":[{"tags":[],"owner":{"account_id":16297526,"reputation":193,"user_id":11769408,"display_name":"Geoffrey"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697783198,"creation_date":1697783198,"answer_id":77328724,"question_id":77328605,"body_markdown":"It seems that you do a conceptual misunderstanding:\r\n\r\n&gt; Since it is a file and not an API, we are unsure when the fields may change in the future.\r\n\r\nYou try to bypass the API concepts by using files directly. But you still not avoid the core problem:\r\n\r\n&gt; If in the future, they change &#39;CUSTOMERID&#39; to &#39;MEMBERID,&#39; then my code would fail.\r\n\r\nThe API concepts are made to overcome this issue. So a correct approach would be to abandon file transfert and generate a API definition with DTO based on your Json file  (use open API / swagger editor).\r\n\r\nThis is gonna be the `V1`, then when you change from `CUSTOMERID`&#39; to &#39;`MEMBERID`, it&#39;s gonna be a `V2`. You just need to write the implementation for both cases.\r\n\r\n","title":"How can I map json data dynamically so that my code won&#39;t break?","body":"<p>It seems that you do a conceptual misunderstanding:</p>\n<blockquote>\n<p>Since it is a file and not an API, we are unsure when the fields may change in the future.</p>\n</blockquote>\n<p>You try to bypass the API concepts by using files directly. But you still not avoid the core problem:</p>\n<blockquote>\n<p>If in the future, they change 'CUSTOMERID' to 'MEMBERID,' then my code would fail.</p>\n</blockquote>\n<p>The API concepts are made to overcome this issue. So a correct approach would be to abandon file transfert and generate a API definition with DTO based on your Json file  (use open API / swagger editor).</p>\n<p>This is gonna be the <code>V1</code>, then when you change from <code>CUSTOMERID</code>' to '<code>MEMBERID</code>, it's gonna be a <code>V2</code>. You just need to write the implementation for both cases.</p>\n"}],"owner":{"account_id":20354547,"reputation":29,"user_id":14930379,"display_name":"NotACat"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1697783198,"creation_date":1697781347,"question_id":77328605,"body_markdown":"The problem is this: I am receiving a file from a vendor that is in JSON format. Currently, I have a POJO class that contains mappings for the JSON fields. Since it is a file and not an API, we are unsure when the fields may change in the future. \r\n\r\nSample JSON: { &quot;CUSTOMERID&quot;: &quot;123456&quot;, &quot;firstName&quot;: &quot;test1&quot;, &quot;middleName&quot;: &quot;&quot;, &quot;lastName&quot;: &quot;last2&quot;, &quot;suffix&quot;: &quot;Mr.&quot;, &quot;fullName&quot;: &quot; John&quot;, &quot;companyName&quot;: &quot;IT&quot;, &quot;SSN&quot;: &quot;&quot; }\r\n\r\nIf in the future, they change &#39;CUSTOMERID&#39; to &#39;MEMBERID,&#39; then my code would fail. How can I overcome this?&quot;","title":"How can I map json data dynamically so that my code won&#39;t break?","body":"<p>The problem is this: I am receiving a file from a vendor that is in JSON format. Currently, I have a POJO class that contains mappings for the JSON fields. Since it is a file and not an API, we are unsure when the fields may change in the future.</p>\n<p>Sample JSON: { &quot;CUSTOMERID&quot;: &quot;123456&quot;, &quot;firstName&quot;: &quot;test1&quot;, &quot;middleName&quot;: &quot;&quot;, &quot;lastName&quot;: &quot;last2&quot;, &quot;suffix&quot;: &quot;Mr.&quot;, &quot;fullName&quot;: &quot; John&quot;, &quot;companyName&quot;: &quot;IT&quot;, &quot;SSN&quot;: &quot;&quot; }</p>\n<p>If in the future, they change 'CUSTOMERID' to 'MEMBERID,' then my code would fail. How can I overcome this?&quot;</p>\n"},{"tags":["java","spring-boot","apache-kafka","kafka-consumer-api"],"owner":{"account_id":29713610,"reputation":1,"user_id":22772620,"display_name":"Manzz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697782812,"creation_date":1697782812,"question_id":77328698,"body_markdown":"I want to stop my consumer from running infinitely and also change topic name and group id in a loop and run my consumer. How can I proceed to do this?\r\n\r\nI was experimenting if I could use currentLag() function and compare the difference between current offset and endoffset and make the consumer exit if the difference were to be zero but I couldn&#39;t succeed.","title":"How to stop an infinite consumer in a java project?","body":"<p>I want to stop my consumer from running infinitely and also change topic name and group id in a loop and run my consumer. How can I proceed to do this?</p>\n<p>I was experimenting if I could use currentLag() function and compare the difference between current offset and endoffset and make the consumer exit if the difference were to be zero but I couldn't succeed.</p>\n"},{"tags":["java","jakarta-ee","ejb","jndi","ejb-2.x"],"answers":[{"comments":[{"owner":{"account_id":113485,"reputation":9218,"user_id":298870,"accept_rate":89,"display_name":"abson"},"score":0,"creation_date":1540198180,"post_id":11631583,"comment_id":92760235,"body_markdown":"How did you include it?","body":"How did you include it?"},{"owner":{"account_id":268435,"reputation":611,"user_id":557194,"display_name":"Nick Humphrey"},"score":0,"creation_date":1547033511,"post_id":11631583,"comment_id":95050391,"body_markdown":"I had a similar issue and the problem turned out to be a missing &quot;id&quot; attribute on the &lt;session&gt; tag in ejb-jar.xml. It needs to match the value in the &quot;href&quot; attribute for the &lt;enterpriseBean&gt; tag in ibm-ejb-jar-bnd.xmi","body":"I had a similar issue and the problem turned out to be a missing &quot;id&quot; attribute on the &lt;session&gt; tag in ejb-jar.xml. It needs to match the value in the &quot;href&quot; attribute for the &lt;enterpriseBean&gt; tag in ibm-ejb-jar-bnd.xmi"}],"tags":[],"owner":{"account_id":277571,"reputation":1676,"user_id":571653,"accept_rate":68,"display_name":"abhihello123"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1343135389,"creation_date":1343135389,"answer_id":11631583,"question_id":11625954,"body_markdown":"The problem was the binding.xmi file was not getting included. Included that and it worked.","title":"Local EJB Bean Not Found using Indirect JNDI which was working earlier","body":"<p>The problem was the binding.xmi file was not getting included. Included that and it worked.</p>\n"}],"owner":{"account_id":277571,"reputation":1676,"user_id":571653,"accept_rate":68,"display_name":"abhihello123"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":9344,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1697781800,"creation_date":1343114366,"question_id":11625954,"body_markdown":"I am using EJB 2.1 in a separate module in a multi-module Maven Application. I am using indirect JNDI (ie. using java:comp/env/ Not used it much). Also I am using EJB 2.1 for the first time. But since this is only a local simple EJB so not much problem.\r\nThe wiered bit about it is that it was working but suddenly without having changed any part relevant to it, it has stopped working now and I am getting NameNotFoundException. The things are done correctly as it was working. I am pretty sure about it.\r\nFirst my code,\r\n\r\n**ejb-jar.xml**\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;ejb-jar id=&quot;ejb-jar_ID&quot; version=&quot;2.1&quot; xmlns=&quot;http://java.sun.com/xml/ns/j2ee&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://java.sun.com/xml/ns/j2ee http://java.sun.com/xml/ns/j2ee/ejb-jar_2_1.xsd&quot;&gt;\r\n    \t&lt;display-name&gt;sr-g0a-ejb&lt;/display-name&gt;\r\n    \t&lt;enterprise-beans&gt;\r\n    \t\t&lt;session id=&quot;CreateAclService&quot;&gt;\r\n    \t\t\t&lt;ejb-name&gt;CreateAclService&lt;/ejb-name&gt;\r\n    \t\t\t&lt;local-home&gt;com.sre.g0a.CreateAclServiceLocalHome&lt;/local-home&gt;\r\n    \t\t\t&lt;local&gt;com.sre.g0a.CreateAclServiceLocal&lt;/local&gt;\r\n    \t\t\t&lt;ejb-class&gt;com.sre.g0a.CreateAclServiceBean&lt;/ejb-class&gt;\r\n    \t\t\t&lt;session-type&gt;Stateless&lt;/session-type&gt;\r\n    \t\t\t&lt;transaction-type&gt;Container&lt;/transaction-type&gt;\r\n    \t\t\t&lt;security-identity&gt;\r\n    \t\t\t\t&lt;description&gt;&lt;/description&gt;\r\n    \t\t\t\t&lt;run-as&gt;\r\n    \t\t\t\t\t&lt;description&gt;&lt;/description&gt;\r\n    \t\t\t\t\t&lt;role-name&gt;ACL_TECH_USER&lt;/role-name&gt;\r\n    \t\t\t\t&lt;/run-as&gt;\r\n    \t\t\t&lt;/security-identity&gt;\r\n    \t\t&lt;/session&gt;\r\n    \t&lt;/enterprise-beans&gt;\r\n    \t&lt;assembly-descriptor&gt;\r\n    \t\t&lt;security-role&gt;\r\n    \t\t\t&lt;description&gt;\r\n    \t\t\tACL_TECH_USER&lt;/description&gt;\r\n    \t\t\t&lt;role-name&gt;ACL_TECH_USER&lt;/role-name&gt;\r\n    \t\t&lt;/security-role&gt;\r\n    \t\t&lt;method-permission&gt;\r\n    \t\t\t&lt;role-name&gt;ACL_TECH_USER&lt;/role-name&gt;\r\n    \t\t\t&lt;method&gt;\r\n    \t\t\t\t&lt;ejb-name&gt;CreateAclService&lt;/ejb-name&gt;\r\n    \t\t\t\t&lt;method-intf&gt;Local&lt;/method-intf&gt;\r\n    \t\t\t\t&lt;method-name&gt;createAclRole&lt;/method-name&gt;\r\n    \t\t\t\t&lt;method-params&gt;\r\n    \t\t\t\t\t&lt;method-param&gt;com.sre.edms.bsc.types.EDMSAcl&lt;/method-param&gt;\r\n    \t\t\t\t\t&lt;method-param&gt;com.sre.edms.bsc.ids.EDMSDocumentID&lt;/method-param&gt;\r\n    \t\t\t\t&lt;/method-params&gt;\r\n    \t\t\t&lt;/method&gt;\r\n    \t\t&lt;/method-permission&gt;\r\n    \t\t&lt;container-transaction&gt;\r\n    \t\t\t&lt;method&gt;\r\n    \t\t\t\t&lt;ejb-name&gt;CreateAclService&lt;/ejb-name&gt;\r\n    \t\t\t\t&lt;method-name&gt;*&lt;/method-name&gt;\r\n    \t\t\t&lt;/method&gt;\r\n    \t\t\t&lt;trans-attribute&gt;NotSupported&lt;/trans-attribute&gt;\r\n    \t\t&lt;/container-transaction&gt;\r\n    \t&lt;/assembly-descriptor&gt;\r\n    &lt;/ejb-jar&gt;\r\n\r\n\r\n**The Snippet from the web module** (on the server) where from I am accessing the EJB method.\r\n\r\n\t\tHashtable&lt;String, String&gt; hashTable = new Hashtable&lt;String, String&gt;();\r\n\t\thashTable.put(Context.INITIAL_CONTEXT_FACTORY,\r\n\t\t&quot;com.ibm.websphere.naming.WsnInitialContextFactory&quot;);\r\n\t\t//hashTable.put(Context.PROVIDER_URL, &quot;corbaloc:iiop:localhost:9080&quot;);\r\n\t\tContext initialContext;\r\n\t\ttry {\r\n\t\t\tinitialContext = new InitialContext(hashTable);\r\n\t\t\tCreateAclServiceLocalHome home = (CreateAclServiceLocalHome) initialContext\r\n\t\t\t.lookup(&quot;java:comp/env/ejb/CreateAclService&quot;);\r\n\t\t\t//.lookup(&quot;ejblocal:ejb/CreateAclServiceLocal&quot;);\r\n\t\t\tCreateAclServiceLocal service = home.create();\r\n\t\t\teDMSAcl = service.createAclRole(eDMSAcl, edmsDocumentID);\r\n\t\t} catch (NamingException ne) {\r\n\t\t\tLOGGER.log(Level.WARNING, &quot;NamingException Occured&quot;, ne);\r\n\t\t\tthrow new GEMException(&quot;Failed to create ACL. NamingException Occured&quot;);\r\n\t\t} catch (CreateException ce) {\r\n\t\t\tLOGGER.log(Level.WARNING, &quot;CreateException Occured&quot;, ce);\r\n\t\t\tthrow new GEMException(&quot;Failed to create ACL&quot;);\r\n\t\t} catch (BscServiceException be) {\r\n\t\t\tLOGGER.log(Level.WARNING, &quot;BscServiceException Occured&quot;, be);\r\n\t\t\tthrow new GEMException(&quot;Failed to create ACL&quot;);\r\n\t\t}\r\n\r\n\r\n**Snippet from my web.xml** which shows the ejb-ref tag\r\n\r\n\t&lt;ejb-local-ref id=&quot;EJBLocalRef_1343037878938&quot;&gt;\r\n\t\t&lt;description&gt;\r\n\t\t&lt;/description&gt;\r\n\t\t&lt;ejb-ref-name&gt;ejb/CreateAclService&lt;/ejb-ref-name&gt;\r\n\t\t&lt;ejb-ref-type&gt;Session&lt;/ejb-ref-type&gt;\r\n\t\t&lt;local-home&gt;com.sre.g0a.CreateAclServiceLocalHome&lt;/local-home&gt;\r\n\t\t&lt;local&gt;com.sre.g0a.CreateAclServiceLocal&lt;/local&gt;\r\n\t\t&lt;ejb-link&gt;sr-g0a-ejb.jar#CreateAclService&lt;/ejb-link&gt;\r\n\t&lt;/ejb-local-ref&gt;\r\n\r\nNow the stacktrace of my Exception (NamingNotFoundException)\r\n\r\n    [7/24/12 12:34:26:629 IST] 00001720 GEMEBesUtil   W   NamingException Occured\r\n                                     com.ibm.websphere.naming.CannotInstantiateObjectException: A NameNotFoundException occurred on an indirect lookup on the name java:comp/env/ejb/CreateAclService. The name java:comp/env/ejb/CreateAclService maps to a JNDI name in deployment descriptor bindings for the application performing the JNDI lookup. Make sure that the JNDI name mapping in the deployment descriptor binding is correct. If the JNDI name mapping is correct, make sure the target resource can be resolved with the specified name relative to the default initial context.  [Root exception is javax.naming.NameNotFoundException: Name ejb not found in context &quot;ejblocal:&quot;.]\r\n    \tat com.ibm.ws.naming.util.Helpers.processSerializedObjectForLookupExt(Helpers.java:1081)\r\n    \tat com.ibm.ws.naming.urlbase.UrlContextHelper.processBoundObjectForLookup(UrlContextHelper.java:181)\r\n    \tat com.ibm.ws.naming.java.javaURLContextRoot.processBoundObjectForLookup(javaURLContextRoot.java:850)\r\n    \tat com.ibm.ws.naming.urlbase.UrlContextImpl.lookupExt(UrlContextImpl.java:1454)\r\n    \tat com.ibm.ws.naming.java.javaURLContextImpl.lookupExt(javaURLContextImpl.java:477)\r\n    \tat com.ibm.ws.naming.java.javaURLContextRoot.lookupExt(javaURLContextRoot.java:485)\r\n    \tat com.ibm.ws.naming.java.javaURLContextRoot.lookup(javaURLContextRoot.java:370)\r\n    \tat org.apache.aries.jndi.DelegateContext.lookup(DelegateContext.java:161)\r\n    \tat javax.naming.InitialContext.lookup(InitialContext.java:436)\r\n    \tat com.sre.g0a.server.util.GEMEBesUtil.createEDMSAcl(GEMEBesUtil.java:250)\r\n    \tat com.sre.g0a.server.util.GEMEBesUtil.formSrGemDocForCreation(GEMEBesUtil.java:180)\r\n    \tat com.sre.g0a.server.services.ImportComponentServiceImpl.createDocument(ImportComponentServiceImpl.java:65)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:60)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:37)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:611)\r\n    \tat com.google.gwt.user.server.rpc.RPC.invokeAndEncodeResponse(RPC.java:569)\r\n    \tat com.google.gwt.user.server.rpc.RPC.invokeAndEncodeResponse(RPC.java:551)\r\n    \tat com.sre.g0a.server.integration.GWTSpringController.processCall(GWTSpringController.java:57)\r\n    \tat com.google.gwt.user.server.rpc.RemoteServiceServlet.processPost(RemoteServiceServlet.java:248)\r\n    \tat com.google.gwt.user.server.rpc.AbstractRemoteServiceServlet.doPost(AbstractRemoteServiceServlet.java:62)\r\n    \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:595)\r\n    \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:668)\r\n    \tat com.ibm.ws.webcontainer.servlet.ServletWrapper.service(ServletWrapper.java:1188)\r\n    \tat com.ibm.ws.webcontainer.servlet.ServletWrapper.handleRequest(ServletWrapper.java:763)\r\n    \tat com.ibm.ws.webcontainer.servlet.ServletWrapper.handleRequest(ServletWrapper.java:454)\r\n    \tat com.ibm.ws.webcontainer.servlet.ServletWrapperImpl.handleRequest(ServletWrapperImpl.java:178)\r\n    \tat com.ibm.ws.webcontainer.filter.WebAppFilterManager.invokeFilters(WebAppFilterManager.java:1020)\r\n    \tat com.ibm.ws.webcontainer.webapp.WebApp.handleRequest(WebApp.java:3703)\r\n    \tat com.ibm.ws.webcontainer.webapp.WebGroup.handleRequest(WebGroup.java:304)\r\n    \tat com.ibm.ws.webcontainer.WebContainer.handleRequest(WebContainer.java:962)\r\n    \tat com.ibm.ws.webcontainer.WSWebContainer.handleRequest(WSWebContainer.java:1662)\r\n    \tat com.ibm.ws.webcontainer.channel.WCChannelLink.ready(WCChannelLink.java:195)\r\n    \tat com.ibm.ws.http.channel.inbound.impl.HttpInboundLink.handleDiscrimination(HttpInboundLink.java:452)\r\n    \tat com.ibm.ws.http.channel.inbound.impl.HttpInboundLink.handleNewRequest(HttpInboundLink.java:511)\r\n    \tat com.ibm.ws.http.channel.inbound.impl.HttpInboundLink.processRequest(HttpInboundLink.java:305)\r\n    \tat com.ibm.ws.http.channel.inbound.impl.HttpICLReadCallback.complete(HttpICLReadCallback.java:83)\r\n    \tat com.ibm.ws.tcp.channel.impl.AioReadCompletionListener.futureCompleted(AioReadCompletionListener.java:165)\r\n    \tat com.ibm.io.async.AbstractAsyncFuture.invokeCallback(AbstractAsyncFuture.java:217)\r\n    \tat com.ibm.io.async.AsyncChannelFuture.fireCompletionActions(AsyncChannelFuture.java:161)\r\n    \tat com.ibm.io.async.AsyncFuture.completed(AsyncFuture.java:138)\r\n    \tat com.ibm.io.async.ResultHandler.complete(ResultHandler.java:204)\r\n    \tat com.ibm.io.async.ResultHandler.runEventProcessingLoop(ResultHandler.java:775)\r\n    \tat com.ibm.io.async.ResultHandler$2.run(ResultHandler.java:905)\r\n    \tat com.ibm.ws.util.ThreadPool$Worker.run(ThreadPool.java:1659)\r\n    Caused by: javax.naming.NameNotFoundException: Name ejb not found in context &quot;ejblocal:&quot;.\r\n    \tat com.ibm.ws.naming.ipbase.NameSpace.getParentCtxInternal(NameSpace.java:1969)\r\n    \tat com.ibm.ws.naming.ipbase.NameSpace.retrieveBinding(NameSpace.java:1376)\r\n    \tat com.ibm.ws.naming.ipbase.NameSpace.lookupInternal(NameSpace.java:1219)\r\n    \tat com.ibm.ws.naming.ipbase.NameSpace.lookup(NameSpace.java:1141)\r\n    \tat com.ibm.ws.naming.urlbase.UrlContextImpl.lookupExt(UrlContextImpl.java:1436)\r\n    \tat com.ibm.ws.naming.jndicos.CNContextImpl.lookupExt(CNContextImpl.java:1425)\r\n    \tat com.ibm.ws.naming.jndicos.CNContextImpl.lookupExt(CNContextImpl.java:1475)\r\n    \tat com.ibm.ws.naming.util.IndirectJndiLookupObjectFactory$1.run(IndirectJndiLookupObjectFactory.java:373)\r\n    \tat com.ibm.ws.security.util.AccessController.doPrivileged(AccessController.java:118)\r\n    \tat com.ibm.ws.naming.util.IndirectJndiLookupObjectFactory.getObjectInstanceExt(IndirectJndiLookupObjectFactory.java:223)\r\n    \tat com.ibm.ws.naming.util.Helpers.processSerializedObjectForLookupExt(Helpers.java:990)\r\n    \t... 44 more\r\n\r\n\r\n","title":"Local EJB Bean Not Found using Indirect JNDI which was working earlier","body":"<p>I am using EJB 2.1 in a separate module in a multi-module Maven Application. I am using indirect JNDI (ie. using java:comp/env/ Not used it much). Also I am using EJB 2.1 for the first time. But since this is only a local simple EJB so not much problem.\nThe wiered bit about it is that it was working but suddenly without having changed any part relevant to it, it has stopped working now and I am getting NameNotFoundException. The things are done correctly as it was working. I am pretty sure about it.\nFirst my code,</p>\n\n<p><strong>ejb-jar.xml</strong></p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;ejb-jar id=\"ejb-jar_ID\" version=\"2.1\" xmlns=\"http://java.sun.com/xml/ns/j2ee\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xsi:schemaLocation=\"http://java.sun.com/xml/ns/j2ee http://java.sun.com/xml/ns/j2ee/ejb-jar_2_1.xsd\"&gt;\n    &lt;display-name&gt;sr-g0a-ejb&lt;/display-name&gt;\n    &lt;enterprise-beans&gt;\n        &lt;session id=\"CreateAclService\"&gt;\n            &lt;ejb-name&gt;CreateAclService&lt;/ejb-name&gt;\n            &lt;local-home&gt;com.sre.g0a.CreateAclServiceLocalHome&lt;/local-home&gt;\n            &lt;local&gt;com.sre.g0a.CreateAclServiceLocal&lt;/local&gt;\n            &lt;ejb-class&gt;com.sre.g0a.CreateAclServiceBean&lt;/ejb-class&gt;\n            &lt;session-type&gt;Stateless&lt;/session-type&gt;\n            &lt;transaction-type&gt;Container&lt;/transaction-type&gt;\n            &lt;security-identity&gt;\n                &lt;description&gt;&lt;/description&gt;\n                &lt;run-as&gt;\n                    &lt;description&gt;&lt;/description&gt;\n                    &lt;role-name&gt;ACL_TECH_USER&lt;/role-name&gt;\n                &lt;/run-as&gt;\n            &lt;/security-identity&gt;\n        &lt;/session&gt;\n    &lt;/enterprise-beans&gt;\n    &lt;assembly-descriptor&gt;\n        &lt;security-role&gt;\n            &lt;description&gt;\n            ACL_TECH_USER&lt;/description&gt;\n            &lt;role-name&gt;ACL_TECH_USER&lt;/role-name&gt;\n        &lt;/security-role&gt;\n        &lt;method-permission&gt;\n            &lt;role-name&gt;ACL_TECH_USER&lt;/role-name&gt;\n            &lt;method&gt;\n                &lt;ejb-name&gt;CreateAclService&lt;/ejb-name&gt;\n                &lt;method-intf&gt;Local&lt;/method-intf&gt;\n                &lt;method-name&gt;createAclRole&lt;/method-name&gt;\n                &lt;method-params&gt;\n                    &lt;method-param&gt;com.sre.edms.bsc.types.EDMSAcl&lt;/method-param&gt;\n                    &lt;method-param&gt;com.sre.edms.bsc.ids.EDMSDocumentID&lt;/method-param&gt;\n                &lt;/method-params&gt;\n            &lt;/method&gt;\n        &lt;/method-permission&gt;\n        &lt;container-transaction&gt;\n            &lt;method&gt;\n                &lt;ejb-name&gt;CreateAclService&lt;/ejb-name&gt;\n                &lt;method-name&gt;*&lt;/method-name&gt;\n            &lt;/method&gt;\n            &lt;trans-attribute&gt;NotSupported&lt;/trans-attribute&gt;\n        &lt;/container-transaction&gt;\n    &lt;/assembly-descriptor&gt;\n&lt;/ejb-jar&gt;\n</code></pre>\n\n<p><strong>The Snippet from the web module</strong> (on the server) where from I am accessing the EJB method.</p>\n\n<pre><code>    Hashtable&lt;String, String&gt; hashTable = new Hashtable&lt;String, String&gt;();\n    hashTable.put(Context.INITIAL_CONTEXT_FACTORY,\n    \"com.ibm.websphere.naming.WsnInitialContextFactory\");\n    //hashTable.put(Context.PROVIDER_URL, \"corbaloc:iiop:localhost:9080\");\n    Context initialContext;\n    try {\n        initialContext = new InitialContext(hashTable);\n        CreateAclServiceLocalHome home = (CreateAclServiceLocalHome) initialContext\n        .lookup(\"java:comp/env/ejb/CreateAclService\");\n        //.lookup(\"ejblocal:ejb/CreateAclServiceLocal\");\n        CreateAclServiceLocal service = home.create();\n        eDMSAcl = service.createAclRole(eDMSAcl, edmsDocumentID);\n    } catch (NamingException ne) {\n        LOGGER.log(Level.WARNING, \"NamingException Occured\", ne);\n        throw new GEMException(\"Failed to create ACL. NamingException Occured\");\n    } catch (CreateException ce) {\n        LOGGER.log(Level.WARNING, \"CreateException Occured\", ce);\n        throw new GEMException(\"Failed to create ACL\");\n    } catch (BscServiceException be) {\n        LOGGER.log(Level.WARNING, \"BscServiceException Occured\", be);\n        throw new GEMException(\"Failed to create ACL\");\n    }\n</code></pre>\n\n<p><strong>Snippet from my web.xml</strong> which shows the ejb-ref tag</p>\n\n<pre><code>&lt;ejb-local-ref id=\"EJBLocalRef_1343037878938\"&gt;\n    &lt;description&gt;\n    &lt;/description&gt;\n    &lt;ejb-ref-name&gt;ejb/CreateAclService&lt;/ejb-ref-name&gt;\n    &lt;ejb-ref-type&gt;Session&lt;/ejb-ref-type&gt;\n    &lt;local-home&gt;com.sre.g0a.CreateAclServiceLocalHome&lt;/local-home&gt;\n    &lt;local&gt;com.sre.g0a.CreateAclServiceLocal&lt;/local&gt;\n    &lt;ejb-link&gt;sr-g0a-ejb.jar#CreateAclService&lt;/ejb-link&gt;\n&lt;/ejb-local-ref&gt;\n</code></pre>\n\n<p>Now the stacktrace of my Exception (NamingNotFoundException)</p>\n\n<pre><code>[7/24/12 12:34:26:629 IST] 00001720 GEMEBesUtil   W   NamingException Occured\n                                 com.ibm.websphere.naming.CannotInstantiateObjectException: A NameNotFoundException occurred on an indirect lookup on the name java:comp/env/ejb/CreateAclService. The name java:comp/env/ejb/CreateAclService maps to a JNDI name in deployment descriptor bindings for the application performing the JNDI lookup. Make sure that the JNDI name mapping in the deployment descriptor binding is correct. If the JNDI name mapping is correct, make sure the target resource can be resolved with the specified name relative to the default initial context.  [Root exception is javax.naming.NameNotFoundException: Name ejb not found in context \"ejblocal:\".]\n    at com.ibm.ws.naming.util.Helpers.processSerializedObjectForLookupExt(Helpers.java:1081)\n    at com.ibm.ws.naming.urlbase.UrlContextHelper.processBoundObjectForLookup(UrlContextHelper.java:181)\n    at com.ibm.ws.naming.java.javaURLContextRoot.processBoundObjectForLookup(javaURLContextRoot.java:850)\n    at com.ibm.ws.naming.urlbase.UrlContextImpl.lookupExt(UrlContextImpl.java:1454)\n    at com.ibm.ws.naming.java.javaURLContextImpl.lookupExt(javaURLContextImpl.java:477)\n    at com.ibm.ws.naming.java.javaURLContextRoot.lookupExt(javaURLContextRoot.java:485)\n    at com.ibm.ws.naming.java.javaURLContextRoot.lookup(javaURLContextRoot.java:370)\n    at org.apache.aries.jndi.DelegateContext.lookup(DelegateContext.java:161)\n    at javax.naming.InitialContext.lookup(InitialContext.java:436)\n    at com.sre.g0a.server.util.GEMEBesUtil.createEDMSAcl(GEMEBesUtil.java:250)\n    at com.sre.g0a.server.util.GEMEBesUtil.formSrGemDocForCreation(GEMEBesUtil.java:180)\n    at com.sre.g0a.server.services.ImportComponentServiceImpl.createDocument(ImportComponentServiceImpl.java:65)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:60)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:37)\n    at java.lang.reflect.Method.invoke(Method.java:611)\n    at com.google.gwt.user.server.rpc.RPC.invokeAndEncodeResponse(RPC.java:569)\n    at com.google.gwt.user.server.rpc.RPC.invokeAndEncodeResponse(RPC.java:551)\n    at com.sre.g0a.server.integration.GWTSpringController.processCall(GWTSpringController.java:57)\n    at com.google.gwt.user.server.rpc.RemoteServiceServlet.processPost(RemoteServiceServlet.java:248)\n    at com.google.gwt.user.server.rpc.AbstractRemoteServiceServlet.doPost(AbstractRemoteServiceServlet.java:62)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:595)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:668)\n    at com.ibm.ws.webcontainer.servlet.ServletWrapper.service(ServletWrapper.java:1188)\n    at com.ibm.ws.webcontainer.servlet.ServletWrapper.handleRequest(ServletWrapper.java:763)\n    at com.ibm.ws.webcontainer.servlet.ServletWrapper.handleRequest(ServletWrapper.java:454)\n    at com.ibm.ws.webcontainer.servlet.ServletWrapperImpl.handleRequest(ServletWrapperImpl.java:178)\n    at com.ibm.ws.webcontainer.filter.WebAppFilterManager.invokeFilters(WebAppFilterManager.java:1020)\n    at com.ibm.ws.webcontainer.webapp.WebApp.handleRequest(WebApp.java:3703)\n    at com.ibm.ws.webcontainer.webapp.WebGroup.handleRequest(WebGroup.java:304)\n    at com.ibm.ws.webcontainer.WebContainer.handleRequest(WebContainer.java:962)\n    at com.ibm.ws.webcontainer.WSWebContainer.handleRequest(WSWebContainer.java:1662)\n    at com.ibm.ws.webcontainer.channel.WCChannelLink.ready(WCChannelLink.java:195)\n    at com.ibm.ws.http.channel.inbound.impl.HttpInboundLink.handleDiscrimination(HttpInboundLink.java:452)\n    at com.ibm.ws.http.channel.inbound.impl.HttpInboundLink.handleNewRequest(HttpInboundLink.java:511)\n    at com.ibm.ws.http.channel.inbound.impl.HttpInboundLink.processRequest(HttpInboundLink.java:305)\n    at com.ibm.ws.http.channel.inbound.impl.HttpICLReadCallback.complete(HttpICLReadCallback.java:83)\n    at com.ibm.ws.tcp.channel.impl.AioReadCompletionListener.futureCompleted(AioReadCompletionListener.java:165)\n    at com.ibm.io.async.AbstractAsyncFuture.invokeCallback(AbstractAsyncFuture.java:217)\n    at com.ibm.io.async.AsyncChannelFuture.fireCompletionActions(AsyncChannelFuture.java:161)\n    at com.ibm.io.async.AsyncFuture.completed(AsyncFuture.java:138)\n    at com.ibm.io.async.ResultHandler.complete(ResultHandler.java:204)\n    at com.ibm.io.async.ResultHandler.runEventProcessingLoop(ResultHandler.java:775)\n    at com.ibm.io.async.ResultHandler$2.run(ResultHandler.java:905)\n    at com.ibm.ws.util.ThreadPool$Worker.run(ThreadPool.java:1659)\nCaused by: javax.naming.NameNotFoundException: Name ejb not found in context \"ejblocal:\".\n    at com.ibm.ws.naming.ipbase.NameSpace.getParentCtxInternal(NameSpace.java:1969)\n    at com.ibm.ws.naming.ipbase.NameSpace.retrieveBinding(NameSpace.java:1376)\n    at com.ibm.ws.naming.ipbase.NameSpace.lookupInternal(NameSpace.java:1219)\n    at com.ibm.ws.naming.ipbase.NameSpace.lookup(NameSpace.java:1141)\n    at com.ibm.ws.naming.urlbase.UrlContextImpl.lookupExt(UrlContextImpl.java:1436)\n    at com.ibm.ws.naming.jndicos.CNContextImpl.lookupExt(CNContextImpl.java:1425)\n    at com.ibm.ws.naming.jndicos.CNContextImpl.lookupExt(CNContextImpl.java:1475)\n    at com.ibm.ws.naming.util.IndirectJndiLookupObjectFactory$1.run(IndirectJndiLookupObjectFactory.java:373)\n    at com.ibm.ws.security.util.AccessController.doPrivileged(AccessController.java:118)\n    at com.ibm.ws.naming.util.IndirectJndiLookupObjectFactory.getObjectInstanceExt(IndirectJndiLookupObjectFactory.java:223)\n    at com.ibm.ws.naming.util.Helpers.processSerializedObjectForLookupExt(Helpers.java:990)\n    ... 44 more\n</code></pre>\n"},{"tags":["java","android","onkeydown","onkeyup"],"owner":{"account_id":29713543,"reputation":1,"user_id":22772564,"display_name":"Joshua"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697780685,"creation_date":1697780685,"question_id":77328562,"body_markdown":"Pressing down or holding down &#39;T&#39; results in the &quot;T UP&quot; log statement being executed repeatedly, as opposed to only when the key is released, which should not be the intended behavior. Help appreciated!\r\n\r\n```\r\npublic class MainActivity extends AppCompatActivity {\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n    }\r\n\r\n    @Override\r\n    public boolean dispatchKeyEvent(KeyEvent event) {\r\n        if (event.getAction() == KeyEvent.ACTION_UP &amp;&amp;\r\n                event.getKeyCode() == KeyEvent.KEYCODE_T) {\r\n            Log.d(&quot;KEYACTION&quot;, &quot;T UP&quot;);\r\n        }\r\n\r\n        return false;\r\n    }\r\n}```\r\n\r\n\r\nI originally tried using both the onKeyDown and onKeyUp overrides independently, and the issue became apparent. Using dispatchKey was the alternative solution but has also not worked properly.","title":"Android studio onKeyUp getting called when key is down and/or held down","body":"<p>Pressing down or holding down 'T' results in the &quot;T UP&quot; log statement being executed repeatedly, as opposed to only when the key is released, which should not be the intended behavior. Help appreciated!</p>\n<pre><code>public class MainActivity extends AppCompatActivity {\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n    }\n\n    @Override\n    public boolean dispatchKeyEvent(KeyEvent event) {\n        if (event.getAction() == KeyEvent.ACTION_UP &amp;&amp;\n                event.getKeyCode() == KeyEvent.KEYCODE_T) {\n            Log.d(&quot;KEYACTION&quot;, &quot;T UP&quot;);\n        }\n\n        return false;\n    }\n}```\n\n\nI originally tried using both the onKeyDown and onKeyUp overrides independently, and the issue became apparent. Using dispatchKey was the alternative solution but has also not worked properly.\n</code></pre>\n"},{"tags":["java","testng","appium-android","extentreports"],"answers":[{"comments":[{"owner":{"account_id":14854671,"reputation":217,"user_id":10727547,"display_name":"Tom Cockram"},"score":0,"creation_date":1552411819,"post_id":55127355,"comment_id":96996489,"body_markdown":"I get &quot;cannot resolve symbol&quot; on the .getDescription().","body":"I get &quot;cannot resolve symbol&quot; on the .getDescription()."},{"owner":{"account_id":4046845,"reputation":148,"user_id":3327823,"display_name":"Rakesh"},"score":0,"creation_date":1552411995,"post_id":55127355,"comment_id":96996591,"body_markdown":"If your using testng library to define ur tests (@Test) then it should get resolved.","body":"If your using testng library to define ur tests (@Test) then it should get resolved."},{"owner":{"account_id":14854671,"reputation":217,"user_id":10727547,"display_name":"Tom Cockram"},"score":0,"creation_date":1552412079,"post_id":55127355,"comment_id":96996650,"body_markdown":"I am using testNG to define, version 6.8?","body":"I am using testNG to define, version 6.8?"},{"owner":{"account_id":14854671,"reputation":217,"user_id":10727547,"display_name":"Tom Cockram"},"score":0,"creation_date":1552653345,"post_id":55127355,"comment_id":97103343,"body_markdown":"Any other ideas?","body":"Any other ideas?"}],"tags":[],"owner":{"account_id":4046845,"reputation":148,"user_id":3327823,"display_name":"Rakesh"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1552411392,"creation_date":1552411392,"answer_id":55127355,"question_id":55124234,"body_markdown":"Instead of @Test(testName = “ The test name is the test”) \nUse  @Test(Description = “ The test name is the test”)\n\nAnd \nUse this below line.\n\nExtentTest child = parenttest.get().createNode(method.getDescription().getName());\n\nThis works!!","title":"Use test name rather than method name for extent reporter","body":"<p>Instead of @Test(testName = “ The test name is the test”) \nUse  @Test(Description = “ The test name is the test”)</p>\n\n<p>And \nUse this below line.</p>\n\n<p>ExtentTest child = parenttest.get().createNode(method.getDescription().getName());</p>\n\n<p>This works!!</p>\n"},{"tags":[],"owner":{"account_id":8136065,"reputation":31,"user_id":6127649,"accept_rate":60,"display_name":"Jaideep Bahadur Srivastava"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697779454,"creation_date":1697779454,"answer_id":77328482,"question_id":55124234,"body_markdown":"In the TestListener, i am changing the name of the test method with the parameters which has data fetched from csv at run time \r\n\r\n\t\r\n\r\n    public void onTestStart(ITestResult result) {\r\n    //\t\tSystem.out.println((&quot;*** Running Test method &quot; + result.getMethod().getMethodName() + &quot;...&quot;));\r\n    //\t\tExtentTestManager.startTest(result.getMethod().getMethodName());\r\n    \t\tSystem.out.println((&quot;*** Running Test method &quot; + result.getMethod().getMethodName() + &quot;...&quot;));\r\n    \t\tString methodName = result.getMethod().getMethodName();\r\n    \t\tObject[] parameters = result.getParameters();\r\n    \t\tif(result.getMethod().getMethodName().equalsIgnoreCase(&quot;DbEnvSet&quot;)||result.getMethod().getMethodName().equalsIgnoreCase(&quot;closeDbConnections&quot;)){\r\n    \t\t}else{\r\n    \t\t\tif (parameters != null &amp;&amp; parameters.length &gt; 0) {\r\n    \t\t\t\tmethodName = &quot;Method : &quot; + parameters[0].toString() ;\r\n    \t\t\t\tExtentTestManager.startTest(methodName);\r\n    \t\t\t}\r\n    \r\n    \t\t}\r\n    \t\tthis.testStatus = \tnew TestStatus();\r\n    \t}\r\n\r\nI am using Dataprovider and reading the data from a csv file \r\n\r\n      @Test(dependsOnMethods = { &quot;DbEnvSet&quot; }, dataProvider = &quot;ReadRecords&quot;, dataProviderClass = RecordsDataProvider.class)\r\n        @Parameters({&quot;environment&quot;,&quot;dbUserName&quot;,&quot;dbPassword&quot;})\r\n        //,String TransactionTime,String SessionID,String TypeOfScenario,String Amount\r\n        public void End2EndScenario(String Number,String scenario,String error) throws Exception {\r\n    }\r\n\r\nHere Number,scenario and error are the values which are being read from csv [![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/qOmoL.png\r\n\r\n","title":"Use test name rather than method name for extent reporter","body":"<p>In the TestListener, i am changing the name of the test method with the parameters which has data fetched from csv at run time</p>\n<pre><code>public void onTestStart(ITestResult result) {\n//      System.out.println((&quot;*** Running Test method &quot; + result.getMethod().getMethodName() + &quot;...&quot;));\n//      ExtentTestManager.startTest(result.getMethod().getMethodName());\n        System.out.println((&quot;*** Running Test method &quot; + result.getMethod().getMethodName() + &quot;...&quot;));\n        String methodName = result.getMethod().getMethodName();\n        Object[] parameters = result.getParameters();\n        if(result.getMethod().getMethodName().equalsIgnoreCase(&quot;DbEnvSet&quot;)||result.getMethod().getMethodName().equalsIgnoreCase(&quot;closeDbConnections&quot;)){\n        }else{\n            if (parameters != null &amp;&amp; parameters.length &gt; 0) {\n                methodName = &quot;Method : &quot; + parameters[0].toString() ;\n                ExtentTestManager.startTest(methodName);\n            }\n\n        }\n        this.testStatus =   new TestStatus();\n    }\n</code></pre>\n<p>I am using Dataprovider and reading the data from a csv file</p>\n<pre><code>  @Test(dependsOnMethods = { &quot;DbEnvSet&quot; }, dataProvider = &quot;ReadRecords&quot;, dataProviderClass = RecordsDataProvider.class)\n    @Parameters({&quot;environment&quot;,&quot;dbUserName&quot;,&quot;dbPassword&quot;})\n    //,String TransactionTime,String SessionID,String TypeOfScenario,String Amount\n    public void End2EndScenario(String Number,String scenario,String error) throws Exception {\n}\n</code></pre>\n<p>Here Number,scenario and error are the values which are being read from csv <a href=\"https://i.stack.imgur.com/qOmoL.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/qOmoL.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":14854671,"reputation":217,"user_id":10727547,"display_name":"Tom Cockram"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":764,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1697779454,"creation_date":1552401765,"question_id":55124234,"body_markdown":"I want to use the test name I&#39;m giving the report rather than the method name.\r\n\r\nThis is where I am naming the test.\r\n\r\n    @Test(testName = &quot;The test name is test&quot;, retryAnalyzer = RetryAnalyzer.class)\r\n\r\nThis is the before method where I am getting the test name\r\n\r\n     @BeforeMethod\r\n    public synchronized void beforeMethod(Method method) {\r\n        ExtentTest child = parentTest.get().createNode(method.getName());\r\n        test.set(child);\r\n\r\nI would like the before method to read the test name at the start of the test.\r\n\r\nThanks","title":"Use test name rather than method name for extent reporter","body":"<p>I want to use the test name I'm giving the report rather than the method name.</p>\n\n<p>This is where I am naming the test.</p>\n\n<pre><code>@Test(testName = \"The test name is test\", retryAnalyzer = RetryAnalyzer.class)\n</code></pre>\n\n<p>This is the before method where I am getting the test name</p>\n\n<pre><code> @BeforeMethod\npublic synchronized void beforeMethod(Method method) {\n    ExtentTest child = parentTest.get().createNode(method.getName());\n    test.set(child);\n</code></pre>\n\n<p>I would like the before method to read the test name at the start of the test.</p>\n\n<p>Thanks</p>\n"},{"tags":["java","spring","postgresql","transactions"],"comments":[{"owner":{"account_id":6396751,"reputation":500,"user_id":4960846,"display_name":"Loop"},"score":0,"creation_date":1697784838,"post_id":77328448,"comment_id":136325593,"body_markdown":"The deletBatch call inside the deleteSendEvents will definitely NOT create a new Transaktion because there is no way for the class proxy to intercept this call. As for testing you could debug it and check if every result you except is already in the database. In these cases, I find using the TransactionTemplate - the annotations uses that class as well - more concise","body":"The deletBatch call inside the deleteSendEvents will definitely NOT create a new Transaktion because there is no way for the class proxy to intercept this call. As for testing you could debug it and check if every result you except is already in the database. In these cases, I find using the TransactionTemplate - the annotations uses that class as well - more concise"},{"owner":{"account_id":15892628,"reputation":89,"user_id":11467296,"display_name":"Vasilis Iak"},"score":0,"creation_date":1697788085,"post_id":77328448,"comment_id":136326178,"body_markdown":"@Loop in simple terms, I can understand that this will not create new Transaction, since the call comes from the same class with the same transaction manager. Does that mean that it will not create multiple locks to the database as well?","body":"@Loop in simple terms, I can understand that this will not create new Transaction, since the call comes from the same class with the same transaction manager. Does that mean that it will not create multiple locks to the database as well?"},{"owner":{"account_id":6396751,"reputation":500,"user_id":4960846,"display_name":"Loop"},"score":0,"creation_date":1698739389,"post_id":77328448,"comment_id":136440166,"body_markdown":"It won&#39;t. And if you need multiple Transactions, you should use the propagation level &quot;REQUIRES_NEW&quot; or something similar. The default behavior of the transactional annotation will either use the existing transaction from the calling thread or create a new one if there is no active transaction available.","body":"It won&#39;t. And if you need multiple Transactions, you should use the propagation level &quot;REQUIRES_NEW&quot; or something similar. The default behavior of the transactional annotation will either use the existing transaction from the calling thread or create a new one if there is no active transaction available."}],"owner":{"account_id":15892628,"reputation":89,"user_id":11467296,"display_name":"Vasilis Iak"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1697778816,"creation_date":1697778816,"question_id":77328448,"body_markdown":"I have a @Transactional Service class EventsService and a function that deletes some events according to their state. The implementation looks like this:\r\n\r\n```\r\n@Service\r\n@Transactional(&quot;transactionManager&quot;)\r\npublic class EventsService {\r\n\r\n  @Autowired private EventsRepository eventsRepository;\r\n  \r\n  public int deleteSentEvents() {\r\n\tString state = &quot;SENT&quot;;\r\n\tint deletionLimit = 10000;\r\n    Pageable page = Pageable.ofSize(1000);\r\n    Page&lt;Events&gt; eventsPage = null;\r\n    do {\r\n      eventsPage =\r\n          eventsRepository.findEventsByState(state, page); eventsRepository.deleteInBatch(eventsPage.getContent().stream().map(Events::getId).toList());\r\n      deletedTotal += eventsPage.getNumberOfElements();\r\n    } while (eventsPage.hasNext() &amp;&amp; deletedTotal &lt; deletionLimit);\r\n    return deletedTotal;\r\n  }\r\n```  \r\n I want to move the deletion part outside of this function and have multiple smaller transactions created for each page, in order not to lock all the rows at once for bigger time. So, I changed the code like this:\r\n```\r\n public int deleteSentEvents() {\r\n\tString state = &quot;SENT&quot;;\r\n\tint deletionLimit = 10000;\r\n    Pageable page = Pageable.ofSize(1000);\r\n    Page&lt;Events&gt; eventsPage = null;\r\n    do {\r\n      eventsPage =\r\n          eventsRepository.findEventsByState(state, page);\r\n      deleteBatch(eventsPage);\r\n      deletedTotal += eventsPage.getNumberOfElements();\r\n    } while (eventsPage.hasNext() &amp;&amp; deletedTotal &lt; deletionLimit);\r\n    return deletedTotal;\r\n  }\r\n  \r\n @Transactional(&quot;transactionManager&quot;)\r\n  public void deleteBatch(Page&lt;Events&gt; eventsPage) { eventsRepository.deleteInBatch(eventsPage.getContent().stream().map(Events::getId).toList());\r\n  }\r\n ``` \r\nIs there a way to verify that this change creates multiple smaller locks to the database, and multiple transactions as well? I am using postgreSQL and tried to query the pg_catalog.pg_locks table, but that didn&#39;t help.","title":"Do multiple @Transactions cause multiple database locks in Postgres?","body":"<p>I have a @Transactional Service class EventsService and a function that deletes some events according to their state. The implementation looks like this:</p>\n<pre><code>@Service\n@Transactional(&quot;transactionManager&quot;)\npublic class EventsService {\n\n  @Autowired private EventsRepository eventsRepository;\n  \n  public int deleteSentEvents() {\n    String state = &quot;SENT&quot;;\n    int deletionLimit = 10000;\n    Pageable page = Pageable.ofSize(1000);\n    Page&lt;Events&gt; eventsPage = null;\n    do {\n      eventsPage =\n          eventsRepository.findEventsByState(state, page); eventsRepository.deleteInBatch(eventsPage.getContent().stream().map(Events::getId).toList());\n      deletedTotal += eventsPage.getNumberOfElements();\n    } while (eventsPage.hasNext() &amp;&amp; deletedTotal &lt; deletionLimit);\n    return deletedTotal;\n  }\n</code></pre>\n<p>I want to move the deletion part outside of this function and have multiple smaller transactions created for each page, in order not to lock all the rows at once for bigger time. So, I changed the code like this:</p>\n<pre><code> public int deleteSentEvents() {\n    String state = &quot;SENT&quot;;\n    int deletionLimit = 10000;\n    Pageable page = Pageable.ofSize(1000);\n    Page&lt;Events&gt; eventsPage = null;\n    do {\n      eventsPage =\n          eventsRepository.findEventsByState(state, page);\n      deleteBatch(eventsPage);\n      deletedTotal += eventsPage.getNumberOfElements();\n    } while (eventsPage.hasNext() &amp;&amp; deletedTotal &lt; deletionLimit);\n    return deletedTotal;\n  }\n  \n @Transactional(&quot;transactionManager&quot;)\n  public void deleteBatch(Page&lt;Events&gt; eventsPage) { eventsRepository.deleteInBatch(eventsPage.getContent().stream().map(Events::getId).toList());\n  }\n</code></pre>\n<p>Is there a way to verify that this change creates multiple smaller locks to the database, and multiple transactions as well? I am using postgreSQL and tried to query the pg_catalog.pg_locks table, but that didn't help.</p>\n"},{"tags":["java","mysql","database","maven","javafx"],"comments":[{"owner":{"account_id":350117,"reputation":8663,"user_id":685806,"accept_rate":44,"display_name":"Pino"},"score":4,"creation_date":1696927542,"post_id":77264170,"comment_id":136211924,"body_markdown":"I suggest reading [What is a stack trace, and how can I use it to debug my application errors?](https://stackoverflow.com/q/3988788/685806)","body":"I suggest reading <a href=\"https://stackoverflow.com/q/3988788/685806\">What is a stack trace, and how can I use it to debug my application errors?</a>"},{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":4,"creation_date":1696930730,"post_id":77264170,"comment_id":136212449,"body_markdown":"Probably your `R.getProperties` method is returning null, meaning the resource you are looking up can’t be found. You should not be looking up a resource using a file separator as the resource might be in a jar, not a file. The use of the context classloader is strange. Follow the [guide for looking up resources for JavaFX apps](https://stackoverflow.com/questions/61531317/how-do-i-determine-the-correct-path-for-fxml-files-css-files-images-and-other) (including the troubleshooting section).","body":"Probably your <code>R.getProperties</code> method is returning null, meaning the resource you are looking up can’t be found. You should not be looking up a resource using a file separator as the resource might be in a jar, not a file. The use of the context classloader is strange. Follow the <a href=\"https://stackoverflow.com/questions/61531317/how-do-i-determine-the-correct-path-for-fxml-files-css-files-images-and-other\">guide for looking up resources for JavaFX apps</a> (including the troubleshooting section)."}],"answers":[{"tags":[],"owner":{"account_id":21741636,"reputation":1162,"user_id":16048914,"display_name":"David Weber"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697778794,"creation_date":1697778794,"answer_id":77328446,"question_id":77264170,"body_markdown":"\r\nCaused by: java.lang.NullPointerException: inStream parameter is null\r\n\r\n...\r\n\r\nat com.bioguardian.bioguardian/com.bioguardian.bioguardian.HerbDAO.conectar(HerbDAO.java:20)\r\n\r\nat com.bioguardian.bioguardian/com.bioguardian.bioguardian.AppCtrl.&lt;init&gt;(AppCtrl.java:70)\r\n\r\n...\r\n\r\nYou need to learn how to read a stacktrace.","title":"My javafx app throws an error when trying to connect with the database","body":"<p>Caused by: java.lang.NullPointerException: inStream parameter is null</p>\n<p>...</p>\n<p>at com.bioguardian.bioguardian/com.bioguardian.bioguardian.HerbDAO.conectar(HerbDAO.java:20)</p>\n<p>at com.bioguardian.bioguardian/com.bioguardian.bioguardian.AppCtrl.(AppCtrl.java:70)</p>\n<p>...</p>\n<p>You need to learn how to read a stacktrace.</p>\n"}],"owner":{"account_id":21001758,"reputation":11,"user_id":15432416,"display_name":"HoneyPot"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":74,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1697778794,"creation_date":1696927216,"question_id":77264170,"body_markdown":"Good day, people. I&#39;ve come to crash into an error that I can&#39;t find solution for yet, so I really need your help.\r\n\r\nThe program is as it follows: A desktop app made with Javafx (Maven) and Scenebuilder, that will allow the user to add, modify and erase different plants that will later be stored in a database to be shown as a list in a different screen.\r\n\r\nNow the problem comes when I try to start the connection. The error is the following:\r\n\r\n```Exception in Application start method\r\njava.lang.reflect.InvocationTargetException\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:118)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:580)\r\n\tat javafx.graphics/com.sun.javafx.application.LauncherImpl.launchApplicationWithArgs(LauncherImpl.java:465)\r\n\tat javafx.graphics/com.sun.javafx.application.LauncherImpl.launchApplication(LauncherImpl.java:364)\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:580)\r\n\tat java.base/sun.launcher.LauncherHelper$FXHelper.main(LauncherHelper.java:1135)\r\nCaused by: java.lang.RuntimeException: Exception in Application start method\r\n\tat javafx.graphics/com.sun.javafx.application.LauncherImpl.launchApplication1(LauncherImpl.java:901)\r\n\tat javafx.graphics/com.sun.javafx.application.LauncherImpl.lambda$launchApplication$2(LauncherImpl.java:196)\r\n\tat java.base/java.lang.Thread.run(Thread.java:1583)\r\nCaused by: javafx.fxml.LoadException: \r\n/F:/2DAM/BioGuardian/BioGuardian/target/classes/com/bioguardian/bioguardian/main.fxml:15\r\n\r\n\tat javafx.fxml/javafx.fxml.FXMLLoader.constructLoadException(FXMLLoader.java:2707)\r\n\tat javafx.fxml/javafx.fxml.FXMLLoader$ValueElement.processAttribute(FXMLLoader.java:944)\r\n\tat javafx.fxml/javafx.fxml.FXMLLoader$InstanceDeclarationElement.processAttribute(FXMLLoader.java:981)\r\n\tat javafx.fxml/javafx.fxml.FXMLLoader$Element.processStartElement(FXMLLoader.java:230)\r\n\tat javafx.fxml/javafx.fxml.FXMLLoader$ValueElement.processStartElement(FXMLLoader.java:755)\r\n\tat javafx.fxml/javafx.fxml.FXMLLoader.processStartElement(FXMLLoader.java:2808)\r\n\tat javafx.fxml/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:2634)\r\n\tat javafx.fxml/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:2548)\r\n\tat javafx.fxml/javafx.fxml.FXMLLoader.load(FXMLLoader.java:2516)\r\n\tat com.bioguardian.bioguardian/com.bioguardian.bioguardian.App.start(App.java:16)\r\n\tat javafx.graphics/com.sun.javafx.application.LauncherImpl.lambda$launchApplication1$9(LauncherImpl.java:847)\r\n\tat javafx.graphics/com.sun.javafx.application.PlatformImpl.lambda$runAndWait$12(PlatformImpl.java:484)\r\n\tat javafx.graphics/com.sun.javafx.application.PlatformImpl.lambda$runLater$10(PlatformImpl.java:457)\r\n\tat java.base/java.security.AccessController.doPrivileged(AccessController.java:400)\r\n\tat javafx.graphics/com.sun.javafx.application.PlatformImpl.lambda$runLater$11(PlatformImpl.java:456)\r\n\tat javafx.graphics/com.sun.glass.ui.InvokeLaterDispatcher$Future.run(InvokeLaterDispatcher.java:96)\r\n\tat javafx.graphics/com.sun.glass.ui.win.WinApplication._runLoop(Native Method)\r\n\tat javafx.graphics/com.sun.glass.ui.win.WinApplication.lambda$runLoop$3(WinApplication.java:184)\r\n\t... 1 more\r\nCaused by: java.lang.reflect.InvocationTargetException\r\n\tat java.base/jdk.internal.reflect.DirectConstructorHandleAccessor.newInstance(DirectConstructorHandleAccessor.java:72)\r\n\tat java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:502)\r\n\tat java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:486)\r\n\tat javafx.fxml/javafx.fxml.FXMLLoader$ValueElement.processAttribute(FXMLLoader.java:939)\r\n\t... 17 more\r\nCaused by: java.lang.NullPointerException: inStream parameter is null\r\n\tat java.base/java.util.Objects.requireNonNull(Objects.java:259)\r\n\tat java.base/java.util.Properties.load(Properties.java:408)\r\n\tat com.bioguardian.bioguardian/com.bioguardian.bioguardian.HerbDAO.conectar(HerbDAO.java:20)\r\n\tat com.bioguardian.bioguardian/com.bioguardian.bioguardian.AppCtrl.&lt;init&gt;(AppCtrl.java:70)\r\n\tat java.base/jdk.internal.reflect.DirectConstructorHandleAccessor.newInstance(DirectConstructorHandleAccessor.java:62)\r\n\t... 20 more\r\nException running application com.bioguardian.bioguardian.App\r\n\r\nProcess finished with exit code 1\r\n```\r\n\r\nThe files that error call out are these:\r\n\r\nR: \r\n```\r\npackage com.bioguardian.bioguardian.util;\r\n\r\nimport java.io.File;\r\nimport java.io.InputStream;\r\nimport java.net.URL;\r\n\r\npublic class R {\r\n    public static InputStream getImage(String name) {\r\n        return Thread.currentThread().getContextClassLoader().getResourceAsStream(&quot;images&quot; + File.separator + name);\r\n    }\r\n\r\n    public static InputStream getProperties(String name) {\r\n        return Thread.currentThread().getContextClassLoader().getResourceAsStream(&quot;configuration&quot; + File.separator + name);\r\n    }\r\n\r\n    public static URL getUI(String name) {\r\n        return Thread.currentThread().getContextClassLoader().getResource(&quot;bioguardian&quot; + File.separator + name);\r\n    }\r\n}\r\n```\r\n\r\nHerbDAO:\r\n\r\n```\r\nprivate Connection conexion;\r\n    //Con esta funci&#243;n cogemos los datos de database.properties y los usamos para\r\n    //generar la conexi&#243;n sin tener que andar haciendolo a mano\r\n    public void conectar() throws ClassNotFoundException, SQLException, IOException {\r\n        Properties configuration = new Properties();\r\n        configuration.load(R.getProperties(&quot;database.properties&quot;)); //This is the line that provokes the error\r\n        String host = configuration.getProperty(&quot;host&quot;);\r\n        String port = configuration.getProperty(&quot;port&quot;);\r\n        String name = configuration.getProperty(&quot;name&quot;);\r\n        String username = configuration.getProperty(&quot;username&quot;);\r\n        String password = configuration.getProperty(&quot;password&quot;);\r\n\r\n        Class.forName(&quot;com.mysql.cj.jdbc.Driver&quot;);\r\n        conexion = DriverManager.getConnection(&quot;jdbc:mysql://&quot; + host + &quot;:&quot; + port + &quot;/&quot; + name + &quot;?serverTimezone=UTC&quot;,\r\n                username, password);\r\n    }\r\n```\r\n\r\nAnd AppCtrl:\r\n\r\n```\r\nprivate final HerbDAO herbDAO;\r\n\r\n    public AppCtrl(){\r\n        //Arrancamos conexion con la BBDD\r\n        herbDAO = new HerbDAO();\r\n        try{\r\n            herbDAO.conectar();\r\n        } catch (SQLException e) {\r\n            throw new RuntimeException(e);\r\n        } catch (IOException e) {\r\n            throw new RuntimeException(e);\r\n        } catch (ClassNotFoundException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n        System.out.println(System.getProperty(&quot;user.home&quot;));\r\n    }\r\n```\r\n\r\n\r\n\r\n\r\n\r\nI have tried deleting and making it from scratch. Without these functions, the app works but of course, doesn&#39;t has a Database connection. I have also tried to change R&#39;s definition for the database.properties, but it didn&#39;t work either.\r\n\r\nI simply cannot understand what kind of problem can these functions be provoking, so I would thank any available help.\r\n\r\nThanks in advance!!","title":"My javafx app throws an error when trying to connect with the database","body":"<p>Good day, people. I've come to crash into an error that I can't find solution for yet, so I really need your help.</p>\n<p>The program is as it follows: A desktop app made with Javafx (Maven) and Scenebuilder, that will allow the user to add, modify and erase different plants that will later be stored in a database to be shown as a list in a different screen.</p>\n<p>Now the problem comes when I try to start the connection. The error is the following:</p>\n<pre><code>java.lang.reflect.InvocationTargetException\n    at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:118)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:580)\n    at javafx.graphics/com.sun.javafx.application.LauncherImpl.launchApplicationWithArgs(LauncherImpl.java:465)\n    at javafx.graphics/com.sun.javafx.application.LauncherImpl.launchApplication(LauncherImpl.java:364)\n    at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:580)\n    at java.base/sun.launcher.LauncherHelper$FXHelper.main(LauncherHelper.java:1135)\nCaused by: java.lang.RuntimeException: Exception in Application start method\n    at javafx.graphics/com.sun.javafx.application.LauncherImpl.launchApplication1(LauncherImpl.java:901)\n    at javafx.graphics/com.sun.javafx.application.LauncherImpl.lambda$launchApplication$2(LauncherImpl.java:196)\n    at java.base/java.lang.Thread.run(Thread.java:1583)\nCaused by: javafx.fxml.LoadException: \n/F:/2DAM/BioGuardian/BioGuardian/target/classes/com/bioguardian/bioguardian/main.fxml:15\n\n    at javafx.fxml/javafx.fxml.FXMLLoader.constructLoadException(FXMLLoader.java:2707)\n    at javafx.fxml/javafx.fxml.FXMLLoader$ValueElement.processAttribute(FXMLLoader.java:944)\n    at javafx.fxml/javafx.fxml.FXMLLoader$InstanceDeclarationElement.processAttribute(FXMLLoader.java:981)\n    at javafx.fxml/javafx.fxml.FXMLLoader$Element.processStartElement(FXMLLoader.java:230)\n    at javafx.fxml/javafx.fxml.FXMLLoader$ValueElement.processStartElement(FXMLLoader.java:755)\n    at javafx.fxml/javafx.fxml.FXMLLoader.processStartElement(FXMLLoader.java:2808)\n    at javafx.fxml/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:2634)\n    at javafx.fxml/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:2548)\n    at javafx.fxml/javafx.fxml.FXMLLoader.load(FXMLLoader.java:2516)\n    at com.bioguardian.bioguardian/com.bioguardian.bioguardian.App.start(App.java:16)\n    at javafx.graphics/com.sun.javafx.application.LauncherImpl.lambda$launchApplication1$9(LauncherImpl.java:847)\n    at javafx.graphics/com.sun.javafx.application.PlatformImpl.lambda$runAndWait$12(PlatformImpl.java:484)\n    at javafx.graphics/com.sun.javafx.application.PlatformImpl.lambda$runLater$10(PlatformImpl.java:457)\n    at java.base/java.security.AccessController.doPrivileged(AccessController.java:400)\n    at javafx.graphics/com.sun.javafx.application.PlatformImpl.lambda$runLater$11(PlatformImpl.java:456)\n    at javafx.graphics/com.sun.glass.ui.InvokeLaterDispatcher$Future.run(InvokeLaterDispatcher.java:96)\n    at javafx.graphics/com.sun.glass.ui.win.WinApplication._runLoop(Native Method)\n    at javafx.graphics/com.sun.glass.ui.win.WinApplication.lambda$runLoop$3(WinApplication.java:184)\n    ... 1 more\nCaused by: java.lang.reflect.InvocationTargetException\n    at java.base/jdk.internal.reflect.DirectConstructorHandleAccessor.newInstance(DirectConstructorHandleAccessor.java:72)\n    at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:502)\n    at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:486)\n    at javafx.fxml/javafx.fxml.FXMLLoader$ValueElement.processAttribute(FXMLLoader.java:939)\n    ... 17 more\nCaused by: java.lang.NullPointerException: inStream parameter is null\n    at java.base/java.util.Objects.requireNonNull(Objects.java:259)\n    at java.base/java.util.Properties.load(Properties.java:408)\n    at com.bioguardian.bioguardian/com.bioguardian.bioguardian.HerbDAO.conectar(HerbDAO.java:20)\n    at com.bioguardian.bioguardian/com.bioguardian.bioguardian.AppCtrl.&lt;init&gt;(AppCtrl.java:70)\n    at java.base/jdk.internal.reflect.DirectConstructorHandleAccessor.newInstance(DirectConstructorHandleAccessor.java:62)\n    ... 20 more\nException running application com.bioguardian.bioguardian.App\n\nProcess finished with exit code 1\n</code></pre>\n<p>The files that error call out are these:</p>\n<p>R:</p>\n<pre><code>package com.bioguardian.bioguardian.util;\n\nimport java.io.File;\nimport java.io.InputStream;\nimport java.net.URL;\n\npublic class R {\n    public static InputStream getImage(String name) {\n        return Thread.currentThread().getContextClassLoader().getResourceAsStream(&quot;images&quot; + File.separator + name);\n    }\n\n    public static InputStream getProperties(String name) {\n        return Thread.currentThread().getContextClassLoader().getResourceAsStream(&quot;configuration&quot; + File.separator + name);\n    }\n\n    public static URL getUI(String name) {\n        return Thread.currentThread().getContextClassLoader().getResource(&quot;bioguardian&quot; + File.separator + name);\n    }\n}\n</code></pre>\n<p>HerbDAO:</p>\n<pre><code>private Connection conexion;\n    //Con esta función cogemos los datos de database.properties y los usamos para\n    //generar la conexión sin tener que andar haciendolo a mano\n    public void conectar() throws ClassNotFoundException, SQLException, IOException {\n        Properties configuration = new Properties();\n        configuration.load(R.getProperties(&quot;database.properties&quot;)); //This is the line that provokes the error\n        String host = configuration.getProperty(&quot;host&quot;);\n        String port = configuration.getProperty(&quot;port&quot;);\n        String name = configuration.getProperty(&quot;name&quot;);\n        String username = configuration.getProperty(&quot;username&quot;);\n        String password = configuration.getProperty(&quot;password&quot;);\n\n        Class.forName(&quot;com.mysql.cj.jdbc.Driver&quot;);\n        conexion = DriverManager.getConnection(&quot;jdbc:mysql://&quot; + host + &quot;:&quot; + port + &quot;/&quot; + name + &quot;?serverTimezone=UTC&quot;,\n                username, password);\n    }\n</code></pre>\n<p>And AppCtrl:</p>\n<pre><code>private final HerbDAO herbDAO;\n\n    public AppCtrl(){\n        //Arrancamos conexion con la BBDD\n        herbDAO = new HerbDAO();\n        try{\n            herbDAO.conectar();\n        } catch (SQLException e) {\n            throw new RuntimeException(e);\n        } catch (IOException e) {\n            throw new RuntimeException(e);\n        } catch (ClassNotFoundException e) {\n            throw new RuntimeException(e);\n        }\n        System.out.println(System.getProperty(&quot;user.home&quot;));\n    }\n</code></pre>\n<p>I have tried deleting and making it from scratch. Without these functions, the app works but of course, doesn't has a Database connection. I have also tried to change R's definition for the database.properties, but it didn't work either.</p>\n<p>I simply cannot understand what kind of problem can these functions be provoking, so I would thank any available help.</p>\n<p>Thanks in advance!!</p>\n"},{"tags":["java","sockets","ubuntu","ftp","apache-commons-net"],"answers":[{"tags":[],"owner":{"account_id":453710,"reputation":192103,"user_id":850848,"accept_rate":80,"display_name":"Martin Prikryl"},"comment_count":0,"down_vote_count":1,"up_vote_count":4,"is_accepted":true,"score":3,"last_activity_date":1697778470,"creation_date":1574839937,"answer_id":59065157,"question_id":59046111,"body_markdown":"Apache Commons Net `FTPClient` defaults to the FTP *active* mode. The active mode hardly ever works these days due to ubiquitous firewalls and NATs (for details, see my article on [FTP active/passive connection modes](https://winscp.net/eng/docs/ftp_modes)).\r\n\r\nTo switch `FTPClient` to the *passive* mode, call [`FTPClient.enterLocalPassiveMode`](https://commons.apache.org/proper/commons-net/apidocs/org/apache/commons/net/ftp/FTPClient.html#enterLocalPassiveMode()) somewhere _after_ `FTPClient.connect`:\r\n\r\n```\r\nftpClient.connect(host);\r\nftpClient.login(login, password);\r\nftpClient.enterLocalPassiveMode();\r\n```","title":"SocketException: Connection reset while FTP upload","body":"<p>Apache Commons Net <code>FTPClient</code> defaults to the FTP <em>active</em> mode. The active mode hardly ever works these days due to ubiquitous firewalls and NATs (for details, see my article on <a href=\"https://winscp.net/eng/docs/ftp_modes\" rel=\"nofollow noreferrer\">FTP active/passive connection modes</a>).</p>\n<p>To switch <code>FTPClient</code> to the <em>passive</em> mode, call <a href=\"https://commons.apache.org/proper/commons-net/apidocs/org/apache/commons/net/ftp/FTPClient.html#enterLocalPassiveMode()\" rel=\"nofollow noreferrer\"><code>FTPClient.enterLocalPassiveMode</code></a> somewhere <em>after</em> <code>FTPClient.connect</code>:</p>\n<pre><code>ftpClient.connect(host);\nftpClient.login(login, password);\nftpClient.enterLocalPassiveMode();\n</code></pre>\n"}],"owner":{"account_id":5909904,"reputation":2554,"user_id":4650497,"accept_rate":88,"display_name":"Krzysztof Majewski"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2985,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":59065157,"answer_count":1,"score":3,"last_activity_date":1697778470,"creation_date":1574754776,"question_id":59046111,"body_markdown":"I am trying to upload a file to an FTP server.  \r\nThis is my code:\r\n\r\n    FTPClient ftpClient = new FTPClient();\r\n    try {\r\n        List&lt;PoiCmsRule&gt; appPois = getAllRules();\r\n        try (FileWriter writer = new FileWriter(backupFile)) {\r\n            new Gson().toJson(backupData, writer);\r\n        }\r\n        try (FileInputStream fis = new FileInputStream(backupFile)) {\r\n            ftpClient.connect(host);\r\n            ftpClient.login(login, password);\r\n            ftpClient.storeFile(&quot;backup.json&quot;, fis);\r\n            ftpClient.logout();\r\n        }\r\n    } catch (Exception e) {\r\n        log.error(e.getMessage(), e);\r\n    } finally {\r\n        try {\r\n            ftpClient.disconnect();\r\n        } catch (IOException e) {\r\n            log.error(e.getMessage(), e);\r\n        }\r\n    }\r\n\r\nAnd it works perfectly fine when I run this on localhost. But when I run in on server I get this exception:\r\n\r\n&lt;!-- language: lang-none --&gt;\r\n\r\n    Caused by: java.net.SocketException: Connection reset\r\n    \tat java.base/java.net.SocketInputStream.read(SocketInputStream.java:186)\r\n    \tat java.base/java.net.SocketInputStream.read(SocketInputStream.java:140)\r\n    \tat java.base/sun.nio.cs.StreamDecoder.readBytes(StreamDecoder.java:284)\r\n    \tat java.base/sun.nio.cs.StreamDecoder.implRead(StreamDecoder.java:326)\r\n\r\nI think it indicates I might have some problems with the firewall or proxy.\r\n\r\nThis is a Spring Boot app run on the Ubuntu server with Nginx as a proxy.\r\n\r\nHow can I find what is causing this exception?\r\n\r\n---\r\n\r\nLogs from a successful connection with command-line `ftp` in passive mode:\r\n\r\n&lt;!-- language: lang-none --&gt;\r\n\r\n    ubuntu@ip-server:~$ ftp -p -d my_host\r\n    Connected to my_host\r\n    220 FTP-Server\r\n    ftp: setsockopt: Bad file descriptor\r\n    Name (my_host): username\r\n    ---&gt; USER username\r\n    331 Please specify the password.\r\n    Password:\r\n    ---&gt; PASS XXXX\r\n    230 Login successful.\r\n    ---&gt; SYST\r\n    215 UNIX Type: L8\r\n    Remote system type is UNIX.\r\n    Using binary mode to transfer files.\r\n    ftp&gt; ls\r\n    ftp: setsockopt (ignored): Permission denied\r\n    ---&gt; PASV\r\n    227 Entering Passive Mode (153,92,207,128,127,65)\r\n    ---&gt; LIST\r\n    150 Here comes the directory listing.\r\n    // file list\r\n    226 Directory send OK.\r\n    ftp&gt;","title":"SocketException: Connection reset while FTP upload","body":"<p>I am trying to upload a file to an FTP server.<br>\nThis is my code:</p>\n\n<pre><code>FTPClient ftpClient = new FTPClient();\ntry {\n    List&lt;PoiCmsRule&gt; appPois = getAllRules();\n    try (FileWriter writer = new FileWriter(backupFile)) {\n        new Gson().toJson(backupData, writer);\n    }\n    try (FileInputStream fis = new FileInputStream(backupFile)) {\n        ftpClient.connect(host);\n        ftpClient.login(login, password);\n        ftpClient.storeFile(\"backup.json\", fis);\n        ftpClient.logout();\n    }\n} catch (Exception e) {\n    log.error(e.getMessage(), e);\n} finally {\n    try {\n        ftpClient.disconnect();\n    } catch (IOException e) {\n        log.error(e.getMessage(), e);\n    }\n}\n</code></pre>\n\n<p>And it works perfectly fine when I run this on localhost. But when I run in on server I get this exception:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>Caused by: java.net.SocketException: Connection reset\n    at java.base/java.net.SocketInputStream.read(SocketInputStream.java:186)\n    at java.base/java.net.SocketInputStream.read(SocketInputStream.java:140)\n    at java.base/sun.nio.cs.StreamDecoder.readBytes(StreamDecoder.java:284)\n    at java.base/sun.nio.cs.StreamDecoder.implRead(StreamDecoder.java:326)\n</code></pre>\n\n<p>I think it indicates I might have some problems with the firewall or proxy.</p>\n\n<p>This is a Spring Boot app run on the Ubuntu server with Nginx as a proxy.</p>\n\n<p>How can I find what is causing this exception?</p>\n\n<hr>\n\n<p>Logs from a successful connection with command-line <code>ftp</code> in passive mode:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>ubuntu@ip-server:~$ ftp -p -d my_host\nConnected to my_host\n220 FTP-Server\nftp: setsockopt: Bad file descriptor\nName (my_host): username\n---&gt; USER username\n331 Please specify the password.\nPassword:\n---&gt; PASS XXXX\n230 Login successful.\n---&gt; SYST\n215 UNIX Type: L8\nRemote system type is UNIX.\nUsing binary mode to transfer files.\nftp&gt; ls\nftp: setsockopt (ignored): Permission denied\n---&gt; PASV\n227 Entering Passive Mode (153,92,207,128,127,65)\n---&gt; LIST\n150 Here comes the directory listing.\n// file list\n226 Directory send OK.\nftp&gt;\n</code></pre>\n"},{"tags":["java","ftp"],"answers":[{"tags":[],"owner":{"account_id":453710,"reputation":192103,"user_id":850848,"accept_rate":80,"display_name":"Martin Prikryl"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697778457,"creation_date":1517210765,"answer_id":48496320,"question_id":48494771,"body_markdown":"Use `easyFTP.getFtpClient()` to get an underlying instance of Apache [`FTPClient` class](https://commons.apache.org/proper/commons-net/apidocs/org/apache/commons/net/ftp/FTPClient.html). And call [`enterLocalPassiveMode()`](https://commons.apache.org/proper/commons-net/apidocs/org/apache/commons/net/ftp/FTPClient.html#enterLocalPassiveMode()) on that:\r\n\r\n    ftp.getFtpClient().enterLocalPassiveMode();\r\n\r\n---\r\n\r\n*Though I do not really see the point of using `easyFTP`. It adds hardly anything to `FTPClient` functionality. Use `FTPClient` directly.*","title":"FTP passive mode with easyFTP","body":"<p>Use <code>easyFTP.getFtpClient()</code> to get an underlying instance of Apache <a href=\"https://commons.apache.org/proper/commons-net/apidocs/org/apache/commons/net/ftp/FTPClient.html\" rel=\"nofollow noreferrer\"><code>FTPClient</code> class</a>. And call <a href=\"https://commons.apache.org/proper/commons-net/apidocs/org/apache/commons/net/ftp/FTPClient.html#enterLocalPassiveMode()\" rel=\"nofollow noreferrer\"><code>enterLocalPassiveMode()</code></a> on that:</p>\n<pre><code>ftp.getFtpClient().enterLocalPassiveMode();\n</code></pre>\n<hr />\n<p><em>Though I do not really see the point of using <code>easyFTP</code>. It adds hardly anything to <code>FTPClient</code> functionality. Use <code>FTPClient</code> directly.</em></p>\n"}],"owner":{"account_id":11493783,"reputation":51,"user_id":8423817,"display_name":"pere plop"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":331,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1697778457,"creation_date":1517202820,"question_id":48494771,"body_markdown":"I am using [easyFTP][1] for upload file in android.this liberty  for transfer use active mode now want use passive mode but don&#39;t find passive mode\r\n\r\n    ftp = new easyFTP();\r\n    ftp.connect(&quot;ip&quot;, &quot;user&quot;, &quot;pass&quot;);\r\n                \r\n\r\n  [1]: https://github.com/linkindrew/easyFTP","title":"FTP passive mode with easyFTP","body":"<p>I am using <a href=\"https://github.com/linkindrew/easyFTP\" rel=\"nofollow noreferrer\">easyFTP</a> for upload file in android.this liberty  for transfer use active mode now want use passive mode but don't find passive mode</p>\n\n<pre><code>ftp = new easyFTP();\nftp.connect(\"ip\", \"user\", \"pass\");\n</code></pre>\n"},{"tags":["java","ftp","ftp-client","apache-commons-net"],"answers":[{"comments":[{"owner":{"account_id":6911888,"reputation":161,"user_id":5307407,"accept_rate":70,"display_name":"Nitin Rathod"},"score":0,"creation_date":1569847449,"post_id":58167293,"comment_id":102717570,"body_markdown":"I have to pass FTP parameters to the method to create FTPClient again and again. So you are saying that by anyhow i cant use the same client for further processing ?","body":"I have to pass FTP parameters to the method to create FTPClient again and again. So you are saying that by anyhow i cant use the same client for further processing ?"}],"tags":[],"owner":{"account_id":2332280,"reputation":2091,"user_id":2140633,"accept_rate":75,"display_name":"Udith Gunaratna"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1569844014,"creation_date":1569844014,"answer_id":58167293,"question_id":58167086,"body_markdown":"According to the [documentation of the `FTPClient.retrieveFileStream()` method][1],\r\n\r\n&gt; You must close the InputStream when you finish reading from it. The InputStream itself will take care of closing the parent data connection socket upon being closed.\r\n\r\nWhen you close the stream, your client connection will be closed too. So instead of using the same client over and over, you need to create a new client connection for each file.\r\n\r\n\r\n  [1]: https://commons.apache.org/proper/commons-net/apidocs/org/apache/commons/net/ftp/FTPClient.html#retrieveFileStream(java.lang.String)","title":"Reading multiple files in loop from FTP server using Apache Commons Net FTPClient","body":"<p>According to the <a href=\"https://commons.apache.org/proper/commons-net/apidocs/org/apache/commons/net/ftp/FTPClient.html#retrieveFileStream(java.lang.String)\" rel=\"nofollow noreferrer\">documentation of the <code>FTPClient.retrieveFileStream()</code> method</a>,</p>\n\n<blockquote>\n  <p>You must close the InputStream when you finish reading from it. The InputStream itself will take care of closing the parent data connection socket upon being closed.</p>\n</blockquote>\n\n<p>When you close the stream, your client connection will be closed too. So instead of using the same client over and over, you need to create a new client connection for each file.</p>\n"},{"comments":[{"owner":{"account_id":6911888,"reputation":161,"user_id":5307407,"accept_rate":70,"display_name":"Nitin Rathod"},"score":0,"creation_date":1569847308,"post_id":58167361,"comment_id":102717482,"body_markdown":"I will try closing OutputStream and check if it is working","body":"I will try closing OutputStream and check if it is working"}],"tags":[],"owner":{"account_id":12209596,"reputation":100,"user_id":8911724,"display_name":"Mohamed Ismail M"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1569844258,"creation_date":1569844258,"answer_id":58167361,"question_id":58167086,"body_markdown":" 1. I didn&#39;t see the output stream is not properly closed. \r\n 2. finalBytes is o bytes?\r\n 3. where you defined the buffer variable?\r\n\r\nplease log the path so that we can see the path is correct or not. I guess the stream which is not properly closed makes the issue\r\n\r\n ","title":"Reading multiple files in loop from FTP server using Apache Commons Net FTPClient","body":"<ol>\n<li>I didn't see the output stream is not properly closed. </li>\n<li>finalBytes is o bytes?</li>\n<li>where you defined the buffer variable?</li>\n</ol>\n\n<p>please log the path so that we can see the path is correct or not. I guess the stream which is not properly closed makes the issue</p>\n"},{"tags":[],"owner":{"account_id":453710,"reputation":192103,"user_id":850848,"accept_rate":80,"display_name":"Martin Prikryl"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1697778433,"creation_date":1569844358,"answer_id":58167390,"question_id":58167086,"body_markdown":"You have to call [`FTPClient.completePendingCommand`](https://commons.apache.org/proper/commons-net/apidocs/org/apache/commons/net/ftp/FTPClient.html#completePendingCommand()) and close the input stream, as the documentation for [`FTPClient.retrieveFileStream`](https://commons.apache.org/proper/commons-net/apidocs/org/apache/commons/net/ftp/FTPClient.html#retrieveFileStream(java.lang.String)) says:\r\n\r\n&gt; Returns an InputStream from which a named file from the server\r\n can be read.  If the current file type is ASCII, the returned\r\n InputStream will convert line separators in the file to\r\n the local representation.  You must close the InputStream when you\r\n finish reading from it.  The InputStream itself will take care of\r\n closing the parent data connection socket upon being closed.\r\n&gt;\r\n&gt; &lt;b&gt;To finalize the file transfer you must call [`completePendingCommand`](https://commons.apache.org/proper/commons-net/apidocs/org/apache/commons/net/ftp/FTPClient.html#completePendingCommand()) and\r\n check its return value to verify success.&lt;/b&gt;\r\n If this is not done, subsequent commands may behave unexpectedly.\r\n\r\n---\r\n\r\n```\r\ninStream = client.retrieveFileStream(path);\r\ntry {\r\n    while ((len = inStream.read(buffer)) != -1) {\r\n        // write bytes from the buffer into output stream\r\n        os.write(buffer, 0, len);\r\n    }\r\n    finalBytes = os.toByteArray();\r\n} finally {\r\n    inStream.close()\r\n    if (!client.completePendingCommand()) {\r\n        // error\r\n    }\r\n}\r\n```\r\n\r\n---\r\n\r\n*Btw, there are better ways for copying from `InputStream` to `OutputStream`:*  \r\n*https://stackoverflow.com/q/43157/850848*\r\n","title":"Reading multiple files in loop from FTP server using Apache Commons Net FTPClient","body":"<p>You have to call <a href=\"https://commons.apache.org/proper/commons-net/apidocs/org/apache/commons/net/ftp/FTPClient.html#completePendingCommand()\" rel=\"nofollow noreferrer\"><code>FTPClient.completePendingCommand</code></a> and close the input stream, as the documentation for <a href=\"https://commons.apache.org/proper/commons-net/apidocs/org/apache/commons/net/ftp/FTPClient.html#retrieveFileStream(java.lang.String)\" rel=\"nofollow noreferrer\"><code>FTPClient.retrieveFileStream</code></a> says:</p>\n<blockquote>\n<p>Returns an InputStream from which a named file from the server\ncan be read.  If the current file type is ASCII, the returned\nInputStream will convert line separators in the file to\nthe local representation.  You must close the InputStream when you\nfinish reading from it.  The InputStream itself will take care of\nclosing the parent data connection socket upon being closed.</p>\n<p><b>To finalize the file transfer you must call <a href=\"https://commons.apache.org/proper/commons-net/apidocs/org/apache/commons/net/ftp/FTPClient.html#completePendingCommand()\" rel=\"nofollow noreferrer\"><code>completePendingCommand</code></a> and\ncheck its return value to verify success.</b>\nIf this is not done, subsequent commands may behave unexpectedly.</p>\n</blockquote>\n<hr />\n<pre><code>inStream = client.retrieveFileStream(path);\ntry {\n    while ((len = inStream.read(buffer)) != -1) {\n        // write bytes from the buffer into output stream\n        os.write(buffer, 0, len);\n    }\n    finalBytes = os.toByteArray();\n} finally {\n    inStream.close()\n    if (!client.completePendingCommand()) {\n        // error\n    }\n}\n</code></pre>\n<hr />\n<p><em>Btw, there are better ways for copying from <code>InputStream</code> to <code>OutputStream</code>:</em><br />\n<em><a href=\"https://stackoverflow.com/q/43157/850848\">Easy way to write contents of a Java InputStream to an OutputStream</a></em></p>\n"}],"owner":{"account_id":6911888,"reputation":161,"user_id":5307407,"accept_rate":70,"display_name":"Nitin Rathod"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1455,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1697778433,"creation_date":1569843211,"question_id":58167086,"body_markdown":"I have list of files that needs to be read from FTP server.\r\nI have a method `readFile(String path, FTPClient client)` which reads and prints the file.\r\n\r\n    public byte[] readFile(String path,FTPClient client){\r\n        InputStream inStream = null;\r\n\t\tByteArrayOutputStream os = null;\r\n        byte[] finalBytes = new byte[0];\r\n\t\t\t\tint reply;\r\n        int len;\r\n        byte[] buffer = new byte[1024];\r\n        try{\r\n\t\t\tos = new ByteArrayOutputStream();\r\n\t\t\tinStream = client.retrieveFileStream(path);\r\n\t\t\treply = client.getReplyCode();\r\n\t\t\tlog.warn(&quot;In getFTPfilebytes() :: Reply code -&quot;+reply);\r\n\t\t\t\r\n\t\t\twhile ((len = inStream.read(buffer)) != -1) {\r\n\t\t\t\t\t\t// write bytes from the buffer into output stream\r\n\t\t\t\t\t\tos.write(buffer, 0, len);\r\n\t\t\t\t\t}\r\n\t\t\tfinalBytes = os.toByteArray();\r\n        \r\n        if(inStream == null){\r\n\t\t\tthrow new Exception(&quot;File not found&quot;);\r\n\t\t}\r\n\t\t\r\n        inStream.close();\r\n\t\t}catch(Exception e){\r\n\t\t\r\n\t\t}finally{\r\n\t\t\ttry{ inStream.close();} catch(Exception e){}\r\n\t\t}\r\n\t\treturn finalBytes;\r\n\r\n    }\r\n\t\r\nI am calling above method in loop of list which contains strings of file path.\r\n\r\nIssue - In loop only first file is getting read properly. Afterwards, it does not read file and throws an exception. `inStream` gives NULL for second iteration/second file. Also while iterating first file reply code after `retrieveFileStream` is *&quot;125(Data connection already open; transfer starting.)*&quot;\r\n\r\nIn second iteration it gives *&quot;200 (The requested action has been successfully completed.)&quot;*\r\n\r\nI am not able to understand what is wrong here.\r\nHave not closing `inputstream` connection properly? ","title":"Reading multiple files in loop from FTP server using Apache Commons Net FTPClient","body":"<p>I have list of files that needs to be read from FTP server.\nI have a method <code>readFile(String path, FTPClient client)</code> which reads and prints the file.</p>\n\n<pre><code>public byte[] readFile(String path,FTPClient client){\n    InputStream inStream = null;\n    ByteArrayOutputStream os = null;\n    byte[] finalBytes = new byte[0];\n            int reply;\n    int len;\n    byte[] buffer = new byte[1024];\n    try{\n        os = new ByteArrayOutputStream();\n        inStream = client.retrieveFileStream(path);\n        reply = client.getReplyCode();\n        log.warn(\"In getFTPfilebytes() :: Reply code -\"+reply);\n\n        while ((len = inStream.read(buffer)) != -1) {\n                    // write bytes from the buffer into output stream\n                    os.write(buffer, 0, len);\n                }\n        finalBytes = os.toByteArray();\n\n    if(inStream == null){\n        throw new Exception(\"File not found\");\n    }\n\n    inStream.close();\n    }catch(Exception e){\n\n    }finally{\n        try{ inStream.close();} catch(Exception e){}\n    }\n    return finalBytes;\n\n}\n</code></pre>\n\n<p>I am calling above method in loop of list which contains strings of file path.</p>\n\n<p>Issue - In loop only first file is getting read properly. Afterwards, it does not read file and throws an exception. <code>inStream</code> gives NULL for second iteration/second file. Also while iterating first file reply code after <code>retrieveFileStream</code> is <em>\"125(Data connection already open; transfer starting.)</em>\"</p>\n\n<p>In second iteration it gives <em>\"200 (The requested action has been successfully completed.)\"</em></p>\n\n<p>I am not able to understand what is wrong here.\nHave not closing <code>inputstream</code> connection properly? </p>\n"},{"tags":["java","unit-testing","junit","mocking","mockito"],"comments":[{"owner":{"account_id":3023214,"reputation":20361,"user_id":2563754,"display_name":"Seelenvirtuose"},"score":1,"creation_date":1697782325,"post_id":77328433,"comment_id":136325282,"body_markdown":"Well ... The error message is very clear. You are not calling `when` on a mock method. You are calling it on a normal object method. Annotating a variable with `@Mock` will have Mockito create a mock object for you. But you are creating your own in the setup method. Remove that.","body":"Well ... The error message is very clear. You are not calling <code>when</code> on a mock method. You are calling it on a normal object method. Annotating a variable with <code>@Mock</code> will have Mockito create a mock object for you. But you are creating your own in the setup method. Remove that."},{"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":1,"creation_date":1697789828,"post_id":77328433,"comment_id":136326455,"body_markdown":"Well, it&#39;s not a mock: `apiClientUtilsMock = new ApiClientUtils(new ApiClientTimeoutConfiguration());` – you are assigning a regular instance and overwriting the reference to the injected `@Mock`. There&#39;s a dupe question","body":"Well, it&#39;s not a mock: <code>apiClientUtilsMock = new ApiClientUtils(new ApiClientTimeoutConfiguration());</code> – you are assigning a regular instance and overwriting the reference to the injected <code>@Mock</code>. There&#39;s a dupe question"},{"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":1,"creation_date":1697789891,"post_id":77328433,"comment_id":136326466,"body_markdown":"Also, you must not mix `@Mock` (Mockito) and `@MockBean` (Spring Boot). MockitoExtension does not know about `MockBean`","body":"Also, you must not mix <code>@Mock</code> (Mockito) and <code>@MockBean</code> (Spring Boot). MockitoExtension does not know about <code>MockBean</code>"}],"owner":{"account_id":11623400,"reputation":503,"user_id":8513968,"accept_rate":83,"display_name":"ljs"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1697884101,"answer_count":0,"score":0,"last_activity_date":1697778407,"creation_date":1697778407,"question_id":77328433,"body_markdown":"I have looked at many SO questions and answers on this error and tried the solutions specified, but had no luck so far. So the issue is &quot;when() requires an argument which has to be &#39;a method call on a mock&quot;. I cant figure out what is wrong.Below is my test class :\r\n\r\n\r\n    @ExtendWith(MockitoExtension.class)\r\n    class CustomerDaoConfigurationTest {\r\n    \r\n        private CustomerDaoConfiguration customerDaoConfiguration;\r\n    \r\n        private CustomerApiProperties properties;\r\n        @Mock\r\n        private ApiClientUtils apiClientUtilsMock;\r\n        @MockBean\r\n        private ApiClientTimeoutConfiguration apiClientTimeoutConfiguration;\r\n    \r\n    \r\n        @BeforeEach\r\n        void setup() {\r\n            apiClientUtilsMock = new ApiClientUtils(new ApiClientTimeoutConfiguration());\r\n    \r\n            properties = new CustomerApiProperties();\r\n            properties.setBaseUrl(&quot;MockBaseUrl&quot;);\r\n            properties.setOauth(new OAuthProperties(&quot;token-url&quot;, &quot;client-id&quot;, &quot;client-secret&quot;));\r\n    \r\n            customerDaoConfiguration = new CustomerDaoConfiguration(properties, apiClientUtilsMock, apiClientTimeoutConfiguration);\r\n    \r\n        }\r\n    \r\n        @Test\r\n        void shouldCreateValidRestTemplateWhenPropertiesAreProvided() {\r\n    \r\n            ClientCredentialsResourceDetails clientCredentialsResourceDetails = new ClientCredentialsResourceDetails();\r\n            clientCredentialsResourceDetails.setClientSecret(&quot;client-secret&quot;);\r\n            clientCredentialsResourceDetails.setClientId(&quot;client-id&quot;);\r\n            clientCredentialsResourceDetails.setTokenName(&quot;token-name&quot;);\r\n            clientCredentialsResourceDetails.setAccessTokenUri(&quot;token-url&quot;);\r\n    \r\n            OAuthProperties oauth = properties.getOauth();\r\n    \r\n            List&lt;HttpMessageConverter&lt;?&gt;&gt; messageConverters = new ArrayList&lt;&gt;();\r\n            messageConverters.add(new JsonApiHttpMessageConverter(new ResourceConverter(), new ObjectMapper()));\r\n    \r\n            when(apiClientUtilsMock.createClientCredentialsResourceDetails(oauth)).thenReturn(clientCredentialsResourceDetails);\r\n    \r\n            RestTemplate createdRestTemplate = customerDaoConfiguration.customerRestTemplate(new SimpleClientHttpRequestFactory(), messageConverters);\r\n    \r\n            assertThat(createdRestTemplate.getMessageConverters().size(), is(1));\r\n            HttpMessageConverter&lt;?&gt; messageConverter = createdRestTemplate.getMessageConverters().get(0);\r\n            assertThat(messageConverter, is(instanceOf(JsonApiHttpMessageConverter.class)));\r\n    \r\n        }\r\n    }\r\n\r\nI get the exception on this line : \r\n\r\n    when(apiClientUtilsMock.createClientCredentialsResourceDetails(oauth)).thenReturn(clientCredentialsResourceDetails);\r\n\r\nI am not mocking a final/prvate method.\r\nThe class I am testing is :\r\n\r\n  \r\n\r\n      @RequiredArgsConstructor\r\n        @Import(CustomerApiProperties.class)\r\n        @Configuration\r\n        public class CustomerDaoConfiguration {\r\n        \r\n            private final CustomerApiProperties properties;\r\n            private final ApiClientUtils apiClientUtils;\r\n            private final ApiClientTimeoutConfiguration apiClientTimeoutConfiguration;\r\n        \r\n        \r\n            @Bean\r\n            public RestTemplate customerRestTemplate(ClientHttpRequestFactory clientHttpRequestFactory, List&lt;HttpMessageConverter&lt;?&gt;&gt; messageConverters) {\r\n                ClientCredentialsResourceDetails resourceDetails = apiClientUtils.createClientCredentialsResourceDetails(properties.getOauth());\r\n                return new RestTemplateBuilder()\r\n                        .requestFactory(() -&gt; clientHttpRequestFactory)\r\n                        .rootUri(properties.getBaseUrl())\r\n                        .messageConverters(messageConverters)\r\n                        .setReadTimeout(Duration.ofMillis(apiClientTimeoutConfiguration.getReadTimeout()))\r\n                        .setConnectTimeout(Duration.ofMillis(apiClientTimeoutConfiguration.getConnectTimeout()))\r\n                        .configure(new OAuth2RestTemplate(resourceDetails));\r\n            }\r\n        }\r\n\r\nAnd also\r\n    \r\n    @RequiredArgsConstructor\r\n    @Component\r\n    public class ApiClientUtils {\r\n    \r\n        private final ApiClientTimeoutConfiguration apiClientTimeoutConfiguration;\r\n    \r\n        public ClientCredentialsResourceDetails createClientCredentialsResourceDetails(OAuthProperties oauth) {\r\n            ClientCredentialsResourceDetails resourceDetails = new ClientCredentialsResourceDetails();\r\n            resourceDetails.setAccessTokenUri(oauth.getTokenUrl());\r\n            resourceDetails.setClientId(oauth.getClientId());\r\n            resourceDetails.setClientSecret(oauth.getClientSecret());\r\n            return resourceDetails;\r\n        }\r\n    \r\n    }","title":"Error when running unit test with mock - &quot;when() requires an argument which has to be &#39;a method call on a mock&quot;","body":"<p>I have looked at many SO questions and answers on this error and tried the solutions specified, but had no luck so far. So the issue is &quot;when() requires an argument which has to be 'a method call on a mock&quot;. I cant figure out what is wrong.Below is my test class :</p>\n<pre><code>@ExtendWith(MockitoExtension.class)\nclass CustomerDaoConfigurationTest {\n\n    private CustomerDaoConfiguration customerDaoConfiguration;\n\n    private CustomerApiProperties properties;\n    @Mock\n    private ApiClientUtils apiClientUtilsMock;\n    @MockBean\n    private ApiClientTimeoutConfiguration apiClientTimeoutConfiguration;\n\n\n    @BeforeEach\n    void setup() {\n        apiClientUtilsMock = new ApiClientUtils(new ApiClientTimeoutConfiguration());\n\n        properties = new CustomerApiProperties();\n        properties.setBaseUrl(&quot;MockBaseUrl&quot;);\n        properties.setOauth(new OAuthProperties(&quot;token-url&quot;, &quot;client-id&quot;, &quot;client-secret&quot;));\n\n        customerDaoConfiguration = new CustomerDaoConfiguration(properties, apiClientUtilsMock, apiClientTimeoutConfiguration);\n\n    }\n\n    @Test\n    void shouldCreateValidRestTemplateWhenPropertiesAreProvided() {\n\n        ClientCredentialsResourceDetails clientCredentialsResourceDetails = new ClientCredentialsResourceDetails();\n        clientCredentialsResourceDetails.setClientSecret(&quot;client-secret&quot;);\n        clientCredentialsResourceDetails.setClientId(&quot;client-id&quot;);\n        clientCredentialsResourceDetails.setTokenName(&quot;token-name&quot;);\n        clientCredentialsResourceDetails.setAccessTokenUri(&quot;token-url&quot;);\n\n        OAuthProperties oauth = properties.getOauth();\n\n        List&lt;HttpMessageConverter&lt;?&gt;&gt; messageConverters = new ArrayList&lt;&gt;();\n        messageConverters.add(new JsonApiHttpMessageConverter(new ResourceConverter(), new ObjectMapper()));\n\n        when(apiClientUtilsMock.createClientCredentialsResourceDetails(oauth)).thenReturn(clientCredentialsResourceDetails);\n\n        RestTemplate createdRestTemplate = customerDaoConfiguration.customerRestTemplate(new SimpleClientHttpRequestFactory(), messageConverters);\n\n        assertThat(createdRestTemplate.getMessageConverters().size(), is(1));\n        HttpMessageConverter&lt;?&gt; messageConverter = createdRestTemplate.getMessageConverters().get(0);\n        assertThat(messageConverter, is(instanceOf(JsonApiHttpMessageConverter.class)));\n\n    }\n}\n</code></pre>\n<p>I get the exception on this line :</p>\n<pre><code>when(apiClientUtilsMock.createClientCredentialsResourceDetails(oauth)).thenReturn(clientCredentialsResourceDetails);\n</code></pre>\n<p>I am not mocking a final/prvate method.\nThe class I am testing is :</p>\n<pre><code>  @RequiredArgsConstructor\n    @Import(CustomerApiProperties.class)\n    @Configuration\n    public class CustomerDaoConfiguration {\n    \n        private final CustomerApiProperties properties;\n        private final ApiClientUtils apiClientUtils;\n        private final ApiClientTimeoutConfiguration apiClientTimeoutConfiguration;\n    \n    \n        @Bean\n        public RestTemplate customerRestTemplate(ClientHttpRequestFactory clientHttpRequestFactory, List&lt;HttpMessageConverter&lt;?&gt;&gt; messageConverters) {\n            ClientCredentialsResourceDetails resourceDetails = apiClientUtils.createClientCredentialsResourceDetails(properties.getOauth());\n            return new RestTemplateBuilder()\n                    .requestFactory(() -&gt; clientHttpRequestFactory)\n                    .rootUri(properties.getBaseUrl())\n                    .messageConverters(messageConverters)\n                    .setReadTimeout(Duration.ofMillis(apiClientTimeoutConfiguration.getReadTimeout()))\n                    .setConnectTimeout(Duration.ofMillis(apiClientTimeoutConfiguration.getConnectTimeout()))\n                    .configure(new OAuth2RestTemplate(resourceDetails));\n        }\n    }\n</code></pre>\n<p>And also</p>\n<pre><code>@RequiredArgsConstructor\n@Component\npublic class ApiClientUtils {\n\n    private final ApiClientTimeoutConfiguration apiClientTimeoutConfiguration;\n\n    public ClientCredentialsResourceDetails createClientCredentialsResourceDetails(OAuthProperties oauth) {\n        ClientCredentialsResourceDetails resourceDetails = new ClientCredentialsResourceDetails();\n        resourceDetails.setAccessTokenUri(oauth.getTokenUrl());\n        resourceDetails.setClientId(oauth.getClientId());\n        resourceDetails.setClientSecret(oauth.getClientSecret());\n        return resourceDetails;\n    }\n\n}\n</code></pre>\n"},{"tags":["java","ftp","upload","apache-commons-net"],"answers":[{"tags":[],"owner":{"account_id":453710,"reputation":192103,"user_id":850848,"accept_rate":80,"display_name":"Martin Prikryl"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1697778359,"creation_date":1604605251,"answer_id":64704244,"question_id":64692492,"body_markdown":"A file upload initiated by [`FTPClient.storeFileStream` method](https://commons.apache.org/proper/commons-net/apidocs/org/apache/commons/net/ftp/FTPClient.html#storeFileStream(java.lang.String)) has to be finished by closing the stream and calling [`FTPClient.completePendingCommand`](https://commons.apache.org/proper/commons-net/apidocs/org/apache/commons/net/ftp/FTPClient.html#completePendingCommand()):\r\n\r\n&gt; You must close the OutputStream when you finish writing to it. The OutputStream itself will take care of closing the parent data connection socket upon being closed.\r\n&gt;\r\n&gt; **To finalize the file transfer you must call [`completePendingCommand`](https://commons.apache.org/proper/commons-net/apidocs/org/apache/commons/net/ftp/FTPClient.html#completePendingCommand()) and check its return value to verify success.** If this is not done, subsequent commands may behave unexpectedly.","title":"Files uploaded using Apache Common Net FTPClient.storeFileStream are corrupted","body":"<p>A file upload initiated by <a href=\"https://commons.apache.org/proper/commons-net/apidocs/org/apache/commons/net/ftp/FTPClient.html#storeFileStream(java.lang.String)\" rel=\"nofollow noreferrer\"><code>FTPClient.storeFileStream</code> method</a> has to be finished by closing the stream and calling <a href=\"https://commons.apache.org/proper/commons-net/apidocs/org/apache/commons/net/ftp/FTPClient.html#completePendingCommand()\" rel=\"nofollow noreferrer\"><code>FTPClient.completePendingCommand</code></a>:</p>\n<blockquote>\n<p>You must close the OutputStream when you finish writing to it. The OutputStream itself will take care of closing the parent data connection socket upon being closed.</p>\n<p><strong>To finalize the file transfer you must call <a href=\"https://commons.apache.org/proper/commons-net/apidocs/org/apache/commons/net/ftp/FTPClient.html#completePendingCommand()\" rel=\"nofollow noreferrer\"><code>completePendingCommand</code></a> and check its return value to verify success.</strong> If this is not done, subsequent commands may behave unexpectedly.</p>\n</blockquote>\n"}],"owner":{"account_id":12092279,"reputation":25,"user_id":8837793,"display_name":"Selvi Manafov"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":346,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":64704244,"answer_count":1,"score":1,"last_activity_date":1697778359,"creation_date":1604559554,"question_id":64692492,"body_markdown":"I wrote a code for compressing database file (.zip) and uploading to an FTP server. When I download that from server, files are corrupted. What can be the reason for that?\r\n\r\nCode:\r\n```        \r\nFTPClient ftpClient = new FTPClient();      \r\n\r\nftpClient.connect(server, port);\r\nftpClient.login(user, pass);\r\nftpClient.enterLocalPassiveMode();\r\n\r\nftpClient.setFileType(FTP.BINARY_FILE_TYPE);                 \r\n  \r\nDateTimeFormatter dtf = DateTimeFormatter.ofPattern(&quot;yyyy.MM.dd&quot;);  \r\nLocalDateTime now = LocalDateTime.now(); \r\nString currentDate = dtf.format(now);\r\n         \r\nString srcFilename = file;\r\n\r\nString remoteFile = &quot;STORE_&quot; + currentDate + &quot;.zip&quot;;\r\n       \r\ntry {\r\n    byte[] buffer = new byte[1024];\r\n    OutputStream fos = ftpClient.storeFileStream(remoteFile);\r\n    try (ZipOutputStream zos = new ZipOutputStream(fos)) {\r\n        File srcFile = new File(srcFilename);\r\n        try (FileInputStream fis = new FileInputStream(srcFile)) {\r\n            zos.putNextEntry(new ZipEntry(srcFile.getName()));\r\n            int length;\r\n            while ((length = fis.read(buffer)) &gt; 0) {\r\n                zos.write(buffer, 0, length);\r\n            }\r\n            zos.closeEntry();\r\n        }\r\n    }\r\n}\r\ncatch (IOException ioe) {\r\n    System.out.println(&quot;Error creating zip file&quot; + ioe);\r\n}\r\n\r\nif (ftpClient.isConnected()) {\r\n        ftpClient.logout();\r\n        ftpClient.disconnect();\r\n}\r\n```  ","title":"Files uploaded using Apache Common Net FTPClient.storeFileStream are corrupted","body":"<p>I wrote a code for compressing database file (.zip) and uploading to an FTP server. When I download that from server, files are corrupted. What can be the reason for that?</p>\n<p>Code:</p>\n<pre><code>FTPClient ftpClient = new FTPClient();      \n\nftpClient.connect(server, port);\nftpClient.login(user, pass);\nftpClient.enterLocalPassiveMode();\n\nftpClient.setFileType(FTP.BINARY_FILE_TYPE);                 \n  \nDateTimeFormatter dtf = DateTimeFormatter.ofPattern(&quot;yyyy.MM.dd&quot;);  \nLocalDateTime now = LocalDateTime.now(); \nString currentDate = dtf.format(now);\n         \nString srcFilename = file;\n\nString remoteFile = &quot;STORE_&quot; + currentDate + &quot;.zip&quot;;\n       \ntry {\n    byte[] buffer = new byte[1024];\n    OutputStream fos = ftpClient.storeFileStream(remoteFile);\n    try (ZipOutputStream zos = new ZipOutputStream(fos)) {\n        File srcFile = new File(srcFilename);\n        try (FileInputStream fis = new FileInputStream(srcFile)) {\n            zos.putNextEntry(new ZipEntry(srcFile.getName()));\n            int length;\n            while ((length = fis.read(buffer)) &gt; 0) {\n                zos.write(buffer, 0, length);\n            }\n            zos.closeEntry();\n        }\n    }\n}\ncatch (IOException ioe) {\n    System.out.println(&quot;Error creating zip file&quot; + ioe);\n}\n\nif (ftpClient.isConnected()) {\n        ftpClient.logout();\n        ftpClient.disconnect();\n}\n</code></pre>\n"},{"tags":["java","android","ftp","apache-commons-net"],"answers":[{"tags":[],"owner":{"account_id":453710,"reputation":192103,"user_id":850848,"accept_rate":80,"display_name":"Martin Prikryl"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1697778324,"creation_date":1587734815,"answer_id":61409505,"question_id":61383488,"body_markdown":"For me your code works, so I do not know why it does not for you.\r\n\r\nAnyway, as the [`FTPClient.storeFile`](https://commons.apache.org/proper/commons-net/apidocs/org/apache/commons/net/ftp/FTPClient.html#storeFile(java.lang.String,java.io.InputStream)) works you – You can use that with an in-memory stream, like this:\r\n\r\n```\r\nInputStream is = new ByteArrayInputStream(text.getBytes(StandardCharsets.UTF_8));\r\nftpClient.storeFile(filename, is);\r\n```\r\n\r\n---\r\n\r\nThe answer to your original question is here:  \r\nhttps://stackoverflow.com/q/31550862/850848\r\n\r\n---\r\n\r\n*Btw, I&#39;m pretty sure the documentation is wrong. It is ok to call [`FTPClient.storeFileStream`](https://commons.apache.org/proper/commons-net/apidocs/org/apache/commons/net/ftp/FTPClient.html#storeFileStream(java.lang.String)) when the file does not exist.*\r\n\r\n","title":"Apache FTPClient: Write text from memory to file on FTP server","body":"<p>For me your code works, so I do not know why it does not for you.</p>\n<p>Anyway, as the <a href=\"https://commons.apache.org/proper/commons-net/apidocs/org/apache/commons/net/ftp/FTPClient.html#storeFile(java.lang.String,java.io.InputStream)\" rel=\"nofollow noreferrer\"><code>FTPClient.storeFile</code></a> works you – You can use that with an in-memory stream, like this:</p>\n<pre><code>InputStream is = new ByteArrayInputStream(text.getBytes(StandardCharsets.UTF_8));\nftpClient.storeFile(filename, is);\n</code></pre>\n<hr />\n<p>The answer to your original question is here:<br />\n<a href=\"https://stackoverflow.com/q/31550862/850848\">Apache Commons FTP storeFileStream returns null</a></p>\n<hr />\n<p><em>Btw, I'm pretty sure the documentation is wrong. It is ok to call <a href=\"https://commons.apache.org/proper/commons-net/apidocs/org/apache/commons/net/ftp/FTPClient.html#storeFileStream(java.lang.String)\" rel=\"nofollow noreferrer\"><code>FTPClient.storeFileStream</code></a> when the file does not exist.</em></p>\n"},{"tags":[],"owner":{"account_id":2294271,"reputation":1873,"user_id":2016165,"accept_rate":45,"display_name":"Neph"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1588063417,"creation_date":1588063417,"answer_id":61476090,"question_id":61383488,"body_markdown":"As MartinPrikryl already mentioned in the comments, don&#39;t call `enterRemotePassiveMode`, it was the reason `OutputStream os` was `null` every time.\r\n\r\nWhat I did to fix the problem (file was created but not written to):\r\n\r\n 1. I removed the `BufferedReader` as it&#39;s not necessary.\r\n 2. The `text` I use looked okay but it is worth checking that it&#39;s still okay right before sending. This is because building a lot in Android Studio (I&#39;ve also experienced this in other IDEs) can get variables &quot;stuck&quot; with their old value, which can be fixed by cleaning the project and/or restarting Android Studio.\r\n\r\nThe working code:\r\n\r\n    login(); //logs in and leaves the connection open\r\n    ftpClient.enterLocalPassiveMode();\r\n    \r\n    if(ftpClient.changeWorkingDirectory(folder)) {\r\n        OutputStream os = ftpClient.storeFileStream(File.separator+filename);\r\n        OutputStreamWriter osw = new OutputStreamWriter(os,StandardCharsets.UTF_8);\r\n        osw.write(text);\r\n        osw.close(); //Better use this in a &quot;finally&quot;\r\n    \r\n        if(ftpClient.completePendingCommand()) {\r\n            //Success!\r\n        } else {\r\n            //Failed\r\n        }\r\n    } else {\r\n        //Show error because folder doesn&#39;t exist\r\n    }\r\n\r\nThe first paragraph inside the `if` can also be replaced by MartinPrikryl&#39;s code (`storeFile` instead of `storeFileStream`).","title":"Apache FTPClient: Write text from memory to file on FTP server","body":"<p>As MartinPrikryl already mentioned in the comments, don't call <code>enterRemotePassiveMode</code>, it was the reason <code>OutputStream os</code> was <code>null</code> every time.</p>\n\n<p>What I did to fix the problem (file was created but not written to):</p>\n\n<ol>\n<li>I removed the <code>BufferedReader</code> as it's not necessary.</li>\n<li>The <code>text</code> I use looked okay but it is worth checking that it's still okay right before sending. This is because building a lot in Android Studio (I've also experienced this in other IDEs) can get variables \"stuck\" with their old value, which can be fixed by cleaning the project and/or restarting Android Studio.</li>\n</ol>\n\n<p>The working code:</p>\n\n<pre><code>login(); //logs in and leaves the connection open\nftpClient.enterLocalPassiveMode();\n\nif(ftpClient.changeWorkingDirectory(folder)) {\n    OutputStream os = ftpClient.storeFileStream(File.separator+filename);\n    OutputStreamWriter osw = new OutputStreamWriter(os,StandardCharsets.UTF_8);\n    osw.write(text);\n    osw.close(); //Better use this in a \"finally\"\n\n    if(ftpClient.completePendingCommand()) {\n        //Success!\n    } else {\n        //Failed\n    }\n} else {\n    //Show error because folder doesn't exist\n}\n</code></pre>\n\n<p>The first paragraph inside the <code>if</code> can also be replaced by MartinPrikryl's code (<code>storeFile</code> instead of <code>storeFileStream</code>).</p>\n"}],"owner":{"account_id":2294271,"reputation":1873,"user_id":2016165,"accept_rate":45,"display_name":"Neph"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1231,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1697778324,"creation_date":1587633157,"question_id":61383488,"body_markdown":"My Android app (min API 24, target API 27, Java 8) uses Apache&#39;s `FTPClient` to connect to an FTP server. At the moment I&#39;m trying to write some text to a file on the server (the file doesn&#39;t exist on the phone!) but failing:\r\n\r\n    login(); //logs in and leaves the connection open\r\n    ftpClient.enterLocalPassiveMode();\r\n    \r\n    if(ftpClient.changeWorkingDirectory(folder)) {\r\n        OutputStream os = ftpClient.storeFileStream(File.separator+filename);\r\n        BufferedWriter bw = new BufferedWriter((new OutputStreamWriter(os,StandardCharsets.UTF_8)));\r\n        bw.write(text);\r\n        bw.close();\r\n    \r\n        if(ftpClient.completePendingCommand()) {\r\n            //Success!\r\n        } else {\r\n            //Failed\r\n        }\r\n    } else {\r\n        //Show error because folder doesn&#39;t exist\r\n    }\r\n\r\nThe file usually doesn&#39;t already exist on the server and, while it is created, it&#39;s always empty.\r\n\r\nThe log for it:\r\n\r\n&lt;!-- language: lang-none --&gt;\r\n\r\n    CWD \r\n    250 CWD command successful.\r\n    PWD\r\n    257 &quot;/&quot; is current directory.\r\n    PASV\r\n    227 Entering Passive Mode ([IP here]).\r\n    STOR /blabla9.txt\r\n    125 Data connection already open; Transfer starting.\r\n    226 Transfer complete. [called because of &quot;completePendingCommand()&quot;]\r\n\r\n**Question:** How do I write text to a file using the library, creating a new file beforehand (if necessary)?\r\n\r\n---\r\n\r\n***Edit:*** Instead I also tried to save the text to External Storage, then upload the whole file:\r\n\r\n    login(); //logs in and leaves the connection open\r\n    ftpClient.enterLocalPassiveMode();\r\n    \r\n    if(ftpClient.changeWorkingDirectory(folder)) {\r\n        ftpClient.setFileType(FTP.ASCII_FILE_TYPE);\r\n        BufferedInputStream bis = new BufferedInputStream(new FileInputStream(file));\r\n        boolean result = ftpClient.storeFile(filename, bis);\r\n        bis.close();\r\n    \r\n        if(result) {\r\n            //Success!\r\n        } else {\r\n            //Failed\r\n        }\r\n    } else {\r\n        //Show error because folder doesn&#39;t exist\r\n    }\r\n\r\n\r\nThis works but it&#39;s only a temporary solution because it requires writing the file to External Storage first, then deleting it again after the upload.\r\n\r\nThe log for this version:\r\n\r\n&lt;!-- language: lang-none --&gt;\r\n\r\n    CWD \r\n    250 CWD command successful.\r\n    PWD\r\n    257 &quot;/&quot; is current directory.\r\n    TYPE A\r\n    200 Type set to A.\r\n    PASV\r\n    227 Entering Passive Mode ([IP here]).\r\n    STOR blabla11.txt\r\n    125 Data connection already open; Transfer starting.\r\n    226 Transfer complete.","title":"Apache FTPClient: Write text from memory to file on FTP server","body":"<p>My Android app (min API 24, target API 27, Java 8) uses Apache's <code>FTPClient</code> to connect to an FTP server. At the moment I'm trying to write some text to a file on the server (the file doesn't exist on the phone!) but failing:</p>\n\n<pre><code>login(); //logs in and leaves the connection open\nftpClient.enterLocalPassiveMode();\n\nif(ftpClient.changeWorkingDirectory(folder)) {\n    OutputStream os = ftpClient.storeFileStream(File.separator+filename);\n    BufferedWriter bw = new BufferedWriter((new OutputStreamWriter(os,StandardCharsets.UTF_8)));\n    bw.write(text);\n    bw.close();\n\n    if(ftpClient.completePendingCommand()) {\n        //Success!\n    } else {\n        //Failed\n    }\n} else {\n    //Show error because folder doesn't exist\n}\n</code></pre>\n\n<p>The file usually doesn't already exist on the server and, while it is created, it's always empty.</p>\n\n<p>The log for it:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>CWD \n250 CWD command successful.\nPWD\n257 \"/\" is current directory.\nPASV\n227 Entering Passive Mode ([IP here]).\nSTOR /blabla9.txt\n125 Data connection already open; Transfer starting.\n226 Transfer complete. [called because of \"completePendingCommand()\"]\n</code></pre>\n\n<p><strong>Question:</strong> How do I write text to a file using the library, creating a new file beforehand (if necessary)?</p>\n\n<hr>\n\n<p><strong><em>Edit:</em></strong> Instead I also tried to save the text to External Storage, then upload the whole file:</p>\n\n<pre><code>login(); //logs in and leaves the connection open\nftpClient.enterLocalPassiveMode();\n\nif(ftpClient.changeWorkingDirectory(folder)) {\n    ftpClient.setFileType(FTP.ASCII_FILE_TYPE);\n    BufferedInputStream bis = new BufferedInputStream(new FileInputStream(file));\n    boolean result = ftpClient.storeFile(filename, bis);\n    bis.close();\n\n    if(result) {\n        //Success!\n    } else {\n        //Failed\n    }\n} else {\n    //Show error because folder doesn't exist\n}\n</code></pre>\n\n<p>This works but it's only a temporary solution because it requires writing the file to External Storage first, then deleting it again after the upload.</p>\n\n<p>The log for this version:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>CWD \n250 CWD command successful.\nPWD\n257 \"/\" is current directory.\nTYPE A\n200 Type set to A.\nPASV\n227 Entering Passive Mode ([IP here]).\nSTOR blabla11.txt\n125 Data connection already open; Transfer starting.\n226 Transfer complete.\n</code></pre>\n"},{"tags":["java","ftp","upload","apache-commons-net"],"answers":[{"tags":[],"owner":{"account_id":453710,"reputation":192103,"user_id":850848,"accept_rate":80,"display_name":"Martin Prikryl"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1697778282,"creation_date":1586968162,"answer_id":61233789,"question_id":61231580,"body_markdown":"You seem to be using Apache Commons Net [`FTPClient`](https://commons.apache.org/proper/commons-net/apidocs/org/apache/commons/net/ftp/FTPClient.html).\r\n\r\nIt actually does not even have a direct way to upload a *physical file*. Its [`FTPClient.storeFile` method](https://commons.apache.org/proper/commons-net/apidocs/org/apache/commons/net/ftp/FTPClient.html#storeFile(java.lang.String,java.io.InputStream)) only accepts [`InputStream`](https://docs.oracle.com/javase/8/docs/api/java/io/InputStream.html) interface.\r\n\r\nNormally you would use `FileInputStream` to refer to a physical file:  \r\nhttps://stackoverflow.com/q/6527664/850848\r\n\r\nWhile you want to to use `ByteArrayInputStream`:  \r\nhttps://stackoverflow.com/q/1802123/850848\r\n\r\n```\r\nInputStream inputStream = new ByteArrayInputStream(bytes);\r\nftpClient.storeFile(remotePath, inputStream);\r\n```\r\n","title":"Uploading byte array to FTP in Java","body":"<p>You seem to be using Apache Commons Net <a href=\"https://commons.apache.org/proper/commons-net/apidocs/org/apache/commons/net/ftp/FTPClient.html\" rel=\"nofollow noreferrer\"><code>FTPClient</code></a>.</p>\n<p>It actually does not even have a direct way to upload a <em>physical file</em>. Its <a href=\"https://commons.apache.org/proper/commons-net/apidocs/org/apache/commons/net/ftp/FTPClient.html#storeFile(java.lang.String,java.io.InputStream)\" rel=\"nofollow noreferrer\"><code>FTPClient.storeFile</code> method</a> only accepts <a href=\"https://docs.oracle.com/javase/8/docs/api/java/io/InputStream.html\" rel=\"nofollow noreferrer\"><code>InputStream</code></a> interface.</p>\n<p>Normally you would use <code>FileInputStream</code> to refer to a physical file:<br />\n<a href=\"https://stackoverflow.com/q/6527664/850848\">How do you upload a file to an FTP server?</a></p>\n<p>While you want to to use <code>ByteArrayInputStream</code>:<br />\n<a href=\"https://stackoverflow.com/q/1802123/850848\">Can we convert a byte array into an InputStream in Java?</a></p>\n<pre><code>InputStream inputStream = new ByteArrayInputStream(bytes);\nftpClient.storeFile(remotePath, inputStream);\n</code></pre>\n"}],"owner":{"account_id":18010380,"reputation":81,"user_id":13090210,"display_name":"letMeThink"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1832,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":61233789,"answer_count":1,"score":1,"last_activity_date":1697778282,"creation_date":1586961737,"question_id":61231580,"body_markdown":"My goal is to be able to upload files to FTP server, I have researched a bit and saw the way how to upload a file if the file is already stored locally, I have a function that returns `byte[]` so I am wondering how to send that file to FTP server if it file exist in memory.\r\n\r\n    private void connect() throws IOException {\r\n        FTPClient ftpClient = new FTPClient();\r\n        ftpClient.addProtocolCommandListener(new PrintCommandListener(new PrintWriter(System.out)));\r\n        ftpClient.connect(ftp.getServer(), ftp.getPort());\r\n        int reply = ftpClient.getReplyCode();\r\n        if (!FTPReply.isPositiveCompletion(reply)) {\r\n            ftpClient.disconnect();\r\n            throw new RuntimeException(&quot;Could not connect to FTP Server&quot;);\r\n        } else {\r\n            ftpClient.login(ftp.getUser(), ftp.getPassword());\r\n        }\r\n    }\r\n","title":"Uploading byte array to FTP in Java","body":"<p>My goal is to be able to upload files to FTP server, I have researched a bit and saw the way how to upload a file if the file is already stored locally, I have a function that returns <code>byte[]</code> so I am wondering how to send that file to FTP server if it file exist in memory.</p>\n\n<pre><code>private void connect() throws IOException {\n    FTPClient ftpClient = new FTPClient();\n    ftpClient.addProtocolCommandListener(new PrintCommandListener(new PrintWriter(System.out)));\n    ftpClient.connect(ftp.getServer(), ftp.getPort());\n    int reply = ftpClient.getReplyCode();\n    if (!FTPReply.isPositiveCompletion(reply)) {\n        ftpClient.disconnect();\n        throw new RuntimeException(\"Could not connect to FTP Server\");\n    } else {\n        ftpClient.login(ftp.getUser(), ftp.getPassword());\n    }\n}\n</code></pre>\n"},{"tags":["java","ftp","ftp-client"],"answers":[{"tags":[],"owner":{"account_id":453710,"reputation":192103,"user_id":850848,"accept_rate":80,"display_name":"Martin Prikryl"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1697778259,"creation_date":1571117035,"answer_id":58387726,"question_id":58381956,"body_markdown":"The first argument of [`FTPClient.storeFile`](https://commons.apache.org/proper/commons-net/apidocs/org/apache/commons/net/ftp/FTPClient.html#storeFile(java.lang.String,java.io.InputStream)) is:\r\n\r\n&gt; `remote` - The name to give the remote file.\r\n\r\nI do not think that `&quot;c:\\\\upload\\\\folderA\\\\subfolderB\\\\2019-10-14-20.11.54.111.fileName.dat&quot;` is a valid remote path of your FTP server. Use the path you see when you login with your FTP client.","title":"FTPClient connection timeout while trying to upload file","body":"<p>The first argument of <a href=\"https://commons.apache.org/proper/commons-net/apidocs/org/apache/commons/net/ftp/FTPClient.html#storeFile(java.lang.String,java.io.InputStream)\" rel=\"nofollow noreferrer\"><code>FTPClient.storeFile</code></a> is:</p>\n<blockquote>\n<p><code>remote</code> - The name to give the remote file.</p>\n</blockquote>\n<p>I do not think that <code>&quot;c:\\\\upload\\\\folderA\\\\subfolderB\\\\2019-10-14-20.11.54.111.fileName.dat&quot;</code> is a valid remote path of your FTP server. Use the path you see when you login with your FTP client.</p>\n"}],"owner":{"account_id":3987289,"reputation":1949,"user_id":3287486,"accept_rate":42,"display_name":"breaktop"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2493,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":58387726,"answer_count":1,"score":0,"last_activity_date":1697778259,"creation_date":1571076258,"question_id":58381956,"body_markdown":"I am using `org.apache.commons.net.ftp.FTPClient` to upload files to a Windows FTP server.\r\n\r\nI am having issues uploading files to the FTP server (also files with no content). I am getting `Connection timed out (Connection timed out)`.\r\n\r\nStrangely I am able to create folders.\r\n\r\nHere is what my code looks like:\r\n\r\n```\r\npublic FtpClient getFtpClient() throws ConnectException {\r\n    FTPClient ftpClient = new FTPClient();\r\n    try {\r\n\r\n        ftpClient.connect(&quot;localhost&quot;, 21);\r\n        ftpClient.enterLocalPassiveMode();\r\n\r\n        ftpClient.login(&quot;username&quot;, &quot;password&quot;);\r\n\r\n        final int loginResponse = ftpClient.getReplyCode();\r\n\r\n        if (!FTPReply.isPositiveCompletion(loginResponse)) {\r\n            ftpClient.disconnect();\r\n        }\r\n        \r\n        ftpClient.setFileType(BINARY_FILE_TYPE);\r\n\r\n        ftpClient.setRemoteVerificationEnabled(false);\r\n\r\n    } catch (final IOException e) {}\r\n    \r\n    return ftpClient;\r\n}\r\n\r\n\r\nprivate void connectAndSend(String message) throws FileTransferException {\r\n    try ((final FTPClient ftpClient = getFtpClient())) {\r\n        // code to create dir if they do not exist goes here\r\n        final ByteArrayInputStream inputStream = new ByteArrayInputStream(message.getBytes());\r\n      ftpClient.storeFile(&quot;c:\\\\upload\\\\folderA\\\\subfolderB\\\\2019-10-14-20.11.54.111.fileName.dat&quot;, inputStream);\r\n    } catch (IOException e) {}\r\n}\r\n```\r\n\r\nWhy is it that I am able to create the folder but when I try to upload a file I get `Connection timed out (Connection timed out)`.\r\n\r\nI&#39;ve tried with and without `ftpClient.enterLocalPassiveMode();` and no luck.\r\n\r\nI have also tryied to put files into the FTP server using FTP client on the same machine as the java program with not luck.\r\n\r\nI was able to upload the same file to the FTP server using FileZilla (located on a separate machine). \r\n\r\nThe Java program is in a docker image running in EC2 instance. FileZilla is running on a Windows machine. \r\n\r\nUPDATE:\r\n\r\nHere is the logs from the java program that&#39;s attempting to put files into FTP server.\r\n\r\n```\r\n2019-10-15 13:19:57.017 INFO 1 --- [ask-scheduler-3] u.c.h.g.a.service.ftp.FtpSender : File built for dest D:\\FTP\\FolderOne\\FolderTwo\\FolderThree\r\nPASV\r\n530 Please login with USER and PASS.\r\nUSER *******\r\n331 Password required\r\nPASS *******\r\n230 User logged in.\r\n2019-10-15 13:19:57.048 INFO 1 --- [ask-scheduler-3] u.c.h.g.a.service.ftp.FtpClient : Logged into FTP Server\r\nTYPE I\r\n200 Type set to I.\r\nCWD D:\\\r\n550 The parameter is incorrect.\r\n2019-10-15 13:19:57.050 INFO 1 --- [ask-scheduler-3] u.c.h.g.a.service.ftp.FtpSender : Folder D:\\ does not exist. Creating folder D:\\\r\nMKD D:\\\r\n550 The parameter is incorrect.\r\nCWD FTP\r\n250 CWD command successful.\r\n2019-10-15 13:19:57.052 INFO 1 --- [ask-scheduler-3] u.c.h.g.a.service.ftp.FtpSender : Folder FTP exist. Do nothing\r\nCWD FolderOne\r\n250 CWD command successful.\r\n2019-10-15 13:19:57.053 INFO 1 --- [ask-scheduler-3] u.c.h.g.a.service.ftp.FtpSender : Folder FolderOne exist. Do nothing\r\nCWD FolderTwo\r\n250 CWD command successful.\r\n2019-10-15 13:19:57.054 INFO 1 --- [ask-scheduler-3] u.c.h.g.a.service.ftp.FtpSender : Folder FolderTwo exist. Do nothing\r\nCWD FolderThree\r\n250 CWD command successful.\r\n2019-10-15 13:19:57.055 INFO 1 --- [ask-scheduler-3] u.c.h.g.a.service.ftp.FtpSender : Folder FolderThree exist. Do nothing\r\n2019-10-15 13:19:57.058 INFO 1 --- [ask-scheduler-3] u.c.h.g.a.service.ftp.FtpSender : uploading to pre.env.co.uk:21 D:\\FTP\\FolderOne\\FolderTwo\\FolderThree\\2019-10-15-14.19.57.169751.fileName.dat as username\r\nPASV\r\n227 Entering Passive Mode (10,128,5,21,213,99).\r\n2019-10-15 13:22:07.746 ERROR 1 --- [ask-scheduler-3] u.c.h.g.a.service.ftp.FtpSender : FAILED uploading to pre.env.co.uk:21\r\n||AI021|20191014|181439|8160394620251766|||81|4074|DATA|ADAT|||DATA|1111111|111111|11111111111|||11|1111|DATA|ADAT|.|DATA||||DATA|94|816035||||802||15|004|||||N|N|DATA||||||||||||||||||704721919||||DATA|0|||DATA|||||||||DATA||||DATA|11|11111||||111||111|1111|||||1|1|1111||||||||||||||||||704721919||||DATA|0|||DATA||||||||\r\nas username.\r\n{}\r\njava.net.ConnectException: Connection timed out (Connection timed out)\r\n```\r\n\r\nHere are the logs from FTP client running on the same machine as the Java program\r\n\r\n```\r\nroot@955a11ba6126:/usr/src/ftp# ftp -d -p dmx01.pre.examplecloud.co.uk\r\nConnected to dmx01.pre.examplecloud.co.uk.\r\n220 Microsoft FTP Service\r\nftp: setsockopt: Bad file descriptor\r\nName (dmx01.pre.examplecloud.co.uk:root): dmx01-ftp\r\n---&gt; USER dmx01-ftp\r\n331 Password required\r\nPassword:\r\n---&gt; PASS XXXX\r\n230 User logged in.\r\n---&gt; SYST\r\n215 Windows_NT\r\nRemote system type is Windows_NT.\r\nftp&gt; cd FTP\r\n---&gt; CWD FTP\r\n250 CWD command successful.\r\nftp&gt; put cat\r\nlocal: cat remote: cat\r\nftp: setsockopt (ignored): Permission denied\r\n---&gt; PASV\r\n227 Entering Passive Mode (10,128,5,21,219,253).\r\nftp: connect: Connection timed out\r\nftp&gt; put cat\r\nlocal: cat remote: cat\r\nftp: setsockopt (ignored): Permission denied\r\n---&gt; PASV\r\n421 Service not available, remote server has closed connection\r\nPassive mode refused.\r\nftp&gt; \r\n```\r\n\r\nWhy is it that the java program and the FTP client can&#39;t put files into the FTP server. The java program and the FTP client are running on the same machine.","title":"FTPClient connection timeout while trying to upload file","body":"<p>I am using <code>org.apache.commons.net.ftp.FTPClient</code> to upload files to a Windows FTP server.</p>\n\n<p>I am having issues uploading files to the FTP server (also files with no content). I am getting <code>Connection timed out (Connection timed out)</code>.</p>\n\n<p>Strangely I am able to create folders.</p>\n\n<p>Here is what my code looks like:</p>\n\n<pre><code>public FtpClient getFtpClient() throws ConnectException {\n    FTPClient ftpClient = new FTPClient();\n    try {\n\n        ftpClient.connect(\"localhost\", 21);\n        ftpClient.enterLocalPassiveMode();\n\n        ftpClient.login(\"username\", \"password\");\n\n        final int loginResponse = ftpClient.getReplyCode();\n\n        if (!FTPReply.isPositiveCompletion(loginResponse)) {\n            ftpClient.disconnect();\n        }\n\n        ftpClient.setFileType(BINARY_FILE_TYPE);\n\n        ftpClient.setRemoteVerificationEnabled(false);\n\n    } catch (final IOException e) {}\n\n    return ftpClient;\n}\n\n\nprivate void connectAndSend(String message) throws FileTransferException {\n    try ((final FTPClient ftpClient = getFtpClient())) {\n        // code to create dir if they do not exist goes here\n        final ByteArrayInputStream inputStream = new ByteArrayInputStream(message.getBytes());\n      ftpClient.storeFile(\"c:\\\\upload\\\\folderA\\\\subfolderB\\\\2019-10-14-20.11.54.111.fileName.dat\", inputStream);\n    } catch (IOException e) {}\n}\n</code></pre>\n\n<p>Why is it that I am able to create the folder but when I try to upload a file I get <code>Connection timed out (Connection timed out)</code>.</p>\n\n<p>I've tried with and without <code>ftpClient.enterLocalPassiveMode();</code> and no luck.</p>\n\n<p>I have also tryied to put files into the FTP server using FTP client on the same machine as the java program with not luck.</p>\n\n<p>I was able to upload the same file to the FTP server using FileZilla (located on a separate machine). </p>\n\n<p>The Java program is in a docker image running in EC2 instance. FileZilla is running on a Windows machine. </p>\n\n<p>UPDATE:</p>\n\n<p>Here is the logs from the java program that's attempting to put files into FTP server.</p>\n\n<pre><code>2019-10-15 13:19:57.017 INFO 1 --- [ask-scheduler-3] u.c.h.g.a.service.ftp.FtpSender : File built for dest D:\\FTP\\FolderOne\\FolderTwo\\FolderThree\nPASV\n530 Please login with USER and PASS.\nUSER *******\n331 Password required\nPASS *******\n230 User logged in.\n2019-10-15 13:19:57.048 INFO 1 --- [ask-scheduler-3] u.c.h.g.a.service.ftp.FtpClient : Logged into FTP Server\nTYPE I\n200 Type set to I.\nCWD D:\\\n550 The parameter is incorrect.\n2019-10-15 13:19:57.050 INFO 1 --- [ask-scheduler-3] u.c.h.g.a.service.ftp.FtpSender : Folder D:\\ does not exist. Creating folder D:\\\nMKD D:\\\n550 The parameter is incorrect.\nCWD FTP\n250 CWD command successful.\n2019-10-15 13:19:57.052 INFO 1 --- [ask-scheduler-3] u.c.h.g.a.service.ftp.FtpSender : Folder FTP exist. Do nothing\nCWD FolderOne\n250 CWD command successful.\n2019-10-15 13:19:57.053 INFO 1 --- [ask-scheduler-3] u.c.h.g.a.service.ftp.FtpSender : Folder FolderOne exist. Do nothing\nCWD FolderTwo\n250 CWD command successful.\n2019-10-15 13:19:57.054 INFO 1 --- [ask-scheduler-3] u.c.h.g.a.service.ftp.FtpSender : Folder FolderTwo exist. Do nothing\nCWD FolderThree\n250 CWD command successful.\n2019-10-15 13:19:57.055 INFO 1 --- [ask-scheduler-3] u.c.h.g.a.service.ftp.FtpSender : Folder FolderThree exist. Do nothing\n2019-10-15 13:19:57.058 INFO 1 --- [ask-scheduler-3] u.c.h.g.a.service.ftp.FtpSender : uploading to pre.env.co.uk:21 D:\\FTP\\FolderOne\\FolderTwo\\FolderThree\\2019-10-15-14.19.57.169751.fileName.dat as username\nPASV\n227 Entering Passive Mode (10,128,5,21,213,99).\n2019-10-15 13:22:07.746 ERROR 1 --- [ask-scheduler-3] u.c.h.g.a.service.ftp.FtpSender : FAILED uploading to pre.env.co.uk:21\n||AI021|20191014|181439|8160394620251766|||81|4074|DATA|ADAT|||DATA|1111111|111111|11111111111|||11|1111|DATA|ADAT|.|DATA||||DATA|94|816035||||802||15|004|||||N|N|DATA||||||||||||||||||704721919||||DATA|0|||DATA|||||||||DATA||||DATA|11|11111||||111||111|1111|||||1|1|1111||||||||||||||||||704721919||||DATA|0|||DATA||||||||\nas username.\n{}\njava.net.ConnectException: Connection timed out (Connection timed out)\n</code></pre>\n\n<p>Here are the logs from FTP client running on the same machine as the Java program</p>\n\n<pre><code>root@955a11ba6126:/usr/src/ftp# ftp -d -p dmx01.pre.examplecloud.co.uk\nConnected to dmx01.pre.examplecloud.co.uk.\n220 Microsoft FTP Service\nftp: setsockopt: Bad file descriptor\nName (dmx01.pre.examplecloud.co.uk:root): dmx01-ftp\n---&gt; USER dmx01-ftp\n331 Password required\nPassword:\n---&gt; PASS XXXX\n230 User logged in.\n---&gt; SYST\n215 Windows_NT\nRemote system type is Windows_NT.\nftp&gt; cd FTP\n---&gt; CWD FTP\n250 CWD command successful.\nftp&gt; put cat\nlocal: cat remote: cat\nftp: setsockopt (ignored): Permission denied\n---&gt; PASV\n227 Entering Passive Mode (10,128,5,21,219,253).\nftp: connect: Connection timed out\nftp&gt; put cat\nlocal: cat remote: cat\nftp: setsockopt (ignored): Permission denied\n---&gt; PASV\n421 Service not available, remote server has closed connection\nPassive mode refused.\nftp&gt; \n</code></pre>\n\n<p>Why is it that the java program and the FTP client can't put files into the FTP server. The java program and the FTP client are running on the same machine.</p>\n"},{"tags":["java","android","ftp","apache-commons-net"],"answers":[{"tags":[],"owner":{"account_id":453710,"reputation":192103,"user_id":850848,"accept_rate":80,"display_name":"Martin Prikryl"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697778235,"creation_date":1508265806,"answer_id":46797106,"question_id":46796695,"body_markdown":"The first argument of [`FTPClient.storeFile`](https://commons.apache.org/proper/commons-net/apidocs/org/apache/commons/net/ftp/FTPClient.html#storeFile(java.lang.String,java.io.InputStream)) is a **path** to file to store the uploaded data to, not an **HTTP URL**.\r\n\r\nWhat that path is, depends on how your FTP server is configured.\r\n\r\nIt can be an absolute path like:\r\n\r\n    link = &quot;/home/user/public_html/image/ayri.jpg&quot;;\r\n\r\nOr if the `user` account is chrooted, it can be:\r\n\r\n    link = &quot;/public_html/image/ayri.jpg&quot;;\r\n\r\nOr something completely different. See https://stackoverflow.com/q/46417961/850848 (an opposite problem, but the answer will give you an idea anyway).\r\n\r\n*(In any case, obviously the name of variable `link` is wrong, it should be `path`.)*","title":"FTP upload does not work Android","body":"<p>The first argument of <a href=\"https://commons.apache.org/proper/commons-net/apidocs/org/apache/commons/net/ftp/FTPClient.html#storeFile(java.lang.String,java.io.InputStream)\" rel=\"nofollow noreferrer\"><code>FTPClient.storeFile</code></a> is a <strong>path</strong> to file to store the uploaded data to, not an <strong>HTTP URL</strong>.</p>\n<p>What that path is, depends on how your FTP server is configured.</p>\n<p>It can be an absolute path like:</p>\n<pre><code>link = &quot;/home/user/public_html/image/ayri.jpg&quot;;\n</code></pre>\n<p>Or if the <code>user</code> account is chrooted, it can be:</p>\n<pre><code>link = &quot;/public_html/image/ayri.jpg&quot;;\n</code></pre>\n<p>Or something completely different. See <a href=\"https://stackoverflow.com/q/46417961/850848\">How to get HTTP URL of file uploaded to FTP server</a> (an opposite problem, but the answer will give you an idea anyway).</p>\n<p><em>(In any case, obviously the name of variable <code>link</code> is wrong, it should be <code>path</code>.)</em></p>\n"},{"tags":[],"owner":{"account_id":10775315,"reputation":75,"user_id":7927581,"accept_rate":50,"display_name":"Adam Harmand"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":true,"score":-1,"last_activity_date":1509384842,"creation_date":1509384842,"answer_id":47021114,"question_id":46796695,"body_markdown":"So i&#39;ve found myself the answer, for those of you who will encounter this problem, first for **POST** or **UPLOADING** files, always use Asynctask, if not it will never work. And just check that in your application you have permission for file management, you can see in settings -&gt; Application -&gt; Your app -&gt; Permission -&gt; Storage check yes. And that&#39;s it.\r\n\r\nThank you stackoverflow for helping ! ","title":"FTP upload does not work Android","body":"<p>So i've found myself the answer, for those of you who will encounter this problem, first for <strong>POST</strong> or <strong>UPLOADING</strong> files, always use Asynctask, if not it will never work. And just check that in your application you have permission for file management, you can see in settings -> Application -> Your app -> Permission -> Storage check yes. And that's it.</p>\n\n<p>Thank you stackoverflow for helping ! </p>\n"}],"owner":{"account_id":10775315,"reputation":75,"user_id":7927581,"accept_rate":50,"display_name":"Adam Harmand"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":947,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":47021114,"answer_count":2,"score":-1,"last_activity_date":1697778235,"creation_date":1508264331,"question_id":46796695,"body_markdown":"I am trying to upload a picture from a Samsung to an FTP server using the Apache `FTPClient`. But it does not seem to work. I don&#39;t know why, the code is fine. I am trying to choose an image to upload it on the server, the `selectedImage` variable is the complete path of the picture file.\r\n\r\n    FTPClient ftpClient = new FTPClient();\r\n    ftpClient.connect(InetAddress.getByName(&quot;ftpserver&quot;));\r\n    ftpClient.login(&quot;user&quot;, &quot;password&quot;);\r\n    ftpClient.setFileType(FTP.BINARY_FILE_TYPE);\r\n\r\n    FileInputStream buffIn = null;\r\n    buffIn = new FileInputStream(new File(getRealPathFromURI(selectedImage)));\r\n    ftpClient.enterLocalPassiveMode();\r\n    link = &quot;http://ftpname/home/user/public_html/image/ayri.jpg&quot;;\r\n    ftpClient.storeFile(link, buffIn);\r\n    buffIn.close();\r\n    ftpClient.logout();\r\n    ftpClient.disconnect();\r\n\r\n","title":"FTP upload does not work Android","body":"<p>I am trying to upload a picture from a Samsung to an FTP server using the Apache <code>FTPClient</code>. But it does not seem to work. I don't know why, the code is fine. I am trying to choose an image to upload it on the server, the <code>selectedImage</code> variable is the complete path of the picture file.</p>\n\n<pre><code>FTPClient ftpClient = new FTPClient();\nftpClient.connect(InetAddress.getByName(\"ftpserver\"));\nftpClient.login(\"user\", \"password\");\nftpClient.setFileType(FTP.BINARY_FILE_TYPE);\n\nFileInputStream buffIn = null;\nbuffIn = new FileInputStream(new File(getRealPathFromURI(selectedImage)));\nftpClient.enterLocalPassiveMode();\nlink = \"http://ftpname/home/user/public_html/image/ayri.jpg\";\nftpClient.storeFile(link, buffIn);\nbuffIn.close();\nftpClient.logout();\nftpClient.disconnect();\n</code></pre>\n"},{"tags":["java","android","kotlin","ftp"],"answers":[{"tags":[],"owner":{"account_id":453710,"reputation":192103,"user_id":850848,"accept_rate":80,"display_name":"Martin Prikryl"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1697778208,"creation_date":1597563283,"answer_id":63434326,"question_id":63353792,"body_markdown":"Use [`FTPClient.setRestartOffset`](https://commons.apache.org/proper/commons-net/apidocs/org/apache/commons/net/ftp/FTPClient.html#setRestartOffset(long)) to tell the server to start the download from place, where the transfer was interrupted before.","title":"Android How to retry downloading automatically from where it left if internet connection goes away using FTP protocol","body":"<p>Use <a href=\"https://commons.apache.org/proper/commons-net/apidocs/org/apache/commons/net/ftp/FTPClient.html#setRestartOffset(long)\" rel=\"nofollow noreferrer\"><code>FTPClient.setRestartOffset</code></a> to tell the server to start the download from place, where the transfer was interrupted before.</p>\n"}],"owner":{"account_id":8718049,"reputation":1192,"user_id":6521990,"display_name":"Tarun"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":176,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1697778208,"creation_date":1597132228,"question_id":63353792,"body_markdown":"**Below Is the code for downloading file using FTP in android. It is working fine but in case internet goes off during download, it doesn&#39;t retry.\r\nI want it should automatically retry whenever internet comes back and should start downloading from there, where it left. Please help me.** \r\n\r\n\r\n     public static void downloadFile(Context context) {\r\n            FTPClient client = new FTPClient();\r\n            FileOutputStream fos = null;\r\n            try {\r\n                client.connect(&quot;test.rebex.net&quot;);\r\n                client.login(&quot;demo&quot;, &quot;password&quot;);\r\n                String filename = &quot;ftpp.png&quot;;\r\n                 String filePath = context.getFilesDir().getPath() + filename;\r\n                fos = new FileOutputStream(filePath);\r\n                client.retrieveFile(&quot;/pub/example/&quot; + &quot;KeyGenerator.png&quot;, fos);\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            } finally {\r\n                try {\r\n                    if (fos != null) {\r\n                        fos.close();\r\n                    }\r\n                    client.disconnect();\r\n                } catch (IOException e) {\r\n                    e.printStackTrace();\r\n                }\r\n    \r\n            }\r\n    \r\n        }","title":"Android How to retry downloading automatically from where it left if internet connection goes away using FTP protocol","body":"<p><strong>Below Is the code for downloading file using FTP in android. It is working fine but in case internet goes off during download, it doesn't retry.\nI want it should automatically retry whenever internet comes back and should start downloading from there, where it left. Please help me.</strong></p>\n<pre><code> public static void downloadFile(Context context) {\n        FTPClient client = new FTPClient();\n        FileOutputStream fos = null;\n        try {\n            client.connect(&quot;test.rebex.net&quot;);\n            client.login(&quot;demo&quot;, &quot;password&quot;);\n            String filename = &quot;ftpp.png&quot;;\n             String filePath = context.getFilesDir().getPath() + filename;\n            fos = new FileOutputStream(filePath);\n            client.retrieveFile(&quot;/pub/example/&quot; + &quot;KeyGenerator.png&quot;, fos);\n        } catch (IOException e) {\n            e.printStackTrace();\n        } finally {\n            try {\n                if (fos != null) {\n                    fos.close();\n                }\n                client.disconnect();\n            } catch (IOException e) {\n                e.printStackTrace();\n            }\n\n        }\n\n    }\n</code></pre>\n"},{"tags":["java","ftp","inputstream","apache-commons-net","randomaccessfile"],"answers":[{"tags":[],"owner":{"account_id":453710,"reputation":192103,"user_id":850848,"accept_rate":80,"display_name":"Martin Prikryl"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1697778169,"creation_date":1560498188,"answer_id":56593644,"question_id":56591712,"body_markdown":"If you want to starting reading the remote file from a certain offset, use [`FTPClient.setRestartOffset`](https://commons.apache.org/proper/commons-net/apidocs/org/apache/commons/net/ftp/FTPClient.html#setRestartOffset(long)). The FTP server needs to support `REST` command (most do).\r\n\r\n    ftp.setRestartOffset(offset);\r\n    InputStream in = ftp.retrieveFileStream(remote_file_name);\r\n    // Now you can read as many bytes as you need from &#39;in&#39;\r\n\r\nIf you do not want to read the file to the end, and you want to reuse the connection for other operations, you need to call [`FTPClient.abort`](https://commons.apache.org/proper/commons-net/apidocs/org/apache/commons/net/ftp/FTPClient.html#abort()).\r\n\r\n---\r\n\r\n*(You cannot convert `InputStream` to `RandomAccessFile`, nor use `RandomAccessFile` anyhow with files on FTP server)*","title":"Can you access files on the remote FTP server with RandomAccessFile?","body":"<p>If you want to starting reading the remote file from a certain offset, use <a href=\"https://commons.apache.org/proper/commons-net/apidocs/org/apache/commons/net/ftp/FTPClient.html#setRestartOffset(long)\" rel=\"nofollow noreferrer\"><code>FTPClient.setRestartOffset</code></a>. The FTP server needs to support <code>REST</code> command (most do).</p>\n<pre><code>ftp.setRestartOffset(offset);\nInputStream in = ftp.retrieveFileStream(remote_file_name);\n// Now you can read as many bytes as you need from 'in'\n</code></pre>\n<p>If you do not want to read the file to the end, and you want to reuse the connection for other operations, you need to call <a href=\"https://commons.apache.org/proper/commons-net/apidocs/org/apache/commons/net/ftp/FTPClient.html#abort()\" rel=\"nofollow noreferrer\"><code>FTPClient.abort</code></a>.</p>\n<hr />\n<p><em>(You cannot convert <code>InputStream</code> to <code>RandomAccessFile</code>, nor use <code>RandomAccessFile</code> anyhow with files on FTP server)</em></p>\n"}],"owner":{"account_id":15993722,"reputation":67,"user_id":11542190,"display_name":"mgjang"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":647,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":56593644,"answer_count":1,"score":1,"last_activity_date":1697778169,"creation_date":1560489088,"question_id":56591712,"body_markdown":"I&#39;m trying to read the file on the FTP remote-server using Apache Commons Net library.\r\n\r\n`retrieveFileStream` returns `InputStream` and put it in `BufferedReader`.\r\n\r\nBut, I want to use `RandomAccessFile` (to use the `seek()` method).\r\n\r\nI want to get `Inputstream` as a `RandomAccessFile`.\r\n\r\nIs it possible?\r\n\r\n    FTPClient ftp = new FTPClient();\r\n    InputStream in = ftp.retrieveFileStream(remote_file_name);\r\n    BufferedReader bufferedReader = new BufferedReader(new InputStreamReader(in, &quot;UTF-8&quot;));","title":"Can you access files on the remote FTP server with RandomAccessFile?","body":"<p>I'm trying to read the file on the FTP remote-server using Apache Commons Net library.</p>\n\n<p><code>retrieveFileStream</code> returns <code>InputStream</code> and put it in <code>BufferedReader</code>.</p>\n\n<p>But, I want to use <code>RandomAccessFile</code> (to use the <code>seek()</code> method).</p>\n\n<p>I want to get <code>Inputstream</code> as a <code>RandomAccessFile</code>.</p>\n\n<p>Is it possible?</p>\n\n<pre><code>FTPClient ftp = new FTPClient();\nInputStream in = ftp.retrieveFileStream(remote_file_name);\nBufferedReader bufferedReader = new BufferedReader(new InputStreamReader(in, \"UTF-8\"));\n</code></pre>\n"},{"tags":["java","proxy","ftp","ftps","apache-commons-net"],"answers":[{"tags":[],"owner":{"account_id":453710,"reputation":192103,"user_id":850848,"accept_rate":80,"display_name":"Martin Prikryl"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1697778118,"creation_date":1644247301,"answer_id":71020998,"question_id":71005836,"body_markdown":"I do not know your network/proxy setup, so I cannot really explain the behaviour of `FTPClient`. Your server seems to return IP address of the proxy in the `PASV` response. The default NAT resolver of `FTPClient` decides that the address is wrong (is it a local network host address?) and choses to use original FTP server&#39;s address instead.\r\n\r\nWhile WinSCP does not do that and connects to the IP that the server returned.\r\n\r\nTo avoid the NAT resolver from messing with the address, use [`FTPClient.setPassiveNatWorkaround`](https://commons.apache.org/proper/commons-net/apidocs/org/apache/commons/net/ftp/FTPClient.html#setPassiveNatWorkaround(boolean)) (though that&#39;s deprecated):\r\n\r\n```\r\nftpClient.setPassiveNatWorkaround(false);\r\n```\r\n\r\nor equivalent [`FTPClient.setPassiveNatWorkaroundStrategy`](https://commons.apache.org/proper/commons-net/apidocs/org/apache/commons/net/ftp/FTPClient.html#setPassiveNatWorkaroundStrategy(org.apache.commons.net.ftp.FTPClient.HostnameResolver)):\r\n\r\n```\r\nftpClient.setPassiveNatWorkaroundStrategy(null);\r\n```\r\n","title":"FTPS data connection with TLS/SSL via proxy fails with log entry &quot;Replacing PASV mode reply address &lt;PROXY_IP&gt; with &lt;FTPS_IP&gt;&quot;","body":"<p>I do not know your network/proxy setup, so I cannot really explain the behaviour of <code>FTPClient</code>. Your server seems to return IP address of the proxy in the <code>PASV</code> response. The default NAT resolver of <code>FTPClient</code> decides that the address is wrong (is it a local network host address?) and choses to use original FTP server's address instead.</p>\n<p>While WinSCP does not do that and connects to the IP that the server returned.</p>\n<p>To avoid the NAT resolver from messing with the address, use <a href=\"https://commons.apache.org/proper/commons-net/apidocs/org/apache/commons/net/ftp/FTPClient.html#setPassiveNatWorkaround(boolean)\" rel=\"nofollow noreferrer\"><code>FTPClient.setPassiveNatWorkaround</code></a> (though that's deprecated):</p>\n<pre><code>ftpClient.setPassiveNatWorkaround(false);\n</code></pre>\n<p>or equivalent <a href=\"https://commons.apache.org/proper/commons-net/apidocs/org/apache/commons/net/ftp/FTPClient.html#setPassiveNatWorkaroundStrategy(org.apache.commons.net.ftp.FTPClient.HostnameResolver)\" rel=\"nofollow noreferrer\"><code>FTPClient.setPassiveNatWorkaroundStrategy</code></a>:</p>\n<pre><code>ftpClient.setPassiveNatWorkaroundStrategy(null);\n</code></pre>\n"}],"owner":{"account_id":11665884,"reputation":25,"user_id":8542627,"display_name":"Hijas Ahmed"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1199,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71020998,"answer_count":1,"score":1,"last_activity_date":1697778118,"creation_date":1644140056,"question_id":71005836,"body_markdown":"I have an issue while connecting to a FTPS server with TLS/SSL Implicit encryption via PROXY.\r\n\r\nI am following the custom Apache FTPS Client (commons-net-3.8.0) solution provided from https://stackoverflow.com/questions/30871840/java-ftps-client-through-http-proxy\r\n\r\nMy server connection is working, but unable to list or file transfer, getting below error:\r\n\r\n&gt; 425 Can&#39;t open data connection for transfer of &quot;\\&lt;REMOVED_FOR_SECURITY\\&gt;&quot;\r\n\r\nData connection / File transfer is working fine from Windows WinSCP and Linux LFTP.\r\n\r\nWinSCP Log:\r\n```none\r\n2022-02-06 16:25:04.874 --------------------------------------------------------------------------\r\n2022-02-06 16:25:04.876 WinSCP Version 5.15.5 (Build 9925) (OS 10.0.19042 - Windows 10 Enterprise)\r\n2022-02-06 16:25:04.877 Configuration: C:\\Users\\&lt;LOGIN_SER&gt;\\AppData\\Roaming\\WinSCP.ini\r\n2022-02-06 16:25:04.879 Log level: Normal\r\n2022-02-06 16:25:04.879 Local account: HBEU\\&lt;LOGIN_SER&gt;\r\n2022-02-06 16:25:04.879 Working directory: C:\\Program Files\\WinSCP-5.15.5\r\n2022-02-06 16:25:04.879 Process ID: 16452\r\n2022-02-06 16:25:04.883 Command-line: C:\\Program Files\\WinSCP-5.15.5\\WinSCP.exe\r\n2022-02-06 16:25:04.885 Time zone: Current: GMT+3 (Arab Standard Time), No DST\r\n2022-02-06 16:25:04.885 Login time: Sunday, February 6, 2022 4:25:04 PM\r\n2022-02-06 16:25:04.885 --------------------------------------------------------------------------\r\n2022-02-06 16:25:04.885 Session name: FTPS TEST (Site)\r\n2022-02-06 16:25:04.885 Host name: &lt;FTPS_HOST_NAME&gt; (Port: &lt;FTPS_PORT&gt;)\r\n2022-02-06 16:25:04.885 User name: &lt;FTPS_USER_NAME&gt; (Password: No, Key file: No, Passphrase: No)\r\n2022-02-06 16:25:04.885 Transfer Protocol: FTP\r\n2022-02-06 16:25:04.885 Ping type: Dummy, Ping interval: 30 sec; Timeout: 15 sec\r\n2022-02-06 16:25:04.885 Disable Nagle: No\r\n2022-02-06 16:25:04.885 Proxy: HTTP\r\n2022-02-06 16:25:04.885 HostName: &lt;PROXY_HOST_NAME&gt; (Port: &lt;PROXY_PORT&gt;); Username: ; Passwd: No\r\n2022-02-06 16:25:04.885 Send buffer: 262144\r\n2022-02-06 16:25:04.885 UTF: Auto\r\n2022-02-06 16:25:04.885 FTPS: Implicit TLS/SSL [Client certificate: No]\r\n2022-02-06 16:25:04.885 FTP: Passive: Yes [Force IP: Auto]; MLSD: Auto [List all: Auto]; HOST: Auto\r\n2022-02-06 16:25:04.885 Session reuse: Yes\r\n2022-02-06 16:25:04.885 TLS/SSL versions: TLSv1.0-TLSv1.2\r\n2022-02-06 16:25:04.885 Local directory: &lt;LOCAL_DIRECTORY&gt;, Remote directory: &lt;REMOTE_DIRECTORY&gt;, Update: Yes, Cache: Yes\r\n2022-02-06 16:25:04.885 Cache directory changes: Yes, Permanent: Yes\r\n2022-02-06 16:25:04.885 Recycle bin: Delete to: No, Overwritten to: No, Bin path: \r\n2022-02-06 16:25:04.885 Timezone offset: 0h 0m\r\n2022-02-06 16:25:04.885 --------------------------------------------------------------------------\r\n2022-02-06 16:25:04.953 Connecting to &lt;FTPS_HOST_NAME&gt;:&lt;FTPS_PORT&gt; ...\r\n2022-02-06 16:25:04.953 HTTP proxy command: CONNECT &lt;FTPS_HOST_NAME&gt;:&lt;FTPS_PORT HTTP/1.1\r\n2022-02-06 16:25:04.953 Host: &lt;FTPS_HOST_NAME&gt;:&lt;FTPS_PORT&gt;\r\n2022-02-06 16:25:04.989 Connection with proxy established, performing handshake...\r\n2022-02-06 16:25:04.989 HTTP proxy response: HTTP/1.1 200 Connection established\r\n2022-02-06 16:25:04.989 HTTP proxy headers: \r\n2022-02-06 16:25:04.989 Connected with &lt;FTPS_HOST_NAME&gt;:&lt;FTPS_PORT&gt;, negotiating TLS connection...\r\n2022-02-06 16:25:05.038 Verifying certificate for &quot;&quot; with fingerprint &lt;REMOVED_FOR_SECURITY&gt; and 20 failures\r\n2022-02-06 16:25:05.038 Certificate common name &quot;*.&lt;FTPS_DOMAIN_NAME&gt;&quot; matches hostname\r\n2022-02-06 16:25:05.138 Certificate verified against Windows certificate store\r\n2022-02-06 16:25:05.138 Using TLSv1.2, cipher TLSv1/SSLv3: ECDHE-RSA-AES256-GCM-SHA384, 2048 bit RSA, ECDHE-RSA-AES256-GCM-SHA384 TLSv1.2 Kx=ECDH     Au=RSA  Enc=AESGCM(256) Mac=AEAD\r\n2022-02-06 16:25:05.191 TLS connection established. Waiting for welcome message...\r\n2022-02-06 16:25:05.191 220 SIJIL FTP\r\n2022-02-06 16:25:05.191 USER &lt;FTPS_USER_NAME&gt;\r\n2022-02-06 16:25:05.191 331 Password required for &lt;FTPS_USER_NAME&gt;\r\n2022-02-06 16:25:06.977 PASS *************\r\n2022-02-06 16:25:07.013 230 Logged on\r\n2022-02-06 16:25:07.013 SYST\r\n2022-02-06 16:25:07.049 215 UNIX emulated by FileZilla\r\n2022-02-06 16:25:07.049 FEAT\r\n2022-02-06 16:25:07.085 211-Features:\r\n2022-02-06 16:25:07.085  MDTM\r\n2022-02-06 16:25:07.086  REST STREAM\r\n2022-02-06 16:25:07.086  SIZE\r\n2022-02-06 16:25:07.086  MLST type*;size*;modify*;\r\n2022-02-06 16:25:07.086  MLSD\r\n2022-02-06 16:25:07.086  AUTH SSL\r\n2022-02-06 16:25:07.086  AUTH TLS\r\n2022-02-06 16:25:07.086  PROT\r\n2022-02-06 16:25:07.088  PBSZ\r\n2022-02-06 16:25:07.088  UTF8\r\n2022-02-06 16:25:07.088  CLNT\r\n2022-02-06 16:25:07.088  MFMT\r\n2022-02-06 16:25:07.088  EPSV\r\n2022-02-06 16:25:07.088  EPRT\r\n2022-02-06 16:25:07.088 211 End\r\n2022-02-06 16:25:07.088 CLNT WinSCP-release-5.15.5\r\n2022-02-06 16:25:07.122 200 Don&#39;t care\r\n2022-02-06 16:25:07.123 OPTS UTF8 ON\r\n2022-02-06 16:25:07.159 202 UTF8 mode is always enabled. No need to send this command.\r\n2022-02-06 16:25:07.160 PBSZ 0\r\n2022-02-06 16:25:07.198 200 PBSZ=0\r\n2022-02-06 16:25:07.199 PROT P\r\n2022-02-06 16:25:07.235 200 Protection level set to P\r\n2022-02-06 16:25:07.248 Connected\r\n2022-02-06 16:25:07.248 --------------------------------------------------------------------------\r\n2022-02-06 16:25:07.248 Using FTP protocol.\r\n2022-02-06 16:25:07.250 Doing startup conversation with host.\r\n2022-02-06 16:25:07.264 PWD\r\n2022-02-06 16:25:07.303 257 &quot;/&quot; is current directory.\r\n2022-02-06 16:25:07.303 Changing directory to &quot;&lt;REMOTE_DIRECTORY&gt;&quot;.\r\n2022-02-06 16:25:07.303 CWD &lt;REMOTE_DIRECTORY&gt;\r\n2022-02-06 16:25:07.340 250 CWD successful. &quot;&lt;REMOTE_DIRECTORY&gt;&quot; is current directory.\r\n2022-02-06 16:25:07.340 Getting current directory name.\r\n2022-02-06 16:25:07.341 PWD\r\n2022-02-06 16:25:07.384 257 &quot;&lt;REMOTE_DIRECTORY&gt;&quot; is current directory.\r\n2022-02-06 16:25:07.458 Retrieving directory listing...\r\n2022-02-06 16:25:07.458 TYPE A\r\n2022-02-06 16:25:07.493 200 Type set to A\r\n2022-02-06 16:25:07.493 PASV\r\n2022-02-06 16:25:07.530 227 Entering Passive Mode (&lt;REMOVED_FOR_SECURITY&gt;)\r\n2022-02-06 16:25:07.530 Error retrieving server address, cannot test if address is routable\r\n2022-02-06 16:25:07.530 MLSD\r\n2022-02-06 16:25:07.530 Connecting to &lt;PROXY_IP&gt;:&lt;PROXY_DYNAMIC_PORT&gt; ...\r\n2022-02-06 16:25:07.534 HTTP proxy command: CONNECT &lt;PROXY_IP&gt;:&lt;PROXY_DYNAMIC_PORT&gt; HTTP/1.1\r\n2022-02-06 16:25:07.534 Host: &lt;PROXY_IP&gt;:&lt;PROXY_DYNAMIC_PORT&gt;\r\n2022-02-06 16:25:07.534 Connection with proxy established, performing handshake...\r\n2022-02-06 16:25:07.586 HTTP proxy response: HTTP/1.1 200 Connection established\r\n2022-02-06 16:25:07.587 HTTP proxy headers: \r\n2022-02-06 16:25:07.608 Session ID reused\r\n2022-02-06 16:25:07.610 Using TLSv1.2, cipher TLSv1/SSLv3: ECDHE-RSA-AES256-GCM-SHA384, 2048 bit RSA, ECDHE-RSA-AES256-GCM-SHA384 TLSv1.2 Kx=ECDH     Au=RSA  Enc=AESGCM(256) Mac=AEAD\r\n2022-02-06 16:25:07.610 TLS connection established\r\n2022-02-06 16:25:07.619 150 Opening data channel for directory listing of &quot;&lt;REMOTE_DIRECTORY&gt;&quot;\r\n2022-02-06 16:25:07.620 226 Successfully transferred &quot;&lt;REMOTE_DIRECTORY&gt;&quot;\r\n2022-02-06 16:25:07.630 Data connection closed\r\n2022-02-06 16:25:07.631 type=file;modify=20220203072851;size=21; test.txt\r\n2022-02-06 16:25:07.631 type=file;modify=20220203072851;size=21; test_1.txt\r\n2022-02-06 16:25:07.631 Directory listing successful\r\n2022-02-06 16:25:07.632 ..;D;0;1899-12-30T03:00:00.000Z;0;&quot;&quot; [0];&quot;&quot; [0];---------;0\r\n2022-02-06 16:25:07.632 test.txt;-;21;2022-02-03T07:28:51.000Z;3;&quot;&quot; [0];&quot;&quot; [0];---------;0\r\n2022-02-06 16:25:07.632 test_1.txt;-;21;2022-02-03T07:28:51.000Z;3;&quot;&quot; [0];&quot;&quot; [0];---------;0\r\n2022-02-06 16:25:07.659 Startup conversation with host finished.\r\n```\r\n\r\nApache Log:\r\n```none\r\n220 SIJIL FTP\r\nUSER *******\r\n331 Password required for &lt;FTPS_USER_NAME&gt;\r\nPASS *******\r\n230 Logged on\r\nPBSZ 0\r\n200 PBSZ=0\r\nPROT P\r\n200 Protection level set to P\r\nPWD\r\n257 &quot;/&quot; is current directory.\r\n/\r\nCWD &lt;REMOTE_DIRECTORY&gt;\r\n250 CWD successful. &quot;&lt;REMOTE_DIRECTORY&gt;&quot; is current directory.\r\nPWD\r\n257 &quot;&lt;REMOTE_DIRECTORY&gt;&quot; is current directory.\r\n&lt;REMOTE_DIRECTORY&gt;\r\nPASV\r\n227 Entering Passive Mode (&lt;REMOVED_FOR_SECURITY&gt;)\r\n[Replacing PASV mode reply address &lt;PROXY_IP&gt; with &lt;FTPS_IP&gt;]\r\nMLSD\r\n425 Can&#39;t open data connection for transfer of &quot;&lt;REMOTE_DIRECTORY&gt;&quot;\r\nList size: 0\r\nQUIT\r\n221 Goodbye\r\n```\r\n","title":"FTPS data connection with TLS/SSL via proxy fails with log entry &quot;Replacing PASV mode reply address &lt;PROXY_IP&gt; with &lt;FTPS_IP&gt;&quot;","body":"<p>I have an issue while connecting to a FTPS server with TLS/SSL Implicit encryption via PROXY.</p>\n<p>I am following the custom Apache FTPS Client (commons-net-3.8.0) solution provided from <a href=\"https://stackoverflow.com/questions/30871840/java-ftps-client-through-http-proxy\">Java FTPS client through HTTP proxy</a></p>\n<p>My server connection is working, but unable to list or file transfer, getting below error:</p>\n<blockquote>\n<p>425 Can't open data connection for transfer of &quot;&lt;REMOVED_FOR_SECURITY&gt;&quot;</p>\n</blockquote>\n<p>Data connection / File transfer is working fine from Windows WinSCP and Linux LFTP.</p>\n<p>WinSCP Log:</p>\n<pre class=\"lang-none prettyprint-override\"><code>2022-02-06 16:25:04.874 --------------------------------------------------------------------------\n2022-02-06 16:25:04.876 WinSCP Version 5.15.5 (Build 9925) (OS 10.0.19042 - Windows 10 Enterprise)\n2022-02-06 16:25:04.877 Configuration: C:\\Users\\&lt;LOGIN_SER&gt;\\AppData\\Roaming\\WinSCP.ini\n2022-02-06 16:25:04.879 Log level: Normal\n2022-02-06 16:25:04.879 Local account: HBEU\\&lt;LOGIN_SER&gt;\n2022-02-06 16:25:04.879 Working directory: C:\\Program Files\\WinSCP-5.15.5\n2022-02-06 16:25:04.879 Process ID: 16452\n2022-02-06 16:25:04.883 Command-line: C:\\Program Files\\WinSCP-5.15.5\\WinSCP.exe\n2022-02-06 16:25:04.885 Time zone: Current: GMT+3 (Arab Standard Time), No DST\n2022-02-06 16:25:04.885 Login time: Sunday, February 6, 2022 4:25:04 PM\n2022-02-06 16:25:04.885 --------------------------------------------------------------------------\n2022-02-06 16:25:04.885 Session name: FTPS TEST (Site)\n2022-02-06 16:25:04.885 Host name: &lt;FTPS_HOST_NAME&gt; (Port: &lt;FTPS_PORT&gt;)\n2022-02-06 16:25:04.885 User name: &lt;FTPS_USER_NAME&gt; (Password: No, Key file: No, Passphrase: No)\n2022-02-06 16:25:04.885 Transfer Protocol: FTP\n2022-02-06 16:25:04.885 Ping type: Dummy, Ping interval: 30 sec; Timeout: 15 sec\n2022-02-06 16:25:04.885 Disable Nagle: No\n2022-02-06 16:25:04.885 Proxy: HTTP\n2022-02-06 16:25:04.885 HostName: &lt;PROXY_HOST_NAME&gt; (Port: &lt;PROXY_PORT&gt;); Username: ; Passwd: No\n2022-02-06 16:25:04.885 Send buffer: 262144\n2022-02-06 16:25:04.885 UTF: Auto\n2022-02-06 16:25:04.885 FTPS: Implicit TLS/SSL [Client certificate: No]\n2022-02-06 16:25:04.885 FTP: Passive: Yes [Force IP: Auto]; MLSD: Auto [List all: Auto]; HOST: Auto\n2022-02-06 16:25:04.885 Session reuse: Yes\n2022-02-06 16:25:04.885 TLS/SSL versions: TLSv1.0-TLSv1.2\n2022-02-06 16:25:04.885 Local directory: &lt;LOCAL_DIRECTORY&gt;, Remote directory: &lt;REMOTE_DIRECTORY&gt;, Update: Yes, Cache: Yes\n2022-02-06 16:25:04.885 Cache directory changes: Yes, Permanent: Yes\n2022-02-06 16:25:04.885 Recycle bin: Delete to: No, Overwritten to: No, Bin path: \n2022-02-06 16:25:04.885 Timezone offset: 0h 0m\n2022-02-06 16:25:04.885 --------------------------------------------------------------------------\n2022-02-06 16:25:04.953 Connecting to &lt;FTPS_HOST_NAME&gt;:&lt;FTPS_PORT&gt; ...\n2022-02-06 16:25:04.953 HTTP proxy command: CONNECT &lt;FTPS_HOST_NAME&gt;:&lt;FTPS_PORT HTTP/1.1\n2022-02-06 16:25:04.953 Host: &lt;FTPS_HOST_NAME&gt;:&lt;FTPS_PORT&gt;\n2022-02-06 16:25:04.989 Connection with proxy established, performing handshake...\n2022-02-06 16:25:04.989 HTTP proxy response: HTTP/1.1 200 Connection established\n2022-02-06 16:25:04.989 HTTP proxy headers: \n2022-02-06 16:25:04.989 Connected with &lt;FTPS_HOST_NAME&gt;:&lt;FTPS_PORT&gt;, negotiating TLS connection...\n2022-02-06 16:25:05.038 Verifying certificate for &quot;&quot; with fingerprint &lt;REMOVED_FOR_SECURITY&gt; and 20 failures\n2022-02-06 16:25:05.038 Certificate common name &quot;*.&lt;FTPS_DOMAIN_NAME&gt;&quot; matches hostname\n2022-02-06 16:25:05.138 Certificate verified against Windows certificate store\n2022-02-06 16:25:05.138 Using TLSv1.2, cipher TLSv1/SSLv3: ECDHE-RSA-AES256-GCM-SHA384, 2048 bit RSA, ECDHE-RSA-AES256-GCM-SHA384 TLSv1.2 Kx=ECDH     Au=RSA  Enc=AESGCM(256) Mac=AEAD\n2022-02-06 16:25:05.191 TLS connection established. Waiting for welcome message...\n2022-02-06 16:25:05.191 220 SIJIL FTP\n2022-02-06 16:25:05.191 USER &lt;FTPS_USER_NAME&gt;\n2022-02-06 16:25:05.191 331 Password required for &lt;FTPS_USER_NAME&gt;\n2022-02-06 16:25:06.977 PASS *************\n2022-02-06 16:25:07.013 230 Logged on\n2022-02-06 16:25:07.013 SYST\n2022-02-06 16:25:07.049 215 UNIX emulated by FileZilla\n2022-02-06 16:25:07.049 FEAT\n2022-02-06 16:25:07.085 211-Features:\n2022-02-06 16:25:07.085  MDTM\n2022-02-06 16:25:07.086  REST STREAM\n2022-02-06 16:25:07.086  SIZE\n2022-02-06 16:25:07.086  MLST type*;size*;modify*;\n2022-02-06 16:25:07.086  MLSD\n2022-02-06 16:25:07.086  AUTH SSL\n2022-02-06 16:25:07.086  AUTH TLS\n2022-02-06 16:25:07.086  PROT\n2022-02-06 16:25:07.088  PBSZ\n2022-02-06 16:25:07.088  UTF8\n2022-02-06 16:25:07.088  CLNT\n2022-02-06 16:25:07.088  MFMT\n2022-02-06 16:25:07.088  EPSV\n2022-02-06 16:25:07.088  EPRT\n2022-02-06 16:25:07.088 211 End\n2022-02-06 16:25:07.088 CLNT WinSCP-release-5.15.5\n2022-02-06 16:25:07.122 200 Don't care\n2022-02-06 16:25:07.123 OPTS UTF8 ON\n2022-02-06 16:25:07.159 202 UTF8 mode is always enabled. No need to send this command.\n2022-02-06 16:25:07.160 PBSZ 0\n2022-02-06 16:25:07.198 200 PBSZ=0\n2022-02-06 16:25:07.199 PROT P\n2022-02-06 16:25:07.235 200 Protection level set to P\n2022-02-06 16:25:07.248 Connected\n2022-02-06 16:25:07.248 --------------------------------------------------------------------------\n2022-02-06 16:25:07.248 Using FTP protocol.\n2022-02-06 16:25:07.250 Doing startup conversation with host.\n2022-02-06 16:25:07.264 PWD\n2022-02-06 16:25:07.303 257 &quot;/&quot; is current directory.\n2022-02-06 16:25:07.303 Changing directory to &quot;&lt;REMOTE_DIRECTORY&gt;&quot;.\n2022-02-06 16:25:07.303 CWD &lt;REMOTE_DIRECTORY&gt;\n2022-02-06 16:25:07.340 250 CWD successful. &quot;&lt;REMOTE_DIRECTORY&gt;&quot; is current directory.\n2022-02-06 16:25:07.340 Getting current directory name.\n2022-02-06 16:25:07.341 PWD\n2022-02-06 16:25:07.384 257 &quot;&lt;REMOTE_DIRECTORY&gt;&quot; is current directory.\n2022-02-06 16:25:07.458 Retrieving directory listing...\n2022-02-06 16:25:07.458 TYPE A\n2022-02-06 16:25:07.493 200 Type set to A\n2022-02-06 16:25:07.493 PASV\n2022-02-06 16:25:07.530 227 Entering Passive Mode (&lt;REMOVED_FOR_SECURITY&gt;)\n2022-02-06 16:25:07.530 Error retrieving server address, cannot test if address is routable\n2022-02-06 16:25:07.530 MLSD\n2022-02-06 16:25:07.530 Connecting to &lt;PROXY_IP&gt;:&lt;PROXY_DYNAMIC_PORT&gt; ...\n2022-02-06 16:25:07.534 HTTP proxy command: CONNECT &lt;PROXY_IP&gt;:&lt;PROXY_DYNAMIC_PORT&gt; HTTP/1.1\n2022-02-06 16:25:07.534 Host: &lt;PROXY_IP&gt;:&lt;PROXY_DYNAMIC_PORT&gt;\n2022-02-06 16:25:07.534 Connection with proxy established, performing handshake...\n2022-02-06 16:25:07.586 HTTP proxy response: HTTP/1.1 200 Connection established\n2022-02-06 16:25:07.587 HTTP proxy headers: \n2022-02-06 16:25:07.608 Session ID reused\n2022-02-06 16:25:07.610 Using TLSv1.2, cipher TLSv1/SSLv3: ECDHE-RSA-AES256-GCM-SHA384, 2048 bit RSA, ECDHE-RSA-AES256-GCM-SHA384 TLSv1.2 Kx=ECDH     Au=RSA  Enc=AESGCM(256) Mac=AEAD\n2022-02-06 16:25:07.610 TLS connection established\n2022-02-06 16:25:07.619 150 Opening data channel for directory listing of &quot;&lt;REMOTE_DIRECTORY&gt;&quot;\n2022-02-06 16:25:07.620 226 Successfully transferred &quot;&lt;REMOTE_DIRECTORY&gt;&quot;\n2022-02-06 16:25:07.630 Data connection closed\n2022-02-06 16:25:07.631 type=file;modify=20220203072851;size=21; test.txt\n2022-02-06 16:25:07.631 type=file;modify=20220203072851;size=21; test_1.txt\n2022-02-06 16:25:07.631 Directory listing successful\n2022-02-06 16:25:07.632 ..;D;0;1899-12-30T03:00:00.000Z;0;&quot;&quot; [0];&quot;&quot; [0];---------;0\n2022-02-06 16:25:07.632 test.txt;-;21;2022-02-03T07:28:51.000Z;3;&quot;&quot; [0];&quot;&quot; [0];---------;0\n2022-02-06 16:25:07.632 test_1.txt;-;21;2022-02-03T07:28:51.000Z;3;&quot;&quot; [0];&quot;&quot; [0];---------;0\n2022-02-06 16:25:07.659 Startup conversation with host finished.\n</code></pre>\n<p>Apache Log:</p>\n<pre class=\"lang-none prettyprint-override\"><code>220 SIJIL FTP\nUSER *******\n331 Password required for &lt;FTPS_USER_NAME&gt;\nPASS *******\n230 Logged on\nPBSZ 0\n200 PBSZ=0\nPROT P\n200 Protection level set to P\nPWD\n257 &quot;/&quot; is current directory.\n/\nCWD &lt;REMOTE_DIRECTORY&gt;\n250 CWD successful. &quot;&lt;REMOTE_DIRECTORY&gt;&quot; is current directory.\nPWD\n257 &quot;&lt;REMOTE_DIRECTORY&gt;&quot; is current directory.\n&lt;REMOTE_DIRECTORY&gt;\nPASV\n227 Entering Passive Mode (&lt;REMOVED_FOR_SECURITY&gt;)\n[Replacing PASV mode reply address &lt;PROXY_IP&gt; with &lt;FTPS_IP&gt;]\nMLSD\n425 Can't open data connection for transfer of &quot;&lt;REMOTE_DIRECTORY&gt;&quot;\nList size: 0\nQUIT\n221 Goodbye\n</code></pre>\n"},{"tags":["java","ftp","apache-commons-net"],"answers":[{"tags":[],"owner":{"account_id":453710,"reputation":192103,"user_id":850848,"accept_rate":80,"display_name":"Martin Prikryl"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1697778018,"creation_date":1459493079,"answer_id":36349700,"question_id":36349361,"body_markdown":"You call the [`FTPClient.setFileType` method](https://commons.apache.org/proper/commons-net/apidocs/org/apache/commons/net/ftp/FTPClient.html#setFileType(int)) too early.\r\n\r\nAt least the [ProFTPD](http://www.proftpd.org/) or FileZilla FTP servers reset the default transfer mode after the authentication ([`FTPClient.login`](https://commons.apache.org/proper/commons-net/apidocs/org/apache/commons/net/ftp/FTPClient.html#login(java.lang.String,java.lang.String))).\r\n\r\nMove the `.setFileType` call after the `.login`.\r\n","title":"Apache Java FTP client does not switch to binary transfer mode on some servers","body":"<p>You call the <a href=\"https://commons.apache.org/proper/commons-net/apidocs/org/apache/commons/net/ftp/FTPClient.html#setFileType(int)\" rel=\"nofollow noreferrer\"><code>FTPClient.setFileType</code> method</a> too early.</p>\n<p>At least the <a href=\"http://www.proftpd.org/\" rel=\"nofollow noreferrer\">ProFTPD</a> or FileZilla FTP servers reset the default transfer mode after the authentication (<a href=\"https://commons.apache.org/proper/commons-net/apidocs/org/apache/commons/net/ftp/FTPClient.html#login(java.lang.String,java.lang.String)\" rel=\"nofollow noreferrer\"><code>FTPClient.login</code></a>).</p>\n<p>Move the <code>.setFileType</code> call after the <code>.login</code>.</p>\n"}],"owner":{"account_id":161805,"reputation":2518,"user_id":382854,"accept_rate":60,"display_name":"mesnicka"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2058,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":36349700,"answer_count":1,"score":1,"last_activity_date":1697778018,"creation_date":1459491669,"question_id":36349361,"body_markdown":"I&#39;m using org.apache.commons.net.ftp library to work with FTP servers. I use about 5 FTP servers and one of them doesn&#39;t work properly (for me). For uploading files I also use method `ftpClient.setFileType(FTP.BINARY_FILE_TYPE)`, but on this server the size of the uploaded file is not the same as on my local HDD. It is usually MP3 files and when I try to play uploaded MP3 there is some buzz.\r\nI suspects that FTP server has wrong configuration, but the company which takes care of this server would be very unlikely to do some changes.\r\nOne more very important note: when I use Total Commander or WinSCP to upload file, the uploaded file is correct with same size.\r\n\r\nHere is my code:\r\n\r\n    public class FtpConnection {\r\n        String FTP_SERVER;\r\n        String FTP_USER;\r\n        String FTP_PASSWORD;\r\n        int FTP_PORT;\r\n        FTPClient ftpClient;\r\n        int attempts = 3;\r\n        long FILE_SIZE;\r\n              \r\n        public FtpConnection() {\r\n            FTP_SERVER = StradaAd.FTP_SERVER;\r\n            FTP_USER = StradaAd.FTP_USER;\r\n            FTP_PASSWORD = StradaAd.FTP_PASSWORD;\r\n            FTP_PORT = StradaAd.FTP_PORT;\r\n            \r\n            ftpClient = new FTPClient();\r\n            \r\n            ftpClient.setCopyStreamListener(streamListener);\r\n            \r\n            ftpClient.setBufferSize(1024 * 1024 * 1024);\r\n            ftpClient.setConnectTimeout(240000);\r\n            ftpClient.setDataTimeout(240000);\r\n            try {\r\n                ftpClient.connect(FTP_SERVER, FTP_PORT);\r\n                ftpClient.setControlKeepAliveTimeout(300);\r\n                ftpClient.enterLocalPassiveMode();\r\n                ftpClient.setFileType(FTP.BINARY_FILE_TYPE);\r\n                \r\n                int replyCode = ftpClient.getReplyCode();\r\n                if (!FTPReply.isPositiveCompletion(replyCode)) {\r\n                    StradaAd.errorArea.append(&quot;Operation failed. Server reply code: &quot; + replyCode);\r\n                    return;\r\n                }\r\n                boolean success = ftpClient.login(FTP_USER, FTP_PASSWORD);\r\n                \r\n                if (!success) {\r\n                    //unsuccess\r\n                }\r\n            } catch (IOException ex) {\r\n              //error\r\n            }\r\n        }\r\n          \r\n        public boolean uploadFile(File source, String destination, String chain) {\r\n            try {\r\n                FILE_SIZE = source.length();\r\n                \r\n                ftpClient.cwd(&quot;//&quot; + chain + &quot;/REKLAMY/&quot;);\r\n                \r\n                for(int i=0;i&lt;attempts;i++) {\r\n                    ftpClient.storeFile(destination, new FileInputStream(source));\r\n                  \r\n                    for(FTPFile f : ftpClient.listFiles()) {\r\n                        if(f.getName().equals(destination) &amp;&amp; f.getSize() == source.length())\r\n                            return true;\r\n                    }\r\n                }\r\n                return false;\r\n            } catch (IOException ex) {\r\n                Logger.getLogger(FtpConnection.class.getName()).log(Level.SEVERE, null, ex);\r\n                return false;\r\n            }\r\n        }    \r\n    }\r\n\r\nDo someone know the solution how to change this code or set this FTP server to have the same size uploaded file?\r\nThanks in advance for any help.","title":"Apache Java FTP client does not switch to binary transfer mode on some servers","body":"<p>I'm using org.apache.commons.net.ftp library to work with FTP servers. I use about 5 FTP servers and one of them doesn't work properly (for me). For uploading files I also use method <code>ftpClient.setFileType(FTP.BINARY_FILE_TYPE)</code>, but on this server the size of the uploaded file is not the same as on my local HDD. It is usually MP3 files and when I try to play uploaded MP3 there is some buzz.\nI suspects that FTP server has wrong configuration, but the company which takes care of this server would be very unlikely to do some changes.\nOne more very important note: when I use Total Commander or WinSCP to upload file, the uploaded file is correct with same size.</p>\n\n<p>Here is my code:</p>\n\n<pre><code>public class FtpConnection {\n    String FTP_SERVER;\n    String FTP_USER;\n    String FTP_PASSWORD;\n    int FTP_PORT;\n    FTPClient ftpClient;\n    int attempts = 3;\n    long FILE_SIZE;\n\n    public FtpConnection() {\n        FTP_SERVER = StradaAd.FTP_SERVER;\n        FTP_USER = StradaAd.FTP_USER;\n        FTP_PASSWORD = StradaAd.FTP_PASSWORD;\n        FTP_PORT = StradaAd.FTP_PORT;\n\n        ftpClient = new FTPClient();\n\n        ftpClient.setCopyStreamListener(streamListener);\n\n        ftpClient.setBufferSize(1024 * 1024 * 1024);\n        ftpClient.setConnectTimeout(240000);\n        ftpClient.setDataTimeout(240000);\n        try {\n            ftpClient.connect(FTP_SERVER, FTP_PORT);\n            ftpClient.setControlKeepAliveTimeout(300);\n            ftpClient.enterLocalPassiveMode();\n            ftpClient.setFileType(FTP.BINARY_FILE_TYPE);\n\n            int replyCode = ftpClient.getReplyCode();\n            if (!FTPReply.isPositiveCompletion(replyCode)) {\n                StradaAd.errorArea.append(\"Operation failed. Server reply code: \" + replyCode);\n                return;\n            }\n            boolean success = ftpClient.login(FTP_USER, FTP_PASSWORD);\n\n            if (!success) {\n                //unsuccess\n            }\n        } catch (IOException ex) {\n          //error\n        }\n    }\n\n    public boolean uploadFile(File source, String destination, String chain) {\n        try {\n            FILE_SIZE = source.length();\n\n            ftpClient.cwd(\"//\" + chain + \"/REKLAMY/\");\n\n            for(int i=0;i&lt;attempts;i++) {\n                ftpClient.storeFile(destination, new FileInputStream(source));\n\n                for(FTPFile f : ftpClient.listFiles()) {\n                    if(f.getName().equals(destination) &amp;&amp; f.getSize() == source.length())\n                        return true;\n                }\n            }\n            return false;\n        } catch (IOException ex) {\n            Logger.getLogger(FtpConnection.class.getName()).log(Level.SEVERE, null, ex);\n            return false;\n        }\n    }    \n}\n</code></pre>\n\n<p>Do someone know the solution how to change this code or set this FTP server to have the same size uploaded file?\nThanks in advance for any help.</p>\n"},{"tags":["java","ftp","sftp","jsch","apache-commons-net"],"answers":[{"comments":[{"owner":{"account_id":15192407,"reputation":163,"user_id":10979419,"display_name":"Ivan Karotki"},"score":1,"creation_date":1568370273,"post_id":57921452,"comment_id":102261324,"body_markdown":"Thank you, very much, bro, you completely answered my question.","body":"Thank you, very much, bro, you completely answered my question."}],"tags":[],"owner":{"account_id":453710,"reputation":192103,"user_id":850848,"accept_rate":80,"display_name":"Martin Prikryl"},"comment_count":1,"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1697777988,"creation_date":1568368791,"answer_id":57921452,"question_id":57920774,"body_markdown":"First of all, it is not clear from your question, whether you are aware that JSch and Apache Commons Net `FtpClient` each use completely different and unrelated protocols. JSch is an SSH/SFTP client, while `FtpClient` is an FTP client.\r\n\r\n---\r\n\r\nJSch uses an SFTP protocol version 3.\r\n\r\nIn the SFTP protocol version 3, there are no transfer modes. Or in other words, there is only the *binary* transfer mode.\r\n\r\nAnd even if JSch used a newer version of SFTP protocol, which supports the *ascii* mode, the *binary* mode is the default anyway in SFTP.\r\n\r\n*So you do not have to do anything.*\r\n\r\nThis is in a contrast to the FTP protocol, which defaults to the *ascii* mode. So you have explicitly switch to the *binary* mode with FTP (using the [`FTPClient.setFileType`](https://commons.apache.org/proper/commons-net/apidocs/org/apache/commons/net/ftp/FTPClient.html#setFileType(int)) in case of the Apache Commons Net).\r\n\r\n---\r\n\r\nAs for the [`FTPClient.setFileTransferMode`](https://commons.apache.org/proper/commons-net/apidocs/org/apache/commons/net/ftp/FTPClient.html#setFileTransferMode(int)) &amp;ndash; Your FTP code is wrong. The method accepts one of the `*_TRANSFER_MODE` constants. Never the `*_FILE_TYPE`. If you use `BINARY_FILE_TYPE`, it results in sending an invalid `MODE I` command to the server. Which for sure fails, and consequently has no effect at all. Check the method result code, it for sure returns `false`.\r\n\r\nRemove the call from your FTP code. There is no need to call `FTPClient.setFileTransferMode`. Apache Commons Net supports only the default &quot;stream&quot; mode anyway (and most FTP servers do not support any other mode either).\r\n\r\n---\r\n\r\nNote the confusion in the names. The ascii/binary are commonly indeed called &quot;transfer modes&quot;. But in FTP protocol specification (section 3.1.1 of [RFC 959](https://datatracker.ietf.org/doc/html/rfc959)), they are actually called &quot;data types&quot; and are governed using `TYPE` command.\r\n\r\nWhile what FTP specification calls &quot;transmission modes&quot;, governed by `MODE` command (section 3.4), are completely different kind of modes: stream/block/compressed. They are hardly ever set or even mentioned.\r\n\r\nAs Apache Commons Net `FtpClient` confusingly names the method for setting &quot;transmission mode&quot; `.setFileTransferMode`, it frequently leads to the mistakes like you did &amp;ndash; People incorrectly try to use `FTPClient.setFileTransferMode` to switch between the binary/ascii *&quot;data types&quot;*.","title":"How to set file type and file transfer mode in JSch?","body":"<p>First of all, it is not clear from your question, whether you are aware that JSch and Apache Commons Net <code>FtpClient</code> each use completely different and unrelated protocols. JSch is an SSH/SFTP client, while <code>FtpClient</code> is an FTP client.</p>\n<hr />\n<p>JSch uses an SFTP protocol version 3.</p>\n<p>In the SFTP protocol version 3, there are no transfer modes. Or in other words, there is only the <em>binary</em> transfer mode.</p>\n<p>And even if JSch used a newer version of SFTP protocol, which supports the <em>ascii</em> mode, the <em>binary</em> mode is the default anyway in SFTP.</p>\n<p><em>So you do not have to do anything.</em></p>\n<p>This is in a contrast to the FTP protocol, which defaults to the <em>ascii</em> mode. So you have explicitly switch to the <em>binary</em> mode with FTP (using the <a href=\"https://commons.apache.org/proper/commons-net/apidocs/org/apache/commons/net/ftp/FTPClient.html#setFileType(int)\" rel=\"nofollow noreferrer\"><code>FTPClient.setFileType</code></a> in case of the Apache Commons Net).</p>\n<hr />\n<p>As for the <a href=\"https://commons.apache.org/proper/commons-net/apidocs/org/apache/commons/net/ftp/FTPClient.html#setFileTransferMode(int)\" rel=\"nofollow noreferrer\"><code>FTPClient.setFileTransferMode</code></a> – Your FTP code is wrong. The method accepts one of the <code>*_TRANSFER_MODE</code> constants. Never the <code>*_FILE_TYPE</code>. If you use <code>BINARY_FILE_TYPE</code>, it results in sending an invalid <code>MODE I</code> command to the server. Which for sure fails, and consequently has no effect at all. Check the method result code, it for sure returns <code>false</code>.</p>\n<p>Remove the call from your FTP code. There is no need to call <code>FTPClient.setFileTransferMode</code>. Apache Commons Net supports only the default &quot;stream&quot; mode anyway (and most FTP servers do not support any other mode either).</p>\n<hr />\n<p>Note the confusion in the names. The ascii/binary are commonly indeed called &quot;transfer modes&quot;. But in FTP protocol specification (section 3.1.1 of <a href=\"https://datatracker.ietf.org/doc/html/rfc959\" rel=\"nofollow noreferrer\">RFC 959</a>), they are actually called &quot;data types&quot; and are governed using <code>TYPE</code> command.</p>\n<p>While what FTP specification calls &quot;transmission modes&quot;, governed by <code>MODE</code> command (section 3.4), are completely different kind of modes: stream/block/compressed. They are hardly ever set or even mentioned.</p>\n<p>As Apache Commons Net <code>FtpClient</code> confusingly names the method for setting &quot;transmission mode&quot; <code>.setFileTransferMode</code>, it frequently leads to the mistakes like you did – People incorrectly try to use <code>FTPClient.setFileTransferMode</code> to switch between the binary/ascii <em>&quot;data types&quot;</em>.</p>\n"}],"owner":{"account_id":15192407,"reputation":163,"user_id":10979419,"display_name":"Ivan Karotki"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3510,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":57921452,"answer_count":1,"score":3,"last_activity_date":1697777988,"creation_date":1568366477,"question_id":57920774,"body_markdown":"I used Apache Common Net `FTPClient` and had setup my `ftpClient` with methods shown below before upload file.\r\n\r\n    ftpClient.setFileType(FTP.BINARY_FILE_TYPE);\r\n    ftpClient.setFileTransferMode(FTP.BINARY_FILE_TYPE);\r\n\r\nNow I try to use JSch. Is there same setting needed before file uploading and how they looks like? Thanks.","title":"How to set file type and file transfer mode in JSch?","body":"<p>I used Apache Common Net <code>FTPClient</code> and had setup my <code>ftpClient</code> with methods shown below before upload file.</p>\n\n<pre><code>ftpClient.setFileType(FTP.BINARY_FILE_TYPE);\nftpClient.setFileTransferMode(FTP.BINARY_FILE_TYPE);\n</code></pre>\n\n<p>Now I try to use JSch. Is there same setting needed before file uploading and how they looks like? Thanks.</p>\n"},{"tags":["java","ftp","ftp-client","apache-commons-net"],"answers":[{"tags":[],"owner":{"account_id":453710,"reputation":192103,"user_id":850848,"accept_rate":80,"display_name":"Martin Prikryl"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1697777943,"creation_date":1551705532,"answer_id":54984155,"question_id":54974080,"body_markdown":"You may need to use UTF-8 encoding. First thing to try is to call [`FTPClient.setAutodetectUTF8`](https://commons.apache.org/proper/commons-net/apidocs/org/apache/commons/net/ftp/FTPClient.html#setAutodetectUTF8(boolean)):\r\n\r\n    ftpClient.setAutodetectUTF8(true);\r\n\r\n(call that before connecting)\r\n\r\nThat should fix the problem your question is about.\r\n\r\n---\r\n\r\nOnce you resolve the file name issue, you will need to fix transfer mode issue. You are transferring binary files (PDF) in text mode.\r\n\r\nYou need to use binary mode:\r\n\r\n    ftpClient.setFileType(FTP.BINARY_FILE_TYPE);","title":"Can&#39;t download files with Arabic name with Java FTP client","body":"<p>You may need to use UTF-8 encoding. First thing to try is to call <a href=\"https://commons.apache.org/proper/commons-net/apidocs/org/apache/commons/net/ftp/FTPClient.html#setAutodetectUTF8(boolean)\" rel=\"nofollow noreferrer\"><code>FTPClient.setAutodetectUTF8</code></a>:</p>\n<pre><code>ftpClient.setAutodetectUTF8(true);\n</code></pre>\n<p>(call that before connecting)</p>\n<p>That should fix the problem your question is about.</p>\n<hr />\n<p>Once you resolve the file name issue, you will need to fix transfer mode issue. You are transferring binary files (PDF) in text mode.</p>\n<p>You need to use binary mode:</p>\n<pre><code>ftpClient.setFileType(FTP.BINARY_FILE_TYPE);\n</code></pre>\n"}],"owner":{"account_id":1138589,"reputation":391,"user_id":1123111,"display_name":"osfar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":907,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":54984155,"answer_count":1,"score":2,"last_activity_date":1697777943,"creation_date":1551649733,"question_id":54974080,"body_markdown":"I have Java code that connects to an FTP server and downloads files.\r\nIf the file name contains Arabic letters, then it always fails to download.\r\nBut if it&#39;s English, it downloads successfully.\r\n\r\nThis is my code.  \r\nIf the path is like this then it fails to download:\r\n\r\n\r\n    String actualFileLocation =\r\n        &quot;/RelatedDocumentUploads\\\\...\\\\2017-S2\\\\تقرير الربع الرابع تقرير 2017 (006)senton(18-01-2017).pdf&quot; ;\r\n\r\nBut if it&#39;s like the following it works fine:\r\n\r\n    String actualFileLocation =\r\n        &quot;/RelatedDocumentUploads\\\\...\\\\2017-S2\\\\RCJY O5.K2 -D6(Q4) 2017-Doc 1.JPG&quot; ;\r\n\r\nThe rest of the code:\r\n\r\n\tint index = actualFileLocation.lastIndexOf(&quot;\\\\&quot;);\r\n\tint extIndex = actualFileLocation.lastIndexOf(&quot;.&quot;);\r\n\tString fileName = actualFileLocation.substring(index + 1, extIndex);\r\n\tString extensn = actualFileLocation.substring(extIndex, actualFileLocation.length());\r\n\tFile parent = new File(System.getProperty(&quot;java.io.tmpdir&quot;));\r\n\tFile tempFile = new File(parent, fileName + extensn);\r\n\ttempFile.createNewFile();\r\n\tOutputStream outputStream = new BufferedOutputStream(new FileOutputStream(tempFile));\r\n\tboolean success = ftpClient.retrieveFile(actualFileLocation, outputStream);\r\n\r\nFTP client is from type : `public class org.apache.commons.net.ftp.FTPClient`\r\n\r\nWhat&#39;s is wrong with my code?\r\n\r\nThis is the output of the of the log:\r\n\r\n&lt;!-- language: lang-none --&gt;\r\n\r\n    PASV\r\n    227 Entering Passive Mode (10,110,103,31,215,6)\r\n    RETR /RelatedDocumentUploads\\Entities\\RCJY\\KPI\\Documents\\RCJY.O5.K2\\Supporting Document\\2017-S2\\تقرير الربع الرابع تقرير تقرير تقرير 2017 (006)senton(18-01-2017).pdf\r\n    550 File not found\r\n\r\n\r\nAnd this is the log from WinSCP client, which downloads the file successfully:\r\n\r\n&lt;!-- language: lang-none --&gt;\r\n\r\n    . 2019-03-04 17:47:22.289 --------------------------------------------------------------------------\r\n    . 2019-03-04 17:47:22.290 WinSCP Version 5.13.7 (Build 9125) (OS 6.1.7601 Service Pack 1 - Windows 7 Professional)\r\n    . 2019-03-04 17:47:22.290 Configuration: HKCU\\Software\\Martin Prikryl\\WinSCP 2\\\r\n    . 2019-03-04 17:47:22.290 Log level: Normal\r\n    . 2019-03-04 17:47:22.290 Local account: MyPC-EG\\PCHome\r\n    . 2019-03-04 17:47:22.290 Working directory: C:\\Program Files (x86)\\WinSCP\r\n    . 2019-03-04 17:47:22.290 Process ID: 13160\r\n    . 2019-03-04 17:47:22.291 Command-line: &quot;C:\\Program Files (x86)\\WinSCP\\WinSCP.exe&quot; \r\n    . 2019-03-04 17:47:22.291 Time zone: Current: GMT+2 (Egypt Standard Time), No DST\r\n    . 2019-03-04 17:47:22.291 Login time: Monday, March 04, 2019 5:47:22 PM\r\n    . 2019-03-04 17:47:22.291 --------------------------------------------------------------------------\r\n    . 2019-03-04 17:47:22.291 Session name: user@10.110.111.111 (Ad-Hoc site)\r\n    . 2019-03-04 17:47:22.291 Host name: 10.110.111.111 (Port: 21)\r\n    . 2019-03-04 17:47:22.291 User name: user (Password: No, Key file: No, Passphrase: No)\r\n    . 2019-03-04 17:47:22.291 Transfer Protocol: FTP\r\n    . 2019-03-04 17:47:22.291 Ping type: Dummy, Ping interval: 30 sec; Timeout: 15 sec\r\n    . 2019-03-04 17:47:22.292 Disable Nagle: No\r\n    . 2019-03-04 17:47:22.292 Proxy: None\r\n    . 2019-03-04 17:47:22.292 Send buffer: 262144\r\n    . 2019-03-04 17:47:22.292 UTF: Auto\r\n    . 2019-03-04 17:47:22.292 FTPS: None [Client certificate: No]\r\n    . 2019-03-04 17:47:22.292 FTP: Passive: Yes [Force IP: Auto]; MLSD: Auto [List all: Auto]; HOST: Auto\r\n    . 2019-03-04 17:47:22.292 Local directory: default, Remote directory: home, Update: Yes, Cache: Yes\r\n    . 2019-03-04 17:47:22.292 Cache directory changes: Yes, Permanent: Yes\r\n    . 2019-03-04 17:47:22.292 Recycle bin: Delete to: No, Overwritten to: No, Bin path: \r\n    . 2019-03-04 17:47:22.292 Timezone offset: 0h 0m\r\n    . 2019-03-04 17:47:22.292 --------------------------------------------------------------------------\r\n    . 2019-03-04 17:47:22.354 Connecting to 10.110.103.31 ...\r\n    . 2019-03-04 17:47:22.804 Connected with 10.110.103.31. Waiting for welcome message...\r\n    &lt; 2019-03-04 17:47:23.286 220-FileZilla Server 0.9.60 beta\r\n    &lt; 2019-03-04 17:47:23.286 220-\r\n    &lt; 2019-03-04 17:47:23.286 220 EMP FTP\r\n    &gt; 2019-03-04 17:47:23.286 USER user\r\n    &lt; 2019-03-04 17:47:23.780 331 Password required for user\r\n    &gt; 2019-03-04 17:47:29.603 PASS **********\r\n    &lt; 2019-03-04 17:47:30.092 230 Logged on\r\n    &gt; 2019-03-04 17:47:30.093 SYST\r\n    &lt; 2019-03-04 17:47:30.585 215 UNIX emulated by FileZilla\r\n    &gt; 2019-03-04 17:47:30.585 FEAT\r\n    &lt; 2019-03-04 17:47:31.078 211-Features:\r\n    &lt; 2019-03-04 17:47:31.078  MDTM\r\n    &lt; 2019-03-04 17:47:31.078  REST STREAM\r\n    &lt; 2019-03-04 17:47:31.078  SIZE\r\n    &lt; 2019-03-04 17:47:31.078  MLST type*;size*;modify*;\r\n    &lt; 2019-03-04 17:47:31.078  MLSD\r\n    &lt; 2019-03-04 17:47:31.078  UTF8\r\n    &lt; 2019-03-04 17:47:31.078  CLNT\r\n    &lt; 2019-03-04 17:47:31.078  MFMT\r\n    &lt; 2019-03-04 17:47:31.078  EPSV\r\n    &lt; 2019-03-04 17:47:31.078  EPRT\r\n    &lt; 2019-03-04 17:47:31.079 211 End\r\n    &gt; 2019-03-04 17:47:31.088 CLNT WinSCP-release-5.13.7\r\n    &lt; 2019-03-04 17:47:31.578 200 Don&#39;t care\r\n    &gt; 2019-03-04 17:47:31.578 OPTS UTF8 ON\r\n    &lt; 2019-03-04 17:47:32.067 202 UTF8 mode is always enabled. No need to send this command.\r\n    . 2019-03-04 17:47:32.090 Connected\r\n    . 2019-03-04 17:47:32.090 --------------------------------------------------------------------------\r\n    . 2019-03-04 17:47:32.091 Using FTP protocol.\r\n    . 2019-03-04 17:47:32.091 Doing startup conversation with host.\r\n    &gt; 2019-03-04 17:47:32.107 PWD\r\n    &lt; 2019-03-04 17:47:32.601 257 &quot;/&quot; is current directory.\r\n    . 2019-03-04 17:47:32.601 Getting current directory name.\r\n    . 2019-03-04 17:47:32.629 Retrieving directory listing...\r\n    &gt; 2019-03-04 17:47:32.629 TYPE A\r\n    &lt; 2019-03-04 17:47:33.120 200 Type set to A\r\n    &gt; 2019-03-04 17:47:33.121 PASV\r\n    &lt; 2019-03-04 17:47:33.588 227 Entering Passive Mode (10,110,103,31,193,94)\r\n    &gt; 2019-03-04 17:47:33.589 MLSD\r\n    . 2019-03-04 17:47:33.589 Connecting to 10.110.111.111:49502 ...\r\n    &lt; 2019-03-04 17:47:34.544 150 Opening data channel for directory listing of &quot;/&quot;\r\n    . 2019-03-04 17:47:34.545 Data connection closed\r\n    . 2019-03-04 17:47:34.546 type=dir;modify=20190224133717; RelatedDocumentUploads\r\n    . 2019-03-04 17:47:34.546 type=dir;modify=20190217090137; RelatedDocumentUploads_UAT\r\n    &lt; 2019-03-04 17:47:34.555 226 Successfully transferred &quot;/&quot;\r\n    . 2019-03-04 17:47:34.555 Directory listing successful\r\n    . 2019-03-04 17:47:34.556 ..;D;0;1899-12-30T02:00:00.000Z;0;&quot;&quot; [0];&quot;&quot; [0];---------;0\r\n    . 2019-03-04 17:47:34.556 RelatedDocumentUploads;D;0;2019-02-24T13:37:17.000Z;3;&quot;&quot; [0];&quot;&quot; [0];---------;0\r\n    . 2019-03-04 17:47:34.556 RelatedDocumentUploads_UAT;D;0;2019-02-17T09:01:37.000Z;3;&quot;&quot; [0];&quot;&quot; [0];---------;0\r\n    . 2019-03-04 17:47:34.594 Startup conversation with host finished.\r\n    . 2019-03-04 17:47:53.904 Changing directory to &quot;/RelatedDocumentUploads\\aaaa\\bbbb\\cccc\\dddd\\RCJY.O5.K2\\Supporting Document\\&quot;.\r\n    &gt; 2019-03-04 17:47:53.912 CWD /RelatedDocumentUploads\\aaaa\\bbbb\\cccc\\dddd\\RCJY.O5.K2\\Supporting Document\\\r\n    &lt; 2019-03-04 17:47:54.398 250 CWD successful. &quot;/RelatedDocumentUploads\\aaaa\\bbbb\\cccc\\ddddRCJY.O5.K2/Supporting Document&quot; is current directory.\r\n    . 2019-03-04 17:47:54.399 Getting current directory name.\r\n    &gt; 2019-03-04 17:47:54.399 PWD\r\n    &lt; 2019-03-04 17:47:54.893 257 &quot;/RelatedDocumentUploads\\aaaa\\bbbb\\cccc\\dddd\\RCJY.O5.K2/Supporting Document&quot; is current directory.\r\n    . 2019-03-04 17:47:54.894 Retrieving directory listing...\r\n    &gt; 2019-03-04 17:47:54.894 TYPE A\r\n    &lt; 2019-03-04 17:47:55.383 200 Type set to A\r\n    &gt; 2019-03-04 17:47:55.384 PASV\r\n    &lt; 2019-03-04 17:47:55.878 227 Entering Passive Mode (10,110,103,31,194,79)\r\n    &gt; 2019-03-04 17:47:55.878 MLSD\r\n    . 2019-03-04 17:47:55.878 Connecting to 10.111.111.111:49743 ...\r\n    . 2019-03-04 17:47:56.855 Data connection closed\r\n    &lt; 2019-03-04 17:47:56.855 150 Opening data channel for directory listing of &quot;/RelatedDocumentUploads/aaaa/bbbb/cccc/dddd/RCJY.O5.K2/Supporting Document&quot;\r\n    &lt; 2019-03-04 17:47:56.855 226 Successfully transferred &quot;/RelatedDocumentUploads/aaaa/bbbb/cccc/dddd/RCJY.O5.K2/Supporting Document&quot;\r\n    . 2019-03-04 17:47:56.856 type=dir;modify=20181025073148; 2016-S1\r\n    . 2019-03-04 17:47:56.856 type=dir;modify=20181025073148; 2016-S2\r\n    . 2019-03-04 17:47:56.856 type=dir;modify=20190224134557; 2017-S1\r\n    . 2019-03-04 17:47:56.856 type=dir;modify=20190224134557; 2017-S2\r\n    . 2019-03-04 17:47:56.856 type=dir;modify=20190224134600; 2018-S1\r\n    . 2019-03-04 17:47:56.856 type=dir;modify=20190224134600; 2018-S2\r\n    . 2019-03-04 17:47:56.856 type=dir;modify=20181025073148; 2019-S1\r\n    . 2019-03-04 17:47:56.856 type=dir;modify=20181025073148; 2019-S2\r\n    . 2019-03-04 17:47:56.856 type=dir;modify=20181025073148; 2020-S1\r\n    . 2019-03-04 17:47:56.856 type=dir;modify=20181025073148; 2020-S2\r\n    . 2019-03-04 17:47:56.856 Directory listing successful\r\n    . 2019-03-04 17:47:56.857 ..;D;0;1899-12-30T02:00:00.000Z;0;&quot;&quot; [0];&quot;&quot; [0];---------;0\r\n    . 2019-03-04 17:47:56.857 2016-S1;D;0;2018-10-25T07:31:48.000Z;3;&quot;&quot; [0];&quot;&quot; [0];---------;0\r\n    . 2019-03-04 17:47:56.857 2016-S2;D;0;2018-10-25T07:31:48.000Z;3;&quot;&quot; [0];&quot;&quot; [0];---------;0\r\n    . 2019-03-04 17:47:56.857 2017-S1;D;0;2019-02-24T13:45:57.000Z;3;&quot;&quot; [0];&quot;&quot; [0];---------;0\r\n    . 2019-03-04 17:47:56.857 2017-S2;D;0;2019-02-24T13:45:57.000Z;3;&quot;&quot; [0];&quot;&quot; [0];---------;0\r\n    . 2019-03-04 17:47:56.857 2018-S1;D;0;2019-02-24T13:46:00.000Z;3;&quot;&quot; [0];&quot;&quot; [0];---------;0\r\n    . 2019-03-04 17:47:56.857 2018-S2;D;0;2019-02-24T13:46:00.000Z;3;&quot;&quot; [0];&quot;&quot; [0];---------;0\r\n    . 2019-03-04 17:47:56.858 2019-S1;D;0;2018-10-25T07:31:48.000Z;3;&quot;&quot; [0];&quot;&quot; [0];---------;0\r\n    . 2019-03-04 17:47:56.858 2019-S2;D;0;2018-10-25T07:31:48.000Z;3;&quot;&quot; [0];&quot;&quot; [0];---------;0\r\n    . 2019-03-04 17:47:56.858 2020-S1;D;0;2018-10-25T07:31:48.000Z;3;&quot;&quot; [0];&quot;&quot; [0];---------;0\r\n    . 2019-03-04 17:47:56.858 2020-S2;D;0;2018-10-25T07:31:48.000Z;3;&quot;&quot; [0];&quot;&quot; [0];---------;0\r\n    . 2019-03-04 17:47:59.134 Changing directory to &quot;/RelatedDocumentUploads/aaa/bbb/ccc/ddd/RCJY.O5.K2/Supporting Document/2016-S2&quot;.\r\n    &gt; 2019-03-04 17:47:59.139 CWD /RelatedDocumentUploads/aaaa/bbbb/cccc/dddd/RCJY.O5.K2/Supporting Document/2016-S2\r\n    &lt; 2019-03-04 17:47:59.627 250 CWD successful. &quot;/RelatedDocumentUploads/aaa/bbb/ccc/ddd/RCJY.O5.K2/Supporting Document/2016-S2&quot; is current directory.\r\n    . 2019-03-04 17:47:59.627 Getting current directory name.\r\n    &gt; 2019-03-04 17:47:59.628 PWD\r\n    &lt; 2019-03-04 17:48:00.123 257 &quot;/RelatedDocumentUploads/aaaa/bbb/cccc/ddd/RCJY.O5.K2/Supporting Document/2016-S2&quot; is current directory.\r\n    . 2019-03-04 17:48:00.124 Retrieving directory listing...\r\n    &gt; 2019-03-04 17:48:00.124 TYPE A\r\n    &lt; 2019-03-04 17:48:00.617 200 Type set to A\r\n    &gt; 2019-03-04 17:48:00.618 PASV\r\n    &lt; 2019-03-04 17:48:01.113 227 Entering Passive Mode (10,110,103,31,215,238)\r\n    &gt; 2019-03-04 17:48:01.113 MLSD\r\n    . 2019-03-04 17:48:01.113 Connecting to 10.110.103.31:55278 ...\r\n    . 2019-03-04 17:48:02.095 Data connection closed\r\n    &lt; 2019-03-04 17:48:02.096 150 Opening data channel for directory listing of &quot;/RelatedDocumentUploads/aaa/bbb/ccc/ddd/RCJY.O5.K2/Supporting Document/2016-S2&quot;\r\n    &lt; 2019-03-04 17:48:02.096 226 Successfully transferred &quot;/RelatedDocumentUploads/aaa/bbb/ccc/ddd/RCJY.O5.K2/Supporting Document/2016-S2&quot;\r\n    . 2019-03-04 17:48:02.096 &lt;Empty directory listing&gt;\r\n    . 2019-03-04 17:48:02.096 Directory listing successful\r\n    . 2019-03-04 17:48:02.096 ..;D;0;1899-12-30T02:00:00.000Z;0;&quot;&quot; [0];&quot;&quot; [0];---------;0\r\n    . 2019-03-04 17:48:06.055 Cached directory change via &quot;/RelatedDocumentUploads/aaa/bbb/ccc/ddd/RCJY.O5.K2/Supporting Document/2017-S2&quot; to &quot;/RelatedDocumentUploads/Entities/RCJY/KPI/Documents/RCJY.O5.K2/Supporting Document/2017-S2&quot;.\r\n    . 2019-03-04 17:48:06.055 Getting current directory name.\r\n    . 2019-03-04 17:48:06.061 Retrieving directory listing...\r\n    &gt; 2019-03-04 17:48:06.061 CWD /RelatedDocumentUploads/aaa/bbb/ccc/dddd/RCJY.O5.K2/Supporting Document/2017-S2\r\n    &lt; 2019-03-04 17:48:06.553 250 CWD successful. &quot;/RelatedDocumentUploads/aaa/bbb/ccc/ddd/RCJY.O5.K2/Supporting Document/2017-S2&quot; is current directory.\r\n    &gt; 2019-03-04 17:48:06.553 PWD\r\n    &lt; 2019-03-04 17:48:07.047 257 &quot;/RelatedDocumentUploads/aaa/bbb/ccc/ddd/RCJY.O5.K2/Supporting Document/2017-S2&quot; is current directory.\r\n    &gt; 2019-03-04 17:48:07.048 TYPE A\r\n    &lt; 2019-03-04 17:48:07.539 200 Type set to A\r\n    &gt; 2019-03-04 17:48:07.539 PASV\r\n    &lt; 2019-03-04 17:48:08.034 227 Entering Passive Mode (10,110,103,31,206,23)\r\n    &gt; 2019-03-04 17:48:08.034 MLSD\r\n    . 2019-03-04 17:48:08.034 Connecting to 10.110.103.31:52759 ...\r\n    &lt; 2019-03-04 17:48:11.885 150 Opening data channel for directory listing of &quot;/RelatedDocumentUploads/aaa/bbb/ccc/ddd/RCJY.O5.K2/Supporting Document/2017-S2&quot;\r\n    . 2019-03-04 17:48:11.885 Data connection closed\r\n    . 2019-03-04 17:48:11.885 type=file;modify=20180116032646;size=56290; RCJY O5.K2 -D6(Q4) 2017-Doc 1.JPG\r\n    . 2019-03-04 17:48:11.885 type=file;modify=20180116032658;size=304601; RCJY O5.K2 -D6(Q4) 2017-Doc 2.pdf\r\n    . 2019-03-04 17:48:11.885 type=dir;modify=20190224134558; &#216;&#167;&#217;„&#216;&#172;&#216;&#168;&#217;Š&#217;„ &#217;ˆ&#216;&#177;&#216;&#163;&#216;&#179; &#216;&#167;&#217;„&#216;&#174;&#217;Š&#216;&#177;\r\n    . 2019-03-04 17:48:11.886 type=file;modify=20180118145415;size=1223036; &#216;&#170;&#217;‚&#216;&#177;&#217;Š&#216;&#177; &#216;&#167;&#217;„&#216;&#177;&#216;&#168;&#216;&#185; &#216;&#167;&#217;„&#216;&#177;&#216;&#167;&#216;&#168;&#216;&#185; &#217;„&#217;…&#216;&#164;&#216;&#180;&#216;&#177;&#216;&#167;&#216;&#170; &#216;&#167;&#217;„&#217;‡&#217;Š&#216;&#166;&#216;&#169; &#216;&#167;&#217;„&#217;…&#217;„&#217;ƒ&#217;Š&#216;&#169; &#217;„&#217;„&#216;&#172;&#216;&#168;&#217;Š&#217;„ &#217;ˆ&#217;Š&#217;†&#216;&#168;&#216;&#185; 2017 (006)senton(18-01-2017).pdf\r\n    &lt; 2019-03-04 17:48:11.886 226 Successfully transferred &quot;/RelatedDocumentUploads/aaa/bbb/ccc/ddd/RCJY.O5.K2/Supporting Document/2017-S2&quot;\r\n    . 2019-03-04 17:48:11.886 Directory listing successful\r\n    . 2019-03-04 17:48:11.886 ..;D;0;1899-12-30T02:00:00.000Z;0;&quot;&quot; [0];&quot;&quot; [0];---------;0\r\n    . 2019-03-04 17:48:11.886 RCJY O5.K2 -D6(Q4) 2017-Doc 1.JPG;-;56290;2018-01-16T03:26:46.000Z;3;&quot;&quot; [0];&quot;&quot; [0];---------;0\r\n    . 2019-03-04 17:48:11.886 RCJY O5.K2 -D6(Q4) 2017-Doc 2.pdf;-;304601;2018-01-16T03:26:58.000Z;3;&quot;&quot; [0];&quot;&quot; [0];---------;0\r\n    . 2019-03-04 17:48:11.886 علم علم علم علم;D;0;2019-02-24T13:45:58.000Z;3;&quot;&quot; [0];&quot;&quot; [0];---------;0\r\n    . 2019-03-04 17:48:11.887 التقرير التقرير التقرير التقرير القريري2017 (006)senton(18-01-2017).pdf;-;1223036;2018-01-18T14:54:15.000Z;3;&quot;&quot; [0];&quot;&quot; [0];---------;0\r\n    . 2019-03-04 17:48:20.443 Copying 1 files/directories to local directory &quot;C:\\Users\\yser\\Documents\\&quot; - total size: 1,223,036\r\n    . 2019-03-04 17:48:20.443   PrTime: Yes; PrRO: No; Rght: rw-r--r--; PrR: No (No); FnCs: N; RIC: 0100; Resume: S (102400); CalcS: Yes; Mask: *.*\r\n    . 2019-03-04 17:48:20.443   TM: B; ClAr: No; RemEOF: No; RemBOM: No; CPS: 0; NewerOnly: No; InclM: ; ResumeL: 0\r\n    . 2019-03-04 17:48:20.443   AscM: *.*html; *.htm; *.txt; *.php; *.php3; *.cgi; *.c; *.cpp; *.h; *.pas; *.bas; *.tex; *.pl; *.js; .htaccess; *.xtml; *.css; *.cfg; *.ini; *.sh; *.xml\r\n    . 2019-03-04 17:48:20.443 File: &#39;/RelatedDocumentUploads/Entities/RCJY/KPI/Documents/RCJY.O5.K2/Supporting Document/2017-S2/تقرير تقرير تقرير تقرير2017 (006)senton(18-01-2017).pdf&#39; [2018-01-18T14:54:15.000Z] [1223036]\r\n    . 2019-03-04 17:48:20.447 Copying &quot;/RelatedDocumentUploads/aaa/bbb/ccc/dddd/RCJY.O5.K2/Supporting Document/2017-S2/تقرير تقرير تقرير تقرير 2017 (006)senton(18-01-2017).pdf&quot; to local directory started.\r\n    . 2019-03-04 17:48:20.448 Binary transfer mode selected.\r\n    . 2019-03-04 17:48:20.448 Starting download of /RelatedDocumentUploads/Entities/RCJY/KPI/Documents/RCJY.O5.K2/Supporting Document/2017-S2/تقرير تقرير تقرير تقرير تقرير 2017 (006)senton(18-01-2017).pdf\r\n    . 2019-03-04 17:48:20.449 Asking user:\r\n    . 2019-03-04 17:48:20.449 **Overwrite local file &#39;تقرير تقرير تقرير تقرير تقرير 2017 (006)senton(18-01-2017).pdf&#39;?**\r\n    . 2019-03-04 17:48:20.449 \r\n    . 2019-03-04 17:48:20.449 Destination directory already contains file &#39;تقرير تقرير تقرير تقرير تقرير2017 (006)senton(18-01-2017).pdf&#39;.\r\n    . 2019-03-04 17:48:20.449 Choose, if you want to overwrite the file or skip this transfer and keep existing file.\r\n    . 2019-03-04 17:48:20.449  \r\n    . 2019-03-04 17:48:20.449 New:      \t1,223,036 bytes, 1/18/2018 4:54:15 PM\r\n    . 2019-03-04 17:48:20.449 Existing: \t1,223,036 bytes, 1/18/2018 4:54:15 PM ()\r\n    &gt; 2019-03-04 17:48:21.721 TYPE I\r\n    &lt; 2019-03-04 17:48:22.207 200 Type set to I\r\n    &gt; 2019-03-04 17:48:22.207 PASV\r\n    &lt; 2019-03-04 17:48:22.702 227 Entering Passive Mode (10,110,103,31,236,137)\r\n    &gt; 2019-03-04 17:48:22.712 RETR تقرير تقرير تقرير تقرير 2017 (006)senton(18-01-2017).pdf\r\n    . 2019-03-04 17:48:22.712 Connecting to 10.110.103.31:60553 ...\r\n    &lt; 2019-03-04 17:48:24.082 150 Opening data channel for file download from server of &quot;/RelatedDocumentUploads/Entities/RCJY/KPI/Documents/RCJY.O5.K2/Supporting Document/2017-S2/تقرير تقرير تقرير تقرير تقرير تقرير 2017 (006)senton(18-01-2017).pdf&quot;\r\n    . 2019-03-04 17:48:30.748 Data connection closed\r\n    &lt; 2019-03-04 17:48:30.748 226 Successfully transferred &quot;/RelatedDocumentUploads/Entities/RCJY/KPI/Documents/RCJY.O5.K2/Supporting Document/2017-S2/تقرير تقرير تقرير تقرير تقرير تقرير 2017 (006)senton(18-01-2017).pdf&quot;\r\n    . 2019-03-04 17:48:30.748 Preserving timestamp [2018-01-18T14:54:15.000Z]\r\n    . 2019-03-04 17:48:30.750 Download successful\r\n    . 2019-03-04 17:48:30.750 Transfer done: &#39;/RelatedDocumentUploads/Entities/RCJY/KPI/Documents/RCJY.O5.K2/Supporting Document/2017-S2/تقرير تقرير تقرير تقرير تقرير تقرير 2017 (006)senton(18-01-2017).pdf&#39; =&gt; &#39;C:\\Users\\osmohame\\Documents\\تقرير تقرير تقرير تقرير تقرير 2017 (006)senton(18-01-2017).pdf&#39; [1223036]\r\n    . 2019-03-04 17:48:30.766 Copying finished: Transferred: 1,223,036, Elapsed: 0:00:10, CPS: 182,733/s\r\n    . 2019-03-04 17:48:37.731 Disconnected from server\r\n\r\nAnd this is the code that initializes the connection to the FTP server:\r\n\r\n    logger.info(&quot;Creating the ftp connection using the details&quot;);\r\n    String ftpServerAddress = wccInstanceDetails.get(&quot;ftpServer&quot;);\r\n    String ftpPort = wccInstanceDetails.get(&quot;ftpPort&quot;);\r\n    String ftpUserName = wccInstanceDetails.get(&quot;ftpUser&quot;);\r\n    String ftpPassword = wccInstanceDetails.get(&quot;ftppassword&quot;);\r\n    FTPClient ftpClient = new FTPClient();\r\n    try {\r\n    \t//added here\r\n    \tftpClient.setAutodetectUTF8(true);\r\n    \t\r\n    \tftpClient.connect(ftpServerAddress, Integer.parseInt(ftpPort));\r\n    \tftpClient.login(ftpUserName, ftpPassword);\r\n    \tftpClient.enterLocalPassiveMode();\r\n    \tftpClient.setFileType(FTP.ASCII_FILE_TYPE);\r\n    } catch (IOException ex) {\r\n    \tlogger.error(&quot;Error occurs while creating the FTP connection : &quot; + ex.getMessage());\r\n    }\r\n    return ftpClient;\r\n\r\n---\r\n\r\nAfter adding the `setautodetectUTF(true)`, the output is changed, but the file is downloaded corrupted:\r\n\r\n&lt;!-- language: lang-none --&gt;\r\n\r\n    2019-03-04 16:05:10 INFO  FtpConnection:17 - Creating the ftp connection using the details\r\n    2019-03-04 16:05:10 INFO  FtpConnection:19 - 10.110.103.31\r\n    2019-03-04 16:05:10 INFO  FtpConnection:21 - 21\r\n    2019-03-04 16:05:10 INFO  FtpConnection:38 - true\r\n    220-FileZilla Server 0.9.60 beta\r\n    220-\r\n    220 EMP FTP\r\n    FEAT\r\n    211-Features:\r\n     MDTM\r\n     REST STREAM\r\n     SIZE\r\n     MLST type*;size*;modify*;\r\n     MLSD\r\n     UTF8\r\n     CLNT\r\n     MFMT\r\n     EPSV\r\n     EPRT\r\n    211 End\r\n    USER *******\r\n    331 Password required for epmftp\r\n    PASS *******\r\n    230 Logged on\r\n    TYPE A\r\n    200 Type set to A\r\n    PASV\r\n    227 Entering Passive Mode (10,110,103,31,224,65)\r\n    RETR /RelatedDocumentUploads\\Entities\\RCJY\\KPI\\Documents\\RCJY.O5.K2\\Supporting Document\\2017-S2\\تقرير تقرير تقرير تقرير تقرير تقرير تقرير 2017 (006)senton(18-01-2017).pdf\r\n    150 Opening data channel for file download from server of &quot;/RelatedDocumentUploads/Entities/RCJY/KPI/Documents/RCJY.O5.K2/Supporting Document/2017-S2/تقرير تقرير تقرير تقرير تقرير تقرير 2017 (006)senton(18-01-2017).pdf&quot;\r\n    226 Successfully transferred &quot;/RelatedDocumentUploads/Entities/RCJY/KPI/Documents/RCJY.O5.K2/Supporting Document/2017-S2/تقرير الربع الرابع لمؤشرات تقرير تقرير تقرير (006)senton(18-01-2017).pdf&quot;\r\n\r\n\r\n","title":"Can&#39;t download files with Arabic name with Java FTP client","body":"<p>I have Java code that connects to an FTP server and downloads files.\nIf the file name contains Arabic letters, then it always fails to download.\nBut if it's English, it downloads successfully.</p>\n\n<p>This is my code.<br>\nIf the path is like this then it fails to download:</p>\n\n<pre><code>String actualFileLocation =\n    \"/RelatedDocumentUploads\\\\...\\\\2017-S2\\\\تقرير الربع الرابع تقرير 2017 (006)senton(18-01-2017).pdf\" ;\n</code></pre>\n\n<p>But if it's like the following it works fine:</p>\n\n<pre><code>String actualFileLocation =\n    \"/RelatedDocumentUploads\\\\...\\\\2017-S2\\\\RCJY O5.K2 -D6(Q4) 2017-Doc 1.JPG\" ;\n</code></pre>\n\n<p>The rest of the code:</p>\n\n<pre><code>int index = actualFileLocation.lastIndexOf(\"\\\\\");\nint extIndex = actualFileLocation.lastIndexOf(\".\");\nString fileName = actualFileLocation.substring(index + 1, extIndex);\nString extensn = actualFileLocation.substring(extIndex, actualFileLocation.length());\nFile parent = new File(System.getProperty(\"java.io.tmpdir\"));\nFile tempFile = new File(parent, fileName + extensn);\ntempFile.createNewFile();\nOutputStream outputStream = new BufferedOutputStream(new FileOutputStream(tempFile));\nboolean success = ftpClient.retrieveFile(actualFileLocation, outputStream);\n</code></pre>\n\n<p>FTP client is from type : <code>public class org.apache.commons.net.ftp.FTPClient</code></p>\n\n<p>What's is wrong with my code?</p>\n\n<p>This is the output of the of the log:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>PASV\n227 Entering Passive Mode (10,110,103,31,215,6)\nRETR /RelatedDocumentUploads\\Entities\\RCJY\\KPI\\Documents\\RCJY.O5.K2\\Supporting Document\\2017-S2\\تقرير الربع الرابع تقرير تقرير تقرير 2017 (006)senton(18-01-2017).pdf\n550 File not found\n</code></pre>\n\n<p>And this is the log from WinSCP client, which downloads the file successfully:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>. 2019-03-04 17:47:22.289 --------------------------------------------------------------------------\n. 2019-03-04 17:47:22.290 WinSCP Version 5.13.7 (Build 9125) (OS 6.1.7601 Service Pack 1 - Windows 7 Professional)\n. 2019-03-04 17:47:22.290 Configuration: HKCU\\Software\\Martin Prikryl\\WinSCP 2\\\n. 2019-03-04 17:47:22.290 Log level: Normal\n. 2019-03-04 17:47:22.290 Local account: MyPC-EG\\PCHome\n. 2019-03-04 17:47:22.290 Working directory: C:\\Program Files (x86)\\WinSCP\n. 2019-03-04 17:47:22.290 Process ID: 13160\n. 2019-03-04 17:47:22.291 Command-line: \"C:\\Program Files (x86)\\WinSCP\\WinSCP.exe\" \n. 2019-03-04 17:47:22.291 Time zone: Current: GMT+2 (Egypt Standard Time), No DST\n. 2019-03-04 17:47:22.291 Login time: Monday, March 04, 2019 5:47:22 PM\n. 2019-03-04 17:47:22.291 --------------------------------------------------------------------------\n. 2019-03-04 17:47:22.291 Session name: user@10.110.111.111 (Ad-Hoc site)\n. 2019-03-04 17:47:22.291 Host name: 10.110.111.111 (Port: 21)\n. 2019-03-04 17:47:22.291 User name: user (Password: No, Key file: No, Passphrase: No)\n. 2019-03-04 17:47:22.291 Transfer Protocol: FTP\n. 2019-03-04 17:47:22.291 Ping type: Dummy, Ping interval: 30 sec; Timeout: 15 sec\n. 2019-03-04 17:47:22.292 Disable Nagle: No\n. 2019-03-04 17:47:22.292 Proxy: None\n. 2019-03-04 17:47:22.292 Send buffer: 262144\n. 2019-03-04 17:47:22.292 UTF: Auto\n. 2019-03-04 17:47:22.292 FTPS: None [Client certificate: No]\n. 2019-03-04 17:47:22.292 FTP: Passive: Yes [Force IP: Auto]; MLSD: Auto [List all: Auto]; HOST: Auto\n. 2019-03-04 17:47:22.292 Local directory: default, Remote directory: home, Update: Yes, Cache: Yes\n. 2019-03-04 17:47:22.292 Cache directory changes: Yes, Permanent: Yes\n. 2019-03-04 17:47:22.292 Recycle bin: Delete to: No, Overwritten to: No, Bin path: \n. 2019-03-04 17:47:22.292 Timezone offset: 0h 0m\n. 2019-03-04 17:47:22.292 --------------------------------------------------------------------------\n. 2019-03-04 17:47:22.354 Connecting to 10.110.103.31 ...\n. 2019-03-04 17:47:22.804 Connected with 10.110.103.31. Waiting for welcome message...\n&lt; 2019-03-04 17:47:23.286 220-FileZilla Server 0.9.60 beta\n&lt; 2019-03-04 17:47:23.286 220-\n&lt; 2019-03-04 17:47:23.286 220 EMP FTP\n&gt; 2019-03-04 17:47:23.286 USER user\n&lt; 2019-03-04 17:47:23.780 331 Password required for user\n&gt; 2019-03-04 17:47:29.603 PASS **********\n&lt; 2019-03-04 17:47:30.092 230 Logged on\n&gt; 2019-03-04 17:47:30.093 SYST\n&lt; 2019-03-04 17:47:30.585 215 UNIX emulated by FileZilla\n&gt; 2019-03-04 17:47:30.585 FEAT\n&lt; 2019-03-04 17:47:31.078 211-Features:\n&lt; 2019-03-04 17:47:31.078  MDTM\n&lt; 2019-03-04 17:47:31.078  REST STREAM\n&lt; 2019-03-04 17:47:31.078  SIZE\n&lt; 2019-03-04 17:47:31.078  MLST type*;size*;modify*;\n&lt; 2019-03-04 17:47:31.078  MLSD\n&lt; 2019-03-04 17:47:31.078  UTF8\n&lt; 2019-03-04 17:47:31.078  CLNT\n&lt; 2019-03-04 17:47:31.078  MFMT\n&lt; 2019-03-04 17:47:31.078  EPSV\n&lt; 2019-03-04 17:47:31.078  EPRT\n&lt; 2019-03-04 17:47:31.079 211 End\n&gt; 2019-03-04 17:47:31.088 CLNT WinSCP-release-5.13.7\n&lt; 2019-03-04 17:47:31.578 200 Don't care\n&gt; 2019-03-04 17:47:31.578 OPTS UTF8 ON\n&lt; 2019-03-04 17:47:32.067 202 UTF8 mode is always enabled. No need to send this command.\n. 2019-03-04 17:47:32.090 Connected\n. 2019-03-04 17:47:32.090 --------------------------------------------------------------------------\n. 2019-03-04 17:47:32.091 Using FTP protocol.\n. 2019-03-04 17:47:32.091 Doing startup conversation with host.\n&gt; 2019-03-04 17:47:32.107 PWD\n&lt; 2019-03-04 17:47:32.601 257 \"/\" is current directory.\n. 2019-03-04 17:47:32.601 Getting current directory name.\n. 2019-03-04 17:47:32.629 Retrieving directory listing...\n&gt; 2019-03-04 17:47:32.629 TYPE A\n&lt; 2019-03-04 17:47:33.120 200 Type set to A\n&gt; 2019-03-04 17:47:33.121 PASV\n&lt; 2019-03-04 17:47:33.588 227 Entering Passive Mode (10,110,103,31,193,94)\n&gt; 2019-03-04 17:47:33.589 MLSD\n. 2019-03-04 17:47:33.589 Connecting to 10.110.111.111:49502 ...\n&lt; 2019-03-04 17:47:34.544 150 Opening data channel for directory listing of \"/\"\n. 2019-03-04 17:47:34.545 Data connection closed\n. 2019-03-04 17:47:34.546 type=dir;modify=20190224133717; RelatedDocumentUploads\n. 2019-03-04 17:47:34.546 type=dir;modify=20190217090137; RelatedDocumentUploads_UAT\n&lt; 2019-03-04 17:47:34.555 226 Successfully transferred \"/\"\n. 2019-03-04 17:47:34.555 Directory listing successful\n. 2019-03-04 17:47:34.556 ..;D;0;1899-12-30T02:00:00.000Z;0;\"\" [0];\"\" [0];---------;0\n. 2019-03-04 17:47:34.556 RelatedDocumentUploads;D;0;2019-02-24T13:37:17.000Z;3;\"\" [0];\"\" [0];---------;0\n. 2019-03-04 17:47:34.556 RelatedDocumentUploads_UAT;D;0;2019-02-17T09:01:37.000Z;3;\"\" [0];\"\" [0];---------;0\n. 2019-03-04 17:47:34.594 Startup conversation with host finished.\n. 2019-03-04 17:47:53.904 Changing directory to \"/RelatedDocumentUploads\\aaaa\\bbbb\\cccc\\dddd\\RCJY.O5.K2\\Supporting Document\\\".\n&gt; 2019-03-04 17:47:53.912 CWD /RelatedDocumentUploads\\aaaa\\bbbb\\cccc\\dddd\\RCJY.O5.K2\\Supporting Document\\\n&lt; 2019-03-04 17:47:54.398 250 CWD successful. \"/RelatedDocumentUploads\\aaaa\\bbbb\\cccc\\ddddRCJY.O5.K2/Supporting Document\" is current directory.\n. 2019-03-04 17:47:54.399 Getting current directory name.\n&gt; 2019-03-04 17:47:54.399 PWD\n&lt; 2019-03-04 17:47:54.893 257 \"/RelatedDocumentUploads\\aaaa\\bbbb\\cccc\\dddd\\RCJY.O5.K2/Supporting Document\" is current directory.\n. 2019-03-04 17:47:54.894 Retrieving directory listing...\n&gt; 2019-03-04 17:47:54.894 TYPE A\n&lt; 2019-03-04 17:47:55.383 200 Type set to A\n&gt; 2019-03-04 17:47:55.384 PASV\n&lt; 2019-03-04 17:47:55.878 227 Entering Passive Mode (10,110,103,31,194,79)\n&gt; 2019-03-04 17:47:55.878 MLSD\n. 2019-03-04 17:47:55.878 Connecting to 10.111.111.111:49743 ...\n. 2019-03-04 17:47:56.855 Data connection closed\n&lt; 2019-03-04 17:47:56.855 150 Opening data channel for directory listing of \"/RelatedDocumentUploads/aaaa/bbbb/cccc/dddd/RCJY.O5.K2/Supporting Document\"\n&lt; 2019-03-04 17:47:56.855 226 Successfully transferred \"/RelatedDocumentUploads/aaaa/bbbb/cccc/dddd/RCJY.O5.K2/Supporting Document\"\n. 2019-03-04 17:47:56.856 type=dir;modify=20181025073148; 2016-S1\n. 2019-03-04 17:47:56.856 type=dir;modify=20181025073148; 2016-S2\n. 2019-03-04 17:47:56.856 type=dir;modify=20190224134557; 2017-S1\n. 2019-03-04 17:47:56.856 type=dir;modify=20190224134557; 2017-S2\n. 2019-03-04 17:47:56.856 type=dir;modify=20190224134600; 2018-S1\n. 2019-03-04 17:47:56.856 type=dir;modify=20190224134600; 2018-S2\n. 2019-03-04 17:47:56.856 type=dir;modify=20181025073148; 2019-S1\n. 2019-03-04 17:47:56.856 type=dir;modify=20181025073148; 2019-S2\n. 2019-03-04 17:47:56.856 type=dir;modify=20181025073148; 2020-S1\n. 2019-03-04 17:47:56.856 type=dir;modify=20181025073148; 2020-S2\n. 2019-03-04 17:47:56.856 Directory listing successful\n. 2019-03-04 17:47:56.857 ..;D;0;1899-12-30T02:00:00.000Z;0;\"\" [0];\"\" [0];---------;0\n. 2019-03-04 17:47:56.857 2016-S1;D;0;2018-10-25T07:31:48.000Z;3;\"\" [0];\"\" [0];---------;0\n. 2019-03-04 17:47:56.857 2016-S2;D;0;2018-10-25T07:31:48.000Z;3;\"\" [0];\"\" [0];---------;0\n. 2019-03-04 17:47:56.857 2017-S1;D;0;2019-02-24T13:45:57.000Z;3;\"\" [0];\"\" [0];---------;0\n. 2019-03-04 17:47:56.857 2017-S2;D;0;2019-02-24T13:45:57.000Z;3;\"\" [0];\"\" [0];---------;0\n. 2019-03-04 17:47:56.857 2018-S1;D;0;2019-02-24T13:46:00.000Z;3;\"\" [0];\"\" [0];---------;0\n. 2019-03-04 17:47:56.857 2018-S2;D;0;2019-02-24T13:46:00.000Z;3;\"\" [0];\"\" [0];---------;0\n. 2019-03-04 17:47:56.858 2019-S1;D;0;2018-10-25T07:31:48.000Z;3;\"\" [0];\"\" [0];---------;0\n. 2019-03-04 17:47:56.858 2019-S2;D;0;2018-10-25T07:31:48.000Z;3;\"\" [0];\"\" [0];---------;0\n. 2019-03-04 17:47:56.858 2020-S1;D;0;2018-10-25T07:31:48.000Z;3;\"\" [0];\"\" [0];---------;0\n. 2019-03-04 17:47:56.858 2020-S2;D;0;2018-10-25T07:31:48.000Z;3;\"\" [0];\"\" [0];---------;0\n. 2019-03-04 17:47:59.134 Changing directory to \"/RelatedDocumentUploads/aaa/bbb/ccc/ddd/RCJY.O5.K2/Supporting Document/2016-S2\".\n&gt; 2019-03-04 17:47:59.139 CWD /RelatedDocumentUploads/aaaa/bbbb/cccc/dddd/RCJY.O5.K2/Supporting Document/2016-S2\n&lt; 2019-03-04 17:47:59.627 250 CWD successful. \"/RelatedDocumentUploads/aaa/bbb/ccc/ddd/RCJY.O5.K2/Supporting Document/2016-S2\" is current directory.\n. 2019-03-04 17:47:59.627 Getting current directory name.\n&gt; 2019-03-04 17:47:59.628 PWD\n&lt; 2019-03-04 17:48:00.123 257 \"/RelatedDocumentUploads/aaaa/bbb/cccc/ddd/RCJY.O5.K2/Supporting Document/2016-S2\" is current directory.\n. 2019-03-04 17:48:00.124 Retrieving directory listing...\n&gt; 2019-03-04 17:48:00.124 TYPE A\n&lt; 2019-03-04 17:48:00.617 200 Type set to A\n&gt; 2019-03-04 17:48:00.618 PASV\n&lt; 2019-03-04 17:48:01.113 227 Entering Passive Mode (10,110,103,31,215,238)\n&gt; 2019-03-04 17:48:01.113 MLSD\n. 2019-03-04 17:48:01.113 Connecting to 10.110.103.31:55278 ...\n. 2019-03-04 17:48:02.095 Data connection closed\n&lt; 2019-03-04 17:48:02.096 150 Opening data channel for directory listing of \"/RelatedDocumentUploads/aaa/bbb/ccc/ddd/RCJY.O5.K2/Supporting Document/2016-S2\"\n&lt; 2019-03-04 17:48:02.096 226 Successfully transferred \"/RelatedDocumentUploads/aaa/bbb/ccc/ddd/RCJY.O5.K2/Supporting Document/2016-S2\"\n. 2019-03-04 17:48:02.096 &lt;Empty directory listing&gt;\n. 2019-03-04 17:48:02.096 Directory listing successful\n. 2019-03-04 17:48:02.096 ..;D;0;1899-12-30T02:00:00.000Z;0;\"\" [0];\"\" [0];---------;0\n. 2019-03-04 17:48:06.055 Cached directory change via \"/RelatedDocumentUploads/aaa/bbb/ccc/ddd/RCJY.O5.K2/Supporting Document/2017-S2\" to \"/RelatedDocumentUploads/Entities/RCJY/KPI/Documents/RCJY.O5.K2/Supporting Document/2017-S2\".\n. 2019-03-04 17:48:06.055 Getting current directory name.\n. 2019-03-04 17:48:06.061 Retrieving directory listing...\n&gt; 2019-03-04 17:48:06.061 CWD /RelatedDocumentUploads/aaa/bbb/ccc/dddd/RCJY.O5.K2/Supporting Document/2017-S2\n&lt; 2019-03-04 17:48:06.553 250 CWD successful. \"/RelatedDocumentUploads/aaa/bbb/ccc/ddd/RCJY.O5.K2/Supporting Document/2017-S2\" is current directory.\n&gt; 2019-03-04 17:48:06.553 PWD\n&lt; 2019-03-04 17:48:07.047 257 \"/RelatedDocumentUploads/aaa/bbb/ccc/ddd/RCJY.O5.K2/Supporting Document/2017-S2\" is current directory.\n&gt; 2019-03-04 17:48:07.048 TYPE A\n&lt; 2019-03-04 17:48:07.539 200 Type set to A\n&gt; 2019-03-04 17:48:07.539 PASV\n&lt; 2019-03-04 17:48:08.034 227 Entering Passive Mode (10,110,103,31,206,23)\n&gt; 2019-03-04 17:48:08.034 MLSD\n. 2019-03-04 17:48:08.034 Connecting to 10.110.103.31:52759 ...\n&lt; 2019-03-04 17:48:11.885 150 Opening data channel for directory listing of \"/RelatedDocumentUploads/aaa/bbb/ccc/ddd/RCJY.O5.K2/Supporting Document/2017-S2\"\n. 2019-03-04 17:48:11.885 Data connection closed\n. 2019-03-04 17:48:11.885 type=file;modify=20180116032646;size=56290; RCJY O5.K2 -D6(Q4) 2017-Doc 1.JPG\n. 2019-03-04 17:48:11.885 type=file;modify=20180116032658;size=304601; RCJY O5.K2 -D6(Q4) 2017-Doc 2.pdf\n. 2019-03-04 17:48:11.885 type=dir;modify=20190224134558; Ø§Ù„Ø¬Ø¨ÙŠÙ„ ÙˆØ±Ø£Ø³ Ø§Ù„Ø®ÙŠØ±\n. 2019-03-04 17:48:11.886 type=file;modify=20180118145415;size=1223036; ØªÙ‚Ø±ÙŠØ± Ø§Ù„Ø±Ø¨Ø¹ Ø§Ù„Ø±Ø§Ø¨Ø¹ Ù„Ù…Ø¤Ø´Ø±Ø§Øª Ø§Ù„Ù‡ÙŠØ¦Ø© Ø§Ù„Ù…Ù„ÙƒÙŠØ© Ù„Ù„Ø¬Ø¨ÙŠÙ„ ÙˆÙŠÙ†Ø¨Ø¹ 2017 (006)senton(18-01-2017).pdf\n&lt; 2019-03-04 17:48:11.886 226 Successfully transferred \"/RelatedDocumentUploads/aaa/bbb/ccc/ddd/RCJY.O5.K2/Supporting Document/2017-S2\"\n. 2019-03-04 17:48:11.886 Directory listing successful\n. 2019-03-04 17:48:11.886 ..;D;0;1899-12-30T02:00:00.000Z;0;\"\" [0];\"\" [0];---------;0\n. 2019-03-04 17:48:11.886 RCJY O5.K2 -D6(Q4) 2017-Doc 1.JPG;-;56290;2018-01-16T03:26:46.000Z;3;\"\" [0];\"\" [0];---------;0\n. 2019-03-04 17:48:11.886 RCJY O5.K2 -D6(Q4) 2017-Doc 2.pdf;-;304601;2018-01-16T03:26:58.000Z;3;\"\" [0];\"\" [0];---------;0\n. 2019-03-04 17:48:11.886 علم علم علم علم;D;0;2019-02-24T13:45:58.000Z;3;\"\" [0];\"\" [0];---------;0\n. 2019-03-04 17:48:11.887 التقرير التقرير التقرير التقرير القريري2017 (006)senton(18-01-2017).pdf;-;1223036;2018-01-18T14:54:15.000Z;3;\"\" [0];\"\" [0];---------;0\n. 2019-03-04 17:48:20.443 Copying 1 files/directories to local directory \"C:\\Users\\yser\\Documents\\\" - total size: 1,223,036\n. 2019-03-04 17:48:20.443   PrTime: Yes; PrRO: No; Rght: rw-r--r--; PrR: No (No); FnCs: N; RIC: 0100; Resume: S (102400); CalcS: Yes; Mask: *.*\n. 2019-03-04 17:48:20.443   TM: B; ClAr: No; RemEOF: No; RemBOM: No; CPS: 0; NewerOnly: No; InclM: ; ResumeL: 0\n. 2019-03-04 17:48:20.443   AscM: *.*html; *.htm; *.txt; *.php; *.php3; *.cgi; *.c; *.cpp; *.h; *.pas; *.bas; *.tex; *.pl; *.js; .htaccess; *.xtml; *.css; *.cfg; *.ini; *.sh; *.xml\n. 2019-03-04 17:48:20.443 File: '/RelatedDocumentUploads/Entities/RCJY/KPI/Documents/RCJY.O5.K2/Supporting Document/2017-S2/تقرير تقرير تقرير تقرير2017 (006)senton(18-01-2017).pdf' [2018-01-18T14:54:15.000Z] [1223036]\n. 2019-03-04 17:48:20.447 Copying \"/RelatedDocumentUploads/aaa/bbb/ccc/dddd/RCJY.O5.K2/Supporting Document/2017-S2/تقرير تقرير تقرير تقرير 2017 (006)senton(18-01-2017).pdf\" to local directory started.\n. 2019-03-04 17:48:20.448 Binary transfer mode selected.\n. 2019-03-04 17:48:20.448 Starting download of /RelatedDocumentUploads/Entities/RCJY/KPI/Documents/RCJY.O5.K2/Supporting Document/2017-S2/تقرير تقرير تقرير تقرير تقرير 2017 (006)senton(18-01-2017).pdf\n. 2019-03-04 17:48:20.449 Asking user:\n. 2019-03-04 17:48:20.449 **Overwrite local file 'تقرير تقرير تقرير تقرير تقرير 2017 (006)senton(18-01-2017).pdf'?**\n. 2019-03-04 17:48:20.449 \n. 2019-03-04 17:48:20.449 Destination directory already contains file 'تقرير تقرير تقرير تقرير تقرير2017 (006)senton(18-01-2017).pdf'.\n. 2019-03-04 17:48:20.449 Choose, if you want to overwrite the file or skip this transfer and keep existing file.\n. 2019-03-04 17:48:20.449  \n. 2019-03-04 17:48:20.449 New:          1,223,036 bytes, 1/18/2018 4:54:15 PM\n. 2019-03-04 17:48:20.449 Existing:     1,223,036 bytes, 1/18/2018 4:54:15 PM ()\n&gt; 2019-03-04 17:48:21.721 TYPE I\n&lt; 2019-03-04 17:48:22.207 200 Type set to I\n&gt; 2019-03-04 17:48:22.207 PASV\n&lt; 2019-03-04 17:48:22.702 227 Entering Passive Mode (10,110,103,31,236,137)\n&gt; 2019-03-04 17:48:22.712 RETR تقرير تقرير تقرير تقرير 2017 (006)senton(18-01-2017).pdf\n. 2019-03-04 17:48:22.712 Connecting to 10.110.103.31:60553 ...\n&lt; 2019-03-04 17:48:24.082 150 Opening data channel for file download from server of \"/RelatedDocumentUploads/Entities/RCJY/KPI/Documents/RCJY.O5.K2/Supporting Document/2017-S2/تقرير تقرير تقرير تقرير تقرير تقرير 2017 (006)senton(18-01-2017).pdf\"\n. 2019-03-04 17:48:30.748 Data connection closed\n&lt; 2019-03-04 17:48:30.748 226 Successfully transferred \"/RelatedDocumentUploads/Entities/RCJY/KPI/Documents/RCJY.O5.K2/Supporting Document/2017-S2/تقرير تقرير تقرير تقرير تقرير تقرير 2017 (006)senton(18-01-2017).pdf\"\n. 2019-03-04 17:48:30.748 Preserving timestamp [2018-01-18T14:54:15.000Z]\n. 2019-03-04 17:48:30.750 Download successful\n. 2019-03-04 17:48:30.750 Transfer done: '/RelatedDocumentUploads/Entities/RCJY/KPI/Documents/RCJY.O5.K2/Supporting Document/2017-S2/تقرير تقرير تقرير تقرير تقرير تقرير 2017 (006)senton(18-01-2017).pdf' =&gt; 'C:\\Users\\osmohame\\Documents\\تقرير تقرير تقرير تقرير تقرير 2017 (006)senton(18-01-2017).pdf' [1223036]\n. 2019-03-04 17:48:30.766 Copying finished: Transferred: 1,223,036, Elapsed: 0:00:10, CPS: 182,733/s\n. 2019-03-04 17:48:37.731 Disconnected from server\n</code></pre>\n\n<p>And this is the code that initializes the connection to the FTP server:</p>\n\n<pre><code>logger.info(\"Creating the ftp connection using the details\");\nString ftpServerAddress = wccInstanceDetails.get(\"ftpServer\");\nString ftpPort = wccInstanceDetails.get(\"ftpPort\");\nString ftpUserName = wccInstanceDetails.get(\"ftpUser\");\nString ftpPassword = wccInstanceDetails.get(\"ftppassword\");\nFTPClient ftpClient = new FTPClient();\ntry {\n    //added here\n    ftpClient.setAutodetectUTF8(true);\n\n    ftpClient.connect(ftpServerAddress, Integer.parseInt(ftpPort));\n    ftpClient.login(ftpUserName, ftpPassword);\n    ftpClient.enterLocalPassiveMode();\n    ftpClient.setFileType(FTP.ASCII_FILE_TYPE);\n} catch (IOException ex) {\n    logger.error(\"Error occurs while creating the FTP connection : \" + ex.getMessage());\n}\nreturn ftpClient;\n</code></pre>\n\n<hr>\n\n<p>After adding the <code>setautodetectUTF(true)</code>, the output is changed, but the file is downloaded corrupted:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>2019-03-04 16:05:10 INFO  FtpConnection:17 - Creating the ftp connection using the details\n2019-03-04 16:05:10 INFO  FtpConnection:19 - 10.110.103.31\n2019-03-04 16:05:10 INFO  FtpConnection:21 - 21\n2019-03-04 16:05:10 INFO  FtpConnection:38 - true\n220-FileZilla Server 0.9.60 beta\n220-\n220 EMP FTP\nFEAT\n211-Features:\n MDTM\n REST STREAM\n SIZE\n MLST type*;size*;modify*;\n MLSD\n UTF8\n CLNT\n MFMT\n EPSV\n EPRT\n211 End\nUSER *******\n331 Password required for epmftp\nPASS *******\n230 Logged on\nTYPE A\n200 Type set to A\nPASV\n227 Entering Passive Mode (10,110,103,31,224,65)\nRETR /RelatedDocumentUploads\\Entities\\RCJY\\KPI\\Documents\\RCJY.O5.K2\\Supporting Document\\2017-S2\\تقرير تقرير تقرير تقرير تقرير تقرير تقرير 2017 (006)senton(18-01-2017).pdf\n150 Opening data channel for file download from server of \"/RelatedDocumentUploads/Entities/RCJY/KPI/Documents/RCJY.O5.K2/Supporting Document/2017-S2/تقرير تقرير تقرير تقرير تقرير تقرير 2017 (006)senton(18-01-2017).pdf\"\n226 Successfully transferred \"/RelatedDocumentUploads/Entities/RCJY/KPI/Documents/RCJY.O5.K2/Supporting Document/2017-S2/تقرير الربع الرابع لمؤشرات تقرير تقرير تقرير (006)senton(18-01-2017).pdf\"\n</code></pre>\n"},{"tags":["java","amazon-s3","lifecycle"],"owner":{"account_id":22215405,"reputation":1,"user_id":16453929,"display_name":"Vinayak Prabhutendolkar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697777669,"creation_date":1697777483,"question_id":77328397,"body_markdown":"how to abort all incomplete multipart uploads for a bucket\r\n\r\nSo, as a context, I am using an AmazinS3 client with multipart upload to the upload files under a directory every day. Now want to add a bucketLifecycle policy to abort failed multipart uploads.\r\n\r\nI have tried to do the same with the below piece of code but it throws an error saying &quot;abortincompletemultipartupload rules are not supported.&quot; \r\n\r\nAlso, I cannot add a lifecycle policy through CLI or any command. Need to handle through code only\r\n```\r\nAbortIncompleteMultipartUplaod abort = new AbortIncompleteMultipartUplaod();\r\nabort.setDaysAfterInitialtion(1);\r\n\r\nBucketLifecycleConfiguration.Rule rule1 = new BucketLifecycleConfiguration.Rule()\r\n                .withId(&quot;delete failed uplaod&quot;)\r\n                .withPrefix(&quot;&quot;)\r\n                .withStatus(BucketLifecycleConfiguration.ENABLED)\r\n                .withAbortIncompleteMultipartUpload(abort);\r\n\r\nBucketLifecycleConfiguration configuration = new BucketLifecycleConfiguration()\r\n                .withRules(Arrays.asList(rule1));\r\n\r\n//creation of S3 client\r\n\r\ns3Client.setBucketLifecycleConfiguration(bucketName, configuration);\r\n\r\n```\r\n","title":"how to abort all incomplete multipart uploads for a bucket in SDK : java","body":"<p>how to abort all incomplete multipart uploads for a bucket</p>\n<p>So, as a context, I am using an AmazinS3 client with multipart upload to the upload files under a directory every day. Now want to add a bucketLifecycle policy to abort failed multipart uploads.</p>\n<p>I have tried to do the same with the below piece of code but it throws an error saying &quot;abortincompletemultipartupload rules are not supported.&quot;</p>\n<p>Also, I cannot add a lifecycle policy through CLI or any command. Need to handle through code only</p>\n<pre><code>AbortIncompleteMultipartUplaod abort = new AbortIncompleteMultipartUplaod();\nabort.setDaysAfterInitialtion(1);\n\nBucketLifecycleConfiguration.Rule rule1 = new BucketLifecycleConfiguration.Rule()\n                .withId(&quot;delete failed uplaod&quot;)\n                .withPrefix(&quot;&quot;)\n                .withStatus(BucketLifecycleConfiguration.ENABLED)\n                .withAbortIncompleteMultipartUpload(abort);\n\nBucketLifecycleConfiguration configuration = new BucketLifecycleConfiguration()\n                .withRules(Arrays.asList(rule1));\n\n//creation of S3 client\n\ns3Client.setBucketLifecycleConfiguration(bucketName, configuration);\n\n</code></pre>\n"},{"tags":["java","python","regex"],"comments":[{"owner":{"account_id":4728704,"reputation":17032,"user_id":3824919,"display_name":"Tom"},"score":0,"creation_date":1464807756,"post_id":37576721,"comment_id":62640562,"body_markdown":"Why do you want to ignore lines like `String blub = &quot;...&quot;; // this blub means something`?","body":"Why do you want to ignore lines like <code>String blub = &quot;...&quot;; &#47;&#47; this blub means something</code>?"},{"owner":{"account_id":6614711,"reputation":29121,"user_id":5108418,"accept_rate":72,"display_name":"Tamas Hegedus"},"score":2,"creation_date":1464807863,"post_id":37576721,"comment_id":62640605,"body_markdown":"Where do you have that url that is matched? That is indeed a comment if pasted in a Java source. The solution is not to restrict comments to the beginning of the file, but to do proper parsing. In some rare cases it can be sufficient to only handle this special case, but it looks like your case is rather complex, with urls and stuff. Could you please clarify the requirements?","body":"Where do you have that url that is matched? That is indeed a comment if pasted in a Java source. The solution is not to restrict comments to the beginning of the file, but to do proper parsing. In some rare cases it can be sufficient to only handle this special case, but it looks like your case is rather complex, with urls and stuff. Could you please clarify the requirements?"},{"owner":{"account_id":1223835,"reputation":75878,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":0,"creation_date":1464808120,"post_id":37576721,"comment_id":62640725,"body_markdown":"&quot;Chop down a tree using screwdriver&quot;","body":"&quot;Chop down a tree using screwdriver&quot;"},{"owner":{"account_id":5663170,"reputation":89,"user_id":4480167,"accept_rate":74,"display_name":"stumped221"},"score":0,"creation_date":1464808441,"post_id":37576721,"comment_id":62640875,"body_markdown":"I&#39;m open to suggestions.. but I think we can all agree that &quot;http://regexr.com/foo.html?q=bar&quot; is NOT a valid Java comment?","body":"I&#39;m open to suggestions.. but I think we can all agree that &quot;<a href=\"http://regexr.com/foo.html?q=bar\" rel=\"nofollow noreferrer\">regexr.com/foo.html?q=bar</a>&quot; is NOT a valid Java comment?"},{"owner":{"account_id":5663170,"reputation":89,"user_id":4480167,"accept_rate":74,"display_name":"stumped221"},"score":0,"creation_date":1464808773,"post_id":37576721,"comment_id":62641035,"body_markdown":"Tamas Hegedus I have a huge pile of unstructured data.  It could literally be anything.. but I need to do the best I can at getting all the java comments out of the text.","body":"Tamas Hegedus I have a huge pile of unstructured data.  It could literally be anything.. but I need to do the best I can at getting all the java comments out of the text."},{"owner":{"account_id":3068514,"reputation":3740,"user_id":2599709,"accept_rate":69,"display_name":"Chrispresso"},"score":0,"creation_date":1464809913,"post_id":37576721,"comment_id":62641642,"body_markdown":"@stumped221 `((?:/\\*.*?\\*/)|(?:\\s*//.*(?:\\n)?))` This works for the most part, but for the urls such as `http://google.com` it would match `google.com` as a comment, how would you like to handle that?. I&#39;m making the assumption that `single line comments` can come at the end of the line, if this is not expected let me know and I&#39;ll change that and it will work","body":"@stumped221 <code>((?:&#47;\\*.*?\\*&#47;)|(?:\\s*&#47;&#47;.*(?:\\n)?))</code> This works for the most part, but for the urls such as <code>http:&#47;&#47;google.com</code> it would match <code>google.com</code> as a comment, how would you like to handle that?. I&#39;m making the assumption that <code>single line comments</code> can come at the end of the line, if this is not expected let me know and I&#39;ll change that and it will work"},{"owner":{"account_id":20937,"reputation":167576,"user_id":50476,"accept_rate":100,"display_name":"Bart Kiers"},"score":1,"creation_date":1464810681,"post_id":37576721,"comment_id":62642054,"body_markdown":"Doing this reliably is not possible with a single regex.","body":"Doing this reliably is not possible with a single regex."}],"answers":[{"comments":[{"owner":{"account_id":20937,"reputation":167576,"user_id":50476,"accept_rate":100,"display_name":"Bart Kiers"},"score":1,"creation_date":1464810474,"post_id":37577433,"comment_id":62641936,"body_markdown":"Word of caution for the OP: the above will catch most comments, but will not work as expected when string literals contain escaped quotes, and when there are char literals like this: `char c = &#39;&quot;&#39; /*&quot;*/ ;`  (the comment `/*&quot;*/` is not matched). These are 2 of the things that caught my eye, I&#39;m sure there are more corner cases.","body":"Word of caution for the OP: the above will catch most comments, but will not work as expected when string literals contain escaped quotes, and when there are char literals like this: <code>char c = &#39;&quot;&#39; &#47;*&quot;*&#47; ;</code>  (the comment <code>&#47;*&quot;*&#47;</code> is not matched). These are 2 of the things that caught my eye, I&#39;m sure there are more corner cases."},{"owner":{"account_id":5663170,"reputation":89,"user_id":4480167,"accept_rate":74,"display_name":"stumped221"},"score":0,"creation_date":1464810541,"post_id":37577433,"comment_id":62641977,"body_markdown":"Yeah.. it doesn&#39;t match block comments :(","body":"Yeah.. it doesn&#39;t match block comments :("},{"owner":{"account_id":1265583,"reputation":40647,"user_id":1222951,"accept_rate":88,"display_name":"Aran-Fey"},"score":0,"creation_date":1464813198,"post_id":37577433,"comment_id":62643370,"body_markdown":"@BartKiers Thanks for bringing that to my attention, it should work now.","body":"@BartKiers Thanks for bringing that to my attention, it should work now."},{"owner":{"account_id":4831287,"reputation":11388,"user_id":3899431,"display_name":"Luis Colorado"},"score":0,"creation_date":1464868509,"post_id":37577433,"comment_id":62666987,"body_markdown":"@Rawing, Sorry, just check your demo doesn&#39;t recognize a comment after a comment (in the same line) or `// bla bla */ also fails`.  See https://regex101.com/r/cQ8kX9/4","body":"@Rawing, Sorry, just check your demo doesn&#39;t recognize a comment after a comment (in the same line) or <code>&#47;&#47; bla bla *&#47; also fails</code>.  See <a href=\"https://regex101.com/r/cQ8kX9/4\" rel=\"nofollow noreferrer\">regex101.com/r/cQ8kX9/4</a>"}],"tags":[],"owner":{"account_id":1265583,"reputation":40647,"user_id":1222951,"accept_rate":88,"display_name":"Aran-Fey"},"comment_count":4,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1464870051,"creation_date":1464810055,"answer_id":37577433,"question_id":37576721,"body_markdown":"You can try this pattern:\r\n\r\n    (?ms)^[^&#39;&quot;\\n]*?(?:(?:&quot;(?:\\\\.|[^&quot;])*&quot;|&#39;\\\\?.&#39;)[^&#39;&quot;\\n]*?)*((?:(?://[^\\n]*|/\\*.*?\\*/)[ \\t]*)+)\r\n\r\nThis captures comments in group 1, but only if the comment is not inside a string. [Demo.](https://regex101.com/r/cQ8kX9/6)\r\n\r\n\r\n----------\r\n\r\nBreakdown:\r\n\r\n    (?ms)                 multiline flag, makes ^ match at the start of a line\r\n                          singleline flag makes . match newlines\r\n    ^                     start of line\r\n    [^&#39;&quot;\\n]*?             match anything but &quot; or &#39; or newline\r\n    (?:                   then, any number strings:\r\n        (?:\r\n            &quot;             start with a quote...\r\n            (?:           ...followed by any number of...\r\n                \\\\.       ...a backslash and the escaped character\r\n            |             or\r\n                [^&quot;]      any character other than &quot;\r\n            )*\r\n            &quot;             ...and finally the closing quote\r\n        |                 or...\r\n            &#39;\\\\?.&#39;        a single character in single quotes, possibly escaped\r\n        )\r\n        [^&#39;&quot;\\n]*?         and everything up to the next string or newline\r\n    )*\r\n    (                     finally, capture (any number of) comments:\r\n        (?:\r\n            (?:           either...\r\n                //[^\\n]*  a single line comment\r\n            |             or\r\n                /\\*.*?\\*/ a multiline comment\r\n            )\r\n            [ \\t]*        and any subsequent comments if only separated by whitespace\r\n        )+\r\n    )","title":"Find java comments (multi and single line) using regex","body":"<p>You can try this pattern:</p>\n\n<pre><code>(?ms)^[^'\"\\n]*?(?:(?:\"(?:\\\\.|[^\"])*\"|'\\\\?.')[^'\"\\n]*?)*((?:(?://[^\\n]*|/\\*.*?\\*/)[ \\t]*)+)\n</code></pre>\n\n<p>This captures comments in group 1, but only if the comment is not inside a string. <a href=\"https://regex101.com/r/cQ8kX9/6\" rel=\"nofollow\">Demo.</a></p>\n\n<hr>\n\n<p>Breakdown:</p>\n\n<pre><code>(?ms)                 multiline flag, makes ^ match at the start of a line\n                      singleline flag makes . match newlines\n^                     start of line\n[^'\"\\n]*?             match anything but \" or ' or newline\n(?:                   then, any number strings:\n    (?:\n        \"             start with a quote...\n        (?:           ...followed by any number of...\n            \\\\.       ...a backslash and the escaped character\n        |             or\n            [^\"]      any character other than \"\n        )*\n        \"             ...and finally the closing quote\n    |                 or...\n        '\\\\?.'        a single character in single quotes, possibly escaped\n    )\n    [^'\"\\n]*?         and everything up to the next string or newline\n)*\n(                     finally, capture (any number of) comments:\n    (?:\n        (?:           either...\n            //[^\\n]*  a single line comment\n        |             or\n            /\\*.*?\\*/ a multiline comment\n        )\n        [ \\t]*        and any subsequent comments if only separated by whitespace\n    )+\n)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4831287,"reputation":11388,"user_id":3899431,"display_name":"Luis Colorado"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1464869006,"creation_date":1464868281,"answer_id":37591082,"question_id":37576721,"body_markdown":"The regex you are looking for is one that allows the comment beginning (`//` or `/*`) to appear anywhere except in each of the regexps that result in tokens that can contain those substrings inside.  If you look at the [lexical structure of java language][1], you&#39;ll see that the only lexical element that can contain a `//` or a `/*` inside is the string literal, so to match a comment inside a string you have to match all the string (for not having a string literal **before** your match that happens to begin a string literal --- and contain your comment inside)\n\nSo, the string _before_ your comment should be composed of any valid string that don&#39;t begin a string literal (without ending) and so, it can be rounded by any number of string literals with any string that doesn&#39;t form a string literal in between.  If you consider a string literal, it should be matched by the following:\n\n    \\&quot;()*\\&quot;\n\nand the inside of the parenthesis must be filled with something that cannot be a `\\n`, a single `&quot;`, a single `\\`, and also not a unicode literal `\\uxxxx` that results in a valid `&quot;` (java forbids to use normal java characters to be encoded as unicode sequences, so this last case doesn&#39;t apply) but can be a escaped `\\\\` or a escaped `\\&quot;`, so this leads to\n\n    \\&quot;([^\\\\\\&quot;\\n]|\\\\.)*\\&quot;\n\nand this can be repeated any number of times optionaly, and preceded of any character not being a `&quot;` (that should begin the last part considered):\n\n    ([^\\\\&quot;](\\&quot;([^\\\\\\&quot;\\n]|\\\\.)*\\&quot;)?)*\n\nwell, the previous part to our valid string should be matched by this string, and then comes the comment string, it can be any of two forms:\n\n    \\/\\/[^\\n]*$\n\nor\n\n    /\\*([^\\*]|\\*[^\\/])*\\*\\/\n\n(this is, a slash, an asterisk (escaped), and any number of things that can be: either something different than a `*` or `*` followed by something not a `/`, to finally reach a `*/` sequence)\n\nThese can be grouped in an alternative group, as in:\n\n    (\\/\\/[^\\n]*\\n|\\/\\*([^\\*]|\\*[^\\/])*\\*\\/)\n\nfinally, our expression shows:\n\n    ^([^\\\\&quot;](\\&quot;([^\\\\\\&quot;\\n]|\\\\.)*\\&quot;)?)*(\\/\\/[^\\n]*|\\/\\*([^\\*]|\\*[^/])*\\*\\/)\n\nBut you should be careful that your matched comment begins not at the beginning, but in the 4th group (in the mark of the 4th left parenthesis) and the regexp should match the string from the beginning, see [demo][2]\n\n# Note\n\nThink you are matching not only the comment, but the text before.  This makes the result match to be composed of what is before the matching you want and the matched.  Also think that if you try this regexp with several comments in sequence, it will match only the last, as we have not covered the case of a  `/* ... /* .... */` sequence (the comment is also something that can be embedded into a comment, but considering also this case will make you hate regexps forever.  The correct way to cope with this problem is to write a `lex/flex` specification to get the java tokens and you&#39;ll only get them, but this is out of scope in this explanation.  See an probably valid example [here][3].\n\n\n  [1]: https://docs.oracle.com/javase/specs/jls/se7/html/jls-3.html\n  [2]: https://regex101.com/r/gV3uM4/1\n  [3]: https://regex101.com/r/gV3uM4/3","title":"Find java comments (multi and single line) using regex","body":"<p>The regex you are looking for is one that allows the comment beginning (<code>//</code> or <code>/*</code>) to appear anywhere except in each of the regexps that result in tokens that can contain those substrings inside.  If you look at the <a href=\"https://docs.oracle.com/javase/specs/jls/se7/html/jls-3.html\" rel=\"nofollow noreferrer\">lexical structure of java language</a>, you'll see that the only lexical element that can contain a <code>//</code> or a <code>/*</code> inside is the string literal, so to match a comment inside a string you have to match all the string (for not having a string literal <strong>before</strong> your match that happens to begin a string literal --- and contain your comment inside)</p>\n<p>So, the string <em>before</em> your comment should be composed of any valid string that don't begin a string literal (without ending) and so, it can be rounded by any number of string literals with any string that doesn't form a string literal in between.  If you consider a string literal, it should be matched by the following:</p>\n<pre><code>\\&quot;()*\\&quot;\n</code></pre>\n<p>and the inside of the parenthesis must be filled with something that cannot be a <code>\\n</code>, a single <code>&quot;</code>, a single <code>\\</code>, and also not a unicode literal <code>\\uxxxx</code> that results in a valid <code>&quot;</code> (java forbids to use normal java characters to be encoded as unicode sequences, so this last case doesn't apply) but can be a escaped <code>\\\\</code> or a escaped <code>\\&quot;</code>, so this leads to</p>\n<pre><code>\\&quot;([^\\\\\\&quot;\\n]|\\\\.)*\\&quot;\n</code></pre>\n<p>and this can be repeated any number of times optionaly, and preceded of any character not being a <code>&quot;</code> (that should begin the last part considered):</p>\n<pre><code>([^\\\\&quot;](\\&quot;([^\\\\\\&quot;\\n]|\\\\.)*\\&quot;)?)*\n</code></pre>\n<p>well, the previous part to our valid string should be matched by this string, and then comes the comment string, it can be any of two forms:</p>\n<pre><code>\\/\\/[^\\n]*$\n</code></pre>\n<p>or</p>\n<pre><code>/\\*([^\\*]|\\*[^\\/])*\\*\\/\n</code></pre>\n<p>(this is, a slash, an asterisk (escaped), and any number of things that can be: either something different than a <code>*</code> or <code>*</code> followed by something not a <code>/</code>, to finally reach a <code>*/</code> sequence)</p>\n<p>These can be grouped in an alternative group, as in:</p>\n<pre><code>(\\/\\/[^\\n]*\\n|\\/\\*([^\\*]|\\*[^\\/])*\\*\\/)\n</code></pre>\n<p>finally, our expression shows:</p>\n<pre><code>^([^\\\\&quot;](\\&quot;([^\\\\\\&quot;\\n]|\\\\.)*\\&quot;)?)*(\\/\\/[^\\n]*|\\/\\*([^\\*]|\\*[^/])*\\*\\/)\n</code></pre>\n<p>But you should be careful that your matched comment begins not at the beginning, but in the 4th group (in the mark of the 4th left parenthesis) and the regexp should match the string from the beginning, see <a href=\"https://regex101.com/r/gV3uM4/1\" rel=\"nofollow noreferrer\">demo</a></p>\n<h1>Note</h1>\n<p>Think you are matching not only the comment, but the text before.  This makes the result match to be composed of what is before the matching you want and the matched.  Also think that if you try this regexp with several comments in sequence, it will match only the last, as we have not covered the case of a  <code>/* ... /* .... */</code> sequence (the comment is also something that can be embedded into a comment, but considering also this case will make you hate regexps forever.  The correct way to cope with this problem is to write a <code>lex/flex</code> specification to get the java tokens and you'll only get them, but this is out of scope in this explanation.  See an probably valid example <a href=\"https://regex101.com/r/gV3uM4/3\" rel=\"nofollow noreferrer\">here</a>.</p>\n"},{"tags":[],"owner":{"account_id":965009,"reputation":3109,"user_id":988591,"accept_rate":70,"display_name":"red-o-alf"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697777299,"creation_date":1697775600,"answer_id":77328313,"question_id":37576721,"body_markdown":"## REGEXP FOR SINGLE &amp; MULTI-LINE COMMENTS ( JS / C / C# / JAVA / etc... )\r\n### Tested in VS Codium and at https://regex101.com\r\n\r\n    \\/\\*[\\s\\S\\n]*?\\*\\/|\\/\\/.*$\r\n\r\n  \r\n#### This will correctly match:\r\n\r\n\r\n      // single line comments\r\n\r\n      /**\r\n       * multi\r\n       * line\r\n       * comments\r\n       * // including nested inline comments \r\n       * and without tripping on URL slashes (https://www.example.com)\r\n       */\r\n\r\n      /* single line comments written using multi-line delimiters */\r\n\r\n      // /* single line comments written using MLDs and within a regular single line comment */\r\n\r\n\r\n##### It can also be useful to prefix the regexp with two additional ` *` (one at the beginning and one after the | ) which will also select all horizontal white-spaces preceding both single and multi-line comments:\r\n\r\n     *\\/\\*[\\s\\S\\n]*?\\*\\/| *\\/\\/.*$\r\n\r\n    will_select_this_area_as_well_together_with // the content of a deeply nested comment\r\n\r\n  This can come handy when you have to do some external work on the comments (e.g. translating them). By copying the spaces too, when you&#39;ll paste the comments back in the code you can be sure they&#39;ll slide back into their original position (column-wise).\r\n  \r\n  That said, in order to avoid errors and make those additional sections more clear, it should be also possible to rewrite it using `[[:space:]]*` like so:\r\n\r\n    [[:space:]]*\\/\\*[\\s\\S\\n]*?\\*\\/|[[:space:]]*\\/\\/.*$\r\n\r\n  however it seems that unfortunately VS Code/Codium do not support this syntax yet, so I&#39;m sticking with the ` *` form.\r\n\r\n  Hope it helps!\r\n\r\n###### Note: if you are testing this on https://regex101.com/ make sure to set the `g` and `m` flags using the switch located after the &quot;hard coded&quot; `/` at the end of the expression. \r\n","title":"Find java comments (multi and single line) using regex","body":"<h2>REGEXP FOR SINGLE &amp; MULTI-LINE COMMENTS ( JS / C / C# / JAVA / etc... )</h2>\n<h3>Tested in VS Codium and at <a href=\"https://regex101.com\" rel=\"nofollow noreferrer\">https://regex101.com</a></h3>\n<pre><code>\\/\\*[\\s\\S\\n]*?\\*\\/|\\/\\/.*$\n</code></pre>\n<h4>This will correctly match:</h4>\n<pre><code>  // single line comments\n\n  /**\n   * multi\n   * line\n   * comments\n   * // including nested inline comments \n   * and without tripping on URL slashes (https://www.example.com)\n   */\n\n  /* single line comments written using multi-line delimiters */\n\n  // /* single line comments written using MLDs and within a regular single line comment */\n</code></pre>\n<h5>It can also be useful to prefix the regexp with two additional <code> *</code> (one at the beginning and one after the | ) which will also select all horizontal white-spaces preceding both single and multi-line comments:</h5>\n<pre><code> *\\/\\*[\\s\\S\\n]*?\\*\\/| *\\/\\/.*$\n\nwill_select_this_area_as_well_together_with // the content of a deeply nested comment\n</code></pre>\n<p>This can come handy when you have to do some external work on the comments (e.g. translating them). By copying the spaces too, when you'll paste the comments back in the code you can be sure they'll slide back into their original position (column-wise).</p>\n<p>That said, in order to avoid errors and make those additional sections more clear, it should be also possible to rewrite it using <code>[[:space:]]*</code> like so:</p>\n<pre><code>[[:space:]]*\\/\\*[\\s\\S\\n]*?\\*\\/|[[:space:]]*\\/\\/.*$\n</code></pre>\n<p>however it seems that unfortunately VS Code/Codium do not support this syntax yet, so I'm sticking with the <code> *</code> form.</p>\n<p>Hope it helps!</p>\n<h6>Note: if you are testing this on <a href=\"https://regex101.com/\" rel=\"nofollow noreferrer\">https://regex101.com/</a> make sure to set the <code>g</code> and <code>m</code> flags using the switch located after the &quot;hard coded&quot; <code>/</code> at the end of the expression.</h6>\n"}],"owner":{"account_id":5663170,"reputation":89,"user_id":4480167,"accept_rate":74,"display_name":"stumped221"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":464,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1697777299,"creation_date":1464807467,"question_id":37576721,"body_markdown":"I found the following regex online at http://regexlib.com/\r\n\r\n    (\\/\\*(\\s*|.*?)*\\*\\/)|(\\/\\/.*)\r\n\r\nIt seems to work well for the following matches:\r\n\r\n    // Compute the exam average score for the midterm exam\r\n    \r\n    /**\r\n    * The HelloWorld program implements an application that\r\n    */\r\n\r\nBUT it also tends to match \r\n\r\n    http://regexr.com/foo.html?q=bar\r\n\r\nat least starting at the `//`\r\n\r\nI&#39;m new to regex and a total infant, but I read that if you put a caret at the beginning it forces the match to start at the beginning of the line, however this doesn&#39;t seem to work on RegExr.  \r\n\r\nI&#39;m using the following:\r\n\r\n    ^(\\/\\*(\\s*|.*?)*\\*\\/)|(\\/\\/.*)$\r\n","title":"Find java comments (multi and single line) using regex","body":"<p>I found the following regex online at <a href=\"http://regexlib.com/\" rel=\"nofollow\">http://regexlib.com/</a></p>\n\n<pre><code>(\\/\\*(\\s*|.*?)*\\*\\/)|(\\/\\/.*)\n</code></pre>\n\n<p>It seems to work well for the following matches:</p>\n\n<pre><code>// Compute the exam average score for the midterm exam\n\n/**\n* The HelloWorld program implements an application that\n*/\n</code></pre>\n\n<p>BUT it also tends to match </p>\n\n<pre><code>http://regexr.com/foo.html?q=bar\n</code></pre>\n\n<p>at least starting at the <code>//</code></p>\n\n<p>I'm new to regex and a total infant, but I read that if you put a caret at the beginning it forces the match to start at the beginning of the line, however this doesn't seem to work on RegExr.  </p>\n\n<p>I'm using the following:</p>\n\n<pre><code>^(\\/\\*(\\s*|.*?)*\\*\\/)|(\\/\\/.*)$\n</code></pre>\n"},{"tags":["java","math"],"comments":[{"owner":{"account_id":28104689,"reputation":512,"user_id":21473475,"display_name":"Arfur Narf"},"score":4,"creation_date":1697768169,"post_id":77327972,"comment_id":136324251,"body_markdown":"Not sure why you apparently think &#39;get(0.5)&#39; will return the only entry, whose key is 1.0.  Floating point may be imprecise, but not **that** imprecise!","body":"Not sure why you apparently think &#39;get(0.5)&#39; will return the only entry, whose key is 1.0.  Floating point may be imprecise, but not <b>that</b> imprecise!"},{"owner":{"account_id":28104689,"reputation":512,"user_id":21473475,"display_name":"Arfur Narf"},"score":1,"creation_date":1697768395,"post_id":77327972,"comment_id":136324277,"body_markdown":"But maybe a NavigableMap would do the job for you. You can use floorEntry and/or ceilingEntry, and then decide if the key is &#39;close enough&#39;.","body":"But maybe a NavigableMap would do the job for you. You can use floorEntry and/or ceilingEntry, and then decide if the key is &#39;close enough&#39;."},{"owner":{"account_id":25013336,"reputation":45,"user_id":19228365,"display_name":"John Smith"},"score":0,"creation_date":1697768396,"post_id":77327972,"comment_id":136324278,"body_markdown":"Whoops typo, but I have gotten null in my program with the right value, and I&#39;ve read that it&#39;s not a good idea for the reasons mentioned.","body":"Whoops typo, but I have gotten null in my program with the right value, and I&#39;ve read that it&#39;s not a good idea for the reasons mentioned."},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1697768710,"post_id":77327972,"comment_id":136324294,"body_markdown":"You could try rounding the key to *n* decimals before lookup. Or search the map. Or use BigDecimal. It really depends on what your requirements are.","body":"You could try rounding the key to <i>n</i> decimals before lookup. Or search the map. Or use BigDecimal. It really depends on what your requirements are."},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1697768779,"post_id":77327972,"comment_id":136324299,"body_markdown":"See also: https://stackoverflow.com/questions/9482988/find-the-closest-answer-in-hashmap","body":"See also: <a href=\"https://stackoverflow.com/questions/9482988/find-the-closest-answer-in-hashmap\" title=\"find the closest answer in hashmap\">stackoverflow.com/questions/9482988/&hellip;</a>"},{"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"score":2,"creation_date":1697768981,"post_id":77327972,"comment_id":136324305,"body_markdown":"A Java Map is probably not a good type to represent a mathematical function because of those reasons.","body":"A Java Map is probably not a good type to represent a mathematical function because of those reasons."},{"owner":{"account_id":25013336,"reputation":45,"user_id":19228365,"display_name":"John Smith"},"score":0,"creation_date":1697769480,"post_id":77327972,"comment_id":136324329,"body_markdown":"@shmosel Thanks for that suggestion, I might look into BigDecimal, but I&#39;ll probably use the closest n decimals. NavigableMap also looks promising.","body":"@shmosel Thanks for that suggestion, I might look into BigDecimal, but I&#39;ll probably use the closest n decimals. NavigableMap also looks promising."},{"owner":{"account_id":384206,"reputation":50386,"user_id":740553,"accept_rate":46,"display_name":"Mike &#39;Pomax&#39; Kamermans"},"score":0,"creation_date":1697776393,"post_id":77327972,"comment_id":136324795,"body_markdown":"Why does it have to be a map? Is an actual method not an option? (And why not?)","body":"Why does it have to be a map? Is an actual method not an option? (And why not?)"},{"owner":{"account_id":667308,"reputation":46349,"user_id":1161878,"accept_rate":81,"display_name":"Gene"},"score":0,"creation_date":1697777659,"post_id":77327972,"comment_id":136324885,"body_markdown":"If  you want the map to represent a step function defined everywhere on the x axis, then the `NavigableMap` (like `TreeMap`) idea of @ArfurNarf is definitely a way to go.  If you won&#39;t add or delete items after initial creation, a simple sorted array and binary search (for least not less than or greatest not greater than) will accomplish the same thing.","body":"If  you want the map to represent a step function defined everywhere on the x axis, then the <code>NavigableMap</code> (like <code>TreeMap</code>) idea of @ArfurNarf is definitely a way to go.  If you won&#39;t add or delete items after initial creation, a simple sorted array and binary search (for least not less than or greatest not greater than) will accomplish the same thing."},{"owner":{"account_id":2968584,"reputation":50571,"user_id":2521214,"accept_rate":71,"display_name":"Spektre"},"score":1,"creation_date":1697785636,"post_id":77327972,"comment_id":136325742,"body_markdown":"if your data is continuous you might use bilinear or bicubic interpolation instead of hash map","body":"if your data is continuous you might use bilinear or bicubic interpolation instead of hash map"}],"answers":[{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1697775122,"creation_date":1697775122,"answer_id":77328289,"question_id":77327972,"body_markdown":"&gt; _&quot;... I could get null when trying to access a value because of floating point imprecision. For this reason, it&#39;s not wise to use floating point values as the key to a map. ...&quot;_\r\n\r\nUse the _[BigDecimal](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/math/BigDecimal.html)_ class.\r\n\r\n```java\r\nclass DoubleMap extends HashMap&lt;BigDecimal, Double&gt; {\r\n    Double put(String k, Double v) {\r\n        return super.put(new BigDecimal(k), v);\r\n    }\r\n\r\n    Double get(String k) {\r\n        for (Entry&lt;BigDecimal, Double&gt; e : entrySet())\r\n            if (e.getKey().toPlainString().equals(k))\r\n                return e.getValue();\r\n        return null;\r\n    }\r\n}\r\nDoubleMap map = new DoubleMap();\r\nmap.put(&quot;1.23&quot;, 4.56);\r\n```","title":"How to get map values from a float","body":"<blockquote>\n<p><em>&quot;... I could get null when trying to access a value because of floating point imprecision. For this reason, it's not wise to use floating point values as the key to a map. ...&quot;</em></p>\n</blockquote>\n<p>Use the <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/math/BigDecimal.html\" rel=\"nofollow noreferrer\">BigDecimal</a></em> class.</p>\n<pre class=\"lang-java prettyprint-override\"><code>class DoubleMap extends HashMap&lt;BigDecimal, Double&gt; {\n    Double put(String k, Double v) {\n        return super.put(new BigDecimal(k), v);\n    }\n\n    Double get(String k) {\n        for (Entry&lt;BigDecimal, Double&gt; e : entrySet())\n            if (e.getKey().toPlainString().equals(k))\n                return e.getValue();\n        return null;\n    }\n}\nDoubleMap map = new DoubleMap();\nmap.put(&quot;1.23&quot;, 4.56);\n</code></pre>\n"}],"owner":{"account_id":25013336,"reputation":45,"user_id":19228365,"display_name":"John Smith"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":68,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1697775122,"creation_date":1697767903,"question_id":77327972,"body_markdown":"I have a map that I want to use like a mathematical function on the real line, i.e. I give it a floating point value, it returns a floating point value.\r\n\r\nIf had something like this:\r\n\r\n```\r\nMap&lt;Double, Double&gt; map = new HashMap&lt;&gt;();\r\n```\r\nI could get null when trying to access a value because of floating point imprecision. For this reason, it&#39;s not wise to use floating point values as the key to a map.\r\n\r\nWhat&#39;s the best way to achieve my goal? I need to have a map of (x, y) values that allows me to get a y value from an x value. I suppose there&#39;s some other data type or something that doesn&#39;t allow imprecision?\r\n\r\nAll answers are appreciated thanks.","title":"How to get map values from a float","body":"<p>I have a map that I want to use like a mathematical function on the real line, i.e. I give it a floating point value, it returns a floating point value.</p>\n<p>If had something like this:</p>\n<pre><code>Map&lt;Double, Double&gt; map = new HashMap&lt;&gt;();\n</code></pre>\n<p>I could get null when trying to access a value because of floating point imprecision. For this reason, it's not wise to use floating point values as the key to a map.</p>\n<p>What's the best way to achieve my goal? I need to have a map of (x, y) values that allows me to get a y value from an x value. I suppose there's some other data type or something that doesn't allow imprecision?</p>\n<p>All answers are appreciated thanks.</p>\n"},{"tags":["java","eclipse","jar"],"comments":[{"owner":{"account_id":3557625,"reputation":199021,"user_id":2970947,"display_name":"Elliott Frisch"},"score":1,"creation_date":1697755140,"post_id":77327375,"comment_id":136323148,"body_markdown":"Show us `Comparison`. Especially show us `logResults`. I&#39;m *tempted* to [close as a duplicate](https://stackoverflow.com/q/218384/2970947).","body":"Show us <code>Comparison</code>. Especially show us <code>logResults</code>. I&#39;m <i>tempted</i> to <a href=\"https://stackoverflow.com/q/218384/2970947\">close as a duplicate</a>."},{"owner":{"account_id":13796,"reputation":19353,"user_id":27905,"display_name":"nitind"},"score":0,"creation_date":1697755435,"post_id":77327375,"comment_id":136323182,"body_markdown":"The README in https://github.com/Microsoft/mssql-jdbc mentions a number of dependencies that don&#39;t seem to be on your command line. Are you using something like Maven that provides them to Eclipse?","body":"The README in <a href=\"https://github.com/Microsoft/mssql-jdbc\" rel=\"nofollow noreferrer\">github.com/Microsoft/mssql-jdbc</a> mentions a number of dependencies that don&#39;t seem to be on your command line. Are you using something like Maven that provides them to Eclipse?"},{"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1697756543,"post_id":77327375,"comment_id":136323292,"body_markdown":"Line numbers on the code please. How are we supposed to know which lines correspond to the stacktrace?","body":"Line numbers on the code please. How are we supposed to know which lines correspond to the stacktrace?"},{"owner":{"account_id":4423771,"reputation":141,"user_id":3602820,"accept_rate":83,"display_name":"patricio2626"},"score":0,"creation_date":1697757731,"post_id":77327375,"comment_id":136323413,"body_markdown":"@ElliottFrisch This is inside of the logResults() function, but I suppose I can include the entire class.  I&#39;ve been scolded here before for doing that. nitind: what do you mean?  Works fine in Eclipse and is not Mavenized.  aled: you have the System.out.println lines for where the code stops execution, but I suppose I could include them.","body":"@ElliottFrisch This is inside of the logResults() function, but I suppose I can include the entire class.  I&#39;ve been scolded here before for doing that. nitind: what do you mean?  Works fine in Eclipse and is not Mavenized.  aled: you have the System.out.println lines for where the code stops execution, but I suppose I could include them."},{"owner":{"account_id":4423771,"reputation":141,"user_id":3602820,"accept_rate":83,"display_name":"patricio2626"},"score":0,"creation_date":1697758093,"post_id":77327375,"comment_id":136323449,"body_markdown":"Edited to show all of logResults() and to indicate that 449 is con.close()","body":"Edited to show all of logResults() and to indicate that 449 is con.close()"},{"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1697772726,"post_id":77327375,"comment_id":136324561,"body_markdown":"Something is missing in the command line execution that makes it work in Eclipse. Probably some dependency.","body":"Something is missing in the command line execution that makes it work in Eclipse. Probably some dependency."},{"owner":{"account_id":4423771,"reputation":141,"user_id":3602820,"accept_rate":83,"display_name":"patricio2626"},"score":0,"creation_date":1697773955,"post_id":77327375,"comment_id":136324645,"body_markdown":"@aled you weren&#39;t too far off with thinking about dependencies.  I&#39;ll solve this question momentarily and you&#39;ll see more detail (JDBC JAR file was incorrect version).","body":"@aled you weren&#39;t too far off with thinking about dependencies.  I&#39;ll solve this question momentarily and you&#39;ll see more detail (JDBC JAR file was incorrect version)."}],"answers":[{"tags":[],"owner":{"account_id":4423771,"reputation":141,"user_id":3602820,"accept_rate":83,"display_name":"patricio2626"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1697774159,"creation_date":1697774159,"answer_id":77328241,"question_id":77327375,"body_markdown":"Hope this helps someone in the future.  I removed the finally block and then the exception came as:\r\n\r\n```\r\nException in thread &quot;main&quot; java.lang.UnsupportedClassVersionError: com/microsoft/sqlserver/jdbc/SQLServerDriver has been compiled by a more recent version of the Java Runtime (class file version 55.0), this version of the Java Runtime only recognizes class file versions up to 52.0\r\n```\r\n\r\nI forgot that I had downgraded my compiler compliance version in my Eclipse project due to a lower version of Java on our production box.  Strange behavior of the driver and certainly left me scratching my head, and it wasn&#39;t apparent until removing that finally block.  Going to use the JRE8 version of the MSSQL JDBC driver now.  ","title":"Works in Eclipse, not in JAR file - Class.forName() seemingly not throwing Exception, but code immediately transfers to finally block","body":"<p>Hope this helps someone in the future.  I removed the finally block and then the exception came as:</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.UnsupportedClassVersionError: com/microsoft/sqlserver/jdbc/SQLServerDriver has been compiled by a more recent version of the Java Runtime (class file version 55.0), this version of the Java Runtime only recognizes class file versions up to 52.0\n</code></pre>\n<p>I forgot that I had downgraded my compiler compliance version in my Eclipse project due to a lower version of Java on our production box.  Strange behavior of the driver and certainly left me scratching my head, and it wasn't apparent until removing that finally block.  Going to use the JRE8 version of the MSSQL JDBC driver now.</p>\n"}],"owner":{"account_id":4423771,"reputation":141,"user_id":3602820,"accept_rate":83,"display_name":"patricio2626"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1697774159,"creation_date":1697754575,"question_id":77327375,"body_markdown":"First, this works in Eclipse but not when running the generated JAR file.  It doesn&#39;t seem to generate any exception when the JAR is run, but rather, the code execution stops at the Class.forName() call and immediately transfers to the finally block.  You can see this in the System.out.println() calls (or lack thereof). \r\n\r\nOutput in Eclipse:\r\n\r\n*Finding class...\r\nGetting connection for log population...\r\nGot connection for log population...\r\nIn finally block...\r\nFinished.*\r\n\r\nOutput when JAR file is run:\r\n\r\n```\r\nC:\\me\\myProgram&gt;java -cp MyJar.jar;mssql-jdbc-12.4.0.jre11.jar com.me.myProgram.Main\r\nFinding class...\r\nIn finally block...\r\nException in thread &quot;main&quot; java.lang.NullPointerException\r\n        at com.me.myProgram.logResults(Comparison.java:449)\r\n        at com.me.myProgram.run(Comparison.java:547)\r\n        at com.me.myProgram.Main.main(Main.java:13)\r\n```\r\n\r\nI know it&#39;s not an issue with the class not being found (or at least really doesn&#39;t look like it) because if I change to Class.forName(&quot;com.microsoft.sqlserver.jdbc.blahblah&quot;); then I get:\r\n\r\n```\r\nD:\\me\\myProgram&gt;java -cp MyJar.jar;mssql-jdbc-12.4.0.jre11.jar com.me.myProgram.Main\r\nFinding class...\r\ncom.microsoft.sqlserver.jdbc.SQLServerDrive\r\njava.lang.ClassNotFoundException: com.microsoft.sqlserver.jdbc.SQLServerDrive\r\n        at java.net.URLClassLoader.findClass(URLClassLoader.java:382)\r\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:424)\r\n        at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:349)\r\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:357)\r\n        at java.lang.Class.forName0(Native Method)\r\n        at java.lang.Class.forName(Class.java:264)\r\n        at com.me.myProgram.Comparison.logResults(Comparison.java:392)\r\n        at com.me.myProgram.Comparison.run(Comparison.java:547)\r\n        at com.me.myProgram.Main.main(Main.java:13)\r\nIn finally block...\r\nException in thread &quot;main&quot; java.lang.NullPointerException\r\n        at com.me.myProgram.Comparison.logResults(Comparison.java:449)\r\n        at com.me.myProgram.Comparison.run(Comparison.java:547)\r\n        at com.me.myProgram.Main.main(Main.java:13)\r\n```\r\n\r\nCode  (line 449 is con.close()):\r\n\r\n```\r\npublic void logResults(){\r\n\t\tConnection con = null;\t\t\r\n\t\tBoolean success = isJobRowCountMatch &amp;&amp; isEntryCountMatch &amp;&amp; isExtractCountMatch &amp;&amp; (isDeltaPresent || isFullPresent);\r\n\t\tString informationalString = getInformationalString(), issueString = getIssueString(), badEntriesString = \r\n\t\t\t\tgetBadEntriesString();\r\n\t\ttry {\t\t\t\r\n\t\t\tSystem.out.println(&quot;Finding class...&quot;);\r\n\t\t\tClass.forName(&quot;com.microsoft.sqlserver.jdbc.SQLServerDriver&quot;);\r\n\t\t\tSystem.out.println(&quot;Getting connection for log population...&quot;);\r\n\t\t\tfw.write(&quot;Getting connection for log population...&quot; + System.lineSeparator());\r\n\t\t\tcon = DriverManager.getConnection(connectionString);\r\n\t\t\tSystem.out.println(&quot;Got connection for log population...&quot;);\r\n\t\t\tPreparedStatement st = con.prepareStatement(logPreparedStatement);\r\n\t\t\tjava.sql.Timestamp ts = Timestamp.valueOf(d);\r\n\t\t\tst.setTimestamp(1, ts);\r\n\t\t\tst.setBoolean(2, success);\r\n\t\t\tst.setNString(3, informationalString);\r\n\t\t\tst.setNString(4, issueString);\r\n\t\t\tst.setNString(5, badEntriesString);\r\n\t\t\tfw.write(&quot;Inserting log entry...&quot; + System.lineSeparator());\r\n\t\t\tif(outputLogFile.createNewFile() || outputLogFile.exists()) {\r\n\t\t\t\tfw.write(&quot;Job timestamp: &quot; + month + &quot;-&quot; + day + \r\n\t\t\t\t\t\t&quot;-&quot; + year + &quot; &quot; + hour + &quot;:&quot; + minute + &quot;:&quot; + second + System.getProperty(&quot;line.separator&quot;));\r\n\t\t\t\tfw.write(&quot;Informational entries: &quot; + informationalString + System.getProperty(&quot;line.separator&quot;));\r\n\t\t\t\tfw.write(&quot;Issue entries: &quot; + issueString + System.getProperty(&quot;line.separator&quot;));\r\n\t\t\t\tfw.write(&quot;Non-matching list entries: &quot; + badEntriesString + System.getProperty(&quot;line.separator&quot;));\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tthrow new RuntimeException(&quot;Can&#39;t create log file &quot; + outputLogFile.getAbsolutePath());\r\n\t\t\t}\r\n\t\t\tint resultCount = st.executeUpdate();\r\n\t\t\tif(resultCount == 0) {\r\n\t\t\t\tthrow new RuntimeException(&quot;Log entry couldn&#39;t be inserted to the database for some reason.&quot;);\r\n\t\t\t}\r\n\t\t\tfw.write(&quot;Log entry inserted.&quot; + System.lineSeparator());\r\n\t\t}\r\n\t\tcatch(Exception e) {\r\n\t\t\tSystem.out.println(e.getMessage());\r\n\t\t\tthrow new RuntimeException(&quot;Problem inserting log entry into database: &quot; + e.getMessage());\r\n\t\t}\r\n\t\tfinally {\r\n\t\t\tSystem.out.println(&quot;In finally block...&quot;);\r\n\t\t\ttry {\r\n\t\t\t\tcon.close();  //NPE happens here\r\n\t\t\t}\r\n\t\t\tcatch(java.sql.SQLException sqle) {\t\t\t\t\r\n\t\t\t\tsqle.printStackTrace();\r\n\t\t\t}\r\n\t\t}\t\t\r\n\t}\r\n\t\r\n\tprivate void loadProps() {\r\n\t\tjava.util.Properties props = null;\r\n\t\ttry{\r\n\t\t\tFile dir = new File(AccuityComparison.class.getProtectionDomain().getCodeSource().getLocation().\r\n\t\t\t\t\tgetPath());\r\n\t\t\t\r\n\t\t\tjava.io.InputStream stream = new java.io.FileInputStream(\r\n\t\t\t\t\tdir.getParentFile().getAbsolutePath() + File.separator + &quot;config.properties&quot;);\r\n\t\t\tprops = new java.util.Properties();\r\n\t\t\tprops.load(stream);\r\n\t\t\tstream.close();\r\n\t\t}\r\n\t\tcatch(java.io.FileNotFoundException fnfe) {\r\n\t\t\tfnfe.printStackTrace();\r\n\t\t\ttry {\r\n\t\t\t\tfw.write(fnfe.getMessage());\r\n\t\t\t\tfw.close();\r\n\t\t\t}\r\n\t\t\tcatch(java.io.IOException ioe) {\r\n\t\t\t\tioe.printStackTrace();\r\n\t\t\t}\r\n\t\t\tthrow new RuntimeException(&quot;Could not find properties file \\&quot;config.properties\\&quot;: &quot; +\r\n\t\t\t\t\tfnfe.getMessage());\r\n\t\t}\r\n\t\tcatch(java.io.IOException ioe) {\r\n\t\t\tioe.printStackTrace();\r\n\t\t\ttry {\r\n\t\t\t\tfw.write(ioe.getMessage());\r\n\t\t\t\tfw.close();\r\n\t\t\t}\r\n\t\t\tcatch(java.io.IOException ioe2) {\r\n\t\t\t\tioe2.printStackTrace();\r\n\t\t\t}\r\n\t\t\tthrow new RuntimeException(&quot;Unable to read from properties file \\&quot;config.properties\\&quot;: &quot; +\r\n\t\t\t\t\tioe.getMessage());\r\n\t\t}\r\n\t\tlogPreparedStatement = props.getProperty(&quot;logPreparedStatement&quot;);\r\n\t\textractSummaryDir = props.getProperty(&quot;extractSummaryDir&quot;);\r\n\t\tarchiveDir = props.getProperty(&quot;archiveDir&quot;);\r\n\t\tconnectionString = props.getProperty(&quot;connectionString&quot;);\r\n\t\tjobCountQueryDelta = props.getProperty(&quot;jobCountQueryDelta&quot;);\r\n\t\tjobCountQueryFull = props.getProperty(&quot;jobCountQueryFull&quot;);\r\n\t\tdbEntryCountQueryFull = props.getProperty(&quot;dbEntryCountQueryFull&quot;);\r\n\t\tdbEntryCountQueryDelta = props.getProperty(&quot;dbEntryCountQueryDelta&quot;);\r\n\t\tdbEntriesQueryFull = props.getProperty(&quot;dbEntriesQueryFull&quot;);\r\n\t\tdbEntriesQueryDelta = props.getProperty(&quot;dbEntriesQueryDelta&quot;);\t\r\n\t\tdbConnStringPwd = new String(Base64.getDecoder().decode(props.getProperty(&quot;connectionStringPwd&quot;)), StandardCharsets.UTF_8);\r\n\t\tconnectionString += dbConnStringPwd;\r\n\t\tSystem.out.println(&quot;Conn string = &quot; + connectionString);\r\n\t};\r\n\t\r\n\tpublic void run(){\r\n\t\tLong start = System.currentTimeMillis();\r\n\t\tSystem.out.println(&quot;Starting...&quot;);\r\n\t\ttry{\r\n\t\t\tfw = new java.io.FileWriter(outputLogFile);\t\t\t\r\n\t\t\tfw.write(&quot;Thread starting...&quot; + System.lineSeparator());\r\n\t\t\tloadProps();\r\n\t\t\tfullFile = new java.io.File(archiveDir + &quot;Full_&quot; + month + &quot;-&quot; + day + &quot;-&quot; + year + &quot;.xml&quot;);\r\n\t\t\tdeltaFile = new java.io.File(archiveDir + &quot;Delta_&quot; + month + &quot;-&quot; + day + &quot;-&quot; + year + &quot;.xml&quot;);\r\n\t\t\tif(fullFile.exists()) {\r\n\t\t\t\tisFullPresent = true;\r\n\t\t\t\ttype = &quot;Full&quot;;\r\n\t\t\t\tpopulateSetFromListFile();\r\n\t\t\t\trunCount();\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tfw.write(&quot;Full file: &quot; + fullFile + &quot; not present.&quot; + System.lineSeparator());\r\n\t\t\t\tinformational.add(&quot;Full list file not present.&quot;);\r\n\t\t\t}\r\n\t\t\tlistSet.clear();\r\n\t\t\tif(deltaFile.exists()) {\r\n\t\t\t\tisDeltaPresent = true;\r\n\t\t\t\ttype = &quot;Delta&quot;;\r\n\t\t\t\tpopulateSetFromListFile();\r\n\t\t\t\trunCount();\r\n\t\t\t}\t\t\r\n\t\t\telse {\r\n\t\t\t\tfw.write(&quot;Delta file: &quot; + deltaFile + &quot; not present.&quot; + System.lineSeparator());\r\n\t\t\t\tinformational.add(&quot;Delta list file not present.&quot;);\r\n\t\t\t}\t\t\t\t\t\t\r\n\t\t\tString exceptionText = (!isJobRowCountMatch ? &quot;There is a count mismatch between the list file (&quot; +\tlistSet.size() + &quot;)&quot; + \r\n\t\t\t\t\t&quot; and the job row count in WLF_JOBS_log (&quot; + jobRowCount + &quot;).  &quot; : &quot;&quot;) + \r\n\t\t\t\t\t(!isExtractCountMatch ? &quot; There is a mismatch between the list entries (&quot; + listSet.size() + \r\n\t\t\t\t\t\t&quot;) and the extract summary file count (&quot; + extractCount + &quot;).  &quot;: &quot;&quot;) +\r\n\t\t\t\t\t(!isEntryCountMatch ? &quot; There is a mistmatch between the filtered list entries (&quot; + filteredListCount +  \r\n\t\t\t\t\t&quot;) and the database entry count in WLF_LATEST_LIST_ENTRIES (&quot; + dbEntryCount + &quot;).  &quot; : &quot;&quot; + \r\n\t\t\t\t\t(badEntries.size() &gt; 0 ? &quot;One or more list entries does not seem to be fully intact.&quot; : &quot;&quot;));\r\n\t\t\tif(exceptionText.length() &gt; 0 &amp;&amp; (isDeltaPresent || isFullPresent))\r\n\t\t\t\tissues.add(exceptionText);\r\n\t\t\tlogResults();\t\t\t\t\t\r\n\t\t\tfw.write(&quot;Program finished.&quot; + System.lineSeparator() + &quot;Program executed in &quot; + (System.currentTimeMillis() - start) + &quot; milliseconds.&quot;);\r\n\t\t\tfw.close();\r\n\t\t\tif((isDeltaPresent || isFullPresent) &amp;&amp; (!isJobRowCountMatch || !isExtractCountMatch || !isEntryCountMatch || (badEntries.size() &gt; 0)))\r\n\t\t\t\tthrow new RuntimeException(exceptionText);\r\n\t\t}\r\n\t\tcatch(java.io.IOException ioe) {\r\n\t\t\tSystem.out.println(ioe.getMessage());\r\n\t\t\tioe.printStackTrace();\r\n\t\t\ttry {\r\n\t\t\t\tfw.write(ioe.getMessage());\r\n\t\t\t\tfw.close();\r\n\t\t\t}\r\n\t\t\tcatch(java.io.IOException ioe2) {\r\n\t\t\t\tioe2.printStackTrace();\r\n\t\t\t}\r\n\t\t}\t\t\t\r\n\t\tSystem.out.println(&quot;Finished.&quot;);\r\n\t}\t\r\n}\r\n\r\n```\r\n\r\n\r\nThoughts?","title":"Works in Eclipse, not in JAR file - Class.forName() seemingly not throwing Exception, but code immediately transfers to finally block","body":"<p>First, this works in Eclipse but not when running the generated JAR file.  It doesn't seem to generate any exception when the JAR is run, but rather, the code execution stops at the Class.forName() call and immediately transfers to the finally block.  You can see this in the System.out.println() calls (or lack thereof).</p>\n<p>Output in Eclipse:</p>\n<p><em>Finding class...\nGetting connection for log population...\nGot connection for log population...\nIn finally block...\nFinished.</em></p>\n<p>Output when JAR file is run:</p>\n<pre><code>C:\\me\\myProgram&gt;java -cp MyJar.jar;mssql-jdbc-12.4.0.jre11.jar com.me.myProgram.Main\nFinding class...\nIn finally block...\nException in thread &quot;main&quot; java.lang.NullPointerException\n        at com.me.myProgram.logResults(Comparison.java:449)\n        at com.me.myProgram.run(Comparison.java:547)\n        at com.me.myProgram.Main.main(Main.java:13)\n</code></pre>\n<p>I know it's not an issue with the class not being found (or at least really doesn't look like it) because if I change to Class.forName(&quot;com.microsoft.sqlserver.jdbc.blahblah&quot;); then I get:</p>\n<pre><code>D:\\me\\myProgram&gt;java -cp MyJar.jar;mssql-jdbc-12.4.0.jre11.jar com.me.myProgram.Main\nFinding class...\ncom.microsoft.sqlserver.jdbc.SQLServerDrive\njava.lang.ClassNotFoundException: com.microsoft.sqlserver.jdbc.SQLServerDrive\n        at java.net.URLClassLoader.findClass(URLClassLoader.java:382)\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:424)\n        at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:349)\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:357)\n        at java.lang.Class.forName0(Native Method)\n        at java.lang.Class.forName(Class.java:264)\n        at com.me.myProgram.Comparison.logResults(Comparison.java:392)\n        at com.me.myProgram.Comparison.run(Comparison.java:547)\n        at com.me.myProgram.Main.main(Main.java:13)\nIn finally block...\nException in thread &quot;main&quot; java.lang.NullPointerException\n        at com.me.myProgram.Comparison.logResults(Comparison.java:449)\n        at com.me.myProgram.Comparison.run(Comparison.java:547)\n        at com.me.myProgram.Main.main(Main.java:13)\n</code></pre>\n<p>Code  (line 449 is con.close()):</p>\n<pre><code>public void logResults(){\n        Connection con = null;      \n        Boolean success = isJobRowCountMatch &amp;&amp; isEntryCountMatch &amp;&amp; isExtractCountMatch &amp;&amp; (isDeltaPresent || isFullPresent);\n        String informationalString = getInformationalString(), issueString = getIssueString(), badEntriesString = \n                getBadEntriesString();\n        try {           \n            System.out.println(&quot;Finding class...&quot;);\n            Class.forName(&quot;com.microsoft.sqlserver.jdbc.SQLServerDriver&quot;);\n            System.out.println(&quot;Getting connection for log population...&quot;);\n            fw.write(&quot;Getting connection for log population...&quot; + System.lineSeparator());\n            con = DriverManager.getConnection(connectionString);\n            System.out.println(&quot;Got connection for log population...&quot;);\n            PreparedStatement st = con.prepareStatement(logPreparedStatement);\n            java.sql.Timestamp ts = Timestamp.valueOf(d);\n            st.setTimestamp(1, ts);\n            st.setBoolean(2, success);\n            st.setNString(3, informationalString);\n            st.setNString(4, issueString);\n            st.setNString(5, badEntriesString);\n            fw.write(&quot;Inserting log entry...&quot; + System.lineSeparator());\n            if(outputLogFile.createNewFile() || outputLogFile.exists()) {\n                fw.write(&quot;Job timestamp: &quot; + month + &quot;-&quot; + day + \n                        &quot;-&quot; + year + &quot; &quot; + hour + &quot;:&quot; + minute + &quot;:&quot; + second + System.getProperty(&quot;line.separator&quot;));\n                fw.write(&quot;Informational entries: &quot; + informationalString + System.getProperty(&quot;line.separator&quot;));\n                fw.write(&quot;Issue entries: &quot; + issueString + System.getProperty(&quot;line.separator&quot;));\n                fw.write(&quot;Non-matching list entries: &quot; + badEntriesString + System.getProperty(&quot;line.separator&quot;));\n            }\n            else {\n                throw new RuntimeException(&quot;Can't create log file &quot; + outputLogFile.getAbsolutePath());\n            }\n            int resultCount = st.executeUpdate();\n            if(resultCount == 0) {\n                throw new RuntimeException(&quot;Log entry couldn't be inserted to the database for some reason.&quot;);\n            }\n            fw.write(&quot;Log entry inserted.&quot; + System.lineSeparator());\n        }\n        catch(Exception e) {\n            System.out.println(e.getMessage());\n            throw new RuntimeException(&quot;Problem inserting log entry into database: &quot; + e.getMessage());\n        }\n        finally {\n            System.out.println(&quot;In finally block...&quot;);\n            try {\n                con.close();  //NPE happens here\n            }\n            catch(java.sql.SQLException sqle) {             \n                sqle.printStackTrace();\n            }\n        }       \n    }\n    \n    private void loadProps() {\n        java.util.Properties props = null;\n        try{\n            File dir = new File(AccuityComparison.class.getProtectionDomain().getCodeSource().getLocation().\n                    getPath());\n            \n            java.io.InputStream stream = new java.io.FileInputStream(\n                    dir.getParentFile().getAbsolutePath() + File.separator + &quot;config.properties&quot;);\n            props = new java.util.Properties();\n            props.load(stream);\n            stream.close();\n        }\n        catch(java.io.FileNotFoundException fnfe) {\n            fnfe.printStackTrace();\n            try {\n                fw.write(fnfe.getMessage());\n                fw.close();\n            }\n            catch(java.io.IOException ioe) {\n                ioe.printStackTrace();\n            }\n            throw new RuntimeException(&quot;Could not find properties file \\&quot;config.properties\\&quot;: &quot; +\n                    fnfe.getMessage());\n        }\n        catch(java.io.IOException ioe) {\n            ioe.printStackTrace();\n            try {\n                fw.write(ioe.getMessage());\n                fw.close();\n            }\n            catch(java.io.IOException ioe2) {\n                ioe2.printStackTrace();\n            }\n            throw new RuntimeException(&quot;Unable to read from properties file \\&quot;config.properties\\&quot;: &quot; +\n                    ioe.getMessage());\n        }\n        logPreparedStatement = props.getProperty(&quot;logPreparedStatement&quot;);\n        extractSummaryDir = props.getProperty(&quot;extractSummaryDir&quot;);\n        archiveDir = props.getProperty(&quot;archiveDir&quot;);\n        connectionString = props.getProperty(&quot;connectionString&quot;);\n        jobCountQueryDelta = props.getProperty(&quot;jobCountQueryDelta&quot;);\n        jobCountQueryFull = props.getProperty(&quot;jobCountQueryFull&quot;);\n        dbEntryCountQueryFull = props.getProperty(&quot;dbEntryCountQueryFull&quot;);\n        dbEntryCountQueryDelta = props.getProperty(&quot;dbEntryCountQueryDelta&quot;);\n        dbEntriesQueryFull = props.getProperty(&quot;dbEntriesQueryFull&quot;);\n        dbEntriesQueryDelta = props.getProperty(&quot;dbEntriesQueryDelta&quot;); \n        dbConnStringPwd = new String(Base64.getDecoder().decode(props.getProperty(&quot;connectionStringPwd&quot;)), StandardCharsets.UTF_8);\n        connectionString += dbConnStringPwd;\n        System.out.println(&quot;Conn string = &quot; + connectionString);\n    };\n    \n    public void run(){\n        Long start = System.currentTimeMillis();\n        System.out.println(&quot;Starting...&quot;);\n        try{\n            fw = new java.io.FileWriter(outputLogFile);         \n            fw.write(&quot;Thread starting...&quot; + System.lineSeparator());\n            loadProps();\n            fullFile = new java.io.File(archiveDir + &quot;Full_&quot; + month + &quot;-&quot; + day + &quot;-&quot; + year + &quot;.xml&quot;);\n            deltaFile = new java.io.File(archiveDir + &quot;Delta_&quot; + month + &quot;-&quot; + day + &quot;-&quot; + year + &quot;.xml&quot;);\n            if(fullFile.exists()) {\n                isFullPresent = true;\n                type = &quot;Full&quot;;\n                populateSetFromListFile();\n                runCount();\n            }\n            else {\n                fw.write(&quot;Full file: &quot; + fullFile + &quot; not present.&quot; + System.lineSeparator());\n                informational.add(&quot;Full list file not present.&quot;);\n            }\n            listSet.clear();\n            if(deltaFile.exists()) {\n                isDeltaPresent = true;\n                type = &quot;Delta&quot;;\n                populateSetFromListFile();\n                runCount();\n            }       \n            else {\n                fw.write(&quot;Delta file: &quot; + deltaFile + &quot; not present.&quot; + System.lineSeparator());\n                informational.add(&quot;Delta list file not present.&quot;);\n            }                       \n            String exceptionText = (!isJobRowCountMatch ? &quot;There is a count mismatch between the list file (&quot; + listSet.size() + &quot;)&quot; + \n                    &quot; and the job row count in WLF_JOBS_log (&quot; + jobRowCount + &quot;).  &quot; : &quot;&quot;) + \n                    (!isExtractCountMatch ? &quot; There is a mismatch between the list entries (&quot; + listSet.size() + \n                        &quot;) and the extract summary file count (&quot; + extractCount + &quot;).  &quot;: &quot;&quot;) +\n                    (!isEntryCountMatch ? &quot; There is a mistmatch between the filtered list entries (&quot; + filteredListCount +  \n                    &quot;) and the database entry count in WLF_LATEST_LIST_ENTRIES (&quot; + dbEntryCount + &quot;).  &quot; : &quot;&quot; + \n                    (badEntries.size() &gt; 0 ? &quot;One or more list entries does not seem to be fully intact.&quot; : &quot;&quot;));\n            if(exceptionText.length() &gt; 0 &amp;&amp; (isDeltaPresent || isFullPresent))\n                issues.add(exceptionText);\n            logResults();                   \n            fw.write(&quot;Program finished.&quot; + System.lineSeparator() + &quot;Program executed in &quot; + (System.currentTimeMillis() - start) + &quot; milliseconds.&quot;);\n            fw.close();\n            if((isDeltaPresent || isFullPresent) &amp;&amp; (!isJobRowCountMatch || !isExtractCountMatch || !isEntryCountMatch || (badEntries.size() &gt; 0)))\n                throw new RuntimeException(exceptionText);\n        }\n        catch(java.io.IOException ioe) {\n            System.out.println(ioe.getMessage());\n            ioe.printStackTrace();\n            try {\n                fw.write(ioe.getMessage());\n                fw.close();\n            }\n            catch(java.io.IOException ioe2) {\n                ioe2.printStackTrace();\n            }\n        }           \n        System.out.println(&quot;Finished.&quot;);\n    }   \n}\n\n</code></pre>\n<p>Thoughts?</p>\n"},{"tags":["java","validation","spring-boot","soapui"],"comments":[{"owner":{"account_id":1424899,"reputation":4365,"user_id":1348691,"accept_rate":67,"display_name":"Tiina"},"score":2,"creation_date":1517797755,"post_id":48614773,"comment_id":84227222,"body_markdown":"`@NotBlank` is for text only, not integer. Try to start from the simplest, with only one field for validation like `@NotBlank String foo;` if that works, move on to other more complicated ones like `@Pattern`","body":"<code>@NotBlank</code> is for text only, not integer. Try to start from the simplest, with only one field for validation like <code>@NotBlank String foo;</code> if that works, move on to other more complicated ones like <code>@Pattern</code>"},{"owner":{"account_id":8582646,"reputation":446,"user_id":6429769,"display_name":"Rishabh Ryber"},"score":0,"creation_date":1636687026,"post_id":48614773,"comment_id":123628920,"body_markdown":"In my case I forgot to add @Valid tag in Controller","body":"In my case I forgot to add @Valid tag in Controller"}],"answers":[{"comments":[{"owner":{"account_id":3599794,"reputation":2621,"user_id":3003337,"accept_rate":88,"display_name":"surya"},"score":1,"creation_date":1517797111,"post_id":48614909,"comment_id":84227091,"body_markdown":"try not sending isReprint /includeSignatureCoordinates , and see if you get error.Note that not sending and sending blank are 2 different thing, i hope you know what i mean","body":"try not sending isReprint /includeSignatureCoordinates , and see if you get error.Note that not sending and sending blank are 2 different thing, i hope you know what i mean"},{"owner":{"account_id":17466472,"reputation":747,"user_id":12663117,"display_name":"Nate T"},"score":0,"creation_date":1619523150,"post_id":48614909,"comment_id":118925773,"body_markdown":"Wouldn&#39;t a @validated notation above class declaration achieve the same end?","body":"Wouldn&#39;t a @validated notation above class declaration achieve the same end?"}],"tags":[],"owner":{"account_id":3599794,"reputation":2621,"user_id":3003337,"accept_rate":88,"display_name":"surya"},"comment_count":2,"down_vote_count":0,"up_vote_count":21,"is_accepted":true,"score":21,"last_activity_date":1517798415,"creation_date":1517795776,"answer_id":48614909,"question_id":48614773,"body_markdown":"First you dont need to have @Valid annotation for those class variables in UpdatePrintContracts . You can delete them.\r\n\r\nTo trigger validation of a @Controller input, simply annotate the input argument as @Valid or @Validated: \r\n\r\n    @RequestMapping(value=PATH_PRINT_CONTRACTS, method=RequestMethod.POST)\r\n    public ResponseEntity&lt;?&gt; printContracts(@Valid @RequestBody  final UpdatePrintContracts updatePrintContracts) throws Exception {\r\n\r\n[Refer here][1] for full understanding of validating models in spring boot.\r\n\r\nAnd If you want to check that a string contains only specific characters, you must add anchors (^ for beginning of the string, $ for end of the string) to be sure that your pattern matches all the string.Curly brackets are only to write a quantity,\r\n\r\n    @Pattern(regexp = &quot;^[\\\\p{Alnum}]{1,32}$&quot;)\r\n\r\nLastly i assume you have following jars in your classpath, \r\n\r\n.validation-api.jar (contains the abstract API and the annotation scanner)\r\n \r\n.hibernate-validator.jar (contains the concrete implementation)\r\n\r\n  [1]: https://spring.io/guides/gs/validating-form-input/","title":"Spring boot validation annotations @Valid and @NotBlank not working","body":"<p>First you dont need to have @Valid annotation for those class variables in UpdatePrintContracts . You can delete them.</p>\n\n<p>To trigger validation of a @Controller input, simply annotate the input argument as @Valid or @Validated: </p>\n\n<pre><code>@RequestMapping(value=PATH_PRINT_CONTRACTS, method=RequestMethod.POST)\npublic ResponseEntity&lt;?&gt; printContracts(@Valid @RequestBody  final UpdatePrintContracts updatePrintContracts) throws Exception {\n</code></pre>\n\n<p><a href=\"https://spring.io/guides/gs/validating-form-input/\" rel=\"noreferrer\">Refer here</a> for full understanding of validating models in spring boot.</p>\n\n<p>And If you want to check that a string contains only specific characters, you must add anchors (^ for beginning of the string, $ for end of the string) to be sure that your pattern matches all the string.Curly brackets are only to write a quantity,</p>\n\n<pre><code>@Pattern(regexp = \"^[\\\\p{Alnum}]{1,32}$\")\n</code></pre>\n\n<p>Lastly i assume you have following jars in your classpath, </p>\n\n<p>.validation-api.jar (contains the abstract API and the annotation scanner)</p>\n\n<p>.hibernate-validator.jar (contains the concrete implementation)</p>\n"},{"comments":[{"owner":{"account_id":1192703,"reputation":427,"user_id":1165134,"accept_rate":41,"display_name":"Rub&#233;n"},"score":6,"creation_date":1613051537,"post_id":61984478,"comment_id":116960430,"body_markdown":"Adding the spring-boot-starter-validation solved my problem. Thank you!","body":"Adding the spring-boot-starter-validation solved my problem. Thank you!"},{"owner":{"account_id":1360112,"reputation":9949,"user_id":1297641,"accept_rate":76,"display_name":"Ahmet Karakaya"},"score":1,"creation_date":1624382507,"post_id":61984478,"comment_id":120342238,"body_markdown":"this is the solution for me. Is there a way to give less information about validation error, I mean traces message contions inner code flow","body":"this is the solution for me. Is there a way to give less information about validation error, I mean traces message contions inner code flow"},{"owner":{"account_id":22585429,"reputation":286,"user_id":16769477,"display_name":"Jay Yadav"},"score":0,"creation_date":1670422593,"post_id":61984478,"comment_id":131872990,"body_markdown":"This solved my problem !! I am using Spring Boot v2.6","body":"This solved my problem !! I am using Spring Boot v2.6"}],"tags":[],"owner":{"account_id":3620019,"reputation":5321,"user_id":3019006,"accept_rate":68,"display_name":"Deb"},"comment_count":3,"down_vote_count":0,"up_vote_count":130,"is_accepted":false,"score":130,"last_activity_date":1590315391,"creation_date":1590315391,"answer_id":61984478,"question_id":48614773,"body_markdown":"If you are facing this problem in latest version of spring boot (2.3.0) make sure to add the following dependency:\r\n\r\n    &lt;dependency&gt;\r\n    \t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n\r\n**Observation:**\r\nIn earlier version of Spring Boot (1.4.7), `javax.validation` used to work out of the box. But, after upgrading to latest version, annotations broke. Adding the following dependency alone doesn&#39;t work:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;javax.validation&lt;/groupId&gt;\r\n        &lt;artifactId&gt;validation-api&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\nBecause this provides JSR Specification but not the implementation. You can also use `hibernate-validator` instead of `spring-boot-starter-validation`. ","title":"Spring boot validation annotations @Valid and @NotBlank not working","body":"<p>If you are facing this problem in latest version of spring boot (2.3.0) make sure to add the following dependency:</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p><strong>Observation:</strong>\nIn earlier version of Spring Boot (1.4.7), <code>javax.validation</code> used to work out of the box. But, after upgrading to latest version, annotations broke. Adding the following dependency alone doesn't work:</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;javax.validation&lt;/groupId&gt;\n    &lt;artifactId&gt;validation-api&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>Because this provides JSR Specification but not the implementation. You can also use <code>hibernate-validator</code> instead of <code>spring-boot-starter-validation</code>. </p>\n"},{"comments":[{"owner":{"account_id":8587609,"reputation":1094,"user_id":6433161,"display_name":"Sandeep Jain"},"score":0,"creation_date":1612178381,"post_id":65000501,"comment_id":116676423,"body_markdown":"also please add in the code @Validated where the request body to be validated in the rest controller","body":"also please add in the code @Validated where the request body to be validated in the rest controller"},{"owner":{"account_id":7860843,"reputation":368,"user_id":5941309,"display_name":"Nipuna Upeksha"},"score":0,"creation_date":1643458802,"post_id":65000501,"comment_id":125347785,"body_markdown":"This was the problem for me. After changing the dependencies as mentioned above, it worked.","body":"This was the problem for me. After changing the dependencies as mentioned above, it worked."}],"tags":[],"owner":{"account_id":19963121,"reputation":331,"user_id":14630243,"display_name":"Arjun Gautam"},"comment_count":2,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1606290802,"creation_date":1606290802,"answer_id":65000501,"question_id":48614773,"body_markdown":"I was using This dependency of validation in spring boot and didn&#39;t work ,\r\n\r\n    &lt;!-- https://mvnrepository.com/artifact/javax.validation/validation-api --&gt;\r\n    &lt;dependency&gt;\r\n    &lt;groupId&gt;javax.validation&lt;/groupId&gt;\r\n    &lt;artifactId&gt;validation-api&lt;/artifactId&gt;\r\n    &lt;version&gt;2.0.1.Final&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n\r\nI replaced it with spring-boot-starter-validation and it worked .\r\n\r\n    &lt;!-- https://mvnrepository.com/artifact/org.springframework.boot/spring-boot- \r\n    starter-validation --&gt;\r\n    &lt;dependency&gt;\r\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\r\n    &lt;version&gt;2.4.0&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n\r\n\r\n\r\n\r\n","title":"Spring boot validation annotations @Valid and @NotBlank not working","body":"<p>I was using This dependency of validation in spring boot and didn't work ,</p>\n<pre><code>&lt;!-- https://mvnrepository.com/artifact/javax.validation/validation-api --&gt;\n&lt;dependency&gt;\n&lt;groupId&gt;javax.validation&lt;/groupId&gt;\n&lt;artifactId&gt;validation-api&lt;/artifactId&gt;\n&lt;version&gt;2.0.1.Final&lt;/version&gt;\n</code></pre>\n\n<p>I replaced it with spring-boot-starter-validation and it worked .</p>\n<pre><code>&lt;!-- https://mvnrepository.com/artifact/org.springframework.boot/spring-boot- \nstarter-validation --&gt;\n&lt;dependency&gt;\n&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n&lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\n&lt;version&gt;2.4.0&lt;/version&gt;\n</code></pre>\n\n"},{"comments":[{"owner":{"account_id":3736151,"reputation":423,"user_id":3107052,"display_name":"seedme"},"score":0,"creation_date":1649488830,"post_id":65538482,"comment_id":126892693,"body_markdown":"I am using `web-starter-2.6.5` apparently no proper validation of `@NotNull`, `@NotEmpty`, and `@NotBlank` there but there is `@NonNull` and `Validated` from `org.springframework.lang`. I was confused a while and verified `@NonNull` and `Validated` are NOT the proper validation to use. Thanks for the answer it helped.","body":"I am using <code>web-starter-2.6.5</code> apparently no proper validation of <code>@NotNull</code>, <code>@NotEmpty</code>, and <code>@NotBlank</code> there but there is <code>@NonNull</code> and <code>Validated</code> from <code>org.springframework.lang</code>. I was confused a while and verified <code>@NonNull</code> and <code>Validated</code> are NOT the proper validation to use. Thanks for the answer it helped."}],"tags":[],"owner":{"account_id":14393661,"reputation":574,"user_id":10397635,"display_name":"Thanny"},"comment_count":1,"down_vote_count":0,"up_vote_count":37,"is_accepted":false,"score":37,"last_activity_date":1609586083,"creation_date":1609586083,"answer_id":65538482,"question_id":48614773,"body_markdown":"For Anyone who is getting this issue with **2.0.1.Final**:\r\n\r\nIn all SpringBoot versions above 2.2, **Validations starter is not a part of web starter anymore**\r\n\r\n[Check Notes here][1]\r\n\r\n\r\n  [1]: https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-2.3-Release-Notes#validation-starter-no-longer-included-in-web-starters\r\n\r\nSo, all you have to do is add this dependency in your build.gradle/pom file\r\n\r\nGRADLE:\r\n\r\n    implementation &#39;org.springframework.boot:spring-boot-starter-validation&#39;\r\n\r\nMAVEN\r\n\r\n    &lt;dependency&gt;\r\n     &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n     &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;","title":"Spring boot validation annotations @Valid and @NotBlank not working","body":"<p>For Anyone who is getting this issue with <strong>2.0.1.Final</strong>:</p>\n<p>In all SpringBoot versions above 2.2, <strong>Validations starter is not a part of web starter anymore</strong></p>\n<p><a href=\"https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-2.3-Release-Notes#validation-starter-no-longer-included-in-web-starters\" rel=\"noreferrer\">Check Notes here</a></p>\n<p>So, all you have to do is add this dependency in your build.gradle/pom file</p>\n<p>GRADLE:</p>\n<pre><code>implementation 'org.springframework.boot:spring-boot-starter-validation'\n</code></pre>\n<p>MAVEN</p>\n<pre><code>&lt;dependency&gt;\n &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20747718,"reputation":125,"user_id":15235962,"display_name":"CodeLearner"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1625228680,"creation_date":1625228680,"answer_id":68225160,"question_id":48614773,"body_markdown":"this is for anyone here who still has the same issue after following the steps mentioned above. I had to restart my IDE (IntelliJ) for the changes to take effect.","title":"Spring boot validation annotations @Valid and @NotBlank not working","body":"<p>this is for anyone here who still has the same issue after following the steps mentioned above. I had to restart my IDE (IntelliJ) for the changes to take effect.</p>\n"},{"comments":[{"owner":{"account_id":2349225,"reputation":26836,"user_id":2058547,"accept_rate":60,"display_name":"Ojonugwa Jude Ochalifu"},"score":1,"creation_date":1640938780,"post_id":68536417,"comment_id":124694387,"body_markdown":"Works. Docs don&#39;t mention this at all.Like we are just supposed to know these things.","body":"Works. Docs don&#39;t mention this at all.Like we are just supposed to know these things."},{"owner":{"account_id":11656953,"reputation":141,"user_id":8536380,"display_name":"Lavinia"},"score":0,"creation_date":1652471098,"post_id":68536417,"comment_id":127622961,"body_markdown":"This comment saved me from the debugging hell that I was going through only because I had the `javax.validation.validation-api` and the `org.hibernate.hibernate-validator` as dependencies. By doing the other steps (having the `spring-boot-starter-validation`, the @Validated and @Valid annotations) everything magically worked! Thanks a lot! :D","body":"This comment saved me from the debugging hell that I was going through only because I had the <code>javax.validation.validation-api</code> and the <code>org.hibernate.hibernate-validator</code> as dependencies. By doing the other steps (having the <code>spring-boot-starter-validation</code>, the @Validated and @Valid annotations) everything magically worked! Thanks a lot! :D"},{"owner":{"account_id":6937531,"reputation":91,"user_id":5324981,"display_name":"George Barbosa"},"score":0,"creation_date":1675136949,"post_id":68536417,"comment_id":132859241,"body_markdown":"Same problem here, I tried everything, but it only worked after removing the org.hibernate.hibernate-validator from the classpath","body":"Same problem here, I tried everything, but it only worked after removing the org.hibernate.hibernate-validator from the classpath"}],"tags":[],"owner":{"account_id":8986718,"reputation":2467,"user_id":6700081,"accept_rate":73,"display_name":"firstpostcommenter"},"comment_count":3,"down_vote_count":0,"up_vote_count":22,"is_accepted":false,"score":22,"last_activity_date":1627334215,"creation_date":1627334215,"answer_id":68536417,"question_id":48614773,"body_markdown":"I faced the same error.\r\n\r\nI had to use the below 2 dependencies alone:\r\n\r\n          &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n\r\nAnd use `@Validated` annotation(import org.springframework.validation.annotation.Validated) on rest controller level and `@Valid` annotation at method argument level(import javax.validation.Valid)\r\n\r\nIf there are any other extra dependencies like `javax.validation.validation-api`, `org.hibernate.hibernate-validator`, etc then the validations stopped working for me. So make sure that you remove these dependencies from pom.xml","title":"Spring boot validation annotations @Valid and @NotBlank not working","body":"<p>I faced the same error.</p>\n<p>I had to use the below 2 dependencies alone:</p>\n<pre><code>      &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>And use <code>@Validated</code> annotation(import org.springframework.validation.annotation.Validated) on rest controller level and <code>@Valid</code> annotation at method argument level(import javax.validation.Valid)</p>\n<p>If there are any other extra dependencies like <code>javax.validation.validation-api</code>, <code>org.hibernate.hibernate-validator</code>, etc then the validations stopped working for me. So make sure that you remove these dependencies from pom.xml</p>\n"},{"tags":[],"owner":{"account_id":13893649,"reputation":733,"user_id":10807253,"display_name":"tensor"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1633072715,"creation_date":1633072715,"answer_id":69401963,"question_id":48614773,"body_markdown":"My problem solved by this.\r\nWhen we use classes inside classes that also need validations so `@Valid` needs to be annotated to all in that case.\r\n[Link for more details][1]\r\n\r\n\r\n  [1]: https://medium.com/javarevisited/are-you-using-valid-and-validated-annotations-wrong-b4a35ac1bca4","title":"Spring boot validation annotations @Valid and @NotBlank not working","body":"<p>My problem solved by this.\nWhen we use classes inside classes that also need validations so <code>@Valid</code> needs to be annotated to all in that case.\n<a href=\"https://medium.com/javarevisited/are-you-using-valid-and-validated-annotations-wrong-b4a35ac1bca4\" rel=\"noreferrer\">Link for more details</a></p>\n"},{"tags":[],"owner":{"account_id":13782778,"reputation":935,"user_id":9947525,"display_name":"Fazal Haroon"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1674765162,"creation_date":1663929903,"answer_id":73826566,"question_id":48614773,"body_markdown":"You have to add this dependency in pom.xml\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n\r\n**Note:** SNAPSHOT, M1, M2, M3, and M4 releases typically WORK IN PROGRESS. The Spring team is still working on them, Recommend NOT using them.","title":"Spring boot validation annotations @Valid and @NotBlank not working","body":"<p>You have to add this dependency in pom.xml</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p><strong>Note:</strong> SNAPSHOT, M1, M2, M3, and M4 releases typically WORK IN PROGRESS. The Spring team is still working on them, Recommend NOT using them.</p>\n"},{"tags":[],"owner":{"account_id":12387567,"reputation":67,"user_id":9030570,"display_name":"Jewel"},"comment_count":0,"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1664249589,"creation_date":1664249589,"answer_id":73862049,"question_id":48614773,"body_markdown":"**Step-1: Add these two dependency in the pom.xml file**\r\n\r\n        &lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;javax.validation&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;validation-api&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n**Step-2: Create a Custom Exception class like this**\r\n\r\n    package com.bjit.salon.auth.service.exceptions;\r\n\r\n\r\n    import org.springframework.context.support.DefaultMessageSourceResolvable;\r\n    import org.springframework.http.HttpStatus;\r\n    import org.springframework.http.ResponseEntity;\r\n    import org.springframework.web.bind.MethodArgumentNotValidException;\r\n    import org.springframework.web.bind.annotation.ControllerAdvice;\r\n    import org.springframework.web.bind.annotation.ExceptionHandler;\r\n    import org.springframework.web.bind.annotation.ResponseBody;\r\n\r\n    import java.util.List;\r\n    import java.util.stream.Collectors;\r\n\r\n    @ControllerAdvice\r\n    public class AnynameApplicationException {\r\n\r\n        @ExceptionHandler(MethodArgumentNotValidException.class)\r\n        @ResponseBody\r\n        public ResponseEntity&lt;List&lt;String&gt;&gt; processUnmergeException(final \r\n    MethodArgumentNotValidException ex) {\r\n\r\n            List&lt;String&gt; list = ex.getBindingResult().getAllErrors().stream()\r\n                    .map(DefaultMessageSourceResolvable::getDefaultMessage)\r\n                    .collect(Collectors.toList());\r\n\r\n            return new ResponseEntity&lt;&gt;(list, HttpStatus.BAD_REQUEST);\r\n        }\r\n    }\r\n\r\n**Step-3: Add @Valid annotation to the method arguments like this way**\r\n\r\n    public ResponseEntity&lt;?&gt; registerAccount(@Valid @RequestBody UserRegisterDto \r\n          registerDto) {\r\n           \r\n        // rest of the codes\r\n    }\r\n\r\n","title":"Spring boot validation annotations @Valid and @NotBlank not working","body":"<p><strong>Step-1: Add these two dependency in the pom.xml file</strong></p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;javax.validation&lt;/groupId&gt;\n        &lt;artifactId&gt;validation-api&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p><strong>Step-2: Create a Custom Exception class like this</strong></p>\n<pre><code>package com.bjit.salon.auth.service.exceptions;\n\n\nimport org.springframework.context.support.DefaultMessageSourceResolvable;\nimport org.springframework.http.HttpStatus;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.web.bind.MethodArgumentNotValidException;\nimport org.springframework.web.bind.annotation.ControllerAdvice;\nimport org.springframework.web.bind.annotation.ExceptionHandler;\nimport org.springframework.web.bind.annotation.ResponseBody;\n\nimport java.util.List;\nimport java.util.stream.Collectors;\n\n@ControllerAdvice\npublic class AnynameApplicationException {\n\n    @ExceptionHandler(MethodArgumentNotValidException.class)\n    @ResponseBody\n    public ResponseEntity&lt;List&lt;String&gt;&gt; processUnmergeException(final \nMethodArgumentNotValidException ex) {\n\n        List&lt;String&gt; list = ex.getBindingResult().getAllErrors().stream()\n                .map(DefaultMessageSourceResolvable::getDefaultMessage)\n                .collect(Collectors.toList());\n\n        return new ResponseEntity&lt;&gt;(list, HttpStatus.BAD_REQUEST);\n    }\n}\n</code></pre>\n<p><strong>Step-3: Add @Valid annotation to the method arguments like this way</strong></p>\n<pre><code>public ResponseEntity&lt;?&gt; registerAccount(@Valid @RequestBody UserRegisterDto \n      registerDto) {\n       \n    // rest of the codes\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2019713,"reputation":1348,"user_id":1806193,"accept_rate":80,"display_name":"luizfzs"},"score":1,"creation_date":1674995638,"post_id":75010119,"comment_id":132828997,"body_markdown":"I&#39;m using spring boot 3 and hibernate-validator 8.0.0.Final and importing `jakarta.validation.*` instead of `javax.validation.*` annotations is what solved my problem.","body":"I&#39;m using spring boot 3 and hibernate-validator 8.0.0.Final and importing <code>jakarta.validation.*</code> instead of <code>javax.validation.*</code> annotations is what solved my problem."},{"owner":{"account_id":18759194,"reputation":1122,"user_id":13678514,"display_name":"Emmanuel Njorodongo"},"score":0,"creation_date":1678782801,"post_id":75010119,"comment_id":133595669,"body_markdown":"@Adarsh R Jayan perfect answer this is the only solution that is working remember to add `@Validated` in the Controller and also use jakarta import for `@Valid` in the controller","body":"@Adarsh R Jayan perfect answer this is the only solution that is working remember to add <code>@Validated</code> in the Controller and also use jakarta import for <code>@Valid</code> in the controller"}],"tags":[],"owner":{"account_id":8202001,"reputation":189,"user_id":6173055,"display_name":"Adarsh R Jayan"},"comment_count":2,"down_vote_count":1,"up_vote_count":12,"is_accepted":false,"score":11,"last_activity_date":1672859198,"creation_date":1672859198,"answer_id":75010119,"question_id":48614773,"body_markdown":"Make sure to use @Valid annotation before @RequestBody\r\n\r\nFor newer versions of spring boot ensure all validation annotation are picked from `jakarta.validation.*` package and not `javax.validation.*`. As the annotations are named same in both.","title":"Spring boot validation annotations @Valid and @NotBlank not working","body":"<p>Make sure to use @Valid annotation before @RequestBody</p>\n<p>For newer versions of spring boot ensure all validation annotation are picked from <code>jakarta.validation.*</code> package and not <code>javax.validation.*</code>. As the annotations are named same in both.</p>\n"},{"tags":[],"owner":{"account_id":13060675,"reputation":1,"user_id":9437977,"display_name":"Ankush Pal"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1674762590,"creation_date":1674762405,"answer_id":75250959,"question_id":48614773,"body_markdown":"You can use @NotEmpty will check for both blank and null values.\r\nAdd @Valid to your RestContoller class methods","title":"Spring boot validation annotations @Valid and @NotBlank not working","body":"<p>You can use @NotEmpty will check for both blank and null values.\nAdd @Valid to your RestContoller class methods</p>\n"},{"tags":[],"owner":{"account_id":25138546,"reputation":11,"user_id":18985083,"display_name":"abhishekkumarXD"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1685882124,"creation_date":1685881959,"answer_id":76400436,"question_id":48614773,"body_markdown":"Add this dependency to your **pom.xml** file and **@NotBlank, @NotNull, @Valid**, etc. should work fine.\r\n\r\n    &lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;jakarta.validation&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;jakarta.validation-api&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.0.2&lt;/version&gt;\r\n    &lt;/dependency&gt;","title":"Spring boot validation annotations @Valid and @NotBlank not working","body":"<p>Add this dependency to your <strong>pom.xml</strong> file and <strong>@NotBlank, @NotNull, @Valid</strong>, etc. should work fine.</p>\n<pre><code>&lt;dependency&gt;\n            &lt;groupId&gt;jakarta.validation&lt;/groupId&gt;\n            &lt;artifactId&gt;jakarta.validation-api&lt;/artifactId&gt;\n            &lt;version&gt;2.0.2&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":5773,"reputation":3320,"user_id":9458,"accept_rate":67,"display_name":"F&#225;bio"},"score":0,"creation_date":1699281743,"post_id":76564007,"comment_id":136508477,"body_markdown":"I didn&#39;t have to add a `LocalValidatorFactoryBean` like you did, the only change I needed was annotating the Controller with the new `@Validated` annotation.","body":"I didn&#39;t have to add a <code>LocalValidatorFactoryBean</code> like you did, the only change I needed was annotating the Controller with the new <code>@Validated</code> annotation."}],"tags":[],"owner":{"account_id":7392763,"reputation":3367,"user_id":5625696,"accept_rate":50,"display_name":"Borislav Stoilov"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1687862240,"creation_date":1687862240,"answer_id":76564007,"question_id":48614773,"body_markdown":"For anyone like me using spring boot 3.X.\r\n\r\nAfter the jackarta update you have to include extra config in order for the request body validation to work. (The field validation was working just fine even without extra config)\r\n\r\nAt the end all I needed was\r\n\r\n    @Configuration\r\n    public class ValidationConfiguration {\r\n    \r\n        @Bean\r\n        public LocalValidatorFactoryBean validator() {\r\n            return new LocalValidatorFactoryBean();\r\n        }\r\n    }\r\n\r\nand     `implementation &#39;org.springframework.boot:spring-boot-starter-validation&#39;`\r\n\r\nit is recommended to use the spring boot maven/gradle plugin so there are no version discrepencies \r\n","title":"Spring boot validation annotations @Valid and @NotBlank not working","body":"<p>For anyone like me using spring boot 3.X.</p>\n<p>After the jackarta update you have to include extra config in order for the request body validation to work. (The field validation was working just fine even without extra config)</p>\n<p>At the end all I needed was</p>\n<pre><code>@Configuration\npublic class ValidationConfiguration {\n\n    @Bean\n    public LocalValidatorFactoryBean validator() {\n        return new LocalValidatorFactoryBean();\n    }\n}\n</code></pre>\n<p>and     <code>implementation 'org.springframework.boot:spring-boot-starter-validation'</code></p>\n<p>it is recommended to use the spring boot maven/gradle plugin so there are no version discrepencies</p>\n"},{"comments":[{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1691744419,"post_id":76860281,"comment_id":135535999,"body_markdown":"The question is tagged &quot;java&quot; (and **not** &quot;kotlin&quot;) so I don&#39;t know how much posting Kotlin code will help.","body":"The question is tagged &quot;java&quot; (and <b>not</b> &quot;kotlin&quot;) so I don&#39;t know how much posting Kotlin code will help."},{"owner":{"account_id":3835145,"reputation":323,"user_id":3179666,"display_name":"Mike Muske"},"score":1,"creation_date":1692227618,"post_id":76860281,"comment_id":135596636,"body_markdown":"It helped, thank you!","body":"It helped, thank you!"},{"owner":{"account_id":192815,"reputation":4643,"user_id":434171,"accept_rate":76,"display_name":"Marcos"},"score":1,"creation_date":1692474140,"post_id":76860281,"comment_id":135629169,"body_markdown":"Thanks! I was having the same issue but with Kotlin and your comment about `@field:Annotation` helped","body":"Thanks! I was having the same issue but with Kotlin and your comment about <code>@field:Annotation</code> helped"}],"tags":[],"owner":{"account_id":8574402,"reputation":105,"user_id":6424090,"display_name":"Bashar ALkaddah"},"comment_count":3,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1691503196,"creation_date":1691503196,"answer_id":76860281,"question_id":48614773,"body_markdown":"If you are using spring version &gt; 3\r\n\r\nand using Kotlin you should add @field:Annotation \r\n\r\nex: \r\n\r\n    @field:NotEmpty\r\n    @field:NotNull\r\n    @field:NotBlank(message = &quot;Email is required&quot;)\r\n    @field:Email(message = &quot;Please provide a valid email&quot;)\r\n    val email: String,\r\n    @field:NotEmpty\r\n    @field:NotNull\r\n    @field:NotBlank(message = &quot;Password is required&quot;)\r\n    val password: String,","title":"Spring boot validation annotations @Valid and @NotBlank not working","body":"<p>If you are using spring version &gt; 3</p>\n<p>and using Kotlin you should add @field:Annotation</p>\n<p>ex:</p>\n<pre><code>@field:NotEmpty\n@field:NotNull\n@field:NotBlank(message = &quot;Email is required&quot;)\n@field:Email(message = &quot;Please provide a valid email&quot;)\nval email: String,\n@field:NotEmpty\n@field:NotNull\n@field:NotBlank(message = &quot;Password is required&quot;)\nval password: String,\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5089458,"reputation":364,"user_id":4082981,"display_name":"salerokada"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692762959,"creation_date":1692762959,"answer_id":76958171,"question_id":48614773,"body_markdown":"Same problem with entities in my Kotlin Spring boot 3.x application.&lt;br&gt;\r\nSolved by adding `spring-boot-starter-validation` dependency and adding anotation `@field:NotBlank` (or `@field:NotNull`, `@field:NotEmpty`) on fields.","title":"Spring boot validation annotations @Valid and @NotBlank not working","body":"<p>Same problem with entities in my Kotlin Spring boot 3.x application.<br>\nSolved by adding <code>spring-boot-starter-validation</code> dependency and adding anotation <code>@field:NotBlank</code> (or <code>@field:NotNull</code>, <code>@field:NotEmpty</code>) on fields.</p>\n"},{"comments":[{"owner":{"account_id":15519832,"reputation":1026,"user_id":11478354,"display_name":"dcolazin"},"score":0,"creation_date":1693339455,"post_id":76982702,"comment_id":135747152,"body_markdown":"While it is true that dependencies order is fundamental, what was your issue? Shading? Wrong version?","body":"While it is true that dependencies order is fundamental, what was your issue? Shading? Wrong version?"}],"tags":[],"owner":{"account_id":22750345,"reputation":9,"user_id":16910588,"display_name":"Adrian M"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693048235,"creation_date":1693048206,"answer_id":76982702,"question_id":48614773,"body_markdown":"I had same problem\r\nFor me adding:\r\n\r\n    &lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\nunder the spring-boot-starter-web dependency solved problem.\r\nTo be sure you should generate dependency directly with Validation form start spring io. It&#39;s worth mentioning that **order of dependencies in pom file is crucial**","title":"Spring boot validation annotations @Valid and @NotBlank not working","body":"<p>I had same problem\nFor me adding:</p>\n<pre><code>&lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>under the spring-boot-starter-web dependency solved problem.\nTo be sure you should generate dependency directly with Validation form start spring io. It's worth mentioning that <strong>order of dependencies in pom file is crucial</strong></p>\n"},{"tags":[],"owner":{"account_id":11417863,"reputation":1016,"user_id":8370216,"display_name":"Abhijith mogaveera"},"comment_count":0,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1697773377,"creation_date":1696343965,"answer_id":77223275,"question_id":48614773,"body_markdown":"* This answer is in &lt;h1&gt;&lt;B&gt;kotlin&lt;/B&gt;&lt;/h1&gt; you can also refer this for java syntext is highly similar\r\n* Create a exception handler \r\n* &lt;B&gt;Tip&lt;/b&gt;: check console for exception class \r\nto log error message in console add this line to &lt;B&gt;application.properties&lt;/B&gt;\r\n```kotlin\r\nserver.error.include-message =  always\r\n```\r\n```kotlin \r\nimport org.springframework.http.HttpStatus\r\nimport org.springframework.http.ResponseEntity\r\nimport org.springframework.stereotype.Component\r\nimport org.springframework.validation.FieldError\r\nimport org.springframework.validation.ObjectError\r\nimport org.springframework.web.bind.MethodArgumentNotValidException\r\nimport org.springframework.web.bind.annotation.ControllerAdvice\r\nimport org.springframework.web.bind.annotation.ExceptionHandler\r\nimport org.springframework.web.bind.annotation.ResponseBody\r\nimport org.springframework.web.bind.annotation.ResponseStatus\r\nimport java.util.function.Consumer\r\n\r\n@ControllerAdvice\r\nclass MethodArgumentNotValidExceptionHandler {\r\n    @ExceptionHandler(MethodArgumentNotValidException::class)\r\n    @ResponseBody\r\n    fun handleValidationExceptions(ex: MethodArgumentNotValidException): ResponseEntity&lt;Map&lt;String, String?&gt;&gt; {\r\n        val errors: MutableMap&lt;String, String?&gt; = HashMap()\r\n        ex.bindingResult.allErrors.forEach(Consumer { error: ObjectError -&gt;\r\n            val fieldName = (error as FieldError).field\r\n            val errorMessage = error.getDefaultMessage()\r\n            errors[fieldName] = errorMessage\r\n        })\r\n        println(errors)\r\n        return ResponseEntity.badRequest().body(errors)\r\n    }\r\n}\r\n\r\n```\r\n* use jakarta validation instead of java x in am using spring 3+\r\n```groove\r\n    implementation (&quot;org.springframework.boot:spring-boot-starter-validation&quot;)\r\n```\r\n\r\n* if your are using kotlin target annotation to fields\r\n```kotlin\r\nimport jakarta.persistence.*\r\nimport jakarta.validation.constraints.Email\r\nimport jakarta.validation.constraints.NotBlank\r\nimport jakarta.validation.constraints.Pattern\r\nimport org.springframework.security.core.GrantedAuthority\r\nimport org.springframework.security.core.authority.SimpleGrantedAuthority\r\nimport org.springframework.security.core.userdetails.UserDetails\r\n\r\n@Entity\r\n@Table(name = &quot;_user&quot;)\r\ndata class User(\r\n    @Id @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    var id: Int? = null,\r\n    @field:NotBlank var firstName: String = &quot;&quot;,\r\n    @field:NotBlank var lastName: String = &quot;&quot;,\r\n    @field:Email @Column(unique = true) var email: String = &quot;&quot;,\r\n    @field:Column(unique = true, name = &quot;password&quot;)\r\n    @field:NotBlank private var _password: String = &quot;&quot;,\r\n) \r\n```\r\n* in your router class use @Validated annotation\r\n```kotiln\r\nimport jakarta.validation.Valid\r\n```\r\n```kotlin\r\n\r\n    @PostMapping(&quot;/login&quot;)\r\n    fun login(\r\n        @Validated @RequestBody reqBody: User,\r\n    ): ResponseEntity&lt;String&gt;? {\r\n        return ResponseEntity.ok(\r\n            accountService.login(\r\n                email = reqBody.email,\r\n                password = reqBody.password\r\n            ).bind()\r\n        )\r\n        \r\n    }\r\n```","title":"Spring boot validation annotations @Valid and @NotBlank not working","body":"<ul>\n<li>This answer is in <h1><B>kotlin</B></h1> you can also refer this for java syntext is highly similar</li>\n<li>Create a exception handler</li>\n<li><B>Tip</b>: check console for exception class\nto log error message in console add this line to <B>application.properties</B></li>\n</ul>\n<pre class=\"lang-kotlin prettyprint-override\"><code>server.error.include-message =  always\n</code></pre>\n<pre class=\"lang-kotlin prettyprint-override\"><code>import org.springframework.http.HttpStatus\nimport org.springframework.http.ResponseEntity\nimport org.springframework.stereotype.Component\nimport org.springframework.validation.FieldError\nimport org.springframework.validation.ObjectError\nimport org.springframework.web.bind.MethodArgumentNotValidException\nimport org.springframework.web.bind.annotation.ControllerAdvice\nimport org.springframework.web.bind.annotation.ExceptionHandler\nimport org.springframework.web.bind.annotation.ResponseBody\nimport org.springframework.web.bind.annotation.ResponseStatus\nimport java.util.function.Consumer\n\n@ControllerAdvice\nclass MethodArgumentNotValidExceptionHandler {\n    @ExceptionHandler(MethodArgumentNotValidException::class)\n    @ResponseBody\n    fun handleValidationExceptions(ex: MethodArgumentNotValidException): ResponseEntity&lt;Map&lt;String, String?&gt;&gt; {\n        val errors: MutableMap&lt;String, String?&gt; = HashMap()\n        ex.bindingResult.allErrors.forEach(Consumer { error: ObjectError -&gt;\n            val fieldName = (error as FieldError).field\n            val errorMessage = error.getDefaultMessage()\n            errors[fieldName] = errorMessage\n        })\n        println(errors)\n        return ResponseEntity.badRequest().body(errors)\n    }\n}\n\n</code></pre>\n<ul>\n<li>use jakarta validation instead of java x in am using spring 3+</li>\n</ul>\n<pre><code>    implementation (&quot;org.springframework.boot:spring-boot-starter-validation&quot;)\n</code></pre>\n<ul>\n<li>if your are using kotlin target annotation to fields</li>\n</ul>\n<pre class=\"lang-kotlin prettyprint-override\"><code>import jakarta.persistence.*\nimport jakarta.validation.constraints.Email\nimport jakarta.validation.constraints.NotBlank\nimport jakarta.validation.constraints.Pattern\nimport org.springframework.security.core.GrantedAuthority\nimport org.springframework.security.core.authority.SimpleGrantedAuthority\nimport org.springframework.security.core.userdetails.UserDetails\n\n@Entity\n@Table(name = &quot;_user&quot;)\ndata class User(\n    @Id @GeneratedValue(strategy = GenerationType.IDENTITY)\n    var id: Int? = null,\n    @field:NotBlank var firstName: String = &quot;&quot;,\n    @field:NotBlank var lastName: String = &quot;&quot;,\n    @field:Email @Column(unique = true) var email: String = &quot;&quot;,\n    @field:Column(unique = true, name = &quot;password&quot;)\n    @field:NotBlank private var _password: String = &quot;&quot;,\n) \n</code></pre>\n<ul>\n<li>in your router class use @Validated annotation</li>\n</ul>\n<pre><code>import jakarta.validation.Valid\n</code></pre>\n<pre class=\"lang-kotlin prettyprint-override\"><code>\n    @PostMapping(&quot;/login&quot;)\n    fun login(\n        @Validated @RequestBody reqBody: User,\n    ): ResponseEntity&lt;String&gt;? {\n        return ResponseEntity.ok(\n            accountService.login(\n                email = reqBody.email,\n                password = reqBody.password\n            ).bind()\n        )\n        \n    }\n</code></pre>\n"}],"owner":{"account_id":10356917,"reputation":1187,"user_id":7638553,"accept_rate":64,"display_name":"Poonkodi Sivapragasam"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":140943,"favorite_count":0,"down_vote_count":0,"up_vote_count":66,"accepted_answer_id":48614909,"answer_count":17,"score":66,"last_activity_date":1697773377,"creation_date":1517794226,"question_id":48614773,"body_markdown":"Given below is my main controller from which I am calling the **getPDFDetails** method.\r\n\r\n    @RequestMapping(value=PATH_PRINT_CONTRACTS, method=RequestMethod.POST)\r\n    \tpublic ResponseEntity&lt;?&gt; printContracts(@RequestBody final UpdatePrintContracts updatePrintContracts) throws Exception {\r\n    \t\r\n    \t\tSystem.out.println(&quot;contracts value is &quot;+ updatePrintContracts);\r\n    \t\t\r\n    \t\tInteger cancellationReasons = service.getPDFDetails(updatePrintContracts);\r\n    \t\t\r\n    \t\tSystem.out.println(&quot;success!&quot;);\r\n    \t\t\r\n    \t\treturn ResponseEntity.ok(cancellationReasons);\r\n    \t}\t\r\n\r\nBelow is the **UpdatePrintContracts** class where I have defined all the variables with validation annotations and corresponding getter/setter methods.\r\n\r\n\r\n    public class UpdatePrintContracts {\r\n    \t\r\n    \t@Valid\r\n    \t@NotBlank\r\n    \t@Pattern(regexp = &quot;\\\\p{Alnum}{1,30}&quot;)\r\n    \tString isReprint;\r\n    \t\r\n    \t@Valid\r\n    \t@NotBlank\r\n    \tInteger dealerId;\r\n    \t\r\n    \t@Valid\r\n    \t@NotBlank\r\n    \t@Pattern(regexp = &quot;\\\\p{Alnum}{1,30}&quot;)\r\n    \tString includeSignatureCoordinates;\r\n    \t\r\n    \t@Valid\r\n    \t@NotBlank\r\n    \tjava.util.List&lt;Integer&gt; contractNumbers;\r\n    \r\n    \tpublic String getIsReprint() {\r\n    \t\treturn isReprint;\r\n    \t}\r\n    \r\n    \tpublic void setIsReprint(String isReprint) {\r\n    \t\tthis.isReprint = isReprint;\r\n    \t}\r\n    \r\n    \tpublic Integer getDealerId() {\r\n    \t\treturn dealerId;\r\n    \t}\r\n    \r\n    \tpublic void setDealerId(Integer dealerId) {\r\n    \t\tthis.dealerId = dealerId;\r\n    \t}\r\n    \r\n    \tpublic String getIncludeSignatureCoordinates() {\r\n    \t\treturn includeSignatureCoordinates;\r\n    \t}\r\n    \r\n    \tpublic void setIncludeSignatureCoordinates(String includeSignatureCoordinates) {\r\n    \t\tthis.includeSignatureCoordinates = includeSignatureCoordinates;\r\n    \t}\r\n    \r\n    \tpublic java.util.List&lt;Integer&gt; getContractNumbers() {\r\n    \t\treturn contractNumbers;\r\n    \t}\r\n    \r\n    \tpublic void setContractNumbers(java.util.List&lt;Integer&gt; contractNumbers) {\r\n    \t\tthis.contractNumbers = contractNumbers;\r\n    \t}\r\n    \t\r\n    }\r\n\r\nI am trying to run the application as a Spring Boot app by right clicking on the project (Run As) and passing blank values for variables **isReprint** and **includeSignatureCoordinates** through Soap UI. However the validation doesn&#39;t seem to work and is not throwing any validation error in Soap UI. What am I missing? Any help is appreciated!\r\n\r\n","title":"Spring boot validation annotations @Valid and @NotBlank not working","body":"<p>Given below is my main controller from which I am calling the <strong>getPDFDetails</strong> method.</p>\n<pre><code>@RequestMapping(value=PATH_PRINT_CONTRACTS, method=RequestMethod.POST)\n    public ResponseEntity&lt;?&gt; printContracts(@RequestBody final UpdatePrintContracts updatePrintContracts) throws Exception {\n    \n        System.out.println(&quot;contracts value is &quot;+ updatePrintContracts);\n        \n        Integer cancellationReasons = service.getPDFDetails(updatePrintContracts);\n        \n        System.out.println(&quot;success!&quot;);\n        \n        return ResponseEntity.ok(cancellationReasons);\n    }   \n</code></pre>\n<p>Below is the <strong>UpdatePrintContracts</strong> class where I have defined all the variables with validation annotations and corresponding getter/setter methods.</p>\n<pre><code>public class UpdatePrintContracts {\n    \n    @Valid\n    @NotBlank\n    @Pattern(regexp = &quot;\\\\p{Alnum}{1,30}&quot;)\n    String isReprint;\n    \n    @Valid\n    @NotBlank\n    Integer dealerId;\n    \n    @Valid\n    @NotBlank\n    @Pattern(regexp = &quot;\\\\p{Alnum}{1,30}&quot;)\n    String includeSignatureCoordinates;\n    \n    @Valid\n    @NotBlank\n    java.util.List&lt;Integer&gt; contractNumbers;\n\n    public String getIsReprint() {\n        return isReprint;\n    }\n\n    public void setIsReprint(String isReprint) {\n        this.isReprint = isReprint;\n    }\n\n    public Integer getDealerId() {\n        return dealerId;\n    }\n\n    public void setDealerId(Integer dealerId) {\n        this.dealerId = dealerId;\n    }\n\n    public String getIncludeSignatureCoordinates() {\n        return includeSignatureCoordinates;\n    }\n\n    public void setIncludeSignatureCoordinates(String includeSignatureCoordinates) {\n        this.includeSignatureCoordinates = includeSignatureCoordinates;\n    }\n\n    public java.util.List&lt;Integer&gt; getContractNumbers() {\n        return contractNumbers;\n    }\n\n    public void setContractNumbers(java.util.List&lt;Integer&gt; contractNumbers) {\n        this.contractNumbers = contractNumbers;\n    }\n    \n}\n</code></pre>\n<p>I am trying to run the application as a Spring Boot app by right clicking on the project (Run As) and passing blank values for variables <strong>isReprint</strong> and <strong>includeSignatureCoordinates</strong> through Soap UI. However the validation doesn't seem to work and is not throwing any validation error in Soap UI. What am I missing? Any help is appreciated!</p>\n"},{"tags":["java","enums","static","enum-map"],"comments":[{"owner":{"account_id":1056871,"reputation":117749,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"score":2,"creation_date":1621442605,"post_id":67607416,"comment_id":119499203,"body_markdown":"second one is a big anti-pattern and your first one does not initialize an `EnumMap`, but a `Map` (immutable one)","body":"second one is a big anti-pattern and your first one does not initialize an <code>EnumMap</code>, but a <code>Map</code> (immutable one)"}],"answers":[{"comments":[{"owner":{"account_id":2371603,"reputation":422,"user_id":2076114,"accept_rate":50,"display_name":"sham"},"score":0,"creation_date":1621443225,"post_id":67607485,"comment_id":119499522,"body_markdown":"any specific reason of doing it in static block?","body":"any specific reason of doing it in static block?"},{"owner":{"account_id":1056871,"reputation":117749,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"score":0,"creation_date":1621443300,"post_id":67607485,"comment_id":119499565,"body_markdown":"@sham how else?","body":"@sham how else?"},{"owner":{"account_id":2371603,"reputation":422,"user_id":2076114,"accept_rate":50,"display_name":"sham"},"score":0,"creation_date":1621443620,"post_id":67607485,"comment_id":119499686,"body_markdown":"the first one also looks good. Is it better to do with static block","body":"the first one also looks good. Is it better to do with static block"},{"owner":{"account_id":2371603,"reputation":422,"user_id":2076114,"accept_rate":50,"display_name":"sham"},"score":0,"creation_date":1621444037,"post_id":67607485,"comment_id":119499872,"body_markdown":"Thanks got the answer. \n&quot;Note that this Map.of method supports only a maximum of 10 key-value pairs.&quot;\nmention it in your article - https://www.baeldung.com/java-initialize-hashmap","body":"Thanks got the answer.  &quot;Note that this Map.of method supports only a maximum of 10 key-value pairs.&quot; mention it in your article - <a href=\"https://www.baeldung.com/java-initialize-hashmap\" rel=\"nofollow noreferrer\">baeldung.com/java-initialize-hashmap</a>"},{"owner":{"account_id":2371603,"reputation":422,"user_id":2076114,"accept_rate":50,"display_name":"sham"},"score":0,"creation_date":1621450562,"post_id":67607485,"comment_id":119502592,"body_markdown":"yeah agree...I was talking about `Map.of`\n\nwhich can store max of 10 mapping which is overcome with the `ofEntries`","body":"yeah agree...I was talking about <code>Map.of</code>  which can store max of 10 mapping which is overcome with the <code>ofEntries</code>"},{"owner":{"account_id":10045459,"reputation":255,"user_id":7427029,"accept_rate":100,"display_name":"user7427029"},"score":0,"creation_date":1665404948,"post_id":67607485,"comment_id":130685356,"body_markdown":"@sham A specific reason to use it could be to only have access to Java 8. Map.of() was introduced with Java 9.","body":"@sham A specific reason to use it could be to only have access to Java 8. Map.of() was introduced with Java 9."},{"owner":{"account_id":2371603,"reputation":422,"user_id":2076114,"accept_rate":50,"display_name":"sham"},"score":0,"creation_date":1665464821,"post_id":67607485,"comment_id":130700187,"body_markdown":"hmm, static block or static method is the only way to do it in java 8","body":"hmm, static block or static method is the only way to do it in java 8"}],"tags":[],"owner":{"account_id":1056871,"reputation":117749,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"comment_count":7,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1621442794,"creation_date":1621442794,"answer_id":67607485,"question_id":67607416,"body_markdown":"do it in a static block:\r\n\r\n\r\n    private static final EnumMap&lt;....&gt; yourMap = ...\r\n\r\n    static {\r\n       yourMap.put(....);\r\n       yourMap.put(....)\r\n    }\r\n\r\nThere will be ways to do this rather differently (but they don&#39;t exist in the API yet), via `Constant Dynamic`. ","title":"What is the best way to statically initialize an EnumMap in Java","body":"<p>do it in a static block:</p>\n<pre><code>private static final EnumMap&lt;....&gt; yourMap = ...\n\nstatic {\n   yourMap.put(....);\n   yourMap.put(....)\n}\n</code></pre>\n<p>There will be ways to do this rather differently (but they don't exist in the API yet), via <code>Constant Dynamic</code>.</p>\n"},{"tags":[],"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1621445310,"creation_date":1621445310,"answer_id":67608112,"question_id":67607416,"body_markdown":"Do it in a method:\r\n\r\n```\r\nprivate static final EnumMap&lt;....&gt; yourMap = yourMapMethod();\r\n\r\nprivate static EnumMap&lt;....&gt; yourMapMethod() {\r\n   EnumMap&lt;....&gt; yourMap = ...\r\n   yourMap.put(....);\r\n   yourMap.put(....);\r\n   return yourMap;\r\n}\r\n```","title":"What is the best way to statically initialize an EnumMap in Java","body":"<p>Do it in a method:</p>\n<pre><code>private static final EnumMap&lt;....&gt; yourMap = yourMapMethod();\n\nprivate static EnumMap&lt;....&gt; yourMapMethod() {\n   EnumMap&lt;....&gt; yourMap = ...\n   yourMap.put(....);\n   yourMap.put(....);\n   return yourMap;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5998820,"reputation":12676,"user_id":4712734,"display_name":"DuncG"},"comment_count":0,"down_vote_count":0,"up_vote_count":14,"is_accepted":true,"score":14,"last_activity_date":1621512381,"creation_date":1621511320,"answer_id":67619750,"question_id":67607416,"body_markdown":"A neat way to setup EnumMap is to define all the values in-line using `Map.of` or `Map.ofEntries` but note that this allocates a Map before the EnumMap constructor:\r\n\r\n    private static final EnumMap&lt;YourEnum,String&gt; A = new EnumMap&lt;&gt;(Map.of(\r\n            YourEnum.ONE, &quot;Value1&quot;,\r\n            YourEnum.TWO, &quot;Value2&quot;\r\n    ));\r\n\r\n    // Use Map.ofEntries for enums with more than 10 values:\r\n    private static final EnumMap&lt;YourEnum,String&gt; B = new EnumMap&lt;&gt;(Map.ofEntries(\r\n            Map.entry(YourEnum.ONE, &quot;Value1&quot;),\r\n            Map.entry(YourEnum.TWO, &quot;Value2&quot;)\r\n    ));\r\n\r\n\r\nIf wanting public access then wrap as unmodifiable Map (which is backed by EnumMap) or just pass back `Map.of` directly (but is not using an EnumMap).\r\n\r\n    public static final Map&lt;YourEnum,String&gt; C = Collections.unmodifiableMap(B);\r\n","title":"What is the best way to statically initialize an EnumMap in Java","body":"<p>A neat way to setup EnumMap is to define all the values in-line using <code>Map.of</code> or <code>Map.ofEntries</code> but note that this allocates a Map before the EnumMap constructor:</p>\n<pre><code>private static final EnumMap&lt;YourEnum,String&gt; A = new EnumMap&lt;&gt;(Map.of(\n        YourEnum.ONE, &quot;Value1&quot;,\n        YourEnum.TWO, &quot;Value2&quot;\n));\n\n// Use Map.ofEntries for enums with more than 10 values:\nprivate static final EnumMap&lt;YourEnum,String&gt; B = new EnumMap&lt;&gt;(Map.ofEntries(\n        Map.entry(YourEnum.ONE, &quot;Value1&quot;),\n        Map.entry(YourEnum.TWO, &quot;Value2&quot;)\n));\n</code></pre>\n<p>If wanting public access then wrap as unmodifiable Map (which is backed by EnumMap) or just pass back <code>Map.of</code> directly (but is not using an EnumMap).</p>\n<pre><code>public static final Map&lt;YourEnum,String&gt; C = Collections.unmodifiableMap(B);\n</code></pre>\n"}],"owner":{"account_id":3074142,"reputation":991,"user_id":2603985,"accept_rate":41,"display_name":"javaguy"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10169,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":67619750,"answer_count":3,"score":9,"last_activity_date":1697773255,"creation_date":1621442518,"question_id":67607416,"body_markdown":"I need to statically initialize an EnumMap. I know two ways. \r\n\r\n1. Using of() method of Map\r\n\r\n\t```java\r\n    private static final Map&lt;&lt;EnumKey&gt;, &lt;Value&gt;&gt; TEST_MAP = Map.of(ENUM_CONST1, &quot;Value1&quot;, ENUM_CONST2, &quot;Value2&quot;);\r\n\t```\r\n\r\n2.  Using double brace initialization\r\n\r\n\r\n\t```java\r\n    private static final Map&lt;&lt;EnumKey&gt;, &lt;Value&gt;&gt; TEST_MAP = new EnumMap&lt;&gt;(EnumKey.class) {\r\n        {\r\n            put(ENUM_CONST1, &quot;Value1&quot;);\r\n            put(ENUM_CONST2, &quot;Value2&quot;);\r\n         }\r\n    };\r\n\t```\r\n\r\n\r\nIs there any other cleaner and more efficient way?","title":"What is the best way to statically initialize an EnumMap in Java","body":"<p>I need to statically initialize an EnumMap. I know two ways.</p>\n<ol>\n<li><p>Using of() method of Map</p>\n<pre class=\"lang-java prettyprint-override\"><code>private static final Map&lt;&lt;EnumKey&gt;, &lt;Value&gt;&gt; TEST_MAP = Map.of(ENUM_CONST1, &quot;Value1&quot;, ENUM_CONST2, &quot;Value2&quot;);\n</code></pre>\n</li>\n<li><p>Using double brace initialization</p>\n<pre class=\"lang-java prettyprint-override\"><code>private static final Map&lt;&lt;EnumKey&gt;, &lt;Value&gt;&gt; TEST_MAP = new EnumMap&lt;&gt;(EnumKey.class) {\n    {\n        put(ENUM_CONST1, &quot;Value1&quot;);\n        put(ENUM_CONST2, &quot;Value2&quot;);\n     }\n};\n</code></pre>\n</li>\n</ol>\n<p>Is there any other cleaner and more efficient way?</p>\n"},{"tags":["java","hibernate","character-encoding"],"comments":[{"owner":{"account_id":93689,"reputation":415951,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1697773074,"post_id":77327954,"comment_id":136324582,"body_markdown":"Try `hibernate.connection.CharSet=GBK` and `hibernate.connection.characterEncoding=GBK` and maybe `hibernate.connection.useUnicode=true`","body":"Try <code>hibernate.connection.CharSet=GBK</code> and <code>hibernate.connection.characterEncoding=GBK</code> and maybe <code>hibernate.connection.useUnicode=true</code>"},{"owner":{"account_id":29712605,"reputation":31,"user_id":22771863,"display_name":"陈泰成"},"score":0,"creation_date":1697780290,"post_id":77327954,"comment_id":136325057,"body_markdown":"Thanks for your advice. I tried it and it was not useful.","body":"Thanks for your advice. I tried it and it was not useful."},{"owner":{"account_id":3277167,"reputation":8773,"user_id":2758823,"display_name":"Giacomo Catenazzi"},"score":0,"creation_date":1697789034,"post_id":77327954,"comment_id":136326317,"body_markdown":"Consoles have often problems. UTF-8 encoding is &quot;modern&quot;, but not supported by all consoles. Fonts creates problems (consoles expect monospacing, but then we have the double spacing characters which are not consistently handled). Etc.  If it is possible: save to a log file, and use an editor (possibly one which notice updates on the files). Else: a true terminal (outside JetBrain) is better then &quot;build-in&quot; terminal/wrapper, which do much magic, but so it fails often (e.g. if you print &quot;...&quot; or something that may seems a prompt. PS: fill a bug report to them.","body":"Consoles have often problems. UTF-8 encoding is &quot;modern&quot;, but not supported by all consoles. Fonts creates problems (consoles expect monospacing, but then we have the double spacing characters which are not consistently handled). Etc.  If it is possible: save to a log file, and use an editor (possibly one which notice updates on the files). Else: a true terminal (outside JetBrain) is better then &quot;build-in&quot; terminal/wrapper, which do much magic, but so it fails often (e.g. if you print &quot;...&quot; or something that may seems a prompt. PS: fill a bug report to them."}],"owner":{"account_id":29712605,"reputation":31,"user_id":22771863,"display_name":"陈泰成"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":82,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":0,"score":3,"last_activity_date":1697773114,"creation_date":1697767420,"question_id":77327954,"body_markdown":"After I started a SpringMVC project in JetBrain IDEA, some of the console information appeared as Chinese garbled characters, as shown in the screen shot below:\r\n\r\n[![Stack trace][1]][1]\r\n\r\nHere is that stack trace in text form:\r\n\r\n```\r\nCaused by: com.microsoft.sqlserver.jdbc.SQLServerException: 鏁版嵁搴撲腑宸插瓨鍦ㄥ悕涓� &#39;Pro_Plan&#39; 鐨勫璞&#176;��\r\n\tat com.microsoft.sqlserver.jdbc.SQLServerException.makeFromDatabaseError(SQLServerException.java:216) ~[sqljdbc4-4.0.jar:?]\r\n\tat com.microsoft.sqlserver.jdbc.SQLServerStatement.getNextResult(SQLServerStatement.java:1515) ~[sqljdbc4-4.0.jar:?]\r\n\tat com.microsoft.sqlserver.jdbc.SQLServerStatement.doExecuteStatement(SQLServerStatement.java:792) ~[sqljdbc4-4.0.jar:?]\r\n\tat com.microsoft.sqlserver.jdbc.SQLServerStatement$StmtExecCmd.doExecute(SQLServerStatement.java:689) ~[sqljdbc4-4.0.jar:?]\r\n\tat com.microsoft.sqlserver.jdbc.TDSCommand.execute(IOBuffer.java:5696) ~[sqljdbc4-4.0.jar:?]\r\n\tat com.microsoft.sqlserver.jdbc.SQLServerConnection.executeCommand(SQLServerConnection.java:1715) ~[sqljdbc4-4.0.jar:?]\r\n\tat com.microsoft.sqlserver.jdbc.SQLServerStatement.executeCommand(SQLServerStatement.java:180) ~[sqljdbc4-4.0.jar:?]\r\n\tat com.microsoft.sqlserver.jdbc.SQLServerStatement.executeStatement(SQLServerStatement.java:155) ~[sqljdbc4-4.0.jar:?]\r\n\tat com.microsoft.sqlserver.jdbc.SQLServerStatement.execute(SQLServerStatement.java:662) ~[sqljdbc4-4.0.jar:?]\r\n\tat com.alibaba.druid.filter.FilterChainImpl.statement_execute(FilterChainImpl.java:2993) ~[druid-1.2.20.jar:?]\r\n\tat com.alibaba.druid.filter.FilterAdapter.statement_execute(FilterAdapter.java:2483) ~[druid-1.2.20.jar:?]\r\n\tat com.alibaba.druid.filter.FilterEventAdapter.statement_execute(FilterEventAdapter.java:182) ~[druid-1.2.20.jar:?]\r\n\tat com.alibaba.druid.filter.FilterChainImpl.statement_execute(FilterChainImpl.java:2991) ~[druid-1.2.20.jar:?]\r\n\tat com.alibaba.druid.proxy.jdbc.StatementProxyImpl.execute(StatementProxyImpl.java:143) ~[druid-1.2.20.jar:?]\r\n\tat com.alibaba.druid.pool.DruidPooledStatement.execute(DruidPooledStatement.java:635) ~[druid-1.2.20.jar:?]\r\n\tat org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:54) ~[hibernate-core-5.6.11.Final.jar:5.6.11.Final]\r\n\t... 77 more\r\n```\r\n\r\nThe operating system is WIN 11, the encoding is GBK, and the project startup container is Tomcat. Because the default encoding of Notepad is GBK, I configured the output encoding format in logging.properties as GBK.\r\n\r\nHow can I make this information appear properly?\r\n\r\nI tried to change the file encoding configration of IDEA, but the project could not be started because some of the packages referenced by the project require UTF-8 encoding as a whole. So I keep UTF-8 in the encoding configuration of IDEA.\r\n\r\nI also tried to change the output encoding format in logging.properties as UTF-8 for Tomcat. It seemed not useful after I restarted my project and caused new problem that other Chinese info which had appeared normally also became garbled. So I restored the output encoding format to GBK and must keep console encoding format using GBK as the same reason.\r\n\r\nIt seems that logging information about Hibernate operating when staring project used UTF-8 so it could not appear properly in GBK-encoded console. But why did the other Chinese logging info appear properly ? They also use the UTF-8 encoding.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/MEDtT.png","title":"how can I fix this &quot;Chinese garbled character&quot; problem?","body":"<p>After I started a SpringMVC project in JetBrain IDEA, some of the console information appeared as Chinese garbled characters, as shown in the screen shot below:</p>\n<p><a href=\"https://i.stack.imgur.com/MEDtT.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/MEDtT.png\" alt=\"Stack trace\" /></a></p>\n<p>Here is that stack trace in text form:</p>\n<pre><code>Caused by: com.microsoft.sqlserver.jdbc.SQLServerException: 鏁版嵁搴撲腑宸插瓨鍦ㄥ悕涓� 'Pro_Plan' 鐨勫璞°��\n    at com.microsoft.sqlserver.jdbc.SQLServerException.makeFromDatabaseError(SQLServerException.java:216) ~[sqljdbc4-4.0.jar:?]\n    at com.microsoft.sqlserver.jdbc.SQLServerStatement.getNextResult(SQLServerStatement.java:1515) ~[sqljdbc4-4.0.jar:?]\n    at com.microsoft.sqlserver.jdbc.SQLServerStatement.doExecuteStatement(SQLServerStatement.java:792) ~[sqljdbc4-4.0.jar:?]\n    at com.microsoft.sqlserver.jdbc.SQLServerStatement$StmtExecCmd.doExecute(SQLServerStatement.java:689) ~[sqljdbc4-4.0.jar:?]\n    at com.microsoft.sqlserver.jdbc.TDSCommand.execute(IOBuffer.java:5696) ~[sqljdbc4-4.0.jar:?]\n    at com.microsoft.sqlserver.jdbc.SQLServerConnection.executeCommand(SQLServerConnection.java:1715) ~[sqljdbc4-4.0.jar:?]\n    at com.microsoft.sqlserver.jdbc.SQLServerStatement.executeCommand(SQLServerStatement.java:180) ~[sqljdbc4-4.0.jar:?]\n    at com.microsoft.sqlserver.jdbc.SQLServerStatement.executeStatement(SQLServerStatement.java:155) ~[sqljdbc4-4.0.jar:?]\n    at com.microsoft.sqlserver.jdbc.SQLServerStatement.execute(SQLServerStatement.java:662) ~[sqljdbc4-4.0.jar:?]\n    at com.alibaba.druid.filter.FilterChainImpl.statement_execute(FilterChainImpl.java:2993) ~[druid-1.2.20.jar:?]\n    at com.alibaba.druid.filter.FilterAdapter.statement_execute(FilterAdapter.java:2483) ~[druid-1.2.20.jar:?]\n    at com.alibaba.druid.filter.FilterEventAdapter.statement_execute(FilterEventAdapter.java:182) ~[druid-1.2.20.jar:?]\n    at com.alibaba.druid.filter.FilterChainImpl.statement_execute(FilterChainImpl.java:2991) ~[druid-1.2.20.jar:?]\n    at com.alibaba.druid.proxy.jdbc.StatementProxyImpl.execute(StatementProxyImpl.java:143) ~[druid-1.2.20.jar:?]\n    at com.alibaba.druid.pool.DruidPooledStatement.execute(DruidPooledStatement.java:635) ~[druid-1.2.20.jar:?]\n    at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:54) ~[hibernate-core-5.6.11.Final.jar:5.6.11.Final]\n    ... 77 more\n</code></pre>\n<p>The operating system is WIN 11, the encoding is GBK, and the project startup container is Tomcat. Because the default encoding of Notepad is GBK, I configured the output encoding format in logging.properties as GBK.</p>\n<p>How can I make this information appear properly?</p>\n<p>I tried to change the file encoding configration of IDEA, but the project could not be started because some of the packages referenced by the project require UTF-8 encoding as a whole. So I keep UTF-8 in the encoding configuration of IDEA.</p>\n<p>I also tried to change the output encoding format in logging.properties as UTF-8 for Tomcat. It seemed not useful after I restarted my project and caused new problem that other Chinese info which had appeared normally also became garbled. So I restored the output encoding format to GBK and must keep console encoding format using GBK as the same reason.</p>\n<p>It seems that logging information about Hibernate operating when staring project used UTF-8 so it could not appear properly in GBK-encoded console. But why did the other Chinese logging info appear properly ? They also use the UTF-8 encoding.</p>\n"},{"tags":["java","wso2","mediator","chatsdk","wso2-esb"],"answers":[{"comments":[{"owner":{"account_id":13691599,"reputation":1,"user_id":9879242,"display_name":"Aisha Raghavanbadal"},"score":0,"creation_date":1527843515,"post_id":50637358,"comment_id":88289373,"body_markdown":"Hi, Thanks for your reply. Actually I am very new to wso2 can you please elaborate your answer","body":"Hi, Thanks for your reply. Actually I am very new to wso2 can you please elaborate your answer"}],"tags":[],"owner":{"account_id":5428195,"reputation":41,"user_id":4319870,"display_name":"irham iqbal"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1527834722,"creation_date":1527834722,"answer_id":50637358,"question_id":50636196,"body_markdown":"You can call your sdk from the class mediator and do the implementation when your going to deploy the mediator on wso2 you need to copy the sdk jar along with the mediator jar to WSO2_HOME/repository/components/lib","title":"I need to call chat sdk from wso2 class mediator","body":"<p>You can call your sdk from the class mediator and do the implementation when your going to deploy the mediator on wso2 you need to copy the sdk jar along with the mediator jar to WSO2_HOME/repository/components/lib</p>\n"},{"tags":[],"owner":{"account_id":27980254,"reputation":1,"user_id":21368132,"display_name":"Atchaya Jayabal"},"comment_count":0,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1697772266,"creation_date":1697772266,"answer_id":77328164,"question_id":50636196,"body_markdown":"To call a compiled Chat SDK in an Android app, there are a few steps:\r\n\r\nAdd the SDK as a Gradle dependency in your app&#39;s build.gradle file. For example:\r\n\r\n\r\n    implementation &#39;chat.sdk:firebase-app:[latest-version]&#39;\r\n\r\nMake sure your app inherits from the Chat SDK theme in your styles.xml file:\r\n    &lt;style name=&quot;AppTheme&quot; parent=&quot;ChatSDKTheme&quot;&gt;\r\n\r\nIn your Android app, call the methods and classes from the Chat SDK.The exact implementation will depend on the SDK and your app&#39;s\r\n   requirements.\r\n\r\nWhen deploying to WSO2, copy the Chat SDK jar file along with your app&#39;s jar file to the WSO2_HOME/repository/components/lib folder.\r\n\r\nTo call the Chat SDK from a WSO2 class mediator, implement the logic in the mediator class and call the Chat SDK classes and methods from within that class.\r\n\r\nYou may need to install additional libraries to resolve dependencies issues, as mentioned in one of the Stack Overflow answers.\r\n\r\nThat&#39;s the basic process to add a compiled Chat SDK to your Android app and call it from within WSO2. The GitBook documentation provides more details on adding the Chat SDK to a project. ","title":"I need to call chat sdk from wso2 class mediator","body":"<p>To call a compiled Chat SDK in an Android app, there are a few steps:</p>\n<p>Add the SDK as a Gradle dependency in your app's build.gradle file. For example:</p>\n<pre><code>implementation 'chat.sdk:firebase-app:[latest-version]'\n</code></pre>\n<p>Make sure your app inherits from the Chat SDK theme in your styles.xml file:\n</p>\n<p>In your Android app, call the methods and classes from the Chat SDK.The exact implementation will depend on the SDK and your app's\nrequirements.</p>\n<p>When deploying to WSO2, copy the Chat SDK jar file along with your app's jar file to the WSO2_HOME/repository/components/lib folder.</p>\n<p>To call the Chat SDK from a WSO2 class mediator, implement the logic in the mediator class and call the Chat SDK classes and methods from within that class.</p>\n<p>You may need to install additional libraries to resolve dependencies issues, as mentioned in one of the Stack Overflow answers.</p>\n<p>That's the basic process to add a compiled Chat SDK to your Android app and call it from within WSO2. The GitBook documentation provides more details on adding the Chat SDK to a project.</p>\n"}],"owner":{"account_id":13691599,"reputation":1,"user_id":9879242,"display_name":"Aisha Raghavanbadal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":101,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1697772266,"creation_date":1527828040,"question_id":50636196,"body_markdown":"I have compiled chat sdk in android studio ,it is working fine but I need to add it to my app as an extension so how could I call chat sdk into wso2 . ","title":"I need to call chat sdk from wso2 class mediator","body":"<p>I have compiled chat sdk in android studio ,it is working fine but I need to add it to my app as an extension so how could I call chat sdk into wso2 . </p>\n"},{"tags":["java","sftp","jsch"],"answers":[{"tags":[],"owner":{"account_id":12824873,"reputation":165,"user_id":9278319,"display_name":"greatFritz"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697770681,"creation_date":1697770681,"answer_id":77328094,"question_id":77319573,"body_markdown":"Thank you so much [dave_tompson_085][1] and [Rob Spoor][2]. I looked at my dependency build.gradle and noticed that for some reason another one of my modules included the jcraft.jsch 0.1.54 library in the build.gradle. I removed that and now I am able to make an sftp connection. \r\n\r\n\r\n  [1]: https://stackoverflow.com/users/2868801/dave-thompson-085\r\n  [2]: https://stackoverflow.com/users/1180351/rob-spoor","title":"Connection to SFTP using Jsch throwing NullPointer","body":"<p>Thank you so much <a href=\"https://stackoverflow.com/users/2868801/dave-thompson-085\">dave_tompson_085</a> and <a href=\"https://stackoverflow.com/users/1180351/rob-spoor\">Rob Spoor</a>. I looked at my dependency build.gradle and noticed that for some reason another one of my modules included the jcraft.jsch 0.1.54 library in the build.gradle. I removed that and now I am able to make an sftp connection.</p>\n"}],"owner":{"account_id":12824873,"reputation":165,"user_id":9278319,"display_name":"greatFritz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":73,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1697770681,"creation_date":1697662880,"question_id":77319573,"body_markdown":"I am writing a basic application using jsch to try and connect with an AWS SFTP server.\r\n\r\nI am using jsch version \r\n`implementation group: &#39;com.github.mwiede&#39;, name: &#39;jsch&#39;, version: &#39;0.2.11&#39;`\r\n\r\nWhen I try to make a connection it gets disconnected immediately after a handshake and my console shows this error code.\r\n```\r\ncom.jcraft.jsch.JSchException: java.lang.NullPointerException\r\n    at com.jcraft.jsch.Session.receive_kexinit(Session.java:605)\r\n```\r\n\r\nWith this simple connection code\r\n```\r\ntry{\r\n    Security.insertProviderAt(new BouncyCastleProvider(), 1);\r\n\r\n    Hashtable&lt;String, String&gt; config = new Hashtable&lt;&gt;();\r\n    config.put(&quot;StrictHostKeyChecking&quot;, &quot;no&quot;);\r\n\r\n    JSch sch = new JSch();\r\n    JSch.setConfig(config);\r\n    JSch.setLogger(new TestLogger(logger));\r\n\r\n    JSch.setConfig(&quot;kex&quot;, &quot;diffie-hellman-group16-sha512,diffie-hellman-group18-sha512,diffie-hellman-group-exchange-sha256&quot;);\r\n    JSch.setConfig(&quot;mac.s2c&quot;, &quot;hmac-sha2-256-etm@openssh.com,hmac-sha2-512-etm@openssh.com&quot;);\r\n    JSch.setConfig(&quot;mac.c2s&quot;, &quot;hmac-sha2-256-etm@openssh.com,hmac-sha2-512-etm@openssh.com&quot;);\r\n\r\n    JSch.setConfig(&quot;enable_server_sig_algs&quot;, &quot;yes&quot;);\r\n    JSch.setConfig(&quot;prefer_known_host_key_types&quot;, &quot;yes&quot;);\r\n    JSch.setConfig(&quot;PubkeyAcceptedAlgorithms&quot;, &quot;ssh-rsa&quot;);\r\n\r\n    Session session = sch.getSession(username, hostname, 22);\r\n\r\n    system.print.out.ln(&quot;Opening session for SFTP&quot;);\r\n    sch.addIdentity(rsaKey);\r\n\r\n    System.print.out.ln(&quot;Attempting to connect&quot;);\r\n    session.connect(60 * 1000);\r\n\r\n}catch (Exception e){\r\n    System.print.out.ln(&quot;Error: &quot; + e);\r\n}\r\n```\r\nAnd below is the info of what is happening during the connection\r\n``` \r\n\r\nAttempting to connect\r\nINFO | Connecting to HOSTNAME port PORT\r\nINFO | Connection established\r\nINFO | Remote version string: SSH-2.0-AWS_SFTP_1.1\r\nINFO | Local version string: SSH-2.0-JSCH-0.1.54\r\nINFO | CheckCiphers: aes256-ctr,aes192-ctr,aes128-ctr,aes256-cbc,aes192-cbc,aes128-cbc,3des-ctr,arcfour,arcfour128,arcfour256\r\nCheckKexes: diffie-hellman-group14-sha1,ecdh-sha2-nistp256,ecdh-sha2-nistp384,ecdh-sha2-nistp521\r\nCheckSignatures: ecdsa-sha2-nistp256,ecdsa-sha2-nistp384,ecdsa-sha2-nistp521\r\nINFO | SSH_MSG_KEXINIT sent\r\nINFO | SSH_MSG_KEXINIT received\r\nINFO | kex: server: diffie-hellman-group16-sha512,diffie-hellman-group18-sha512,diffie-hellman-group-exchange-sha256\r\nINFO | kex: server: rsa-sha2-512,rsa-sha2-256,ssh-rsa\r\nINFO | kex: server: aes256-gcm@openssh.com,aes128-gcm@openssh.com,aes256-ctr,aes192-ctr\r\nINFO | kex: server: aes256-gcm@openssh.com,aes128-gcm@openssh.com,aes256-ctr,aes192-ctr\r\nINFO | kex: server: hmac-sha2-256-etm@openssh.com,hmac-sha2-512-etm@openssh.com\r\nINFO | kex: server: hmac-sha2-256-etm@openssh.com,hmac-sha2-512-etm@openssh.com\r\nINFO | kex: server: none,zlib@openssh.com\r\nINFO | kex: server: none,zlib@openssh.com\r\nINFO | kex: server: \r\nINFO | kex: server: \r\nINFO | kex: client: diffie-hellman-group16-sha512,diffie-hellman-group18-sha512,diffie-hellman-group-exchange-sha256\r\nINFO | kex: client: ssh-rsa,ssh-dss,ecdsa-sha2-nistp256,ecdsa-sha2-nistp384,ecdsa-sha2-nistp521\r\nINFO | kex: client: aes192-ctr\r\nINFO | kex: client: aes192-ctr\r\nINFO | kex: client: hmac-sha2-256-etm@openssh.com,hmac-sha2-512-etm@openssh.com\r\nINFO | kex: client: hmac-sha2-256-etm@openssh.com,hmac-sha2-512-etm@openssh.com\r\nINFO | kex: client: none\r\nINFO | kex: client: none\r\nINFO | kex: client: \r\nINFO | kex: client: \r\nINFO | kex: server-&gt;client aes192-ctr hmac-sha2-256-etm@openssh.com none\r\nINFO | kex: client-&gt;server aes192-ctr hmac-sha2-256-etm@openssh.com none\r\nINFO | Disconnecting from HOSTNAME port PORT\r\n```\r\n","title":"Connection to SFTP using Jsch throwing NullPointer","body":"<p>I am writing a basic application using jsch to try and connect with an AWS SFTP server.</p>\n<p>I am using jsch version\n<code>implementation group: 'com.github.mwiede', name: 'jsch', version: '0.2.11'</code></p>\n<p>When I try to make a connection it gets disconnected immediately after a handshake and my console shows this error code.</p>\n<pre><code>com.jcraft.jsch.JSchException: java.lang.NullPointerException\n    at com.jcraft.jsch.Session.receive_kexinit(Session.java:605)\n</code></pre>\n<p>With this simple connection code</p>\n<pre><code>try{\n    Security.insertProviderAt(new BouncyCastleProvider(), 1);\n\n    Hashtable&lt;String, String&gt; config = new Hashtable&lt;&gt;();\n    config.put(&quot;StrictHostKeyChecking&quot;, &quot;no&quot;);\n\n    JSch sch = new JSch();\n    JSch.setConfig(config);\n    JSch.setLogger(new TestLogger(logger));\n\n    JSch.setConfig(&quot;kex&quot;, &quot;diffie-hellman-group16-sha512,diffie-hellman-group18-sha512,diffie-hellman-group-exchange-sha256&quot;);\n    JSch.setConfig(&quot;mac.s2c&quot;, &quot;hmac-sha2-256-etm@openssh.com,hmac-sha2-512-etm@openssh.com&quot;);\n    JSch.setConfig(&quot;mac.c2s&quot;, &quot;hmac-sha2-256-etm@openssh.com,hmac-sha2-512-etm@openssh.com&quot;);\n\n    JSch.setConfig(&quot;enable_server_sig_algs&quot;, &quot;yes&quot;);\n    JSch.setConfig(&quot;prefer_known_host_key_types&quot;, &quot;yes&quot;);\n    JSch.setConfig(&quot;PubkeyAcceptedAlgorithms&quot;, &quot;ssh-rsa&quot;);\n\n    Session session = sch.getSession(username, hostname, 22);\n\n    system.print.out.ln(&quot;Opening session for SFTP&quot;);\n    sch.addIdentity(rsaKey);\n\n    System.print.out.ln(&quot;Attempting to connect&quot;);\n    session.connect(60 * 1000);\n\n}catch (Exception e){\n    System.print.out.ln(&quot;Error: &quot; + e);\n}\n</code></pre>\n<p>And below is the info of what is happening during the connection</p>\n<pre><code>\nAttempting to connect\nINFO | Connecting to HOSTNAME port PORT\nINFO | Connection established\nINFO | Remote version string: SSH-2.0-AWS_SFTP_1.1\nINFO | Local version string: SSH-2.0-JSCH-0.1.54\nINFO | CheckCiphers: aes256-ctr,aes192-ctr,aes128-ctr,aes256-cbc,aes192-cbc,aes128-cbc,3des-ctr,arcfour,arcfour128,arcfour256\nCheckKexes: diffie-hellman-group14-sha1,ecdh-sha2-nistp256,ecdh-sha2-nistp384,ecdh-sha2-nistp521\nCheckSignatures: ecdsa-sha2-nistp256,ecdsa-sha2-nistp384,ecdsa-sha2-nistp521\nINFO | SSH_MSG_KEXINIT sent\nINFO | SSH_MSG_KEXINIT received\nINFO | kex: server: diffie-hellman-group16-sha512,diffie-hellman-group18-sha512,diffie-hellman-group-exchange-sha256\nINFO | kex: server: rsa-sha2-512,rsa-sha2-256,ssh-rsa\nINFO | kex: server: aes256-gcm@openssh.com,aes128-gcm@openssh.com,aes256-ctr,aes192-ctr\nINFO | kex: server: aes256-gcm@openssh.com,aes128-gcm@openssh.com,aes256-ctr,aes192-ctr\nINFO | kex: server: hmac-sha2-256-etm@openssh.com,hmac-sha2-512-etm@openssh.com\nINFO | kex: server: hmac-sha2-256-etm@openssh.com,hmac-sha2-512-etm@openssh.com\nINFO | kex: server: none,zlib@openssh.com\nINFO | kex: server: none,zlib@openssh.com\nINFO | kex: server: \nINFO | kex: server: \nINFO | kex: client: diffie-hellman-group16-sha512,diffie-hellman-group18-sha512,diffie-hellman-group-exchange-sha256\nINFO | kex: client: ssh-rsa,ssh-dss,ecdsa-sha2-nistp256,ecdsa-sha2-nistp384,ecdsa-sha2-nistp521\nINFO | kex: client: aes192-ctr\nINFO | kex: client: aes192-ctr\nINFO | kex: client: hmac-sha2-256-etm@openssh.com,hmac-sha2-512-etm@openssh.com\nINFO | kex: client: hmac-sha2-256-etm@openssh.com,hmac-sha2-512-etm@openssh.com\nINFO | kex: client: none\nINFO | kex: client: none\nINFO | kex: client: \nINFO | kex: client: \nINFO | kex: server-&gt;client aes192-ctr hmac-sha2-256-etm@openssh.com none\nINFO | kex: client-&gt;server aes192-ctr hmac-sha2-256-etm@openssh.com none\nINFO | Disconnecting from HOSTNAME port PORT\n</code></pre>\n"},{"tags":["java","amazon-web-services","aws-acm"],"comments":[{"owner":{"account_id":85671,"reputation":40858,"user_id":238704,"display_name":"President James K. Polk"},"score":2,"creation_date":1697764276,"post_id":77327746,"comment_id":136323932,"body_markdown":"Evidently the certificate does *not* have two domains, instead it has all these domains: `sqs.ap-southeast-2.amazonaws.com, ap-southeast-2.queue.amazonaws.com, *.sqs.ap-southeast-2.vpce.amazonaws.com` and the URL you used matches none of them","body":"Evidently the certificate does <i>not</i> have two domains, instead it has all these domains: <code>sqs.ap-southeast-2.amazonaws.com, ap-southeast-2.queue.amazonaws.com, *.sqs.ap-southeast-2.vpce.amazonaws.com</code> and the URL you used matches none of them"},{"owner":{"account_id":23829556,"reputation":55,"user_id":17836028,"display_name":"YusufDoc"},"score":0,"creation_date":1697783497,"post_id":77327746,"comment_id":136325404,"body_markdown":"@PresidentJamesK.Polk When creating the certificate, I entered domain names [test.domain.dev, *.test.domain.dev] and the application is doing POST to https://test.domain.dev\n\nIt is working fine when I do a curl from an ec2 box but the application which is in the same vpc and subnet is getting the error.\n\nDo you mean to say I have to add amazonaws domains in the certificate?","body":"@PresidentJamesK.Polk When creating the certificate, I entered domain names [test.domain.dev, *.test.domain.dev] and the application is doing POST to <a href=\"https://test.domain.dev\" rel=\"nofollow noreferrer\">test.domain.dev</a>  It is working fine when I do a curl from an ec2 box but the application which is in the same vpc and subnet is getting the error.  Do you mean to say I have to add amazonaws domains in the certificate?"}],"owner":{"account_id":23829556,"reputation":55,"user_id":17836028,"display_name":"YusufDoc"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697766385,"creation_date":1697762532,"question_id":77327746,"body_markdown":"I am trying to test using a private certificate on a network load balancer issued through AWS Private CA.\r\n\r\nIt is a cross account setup. The app is calling a VPC endpoint (same account as app) which is linked to an endpoint service (different account). The endpoint service is behind a network load balancer. I have installed the private certificate on the NLB. The certificate has 2 domains listed which are used as private dns names for the endpoint and endpoint service.\r\n\r\nI have created a custom jks truststore which holds the root certificate and created a custom web client to use https.\r\n\r\nWhen the application is calling the private dns url, I see this error in the logs\r\n\r\n```\r\n&quot;stack_trace&quot;: &quot;j.n.s.SSLPeerUnverifiedException: Certificate for &lt;private dns name&gt; doesn&#39;t match any of the subject alternative names [sqs.ap-southeast-2.amazonaws.com, ap-southeast-2.queue.amazonaws.com,*.sqs.ap-southeast-2.vpce.amazonaws.com]\\\r\n\\tato.a.h.c.h.s.DefaultHostnameVerifier.matchDNSName(DefaultHostnameVerifer.java:165\\\r\n\\tato.a.h.c.h.s.DefaultHostnameVerifier.verify(DefaultHostnameVerifier.java:120)\\\r\n\\tato.a.h.c.h.s.TlsSessionValidator.verifySession(TlsSessionValidator.java:113)\\\r\n\\tato.a.h.c.h.s.SSLConnectionSocketFactory.verifySession(SSLConnectionSocketFactory.java:340)\\\r\n\\tato.a.h.c.h.s.SSLConnectionSocketFactory.verifyHostname(SSLConnectionSocketFactory.java:329)\\\r\n\\tato.a.h.c.h.s.SSLConnectionSocketFactory.executeHandshake(SSLConnectionSocketFactory.java:304)\\\r\n\\tato.a.h.c.h.s.SSLConnectionSocketFactory.createLayeredSocket(SSLConnectionSocketFactory.java:275)\\\r\n\\tato.a.h.c.h.s.SSLConnectionSocketFactory.connectSocket(SSLConnectionSocketFactory.java:251)\\\r\n\\tato.a.h.c.h.i.i.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:181)\\\r\n\\tato.a.h.c.h.i.i.PoolingHttpClientConnectionManager.connect(PoolingHttpClientConnectionManager.java:447)\\\r\n\\tato.a.h.c.h.i.c.InternalExecRuntime.connectEndpoint(InternalExecRuntime.java:162)\\\r\n\\tato.a.h.c.h.i.c.InternalExecRuntime.connectEndpoint(InternalExecRuntime.java:172)\\\r\n\\tat o.a.h.c.h.i.c.ConnectExec.execute(ConnectExec.java:142)\\\r\n\\tato.a.h.c.h.i.c.ExecChainElement.execute(ExecChainElement.java:51)\\\r\n\\tat o.a.h.c.h.i.c.ProtocolExec.execute(ProtocolExec.java:192)\\\r\n\\tato.a.h.c.h.i.c.ExecChainElement.execute(ExecChainElement.java:51)\\\r\n\\tato.a.h.c.h.i.c.HttpRequestRetryExec.execute(HttpRequestRetryExec.java:96)\\\r\n\\tato.a.h.c.h.i.c.ExecChainElement.execute(ExecChainElement.java:51)\\\r\n\\tato.a.h.c.h.i.c.ContentCompressionExec.execute(ContentCompressionExec.java:152)\\\r\n\\tato.a.h.c.h.i.c.ExecChainElement.execute(ExecChainElement.java:51)\\\r\n\\tat o.a.h.c.h.i.c.RedirectExec.execute(RedirectExec.java:115)\\\r\n\\tato.a.h.c.h.i.c.ExecChainElement.execute(ExecChainElement....\\&quot;\r\n}\r\n```\r\n\r\nI am confused as to why it is giving me error for\r\n```[sqs.ap-southeast-2.amazonaws.com, ap-southeast-2.queue.amazonaws.com, *.sqs.ap-southeast-2.vpce.amazonaws.com]```\r\n\r\nAnyone know what this error means and how to resolve this?\r\n\r\nThanks","title":"Error when using custom truststore in java","body":"<p>I am trying to test using a private certificate on a network load balancer issued through AWS Private CA.</p>\n<p>It is a cross account setup. The app is calling a VPC endpoint (same account as app) which is linked to an endpoint service (different account). The endpoint service is behind a network load balancer. I have installed the private certificate on the NLB. The certificate has 2 domains listed which are used as private dns names for the endpoint and endpoint service.</p>\n<p>I have created a custom jks truststore which holds the root certificate and created a custom web client to use https.</p>\n<p>When the application is calling the private dns url, I see this error in the logs</p>\n<pre><code>&quot;stack_trace&quot;: &quot;j.n.s.SSLPeerUnverifiedException: Certificate for &lt;private dns name&gt; doesn't match any of the subject alternative names [sqs.ap-southeast-2.amazonaws.com, ap-southeast-2.queue.amazonaws.com,*.sqs.ap-southeast-2.vpce.amazonaws.com]\\\n\\tato.a.h.c.h.s.DefaultHostnameVerifier.matchDNSName(DefaultHostnameVerifer.java:165\\\n\\tato.a.h.c.h.s.DefaultHostnameVerifier.verify(DefaultHostnameVerifier.java:120)\\\n\\tato.a.h.c.h.s.TlsSessionValidator.verifySession(TlsSessionValidator.java:113)\\\n\\tato.a.h.c.h.s.SSLConnectionSocketFactory.verifySession(SSLConnectionSocketFactory.java:340)\\\n\\tato.a.h.c.h.s.SSLConnectionSocketFactory.verifyHostname(SSLConnectionSocketFactory.java:329)\\\n\\tato.a.h.c.h.s.SSLConnectionSocketFactory.executeHandshake(SSLConnectionSocketFactory.java:304)\\\n\\tato.a.h.c.h.s.SSLConnectionSocketFactory.createLayeredSocket(SSLConnectionSocketFactory.java:275)\\\n\\tato.a.h.c.h.s.SSLConnectionSocketFactory.connectSocket(SSLConnectionSocketFactory.java:251)\\\n\\tato.a.h.c.h.i.i.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:181)\\\n\\tato.a.h.c.h.i.i.PoolingHttpClientConnectionManager.connect(PoolingHttpClientConnectionManager.java:447)\\\n\\tato.a.h.c.h.i.c.InternalExecRuntime.connectEndpoint(InternalExecRuntime.java:162)\\\n\\tato.a.h.c.h.i.c.InternalExecRuntime.connectEndpoint(InternalExecRuntime.java:172)\\\n\\tat o.a.h.c.h.i.c.ConnectExec.execute(ConnectExec.java:142)\\\n\\tato.a.h.c.h.i.c.ExecChainElement.execute(ExecChainElement.java:51)\\\n\\tat o.a.h.c.h.i.c.ProtocolExec.execute(ProtocolExec.java:192)\\\n\\tato.a.h.c.h.i.c.ExecChainElement.execute(ExecChainElement.java:51)\\\n\\tato.a.h.c.h.i.c.HttpRequestRetryExec.execute(HttpRequestRetryExec.java:96)\\\n\\tato.a.h.c.h.i.c.ExecChainElement.execute(ExecChainElement.java:51)\\\n\\tato.a.h.c.h.i.c.ContentCompressionExec.execute(ContentCompressionExec.java:152)\\\n\\tato.a.h.c.h.i.c.ExecChainElement.execute(ExecChainElement.java:51)\\\n\\tat o.a.h.c.h.i.c.RedirectExec.execute(RedirectExec.java:115)\\\n\\tato.a.h.c.h.i.c.ExecChainElement.execute(ExecChainElement....\\&quot;\n}\n</code></pre>\n<p>I am confused as to why it is giving me error for\n<code>[sqs.ap-southeast-2.amazonaws.com, ap-southeast-2.queue.amazonaws.com, *.sqs.ap-southeast-2.vpce.amazonaws.com]</code></p>\n<p>Anyone know what this error means and how to resolve this?</p>\n<p>Thanks</p>\n"},{"tags":["java","intellij-idea","target"],"comments":[{"owner":{"account_id":1069033,"reputation":27720,"user_id":1068746,"accept_rate":57,"display_name":"guy mograbi"},"score":4,"creation_date":1353998546,"post_id":4904052,"comment_id":18608411,"body_markdown":"The answer you were given is correct but not full. Intellij replace C with J if the source file is not under a defined src folder or if the file is too big. I explain [Intellij Icons](http://www.google.com/url?sa=t&amp;rct=j&amp;q=&amp;esrc=s&amp;source=web&amp;cd=1&amp;cad=rja&amp;ved=0CCwQFjAA&amp;url=http%3A%2F%2Fblog.mograbi.info%2F2011%2F05%2Fintellij-j-is-shown-instead-of-c.html&amp;ei=BGC0UMmgGcbotQb734H4AQ&amp;usg=AFQjCNFZQBEUJPL1XehFkUaJH41wrsuKjQ) in my blogpost.","body":"The answer you were given is correct but not full. Intellij replace C with J if the source file is not under a defined src folder or if the file is too big. I explain <a href=\"http://www.google.com/url?sa=t&amp;rct=j&amp;q=&amp;esrc=s&amp;source=web&amp;cd=1&amp;cad=rja&amp;ved=0CCwQFjAA&amp;url=http%3A%2F%2Fblog.mograbi.info%2F2011%2F05%2Fintellij-j-is-shown-instead-of-c.html&amp;ei=BGC0UMmgGcbotQb734H4AQ&amp;usg=AFQjCNFZQBEUJPL1XehFkUaJH41wrsuKjQ\" rel=\"nofollow noreferrer\">Intellij Icons</a> in my blogpost."},{"owner":{"account_id":38330,"reputation":15203,"user_id":109941,"accept_rate":91,"display_name":"Jim G."},"score":0,"creation_date":1463486654,"post_id":4904052,"comment_id":62076624,"body_markdown":"Possible duplicate of [intellij icon over project files](http://stackoverflow.com/questions/2728333/intellij-icon-over-project-files)","body":"Possible duplicate of <a href=\"http://stackoverflow.com/questions/2728333/intellij-icon-over-project-files\">intellij icon over project files</a>"}],"answers":[{"tags":[],"owner":{"display_name":"user146043"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1296863633,"creation_date":1296863633,"answer_id":4904069,"question_id":4904052,"body_markdown":"It means those files aren&#39;t part of the project settings.","title":"What does this symbol mean in IntelliJ? (red circle on bottom-left corner of file name, with &#39;J&#39; in it)","body":"<p>It means those files aren't part of the project settings.</p>\n"},{"comments":[{"owner":{"account_id":2313361,"reputation":392,"user_id":2030975,"accept_rate":31,"display_name":"Mohamed Seif"},"score":1,"creation_date":1455373177,"post_id":4904137,"comment_id":58466774,"body_markdown":"Please, i can&#39;t find Sources tab, Modules contains  (Properties, Signing, Flavors, Build Types, Dependencies)...thank you very much.","body":"Please, i can&#39;t find Sources tab, Modules contains  (Properties, Signing, Flavors, Build Types, Dependencies)...thank you very much."},{"owner":{"account_id":2032285,"reputation":2727,"user_id":1815624,"accept_rate":71,"display_name":"CrandellWS"},"score":2,"creation_date":1459558046,"post_id":4904137,"comment_id":60355190,"body_markdown":"With &quot;Android Studio&quot; this can happen when you use &#39;flavors&#39;. The build variant will determine what files are in the source dir, so changing the build variant can change which files have the mentioned icon","body":"With &quot;Android Studio&quot; this can happen when you use &#39;flavors&#39;. The build variant will determine what files are in the source dir, so changing the build variant can change which files have the mentioned icon"},{"owner":{"account_id":6255376,"reputation":123,"user_id":4864156,"display_name":"Bob Small"},"score":0,"creation_date":1463416854,"post_id":4904137,"comment_id":62044730,"body_markdown":"Good answer, thank you, also with IntelliJ version 15.0.1 there are examples of the folder structure to the right in the sources view.","body":"Good answer, thank you, also with IntelliJ version 15.0.1 there are examples of the folder structure to the right in the sources view."},{"owner":{"account_id":7325773,"reputation":1251,"user_id":7093031,"accept_rate":25,"display_name":"Zoette"},"score":0,"creation_date":1482280046,"post_id":4904137,"comment_id":69707273,"body_markdown":"I&#39;ve tried this with the wrong folder (`src`) but I guess it was too high in the hierarchy, all my imports went wrong. If you have the same problem, try this with another folder.","body":"I&#39;ve tried this with the wrong folder (<code>src</code>) but I guess it was too high in the hierarchy, all my imports went wrong. If you have the same problem, try this with another folder."},{"owner":{"account_id":2406465,"reputation":15358,"user_id":2102794,"accept_rate":45,"display_name":"Sai"},"score":0,"creation_date":1521114759,"post_id":4904137,"comment_id":85599191,"body_markdown":"This is happening every time I add Gradle to my existing java project. Hopefully, IntelliJ will fix it soon.","body":"This is happening every time I add Gradle to my existing java project. Hopefully, IntelliJ will fix it soon."}],"tags":[],"owner":{"account_id":76511,"reputation":44893,"user_id":218978,"accept_rate":100,"display_name":"irreputable"},"comment_count":5,"down_vote_count":0,"up_vote_count":184,"is_accepted":false,"score":184,"last_activity_date":1499079225,"creation_date":1296864384,"answer_id":4904137,"question_id":4904052,"body_markdown":"You need to specify the source dir\r\n\r\n    File&gt; Project Structure &gt; Modules\r\n\r\nclick the directory and click the Sources button\r\n\r\nIt&#39;s weird because usually it&#39;s done automatically. Maybe it&#39;s better if you recreate the project again.","title":"What does this symbol mean in IntelliJ? (red circle on bottom-left corner of file name, with &#39;J&#39; in it)","body":"<p>You need to specify the source dir</p>\n\n<pre><code>File&gt; Project Structure &gt; Modules\n</code></pre>\n\n<p>click the directory and click the Sources button</p>\n\n<p>It's weird because usually it's done automatically. Maybe it's better if you recreate the project again.</p>\n"},{"tags":[],"owner":{"account_id":1589034,"reputation":549,"user_id":1472783,"display_name":"Hari Palappetty"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1394349701,"creation_date":1394349701,"answer_id":22279492,"question_id":4904052,"body_markdown":"This situation happens when the IDE looks for src folder, and it cannot find it in the path.\r\nSelect the project root (F4 in windows) &gt; Go to Modules on Side Tab &gt; Select Sources &gt; Select appropriate folder with source files in it&gt; Click on the blue sources folder icon (for adding sources) &gt; Click on Green Test Sources folder ( to add Unit test folders).","title":"What does this symbol mean in IntelliJ? (red circle on bottom-left corner of file name, with &#39;J&#39; in it)","body":"<p>This situation happens when the IDE looks for src folder, and it cannot find it in the path.\nSelect the project root (F4 in windows) > Go to Modules on Side Tab > Select Sources > Select appropriate folder with source files in it> Click on the blue sources folder icon (for adding sources) > Click on Green Test Sources folder ( to add Unit test folders).</p>\n"},{"tags":[],"owner":{"account_id":1360035,"reputation":7094,"user_id":1297578,"accept_rate":82,"display_name":"Shoham"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1417443938,"creation_date":1417443938,"answer_id":27230470,"question_id":4904052,"body_markdown":"I downloaded a project from github with .idea folder.\r\nAfter deleting that folder, everything was ok.","title":"What does this symbol mean in IntelliJ? (red circle on bottom-left corner of file name, with &#39;J&#39; in it)","body":"<p>I downloaded a project from github with .idea folder.\nAfter deleting that folder, everything was ok.</p>\n"},{"tags":[],"owner":{"account_id":1050037,"reputation":337,"user_id":2467938,"display_name":"crazyGuy"},"comment_count":0,"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1454510483,"creation_date":1448446544,"answer_id":33913756,"question_id":4904052,"body_markdown":"Find all IntelliJ (v15) symbols over here: https://www.jetbrains.com/idea/help/symbols.html\r\n\r\nThis site states that this icon stands for &quot;Java class located out of the source root. Refer to the section Configuring Content Roots for details.&quot;","title":"What does this symbol mean in IntelliJ? (red circle on bottom-left corner of file name, with &#39;J&#39; in it)","body":"<p>Find all IntelliJ (v15) symbols over here: <a href=\"https://www.jetbrains.com/idea/help/symbols.html\" rel=\"nofollow\">https://www.jetbrains.com/idea/help/symbols.html</a></p>\n\n<p>This site states that this icon stands for \"Java class located out of the source root. Refer to the section Configuring Content Roots for details.\"</p>\n"},{"tags":[],"owner":{"account_id":6173909,"reputation":86,"user_id":4811443,"display_name":"Homilzio Trovoada Santos"},"comment_count":0,"down_vote_count":2,"up_vote_count":4,"is_accepted":false,"score":2,"last_activity_date":1697765598,"creation_date":1452071879,"answer_id":34629407,"question_id":4904052,"body_markdown":"Press **F4** at the **project root** and select the root source pressing the source button.\r\nIt **resolved** my problem!\r\n","title":"What does this symbol mean in IntelliJ? (red circle on bottom-left corner of file name, with &#39;J&#39; in it)","body":"<p>Press <strong>F4</strong> at the <strong>project root</strong> and select the root source pressing the source button.\nIt <strong>resolved</strong> my problem!</p>\n"},{"comments":[{"owner":{"account_id":5068854,"reputation":3050,"user_id":4068218,"accept_rate":7,"display_name":"Hari Rao"},"score":4,"creation_date":1502273128,"post_id":35179894,"comment_id":78133802,"body_markdown":"After doing 3. right click pom.xml -&gt; maven -&gt; reimport, It worked","body":"After doing 3. right click pom.xml -&gt; maven -&gt; reimport, It worked"},{"owner":{"account_id":7421871,"reputation":991,"user_id":5645869,"display_name":"Rohit Kumar"},"score":1,"creation_date":1565969845,"post_id":35179894,"comment_id":101521118,"body_markdown":"Thanks, it worked.\n\nI added root pom as maven project, and it changed all my child modules automatically.  Great..","body":"Thanks, it worked.  I added root pom as maven project, and it changed all my child modules automatically.  Great.."},{"owner":{"account_id":4920334,"reputation":211,"user_id":3963056,"display_name":"Aditya Goel"},"score":1,"creation_date":1613926223,"post_id":35179894,"comment_id":117220806,"body_markdown":"Thanks so very much. It helped.","body":"Thanks so very much. It helped."}],"tags":[],"owner":{"account_id":1195219,"reputation":1031,"user_id":1167110,"display_name":"Djalas"},"comment_count":3,"down_vote_count":0,"up_vote_count":66,"is_accepted":false,"score":66,"last_activity_date":1454510152,"creation_date":1454510152,"answer_id":35179894,"question_id":4904052,"body_markdown":"If it is a maven project \r\n\r\n 1. right click on the pom.xml\r\n 2. Add As Maven Project\r\n\r\nThanks","title":"What does this symbol mean in IntelliJ? (red circle on bottom-left corner of file name, with &#39;J&#39; in it)","body":"<p>If it is a maven project </p>\n\n<ol>\n<li>right click on the pom.xml</li>\n<li>Add As Maven Project</li>\n</ol>\n\n<p>Thanks</p>\n"},{"tags":[],"owner":{"account_id":6366133,"reputation":1,"user_id":4940074,"display_name":"Mukund BS"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1464703102,"creation_date":1464703102,"answer_id":37547818,"question_id":4904052,"body_markdown":"mark the java folder as source root.It will solve.","title":"What does this symbol mean in IntelliJ? (red circle on bottom-left corner of file name, with &#39;J&#39; in it)","body":"<p>mark the java folder as source root.It will solve.</p>\n"},{"tags":[],"owner":{"account_id":131612,"reputation":785,"user_id":1370283,"display_name":"Dunfield"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1496163915,"creation_date":1496163915,"answer_id":44268046,"question_id":4904052,"body_markdown":"Another option if you&#39;re using Flavors in Android Studio:\r\n\r\nClick Build -&gt; Select Build Variant. \r\n\r\nIn the list click the variant you&#39;re working in and it will turn green and the others will have the red J.\r\n\r\n","title":"What does this symbol mean in IntelliJ? (red circle on bottom-left corner of file name, with &#39;J&#39; in it)","body":"<p>Another option if you're using Flavors in Android Studio:</p>\n\n<p>Click Build -> Select Build Variant. </p>\n\n<p>In the list click the variant you're working in and it will turn green and the others will have the red J.</p>\n"},{"tags":[],"owner":{"account_id":5091902,"reputation":1271,"user_id":4084697,"display_name":"Eric Green"},"comment_count":0,"down_vote_count":0,"up_vote_count":51,"is_accepted":false,"score":51,"last_activity_date":1531337023,"creation_date":1512130279,"answer_id":47593148,"question_id":4904052,"body_markdown":"The first answer from irreputable above that starts out with &quot;you need to specify the source dir&quot; is correct, but I don&#39;t see him telling you the easy way to do so.\r\n\r\nSimply right click on the java sources folder (&quot;java&quot; under src/main/java if it is a Maven project for example) and select Mark Directory As &gt; Sources Root (see screenshot below).\r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/clMWS.png","title":"What does this symbol mean in IntelliJ? (red circle on bottom-left corner of file name, with &#39;J&#39; in it)","body":"<p>The first answer from irreputable above that starts out with \"you need to specify the source dir\" is correct, but I don't see him telling you the easy way to do so.</p>\n\n<p>Simply right click on the java sources folder (\"java\" under src/main/java if it is a Maven project for example) and select Mark Directory As > Sources Root (see screenshot below).</p>\n\n<p><a href=\"https://i.stack.imgur.com/clMWS.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/clMWS.png\" alt=\"enter image description here\"></a></p>\n"},{"comments":[{"owner":{"account_id":1638171,"reputation":206,"user_id":1511116,"display_name":"Ramakant"},"score":0,"creation_date":1554295031,"post_id":51393966,"comment_id":97697780,"body_markdown":"Close Android Studio and delete .idea and .gradle folder from project structure and start Studio again.","body":"Close Android Studio and delete .idea and .gradle folder from project structure and start Studio again."}],"tags":[],"owner":{"account_id":9120957,"reputation":109,"user_id":6786381,"display_name":"Max"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1531890545,"creation_date":1531890545,"answer_id":51393966,"question_id":4904052,"body_markdown":"Maybe your project has not been as android project by android studio, please make sure that plugin &#39;android support&#39; has been enabled（Android Studio Preferences -&gt; Plugins -&gt; Select Android Support）","title":"What does this symbol mean in IntelliJ? (red circle on bottom-left corner of file name, with &#39;J&#39; in it)","body":"<p>Maybe your project has not been as android project by android studio, please make sure that plugin 'android support' has been enabled（Android Studio Preferences -> Plugins -> Select Android Support）</p>\n"},{"tags":[],"owner":{"account_id":3260426,"reputation":11579,"user_id":2746110,"accept_rate":67,"display_name":"Arefe"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1556466151,"creation_date":1556466151,"answer_id":55891882,"question_id":4904052,"body_markdown":"As mentioned earlier, \r\n\r\n 1. right click on the pom.xml\r\n\r\n[![enter image description here][1]][1]\r\n\r\n 2. Add As Maven Project\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/PJIhM.png\r\n  [2]: https://i.stack.imgur.com/i1PmQ.png","title":"What does this symbol mean in IntelliJ? (red circle on bottom-left corner of file name, with &#39;J&#39; in it)","body":"<p>As mentioned earlier, </p>\n\n<ol>\n<li>right click on the pom.xml</li>\n</ol>\n\n<p><a href=\"https://i.stack.imgur.com/PJIhM.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/PJIhM.png\" alt=\"enter image description here\"></a></p>\n\n<ol start=\"2\">\n<li>Add As Maven Project</li>\n</ol>\n\n<p><a href=\"https://i.stack.imgur.com/i1PmQ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/i1PmQ.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":[],"owner":{"account_id":1638171,"reputation":206,"user_id":1511116,"display_name":"Ramakant"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1560867853,"creation_date":1560867853,"answer_id":56651331,"question_id":4904052,"body_markdown":"Close Android Studio and delete .idea and .gradle folder from project structure and start Studio again.\r\n","title":"What does this symbol mean in IntelliJ? (red circle on bottom-left corner of file name, with &#39;J&#39; in it)","body":"<p>Close Android Studio and delete .idea and .gradle folder from project structure and start Studio again.</p>\n"},{"tags":[],"owner":{"account_id":4043874,"reputation":105,"user_id":3325776,"display_name":"user3325776"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1569531794,"creation_date":1569531794,"answer_id":58124754,"question_id":4904052,"body_markdown":"It means your Java source files aren&#39;t part of the project. \r\n\r\nIf the suggestions mentioned here don&#39;t resolve the issue, you may have hit a rare bug like I did. Researching the exceptions found in [the log](https://intellij-support.jetbrains.com/hc/en-us/articles/207241085) helped me. In my case, disabling the &quot;Plugin DevKit&quot;, deleting the .idea directory, and reimporting the project worked.","title":"What does this symbol mean in IntelliJ? (red circle on bottom-left corner of file name, with &#39;J&#39; in it)","body":"<p>It means your Java source files aren't part of the project. </p>\n\n<p>If the suggestions mentioned here don't resolve the issue, you may have hit a rare bug like I did. Researching the exceptions found in <a href=\"https://intellij-support.jetbrains.com/hc/en-us/articles/207241085\" rel=\"nofollow noreferrer\">the log</a> helped me. In my case, disabling the \"Plugin DevKit\", deleting the .idea directory, and reimporting the project worked.</p>\n"},{"tags":[],"owner":{"account_id":15987282,"reputation":71,"user_id":11537324,"display_name":"Das_J"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1577093858,"creation_date":1577093858,"answer_id":59453002,"question_id":4904052,"body_markdown":"Actually this can happens because of two reason. \r\n\r\n1. Your project not getting/ Updating your dependencies. Go to your terminal and enter **mvn clean install**. Or right click on pom.xml and click Add as Mevan Project. \r\n\r\n2. Check your jdk has set properly to the project.","title":"What does this symbol mean in IntelliJ? (red circle on bottom-left corner of file name, with &#39;J&#39; in it)","body":"<p>Actually this can happens because of two reason. </p>\n\n<ol>\n<li><p>Your project not getting/ Updating your dependencies. Go to your terminal and enter <strong>mvn clean install</strong>. Or right click on pom.xml and click Add as Mevan Project. </p></li>\n<li><p>Check your jdk has set properly to the project.</p></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":16716031,"reputation":1,"user_id":12082098,"display_name":"Ray Rojas"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1578588766,"creation_date":1578588766,"answer_id":59668728,"question_id":4904052,"body_markdown":"This is what worked for me\r\n\r\n1. Press File from the toolbar\r\n2. Press Sync Project with Gradle Files","title":"What does this symbol mean in IntelliJ? (red circle on bottom-left corner of file name, with &#39;J&#39; in it)","body":"<p>This is what worked for me</p>\n\n<ol>\n<li>Press File from the toolbar</li>\n<li>Press Sync Project with Gradle Files</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":7073674,"reputation":51,"user_id":5414485,"display_name":"sandamal wijeweera"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1587104894,"creation_date":1587104894,"answer_id":61265369,"question_id":4904052,"body_markdown":"First mark the directory as the source root.\r\nThen go to the pom excel and right click on it.\r\nselect add as maven project .\r\n","title":"What does this symbol mean in IntelliJ? (red circle on bottom-left corner of file name, with &#39;J&#39; in it)","body":"<p>First mark the directory as the source root.\nThen go to the pom excel and right click on it.\nselect add as maven project .</p>\n"},{"tags":[],"owner":{"account_id":14698755,"reputation":11,"user_id":10615404,"display_name":"Spillz"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1594319365,"creation_date":1594319365,"answer_id":62821394,"question_id":4904052,"body_markdown":"This was killing me as I had the same issue. I just going over old projects. Really redoing old lessons from class to get more practice. The repos just have compatibility issues. So I import the project. Then add the source like others state. Then close the project. Delete the .idea directory in the root and re-import project. ","title":"What does this symbol mean in IntelliJ? (red circle on bottom-left corner of file name, with &#39;J&#39; in it)","body":"<p>This was killing me as I had the same issue. I just going over old projects. Really redoing old lessons from class to get more practice. The repos just have compatibility issues. So I import the project. Then add the source like others state. Then close the project. Delete the .idea directory in the root and re-import project.</p>\n"},{"comments":[{"owner":{"account_id":6619736,"reputation":3818,"user_id":5111870,"accept_rate":57,"display_name":"kk."},"score":0,"creation_date":1599137639,"post_id":63722757,"comment_id":112685000,"body_markdown":"This should be a comment.","body":"This should be a comment."}],"tags":[],"owner":{"account_id":13712267,"reputation":33,"user_id":12083479,"display_name":"Soma Kundu"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1599166974,"creation_date":1599132749,"answer_id":63722757,"question_id":4904052,"body_markdown":"For a gradle project &quot;./gradlew --stop&quot; will help to resolve the problem when the source directory is correctly specified and project is properly synced. ","title":"What does this symbol mean in IntelliJ? (red circle on bottom-left corner of file name, with &#39;J&#39; in it)","body":"<p>For a gradle project &quot;./gradlew --stop&quot; will help to resolve the problem when the source directory is correctly specified and project is properly synced.</p>\n"},{"tags":[],"owner":{"account_id":10158490,"reputation":150,"user_id":7502769,"display_name":"KESHAV KUMAR"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689860459,"creation_date":1689860459,"answer_id":76730499,"question_id":4904052,"body_markdown":"I used Repair IDE on file and it worked. I did this for every file which has j icon. Check screenshot. \r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/fJg4G.png","title":"What does this symbol mean in IntelliJ? (red circle on bottom-left corner of file name, with &#39;J&#39; in it)","body":"<p>I used Repair IDE on file and it worked. I did this for every file which has j icon. Check screenshot.</p>\n<p><a href=\"https://i.stack.imgur.com/fJg4G.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/fJg4G.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":67925,"reputation":7613,"user_id":198473,"accept_rate":74,"display_name":"TERACytE"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":179871,"favorite_count":0,"down_vote_count":0,"up_vote_count":150,"answer_count":20,"score":150,"last_activity_date":1697765598,"creation_date":1296863475,"question_id":4904052,"body_markdown":"Under the target folder in IntelliJ for a Java project I created, I have a few java source files in the package.  Beside each file the &#39;J&#39; icon has a red circle with a line through it.\r\n\r\nWhat does that mean?  How do I fix it?\r\n","title":"What does this symbol mean in IntelliJ? (red circle on bottom-left corner of file name, with &#39;J&#39; in it)","body":"<p>Under the target folder in IntelliJ for a Java project I created, I have a few java source files in the package.  Beside each file the 'J' icon has a red circle with a line through it.</p>\n\n<p>What does that mean?  How do I fix it?</p>\n"},{"tags":["java","ssl-certificate","google-kubernetes-engine","keytool","truststore"],"comments":[{"owner":{"account_id":3421244,"reputation":35883,"user_id":2868801,"display_name":"dave_thompson_085"},"score":0,"creation_date":1697778539,"post_id":77327799,"comment_id":136324939,"body_markdown":"No end-entity cert is ever directly _signed_ by a public root CA like Digicert G2; that&#39;s been prohibited for decades. It can very well be _chained under_ that root, and if the server provides the chain/intermediate(s) as required, the Digicert G2 root has been in the default Java truststore since 2016, so it&#39;s very unlikely you would ever have needed to add anything anywhere. Unless your code overrides the default, but you&#39;ll have to look at the code for that.","body":"No end-entity cert is ever directly <i>signed</i> by a public root CA like Digicert G2; that&#39;s been prohibited for decades. It can very well be <i>chained under</i> that root, and if the server provides the chain/intermediate(s) as required, the Digicert G2 root has been in the default Java truststore since 2016, so it&#39;s very unlikely you would ever have needed to add anything anywhere. Unless your code overrides the default, but you&#39;ll have to look at the code for that."},{"owner":{"account_id":29712404,"reputation":1,"user_id":22771714,"display_name":"Tioluwa"},"score":0,"creation_date":1697789064,"post_id":77327799,"comment_id":136326321,"body_markdown":"@dave_thompson_085 it&#39;s issued by Thawte TLS RSA CA G1. Like i mentioned the client&#39;s certificate expired and other users complained about the issue. But we were notified that it&#39;s now renewed, and i confirmed it is, but my app keeps throwing this error in the cloud deployment env.","body":"@dave_thompson_085 it&#39;s issued by Thawte TLS RSA CA G1. Like i mentioned the client&#39;s certificate expired and other users complained about the issue. But we were notified that it&#39;s now renewed, and i confirmed it is, but my app keeps throwing this error in the cloud deployment env."},{"owner":{"account_id":3421244,"reputation":35883,"user_id":2868801,"display_name":"dave_thompson_085"},"score":0,"creation_date":1697937730,"post_id":77327799,"comment_id":136341925,"body_markdown":"Thawte is one of several brands now owned by Digicert (previously independent then Verisign then Symantec) and as I said Digicert G2 root has been trusted for many years, so it&#39;s either the code or (didn&#39;t occur to me last time) configuration settings or environment affecting it -- for example if it&#39;s Windows and Java is installed under %programfiles*% (as is the Oracle default) data you try to update may disappear due to security features.","body":"Thawte is one of several brands now owned by Digicert (previously independent then Verisign then Symantec) and as I said Digicert G2 root has been trusted for many years, so it&#39;s either the code or (didn&#39;t occur to me last time) configuration settings or environment affecting it -- for example if it&#39;s Windows and Java is installed under %programfiles*% (as is the Oracle default) data you try to update may disappear due to security features."},{"owner":{"account_id":7248598,"reputation":11598,"user_id":5529712,"display_name":"Gari Singh"},"score":0,"creation_date":1697963258,"post_id":77327799,"comment_id":136343264,"body_markdown":"Did you actually rebuild the container image for your app and included the certificate(s) in the trust store for the app in the container image?","body":"Did you actually rebuild the container image for your app and included the certificate(s) in the trust store for the app in the container image?"},{"owner":{"account_id":29712404,"reputation":1,"user_id":22771714,"display_name":"Tioluwa"},"score":0,"creation_date":1697997045,"post_id":77327799,"comment_id":136346511,"body_markdown":"@dave_thompson_085,i was able to add the new certificate on my local machine. the problem is the devOps team deploy the app, after after deployment try to use the keytool to update the key in the pod. but this doesn&#39;t seem to work.","body":"@dave_thompson_085,i was able to add the new certificate on my local machine. the problem is the devOps team deploy the app, after after deployment try to use the keytool to update the key in the pod. but this doesn&#39;t seem to work."},{"owner":{"account_id":29712404,"reputation":1,"user_id":22771714,"display_name":"Tioluwa"},"score":0,"creation_date":1697997153,"post_id":77327799,"comment_id":136346526,"body_markdown":"@GariSingh, the image was rebuilt, deployed and started. Afterwards devOps attempted to use keytool to install the new certificate, which seemed to work without any error, but still Java throws certificate exception shows above.","body":"@GariSingh, the image was rebuilt, deployed and started. Afterwards devOps attempted to use keytool to install the new certificate, which seemed to work without any error, but still Java throws certificate exception shows above."}],"owner":{"account_id":29712404,"reputation":1,"user_id":22771714,"display_name":"Tioluwa"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":260,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697763788,"creation_date":1697763788,"question_id":77327799,"body_markdown":"I’ve been working on a project that uses Java HttpClient on Java 17 to communicate with an api amongst other things.\r\nThe project is deployed to GKE and running fine.\r\n\r\nFew days ago the client’s SSL certificate expired and I started getting\r\n\r\n```\r\nPKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target.\r\n```\r\n\r\nmore from the stack trace reads:\r\n\r\n```\r\nsun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\r\nat java.base/sun.security.provider.certpath.SunCertPathBuilder.build(SunCertPathBuilder.java:141)\r\nat java.base/sun.security.provider.certpath.SunCertPathBuilder.engineBuild(SunCertPathBuilder.java:126)\r\nat java.base/java.security.cert.CertPathBuilder.build(CertPathBuilder.java:297)\r\nat java.base/sun.security.validator.PKIXValidator.doBuild(PKIXValidator.java:434)\r\n... 28 common frames omitted\r\nCausing: sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\r\nat java.base/sun.security.validator.PKIXValidator.doBuild(PKIXValidator.java:439)\r\nat java.base/sun.security.validator.PKIXValidator.engineValidate(PKIXValidator.java:306)\r\nat java.base/sun.security.ssl.X509TrustManagerImpl.checkTrusted(X509TrustManagerImpl.java:285)\r\nat java.base/sun.security.validator.Validator.validate(Validator.java:264)\r\nat java.base/sun.security.ssl.X509TrustManagerImpl.checkServerTrusted(X509TrustManagerImpl.java:144)\r\nat java.base/sun.security.ssl.CertificateMessage$T12CertificateConsumer.checkServerCerts(CertificateMessage.java:632)\r\n... 23 common frames omitted\r\nCausing: javax.net.ssl.SSLHandshakeException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\r\nat java.base/sun.security.ssl.Alert.createSSLException(Alert.java:131)\r\nat java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:371)\r\nat java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:314)\r\nat java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:309)\r\nat java.base/sun.security.ssl.CertificateMessage$T12CertificateConsumer.checkServerCerts(CertificateMessage.java:654)\r\nat java.base/sun.security.ssl.CertificateMessage$T12CertificateConsumer.onCertificate(CertificateMessage.java:473)\r\nat java.base/sun.security.ssl.CertificateMessage$T12CertificateConsumer.consume(CertificateMessage.java:369)\r\nat java.base/sun.security.ssl.SSLHandshake.consume(SSLHandshake.java:396)\r\nat java.base/sun.security.ssl.HandshakeContext.dispatch(HandshakeContext.java:480)\r\nat java.base/sun.security.ssl.SSLEngineImpl$DelegatedTask$DelegatedAction.run(SSLEngineImpl.java:1277)\r\nat java.base/sun.security.ssl.SSLEngineImpl$DelegatedTask$DelegatedAction.run(SSLEngineImpl.java:1264)\r\nat java.base/java.security.AccessController.doPrivileged(AccessController.java:712)\r\nat java.base/sun.security.ssl.SSLEngineImpl$DelegatedTask.run(SSLEngineImpl.java:1209)\r\nat java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\r\nat java.net.http/jdk.internal.net.http.common.SSLFlowDelegate.lambda$executeTasks$3(SSLFlowDelegate.java:1118)\r\nat java.net.http/jdk.internal.net.http.HttpClientImpl$DelegatingExecutor.execute(HttpClientImpl.java:157)\r\nat java.net.http/jdk.internal.net.http.common.SSLFlowDelegate.executeTasks(SSLFlowDelegate.java:1113)\r\nat java.net.http/jdk.internal.net.http.common.SSLFlowDelegate.doHandshake(SSLFlowDelegate.java:1079)\r\nat java.net.http/jdk.internal.net.http.common.SSLFlowDelegate$Reader.processData(SSLFlowDelegate.java:484)\r\nat java.net.http/jdk.internal.net.http.common.SSLFlowDelegate$Reader$ReaderDownstreamPusher.run(SSLFlowDelegate.java:268)\r\nat java.net.http/jdk.internal.net.http.common.SequentialScheduler$LockingRestartableTask.run(SequentialScheduler.java:205)\r\nat java.net.http/jdk.internal.net.http.common.SequentialScheduler$CompleteRestartableTask.run(SequentialScheduler.java:149)\r\nat java.net.http/jdk.internal.net.http.common.SequentialScheduler$TryEndDeferredCompleter.complete(SequentialScheduler.java:347)\r\nat java.net.http/jdk.internal.net.http.common.SequentialScheduler$CompleteRestartableTask.run(SequentialScheduler.java:151)\r\nat java.net.http/jdk.internal.net.http.common.SequentialScheduler$SchedulableTask.run(SequentialScheduler.java:230)\r\n... 3 common frames omitted\r\nCausing: javax.net.ssl.SSLHandshakeException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\r\nat java.net.http/jdk.internal.net.http.HttpClientImpl.send(HttpClientImpl.java:578)\r\nat java.net.http/jdk.internal.net.http.HttpClientFacade.send(HttpClientFacade.java:123)\r\n... 12 common frames omitted\r\nCausing: com.libs.card_payment_client.exception.PaymentClientException: Failed to process payment: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\r\nat io.grpc.stub.ServerCalls$UnaryServerCallHandler$UnaryServerCallListener.onHalfClose(ServerCalls.java:182)\r\nat io.grpc.internal.ServerCallImpl$ServerStreamListenerImpl.halfClosed(ServerCallImpl.java:346)\r\nat io.grpc.internal.ServerImpl$JumpToApplicationThreadServerStreamListener$1HalfClosed.runInContext(ServerImpl.java:860)\r\nat io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)\r\nat io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)\r\nat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)\r\n```\r\n\r\nThis continued even after they renewed their certificate. By the way the certificate is signed by DigiCert Global Root G2\r\n\r\nOn my local MAC I resolved the issue by downloading the new certificate and using key tool to add it to my trust store using the command.\r\n\r\n```\r\nsudo keytool -import -alias qa_interswitch_certificate -file qa.interswitchng.com.cer -keystore /Library/Java/JavaVirtualMachines/amazon-corretto-17.jdk/Contents/Home/lib/security/cacerts\r\n```\r\n\r\nHowever, on redeploying the application to GKE with some other updates, the error doesn’t go away on the remote machine.\r\n\r\nI informed our devOps team and they also used keytool to add the new certificate but the error still persists. I&#39;m not much of a devOps guy, but i gave the devOps team the exact command i used to resolve it on my local machine but still getting the same error on the server.\r\n\r\nHow can I resolve this issue on the remote pods?","title":"How to fix &quot;unable to find valid certification path to requested target&quot; in Java application running on GKS after certificate expired and was renewed","body":"<p>I’ve been working on a project that uses Java HttpClient on Java 17 to communicate with an api amongst other things.\nThe project is deployed to GKE and running fine.</p>\n<p>Few days ago the client’s SSL certificate expired and I started getting</p>\n<pre><code>PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target.\n</code></pre>\n<p>more from the stack trace reads:</p>\n<pre><code>sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\nat java.base/sun.security.provider.certpath.SunCertPathBuilder.build(SunCertPathBuilder.java:141)\nat java.base/sun.security.provider.certpath.SunCertPathBuilder.engineBuild(SunCertPathBuilder.java:126)\nat java.base/java.security.cert.CertPathBuilder.build(CertPathBuilder.java:297)\nat java.base/sun.security.validator.PKIXValidator.doBuild(PKIXValidator.java:434)\n... 28 common frames omitted\nCausing: sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\nat java.base/sun.security.validator.PKIXValidator.doBuild(PKIXValidator.java:439)\nat java.base/sun.security.validator.PKIXValidator.engineValidate(PKIXValidator.java:306)\nat java.base/sun.security.ssl.X509TrustManagerImpl.checkTrusted(X509TrustManagerImpl.java:285)\nat java.base/sun.security.validator.Validator.validate(Validator.java:264)\nat java.base/sun.security.ssl.X509TrustManagerImpl.checkServerTrusted(X509TrustManagerImpl.java:144)\nat java.base/sun.security.ssl.CertificateMessage$T12CertificateConsumer.checkServerCerts(CertificateMessage.java:632)\n... 23 common frames omitted\nCausing: javax.net.ssl.SSLHandshakeException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\nat java.base/sun.security.ssl.Alert.createSSLException(Alert.java:131)\nat java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:371)\nat java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:314)\nat java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:309)\nat java.base/sun.security.ssl.CertificateMessage$T12CertificateConsumer.checkServerCerts(CertificateMessage.java:654)\nat java.base/sun.security.ssl.CertificateMessage$T12CertificateConsumer.onCertificate(CertificateMessage.java:473)\nat java.base/sun.security.ssl.CertificateMessage$T12CertificateConsumer.consume(CertificateMessage.java:369)\nat java.base/sun.security.ssl.SSLHandshake.consume(SSLHandshake.java:396)\nat java.base/sun.security.ssl.HandshakeContext.dispatch(HandshakeContext.java:480)\nat java.base/sun.security.ssl.SSLEngineImpl$DelegatedTask$DelegatedAction.run(SSLEngineImpl.java:1277)\nat java.base/sun.security.ssl.SSLEngineImpl$DelegatedTask$DelegatedAction.run(SSLEngineImpl.java:1264)\nat java.base/java.security.AccessController.doPrivileged(AccessController.java:712)\nat java.base/sun.security.ssl.SSLEngineImpl$DelegatedTask.run(SSLEngineImpl.java:1209)\nat java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\nat java.net.http/jdk.internal.net.http.common.SSLFlowDelegate.lambda$executeTasks$3(SSLFlowDelegate.java:1118)\nat java.net.http/jdk.internal.net.http.HttpClientImpl$DelegatingExecutor.execute(HttpClientImpl.java:157)\nat java.net.http/jdk.internal.net.http.common.SSLFlowDelegate.executeTasks(SSLFlowDelegate.java:1113)\nat java.net.http/jdk.internal.net.http.common.SSLFlowDelegate.doHandshake(SSLFlowDelegate.java:1079)\nat java.net.http/jdk.internal.net.http.common.SSLFlowDelegate$Reader.processData(SSLFlowDelegate.java:484)\nat java.net.http/jdk.internal.net.http.common.SSLFlowDelegate$Reader$ReaderDownstreamPusher.run(SSLFlowDelegate.java:268)\nat java.net.http/jdk.internal.net.http.common.SequentialScheduler$LockingRestartableTask.run(SequentialScheduler.java:205)\nat java.net.http/jdk.internal.net.http.common.SequentialScheduler$CompleteRestartableTask.run(SequentialScheduler.java:149)\nat java.net.http/jdk.internal.net.http.common.SequentialScheduler$TryEndDeferredCompleter.complete(SequentialScheduler.java:347)\nat java.net.http/jdk.internal.net.http.common.SequentialScheduler$CompleteRestartableTask.run(SequentialScheduler.java:151)\nat java.net.http/jdk.internal.net.http.common.SequentialScheduler$SchedulableTask.run(SequentialScheduler.java:230)\n... 3 common frames omitted\nCausing: javax.net.ssl.SSLHandshakeException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\nat java.net.http/jdk.internal.net.http.HttpClientImpl.send(HttpClientImpl.java:578)\nat java.net.http/jdk.internal.net.http.HttpClientFacade.send(HttpClientFacade.java:123)\n... 12 common frames omitted\nCausing: com.libs.card_payment_client.exception.PaymentClientException: Failed to process payment: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\nat io.grpc.stub.ServerCalls$UnaryServerCallHandler$UnaryServerCallListener.onHalfClose(ServerCalls.java:182)\nat io.grpc.internal.ServerCallImpl$ServerStreamListenerImpl.halfClosed(ServerCallImpl.java:346)\nat io.grpc.internal.ServerImpl$JumpToApplicationThreadServerStreamListener$1HalfClosed.runInContext(ServerImpl.java:860)\nat io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)\nat io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)\nat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)\n</code></pre>\n<p>This continued even after they renewed their certificate. By the way the certificate is signed by DigiCert Global Root G2</p>\n<p>On my local MAC I resolved the issue by downloading the new certificate and using key tool to add it to my trust store using the command.</p>\n<pre><code>sudo keytool -import -alias qa_interswitch_certificate -file qa.interswitchng.com.cer -keystore /Library/Java/JavaVirtualMachines/amazon-corretto-17.jdk/Contents/Home/lib/security/cacerts\n</code></pre>\n<p>However, on redeploying the application to GKE with some other updates, the error doesn’t go away on the remote machine.</p>\n<p>I informed our devOps team and they also used keytool to add the new certificate but the error still persists. I'm not much of a devOps guy, but i gave the devOps team the exact command i used to resolve it on my local machine but still getting the same error on the server.</p>\n<p>How can I resolve this issue on the remote pods?</p>\n"},{"tags":["java","jdbc","mysql-connector"],"comments":[{"owner":{"account_id":1190755,"reputation":48912,"user_id":1163607,"accept_rate":97,"display_name":"AllTooSir"},"score":3,"creation_date":1373014193,"post_id":17484764,"comment_id":25411427,"body_markdown":"Is the driver jar in your classpath ?","body":"Is the driver jar in your classpath ?"},{"owner":{"account_id":263142,"reputation":9391,"user_id":548526,"accept_rate":70,"display_name":"Siddharth"},"score":0,"creation_date":1373022642,"post_id":17484764,"comment_id":25415960,"body_markdown":"ensure that you have synchronized on your getInstance()","body":"ensure that you have synchronized on your getInstance()"},{"owner":{"account_id":216107,"reputation":32743,"user_id":471136,"accept_rate":77,"display_name":"pathikrit"},"score":0,"creation_date":1477258748,"post_id":17484764,"comment_id":67680639,"body_markdown":"Possible duplicate of [ClassNotFoundException com.mysql.jdbc.Driver](http://stackoverflow.com/questions/1585811/classnotfoundexception-com-mysql-jdbc-driver)","body":"Possible duplicate of <a href=\"http://stackoverflow.com/questions/1585811/classnotfoundexception-com-mysql-jdbc-driver\">ClassNotFoundException com.mysql.jdbc.Driver</a>"},{"owner":{"account_id":8312398,"reputation":2283,"user_id":6255817,"display_name":"codingbruh"},"score":1,"creation_date":1496387018,"post_id":17484764,"comment_id":75650437,"body_markdown":"You need to paste the jar file into your webserver&#39;s lib directory, if you are getting the error in runtime. whereas, if you are getting the error on compile time add the jar in build path.","body":"You need to paste the jar file into your webserver&#39;s lib directory, if you are getting the error in runtime. whereas, if you are getting the error on compile time add the jar in build path."}],"answers":[{"comments":[{"owner":{"account_id":5302751,"reputation":569,"user_id":4231763,"accept_rate":75,"display_name":"Achyuta Aich"},"score":0,"creation_date":1427302845,"post_id":17484813,"comment_id":46725830,"body_markdown":"What if we are not using any IDE and simply running on our terminal ? Then how to deal with this problem ?","body":"What if we are not using any IDE and simply running on our terminal ? Then how to deal with this problem ?"},{"owner":{"account_id":1965862,"reputation":3669,"user_id":1766166,"accept_rate":71,"display_name":"zygimantus"},"score":1,"creation_date":1505807115,"post_id":17484813,"comment_id":79551943,"body_markdown":"Using `-cp` gives Could not find or load main class error. Do I need to put Main class to another folder?","body":"Using <code>-cp</code> gives Could not find or load main class error. Do I need to put Main class to another folder?"}],"tags":[],"owner":{"account_id":1903805,"reputation":41397,"user_id":1719067,"accept_rate":73,"display_name":"Narendra Pathai"},"comment_count":2,"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1373018430,"creation_date":1373014272,"answer_id":17484813,"question_id":17484764,"body_markdown":"You will have to include driver jar for MySQL [MySQL Connector Jar][1] in your classpath.\r\n\r\nIf you are using Eclipse:\r\n[How to add dependent libraries in Eclipse][2]\r\n\r\nIf you are using command line include the path to the driver jar using the -cp parameter of java.\r\n\r\n    java -cp C:\\lib\\* Main\r\n\r\n\r\n  [1]: http://www.mysql.com/downloads/connector/j/\r\n  [2]: http://www.wikihow.com/Add-JARs-to-Project-Build-Paths-in-Eclipse-%28Java%29","title":"java.lang.ClassNotFoundException: com.mysql.jdbc.Driver MySQLConnector/J","body":"<p>You will have to include driver jar for MySQL <a href=\"http://www.mysql.com/downloads/connector/j/\">MySQL Connector Jar</a> in your classpath.</p>\n\n<p>If you are using Eclipse:\n<a href=\"http://www.wikihow.com/Add-JARs-to-Project-Build-Paths-in-Eclipse-%28Java%29\">How to add dependent libraries in Eclipse</a></p>\n\n<p>If you are using command line include the path to the driver jar using the -cp parameter of java.</p>\n\n<pre><code>java -cp C:\\lib\\* Main\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1299032,"reputation":5308,"user_id":1249325,"accept_rate":50,"display_name":"KhAn SaAb"},"comment_count":0,"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1516350860,"creation_date":1373014316,"answer_id":17484824,"question_id":17484764,"body_markdown":"check for jar`(mysql-connector-java-bin)` in your classpath [download from here][1]\r\n\r\n\r\n  [1]: https://code.google.com/p/find-ur-pal/downloads/detail?name=mysql-connector-java-5.1.18-bin.jar&amp;can=2&amp;q=","title":"java.lang.ClassNotFoundException: com.mysql.jdbc.Driver MySQLConnector/J","body":"<p>check for jar<code>(mysql-connector-java-bin)</code> in your classpath <a href=\"https://code.google.com/p/find-ur-pal/downloads/detail?name=mysql-connector-java-5.1.18-bin.jar&amp;can=2&amp;q=\" rel=\"noreferrer\">download from here</a></p>\n"},{"comments":[{"owner":{"account_id":5302751,"reputation":569,"user_id":4231763,"accept_rate":75,"display_name":"Achyuta Aich"},"score":10,"creation_date":1427302834,"post_id":17484982,"comment_id":46725818,"body_markdown":"What if we are not using any IDE and simply running on our terminal ? Then how to deal with this problem ?","body":"What if we are not using any IDE and simply running on our terminal ? Then how to deal with this problem ?"},{"owner":{"account_id":13886529,"reputation":321,"user_id":10025533,"display_name":"SWETA KESUR"},"score":2,"creation_date":1551859186,"post_id":17484982,"comment_id":96789904,"body_markdown":"Problem won&#39;t get solved until you add `mysql-connector-java-8.0.15.jar` file into `apache-tomcat-9.0.16\\lib` folder, as suggested by @Asad.","body":"Problem won&#39;t get solved until you add <code>mysql-connector-java-8.0.15.jar</code> file into <code>apache-tomcat-9.0.16\\lib</code> folder, as suggested by @Asad."}],"tags":[],"owner":{"account_id":2157141,"reputation":6635,"user_id":1912085,"accept_rate":75,"display_name":"R9J"},"comment_count":2,"down_vote_count":0,"up_vote_count":152,"is_accepted":false,"score":152,"last_activity_date":1472635544,"creation_date":1373014831,"answer_id":17484982,"question_id":17484764,"body_markdown":"It seems the **mysql connectivity library is not included** in the project. Solve the problem following one of the proposed solutions:\r\n\r\n - **MAVEN PROJECTS SOLUTION**\r\n\r\nAdd the mysql-connector dependency to the pom.xml project file:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;mysql&lt;/groupId&gt;\r\n        &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n        &lt;version&gt;5.1.39&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\nHere you are all the versions: https://mvnrepository.com/artifact/mysql/mysql-connector-java\r\n\r\n\r\n - **ALL PROJECTS SOLUTION**\r\n\r\nAdd the jar library manually to the project.\r\n\r\n**Right Click the project -- &gt; build path -- &gt; configure build path**\r\n\r\nIn `Libraries Tab` **press** `Add External Jar` and `Select` your jar.\r\n\r\nYou can find zip for mysql-connector [here][1]\r\n\r\n - ***Explanation:***\r\n\r\nWhen building the project, java throws you an exception because a file (the com.mysql.jdbc.Driver class) from the mysql connectivity library is not found. The solution is adding the library to the project, and java will find the com.mysql.jdbc.Driver \r\n\r\n\r\n\r\n\r\n\r\n  [1]: http://dev.mysql.com/downloads/connector/j/5.0.html","title":"java.lang.ClassNotFoundException: com.mysql.jdbc.Driver MySQLConnector/J","body":"<p>It seems the <strong>mysql connectivity library is not included</strong> in the project. Solve the problem following one of the proposed solutions:</p>\n\n<ul>\n<li><strong>MAVEN PROJECTS SOLUTION</strong></li>\n</ul>\n\n<p>Add the mysql-connector dependency to the pom.xml project file:</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;mysql&lt;/groupId&gt;\n    &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n    &lt;version&gt;5.1.39&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>Here you are all the versions: <a href=\"https://mvnrepository.com/artifact/mysql/mysql-connector-java\">https://mvnrepository.com/artifact/mysql/mysql-connector-java</a></p>\n\n<ul>\n<li><strong>ALL PROJECTS SOLUTION</strong></li>\n</ul>\n\n<p>Add the jar library manually to the project.</p>\n\n<p><strong>Right Click the project -- > build path -- > configure build path</strong></p>\n\n<p>In <code>Libraries Tab</code> <strong>press</strong> <code>Add External Jar</code> and <code>Select</code> your jar.</p>\n\n<p>You can find zip for mysql-connector <a href=\"http://dev.mysql.com/downloads/connector/j/5.0.html\">here</a></p>\n\n<ul>\n<li><strong><em>Explanation:</em></strong></li>\n</ul>\n\n<p>When building the project, java throws you an exception because a file (the com.mysql.jdbc.Driver class) from the mysql connectivity library is not found. The solution is adding the library to the project, and java will find the com.mysql.jdbc.Driver </p>\n"},{"comments":[{"owner":{"account_id":5302751,"reputation":569,"user_id":4231763,"accept_rate":75,"display_name":"Achyuta Aich"},"score":1,"creation_date":1427302839,"post_id":17487254,"comment_id":46725823,"body_markdown":"What if we are not using any IDE and simply running on our terminal ? Then how to deal with this problem ?","body":"What if we are not using any IDE and simply running on our terminal ? Then how to deal with this problem ?"},{"owner":{"account_id":1628006,"reputation":1827,"user_id":1503080,"accept_rate":40,"display_name":"Asad"},"score":0,"creation_date":1435896725,"post_id":17487254,"comment_id":50400560,"body_markdown":"if you are not using any IDE then you should add jar file path to your classpath","body":"if you are not using any IDE then you should add jar file path to your classpath"}],"tags":[],"owner":{"account_id":1628006,"reputation":1827,"user_id":1503080,"accept_rate":40,"display_name":"Asad"},"comment_count":2,"down_vote_count":0,"up_vote_count":57,"is_accepted":false,"score":57,"last_activity_date":1373021813,"creation_date":1373021813,"answer_id":17487254,"question_id":17484764,"body_markdown":"If you got the error in your IDE(compile-time error), you need to add your mysql-connector jar file to your libs and add this to your referenced library of project too.\r\n\r\nIf you get this error when you are running it, then probably its because you have not included mysql-connector JAR file to your webserver&#39;s lib folder.\r\n\r\nAdd `mysql-connector-java-5.1.25-bin.jar` to your classpath and also to your webserver&#39;s lib directory. Tomcat lib path is given as an example `Tomcat 6.0\\lib`","title":"java.lang.ClassNotFoundException: com.mysql.jdbc.Driver MySQLConnector/J","body":"<p>If you got the error in your IDE(compile-time error), you need to add your mysql-connector jar file to your libs and add this to your referenced library of project too.</p>\n\n<p>If you get this error when you are running it, then probably its because you have not included mysql-connector JAR file to your webserver's lib folder.</p>\n\n<p>Add <code>mysql-connector-java-5.1.25-bin.jar</code> to your classpath and also to your webserver's lib directory. Tomcat lib path is given as an example <code>Tomcat 6.0\\lib</code></p>\n"},{"tags":[],"owner":{"account_id":3352915,"reputation":7195,"user_id":2816571,"accept_rate":89,"display_name":"Paul"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1387425960,"creation_date":1387425960,"answer_id":20673251,"question_id":17484764,"body_markdown":"Trivial as it may seem in my case netbeans version maven project 7.2.1 was different.  There is a folder in the project called dependencies.  Right click and then it brings up a popup window where you can search for packages.  In the query area put \r\n\r\n    mysql-connector\r\n\r\nIt will bring up the matches (it seems it does this against some repository).  Double click then install.\r\n","title":"java.lang.ClassNotFoundException: com.mysql.jdbc.Driver MySQLConnector/J","body":"<p>Trivial as it may seem in my case netbeans version maven project 7.2.1 was different.  There is a folder in the project called dependencies.  Right click and then it brings up a popup window where you can search for packages.  In the query area put </p>\n\n<pre><code>mysql-connector\n</code></pre>\n\n<p>It will bring up the matches (it seems it does this against some repository).  Double click then install.</p>\n"},{"tags":[],"owner":{"account_id":4164801,"reputation":111,"user_id":3413982,"display_name":"MilesWeb"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1394692695,"creation_date":1394692695,"answer_id":22370918,"question_id":17484764,"body_markdown":"It is because the WEB-INF folder does not exist at the location in the sub directory in the error. You either compile the application to use the WEB-INF folder under public_html OR copy the WEB-INF folder in sub folder as in the error above.","title":"java.lang.ClassNotFoundException: com.mysql.jdbc.Driver MySQLConnector/J","body":"<p>It is because the WEB-INF folder does not exist at the location in the sub directory in the error. You either compile the application to use the WEB-INF folder under public_html OR copy the WEB-INF folder in sub folder as in the error above.</p>\n"},{"tags":[],"owner":{"account_id":4295333,"reputation":314,"user_id":3510548,"accept_rate":50,"display_name":"Kika_Fortez"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1398448203,"creation_date":1398448203,"answer_id":23299787,"question_id":17484764,"body_markdown":"In the project into the folder Libraries--&gt;right click --&gt; Add Library --&gt; Mysqlconnector 5.1","title":"java.lang.ClassNotFoundException: com.mysql.jdbc.Driver MySQLConnector/J","body":"<p>In the project into the folder Libraries-->right click --> Add Library --> Mysqlconnector 5.1</p>\n"},{"tags":[],"owner":{"account_id":3249102,"reputation":91,"user_id":2739891,"display_name":"Sathish SR"},"comment_count":0,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1408703461,"creation_date":1408702879,"answer_id":25444767,"question_id":17484764,"body_markdown":"\r\nJDBC API mostly consists of interfaces which work independently of any database. A database specific driver is required for each database which implements the JDBC API.\r\n\r\n\r\nFirst download the MySQL connector jar from www.mysql.com, then:\r\n\r\n`Right Click the project -- &gt; build path -- &gt; configure build path`\r\n\r\nIn the libraries tab press `Add External Jar` and select your jar.","title":"java.lang.ClassNotFoundException: com.mysql.jdbc.Driver MySQLConnector/J","body":"<p>JDBC API mostly consists of interfaces which work independently of any database. A database specific driver is required for each database which implements the JDBC API.</p>\n\n<p>First download the MySQL connector jar from www.mysql.com, then:</p>\n\n<p><code>Right Click the project -- &gt; build path -- &gt; configure build path</code></p>\n\n<p>In the libraries tab press <code>Add External Jar</code> and select your jar.</p>\n"},{"tags":[],"owner":{"account_id":3063427,"reputation":2288,"user_id":2595642,"accept_rate":43,"display_name":"shikjohari"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1415683991,"creation_date":1415683991,"answer_id":26858214,"question_id":17484764,"body_markdown":"The driver connector is not in your build path. Configure the build path and point it to the &#39;mysql-connector-java-5.1.25-bin.jar&#39; (check the version which you are using). Alternatively you can use maven :D","title":"java.lang.ClassNotFoundException: com.mysql.jdbc.Driver MySQLConnector/J","body":"<p>The driver connector is not in your build path. Configure the build path and point it to the 'mysql-connector-java-5.1.25-bin.jar' (check the version which you are using). Alternatively you can use maven :D</p>\n"},{"tags":[],"owner":{"account_id":3079492,"reputation":1027,"user_id":2608063,"accept_rate":94,"display_name":"tomtomssi"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1456897954,"creation_date":1424433781,"answer_id":28628540,"question_id":17484764,"body_markdown":"For Maven based projects you need a dependency.\n\r\n \n\n    &lt;dependency&gt;\n         \t&lt;groupId&gt;mysql&lt;/groupId&gt;\n    \t    &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n         \t&lt;version&gt;5.1.38&lt;/version&gt;\n    &lt;/dependency&gt;\n\n","title":"java.lang.ClassNotFoundException: com.mysql.jdbc.Driver MySQLConnector/J","body":"<p>For Maven based projects you need a dependency.</p>\n\n<pre><code>&lt;dependency&gt;\n        &lt;groupId&gt;mysql&lt;/groupId&gt;\n        &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n        &lt;version&gt;5.1.38&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3660624,"reputation":2298,"user_id":3050541,"accept_rate":92,"display_name":"itsmichaelwang"},"score":0,"creation_date":1490212646,"post_id":28987883,"comment_id":73017190,"body_markdown":"What ended up working for me was `runtime &#39;mysql:mysql-connector-java:6.0.+&#39;`.","body":"What ended up working for me was <code>runtime &#39;mysql:mysql-connector-java:6.0.+&#39;</code>."}],"tags":[],"owner":{"account_id":1532531,"reputation":36089,"user_id":1429387,"accept_rate":63,"display_name":"naXa stands with Ukraine"},"comment_count":1,"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1479852949,"creation_date":1426080502,"answer_id":28987883,"question_id":17484764,"body_markdown":"For [Gradle][1]-based projects you need a dependency on [MySQL Java Connector][2]:\r\n\r\n    dependencies {\r\n        compile &#39;mysql:mysql-connector-java:6.0.+&#39;\r\n    }\r\n\r\n  [1]: http://gradle.org/\r\n  [2]: http://mvnrepository.com/artifact/mysql/mysql-connector-java\r\n","title":"java.lang.ClassNotFoundException: com.mysql.jdbc.Driver MySQLConnector/J","body":"<p>For <a href=\"http://gradle.org/\" rel=\"noreferrer\">Gradle</a>-based projects you need a dependency on <a href=\"http://mvnrepository.com/artifact/mysql/mysql-connector-java\" rel=\"noreferrer\">MySQL Java Connector</a>:</p>\n\n<pre><code>dependencies {\n    compile 'mysql:mysql-connector-java:6.0.+'\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3913235,"reputation":2862,"user_id":3237899,"accept_rate":73,"display_name":"Harsh"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1458952947,"creation_date":1458952947,"answer_id":36230299,"question_id":17484764,"body_markdown":"The exception can also occur because of the class path not being defined.\r\n\r\nAfter hours of research and literally going through hundreds of pages, the problem was that the class path of the library was not defined.\r\n\r\nSet the class path as follows in your windows machine \r\n\r\n    set classpath=path\\to\\your\\jdbc\\jar\\file;.","title":"java.lang.ClassNotFoundException: com.mysql.jdbc.Driver MySQLConnector/J","body":"<p>The exception can also occur because of the class path not being defined.</p>\n\n<p>After hours of research and literally going through hundreds of pages, the problem was that the class path of the library was not defined.</p>\n\n<p>Set the class path as follows in your windows machine </p>\n\n<pre><code>set classpath=path\\to\\your\\jdbc\\jar\\file;.\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6838496,"reputation":2450,"user_id":5259625,"accept_rate":56,"display_name":"Gen"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1466686807,"creation_date":1466686807,"answer_id":37992404,"question_id":17484764,"body_markdown":"I Understood your problem add this dependency in your pom.xml your problem will be solved,\r\n\r\n\r\nhttps://mvnrepository.com/artifact/mysql/mysql-connector-java/5.1.38\r\n","title":"java.lang.ClassNotFoundException: com.mysql.jdbc.Driver MySQLConnector/J","body":"<p>I Understood your problem add this dependency in your pom.xml your problem will be solved,</p>\n\n<p><a href=\"https://mvnrepository.com/artifact/mysql/mysql-connector-java/5.1.38\" rel=\"nofollow\">https://mvnrepository.com/artifact/mysql/mysql-connector-java/5.1.38</a></p>\n"},{"tags":[],"owner":{"account_id":4639843,"reputation":1283,"user_id":3760024,"display_name":"Santosh Kadam"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1486498283,"creation_date":1486498283,"answer_id":42099054,"question_id":17484764,"body_markdown":"If you are using tomcat then along with project directory you should also copy the database connector jar file to tomcat/lib. this worked for me","title":"java.lang.ClassNotFoundException: com.mysql.jdbc.Driver MySQLConnector/J","body":"<p>If you are using tomcat then along with project directory you should also copy the database connector jar file to tomcat/lib. this worked for me</p>\n"},{"tags":[],"owner":{"account_id":5068712,"reputation":2406,"user_id":4068123,"display_name":"Michael Sims"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1532199729,"creation_date":1532199729,"answer_id":51459226,"question_id":17484764,"body_markdown":"For IntelliJ Idea, go to your project structure (File, Project Structure), and add the mysql connector .jar file to your global library. Once there, right click on it and chose &#39;Add to Modules&#39;. Hit Apply / OK and you should be good to go.","title":"java.lang.ClassNotFoundException: com.mysql.jdbc.Driver MySQLConnector/J","body":"<p>For IntelliJ Idea, go to your project structure (File, Project Structure), and add the mysql connector .jar file to your global library. Once there, right click on it and chose 'Add to Modules'. Hit Apply / OK and you should be good to go.</p>\n"},{"tags":[],"owner":{"account_id":7105431,"reputation":2516,"user_id":5435216,"display_name":"Tahir Hussain Mir"},"comment_count":0,"down_vote_count":1,"up_vote_count":28,"is_accepted":false,"score":27,"last_activity_date":1551583962,"creation_date":1544525869,"answer_id":53722642,"question_id":17484764,"body_markdown":"Every one has written an answer but I am still surprised that nobody actually answered it by using the best simple way.\n&lt;br&gt; The people answer that include the jar file. But, the error will still occur. \n\n&gt; The reason for that is, the jar is not deployed when the project is run. So, what we need to do is, tell the IDE to deploy this jar also.\n\nThe people here has answered so many times that put that  jar file in the lib folder of WEB-INF. That seems okay, but why do it manually. There is simple way. Check the below steps:\n\n&gt; Step 1: If you haven&#39;t referenced the jar file into the project then, reference it like this.\n&gt;\n&gt; Right click on the project and go to the project properties.\nThen, go to the java build path, then add external jar file via that.\n\n***But this will still not solve the problem because adding the external jar via build path only helps in compiling the classes, and the jar will not be deployed when you run the project.*** For that follow this step\n\n&gt; Right click on the project and go to the project properties.\nThen, go to the **Deployment Assembly** then press **Add** , then go to the **java build path entries** and add your libraries whether it is jstl, mysql or any other jar file. add them to deployment.\nBelow are the two pictures which display it.\n\n[![Before Adding][1]][1]\n\n[![After Adding][2]][2] \n\n\n  [1]: https://i.stack.imgur.com/MuhHu.jpg\n  [2]: https://i.stack.imgur.com/pFC3X.jpg","title":"java.lang.ClassNotFoundException: com.mysql.jdbc.Driver MySQLConnector/J","body":"<p>Every one has written an answer but I am still surprised that nobody actually answered it by using the best simple way.\n<br> The people answer that include the jar file. But, the error will still occur.</p>\n<blockquote>\n<p>The reason for that is, the jar is not deployed when the project is run. So, what we need to do is, tell the IDE to deploy this jar also.</p>\n</blockquote>\n<p>The people here has answered so many times that put that  jar file in the lib folder of WEB-INF. That seems okay, but why do it manually. There is simple way. Check the below steps:</p>\n<blockquote>\n<p>Step 1: If you haven't referenced the jar file into the project then, reference it like this.</p>\n<p>Right click on the project and go to the project properties.\nThen, go to the java build path, then add external jar file via that.</p>\n</blockquote>\n<p><em><strong>But this will still not solve the problem because adding the external jar via build path only helps in compiling the classes, and the jar will not be deployed when you run the project.</strong></em> For that follow this step</p>\n<blockquote>\n<p>Right click on the project and go to the project properties.\nThen, go to the <strong>Deployment Assembly</strong> then press <strong>Add</strong> , then go to the <strong>java build path entries</strong> and add your libraries whether it is jstl, mysql or any other jar file. add them to deployment.\nBelow are the two pictures which display it.</p>\n</blockquote>\n<p><a href=\"https://i.stack.imgur.com/MuhHu.jpg\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/MuhHu.jpg\" alt=\"Before Adding\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/pFC3X.jpg\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/pFC3X.jpg\" alt=\"After Adding\" /></a></p>\n"},{"tags":[],"owner":{"account_id":6963138,"reputation":1150,"user_id":5342009,"display_name":"london_utku"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1629231489,"creation_date":1575714286,"answer_id":59225029,"question_id":17484764,"body_markdown":"This needs to be used as of 2021\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n            &lt;version&gt;8.0.21&lt;/version&gt;\r\n        &lt;/dependency&gt;","title":"java.lang.ClassNotFoundException: com.mysql.jdbc.Driver MySQLConnector/J","body":"<p>This needs to be used as of 2021</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;mysql&lt;/groupId&gt;\n        &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n        &lt;version&gt;8.0.21&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":311131,"reputation":782,"user_id":624533,"accept_rate":100,"display_name":"Sudhakar Krishnan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1582698247,"creation_date":1582698247,"answer_id":60407937,"question_id":17484764,"body_markdown":"I&#39;m developing a simple JavaFX11 application with SQLite Database in **Eclipse IDE**. To generate report I added Jasper jars. Suddenly it throws **&quot;THIS&quot;** error.\r\n\r\n    java.lang.ClassNotFoundException: com.mysql.jdbc.Driver\r\n\r\nIt was running good (BEFORE THIS ADDITION). But suddenly!\r\n\r\nI&#39;m not using maven or other managers for this simple application. I&#39;m adding jars manually.\r\n\r\nI created &quot;User Library&quot; and added my jars from external folders. \r\n\r\n**PROBLEM OCCURING AREA:**\r\nMy &quot;User Library&quot; are marked as system library. I just removed the marking. Now its not a system library. &quot;NOW MY PROJECT WORKING GOOD&quot;.\r\n\r\n**DEBUG MYSELF: Tried other things:**\r\nAT RUN CONFIGURATION: Try, removing library and add jars one-by-one and see. - here you have to delete all jars one by one, there is no select all and remove in eclipse right now in run configuration. So the error messages changes form one jars to another.\r\n\r\nHope this helps someone.","title":"java.lang.ClassNotFoundException: com.mysql.jdbc.Driver MySQLConnector/J","body":"<p>I'm developing a simple JavaFX11 application with SQLite Database in <strong>Eclipse IDE</strong>. To generate report I added Jasper jars. Suddenly it throws <strong>\"THIS\"</strong> error.</p>\n\n<pre><code>java.lang.ClassNotFoundException: com.mysql.jdbc.Driver\n</code></pre>\n\n<p>It was running good (BEFORE THIS ADDITION). But suddenly!</p>\n\n<p>I'm not using maven or other managers for this simple application. I'm adding jars manually.</p>\n\n<p>I created \"User Library\" and added my jars from external folders. </p>\n\n<p><strong>PROBLEM OCCURING AREA:</strong>\nMy \"User Library\" are marked as system library. I just removed the marking. Now its not a system library. \"NOW MY PROJECT WORKING GOOD\".</p>\n\n<p><strong>DEBUG MYSELF: Tried other things:</strong>\nAT RUN CONFIGURATION: Try, removing library and add jars one-by-one and see. - here you have to delete all jars one by one, there is no select all and remove in eclipse right now in run configuration. So the error messages changes form one jars to another.</p>\n\n<p>Hope this helps someone.</p>\n"},{"tags":[],"owner":{"account_id":13746341,"reputation":449,"user_id":9919896,"display_name":"Suraj Verma"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1606389671,"creation_date":1606389671,"answer_id":65021095,"question_id":17484764,"body_markdown":"    I was also facing the same problem\r\n\r\n&gt; Download **mysql-connector-java** jar file\r\n&gt; \r\n&gt; paste it in the `C:\\Program Files\\Apache Software Foundation\\Tomcat 9.0\\lib`\r\n&gt; \r\n&gt; **Hope this work for you also !!**","title":"java.lang.ClassNotFoundException: com.mysql.jdbc.Driver MySQLConnector/J","body":"<pre><code>I was also facing the same problem\n</code></pre>\n<blockquote>\n<p>Download <strong>mysql-connector-java</strong> jar file</p>\n<p>paste it in the <code>C:\\Program Files\\Apache Software Foundation\\Tomcat 9.0\\lib</code></p>\n<p><strong>Hope this work for you also !!</strong></p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":11418021,"reputation":4780,"user_id":8370334,"display_name":"Abd Abughazaleh"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646226487,"creation_date":1646226487,"answer_id":71323246,"question_id":17484764,"body_markdown":"# Finally \r\n\r\nI solved by two steps : \r\n\r\n1 - add the below to pom.xml\r\n  \r\n\r\n      &lt;!-- https://mvnrepository.com/artifact/mysql/mysql-connector-java --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;mysql&lt;/groupId&gt;\r\n                &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n                &lt;version&gt;5.0.8&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n\r\n2 - Download jar file from this URL:https://mvnrepository.com/artifact/mysql/mysql-connector-java/5.0.8 \r\nafter that put it in your `tomcat/lib` folder. \r\n","title":"java.lang.ClassNotFoundException: com.mysql.jdbc.Driver MySQLConnector/J","body":"<h1>Finally</h1>\n<p>I solved by two steps :</p>\n<p>1 - add the below to pom.xml</p>\n<pre><code>  &lt;!-- https://mvnrepository.com/artifact/mysql/mysql-connector-java --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n            &lt;version&gt;5.0.8&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>2 - Download jar file from this URL:<a href=\"https://mvnrepository.com/artifact/mysql/mysql-connector-java/5.0.8\" rel=\"nofollow noreferrer\">https://mvnrepository.com/artifact/mysql/mysql-connector-java/5.0.8</a>\nafter that put it in your <code>tomcat/lib</code> folder.</p>\n"},{"tags":[],"owner":{"account_id":8362258,"reputation":1639,"user_id":6280135,"display_name":"Maninder"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651597254,"creation_date":1651597254,"answer_id":72102934,"question_id":17484764,"body_markdown":"I was having the same issue. I was using intellijj IDE for creating the MySQL connection.\r\n\r\nSteps to fix it:\r\n\r\n 1. Download: mysql-connector.jar( I used 8.0.29).\r\n 2. Go to &quot;file--&gt;project structure --&gt;Libraries--&gt;Click on plus button and select java and select the jar file you downloaded in step 1&quot;.\r\n[![enter image description here][1]][1]\r\n \r\n 3. Check the jar file is showing under &quot;External Libraries directory&quot;\r\n\r\n\r\n[![enter image description here][2]][2]\r\n 4. Now try to create the connection. It will work.\r\n\r\nI used this code for creating MySQL connection:\r\n\r\n    void createConnection() throws SQLException, ClassNotFoundException {\r\n        Connection connection=null;\r\n        try {\r\n\r\n            Class.forName(&quot;com.mysql.cj.jdbc.Driver&quot;);\r\n              connection= DriverManager.getConnection(&quot;jdbc:mysql://localhost:3306/candelete&quot;\r\n                    ,&quot;root&quot;,&quot;&quot;);\r\n            System.out.println(&quot;Connection created&quot;);\r\n            System.out.println(&quot;hashcode is: &quot;+connection.hashCode());\r\n        }\r\n        finally {\r\n            System.out.println(&quot;here&quot;);\r\n            System.out.println(&quot;hashcode is: &quot;+connection.hashCode());\r\n            connection.close();\r\n            System.out.println(&quot;hashcode now: &quot;+connection.hashCode());\r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/un53M.png\r\n  [2]: https://i.stack.imgur.com/I8gct.png","title":"java.lang.ClassNotFoundException: com.mysql.jdbc.Driver MySQLConnector/J","body":"<p>I was having the same issue. I was using intellijj IDE for creating the MySQL connection.</p>\n<p>Steps to fix it:</p>\n<ol>\n<li><p>Download: mysql-connector.jar( I used 8.0.29).</p>\n</li>\n<li><p>Go to &quot;file--&gt;project structure --&gt;Libraries--&gt;Click on plus button and select java and select the jar file you downloaded in step 1&quot;.\n<a href=\"https://i.stack.imgur.com/un53M.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/un53M.png\" alt=\"enter image description here\" /></a></p>\n</li>\n<li><p>Check the jar file is showing under &quot;External Libraries directory&quot;</p>\n</li>\n</ol>\n<p><a href=\"https://i.stack.imgur.com/I8gct.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/I8gct.png\" alt=\"enter image description here\" /></a>\n4. Now try to create the connection. It will work.</p>\n<p>I used this code for creating MySQL connection:</p>\n<pre><code>void createConnection() throws SQLException, ClassNotFoundException {\n    Connection connection=null;\n    try {\n\n        Class.forName(&quot;com.mysql.cj.jdbc.Driver&quot;);\n          connection= DriverManager.getConnection(&quot;jdbc:mysql://localhost:3306/candelete&quot;\n                ,&quot;root&quot;,&quot;&quot;);\n        System.out.println(&quot;Connection created&quot;);\n        System.out.println(&quot;hashcode is: &quot;+connection.hashCode());\n    }\n    finally {\n        System.out.println(&quot;here&quot;);\n        System.out.println(&quot;hashcode is: &quot;+connection.hashCode());\n        connection.close();\n        System.out.println(&quot;hashcode now: &quot;+connection.hashCode());\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6683250,"reputation":115,"user_id":5155570,"display_name":"Gayathri"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697760894,"creation_date":1697760894,"answer_id":77327685,"question_id":17484764,"body_markdown":"I just had to do a maven reload in my Intellij. I figured this out when I checked the maven dependencies inside Intellij and found that they were not reflecting my latest pom changes.","title":"java.lang.ClassNotFoundException: com.mysql.jdbc.Driver MySQLConnector/J","body":"<p>I just had to do a maven reload in my Intellij. I figured this out when I checked the maven dependencies inside Intellij and found that they were not reflecting my latest pom changes.</p>\n"}],"owner":{"account_id":3005911,"reputation":1237,"user_id":2550472,"accept_rate":0,"display_name":"atikul hussain"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":636381,"favorite_count":0,"down_vote_count":0,"up_vote_count":116,"answer_count":22,"score":116,"last_activity_date":1697760894,"creation_date":1373014123,"question_id":17484764,"body_markdown":"What is wrong with the code there are lots of error while debugging. I am writing a code for a singleton class to connect with the database MySQL.\r\n\r\nHere is my code\r\n    \r\n    package com.glomindz.mercuri.util;\r\n    import java.sql.Connection;\r\n    import java.sql.Driver;\r\n    import java.sql.DriverManager;\r\n    import java.sql.SQLException;\r\n\r\n    public class MySingleTon {\r\n        String url = &quot;jdbc:mysql://localhost:3306/&quot;;\r\n        String dbName = &quot;test&quot;;\r\n        String driver = &quot;com.mysql.jdbc.Driver&quot;;\r\n        String userName = &quot;root&quot;;\r\n        String password = &quot;&quot;;\r\n\r\n        private static MySingleTon myObj;\t\r\n        private Connection Con ;\r\n        private MySingleTon() {\r\n        \tSystem.out.println(&quot;Hello&quot;);\r\n        \tCon= createConnection();\r\n        }\r\n        \r\n        @SuppressWarnings(&quot;rawtypes&quot;)\r\n        public Connection createConnection() {\r\n        \tConnection connection = null;\r\n        \ttry {\r\n        \t\t// Load the JDBC driver\r\n        \t\tClass driver_class = Class.forName(driver);\r\n        \t\tDriver driver = (Driver) driver_class.newInstance();\r\n        \t\tDriverManager.registerDriver(driver);\r\n        \t\tconnection = DriverManager.getConnection(url + dbName);\r\n        \t} catch (ClassNotFoundException e) {\r\n        \t\te.printStackTrace();\r\n        \t} catch (SQLException e) {\r\n        \t\te.printStackTrace();\r\n        \t} catch (IllegalAccessException e) {\r\n        \t\te.printStackTrace();\r\n        \t} catch (InstantiationException e) {\r\n        \t\te.printStackTrace();\r\n        \t}\r\n        \treturn connection;\r\n        }\r\n        \r\n        /**\r\n         * Create a static method to get instance.\r\n         */\r\n        public static MySingleTon getInstance() {\r\n        \tif (myObj == null) {\r\n        \t\tmyObj = new MySingleTon();\r\n        \t}\r\n        \treturn myObj;\r\n        }\r\n        \r\n        public static void main(String a[]) {\r\n        \tMySingleTon st = MySingleTon.getInstance();\r\n        }\r\n    }\r\n\r\nI am new to java. Please help.","title":"java.lang.ClassNotFoundException: com.mysql.jdbc.Driver MySQLConnector/J","body":"<p>What is wrong with the code there are lots of error while debugging. I am writing a code for a singleton class to connect with the database MySQL.</p>\n<p>Here is my code</p>\n<pre><code>package com.glomindz.mercuri.util;\nimport java.sql.Connection;\nimport java.sql.Driver;\nimport java.sql.DriverManager;\nimport java.sql.SQLException;\n\npublic class MySingleTon {\n    String url = &quot;jdbc:mysql://localhost:3306/&quot;;\n    String dbName = &quot;test&quot;;\n    String driver = &quot;com.mysql.jdbc.Driver&quot;;\n    String userName = &quot;root&quot;;\n    String password = &quot;&quot;;\n\n    private static MySingleTon myObj;   \n    private Connection Con ;\n    private MySingleTon() {\n        System.out.println(&quot;Hello&quot;);\n        Con= createConnection();\n    }\n    \n    @SuppressWarnings(&quot;rawtypes&quot;)\n    public Connection createConnection() {\n        Connection connection = null;\n        try {\n            // Load the JDBC driver\n            Class driver_class = Class.forName(driver);\n            Driver driver = (Driver) driver_class.newInstance();\n            DriverManager.registerDriver(driver);\n            connection = DriverManager.getConnection(url + dbName);\n        } catch (ClassNotFoundException e) {\n            e.printStackTrace();\n        } catch (SQLException e) {\n            e.printStackTrace();\n        } catch (IllegalAccessException e) {\n            e.printStackTrace();\n        } catch (InstantiationException e) {\n            e.printStackTrace();\n        }\n        return connection;\n    }\n    \n    /**\n     * Create a static method to get instance.\n     */\n    public static MySingleTon getInstance() {\n        if (myObj == null) {\n            myObj = new MySingleTon();\n        }\n        return myObj;\n    }\n    \n    public static void main(String a[]) {\n        MySingleTon st = MySingleTon.getInstance();\n    }\n}\n</code></pre>\n<p>I am new to java. Please help.</p>\n"},{"tags":["java","hibernate","serialization","jackson","spring-data-rest"],"owner":{"account_id":1434762,"reputation":22772,"user_id":1356423,"accept_rate":65,"display_name":"Alan Hay"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":3155,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":0,"score":5,"last_activity_date":1697759434,"creation_date":1487777681,"question_id":42395831,"body_markdown":"While using Jackson&#39;s [Hibernate4Module][1] to deal with the serialization issues when dealing with a lazily loaded proxy in a Spring Data Rest project.\r\n\r\nIn general it solves the issue of Jackson trying to serialise uninitialized proxies however one side effect is that the JSON output differs:\r\n\r\n**Fetched directly: api/cases/5400**\r\n\r\n    {\r\n       &quot;id&quot;: 5400,\r\n       &quot;practiceReference&quot;: &quot;DWPYI9&quot;\r\n    }\r\n\r\n**Fetched via a lazily loaded @ManyToOne: api/submissions/11901/parentCase**\r\n\r\n    {\r\n       &quot;content&quot;: {\r\n          &quot;id&quot;: 5400,\r\n          &quot;practiceReference&quot;: &quot;DWPYI9&quot;\r\n       }\r\n    }\r\n\r\n**Fetched via a non-lazily loaded @ManyToOne: api/submissions/11901/parentCase**\r\n    \r\n    {\r\n       &quot;id&quot;: 5400,\r\n       &quot;practiceReference&quot;: &quot;DWPYI9&quot;\r\n    }\r\n\r\nAs can be seen in the above, the JSON representation differs when serializing a lazy `@ManyToOne` association: the entity is wrapped in the `content` node. \r\n\r\nIf the association is non-Lazy then the same representation is written regardless of the path.\r\n\r\n**Is there a reason for this and can the additional &quot;content&quot; node somehow be prevented?**\r\n\r\n---\r\n\r\n**UPDATE FEB/2017:**\r\n\r\nI have found the same (deleted) question here: \r\n\r\nhttps://stackoverflow.com/questions/33194554/two-different-resulting-jsons-when-serializing-lazy-objects-and-simple-objects\r\n\r\nWhich is referenced from [this github issue][2]. Also, it is reported [here][3], so seems like a known issue:\r\n\r\n\r\n \r\n\r\n\r\n  [1]: https://github.com/FasterXML/jackson-datatype-hibernate\r\n  [2]: https://github.com/FasterXML/jackson-datatype-hibernate/issues/77\r\n  [3]: https://github.com/FasterXML/jackson-datatype-hibernate/issues/97","title":"Why serialized entity is wrapped with `content` when using Lazy `@ManyToOne`?","body":"<p>While using Jackson's <a href=\"https://github.com/FasterXML/jackson-datatype-hibernate\" rel=\"nofollow noreferrer\">Hibernate4Module</a> to deal with the serialization issues when dealing with a lazily loaded proxy in a Spring Data Rest project.</p>\n<p>In general it solves the issue of Jackson trying to serialise uninitialized proxies however one side effect is that the JSON output differs:</p>\n<p><strong>Fetched directly: api/cases/5400</strong></p>\n<pre><code>{\n   &quot;id&quot;: 5400,\n   &quot;practiceReference&quot;: &quot;DWPYI9&quot;\n}\n</code></pre>\n<p><strong>Fetched via a lazily loaded @ManyToOne: api/submissions/11901/parentCase</strong></p>\n<pre><code>{\n   &quot;content&quot;: {\n      &quot;id&quot;: 5400,\n      &quot;practiceReference&quot;: &quot;DWPYI9&quot;\n   }\n}\n</code></pre>\n<p><strong>Fetched via a non-lazily loaded @ManyToOne: api/submissions/11901/parentCase</strong></p>\n<pre><code>{\n   &quot;id&quot;: 5400,\n   &quot;practiceReference&quot;: &quot;DWPYI9&quot;\n}\n</code></pre>\n<p>As can be seen in the above, the JSON representation differs when serializing a lazy <code>@ManyToOne</code> association: the entity is wrapped in the <code>content</code> node.</p>\n<p>If the association is non-Lazy then the same representation is written regardless of the path.</p>\n<p><strong>Is there a reason for this and can the additional &quot;content&quot; node somehow be prevented?</strong></p>\n<hr />\n<p><strong>UPDATE FEB/2017:</strong></p>\n<p>I have found the same (deleted) question here:</p>\n<p><a href=\"https://stackoverflow.com/questions/33194554/two-different-resulting-jsons-when-serializing-lazy-objects-and-simple-objects\">https://stackoverflow.com/questions/33194554/two-different-resulting-jsons-when-serializing-lazy-objects-and-simple-objects</a></p>\n<p>Which is referenced from <a href=\"https://github.com/FasterXML/jackson-datatype-hibernate/issues/77\" rel=\"nofollow noreferrer\">this github issue</a>. Also, it is reported <a href=\"https://github.com/FasterXML/jackson-datatype-hibernate/issues/97\" rel=\"nofollow noreferrer\">here</a>, so seems like a known issue:</p>\n"},{"tags":["java","logging","slf4j","line-breaks"],"comments":[{"owner":{"account_id":11811552,"reputation":1,"user_id":8642884,"display_name":"user8642884"},"score":0,"creation_date":1505923671,"post_id":35702342,"comment_id":79614647,"body_markdown":"**&lt;B&gt;Add #\\n instead of \\n&lt;/B&gt;** https://stackoverflow.com/questions/15254304/how-do-you-insert-a-newline-in-message-body-of-mule-logger-component","body":"<b>&lt;B&gt;Add #\\n instead of \\n&lt;/B&gt;</b> <a href=\"https://stackoverflow.com/questions/15254304/how-do-you-insert-a-newline-in-message-body-of-mule-logger-component\" title=\"how do you insert a newline in message body of mule logger component\">stackoverflow.com/questions/15254304/&hellip;</a>"}],"answers":[{"comments":[{"owner":{"account_id":984229,"reputation":171,"user_id":1003157,"display_name":"Raymond Naseef"},"score":7,"creation_date":1558310256,"post_id":35702355,"comment_id":99046959,"body_markdown":"Use System.lineSeparator() as mentioned by lordkain","body":"Use System.lineSeparator() as mentioned by lordkain"}],"tags":[],"owner":{"account_id":2016713,"reputation":26480,"user_id":1803853,"accept_rate":71,"display_name":"Davide Lorenzo MARINO"},"comment_count":1,"down_vote_count":1,"up_vote_count":51,"is_accepted":true,"score":50,"last_activity_date":1697757243,"creation_date":1456756876,"answer_id":35702355,"question_id":35702342,"body_markdown":"Simply add `\\n` at the end of the string to log.\r\n\r\n```java\r\nLOGGER.info(&quot;Person&#39;s name is  {} .\\n&quot;, person.getName());\r\n```\r\n\r\nIf you are in a windows environment use `\\r\\n`\r\n\r\n --- \r\n**OS independet solution:**\r\n \r\nTo get the right value of new line if you don&#39;t know the end operating system of your application, you can use `System.lineSeperator()` or with &lt; JDK 7 `System.getProperty(&quot;line.separator&quot;)` \r\n\r\n```java\r\nLOGGER.info(&quot;Person&#39;s name is  {} .{}&quot;, person.getName(), System.lineSeparator());\r\n```\r\n","title":"How do I add a line break / blank line after my LOG statement?","body":"<p>Simply add <code>\\n</code> at the end of the string to log.</p>\n<pre class=\"lang-java prettyprint-override\"><code>LOGGER.info(&quot;Person's name is  {} .\\n&quot;, person.getName());\n</code></pre>\n<p>If you are in a windows environment use <code>\\r\\n</code></p>\n<hr />\n<p><strong>OS independet solution:</strong></p>\n<p>To get the right value of new line if you don't know the end operating system of your application, you can use <code>System.lineSeperator()</code> or with &lt; JDK 7 <code>System.getProperty(&quot;line.separator&quot;)</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>LOGGER.info(&quot;Person's name is  {} .{}&quot;, person.getName(), System.lineSeparator());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1904635,"reputation":3069,"user_id":1719755,"accept_rate":70,"display_name":"lordkain"},"comment_count":0,"down_vote_count":0,"up_vote_count":36,"is_accepted":false,"score":36,"last_activity_date":1456757042,"creation_date":1456757042,"answer_id":35702420,"question_id":35702342,"body_markdown":"dont use `\\n` character, but ask the System what is the newline propery. could be different in linuxor windows or..\r\n\r\nso use\r\n\r\n    System.lineSeparator();\r\n\r\nor before java 7 use\r\n\r\n    System.getProperty(&quot;line.separator&quot;);\r\n","title":"How do I add a line break / blank line after my LOG statement?","body":"<p>dont use <code>\\n</code> character, but ask the System what is the newline propery. could be different in linuxor windows or..</p>\n\n<p>so use</p>\n\n<pre><code>System.lineSeparator();\n</code></pre>\n\n<p>or before java 7 use</p>\n\n<pre><code>System.getProperty(\"line.separator\");\n</code></pre>\n"}],"owner":{"account_id":7247220,"reputation":7104,"user_id":5528751,"accept_rate":96,"display_name":"java123999"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":66955,"favorite_count":0,"down_vote_count":0,"up_vote_count":40,"accepted_answer_id":35702355,"answer_count":2,"score":40,"last_activity_date":1697757243,"creation_date":1456756821,"question_id":35702342,"body_markdown":"I want to add a blank line after my `LOG` statement in order to make my logs more *separated* and *readable*. \r\n\r\nHow do I do this?\r\n\r\n**Current statement:**\r\n\r\n     LOGGER.info(&quot;Person&#39;s name is  {} .&quot;, person.getName());\r\n\r\nNote that I don&#39;t want to do this after *every* statement, just for certain statements. ","title":"How do I add a line break / blank line after my LOG statement?","body":"<p>I want to add a blank line after my <code>LOG</code> statement in order to make my logs more <em>separated</em> and <em>readable</em>. </p>\n\n<p>How do I do this?</p>\n\n<p><strong>Current statement:</strong></p>\n\n<pre><code> LOGGER.info(\"Person's name is  {} .\", person.getName());\n</code></pre>\n\n<p>Note that I don't want to do this after <em>every</em> statement, just for certain statements. </p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2549152,"reputation":2083,"user_id":2213309,"accept_rate":67,"display_name":"flappix"},"score":1,"creation_date":1697754620,"post_id":77327348,"comment_id":136323095,"body_markdown":"Replace the space with one or more tabs ```System.out.print(&quot;\\t&quot; + numbers[i]);```","body":"Replace the space with one or more tabs <code>System.out.print(&quot;\\t&quot; + numbers[i]);</code>"},{"owner":{"account_id":8909811,"reputation":2612,"user_id":6650475,"display_name":"Andrew S"},"score":1,"creation_date":1697754756,"post_id":77327348,"comment_id":136323115,"body_markdown":"[This](https://stackoverflow.com/a/22541145/6650475) should help get started.  It becomes a little more complicated if for example one of the columns does not have a three digit number and you want to have min space between the columns.","body":"<a href=\"https://stackoverflow.com/a/22541145/6650475\">This</a> should help get started.  It becomes a little more complicated if for example one of the columns does not have a three digit number and you want to have min space between the columns."}],"answers":[{"comments":[{"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1697757435,"post_id":77327382,"comment_id":136323382,"body_markdown":"@RaleighBrecht  Then you should accept and even upvote the answer.   Upvoting says the answer(s) were helpful.  Accepting says this was the best one (in your opinion).  It also rewards the answerer(s), gives you two points of rep, and allows the answer to be easily searched for future related questions.","body":"@RaleighBrecht  Then you should accept and even upvote the answer.   Upvoting says the answer(s) were helpful.  Accepting says this was the best one (in your opinion).  It also rewards the answerer(s), gives you two points of rep, and allows the answer to be easily searched for future related questions."},{"owner":{"account_id":93689,"reputation":415951,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1697763968,"post_id":77327382,"comment_id":136323904,"body_markdown":"Or `.map(String::valueOf).map(String::length)`.","body":"Or <code>.map(String::valueOf).map(String::length)</code>."}],"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697756907,"creation_date":1697754693,"answer_id":77327382,"question_id":77327348,"body_markdown":"Use the _[printf](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/io/PrintStream.html#printf(java.lang.String,java.lang.Object...))_ method.\\\r\nThe _[Formatter](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Formatter.html)_ class _JavaDoc_ has a list of _format-specifiers_ and other _syntax_.\r\n\r\n```java\r\nSystem.out.printf(&quot;%5d&quot;, numbers[i]);\r\n```\r\n\r\nOutput\r\n\r\n```none\r\nArray Contents:\r\n   16  114   26   59  177   67   61  105    1  190\r\n   22   85  123   42   67   20  189  167   69  175\r\n  194   39  135   28   54    8   68   94  107  134\r\n  194   95   51  172   86   92  181  134  165   92\r\n  118   74   14  179   75   99  183  115  178   55\r\n\r\nThe largest number is 194 at array index 20\r\nThe lowest number is 1 at array index 8\r\n```\r\n\r\nAlternately, you may want a dynamic width.\\\r\nFor that, you&#39;ll need to first find the value with the most digits.\r\n\r\nYou can use a _loop_.\r\n\r\n```java\r\nint m = String.valueOf(numbers[0]).length();\r\nfor (int i = 1, v, n = numbers.length; i &lt; n; i++)\r\n    if ((v = String.valueOf(numbers[i]).length()) &gt; m)\r\n        m = v;\r\n```\r\n\r\nOr, a _stream_.\r\n\r\n```java\r\nint m = IntStream.of(numbers)\r\n                 .map(x -&gt; String.valueOf(x).length())\r\n                 .max()\r\n                 .getAsInt();\r\n```\r\n\r\nThen, build the _format_ string.\\\r\nI&#39;m using _+1_ to create a space between the values.\r\n\r\n```java\r\nSystem.out.printf((&quot;%&quot; + (m + 1) + &quot;d&quot;), numbers[i]);\r\n```\r\n\r\nHere is a re-factor.\r\n\r\n```java\r\nString s;\r\n// Create an array of type integer and size 50\r\n// Populate the array with randomly generated numbers between 0 and 199\r\nint i, v, numbers[] = new Random().ints(50, 0, 200).toArray(),\r\n    n = numbers.length;\r\n\r\n// Display the array contents in groups of 10 numbers per line\r\nSystem.out.println(&quot;Array Contents:&quot;);\r\nint m = String.valueOf(numbers[0]).length();\r\nfor (i = 1; i &lt; n; i++)\r\n    if ((v = String.valueOf(numbers[i]).length()) &gt; m) m = v;\r\ns = &quot;%&quot; + (m + 1) + &quot;d&quot;;\r\nfor (i = 0; i &lt; n; i++) {\r\n    System.out.printf(s, numbers[i]);\r\n    if ((i + 1) % 10 == 0)\r\n        System.out.println(); // Move to the next line after every 10 numbers\r\n}\r\n\r\n// Search the array to find the highest and lowest numbers and their location\r\nint max = numbers[0], min = numbers[0], maxIndex = 0, minIndex = 0;\r\n\r\nfor (i = 1; i &lt; n; i++)\r\n    if (numbers[i] &gt; max) max = numbers[maxIndex = i];\r\n    else if (numbers[i] &lt; min) min = numbers[minIndex = i];\r\n\r\n// Display the highest and lowest numbers and their positions in the array\r\nSystem.out.println(&quot;\\nThe largest number is &quot; + max + &quot; at array index &quot; + maxIndex);\r\nSystem.out.println(&quot;The lowest number is &quot; + min + &quot; at array index &quot; + minIndex);\r\n```","title":"In my Java code of an array index, what do I do to format the output of the columns of numbers to line up with each-other?","body":"<p>Use the <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/io/PrintStream.html#printf(java.lang.String,java.lang.Object...)\" rel=\"nofollow noreferrer\">printf</a></em> method.<br />\nThe <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Formatter.html\" rel=\"nofollow noreferrer\">Formatter</a></em> class <em>JavaDoc</em> has a list of <em>format-specifiers</em> and other <em>syntax</em>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>System.out.printf(&quot;%5d&quot;, numbers[i]);\n</code></pre>\n<p>Output</p>\n<pre class=\"lang-none prettyprint-override\"><code>Array Contents:\n   16  114   26   59  177   67   61  105    1  190\n   22   85  123   42   67   20  189  167   69  175\n  194   39  135   28   54    8   68   94  107  134\n  194   95   51  172   86   92  181  134  165   92\n  118   74   14  179   75   99  183  115  178   55\n\nThe largest number is 194 at array index 20\nThe lowest number is 1 at array index 8\n</code></pre>\n<p>Alternately, you may want a dynamic width.<br />\nFor that, you'll need to first find the value with the most digits.</p>\n<p>You can use a <em>loop</em>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>int m = String.valueOf(numbers[0]).length();\nfor (int i = 1, v, n = numbers.length; i &lt; n; i++)\n    if ((v = String.valueOf(numbers[i]).length()) &gt; m)\n        m = v;\n</code></pre>\n<p>Or, a <em>stream</em>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>int m = IntStream.of(numbers)\n                 .map(x -&gt; String.valueOf(x).length())\n                 .max()\n                 .getAsInt();\n</code></pre>\n<p>Then, build the <em>format</em> string.<br />\nI'm using <em>+1</em> to create a space between the values.</p>\n<pre class=\"lang-java prettyprint-override\"><code>System.out.printf((&quot;%&quot; + (m + 1) + &quot;d&quot;), numbers[i]);\n</code></pre>\n<p>Here is a re-factor.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String s;\n// Create an array of type integer and size 50\n// Populate the array with randomly generated numbers between 0 and 199\nint i, v, numbers[] = new Random().ints(50, 0, 200).toArray(),\n    n = numbers.length;\n\n// Display the array contents in groups of 10 numbers per line\nSystem.out.println(&quot;Array Contents:&quot;);\nint m = String.valueOf(numbers[0]).length();\nfor (i = 1; i &lt; n; i++)\n    if ((v = String.valueOf(numbers[i]).length()) &gt; m) m = v;\ns = &quot;%&quot; + (m + 1) + &quot;d&quot;;\nfor (i = 0; i &lt; n; i++) {\n    System.out.printf(s, numbers[i]);\n    if ((i + 1) % 10 == 0)\n        System.out.println(); // Move to the next line after every 10 numbers\n}\n\n// Search the array to find the highest and lowest numbers and their location\nint max = numbers[0], min = numbers[0], maxIndex = 0, minIndex = 0;\n\nfor (i = 1; i &lt; n; i++)\n    if (numbers[i] &gt; max) max = numbers[maxIndex = i];\n    else if (numbers[i] &lt; min) min = numbers[minIndex = i];\n\n// Display the highest and lowest numbers and their positions in the array\nSystem.out.println(&quot;\\nThe largest number is &quot; + max + &quot; at array index &quot; + maxIndex);\nSystem.out.println(&quot;The lowest number is &quot; + min + &quot; at array index &quot; + minIndex);\n</code></pre>\n"}],"owner":{"account_id":29559260,"reputation":1,"user_id":22654187,"display_name":"Raleigh Brecht"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1697756907,"creation_date":1697753845,"question_id":77327348,"body_markdown":"The code below displays these results:\r\n```\r\nArray Contents:\r\n 175 4 123 53 96 145 181 158 193 154\r\n 85 6 131 60 27 119 79 115 178 98\r\n 68 78 190 178 18 99 8 162 94 105\r\n 169 74 92 134 139 96 64 38 71 111\r\n 189 156 36 49 162 191 39 65 150 193\r\n\r\nThe largest number is 193 at array index 8\r\nThe lowest number is 4 at array index 1\r\n```\r\nThe output I want my code to display:\r\n```\r\nArray Contents:\r\n 175   4 123  53  96 145 181 158 193 154\r\n  85   6 131  60  27 119  79 115 178  98\r\n  68  78 190 178  18  99   8 162  94 105\r\n 169  74  92 134 139  96  64  38  71 111\r\n 189 156  36  49 162 191  39  65 150 193\r\n\r\nThe largest number is 193 at array index 8\r\nThe lowest number is 4 at array index 1\r\n```\r\nMy code:\r\n```\r\n/*This program generates 50 random numbers between 0 and 200 printing 10\r\nnumbers in 10 lines, plus finds the smallest and largest array index*/\r\nimport java.util.Scanner;\r\n\r\npublic class ArrayOperations {\r\n    public static void main(String[] args) {\r\n        // Create an array of type integer and size 50\r\n        int[] numbers = new int[50];\r\n\r\n        // Populate the array with randomly generated numbers between 0 and 199\r\n        for (int i = 0; i &lt; numbers.length; i++) {\r\n            numbers[i] = (int)(Math.random() * 200);\r\n        }\r\n\r\n        // Display the array contents in groups of 10 numbers per line\r\n        System.out.println(&quot;Array Contents:&quot;);\r\n        for (int i = 0; i &lt; numbers.length; i++) {\r\n            System.out.print(&quot; &quot; + numbers[i]);\r\n            if ((i + 1) % 10 == 0) {\r\n                System.out.println(); // Move to the next line after every 10 numbers\r\n            }\r\n        }\r\n\r\n        // Search the array to find the highest and lowest numbers and their location\r\n        int max = numbers[0];\r\n        int min = numbers[0];\r\n        int maxIndex = 0;\r\n        int minIndex = 0;\r\n\r\n        for (int i = 1; i &lt; numbers.length; i++) {\r\n            if (numbers[i] &gt; max) {\r\n                max = numbers[i];\r\n                maxIndex = i;\r\n            }\r\n            if (numbers[i] &lt; min) {\r\n                min = numbers[i];\r\n                minIndex = i;\r\n            }\r\n        }\r\n\r\n        // Display the highest and lowest numbers and their positions in the array\r\n        System.out.println(&quot;\\nThe largest number is &quot; + max + &quot; at array index &quot; + maxIndex);\r\n        System.out.println(&quot;The lowest number is &quot; + min + &quot; at array index &quot; + minIndex);\r\n    }\r\n}\r\n```\r\nI have tried reformatting the line System.out.print(&quot; &quot; + numbers[i]); many times, used the System.out.printf() format only to get a compile error, and even tried System.out.print(&quot;/t&quot; + numbers[i]); with spaces and moving the text in the parenthesis around again and again. Nothing came close to what I want. I would be grateful for how someone&#39;s assistance, please.","title":"In my Java code of an array index, what do I do to format the output of the columns of numbers to line up with each-other?","body":"<p>The code below displays these results:</p>\n<pre><code>Array Contents:\n 175 4 123 53 96 145 181 158 193 154\n 85 6 131 60 27 119 79 115 178 98\n 68 78 190 178 18 99 8 162 94 105\n 169 74 92 134 139 96 64 38 71 111\n 189 156 36 49 162 191 39 65 150 193\n\nThe largest number is 193 at array index 8\nThe lowest number is 4 at array index 1\n</code></pre>\n<p>The output I want my code to display:</p>\n<pre><code>Array Contents:\n 175   4 123  53  96 145 181 158 193 154\n  85   6 131  60  27 119  79 115 178  98\n  68  78 190 178  18  99   8 162  94 105\n 169  74  92 134 139  96  64  38  71 111\n 189 156  36  49 162 191  39  65 150 193\n\nThe largest number is 193 at array index 8\nThe lowest number is 4 at array index 1\n</code></pre>\n<p>My code:</p>\n<pre><code>/*This program generates 50 random numbers between 0 and 200 printing 10\nnumbers in 10 lines, plus finds the smallest and largest array index*/\nimport java.util.Scanner;\n\npublic class ArrayOperations {\n    public static void main(String[] args) {\n        // Create an array of type integer and size 50\n        int[] numbers = new int[50];\n\n        // Populate the array with randomly generated numbers between 0 and 199\n        for (int i = 0; i &lt; numbers.length; i++) {\n            numbers[i] = (int)(Math.random() * 200);\n        }\n\n        // Display the array contents in groups of 10 numbers per line\n        System.out.println(&quot;Array Contents:&quot;);\n        for (int i = 0; i &lt; numbers.length; i++) {\n            System.out.print(&quot; &quot; + numbers[i]);\n            if ((i + 1) % 10 == 0) {\n                System.out.println(); // Move to the next line after every 10 numbers\n            }\n        }\n\n        // Search the array to find the highest and lowest numbers and their location\n        int max = numbers[0];\n        int min = numbers[0];\n        int maxIndex = 0;\n        int minIndex = 0;\n\n        for (int i = 1; i &lt; numbers.length; i++) {\n            if (numbers[i] &gt; max) {\n                max = numbers[i];\n                maxIndex = i;\n            }\n            if (numbers[i] &lt; min) {\n                min = numbers[i];\n                minIndex = i;\n            }\n        }\n\n        // Display the highest and lowest numbers and their positions in the array\n        System.out.println(&quot;\\nThe largest number is &quot; + max + &quot; at array index &quot; + maxIndex);\n        System.out.println(&quot;The lowest number is &quot; + min + &quot; at array index &quot; + minIndex);\n    }\n}\n</code></pre>\n<p>I have tried reformatting the line System.out.print(&quot; &quot; + numbers[i]); many times, used the System.out.printf() format only to get a compile error, and even tried System.out.print(&quot;/t&quot; + numbers[i]); with spaces and moving the text in the parenthesis around again and again. Nothing came close to what I want. I would be grateful for how someone's assistance, please.</p>\n"},{"tags":["java","excel","apache-poi"],"comments":[{"owner":{"account_id":889699,"reputation":3308,"user_id":928224,"accept_rate":93,"display_name":"WolfLink"},"score":1,"creation_date":1410323368,"post_id":25757299,"comment_id":40277480,"body_markdown":"Are you exporting to excel, or opening an excel file?  Either way, if you can use .csv files (which excel supports), it will make your life a lot easier.","body":"Are you exporting to excel, or opening an excel file?  Either way, if you can use .csv files (which excel supports), it will make your life a lot easier."},{"owner":{"account_id":4981538,"reputation":1,"user_id":4006329,"display_name":"Danny"},"score":0,"creation_date":1410323580,"post_id":25757299,"comment_id":40277517,"body_markdown":"@WolfLink Yes , its importing.","body":"@WolfLink Yes , its importing."}],"answers":[{"comments":[{"owner":{"account_id":2212759,"reputation":609,"user_id":1954125,"accept_rate":100,"display_name":"kavinder"},"score":1,"creation_date":1415191894,"post_id":25759088,"comment_id":42097024,"body_markdown":"In which api yuo got cell.getreference() method, I am using Apache POI and cell do not have any such method","body":"In which api yuo got cell.getreference() method, I am using Apache POI and cell do not have any such method"}],"tags":[],"owner":{"account_id":310816,"reputation":9919,"user_id":624003,"display_name":"Sankumarsingh"},"comment_count":1,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1410339691,"creation_date":1410332112,"answer_id":25759088,"question_id":25757299,"body_markdown":"Suppose you want to know header no of 5th Column then you have cell no 5. Take cell of row 1 and 5th Column by. \r\n\r\n     Cell cell = Sheet1.getRow(0).getCell(5);\r\n\r\nnow take a string \r\n\r\n     String cellNumber = cell.getReference(); \r\n\r\nIt will give you `E1`. I have given you an idea of using `cell.getReference();` you can use it by many ways to get the desired result.","title":"get Excel Sheet Column Name of a Chosen Cell using Java","body":"<p>Suppose you want to know header no of 5th Column then you have cell no 5. Take cell of row 1 and 5th Column by. </p>\n\n<pre><code> Cell cell = Sheet1.getRow(0).getCell(5);\n</code></pre>\n\n<p>now take a string </p>\n\n<pre><code> String cellNumber = cell.getReference(); \n</code></pre>\n\n<p>It will give you <code>E1</code>. I have given you an idea of using <code>cell.getReference();</code> you can use it by many ways to get the desired result.</p>\n"},{"tags":[],"owner":{"account_id":8943658,"reputation":11,"user_id":6671851,"display_name":"Yang"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1470228903,"creation_date":1470219858,"answer_id":38740909,"question_id":25757299,"body_markdown":"I found the following API will work:\r\n      CellReference.convertNumToColString(5)\r\nwill return &quot;F&quot;","title":"get Excel Sheet Column Name of a Chosen Cell using Java","body":"<p>I found the following API will work:\n      CellReference.convertNumToColString(5)\nwill return \"F\"</p>\n"},{"tags":[],"owner":{"account_id":7786675,"reputation":610,"user_id":5891226,"accept_rate":20,"display_name":"Chetan Bhagat"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1485254441,"creation_date":1485237958,"answer_id":41821096,"question_id":25757299,"body_markdown":"   I got this answer usefull..\r\n\r\n      int lastcell=spreadsheet.getRow(0).getLastCellNum();\r\n      //Non empty Last cell Number or index return\r\n\r\n      for(int i=0;i&lt;=lastcell;i++)\r\n      {\r\n          try\r\n          {\r\n              System.out.println(CellReference.convertNumToColString(i));\r\n          }catch(Exception e)\r\n          {}\r\n      }\r\n\r\nstatic \r\n\r\n          Cell cell = spreadsheet.getRow(0).getCell(2);\r\n\t      tmp=64+cell.getColumnIndex();\r\n\t\t  //convert ascii code to character\r\n\t      System.out.println(Character.toString((char)tmp));\r\n\r\nVisit Full Describe : https://stackoverflow.com/questions/8202319/get-columns-names-in-excel-file-using-apache-poi/41821007#41821007","title":"get Excel Sheet Column Name of a Chosen Cell using Java","body":"<p>I got this answer usefull..</p>\n\n<pre><code>  int lastcell=spreadsheet.getRow(0).getLastCellNum();\n  //Non empty Last cell Number or index return\n\n  for(int i=0;i&lt;=lastcell;i++)\n  {\n      try\n      {\n          System.out.println(CellReference.convertNumToColString(i));\n      }catch(Exception e)\n      {}\n  }\n</code></pre>\n\n<p>static </p>\n\n<pre><code>      Cell cell = spreadsheet.getRow(0).getCell(2);\n      tmp=64+cell.getColumnIndex();\n      //convert ascii code to character\n      System.out.println(Character.toString((char)tmp));\n</code></pre>\n\n<p>Visit Full Describe : <a href=\"https://stackoverflow.com/questions/8202319/get-columns-names-in-excel-file-using-apache-poi/41821007#41821007\">Get columns&#39; names in Excel file using Apache POI</a></p>\n"}],"owner":{"account_id":4981538,"reputation":1,"user_id":4006329,"display_name":"Danny"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":8915,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1697756810,"creation_date":1410323270,"question_id":25757299,"body_markdown":"I&#39;ve a problem with **importing** excel sheet data to work with Java. I&#39;ve a Table that look likes the following.\r\n\r\n\r\n---------\r\n\r\nImage    |     Name         |    Order\r\n\r\n----------\r\n\r\n1011V    |      Holly       |     ON-10121\r\n\r\n----------\r\n\r\n\r\nAs you can see, I&#39;ve column Headings , \r\n\r\n - Image\r\n - Name\r\n - Order\r\n\r\nI want to get the Column Name like A , B  or C in Excel, given that I&#39;ve provided the Column Headings ( Cell Values ) Image , Name or Order.\r\n\r\nFor Example Something like :- getExcelColumnName(&quot;Image&quot;) , getExcelColumnName(&lt;cell value&gt;)","title":"get Excel Sheet Column Name of a Chosen Cell using Java","body":"<p>I've a problem with <strong>importing</strong> excel sheet data to work with Java. I've a Table that look likes the following.</p>\n\n<hr>\n\n<p>Image    |     Name         |    Order</p>\n\n<hr>\n\n<p>1011V    |      Holly       |     ON-10121</p>\n\n<hr>\n\n<p>As you can see, I've column Headings , </p>\n\n<ul>\n<li>Image</li>\n<li>Name</li>\n<li>Order</li>\n</ul>\n\n<p>I want to get the Column Name like A , B  or C in Excel, given that I've provided the Column Headings ( Cell Values ) Image , Name or Order.</p>\n\n<p>For Example Something like :- getExcelColumnName(\"Image\") , getExcelColumnName()</p>\n"},{"tags":["java","spring-boot","spring-data-jpa"],"answers":[{"comments":[{"owner":{"account_id":9472564,"reputation":2041,"user_id":7548062,"accept_rate":76,"display_name":"Pavel"},"score":0,"creation_date":1672279125,"post_id":74946511,"comment_id":132258143,"body_markdown":"thank you, I think this actual reason. But how to build the expression in this situation?","body":"thank you, I think this actual reason. But how to build the expression in this situation?"},{"owner":{"account_id":4181375,"reputation":5121,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":0,"creation_date":1672279500,"post_id":74946511,"comment_id":132258180,"body_markdown":"@Pavel you need to build list of predicates and then create compound expression using smth. like `builder.and(list.toArray(new Predicate[0]))`, or create utility function for such cases.","body":"@Pavel you need to build list of predicates and then create compound expression using smth. like <code>builder.and(list.toArray(new Predicate[0]))</code>, or create utility function for such cases."},{"owner":{"account_id":9472564,"reputation":2041,"user_id":7548062,"accept_rate":76,"display_name":"Pavel"},"score":0,"creation_date":1672280738,"post_id":74946511,"comment_id":132258298,"body_markdown":"I&#39;m making `filter.getTitle().ifPresent(title -&gt; builder.and(builder.like(builder.lower(root.get(&quot;title&quot;)), title)));` but nothing to change.","body":"I&#39;m making <code>filter.getTitle().ifPresent(title -&gt; builder.and(builder.like(builder.lower(root.get(&quot;title&quot;)), title)));</code> but nothing to change."},{"owner":{"account_id":4181375,"reputation":5121,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":0,"creation_date":1672281050,"post_id":74946511,"comment_id":132258335,"body_markdown":"@Pavel that is because you are ignoring a suggestion, please check UPD.","body":"@Pavel that is because you are ignoring a suggestion, please check UPD."},{"owner":{"account_id":9472564,"reputation":2041,"user_id":7548062,"accept_rate":76,"display_name":"Pavel"},"score":0,"creation_date":1672281222,"post_id":74946511,"comment_id":132258358,"body_markdown":"oh! I understand thank you. (I&#39;m just dosen&#39;t catch first time)","body":"oh! I understand thank you. (I&#39;m just dosen&#39;t catch first time)"},{"owner":{"account_id":2815103,"reputation":484,"user_id":2420411,"accept_rate":48,"display_name":"Vasanth"},"score":0,"creation_date":1697726372,"post_id":74946511,"comment_id":136318451,"body_markdown":"&lt;p&gt;if(StringUtils.isNoneBlank(employeeName)) {\n\t    \tpredicatesList.add(criteriaBuilder.equal(criteriaBuilder.lower(root.get(&quot;employeeName&quot;)),employeeName.toLowerCase()));\n\t    }\n\t\treturn criteriaBuilder.and(predicatesList.toArray(new Predicate[predicatesList.size()])); &lt;/p&gt;\t -works for me","body":"&lt;p&gt;if(StringUtils.isNoneBlank(employeeName)) { \t    \tpredicatesList.add(criteriaBuilder.equal(criteriaBuilder.lo&zwnj;&#8203;wer(root.get(&quot;employ&zwnj;&#8203;eeName&quot;)),employeeNa&zwnj;&#8203;me.toLowerCase())); \t    } \t\treturn criteriaBuilder.and(predicatesList.toArray(new Predicate[predicatesList.size()])); &lt;/p&gt;\t -works for me"}],"tags":[],"owner":{"account_id":4181375,"reputation":5121,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"comment_count":6,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1672281039,"creation_date":1672277990,"answer_id":74946511,"question_id":74946324,"body_markdown":"I&#39;m afraid that never supposed to work before - you are modifying list of boolean expressions forming the predicate, and according to [javadoc](https://jakarta.ee/specifications/persistence/2.2/apidocs/javax/persistence/criteria/predicate#getExpressions()) such modification does not affect resulting query:\r\n\r\n&gt; Return the top-level conjuncts or disjuncts of the predicate. Returns empty list if there are no top-level conjuncts or disjuncts of the predicate. **Modifications to the list do not affect the query**.\r\n\r\n[Previous implementation of CompoundPredicate](https://github.com/hibernate/hibernate-orm/blob/5.6/hibernate-core/src/main/java/org/hibernate/query/criteria/internal/predicate/CompoundPredicate.java#L95) didn&#39;t follow JPA contract, mentioned above:\r\n\r\n```java\r\n\t@Override\r\n\tpublic List&lt;Expression&lt;Boolean&gt;&gt; getExpressions() {\r\n\t\treturn expressions;\r\n\t}\r\n```\r\n\r\nNow [it does](https://github.com/hibernate/hibernate-orm/blob/37042f9b7702a833a14c2018adf9304c5e16a653/hibernate-core/src/main/java/org/hibernate/query/sqm/tree/predicate/SqmJunctionPredicate.java#L87):\r\n\r\n```\r\n\t@Override\r\n\tpublic List&lt;Expression&lt;Boolean&gt;&gt; getExpressions() {\r\n\t\treturn new ArrayList&lt;&gt;( predicates );\r\n\t}\r\n```\r\n\r\n\r\n----------\r\n\r\nUPD. The correct implementation should look like:\r\n\r\n```\r\n        @NotNull\r\n        @Override\r\n        public Predicate toPredicate(@NotNull Root&lt;Role&gt; root,\r\n                                     @NotNull CriteriaQuery&lt;?&gt; query,\r\n                                     @NotNull CriteriaBuilder builder) {\r\n\r\n            List&lt;Predicate&gt; exps = new ArrayList&lt;&gt;;\r\n\r\n            filter.getTitle().ifPresent(title -&gt;\r\n                    exps.add(builder.like(builder.lower(root.get(&quot;title&quot;)), SqlUtils.toLikeLower(title))));\r\n\r\n            return builder.and(exps.toArray(new Predicate[0]));\r\n        }\r\n```","title":"Spring Boot 3 JPA Specification not filtering with jakarta","body":"<p>I'm afraid that never supposed to work before - you are modifying list of boolean expressions forming the predicate, and according to <a href=\"https://jakarta.ee/specifications/persistence/2.2/apidocs/javax/persistence/criteria/predicate#getExpressions()\" rel=\"nofollow noreferrer\">javadoc</a> such modification does not affect resulting query:</p>\n<blockquote>\n<p>Return the top-level conjuncts or disjuncts of the predicate. Returns empty list if there are no top-level conjuncts or disjuncts of the predicate. <strong>Modifications to the list do not affect the query</strong>.</p>\n</blockquote>\n<p><a href=\"https://github.com/hibernate/hibernate-orm/blob/5.6/hibernate-core/src/main/java/org/hibernate/query/criteria/internal/predicate/CompoundPredicate.java#L95\" rel=\"nofollow noreferrer\">Previous implementation of CompoundPredicate</a> didn't follow JPA contract, mentioned above:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Override\n    public List&lt;Expression&lt;Boolean&gt;&gt; getExpressions() {\n        return expressions;\n    }\n</code></pre>\n<p>Now <a href=\"https://github.com/hibernate/hibernate-orm/blob/37042f9b7702a833a14c2018adf9304c5e16a653/hibernate-core/src/main/java/org/hibernate/query/sqm/tree/predicate/SqmJunctionPredicate.java#L87\" rel=\"nofollow noreferrer\">it does</a>:</p>\n<pre><code>    @Override\n    public List&lt;Expression&lt;Boolean&gt;&gt; getExpressions() {\n        return new ArrayList&lt;&gt;( predicates );\n    }\n</code></pre>\n<hr />\n<p>UPD. The correct implementation should look like:</p>\n<pre><code>        @NotNull\n        @Override\n        public Predicate toPredicate(@NotNull Root&lt;Role&gt; root,\n                                     @NotNull CriteriaQuery&lt;?&gt; query,\n                                     @NotNull CriteriaBuilder builder) {\n\n            List&lt;Predicate&gt; exps = new ArrayList&lt;&gt;;\n\n            filter.getTitle().ifPresent(title -&gt;\n                    exps.add(builder.like(builder.lower(root.get(&quot;title&quot;)), SqlUtils.toLikeLower(title))));\n\n            return builder.and(exps.toArray(new Predicate[0]));\n        }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2815103,"reputation":484,"user_id":2420411,"accept_rate":48,"display_name":"Vasanth"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697755247,"creation_date":1697726477,"answer_id":77324761,"question_id":74946324,"body_markdown":"\r\nJDK 1.8 with Spring boot 2.x.x code    \r\n\r\n Using javax.persistence\r\n   \r\n\r\n    predicate.getExpressions().add(criteriaBuilder.equal(criteriaBuilder.lower(root.get(&quot;employeeName&quot;)), ((String) employeeName).toLowerCase()));\r\n\r\n\r\nJDK17 with Spring Boot 3.x.x code \r\nUsing jakarta.persistence\r\n\r\n\r\n \r\n\r\n    List&lt;Predicate&gt; predicatesList = new ArrayList&lt;&gt;();\r\n        if(StringUtils.isNoneBlank(employeeName)) {\r\n        \t    \tpredicatesList.add(criteriaBuilder.equal(criteriaBuilder.lower(root.get(&quot;employeeName&quot;)),employeeName.toLowerCase()));\r\n        \t    }\r\n        \t\treturn criteriaBuilder.and(predicatesList.toArray(new Predicate[predicatesList.size()]));\r\n\r\n work out for me.\t\r\n","title":"Spring Boot 3 JPA Specification not filtering with jakarta","body":"<p>JDK 1.8 with Spring boot 2.x.x code</p>\n<p>Using javax.persistence</p>\n<pre><code>predicate.getExpressions().add(criteriaBuilder.equal(criteriaBuilder.lower(root.get(&quot;employeeName&quot;)), ((String) employeeName).toLowerCase()));\n</code></pre>\n<p>JDK17 with Spring Boot 3.x.x code\nUsing jakarta.persistence</p>\n<pre><code>List&lt;Predicate&gt; predicatesList = new ArrayList&lt;&gt;();\n    if(StringUtils.isNoneBlank(employeeName)) {\n                predicatesList.add(criteriaBuilder.equal(criteriaBuilder.lower(root.get(&quot;employeeName&quot;)),employeeName.toLowerCase()));\n            }\n            return criteriaBuilder.and(predicatesList.toArray(new Predicate[predicatesList.size()]));\n</code></pre>\n<p>work out for me.</p>\n"}],"owner":{"account_id":9472564,"reputation":2041,"user_id":7548062,"accept_rate":76,"display_name":"Pavel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2385,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"accepted_answer_id":74946511,"answer_count":2,"score":2,"last_activity_date":1697755247,"creation_date":1672275440,"question_id":74946324,"body_markdown":"I&#39;m moving to SpringBoot 3.0.1. After the update and replacing all `javax.persistence` with `jakarta.persistence` all filters which based on `org.springframework.data.jpa.domain.Specification` doesn&#39;t work, no error just not filtering.\r\n\r\nExample entity:\r\n\r\n    import jakarta.persistence.Column;\r\n    import jakarta.persistence.Entity;\r\n    import jakarta.persistence.FetchType;\r\n    import jakarta.persistence.GeneratedValue;\r\n    import jakarta.persistence.GenerationType;\r\n    import jakarta.persistence.Id;\r\n    import jakarta.persistence.ManyToMany;\r\n    import jakarta.persistence.Table;\r\n    import lombok.AllArgsConstructor;\r\n    import lombok.Builder;\r\n    import lombok.Getter;\r\n    import lombok.NoArgsConstructor;\r\n    import lombok.Setter;\r\n    import lombok.ToString;\r\n    \r\n    import java.util.List;\r\n    import java.util.Objects;\r\n    \r\n    @Getter\r\n    @Setter\r\n    @Entity\r\n    @Builder\r\n    @ToString\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    @Table(name = &quot;roles&quot;)\r\n    public class Role {\r\n    \r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        private Long id;\r\n    \r\n        @Column(name = &quot;system_name&quot;)\r\n        private String systemName;\r\n    \r\n        @Column(name = &quot;title&quot;)\r\n        private String title;\r\n    \r\n        @ManyToMany(mappedBy = &quot;roles&quot;, fetch = FetchType.LAZY)\r\n        @ToString.Exclude\r\n        private List&lt;User&gt; users;\r\n    \r\n        // equals hashcode\r\n    }\r\n\r\nRepository and Specification implementation:\r\n\r\n    import jakarta.persistence.criteria.CriteriaBuilder;\r\n    import jakarta.persistence.criteria.CriteriaQuery;\r\n    import jakarta.persistence.criteria.Expression;\r\n    import jakarta.persistence.criteria.Predicate;\r\n    import jakarta.persistence.criteria.Root;\r\n    import my.package.model.Role;\r\n    import my.package.repository.filter.RoleFilter;\r\n    import my.package.util.SqlUtils;\r\n    import org.jetbrains.annotations.NotNull;\r\n    import org.springframework.data.jpa.domain.Specification;\r\n    import org.springframework.data.jpa.repository.JpaRepository;\r\n    import org.springframework.data.jpa.repository.JpaSpecificationExecutor;\r\n    import org.springframework.stereotype.Repository;\r\n    \r\n    \r\n    import java.util.List;\r\n    \r\n    @Repository\r\n    public interface RoleRepository extends JpaRepository&lt;Role, Long&gt;, JpaSpecificationExecutor&lt;Role&gt; {\r\n    \r\n        record RoleSpecification(@NotNull RoleFilter filter) implements Specification&lt;Role&gt; {\r\n    \r\n            @NotNull\r\n            @Override\r\n            public Predicate toPredicate(@NotNull Root&lt;Role&gt; root,\r\n                                         @NotNull CriteriaQuery&lt;?&gt; query,\r\n                                         @NotNull CriteriaBuilder builder) {\r\n    \r\n                Predicate predicate = builder.conjunction();\r\n                List&lt;Expression&lt;Boolean&gt;&gt; exps = predicate.getExpressions();\r\n    \r\n                filter.getTitle().ifPresent(title -&gt;\r\n                        exps.add(builder.like(builder.lower(root.get(&quot;title&quot;)), SqlUtils.toLikeLower(title))));\r\n    \r\n                return predicate;\r\n            }\r\n        }\r\n    }\r\n\r\n    @Data\r\n    @Builder\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    public class RoleFilter {\r\n    \r\n        private String title;\r\n    \r\n        public Optional&lt;String&gt; getTitle() {\r\n            return Objects.isNull(title) || title.isEmpty() ? Optional.empty() : Optional.of(title);\r\n        }\r\n    \r\n    }\r\n\r\nAnd usage:\r\n\r\n    import static org.springframework.data.jpa.domain.Specification.where;\r\n    \r\n    @Service\r\n    @RequiredArgsConstructor\r\n    public class RoleServiceImpl implements RoleService {\r\n    \r\n        private final RoleRepository roleRepository;\r\n    \r\n        @Override\r\n        public List&lt;Role&gt; list() {\r\n            RoleFilter filter = new RoleFilter();\r\n            filter.setTitle(&quot;test&quot;);\r\n            return roleRepository.findAll(where(new RoleSpecification(filter)));\r\n        }\r\n    }\r\n\r\nAnd hibernate generate this strange query:\r\n\r\n\r\n    select\r\n        g1_0.id,\r\n        g1_0.created_at,\r\n        g1_0.is_hidden,\r\n        g1_0.title \r\n    from\r\n        groups g1_0 \r\n    where\r\n        1=1 \r\n    order by\r\n        g1_0.id desc offset ? rows fetch first ? rows only\r\n\r\n\r\nNothing about `title` in `WHERE` statement.\r\n\r\nbuild.gradle\r\n\r\n    plugins {\r\n        id &#39;org.springframework.boot&#39; version &#39;3.0.1&#39;\r\n        id &#39;io.spring.dependency-management&#39; version &#39;1.0.14.RELEASE&#39;\r\n        id &#39;java&#39;\r\n    }\r\n    \r\n    ext {\r\n        jupiterVersion = &#39;5.9.1&#39;\r\n        lombokVersion = &#39;1.18.24&#39;\r\n        openApiVersion = &#39;1.6.14&#39;\r\n        mapstructVersion = &#39;1.5.3.Final&#39;\r\n        lombokMapstructBindingVersion = &quot;0.2.0&quot;\r\n    }\r\n    \r\n    group = &#39;my.package&#39;\r\n    version = &#39;1.0&#39;\r\n    \r\n    configurations {\r\n        compileOnly {\r\n            extendsFrom annotationProcessor\r\n        }\r\n    }\r\n    \r\n    repositories {\r\n        mavenCentral()\r\n    }\r\n    \r\n    dependencies {\r\n        implementation &#39;org.springframework.boot:spring-boot-starter-actuator&#39;\r\n        implementation &#39;org.springframework.boot:spring-boot-starter-batch&#39;\r\n        implementation &#39;org.springframework.boot:spring-boot-starter-data-jpa&#39;\r\n        implementation &#39;org.springframework.boot:spring-boot-starter-security&#39;\r\n        implementation &#39;org.springframework.boot:spring-boot-starter-validation&#39;\r\n        implementation &#39;org.springframework.boot:spring-boot-starter-web&#39;\r\n        implementation &quot;org.springdoc:springdoc-openapi-ui:${openApiVersion}&quot;\r\n        implementation &quot;org.mapstruct:mapstruct:${mapstructVersion}&quot;\r\n        implementation &#39;com.google.guava:guava:31.1-jre&#39;\r\n        implementation &#39;net.minidev:json-smart:2.4.8&#39;\r\n        implementation &#39;io.nats:jnats:2.16.5&#39;\r\n        implementation &#39;io.jsonwebtoken:jjwt:0.9.1&#39;\r\n        implementation &#39;javax.xml.bind:jaxb-api:2.3.1&#39;\r\n        implementation &#39;org.flywaydb:flyway-core:9.10.1&#39;\r\n        implementation &#39;org.jetbrains:annotations:23.1.0&#39;\r\n        compileOnly &quot;org.projectlombok:lombok:${lombokVersion}&quot;\r\n        runtimeOnly &#39;com.h2database:h2:2.1.214&#39;\r\n        runtimeOnly &#39;org.postgresql:postgresql:42.5.1&#39;\r\n        annotationProcessor &quot;org.projectlombok:lombok:${lombokVersion}&quot;\r\n        annotationProcessor &quot;org.projectlombok:lombok-mapstruct-binding:${lombokMapstructBindingVersion}&quot;\r\n        annotationProcessor &#39;org.springframework.boot:spring-boot-configuration-processor&#39;\r\n        annotationProcessor &quot;org.mapstruct:mapstruct-processor:${mapstructVersion}&quot;\r\n        testImplementation &#39;org.springframework.boot:spring-boot-starter-test&#39;\r\n        testImplementation &#39;org.springframework.security:spring-security-test&#39;\r\n        testImplementation &#39;org.springframework.batch:spring-batch-test&#39;\r\n        testImplementation &quot;org.junit.jupiter:junit-jupiter-api:${jupiterVersion}&quot;\r\n        testImplementation &quot;org.junit.jupiter:junit-jupiter-engine:${jupiterVersion}&quot;\r\n        testRuntimeOnly &#39;org.junit.jupiter:junit-jupiter-engine:${jupiterVersion}&#39;\r\n        testRuntimeOnly &#39;org.junit.vintage:junit-vintage-engine:5.8.1&#39;\r\n        testCompileOnly &#39;junit:junit:4.12&#39;\r\n    }\r\n    \r\n    tasks.named(&#39;test&#39;) {\r\n        useJUnitPlatform()\r\n    }\r\n\r\nNo errors, no exceptions, no warnings, just ignore all conditions.\r\nWhy does it&#39;s happening and how to fix it?","title":"Spring Boot 3 JPA Specification not filtering with jakarta","body":"<p>I'm moving to SpringBoot 3.0.1. After the update and replacing all <code>javax.persistence</code> with <code>jakarta.persistence</code> all filters which based on <code>org.springframework.data.jpa.domain.Specification</code> doesn't work, no error just not filtering.</p>\n<p>Example entity:</p>\n<pre><code>import jakarta.persistence.Column;\nimport jakarta.persistence.Entity;\nimport jakarta.persistence.FetchType;\nimport jakarta.persistence.GeneratedValue;\nimport jakarta.persistence.GenerationType;\nimport jakarta.persistence.Id;\nimport jakarta.persistence.ManyToMany;\nimport jakarta.persistence.Table;\nimport lombok.AllArgsConstructor;\nimport lombok.Builder;\nimport lombok.Getter;\nimport lombok.NoArgsConstructor;\nimport lombok.Setter;\nimport lombok.ToString;\n\nimport java.util.List;\nimport java.util.Objects;\n\n@Getter\n@Setter\n@Entity\n@Builder\n@ToString\n@NoArgsConstructor\n@AllArgsConstructor\n@Table(name = &quot;roles&quot;)\npublic class Role {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n    @Column(name = &quot;system_name&quot;)\n    private String systemName;\n\n    @Column(name = &quot;title&quot;)\n    private String title;\n\n    @ManyToMany(mappedBy = &quot;roles&quot;, fetch = FetchType.LAZY)\n    @ToString.Exclude\n    private List&lt;User&gt; users;\n\n    // equals hashcode\n}\n</code></pre>\n<p>Repository and Specification implementation:</p>\n<pre><code>import jakarta.persistence.criteria.CriteriaBuilder;\nimport jakarta.persistence.criteria.CriteriaQuery;\nimport jakarta.persistence.criteria.Expression;\nimport jakarta.persistence.criteria.Predicate;\nimport jakarta.persistence.criteria.Root;\nimport my.package.model.Role;\nimport my.package.repository.filter.RoleFilter;\nimport my.package.util.SqlUtils;\nimport org.jetbrains.annotations.NotNull;\nimport org.springframework.data.jpa.domain.Specification;\nimport org.springframework.data.jpa.repository.JpaRepository;\nimport org.springframework.data.jpa.repository.JpaSpecificationExecutor;\nimport org.springframework.stereotype.Repository;\n\n\nimport java.util.List;\n\n@Repository\npublic interface RoleRepository extends JpaRepository&lt;Role, Long&gt;, JpaSpecificationExecutor&lt;Role&gt; {\n\n    record RoleSpecification(@NotNull RoleFilter filter) implements Specification&lt;Role&gt; {\n\n        @NotNull\n        @Override\n        public Predicate toPredicate(@NotNull Root&lt;Role&gt; root,\n                                     @NotNull CriteriaQuery&lt;?&gt; query,\n                                     @NotNull CriteriaBuilder builder) {\n\n            Predicate predicate = builder.conjunction();\n            List&lt;Expression&lt;Boolean&gt;&gt; exps = predicate.getExpressions();\n\n            filter.getTitle().ifPresent(title -&gt;\n                    exps.add(builder.like(builder.lower(root.get(&quot;title&quot;)), SqlUtils.toLikeLower(title))));\n\n            return predicate;\n        }\n    }\n}\n\n@Data\n@Builder\n@NoArgsConstructor\n@AllArgsConstructor\npublic class RoleFilter {\n\n    private String title;\n\n    public Optional&lt;String&gt; getTitle() {\n        return Objects.isNull(title) || title.isEmpty() ? Optional.empty() : Optional.of(title);\n    }\n\n}\n</code></pre>\n<p>And usage:</p>\n<pre><code>import static org.springframework.data.jpa.domain.Specification.where;\n\n@Service\n@RequiredArgsConstructor\npublic class RoleServiceImpl implements RoleService {\n\n    private final RoleRepository roleRepository;\n\n    @Override\n    public List&lt;Role&gt; list() {\n        RoleFilter filter = new RoleFilter();\n        filter.setTitle(&quot;test&quot;);\n        return roleRepository.findAll(where(new RoleSpecification(filter)));\n    }\n}\n</code></pre>\n<p>And hibernate generate this strange query:</p>\n<pre><code>select\n    g1_0.id,\n    g1_0.created_at,\n    g1_0.is_hidden,\n    g1_0.title \nfrom\n    groups g1_0 \nwhere\n    1=1 \norder by\n    g1_0.id desc offset ? rows fetch first ? rows only\n</code></pre>\n<p>Nothing about <code>title</code> in <code>WHERE</code> statement.</p>\n<p>build.gradle</p>\n<pre><code>plugins {\n    id 'org.springframework.boot' version '3.0.1'\n    id 'io.spring.dependency-management' version '1.0.14.RELEASE'\n    id 'java'\n}\n\next {\n    jupiterVersion = '5.9.1'\n    lombokVersion = '1.18.24'\n    openApiVersion = '1.6.14'\n    mapstructVersion = '1.5.3.Final'\n    lombokMapstructBindingVersion = &quot;0.2.0&quot;\n}\n\ngroup = 'my.package'\nversion = '1.0'\n\nconfigurations {\n    compileOnly {\n        extendsFrom annotationProcessor\n    }\n}\n\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n    implementation 'org.springframework.boot:spring-boot-starter-actuator'\n    implementation 'org.springframework.boot:spring-boot-starter-batch'\n    implementation 'org.springframework.boot:spring-boot-starter-data-jpa'\n    implementation 'org.springframework.boot:spring-boot-starter-security'\n    implementation 'org.springframework.boot:spring-boot-starter-validation'\n    implementation 'org.springframework.boot:spring-boot-starter-web'\n    implementation &quot;org.springdoc:springdoc-openapi-ui:${openApiVersion}&quot;\n    implementation &quot;org.mapstruct:mapstruct:${mapstructVersion}&quot;\n    implementation 'com.google.guava:guava:31.1-jre'\n    implementation 'net.minidev:json-smart:2.4.8'\n    implementation 'io.nats:jnats:2.16.5'\n    implementation 'io.jsonwebtoken:jjwt:0.9.1'\n    implementation 'javax.xml.bind:jaxb-api:2.3.1'\n    implementation 'org.flywaydb:flyway-core:9.10.1'\n    implementation 'org.jetbrains:annotations:23.1.0'\n    compileOnly &quot;org.projectlombok:lombok:${lombokVersion}&quot;\n    runtimeOnly 'com.h2database:h2:2.1.214'\n    runtimeOnly 'org.postgresql:postgresql:42.5.1'\n    annotationProcessor &quot;org.projectlombok:lombok:${lombokVersion}&quot;\n    annotationProcessor &quot;org.projectlombok:lombok-mapstruct-binding:${lombokMapstructBindingVersion}&quot;\n    annotationProcessor 'org.springframework.boot:spring-boot-configuration-processor'\n    annotationProcessor &quot;org.mapstruct:mapstruct-processor:${mapstructVersion}&quot;\n    testImplementation 'org.springframework.boot:spring-boot-starter-test'\n    testImplementation 'org.springframework.security:spring-security-test'\n    testImplementation 'org.springframework.batch:spring-batch-test'\n    testImplementation &quot;org.junit.jupiter:junit-jupiter-api:${jupiterVersion}&quot;\n    testImplementation &quot;org.junit.jupiter:junit-jupiter-engine:${jupiterVersion}&quot;\n    testRuntimeOnly 'org.junit.jupiter:junit-jupiter-engine:${jupiterVersion}'\n    testRuntimeOnly 'org.junit.vintage:junit-vintage-engine:5.8.1'\n    testCompileOnly 'junit:junit:4.12'\n}\n\ntasks.named('test') {\n    useJUnitPlatform()\n}\n</code></pre>\n<p>No errors, no exceptions, no warnings, just ignore all conditions.\nWhy does it's happening and how to fix it?</p>\n"},{"tags":["java","email","smtp","jakarta-mail","smtp-auth"],"comments":[{"owner":{"account_id":372117,"reputation":2909,"user_id":1486762,"accept_rate":47,"display_name":"Bilbo Baggins"},"score":0,"creation_date":1404797917,"post_id":24623976,"comment_id":38162033,"body_markdown":"check your username and password values. are they correct?","body":"check your username and password values. are they correct?"},{"owner":{"account_id":4715544,"reputation":1,"user_id":3814788,"display_name":"Hari"},"score":0,"creation_date":1404798508,"post_id":24623976,"comment_id":38162256,"body_markdown":"Dear @SamwiseGamgee Username and password are correct i directly login to the port 172.23.5.10 (company mail server) in browser with this and outlook also configured with this IP and username ,password.","body":"Dear @SamwiseGamgee Username and password are correct i directly login to the port 172.23.5.10 (company mail server) in browser with this and outlook also configured with this IP and username ,password."},{"owner":{"account_id":1032936,"reputation":29649,"user_id":1040885,"display_name":"Bill Shannon"},"score":0,"creation_date":1404801101,"post_id":24623976,"comment_id":38163235,"body_markdown":"Examine the [protocol trace](http://www.oracle.com/technetwork/java/javamail/faq/index.html#debug) for more clues as to why the server is rejecting your username and password.  You might have to set the &quot;mail.debug.auth&quot; property to &quot;true&quot; to get the full protocol trace.  Be careful not to post it here because it might expose your password.","body":"Examine the <a href=\"http://www.oracle.com/technetwork/java/javamail/faq/index.html#debug\" rel=\"nofollow noreferrer\">protocol trace</a> for more clues as to why the server is rejecting your username and password.  You might have to set the &quot;mail.debug.auth&quot; property to &quot;true&quot; to get the full protocol trace.  Be careful not to post it here because it might expose your password."}],"answers":[{"comments":[{"owner":{"account_id":4715544,"reputation":1,"user_id":3814788,"display_name":"Hari"},"score":0,"creation_date":1404804114,"post_id":24624917,"comment_id":38164710,"body_markdown":"Dear @Mr.Chowdary i Modified properties as properties.setProperty(&quot;mail.smtp.host&quot;, host);\nproperties.setProperty(&quot;mail.smtp.port&quot;, port);\nproperties.setProperty(&quot;mail.smtp.auth&quot;, &quot;true&quot;);\nproperties.setProperty(&quot;mail.smtp.ssl.enable&quot;, &quot;true&quot;);\nproperties.setProperty(&quot;mail.smtp.ssl.trust&quot;, &quot;*&quot;);\nproperties.setProperty(&quot;mail.smtp.sender.address&quot;, username);\nproperties.setProperty(&quot;mail.smtp.from&quot;, username); as per your advise but not also i am getting","body":"Dear @Mr.Chowdary i Modified properties as properties.setProperty(&quot;mail.smtp.host&quot;, host); properties.setProperty(&quot;mail.smtp.port&quot;, port); properties.setProperty(&quot;mail.smtp.auth&quot;, &quot;true&quot;); properties.setProperty(&quot;mail.smtp.ssl.enable&quot;, &quot;true&quot;); properties.setProperty(&quot;mail.smtp.ssl.trust&quot;, &quot;*&quot;); properties.setProperty(&quot;mail.smtp.sender.address&quot;, username); properties.setProperty(&quot;mail.smtp.from&quot;, username); as per your advise but not also i am getting"},{"owner":{"account_id":4715544,"reputation":1,"user_id":3814788,"display_name":"Hari"},"score":0,"creation_date":1404804255,"post_id":24624917,"comment_id":38164791,"body_markdown":"javax.mail.SendFailedException: Sending failed;\nnested exception is: \nclass javax.mail.authenticationfailedexception \nat javax.mail.transport.send0(Transport.java:218)\nat javax.mail.transport.send(Transport.java:80)\nat com.access.SendEmail.main(SendEmail.java:90) error.","body":"javax.mail.SendFailedException: Sending failed; nested exception is:  class javax.mail.authenticationfailedexception  at javax.mail.transport.send0(Transport.java:218) at javax.mail.transport.send(Transport.java:80) at com.access.SendEmail.main(SendEmail.java:90) error."},{"owner":{"account_id":1583666,"reputation":3389,"user_id":1468481,"accept_rate":96,"display_name":"Mr.Chowdary"},"score":0,"creation_date":1404811947,"post_id":24624917,"comment_id":38169150,"body_markdown":"@Hari Check it first with gmail.com by passing host as smtp.gmail.com and gmail id and password.. and check again with your specific values.. If both are not working means your code problem.. if gmail working means your input values are wrong for access.co.in mail server.. check it and let me know.. :)","body":"@Hari Check it first with gmail.com by passing host as smtp.gmail.com and gmail id and password.. and check again with your specific values.. If both are not working means your code problem.. if gmail working means your input values are wrong for access.co.in mail server.. check it and let me know.. :)"}],"tags":[],"owner":{"account_id":1583666,"reputation":3389,"user_id":1468481,"accept_rate":96,"display_name":"Mr.Chowdary"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1404800783,"creation_date":1404800344,"answer_id":24624917,"question_id":24623976,"body_markdown":"You must add `mail.smtp.ssl` and `mail.smtp.sender.address` properties..\r\n`mail.smtp.sender.address` is same as `from` property.\r\n It must work..it is working as expected for me..\r\nHope it helps  \r\n\r\nIf it doesn&#39;t solve your problem, just share the exception stack trace of  caused by.. ","title":"javax.mail.sendfailedexception: Sending failed; nested exception is: class javax.mail.authenticationfailedexception at send","body":"<p>You must add <code>mail.smtp.ssl</code> and <code>mail.smtp.sender.address</code> properties..\n<code>mail.smtp.sender.address</code> is same as <code>from</code> property.\n It must work..it is working as expected for me..\nHope it helps  </p>\n\n<p>If it doesn't solve your problem, just share the exception stack trace of  caused by.. </p>\n"},{"tags":[],"owner":{"account_id":2918073,"reputation":1130,"user_id":2500882,"display_name":"Nadav Finish"},"comment_count":0,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1416172401,"creation_date":1416167558,"answer_id":26961357,"question_id":24623976,"body_markdown":"You can switch to an app made by Google such as Gmail to access your account (recommended) or change your [settings](https://www.google.com/settings/security/lesssecureapps) so that your [account is no longer protected by modern security standards](https://support.google.com/accounts/answer/6010255).","title":"javax.mail.sendfailedexception: Sending failed; nested exception is: class javax.mail.authenticationfailedexception at send","body":"<p>You can switch to an app made by Google such as Gmail to access your account (recommended) or change your <a href=\"https://www.google.com/settings/security/lesssecureapps\" rel=\"nofollow\">settings</a> so that your <a href=\"https://support.google.com/accounts/answer/6010255\" rel=\"nofollow\">account is no longer protected by modern security standards</a>.</p>\n"}],"owner":{"account_id":4715544,"reputation":1,"user_id":3814788,"display_name":"Hari"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":8621,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1697753085,"creation_date":1404795236,"question_id":24623976,"body_markdown":"I am new to java mail, I want to sent a mail with attachments so i like to create a test mail with sample codes from internet but i am getting\r\n\r\n    javax.mail.sendfailedexception: sending failed;\r\n    nested exception is: class javax.mail.authenticationfailedexception \r\n    at javax.mail.transport.send0(Transport.java.218)\r\n    at javax.mail.transport.send(Transport.java.80)\r\n\r\nI tried with different authentication but i failed \r\n\r\n    import java.util.*;\r\n    import javax.mail.*;\r\n    import javax.mail.internet.*;\r\n    import javax.activation.*;\r\n    \r\n    public class SendEmail\r\n    {\r\n       public static void main(String [] args)\r\n       {\r\n          \r\n          // Recipient&#39;s email ID needs to be mentioned.\r\n          String to = &quot;hari@gmail.com&quot;;\r\n    \r\n          // Sender&#39;s email My Office mail server\r\n          String from = &quot;hari8750@access.co.in&quot;;\r\n          String pass = &quot;Password&quot;;\r\n          String host = &quot;172.23.5.10&quot;;\r\n          String port = &quot;25&quot;;\r\n    \r\n          // Get system properties\r\n          Properties properties = System.getProperties();\r\n    \r\n          // Setup mail server\r\n          properties.setProperty(&quot;mail.smtp.host&quot;, host);\r\n          properties.setProperty(&quot;mail.smtp.port&quot;, port);\r\n          properties.setProperty(&quot;mail.smtp.auth&quot;, &quot;true&quot;);\r\n    \r\n          // Get the default Session object.\r\n          Session session = Session.getInstance(properties,new MailAuthentication(from,pass));\r\n    \r\n          try{\r\n             // Create a default MimeMessage object.\r\n             MimeMessage message = new MimeMessage(session);\r\n    \r\n             // Set From: header field of the header.\r\n             message.setFrom(new InternetAddress(from));\r\n    \r\n             // Set To: header field of the header.\r\n             message.addRecipient(Message.RecipientType.TO,\r\n                                      new InternetAddress(to));\r\n    \r\n             // Set Subject: header field\r\n             message.setSubject(&quot;Test Mail&quot;);\r\n    \r\n             // Create the message part \r\n             BodyPart messageBodyPart = new MimeBodyPart();\r\n    \r\n             // Fill the message\r\n             messageBodyPart.setText(&quot;Test Mail Success Hari&quot;);\r\n             \r\n             // Create a multipar message\r\n             Multipart multipart = new MimeMultipart();\r\n    \r\n             // Set text message part\r\n             multipart.addBodyPart(messageBodyPart);\r\n    \r\n             // Send the complete message parts\r\n             message.setContent(multipart );\r\n    \r\n             // Send message\r\n             Transport.send(message);\r\n             System.out.println(&quot;Sent message successfully....&quot;);\r\n          }catch (MessagingException mex) {\r\n             mex.printStackTrace();\r\n          }\r\n       }\r\n    }\r\n    \r\n    import javax.mail.*\r\n    public class MailAuthentication extends Authentication\r\n    {\r\n    \r\n    \tString _user;\r\n    \tString _pass;\r\n    \tpublic GMailAuthenticator (String username, String password)\r\n    \t{\r\n    \t\tsuper();\r\n    \t\tthis._user = username;\r\n    \t\tthis._pass = password;\r\n    \t}\r\n    \tpublic PasswordAuthentication getPasswordAuthentication()\r\n    \t{\r\n    \t\treturn new PasswordAuthentication(_user, _pass);\r\n    \t}\r\n    }\r\n\r\n\r\ni also tried with \r\n\r\n    Session session = Session.getInstance(props,\r\n    \t\t  new javax.mail.Authenticator() {\r\n    \t\t\tprotected PasswordAuthentication getPasswordAuthentication() {\r\n    \t\t\t\treturn new PasswordAuthentication(username, password);\r\n    \t\t\t}\r\n    \t\t  });\r\n\r\nand \r\n\r\n    Session session = Session.getDefaultInstance(properties);\r\n\r\nand \r\n\r\n    Session session = Session.getDefaultInstance(properties);\r\n\r\nbut i am getting the same error.\r\n\r\nKindly help me to solve this out\r\n\r\nI am using Windows PC like java environment variables is there any steps for SMTP ??\r\n\r\nThanks in Advance.\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"javax.mail.sendfailedexception: Sending failed; nested exception is: class javax.mail.authenticationfailedexception at send","body":"<p>I am new to java mail, I want to sent a mail with attachments so i like to create a test mail with sample codes from internet but i am getting</p>\n\n<pre><code>javax.mail.sendfailedexception: sending failed;\nnested exception is: class javax.mail.authenticationfailedexception \nat javax.mail.transport.send0(Transport.java.218)\nat javax.mail.transport.send(Transport.java.80)\n</code></pre>\n\n<p>I tried with different authentication but i failed </p>\n\n<pre><code>import java.util.*;\nimport javax.mail.*;\nimport javax.mail.internet.*;\nimport javax.activation.*;\n\npublic class SendEmail\n{\n   public static void main(String [] args)\n   {\n\n      // Recipient's email ID needs to be mentioned.\n      String to = \"hari@gmail.com\";\n\n      // Sender's email My Office mail server\n      String from = \"hari8750@access.co.in\";\n      String pass = \"Password\";\n      String host = \"172.23.5.10\";\n      String port = \"25\";\n\n      // Get system properties\n      Properties properties = System.getProperties();\n\n      // Setup mail server\n      properties.setProperty(\"mail.smtp.host\", host);\n      properties.setProperty(\"mail.smtp.port\", port);\n      properties.setProperty(\"mail.smtp.auth\", \"true\");\n\n      // Get the default Session object.\n      Session session = Session.getInstance(properties,new MailAuthentication(from,pass));\n\n      try{\n         // Create a default MimeMessage object.\n         MimeMessage message = new MimeMessage(session);\n\n         // Set From: header field of the header.\n         message.setFrom(new InternetAddress(from));\n\n         // Set To: header field of the header.\n         message.addRecipient(Message.RecipientType.TO,\n                                  new InternetAddress(to));\n\n         // Set Subject: header field\n         message.setSubject(\"Test Mail\");\n\n         // Create the message part \n         BodyPart messageBodyPart = new MimeBodyPart();\n\n         // Fill the message\n         messageBodyPart.setText(\"Test Mail Success Hari\");\n\n         // Create a multipar message\n         Multipart multipart = new MimeMultipart();\n\n         // Set text message part\n         multipart.addBodyPart(messageBodyPart);\n\n         // Send the complete message parts\n         message.setContent(multipart );\n\n         // Send message\n         Transport.send(message);\n         System.out.println(\"Sent message successfully....\");\n      }catch (MessagingException mex) {\n         mex.printStackTrace();\n      }\n   }\n}\n\nimport javax.mail.*\npublic class MailAuthentication extends Authentication\n{\n\n    String _user;\n    String _pass;\n    public GMailAuthenticator (String username, String password)\n    {\n        super();\n        this._user = username;\n        this._pass = password;\n    }\n    public PasswordAuthentication getPasswordAuthentication()\n    {\n        return new PasswordAuthentication(_user, _pass);\n    }\n}\n</code></pre>\n\n<p>i also tried with </p>\n\n<pre><code>Session session = Session.getInstance(props,\n          new javax.mail.Authenticator() {\n            protected PasswordAuthentication getPasswordAuthentication() {\n                return new PasswordAuthentication(username, password);\n            }\n          });\n</code></pre>\n\n<p>and </p>\n\n<pre><code>Session session = Session.getDefaultInstance(properties);\n</code></pre>\n\n<p>and </p>\n\n<pre><code>Session session = Session.getDefaultInstance(properties);\n</code></pre>\n\n<p>but i am getting the same error.</p>\n\n<p>Kindly help me to solve this out</p>\n\n<p>I am using Windows PC like java environment variables is there any steps for SMTP ??</p>\n\n<p>Thanks in Advance.</p>\n"},{"tags":["java","java-8","completable-future"],"comments":[{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":18,"creation_date":1501779496,"post_id":45490316,"comment_id":77942023,"body_markdown":"`get()` requires you to catch checked exceptions. You should notice the difference when you change from `get()` to `join()`, as you will imediately get a compiler error saying that neither `InterruptedException` nor `ExecutionException` are thrown in the `try` block.","body":"<code>get()</code> requires you to catch checked exceptions. You should notice the difference when you change from <code>get()</code> to <code>join()</code>, as you will imediately get a compiler error saying that neither <code>InterruptedException</code> nor <code>ExecutionException</code> are thrown in the <code>try</code> block."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":9,"creation_date":1501782534,"post_id":45490316,"comment_id":77943909,"body_markdown":"@holi-java: `join()` can not get interrupted.","body":"@holi-java: <code>join()</code> can not get interrupted."},{"owner":{"account_id":10312640,"reputation":29939,"user_id":7607923,"accept_rate":83,"display_name":"holi-java"},"score":0,"creation_date":1501787684,"post_id":45490316,"comment_id":77946857,"body_markdown":"@Holger yes, sir. I found I can&#39;t interrupt the task.","body":"@Holger yes, sir. I found I can&#39;t interrupt the task."},{"owner":{"account_id":8706767,"reputation":1881,"user_id":6514464,"display_name":"Nomeswaran"},"score":0,"creation_date":1501817208,"post_id":45490316,"comment_id":77956590,"body_markdown":"@Holger, Thank you for reply and you are correct, get expects checked exception and join method not. But both are waiting for complete the all the future and I would like know whcih one I should use and why?","body":"@Holger, Thank you for reply and you are correct, get expects checked exception and join method not. But both are waiting for complete the all the future and I would like know whcih one I should use and why?"},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":16,"creation_date":1502029560,"post_id":45490316,"comment_id":78025956,"body_markdown":"Well `get` exists, because `CompletableFuture` implements the `Future` interface which mandates it. `join()` most likely has been introduced, to avoid needing to catch checked exceptions in lambda expressions when combining futures. In all other use cases, feel free to use whatever you prefer.","body":"Well <code>get</code> exists, because <code>CompletableFuture</code> implements the <code>Future</code> interface which mandates it. <code>join()</code> most likely has been introduced, to avoid needing to catch checked exceptions in lambda expressions when combining futures. In all other use cases, feel free to use whatever you prefer."},{"owner":{"account_id":910649,"reputation":1776,"user_id":944600,"accept_rate":58,"display_name":"Shailesh Vaishampayan"},"score":3,"creation_date":1504221672,"post_id":45490316,"comment_id":78942913,"body_markdown":"Does it really make sense to use join or get as both block on the thread. Can&#39;t we instead make this asynchronous by using other composition methods to create a chain of asynchronous functions.ofvourse it depends on functionality. But in case of e.g. a service method in spring called by controller method returning completeable future it makes more sense to not call get or join in service method at all .does it?","body":"Does it really make sense to use join or get as both block on the thread. Can&#39;t we instead make this asynchronous by using other composition methods to create a chain of asynchronous functions.ofvourse it depends on functionality. But in case of e.g. a service method in spring called by controller method returning completeable future it makes more sense to not call get or join in service method at all .does it?"}],"answers":[{"comments":[{"owner":{"account_id":184786,"reputation":18896,"user_id":421049,"accept_rate":50,"display_name":"Garret Wilson"},"score":0,"creation_date":1697750884,"post_id":47463228,"comment_id":136322696,"body_markdown":"The part about `exceptionally()` is a bit distracting because it isn&#39;t relevant, as `exceptionally(…)` can be used with either `get()` or with `join()`. Perhaps you were trying to add additional commentary that `exceptionally()` is a different approach for handling `CompletableFuture` entirely; if so, it might help to clarify this and set it apart from the main answer. Nevertheless, there are even addition approaches to error handling with `CompletableFuture`, I&#39;m not sure arbitrarily listing one of them really adds to the answer.","body":"The part about <code>exceptionally()</code> is a bit distracting because it isn&#39;t relevant, as <code>exceptionally(…)</code> can be used with either <code>get()</code> or with <code>join()</code>. Perhaps you were trying to add additional commentary that <code>exceptionally()</code> is a different approach for handling <code>CompletableFuture</code> entirely; if so, it might help to clarify this and set it apart from the main answer. Nevertheless, there are even addition approaches to error handling with <code>CompletableFuture</code>, I&#39;m not sure arbitrarily listing one of them really adds to the answer."}],"tags":[],"owner":{"account_id":12332742,"reputation":1901,"user_id":8998112,"display_name":"Dawid Wr&#243;blewski"},"comment_count":1,"down_vote_count":0,"up_vote_count":190,"is_accepted":false,"score":190,"last_activity_date":1628860211,"creation_date":1511471036,"answer_id":47463228,"question_id":45490316,"body_markdown":"The only difference is how methods throw exceptions. `get()` is declared in `Future` interface as:\r\n\r\n    V get() throws InterruptedException, ExecutionException;\r\n\r\nThe exceptions are both **checked** exceptions which means they need to be handled in your code. As you can see in your code, an automatic code generator in your IDE asked to create try-catch block on your behalf.\r\n\r\n    try {\r\n      CompletableFuture.allOf(fanoutRequestList).get() \r\n    } catch (InterruptedException | ExecutionException e) {\r\n      // TODO Auto-generated catch block\r\n      e.printStackTrace();\r\n    }\r\n\r\nThe `join()` method doesn&#39;t throw **checked** exceptions.\r\n\r\n    public T join()\r\n\r\nInstead it throws **unchecked** `CompletionException`. So you do not need a try-catch block and instead you can fully harness `exceptionally()` method when using the disscused `List&lt;String&gt; process` function\r\n\r\n    CompletableFuture&lt;List&lt;String&gt;&gt; cf = CompletableFuture\r\n        .supplyAsync(this::process)\r\n        .exceptionally(this::getFallbackListOfStrings) // Here you can catch e.g. {@code join}&#39;s CompletionException\r\n        .thenAccept(this::processFurther);\r\n\r\nYou can find both `get()` and `join()` implementation [here][1].\r\n\r\n  [1]: http://hg.openjdk.java.net/jdk8/jdk8/jdk/file/687fd7c7986d/src/share/classes/java/util/concurrent/CompletableFuture.java","title":"CompletableFuture&lt;T&gt; class: join() vs get()","body":"<p>The only difference is how methods throw exceptions. <code>get()</code> is declared in <code>Future</code> interface as:</p>\n<pre><code>V get() throws InterruptedException, ExecutionException;\n</code></pre>\n<p>The exceptions are both <strong>checked</strong> exceptions which means they need to be handled in your code. As you can see in your code, an automatic code generator in your IDE asked to create try-catch block on your behalf.</p>\n<pre><code>try {\n  CompletableFuture.allOf(fanoutRequestList).get() \n} catch (InterruptedException | ExecutionException e) {\n  // TODO Auto-generated catch block\n  e.printStackTrace();\n}\n</code></pre>\n<p>The <code>join()</code> method doesn't throw <strong>checked</strong> exceptions.</p>\n<pre><code>public T join()\n</code></pre>\n<p>Instead it throws <strong>unchecked</strong> <code>CompletionException</code>. So you do not need a try-catch block and instead you can fully harness <code>exceptionally()</code> method when using the disscused <code>List&lt;String&gt; process</code> function</p>\n<pre><code>CompletableFuture&lt;List&lt;String&gt;&gt; cf = CompletableFuture\n    .supplyAsync(this::process)\n    .exceptionally(this::getFallbackListOfStrings) // Here you can catch e.g. {@code join}'s CompletionException\n    .thenAccept(this::processFurther);\n</code></pre>\n<p>You can find both <code>get()</code> and <code>join()</code> implementation <a href=\"http://hg.openjdk.java.net/jdk8/jdk8/jdk/file/687fd7c7986d/src/share/classes/java/util/concurrent/CompletableFuture.java\" rel=\"noreferrer\">here</a>.</p>\n"},{"comments":[{"owner":{"account_id":1713048,"reputation":1374,"user_id":1570688,"accept_rate":86,"display_name":"bluelurker"},"score":3,"creation_date":1662584662,"post_id":70279538,"comment_id":130042666,"body_markdown":"This is a good answer. While it&#39;s mostly recommended to use join one limitation of join is that you can&#39;t set timeout. get helps overcome this limitation.","body":"This is a good answer. While it&#39;s mostly recommended to use join one limitation of join is that you can&#39;t set timeout. get helps overcome this limitation."}],"tags":[],"owner":{"account_id":23027967,"reputation":531,"user_id":17147888,"display_name":"Praj"},"comment_count":1,"down_vote_count":0,"up_vote_count":19,"is_accepted":false,"score":19,"last_activity_date":1639027391,"creation_date":1638985822,"answer_id":70279538,"question_id":45490316,"body_markdown":"In addition to the answer provided by Dawid, the get method is available in two flavors: \r\n\r\n    get()\r\n    get(Long timeout, TimeUnit timeUnit) \r\n\r\nThe second **get** takes wait time as an argument and waits for at most the provided wait time. \r\n\r\n    try {\r\n        System.out.println(cf.get(1000, TimeUnit.MILLISECONDS));\r\n    } catch (InterruptedException | ExecutionException | TimeoutException ex) {\r\n        ex.printStackTrace();\r\n    }\r\n\r\nYou can refer to [this documentation][1] for more information.\r\n\r\n1. join()&#160;is defined in&#160;CompletableFuture&#160;whereas&#160;get()&#160;comes from interface&#160;Future\r\n2. join()&#160;throws unchecked exception whereas&#160;get()&#160;throws checked exceptions\r\n3. You can interrupt get()&#160;and then throws an&#160;InterruptedException\r\n4. get() method allows to specify the maximum wait time\r\n \r\n\r\n\r\n  [1]: https://tedblob.com/completablefuture-join-vs-get/","title":"CompletableFuture&lt;T&gt; class: join() vs get()","body":"<p>In addition to the answer provided by Dawid, the get method is available in two flavors:</p>\n<pre><code>get()\nget(Long timeout, TimeUnit timeUnit) \n</code></pre>\n<p>The second <strong>get</strong> takes wait time as an argument and waits for at most the provided wait time.</p>\n<pre><code>try {\n    System.out.println(cf.get(1000, TimeUnit.MILLISECONDS));\n} catch (InterruptedException | ExecutionException | TimeoutException ex) {\n    ex.printStackTrace();\n}\n</code></pre>\n<p>You can refer to <a href=\"https://tedblob.com/completablefuture-join-vs-get/\" rel=\"noreferrer\">this documentation</a> for more information.</p>\n<ol>\n<li>join() is defined in CompletableFuture whereas get() comes from interface Future</li>\n<li>join() throws unchecked exception whereas get() throws checked exceptions</li>\n<li>You can interrupt get() and then throws an InterruptedException</li>\n<li>get() method allows to specify the maximum wait time</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":184786,"reputation":18896,"user_id":421049,"accept_rate":50,"display_name":"Garret Wilson"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1697752407,"creation_date":1697752407,"answer_id":77327286,"question_id":45490316,"body_markdown":"The other answers talk about &quot;one of the methods uses checked exceptions; the other does not&quot;, which is true, but misses some of the subtleties.\r\n\r\nBased upon reading the [documentation][1], let me try to break it down succinctly:\r\n\r\n* If the underlying task producing the value throws an exception, both [`get()`][2] and [`join()`][3] will throw a &quot;wrapper exception&quot; containing the thrown exception. In the case of `get()`, the wrapper exception will be an `ExecutionException`, which is a checked exception; in the case of `join()`, it will be a `CompletionException`, which is an unchecked exception. In either case, the wrapped exception (originating in the underlying task) will be the same.\r\n* It appears the `join()` _cannot_ throw an `InterruptedException`; see [CompletableFuture join vs get differences][4] for sample code.\r\n* Either method can throw a `CancellationException`.\r\n\r\nTo summarize, `join()` is a &quot;simplified&quot; form of `get()` that doesn&#39;t throw `InterruptedException`, and returns its value in an unchecked `CompletionException`. If you use instead `get()`, you&#39;ll be forced not only to catch an `ExecutionException` (which will contain the same wrapped exception as `CompletionException` would), but also catch `InterruptedException`.\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/CompletableFuture.html\r\n  [2]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/CompletableFuture.html#get()\r\n  [3]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/CompletableFuture.html#join()\r\n  [4]: https://tedblob.com/completablefuture-join-vs-get/","title":"CompletableFuture&lt;T&gt; class: join() vs get()","body":"<p>The other answers talk about &quot;one of the methods uses checked exceptions; the other does not&quot;, which is true, but misses some of the subtleties.</p>\n<p>Based upon reading the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/CompletableFuture.html\" rel=\"nofollow noreferrer\">documentation</a>, let me try to break it down succinctly:</p>\n<ul>\n<li>If the underlying task producing the value throws an exception, both <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/CompletableFuture.html#get()\" rel=\"nofollow noreferrer\"><code>get()</code></a> and <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/CompletableFuture.html#join()\" rel=\"nofollow noreferrer\"><code>join()</code></a> will throw a &quot;wrapper exception&quot; containing the thrown exception. In the case of <code>get()</code>, the wrapper exception will be an <code>ExecutionException</code>, which is a checked exception; in the case of <code>join()</code>, it will be a <code>CompletionException</code>, which is an unchecked exception. In either case, the wrapped exception (originating in the underlying task) will be the same.</li>\n<li>It appears the <code>join()</code> <em>cannot</em> throw an <code>InterruptedException</code>; see <a href=\"https://tedblob.com/completablefuture-join-vs-get/\" rel=\"nofollow noreferrer\">CompletableFuture join vs get differences</a> for sample code.</li>\n<li>Either method can throw a <code>CancellationException</code>.</li>\n</ul>\n<p>To summarize, <code>join()</code> is a &quot;simplified&quot; form of <code>get()</code> that doesn't throw <code>InterruptedException</code>, and returns its value in an unchecked <code>CompletionException</code>. If you use instead <code>get()</code>, you'll be forced not only to catch an <code>ExecutionException</code> (which will contain the same wrapped exception as <code>CompletionException</code> would), but also catch <code>InterruptedException</code>.</p>\n"}],"owner":{"account_id":8706767,"reputation":1881,"user_id":6514464,"display_name":"Nomeswaran"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":101186,"favorite_count":0,"down_vote_count":0,"up_vote_count":187,"answer_count":3,"score":187,"last_activity_date":1697752407,"creation_date":1501779063,"question_id":45490316,"body_markdown":"What is the difference between the `get()` and `join()` methods of the `CompletableFuture&lt;T&gt;` class?\r\n\r\nBelow is the my code:\r\n\r\n\tList&lt;String&gt; process() {\r\n\r\n\t\tList&lt;String&gt; messages = Arrays.asList(&quot;Msg1&quot;, &quot;Msg2&quot;, &quot;Msg3&quot;, &quot;Msg4&quot;, &quot;Msg5&quot;, &quot;Msg6&quot;, &quot;Msg7&quot;, &quot;Msg8&quot;, &quot;Msg9&quot;,\r\n\t\t\t\t&quot;Msg10&quot;, &quot;Msg11&quot;, &quot;Msg12&quot;);\r\n\t\tMessageService messageService = new MessageService();\r\n\t\tExecutorService executor = Executors.newFixedThreadPool(4);\r\n\r\n\t\tList&lt;String&gt; mapResult = new ArrayList&lt;&gt;();\r\n\r\n\t\tCompletableFuture&lt;?&gt;[] fanoutRequestList = new CompletableFuture[messages.size()];\r\n\t\tint count = 0;\r\n\t\tfor (String msg : messages) {\r\n\t\t\tCompletableFuture&lt;?&gt; future = CompletableFuture\r\n\t\t\t\t\t.supplyAsync(() -&gt; messageService.sendNotification(msg), executor).exceptionally(ex -&gt; &quot;Error&quot;)\r\n\t\t\t\t\t.thenAccept(mapResult::add);\r\n\r\n\t\t\tfanoutRequestList[count++] = future;\r\n\t\t}\r\n\r\n\t\ttry {\r\n\t\t\tCompletableFuture.allOf(fanoutRequestList).get();\r\n          //CompletableFuture.allOf(fanoutRequestList).join();\r\n\t\t} catch (InterruptedException | ExecutionException e) {\r\n\t\t\t// TODO Auto-generated catch block\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\r\n\t\treturn mapResult.stream().filter(s -&gt; !s.equalsIgnoreCase(&quot;Error&quot;)).collect(Collectors.toList());\r\n\t}\r\n\r\n\r\nI have tried with both methods but I see no difference in result. ","title":"CompletableFuture&lt;T&gt; class: join() vs get()","body":"<p>What is the difference between the <code>get()</code> and <code>join()</code> methods of the <code>CompletableFuture&lt;T&gt;</code> class?</p>\n<p>Below is the my code:</p>\n<pre><code>List&lt;String&gt; process() {\n\n    List&lt;String&gt; messages = Arrays.asList(&quot;Msg1&quot;, &quot;Msg2&quot;, &quot;Msg3&quot;, &quot;Msg4&quot;, &quot;Msg5&quot;, &quot;Msg6&quot;, &quot;Msg7&quot;, &quot;Msg8&quot;, &quot;Msg9&quot;,\n            &quot;Msg10&quot;, &quot;Msg11&quot;, &quot;Msg12&quot;);\n    MessageService messageService = new MessageService();\n    ExecutorService executor = Executors.newFixedThreadPool(4);\n\n    List&lt;String&gt; mapResult = new ArrayList&lt;&gt;();\n\n    CompletableFuture&lt;?&gt;[] fanoutRequestList = new CompletableFuture[messages.size()];\n    int count = 0;\n    for (String msg : messages) {\n        CompletableFuture&lt;?&gt; future = CompletableFuture\n                .supplyAsync(() -&gt; messageService.sendNotification(msg), executor).exceptionally(ex -&gt; &quot;Error&quot;)\n                .thenAccept(mapResult::add);\n\n        fanoutRequestList[count++] = future;\n    }\n\n    try {\n        CompletableFuture.allOf(fanoutRequestList).get();\n      //CompletableFuture.allOf(fanoutRequestList).join();\n    } catch (InterruptedException | ExecutionException e) {\n        // TODO Auto-generated catch block\n        e.printStackTrace();\n    }\n\n    return mapResult.stream().filter(s -&gt; !s.equalsIgnoreCase(&quot;Error&quot;)).collect(Collectors.toList());\n}\n</code></pre>\n<p>I have tried with both methods but I see no difference in result.</p>\n"},{"tags":["java","android","android-recyclerview","android-videoview"],"owner":{"account_id":18144463,"reputation":390,"user_id":13197940,"display_name":"Daniel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":14,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697750700,"creation_date":1697750700,"question_id":77327180,"body_markdown":"A VideoView, I played in a RecyclerView.ViewHolder, does not play. Here my source code:\r\n\r\n```\r\nif (holder instanceof VideoViewHolder) {\r\n            VideoViewHolder itemViewHolder = (VideoViewHolder) holder;\r\n            dateTextView = itemViewHolder.item.tvTime;\r\n            contentTextView = itemViewHolder.item.tvText;\r\n            btnShowMore = itemViewHolder.item.btnShowMore;\r\n\r\n            if (mode == MODE_NORMAL) {\r\n                String videoUrl = newsMessage.getVideo();\r\n\r\n                if (videoUrl != null) {\r\n                    itemViewHolder.item.btnPlay.setVisibility(View.GONE);\r\n                    itemViewHolder.item.btnPause.setVisibility(View.GONE);\r\n\r\n                    // Set the video URI\r\n                    itemViewHolder.item.videoView.setVideoURI(Uri.parse(videoUrl));\r\n\r\n                    // Handle video loading error\r\n                    itemViewHolder.item.videoView.setOnErrorListener((mediaPlayer, i, i1) -&gt; {\r\n                        itemViewHolder.item.containerVideo.setVisibility(View.GONE);\r\n                        itemViewHolder.item.containerError.setVisibility(View.VISIBLE);\r\n\r\n                        return true;\r\n                    });\r\n\r\n                    // Update UI when playback is ready\r\n                    itemViewHolder.item.videoView.setOnPreparedListener(mp -&gt; {\r\n                        itemViewHolder.item.videoProgressBar.setVisibility(View.GONE);\r\n                        itemViewHolder.item.btnPlay.setVisibility(View.VISIBLE);\r\n                        itemViewHolder.item.videoOverlay.setVisibility(View.VISIBLE);\r\n\r\n                        itemViewHolder.item.videoView.start();\r\n                        itemViewHolder.item.videoView.pause();\r\n                    });\r\n\r\n                    // Update UI when when playback completed\r\n                    itemViewHolder.item.videoView.setOnCompletionListener(mp -&gt; {\r\n                        itemViewHolder.videoPlaying = false;\r\n\r\n                        itemViewHolder.item.btnPause.setVisibility(View.GONE);\r\n                        itemViewHolder.item.btnPlay.setVisibility(View.VISIBLE);\r\n                        itemViewHolder.item.videoOverlay.setVisibility(View.VISIBLE);\r\n                    });\r\n\r\n                    // Start playback when play button is pressed\r\n                    itemViewHolder.item.btnPlay.setOnClickListener(v -&gt; {\r\n                        itemViewHolder.item.videoView.start();\r\n                        itemViewHolder.videoPlaying = true;\r\n\r\n                        itemViewHolder.item.btnPlay.setVisibility(View.GONE);\r\n                        itemViewHolder.item.btnPause.setVisibility(View.GONE);\r\n                        itemViewHolder.item.videoOverlay.setVisibility(View.GONE);\r\n                    });\r\n\r\n                    // Stop playback when pause button is pressed\r\n                    itemViewHolder.item.btnPause.setOnClickListener(v -&gt; {\r\n                        itemViewHolder.item.btnPause.setVisibility(View.GONE);\r\n                        itemViewHolder.item.btnPlay.setVisibility(View.VISIBLE);\r\n                        itemViewHolder.item.videoOverlay.setVisibility(View.VISIBLE);\r\n\r\n                        itemViewHolder.item.videoView.pause();\r\n                        itemViewHolder.videoPlaying = false;\r\n                    });\r\n\r\n                    // Show play or pause button (depending on playback state) when touching the video view\r\n                    itemViewHolder.item.videoView.setOnClickListener(v -&gt; {\r\n                        if (itemViewHolder.videoPlaying) {\r\n                            if (itemViewHolder.item.btnPause.getVisibility() == View.GONE) {\r\n                                itemViewHolder.item.btnPause.setVisibility(View.VISIBLE);\r\n                                itemViewHolder.item.videoOverlay.setVisibility(View.VISIBLE);\r\n                            } else {\r\n                                itemViewHolder.item.btnPause.setVisibility(View.GONE);\r\n                                itemViewHolder.item.videoOverlay.setVisibility(View.GONE);\r\n                            }\r\n                        }\r\n                    });\r\n\r\n                    itemViewHolder.item.containerVideo.setVisibility(View.VISIBLE);\r\n                    itemViewHolder.item.containerError.setVisibility(View.GONE);\r\n                } else {\r\n                    itemViewHolder.item.containerVideo.setVisibility(View.GONE);\r\n                    itemViewHolder.item.containerError.setVisibility(View.VISIBLE);\r\n                }\r\n            } else {\r\n                itemViewHolder.item.containerVideo.setVisibility(View.GONE);\r\n                itemViewHolder.item.containerError.setVisibility(View.GONE);\r\n            }\r\n        }\r\n```\r\n\r\nThe problem is, that I also have another ReyclerView in which the video plays. The URL is not broken, and returns HTTP 200. I have been searching for a solution for hours. Any ideas where the problem is? I really have no Idea anymore.","title":"VideoView in RecyclerView Adapter does not play","body":"<p>A VideoView, I played in a RecyclerView.ViewHolder, does not play. Here my source code:</p>\n<pre><code>if (holder instanceof VideoViewHolder) {\n            VideoViewHolder itemViewHolder = (VideoViewHolder) holder;\n            dateTextView = itemViewHolder.item.tvTime;\n            contentTextView = itemViewHolder.item.tvText;\n            btnShowMore = itemViewHolder.item.btnShowMore;\n\n            if (mode == MODE_NORMAL) {\n                String videoUrl = newsMessage.getVideo();\n\n                if (videoUrl != null) {\n                    itemViewHolder.item.btnPlay.setVisibility(View.GONE);\n                    itemViewHolder.item.btnPause.setVisibility(View.GONE);\n\n                    // Set the video URI\n                    itemViewHolder.item.videoView.setVideoURI(Uri.parse(videoUrl));\n\n                    // Handle video loading error\n                    itemViewHolder.item.videoView.setOnErrorListener((mediaPlayer, i, i1) -&gt; {\n                        itemViewHolder.item.containerVideo.setVisibility(View.GONE);\n                        itemViewHolder.item.containerError.setVisibility(View.VISIBLE);\n\n                        return true;\n                    });\n\n                    // Update UI when playback is ready\n                    itemViewHolder.item.videoView.setOnPreparedListener(mp -&gt; {\n                        itemViewHolder.item.videoProgressBar.setVisibility(View.GONE);\n                        itemViewHolder.item.btnPlay.setVisibility(View.VISIBLE);\n                        itemViewHolder.item.videoOverlay.setVisibility(View.VISIBLE);\n\n                        itemViewHolder.item.videoView.start();\n                        itemViewHolder.item.videoView.pause();\n                    });\n\n                    // Update UI when when playback completed\n                    itemViewHolder.item.videoView.setOnCompletionListener(mp -&gt; {\n                        itemViewHolder.videoPlaying = false;\n\n                        itemViewHolder.item.btnPause.setVisibility(View.GONE);\n                        itemViewHolder.item.btnPlay.setVisibility(View.VISIBLE);\n                        itemViewHolder.item.videoOverlay.setVisibility(View.VISIBLE);\n                    });\n\n                    // Start playback when play button is pressed\n                    itemViewHolder.item.btnPlay.setOnClickListener(v -&gt; {\n                        itemViewHolder.item.videoView.start();\n                        itemViewHolder.videoPlaying = true;\n\n                        itemViewHolder.item.btnPlay.setVisibility(View.GONE);\n                        itemViewHolder.item.btnPause.setVisibility(View.GONE);\n                        itemViewHolder.item.videoOverlay.setVisibility(View.GONE);\n                    });\n\n                    // Stop playback when pause button is pressed\n                    itemViewHolder.item.btnPause.setOnClickListener(v -&gt; {\n                        itemViewHolder.item.btnPause.setVisibility(View.GONE);\n                        itemViewHolder.item.btnPlay.setVisibility(View.VISIBLE);\n                        itemViewHolder.item.videoOverlay.setVisibility(View.VISIBLE);\n\n                        itemViewHolder.item.videoView.pause();\n                        itemViewHolder.videoPlaying = false;\n                    });\n\n                    // Show play or pause button (depending on playback state) when touching the video view\n                    itemViewHolder.item.videoView.setOnClickListener(v -&gt; {\n                        if (itemViewHolder.videoPlaying) {\n                            if (itemViewHolder.item.btnPause.getVisibility() == View.GONE) {\n                                itemViewHolder.item.btnPause.setVisibility(View.VISIBLE);\n                                itemViewHolder.item.videoOverlay.setVisibility(View.VISIBLE);\n                            } else {\n                                itemViewHolder.item.btnPause.setVisibility(View.GONE);\n                                itemViewHolder.item.videoOverlay.setVisibility(View.GONE);\n                            }\n                        }\n                    });\n\n                    itemViewHolder.item.containerVideo.setVisibility(View.VISIBLE);\n                    itemViewHolder.item.containerError.setVisibility(View.GONE);\n                } else {\n                    itemViewHolder.item.containerVideo.setVisibility(View.GONE);\n                    itemViewHolder.item.containerError.setVisibility(View.VISIBLE);\n                }\n            } else {\n                itemViewHolder.item.containerVideo.setVisibility(View.GONE);\n                itemViewHolder.item.containerError.setVisibility(View.GONE);\n            }\n        }\n</code></pre>\n<p>The problem is, that I also have another ReyclerView in which the video plays. The URL is not broken, and returns HTTP 200. I have been searching for a solution for hours. Any ideas where the problem is? I really have no Idea anymore.</p>\n"},{"tags":["java","java-threads","android-thread","android-threading"],"comments":[{"owner":{"account_id":108033,"reputation":17201,"user_id":286934,"display_name":"Progman"},"score":1,"creation_date":1697739467,"post_id":77325919,"comment_id":136321055,"body_markdown":"Please [edit] your question to include your source code as a working [mcve], which can be compiled and tested by others.","body":"Please <a href=\"https://stackoverflow.com/posts/77325919/edit\">edit</a> your question to include your source code as a working <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>, which can be compiled and tested by others."},{"owner":{"account_id":8909811,"reputation":2612,"user_id":6650475,"display_name":"Andrew S"},"score":2,"creation_date":1697743472,"post_id":77325919,"comment_id":136321681,"body_markdown":"From this Baeldung [article](https://www.baeldung.com/java-synchronized#:~:text=When%20we%20use%20a%20synchronized,them%20at%20the%20same%20time.) :  _all synchronized blocks of the same object can have only one thread executing them at the same time_  So the current thread is already in a synchronized method, and the new thread cannot execute the other synchronized method since it&#39;s the same object.","body":"From this Baeldung <a href=\"https://www.baeldung.com/java-synchronized#:~:text=When%20we%20use%20a%20synchronized,them%20at%20the%20same%20time.\" rel=\"nofollow noreferrer\">article</a> :  <i>all synchronized blocks of the same object can have only one thread executing them at the same time</i>  So the current thread is already in a synchronized method, and the new thread cannot execute the other synchronized method since it&#39;s the same object."},{"owner":{"account_id":145567,"reputation":17881,"user_id":355456,"accept_rate":70,"display_name":"Hong"},"score":0,"creation_date":1697745508,"post_id":77325919,"comment_id":136321967,"body_markdown":"@Progman I edited the code so that the two methods can be copied to any class and fooMethod can be called anywhere to reproduce this.","body":"@Progman I edited the code so that the two methods can be copied to any class and fooMethod can be called anywhere to reproduce this."},{"owner":{"account_id":145567,"reputation":17881,"user_id":355456,"accept_rate":70,"display_name":"Hong"},"score":0,"creation_date":1697745686,"post_id":77325919,"comment_id":136321987,"body_markdown":"@AndrewS That makes sense. Could you turn your comment into an answer for me to accept?","body":"@AndrewS That makes sense. Could you turn your comment into an answer for me to accept?"},{"owner":{"account_id":108033,"reputation":17201,"user_id":286934,"display_name":"Progman"},"score":0,"creation_date":1697747564,"post_id":77325919,"comment_id":136322249,"body_markdown":"@Hong The problem is not reproducible. Please edit your question to include the source code where the `dummyMethod()` is called once immediately and then called additional nine times after your `fooMethod()` method has finished.","body":"@Hong The problem is not reproducible. Please edit your question to include the source code where the <code>dummyMethod()</code> is called once immediately and then called additional nine times after your <code>fooMethod()</code> method has finished."},{"owner":{"account_id":2645973,"reputation":65777,"user_id":2288659,"accept_rate":90,"display_name":"Silvio Mayolo"},"score":2,"creation_date":1697748048,"post_id":77325919,"comment_id":136322317,"body_markdown":"The crux here is that synchronizing on the same object twice in the *same* thread is a no-op (the inner `synchronized` block just knows not to do anything). But synchronizing on the same object in a brand new thread requires blocking.","body":"The crux here is that synchronizing on the same object twice in the <i>same</i> thread is a no-op (the inner <code>synchronized</code> block just knows not to do anything). But synchronizing on the same object in a brand new thread requires blocking."},{"owner":{"account_id":1079173,"reputation":42590,"user_id":1076640,"display_name":"yshavit"},"score":0,"creation_date":1697749420,"post_id":77325919,"comment_id":136322509,"body_markdown":"@Progman Thank you! I was really starting to doubt my sanity looking at OP&#39;s code and wondering how it&#39;s possibly logging immediately in the second block.","body":"@Progman Thank you! I was really starting to doubt my sanity looking at OP&#39;s code and wondering how it&#39;s possibly logging immediately in the second block."}],"answers":[{"comments":[{"owner":{"account_id":145567,"reputation":17881,"user_id":355456,"accept_rate":70,"display_name":"Hong"},"score":0,"creation_date":1697749412,"post_id":77326781,"comment_id":136322506,"body_markdown":"Thanks a lot for the excellent elucidation. I wish I could accept two answers.","body":"Thanks a lot for the excellent elucidation. I wish I could accept two answers."}],"tags":[],"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1697750608,"creation_date":1697745863,"answer_id":77326781,"question_id":77325919,"body_markdown":"[Caveat: I am not an expert on Java concurrency.]\r\n\r\nI made a complete self-contained version of your code.\r\n\r\nThis code uses [`CopyOnWriteArrayList`][1] as a thread-safe log.\r\n\r\n```java\r\npackage work.basil.example.threading;\r\n\r\nimport java.time.Duration;\r\nimport java.time.Instant;\r\nimport java.util.SequencedCollection;\r\nimport java.util.concurrent.CopyOnWriteArrayList;\r\n\r\npublic class App\r\n{\r\n    private SequencedCollection &lt; String &gt; log = new CopyOnWriteArrayList &lt;&gt; ( );  // Thread-safe `List` implementation.\r\n\r\n    public static void main ( String[] args )\r\n    {\r\n        App app = new App ( );\r\n        app.demo ( );\r\n    }\r\n\r\n    private void demo ( )\r\n    {\r\n        this.log.add ( &quot;info | demo start | &quot; + Instant.now ( ) );\r\n//        this.fooMethod ( );\r\n        this.fooMethodThreaded ();\r\n        this.log.add ( &quot;info | demo end | &quot; + Instant.now ( ) );\r\n        log.forEach ( System.out :: println );\r\n    }\r\n\r\n    private synchronized void dummyMethod ( )\r\n    {\r\n        this.log.add ( &quot;debug | do nothing in dummyMethod() | &quot; + Instant.now ( ) );\r\n    }\r\n\r\n    private synchronized void fooMethod ( )\r\n    {\r\n        for ( int i = 0 ; i &lt; 10 ; i++ ) dummyMethod ( );\r\n        try { Thread.sleep ( Duration.ofSeconds ( 10 ) ); } catch ( InterruptedException e ) { throw new RuntimeException ( e ); }\r\n        this.log.add ( &quot;debug | fooMethod() finished | &quot; + Instant.now ( ) );\r\n    }\r\n\r\n    private synchronized void fooMethodThreaded ( )\r\n    {\r\n        new Thread ( ( ) -&gt;\r\n        {\r\n            for ( int i = 0 ; i &lt; 10 ; i++ ) dummyMethod ( );\r\n        } ).start ( );\r\n        try { Thread.sleep ( Duration.ofSeconds ( 10 ) ); } catch ( InterruptedException e ) { throw new RuntimeException ( e ); }\r\n        this.log.add ( &quot;debug | fooMethodThreaded() finished | &quot; + Instant.now ( ) );\r\n    }\r\n}\r\n```\r\n\r\nWhen run:\r\n\r\n```none\r\ninfo | demo start | 2023-10-19T19:42:38.662271Z\r\ndebug | fooMethodThreaded() finished | 2023-10-19T19:42:48.708631Z\r\ninfo | demo end | 2023-10-19T19:42:48.709687Z\r\ndebug | do nothing in dummyMethod() | 2023-10-19T19:42:48.714712Z\r\ndebug | do nothing in dummyMethod() | 2023-10-19T19:42:48.715071Z\r\ndebug | do nothing in dummyMethod() | 2023-10-19T19:42:48.715137Z\r\ndebug | do nothing in dummyMethod() | 2023-10-19T19:42:48.715205Z\r\ndebug | do nothing in dummyMethod() | 2023-10-19T19:42:48.715264Z\r\ndebug | do nothing in dummyMethod() | 2023-10-19T19:42:48.715321Z\r\n```\r\n\r\nExamine the timestamps. Notice that after the demo starts nothing gets logged for a full ten seconds. Why the wait? We have to look at a few facts.\r\n\r\nBe aware that our two methods, `dummyMethod` &amp; `fooMethodThreaded`, are both instance methods on the same class, `App`, and both are declared as `synchronized`. Synchronized methods on the same class will synchronize on the whole instance, not on each method separately. So, synchronized methods on the same object will block each other; only one can run at a time. See [*Java synchronized method lock on object, or method?*](https://stackoverflow.com/q/3047564/642706).\r\n\r\nAdd the fact noted in the [Comment by Andrew S][2]: \r\n\r\n&gt; all synchronized blocks of the same object can have only one thread executing them at the same time\r\n\r\nYou have an instance of `App` running in the main thread. There we run the `fooMethodThreaded` method. That `synchronized` method gets a lock on our one and only `App` instance. Then we spawn a thread to run the other method `dummyMethod` on the same single instance of `App`. \r\n\r\nAt this point, we now we have a lock conflict. The `fooMethodThreaded` already holds the lock on our instance of `App` named `app`. So when the other method  `dummyMethod`, being `synchronized`, tries to obtain the same lock on the same `app` object, it finds the lock already taken. So the `dummyMethod` blocks, waiting for that lock to release.\r\n\r\nAnd so we sit waiting. Meanwhile, the original thread that holds the lock on the singular `App` instance named `app` is sleeping. That main thread sleeps for ten seconds. At the end of that ten seconds, the `fooMethodThreaded` method of our `app` instance exits. The lock on `app` then releases, as the synchronized method exited.\r\n\r\nWith the original lock released, then we see a cascade of log entries as the background thread performs its work, with successive calls to `dummyMethod` able to access the lock on `app` each time. \r\n\r\nNotice that we do *not* see ten entries in the log for &quot;do nothing in dummyMethod()&quot;. That is because our `main` method has moved on to its `log.forEach` *before* the background thread has completed. \r\n\r\n## Solution\r\n\r\nIf you truly wanted to perform this task ten times on background thread(s), I would suggest something like the code seen below. \r\n\r\nIf you want to limit the running of our ten tasks to only ten at a time, use something other than `synchronized` on the method. We have learned that having two methods on the same class using `synchronized` will block each other. That dual-method-blocking is not our goal. So use another approach to locking. One approach is to synchronize on a separate object *within* the method rather than synchronize *on* the method. See [this Answer](https://stackoverflow.com/a/5483385/642706) on the Question, [*Other way to synchronize method*](https://stackoverflow.com/q/5482981/642706). I would prefer using an explicit approach as shown in [this Answer](https://stackoverflow.com/a/5483028/642706) on that same Question. See also another Question, [*can synchronized at method level be replaced by Lock?*](https://stackoverflow.com/q/39983070/642706).\r\n\r\nIn modern Java, we rarely address `Thread` directly. Instead, use the Executors framework added to Java 5. \r\n\r\nTake advantage of the fact that `ExecutorService` recently became `AutoCloseable`. So we can use it in try-with-resources syntax.\r\n\r\nIf your task is not CPU-bound, that is, if it does some blocking, use [virtual threads][3].\r\n\r\n```java\r\nprivate void fooMethodWithExecutorService ( )\r\n{\r\n    this.onlyTenTasksAtATimeLock.lock ( );\r\n    try\r\n    {\r\n        try (\r\n                ExecutorService executorService = Executors.newVirtualThreadPerTaskExecutor ( ) ;\r\n        )\r\n        {\r\n            int countTaskExecutions = 10;\r\n            for ( int index = 0 ; index &lt; countTaskExecutions ; index++ )\r\n            {\r\n                executorService.submit ( this :: dummyMethod );\r\n            }\r\n        }\r\n    }\r\n    finally\r\n    {\r\n        this.onlyTenTasksAtATimeLock.unlock ( );\r\n    }\r\n}\r\n```\r\n\r\nWith this approach, we see the demo start and end at the very start and the very end. And we see each and every desired execution of our task make its entry in the log.\r\n\r\n```none\r\ninfo | demo start | 2023-10-19T21:19:42.158048Z\r\ndebug | do nothing in dummyMethod() | 2023-10-19T21:19:42.165986Z\r\ndebug | do nothing in dummyMethod() | 2023-10-19T21:19:42.166079Z\r\ndebug | do nothing in dummyMethod() | 2023-10-19T21:19:42.166119Z\r\ndebug | do nothing in dummyMethod() | 2023-10-19T21:19:42.166210Z\r\ndebug | do nothing in dummyMethod() | 2023-10-19T21:19:42.166234Z\r\ndebug | do nothing in dummyMethod() | 2023-10-19T21:19:42.166268Z\r\ndebug | do nothing in dummyMethod() | 2023-10-19T21:19:42.166294Z\r\ndebug | do nothing in dummyMethod() | 2023-10-19T21:19:42.166318Z\r\ndebug | do nothing in dummyMethod() | 2023-10-19T21:19:42.166334Z\r\ndebug | do nothing in dummyMethod() | 2023-10-19T21:19:42.166370Z\r\ninfo | demo end | 2023-10-19T21:19:42.166437Z\r\n```\r\n\r\nComplete app code:\r\n\r\n```java\r\npackage work.basil.example.threading;\r\n\r\nimport java.time.Duration;\r\nimport java.time.Instant;\r\nimport java.util.SequencedCollection;\r\nimport java.util.concurrent.CopyOnWriteArrayList;\r\nimport java.util.concurrent.ExecutorService;\r\nimport java.util.concurrent.Executors;\r\nimport java.util.concurrent.locks.Lock;\r\nimport java.util.concurrent.locks.ReentrantLock;\r\n\r\npublic class App\r\n{\r\n    private final SequencedCollection &lt; String &gt; log = new CopyOnWriteArrayList &lt;&gt; ( );  // Thread-safe `List` implementation.\r\n    private final Lock onlyTenTasksAtATimeLock = new ReentrantLock ( );\r\n\r\n    public static void main ( String[] args )\r\n    {\r\n        App app = new App ( );\r\n        app.demo ( );\r\n    }\r\n\r\n    private void demo ( )\r\n    {\r\n        this.log.add ( &quot;info | demo start | &quot; + Instant.now ( ) );\r\n//        this.fooMethod ( );\r\n//        this.fooMethodThreaded ();\r\n        this.fooMethodWithExecutorService ( );\r\n        this.log.add ( &quot;info | demo end | &quot; + Instant.now ( ) );\r\n        log.forEach ( System.out :: println );\r\n    }\r\n\r\n    private void fooMethodWithExecutorService ( )\r\n    {\r\n        this.onlyTenTasksAtATimeLock.lock ( );\r\n        try\r\n        {\r\n            try (\r\n                    ExecutorService executorService = Executors.newVirtualThreadPerTaskExecutor ( ) ;\r\n            )\r\n            {\r\n                int countTaskExecutions = 10;\r\n                for ( int index = 0 ; index &lt; countTaskExecutions ; index++ )\r\n                {\r\n                    executorService.submit ( this :: dummyMethod );\r\n                }\r\n            }\r\n        }\r\n        finally\r\n        {\r\n            this.onlyTenTasksAtATimeLock.unlock ( );\r\n        }\r\n    }\r\n\r\n    private synchronized void dummyMethod ( )\r\n    {\r\n        this.log.add ( &quot;debug | do nothing in dummyMethod() | &quot; + Instant.now ( ) );\r\n    }\r\n\r\n    private synchronized void fooMethod ( )\r\n    {\r\n        for ( int i = 0 ; i &lt; 10 ; i++ ) dummyMethod ( );\r\n        try { Thread.sleep ( Duration.ofSeconds ( 10 ) ); } catch ( InterruptedException e ) { throw new RuntimeException ( e ); }\r\n        this.log.add ( &quot;debug | fooMethod() finished | &quot; + Instant.now ( ) );\r\n    }\r\n\r\n    private synchronized void fooMethodThreaded ( )\r\n    {\r\n        new Thread ( ( ) -&gt;\r\n        {\r\n            for ( int i = 0 ; i &lt; 10 ; i++ ) dummyMethod ( );\r\n        } ).start ( );\r\n        try { Thread.sleep ( Duration.ofSeconds ( 10 ) ); } catch ( InterruptedException e ) { throw new RuntimeException ( e ); }\r\n        this.log.add ( &quot;debug | fooMethodThreaded() finished | &quot; + Instant.now ( ) );\r\n    }\r\n}\r\n```\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/concurrent/CopyOnWriteArrayList.html#add(E)\r\n  [2]: https://stackoverflow.com/questions/77325919/call-a-synchronized-method-with-a-new-thread-in-a-synchronized-method#comment136321681_77325919\r\n  [3]: https://openjdk.org/jeps/444","title":"Call a synchronized method with a new thread in a synchronized method","body":"<p>[Caveat: I am not an expert on Java concurrency.]</p>\n<p>I made a complete self-contained version of your code.</p>\n<p>This code uses <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/concurrent/CopyOnWriteArrayList.html#add(E)\" rel=\"nofollow noreferrer\"><code>CopyOnWriteArrayList</code></a> as a thread-safe log.</p>\n<pre class=\"lang-java prettyprint-override\"><code>package work.basil.example.threading;\n\nimport java.time.Duration;\nimport java.time.Instant;\nimport java.util.SequencedCollection;\nimport java.util.concurrent.CopyOnWriteArrayList;\n\npublic class App\n{\n    private SequencedCollection &lt; String &gt; log = new CopyOnWriteArrayList &lt;&gt; ( );  // Thread-safe `List` implementation.\n\n    public static void main ( String[] args )\n    {\n        App app = new App ( );\n        app.demo ( );\n    }\n\n    private void demo ( )\n    {\n        this.log.add ( &quot;info | demo start | &quot; + Instant.now ( ) );\n//        this.fooMethod ( );\n        this.fooMethodThreaded ();\n        this.log.add ( &quot;info | demo end | &quot; + Instant.now ( ) );\n        log.forEach ( System.out :: println );\n    }\n\n    private synchronized void dummyMethod ( )\n    {\n        this.log.add ( &quot;debug | do nothing in dummyMethod() | &quot; + Instant.now ( ) );\n    }\n\n    private synchronized void fooMethod ( )\n    {\n        for ( int i = 0 ; i &lt; 10 ; i++ ) dummyMethod ( );\n        try { Thread.sleep ( Duration.ofSeconds ( 10 ) ); } catch ( InterruptedException e ) { throw new RuntimeException ( e ); }\n        this.log.add ( &quot;debug | fooMethod() finished | &quot; + Instant.now ( ) );\n    }\n\n    private synchronized void fooMethodThreaded ( )\n    {\n        new Thread ( ( ) -&gt;\n        {\n            for ( int i = 0 ; i &lt; 10 ; i++ ) dummyMethod ( );\n        } ).start ( );\n        try { Thread.sleep ( Duration.ofSeconds ( 10 ) ); } catch ( InterruptedException e ) { throw new RuntimeException ( e ); }\n        this.log.add ( &quot;debug | fooMethodThreaded() finished | &quot; + Instant.now ( ) );\n    }\n}\n</code></pre>\n<p>When run:</p>\n<pre class=\"lang-none prettyprint-override\"><code>info | demo start | 2023-10-19T19:42:38.662271Z\ndebug | fooMethodThreaded() finished | 2023-10-19T19:42:48.708631Z\ninfo | demo end | 2023-10-19T19:42:48.709687Z\ndebug | do nothing in dummyMethod() | 2023-10-19T19:42:48.714712Z\ndebug | do nothing in dummyMethod() | 2023-10-19T19:42:48.715071Z\ndebug | do nothing in dummyMethod() | 2023-10-19T19:42:48.715137Z\ndebug | do nothing in dummyMethod() | 2023-10-19T19:42:48.715205Z\ndebug | do nothing in dummyMethod() | 2023-10-19T19:42:48.715264Z\ndebug | do nothing in dummyMethod() | 2023-10-19T19:42:48.715321Z\n</code></pre>\n<p>Examine the timestamps. Notice that after the demo starts nothing gets logged for a full ten seconds. Why the wait? We have to look at a few facts.</p>\n<p>Be aware that our two methods, <code>dummyMethod</code> &amp; <code>fooMethodThreaded</code>, are both instance methods on the same class, <code>App</code>, and both are declared as <code>synchronized</code>. Synchronized methods on the same class will synchronize on the whole instance, not on each method separately. So, synchronized methods on the same object will block each other; only one can run at a time. See <a href=\"https://stackoverflow.com/q/3047564/642706\"><em>Java synchronized method lock on object, or method?</em></a>.</p>\n<p>Add the fact noted in the <a href=\"https://stackoverflow.com/questions/77325919/call-a-synchronized-method-with-a-new-thread-in-a-synchronized-method#comment136321681_77325919\">Comment by Andrew S</a>:</p>\n<blockquote>\n<p>all synchronized blocks of the same object can have only one thread executing them at the same time</p>\n</blockquote>\n<p>You have an instance of <code>App</code> running in the main thread. There we run the <code>fooMethodThreaded</code> method. That <code>synchronized</code> method gets a lock on our one and only <code>App</code> instance. Then we spawn a thread to run the other method <code>dummyMethod</code> on the same single instance of <code>App</code>.</p>\n<p>At this point, we now we have a lock conflict. The <code>fooMethodThreaded</code> already holds the lock on our instance of <code>App</code> named <code>app</code>. So when the other method  <code>dummyMethod</code>, being <code>synchronized</code>, tries to obtain the same lock on the same <code>app</code> object, it finds the lock already taken. So the <code>dummyMethod</code> blocks, waiting for that lock to release.</p>\n<p>And so we sit waiting. Meanwhile, the original thread that holds the lock on the singular <code>App</code> instance named <code>app</code> is sleeping. That main thread sleeps for ten seconds. At the end of that ten seconds, the <code>fooMethodThreaded</code> method of our <code>app</code> instance exits. The lock on <code>app</code> then releases, as the synchronized method exited.</p>\n<p>With the original lock released, then we see a cascade of log entries as the background thread performs its work, with successive calls to <code>dummyMethod</code> able to access the lock on <code>app</code> each time.</p>\n<p>Notice that we do <em>not</em> see ten entries in the log for &quot;do nothing in dummyMethod()&quot;. That is because our <code>main</code> method has moved on to its <code>log.forEach</code> <em>before</em> the background thread has completed.</p>\n<h2>Solution</h2>\n<p>If you truly wanted to perform this task ten times on background thread(s), I would suggest something like the code seen below.</p>\n<p>If you want to limit the running of our ten tasks to only ten at a time, use something other than <code>synchronized</code> on the method. We have learned that having two methods on the same class using <code>synchronized</code> will block each other. That dual-method-blocking is not our goal. So use another approach to locking. One approach is to synchronize on a separate object <em>within</em> the method rather than synchronize <em>on</em> the method. See <a href=\"https://stackoverflow.com/a/5483385/642706\">this Answer</a> on the Question, <a href=\"https://stackoverflow.com/q/5482981/642706\"><em>Other way to synchronize method</em></a>. I would prefer using an explicit approach as shown in <a href=\"https://stackoverflow.com/a/5483028/642706\">this Answer</a> on that same Question. See also another Question, <a href=\"https://stackoverflow.com/q/39983070/642706\"><em>can synchronized at method level be replaced by Lock?</em></a>.</p>\n<p>In modern Java, we rarely address <code>Thread</code> directly. Instead, use the Executors framework added to Java 5.</p>\n<p>Take advantage of the fact that <code>ExecutorService</code> recently became <code>AutoCloseable</code>. So we can use it in try-with-resources syntax.</p>\n<p>If your task is not CPU-bound, that is, if it does some blocking, use <a href=\"https://openjdk.org/jeps/444\" rel=\"nofollow noreferrer\">virtual threads</a>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>private void fooMethodWithExecutorService ( )\n{\n    this.onlyTenTasksAtATimeLock.lock ( );\n    try\n    {\n        try (\n                ExecutorService executorService = Executors.newVirtualThreadPerTaskExecutor ( ) ;\n        )\n        {\n            int countTaskExecutions = 10;\n            for ( int index = 0 ; index &lt; countTaskExecutions ; index++ )\n            {\n                executorService.submit ( this :: dummyMethod );\n            }\n        }\n    }\n    finally\n    {\n        this.onlyTenTasksAtATimeLock.unlock ( );\n    }\n}\n</code></pre>\n<p>With this approach, we see the demo start and end at the very start and the very end. And we see each and every desired execution of our task make its entry in the log.</p>\n<pre class=\"lang-none prettyprint-override\"><code>info | demo start | 2023-10-19T21:19:42.158048Z\ndebug | do nothing in dummyMethod() | 2023-10-19T21:19:42.165986Z\ndebug | do nothing in dummyMethod() | 2023-10-19T21:19:42.166079Z\ndebug | do nothing in dummyMethod() | 2023-10-19T21:19:42.166119Z\ndebug | do nothing in dummyMethod() | 2023-10-19T21:19:42.166210Z\ndebug | do nothing in dummyMethod() | 2023-10-19T21:19:42.166234Z\ndebug | do nothing in dummyMethod() | 2023-10-19T21:19:42.166268Z\ndebug | do nothing in dummyMethod() | 2023-10-19T21:19:42.166294Z\ndebug | do nothing in dummyMethod() | 2023-10-19T21:19:42.166318Z\ndebug | do nothing in dummyMethod() | 2023-10-19T21:19:42.166334Z\ndebug | do nothing in dummyMethod() | 2023-10-19T21:19:42.166370Z\ninfo | demo end | 2023-10-19T21:19:42.166437Z\n</code></pre>\n<p>Complete app code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package work.basil.example.threading;\n\nimport java.time.Duration;\nimport java.time.Instant;\nimport java.util.SequencedCollection;\nimport java.util.concurrent.CopyOnWriteArrayList;\nimport java.util.concurrent.ExecutorService;\nimport java.util.concurrent.Executors;\nimport java.util.concurrent.locks.Lock;\nimport java.util.concurrent.locks.ReentrantLock;\n\npublic class App\n{\n    private final SequencedCollection &lt; String &gt; log = new CopyOnWriteArrayList &lt;&gt; ( );  // Thread-safe `List` implementation.\n    private final Lock onlyTenTasksAtATimeLock = new ReentrantLock ( );\n\n    public static void main ( String[] args )\n    {\n        App app = new App ( );\n        app.demo ( );\n    }\n\n    private void demo ( )\n    {\n        this.log.add ( &quot;info | demo start | &quot; + Instant.now ( ) );\n//        this.fooMethod ( );\n//        this.fooMethodThreaded ();\n        this.fooMethodWithExecutorService ( );\n        this.log.add ( &quot;info | demo end | &quot; + Instant.now ( ) );\n        log.forEach ( System.out :: println );\n    }\n\n    private void fooMethodWithExecutorService ( )\n    {\n        this.onlyTenTasksAtATimeLock.lock ( );\n        try\n        {\n            try (\n                    ExecutorService executorService = Executors.newVirtualThreadPerTaskExecutor ( ) ;\n            )\n            {\n                int countTaskExecutions = 10;\n                for ( int index = 0 ; index &lt; countTaskExecutions ; index++ )\n                {\n                    executorService.submit ( this :: dummyMethod );\n                }\n            }\n        }\n        finally\n        {\n            this.onlyTenTasksAtATimeLock.unlock ( );\n        }\n    }\n\n    private synchronized void dummyMethod ( )\n    {\n        this.log.add ( &quot;debug | do nothing in dummyMethod() | &quot; + Instant.now ( ) );\n    }\n\n    private synchronized void fooMethod ( )\n    {\n        for ( int i = 0 ; i &lt; 10 ; i++ ) dummyMethod ( );\n        try { Thread.sleep ( Duration.ofSeconds ( 10 ) ); } catch ( InterruptedException e ) { throw new RuntimeException ( e ); }\n        this.log.add ( &quot;debug | fooMethod() finished | &quot; + Instant.now ( ) );\n    }\n\n    private synchronized void fooMethodThreaded ( )\n    {\n        new Thread ( ( ) -&gt;\n        {\n            for ( int i = 0 ; i &lt; 10 ; i++ ) dummyMethod ( );\n        } ).start ( );\n        try { Thread.sleep ( Duration.ofSeconds ( 10 ) ); } catch ( InterruptedException e ) { throw new RuntimeException ( e ); }\n        this.log.add ( &quot;debug | fooMethodThreaded() finished | &quot; + Instant.now ( ) );\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":145567,"reputation":17881,"user_id":355456,"accept_rate":70,"display_name":"Hong"},"score":0,"creation_date":1697749126,"post_id":77326801,"comment_id":136322454,"body_markdown":"Thank you for the answer and complete code.","body":"Thank you for the answer and complete code."}],"tags":[],"owner":{"account_id":8909811,"reputation":2612,"user_id":6650475,"display_name":"Andrew S"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1697746163,"creation_date":1697746163,"answer_id":77326801,"question_id":77325919,"body_markdown":"From my comment - \r\n\r\nFrom this Baeldung [article](https://www.baeldung.com/java-synchronized#:~:text=When%20we%20use%20a%20synchronized,them%20at%20the%20same%20time.): \r\n_all synchronized blocks of the same object can have only one thread executing them at the same time_\r\n\r\n So the current thread is already in a synchronized method, and the new thread cannot immediately execute `dummyMethod()` since it&#39;s the same object.\r\n\r\nSlight mod to the original code, showing use of a new instance does allow the new Thread to immediately run `dummyMethod()`:\r\n\r\n    package sandbox;\r\n    \r\n    public class SyncTest {\r\n    \r\n        public static void main(String[] args) throws InterruptedException {\r\n            var test = new SyncTest();\r\n            test.fooMethod();\r\n        }\r\n    \r\n        private synchronized void dummyMethod() {\r\n            System.out.println(&quot;do nothing in dummyMethod()&quot;);\r\n        }\r\n    \r\n        private synchronized void fooMethod() throws InterruptedException {\r\n            var t = new SyncTest(); // new instance will have its own monitor\r\n            new Thread(() -&gt; {\r\n                for (int i = 0; i &lt; 10; i++) {\r\n                    t.dummyMethod();\r\n                }\r\n            }).start();\r\n    \r\n            Thread.sleep(10000);\r\n            System.out.println(&quot;fooMethod() finished&quot;);\r\n        }\r\n    }\r\n\r\n","title":"Call a synchronized method with a new thread in a synchronized method","body":"<p>From my comment -</p>\n<p>From this Baeldung <a href=\"https://www.baeldung.com/java-synchronized#:%7E:text=When%20we%20use%20a%20synchronized,them%20at%20the%20same%20time.\" rel=\"nofollow noreferrer\">article</a>:\n<em>all synchronized blocks of the same object can have only one thread executing them at the same time</em></p>\n<p>So the current thread is already in a synchronized method, and the new thread cannot immediately execute <code>dummyMethod()</code> since it's the same object.</p>\n<p>Slight mod to the original code, showing use of a new instance does allow the new Thread to immediately run <code>dummyMethod()</code>:</p>\n<pre><code>package sandbox;\n\npublic class SyncTest {\n\n    public static void main(String[] args) throws InterruptedException {\n        var test = new SyncTest();\n        test.fooMethod();\n    }\n\n    private synchronized void dummyMethod() {\n        System.out.println(&quot;do nothing in dummyMethod()&quot;);\n    }\n\n    private synchronized void fooMethod() throws InterruptedException {\n        var t = new SyncTest(); // new instance will have its own monitor\n        new Thread(() -&gt; {\n            for (int i = 0; i &lt; 10; i++) {\n                t.dummyMethod();\n            }\n        }).start();\n\n        Thread.sleep(10000);\n        System.out.println(&quot;fooMethod() finished&quot;);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":145567,"reputation":17881,"user_id":355456,"accept_rate":70,"display_name":"Hong"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":81,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77326801,"answer_count":2,"score":1,"last_activity_date":1697750608,"creation_date":1697736479,"question_id":77325919,"body_markdown":"We have a task to perform, `dummyMethod`.\r\n\r\n    private synchronized void dummyMethod(){\r\n        Log.d(&quot;debug&quot;, &quot;do nothing in dummyMethod()&quot;)\r\n    }\r\n\r\nWe run that task several times.\r\n\r\n    private synchronized void fooMethod() throws InterruptedException{\r\n        \r\n        for (int i = 0; i &lt; 10; i++){\r\n            dummyMethod();\r\n        }\r\n       \r\n       Thread.sleep(10000)\r\n       Log.d(&quot;debug&quot;, &quot;fooMethod() finished&quot;)\r\n    }\r\n\r\nWith the above code synchronized `dummyMethod()` is executed 10 times immediately. \r\n\r\nHowever, with the following code, `dummyMethod()` is called only once immediately, and only after `fooMethod()` is finished did it get finished and executed 9 more times. \r\n\r\n    private synchronized void fooMethod() throws InterruptedException{\r\n        \r\n     new Thread(()-&gt;{\r\n        for (int i = 0; i &lt; 10; i++){\r\n            dummyMethod();\r\n        }\r\n     }).start();\r\n       \r\n       Thread.sleep(10000)\r\n       Log.d(&quot;debug&quot;, &quot;fooMethod() finished&quot;)\r\n    }\r\n\r\nIn this case, logcat shows:\r\n\r\n    Long monitor contention with owner main (18077) at void ...fooMethod()(MainActivity.java:1106) waiters=0 in void ...MainActivity.dummyMethod() for 10.001s\r\n\r\nI thought it would not block with a new thread in the latter case. Could anyone shed some light on this? How can a synchronized method run another synchronized method multiple times asynchronously in a new thread?","title":"Call a synchronized method with a new thread in a synchronized method","body":"<p>We have a task to perform, <code>dummyMethod</code>.</p>\n<pre><code>private synchronized void dummyMethod(){\n    Log.d(&quot;debug&quot;, &quot;do nothing in dummyMethod()&quot;)\n}\n</code></pre>\n<p>We run that task several times.</p>\n<pre><code>private synchronized void fooMethod() throws InterruptedException{\n    \n    for (int i = 0; i &lt; 10; i++){\n        dummyMethod();\n    }\n   \n   Thread.sleep(10000)\n   Log.d(&quot;debug&quot;, &quot;fooMethod() finished&quot;)\n}\n</code></pre>\n<p>With the above code synchronized <code>dummyMethod()</code> is executed 10 times immediately.</p>\n<p>However, with the following code, <code>dummyMethod()</code> is called only once immediately, and only after <code>fooMethod()</code> is finished did it get finished and executed 9 more times.</p>\n<pre><code>private synchronized void fooMethod() throws InterruptedException{\n    \n new Thread(()-&gt;{\n    for (int i = 0; i &lt; 10; i++){\n        dummyMethod();\n    }\n }).start();\n   \n   Thread.sleep(10000)\n   Log.d(&quot;debug&quot;, &quot;fooMethod() finished&quot;)\n}\n</code></pre>\n<p>In this case, logcat shows:</p>\n<pre><code>Long monitor contention with owner main (18077) at void ...fooMethod()(MainActivity.java:1106) waiters=0 in void ...MainActivity.dummyMethod() for 10.001s\n</code></pre>\n<p>I thought it would not block with a new thread in the latter case. Could anyone shed some light on this? How can a synchronized method run another synchronized method multiple times asynchronously in a new thread?</p>\n"},{"tags":["java","user-interface","javafx","tabs","drag-and-drop"],"comments":[{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1694424153,"post_id":77075467,"comment_id":135884379,"body_markdown":"Drag and drop is a different question from your title. Oracle provide a [tutorial](https://docs.oracle.com/javase/8/javafx/events-tutorial/drag-drop.htm) for the operation. You have to code the logic based on  events, there is no “label type” for such a thing.  Ask a new specific question if you have more questions.","body":"Drag and drop is a different question from your title. Oracle provide a <a href=\"https://docs.oracle.com/javase/8/javafx/events-tutorial/drag-drop.htm\" rel=\"nofollow noreferrer\">tutorial</a> for the operation. You have to code the logic based on  events, there is no “label type” for such a thing.  Ask a new specific question if you have more questions."}],"answers":[{"comments":[{"owner":{"account_id":16903554,"reputation":509,"user_id":12224591,"display_name":"Runsva"},"score":0,"creation_date":1694378220,"post_id":77076788,"comment_id":135879788,"body_markdown":"Thanks for this clear answer, adding a `VBox` element allows me to insert several elements into the `TitledPane`.\nOne quick question; which one of the elements for the label entries within the `VBox` will allow me to drag it across the screen with my cursor?","body":"Thanks for this clear answer, adding a <code>VBox</code> element allows me to insert several elements into the <code>TitledPane</code>. One quick question; which one of the elements for the label entries within the <code>VBox</code> will allow me to drag it across the screen with my cursor?"},{"owner":{"account_id":26506655,"reputation":110,"user_id":20142712,"display_name":"not_a_nerd"},"score":0,"creation_date":1694420963,"post_id":77076788,"comment_id":135883796,"body_markdown":"Do you mean, that if I were to change the position of the `label`, I could just drag and drop it to another position?","body":"Do you mean, that if I were to change the position of the <code>label</code>, I could just drag and drop it to another position?"},{"owner":{"account_id":26506655,"reputation":110,"user_id":20142712,"display_name":"not_a_nerd"},"score":0,"creation_date":1694701501,"post_id":77076788,"comment_id":135928567,"body_markdown":"I have added the second part of the answer. Using the provided code, you can enable moving an element across the UI.","body":"I have added the second part of the answer. Using the provided code, you can enable moving an element across the UI."}],"tags":[],"owner":{"account_id":26506655,"reputation":110,"user_id":20142712,"display_name":"not_a_nerd"},"comment_count":3,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1697380222,"creation_date":1694360250,"answer_id":77076788,"question_id":77075467,"body_markdown":"**Content:**\r\n============\r\n1. Adding several items into a `TabPane`\r\n2. Moving elements across the `UI` with the mouse\r\n\r\n**1. Several Items into Tab Pane**\r\n-------------------\r\n\r\nIf you want to insert several GUI components to a `titled pane`, you could create a separate LayoutContainer that contains all your desired GUI components and subsequently add it to your TitledPane using `setContent(LayoutContainer)`. Choose the layout that matches your desired design.\r\n\r\nExample: Creating several components using a `VBox` for a simple design\r\n\r\n    TitledPane pane = new TitledPane();\r\n    pane.setText(&quot;Test TitledPane&quot;);\r\n    \t\t\t\r\n    VBox box = new VBox(20);\r\n    box.getChildren().addAll(new Label(&quot;I am a Label&quot;), new Button(&quot;I am a button&quot;), new CheckBox(&quot;Click me&quot;));\r\n    \t\t\t\r\n    pane.setContent(box); //add the VBox with the elements to the Tab\r\n    \t\t\t\r\n    \t\t\t\r\n    Scene scene = new Scene(pane,500, 500);    scene.getStylesheets().add(getClass().getResource(&quot;application.css&quot;).toExternalForm());\r\n\r\n\r\nThat&#39;s the result: \r\n\r\n[![enter image description here][1]][1]\r\n\r\nNow if you&#39;d like your GUI to look more user-friendly, sophisticated and modern, you can still add more Layout Containers containing more components to the `Pane` by adding the Containers to other Containers. \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/5UtHe.png\r\n\r\n\r\n**2. Drag element across the screen**\r\n----------\r\n\r\nIn this example, I added just a `label` to the `TabPane`. Using this code, you can move the label as you wish across the entire `tab`.\r\n\r\n    import javafx.application.Application;\r\n    import javafx.scene.Scene;\r\n    import javafx.scene.control.Label;\r\n    import javafx.scene.control.Tab;\r\n    import javafx.scene.control.TabPane;\r\n    import javafx.scene.input.MouseEvent;\r\n    import javafx.scene.layout.Pane;\r\n    import javafx.stage.Stage;\r\n    \r\n    public class Main extends Application {\r\n    \r\n        private double xOffset = 0;\r\n        private double yOffset = 0;\r\n    \r\n        public static void main(String[] args) {\r\n            launch(args);\r\n        }\r\n    \r\n        @Override\r\n        public void start(Stage primaryStage) {\r\n            primaryStage.setTitle(&quot;Draggable Tab with Label Example&quot;);\r\n    \r\n            TabPane tabPane = new TabPane();\r\n    \r\n            // Create a tab with a label\r\n            Tab tab = new Tab(&quot;Draggable Tab&quot;);\r\n            Pane tabContent = new Pane();\r\n    \r\n            Label label = new Label(&quot;Drag me&quot;);\r\n            label.setStyle(&quot;-fx-background-color: lightblue; -fx-padding: 10px;&quot;);\r\n    \r\n            tabContent.getChildren().add(label);\r\n            tab.setContent(tabContent);\r\n            \r\n            tabPane.getTabs().add(tab);\r\n    \r\n            Scene scene = new Scene(tabPane, 400, 300);\r\n    \r\n            label.setOnMousePressed(this::onMousePressed);\r\n            label.setOnMouseDragged(this::onMouseDragged);\r\n            label.setOnMouseReleased(this::onMouseReleased);\r\n    \r\n            primaryStage.setScene(scene);\r\n            primaryStage.show();\r\n        }\r\n    \r\n        private void onMousePressed(MouseEvent event) {\r\n            xOffset = event.getSceneX() - ((Label) event.getSource()).getLayoutX();\r\n            yOffset = event.getSceneY() - ((Label) event.getSource()).getLayoutY();\r\n        }\r\n    \r\n        private void onMouseDragged(MouseEvent event) {\r\n            double x = event.getSceneX() - xOffset;\r\n            double y = event.getSceneY() - yOffset;\r\n    \r\n            Label label = (Label) event.getSource();\r\n            label.setLayoutX(x);\r\n            label.setLayoutY(y);\r\n        }\r\n    \r\n        private void onMouseReleased(MouseEvent event) {\r\n            // Optionally, you can add cleanup code here\r\n        }\r\n    }\r\n\r\n\r\nYou can apply this code to other elements by assigning the respective methods to your desired element. ","title":"Dynamically insert several entries into TitledPane?","body":"<h1><strong>Content:</strong></h1>\n<ol>\n<li>Adding several items into a <code>TabPane</code></li>\n<li>Moving elements across the <code>UI</code> with the mouse</li>\n</ol>\n<h2><strong>1. Several Items into Tab Pane</strong></h2>\n<p>If you want to insert several GUI components to a <code>titled pane</code>, you could create a separate LayoutContainer that contains all your desired GUI components and subsequently add it to your TitledPane using <code>setContent(LayoutContainer)</code>. Choose the layout that matches your desired design.</p>\n<p>Example: Creating several components using a <code>VBox</code> for a simple design</p>\n<pre><code>TitledPane pane = new TitledPane();\npane.setText(&quot;Test TitledPane&quot;);\n            \nVBox box = new VBox(20);\nbox.getChildren().addAll(new Label(&quot;I am a Label&quot;), new Button(&quot;I am a button&quot;), new CheckBox(&quot;Click me&quot;));\n            \npane.setContent(box); //add the VBox with the elements to the Tab\n            \n            \nScene scene = new Scene(pane,500, 500);    scene.getStylesheets().add(getClass().getResource(&quot;application.css&quot;).toExternalForm());\n</code></pre>\n<p>That's the result:</p>\n<p><a href=\"https://i.stack.imgur.com/5UtHe.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/5UtHe.png\" alt=\"enter image description here\" /></a></p>\n<p>Now if you'd like your GUI to look more user-friendly, sophisticated and modern, you can still add more Layout Containers containing more components to the <code>Pane</code> by adding the Containers to other Containers.</p>\n<h2><strong>2. Drag element across the screen</strong></h2>\n<p>In this example, I added just a <code>label</code> to the <code>TabPane</code>. Using this code, you can move the label as you wish across the entire <code>tab</code>.</p>\n<pre><code>import javafx.application.Application;\nimport javafx.scene.Scene;\nimport javafx.scene.control.Label;\nimport javafx.scene.control.Tab;\nimport javafx.scene.control.TabPane;\nimport javafx.scene.input.MouseEvent;\nimport javafx.scene.layout.Pane;\nimport javafx.stage.Stage;\n\npublic class Main extends Application {\n\n    private double xOffset = 0;\n    private double yOffset = 0;\n\n    public static void main(String[] args) {\n        launch(args);\n    }\n\n    @Override\n    public void start(Stage primaryStage) {\n        primaryStage.setTitle(&quot;Draggable Tab with Label Example&quot;);\n\n        TabPane tabPane = new TabPane();\n\n        // Create a tab with a label\n        Tab tab = new Tab(&quot;Draggable Tab&quot;);\n        Pane tabContent = new Pane();\n\n        Label label = new Label(&quot;Drag me&quot;);\n        label.setStyle(&quot;-fx-background-color: lightblue; -fx-padding: 10px;&quot;);\n\n        tabContent.getChildren().add(label);\n        tab.setContent(tabContent);\n        \n        tabPane.getTabs().add(tab);\n\n        Scene scene = new Scene(tabPane, 400, 300);\n\n        label.setOnMousePressed(this::onMousePressed);\n        label.setOnMouseDragged(this::onMouseDragged);\n        label.setOnMouseReleased(this::onMouseReleased);\n\n        primaryStage.setScene(scene);\n        primaryStage.show();\n    }\n\n    private void onMousePressed(MouseEvent event) {\n        xOffset = event.getSceneX() - ((Label) event.getSource()).getLayoutX();\n        yOffset = event.getSceneY() - ((Label) event.getSource()).getLayoutY();\n    }\n\n    private void onMouseDragged(MouseEvent event) {\n        double x = event.getSceneX() - xOffset;\n        double y = event.getSceneY() - yOffset;\n\n        Label label = (Label) event.getSource();\n        label.setLayoutX(x);\n        label.setLayoutY(y);\n    }\n\n    private void onMouseReleased(MouseEvent event) {\n        // Optionally, you can add cleanup code here\n    }\n}\n</code></pre>\n<p>You can apply this code to other elements by assigning the respective methods to your desired element.</p>\n"}],"owner":{"account_id":16903554,"reputation":509,"user_id":12224591,"display_name":"Runsva"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":98,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":77076788,"answer_count":1,"score":0,"last_activity_date":1697750573,"creation_date":1694337303,"question_id":77075467,"body_markdown":"I&#39;m attempting to insert several draggable entries into an `Accordion`&#39;s `TitledPane` in JavaFX.\r\n\r\nThere is a class function `setContent` of the `TitledPane` class that I can call in Java, and I can provide it something like a `Label` to it, which will result in the single label being displayed as the single entry of the `TitledPane`, as such:\r\n\r\n```\r\ntitledPane.setText(&quot;Test TitledPane&quot;);\r\ntitledPane.setContent(new Label(&quot;Test Label&quot;));`\r\n```\r\n\r\n[![enter image description here][1]][1]\r\n\r\nHowever, I&#39;m looking to insert several entries into the `TitledPane`, not just one. \r\n\r\nEvery single tutorial on `TitledPane` and `Accordion` I saw only show how to create them with initial permanent values, and not how to dynamically insert values into them as needed.\r\n\r\nHow would I go about inserting several values into a `TitledPane` dynamically using Java? What label type would I need to make these entries in order to allow them to be draggable by the user&#39;s cursor?\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/92xn1l.png","title":"Dynamically insert several entries into TitledPane?","body":"<p>I'm attempting to insert several draggable entries into an <code>Accordion</code>'s <code>TitledPane</code> in JavaFX.</p>\n<p>There is a class function <code>setContent</code> of the <code>TitledPane</code> class that I can call in Java, and I can provide it something like a <code>Label</code> to it, which will result in the single label being displayed as the single entry of the <code>TitledPane</code>, as such:</p>\n<pre><code>titledPane.setText(&quot;Test TitledPane&quot;);\ntitledPane.setContent(new Label(&quot;Test Label&quot;));`\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/92xn1l.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/92xn1l.png\" alt=\"enter image description here\" /></a></p>\n<p>However, I'm looking to insert several entries into the <code>TitledPane</code>, not just one.</p>\n<p>Every single tutorial on <code>TitledPane</code> and <code>Accordion</code> I saw only show how to create them with initial permanent values, and not how to dynamically insert values into them as needed.</p>\n<p>How would I go about inserting several values into a <code>TitledPane</code> dynamically using Java? What label type would I need to make these entries in order to allow them to be draggable by the user's cursor?</p>\n"},{"tags":["java","spring-boot","visual-studio-code"],"answers":[{"tags":[],"owner":{"account_id":11845367,"reputation":1,"user_id":8668018,"display_name":"Maratib Ali Khan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1697750294,"creation_date":1697750243,"answer_id":77327152,"question_id":77327049,"body_markdown":"Finally, I have found the following solution which works for me :-\r\n\r\n```javascript\r\n// Add the following to your settings.json\r\n&quot;java.test.config&quot;: {\r\n        &quot;vmArgs&quot;: [\r\n            &quot;-Xshare:off&quot;\r\n        ]\r\n    },\r\n```","title":"VSCode OpenJDK 64-Bit Server VM warning","body":"<p>Finally, I have found the following solution which works for me :-</p>\n<pre class=\"lang-js prettyprint-override\"><code>// Add the following to your settings.json\n&quot;java.test.config&quot;: {\n        &quot;vmArgs&quot;: [\n            &quot;-Xshare:off&quot;\n        ]\n    },\n</code></pre>\n"}],"owner":{"account_id":11845367,"reputation":1,"user_id":8668018,"display_name":"Maratib Ali Khan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":255,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":77327152,"answer_count":1,"score":-1,"last_activity_date":1697750294,"creation_date":1697748955,"question_id":77327049,"body_markdown":"After upgrading my spring boot project to 3.1.5, I am having this issue during test runs in debug console :-\r\n\r\n```\r\nOpenJDK 64-Bit Server VM warning: Sharing is only supported for boot loader classes because bootstrap classpath has been appended\r\n```\r\n\r\nany help?\r\n\r\nTrying to add _JAVA_OPTIONS: -Xmx6G ","title":"VSCode OpenJDK 64-Bit Server VM warning","body":"<p>After upgrading my spring boot project to 3.1.5, I am having this issue during test runs in debug console :-</p>\n<pre><code>OpenJDK 64-Bit Server VM warning: Sharing is only supported for boot loader classes because bootstrap classpath has been appended\n</code></pre>\n<p>any help?</p>\n<p>Trying to add _JAVA_OPTIONS: -Xmx6G</p>\n"},{"tags":["java","android","ionic-framework","compilation","sdk"],"comments":[{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1697759744,"post_id":77327134,"comment_id":136323597,"body_markdown":"Umm ... why Java 19?   That is end-of-life!!  Better to use Java 17 LTS or Java 21 LTS.","body":"Umm ... why Java 19?   That is end-of-life!!  Better to use Java 17 LTS or Java 21 LTS."},{"owner":{"account_id":21741636,"reputation":1162,"user_id":16048914,"display_name":"David Weber"},"score":0,"creation_date":1697794808,"post_id":77327134,"comment_id":136327384,"body_markdown":"You use Ionic? RIP. Good luck. Tip: Do not edit the generated apk directly.","body":"You use Ionic? RIP. Good luck. Tip: Do not edit the generated apk directly."}],"owner":{"account_id":26621894,"reputation":1,"user_id":20240558,"display_name":"Alfonsoo_gallardo"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":137,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697750003,"creation_date":1697750003,"question_id":77327134,"body_markdown":"I&#39;m compiling my Ionic app on Android. I&#39;m encountering this error when compiling the app.\r\nThe Java version being used is 19.0.2 and the Gradle version is 7.4.2.\r\nI&#39;ve checked all compileSdkVersions, and they are all set to 33, the targetSdkVersion is 33, and the minSdkVersion is 28.\r\n\r\nConsole error:\r\nIn order to compile Java 9+ source, please set compileSdkVersion to 30 or above\r\n\r\n\r\n\r\n\r\nI would really appreciate your help, as I can&#39;t find the solution on the net either. And I have tried all the solutions I have found on the net.\r\nThanks","title":"&quot;In order to compile Java 9+ source, please set compileSdkVersion to 30 or above&quot;. My CompileSdkVersion = 33","body":"<p>I'm compiling my Ionic app on Android. I'm encountering this error when compiling the app.\nThe Java version being used is 19.0.2 and the Gradle version is 7.4.2.\nI've checked all compileSdkVersions, and they are all set to 33, the targetSdkVersion is 33, and the minSdkVersion is 28.</p>\n<p>Console error:\nIn order to compile Java 9+ source, please set compileSdkVersion to 30 or above</p>\n<p>I would really appreciate your help, as I can't find the solution on the net either. And I have tried all the solutions I have found on the net.\nThanks</p>\n"},{"tags":["java","java.util.logging"],"comments":[{"owner":{"account_id":5162774,"reputation":1440,"user_id":4133874,"accept_rate":100,"display_name":"Sagar Chilukuri"},"score":1,"creation_date":1559212107,"post_id":56376223,"comment_id":99353686,"body_markdown":"Please check if it is a permission issue for file creation.","body":"Please check if it is a permission issue for file creation."}],"answers":[{"comments":[{"owner":{"account_id":11278502,"reputation":25,"user_id":8271844,"display_name":"Julian G. M."},"score":0,"creation_date":1559213329,"post_id":56376660,"comment_id":99354231,"body_markdown":"That is the problem, logger.info(&quot;This is a test&quot;) does not output to console at all. File is not in read-only mode, and FileWriter writes correctly to flie. It seems that for some reason java.util.logging is not enabled.","body":"That is the problem, logger.info(&quot;This is a test&quot;) does not output to console at all. File is not in read-only mode, and FileWriter writes correctly to flie. It seems that for some reason java.util.logging is not enabled."},{"owner":{"account_id":7591556,"reputation":1915,"user_id":5759072,"display_name":"Matthew"},"score":0,"creation_date":1559213412,"post_id":56376660,"comment_id":99354272,"body_markdown":"@JulianG.M.What exactly?","body":"@JulianG.M.What exactly?"},{"owner":{"account_id":7591556,"reputation":1915,"user_id":5759072,"display_name":"Matthew"},"score":0,"creation_date":1559213890,"post_id":56376660,"comment_id":99354505,"body_markdown":"@JulianG.M.I&#39;ve updated the answer with a link to a document that might help you figure out why Java logger is not printing. Your next step should be to read through that linked document and make sure you are not using any JVM arguments like specifying the logger config location.","body":"@JulianG.M.I&#39;ve updated the answer with a link to a document that might help you figure out why Java logger is not printing. Your next step should be to read through that linked document and make sure you are not using any JVM arguments like specifying the logger config location."},{"owner":{"account_id":11278502,"reputation":25,"user_id":8271844,"display_name":"Julian G. M."},"score":0,"creation_date":1559300134,"post_id":56376660,"comment_id":99386058,"body_markdown":"I have not been able to make my Logger work after some hours of investigation. Apparently, It might be caused by a reset() operation performed by some library.","body":"I have not been able to make my Logger work after some hours of investigation. Apparently, It might be caused by a reset() operation performed by some library."},{"owner":{"account_id":7591556,"reputation":1915,"user_id":5759072,"display_name":"Matthew"},"score":0,"creation_date":1559300390,"post_id":56376660,"comment_id":99386185,"body_markdown":"I know this is not what you originally asked, but have you considered using `Log4j` instead of the native Java Logger? I personally use it and think it&#39;s quite better then Java logger. Maybe you will have better luck with that.","body":"I know this is not what you originally asked, but have you considered using <code>Log4j</code> instead of the native Java Logger? I personally use it and think it&#39;s quite better then Java logger. Maybe you will have better luck with that."},{"owner":{"account_id":11278502,"reputation":25,"user_id":8271844,"display_name":"Julian G. M."},"score":0,"creation_date":1559300676,"post_id":56376660,"comment_id":99386342,"body_markdown":"As it was a simple log, I did not want add any dependency, but I&#39;ll try. Thank you for your help.","body":"As it was a simple log, I did not want add any dependency, but I&#39;ll try. Thank you for your help."}],"tags":[],"owner":{"account_id":7591556,"reputation":1915,"user_id":5759072,"display_name":"Matthew"},"comment_count":6,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1559213804,"creation_date":1559212885,"answer_id":56376660,"question_id":56376223,"body_markdown":"I&#39;ve tried to execute your code and get the following output in both the console and file:\r\n\r\n```\r\nMay 30, 2019 12:35:11 PM io.yooksi.Main main\r\nINFO: This is a test.\r\nMay 30, 2019 12:35:11 PM io.yooksi.FsLogger info\r\nINFO: This is an info message\r\nMay 30, 2019 12:35:11 PM io.yooksi.FsLogger warning\r\nWARNING: This is a warning\r\nMay 30, 2019 12:35:11 PM io.yooksi.FsLogger severe\r\nSEVERE: This is a sever error message\r\n```\r\n\r\nThis means that your code is not at fault, so you can try the following things:\r\n\r\n- Make sure that the following code properly outputs to console:\r\n\r\n    ```java\r\n    Logger logger = Logger.getLogger(&quot;test&quot;);\r\n    logger.info(&quot;This is a test.&quot;);\r\n    ```\r\n- Make sure that the file is not in *read-only* state.\r\n- Try manually writing to file using either `FileWriter` or `PrintWriter`.\r\n\r\nIf the first test fails to print anything to console then read the following document where you can find a list of common reasons why `Java` logger fails to works and concrete steps how to resolve them *(at least the one related to configuration)*:\r\n\r\n[Why is my Java Logging not working][1]\r\n\r\n\r\n  [1]: https://www.forward.com.au/javaProgramming/javaGuiTips/javaLoggingDebugging.html","title":"Java util Logger not writing to file","body":"<p>I've tried to execute your code and get the following output in both the console and file:</p>\n\n<pre><code>May 30, 2019 12:35:11 PM io.yooksi.Main main\nINFO: This is a test.\nMay 30, 2019 12:35:11 PM io.yooksi.FsLogger info\nINFO: This is an info message\nMay 30, 2019 12:35:11 PM io.yooksi.FsLogger warning\nWARNING: This is a warning\nMay 30, 2019 12:35:11 PM io.yooksi.FsLogger severe\nSEVERE: This is a sever error message\n</code></pre>\n\n<p>This means that your code is not at fault, so you can try the following things:</p>\n\n<ul>\n<li><p>Make sure that the following code properly outputs to console:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>Logger logger = Logger.getLogger(\"test\");\nlogger.info(\"This is a test.\");\n</code></pre></li>\n<li>Make sure that the file is not in <em>read-only</em> state.</li>\n<li>Try manually writing to file using either <code>FileWriter</code> or <code>PrintWriter</code>.</li>\n</ul>\n\n<p>If the first test fails to print anything to console then read the following document where you can find a list of common reasons why <code>Java</code> logger fails to works and concrete steps how to resolve them <em>(at least the one related to configuration)</em>:</p>\n\n<p><a href=\"https://www.forward.com.au/javaProgramming/javaGuiTips/javaLoggingDebugging.html\" rel=\"nofollow noreferrer\">Why is my Java Logging not working</a></p>\n"},{"tags":[],"owner":{"account_id":2826194,"reputation":10795,"user_id":2428802,"display_name":"jmehrens"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1697749166,"creation_date":1559226851,"answer_id":56380338,"question_id":56376223,"body_markdown":"From the code you are using a relative path of `Logs/LogFsForensics.log`  This means that if the current working directory of the process changes the path will be invalid.  When that happens the [FileHandler will create a file in the default location][1].  Use an absolute path or specify one of the [FileHandler special components][2]. For example:\r\n\r\n`/Logs/LogFsForensics.log` as absolute path or `%h/Logs/LogFsForensics.log` as relative from home directory.\r\n\r\n\r\n\r\nYou can modify the test program from [Logging not showing][3] to print the logger tree and and handlers. It is possible the levels are not set correctly or the handler was not installed.  \r\n\r\nLooking at the code, I would think that you want `getInstance` to be synchronized so you never attempt to create more than one handler.\r\n\r\n\r\n  [1]: https://bugs.openjdk.java.net/browse/JDK-6244047\r\n  [2]: https://docs.oracle.com/en/java/javase/11/docs/api/java.logging/java/util/logging/FileHandler.html\r\n  [3]: https://stackoverflow.com/questions/44882648/logging-not-showing","title":"Java util Logger not writing to file","body":"<p>From the code you are using a relative path of <code>Logs/LogFsForensics.log</code>  This means that if the current working directory of the process changes the path will be invalid.  When that happens the <a href=\"https://bugs.openjdk.java.net/browse/JDK-6244047\" rel=\"nofollow noreferrer\">FileHandler will create a file in the default location</a>.  Use an absolute path or specify one of the <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.logging/java/util/logging/FileHandler.html\" rel=\"nofollow noreferrer\">FileHandler special components</a>. For example:</p>\n<p><code>/Logs/LogFsForensics.log</code> as absolute path or <code>%h/Logs/LogFsForensics.log</code> as relative from home directory.</p>\n<p>You can modify the test program from <a href=\"https://stackoverflow.com/questions/44882648/logging-not-showing\">Logging not showing</a> to print the logger tree and and handlers. It is possible the levels are not set correctly or the handler was not installed.</p>\n<p>Looking at the code, I would think that you want <code>getInstance</code> to be synchronized so you never attempt to create more than one handler.</p>\n"}],"owner":{"account_id":11278502,"reputation":25,"user_id":8271844,"display_name":"Julian G. M."},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4605,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1697749166,"creation_date":1559211339,"question_id":56376223,"body_markdown":"I have written a silly Logger for my application. It writes into a log file info, warning and severe messages. It worked perfectly some time ago, but suddenly, it stopped working for no aparent reason. \r\nIt keeps creating the log file if it does not exist, but no content is written. \r\nI can&#39;t find why it is not working now. I would thank some help.\r\n\r\nDebugging with my IDE, I realise that messages are passed correctly to logger, and logger.info() is being executed.\r\n```\r\npublic class FsLogger {\r\n\t\r\n\tprivate static FsLogger instance;\r\n\t\r\n\tprivate final String filename = &quot;Logs/LogFsForensics.log&quot;;\r\n\tprivate final String loggerName = &quot;FsLogger&quot;;\r\n\tprivate static Logger logger;\t\r\n        private FileHandler fh;\r\n        private final int limit = 1024*10000; //10 MB\r\n        private SimpleFormatter sf;\r\n\t\r\n\tprivate FsLogger() {\r\n\t\tlogger =  Logger.getLogger(loggerName);\r\n\t\t\r\n\t\tsf = new SimpleFormatter();\r\n\t\ttry {\r\n\t\t\tfh = new FileHandler(filename, limit, 1, true);\r\n\t\t\tsf = new SimpleFormatter();\r\n\t\t\tfh.setFormatter(sf);\r\n\t\t\t\r\n\t\t\tlogger.addHandler(fh);\r\n\t\t} catch (SecurityException | IOException e) {\t\t\t\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t}\r\n\t\r\n\tpublic static FsLogger getInstance() {\r\n\t\tif(instance == null) {\r\n\t\t\tinstance = new FsLogger();\r\n\t\t}\r\n\t\treturn instance;\r\n\t}\r\n\t\r\n\tpublic void info(String message) {\r\n\t\tlogger.info(message);\r\n\t}\r\n\t\r\n\tpublic void warning(String message) {\r\n\t\tlogger.warning(message);\t\t\r\n\t}\r\n\t\r\n\tpublic void severe(String message) {\r\n\t\tlogger.severe(message);\r\n\t}\r\n```\r\nExample of a logger call:\r\n```\r\nprivate FsLogger logger = FsLogger.getInstance();\r\nlogger.severe(e1.getMessage());\r\n```","title":"Java util Logger not writing to file","body":"<p>I have written a silly Logger for my application. It writes into a log file info, warning and severe messages. It worked perfectly some time ago, but suddenly, it stopped working for no aparent reason. \nIt keeps creating the log file if it does not exist, but no content is written. \nI can't find why it is not working now. I would thank some help.</p>\n\n<p>Debugging with my IDE, I realise that messages are passed correctly to logger, and logger.info() is being executed.</p>\n\n<pre><code>public class FsLogger {\n\n    private static FsLogger instance;\n\n    private final String filename = \"Logs/LogFsForensics.log\";\n    private final String loggerName = \"FsLogger\";\n    private static Logger logger;   \n        private FileHandler fh;\n        private final int limit = 1024*10000; //10 MB\n        private SimpleFormatter sf;\n\n    private FsLogger() {\n        logger =  Logger.getLogger(loggerName);\n\n        sf = new SimpleFormatter();\n        try {\n            fh = new FileHandler(filename, limit, 1, true);\n            sf = new SimpleFormatter();\n            fh.setFormatter(sf);\n\n            logger.addHandler(fh);\n        } catch (SecurityException | IOException e) {           \n            e.printStackTrace();\n        }\n    }\n\n    public static FsLogger getInstance() {\n        if(instance == null) {\n            instance = new FsLogger();\n        }\n        return instance;\n    }\n\n    public void info(String message) {\n        logger.info(message);\n    }\n\n    public void warning(String message) {\n        logger.warning(message);        \n    }\n\n    public void severe(String message) {\n        logger.severe(message);\n    }\n</code></pre>\n\n<p>Example of a logger call:</p>\n\n<pre><code>private FsLogger logger = FsLogger.getInstance();\nlogger.severe(e1.getMessage());\n</code></pre>\n"},{"tags":["python","java","get"],"comments":[{"owner":{"account_id":3377022,"reputation":11135,"user_id":2834978,"display_name":"LMC"},"score":0,"creation_date":1697748316,"post_id":77326873,"comment_id":136322351,"body_markdown":"How? -&gt; &quot;I store my contacts in the URL&quot;","body":"How? -&gt; &quot;I store my contacts in the URL&quot;"},{"owner":{"account_id":28799667,"reputation":3,"user_id":22056935,"display_name":"YANIX"},"score":0,"creation_date":1697749809,"post_id":77326873,"comment_id":136322571,"body_markdown":"@LMC `        HttpURLConnectionExample connection = new HttpURLConnectionExample();\n        String tmp = readContacts(getApplicationContext());\n        String contacts = tmp + end;\n        tmp = URLEncoder.encode(contacts, &quot;utf-8&quot;); `                     \ntmp variable, which is also used in void sendGET","body":"@LMC `        HttpURLConnectionExample connection = new HttpURLConnectionExample();         String tmp = readContacts(getApplicationContext());         String contacts = tmp + end;         tmp = URLEncoder.encode(contacts, &quot;utf-8&quot;); `                      tmp variable, which is also used in void sendGET"},{"owner":{"account_id":3377022,"reputation":11135,"user_id":2834978,"display_name":"LMC"},"score":0,"creation_date":1697750041,"post_id":77326873,"comment_id":136322607,"body_markdown":"so url is something like `host/path?key=val&amp;key=val`? Still unclear. Questions are expected to provide a [mcve]","body":"so url is something like <code>host&#47;path?key=val&amp;key=val</code>? Still unclear. Questions are expected to provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>"},{"owner":{"account_id":28799667,"reputation":3,"user_id":22056935,"display_name":"YANIX"},"score":0,"creation_date":1697750638,"post_id":77326873,"comment_id":136322665,"body_markdown":"my variable tmp contains +%D0%97%D0%BD%D0%B0%D0%BA%D0%BE%D0%BC%D1%81%D1%82%D0%B2%D0%B0+*525%23%0A                                                                                                     its Russian language sorry(","body":"my variable tmp contains +%D0%97%D0%BD%D0%B0%D0%BA%D0%BE%D0%BC%D1%81%D1%82%D0%B2%D0%B&zwnj;&#8203;0+*525%23%0A                                                                                                     its Russian language sorry("}],"owner":{"account_id":28799667,"reputation":3,"user_id":22056935,"display_name":"YANIX"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697748227,"creation_date":1697746959,"question_id":77326873,"body_markdown":"I&#39;m writing a service in Java. Which sends a get request to the server. I store the URL of my contacts in it (I hope)\r\n \r\n```\r\npublic static void sendGET(**String tmp**) throws IOException {\r\n        URL obj = new URL(GET_URL);\r\n        HttpURLConnection con = (HttpURLConnection) obj.openConnection();\r\n        con.setReadTimeout(5000);\r\n        con.setConnectTimeout(5000);\r\n        con.setRequestMethod(&quot;GET&quot;);\r\n}\r\n```\r\n\r\nAlso I have a Python server,\r\n\r\n\r\n```python    \r\nfrom http.server import BaseHTTPRequestHandler, HTTPServer\r\nfrom urllib.parse import urlparse\r\n\r\nhostName = &quot;192.168.31.225&quot;\r\nserverPort = 8080\r\n\r\nclass MyServer(BaseHTTPRequestHandler):\r\n    def do_GET(self):\r\n        self.send_response(200)\r\n        print(self.requestline)\r\n        self.send_header(&quot;Content-type&quot;, &quot;text/html&quot;)\r\n        self.end_headers()\r\n        self.wfile.write(bytes(&quot;&lt;html&gt;&lt;head&gt;&lt;title&gt;https://pythonbasics.org&lt;/title&gt;&lt;/head&gt;&quot;, &quot;utf-8&quot;))\r\n        self.wfile.write(bytes(&quot;&lt;p&gt;Request: %s&lt;/p&gt;&quot; % self.path, &quot;utf-8&quot;))\r\n        self.wfile.write(bytes(&quot;&lt;body&gt;&quot;, &quot;utf-8&quot;))\r\n        self.wfile.write(bytes(&quot;&lt;p&gt;This is an example web server.&lt;/p&gt;&quot;, &quot;utf-8&quot;))\r\n        self.wfile.write(bytes(&quot;&lt;/body&gt;&lt;/html&gt;&quot;, &quot;utf-8&quot;))\r\n\r\n\r\n    def do_POST(self):\r\n        self.send_response(200)\r\n        content_len = int(self.headers.get(&#39;Content-Length&#39;))\r\n        post_body = self.rfile.read(content_len)\r\n        self.pars_args(post_body)\r\n\r\n    def pars_args(self,msg):\r\n        msg = msg.decode(&#39;UTF-8&#39;)\r\n        msg.split(&#39;\\n&#39;)\r\n        print(msg)\r\n```\r\n\r\n\r\nI would really like pars_args to return at least something from def do_GET. I know that in Get in Java I store my contacts in the URL. But I’m not smart enough to see them in Python on the Server :((\r\n\r\npars_args was now set for Post requests...\r\n\r\n\r\nI know that I need to decode the data back in order to output it in print(msg) or at least in a Get request so that it appears on my server, for example, but I just can’t get the data\r\n\r\nI tried to rewrite pars_args for do_GET but it didn’t work... I don’t understand\r\n\r\n\r\nI took the get request code from [here][1] \r\n\r\n\r\n  [1]: https://www.8host.com/blog/otpravka-http-zaprosov-get-i-post-v-java/","title":"How to get information from a Get-Request","body":"<p>I'm writing a service in Java. Which sends a get request to the server. I store the URL of my contacts in it (I hope)</p>\n<pre><code>public static void sendGET(**String tmp**) throws IOException {\n        URL obj = new URL(GET_URL);\n        HttpURLConnection con = (HttpURLConnection) obj.openConnection();\n        con.setReadTimeout(5000);\n        con.setConnectTimeout(5000);\n        con.setRequestMethod(&quot;GET&quot;);\n}\n</code></pre>\n<p>Also I have a Python server,</p>\n<pre class=\"lang-py prettyprint-override\"><code>from http.server import BaseHTTPRequestHandler, HTTPServer\nfrom urllib.parse import urlparse\n\nhostName = &quot;192.168.31.225&quot;\nserverPort = 8080\n\nclass MyServer(BaseHTTPRequestHandler):\n    def do_GET(self):\n        self.send_response(200)\n        print(self.requestline)\n        self.send_header(&quot;Content-type&quot;, &quot;text/html&quot;)\n        self.end_headers()\n        self.wfile.write(bytes(&quot;&lt;html&gt;&lt;head&gt;&lt;title&gt;https://pythonbasics.org&lt;/title&gt;&lt;/head&gt;&quot;, &quot;utf-8&quot;))\n        self.wfile.write(bytes(&quot;&lt;p&gt;Request: %s&lt;/p&gt;&quot; % self.path, &quot;utf-8&quot;))\n        self.wfile.write(bytes(&quot;&lt;body&gt;&quot;, &quot;utf-8&quot;))\n        self.wfile.write(bytes(&quot;&lt;p&gt;This is an example web server.&lt;/p&gt;&quot;, &quot;utf-8&quot;))\n        self.wfile.write(bytes(&quot;&lt;/body&gt;&lt;/html&gt;&quot;, &quot;utf-8&quot;))\n\n\n    def do_POST(self):\n        self.send_response(200)\n        content_len = int(self.headers.get('Content-Length'))\n        post_body = self.rfile.read(content_len)\n        self.pars_args(post_body)\n\n    def pars_args(self,msg):\n        msg = msg.decode('UTF-8')\n        msg.split('\\n')\n        print(msg)\n</code></pre>\n<p>I would really like pars_args to return at least something from def do_GET. I know that in Get in Java I store my contacts in the URL. But I’m not smart enough to see them in Python on the Server :((</p>\n<p>pars_args was now set for Post requests...</p>\n<p>I know that I need to decode the data back in order to output it in print(msg) or at least in a Get request so that it appears on my server, for example, but I just can’t get the data</p>\n<p>I tried to rewrite pars_args for do_GET but it didn’t work... I don’t understand</p>\n<p>I took the get request code from <a href=\"https://www.8host.com/blog/otpravka-http-zaprosov-get-i-post-v-java/\" rel=\"nofollow noreferrer\">here</a></p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1888781,"reputation":2007,"user_id":1707427,"display_name":"S&#246;ren"},"score":1,"creation_date":1697727986,"post_id":77324839,"comment_id":136318804,"body_markdown":"Does this answer your question? [Scanner is skipping nextLine() after using next() or nextFoo()?](https://stackoverflow.com/questions/13102045/scanner-is-skipping-nextline-after-using-next-or-nextfoo)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/13102045/scanner-is-skipping-nextline-after-using-next-or-nextfoo\">Scanner is skipping nextLine() after using next() or nextFoo()?</a>"}],"answers":[{"comments":[{"owner":{"account_id":29557403,"reputation":1,"user_id":22652769,"display_name":"ciggy"},"score":0,"creation_date":1697745690,"post_id":77324999,"comment_id":136321988,"body_markdown":"Thank you for the help I understand what&#39;s wrong now","body":"Thank you for the help I understand what&#39;s wrong now"},{"owner":{"account_id":4113392,"reputation":5800,"user_id":3375670,"accept_rate":88,"display_name":"Robert Kock"},"score":0,"creation_date":1697800382,"post_id":77324999,"comment_id":136328399,"body_markdown":"If this resolves your problem you might consider accepting the answer","body":"If this resolves your problem you might consider accepting the answer"}],"tags":[],"owner":{"account_id":4113392,"reputation":5800,"user_id":3375670,"accept_rate":88,"display_name":"Robert Kock"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697728085,"creation_date":1697728085,"answer_id":77324999,"question_id":77324839,"body_markdown":"You initialized &lt;code&gt;small&lt;/code&gt; as an empty string.  \r\nAny non-empty string will be greater than that one. You therefore never re-assign small.\r\n\r\nYou might try this:\r\n\r\n    if (small.isEmpty() || (word.compareTo(small) &lt; 0))\r\n      small = word;\r\n    if (large.isEmpty() || (word.compareTo(large) &gt; 0))\r\n      large = word;\r\n\r\n","title":"Why is while(scan.hasNext()) skipping if statement?","body":"<p>You initialized <code>small</code> as an empty string.<br />\nAny non-empty string will be greater than that one. You therefore never re-assign small.</p>\n<p>You might try this:</p>\n<pre><code>if (small.isEmpty() || (word.compareTo(small) &lt; 0))\n  small = word;\nif (large.isEmpty() || (word.compareTo(large) &gt; 0))\n  large = word;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":29557403,"reputation":1,"user_id":22652769,"display_name":"ciggy"},"score":0,"creation_date":1697745631,"post_id":77325111,"comment_id":136321982,"body_markdown":"Thank you for the help this makes sense now","body":"Thank you for the help this makes sense now"}],"tags":[],"owner":{"account_id":28021555,"reputation":11,"user_id":21402271,"display_name":"emily"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697728890,"creation_date":1697728890,"answer_id":77325111,"question_id":77324839,"body_markdown":"Checking if `small` and `larg` are empty is necessary to handle the scenario where these variables haven&#39;t been assigned any values yet. If they are empty, it means no words have been assigned to them, and the current word should be assigned to them without considering lexicographical comparisons.\r\n\r\n    while (scan.hasNext()) {\r\n            String word = scan.next();\r\n            if (!word.equalsIgnoreCase(&quot;stop&quot;)) {\r\n                if (small.isEmpty() || word.compareTo(small) &lt; 0) {\r\n                    small = word;\r\n                }\r\n                if (larg.isEmpty() || word.compareTo(larg) &gt; 0) {\r\n                    larg = word;\r\n                }\r\n            } else {\r\n                break;\r\n            }\r\n        }\r\n\r\nChanging the code to this will give the following result:\r\n\r\n    First word will be: animal\r\n    Last word will be: grapes","title":"Why is while(scan.hasNext()) skipping if statement?","body":"<p>Checking if <code>small</code> and <code>larg</code> are empty is necessary to handle the scenario where these variables haven't been assigned any values yet. If they are empty, it means no words have been assigned to them, and the current word should be assigned to them without considering lexicographical comparisons.</p>\n<pre><code>while (scan.hasNext()) {\n        String word = scan.next();\n        if (!word.equalsIgnoreCase(&quot;stop&quot;)) {\n            if (small.isEmpty() || word.compareTo(small) &lt; 0) {\n                small = word;\n            }\n            if (larg.isEmpty() || word.compareTo(larg) &gt; 0) {\n                larg = word;\n            }\n        } else {\n            break;\n        }\n    }\n</code></pre>\n<p>Changing the code to this will give the following result:</p>\n<pre><code>First word will be: animal\nLast word will be: grapes\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697748010,"creation_date":1697735503,"answer_id":77325815,"question_id":77324839,"body_markdown":"&gt; _&#39;... it should be printing   `pw.println(&quot;First word will be: &quot; + small);` but it will only print &quot;First word will be: &quot; and does not print small however it will print  `pw.println(&quot;Last word will be: &quot; + larg);` ...&#39;_\r\n\r\nThis is because the following condition is never met, since _small_ is empty.\r\n\r\n```java\r\nif (word.compareTo(small) &lt; 0) small = word\r\n```\r\n\r\nCheck _small_ first.\r\n\r\n```java\r\nif (small.isEmpty() || word.compareTo(small) &lt; 0) small = word\r\n```\r\n\r\nAdditionally, you need to use _[next](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Scanner.html#next())_, rather than _nextLine_.\r\n\r\n```java\r\nString word = scan.next()\r\n```\r\n\r\nHere are some recommendations for your code.\r\n\r\nUse a _[try-with-resources](https://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html) statement_ for the _PrintWriter_ and _Scanner_ objects.\r\n\r\nAnd, you are using _&quot;[append mode](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/io/FileWriter.html#%3Cinit%3E(java.io.File,boolean))&quot;_, for _FileWriter_.&amp;nbsp; This is for appending data to existing files.\\\r\nThis is uncorrelated to the _[append](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/io/Writer.html#append(java.lang.CharSequence))_ method.\r\n\r\n```java\r\nnew FileWriter(&quot;celsius.txt&quot;, true)\r\n```\r\n\r\nHere is a re-factor.\r\n\r\n```java\r\ntry (PrintWriter w = new PrintWriter(&quot;temperature.txt&quot;)) {\r\n    w.println(&quot;82.5\\n30\\n92\\n78\\n32\\n98.8\\n-1\\nbanana\\ngrapes\\nanimal\\nStop\\n45&quot;);\r\n}\r\ntry (PrintWriter w = new PrintWriter(new FileWriter(&quot;celsius.txt&quot;))) {\r\n    try (Scanner in = new Scanner(new File(&quot;temperature.txt&quot;))) {\r\n        double v;\r\n        String s, first = null, last = null;\r\n        while (in.hasNext())\r\n            if ((v = in.nextDouble()) == -1) break;\r\n            else w.printf(&quot;%.2f%n&quot;, (v - 32) * 5 / 9);\r\n        while (in.hasNext())\r\n            if ((s = in.next()).equalsIgnoreCase(&quot;stop&quot;)) break;\r\n            else if (first == null || s.compareTo(first) &lt; 0) first = s;\r\n            else if (last == null || s.compareTo(last) &gt; 0) last = s;\r\n        w.println(&quot;First word will be: &quot; + first);\r\n        w.println(&quot;Last word will be: &quot; + last);\r\n        while (in.hasNext())\r\n            if ((v = in.nextDouble()) &gt;= 1 &amp;&amp; v &lt;= 50) {\r\n                while (v &lt;= 59) w.print((v * v++) + &quot;, &quot;);\r\n                w.print(++v * v);\r\n            }\r\n    }\r\n}\r\ntry (Scanner in = new Scanner(new File(&quot;celsius.txt&quot;))) {\r\n    while (in.hasNextLine()) System.out.println(in.nextLine());\r\n}\r\n```\r\n\r\nOutput\r\n\r\n```none\r\n28.06\r\n-1.11\r\n33.33\r\n25.56\r\n0.00\r\n37.11\r\nFirst word will be: animal\r\nLast word will be: grapes\r\n2025.0, 2116.0, 2209.0, 2304.0, 2401.0, 2500.0, 2601.0, 2704.0, 2809.0, 2916.0, 3025.0, 3136.0, 3249.0, 3364.0, 3481.0, 3721.0\r\n```","title":"Why is while(scan.hasNext()) skipping if statement?","body":"<blockquote>\n<p><em>'... it should be printing   <code>pw.println(&quot;First word will be: &quot; + small);</code> but it will only print &quot;First word will be: &quot; and does not print small however it will print  <code>pw.println(&quot;Last word will be: &quot; + larg);</code> ...'</em></p>\n</blockquote>\n<p>This is because the following condition is never met, since <em>small</em> is empty.</p>\n<pre class=\"lang-java prettyprint-override\"><code>if (word.compareTo(small) &lt; 0) small = word\n</code></pre>\n<p>Check <em>small</em> first.</p>\n<pre class=\"lang-java prettyprint-override\"><code>if (small.isEmpty() || word.compareTo(small) &lt; 0) small = word\n</code></pre>\n<p>Additionally, you need to use <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Scanner.html#next()\" rel=\"nofollow noreferrer\">next</a></em>, rather than <em>nextLine</em>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String word = scan.next()\n</code></pre>\n<p>Here are some recommendations for your code.</p>\n<p>Use a <em><a href=\"https://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html\" rel=\"nofollow noreferrer\">try-with-resources</a> statement</em> for the <em>PrintWriter</em> and <em>Scanner</em> objects.</p>\n<p>And, you are using <em>&quot;<a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/io/FileWriter.html#%3Cinit%3E(java.io.File,boolean)\" rel=\"nofollow noreferrer\">append mode</a>&quot;</em>, for <em>FileWriter</em>.  This is for appending data to existing files.<br />\nThis is uncorrelated to the <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/io/Writer.html#append(java.lang.CharSequence)\" rel=\"nofollow noreferrer\">append</a></em> method.</p>\n<pre class=\"lang-java prettyprint-override\"><code>new FileWriter(&quot;celsius.txt&quot;, true)\n</code></pre>\n<p>Here is a re-factor.</p>\n<pre class=\"lang-java prettyprint-override\"><code>try (PrintWriter w = new PrintWriter(&quot;temperature.txt&quot;)) {\n    w.println(&quot;82.5\\n30\\n92\\n78\\n32\\n98.8\\n-1\\nbanana\\ngrapes\\nanimal\\nStop\\n45&quot;);\n}\ntry (PrintWriter w = new PrintWriter(new FileWriter(&quot;celsius.txt&quot;))) {\n    try (Scanner in = new Scanner(new File(&quot;temperature.txt&quot;))) {\n        double v;\n        String s, first = null, last = null;\n        while (in.hasNext())\n            if ((v = in.nextDouble()) == -1) break;\n            else w.printf(&quot;%.2f%n&quot;, (v - 32) * 5 / 9);\n        while (in.hasNext())\n            if ((s = in.next()).equalsIgnoreCase(&quot;stop&quot;)) break;\n            else if (first == null || s.compareTo(first) &lt; 0) first = s;\n            else if (last == null || s.compareTo(last) &gt; 0) last = s;\n        w.println(&quot;First word will be: &quot; + first);\n        w.println(&quot;Last word will be: &quot; + last);\n        while (in.hasNext())\n            if ((v = in.nextDouble()) &gt;= 1 &amp;&amp; v &lt;= 50) {\n                while (v &lt;= 59) w.print((v * v++) + &quot;, &quot;);\n                w.print(++v * v);\n            }\n    }\n}\ntry (Scanner in = new Scanner(new File(&quot;celsius.txt&quot;))) {\n    while (in.hasNextLine()) System.out.println(in.nextLine());\n}\n</code></pre>\n<p>Output</p>\n<pre class=\"lang-none prettyprint-override\"><code>28.06\n-1.11\n33.33\n25.56\n0.00\n37.11\nFirst word will be: animal\nLast word will be: grapes\n2025.0, 2116.0, 2209.0, 2304.0, 2401.0, 2500.0, 2601.0, 2704.0, 2809.0, 2916.0, 3025.0, 3136.0, 3249.0, 3364.0, 3481.0, 3721.0\n</code></pre>\n"}],"owner":{"account_id":29557403,"reputation":1,"user_id":22652769,"display_name":"ciggy"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":101,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1697748010,"creation_date":1697727069,"question_id":77324839,"body_markdown":"\r\nMy code seems like it is going from my second `while(scan.hasNext())` to  `if(word.compareTo(larg)&gt;0)` and skipping over   `if(word.compareTo(small) &lt; 0)` it should be printing   `pw.println(&quot;First word will be: &quot; + small);` but it will only print &quot;First word will be: &quot; and does not print small however it will print  `pw.println(&quot;Last word will be: &quot; + larg);`\r\n\r\n```java\r\npublic static void main(String[] args) throws IOException {\r\n    PrintWriter createFile = new PrintWriter(&quot;temperature.txt&quot;);\r\n\r\n    createFile.println(&quot;82.5\\n30\\n92\\n78\\n32\\n98.8\\n-1\\nbanana\\ngrapes\\nanimal\\nStop\\n45&quot;);\r\n\r\n    createFile.close();\r\n\r\n    Scanner key = new Scanner(System.in);\r\n\r\n    float c;\r\n    String cel;\r\n    String stop = &quot;Stop&quot;;\r\n\r\n    String small = &quot;&quot;;\r\n    String larg = &quot;&quot;;\r\n    File f = new File(&quot;temperature.txt&quot;);\r\n    Scanner scan = new Scanner(f);\r\n    FileWriter fw = new FileWriter(&quot;celsius.txt&quot;, true);\r\n    PrintWriter pw = new PrintWriter(fw);\r\n    while (scan.hasNext()) {\r\n        float can = scan.nextFloat();\r\n        if (can == (-1)) {\r\n            break;\r\n        } else\r\n            c = (can - 32) * 5 / 9;\r\n        cel = String.format(&quot;%.2f&quot;, +c);\r\n        pw.println(cel);\r\n    }\r\n\r\n    while (scan.hasNext()) {\r\n        String word = scan.nextLine();\r\n        if (!word.equalsIgnoreCase(&quot;stop&quot;)) {\r\n            if (word.compareTo(small) &lt; 0) {\r\n                small = word;\r\n            }\r\n            if (word.compareTo(larg) &gt; 0) {\r\n                larg = word;\r\n            }\r\n        } else\r\n            break;\r\n    }\r\n\r\n    pw.println(&quot;First word will be: &quot; + small);\r\n    pw.println(&quot;Last word will be: &quot; + larg);\r\n    \r\n    while (scan.hasNext()) {\r\n        double num = scan.nextDouble();\r\n\r\n        if (num &gt;= 1 &amp;&amp; num &lt;= 50) {\r\n            while (num &lt;= 59) {\r\n                pw.print(Math.pow(num, 2) + &quot;, &quot;);\r\n                num++;\r\n            }\r\n            num++;\r\n            pw.print(Math.pow(num, 2));\r\n        }\r\n    }\r\n    pw.close();\r\n    \r\n    Scanner input = new Scanner(new File(&quot;celsius.txt&quot;));\r\n\r\n    while (input.hasNext())\r\n        System.out.println(input.nextLine());\r\n    // TODO code application logic here\r\n}\r\n```","title":"Why is while(scan.hasNext()) skipping if statement?","body":"<p>My code seems like it is going from my second <code>while(scan.hasNext())</code> to  <code>if(word.compareTo(larg)&gt;0)</code> and skipping over   <code>if(word.compareTo(small) &lt; 0)</code> it should be printing   <code>pw.println(&quot;First word will be: &quot; + small);</code> but it will only print &quot;First word will be: &quot; and does not print small however it will print  <code>pw.println(&quot;Last word will be: &quot; + larg);</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] args) throws IOException {\n    PrintWriter createFile = new PrintWriter(&quot;temperature.txt&quot;);\n\n    createFile.println(&quot;82.5\\n30\\n92\\n78\\n32\\n98.8\\n-1\\nbanana\\ngrapes\\nanimal\\nStop\\n45&quot;);\n\n    createFile.close();\n\n    Scanner key = new Scanner(System.in);\n\n    float c;\n    String cel;\n    String stop = &quot;Stop&quot;;\n\n    String small = &quot;&quot;;\n    String larg = &quot;&quot;;\n    File f = new File(&quot;temperature.txt&quot;);\n    Scanner scan = new Scanner(f);\n    FileWriter fw = new FileWriter(&quot;celsius.txt&quot;, true);\n    PrintWriter pw = new PrintWriter(fw);\n    while (scan.hasNext()) {\n        float can = scan.nextFloat();\n        if (can == (-1)) {\n            break;\n        } else\n            c = (can - 32) * 5 / 9;\n        cel = String.format(&quot;%.2f&quot;, +c);\n        pw.println(cel);\n    }\n\n    while (scan.hasNext()) {\n        String word = scan.nextLine();\n        if (!word.equalsIgnoreCase(&quot;stop&quot;)) {\n            if (word.compareTo(small) &lt; 0) {\n                small = word;\n            }\n            if (word.compareTo(larg) &gt; 0) {\n                larg = word;\n            }\n        } else\n            break;\n    }\n\n    pw.println(&quot;First word will be: &quot; + small);\n    pw.println(&quot;Last word will be: &quot; + larg);\n    \n    while (scan.hasNext()) {\n        double num = scan.nextDouble();\n\n        if (num &gt;= 1 &amp;&amp; num &lt;= 50) {\n            while (num &lt;= 59) {\n                pw.print(Math.pow(num, 2) + &quot;, &quot;);\n                num++;\n            }\n            num++;\n            pw.print(Math.pow(num, 2));\n        }\n    }\n    pw.close();\n    \n    Scanner input = new Scanner(new File(&quot;celsius.txt&quot;));\n\n    while (input.hasNext())\n        System.out.println(input.nextLine());\n    // TODO code application logic here\n}\n</code></pre>\n"},{"tags":["java","amazon-web-services","spring-cloud-config"],"comments":[{"owner":{"account_id":1022874,"reputation":33518,"user_id":1032785,"accept_rate":50,"display_name":"jordanm"},"score":0,"creation_date":1697751501,"post_id":77326951,"comment_id":136322756,"body_markdown":"If you&#39;re using spring v3, the setup is a little different now https://docs.awspring.io/spring-cloud-aws/docs/3.0.0/reference/html/index.html#loading-external-configuration-2. Your current setup looks right at a glance for spring v2.","body":"If you&#39;re using spring v3, the setup is a little different now <a href=\"https://docs.awspring.io/spring-cloud-aws/docs/3.0.0/reference/html/index.html#loading-external-configuration-2\" rel=\"nofollow noreferrer\">docs.awspring.io/spring-cloud-aws/docs/3.0.0/reference/html/&zwnj;&#8203;&hellip;</a>. Your current setup looks right at a glance for spring v2."},{"owner":{"account_id":1540816,"reputation":10259,"user_id":1435543,"display_name":"smac2020"},"score":0,"creation_date":1697753096,"post_id":77326951,"comment_id":136322937,"body_markdown":"Why not use the Offiical AWS SDK For Java V2 Secret manager API within a Spring Boot project. It works fine.","body":"Why not use the Offiical AWS SDK For Java V2 Secret manager API within a Spring Boot project. It works fine."},{"owner":{"account_id":1442071,"reputation":8707,"user_id":1361901,"display_name":"Joseph Larson"},"score":0,"creation_date":1697818874,"post_id":77326951,"comment_id":136331877,"body_markdown":"I think I have version issues. The starter project used spring boot 3.1.5, which may not be supported by some of the other tools needed. I&#39;ve tried 2.7.x, but I&#39;m not getting any further.","body":"I think I have version issues. The starter project used spring boot 3.1.5, which may not be supported by some of the other tools needed. I&#39;ve tried 2.7.x, but I&#39;m not getting any further."}],"owner":{"account_id":1442071,"reputation":8707,"user_id":1361901,"display_name":"Joseph Larson"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":132,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697747745,"creation_date":1697747745,"question_id":77326951,"body_markdown":"I&#39;m trying to configure a Spring Cloud Config Server to use either AWS Secrets Manager or Parameter Store. I&#39;ve been hitting brick wall after brick wall.\r\n\r\nThis is my latest `pom.xml`:\r\n\r\n     &lt;dependencies&gt;\r\n        &lt;!-- Config server --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-cloud-config-server&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        ... a bunch of stuff that doesn&#39;t matter ...\r\n        &lt;!-- AWS - fairly sure I don&#39;t want all of these --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;software.amazon.awssdk&lt;/groupId&gt;\r\n            &lt;artifactId&gt;aws-sdk-java&lt;/artifactId&gt;\r\n            &lt;version&gt;2.20.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.awspring.cloud&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-cloud-aws-secrets-manager-config&lt;/artifactId&gt;\r\n            &lt;version&gt;2.4.4&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.awspring.cloud&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-cloud-starter-aws-secrets-manager-config&lt;/artifactId&gt;\r\n            &lt;version&gt;2.4.4&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n     &lt;dependencies&gt;\r\n\r\nAnd my application.yml:\r\n\r\n    server:\r\n      port: 8888\r\n    \r\n    spring:\r\n      profiles:\r\n        active: aws-secretsmanager\r\n      cloud:\r\n        config:\r\n          server:\r\n            aws-secretsmanager:\r\n              region: us-west-1\r\n              default-label: latest\r\n\r\nAnd this is lengthy, but it&#39;s what happens when I run it:\r\n\r\n    2023-10-19T15:23:54.915-05:00  INFO 54547 --- [           main] c.t.s.SpringCloudConfigServerApplication : Starting SpringCloudConfigServerApplication using Java 17.0.8 with PID 54547 (/Users/jpl/Work/Research/SpringCloudConfigServer/target/classes started by jpl in /Users/jpl/Work/Research/SpringCloudConfigServer)\r\n    2023-10-19T15:23:54.916-05:00  INFO 54547 --- [           main] c.t.s.SpringCloudConfigServerApplication : The following 1 profile is active: &quot;aws-secretsmanager&quot;\r\n    2023-10-19T15:23:55.281-05:00  INFO 54547 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode\r\n    2023-10-19T15:23:55.281-05:00  INFO 54547 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JDBC repositories in DEFAULT mode.\r\n    2023-10-19T15:23:55.288-05:00  INFO 54547 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 5 ms. Found 0 JDBC repository interfaces.\r\n    2023-10-19T15:23:55.294-05:00  INFO 54547 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode\r\n    2023-10-19T15:23:55.295-05:00  INFO 54547 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.\r\n    2023-10-19T15:23:55.298-05:00  INFO 54547 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 0 ms. Found 0 Redis repository interfaces.\r\n    2023-10-19T15:23:55.386-05:00  INFO 54547 --- [           main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=50679c0d-1bc9-3d1c-bef4-1fae13e98217\r\n    2023-10-19T15:23:55.549-05:00  INFO 54547 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8888 (http)\r\n    2023-10-19T15:23:55.552-05:00  INFO 54547 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\r\n    2023-10-19T15:23:55.552-05:00  INFO 54547 --- [           main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.13]\r\n    2023-10-19T15:23:55.593-05:00  INFO 54547 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\r\n    2023-10-19T15:23:55.594-05:00  INFO 54547 --- [           main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 657 ms\r\n    2023-10-19T15:23:55.775-05:00  WARN 54547 --- [           main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;dataSource&#39; defined in class path resource [org/springframework/boot/autoconfigure/jdbc/DataSourceConfiguration$Hikari.class]: Failed to instantiate [com.zaxxer.hikari.HikariDataSource]: Factory method &#39;dataSource&#39; threw exception with message: Failed to determine a suitable driver class\r\n    2023-10-19T15:23:55.777-05:00  INFO 54547 --- [           main] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]\r\n    2023-10-19T15:23:55.785-05:00  INFO 54547 --- [           main] .s.b.a.l.ConditionEvaluationReportLogger :\r\n    \r\n    Error starting ApplicationContext. To display the condition evaluation report re-run your application with &#39;debug&#39; enabled.\r\n    2023-10-19T15:23:55.795-05:00 ERROR 54547 --- [           main] o.s.b.d.LoggingFailureAnalysisReporter   :\r\n    \r\n    ***************************\r\n    APPLICATION FAILED TO START\r\n    ***************************\r\n    \r\n    Description:\r\n    \r\n    Failed to configure a DataSource: &#39;url&#39; attribute is not specified and no embedded datasource could be configured.\r\n    \r\n    Reason: Failed to determine a suitable driver class\r\n    \r\n    \r\n    Action:\r\n    \r\n    Consider the following:\r\n        If you want an embedded database (H2, HSQL or Derby), please put it on the classpath.\r\n        If you have database settings to be loaded from a particular profile you may need to activate it (the profiles aws-secretsmanager are currently active).\r\n    \r\n    \r\n    Process finished with exit code 1\r\n\r\nI&#39;m not even close to getting this to work, and I still haven&#39;t gotten to the point of being able to specify my AWS credentials.\r\n\r\nI&#39;m using IntelliJ, which is pretty good helping me write my application.yml file, but it flat out doesn&#39;t recognize anything related to specifying AWS credentials. I don&#39;t know if I just don&#39;t have the right dependencies or what is wrong.\r\n\r\nDoes anyone have an actual working application that uses AWS anything with Spring Cloud Config?\r\n\r\n\r\n","title":"Spring Cloud Config with AWS Secrets Manager or Parameter Store","body":"<p>I'm trying to configure a Spring Cloud Config Server to use either AWS Secrets Manager or Parameter Store. I've been hitting brick wall after brick wall.</p>\n<p>This is my latest <code>pom.xml</code>:</p>\n<pre><code> &lt;dependencies&gt;\n    &lt;!-- Config server --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-cloud-config-server&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    ... a bunch of stuff that doesn't matter ...\n    &lt;!-- AWS - fairly sure I don't want all of these --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;software.amazon.awssdk&lt;/groupId&gt;\n        &lt;artifactId&gt;aws-sdk-java&lt;/artifactId&gt;\n        &lt;version&gt;2.20.2&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.awspring.cloud&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-cloud-aws-secrets-manager-config&lt;/artifactId&gt;\n        &lt;version&gt;2.4.4&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.awspring.cloud&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-cloud-starter-aws-secrets-manager-config&lt;/artifactId&gt;\n        &lt;version&gt;2.4.4&lt;/version&gt;\n    &lt;/dependency&gt;\n &lt;dependencies&gt;\n</code></pre>\n<p>And my application.yml:</p>\n<pre><code>server:\n  port: 8888\n\nspring:\n  profiles:\n    active: aws-secretsmanager\n  cloud:\n    config:\n      server:\n        aws-secretsmanager:\n          region: us-west-1\n          default-label: latest\n</code></pre>\n<p>And this is lengthy, but it's what happens when I run it:</p>\n<pre><code>2023-10-19T15:23:54.915-05:00  INFO 54547 --- [           main] c.t.s.SpringCloudConfigServerApplication : Starting SpringCloudConfigServerApplication using Java 17.0.8 with PID 54547 (/Users/jpl/Work/Research/SpringCloudConfigServer/target/classes started by jpl in /Users/jpl/Work/Research/SpringCloudConfigServer)\n2023-10-19T15:23:54.916-05:00  INFO 54547 --- [           main] c.t.s.SpringCloudConfigServerApplication : The following 1 profile is active: &quot;aws-secretsmanager&quot;\n2023-10-19T15:23:55.281-05:00  INFO 54547 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode\n2023-10-19T15:23:55.281-05:00  INFO 54547 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JDBC repositories in DEFAULT mode.\n2023-10-19T15:23:55.288-05:00  INFO 54547 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 5 ms. Found 0 JDBC repository interfaces.\n2023-10-19T15:23:55.294-05:00  INFO 54547 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode\n2023-10-19T15:23:55.295-05:00  INFO 54547 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.\n2023-10-19T15:23:55.298-05:00  INFO 54547 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 0 ms. Found 0 Redis repository interfaces.\n2023-10-19T15:23:55.386-05:00  INFO 54547 --- [           main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=50679c0d-1bc9-3d1c-bef4-1fae13e98217\n2023-10-19T15:23:55.549-05:00  INFO 54547 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8888 (http)\n2023-10-19T15:23:55.552-05:00  INFO 54547 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\n2023-10-19T15:23:55.552-05:00  INFO 54547 --- [           main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.13]\n2023-10-19T15:23:55.593-05:00  INFO 54547 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\n2023-10-19T15:23:55.594-05:00  INFO 54547 --- [           main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 657 ms\n2023-10-19T15:23:55.775-05:00  WARN 54547 --- [           main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSource' defined in class path resource [org/springframework/boot/autoconfigure/jdbc/DataSourceConfiguration$Hikari.class]: Failed to instantiate [com.zaxxer.hikari.HikariDataSource]: Factory method 'dataSource' threw exception with message: Failed to determine a suitable driver class\n2023-10-19T15:23:55.777-05:00  INFO 54547 --- [           main] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]\n2023-10-19T15:23:55.785-05:00  INFO 54547 --- [           main] .s.b.a.l.ConditionEvaluationReportLogger :\n\nError starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.\n2023-10-19T15:23:55.795-05:00 ERROR 54547 --- [           main] o.s.b.d.LoggingFailureAnalysisReporter   :\n\n***************************\nAPPLICATION FAILED TO START\n***************************\n\nDescription:\n\nFailed to configure a DataSource: 'url' attribute is not specified and no embedded datasource could be configured.\n\nReason: Failed to determine a suitable driver class\n\n\nAction:\n\nConsider the following:\n    If you want an embedded database (H2, HSQL or Derby), please put it on the classpath.\n    If you have database settings to be loaded from a particular profile you may need to activate it (the profiles aws-secretsmanager are currently active).\n\n\nProcess finished with exit code 1\n</code></pre>\n<p>I'm not even close to getting this to work, and I still haven't gotten to the point of being able to specify my AWS credentials.</p>\n<p>I'm using IntelliJ, which is pretty good helping me write my application.yml file, but it flat out doesn't recognize anything related to specifying AWS credentials. I don't know if I just don't have the right dependencies or what is wrong.</p>\n<p>Does anyone have an actual working application that uses AWS anything with Spring Cloud Config?</p>\n"},{"tags":["java","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":2229513,"reputation":5172,"user_id":1967484,"display_name":"Deadron"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697747341,"creation_date":1697747341,"answer_id":77326904,"question_id":76956047,"body_markdown":"Just don&#39;t map the field if its null. \r\n\r\n\r\n    if (orgPatient.getDob() != null) updatedUser.setDob(orgPatient.getDob());\r\nYour other option is to make the Dob field required and return a 400 response if its null.","title":"Getting a null error while hitting Update API for the field I dont need to change AND how to pass multiple REQUEST BODY?","body":"<p>Just don't map the field if its null.</p>\n<pre><code>if (orgPatient.getDob() != null) updatedUser.setDob(orgPatient.getDob());\n</code></pre>\n<p>Your other option is to make the Dob field required and return a 400 response if its null.</p>\n"}],"owner":{"account_id":28730357,"reputation":73,"user_id":22002449,"display_name":"dracile"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1697747341,"creation_date":1692729396,"question_id":76956047,"body_markdown":"I&#39;m getting field DOB cant be null while hitting update API, but I don&#39;t want to update DOB so not passing it in payload on Postman. Still getting this error. DOB field is set to NOT NULL in database, but its a update API.\r\n\r\nAND\r\n\r\nI am sending 2 @RequestBody in Controller Function, how can I send  in single?  \r\n\r\nERROR\r\n```\r\njava.sql.SQLIntegrityConstraintViolationException: Column &#39;dob&#39; cannot be null\r\n\tat com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:117) ~[mysql-connector-java-8.0.26.jar:8.0.26]\r\n\tat com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122) ~[mysql-connector-java-8.0.26.jar:8.0.26]\r\n\tat com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:953) ~[mysql-connector-java-8.0.26.jar:8.0.26]\r\n\tat com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdateInternal(ClientPreparedStatement.java:1092) ~[mysql-connector-java-8.0.26.jar:8.0.26]\r\n\tat com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdateInternal(ClientPreparedStatement.java:1040) ~[mysql-connector-java-8.0.26.jar:8.0.26]\r\n\tat com.mysql.cj.jdbc.ClientPreparedStatement.executeLargeUpdate(ClientPreparedStatement.java:1350) ~[mysql-connector-java-8.0.26.jar:8.0.26]\r\n\tat com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdate(ClientPreparedStatement.java:1025) ~[mysql-connector-java-8.0.26.jar:8.0.26]\r\n\tat com.zaxxer.hikari.pool.ProxyPreparedStatement.executeUpdate(ProxyPreparedStatement.java:61) ~[HikariCP-5.0.1.jar:na]\r\n\tat com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeUpdate(HikariProxyPreparedStatement.java) ~[HikariCP-5.0.1.jar:na].............\r\n```\r\n\r\n**Service Code**   \r\nI have two two different tables and model class, **orgPatient and PatientContact**, and I have to update in both tables accordingly. \r\n```\r\npublic String updateColumn(String PatientId, OrgPatient orgPatient,PatientContact patientContact) {\r\n\r\n            Patient existPatient = PatientRepository.findByPatientId(PatientId);\r\n        \r\n        if (existPatient != null) {\r\n         \r\n\r\n            OrgPatient updatedUser = orgPatientRepository.findByOrgPatientId(PatientId);\r\n    PatientContact updatedContactUser = patientContactRepository.findByPatientId(PatientId);\r\n          \r\n\r\n            if (patientOrgId != null) {\r\n                updatedUser.setFirstName(orgPatient.getFirstName());\r\n                updatedUser.setMiddleName(orgPatient.getMiddleName());\r\n                updatedUser.setLastName(orgPatient.getLastName());\r\n                updatedUser.setDob(orgPatient.getDob());\r\n                updatedUser.setGender(orgPatient.getGender());\r\n         \r\n\r\n                updatedContactUser.setContactNumberType(patientContact.getContactNumberType());\r\n                updatedContactUser.setContactNumer(patientContact.getContactNumer());\r\n                updatedContactUser.setContactAreaCode(patientContact.getContactAreaCode());\r\n\r\n                orgPatientRepository.save(updatedUser);\r\n                patientContactRepository.save(updatedContactUser);\r\n                return &quot;updated&quot;;\r\n            } \r\n        }\r\n\r\n```\r\n\r\nController Class\r\n```\r\n@PutMapping(value=&quot;/update/{PatientId}&quot;)\r\n    public ResponseEntity&lt;String&gt; updateOrg(@PathVariable String PatientId,\r\n                                            @RequestBody OrgPatient orgPatient,\r\n                                            @RequestBody PatientContact patientContact) {\r\n\r\n        String ans=  updateOrgPatientService.updateOrgColumn(PatientId,orgPatient,patientContact);\r\n     \r\n       return ResponseEntity.ok(ans);\r\n    }\r\n```","title":"Getting a null error while hitting Update API for the field I dont need to change AND how to pass multiple REQUEST BODY?","body":"<p>I'm getting field DOB cant be null while hitting update API, but I don't want to update DOB so not passing it in payload on Postman. Still getting this error. DOB field is set to NOT NULL in database, but its a update API.</p>\n<p>AND</p>\n<p>I am sending 2 @RequestBody in Controller Function, how can I send  in single?</p>\n<p>ERROR</p>\n<pre><code>java.sql.SQLIntegrityConstraintViolationException: Column 'dob' cannot be null\n    at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:117) ~[mysql-connector-java-8.0.26.jar:8.0.26]\n    at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122) ~[mysql-connector-java-8.0.26.jar:8.0.26]\n    at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:953) ~[mysql-connector-java-8.0.26.jar:8.0.26]\n    at com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdateInternal(ClientPreparedStatement.java:1092) ~[mysql-connector-java-8.0.26.jar:8.0.26]\n    at com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdateInternal(ClientPreparedStatement.java:1040) ~[mysql-connector-java-8.0.26.jar:8.0.26]\n    at com.mysql.cj.jdbc.ClientPreparedStatement.executeLargeUpdate(ClientPreparedStatement.java:1350) ~[mysql-connector-java-8.0.26.jar:8.0.26]\n    at com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdate(ClientPreparedStatement.java:1025) ~[mysql-connector-java-8.0.26.jar:8.0.26]\n    at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeUpdate(ProxyPreparedStatement.java:61) ~[HikariCP-5.0.1.jar:na]\n    at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeUpdate(HikariProxyPreparedStatement.java) ~[HikariCP-5.0.1.jar:na].............\n</code></pre>\n<p><strong>Service Code</strong><br />\nI have two two different tables and model class, <strong>orgPatient and PatientContact</strong>, and I have to update in both tables accordingly.</p>\n<pre><code>public String updateColumn(String PatientId, OrgPatient orgPatient,PatientContact patientContact) {\n\n            Patient existPatient = PatientRepository.findByPatientId(PatientId);\n        \n        if (existPatient != null) {\n         \n\n            OrgPatient updatedUser = orgPatientRepository.findByOrgPatientId(PatientId);\n    PatientContact updatedContactUser = patientContactRepository.findByPatientId(PatientId);\n          \n\n            if (patientOrgId != null) {\n                updatedUser.setFirstName(orgPatient.getFirstName());\n                updatedUser.setMiddleName(orgPatient.getMiddleName());\n                updatedUser.setLastName(orgPatient.getLastName());\n                updatedUser.setDob(orgPatient.getDob());\n                updatedUser.setGender(orgPatient.getGender());\n         \n\n                updatedContactUser.setContactNumberType(patientContact.getContactNumberType());\n                updatedContactUser.setContactNumer(patientContact.getContactNumer());\n                updatedContactUser.setContactAreaCode(patientContact.getContactAreaCode());\n\n                orgPatientRepository.save(updatedUser);\n                patientContactRepository.save(updatedContactUser);\n                return &quot;updated&quot;;\n            } \n        }\n\n</code></pre>\n<p>Controller Class</p>\n<pre><code>@PutMapping(value=&quot;/update/{PatientId}&quot;)\n    public ResponseEntity&lt;String&gt; updateOrg(@PathVariable String PatientId,\n                                            @RequestBody OrgPatient orgPatient,\n                                            @RequestBody PatientContact patientContact) {\n\n        String ans=  updateOrgPatientService.updateOrgColumn(PatientId,orgPatient,patientContact);\n     \n       return ResponseEntity.ok(ans);\n    }\n</code></pre>\n"},{"tags":["java","gradle","javafx","build.gradle"],"comments":[{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1697746592,"post_id":77326715,"comment_id":136322096,"body_markdown":"[Documentation on the build-scan plugin](https://plugins.gradle.org/plugin/com.gradle.build-scan), and [user manual](https://docs.gradle.com/enterprise/gradle-plugin/).  From the user manual, setting this plugin up to work correctly looks complicated and is out of my area of expertise.","body":"<a href=\"https://plugins.gradle.org/plugin/com.gradle.build-scan\" rel=\"nofollow noreferrer\">Documentation on the build-scan plugin</a>, and <a href=\"https://docs.gradle.com/enterprise/gradle-plugin/\" rel=\"nofollow noreferrer\">user manual</a>.  From the user manual, setting this plugin up to work correctly looks complicated and is out of my area of expertise."}],"owner":{"account_id":19720332,"reputation":1,"user_id":14438815,"display_name":"Harshraj Singh"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697746674,"creation_date":1697745292,"question_id":77326715,"body_markdown":"**here is my build.gradle file**\r\n\r\n\r\n```\r\nimport org.apache.tools.ant.taskdefs.condition.Os\r\n\r\n\r\n\r\nbuildscript {\r\n    dependencies {\r\n        classpath group: &#39;de.dynamicfiles.projects.gradle.plugins&#39;, name: &#39;javafx-gradle-plugin&#39;, version: &#39;8.8.2&#39;\r\n        classpath &quot;com.gradle:build-scan-plugin:1.11&quot;\r\n    }\r\n    repositories {\r\n        mavenCentral()\r\n        maven {\r\n            url &quot;https://plugins.gradle.org/m2/&quot;\r\n        }\r\n    }\r\n}\r\n\r\n\r\napply plugin: &quot;com.gradle.build-scan&quot;\r\napply plugin: &#39;java&#39;\r\napply plugin: &#39;idea&#39;\r\napply plugin: &#39;application&#39;\r\napply plugin: &#39;javafx-gradle-plugin&#39;\r\napply plugin: &#39;war&#39; // for build excludes\r\n\r\n\r\nsourceSets {\r\n    main {\r\n        resources {\r\n            exclude &#39;Outputs/**&#39;\r\n        }\r\n    }\r\n}\r\n\r\n//jar.enabled = false\r\nsourceCompatibility = 1.8\r\ntargetCompatibility = 1.8\r\nmainClassName = &quot;Main&quot;\r\n\r\nrepositories{\r\n    //maven { url &quot;https://oss.sonatype.org/content/repositories/snapshots&quot; }\r\n    mavenCentral()\r\n}\r\n\r\njar {\r\n    zip64 = true\r\n}\r\n\r\next {\r\n\r\n    if (Os.isFamily(Os.FAMILY_UNIX)) {\r\n        os = &#39;linux&#39;\r\n    }\r\n    if (Os.isFamily(Os.FAMILY_MAC)) {\r\n        os = &#39;macosx&#39;\r\n    }\r\n    if (Os.isFamily(Os.FAMILY_WINDOWS)) {\r\n        os = &#39;windows&#39;\r\n    }\r\n    arch = System.getProperty(&quot;os.arch&quot;)\r\n\r\n    if(arch == &#39;amd64&#39;){\r\n        arch = &#39;x86_64&#39;\r\n    }\r\n    opencvBinaryClassifer = os+&#39;-&#39;+arch\r\n\r\n}\r\n\r\ndependencies {\r\n\r\n    // Local libraries\r\n    compile fileTree(&#39;lib&#39;)\r\n\r\n    // General\r\n    compile group: &#39;colt&#39;, name: &#39;colt&#39;, version: &#39;1.2.0&#39;\r\n    compile group: &#39;com.google.guava&#39;, name: &#39;guava&#39;, version: &#39;23.3-jre&#39;\r\n    compile group: &#39;org.apache.commons&#39;, name: &#39;commons-io&#39;, version: &#39;1.3.2&#39;\r\n\r\n    // Tesseract - ocr\r\n    compile group: &#39;org.bytedeco.javacpp-presets&#39;, name: &#39;tesseract&#39;, version: &#39;3.04.01-1.3&#39;\r\n    compile group: &#39;org.bytedeco.javacpp-presets&#39;, name: &#39;tesseract&#39;, version: &#39;3.04.01-1.3&#39;, classifier: opencvBinaryClassifer\r\n    compile group: &#39;org.bytedeco.javacpp-presets&#39;, name: &#39;leptonica&#39;, version: &#39;1.73-1.3&#39;, classifier: opencvBinaryClassifer\r\n    compile group: &#39;org.languagetool&#39;, name: &#39;language-en&#39;, version: &#39;3.8&#39;\r\n\r\n    // Testing\r\n    testCompile group: &#39;org.loadui&#39;, name: &#39;testFx&#39;, version: &#39;3.1.2&#39;\r\n    testCompile group: &#39;org.testfx&#39;, name: &#39;testfx-core&#39;, version: &#39;4.0.8-alpha&#39;\r\n    compile group: &#39;junit&#39;, name: &#39;junit&#39;, version: &#39;4.12&#39;\r\n}\r\n\r\ntest {\r\n    testLogging.showStandardStreams = true\r\n}\r\n\r\njfx{\r\n    verbose = true\r\n    appName = &quot;VideoText Extractor&quot;\r\n    mainClass = &#39;Main&#39;\r\n    vendor = &#39;Nikiforos Archakis&#39;\r\n    //bundler = &#39;windows.app&#39;\r\n//    bundleArguments = [\r\n//            &#39;runtime&#39;: &#39;C:\\\\Program Files\\\\Java\\\\jdk1.8.0_144\\\\jre&#39;\r\n//    ]\r\n}\r\n```\r\n\r\nam trying to run this application and getting error\r\n1. i tried changing the gradle to version 11 in settinng.\r\n2. tried uncomment this *apply plugin: &quot;com.gradle.build-scan&quot;*\r\n\r\n\r\n\r\n\r\n- [**This is the error am getting***your text*]An exception occurred applying plugin request [id: &#39;com.gradle.build-scan&#39;, version: &#39;3.15.1&#39;]\r\n&gt; Failed to apply plugin &#39;com.gradle.build-scan&#39;.\r\n   &gt; The build scan plugin is not compatible with this version of Gradle.\r\n\r\n\r\n**am trying to run a old java applicaion but unable to run it. he apllication is quite old. \r\nPlease assist.**","title":"Failed to apply plugin &#39;com.gradle.build-scan&#39;","body":"<p><strong>here is my build.gradle file</strong></p>\n<pre><code>import org.apache.tools.ant.taskdefs.condition.Os\n\n\n\nbuildscript {\n    dependencies {\n        classpath group: 'de.dynamicfiles.projects.gradle.plugins', name: 'javafx-gradle-plugin', version: '8.8.2'\n        classpath &quot;com.gradle:build-scan-plugin:1.11&quot;\n    }\n    repositories {\n        mavenCentral()\n        maven {\n            url &quot;https://plugins.gradle.org/m2/&quot;\n        }\n    }\n}\n\n\napply plugin: &quot;com.gradle.build-scan&quot;\napply plugin: 'java'\napply plugin: 'idea'\napply plugin: 'application'\napply plugin: 'javafx-gradle-plugin'\napply plugin: 'war' // for build excludes\n\n\nsourceSets {\n    main {\n        resources {\n            exclude 'Outputs/**'\n        }\n    }\n}\n\n//jar.enabled = false\nsourceCompatibility = 1.8\ntargetCompatibility = 1.8\nmainClassName = &quot;Main&quot;\n\nrepositories{\n    //maven { url &quot;https://oss.sonatype.org/content/repositories/snapshots&quot; }\n    mavenCentral()\n}\n\njar {\n    zip64 = true\n}\n\next {\n\n    if (Os.isFamily(Os.FAMILY_UNIX)) {\n        os = 'linux'\n    }\n    if (Os.isFamily(Os.FAMILY_MAC)) {\n        os = 'macosx'\n    }\n    if (Os.isFamily(Os.FAMILY_WINDOWS)) {\n        os = 'windows'\n    }\n    arch = System.getProperty(&quot;os.arch&quot;)\n\n    if(arch == 'amd64'){\n        arch = 'x86_64'\n    }\n    opencvBinaryClassifer = os+'-'+arch\n\n}\n\ndependencies {\n\n    // Local libraries\n    compile fileTree('lib')\n\n    // General\n    compile group: 'colt', name: 'colt', version: '1.2.0'\n    compile group: 'com.google.guava', name: 'guava', version: '23.3-jre'\n    compile group: 'org.apache.commons', name: 'commons-io', version: '1.3.2'\n\n    // Tesseract - ocr\n    compile group: 'org.bytedeco.javacpp-presets', name: 'tesseract', version: '3.04.01-1.3'\n    compile group: 'org.bytedeco.javacpp-presets', name: 'tesseract', version: '3.04.01-1.3', classifier: opencvBinaryClassifer\n    compile group: 'org.bytedeco.javacpp-presets', name: 'leptonica', version: '1.73-1.3', classifier: opencvBinaryClassifer\n    compile group: 'org.languagetool', name: 'language-en', version: '3.8'\n\n    // Testing\n    testCompile group: 'org.loadui', name: 'testFx', version: '3.1.2'\n    testCompile group: 'org.testfx', name: 'testfx-core', version: '4.0.8-alpha'\n    compile group: 'junit', name: 'junit', version: '4.12'\n}\n\ntest {\n    testLogging.showStandardStreams = true\n}\n\njfx{\n    verbose = true\n    appName = &quot;VideoText Extractor&quot;\n    mainClass = 'Main'\n    vendor = 'Nikiforos Archakis'\n    //bundler = 'windows.app'\n//    bundleArguments = [\n//            'runtime': 'C:\\\\Program Files\\\\Java\\\\jdk1.8.0_144\\\\jre'\n//    ]\n}\n</code></pre>\n<p>am trying to run this application and getting error</p>\n<ol>\n<li>i tried changing the gradle to version 11 in settinng.</li>\n<li>tried uncomment this <em>apply plugin: &quot;com.gradle.build-scan&quot;</em></li>\n</ol>\n<ul>\n<li>[<strong>This is the error am getting</strong><em>your text</em>]An exception occurred applying plugin request [id: 'com.gradle.build-scan', version: '3.15.1']</li>\n</ul>\n<blockquote>\n<p>Failed to apply plugin 'com.gradle.build-scan'.\nThe build scan plugin is not compatible with this version of Gradle.</p>\n</blockquote>\n<p><strong>am trying to run a old java applicaion but unable to run it. he apllication is quite old.\nPlease assist.</strong></p>\n"},{"tags":["java","telegram","telegram-bot"],"comments":[{"owner":{"account_id":6313442,"reputation":36281,"user_id":5625547,"display_name":"0stone0"},"score":0,"creation_date":1697794941,"post_id":77326619,"comment_id":136327407,"body_markdown":"You left your **Private Bot Token** in your code. You should revoke it **ASAP** by talking to the [@BotFather](https://t.me/BotFather). People might abuse the token.","body":"You left your <b>Private Bot Token</b> in your code. You should revoke it <b>ASAP</b> by talking to the <a href=\"https://t.me/BotFather\" rel=\"nofollow noreferrer\">@BotFather</a>. People might abuse the token."},{"owner":{"account_id":29663428,"reputation":11,"user_id":22734519,"display_name":"Jackie Chan"},"score":0,"creation_date":1697829084,"post_id":77326619,"comment_id":136333398,"body_markdown":"Not scary. This is temporary for the test. Thank you for your attention.","body":"Not scary. This is temporary for the test. Thank you for your attention."}],"owner":{"account_id":29663428,"reputation":11,"user_id":22734519,"display_name":"Jackie Chan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697746593,"creation_date":1697744268,"question_id":77326619,"body_markdown":"\r\n\r\n\r\nI send photos to the group\r\n\r\n\r\n\t\tpublic void executeImages() {\r\n\r\n\t\t        InputMediaPhoto photo1 = new InputMediaPhoto();\r\n\t\t        photo1.setMedia(new File(&quot;image.jpg&quot;), &quot;image.jpg&quot;);\r\n\t\t        photo1.setCaption(&quot;Hello World&quot;);\r\n\r\n\t\t        InputMediaPhoto photo2 = new InputMediaPhoto();\r\n\t\t        photo2.setMedia(new File(&quot;image2.jpg&quot;), &quot;image2.jpg&quot;);\r\n\t\t        \r\n\t\t        // ......... And 8 more photos\r\n\r\n\r\n\t\t        List&lt;InputMedia&gt; mediaItems = new ArrayList&lt;&gt;();\r\n\t\t        mediaItems.add(photo1);\r\n\t\t        mediaItems.add(photo2);\r\n\r\n\t\t        SendMediaGroup sendMediaGroup = new SendMediaGroup();\r\n\t\t        sendMediaGroup.setChatId(&quot;1234&quot;);\r\n\t\t        sendMediaGroup.setMedias(mediaItems);\r\n\r\n\t\t        Message response = execute(sendMediaGroup);\r\n\t\t        System.out.println(response);\r\n\r\n\t\t}\r\n\r\n\r\nafter which I receive a response\r\n\r\n\t\t......\r\n\t\t&quot;photo=&quot;[\r\n\t\t   PhotoSize(fileId=AgACAgIAAx0EdU4tbQACArplMYIf1aguPWCCTyJtJdyDtv22SwACCdIxG8qriUmXo4IzUpGK7wEAAwIAA3MAAzAE,\r\n\t\t   fileUniqueId=AQADCdIxG8qriUl4,\r\n\t\t   width=90,\r\n\t\t   height=90,\r\n\t\t   fileSize=2673,\r\n\t\t   &quot;filePath=null)&quot;,\r\n\t\t   PhotoSize(fileId=AgACAgIAAx0EdU4tbQACArplMYIf1aguPWCCTyJtJdyDtv22SwACCdIxG8qriUmXo4IzUpGK7wEAAwIAA20AAzAE,\r\n\t\t   fileUniqueId=AQADCdIxG8qriUly,\r\n\t\t   width=225,\r\n\t\t   height=225,\r\n\t\t   fileSize=14378,\r\n\t\t   &quot;filePath=null)&quot;\r\n\t\t]\r\n\t\t......\r\n\r\nPlease tell me how can I use this answer to get all the links to the photos?\r\n\r\nI tried using this method, https://stackoverflow.com/questions/43649537/how-can-i-get-file-path-of-telegram-bot  but it doesn&#39;t work.\r\n\r\n\r\n\r\n\r\n\t\tI use\r\n\t\thttps://api.telegram.org/file/bot5882468685:AAH3QIsQt3849xI-yKMJ_MV7QcN8XK7e32Q/getFile?file_id=AgACAgIAAx0EdU4tbQACArplMYIf1aguPWCCTyJtJdyDtv22SwACCdIxG8qriUmXo4IzUpGK7wEAAwIAA3MAAzAE\r\n\r\n\t\treturn\r\n\t\t{&quot;ok&quot;:false,&quot;error_code&quot;:404,&quot;description&quot;:&quot;Not Found&quot;}","title":"Java Telegram Bot - How to get links to photos?","body":"<p>I send photos to the group</p>\n<pre><code>    public void executeImages() {\n\n            InputMediaPhoto photo1 = new InputMediaPhoto();\n            photo1.setMedia(new File(&quot;image.jpg&quot;), &quot;image.jpg&quot;);\n            photo1.setCaption(&quot;Hello World&quot;);\n\n            InputMediaPhoto photo2 = new InputMediaPhoto();\n            photo2.setMedia(new File(&quot;image2.jpg&quot;), &quot;image2.jpg&quot;);\n            \n            // ......... And 8 more photos\n\n\n            List&lt;InputMedia&gt; mediaItems = new ArrayList&lt;&gt;();\n            mediaItems.add(photo1);\n            mediaItems.add(photo2);\n\n            SendMediaGroup sendMediaGroup = new SendMediaGroup();\n            sendMediaGroup.setChatId(&quot;1234&quot;);\n            sendMediaGroup.setMedias(mediaItems);\n\n            Message response = execute(sendMediaGroup);\n            System.out.println(response);\n\n    }\n</code></pre>\n<p>after which I receive a response</p>\n<pre><code>    ......\n    &quot;photo=&quot;[\n       PhotoSize(fileId=AgACAgIAAx0EdU4tbQACArplMYIf1aguPWCCTyJtJdyDtv22SwACCdIxG8qriUmXo4IzUpGK7wEAAwIAA3MAAzAE,\n       fileUniqueId=AQADCdIxG8qriUl4,\n       width=90,\n       height=90,\n       fileSize=2673,\n       &quot;filePath=null)&quot;,\n       PhotoSize(fileId=AgACAgIAAx0EdU4tbQACArplMYIf1aguPWCCTyJtJdyDtv22SwACCdIxG8qriUmXo4IzUpGK7wEAAwIAA20AAzAE,\n       fileUniqueId=AQADCdIxG8qriUly,\n       width=225,\n       height=225,\n       fileSize=14378,\n       &quot;filePath=null)&quot;\n    ]\n    ......\n</code></pre>\n<p>Please tell me how can I use this answer to get all the links to the photos?</p>\n<p>I tried using this method, <a href=\"https://stackoverflow.com/questions/43649537/how-can-i-get-file-path-of-telegram-bot\">How can i get file_path of telegram bot</a>  but it doesn't work.</p>\n<pre><code>    I use\n    https://api.telegram.org/file/bot5882468685:AAH3QIsQt3849xI-yKMJ_MV7QcN8XK7e32Q/getFile?file_id=AgACAgIAAx0EdU4tbQACArplMYIf1aguPWCCTyJtJdyDtv22SwACCdIxG8qriUmXo4IzUpGK7wEAAwIAA3MAAzAE\n\n    return\n    {&quot;ok&quot;:false,&quot;error_code&quot;:404,&quot;description&quot;:&quot;Not Found&quot;}\n</code></pre>\n"},{"tags":["java","gradle"],"comments":[{"owner":{"account_id":990530,"reputation":13072,"user_id":1007991,"accept_rate":82,"display_name":"Renato"},"score":0,"creation_date":1697659109,"post_id":77318820,"comment_id":136309179,"body_markdown":"Run Gradle with `--stacktrace` or `--debug` options to get more information. As it is, your question has almost no information that can help solve the problem. The error seems to be a C++ problem somehow?!","body":"Run Gradle with <code>--stacktrace</code> or <code>--debug</code> options to get more information. As it is, your question has almost no information that can help solve the problem. The error seems to be a C++ problem somehow?!"},{"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1697660065,"post_id":77318820,"comment_id":136309353,"body_markdown":"Please provide a [minimal reproducible example](http://stackoverflow.com/help/minimal-reproducible-example).","body":"Please provide a <a href=\"http://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."},{"owner":{"account_id":9162277,"reputation":14688,"user_id":6813231,"accept_rate":56,"display_name":"Alexei"},"score":0,"creation_date":1697739020,"post_id":77318820,"comment_id":136320973,"body_markdown":"@Renato I was updated my post","body":"@Renato I was updated my post"}],"owner":{"account_id":9162277,"reputation":14688,"user_id":6813231,"accept_rate":56,"display_name":"Alexei"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697746507,"creation_date":1697654121,"question_id":77318820,"body_markdown":"    Linux Mint 21\r\n    Java 8\r\n    Gradle 7.3\r\n\r\nI try to run my java app like this, but rise error:\r\n\r\n     ./gradlew app:run\r\n\r\n    \r\n    malloc(): mismatching next-&gt;prev_size (unsorted)\r\n    \r\n    &gt; Task :app:run FAILED\r\n    \r\n    FAILURE: Build failed with an exception.\r\n    \r\n    * What went wrong:\r\n    Execution failed for task &#39;:app:run&#39;.\r\n    &gt; Process &#39;command &#39;/home/alexei/.sdkman/candidates/java/jdk1.8.0_381/bin/java&#39;&#39; finished with non-zero exit value 134\r\n    \r\n    * Try:\r\n    &gt; Run with --info or --debug option to get more log output.\r\n    &gt; Run with --scan to get full insights.\r\n    \r\n    * Exception is:\r\n    org.gradle.api.tasks.TaskExecutionException: Execution failed for task &#39;:app:run&#39;.\r\n            at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.lambda$executeIfValid$1(ExecuteActionsTaskExecuter.java:145)\r\n            at org.gradle.internal.Try$Failure.ifSuccessfulOrElse(Try.java:282)\r\n            at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeIfValid(ExecuteActionsTaskExecuter.java:143)\r\n            at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.execute(ExecuteActionsTaskExecuter.java:131)\r\n            at org.gradle.api.internal.tasks.execution.CleanupStaleOutputsExecuter.execute(CleanupStaleOutputsExecuter.java:77)\r\n            at org.gradle.api.internal.tasks.execution.FinalizePropertiesTaskExecuter.execute(FinalizePropertiesTaskExecuter.java:46)\r\n            at org.gradle.api.internal.tasks.execution.ResolveTaskExecutionModeExecuter.execute(ResolveTaskExecutionModeExecuter.java:51)\r\n            at org.gradle.api.internal.tasks.execution.SkipTaskWithNoActionsExecuter.execute(SkipTaskWithNoActionsExecuter.java:57)\r\n            at org.gradle.api.internal.tasks.execution.SkipOnlyIfTaskExecuter.execute(SkipOnlyIfTaskExecuter.java:56)\r\n            at org.gradle.api.internal.tasks.execution.CatchExceptionTaskExecuter.execute(CatchExceptionTaskExecuter.java:36)\r\n            at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.executeTask(EventFiringTaskExecuter.java:77)\r\n            at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:55)\r\n            at org.gradle.api.internal.\r\n\r\n\r\n","title":"Gradle: malloc(): mismatching next-&gt;prev_size (unsorted)","body":"<pre><code>Linux Mint 21\nJava 8\nGradle 7.3\n</code></pre>\n<p>I try to run my java app like this, but rise error:</p>\n<pre><code> ./gradlew app:run\n\n\nmalloc(): mismatching next-&gt;prev_size (unsorted)\n\n&gt; Task :app:run FAILED\n\nFAILURE: Build failed with an exception.\n\n* What went wrong:\nExecution failed for task ':app:run'.\n&gt; Process 'command '/home/alexei/.sdkman/candidates/java/jdk1.8.0_381/bin/java'' finished with non-zero exit value 134\n\n* Try:\n&gt; Run with --info or --debug option to get more log output.\n&gt; Run with --scan to get full insights.\n\n* Exception is:\norg.gradle.api.tasks.TaskExecutionException: Execution failed for task ':app:run'.\n        at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.lambda$executeIfValid$1(ExecuteActionsTaskExecuter.java:145)\n        at org.gradle.internal.Try$Failure.ifSuccessfulOrElse(Try.java:282)\n        at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeIfValid(ExecuteActionsTaskExecuter.java:143)\n        at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.execute(ExecuteActionsTaskExecuter.java:131)\n        at org.gradle.api.internal.tasks.execution.CleanupStaleOutputsExecuter.execute(CleanupStaleOutputsExecuter.java:77)\n        at org.gradle.api.internal.tasks.execution.FinalizePropertiesTaskExecuter.execute(FinalizePropertiesTaskExecuter.java:46)\n        at org.gradle.api.internal.tasks.execution.ResolveTaskExecutionModeExecuter.execute(ResolveTaskExecutionModeExecuter.java:51)\n        at org.gradle.api.internal.tasks.execution.SkipTaskWithNoActionsExecuter.execute(SkipTaskWithNoActionsExecuter.java:57)\n        at org.gradle.api.internal.tasks.execution.SkipOnlyIfTaskExecuter.execute(SkipOnlyIfTaskExecuter.java:56)\n        at org.gradle.api.internal.tasks.execution.CatchExceptionTaskExecuter.execute(CatchExceptionTaskExecuter.java:36)\n        at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.executeTask(EventFiringTaskExecuter.java:77)\n        at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:55)\n        at org.gradle.api.internal.\n</code></pre>\n"},{"tags":["java","qgis","mapsforge"],"owner":{"account_id":28692518,"reputation":1,"user_id":21971460,"display_name":"quadrixxx"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697745938,"creation_date":1697745938,"question_id":77326786,"body_markdown":"I got a mapsforge/vtm file with extension *.map. How do i open this file in qgis, and can i?\r\n\r\nI saw through all the internet, but did not find needed information. Tried to convert this file by any means. Was looking for the qgis module, that could help me. Nothing worked.","title":"Is there any way to open .map file in QGIS?","body":"<p>I got a mapsforge/vtm file with extension *.map. How do i open this file in qgis, and can i?</p>\n<p>I saw through all the internet, but did not find needed information. Tried to convert this file by any means. Was looking for the qgis module, that could help me. Nothing worked.</p>\n"},{"tags":["java","eclipse","macos","jvm"],"comments":[{"owner":{"account_id":3159259,"reputation":109678,"user_id":2670892,"display_name":"greg-449"},"score":1,"creation_date":1410332900,"post_id":25753966,"comment_id":40280805,"body_markdown":"Make sure you are using the 64 bit version of Mac Eclipse","body":"Make sure you are using the 64 bit version of Mac Eclipse"},{"owner":{"account_id":1333279,"reputation":6465,"user_id":1276636,"accept_rate":62,"display_name":"Sufian"},"score":0,"creation_date":1415188443,"post_id":25753966,"comment_id":42095090,"body_markdown":"For me installing Eclipse Mars fixed it for me. I don&#39;t think it was anything to do with the 32 or 64bits since my Activity Monitor (yes I&#39;m on OSX) didn&#39;t say x32 against Eclipse. +1 for @greg-449 however.","body":"For me installing Eclipse Mars fixed it for me. I don&#39;t think it was anything to do with the 32 or 64bits since my Activity Monitor (yes I&#39;m on OSX) didn&#39;t say x32 against Eclipse. +1 for @greg-449 however."},{"owner":{"account_id":3657924,"reputation":1867,"user_id":3048431,"display_name":"Oguz"},"score":0,"creation_date":1576052973,"post_id":25753966,"comment_id":104769304,"body_markdown":"You can find a detailed explanation here https://stackoverflow.com/questions/24589932/mac-os-jdk1-7-and-1-8-does-not-contain-the-jni-createjavavm-symbol/25869530","body":"You can find a detailed explanation here <a href=\"https://stackoverflow.com/questions/24589932/mac-os-jdk1-7-and-1-8-does-not-contain-the-jni-createjavavm-symbol/25869530\" title=\"mac os jdk1 7 and 1 8 does not contain the jni createjavavm symbol\">stackoverflow.com/questions/24589932/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":2447495,"reputation":2749,"user_id":2134453,"display_name":"Rajeev Sampath"},"comment_count":0,"down_vote_count":0,"up_vote_count":28,"is_accepted":false,"score":28,"last_activity_date":1446466310,"creation_date":1446466310,"answer_id":33477302,"question_id":25753966,"body_markdown":"If you are installing eclipse with the Eclipse installer, this can happen when the installer is not pointed to the correct jvm location. &lt;br&gt;\r\nYou can correct it as follows. &lt;br&gt;&lt;br&gt;\r\n1. Right click the installer file and select &#39;show package contents&#39;&lt;br&gt;\r\n2. Go to Contents and open Info.plist&lt;br&gt;\r\n3. At the bottom of this file, you&#39;ll see a commented section with the tag `&lt;string&gt;-vm&lt;/string&gt;` with some paths. You can set the correct JAVA_HOME path there and uncomment that section. (running `echo $JAVA_HOME` in console will get you the current setting)\r\n","title":"Eclipse: JVM shared library does not contain the JNI_CreateJavaVM symbol","body":"<p>If you are installing eclipse with the Eclipse installer, this can happen when the installer is not pointed to the correct jvm location. <br>\nYou can correct it as follows. <br><br>\n1. Right click the installer file and select 'show package contents'<br>\n2. Go to Contents and open Info.plist<br>\n3. At the bottom of this file, you'll see a commented section with the tag <code>&lt;string&gt;-vm&lt;/string&gt;</code> with some paths. You can set the correct JAVA_HOME path there and uncomment that section. (running <code>echo $JAVA_HOME</code> in console will get you the current setting)</p>\n"},{"comments":[{"owner":{"account_id":3802603,"reputation":901,"user_id":3155807,"accept_rate":88,"display_name":"Cheetaiean"},"score":0,"creation_date":1576959973,"post_id":59439447,"comment_id":105062924,"body_markdown":"Could you specify how you unlocked it? I get &#39;permission denied&#39; alerts when I try to do it.","body":"Could you specify how you unlocked it? I get &#39;permission denied&#39; alerts when I try to do it."},{"owner":{"account_id":182529,"reputation":6991,"user_id":417291,"accept_rate":71,"display_name":"Alex"},"score":1,"creation_date":1576960432,"post_id":59439447,"comment_id":105063019,"body_markdown":"see the explanation in the answer","body":"see the explanation in the answer"},{"owner":{"account_id":3802603,"reputation":901,"user_id":3155807,"accept_rate":88,"display_name":"Cheetaiean"},"score":2,"creation_date":1576962423,"post_id":59439447,"comment_id":105063364,"body_markdown":"So I made the necessary changes ( &lt;string&gt;-vm&lt;/string&gt;&lt;string&gt;/Library/Java/JavaVirtualMachines/jdk-13.0.1.jdk/Contents/Home/bin/java&lt;/string&gt; ) outside of a comment, and now when I try to open the Installer app it says it&#39;s &quot;damaged and can&#39;t be opened&quot;. \nCould this be bc I dragged the app out of the dmg onto the Desktop? Or the fact that the .plist was tampered with...","body":"So I made the necessary changes ( &lt;string&gt;-vm&lt;/string&gt;&lt;string&gt;/Library/Java/JavaVirtualMachine&zwnj;&#8203;s/jdk-13.0.1.jdk/Con&zwnj;&#8203;tents/Home/bin/java&lt;&zwnj;&#8203;/string&gt; ) outside of a comment, and now when I try to open the Installer app it says it&#39;s &quot;damaged and can&#39;t be opened&quot;.  Could this be bc I dragged the app out of the dmg onto the Desktop? Or the fact that the .plist was tampered with..."},{"owner":{"account_id":182529,"reputation":6991,"user_id":417291,"accept_rate":71,"display_name":"Alex"},"score":0,"creation_date":1576979209,"post_id":59439447,"comment_id":105065958,"body_markdown":"Not sure, I did not have this problem.  I am working with the package I downloaded","body":"Not sure, I did not have this problem.  I am working with the package I downloaded"},{"owner":{"account_id":3802603,"reputation":901,"user_id":3155807,"accept_rate":88,"display_name":"Cheetaiean"},"score":0,"creation_date":1577111360,"post_id":59439447,"comment_id":105095060,"body_markdown":"Ok, it was indeed an actual bug in the installer application. the bug has now been fixed","body":"Ok, it was indeed an actual bug in the installer application. the bug has now been fixed"}],"tags":[],"owner":{"account_id":182529,"reputation":6991,"user_id":417291,"accept_rate":71,"display_name":"Alex"},"comment_count":5,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1577059795,"creation_date":1576958456,"answer_id":59439447,"question_id":25753966,"body_markdown":"There are several important details that I found during the latest Eclipse installation on Mac OS\r\n\r\n - Info.plist is really locked.  I unlocked it using a command line and\r\n   then  &quot;chmod 666 Info.plist&quot;. \r\n - The versions of the vm string in the Info.plist are specific for the JDK. I was not able to make this work with JDK 13.  So, I used my version of Java 8: \r\n\r\n/Library/Java/JavaVirtualMachines/jdk1.8.0_231.jdk/Contents/Home/bin/java\r\n\r\n - appeared important: JAVA_HOME should exactly correspond to what you have in Info.plist\r\n\r\nTo unlock Info.plist you need to extract Eclipse Installer.app from the dmg file. Then the following commands from the directory containing  Eclipse Installer.app :\r\n\r\n    cd &quot;Eclipse Installer.app&quot;/Contents\r\n    chmod 666 Info.plist \r\n\r\n","title":"Eclipse: JVM shared library does not contain the JNI_CreateJavaVM symbol","body":"<p>There are several important details that I found during the latest Eclipse installation on Mac OS</p>\n\n<ul>\n<li>Info.plist is really locked.  I unlocked it using a command line and\nthen  \"chmod 666 Info.plist\". </li>\n<li>The versions of the vm string in the Info.plist are specific for the JDK. I was not able to make this work with JDK 13.  So, I used my version of Java 8: </li>\n</ul>\n\n<p>/Library/Java/JavaVirtualMachines/jdk1.8.0_231.jdk/Contents/Home/bin/java</p>\n\n<ul>\n<li>appeared important: JAVA_HOME should exactly correspond to what you have in Info.plist</li>\n</ul>\n\n<p>To unlock Info.plist you need to extract Eclipse Installer.app from the dmg file. Then the following commands from the directory containing  Eclipse Installer.app :</p>\n\n<pre><code>cd \"Eclipse Installer.app\"/Contents\nchmod 666 Info.plist \n</code></pre>\n"},{"tags":[],"owner":{"account_id":2180804,"reputation":381,"user_id":2188316,"accept_rate":86,"display_name":"wnm3"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1579186455,"creation_date":1579186455,"answer_id":59772254,"question_id":25753966,"body_markdown":"In my case, I&#39;d had several jdk&#39;s installed as shown when running the command:\r\n```\r\n/usr/libexec/java_home -V\r\n```\r\nand the installer was complaining about the Java JDK 11 not having what it needed. Since I&#39;d backed off using 11 in favor of 8 I was okay removing this JDK from my system using the command:\r\n```\r\ncd /Library/Java/JavaVirtualMachines\r\nsudo rm -fr jdk-11.0.1.jdk\r\n```\r\nthis made my jdk1.8.0_221.jdk the most current jdk and the installer worked fine.\r\n\r\nYou could probably mv the jdk-11.0.1.jdk to another location to get Eclipse installed using a different jdk version and then move it back.","title":"Eclipse: JVM shared library does not contain the JNI_CreateJavaVM symbol","body":"<p>In my case, I'd had several jdk's installed as shown when running the command:</p>\n\n<pre><code>/usr/libexec/java_home -V\n</code></pre>\n\n<p>and the installer was complaining about the Java JDK 11 not having what it needed. Since I'd backed off using 11 in favor of 8 I was okay removing this JDK from my system using the command:</p>\n\n<pre><code>cd /Library/Java/JavaVirtualMachines\nsudo rm -fr jdk-11.0.1.jdk\n</code></pre>\n\n<p>this made my jdk1.8.0_221.jdk the most current jdk and the installer worked fine.</p>\n\n<p>You could probably mv the jdk-11.0.1.jdk to another location to get Eclipse installed using a different jdk version and then move it back.</p>\n"},{"tags":[],"owner":{"account_id":4194095,"reputation":9,"user_id":3435910,"display_name":"TomaszZ."},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1581551378,"creation_date":1581548543,"answer_id":60198152,"question_id":25753966,"body_markdown":"I have run into this problem and ended up switching to a newer build of openjdk 13.0.2 by pointing eclipse to it directly in info.plist to resolve the issue. It did not work with build build 12.0.2+8. The build 12.0.2+10 addressed the issue.\r\n\r\n    /Library/Java/JavaVirtualMachines/jdk-12.0.2.openjdk/Contents/Home/bin\r\n    mychine1:bin$ ./java -version\r\n    openjdk version &quot;12.0.2&quot; 2019-07-16\r\n    OpenJDK Runtime Environment (build 12.0.2+10)\r\n    OpenJDK 64-Bit Server VM (build 12.0.2+10, mixed mode, sharing)","title":"Eclipse: JVM shared library does not contain the JNI_CreateJavaVM symbol","body":"<p>I have run into this problem and ended up switching to a newer build of openjdk 13.0.2 by pointing eclipse to it directly in info.plist to resolve the issue. It did not work with build build 12.0.2+8. The build 12.0.2+10 addressed the issue.</p>\n\n<pre><code>/Library/Java/JavaVirtualMachines/jdk-12.0.2.openjdk/Contents/Home/bin\nmychine1:bin$ ./java -version\nopenjdk version \"12.0.2\" 2019-07-16\nOpenJDK Runtime Environment (build 12.0.2+10)\nOpenJDK 64-Bit Server VM (build 12.0.2+10, mixed mode, sharing)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18803121,"reputation":61,"user_id":13713036,"display_name":"mypseudonym"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1592838651,"creation_date":1592837831,"answer_id":62517341,"question_id":25753966,"body_markdown":"I got different errors with different Java versions (all varieties of java 11).\r\n\r\nFor me, it started with-\r\n&gt; “jdk-11.0.1.jdk” cannot be opened because the developer cannot be\r\n&gt; verified.\r\n\r\nI tried to make this work and once I got past this error, I hit-\r\n&gt; The JVM shared library does not contain the JNI_CreateJavaVM symbol.\r\n\r\nThen I tried with another java 11, and ran into-\r\n&gt; failed to create java virtual machine\r\n\r\nHere&#39;re the different versions I have-\r\n\r\n&gt; **/usr/libexec/java_home -V**\r\n&gt; \r\n&gt; Matching Java Virtual Machines (4):\r\n&gt;\r\n&gt;     11.0.5, x86_64:\t&quot;AdoptOpenJDK 11&quot;\t/Library/Java/JavaVirtualMachines/adoptopenjdk-11.jdk/Contents/Home\r\n&gt;     11.0.4, x86_64:\t&quot;OpenJDK 11.0.4&quot;\t/Library/Java/JavaVirtualMachines/jdk-11.0.4+11/Contents/Home\r\n&gt;     11.0.1, x86_64:\t&quot;OpenJDK 11.0.1&quot;\t/Library/Java/JavaVirtualMachines/jdk-11.0.1.jdk/Contents/Home\r\n&gt;     1.8.0_161, x86_64:\t&quot;Java SE 8&quot;\t/Library/Java/JavaVirtualMachines/jdk1.8.0_161.jdk/Contents/Home\r\n\r\nI had another variant of java 11 too that you don&#39;t see in the list above as I removed it.\r\n\r\nWhat finally worked for me- **OpenJDK 11.0.4.**\r\n&gt;     11.0.4, x86_64:\t&quot;OpenJDK 11.0.4&quot;\t/Library/Java/JavaVirtualMachines/jdk-11.0.4+11/Contents/Home\r\nI also re-installed Eclipse (2019-12 vers) using Eclipse Installer on Mac. That&#39;s how I had installed it earlier too, but it hadn&#39;t worked with other java 11&#39;s.\r\nNote-\r\n\r\n - 1.8 worked as well, but my project needs 11.\r\n - For the *Failed to create the Java Virtual Machine* problem, there&#39;s a solution around libjli.dylib mentioned in this link- https://www.eclipse.org/forums/index.php?t=msg&amp;th=1102885&amp;goto=1823113&amp;#msg_1823113. It did not work for me. I tried many other solutions suggested in this link and in various SO pages as well, but none of those worked on my Macbook.","title":"Eclipse: JVM shared library does not contain the JNI_CreateJavaVM symbol","body":"<p>I got different errors with different Java versions (all varieties of java 11).</p>\n<p>For me, it started with-</p>\n<blockquote>\n<p>“jdk-11.0.1.jdk” cannot be opened because the developer cannot be\nverified.</p>\n</blockquote>\n<p>I tried to make this work and once I got past this error, I hit-</p>\n<blockquote>\n<p>The JVM shared library does not contain the JNI_CreateJavaVM symbol.</p>\n</blockquote>\n<p>Then I tried with another java 11, and ran into-</p>\n<blockquote>\n<p>failed to create java virtual machine</p>\n</blockquote>\n<p>Here're the different versions I have-</p>\n<blockquote>\n<p><strong>/usr/libexec/java_home -V</strong></p>\n<p>Matching Java Virtual Machines (4):</p>\n<pre><code>11.0.5, x86_64:   &quot;AdoptOpenJDK 11&quot;   /Library/Java/JavaVirtualMachines/adoptopenjdk-11.jdk/Contents/Home\n11.0.4, x86_64:   &quot;OpenJDK 11.0.4&quot;    /Library/Java/JavaVirtualMachines/jdk-11.0.4+11/Contents/Home\n11.0.1, x86_64:   &quot;OpenJDK 11.0.1&quot;    /Library/Java/JavaVirtualMachines/jdk-11.0.1.jdk/Contents/Home\n1.8.0_161, x86_64:    &quot;Java SE 8&quot; /Library/Java/JavaVirtualMachines/jdk1.8.0_161.jdk/Contents/Home\n</code></pre>\n</blockquote>\n<p>I had another variant of java 11 too that you don't see in the list above as I removed it.</p>\n<p>What finally worked for me- <strong>OpenJDK 11.0.4.</strong></p>\n<blockquote>\n<pre><code>11.0.4, x86_64:   &quot;OpenJDK 11.0.4&quot;    /Library/Java/JavaVirtualMachines/jdk-11.0.4+11/Contents/Home\n</code></pre>\n</blockquote>\n<p>I also re-installed Eclipse (2019-12 vers) using Eclipse Installer on Mac. That's how I had installed it earlier too, but it hadn't worked with other java 11's.\nNote-</p>\n<ul>\n<li>1.8 worked as well, but my project needs 11.</li>\n<li>For the <em>Failed to create the Java Virtual Machine</em> problem, there's a solution around libjli.dylib mentioned in this link- <a href=\"https://www.eclipse.org/forums/index.php?t=msg&amp;th=1102885&amp;goto=1823113&amp;#msg_1823113\" rel=\"nofollow noreferrer\">https://www.eclipse.org/forums/index.php?t=msg&amp;th=1102885&amp;goto=1823113&amp;#msg_1823113</a>. It did not work for me. I tried many other solutions suggested in this link and in various SO pages as well, but none of those worked on my Macbook.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":3489231,"reputation":1064,"user_id":2919326,"display_name":"aaroncarsonart"},"comment_count":0,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1621617655,"creation_date":1621617655,"answer_id":67641340,"question_id":25753966,"body_markdown":"I encountered this issue while attempting to install Eclipse IDE for Eclipse Committers, version 2021-03 (4.19.0) on macOS 11.2.3 on my MacBook Air (M1, 2020). I was using the [Azul arm64 JDK][1]. This issue was solved by installing the [OpenJDK x64][2] and updating the following file:\r\n\r\n```\r\nEclipse.app/Contents/Info.plist\r\n````\r\n\r\nto point to OpenJDK as per the instructions in [Rajeev Sampath&#39;s answer][3].  I&#39;m assuming the issue was from using an arm64 compiled JDK with Eclipse which currently only for x64.\r\n\r\n  [1]: https://www.azul.com/downloads/?version=java-16-sts&amp;os=macos&amp;architecture=arm-64-bit&amp;package=jdk\r\n  [2]: https://jdk.java.net/16/\r\n  [3]: https://stackoverflow.com/a/33477302/2919326","title":"Eclipse: JVM shared library does not contain the JNI_CreateJavaVM symbol","body":"<p>I encountered this issue while attempting to install Eclipse IDE for Eclipse Committers, version 2021-03 (4.19.0) on macOS 11.2.3 on my MacBook Air (M1, 2020). I was using the <a href=\"https://www.azul.com/downloads/?version=java-16-sts&amp;os=macos&amp;architecture=arm-64-bit&amp;package=jdk\" rel=\"noreferrer\">Azul arm64 JDK</a>. This issue was solved by installing the <a href=\"https://jdk.java.net/16/\" rel=\"noreferrer\">OpenJDK x64</a> and updating the following file:</p>\n<pre><code>Eclipse.app/Contents/Info.plist\n</code></pre>\n<p>to point to OpenJDK as per the instructions in <a href=\"https://stackoverflow.com/a/33477302/2919326\">Rajeev Sampath's answer</a>.  I'm assuming the issue was from using an arm64 compiled JDK with Eclipse which currently only for x64.</p>\n"},{"tags":[],"owner":{"account_id":1665330,"reputation":1259,"user_id":1532857,"accept_rate":0,"display_name":"Chandra"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1622843777,"creation_date":1622843777,"answer_id":67844407,"question_id":25753966,"body_markdown":"In my case, i have java 11 only installed, to solve the problem i have installed java 8 and set the java 8 in the JAVA_HOME then it started workin.","title":"Eclipse: JVM shared library does not contain the JNI_CreateJavaVM symbol","body":"<p>In my case, i have java 11 only installed, to solve the problem i have installed java 8 and set the java 8 in the JAVA_HOME then it started workin.</p>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1634556494,"post_id":69614865,"comment_id":123048182,"body_markdown":"As it’s currently written, your answer is unclear. Please [edit] to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"As it’s currently written, your answer is unclear. Please <a href=\"https://stackoverflow.com/posts/69614865/edit\">edit</a> to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":11597202,"reputation":1,"user_id":8495588,"display_name":"Rishindra Mani"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1634554696,"creation_date":1634554696,"answer_id":69614865,"question_id":25753966,"body_markdown":"Try replacing libjli.dylib with openjdk11.dylib. Works like a charm!","title":"Eclipse: JVM shared library does not contain the JNI_CreateJavaVM symbol","body":"<p>Try replacing libjli.dylib with openjdk11.dylib. Works like a charm!</p>\n"},{"tags":[],"owner":{"account_id":2733661,"reputation":2717,"user_id":2356808,"accept_rate":60,"display_name":"Fay007"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1636304770,"creation_date":1636304770,"answer_id":69874704,"question_id":25753966,"body_markdown":"I have installed eclipse through Homebrew after the issue. Changing the info.plist was causing file corrupted error. Just use the script and that‘s it:\r\nhttps://formulae.brew.sh/cask/eclipse-java\r\n\r\nDiscalimer: I have also installed Temurin-17.0.1 using brew.","title":"Eclipse: JVM shared library does not contain the JNI_CreateJavaVM symbol","body":"<p>I have installed eclipse through Homebrew after the issue. Changing the info.plist was causing file corrupted error. Just use the script and that‘s it:\n<a href=\"https://formulae.brew.sh/cask/eclipse-java\" rel=\"nofollow noreferrer\">https://formulae.brew.sh/cask/eclipse-java</a></p>\n<p>Discalimer: I have also installed Temurin-17.0.1 using brew.</p>\n"},{"tags":[],"owner":{"account_id":24734915,"reputation":31,"user_id":18622415,"display_name":"The Sith Lord"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1648569436,"creation_date":1648569436,"answer_id":71665235,"question_id":25753966,"body_markdown":"I just downloaded the Intel based Java instead of ARM x64 and it worked.\r\nI think the problem is that Eclipse is not running natively so it needs a Intel based Java version","title":"Eclipse: JVM shared library does not contain the JNI_CreateJavaVM symbol","body":"<p>I just downloaded the Intel based Java instead of ARM x64 and it worked.\nI think the problem is that Eclipse is not running natively so it needs a Intel based Java version</p>\n"},{"tags":[],"owner":{"account_id":4317054,"reputation":682,"user_id":3526573,"display_name":"david"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655909166,"creation_date":1655909166,"answer_id":72717653,"question_id":25753966,"body_markdown":"This happened to me running a x86 version of Eclipse on an M1 (arm64) Mac with an arm64 version of the JDK.\r\n\r\nOnce changing to the proper arm64 version of Eclipse the problem was solved.","title":"Eclipse: JVM shared library does not contain the JNI_CreateJavaVM symbol","body":"<p>This happened to me running a x86 version of Eclipse on an M1 (arm64) Mac with an arm64 version of the JDK.</p>\n<p>Once changing to the proper arm64 version of Eclipse the problem was solved.</p>\n"},{"tags":[],"owner":{"account_id":2115059,"reputation":101,"user_id":1879564,"accept_rate":60,"display_name":"Amir Baron"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1663852536,"creation_date":1663852536,"answer_id":73815333,"question_id":25753966,"body_markdown":"The solution that worked for me is to open the app from a shell instead of double clicking on it.\r\nrun `open /Applications/&lt;name&gt;` in the shell. \r\nConfiguration:\r\nApple m1\r\nopen jdk 18\r\neclipse for arm","title":"Eclipse: JVM shared library does not contain the JNI_CreateJavaVM symbol","body":"<p>The solution that worked for me is to open the app from a shell instead of double clicking on it.\nrun <code>open /Applications/&lt;name&gt;</code> in the shell.\nConfiguration:\nApple m1\nopen jdk 18\neclipse for arm</p>\n"},{"comments":[{"owner":{"account_id":42005,"reputation":2840,"user_id":122230,"accept_rate":80,"display_name":"wytten"},"score":1,"creation_date":1669059533,"post_id":74208102,"comment_id":131552694,"body_markdown":"Yes, this solved my Directory Studio issue on Apple M1 as well, thank you!","body":"Yes, this solved my Directory Studio issue on Apple M1 as well, thank you!"},{"owner":{"account_id":13996560,"reputation":94,"user_id":10109199,"display_name":"cstoll"},"score":2,"creation_date":1674495534,"post_id":74208102,"comment_id":132721505,"body_markdown":"Already 2023 and I also had to install this old temurin version 16 to get Apache Directory Studio to work (didn&#39;t work with the latest version 19 and also not with the latest LTS release version 17).  Then again Directory Studio wasn&#39;t updated since July 2021 and is probably therefore not compatible with newer java versions.","body":"Already 2023 and I also had to install this old temurin version 16 to get Apache Directory Studio to work (didn&#39;t work with the latest version 19 and also not with the latest LTS release version 17).  Then again Directory Studio wasn&#39;t updated since July 2021 and is probably therefore not compatible with newer java versions."},{"owner":{"account_id":2875991,"reputation":358,"user_id":2468060,"display_name":"phwoelfel"},"score":1,"creation_date":1684316919,"post_id":74208102,"comment_id":134499484,"body_markdown":"I had to use version 11 of the JDK for Apache Directory Studio, it wasn&#39;t working with either version 17 or 16.","body":"I had to use version 11 of the JDK for Apache Directory Studio, it wasn&#39;t working with either version 17 or 16."},{"owner":{"account_id":69848,"reputation":2134,"user_id":203036,"display_name":"praseodym"},"score":1,"creation_date":1691833690,"post_id":74208102,"comment_id":135547149,"body_markdown":"For Apache Directory Studio, downloading the **x64 (Intel)** version of JRE 17  fixes the problem. Apache Directory Studio hasn&#39;t been updated for Apple Silicon yet, and thus needs an x64 Intel JVM for its native libraries to work.","body":"For Apache Directory Studio, downloading the <b>x64 (Intel)</b> version of JRE 17  fixes the problem. Apache Directory Studio hasn&#39;t been updated for Apple Silicon yet, and thus needs an x64 Intel JVM for its native libraries to work."},{"owner":{"account_id":5139737,"reputation":3288,"user_id":4117496,"accept_rate":89,"display_name":"Fisher Coder"},"score":0,"creation_date":1693269984,"post_id":74208102,"comment_id":135735547,"body_markdown":"In 2023 and onwards, for those that are using Apple MacBook M1 chips, please make sure to download the corresponding ARM based software instead of regular ones.","body":"In 2023 and onwards, for those that are using Apple MacBook M1 chips, please make sure to download the corresponding ARM based software instead of regular ones."},{"owner":{"account_id":14191766,"reputation":452,"user_id":10252177,"display_name":"Ben Zelnick"},"score":0,"creation_date":1699903036,"post_id":74208102,"comment_id":136586699,"body_markdown":"This didn&#39;t work for me, but [this solution](https://stackoverflow.com/a/70891659/) did.","body":"This didn&#39;t work for me, but <a href=\"https://stackoverflow.com/a/70891659/\">this solution</a> did."}],"tags":[],"owner":{"account_id":969049,"reputation":2634,"user_id":991954,"display_name":"n1k1ch"},"comment_count":6,"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1670339482,"creation_date":1666788683,"answer_id":74208102,"question_id":25753966,"body_markdown":"If someone is struggling with this in 2022, the following download helped me:\r\n\r\nhttps://adoptium.net/temurin/releases/?version=16\r\n\r\nAnd `-vm` in `***.app/Contents/Info.plist` should be\r\n```\r\n&lt;string&gt;-vm&lt;/string&gt;&lt;string&gt;/Library/Java/JavaVirtualMachines/temurin-16.jdk/Contents/Home/bin/java&lt;/string&gt;\r\n```\r\n\r\nI&#39;m on MacOS Monterey 12.5.1, Apple M1 Pro, my problem was with [Apache Directory Studio](https://directory.apache.org/studio/) - when trying to run it I was getting:\r\n```\r\nthe jvm shared library does not contain JNI_CreateJavaVM symbol\r\n```","title":"Eclipse: JVM shared library does not contain the JNI_CreateJavaVM symbol","body":"<p>If someone is struggling with this in 2022, the following download helped me:</p>\n<p><a href=\"https://adoptium.net/temurin/releases/?version=16\" rel=\"noreferrer\">https://adoptium.net/temurin/releases/?version=16</a></p>\n<p>And <code>-vm</code> in <code>***.app/Contents/Info.plist</code> should be</p>\n<pre><code>&lt;string&gt;-vm&lt;/string&gt;&lt;string&gt;/Library/Java/JavaVirtualMachines/temurin-16.jdk/Contents/Home/bin/java&lt;/string&gt;\n</code></pre>\n<p>I'm on MacOS Monterey 12.5.1, Apple M1 Pro, my problem was with <a href=\"https://directory.apache.org/studio/\" rel=\"noreferrer\">Apache Directory Studio</a> - when trying to run it I was getting:</p>\n<pre><code>the jvm shared library does not contain JNI_CreateJavaVM symbol\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1018994,"reputation":2197,"user_id":1029912,"display_name":"psuzzi"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1667562293,"creation_date":1667562293,"answer_id":74316533,"question_id":25753966,"body_markdown":"If somebody has the same problem with a recent version of Eclipse (2021 and above), then the problem is that your Eclipse application is x86 and you have a JVM that is ARM (Apple Silicon). \r\n\r\nTo solve the issue, in my case, I downloaded an x86 version of Java 11, and then I edited the info.plist file to point at that x86 (Intel) JVM. \r\n\r\nSo, in my case I downloaded https://adoptium.net/temurin/releases?version=11 \r\n\r\n[![Download x86 (Intel) version of JDK][1]][1]\r\n\r\n\r\nAnd then I added the following key to the info.plist\r\n\r\n    &lt;string&gt;-vm&lt;/string&gt;&lt;string&gt;/Library/Java/JavaVirtualMachines/temurin-11.jdk/Contents/Home/bin/java&lt;/string&gt;\r\n\r\n\r\n[![Edit info.plist by setting the location of the Intel JDK][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/775HF.png\r\n  [2]: https://i.stack.imgur.com/DqdFK.png","title":"Eclipse: JVM shared library does not contain the JNI_CreateJavaVM symbol","body":"<p>If somebody has the same problem with a recent version of Eclipse (2021 and above), then the problem is that your Eclipse application is x86 and you have a JVM that is ARM (Apple Silicon).</p>\n<p>To solve the issue, in my case, I downloaded an x86 version of Java 11, and then I edited the info.plist file to point at that x86 (Intel) JVM.</p>\n<p>So, in my case I downloaded <a href=\"https://adoptium.net/temurin/releases?version=11\" rel=\"nofollow noreferrer\">https://adoptium.net/temurin/releases?version=11</a></p>\n<p><a href=\"https://i.stack.imgur.com/775HF.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/775HF.png\" alt=\"Download x86 (Intel) version of JDK\" /></a></p>\n<p>And then I added the following key to the info.plist</p>\n<pre><code>&lt;string&gt;-vm&lt;/string&gt;&lt;string&gt;/Library/Java/JavaVirtualMachines/temurin-11.jdk/Contents/Home/bin/java&lt;/string&gt;\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/DqdFK.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/DqdFK.png\" alt=\"Edit info.plist by setting the location of the Intel JDK\" /></a></p>\n"},{"comments":[{"owner":{"account_id":10545934,"reputation":396,"user_id":8352968,"display_name":"reddy nishanth"},"score":1,"creation_date":1690343844,"post_id":75018586,"comment_id":135338616,"body_markdown":"This helped, awesome, I was trying to open Eclipse Memory Analyzer,\n\nSo I need to update `code mat.app/Contents/Info.plist`","body":"This helped, awesome, I was trying to open Eclipse Memory Analyzer,  So I need to update <code>code mat.app&#47;Contents&#47;Info.plist</code>"}],"tags":[],"owner":{"account_id":6634642,"reputation":896,"user_id":5122135,"display_name":"Milad"},"comment_count":1,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1672922644,"creation_date":1672922644,"answer_id":75018586,"question_id":25753966,"body_markdown":"For anyone who, like me, needs to know **exactly where** to add this information, here it goes. First of all, understand where `java` is - in my case it is something like this (I use [asdf][1] but never mind that):\r\n\r\n    ~$ asdf where java\r\n    /Users/your.username/.asdf/installs/java/liberica-17.0.2+9\r\n\r\nTherefore, the string that MAT needs to know is &quot;/Users/your.username/.asdf/installs/java/liberica-17.0.2+9/bin/java&quot;. This is the string I add to MAT&#39;s .plist file:\r\n\r\n        ...\r\n        &lt;key&gt;Eclipse&lt;/key&gt;\r\n    \t\t\r\n        &lt;array&gt;\r\n          \t\t\t\r\n          &lt;string&gt;-keyring&lt;/string&gt;\r\n          &lt;string&gt;~/.eclipse_keyring&lt;/string&gt;\r\n    \r\n          &lt;string&gt;-vm&lt;/string&gt;\r\n          &lt;string&gt;/Users/your.username/.asdf/installs/java/liberica-17.0.2+9/bin/java&lt;/string&gt;      \t\t\r\n        &lt;/array&gt;\r\n        \r\n        &lt;key&gt;CFBundleDisplayName&lt;/key&gt;\r\n        &lt;string&gt;MemoryAnalyzer&lt;/string&gt;\r\n    \r\n      &lt;/dict&gt;\r\n    \r\n    &lt;/plist&gt;\r\n\r\nFor contrast, these were the original contents of the file:\r\n\r\n        ...\r\n        &lt;key&gt;Eclipse&lt;/key&gt;\r\n        \t\t\r\n        &lt;array&gt;\r\n          \t\t\t\r\n          &lt;string&gt;-keyring&lt;/string&gt;\r\n          &lt;string&gt;~/.eclipse_keyring&lt;/string&gt;\r\n          \t\t\r\n        &lt;/array&gt;\r\n        \r\n        &lt;key&gt;CFBundleDisplayName&lt;/key&gt;\r\n        &lt;string&gt;MemoryAnalyzer&lt;/string&gt;\r\n      &lt;/dict&gt;\r\n      \r\n    &lt;/plist&gt;\r\n\r\n\r\nJust for information, I am using a Mac with M1 architecture.\r\n\r\n  [1]: https://asdf-vm.com","title":"Eclipse: JVM shared library does not contain the JNI_CreateJavaVM symbol","body":"<p>For anyone who, like me, needs to know <strong>exactly where</strong> to add this information, here it goes. First of all, understand where <code>java</code> is - in my case it is something like this (I use <a href=\"https://asdf-vm.com\" rel=\"noreferrer\">asdf</a> but never mind that):</p>\n<pre><code>~$ asdf where java\n/Users/your.username/.asdf/installs/java/liberica-17.0.2+9\n</code></pre>\n<p>Therefore, the string that MAT needs to know is &quot;/Users/your.username/.asdf/installs/java/liberica-17.0.2+9/bin/java&quot;. This is the string I add to MAT's .plist file:</p>\n<pre><code>    ...\n    &lt;key&gt;Eclipse&lt;/key&gt;\n        \n    &lt;array&gt;\n                \n      &lt;string&gt;-keyring&lt;/string&gt;\n      &lt;string&gt;~/.eclipse_keyring&lt;/string&gt;\n\n      &lt;string&gt;-vm&lt;/string&gt;\n      &lt;string&gt;/Users/your.username/.asdf/installs/java/liberica-17.0.2+9/bin/java&lt;/string&gt;              \n    &lt;/array&gt;\n    \n    &lt;key&gt;CFBundleDisplayName&lt;/key&gt;\n    &lt;string&gt;MemoryAnalyzer&lt;/string&gt;\n\n  &lt;/dict&gt;\n\n&lt;/plist&gt;\n</code></pre>\n<p>For contrast, these were the original contents of the file:</p>\n<pre><code>    ...\n    &lt;key&gt;Eclipse&lt;/key&gt;\n            \n    &lt;array&gt;\n                \n      &lt;string&gt;-keyring&lt;/string&gt;\n      &lt;string&gt;~/.eclipse_keyring&lt;/string&gt;\n            \n    &lt;/array&gt;\n    \n    &lt;key&gt;CFBundleDisplayName&lt;/key&gt;\n    &lt;string&gt;MemoryAnalyzer&lt;/string&gt;\n  &lt;/dict&gt;\n  \n&lt;/plist&gt;\n</code></pre>\n<p>Just for information, I am using a Mac with M1 architecture.</p>\n"},{"tags":[],"owner":{"account_id":2530090,"reputation":79,"user_id":2198569,"display_name":"Kushan Menake"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1690093237,"creation_date":1690093237,"answer_id":76746867,"question_id":25753966,"body_markdown":"I got the same error on macOS Ventura 13.4.1 on macbook M1. Following combination has resolved the issue.\r\n\r\nApache Directory version : ApacheDirectoryStudio-2.0.0.v20210717-M17\r\n[Link to download][1] \r\n\r\n\r\nJava Version : jdk-17.0.8+7\r\n[Link to Download][2]\r\n\r\n\r\n**How to use the specific version of java**\r\n\r\nUpdate the Info.plist \r\nFile Location : \r\n\r\n&gt; /Applications/ApacheDirectoryStudio.app/Contents/Info.plist\r\n\r\n        &lt;array&gt;\r\n      \t\t\t\r\n      &lt;!-- to use a specific Java version (instead of the platform&#39;s default) uncomment one of the following options,\r\n\t\t\t\t\tor add a VM found via $/usr/libexec/java_home -V --&gt;\r\n      &lt;string&gt;-vm&lt;/string&gt;&lt;string&gt;/Users/XXXXXXXX/dev/app/jdk-17.0.8+7/Contents/Home/bin/java&lt;/string&gt;\r\n      &lt;string&gt;-keyring&lt;/string&gt;\r\n      &lt;string&gt;~/.eclipse_keyring&lt;/string&gt;\r\n      \t\t\r\n    &lt;/array&gt;\r\n\r\n  [1]: https://dlcdn.apache.org/directory/studio/2.0.0.v20210717-M17/ApacheDirectoryStudio-2.0.0.v20210717-M17-macosx.cocoa.x86_64.dmg\r\n  [2]: https://adoptium.net/temurin/releases/?version=17","title":"Eclipse: JVM shared library does not contain the JNI_CreateJavaVM symbol","body":"<p>I got the same error on macOS Ventura 13.4.1 on macbook M1. Following combination has resolved the issue.</p>\n<p>Apache Directory version : ApacheDirectoryStudio-2.0.0.v20210717-M17\n<a href=\"https://dlcdn.apache.org/directory/studio/2.0.0.v20210717-M17/ApacheDirectoryStudio-2.0.0.v20210717-M17-macosx.cocoa.x86_64.dmg\" rel=\"nofollow noreferrer\">Link to download</a></p>\n<p>Java Version : jdk-17.0.8+7\n<a href=\"https://adoptium.net/temurin/releases/?version=17\" rel=\"nofollow noreferrer\">Link to Download</a></p>\n<p><strong>How to use the specific version of java</strong></p>\n<p>Update the Info.plist\nFile Location :</p>\n<blockquote>\n<p>/Applications/ApacheDirectoryStudio.app/Contents/Info.plist</p>\n</blockquote>\n<pre><code>    &lt;array&gt;\n            \n  &lt;!-- to use a specific Java version (instead of the platform's default) uncomment one of the following options,\n                or add a VM found via $/usr/libexec/java_home -V --&gt;\n  &lt;string&gt;-vm&lt;/string&gt;&lt;string&gt;/Users/XXXXXXXX/dev/app/jdk-17.0.8+7/Contents/Home/bin/java&lt;/string&gt;\n  &lt;string&gt;-keyring&lt;/string&gt;\n  &lt;string&gt;~/.eclipse_keyring&lt;/string&gt;\n        \n&lt;/array&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2084596,"reputation":1166,"user_id":1855840,"display_name":"ranma2913"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697745212,"creation_date":1697745212,"answer_id":77326702,"question_id":25753966,"body_markdown":"Thanks to all the tips. For me the problem was aarch64 (Apple M1 Chipset) JVM doesn&#39;t work with ApacheDirectoryStudio. It must be the x64 build of the JVM. I downloaded the JVM from https://adoptium.net/temurin/releases/?os=mac&amp;arch=x64. \r\n\r\nUpdated the /Applications/ApacheDirectoryStudio.app/Contents/Eclipse/ApacheDirectoryStudio.ini file like:\r\n\r\n```\r\n###\r\n#Uncomment_to_configure_Java_version_to_use\r\n#https://directory.apache.org/studio/faqs.html#how-to-set-the-java-vm-to-use\r\n-vm\r\n/Applications/Java/jdk-21+35-jre/Contents/Home/bin/java\r\n-vmargs\r\n-Dosgi.requiredJavaVersion=11\r\n###\r\n```","title":"Eclipse: JVM shared library does not contain the JNI_CreateJavaVM symbol","body":"<p>Thanks to all the tips. For me the problem was aarch64 (Apple M1 Chipset) JVM doesn't work with ApacheDirectoryStudio. It must be the x64 build of the JVM. I downloaded the JVM from <a href=\"https://adoptium.net/temurin/releases/?os=mac&amp;arch=x64\" rel=\"nofollow noreferrer\">https://adoptium.net/temurin/releases/?os=mac&amp;arch=x64</a>.</p>\n<p>Updated the /Applications/ApacheDirectoryStudio.app/Contents/Eclipse/ApacheDirectoryStudio.ini file like:</p>\n<pre><code>###\n#Uncomment_to_configure_Java_version_to_use\n#https://directory.apache.org/studio/faqs.html#how-to-set-the-java-vm-to-use\n-vm\n/Applications/Java/jdk-21+35-jre/Contents/Home/bin/java\n-vmargs\n-Dosgi.requiredJavaVersion=11\n###\n</code></pre>\n"}],"owner":{"account_id":5007235,"reputation":521,"user_id":4024540,"display_name":"Ray Lang"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":67693,"favorite_count":0,"down_vote_count":0,"up_vote_count":52,"answer_count":17,"score":52,"last_activity_date":1697745212,"creation_date":1410298866,"question_id":25753966,"body_markdown":"Eclipse 4.4.0 on Mac OSX 10.9, JVM 8 gives an alert when I try to run it:\r\n\r\n&quot;The JVM shared library &quot;/Library/Java/JavaVirtualMachine/jdk1.8.0_20.jdk/Contents/Home/bin/.../jre/lib/server/libjvm.dylib&quot; does not contain the JNI_CreateJavaVM symbol&quot;\r\n\r\nThe application does not start.\r\n\r\nI edited the Info.plist per Shan&#39;s instructions of 8/25, but I still get the same error.\r\n\r\nI&#39;ve also downloaded &amp; installed Java from Apple&#39;s web site, but I still get the same error.\r\n\r\nthanks for the help.\r\n","title":"Eclipse: JVM shared library does not contain the JNI_CreateJavaVM symbol","body":"<p>Eclipse 4.4.0 on Mac OSX 10.9, JVM 8 gives an alert when I try to run it:</p>\n\n<p>\"The JVM shared library \"/Library/Java/JavaVirtualMachine/jdk1.8.0_20.jdk/Contents/Home/bin/.../jre/lib/server/libjvm.dylib\" does not contain the JNI_CreateJavaVM symbol\"</p>\n\n<p>The application does not start.</p>\n\n<p>I edited the Info.plist per Shan's instructions of 8/25, but I still get the same error.</p>\n\n<p>I've also downloaded &amp; installed Java from Apple's web site, but I still get the same error.</p>\n\n<p>thanks for the help.</p>\n"},{"tags":["java","android","installation","version","project"],"comments":[{"owner":{"account_id":1849514,"reputation":193878,"user_id":1676363,"accept_rate":100,"display_name":"ianhanniballake"},"score":0,"creation_date":1697743124,"post_id":77326269,"comment_id":136321634,"body_markdown":"Do you have API 34 downloaded in your SDK Manager?","body":"Do you have API 34 downloaded in your SDK Manager?"},{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":0,"creation_date":1697744800,"post_id":77326269,"comment_id":136321860,"body_markdown":"You don&#39;t need a UI simply change the value in Gradle config file.","body":"You don&#39;t need a UI simply change the value in Gradle config file."}],"owner":{"account_id":27119206,"reputation":1,"user_id":20663108,"display_name":"Rajat Singh"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":180,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697744980,"creation_date":1697740153,"question_id":77326269,"body_markdown":"In my android studio, I am unable to change my compile sdk version from 33 to 34. It doesn&#39;t show 34 option on compile sdk versions in program structure:\r\n[![enter image description here](https://i.stack.imgur.com/kWqcY.png)](https://i.stack.imgur.com/kWqcY.png)\r\n","title":"unable to change my compile sdk version from 33 to 34","body":"<p>In my android studio, I am unable to change my compile sdk version from 33 to 34. It doesn't show 34 option on compile sdk versions in program structure:\n<a href=\"https://i.stack.imgur.com/kWqcY.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/kWqcY.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["javascript","java","authentication","grails","extjs"],"comments":[{"owner":{"account_id":1352170,"reputation":34246,"user_id":1291492,"accept_rate":100,"display_name":"ControlAltDel"},"score":0,"creation_date":1697726311,"post_id":77324641,"comment_id":136318437,"body_markdown":"You&#39;ve got to set SameSite:None on your session cookie. I did this in PHP","body":"You&#39;ve got to set SameSite:None on your session cookie. I did this in PHP"}],"answers":[{"tags":[],"owner":{"account_id":29114412,"reputation":19,"user_id":22303452,"display_name":"Aisu"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697744545,"creation_date":1697744545,"answer_id":77326651,"question_id":77324641,"body_markdown":"To implement a shared session and JWT authentication across multiple applications (App A and App B) using different domains, you need to consider the following aspects:\r\n\r\nSingle Sign-On (SSO): Implement a Single Sign-On solution that allows users to log in once and access multiple applications without having to re-enter their credentials. This typically involves using a centralized authentication server.\r\n\r\nCross-Domain Authentication: As the applications are on different domains, you need to address Cross-Origin Resource Sharing (CORS) issues. Ensure that the authentication server and the applications are configured to handle CORS properly.\r\n\r\nHere&#39;s a high-level approach to achieve this:\r\n\r\nAuthentication Server:\r\n\r\nCreate a separate authentication server (or use an existing one) that handles user authentication and JWT token issuance.\r\nConfigure this server to issue JWT tokens with a shared secret and a common signing key.\r\nLogin Flow:\r\n\r\nUser logs in to App A or App B.\r\nThe frontend of App A or App B sends a request to the authentication server to authenticate the user and obtain a JWT token.\r\nThe authentication server verifies the user&#39;s credentials, creates a JWT token, and returns it to the frontend of App A or App B.\r\nStore the JWT token in a secure HTTP-only cookie or use a secure storage mechanism like local storage.\r\nCross-Domain Authentication:\r\n\r\nEnsure that the CORS settings on the authentication server allow requests from the domains of App A and App B.\r\nYou might need to implement mechanisms like JSONP or Cross-Origin Resource Sharing (CORS) to facilitate communication between different domains.\r\nToken Sharing:\r\n\r\nThe JWT token can be shared between App A and App B as long as they have the same signing key. This means they can validate the token independently without making additional requests to the authentication server.\r\nWhenever App A or App B needs to perform an action on behalf of the user, they can check the JWT token for permissions and authentication. This is a stateless way to verify the user&#39;s identity.\r\nSingle Logout:\r\n\r\nImplement a Single Logout mechanism if you want to log the user out of both applications when they log out of one. This typically involves notifying the authentication server to invalidate the user&#39;s session.\r\nJWT Payload:\r\n\r\nYour JWT payload should contain user-specific information along with claims necessary for authentication and authorization.\r\nBe cautious about the claims stored in the JWT, as they will be readable on the client side.\r\nSecurity Considerations:\r\n\r\nEnsure that you follow security best practices, such as using secure cookies, implementing proper token validation, and securing the JWT signing key.\r\nRegularly rotate the JWT signing keys for enhanced security.\r\nLogging and Monitoring:\r\n\r\nImplement comprehensive logging and monitoring to keep track of authentication and authorization events and detect any suspicious activities.\r\nUser Experience:\r\n\r\nMake sure the user experience is smooth, with appropriate error handling for login and session management.\r\nKeep in mind that implementing a shared session and authentication across different domains can be complex and requires a robust understanding of authentication and security practices. Additionally, it&#39;s essential to consider regulatory and compliance requirements, such as GDPR, when handling user data across multiple applications.\r\n","title":"Cross Domain Session","body":"<p>To implement a shared session and JWT authentication across multiple applications (App A and App B) using different domains, you need to consider the following aspects:</p>\n<p>Single Sign-On (SSO): Implement a Single Sign-On solution that allows users to log in once and access multiple applications without having to re-enter their credentials. This typically involves using a centralized authentication server.</p>\n<p>Cross-Domain Authentication: As the applications are on different domains, you need to address Cross-Origin Resource Sharing (CORS) issues. Ensure that the authentication server and the applications are configured to handle CORS properly.</p>\n<p>Here's a high-level approach to achieve this:</p>\n<p>Authentication Server:</p>\n<p>Create a separate authentication server (or use an existing one) that handles user authentication and JWT token issuance.\nConfigure this server to issue JWT tokens with a shared secret and a common signing key.\nLogin Flow:</p>\n<p>User logs in to App A or App B.\nThe frontend of App A or App B sends a request to the authentication server to authenticate the user and obtain a JWT token.\nThe authentication server verifies the user's credentials, creates a JWT token, and returns it to the frontend of App A or App B.\nStore the JWT token in a secure HTTP-only cookie or use a secure storage mechanism like local storage.\nCross-Domain Authentication:</p>\n<p>Ensure that the CORS settings on the authentication server allow requests from the domains of App A and App B.\nYou might need to implement mechanisms like JSONP or Cross-Origin Resource Sharing (CORS) to facilitate communication between different domains.\nToken Sharing:</p>\n<p>The JWT token can be shared between App A and App B as long as they have the same signing key. This means they can validate the token independently without making additional requests to the authentication server.\nWhenever App A or App B needs to perform an action on behalf of the user, they can check the JWT token for permissions and authentication. This is a stateless way to verify the user's identity.\nSingle Logout:</p>\n<p>Implement a Single Logout mechanism if you want to log the user out of both applications when they log out of one. This typically involves notifying the authentication server to invalidate the user's session.\nJWT Payload:</p>\n<p>Your JWT payload should contain user-specific information along with claims necessary for authentication and authorization.\nBe cautious about the claims stored in the JWT, as they will be readable on the client side.\nSecurity Considerations:</p>\n<p>Ensure that you follow security best practices, such as using secure cookies, implementing proper token validation, and securing the JWT signing key.\nRegularly rotate the JWT signing keys for enhanced security.\nLogging and Monitoring:</p>\n<p>Implement comprehensive logging and monitoring to keep track of authentication and authorization events and detect any suspicious activities.\nUser Experience:</p>\n<p>Make sure the user experience is smooth, with appropriate error handling for login and session management.\nKeep in mind that implementing a shared session and authentication across different domains can be complex and requires a robust understanding of authentication and security practices. Additionally, it's essential to consider regulatory and compliance requirements, such as GDPR, when handling user data across multiple applications.</p>\n"}],"owner":{"account_id":14426950,"reputation":3,"user_id":10426962,"display_name":"Jo&#227;o G. Hartmann"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1697744545,"creation_date":1697725591,"question_id":77324641,"body_markdown":"The projects of the company I work for are being changed, the names are App A, App B, App C and App D. One of this changes is the login and session.\r\n\r\nTwo applications (A and B) has the same database, this means user has one login/pass for both. Often these applications are used in parallel.\r\n\r\nI have an API for login, which returns a jwt, but one active token is allowed at a time.\r\n\r\nThen I was asked to make the login flow work for Apps A and B, using the same JWT to maintain a single session.\r\n\r\nOne problem I encountered is that the projects were not necessarily in the same domain.\r\n\r\nThe questions are:\r\n\r\n1. What is the correct way to make this work? Following good security practices.\r\n2. Where can the token be stored? To be accessible by both applications (is this possible?).\r\n\r\n---\r\nThe actual flow:\r\n\r\n* The user enters credentials into the form.\r\n* Request to the backend API.\r\n* Request to the login API.\r\n* Response with read-only session information (daysToExpirePass, ttl, name, login, tokenCreatedDate, email and token).\r\n* Only the token (signing) is sent in each request to the backend API to check permissions, the other information is just for other things like warnings, all the logic is in the backend.\r\n* This information is stored in session storage.\r\n\r\n---\r\n\r\nTechnologies:\r\n- ExtJS 7.6.0 - frontend\r\n- Grails 5.2.2 and Java 11 - backend\r\n- Internal Logic for Authentication.\r\n\r\n---\r\n\r\nJWT payload structure example:\r\n```json\r\n{\r\n  &quot;sub&quot;: &quot;&lt;user&gt;&quot;,\r\n  &quot;RANDOM_VALUE&quot;: &quot;&lt;uuid&gt;&quot;,\r\n  &quot;jti&quot;: &quot;&lt;uuid&gt;&quot;\r\n}\r\n```\r\n","title":"Cross Domain Session","body":"<p>The projects of the company I work for are being changed, the names are App A, App B, App C and App D. One of this changes is the login and session.</p>\n<p>Two applications (A and B) has the same database, this means user has one login/pass for both. Often these applications are used in parallel.</p>\n<p>I have an API for login, which returns a jwt, but one active token is allowed at a time.</p>\n<p>Then I was asked to make the login flow work for Apps A and B, using the same JWT to maintain a single session.</p>\n<p>One problem I encountered is that the projects were not necessarily in the same domain.</p>\n<p>The questions are:</p>\n<ol>\n<li>What is the correct way to make this work? Following good security practices.</li>\n<li>Where can the token be stored? To be accessible by both applications (is this possible?).</li>\n</ol>\n<hr />\n<p>The actual flow:</p>\n<ul>\n<li>The user enters credentials into the form.</li>\n<li>Request to the backend API.</li>\n<li>Request to the login API.</li>\n<li>Response with read-only session information (daysToExpirePass, ttl, name, login, tokenCreatedDate, email and token).</li>\n<li>Only the token (signing) is sent in each request to the backend API to check permissions, the other information is just for other things like warnings, all the logic is in the backend.</li>\n<li>This information is stored in session storage.</li>\n</ul>\n<hr />\n<p>Technologies:</p>\n<ul>\n<li>ExtJS 7.6.0 - frontend</li>\n<li>Grails 5.2.2 and Java 11 - backend</li>\n<li>Internal Logic for Authentication.</li>\n</ul>\n<hr />\n<p>JWT payload structure example:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;sub&quot;: &quot;&lt;user&gt;&quot;,\n  &quot;RANDOM_VALUE&quot;: &quot;&lt;uuid&gt;&quot;,\n  &quot;jti&quot;: &quot;&lt;uuid&gt;&quot;\n}\n</code></pre>\n"},{"tags":["java","mockito"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1686095335,"post_id":76418295,"comment_id":134751456,"body_markdown":"Use a factory class with a `create` method which creates the object, and mock the factory in your tests.","body":"Use a factory class with a <code>create</code> method which creates the object, and mock the factory in your tests."},{"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1686117163,"post_id":76418295,"comment_id":134753243,"body_markdown":"What&#39;s the implementation of your constructor?","body":"What&#39;s the implementation of your constructor?"},{"owner":{"account_id":1706750,"reputation":171,"user_id":1565675,"display_name":"Karsten Spang"},"score":0,"creation_date":1697727009,"post_id":76418295,"comment_id":136318588,"body_markdown":"@knittl It is not my constructor. I want construction of some third party class to throw an exception.","body":"@knittl It is not my constructor. I want construction of some third party class to throw an exception."}],"answers":[{"tags":[],"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697744118,"creation_date":1697744118,"answer_id":77326606,"question_id":76418295,"body_markdown":"&gt; Don&#39;t mock a type you don&#39;t own! [[src]](https://github.com/mockito/mockito/wiki/How-to-write-good-tests#dont-mock-a-type-you-dont-own)\r\n\r\nYou are trying to mock the constructor of an external class. Instead, change your code to use a factory instead which calls the constructor. You can then easily stub the factory method to throw the exception.\r\n\r\nSo going from a direct constructor call:\r\n\r\n```\r\nclass YourClass {\r\n  method() {\r\n    final SomeClass obj = new SomeClass();\r\n    // ...\r\n  }\r\n}\r\n```\r\n\r\nrefactor the code to create the instance via a factory. Java 8+ makes this an easy task by leveraging method refs and lambdas:\r\n\r\n```\r\nclass YourClass {\r\n  @VisibleForTesting\r\n  Supplier&lt;SomeClass&gt; makeSomeClass = SomeClass::new;\r\n  method() {\r\n    final SomeClass obj = makeSomeClass.get();\r\n    // ...\r\n  }\r\n}\r\n\r\nclass YourClassTest {\r\n  @Test\r\n  void test() {\r\n    final YourClass yourObj = new YourClass();\r\n    yourObj.makeSomeClass = () -&gt; {\r\n      throw new RuntimeException();\r\n    };\r\n\r\n    assertThatCode(() -&gt; yourObj.method())\r\n        .isInstanceOf(RuntimeException.class);\r\n  }\r\n}\r\n```\r\n\r\nYou don&#39;t even need Mockito :)","title":"How to mock a constructor throwing an exception in Mockitio","body":"<blockquote>\n<p>Don't mock a type you don't own! <a href=\"https://github.com/mockito/mockito/wiki/How-to-write-good-tests#dont-mock-a-type-you-dont-own\" rel=\"nofollow noreferrer\">[src]</a></p>\n</blockquote>\n<p>You are trying to mock the constructor of an external class. Instead, change your code to use a factory instead which calls the constructor. You can then easily stub the factory method to throw the exception.</p>\n<p>So going from a direct constructor call:</p>\n<pre><code>class YourClass {\n  method() {\n    final SomeClass obj = new SomeClass();\n    // ...\n  }\n}\n</code></pre>\n<p>refactor the code to create the instance via a factory. Java 8+ makes this an easy task by leveraging method refs and lambdas:</p>\n<pre><code>class YourClass {\n  @VisibleForTesting\n  Supplier&lt;SomeClass&gt; makeSomeClass = SomeClass::new;\n  method() {\n    final SomeClass obj = makeSomeClass.get();\n    // ...\n  }\n}\n\nclass YourClassTest {\n  @Test\n  void test() {\n    final YourClass yourObj = new YourClass();\n    yourObj.makeSomeClass = () -&gt; {\n      throw new RuntimeException();\n    };\n\n    assertThatCode(() -&gt; yourObj.method())\n        .isInstanceOf(RuntimeException.class);\n  }\n}\n</code></pre>\n<p>You don't even need Mockito :)</p>\n"}],"owner":{"account_id":1706750,"reputation":171,"user_id":1565675,"display_name":"Karsten Spang"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":302,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1697744310,"creation_date":1686084009,"question_id":76418295,"body_markdown":"I am trying to use Mockito to mock throwing an exception in a constructor. I would prefer not using PowerMock (I know how to do that). This is basically what I want to do, using Junit 5:\r\n```\r\n@Test\r\nvoid exceptionAtConstruction() {\r\n    final RuntimeException ex = new RuntimeException();\r\n    try (MockedConstruction&lt;SomeClass&gt; mocked = \r\n        Mockito.mockConstruction(SomeClass.class))\r\n    {\r\n        when(??).thenThrow(ex);\r\n        assertThrows(RuntimeException.class,()-&gt;new SomeClass());\r\n    }\r\n}\r\n```\r\nI have not been able to find out what to substitute for &quot;??&quot;. The obvious would have been `mocked.constructed()`, but that turned out to be something entirely different.\r\n\r\nThe closest I have got so far is the workaround\r\n```\r\n@Test\r\nvoid exceptionAtConstruction() {\r\n    final RuntimeException ex = new RuntimeException();\r\n    try (MockedConstruction&lt;SomeClass&gt; someMock =  mockConstruction(SomeClass.class,\r\n        new MockedConstruction.MockInitializer&lt;SomeClass&gt;(){\r\n            @Override\r\n            public void prepare(SomeClass mocked,MockedConstruction.Context context){\r\n                throw ex;\r\n            }\r\n        }))\r\n    {\r\n        assertThrows(RuntimeException.class,()-&gt;new SomeClass());\r\n    }\r\n}\r\n```\r\nHere I get an exception which has my expected exception as the second level cause.","title":"How to mock a constructor throwing an exception in Mockitio","body":"<p>I am trying to use Mockito to mock throwing an exception in a constructor. I would prefer not using PowerMock (I know how to do that). This is basically what I want to do, using Junit 5:</p>\n<pre><code>@Test\nvoid exceptionAtConstruction() {\n    final RuntimeException ex = new RuntimeException();\n    try (MockedConstruction&lt;SomeClass&gt; mocked = \n        Mockito.mockConstruction(SomeClass.class))\n    {\n        when(??).thenThrow(ex);\n        assertThrows(RuntimeException.class,()-&gt;new SomeClass());\n    }\n}\n</code></pre>\n<p>I have not been able to find out what to substitute for &quot;??&quot;. The obvious would have been <code>mocked.constructed()</code>, but that turned out to be something entirely different.</p>\n<p>The closest I have got so far is the workaround</p>\n<pre><code>@Test\nvoid exceptionAtConstruction() {\n    final RuntimeException ex = new RuntimeException();\n    try (MockedConstruction&lt;SomeClass&gt; someMock =  mockConstruction(SomeClass.class,\n        new MockedConstruction.MockInitializer&lt;SomeClass&gt;(){\n            @Override\n            public void prepare(SomeClass mocked,MockedConstruction.Context context){\n                throw ex;\n            }\n        }))\n    {\n        assertThrows(RuntimeException.class,()-&gt;new SomeClass());\n    }\n}\n</code></pre>\n<p>Here I get an exception which has my expected exception as the second level cause.</p>\n"},{"tags":["java","spring-boot","unit-testing","mockito","junit5"],"comments":[{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1697638082,"post_id":77317086,"comment_id":136305261,"body_markdown":"Could you show the test?  What value do you want to get from `getTypeB()`?  What value are you getting now?","body":"Could you show the test?  What value do you want to get from <code>getTypeB()</code>?  What value are you getting now?"},{"owner":{"account_id":17558425,"reputation":66,"user_id":12737404,"display_name":"h_a_l_a_s"},"score":3,"creation_date":1697638205,"post_id":77317086,"comment_id":136305288,"body_markdown":"Please provide some code snipped from both classes and test case","body":"Please provide some code snipped from both classes and test case"},{"owner":{"account_id":9443335,"reputation":15252,"user_id":7023245,"accept_rate":25,"display_name":"Timothy Truckle"},"score":0,"creation_date":1698575111,"post_id":77317086,"comment_id":136420672,"body_markdown":"Welcome to Stack Overflow!\nPlease take the [tour](/tour), have a look around, and read through the [help center](/help), in particular How do [I ask a good question?](/help/how-to-ask) and [What topics can I ask about here?](/help/on-topic).\nFrom that second link: &quot;Questions asking for homework help must include a summary of the work you&#39;ve done so far to solve the problem, and a description of the difficulty you are having solving it.&quot;\neven if it is no homework.\nPlease add  a [Minimal, Complete, and Verifiable example](/help/mcve).","body":"Welcome to Stack Overflow! Please take the <a href=\"/tour\">tour</a>, have a look around, and read through the <a href=\"/help\">help center</a>, in particular How do <a href=\"/help/how-to-ask\">I ask a good question?</a> and <a href=\"/help/on-topic\">What topics can I ask about here?</a>. From that second link: &quot;Questions asking for homework help must include a summary of the work you&#39;ve done so far to solve the problem, and a description of the difficulty you are having solving it.&quot; even if it is no homework. Please add  a <a href=\"/help/mcve\">Minimal, Complete, and Verifiable example</a>."},{"owner":{"account_id":9443335,"reputation":15252,"user_id":7023245,"accept_rate":25,"display_name":"Timothy Truckle"},"score":0,"creation_date":1698575485,"post_id":77317086,"comment_id":136420691,"body_markdown":"You should rethink your design. In Java (like in any OO language) we distinguish between *business classes* (classes that contain actual logic) and *value objects/data transfer objects*, classes that only contain data and (almost) no logic. The point here is, that business classes should not have getters since they violate the **information hiding principle** (one of the most important OOP-rules) and value objects (as well as any `Collection`s) should not be mocked.","body":"You should rethink your design. In Java (like in any OO language) we distinguish between <i>business classes</i> (classes that contain actual logic) and <i>value objects/data transfer objects</i>, classes that only contain data and (almost) no logic. The point here is, that business classes should not have getters since they violate the <b>information hiding principle</b> (one of the most important OOP-rules) and value objects (as well as any <code>Collection</code>s) should not be mocked."}],"answers":[{"comments":[{"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":1,"creation_date":1697699119,"post_id":77317431,"comment_id":136313136,"body_markdown":"You need `@ExtendWith(MockitoExtension.class)`; this is not a SpringBootTest. As presented, all fields will be null and the test will fail.","body":"You need <code>@ExtendWith(MockitoExtension.class)</code>; this is not a SpringBootTest. As presented, all fields will be null and the test will fail."},{"owner":{"account_id":1798188,"reputation":103,"user_id":1637118,"display_name":"Timur Celikel"},"score":0,"creation_date":1697729144,"post_id":77317431,"comment_id":136319117,"body_markdown":"I ran it with `@SpringBootTest` and it works. I&#39;m not entirely sure why as I agree that I should have either used `@MockBean` with `@SpringBootTest` or `@ExtendWith(MockitoExtension.class)` with `@Mock`. The puzzling thing is it works as is just fine with `@SpringBootTest`","body":"I ran it with <code>@SpringBootTest</code> and it works. I&#39;m not entirely sure why as I agree that I should have either used <code>@MockBean</code> with <code>@SpringBootTest</code> or <code>@ExtendWith(MockitoExtension.class)</code> with <code>@Mock</code>. The puzzling thing is it works as is just fine with <code>@SpringBootTest</code>"},{"owner":{"account_id":1798188,"reputation":103,"user_id":1637118,"display_name":"Timur Celikel"},"score":1,"creation_date":1697740599,"post_id":77317431,"comment_id":136321235,"body_markdown":"@knittl Just as a quick follow up I went down a rabbit hole and discovered that `@SpringBootTest` includes many of the same features as `@ExtendWith(MockitoExtension.class)` and `@ExtendWith(SpringExtension.class)`. To your point it&#39;s probably over kill to use @SpringBootTest if you aren&#39;t trying to load the entire application context and all the Spring bloat. But I suppose it _does_ still work.","body":"@knittl Just as a quick follow up I went down a rabbit hole and discovered that <code>@SpringBootTest</code> includes many of the same features as <code>@ExtendWith(MockitoExtension.class)</code> and <code>@ExtendWith(SpringExtension.class)</code>. To your point it&#39;s probably over kill to use @SpringBootTest if you aren&#39;t trying to load the entire application context and all the Spring bloat. But I suppose it <i>does</i> still work."},{"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":1,"creation_date":1697742710,"post_id":77317431,"comment_id":136321580,"body_markdown":"thanks for verifying :) I was under the impression that it does not work, but alas, I was wrong. Running as `@SpringBootTest` will start the entire application context, which is overkill for a simple test like this, as you have mentioned. Thanks again!","body":"thanks for verifying :) I was under the impression that it does not work, but alas, I was wrong. Running as <code>@SpringBootTest</code> will start the entire application context, which is overkill for a simple test like this, as you have mentioned. Thanks again!"},{"owner":{"account_id":1798188,"reputation":103,"user_id":1637118,"display_name":"Timur Celikel"},"score":0,"creation_date":1697744039,"post_id":77317431,"comment_id":136321755,"body_markdown":"@knittl of course! Thank you for the inspiration to figure out how all these annotations work. I didn&#39;t have much of an idea what all the differences were before.","body":"@knittl of course! Thank you for the inspiration to figure out how all these annotations work. I didn&#39;t have much of an idea what all the differences were before."}],"tags":[],"owner":{"account_id":1798188,"reputation":103,"user_id":1637118,"display_name":"Timur Celikel"},"comment_count":5,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697744090,"creation_date":1697640779,"answer_id":77317431,"question_id":77317086,"body_markdown":"This may not be the cleanest way but you need to make sure each object you are referencing is also mocked. You can do that by building out your mocked a object with Mockito&#39;s when() method. \r\n\r\nYou should be able to do something like the following in your test:\r\n\r\n    @ExtendWith(MockitoExtension.class)\r\n    public class AClassTest {\r\n\r\n        @Mock\r\n        private AClass a;\r\n\r\n        @Mock\r\n        private TypeA typeA;\r\n\r\n        @Mock\r\n        private TypeB typeB;\r\n\r\n        @Autowired\r\n        private YourController yourController;\r\n\r\n        @Test\r\n        void testControllerInSomeWay() {\r\n\r\n            when(typeA.getTypeB()).thenReturn(typeB);\r\n            when(a.getTypeA()).thenReturn(typeA);\r\n\r\n            yourController.useAClassInSomeWay(a);\r\n        }\r\n    }","title":"How to mock a.getTypeA().getTypeB();","body":"<p>This may not be the cleanest way but you need to make sure each object you are referencing is also mocked. You can do that by building out your mocked a object with Mockito's when() method.</p>\n<p>You should be able to do something like the following in your test:</p>\n<pre><code>@ExtendWith(MockitoExtension.class)\npublic class AClassTest {\n\n    @Mock\n    private AClass a;\n\n    @Mock\n    private TypeA typeA;\n\n    @Mock\n    private TypeB typeB;\n\n    @Autowired\n    private YourController yourController;\n\n    @Test\n    void testControllerInSomeWay() {\n\n        when(typeA.getTypeB()).thenReturn(typeB);\n        when(a.getTypeA()).thenReturn(typeA);\n\n        yourController.useAClassInSomeWay(a);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":23835755,"reputation":11,"user_id":17841502,"display_name":"Samadhan Ghagare"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1697744090,"creation_date":1697638021,"question_id":77317086,"body_markdown":"AClass a=new AClass() ;\r\na.getTypeA().getTypeB();\r\n\r\nI have used mocked constructor to mock AClass method but how to mock getTypeB(); method \r\n\r\nI am able to mock class A but for class b it&#39;s calling real method. \r\nMethod getTypeB() has TypeB class.   ","title":"How to mock a.getTypeA().getTypeB();","body":"<p>AClass a=new AClass() ;\na.getTypeA().getTypeB();</p>\n<p>I have used mocked constructor to mock AClass method but how to mock getTypeB(); method</p>\n<p>I am able to mock class A but for class b it's calling real method.\nMethod getTypeB() has TypeB class.</p>\n"},{"tags":["java","discord","discord-jda"],"answers":[{"tags":[],"owner":{"account_id":14719989,"reputation":5877,"user_id":10630900,"display_name":"Minn"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1697734134,"creation_date":1697734134,"answer_id":77325697,"question_id":77325675,"body_markdown":"You can use [openPrivateChannelById](https://docs.jda.wiki/net/dv8tion/jda/api/JDA.html#openPrivateChannelById(long)):\r\n\r\n```java\r\njda.openPrivateChannelById(recipientUserId).queue(channel -&gt; {\r\n  User user = channel.getUser();\r\n  channel.sendMessage(messageContent).queue();\r\n  System.out.printf(&quot;Message has been sent to %#s successfully\\n&quot;, user);\r\n});\r\n```","title":"How to send a private message to a user by user id","body":"<p>You can use <a href=\"https://docs.jda.wiki/net/dv8tion/jda/api/JDA.html#openPrivateChannelById(long)\" rel=\"nofollow noreferrer\">openPrivateChannelById</a>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>jda.openPrivateChannelById(recipientUserId).queue(channel -&gt; {\n  User user = channel.getUser();\n  channel.sendMessage(messageContent).queue();\n  System.out.printf(&quot;Message has been sent to %#s successfully\\n&quot;, user);\n});\n</code></pre>\n"}],"owner":{"account_id":29704415,"reputation":23,"user_id":22765623,"display_name":"RTX"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77325697,"answer_count":1,"score":1,"last_activity_date":1697743664,"creation_date":1697733907,"question_id":77325675,"body_markdown":"I was trying to code a bot that dms people, but I wasn&#39;t able to find user by their id.\r\n\r\n```java\r\npackage me.rtx4090;\r\nimport net.dv8tion.jda.api.JDA;\r\nimport net.dv8tion.jda.api.JDABuilder;\r\nimport net.dv8tion.jda.api.events.guild.GuildReadyEvent;\r\nimport net.dv8tion.jda.api.hooks.ListenerAdapter;\r\nimport net.dv8tion.jda.api.entities.User;\r\n\r\npublic class Main extends ListenerAdapter {\r\n    private JDA jda;\r\n\r\n    public Main() {\r\n        String botToken = &quot;(censored)&quot;;\r\n        jda = JDABuilder.createDefault(botToken).addEventListeners(this).build();\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        new Main();\r\n    }\r\n\r\n    @Override\r\n    public void onGuildReady(GuildReadyEvent event) {\r\n        System.out.println(&quot;All members in the guild &quot; + event.getGuild().getName() + &quot; have been downloaded.&quot;);\r\n\r\n        sendPrivateMessage();\r\n    }\r\n\r\n    private void sendPrivateMessage() {\r\n        String recipientUserId = &quot;(censored)&quot;; \r\n        String messageContent = &quot;L&quot;;\r\n\r\n        User recipient = jda.getUserById(recipientUserId);\r\n        System.out.println(recipient);\r\n\r\n        if (recipient != null) {\r\n            recipient.openPrivateChannel().queue(privateChannel -&gt; {\r\n                privateChannel.sendMessage(messageContent).queue();\r\n                System.out.println(&quot;Message has been sent to &quot; + recipient.getAsTag() + &quot; successfully&quot;);\r\n            });\r\n        } else {\r\n            System.out.println(&quot;Can&#39;t find the user. Please make sure you&#39;ve used the correct ID&quot;);\r\n        }\r\n    }\r\n}\r\n```","title":"How to send a private message to a user by user id","body":"<p>I was trying to code a bot that dms people, but I wasn't able to find user by their id.</p>\n<pre class=\"lang-java prettyprint-override\"><code>package me.rtx4090;\nimport net.dv8tion.jda.api.JDA;\nimport net.dv8tion.jda.api.JDABuilder;\nimport net.dv8tion.jda.api.events.guild.GuildReadyEvent;\nimport net.dv8tion.jda.api.hooks.ListenerAdapter;\nimport net.dv8tion.jda.api.entities.User;\n\npublic class Main extends ListenerAdapter {\n    private JDA jda;\n\n    public Main() {\n        String botToken = &quot;(censored)&quot;;\n        jda = JDABuilder.createDefault(botToken).addEventListeners(this).build();\n    }\n\n    public static void main(String[] args) {\n        new Main();\n    }\n\n    @Override\n    public void onGuildReady(GuildReadyEvent event) {\n        System.out.println(&quot;All members in the guild &quot; + event.getGuild().getName() + &quot; have been downloaded.&quot;);\n\n        sendPrivateMessage();\n    }\n\n    private void sendPrivateMessage() {\n        String recipientUserId = &quot;(censored)&quot;; \n        String messageContent = &quot;L&quot;;\n\n        User recipient = jda.getUserById(recipientUserId);\n        System.out.println(recipient);\n\n        if (recipient != null) {\n            recipient.openPrivateChannel().queue(privateChannel -&gt; {\n                privateChannel.sendMessage(messageContent).queue();\n                System.out.println(&quot;Message has been sent to &quot; + recipient.getAsTag() + &quot; successfully&quot;);\n            });\n        } else {\n            System.out.println(&quot;Can't find the user. Please make sure you've used the correct ID&quot;);\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","java-8","option-type"],"comments":[{"owner":{"account_id":2792262,"reputation":163877,"user_id":2402272,"accept_rate":85,"display_name":"John Bollinger"},"score":0,"creation_date":1534166323,"post_id":51823194,"comment_id":90600690,"body_markdown":"There are many variations, but most of them leverage `OptionalLong.isPresent()` to distinguish between the empty and non-empty cases.","body":"There are many variations, but most of them leverage <code>OptionalLong.isPresent()</code> to distinguish between the empty and non-empty cases."},{"owner":{"account_id":1056871,"reputation":117749,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"score":6,"creation_date":1534166662,"post_id":51823194,"comment_id":90600897,"body_markdown":"the question is why doesn&#39;t `OptionalLong` have no `map/filter` etc","body":"the question is why doesn&#39;t <code>OptionalLong</code> have no <code>map&#47;filter</code> etc"},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":6,"creation_date":1534167567,"post_id":51823194,"comment_id":90601484,"body_markdown":"`api.setHeight(…)` should not expect an `Optional&lt;Long&gt;` as argument type. Then you will not have such problems.","body":"<code>api.setHeight(…)</code> should not expect an <code>Optional&lt;Long&gt;</code> as argument type. Then you will not have such problems."},{"owner":{"account_id":219730,"reputation":20703,"user_id":476791,"accept_rate":67,"display_name":"slartidan"},"score":0,"creation_date":1534167779,"post_id":51823194,"comment_id":90601625,"body_markdown":"@Holger In some cases it cannot easily be avoided (i.e. if `Long` is the value of a type argument of a generic method)","body":"@Holger In some cases it cannot easily be avoided (i.e. if <code>Long</code> is the value of a type argument of a generic method)"},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":11,"creation_date":1534168180,"post_id":51823194,"comment_id":90601909,"body_markdown":"Just don’t use `Optional` as parameter at all, whether generic or not. It&#39;s horrible to read. What does it mean to call `setHeight` with an empty optional argument? Do nothing? Then, don’t call it at all. `secondScreenHeight.ifPresent(api::setHeight)` makes much more sense.","body":"Just don’t use <code>Optional</code> as parameter at all, whether generic or not. It&#39;s horrible to read. What does it mean to call <code>setHeight</code> with an empty optional argument? Do nothing? Then, don’t call it at all. <code>secondScreenHeight.ifPresent(api::setHeight)</code> makes much more sense."},{"owner":{"account_id":1939636,"reputation":28467,"user_id":1746118,"accept_rate":95,"display_name":"Naman"},"score":2,"creation_date":1534178227,"post_id":51823194,"comment_id":90608086,"body_markdown":"To add to what Holger already pointed out, this is what IntelliJ would suggest you as well... *...Optional was designed to provide a limited mechanism for library method return types where there needed to be a clear way to represent &quot;no result&quot;. Using a field with type java.util.Optional is also problematic if the class needs to be Serializable, [which java.util.Optional is not.](https://stackoverflow.com/questions/24547673/why-java-util-optional-is-not-serializable-how-to-serialize-the-object-with-suc)*","body":"To add to what Holger already pointed out, this is what IntelliJ would suggest you as well... <i>...Optional was designed to provide a limited mechanism for library method return types where there needed to be a clear way to represent &quot;no result&quot;. Using a field with type java.util.Optional is also problematic if the class needs to be Serializable, <a href=\"https://stackoverflow.com/questions/24547673/why-java-util-optional-is-not-serializable-how-to-serialize-the-object-with-suc\">which java.util.Optional is not.</a></i>"},{"owner":{"account_id":11583471,"reputation":17797,"user_id":8486518,"display_name":"Mạnh Quyết Nguyễn"},"score":6,"creation_date":1534679605,"post_id":51823194,"comment_id":90784490,"body_markdown":"Why a bounty is opened here? The question received good answers","body":"Why a bounty is opened here? The question received good answers"}],"answers":[{"comments":[{"owner":{"account_id":219730,"reputation":20703,"user_id":476791,"accept_rate":67,"display_name":"slartidan"},"score":0,"creation_date":1534169871,"post_id":51823277,"comment_id":90603004,"body_markdown":"I like about this solution, that it is readable and that the intent to remap the optional is clearly visible.","body":"I like about this solution, that it is readable and that the intent to remap the optional is clearly visible."}],"tags":[],"owner":{"account_id":5071195,"reputation":4549,"user_id":4069913,"accept_rate":22,"display_name":"Orest Savchak"},"comment_count":1,"down_vote_count":3,"up_vote_count":13,"is_accepted":true,"score":10,"last_activity_date":1534166454,"creation_date":1534166143,"answer_id":51823277,"question_id":51823194,"body_markdown":"I don&#39;t know simpler solutions but this will do what you need. \r\n\r\n    OptionalLong secondScreenHeight = OptionalLong.of(32l);\r\n    Optional&lt;Long&gt; optional = secondScreenHeight.isPresent() \r\n        ? Optional.of(secondSceenHeight.getAsLong()) \r\n        : Optional.empty();\r\n    api.setHeight(optional);","title":"How to map an OptionalLong to an Optional&lt;Long&gt;?","body":"<p>I don't know simpler solutions but this will do what you need. </p>\n\n<pre><code>OptionalLong secondScreenHeight = OptionalLong.of(32l);\nOptional&lt;Long&gt; optional = secondScreenHeight.isPresent() \n    ? Optional.of(secondSceenHeight.getAsLong()) \n    : Optional.empty();\napi.setHeight(optional);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8781643,"reputation":25950,"user_id":6565093,"accept_rate":47,"display_name":"pvpkiran"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1534166204,"creation_date":1534166204,"answer_id":51823295,"question_id":51823194,"body_markdown":"This should work.  \r\n\r\n    Optional&lt;Long&gt; returnValue = Optional.empty();\r\n    if(secondScreenHeight.isPresent()) {\r\n          returnValue = Optional.of(secondScreenHeight.getAsLong());\r\n    }\r\n\r\n","title":"How to map an OptionalLong to an Optional&lt;Long&gt;?","body":"<p>This should work.  </p>\n\n<pre><code>Optional&lt;Long&gt; returnValue = Optional.empty();\nif(secondScreenHeight.isPresent()) {\n      returnValue = Optional.of(secondScreenHeight.getAsLong());\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":219730,"reputation":20703,"user_id":476791,"accept_rate":67,"display_name":"slartidan"},"score":1,"creation_date":1534167320,"post_id":51823370,"comment_id":90601300,"body_markdown":"What I like about this solution is, that the initial variable is only used once. This makes it possible to create &quot;long chains&quot; in my code - I do not necessarily store the value in a variable.","body":"What I like about this solution is, that the initial variable is only used once. This makes it possible to create &quot;long chains&quot; in my code - I do not necessarily store the value in a variable."},{"owner":{"account_id":219730,"reputation":20703,"user_id":476791,"accept_rate":67,"display_name":"slartidan"},"score":1,"creation_date":1534167392,"post_id":51823370,"comment_id":90601365,"body_markdown":"I like that it does not use old `if else` syntax, but only shiny new java-8 syntax!","body":"I like that it does not use old <code>if else</code> syntax, but only shiny new java-8 syntax!"},{"owner":{"account_id":1056871,"reputation":117749,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"score":0,"creation_date":1534167457,"post_id":51823370,"comment_id":90601418,"body_markdown":"@slartidan well, still `if/else` inside filter and map though","body":"@slartidan well, still <code>if&#47;else</code> inside filter and map though"}],"tags":[],"owner":{"account_id":5168089,"reputation":26701,"user_id":4137489,"accept_rate":100,"display_name":"marstran"},"comment_count":3,"down_vote_count":1,"up_vote_count":15,"is_accepted":false,"score":14,"last_activity_date":1534166455,"creation_date":1534166455,"answer_id":51823370,"question_id":51823194,"body_markdown":"You could do this:\r\n\r\n    final OptionalLong optionalLong = OptionalLong.of(5);\r\n\r\n    final Optional&lt;Long&gt; optional = Optional.of(optionalLong)\r\n                .filter(OptionalLong::isPresent)\r\n                .map(OptionalLong::getAsLong);","title":"How to map an OptionalLong to an Optional&lt;Long&gt;?","body":"<p>You could do this:</p>\n\n<pre><code>final OptionalLong optionalLong = OptionalLong.of(5);\n\nfinal Optional&lt;Long&gt; optional = Optional.of(optionalLong)\n            .filter(OptionalLong::isPresent)\n            .map(OptionalLong::getAsLong);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3452279,"reputation":37360,"user_id":2891664,"accept_rate":100,"display_name":"Radiodef"},"score":5,"creation_date":1534718184,"post_id":51920830,"comment_id":90794355,"body_markdown":"Also, `findAny` is 2 characters shorter.","body":"Also, <code>findAny</code> is 2 characters shorter."},{"owner":{"account_id":219730,"reputation":20703,"user_id":476791,"accept_rate":67,"display_name":"slartidan"},"score":0,"creation_date":1534759106,"post_id":51920830,"comment_id":90806091,"body_markdown":"I like about it, that it is short and does not rely on `isPresent`. However the intention is not as clearly visible as in some of the other answers. Thanks for sharing this solution!","body":"I like about it, that it is short and does not rely on <code>isPresent</code>. However the intention is not as clearly visible as in some of the other answers. Thanks for sharing this solution!"}],"tags":[],"owner":{"account_id":2004139,"reputation":10783,"user_id":1794485,"display_name":"df778899"},"comment_count":2,"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1534705285,"creation_date":1534704614,"answer_id":51920830,"question_id":51823194,"body_markdown":"One more possibility, though only from JDK 9 is via the new `OptionalLong.stream()` method, which returns a `LongStream`.  This can then be boxed to a `Stream&lt;Long&gt;`:\r\n\r\n\tOptionalLong optionalLong = OptionalLong.of(32);\r\n\tOptional&lt;Long&gt; optional = optionalLong.stream().boxed().findFirst();\r\n\r\nWith JDK 8 something similar can be done, by stepping out to the [Streams][1] utility class in Guava:\r\n\r\n\tOptional&lt;Long&gt; optional = Streams.stream(optionalLong).boxed().findFirst();\r\n\r\n\r\n\r\n  [1]: https://google.github.io/guava/releases/21.0/api/docs/com/google/common/collect/Streams.html#stream-java.util.OptionalLong-","title":"How to map an OptionalLong to an Optional&lt;Long&gt;?","body":"<p>One more possibility, though only from JDK 9 is via the new <code>OptionalLong.stream()</code> method, which returns a <code>LongStream</code>.  This can then be boxed to a <code>Stream&lt;Long&gt;</code>:</p>\n\n<pre><code>OptionalLong optionalLong = OptionalLong.of(32);\nOptional&lt;Long&gt; optional = optionalLong.stream().boxed().findFirst();\n</code></pre>\n\n<p>With JDK 8 something similar can be done, by stepping out to the <a href=\"https://google.github.io/guava/releases/21.0/api/docs/com/google/common/collect/Streams.html#stream-java.util.OptionalLong-\" rel=\"noreferrer\">Streams</a> utility class in Guava:</p>\n\n<pre><code>Optional&lt;Long&gt; optional = Streams.stream(optionalLong).boxed().findFirst();\n</code></pre>\n"}],"owner":{"account_id":219730,"reputation":20703,"user_id":476791,"accept_rate":67,"display_name":"slartidan"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10241,"favorite_count":0,"down_vote_count":0,"up_vote_count":19,"accepted_answer_id":51823277,"answer_count":4,"score":19,"last_activity_date":1697742795,"creation_date":1534165869,"question_id":51823194,"body_markdown":"I have an instance of  `OptionalLong`. But one of my libraries requires an `Optional&lt;Long&gt;` as a parameter.\r\n\r\nHow can I convert my `OptionalLong` into an `Optional&lt;Long&gt;`?\r\n\r\nI was dreaming about something like this:\r\n\r\n    OptionalLong secondScreenHeight = OptionalLong.of(32l); // or: OptionalLong.empty()\r\n    api.setHeight(secondScreenHeight.mapToRegularOptional()); // .mapToRegularOptional does not exist","title":"How to map an OptionalLong to an Optional&lt;Long&gt;?","body":"<p>I have an instance of  <code>OptionalLong</code>. But one of my libraries requires an <code>Optional&lt;Long&gt;</code> as a parameter.</p>\n<p>How can I convert my <code>OptionalLong</code> into an <code>Optional&lt;Long&gt;</code>?</p>\n<p>I was dreaming about something like this:</p>\n<pre><code>OptionalLong secondScreenHeight = OptionalLong.of(32l); // or: OptionalLong.empty()\napi.setHeight(secondScreenHeight.mapToRegularOptional()); // .mapToRegularOptional does not exist\n</code></pre>\n"},{"tags":["java","graphics","3d","raytracing","ppm"],"comments":[{"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"score":1,"creation_date":1697724019,"post_id":77323769,"comment_id":136317928,"body_markdown":"Please read [Why is &quot;Can someone help me?&quot; not an actual question?](https://meta.stackoverflow.com/a/284237/721855).","body":"Please read <a href=\"https://meta.stackoverflow.com/a/284237/721855\">Why is &quot;Can someone help me?&quot; not an actual question?</a>."},{"owner":{"account_id":2968584,"reputation":50571,"user_id":2521214,"accept_rate":71,"display_name":"Spektre"},"score":0,"creation_date":1697786055,"post_id":77323769,"comment_id":136325827,"body_markdown":"your ray computation is susspicious I would expect screen pixel position in camera local coordinates as ray origin and (the same point - camera focal point) as ray direction instead of what you are doing.  See: [simple GLSL back raytracer](https://stackoverflow.com/a/45140313/2521214) inspect the vertex shader. ... Your code is not commented at all, you did not describe your geometry and coordinate system used ... How do your know for sure that your ray trace and image output is OK if you do not have any output?","body":"your ray computation is susspicious I would expect screen pixel position in camera local coordinates as ray origin and (the same point - camera focal point) as ray direction instead of what you are doing.  See: <a href=\"https://stackoverflow.com/a/45140313/2521214\">simple GLSL back raytracer</a> inspect the vertex shader. ... Your code is not commented at all, you did not describe your geometry and coordinate system used ... How do your know for sure that your ray trace and image output is OK if you do not have any output?"}],"answers":[{"comments":[{"owner":{"account_id":28243763,"reputation":1,"user_id":21591153,"display_name":"heapunderflow25"},"score":0,"creation_date":1698620067,"post_id":77326483,"comment_id":136425185,"body_markdown":"Thank you for answering and sorry for not responding earlier but my code was on another computer and got deleted.I will probably try to write a simple raytracer again in the near future.","body":"Thank you for answering and sorry for not responding earlier but my code was on another computer and got deleted.I will probably try to write a simple raytracer again in the near future."}],"tags":[],"owner":{"account_id":29114412,"reputation":19,"user_id":22303452,"display_name":"Aisu"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697742643,"creation_date":1697742643,"answer_id":77326483,"question_id":77323769,"body_markdown":"Your code appears to be an attempt at implementing a simple ray tracer, but there are some issues that need to be addressed for it to work correctly. I&#39;ll help you identify and fix these issues:\r\n\r\n1. Ray Class: In the Ray class, you have a method at(double t, Vector d2) that attempts to compute a new vector at a given t value. However, it appears that you are trying to mutate the Direction field of the Ray class, which is incorrect. Instead, you should create a new Ray instance with the updated origin and direction. Here&#39;s a corrected at method:\r\n\r\n    Ray at(double t, Vector d2) {\r\n        Vector newDirection = Vector.GetDirection(d2);\r\n        Vector newOrigin = Vector.AddVector(origin, Vector.MultiplyScalar(newDirection, t));\r\n        return new Ray(newOrigin, newDirection);\r\n    }\r\n\r\n2. Intersect Method: The intersects method seems to be a static method in your code, but it should be defined within the Sphere class, as it operates on Sphere objects. Move the intersects method into the Sphere class.\r\n\r\n    if (discriminant &lt; 0.0) {\r\n        return false;\r\n    } else if (discriminant == 0.0) {\r\n        t0 = t1 = -0.5 * b / a;\r\n    } else {\r\n        if (b &gt; 0) {\r\n            q = -0.5 * (b + Math.sqrt(discriminant));\r\n        } else {\r\n            q = -0.5 * (b - Math.sqrt(discriminant));\r\n        }\r\n        t0 = q / a;\r\n        t1 = c / q;\r\n    }\r\n    \r\n    if (t0 &lt; 0 &amp;&amp; t1 &lt; 0) {\r\n        return false;\r\n    }\r\n    \r\n    return true;\r\n\r\n4. Looping Issue: In your main method, the variable number is used as an incrementing factor, but it is not required. You should increment number within the loop, not beforehand.\r\n\r\n5. PPM File Generation: You mentioned that the PPM code is working, but it&#39;s not included in the provided code. Ensure that the code to write the PPM file is functioning correctly, and make sure you save the file with the correct extension (.ppm).\r\n\r\nWith these corrections and after making sure the rest of your code (including the Vector and Sphere classes) is implemented correctly, your ray tracer should be able to render a circle to a PPM file. Additionally, you may want to consider using a proper development environment or IDE, as it can assist you in debugging and writing cleaner code.\r\n\r\n","title":"A simple java raytracer doesn&#39;t work and i have no idea why","body":"<p>Your code appears to be an attempt at implementing a simple ray tracer, but there are some issues that need to be addressed for it to work correctly. I'll help you identify and fix these issues:</p>\n<ol>\n<li><p>Ray Class: In the Ray class, you have a method at(double t, Vector d2) that attempts to compute a new vector at a given t value. However, it appears that you are trying to mutate the Direction field of the Ray class, which is incorrect. Instead, you should create a new Ray instance with the updated origin and direction. Here's a corrected at method:</p>\n<p>Ray at(double t, Vector d2) {\nVector newDirection = Vector.GetDirection(d2);\nVector newOrigin = Vector.AddVector(origin, Vector.MultiplyScalar(newDirection, t));\nreturn new Ray(newOrigin, newDirection);\n}</p>\n</li>\n<li><p>Intersect Method: The intersects method seems to be a static method in your code, but it should be defined within the Sphere class, as it operates on Sphere objects. Move the intersects method into the Sphere class.</p>\n<p>if (discriminant &lt; 0.0) {\nreturn false;\n} else if (discriminant == 0.0) {\nt0 = t1 = -0.5 * b / a;\n} else {\nif (b &gt; 0) {\nq = -0.5 * (b + Math.sqrt(discriminant));\n} else {\nq = -0.5 * (b - Math.sqrt(discriminant));\n}\nt0 = q / a;\nt1 = c / q;\n}</p>\n<p>if (t0 &lt; 0 &amp;&amp; t1 &lt; 0) {\nreturn false;\n}</p>\n<p>return true;</p>\n</li>\n<li><p>Looping Issue: In your main method, the variable number is used as an incrementing factor, but it is not required. You should increment number within the loop, not beforehand.</p>\n</li>\n<li><p>PPM File Generation: You mentioned that the PPM code is working, but it's not included in the provided code. Ensure that the code to write the PPM file is functioning correctly, and make sure you save the file with the correct extension (.ppm).</p>\n</li>\n</ol>\n<p>With these corrections and after making sure the rest of your code (including the Vector and Sphere classes) is implemented correctly, your ray tracer should be able to render a circle to a PPM file. Additionally, you may want to consider using a proper development environment or IDE, as it can assist you in debugging and writing cleaner code.</p>\n"}],"owner":{"account_id":28243763,"reputation":1,"user_id":21591153,"display_name":"heapunderflow25"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1697742643,"creation_date":1697718561,"question_id":77323769,"body_markdown":"I&#39;m trying to write a simplest raytracer that will just output a circle to a PPM file yet i&#39;m getting nothing.Problem is not with the PPM code and is with the ray code.I&#39;m bad at math so i really don&#39;t know where the problem is and would appreciate if somebody could help me as i really have no idea what i&#39;m doing wrong.\r\n\r\n\r\nHere is the code:\r\n```\r\npublic class Main {\r\n    static  int WITDH = 200;\r\n    static  int HEIGHT = 200;\r\n\r\n    public static void main(String[] args) {\r\n        Sphere Ball = new Sphere(0, 0, -1 ,1);\r\n        Vector Camera = new Vector(0, 0, -1);\r\n\r\n\r\n        int [][] Pic = new int[200][200];\r\n\r\n\r\n\r\n        int number=0;\r\n\r\n        for (int y = 0;y&lt;HEIGHT;y++) {\r\n            for (int x = 0; x &lt; WITDH; x++) {\r\n            number++;\r\n\r\n\r\n\r\n                Ray test = new Ray(Camera);\r\n                double first=0.5*(WITDH-x)/(double)WITDH;\r\n                double second=0.5*(HEIGHT-y)/(double)HEIGHT;\r\n                Vector direc=new Vector(first,second,-1.0);\r\n                test.at(number,direc);\r\n\r\n                if (Sphere.intersects(test, Ball) == true) {\r\n                Pic[y][x]=0;\r\n\r\n                } else if(Sphere.intersects(test,Ball) == false) {\r\n                    Pic[y][x]=1;\r\n\r\n                }\r\n\r\n            }\r\n\r\n        }\r\n\r\n}\r\n}\r\n```\r\n\r\n```\r\nstatic Boolean intersects(Ray ray, Sphere Shape) {\r\n\r\n\r\n        Vector Origin = ray.origin;\r\n        Vector center = Shape.Pozicija;\r\n        double discrimant;\r\n\r\n\r\n\r\n        Vector L = Vector.SubtractVector(Origin, center);\r\n        double a = Vector.ReturnDotProduct(ray.Direction, ray.Direction);\r\n        double b = 2.0 * Vector.ReturnDotProduct(L, ray.Direction);\r\n        double c = Vector.ReturnDotProduct(L, L) - (Shape.radius * Shape.radius);\r\n        double t0=0.0;\r\n        double t1=0.0;\r\n\r\n\r\n        discrimant = (b * b) - (4.0 * a * c);\r\n        double q;\r\n        if(discrimant&lt;0.0){\r\n            return false;\r\n        }else if(discrimant==0.0){\r\n            t0=t1=-0.5*b/a;\r\n        }else {\r\n            if(b&gt;0) {\r\n\r\n                q = -0.5*(b+Math.sqrt(discrimant));\r\n\r\n\r\n\r\n            }else{\r\n                q = -0.5*(b-Math.sqrt(discrimant));\r\n            }\r\n            t0=q/a;\r\n            t1=c/q;\r\n\r\n        }\r\n        if(t0&gt;t1){\r\n            double t3;\r\n            t3=t1;\r\n            t0=t1;\r\n            t1=t3;\r\n        }\r\n\r\n        if (t0 &lt; 0) {\r\n            t0 = t1;\r\n            if (t0 &lt; 0) {\r\n                return false;\r\n            }\r\n\r\n\r\n        }\r\n        System.out.println(t0+t1);\r\n        return true;\r\n    }\r\n```\r\n\r\n\r\n```\r\nVector at(double t,Vector d2){\r\n        Vector d1=new Vector(0,0,0);\r\n        if(t==0){\r\n            d1=Direction;\r\n        }else if(t&gt;0){\r\n            d1=Vector.GetDirection(d2);\r\n        }\r\n        return Vector.AddVector(origin,Vector.MultiplyScalar(d1,t));\r\n    }\r\n```\r\n","title":"A simple java raytracer doesn&#39;t work and i have no idea why","body":"<p>I'm trying to write a simplest raytracer that will just output a circle to a PPM file yet i'm getting nothing.Problem is not with the PPM code and is with the ray code.I'm bad at math so i really don't know where the problem is and would appreciate if somebody could help me as i really have no idea what i'm doing wrong.</p>\n<p>Here is the code:</p>\n<pre><code>public class Main {\n    static  int WITDH = 200;\n    static  int HEIGHT = 200;\n\n    public static void main(String[] args) {\n        Sphere Ball = new Sphere(0, 0, -1 ,1);\n        Vector Camera = new Vector(0, 0, -1);\n\n\n        int [][] Pic = new int[200][200];\n\n\n\n        int number=0;\n\n        for (int y = 0;y&lt;HEIGHT;y++) {\n            for (int x = 0; x &lt; WITDH; x++) {\n            number++;\n\n\n\n                Ray test = new Ray(Camera);\n                double first=0.5*(WITDH-x)/(double)WITDH;\n                double second=0.5*(HEIGHT-y)/(double)HEIGHT;\n                Vector direc=new Vector(first,second,-1.0);\n                test.at(number,direc);\n\n                if (Sphere.intersects(test, Ball) == true) {\n                Pic[y][x]=0;\n\n                } else if(Sphere.intersects(test,Ball) == false) {\n                    Pic[y][x]=1;\n\n                }\n\n            }\n\n        }\n\n}\n}\n</code></pre>\n<pre><code>static Boolean intersects(Ray ray, Sphere Shape) {\n\n\n        Vector Origin = ray.origin;\n        Vector center = Shape.Pozicija;\n        double discrimant;\n\n\n\n        Vector L = Vector.SubtractVector(Origin, center);\n        double a = Vector.ReturnDotProduct(ray.Direction, ray.Direction);\n        double b = 2.0 * Vector.ReturnDotProduct(L, ray.Direction);\n        double c = Vector.ReturnDotProduct(L, L) - (Shape.radius * Shape.radius);\n        double t0=0.0;\n        double t1=0.0;\n\n\n        discrimant = (b * b) - (4.0 * a * c);\n        double q;\n        if(discrimant&lt;0.0){\n            return false;\n        }else if(discrimant==0.0){\n            t0=t1=-0.5*b/a;\n        }else {\n            if(b&gt;0) {\n\n                q = -0.5*(b+Math.sqrt(discrimant));\n\n\n\n            }else{\n                q = -0.5*(b-Math.sqrt(discrimant));\n            }\n            t0=q/a;\n            t1=c/q;\n\n        }\n        if(t0&gt;t1){\n            double t3;\n            t3=t1;\n            t0=t1;\n            t1=t3;\n        }\n\n        if (t0 &lt; 0) {\n            t0 = t1;\n            if (t0 &lt; 0) {\n                return false;\n            }\n\n\n        }\n        System.out.println(t0+t1);\n        return true;\n    }\n</code></pre>\n<pre><code>Vector at(double t,Vector d2){\n        Vector d1=new Vector(0,0,0);\n        if(t==0){\n            d1=Direction;\n        }else if(t&gt;0){\n            d1=Vector.GetDirection(d2);\n        }\n        return Vector.AddVector(origin,Vector.MultiplyScalar(d1,t));\n    }\n</code></pre>\n"},{"tags":["java","spring-boot","apache-kafka","audit-logging"],"comments":[{"owner":{"account_id":9494766,"reputation":147,"user_id":7058262,"display_name":"prasannajoshi"},"score":1,"creation_date":1697725698,"post_id":77323854,"comment_id":136318312,"body_markdown":"the db choice totally depends on for how long you need to store these logs and size of audit log record. if its very simple structure then you can go with sql , if its complex json like structure go with no-sql obviously but choice of DB is again depends on cost that you want to spend and how important these audit logs are.\n\nyou can also dump these audit logs to some file system , compress it at end of day and upload it to some cold storage like S3 or Azur Blob","body":"the db choice totally depends on for how long you need to store these logs and size of audit log record. if its very simple structure then you can go with sql , if its complex json like structure go with no-sql obviously but choice of DB is again depends on cost that you want to spend and how important these audit logs are.  you can also dump these audit logs to some file system , compress it at end of day and upload it to some cold storage like S3 or Azur Blob"},{"owner":{"account_id":2735704,"reputation":65,"user_id":2358438,"display_name":"MrLinjak"},"score":0,"creation_date":1697727056,"post_id":77323854,"comment_id":136318599,"body_markdown":"@prasannajoshi\n\nThe thing is that I&#39;m looking for a way to sidestep the need for a database entirely. S3 and Azur Blob sound nice, I would however prefer an offline solution that is stored locally.","body":"@prasannajoshi  The thing is that I&#39;m looking for a way to sidestep the need for a database entirely. S3 and Azur Blob sound nice, I would however prefer an offline solution that is stored locally."},{"owner":{"account_id":9494766,"reputation":147,"user_id":7058262,"display_name":"prasannajoshi"},"score":2,"creation_date":1697727892,"post_id":77323854,"comment_id":136318789,"body_markdown":"so you can just compress them and store it in some local storage as well but question is who is going to review/use these audit logs and whether they will need any interface/UI or some tool to view it ? based on these questions your storage requirement will changes and also it depends where your server is sitting ?  on cloud or some on-prim/dedicated cluster and if it can connect to any local storage seamlessly ...","body":"so you can just compress them and store it in some local storage as well but question is who is going to review/use these audit logs and whether they will need any interface/UI or some tool to view it ? based on these questions your storage requirement will changes and also it depends where your server is sitting ?  on cloud or some on-prim/dedicated cluster and if it can connect to any local storage seamlessly ..."},{"owner":{"account_id":2735704,"reputation":65,"user_id":2358438,"display_name":"MrLinjak"},"score":0,"creation_date":1697747572,"post_id":77323854,"comment_id":136322253,"body_markdown":"@prasannajoshi The service will be running on our machines, this is what I mean by &quot;local&quot;. So ideally it is some small DB-like system that doesn&#39;t offer the full functionality of SQL and no-SQL databases but is good enough for storing simple audit logs, and doesn&#39;t come with overhead and maintenance costs of traditional databases. \n\nDue to relative simplicity of this data I would assume that querying it and getting data back in say json format would be readable enough. I also assume that it is possible to export it to txt/xls.","body":"@prasannajoshi The service will be running on our machines, this is what I mean by &quot;local&quot;. So ideally it is some small DB-like system that doesn&#39;t offer the full functionality of SQL and no-SQL databases but is good enough for storing simple audit logs, and doesn&#39;t come with overhead and maintenance costs of traditional databases.   Due to relative simplicity of this data I would assume that querying it and getting data back in say json format would be readable enough. I also assume that it is possible to export it to txt/xls."},{"owner":{"account_id":9494766,"reputation":147,"user_id":7058262,"display_name":"prasannajoshi"},"score":0,"creation_date":1697795901,"post_id":77323854,"comment_id":136327589,"body_markdown":"not sure if its local then are you even care much , just dump to any file format and use editor or ms office","body":"not sure if its local then are you even care much , just dump to any file format and use editor or ms office"}],"answers":[{"comments":[{"owner":{"account_id":2735704,"reputation":65,"user_id":2358438,"display_name":"MrLinjak"},"score":0,"creation_date":1697726800,"post_id":77323962,"comment_id":136318546,"body_markdown":"Maybe I wasn&#39;t clear, audit logs must be persisted, data that is required for the application to run has a lifetime measured in seconds. I did point out that Kafka isn&#39;t a perfect solution for storing audit logs in a persistent way. \n\nIt is highly unlikely that any additional functionality will be added on top.","body":"Maybe I wasn&#39;t clear, audit logs must be persisted, data that is required for the application to run has a lifetime measured in seconds. I did point out that Kafka isn&#39;t a perfect solution for storing audit logs in a persistent way.   It is highly unlikely that any additional functionality will be added on top."},{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":1,"creation_date":1697742357,"post_id":77323962,"comment_id":136321534,"body_markdown":"@MrLinjak You can write Kafka logs to S3/Azure/HDFS. Kafka was originally created with this exact use case (for Hadoop, specifically)","body":"@MrLinjak You can write Kafka logs to S3/Azure/HDFS. Kafka was originally created with this exact use case (for Hadoop, specifically)"}],"tags":[],"owner":{"account_id":1580843,"reputation":13479,"user_id":1466267,"accept_rate":91,"display_name":"SpaceTrucker"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1697720211,"creation_date":1697720211,"answer_id":77323962,"question_id":77323854,"body_markdown":"According to it&#39;s [home page][1] kafka is for\r\n\r\n&gt; data pipelines, streaming analytics, data integration, and mission-critical applications\r\n\r\nBut you stated that an important functionality of your application is persistent storage of structured data. So it&#39;s highly doubtable whether kafka is a good long term fit for this purpose if that purpose isn&#39;t advocated by kafka itself.\r\n\r\nAlso keep in mind that there is probably more to your application than just the use cases. Maybe at some point reporting functionality is required. Than you are probably way better of leveraging a reporting product that probably a lot of people already know or have worked with than reinventing all of that on top of kafka (even though streaming analytics is a use case for kafka, but it probably is way lesser known than for example an sql reporting tool).\r\n\r\n\r\n  [1]: https://kafka.apache.org","title":"Alternative to DBs for storing audit logs?","body":"<p>According to it's <a href=\"https://kafka.apache.org\" rel=\"nofollow noreferrer\">home page</a> kafka is for</p>\n<blockquote>\n<p>data pipelines, streaming analytics, data integration, and mission-critical applications</p>\n</blockquote>\n<p>But you stated that an important functionality of your application is persistent storage of structured data. So it's highly doubtable whether kafka is a good long term fit for this purpose if that purpose isn't advocated by kafka itself.</p>\n<p>Also keep in mind that there is probably more to your application than just the use cases. Maybe at some point reporting functionality is required. Than you are probably way better of leveraging a reporting product that probably a lot of people already know or have worked with than reinventing all of that on top of kafka (even though streaming analytics is a use case for kafka, but it probably is way lesser known than for example an sql reporting tool).</p>\n"},{"comments":[{"owner":{"account_id":2735704,"reputation":65,"user_id":2358438,"display_name":"MrLinjak"},"score":0,"creation_date":1697747900,"post_id":77326468,"comment_id":136322294,"body_markdown":"Using both is also an option.\n\nElasticsearch sounds like it might be the perfect solution here actually, funny that I didn&#39;t think of it before. Thanks!","body":"Using both is also an option.  Elasticsearch sounds like it might be the perfect solution here actually, funny that I didn&#39;t think of it before. Thanks!"}],"tags":[],"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1697742495,"creation_date":1697742495,"answer_id":77326468,"question_id":77323854,"body_markdown":"&gt; original proposal was to create this system using an SQL database\r\n\r\nUse both? Kafka Connect can write to JDBC databases from Kafka topics. This way, you don&#39;t need to write JDBC Clients within your Java code, and non-Java clients can also send data to the same Kafka topic since the protocol is generic TCP, not specific to your database. \r\n\r\nIf that SQL database doesn&#39;t work, you can still consume the same Kafka topic to a different system (Elasticsearch works great for log analysis, as does HDFS or S3 for larger datasets). Since you mention &quot;offline&quot; systems, then MinIO is a self-hosted, S3 compatible option.","title":"Alternative to DBs for storing audit logs?","body":"<blockquote>\n<p>original proposal was to create this system using an SQL database</p>\n</blockquote>\n<p>Use both? Kafka Connect can write to JDBC databases from Kafka topics. This way, you don't need to write JDBC Clients within your Java code, and non-Java clients can also send data to the same Kafka topic since the protocol is generic TCP, not specific to your database.</p>\n<p>If that SQL database doesn't work, you can still consume the same Kafka topic to a different system (Elasticsearch works great for log analysis, as does HDFS or S3 for larger datasets). Since you mention &quot;offline&quot; systems, then MinIO is a self-hosted, S3 compatible option.</p>\n"}],"owner":{"account_id":2735704,"reputation":65,"user_id":2358438,"display_name":"MrLinjak"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":74,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":77326468,"answer_count":2,"score":-1,"last_activity_date":1697742495,"creation_date":1697719320,"question_id":77323854,"body_markdown":"I&#39;m currently developing a system that is used for generating verification codes. The system authenticates a user, sends them a code, stores it locally, then at some later point receives the code from the user, after which point the code is spent and deleted from the system\r\n\r\nThe original proposal was to create this system using an SQL database, however this use case just screams Kafka, and since these codes have a very short duration (they expire in 30 seconds, which means that they must be spent almost immediately) it only makes sense to have producers and consumers that create and consume events that hold these codes.\r\n\r\nHowever, the issue is that all events must be logged, i.e. upon code consumption/expiration something must be written in the audit log. Also, any attempt to use an invalid code must be logged as well. It seems like a waste to have a fully fledged database and then use it to have one AUDIT_LOG table in it.\r\n\r\nSince we&#39;re using Spring boot we&#39;d like to use some plug-and-play solution that can be easily interfaced with. I&#39;ve seen suggestions of using Kafka itself to store audit logs, but we need long term persistence and Kafka doesn&#39;t seem ideal for that. Using a no-SQL DBs was also suggested, and I&#39;ve seen some promising append-only solutions.\r\n\r\nDo you folks have anything to recommend here?","title":"Alternative to DBs for storing audit logs?","body":"<p>I'm currently developing a system that is used for generating verification codes. The system authenticates a user, sends them a code, stores it locally, then at some later point receives the code from the user, after which point the code is spent and deleted from the system</p>\n<p>The original proposal was to create this system using an SQL database, however this use case just screams Kafka, and since these codes have a very short duration (they expire in 30 seconds, which means that they must be spent almost immediately) it only makes sense to have producers and consumers that create and consume events that hold these codes.</p>\n<p>However, the issue is that all events must be logged, i.e. upon code consumption/expiration something must be written in the audit log. Also, any attempt to use an invalid code must be logged as well. It seems like a waste to have a fully fledged database and then use it to have one AUDIT_LOG table in it.</p>\n<p>Since we're using Spring boot we'd like to use some plug-and-play solution that can be easily interfaced with. I've seen suggestions of using Kafka itself to store audit logs, but we need long term persistence and Kafka doesn't seem ideal for that. Using a no-SQL DBs was also suggested, and I've seen some promising append-only solutions.</p>\n<p>Do you folks have anything to recommend here?</p>\n"},{"tags":["java","apache-kafka"],"answers":[{"tags":[],"owner":{"account_id":1964595,"reputation":25422,"user_id":1765189,"display_name":"Mickael Maison"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1560243362,"creation_date":1560243362,"answer_id":56539984,"question_id":56538390,"body_markdown":"This is currently not possible using the AdminClient. However there is a KIP in progress, [KIP-455][1], that will add that functionality soon.\r\n\r\nAt the moment, the recommended way to change the replication factor of a topic is to use the `kafka-reassign-partitions.sh` tool, see this [section][2] in the docs.\r\n\r\n\r\n  [1]: https://cwiki.apache.org/confluence/display/KAFKA/KIP-455%3A+Create+an+Administrative+API+for+Replica+Reassignment\r\n  [2]: http://kafka.apache.org/documentation/#basic_ops_increase_replication_factor","title":"Is it possible to change the replication factor of an existing kafka topic using java?","body":"<p>This is currently not possible using the AdminClient. However there is a KIP in progress, <a href=\"https://cwiki.apache.org/confluence/display/KAFKA/KIP-455%3A+Create+an+Administrative+API+for+Replica+Reassignment\" rel=\"nofollow noreferrer\">KIP-455</a>, that will add that functionality soon.</p>\n\n<p>At the moment, the recommended way to change the replication factor of a topic is to use the <code>kafka-reassign-partitions.sh</code> tool, see this <a href=\"http://kafka.apache.org/documentation/#basic_ops_increase_replication_factor\" rel=\"nofollow noreferrer\">section</a> in the docs.</p>\n"},{"tags":[],"owner":{"account_id":29561671,"reputation":1,"user_id":22656048,"display_name":"Oleksandr"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695975282,"creation_date":1695975282,"answer_id":77200369,"question_id":56538390,"body_markdown":"If you use Kafka API in java try this:\r\n\r\n*`admin.alterPartitionReassignments(reassignmentsMap);`*\r\n\r\nFor more information look at here: https://javadoc.io/static/org.apache.kafka/kafka-clients/3.5.1/org/apache/kafka/clients/admin/AdminClient.html","title":"Is it possible to change the replication factor of an existing kafka topic using java?","body":"<p>If you use Kafka API in java try this:</p>\n<p><em><code>admin.alterPartitionReassignments(reassignmentsMap);</code></em></p>\n<p>For more information look at here: <a href=\"https://javadoc.io/static/org.apache.kafka/kafka-clients/3.5.1/org/apache/kafka/clients/admin/AdminClient.html\" rel=\"nofollow noreferrer\">https://javadoc.io/static/org.apache.kafka/kafka-clients/3.5.1/org/apache/kafka/clients/admin/AdminClient.html</a></p>\n"}],"owner":{"account_id":16111398,"reputation":75,"user_id":11629531,"display_name":"Naman Kumar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6236,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":56539984,"answer_count":2,"score":4,"last_activity_date":1697742202,"creation_date":1560237287,"question_id":56538390,"body_markdown":"I am using AdminClient to alter other configurations of existing kafka topic. But I cannot find a method to change the replication factor of the topic. Is there any way that I can change the replication factor using java?","title":"Is it possible to change the replication factor of an existing kafka topic using java?","body":"<p>I am using AdminClient to alter other configurations of existing kafka topic. But I cannot find a method to change the replication factor of the topic. Is there any way that I can change the replication factor using java?</p>\n"},{"tags":["java","google-cloud-dataflow","apache-beam"],"comments":[{"owner":{"account_id":12799902,"reputation":5994,"user_id":9261558,"display_name":"Mazlum Tosun"},"score":0,"creation_date":1663851322,"post_id":73811292,"comment_id":130339841,"body_markdown":"I am not sure it&#39;s possible, because `Beam` and `Dataflow` distribute the computation in parallel ? The line numbers can&#39;t be added directly in the CSV lines ?","body":"I am not sure it&#39;s possible, because <code>Beam</code> and <code>Dataflow</code> distribute the computation in parallel ? The line numbers can&#39;t be added directly in the CSV lines ?"},{"owner":{"account_id":15286502,"reputation":9,"user_id":11029385,"display_name":"Naman Kumar"},"score":0,"creation_date":1663854921,"post_id":73811292,"comment_id":130341368,"body_markdown":"okay but can we maintain our own counter so that I can use it in the place of lineNumber","body":"okay but can we maintain our own counter so that I can use it in the place of lineNumber"}],"answers":[{"comments":[{"owner":{"account_id":15286502,"reputation":9,"user_id":11029385,"display_name":"Naman Kumar"},"score":0,"creation_date":1697819660,"post_id":77326422,"comment_id":136331986,"body_markdown":"actually my question is different, I wanted that how can I get the line number which is read by that worker, the solution you provided will give me the total count of the file.","body":"actually my question is different, I wanted that how can I get the line number which is read by that worker, the solution you provided will give me the total count of the file."},{"owner":{"account_id":8693535,"reputation":126,"user_id":6505742,"display_name":"roizaig"},"score":0,"creation_date":1698568814,"post_id":77326422,"comment_id":136420135,"body_markdown":"Do you mean what line-number each worker is working on ?","body":"Do you mean what line-number each worker is working on ?"},{"owner":{"account_id":15286502,"reputation":9,"user_id":11029385,"display_name":"Naman Kumar"},"score":0,"creation_date":1698688806,"post_id":77326422,"comment_id":136434490,"body_markdown":"yes exactly, how can I get the line number on which the worker is running.","body":"yes exactly, how can I get the line number on which the worker is running."}],"tags":[],"owner":{"account_id":8693535,"reputation":126,"user_id":6505742,"display_name":"roizaig"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697741950,"creation_date":1697741950,"answer_id":77326422,"question_id":73811292,"body_markdown":"Try this approach:\r\n\r\n 1. Using Beam transform TextIo.Read() to read the file.\r\n 2. Count using Count.globally(), producing a PCollection of type Long with single element - the count.\r\n 3. Use MapElement.via with a custom function to print the count to std out.\r\n\r\n    package com.roizaig.beam.example;\r\n    \r\n    import org.apache.beam.sdk.Pipeline;\r\n    \r\n    import org.apache.beam.sdk.io.TextIO;\r\n    \r\n    import org.apache.beam.sdk.options.PipelineOptions;\r\n    \r\n    import org.apache.beam.sdk.options.PipelineOptionsFactory;\r\n    \r\n    import org.apache.beam.sdk.transforms.*;\r\n    \r\n    import org.apache.beam.sdk.values.PCollection;\r\n    \r\n    public class ReadingFile {\r\n    \r\n        private static class PrintElementFn extends DoFn&lt;String, Void&gt; {\r\n    \r\n            @ProcessElement\r\n            public void processElement(@Element String input) {\r\n                System.out.println(input);\r\n            }\r\n    \r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            PipelineOptions options = PipelineOptionsFactory\r\n                    .fromArgs(args)\r\n                    .create();\r\n            Pipeline p = Pipeline.create(options);\r\n    \r\n            PCollection&lt;String&gt; lines = p\r\n                    .apply(\r\n                            &quot;ReadMyFile&quot;,\r\n                            TextIO.read().from(&quot;src/main/resources/king-lear_TXT_FolgerShakespeare.txt&quot;)\r\n                    );\r\n    \r\n    \r\n            PCollection&lt;Long&gt; counter = lines.apply(Count.&lt;String&gt;globally());\r\n            counter.apply(MapElements.via(new SimpleFunction&lt;Long, Long&gt;() {\r\n                @Override\r\n                public Long apply(Long input) {\r\n                    System.out.println(&quot;Count is: &quot; + input);\r\n                    return input;\r\n                }\r\n            }));\r\n    \r\n            p.run().waitUntilFinish();\r\n        }\r\n    }","title":"How to get line number of the file in apache beam dataflow?","body":"<p>Try this approach:</p>\n<ol>\n<li><p>Using Beam transform TextIo.Read() to read the file.</p>\n</li>\n<li><p>Count using Count.globally(), producing a PCollection of type Long with single element - the count.</p>\n</li>\n<li><p>Use MapElement.via with a custom function to print the count to std out.</p>\n<p>package com.roizaig.beam.example;</p>\n<p>import org.apache.beam.sdk.Pipeline;</p>\n<p>import org.apache.beam.sdk.io.TextIO;</p>\n<p>import org.apache.beam.sdk.options.PipelineOptions;</p>\n<p>import org.apache.beam.sdk.options.PipelineOptionsFactory;</p>\n<p>import org.apache.beam.sdk.transforms.*;</p>\n<p>import org.apache.beam.sdk.values.PCollection;</p>\n<p>public class ReadingFile {</p>\n<pre><code>private static class PrintElementFn extends DoFn&lt;String, Void&gt; {\n\n    @ProcessElement\n    public void processElement(@Element String input) {\n        System.out.println(input);\n    }\n\n}\n\npublic static void main(String[] args) {\n    PipelineOptions options = PipelineOptionsFactory\n            .fromArgs(args)\n            .create();\n    Pipeline p = Pipeline.create(options);\n\n    PCollection&lt;String&gt; lines = p\n            .apply(\n                    &quot;ReadMyFile&quot;,\n                    TextIO.read().from(&quot;src/main/resources/king-lear_TXT_FolgerShakespeare.txt&quot;)\n            );\n\n\n    PCollection&lt;Long&gt; counter = lines.apply(Count.&lt;String&gt;globally());\n    counter.apply(MapElements.via(new SimpleFunction&lt;Long, Long&gt;() {\n        @Override\n        public Long apply(Long input) {\n            System.out.println(&quot;Count is: &quot; + input);\n            return input;\n        }\n    }));\n\n    p.run().waitUntilFinish();\n}\n</code></pre>\n<p>}</p>\n</li>\n</ol>\n"}],"owner":{"account_id":15286502,"reputation":9,"user_id":11029385,"display_name":"Naman Kumar"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":137,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1697741950,"creation_date":1663834240,"question_id":73811292,"body_markdown":"I&#39;m reading a file using **TextIO.read()** how can I get the line number of the file Or how to maintain our own distributed counter so that I can access the last value and set into the pojo.\r\n\r\nEg: File looks like\r\n\r\n    TRANSACTION_ID|CLIENT_ID|PRODUCT_CODE \r\n    123|1001|2001\r\n    124|1002|2002\r\n\r\nAfter reading this content I have one transform which parse into Java pojo class and if you see the pojo one field is **lineNumber** and then same pojo I&#39;m inserting into database.\r\n\r\n```java\r\nclass BatchData {\r\n   private Integer transactionId;\r\n   private Integer clientId;\r\n   private Integer productCode;\r\n   private Integer lineNumber;\r\n}\r\n```\r\n\r\nDo we have any way to get the line number directly.\r\n\r\nWhat I tried but didn&#39;t work.\r\n\r\n1. First I tried to create my own custom counter using locking and while parsing the file into POJO then I&#39;m calling this **getAndInc()** method.\r\n\r\n```java\r\npublic class CustomizedCounter implements Serializable {\r\n    private static final long serialVersionUID = 368687587598L;\r\n\r\n    private static int counter = 0;\r\n    private final ReentrantLock lock = new ReentrantLock();\r\n    \r\n    public int getAndInc() {\r\n       lock.lock();\r\n       try {\r\n           counter++;\r\n       } finally {\r\n         lock.unlock();\r\n       }\r\n      return counter;\r\n    }\r\n \r\n}\r\n```\r\n\r\nThis didn&#39;t work with big file when there are multiple workers.\r\n\r\n2. Then I though to use the Metrics counter which is provided by the apache beam but we can only use it for maintaining the counter not the actual **lineNumber** of the file. But my requirement will be fine even if I successfully able to maintain the distributed counter. I took the ref. of below doc which provides 3 types of counter but I can&#39;t able to access the last value of the counter at the runtime.\r\n\r\n[https://beam.apache.org/documentation/programming-guide/#metrics][1]\r\n","title":"How to get line number of the file in apache beam dataflow?","body":"<p>I'm reading a file using <strong>TextIO.read()</strong> how can I get the line number of the file Or how to maintain our own distributed counter so that I can access the last value and set into the pojo.</p>\n<p>Eg: File looks like</p>\n<pre><code>TRANSACTION_ID|CLIENT_ID|PRODUCT_CODE \n123|1001|2001\n124|1002|2002\n</code></pre>\n<p>After reading this content I have one transform which parse into Java pojo class and if you see the pojo one field is <strong>lineNumber</strong> and then same pojo I'm inserting into database.</p>\n<pre class=\"lang-java prettyprint-override\"><code>class BatchData {\n   private Integer transactionId;\n   private Integer clientId;\n   private Integer productCode;\n   private Integer lineNumber;\n}\n</code></pre>\n<p>Do we have any way to get the line number directly.</p>\n<p>What I tried but didn't work.</p>\n<ol>\n<li>First I tried to create my own custom counter using locking and while parsing the file into POJO then I'm calling this <strong>getAndInc()</strong> method.</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>public class CustomizedCounter implements Serializable {\n    private static final long serialVersionUID = 368687587598L;\n\n    private static int counter = 0;\n    private final ReentrantLock lock = new ReentrantLock();\n    \n    public int getAndInc() {\n       lock.lock();\n       try {\n           counter++;\n       } finally {\n         lock.unlock();\n       }\n      return counter;\n    }\n \n}\n</code></pre>\n<p>This didn't work with big file when there are multiple workers.</p>\n<ol start=\"2\">\n<li>Then I though to use the Metrics counter which is provided by the apache beam but we can only use it for maintaining the counter not the actual <strong>lineNumber</strong> of the file. But my requirement will be fine even if I successfully able to maintain the distributed counter. I took the ref. of below doc which provides 3 types of counter but I can't able to access the last value of the counter at the runtime.</li>\n</ol>\n<p>[https://beam.apache.org/documentation/programming-guide/#metrics][1]</p>\n"},{"tags":["java","multithreading","try-catch","infinite-loop","throwable"],"comments":[{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":3,"creation_date":1697717470,"post_id":77323481,"comment_id":136316536,"body_markdown":"You should listen to sonar, generally you can&#39;t recover from `Error` and it&#39;s subclasses. How do you handle `OutOfMemoryError` in a meaningful way,  for example?","body":"You should listen to sonar, generally you can&#39;t recover from <code>Error</code> and it&#39;s subclasses. How do you handle <code>OutOfMemoryError</code> in a meaningful way,  for example?"},{"owner":{"account_id":3750738,"reputation":1,"user_id":3118286,"display_name":"Bora Ciner"},"score":0,"creation_date":1697791263,"post_id":77323481,"comment_id":136326727,"body_markdown":"I know what sonarcube says, Is there any way to do it in compliant way?","body":"I know what sonarcube says, Is there any way to do it in compliant way?"},{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":0,"creation_date":1698049243,"post_id":77323481,"comment_id":136351092,"body_markdown":"The compliant way is to not catch `Throwable`s. Or you can use `@SuppressWarnings(&quot;sonar code&quot;)` to suppress the check, if you are **very** confident in your handling.","body":"The compliant way is to not catch <code>Throwable</code>s. Or you can use <code>@SuppressWarnings(&quot;sonar code&quot;)</code> to suppress the check, if you are <b>very</b> confident in your handling."}],"answers":[{"tags":[],"owner":{"account_id":29114412,"reputation":19,"user_id":22303452,"display_name":"Aisu"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1697740713,"creation_date":1697740713,"answer_id":77326314,"question_id":77323481,"body_markdown":"Here&#39;s an example of how to catch and rethrow exceptions to comply with the rule:\r\n\r\n    public class MyRunnable implements Runnable {\r\n        @Override\r\n        public void run() {\r\n            try {\r\n                // Your thread logic here\r\n            } catch (Exception e) {\r\n                // Handle specific exceptions if needed\r\n                // Rethrow as unchecked exception or wrap and rethrow\r\n                throw new RuntimeException(e);\r\n            }\r\n        }\r\n    }\r\n\r\n","title":"How to make a java Thread unstoppable without catching Throwable","body":"<p>Here's an example of how to catch and rethrow exceptions to comply with the rule:</p>\n<pre><code>public class MyRunnable implements Runnable {\n    @Override\n    public void run() {\n        try {\n            // Your thread logic here\n        } catch (Exception e) {\n            // Handle specific exceptions if needed\n            // Rethrow as unchecked exception or wrap and rethrow\n            throw new RuntimeException(e);\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":3750738,"reputation":1,"user_id":3118286,"display_name":"Bora Ciner"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":86,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1697740713,"creation_date":1697715895,"question_id":77323481,"body_markdown":"I want to make a thread unstoppable for some reason, what is the sonarcube compliant solution?\r\nI have to catch Throwable but.\r\n\r\nIt says:\r\nCatch Exception instead of Throwable.\r\nThrowable and Error should not be caught\r\n\r\nI cannot only catch Exceptions","title":"How to make a java Thread unstoppable without catching Throwable","body":"<p>I want to make a thread unstoppable for some reason, what is the sonarcube compliant solution?\nI have to catch Throwable but.</p>\n<p>It says:\nCatch Exception instead of Throwable.\nThrowable and Error should not be caught</p>\n<p>I cannot only catch Exceptions</p>\n"},{"tags":["java","serialization","serialversionuid"],"comments":[{"owner":{"account_id":52822,"reputation":1089035,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"score":6,"creation_date":1307502098,"post_id":146715,"comment_id":7322146,"body_markdown":"You&#39;re wrong that servlets are never serialized. The servletcontainer is allowed to do it, for various reasons. Think of heavy clusters.","body":"You&#39;re wrong that servlets are never serialized. The servletcontainer is allowed to do it, for various reasons. Think of heavy clusters."},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1372734692,"post_id":146715,"comment_id":25294179,"body_markdown":"Your *IDE* warns you that the class should have a `serialVersionUID`.","body":"Your <i>IDE</i> warns you that the class should have a <code>serialVersionUID</code>."},{"owner":{"account_id":42331,"reputation":909,"user_id":123288,"accept_rate":81,"display_name":"Jo&#243; &#193;d&#225;m"},"score":2,"creation_date":1409965571,"post_id":146715,"comment_id":40163475,"body_markdown":"@EJP no, the compiler warns you.","body":"@EJP no, the compiler warns you."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1505430548,"post_id":146715,"comment_id":79422758,"body_markdown":"As BalusC commented, some Servlet containers default to serializing your servlet sessions. For example, Tomcat does so when shutting down.","body":"As BalusC commented, some Servlet containers default to serializing your servlet sessions. For example, Tomcat does so when shutting down."}],"answers":[{"comments":[{"owner":{"account_id":11089,"reputation":400050,"user_id":21234,"accept_rate":91,"display_name":"skaffman"},"score":3,"creation_date":1222635239,"post_id":146719,"comment_id":41529,"body_markdown":"I disagree. The ID in this case is useless clutter. This warning should, in my opinion, be suppressed.","body":"I disagree. The ID in this case is useless clutter. This warning should, in my opinion, be suppressed."},{"owner":{"account_id":246,"reputation":107903,"user_id":304,"accept_rate":40,"display_name":"McDowell"},"score":11,"creation_date":1222683812,"post_id":146719,"comment_id":42486,"body_markdown":"Warnings are a prompt asking you to make an informed decision, not instructions that are to be blindly followed.","body":"Warnings are a prompt asking you to make an informed decision, not instructions that are to be blindly followed."},{"owner":{"account_id":8457,"reputation":1163,"user_id":15259,"accept_rate":75,"display_name":"xmjx"},"score":1,"creation_date":1343996829,"post_id":146719,"comment_id":15671650,"body_markdown":"@McDowell The Serialization JavaDoc says it&#39;s strongly recommended. I mean, sure, you can just say the Sun/Oracle guys are nuts and you have a better idea of what&#39;s going on in Java than them. But the comment on the original question (&quot;servlets might be serialized&quot;) indicates that sometimes (only sometimes) developers assume to know what happens but actually don&#39;t. See &quot;select() isn&#39;t broken&quot;.","body":"@McDowell The Serialization JavaDoc says it&#39;s strongly recommended. I mean, sure, you can just say the Sun/Oracle guys are nuts and you have a better idea of what&#39;s going on in Java than them. But the comment on the original question (&quot;servlets might be serialized&quot;) indicates that sometimes (only sometimes) developers assume to know what happens but actually don&#39;t. See &quot;select() isn&#39;t broken&quot;."},{"owner":{"account_id":188605,"reputation":5059,"user_id":427413,"accept_rate":71,"display_name":"marcus"},"score":1,"creation_date":1358359983,"post_id":146719,"comment_id":19974488,"body_markdown":"I&#39;m not sure it will save me from trouble. If I change the class and never change the generated ID, I am explicitly telling the compiler/JVM that old classes are still compatible. If I just let the runtime calculate and ID, it at least has some chance to detect incompatibilities that a human couldn&#39;t see.","body":"I&#39;m not sure it will save me from trouble. If I change the class and never change the generated ID, I am explicitly telling the compiler/JVM that old classes are still compatible. If I just let the runtime calculate and ID, it at least has some chance to detect incompatibilities that a human couldn&#39;t see."},{"owner":{"account_id":107907,"reputation":40512,"user_id":286685,"accept_rate":56,"display_name":"Stijn de Witt"},"score":0,"creation_date":1489668892,"post_id":146719,"comment_id":72778604,"body_markdown":"@marcus: You are absolutely right. If you set an ID (whether just `1L` or some generated one) **hardcoded** in the class, you are basically taking the burden of updating that ID each time there are compatibility changes if you want things to work as they should. They are basically like a library version, but on the class level. Specifying an ID and then never changing it is much more harmful then just not specifying it. (let alone throwing an exception in `writeObject` which will turn out to be a maintenance nightmare I am predicting).","body":"@marcus: You are absolutely right. If you set an ID (whether just <code>1L</code> or some generated one) <b>hardcoded</b> in the class, you are basically taking the burden of updating that ID each time there are compatibility changes if you want things to work as they should. They are basically like a library version, but on the class level. Specifying an ID and then never changing it is much more harmful then just not specifying it. (let alone throwing an exception in <code>writeObject</code> which will turn out to be a maintenance nightmare I am predicting)."}],"tags":[],"owner":{"account_id":8457,"reputation":1163,"user_id":15259,"accept_rate":75,"display_name":"xmjx"},"comment_count":5,"down_vote_count":6,"up_vote_count":8,"is_accepted":false,"score":2,"last_activity_date":1222635172,"creation_date":1222635172,"answer_id":146719,"question_id":146715,"body_markdown":"Let Eclipse generate an ID. Quick and easy. Warnings are not to be ignored. Also saves you lots of trouble should you ever come to the point where the object /has/ to be serialized.\r\n","title":"Use the serialVersionUID or suppress warnings?","body":"<p>Let Eclipse generate an ID. Quick and easy. Warnings are not to be ignored. Also saves you lots of trouble should you ever come to the point where the object /has/ to be serialized.</p>\n"},{"comments":[{"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"score":0,"creation_date":1684181520,"post_id":146723,"comment_id":134477107,"body_markdown":"How would that SuppressWarning look like in practise?","body":"How would that SuppressWarning look like in practise?"}],"tags":[],"owner":{"account_id":2553,"reputation":15453,"user_id":3565,"accept_rate":70,"display_name":"Benno Richters"},"comment_count":1,"down_vote_count":2,"up_vote_count":23,"is_accepted":false,"score":21,"last_activity_date":1222635492,"creation_date":1222635492,"answer_id":146723,"question_id":146715,"body_markdown":"If you do not plan to serialize instances, add a SuppressWarning.\r\n\r\nA generated serial ID can be a bit dangerous. It suggests that you intentionally gave it a serial number and that it is save to serialize and deserialize. It&#39;s easy to forget to update the serial number in a newer version of your application where your class is changed. Deserialization will fail if the class fields have been changed. Having a SuppressWarning at least tells the reader of your code that you did not intend to serialize this class.","title":"Use the serialVersionUID or suppress warnings?","body":"<p>If you do not plan to serialize instances, add a SuppressWarning.</p>\n\n<p>A generated serial ID can be a bit dangerous. It suggests that you intentionally gave it a serial number and that it is save to serialize and deserialize. It's easy to forget to update the serial number in a newer version of your application where your class is changed. Deserialization will fail if the class fields have been changed. Having a SuppressWarning at least tells the reader of your code that you did not intend to serialize this class.</p>\n"},{"comments":[{"owner":{"account_id":6733,"reputation":877,"user_id":11450,"accept_rate":60,"display_name":"Okami"},"score":1,"creation_date":1222638768,"post_id":146748,"comment_id":41590,"body_markdown":"I think it&#39;s a lot of overhead but in a professional environment this seems quite  necessary.","body":"I think it&#39;s a lot of overhead but in a professional environment this seems quite  necessary."},{"owner":{"account_id":327,"reputation":5871,"user_id":410,"display_name":"cynicalman"},"score":0,"creation_date":1222644793,"post_id":146748,"comment_id":41672,"body_markdown":"Just want to second the motions that you make sure you prohibit serialization (ie with an exception) if you aren&#39;t going to support it.","body":"Just want to second the motions that you make sure you prohibit serialization (ie with an exception) if you aren&#39;t going to support it."},{"owner":{"account_id":49859,"reputation":4437,"user_id":148607,"accept_rate":96,"display_name":"Justin"},"score":2,"creation_date":1273808284,"post_id":146748,"comment_id":2873062,"body_markdown":"I would not go through the trouble of preventing serialization from ever happening.  Just don&#39;t declare a SVUID, which means that each compile a unique one will be generated; making serialization unreliable but not breaking applications which depend on it, inadvertently.","body":"I would not go through the trouble of preventing serialization from ever happening.  Just don&#39;t declare a SVUID, which means that each compile a unique one will be generated; making serialization unreliable but not breaking applications which depend on it, inadvertently."},{"owner":{"account_id":176669,"reputation":7451,"user_id":407502,"accept_rate":70,"display_name":"orbfish"},"score":0,"creation_date":1318870839,"post_id":146748,"comment_id":9498023,"body_markdown":"AFAIK default UID is generated from the object graph, not by compile.  Someone else says the same thing below and I&#39;m sure it says that in Effective Java.","body":"AFAIK default UID is generated from the object graph, not by compile.  Someone else says the same thing below and I&#39;m sure it says that in Effective Java."},{"owner":{"account_id":960053,"reputation":838,"user_id":984618,"accept_rate":82,"display_name":"Stefan"},"score":3,"creation_date":1351801043,"post_id":146748,"comment_id":17945614,"body_markdown":"@Justin Unreliable is not a word i would want mentioned in the same sentence as my app.","body":"@Justin Unreliable is not a word i would want mentioned in the same sentence as my app."}],"tags":[],"owner":{"account_id":7470,"reputation":274976,"user_id":13005,"accept_rate":75,"display_name":"Steve Jessop"},"comment_count":5,"down_vote_count":1,"up_vote_count":31,"is_accepted":false,"score":30,"last_activity_date":1222636332,"creation_date":1222636332,"answer_id":146748,"question_id":146715,"body_markdown":"I don&#39;t know Java best practices, but it occurs to me that if you are claiming that serialization will never happen, you could add a writeObject method which throws. Then suppress the warning, safe in the knowledge that it cannot possibly apply to you.\r\n\r\nOtherwise someone might in future serialize your object through the parent class, and end up with a default serialized form where:\r\n\r\n* the form isn&#39;t compatible between different versions of your code.\r\n* you&#39;ve suppressed the warning that this is the case.\r\n\r\nAdding an ID sounds like a bodge, since what you really want to do is not serialize. Expecting callers not to serialize your object means that you expect them to &quot;know&quot; when their HttpServlet is of your class. That breach of polymorphism is on your head for having a Serializable object which must not be serialized, and the least you can do is make sure unwary callers know about it.\r\n","title":"Use the serialVersionUID or suppress warnings?","body":"<p>I don't know Java best practices, but it occurs to me that if you are claiming that serialization will never happen, you could add a writeObject method which throws. Then suppress the warning, safe in the knowledge that it cannot possibly apply to you.</p>\n\n<p>Otherwise someone might in future serialize your object through the parent class, and end up with a default serialized form where:</p>\n\n<ul>\n<li>the form isn't compatible between different versions of your code.</li>\n<li>you've suppressed the warning that this is the case.</li>\n</ul>\n\n<p>Adding an ID sounds like a bodge, since what you really want to do is not serialize. Expecting callers not to serialize your object means that you expect them to \"know\" when their HttpServlet is of your class. That breach of polymorphism is on your head for having a Serializable object which must not be serialized, and the least you can do is make sure unwary callers know about it.</p>\n"},{"comments":[{"owner":{"account_id":49859,"reputation":4437,"user_id":148607,"accept_rate":96,"display_name":"Justin"},"score":1,"creation_date":1273807967,"post_id":146786,"comment_id":2873040,"body_markdown":"true that, whats worse, you cannot add suppress warning to a package!","body":"true that, whats worse, you cannot add suppress warning to a package!"}],"tags":[],"owner":{"account_id":2397,"reputation":179879,"user_id":3333,"accept_rate":80,"display_name":"Paul Tomblin"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1222637346,"creation_date":1222637346,"answer_id":146786,"question_id":146715,"body_markdown":"That warning drives me crazy, because every time you subclass a Swing class, you *know* you&#39;re never going to serialize it, but there is that stupid warning.  But yeah, I let Eclipse generate one.","title":"Use the serialVersionUID or suppress warnings?","body":"<p>That warning drives me crazy, because every time you subclass a Swing class, you <em>know</em> you're never going to serialize it, but there is that stupid warning.  But yeah, I let Eclipse generate one.</p>\n"},{"comments":[{"owner":{"account_id":108205,"reputation":27809,"user_id":287316,"accept_rate":87,"display_name":"The Student"},"score":4,"creation_date":1267917662,"post_id":146793,"comment_id":2373502,"body_markdown":"I think that add @suppressWarning and throw exception when you do not support serialization is the best approach in a professional evironment. Your IDE to remembers you of serialization may be important in much cases.","body":"I think that add @suppressWarning and throw exception when you do not support serialization is the best approach in a professional evironment. Your IDE to remembers you of serialization may be important in much cases."},{"owner":{"account_id":347881,"reputation":2499,"user_id":682263,"accept_rate":78,"display_name":"dominicbri7"},"score":1,"creation_date":1309444130,"post_id":146793,"comment_id":7697701,"body_markdown":"I agree with Tom, most of the time it is annoying and unnecessary, but it SOMETIMES is useful and important. If you still use that approach for your project, I suggest you configure your Project to do so and not Eclipse itself (which will apply it to each and every project).\nUsing @suppressWarning will get rid of the annoying occurences, but the &quot;necessary&quot; ones will not be muted.","body":"I agree with Tom, most of the time it is annoying and unnecessary, but it SOMETIMES is useful and important. If you still use that approach for your project, I suggest you configure your Project to do so and not Eclipse itself (which will apply it to each and every project). Using @suppressWarning will get rid of the annoying occurences, but the &quot;necessary&quot; ones will not be muted."}],"tags":[],"owner":{"account_id":6055,"reputation":14786,"user_id":10026,"accept_rate":68,"display_name":"ykaganovich"},"comment_count":2,"down_vote_count":3,"up_vote_count":18,"is_accepted":false,"score":15,"last_activity_date":1222637723,"creation_date":1222637723,"answer_id":146793,"question_id":146715,"body_markdown":"I refuse to be terrorized by Eclipse into adding clutter to my code!\r\n\r\nI just configure Eclipse to not generate warnings on missing serialVersionUID.","title":"Use the serialVersionUID or suppress warnings?","body":"<p>I refuse to be terrorized by Eclipse into adding clutter to my code!</p>\n\n<p>I just configure Eclipse to not generate warnings on missing serialVersionUID.</p>\n"},{"comments":[{"owner":{"account_id":7257,"reputation":30102,"user_id":12541,"display_name":"Scott Stanchfield"},"score":2,"creation_date":1222717606,"post_id":146838,"comment_id":43851,"body_markdown":"if you want to serialize something, you should always provide an explicit version value (1, 2, 3, ...). This allows you to tell Java serialization when compatibility is broken. For example, if all you&#39;re doing is adding fields, it can still read old .ser files with the same version.","body":"if you want to serialize something, you should always provide an explicit version value (1, 2, 3, ...). This allows you to tell Java serialization when compatibility is broken. For example, if all you&#39;re doing is adding fields, it can still read old .ser files with the same version."},{"owner":{"account_id":32681,"reputation":138933,"user_id":90848,"accept_rate":90,"display_name":"Laurence Gonsalves"},"score":3,"creation_date":1297962795,"post_id":146838,"comment_id":5629129,"body_markdown":"@Scott you don&#39;t always need to provide an explicit version value even when you are serializing. It depends on the serialization scope and the consequences of failing to deserialize. If you will only ever deserialize objects that were serialized by the same version of the code (like saving instance state on Android) then  the auto-generated ID is fine. Also, if your serialized objects are merely a cache that you can reconstruct if serialization fails then that&#39;s also ok. A manual ID adds a lot of development overhead as you need to properly need to deal with version skew in deserialization.","body":"@Scott you don&#39;t always need to provide an explicit version value even when you are serializing. It depends on the serialization scope and the consequences of failing to deserialize. If you will only ever deserialize objects that were serialized by the same version of the code (like saving instance state on Android) then  the auto-generated ID is fine. Also, if your serialized objects are merely a cache that you can reconstruct if serialization fails then that&#39;s also ok. A manual ID adds a lot of development overhead as you need to properly need to deal with version skew in deserialization."}],"tags":[],"owner":{"account_id":10611,"reputation":110117,"user_id":20128,"accept_rate":73,"display_name":"serg"},"comment_count":2,"down_vote_count":2,"up_vote_count":8,"is_accepted":false,"score":6,"last_activity_date":1222638946,"creation_date":1222638946,"answer_id":146838,"question_id":146715,"body_markdown":"Even if you know this object will be serialized there is no need to generate serialVersionUID because java will automatically generate it for you and will automatically keep track of changes so your serialization will always work just fine. You should generate it only if you know what you are doing (backward serialization compatibility, manual change tracking etc.)\r\n\r\nSo I would say suppressing the warning is the best and safest solution in most cases.","title":"Use the serialVersionUID or suppress warnings?","body":"<p>Even if you know this object will be serialized there is no need to generate serialVersionUID because java will automatically generate it for you and will automatically keep track of changes so your serialization will always work just fine. You should generate it only if you know what you are doing (backward serialization compatibility, manual change tracking etc.)</p>\n\n<p>So I would say suppressing the warning is the best and safest solution in most cases.</p>\n"},{"comments":[{"owner":{"account_id":2496,"reputation":266244,"user_id":3474,"accept_rate":83,"display_name":"erickson"},"score":8,"creation_date":1222709861,"post_id":148149,"comment_id":43466,"body_markdown":"A serial version UID member is not added to classes at compile-time. If it is missing, it is computed from the member signatures of the class at runtime. It only changes when the signatures change, not necessarily with every compilation.","body":"A serial version UID member is not added to classes at compile-time. If it is missing, it is computed from the member signatures of the class at runtime. It only changes when the signatures change, not necessarily with every compilation."},{"owner":{"account_id":68986,"reputation":21295,"user_id":200987,"accept_rate":69,"display_name":"oligofren"},"score":0,"creation_date":1615464786,"post_id":148149,"comment_id":117701609,"body_markdown":"That it throws when the version number changes is a good thing. That is precisely why you should not implement it when you have no intention of serializing things, as it will alert you that this is in fact being done, and you need to change your classes to support it.","body":"That it throws when the version number changes is a good thing. That is precisely why you should not implement it when you have no intention of serializing things, as it will alert you that this is in fact being done, and you need to change your classes to support it."}],"tags":[],"owner":{"account_id":8566,"reputation":105,"user_id":15504,"display_name":"Glever"},"comment_count":2,"down_vote_count":3,"up_vote_count":5,"is_accepted":false,"score":2,"last_activity_date":1222682381,"creation_date":1222682381,"answer_id":148149,"question_id":146715,"body_markdown":"If you leave out a serialVersionUID java will generate one for the class at compile time (it changes with every compilation).\r\n\r\nWhen deserializing objects the serialVersionUID of the deserialized object is compared to that of the class in the jvm. If they are different they are considered incompatible and an Exception is thrown. This can happen for instance after upgrading your program and deserializing old classes.\r\n\r\nI always use 1L for serialversionUID. It doesn&#39;t hurt (compared to the default generated) and it still leaves the option of breaking compatibility later by incrementing the id.","title":"Use the serialVersionUID or suppress warnings?","body":"<p>If you leave out a serialVersionUID java will generate one for the class at compile time (it changes with every compilation).</p>\n\n<p>When deserializing objects the serialVersionUID of the deserialized object is compared to that of the class in the jvm. If they are different they are considered incompatible and an Exception is thrown. This can happen for instance after upgrading your program and deserializing old classes.</p>\n\n<p>I always use 1L for serialversionUID. It doesn't hurt (compared to the default generated) and it still leaves the option of breaking compatibility later by incrementing the id.</p>\n"},{"comments":[{"owner":{"account_id":108205,"reputation":27809,"user_id":287316,"accept_rate":87,"display_name":"The Student"},"score":0,"creation_date":1267918011,"post_id":148776,"comment_id":2373530,"body_markdown":"I&#39;m not so sure about that.. If you add the SVUID it&#180;s good to see what are you letting serialize. It can cause security problems if a client can get a password field by serializing your whole program.","body":"I&#39;m not so sure about that.. If you add the SVUID it&#180;s good to see what are you letting serialize. It can cause security problems if a client can get a password field by serializing your whole program."},{"owner":{"account_id":11446,"reputation":1711,"user_id":22068,"display_name":"Rastislav Komara"},"score":0,"creation_date":1268228054,"post_id":148776,"comment_id":2398888,"body_markdown":"Generating SVUID in Serializable classes has nothing to do with serializable fields. Of course, you should pay attention to which fields are serialized.","body":"Generating SVUID in Serializable classes has nothing to do with serializable fields. Of course, you should pay attention to which fields are serialized."},{"owner":{"account_id":49859,"reputation":4437,"user_id":148607,"accept_rate":96,"display_name":"Justin"},"score":2,"creation_date":1273808211,"post_id":148776,"comment_id":2873054,"body_markdown":"If you generate a SVUID of 1 for example, then change the layout of your class that now means you must maintain SVUID (and update to 2).  Most people won&#39;t maintain this.  This is unnecessary if you don&#39;t intend the class to be serialized.","body":"If you generate a SVUID of 1 for example, then change the layout of your class that now means you must maintain SVUID (and update to 2).  Most people won&#39;t maintain this.  This is unnecessary if you don&#39;t intend the class to be serialized."},{"owner":{"account_id":11446,"reputation":1711,"user_id":22068,"display_name":"Rastislav Komara"},"score":1,"creation_date":1274272773,"post_id":148776,"comment_id":2910074,"body_markdown":"&quot;SVUID to every class implementing serializable&quot; If class is serializable there is always someone in the world who wants to serialize it. In general, my target was not to solve people&#39;s laziness.","body":"&quot;SVUID to every class implementing serializable&quot; If class is serializable there is always someone in the world who wants to serialize it. In general, my target was not to solve people&#39;s laziness."}],"tags":[],"owner":{"account_id":11446,"reputation":1711,"user_id":22068,"display_name":"Rastislav Komara"},"comment_count":4,"down_vote_count":2,"up_vote_count":6,"is_accepted":false,"score":4,"last_activity_date":1222696951,"creation_date":1222696951,"answer_id":148776,"question_id":146715,"body_markdown":"It is good to generate SVUID to **every** class implementing serializable. The reason is simple. You **never** know when it will be serialized by you or by some 3rd party. There can be configured a lot of services which will serialize servlets. For every IDE exists plugin which generates one or just use template and set svuid = 1L. ","title":"Use the serialVersionUID or suppress warnings?","body":"<p>It is good to generate SVUID to <strong>every</strong> class implementing serializable. The reason is simple. You <strong>never</strong> know when it will be serialized by you or by some 3rd party. There can be configured a lot of services which will serialize servlets. For every IDE exists plugin which generates one or just use template and set svuid = 1L. </p>\n"},{"tags":[],"owner":{"account_id":26048,"reputation":7945,"user_id":67476,"accept_rate":67,"display_name":"harshit"},"comment_count":0,"down_vote_count":2,"up_vote_count":3,"is_accepted":false,"score":1,"last_activity_date":1237311078,"creation_date":1237310602,"answer_id":655230,"question_id":146715,"body_markdown":"Please follow this link to get detailed explanation: &lt;http://technologiquepanorama.wordpress.com/2009/02/13/what-is-use-of-serialversiouid/&gt;","title":"Use the serialVersionUID or suppress warnings?","body":"<p>Please follow this link to get detailed explanation: <a href=\"http://technologiquepanorama.wordpress.com/2009/02/13/what-is-use-of-serialversiouid/\" rel=\"nofollow noreferrer\">http://technologiquepanorama.wordpress.com/2009/02/13/what-is-use-of-serialversiouid/</a></p>\n"},{"comments":[{"owner":{"account_id":67826,"reputation":126,"user_id":198238,"display_name":"engfer"},"score":0,"creation_date":1332513301,"post_id":2831663,"comment_id":12540893,"body_markdown":"UnsupportedOperationException might be more acceptable, but the private methods might be unnecessary","body":"UnsupportedOperationException might be more acceptable, but the private methods might be unnecessary"},{"owner":{"account_id":65347,"reputation":56309,"user_id":192373,"accept_rate":74,"display_name":"Alex Cohn"},"score":1,"creation_date":1425204843,"post_id":2831663,"comment_id":45859538,"body_markdown":"This is a nice try; unfortunately, it will not warn at compile time :(","body":"This is a nice try; unfortunately, it will not warn at compile time :("}],"tags":[],"owner":{"account_id":613739,"reputation":171,"user_id":332658,"display_name":"Mike"},"comment_count":2,"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1412162516,"creation_date":1273807472,"answer_id":2831663,"question_id":146715,"body_markdown":"Thanks @ Steve Jessop for his answer on this.  It was 5 lines of code... hardly a hassle.\r\n\r\nI added `@SuppressWarnings(&quot;serial&quot;)` just above the class in question.\r\n\r\nI also added this method:\r\n\r\n    private void writeObject(ObjectOutputStream oos) throws IOException {\r\n       throw new IOException(&quot;This class is NOT serializable.&quot;);\r\n    }\r\n\r\nHopefully that&#39;s what Steve meant :)\r\n","title":"Use the serialVersionUID or suppress warnings?","body":"<p>Thanks @ Steve Jessop for his answer on this.  It was 5 lines of code... hardly a hassle.</p>\n\n<p>I added <code>@SuppressWarnings(\"serial\")</code> just above the class in question.</p>\n\n<p>I also added this method:</p>\n\n<pre><code>private void writeObject(ObjectOutputStream oos) throws IOException {\n   throw new IOException(\"This class is NOT serializable.\");\n}\n</code></pre>\n\n<p>Hopefully that's what Steve meant :)</p>\n"},{"tags":[],"owner":{"account_id":763618,"reputation":21,"user_id":788510,"display_name":"Daniel"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1307501301,"creation_date":1307501301,"answer_id":6273686,"question_id":146715,"body_markdown":"It depends.\r\n\r\nIf you use different compilers to compile your source code multiple times, your compiled code could have different serializationIds that will break the serialization. Then you need to stick to a constant serializationId explicitly in your code. It must be static and final and per class (not inheritable). \r\n\r\nHowever, if you always compile your code with a specific compiler and always deploy your code in one shot to all of your VMs, you probably need strict version checking and want to make sure that anytime there is only one version of you code running, in that case, you should just suppress the warning. So in case a VM is not deployed successfully and is running old version of your code, you probably expect an exception during serialization rather than quirk deserialized objects. This happens to be my case, we used to have a very very large cluster and we need strict version checking to find out any deployment issue.\r\n\r\nAnyway, probably you should avoid serialization whenever possible since the default serialization is very slow compared to protocol buffers or thrift and does not support cross-language interoperability.","title":"Use the serialVersionUID or suppress warnings?","body":"<p>It depends.</p>\n\n<p>If you use different compilers to compile your source code multiple times, your compiled code could have different serializationIds that will break the serialization. Then you need to stick to a constant serializationId explicitly in your code. It must be static and final and per class (not inheritable). </p>\n\n<p>However, if you always compile your code with a specific compiler and always deploy your code in one shot to all of your VMs, you probably need strict version checking and want to make sure that anytime there is only one version of you code running, in that case, you should just suppress the warning. So in case a VM is not deployed successfully and is running old version of your code, you probably expect an exception during serialization rather than quirk deserialized objects. This happens to be my case, we used to have a very very large cluster and we need strict version checking to find out any deployment issue.</p>\n\n<p>Anyway, probably you should avoid serialization whenever possible since the default serialization is very slow compared to protocol buffers or thrift and does not support cross-language interoperability.</p>\n"},{"tags":[],"owner":{"account_id":1098340,"reputation":9801,"user_id":1091436,"accept_rate":50,"display_name":"VasiliNovikov"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1697740526,"creation_date":1450177304,"answer_id":34287502,"question_id":146715,"body_markdown":"If you know your applications never serializes things, you can suppress the warning:\r\n\r\n`javac -Xlint -Xlint:-serial *******`\r\n\r\n(Or pass through JAVAC_ARGS via your build tool.) Building this way you will have all warnings except &quot;serial&quot;. IDE-s and build tools like Maven/SBT/Gradle work fine with that.","title":"Use the serialVersionUID or suppress warnings?","body":"<p>If you know your applications never serializes things, you can suppress the warning:</p>\n<p><code>javac -Xlint -Xlint:-serial *******</code></p>\n<p>(Or pass through JAVAC_ARGS via your build tool.) Building this way you will have all warnings except &quot;serial&quot;. IDE-s and build tools like Maven/SBT/Gradle work fine with that.</p>\n"}],"owner":{"account_id":6733,"reputation":877,"user_id":11450,"accept_rate":60,"display_name":"Okami"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":36378,"favorite_count":0,"down_vote_count":0,"up_vote_count":76,"answer_count":12,"score":76,"last_activity_date":1697740526,"creation_date":1222635065,"question_id":146715,"body_markdown":"I want to create a class that, for example, extends HttpServlet? My compiler warns me that my class should have a serialVersionUID. If I know that this object will never be serialized, should I define it or add an annotation to suppress those warnings?\r\n\r\nWhat would you do and why?\r\n","title":"Use the serialVersionUID or suppress warnings?","body":"<p>I want to create a class that, for example, extends HttpServlet? My compiler warns me that my class should have a serialVersionUID. If I know that this object will never be serialized, should I define it or add an annotation to suppress those warnings?</p>\n\n<p>What would you do and why?</p>\n"},{"tags":["java","hibernate","jpa","persistence","lazy-initialization"],"comments":[{"owner":{"account_id":1532531,"reputation":36089,"user_id":1429387,"accept_rate":63,"display_name":"naXa stands with Ukraine"},"score":0,"creation_date":1521044872,"post_id":25362831,"comment_id":85568639,"body_markdown":"@SteveChambers 404 - dead link","body":"@SteveChambers 404 - dead link"},{"owner":{"account_id":27042051,"reputation":1,"user_id":20596759,"display_name":"Rahul Vasa"},"score":0,"creation_date":1669358749,"post_id":25362831,"comment_id":131628237,"body_markdown":"Please find my answer: https://stackoverflow.com/a/74569112/20596759 Hope this helps","body":"Please find my answer: <a href=\"https://stackoverflow.com/a/74569112/20596759\">stackoverflow.com/a/74569112/20596759</a> Hope this helps"}],"answers":[{"comments":[{"owner":{"account_id":143496,"reputation":1912,"user_id":351861,"display_name":"specializt"},"score":0,"creation_date":1413285656,"post_id":25367976,"comment_id":41377129,"body_markdown":"OpenSessionInView will never have this &quot;N+1 effect&quot;, that would&#39;nt make any sense. Only _ONE_ session will be opened and every entity-lookup within that will be handled normally - most likely via JOINs, depending on your fields. You have obviously not understood how the open-session-in-view method works.\n\nThe one and only problem with it is : in bad situations (and with bad coding) your user may not get any information if your transaction actually got rolled back or even failed, dending on your transaction-configuration.","body":"OpenSessionInView will never have this &quot;N+1 effect&quot;, that would&#39;nt make any sense. Only <i>ONE</i> session will be opened and every entity-lookup within that will be handled normally - most likely via JOINs, depending on your fields. You have obviously not understood how the open-session-in-view method works.  The one and only problem with it is : in bad situations (and with bad coding) your user may not get any information if your transaction actually got rolled back or even failed, dending on your transaction-configuration."},{"owner":{"account_id":3737679,"reputation":1882,"user_id":3116666,"display_name":"uaiHebert"},"score":4,"creation_date":1413297362,"post_id":25367976,"comment_id":41384594,"body_markdown":"N+1 is not about several sessions, but is about several trips do the database.","body":"N+1 is not about several sessions, but is about several trips do the database."},{"owner":{"account_id":143496,"reputation":1912,"user_id":351861,"display_name":"specializt"},"score":0,"creation_date":1413375153,"post_id":25367976,"comment_id":41419010,"body_markdown":"in this case these are the same thing - during a view-created session all of your entity attributes may or may not be fetched with a single &quot;trip&quot; - depending on your ORM-implementation and/or fetch configuration.","body":"in this case these are the same thing - during a view-created session all of your entity attributes may or may not be fetched with a single &quot;trip&quot; - depending on your ORM-implementation and/or fetch configuration."},{"owner":{"account_id":3737679,"reputation":1882,"user_id":3116666,"display_name":"uaiHebert"},"score":1,"creation_date":1413398350,"post_id":25367976,"comment_id":41432794,"body_markdown":"I am not sure if you understood what I told up there. With open session in view you will have the N+1 effect, you will keep the transaction opened and for each get of a non fetched entity a new trip to the database will be done. I said about n+1 and fetch in a jpql, what is your point?","body":"I am not sure if you understood what I told up there. With open session in view you will have the N+1 effect, you will keep the transaction opened and for each get of a non fetched entity a new trip to the database will be done. I said about n+1 and fetch in a jpql, what is your point?"},{"owner":{"account_id":143496,"reputation":1912,"user_id":351861,"display_name":"specializt"},"score":1,"creation_date":1413401942,"post_id":25367976,"comment_id":41434570,"body_markdown":"yes, you now discovered the primary aspect of lazy initialization. I recommend going deeper into the topic; such as the difference to eager-fetch, cardinalities and especially the fact that your &quot;problem&quot; is omnipresent and a JOIN FETCH will simply remove the DBMS-driver overhead for a few additional &quot;trips&quot; but also decrease the performance in large data-sets. JOINs may work for small data-sets exclusively. Hybrid approaches may also yield acceptable results.","body":"yes, you now discovered the primary aspect of lazy initialization. I recommend going deeper into the topic; such as the difference to eager-fetch, cardinalities and especially the fact that your &quot;problem&quot; is omnipresent and a JOIN FETCH will simply remove the DBMS-driver overhead for a few additional &quot;trips&quot; but also decrease the performance in large data-sets. JOINs may work for small data-sets exclusively. Hybrid approaches may also yield acceptable results."},{"owner":{"account_id":2372918,"reputation":4836,"user_id":2077101,"accept_rate":64,"display_name":"James Watkins"},"score":1,"creation_date":1432170494,"post_id":25367976,"comment_id":48817181,"body_markdown":"I like this conversation, but both sides are so confident and conflicting. Can someone provide a reliable resource that illustrates the tradeoffs between lazy and eager? Also, let&#39;s address the fact that it&#39;s silly I can even choose @Lazy when there&#39;s another property I just &quot;need to set&quot; otherwise it doesn&#39;t work.","body":"I like this conversation, but both sides are so confident and conflicting. Can someone provide a reliable resource that illustrates the tradeoffs between lazy and eager? Also, let&#39;s address the fact that it&#39;s silly I can even choose @Lazy when there&#39;s another property I just &quot;need to set&quot; otherwise it doesn&#39;t work."},{"owner":{"account_id":1408815,"reputation":2002,"user_id":1811348,"accept_rate":88,"display_name":"swapyonubuntu"},"score":1,"creation_date":1439376142,"post_id":25367976,"comment_id":51833099,"body_markdown":"@uaiHebert , so do you recommend Use the FETCH in the query as best approach?","body":"@uaiHebert , so do you recommend Use the FETCH in the query as best approach?"},{"owner":{"account_id":7592404,"reputation":605,"user_id":5759656,"display_name":"Christian Meyer"},"score":0,"creation_date":1557180767,"post_id":25367976,"comment_id":98670986,"body_markdown":"Great answer. Would really appreciate an example though. I have tried a join query with @Basic(fetch=FetchType.EAGER) along with @Transactional(propagation=Propagation.Requires_new), (among hundreds of other attempts) but so far only the property has worked for me. The property works like a charm, but I’d rather not compromise my dozens of other entity classes in exchange.","body":"Great answer. Would really appreciate an example though. I have tried a join query with @Basic(fetch=FetchType.EAGER) along with @Transactional(propagation=Propagation.Requires_new), (among hundreds of other attempts) but so far only the property has worked for me. The property works like a charm, but I’d rather not compromise my dozens of other entity classes in exchange."},{"owner":{"account_id":155944,"reputation":1010,"user_id":1467744,"display_name":"Mohamad Eghlima"},"score":0,"creation_date":1673806904,"post_id":25367976,"comment_id":132574985,"body_markdown":"`Join Fetch` is not useful! We have a many to one relation, we need to use some conditions on the join means something like this: \n`LEFT JOIN e.clientDatasource cd ON cd.isActive = TRUE AND cd.isDeleted = FALSE` and Fetch does not work with it, if we use `LEFT JOIN FETCH` it will throw an exception saying fetch can not accompany with join condition!. We can not have these two conditions on the query because the `cd` might be null and then it will not retrieve the `e` as well.","body":"<code>Join Fetch</code> is not useful! We have a many to one relation, we need to use some conditions on the join means something like this:  <code>LEFT JOIN e.clientDatasource cd ON cd.isActive = TRUE AND cd.isDeleted = FALSE</code> and Fetch does not work with it, if we use <code>LEFT JOIN FETCH</code> it will throw an exception saying fetch can not accompany with join condition!. We can not have these two conditions on the query because the <code>cd</code> might be null and then it will not retrieve the <code>e</code> as well."}],"tags":[],"owner":{"account_id":3737679,"reputation":1882,"user_id":3116666,"display_name":"uaiHebert"},"comment_count":9,"down_vote_count":0,"up_vote_count":47,"is_accepted":false,"score":47,"last_activity_date":1521744019,"creation_date":1408379571,"answer_id":25367976,"question_id":25362831,"body_markdown":"The problem with this approach is that you can have the N+1 effect.\r\n\r\nImagine that you have the following entity:\r\n\r\n    public class Person{\r\n        @OneToMany // default to lazy\r\n        private List&lt;Order&gt; orderList;\r\n    }\r\n\r\nIf you have a report that returns 10K of persons, and if in this report you execute the code `person.getOrderList()` the JPA/Hibernate will execute 10K of queries. This is the N+1 effect, you will have no control about all the queries that will be executed.\r\n\r\nImagine now that Order is like below:\r\n\r\n    public class Order{\r\n        @OneToMany // default to lazy\r\n        private List&lt;EmailSent&gt; emailSentList;\r\n    }\r\n\r\nImagine now that you have a iteration with the `person.getOrderList()` and for every `Order order`you will do a `order.getEmailSentList()`. Can you see the problem now?\r\n\r\nFor LazyInitializationException you can have some solutions:\r\n\r\n - Use the OpenInSessionInView approach. You will need to create a WebFilter that will open and close the transaction. The problem with is the N+1 effect.\r\n - Use the hibernate.enable_lazy_load_no_trans configuration, that is a hibernate and you will not be able to port your project to other JPA provider if needed. You also can have the N+1 effect.\r\n - Use the EJB feature named PersistenceContext Extended. With this you will keep the context opened of several transactions. The problems are: N+1 effect can happen, use a lot of server memory (entities will stay managed)\r\n - Use the FETCH in the query. With this approach you could do a JPQL/HQL like: `select p from Person p join fetch p.orderList`. With this query you will have your list loaded from the database and will not have the N+1 effect. The problem is that you will need to write a JPQL for each case.\r\n\r\nIf you still have any problem, check these links: \r\n\r\n- [Part 1][1]\r\n- [Part 2][2]\r\n\r\n\r\n  [1]: https://www.javacodegeeks.com/2012/07/four-solutions-to-lazyinitializationexc_05.html\r\n  [2]: https://www.javacodegeeks.com/2012/07/four-solutions-to-lazyinitializationexc.html","title":"Solve Hibernate Lazy-Init issue with hibernate.enable_lazy_load_no_trans","body":"<p>The problem with this approach is that you can have the N+1 effect.</p>\n\n<p>Imagine that you have the following entity:</p>\n\n<pre><code>public class Person{\n    @OneToMany // default to lazy\n    private List&lt;Order&gt; orderList;\n}\n</code></pre>\n\n<p>If you have a report that returns 10K of persons, and if in this report you execute the code <code>person.getOrderList()</code> the JPA/Hibernate will execute 10K of queries. This is the N+1 effect, you will have no control about all the queries that will be executed.</p>\n\n<p>Imagine now that Order is like below:</p>\n\n<pre><code>public class Order{\n    @OneToMany // default to lazy\n    private List&lt;EmailSent&gt; emailSentList;\n}\n</code></pre>\n\n<p>Imagine now that you have a iteration with the <code>person.getOrderList()</code> and for every <code>Order order</code>you will do a <code>order.getEmailSentList()</code>. Can you see the problem now?</p>\n\n<p>For LazyInitializationException you can have some solutions:</p>\n\n<ul>\n<li>Use the OpenInSessionInView approach. You will need to create a WebFilter that will open and close the transaction. The problem with is the N+1 effect.</li>\n<li>Use the hibernate.enable_lazy_load_no_trans configuration, that is a hibernate and you will not be able to port your project to other JPA provider if needed. You also can have the N+1 effect.</li>\n<li>Use the EJB feature named PersistenceContext Extended. With this you will keep the context opened of several transactions. The problems are: N+1 effect can happen, use a lot of server memory (entities will stay managed)</li>\n<li>Use the FETCH in the query. With this approach you could do a JPQL/HQL like: <code>select p from Person p join fetch p.orderList</code>. With this query you will have your list loaded from the database and will not have the N+1 effect. The problem is that you will need to write a JPQL for each case.</li>\n</ul>\n\n<p>If you still have any problem, check these links: </p>\n\n<ul>\n<li><a href=\"https://www.javacodegeeks.com/2012/07/four-solutions-to-lazyinitializationexc_05.html\" rel=\"noreferrer\">Part 1</a></li>\n<li><a href=\"https://www.javacodegeeks.com/2012/07/four-solutions-to-lazyinitializationexc.html\" rel=\"noreferrer\">Part 2</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":2372918,"reputation":4836,"user_id":2077101,"accept_rate":64,"display_name":"James Watkins"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1432173616,"creation_date":1432173616,"answer_id":30363324,"question_id":25362831,"body_markdown":"Probably because there are better solutions, like [@Transactional][1], where opening and closing sessions follows a very common pattern of &quot;open a session then wrap everything in a try-catch-finally; catch rolls back and finally closes the session.&quot; This annotation is typically at the request-level for web apps and services.\r\n\r\nOr if you need more granular control you can open sessions manually using a SessionFactory.\r\n\r\nAnd as others have mentioned, lazy-loading is something you need to be aware of. It&#39;s not a silver bullet but it can be very helpful. Generally, if your apps are designed to have many small requests then its ok.\r\n\r\nEager loading can also be very bad. For example, when your object model has lots of many-to-many relationships but your requests don&#39;t use data more than one level deep.\r\n\r\nOr you can just forget the whole thing for now. Use lazy loading until it becomes an issue. And if it does, you would have been better of with Mybatis anyway.\r\n\r\n\r\n  [1]: http://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#boot-features-jta","title":"Solve Hibernate Lazy-Init issue with hibernate.enable_lazy_load_no_trans","body":"<p>Probably because there are better solutions, like <a href=\"http://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#boot-features-jta\" rel=\"nofollow\">@Transactional</a>, where opening and closing sessions follows a very common pattern of \"open a session then wrap everything in a try-catch-finally; catch rolls back and finally closes the session.\" This annotation is typically at the request-level for web apps and services.</p>\n\n<p>Or if you need more granular control you can open sessions manually using a SessionFactory.</p>\n\n<p>And as others have mentioned, lazy-loading is something you need to be aware of. It's not a silver bullet but it can be very helpful. Generally, if your apps are designed to have many small requests then its ok.</p>\n\n<p>Eager loading can also be very bad. For example, when your object model has lots of many-to-many relationships but your requests don't use data more than one level deep.</p>\n\n<p>Or you can just forget the whole thing for now. Use lazy loading until it becomes an issue. And if it does, you would have been better of with Mybatis anyway.</p>\n"},{"tags":[],"owner":{"account_id":2163786,"reputation":1231,"user_id":1917327,"display_name":"codedabbler"},"comment_count":0,"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1432581926,"creation_date":1432581926,"answer_id":30444806,"question_id":25362831,"body_markdown":"This goes against how we can take advantage of Hibernate&#39;s enforcement of repeatable read semantics with the Session concept.\r\nWhen an object is first loaded and if the object is referenced again within the life of the session, then the same object is returned IRRESPECTIVE of whether this object has changed in the DB. This is the repeatable read semantics provided automatically by hibernate.\r\n\r\nWith this setting, you have no session providing this guarantee, so if you now access this data you will be getting the latest version of the data. \r\n\r\nThis might be fine. But consider the scenario where this object is held in some place for a long time and the data has changed considerably, so that the lazily fetched data is much different that the data already loaded when the session was alive. This is what you need to be concerned about.\r\n\r\n&gt; To put it simple you can safely use this setting if your program is\r\n&gt; not affected by: How stale the data that was already fetched when in\r\n&gt; session to the data that will be fetched lazily out of session\r\n\r\nBut if this  (**your program is exposed to timing issues, when it might work fine one time and fail another time**) is a concern, then fetch all the necessary data while in session.\r\n","title":"Solve Hibernate Lazy-Init issue with hibernate.enable_lazy_load_no_trans","body":"<p>This goes against how we can take advantage of Hibernate's enforcement of repeatable read semantics with the Session concept.\nWhen an object is first loaded and if the object is referenced again within the life of the session, then the same object is returned IRRESPECTIVE of whether this object has changed in the DB. This is the repeatable read semantics provided automatically by hibernate.</p>\n\n<p>With this setting, you have no session providing this guarantee, so if you now access this data you will be getting the latest version of the data. </p>\n\n<p>This might be fine. But consider the scenario where this object is held in some place for a long time and the data has changed considerably, so that the lazily fetched data is much different that the data already loaded when the session was alive. This is what you need to be concerned about.</p>\n\n<blockquote>\n  <p>To put it simple you can safely use this setting if your program is\n  not affected by: How stale the data that was already fetched when in\n  session to the data that will be fetched lazily out of session</p>\n</blockquote>\n\n<p>But if this  (<strong>your program is exposed to timing issues, when it might work fine one time and fail another time</strong>) is a concern, then fetch all the necessary data while in session.</p>\n"},{"comments":[{"owner":{"account_id":1424899,"reputation":4365,"user_id":1348691,"accept_rate":67,"display_name":"Tiina"},"score":0,"creation_date":1487818564,"post_id":39723142,"comment_id":71959144,"body_markdown":"please explain the last sentence &quot;don&#39;t even need entities, and a DTO projection is even better.&quot;. What is a DTO projection? and why it can replace entities.","body":"please explain the last sentence &quot;don&#39;t even need entities, and a DTO projection is even better.&quot;. What is a DTO projection? and why it can replace entities."},{"owner":{"account_id":1424899,"reputation":4365,"user_id":1348691,"accept_rate":67,"display_name":"Tiina"},"score":0,"creation_date":1487818661,"post_id":39723142,"comment_id":71959165,"body_markdown":"and what do you mean by &quot;anti-patterns&quot;?","body":"and what do you mean by &quot;anti-patterns&quot;?"},{"owner":{"account_id":1012936,"reputation":145178,"user_id":1025118,"accept_rate":100,"display_name":"Vlad Mihalcea"},"score":0,"creation_date":1487826834,"post_id":39723142,"comment_id":71961644,"body_markdown":"Anti-Pattern means that it&#39;s disguised as a solution while, in reality, it&#39;s a poor solution to a problem.","body":"Anti-Pattern means that it&#39;s disguised as a solution while, in reality, it&#39;s a poor solution to a problem."},{"owner":{"account_id":1424899,"reputation":4365,"user_id":1348691,"accept_rate":67,"display_name":"Tiina"},"score":0,"creation_date":1487839115,"post_id":39723142,"comment_id":71967497,"body_markdown":"I read your blog (the reference in your post) and also tried, if Post object in PostComment is empty, then the result would be wrong: when postComment exists, but it does not have Post, it should return a PostComment with empty/null Post, but it actually returns no PostComment.","body":"I read your blog (the reference in your post) and also tried, if Post object in PostComment is empty, then the result would be wrong: when postComment exists, but it does not have Post, it should return a PostComment with empty/null Post, but it actually returns no PostComment."},{"owner":{"account_id":1103468,"reputation":5324,"user_id":1095362,"accept_rate":43,"display_name":"robert trudel"},"score":0,"creation_date":1508354957,"post_id":39723142,"comment_id":80582929,"body_markdown":"What to do if you use spring boot... like findById method?","body":"What to do if you use spring boot... like findById method?"},{"owner":{"account_id":1012936,"reputation":145178,"user_id":1025118,"accept_rate":100,"display_name":"Vlad Mihalcea"},"score":0,"creation_date":1508356226,"post_id":39723142,"comment_id":80583559,"body_markdown":"If you use Spring Boot, it means you use Spring Data, so you can use a custom Repository method to execute the proper JPQL","body":"If you use Spring Boot, it means you use Spring Data, so you can use a custom Repository method to execute the proper JPQL"},{"owner":{"account_id":6250572,"reputation":736,"user_id":4860775,"display_name":"ASharma7"},"score":0,"creation_date":1563876793,"post_id":39723142,"comment_id":100837413,"body_markdown":"spring.jpa.properties.hibernate.enable_lazy_load_no_trans=true is used in springboot","body":"spring.jpa.properties.hibernate.enable_lazy_load_no_trans=tr&zwnj;&#8203;ue is used in springboot"},{"owner":{"account_id":1012936,"reputation":145178,"user_id":1025118,"accept_rate":100,"display_name":"Vlad Mihalcea"},"score":0,"creation_date":1563876942,"post_id":39723142,"comment_id":100837499,"body_markdown":"By default, it&#39;s not used. If you enabled it explicitly, then you should consider removing this antipattern.","body":"By default, it&#39;s not used. If you enabled it explicitly, then you should consider removing this antipattern."},{"owner":{"account_id":6290431,"reputation":1187,"user_id":4888323,"accept_rate":20,"display_name":"Bilgehan"},"score":0,"creation_date":1588934512,"post_id":39723142,"comment_id":109097115,"body_markdown":"@VladMihalcea as your comments and articles?Should we, dont use hibernate assocations(onetomany,manytoone..etc) for eager/lazy loading .Should we use inner joins with custom dtos,And we doesnt prefer lazy and eager loading both for performance issue?Should we?","body":"@VladMihalcea as your comments and articles?Should we, dont use hibernate assocations(onetomany,manytoone..etc) for eager/lazy loading .Should we use inner joins with custom dtos,And we doesnt prefer lazy and eager loading both for performance issue?Should we?"},{"owner":{"account_id":6290431,"reputation":1187,"user_id":4888323,"accept_rate":20,"display_name":"Bilgehan"},"score":0,"creation_date":1588937920,"post_id":39723142,"comment_id":109098765,"body_markdown":"@VladMihalcea you have a lot articles and books and they are are very valuable for us,thanks for your sharing.For that question if it is possible just quick comment yes or no about hibernate assocations,for your DTO article ,as I understand we shouldnt use lazy loading?Y/N.","body":"@VladMihalcea you have a lot articles and books and they are are very valuable for us,thanks for your sharing.For that question if it is possible just quick comment yes or no about hibernate assocations,for your DTO article ,as I understand we shouldnt use lazy loading?Y/N."}],"tags":[],"owner":{"account_id":1012936,"reputation":145178,"user_id":1025118,"accept_rate":100,"display_name":"Vlad Mihalcea"},"comment_count":10,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1515158443,"creation_date":1474974607,"answer_id":39723142,"question_id":25362831,"body_markdown":"[The best way to solve the LazyInitializationException][1] is to use the JOIN FETCH directive in your entity queries. \r\n\r\n[EAGER loading][2] is bad for performance. Also, there are anti-patterns such as:\r\n\r\n- [Open Session in View][3]\r\n- [`hibernate.enable_lazy_load_no_trans`][4]\r\n\r\nWhich you should never use since they either require the database connection to be open for the UI rendering (Open Session in View), or a database connection is needed for every lazy association that is fetched outside of the initial Persistence Context (`hibernate.enable_lazy_load_no_trans`).\r\n\r\nSometimes, you don&#39;t even need entities, and [a DTO projection is even better](https://vladmihalcea.com/the-best-way-to-map-a-projection-query-to-a-dto-with-jpa-and-hibernate/).\r\n\r\n  [1]: https://vladmihalcea.com/the-best-way-to-handle-the-lazyinitializationexception/\r\n  [2]: https://vladmihalcea.com/eager-fetching-is-a-code-smell/\r\n  [3]: https://vladmihalcea.com/the-open-session-in-view-anti-pattern/\r\n  [4]: https://vladmihalcea.com/the-hibernate-enable_lazy_load_no_trans-anti-pattern/","title":"Solve Hibernate Lazy-Init issue with hibernate.enable_lazy_load_no_trans","body":"<p><a href=\"https://vladmihalcea.com/the-best-way-to-handle-the-lazyinitializationexception/\" rel=\"nofollow noreferrer\">The best way to solve the LazyInitializationException</a> is to use the JOIN FETCH directive in your entity queries. </p>\n\n<p><a href=\"https://vladmihalcea.com/eager-fetching-is-a-code-smell/\" rel=\"nofollow noreferrer\">EAGER loading</a> is bad for performance. Also, there are anti-patterns such as:</p>\n\n<ul>\n<li><a href=\"https://vladmihalcea.com/the-open-session-in-view-anti-pattern/\" rel=\"nofollow noreferrer\">Open Session in View</a></li>\n<li><a href=\"https://vladmihalcea.com/the-hibernate-enable_lazy_load_no_trans-anti-pattern/\" rel=\"nofollow noreferrer\"><code>hibernate.enable_lazy_load_no_trans</code></a></li>\n</ul>\n\n<p>Which you should never use since they either require the database connection to be open for the UI rendering (Open Session in View), or a database connection is needed for every lazy association that is fetched outside of the initial Persistence Context (<code>hibernate.enable_lazy_load_no_trans</code>).</p>\n\n<p>Sometimes, you don't even need entities, and <a href=\"https://vladmihalcea.com/the-best-way-to-map-a-projection-query-to-a-dto-with-jpa-and-hibernate/\" rel=\"nofollow noreferrer\">a DTO projection is even better</a>.</p>\n"}],"owner":{"account_id":2846759,"reputation":3710,"user_id":2444921,"accept_rate":50,"display_name":"Sachin Verma"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":78711,"favorite_count":0,"down_vote_count":1,"up_vote_count":57,"answer_count":4,"score":56,"last_activity_date":1697739971,"creation_date":1408363301,"question_id":25362831,"body_markdown":"I have been suffering from infamous hibernate exception\r\n\r\n    org.hibernate.LazyInitializationException: could not initialize proxy - no Session\r\n\r\nNow the community is cheering over \r\n\r\n`&lt;property name=&quot;hibernate.enable_lazy_load_no_trans&quot; value=&quot;true&quot;/&gt;`\r\n\r\nsaying it solves the problem but **USE IT WITH CAUTION**.\r\n\r\nWhat they mean by use it with caution? What this property actually does?\r\n\r\nPlease give me any insights.\r\n","title":"Solve Hibernate Lazy-Init issue with hibernate.enable_lazy_load_no_trans","body":"<p>I have been suffering from infamous hibernate exception</p>\n<pre><code>org.hibernate.LazyInitializationException: could not initialize proxy - no Session\n</code></pre>\n<p>Now the community is cheering over</p>\n<p><code>&lt;property name=&quot;hibernate.enable_lazy_load_no_trans&quot; value=&quot;true&quot;/&gt;</code></p>\n<p>saying it solves the problem but <strong>USE IT WITH CAUTION</strong>.</p>\n<p>What they mean by use it with caution? What this property actually does?</p>\n<p>Please give me any insights.</p>\n"},{"tags":["java","maven","docker"],"comments":[{"owner":{"account_id":3483673,"reputation":31124,"user_id":2915097,"display_name":"user2915097"},"score":0,"creation_date":1456133277,"post_id":35549854,"comment_id":58788217,"body_markdown":"something looks weird `localhost/0:0:0:0:0:0:0:1` do you have a reproducer, a Dockerfile, some `docker run` commands?","body":"something looks weird <code>localhost&#47;0:0:0:0:0:0:0:1</code> do you have a reproducer, a Dockerfile, some <code>docker run</code> commands?"}],"answers":[{"tags":[],"owner":{"account_id":7892525,"reputation":41,"user_id":5962239,"display_name":"Bao Phan"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1456135026,"creation_date":1456135026,"answer_id":35550582,"question_id":35549854,"body_markdown":"Try to run &#39;docker-machine ls&#39; to check for the IP, if it&#39;s not a localhost address, you will need a dockerHost tag in your plugin configuration.\r\nex: `&lt;dockerHost&gt;https://192.168.99.100:2376&lt;/dockerHost&gt;`\r\n\r\nnewest version of the plugin is 0.4.1 not 0.2.3","title":"maven package docker:build - connection refused","body":"<p>Try to run 'docker-machine ls' to check for the IP, if it's not a localhost address, you will need a dockerHost tag in your plugin configuration.\nex: <code>&lt;dockerHost&gt;https://192.168.99.100:2376&lt;/dockerHost&gt;</code></p>\n\n<p>newest version of the plugin is 0.4.1 not 0.2.3</p>\n"},{"tags":[],"owner":{"account_id":1224639,"reputation":1935,"user_id":1190472,"display_name":"Alban"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1463173345,"creation_date":1463173345,"answer_id":37219277,"question_id":35549854,"body_markdown":"On MacOs, I just set the environment variables as shown by\r\n\r\n`docker-machine env`\r\n\r\nWhen running the build from an IDE, make sure these variables are properly set.","title":"maven package docker:build - connection refused","body":"<p>On MacOs, I just set the environment variables as shown by</p>\n\n<p><code>docker-machine env</code></p>\n\n<p>When running the build from an IDE, make sure these variables are properly set.</p>\n"},{"tags":[],"owner":{"account_id":1459952,"reputation":612,"user_id":1374539,"display_name":"U.V."},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1465655688,"creation_date":1465655688,"answer_id":37764922,"question_id":35549854,"body_markdown":"On windows 7 64 the docker env seems a bit tricky to install as it requires a linuxVM to run (update issues with previous vbox installation)\r\n[https://github.com/docker/machine/issues/3396][1] )\r\n\r\nLuckily in the docker quickstart terminal we can do:\r\n\r\n       $ docker-machine.exe env\r\n       export DOCKER_TLS_VERIFY=&quot;1&quot;\r\n       export DOCKER_HOST=&quot;tcp://192.168.99.101:2376&quot;\r\n       export DOCKER_CERT_PATH=&quot;C:\\Users\\uv\\.docker\\machine\\machines\\default&quot;\r\n       export DOCKER_MACHINE_NAME=&quot;default&quot;\r\n       # Run this command to configure your shell:\r\n       # eval $(&quot;C:\\Program Files\\Docker Toolbox\\docker-machine.exe&quot; env)\r\n\r\nshowing us what to put into the plugin configuration \r\n\r\n       &lt;dockerHost&gt;https://192.168.99.101:2376&lt;/dockerHost&gt;\r\n\r\nbut only after using the advice found here:\r\n\r\n[https://stackoverflow.com/questions/35071536/docker-an-error-occurred-trying-to-connect][2]\r\n\r\nwith the important part being:\r\n\r\n    Run FOR /f &quot;tokens=*&quot; %i IN (&#39;docker-machine env --shell cmd default&#39;) DO %i\r\n\r\nwe can run the  `mvnw docker:build` successfully in the cmd/intellij terminal :)\r\n\r\n  [1]: https://github.com/docker/machine/issues/3396\r\n  [2]: https://stackoverflow.com/questions/35071536/docker-an-error-occurred-trying-to-connect","title":"maven package docker:build - connection refused","body":"<p>On windows 7 64 the docker env seems a bit tricky to install as it requires a linuxVM to run (update issues with previous vbox installation)\n<a href=\"https://github.com/docker/machine/issues/3396\" rel=\"nofollow noreferrer\">https://github.com/docker/machine/issues/3396</a> )</p>\n\n<p>Luckily in the docker quickstart terminal we can do:</p>\n\n<pre><code>   $ docker-machine.exe env\n   export DOCKER_TLS_VERIFY=\"1\"\n   export DOCKER_HOST=\"tcp://192.168.99.101:2376\"\n   export DOCKER_CERT_PATH=\"C:\\Users\\uv\\.docker\\machine\\machines\\default\"\n   export DOCKER_MACHINE_NAME=\"default\"\n   # Run this command to configure your shell:\n   # eval $(\"C:\\Program Files\\Docker Toolbox\\docker-machine.exe\" env)\n</code></pre>\n\n<p>showing us what to put into the plugin configuration </p>\n\n<pre><code>   &lt;dockerHost&gt;https://192.168.99.101:2376&lt;/dockerHost&gt;\n</code></pre>\n\n<p>but only after using the advice found here:</p>\n\n<p><a href=\"https://stackoverflow.com/questions/35071536/docker-an-error-occurred-trying-to-connect\">Docker: An error occurred trying to connect</a></p>\n\n<p>with the important part being:</p>\n\n<pre><code>Run FOR /f \"tokens=*\" %i IN ('docker-machine env --shell cmd default') DO %i\n</code></pre>\n\n<p>we can run the  <code>mvnw docker:build</code> successfully in the cmd/intellij terminal :)</p>\n"},{"tags":[],"owner":{"account_id":455032,"reputation":2720,"user_id":853001,"display_name":"realPK"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1475802664,"creation_date":1475802664,"answer_id":39907897,"question_id":35549854,"body_markdown":"Below change fixed my issue on OSX El Capitan, Docker Version 1.12.1 (build: 12133):\r\n\r\n    export DOCKER_HOST=unix:///var/run/docker.sock\r\n\r\nPlease restart docker if `mvn package docker:build` still fails.","title":"maven package docker:build - connection refused","body":"<p>Below change fixed my issue on OSX El Capitan, Docker Version 1.12.1 (build: 12133):</p>\n\n<pre><code>export DOCKER_HOST=unix:///var/run/docker.sock\n</code></pre>\n\n<p>Please restart docker if <code>mvn package docker:build</code> still fails.</p>\n"},{"tags":[],"owner":{"account_id":7185176,"reputation":81,"user_id":5487416,"display_name":"湛永志"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1483510039,"creation_date":1483510039,"answer_id":41457213,"question_id":35549854,"body_markdown":"i solve the problem using this setting:\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    &lt;configuration&gt;\r\n    \t&lt;imageName&gt;10.10.8.175:5000/${artifactId}:${project.version}&lt;/imageName&gt;\r\n    \t&lt;dockerHost&gt;https://192.168.99.100:2376&lt;/dockerHost&gt;\r\n    \t&lt;dockerCertPath&gt;C:\\Users\\AtomView\\.docker\\machine\\machines\\default&lt;/dockerCertPath&gt;\r\n    \t&lt;dockerDirectory&gt;src/main/resources/docker&lt;/dockerDirectory&gt;\r\n    \t&lt;resources&gt;\r\n    \t\t&lt;resource&gt;\r\n    \t\t\t&lt;targetPath&gt;/&lt;/targetPath&gt;\r\n    \t\t\t&lt;directory&gt;${project.build.directory}&lt;/directory&gt;\r\n    \t\t\t&lt;include&gt;*.zip&lt;/include&gt;\r\n    \t\t&lt;/resource&gt;\r\n    \t&lt;/resources&gt;\r\n    &lt;/configuration&gt;\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n","title":"maven package docker:build - connection refused","body":"<p>i solve the problem using this setting:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;configuration&gt;\r\n\t&lt;imageName&gt;10.10.8.175:5000/${artifactId}:${project.version}&lt;/imageName&gt;\r\n\t&lt;dockerHost&gt;https://192.168.99.100:2376&lt;/dockerHost&gt;\r\n\t&lt;dockerCertPath&gt;C:\\Users\\AtomView\\.docker\\machine\\machines\\default&lt;/dockerCertPath&gt;\r\n\t&lt;dockerDirectory&gt;src/main/resources/docker&lt;/dockerDirectory&gt;\r\n\t&lt;resources&gt;\r\n\t\t&lt;resource&gt;\r\n\t\t\t&lt;targetPath&gt;/&lt;/targetPath&gt;\r\n\t\t\t&lt;directory&gt;${project.build.directory}&lt;/directory&gt;\r\n\t\t\t&lt;include&gt;*.zip&lt;/include&gt;\r\n\t\t&lt;/resource&gt;\r\n\t&lt;/resources&gt;\r\n&lt;/configuration&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"},{"tags":[],"owner":{"account_id":1014158,"reputation":2646,"user_id":1026104,"display_name":"jan.supol"},"comment_count":0,"down_vote_count":0,"up_vote_count":34,"is_accepted":false,"score":34,"last_activity_date":1504525573,"creation_date":1504098877,"answer_id":45961484,"question_id":35549854,"body_markdown":"On Windows with Docker/Hyper-V this occurred to me with com.spotify:docker-maven-plugin:1.0.0. There is a discussion about this [on another forum][1], where they advise to turn on [![enter image description here][2]][2] \r\n\r\nin docker Settings/General Tab. It worked for me.\r\n\r\n\r\n  [1]: https://forums.docker.com/t/spotify-docker-maven-plugin-cant-connect-to-localhost-2375/9093/12\r\n  [2]: https://i.stack.imgur.com/IaZTE.png","title":"maven package docker:build - connection refused","body":"<p>On Windows with Docker/Hyper-V this occurred to me with com.spotify:docker-maven-plugin:1.0.0. There is a discussion about this <a href=\"https://forums.docker.com/t/spotify-docker-maven-plugin-cant-connect-to-localhost-2375/9093/12\" rel=\"noreferrer\">on another forum</a>, where they advise to turn on <a href=\"https://i.stack.imgur.com/IaZTE.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/IaZTE.png\" alt=\"enter image description here\"></a> </p>\n\n<p>in docker Settings/General Tab. It worked for me.</p>\n"},{"tags":[],"owner":{"account_id":10135003,"reputation":403,"user_id":7486894,"display_name":"Le Danh"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1536709217,"creation_date":1536709217,"answer_id":52285518,"question_id":35549854,"body_markdown":"In ubuntu 16.04, I solved it with:\r\n\r\n    DOCKER_HOST=unix:///var/run/docker.sock mvn clean install \r\n","title":"maven package docker:build - connection refused","body":"<p>In ubuntu 16.04, I solved it with:</p>\n\n<pre><code>DOCKER_HOST=unix:///var/run/docker.sock mvn clean install \n</code></pre>\n"},{"comments":[{"owner":{"account_id":2728818,"reputation":2153,"user_id":2353080,"accept_rate":29,"display_name":"Michal"},"score":1,"creation_date":1543110861,"post_id":53463998,"comment_id":93799126,"body_markdown":"Please add relevant link to github issue to better explain how is the problem addressed.","body":"Please add relevant link to github issue to better explain how is the problem addressed."}],"tags":[],"owner":{"account_id":14278718,"reputation":9,"user_id":10314009,"display_name":"Dada"},"comment_count":1,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1543110584,"creation_date":1543110584,"answer_id":53463998,"question_id":35549854,"body_markdown":"update maven docker plugin to latest version 1.2.0. This solves the problem.","title":"maven package docker:build - connection refused","body":"<p>update maven docker plugin to latest version 1.2.0. This solves the problem.</p>\n"},{"comments":[{"owner":{"account_id":15846606,"reputation":316,"user_id":11433749,"display_name":"Shayan Daneshvar"},"score":0,"creation_date":1696891918,"post_id":58914003,"comment_id":136208449,"body_markdown":"The last version is 1.2.2","body":"The last version is 1.2.2"}],"tags":[],"owner":{"account_id":3333666,"reputation":2544,"user_id":2801909,"accept_rate":33,"display_name":"Vijay Nandwana"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1697739366,"creation_date":1574078019,"answer_id":58914003,"question_id":35549854,"body_markdown":"I fixed this by updating the `docker-maven-plugin` dependency version.","title":"maven package docker:build - connection refused","body":"<p>I fixed this by updating the <code>docker-maven-plugin</code> dependency version.</p>\n"},{"tags":[],"owner":{"account_id":5160313,"reputation":624,"user_id":4132230,"display_name":"Sandeep Kumar"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1653312068,"creation_date":1577345556,"answer_id":59485308,"question_id":35549854,"body_markdown":"If docker is running of Docker for Windows, then below things need to be completed:\r\n1. Open Docker Settings\r\n2. Enable the checkbox - Expose daemon on `tcp://localhost:2375` without TLS\r\n\r\nNormally, docker opens up port `2376` for docker client but for legacy or other application connect using `2375` port using TCP.\r\nIf you are using com.spotify it depends upon version also. The latest com.spotify plugin with latest docker working correctly else need to define a variable that tells the plugin to get the hostname from specified environment variable.\r\n\r\nTo set the hostname manually for the docker set the variable into the environment variable list:\r\n \r\n\r\n    DOCKER_HOST=&quot;tcp://127.0.0.0:2376&quot;\r\n\r\nIt will work for localhost, if docker is running on another machine then set the ip of the same machine.","title":"maven package docker:build - connection refused","body":"<p>If docker is running of Docker for Windows, then below things need to be completed:</p>\n<ol>\n<li>Open Docker Settings</li>\n<li>Enable the checkbox - Expose daemon on <code>tcp://localhost:2375</code> without TLS</li>\n</ol>\n<p>Normally, docker opens up port <code>2376</code> for docker client but for legacy or other application connect using <code>2375</code> port using TCP.\nIf you are using com.spotify it depends upon version also. The latest com.spotify plugin with latest docker working correctly else need to define a variable that tells the plugin to get the hostname from specified environment variable.</p>\n<p>To set the hostname manually for the docker set the variable into the environment variable list:</p>\n<pre><code>DOCKER_HOST=&quot;tcp://127.0.0.0:2376&quot;\n</code></pre>\n<p>It will work for localhost, if docker is running on another machine then set the ip of the same machine.</p>\n"},{"tags":[],"owner":{"account_id":12999745,"reputation":1,"user_id":9396199,"display_name":"Richard Bux"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1618684828,"creation_date":1618684828,"answer_id":67141750,"question_id":35549854,"body_markdown":"I was struggling with the same kind of error, and this is how I got rid of it. \r\n\r\nError: Cannot create docker access object  [Cannot extract API version from server https://192.168.99.100:2375 : Connect to 192.168.99.100:2375 [/192.168.99.100] failed: Connection refused: connect]\r\n\r\nIn my case, the problem was that maven was unable to connect to the docker daemon process to build the image, because of the wrong host address.\r\n\r\nYou can find the right host address of the docker daemon process, by command\r\n\r\ndocker-machine env\r\n\r\nOutput:\r\nexport DOCKER_HOST=&quot;tcp://192.168.99.100:2376&quot;\r\n\r\nNow, we can add below line in pom.xml.\r\n\r\n&lt;dockerHost&gt;https://192.168.99.100:2376&lt;/dockerHost&gt;\r\n\r\nAnd, we are good to go.\r\nHope this would help.","title":"maven package docker:build - connection refused","body":"<p>I was struggling with the same kind of error, and this is how I got rid of it.</p>\n<p>Error: Cannot create docker access object  [Cannot extract API version from server https://192.168.99.100:2375 : Connect to 192.168.99.100:2375 [/192.168.99.100] failed: Connection refused: connect]</p>\n<p>In my case, the problem was that maven was unable to connect to the docker daemon process to build the image, because of the wrong host address.</p>\n<p>You can find the right host address of the docker daemon process, by command</p>\n<p>docker-machine env</p>\n<p>Output:\nexport DOCKER_HOST=&quot;tcp://192.168.99.100:2376&quot;</p>\n<p>Now, we can add below line in pom.xml.</p>\n<p>https://192.168.99.100:2376</p>\n<p>And, we are good to go.\nHope this would help.</p>\n"}],"owner":{"account_id":7892273,"reputation":301,"user_id":5962051,"accept_rate":0,"display_name":"KaffeeKaethe"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":31183,"favorite_count":0,"down_vote_count":0,"up_vote_count":23,"answer_count":11,"score":23,"last_activity_date":1697739366,"creation_date":1456132972,"question_id":35549854,"body_markdown":"I am trying to directly build a docker image with maven with `mvn package docker:build`. \r\n\r\nDocker is running and `docker ps` shows me my containers, so I assume that everything is running correctly. I do get the following error though:\r\n\r\n&gt;[ERROR] Failed to execute goal com.spotify:docker-maven-plugin:0.2.3:build (default-cli) on project reservierung: Exception caught: java.util.concurrent.ExecutionException: com.spotify.docker.client.shaded.javax.ws.rs.ProcessingException: o\r\nrg.apache.http.conn.HttpHostConnectException: Connect to localhost:2375 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused: connect -&gt;\r\n\r\nMy first approach was that since I am working on windows I need to call the docker-machine ip address instead of localhost, but that also didn&#39;t work. I am kind of at a loss here, because I assume that it&#39;s something simple that I am doing wrong, but I cannot find anything about the connection refused error when docker is (seemingly) running properly.\r\n\r\nI am sorry if this is trivial.","title":"maven package docker:build - connection refused","body":"<p>I am trying to directly build a docker image with maven with <code>mvn package docker:build</code>. </p>\n\n<p>Docker is running and <code>docker ps</code> shows me my containers, so I assume that everything is running correctly. I do get the following error though:</p>\n\n<blockquote>\n  <p>[ERROR] Failed to execute goal com.spotify:docker-maven-plugin:0.2.3:build (default-cli) on project reservierung: Exception caught: java.util.concurrent.ExecutionException: com.spotify.docker.client.shaded.javax.ws.rs.ProcessingException: o\n  rg.apache.http.conn.HttpHostConnectException: Connect to localhost:2375 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused: connect -></p>\n</blockquote>\n\n<p>My first approach was that since I am working on windows I need to call the docker-machine ip address instead of localhost, but that also didn't work. I am kind of at a loss here, because I assume that it's something simple that I am doing wrong, but I cannot find anything about the connection refused error when docker is (seemingly) running properly.</p>\n\n<p>I am sorry if this is trivial.</p>\n"},{"tags":["java","swing","events","event-handling","jlist"],"answers":[{"tags":[],"owner":{"account_id":5331956,"reputation":6999,"user_id":4252320,"accept_rate":59,"display_name":"ergonaut"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1553069194,"creation_date":1443876369,"answer_id":32922742,"question_id":32922623,"body_markdown":"You need to add it to the JList object:\r\n\r\n    myJList.addListSelectionListener(new ListSelectionListener() {\r\n\r\n        @Override\r\n        public void valueChanged(ListSelectionEvent e) {\r\n            System.out.println(&quot;Hello you selected me!  &quot;\r\n                + dataList.getSelectedValue().toString());\r\n        }\r\n    });","title":"Java Swing How to detect a list selection event","body":"<p>You need to add it to the JList object:</p>\n\n<pre><code>myJList.addListSelectionListener(new ListSelectionListener() {\n\n    @Override\n    public void valueChanged(ListSelectionEvent e) {\n        System.out.println(\"Hello you selected me!  \"\n            + dataList.getSelectedValue().toString());\n    }\n});\n</code></pre>\n"}],"owner":{"account_id":5383665,"reputation":924,"user_id":4288259,"accept_rate":100,"display_name":"Andrew Lalis"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2568,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":32922742,"answer_count":1,"score":4,"last_activity_date":1697738901,"creation_date":1443875675,"question_id":32922623,"body_markdown":"I&#39;m making a simple GUI where the user can select an item from a list of Strings using the `JList&lt;String&gt;` component, and I want my program to update a JTextField with some data describing the selected item. I know I need an event listener, but I&#39;m confused as to what I should use to detect a change in selection in my list.","title":"Java Swing How to detect a list selection event","body":"<p>I'm making a simple GUI where the user can select an item from a list of Strings using the <code>JList&lt;String&gt;</code> component, and I want my program to update a JTextField with some data describing the selected item. I know I need an event listener, but I'm confused as to what I should use to detect a change in selection in my list.</p>\n"},{"tags":["java","html","web","thymeleaf","html-lists"],"answers":[{"comments":[{"owner":{"account_id":19566599,"reputation":41,"user_id":14318604,"display_name":"Dean Thomas"},"score":0,"creation_date":1697788606,"post_id":77326113,"comment_id":136326267,"body_markdown":"Thank you for your suggestion, but only the parent-child ol is inside the widget, so the first and third ol is normal html. I don&#39;t think I can turn the other list into thymeleaf.","body":"Thank you for your suggestion, but only the parent-child ol is inside the widget, so the first and third ol is normal html. I don&#39;t think I can turn the other list into thymeleaf."},{"owner":{"account_id":5152799,"reputation":19367,"user_id":4126893,"display_name":"Metroids"},"score":0,"creation_date":1697814195,"post_id":77326113,"comment_id":136331078,"body_markdown":"Thymeleaf doesn&#39;t have the concept of a &quot;widget&quot;... so I&#39;m not really sure what you mean.  Why are you restricted to normal html in the other two parts?","body":"Thymeleaf doesn&#39;t have the concept of a &quot;widget&quot;... so I&#39;m not really sure what you mean.  Why are you restricted to normal html in the other two parts?"},{"owner":{"account_id":19566599,"reputation":41,"user_id":14318604,"display_name":"Dean Thomas"},"score":0,"creation_date":1698031182,"post_id":77326113,"comment_id":136349152,"body_markdown":"the client and most of the team somehow refer to the thymeleaf parts as widget, sorry I got affected and used that here. The page we&#39;re working on is to generate a pdf report where the user could edit the template, and we used html as the template.","body":"the client and most of the team somehow refer to the thymeleaf parts as widget, sorry I got affected and used that here. The page we&#39;re working on is to generate a pdf report where the user could edit the template, and we used html as the template."}],"tags":[],"owner":{"account_id":5152799,"reputation":19367,"user_id":4126893,"display_name":"Metroids"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1697738212,"creation_date":1697738212,"answer_id":77326113,"question_id":77320745,"body_markdown":"Use `th:start`, and calculate the start dynamically.\r\n\r\n    &lt;ol type=&quot;a&quot; th:start=&quot;${2 + #lists.size(parentChildMap)}&quot;&gt;","title":"Ordered list using thymeleaf loop not connected","body":"<p>Use <code>th:start</code>, and calculate the start dynamically.</p>\n<pre><code>&lt;ol type=&quot;a&quot; th:start=&quot;${2 + #lists.size(parentChildMap)}&quot;&gt;\n</code></pre>\n"}],"owner":{"account_id":19566599,"reputation":41,"user_id":14318604,"display_name":"Dean Thomas"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1697738212,"creation_date":1697685265,"question_id":77320745,"body_markdown":"I&#39;m sorry if I have to be vague as I can&#39;t really show the clients requirement.\r\n\r\nI have a stacked ordered list, which shows details of the parent and child. Before the parent and child part, the first item and more item after the parent-child part is showing different details, but I have to put it in the same list. So what I&#39;m trying to achieve is:\r\n\r\n[![enter image description here](https://i.stack.imgur.com/xQzWo.png)](https://i.stack.imgur.com/xQzWo.png)\r\n\r\nBut what I got:\r\n\r\n[![enter image description here](https://i.stack.imgur.com/CCIlY.png)](https://i.stack.imgur.com/CCIlY.png)\r\n\r\n```\r\n&lt;ol type=&quot;a&quot;&gt;\r\n  &lt;li&gt;Coffee&lt;/li&gt; //item without child detail\r\n\r\n  &lt;span class=&quot;widget-has-slot&quot;&gt;{{the parent-child widget}}&lt;br /&gt;\r\n  &lt;pre&gt;\r\n &amp;lt;li th:each=&quot;parent : ${parentChildMap}&quot;&amp;gt; //parent\r\n\r\n   //parent detail\r\n\r\n  &amp;lt;ol&amp;gt;                                   //child list start\r\n   &amp;lt;li th:each=&quot;child : ${parent.value}&quot;&amp;gt; //child\r\n\r\n   //child detail\r\n\r\n   &amp;lt;/li&amp;gt;                                  //child closing tag\r\n  &amp;lt;/ol&amp;gt;                                  //child list end\r\n &amp;lt;/li&amp;gt;                                  //parent closing tag\r\n\r\n&lt;li&gt;Water&lt;/li&gt;  //more item without child detail\r\n&lt;li&gt;Beer&lt;/li&gt;\r\n&lt;/ol&gt;\r\n```\r\n\r\nI tried using counter increment, but it still showing the same result.\r\nReference:\r\n\r\n1. https://travishorn.com/ordered-lists-in-html-a4621e17532b\r\n2. https://www.w3schools.com/cssref/pr_gen_counter-increment.php#gsc.tab=0&amp;gsc.q=list\r\n\r\nCurrently, I&#39;m using 3 different ol with start value. One for the first item, one for the thymeleaf part, and another one after the thymeleaf, which shows me the result I wanted, but I know this is not efficient as I will need to change the start value when the number of parent changed.\r\n\r\n```\r\n&lt;ol type=&quot;a&quot;&gt;     // first ol\r\n  &lt;li&gt;Coffee&lt;/li&gt; //item without child detail\r\n&lt;/ol&gt;\r\n\r\n  &lt;span class=&quot;widget-has-slot&quot;&gt;{{the parent-child widget}}&lt;br /&gt;\r\n  &lt;pre&gt;\r\n&amp;lt;ol type=&quot;a&quot; start=&quot;2&quot;&amp;gt;                    //second ol\r\n &amp;lt;li th:each=&quot;parent : ${parentChildMap}&quot;&amp;gt; //parent\r\n\r\n   //parent detail\r\n\r\n  &amp;lt;ol&amp;gt;                                   //child list start\r\n   &amp;lt;li th:each=&quot;child : ${parent.value}&quot;&amp;gt; //child\r\n\r\n   //child detail\r\n\r\n   &amp;lt;/li&amp;gt;                                  //child closing tag\r\n  &amp;lt;/ol&amp;gt;                                  //child list end\r\n &amp;lt;/li&amp;gt;                                  //parent closing tag\r\n&amp;lt;/ol&amp;gt; \r\n\r\n&lt;ol type=&quot;a&quot; start=&quot;5&quot;&gt;   //third ol\r\n &lt;li&gt;Water&lt;/li&gt;  //more item without child detail\r\n &lt;li&gt;Beer&lt;/li&gt;\r\n&lt;/ol&gt;\r\n```\r\n\r\nHow do I get them to work without manually changing start values?","title":"Ordered list using thymeleaf loop not connected","body":"<p>I'm sorry if I have to be vague as I can't really show the clients requirement.</p>\n<p>I have a stacked ordered list, which shows details of the parent and child. Before the parent and child part, the first item and more item after the parent-child part is showing different details, but I have to put it in the same list. So what I'm trying to achieve is:</p>\n<p><a href=\"https://i.stack.imgur.com/xQzWo.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/xQzWo.png\" alt=\"enter image description here\" /></a></p>\n<p>But what I got:</p>\n<p><a href=\"https://i.stack.imgur.com/CCIlY.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/CCIlY.png\" alt=\"enter image description here\" /></a></p>\n<pre><code>&lt;ol type=&quot;a&quot;&gt;\n  &lt;li&gt;Coffee&lt;/li&gt; //item without child detail\n\n  &lt;span class=&quot;widget-has-slot&quot;&gt;{{the parent-child widget}}&lt;br /&gt;\n  &lt;pre&gt;\n &amp;lt;li th:each=&quot;parent : ${parentChildMap}&quot;&amp;gt; //parent\n\n   //parent detail\n\n  &amp;lt;ol&amp;gt;                                   //child list start\n   &amp;lt;li th:each=&quot;child : ${parent.value}&quot;&amp;gt; //child\n\n   //child detail\n\n   &amp;lt;/li&amp;gt;                                  //child closing tag\n  &amp;lt;/ol&amp;gt;                                  //child list end\n &amp;lt;/li&amp;gt;                                  //parent closing tag\n\n&lt;li&gt;Water&lt;/li&gt;  //more item without child detail\n&lt;li&gt;Beer&lt;/li&gt;\n&lt;/ol&gt;\n</code></pre>\n<p>I tried using counter increment, but it still showing the same result.\nReference:</p>\n<ol>\n<li><a href=\"https://travishorn.com/ordered-lists-in-html-a4621e17532b\" rel=\"nofollow noreferrer\">https://travishorn.com/ordered-lists-in-html-a4621e17532b</a></li>\n<li><a href=\"https://www.w3schools.com/cssref/pr_gen_counter-increment.php#gsc.tab=0&amp;gsc.q=list\" rel=\"nofollow noreferrer\">https://www.w3schools.com/cssref/pr_gen_counter-increment.php#gsc.tab=0&amp;gsc.q=list</a></li>\n</ol>\n<p>Currently, I'm using 3 different ol with start value. One for the first item, one for the thymeleaf part, and another one after the thymeleaf, which shows me the result I wanted, but I know this is not efficient as I will need to change the start value when the number of parent changed.</p>\n<pre><code>&lt;ol type=&quot;a&quot;&gt;     // first ol\n  &lt;li&gt;Coffee&lt;/li&gt; //item without child detail\n&lt;/ol&gt;\n\n  &lt;span class=&quot;widget-has-slot&quot;&gt;{{the parent-child widget}}&lt;br /&gt;\n  &lt;pre&gt;\n&amp;lt;ol type=&quot;a&quot; start=&quot;2&quot;&amp;gt;                    //second ol\n &amp;lt;li th:each=&quot;parent : ${parentChildMap}&quot;&amp;gt; //parent\n\n   //parent detail\n\n  &amp;lt;ol&amp;gt;                                   //child list start\n   &amp;lt;li th:each=&quot;child : ${parent.value}&quot;&amp;gt; //child\n\n   //child detail\n\n   &amp;lt;/li&amp;gt;                                  //child closing tag\n  &amp;lt;/ol&amp;gt;                                  //child list end\n &amp;lt;/li&amp;gt;                                  //parent closing tag\n&amp;lt;/ol&amp;gt; \n\n&lt;ol type=&quot;a&quot; start=&quot;5&quot;&gt;   //third ol\n &lt;li&gt;Water&lt;/li&gt;  //more item without child detail\n &lt;li&gt;Beer&lt;/li&gt;\n&lt;/ol&gt;\n</code></pre>\n<p>How do I get them to work without manually changing start values?</p>\n"},{"tags":["java","spring-boot","spring-integration-dsl"],"answers":[{"tags":[],"owner":{"account_id":1288095,"reputation":169336,"user_id":1240763,"display_name":"Gary Russell"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697737987,"creation_date":1697737987,"answer_id":77326087,"question_id":77325761,"body_markdown":"There is no &quot;connection&quot; with UDP; packets are sent to and received from specific hosts/ports (or a multicast group) individually.\r\n\r\nSee the documentation https://docs.spring.io/spring-integration/docs/current/reference/html/ip.html#ip-intro for how to use Spring UDP adapters.\r\n\r\nIf you have more questions after reading it; I suggest you ask a new question with the configuration you have tried, and much more detail about what you need to do.","title":"How to receive messages from a remote udp server using spring integration","body":"<p>There is no &quot;connection&quot; with UDP; packets are sent to and received from specific hosts/ports (or a multicast group) individually.</p>\n<p>See the documentation <a href=\"https://docs.spring.io/spring-integration/docs/current/reference/html/ip.html#ip-intro\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-integration/docs/current/reference/html/ip.html#ip-intro</a> for how to use Spring UDP adapters.</p>\n<p>If you have more questions after reading it; I suggest you ask a new question with the configuration you have tried, and much more detail about what you need to do.</p>\n"}],"owner":{"account_id":7671769,"reputation":123,"user_id":5813771,"display_name":"Eduardo B."},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1697737987,"creation_date":1697734891,"question_id":77325761,"body_markdown":"I have a remote server that&#39;s sends packets throught a UDP connection. I know the IP and port. \r\n\r\nI want to connect this server to recieve the packets but i don&#39;t know how. And a want to use Spring integration dsl.\r\n\r\nThanks to everyone who can help me.","title":"How to receive messages from a remote udp server using spring integration","body":"<p>I have a remote server that's sends packets throught a UDP connection. I know the IP and port.</p>\n<p>I want to connect this server to recieve the packets but i don't know how. And a want to use Spring integration dsl.</p>\n<p>Thanks to everyone who can help me.</p>\n"},{"tags":["java","multithreading","static","thread-safety","locking"],"comments":[{"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1697738097,"post_id":77326073,"comment_id":136320817,"body_markdown":"Have you already benchmarked both approaches?","body":"Have you already benchmarked both approaches?"},{"owner":{"account_id":15484833,"reputation":27,"user_id":14518481,"display_name":"Elegancia"},"score":0,"creation_date":1697738268,"post_id":77326073,"comment_id":136320841,"body_markdown":"@aled I did not. I wanted to hear out from the community first. Maybe they have suggestions on which approach would be preferable.","body":"@aled I did not. I wanted to hear out from the community first. Maybe they have suggestions on which approach would be preferable."},{"owner":{"account_id":10014547,"reputation":1156,"user_id":7406338,"display_name":"Morph21"},"score":0,"creation_date":1697801648,"post_id":77326073,"comment_id":136328641,"body_markdown":"There won&#39;t be a definitive answer here since it all depends on how often the locking will occur. In theory if your locks will occur often and other threads will wait for that lock then the second approach would be faster but on the other hand it could happen that first approach would be faster. It also will depend on scale, for 10 threads with 100 files in each the difference will probably be so small that this problem shouldn&#39;t be considered as problem. So my advice would be to benchmark both approaches. Also while benchmarking remember to run this operations more than once","body":"There won&#39;t be a definitive answer here since it all depends on how often the locking will occur. In theory if your locks will occur often and other threads will wait for that lock then the second approach would be faster but on the other hand it could happen that first approach would be faster. It also will depend on scale, for 10 threads with 100 files in each the difference will probably be so small that this problem shouldn&#39;t be considered as problem. So my advice would be to benchmark both approaches. Also while benchmarking remember to run this operations more than once"},{"owner":{"account_id":10014547,"reputation":1156,"user_id":7406338,"display_name":"Morph21"},"score":0,"creation_date":1697801683,"post_id":77326073,"comment_id":136328647,"body_markdown":"Since java will do optimizations and it could happen that one or the other solution will be faster on first run but on the second and so on could be slower than the other one","body":"Since java will do optimizations and it could happen that one or the other solution will be faster on first run but on the second and so on could be slower than the other one"}],"owner":{"account_id":15484833,"reputation":27,"user_id":14518481,"display_name":"Elegancia"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1697737862,"creation_date":1697737862,"question_id":77326073,"body_markdown":"I have a list of files, let&#39;s say of size 1000.\r\nEach thread is going to do some work on 100 files, so we would have a total of 10 threads.\r\nThe result of this work, for each thread, is an int and a String.\r\n\r\nI thought basically about two approaches. The first one:\r\n\r\n```\r\nprivate static int maxConfidence;\r\nprivate static String bestMatch;\r\nprivate static Lock lock = new ReentrantLock();\r\n\r\n\r\npublic void run()\r\n{\r\n...\r\nlock.lock;\r\nif(tempConfidence&gt;maxConfidence) \r\n{\r\n       maxConfidence=tempConfidence;\r\n       bestMatch = getCurrentString();\r\n}\r\nlock.unlock();\r\n}\r\n```\r\n\r\nThe second one:\r\n\r\n```\r\nprivate int maxConfidence;\r\nprivate String bestMatch;\r\nprivate boolean isFinished\r\n\r\n\r\npublic void run()\r\n{\r\n...\r\n&#236;if(tempConfidence&gt;maxConfidence) \r\n{\r\n       maxConfidence=tempConfidence;\r\n       bestMatch = getCurrentString();\r\n}\r\nisFinished = true;\r\n}\r\n\r\npublic static void main(String [] args)\r\n{\r\nif(allThreadsAreFinished())\r\n{\r\ngetMaxConfidenceAndBestMatchBetweenThreads(threadsArray);\r\n}\r\n}\r\n```\r\n\r\nAs you can see, in the first case scenario, there is a lock when checking and assigning the results. So, when all threads are finished we have already the best result.\r\n\r\nIn the second case scenario, each thread has his own results for the chunk of files he worked on. When all threads are finished results for each thread are compared and the best match with max confidence is chosen.","title":"Multithreading: more efficient to have static variables with a static Lock or non-static variables and then compare the results between all threads?","body":"<p>I have a list of files, let's say of size 1000.\nEach thread is going to do some work on 100 files, so we would have a total of 10 threads.\nThe result of this work, for each thread, is an int and a String.</p>\n<p>I thought basically about two approaches. The first one:</p>\n<pre><code>private static int maxConfidence;\nprivate static String bestMatch;\nprivate static Lock lock = new ReentrantLock();\n\n\npublic void run()\n{\n...\nlock.lock;\nif(tempConfidence&gt;maxConfidence) \n{\n       maxConfidence=tempConfidence;\n       bestMatch = getCurrentString();\n}\nlock.unlock();\n}\n</code></pre>\n<p>The second one:</p>\n<pre><code>private int maxConfidence;\nprivate String bestMatch;\nprivate boolean isFinished\n\n\npublic void run()\n{\n...\nìif(tempConfidence&gt;maxConfidence) \n{\n       maxConfidence=tempConfidence;\n       bestMatch = getCurrentString();\n}\nisFinished = true;\n}\n\npublic static void main(String [] args)\n{\nif(allThreadsAreFinished())\n{\ngetMaxConfidenceAndBestMatchBetweenThreads(threadsArray);\n}\n}\n</code></pre>\n<p>As you can see, in the first case scenario, there is a lock when checking and assigning the results. So, when all threads are finished we have already the best result.</p>\n<p>In the second case scenario, each thread has his own results for the chunk of files he worked on. When all threads are finished results for each thread are compared and the best match with max confidence is chosen.</p>\n"},{"tags":["java","spring-boot","elasticsearch","opensearch","amazon-opensearch"],"comments":[{"owner":{"account_id":5843921,"reputation":210875,"user_id":4604579,"display_name":"Val"},"score":0,"creation_date":1683698948,"post_id":76211064,"comment_id":134404494,"body_markdown":"The error states `index.settings.analysis...` while your curl body shows `settings.index.analysis...`. Can you verify that `testindex-index-settings.json` contains the right hierarchy, i.e. `settings.index.analysis...` ?","body":"The error states <code>index.settings.analysis...</code> while your curl body shows <code>settings.index.analysis...</code>. Can you verify that <code>testindex-index-settings.json</code> contains the right hierarchy, i.e. <code>settings.index.analysis...</code> ?"},{"owner":{"account_id":16217112,"reputation":334,"user_id":11709663,"display_name":"Sabu Shakya"},"score":0,"creation_date":1683700367,"post_id":76211064,"comment_id":134404749,"body_markdown":"I&#39;ve verified the hierarchy, its supposed to be that way. @Val","body":"I&#39;ve verified the hierarchy, its supposed to be that way. @Val"},{"owner":{"account_id":5843921,"reputation":210875,"user_id":4604579,"display_name":"Val"},"score":0,"creation_date":1683701477,"post_id":76211064,"comment_id":134404965,"body_markdown":"Can you remove the `&quot;settings&quot;` section in the `testindex-index-settings.json` file and just make `&quot;index&quot;` being the top-level section?","body":"Can you remove the <code>&quot;settings&quot;</code> section in the <code>testindex-index-settings.json</code> file and just make <code>&quot;index&quot;</code> being the top-level section?"}],"answers":[{"tags":[],"owner":{"account_id":5843921,"reputation":210875,"user_id":4604579,"display_name":"Val"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1683822101,"creation_date":1683822101,"answer_id":76229712,"question_id":76211064,"body_markdown":"You need to remove the `settings` section in your `testindex-index-settings.json` file\r\n\r\n      {\r\n        &quot;index&quot;: {\r\n          &quot;analysis&quot;: {\r\n            &quot;analyzer&quot;: {\r\n              &quot;my_synonym_analyzer&quot;: {\r\n                &quot;type&quot;: &quot;custom&quot;,\r\n                &quot;tokenizer&quot;: &quot;whitespace&quot;,\r\n                &quot;filter&quot;: [\r\n                  &quot;my_synonym_filter&quot;\r\n                ]\r\n              }\r\n            },\r\n            &quot;filter&quot;: {\r\n              &quot;my_synonym_filter&quot;: {\r\n                &quot;type&quot;: &quot;synonym_graph&quot;,\r\n                &quot;synonyms&quot;: []\r\n              }\r\n            }\r\n          }\r\n        }\r\n      }","title":"OpenSearch - Error when creating index using Java client","body":"<p>You need to remove the <code>settings</code> section in your <code>testindex-index-settings.json</code> file</p>\n<pre><code>  {\n    &quot;index&quot;: {\n      &quot;analysis&quot;: {\n        &quot;analyzer&quot;: {\n          &quot;my_synonym_analyzer&quot;: {\n            &quot;type&quot;: &quot;custom&quot;,\n            &quot;tokenizer&quot;: &quot;whitespace&quot;,\n            &quot;filter&quot;: [\n              &quot;my_synonym_filter&quot;\n            ]\n          }\n        },\n        &quot;filter&quot;: {\n          &quot;my_synonym_filter&quot;: {\n            &quot;type&quot;: &quot;synonym_graph&quot;,\n            &quot;synonyms&quot;: []\n          }\n        }\n      }\n    }\n  }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7254967,"reputation":730,"user_id":5533959,"display_name":"Chris March"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697737733,"creation_date":1697737733,"answer_id":77326059,"question_id":76211064,"body_markdown":"For those of you who are trying to create something from a json file or just need to understand how the new TypeMapping works, here is some code I created to build a TypeMapping object from an existing sson Mapping:\r\n\r\n    @SneakyThrows\r\n    public static TypeMapping typeMapping() {\r\n        var builder = new TypeMapping.Builder();\r\n        var sourceJson = typeMappingJson();\r\n\r\n        builder.enabled(true);\r\n        builder.dateDetection(true);\r\n\r\n        var properties = new LinkedHashMap&lt;String, Property&gt;();\r\n        var jsonNodeIterator = new ObjectMapper().readTree(sourceJson).get(&quot;mappings&quot;).get(&quot;properties&quot;).fields();\r\n        while (jsonNodeIterator.hasNext()) {\r\n            var node = jsonNodeIterator.next();\r\n\r\n            var property = new Property.Builder();\r\n            var type = node.getValue().get(&quot;type&quot;).asText();\r\n            var format = node.getValue().hasNonNull(&quot;date&quot;) ? node.getValue().get(&quot;date&quot;).asText(null) : null;\r\n            var index = node.getValue().hasNonNull(&quot;date&quot;) ? node.getValue().get(&quot;index&quot;).asBoolean(false) : null;\r\n\r\n            switch (type) {\r\n                case &quot;boolean&quot; -&gt; property.boolean_(new BooleanProperty.Builder().index(index).build());\r\n                case &quot;text&quot; -&gt; property.text(new TextProperty.Builder().index(index).build());\r\n                case &quot;keyword&quot; -&gt; property.keyword(new KeywordProperty.Builder().index(index).build());\r\n                case &quot;date&quot; -&gt; property.date(new DateProperty.Builder().format(format).build());\r\n                case &quot;integer&quot; -&gt; property.integer(new IntegerNumberProperty.Builder().index(index).build());\r\n                case &quot;geo_pont&quot; -&gt; property.geoPoint(new GeoPointProperty.Builder().ignoreMalformed(true).build());\r\n                case &quot;object&quot; -&gt; property.object(new ObjectProperty.Builder().enabled(true).build());\r\n                default -&gt; throw new IllegalArgumentException(&quot;No mapping created for type:&quot; + type);\r\n            }\r\n\r\n            properties.put(node.getKey(), property.build());\r\n        }\r\n\r\n        builder.properties(properties);\r\n\r\n        return builder.build();\r\n    }","title":"OpenSearch - Error when creating index using Java client","body":"<p>For those of you who are trying to create something from a json file or just need to understand how the new TypeMapping works, here is some code I created to build a TypeMapping object from an existing sson Mapping:</p>\n<pre><code>@SneakyThrows\npublic static TypeMapping typeMapping() {\n    var builder = new TypeMapping.Builder();\n    var sourceJson = typeMappingJson();\n\n    builder.enabled(true);\n    builder.dateDetection(true);\n\n    var properties = new LinkedHashMap&lt;String, Property&gt;();\n    var jsonNodeIterator = new ObjectMapper().readTree(sourceJson).get(&quot;mappings&quot;).get(&quot;properties&quot;).fields();\n    while (jsonNodeIterator.hasNext()) {\n        var node = jsonNodeIterator.next();\n\n        var property = new Property.Builder();\n        var type = node.getValue().get(&quot;type&quot;).asText();\n        var format = node.getValue().hasNonNull(&quot;date&quot;) ? node.getValue().get(&quot;date&quot;).asText(null) : null;\n        var index = node.getValue().hasNonNull(&quot;date&quot;) ? node.getValue().get(&quot;index&quot;).asBoolean(false) : null;\n\n        switch (type) {\n            case &quot;boolean&quot; -&gt; property.boolean_(new BooleanProperty.Builder().index(index).build());\n            case &quot;text&quot; -&gt; property.text(new TextProperty.Builder().index(index).build());\n            case &quot;keyword&quot; -&gt; property.keyword(new KeywordProperty.Builder().index(index).build());\n            case &quot;date&quot; -&gt; property.date(new DateProperty.Builder().format(format).build());\n            case &quot;integer&quot; -&gt; property.integer(new IntegerNumberProperty.Builder().index(index).build());\n            case &quot;geo_pont&quot; -&gt; property.geoPoint(new GeoPointProperty.Builder().ignoreMalformed(true).build());\n            case &quot;object&quot; -&gt; property.object(new ObjectProperty.Builder().enabled(true).build());\n            default -&gt; throw new IllegalArgumentException(&quot;No mapping created for type:&quot; + type);\n        }\n\n        properties.put(node.getKey(), property.build());\n    }\n\n    builder.properties(properties);\n\n    return builder.build();\n}\n</code></pre>\n"}],"owner":{"account_id":16217112,"reputation":334,"user_id":11709663,"display_name":"Sabu Shakya"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":786,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76229712,"answer_count":2,"score":1,"last_activity_date":1697737733,"creation_date":1683646427,"question_id":76211064,"body_markdown":"I&#39;m trying to create index with given settings from json.\r\n\r\n```json testindex-index-settings.json\r\n{\r\n  &quot;settings&quot;: {\r\n    &quot;index&quot;: {\r\n      &quot;analysis&quot;: {\r\n        &quot;analyzer&quot;: {\r\n          &quot;my_synonym_analyzer&quot;: {\r\n            &quot;type&quot;: &quot;custom&quot;,\r\n            &quot;tokenizer&quot;: &quot;whitespace&quot;,\r\n            &quot;filter&quot;: [\r\n              &quot;my_synonym_filter&quot;\r\n            ]\r\n          }\r\n        },\r\n        &quot;filter&quot;: {\r\n          &quot;my_synonym_filter&quot;: {\r\n            &quot;type&quot;: &quot;synonym_graph&quot;,\r\n            &quot;synonyms&quot;: []\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\n```\r\n\r\nMy code to create index is :\r\n\r\n```java\r\n\r\nimport jakarta.json.stream.JsonParser;\r\nimport java.io.IOException;\r\nimport java.io.InputStreamReader;\r\nimport java.io.Reader;\r\nimport java.io.StringReader;\r\nimport java.util.Objects;\r\nimport lombok.extern.slf4j.Slf4j;\r\nimport org.opensearch.client.json.JsonpMapper;\r\nimport org.opensearch.client.opensearch.OpenSearchClient;\r\nimport org.opensearch.client.opensearch._types.mapping.TypeMapping;\r\nimport org.opensearch.client.opensearch.indices.CreateIndexRequest;\r\nimport org.opensearch.client.opensearch.indices.CreateIndexResponse;\r\nimport org.opensearch.client.opensearch.indices.IndexSettings;\r\nimport org.opensearch.common.io.Streams;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\n\r\npublic class IndexManager {\r\n\r\n  @Autowired private OpenSearchClient searchClient;\r\n\r\n  protected void create() throws IOException {\r\n\r\n    if (this.indexExists()) {\r\n      this.delete();\r\n    }\r\n\r\n    JsonpMapper mapper = searchClient._transport().jsonpMapper();\r\n    try (Reader readerSettings =\r\n            new InputStreamReader(\r\n                Objects.requireNonNull(\r\n                    this.getClass()\r\n                        .getResourceAsStream(&quot;testindex-index-settings.json&quot;)));\r\n        Reader readerMappings =\r\n            new InputStreamReader(\r\n                Objects.requireNonNull(\r\n                    this.getClass()\r\n                        .getResourceAsStream(&quot;testindex-index-mappings.json&quot;)));\r\n        JsonParser settingsParser =\r\n            mapper\r\n                .jsonProvider()\r\n                .createParser(new StringReader(Streams.copyToString(readerSettings)));\r\n        JsonParser mappingsParser =\r\n            mapper\r\n                .jsonProvider()\r\n                .createParser(new StringReader(Streams.copyToString(readerMappings))); ) {\r\n\r\n      String indexName = &quot;testindex&quot;;\r\n\r\n      IndexSettings indexSettings = IndexSettings._DESERIALIZER.deserialize(settingsParser, mapper);\r\n\r\n      TypeMapping typeMapping = TypeMapping._DESERIALIZER.deserialize(mappingsParser, mapper);\r\n\r\n      CreateIndexRequest indexRequest =\r\n          new CreateIndexRequest.Builder()\r\n              .index(indexName)\r\n              .settings(indexSettings)\r\n              .mappings(typeMapping)\r\n              .build();\r\n\r\n      CreateIndexResponse indexResponse = searchClient.indices().create(indexRequest); // line 93\r\n\r\n      log.info(&quot;Index {} created with response [{}]&quot;, indexName, indexResponse.toString());\r\n    }\r\n  }\r\n}\r\n```\r\n\r\nWhen trying to create index from above code, I&#39;m getting unknown setting error:\r\n\r\n```\r\norg.opensearch.client.opensearch._types.OpenSearchException: Request failed: [illegal_argument_exception] unknown setting [index.settings.analysis.analyzer.my_synonym_analyzer.filter] please check that any required plugins are installed, or check the breaking changes documentation for removed settings\r\n\tat org.opensearch.client.transport.rest_client.RestClientTransport.getHighLevelResponse(RestClientTransport.java:273) ~[opensearch-java-2.4.0.jar:na]\r\n\tat org.opensearch.client.transport.rest_client.RestClientTransport.performRequest(RestClientTransport.java:143) ~[opensearch-java-2.4.0.jar:na]\r\n\tat org.opensearch.client.opensearch.indices.OpenSearchIndicesClient.create(OpenSearchIndicesClient.java:248) ~[opensearch-java-2.4.0.jar:na]\r\n\tat com.joinhobnob.crm.service.search.command.IndexManager.create(IndexManager.java:93) ~[main/:na]\r\n\r\n```\r\n\r\nBut while creating the index from opensearch&#39;s dashboard console, with same settings its working fine.\r\n\r\n```curl\r\ncurl -XPUT &quot;http://opensearch:9200/test_index?pretty&quot; -H &#39;Content-Type: application/json&#39; -d&#39;\r\n{\r\n  &quot;settings&quot;: {\r\n    &quot;index&quot;: {\r\n      &quot;analysis&quot;: {\r\n        &quot;analyzer&quot;: {\r\n          &quot;my_synonym_analyzer&quot;: {\r\n            &quot;type&quot;: &quot;custom&quot;,\r\n            &quot;tokenizer&quot;: &quot;whitespace&quot;,\r\n            &quot;filter&quot;: [\r\n              &quot;my_synonym_filter&quot;\r\n            ]\r\n          }\r\n        },\r\n        &quot;filter&quot;: {\r\n          &quot;my_synonym_filter&quot;: {\r\n            &quot;type&quot;: &quot;synonym_graph&quot;,\r\n            &quot;synonyms&quot;: []\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n}&#39;\r\n\r\nResponse: \r\n{\r\n  &quot;acknowledged&quot;: true,\r\n  &quot;shards_acknowledged&quot;: true,\r\n  &quot;index&quot;: &quot;test_index&quot;\r\n}\r\n```\r\n\r\nI&#39;ve gone through the given links, but have not found the solution yet.\r\n\r\nhttps://stackoverflow.com/questions/66497889/elasticsearch-error-while-mapping-unknown-setting\r\n\r\nhttps://stackoverflow.com/questions/75130106/creating-index-with-opensearch-java-client\r\n\r\nCan anyone help me find the solution?\r\n","title":"OpenSearch - Error when creating index using Java client","body":"<p>I'm trying to create index with given settings from json.</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;settings&quot;: {\n    &quot;index&quot;: {\n      &quot;analysis&quot;: {\n        &quot;analyzer&quot;: {\n          &quot;my_synonym_analyzer&quot;: {\n            &quot;type&quot;: &quot;custom&quot;,\n            &quot;tokenizer&quot;: &quot;whitespace&quot;,\n            &quot;filter&quot;: [\n              &quot;my_synonym_filter&quot;\n            ]\n          }\n        },\n        &quot;filter&quot;: {\n          &quot;my_synonym_filter&quot;: {\n            &quot;type&quot;: &quot;synonym_graph&quot;,\n            &quot;synonyms&quot;: []\n          }\n        }\n      }\n    }\n  }\n}\n\n</code></pre>\n<p>My code to create index is :</p>\n<pre class=\"lang-java prettyprint-override\"><code>\nimport jakarta.json.stream.JsonParser;\nimport java.io.IOException;\nimport java.io.InputStreamReader;\nimport java.io.Reader;\nimport java.io.StringReader;\nimport java.util.Objects;\nimport lombok.extern.slf4j.Slf4j;\nimport org.opensearch.client.json.JsonpMapper;\nimport org.opensearch.client.opensearch.OpenSearchClient;\nimport org.opensearch.client.opensearch._types.mapping.TypeMapping;\nimport org.opensearch.client.opensearch.indices.CreateIndexRequest;\nimport org.opensearch.client.opensearch.indices.CreateIndexResponse;\nimport org.opensearch.client.opensearch.indices.IndexSettings;\nimport org.opensearch.common.io.Streams;\nimport org.springframework.beans.factory.annotation.Autowired;\n\npublic class IndexManager {\n\n  @Autowired private OpenSearchClient searchClient;\n\n  protected void create() throws IOException {\n\n    if (this.indexExists()) {\n      this.delete();\n    }\n\n    JsonpMapper mapper = searchClient._transport().jsonpMapper();\n    try (Reader readerSettings =\n            new InputStreamReader(\n                Objects.requireNonNull(\n                    this.getClass()\n                        .getResourceAsStream(&quot;testindex-index-settings.json&quot;)));\n        Reader readerMappings =\n            new InputStreamReader(\n                Objects.requireNonNull(\n                    this.getClass()\n                        .getResourceAsStream(&quot;testindex-index-mappings.json&quot;)));\n        JsonParser settingsParser =\n            mapper\n                .jsonProvider()\n                .createParser(new StringReader(Streams.copyToString(readerSettings)));\n        JsonParser mappingsParser =\n            mapper\n                .jsonProvider()\n                .createParser(new StringReader(Streams.copyToString(readerMappings))); ) {\n\n      String indexName = &quot;testindex&quot;;\n\n      IndexSettings indexSettings = IndexSettings._DESERIALIZER.deserialize(settingsParser, mapper);\n\n      TypeMapping typeMapping = TypeMapping._DESERIALIZER.deserialize(mappingsParser, mapper);\n\n      CreateIndexRequest indexRequest =\n          new CreateIndexRequest.Builder()\n              .index(indexName)\n              .settings(indexSettings)\n              .mappings(typeMapping)\n              .build();\n\n      CreateIndexResponse indexResponse = searchClient.indices().create(indexRequest); // line 93\n\n      log.info(&quot;Index {} created with response [{}]&quot;, indexName, indexResponse.toString());\n    }\n  }\n}\n</code></pre>\n<p>When trying to create index from above code, I'm getting unknown setting error:</p>\n<pre><code>org.opensearch.client.opensearch._types.OpenSearchException: Request failed: [illegal_argument_exception] unknown setting [index.settings.analysis.analyzer.my_synonym_analyzer.filter] please check that any required plugins are installed, or check the breaking changes documentation for removed settings\n    at org.opensearch.client.transport.rest_client.RestClientTransport.getHighLevelResponse(RestClientTransport.java:273) ~[opensearch-java-2.4.0.jar:na]\n    at org.opensearch.client.transport.rest_client.RestClientTransport.performRequest(RestClientTransport.java:143) ~[opensearch-java-2.4.0.jar:na]\n    at org.opensearch.client.opensearch.indices.OpenSearchIndicesClient.create(OpenSearchIndicesClient.java:248) ~[opensearch-java-2.4.0.jar:na]\n    at com.joinhobnob.crm.service.search.command.IndexManager.create(IndexManager.java:93) ~[main/:na]\n\n</code></pre>\n<p>But while creating the index from opensearch's dashboard console, with same settings its working fine.</p>\n<pre><code>curl -XPUT &quot;http://opensearch:9200/test_index?pretty&quot; -H 'Content-Type: application/json' -d'\n{\n  &quot;settings&quot;: {\n    &quot;index&quot;: {\n      &quot;analysis&quot;: {\n        &quot;analyzer&quot;: {\n          &quot;my_synonym_analyzer&quot;: {\n            &quot;type&quot;: &quot;custom&quot;,\n            &quot;tokenizer&quot;: &quot;whitespace&quot;,\n            &quot;filter&quot;: [\n              &quot;my_synonym_filter&quot;\n            ]\n          }\n        },\n        &quot;filter&quot;: {\n          &quot;my_synonym_filter&quot;: {\n            &quot;type&quot;: &quot;synonym_graph&quot;,\n            &quot;synonyms&quot;: []\n          }\n        }\n      }\n    }\n  }\n}'\n\nResponse: \n{\n  &quot;acknowledged&quot;: true,\n  &quot;shards_acknowledged&quot;: true,\n  &quot;index&quot;: &quot;test_index&quot;\n}\n</code></pre>\n<p>I've gone through the given links, but have not found the solution yet.</p>\n<p><a href=\"https://stackoverflow.com/questions/66497889/elasticsearch-error-while-mapping-unknown-setting\">Elasticsearch error while mapping - unknown setting</a></p>\n<p><a href=\"https://stackoverflow.com/questions/75130106/creating-index-with-opensearch-java-client\">Creating Index with OpenSearch Java Client</a></p>\n<p>Can anyone help me find the solution?</p>\n"},{"tags":["java","spring-boot","hibernate","hql","querydsl"],"owner":{"account_id":21171317,"reputation":1,"user_id":22007441,"display_name":"Валеркович"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697737236,"creation_date":1697736936,"question_id":77325971,"body_markdown":"Good afternoon! Who use MetadataBuilderContributor to register new function in HQL? \r\nI work with Spring and QueryDSL.\r\nI want to register new function to work with json through QueryDSL.\r\n\r\n [MetadataBuilderContributor](https://i.stack.imgur.com/ARKRW.png)\r\n\r\nWhen I use it I get exception \r\nQuerySyntaxException: unexpected AST node: ( near line 3, column 20 [select file\\nfrom File file\\nwhere json_like_any(file.body,?1,?2)];\r\n\r\nI  think I have a problem with registration MetadataBuilderContributor \r\n\r\n\r\nI have tried to register through \r\n[application.yml](https://i.stack.imgur.com/28yFn.png) \r\n\r\nand through \r\n[bean creation](https://i.stack.imgur.com/dHZ0P.png) \r\n\r\nHow I use it \r\n[with QueryDSL](https://i.stack.imgur.com/Lbpps.png)\r\n\r\nMay be someone have another idea how to do it or what the reason of this problem?\r\n","title":"How register MetadataBuilderContributor in Spring Boot","body":"<p>Good afternoon! Who use MetadataBuilderContributor to register new function in HQL?\nI work with Spring and QueryDSL.\nI want to register new function to work with json through QueryDSL.</p>\n<p><a href=\"https://i.stack.imgur.com/ARKRW.png\" rel=\"nofollow noreferrer\">MetadataBuilderContributor</a></p>\n<p>When I use it I get exception\nQuerySyntaxException: unexpected AST node: ( near line 3, column 20 [select file\\nfrom File file\\nwhere json_like_any(file.body,?1,?2)];</p>\n<p>I  think I have a problem with registration MetadataBuilderContributor</p>\n<p>I have tried to register through\n<a href=\"https://i.stack.imgur.com/28yFn.png\" rel=\"nofollow noreferrer\">application.yml</a></p>\n<p>and through\n<a href=\"https://i.stack.imgur.com/dHZ0P.png\" rel=\"nofollow noreferrer\">bean creation</a></p>\n<p>How I use it\n<a href=\"https://i.stack.imgur.com/Lbpps.png\" rel=\"nofollow noreferrer\">with QueryDSL</a></p>\n<p>May be someone have another idea how to do it or what the reason of this problem?</p>\n"},{"tags":["java","selenium-webdriver","automation","serenity-bdd","cucumber-serenity"],"owner":{"account_id":29710577,"reputation":1,"user_id":22770361,"display_name":"Mudit Verma"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":15,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697737099,"creation_date":1697737099,"question_id":77325985,"body_markdown":"Is there a way to restart a fresh browser session after executing each feature files. As of now either fresh browser session is getting started after each scenario or it waiting to complete all scenarioes in each of the feature files.\r\n\r\nI have used &quot;serenity.restart.browser.for.each=feature&quot; property to handle my requirement but it does not work.\r\n\r\nMy expectation is that the browser closed after executing a feature file and start a fresh session for the next feature file.\r\n\r\n\r\n```\r\nFeature File 1:\r\n\r\nFeature: Login Functionality\r\n\r\n  As a user I want to login into the LMS\r\n\r\n\r\n\r\n  Background:\r\n\r\n    Given that the user is on login page\r\n\r\n    And username and password fields are there\r\n\r\n\r\n\r\n  Scenario Outline: Invalid Login Scenario\r\n\r\n    When I enter &lt;username&gt;\r\n\r\n    And enter &lt;password&gt;\r\n\r\n    And click on login button\r\n\r\n    Then Validate &lt;Alert&gt; message\r\n\r\n\r\n\r\n    Examples:\r\n\r\n      | username            | password   | Alert                           |\r\n\r\n      | melimu@gmail.com    | Melimu@123 | Invalid login, please try again |\r\n\r\n      | melimu001@gmail.com | Pass@123   | Invalid login, please try again |\r\n\r\n\r\n\r\n  Scenario Outline: Successful Login Scenario\r\n\r\n    When I enter &lt;username&gt;\r\n\r\n    And enter &lt;password&gt;\r\n\r\n    And click on login button\r\n\r\n    Then user should be logged in successfully\r\n\r\n\r\n\r\n    Examples:\r\n\r\n      | username            | password   |\r\n\r\n      | melimu001@gmail.com | Melimu@123 |\r\n\r\n\r\n\r\nFeature File 2:\r\n\r\nFeature: Forgot Password Functionality\r\n\r\n  Users have the option to recover their password if they forget it\r\n\r\n\r\n\r\n  Background:\r\n\r\n    Given that the user is on login page\r\n\r\n    And forgot password button is there\r\n\r\n    And user clicks on forgot password button\r\n\r\n\r\n\r\n  Scenario Outline: reset password by username\r\n\r\n    Given that the username field is there\r\n\r\n    When user enters &lt;username&gt;\r\n\r\n    And click on search button\r\n\r\n    Then user should be redirected to a new page\r\n\r\n    And the &lt;message&gt; will be validated\r\n\r\n\r\n\r\n    Examples:\r\n\r\n      | username            | message                                                                                         |\r\n\r\n      | melimu001@gmail.com | If you supplied a correct username or email address then an email should have been sent to you. |\r\n\r\n      | melimu@gmail.com    | If you supplied a correct username or email address then an email should have been sent to you. |\r\n\r\n\r\n\r\n  Scenario Outline: reset password by email\r\n\r\n    Given that the email field is there\r\n\r\n    When user enters &lt;email&gt;\r\n\r\n    And click on search button\r\n\r\n    Then user should be redirected to a new page\r\n\r\n    And the &lt;message&gt; will be validated\r\n\r\n\r\n\r\n    Examples:\r\n\r\n      | email                               | message                                                                                         |\r\n\r\n      | melimu001@team800682.testinator.com | If you supplied a correct username or email address then an email should have been sent to you. |\r\n\r\n\r\n\r\n  Scenario Outline: User resets their password with a valid reset link\r\n\r\n    Given the user has received a password reset email\r\n\r\n    When the user clicks on the password reset link in the email\r\n\r\n    Then the user should be directed to the Reset Password page\r\n\r\n    When the user enters and confirms a &lt;new password&gt;\r\n\r\n    And submits the new password\r\n\r\n    Then the user should see a &lt;success message&gt;\r\n\r\n\r\n\r\n    Examples:\r\n\r\n      | email                                    | new password | success message             |\r\n\r\n      | team800682.testinator.com@mailinator.com | Melimu@123   | Your password has been set. |\r\n\r\n\r\n\r\n\r\n\r\nFeature File 3:\r\n\r\nFeature: Create users manually\r\n\r\n  Admin will create a user account into the LMS\r\n\r\n\r\n\r\n  Scenario Outline: User redirects to create user page\r\n\r\n    Given log in as admin with &lt;username&gt; and &lt;password&gt;\r\n\r\n    And user is on the dashboard\r\n\r\n    And company management block is there\r\n\r\n    When user clicks on users tab\r\n\r\n    And click on create user\r\n\r\n    Then user is on create user page\r\n\r\n\r\n\r\n    Examples:\r\n\r\n      | username               | password   |\r\n\r\n      | mudit.verma@melimu.com | Melimu@123 |\r\n\r\n\r\n\r\n  Scenario Outline: Checking mandatory fields on create user page\r\n\r\n    When user clicks on submit button\r\n\r\n    Then there should be an &lt;alert&gt;\r\n\r\n    And verify the mandatory fields\r\n\r\n\r\n\r\n    Examples:\r\n\r\n      | alert                                           |\r\n\r\n      | There are required fields in this form marked . |\r\n\r\n\r\n\r\n  Scenario Outline: Manually creating users\r\n\r\n    When user enter &lt;first name&gt;, &lt;last name&gt;, &lt;email address&gt; and &lt;new password&gt;\r\n\r\n    And user enables Use email address as user name radio button\r\n\r\n    And disable force password change option\r\n\r\n    And select no in send temporary passwords by email drop down\r\n\r\n    And user clicks on submit and create another user button\r\n\r\n    Then verify the successfull user creation &lt;success alert&gt;\r\n\r\n\r\n\r\n    Examples:\r\n\r\n      | role    | first name | last name | email address       | new password | success alert             |\r\n\r\n      | Teacher | Test       | Teacher   | melimu005@gmail.com | Melimu@123   | User created successfully |\r\n\r\n      | Learner | Test       | Learner 1 | melimu013@gmail.com | Melimu@123   | User created successfully |\r\n\r\n      | Learner | Test       | Learner 2 | melimu018@gmail.com | Melimu@123   | User created successfully |\r\n\r\n\r\n```\r\n\r\n\r\n\r\n\r\n","title":"How to start a fresh browser session for each feature files","body":"<p>Is there a way to restart a fresh browser session after executing each feature files. As of now either fresh browser session is getting started after each scenario or it waiting to complete all scenarioes in each of the feature files.</p>\n<p>I have used &quot;serenity.restart.browser.for.each=feature&quot; property to handle my requirement but it does not work.</p>\n<p>My expectation is that the browser closed after executing a feature file and start a fresh session for the next feature file.</p>\n<pre><code>Feature File 1:\n\nFeature: Login Functionality\n\n  As a user I want to login into the LMS\n\n\n\n  Background:\n\n    Given that the user is on login page\n\n    And username and password fields are there\n\n\n\n  Scenario Outline: Invalid Login Scenario\n\n    When I enter &lt;username&gt;\n\n    And enter &lt;password&gt;\n\n    And click on login button\n\n    Then Validate &lt;Alert&gt; message\n\n\n\n    Examples:\n\n      | username            | password   | Alert                           |\n\n      | melimu@gmail.com    | Melimu@123 | Invalid login, please try again |\n\n      | melimu001@gmail.com | Pass@123   | Invalid login, please try again |\n\n\n\n  Scenario Outline: Successful Login Scenario\n\n    When I enter &lt;username&gt;\n\n    And enter &lt;password&gt;\n\n    And click on login button\n\n    Then user should be logged in successfully\n\n\n\n    Examples:\n\n      | username            | password   |\n\n      | melimu001@gmail.com | Melimu@123 |\n\n\n\nFeature File 2:\n\nFeature: Forgot Password Functionality\n\n  Users have the option to recover their password if they forget it\n\n\n\n  Background:\n\n    Given that the user is on login page\n\n    And forgot password button is there\n\n    And user clicks on forgot password button\n\n\n\n  Scenario Outline: reset password by username\n\n    Given that the username field is there\n\n    When user enters &lt;username&gt;\n\n    And click on search button\n\n    Then user should be redirected to a new page\n\n    And the &lt;message&gt; will be validated\n\n\n\n    Examples:\n\n      | username            | message                                                                                         |\n\n      | melimu001@gmail.com | If you supplied a correct username or email address then an email should have been sent to you. |\n\n      | melimu@gmail.com    | If you supplied a correct username or email address then an email should have been sent to you. |\n\n\n\n  Scenario Outline: reset password by email\n\n    Given that the email field is there\n\n    When user enters &lt;email&gt;\n\n    And click on search button\n\n    Then user should be redirected to a new page\n\n    And the &lt;message&gt; will be validated\n\n\n\n    Examples:\n\n      | email                               | message                                                                                         |\n\n      | melimu001@team800682.testinator.com | If you supplied a correct username or email address then an email should have been sent to you. |\n\n\n\n  Scenario Outline: User resets their password with a valid reset link\n\n    Given the user has received a password reset email\n\n    When the user clicks on the password reset link in the email\n\n    Then the user should be directed to the Reset Password page\n\n    When the user enters and confirms a &lt;new password&gt;\n\n    And submits the new password\n\n    Then the user should see a &lt;success message&gt;\n\n\n\n    Examples:\n\n      | email                                    | new password | success message             |\n\n      | team800682.testinator.com@mailinator.com | Melimu@123   | Your password has been set. |\n\n\n\n\n\nFeature File 3:\n\nFeature: Create users manually\n\n  Admin will create a user account into the LMS\n\n\n\n  Scenario Outline: User redirects to create user page\n\n    Given log in as admin with &lt;username&gt; and &lt;password&gt;\n\n    And user is on the dashboard\n\n    And company management block is there\n\n    When user clicks on users tab\n\n    And click on create user\n\n    Then user is on create user page\n\n\n\n    Examples:\n\n      | username               | password   |\n\n      | mudit.verma@melimu.com | Melimu@123 |\n\n\n\n  Scenario Outline: Checking mandatory fields on create user page\n\n    When user clicks on submit button\n\n    Then there should be an &lt;alert&gt;\n\n    And verify the mandatory fields\n\n\n\n    Examples:\n\n      | alert                                           |\n\n      | There are required fields in this form marked . |\n\n\n\n  Scenario Outline: Manually creating users\n\n    When user enter &lt;first name&gt;, &lt;last name&gt;, &lt;email address&gt; and &lt;new password&gt;\n\n    And user enables Use email address as user name radio button\n\n    And disable force password change option\n\n    And select no in send temporary passwords by email drop down\n\n    And user clicks on submit and create another user button\n\n    Then verify the successfull user creation &lt;success alert&gt;\n\n\n\n    Examples:\n\n      | role    | first name | last name | email address       | new password | success alert             |\n\n      | Teacher | Test       | Teacher   | melimu005@gmail.com | Melimu@123   | User created successfully |\n\n      | Learner | Test       | Learner 1 | melimu013@gmail.com | Melimu@123   | User created successfully |\n\n      | Learner | Test       | Learner 2 | melimu018@gmail.com | Melimu@123   | User created successfully |\n\n\n</code></pre>\n"},{"tags":["java","garbage-collection","g1gc"],"owner":{"account_id":29285360,"reputation":11,"user_id":22437092,"display_name":"DevF"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1697737018,"creation_date":1697737018,"question_id":77325980,"body_markdown":"So currently Im using `ManagementFactory.getGarbageCollectorMXBeans()` but the young GC in G1 only includes 2 steps that are actually STW.\r\n\r\nFrom the duration (and I might be wrong here) I gather the time reported is for the entire young GC (including the concurrent phases), can I somehow get just the STW duration?\r\n","title":"Collect the stop-the-world duration in a concurrent GC (G1)","body":"<p>So currently Im using <code>ManagementFactory.getGarbageCollectorMXBeans()</code> but the young GC in G1 only includes 2 steps that are actually STW.</p>\n<p>From the duration (and I might be wrong here) I gather the time reported is for the entire young GC (including the concurrent phases), can I somehow get just the STW duration?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1697851824,"post_id":77325948,"comment_id":136335570,"body_markdown":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a [minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example).","body":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."}],"owner":{"account_id":29710502,"reputation":1,"user_id":22770307,"display_name":"Pomendra Murkute"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697736708,"creation_date":1697736708,"question_id":77325948,"body_markdown":"ERROR: C:\\Users\\dell\\AndroidStudioProjects\\TicTacToe\\app\\src\\main\\res\\layout\\activity_main.xml:33: AAPT: error: &#39;@tools:sample/avatars&#39; is incompatible with attribute src (attr) reference|color.\r\n    \r\nERROR: C:\\Users\\dell\\AndroidStudioProjects\\TicTacToe\\app\\src\\main\\res\\layout\\activity_main.xml:61: AAPT: error: &#39;@tools:sample/avatars&#39; is incompatible with attribute src (attr) reference|color.\r\n    \r\nERROR: C:\\Users\\dell\\AndroidStudioProjects\\TicTacToe\\app\\src\\main\\res\\layout\\activity_main.xml:72: AAPT: error: &#39;@tools:sample/avatars&#39; is incompatible with attribute src (attr) reference|color.\r\n    \r\nERROR: C:\\Users\\dell\\AndroidStudioProjects\\TicTacToe\\app\\src\\main\\res\\layout\\activity_main.xml:83: AAPT: error: &#39;@tools:sample/avatars&#39; is incompatible with attribute src (attr) reference|color.\r\n    \r\nERROR: C:\\Users\\dell\\AndroidStudioProjects\\TicTacToe\\app\\src\\main\\res\\layout\\activity_main.xml:102: AAPT: error: &#39;@tools:sample/avatars&#39; is incompatible with attribute src (attr) reference|color.\r\n    \r\nERROR: C:\\Users\\dell\\AndroidStudioProjects\\TicTacToe\\app\\src\\main\\res\\layout\\activity_main.xml:113: AAPT: error: &#39;@tools:sample/avatars&#39; is incompatible with attribute src (attr) reference|color.\r\n    \r\nERROR: C:\\Users\\dell\\AndroidStudioProjects\\TicTacToe\\app\\src\\main\\res\\layout\\activity_main.xml:124: AAPT: error: &#39;@tools:sample/avatars&#39; is incompatible with attribute src (attr) reference|color.\r\n    \r\nERROR: C:\\Users\\dell\\AndroidStudioProjects\\TicTacToe\\app\\src\\main\\res\\layout\\activity_main.xml:143: AAPT: error: &#39;@tools:sample/avatars&#39; is incompatible with attribute src (attr) reference|color.\r\n    \r\nERROR: C:\\Users\\dell\\AndroidStudioProjects\\TicTacToe\\app\\src\\main\\res\\layout\\activity_main.xml:154: AAPT: error: &#39;@tools:sample/avatars&#39; is incompatible with attribute src (attr) reference|color.\r\n    \r\nERROR: C:\\Users\\dell\\AndroidStudioProjects\\TicTacToe\\app\\src\\main\\res\\layout\\activity_main.xml:165: AAPT: error: &#39;@tools:sample/avatars&#39; is incompatible with attribute src (attr) reference|color.\r\n    \r\n\r\n\r\n[enter image description here](https://i.stack.imgur.com/MondP.png)\r\nandroid studio project","title":"how to solve error problem &quot;AAPT: error: &#39;@tools:sample/avatars&#39; is incompatible with attribute src (attr) reference|color.&quot; in android studio","body":"<p>ERROR: C:\\Users\\dell\\AndroidStudioProjects\\TicTacToe\\app\\src\\main\\res\\layout\\activity_main.xml:33: AAPT: error: '@tools:sample/avatars' is incompatible with attribute src (attr) reference|color.</p>\n<p>ERROR: C:\\Users\\dell\\AndroidStudioProjects\\TicTacToe\\app\\src\\main\\res\\layout\\activity_main.xml:61: AAPT: error: '@tools:sample/avatars' is incompatible with attribute src (attr) reference|color.</p>\n<p>ERROR: C:\\Users\\dell\\AndroidStudioProjects\\TicTacToe\\app\\src\\main\\res\\layout\\activity_main.xml:72: AAPT: error: '@tools:sample/avatars' is incompatible with attribute src (attr) reference|color.</p>\n<p>ERROR: C:\\Users\\dell\\AndroidStudioProjects\\TicTacToe\\app\\src\\main\\res\\layout\\activity_main.xml:83: AAPT: error: '@tools:sample/avatars' is incompatible with attribute src (attr) reference|color.</p>\n<p>ERROR: C:\\Users\\dell\\AndroidStudioProjects\\TicTacToe\\app\\src\\main\\res\\layout\\activity_main.xml:102: AAPT: error: '@tools:sample/avatars' is incompatible with attribute src (attr) reference|color.</p>\n<p>ERROR: C:\\Users\\dell\\AndroidStudioProjects\\TicTacToe\\app\\src\\main\\res\\layout\\activity_main.xml:113: AAPT: error: '@tools:sample/avatars' is incompatible with attribute src (attr) reference|color.</p>\n<p>ERROR: C:\\Users\\dell\\AndroidStudioProjects\\TicTacToe\\app\\src\\main\\res\\layout\\activity_main.xml:124: AAPT: error: '@tools:sample/avatars' is incompatible with attribute src (attr) reference|color.</p>\n<p>ERROR: C:\\Users\\dell\\AndroidStudioProjects\\TicTacToe\\app\\src\\main\\res\\layout\\activity_main.xml:143: AAPT: error: '@tools:sample/avatars' is incompatible with attribute src (attr) reference|color.</p>\n<p>ERROR: C:\\Users\\dell\\AndroidStudioProjects\\TicTacToe\\app\\src\\main\\res\\layout\\activity_main.xml:154: AAPT: error: '@tools:sample/avatars' is incompatible with attribute src (attr) reference|color.</p>\n<p>ERROR: C:\\Users\\dell\\AndroidStudioProjects\\TicTacToe\\app\\src\\main\\res\\layout\\activity_main.xml:165: AAPT: error: '@tools:sample/avatars' is incompatible with attribute src (attr) reference|color.</p>\n<p><a href=\"https://i.stack.imgur.com/MondP.png\" rel=\"nofollow noreferrer\">enter image description here</a>\nandroid studio project</p>\n"},{"tags":["java","spring","rest","scheduled-tasks"],"answers":[{"comments":[{"owner":{"account_id":4231374,"reputation":21,"user_id":3463600,"display_name":"Rocky2014"},"score":0,"creation_date":1482786867,"post_id":41305078,"comment_id":69875244,"body_markdown":"Hi Amanuel, thank you for your answer. I&#39;ve done it with a TaskScheduler. It seems to be working. I&#39;ve set it for a few moments later. Just for the other part to have time to receive the id that I sent on the response so that I can work with it from then on. I&#39;ll see how the Async works and if it&#39;s a better approach for this case.","body":"Hi Amanuel, thank you for your answer. I&#39;ve done it with a TaskScheduler. It seems to be working. I&#39;ve set it for a few moments later. Just for the other part to have time to receive the id that I sent on the response so that I can work with it from then on. I&#39;ll see how the Async works and if it&#39;s a better approach for this case."}],"tags":[],"owner":{"account_id":3211455,"reputation":1907,"user_id":2711378,"accept_rate":94,"display_name":"Amanuel Nega"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1482764135,"creation_date":1482511681,"answer_id":41305078,"question_id":41303864,"body_markdown":"Spring supports `@Async` annotation. \r\n\r\nWhich means any call to the annotated method returns immediately.  Hence you could call the method right before you return the response from your controller. \r\n\r\nCheck [here][1] for more details.\r\n\r\nAnother way is to use AOP and create a thread that handles the after response possessing! \r\n\r\n\r\n  [1]: https://docs.spring.io/spring/docs/current/spring-framework-reference/html/scheduling.html#scheduling-annotation-support-scheduled","title":"Spring MVC after calling webservice at Rest Controller and returning xml response how can I execute other function after response sent?","body":"<p>Spring supports <code>@Async</code> annotation. </p>\n\n<p>Which means any call to the annotated method returns immediately.  Hence you could call the method right before you return the response from your controller. </p>\n\n<p>Check <a href=\"https://docs.spring.io/spring/docs/current/spring-framework-reference/html/scheduling.html#scheduling-annotation-support-scheduled\" rel=\"nofollow noreferrer\">here</a> for more details.</p>\n\n<p>Another way is to use AOP and create a thread that handles the after response possessing! </p>\n"}],"owner":{"account_id":4231374,"reputation":21,"user_id":3463600,"display_name":"Rocky2014"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":433,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1697736657,"creation_date":1482506124,"question_id":41303864,"body_markdown":"Using Spring MVC I have a webservice that receives several parameters and inserts them to the Database returning to the client the id of inserted row. How can I execute other function after the id has been sent to the client? How can I schedule a method to run after the webservice return?","title":"Spring MVC after calling webservice at Rest Controller and returning xml response how can I execute other function after response sent?","body":"<p>Using Spring MVC I have a webservice that receives several parameters and inserts them to the Database returning to the client the id of inserted row. How can I execute other function after the id has been sent to the client? How can I schedule a method to run after the webservice return?</p>\n"},{"tags":["java","android","android-layout","android-developer-api"],"comments":[{"owner":{"account_id":4943270,"reputation":245,"user_id":3979415,"display_name":"Luca Biasotto"},"score":0,"creation_date":1697642513,"post_id":75024969,"comment_id":136306357,"body_markdown":"do you find any solutions? thanks","body":"do you find any solutions? thanks"},{"owner":{"account_id":185446,"reputation":3273,"user_id":422156,"accept_rate":74,"display_name":"Craig"},"score":0,"creation_date":1697736267,"post_id":75024969,"comment_id":136320488,"body_markdown":"@LucaBiasotto sorry I left this unanswered. Posted some code and marked it as the answer.","body":"@LucaBiasotto sorry I left this unanswered. Posted some code and marked it as the answer."},{"owner":{"account_id":4943270,"reputation":245,"user_id":3979415,"display_name":"Luca Biasotto"},"score":0,"creation_date":1697825556,"post_id":75024969,"comment_id":136332949,"body_markdown":"Super, thank you @Craig!","body":"Super, thank you @Craig!"}],"answers":[{"comments":[{"owner":{"account_id":185446,"reputation":3273,"user_id":422156,"accept_rate":74,"display_name":"Craig"},"score":0,"creation_date":1673349228,"post_id":75025078,"comment_id":132473710,"body_markdown":"Yeah, but I need to do this today and have it work in previous versions (at least 12, which is where I think this showed up).","body":"Yeah, but I need to do this today and have it work in previous versions (at least 12, which is where I think this showed up)."},{"owner":{"account_id":13654747,"reputation":38532,"user_id":9851608,"display_name":"Zain"},"score":0,"creation_date":1673364120,"post_id":75025078,"comment_id":132479067,"body_markdown":"@Craig `setOnApplyWindowInsetsListener` callback should be triggered for any changes in the insets including the taskbar changes; you&#39;d need to register it during the app lifecycle","body":"@Craig <code>setOnApplyWindowInsetsListener</code> callback should be triggered for any changes in the insets including the taskbar changes; you&#39;d need to register it during the app lifecycle"}],"tags":[],"owner":{"account_id":13654747,"reputation":38532,"user_id":9851608,"display_name":"Zain"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672958112,"creation_date":1672958112,"answer_id":75025078,"question_id":75024969,"body_markdown":"[As per documentation][1], it could be handled by the current insets API.\r\n\r\n&gt; The new Taskbar is reported to applications as an Inset, even though a new inset API has not been introduced.\r\n&gt;\r\n&gt; Although the Taskbar doesn&#39;t have its own inset type, its dimension can be retrieved using WindowInsetsCompat.Type.navigationBars() or WindowInsetsCompat.Type.systemBars().\r\n\r\n\r\nTurns out they&#39;ll be introducing new insets API to handle that.\r\n\r\n\r\n\r\n\r\n  [1]: https://developer.android.com/about/versions/13/features/large-screens#dev-handle-insets","title":"How to Detect Presence and Size of Android Taskbar","body":"<p><a href=\"https://developer.android.com/about/versions/13/features/large-screens#dev-handle-insets\" rel=\"nofollow noreferrer\">As per documentation</a>, it could be handled by the current insets API.</p>\n<blockquote>\n<p>The new Taskbar is reported to applications as an Inset, even though a new inset API has not been introduced.</p>\n<p>Although the Taskbar doesn't have its own inset type, its dimension can be retrieved using WindowInsetsCompat.Type.navigationBars() or WindowInsetsCompat.Type.systemBars().</p>\n</blockquote>\n<p>Turns out they'll be introducing new insets API to handle that.</p>\n"},{"tags":[],"owner":{"account_id":185446,"reputation":3273,"user_id":422156,"accept_rate":74,"display_name":"Craig"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1697736216,"creation_date":1697736216,"answer_id":77325891,"question_id":75024969,"body_markdown":"For some reason I wasn&#39;t able to use setOnApplyWindowInsetsListener, perhaps because I haven&#39;t converted to AndroidX? I don&#39;t remember. I just know it didn&#39;t work. Here&#39;s what does work:\r\n\r\n    public int getNavBarHeight()\r\n        {\r\n        Resources resources = getResources();\r\n        int navigation_bar_height = 0;\r\n        int resourceId = resources.getIdentifier(&quot;navigation_bar_height&quot;, &quot;dimen&quot;, &quot;android&quot;);\r\n        if ( resourceId &gt; 0 )\r\n            {\r\n            navigation_bar_height = resources.getDimensionPixelSize(resourceId);\r\n            }\r\n        return navigation_bar_height;\r\n        }\r\n\r\nThen I make adjustments accordingly.","title":"How to Detect Presence and Size of Android Taskbar","body":"<p>For some reason I wasn't able to use setOnApplyWindowInsetsListener, perhaps because I haven't converted to AndroidX? I don't remember. I just know it didn't work. Here's what does work:</p>\n<pre><code>public int getNavBarHeight()\n    {\n    Resources resources = getResources();\n    int navigation_bar_height = 0;\n    int resourceId = resources.getIdentifier(&quot;navigation_bar_height&quot;, &quot;dimen&quot;, &quot;android&quot;);\n    if ( resourceId &gt; 0 )\n        {\n        navigation_bar_height = resources.getDimensionPixelSize(resourceId);\n        }\n    return navigation_bar_height;\n    }\n</code></pre>\n<p>Then I make adjustments accordingly.</p>\n"}],"owner":{"account_id":185446,"reputation":3273,"user_id":422156,"accept_rate":74,"display_name":"Craig"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":220,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":77325891,"answer_count":2,"score":2,"last_activity_date":1697736216,"creation_date":1672957222,"question_id":75024969,"body_markdown":"My app recognizes the presence of the navigation bar at the bottom of the screen and moves its own buttons up and out of the way so as not to be obscured. It also recognizes when &quot;swipe gestures&quot; have been turned on and reduces the amount of space reserved at the bottom of the screen.\r\n\r\nMy problem is that some devices have a &quot;taskbar&quot; that can appear across the bottom that is independent of the navigation bar, though it will share that bar if both are enabled at the same time. I can&#39;t figure out how to detect this taskbar and determine its height so I can adjust my layout to avoid it. Any clues?","title":"How to Detect Presence and Size of Android Taskbar","body":"<p>My app recognizes the presence of the navigation bar at the bottom of the screen and moves its own buttons up and out of the way so as not to be obscured. It also recognizes when &quot;swipe gestures&quot; have been turned on and reduces the amount of space reserved at the bottom of the screen.</p>\n<p>My problem is that some devices have a &quot;taskbar&quot; that can appear across the bottom that is independent of the navigation bar, though it will share that bar if both are enabled at the same time. I can't figure out how to detect this taskbar and determine its height so I can adjust my layout to avoid it. Any clues?</p>\n"},{"tags":["java","spring","jpa","specifications"],"answers":[{"comments":[{"owner":{"account_id":13588641,"reputation":4687,"user_id":9802634,"display_name":"danny"},"score":1,"creation_date":1697736218,"post_id":77324918,"comment_id":136320477,"body_markdown":"Sorry, I had wrong description, I mentioned ORDER BY but my problem is that GROUP BY needs id, but I don&#39;t want to include it.","body":"Sorry, I had wrong description, I mentioned ORDER BY but my problem is that GROUP BY needs id, but I don&#39;t want to include it."}],"tags":[],"owner":{"account_id":11623811,"reputation":1,"user_id":8514227,"display_name":"Daria Kriukova"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697727598,"creation_date":1697727598,"answer_id":77324918,"question_id":77324858,"body_markdown":"Probably something like this\r\n`.orderBy(cb.desc(root.get(&quot;taskNumber&quot;)), cb.desc(root.get(&quot;bokNumber&quot;)))`","title":"Exclude id from GROUP BY in Jpa Specification","body":"<p>Probably something like this\n<code>.orderBy(cb.desc(root.get(&quot;taskNumber&quot;)), cb.desc(root.get(&quot;bokNumber&quot;)))</code></p>\n"}],"owner":{"account_id":13588641,"reputation":4687,"user_id":9802634,"display_name":"danny"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1697736080,"creation_date":1697727187,"question_id":77324858,"body_markdown":"I try to use Jpa Specification to build query with Group by. It looks like this:\r\n\r\n     Specification&lt;AggregatedData&gt; spec = (Specification&lt;AggregatedData&gt;) (root, criteriaQuery, cb) -&gt; {\r\n                Predicate conditions = cb.and(\r\n                        cb.between(root.get(&quot;sendDate&quot;), beginDate, endDate),\r\n                        cb.equal(root.get(&quot;taskNumber&quot;), taskNum)\r\n                );\r\n    \r\n                criteriaQuery.multiselect(\r\n                                root.get(&quot;file&quot;),\r\n                                root.get(&quot;bok&quot;),\r\n                                root.get(&quot;taskNumber&quot;),\r\n                                root.get(&quot;documentType&quot;),\r\n                                cb.sum(root.get(&quot;to8Pages&quot;)),\r\n                                cb.sum(root.get(&quot;from9To20Pages&quot;)),\r\n                        .where(conditions)\r\n                        .groupBy(\r\n                                root.get(&quot;file&quot;),\r\n                                root.get(&quot;bok&quot;),\r\n                                root.get(&quot;taskNumber&quot;),\r\n                                root.get(&quot;documentType&quot;)\r\n                        ).orderBy(cb.desc(root.get(&quot;taskNumber&quot;)), cb.desc(root.get(&quot;bokNumber&quot;)));\r\n    \r\n                return null;\r\n            };\r\n\r\nAnd when I use it, I get the error:\r\n\r\n&gt; Caused by: org.postgresql.util.PSQLException: ERROR: column\r\n&gt; &quot;aggregated0_.id&quot; must appear in the GROUP BY clause or be used in an\r\n&gt; aggregate function\r\n\r\nDoes it mean I need to add &#39;id&#39; to my GROUP BY? What if I do not want it? How can I fix my query?\r\n\r\n","title":"Exclude id from GROUP BY in Jpa Specification","body":"<p>I try to use Jpa Specification to build query with Group by. It looks like this:</p>\n<pre><code> Specification&lt;AggregatedData&gt; spec = (Specification&lt;AggregatedData&gt;) (root, criteriaQuery, cb) -&gt; {\n            Predicate conditions = cb.and(\n                    cb.between(root.get(&quot;sendDate&quot;), beginDate, endDate),\n                    cb.equal(root.get(&quot;taskNumber&quot;), taskNum)\n            );\n\n            criteriaQuery.multiselect(\n                            root.get(&quot;file&quot;),\n                            root.get(&quot;bok&quot;),\n                            root.get(&quot;taskNumber&quot;),\n                            root.get(&quot;documentType&quot;),\n                            cb.sum(root.get(&quot;to8Pages&quot;)),\n                            cb.sum(root.get(&quot;from9To20Pages&quot;)),\n                    .where(conditions)\n                    .groupBy(\n                            root.get(&quot;file&quot;),\n                            root.get(&quot;bok&quot;),\n                            root.get(&quot;taskNumber&quot;),\n                            root.get(&quot;documentType&quot;)\n                    ).orderBy(cb.desc(root.get(&quot;taskNumber&quot;)), cb.desc(root.get(&quot;bokNumber&quot;)));\n\n            return null;\n        };\n</code></pre>\n<p>And when I use it, I get the error:</p>\n<blockquote>\n<p>Caused by: org.postgresql.util.PSQLException: ERROR: column\n&quot;aggregated0_.id&quot; must appear in the GROUP BY clause or be used in an\naggregate function</p>\n</blockquote>\n<p>Does it mean I need to add 'id' to my GROUP BY? What if I do not want it? How can I fix my query?</p>\n"},{"tags":["java","json","deserialization","json-deserialization","fasterxml"],"comments":[{"owner":{"account_id":22394789,"reputation":1382,"user_id":16606223,"display_name":"Yahor Barkouski"},"score":0,"creation_date":1697718135,"post_id":77323687,"comment_id":136316661,"body_markdown":"`fasterxml` directly doesn&#39;t support such a JSON structure, I bet your best option is a simple `replace`","body":"<code>fasterxml</code> directly doesn&#39;t support such a JSON structure, I bet your best option is a simple <code>replace</code>"},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":2,"creation_date":1697719229,"post_id":77323687,"comment_id":136316890,"body_markdown":"That’s not JSON.  It does, however, resemble the result of calling toString() on most Map implementations provided by Java SE.  Java SE does not have any convenient way to parse it.","body":"That’s not JSON.  It does, however, resemble the result of calling toString() on most Map implementations provided by Java SE.  Java SE does not have any convenient way to parse it."},{"owner":{"account_id":9494766,"reputation":147,"user_id":7058262,"display_name":"prasannajoshi"},"score":1,"creation_date":1697721584,"post_id":77323687,"comment_id":136317390,"body_markdown":"https://stackoverflow.com/questions/52695410/java-8-how-to-convert-string-to-mapstring-string","body":"<a href=\"https://stackoverflow.com/questions/52695410/java-8-how-to-convert-string-to-mapstring-string\" title=\"java 8 how to convert string to mapstring string\">stackoverflow.com/questions/52695410/&hellip;</a>"}],"answers":[{"comments":[{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":2,"creation_date":1697719116,"post_id":77323734,"comment_id":136316868,"body_markdown":"And how will that affect input like `{&quot;query&quot;=&quot;v=12356&amp;t=30&quot;}`?","body":"And how will that affect input like <code>{&quot;query&quot;=&quot;v=12356&amp;t=30&quot;}</code>?"},{"owner":{"account_id":29705941,"reputation":1,"user_id":22766775,"display_name":"Steven Linus"},"score":0,"creation_date":1697780419,"post_id":77323734,"comment_id":136325070,"body_markdown":"string.replace(&quot;\\&quot;=\\&quot;&quot;,&quot;\\&quot;:\\&quot;&quot;).\nbetter?","body":"string.replace(&quot;\\&quot;=\\&quot;&quot;,&quot;\\&quot;:\\&quot;&quot;). better?"},{"owner":{"account_id":6223812,"reputation":2460,"user_id":9512475,"display_name":"Yılmaz Durmaz"},"score":0,"creation_date":1697843814,"post_id":77323734,"comment_id":136335128,"body_markdown":"welcome, try thinking wide before answering. for example, your comment above is better than your answer. and maybe your next expression will better than that, like solving spaces problem and single-double quotes. &quot;shot first, ask later&quot; is not a good approach here.","body":"welcome, try thinking wide before answering. for example, your comment above is better than your answer. and maybe your next expression will better than that, like solving spaces problem and single-double quotes. &quot;shot first, ask later&quot; is not a good approach here."}],"tags":[],"owner":{"account_id":29705941,"reputation":1,"user_id":22766775,"display_name":"Steven Linus"},"comment_count":3,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1697718200,"creation_date":1697718200,"answer_id":77323734,"question_id":77323687,"body_markdown":"what about replace ‘=’ with ‘：’, then use JSON.parse\r\n\r\n`string.replace(&quot;=&quot;,&quot;:&quot;)`\r\n\r\n","title":"customized JSON parser with equal sign","body":"<p>what about replace ‘=’ with ‘：’, then use JSON.parse</p>\n<p><code>string.replace(&quot;=&quot;,&quot;:&quot;)</code></p>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1697731382,"creation_date":1697730568,"answer_id":77325328,"question_id":77323687,"body_markdown":"I don&#39;t think that this is a good idea ... but you *could* examine the source code of the fasterxml, find the JSON parser, and modify it to accept `=` as an alternative to `:` in the appropriate place.\r\n\r\n(I took a look at the code for myself, and it is complicated.  If I was going to go down this rabbit hole, I&#39;d investigate whether it would be feasible to switch to a simpler JSON parser.)\r\n\r\nA better idea would be to fix the software (or process) that is producing this &quot;not JSON&quot; so that it actually produces syntactically correct JSON.  The point of standard formats like JSON is to facilitate interoperable systems, software, libraries and so on.  When people generate data that doesn&#39;t conform to the standard format, it subverts that goal.  They should be told to stop ... even if they are your paying customers.  They are not doing anyone any favors.","title":"customized JSON parser with equal sign","body":"<p>I don't think that this is a good idea ... but you <em>could</em> examine the source code of the fasterxml, find the JSON parser, and modify it to accept <code>=</code> as an alternative to <code>:</code> in the appropriate place.</p>\n<p>(I took a look at the code for myself, and it is complicated.  If I was going to go down this rabbit hole, I'd investigate whether it would be feasible to switch to a simpler JSON parser.)</p>\n<p>A better idea would be to fix the software (or process) that is producing this &quot;not JSON&quot; so that it actually produces syntactically correct JSON.  The point of standard formats like JSON is to facilitate interoperable systems, software, libraries and so on.  When people generate data that doesn't conform to the standard format, it subverts that goal.  They should be told to stop ... even if they are your paying customers.  They are not doing anyone any favors.</p>\n"}],"owner":{"account_id":194307,"reputation":13348,"user_id":436559,"accept_rate":82,"display_name":"fluter"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77325328,"answer_count":2,"score":0,"last_activity_date":1697735659,"creation_date":1697717841,"question_id":77323687,"body_markdown":"I&#39;m using fasterxml java library to parse json data, some of the data is using `=` instead of `:` as the key value seperator, e.g. `{&quot;key&quot;=&quot;foo&quot;, &quot;size&quot;=123}`, is there a way to let json parser properly parser this kind of data?","title":"customized JSON parser with equal sign","body":"<p>I'm using fasterxml java library to parse json data, some of the data is using <code>=</code> instead of <code>:</code> as the key value seperator, e.g. <code>{&quot;key&quot;=&quot;foo&quot;, &quot;size&quot;=123}</code>, is there a way to let json parser properly parser this kind of data?</p>\n"},{"tags":["java","nodes","doubly-linked-list"],"comments":[{"owner":{"account_id":7142980,"reputation":323263,"user_id":5459839,"display_name":"trincot"},"score":0,"creation_date":1697727474,"post_id":77319140,"comment_id":136318687,"body_markdown":"Consider marking an answer as accepted (speaking of your previous questions).","body":"Consider marking an answer as accepted (speaking of your previous questions)."}],"answers":[{"comments":[{"owner":{"account_id":25501930,"reputation":1,"user_id":19294990,"display_name":"TylerDr16"},"score":1,"creation_date":1697916789,"post_id":77325825,"comment_id":136340478,"body_markdown":"Woah that helped a lot! Thank you for the help!. The uc and ub stuff confused me a bit if theres a better way of understanding that please let me know!.\n\nBut I tried the easiest way and it worked perfectly! Do you have any tips for a newer coder on how to thing more simply than grandly when it comes to examples like the easiset way to swap because I feel like I find myself trying to make something much more grand than it needs to be.\n\nTruly though thank you again! When im less tired im gonna re read what you said about my original code and how it works If I grasp it better Ill let you know","body":"Woah that helped a lot! Thank you for the help!. The uc and ub stuff confused me a bit if theres a better way of understanding that please let me know!.  But I tried the easiest way and it worked perfectly! Do you have any tips for a newer coder on how to thing more simply than grandly when it comes to examples like the easiset way to swap because I feel like I find myself trying to make something much more grand than it needs to be.  Truly though thank you again! When im less tired im gonna re read what you said about my original code and how it works If I grasp it better Ill let you know"},{"owner":{"account_id":11244318,"reputation":389,"user_id":8247530,"display_name":"Rifat Rubayatul Islam"},"score":0,"creation_date":1697955299,"post_id":77325825,"comment_id":136342747,"body_markdown":"@TylerDr16 I usually like to draw on a piece of parer/board while working with LinkedList or Graph. It helps a lot to visualize what I am trying to do. You can also hand simulate your algorithm to figure out how it would work. For the `uc`\\`ub` bit you can try this approach. Don&#39;t worry about the grandness. I have been there. Keep learning, keep practicing.","body":"@TylerDr16 I usually like to draw on a piece of parer/board while working with LinkedList or Graph. It helps a lot to visualize what I am trying to do. You can also hand simulate your algorithm to figure out how it would work. For the <code>uc</code>`ub` bit you can try this approach. Don&#39;t worry about the grandness. I have been there. Keep learning, keep practicing."},{"owner":{"account_id":25501930,"reputation":1,"user_id":19294990,"display_name":"TylerDr16"},"score":0,"creation_date":1698080594,"post_id":77325825,"comment_id":136357192,"body_markdown":"Got it thank you so much!! I thought I actually needed to fully switch the nodes itself didn&#39;t think I could actually just swap the elements its self. Life changing concept. YOU ARE THE GOAT! Ive been doing more visualization and it definetly helps a lot! Much more practice I need.","body":"Got it thank you so much!! I thought I actually needed to fully switch the nodes itself didn&#39;t think I could actually just swap the elements its self. Life changing concept. YOU ARE THE GOAT! Ive been doing more visualization and it definetly helps a lot! Much more practice I need."}],"tags":[],"owner":{"account_id":11244318,"reputation":389,"user_id":8247530,"display_name":"Rifat Rubayatul Islam"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697735602,"creation_date":1697735602,"answer_id":77325825,"question_id":77319140,"body_markdown":"Your problem comes from the way you are creating the updated nodes. Lets say you have this list (Sorry for the bad drawing):\r\n```\r\na &lt;--&gt; b &lt;--&gt; c &lt;--&gt; d\r\n```\r\nand you want to switch b and c. \r\n\r\nYour are creating the updated b(`ub`) by setting its `prev` and `next` to c&#39;s `prev` and `next` respectively.\r\nSimilarly, the updated c(`uc`) is created by setting its `prev` and `next` to b&#39;s `prev` and `next` respectively.\r\n```\r\n        &lt;----ub----&gt;\r\n       /            \\\r\na &lt;--&gt; b &lt;--&gt; c &lt;--&gt; d\r\n\\             /   \r\n &lt;------uc---&gt;       \r\n```\r\nNow you are trying to link the old prev and next to the new ones.\r\n\r\n```\r\n        &lt;---ub&lt;----&gt;\r\n       /            \\\r\na &lt;--- b &lt;--&gt; c --&gt; d\r\n\\             /   \r\n &lt;---&gt;uc-----&gt;       \r\n```\r\nNow, if you traverse it, you will get\r\n\r\n`a`, `uc`, `c`, `d`\r\n\r\nThis problem only occurs if the prev/next points to any node that is to be replaced. To solve this, you need to replace the old nodes with the updated nodes if any next/prev points to it. Here, is the updated code\r\n\r\n```Java\r\n    private void switchSpace(Node&lt;E&gt; firstSwitch, Node&lt;E&gt; secondSwitch){\r\n        // Creates updatedFirst node to contain the element of the second node\r\n        // Don&#39;t set the prev and next yet\r\n        Node&lt;E&gt; updatedFirst = new Node&lt;E&gt;(secondSwitch.getElement(), null, null);\r\n        // Creates updatedSecond node to contain the element of the First node\r\n        // Don&#39;t set the prev and next yet\r\n        Node&lt;E&gt; updatedSecond = new Node&lt;E&gt;(firstSwitch.getElement(), null, null);\r\n\r\n        // Find the prev and next of the old nodes. If any prev/next point to any old element that is\r\n        // about to be replaced, use the new one in its place\r\n        Node&lt;E&gt; prev1 = firstSwitch.getPrev() == secondSwitch ? updatedSecond : firstSwitch.getPrev();\r\n        Node&lt;E&gt; next1 = firstSwitch.getNext() == secondSwitch ? updatedSecond : firstSwitch.getNext();\r\n        Node&lt;E&gt; prev2 = secondSwitch.getPrev() == firstSwitch ? updatedFirst : secondSwitch.getPrev();\r\n        Node&lt;E&gt; next2 = secondSwitch.getNext() == firstSwitch ? updatedFirst : secondSwitch.getNext();\r\n\r\n        // Set the prev and next of the updated nodes\r\n        if (next2 != null) {\r\n            next2.setPrev(updatedSecond);\r\n            updatedSecond.setNext(next2);\r\n        }\r\n\r\n        if (prev2 != null) {\r\n            prev2.setNext(updatedSecond);\r\n            updatedSecond.setPrev(prev2);\r\n        }\r\n\r\n        if (next1 != null) {\r\n            next1.setPrev(updatedFirst);\r\n            updatedFirst.setNext(next1);\r\n        }\r\n\r\n        if (prev1 != null) {\r\n            prev1.setNext(updatedFirst);\r\n            updatedFirst.setPrev(prev1);\r\n        }\r\n\r\n        // Check if the head needs to be updated\r\n//        if (head == firstSwitch) {\r\n//            head = updatedFirst;\r\n//        } else if (head == secondSwitch) {\r\n//            head = updatedSecond;\r\n//        }\r\n    }\r\n```\r\nAlso, you will have to update the `head` of the list if the first node gets replaced. The last four commented out lines do that.\r\n\r\n\r\nThe easiset way to swap two nodes would be to swap just the elements. In that way you don&#39;t need to bother with other links.\r\n```java\r\n    private void switchSpace(Node&lt;E&gt; firstSwitch, Node&lt;E&gt; secondSwitch){\r\n        // Swap the elements\r\n        E temp = firstSwitch.getElement();\r\n        firstSwitch.setElement(secondSwitch.getElement());\r\n        secondSwitch.setElement(temp);\r\n    }\r\n```\r\n\r\nHope this helps.","title":"How to fix error in doubleLinkedList java code where when adjacent nodes are inputted to switch the second node is twice, removing the first node","body":"<p>Your problem comes from the way you are creating the updated nodes. Lets say you have this list (Sorry for the bad drawing):</p>\n<pre><code>a &lt;--&gt; b &lt;--&gt; c &lt;--&gt; d\n</code></pre>\n<p>and you want to switch b and c.</p>\n<p>Your are creating the updated b(<code>ub</code>) by setting its <code>prev</code> and <code>next</code> to c's <code>prev</code> and <code>next</code> respectively.\nSimilarly, the updated c(<code>uc</code>) is created by setting its <code>prev</code> and <code>next</code> to b's <code>prev</code> and <code>next</code> respectively.</p>\n<pre><code>        &lt;----ub----&gt;\n       /            \\\na &lt;--&gt; b &lt;--&gt; c &lt;--&gt; d\n\\             /   \n &lt;------uc---&gt;       \n</code></pre>\n<p>Now you are trying to link the old prev and next to the new ones.</p>\n<pre><code>        &lt;---ub&lt;----&gt;\n       /            \\\na &lt;--- b &lt;--&gt; c --&gt; d\n\\             /   \n &lt;---&gt;uc-----&gt;       \n</code></pre>\n<p>Now, if you traverse it, you will get</p>\n<p><code>a</code>, <code>uc</code>, <code>c</code>, <code>d</code></p>\n<p>This problem only occurs if the prev/next points to any node that is to be replaced. To solve this, you need to replace the old nodes with the updated nodes if any next/prev points to it. Here, is the updated code</p>\n<pre><code>    private void switchSpace(Node&lt;E&gt; firstSwitch, Node&lt;E&gt; secondSwitch){\n        // Creates updatedFirst node to contain the element of the second node\n        // Don't set the prev and next yet\n        Node&lt;E&gt; updatedFirst = new Node&lt;E&gt;(secondSwitch.getElement(), null, null);\n        // Creates updatedSecond node to contain the element of the First node\n        // Don't set the prev and next yet\n        Node&lt;E&gt; updatedSecond = new Node&lt;E&gt;(firstSwitch.getElement(), null, null);\n\n        // Find the prev and next of the old nodes. If any prev/next point to any old element that is\n        // about to be replaced, use the new one in its place\n        Node&lt;E&gt; prev1 = firstSwitch.getPrev() == secondSwitch ? updatedSecond : firstSwitch.getPrev();\n        Node&lt;E&gt; next1 = firstSwitch.getNext() == secondSwitch ? updatedSecond : firstSwitch.getNext();\n        Node&lt;E&gt; prev2 = secondSwitch.getPrev() == firstSwitch ? updatedFirst : secondSwitch.getPrev();\n        Node&lt;E&gt; next2 = secondSwitch.getNext() == firstSwitch ? updatedFirst : secondSwitch.getNext();\n\n        // Set the prev and next of the updated nodes\n        if (next2 != null) {\n            next2.setPrev(updatedSecond);\n            updatedSecond.setNext(next2);\n        }\n\n        if (prev2 != null) {\n            prev2.setNext(updatedSecond);\n            updatedSecond.setPrev(prev2);\n        }\n\n        if (next1 != null) {\n            next1.setPrev(updatedFirst);\n            updatedFirst.setNext(next1);\n        }\n\n        if (prev1 != null) {\n            prev1.setNext(updatedFirst);\n            updatedFirst.setPrev(prev1);\n        }\n\n        // Check if the head needs to be updated\n//        if (head == firstSwitch) {\n//            head = updatedFirst;\n//        } else if (head == secondSwitch) {\n//            head = updatedSecond;\n//        }\n    }\n</code></pre>\n<p>Also, you will have to update the <code>head</code> of the list if the first node gets replaced. The last four commented out lines do that.</p>\n<p>The easiset way to swap two nodes would be to swap just the elements. In that way you don't need to bother with other links.</p>\n<pre class=\"lang-java prettyprint-override\"><code>    private void switchSpace(Node&lt;E&gt; firstSwitch, Node&lt;E&gt; secondSwitch){\n        // Swap the elements\n        E temp = firstSwitch.getElement();\n        firstSwitch.setElement(secondSwitch.getElement());\n        secondSwitch.setElement(temp);\n    }\n</code></pre>\n<p>Hope this helps.</p>\n"}],"owner":{"account_id":25501930,"reputation":1,"user_id":19294990,"display_name":"TylerDr16"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1697735602,"creation_date":1697657818,"question_id":77319140,"body_markdown":"I am making a project right now to practice double linked lists and I have been working on a method in my double linked lists class which switches node locations. It works fine when trying to switch non adjacent nodes but when trying to switch adjacent nodes the error occurs for example.\r\n\r\nIf the starting list is:\r\n\r\n1. Carrot\r\n2. Candy\r\n3. Watermelon\r\n4. Bread\r\n\r\nThe output will be\r\n\r\n1. Carrot\r\n2. Watermelon\r\n3. Watermelon\r\n4. Bread\r\n\r\nIm trying to figure out the error but my knowledge is lacking there, Any help would be great I appreciate it!\r\n\r\nI tried creating a temp node to hold the original prev and next for the nodes, but that didnt work.\r\nI tried if statements which checked if the prev and next were equal and that didnt work.\r\n\r\nHere is my code\r\n\r\n    public void switchNodes(int firstSpace, int secondSpace){\r\n        \r\n        //If statement which checks isEmpty(), and if firstSpace and secondSpace is less than 0.\r\n        if(isEmpty()|| firstSpace &lt; 0 || secondSpace &lt; 0){\r\n            System.out.println(&quot;List is empty or one of spaces is entered does not have anything in it.&quot;);//If any of the previous if scenarios is met, prints a message telling the user that.\r\n        }\r\n        else{\r\n        Node&lt;E&gt; firstN = current(firstSpace); //Creates a node firstN by calling the current method and using the imported firstSpace int.\r\n        Node&lt;E&gt; secondN = current(secondSpace); //Creates a node secondN by calling the current method and using the imported secondSpace int.\r\n        \r\n        switchSpace(firstN, secondN);//Calls the switchSpace method with nodes firstN and secondN.\r\n\r\n        }  \r\n    }\r\n    \r\n      /**\r\n       *Private method which takes in two nodes and switches their positions on the list.\r\n       * Done by creating two nodes with the information imported from the switchNodes method.\r\n       * The created nodes contain the same element and the swapped prev and next.\r\n       * The nodes around the swapped nodes are then accessed and replaced to the swapped nodes address.\r\n       */\r\n      private void switchSpace(Node&lt;E&gt; firstSwitch, Node&lt;E&gt; secondSwitch){\r\n        \r\n        //Creates switchedFirst node to contain the element of the imported firstSwitch node and the addresses of the secondSwitch node.\r\n        Node&lt;E&gt; switchedFirst = new Node&lt;E&gt;(firstSwitch.getElement(), secondSwitch.getPrev(), secondSwitch.getNext());\r\n        //Creates switchedSecond node to contain the element of the imported secondSwitch node and the addresses of the firstSwitch node.\r\n        Node&lt;E&gt; switchedSecond = new Node&lt;E&gt;(secondSwitch.getElement(), firstSwitch.getPrev(), firstSwitch.getNext());\r\n        \r\n        switchedFirst.getNext().setPrev(switchedFirst);//The node after the switchedFirst nodes new position is accessed and the prev address is set to switchedFirst.\r\n        switchedFirst.getPrev().setNext(switchedFirst);//The node before the switchedFirst nodes new position is accessed and the next address is set to switchedFirst.\r\n\r\n        switchedSecond.getNext().setPrev(switchedSecond);//The node after the switchedSecond nodes new position is accessed and the prev address is set to switchedSecond.\r\n        switchedSecond.getPrev().setNext(switchedSecond);//The node before the switchedSecond nodes new position is accessed and the next address is set to switchedSecond.\r\n        \r\n      \r\n    }","title":"How to fix error in doubleLinkedList java code where when adjacent nodes are inputted to switch the second node is twice, removing the first node","body":"<p>I am making a project right now to practice double linked lists and I have been working on a method in my double linked lists class which switches node locations. It works fine when trying to switch non adjacent nodes but when trying to switch adjacent nodes the error occurs for example.</p>\n<p>If the starting list is:</p>\n<ol>\n<li>Carrot</li>\n<li>Candy</li>\n<li>Watermelon</li>\n<li>Bread</li>\n</ol>\n<p>The output will be</p>\n<ol>\n<li>Carrot</li>\n<li>Watermelon</li>\n<li>Watermelon</li>\n<li>Bread</li>\n</ol>\n<p>Im trying to figure out the error but my knowledge is lacking there, Any help would be great I appreciate it!</p>\n<p>I tried creating a temp node to hold the original prev and next for the nodes, but that didnt work.\nI tried if statements which checked if the prev and next were equal and that didnt work.</p>\n<p>Here is my code</p>\n<pre><code>public void switchNodes(int firstSpace, int secondSpace){\n    \n    //If statement which checks isEmpty(), and if firstSpace and secondSpace is less than 0.\n    if(isEmpty()|| firstSpace &lt; 0 || secondSpace &lt; 0){\n        System.out.println(&quot;List is empty or one of spaces is entered does not have anything in it.&quot;);//If any of the previous if scenarios is met, prints a message telling the user that.\n    }\n    else{\n    Node&lt;E&gt; firstN = current(firstSpace); //Creates a node firstN by calling the current method and using the imported firstSpace int.\n    Node&lt;E&gt; secondN = current(secondSpace); //Creates a node secondN by calling the current method and using the imported secondSpace int.\n    \n    switchSpace(firstN, secondN);//Calls the switchSpace method with nodes firstN and secondN.\n\n    }  \n}\n\n  /**\n   *Private method which takes in two nodes and switches their positions on the list.\n   * Done by creating two nodes with the information imported from the switchNodes method.\n   * The created nodes contain the same element and the swapped prev and next.\n   * The nodes around the swapped nodes are then accessed and replaced to the swapped nodes address.\n   */\n  private void switchSpace(Node&lt;E&gt; firstSwitch, Node&lt;E&gt; secondSwitch){\n    \n    //Creates switchedFirst node to contain the element of the imported firstSwitch node and the addresses of the secondSwitch node.\n    Node&lt;E&gt; switchedFirst = new Node&lt;E&gt;(firstSwitch.getElement(), secondSwitch.getPrev(), secondSwitch.getNext());\n    //Creates switchedSecond node to contain the element of the imported secondSwitch node and the addresses of the firstSwitch node.\n    Node&lt;E&gt; switchedSecond = new Node&lt;E&gt;(secondSwitch.getElement(), firstSwitch.getPrev(), firstSwitch.getNext());\n    \n    switchedFirst.getNext().setPrev(switchedFirst);//The node after the switchedFirst nodes new position is accessed and the prev address is set to switchedFirst.\n    switchedFirst.getPrev().setNext(switchedFirst);//The node before the switchedFirst nodes new position is accessed and the next address is set to switchedFirst.\n\n    switchedSecond.getNext().setPrev(switchedSecond);//The node after the switchedSecond nodes new position is accessed and the prev address is set to switchedSecond.\n    switchedSecond.getPrev().setNext(switchedSecond);//The node before the switchedSecond nodes new position is accessed and the next address is set to switchedSecond.\n    \n  \n}\n</code></pre>\n"},{"tags":["java","ssl","ssl-certificate","apache-camel"],"answers":[{"tags":[],"owner":{"account_id":241004,"reputation":3291,"user_id":511562,"display_name":"Willem Jiang"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1390788831,"creation_date":1390788831,"answer_id":21371960,"question_id":21317519,"body_markdown":"I think you are using [camel-http][1] component, you need to use [camel-http4][2] component instead.\r\n\r\n\r\n  [1]: http://camel.apache.org/http.html\r\n  [2]: http://camel.apache.org/http4.html","title":"Disable camel certificate validation in Camel 2.12","body":"<p>I think you are using <a href=\"http://camel.apache.org/http.html\" rel=\"nofollow\">camel-http</a> component, you need to use <a href=\"http://camel.apache.org/http4.html\" rel=\"nofollow\">camel-http4</a> component instead.</p>\n"},{"comments":[{"owner":{"account_id":14371821,"reputation":413,"user_id":10381368,"display_name":"Srikanth Janapati"},"score":0,"creation_date":1602584272,"post_id":21686299,"comment_id":113760385,"body_markdown":"how we can call this class while communicating with the router, if you have GitHub reference code, could you please share?","body":"how we can call this class while communicating with the router, if you have GitHub reference code, could you please share?"},{"owner":{"account_id":8634173,"reputation":103,"user_id":13743288,"display_name":"James"},"score":0,"creation_date":1668058884,"post_id":21686299,"comment_id":131316364,"body_markdown":"@SrikanthJanapati did you get to know how to call this from router? Please share","body":"@SrikanthJanapati did you get to know how to call this from router? Please share"}],"tags":[],"owner":{"account_id":3901507,"reputation":21,"user_id":3229256,"display_name":"user3229256"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1392060920,"creation_date":1392060920,"answer_id":21686299,"question_id":21317519,"body_markdown":"OK, I finally managed to get this to work - thanks to the many postings out there that helped with some of the detail of what I was attempting to do, particular thanks to [this posting][1]. Step by step using Camel 2.12.1 -\r\n\r\nMy secure URL behind a proxy -\r\n\r\n    https4://someURL?proxyAuthHost=proxy.company.com&amp;proxyAuthPort=8080&amp;proxyAuthScheme=http\r\n\r\nCreating the component to access the URL -\r\n\r\n    import org.apache.camel.component.http4.HttpComponent;\r\n    ...\r\n    final HttpComponent myComponent = new HttpComponent();\r\n    myComponent.setClientConnectionManager(new PoolingClientConnectionManager());\r\n    myComponent.setHttpClientConfigurer(new myHttpClientConfigurer());\r\n\r\nNote: the need to set a ClientConnectionManager only became clear when the code threw a NPE in HttpComponent at line 317 -\r\n\r\n    SchemeRegistry registry = clientConnectionManager.getSchemeRegistry();\r\n\r\n\r\n\r\n**myHttpClientConfigurer.java**\r\n\r\n     import org.apache.camel.component.http4.HttpClientConfigurer;\r\n     import org.apache.http.client.HttpClient;\r\n     ...\r\n     public class myHttpClientConfigurer implements HttpClientConfigurer {\r\n    \r\n        @Override\r\n        public void configureHttpClient(HttpClient hc) {\r\n            try {\r\n                Properties properties = loadProperties();\r\n                KeyStore trustStore = KeyStore.getInstance(&quot;JKS&quot;);\r\n                final String javaKeystoreFile = getJavaKeystoreFile(properties);\r\n                final String keystorePassword = getKeystorePassword(properties);\r\n                trustStore.load(new FileInputStream(javaKeystoreFile), keystorePassword.toCharArray());\r\n    \r\n                KeyManagerFactory keyFactory = KeyManagerFactory.getInstance(&quot;SunX509&quot;);\r\n                keyFactory.init(trustStore, keystorePassword.toCharArray());\r\n    \r\n                TrustManagerFactory trustFactory = TrustManagerFactory.getInstance(&quot;SunX509&quot;);\r\n                trustFactory.init(trustStore);\r\n    \r\n                SSLContext sslcontext = SSLContext.getInstance(&quot;TLS&quot;);\r\n                sslcontext.init(keyFactory.getKeyManagers(), trustFactory.getTrustManagers(), null);\r\n    \r\n                TrustStrategy trustStrategy = new TrustStrategy() {\r\n    \r\n                    @Override\r\n                    public boolean isTrusted(X509Certificate[] chain, String authType) throws CertificateException {\r\n                        return true;\r\n                    }\r\n                    \r\n                };\r\n    \r\n                SSLSocketFactory factory = new SSLSocketFactory(SSLSocketFactory.TLS, trustStore, keystorePassword, trustStore, null, trustStrategy, SSLSocketFactory.ALLOW_ALL_HOSTNAME_VERIFIER);\r\n    \r\n                SchemeRegistry registry = hc.getConnectionManager().getSchemeRegistry();\r\n                registry.register(new Scheme(&quot;https&quot;, 443, factory));\r\n    \r\n            catch ...\r\n     }\r\n\r\n\r\nNote that although the URL specifies &quot;https4&quot;, the **new Scheme()** is &quot;https&quot;. This seemed to be the only way I could get it to work, after stepping though the **HttpComponent** code in the debugger.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/5706166/apache-camel-http-and-ssl &quot;this posting&quot;","title":"Disable camel certificate validation in Camel 2.12","body":"<p>OK, I finally managed to get this to work - thanks to the many postings out there that helped with some of the detail of what I was attempting to do, particular thanks to <a href=\"https://stackoverflow.com/questions/5706166/apache-camel-http-and-ssl\" title=\"this posting\">this posting</a>. Step by step using Camel 2.12.1 -</p>\n\n<p>My secure URL behind a proxy -</p>\n\n<pre><code>https4://someURL?proxyAuthHost=proxy.company.com&amp;proxyAuthPort=8080&amp;proxyAuthScheme=http\n</code></pre>\n\n<p>Creating the component to access the URL -</p>\n\n<pre><code>import org.apache.camel.component.http4.HttpComponent;\n...\nfinal HttpComponent myComponent = new HttpComponent();\nmyComponent.setClientConnectionManager(new PoolingClientConnectionManager());\nmyComponent.setHttpClientConfigurer(new myHttpClientConfigurer());\n</code></pre>\n\n<p>Note: the need to set a ClientConnectionManager only became clear when the code threw a NPE in HttpComponent at line 317 -</p>\n\n<pre><code>SchemeRegistry registry = clientConnectionManager.getSchemeRegistry();\n</code></pre>\n\n<p><strong>myHttpClientConfigurer.java</strong></p>\n\n<pre><code> import org.apache.camel.component.http4.HttpClientConfigurer;\n import org.apache.http.client.HttpClient;\n ...\n public class myHttpClientConfigurer implements HttpClientConfigurer {\n\n    @Override\n    public void configureHttpClient(HttpClient hc) {\n        try {\n            Properties properties = loadProperties();\n            KeyStore trustStore = KeyStore.getInstance(\"JKS\");\n            final String javaKeystoreFile = getJavaKeystoreFile(properties);\n            final String keystorePassword = getKeystorePassword(properties);\n            trustStore.load(new FileInputStream(javaKeystoreFile), keystorePassword.toCharArray());\n\n            KeyManagerFactory keyFactory = KeyManagerFactory.getInstance(\"SunX509\");\n            keyFactory.init(trustStore, keystorePassword.toCharArray());\n\n            TrustManagerFactory trustFactory = TrustManagerFactory.getInstance(\"SunX509\");\n            trustFactory.init(trustStore);\n\n            SSLContext sslcontext = SSLContext.getInstance(\"TLS\");\n            sslcontext.init(keyFactory.getKeyManagers(), trustFactory.getTrustManagers(), null);\n\n            TrustStrategy trustStrategy = new TrustStrategy() {\n\n                @Override\n                public boolean isTrusted(X509Certificate[] chain, String authType) throws CertificateException {\n                    return true;\n                }\n\n            };\n\n            SSLSocketFactory factory = new SSLSocketFactory(SSLSocketFactory.TLS, trustStore, keystorePassword, trustStore, null, trustStrategy, SSLSocketFactory.ALLOW_ALL_HOSTNAME_VERIFIER);\n\n            SchemeRegistry registry = hc.getConnectionManager().getSchemeRegistry();\n            registry.register(new Scheme(\"https\", 443, factory));\n\n        catch ...\n }\n</code></pre>\n\n<p>Note that although the URL specifies \"https4\", the <strong>new Scheme()</strong> is \"https\". This seemed to be the only way I could get it to work, after stepping though the <strong>HttpComponent</strong> code in the debugger.</p>\n"},{"tags":[],"owner":{"account_id":9507026,"reputation":68,"user_id":7066177,"display_name":"Sergey Melnikov"},"comment_count":0,"down_vote_count":3,"up_vote_count":1,"is_accepted":false,"score":-2,"last_activity_date":1477379825,"creation_date":1477338162,"answer_id":40226275,"question_id":21317519,"body_markdown":"I have disabled validation as follows:\r\n\r\n    import org.apache.camel.CamelContext;\r\n    import org.apache.camel.builder.RouteBuilder;\r\n    import org.apache.camel.component.http4.HttpComponent;\r\n    import org.apache.camel.impl.DefaultCamelContext;\r\n    import org.apache.camel.util.jndi.JndiContext;\r\n    import org.apache.camel.util.jsse.KeyStoreParameters;\r\n    import org.apache.camel.util.jsse.SSLContextParameters;\r\n    import org.apache.camel.util.jsse.TrustManagersParameters;\r\n    import org.apache.http.conn.ssl.AllowAllHostnameVerifier;\r\n    \r\n    public class Sample {\r\n    \tpublic static void main(String args[]) throws Exception{\t \r\n    \t JndiContext jndiContext = new JndiContext();\r\n    \t jndiContext.bind(&quot;x509HostnameVerifier&quot;, new AllowAllHostnameVerifier());\r\n    \t CamelContext context = new DefaultCamelContext(jndiContext);\t\r\n         context.addRoutes(new RouteBuilder() {\r\n        \t private void configurate(){\r\n        \t    KeyStoreParameters trust_ksp = new KeyStoreParameters();\r\n        \t    trust_ksp.setResource(&quot;keystore/keystore.jks&quot;);\r\n        \t    trust_ksp.setPassword(&quot;qweqwe&quot;);\r\n        \t    TrustManagersParameters trustp = new TrustManagersParameters();\r\n        \t    trustp.setKeyStore(trust_ksp);\r\n        \t    SSLContextParameters scp = new SSLContextParameters();\r\n        \t    scp.setTrustManagers(trustp);\r\n        \t    HttpComponent httpComponent = getContext().getComponent(&quot;https4&quot;, HttpComponent.class);\r\n        \t    httpComponent.setSslContextParameters(scp);\r\n        \t }\t\t\t\r\n    \t\t\t public void configure() throws Exception {\r\n    \t\t\t\t configurate();\r\n    \t\t\t\t\t from(&quot;file://test_folder&quot;)\r\n    \t\t\t\t\t .setHeader(&quot;SOAPAction&quot;, constant(&quot;/Action&quot;))\r\n    \t\t\t\t\t .to(&quot;https4://localhost?x509HostnameVerifier=x509HostnameVerifier&amp;authUsername=user&amp;authPassword=pasword&quot;);\t\r\n    \t\t}\r\n    \t});\r\n         \r\n         context.start();\r\n         Thread.sleep(600000);\r\n         context.stop();\r\n         \r\n    \t}","title":"Disable camel certificate validation in Camel 2.12","body":"<p>I have disabled validation as follows:</p>\n\n<pre><code>import org.apache.camel.CamelContext;\nimport org.apache.camel.builder.RouteBuilder;\nimport org.apache.camel.component.http4.HttpComponent;\nimport org.apache.camel.impl.DefaultCamelContext;\nimport org.apache.camel.util.jndi.JndiContext;\nimport org.apache.camel.util.jsse.KeyStoreParameters;\nimport org.apache.camel.util.jsse.SSLContextParameters;\nimport org.apache.camel.util.jsse.TrustManagersParameters;\nimport org.apache.http.conn.ssl.AllowAllHostnameVerifier;\n\npublic class Sample {\n    public static void main(String args[]) throws Exception{     \n     JndiContext jndiContext = new JndiContext();\n     jndiContext.bind(\"x509HostnameVerifier\", new AllowAllHostnameVerifier());\n     CamelContext context = new DefaultCamelContext(jndiContext);   \n     context.addRoutes(new RouteBuilder() {\n         private void configurate(){\n            KeyStoreParameters trust_ksp = new KeyStoreParameters();\n            trust_ksp.setResource(\"keystore/keystore.jks\");\n            trust_ksp.setPassword(\"qweqwe\");\n            TrustManagersParameters trustp = new TrustManagersParameters();\n            trustp.setKeyStore(trust_ksp);\n            SSLContextParameters scp = new SSLContextParameters();\n            scp.setTrustManagers(trustp);\n            HttpComponent httpComponent = getContext().getComponent(\"https4\", HttpComponent.class);\n            httpComponent.setSslContextParameters(scp);\n         }          \n             public void configure() throws Exception {\n                 configurate();\n                     from(\"file://test_folder\")\n                     .setHeader(\"SOAPAction\", constant(\"/Action\"))\n                     .to(\"https4://localhost?x509HostnameVerifier=x509HostnameVerifier&amp;authUsername=user&amp;authPassword=pasword\");    \n        }\n    });\n\n     context.start();\n     Thread.sleep(600000);\n     context.stop();\n\n    }\n</code></pre>\n"}],"owner":{"account_id":3901507,"reputation":21,"user_id":3229256,"display_name":"user3229256"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":9159,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":3,"score":2,"last_activity_date":1697735401,"creation_date":1390505077,"question_id":21317519,"body_markdown":"I have a requirement to temporarily disable certificate validation in Camel 2.12. I am referencing a test web service that is currently supplying an invalid certificate and getting the following exception -\r\n\r\n    Exception in route: sun.security.validator.ValidatorException: PKIX path building     failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\r\n\r\nMany of the example I&#39;ve found on SO revolve around creating an HttpClientConfigurer and doing this -\r\n\r\n            SSLContext ctx = SSLContext.getInstance(&quot;SSL&quot;); \r\n            ctx.init(null, new TrustManager[] { tm }, null); \r\n\r\n            SSLSocketFactory ssf = new SSLSocketFactory(ctx, \r\n                    SSLSocketFactory.ALLOW_ALL_HOSTNAME_VERIFIER); \r\n            ClientConnectionManager ccm = client.getConnectionManager(); \r\n            SchemeRegistry sr = ccm.getSchemeRegistry(); \r\n            sr.register(new Scheme(&quot;https4&quot;, 443, ssf)); \r\n\r\nThese solutions require a version of the **configureHttpClient(HttpClient hc)** method that takes an **org.apache.http.client.HttpClient**. In my Camel version, this method takes an **org.apache.commons.httpclient.HttpClient**, and has no reference to **getConnectionManager()**.\r\n\r\nI&#39;ve tried the JVM setting **com.sun.net.ssl.checkRevocation=false**, but this has no effect.\r\n","title":"Disable camel certificate validation in Camel 2.12","body":"<p>I have a requirement to temporarily disable certificate validation in Camel 2.12. I am referencing a test web service that is currently supplying an invalid certificate and getting the following exception -</p>\n\n<pre><code>Exception in route: sun.security.validator.ValidatorException: PKIX path building     failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\n</code></pre>\n\n<p>Many of the example I've found on SO revolve around creating an HttpClientConfigurer and doing this -</p>\n\n<pre><code>        SSLContext ctx = SSLContext.getInstance(\"SSL\"); \n        ctx.init(null, new TrustManager[] { tm }, null); \n\n        SSLSocketFactory ssf = new SSLSocketFactory(ctx, \n                SSLSocketFactory.ALLOW_ALL_HOSTNAME_VERIFIER); \n        ClientConnectionManager ccm = client.getConnectionManager(); \n        SchemeRegistry sr = ccm.getSchemeRegistry(); \n        sr.register(new Scheme(\"https4\", 443, ssf)); \n</code></pre>\n\n<p>These solutions require a version of the <strong>configureHttpClient(HttpClient hc)</strong> method that takes an <strong>org.apache.http.client.HttpClient</strong>. In my Camel version, this method takes an <strong>org.apache.commons.httpclient.HttpClient</strong>, and has no reference to <strong>getConnectionManager()</strong>.</p>\n\n<p>I've tried the JVM setting <strong>com.sun.net.ssl.checkRevocation=false</strong>, but this has no effect.</p>\n"},{"tags":["java","hibernate","kotlin","spring-data-jpa"],"comments":[{"owner":{"account_id":10014547,"reputation":1156,"user_id":7406338,"display_name":"Morph21"},"score":0,"creation_date":1697801880,"post_id":77325607,"comment_id":136328681,"body_markdown":"does this solve your issue? https://stackoverflow.com/questions/2784228/optional-one-to-one-mapping-in-hibernate","body":"does this solve your issue? <a href=\"https://stackoverflow.com/questions/2784228/optional-one-to-one-mapping-in-hibernate\" title=\"optional one to one mapping in hibernate\">stackoverflow.com/questions/2784228/&hellip;</a>"}],"owner":{"account_id":3593760,"reputation":296,"user_id":2999111,"accept_rate":75,"display_name":"psyskeptic"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697734777,"creation_date":1697733233,"question_id":77325607,"body_markdown":"I have two entities\r\n\r\n```\r\n@Entity\r\nclass Parent(\r\n    @Id \r\n    val id: Long,\r\n    @OneToOne(fetch = FetchType.LAZY, optional = true)\r\n    @MapsId\r\n    @JoinColumn(name = &quot;id&quot;)\r\n    val child: Child?,\r\n}\r\n\r\n@Entity\r\nclass Child(\r\n    @Id \r\n    val id: Long,\r\n    val someBasicField: Int\r\n)\r\n```\r\nParent and Child share same Primary key.\r\n\r\nIn hibernate 5 (5.6.14.Final) this setup works fine. Its have lazy loading. And it can be null, and child may not be exist. \r\nMake attention to `optional = true`, and child declared as nullable.\r\n\r\nBut in hibernate 6 (6.2.9.Final), when you execute query with fetching child like\r\n\r\n```\r\n@EntityGraph(attributePaths = [&quot;child&quot;])\r\nfun findById(id: Long): Parent?\r\n```\r\n\r\nIf child does not exist, hibernate will throw \r\n```\r\norg.hibernate.FetchNotFoundException: Entity foo.bar.Child with identifier value `123` does not exist\r\n```\r\nwhich is actualy OK because as i mentioned earlier relation is specified as nullable and optional. Why this behaveior changed in hibernate 6? why its act like `optional=false`?\r\n\r\n*Not working workarounds:*\r\n\r\n- Solution with `@NotFound(action = IGNORE)` is not apliable, because you lose LAZY, and relation will always act as EAGER which i dont want.\r\n\r\n- If i replace `@MapsId` with `@PrimaryKeyJoinColumn` exception will not trown anymore, but againg it will loose `LAZY` fetching, and will act as `EAGER`","title":"@OneToOne Nullable (optional=true) throws FetchNotFoundException in hibernate 6","body":"<p>I have two entities</p>\n<pre><code>@Entity\nclass Parent(\n    @Id \n    val id: Long,\n    @OneToOne(fetch = FetchType.LAZY, optional = true)\n    @MapsId\n    @JoinColumn(name = &quot;id&quot;)\n    val child: Child?,\n}\n\n@Entity\nclass Child(\n    @Id \n    val id: Long,\n    val someBasicField: Int\n)\n</code></pre>\n<p>Parent and Child share same Primary key.</p>\n<p>In hibernate 5 (5.6.14.Final) this setup works fine. Its have lazy loading. And it can be null, and child may not be exist.\nMake attention to <code>optional = true</code>, and child declared as nullable.</p>\n<p>But in hibernate 6 (6.2.9.Final), when you execute query with fetching child like</p>\n<pre><code>@EntityGraph(attributePaths = [&quot;child&quot;])\nfun findById(id: Long): Parent?\n</code></pre>\n<p>If child does not exist, hibernate will throw</p>\n<pre><code>org.hibernate.FetchNotFoundException: Entity foo.bar.Child with identifier value `123` does not exist\n</code></pre>\n<p>which is actualy OK because as i mentioned earlier relation is specified as nullable and optional. Why this behaveior changed in hibernate 6? why its act like <code>optional=false</code>?</p>\n<p><em>Not working workarounds:</em></p>\n<ul>\n<li><p>Solution with <code>@NotFound(action = IGNORE)</code> is not apliable, because you lose LAZY, and relation will always act as EAGER which i dont want.</p>\n</li>\n<li><p>If i replace <code>@MapsId</code> with <code>@PrimaryKeyJoinColumn</code> exception will not trown anymore, but againg it will loose <code>LAZY</code> fetching, and will act as <code>EAGER</code></p>\n</li>\n</ul>\n"},{"tags":["java","spring","hibernate","jpa"],"answers":[{"comments":[{"owner":{"account_id":239746,"reputation":6175,"user_id":509565,"accept_rate":69,"display_name":"lrkwz"},"score":0,"creation_date":1608315846,"post_id":42285679,"comment_id":115555315,"body_markdown":"I think the explanation isn&#39;t correct: it seems to me that the problem is somehow related to `@EntityListeners()` annotation instead.","body":"I think the explanation isn&#39;t correct: it seems to me that the problem is somehow related to <code>@EntityListeners()</code> annotation instead."}],"tags":[],"owner":{"account_id":8199432,"reputation":8202,"user_id":6171211,"display_name":"Monzurul Shimul"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1487283237,"creation_date":1487283237,"answer_id":42285679,"question_id":42285023,"body_markdown":"If you look at the official doc, for the jpa entity life cycle callback annotation, you will see there is no `@Inherited` annotation there. This meta-annotation causes annotations to be inherited from superclass. As it is not in these callback method annotations, subclass will be unaware about their presence in the superclass. Exactly that is going on in your case, MyEntityListener.class is getting queueForIndex(T entity) method by inheritence as a normal method, not as a entity life cycle callback method.\r\n\r\nShowing only one as example reference:\r\nhttp://docs.oracle.com/javaee/6/api/javax/persistence/PostUpdate.html\r\n\r\n    @Target(value=METHOD)\r\n    @Retention(value=RUNTIME)\r\n    public @interface PostUpdate","title":"JPA EventListeners not working","body":"<p>If you look at the official doc, for the jpa entity life cycle callback annotation, you will see there is no <code>@Inherited</code> annotation there. This meta-annotation causes annotations to be inherited from superclass. As it is not in these callback method annotations, subclass will be unaware about their presence in the superclass. Exactly that is going on in your case, MyEntityListener.class is getting queueForIndex(T entity) method by inheritence as a normal method, not as a entity life cycle callback method.</p>\n\n<p>Showing only one as example reference:\n<a href=\"http://docs.oracle.com/javaee/6/api/javax/persistence/PostUpdate.html\" rel=\"nofollow noreferrer\">http://docs.oracle.com/javaee/6/api/javax/persistence/PostUpdate.html</a></p>\n\n<pre><code>@Target(value=METHOD)\n@Retention(value=RUNTIME)\npublic @interface PostUpdate\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4352715,"reputation":596,"user_id":3552458,"display_name":"ladorm"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697734496,"creation_date":1697734496,"answer_id":77325727,"question_id":42285023,"body_markdown":"The correct answer is that when Hibernate fetches the methods from the listener class, it uses `getDeclaredMethods()` which doesn&#39;t return inherited methods.\r\n\r\nYou can see in \r\n`org.hibernate.jpa.event.internal.CallbackDefinitionResolverLegacyImpl.resolveEntityCallbacks`\r\n\r\n```java\r\nXClass xListener = reflectionManager.toXClass( listener );\r\ncallbacksMethodNames = new ArrayList&lt;&gt;();\r\nList&lt;XMethod&gt; methods = xListener.getDeclaredMethods();\r\n```\r\n\r\nCode from hibernate-core-5.6.15","title":"JPA EventListeners not working","body":"<p>The correct answer is that when Hibernate fetches the methods from the listener class, it uses <code>getDeclaredMethods()</code> which doesn't return inherited methods.</p>\n<p>You can see in\n<code>org.hibernate.jpa.event.internal.CallbackDefinitionResolverLegacyImpl.resolveEntityCallbacks</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>XClass xListener = reflectionManager.toXClass( listener );\ncallbacksMethodNames = new ArrayList&lt;&gt;();\nList&lt;XMethod&gt; methods = xListener.getDeclaredMethods();\n</code></pre>\n<p>Code from hibernate-core-5.6.15</p>\n"}],"owner":{"account_id":189206,"reputation":6121,"user_id":428400,"accept_rate":83,"display_name":"Glenn Bech"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1382,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":42285679,"answer_count":2,"score":0,"last_activity_date":1697734496,"creation_date":1487280551,"question_id":42285023,"body_markdown":"I use Spring Boot, running with v1.5.1.RELEASE, Spring v4.3.6.RELEASE. I am trying to be a bit clever with my JPA event listeners, but it is not working; \r\n\r\nMy entity looks like this\r\n\r\n    @Entity\r\n    @EntityListeners({MyEntityListener.class})\r\n    public class Entity extends SomeOtherEntity implements SomeInterfaceForAudit {\r\n    }\r\n\r\nMy EventListener class looks like this\r\n\r\n    public class MyEntityListener extends EntityListener&lt;SchoolAdmin&gt; {\r\n    \r\n    // some other useful things in here...\r\n    \r\n    }\r\n\r\nMy &quot;cleverness&quot; is in that I have tried to &quot;generify&quot; the EntityListener like this;\r\n\r\npublic abstract class EntityListener&lt;T&gt; {\r\n\r\n \r\n\r\n       public abstract class EntityListener&lt;T&gt; {\r\n    \r\n        \tprivate Logger logger = LoggerFactory.getLogger(this.getClass());\r\n        \r\n     \t    @PostUpdate\r\n        \t@PostConstruct\r\n        \t@PostRemove\r\n        \tpublic void queueForIndex(T entity) {\r\n        \t\tlogger.info(&quot;queueForIndex &quot; + entity.toString());\r\n        \t}\r\n        }\r\n    }\r\n\r\nThere is no logging done. I have tried to create a method like this in my Entity class\r\n\r\n    @PostUpdate\r\n    public void reIndex() {\r\n    \tSystem.out.println(&quot;--- post update-- ---- -&lt;&lt;&lt;--- &quot; + entity);\r\n    } \r\n\r\nThis works. I can&#39;t see why my Generified versjon should not work? Anyone?\r\n\r\n\r\n","title":"JPA EventListeners not working","body":"<p>I use Spring Boot, running with v1.5.1.RELEASE, Spring v4.3.6.RELEASE. I am trying to be a bit clever with my JPA event listeners, but it is not working; </p>\n\n<p>My entity looks like this</p>\n\n<pre><code>@Entity\n@EntityListeners({MyEntityListener.class})\npublic class Entity extends SomeOtherEntity implements SomeInterfaceForAudit {\n}\n</code></pre>\n\n<p>My EventListener class looks like this</p>\n\n<pre><code>public class MyEntityListener extends EntityListener&lt;SchoolAdmin&gt; {\n\n// some other useful things in here...\n\n}\n</code></pre>\n\n<p>My \"cleverness\" is in that I have tried to \"generify\" the EntityListener like this;</p>\n\n<p>public abstract class EntityListener {</p>\n\n<pre><code>   public abstract class EntityListener&lt;T&gt; {\n\n        private Logger logger = LoggerFactory.getLogger(this.getClass());\n\n        @PostUpdate\n        @PostConstruct\n        @PostRemove\n        public void queueForIndex(T entity) {\n            logger.info(\"queueForIndex \" + entity.toString());\n        }\n    }\n}\n</code></pre>\n\n<p>There is no logging done. I have tried to create a method like this in my Entity class</p>\n\n<pre><code>@PostUpdate\npublic void reIndex() {\n    System.out.println(\"--- post update-- ---- -&lt;&lt;&lt;--- \" + entity);\n} \n</code></pre>\n\n<p>This works. I can't see why my Generified versjon should not work? Anyone?</p>\n"},{"tags":["java","android","android-jetpack-compose","ui-automation"],"owner":{"account_id":4346982,"reputation":21,"user_id":11317083,"display_name":"itapi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":19,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697734301,"creation_date":1697734301,"question_id":77325713,"body_markdown":"I&#39;m using the Android studio `uiautomatorviewer` feature in my work,generally I&#39;m obtaining the view&#39;s id&#39;s ,and then using the information to automate things.\r\nit&#39;s working perfect on alot of apps,but no on the compouseui apps.\r\nI know that jetpack compose ui apps does not work with the traditional xml layout file,with view&#39;s and etc.... so my question is : is there any way to get a unique identifier(maybe not id,but something else) for a view,so I can get a isolate the desired element from an app?\r\n\r\nIn the image below:Google play store app,which also built in composeui(at last in the last versions),and my goal is to get any unique identifier to the image element beside of it.\r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/q9QfJ.png","title":"uiautomatorviewer on composeUI apps","body":"<p>I'm using the Android studio <code>uiautomatorviewer</code> feature in my work,generally I'm obtaining the view's id's ,and then using the information to automate things.\nit's working perfect on alot of apps,but no on the compouseui apps.\nI know that jetpack compose ui apps does not work with the traditional xml layout file,with view's and etc.... so my question is : is there any way to get a unique identifier(maybe not id,but something else) for a view,so I can get a isolate the desired element from an app?</p>\n<p>In the image below:Google play store app,which also built in composeui(at last in the last versions),and my goal is to get any unique identifier to the image element beside of it.</p>\n<p><a href=\"https://i.stack.imgur.com/q9QfJ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/q9QfJ.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","spring-boot","junit","mockito","junit5"],"answers":[{"tags":[],"owner":{"account_id":9641278,"reputation":1707,"user_id":7155432,"display_name":"VaibS"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1655827003,"creation_date":1655827003,"answer_id":72703848,"question_id":72703761,"body_markdown":"The solution is to use ```Nested``` class in JUnit5. I removed ```OutputCaptureExtension``` from root class and added that on top of ```Nested``` class and it worked fine.\r\n\r\n```\r\n@ExtendWith(MockitoExtension.class)\r\nclass SampleTest {\r\n\r\n    // Few Mocks and InjectMock\r\n\r\n    @ParameterizedTest\r\n    @CsvSource({&quot;foo,hi-foo&quot;, &quot;bar,hi-bar&quot;})\r\n    void someTest(String input, String output) {\r\n        assertEquals(output, &quot;hi-&quot; + input);\r\n    }\r\n\r\n    @Nested\r\n    @ExtendWith(OutputCaptureExtension.class)\r\n    class NestedTest {\r\n        @Test\r\n        void anotherTest(CapturedOutput capturedOutput) {\r\n            assertFalse(capturedOutput.getAll().contains(&quot;Checking some logs&quot;));\r\n        }\r\n\r\n        @Test\r\n        void lastTest(CapturedOutput capturedOutput) {\r\n            assertFalse(capturedOutput.getAll().contains(&quot;Again checking some logs&quot;));\r\n        }\r\n    }\r\n}\r\n```","title":"OutputCaptureExtension and ParameterizedTest not working together","body":"<p>The solution is to use <code>Nested</code> class in JUnit5. I removed <code>OutputCaptureExtension</code> from root class and added that on top of <code>Nested</code> class and it worked fine.</p>\n<pre><code>@ExtendWith(MockitoExtension.class)\nclass SampleTest {\n\n    // Few Mocks and InjectMock\n\n    @ParameterizedTest\n    @CsvSource({&quot;foo,hi-foo&quot;, &quot;bar,hi-bar&quot;})\n    void someTest(String input, String output) {\n        assertEquals(output, &quot;hi-&quot; + input);\n    }\n\n    @Nested\n    @ExtendWith(OutputCaptureExtension.class)\n    class NestedTest {\n        @Test\n        void anotherTest(CapturedOutput capturedOutput) {\n            assertFalse(capturedOutput.getAll().contains(&quot;Checking some logs&quot;));\n        }\n\n        @Test\n        void lastTest(CapturedOutput capturedOutput) {\n            assertFalse(capturedOutput.getAll().contains(&quot;Again checking some logs&quot;));\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1628102,"reputation":3602,"user_id":1503163,"display_name":"Sanjay Bharwani"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697733626,"creation_date":1697733626,"answer_id":77325646,"question_id":72703761,"body_markdown":"I had similar issue and interesting fix.\r\n\r\nI was writing one Unit test which should have the CapturedOutput to assert on logs, and also work with @CsvSource.\r\nMy test looked like below\r\n\r\n\r\n    @ExtendWith({OutputCaptureExtension.class, MockitoExtension.class})\r\n    class SampleTest {\r\n    \r\n    \r\n        @ParameterizedTest\r\n        @CsvSource({&quot;foo,hi-foo&quot;, &quot;bar,hi-bar&quot;})\r\n        void someTest(final CapturedOutput output, final String input, final String output) {\r\n            assertEquals(output, &quot;hi-&quot; + input);\r\n            assert(output).contains(&quot;expected logs&quot;)\r\n        }\r\n\r\nHowever when I ran the unit test, I got below error.\r\n\r\n    Discovered multiple competing ParameterResolvers for parameter [final org.springframework.boot.test.system.CapturedOutput output] \r\n\r\n    org.junit.jupiter.api.extension.ParameterResolutionException: Discovered multiple competing ParameterResolvers for parameter [final org.springframework.boot.test.system.CapturedOutput output]\r\n\r\nAfter banging my head for few minutes, tried reordering the parameters and it worked like a charm.\r\n\r\n   \r\n     @ParameterizedTest\r\n        @CsvSource({&quot;foo,hi-foo&quot;, &quot;bar,hi-bar&quot;})\r\n        void someTest(final String input, final String output,final CapturedOutput output) {\r\n            assertEquals(output, &quot;hi-&quot; + input);\r\n            assert(output).contains(&quot;expected logs&quot;)\r\n        }\r\n\r\nSo, the learning here is, parameters for CSVSource should be provided first and CapturedOutput should be the last.","title":"OutputCaptureExtension and ParameterizedTest not working together","body":"<p>I had similar issue and interesting fix.</p>\n<p>I was writing one Unit test which should have the CapturedOutput to assert on logs, and also work with @CsvSource.\nMy test looked like below</p>\n<pre><code>@ExtendWith({OutputCaptureExtension.class, MockitoExtension.class})\nclass SampleTest {\n\n\n    @ParameterizedTest\n    @CsvSource({&quot;foo,hi-foo&quot;, &quot;bar,hi-bar&quot;})\n    void someTest(final CapturedOutput output, final String input, final String output) {\n        assertEquals(output, &quot;hi-&quot; + input);\n        assert(output).contains(&quot;expected logs&quot;)\n    }\n</code></pre>\n<p>However when I ran the unit test, I got below error.</p>\n<pre><code>Discovered multiple competing ParameterResolvers for parameter [final org.springframework.boot.test.system.CapturedOutput output] \n\norg.junit.jupiter.api.extension.ParameterResolutionException: Discovered multiple competing ParameterResolvers for parameter [final org.springframework.boot.test.system.CapturedOutput output]\n</code></pre>\n<p>After banging my head for few minutes, tried reordering the parameters and it worked like a charm.</p>\n<pre><code> @ParameterizedTest\n    @CsvSource({&quot;foo,hi-foo&quot;, &quot;bar,hi-bar&quot;})\n    void someTest(final String input, final String output,final CapturedOutput output) {\n        assertEquals(output, &quot;hi-&quot; + input);\n        assert(output).contains(&quot;expected logs&quot;)\n    }\n</code></pre>\n<p>So, the learning here is, parameters for CSVSource should be provided first and CapturedOutput should be the last.</p>\n"}],"owner":{"account_id":9641278,"reputation":1707,"user_id":7155432,"display_name":"VaibS"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1390,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1697733626,"creation_date":1655826672,"question_id":72703761,"body_markdown":"I&#39;ve a test class having one ```ParameterizedTest``` with ```CsvSource``` and other tests using ```CapturedOutput```. They run fine individually but fail randomly with ```NoSuchElementException``` when run together.\r\nFollowing is the sample code:\r\n\r\n```\r\n@ExtendWith({MockitoExtension.class, OutputCaptureExtension.class})\r\nclass SampleTest {\r\n\r\n    // Few Mocks and InjectMock\r\n\r\n    @ParameterizedTest\r\n    @CsvSource({&quot;foo,hi-foo&quot;, &quot;bar,hi-bar&quot;})\r\n    void someTest(String input, String output) {\r\n        assertEquals(output, &quot;hi-&quot; + input);\r\n    }\r\n\r\n    @Test\r\n    void anotherTest(CapturedOutput capturedOutput) {\r\n        assertFalse(capturedOutput.getAll().contains(&quot;Checking some logs&quot;));\r\n    }\r\n\r\n    @Test\r\n    void lastTest(CapturedOutput capturedOutput) {\r\n        assertFalse(capturedOutput.getAll().contains(&quot;Again checking some logs&quot;));\r\n    }\r\n}\r\n```\r\n\r\nAny idea on how to resolve this issues?\r\n\r\nPS: I can&#39;t create another test file.","title":"OutputCaptureExtension and ParameterizedTest not working together","body":"<p>I've a test class having one <code>ParameterizedTest</code> with <code>CsvSource</code> and other tests using <code>CapturedOutput</code>. They run fine individually but fail randomly with <code>NoSuchElementException</code> when run together.\nFollowing is the sample code:</p>\n<pre><code>@ExtendWith({MockitoExtension.class, OutputCaptureExtension.class})\nclass SampleTest {\n\n    // Few Mocks and InjectMock\n\n    @ParameterizedTest\n    @CsvSource({&quot;foo,hi-foo&quot;, &quot;bar,hi-bar&quot;})\n    void someTest(String input, String output) {\n        assertEquals(output, &quot;hi-&quot; + input);\n    }\n\n    @Test\n    void anotherTest(CapturedOutput capturedOutput) {\n        assertFalse(capturedOutput.getAll().contains(&quot;Checking some logs&quot;));\n    }\n\n    @Test\n    void lastTest(CapturedOutput capturedOutput) {\n        assertFalse(capturedOutput.getAll().contains(&quot;Again checking some logs&quot;));\n    }\n}\n</code></pre>\n<p>Any idea on how to resolve this issues?</p>\n<p>PS: I can't create another test file.</p>\n"},{"tags":["java","spring","kubernetes","datadog","kubernetes-pvc"],"comments":[{"owner":{"account_id":13863020,"reputation":137043,"user_id":10008173,"display_name":"David Maze"},"score":0,"creation_date":1697045835,"post_id":77275024,"comment_id":136231294,"body_markdown":"That doesn&#39;t seem like it&#39;s information that the application could have access to, even using paths like the downward API.  It also depends heavily on the &quot;kind&quot; of the volume; what value would you expect to be logged for a `local` volume, vs. an NFS store, vs. something like an EBS volume?","body":"That doesn&#39;t seem like it&#39;s information that the application could have access to, even using paths like the downward API.  It also depends heavily on the &quot;kind&quot; of the volume; what value would you expect to be logged for a <code>local</code> volume, vs. an NFS store, vs. something like an EBS volume?"},{"owner":{"account_id":10052937,"reputation":825,"user_id":7432133,"accept_rate":83,"display_name":"Tahjid Ashfaque"},"score":0,"creation_date":1697046253,"post_id":77275024,"comment_id":136231371,"body_markdown":"Our application is run internally and all volumes are of the same kind. We want to filter and check all logs for a specific server in datadog if that makes sense. We have a custom wrapper on logback json logger, so In case of local volumes or volumes without a server, we can have an empty string.","body":"Our application is run internally and all volumes are of the same kind. We want to filter and check all logs for a specific server in datadog if that makes sense. We have a custom wrapper on logback json logger, so In case of local volumes or volumes without a server, we can have an empty string."}],"answers":[{"tags":[],"owner":{"account_id":47823,"reputation":5658,"user_id":141789,"accept_rate":95,"display_name":"Karl"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1697733282,"creation_date":1697048924,"answer_id":77275567,"question_id":77275024,"body_markdown":"Are you able to get this information via the kubernetes API? For example, if you use the `kubectl` cli and call `kubectl get pvc my-pvc -o yaml`, is the information you need available there? If so, one way of doing it might be to query the API directly inside your application (or even from a sidecar or initContainer on the same pod). See also https://kubernetes.io/docs/tasks/run-application/access-api-from-pod/","title":"Get Persistent Volume Source from inside Java Application","body":"<p>Are you able to get this information via the kubernetes API? For example, if you use the <code>kubectl</code> cli and call <code>kubectl get pvc my-pvc -o yaml</code>, is the information you need available there? If so, one way of doing it might be to query the API directly inside your application (or even from a sidecar or initContainer on the same pod). See also <a href=\"https://kubernetes.io/docs/tasks/run-application/access-api-from-pod/\" rel=\"nofollow noreferrer\">https://kubernetes.io/docs/tasks/run-application/access-api-from-pod/</a></p>\n"}],"owner":{"account_id":10052937,"reputation":825,"user_id":7432133,"accept_rate":83,"display_name":"Tahjid Ashfaque"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77275567,"answer_count":1,"score":0,"last_activity_date":1697733282,"creation_date":1697043621,"question_id":77275024,"body_markdown":"I have a java application that is deployed in a kubernetes cluster and logs to DataDog.We want to add a custom attribute to our logs, which is the server host of the PV/PVCs it&#39;s reading data from. Is that possible from inside the java code? Please feel free to ask for any more information you might need.\r\nThank you\r\n","title":"Get Persistent Volume Source from inside Java Application","body":"<p>I have a java application that is deployed in a kubernetes cluster and logs to DataDog.We want to add a custom attribute to our logs, which is the server host of the PV/PVCs it's reading data from. Is that possible from inside the java code? Please feel free to ask for any more information you might need.\nThank you</p>\n"},{"tags":["java","jpa","spring-data-jpa"],"comments":[{"owner":{"account_id":1066298,"reputation":3742,"user_id":1066779,"accept_rate":89,"display_name":"Abhishek Nayak"},"score":3,"creation_date":1393313412,"post_id":22007341,"comment_id":33356333,"body_markdown":"see this http://stackoverflow.com/questions/12618489/jpa-criteria-api-select-only-specific-columns","body":"see this <a href=\"http://stackoverflow.com/questions/12618489/jpa-criteria-api-select-only-specific-columns\" title=\"jpa criteria api select only specific columns\">stackoverflow.com/questions/12618489/&hellip;</a>"},{"owner":{"account_id":2116093,"reputation":1547,"user_id":1880376,"accept_rate":50,"display_name":"Desorder"},"score":1,"creation_date":1410773424,"post_id":22007341,"comment_id":40437106,"body_markdown":"The idea behind JPA not looking for specific fields is that is cost (efficiency wise) the same to bring one column or all columns from one row of the table.","body":"The idea behind JPA not looking for specific fields is that is cost (efficiency wise) the same to bring one column or all columns from one row of the table."},{"owner":{"account_id":2899822,"reputation":3354,"user_id":2486805,"accept_rate":50,"display_name":"jm0"},"score":14,"creation_date":1426193992,"post_id":22007341,"comment_id":46283903,"body_markdown":"@Desorder -- the cost is not always the same. It&#39;s probably not a big deal for simpler, primitive sort of datatypes but the reason I ended up on this page is because I noticed a simple &quot;list documents&quot; query was running slow. That entity has a BLOB column (needs it for file upload/storage) &amp; I suspect it is slow because it is loading the BLOBs into memory even though they&#39;re not required for listing the docs.","body":"@Desorder -- the cost is not always the same. It&#39;s probably not a big deal for simpler, primitive sort of datatypes but the reason I ended up on this page is because I noticed a simple &quot;list documents&quot; query was running slow. That entity has a BLOB column (needs it for file upload/storage) &amp; I suspect it is slow because it is loading the BLOBs into memory even though they&#39;re not required for listing the docs."},{"owner":{"account_id":2116093,"reputation":1547,"user_id":1880376,"accept_rate":50,"display_name":"Desorder"},"score":0,"creation_date":1426320367,"post_id":22007341,"comment_id":46332264,"body_markdown":"@jm0 As far as you remember, how many tables had BLOB columns?","body":"@jm0 As far as you remember, how many tables had BLOB columns?"},{"owner":{"account_id":2899822,"reputation":3354,"user_id":2486805,"accept_rate":50,"display_name":"jm0"},"score":1,"creation_date":1426469180,"post_id":22007341,"comment_id":46372031,"body_markdown":"@Desorder it was just one table but I was doing a &quot;list&quot; function (multirow -- list all docs created by a given id). The only reason I noticed this issue was because this simple list query was taking several seconds, whereas more complex queries on other tables were happening almost instantly. Once I realized, I knew it would suffer more and more as rows are added because Spring JPA is loading every BLOB into memory even tho they are not used. I found a decent solution for Spring data (posted below) but I think I have an even better one that is pure JPA annotation, I will post tmrw if it works","body":"@Desorder it was just one table but I was doing a &quot;list&quot; function (multirow -- list all docs created by a given id). The only reason I noticed this issue was because this simple list query was taking several seconds, whereas more complex queries on other tables were happening almost instantly. Once I realized, I knew it would suffer more and more as rows are added because Spring JPA is loading every BLOB into memory even tho they are not used. I found a decent solution for Spring data (posted below) but I think I have an even better one that is pure JPA annotation, I will post tmrw if it works"},{"owner":{"account_id":4280750,"reputation":1855,"user_id":3500196,"display_name":"Shivang Agarwal"},"score":0,"creation_date":1639341516,"post_id":22007341,"comment_id":124318481,"body_markdown":"Spring Data Projection is the solution. Ref: https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#projections","body":"Spring Data Projection is the solution. Ref: <a href=\"https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#projections\" rel=\"nofollow noreferrer\">docs.spring.io/spring-data/jpa/docs/current/reference/html/&hellip;</a>"},{"owner":{"account_id":4215498,"reputation":1219,"user_id":3451846,"display_name":"Valerio Bozz"},"score":0,"creation_date":1685111177,"post_id":22007341,"comment_id":134620273,"body_markdown":"To people saying that selecting specific values has no sense: indeed selecting specific entries has much sense, for example whenever the user is doing something like SELECT MAX(something) or SELECT AVG(something). So, indeed it&#39;s a problem if it&#39;s not so intuitive to do so from JPA, and so indeed the question is useful. Thanks for reporting this question.","body":"To people saying that selecting specific values has no sense: indeed selecting specific entries has much sense, for example whenever the user is doing something like SELECT MAX(something) or SELECT AVG(something). So, indeed it&#39;s a problem if it&#39;s not so intuitive to do so from JPA, and so indeed the question is useful. Thanks for reporting this question."}],"answers":[{"tags":[],"owner":{"account_id":2028728,"reputation":1807,"user_id":1813047,"accept_rate":75,"display_name":"Henrik"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1393313948,"creation_date":1393313948,"answer_id":22007585,"question_id":22007341,"body_markdown":"You can use JPQL: \r\n\r\n    TypedQuery &lt;Object[]&gt; query = em.createQuery(\r\n      &quot;SELECT p.projectId, p.projectName FROM projects AS p&quot;, Object[].class);\r\n\r\n    List&lt;Object[]&gt; results = query.getResultList();\r\n\r\n\r\nor you can use native sql query.\r\n\r\n    Query query = em.createNativeQuery(&quot;sql statement&quot;);\r\n    List&lt;Object[]&gt; results = query.getResultList();\r\n\r\n","title":"Spring JPA selecting specific columns","body":"<p>You can use JPQL: </p>\n\n<pre><code>TypedQuery &lt;Object[]&gt; query = em.createQuery(\n  \"SELECT p.projectId, p.projectName FROM projects AS p\", Object[].class);\n\nList&lt;Object[]&gt; results = query.getResultList();\n</code></pre>\n\n<p>or you can use native sql query.</p>\n\n<pre><code>Query query = em.createNativeQuery(\"sql statement\");\nList&lt;Object[]&gt; results = query.getResultList();\n</code></pre>\n"},{"comments":[{"owner":{"account_id":4667026,"reputation":10199,"user_id":3779853,"accept_rate":85,"display_name":"phil294"},"score":14,"creation_date":1485635200,"post_id":22007664,"comment_id":71010268,"body_markdown":"no need for native queries. You should avoid using them, for they ruin the advantages of JPQL. see Atals answer.","body":"no need for native queries. You should avoid using them, for they ruin the advantages of JPQL. see Atals answer."},{"owner":{"account_id":4973546,"reputation":28167,"user_id":4009451,"accept_rate":87,"display_name":"smeeb"},"score":1,"creation_date":1492462650,"post_id":22007664,"comment_id":73974953,"body_markdown":"For me I had to qualify the first attribute (above `FIND_PROJECTS`) with the `value` attribute name (hence if this was my code I would have had to write it as `@Query(value = FIND_PROJECTS, nativeQuery = true)`, etc.","body":"For me I had to qualify the first attribute (above <code>FIND_PROJECTS</code>) with the <code>value</code> attribute name (hence if this was my code I would have had to write it as <code>@Query(value = FIND_PROJECTS, nativeQuery = true)</code>, etc."}],"tags":[],"owner":{"account_id":404199,"reputation":5595,"user_id":772385,"accept_rate":100,"display_name":"Durandal"},"comment_count":2,"down_vote_count":7,"up_vote_count":111,"is_accepted":true,"score":104,"last_activity_date":1492626857,"creation_date":1393314214,"answer_id":22007664,"question_id":22007341,"body_markdown":"You can set `nativeQuery = true` in the `@Query` annotation from a `Repository` class like this:\r\n\r\n    public static final String FIND_PROJECTS = &quot;SELECT projectId, projectName FROM projects&quot;;\r\n    \r\n    @Query(value = FIND_PROJECTS, nativeQuery = true)\r\n    public List&lt;Object[]&gt; findProjects();\r\n\r\nNote that you will have to do the mapping yourself though. It&#39;s probably easier to just use the regular mapped lookup like this unless you really only need those two values:\r\n\r\n    public List&lt;Project&gt; findAll()\r\n\r\nIt&#39;s probably worth looking at the Spring data [docs][1] as well.\r\n\r\n\r\n  [1]: http://docs.spring.io/spring-data/jpa/docs/current/reference/html/#jpa.query-methods.at-query","title":"Spring JPA selecting specific columns","body":"<p>You can set <code>nativeQuery = true</code> in the <code>@Query</code> annotation from a <code>Repository</code> class like this:</p>\n\n<pre><code>public static final String FIND_PROJECTS = \"SELECT projectId, projectName FROM projects\";\n\n@Query(value = FIND_PROJECTS, nativeQuery = true)\npublic List&lt;Object[]&gt; findProjects();\n</code></pre>\n\n<p>Note that you will have to do the mapping yourself though. It's probably easier to just use the regular mapped lookup like this unless you really only need those two values:</p>\n\n<pre><code>public List&lt;Project&gt; findAll()\n</code></pre>\n\n<p>It's probably worth looking at the Spring data <a href=\"http://docs.spring.io/spring-data/jpa/docs/current/reference/html/#jpa.query-methods.at-query\" rel=\"noreferrer\">docs</a> as well.</p>\n"},{"tags":[],"owner":{"account_id":3252269,"reputation":341,"user_id":3596537,"display_name":"kszosze"},"comment_count":0,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1410770971,"creation_date":1410770971,"answer_id":25844097,"question_id":22007341,"body_markdown":"I guess the easy way may be is using [QueryDSL](http://www.querydsl.com/static/querydsl/3.4.2/reference/html/ch03s02.html), that comes with the Spring-Data.\r\n\r\nUsing to your question the answer can be\r\n\r\n    JPAQuery query = new JPAQuery(entityManager);\r\n    List&lt;Tuple&gt; result = query.from(projects).list(project.projectId, project.projectName);\r\n    for (Tuple row : result) {\r\n     System.out.println(&quot;project ID &quot; + row.get(project.projectId));\r\n     System.out.println(&quot;project Name &quot; + row.get(project.projectName)); \r\n    }}\r\nThe entity manager can be Autowired and you always will work with object and clases without use *QL language.\r\n\r\nAs you can see in the link the last choice seems, almost for me, more elegant, that is, using DTO for store the result. Apply to your example that will be:\r\n\r\n    JPAQuery query = new JPAQuery(entityManager);\r\n    QProject project = QProject.project;\r\n    List&lt;ProjectDTO&gt; dtos = query.from(project).list(new QProjectDTO(project.projectId, project.projectName));\r\n\r\nDefining ProjectDTO as:\r\n\r\n    class ProjectDTO {\r\n\r\n     private long id;\r\n     private String name;\r\n     @QueryProjection\r\n     public ProjectDTO(long projectId, String projectName){\r\n       this.id = projectId;\r\n       this.name = projectName;\r\n     }\r\n     public String getProjectId(){ ... }\r\n     public String getProjectName(){....}\r\n    }\r\n    \r\n\r\n","title":"Spring JPA selecting specific columns","body":"<p>I guess the easy way may be is using <a href=\"http://www.querydsl.com/static/querydsl/3.4.2/reference/html/ch03s02.html\" rel=\"noreferrer\">QueryDSL</a>, that comes with the Spring-Data.</p>\n\n<p>Using to your question the answer can be</p>\n\n<pre><code>JPAQuery query = new JPAQuery(entityManager);\nList&lt;Tuple&gt; result = query.from(projects).list(project.projectId, project.projectName);\nfor (Tuple row : result) {\n System.out.println(\"project ID \" + row.get(project.projectId));\n System.out.println(\"project Name \" + row.get(project.projectName)); \n}}\n</code></pre>\n\n<p>The entity manager can be Autowired and you always will work with object and clases without use *QL language.</p>\n\n<p>As you can see in the link the last choice seems, almost for me, more elegant, that is, using DTO for store the result. Apply to your example that will be:</p>\n\n<pre><code>JPAQuery query = new JPAQuery(entityManager);\nQProject project = QProject.project;\nList&lt;ProjectDTO&gt; dtos = query.from(project).list(new QProjectDTO(project.projectId, project.projectName));\n</code></pre>\n\n<p>Defining ProjectDTO as:</p>\n\n<pre><code>class ProjectDTO {\n\n private long id;\n private String name;\n @QueryProjection\n public ProjectDTO(long projectId, String projectName){\n   this.id = projectId;\n   this.name = projectName;\n }\n public String getProjectId(){ ... }\n public String getProjectName(){....}\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2899822,"reputation":3354,"user_id":2486805,"accept_rate":50,"display_name":"jm0"},"score":19,"creation_date":1429800036,"post_id":29020641,"comment_id":47779738,"body_markdown":"(and btw I verified, you don&#39;t need to provide the fully qualified classname if &quot;Document&quot; is imported -- just had it that way because that&#39;s how it was done in the only sample I was able to find)","body":"(and btw I verified, you don&#39;t need to provide the fully qualified classname if &quot;Document&quot; is imported -- just had it that way because that&#39;s how it was done in the only sample I was able to find)"},{"owner":{"account_id":5101035,"reputation":1027,"user_id":4090651,"display_name":"Yonatan Wilkof"},"score":0,"creation_date":1469189619,"post_id":29020641,"comment_id":64446568,"body_markdown":"this should be the accepted answer. It works perfectly and really selects only the necessary fields.","body":"this should be the accepted answer. It works perfectly and really selects only the necessary fields."},{"owner":{"account_id":4996302,"reputation":13666,"user_id":4016786,"accept_rate":50,"display_name":"gabbler"},"score":1,"creation_date":1479719391,"post_id":29020641,"comment_id":68659960,"body_markdown":"The unnecessary fields are also included, but with the value &#39;null&#39;, would those fields occupy memory?","body":"The unnecessary fields are also included, but with the value &#39;null&#39;, would those fields occupy memory?"},{"owner":{"account_id":2899822,"reputation":3354,"user_id":2486805,"accept_rate":50,"display_name":"jm0"},"score":0,"creation_date":1479740915,"post_id":29020641,"comment_id":68673633,"body_markdown":"yes but so minimal that in vast majority of cases it would be really ridiculous to try to engineer around this -- http://stackoverflow.com/questions/2430655/java-does-null-variable-require-space-in-memory you&#39;d have to make specialized lightweight objects without these fields &amp; have them point to same table? which IMO is undesired when using ORMs and leveraging them for their relationships... hyper-optimization is maybe more in the realm of just using some lightweight query DSL and mapping directly to DTOs, &amp; even then i think redundancy is discouraged","body":"yes but so minimal that in vast majority of cases it would be really ridiculous to try to engineer around this -- <a href=\"http://stackoverflow.com/questions/2430655/java-does-null-variable-require-space-in-memory\" title=\"java does null variable require space in memory\">stackoverflow.com/questions/2430655/&hellip;</a> you&#39;d have to make specialized lightweight objects without these fields &amp; have them point to same table? which IMO is undesired when using ORMs and leveraging them for their relationships... hyper-optimization is maybe more in the realm of just using some lightweight query DSL and mapping directly to DTOs, &amp; even then i think redundancy is discouraged"},{"owner":{"account_id":2507812,"reputation":5574,"user_id":2180959,"accept_rate":73,"display_name":"Heisenberg"},"score":3,"creation_date":1524662041,"post_id":29020641,"comment_id":87062698,"body_markdown":"jm0 it did not work for me without fully qualified classname, though it was imported. It did compile successfully though.","body":"jm0 it did not work for me without fully qualified classname, though it was imported. It did compile successfully though."},{"owner":{"account_id":2899822,"reputation":3354,"user_id":2486805,"accept_rate":50,"display_name":"jm0"},"score":0,"creation_date":1526582518,"post_id":29020641,"comment_id":87812616,"body_markdown":"interesting... maybe i didn&#39;t test it correctly (but I thought I did) or things have changed. This answer is quite old.","body":"interesting... maybe i didn&#39;t test it correctly (but I thought I did) or things have changed. This answer is quite old."},{"owner":{"account_id":410264,"reputation":3756,"user_id":782011,"accept_rate":47,"display_name":"pacoverflow"},"score":0,"creation_date":1565819397,"post_id":29020641,"comment_id":101473970,"body_markdown":"You don&#39;t need a custom query. If Document contains only 2 fields, then Spring JPA knows to only fetch those 2 columns from the database, as described in [this answer](https://stackoverflow.com/a/41015492/782011).","body":"You don&#39;t need a custom query. If Document contains only 2 fields, then Spring JPA knows to only fetch those 2 columns from the database, as described in <a href=\"https://stackoverflow.com/a/41015492/782011\">this answer</a>."},{"owner":{"account_id":2569707,"reputation":2151,"user_id":2228763,"accept_rate":59,"display_name":"Vishal Nair"},"score":0,"creation_date":1581255467,"post_id":29020641,"comment_id":106362172,"body_markdown":"This solution looks the most easy to apply but what if you have more than 8 fields that you want to fetch ? In that case sonar lint would fail if you have some max parameter length rule is set .","body":"This solution looks the most easy to apply but what if you have more than 8 fields that you want to fetch ? In that case sonar lint would fail if you have some max parameter length rule is set ."},{"owner":{"account_id":7214686,"reputation":235,"user_id":5507608,"display_name":"Elloco"},"score":0,"creation_date":1598606679,"post_id":29020641,"comment_id":112519925,"body_markdown":"It&#39;s the best solution ! (Simple, no new Interface or class) It&#39;s works with Json for send to a client waiting for full entity (without any client-side adaptation).\nI confirm that it&#39;s not necessary to provide fully qualified classname (Spring boot 2.3.3)","body":"It&#39;s the best solution ! (Simple, no new Interface or class) It&#39;s works with Json for send to a client waiting for full entity (without any client-side adaptation). I confirm that it&#39;s not necessary to provide fully qualified classname (Spring boot 2.3.3)"},{"owner":{"account_id":2839852,"reputation":1097,"user_id":2439676,"accept_rate":52,"display_name":"Nish"},"score":0,"creation_date":1671470731,"post_id":29020641,"comment_id":132101427,"body_markdown":"This is the good solution. Also if the Repository and the Entity class in same package you don&#39;t need to provide the fully qualified class name. I generally organize code in module/features, for some one organize code by the type of code such as Model, DAO etc this won&#39;t help.","body":"This is the good solution. Also if the Repository and the Entity class in same package you don&#39;t need to provide the fully qualified class name. I generally organize code in module/features, for some one organize code by the type of code such as Model, DAO etc this won&#39;t help."},{"owner":{"account_id":19298004,"reputation":129,"user_id":14106566,"display_name":"humbleCodes"},"score":0,"creation_date":1680035852,"post_id":29020641,"comment_id":133827783,"body_markdown":"@VishalNair can u elaborate on your point which says, `&quot; In that case sonar lint would fail if you have some max parameter length rule is set.&quot;`","body":"@VishalNair can u elaborate on your point which says, <code>&quot; In that case sonar lint would fail if you have some max parameter length rule is set.&quot;</code>"},{"owner":{"account_id":21114192,"reputation":446,"user_id":15521590,"display_name":"Piyush Pranjal"},"score":0,"creation_date":1700823393,"post_id":29020641,"comment_id":136703133,"body_markdown":"Perfect solution but not working without fully qualified class name in Spring:3.1.5","body":"Perfect solution but not working without fully qualified class name in Spring:3.1.5"}],"tags":[],"owner":{"account_id":2899822,"reputation":3354,"user_id":2486805,"accept_rate":50,"display_name":"jm0"},"comment_count":12,"down_vote_count":3,"up_vote_count":207,"is_accepted":false,"score":204,"last_activity_date":1567705888,"creation_date":1426196063,"answer_id":29020641,"question_id":22007341,"body_markdown":"I don&#39;t like the syntax particularly (it looks a little bit hacky...) but this is the most elegant solution I was able to find (it uses a custom JPQL query in the JPA repository class):\r\n\r\n    @Query(&quot;select new com.foo.bar.entity.Document(d.docId, d.filename) from Document d where d.filterCol = ?1&quot;)\r\n\tList&lt;Document&gt; findDocumentsForListing(String filterValue);\r\n\r\nThen of course, you just have to provide a constructor for `Document` that accepts `docId` &amp; `filename` as constructor args.","title":"Spring JPA selecting specific columns","body":"<p>I don't like the syntax particularly (it looks a little bit hacky...) but this is the most elegant solution I was able to find (it uses a custom JPQL query in the JPA repository class):</p>\n\n<pre><code>@Query(\"select new com.foo.bar.entity.Document(d.docId, d.filename) from Document d where d.filterCol = ?1\")\nList&lt;Document&gt; findDocumentsForListing(String filterValue);\n</code></pre>\n\n<p>Then of course, you just have to provide a constructor for <code>Document</code> that accepts <code>docId</code> &amp; <code>filename</code> as constructor args.</p>\n"},{"comments":[{"owner":{"account_id":4667026,"reputation":10199,"user_id":3779853,"accept_rate":85,"display_name":"phil294"},"score":2,"creation_date":1487668415,"post_id":38246793,"comment_id":71876035,"body_markdown":"you should substitute `Object` with a custom interface as described by mpr. works flawlessly","body":"you should substitute <code>Object</code> with a custom interface as described by mpr. works flawlessly"},{"owner":{"account_id":4812045,"reputation":574,"user_id":3885246,"display_name":"IcyIcicle"},"score":0,"creation_date":1666220368,"post_id":38246793,"comment_id":130887345,"body_markdown":"mpr&#39;s solution selects all queries from the database and filters them server-side. See the difference by logging the native queries sent to the database.","body":"mpr&#39;s solution selects all queries from the database and filters them server-side. See the difference by logging the native queries sent to the database."}],"tags":[],"owner":{"account_id":8775634,"reputation":351,"user_id":6560998,"display_name":"Atal"},"comment_count":2,"down_vote_count":0,"up_vote_count":35,"is_accepted":false,"score":35,"last_activity_date":1505085545,"creation_date":1467898154,"answer_id":38246793,"question_id":22007341,"body_markdown":"In my situation, I only need the json result, and this works for me:\r\n\r\n    public interface SchoolRepository extends JpaRepository&lt;School,Integer&gt; {\r\n        @Query(&quot;select s.id, s.name from School s&quot;)\r\n        List&lt;Object&gt; getSchoolIdAndName();\r\n    }\r\n\r\nin Controller:\r\n\r\n    @Autowired\r\n    private SchoolRepository schoolRepository;\r\n\r\n    @ResponseBody\r\n    @RequestMapping(&quot;getschoolidandname.do&quot;)\r\n    public List&lt;Object&gt; getSchool() {\r\n        List&lt;Object&gt; schools = schoolRepository.getSchoolIdAndName();\r\n        return schools;\r\n    }","title":"Spring JPA selecting specific columns","body":"<p>In my situation, I only need the json result, and this works for me:</p>\n\n<pre><code>public interface SchoolRepository extends JpaRepository&lt;School,Integer&gt; {\n    @Query(\"select s.id, s.name from School s\")\n    List&lt;Object&gt; getSchoolIdAndName();\n}\n</code></pre>\n\n<p>in Controller:</p>\n\n<pre><code>@Autowired\nprivate SchoolRepository schoolRepository;\n\n@ResponseBody\n@RequestMapping(\"getschoolidandname.do\")\npublic List&lt;Object&gt; getSchool() {\n    List&lt;Object&gt; schools = schoolRepository.getSchoolIdAndName();\n    return schools;\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1501283,"reputation":181,"user_id":1405832,"display_name":"iceman"},"score":25,"creation_date":1507241430,"post_id":40934100,"comment_id":80143988,"body_markdown":"This is a clean solution. it may have boiler template but the interface can be the inner class of the entity. Making it quite clean.","body":"This is a clean solution. it may have boiler template but the interface can be the inner class of the entity. Making it quite clean."},{"owner":{"account_id":4659595,"reputation":913,"user_id":3774179,"accept_rate":69,"display_name":"alizelzele"},"score":2,"creation_date":1511933054,"post_id":40934100,"comment_id":82047979,"body_markdown":"awesome, just remember not to implement the interface on your Entity or it won&#39;t work","body":"awesome, just remember not to implement the interface on your Entity or it won&#39;t work"},{"owner":{"account_id":2234543,"reputation":1020,"user_id":1971308,"accept_rate":41,"display_name":"Micho Rizo"},"score":1,"creation_date":1516343140,"post_id":40934100,"comment_id":83655547,"body_markdown":"where does the projected interface go? in its own file or can it be included in the public interface that returns the full entity properties?","body":"where does the projected interface go? in its own file or can it be included in the public interface that returns the full entity properties?"},{"owner":{"account_id":147039,"reputation":328,"user_id":357884,"accept_rate":71,"display_name":"Germ&#225;n"},"score":18,"creation_date":1536243707,"post_id":40934100,"comment_id":91361592,"body_markdown":"This solution doesn&#39;t work when extending JpaRepository, any one knows a workaround?","body":"This solution doesn&#39;t work when extending JpaRepository, any one knows a workaround?"},{"owner":{"account_id":215602,"reputation":8781,"user_id":470347,"accept_rate":52,"display_name":"Nehal Damania"},"score":0,"creation_date":1537618871,"post_id":40934100,"comment_id":91855479,"body_markdown":"For me the values are always null :(","body":"For me the values are always null :("},{"owner":{"account_id":1643728,"reputation":792,"user_id":1515692,"accept_rate":59,"display_name":"Jim Kennedy"},"score":4,"creation_date":1561993475,"post_id":40934100,"comment_id":100228495,"body_markdown":"I had no issues getting this to work with JpaRepository, try this method signature List&lt;ProjectIdAndName&gt; findAllProjectedBy() inside your repository class.  I would also suggest keeping your projection interfaces close to your DTOs in terms of packaging.  IMO projection interfaces behave like DTOs.","body":"I had no issues getting this to work with JpaRepository, try this method signature List&lt;ProjectIdAndName&gt; findAllProjectedBy() inside your repository class.  I would also suggest keeping your projection interfaces close to your DTOs in terms of packaging.  IMO projection interfaces behave like DTOs."},{"owner":{"account_id":4783850,"reputation":6978,"user_id":3864917,"accept_rate":100,"display_name":"Vikas"},"score":15,"creation_date":1563794510,"post_id":40934100,"comment_id":100804879,"body_markdown":"You can not use  findAll(); as it will clash with JPARepositorys method. You need to use something like List&lt;ProjectIdAndName&gt; findAllBy();","body":"You can not use  findAll(); as it will clash with JPARepositorys method. You need to use something like List&lt;ProjectIdAndName&gt; findAllBy();"},{"owner":{"account_id":4567941,"reputation":500,"user_id":3708472,"display_name":"Peter S."},"score":1,"creation_date":1570435167,"post_id":40934100,"comment_id":102898675,"body_markdown":"It is good approach, but it does not work with native queries. -_-","body":"It is good approach, but it does not work with native queries. -_-"},{"owner":{"account_id":337459,"reputation":917,"user_id":665744,"accept_rate":100,"display_name":"8bitme"},"score":4,"creation_date":1581415839,"post_id":40934100,"comment_id":106416806,"body_markdown":"You will also need to `as` any columns in your query that do not map to the name of the projection field e.g. if table col is `event_type` and the projection field is `eventType` then the query should be `select event_type as eventType ...`","body":"You will also need to <code>as</code> any columns in your query that do not map to the name of the projection field e.g. if table col is <code>event_type</code> and the projection field is <code>eventType</code> then the query should be <code>select event_type as eventType ...</code>"},{"owner":{"account_id":4774069,"reputation":207,"user_id":3857789,"accept_rate":80,"display_name":"shakel"},"score":0,"creation_date":1588867690,"post_id":40934100,"comment_id":109072017,"body_markdown":"Really like this solution, elegant and simple. Also, as it&#39;s an interface, it&#39;s easy to mock for testing. Also had to use an alias for column name where it has an underscore, as mentioned by @8bitme above","body":"Really like this solution, elegant and simple. Also, as it&#39;s an interface, it&#39;s easy to mock for testing. Also had to use an alias for column name where it has an underscore, as mentioned by @8bitme above"},{"owner":{"account_id":1640611,"reputation":169,"user_id":1513129,"display_name":"samaniego"},"score":0,"creation_date":1592856823,"post_id":40934100,"comment_id":110570157,"body_markdown":"Maybe this will help : https://www.logicbig.com/tutorials/spring-framework/spring-data/projections-using-default-methods.html","body":"Maybe this will help : <a href=\"https://www.logicbig.com/tutorials/spring-framework/spring-data/projections-using-default-methods.html\" rel=\"nofollow noreferrer\">logicbig.com/tutorials/spring-framework/spring-data/&hellip;</a>"},{"owner":{"account_id":1402905,"reputation":1191,"user_id":1331342,"accept_rate":51,"display_name":"neeraj"},"score":0,"creation_date":1606170795,"post_id":40934100,"comment_id":114876437,"body_markdown":"I need to use a @caxheable over this query, for such a case can I make the object serializable? I am getting an error when I try this.","body":"I need to use a @caxheable over this query, for such a case can I make the object serializable? I am getting an error when I try this."},{"owner":{"account_id":1456294,"reputation":4735,"user_id":1371792,"accept_rate":71,"display_name":"GreenROBO"},"score":0,"creation_date":1621992448,"post_id":40934100,"comment_id":119659478,"body_markdown":"This Answer is SimplySuperb. \nBut what if I want to query like select col1, col2, col3 where col1 = id; Any Help? May be @Code_Mode","body":"This Answer is SimplySuperb.  But what if I want to query like select col1, col2, col3 where col1 = id; Any Help? May be @Code_Mode"},{"owner":{"account_id":1456294,"reputation":4735,"user_id":1371792,"accept_rate":71,"display_name":"GreenROBO"},"score":0,"creation_date":1621992855,"post_id":40934100,"comment_id":119659545,"body_markdown":"@JimKennedy Or can you give any Idea about my above comment?","body":"@JimKennedy Or can you give any Idea about my above comment?"},{"owner":{"account_id":1965862,"reputation":3669,"user_id":1766166,"accept_rate":71,"display_name":"zygimantus"},"score":0,"creation_date":1631006684,"post_id":40934100,"comment_id":122101000,"body_markdown":"This is good solution, too bad it does not work with specifications.","body":"This is good solution, too bad it does not work with specifications."},{"owner":{"account_id":12695732,"reputation":3378,"user_id":9224219,"display_name":"Datz"},"score":0,"creation_date":1632944715,"post_id":40934100,"comment_id":122633561,"body_markdown":"For JPARepositories I recommend `List&lt;YourType&gt; findDistinctAllBy()`","body":"For JPARepositories I recommend <code>List&lt;YourType&gt; findDistinctAllBy()</code>"},{"owner":{"account_id":15925466,"reputation":264,"user_id":11491178,"display_name":"alcatraz"},"score":1,"creation_date":1639120411,"post_id":40934100,"comment_id":124272307,"body_markdown":"I&#39;ve tried this, even though it&#39;s return specific column, but the query that&#39;s generated still using all the column","body":"I&#39;ve tried this, even though it&#39;s return specific column, but the query that&#39;s generated still using all the column"},{"owner":{"account_id":2089723,"reputation":91,"user_id":1859832,"display_name":"Huub"},"score":0,"creation_date":1645638734,"post_id":40934100,"comment_id":125928129,"body_markdown":"The underlying datasource is still returned by the repo, and you might want to reduce data processing by avoiding large objects","body":"The underlying datasource is still returned by the repo, and you might want to reduce data processing by avoiding large objects"},{"owner":{"account_id":12526775,"reputation":163,"user_id":9116291,"display_name":"gokul656"},"score":0,"creation_date":1663818877,"post_id":40934100,"comment_id":130329966,"body_markdown":"@Germ&#225;n Actually it&#39;s working for me when extending JpaRepository.     `Collection&lt;SymbolOnly&gt; findAllByIsActiveTrue();`","body":"@Germ&#225;n Actually it&#39;s working for me when extending JpaRepository.     <code>Collection&lt;SymbolOnly&gt; findAllByIsActiveTrue();</code>"}],"tags":[],"owner":{"account_id":3720487,"reputation":3769,"user_id":3095671,"accept_rate":100,"display_name":"mpr"},"comment_count":19,"down_vote_count":2,"up_vote_count":315,"is_accepted":false,"score":313,"last_activity_date":1480687676,"creation_date":1480687676,"answer_id":40934100,"question_id":22007341,"body_markdown":"You can use projections from Spring Data JPA [(doc)](http://docs.spring.io/spring-data/jpa/docs/current/reference/html/#projections). In your case, create interface:\r\n\r\n    interface ProjectIdAndName{\r\n        String getId();\r\n        String getName();\r\n    }\r\n\r\nand add following method to your repository\r\n        \r\n    List&lt;ProjectIdAndName&gt; findAll();","title":"Spring JPA selecting specific columns","body":"<p>You can use projections from Spring Data JPA <a href=\"http://docs.spring.io/spring-data/jpa/docs/current/reference/html/#projections\" rel=\"noreferrer\">(doc)</a>. In your case, create interface:</p>\n\n<pre><code>interface ProjectIdAndName{\n    String getId();\n    String getName();\n}\n</code></pre>\n\n<p>and add following method to your repository</p>\n\n<pre><code>List&lt;ProjectIdAndName&gt; findAll();\n</code></pre>\n"},{"comments":[{"owner":{"account_id":4098376,"reputation":217,"user_id":7683712,"display_name":"user3364549"},"score":0,"creation_date":1525934202,"post_id":41015492,"comment_id":87551674,"body_markdown":"Hi sachin, I have one doubt if i will create the entity like as you mention above. when JPA will run and it will try to create table with the name of user. which entity will use.","body":"Hi sachin, I have one doubt if i will create the entity like as you mention above. when JPA will run and it will try to create table with the name of user. which entity will use."},{"owner":{"account_id":6167520,"reputation":1476,"user_id":4806903,"accept_rate":41,"display_name":"Sachin Sharma"},"score":6,"creation_date":1525941234,"post_id":41015492,"comment_id":87555064,"body_markdown":"never create a table with JPA, create your tables manually in the db, use JPA to map relational world to object world.","body":"never create a table with JPA, create your tables manually in the db, use JPA to map relational world to object world."},{"owner":{"account_id":3836105,"reputation":434,"user_id":3180352,"accept_rate":55,"display_name":"deadbug"},"score":0,"creation_date":1563545571,"post_id":41015492,"comment_id":100747249,"body_markdown":"Why can&#39;t you make use of inheritance here ?","body":"Why can&#39;t you make use of inheritance here ?"},{"owner":{"account_id":3142730,"reputation":1169,"user_id":3191635,"display_name":"Steve"},"score":0,"creation_date":1603809448,"post_id":41015492,"comment_id":114150496,"body_markdown":"You&#39;d inherit the column you were trying to exclude. @deadbug","body":"You&#39;d inherit the column you were trying to exclude. @deadbug"}],"tags":[],"owner":{"account_id":6167520,"reputation":1476,"user_id":4806903,"accept_rate":41,"display_name":"Sachin Sharma"},"comment_count":4,"down_vote_count":1,"up_vote_count":16,"is_accepted":false,"score":15,"last_activity_date":1481107843,"creation_date":1481107843,"answer_id":41015492,"question_id":22007341,"body_markdown":"In my case i created a separate entity class without the fields that are not required (only with the fields that are required).\r\n\r\nMap the entity to the same table.\r\nNow when all the columns are required i use the old entity, when only some columns are required, i use the lite entity.\r\n\r\ne.g. \r\n\r\n    @Entity\r\n\t@Table(name = &quot;user&quot;)\r\n    Class User{\r\n             @Column(name = &quot;id&quot;, unique=true, nullable=false)\r\n             int id;\r\n             @Column(name = &quot;name&quot;, nullable=false)\r\n             String name;\r\n             @Column(name = &quot;address&quot;, nullable=false)\r\n             Address address;\r\n    }\r\nYou can create something like :\r\n\r\n    @Entity\r\n\t@Table(name = &quot;user&quot;)\r\n    Class UserLite{\r\n             @Column(name = &quot;id&quot;, unique=true, nullable=false)\r\n             int id;\r\n             @Column(name = &quot;name&quot;, nullable=false)\r\n             String name;\r\n    }\r\n\r\nThis works when you know the columns to fetch (and this is not going to change).\r\n\r\nwon&#39;t work if you need to dynamically decide the columns.","title":"Spring JPA selecting specific columns","body":"<p>In my case i created a separate entity class without the fields that are not required (only with the fields that are required).</p>\n\n<p>Map the entity to the same table.\nNow when all the columns are required i use the old entity, when only some columns are required, i use the lite entity.</p>\n\n<p>e.g. </p>\n\n<pre><code>@Entity\n@Table(name = \"user\")\nClass User{\n         @Column(name = \"id\", unique=true, nullable=false)\n         int id;\n         @Column(name = \"name\", nullable=false)\n         String name;\n         @Column(name = \"address\", nullable=false)\n         Address address;\n}\n</code></pre>\n\n<p>You can create something like :</p>\n\n<pre><code>@Entity\n@Table(name = \"user\")\nClass UserLite{\n         @Column(name = \"id\", unique=true, nullable=false)\n         int id;\n         @Column(name = \"name\", nullable=false)\n         String name;\n}\n</code></pre>\n\n<p>This works when you know the columns to fetch (and this is not going to change).</p>\n\n<p>won't work if you need to dynamically decide the columns.</p>\n"},{"comments":[{"owner":{"account_id":3958664,"reputation":116,"user_id":9239851,"display_name":"Souyama"},"score":0,"creation_date":1665142744,"post_id":43513384,"comment_id":130636122,"body_markdown":"doesn&#39;t seem to work with native queries","body":"doesn&#39;t seem to work with native queries"}],"tags":[],"owner":{"account_id":10677103,"reputation":123,"user_id":7860220,"display_name":"SR Ranjan"},"comment_count":1,"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1578314031,"creation_date":1492674684,"answer_id":43513384,"question_id":22007341,"body_markdown":"Using Spring Data JPA there is a provision to select specific columns from database\r\n    \r\n    \r\n---- In DAOImpl ----\r\n\r\n    @Override\r\n    \t@Transactional\r\n    \tpublic List&lt;Employee&gt; getAllEmployee() throws Exception {\r\n    \tLOGGER.info(&quot;Inside getAllEmployee&quot;);\r\n        List&lt;Employee&gt; empList = empRepo.getNameAndCityOnly();\r\n    \treturn empList;\r\n    \t}\r\n    \r\n---- In Repo ----\r\n\r\n    public interface EmployeeRepository extends CrudRepository&lt;Employee,Integer&gt; {\r\n    \t@Query(&quot;select e.name, e.city from Employee e&quot; )\r\n        List&lt;Employee&gt; getNameAndCityOnly();\r\n    }\r\n    \r\nIt worked 100% in my case.\r\nThanks.","title":"Spring JPA selecting specific columns","body":"<p>Using Spring Data JPA there is a provision to select specific columns from database</p>\n\n<p>---- In DAOImpl ----</p>\n\n<pre><code>@Override\n    @Transactional\n    public List&lt;Employee&gt; getAllEmployee() throws Exception {\n    LOGGER.info(\"Inside getAllEmployee\");\n    List&lt;Employee&gt; empList = empRepo.getNameAndCityOnly();\n    return empList;\n    }\n</code></pre>\n\n<p>---- In Repo ----</p>\n\n<pre><code>public interface EmployeeRepository extends CrudRepository&lt;Employee,Integer&gt; {\n    @Query(\"select e.name, e.city from Employee e\" )\n    List&lt;Employee&gt; getNameAndCityOnly();\n}\n</code></pre>\n\n<p>It worked 100% in my case.\nThanks.</p>\n"},{"tags":[],"owner":{"account_id":393366,"reputation":3638,"user_id":755183,"accept_rate":71,"display_name":"hahn"},"comment_count":0,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1494272172,"creation_date":1494272172,"answer_id":43855964,"question_id":22007341,"body_markdown":"It is possible to specify `null` as field value in native sql.\r\n\r\n    @Query(value = &quot;select p.id, p.uid, p.title, null as documentation, p.ptype &quot; +\r\n                &quot; from projects p &quot; +\r\n                &quot;where p.uid = (:uid)&quot; +\r\n                &quot;  and p.ptype = &#39;P&#39;&quot;, nativeQuery = true)\r\n    Project findInfoByUid(@Param(&quot;uid&quot;) String uid);","title":"Spring JPA selecting specific columns","body":"<p>It is possible to specify <code>null</code> as field value in native sql.</p>\n\n<pre><code>@Query(value = \"select p.id, p.uid, p.title, null as documentation, p.ptype \" +\n            \" from projects p \" +\n            \"where p.uid = (:uid)\" +\n            \"  and p.ptype = 'P'\", nativeQuery = true)\nProject findInfoByUid(@Param(\"uid\") String uid);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10270184,"reputation":29,"user_id":7578822,"display_name":"ajaz"},"comment_count":0,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1499857182,"creation_date":1499856697,"answer_id":45055628,"question_id":22007341,"body_markdown":"You can apply the below code in your repository interface class.\r\n\r\n&gt;entityname means your database table name like projects.\r\nAnd List&lt;Project&gt; means Project is Entity class in your Projects.\r\n\r\n    @Query(value=&quot;select p from #{#entityName} p where p.id=:projectId and p.projectName=:projectName&quot;)\r\n    \r\n    List&lt;Project&gt; findAll(@Param(&quot;projectId&quot;) int projectId, @Param(&quot;projectName&quot;) String projectName);","title":"Spring JPA selecting specific columns","body":"<p>You can apply the below code in your repository interface class.</p>\n\n<blockquote>\n  <p>entityname means your database table name like projects.\n  And List means Project is Entity class in your Projects.</p>\n</blockquote>\n\n<pre><code>@Query(value=\"select p from #{#entityName} p where p.id=:projectId and p.projectName=:projectName\")\n\nList&lt;Project&gt; findAll(@Param(\"projectId\") int projectId, @Param(\"projectName\") String projectName);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12109712,"reputation":387,"user_id":8847101,"display_name":"ukchaudhary"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1509784793,"creation_date":1509784793,"answer_id":47108979,"question_id":22007341,"body_markdown":"**Using Native Query:**\r\n\r\n    Query query = entityManager.createNativeQuery(&quot;SELECT projectId, projectName FROM projects&quot;);\r\n    List result = query.getResultList();","title":"Spring JPA selecting specific columns","body":"<p><strong>Using Native Query:</strong></p>\n\n<pre><code>Query query = entityManager.createNativeQuery(\"SELECT projectId, projectName FROM projects\");\nList result = query.getResultList();\n</code></pre>\n"},{"comments":[{"owner":{"account_id":5144135,"reputation":2717,"user_id":4120583,"accept_rate":29,"display_name":"Hikaru Shindo"},"score":1,"creation_date":1632212942,"post_id":53817222,"comment_id":122425294,"body_markdown":"No converter found capable of converting from type","body":"No converter found capable of converting from type"},{"owner":{"account_id":102066,"reputation":5017,"user_id":274205,"accept_rate":75,"display_name":"Timofey Gorshkov"},"score":0,"creation_date":1672080776,"post_id":53817222,"comment_id":132218356,"body_markdown":"The first approach fetches all columns. The second works well.","body":"The first approach fetches all columns. The second works well."}],"tags":[],"owner":{"account_id":3621872,"reputation":241,"user_id":3020384,"display_name":"jombie"},"comment_count":2,"down_vote_count":0,"up_vote_count":19,"is_accepted":false,"score":19,"last_activity_date":1545056702,"creation_date":1545056702,"answer_id":53817222,"question_id":22007341,"body_markdown":"With the newer Spring versions One can do as follows:\r\n\r\n**If not using native query this can done as below:**\r\n\r\n    public interface ProjectMini {\r\n        String getProjectId();\r\n        String getProjectName();\r\n    }\r\n    \r\n    public interface ProjectRepository extends JpaRepository&lt;Project, String&gt; { \r\n        @Query(&quot;SELECT p FROM Project p&quot;)\r\n        List&lt;ProjectMini&gt; findAllProjectsMini();\r\n    }\r\n\r\n**Using native query the same can be done as below:**\r\n\r\n    public interface ProjectRepository extends JpaRepository&lt;Project, String&gt; { \r\n        @Query(value = &quot;SELECT projectId, projectName FROM project&quot;, nativeQuery = true)\r\n        List&lt;ProjectMini&gt; findAllProjectsMini();\r\n    }\r\n\r\nFor detail check the [docs][1]\r\n\r\n  [1]: https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#projections","title":"Spring JPA selecting specific columns","body":"<p>With the newer Spring versions One can do as follows:</p>\n\n<p><strong>If not using native query this can done as below:</strong></p>\n\n<pre><code>public interface ProjectMini {\n    String getProjectId();\n    String getProjectName();\n}\n\npublic interface ProjectRepository extends JpaRepository&lt;Project, String&gt; { \n    @Query(\"SELECT p FROM Project p\")\n    List&lt;ProjectMini&gt; findAllProjectsMini();\n}\n</code></pre>\n\n<p><strong>Using native query the same can be done as below:</strong></p>\n\n<pre><code>public interface ProjectRepository extends JpaRepository&lt;Project, String&gt; { \n    @Query(value = \"SELECT projectId, projectName FROM project\", nativeQuery = true)\n    List&lt;ProjectMini&gt; findAllProjectsMini();\n}\n</code></pre>\n\n<p>For detail check the <a href=\"https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#projections\" rel=\"noreferrer\">docs</a></p>\n"},{"comments":[{"owner":{"account_id":3719338,"reputation":12130,"user_id":3094731,"accept_rate":56,"display_name":"Abdullah Khan"},"score":0,"creation_date":1553150360,"post_id":53955183,"comment_id":97280246,"body_markdown":"Why not return List&lt;T&gt; instead of collection?!","body":"Why not return List&lt;T&gt; instead of collection?!"},{"owner":{"account_id":1231014,"reputation":594,"user_id":1195605,"display_name":"Ravi Sanwal"},"score":1,"creation_date":1554759864,"post_id":53955183,"comment_id":97862557,"body_markdown":"@AbdullahKhan because the result may not always have an order.","body":"@AbdullahKhan because the result may not always have an order."},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":1,"creation_date":1654742737,"post_id":53955183,"comment_id":128166183,"body_markdown":"It will always be a list, and they&#39;ll always be in the order returned by the database.  Abdullah is right - it makes sense to return these as `List`, not as `Collection`.","body":"It will always be a list, and they&#39;ll always be in the order returned by the database.  Abdullah is right - it makes sense to return these as <code>List</code>, not as <code>Collection</code>."}],"tags":[],"owner":{"account_id":3460048,"reputation":492,"user_id":2897455,"accept_rate":25,"display_name":"Evgeni Atanasov"},"comment_count":3,"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1545982723,"creation_date":1545982723,"answer_id":53955183,"question_id":22007341,"body_markdown":"In my opinion this is great solution:\r\n\r\n    interface PersonRepository extends Repository&lt;Person, UUID&gt; {\r\n\r\n        &lt;T&gt; Collection&lt;T&gt; findByLastname(String lastname, Class&lt;T&gt; type);\r\n    }\r\n\r\nand using it like so\r\n    \r\n    void someMethod(PersonRepository people) {\r\n    \r\n      Collection&lt;Person&gt; aggregates =\r\n        people.findByLastname(&quot;Matthews&quot;, Person.class);\r\n    \r\n      Collection&lt;NamesOnly&gt; aggregates =\r\n        people.findByLastname(&quot;Matthews&quot;, NamesOnly.class);\r\n    }","title":"Spring JPA selecting specific columns","body":"<p>In my opinion this is great solution:</p>\n\n<pre><code>interface PersonRepository extends Repository&lt;Person, UUID&gt; {\n\n    &lt;T&gt; Collection&lt;T&gt; findByLastname(String lastname, Class&lt;T&gt; type);\n}\n</code></pre>\n\n<p>and using it like so</p>\n\n<pre><code>void someMethod(PersonRepository people) {\n\n  Collection&lt;Person&gt; aggregates =\n    people.findByLastname(\"Matthews\", Person.class);\n\n  Collection&lt;NamesOnly&gt; aggregates =\n    people.findByLastname(\"Matthews\", NamesOnly.class);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11134043,"reputation":241,"user_id":8173143,"display_name":"foxbit"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1558167385,"creation_date":1558167385,"answer_id":56197177,"question_id":22007341,"body_markdown":"You can use the answer suggested by @jombie, and:\r\n\r\n - place the interface in a separate file, outside the entity class;\r\n - use native query or not (the choice depended on your needs);\r\n - don&#39;t override `findAll()` method for this purpose but use name of your choice;\r\n - remember to return a `List` parametrized with your new interface (e.g. `List&lt;SmallProject&gt;`).\r\n\r\n\r\n\r\n","title":"Spring JPA selecting specific columns","body":"<p>You can use the answer suggested by @jombie, and:</p>\n\n<ul>\n<li>place the interface in a separate file, outside the entity class;</li>\n<li>use native query or not (the choice depended on your needs);</li>\n<li>don't override <code>findAll()</code> method for this purpose but use name of your choice;</li>\n<li>remember to return a <code>List</code> parametrized with your new interface (e.g. <code>List&lt;SmallProject&gt;</code>).</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":11066596,"reputation":31,"user_id":8126212,"display_name":"vijay"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1615396171,"creation_date":1614927606,"answer_id":66488110,"question_id":22007341,"body_markdown":"```\r\npublic static final String FIND_PROJECTS = &quot;select ac_year_id,ac_year from tbl_au_academic_year where ac_year_id=?1&quot;;\r\n\r\n\t@Query(value = FIND_PROJECTS, nativeQuery = true)\r\n\tpublic  List&lt;Object[]&gt; findByAcYearId(Integer ac_year_id);\r\n```\r\nthis works for me\r\n","title":"Spring JPA selecting specific columns","body":"<pre><code>public static final String FIND_PROJECTS = &quot;select ac_year_id,ac_year from tbl_au_academic_year where ac_year_id=?1&quot;;\n\n    @Query(value = FIND_PROJECTS, nativeQuery = true)\n    public  List&lt;Object[]&gt; findByAcYearId(Integer ac_year_id);\n</code></pre>\n<p>this works for me</p>\n"},{"tags":[],"owner":{"account_id":16772863,"reputation":21,"user_id":12124923,"display_name":"Tarique Anwer"},"comment_count":0,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1647693110,"creation_date":1647678209,"answer_id":71536531,"question_id":22007341,"body_markdown":"You can update your JPARepository as below.\r\n\r\n    @Query(&quot;select u.status from UserLogin u where u.userId = ?1 or u.email = ?1 or u.mobile = ?1&quot;)\r\n    public UserStatus findByUserIdOrEmailOrMobile(String loginId);\r\n\r\n\r\nWhere UserStatus is a Enum\r\n\r\n    public enum UserStatus\r\n    {\r\n    \tNew,\r\n    \tActive,\r\n    \tDeactived,\r\n    \tSuspended,\r\n    \tLocked\r\n    }","title":"Spring JPA selecting specific columns","body":"<p>You can update your JPARepository as below.</p>\n<pre><code>@Query(&quot;select u.status from UserLogin u where u.userId = ?1 or u.email = ?1 or u.mobile = ?1&quot;)\npublic UserStatus findByUserIdOrEmailOrMobile(String loginId);\n</code></pre>\n<p>Where UserStatus is a Enum</p>\n<pre><code>public enum UserStatus\n{\n    New,\n    Active,\n    Deactived,\n    Suspended,\n    Locked\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15074809,"reputation":51,"user_id":12253435,"display_name":"Gil"},"comment_count":0,"down_vote_count":4,"up_vote_count":0,"is_accepted":false,"score":-4,"last_activity_date":1684503581,"creation_date":1672934882,"answer_id":75021309,"question_id":22007341,"body_markdown":"Use:\r\n```\r\n@Query(&quot;SELECT e FROM #{#entityName} e where e.userId=:uid&quot;)\r\nList&lt;ClienteEnderecoEntity&gt; findInfoByUid(@Param(&quot;uid&quot;) UUID uid);\r\n```\r\n+ [hibernate](https://docs.jboss.org/hibernate/entitymanager/3.6/reference/en/html/query_native.html) - Native Query","title":"Spring JPA selecting specific columns","body":"<p>Use:</p>\n<pre><code>@Query(&quot;SELECT e FROM #{#entityName} e where e.userId=:uid&quot;)\nList&lt;ClienteEnderecoEntity&gt; findInfoByUid(@Param(&quot;uid&quot;) UUID uid);\n</code></pre>\n<ul>\n<li><a href=\"https://docs.jboss.org/hibernate/entitymanager/3.6/reference/en/html/query_native.html\" rel=\"nofollow noreferrer\">hibernate</a> - Native Query</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":13239720,"reputation":112,"user_id":9560693,"display_name":"Yehouda"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1679395066,"creation_date":1679395066,"answer_id":75800093,"question_id":22007341,"body_markdown":"You can use a DTO like that\r\n   \r\n\r\n     @Data\r\n        public class UserDtoLight implements Serializable {\r\n           private final Long id;\r\n           private final String name;\r\n        }\r\n\r\nand in your repository\r\n\r\n     List&lt;UserDtoLight&gt; findAll();","title":"Spring JPA selecting specific columns","body":"<p>You can use a DTO like that</p>\n<pre><code> @Data\n    public class UserDtoLight implements Serializable {\n       private final Long id;\n       private final String name;\n    }\n</code></pre>\n<p>and in your repository</p>\n<pre><code> List&lt;UserDtoLight&gt; findAll();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2479898,"reputation":1010,"user_id":2159573,"accept_rate":33,"display_name":"Saurabhcdt"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1683722293,"creation_date":1683718990,"answer_id":76217974,"question_id":22007341,"body_markdown":"With current version I&#39;m using (JDK 11, Spring Boot 3) It&#39;s very simple:\r\n\r\n1. You need to add a constructor in your entity class for limited fields which you want to select:\r\n\r\n```\r\n    class Projects {\r\n        private String projectId;\r\n        private String projectName;\r\n        // other fields\r\n    \r\n        // No argument / all arguments  constructor as needed\r\n    \r\n        public Projects(String projectId, String projectName) {\r\n            this.projectId = projectId;\r\n            this.projectName = projectName;\r\n        }\r\n    }\r\n```\r\n2. In your Repository, you can add Query &amp; method as below (add WHERE condition as needed):\r\n\r\n```\r\n    @Query(&quot;SELECT new Projects (p.projectId, p.projectName) FROM Projects p&quot;)\r\n    List&lt;Projects &gt; findAllProjects();\r\n```\r\n\r\nFor me, this works &amp; I get list of all objects with only 2 fields specified.\r\n\r\n\r\n","title":"Spring JPA selecting specific columns","body":"<p>With current version I'm using (JDK 11, Spring Boot 3) It's very simple:</p>\n<ol>\n<li>You need to add a constructor in your entity class for limited fields which you want to select:</li>\n</ol>\n<pre><code>    class Projects {\n        private String projectId;\n        private String projectName;\n        // other fields\n    \n        // No argument / all arguments  constructor as needed\n    \n        public Projects(String projectId, String projectName) {\n            this.projectId = projectId;\n            this.projectName = projectName;\n        }\n    }\n</code></pre>\n<ol start=\"2\">\n<li>In your Repository, you can add Query &amp; method as below (add WHERE condition as needed):</li>\n</ol>\n<pre><code>    @Query(&quot;SELECT new Projects (p.projectId, p.projectName) FROM Projects p&quot;)\n    List&lt;Projects &gt; findAllProjects();\n</code></pre>\n<p>For me, this works &amp; I get list of all objects with only 2 fields specified.</p>\n"},{"tags":[],"owner":{"account_id":29313159,"reputation":193,"user_id":22458461,"display_name":"fforfabio"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697732764,"creation_date":1697732764,"answer_id":77325566,"question_id":22007341,"body_markdown":"You can perform it in a lot of ways.  \r\n\r\n- By using **nativeQuery**, so by selecting directly from your database table (it must be defined inside your application.properties/yml).  \r\nSo simply declare your **repository** by extending _JpaRepository_:\r\n   ```java\r\n    @Repository\r\n    public interface ProjectRepository extends JpaRepository&lt;Project, Long&gt;{\r\n    }\r\n    ```  \r\n    Then, you should define the query (something like this) inside the Repository:\r\n    ```java\r\n    @Repository\r\n    public interface ProjectRepository extends JpaRepository&lt;Project, Long&gt;{\r\n\r\n        @Query(value = &quot;SELECT projectId, projectName FROM projects&quot;, nativeQuery = true)\r\n        public List&lt;Project&gt; getProjectColumns();\r\n\r\n    }\r\n    ```\r\n    Finally, you can call this method from your controller like that:\r\n    ```java\r\n    @CrossOrigin(origins = &quot;http://localhost:8080&quot;)\r\n    @RestController\r\n    @RequestMapping(&quot;/project&quot;)\r\n    public class Controller {\r\n        private ProjectRepository projectRepo;\r\n\r\n        public Controller(ProjectRepository projectRepo) {\r\n\t\t    this.projectRepo = projectRepo;\r\n\t    }\r\n\r\n        @GetMapping(&quot;/columns&quot;)\r\n\t    public ResponseEntity&lt;List&lt;Project&gt;&gt; getProjectColumns(){\r\n\t\t    List&lt;Project&gt; projects = new ArrayList&lt;Project&gt;();\r\n\t\t\tprojects = projectRepo.getProjectColumns();\r\n            return projects;   \r\n\t    }\r\n    }\r\n    ```\r\n\r\n- By using **JPQL**.  \r\nThe only thing that must be _change_ from the nativeQuery example is the _query itself_. In fact with JPQL you are going to perform the query on the entity itself.  \r\nSo:\r\n    ```java\r\n    @Repository\r\n    public interface ProjectRepository extends JpaRepository&lt;Project, Long&gt;{\r\n\r\n        @Query(&quot;SELECT p.projectId, p.projectName FROM Project p&quot;)\r\n        public List&lt;Project&gt; getProjectColumns();\r\n\r\n    }\r\n    ```\r\n    Note that _Project_ is the entity and not the database table (in the previous example is _projects_).  \r\n    I left here a useful [link](https://thorben-janssen.com/jpql/) I found on the Internet.\r\n- Finally, you can use this other technique. I&#39;ll advise you that it is a little bit more complicated, but the result is the same.  \r\n**First** thing is to define only the method signature in the repository:\r\n    ```java\r\n    @Repository\r\n    public interface ProjectRepository extends JpaRepository&lt;Project, Long&gt;{\r\n\r\n        public List&lt;Project&gt; getProjectColumns();\r\n\r\n    }\r\n    ```\r\n    **Second** thing is to modify your entity _Project_ by writing the query inside the **@NamedNativeQueries** annotation, and then by writing the result mapping inside the [**@SqlResultSetMappings**](https://thorben-janssen.com/result-set-mapping-basics/) annotation. In this annotation you are going to define how the object that you are going to return will be, so you may also define a new constructor inside the _Project_ entity.  \r\n    This is how it should look:\r\n    ```java\r\n    @NamedNativeQueries(value = {\r\n\t    @NamedNativeQuery(name = &quot;Project.getProjectColumns&quot;, // The name of the repository method\r\n\t\t    query = &quot;SELECT p.projectId, p.projectName FROM projects p&quot;,\r\n\t\t    resultSetMapping = &quot;projectColumns&quot;)})\r\n    @SqlResultSetMappings(value = {\r\n\t    @SqlResultSetMapping(name = &quot;projectColumns&quot;, // It must match with the resultSetMapping defined inside @NamedNativeQuery\r\n\t       classes = @ConstructorResult(targetClass = Project.class,\r\n\t                                    columns = {@ColumnResult(name = &quot;projectId&quot;),\r\n\t                                               @ColumnResult(name = &quot;projectName&quot;)}))})\r\n    @Entity\r\n    @Table(name = &quot;projects&quot;)\r\n    public class Project {\r\n\r\n        // Columns of the entity Project\r\n\t    @Id\r\n\t    private long projectId;\r\n\t\r\n\t    private String projectName;\r\n\r\n\r\n\t    // Some other attribute can be defined here\r\n\r\n\r\n\t    // Default constructor\r\n\t    public Project() {\r\n\t    }\r\n\r\n\t\r\n\t    // Constructor for getProjectColumns query. Note that the number of the\r\n\t    // parameters and their type must be the same of the one returned by the query.\r\n\t    // All the other attributes present in this entity will be set to their default value.\r\n\t    public Project(long projectId, String projectName) {\r\n\t\t    this.projectId = projectId;\r\n\t\t    this.projectName = projectName;\r\n\t    }\r\n\r\n        // Other constructor can be available\r\n\r\n\t    // Getter and setter here\r\n    }  \r\n    ```\r\n    **Finally** your _controller_ can be the same as the previous one. The only important thing is that all the names that are present (query, method, ...) must be the same or the query will note be performed.  \r\n\r\nI&#39;ll hope that this is clear and will help. ","title":"Spring JPA selecting specific columns","body":"<p>You can perform it in a lot of ways.</p>\n<ul>\n<li><p>By using <strong>nativeQuery</strong>, so by selecting directly from your database table (it must be defined inside your application.properties/yml).<br />\nSo simply declare your <strong>repository</strong> by extending <em>JpaRepository</em>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>  @Repository\n  public interface ProjectRepository extends JpaRepository&lt;Project, Long&gt;{\n  }\n</code></pre>\n<p>Then, you should define the query (something like this) inside the Repository:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Repository\npublic interface ProjectRepository extends JpaRepository&lt;Project, Long&gt;{\n\n    @Query(value = &quot;SELECT projectId, projectName FROM projects&quot;, nativeQuery = true)\n    public List&lt;Project&gt; getProjectColumns();\n\n}\n</code></pre>\n<p>Finally, you can call this method from your controller like that:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@CrossOrigin(origins = &quot;http://localhost:8080&quot;)\n@RestController\n@RequestMapping(&quot;/project&quot;)\npublic class Controller {\n    private ProjectRepository projectRepo;\n\n    public Controller(ProjectRepository projectRepo) {\n        this.projectRepo = projectRepo;\n    }\n\n    @GetMapping(&quot;/columns&quot;)\n    public ResponseEntity&lt;List&lt;Project&gt;&gt; getProjectColumns(){\n        List&lt;Project&gt; projects = new ArrayList&lt;Project&gt;();\n        projects = projectRepo.getProjectColumns();\n        return projects;   \n    }\n}\n</code></pre>\n</li>\n<li><p>By using <strong>JPQL</strong>.<br />\nThe only thing that must be <em>change</em> from the nativeQuery example is the <em>query itself</em>. In fact with JPQL you are going to perform the query on the entity itself.<br />\nSo:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Repository\npublic interface ProjectRepository extends JpaRepository&lt;Project, Long&gt;{\n\n    @Query(&quot;SELECT p.projectId, p.projectName FROM Project p&quot;)\n    public List&lt;Project&gt; getProjectColumns();\n\n}\n</code></pre>\n<p>Note that <em>Project</em> is the entity and not the database table (in the previous example is <em>projects</em>).<br />\nI left here a useful <a href=\"https://thorben-janssen.com/jpql/\" rel=\"nofollow noreferrer\">link</a> I found on the Internet.</p>\n</li>\n<li><p>Finally, you can use this other technique. I'll advise you that it is a little bit more complicated, but the result is the same.<br />\n<strong>First</strong> thing is to define only the method signature in the repository:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Repository\npublic interface ProjectRepository extends JpaRepository&lt;Project, Long&gt;{\n\n    public List&lt;Project&gt; getProjectColumns();\n\n}\n</code></pre>\n<p><strong>Second</strong> thing is to modify your entity <em>Project</em> by writing the query inside the <strong>@NamedNativeQueries</strong> annotation, and then by writing the result mapping inside the <a href=\"https://thorben-janssen.com/result-set-mapping-basics/\" rel=\"nofollow noreferrer\"><strong>@SqlResultSetMappings</strong></a> annotation. In this annotation you are going to define how the object that you are going to return will be, so you may also define a new constructor inside the <em>Project</em> entity.<br />\nThis is how it should look:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@NamedNativeQueries(value = {\n    @NamedNativeQuery(name = &quot;Project.getProjectColumns&quot;, // The name of the repository method\n        query = &quot;SELECT p.projectId, p.projectName FROM projects p&quot;,\n        resultSetMapping = &quot;projectColumns&quot;)})\n@SqlResultSetMappings(value = {\n    @SqlResultSetMapping(name = &quot;projectColumns&quot;, // It must match with the resultSetMapping defined inside @NamedNativeQuery\n       classes = @ConstructorResult(targetClass = Project.class,\n                                    columns = {@ColumnResult(name = &quot;projectId&quot;),\n                                               @ColumnResult(name = &quot;projectName&quot;)}))})\n@Entity\n@Table(name = &quot;projects&quot;)\npublic class Project {\n\n    // Columns of the entity Project\n    @Id\n    private long projectId;\n\n    private String projectName;\n\n\n    // Some other attribute can be defined here\n\n\n    // Default constructor\n    public Project() {\n    }\n\n\n    // Constructor for getProjectColumns query. Note that the number of the\n    // parameters and their type must be the same of the one returned by the query.\n    // All the other attributes present in this entity will be set to their default value.\n    public Project(long projectId, String projectName) {\n        this.projectId = projectId;\n        this.projectName = projectName;\n    }\n\n    // Other constructor can be available\n\n    // Getter and setter here\n}  \n</code></pre>\n<p><strong>Finally</strong> your <em>controller</em> can be the same as the previous one. The only important thing is that all the names that are present (query, method, ...) must be the same or the query will note be performed.</p>\n</li>\n</ul>\n<p>I'll hope that this is clear and will help.</p>\n"}],"owner":{"account_id":2034843,"reputation":2655,"user_id":1817436,"display_name":"user1817436"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":580863,"favorite_count":0,"down_vote_count":0,"up_vote_count":260,"accepted_answer_id":22007664,"answer_count":20,"score":260,"last_activity_date":1697732764,"creation_date":1393313126,"question_id":22007341,"body_markdown":"I am using Spring JPA to perform all database operations. However I don&#39;t know how to select specific columns from a table in Spring JPA?\r\n\r\nFor example:&lt;br/&gt;\r\n`SELECT projectId, projectName FROM projects`","title":"Spring JPA selecting specific columns","body":"<p>I am using Spring JPA to perform all database operations. However I don't know how to select specific columns from a table in Spring JPA?</p>\n\n<p>For example:<br/>\n<code>SELECT projectId, projectName FROM projects</code></p>\n"},{"tags":["java","quarkus"],"answers":[{"comments":[{"owner":{"account_id":57272,"reputation":3656,"user_id":171520,"accept_rate":77,"display_name":"Dave Challis"},"score":0,"creation_date":1700239683,"post_id":77325560,"comment_id":136633963,"body_markdown":"This doesn&#39;t seem to work. I added `quarkus.vm.additionalArgs = -ea` to `application.properties`, added an `assert false;` to my code, and started the server with `quarkus dev`. It ran fine without checking any of the assertions though.","body":"This doesn&#39;t seem to work. I added <code>quarkus.vm.additionalArgs = -ea</code> to <code>application.properties</code>, added an <code>assert false;</code> to my code, and started the server with <code>quarkus dev</code>. It ran fine without checking any of the assertions though."}],"tags":[],"owner":{"account_id":29114412,"reputation":19,"user_id":22303452,"display_name":"Aisu"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1697732673,"creation_date":1697732673,"answer_id":77325560,"question_id":77325377,"body_markdown":"Enabling assertions in a Quarkus application during development mode can be achieved by configuring the quarkus.vm property in your application.properties or application.yml file. So, try the steps below:\r\n\r\n1. &quot;application.properties&quot; \r\n\r\n    quarkus.vm.additionalArgs = -ea\r\n\r\n2. &quot;application.yml&quot;\r\n\r\n    quarkus:\r\n  vm:\r\n    additionalArgs: -ea\r\n","title":"How can I enable assertions when starting Quarkus in development mode?","body":"<p>Enabling assertions in a Quarkus application during development mode can be achieved by configuring the quarkus.vm property in your application.properties or application.yml file. So, try the steps below:</p>\n<ol>\n<li><p>&quot;application.properties&quot;</p>\n<p>quarkus.vm.additionalArgs = -ea</p>\n</li>\n<li><p>&quot;application.yml&quot;</p>\n<p>quarkus:\nvm:\nadditionalArgs: -ea</p>\n</li>\n</ol>\n"}],"owner":{"account_id":57272,"reputation":3656,"user_id":171520,"accept_rate":77,"display_name":"Dave Challis"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1697732673,"creation_date":1697730994,"question_id":77325377,"body_markdown":"When starting a [Quarkus](https://quarkus.io/) application in [development mode](https://quarkus.io/guides/cli-tooling#development-mode) (by running `quarkus dev` in a shell), how can I enable assertions (i.e. getting Quarkus to start Java with the `-enableassertions` or `-ea` flag)?\r\n\r\nI&#39;d like to configure assertions to be enabled only for development mode, but not when running it any other way.","title":"How can I enable assertions when starting Quarkus in development mode?","body":"<p>When starting a <a href=\"https://quarkus.io/\" rel=\"nofollow noreferrer\">Quarkus</a> application in <a href=\"https://quarkus.io/guides/cli-tooling#development-mode\" rel=\"nofollow noreferrer\">development mode</a> (by running <code>quarkus dev</code> in a shell), how can I enable assertions (i.e. getting Quarkus to start Java with the <code>-enableassertions</code> or <code>-ea</code> flag)?</p>\n<p>I'd like to configure assertions to be enabled only for development mode, but not when running it any other way.</p>\n"},{"tags":["java","spring","interface","default-method"],"comments":[{"owner":{"account_id":10777133,"reputation":7282,"user_id":7928721,"display_name":"samabcde"},"score":0,"creation_date":1697730723,"post_id":77325216,"comment_id":136319430,"body_markdown":"you are autowiring ArticleRepository, but ArticleRepositoryImpl only implement ArticleExtendRepository.","body":"you are autowiring ArticleRepository, but ArticleRepositoryImpl only implement ArticleExtendRepository."},{"owner":{"account_id":1024933,"reputation":703,"user_id":1034461,"display_name":"horvoje"},"score":0,"creation_date":1697731527,"post_id":77325216,"comment_id":136319599,"body_markdown":"@samabcde if I remove default method and leave signature only, it works as expected. But downside is that I have to add dummy method to all services that implements `FindBySubstringRepositorySupport` and I use this method only on few.","body":"@samabcde if I remove default method and leave signature only, it works as expected. But downside is that I have to add dummy method to all services that implements <code>FindBySubstringRepositorySupport</code> and I use this method only on few."},{"owner":{"account_id":1024933,"reputation":703,"user_id":1034461,"display_name":"horvoje"},"score":0,"creation_date":1697732258,"post_id":77325216,"comment_id":136319719,"body_markdown":"@samabcde I think I found it:\nhttps://javadevcentral.com/default-method-resolution-rules#:~:text=If%20a%20class%20extends%20a,will%20be%20the%20chosen%20one.","body":"@samabcde I think I found it: <a href=\"https://javadevcentral.com/default-method-resolution-rules#:~:text=If%20a%20class%20extends%20a,will%20be%20the%20chosen%20one\" rel=\"nofollow noreferrer\">javadevcentral.com/&hellip;</a>."}],"answers":[{"comments":[{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1697734281,"post_id":77325539,"comment_id":136320148,"body_markdown":"You should cite the JLS, not some arbitrary third-party site. It has no standing. You should rely on the normative reference.","body":"You should cite the JLS, not some arbitrary third-party site. It has no standing. You should rely on the normative reference."}],"tags":[],"owner":{"account_id":1024933,"reputation":703,"user_id":1034461,"display_name":"horvoje"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697732519,"creation_date":1697732519,"answer_id":77325539,"question_id":77325216,"body_markdown":"It was my bad design and lack of knowledge:\r\n\r\n**Rules for Default Method Conflict Resolution**\r\n\r\nWhen a class inherits a method with the same signature from more than one interface, we have the following three rules:\r\n\r\n1. Classes will always win. If a class extends a parent class and implements one or more interfaces, the default method in the class or a superclass will take priority.\r\n\r\n2. Otherwise the subinterfaces will take the next level of precedence. The default method in the most specific default providing interface will be the chosen one. (A subinterface is the one that extends an interface).\r\n\r\n3. If the above rules are not applicable and a choice cannot be made, then the class that inherits from multiple interfaces has to override the method and provide an implementation. But it does not always have to provide the full implementation as there is a way for the class to choose one of the inherited default methods.\r\n\r\nSource:\r\nhttps://javadevcentral.com/default-method-resolution-rules#:~:text=If%20a%20class%20extends%20a,will%20be%20the%20chosen%20one.","title":"default method executed instead of implementation","body":"<p>It was my bad design and lack of knowledge:</p>\n<p><strong>Rules for Default Method Conflict Resolution</strong></p>\n<p>When a class inherits a method with the same signature from more than one interface, we have the following three rules:</p>\n<ol>\n<li><p>Classes will always win. If a class extends a parent class and implements one or more interfaces, the default method in the class or a superclass will take priority.</p>\n</li>\n<li><p>Otherwise the subinterfaces will take the next level of precedence. The default method in the most specific default providing interface will be the chosen one. (A subinterface is the one that extends an interface).</p>\n</li>\n<li><p>If the above rules are not applicable and a choice cannot be made, then the class that inherits from multiple interfaces has to override the method and provide an implementation. But it does not always have to provide the full implementation as there is a way for the class to choose one of the inherited default methods.</p>\n</li>\n</ol>\n<p>Source:\n<a href=\"https://javadevcentral.com/default-method-resolution-rules#:%7E:text=If%20a%20class%20extends%20a,will%20be%20the%20chosen%20one\" rel=\"nofollow noreferrer\">https://javadevcentral.com/default-method-resolution-rules#:~:text=If%20a%20class%20extends%20a,will%20be%20the%20chosen%20one</a>.</p>\n"}],"owner":{"account_id":1024933,"reputation":703,"user_id":1034461,"display_name":"horvoje"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1697732519,"creation_date":1697729618,"question_id":77325216,"body_markdown":"When calling `findBySubstring()` from `ArticleAutocompleteServiceImpl` - default method of interface is executed instead of implementation. Is it because of generics? What did I do wrong? How to keep this structure and run implemented method instead of default method? Please can someone help me with this?\r\n\r\n**EDIT:**\r\nIf I remove default method from `FindBySubstringRepositorySupport` and leave signature only, it works as expected. Downside is that I have to add dummy implementation method to all services that implements `FindBySubstringRepositorySupport` and I use this method only on few that have real implementations.\r\n\r\n**ArticleAutocompleteServiceImpl.java**\r\n\r\n\r\n```\r\n@Service\r\npublic class ArticleAutocompleteServiceImpl implements ArticleAutocompleteService {\r\n\r\n\tprivate final ArticleRepository articleRepository;\r\n\r\n\tpublic ArticleAutocompleteServiceImpl( final ArticleRepository articleRepository ) {\r\n\t\tthis.articleRepository = articleRepository;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic List&lt;ArticleURINameDTO&gt; autocomplete( final String q ) {\r\n\r\n\t\t// calling repository method and expecting to run implemented method,\r\n\t\t// not default mehtod of interface\r\n\t\tfinal List&lt;Article&gt; lst =\r\n\t\t\tthis.articleRepository.findBySubstring( q, 10, ObjectStatus.ENABLED );\r\n\r\n\t\tfinal Locale locale = ...\r\n\r\n\t\treturn lst.stream().map(a -&gt; new ArticleURINameDTO(a, locale)).toList();\r\n\t}\r\n\r\n\r\n```\r\n\r\n---\r\n\r\n**ArticleRepositoryImpl.java**\r\n\r\n```\r\npublic class ArticleRepositoryImpl implements ArticleExtendRepository {\r\n\r\n\t@PersistenceContext\r\n\tprivate EntityManager entityManager;\r\n\r\n\tprivate final StoredProcService storedProcService;\r\n\r\n\tpublic ArticleRepositoryImpl( final StoredProcService storedProcService ) {\r\n\t\tthis.storedProcService = storedProcService;\r\n\t}\r\n\r\n\t// implementation that should override default method of interface\r\n\t@Override\r\n\tpublic List&lt;Article&gt; findBySubstring(\r\n\t\tfinal String       namePart,\r\n\t\tfinal Integer      limit,\r\n\t\tfinal ObjectStatus objectStatus\r\n\t) {\r\n\t\treturn this.storedProcService.execute( ... );\r\n\t}\r\n\r\n\r\n}\r\n```\r\n\r\n---\r\n\r\n**ArticleRepository.java**\r\n\r\n\r\n```\r\npublic interface ArticleRepository extends\r\n\tPagingAndSortingRepository&lt;Article, Integer&gt;,\r\n\tCrudRepository&lt;Article, Integer&gt;,\r\n\tArticleExtendRepository\r\n{\r\n\r\n\t//\r\n\r\n}\r\n\r\n```\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n---\r\n\r\n**ArticleAutocompleteService.java**\r\n\r\n```\r\npublic interface ArticleAutocompleteService {\r\n\r\n\tList&lt;ArticleURINameDTO&gt; autocomplete(String q);\r\n\r\n}\r\n```\r\n\r\n---\r\n\r\n**FindBySubstringRepositorySupport.java**\r\n\r\n```\r\npublic interface FindBySubstringRepositorySupport&lt;T&gt; {\r\n\r\n\t// default method to be run if no implementation is present\r\n\tdefault List&lt;T&gt; findBySubstring(\r\n\t\tfinal String       namePart,\r\n\t\tfinal Integer      limit,\r\n\t\tfinal ObjectStatus objectStatus\r\n\t) {\r\n\t\tthrow new IllegalStateException( &quot;Method not implemented&quot; );\r\n\t}\r\n\r\n}\r\n```\r\n\r\n**ArticleExtendRepository.java**\r\n\r\n---\r\n\r\n```\r\npublic interface ArticleExtendRepository extends FindBySubstringRepositorySupport&lt;Article&gt; {\r\n\r\n\t// some method signature not important here\r\n\tlong countByStatus( ObjectStatus objectStatus );\r\n\r\n}\r\n```\r\n","title":"default method executed instead of implementation","body":"<p>When calling <code>findBySubstring()</code> from <code>ArticleAutocompleteServiceImpl</code> - default method of interface is executed instead of implementation. Is it because of generics? What did I do wrong? How to keep this structure and run implemented method instead of default method? Please can someone help me with this?</p>\n<p><strong>EDIT:</strong>\nIf I remove default method from <code>FindBySubstringRepositorySupport</code> and leave signature only, it works as expected. Downside is that I have to add dummy implementation method to all services that implements <code>FindBySubstringRepositorySupport</code> and I use this method only on few that have real implementations.</p>\n<p><strong>ArticleAutocompleteServiceImpl.java</strong></p>\n<pre><code>@Service\npublic class ArticleAutocompleteServiceImpl implements ArticleAutocompleteService {\n\n    private final ArticleRepository articleRepository;\n\n    public ArticleAutocompleteServiceImpl( final ArticleRepository articleRepository ) {\n        this.articleRepository = articleRepository;\n    }\n\n    @Override\n    public List&lt;ArticleURINameDTO&gt; autocomplete( final String q ) {\n\n        // calling repository method and expecting to run implemented method,\n        // not default mehtod of interface\n        final List&lt;Article&gt; lst =\n            this.articleRepository.findBySubstring( q, 10, ObjectStatus.ENABLED );\n\n        final Locale locale = ...\n\n        return lst.stream().map(a -&gt; new ArticleURINameDTO(a, locale)).toList();\n    }\n\n\n</code></pre>\n<hr />\n<p><strong>ArticleRepositoryImpl.java</strong></p>\n<pre><code>public class ArticleRepositoryImpl implements ArticleExtendRepository {\n\n    @PersistenceContext\n    private EntityManager entityManager;\n\n    private final StoredProcService storedProcService;\n\n    public ArticleRepositoryImpl( final StoredProcService storedProcService ) {\n        this.storedProcService = storedProcService;\n    }\n\n    // implementation that should override default method of interface\n    @Override\n    public List&lt;Article&gt; findBySubstring(\n        final String       namePart,\n        final Integer      limit,\n        final ObjectStatus objectStatus\n    ) {\n        return this.storedProcService.execute( ... );\n    }\n\n\n}\n</code></pre>\n<hr />\n<p><strong>ArticleRepository.java</strong></p>\n<pre><code>public interface ArticleRepository extends\n    PagingAndSortingRepository&lt;Article, Integer&gt;,\n    CrudRepository&lt;Article, Integer&gt;,\n    ArticleExtendRepository\n{\n\n    //\n\n}\n\n</code></pre>\n<hr />\n<p><strong>ArticleAutocompleteService.java</strong></p>\n<pre><code>public interface ArticleAutocompleteService {\n\n    List&lt;ArticleURINameDTO&gt; autocomplete(String q);\n\n}\n</code></pre>\n<hr />\n<p><strong>FindBySubstringRepositorySupport.java</strong></p>\n<pre><code>public interface FindBySubstringRepositorySupport&lt;T&gt; {\n\n    // default method to be run if no implementation is present\n    default List&lt;T&gt; findBySubstring(\n        final String       namePart,\n        final Integer      limit,\n        final ObjectStatus objectStatus\n    ) {\n        throw new IllegalStateException( &quot;Method not implemented&quot; );\n    }\n\n}\n</code></pre>\n<p><strong>ArticleExtendRepository.java</strong></p>\n<hr />\n<pre><code>public interface ArticleExtendRepository extends FindBySubstringRepositorySupport&lt;Article&gt; {\n\n    // some method signature not important here\n    long countByStatus( ObjectStatus objectStatus );\n\n}\n</code></pre>\n"},{"tags":["java","video","codec"],"owner":{"account_id":4459325,"reputation":1497,"user_id":3628679,"display_name":"Alex"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":17,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697732408,"creation_date":1697732408,"question_id":77325525,"body_markdown":"I am using in my JavaFX application a MediaView with the javafx.scene.media classes Media and MediaPlayer. The content are rather short mp4 movies, that are typically only ~3 secs long. I use a test loop, where I try to repeat one of these movies 45 times - this number reflects my minimum number of repeats, when really using the application. \r\n\r\nWhile still on OpenJFX 17 I had a hard time, since I got in about 10% of the attempts MediaExceptions  - we are talking about the same file - and more important, stalled or even no display for some of the 45 repetitions. I played around with different versions of the movie with different frames per second settings, and different bit rates. No setup worked reliable, and differences in stability where not significant.\r\n\r\nAnyway, since I moved recently to OpenJFX 19, I tried what happens, if I convert my movie to the H265 codec. And at least the first three test runs worked without any problem. Therefore, in real life, I want to test whether a movie is H265 coded and inform the user to consider re-coding, if not. How can I check the movie codec using java? \r\n\r\nThank you in advance.","title":"Java - How can I find out what codec a video is using","body":"<p>I am using in my JavaFX application a MediaView with the javafx.scene.media classes Media and MediaPlayer. The content are rather short mp4 movies, that are typically only ~3 secs long. I use a test loop, where I try to repeat one of these movies 45 times - this number reflects my minimum number of repeats, when really using the application.</p>\n<p>While still on OpenJFX 17 I had a hard time, since I got in about 10% of the attempts MediaExceptions  - we are talking about the same file - and more important, stalled or even no display for some of the 45 repetitions. I played around with different versions of the movie with different frames per second settings, and different bit rates. No setup worked reliable, and differences in stability where not significant.</p>\n<p>Anyway, since I moved recently to OpenJFX 19, I tried what happens, if I convert my movie to the H265 codec. And at least the first three test runs worked without any problem. Therefore, in real life, I want to test whether a movie is H265 coded and inform the user to consider re-coding, if not. How can I check the movie codec using java?</p>\n<p>Thank you in advance.</p>\n"},{"tags":["java","spring-mvc","spring-boot","rest-assured"],"answers":[{"comments":[{"owner":{"account_id":6181892,"reputation":715,"user_id":4817108,"accept_rate":41,"display_name":"worrynerd"},"score":0,"creation_date":1507663454,"post_id":46656842,"comment_id":80297275,"body_markdown":"I am still facing the problem. On digging into the Spring lib seems like Spring Util lib has a method call UriComponentsBuillder which accepts the uri to be formed before whereas RestAssured has its own methods to form the uri. how can I solve this problem and pass the uri using restassured lib?","body":"I am still facing the problem. On digging into the Spring lib seems like Spring Util lib has a method call UriComponentsBuillder which accepts the uri to be formed before whereas RestAssured has its own methods to form the uri. how can I solve this problem and pass the uri using restassured lib?"},{"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"score":0,"creation_date":1507673044,"post_id":46656842,"comment_id":80301816,"body_markdown":"If you post an uri  you shouldn&#39;t care how spring will interpret it internally. If uri is `null` then you have used wrong request.","body":"If you post an uri  you shouldn&#39;t care how spring will interpret it internally. If uri is <code>null</code> then you have used wrong request."},{"owner":{"account_id":6181892,"reputation":715,"user_id":4817108,"accept_rate":41,"display_name":"worrynerd"},"score":0,"creation_date":1507678417,"post_id":46656842,"comment_id":80303397,"body_markdown":"My findings today. The service is using restTemplate.postForEntity(url, body, TestResponse.class) . On doing some research seems like postForEntity requires the url to be formed correctly. I think its something releated to the RestTemplate and RestAssured compatibility.","body":"My findings today. The service is using restTemplate.postForEntity(url, body, TestResponse.class) . On doing some research seems like postForEntity requires the url to be formed correctly. I think its something releated to the RestTemplate and RestAssured compatibility."}],"tags":[],"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1507594632,"creation_date":1507594632,"answer_id":46656842,"question_id":46656570,"body_markdown":"You already has `.log().all()` duplicated.\r\n\r\n    return given().log().all()\r\n            .contentType(ContentType.JSON)\r\n            .body(request)\r\n            .when()            \r\n            .post(&quot;/weather&quot;)\r\n            .andReturn()\r\n            .as(TestResponse.class);","title":"Error: java.lang.IllegalArgumentException: URI must not be null when using RestAssured in SpringBootTest aginst the RestTemplate","body":"<p>You already has <code>.log().all()</code> duplicated.</p>\n\n<pre><code>return given().log().all()\n        .contentType(ContentType.JSON)\n        .body(request)\n        .when()            \n        .post(\"/weather\")\n        .andReturn()\n        .as(TestResponse.class);\n</code></pre>\n"}],"owner":{"account_id":6181892,"reputation":715,"user_id":4817108,"accept_rate":41,"display_name":"worrynerd"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":9287,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1697731390,"creation_date":1507592477,"question_id":46656570,"body_markdown":"This the `BaseTest` abstract class where the configuration is being set :\r\n\r\n    @RunWith(SpringRunner.class)\r\n    @SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT)\r\n    public abstract class BaseIntegration {\r\n\r\n    @Value(&quot;${local.server.port}&quot;)\r\n    private int serverPort;\r\n\r\n    @Before\r\n    public void setup() {\r\n        RestAssured.port = serverPort;\r\n    }}\r\n\r\nThe test class is very simple : \r\n\r\n    public class TestIT extends BaseIntegration{//Test Code}\r\n\r\n`RestClient` created using `RestAssured` :\r\n\r\n    public static TestResponse postResponse(TestRequest request) {\r\n\r\n        return given().log().all()\r\n                .contentType(ContentType.JSON)\r\n                .body(request)\r\n                .when()\r\n                .log().all()\r\n                .post(&quot;/weather&quot;)\r\n                .as(TestResponse.class);\r\n\r\n    }\r\n\r\nWhen the test are running in teamcity this is what the error log says :\r\n\r\n    java.lang.IllegalArgumentException: URI must not be null\r\n    at org.springframework.util.Assert.notNull(Assert.java:134) ~[spring-core-4.3.10.RELEASE.jar:4.3.10.RELEASE]\r\n    at org.springframework.web.util.UriComponentsBuilder.fromUriString(UriComponentsBuilder.java:189) ~[spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]\r\n    at org.springframework.web.util.DefaultUriTemplateHandler.initUriComponentsBuilder(DefaultUriTemplateHandler.java:114) ~[spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]\r\n    at org.springframework.web.util.DefaultUriTemplateHandler.expandInternal(DefaultUriTemplateHandler.java:103) ~[spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]\r\n    at org.springframework.web.util.AbstractUriTemplateHandler.expand(AbstractUriTemplateHandler.java:106) ~[spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]\r\n    at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:612) ~[spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]\r\n    at org.springframework.web.client.RestTemplate.postForEntity(RestTemplate.java:407) ~[spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]\r\n\r\nI am not using the `RestTemplate` or `TestRestTemplate`. There is another test that is using that and that test is working fine. I am unable to understand what can be causing the problem.\r\n\r\n**EDIT:**\r\n\r\nSeems like the service endpoint is using `RestTemplate` \r\n\r\n    restTemplate.postForEntity(url, body, TestResponse.class);\r\n\r\nOn calling the endpoint my test are failing. I am thinking that there are some compatilibily issue with `RestTemplate` and `RestAssured` libs.\r\n","title":"Error: java.lang.IllegalArgumentException: URI must not be null when using RestAssured in SpringBootTest aginst the RestTemplate","body":"<p>This the <code>BaseTest</code> abstract class where the configuration is being set :</p>\n<pre><code>@RunWith(SpringRunner.class)\n@SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT)\npublic abstract class BaseIntegration {\n\n@Value(&quot;${local.server.port}&quot;)\nprivate int serverPort;\n\n@Before\npublic void setup() {\n    RestAssured.port = serverPort;\n}}\n</code></pre>\n<p>The test class is very simple :</p>\n<pre><code>public class TestIT extends BaseIntegration{//Test Code}\n</code></pre>\n<p><code>RestClient</code> created using <code>RestAssured</code> :</p>\n<pre><code>public static TestResponse postResponse(TestRequest request) {\n\n    return given().log().all()\n            .contentType(ContentType.JSON)\n            .body(request)\n            .when()\n            .log().all()\n            .post(&quot;/weather&quot;)\n            .as(TestResponse.class);\n\n}\n</code></pre>\n<p>When the test are running in teamcity this is what the error log says :</p>\n<pre><code>java.lang.IllegalArgumentException: URI must not be null\nat org.springframework.util.Assert.notNull(Assert.java:134) ~[spring-core-4.3.10.RELEASE.jar:4.3.10.RELEASE]\nat org.springframework.web.util.UriComponentsBuilder.fromUriString(UriComponentsBuilder.java:189) ~[spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]\nat org.springframework.web.util.DefaultUriTemplateHandler.initUriComponentsBuilder(DefaultUriTemplateHandler.java:114) ~[spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]\nat org.springframework.web.util.DefaultUriTemplateHandler.expandInternal(DefaultUriTemplateHandler.java:103) ~[spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]\nat org.springframework.web.util.AbstractUriTemplateHandler.expand(AbstractUriTemplateHandler.java:106) ~[spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]\nat org.springframework.web.client.RestTemplate.execute(RestTemplate.java:612) ~[spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]\nat org.springframework.web.client.RestTemplate.postForEntity(RestTemplate.java:407) ~[spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]\n</code></pre>\n<p>I am not using the <code>RestTemplate</code> or <code>TestRestTemplate</code>. There is another test that is using that and that test is working fine. I am unable to understand what can be causing the problem.</p>\n<p><strong>EDIT:</strong></p>\n<p>Seems like the service endpoint is using <code>RestTemplate</code></p>\n<pre><code>restTemplate.postForEntity(url, body, TestResponse.class);\n</code></pre>\n<p>On calling the endpoint my test are failing. I am thinking that there are some compatilibily issue with <code>RestTemplate</code> and <code>RestAssured</code> libs.</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9803,"page":114,"page_size":100}
