{"items":[{"tags":["java","android","repeat","detection","face-detection"],"comments":[{"owner":{"account_id":13104915,"reputation":677,"user_id":9468070,"display_name":"bijaykumarpun"},"score":0,"creation_date":1557824840,"post_id":56123221,"comment_id":98885114,"body_markdown":"please put the crash report as well","body":"please put the crash report as well"},{"owner":{"account_id":15888164,"reputation":59,"user_id":11464005,"display_name":"Nicolas Borowicz"},"score":0,"creation_date":1557884761,"post_id":56123221,"comment_id":98911802,"body_markdown":"I have edited my post in order to put the crash report","body":"I have edited my post in order to put the crash report"},{"owner":{"account_id":9764543,"reputation":1315,"user_id":7238475,"accept_rate":100,"display_name":"flopshot"},"score":0,"creation_date":1557884903,"post_id":56123221,"comment_id":98911831,"body_markdown":"I’d use the new CameraX apis. Much simpler","body":"I’d use the new CameraX apis. Much simpler"}],"answers":[{"tags":[],"owner":{"account_id":1420007,"reputation":17492,"user_id":1344825,"display_name":"Eddy Talvala"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1557942606,"creation_date":1557942606,"answer_id":56155072,"question_id":56123221,"body_markdown":"You&#39;re resetting mCaptureSession to null somewhere in your code before the handler method can run, or this particular mCaptureSession is never correctly initialized to begin with.\r\n\r\nYou could explicitly use a copy of mCaptureSession to pass into the Handler runnable to avoid the nullness issue if you can&#39;t find what sets the member variable to null, but then you still have to make sure nothing actually closes the session before your handler runs.","title":"How to use Handler with a CaptureSession.stopReapeating()?","body":"<p>You're resetting mCaptureSession to null somewhere in your code before the handler method can run, or this particular mCaptureSession is never correctly initialized to begin with.</p>\n\n<p>You could explicitly use a copy of mCaptureSession to pass into the Handler runnable to avoid the nullness issue if you can't find what sets the member variable to null, but then you still have to make sure nothing actually closes the session before your handler runs.</p>\n"}],"owner":{"account_id":15888164,"reputation":59,"user_id":11464005,"display_name":"Nicolas Borowicz"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":532,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":56155072,"answer_count":1,"score":0,"last_activity_date":1691837061,"creation_date":1557809622,"question_id":56123221,"body_markdown":"I&#39;m working on a face detection app with android studio (Based on Camera2 Api face recon). The problem is the following : the capture session is stopped when some condition are true. Then, the user can take the picture or retry (capture session is started). I would like to give time to user after he used retry button in order to replace his face. \r\n\r\nButtons retry and take picture appear when the face take more than 20% of the screen. During the same time, I use stopRepeating in order to freeze the camera capture session. I tried to put these functions in a handler, but when I put the stopRepeating inside the handler, the app crash.\r\n\r\n\r\n    if(face/sizeEc&gt;0.20 &amp;&amp; face/sizeEc&lt;0.6){\r\n    \r\n      new Handler().postDelayed(new Runnable() {\r\n    \r\n        @Override\r\n        public void run() {\r\n    \r\n          TextView textView = (TextView) getView().findViewById(R.id.picture);\r\n          textView.setVisibility(View.VISIBLE);\r\n          TextView textView2 = (TextView) getView().findViewById(R.id.picture2);\r\n          textView2.setVisibility(View.VISIBLE);\r\n          try {\r\n            mCaptureSession.stopRepeating();\r\n          } catch (CameraAccessException e) {\r\n            e.printStackTrace();\r\n          }\r\n    \r\n    \r\n        }\r\n      }, 2000);\r\n\r\n      //I tried to use this handler in order to allow user to replace his head\r\n      //But there is a problem when the handler is used with stopRepeating\r\n\r\n    }\r\n\r\n\r\n\r\nand the code for the retry button : \r\n\r\n    textView2.setOnClickListener(new View.OnClickListener() {\r\n    \r\n      @Override\r\n      public void onClick(View view) {\r\n    \r\n    \r\n        try {\r\n          mCaptureSession.setRepeatingRequest(mPreviewRequest,\r\n            mCaptureCallback, mBackgroundHandler);\r\n        } catch (CameraAccessException e) {\r\n          e.printStackTrace();\r\n        }\r\n        textView.setVisibility(View.GONE);\r\n        textView2.setVisibility(View.GONE);\r\n        asDelayed=true;\r\n    \r\n    \r\n      }\r\n    });\r\n\r\nAs I said, when I do this, the app crash when I use take picture after a retry. I would like to give time to user to replace his face after using retry button.\r\n\r\n\r\n[EDIT] Here is the error\r\n\r\n2019-05-15 08:44:12.149 28923-28923/weladee.frontware.com.weladee_android E/AndroidRuntime: FATAL EXCEPTION: main\r\n    Process: weladee.frontware.com.weladee_android, PID: 28923\r\n    java.lang.NullPointerException: Attempt to invoke virtual method &#39;void android.hardware.camera2.CameraCaptureSession.stopRepeating()&#39; on a null object reference\r\n        at weladee.frontware.com.weladee_android.utils.front_camera.CameraFacingFront$4$1$1.run(CameraFacingFront.java:429)\r\n        at android.os.Handler.handleCallback(Handler.java:761)\r\n        at android.os.Handler.dispatchMessage(Handler.java:98)\r\n        at android.os.Looper.loop(Looper.java:156)\r\n        at android.app.ActivityThread.main(ActivityThread.java:6523)\r\n        at java.lang.reflect.Method.invoke(Native Method)\r\n        at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:942)\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:832)","title":"How to use Handler with a CaptureSession.stopReapeating()?","body":"<p>I'm working on a face detection app with android studio (Based on Camera2 Api face recon). The problem is the following : the capture session is stopped when some condition are true. Then, the user can take the picture or retry (capture session is started). I would like to give time to user after he used retry button in order to replace his face. </p>\n\n<p>Buttons retry and take picture appear when the face take more than 20% of the screen. During the same time, I use stopRepeating in order to freeze the camera capture session. I tried to put these functions in a handler, but when I put the stopRepeating inside the handler, the app crash.</p>\n\n<pre><code>if(face/sizeEc&gt;0.20 &amp;&amp; face/sizeEc&lt;0.6){\n\n  new Handler().postDelayed(new Runnable() {\n\n    @Override\n    public void run() {\n\n      TextView textView = (TextView) getView().findViewById(R.id.picture);\n      textView.setVisibility(View.VISIBLE);\n      TextView textView2 = (TextView) getView().findViewById(R.id.picture2);\n      textView2.setVisibility(View.VISIBLE);\n      try {\n        mCaptureSession.stopRepeating();\n      } catch (CameraAccessException e) {\n        e.printStackTrace();\n      }\n\n\n    }\n  }, 2000);\n\n  //I tried to use this handler in order to allow user to replace his head\n  //But there is a problem when the handler is used with stopRepeating\n\n}\n</code></pre>\n\n<p>and the code for the retry button : </p>\n\n<pre><code>textView2.setOnClickListener(new View.OnClickListener() {\n\n  @Override\n  public void onClick(View view) {\n\n\n    try {\n      mCaptureSession.setRepeatingRequest(mPreviewRequest,\n        mCaptureCallback, mBackgroundHandler);\n    } catch (CameraAccessException e) {\n      e.printStackTrace();\n    }\n    textView.setVisibility(View.GONE);\n    textView2.setVisibility(View.GONE);\n    asDelayed=true;\n\n\n  }\n});\n</code></pre>\n\n<p>As I said, when I do this, the app crash when I use take picture after a retry. I would like to give time to user to replace his face after using retry button.</p>\n\n<p>[EDIT] Here is the error</p>\n\n<p>2019-05-15 08:44:12.149 28923-28923/weladee.frontware.com.weladee_android E/AndroidRuntime: FATAL EXCEPTION: main\n    Process: weladee.frontware.com.weladee_android, PID: 28923\n    java.lang.NullPointerException: Attempt to invoke virtual method 'void android.hardware.camera2.CameraCaptureSession.stopRepeating()' on a null object reference\n        at weladee.frontware.com.weladee_android.utils.front_camera.CameraFacingFront$4$1$1.run(CameraFacingFront.java:429)\n        at android.os.Handler.handleCallback(Handler.java:761)\n        at android.os.Handler.dispatchMessage(Handler.java:98)\n        at android.os.Looper.loop(Looper.java:156)\n        at android.app.ActivityThread.main(ActivityThread.java:6523)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:942)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:832)</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":1,"creation_date":1691759840,"post_id":76883870,"comment_id":135539098,"body_markdown":"Block what? There&#39;s only one thread here, nothing to block.","body":"Block what? There&#39;s only one thread here, nothing to block."},{"owner":{"account_id":17753497,"reputation":71,"user_id":14039564,"display_name":"Squared"},"score":1,"creation_date":1691760406,"post_id":76883870,"comment_id":135539254,"body_markdown":"Why only one? There are main and Thread-0.","body":"Why only one? There are main and Thread-0."},{"owner":{"account_id":5553464,"reputation":17547,"user_id":4405757,"accept_rate":57,"display_name":"Thiyagu"},"score":0,"creation_date":1691760509,"post_id":76883870,"comment_id":135539280,"body_markdown":"Why do you think so?","body":"Why do you think so?"},{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1691760675,"post_id":76883870,"comment_id":135539308,"body_markdown":"Right, one in addition to the main thread. Still there&#39;s nothing to block: Thread-0 is running and the main thread is waiting for it to finish.","body":"Right, one in addition to the main thread. Still there&#39;s nothing to block: Thread-0 is running and the main thread is waiting for it to finish."}],"answers":[{"comments":[{"owner":{"account_id":17753497,"reputation":71,"user_id":14039564,"display_name":"Squared"},"score":0,"creation_date":1691853677,"post_id":76883990,"comment_id":135549134,"body_markdown":"I read your answer without result, then read Java The Complete Reference, and now I understand that your answer is correct. There is no difference between statements object.syncMethod() and synchronized (object) { object.nonSyncMethod() } because they both do the same thing - they just say &quot;thread, try to get access to the monitor of this object&quot;. If thread call nonSyncMethod without sync block - it&#39;s not problem, because this thread doesn&#39;t try to control monitor. Am I correct? If yes - thank you so much.","body":"I read your answer without result, then read Java The Complete Reference, and now I understand that your answer is correct. There is no difference between statements object.syncMethod() and synchronized (object) { object.nonSyncMethod() } because they both do the same thing - they just say &quot;thread, try to get access to the monitor of this object&quot;. If thread call nonSyncMethod without sync block - it&#39;s not problem, because this thread doesn&#39;t try to control monitor. Am I correct? If yes - thank you so much."}],"tags":[],"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1691760611,"creation_date":1691760611,"answer_id":76883990,"question_id":76883870,"body_markdown":"You misunderstood what `synchronized` means. It doesn&#39;t &quot;block&quot; an object in the sense that other methods of that object cannot run. The `run` method can totally in parallel with `method1`.\r\n\r\nWhen `synchronized` methods are called, all that happens is that the monitor of `this` is acquired. After that, if some other thread *also* tries to acquire that same monitor (either by calling a `synchronized` method on the same object, or using a `synchronized` block that synchronises on that object), then that other thread will wait until the monitor is released. The monitor is released when the `synchronized` method returns or throws an exception.\r\n\r\nIn other words, if there is only ever one thread that acquires a monitor, it will not be very different from not using `synchronized` at all. This is what happens in your code - only the main thread acquires the monitor of `mt1` by calling `method1`. The `run` method doesn&#39;t acquire any monitors.\r\n\r\nIf you also call `method1` in `run`, then both the main thread and `mt1` will try to acquire the monitor. One of them will get it, and the other will have to wait until the monitor is released.","title":"Why doesn&#39;t the call to the synchronized method block the object?","body":"<p>You misunderstood what <code>synchronized</code> means. It doesn't &quot;block&quot; an object in the sense that other methods of that object cannot run. The <code>run</code> method can totally in parallel with <code>method1</code>.</p>\n<p>When <code>synchronized</code> methods are called, all that happens is that the monitor of <code>this</code> is acquired. After that, if some other thread <em>also</em> tries to acquire that same monitor (either by calling a <code>synchronized</code> method on the same object, or using a <code>synchronized</code> block that synchronises on that object), then that other thread will wait until the monitor is released. The monitor is released when the <code>synchronized</code> method returns or throws an exception.</p>\n<p>In other words, if there is only ever one thread that acquires a monitor, it will not be very different from not using <code>synchronized</code> at all. This is what happens in your code - only the main thread acquires the monitor of <code>mt1</code> by calling <code>method1</code>. The <code>run</code> method doesn't acquire any monitors.</p>\n<p>If you also call <code>method1</code> in <code>run</code>, then both the main thread and <code>mt1</code> will try to acquire the monitor. One of them will get it, and the other will have to wait until the monitor is released.</p>\n"},{"comments":[{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1691760980,"post_id":76884030,"comment_id":135539384,"body_markdown":"&quot;only allow a singular execution of that method on one thread at a time&quot; - that&#39;s not correct. It only allows execution of *any* synchronized method on that object on one thread at a time. If there are multiple synchronized methods, they&#39;re all synchronized against the same object.","body":"&quot;only allow a singular execution of that method on one thread at a time&quot; - that&#39;s not correct. It only allows execution of <i>any</i> synchronized method on that object on one thread at a time. If there are multiple synchronized methods, they&#39;re all synchronized against the same object."},{"owner":{"account_id":14698033,"reputation":11,"user_id":17636972,"display_name":"funkemunky"},"score":0,"creation_date":1691761151,"post_id":76884030,"comment_id":135539427,"body_markdown":"Wow I didn&#39;t know that. Learn something new every day.","body":"Wow I didn&#39;t know that. Learn something new every day."}],"tags":[],"owner":{"account_id":14698033,"reputation":11,"user_id":17636972,"display_name":"funkemunky"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1691761263,"creation_date":1691760910,"answer_id":76884030,"question_id":76883870,"body_markdown":"When you synchronize methods in an object, you are telling the JVM to only allow one execution of all `synchronized` methods at a time. In your code, you are running MyThread#method() on the primary thread. While the method is executing, all other accesses to that singular method are blocked.\r\n\r\nHowever, the synchronization of a method will only block *synchronized methods* in the object, not the object itself. If you want to block an entire object, you will have to use a synchronized block on that object.\r\n\r\nIf you prefer to block the entire object of MyThread, here is how you would do that:\r\n``` lang-java\r\nclass MyThread implements Runnable {\r\n    public Thread thrd;\r\n\r\n    public MyThread() {\r\n        thrd = new Thread(this);\r\n    }\r\n\r\n    public static MyThread createAndRun() {\r\n        MyThread mt = new MyThread();\r\n        mt.thrd.start();\r\n        return mt;\r\n    }\r\n\r\n    @Override\r\n    public void run() {\r\n        synchronized (this) {\r\n            for (int i = 0; i &lt; 10; ++i) {\r\n                System.out.print(Thread.currentThread().getName() + &quot;:&quot; + i + &quot; &quot;);\r\n\r\n                try {\r\n                    Thread.sleep(250);\r\n                } catch (InterruptedException exception) {\r\n                    exception.printStackTrace();\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    public void method() {\r\n        for (int i = 0; i &lt; 10; ++i) {\r\n            System.out.print(Thread.currentThread().getName() + &quot;:&quot; + i + &quot; &quot;);\r\n            try {\r\n                Thread.sleep(250);\r\n            } catch (InterruptedException exception) {\r\n                exception.printStackTrace();\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\nclass App {\r\n    public static void main(String[] args) {\r\n        MyThread mt1 = MyThread.createAndRun();\r\n        synchronized (mt1) {\r\n            mt1.method();\r\n        }\r\n        try {\r\n            mt1.thrd.join();\r\n        } catch (InterruptedException exc) {\r\n            System.out.println(exc);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nHere is the following output:\r\n```\r\nmain:0 main:1 main:2 main:3 main:4 main:5 main:6 main:7 main:8 main:9 Thread-0:0 Thread-0:1 Thread-0:2 Thread-0:3 Thread-0:4 Thread-0:5 Thread-0:6 Thread-0:7 Thread-0:8 Thread-0:9 \r\n```\r\n\r\n","title":"Why doesn&#39;t the call to the synchronized method block the object?","body":"<p>When you synchronize methods in an object, you are telling the JVM to only allow one execution of all <code>synchronized</code> methods at a time. In your code, you are running MyThread#method() on the primary thread. While the method is executing, all other accesses to that singular method are blocked.</p>\n<p>However, the synchronization of a method will only block <em>synchronized methods</em> in the object, not the object itself. If you want to block an entire object, you will have to use a synchronized block on that object.</p>\n<p>If you prefer to block the entire object of MyThread, here is how you would do that:</p>\n<pre class=\"lang-java prettyprint-override\"><code>class MyThread implements Runnable {\n    public Thread thrd;\n\n    public MyThread() {\n        thrd = new Thread(this);\n    }\n\n    public static MyThread createAndRun() {\n        MyThread mt = new MyThread();\n        mt.thrd.start();\n        return mt;\n    }\n\n    @Override\n    public void run() {\n        synchronized (this) {\n            for (int i = 0; i &lt; 10; ++i) {\n                System.out.print(Thread.currentThread().getName() + &quot;:&quot; + i + &quot; &quot;);\n\n                try {\n                    Thread.sleep(250);\n                } catch (InterruptedException exception) {\n                    exception.printStackTrace();\n                }\n            }\n        }\n    }\n\n    public void method() {\n        for (int i = 0; i &lt; 10; ++i) {\n            System.out.print(Thread.currentThread().getName() + &quot;:&quot; + i + &quot; &quot;);\n            try {\n                Thread.sleep(250);\n            } catch (InterruptedException exception) {\n                exception.printStackTrace();\n            }\n        }\n    }\n}\n\nclass App {\n    public static void main(String[] args) {\n        MyThread mt1 = MyThread.createAndRun();\n        synchronized (mt1) {\n            mt1.method();\n        }\n        try {\n            mt1.thrd.join();\n        } catch (InterruptedException exc) {\n            System.out.println(exc);\n        }\n    }\n}\n</code></pre>\n<p>Here is the following output:</p>\n<pre><code>main:0 main:1 main:2 main:3 main:4 main:5 main:6 main:7 main:8 main:9 Thread-0:0 Thread-0:1 Thread-0:2 Thread-0:3 Thread-0:4 Thread-0:5 Thread-0:6 Thread-0:7 Thread-0:8 Thread-0:9 \n</code></pre>\n"}],"owner":{"account_id":17753497,"reputation":71,"user_id":14039564,"display_name":"Squared"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76883990,"answer_count":2,"score":0,"last_activity_date":1691836283,"creation_date":1691759558,"question_id":76883870,"body_markdown":"Why doesn&#39;t the call to the synchronized method block the object?\r\nI assume that mt1.method(); should block object MyThread. But it doesn&#39;t happen.\r\n```\r\nclass MyThread implements Runnable {\r\n    public Thread thrd;\r\n\r\n    public MyThread() {\r\n        thrd = new Thread(this);\r\n    }\r\n\r\n    public static MyThread createAndRun() {//Test t\r\n        MyThread mt = new MyThread();\r\n        mt.thrd.start();\r\n        return mt;\r\n    }\r\n\r\n    @Override\r\n    public void run() {\r\n// This way main thread doesn&#39;t block MyThread.\r\n        for (int i = 0; i &lt; 10; ++i) {\r\n            System.out.print(Thread.currentThread().getName() + &quot;:&quot; + i + &quot; &quot;);\r\n\r\n            try {\r\n                Thread.sleep(250);\r\n            } catch (InterruptedException exception) {\r\n                exception.printStackTrace();\r\n            }\r\n        }\r\n//main:0 Thread-0:0 main:1 Thread-0:1 main:2 Thread-0:2 main:3 Thread-0:3 main:4 Thread-0:4 main:5 Thread-0:5 Thread-0:6 main:6 Thread-0:7 main:7 Thread-0:8 main:8 Thread-0:9 main:9 \r\n\r\n\r\n\r\n\r\n\r\n//        method();// if use it instead for-lopp - all works as expected. \r\n//main:0 main:1 main:2 main:3 main:4 main:5 main:6 main:7 main:8 main:9 Thread-0:0 Thread-0:1 Thread-0:2 Thread-0:3 Thread-0:4 Thread-0:5 Thread-0:6 Thread-0:7 Thread-0:8 Thread-0:9 \r\n    }\r\n\r\n    synchronized public void method() {\r\n        for (int i = 0; i &lt; 10; ++i) {\r\n            System.out.print(Thread.currentThread().getName() + &quot;:&quot; + i + &quot; &quot;);\r\n            try {\r\n                Thread.sleep(250);\r\n            } catch (InterruptedException exception) {\r\n                exception.printStackTrace();\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\nclass App {\r\n    public static void main(String[] args) {\r\n        MyThread mt1 = MyThread.createAndRun();\r\n        mt1.method();\r\n        try {\r\n            mt1.thrd.join();\r\n        } catch (InterruptedException exc) {\r\n            System.out.println(exc);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nI assume that mt1.method(); should block object MyThread. But it doesn&#39;t happen. What don&#39;t I understand correctly?","title":"Why doesn&#39;t the call to the synchronized method block the object?","body":"<p>Why doesn't the call to the synchronized method block the object?\nI assume that mt1.method(); should block object MyThread. But it doesn't happen.</p>\n<pre><code>class MyThread implements Runnable {\n    public Thread thrd;\n\n    public MyThread() {\n        thrd = new Thread(this);\n    }\n\n    public static MyThread createAndRun() {//Test t\n        MyThread mt = new MyThread();\n        mt.thrd.start();\n        return mt;\n    }\n\n    @Override\n    public void run() {\n// This way main thread doesn't block MyThread.\n        for (int i = 0; i &lt; 10; ++i) {\n            System.out.print(Thread.currentThread().getName() + &quot;:&quot; + i + &quot; &quot;);\n\n            try {\n                Thread.sleep(250);\n            } catch (InterruptedException exception) {\n                exception.printStackTrace();\n            }\n        }\n//main:0 Thread-0:0 main:1 Thread-0:1 main:2 Thread-0:2 main:3 Thread-0:3 main:4 Thread-0:4 main:5 Thread-0:5 Thread-0:6 main:6 Thread-0:7 main:7 Thread-0:8 main:8 Thread-0:9 main:9 \n\n\n\n\n\n//        method();// if use it instead for-lopp - all works as expected. \n//main:0 main:1 main:2 main:3 main:4 main:5 main:6 main:7 main:8 main:9 Thread-0:0 Thread-0:1 Thread-0:2 Thread-0:3 Thread-0:4 Thread-0:5 Thread-0:6 Thread-0:7 Thread-0:8 Thread-0:9 \n    }\n\n    synchronized public void method() {\n        for (int i = 0; i &lt; 10; ++i) {\n            System.out.print(Thread.currentThread().getName() + &quot;:&quot; + i + &quot; &quot;);\n            try {\n                Thread.sleep(250);\n            } catch (InterruptedException exception) {\n                exception.printStackTrace();\n            }\n        }\n    }\n}\n\nclass App {\n    public static void main(String[] args) {\n        MyThread mt1 = MyThread.createAndRun();\n        mt1.method();\n        try {\n            mt1.thrd.join();\n        } catch (InterruptedException exc) {\n            System.out.println(exc);\n        }\n    }\n}\n</code></pre>\n<p>I assume that mt1.method(); should block object MyThread. But it doesn't happen. What don't I understand correctly?</p>\n"},{"tags":["java","spring-boot","oop","design-patterns","dto"],"comments":[{"owner":{"account_id":3449131,"reputation":12148,"user_id":2889165,"accept_rate":73,"display_name":"Andreas Lundgren"},"score":0,"creation_date":1691854005,"post_id":76888527,"comment_id":135549157,"body_markdown":"I answered a very similar question last week, so here are my 5 cents of you want to see different views: https://stackoverflow.com/questions/76809263/relation-between-services-when-using-dtos-in-spring","body":"I answered a very similar question last week, so here are my 5 cents of you want to see different views: <a href=\"https://stackoverflow.com/questions/76809263/relation-between-services-when-using-dtos-in-spring\" title=\"relation between services when using dtos in spring\">stackoverflow.com/questions/76809263/&hellip;</a>"},{"owner":{"account_id":25654570,"reputation":111,"user_id":19421233,"display_name":"Vidz Here"},"score":0,"creation_date":1691869154,"post_id":76888527,"comment_id":135550590,"body_markdown":"One of the common pattern is to implement ModelMapperUtil class with generics methods &amp; calling those methods in serviceImpl class .","body":"One of the common pattern is to implement ModelMapperUtil class with generics methods &amp; calling those methods in serviceImpl class ."}],"answers":[{"tags":[],"owner":{"account_id":43160,"reputation":227400,"user_id":126014,"accept_rate":86,"display_name":"Mark Seemann"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1691834529,"creation_date":1691834529,"answer_id":76888755,"question_id":76888527,"body_markdown":"There&#39;s hardly any unqualified universal answer to a design problem like this one, but in general, Data Transfer Objects exist in order to model how an application interfaces with the rest of the world: JSON, XML, database rows, etc.\r\n\r\n[At the boundaries, applications aren&#39;t object-oriented][1], and DTOs aren&#39;t really proper objects, in any sense of object-orientation. As Martin Fowler wrote in [PEAA][2]:\r\n\r\n&gt; &quot;A *Data Transfer Object* is one of those objects our mothers told us never to write.&quot;\r\n\r\nDTOs should be specific to an external API, so for the same Domain Model, you may even have one DTO for representing an Entity as JSON, and another DTO for representing it as a database row.\r\n\r\nIn a typical [ports-and-adapters][3] architecture, the DTOs and Adapters are defined at the boundary of the application.\r\n\r\nIf you follow the [Dependency Inversion Principle][4] you want to keep the core Domain Model free of &#39;edge&#39; concerns, whereas the &#39;edge&#39; (or boundary) may depend on, and know of, the core Domain Model.\r\n\r\nFrom this principle it then follows that all mapping that involves DTOs must exist at the same &#39;layer&#39; as the DTOs themselves.\r\n\r\nPeople often find that [Clean Architecture][5] explains this in a way that makes sense. Dependencies may only point inwards.\r\n\r\nIf I understand the terminology of the OP correctly, put mappers in the &#39;Controller layer&#39;, since this is also where the DTOs should be, and DTOs are exclusively a &#39;Controller-layer&#39; concern.\r\n\r\nYou don&#39;t necessarily have to put the conversion logic into actual Controller classes, but the conversions belong in that layer (e.g. library or module).\r\n\r\nAs to the more specific question about services *A* and *B*, I would consider writing the APIs in terms of the Domain Model (Entities) instead of DTOs.\r\n\r\n\r\n  [1]: https://blog.ploeh.dk/2011/05/31/AttheBoundaries,ApplicationsareNotObject-Oriented\r\n  [2]: https://blog.ploeh.dk/ref/peaa\r\n  [3]: https://alistair.cockburn.us/hexagonal-architecture/\r\n  [4]: https://en.wikipedia.org/wiki/Dependency_inversion_principle\r\n  [5]: https://blog.ploeh.dk/ref/clean-architecture","title":"Where is the best place to convert Entity to DTO?","body":"<p>There's hardly any unqualified universal answer to a design problem like this one, but in general, Data Transfer Objects exist in order to model how an application interfaces with the rest of the world: JSON, XML, database rows, etc.</p>\n<p><a href=\"https://blog.ploeh.dk/2011/05/31/AttheBoundaries,ApplicationsareNotObject-Oriented\" rel=\"nofollow noreferrer\">At the boundaries, applications aren't object-oriented</a>, and DTOs aren't really proper objects, in any sense of object-orientation. As Martin Fowler wrote in <a href=\"https://blog.ploeh.dk/ref/peaa\" rel=\"nofollow noreferrer\">PEAA</a>:</p>\n<blockquote>\n<p>&quot;A <em>Data Transfer Object</em> is one of those objects our mothers told us never to write.&quot;</p>\n</blockquote>\n<p>DTOs should be specific to an external API, so for the same Domain Model, you may even have one DTO for representing an Entity as JSON, and another DTO for representing it as a database row.</p>\n<p>In a typical <a href=\"https://alistair.cockburn.us/hexagonal-architecture/\" rel=\"nofollow noreferrer\">ports-and-adapters</a> architecture, the DTOs and Adapters are defined at the boundary of the application.</p>\n<p>If you follow the <a href=\"https://en.wikipedia.org/wiki/Dependency_inversion_principle\" rel=\"nofollow noreferrer\">Dependency Inversion Principle</a> you want to keep the core Domain Model free of 'edge' concerns, whereas the 'edge' (or boundary) may depend on, and know of, the core Domain Model.</p>\n<p>From this principle it then follows that all mapping that involves DTOs must exist at the same 'layer' as the DTOs themselves.</p>\n<p>People often find that <a href=\"https://blog.ploeh.dk/ref/clean-architecture\" rel=\"nofollow noreferrer\">Clean Architecture</a> explains this in a way that makes sense. Dependencies may only point inwards.</p>\n<p>If I understand the terminology of the OP correctly, put mappers in the 'Controller layer', since this is also where the DTOs should be, and DTOs are exclusively a 'Controller-layer' concern.</p>\n<p>You don't necessarily have to put the conversion logic into actual Controller classes, but the conversions belong in that layer (e.g. library or module).</p>\n<p>As to the more specific question about services <em>A</em> and <em>B</em>, I would consider writing the APIs in terms of the Domain Model (Entities) instead of DTOs.</p>\n"},{"comments":[{"owner":{"account_id":1455702,"reputation":15684,"user_id":1371329,"accept_rate":64,"display_name":"jaco0646"},"score":0,"creation_date":1691942584,"post_id":76888828,"comment_id":135555991,"body_markdown":"So you don&#39;t use something like MapStruct to generate the conversion mappings?","body":"So you don&#39;t use something like MapStruct to generate the conversion mappings?"},{"owner":{"account_id":29176687,"reputation":332,"user_id":22351796,"display_name":"Karsten"},"score":0,"creation_date":1691943603,"post_id":76888828,"comment_id":135556097,"body_markdown":"@jaco0646 When I wrote my answer I remembered this library that I used a long time ago. Maybe it&#39;s worth another try now.","body":"@jaco0646 When I wrote my answer I remembered this library that I used a long time ago. Maybe it&#39;s worth another try now."},{"owner":{"account_id":1455702,"reputation":15684,"user_id":1371329,"accept_rate":64,"display_name":"jaco0646"},"score":0,"creation_date":1691949941,"post_id":76888828,"comment_id":135556830,"body_markdown":"It wasn&#39;t my intention to promote a library. I was more curious to hear why you prefer hand rolling the mappings.","body":"It wasn&#39;t my intention to promote a library. I was more curious to hear why you prefer hand rolling the mappings."}],"tags":[],"owner":{"account_id":29176687,"reputation":332,"user_id":22351796,"display_name":"Karsten"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691835786,"creation_date":1691835786,"answer_id":76888828,"question_id":76888527,"body_markdown":"For the purpose of interfacing with web applications I frequently use records (&gt; Java 14), since they make class creation very easy:\r\n\r\n* I define them directly in the controllers as inner classes since they don&#39;t have any usage outside of them.\r\n* To prevent naming conflicts with entities I prepend them with an underscore.\r\n\r\nThe conversion logic isn&#39;t really logic. It&#39;s just forwarding the entities&#39; properties to the record or vice versa. Mapping lists of objects is also clear and easy using streams.","title":"Where is the best place to convert Entity to DTO?","body":"<p>For the purpose of interfacing with web applications I frequently use records (&gt; Java 14), since they make class creation very easy:</p>\n<ul>\n<li>I define them directly in the controllers as inner classes since they don't have any usage outside of them.</li>\n<li>To prevent naming conflicts with entities I prepend them with an underscore.</li>\n</ul>\n<p>The conversion logic isn't really logic. It's just forwarding the entities' properties to the record or vice versa. Mapping lists of objects is also clear and easy using streams.</p>\n"}],"owner":{"account_id":18044315,"reputation":1227,"user_id":13115701,"display_name":"Paul Marcelin Bejan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":572,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":76888755,"answer_count":2,"score":0,"last_activity_date":1691835786,"creation_date":1691831077,"question_id":76888527,"body_markdown":"Other than Service, is there any better place to put the mapper for converting Entity to DTO and vice-versa?\r\n\r\nAt work, we always put Mapper into the Service layer, but I&#39;m not sure this is the best place...\r\n\r\nThe service contains a bunch of methods that take as parameter DTO objects, or return DTO objects.\r\nAnd this is smooth when those methods are invoked on the controller side.\r\nBut sometimes we have methods in ServiceA that invoke a method of ServiceB, and I would like to avoid to convert object where is not needed:\r\n\r\nExample:\r\n\r\n    // A SERVICE IMPL\r\n    public Integer save(ADto aDto) {\r\n       AEntity aEntity = aMapper.toEntity(aDto);\r\n  \r\n       BEntity bEntity = aEntity.getBEntity();\r\n       BDto bDto = bMapper.toDto(bEntity);\r\n       bService.save(bDto);\r\n       \r\n       aEntity = aRepository.save(aEntity);\r\n       return aEntity.getId();\r\n    }\r\n\r\n    // B SERVICE IMPL\r\n    public Integer save(BDto bDto) {\r\n       BEntity bEntity = bMapper.toEntity(bDto);\r\n       bEntity = bRepository.save(bEntity);\r\n       return bEntity.getId();\r\n    }\r\n\r\nIn this case, there are 2 conversions that can be avoided:\r\n- `bMapper.toDto(bEntity);` \r\n- `bMapper.toEntity(bDto);`\r\n\r\nso we ended up having &quot;duplicate&quot; methods:\r\n\r\n    Integer save(Entity entity)\r\n    Integer saveFromDto(Dto dto)\r\n    Integer save(List&lt;Entity&gt; entities)\r\n    Integer saveFromDtos(List&lt;Dto&gt; dtos)\r\n    \r\n    Entity findById(Integer id)\r\n    Dto findByIdToDto(Integer id)\r\n    List&lt;Entity&gt; findAll()\r\n    List&lt;Dto&gt; findAllToDto()\r\n\r\nI started thinking about how to refactor it, and the following possibilities came to my mind:\r\n\r\n- **Move Mapper into Controller layer**\r\n  The controller is the layer that is responsible to send data as a response, so this layer must know what has to be sent, in my opinion, it is not the responsibility of the service to know what to send. \r\n  &lt;br&gt; PRO: doesn&#39;t need a new adapter class for each service\r\n  &lt;br&gt; CONS: add conversion logic into controller\r\n\r\n- **Create an Adapter of Service and use this one into Controller layer.** &lt;br&gt;\r\nBasically, the adapter will be responsible of:\r\n&lt;br&gt;1 - invoke the mapper method to convert Dto to Entity before invoking the service method that requires entity as parameter.\r\n&lt;br&gt;2 - invoke the mapper method to convert entity to dto before returning the result to the Controller layer.\r\n  &lt;br&gt; PRO: doesn&#39;t add conversion logic into controller.\r\n  &lt;br&gt; CONS: a new Adapter class for each service.\r\n\r\nThis refactor will free the Service layer from extra work, since it will be only aware of Entity classes and not also about DTOs.\r\n\r\n","title":"Where is the best place to convert Entity to DTO?","body":"<p>Other than Service, is there any better place to put the mapper for converting Entity to DTO and vice-versa?</p>\n<p>At work, we always put Mapper into the Service layer, but I'm not sure this is the best place...</p>\n<p>The service contains a bunch of methods that take as parameter DTO objects, or return DTO objects.\nAnd this is smooth when those methods are invoked on the controller side.\nBut sometimes we have methods in ServiceA that invoke a method of ServiceB, and I would like to avoid to convert object where is not needed:</p>\n<p>Example:</p>\n<pre><code>// A SERVICE IMPL\npublic Integer save(ADto aDto) {\n   AEntity aEntity = aMapper.toEntity(aDto);\n\n   BEntity bEntity = aEntity.getBEntity();\n   BDto bDto = bMapper.toDto(bEntity);\n   bService.save(bDto);\n   \n   aEntity = aRepository.save(aEntity);\n   return aEntity.getId();\n}\n\n// B SERVICE IMPL\npublic Integer save(BDto bDto) {\n   BEntity bEntity = bMapper.toEntity(bDto);\n   bEntity = bRepository.save(bEntity);\n   return bEntity.getId();\n}\n</code></pre>\n<p>In this case, there are 2 conversions that can be avoided:</p>\n<ul>\n<li><code>bMapper.toDto(bEntity);</code></li>\n<li><code>bMapper.toEntity(bDto);</code></li>\n</ul>\n<p>so we ended up having &quot;duplicate&quot; methods:</p>\n<pre><code>Integer save(Entity entity)\nInteger saveFromDto(Dto dto)\nInteger save(List&lt;Entity&gt; entities)\nInteger saveFromDtos(List&lt;Dto&gt; dtos)\n\nEntity findById(Integer id)\nDto findByIdToDto(Integer id)\nList&lt;Entity&gt; findAll()\nList&lt;Dto&gt; findAllToDto()\n</code></pre>\n<p>I started thinking about how to refactor it, and the following possibilities came to my mind:</p>\n<ul>\n<li><p><strong>Move Mapper into Controller layer</strong>\nThe controller is the layer that is responsible to send data as a response, so this layer must know what has to be sent, in my opinion, it is not the responsibility of the service to know what to send.\n<br> PRO: doesn't need a new adapter class for each service\n<br> CONS: add conversion logic into controller</p>\n</li>\n<li><p><strong>Create an Adapter of Service and use this one into Controller layer.</strong> <br>\nBasically, the adapter will be responsible of:\n<br>1 - invoke the mapper method to convert Dto to Entity before invoking the service method that requires entity as parameter.\n<br>2 - invoke the mapper method to convert entity to dto before returning the result to the Controller layer.\n<br> PRO: doesn't add conversion logic into controller.\n<br> CONS: a new Adapter class for each service.</p>\n</li>\n</ul>\n<p>This refactor will free the Service layer from extra work, since it will be only aware of Entity classes and not also about DTOs.</p>\n"},{"tags":["java","spring","spring-boot","spring-batch"],"comments":[{"owner":{"account_id":306540,"reputation":1801,"user_id":2695990,"display_name":"fascynacja"},"score":0,"creation_date":1690354725,"post_id":76768617,"comment_id":135339947,"body_markdown":"You need to set it your self via: public void setItemReader(ItemReader&lt;AggregateItem&lt;T&gt;&gt; itemReader)","body":"You need to set it your self via: public void setItemReader(ItemReader&lt;AggregateItem&lt;T&gt;&gt; itemReader)"},{"owner":{"account_id":11405681,"reputation":76,"user_id":8361202,"display_name":"Vinod"},"score":0,"creation_date":1690355704,"post_id":76768617,"comment_id":135340145,"body_markdown":"@fascynacja Initialized using the setter but i am getting this error now, updated the post.","body":"@fascynacja Initialized using the setter but i am getting this error now, updated the post."},{"owner":{"account_id":306540,"reputation":1801,"user_id":2695990,"display_name":"fascynacja"},"score":3,"creation_date":1690435475,"post_id":76768617,"comment_id":135354020,"body_markdown":"Please put the whole stack trace","body":"Please put the whole stack trace"},{"owner":{"account_id":21356,"reputation":47248,"user_id":51831,"accept_rate":56,"display_name":"jpalecek"},"score":0,"creation_date":1691019624,"post_id":76768617,"comment_id":135435658,"body_markdown":"But how do you pass a `FlatFileItemReader&lt;String&gt;` to something which needs `ItemStreamReader&lt;AggregateItem&lt;T&gt;&gt;`? There is your problem.","body":"But how do you pass a <code>FlatFileItemReader&lt;String&gt;</code> to something which needs <code>ItemStreamReader&lt;AggregateItem&lt;T&gt;&gt;</code>? There is your problem."}],"owner":{"account_id":11405681,"reputation":76,"user_id":8361202,"display_name":"Vinod"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1691835593,"creation_date":1690353667,"question_id":76768617,"body_markdown":"Using Spring Batch, I need to read multiple lines from a text file and pass it to the processor as `List&lt;String&gt;`,  I am trying to implement AggregateItemReader, I followed the below link, but I am not able to understand how this is initialized:\r\n\r\n    \tprivate ItemStreamReader&lt;AggregateItem&lt;T&gt;&gt; itemReader;\r\n\r\nInitialized using the setter but I am getting this error now:\r\n\r\n    java.lang.ClassCastException: class java.lang.String cannot be cast to class .AggregateItem\r\n\r\nThis is my reader:\r\n\r\n     public FlatFileItemReader&lt;String&gt; gsmfFlatReader() {\r\n        return new FlatFileItemReaderBuilder&lt;String&gt;()\r\n                     .name(GSMF_READER)\r\n                     .lineMapper((line, index) -&gt; line)\r\n                     .build();\r\n         }\r\n\r\nhttps://github.com/christian-posta/batch-systems-examples/blob/master/spring-batch-example/src/main/java/org/jboss/examples/spring/batch/multiline/AggregateItemReader.java","title":"How is AggregateItemReader&#39;s itemReader is initialized","body":"<p>Using Spring Batch, I need to read multiple lines from a text file and pass it to the processor as <code>List&lt;String&gt;</code>,  I am trying to implement AggregateItemReader, I followed the below link, but I am not able to understand how this is initialized:</p>\n<pre><code>    private ItemStreamReader&lt;AggregateItem&lt;T&gt;&gt; itemReader;\n</code></pre>\n<p>Initialized using the setter but I am getting this error now:</p>\n<pre><code>java.lang.ClassCastException: class java.lang.String cannot be cast to class .AggregateItem\n</code></pre>\n<p>This is my reader:</p>\n<pre><code> public FlatFileItemReader&lt;String&gt; gsmfFlatReader() {\n    return new FlatFileItemReaderBuilder&lt;String&gt;()\n                 .name(GSMF_READER)\n                 .lineMapper((line, index) -&gt; line)\n                 .build();\n     }\n</code></pre>\n<p><a href=\"https://github.com/christian-posta/batch-systems-examples/blob/master/spring-batch-example/src/main/java/org/jboss/examples/spring/batch/multiline/AggregateItemReader.java\" rel=\"nofollow noreferrer\">https://github.com/christian-posta/batch-systems-examples/blob/master/spring-batch-example/src/main/java/org/jboss/examples/spring/batch/multiline/AggregateItemReader.java</a></p>\n"},{"tags":["java","hibernate","java-14","jpa"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1635618987,"post_id":69781049,"comment_id":123346355,"body_markdown":"As far as I know, JPA does not support records (for details why, please see [this article](https://vladmihalcea.com/java-records-jpa-hibernate/)).","body":"As far as I know, JPA does not support records (for details why, please see <a href=\"https://vladmihalcea.com/java-records-jpa-hibernate/\" rel=\"nofollow noreferrer\">this article</a>)."}],"answers":[{"tags":[],"owner":{"account_id":3988115,"reputation":1606,"user_id":3288041,"display_name":"gkatiforis"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1635620694,"creation_date":1635620694,"answer_id":69781312,"question_id":69781049,"body_markdown":"A `record` cannot be used as Hibernate entity because it breaks the requirements of an entity according to JPA specification. Make it `class` and use `@Immutable` annotation instead:\r\n\r\n    @Entity\r\n    @Immutable\r\n    public class Agent\r\n\r\n","title":"Javax-Persistance : Entity does not have a primary key using Java records","body":"<p>A <code>record</code> cannot be used as Hibernate entity because it breaks the requirements of an entity according to JPA specification. Make it <code>class</code> and use <code>@Immutable</code> annotation instead:</p>\n<pre><code>@Entity\n@Immutable\npublic class Agent\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1635755589,"post_id":69788032,"comment_id":123369588,"body_markdown":"A record can have more than one constructor.","body":"A record can have more than one constructor."}],"tags":[],"owner":{"account_id":265347,"reputation":1035,"user_id":2322270,"display_name":"Vaibhav Gupta"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635694354,"creation_date":1635694354,"answer_id":69788032,"question_id":69781049,"body_markdown":"Just clearing the answer for completeness (although @Turning85 and @gkatiforis have already provided correct explanation):\r\n \r\nAccording to the JPA specification, an entity must follow these requirements:\r\n\r\n - the entity class needs to be non-final,\r\n - the entity class needs to have a no-arg constructor that is either\r\n   public or protected,\r\n - the entity attributes must be non-final.\r\n\r\nHowever, as explained by this [article][1], the Java Record type is defined like this:\r\n\r\n - the associated Java class is final,\r\n - there is only one constructor that takes all attributes,\r\n - the Java record attributes are final.\r\n\r\nBut records are a good fit for a DTO projection, which is often used as a read-only representation of the data stored in your database.\r\nmore info - https://thorben-janssen.com/java-records-hibernate-jpa/\r\n\r\n\r\n  [1]: https://vladmihalcea.com/java-records-jpa-hibernate/","title":"Javax-Persistance : Entity does not have a primary key using Java records","body":"<p>Just clearing the answer for completeness (although @Turning85 and @gkatiforis have already provided correct explanation):</p>\n<p>According to the JPA specification, an entity must follow these requirements:</p>\n<ul>\n<li>the entity class needs to be non-final,</li>\n<li>the entity class needs to have a no-arg constructor that is either\npublic or protected,</li>\n<li>the entity attributes must be non-final.</li>\n</ul>\n<p>However, as explained by this <a href=\"https://vladmihalcea.com/java-records-jpa-hibernate/\" rel=\"nofollow noreferrer\">article</a>, the Java Record type is defined like this:</p>\n<ul>\n<li>the associated Java class is final,</li>\n<li>there is only one constructor that takes all attributes,</li>\n<li>the Java record attributes are final.</li>\n</ul>\n<p>But records are a good fit for a DTO projection, which is often used as a read-only representation of the data stored in your database.\nmore info - <a href=\"https://thorben-janssen.com/java-records-hibernate-jpa/\" rel=\"nofollow noreferrer\">https://thorben-janssen.com/java-records-hibernate-jpa/</a></p>\n"},{"tags":[],"owner":{"account_id":17722198,"reputation":63,"user_id":12866947,"display_name":"Pushpendra Kushvaha"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691835353,"creation_date":1691835353,"answer_id":76888805,"question_id":69781049,"body_markdown":"`Entity` class internally use setter methods to set the data. As record are immutable. It only contain \r\n- fields\r\n- all-args constructor\r\n- getters\r\n- toString\r\n- equals/hashCode methods\r\n\r\nand not `setter` methods. So we can&#39;t use `record` as entities.","title":"Javax-Persistance : Entity does not have a primary key using Java records","body":"<p><code>Entity</code> class internally use setter methods to set the data. As record are immutable. It only contain</p>\n<ul>\n<li>fields</li>\n<li>all-args constructor</li>\n<li>getters</li>\n<li>toString</li>\n<li>equals/hashCode methods</li>\n</ul>\n<p>and not <code>setter</code> methods. So we can't use <code>record</code> as entities.</p>\n"}],"owner":{"account_id":23192137,"reputation":13,"user_id":17288349,"display_name":"MFT"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":609,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69781312,"answer_count":3,"score":1,"last_activity_date":1691835353,"creation_date":1635618708,"question_id":69781049,"body_markdown":"\r\nI am trying to create a entity class using Java record, but I get the error message \r\n&quot;Entity does not have primary key&quot; although I assigned an ID annotation.\r\n\r\n\r\n        import javax.persistence.*;\r\n        import java.time.LocalDate;\r\n\r\n        @Entity\r\n        public record Agent (\r\n                @Id\r\n                String code,\r\n                String name,\r\n                LocalDate date,\r\n                String workingArea,\r\n                String country,\r\n                String phoneNumber,\r\n                boolean licenseToKill,\r\n                int credits,\r\n                byte[] picture)\r\n              {}\r\n\r\n\r\nWhat&#39;s wrong with this?","title":"Javax-Persistance : Entity does not have a primary key using Java records","body":"<p>I am trying to create a entity class using Java record, but I get the error message\n&quot;Entity does not have primary key&quot; although I assigned an ID annotation.</p>\n<pre><code>    import javax.persistence.*;\n    import java.time.LocalDate;\n\n    @Entity\n    public record Agent (\n            @Id\n            String code,\n            String name,\n            LocalDate date,\n            String workingArea,\n            String country,\n            String phoneNumber,\n            boolean licenseToKill,\n            int credits,\n            byte[] picture)\n          {}\n</code></pre>\n<p>What's wrong with this?</p>\n"},{"tags":["java","selenium-webdriver","testng","extentreports","selenium-extent-report"],"owner":{"account_id":29205889,"reputation":1,"user_id":22374977,"display_name":"testemulate emulate"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":119,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1691834657,"creation_date":1691834657,"question_id":76888764,"body_markdown":"I am working on Java Selenium TestNG.\r\nSelenium 4.10.0\r\nTestNG 7.8.0\r\n\r\nI am trying to generate Extent Reports, but the CSS properties are not loaded, probably because of the internet restrictions I have.\r\nThe github CDN from which the CSS are taken are blocked in my organization, and would not be whitelisted. Is there a way where I can get the reports working good without internet? Any jars for css,etc are available? Or is there any alternative?\r\nPlease help!\r\n\r\nNote: I cannot use Maven, so all jars must be downloaded and then loaded into my IDE (IntelliJ)\r\n\r\nExtent Report dependencies (jar files):\r\nextentreports-4.0.9\r\nfreemarker-2.3.23\r\nbson-3.3.0\r\ngson-2.8.5\r\nhttpclient-4.5.2\r\nhttpcore-4.4.4\r\nhttpmime-4.5.2\r\nmongodb-driver-3.3.0\r\nmongodb-driver-core-3.3.0\r\ncommons-codec-1.9.0\r\ncommons-logging-1.2\r\n\r\nCode I tried:\r\n**TestBase.java (Base Class)**\r\n\r\n```\r\npackage tests;\r\n\r\nimport com.aventstack.extentreports.ExtentReports;\r\nimport com.aventstack.extentreports.ExtentTest;\r\nimport org.apache.commons.io.FileUtils;\r\nimport org.openqa.selenium.OutputType;\r\nimport org.openqa.selenium.TakesScreenshot;\r\nimport org.openqa.selenium.WebDriver;\r\nimport org.openqa.selenium.WebElement;\r\nimport org.openqa.selenium.edge.EdgeDriver;\r\nimport org.openqa.selenium.support.ui.ExpectedConditions;\r\nimport org.openqa.selenium.support.ui.WebDriverWait;\r\nimport org.testng.ITestContext;\r\nimport org.testng.annotations.Listeners;\r\nimport utils.ExtentManager;\r\nimport utils.ExtentTestManager;\r\nimport utils.TestListener;\r\n\r\nimport java.io.File;\r\nimport java.io.FileInputStream;\r\nimport java.io.IOException;\r\nimport java.time.Duration;\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\nimport java.util.Properties;\r\nimport java.util.Set;\r\n\r\n@Listeners(TestListener.class)\r\npublic class TestBase {\r\n    public static WebDriver driver;\r\n    public static Properties prop;\r\n\r\n    public static int TIMEOUT = 60;\r\n\r\n    public TestBase() {\r\n        try {\r\n            prop = new Properties();\r\n            FileInputStream fis = new FileInputStream(System.getProperty(&quot;user.dir&quot;) + &quot;/src/testDAta/config.properties&quot;);\r\n            prop.load(fis);\r\n        } catch (Exception e) {\r\n            System.out.println(&quot;Exception: &quot; + e.getMessage());\r\n        }\r\n    }\r\n\r\n    public void setup(ITestContext context) {\r\n        System.setProperty(&quot;webdriver.edge.driver&quot;, System.getProperty(&quot;user.dir&quot;) + prop.getProperty(&quot;edge.path&quot;));\r\n        driver = new EdgeDriver();\r\n        driver.manage().window().maximize();\r\n        context.setAttribute(&quot;driver&quot;, driver);\r\n    }\r\n    public void getURL(String url){\r\n        if (url.equalsIgnoreCase(&quot;google&quot;)) {\r\n            driver.get(prop.getProperty(&quot;web.urlG&quot;));\r\n        } else if (url.equalsIgnoreCase(&quot;yahoo&quot;)) {\r\n            driver.get(prop.getProperty(&quot;web.urlY&quot;));\r\n        } else {\r\n            System.out.println(&quot;none!&quot;);\r\n        }\r\n    }\r\n\r\n    public void waitAndClickElement(WebElement element) {\r\n        WebDriverWait wait = new WebDriverWait(driver, Duration.ofSeconds(TIMEOUT));\r\n        wait.until(ExpectedConditions.elementToBeClickable(element)).click();\r\n    }\r\n    public void waitForElementToAppear(WebElement element){\r\n        WebDriverWait wait = new WebDriverWait(driver, Duration.ofSeconds(TIMEOUT));\r\n        wait.until(ExpectedConditions.visibilityOf(element));\r\n    }\r\n\r\n    public void switchWindow(int idx){\r\n        Set&lt;String&gt; allHandles = driver.getWindowHandles();\r\n        List&lt;String&gt; handlesList = new ArrayList&lt;&gt;(allHandles);\r\n        System.out.println(&quot;Handles: &quot; + handlesList);\r\n        driver.switchTo().window(handlesList.get(idx));\r\n\r\n    }\r\n    public void captureScreenshot(String screenshotName){\r\n        try{\r\n            TakesScreenshot ts = (TakesScreenshot) driver;\r\n            File srcFile = ts.getScreenshotAs(OutputType.FILE);\r\n            String destPath = System.getProperty(&quot;user.dir&quot;) + &quot;/screenshots/&quot; + screenshotName + &quot;.png&quot;;\r\n            File destFile = new File(destPath);\r\n            FileUtils.copyFile(srcFile, destFile);\r\n        }catch (IOException e){\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n}\r\n\r\n```\r\n\r\n**HomePage.java (PageObject file)**\r\n\r\n\r\n```\r\npackage pages;\r\n\r\nimport org.openqa.selenium.WebDriver;\r\nimport org.openqa.selenium.WebElement;\r\nimport org.openqa.selenium.support.FindBy;\r\nimport org.openqa.selenium.support.PageFactory;\r\nimport tests.TestBase;\r\n\r\npublic class HomePage extends TestBase {\r\n    public WebDriver driver;\r\n    public HomePage(WebDriver driver){\r\n//        this.driver = driver;\r\n        PageFactory.initElements(driver, this);\r\n    }\r\n\r\n    @FindBy(id = &quot;getwebsitebtn&quot;)\r\n    WebElement txtLink;\r\n\r\n    @FindBy(xpath = &quot;//*[text()=&#39;Get Started for Free&#39;]&quot;)\r\n    WebElement getFreeBtn;\r\n\r\n    public void linkTest(){\r\n        waitAndClickElement(txtLink);\r\n        switchWindow(1);\r\n        waitAndClickElement(getFreeBtn);\r\n    }\r\n\r\n}\r\n\r\n```\r\n\r\n**TestFile.java (Test file)**\r\n\r\n```\r\npackage tests;\r\n\r\nimport com.aventstack.extentreports.ExtentTest;\r\nimport com.aventstack.extentreports.Status;\r\nimport org.testng.ITestContext;\r\nimport org.testng.annotations.BeforeClass;\r\nimport org.testng.annotations.Test;\r\nimport pages.HomePage;\r\nimport utils.ExtentTestManager;\r\n\r\nimport java.io.IOException;\r\n\r\npublic class TestFile extends TestBase{\r\n\r\n\r\n    @BeforeClass\r\n    public void setItUp(ITestContext context){\r\n        setup(context);\r\n    }\r\n\r\n    public static ExtentTest extentTest;\r\n    @Test\r\n    public void urlTest() throws IOException {\r\n//        extentTest = ExtentTestManager.getTest();\r\n        // Call the setup method to initialize the driver\r\n//        getURL(&quot;Yahoo&quot;); // You can change this to &quot;Google&quot; or other URLs as needed\r\n        extentTest = ExtentTestManager.getTest();\r\n        getURL(&quot;Yahoo&quot;);\r\n\r\n        HomePage hp = new HomePage(driver); // Initialize the HomePage object after the driver is set up\r\n        hp.linkTest();\r\n        extentTest.log(Status.INFO, &quot;Clicked on Links&quot;);\r\n        captureScreenshot(&quot;snap1&quot;);\r\n        System.out.println(System.getProperty(&quot;user.dir&quot;));\r\n        extentTest.addScreenCaptureFromPath(System.getProperty(&quot;user.dir&quot;) + &quot;/screenshots/snap1.png&quot;, &quot;snapshot&quot;);\r\n        ExtentTestManager.endTest();\r\n    }\r\n\r\n}\r\n\r\n```\r\n\r\n**testng.xml**\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;!DOCTYPE suite SYSTEM &quot;http://testng.org/testng-1.0.dtd&quot;&gt;\r\n&lt;suite name=&quot;All Test Suite&quot;&gt;\r\n    &lt;test verbose=&quot;2&quot; preserve-order=&quot;true&quot; name=&quot;E:/MyCode/frmwrk&quot;&gt;\r\n        &lt;classes&gt;&lt;class name=&quot;tests.TestFile&quot;&gt;\r\n            &lt;methods&gt;&lt;include name=&quot;urlTest&quot;/&gt;\r\n            &lt;/methods&gt;\r\n        &lt;/class&gt;\r\n        &lt;/classes&gt;\r\n    &lt;/test&gt;\r\n&lt;/suite&gt;\r\n```\r\n\r\n**ExtentManager.java**\r\n\r\n```\r\npackage utils;\r\n\r\nimport java.io.File;\r\n\r\nimport com.aventstack.extentreports.ExtentReports;\r\nimport com.aventstack.extentreports.reporter.ExtentSparkReporter;\r\nimport com.aventstack.extentreports.reporter.configuration.Theme;\r\n\r\npublic class ExtentManager {\r\n    private static ExtentReports extent;\r\n    private static String reportFileName = &quot;Test-Automaton-Report&quot; + &quot;.html&quot;;\r\n    private static String fileSeperator = System.getProperty(&quot;file.separator&quot;);\r\n    private static String reportFilepath = System.getProperty(&quot;user.dir&quot;) + fileSeperator + &quot;TestReport&quot;;\r\n    private static String reportFileLocation = reportFilepath + fileSeperator + reportFileName;\r\n\r\n    public static ExtentReports getInstance() {\r\n        if (extent == null)\r\n            createInstance();\r\n        return extent;\r\n    }\r\n\r\n    // Create an extent report instance\r\n    public static ExtentReports createInstance() {\r\n        String fileName = getReportPath(reportFilepath);\r\n\r\n        ExtentSparkReporter htmlReporter = new ExtentSparkReporter(fileName);\r\n        htmlReporter.config().setTheme(Theme.DARK);\r\n        htmlReporter.config().setDocumentTitle(reportFileName);\r\n        htmlReporter.config().setReportName(reportFileName);\r\n        htmlReporter.config().setTimeStampFormat(&quot;MMM dd, yyyy HH:mm:ss&quot;);\r\n\r\n        extent = new ExtentReports();\r\n        extent.attachReporter(htmlReporter);\r\n\r\n        return extent;\r\n    }\r\n\r\n    // Create the report path\r\n    private static String getReportPath(String path) {\r\n        File testDirectory = new File(path);\r\n        if (!testDirectory.exists()) {\r\n            if (testDirectory.mkdir()) {\r\n                System.out.println(&quot;Directory: &quot; + path + &quot; is created!&quot;);\r\n                return reportFileLocation;\r\n            } else {\r\n                System.out.println(&quot;Failed to create directory: &quot; + path);\r\n                return System.getProperty(&quot;user.dir&quot;);\r\n            }\r\n        } else {\r\n            System.out.println(&quot;Directory already exists: &quot; + path);\r\n        }\r\n        return reportFileLocation;\r\n    }\r\n}\r\n\r\n```\r\n\r\n**ExtentTestManager.java**\r\n\r\n```\r\npackage utils;\r\n\r\nimport java.util.HashMap;\r\nimport java.util.Map;\r\n\r\nimport com.aventstack.extentreports.ExtentReports;\r\nimport com.aventstack.extentreports.ExtentTest;\r\n\r\n\r\npublic class ExtentTestManager {\r\n    static Map&lt;Long, ExtentTest&gt; extentTestMap = new HashMap&lt;&gt;();\r\n    static ExtentReports extent = ExtentManager.getInstance();\r\n\r\n    public static synchronized ExtentTest getTest() {\r\n        return extentTestMap.get(Thread.currentThread().getId());\r\n    }\r\n\r\n    public static synchronized void endTest() {\r\n        extent.flush();\r\n    }\r\n\r\n    public static synchronized ExtentTest startTest(String testName) {\r\n        ExtentTest test = extent.createTest(testName);\r\n        extentTestMap.put(Thread.currentThread().getId(), test);\r\n        return test;\r\n    }\r\n}\r\n\r\n```\r\n\r\n**TestListener.java**\r\n\r\n```\r\npackage utils;\r\n\r\nimport java.io.File;\r\nimport java.io.IOException;\r\nimport java.io.PrintWriter;\r\nimport java.io.StringWriter;\r\n\r\nimport org.apache.commons.io.FileUtils;\r\nimport org.openqa.selenium.OutputType;\r\nimport org.openqa.selenium.TakesScreenshot;\r\nimport org.openqa.selenium.WebDriver;\r\nimport org.testng.ITestContext;\r\nimport org.testng.ITestListener;\r\nimport org.testng.ITestResult;\r\n\r\nimport com.aventstack.extentreports.Status;\r\n\r\nimport tests.TestBase;\r\nimport utils.ExtentManager;\r\nimport utils.ExtentTestManager;\r\n\r\npublic class TestListener extends TestBase implements ITestListener {\r\n\r\n    public void onStart(ITestContext context) {\r\n        System.out.println(&quot;*** Test Suite &quot; + context.getName() + &quot; started ***&quot;);\r\n        System.setProperty(&quot;org.freemarker.loggerLibrary&quot;, &quot;none&quot;);\r\n    }\r\n\r\n    public void onFinish(ITestContext context) {\r\n        System.out.println((&quot;*** Test Suite &quot; + context.getName() + &quot; ending ***&quot;));\r\n        ExtentTestManager.endTest();\r\n        ExtentManager.getInstance().flush();\r\n    }\r\n\r\n    public void onTestStart(ITestResult result) {\r\n        System.out.println((&quot;*** Running test method &quot; + result.getMethod().getMethodName() + &quot;...&quot;));\r\n        ExtentTestManager.startTest(result.getMethod().getMethodName());\r\n    }\r\n\r\n    public void onTestSuccess(ITestResult result) {\r\n        System.out.println(&quot;*** Executed &quot; + result.getMethod().getMethodName() + &quot; test successfully...&quot;);\r\n        ExtentTestManager.getTest().log(Status.PASS, &quot;Test passed&quot;);\r\n    }\r\n\r\n    public void onTestFailure(ITestResult result) {\r\n        System.out.println(&quot;*** Executed &quot; + result.getMethod().getMethodName() + &quot; test FAILED...&quot;);\r\n        ExtentTestManager.getTest().log(Status.FAIL, &quot;Test Failed&quot;);\r\n        ExtentTestManager.getTest().fail(result.getThrowable());\r\n\r\n        StringWriter sw = new StringWriter();\r\n        result.getThrowable().printStackTrace(new PrintWriter(sw));\r\n        sw = null;\r\n\r\n        WebDriver driver = (WebDriver) result.getTestContext().getAttribute(&quot;driver&quot;);\r\n        String root = System.getProperty(&quot;user.dir&quot;);\r\n        TakesScreenshot ts = (TakesScreenshot) driver;\r\n        File ss = ts.getScreenshotAs(OutputType.FILE);\r\n        long random = System.currentTimeMillis();\r\n        String des = root + &quot;//target//screenshots//ss&quot; + result.getMethod().getMethodName() + random + &quot;.png&quot;;\r\n\r\n        try {\r\n            FileUtils.copyFile(ss, new File(des));\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n\r\n        ExtentTestManager.getTest().fail(&quot;Test skipped&quot;);\r\n        try {\r\n            ExtentTestManager.getTest().addScreenCaptureFromPath(des);\r\n        } catch (IOException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n\r\n    }\r\n\r\n    public void onTestSkipped(ITestResult result) {\r\n        System.out.println(&quot;*** Test &quot; + result.getMethod().getMethodName() + &quot; skipped...&quot;);\r\n        ExtentTestManager.getTest().log(Status.SKIP, &quot;Test Skipped&quot;);\r\n    }\r\n\r\n    public void onTestFailedButWithinSuccessPercentage(ITestResult result) {\r\n        System.out.println(&quot;*** Test failed but within percentage % &quot; + result.getMethod().getMethodName());\r\n    }\r\n\r\n}\r\n\r\n```\r\n\r\n\r\n\r\n\r\n\r\n","title":"Require Extent report to work in Offline Mode entirely due to internet restrictions","body":"<p>I am working on Java Selenium TestNG.\nSelenium 4.10.0\nTestNG 7.8.0</p>\n<p>I am trying to generate Extent Reports, but the CSS properties are not loaded, probably because of the internet restrictions I have.\nThe github CDN from which the CSS are taken are blocked in my organization, and would not be whitelisted. Is there a way where I can get the reports working good without internet? Any jars for css,etc are available? Or is there any alternative?\nPlease help!</p>\n<p>Note: I cannot use Maven, so all jars must be downloaded and then loaded into my IDE (IntelliJ)</p>\n<p>Extent Report dependencies (jar files):\nextentreports-4.0.9\nfreemarker-2.3.23\nbson-3.3.0\ngson-2.8.5\nhttpclient-4.5.2\nhttpcore-4.4.4\nhttpmime-4.5.2\nmongodb-driver-3.3.0\nmongodb-driver-core-3.3.0\ncommons-codec-1.9.0\ncommons-logging-1.2</p>\n<p>Code I tried:\n<strong>TestBase.java (Base Class)</strong></p>\n<pre><code>package tests;\n\nimport com.aventstack.extentreports.ExtentReports;\nimport com.aventstack.extentreports.ExtentTest;\nimport org.apache.commons.io.FileUtils;\nimport org.openqa.selenium.OutputType;\nimport org.openqa.selenium.TakesScreenshot;\nimport org.openqa.selenium.WebDriver;\nimport org.openqa.selenium.WebElement;\nimport org.openqa.selenium.edge.EdgeDriver;\nimport org.openqa.selenium.support.ui.ExpectedConditions;\nimport org.openqa.selenium.support.ui.WebDriverWait;\nimport org.testng.ITestContext;\nimport org.testng.annotations.Listeners;\nimport utils.ExtentManager;\nimport utils.ExtentTestManager;\nimport utils.TestListener;\n\nimport java.io.File;\nimport java.io.FileInputStream;\nimport java.io.IOException;\nimport java.time.Duration;\nimport java.util.ArrayList;\nimport java.util.List;\nimport java.util.Properties;\nimport java.util.Set;\n\n@Listeners(TestListener.class)\npublic class TestBase {\n    public static WebDriver driver;\n    public static Properties prop;\n\n    public static int TIMEOUT = 60;\n\n    public TestBase() {\n        try {\n            prop = new Properties();\n            FileInputStream fis = new FileInputStream(System.getProperty(&quot;user.dir&quot;) + &quot;/src/testDAta/config.properties&quot;);\n            prop.load(fis);\n        } catch (Exception e) {\n            System.out.println(&quot;Exception: &quot; + e.getMessage());\n        }\n    }\n\n    public void setup(ITestContext context) {\n        System.setProperty(&quot;webdriver.edge.driver&quot;, System.getProperty(&quot;user.dir&quot;) + prop.getProperty(&quot;edge.path&quot;));\n        driver = new EdgeDriver();\n        driver.manage().window().maximize();\n        context.setAttribute(&quot;driver&quot;, driver);\n    }\n    public void getURL(String url){\n        if (url.equalsIgnoreCase(&quot;google&quot;)) {\n            driver.get(prop.getProperty(&quot;web.urlG&quot;));\n        } else if (url.equalsIgnoreCase(&quot;yahoo&quot;)) {\n            driver.get(prop.getProperty(&quot;web.urlY&quot;));\n        } else {\n            System.out.println(&quot;none!&quot;);\n        }\n    }\n\n    public void waitAndClickElement(WebElement element) {\n        WebDriverWait wait = new WebDriverWait(driver, Duration.ofSeconds(TIMEOUT));\n        wait.until(ExpectedConditions.elementToBeClickable(element)).click();\n    }\n    public void waitForElementToAppear(WebElement element){\n        WebDriverWait wait = new WebDriverWait(driver, Duration.ofSeconds(TIMEOUT));\n        wait.until(ExpectedConditions.visibilityOf(element));\n    }\n\n    public void switchWindow(int idx){\n        Set&lt;String&gt; allHandles = driver.getWindowHandles();\n        List&lt;String&gt; handlesList = new ArrayList&lt;&gt;(allHandles);\n        System.out.println(&quot;Handles: &quot; + handlesList);\n        driver.switchTo().window(handlesList.get(idx));\n\n    }\n    public void captureScreenshot(String screenshotName){\n        try{\n            TakesScreenshot ts = (TakesScreenshot) driver;\n            File srcFile = ts.getScreenshotAs(OutputType.FILE);\n            String destPath = System.getProperty(&quot;user.dir&quot;) + &quot;/screenshots/&quot; + screenshotName + &quot;.png&quot;;\n            File destFile = new File(destPath);\n            FileUtils.copyFile(srcFile, destFile);\n        }catch (IOException e){\n            e.printStackTrace();\n        }\n    }\n}\n\n</code></pre>\n<p><strong>HomePage.java (PageObject file)</strong></p>\n<pre><code>package pages;\n\nimport org.openqa.selenium.WebDriver;\nimport org.openqa.selenium.WebElement;\nimport org.openqa.selenium.support.FindBy;\nimport org.openqa.selenium.support.PageFactory;\nimport tests.TestBase;\n\npublic class HomePage extends TestBase {\n    public WebDriver driver;\n    public HomePage(WebDriver driver){\n//        this.driver = driver;\n        PageFactory.initElements(driver, this);\n    }\n\n    @FindBy(id = &quot;getwebsitebtn&quot;)\n    WebElement txtLink;\n\n    @FindBy(xpath = &quot;//*[text()='Get Started for Free']&quot;)\n    WebElement getFreeBtn;\n\n    public void linkTest(){\n        waitAndClickElement(txtLink);\n        switchWindow(1);\n        waitAndClickElement(getFreeBtn);\n    }\n\n}\n\n</code></pre>\n<p><strong>TestFile.java (Test file)</strong></p>\n<pre><code>package tests;\n\nimport com.aventstack.extentreports.ExtentTest;\nimport com.aventstack.extentreports.Status;\nimport org.testng.ITestContext;\nimport org.testng.annotations.BeforeClass;\nimport org.testng.annotations.Test;\nimport pages.HomePage;\nimport utils.ExtentTestManager;\n\nimport java.io.IOException;\n\npublic class TestFile extends TestBase{\n\n\n    @BeforeClass\n    public void setItUp(ITestContext context){\n        setup(context);\n    }\n\n    public static ExtentTest extentTest;\n    @Test\n    public void urlTest() throws IOException {\n//        extentTest = ExtentTestManager.getTest();\n        // Call the setup method to initialize the driver\n//        getURL(&quot;Yahoo&quot;); // You can change this to &quot;Google&quot; or other URLs as needed\n        extentTest = ExtentTestManager.getTest();\n        getURL(&quot;Yahoo&quot;);\n\n        HomePage hp = new HomePage(driver); // Initialize the HomePage object after the driver is set up\n        hp.linkTest();\n        extentTest.log(Status.INFO, &quot;Clicked on Links&quot;);\n        captureScreenshot(&quot;snap1&quot;);\n        System.out.println(System.getProperty(&quot;user.dir&quot;));\n        extentTest.addScreenCaptureFromPath(System.getProperty(&quot;user.dir&quot;) + &quot;/screenshots/snap1.png&quot;, &quot;snapshot&quot;);\n        ExtentTestManager.endTest();\n    }\n\n}\n\n</code></pre>\n<p><strong>testng.xml</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;!DOCTYPE suite SYSTEM &quot;http://testng.org/testng-1.0.dtd&quot;&gt;\n&lt;suite name=&quot;All Test Suite&quot;&gt;\n    &lt;test verbose=&quot;2&quot; preserve-order=&quot;true&quot; name=&quot;E:/MyCode/frmwrk&quot;&gt;\n        &lt;classes&gt;&lt;class name=&quot;tests.TestFile&quot;&gt;\n            &lt;methods&gt;&lt;include name=&quot;urlTest&quot;/&gt;\n            &lt;/methods&gt;\n        &lt;/class&gt;\n        &lt;/classes&gt;\n    &lt;/test&gt;\n&lt;/suite&gt;\n</code></pre>\n<p><strong>ExtentManager.java</strong></p>\n<pre><code>package utils;\n\nimport java.io.File;\n\nimport com.aventstack.extentreports.ExtentReports;\nimport com.aventstack.extentreports.reporter.ExtentSparkReporter;\nimport com.aventstack.extentreports.reporter.configuration.Theme;\n\npublic class ExtentManager {\n    private static ExtentReports extent;\n    private static String reportFileName = &quot;Test-Automaton-Report&quot; + &quot;.html&quot;;\n    private static String fileSeperator = System.getProperty(&quot;file.separator&quot;);\n    private static String reportFilepath = System.getProperty(&quot;user.dir&quot;) + fileSeperator + &quot;TestReport&quot;;\n    private static String reportFileLocation = reportFilepath + fileSeperator + reportFileName;\n\n    public static ExtentReports getInstance() {\n        if (extent == null)\n            createInstance();\n        return extent;\n    }\n\n    // Create an extent report instance\n    public static ExtentReports createInstance() {\n        String fileName = getReportPath(reportFilepath);\n\n        ExtentSparkReporter htmlReporter = new ExtentSparkReporter(fileName);\n        htmlReporter.config().setTheme(Theme.DARK);\n        htmlReporter.config().setDocumentTitle(reportFileName);\n        htmlReporter.config().setReportName(reportFileName);\n        htmlReporter.config().setTimeStampFormat(&quot;MMM dd, yyyy HH:mm:ss&quot;);\n\n        extent = new ExtentReports();\n        extent.attachReporter(htmlReporter);\n\n        return extent;\n    }\n\n    // Create the report path\n    private static String getReportPath(String path) {\n        File testDirectory = new File(path);\n        if (!testDirectory.exists()) {\n            if (testDirectory.mkdir()) {\n                System.out.println(&quot;Directory: &quot; + path + &quot; is created!&quot;);\n                return reportFileLocation;\n            } else {\n                System.out.println(&quot;Failed to create directory: &quot; + path);\n                return System.getProperty(&quot;user.dir&quot;);\n            }\n        } else {\n            System.out.println(&quot;Directory already exists: &quot; + path);\n        }\n        return reportFileLocation;\n    }\n}\n\n</code></pre>\n<p><strong>ExtentTestManager.java</strong></p>\n<pre><code>package utils;\n\nimport java.util.HashMap;\nimport java.util.Map;\n\nimport com.aventstack.extentreports.ExtentReports;\nimport com.aventstack.extentreports.ExtentTest;\n\n\npublic class ExtentTestManager {\n    static Map&lt;Long, ExtentTest&gt; extentTestMap = new HashMap&lt;&gt;();\n    static ExtentReports extent = ExtentManager.getInstance();\n\n    public static synchronized ExtentTest getTest() {\n        return extentTestMap.get(Thread.currentThread().getId());\n    }\n\n    public static synchronized void endTest() {\n        extent.flush();\n    }\n\n    public static synchronized ExtentTest startTest(String testName) {\n        ExtentTest test = extent.createTest(testName);\n        extentTestMap.put(Thread.currentThread().getId(), test);\n        return test;\n    }\n}\n\n</code></pre>\n<p><strong>TestListener.java</strong></p>\n<pre><code>package utils;\n\nimport java.io.File;\nimport java.io.IOException;\nimport java.io.PrintWriter;\nimport java.io.StringWriter;\n\nimport org.apache.commons.io.FileUtils;\nimport org.openqa.selenium.OutputType;\nimport org.openqa.selenium.TakesScreenshot;\nimport org.openqa.selenium.WebDriver;\nimport org.testng.ITestContext;\nimport org.testng.ITestListener;\nimport org.testng.ITestResult;\n\nimport com.aventstack.extentreports.Status;\n\nimport tests.TestBase;\nimport utils.ExtentManager;\nimport utils.ExtentTestManager;\n\npublic class TestListener extends TestBase implements ITestListener {\n\n    public void onStart(ITestContext context) {\n        System.out.println(&quot;*** Test Suite &quot; + context.getName() + &quot; started ***&quot;);\n        System.setProperty(&quot;org.freemarker.loggerLibrary&quot;, &quot;none&quot;);\n    }\n\n    public void onFinish(ITestContext context) {\n        System.out.println((&quot;*** Test Suite &quot; + context.getName() + &quot; ending ***&quot;));\n        ExtentTestManager.endTest();\n        ExtentManager.getInstance().flush();\n    }\n\n    public void onTestStart(ITestResult result) {\n        System.out.println((&quot;*** Running test method &quot; + result.getMethod().getMethodName() + &quot;...&quot;));\n        ExtentTestManager.startTest(result.getMethod().getMethodName());\n    }\n\n    public void onTestSuccess(ITestResult result) {\n        System.out.println(&quot;*** Executed &quot; + result.getMethod().getMethodName() + &quot; test successfully...&quot;);\n        ExtentTestManager.getTest().log(Status.PASS, &quot;Test passed&quot;);\n    }\n\n    public void onTestFailure(ITestResult result) {\n        System.out.println(&quot;*** Executed &quot; + result.getMethod().getMethodName() + &quot; test FAILED...&quot;);\n        ExtentTestManager.getTest().log(Status.FAIL, &quot;Test Failed&quot;);\n        ExtentTestManager.getTest().fail(result.getThrowable());\n\n        StringWriter sw = new StringWriter();\n        result.getThrowable().printStackTrace(new PrintWriter(sw));\n        sw = null;\n\n        WebDriver driver = (WebDriver) result.getTestContext().getAttribute(&quot;driver&quot;);\n        String root = System.getProperty(&quot;user.dir&quot;);\n        TakesScreenshot ts = (TakesScreenshot) driver;\n        File ss = ts.getScreenshotAs(OutputType.FILE);\n        long random = System.currentTimeMillis();\n        String des = root + &quot;//target//screenshots//ss&quot; + result.getMethod().getMethodName() + random + &quot;.png&quot;;\n\n        try {\n            FileUtils.copyFile(ss, new File(des));\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n\n        ExtentTestManager.getTest().fail(&quot;Test skipped&quot;);\n        try {\n            ExtentTestManager.getTest().addScreenCaptureFromPath(des);\n        } catch (IOException e) {\n            throw new RuntimeException(e);\n        }\n\n    }\n\n    public void onTestSkipped(ITestResult result) {\n        System.out.println(&quot;*** Test &quot; + result.getMethod().getMethodName() + &quot; skipped...&quot;);\n        ExtentTestManager.getTest().log(Status.SKIP, &quot;Test Skipped&quot;);\n    }\n\n    public void onTestFailedButWithinSuccessPercentage(ITestResult result) {\n        System.out.println(&quot;*** Test failed but within percentage % &quot; + result.getMethod().getMethodName());\n    }\n\n}\n\n</code></pre>\n"},{"tags":["java","spring-boot","swagger","openapi","openapi-generator"],"owner":{"account_id":12634959,"reputation":222,"user_id":9184784,"display_name":"tyb9900"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":450,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1691834283,"creation_date":1691834283,"question_id":76888744,"body_markdown":"I have an OAS YAML file, and the Maven plugin generates POJO classes for me. \r\n\r\nHowever, it adds words to the class names of the POJO classes. In the OAS, the schema is defined with the name &quot;ApiResponse,&quot; but the plugin generates it as &quot;ModelApiResponse&quot; in the Java class. \r\n\r\nHow should I configure the plugin to create a POJO class with the name specified in the OAS?\r\n\r\nThe current config of the plugin is:\r\n\r\n    &lt;plugin&gt;\r\n    \t &lt;groupId&gt;org.openapitools&lt;/groupId&gt;\r\n    \t &lt;artifactId&gt;openapi-generator-maven-plugin&lt;/artifactId&gt;\r\n    \t &lt;version&gt;6.6.0&lt;/version&gt;\r\n    \t &lt;executions&gt;\r\n    \t\t&lt;execution&gt;\r\n    \t\t\t&lt;id&gt;target-spec&lt;/id&gt;\r\n    \t\t\t   &lt;goals&gt;\r\n    \t\t\t   &lt;goal&gt;generate&lt;/goal&gt;\r\n    \t\t\t   &lt;/goals&gt;\r\n    \t\t  &lt;configuration&gt;\r\n    \t\t\t&lt;inputSpec&gt;${project.basedir}/src/main/resources/petstore.yaml&lt;/inputSpec&gt;\r\n    \t\t    &lt;generatorName&gt;spring&lt;/generatorName&gt;\r\n    \t\t\t&lt;modelPackage&gt;com.petstorespringapi.stub.target&lt;/modelPackage&gt;\r\n    \t\t\t&lt;generateApis&gt;false&lt;/generateApis&gt;\r\n    \t\t\t&lt;generateSupportingFiles&gt;false&lt;/generateSupportingFiles&gt;\r\n    \t\t\t&lt;generateApiDocumentation&gt;false&lt;/generateApiDocumentation&gt;\r\n    \t     &lt;/configuration&gt;\r\n    \t    &lt;/execution&gt;\r\n       &lt;/executions&gt;\r\n    &lt;/plugin&gt;\r\n\r\n\r\nHere is my petstore.yml file:\r\n\r\n    openapi: 3.0.0\r\n    info:\r\n      version: 1.0.0\r\n      title: Swagger Petstore\r\n    paths:\r\n      &#39;/pet/{petId}/uploadImage&#39;:\r\n        post:\r\n          tags:\r\n            - pet\r\n          summary: Uploads an image\r\n          description: &#39;&#39;\r\n          operationId: uploadFile\r\n          parameters:\r\n            - name: petId\r\n              in: path\r\n              description: ID of pet to update\r\n              required: true\r\n              schema:\r\n                type: integer\r\n                format: int64\r\n          requestBody:\r\n            content:\r\n              multipart/form-data:\r\n                schema:\r\n                  type: object\r\n                  properties:\r\n                    additionalMetadata:\r\n                      description: Additional data to pass to server\r\n                      type: string\r\n                    file:\r\n                      description: file to upload\r\n                      type: string\r\n                      format: binary\r\n          responses:\r\n            &#39;200&#39;:\r\n              description: successful operation\r\n              content:\r\n                application/json:\r\n                  schema:\r\n                    &#39;$ref&#39;: &#39;#/components/schemas/ApiResponse&#39;\r\n    components:\r\n      schemas:\r\n        ApiResponse:\r\n          type: object\r\n          properties:\r\n            code:\r\n              type: integer\r\n              format: int32\r\n            type:\r\n              type: string\r\n            message:\r\n              type: string\r\n\r\n\r\nHere is the generated class:\r\n\r\n\r\n    /**\r\n     * ModelApiResponse\r\n     */\r\n    \r\n    @JsonTypeName(&quot;ApiResponse&quot;)\r\n    @Generated(value = &quot;org.openapitools.codegen.languages.SpringCodegen&quot;, date = &quot;2023-08-12T11:49:39.983257+02:00[Europe/Copenhagen]&quot;)\r\n    public class ModelApiResponse {}","title":"Why does the Open API Generator produce different class names from the ones in the OAS?","body":"<p>I have an OAS YAML file, and the Maven plugin generates POJO classes for me.</p>\n<p>However, it adds words to the class names of the POJO classes. In the OAS, the schema is defined with the name &quot;ApiResponse,&quot; but the plugin generates it as &quot;ModelApiResponse&quot; in the Java class.</p>\n<p>How should I configure the plugin to create a POJO class with the name specified in the OAS?</p>\n<p>The current config of the plugin is:</p>\n<pre><code>&lt;plugin&gt;\n     &lt;groupId&gt;org.openapitools&lt;/groupId&gt;\n     &lt;artifactId&gt;openapi-generator-maven-plugin&lt;/artifactId&gt;\n     &lt;version&gt;6.6.0&lt;/version&gt;\n     &lt;executions&gt;\n        &lt;execution&gt;\n            &lt;id&gt;target-spec&lt;/id&gt;\n               &lt;goals&gt;\n               &lt;goal&gt;generate&lt;/goal&gt;\n               &lt;/goals&gt;\n          &lt;configuration&gt;\n            &lt;inputSpec&gt;${project.basedir}/src/main/resources/petstore.yaml&lt;/inputSpec&gt;\n            &lt;generatorName&gt;spring&lt;/generatorName&gt;\n            &lt;modelPackage&gt;com.petstorespringapi.stub.target&lt;/modelPackage&gt;\n            &lt;generateApis&gt;false&lt;/generateApis&gt;\n            &lt;generateSupportingFiles&gt;false&lt;/generateSupportingFiles&gt;\n            &lt;generateApiDocumentation&gt;false&lt;/generateApiDocumentation&gt;\n         &lt;/configuration&gt;\n        &lt;/execution&gt;\n   &lt;/executions&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>Here is my petstore.yml file:</p>\n<pre><code>openapi: 3.0.0\ninfo:\n  version: 1.0.0\n  title: Swagger Petstore\npaths:\n  '/pet/{petId}/uploadImage':\n    post:\n      tags:\n        - pet\n      summary: Uploads an image\n      description: ''\n      operationId: uploadFile\n      parameters:\n        - name: petId\n          in: path\n          description: ID of pet to update\n          required: true\n          schema:\n            type: integer\n            format: int64\n      requestBody:\n        content:\n          multipart/form-data:\n            schema:\n              type: object\n              properties:\n                additionalMetadata:\n                  description: Additional data to pass to server\n                  type: string\n                file:\n                  description: file to upload\n                  type: string\n                  format: binary\n      responses:\n        '200':\n          description: successful operation\n          content:\n            application/json:\n              schema:\n                '$ref': '#/components/schemas/ApiResponse'\ncomponents:\n  schemas:\n    ApiResponse:\n      type: object\n      properties:\n        code:\n          type: integer\n          format: int32\n        type:\n          type: string\n        message:\n          type: string\n</code></pre>\n<p>Here is the generated class:</p>\n<pre><code>/**\n * ModelApiResponse\n */\n\n@JsonTypeName(&quot;ApiResponse&quot;)\n@Generated(value = &quot;org.openapitools.codegen.languages.SpringCodegen&quot;, date = &quot;2023-08-12T11:49:39.983257+02:00[Europe/Copenhagen]&quot;)\npublic class ModelApiResponse {}\n</code></pre>\n"},{"tags":["java","intellij-idea","jar","obfuscation"],"comments":[{"owner":{"account_id":7226774,"reputation":19717,"user_id":5515060,"accept_rate":100,"display_name":"Lino"},"score":1,"creation_date":1616682847,"post_id":66801590,"comment_id":118084524,"body_markdown":"Please follow: [Etiquette for answering your own question](https://meta.stackexchange.com/questions/17845/etiquette-for-answering-your-own-question), so rewrite your question to something like: &quot;How can I obfuscate a jar in IntelliJ&quot;, and then answer your own question with the body you currently have. (It should still read like a Q&amp;A)","body":"Please follow: <a href=\"https://meta.stackexchange.com/questions/17845/etiquette-for-answering-your-own-question\">Etiquette for answering your own question</a>, so rewrite your question to something like: &quot;How can I obfuscate a jar in IntelliJ&quot;, and then answer your own question with the body you currently have. (It should still read like a Q&amp;A)"}],"answers":[{"comments":[{"owner":{"account_id":2050102,"reputation":454,"user_id":1829299,"display_name":"Sachin Gupta"},"score":0,"creation_date":1660035982,"post_id":66801861,"comment_id":129431728,"body_markdown":"The plugin is crashing in IntelliJ IDEA 2022.1.3, can you please specify your IDE version?","body":"The plugin is crashing in IntelliJ IDEA 2022.1.3, can you please specify your IDE version?"}],"tags":[],"owner":{"account_id":2790946,"reputation":444,"user_id":2401191,"display_name":"Ahmad Alhilal"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1616683379,"creation_date":1616683379,"answer_id":66801861,"question_id":66801590,"body_markdown":"I have been trying to obfuscate a jar file to protect it from retrieving the original source code.\r\n\r\nObfuscation in Intellij requires [IntelliGuard 2][1] plugin and [yuguard 3.0.0][2] (preferably [yguard-bundle-3.0.0.zip][3]).\r\n\r\n**The obfuscation process :**\r\n\r\n 1. **Generate Module** out of the project: File --&gt; project settings --&gt; Modules ( + new module and set proper out path)\r\n2. **Generate jar** file using Artifacts: File --&gt; project settings --&gt; Artifacts ( + JAR and naming configuration)\r\n\r\n3. [Generate Ant build][4] \r\n\r\n4. **Obfuscate the jar** file: File --&gt; project settings --&gt; Facets( + Obfuscation ), then choose the path to ygurad-bundle/lib/yuguard.jar, and choose the main class. See illustrating image below:\r\n\r\n[![enter image description here][5]][5]\r\n\r\nAfterward, build Artifacts (build--&gt; build Artifacts), then Obfuscate the jar file ( build--&gt; obfuscate jar, then choose the input jar and the output obfuscated jar).\r\n\r\nI couldn&#39;t find another way or resource to follow and do it the easy way, so I decided to share my experience.\r\n\r\n\r\n  [1]: https://plugins.jetbrains.com/plugin/10974-intelliguard-2\r\n  [2]: https://github.com/yWorks/yGuard/releases\r\n  [3]: https://github.com/yWorks/yGuard/releases/download/3.0.0/yguard-bundle-3.0.0.zip\r\n  [4]: https://www.jetbrains.com/help/idea/generating-ant-build-file.html\r\n  [5]: https://i.stack.imgur.com/3PHgG.png","title":"How can I obfuscate a jar in IntelliJ?","body":"<p>I have been trying to obfuscate a jar file to protect it from retrieving the original source code.</p>\n<p>Obfuscation in Intellij requires <a href=\"https://plugins.jetbrains.com/plugin/10974-intelliguard-2\" rel=\"nofollow noreferrer\">IntelliGuard 2</a> plugin and <a href=\"https://github.com/yWorks/yGuard/releases\" rel=\"nofollow noreferrer\">yuguard 3.0.0</a> (preferably <a href=\"https://github.com/yWorks/yGuard/releases/download/3.0.0/yguard-bundle-3.0.0.zip\" rel=\"nofollow noreferrer\">yguard-bundle-3.0.0.zip</a>).</p>\n<p><strong>The obfuscation process :</strong></p>\n<ol>\n<li><p><strong>Generate Module</strong> out of the project: File --&gt; project settings --&gt; Modules ( + new module and set proper out path)</p>\n</li>\n<li><p><strong>Generate jar</strong> file using Artifacts: File --&gt; project settings --&gt; Artifacts ( + JAR and naming configuration)</p>\n</li>\n<li><p><a href=\"https://www.jetbrains.com/help/idea/generating-ant-build-file.html\" rel=\"nofollow noreferrer\">Generate Ant build</a></p>\n</li>\n<li><p><strong>Obfuscate the jar</strong> file: File --&gt; project settings --&gt; Facets( + Obfuscation ), then choose the path to ygurad-bundle/lib/yuguard.jar, and choose the main class. See illustrating image below:</p>\n</li>\n</ol>\n<p><a href=\"https://i.stack.imgur.com/3PHgG.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/3PHgG.png\" alt=\"enter image description here\" /></a></p>\n<p>Afterward, build Artifacts (build--&gt; build Artifacts), then Obfuscate the jar file ( build--&gt; obfuscate jar, then choose the input jar and the output obfuscated jar).</p>\n<p>I couldn't find another way or resource to follow and do it the easy way, so I decided to share my experience.</p>\n"}],"owner":{"account_id":2790946,"reputation":444,"user_id":2401191,"display_name":"Ahmad Alhilal"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5281,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":66801861,"answer_count":1,"score":2,"last_activity_date":1691834256,"creation_date":1616682478,"question_id":66801590,"body_markdown":"I found out that an executable jar file can be decompiled to retrieve the original source code using [Java Decompiler][1], which allows decompiling and browsing the source with the JD-GUI.\r\n\r\nI&#39;m trying to obfuscate a jar file to protect it from retrieving the original source code. \r\n\r\nI have tried proguard but sounds a little bit time consuming!!\r\nI then tried IntelliGuard 2 plugin but there was no information about what proguard and yguard and how to use them!! \r\n\r\nI read some resources that I need to generate an Ant build file for proguard or yguard to be able to obfuscate the jar file. Then I stuck a little bit on generating a jar file to obfuscate. \r\n\r\n**Is there an easy and straightforward way to generate a jar and obfuscate it?**\r\n\r\n\r\n  [1]: http://java-decompiler.github.io/","title":"How can I obfuscate a jar in IntelliJ?","body":"<p>I found out that an executable jar file can be decompiled to retrieve the original source code using <a href=\"http://java-decompiler.github.io/\" rel=\"nofollow noreferrer\">Java Decompiler</a>, which allows decompiling and browsing the source with the JD-GUI.</p>\n<p>I'm trying to obfuscate a jar file to protect it from retrieving the original source code.</p>\n<p>I have tried proguard but sounds a little bit time consuming!!\nI then tried IntelliGuard 2 plugin but there was no information about what proguard and yguard and how to use them!!</p>\n<p>I read some resources that I need to generate an Ant build file for proguard or yguard to be able to obfuscate the jar file. Then I stuck a little bit on generating a jar file to obfuscate.</p>\n<p><strong>Is there an easy and straightforward way to generate a jar and obfuscate it?</strong></p>\n"},{"tags":["java","xml","configuration","log4j","environment-variables"],"comments":[{"owner":{"account_id":11447,"reputation":1067,"user_id":22070,"accept_rate":50,"display_name":"Derek Lewis"},"score":0,"creation_date":1443646019,"post_id":201188,"comment_id":53582059,"body_markdown":"I just commented on the most upvoted answer and explained my reasoning.  I&#39;ve also just now upvoted the answer I accepted, for what it&#39;s worth.","body":"I just commented on the most upvoted answer and explained my reasoning.  I&#39;ve also just now upvoted the answer I accepted, for what it&#39;s worth."}],"answers":[{"comments":[{"owner":{"account_id":11447,"reputation":1067,"user_id":22070,"accept_rate":50,"display_name":"Derek Lewis"},"score":6,"creation_date":1443645978,"post_id":201489,"comment_id":53582035,"body_markdown":"I specifically asked how to do this *without* having to set them all as -D parameters, so this doesn&#39;t answer my question at all.","body":"I specifically asked how to do this <i>without</i> having to set them all as -D parameters, so this doesn&#39;t answer my question at all."}],"tags":[],"owner":{"account_id":2150,"reputation":3289,"user_id":2964,"accept_rate":67,"display_name":"Einar"},"comment_count":1,"down_vote_count":4,"up_vote_count":59,"is_accepted":false,"score":55,"last_activity_date":1223995977,"creation_date":1223995977,"answer_id":201489,"question_id":201188,"body_markdown":"I tried to do that recently and couldn&#39;t get it to work. What I ended up doing is sending a variable at startup. So say you have an environment variable called $LOG_LEVEL:\r\n\r\n    &lt;level value=&quot;${log_level}&quot; /&gt;\r\n\r\nand at startup...\r\n\r\n    java -Dlog_level=$LOG_LEVEL your_app","title":"Using system environment variables in log4j xml configuration","body":"<p>I tried to do that recently and couldn't get it to work. What I ended up doing is sending a variable at startup. So say you have an environment variable called $LOG_LEVEL:</p>\n\n<pre><code>&lt;level value=\"${log_level}\" /&gt;\n</code></pre>\n\n<p>and at startup...</p>\n\n<pre><code>java -Dlog_level=$LOG_LEVEL your_app\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11511,"reputation":9525,"user_id":22227,"accept_rate":62,"display_name":"Martin Probst"},"comment_count":0,"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1224055472,"creation_date":1224055472,"answer_id":203941,"question_id":201188,"body_markdown":"I think this is not supported, but basically you can do two things to bring in your environment variables:\r\n\r\n 1. Use System.setProperty before Log4J gets configured\r\n \r\n 2. Convert (your) environment variables to system properties in your launcher\r\n\r\nThe first option basically boils down to this:\r\n\r\n    for (Map&lt;String,String&gt;.Entry entry : System.getenv().entrySet()) {\r\n      System.setProperty(entry.getKey(), entry.getValue());\r\n    }\r\n\r\n... but the question is of course where to put this code. In particular if you&#39;re running within some sort of Tomcat container or similar, this might be troublesome.\r\n\r\nThe other largely depends on your environment. Basically if you have a shell script that starts your app, you can write some shell magic to set all environment variables as properties, or just the ones you need, e.g.:\r\n\r\n    java -DMY_ENV=$MY_ENV -DMY_OTHER_ENV=$MY_OTHER_ENV -cp ... com.example.Main\r\n\r\nIt&#39;s also possible to alter your server startup scripts to support this, e.g. catalina.sh or similar.","title":"Using system environment variables in log4j xml configuration","body":"<p>I think this is not supported, but basically you can do two things to bring in your environment variables:</p>\n\n<ol>\n<li><p>Use System.setProperty before Log4J gets configured</p></li>\n<li><p>Convert (your) environment variables to system properties in your launcher</p></li>\n</ol>\n\n<p>The first option basically boils down to this:</p>\n\n<pre><code>for (Map&lt;String,String&gt;.Entry entry : System.getenv().entrySet()) {\n  System.setProperty(entry.getKey(), entry.getValue());\n}\n</code></pre>\n\n<p>... but the question is of course where to put this code. In particular if you're running within some sort of Tomcat container or similar, this might be troublesome.</p>\n\n<p>The other largely depends on your environment. Basically if you have a shell script that starts your app, you can write some shell magic to set all environment variables as properties, or just the ones you need, e.g.:</p>\n\n<pre><code>java -DMY_ENV=$MY_ENV -DMY_OTHER_ENV=$MY_OTHER_ENV -cp ... com.example.Main\n</code></pre>\n\n<p>It's also possible to alter your server startup scripts to support this, e.g. catalina.sh or similar.</p>\n"},{"tags":[],"owner":{"account_id":936504,"reputation":926,"user_id":965342,"accept_rate":20,"display_name":"Daniel Estrada"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1392995989,"creation_date":1392995989,"answer_id":21938229,"question_id":201188,"body_markdown":"You need to put a colon between env and the name of the variable, like this:\r\n\r\n    &lt;level value=&quot;${env:LOG_LEVEL}&quot; /&gt;","title":"Using system environment variables in log4j xml configuration","body":"<p>You need to put a colon between env and the name of the variable, like this:</p>\n\n<pre><code>&lt;level value=\"${env:LOG_LEVEL}\" /&gt;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1699690,"reputation":485,"user_id":1560138,"accept_rate":89,"display_name":"tmortiboy"},"score":4,"creation_date":1532503800,"post_id":29329899,"comment_id":89994677,"body_markdown":"You can also specify a default using the following syntax `${env:LOG_PATH:-/default/path}` where `/default/path` will be used if `LOG_PATH` is not set.","body":"You can also specify a default using the following syntax <code>${env:LOG_PATH:-&#47;default&#47;path}</code> where <code>&#47;default&#47;path</code> will be used if <code>LOG_PATH</code> is not set."},{"owner":{"account_id":11711219,"reputation":497,"user_id":8573084,"display_name":"manikanta nvsr"},"score":1,"creation_date":1586344052,"post_id":29329899,"comment_id":108092268,"body_markdown":"Is there any work around to make this work using version 1.x?","body":"Is there any work around to make this work using version 1.x?"},{"owner":{"account_id":7814745,"reputation":417,"user_id":5909830,"display_name":"Purushothaman"},"score":1,"creation_date":1592408745,"post_id":29329899,"comment_id":110416758,"body_markdown":"${env:LOG_PATH} did not work for me. Rather ${sys:LOG_PATH} worked.","body":"${env:LOG_PATH} did not work for me. Rather ${sys:LOG_PATH} worked."},{"owner":{"account_id":2341422,"reputation":586,"user_id":2052618,"accept_rate":55,"display_name":"user2052618"},"score":0,"creation_date":1658240511,"post_id":29329899,"comment_id":128999429,"body_markdown":"@tmortiboy i want to add a default for my env var in log4j2... what is the dash for? give a link to documentation on it.  thanks.","body":"@tmortiboy i want to add a default for my env var in log4j2... what is the dash for? give a link to documentation on it.  thanks."},{"owner":{"account_id":8244,"reputation":36591,"user_id":14749,"accept_rate":81,"display_name":"Chris Noe"},"score":0,"creation_date":1691690091,"post_id":29329899,"comment_id":135529077,"body_markdown":"@user2052618 Quite simply, the separator between the variable name and the default value is &quot;:-&quot;. That syntax seems to be inspired by bash variable evaluation.","body":"@user2052618 Quite simply, the separator between the variable name and the default value is &quot;:-&quot;. That syntax seems to be inspired by bash variable evaluation."}],"tags":[],"owner":{"account_id":1360035,"reputation":7094,"user_id":1297578,"accept_rate":82,"display_name":"Shoham"},"comment_count":5,"down_vote_count":0,"up_vote_count":30,"is_accepted":true,"score":30,"last_activity_date":1427820056,"creation_date":1427636943,"answer_id":29329899,"question_id":201188,"body_markdown":"This syntax is documented only in log4j 2.X so make sure you are using the correct version.  It does not work on the 1.X versions.\r\n\r\n        &lt;Appenders&gt;\r\n        &lt;File name=&quot;file&quot; fileName=&quot;${env:LOG_PATH}&quot;&gt;\r\n            &lt;PatternLayout&gt;\r\n                &lt;Pattern&gt;%d %p %c{1.} [%t] %m %ex%n&lt;/Pattern&gt;\r\n            &lt;/PatternLayout&gt;\r\n        &lt;/File&gt;\r\n    &lt;/Appenders&gt;","title":"Using system environment variables in log4j xml configuration","body":"<p>This syntax is documented only in log4j 2.X so make sure you are using the correct version.  It does not work on the 1.X versions.</p>\n\n<pre><code>    &lt;Appenders&gt;\n    &lt;File name=\"file\" fileName=\"${env:LOG_PATH}\"&gt;\n        &lt;PatternLayout&gt;\n            &lt;Pattern&gt;%d %p %c{1.} [%t] %m %ex%n&lt;/Pattern&gt;\n        &lt;/PatternLayout&gt;\n    &lt;/File&gt;\n&lt;/Appenders&gt;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":11447,"reputation":1067,"user_id":22070,"accept_rate":50,"display_name":"Derek Lewis"},"score":0,"creation_date":1454546631,"post_id":35183593,"comment_id":58098216,"body_markdown":"Does the syntax you show there, ${APP_LOG_ROOTDIR} look at system environment variables, not just Java system properties? My understanding (and experience) has been that it only looks at Java system properties, not environment variables.","body":"Does the syntax you show there, ${APP_LOG_ROOTDIR} look at system environment variables, not just Java system properties? My understanding (and experience) has been that it only looks at Java system properties, not environment variables."},{"owner":{"account_id":2271854,"reputation":423,"user_id":1999025,"accept_rate":45,"display_name":"tkolleh"},"score":0,"creation_date":1454612768,"post_id":35183593,"comment_id":58134193,"body_markdown":"@DerekLewis Yes, the syntax looks at system environment variables. Those variables are available to tomcat at startup, similar to the variables `set` by tomcat via the _setenv.bat_ script. Note, i&#39;ve only used this on windows. This isn&#39;t an issue for me on *nix so never I had to use this solution.","body":"@DerekLewis Yes, the syntax looks at system environment variables. Those variables are available to tomcat at startup, similar to the variables <code>set</code> by tomcat via the <i>setenv.bat</i> script. Note, i&#39;ve only used this on windows. This isn&#39;t an issue for me on *nix so never I had to use this solution."}],"tags":[],"owner":{"account_id":2271854,"reputation":423,"user_id":1999025,"accept_rate":45,"display_name":"tkolleh"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1454519950,"creation_date":1454519950,"answer_id":35183593,"question_id":201188,"body_markdown":"Create a system variable. I prefer to use setenv.bat for such variables.\r\n\r\n    @echo off\r\n    rem app specific log dir\r\n    set &quot;APP_LOG_ROOTDIR=../app/app-log&quot;\r\n    exit /b 0\r\n\r\nAdd reference in log4j.xml file\r\n\r\n    &lt;appender name=&quot;fileAppender&quot; class=&quot;org.apache.log4j.RollingFileAppender&quot;&gt;\r\n      &lt;param name=&quot;Threshold&quot; value=&quot;DEBUG&quot; /&gt;\r\n      &lt;param name=&quot;MaxFileSize&quot; value=&quot;512KB&quot; /&gt;\r\n      &lt;param name=&quot;MaxBackupIndex&quot; value=&quot;10&quot; /&gt;\r\n      &lt;param name=&quot;File&quot; value=&quot;${APP_LOG_ROOTDIR}/app.log&quot;/&gt;\r\n      &lt;layout class=&quot;org.apache.log4j.PatternLayout&quot;&gt;\r\n       &lt;param name=&quot;ConversionPattern&quot; value=&quot;%d %-5p %c{1} %m %n&quot; /&gt;\r\n      &lt;/layout&gt;\r\n    &lt;/appender&gt;","title":"Using system environment variables in log4j xml configuration","body":"<p>Create a system variable. I prefer to use setenv.bat for such variables.</p>\n\n<pre><code>@echo off\nrem app specific log dir\nset \"APP_LOG_ROOTDIR=../app/app-log\"\nexit /b 0\n</code></pre>\n\n<p>Add reference in log4j.xml file</p>\n\n<pre><code>&lt;appender name=\"fileAppender\" class=\"org.apache.log4j.RollingFileAppender\"&gt;\n  &lt;param name=\"Threshold\" value=\"DEBUG\" /&gt;\n  &lt;param name=\"MaxFileSize\" value=\"512KB\" /&gt;\n  &lt;param name=\"MaxBackupIndex\" value=\"10\" /&gt;\n  &lt;param name=\"File\" value=\"${APP_LOG_ROOTDIR}/app.log\"/&gt;\n  &lt;layout class=\"org.apache.log4j.PatternLayout\"&gt;\n   &lt;param name=\"ConversionPattern\" value=\"%d %-5p %c{1} %m %n\" /&gt;\n  &lt;/layout&gt;\n&lt;/appender&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":29211147,"reputation":1,"user_id":22379097,"display_name":"Thejas HM"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691834141,"creation_date":1691834118,"answer_id":76888723,"question_id":201188,"body_markdown":"Just do this while calling the main program, it will solve the issue\r\n\r\n1. -DLOG4J_CONFIGURATION_FILE=P:\\conf\\TEST_FOLDER\\ssdf\\log4j2.xml -&gt; Path from where the log4j2.xml file to be read\r\n2. -DLOGDIRECTORY=P:\\conf\\TEST_FOLDER\\ssdf\\Final_log_Destination\\test.log -&gt; This is the variable inputted in the xml file\r\n3. Use the below in the xml file for the value to get changed\r\n\r\n&lt;property name=&quot;filevalue&quot;&gt;${sys:LOGDIRECTORY}&lt;/property&gt;","title":"Using system environment variables in log4j xml configuration","body":"<p>Just do this while calling the main program, it will solve the issue</p>\n<ol>\n<li>-DLOG4J_CONFIGURATION_FILE=P:\\conf\\TEST_FOLDER\\ssdf\\log4j2.xml -&gt; Path from where the log4j2.xml file to be read</li>\n<li>-DLOGDIRECTORY=P:\\conf\\TEST_FOLDER\\ssdf\\Final_log_Destination\\test.log -&gt; This is the variable inputted in the xml file</li>\n<li>Use the below in the xml file for the value to get changed</li>\n</ol>\n<p>${sys:LOGDIRECTORY}</p>\n"}],"owner":{"account_id":11447,"reputation":1067,"user_id":22070,"accept_rate":50,"display_name":"Derek Lewis"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":85603,"favorite_count":0,"down_vote_count":1,"up_vote_count":54,"accepted_answer_id":29329899,"answer_count":6,"score":53,"last_activity_date":1691834141,"creation_date":1223991764,"question_id":201188,"body_markdown":"Is it possible to reference system environment variables (as opposed to Java system properties) in a log4j xml configuration file?\r\n\r\nI&#39;d like to be able to do something like:\r\n\r\n    &lt;level value=&quot;${env.LOG_LEVEL}&quot; /&gt;\r\n\r\nand have it get that from the system environment variables, so I can avoid having to pass in so many things with -D parameters.","title":"Using system environment variables in log4j xml configuration","body":"<p>Is it possible to reference system environment variables (as opposed to Java system properties) in a log4j xml configuration file?</p>\n\n<p>I'd like to be able to do something like:</p>\n\n<pre><code>&lt;level value=\"${env.LOG_LEVEL}\" /&gt;\n</code></pre>\n\n<p>and have it get that from the system environment variables, so I can avoid having to pass in so many things with -D parameters.</p>\n"},{"tags":["java","spring","ms-word","apache-poi"],"comments":[{"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"score":0,"creation_date":1658811371,"post_id":73114704,"comment_id":129137596,"body_markdown":"Biggest problem is to find the position of the new run. You cannot rely on &quot;TextToFind&quot; be in its own text-run. It could be a part of a text run (&quot;with TextToFind working&quot;) as well as split into multiple text-runs (&quot;Text&quot;&quot;To&quot;&quot;Find&quot;). Microsoft Word is very special in how it stores text-runs.","body":"Biggest problem is to find the position of the new run. You cannot rely on &quot;TextToFind&quot; be in its own text-run. It could be a part of a text run (&quot;with TextToFind working&quot;) as well as split into multiple text-runs (&quot;Text&quot;&quot;To&quot;&quot;Find&quot;). Microsoft Word is very special in how it stores text-runs."},{"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"score":1,"creation_date":1658811385,"post_id":73114704,"comment_id":129137599,"body_markdown":"Also, what is `XWPFTrackRun` in your code? What you would need is a special [XWPFParagraph.insertNewRun](https://poi.apache.org/apidocs/4.1/org/apache/poi/xwpf/usermodel/XWPFParagraph.html#insertNewRun-int-) for your `XWPFTrackRun`. See [XWPFParagraph.java](https://svn.apache.org/viewvc/poi/tags/REL_5_2_2/poi-ooxml/src/main/java/org/apache/poi/xwpf/usermodel/XWPFParagraph.java?view=markup#l1526) for how to code that. Much too broad for an answer here.","body":"Also, what is <code>XWPFTrackRun</code> in your code? What you would need is a special <a href=\"https://poi.apache.org/apidocs/4.1/org/apache/poi/xwpf/usermodel/XWPFParagraph.html#insertNewRun-int-\" rel=\"nofollow noreferrer\">XWPFParagraph.insertNewRun</a> for your <code>XWPFTrackRun</code>. See <a href=\"https://svn.apache.org/viewvc/poi/tags/REL_5_2_2/poi-ooxml/src/main/java/org/apache/poi/xwpf/usermodel/XWPFParagraph.java?view=markup#l1526\" rel=\"nofollow noreferrer\">XWPFParagraph.java</a> for how to code that. Much too broad for an answer here."},{"owner":{"account_id":19272771,"reputation":9,"user_id":14086391,"display_name":"Kane"},"score":0,"creation_date":1658829389,"post_id":73114704,"comment_id":129143338,"body_markdown":"@AxelRichter Thanks for your reply. `XWPFTrackRun` extends `XWPFRun` to insert text with track changes [XWPFTrackRun](https://stackoverflow.com/questions/71941703/apache-poi-insert-text-in-a-paragraph-and-view-track-changes-in-a-word-document) \nThe idea of ​​this development is to search for a specific word and just after add a new word `XWPFTrackRun` with track changes to accept or reject","body":"@AxelRichter Thanks for your reply. <code>XWPFTrackRun</code> extends <code>XWPFRun</code> to insert text with track changes <a href=\"https://stackoverflow.com/questions/71941703/apache-poi-insert-text-in-a-paragraph-and-view-track-changes-in-a-word-document\">XWPFTrackRun</a>  The idea of ​​this development is to search for a specific word and just after add a new word <code>XWPFTrackRun</code> with track changes to accept or reject"}],"answers":[{"tags":[],"owner":{"account_id":16176316,"reputation":1,"user_id":11678873,"display_name":"周志明"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691833488,"creation_date":1691832845,"answer_id":76888636,"question_id":73114704,"body_markdown":"you have solve the direction of write when it doesn&#39;t support &#39;insert&#39;,but it also doesn&#39;t support &quot;read&#39;s insert&quot;!\r\n\r\nso how to do the opposite operation? such as\r\n\r\n    para1.getRuns().forEach(x1 -&gt; {\r\n    //i can get deltext by using api &quot;                     x1.getCTR().getDelTextArray(0);\r\n    &quot;\r\n    //but i can&#39;t get inserttext by official api , because &quot;x1.getCTR().getInsTextArray(0)&quot; is unexisting!\r\n    \r\n    //And \r\n    &quot;x1.getCTR().getInstrTextArray(0)&quot; it doesn&#39;t work !\r\n    \r\n    \r\n    });","title":"Apache poi: insert run at specific position in paragraph","body":"<p>you have solve the direction of write when it doesn't support 'insert',but it also doesn't support &quot;read's insert&quot;!</p>\n<p>so how to do the opposite operation? such as</p>\n<pre><code>para1.getRuns().forEach(x1 -&gt; {\n//i can get deltext by using api &quot;                     x1.getCTR().getDelTextArray(0);\n&quot;\n//but i can't get inserttext by official api , because &quot;x1.getCTR().getInsTextArray(0)&quot; is unexisting!\n\n//And \n&quot;x1.getCTR().getInstrTextArray(0)&quot; it doesn't work !\n\n\n});\n</code></pre>\n"}],"owner":{"account_id":19272771,"reputation":9,"user_id":14086391,"display_name":"Kane"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":662,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1691833488,"creation_date":1658779055,"question_id":73114704,"body_markdown":"I&#39;m working with Apache poi in java 11. I&#39;m trying to insert a new run (with control change) at a specific position in a paragraph but currently the run is inserted at the end of the paragraph.\r\n\r\nHere my code:\r\n\r\n```java\r\nprivate void insertCTRun(List&lt;XWPFParagraph&gt; paraList){\r\n\tfor (XWPFParagraph paragraph : paraList) {\r\n\t\tList&lt;XWPFRun&gt; runs = p.getRuns();\r\n\t\t// Loop runs\r\n\t\tfor (XWPFRun r : runs) {\r\n\t\t\tString text = r.getText(0);\r\n\t\t\t// Find specific text\r\n\t\t\tif (text != null &amp;&amp; text.contains(&quot;TextToFind&quot;)) {\r\n\r\n\t\t\t\tXmlCursor cursor = paragraph.getCTP().newCursor();\r\n\t\t\t\tcursor.toNextSibling();\r\n\r\n\t\t\t\t// Add a new track run\r\n\t\t\t\tXWPFTrackRun newCTRun = createInsRun(paragraph, SummaryCommonConstants.NAME_APP, new java.util.GregorianCalendar());\r\n\r\n\t\t\t\tnewCTRun.setText(&quot;NewText&quot;);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n\r\n// Add track change\r\nprivate static XWPFTrackRun createInsRun(XWPFParagraph paragraph, String author, java.util.Calendar date) {\r\n\tCTRunTrackChange trackChange = paragraph.getCTP().addNewIns();\r\n\ttrackChange.setAuthor(author);\r\n\ttrackChange.setDate(date);\r\n\ttrackChange.addNewR();\r\n\treturn new XWPFTrackRun(\r\n\t\t\ttrackChange,\r\n\t\t\ttrackChange.getRArray(0),\r\n\t\t\tparagraph\r\n\t);\r\n}\r\n\r\n// Model with track change properties\r\npublic class XWPFTrackRun extends XWPFRun {\r\n\r\n    private CTRunTrackChange trackChange;\r\n\r\n    public XWPFTrackRun(CTRunTrackChange trackChange, CTR run, IRunBody p) {\r\n        super(run, p);\r\n        this.trackChange = trackChange;\r\n    }\r\n    public String getAuthor() {\r\n        return this.trackChange.getAuthor();\r\n    }\r\n    public void setAuthor(String author) {\r\n        this.trackChange.setAuthor(author);\r\n    }\r\n    public java.util.Calendar getDate() {\r\n        return this.trackChange.getDate();\r\n    }\r\n    public void setDate(java.util.Calendar date) {\r\n        this.trackChange.setDate(date);\r\n    }\r\n\r\n}\r\n```\r\n\r\nI would like to insert the run with a &quot;NewText&quot; after the text &quot;TextToFind&quot; but I get the following result:\r\n\r\n    This is an example with TextToFind working with apache poi NewText\r\n\r\nIs there a way to insert the run &quot;NewText&quot; at that specific position?\r\n\r\nThanks in advance.","title":"Apache poi: insert run at specific position in paragraph","body":"<p>I'm working with Apache poi in java 11. I'm trying to insert a new run (with control change) at a specific position in a paragraph but currently the run is inserted at the end of the paragraph.</p>\n<p>Here my code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private void insertCTRun(List&lt;XWPFParagraph&gt; paraList){\n    for (XWPFParagraph paragraph : paraList) {\n        List&lt;XWPFRun&gt; runs = p.getRuns();\n        // Loop runs\n        for (XWPFRun r : runs) {\n            String text = r.getText(0);\n            // Find specific text\n            if (text != null &amp;&amp; text.contains(&quot;TextToFind&quot;)) {\n\n                XmlCursor cursor = paragraph.getCTP().newCursor();\n                cursor.toNextSibling();\n\n                // Add a new track run\n                XWPFTrackRun newCTRun = createInsRun(paragraph, SummaryCommonConstants.NAME_APP, new java.util.GregorianCalendar());\n\n                newCTRun.setText(&quot;NewText&quot;);\n            }\n        }\n    }\n}\n\n// Add track change\nprivate static XWPFTrackRun createInsRun(XWPFParagraph paragraph, String author, java.util.Calendar date) {\n    CTRunTrackChange trackChange = paragraph.getCTP().addNewIns();\n    trackChange.setAuthor(author);\n    trackChange.setDate(date);\n    trackChange.addNewR();\n    return new XWPFTrackRun(\n            trackChange,\n            trackChange.getRArray(0),\n            paragraph\n    );\n}\n\n// Model with track change properties\npublic class XWPFTrackRun extends XWPFRun {\n\n    private CTRunTrackChange trackChange;\n\n    public XWPFTrackRun(CTRunTrackChange trackChange, CTR run, IRunBody p) {\n        super(run, p);\n        this.trackChange = trackChange;\n    }\n    public String getAuthor() {\n        return this.trackChange.getAuthor();\n    }\n    public void setAuthor(String author) {\n        this.trackChange.setAuthor(author);\n    }\n    public java.util.Calendar getDate() {\n        return this.trackChange.getDate();\n    }\n    public void setDate(java.util.Calendar date) {\n        this.trackChange.setDate(date);\n    }\n\n}\n</code></pre>\n<p>I would like to insert the run with a &quot;NewText&quot; after the text &quot;TextToFind&quot; but I get the following result:</p>\n<pre><code>This is an example with TextToFind working with apache poi NewText\n</code></pre>\n<p>Is there a way to insert the run &quot;NewText&quot; at that specific position?</p>\n<p>Thanks in advance.</p>\n"},{"tags":["java","android"],"answers":[{"comments":[{"owner":{"account_id":905922,"reputation":13779,"user_id":940834,"accept_rate":94,"display_name":"IAmGroot"},"score":0,"creation_date":1353076504,"post_id":13417500,"comment_id":18336784,"body_markdown":"and on the recieving intent, `parcel.setDataPosition(0); destinationBitmap = Bitmap.CREATOR.createFromParcel(parcel);`","body":"and on the recieving intent, <code>parcel.setDataPosition(0); destinationBitmap = Bitmap.CREATOR.createFromParcel(parcel);</code>"}],"tags":[],"owner":{"account_id":419956,"reputation":9055,"user_id":797390,"accept_rate":65,"display_name":"Jong"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1353072182,"creation_date":1353072182,"answer_id":13417500,"question_id":13417163,"body_markdown":"You have an example [here][1].\r\n\r\n    mImage.writeToParcel(parcel, 0);\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/7326365/how-to-parcel-a-bitmap-in-android","title":"Parcel Bitmap - Android","body":"<p>You have an example <a href=\"https://stackoverflow.com/questions/7326365/how-to-parcel-a-bitmap-in-android\">here</a>.</p>\n\n<pre><code>mImage.writeToParcel(parcel, 0);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1985337,"reputation":1538,"user_id":1780737,"accept_rate":60,"display_name":"Ashish Sahu"},"score":1,"creation_date":1425586519,"post_id":13719248,"comment_id":46034987,"body_markdown":"03-06 01:17:53.643: E/Parcel(15238): Class not found when unmarshalling: ��an\n03-06 01:17:53.643: E/Parcel(15238):java.lang.ClassNotFoundException: ��an\n03-06 01:17:53.643: E/Parcel(15238): \tat java.lang.Class.classForName(Native Method)\n03-06 01:17:53.643: E/Parcel(15238): \tat java.lang.Class.forName(Class.java:251)\n03-06 01:17:53.643: E/Parcel(15238):","body":"03-06 01:17:53.643: E/Parcel(15238): Class not found when unmarshalling: ��an 03-06 01:17:53.643: E/Parcel(15238):java.lang.ClassNotFoundException: ��an 03-06 01:17:53.643: E/Parcel(15238): \tat java.lang.Class.classForName(Native Method) 03-06 01:17:53.643: E/Parcel(15238): \tat java.lang.Class.forName(Class.java:251) 03-06 01:17:53.643: E/Parcel(15238):"},{"owner":{"account_id":484608,"reputation":5021,"user_id":900394,"accept_rate":63,"display_name":"Alaa M."},"score":0,"creation_date":1476133453,"post_id":13719248,"comment_id":67213337,"body_markdown":"Use `writeParcelable()` instead of `writeValue()`","body":"Use <code>writeParcelable()</code> instead of <code>writeValue()</code>"}],"tags":[],"owner":{"account_id":1707553,"reputation":328,"user_id":1566316,"display_name":"sercxjo"},"comment_count":2,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1354698346,"creation_date":1354697164,"answer_id":13719248,"question_id":13417163,"body_markdown":"    public void writeToParcel(Parcel dest, int flags) {\r\n    ...\r\n        dest.writeValue(mImage);\r\n    }\r\n    private Category(Parcel in) {\r\n    ...\r\n        mImage= in.readParcelable(Bitmap.class.getClassLoader());\r\n    }\r\n\r\nThis will work even if `mImage==null`.\r\n","title":"Parcel Bitmap - Android","body":"<pre><code>public void writeToParcel(Parcel dest, int flags) {\n...\n    dest.writeValue(mImage);\n}\nprivate Category(Parcel in) {\n...\n    mImage= in.readParcelable(Bitmap.class.getClassLoader());\n}\n</code></pre>\n\n<p>This will work even if <code>mImage==null</code>.</p>\n"},{"tags":[],"owner":{"account_id":1985337,"reputation":1538,"user_id":1780737,"accept_rate":60,"display_name":"Ashish Sahu"},"comment_count":0,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1425586349,"creation_date":1425586349,"answer_id":28886838,"question_id":13417163,"body_markdown":"**Try simply**\r\n    \r\n    public class MyVeryOwnParcelable  implements Parcelable {\r\n\t \r\n    //you can use every type of data even Arraylist\r\n\r\n    //change here (1)\r\n    public String ID;\r\n\tpublic Bitmap BITMAP_IMAGE;\r\n   \r\n    public MyVeryOwnParcelable  () {\r\n       \r\n    }\r\n\tpublic MyVeryOwnParcelable  (Parcel parcel) {\r\n    \t//change here (2)\r\n        this.ID= parcel.readString();\r\n        this.BITMAP_IMAGE=parcel.readParcelable(null);\r\n    }\r\n\r\n    @Override\r\n    public void writeToParcel(Parcel dest, int flags) {\r\n        //change here (3)\r\n        dest.writeString(ID);\r\n        dest.writeParcelable(BITMAP_IMAGE, flags);\r\n    }\r\n\r\n    @Override\r\n    public int describeContents() {\r\n        return 0;\r\n    }\r\n    // Method to recreate a Catch from a Parcel\r\n    public static Creator&lt;MyVeryOwnParcelable  &gt; CREATOR = new Creator&lt;MyVeryOwnParcelable  &gt;() {\r\n\r\n        @Override\r\n        public MyVeryOwnParcelable  createFromParcel(Parcel source) {\r\n            return new MyVeryOwnParcelable  (source);\r\n        }\r\n\r\n        @Override\r\n        public MyVeryOwnParcelable  [] newArray(int size) {\r\n            return new MyVeryOwnParcelable  [size];\r\n        }\r\n\r\n      };\r\n    }\r\n\r\n**Send simply**\r\n    \r\n    MyVeryOwnParcelable mp=new MyVeryOwnParcelable();\r\n    mp.ID=&quot;hello parcel&quot;;\r\n    mp.BITMAP_IMAGE=BitmapFactory.decodeResource(getResources(), R.drawable.myimage);\r\n\r\n    //put as normal\r\n    intent.putExtra(&quot;MY_DATA&quot;,mp);\r\n    \r\n    //get from intent\r\n    MyVeryOwnParcelable  my= (MyVeryOwnParcelable )   getIntent().getExtras().getParcelable(KEY.EXTRA_DATA);\r\n    //do anything with data\r\n\r\n    imageView.setImageBitmap(mp.BITMAP_IMAGE);\r\n\r\n**simply change &#39;MyVeryOwnParcelable&#39; according your needs l&#39;ll already indicate where change require** \r\n\r\nHope this will help someone\r\n","title":"Parcel Bitmap - Android","body":"<p><strong>Try simply</strong></p>\n\n<pre><code>public class MyVeryOwnParcelable  implements Parcelable {\n\n//you can use every type of data even Arraylist\n\n//change here (1)\npublic String ID;\npublic Bitmap BITMAP_IMAGE;\n\npublic MyVeryOwnParcelable  () {\n\n}\npublic MyVeryOwnParcelable  (Parcel parcel) {\n    //change here (2)\n    this.ID= parcel.readString();\n    this.BITMAP_IMAGE=parcel.readParcelable(null);\n}\n\n@Override\npublic void writeToParcel(Parcel dest, int flags) {\n    //change here (3)\n    dest.writeString(ID);\n    dest.writeParcelable(BITMAP_IMAGE, flags);\n}\n\n@Override\npublic int describeContents() {\n    return 0;\n}\n// Method to recreate a Catch from a Parcel\npublic static Creator&lt;MyVeryOwnParcelable  &gt; CREATOR = new Creator&lt;MyVeryOwnParcelable  &gt;() {\n\n    @Override\n    public MyVeryOwnParcelable  createFromParcel(Parcel source) {\n        return new MyVeryOwnParcelable  (source);\n    }\n\n    @Override\n    public MyVeryOwnParcelable  [] newArray(int size) {\n        return new MyVeryOwnParcelable  [size];\n    }\n\n  };\n}\n</code></pre>\n\n<p><strong>Send simply</strong></p>\n\n<pre><code>MyVeryOwnParcelable mp=new MyVeryOwnParcelable();\nmp.ID=\"hello parcel\";\nmp.BITMAP_IMAGE=BitmapFactory.decodeResource(getResources(), R.drawable.myimage);\n\n//put as normal\nintent.putExtra(\"MY_DATA\",mp);\n\n//get from intent\nMyVeryOwnParcelable  my= (MyVeryOwnParcelable )   getIntent().getExtras().getParcelable(KEY.EXTRA_DATA);\n//do anything with data\n\nimageView.setImageBitmap(mp.BITMAP_IMAGE);\n</code></pre>\n\n<p><strong>simply change 'MyVeryOwnParcelable' according your needs l'll already indicate where change require</strong> </p>\n\n<p>Hope this will help someone</p>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":2,"creation_date":1692015155,"post_id":76888599,"comment_id":135564245,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/76888599/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":25349000,"reputation":1,"user_id":19166265,"display_name":"planetoxod"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691832256,"creation_date":1691832256,"answer_id":76888599,"question_id":13417163,"body_markdown":"    constructor(parcel: Parcel) : this(\r\n        parcel.readInt(),\r\n        parcel.readString(),\r\n        parcel.readString(),\r\n        parcel.readString(),\r\n        parcel.readInt(),\r\n        parcel.readInt(),\r\n        parcel.readString(),\r\n        parcel.readTypedObject(Bitmap.CREATOR),\r\n        parcel.readTypedObject(Bitmap.CREATOR),\r\n        parcel.readString()\r\n    ) {\r\n    }\r\n\r\n    override fun describeContents(): Int {\r\n       // TODO(&quot;Not yet implemented&quot;)\r\n        return 0\r\n    }\r\n\r\n    override fun writeToParcel(p0: Parcel, p1: Int) {\r\n       // TODO(&quot;Not yet implemented&quot;)\r\n    }","title":"Parcel Bitmap - Android","body":"<pre><code>constructor(parcel: Parcel) : this(\n    parcel.readInt(),\n    parcel.readString(),\n    parcel.readString(),\n    parcel.readString(),\n    parcel.readInt(),\n    parcel.readInt(),\n    parcel.readString(),\n    parcel.readTypedObject(Bitmap.CREATOR),\n    parcel.readTypedObject(Bitmap.CREATOR),\n    parcel.readString()\n) {\n}\n\noverride fun describeContents(): Int {\n   // TODO(&quot;Not yet implemented&quot;)\n    return 0\n}\n\noverride fun writeToParcel(p0: Parcel, p1: Int) {\n   // TODO(&quot;Not yet implemented&quot;)\n}\n</code></pre>\n"}],"owner":{"account_id":1990458,"reputation":125,"user_id":1784581,"accept_rate":27,"display_name":"iShare"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9452,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":4,"score":5,"last_activity_date":1691832256,"creation_date":1353070885,"question_id":13417163,"body_markdown":"In the existing code I have following class to hold category details.\r\n\r\n   \r\n\r\n\r\n\r\n    import org.json.JSONObject;\r\n    import android.graphics.Bitmap;\r\n    import android.os.Parcel;\r\n    import android.os.Parcelable;\r\n    \r\n    public class Category  {\r\n\r\n\r\n    private String mIconURL;\r\n    private String mName;\r\n \r\n\r\n    \r\n    public Category() {\r\n        super();\r\n    }\r\n\r\n    public String getIconURL() {\r\n        return mIconURL;\r\n    }\r\n\r\n    \r\n    public void setIconURL(String iconURL) {\r\n        this.mIconURL = iconURL;\r\n    }\r\n\r\n    public String getName() {\r\n        return mName;\r\n    }\r\n\r\n    public void setName(String name) {\r\n        this.mName = name;\r\n    }\r\n\r\n    @Override\r\n    public void writeToParcel(Parcel dest, int flags) {\r\n        super.writeToParcel(dest, flags);\r\n\r\n        dest.writeString(mIconURL);\r\n        dest.writeString(mName);\r\n      \r\n\r\n    }\r\n\r\n    public static final Parcelable.Creator&lt;Category&gt; CREATOR = new Parcelable.Creator&lt;Category&gt;() {\r\n\r\n        public Category createFromParcel(Parcel in) {\r\n            return new Category(in);\r\n        }\r\n\r\n        public Category[] newArray(int size) {\r\n            return new Category[size];\r\n        }\r\n    };\r\n\r\n    private Category(Parcel in) {\r\n        super(in);\r\n        mIconURL = in.readString();\r\n        mName = in.readString();\r\n \r\n\r\n    }\r\n\r\n    @Override\r\n    public int describeContents() {\r\n\r\n        return 1;\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        StringBuilder builder = new StringBuilder();\r\n        builder.append(&quot;{&quot;);\r\n        builder.append(super.toString());\r\n        builder.append(&quot;, mName=&quot;).append(mName);\r\n        builder.append(&quot;, mIconURL=&quot;).append(mIconURL);\r\n        builder.append(&quot;}&quot;);\r\n        return builder.toString();\r\n    }\r\n\r\n    public static Category parseFromJSON(JSONObject jsonObject) {\r\n        Category cat = new Category();\r\n        try {\r\n            cat.setServerId(jsonObject.getInt(&quot;id&quot;));\r\n            cat.setName(jsonObject.getString(&quot;name&quot;));\r\n            cat.setIconURL(jsonObject.getString(&quot;icon&quot;));\r\n         \r\n        } catch (Exception e) {\r\n\r\n        }\r\n        return cat;\r\n    }\r\n\r\n\r\n\r\n}\r\n\r\n\r\n\r\nAnd application works fine, but now I want to add Image property to this category class. I am new to Java and Android. But existing class has something called parcel. Now how i do same for bitmap? Is it like below\r\n\r\n\r\n    public Bitmap getImage()\r\n    {\r\n    \treturn mImage;\r\n    }\r\n\r\n     \r\n    @Override\r\n    public void writeToParcel(Parcel dest, int flags) {\r\n        super.writeToParcel(dest, flags);\r\n\r\n        dest.writeString(mIconURL);\r\n        dest.writeString(mName);\r\n        dest.writeByteArray(mImage);// there is no &quot;writeBitmap&quot; method in Parcel.\r\n\r\n    }\r\n   \r\n\r\n\r\nPlease guide me\r\n","title":"Parcel Bitmap - Android","body":"<p>In the existing code I have following class to hold category details.</p>\n\n<pre><code>import org.json.JSONObject;\nimport android.graphics.Bitmap;\nimport android.os.Parcel;\nimport android.os.Parcelable;\n\npublic class Category  {\n\n\nprivate String mIconURL;\nprivate String mName;\n\n\n\npublic Category() {\n    super();\n}\n\npublic String getIconURL() {\n    return mIconURL;\n}\n\n\npublic void setIconURL(String iconURL) {\n    this.mIconURL = iconURL;\n}\n\npublic String getName() {\n    return mName;\n}\n\npublic void setName(String name) {\n    this.mName = name;\n}\n\n@Override\npublic void writeToParcel(Parcel dest, int flags) {\n    super.writeToParcel(dest, flags);\n\n    dest.writeString(mIconURL);\n    dest.writeString(mName);\n\n\n}\n\npublic static final Parcelable.Creator&lt;Category&gt; CREATOR = new Parcelable.Creator&lt;Category&gt;() {\n\n    public Category createFromParcel(Parcel in) {\n        return new Category(in);\n    }\n\n    public Category[] newArray(int size) {\n        return new Category[size];\n    }\n};\n\nprivate Category(Parcel in) {\n    super(in);\n    mIconURL = in.readString();\n    mName = in.readString();\n\n\n}\n\n@Override\npublic int describeContents() {\n\n    return 1;\n}\n\n@Override\npublic String toString() {\n    StringBuilder builder = new StringBuilder();\n    builder.append(\"{\");\n    builder.append(super.toString());\n    builder.append(\", mName=\").append(mName);\n    builder.append(\", mIconURL=\").append(mIconURL);\n    builder.append(\"}\");\n    return builder.toString();\n}\n\npublic static Category parseFromJSON(JSONObject jsonObject) {\n    Category cat = new Category();\n    try {\n        cat.setServerId(jsonObject.getInt(\"id\"));\n        cat.setName(jsonObject.getString(\"name\"));\n        cat.setIconURL(jsonObject.getString(\"icon\"));\n\n    } catch (Exception e) {\n\n    }\n    return cat;\n}\n</code></pre>\n\n<p>}</p>\n\n<p>And application works fine, but now I want to add Image property to this category class. I am new to Java and Android. But existing class has something called parcel. Now how i do same for bitmap? Is it like below</p>\n\n<pre><code>public Bitmap getImage()\n{\n    return mImage;\n}\n\n\n@Override\npublic void writeToParcel(Parcel dest, int flags) {\n    super.writeToParcel(dest, flags);\n\n    dest.writeString(mIconURL);\n    dest.writeString(mName);\n    dest.writeByteArray(mImage);// there is no \"writeBitmap\" method in Parcel.\n\n}\n</code></pre>\n\n<p>Please guide me</p>\n"},{"tags":["java","apache-zookeeper"],"comments":[{"owner":{"account_id":1535561,"reputation":7664,"user_id":1431720,"accept_rate":89,"display_name":"Robert"},"score":0,"creation_date":1649003744,"post_id":71724855,"comment_id":126760679,"body_markdown":"Sorry, I left my crystal ball in the other pants. Can you [edit] your question and add more details on how your Linux and Windows setups differ, how the network is between them and zookeper, how exactly you test, and so on? See [ask].","body":"Sorry, I left my crystal ball in the other pants. Can you <a href=\"https://stackoverflow.com/posts/71724855/edit\">edit</a> your question and add more details on how your Linux and Windows setups differ, how the network is between them and zookeper, how exactly you test, and so on? See <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a>."},{"owner":{"account_id":23684186,"reputation":21,"user_id":17709371,"display_name":"gonnaup"},"score":0,"creation_date":1649047057,"post_id":71724855,"comment_id":126768103,"body_markdown":"sorry, it&#39;s my first time to ask question. I add my environment, code and logs yet. Thanks for your answer and please ignore my poor English. &#128522;","body":"sorry, it&#39;s my first time to ask question. I add my environment, code and logs yet. Thanks for your answer and please ignore my poor English. 😊"}],"answers":[{"tags":[],"owner":{"account_id":18195498,"reputation":51,"user_id":13240626,"display_name":"FreemanB"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650032022,"creation_date":1650032022,"answer_id":71885114,"question_id":71724855,"body_markdown":"I can&#39;t say this is your problem exactly, but do you have some type of antivirus software running on the Windows box that is scanning jar files on access? I&#39;ve run into that problem on a server in the past, where an antivirus update caused all Zookeeper connections to go from less than a second to connect to approximately 60 seconds while the on-access scanner was checking all jar files that were being touched/loaded, including both Zookeeper and JVM libraries. If you have antivirus, you can try temporarily disabling it while running your connection tests to at least rule that possibility out.","title":"Why does connecting zookeeper take a long time on Windows?","body":"<p>I can't say this is your problem exactly, but do you have some type of antivirus software running on the Windows box that is scanning jar files on access? I've run into that problem on a server in the past, where an antivirus update caused all Zookeeper connections to go from less than a second to connect to approximately 60 seconds while the on-access scanner was checking all jar files that were being touched/loaded, including both Zookeeper and JVM libraries. If you have antivirus, you can try temporarily disabling it while running your connection tests to at least rule that possibility out.</p>\n"},{"tags":[],"owner":{"account_id":23684186,"reputation":21,"user_id":17709371,"display_name":"gonnaup"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1650724161,"creation_date":1650724161,"answer_id":71980568,"question_id":71724855,"body_markdown":"I finally discovered the problem through debug the source code of the Zookeeper.\r\nBefore JVM instantiate the Zookeeper object, it execute the static block in Zookeeper.class which load your enviroment. There has a method `InetAddress.getLocalHost().getCanonicalHostName()` which make the code running\r\nslowly.I found a solution in [getcanonicalhostname-is-very-slow](https://stackoverflow.com/questions/47031687/getcanonicalhostname-is-very-slow). This is the `Npcap Loopback Adapter` cause the slowly execution.","title":"Why does connecting zookeeper take a long time on Windows?","body":"<p>I finally discovered the problem through debug the source code of the Zookeeper.\nBefore JVM instantiate the Zookeeper object, it execute the static block in Zookeeper.class which load your enviroment. There has a method <code>InetAddress.getLocalHost().getCanonicalHostName()</code> which make the code running\nslowly.I found a solution in <a href=\"https://stackoverflow.com/questions/47031687/getcanonicalhostname-is-very-slow\">getcanonicalhostname-is-very-slow</a>. This is the <code>Npcap Loopback Adapter</code> cause the slowly execution.</p>\n"}],"owner":{"account_id":23684186,"reputation":21,"user_id":17709371,"display_name":"gonnaup"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":542,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1691831748,"creation_date":1648980411,"question_id":71724855,"body_markdown":"I&#39;m running a simple demo that is using the Java zookeeper client to connect zookeeper server.\r\nIt takes a long time(at least 10 seconds) to connect successfully on windows, but it connects successfully on Linux very quickly. What is the reason and how to deal with it?\r\n\r\n**solft version:**\r\n\r\nOS: Windows 11 with two virtual machines, one is Ubuntu server, the other is Ubuntu desktop,\r\n\r\nJava: OpenJDK 11,\r\n\r\nzookeeper server: version3.7.0, deployed on Ubuntu virtual machine\r\n\r\ndemo code:\r\n\r\n    public static void main(String[] args) throws Exception {\r\n        log.info(&quot;begin connect to zookeeper ================================&gt;&gt;&quot;);\r\n        ZooKeeper zooKeeper = new ZooKeeper(&quot;192.168.1.16&quot;, 30000, watchedEvent -&gt; {\r\n        });\r\n        log.info(&quot;connect zookeeper success =================================&gt;&gt;&quot;);\r\n        zooKeeper.close();\r\n        log.info(&quot;zookeeper is closed...&quot;);\r\n    }\r\n\r\n**result and logs:**\r\n\r\n 1. demo code run on Win11:\r\n```\r\n[04-04-22 11:57:32:013 CST] main  INFO provider.ProviderStartup: begin connect to zookeeper ================================&gt;&gt;\r\n[04-04-22 11:57:41:087 CST] main  INFO zookeeper.ZooKeeper: Client environment:zookeeper.version=3.7.0-e3704b390a6697bfdf4b0bef79e3da7a4f6bac4b, built on 2021-03-17 09:46 UTC\r\n[04-04-22 11:57:41:087 CST] main  INFO zookeeper.ZooKeeper: Client environment:java.version=11\r\n[04-04-22 11:57:41:088 CST] main  INFO zookeeper.ZooKeeper: Client environment:java.home=D:\\jdk-11\r\n[04-04-22 11:57:41:088 CST] main  INFO zookeeper.ZooKeeper: Client environment:os.name=Windows 10\r\n[04-04-22 11:57:41:088 CST] main  INFO zookeeper.ZooKeeper: Client environment:os.arch=amd64\r\n[04-04-22 11:57:41:088 CST] main  INFO zookeeper.ZooKeeper: Client environment:os.version=10.0\r\n[04-04-22 11:57:41:096 CST] main  INFO zookeeper.ZooKeeper: Initiating client connection, connectString=192.168.1.16 sessionTimeout=30000 watcher=com.gonnaup.dubbo.provider.ProviderStartup$$Lambda$29/0x00000008000dc840@799d4f69\r\n[04-04-22 11:57:41:102 CST] main  INFO common.X509Util: Setting -D jdk.tls.rejectClientInitiatedRenegotiation=true to disable client-initiated TLS renegotiation\r\n[04-04-22 11:57:41:384 CST] main  INFO zookeeper.ClientCnxnSocket: jute.maxbuffer value is 1048575 Bytes\r\n[04-04-22 11:57:41:393 CST] main  INFO zookeeper.ClientCnxn: zookeeper.request.timeout value is 0. feature enabled=false\r\n[04-04-22 11:57:41:393 CST] main  INFO provider.ProviderStartup: connect zookeeper success =================================&gt;&gt;\r\n[04-04-22 11:57:59:472 CST] main-SendThread(192.168.1.16:2181)  INFO zookeeper.ClientCnxn: Opening socket connection to server 192.168.1.16/192.168.1.16:2181.\r\n[04-04-22 11:57:59:473 CST] main-SendThread(192.168.1.16:2181)  INFO zookeeper.ClientCnxn: SASL config status: Will not attempt to authenticate using SASL (unknown error)\r\n[04-04-22 11:57:59:476 CST] main-SendThread(192.168.1.16:2181)  INFO zookeeper.ClientCnxn: Socket connection established, initiating session, client: /192.168.1.8:2474, server: 192.168.1.16/192.168.1.16:2181\r\n[04-04-22 11:57:59:596 CST] main  INFO provider.ProviderStartup: zookeeper is closed...\r\n[04-04-22 11:57:59:596 CST] main-EventThread  INFO zookeeper.ClientCnxn: EventThread shut down for session: 0x100001dd5b40058\r\n```\r\nI omitted some useless logs to reduce the number of words.It can be seen from the logging time that It takes a long time from the connection to the end(see the &#39;======&gt;&gt;&#39; flag).\r\n\r\n2. demo code run on ubuntu desktop virtual machine:\r\n```\r\n[04-04-22 11:57:03:739 CST] main  INFO simple.ZookeeperCli: begin connect to zookeeper ================================&gt;&gt;\r\n[04-04-22 11:57:03:785 CST] main  INFO zookeeper.ZooKeeper: Client environment:zookeeper.version=3.7.0-e3704b390a6697bfdf4b0bef79e3da7a4f6bac4b, built on 2021-03-17 09:46 UTC\r\n[04-04-22 11:57:03:786 CST] main  INFO zookeeper.ZooKeeper: Client environment:java.version=11.0.14.1\r\n[04-04-22 11:57:03:788 CST] main  INFO zookeeper.ZooKeeper: Client environment:os.name=Linux\r\n[04-04-22 11:57:03:788 CST] main  INFO zookeeper.ZooKeeper: Client environment:os.arch=amd64\r\n[04-04-22 11:57:03:788 CST] main  INFO zookeeper.ZooKeeper: Client environment:os.version=5.13.0-39-generic\r\n[04-04-22 11:57:03:800 CST] main  INFO zookeeper.ZooKeeper: Initiating client connection, connectString=192.168.1.16 sessionTimeout=30000 watcher=cn.gonnaup.simple.ZookeeperCli$$Lambda$31/0x0000000840083040@47f37ef1\r\n[04-04-22 11:57:03:808 CST] main  INFO common.X509Util: Setting -D jdk.tls.rejectClientInitiatedRenegotiation=true to disable client-initiated TLS renegotiation\r\n[04-04-22 11:57:03:818 CST] main  INFO zookeeper.ClientCnxnSocket: jute.maxbuffer value is 1048575 Bytes\r\n[04-04-22 11:57:03:838 CST] main  INFO zookeeper.ClientCnxn: zookeeper.request.timeout value is 0. feature enabled=false\r\n[04-04-22 11:57:03:849 CST] main  INFO simple.ZookeeperCli: connect zookeeper success =================================&gt;&gt;\r\n[04-04-22 11:57:03:941 CST] main-SendThread(192.168.1.16:2181)  INFO zookeeper.ClientCnxn: Opening socket connection to server 192.168.1.16/192.168.1.16:2181.\r\n[04-04-22 11:57:03:943 CST] main-SendThread(192.168.1.16:2181)  INFO zookeeper.ClientCnxn: SASL config status: Will not attempt to authenticate using SASL (unknown error)\r\n[04-04-22 11:57:03:964 CST] main-SendThread(192.168.1.16:2181)  INFO zookeeper.ClientCnxn: Socket connection established, initiating session, client: /10.0.2.15:56596, server: 192.168.1.16/192.168.1.16:2181\r\n[04-04-22 11:57:04:109 CST] main  INFO zookeeper.ZooKeeper: Session: 0x100001dd5b40057 closed\r\n[04-04-22 11:57:04:109 CST] main  INFO simple.ZookeeperCli: zookeeper is closed...\r\n[04-04-22 11:57:04:109 CST] main-EventThread  INFO zookeeper.ClientCnxn: EventThread shut down for session: 0x100001dd5b40057\r\n\r\n```\r\nThat can see connecting zookeeper and closing the connection is completion immediately.","title":"Why does connecting zookeeper take a long time on Windows?","body":"<p>I'm running a simple demo that is using the Java zookeeper client to connect zookeeper server.\nIt takes a long time(at least 10 seconds) to connect successfully on windows, but it connects successfully on Linux very quickly. What is the reason and how to deal with it?</p>\n<p><strong>solft version:</strong></p>\n<p>OS: Windows 11 with two virtual machines, one is Ubuntu server, the other is Ubuntu desktop,</p>\n<p>Java: OpenJDK 11,</p>\n<p>zookeeper server: version3.7.0, deployed on Ubuntu virtual machine</p>\n<p>demo code:</p>\n<pre><code>public static void main(String[] args) throws Exception {\n    log.info(&quot;begin connect to zookeeper ================================&gt;&gt;&quot;);\n    ZooKeeper zooKeeper = new ZooKeeper(&quot;192.168.1.16&quot;, 30000, watchedEvent -&gt; {\n    });\n    log.info(&quot;connect zookeeper success =================================&gt;&gt;&quot;);\n    zooKeeper.close();\n    log.info(&quot;zookeeper is closed...&quot;);\n}\n</code></pre>\n<p><strong>result and logs:</strong></p>\n<ol>\n<li>demo code run on Win11:</li>\n</ol>\n<pre><code>[04-04-22 11:57:32:013 CST] main  INFO provider.ProviderStartup: begin connect to zookeeper ================================&gt;&gt;\n[04-04-22 11:57:41:087 CST] main  INFO zookeeper.ZooKeeper: Client environment:zookeeper.version=3.7.0-e3704b390a6697bfdf4b0bef79e3da7a4f6bac4b, built on 2021-03-17 09:46 UTC\n[04-04-22 11:57:41:087 CST] main  INFO zookeeper.ZooKeeper: Client environment:java.version=11\n[04-04-22 11:57:41:088 CST] main  INFO zookeeper.ZooKeeper: Client environment:java.home=D:\\jdk-11\n[04-04-22 11:57:41:088 CST] main  INFO zookeeper.ZooKeeper: Client environment:os.name=Windows 10\n[04-04-22 11:57:41:088 CST] main  INFO zookeeper.ZooKeeper: Client environment:os.arch=amd64\n[04-04-22 11:57:41:088 CST] main  INFO zookeeper.ZooKeeper: Client environment:os.version=10.0\n[04-04-22 11:57:41:096 CST] main  INFO zookeeper.ZooKeeper: Initiating client connection, connectString=192.168.1.16 sessionTimeout=30000 watcher=com.gonnaup.dubbo.provider.ProviderStartup$$Lambda$29/0x00000008000dc840@799d4f69\n[04-04-22 11:57:41:102 CST] main  INFO common.X509Util: Setting -D jdk.tls.rejectClientInitiatedRenegotiation=true to disable client-initiated TLS renegotiation\n[04-04-22 11:57:41:384 CST] main  INFO zookeeper.ClientCnxnSocket: jute.maxbuffer value is 1048575 Bytes\n[04-04-22 11:57:41:393 CST] main  INFO zookeeper.ClientCnxn: zookeeper.request.timeout value is 0. feature enabled=false\n[04-04-22 11:57:41:393 CST] main  INFO provider.ProviderStartup: connect zookeeper success =================================&gt;&gt;\n[04-04-22 11:57:59:472 CST] main-SendThread(192.168.1.16:2181)  INFO zookeeper.ClientCnxn: Opening socket connection to server 192.168.1.16/192.168.1.16:2181.\n[04-04-22 11:57:59:473 CST] main-SendThread(192.168.1.16:2181)  INFO zookeeper.ClientCnxn: SASL config status: Will not attempt to authenticate using SASL (unknown error)\n[04-04-22 11:57:59:476 CST] main-SendThread(192.168.1.16:2181)  INFO zookeeper.ClientCnxn: Socket connection established, initiating session, client: /192.168.1.8:2474, server: 192.168.1.16/192.168.1.16:2181\n[04-04-22 11:57:59:596 CST] main  INFO provider.ProviderStartup: zookeeper is closed...\n[04-04-22 11:57:59:596 CST] main-EventThread  INFO zookeeper.ClientCnxn: EventThread shut down for session: 0x100001dd5b40058\n</code></pre>\n<p>I omitted some useless logs to reduce the number of words.It can be seen from the logging time that It takes a long time from the connection to the end(see the '======&gt;&gt;' flag).</p>\n<ol start=\"2\">\n<li>demo code run on ubuntu desktop virtual machine:</li>\n</ol>\n<pre><code>[04-04-22 11:57:03:739 CST] main  INFO simple.ZookeeperCli: begin connect to zookeeper ================================&gt;&gt;\n[04-04-22 11:57:03:785 CST] main  INFO zookeeper.ZooKeeper: Client environment:zookeeper.version=3.7.0-e3704b390a6697bfdf4b0bef79e3da7a4f6bac4b, built on 2021-03-17 09:46 UTC\n[04-04-22 11:57:03:786 CST] main  INFO zookeeper.ZooKeeper: Client environment:java.version=11.0.14.1\n[04-04-22 11:57:03:788 CST] main  INFO zookeeper.ZooKeeper: Client environment:os.name=Linux\n[04-04-22 11:57:03:788 CST] main  INFO zookeeper.ZooKeeper: Client environment:os.arch=amd64\n[04-04-22 11:57:03:788 CST] main  INFO zookeeper.ZooKeeper: Client environment:os.version=5.13.0-39-generic\n[04-04-22 11:57:03:800 CST] main  INFO zookeeper.ZooKeeper: Initiating client connection, connectString=192.168.1.16 sessionTimeout=30000 watcher=cn.gonnaup.simple.ZookeeperCli$$Lambda$31/0x0000000840083040@47f37ef1\n[04-04-22 11:57:03:808 CST] main  INFO common.X509Util: Setting -D jdk.tls.rejectClientInitiatedRenegotiation=true to disable client-initiated TLS renegotiation\n[04-04-22 11:57:03:818 CST] main  INFO zookeeper.ClientCnxnSocket: jute.maxbuffer value is 1048575 Bytes\n[04-04-22 11:57:03:838 CST] main  INFO zookeeper.ClientCnxn: zookeeper.request.timeout value is 0. feature enabled=false\n[04-04-22 11:57:03:849 CST] main  INFO simple.ZookeeperCli: connect zookeeper success =================================&gt;&gt;\n[04-04-22 11:57:03:941 CST] main-SendThread(192.168.1.16:2181)  INFO zookeeper.ClientCnxn: Opening socket connection to server 192.168.1.16/192.168.1.16:2181.\n[04-04-22 11:57:03:943 CST] main-SendThread(192.168.1.16:2181)  INFO zookeeper.ClientCnxn: SASL config status: Will not attempt to authenticate using SASL (unknown error)\n[04-04-22 11:57:03:964 CST] main-SendThread(192.168.1.16:2181)  INFO zookeeper.ClientCnxn: Socket connection established, initiating session, client: /10.0.2.15:56596, server: 192.168.1.16/192.168.1.16:2181\n[04-04-22 11:57:04:109 CST] main  INFO zookeeper.ZooKeeper: Session: 0x100001dd5b40057 closed\n[04-04-22 11:57:04:109 CST] main  INFO simple.ZookeeperCli: zookeeper is closed...\n[04-04-22 11:57:04:109 CST] main-EventThread  INFO zookeeper.ClientCnxn: EventThread shut down for session: 0x100001dd5b40057\n\n</code></pre>\n<p>That can see connecting zookeeper and closing the connection is completion immediately.</p>\n"},{"tags":["java","android","multithreading","audio","low-latency"],"owner":{"account_id":29210808,"reputation":1,"user_id":22378832,"display_name":"Aman Motiyani"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1691831219,"creation_date":1691831219,"question_id":76888536,"body_markdown":"I am working on an Android application that involves real-time audio recording from the microphone and immediate playback through a Bluetooth speaker. However, I am facing latency issues between the audio input from the microphone and the audio output through the Bluetooth speaker. The latency seems to increase as the recording duration gets longer.\r\n\r\nI have been trying various approaches to minimize this latency, but I have not been successful so far. I&#39;m reaching out to the Stack Overflow community for assistance and guidance on how to effectively reduce this latency.\r\n\r\nHere is the relevant code snippets from my RecordFragment and AudioRecordingThread classes:\r\n\r\n**AudioRecordingThread.java :**\r\n\r\n\r\n```\r\npublic void run() {\r\n        //change\r\n        Process.setThreadPriority(Process.THREAD_PRIORITY_URGENT_AUDIO);\r\n\r\n        FileOutputStream out = prepareWriting();\r\n        if (out == null) {\r\n            return;\r\n        }\r\n\r\n\r\n        intRecordSampleRate = AudioTrack.getNativeOutputSampleRate(AudioManager.STREAM_MUSIC);\r\n//        bufferSize = AudioRecord.getMinBufferSize(SAMPLING_RATE,\r\n//                AudioFormat.CHANNEL_IN_MONO,\r\n//                AudioFormat.ENCODING_PCM_16BIT);\r\n\r\n        //change 1\r\n        bufferSize = 441 * SAMPLING_RATE / 1000; //change 1\r\n        audioBuffer = new byte[bufferSize];\r\n\r\n        shortAudioData = new short[bufferSize];\r\n\r\n        record = new AudioRecord(AudioSource.DEFAULT, /*AudioSource.MIC*/\r\n                SAMPLING_RATE,\r\n                AudioFormat.CHANNEL_IN_MONO,\r\n                AudioFormat.ENCODING_PCM_16BIT,\r\n                BUFFER_SIZE_IN_BYTES);\r\n\r\n        audioTrack = new AudioTrack(AudioManager.STREAM_MUSIC\r\n                , SAMPLING_RATE\r\n                , AudioFormat.CHANNEL_OUT_MONO\r\n                , AudioFormat.ENCODING_PCM_16BIT\r\n                , BUFFER_SIZE_IN_BYTES\r\n                , AudioTrack.MODE_STREAM);\r\n\r\n        audioTrack.setPlaybackRate(SAMPLING_RATE);\r\n        record.startRecording();\r\n        audioTrack.play();\r\n\r\n        int read = 0;\r\n        while (isRecording) {\r\n\r\n            //change 2\r\n            long startTime = System.currentTimeMillis();\r\n            read = record.read(audioBuffer, 0, bufferSize);\r\n            long endTime = System.currentTimeMillis();\r\n\r\n            // Send the audio buffer to the BT speaker\r\n            audioTrackWriteTime = System.nanoTime();\r\n            audioTrack.write(audioBuffer, 0, read);\r\n            audioRecordReadTime = System.nanoTime();\r\n\r\n            // Sleep for the remaining time in the 10 ms period\r\n            long sleepTime = 10 - (endTime - startTime);\r\n            if (sleepTime &gt; 0) {\r\n                try {\r\n                    Thread.sleep(sleepTime);\r\n                } catch (InterruptedException e) {\r\n                    e.printStackTrace();\r\n                }\r\n            }\r\n//            read = record.read(audioBuffer, 0, bufferSize);\r\n//            audioTrack.write(audioBuffer, 0, bufferSize);\r\n\r\n            if ((read == AudioRecord.ERROR_INVALID_OPERATION) ||\r\n                    (read == AudioRecord.ERROR_BAD_VALUE) ||\r\n                    (read == AudioRecord.ERROR_BAD_VALUE) ||\r\n                    (read &lt;= 0)) {\r\n                continue;\r\n            }\r\n\r\n            if (RecordFragment.checkSound==1) {\r\n                stopRecording();\r\n                long latencyInMilliseconds = getLatencyInMilliseconds();\r\n                Log.d(&quot;AudioLatency&quot;, &quot;Latency: &quot; + latencyInMilliseconds + &quot; ms&quot;);\r\n                finishWriting(out);\r\n                convertRawToWav();\r\n                //proceed();\r\n                write(out);\r\n            }\r\n        }\r\n\r\n        if (record != null) {\r\n            record.stop();\r\n            record.release();\r\n        }\r\n\r\n        if (RecordFragment.checkSound==1) {\r\n\r\n            finishWriting(out);\r\n            convertRawToWav();\r\n        }\r\n    }\r\n```\r\n\r\n**Record Fragment :**\r\n\r\n```\r\nbtn_testSound.setOnClickListener(new OnClickListener() {\r\n\r\n            @Override\r\n            public void onClick(View view) {\r\n                Log.e(&quot;Record Fragment&quot;,&quot;Inside Record Fragment&quot;);\r\n                if (requestAudioPermissions()) {\r\n                    if (MyBroadcastReceiver.connectedBluetooth || welcomePref.isConnectedDevice()) {\r\n                        testLoudSpeakerSound();\r\n                        changeColor();\r\n                    } else {\r\n                        AlertDialog.Builder builder = new AlertDialog.Builder(getActivity());\r\n                        builder.setMessage(&quot;Please go to Settings to connect a bluetooth speaker&quot;)\r\n                                .setCancelable(true)\r\n                                .setPositiveButton(&quot;Yes&quot;, new DialogInterface.OnClickListener() {\r\n                                    public void onClick(DialogInterface dialog, int id) {\r\n                                        //finish();\r\n                                        /* startActivity(new Intent(getActivity(), DashBoardActivity.class)\r\n                                .putExtra(&quot;tag&quot;, &quot;speaker&quot;));*/\r\n\r\n                                    }\r\n                                });\r\n                        AlertDialog alertdialog = builder.create();\r\n                        alertdialog.setTitle(&quot;Bluetooth Speaker not connected&quot;);\r\n                        alertdialog.show();\r\n                    }\r\n\r\n                }\r\n            }\r\n        });\r\n\r\npublic void testLoudSpeakerSound() {\r\n        checkSound = 0;\r\n        if (isLoudSpeakerOn || !this.isPermit) {\r\n            if (SDK_INT &gt;= 23) {\r\n                voiceFromBuiltinMic();\r\n            }\r\n            toStopSpeaker();\r\n            btn_testSound.setText(&quot;Test Audio Out&quot;);\r\n            return;\r\n        }\r\n        isLoudSpeakerOn = true;\r\n        loudspeaker_status = 1;\r\n        btn_testSound.setText(&quot;Off&quot;);\r\n        testAudio=true;\r\n\r\n\r\n\r\n\r\n        new AsyncTask&lt;Void, Void, Void&gt;() {\r\n            /* access modifiers changed from: protected */\r\n            public Void doInBackground(Void... voidArr) {\r\n\r\n\r\n                loudSpeaker();\r\n                return null;\r\n            }\r\n        }.execute();\r\n\r\n    }\r\n\r\npublic void voiceFromBuiltinMic() {\r\n        //bottomNavigationView.getMenu().findItem(nav_home).setEnabled(false);\r\n\r\n        try {\r\n            Thread.sleep(10);\r\n        } catch (Exception unused) {\r\n        }\r\n        if (am == null) {\r\n            am = (AudioManager) getActivity().getSystemService(&quot;audio&quot;);\r\n        }\r\n        int i = loudspeaker_status;\r\n        if (i == 1 || i == 0) {\r\n            am.setSpeakerphoneOn(false);\r\n            am.setMode(3);\r\n        } else if (i == 2) {\r\n            am.setSpeakerphoneOn(false);\r\n            am.setMode(2);\r\n        }\r\n        if (this.recorder != null) {\r\n            AudioDeviceInfo myAudioDeviceInfo_builtinMic = getMyAudioDeviceInfo_builtinMic();\r\n            if (myAudioDeviceInfo_builtinMic != null) {\r\n                if (SDK_INT &gt;= Build.VERSION_CODES.M) {\r\n                    this.recorder.setPreferredDevice(myAudioDeviceInfo_builtinMic);\r\n                }\r\n                if (this.audioTrack != null) {\r\n                    AudioDeviceInfo myAudioDeviceInfo_BL_a2dp = getMyAudioDeviceInfo_BL_a2dp();\r\n                    if (SDK_INT &gt;= Build.VERSION_CODES.M) {\r\n                        if (myAudioDeviceInfo_BL_a2dp != null &amp;&amp; this.audioTrack.setPreferredDevice(myAudioDeviceInfo_BL_a2dp)) {\r\n//                            setMaxVol();\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\npublic void loudSpeaker() {\r\n        try {\r\n\r\n            if (am == null) {\r\n                am = (AudioManager) getActivity().getSystemService(&quot;audio&quot;);\r\n            }\r\n            int i = loudspeaker_status;\r\n            am.setSpeakerphoneOn(false);\r\n            am.setMode(3);\r\n            if (i == 1) {\r\n                am.setSpeakerphoneOn(false);\r\n                am.setMode(3);\r\n            } else if (i == 2) {\r\n                am.setSpeakerphoneOn(false);\r\n                am.setMode(2);\r\n            }\r\n            if (SDK_INT &gt;= 23) {\r\n                if (findHeadset()) {\r\n                    voiceFromHeadset();\r\n                } else if (loudspeaker_status == 1) {\r\n                    voiceFromBuiltinMic();\r\n                }\r\n            }\r\n\r\n            //initialize filename variable with date and time at the end to ensure the new file wont overwrite previous file\r\n            directory = ContextCompat.getExternalFilesDirs(getActivity(), Environment.DIRECTORY_MUSIC)[0];\r\n            fileName = directory + &quot;/&quot; + recordFileName + &quot;.mp3&quot;;\r\n            //  recordFileName = &quot;Recording_&quot; + formatter.format(now) + &quot;.mp3&quot;;\r\n\r\n\r\n            audioInputStartTimestamp = System.currentTimeMillis();\r\n            recordingThread = new AudioRecordingThread(fileName, new AudioRecordingHandler() {\r\n                @Override\r\n                public void onFftDataCapture(final byte[] bytes) {\r\n                    getActivity().runOnUiThread(new Runnable() {\r\n                        public void run() {\r\n\r\n                        }\r\n                    });\r\n                }\r\n\r\n                @Override\r\n                public void onRecordSuccess() {\r\n\r\n                    new Handler(Looper.getMainLooper()).post(new Runnable() {\r\n                        @Override\r\n                        public void run() {\r\n                            Log.e(&quot;filename&quot;, &quot;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&quot; + fileName);\r\n                            byte[] audio = converwav(fileName);\r\n                            if (audio != null) {\r\n                                //  callSaveRecordingAPI();\r\n                                //  MyToast.display(getActivity(), &quot;File Saved&quot;);\r\n                                Log.e(&quot;filebyte&quot;, &quot;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&quot; + audio);\r\n\r\n                                long audioLatency = audioOutputStartTimestamp - audioInputStartTimestamp;\r\n                                Log.e(&quot;AudioLatency&quot;, &quot;Audio Latency (ms): &quot; + audioLatency);\r\n                            }\r\n                        }\r\n                    });\r\n                }\r\n\r\n                @Override\r\n                public void onRecordingError() {\r\n                    getActivity().runOnUiThread(new Runnable() {\r\n                        public void run() {\r\n                        }\r\n                    });\r\n                }\r\n\r\n                @Override\r\n                public void onRecordSaveError() {\r\n                    getActivity().runOnUiThread(new Runnable() {\r\n                        public void run() {\r\n                        }\r\n                    });\r\n                }\r\n            });\r\n            recordingThread.start();\r\n\r\n            audioOutputStartTimestamp = System.currentTimeMillis();\r\n\r\n        } catch (Exception unused) {\r\n            getActivity().runOnUiThread(new Runnable() {\r\n                public void run() {\r\n\r\n                    isLoudSpeakerOn = false;\r\n                    isRecording = false;\r\n                    isRecordOn = false;\r\n                    Log.e(&quot;TAG&quot;, &quot;: &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&quot;);\r\n\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\n```\r\n\r\nI have already tried adjusting the buffer size and experimenting with different thread priorities, but the latency issue remains. I suspect that there might be a more effective approach to manage audio recording and playback simultaneously to reduce the latency.\r\n\r\nCould anyone provide guidance or suggestions on how to further reduce audio latency in this scenario? Are there any specific optimizations I should consider? I would greatly appreciate any insights or solutions that can help improve the real-time audio experience in my application.","title":"Reduce Latency in Android Audio Recording and Playback in Java Android","body":"<p>I am working on an Android application that involves real-time audio recording from the microphone and immediate playback through a Bluetooth speaker. However, I am facing latency issues between the audio input from the microphone and the audio output through the Bluetooth speaker. The latency seems to increase as the recording duration gets longer.</p>\n<p>I have been trying various approaches to minimize this latency, but I have not been successful so far. I'm reaching out to the Stack Overflow community for assistance and guidance on how to effectively reduce this latency.</p>\n<p>Here is the relevant code snippets from my RecordFragment and AudioRecordingThread classes:</p>\n<p><strong>AudioRecordingThread.java :</strong></p>\n<pre><code>public void run() {\n        //change\n        Process.setThreadPriority(Process.THREAD_PRIORITY_URGENT_AUDIO);\n\n        FileOutputStream out = prepareWriting();\n        if (out == null) {\n            return;\n        }\n\n\n        intRecordSampleRate = AudioTrack.getNativeOutputSampleRate(AudioManager.STREAM_MUSIC);\n//        bufferSize = AudioRecord.getMinBufferSize(SAMPLING_RATE,\n//                AudioFormat.CHANNEL_IN_MONO,\n//                AudioFormat.ENCODING_PCM_16BIT);\n\n        //change 1\n        bufferSize = 441 * SAMPLING_RATE / 1000; //change 1\n        audioBuffer = new byte[bufferSize];\n\n        shortAudioData = new short[bufferSize];\n\n        record = new AudioRecord(AudioSource.DEFAULT, /*AudioSource.MIC*/\n                SAMPLING_RATE,\n                AudioFormat.CHANNEL_IN_MONO,\n                AudioFormat.ENCODING_PCM_16BIT,\n                BUFFER_SIZE_IN_BYTES);\n\n        audioTrack = new AudioTrack(AudioManager.STREAM_MUSIC\n                , SAMPLING_RATE\n                , AudioFormat.CHANNEL_OUT_MONO\n                , AudioFormat.ENCODING_PCM_16BIT\n                , BUFFER_SIZE_IN_BYTES\n                , AudioTrack.MODE_STREAM);\n\n        audioTrack.setPlaybackRate(SAMPLING_RATE);\n        record.startRecording();\n        audioTrack.play();\n\n        int read = 0;\n        while (isRecording) {\n\n            //change 2\n            long startTime = System.currentTimeMillis();\n            read = record.read(audioBuffer, 0, bufferSize);\n            long endTime = System.currentTimeMillis();\n\n            // Send the audio buffer to the BT speaker\n            audioTrackWriteTime = System.nanoTime();\n            audioTrack.write(audioBuffer, 0, read);\n            audioRecordReadTime = System.nanoTime();\n\n            // Sleep for the remaining time in the 10 ms period\n            long sleepTime = 10 - (endTime - startTime);\n            if (sleepTime &gt; 0) {\n                try {\n                    Thread.sleep(sleepTime);\n                } catch (InterruptedException e) {\n                    e.printStackTrace();\n                }\n            }\n//            read = record.read(audioBuffer, 0, bufferSize);\n//            audioTrack.write(audioBuffer, 0, bufferSize);\n\n            if ((read == AudioRecord.ERROR_INVALID_OPERATION) ||\n                    (read == AudioRecord.ERROR_BAD_VALUE) ||\n                    (read == AudioRecord.ERROR_BAD_VALUE) ||\n                    (read &lt;= 0)) {\n                continue;\n            }\n\n            if (RecordFragment.checkSound==1) {\n                stopRecording();\n                long latencyInMilliseconds = getLatencyInMilliseconds();\n                Log.d(&quot;AudioLatency&quot;, &quot;Latency: &quot; + latencyInMilliseconds + &quot; ms&quot;);\n                finishWriting(out);\n                convertRawToWav();\n                //proceed();\n                write(out);\n            }\n        }\n\n        if (record != null) {\n            record.stop();\n            record.release();\n        }\n\n        if (RecordFragment.checkSound==1) {\n\n            finishWriting(out);\n            convertRawToWav();\n        }\n    }\n</code></pre>\n<p><strong>Record Fragment :</strong></p>\n<pre><code>btn_testSound.setOnClickListener(new OnClickListener() {\n\n            @Override\n            public void onClick(View view) {\n                Log.e(&quot;Record Fragment&quot;,&quot;Inside Record Fragment&quot;);\n                if (requestAudioPermissions()) {\n                    if (MyBroadcastReceiver.connectedBluetooth || welcomePref.isConnectedDevice()) {\n                        testLoudSpeakerSound();\n                        changeColor();\n                    } else {\n                        AlertDialog.Builder builder = new AlertDialog.Builder(getActivity());\n                        builder.setMessage(&quot;Please go to Settings to connect a bluetooth speaker&quot;)\n                                .setCancelable(true)\n                                .setPositiveButton(&quot;Yes&quot;, new DialogInterface.OnClickListener() {\n                                    public void onClick(DialogInterface dialog, int id) {\n                                        //finish();\n                                        /* startActivity(new Intent(getActivity(), DashBoardActivity.class)\n                                .putExtra(&quot;tag&quot;, &quot;speaker&quot;));*/\n\n                                    }\n                                });\n                        AlertDialog alertdialog = builder.create();\n                        alertdialog.setTitle(&quot;Bluetooth Speaker not connected&quot;);\n                        alertdialog.show();\n                    }\n\n                }\n            }\n        });\n\npublic void testLoudSpeakerSound() {\n        checkSound = 0;\n        if (isLoudSpeakerOn || !this.isPermit) {\n            if (SDK_INT &gt;= 23) {\n                voiceFromBuiltinMic();\n            }\n            toStopSpeaker();\n            btn_testSound.setText(&quot;Test Audio Out&quot;);\n            return;\n        }\n        isLoudSpeakerOn = true;\n        loudspeaker_status = 1;\n        btn_testSound.setText(&quot;Off&quot;);\n        testAudio=true;\n\n\n\n\n        new AsyncTask&lt;Void, Void, Void&gt;() {\n            /* access modifiers changed from: protected */\n            public Void doInBackground(Void... voidArr) {\n\n\n                loudSpeaker();\n                return null;\n            }\n        }.execute();\n\n    }\n\npublic void voiceFromBuiltinMic() {\n        //bottomNavigationView.getMenu().findItem(nav_home).setEnabled(false);\n\n        try {\n            Thread.sleep(10);\n        } catch (Exception unused) {\n        }\n        if (am == null) {\n            am = (AudioManager) getActivity().getSystemService(&quot;audio&quot;);\n        }\n        int i = loudspeaker_status;\n        if (i == 1 || i == 0) {\n            am.setSpeakerphoneOn(false);\n            am.setMode(3);\n        } else if (i == 2) {\n            am.setSpeakerphoneOn(false);\n            am.setMode(2);\n        }\n        if (this.recorder != null) {\n            AudioDeviceInfo myAudioDeviceInfo_builtinMic = getMyAudioDeviceInfo_builtinMic();\n            if (myAudioDeviceInfo_builtinMic != null) {\n                if (SDK_INT &gt;= Build.VERSION_CODES.M) {\n                    this.recorder.setPreferredDevice(myAudioDeviceInfo_builtinMic);\n                }\n                if (this.audioTrack != null) {\n                    AudioDeviceInfo myAudioDeviceInfo_BL_a2dp = getMyAudioDeviceInfo_BL_a2dp();\n                    if (SDK_INT &gt;= Build.VERSION_CODES.M) {\n                        if (myAudioDeviceInfo_BL_a2dp != null &amp;&amp; this.audioTrack.setPreferredDevice(myAudioDeviceInfo_BL_a2dp)) {\n//                            setMaxVol();\n                        }\n                    }\n                }\n            }\n        }\n    }\n\npublic void loudSpeaker() {\n        try {\n\n            if (am == null) {\n                am = (AudioManager) getActivity().getSystemService(&quot;audio&quot;);\n            }\n            int i = loudspeaker_status;\n            am.setSpeakerphoneOn(false);\n            am.setMode(3);\n            if (i == 1) {\n                am.setSpeakerphoneOn(false);\n                am.setMode(3);\n            } else if (i == 2) {\n                am.setSpeakerphoneOn(false);\n                am.setMode(2);\n            }\n            if (SDK_INT &gt;= 23) {\n                if (findHeadset()) {\n                    voiceFromHeadset();\n                } else if (loudspeaker_status == 1) {\n                    voiceFromBuiltinMic();\n                }\n            }\n\n            //initialize filename variable with date and time at the end to ensure the new file wont overwrite previous file\n            directory = ContextCompat.getExternalFilesDirs(getActivity(), Environment.DIRECTORY_MUSIC)[0];\n            fileName = directory + &quot;/&quot; + recordFileName + &quot;.mp3&quot;;\n            //  recordFileName = &quot;Recording_&quot; + formatter.format(now) + &quot;.mp3&quot;;\n\n\n            audioInputStartTimestamp = System.currentTimeMillis();\n            recordingThread = new AudioRecordingThread(fileName, new AudioRecordingHandler() {\n                @Override\n                public void onFftDataCapture(final byte[] bytes) {\n                    getActivity().runOnUiThread(new Runnable() {\n                        public void run() {\n\n                        }\n                    });\n                }\n\n                @Override\n                public void onRecordSuccess() {\n\n                    new Handler(Looper.getMainLooper()).post(new Runnable() {\n                        @Override\n                        public void run() {\n                            Log.e(&quot;filename&quot;, &quot;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&quot; + fileName);\n                            byte[] audio = converwav(fileName);\n                            if (audio != null) {\n                                //  callSaveRecordingAPI();\n                                //  MyToast.display(getActivity(), &quot;File Saved&quot;);\n                                Log.e(&quot;filebyte&quot;, &quot;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&quot; + audio);\n\n                                long audioLatency = audioOutputStartTimestamp - audioInputStartTimestamp;\n                                Log.e(&quot;AudioLatency&quot;, &quot;Audio Latency (ms): &quot; + audioLatency);\n                            }\n                        }\n                    });\n                }\n\n                @Override\n                public void onRecordingError() {\n                    getActivity().runOnUiThread(new Runnable() {\n                        public void run() {\n                        }\n                    });\n                }\n\n                @Override\n                public void onRecordSaveError() {\n                    getActivity().runOnUiThread(new Runnable() {\n                        public void run() {\n                        }\n                    });\n                }\n            });\n            recordingThread.start();\n\n            audioOutputStartTimestamp = System.currentTimeMillis();\n\n        } catch (Exception unused) {\n            getActivity().runOnUiThread(new Runnable() {\n                public void run() {\n\n                    isLoudSpeakerOn = false;\n                    isRecording = false;\n                    isRecordOn = false;\n                    Log.e(&quot;TAG&quot;, &quot;: &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&quot;);\n\n                }\n            });\n        }\n    }\n\n</code></pre>\n<p>I have already tried adjusting the buffer size and experimenting with different thread priorities, but the latency issue remains. I suspect that there might be a more effective approach to manage audio recording and playback simultaneously to reduce the latency.</p>\n<p>Could anyone provide guidance or suggestions on how to further reduce audio latency in this scenario? Are there any specific optimizations I should consider? I would greatly appreciate any insights or solutions that can help improve the real-time audio experience in my application.</p>\n"},{"tags":["java","android","xml"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1691997114,"post_id":76888499,"comment_id":135560860,"body_markdown":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a [minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example).","body":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."}],"owner":{"account_id":29166006,"reputation":1,"user_id":22343571,"display_name":"Mohd Zaid"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":9,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1691830689,"creation_date":1691830689,"question_id":76888499,"body_markdown":"\r\n[This is currently my layout (I am using a coordinator layout) i just want the horizontal recyclerView to scroll off the screen as the user Scrolls the vertical RecyclerView ](https://i.stack.imgur.com/sURcp.png)\r\n\r\nThis is how my code looks like \r\n                 &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n                &lt;androidx.coordinatorlayout.widget.CoordinatorLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n                    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n                    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;match_parent&quot;\r\n                    tools:context=&quot;.MainActivity&quot;&gt;\r\n                    &lt;com.google.android.material.appbar.AppBarLayout\r\n                        android:layout_width=&quot;match_parent&quot;\r\n                        android:layout_height=&quot;wrap_content&quot;\r\n                        &gt;\r\n                        &lt;com.google.android.material.appbar.CollapsingToolbarLayout\r\n                            android:layout_width=&quot;match_parent&quot;\r\n                            android:layout_height=&quot;wrap_content&quot;\r\n                            app:layout_scrollFlags=&quot;scroll|enterAlways&quot;\r\n                            &gt;\r\n                            &lt;androidx.appcompat.widget.Toolbar\r\n                                android:id=&quot;@+id/feed_toolbar&quot;\r\n                                android:layout_width=&quot;match_parent&quot;\r\n                                android:layout_height=&quot;wrap_content&quot;\r\n                                &gt;\r\n                                &lt;LinearLayout\r\n                                    android:id=&quot;@+id/feed_linear&quot;\r\n                                    android:layout_width=&quot;match_parent&quot;\r\n                                    android:layout_height=&quot;wrap_content&quot;\r\n                                    android:orientation=&quot;horizontal&quot;&gt;\r\n                \r\n                                    &lt;LinearLayout\r\n                                        android:layout_width=&quot;0dp&quot;\r\n                                        android:layout_height=&quot;wrap_content&quot;\r\n                                        android:layout_weight=&quot;1&quot;&gt;\r\n                \r\n                                        &lt;TextView\r\n                                            android:layout_width=&quot;wrap_content&quot;\r\n                                            android:layout_height=&quot;wrap_content&quot;\r\n                                            android:fontFamily=&quot;@font/billabong&quot;\r\n                                            android:paddingLeft=&quot;10dp&quot;\r\n                                            android:paddingTop=&quot;10dp&quot;\r\n                                            android:text=&quot;@string/instagram&quot;\r\n                                            android:textColor=&quot;@color/white&quot;\r\n                                            android:textSize=&quot;33dp&quot; /&gt;\r\n                \r\n                                    &lt;/LinearLayout&gt;\r\n                \r\n                                    &lt;LinearLayout\r\n                                        android:layout_width=&quot;0dp&quot;\r\n                                        android:layout_height=&quot;wrap_content&quot;\r\n                                        android:layout_gravity=&quot;center_vertical&quot;\r\n                                        android:layout_weight=&quot;1&quot;\r\n                                        android:gravity=&quot;end&quot;&gt;\r\n                \r\n                                        &lt;ImageView\r\n                                            android:layout_width=&quot;30dp&quot;\r\n                                            android:layout_height=&quot;30dp&quot;\r\n                                            android:id=&quot;@+id/notification_custom&quot;\r\n                                            android:layout_marginRight=&quot;15dp&quot;\r\n                                            android:src=&quot;@drawable/heart&quot; /&gt;\r\n                \r\n                                        &lt;ImageView\r\n                                            android:id=&quot;@+id/message_icon&quot;\r\n                                            android:layout_width=&quot;30dp&quot;\r\n                                            android:layout_height=&quot;30dp&quot;\r\n                                            android:layout_marginRight=&quot;12dp&quot;\r\n                                            android:src=&quot;@drawable/messenger&quot; /&gt;\r\n                \r\n                                    &lt;/LinearLayout&gt;\r\n                \r\n                                &lt;/LinearLayout&gt;\r\n                \r\n                            &lt;/androidx.appcompat.widget.Toolbar&gt;\r\n                \r\n                \r\n                        &lt;/com.google.android.material.appbar.CollapsingToolbarLayout&gt;\r\n                            &lt;androidx.recyclerview.widget.RecyclerView\r\n                                android:visibility=&quot;visible&quot;\r\n                                android:id=&quot;@+id/feed_story_recycler&quot;\r\n                                android:layout_width=&quot;match_parent&quot;\r\n                                android:background=&quot;#000&quot;\r\n                                android:layout_height=&quot;wrap_content&quot;/&gt;\r\n                    &lt;/com.google.android.material.appbar.AppBarLayout&gt;\r\n                \r\n                \r\n                    &lt;androidx.recyclerview.widget.RecyclerView\r\n                        android:layout_width=&quot;match_parent&quot;\r\n                        android:clipToPadding=&quot;false&quot;\r\n                        android:layout_marginBottom=&quot;40dp&quot;\r\n                        android:id=&quot;@+id/feed_recyler&quot;\r\n                        android:layout_height=&quot;wrap_content&quot;\r\n                        app:layout_behavior=&quot;@string/appbar_scrolling_view_behavior&quot;\r\n                        &gt;\r\n                    &lt;/androidx.recyclerview.widget.RecyclerView&gt;\r\n                \r\n                &lt;!--    Footer --&gt;\r\n                    &lt;LinearLayout\r\n                \r\n                        android:id=&quot;@+id/home&quot;\r\n                        android:paddingTop=&quot;9dp&quot;\r\n                        android:paddingBottom=&quot;9sp&quot;\r\n                        android:layout_width=&quot;match_parent&quot;\r\n                        android:layout_height=&quot;wrap_content&quot;\r\n                        android:orientation=&quot;horizontal&quot;\r\n                        android:layout_gravity=&quot;bottom&quot;\r\n                        &gt;\r\n                        &lt;LinearLayout\r\n                            android:layout_width=&quot;0dp&quot;\r\n                            android:layout_weight=&quot;1&quot;\r\n                            android:gravity=&quot;center_horizontal&quot;\r\n                            android:layout_height=&quot;wrap_content&quot;&gt;\r\n                            &lt;ImageView\r\n                                android:layout_width=&quot;21.5dp&quot;\r\n                                android:layout_height=&quot;21.5dp&quot;\r\n                                android:src=&quot;@drawable/home&quot;\r\n                                /&gt;\r\n                \r\n                        &lt;/LinearLayout&gt;\r\n                        &lt;LinearLayout\r\n                            android:gravity=&quot;center_horizontal&quot;\r\n                            android:layout_width=&quot;0dp&quot;\r\n                            android:layout_weight=&quot;1&quot;\r\n                            android:layout_height=&quot;wrap_content&quot;&gt;\r\n                            &lt;ImageView\r\n                                android:layout_width=&quot;21.5dp&quot;\r\n                                android:layout_height=&quot;21.5dp&quot;\r\n                                android:src=&quot;@drawable/search&quot;\r\n                                android:layout_marginStart=&quot;0dp&quot;\r\n                                android:layout_marginEnd=&quot;0dp&quot;\r\n                                /&gt;\r\n                \r\n                        &lt;/LinearLayout&gt;\r\n                        &lt;LinearLayout\r\n                            android:layout_width=&quot;0dp&quot;\r\n                            android:gravity=&quot;center_horizontal&quot;\r\n                            android:layout_weight=&quot;1&quot;\r\n                            android:layout_height=&quot;wrap_content&quot;&gt;\r\n                            &lt;ImageView\r\n                                android:layout_width=&quot;21.5dp&quot;\r\n                                android:layout_height=&quot;21.5dp&quot;\r\n                                android:src=&quot;@drawable/plus&quot;\r\n                                android:layout_marginStart=&quot;0dp&quot;\r\n                                android:layout_marginEnd=&quot;0dp&quot;\r\n                                /&gt;\r\n                \r\n                        &lt;/LinearLayout&gt;\r\n                        &lt;LinearLayout\r\n                            android:layout_width=&quot;0dp&quot;\r\n                            android:gravity=&quot;center_horizontal&quot;\r\n                            android:layout_weight=&quot;1&quot;\r\n                            android:layout_height=&quot;wrap_content&quot;&gt;\r\n                            &lt;ImageView\r\n                                android:layout_width=&quot;21.5dp&quot;\r\n                                android:layout_height=&quot;21.5dp&quot;\r\n                                android:src=&quot;@drawable/reel&quot;\r\n                                android:layout_marginStart=&quot;0dp&quot;\r\n                                android:layout_marginEnd=&quot;-15dp&quot;\r\n                                /&gt;\r\n                \r\n                        &lt;/LinearLayout&gt;\r\n                        &lt;LinearLayout\r\n                            android:layout_width=&quot;0dp&quot;\r\n                            android:layout_weight=&quot;1&quot;\r\n                            android:gravity=&quot;center_horizontal&quot;\r\n                            android:layout_height=&quot;wrap_content&quot;&gt;\r\n                \r\n                            &lt;com.google.android.material.imageview.ShapeableImageView\r\n                                android:layout_width=&quot;21.5dp&quot;\r\n                                android:layout_height=&quot;21.5dp&quot;\r\n                                android:background=&quot;#00FFFFFF&quot;\r\n                                android:scaleType=&quot;fitXY&quot;\r\n                                android:src=&quot;@drawable/goku2&quot;\r\n                                app:shapeAppearanceOverlay=&quot;@style/circularImageView&quot; /&gt;\r\n                        &lt;/LinearLayout&gt;\r\n                \r\n                \r\n                \r\n                \r\n                \r\n                    &lt;/LinearLayout&gt;\r\n                \r\n                &lt;/androidx.coordinatorlayout.widget.CoordinatorLayout&gt;\r\n\r\n","title":"Complex Scrolling Behaviour in Coordinator Layout","body":"<p><a href=\"https://i.stack.imgur.com/sURcp.png\" rel=\"nofollow noreferrer\">This is currently my layout (I am using a coordinator layout) i just want the horizontal recyclerView to scroll off the screen as the user Scrolls the vertical RecyclerView </a></p>\n<p>This is how my code looks like\n\n&lt;androidx.coordinatorlayout.widget.CoordinatorLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\nxmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\nxmlns:tools=&quot;http://schemas.android.com/tools&quot;\nandroid:layout_width=&quot;match_parent&quot;\nandroid:layout_height=&quot;match_parent&quot;\ntools:context=&quot;.MainActivity&quot;&gt;\n&lt;com.google.android.material.appbar.AppBarLayout\nandroid:layout_width=&quot;match_parent&quot;\nandroid:layout_height=&quot;wrap_content&quot;\n&gt;\n&lt;com.google.android.material.appbar.CollapsingToolbarLayout\nandroid:layout_width=&quot;match_parent&quot;\nandroid:layout_height=&quot;wrap_content&quot;\napp:layout_scrollFlags=&quot;scroll|enterAlways&quot;\n&gt;\n&lt;androidx.appcompat.widget.Toolbar\nandroid:id=&quot;@+id/feed_toolbar&quot;\nandroid:layout_width=&quot;match_parent&quot;\nandroid:layout_height=&quot;wrap_content&quot;\n&gt;\n</p>\n<pre><code>                                &lt;LinearLayout\n                                    android:layout_width=&quot;0dp&quot;\n                                    android:layout_height=&quot;wrap_content&quot;\n                                    android:layout_weight=&quot;1&quot;&gt;\n            \n                                    &lt;TextView\n                                        android:layout_width=&quot;wrap_content&quot;\n                                        android:layout_height=&quot;wrap_content&quot;\n                                        android:fontFamily=&quot;@font/billabong&quot;\n                                        android:paddingLeft=&quot;10dp&quot;\n                                        android:paddingTop=&quot;10dp&quot;\n                                        android:text=&quot;@string/instagram&quot;\n                                        android:textColor=&quot;@color/white&quot;\n                                        android:textSize=&quot;33dp&quot; /&gt;\n            \n                                &lt;/LinearLayout&gt;\n            \n                                &lt;LinearLayout\n                                    android:layout_width=&quot;0dp&quot;\n                                    android:layout_height=&quot;wrap_content&quot;\n                                    android:layout_gravity=&quot;center_vertical&quot;\n                                    android:layout_weight=&quot;1&quot;\n                                    android:gravity=&quot;end&quot;&gt;\n            \n                                    &lt;ImageView\n                                        android:layout_width=&quot;30dp&quot;\n                                        android:layout_height=&quot;30dp&quot;\n                                        android:id=&quot;@+id/notification_custom&quot;\n                                        android:layout_marginRight=&quot;15dp&quot;\n                                        android:src=&quot;@drawable/heart&quot; /&gt;\n            \n                                    &lt;ImageView\n                                        android:id=&quot;@+id/message_icon&quot;\n                                        android:layout_width=&quot;30dp&quot;\n                                        android:layout_height=&quot;30dp&quot;\n                                        android:layout_marginRight=&quot;12dp&quot;\n                                        android:src=&quot;@drawable/messenger&quot; /&gt;\n            \n                                &lt;/LinearLayout&gt;\n            \n                            &lt;/LinearLayout&gt;\n            \n                        &lt;/androidx.appcompat.widget.Toolbar&gt;\n            \n            \n                    &lt;/com.google.android.material.appbar.CollapsingToolbarLayout&gt;\n                        &lt;androidx.recyclerview.widget.RecyclerView\n                            android:visibility=&quot;visible&quot;\n                            android:id=&quot;@+id/feed_story_recycler&quot;\n                            android:layout_width=&quot;match_parent&quot;\n                            android:background=&quot;#000&quot;\n                            android:layout_height=&quot;wrap_content&quot;/&gt;\n                &lt;/com.google.android.material.appbar.AppBarLayout&gt;\n            \n            \n                &lt;androidx.recyclerview.widget.RecyclerView\n                    android:layout_width=&quot;match_parent&quot;\n                    android:clipToPadding=&quot;false&quot;\n                    android:layout_marginBottom=&quot;40dp&quot;\n                    android:id=&quot;@+id/feed_recyler&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    app:layout_behavior=&quot;@string/appbar_scrolling_view_behavior&quot;\n                    &gt;\n                &lt;/androidx.recyclerview.widget.RecyclerView&gt;\n            \n            &lt;!--    Footer --&gt;\n                &lt;LinearLayout\n            \n                    android:id=&quot;@+id/home&quot;\n                    android:paddingTop=&quot;9dp&quot;\n                    android:paddingBottom=&quot;9sp&quot;\n                    android:layout_width=&quot;match_parent&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:orientation=&quot;horizontal&quot;\n                    android:layout_gravity=&quot;bottom&quot;\n                    &gt;\n                    &lt;LinearLayout\n                        android:layout_width=&quot;0dp&quot;\n                        android:layout_weight=&quot;1&quot;\n                        android:gravity=&quot;center_horizontal&quot;\n                        android:layout_height=&quot;wrap_content&quot;&gt;\n                        &lt;ImageView\n                            android:layout_width=&quot;21.5dp&quot;\n                            android:layout_height=&quot;21.5dp&quot;\n                            android:src=&quot;@drawable/home&quot;\n                            /&gt;\n            \n                    &lt;/LinearLayout&gt;\n                    &lt;LinearLayout\n                        android:gravity=&quot;center_horizontal&quot;\n                        android:layout_width=&quot;0dp&quot;\n                        android:layout_weight=&quot;1&quot;\n                        android:layout_height=&quot;wrap_content&quot;&gt;\n                        &lt;ImageView\n                            android:layout_width=&quot;21.5dp&quot;\n                            android:layout_height=&quot;21.5dp&quot;\n                            android:src=&quot;@drawable/search&quot;\n                            android:layout_marginStart=&quot;0dp&quot;\n                            android:layout_marginEnd=&quot;0dp&quot;\n                            /&gt;\n            \n                    &lt;/LinearLayout&gt;\n                    &lt;LinearLayout\n                        android:layout_width=&quot;0dp&quot;\n                        android:gravity=&quot;center_horizontal&quot;\n                        android:layout_weight=&quot;1&quot;\n                        android:layout_height=&quot;wrap_content&quot;&gt;\n                        &lt;ImageView\n                            android:layout_width=&quot;21.5dp&quot;\n                            android:layout_height=&quot;21.5dp&quot;\n                            android:src=&quot;@drawable/plus&quot;\n                            android:layout_marginStart=&quot;0dp&quot;\n                            android:layout_marginEnd=&quot;0dp&quot;\n                            /&gt;\n            \n                    &lt;/LinearLayout&gt;\n                    &lt;LinearLayout\n                        android:layout_width=&quot;0dp&quot;\n                        android:gravity=&quot;center_horizontal&quot;\n                        android:layout_weight=&quot;1&quot;\n                        android:layout_height=&quot;wrap_content&quot;&gt;\n                        &lt;ImageView\n                            android:layout_width=&quot;21.5dp&quot;\n                            android:layout_height=&quot;21.5dp&quot;\n                            android:src=&quot;@drawable/reel&quot;\n                            android:layout_marginStart=&quot;0dp&quot;\n                            android:layout_marginEnd=&quot;-15dp&quot;\n                            /&gt;\n            \n                    &lt;/LinearLayout&gt;\n                    &lt;LinearLayout\n                        android:layout_width=&quot;0dp&quot;\n                        android:layout_weight=&quot;1&quot;\n                        android:gravity=&quot;center_horizontal&quot;\n                        android:layout_height=&quot;wrap_content&quot;&gt;\n            \n                        &lt;com.google.android.material.imageview.ShapeableImageView\n                            android:layout_width=&quot;21.5dp&quot;\n                            android:layout_height=&quot;21.5dp&quot;\n                            android:background=&quot;#00FFFFFF&quot;\n                            android:scaleType=&quot;fitXY&quot;\n                            android:src=&quot;@drawable/goku2&quot;\n                            app:shapeAppearanceOverlay=&quot;@style/circularImageView&quot; /&gt;\n                    &lt;/LinearLayout&gt;\n            \n            \n            \n            \n            \n                &lt;/LinearLayout&gt;\n            \n            &lt;/androidx.coordinatorlayout.widget.CoordinatorLayout&gt;\n</code></pre>\n"},{"tags":["java","spring-security","pac4j"],"comments":[{"owner":{"account_id":2588110,"reputation":7132,"user_id":2243324,"display_name":"jzheaux"},"score":2,"creation_date":1661876191,"post_id":73544811,"comment_id":129873851,"body_markdown":"As a matter of cleaning up the question, can you clarify what this has to do with Spring Security? If nothing, then please remove those labels for clarity.","body":"As a matter of cleaning up the question, can you clarify what this has to do with Spring Security? If nothing, then please remove those labels for clarity."}],"answers":[{"tags":[],"owner":{"account_id":2588110,"reputation":7132,"user_id":2243324,"display_name":"jzheaux"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1661894915,"creation_date":1661894915,"answer_id":73548635,"question_id":73544811,"body_markdown":"Since `Credentials` is a super-class of `TokenCredentials`, it seems like you&#39;d be able to do:\r\n\r\n```java\r\nprivate static class TestAuthenticator implements Authenticator {\r\n  @Override\r\n  public void validate(Credentials credentials, WebContext context, SessionStore sessionStore) {\r\n    TokenCredentials tokenCredentials = (TokenCredentials) credentials;\r\n    if (TEST_TOKEN.equals(tokenCredentials.getToken())) {\r\n      tokenCredentials.setUserProfile(mockUserProfile());\r\n    }\r\n  }\r\n}\r\n```\r\n\r\nApologies, though, if I&#39;m missing something. It seems like the generic type was removed from `Authenticator`, meaning that a cast is now required.","title":"How to upgrade from version 2.31 to version 5.3.1 of pac4j-http and fix the arguments to org.pac4j.core.credentials.authenticator.Authenticator?","body":"<p>Since <code>Credentials</code> is a super-class of <code>TokenCredentials</code>, it seems like you'd be able to do:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private static class TestAuthenticator implements Authenticator {\n  @Override\n  public void validate(Credentials credentials, WebContext context, SessionStore sessionStore) {\n    TokenCredentials tokenCredentials = (TokenCredentials) credentials;\n    if (TEST_TOKEN.equals(tokenCredentials.getToken())) {\n      tokenCredentials.setUserProfile(mockUserProfile());\n    }\n  }\n}\n</code></pre>\n<p>Apologies, though, if I'm missing something. It seems like the generic type was removed from <code>Authenticator</code>, meaning that a cast is now required.</p>\n"}],"owner":{"account_id":16399037,"reputation":381,"user_id":11845631,"display_name":"Jayashree Madanala"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":198,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":73548635,"answer_count":1,"score":0,"last_activity_date":1691830688,"creation_date":1661872572,"question_id":73544811,"body_markdown":"I am trying to upgrade pac4j-http:2.31 to 5.3.1 and need help dealing with a breaking change in the argument list of the `validate()` function in the [`Authenticator`](https://www.pac4j.org/docs/authenticators.html) interface.\r\n\r\nEarlier I was using `Authenticator(org.pac4j.core.credentials.authenticator.Authenticator)` which had method `public void validate(TokenCredentials credentials, WebContext context)` and now it changed to `public void validate(Credentials credentials, WebContext context, SessionStore sessionStore)`\r\n\r\nEarlier code below:\r\n```\r\nprivate static class TestAuthenticator implements Authenticator&lt;TokenCredentials&gt;\r\n  {\r\n    @Override\r\n    public void validate(TokenCredentials credentials, WebContext context)\r\n    {\r\n      if (TEST_TOKEN.equals(credentials.getToken()))\r\n      {\r\n        credentials.setUserProfile(mockUserProfile());\r\n      }\r\n    }\r\n  }\r\n```\r\nSo my question is, how to upgrade to this latest version of 5.3.1. where the validate method of `Authenticator` class has `Credential` argument instead of `TokenCredential`?  How can we validate token now since the validate method arguments changed?","title":"How to upgrade from version 2.31 to version 5.3.1 of pac4j-http and fix the arguments to org.pac4j.core.credentials.authenticator.Authenticator?","body":"<p>I am trying to upgrade pac4j-http:2.31 to 5.3.1 and need help dealing with a breaking change in the argument list of the <code>validate()</code> function in the <a href=\"https://www.pac4j.org/docs/authenticators.html\" rel=\"nofollow noreferrer\"><code>Authenticator</code></a> interface.</p>\n<p>Earlier I was using <code>Authenticator(org.pac4j.core.credentials.authenticator.Authenticator)</code> which had method <code>public void validate(TokenCredentials credentials, WebContext context)</code> and now it changed to <code>public void validate(Credentials credentials, WebContext context, SessionStore sessionStore)</code></p>\n<p>Earlier code below:</p>\n<pre><code>private static class TestAuthenticator implements Authenticator&lt;TokenCredentials&gt;\n  {\n    @Override\n    public void validate(TokenCredentials credentials, WebContext context)\n    {\n      if (TEST_TOKEN.equals(credentials.getToken()))\n      {\n        credentials.setUserProfile(mockUserProfile());\n      }\n    }\n  }\n</code></pre>\n<p>So my question is, how to upgrade to this latest version of 5.3.1. where the validate method of <code>Authenticator</code> class has <code>Credential</code> argument instead of <code>TokenCredential</code>?  How can we validate token now since the validate method arguments changed?</p>\n"},{"tags":["java","android","accessibility","screenshot","accessibilityservice"],"comments":[{"owner":{"account_id":1654563,"reputation":57569,"user_id":1524450,"display_name":"Michael"},"score":0,"creation_date":1691828587,"post_id":76888327,"comment_id":135546659,"body_markdown":"And did you set the necessary canTakeScreenshot attribute in your sevice&#39;s metadata?","body":"And did you set the necessary canTakeScreenshot attribute in your sevice&#39;s metadata?"}],"answers":[{"tags":[],"owner":{"account_id":29208623,"reputation":184,"user_id":22377147,"display_name":"Shashank saxena"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1691828999,"creation_date":1691828999,"answer_id":76888396,"question_id":76888327,"body_markdown":"It could be due to a variety of reasons such as a bug in the Android system, an issue with the device hardware, or a problem with the app’s implementation. You might want to try running your app on a different device or emulator to see if the issue persists.\r\n\r\nIf the error still occurs then try debugging to see any error in its implementation.\r\n\r\nAlso, The log shows that there is a warning about a ClassLoaderContext classpath size mismatch and a warning about Found duplicate classes1. These warnings suggest that there might be an issue with the way your app is set up or built.\r\n\r\nCheck log with first three lines:\r\n\r\nW ClassLoaderContext classpath size mismatch\r\n\r\nW  Found duplicate classes, falling back to extracting from APK \r\n","title":"Taking screenshot on android phone with Accessibility Service always fails with internal error","body":"<p>It could be due to a variety of reasons such as a bug in the Android system, an issue with the device hardware, or a problem with the app’s implementation. You might want to try running your app on a different device or emulator to see if the issue persists.</p>\n<p>If the error still occurs then try debugging to see any error in its implementation.</p>\n<p>Also, The log shows that there is a warning about a ClassLoaderContext classpath size mismatch and a warning about Found duplicate classes1. These warnings suggest that there might be an issue with the way your app is set up or built.</p>\n<p>Check log with first three lines:</p>\n<p>W ClassLoaderContext classpath size mismatch</p>\n<p>W  Found duplicate classes, falling back to extracting from APK</p>\n"}],"owner":{"account_id":25355576,"reputation":21,"user_id":22182412,"display_name":"Predator"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":229,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1691828999,"creation_date":1691827699,"question_id":76888327,"body_markdown":"I am trying to create an app that allows me to take screenshot of the current displayed screen of another app after pressing a button. Everytime I press the button and start the service of taking a screenshot, it fails and return error code of 1. Can anyone explain why it is always returning error code of 1 and tell me the correct way of taking a screenshot with Android AccessibilityService. \r\n\r\n```\r\npublic class AutoService extends AccessibilityService {\r\n    private Handler mHandler;\r\n    public static Bitmap sudokuMap = null;\r\n    public static boolean result;\r\n\r\n    @Override\r\n    public void onCreate() {\r\n        super.onCreate();\r\n        HandlerThread handlerThread = new HandlerThread(&quot;auto-handler&quot;);\r\n        handlerThread.start();\r\n        mHandler = new Handler(handlerThread.getLooper());\r\n    }\r\n\r\n    @Override\r\n    protected void onServiceConnected() {\r\n    }\r\n\r\n    @Override\r\n    public int onStartCommand(Intent intent, int flags, int startId) {\r\n        Log.d(&quot;Service&quot;,&quot;SERVICE STARTED&quot;);\r\n        if (intent != null) {\r\n            String action = intent.getStringExtra(&quot;action&quot;);\r\n            if (action.equals(&quot;capture&quot;)) {\r\n                if (mRunnable == null) {\r\n                    mRunnable = new IntervalRunnable();\r\n                }\r\n                mHandler.post(mRunnable);\r\n\r\n                Toast.makeText(getBaseContext(), &quot;Started&quot;, Toast.LENGTH_SHORT).show();\r\n            }\r\n            else if (action.equals(&quot;stop&quot;)) {\r\n                mHandler.removeCallbacksAndMessages(null);\r\n            }\r\n        }\r\n\r\n        return super.onStartCommand(intent, flags, startId);\r\n    }\r\n\r\n    @Override\r\n    public void takeScreenshot(int displayId, Executor executor, AccessibilityService.TakeScreenshotCallback callback) {\r\n        super.takeScreenshot(displayId, executor, callback);\r\n    }\r\n\r\n    @Override\r\n    public void onAccessibilityEvent(AccessibilityEvent event) {\r\n    }\r\n\r\n    @Override\r\n    public void onInterrupt() {\r\n    }\r\n\r\n    public void screenshot() {\r\n        Log.d(&quot;SCREENSHOT&quot;, &quot;trying to capture&quot;);\r\n        takeScreenshot(Display.DEFAULT_DISPLAY, getApplicationContext().getMainExecutor(), new TakeScreenshotCallback() {\r\n            @Override\r\n            public void onSuccess(@NonNull ScreenshotResult screenshotResult) {\r\n                Log.d(&quot;SCREENSHOT&quot;, &quot;Success&quot;);\r\n                sudokuMap = Bitmap.wrapHardwareBuffer(screenshotResult.getHardwareBuffer(), screenshotResult.getColorSpace());\r\n                sudokuMap = Bitmap.createBitmap(sudokuMap, 39,498,1002,1002);\r\n                result = true;\r\n                Toast.makeText(getBaseContext(), &quot;Success&quot;, Toast.LENGTH_LONG).show();\r\n                saveImage(sudokuMap);\r\n            }\r\n\r\n            @Override\r\n            public void onFailure(int i) {\r\n                Log.d(&quot;SCREENSHOT&quot;, &quot;Failed &quot; + i);\r\n                sudokuMap = Bitmap.createBitmap(1,1, Bitmap.Config.ARGB_8888);\r\n                result = false;\r\n                Toast.makeText(getBaseContext(), &quot;Failed &quot; + i, Toast.LENGTH_LONG).show();\r\n            }\r\n        });\r\n    }\r\n\r\n    private void saveImage(Bitmap image) {\r\n        File root = Environment.getExternalStorageDirectory();\r\n        File file = new File(root.getAbsolutePath()+&quot;/DCIM/test/test.png&quot;);\r\n        File dir = new File(root.getAbsolutePath()+&quot;/DCIM/test&quot;);\r\n        if (!dir.exists())\r\n            dir.mkdir();\r\n        try {\r\n            file.createNewFile();\r\n            OutputStream outputStream = new FileOutputStream(file);\r\n            image.compress(Bitmap.CompressFormat.PNG, 100, outputStream);\r\n            outputStream.close();\r\n            Toast.makeText(getBaseContext(), &quot;Image saved&quot;, Toast.LENGTH_SHORT).show();\r\n\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\n    private IntervalRunnable mRunnable;\r\n\r\n    private class IntervalRunnable implements Runnable {\r\n        @Override\r\n        public void run() {\r\n            Log.d(&quot;SCREENSHOT&quot;,&quot;Started&quot;);\r\n            screenshot();\r\n        }\r\n    }\r\n}\r\n```\r\nAfter entering the service, the program will start taking screenshot with the run() method. \r\n\r\nThe log detail is below\r\n```\r\n2023-08-12 15:37:31.838 31840-31840 ActivityThread          com.example.sudokusolver             W  Application com.example.sudokusolver can be debugged on port 8100...\r\n2023-08-12 15:37:31.850 31840-31840 le.sudokusolve          com.example.sudokusolver             W  ClassLoaderContext classpath size mismatch. expected=0, found=1 (PCL[] | PCL[/data/data/com.example.sudokusolver/code_cache/.overlay/base.apk/classes4.dex*4114240452])\r\n2023-08-12 15:37:31.850 31840-31840 le.sudokusolve          com.example.sudokusolver             W  Found duplicate classes, falling back to extracting from APK : /data/app/~~SulUYZxd5YnqTvrkNbJQdw==/com.example.sudokusolver-W8DCKxBEqhN-8T7rr30ACQ==/base.apk\r\n2023-08-12 15:37:31.851 31840-31840 le.sudokusolve          com.example.sudokusolver             W  NOTE: This wastes RAM and hurts startup performance.\r\n2023-08-12 15:37:31.851 31840-31840 le.sudokusolve          com.example.sudokusolver             W  Found duplicated class when checking oat files: &#39;Lcom/example/sudokusolver/AutoService$1;&#39; in /data/data/com.example.sudokusolver/code_cache/.overlay/base.apk/classes4.dex and /data/app/~~SulUYZxd5YnqTvrkNbJQdw==/com.example.sudokusolver-W8DCKxBEqhN-8T7rr30ACQ==/base.apk!classes4.dex\r\n2023-08-12 15:37:32.070 31840-31840 NetworkSecurityConfig   com.example.sudokusolver             D  No Network Security Config specified, using platform default\r\n2023-08-12 15:37:32.070 31840-31840 NetworkSecurityConfig   com.example.sudokusolver             D  No Network Security Config specified, using platform default\r\n2023-08-12 15:37:32.075 31840-31840 libc                    com.example.sudokusolver             E  Access denied finding property &quot;ro.vendor.pref_scale_resolution&quot;\r\n2023-08-12 15:37:32.104 31840-31887 libMEOW                 com.example.sudokusolver             D  meow reload base cfg path: na\r\n2023-08-12 15:37:32.104 31840-31887 libMEOW                 com.example.sudokusolver             D  meow reload overlay cfg path: na\r\n2023-08-12 15:37:32.105 31840-31887 libMEOW                 com.example.sudokusolver             D  applied 1 plugins for [com.example.sudokusolver]:\r\n2023-08-12 15:37:32.105 31840-31887 libMEOW                 com.example.sudokusolver             D    plugin 1: [libMEOW_gift.so]:\r\n2023-08-12 15:37:32.148 31840-31840 AppCompatDelegate       com.example.sudokusolver             D  Checking for metadata for AppLocalesMetadataHolderService : Service not found\r\n2023-08-12 15:37:32.177 31840-31840 View                    com.example.sudokusolver             D  com.example.sudokusolver initForcedUseForceDark: 1\r\n2023-08-12 15:37:32.184 31840-31840 DecorView[]             com.example.sudokusolver             D  getWindowModeFromSystem  windowmode is 1\r\n2023-08-12 15:37:32.185 31840-31840 DecorView               com.example.sudokusolver             D  createDecorCaptionView windowingMode:1 mWindowMode 1 isFullscreen: true\r\n2023-08-12 15:37:32.244 31840-31840 le.sudokusolve          com.example.sudokusolver             W  Accessing hidden method Landroid/view/View;-&gt;computeFitSystemWindows(Landroid/graphics/Rect;Landroid/graphics/Rect;)Z (greylist, reflection, allowed)\r\n2023-08-12 15:37:32.245 31840-31840 le.sudokusolve          com.example.sudokusolver             W  Accessing hidden method Landroid/view/ViewGroup;-&gt;makeOptionalFitsSystemWindows()V (greylist, reflection, allowed)\r\n2023-08-12 15:37:32.352 31840-31840 SurfaceFactory          com.example.sudokusolver             I  [static] sSurfaceFactory = com.mediatek.view.impl.SurfaceFactoryImpl@6e07aeb\r\n2023-08-12 15:37:32.358 31840-31840 ViewRootIm...nActivity] com.example.sudokusolver             D  hardware acceleration = true , fakeHwAccelerated = false, sRendererDisabled = false, forceHwAccelerated = false, sSystemRendererDisabled = false\r\n2023-08-12 15:37:32.363 31840-31840 libMEOW                 com.example.sudokusolver             D  applied 1 plugins for [com.example.sudokusolver]:\r\n2023-08-12 15:37:32.363 31840-31840 libMEOW                 com.example.sudokusolver             D    plugin 1: [libMEOW_gift.so]:\r\n2023-08-12 15:37:32.363 31840-31840 InputTransport          com.example.sudokusolver             I  Create ARC handle: 0xb400007c589ddb20\r\n2023-08-12 15:37:32.366 31840-31840 PhoneWindow             com.example.sudokusolver             V  DecorView setVisiblity: visibility = 0, Parent = android.view.ViewRootImpl@3c9dac7, this = DecorView@a84f8f4[MainActivity]\r\n2023-08-12 15:37:32.367 31840-31840 Looper                  com.example.sudokusolver             W  PerfMonitor looperActivity : package=com.example.sudokusolver/.MainActivity time=275ms latency=326ms running=251ms  procState=2 ClientTransaction{ callbacks=[android.app.servertransaction.LaunchActivityItem] lifecycleRequest=android.app.servertransaction.ResumeActivityItem } historyMsgCount=3 (msgIndex=1 wall=65ms seq=1 running=62ms runnable=1ms late=4ms h=android.app.ActivityThread$H w=162) (msgIndex=3 wall=263ms seq=3 running=247ms late=64ms h=android.app.ActivityThread$H w=110)\r\n2023-08-12 15:37:32.368 31840-31840 Looper                  com.example.sudokusolver             W  PerfMonitor looperActivity : package=com.example.sudokusolver/.MainActivity time=0ms latency=601ms running=0ms  procState=2 ClientTransaction{ callbacks=[android.app.servertransaction.TopResumedActivityChangeItem] } historyMsgCount=4 (msgIndex=1 wall=65ms seq=1 running=62ms runnable=1ms late=4ms h=android.app.ActivityThread$H w=162) (msgIndex=3 wall=263ms seq=3 running=247ms late=64ms h=android.app.ActivityThread$H w=110) (msgIndex=4 wall=275ms seq=4 running=251ms runnable=2ms late=326ms h=android.app.ActivityThread$H w=159)\r\n2023-08-12 15:37:32.396 31840-31885 libMEOW                 com.example.sudokusolver             D  applied 1 plugins for [com.example.sudokusolver]:\r\n2023-08-12 15:37:32.396 31840-31885 libMEOW                 com.example.sudokusolver             D    plugin 1: [libMEOW_gift.so]:\r\n2023-08-12 15:37:32.401 31840-31885 GED                     com.example.sudokusolver             I  [GT]_get_procNameprocess pid(31840)\r\n2023-08-12 15:37:32.401 31840-31885 GED                     com.example.sudokusolver             I  [GT]_getprocess name(com.example.sudokusolver)\r\n2023-08-12 15:37:32.401 31840-31885 le.sudokusolve          com.example.sudokusolver             I  [GT] ret(1) gt_status(00000000) aniso_debug_level(0) gt_aniso_max_level(16) ani so mask(00000001) tri mask(00000002)\r\n2023-08-12 15:37:32.401 31840-31885 libMEOW_gift            com.example.sudokusolver             I  ctx:0xb400007c69ca2ee8, ARC not Enabled.\r\n2023-08-12 15:37:32.413 31840-31885 ion                     com.example.sudokusolver             E  ioctl c0044901 failed with code -1: Invalid argument\r\n2023-08-12 15:37:33.760 31840-31876 System                  com.example.sudokusolver             W  A resource failed to call close. \r\n2023-08-12 15:37:33.761 31840-31876 System                  com.example.sudokusolver             W  A resource failed to call close. \r\n2023-08-12 15:37:34.299 31840-31840 ViewRootImpl[]          com.example.sudokusolver             D  hardware acceleration = true , fakeHwAccelerated = false, sRendererDisabled = false, forceHwAccelerated = false, sSystemRendererDisabled = false\r\n2023-08-12 15:37:34.307 31840-31840 InputTransport          com.example.sudokusolver             I  Create ARC handle: 0xb400007d005f60e0\r\n2023-08-12 15:37:34.397 31840-31885 GED                     com.example.sudokusolver             I  ged_boost_gpu_freq, level 100, eOrigin 2, final_idx 42, oppidx_max 42, oppidx_min 0\r\n2023-08-12 15:37:34.896 31840-31840 PhoneWindow             com.example.sudokusolver             V  DecorView setVisiblity: visibility = 4, Parent = android.view.ViewRootImpl@3c9dac7, this = DecorView@a84f8f4[MainActivity]\r\n2023-08-12 15:37:34.904 31840-31840 View                    com.example.sudokusolver             D  [Warning] assignParent to null: this = DecorView@a84f8f4[MainActivity]\r\n2023-08-12 15:37:34.910 31840-31840 InputTransport          com.example.sudokusolver             I  Destroy ARC handle: 0xb400007c589ddb20\r\n2023-08-12 15:37:39.939 31840-31840 Service                 com.example.sudokusolver             D  SERVICE STARTED\r\n2023-08-12 15:37:39.940 31840-31909 clicked                 com.example.sudokusolver             D  click\r\n2023-08-12 15:37:39.941 31840-31840 Compatibil...geReporter com.example.sudokusolver             D  Compat change id reported: 147798919; UID 10496; state: ENABLED\r\n2023-08-12 15:37:40.063 31840-31883 le.sudokusolve          com.example.sudokusolver             I  ProcessProfilingInfo new_methods=0 is saved saved_to_disk=0 resolve_classes_delay=8000\r\n2023-08-12 15:38:01.512 31840-31840 le.sudokusolver         com.example.sudokusolver             W  type=1400 audit(0.0:137797): avc: granted { execute } for path=&quot;/data/data/com.example.sudokusolver/code_cache/startup_agents/31c79e06-agent.so&quot; dev=&quot;dm-11&quot; ino=618782 scontext=u:r:untrusted_app:s0:c240,c257,c512,c768 tcontext=u:object_r:app_data_file:s0:c240,c257,c512,c768 tclass=file app=com.example.sudokusolver\r\n2023-08-12 15:38:01.524 31840-31840 studio.deploy           com.example.sudokusolver             V  Prior agent invocations in this VM: 0\r\n2023-08-12 15:38:01.547 31840-31840 studio.deploy           com.example.sudokusolver             I  Using Structure Redefinition Extension\r\n2023-08-12 15:38:01.553 29979-29979 studio.deploy           pid-29979                            E  Could not remove dir &#39;/data/data/com.example.sudokusolver/code_cache/.ll/&#39;: No such file or directory\r\n2023-08-12 15:38:05.980 31840-31885 OpenGLRenderer          com.example.sudokusolver             D  endAllActiveAnimators on 0xb400007c0b85b700 (RippleDrawable) with handle 0xb400007c69c18040\r\n2023-08-12 15:38:05.981 31840-31840 View                    com.example.sudokusolver             D  [Warning] assignParent to null: this = android.widget.FrameLayout{bbe7467 V.E...... ........ 0,0-550,165}\r\n2023-08-12 15:38:05.995 31840-31840 InputTransport          com.example.sudokusolver             I  Destroy ARC handle: 0xb400007d005f60e0\r\n2023-08-12 15:38:05.996 31840-31840 Service                 com.example.sudokusolver             D  SERVICE STARTED\r\n2023-08-12 15:38:08.852  2142-2142  ActivityManagerWrapper  pid-2142                             E  getRecentTasks: taskId=154   userId=0   baseIntent=Intent { act=android.intent.action.MAIN cat=[android.intent.category.LAUNCHER] flg=0x10000000 cmp=com.example.sudokusolver/.MainActivity }\r\n---------------------------- PROCESS ENDED (31840) for package com.example.sudokusolver ----------------------------\r\n2023-08-12 15:38:10.792 29979-29979 studio.deploy           pid-29979                            E  Could not remove dir &#39;/data/data/com.example.sudokusolver/code_cache/.ll/&#39;: No such file or directory\r\n---------------------------- PROCESS STARTED (31982) for package com.example.sudokusolver ----------------------------\r\n2023-08-12 15:38:11.195 31982-31982 ActivityThread          com.example.sudokusolver             W  Application com.example.sudokusolver can be debugged on port 8100...\r\n2023-08-12 15:38:11.206 31982-31982 le.sudokusolve          com.example.sudokusolver             W  ClassLoaderContext classpath size mismatch. expected=0, found=1 (PCL[] | PCL[/data/data/com.example.sudokusolver/code_cache/.overlay/base.apk/classes4.dex*127293272])\r\n2023-08-12 15:38:11.207 31982-31982 le.sudokusolve          com.example.sudokusolver             W  Found duplicate classes, falling back to extracting from APK : /data/app/~~SulUYZxd5YnqTvrkNbJQdw==/com.example.sudokusolver-W8DCKxBEqhN-8T7rr30ACQ==/base.apk\r\n2023-08-12 15:38:11.207 31982-31982 le.sudokusolve          com.example.sudokusolver             W  NOTE: This wastes RAM and hurts startup performance.\r\n2023-08-12 15:38:11.207 31982-31982 le.sudokusolve          com.example.sudokusolver             W  Found duplicated class when checking oat files: &#39;Lcom/example/sudokusolver/AutoService$1;&#39; in /data/data/com.example.sudokusolver/code_cache/.overlay/base.apk/classes4.dex and /data/app/~~SulUYZxd5YnqTvrkNbJQdw==/com.example.sudokusolver-W8DCKxBEqhN-8T7rr30ACQ==/base.apk!classes4.dex\r\n2023-08-12 15:38:11.431 31982-31982 NetworkSecurityConfig   com.example.sudokusolver             D  No Network Security Config specified, using platform default\r\n2023-08-12 15:38:11.432 31982-31982 NetworkSecurityConfig   com.example.sudokusolver             D  No Network Security Config specified, using platform default\r\n2023-08-12 15:38:11.436 31982-31982 libc                    com.example.sudokusolver             E  Access denied finding property &quot;ro.vendor.pref_scale_resolution&quot;\r\n2023-08-12 15:38:11.467 31982-32015 libMEOW                 com.example.sudokusolver             D  meow reload base cfg path: na\r\n2023-08-12 15:38:11.467 31982-32015 libMEOW                 com.example.sudokusolver             D  meow reload overlay cfg path: na\r\n2023-08-12 15:38:11.469 31982-32015 libMEOW                 com.example.sudokusolver             D  applied 1 plugins for [com.example.sudokusolver]:\r\n2023-08-12 15:38:11.469 31982-32015 libMEOW                 com.example.sudokusolver             D    plugin 1: [libMEOW_gift.so]:\r\n2023-08-12 15:38:11.513 31982-31982 AppCompatDelegate       com.example.sudokusolver             D  Checking for metadata for AppLocalesMetadataHolderService : Service not found\r\n2023-08-12 15:38:11.543 31982-31982 View                    com.example.sudokusolver             D  com.example.sudokusolver initForcedUseForceDark: 1\r\n2023-08-12 15:38:11.553 31982-31982 DecorView[]             com.example.sudokusolver             D  getWindowModeFromSystem  windowmode is 1\r\n2023-08-12 15:38:11.553 31982-31982 DecorView               com.example.sudokusolver             D  createDecorCaptionView windowingMode:1 mWindowMode 1 isFullscreen: true\r\n2023-08-12 15:38:11.616 31982-31982 le.sudokusolve          com.example.sudokusolver             W  Accessing hidden method Landroid/view/View;-&gt;computeFitSystemWindows(Landroid/graphics/Rect;Landroid/graphics/Rect;)Z (greylist, reflection, allowed)\r\n2023-08-12 15:38:11.616 31982-31982 le.sudokusolve          com.example.sudokusolver             W  Accessing hidden method Landroid/view/ViewGroup;-&gt;makeOptionalFitsSystemWindows()V (greylist, reflection, allowed)\r\n2023-08-12 15:38:11.721 31982-31982 SurfaceFactory          com.example.sudokusolver             I  [static] sSurfaceFactory = com.mediatek.view.impl.SurfaceFactoryImpl@6e07aeb\r\n2023-08-12 15:38:11.728 31982-31982 ViewRootIm...nActivity] com.example.sudokusolver             D  hardware acceleration = true , fakeHwAccelerated = false, sRendererDisabled = false, forceHwAccelerated = false, sSystemRendererDisabled = false\r\n2023-08-12 15:38:11.732 31982-31982 libMEOW                 com.example.sudokusolver             D  applied 1 plugins for [com.example.sudokusolver]:\r\n2023-08-12 15:38:11.732 31982-31982 libMEOW                 com.example.sudokusolver             D    plugin 1: [libMEOW_gift.so]:\r\n2023-08-12 15:38:11.732 31982-31982 InputTransport          com.example.sudokusolver             I  Create ARC handle: 0xb400007c589e1bc0\r\n2023-08-12 15:38:11.735 31982-31982 PhoneWindow             com.example.sudokusolver             V  DecorView setVisiblity: visibility = 0, Parent = android.view.ViewRootImpl@3c9dac7, this = DecorView@a84f8f4[MainActivity]\r\n2023-08-12 15:38:11.736 31982-31982 Looper                  com.example.sudokusolver             W  PerfMonitor looperActivity : package=com.example.sudokusolver/.MainActivity time=282ms latency=329ms running=254ms  procState=2 ClientTransaction{ callbacks=[android.app.servertransaction.LaunchActivityItem] lifecycleRequest=android.app.servertransaction.ResumeActivityItem } historyMsgCount=3 (msgIndex=1 wall=67ms seq=1 running=63ms late=2ms h=android.app.ActivityThread$H w=162) (msgIndex=3 wall=270ms seq=3 running=253ms late=61ms h=android.app.ActivityThread$H w=110)\r\n2023-08-12 15:38:11.736 31982-31982 Looper                  com.example.sudokusolver             W  PerfMonitor looperActivity : package=com.example.sudokusolver/.MainActivity time=0ms latency=612ms running=0ms  procState=2 ClientTransaction{ callbacks=[android.app.servertransaction.TopResumedActivityChangeItem] } historyMsgCount=4 (msgIndex=1 wall=67ms seq=1 running=63ms late=2ms h=android.app.ActivityThread$H w=162) (msgIndex=3 wall=270ms seq=3 running=253ms late=61ms h=android.app.ActivityThread$H w=110) (msgIndex=4 wall=282ms seq=4 running=254ms runnable=1ms late=329ms h=android.app.ActivityThread$H w=159)\r\n2023-08-12 15:38:11.765 31982-32008 libMEOW                 com.example.sudokusolver             D  applied 1 plugins for [com.example.sudokusolver]:\r\n2023-08-12 15:38:11.765 31982-32008 libMEOW                 com.example.sudokusolver             D    plugin 1: [libMEOW_gift.so]:\r\n2023-08-12 15:38:11.771 31982-32008 GED                     com.example.sudokusolver             I  [GT]_get_procNameprocess pid(31982)\r\n2023-08-12 15:38:11.771 31982-32008 GED                     com.example.sudokusolver             I  [GT]_getprocess name(com.example.sudokusolver)\r\n2023-08-12 15:38:11.771 31982-32008 le.sudokusolve          com.example.sudokusolver             I  [GT] ret(1) gt_status(00000000) aniso_debug_level(0) gt_aniso_max_level(16) ani so mask(00000001) tri mask(00000002)\r\n2023-08-12 15:38:11.771 31982-32008 libMEOW_gift            com.example.sudokusolver             I  ctx:0xb400007c69ca2ee8, ARC not Enabled.\r\n2023-08-12 15:38:11.784 31982-32008 ion                     com.example.sudokusolver             E  ioctl c0044901 failed with code -1: Invalid argument\r\n2023-08-12 15:38:12.801  2142-2142  ActivityManagerWrapper  pid-2142                             E  getRecentTasks: taskId=155   userId=0   baseIntent=Intent { act=android.intent.action.MAIN cat=[android.intent.category.LAUNCHER] flg=0x10000000 cmp=com.example.sudokusolver/.MainActivity }\r\n2023-08-12 15:38:12.845  2142-2142  ActivityManagerWrapper  pid-2142                             E  getRecentTasks: taskId=155   userId=0   baseIntent=Intent { act=android.intent.action.MAIN cat=[android.intent.category.LAUNCHER] flg=0x10000000 cmp=com.example.sudokusolver/.MainActivity }\r\n2023-08-12 15:38:13.121 31982-32001 System                  com.example.sudokusolver             W  A resource failed to call close. \r\n2023-08-12 15:38:13.121 31982-32001 System                  com.example.sudokusolver             W  A resource failed to call close. \r\n2023-08-12 15:38:13.349 31982-32008 GED                     com.example.sudokusolver             I  ged_boost_gpu_freq, level 100, eOrigin 2, final_idx 42, oppidx_max 42, oppidx_min 0\r\n2023-08-12 15:38:13.359 31982-31982 PhoneWindow             com.example.sudokusolver             V  DecorView setVisiblity: visibility = 4, Parent = android.view.ViewRootImpl@3c9dac7, this = DecorView@a84f8f4[MainActivity]\r\n2023-08-12 15:38:19.421 31982-32006 le.sudokusolve          com.example.sudokusolver             I  ProcessProfilingInfo new_methods=0 is saved saved_to_disk=0 resolve_classes_delay=8000\r\n2023-08-12 15:38:26.789  2142-2142  ActivityManagerWrapper  pid-2142                             E  getRecentTasks: taskId=155   userId=0   baseIntent=Intent { act=android.intent.action.MAIN cat=[android.intent.category.LAUNCHER] flg=0x10000000 cmp=com.example.sudokusolver/.MainActivity }\r\n2023-08-12 15:38:26.795  2142-2142  ActivityManagerWrapper  pid-2142                             E  getRecentTasks: taskId=155   userId=0   baseIntent=Intent { act=android.intent.action.MAIN cat=[android.intent.category.LAUNCHER] flg=0x10000000 cmp=com.example.sudokusolver/.MainActivity }\r\n2023-08-12 15:38:26.840  2142-2142  ActivityManagerWrapper  pid-2142                             E  getRecentTasks: taskId=155   userId=0   baseIntent=Intent { act=android.intent.action.MAIN cat=[android.intent.category.LAUNCHER] flg=0x10000000 cmp=com.example.sudokusolver/.MainActivity }\r\n2023-08-12 15:38:27.297 31982-31982 PhoneWindow             com.example.sudokusolver             V  DecorView setVisiblity: visibility = 0, Parent = android.view.ViewRootImpl@3c9dac7, this = DecorView@a84f8f4[MainActivity]\r\n2023-08-12 15:38:27.301 31982-31982 PhoneWindow             com.example.sudokusolver             V  DecorView setVisiblity: visibility = 0, Parent = android.view.ViewRootImpl@3c9dac7, this = DecorView@a84f8f4[MainActivity]\r\n2023-08-12 15:38:27.967 31982-31982 ViewRootImpl[]          com.example.sudokusolver             D  hardware acceleration = true , fakeHwAccelerated = false, sRendererDisabled = false, forceHwAccelerated = false, sSystemRendererDisabled = false\r\n2023-08-12 15:38:27.974 31982-31982 InputTransport          com.example.sudokusolver             I  Create ARC handle: 0xb400007c63937f20\r\n2023-08-12 15:38:28.697 31982-31982 PhoneWindow             com.example.sudokusolver             V  DecorView setVisiblity: visibility = 4, Parent = android.view.ViewRootImpl@3c9dac7, this = DecorView@a84f8f4[MainActivity]\r\n2023-08-12 15:38:28.701 31982-31982 View                    com.example.sudokusolver             D  [Warning] assignParent to null: this = DecorView@a84f8f4[MainActivity]\r\n2023-08-12 15:38:28.704 31982-31982 InputTransport          com.example.sudokusolver             I  Destroy ARC handle: 0xb400007c589e1bc0\r\n2023-08-12 15:38:28.736 31982-31982 Service                 com.example.sudokusolver             D  SERVICE STARTED\r\n2023-08-12 15:38:28.737 31982-32059 SCREENSHOT                 com.example.sudokusolver             D  Starting\r\n2023-08-12 15:38:28.737 31982-32059 SCREENSHOT              com.example.sudokusolver             D  trying to capture\r\n2023-08-12 15:38:28.737 31982-31982 Compatibil...geReporter com.example.sudokusolver             D  Compat change id reported: 147798919; UID 10496; state: ENABLED\r\n2023-08-12 15:38:28.745 31982-31982 SCREENSHOT              com.example.sudokusolver             D  Failed 1\r\n```\r\nFrom the result of the TakeScreenshotCallback() method, it returned int error code of 1, Android studio website said the error code meant internal error, but what is causing the internal error? ","title":"Taking screenshot on android phone with Accessibility Service always fails with internal error","body":"<p>I am trying to create an app that allows me to take screenshot of the current displayed screen of another app after pressing a button. Everytime I press the button and start the service of taking a screenshot, it fails and return error code of 1. Can anyone explain why it is always returning error code of 1 and tell me the correct way of taking a screenshot with Android AccessibilityService.</p>\n<pre><code>public class AutoService extends AccessibilityService {\n    private Handler mHandler;\n    public static Bitmap sudokuMap = null;\n    public static boolean result;\n\n    @Override\n    public void onCreate() {\n        super.onCreate();\n        HandlerThread handlerThread = new HandlerThread(&quot;auto-handler&quot;);\n        handlerThread.start();\n        mHandler = new Handler(handlerThread.getLooper());\n    }\n\n    @Override\n    protected void onServiceConnected() {\n    }\n\n    @Override\n    public int onStartCommand(Intent intent, int flags, int startId) {\n        Log.d(&quot;Service&quot;,&quot;SERVICE STARTED&quot;);\n        if (intent != null) {\n            String action = intent.getStringExtra(&quot;action&quot;);\n            if (action.equals(&quot;capture&quot;)) {\n                if (mRunnable == null) {\n                    mRunnable = new IntervalRunnable();\n                }\n                mHandler.post(mRunnable);\n\n                Toast.makeText(getBaseContext(), &quot;Started&quot;, Toast.LENGTH_SHORT).show();\n            }\n            else if (action.equals(&quot;stop&quot;)) {\n                mHandler.removeCallbacksAndMessages(null);\n            }\n        }\n\n        return super.onStartCommand(intent, flags, startId);\n    }\n\n    @Override\n    public void takeScreenshot(int displayId, Executor executor, AccessibilityService.TakeScreenshotCallback callback) {\n        super.takeScreenshot(displayId, executor, callback);\n    }\n\n    @Override\n    public void onAccessibilityEvent(AccessibilityEvent event) {\n    }\n\n    @Override\n    public void onInterrupt() {\n    }\n\n    public void screenshot() {\n        Log.d(&quot;SCREENSHOT&quot;, &quot;trying to capture&quot;);\n        takeScreenshot(Display.DEFAULT_DISPLAY, getApplicationContext().getMainExecutor(), new TakeScreenshotCallback() {\n            @Override\n            public void onSuccess(@NonNull ScreenshotResult screenshotResult) {\n                Log.d(&quot;SCREENSHOT&quot;, &quot;Success&quot;);\n                sudokuMap = Bitmap.wrapHardwareBuffer(screenshotResult.getHardwareBuffer(), screenshotResult.getColorSpace());\n                sudokuMap = Bitmap.createBitmap(sudokuMap, 39,498,1002,1002);\n                result = true;\n                Toast.makeText(getBaseContext(), &quot;Success&quot;, Toast.LENGTH_LONG).show();\n                saveImage(sudokuMap);\n            }\n\n            @Override\n            public void onFailure(int i) {\n                Log.d(&quot;SCREENSHOT&quot;, &quot;Failed &quot; + i);\n                sudokuMap = Bitmap.createBitmap(1,1, Bitmap.Config.ARGB_8888);\n                result = false;\n                Toast.makeText(getBaseContext(), &quot;Failed &quot; + i, Toast.LENGTH_LONG).show();\n            }\n        });\n    }\n\n    private void saveImage(Bitmap image) {\n        File root = Environment.getExternalStorageDirectory();\n        File file = new File(root.getAbsolutePath()+&quot;/DCIM/test/test.png&quot;);\n        File dir = new File(root.getAbsolutePath()+&quot;/DCIM/test&quot;);\n        if (!dir.exists())\n            dir.mkdir();\n        try {\n            file.createNewFile();\n            OutputStream outputStream = new FileOutputStream(file);\n            image.compress(Bitmap.CompressFormat.PNG, 100, outputStream);\n            outputStream.close();\n            Toast.makeText(getBaseContext(), &quot;Image saved&quot;, Toast.LENGTH_SHORT).show();\n\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n\n    private IntervalRunnable mRunnable;\n\n    private class IntervalRunnable implements Runnable {\n        @Override\n        public void run() {\n            Log.d(&quot;SCREENSHOT&quot;,&quot;Started&quot;);\n            screenshot();\n        }\n    }\n}\n</code></pre>\n<p>After entering the service, the program will start taking screenshot with the run() method.</p>\n<p>The log detail is below</p>\n<pre><code>2023-08-12 15:37:31.838 31840-31840 ActivityThread          com.example.sudokusolver             W  Application com.example.sudokusolver can be debugged on port 8100...\n2023-08-12 15:37:31.850 31840-31840 le.sudokusolve          com.example.sudokusolver             W  ClassLoaderContext classpath size mismatch. expected=0, found=1 (PCL[] | PCL[/data/data/com.example.sudokusolver/code_cache/.overlay/base.apk/classes4.dex*4114240452])\n2023-08-12 15:37:31.850 31840-31840 le.sudokusolve          com.example.sudokusolver             W  Found duplicate classes, falling back to extracting from APK : /data/app/~~SulUYZxd5YnqTvrkNbJQdw==/com.example.sudokusolver-W8DCKxBEqhN-8T7rr30ACQ==/base.apk\n2023-08-12 15:37:31.851 31840-31840 le.sudokusolve          com.example.sudokusolver             W  NOTE: This wastes RAM and hurts startup performance.\n2023-08-12 15:37:31.851 31840-31840 le.sudokusolve          com.example.sudokusolver             W  Found duplicated class when checking oat files: 'Lcom/example/sudokusolver/AutoService$1;' in /data/data/com.example.sudokusolver/code_cache/.overlay/base.apk/classes4.dex and /data/app/~~SulUYZxd5YnqTvrkNbJQdw==/com.example.sudokusolver-W8DCKxBEqhN-8T7rr30ACQ==/base.apk!classes4.dex\n2023-08-12 15:37:32.070 31840-31840 NetworkSecurityConfig   com.example.sudokusolver             D  No Network Security Config specified, using platform default\n2023-08-12 15:37:32.070 31840-31840 NetworkSecurityConfig   com.example.sudokusolver             D  No Network Security Config specified, using platform default\n2023-08-12 15:37:32.075 31840-31840 libc                    com.example.sudokusolver             E  Access denied finding property &quot;ro.vendor.pref_scale_resolution&quot;\n2023-08-12 15:37:32.104 31840-31887 libMEOW                 com.example.sudokusolver             D  meow reload base cfg path: na\n2023-08-12 15:37:32.104 31840-31887 libMEOW                 com.example.sudokusolver             D  meow reload overlay cfg path: na\n2023-08-12 15:37:32.105 31840-31887 libMEOW                 com.example.sudokusolver             D  applied 1 plugins for [com.example.sudokusolver]:\n2023-08-12 15:37:32.105 31840-31887 libMEOW                 com.example.sudokusolver             D    plugin 1: [libMEOW_gift.so]:\n2023-08-12 15:37:32.148 31840-31840 AppCompatDelegate       com.example.sudokusolver             D  Checking for metadata for AppLocalesMetadataHolderService : Service not found\n2023-08-12 15:37:32.177 31840-31840 View                    com.example.sudokusolver             D  com.example.sudokusolver initForcedUseForceDark: 1\n2023-08-12 15:37:32.184 31840-31840 DecorView[]             com.example.sudokusolver             D  getWindowModeFromSystem  windowmode is 1\n2023-08-12 15:37:32.185 31840-31840 DecorView               com.example.sudokusolver             D  createDecorCaptionView windowingMode:1 mWindowMode 1 isFullscreen: true\n2023-08-12 15:37:32.244 31840-31840 le.sudokusolve          com.example.sudokusolver             W  Accessing hidden method Landroid/view/View;-&gt;computeFitSystemWindows(Landroid/graphics/Rect;Landroid/graphics/Rect;)Z (greylist, reflection, allowed)\n2023-08-12 15:37:32.245 31840-31840 le.sudokusolve          com.example.sudokusolver             W  Accessing hidden method Landroid/view/ViewGroup;-&gt;makeOptionalFitsSystemWindows()V (greylist, reflection, allowed)\n2023-08-12 15:37:32.352 31840-31840 SurfaceFactory          com.example.sudokusolver             I  [static] sSurfaceFactory = com.mediatek.view.impl.SurfaceFactoryImpl@6e07aeb\n2023-08-12 15:37:32.358 31840-31840 ViewRootIm...nActivity] com.example.sudokusolver             D  hardware acceleration = true , fakeHwAccelerated = false, sRendererDisabled = false, forceHwAccelerated = false, sSystemRendererDisabled = false\n2023-08-12 15:37:32.363 31840-31840 libMEOW                 com.example.sudokusolver             D  applied 1 plugins for [com.example.sudokusolver]:\n2023-08-12 15:37:32.363 31840-31840 libMEOW                 com.example.sudokusolver             D    plugin 1: [libMEOW_gift.so]:\n2023-08-12 15:37:32.363 31840-31840 InputTransport          com.example.sudokusolver             I  Create ARC handle: 0xb400007c589ddb20\n2023-08-12 15:37:32.366 31840-31840 PhoneWindow             com.example.sudokusolver             V  DecorView setVisiblity: visibility = 0, Parent = android.view.ViewRootImpl@3c9dac7, this = DecorView@a84f8f4[MainActivity]\n2023-08-12 15:37:32.367 31840-31840 Looper                  com.example.sudokusolver             W  PerfMonitor looperActivity : package=com.example.sudokusolver/.MainActivity time=275ms latency=326ms running=251ms  procState=2 ClientTransaction{ callbacks=[android.app.servertransaction.LaunchActivityItem] lifecycleRequest=android.app.servertransaction.ResumeActivityItem } historyMsgCount=3 (msgIndex=1 wall=65ms seq=1 running=62ms runnable=1ms late=4ms h=android.app.ActivityThread$H w=162) (msgIndex=3 wall=263ms seq=3 running=247ms late=64ms h=android.app.ActivityThread$H w=110)\n2023-08-12 15:37:32.368 31840-31840 Looper                  com.example.sudokusolver             W  PerfMonitor looperActivity : package=com.example.sudokusolver/.MainActivity time=0ms latency=601ms running=0ms  procState=2 ClientTransaction{ callbacks=[android.app.servertransaction.TopResumedActivityChangeItem] } historyMsgCount=4 (msgIndex=1 wall=65ms seq=1 running=62ms runnable=1ms late=4ms h=android.app.ActivityThread$H w=162) (msgIndex=3 wall=263ms seq=3 running=247ms late=64ms h=android.app.ActivityThread$H w=110) (msgIndex=4 wall=275ms seq=4 running=251ms runnable=2ms late=326ms h=android.app.ActivityThread$H w=159)\n2023-08-12 15:37:32.396 31840-31885 libMEOW                 com.example.sudokusolver             D  applied 1 plugins for [com.example.sudokusolver]:\n2023-08-12 15:37:32.396 31840-31885 libMEOW                 com.example.sudokusolver             D    plugin 1: [libMEOW_gift.so]:\n2023-08-12 15:37:32.401 31840-31885 GED                     com.example.sudokusolver             I  [GT]_get_procNameprocess pid(31840)\n2023-08-12 15:37:32.401 31840-31885 GED                     com.example.sudokusolver             I  [GT]_getprocess name(com.example.sudokusolver)\n2023-08-12 15:37:32.401 31840-31885 le.sudokusolve          com.example.sudokusolver             I  [GT] ret(1) gt_status(00000000) aniso_debug_level(0) gt_aniso_max_level(16) ani so mask(00000001) tri mask(00000002)\n2023-08-12 15:37:32.401 31840-31885 libMEOW_gift            com.example.sudokusolver             I  ctx:0xb400007c69ca2ee8, ARC not Enabled.\n2023-08-12 15:37:32.413 31840-31885 ion                     com.example.sudokusolver             E  ioctl c0044901 failed with code -1: Invalid argument\n2023-08-12 15:37:33.760 31840-31876 System                  com.example.sudokusolver             W  A resource failed to call close. \n2023-08-12 15:37:33.761 31840-31876 System                  com.example.sudokusolver             W  A resource failed to call close. \n2023-08-12 15:37:34.299 31840-31840 ViewRootImpl[]          com.example.sudokusolver             D  hardware acceleration = true , fakeHwAccelerated = false, sRendererDisabled = false, forceHwAccelerated = false, sSystemRendererDisabled = false\n2023-08-12 15:37:34.307 31840-31840 InputTransport          com.example.sudokusolver             I  Create ARC handle: 0xb400007d005f60e0\n2023-08-12 15:37:34.397 31840-31885 GED                     com.example.sudokusolver             I  ged_boost_gpu_freq, level 100, eOrigin 2, final_idx 42, oppidx_max 42, oppidx_min 0\n2023-08-12 15:37:34.896 31840-31840 PhoneWindow             com.example.sudokusolver             V  DecorView setVisiblity: visibility = 4, Parent = android.view.ViewRootImpl@3c9dac7, this = DecorView@a84f8f4[MainActivity]\n2023-08-12 15:37:34.904 31840-31840 View                    com.example.sudokusolver             D  [Warning] assignParent to null: this = DecorView@a84f8f4[MainActivity]\n2023-08-12 15:37:34.910 31840-31840 InputTransport          com.example.sudokusolver             I  Destroy ARC handle: 0xb400007c589ddb20\n2023-08-12 15:37:39.939 31840-31840 Service                 com.example.sudokusolver             D  SERVICE STARTED\n2023-08-12 15:37:39.940 31840-31909 clicked                 com.example.sudokusolver             D  click\n2023-08-12 15:37:39.941 31840-31840 Compatibil...geReporter com.example.sudokusolver             D  Compat change id reported: 147798919; UID 10496; state: ENABLED\n2023-08-12 15:37:40.063 31840-31883 le.sudokusolve          com.example.sudokusolver             I  ProcessProfilingInfo new_methods=0 is saved saved_to_disk=0 resolve_classes_delay=8000\n2023-08-12 15:38:01.512 31840-31840 le.sudokusolver         com.example.sudokusolver             W  type=1400 audit(0.0:137797): avc: granted { execute } for path=&quot;/data/data/com.example.sudokusolver/code_cache/startup_agents/31c79e06-agent.so&quot; dev=&quot;dm-11&quot; ino=618782 scontext=u:r:untrusted_app:s0:c240,c257,c512,c768 tcontext=u:object_r:app_data_file:s0:c240,c257,c512,c768 tclass=file app=com.example.sudokusolver\n2023-08-12 15:38:01.524 31840-31840 studio.deploy           com.example.sudokusolver             V  Prior agent invocations in this VM: 0\n2023-08-12 15:38:01.547 31840-31840 studio.deploy           com.example.sudokusolver             I  Using Structure Redefinition Extension\n2023-08-12 15:38:01.553 29979-29979 studio.deploy           pid-29979                            E  Could not remove dir '/data/data/com.example.sudokusolver/code_cache/.ll/': No such file or directory\n2023-08-12 15:38:05.980 31840-31885 OpenGLRenderer          com.example.sudokusolver             D  endAllActiveAnimators on 0xb400007c0b85b700 (RippleDrawable) with handle 0xb400007c69c18040\n2023-08-12 15:38:05.981 31840-31840 View                    com.example.sudokusolver             D  [Warning] assignParent to null: this = android.widget.FrameLayout{bbe7467 V.E...... ........ 0,0-550,165}\n2023-08-12 15:38:05.995 31840-31840 InputTransport          com.example.sudokusolver             I  Destroy ARC handle: 0xb400007d005f60e0\n2023-08-12 15:38:05.996 31840-31840 Service                 com.example.sudokusolver             D  SERVICE STARTED\n2023-08-12 15:38:08.852  2142-2142  ActivityManagerWrapper  pid-2142                             E  getRecentTasks: taskId=154   userId=0   baseIntent=Intent { act=android.intent.action.MAIN cat=[android.intent.category.LAUNCHER] flg=0x10000000 cmp=com.example.sudokusolver/.MainActivity }\n---------------------------- PROCESS ENDED (31840) for package com.example.sudokusolver ----------------------------\n2023-08-12 15:38:10.792 29979-29979 studio.deploy           pid-29979                            E  Could not remove dir '/data/data/com.example.sudokusolver/code_cache/.ll/': No such file or directory\n---------------------------- PROCESS STARTED (31982) for package com.example.sudokusolver ----------------------------\n2023-08-12 15:38:11.195 31982-31982 ActivityThread          com.example.sudokusolver             W  Application com.example.sudokusolver can be debugged on port 8100...\n2023-08-12 15:38:11.206 31982-31982 le.sudokusolve          com.example.sudokusolver             W  ClassLoaderContext classpath size mismatch. expected=0, found=1 (PCL[] | PCL[/data/data/com.example.sudokusolver/code_cache/.overlay/base.apk/classes4.dex*127293272])\n2023-08-12 15:38:11.207 31982-31982 le.sudokusolve          com.example.sudokusolver             W  Found duplicate classes, falling back to extracting from APK : /data/app/~~SulUYZxd5YnqTvrkNbJQdw==/com.example.sudokusolver-W8DCKxBEqhN-8T7rr30ACQ==/base.apk\n2023-08-12 15:38:11.207 31982-31982 le.sudokusolve          com.example.sudokusolver             W  NOTE: This wastes RAM and hurts startup performance.\n2023-08-12 15:38:11.207 31982-31982 le.sudokusolve          com.example.sudokusolver             W  Found duplicated class when checking oat files: 'Lcom/example/sudokusolver/AutoService$1;' in /data/data/com.example.sudokusolver/code_cache/.overlay/base.apk/classes4.dex and /data/app/~~SulUYZxd5YnqTvrkNbJQdw==/com.example.sudokusolver-W8DCKxBEqhN-8T7rr30ACQ==/base.apk!classes4.dex\n2023-08-12 15:38:11.431 31982-31982 NetworkSecurityConfig   com.example.sudokusolver             D  No Network Security Config specified, using platform default\n2023-08-12 15:38:11.432 31982-31982 NetworkSecurityConfig   com.example.sudokusolver             D  No Network Security Config specified, using platform default\n2023-08-12 15:38:11.436 31982-31982 libc                    com.example.sudokusolver             E  Access denied finding property &quot;ro.vendor.pref_scale_resolution&quot;\n2023-08-12 15:38:11.467 31982-32015 libMEOW                 com.example.sudokusolver             D  meow reload base cfg path: na\n2023-08-12 15:38:11.467 31982-32015 libMEOW                 com.example.sudokusolver             D  meow reload overlay cfg path: na\n2023-08-12 15:38:11.469 31982-32015 libMEOW                 com.example.sudokusolver             D  applied 1 plugins for [com.example.sudokusolver]:\n2023-08-12 15:38:11.469 31982-32015 libMEOW                 com.example.sudokusolver             D    plugin 1: [libMEOW_gift.so]:\n2023-08-12 15:38:11.513 31982-31982 AppCompatDelegate       com.example.sudokusolver             D  Checking for metadata for AppLocalesMetadataHolderService : Service not found\n2023-08-12 15:38:11.543 31982-31982 View                    com.example.sudokusolver             D  com.example.sudokusolver initForcedUseForceDark: 1\n2023-08-12 15:38:11.553 31982-31982 DecorView[]             com.example.sudokusolver             D  getWindowModeFromSystem  windowmode is 1\n2023-08-12 15:38:11.553 31982-31982 DecorView               com.example.sudokusolver             D  createDecorCaptionView windowingMode:1 mWindowMode 1 isFullscreen: true\n2023-08-12 15:38:11.616 31982-31982 le.sudokusolve          com.example.sudokusolver             W  Accessing hidden method Landroid/view/View;-&gt;computeFitSystemWindows(Landroid/graphics/Rect;Landroid/graphics/Rect;)Z (greylist, reflection, allowed)\n2023-08-12 15:38:11.616 31982-31982 le.sudokusolve          com.example.sudokusolver             W  Accessing hidden method Landroid/view/ViewGroup;-&gt;makeOptionalFitsSystemWindows()V (greylist, reflection, allowed)\n2023-08-12 15:38:11.721 31982-31982 SurfaceFactory          com.example.sudokusolver             I  [static] sSurfaceFactory = com.mediatek.view.impl.SurfaceFactoryImpl@6e07aeb\n2023-08-12 15:38:11.728 31982-31982 ViewRootIm...nActivity] com.example.sudokusolver             D  hardware acceleration = true , fakeHwAccelerated = false, sRendererDisabled = false, forceHwAccelerated = false, sSystemRendererDisabled = false\n2023-08-12 15:38:11.732 31982-31982 libMEOW                 com.example.sudokusolver             D  applied 1 plugins for [com.example.sudokusolver]:\n2023-08-12 15:38:11.732 31982-31982 libMEOW                 com.example.sudokusolver             D    plugin 1: [libMEOW_gift.so]:\n2023-08-12 15:38:11.732 31982-31982 InputTransport          com.example.sudokusolver             I  Create ARC handle: 0xb400007c589e1bc0\n2023-08-12 15:38:11.735 31982-31982 PhoneWindow             com.example.sudokusolver             V  DecorView setVisiblity: visibility = 0, Parent = android.view.ViewRootImpl@3c9dac7, this = DecorView@a84f8f4[MainActivity]\n2023-08-12 15:38:11.736 31982-31982 Looper                  com.example.sudokusolver             W  PerfMonitor looperActivity : package=com.example.sudokusolver/.MainActivity time=282ms latency=329ms running=254ms  procState=2 ClientTransaction{ callbacks=[android.app.servertransaction.LaunchActivityItem] lifecycleRequest=android.app.servertransaction.ResumeActivityItem } historyMsgCount=3 (msgIndex=1 wall=67ms seq=1 running=63ms late=2ms h=android.app.ActivityThread$H w=162) (msgIndex=3 wall=270ms seq=3 running=253ms late=61ms h=android.app.ActivityThread$H w=110)\n2023-08-12 15:38:11.736 31982-31982 Looper                  com.example.sudokusolver             W  PerfMonitor looperActivity : package=com.example.sudokusolver/.MainActivity time=0ms latency=612ms running=0ms  procState=2 ClientTransaction{ callbacks=[android.app.servertransaction.TopResumedActivityChangeItem] } historyMsgCount=4 (msgIndex=1 wall=67ms seq=1 running=63ms late=2ms h=android.app.ActivityThread$H w=162) (msgIndex=3 wall=270ms seq=3 running=253ms late=61ms h=android.app.ActivityThread$H w=110) (msgIndex=4 wall=282ms seq=4 running=254ms runnable=1ms late=329ms h=android.app.ActivityThread$H w=159)\n2023-08-12 15:38:11.765 31982-32008 libMEOW                 com.example.sudokusolver             D  applied 1 plugins for [com.example.sudokusolver]:\n2023-08-12 15:38:11.765 31982-32008 libMEOW                 com.example.sudokusolver             D    plugin 1: [libMEOW_gift.so]:\n2023-08-12 15:38:11.771 31982-32008 GED                     com.example.sudokusolver             I  [GT]_get_procNameprocess pid(31982)\n2023-08-12 15:38:11.771 31982-32008 GED                     com.example.sudokusolver             I  [GT]_getprocess name(com.example.sudokusolver)\n2023-08-12 15:38:11.771 31982-32008 le.sudokusolve          com.example.sudokusolver             I  [GT] ret(1) gt_status(00000000) aniso_debug_level(0) gt_aniso_max_level(16) ani so mask(00000001) tri mask(00000002)\n2023-08-12 15:38:11.771 31982-32008 libMEOW_gift            com.example.sudokusolver             I  ctx:0xb400007c69ca2ee8, ARC not Enabled.\n2023-08-12 15:38:11.784 31982-32008 ion                     com.example.sudokusolver             E  ioctl c0044901 failed with code -1: Invalid argument\n2023-08-12 15:38:12.801  2142-2142  ActivityManagerWrapper  pid-2142                             E  getRecentTasks: taskId=155   userId=0   baseIntent=Intent { act=android.intent.action.MAIN cat=[android.intent.category.LAUNCHER] flg=0x10000000 cmp=com.example.sudokusolver/.MainActivity }\n2023-08-12 15:38:12.845  2142-2142  ActivityManagerWrapper  pid-2142                             E  getRecentTasks: taskId=155   userId=0   baseIntent=Intent { act=android.intent.action.MAIN cat=[android.intent.category.LAUNCHER] flg=0x10000000 cmp=com.example.sudokusolver/.MainActivity }\n2023-08-12 15:38:13.121 31982-32001 System                  com.example.sudokusolver             W  A resource failed to call close. \n2023-08-12 15:38:13.121 31982-32001 System                  com.example.sudokusolver             W  A resource failed to call close. \n2023-08-12 15:38:13.349 31982-32008 GED                     com.example.sudokusolver             I  ged_boost_gpu_freq, level 100, eOrigin 2, final_idx 42, oppidx_max 42, oppidx_min 0\n2023-08-12 15:38:13.359 31982-31982 PhoneWindow             com.example.sudokusolver             V  DecorView setVisiblity: visibility = 4, Parent = android.view.ViewRootImpl@3c9dac7, this = DecorView@a84f8f4[MainActivity]\n2023-08-12 15:38:19.421 31982-32006 le.sudokusolve          com.example.sudokusolver             I  ProcessProfilingInfo new_methods=0 is saved saved_to_disk=0 resolve_classes_delay=8000\n2023-08-12 15:38:26.789  2142-2142  ActivityManagerWrapper  pid-2142                             E  getRecentTasks: taskId=155   userId=0   baseIntent=Intent { act=android.intent.action.MAIN cat=[android.intent.category.LAUNCHER] flg=0x10000000 cmp=com.example.sudokusolver/.MainActivity }\n2023-08-12 15:38:26.795  2142-2142  ActivityManagerWrapper  pid-2142                             E  getRecentTasks: taskId=155   userId=0   baseIntent=Intent { act=android.intent.action.MAIN cat=[android.intent.category.LAUNCHER] flg=0x10000000 cmp=com.example.sudokusolver/.MainActivity }\n2023-08-12 15:38:26.840  2142-2142  ActivityManagerWrapper  pid-2142                             E  getRecentTasks: taskId=155   userId=0   baseIntent=Intent { act=android.intent.action.MAIN cat=[android.intent.category.LAUNCHER] flg=0x10000000 cmp=com.example.sudokusolver/.MainActivity }\n2023-08-12 15:38:27.297 31982-31982 PhoneWindow             com.example.sudokusolver             V  DecorView setVisiblity: visibility = 0, Parent = android.view.ViewRootImpl@3c9dac7, this = DecorView@a84f8f4[MainActivity]\n2023-08-12 15:38:27.301 31982-31982 PhoneWindow             com.example.sudokusolver             V  DecorView setVisiblity: visibility = 0, Parent = android.view.ViewRootImpl@3c9dac7, this = DecorView@a84f8f4[MainActivity]\n2023-08-12 15:38:27.967 31982-31982 ViewRootImpl[]          com.example.sudokusolver             D  hardware acceleration = true , fakeHwAccelerated = false, sRendererDisabled = false, forceHwAccelerated = false, sSystemRendererDisabled = false\n2023-08-12 15:38:27.974 31982-31982 InputTransport          com.example.sudokusolver             I  Create ARC handle: 0xb400007c63937f20\n2023-08-12 15:38:28.697 31982-31982 PhoneWindow             com.example.sudokusolver             V  DecorView setVisiblity: visibility = 4, Parent = android.view.ViewRootImpl@3c9dac7, this = DecorView@a84f8f4[MainActivity]\n2023-08-12 15:38:28.701 31982-31982 View                    com.example.sudokusolver             D  [Warning] assignParent to null: this = DecorView@a84f8f4[MainActivity]\n2023-08-12 15:38:28.704 31982-31982 InputTransport          com.example.sudokusolver             I  Destroy ARC handle: 0xb400007c589e1bc0\n2023-08-12 15:38:28.736 31982-31982 Service                 com.example.sudokusolver             D  SERVICE STARTED\n2023-08-12 15:38:28.737 31982-32059 SCREENSHOT                 com.example.sudokusolver             D  Starting\n2023-08-12 15:38:28.737 31982-32059 SCREENSHOT              com.example.sudokusolver             D  trying to capture\n2023-08-12 15:38:28.737 31982-31982 Compatibil...geReporter com.example.sudokusolver             D  Compat change id reported: 147798919; UID 10496; state: ENABLED\n2023-08-12 15:38:28.745 31982-31982 SCREENSHOT              com.example.sudokusolver             D  Failed 1\n</code></pre>\n<p>From the result of the TakeScreenshotCallback() method, it returned int error code of 1, Android studio website said the error code meant internal error, but what is causing the internal error?</p>\n"},{"tags":["java","android","mobile","switch-statement"],"comments":[{"owner":{"account_id":17592368,"reputation":13891,"user_id":12763954,"display_name":"Olivier"},"score":0,"creation_date":1691828165,"post_id":76888306,"comment_id":135546624,"body_markdown":"What&#39;s unclear about `constant expression required`?","body":"What&#39;s unclear about <code>constant expression required</code>?"},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":0,"creation_date":1691828186,"post_id":76888306,"comment_id":135546626,"body_markdown":"Possibly related: [constant expression required when trying to create a switch case block](https://stackoverflow.com/q/76430646), [what causes &quot;constant expression required&quot; errors for the generated R.id.xxx values in switch statements?](https://stackoverflow.com/q/21005205)","body":"Possibly related: <a href=\"https://stackoverflow.com/q/76430646\">constant expression required when trying to create a switch case block</a>, <a href=\"https://stackoverflow.com/q/21005205\">what causes &quot;constant expression required&quot; errors for the generated R.id.xxx values in switch statements?</a>"},{"owner":{"account_id":28430250,"reputation":1,"user_id":21751005,"display_name":"Kian"},"score":0,"creation_date":1691829368,"post_id":76888306,"comment_id":135546727,"body_markdown":"@Olivier Owe you one ;D","body":"@Olivier Owe you one ;D"}],"owner":{"account_id":28430250,"reputation":1,"user_id":21751005,"display_name":"Kian"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1691831830,"answer_count":0,"score":0,"last_activity_date":1691828559,"creation_date":1691827371,"question_id":76888306,"body_markdown":"(https://i.stack.imgur.com/HydEx.png)\r\n\r\nhey guys,\r\ni have problem with switch case in android studio\r\nin this case i have a radio group &quot;**radioGroup_newAc_n1**&quot; and 3 radio button &quot;**radioButton_newAc_rb1,rb2,rb3**&quot; and i wrote this code, but i got this error in the compilation process...\r\nwhats wrong?\r\nyou can see deatails in pic...\r\n\r\n```\r\n        RadioGroup rgOptions = findViewById(R.id.radioGroup_newAc_n1);\r\n        rgOptions.setOnCheckedChangeListener(new RadioGroup.OnCheckedChangeListener() {\r\n            @Override\r\n            public void onCheckedChanged(RadioGroup group, int checkedId) {\r\n                switch (checkedId){\r\n                    case R.id.radioButton_newAc_rb1: // &lt;--Line72\r\n                        Toast.makeText(NewAc.this,&quot;rb1 is checked&quot;,Toast.LENGTH_SHORT).show();\r\n                        break;\r\n                    case R.id.radioButton_newAc_rb2: // &lt;--Line75\r\n                        Toast.makeText(NewAc.this,&quot;rb2 is checked&quot;,Toast.LENGTH_SHORT).show();\r\n                        break;\r\n                    case R.id.radioButton_newAc_rb3: // &lt;--Line78\r\n                        Toast.makeText(NewAc.this,&quot;rb3 is checked&quot;,Toast.LENGTH_SHORT).show();\r\n                        break;\r\n                }\r\n            }\r\n        });\r\n```\r\n\r\n**Error:**\r\n\r\n    NewAc.java:72: error: constant expression required\r\n                        case R.id.radioButton_newAc_rb1:\r\n                                 ^\r\n    NewAc.java:75: error: constant expression required\r\n                        case R.id.radioButton_newAc_rb2:\r\n                                 ^\r\n    NewAc.java:78: error: constant expression required\r\n                        case R.id.radioButton_newAc_rb3:\r\n                                 ^\r\n\r\n\r\n\r\nthis is my first question in stackoverflow and actually don&#39;t have idea what&#39;s need to be here :D","title":"problem with switch case in android(java)","body":"<p>(<a href=\"https://i.stack.imgur.com/HydEx.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/HydEx.png</a>)</p>\n<p>hey guys,\ni have problem with switch case in android studio\nin this case i have a radio group &quot;<strong>radioGroup_newAc_n1</strong>&quot; and 3 radio button &quot;<strong>radioButton_newAc_rb1,rb2,rb3</strong>&quot; and i wrote this code, but i got this error in the compilation process...\nwhats wrong?\nyou can see deatails in pic...</p>\n<pre><code>        RadioGroup rgOptions = findViewById(R.id.radioGroup_newAc_n1);\n        rgOptions.setOnCheckedChangeListener(new RadioGroup.OnCheckedChangeListener() {\n            @Override\n            public void onCheckedChanged(RadioGroup group, int checkedId) {\n                switch (checkedId){\n                    case R.id.radioButton_newAc_rb1: // &lt;--Line72\n                        Toast.makeText(NewAc.this,&quot;rb1 is checked&quot;,Toast.LENGTH_SHORT).show();\n                        break;\n                    case R.id.radioButton_newAc_rb2: // &lt;--Line75\n                        Toast.makeText(NewAc.this,&quot;rb2 is checked&quot;,Toast.LENGTH_SHORT).show();\n                        break;\n                    case R.id.radioButton_newAc_rb3: // &lt;--Line78\n                        Toast.makeText(NewAc.this,&quot;rb3 is checked&quot;,Toast.LENGTH_SHORT).show();\n                        break;\n                }\n            }\n        });\n</code></pre>\n<p><strong>Error:</strong></p>\n<pre><code>NewAc.java:72: error: constant expression required\n                    case R.id.radioButton_newAc_rb1:\n                             ^\nNewAc.java:75: error: constant expression required\n                    case R.id.radioButton_newAc_rb2:\n                             ^\nNewAc.java:78: error: constant expression required\n                    case R.id.radioButton_newAc_rb3:\n                             ^\n</code></pre>\n<p>this is my first question in stackoverflow and actually don't have idea what's need to be here :D</p>\n"},{"tags":["java","intellij-idea","spotless"],"comments":[{"owner":{"account_id":1047596,"reputation":9325,"user_id":1052284,"accept_rate":44,"display_name":"Mark Jeronimus"},"score":1,"creation_date":1579102423,"post_id":59754621,"comment_id":105655477,"body_markdown":"I&#39;d ask that on the IntelliJ forum, as the developers who know it the best stalk those forums regularly.","body":"I&#39;d ask that on the IntelliJ forum, as the developers who know it the best stalk those forums regularly."}],"answers":[{"comments":[{"owner":{"account_id":46836,"reputation":12142,"user_id":138513,"accept_rate":46,"display_name":"Hakanai"},"score":0,"creation_date":1632445814,"post_id":64302678,"comment_id":122500676,"body_markdown":"It&#39;s been a year and amazingly still no plugin for spotless in IDEA, amazing because it seems like it shouldn&#39;t be so hard to implement. Running the Gradle task doesn&#39;t sound like a bad idea anyway though, and you can hook other cleanup tasks in that way. One improvement could be to use the `idea-ext` plugin to set up the hook without having to use the UI.","body":"It&#39;s been a year and amazingly still no plugin for spotless in IDEA, amazing because it seems like it shouldn&#39;t be so hard to implement. Running the Gradle task doesn&#39;t sound like a bad idea anyway though, and you can hook other cleanup tasks in that way. One improvement could be to use the <code>idea-ext</code> plugin to set up the hook without having to use the UI."},{"owner":{"account_id":7738659,"reputation":67,"user_id":5859354,"display_name":"Dmitrii Badretdinov"},"score":1,"creation_date":1673435564,"post_id":64302678,"comment_id":132497116,"body_markdown":"@Hakanai, does the [following](https://plugins.jetbrains.com/plugin/18321-spotless-gradle) plugin fit your description?","body":"@Hakanai, does the <a href=\"https://plugins.jetbrains.com/plugin/18321-spotless-gradle\" rel=\"nofollow noreferrer\">following</a> plugin fit your description?"},{"owner":{"account_id":46836,"reputation":12142,"user_id":138513,"accept_rate":46,"display_name":"Hakanai"},"score":0,"creation_date":1673500627,"post_id":64302678,"comment_id":132514395,"body_markdown":"@DmitriiBadretdinov maybe. Would have to play with it a bit. I&#39;d prefer it to replace the existing reformat action rather than being a new action, but it looks like it would at least do something.","body":"@DmitriiBadretdinov maybe. Would have to play with it a bit. I&#39;d prefer it to replace the existing reformat action rather than being a new action, but it looks like it would at least do something."}],"tags":[],"owner":{"account_id":6525393,"reputation":332,"user_id":5048304,"display_name":"Tob"},"comment_count":3,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1602409838,"creation_date":1602409838,"answer_id":64302678,"question_id":59754621,"body_markdown":"A not 100% satisfying but working approach:\r\n\r\n**1. Configure the Spotless tasks**\r\n\r\n    spotless {\r\n        format &#39;misc&#39;, {\r\n            target &#39;*.properties&#39;,&#39;*.gradle&#39;, &#39;*.md&#39;, &#39;.gitignore&#39; // etc.\r\n            // code style rules\r\n        }\r\n        java {\r\n            // code style rules\r\n        }\r\n    }\r\n\r\n**2. Add task activation to `*Apply` tasks**\r\n\r\n[![enter image description here][1]][1]\r\n\r\n**3. Assign convenient keystroke to `Build Project`**\r\n\r\nDo this under `Settings &gt; Keymap`.\r\n\r\n*Keep in mind that `Build Project` is using IntelliJ&#39;s internal builder. It&#39;s incremental (performant), but in case of custom/third-party gradle tasks, the build result might deviate from the `$ gradle build` result.*\r\n\r\nIn case of a Spring application utilizing DevTools, the build will lead to the changes/updates being served automatically.\r\n\r\n---\r\n\r\nWith the IDE Hook it should be rather trivial to implement a dedicated Spotless formatter plugin for IntelliJ:\r\nhttps://github.com/diffplug/spotless/blob/master/plugin-gradle/IDE_HOOK.md\r\n\r\nSo far I wasn&#39;t able to find one though.\r\n\r\n  [1]: https://i.stack.imgur.com/SOwfqm.png","title":"Confgure IntelliJ to use the same Java formatter as Spotless","body":"<p>A not 100% satisfying but working approach:</p>\n<p><strong>1. Configure the Spotless tasks</strong></p>\n<pre><code>spotless {\n    format 'misc', {\n        target '*.properties','*.gradle', '*.md', '.gitignore' // etc.\n        // code style rules\n    }\n    java {\n        // code style rules\n    }\n}\n</code></pre>\n<p><strong>2. Add task activation to <code>*Apply</code> tasks</strong></p>\n<p><a href=\"https://i.stack.imgur.com/SOwfqm.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/SOwfqm.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>3. Assign convenient keystroke to <code>Build Project</code></strong></p>\n<p>Do this under <code>Settings &gt; Keymap</code>.</p>\n<p><em>Keep in mind that <code>Build Project</code> is using IntelliJ's internal builder. It's incremental (performant), but in case of custom/third-party gradle tasks, the build result might deviate from the <code>$ gradle build</code> result.</em></p>\n<p>In case of a Spring application utilizing DevTools, the build will lead to the changes/updates being served automatically.</p>\n<hr />\n<p>With the IDE Hook it should be rather trivial to implement a dedicated Spotless formatter plugin for IntelliJ:\n<a href=\"https://github.com/diffplug/spotless/blob/master/plugin-gradle/IDE_HOOK.md\" rel=\"noreferrer\">https://github.com/diffplug/spotless/blob/master/plugin-gradle/IDE_HOOK.md</a></p>\n<p>So far I wasn't able to find one though.</p>\n"},{"tags":[],"owner":{"account_id":6910510,"reputation":71,"user_id":5306599,"display_name":"DiPech"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1639991731,"creation_date":1639907578,"answer_id":70410374,"question_id":59754621,"body_markdown":"Although Tob&#39;s approach works, I use a bit different way of configuring it.\r\n\r\n### 1. Create an external tool in the Preferences\r\n[![enter image description here][1]][1]\r\n\r\n\r\n### 2. Assign a shortcut for the created external tool\r\n\r\nI prefer using `⌘` + `⌥` + `;`, because it&#39;s easy to remember (IDEA uses `⌘` + `⌥` + `L` by default).\r\n[![enter image description here][2]][2]\r\n\r\n### 3. Use it\r\n\r\nPress `⌘` + `⌥` + `;` and wait until all the files are processed and the IDE reloaded changed files. Usually, it takes 2-5 seconds. \r\n\r\nWarning: spotless may crash (usually it happens because of mistakes in your code, so be sure your code is compilable):\r\n[![enter image description here][3]][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/GtByn.png\r\n  [2]: https://i.stack.imgur.com/lod43.png\r\n  [3]: https://i.stack.imgur.com/kkXUk.png","title":"Confgure IntelliJ to use the same Java formatter as Spotless","body":"<p>Although Tob's approach works, I use a bit different way of configuring it.</p>\n<h3>1. Create an external tool in the Preferences</h3>\n<p><a href=\"https://i.stack.imgur.com/GtByn.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/GtByn.png\" alt=\"enter image description here\" /></a></p>\n<h3>2. Assign a shortcut for the created external tool</h3>\n<p>I prefer using <code>⌘</code> + <code>⌥</code> + <code>;</code>, because it's easy to remember (IDEA uses <code>⌘</code> + <code>⌥</code> + <code>L</code> by default).\n<a href=\"https://i.stack.imgur.com/lod43.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/lod43.png\" alt=\"enter image description here\" /></a></p>\n<h3>3. Use it</h3>\n<p>Press <code>⌘</code> + <code>⌥</code> + <code>;</code> and wait until all the files are processed and the IDE reloaded changed files. Usually, it takes 2-5 seconds.</p>\n<p>Warning: spotless may crash (usually it happens because of mistakes in your code, so be sure your code is compilable):\n<a href=\"https://i.stack.imgur.com/kkXUk.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/kkXUk.png\" alt=\"enter image description here\" /></a></p>\n"},{"comments":[{"owner":{"account_id":7015510,"reputation":113,"user_id":7339779,"accept_rate":50,"display_name":"joy_jlee"},"score":0,"creation_date":1701877826,"post_id":76888315,"comment_id":136829856,"body_markdown":"I cannot actually find this plugin via settings-&gt;plugins-&gt;marketplace in my intellij community edition. Im using IDEA 2023.3","body":"I cannot actually find this plugin via settings-&gt;plugins-&gt;marketplace in my intellij community edition. Im using IDEA 2023.3"}],"tags":[],"owner":{"account_id":18412529,"reputation":53,"user_id":13412398,"display_name":"Dimitrii"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1691827504,"creation_date":1691827504,"answer_id":76888315,"question_id":59754621,"body_markdown":"You can install this plugin: https://plugins.jetbrains.com/plugin/22455-spotless-applier.\r\n\r\nIt allows running the spotless Gradle and Maven tasks from within the IDE, either on the current file selected in the editor or for the whole project.","title":"Confgure IntelliJ to use the same Java formatter as Spotless","body":"<p>You can install this plugin: <a href=\"https://plugins.jetbrains.com/plugin/22455-spotless-applier\" rel=\"nofollow noreferrer\">https://plugins.jetbrains.com/plugin/22455-spotless-applier</a>.</p>\n<p>It allows running the spotless Gradle and Maven tasks from within the IDE, either on the current file selected in the editor or for the whole project.</p>\n"}],"owner":{"account_id":6138978,"reputation":2143,"user_id":4786956,"accept_rate":55,"display_name":"Antonio Dragos"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":20111,"favorite_count":0,"down_vote_count":0,"up_vote_count":22,"answer_count":3,"score":22,"last_activity_date":1691827504,"creation_date":1579102140,"question_id":59754621,"body_markdown":"I use the [Spotless Gradle plugin][1] to ensure consistent formatting of the Java code in my app. The relevant entries in `build.gradle` are\r\n\r\n    plugins {\r\n      id &quot;com.diffplug.gradle.spotless&quot; version &quot;3.27.0&quot;\r\n    }\r\n    \r\n    spotless {\r\n      java {\r\n        // The available versions of the Eclipse JDT formatter are defined here\r\n        // https://github.com/diffplug/spotless/tree/master/lib-extra/src/main/resources/com/diffplug/spotless/extra/eclipse_jdt_formatter\r\n        eclipse(&#39;4.13.0&#39;)\r\n        indentWithSpaces()\r\n        removeUnusedImports()\r\n      }\r\n    }\r\n\r\nIs there some way I can configure IntelliJ to use the same formatting settings?\r\n\r\n\r\n  [1]: https://github.com/diffplug/spotless/tree/master/plugin-gradle","title":"Confgure IntelliJ to use the same Java formatter as Spotless","body":"<p>I use the <a href=\"https://github.com/diffplug/spotless/tree/master/plugin-gradle\" rel=\"noreferrer\">Spotless Gradle plugin</a> to ensure consistent formatting of the Java code in my app. The relevant entries in <code>build.gradle</code> are</p>\n\n<pre><code>plugins {\n  id \"com.diffplug.gradle.spotless\" version \"3.27.0\"\n}\n\nspotless {\n  java {\n    // The available versions of the Eclipse JDT formatter are defined here\n    // https://github.com/diffplug/spotless/tree/master/lib-extra/src/main/resources/com/diffplug/spotless/extra/eclipse_jdt_formatter\n    eclipse('4.13.0')\n    indentWithSpaces()\n    removeUnusedImports()\n  }\n}\n</code></pre>\n\n<p>Is there some way I can configure IntelliJ to use the same formatting settings?</p>\n"},{"tags":["java","java-stream","option-type","findfirst"],"comments":[{"owner":{"account_id":9531412,"reputation":2010,"user_id":7082956,"display_name":"Valerij Dobler"},"score":0,"creation_date":1671566927,"post_id":74868318,"comment_id":132125977,"body_markdown":"What do you want to accomplish by using `findFirst`?","body":"What do you want to accomplish by using <code>findFirst</code>?"},{"owner":{"account_id":220794,"reputation":12257,"user_id":478406,"accept_rate":82,"display_name":"Robert Strauch"},"score":0,"creation_date":1671567080,"post_id":74868318,"comment_id":132126015,"body_markdown":"The reason I mentioned `findFirst` is I need to process only the first item of the list with an additional method.","body":"The reason I mentioned <code>findFirst</code> is I need to process only the first item of the list with an additional method."}],"answers":[{"tags":[],"owner":{"account_id":13170666,"reputation":78679,"user_id":9513184,"display_name":"Unmitigated"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1671566695,"creation_date":1671566695,"answer_id":74868371,"question_id":74868318,"body_markdown":"You could create an `IntStream` over the indexes.\r\n\r\n```java\r\nIntStream.range(0, strings.size())\r\n    .mapToObj(i -&gt; {\r\n        var s = strings.get(i);\r\n        if (i == 0) s = someMethod(s);\r\n        return anotherMethod(s);\r\n    }).toList();","title":"Resume processing of a Java Stream after running findFirst()","body":"<p>You could create an <code>IntStream</code> over the indexes.</p>\n<pre class=\"lang-java prettyprint-override\"><code>IntStream.range(0, strings.size())\n    .mapToObj(i -&gt; {\n        var s = strings.get(i);\n        if (i == 0) s = someMethod(s);\n        return anotherMethod(s);\n    }).toList();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9531412,"reputation":2010,"user_id":7082956,"display_name":"Valerij Dobler"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1688974237,"creation_date":1671566702,"answer_id":74868373,"question_id":74868318,"body_markdown":"`findFirst` collapses the stream to an `Optional&lt;String&gt;`, and there is nothing to resume.\r\n\r\n    Optional&lt;String&gt; mary = Stream.of(&quot;Mary&quot;, &quot;James&quot;, &quot;Jim&quot;, &quot;Camilla&quot;).findFirst();\r\n\r\nDo you want to reduce the stream to only one element? Then the method `limit(1)` might be what you are looking for and then concat it with a copy where you `skip(1)` the element.\r\n\r\n    List&lt;String&gt; strings = Arrays.asList(&quot;Mary&quot;, &quot;James&quot;, &quot;Jim&quot;, &quot;Camilla&quot;);\r\n    List&lt;String&gt; result = Stream.concat(\r\n          strings.stream()\r\n            .limit(1)\r\n            .map(this::someMethod),\r\n          strings.stream()\r\n            .skip(1))\r\n            .map(this::anotherMethod)\r\n         ).toList();\r\n\r\n# Edit: After Update 1:\r\nYou wouldn&#39;t want to apply `toLowerCase()` to the first element after you applied `toUpperCase()`.","title":"Resume processing of a Java Stream after running findFirst()","body":"<p><code>findFirst</code> collapses the stream to an <code>Optional&lt;String&gt;</code>, and there is nothing to resume.</p>\n<pre><code>Optional&lt;String&gt; mary = Stream.of(&quot;Mary&quot;, &quot;James&quot;, &quot;Jim&quot;, &quot;Camilla&quot;).findFirst();\n</code></pre>\n<p>Do you want to reduce the stream to only one element? Then the method <code>limit(1)</code> might be what you are looking for and then concat it with a copy where you <code>skip(1)</code> the element.</p>\n<pre><code>List&lt;String&gt; strings = Arrays.asList(&quot;Mary&quot;, &quot;James&quot;, &quot;Jim&quot;, &quot;Camilla&quot;);\nList&lt;String&gt; result = Stream.concat(\n      strings.stream()\n        .limit(1)\n        .map(this::someMethod),\n      strings.stream()\n        .skip(1))\n        .map(this::anotherMethod)\n     ).toList();\n</code></pre>\n<h1>Edit: After Update 1:</h1>\n<p>You wouldn't want to apply <code>toLowerCase()</code> to the first element after you applied <code>toUpperCase()</code>.</p>\n"},{"comments":[{"owner":{"account_id":2792262,"reputation":163877,"user_id":2402272,"accept_rate":85,"display_name":"John Bollinger"},"score":2,"creation_date":1671574748,"post_id":74869225,"comment_id":132127856,"body_markdown":"The OP wants to process all the elements from the original stream, and interpose *extra* processing for the first one of them.  Handling the second and subsequent elements of the original stream is whath they mean by &quot;resuming&quot; the stream.  The approach based on `Optional.stream()` doesn&#39;t do that at all.","body":"The OP wants to process all the elements from the original stream, and interpose <i>extra</i> processing for the first one of them.  Handling the second and subsequent elements of the original stream is whath they mean by &quot;resuming&quot; the stream.  The approach based on <code>Optional.stream()</code> doesn&#39;t do that at all."},{"owner":{"account_id":2792262,"reputation":163877,"user_id":2402272,"accept_rate":85,"display_name":"John Bollinger"},"score":1,"creation_date":1671575058,"post_id":74869225,"comment_id":132127915,"body_markdown":"The collector-based approach, on the other hand, has a subtler flaw: it does not satisfy the associativity constraint on collectors.  It will likely work in many cases, but it will not produce the same results when a computation is split.","body":"The collector-based approach, on the other hand, has a subtler flaw: it does not satisfy the associativity constraint on collectors.  It will likely work in many cases, but it will not produce the same results when a computation is split."},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1671575144,"post_id":74869225,"comment_id":132127932,"body_markdown":"@JohnBollinger The second solution handles everything using a single stream. And BTW, from this statement I infer that any approach will do *Is there a way to handle such a scenario using a Stream or something similar?*","body":"@JohnBollinger The second solution handles everything using a single stream. And BTW, from this statement I infer that any approach will do <i>Is there a way to handle such a scenario using a Stream or something similar?</i>"},{"owner":{"account_id":2792262,"reputation":163877,"user_id":2402272,"accept_rate":85,"display_name":"John Bollinger"},"score":1,"creation_date":1671576576,"post_id":74869225,"comment_id":132128174,"body_markdown":"The issue is not about ordering.  It is about there (possibly) being multiple partial results to combine.  Your accumulator will perform extra processing on the first item accumulated into *each* partial result, but that processing is wanted only for the first item overall in the stream.","body":"The issue is not about ordering.  It is about there (possibly) being multiple partial results to combine.  Your accumulator will perform extra processing on the first item accumulated into <i>each</i> partial result, but that processing is wanted only for the first item overall in the stream."},{"owner":{"account_id":2792262,"reputation":163877,"user_id":2402272,"accept_rate":85,"display_name":"John Bollinger"},"score":1,"creation_date":1671577206,"post_id":74869225,"comment_id":132128289,"body_markdown":"This is a matter of correctness, not overhead.  Your collector will produce *different output* depending on how many ways the stream is split.  Which is where I started: it does not satisfy the associativity constraint on collectors.","body":"This is a matter of correctness, not overhead.  Your collector will produce <i>different output</i> depending on how many ways the stream is split.  Which is where I started: it does not satisfy the associativity constraint on collectors."},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1671578353,"post_id":74869225,"comment_id":132128485,"body_markdown":"@JohnBollinger Agree, updated the answer.","body":"@JohnBollinger Agree, updated the answer."},{"owner":{"account_id":2792262,"reputation":163877,"user_id":2402272,"accept_rate":85,"display_name":"John Bollinger"},"score":1,"creation_date":1671629118,"post_id":74869225,"comment_id":132139398,"body_markdown":"I like `Iterator.forEachRemaining()` for this.  It&#39;s not a stream, but I would account it &quot;something similar&quot;, and it affords a clear, compact implementation.","body":"I like <code>Iterator.forEachRemaining()</code> for this.  It&#39;s not a stream, but I would account it &quot;something similar&quot;, and it affords a clear, compact implementation."}],"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"comment_count":7,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1671629535,"creation_date":1671572850,"answer_id":74869225,"question_id":74868318,"body_markdown":"# [`Optional.stream()`][stream]\r\n\r\nYour idea of using `findFirst()` is perfectly viable.\r\n\r\nWe can apply `map()` on the `Optional` result and make use of the Java 9 `Optional.stream()` (to &quot;resume&quot; the stream).\r\n\r\n`flatMap()` operation in conjunction with `Stream.concat()` would be handy for combining the very first element with the rest part of the stream.\r\n\r\nApply the final transformation and collect the result into a list.\r\n\r\n```\r\nList&lt;String&gt; strings = Arrays.asList(&quot;Mary&quot;, &quot;James&quot;, &quot;Jim&quot;, &quot;Camilla&quot;);\r\n\r\nList&lt;String&gt; result = strings.stream().findFirst()\r\n    .map(MyClass::someMethod)\r\n    .stream()\r\n    .flatMap(s -&gt; Stream.concat(\r\n        Stream.of(s), \r\n        strings.stream().skip(1).map(MyClass::anotherMethod)\r\n    ))\r\n    .toList();\r\n```\r\n\r\n# [`Iterator.forEachRemaining()`][forEachRemaining]\r\n\r\nAnother option would be to use Java 8 `Iterator.forEachRemaining()`:\r\n\r\n```\r\nList&lt;String&gt; strings = Arrays.asList(&quot;Mary&quot;, &quot;James&quot;, &quot;Jim&quot;, &quot;Camilla&quot;);\r\nList&lt;String&gt; result = new ArrayList&lt;&gt;();\r\n\r\nIterator&lt;String&gt; iterator = strings.iterator();\r\nresult.add(someMethod(iterator.next()));\r\niterator.forEachRemaining(s -&gt; result.add(anotherMethod(s));\r\n```\r\n\r\n\r\n\r\n   [stream]: https://docs.oracle.com/en/java/javase/17/docs/api//java.base/java/util/Optional.html#stream()\r\n\r\n   [forEachRemaining]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Iterator.html","title":"Resume processing of a Java Stream after running findFirst()","body":"<h1><a href=\"https://docs.oracle.com/en/java/javase/17/docs/api//java.base/java/util/Optional.html#stream()\" rel=\"nofollow noreferrer\"><code>Optional.stream()</code></a></h1>\n<p>Your idea of using <code>findFirst()</code> is perfectly viable.</p>\n<p>We can apply <code>map()</code> on the <code>Optional</code> result and make use of the Java 9 <code>Optional.stream()</code> (to &quot;resume&quot; the stream).</p>\n<p><code>flatMap()</code> operation in conjunction with <code>Stream.concat()</code> would be handy for combining the very first element with the rest part of the stream.</p>\n<p>Apply the final transformation and collect the result into a list.</p>\n<pre><code>List&lt;String&gt; strings = Arrays.asList(&quot;Mary&quot;, &quot;James&quot;, &quot;Jim&quot;, &quot;Camilla&quot;);\n\nList&lt;String&gt; result = strings.stream().findFirst()\n    .map(MyClass::someMethod)\n    .stream()\n    .flatMap(s -&gt; Stream.concat(\n        Stream.of(s), \n        strings.stream().skip(1).map(MyClass::anotherMethod)\n    ))\n    .toList();\n</code></pre>\n<h1><a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Iterator.html\" rel=\"nofollow noreferrer\"><code>Iterator.forEachRemaining()</code></a></h1>\n<p>Another option would be to use Java 8 <code>Iterator.forEachRemaining()</code>:</p>\n<pre><code>List&lt;String&gt; strings = Arrays.asList(&quot;Mary&quot;, &quot;James&quot;, &quot;Jim&quot;, &quot;Camilla&quot;);\nList&lt;String&gt; result = new ArrayList&lt;&gt;();\n\nIterator&lt;String&gt; iterator = strings.iterator();\nresult.add(someMethod(iterator.next()));\niterator.forEachRemaining(s -&gt; result.add(anotherMethod(s));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4120139,"reputation":1,"user_id":3380739,"display_name":"user_3380739"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672357352,"creation_date":1672356986,"answer_id":74956959,"question_id":74868318,"body_markdown":"Try [StreamEx][1] or [abacus-common][2] (I&#39;m the developer of this library)\r\n\r\n    var result = StreamEx.of(strings)\r\n               .mapFirstOrElse(String::toUpperCase, String::toLowerCase)\r\n               .toList();\r\n\r\n    result.forEach(System.out::println); \r\n\r\n\r\n  [1]: https://github.com/amaembo/streamex\r\n  [2]: https://github.com/landawn/abacus-common","title":"Resume processing of a Java Stream after running findFirst()","body":"<p>Try <a href=\"https://github.com/amaembo/streamex\" rel=\"nofollow noreferrer\">StreamEx</a> or <a href=\"https://github.com/landawn/abacus-common\" rel=\"nofollow noreferrer\">abacus-common</a> (I'm the developer of this library)</p>\n<pre><code>var result = StreamEx.of(strings)\n           .mapFirstOrElse(String::toUpperCase, String::toLowerCase)\n           .toList();\n\nresult.forEach(System.out::println); \n</code></pre>\n"},{"tags":[],"owner":{"account_id":13993199,"reputation":129,"user_id":10362945,"display_name":"Sagar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691827433,"creation_date":1691827433,"answer_id":76888308,"question_id":74868318,"body_markdown":"```\r\n final AtomicBoolean processFirstElement = new AtomicBoolean(true);\r\n        strings.stream()\r\n                .map(input-&gt;processFirstElement.getAndSet(false)?\r\n                                someMethod(input)\r\n                                :input)\r\n                .map(YourClass::anotherMethod)\r\n                .collect(Collectors.toList());\r\n```\r\nIdeally we should avoid using mutable objects,AtomicBoolean should be able to maintain happens-before and hence prevent racing condition.\r\n","title":"Resume processing of a Java Stream after running findFirst()","body":"<pre><code> final AtomicBoolean processFirstElement = new AtomicBoolean(true);\n        strings.stream()\n                .map(input-&gt;processFirstElement.getAndSet(false)?\n                                someMethod(input)\n                                :input)\n                .map(YourClass::anotherMethod)\n                .collect(Collectors.toList());\n</code></pre>\n<p>Ideally we should avoid using mutable objects,AtomicBoolean should be able to maintain happens-before and hence prevent racing condition.</p>\n"}],"owner":{"account_id":220794,"reputation":12257,"user_id":478406,"accept_rate":82,"display_name":"Robert Strauch"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":417,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":74868373,"answer_count":5,"score":4,"last_activity_date":1691827433,"creation_date":1671566387,"question_id":74868318,"body_markdown":"Given a simple list of strings:\r\n\r\n```java\r\nList&lt;String&gt; strings = Arrays.asList(&quot;Mary&quot;, &quot;James&quot;, &quot;Jim&quot;, &quot;Camilla&quot;);\r\n```\r\n\r\nI&#39;d like to process each item of the list with a `anotherMethod()` method, however the first item shall be processed additionally by `someMethod()`.\r\n\r\nI&#39;ve tried something like this:\r\n\r\n```java\r\nList&lt;String&gt; strings = Arrays.asList(&quot;Mary&quot;, &quot;James&quot;, &quot;Jim&quot;, &quot;Camilla&quot;);\r\n\r\nvar result = strings.stream()\r\n     .findFirst()\r\n     .map(myString -&gt; someMethod(myString))\r\n     // &quot;resume&quot; stream\r\n     .map(myString -&gt; anotherMethod(myString))\r\n     .toList();     \r\n```\r\n\r\nIs there a way to handle such a scenario using a `Stream` or something similar?\r\n\r\n----------\r\n\r\n### Update 1\r\n\r\nHere is an example to help you better understand the motivation behind my question.\r\n\r\n```java\r\nList&lt;String&gt; strings = Arrays.asList(&quot;Mary&quot;, &quot;James&quot;, &quot;Jim&quot;, &quot;Camilla&quot;);\r\n\r\npublic String someMethod(String s) {\r\n  return s.toUpperCase();\r\n}\r\n\r\npublic String anotherMethod(String s) {\r\n  return s.toLowerCase();\r\n}\r\n```\r\n\r\nThe final result shall be a `List&lt;String&gt;` with the following elements, that is, only the first element is converted to upper-case while all other elements are converted to lower-case.\r\n\r\n`&quot;MARY&quot;, &quot;james&quot;, &quot;jim&quot;, &quot;camilla&quot;` ","title":"Resume processing of a Java Stream after running findFirst()","body":"<p>Given a simple list of strings:</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;String&gt; strings = Arrays.asList(&quot;Mary&quot;, &quot;James&quot;, &quot;Jim&quot;, &quot;Camilla&quot;);\n</code></pre>\n<p>I'd like to process each item of the list with a <code>anotherMethod()</code> method, however the first item shall be processed additionally by <code>someMethod()</code>.</p>\n<p>I've tried something like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;String&gt; strings = Arrays.asList(&quot;Mary&quot;, &quot;James&quot;, &quot;Jim&quot;, &quot;Camilla&quot;);\n\nvar result = strings.stream()\n     .findFirst()\n     .map(myString -&gt; someMethod(myString))\n     // &quot;resume&quot; stream\n     .map(myString -&gt; anotherMethod(myString))\n     .toList();     \n</code></pre>\n<p>Is there a way to handle such a scenario using a <code>Stream</code> or something similar?</p>\n<hr />\n<h3>Update 1</h3>\n<p>Here is an example to help you better understand the motivation behind my question.</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;String&gt; strings = Arrays.asList(&quot;Mary&quot;, &quot;James&quot;, &quot;Jim&quot;, &quot;Camilla&quot;);\n\npublic String someMethod(String s) {\n  return s.toUpperCase();\n}\n\npublic String anotherMethod(String s) {\n  return s.toLowerCase();\n}\n</code></pre>\n<p>The final result shall be a <code>List&lt;String&gt;</code> with the following elements, that is, only the first element is converted to upper-case while all other elements are converted to lower-case.</p>\n<p><code>&quot;MARY&quot;, &quot;james&quot;, &quot;jim&quot;, &quot;camilla&quot;</code></p>\n"},{"tags":["java","scala","apache-spark","amazon-s3"],"owner":{"account_id":15647920,"reputation":1,"user_id":11289770,"display_name":"wudaoyunqi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1691827384,"creation_date":1691118535,"question_id":76832740,"body_markdown":"Read S3 file of txt format\r\n\r\n```java\r\nJavaRDD&lt;String&gt; textRdd = sparkContext.textFile(filePath, 3).toJavaRDD().repartition(60);\r\n```\r\nThe filePath is like &#39;s3a://bucket_name/object_name&#39;. BTW, spark can&#39;t read s3 file by s3filePath like above when the bucket name contains underscore symbol, i.e. &#39;_&#39;, I&#39;m really confused about this.\r\n\r\nHere omit transToRowRdd process, i.e., change JavaRDD&lt; String &gt; to JavaRDD&lt; Row &gt;.\r\n\r\n---\r\n\r\nThe write process\r\n```java\r\nDataset dataset = SparkSession.createDataFrame(rowRDD, fieldSchemas)\r\n\r\nDataFrameWriter tableWriter = dataset.write().mode(SaveMode.Overwrite).format(&quot;hive&quot;);\r\n\r\ntableWriter.insertInto(fullTableName);\r\n```\r\n---\r\n\r\nIf the s3 file is empty, an error will be reported in the insertinto method.\r\n\r\n```\r\n23/08/03 19:43:20 INFO Driver ApplicationMaster: Final app status: FAILED, exitCode: 15, (reason: User class threw exception: org.apache.spark.SparkException: Job aborted.\r\n\tat org.apache.spark.sql.execution.datasources.FileFormatWriter$.write(FileFormatWriter.scala:252)\r\n\tat org.apache.spark.sql.hive.execution.SaveAsHiveFile.saveAsHiveFile(SaveAsHiveFile.scala:105)\r\n\tat org.apache.spark.sql.hive.execution.SaveAsHiveFile.saveAsHiveFile$(SaveAsHiveFile.scala:56)\r\n\tat org.apache.spark.sql.hive.execution.InsertIntoHiveTable.saveAsHiveFile(InsertIntoHiveTable.scala:81)\r\n\tat org.apache.spark.sql.hive.execution.InsertIntoHiveTable.processInsert(InsertIntoHiveTable.scala:243)\r\n\tat org.apache.spark.sql.hive.execution.InsertIntoHiveTable.run(InsertIntoHiveTable.scala:140)\r\n\tat org.apache.spark.sql.execution.command.DataWritingCommandExec.sideEffectResult$lzycompute(commands.scala:108)\r\n\tat org.apache.spark.sql.execution.command.DataWritingCommandExec.sideEffectResult(commands.scala:106)\r\n\tat org.apache.spark.sql.execution.command.DataWritingCommandExec.doExecute(commands.scala:131)\r\n\tat org.apache.spark.sql.execution.SparkPlan.$anonfun$execute$1(SparkPlan.scala:175)\r\n\tat org.apache.spark.sql.execution.SparkPlan.$anonfun$executeQuery$1(SparkPlan.scala:213)\r\n\tat org.apache.spark.rdd.RDDOperationScope$.withScope(RDDOperationScope.scala:151)\r\n\tat org.apache.spark.sql.execution.SparkPlan.executeQuery(SparkPlan.scala:210)\r\n\tat org.apache.spark.sql.execution.SparkPlan.execute(SparkPlan.scala:171)\r\n\tat org.apache.spark.sql.execution.QueryExecution.toRdd$lzycompute(QueryExecution.scala:132)\r\n\tat org.apache.spark.sql.execution.QueryExecution.toRdd(QueryExecution.scala:127)\r\n\tat org.apache.spark.sql.DataFrameWriter.$anonfun$runCommand$1(DataFrameWriter.scala:963)\r\n\tat org.apache.spark.sql.execution.SQLExecution$.withNewQueryId(SQLExecution.scala:58)\r\n\tat org.apache.spark.sql.execution.SQLExecution$.$anonfun$withNewExecutionId$5(SQLExecution.scala:125)\r\n\tat org.apache.spark.sql.execution.SQLExecution$.withSQLConfPropagated(SQLExecution.scala:185)\r\n\tat org.apache.spark.sql.execution.SQLExecution$.$anonfun$withNewExecutionId$1(SQLExecution.scala:112)\r\n\tat org.apache.spark.sql.SparkSession.withActive(SparkSession.scala:767)\r\n\tat org.apache.spark.sql.execution.SQLExecution$.withNewExecutionId(SQLExecution.scala:89)\r\n\tat org.apache.spark.sql.DataFrameWriter.runCommand(DataFrameWriter.scala:963)\r\n\tat org.apache.spark.sql.DataFrameWriter.insertInto(DataFrameWriter.scala:519)\r\n\tat org.apache.spark.sql.DataFrameWriter.insertInto(DataFrameWriter.scala:473)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\tat org.apache.spark.deploy.yarn.ApplicationMaster$$anon$2.run(ApplicationMaster.scala:750)\r\n\r\nCaused by: org.apache.spark.SparkException: Job aborted due to stage failure: Task 0 in stage 0.0 failed 4 times, most recent failure: Lost task 0.3 in stage 0.0 (TID 3, , executor 4): java.lang.Exception: The requested range cannot be satisfied. (Service: Amazon S3; Status Code: 416; Error Code: InvalidRange; Request ID: )\r\n\tat org.apache.spark.rdd.HadoopRDD$$anon$1.getNext(HadoopRDD.scala:419)\r\n\tat org.apache.spark.rdd.HadoopRDD$$anon$1.getNext(HadoopRDD.scala:305)\r\n\tat org.apache.spark.util.NextIterator.hasNext(NextIterator.scala:73)\r\n\tat org.apache.spark.InterruptibleIterator.hasNext(InterruptibleIterator.scala:37)\r\n\tat scala.collection.Iterator$$anon$10.hasNext(Iterator.scala:458)\r\n\tat scala.collection.Iterator$$anon$10.hasNext(Iterator.scala:458)\r\n\tat org.apache.spark.shuffle.sort.BypassMergeSortShuffleWriter.write(BypassMergeSortShuffleWriter.java:141)\r\n\tat org.apache.spark.shuffle.ShuffleWriteProcessor.write(ShuffleWriteProcessor.scala:59)\r\n\tat org.apache.spark.scheduler.ShuffleMapTask.runTask(ShuffleMapTask.scala:102)\r\n\tat org.apache.spark.scheduler.ShuffleMapTask.runTask(ShuffleMapTask.scala:54)\r\n\tat org.apache.spark.scheduler.Task.run(Task.scala:130)\r\n\tat org.apache.spark.executor.Executor$TaskRunner.$anonfun$run$3(Executor.scala:473)\r\n\tat org.apache.spark.util.Utils$.tryWithSafeFinally(Utils.scala:1428)\r\n\tat org.apache.spark.executor.Executor$TaskRunner.run(Executor.scala:476)\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\r\n\tat java.lang.Thread.run(Thread.java:745)\r\n\r\nCaused by: com.amazonaws.services.s3.model.AmazonS3Exception: The requested range cannot be satisfied. (Service: Amazon S3; Status Code: 416; Error Code: InvalidRange; Request ID: ), S3 Extended Request ID:\r\n\tat com.amazonaws.http.AmazonHttpClient.handleErrorResponse(AmazonHttpClient.java:1073)\r\n\tat com.amazonaws.http.AmazonHttpClient.executeOneRequest(AmazonHttpClient.java:721)\r\n\tat com.amazonaws.http.AmazonHttpClient.executeHelper(AmazonHttpClient.java:456)\r\n\tat com.amazonaws.http.AmazonHttpClient.execute(AmazonHttpClient.java:295)\r\n\tat com.amazonaws.services.s3.AmazonS3Client.invoke(AmazonS3Client.java:2752)\r\n\tat com.amazonaws.services.s3.AmazonS3Client.getObject(AmazonS3Client.java:815)\r\n\tat org.apache.hadoop.fs.s3a.S3AInputStream.reopen(S3AInputStream.java:91)\r\n\tat org.apache.hadoop.fs.s3a.S3AInputStream.openIfNeeded(S3AInputStream.java:62)\r\n\tat org.apache.hadoop.fs.s3a.S3AInputStream.read(S3AInputStream.java:156)\r\n\tat java.io.DataInputStream.read(DataInputStream.java:149)\r\n\tat org.apache.hadoop.mapreduce.lib.input.UncompressedSplitLineReader.fillBuffer(UncompressedSplitLineReader.java:62)\r\n\tat org.apache.hadoop.util.LineReader.readDefaultLine(LineReader.java:216)\r\n\tat org.apache.hadoop.util.LineReader.readLine(LineReader.java:174)\r\n\tat org.apache.hadoop.mapreduce.lib.input.UncompressedSplitLineReader.readLine(UncompressedSplitLineReader.java:94)\r\n\tat org.apache.hadoop.mapred.LineRecordReader.skipUtfByteOrderMark(LineRecordReader.java:208)\r\n\tat org.apache.hadoop.mapred.LineRecordReader.next(LineRecordReader.java:246)\r\n\tat org.apache.hadoop.mapred.LineRecordReader.next(LineRecordReader.java:48)\r\n\tat org.apache.spark.rdd.HadoopRDD$$anon$1.getNext(HadoopRDD.scala:392)\r\n\t... 16 more\r\n\r\nDriver stacktrace:\r\n\tat org.apache.spark.scheduler.DAGScheduler.failJobAndIndependentStages(DAGScheduler.scala:2737)\r\n\tat org.apache.spark.scheduler.DAGScheduler.$anonfun$abortStage$2(DAGScheduler.scala:2673)\r\n\tat org.apache.spark.scheduler.DAGScheduler.$anonfun$abortStage$2$adapted(DAGScheduler.scala:2672)\r\n\tat scala.collection.mutable.ResizableArray.foreach(ResizableArray.scala:62)\r\n\tat scala.collection.mutable.ResizableArray.foreach$(ResizableArray.scala:55)\r\n\tat scala.collection.mutable.ArrayBuffer.foreach(ArrayBuffer.scala:49)\r\n\tat org.apache.spark.scheduler.DAGScheduler.abortStage(DAGScheduler.scala:2672)\r\n\tat org.apache.spark.scheduler.DAGScheduler.$anonfun$handleTaskSetFailed$1(DAGScheduler.scala:1083)\r\n\tat org.apache.spark.scheduler.DAGScheduler.$anonfun$handleTaskSetFailed$1$adapted(DAGScheduler.scala:1083)\r\n\tat scala.Option.foreach(Option.scala:407)\r\n\tat org.apache.spark.scheduler.DAGScheduler.handleTaskSetFailed(DAGScheduler.scala:1083)\r\n\tat org.apache.spark.scheduler.DAGSchedulerEventProcessLoop.doOnReceive(DAGScheduler.scala:2926)\r\n\tat org.apache.spark.scheduler.DAGSchedulerEventProcessLoop.onReceive(DAGScheduler.scala:2866)\r\n\tat org.apache.spark.scheduler.DAGSchedulerEventProcessLoop.onReceive(DAGScheduler.scala:2855)\r\n\tat org.apache.spark.util.EventLoop$$anon$1.run(EventLoop.scala:49)\r\n\tat org.apache.spark.scheduler.DAGScheduler.runJob(DAGScheduler.scala:861)\r\n\tat org.apache.spark.SparkContext.runJob(SparkContext.scala:2155)\r\n\tat org.apache.spark.sql.execution.datasources.FileFormatWriter$.write(FileFormatWriter.scala:213)\r\n\t... 33 more\r\n\r\nCaused by: java.lang.Exception: The requested range cannot be satisfied. (Service: Amazon S3; Status Code: 416; Error Code: InvalidRange; Request ID: )\r\n\tat org.apache.spark.rdd.HadoopRDD$$anon$1.getNext(HadoopRDD.scala:419)\r\n\tat org.apache.spark.rdd.HadoopRDD$$anon$1.getNext(HadoopRDD.scala:305)\r\n\tat org.apache.spark.util.NextIterator.hasNext(NextIterator.scala:73)\r\n\tat org.apache.spark.InterruptibleIterator.hasNext(InterruptibleIterator.scala:37)\r\n\tat scala.collection.Iterator$$anon$10.hasNext(Iterator.scala:458)\r\n\tat scala.collection.Iterator$$anon$10.hasNext(Iterator.scala:458)\r\n\tat org.apache.spark.shuffle.sort.BypassMergeSortShuffleWriter.write(BypassMergeSortShuffleWriter.java:141)\r\n\tat org.apache.spark.shuffle.ShuffleWriteProcessor.write(ShuffleWriteProcessor.scala:59)\r\n\tat org.apache.spark.scheduler.ShuffleMapTask.runTask(ShuffleMapTask.scala:102)\r\n\tat org.apache.spark.scheduler.ShuffleMapTask.runTask(ShuffleMapTask.scala:54)\r\n\tat org.apache.spark.scheduler.Task.run(Task.scala:130)\r\n\tat org.apache.spark.executor.Executor$TaskRunner.$anonfun$run$3(Executor.scala:473)\r\n\tat org.apache.spark.util.Utils$.tryWithSafeFinally(Utils.scala:1428)\r\n\tat org.apache.spark.executor.Executor$TaskRunner.run(Executor.scala:476)\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\r\n\tat java.lang.Thread.run(Thread.java:745)\r\n\r\nCaused by: com.amazonaws.services.s3.model.AmazonS3Exception: The requested range cannot be satisfied. (Service: Amazon S3; Status Code: 416; Error Code: InvalidRange; Request ID: ), S3 Extended Request ID:\r\n\tat com.amazonaws.http.AmazonHttpClient.handleErrorResponse(AmazonHttpClient.java:1073)\r\n\tat com.amazonaws.http.AmazonHttpClient.executeOneRequest(AmazonHttpClient.java:721)\r\n\tat com.amazonaws.http.AmazonHttpClient.executeHelper(AmazonHttpClient.java:456)\r\n\tat com.amazonaws.http.AmazonHttpClient.execute(AmazonHttpClient.java:295)\r\n\tat com.amazonaws.services.s3.AmazonS3Client.invoke(AmazonS3Client.java:2752)\r\n\tat com.amazonaws.services.s3.AmazonS3Client.getObject(AmazonS3Client.java:815)\r\n\tat org.apache.hadoop.fs.s3a.S3AInputStream.reopen(S3AInputStream.java:91)\r\n\tat org.apache.hadoop.fs.s3a.S3AInputStream.openIfNeeded(S3AInputStream.java:62)\r\n\tat org.apache.hadoop.fs.s3a.S3AInputStream.read(S3AInputStream.java:156)\r\n\tat java.io.DataInputStream.read(DataInputStream.java:149)\r\n\tat org.apache.hadoop.mapreduce.lib.input.UncompressedSplitLineReader.fillBuffer(UncompressedSplitLineReader.java:62)\r\n\tat org.apache.hadoop.util.LineReader.readDefaultLine(LineReader.java:216)\r\n\tat org.apache.hadoop.util.LineReader.readLine(LineReader.java:174)\r\n\tat org.apache.hadoop.mapreduce.lib.input.UncompressedSplitLineReader.readLine(UncompressedSplitLineReader.java:94)\r\n\tat org.apache.hadoop.mapred.LineRecordReader.skipUtfByteOrderMark(LineRecordReader.java:208)\r\n\tat org.apache.hadoop.mapred.LineRecordReader.next(LineRecordReader.java:246)\r\n\tat org.apache.hadoop.mapred.LineRecordReader.next(LineRecordReader.java:48)\r\n\tat org.apache.spark.rdd.HadoopRDD$$anon$1.getNext(HadoopRDD.scala:392)\r\n\t... 16 more\r\n)\r\n```\r\n\r\n---\r\nWhen read an empty csv formatted s3 file, everything works fine.\r\n```java\r\nJavaRDD&lt;Row&gt; javaRDD = sparkSession.read().format(&quot;csv&quot;).option(&quot;enforceSchema&quot;, true).option(&quot;header&quot;, &quot;true&quot;).load(filePath).javaRDD();\r\n```\r\n\r\n---\r\n\r\nWhen I read a non-empty s3 file of any format, everything works fine.","title":"An error is reported when reading an empty s3 file through SparkContext.textFile and using the DataFrameWriter.insertinto method","body":"<p>Read S3 file of txt format</p>\n<pre class=\"lang-java prettyprint-override\"><code>JavaRDD&lt;String&gt; textRdd = sparkContext.textFile(filePath, 3).toJavaRDD().repartition(60);\n</code></pre>\n<p>The filePath is like 's3a://bucket_name/object_name'. BTW, spark can't read s3 file by s3filePath like above when the bucket name contains underscore symbol, i.e. '_', I'm really confused about this.</p>\n<p>Here omit transToRowRdd process, i.e., change JavaRDD&lt; String &gt; to JavaRDD&lt; Row &gt;.</p>\n<hr />\n<p>The write process</p>\n<pre class=\"lang-java prettyprint-override\"><code>Dataset dataset = SparkSession.createDataFrame(rowRDD, fieldSchemas)\n\nDataFrameWriter tableWriter = dataset.write().mode(SaveMode.Overwrite).format(&quot;hive&quot;);\n\ntableWriter.insertInto(fullTableName);\n</code></pre>\n<hr />\n<p>If the s3 file is empty, an error will be reported in the insertinto method.</p>\n<pre><code>23/08/03 19:43:20 INFO Driver ApplicationMaster: Final app status: FAILED, exitCode: 15, (reason: User class threw exception: org.apache.spark.SparkException: Job aborted.\n    at org.apache.spark.sql.execution.datasources.FileFormatWriter$.write(FileFormatWriter.scala:252)\n    at org.apache.spark.sql.hive.execution.SaveAsHiveFile.saveAsHiveFile(SaveAsHiveFile.scala:105)\n    at org.apache.spark.sql.hive.execution.SaveAsHiveFile.saveAsHiveFile$(SaveAsHiveFile.scala:56)\n    at org.apache.spark.sql.hive.execution.InsertIntoHiveTable.saveAsHiveFile(InsertIntoHiveTable.scala:81)\n    at org.apache.spark.sql.hive.execution.InsertIntoHiveTable.processInsert(InsertIntoHiveTable.scala:243)\n    at org.apache.spark.sql.hive.execution.InsertIntoHiveTable.run(InsertIntoHiveTable.scala:140)\n    at org.apache.spark.sql.execution.command.DataWritingCommandExec.sideEffectResult$lzycompute(commands.scala:108)\n    at org.apache.spark.sql.execution.command.DataWritingCommandExec.sideEffectResult(commands.scala:106)\n    at org.apache.spark.sql.execution.command.DataWritingCommandExec.doExecute(commands.scala:131)\n    at org.apache.spark.sql.execution.SparkPlan.$anonfun$execute$1(SparkPlan.scala:175)\n    at org.apache.spark.sql.execution.SparkPlan.$anonfun$executeQuery$1(SparkPlan.scala:213)\n    at org.apache.spark.rdd.RDDOperationScope$.withScope(RDDOperationScope.scala:151)\n    at org.apache.spark.sql.execution.SparkPlan.executeQuery(SparkPlan.scala:210)\n    at org.apache.spark.sql.execution.SparkPlan.execute(SparkPlan.scala:171)\n    at org.apache.spark.sql.execution.QueryExecution.toRdd$lzycompute(QueryExecution.scala:132)\n    at org.apache.spark.sql.execution.QueryExecution.toRdd(QueryExecution.scala:127)\n    at org.apache.spark.sql.DataFrameWriter.$anonfun$runCommand$1(DataFrameWriter.scala:963)\n    at org.apache.spark.sql.execution.SQLExecution$.withNewQueryId(SQLExecution.scala:58)\n    at org.apache.spark.sql.execution.SQLExecution$.$anonfun$withNewExecutionId$5(SQLExecution.scala:125)\n    at org.apache.spark.sql.execution.SQLExecution$.withSQLConfPropagated(SQLExecution.scala:185)\n    at org.apache.spark.sql.execution.SQLExecution$.$anonfun$withNewExecutionId$1(SQLExecution.scala:112)\n    at org.apache.spark.sql.SparkSession.withActive(SparkSession.scala:767)\n    at org.apache.spark.sql.execution.SQLExecution$.withNewExecutionId(SQLExecution.scala:89)\n    at org.apache.spark.sql.DataFrameWriter.runCommand(DataFrameWriter.scala:963)\n    at org.apache.spark.sql.DataFrameWriter.insertInto(DataFrameWriter.scala:519)\n    at org.apache.spark.sql.DataFrameWriter.insertInto(DataFrameWriter.scala:473)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.apache.spark.deploy.yarn.ApplicationMaster$$anon$2.run(ApplicationMaster.scala:750)\n\nCaused by: org.apache.spark.SparkException: Job aborted due to stage failure: Task 0 in stage 0.0 failed 4 times, most recent failure: Lost task 0.3 in stage 0.0 (TID 3, , executor 4): java.lang.Exception: The requested range cannot be satisfied. (Service: Amazon S3; Status Code: 416; Error Code: InvalidRange; Request ID: )\n    at org.apache.spark.rdd.HadoopRDD$$anon$1.getNext(HadoopRDD.scala:419)\n    at org.apache.spark.rdd.HadoopRDD$$anon$1.getNext(HadoopRDD.scala:305)\n    at org.apache.spark.util.NextIterator.hasNext(NextIterator.scala:73)\n    at org.apache.spark.InterruptibleIterator.hasNext(InterruptibleIterator.scala:37)\n    at scala.collection.Iterator$$anon$10.hasNext(Iterator.scala:458)\n    at scala.collection.Iterator$$anon$10.hasNext(Iterator.scala:458)\n    at org.apache.spark.shuffle.sort.BypassMergeSortShuffleWriter.write(BypassMergeSortShuffleWriter.java:141)\n    at org.apache.spark.shuffle.ShuffleWriteProcessor.write(ShuffleWriteProcessor.scala:59)\n    at org.apache.spark.scheduler.ShuffleMapTask.runTask(ShuffleMapTask.scala:102)\n    at org.apache.spark.scheduler.ShuffleMapTask.runTask(ShuffleMapTask.scala:54)\n    at org.apache.spark.scheduler.Task.run(Task.scala:130)\n    at org.apache.spark.executor.Executor$TaskRunner.$anonfun$run$3(Executor.scala:473)\n    at org.apache.spark.util.Utils$.tryWithSafeFinally(Utils.scala:1428)\n    at org.apache.spark.executor.Executor$TaskRunner.run(Executor.scala:476)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\n    at java.lang.Thread.run(Thread.java:745)\n\nCaused by: com.amazonaws.services.s3.model.AmazonS3Exception: The requested range cannot be satisfied. (Service: Amazon S3; Status Code: 416; Error Code: InvalidRange; Request ID: ), S3 Extended Request ID:\n    at com.amazonaws.http.AmazonHttpClient.handleErrorResponse(AmazonHttpClient.java:1073)\n    at com.amazonaws.http.AmazonHttpClient.executeOneRequest(AmazonHttpClient.java:721)\n    at com.amazonaws.http.AmazonHttpClient.executeHelper(AmazonHttpClient.java:456)\n    at com.amazonaws.http.AmazonHttpClient.execute(AmazonHttpClient.java:295)\n    at com.amazonaws.services.s3.AmazonS3Client.invoke(AmazonS3Client.java:2752)\n    at com.amazonaws.services.s3.AmazonS3Client.getObject(AmazonS3Client.java:815)\n    at org.apache.hadoop.fs.s3a.S3AInputStream.reopen(S3AInputStream.java:91)\n    at org.apache.hadoop.fs.s3a.S3AInputStream.openIfNeeded(S3AInputStream.java:62)\n    at org.apache.hadoop.fs.s3a.S3AInputStream.read(S3AInputStream.java:156)\n    at java.io.DataInputStream.read(DataInputStream.java:149)\n    at org.apache.hadoop.mapreduce.lib.input.UncompressedSplitLineReader.fillBuffer(UncompressedSplitLineReader.java:62)\n    at org.apache.hadoop.util.LineReader.readDefaultLine(LineReader.java:216)\n    at org.apache.hadoop.util.LineReader.readLine(LineReader.java:174)\n    at org.apache.hadoop.mapreduce.lib.input.UncompressedSplitLineReader.readLine(UncompressedSplitLineReader.java:94)\n    at org.apache.hadoop.mapred.LineRecordReader.skipUtfByteOrderMark(LineRecordReader.java:208)\n    at org.apache.hadoop.mapred.LineRecordReader.next(LineRecordReader.java:246)\n    at org.apache.hadoop.mapred.LineRecordReader.next(LineRecordReader.java:48)\n    at org.apache.spark.rdd.HadoopRDD$$anon$1.getNext(HadoopRDD.scala:392)\n    ... 16 more\n\nDriver stacktrace:\n    at org.apache.spark.scheduler.DAGScheduler.failJobAndIndependentStages(DAGScheduler.scala:2737)\n    at org.apache.spark.scheduler.DAGScheduler.$anonfun$abortStage$2(DAGScheduler.scala:2673)\n    at org.apache.spark.scheduler.DAGScheduler.$anonfun$abortStage$2$adapted(DAGScheduler.scala:2672)\n    at scala.collection.mutable.ResizableArray.foreach(ResizableArray.scala:62)\n    at scala.collection.mutable.ResizableArray.foreach$(ResizableArray.scala:55)\n    at scala.collection.mutable.ArrayBuffer.foreach(ArrayBuffer.scala:49)\n    at org.apache.spark.scheduler.DAGScheduler.abortStage(DAGScheduler.scala:2672)\n    at org.apache.spark.scheduler.DAGScheduler.$anonfun$handleTaskSetFailed$1(DAGScheduler.scala:1083)\n    at org.apache.spark.scheduler.DAGScheduler.$anonfun$handleTaskSetFailed$1$adapted(DAGScheduler.scala:1083)\n    at scala.Option.foreach(Option.scala:407)\n    at org.apache.spark.scheduler.DAGScheduler.handleTaskSetFailed(DAGScheduler.scala:1083)\n    at org.apache.spark.scheduler.DAGSchedulerEventProcessLoop.doOnReceive(DAGScheduler.scala:2926)\n    at org.apache.spark.scheduler.DAGSchedulerEventProcessLoop.onReceive(DAGScheduler.scala:2866)\n    at org.apache.spark.scheduler.DAGSchedulerEventProcessLoop.onReceive(DAGScheduler.scala:2855)\n    at org.apache.spark.util.EventLoop$$anon$1.run(EventLoop.scala:49)\n    at org.apache.spark.scheduler.DAGScheduler.runJob(DAGScheduler.scala:861)\n    at org.apache.spark.SparkContext.runJob(SparkContext.scala:2155)\n    at org.apache.spark.sql.execution.datasources.FileFormatWriter$.write(FileFormatWriter.scala:213)\n    ... 33 more\n\nCaused by: java.lang.Exception: The requested range cannot be satisfied. (Service: Amazon S3; Status Code: 416; Error Code: InvalidRange; Request ID: )\n    at org.apache.spark.rdd.HadoopRDD$$anon$1.getNext(HadoopRDD.scala:419)\n    at org.apache.spark.rdd.HadoopRDD$$anon$1.getNext(HadoopRDD.scala:305)\n    at org.apache.spark.util.NextIterator.hasNext(NextIterator.scala:73)\n    at org.apache.spark.InterruptibleIterator.hasNext(InterruptibleIterator.scala:37)\n    at scala.collection.Iterator$$anon$10.hasNext(Iterator.scala:458)\n    at scala.collection.Iterator$$anon$10.hasNext(Iterator.scala:458)\n    at org.apache.spark.shuffle.sort.BypassMergeSortShuffleWriter.write(BypassMergeSortShuffleWriter.java:141)\n    at org.apache.spark.shuffle.ShuffleWriteProcessor.write(ShuffleWriteProcessor.scala:59)\n    at org.apache.spark.scheduler.ShuffleMapTask.runTask(ShuffleMapTask.scala:102)\n    at org.apache.spark.scheduler.ShuffleMapTask.runTask(ShuffleMapTask.scala:54)\n    at org.apache.spark.scheduler.Task.run(Task.scala:130)\n    at org.apache.spark.executor.Executor$TaskRunner.$anonfun$run$3(Executor.scala:473)\n    at org.apache.spark.util.Utils$.tryWithSafeFinally(Utils.scala:1428)\n    at org.apache.spark.executor.Executor$TaskRunner.run(Executor.scala:476)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\n    at java.lang.Thread.run(Thread.java:745)\n\nCaused by: com.amazonaws.services.s3.model.AmazonS3Exception: The requested range cannot be satisfied. (Service: Amazon S3; Status Code: 416; Error Code: InvalidRange; Request ID: ), S3 Extended Request ID:\n    at com.amazonaws.http.AmazonHttpClient.handleErrorResponse(AmazonHttpClient.java:1073)\n    at com.amazonaws.http.AmazonHttpClient.executeOneRequest(AmazonHttpClient.java:721)\n    at com.amazonaws.http.AmazonHttpClient.executeHelper(AmazonHttpClient.java:456)\n    at com.amazonaws.http.AmazonHttpClient.execute(AmazonHttpClient.java:295)\n    at com.amazonaws.services.s3.AmazonS3Client.invoke(AmazonS3Client.java:2752)\n    at com.amazonaws.services.s3.AmazonS3Client.getObject(AmazonS3Client.java:815)\n    at org.apache.hadoop.fs.s3a.S3AInputStream.reopen(S3AInputStream.java:91)\n    at org.apache.hadoop.fs.s3a.S3AInputStream.openIfNeeded(S3AInputStream.java:62)\n    at org.apache.hadoop.fs.s3a.S3AInputStream.read(S3AInputStream.java:156)\n    at java.io.DataInputStream.read(DataInputStream.java:149)\n    at org.apache.hadoop.mapreduce.lib.input.UncompressedSplitLineReader.fillBuffer(UncompressedSplitLineReader.java:62)\n    at org.apache.hadoop.util.LineReader.readDefaultLine(LineReader.java:216)\n    at org.apache.hadoop.util.LineReader.readLine(LineReader.java:174)\n    at org.apache.hadoop.mapreduce.lib.input.UncompressedSplitLineReader.readLine(UncompressedSplitLineReader.java:94)\n    at org.apache.hadoop.mapred.LineRecordReader.skipUtfByteOrderMark(LineRecordReader.java:208)\n    at org.apache.hadoop.mapred.LineRecordReader.next(LineRecordReader.java:246)\n    at org.apache.hadoop.mapred.LineRecordReader.next(LineRecordReader.java:48)\n    at org.apache.spark.rdd.HadoopRDD$$anon$1.getNext(HadoopRDD.scala:392)\n    ... 16 more\n)\n</code></pre>\n<hr />\n<p>When read an empty csv formatted s3 file, everything works fine.</p>\n<pre class=\"lang-java prettyprint-override\"><code>JavaRDD&lt;Row&gt; javaRDD = sparkSession.read().format(&quot;csv&quot;).option(&quot;enforceSchema&quot;, true).option(&quot;header&quot;, &quot;true&quot;).load(filePath).javaRDD();\n</code></pre>\n<hr />\n<p>When I read a non-empty s3 file of any format, everything works fine.</p>\n"},{"tags":["java","spring","ldap","spring-ldap","ldapconnection"],"comments":[{"owner":{"account_id":443300,"reputation":15543,"user_id":834424,"accept_rate":91,"display_name":"dbrin"},"score":1,"creation_date":1346173025,"post_id":12163947,"comment_id":16279168,"body_markdown":"do you have the correct password? does it work using a client like JXplorer ?","body":"do you have the correct password? does it work using a client like JXplorer ?"},{"owner":{"account_id":1110538,"reputation":13397,"user_id":1101083,"accept_rate":70,"display_name":"Himanshu Yadav"},"score":0,"creation_date":1346175604,"post_id":12163947,"comment_id":16280243,"body_markdown":"@DmitryB I am able to connect to server with &#39;secret&#39; but not with &#39;somepwd&#39;.","body":"@DmitryB I am able to connect to server with &#39;secret&#39; but not with &#39;somepwd&#39;."},{"owner":{"account_id":1110538,"reputation":13397,"user_id":1101083,"accept_rate":70,"display_name":"Himanshu Yadav"},"score":0,"creation_date":1346178774,"post_id":12163947,"comment_id":16281598,"body_markdown":"Then where and how should I use given input user password? In this case &#39;somepwd&#39;.","body":"Then where and how should I use given input user password? In this case &#39;somepwd&#39;."},{"owner":{"account_id":29217,"reputation":3838,"user_id":78743,"accept_rate":91,"display_name":"jiggy"},"score":0,"creation_date":1346180802,"post_id":12163947,"comment_id":21789878,"body_markdown":"If I&#39;m understanding your question, you want to use [LdapTemplate.authenticate()](http://static.springsource.org/spring-ldap/docs/1.3.x/apidocs/org/springframework/ldap/core/LdapTemplate.html#authenticate%28javax.naming.Name,%20java.lang.String,%20java.lang.String%29). Or is your problem in creating the LDAP context in the first place?","body":"If I&#39;m understanding your question, you want to use <a href=\"http://static.springsource.org/spring-ldap/docs/1.3.x/apidocs/org/springframework/ldap/core/LdapTemplate.html#authenticate%28javax.naming.Name,%20java.lang.String,%20java.lang.String%29\" rel=\"nofollow noreferrer\">LdapTemplate.authenticate()</a>. Or is your problem in creating the LDAP context in the first place?"}],"answers":[{"comments":[{"owner":{"account_id":1110538,"reputation":13397,"user_id":1101083,"accept_rate":70,"display_name":"Himanshu Yadav"},"score":0,"creation_date":1346174321,"post_id":12164266,"comment_id":16279701,"body_markdown":"I can not use UnboundID LDAP SDK due to client&#39;s restrictions. Is any other way to achieve it?","body":"I can not use UnboundID LDAP SDK due to client&#39;s restrictions. Is any other way to achieve it?"},{"owner":{"account_id":3911684,"reputation":2653,"user_id":3236818,"accept_rate":50,"display_name":"tharinduwijewardane"},"score":1,"creation_date":1540182580,"post_id":12164266,"comment_id":92754079,"body_markdown":"For the constructor of SimpleBindRequest you should give the DN. Not the username.","body":"For the constructor of SimpleBindRequest you should give the DN. Not the username."}],"tags":[],"owner":{"account_id":428462,"reputation":11037,"user_id":810802,"display_name":"Terry Gardner"},"comment_count":2,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1346174106,"creation_date":1346174106,"answer_id":12164266,"question_id":12163947,"body_markdown":"An LDAP connection starts off as `anonymous`. To change the authorization state of a connection, use the BIND request. The BIND request takes two forms, &#39;simple&#39; or &#39;SASL&#39;. The &#39;simple&#39; BIND request takes a distinguished name and password. The BIND request should be transmitted over a secure connection, or a non-secure connection promoted to a secure connection using the `StartTLS` extended request.\r\n\r\nUsing the UnboundID LDAP SDK:\r\n\r\n    // exception handling not shown\r\n    LDAPConnection ldapConnection = new LDAPConnection(hostname,port);\r\n    BindRequest bindRequest = new SimpleBindRequest(username,password);\r\n    BindResult bindResult = ldapConnection.bind(bindRequest);\r\n    if(bindResult.getResultCode().equals(ResultCode.SUCCESS)) {\r\n       /// successful authentication\r\n    }\r\n    ldapConnection.close();","title":"LDAP: How to authenticate user with connection details","body":"<p>An LDAP connection starts off as <code>anonymous</code>. To change the authorization state of a connection, use the BIND request. The BIND request takes two forms, 'simple' or 'SASL'. The 'simple' BIND request takes a distinguished name and password. The BIND request should be transmitted over a secure connection, or a non-secure connection promoted to a secure connection using the <code>StartTLS</code> extended request.</p>\n\n<p>Using the UnboundID LDAP SDK:</p>\n\n<pre><code>// exception handling not shown\nLDAPConnection ldapConnection = new LDAPConnection(hostname,port);\nBindRequest bindRequest = new SimpleBindRequest(username,password);\nBindResult bindResult = ldapConnection.bind(bindRequest);\nif(bindResult.getResultCode().equals(ResultCode.SUCCESS)) {\n   /// successful authentication\n}\nldapConnection.close();\n</code></pre>\n"},{"comments":[{"owner":{"account_id":392912,"reputation":852,"user_id":754477,"accept_rate":33,"display_name":"likeToCode"},"score":2,"creation_date":1380027874,"post_id":12165647,"comment_id":28038877,"body_markdown":"this is the best solution I have seen so far, I was specifically looking for authenticating an user after binding to LDAP server.","body":"this is the best solution I have seen so far, I was specifically looking for authenticating an user after binding to LDAP server."},{"owner":{"account_id":540681,"reputation":934,"user_id":908961,"accept_rate":75,"display_name":"bdrx"},"score":0,"creation_date":1424119560,"post_id":12165647,"comment_id":45413088,"body_markdown":"Is this safe to use with connection pooling?","body":"Is this safe to use with connection pooling?"},{"owner":{"account_id":454749,"reputation":595,"user_id":852521,"accept_rate":83,"display_name":"Dave McGinnis"},"score":0,"creation_date":1548262622,"post_id":12165647,"comment_id":95482098,"body_markdown":"This code is great and helped me out a lot. One thing I will mention is that we had to set a base DN to search from, replacing the empty string as the first parameter of ctx.search with our base DN. I suspect nowadays you almost have to do this for any LDAP provider, so just be aware of that when using this code.","body":"This code is great and helped me out a lot. One thing I will mention is that we had to set a base DN to search from, replacing the empty string as the first parameter of ctx.search with our base DN. I suspect nowadays you almost have to do this for any LDAP provider, so just be aware of that when using this code."}],"tags":[],"owner":{"account_id":1345845,"reputation":3244,"user_id":1286621,"accept_rate":80,"display_name":"Mike"},"comment_count":3,"down_vote_count":0,"up_vote_count":24,"is_accepted":true,"score":24,"last_activity_date":1346180118,"creation_date":1346180118,"answer_id":12165647,"question_id":12163947,"body_markdown":"This is a mashup of stuff I found in various places.  It should put you along the correct path if you don&#39;t want to use the UnboundID SDK.  This isn&#39;t production quality, you might want to add the SSL stuff in here if your shop supports it.  \r\n&lt;br&gt;\r\n\r\n    public static Boolean validateLogin(String userName, String userPassword) {\r\n        Hashtable&lt;String, String&gt; env = new Hashtable&lt;String, String&gt;();\r\n\r\n\r\n        env.put(Context.INITIAL_CONTEXT_FACTORY, &quot;com.sun.jndi.ldap.LdapCtxFactory&quot;);\r\n        env.put(Context.PROVIDER_URL, &quot;ldap://&quot; + LDAP_SERVER + &quot;:&quot; + LDAP_SERVER_PORT + &quot;/&quot; + LDAP_BASE_DN);\r\n    \r\n        // To get rid of the PartialResultException when using Active Directory\r\n        env.put(Context.REFERRAL, &quot;follow&quot;);\r\n\r\n        // Needed for the Bind (User Authorized to Query the LDAP server) \r\n        env.put(Context.SECURITY_AUTHENTICATION, &quot;simple&quot;);\r\n        env.put(Context.SECURITY_PRINCIPAL, LDAP_BIND_DN);\r\n        env.put(Context.SECURITY_CREDENTIALS, LDAP_BIND_PASSWORD);\r\n\r\n        DirContext ctx;\r\n        try {\r\n           ctx = new InitialDirContext(env);\r\n        } catch (NamingException e) {\r\n           throw new RuntimeException(e);\r\n        }\r\n\r\n        NamingEnumeration&lt;SearchResult&gt; results = null;\r\n    \r\n        try {\r\n           SearchControls controls = new SearchControls();\r\n           controls.setSearchScope(SearchControls.SUBTREE_SCOPE); // Search Entire Subtree\r\n           controls.setCountLimit(1);   //Sets the maximum number of entries to be returned as a result of the search\r\n           controls.setTimeLimit(5000); // Sets the time limit of these SearchControls in milliseconds\r\n\r\n           String searchString = &quot;(&amp;(objectCategory=user)(sAMAccountName=&quot; + userName + &quot;))&quot;;\r\n\r\n           results = ctx.search(&quot;&quot;, searchString, controls);\r\n\r\n           if (results.hasMore()) {\r\n          \r\n               SearchResult result = (SearchResult) results.next();\r\n               Attributes attrs = result.getAttributes();\r\n               Attribute dnAttr = attrs.get(&quot;distinguishedName&quot;);\r\n               String dn = (String) dnAttr.get();\r\n\r\n               // User Exists, Validate the Password\r\n           \r\n               env.put(Context.SECURITY_PRINCIPAL, dn);\r\n               env.put(Context.SECURITY_CREDENTIALS, userPassword);\r\n\r\n               new InitialDirContext(env); // Exception will be thrown on Invalid case\r\n               return true;\r\n           } \r\n           else \r\n    \t       return false;\r\n       \r\n        } catch (AuthenticationException e) { // Invalid Login\r\n        \r\n     \t    return false;\r\n        } catch (NameNotFoundException e) { // The base context was not found.\r\n       \r\n    \t    return false;\r\n        } catch (SizeLimitExceededException e) {\r\n            throw new RuntimeException(&quot;LDAP Query Limit Exceeded, adjust the query to bring back less records&quot;, e);\r\n        } catch (NamingException e) {\r\n           throw new RuntimeException(e);\r\n        } finally {\r\n    \t\r\n           if (results != null) {\r\n              try { results.close(); } catch (Exception e) { /* Do Nothing */ }\r\n           }\r\n          \r\n           if (ctx != null) {\r\n              try { ctx.close(); } catch (Exception e) { /* Do Nothing */ }\r\n           }\r\n        }\r\n    }\r\n","title":"LDAP: How to authenticate user with connection details","body":"<p>This is a mashup of stuff I found in various places.  It should put you along the correct path if you don't want to use the UnboundID SDK.  This isn't production quality, you might want to add the SSL stuff in here if your shop supports it.<br>\n<br></p>\n\n<pre><code>public static Boolean validateLogin(String userName, String userPassword) {\n    Hashtable&lt;String, String&gt; env = new Hashtable&lt;String, String&gt;();\n\n\n    env.put(Context.INITIAL_CONTEXT_FACTORY, \"com.sun.jndi.ldap.LdapCtxFactory\");\n    env.put(Context.PROVIDER_URL, \"ldap://\" + LDAP_SERVER + \":\" + LDAP_SERVER_PORT + \"/\" + LDAP_BASE_DN);\n\n    // To get rid of the PartialResultException when using Active Directory\n    env.put(Context.REFERRAL, \"follow\");\n\n    // Needed for the Bind (User Authorized to Query the LDAP server) \n    env.put(Context.SECURITY_AUTHENTICATION, \"simple\");\n    env.put(Context.SECURITY_PRINCIPAL, LDAP_BIND_DN);\n    env.put(Context.SECURITY_CREDENTIALS, LDAP_BIND_PASSWORD);\n\n    DirContext ctx;\n    try {\n       ctx = new InitialDirContext(env);\n    } catch (NamingException e) {\n       throw new RuntimeException(e);\n    }\n\n    NamingEnumeration&lt;SearchResult&gt; results = null;\n\n    try {\n       SearchControls controls = new SearchControls();\n       controls.setSearchScope(SearchControls.SUBTREE_SCOPE); // Search Entire Subtree\n       controls.setCountLimit(1);   //Sets the maximum number of entries to be returned as a result of the search\n       controls.setTimeLimit(5000); // Sets the time limit of these SearchControls in milliseconds\n\n       String searchString = \"(&amp;(objectCategory=user)(sAMAccountName=\" + userName + \"))\";\n\n       results = ctx.search(\"\", searchString, controls);\n\n       if (results.hasMore()) {\n\n           SearchResult result = (SearchResult) results.next();\n           Attributes attrs = result.getAttributes();\n           Attribute dnAttr = attrs.get(\"distinguishedName\");\n           String dn = (String) dnAttr.get();\n\n           // User Exists, Validate the Password\n\n           env.put(Context.SECURITY_PRINCIPAL, dn);\n           env.put(Context.SECURITY_CREDENTIALS, userPassword);\n\n           new InitialDirContext(env); // Exception will be thrown on Invalid case\n           return true;\n       } \n       else \n           return false;\n\n    } catch (AuthenticationException e) { // Invalid Login\n\n        return false;\n    } catch (NameNotFoundException e) { // The base context was not found.\n\n        return false;\n    } catch (SizeLimitExceededException e) {\n        throw new RuntimeException(\"LDAP Query Limit Exceeded, adjust the query to bring back less records\", e);\n    } catch (NamingException e) {\n       throw new RuntimeException(e);\n    } finally {\n\n       if (results != null) {\n          try { results.close(); } catch (Exception e) { /* Do Nothing */ }\n       }\n\n       if (ctx != null) {\n          try { ctx.close(); } catch (Exception e) { /* Do Nothing */ }\n       }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":31959,"reputation":10608,"user_id":88122,"accept_rate":0,"display_name":"jwilleke"},"comment_count":0,"down_vote_count":2,"up_vote_count":3,"is_accepted":false,"score":1,"last_activity_date":1691826959,"creation_date":1346322372,"answer_id":12194769,"question_id":12163947,"body_markdown":"[We have several JNDI Samples][1] That might help.\r\n\r\n\r\nThe [BasicJNDISearch.java][2] is about as basic as you can get and uses command line inputs.\r\n\r\n    public BasicJNDISearch(String[] args)\r\n    {\r\n\tsuper();\r\n\r\n\ttry\r\n\t{\r\n\t    BasicJNDISearch.doBasicSearch(args);\r\n\t}\r\n\tcatch (Exception ex)\r\n\t{\r\n\t    ex.printStackTrace();\r\n\t}\r\n    }\r\n\r\n    /**\r\n     * \r\n     * @param stid\r\n     *            String - Standard ID (uid)\r\n     * @throws Exception\r\n     *             -\r\n     */\r\n    public static void doBasicSearch(String[] args) throws Exception\r\n    {\r\n\tSystem.out.println(&quot;Performing LDAP Search with:&quot;);\r\n\tSystem.out.println(&quot;\tldapHostName = &quot; + args[0]);\r\n\tSystem.out.println(&quot;\t    ldapPort = &quot; + args[1]);\r\n\tSystem.out.println(&quot;\t      bindDn = &quot; + args[2]);\r\n\tSystem.out.println(&quot;\t   bindDnPwd = &quot; + args[3]);\r\n\tSystem.out.println(&quot;\t  searchBase = &quot; + args[4]);\r\n\tSystem.out.println(&quot;\t      filter = (&quot; + args[5] + &quot;=&quot; + args[6] + &quot;)&quot;);\r\n\tSystem.out.println(&quot;\t      Scope: = SUBTREE_SCOPE&quot;);\r\n\r\n\tDirContext ctx = getDirContext(args[0], args[1], args[2], args[3]);\r\n\tSearchControls constraints = new SearchControls();\r\n\tconstraints.setSearchScope(SearchControls.SUBTREE_SCOPE);\r\n\t// ignore attribute name case\r\n\t// matchAttrs.put(new BasicAttribute(args[5], args[6]));\r\n\tString filter = &quot;(&quot; + args[5] + &quot;=&quot; + args[6] + &quot;)&quot;;\r\n\t// Search for objects with those matching attributes\r\n\tNamingEnumeration&lt;?&gt; answer = ctx.search(args[4], filter, constraints);\r\n\tformatResults(answer);\r\n\tctx.close();\r\n    }\r\n\r\n\r\n  [1]: https://github.com/jwilleke/Examples-JNDI/tree/master/src/com/willeke/samples\r\n  [2]: https://github.com/jwilleke/Examples-JNDI/blob/master/src/com/willeke/samples/ldap/jndi/BasicJNDISearch.java","title":"LDAP: How to authenticate user with connection details","body":"<p><a href=\"https://github.com/jwilleke/Examples-JNDI/tree/master/src/com/willeke/samples\" rel=\"nofollow noreferrer\">We have several JNDI Samples</a> That might help.</p>\n<p>The <a href=\"https://github.com/jwilleke/Examples-JNDI/blob/master/src/com/willeke/samples/ldap/jndi/BasicJNDISearch.java\" rel=\"nofollow noreferrer\">BasicJNDISearch.java</a> is about as basic as you can get and uses command line inputs.</p>\n<pre><code>public BasicJNDISearch(String[] args)\n{\nsuper();\n\ntry\n{\n    BasicJNDISearch.doBasicSearch(args);\n}\ncatch (Exception ex)\n{\n    ex.printStackTrace();\n}\n}\n\n/**\n * \n * @param stid\n *            String - Standard ID (uid)\n * @throws Exception\n *             -\n */\npublic static void doBasicSearch(String[] args) throws Exception\n{\nSystem.out.println(&quot;Performing LDAP Search with:&quot;);\nSystem.out.println(&quot;    ldapHostName = &quot; + args[0]);\nSystem.out.println(&quot;        ldapPort = &quot; + args[1]);\nSystem.out.println(&quot;          bindDn = &quot; + args[2]);\nSystem.out.println(&quot;       bindDnPwd = &quot; + args[3]);\nSystem.out.println(&quot;      searchBase = &quot; + args[4]);\nSystem.out.println(&quot;          filter = (&quot; + args[5] + &quot;=&quot; + args[6] + &quot;)&quot;);\nSystem.out.println(&quot;          Scope: = SUBTREE_SCOPE&quot;);\n\nDirContext ctx = getDirContext(args[0], args[1], args[2], args[3]);\nSearchControls constraints = new SearchControls();\nconstraints.setSearchScope(SearchControls.SUBTREE_SCOPE);\n// ignore attribute name case\n// matchAttrs.put(new BasicAttribute(args[5], args[6]));\nString filter = &quot;(&quot; + args[5] + &quot;=&quot; + args[6] + &quot;)&quot;;\n// Search for objects with those matching attributes\nNamingEnumeration&lt;?&gt; answer = ctx.search(args[4], filter, constraints);\nformatResults(answer);\nctx.close();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4261595,"reputation":371,"user_id":3485836,"display_name":"Alok"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1536130855,"creation_date":1536130855,"answer_id":52178964,"question_id":12163947,"body_markdown":"Try using this, it worked for me\r\n\r\n    public static Boolean validateLogin(String userName, String userPassword) {\r\n\t    Hashtable&lt;String, String&gt; env = new Hashtable&lt;String, String&gt;();\r\n\r\n\r\n\t    env.put(Context.INITIAL_CONTEXT_FACTORY, &quot;com.sun.jndi.ldap.LdapCtxFactory&quot;);\r\n\t    env.put(Context.PROVIDER_URL, &quot;ldap://&quot; + LDAP_SERVER + &quot;:&quot; + LDAP_SERVER_PORT + &quot;/&quot; + LDAP_BASE_DN);\r\n\t    env.put(Context.SECURITY_AUTHENTICATION, &quot;simple&quot;);\r\n\t    env.put(Context.SECURITY_PRINCIPAL, userName + &quot;@&quot; + LDAP_SERVER);\r\n\t    env.put(Context.SECURITY_CREDENTIALS, userPassword);\r\n\r\n\t    DirContext ctx;\r\n\t    try {\r\n\t       ctx = new InitialDirContext(env); //throw exception, if username-password not correct\r\n\t       return true;\r\n\t    } catch (Exception e) {\r\n\t    \treturn false;\r\n\t    }\r\n\t}\r\n\r\n","title":"LDAP: How to authenticate user with connection details","body":"<p>Try using this, it worked for me</p>\n\n<pre><code>public static Boolean validateLogin(String userName, String userPassword) {\n    Hashtable&lt;String, String&gt; env = new Hashtable&lt;String, String&gt;();\n\n\n    env.put(Context.INITIAL_CONTEXT_FACTORY, \"com.sun.jndi.ldap.LdapCtxFactory\");\n    env.put(Context.PROVIDER_URL, \"ldap://\" + LDAP_SERVER + \":\" + LDAP_SERVER_PORT + \"/\" + LDAP_BASE_DN);\n    env.put(Context.SECURITY_AUTHENTICATION, \"simple\");\n    env.put(Context.SECURITY_PRINCIPAL, userName + \"@\" + LDAP_SERVER);\n    env.put(Context.SECURITY_CREDENTIALS, userPassword);\n\n    DirContext ctx;\n    try {\n       ctx = new InitialDirContext(env); //throw exception, if username-password not correct\n       return true;\n    } catch (Exception e) {\n        return false;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":1110538,"reputation":13397,"user_id":1101083,"accept_rate":70,"display_name":"Himanshu Yadav"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":32455,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"accepted_answer_id":12165647,"answer_count":4,"score":10,"last_activity_date":1691826959,"creation_date":1346172743,"question_id":12163947,"body_markdown":"I am not able to authenticate a user using LDAP. I have got following details:\r\n\r\n    URL=ldap://10.10.10.10:389 \r\n    LDAP BASE:DC=lab2,DC=ins \r\n    LDAP Bind Account: CN=Ldap Bind,OU=Service Accounts,OU=TECH,DC=lab2,DC=ins \r\n    LDAP Bind Account Pw: secret \r\n\r\nI can search a `sAMAccountName` value using above details, but how to authenticate a user with user name and password?&lt;br/&gt;\r\nIf you follow my previous questions then you will understand that, I am successfully able to connect to LDAP server but not able to authenticate him.&lt;br/&gt;\r\nUser to authenticate:\r\n\r\n    user: someusername\r\n    password: somepwd\r\n\r\nI am not able to connect to LDAP server with `&#39;somepwd&#39;` and how should I use `someusername`. I am able to search given user as `sAMAccountName`.","title":"LDAP: How to authenticate user with connection details","body":"<p>I am not able to authenticate a user using LDAP. I have got following details:</p>\n\n<pre><code>URL=ldap://10.10.10.10:389 \nLDAP BASE:DC=lab2,DC=ins \nLDAP Bind Account: CN=Ldap Bind,OU=Service Accounts,OU=TECH,DC=lab2,DC=ins \nLDAP Bind Account Pw: secret \n</code></pre>\n\n<p>I can search a <code>sAMAccountName</code> value using above details, but how to authenticate a user with user name and password?<br/>\nIf you follow my previous questions then you will understand that, I am successfully able to connect to LDAP server but not able to authenticate him.<br/>\nUser to authenticate:</p>\n\n<pre><code>user: someusername\npassword: somepwd\n</code></pre>\n\n<p>I am not able to connect to LDAP server with <code>'somepwd'</code> and how should I use <code>someusername</code>. I am able to search given user as <code>sAMAccountName</code>.</p>\n"},{"tags":["java","android","kotlin","android-multiple-users"],"comments":[{"owner":{"account_id":8114986,"reputation":251,"user_id":6113794,"accept_rate":25,"display_name":"Umar Farooq"},"score":0,"creation_date":1691827071,"post_id":76888247,"comment_id":135546547,"body_markdown":"You should create two activities, one for User and one for Admin. Store your form data in local database.","body":"You should create two activities, one for User and one for Admin. Store your form data in local database."},{"owner":{"account_id":29210556,"reputation":1,"user_id":22378626,"display_name":"TYIT_511_JEET"},"score":0,"creation_date":1691854650,"post_id":76888247,"comment_id":135549222,"body_markdown":"actually when user sends the enrollment request to admin, the admin should accept and then it should store in FireStore. but I only want to know that by which method i can send form data to Admin","body":"actually when user sends the enrollment request to admin, the admin should accept and then it should store in FireStore. but I only want to know that by which method i can send form data to Admin"}],"owner":{"account_id":29210556,"reputation":1,"user_id":22378626,"display_name":"TYIT_511_JEET"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":17,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1691826099,"creation_date":1691826099,"question_id":76888247,"body_markdown":"I created the multiple User app in which there are User and Admin.\r\nSo i want send the User Enrollment request, if user click on Enroll the form should fillup by the user(Name,email,contact). and after submiting the Data which is filled in the form should be sent to the Admin.\r\nAt User Side i have a Activity and At admin side i have a fragment.\r\n\r\n\r\nnote: both(user and admin) are in one app only(multiple user app) with JAVA","title":"Sharing data in multiple User app(User and Admin)","body":"<p>I created the multiple User app in which there are User and Admin.\nSo i want send the User Enrollment request, if user click on Enroll the form should fillup by the user(Name,email,contact). and after submiting the Data which is filled in the form should be sent to the Admin.\nAt User Side i have a Activity and At admin side i have a fragment.</p>\n<p>note: both(user and admin) are in one app only(multiple user app) with JAVA</p>\n"},{"tags":["javascript","java","jsp","servlets"],"comments":[{"owner":{"account_id":10010097,"reputation":987,"user_id":7403180,"accept_rate":57,"display_name":"sForSujit"},"score":1,"creation_date":1503318393,"post_id":45797003,"comment_id":78551724,"body_markdown":"You can show the pre loading div until the data is fetched","body":"You can show the pre loading div until the data is fetched"},{"owner":{"account_id":2894864,"reputation":508,"user_id":2482874,"accept_rate":86,"display_name":"Sarah Aziziyan"},"score":1,"creation_date":1503318502,"post_id":45797003,"comment_id":78551805,"body_markdown":"Possible duplicate of [Display something while servlet loads](https://stackoverflow.com/questions/36303493/display-something-while-servlet-loads)","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/36303493/display-something-while-servlet-loads\">Display something while servlet loads</a>"},{"owner":{"account_id":9791160,"reputation":676,"user_id":7773888,"accept_rate":40,"display_name":"raviraja"},"score":0,"creation_date":1503318638,"post_id":45797003,"comment_id":78551907,"body_markdown":"@Sarah No it&#39;s not a duplicate as there was no specific solution provided in that question,I have already gone through it, if you don&#39;t know the answer stay idle, don&#39;t act like moderator.","body":"@Sarah No it&#39;s not a duplicate as there was no specific solution provided in that question,I have already gone through it, if you don&#39;t know the answer stay idle, don&#39;t act like moderator."},{"owner":{"account_id":9791160,"reputation":676,"user_id":7773888,"accept_rate":40,"display_name":"raviraja"},"score":0,"creation_date":1503318729,"post_id":45797003,"comment_id":78551966,"body_markdown":"@sForSujit some example code would be helpful","body":"@sForSujit some example code would be helpful"},{"owner":{"account_id":1038817,"reputation":89,"user_id":1045330,"accept_rate":100,"display_name":"PanBrambor"},"score":0,"creation_date":1503323901,"post_id":45797003,"comment_id":78555807,"body_markdown":"The simplest solution would be a show a div with &quot;loading&quot; gif as mentioned above.","body":"The simplest solution would be a show a div with &quot;loading&quot; gif as mentioned above."}],"answers":[{"tags":[],"owner":{"account_id":6991584,"reputation":2672,"user_id":5360672,"accept_rate":86,"display_name":"Jonathan Laliberte"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1503351640,"creation_date":1503351640,"answer_id":45805933,"question_id":45797003,"body_markdown":"You have to use AJAX. Servlet requests like the one in your example are synchronous. Which means it will wait until the processing finishes then do the next activity. \r\n\r\nWith an AJAX request you can send the request and then do something else without having to wait for it to finish processing, because it is asynchronous. \r\n\r\nThe way i would approach this is in the following way: \r\n\r\nYou get the user details in ConfirmEvaluate, and redirect the user to userdata, then once the user is on the page do the AJAX request to fetch the information that takes a long time to process. When the request is made you can show a loading icon but when you get a response from the AJAX request, you can hide this loading icon. Check out this brilliant post on how to make [AJAX requests with servlets][1]\r\n\r\n\r\nI had to implement something like this recently, here is some example code:\r\n\r\n\r\n    &lt;script&gt;\r\n    //when page loads, the ajax request starts\r\n    $(document).ready(function() {\r\n    \t$(this).scrollTop(0);\r\n    \tgetposts(username);\r\n    \t});\r\n    \r\n    //ajax request that will show and hide the loader depending on response\r\n     var getposts = function (username) {\r\n    \t var params = {\r\n    \t \t    user: username\t \t  \r\n    \t \t};\r\n    $.get(&quot;../GetUserFeed&quot;,$.param(params),function(responseXml) {     \t\r\n            $(&quot;#user-feed&quot;).append($(responseXml).find(&quot;feed&quot;).html()); // Parse XML, find &lt;data&gt; element and append its HTML to HTML DOM element with ID &quot;somediv&quot;.\r\n    \t\t$(&#39;#logo-loader&#39;).hide();\r\n               if(isBlank(responseXml)){\r\n    \t\t\t$(&#39;#logo-loader-completed&#39;).show();\r\n    \t\t\t$(&#39;#logo-loader-image&#39;).hide();\r\n    \t\t}\r\n    \t});\r\n     };\r\n    \r\n     &lt;/script&gt;\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/4112686/how-to-use-servlets-and-ajax","title":"Loading screen while Servlet loads","body":"<p>You have to use AJAX. Servlet requests like the one in your example are synchronous. Which means it will wait until the processing finishes then do the next activity. </p>\n\n<p>With an AJAX request you can send the request and then do something else without having to wait for it to finish processing, because it is asynchronous. </p>\n\n<p>The way i would approach this is in the following way: </p>\n\n<p>You get the user details in ConfirmEvaluate, and redirect the user to userdata, then once the user is on the page do the AJAX request to fetch the information that takes a long time to process. When the request is made you can show a loading icon but when you get a response from the AJAX request, you can hide this loading icon. Check out this brilliant post on how to make <a href=\"https://stackoverflow.com/questions/4112686/how-to-use-servlets-and-ajax\">AJAX requests with servlets</a></p>\n\n<p>I had to implement something like this recently, here is some example code:</p>\n\n<pre><code>&lt;script&gt;\n//when page loads, the ajax request starts\n$(document).ready(function() {\n    $(this).scrollTop(0);\n    getposts(username);\n    });\n\n//ajax request that will show and hide the loader depending on response\n var getposts = function (username) {\n     var params = {\n            user: username        \n        };\n$.get(\"../GetUserFeed\",$.param(params),function(responseXml) {      \n        $(\"#user-feed\").append($(responseXml).find(\"feed\").html()); // Parse XML, find &lt;data&gt; element and append its HTML to HTML DOM element with ID \"somediv\".\n        $('#logo-loader').hide();\n           if(isBlank(responseXml)){\n            $('#logo-loader-completed').show();\n            $('#logo-loader-image').hide();\n        }\n    });\n };\n\n &lt;/script&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19407465,"reputation":283,"user_id":14192616,"display_name":"Bipul Jaishwal"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1691826075,"creation_date":1691826075,"answer_id":76888245,"question_id":45797003,"body_markdown":"Here is the solution you are looking for. you can use this example to get your issue solved.\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    &lt;script&gt;\r\n    //when page loads, the ajax request starts\r\n    $(document).ready(function() {\r\n        $(this).scrollTop(0);\r\n        getposts(username);\r\n        });\r\n\r\n    //ajax request that will show and hide the loader depending on response\r\n     var getposts = function (username) {\r\n         var params = {\r\n                user: username        \r\n            };\r\n    $.get(&quot;../GetUserFeed&quot;,$.param(params),function(responseXml) {      \r\n            $(&quot;#user-feed&quot;).append($(responseXml).find(&quot;feed&quot;).html()); // Parse XML, find &lt;data&gt; element and append its HTML to HTML DOM element with ID &quot;somediv&quot;.\r\n            $(&#39;#logo-loader&#39;).hide();\r\n               if(isBlank(responseXml)){\r\n                $(&#39;#logo-loader-completed&#39;).show();\r\n                $(&#39;#logo-loader-image&#39;).hide();\r\n            }\r\n        });\r\n     };\r\n\r\n     &lt;/script&gt;\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n","title":"Loading screen while Servlet loads","body":"<p>Here is the solution you are looking for. you can use this example to get your issue solved.</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>&lt;script&gt;\n//when page loads, the ajax request starts\n$(document).ready(function() {\n    $(this).scrollTop(0);\n    getposts(username);\n    });\n\n//ajax request that will show and hide the loader depending on response\n var getposts = function (username) {\n     var params = {\n            user: username        \n        };\n$.get(\"../GetUserFeed\",$.param(params),function(responseXml) {      \n        $(\"#user-feed\").append($(responseXml).find(\"feed\").html()); // Parse XML, find &lt;data&gt; element and append its HTML to HTML DOM element with ID \"somediv\".\n        $('#logo-loader').hide();\n           if(isBlank(responseXml)){\n            $('#logo-loader-completed').show();\n            $('#logo-loader-image').hide();\n        }\n    });\n };\n\n &lt;/script&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}],"owner":{"account_id":9791160,"reputation":676,"user_id":7773888,"accept_rate":40,"display_name":"raviraja"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1463,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1691826075,"creation_date":1503318062,"question_id":45797003,"body_markdown":"I have this JSP where I select certain parameters and hit &quot;**submit**&quot; button, after clicking **&quot;submit&quot;** I am calling a JavaScript function as below\r\n\r\n    &lt;body&gt;\r\n    &lt;input type=button class=&quot;button&quot;  id = &quot;submit&quot; value=&quot;Evaluate&quot; \r\n    onclick=&quot;JavaScript:return evaluateFunction()&quot;&gt;\r\n    &lt;/body&gt;\r\nand in the `evaluateFunction()` I am collecting all the parameters and call a new Servlet in new popup window as below:\r\n\r\n    &lt;script&gt;\r\n    function evaluateFunction(){\r\n    var win = window.open(&#39;ConfirmEvaluate?parameters,&#39;mywindow&#39;,&#39;width=600,height=500,titlebar=no&#39;)\r\n    }\r\n    &lt;/script&gt;\r\n\r\nNow the issue is `ConfirmEvaluate servlet` takes some time to get the data from database(around 15-20 secs based on size of input) and displays the data in the forwarded JSP(say `userdata.jsp`)\r\nNow I want to display a loading gif or screen in that 15-20 seconds while the Servlet loads the data from database.\r\nHow can I proceed, any help would be appreciated.\r\n\r\nI have already gone through some similar questions in SO but none of them is having a specific answer.\r\n\r\n\r\n","title":"Loading screen while Servlet loads","body":"<p>I have this JSP where I select certain parameters and hit \"<strong>submit</strong>\" button, after clicking <strong>\"submit\"</strong> I am calling a JavaScript function as below</p>\n\n<pre><code>&lt;body&gt;\n&lt;input type=button class=\"button\"  id = \"submit\" value=\"Evaluate\" \nonclick=\"JavaScript:return evaluateFunction()\"&gt;\n&lt;/body&gt;\n</code></pre>\n\n<p>and in the <code>evaluateFunction()</code> I am collecting all the parameters and call a new Servlet in new popup window as below:</p>\n\n<pre><code>&lt;script&gt;\nfunction evaluateFunction(){\nvar win = window.open('ConfirmEvaluate?parameters,'mywindow','width=600,height=500,titlebar=no')\n}\n&lt;/script&gt;\n</code></pre>\n\n<p>Now the issue is <code>ConfirmEvaluate servlet</code> takes some time to get the data from database(around 15-20 secs based on size of input) and displays the data in the forwarded JSP(say <code>userdata.jsp</code>)\nNow I want to display a loading gif or screen in that 15-20 seconds while the Servlet loads the data from database.\nHow can I proceed, any help would be appreciated.</p>\n\n<p>I have already gone through some similar questions in SO but none of them is having a specific answer.</p>\n"},{"tags":["java","android","decimalformat","animator"],"answers":[{"tags":[],"owner":{"account_id":10777679,"reputation":123,"user_id":7929094,"display_name":"Pascal"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1611683164,"creation_date":1611683164,"answer_id":65906468,"question_id":65708042,"body_markdown":"You need to actually use the DecimalFormat:\r\n\r\n```\r\nDecimalFormat decim = new DecimalFormat(&quot;#,###&quot;);\r\n//Total no animate\r\nValueAnimator animator = new ValueAnimator();\r\nanimator.setObjectValues(0, Integer.parseInt(total_no));\r\nanimator.addUpdateListener(new ValueAnimator.AnimatorUpdateListener() {\r\n    public void onAnimationUpdate(ValueAnimator animation) {\r\n          tvtotal_no.setText(decim.format(animation.getAnimatedValue()));\r\n    }\r\n});\r\nanimator.setDuration(500);\r\nanimator.start();\r\n```","title":"Format ValueAmimator setText with decimal format Android JAVA","body":"<p>You need to actually use the DecimalFormat:</p>\n<pre><code>DecimalFormat decim = new DecimalFormat(&quot;#,###&quot;);\n//Total no animate\nValueAnimator animator = new ValueAnimator();\nanimator.setObjectValues(0, Integer.parseInt(total_no));\nanimator.addUpdateListener(new ValueAnimator.AnimatorUpdateListener() {\n    public void onAnimationUpdate(ValueAnimator animation) {\n          tvtotal_no.setText(decim.format(animation.getAnimatedValue()));\n    }\n});\nanimator.setDuration(500);\nanimator.start();\n</code></pre>\n"}],"owner":{"account_id":17598124,"reputation":101,"user_id":14307983,"display_name":"hauto3"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":115,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1691825710,"creation_date":1610563571,"question_id":65708042,"body_markdown":"I have a animated setText display. I take the string value from the JSON response and display it with valueAnimator.\r\n\r\n I need to format the final setText in 1000s format (#,###)\r\n\r\ne.g. \r\n\r\ncurrently I get: 50125\r\n\r\nExpected: 50,125\r\n\r\n```\r\n                   DecimalFormat decim = new DecimalFormat(&quot;#,###&quot;);\r\n                    //Total no animate\r\n                    ValueAnimator animator = new ValueAnimator();\r\n                    animator.setObjectValues(0, Integer.parseInt(total_no));\r\n                    animator.addUpdateListener(new ValueAnimator.AnimatorUpdateListener() {\r\n                        public void onAnimationUpdate(ValueAnimator animation) {\r\n                            tvtotal_no.setText(String.valueOf(animation.getAnimatedValue()));\r\n                          //tvtotal_no.setText(decim.format(Integer.parseInt(total_cases)));\r\n                        }\r\n                    });\r\n                    animator.setDuration(500);\r\n                    animator.start();\r\n```","title":"Format ValueAmimator setText with decimal format Android JAVA","body":"<p>I have a animated setText display. I take the string value from the JSON response and display it with valueAnimator.</p>\n<p>I need to format the final setText in 1000s format (#,###)</p>\n<p>e.g.</p>\n<p>currently I get: 50125</p>\n<p>Expected: 50,125</p>\n<pre><code>                   DecimalFormat decim = new DecimalFormat(&quot;#,###&quot;);\n                    //Total no animate\n                    ValueAnimator animator = new ValueAnimator();\n                    animator.setObjectValues(0, Integer.parseInt(total_no));\n                    animator.addUpdateListener(new ValueAnimator.AnimatorUpdateListener() {\n                        public void onAnimationUpdate(ValueAnimator animation) {\n                            tvtotal_no.setText(String.valueOf(animation.getAnimatedValue()));\n                          //tvtotal_no.setText(decim.format(Integer.parseInt(total_cases)));\n                        }\n                    });\n                    animator.setDuration(500);\n                    animator.start();\n</code></pre>\n"},{"tags":["java","javafx"],"comments":[{"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"score":0,"creation_date":1691778497,"post_id":76885894,"comment_id":135542704,"body_markdown":"I typed `Alt + 164` and got &#241; in your sample app. `Windows 11 version 10.0 running on amd64; UTF-8; en_US (nb)`.","body":"I typed <code>Alt + 164</code> and got &#241; in your sample app. <code>Windows 11 version 10.0 running on amd64; UTF-8; en_US (nb)</code>."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":2,"creation_date":1691784043,"post_id":76885894,"comment_id":135543575,"body_markdown":"@SedJ601 Alt-numpad is not the normal way to type non-ASCII characters.  The title specifically mentions dead keys—that is, keystrokes which indicate a pending diacritical which will be applied to the next typed character (usually a letter).  You can see this for yourself by switching your Windows keyboard layout to “US international” or any other layout with dead keys and/or AltGr.","body":"@SedJ601 Alt-numpad is not the normal way to type non-ASCII characters.  The title specifically mentions dead keys—that is, keystrokes which indicate a pending diacritical which will be applied to the next typed character (usually a letter).  You can see this for yourself by switching your Windows keyboard layout to “US international” or any other layout with dead keys and/or AltGr."},{"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"score":0,"creation_date":1691788015,"post_id":76885894,"comment_id":135544042,"body_markdown":"@VGR, thanks for clearing that up for me.","body":"@VGR, thanks for clearing that up for me."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":1,"creation_date":1691788765,"post_id":76885894,"comment_id":135544137,"body_markdown":"What version of JavaFX are you using?  I’ve found that support for native keyboard entry has varied a lot from one version of JavaFX to the other (and from one OS with slightly different sets of updates to another).  Can you try building and running the program with JavaFX 20?","body":"What version of JavaFX are you using?  I’ve found that support for native keyboard entry has varied a lot from one version of JavaFX to the other (and from one OS with slightly different sets of updates to another).  Can you try building and running the program with JavaFX 20?"},{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1691908048,"post_id":76885894,"comment_id":135552762,"body_markdown":"As you state in your edit, it works as expected for some key combinations but not others, it is probably a bug, probably also platform specific.  Or it could just be that JavaFX only supports certain key combinations. You can [file a bug report](https://wiki.openjdk.org/display/OpenJFX/Submitting+a+Bug+Report) or raise it on the openjfx-dev mailing list.","body":"As you state in your edit, it works as expected for some key combinations but not others, it is probably a bug, probably also platform specific.  Or it could just be that JavaFX only supports certain key combinations. You can <a href=\"https://wiki.openjdk.org/display/OpenJFX/Submitting+a+Bug+Report\" rel=\"nofollow noreferrer\">file a bug report</a> or raise it on the openjfx-dev mailing list."}],"answers":[{"tags":[],"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1691797233,"creation_date":1691796074,"answer_id":76887145,"question_id":76885894,"body_markdown":"This is a limited answer for a **Mac with testing using JavaFX 20**, it may not be exactly what you are looking for.  \r\n\r\nAs noted by user VGR in comments, behavior will vary based based on your setup and actions.  For example, any of these can effect what happens:\r\n\r\n * JavaFX version.\r\n * OS type, version and setup.\r\n * Keyboard hardware.\r\n * Your applied text input procedure (sequence of keys typed).\r\n * Installed and applied fonts.\r\n\r\nI tried this on MacOS 13.4.1.  I used a MacBook Pro 2019 internal US keyboard with no special configurations in the OS for alternate input languages. \r\n\r\nWhat I found, is:\r\n\r\n * I type in a JavaFX TextField -&gt; `Option + n`\r\n   * it will display a `~` character.\r\n * I subsequently type another `n`\r\n   * The `~` character will change to a `&#241;` character. \r\n\r\nThe native OS X TextEdit application works the same.\r\n\r\nFor an external windows keyboard attached to the same machine, the `Alt` key is used rather than the non-existent `Option` key.\r\n\r\nTo find out how to do this I followed the [&quot;less common method&quot; for Apple laptops][1].  The &quot;most common method&quot; documented there only worked in the native app, not the JavaFX app. The &quot;most common method&quot; involves &quot;Press and hold the letter “n” key and a small popup will appear&quot;, which doesn&#39;t happen with JavaFX, instead it starts firing the keyboard repeat and writes lots on n characters.\r\n\r\nIt could be that you are using an unexpected key combination for your platform (from the JavaFX perspective), which JavaFX isn&#39;t recognizing.  On another platform, with the correct platform-specific key combination used and recognized by JavaFX, the text input controls are able to correctly process the input and map it to the desired characters (as demoed for certain input sequences outlined in this answer).\r\n\r\n\r\n**Other related info**\r\n\r\n*Key combinations are relayed in `KEY_TYPED` events*\r\n\r\nThere is a (seemingly) related, but not the same, issue which was closed as not an issue: [JDK-8172104 Dead keys are not detected][2], where it indicates that the actual outcome of the key combination comes in a [`KEY_TYPED` event][3] (not a `KEY_PRESSED` event).\r\n\r\nThe related issue is just about correctly filtering keys. If the core platform is able to correctly recognized `KEY_TYPED` strings, then I am not sure why TextField would not use that by default in your case.  I did check the JavaFX source code internally and it seems to me that text input controls function based on `KEY_TYPED` strings.\r\n\r\n*There are [dead keycodes][4]*\r\n\r\nThis means that the JavaFX system and key events can be made aware of [dead keys][5].\r\n\r\nIf you can&#39;t get the default functionality to work as you want, perhaps you could intercept them in a filter, consume the relevant events, store the historic captured key input sequences somewhere, then, if you detect a sequence which should generate something you want, map that sequence to something which does actually generate the required output (such as generating synthetic keypress events based on numerics, which SedJ601 noted in comments seems to work). This seems tricky though, probably should be a better way, so I would only consider such an approach as a last resort.  Alternately, you could raise additional feature requests for the JavaFX development team.\r\n\r\n**Test App**\r\n\r\n    import javafx.application.Application;\r\n    import javafx.scene.Scene;\r\n    import javafx.scene.control.TextField;\r\n    import javafx.stage.Stage;\r\n    \r\n    public class EnyaApp extends Application {\r\n        @Override\r\n        public void start(Stage stage) {\r\n            Scene scene = new Scene(new TextField());\r\n            stage.setScene(scene);\r\n            stage.show();\r\n        }\r\n    }\r\n\r\n \r\n\r\n\r\n  [1]: https://iamaileen.com/how-to-type-enye/#:~:text=%C2%BB%20Apple%20Computer%20or%20Laptop\r\n  [2]: https://bugs.openjdk.org/browse/JDK-8172104\r\n  [3]: https://openjfx.io/javadoc/20/javafx.graphics/javafx/scene/input/KeyEvent.html#KEY_TYPED\r\n  [4]: https://openjfx.io/javadoc/20/javafx.graphics/javafx/scene/input/KeyCode.html#DEAD_TILDE\r\n  [5]: https://en.wikipedia.org/wiki/Dead_key","title":"Using dead keys in JavaFX","body":"<p>This is a limited answer for a <strong>Mac with testing using JavaFX 20</strong>, it may not be exactly what you are looking for.</p>\n<p>As noted by user VGR in comments, behavior will vary based based on your setup and actions.  For example, any of these can effect what happens:</p>\n<ul>\n<li>JavaFX version.</li>\n<li>OS type, version and setup.</li>\n<li>Keyboard hardware.</li>\n<li>Your applied text input procedure (sequence of keys typed).</li>\n<li>Installed and applied fonts.</li>\n</ul>\n<p>I tried this on MacOS 13.4.1.  I used a MacBook Pro 2019 internal US keyboard with no special configurations in the OS for alternate input languages.</p>\n<p>What I found, is:</p>\n<ul>\n<li>I type in a JavaFX TextField -&gt; <code>Option + n</code>\n<ul>\n<li>it will display a <code>~</code> character.</li>\n</ul>\n</li>\n<li>I subsequently type another <code>n</code>\n<ul>\n<li>The <code>~</code> character will change to a <code>ñ</code> character.</li>\n</ul>\n</li>\n</ul>\n<p>The native OS X TextEdit application works the same.</p>\n<p>For an external windows keyboard attached to the same machine, the <code>Alt</code> key is used rather than the non-existent <code>Option</code> key.</p>\n<p>To find out how to do this I followed the <a href=\"https://iamaileen.com/how-to-type-enye/#:%7E:text=%C2%BB%20Apple%20Computer%20or%20Laptop\" rel=\"nofollow noreferrer\">&quot;less common method&quot; for Apple laptops</a>.  The &quot;most common method&quot; documented there only worked in the native app, not the JavaFX app. The &quot;most common method&quot; involves &quot;Press and hold the letter “n” key and a small popup will appear&quot;, which doesn't happen with JavaFX, instead it starts firing the keyboard repeat and writes lots on n characters.</p>\n<p>It could be that you are using an unexpected key combination for your platform (from the JavaFX perspective), which JavaFX isn't recognizing.  On another platform, with the correct platform-specific key combination used and recognized by JavaFX, the text input controls are able to correctly process the input and map it to the desired characters (as demoed for certain input sequences outlined in this answer).</p>\n<p><strong>Other related info</strong></p>\n<p><em>Key combinations are relayed in <code>KEY_TYPED</code> events</em></p>\n<p>There is a (seemingly) related, but not the same, issue which was closed as not an issue: <a href=\"https://bugs.openjdk.org/browse/JDK-8172104\" rel=\"nofollow noreferrer\">JDK-8172104 Dead keys are not detected</a>, where it indicates that the actual outcome of the key combination comes in a <a href=\"https://openjfx.io/javadoc/20/javafx.graphics/javafx/scene/input/KeyEvent.html#KEY_TYPED\" rel=\"nofollow noreferrer\"><code>KEY_TYPED</code> event</a> (not a <code>KEY_PRESSED</code> event).</p>\n<p>The related issue is just about correctly filtering keys. If the core platform is able to correctly recognized <code>KEY_TYPED</code> strings, then I am not sure why TextField would not use that by default in your case.  I did check the JavaFX source code internally and it seems to me that text input controls function based on <code>KEY_TYPED</code> strings.</p>\n<p><em>There are <a href=\"https://openjfx.io/javadoc/20/javafx.graphics/javafx/scene/input/KeyCode.html#DEAD_TILDE\" rel=\"nofollow noreferrer\">dead keycodes</a></em></p>\n<p>This means that the JavaFX system and key events can be made aware of <a href=\"https://en.wikipedia.org/wiki/Dead_key\" rel=\"nofollow noreferrer\">dead keys</a>.</p>\n<p>If you can't get the default functionality to work as you want, perhaps you could intercept them in a filter, consume the relevant events, store the historic captured key input sequences somewhere, then, if you detect a sequence which should generate something you want, map that sequence to something which does actually generate the required output (such as generating synthetic keypress events based on numerics, which SedJ601 noted in comments seems to work). This seems tricky though, probably should be a better way, so I would only consider such an approach as a last resort.  Alternately, you could raise additional feature requests for the JavaFX development team.</p>\n<p><strong>Test App</strong></p>\n<pre><code>import javafx.application.Application;\nimport javafx.scene.Scene;\nimport javafx.scene.control.TextField;\nimport javafx.stage.Stage;\n\npublic class EnyaApp extends Application {\n    @Override\n    public void start(Stage stage) {\n        Scene scene = new Scene(new TextField());\n        stage.setScene(scene);\n        stage.show();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":13733994,"reputation":331,"user_id":9910820,"display_name":"Patrik"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1691824928,"creation_date":1691777712,"question_id":76885894,"body_markdown":"Here is a minimal example.\r\n\r\n```\r\nimport javafx.application.Application;\r\nimport javafx.scene.Scene;\r\nimport javafx.scene.control.TextField;\r\nimport javafx.scene.layout.StackPane;\r\nimport javafx.stage.Stage;\r\n\r\npublic class DeadKeyTextFieldExample extends Application {\r\n    @Override\r\n    public void start(Stage primaryStage) {\r\n        TextField textField = new TextField();\r\n\r\n        StackPane root = new StackPane();\r\n        root.getChildren().add(textField);\r\n\r\n        Scene scene = new Scene(root, 300, 250);\r\n\r\n        primaryStage.setTitle(&quot;Dead Key TextField Example&quot;);\r\n        primaryStage.setScene(scene);\r\n        primaryStage.show();\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        launch(args);\r\n    }\r\n}\r\n```\r\n\r\nOn Windows, the normal way to type a &#241; is AltGr + ~ and n (at least on a Swedish keyboard). But when I do this in the text field the result is ~&#168;n. What can I do to get the expected behaviour?\r\n\r\n\r\nEDIT: I am using JavaFX 20, Windows 10. I might add that other dead key characters work as expected: &#168; + e gives &#235;, ^ + e gives &#234;, but ~ + e gives ~&#235;.","title":"Using dead keys in JavaFX","body":"<p>Here is a minimal example.</p>\n<pre><code>import javafx.application.Application;\nimport javafx.scene.Scene;\nimport javafx.scene.control.TextField;\nimport javafx.scene.layout.StackPane;\nimport javafx.stage.Stage;\n\npublic class DeadKeyTextFieldExample extends Application {\n    @Override\n    public void start(Stage primaryStage) {\n        TextField textField = new TextField();\n\n        StackPane root = new StackPane();\n        root.getChildren().add(textField);\n\n        Scene scene = new Scene(root, 300, 250);\n\n        primaryStage.setTitle(&quot;Dead Key TextField Example&quot;);\n        primaryStage.setScene(scene);\n        primaryStage.show();\n    }\n\n    public static void main(String[] args) {\n        launch(args);\n    }\n}\n</code></pre>\n<p>On Windows, the normal way to type a ñ is AltGr + ~ and n (at least on a Swedish keyboard). But when I do this in the text field the result is ~¨n. What can I do to get the expected behaviour?</p>\n<p>EDIT: I am using JavaFX 20, Windows 10. I might add that other dead key characters work as expected: ¨ + e gives ë, ^ + e gives ê, but ~ + e gives ~ë.</p>\n"},{"tags":["java","spring","exception","telegram","aop"],"comments":[{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1691975970,"post_id":76888182,"comment_id":135558996,"body_markdown":"Welcome to Stack Overflow. Please learn [how to ask a question on SO](https://stackoverflow.com/help/how-to-ask) and provide a [minimal, complete, and verifiable example](https://stackoverflow.com/help/mcve). Thank you.","body":"Welcome to Stack Overflow. Please learn <a href=\"https://stackoverflow.com/help/how-to-ask\">how to ask a question on SO</a> and provide a <a href=\"https://stackoverflow.com/help/mcve\">minimal, complete, and verifiable example</a>. Thank you."},{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1691976143,"post_id":76888182,"comment_id":135559017,"body_markdown":"See, the problem with a bunch of snippets instead of full classes with package names and imports plus a Spring configuration or - even better - a link to a minimal reproducer on GitHub is, that there are so many ways to get Spring AOP wrong: configuration, self-invocation, trying to target something other than a Spring-managed bean, mixing native AspectJ with Spring AOP. The people trying to help you would have to guess.","body":"See, the problem with a bunch of snippets instead of full classes with package names and imports plus a Spring configuration or - even better - a link to a minimal reproducer on GitHub is, that there are so many ways to get Spring AOP wrong: configuration, self-invocation, trying to target something other than a Spring-managed bean, mixing native AspectJ with Spring AOP. The people trying to help you would have to guess."}],"owner":{"account_id":29210476,"reputation":1,"user_id":22378562,"display_name":"wanderer"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":17,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1691824711,"creation_date":1691824711,"question_id":76888182,"body_markdown":"annotation\r\n```\r\n@Target(ElementType.METHOD)\r\n@Retention(RetentionPolicy.RUNTIME)\r\npublic @interface BotExceptionCheck {\r\n\r\n}\r\n```\r\n\r\n\r\n```\r\n@Aspect\r\n@Component\r\npublic class BotExceptionCheckAspect {\r\n    SendMessageProducer sendMessageProducer;\r\n    UserService userService;\r\n\r\n    public BotExceptionCheckAspect(SendMessageProducer sendMessageProducer, UserService userService) {\r\n        this.sendMessageProducer = sendMessageProducer;\r\n        this.userService = userService;\r\n    }\r\n\r\n    @Around(&quot;@annotation(BotExceptionCheck)&quot;)\r\n    public Object handleException(ProceedingJoinPoint joinPoint) throws Throwable {\r\n        Object result = null;\r\n        try {\r\n            result = joinPoint.proceed();\r\n        } catch (BotAuthorizeException ex) {\r\n            var user = userService.findById(ex.getChatId());\r\n            sendMessageProducer.sendMessage(SendMessage.builder()\r\n                    .chatId(user.getChatId())\r\n                    .text(ex.getMessage())\r\n                    .build());\r\n        }\r\n        return result;\r\n    }\r\n}\r\n```\r\n\r\nmethod where throw exception\r\n\r\n```\r\n  @BotExceptionCheck\r\n    public void checkSubscriptionForChannel(ChatMember chatMember) {\r\n        if (chatMember.getStatus().equals(&quot;kicked&quot;) || chatMember.getStatus().equals(&quot;left&quot;)) {\r\n            throw new BotAuthorizeException(String.valueOf(chatMember.getUser().getId()), &quot;&quot;&quot;\r\n                    You don&#39;t subscribe to the channel\r\n                    &quot;&quot;&quot;);\r\n        }\r\n    }\r\n```\r\n\r\nalso i try write exception handler, but it don&#39;t see exception too\r\n\r\n```\r\n@ControllerAdvice\r\n@Slf4j\r\npublic class GlobalExceptionHandler {\r\n    SendMessageProducer sendMessageProducer;\r\n    UserService userService;\r\n\r\n    public GlobalExceptionHandler(SendMessageProducer sendMessageProducer, UserService userService) {\r\n        this.sendMessageProducer = sendMessageProducer;\r\n        this.userService = userService;\r\n    }\r\n\r\n    @ExceptionHandler(BotAuthorizeException.class)\r\n    public void handleBotAuthorizeException(BotAuthorizeException ex){\r\n        var user = userService.findById(ex.getChatId());\r\n        sendMessageProducer.sendMessage(SendMessage.builder()\r\n                .chatId(user.getChatId())\r\n                .text(ex.getMessage())\r\n                .build());\r\n    }\r\n}\r\n```\r\n\r\nEXCEPTION that i get in all of this situation : \r\n2023-08-12 10:15:54.070 ERROR 11228 --- [legram Executor] o.t.t.u.DefaultBotSession                : You don&#39;t subscribe to the channel.\r\n\r\n\r\ncom.moviescreenbot.exceptions.authorize.BotAuthorizeException: You don&#39;t subscribe to the channel.\r\n\r\n\tat com.moviescreenbot.services.user.UserService.checkSubscriptionForChannel(UserService.java:53) ~[main/:na]\r\n\tat com.moviescreenbot.services.user.UserService.authorizeUser(UserService.java:24) ~[main/:na]\r\n\tat com.moviescreenbot.services.user.UserService$$FastClassBySpringCGLIB$$64cf6081.invoke(&lt;generated&gt;) ~[main/:na]\r\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.3.20.jar:5.3.20]\r\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793) ~[spring-aop-5.3.20.jar:5.3.20]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.3.20.jar:5.3.20]\r\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.20.jar:5.3.20]\r\n\tat org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97) ~[spring-aop-5.3.20.jar:5.3.20]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.20.jar:5.3.20]\r\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.20.jar:5.3.20]\r\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708) ~[spring-aop-5.3.20.jar:5.3.20]\r\n\tat com.moviescreenbot.services.user.UserService$$EnhancerBySpringCGLIB$$6ca7934e.authorizeUser(&lt;generated&gt;) ~[main/:na]\r\n\r\n\r\n\r\n\r\nhelp to resolve this problem","title":"aspects, exceptionhandlers don&#39;t catch exception java spring","body":"<p>annotation</p>\n<pre><code>@Target(ElementType.METHOD)\n@Retention(RetentionPolicy.RUNTIME)\npublic @interface BotExceptionCheck {\n\n}\n</code></pre>\n<pre><code>@Aspect\n@Component\npublic class BotExceptionCheckAspect {\n    SendMessageProducer sendMessageProducer;\n    UserService userService;\n\n    public BotExceptionCheckAspect(SendMessageProducer sendMessageProducer, UserService userService) {\n        this.sendMessageProducer = sendMessageProducer;\n        this.userService = userService;\n    }\n\n    @Around(&quot;@annotation(BotExceptionCheck)&quot;)\n    public Object handleException(ProceedingJoinPoint joinPoint) throws Throwable {\n        Object result = null;\n        try {\n            result = joinPoint.proceed();\n        } catch (BotAuthorizeException ex) {\n            var user = userService.findById(ex.getChatId());\n            sendMessageProducer.sendMessage(SendMessage.builder()\n                    .chatId(user.getChatId())\n                    .text(ex.getMessage())\n                    .build());\n        }\n        return result;\n    }\n}\n</code></pre>\n<p>method where throw exception</p>\n<pre><code>  @BotExceptionCheck\n    public void checkSubscriptionForChannel(ChatMember chatMember) {\n        if (chatMember.getStatus().equals(&quot;kicked&quot;) || chatMember.getStatus().equals(&quot;left&quot;)) {\n            throw new BotAuthorizeException(String.valueOf(chatMember.getUser().getId()), &quot;&quot;&quot;\n                    You don't subscribe to the channel\n                    &quot;&quot;&quot;);\n        }\n    }\n</code></pre>\n<p>also i try write exception handler, but it don't see exception too</p>\n<pre><code>@ControllerAdvice\n@Slf4j\npublic class GlobalExceptionHandler {\n    SendMessageProducer sendMessageProducer;\n    UserService userService;\n\n    public GlobalExceptionHandler(SendMessageProducer sendMessageProducer, UserService userService) {\n        this.sendMessageProducer = sendMessageProducer;\n        this.userService = userService;\n    }\n\n    @ExceptionHandler(BotAuthorizeException.class)\n    public void handleBotAuthorizeException(BotAuthorizeException ex){\n        var user = userService.findById(ex.getChatId());\n        sendMessageProducer.sendMessage(SendMessage.builder()\n                .chatId(user.getChatId())\n                .text(ex.getMessage())\n                .build());\n    }\n}\n</code></pre>\n<p>EXCEPTION that i get in all of this situation :\n2023-08-12 10:15:54.070 ERROR 11228 --- [legram Executor] o.t.t.u.DefaultBotSession                : You don't subscribe to the channel.</p>\n<p>com.moviescreenbot.exceptions.authorize.BotAuthorizeException: You don't subscribe to the channel.</p>\n<pre><code>at com.moviescreenbot.services.user.UserService.checkSubscriptionForChannel(UserService.java:53) ~[main/:na]\nat com.moviescreenbot.services.user.UserService.authorizeUser(UserService.java:24) ~[main/:na]\nat com.moviescreenbot.services.user.UserService$$FastClassBySpringCGLIB$$64cf6081.invoke(&lt;generated&gt;) ~[main/:na]\nat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.3.20.jar:5.3.20]\nat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793) ~[spring-aop-5.3.20.jar:5.3.20]\nat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.3.20.jar:5.3.20]\nat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.20.jar:5.3.20]\nat org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97) ~[spring-aop-5.3.20.jar:5.3.20]\nat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.20.jar:5.3.20]\nat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.20.jar:5.3.20]\nat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708) ~[spring-aop-5.3.20.jar:5.3.20]\nat com.moviescreenbot.services.user.UserService$$EnhancerBySpringCGLIB$$6ca7934e.authorizeUser(&lt;generated&gt;) ~[main/:na]\n</code></pre>\n<p>help to resolve this problem</p>\n"},{"tags":["java","spring","spring-boot","thymeleaf"],"comments":[{"owner":{"account_id":14766609,"reputation":4337,"user_id":10664446,"display_name":"stacker"},"score":0,"creation_date":1545824164,"post_id":53931323,"comment_id":94703502,"body_markdown":"can you add a snippet of index template?","body":"can you add a snippet of index template?"},{"owner":{"account_id":6544976,"reputation":1,"user_id":5061254,"display_name":"Simeon"},"score":0,"creation_date":1545824689,"post_id":53931323,"comment_id":94703674,"body_markdown":"&lt;html lang=&quot;en&quot; xmlns=&quot;http://www.w3.org/1999/xhtml&quot;\n      xmlns:th=&quot;http://www.thymeleaf.org&quot;&gt;\n&lt;th:block th:fragment=&quot;navbar&quot;&gt;\n    &lt;th:block\n            th:if=&quot;${#authorization.expression(&#39;isAuthenticated()&#39;) and #authorization.expression(&#39;hasAuthority(&#39;&#39;USER&#39;&#39;)&#39;)}&quot;&gt;\n        &lt;th:block th:replace=&quot;fragments/navbar-user&quot;&gt;&lt;/th:block&gt;\n    &lt;/th:block&gt;\n    &lt;th:block\n            th:if=&quot;${#authorization.expression(&#39;isAuthenticated()&#39;) and #authorization.expression(&#39;hasAuthority(&#39;&#39;ADMIN&#39;&#39;)&#39;)}&quot;&gt;\n        &lt;th:block th:replace=&quot;fragments/navbar-admin&quot;&gt;&lt;/th:block&gt;\n    &lt;/th:block&gt;","body":"&lt;html lang=&quot;en&quot; xmlns=&quot;<a href=\"http://www.w3.org/1999/xhtml\" rel=\"nofollow noreferrer\">w3.org/1999/xhtml</a>&quot;       xmlns:th=&quot;<a href=\"http://www.thymeleaf.org\" rel=\"nofollow noreferrer\">thymeleaf.org</a>&quot;&gt; &lt;th:block th:fragment=&quot;navbar&quot;&gt;     &lt;th:block             th:if=&quot;${#authorization.expression(&#39;isAuthenticated()&#39;) and #authorization.expression(&#39;hasAuthority(&#39;&#39;USER&#39;&#39;)&#39;)}&quot;&gt;         &lt;th:block th:replace=&quot;fragments/navbar-user&quot;&gt;&lt;/th:block&gt;     &lt;/th:block&gt;     &lt;th:block             th:if=&quot;${#authorization.expression(&#39;isAuthenticated()&#39;) and #authorization.expression(&#39;hasAuthority(&#39;&#39;ADMIN&#39;&#39;)&#39;)}&quot;&gt;         &lt;th:block th:replace=&quot;fragments/navbar-admin&quot;&gt;&lt;/th:block&gt;     &lt;/th:block&gt;"},{"owner":{"account_id":14766609,"reputation":4337,"user_id":10664446,"display_name":"stacker"},"score":0,"creation_date":1545824900,"post_id":53931323,"comment_id":94703744,"body_markdown":"can you post it inside the post? and please try to format your text before posting","body":"can you post it inside the post? and please try to format your text before posting"}],"answers":[{"tags":[],"owner":{"account_id":8794729,"reputation":15307,"user_id":6572971,"display_name":"Alien"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1545826275,"creation_date":1545825426,"answer_id":53931793,"question_id":53931323,"body_markdown":"Ensure that you **thymeleaf-extras-springsecurity4** in pom.xml\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.thymeleaf.extras&lt;/groupId&gt;\r\n      &lt;artifactId&gt;thymeleaf-extras-springsecurity4&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n\r\nand **xmlns:sec in the html template** in thymeleaf page.\r\n\r\n    &lt;html xmlns=&quot;http://www.w3.org/1999/xhtml&quot; xmlns:th=&quot;http://www.thymeleaf.org&quot;\r\n      xmlns:sec=&quot;http://www.thymeleaf.org/thymeleaf-extras-springsecurity4&quot;&gt;\r\n\r\n\r\n","title":"Spring Boot Exception evaluating SpringEL expression","body":"<p>Ensure that you <strong>thymeleaf-extras-springsecurity4</strong> in pom.xml</p>\n\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;org.thymeleaf.extras&lt;/groupId&gt;\n  &lt;artifactId&gt;thymeleaf-extras-springsecurity4&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>and <strong>xmlns:sec in the html template</strong> in thymeleaf page.</p>\n\n<pre><code>&lt;html xmlns=\"http://www.w3.org/1999/xhtml\" xmlns:th=\"http://www.thymeleaf.org\"\n  xmlns:sec=\"http://www.thymeleaf.org/thymeleaf-extras-springsecurity4\"&gt;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":6544976,"reputation":1,"user_id":5061254,"display_name":"Simeon"},"score":0,"creation_date":1545830035,"post_id":53932181,"comment_id":94705467,"body_markdown":"how do I get the authorizationObject","body":"how do I get the authorizationObject"},{"owner":{"account_id":6544976,"reputation":1,"user_id":5061254,"display_name":"Simeon"},"score":0,"creation_date":1545833083,"post_id":53932181,"comment_id":94706536,"body_markdown":"It helped I just added interceptor with the Object","body":"It helped I just added interceptor with the Object"}],"tags":[],"owner":{"account_id":4573108,"reputation":1479,"user_id":3712298,"display_name":"sanjeevjha"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1545827592,"creation_date":1545827592,"answer_id":53932181,"question_id":53931323,"body_markdown":"If you pass authorization in model like as below-\r\n\r\n&gt; set parameters on the controller\r\n\r\n    request.setAttribute(&quot;authorization&quot;, authorizationObject);\r\n\r\n&gt; use the same on the fron-end as below\r\n\r\n    &lt;th:block th:if=&quot;${authorization.isAuthenticated() &amp;&amp; authorization.hasAuthority(&#39;USER&#39;)}&quot;&gt;\r\n            &lt;th:block th:replace=&quot;fragments/navbar-user&quot;&gt;&lt;/th:block&gt;\r\n    &lt;/th:block&gt;\r\n\r\nHope it will be helpful, Thanks","title":"Spring Boot Exception evaluating SpringEL expression","body":"<p>If you pass authorization in model like as below-</p>\n\n<blockquote>\n  <p>set parameters on the controller</p>\n</blockquote>\n\n<pre><code>request.setAttribute(\"authorization\", authorizationObject);\n</code></pre>\n\n<blockquote>\n  <p>use the same on the fron-end as below</p>\n</blockquote>\n\n<pre><code>&lt;th:block th:if=\"${authorization.isAuthenticated() &amp;&amp; authorization.hasAuthority('USER')}\"&gt;\n        &lt;th:block th:replace=\"fragments/navbar-user\"&gt;&lt;/th:block&gt;\n&lt;/th:block&gt;\n</code></pre>\n\n<p>Hope it will be helpful, Thanks</p>\n"},{"tags":[],"owner":{"account_id":6544976,"reputation":1,"user_id":5061254,"display_name":"Simeon"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1545833038,"creation_date":1545833038,"answer_id":53933139,"question_id":53931323,"body_markdown":"I added interceptor which on every request sends the Role\r\n\r\n    modelAndView.addObject(&quot;authorization&quot;, SecurityContextHolder.getContext().getAuthentication().getAuthorities().stream().findFirst().get().toString());\r\n\r\nand in the HTML I check with ` &lt;th:block th:if=&quot;${authorization==&#39;USER&#39;}&quot;&gt;\r\n        &lt;th:block th:replace=&quot;fragments/navbar-user&quot;&gt;&lt;/th:block&gt;\r\n    &lt;/th:block&gt;`\r\n\r\nFor now everything works !","title":"Spring Boot Exception evaluating SpringEL expression","body":"<p>I added interceptor which on every request sends the Role</p>\n\n<pre><code>modelAndView.addObject(\"authorization\", SecurityContextHolder.getContext().getAuthentication().getAuthorities().stream().findFirst().get().toString());\n</code></pre>\n\n<p>and in the HTML I check with <code>&lt;th:block th:if=\"${authorization=='USER'}\"&gt;\n        &lt;th:block th:replace=\"fragments/navbar-user\"&gt;&lt;/th:block&gt;\n    &lt;/th:block&gt;</code></p>\n\n<p>For now everything works !</p>\n"}],"owner":{"account_id":6544976,"reputation":1,"user_id":5061254,"display_name":"Simeon"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":9943,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1691823895,"creation_date":1545822988,"question_id":53931323,"body_markdown":"&gt; ERROR 4904 --- [nio-8080-exec-1] org.thymeleaf.TemplateEngine         \r\n&gt; : [THYMELEAF][http-nio-8080-exec-1] Exception processing template\r\n&gt; &quot;index&quot;: An error happened during template parsing (template: &quot;class\r\n&gt; path resource [templates/index.html]&quot;)\r\n&gt; \r\n&gt; org.thymeleaf.exceptions.TemplateInputException: An error happened\r\n&gt; during template parsing (template: &quot;class path resource\r\n&gt; [templates/index.html]&quot;) \tat\r\n&gt; org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parse(AbstractMarkupTemplateParser.java:241)\r\n&gt; ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE] \tat\r\n&gt; org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parseStandalone(AbstractMarkupTemplateParser.java:100)\r\n&gt; ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE] \tat\r\n&gt; org.thymeleaf.engine.TemplateManager.parseAndProcess(TemplateManager.java:666)\r\n&gt; ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE] \tat\r\n&gt; org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1098)\r\n&gt; [thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE] \tat\r\n&gt; org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1072)\r\n&gt; [thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE] \tat\r\n&gt; org.thymeleaf.spring5.view.ThymeleafView.renderFragment(ThymeleafView.java:362)\r\n&gt; [thymeleaf-spring5-3.0.11.RELEASE.jar:3.0.11.RELEASE] \tat\r\n&gt; org.thymeleaf.spring5.view.ThymeleafView.render(ThymeleafView.java:189)\r\n&gt; [thymeleaf-spring5-3.0.11.RELEASE.jar:3.0.11.RELEASE] \tat\r\n&gt; org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1370)\r\n&gt; [spring-webmvc-5.1.3.RELEASE.jar:5.1.3.RELEASE] \tat\r\n&gt; org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1116)\r\n&gt; [spring-webmvc-5.1.3.RELEASE.jar:5.1.3.RELEASE] \tat\r\n&gt; org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1055)\r\n&gt; [spring-webmvc-5.1.3.RELEASE.jar:5.1.3.RELEASE] \tat\r\n&gt; org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:942)\r\n&gt; [spring-webmvc-5.1.3.RELEASE.jar:5.1.3.RELEASE] \tat\r\n&gt; org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1005)\r\n&gt; [spring-webmvc-5.1.3.RELEASE.jar:5.1.3.RELEASE] \tat\r\n&gt; org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:897)\r\n&gt; [spring-webmvc-5.1.3.RELEASE.jar:5.1.3.RELEASE]\r\n\r\n____________________________________________________\r\n\r\n&gt; Caused by: org.attoparser.ParseException: Exception evaluating\r\n&gt; SpringEL expression: &quot;#authorization.expression(&#39;isAuthenticated()&#39;)\r\n&gt; and #authorization.expression(&#39;hasAuthority(&#39;&#39;USER&#39;&#39;)&#39;)&quot; (template:\r\n&gt; &quot;fragments/navbar&quot; - line 8, col 15)\r\n\r\n____________________________________________________\r\nPom.xml\r\n\r\n    &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.thymeleaf.extras&lt;/groupId&gt;\r\n            &lt;artifactId&gt;thymeleaf-extras-springsecurity4&lt;/artifactId&gt;\r\n            &lt;version&gt;3.0.1.RELEASE&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n_________\r\nProblem comes from here when I try to check the authority \r\n\r\n    &lt;html lang=&quot;en&quot; xmlns=&quot;w3.org/1999/xhtml&quot; xmlns:th=&quot;thymeleaf.org&quot;&gt; \r\n    &lt;th:block th:fragment=&quot;navbar&quot;&gt;\r\n        &lt;th:block if:sec:authorize=&quot;isAnonymous()&quot;&gt;\r\n            &lt;th:block th:replace=&quot;fragments/navbar-guest&quot;&gt;&lt;/th:block&gt;\r\n        &lt;/th:block&gt;\r\n        &lt;th:block th:if=&quot;${#authorization.expression(&#39;isAuthenticated()&#39;) and #authorization.expression(&#39;hasAuthority(&#39;&#39;USER&#39;&#39;)&#39;)}&quot;&gt;\r\n            &lt;th:block th:replace=&quot;fragments/navbar-user&quot;&gt;&lt;/th:block&gt;\r\n        &lt;/th:block&gt;\r\n        &lt;th:block th:if=&quot;${#authorization.expression(&#39;isAuthenticated()&#39;) and #authorization.expression(&#39;hasAuthority(&#39;&#39;ADMIN&#39;&#39;)&#39;)}&quot;&gt;\r\n            &lt;th:block th:replace=&quot;fragments/navbar-admin&quot;&gt;&lt;/th:block&gt;\r\n        &lt;/th:block&gt;\r\n        &lt;th:block th:if=&quot;${#authorization.expression(&#39;isAuthenticated()&#39;) and #authorization.expression(&#39;hasAuthority(&#39;&#39;MODERATOR&#39;&#39;)&#39;)}&quot;&gt;\r\n            &lt;th:block th:replace=&quot;fragments/navbar-user&quot;&gt;&lt;/th:block&gt;\r\n        &lt;/th:block&gt;\r\n    &lt;/th:block&gt;\r\n\r\n","title":"Spring Boot Exception evaluating SpringEL expression","body":"<blockquote>\n  <p>ERROR 4904 --- [nio-8080-exec-1] org.thymeleaf.TemplateEngine<br>\n  : [THYMELEAF][http-nio-8080-exec-1] Exception processing template\n  \"index\": An error happened during template parsing (template: \"class\n  path resource [templates/index.html]\")</p>\n  \n  <p>org.thymeleaf.exceptions.TemplateInputException: An error happened\n  during template parsing (template: \"class path resource\n  [templates/index.html]\")  at\n  org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parse(AbstractMarkupTemplateParser.java:241)\n  ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]    at\n  org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parseStandalone(AbstractMarkupTemplateParser.java:100)\n  ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]    at\n  org.thymeleaf.engine.TemplateManager.parseAndProcess(TemplateManager.java:666)\n  ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]    at\n  org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1098)\n  [thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]     at\n  org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1072)\n  [thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]     at\n  org.thymeleaf.spring5.view.ThymeleafView.renderFragment(ThymeleafView.java:362)\n  [thymeleaf-spring5-3.0.11.RELEASE.jar:3.0.11.RELEASE]     at\n  org.thymeleaf.spring5.view.ThymeleafView.render(ThymeleafView.java:189)\n  [thymeleaf-spring5-3.0.11.RELEASE.jar:3.0.11.RELEASE]     at\n  org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1370)\n  [spring-webmvc-5.1.3.RELEASE.jar:5.1.3.RELEASE]   at\n  org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1116)\n  [spring-webmvc-5.1.3.RELEASE.jar:5.1.3.RELEASE]   at\n  org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1055)\n  [spring-webmvc-5.1.3.RELEASE.jar:5.1.3.RELEASE]   at\n  org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:942)\n  [spring-webmvc-5.1.3.RELEASE.jar:5.1.3.RELEASE]   at\n  org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1005)\n  [spring-webmvc-5.1.3.RELEASE.jar:5.1.3.RELEASE]   at\n  org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:897)\n  [spring-webmvc-5.1.3.RELEASE.jar:5.1.3.RELEASE]</p>\n</blockquote>\n\n<hr>\n\n<blockquote>\n  <p>Caused by: org.attoparser.ParseException: Exception evaluating\n  SpringEL expression: \"#authorization.expression('isAuthenticated()')\n  and #authorization.expression('hasAuthority(''USER'')')\" (template:\n  \"fragments/navbar\" - line 8, col 15)</p>\n</blockquote>\n\n<hr>\n\n<p>Pom.xml</p>\n\n<pre><code>&lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.thymeleaf.extras&lt;/groupId&gt;\n        &lt;artifactId&gt;thymeleaf-extras-springsecurity4&lt;/artifactId&gt;\n        &lt;version&gt;3.0.1.RELEASE&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n</code></pre>\n\n<hr>\n\n<p>Problem comes from here when I try to check the authority </p>\n\n<pre><code>&lt;html lang=\"en\" xmlns=\"w3.org/1999/xhtml\" xmlns:th=\"thymeleaf.org\"&gt; \n&lt;th:block th:fragment=\"navbar\"&gt;\n    &lt;th:block if:sec:authorize=\"isAnonymous()\"&gt;\n        &lt;th:block th:replace=\"fragments/navbar-guest\"&gt;&lt;/th:block&gt;\n    &lt;/th:block&gt;\n    &lt;th:block th:if=\"${#authorization.expression('isAuthenticated()') and #authorization.expression('hasAuthority(''USER'')')}\"&gt;\n        &lt;th:block th:replace=\"fragments/navbar-user\"&gt;&lt;/th:block&gt;\n    &lt;/th:block&gt;\n    &lt;th:block th:if=\"${#authorization.expression('isAuthenticated()') and #authorization.expression('hasAuthority(''ADMIN'')')}\"&gt;\n        &lt;th:block th:replace=\"fragments/navbar-admin\"&gt;&lt;/th:block&gt;\n    &lt;/th:block&gt;\n    &lt;th:block th:if=\"${#authorization.expression('isAuthenticated()') and #authorization.expression('hasAuthority(''MODERATOR'')')}\"&gt;\n        &lt;th:block th:replace=\"fragments/navbar-user\"&gt;&lt;/th:block&gt;\n    &lt;/th:block&gt;\n&lt;/th:block&gt;\n</code></pre>\n"},{"tags":["java","spring-boot","okhttp"],"comments":[{"owner":{"account_id":39574,"reputation":24267,"user_id":114226,"accept_rate":79,"display_name":"PeterMmm"},"score":0,"creation_date":1691825033,"post_id":76888084,"comment_id":135546397,"body_markdown":"Maybe this https://stackoverflow.com/questions/40669128/okhttp-unwanted-escaping-of-form-data","body":"Maybe this <a href=\"https://stackoverflow.com/questions/40669128/okhttp-unwanted-escaping-of-form-data\" title=\"okhttp unwanted escaping of form data\">stackoverflow.com/questions/40669128/&hellip;</a>"}],"owner":{"account_id":28189145,"reputation":1,"user_id":21544824,"display_name":"Kalaiselvan K"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":85,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1691822737,"creation_date":1691822594,"question_id":76888084,"body_markdown":"I am using okhttp client to make requests to twitter. When the request body(status param) contains % it getting failed.\r\n\r\nbelow is the code I am using to make a request\r\n\r\n\r\n\r\n```\r\nOkHttpClient client = new OkHttpClient().newBuilder()\r\n\t\t\t\t  .build();\r\n\t\t\t\tMediaType mediaType = MediaType.parse(&quot;application/x-www-form-urlencoded&quot;);\r\n\t\t\t\tRequestBody body = RequestBody.create(mediaType, &quot;status=test % test&amp;media_ids=1690251004548407296&quot;);\r\n\t\t\t\tRequest request = new Request.Builder()\r\n\t\t\t\t  .url(&quot;https://api.twitter.com/1.1/statuses/update.json&quot;)\r\n\t\t\t\t  .method(&quot;POST&quot;, body)\r\n\t\t\t\t  .build();\r\n\t\t\t\tResponse response = client.newCall(request).execute();\r\n```\r\n\r\nWhen i remove the % from the status param it is getting successfull otherwise, I am getting 400 error.\r\n\r\nBut the same has been working with POSTMAN. I have copied the code from postman.\r\nAlso I tried unirest client, it is working without issues in unirest.","title":"Okhttp request fails when the request body contains %","body":"<p>I am using okhttp client to make requests to twitter. When the request body(status param) contains % it getting failed.</p>\n<p>below is the code I am using to make a request</p>\n<pre><code>OkHttpClient client = new OkHttpClient().newBuilder()\n                  .build();\n                MediaType mediaType = MediaType.parse(&quot;application/x-www-form-urlencoded&quot;);\n                RequestBody body = RequestBody.create(mediaType, &quot;status=test % test&amp;media_ids=1690251004548407296&quot;);\n                Request request = new Request.Builder()\n                  .url(&quot;https://api.twitter.com/1.1/statuses/update.json&quot;)\n                  .method(&quot;POST&quot;, body)\n                  .build();\n                Response response = client.newCall(request).execute();\n</code></pre>\n<p>When i remove the % from the status param it is getting successfull otherwise, I am getting 400 error.</p>\n<p>But the same has been working with POSTMAN. I have copied the code from postman.\nAlso I tried unirest client, it is working without issues in unirest.</p>\n"},{"tags":["java","android","listadapter"],"answers":[{"tags":[],"owner":{"account_id":13368336,"reputation":725,"user_id":9647713,"display_name":"Siddharth Shakya"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691813442,"creation_date":1691813442,"answer_id":76887693,"question_id":76886508,"body_markdown":"Use recyclerview instead of ListView","title":"Button throws (android.view.View$OnClickListener)&#39; on a null object reference","body":"<p>Use recyclerview instead of ListView</p>\n"},{"comments":[{"owner":{"account_id":23814062,"reputation":45,"user_id":17822547,"display_name":"Rober"},"score":0,"creation_date":1691850910,"post_id":76888077,"comment_id":135548836,"body_markdown":"Correct, now working, thanks","body":"Correct, now working, thanks"}],"tags":[],"owner":{"account_id":5826843,"reputation":344,"user_id":4592885,"display_name":"Mohammad Fallah"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1691822316,"creation_date":1691822316,"answer_id":76888077,"question_id":76886508,"body_markdown":"You should call `findViewById` from the ViewGroup which your particular view is belong to.\r\n\r\nJust replace these lines:\r\n```java\r\nfinal  EditText updateNote = findViewById(R.id.updateNoteText);\r\nfinal EditText updateNoteContent = findViewById(R.id.updateContentText);\r\n```\r\nto\r\n```Java\r\nfinal  EditText updateNote = updateDialogView.findViewById(R.id.updateNoteText);\r\nfinal EditText updateNoteContent = updateDialogView.findViewById(R.id.updateContentText);\r\n```\r\n\r\n","title":"Button throws (android.view.View$OnClickListener)&#39; on a null object reference","body":"<p>You should call <code>findViewById</code> from the ViewGroup which your particular view is belong to.</p>\n<p>Just replace these lines:</p>\n<pre class=\"lang-java prettyprint-override\"><code>final  EditText updateNote = findViewById(R.id.updateNoteText);\nfinal EditText updateNoteContent = findViewById(R.id.updateContentText);\n</code></pre>\n<p>to</p>\n<pre><code>final  EditText updateNote = updateDialogView.findViewById(R.id.updateNoteText);\nfinal EditText updateNoteContent = updateDialogView.findViewById(R.id.updateContentText);\n</code></pre>\n"}],"owner":{"account_id":23814062,"reputation":45,"user_id":17822547,"display_name":"Rober"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76888077,"answer_count":2,"score":0,"last_activity_date":1691822316,"creation_date":1691785865,"question_id":76886508,"body_markdown":"I need to update date in a ListAdapter , for this i display a `dialog` composed by `2 EditTexts` and `1 Button` , the problem here is that when i click the &quot;update&quot; button in the dialog it throws\r\n\r\n    (android.view.View$OnClickListener)&#39; on a null object reference\r\n\r\nbtw, im using firebase realtime database to save the data.\r\n\r\nStacktrace: \r\n\r\n \r\n\r\n&gt; java.lang.NullPointerException: Attempt to invoke virtual method &#39;void\r\n&gt; android.widget.Button.setOnClickListener(android.view.View$OnClickListener)&#39;\r\n&gt; on a null object reference\r\n&gt;                                                                                                     \tat\r\n&gt; com.example.notasderober.ReadNotes.showUpdateDialog(ReadNotes.java:106)\r\n&gt;                                                                                                     \tat com.example.notasderober.ReadNotes.access$000(ReadNotes.java:33)\r\n&gt;                                                                                                     \tat\r\n&gt; com.example.notasderober.ReadNotes$2.onItemClick(ReadNotes.java:77)\r\n&gt;                                                                                                     \tat android.widget.AdapterView.performItemClick(AdapterView.java:330)\r\n&gt;                                                                                                     \tat android.widget.AbsListView.performItemClick(AbsListView.java:1187)\r\n&gt;                                                                                                     \tat android.widget.AbsListView$PerformClick.run(AbsListView.java:3179)\r\n&gt;                                                                                                     \tat android.widget.AbsListView$3.run(AbsListView.java:4097)\r\n&gt;                                                                                                     \tat android.os.Handler.handleCallback(Handler.java:938)\r\n&gt;                                                                                                     \tat android.os.Handler.dispatchMessage(Handler.java:99)\r\n&gt;                                                                                                     \tat android.os.Looper.loop(Looper.java:223)\r\n&gt;                                                                                                     \tat android.app.ActivityThread.main(ActivityThread.java:7656)\r\n&gt;                                                                                                     \tat java.lang.reflect.Method.invoke(Native Method)\r\n&gt;                                                                                                     \tat\r\n&gt; com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:592)\r\n&gt;                                                                                                     \tat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:947)\r\n\r\n\r\nCODE :\r\n\r\n    package com.example.notasderober;\r\n    \r\n    import androidx.annotation.NonNull;\r\n    import androidx.appcompat.app.AlertDialog;\r\n    import androidx.appcompat.app.AppCompatActivity;\r\n    import androidx.recyclerview.widget.LinearLayoutManager;\r\n    import androidx.recyclerview.widget.RecyclerView;\r\n    \r\n    import android.content.Intent;\r\n    import android.os.Bundle;\r\n    import android.util.Log;\r\n    import android.view.LayoutInflater;\r\n    import android.view.View;\r\n    import android.widget.AdapterView;\r\n    import android.widget.ArrayAdapter;\r\n    import android.widget.Button;\r\n    import android.widget.EditText;\r\n    import android.widget.ListView;\r\n    import android.widget.Toast;\r\n    \r\n    import com.google.firebase.database.DataSnapshot;\r\n    import com.google.firebase.database.DatabaseError;\r\n    import com.google.firebase.database.DatabaseReference;\r\n    import com.google.firebase.database.FirebaseDatabase;\r\n    import com.google.firebase.database.ValueEventListener;\r\n    import com.google.firebase.firestore.auth.User;\r\n    \r\n    import org.checkerframework.checker.units.qual.A;\r\n    \r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    \r\n    public class ReadNotes extends AppCompatActivity {\r\n    \r\n    \r\n       List&lt;Users&gt; notesList;\r\n    \r\n        ListView listView;\r\n        Button updateButton;\r\n         View updateDialogView;\r\n          LayoutInflater inflater;\r\n    \r\n        DatabaseReference studentDbRef;\r\n    \r\n    \r\n    \r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_read_notes);\r\n            listView = findViewById(R.id.listview);\r\n            notesList = new ArrayList&lt;&gt;();\r\n            inflater = getLayoutInflater();    \r\n             updateDialogView = inflater.inflate(R.layout.update_dialog,null);\r\n           updateButton  = updateDialogView.findViewById(R.id.updateNoteButton);\r\n    \r\n            studentDbRef =FirebaseDatabase.getInstance().getReference(&quot;Notas&quot;);\r\n    \r\n            studentDbRef.addValueEventListener(new ValueEventListener() {\r\n                @Override\r\n                public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n                    notesList.clear();\r\n                    for (DataSnapshot studentDatasnap : snapshot.getChildren()){\r\n                        Users notes = studentDatasnap.getValue(Users.class);\r\n                        notesList.add(notes);\r\n                    }\r\n                    ListAdapter adapter = new ListAdapter(ReadNotes.this,notesList);\r\n                    listView.setAdapter(adapter);\r\n                }\r\n    \r\n                @Override\r\n                public void onCancelled(@NonNull DatabaseError error) {\r\n    \r\n                }\r\n            });\r\n    \r\n         listView.setOnItemClickListener(new AdapterView.OnItemClickListener() {\r\n             @Override\r\n             public void onItemClick(AdapterView&lt;?&gt; adapterView, View view, int i, long l) {\r\n                 Users students = notesList.get(i);\r\n                 showUpdateDialog(students.getId(), students.getName());\r\n    \r\n             }\r\n         });\r\n        }\r\n    \r\n    \r\n    \r\n    \r\n    \r\n        //SHOW UPDATE DIALOG\r\n    \r\n        private void showUpdateDialog (final String id, String name) {\r\n    \r\n            Log.d(&quot;updateDialog&quot;,&quot;Dialog update&quot;);\r\n            final AlertDialog.Builder updateDialog = new AlertDialog.Builder(this);\r\n    \r\n    \r\n    \r\n            updateDialog.setView(updateDialogView);\r\n    \r\n           final  EditText updateNote = findViewById(R.id.updateNoteText);\r\n           final EditText updateNoteContent = findViewById(R.id.updateContentText);\r\n    \r\n    \r\n    \r\n            updateDialog.setTitle(&quot;Actualizando : &quot; + name);\r\n            final AlertDialog alertDialog = updateDialog.create();\r\n            alertDialog.show();\r\n    \r\n           updateButton.setOnClickListener(new View.OnClickListener() { // maybe here is the problem\r\n                @Override\r\n                public void onClick(View view) {\r\n    \r\n                    String noteTitle = updateNote.getText().toString();\r\n                    String noteContent = updateNoteContent.getText().toString();\r\n    \r\n                    updateData(id,noteTitle,noteContent);\r\n    \r\n                    Toast.makeText(ReadNotes.this,&quot;Nota actualizada&quot;,Toast.LENGTH_SHORT).show();\r\n    \r\n                }\r\n            });\r\n        }\r\n    \r\n    \r\n    \r\n        //UPDATE DATA IN DATABASE\r\n        private void updateData (String id, String name, String note) {\r\n            DatabaseReference dbRef = FirebaseDatabase.getInstance().getReference(&quot;Notas&quot;).child(id);\r\n            Users noteEx = new Users(id,name,note);\r\n            dbRef.setValue(noteEx);\r\n        }\r\n\r\nXML file:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        tools:context=&quot;.ReadNotes&quot;&gt;\r\n    \r\n        &lt;TextView\r\n            android:id=&quot;@+id/textView5&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:text=&quot;Saved notes&quot;\r\n            android:textSize=&quot;34sp&quot;\r\n            app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n            app:layout_constraintHorizontal_bias=&quot;0.497&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n            app:layout_constraintVertical_bias=&quot;0.023&quot; /&gt;\r\n    \r\n        &lt;ListView\r\n            android:id=&quot;@+id/listview&quot;\r\n            android:layout_width=&quot;409dp&quot;\r\n            android:layout_height=&quot;668dp&quot;\r\n            app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n            app:layout_constraintVertical_bias=&quot;0.968&quot; /&gt;\r\n    \r\n    &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n\r\n\r\nXML dialog file :\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;&gt;\r\n    \r\n        &lt;EditText\r\n            android:id=&quot;@+id/updateNoteText&quot;\r\n            android:layout_width=&quot;289dp&quot;\r\n            android:layout_height=&quot;144dp&quot;\r\n            android:ems=&quot;10&quot;\r\n            android:hint=&quot;Nota&quot;\r\n            android:inputType=&quot;text&quot;\r\n            app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n            app:layout_constraintHorizontal_bias=&quot;0.368&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n            app:layout_constraintVertical_bias=&quot;0.054&quot; /&gt;\r\n    \r\n        &lt;EditText\r\n            android:id=&quot;@+id/updateContentText&quot;\r\n            android:layout_width=&quot;286dp&quot;\r\n            android:layout_height=&quot;127dp&quot;\r\n            android:ems=&quot;10&quot;\r\n            android:hint=&quot;Contenido nota&quot;\r\n            android:inputType=&quot;text&quot;\r\n            app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n            app:layout_constraintHorizontal_bias=&quot;0.381&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n            app:layout_constraintVertical_bias=&quot;0.462&quot; /&gt;\r\n    \r\n        &lt;Button\r\n            android:id=&quot;@+id/updateNoteButton&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:text=&quot;Modificar&quot;\r\n            app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n            app:layout_constraintVertical_bias=&quot;0.976&quot; /&gt;\r\n    &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n\r\n\r\n\r\nI tried checking that the button is correctly declared in the xml file, and also as a constant field, but the error is still there.\r\n","title":"Button throws (android.view.View$OnClickListener)&#39; on a null object reference","body":"<p>I need to update date in a ListAdapter , for this i display a <code>dialog</code> composed by <code>2 EditTexts</code> and <code>1 Button</code> , the problem here is that when i click the &quot;update&quot; button in the dialog it throws</p>\n<pre><code>(android.view.View$OnClickListener)' on a null object reference\n</code></pre>\n<p>btw, im using firebase realtime database to save the data.</p>\n<p>Stacktrace:</p>\n<blockquote>\n<p>java.lang.NullPointerException: Attempt to invoke virtual method 'void\nandroid.widget.Button.setOnClickListener(android.view.View$OnClickListener)'\non a null object reference\nat\ncom.example.notasderober.ReadNotes.showUpdateDialog(ReadNotes.java:106)\nat com.example.notasderober.ReadNotes.access$000(ReadNotes.java:33)\nat\ncom.example.notasderober.ReadNotes$2.onItemClick(ReadNotes.java:77)\nat android.widget.AdapterView.performItemClick(AdapterView.java:330)\nat android.widget.AbsListView.performItemClick(AbsListView.java:1187)\nat android.widget.AbsListView$PerformClick.run(AbsListView.java:3179)\nat android.widget.AbsListView$3.run(AbsListView.java:4097)\nat android.os.Handler.handleCallback(Handler.java:938)\nat android.os.Handler.dispatchMessage(Handler.java:99)\nat android.os.Looper.loop(Looper.java:223)\nat android.app.ActivityThread.main(ActivityThread.java:7656)\nat java.lang.reflect.Method.invoke(Native Method)\nat\ncom.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:592)\nat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:947)</p>\n</blockquote>\n<p>CODE :</p>\n<pre><code>package com.example.notasderober;\n\nimport androidx.annotation.NonNull;\nimport androidx.appcompat.app.AlertDialog;\nimport androidx.appcompat.app.AppCompatActivity;\nimport androidx.recyclerview.widget.LinearLayoutManager;\nimport androidx.recyclerview.widget.RecyclerView;\n\nimport android.content.Intent;\nimport android.os.Bundle;\nimport android.util.Log;\nimport android.view.LayoutInflater;\nimport android.view.View;\nimport android.widget.AdapterView;\nimport android.widget.ArrayAdapter;\nimport android.widget.Button;\nimport android.widget.EditText;\nimport android.widget.ListView;\nimport android.widget.Toast;\n\nimport com.google.firebase.database.DataSnapshot;\nimport com.google.firebase.database.DatabaseError;\nimport com.google.firebase.database.DatabaseReference;\nimport com.google.firebase.database.FirebaseDatabase;\nimport com.google.firebase.database.ValueEventListener;\nimport com.google.firebase.firestore.auth.User;\n\nimport org.checkerframework.checker.units.qual.A;\n\nimport java.util.ArrayList;\nimport java.util.List;\n\npublic class ReadNotes extends AppCompatActivity {\n\n\n   List&lt;Users&gt; notesList;\n\n    ListView listView;\n    Button updateButton;\n     View updateDialogView;\n      LayoutInflater inflater;\n\n    DatabaseReference studentDbRef;\n\n\n\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_read_notes);\n        listView = findViewById(R.id.listview);\n        notesList = new ArrayList&lt;&gt;();\n        inflater = getLayoutInflater();    \n         updateDialogView = inflater.inflate(R.layout.update_dialog,null);\n       updateButton  = updateDialogView.findViewById(R.id.updateNoteButton);\n\n        studentDbRef =FirebaseDatabase.getInstance().getReference(&quot;Notas&quot;);\n\n        studentDbRef.addValueEventListener(new ValueEventListener() {\n            @Override\n            public void onDataChange(@NonNull DataSnapshot snapshot) {\n                notesList.clear();\n                for (DataSnapshot studentDatasnap : snapshot.getChildren()){\n                    Users notes = studentDatasnap.getValue(Users.class);\n                    notesList.add(notes);\n                }\n                ListAdapter adapter = new ListAdapter(ReadNotes.this,notesList);\n                listView.setAdapter(adapter);\n            }\n\n            @Override\n            public void onCancelled(@NonNull DatabaseError error) {\n\n            }\n        });\n\n     listView.setOnItemClickListener(new AdapterView.OnItemClickListener() {\n         @Override\n         public void onItemClick(AdapterView&lt;?&gt; adapterView, View view, int i, long l) {\n             Users students = notesList.get(i);\n             showUpdateDialog(students.getId(), students.getName());\n\n         }\n     });\n    }\n\n\n\n\n\n    //SHOW UPDATE DIALOG\n\n    private void showUpdateDialog (final String id, String name) {\n\n        Log.d(&quot;updateDialog&quot;,&quot;Dialog update&quot;);\n        final AlertDialog.Builder updateDialog = new AlertDialog.Builder(this);\n\n\n\n        updateDialog.setView(updateDialogView);\n\n       final  EditText updateNote = findViewById(R.id.updateNoteText);\n       final EditText updateNoteContent = findViewById(R.id.updateContentText);\n\n\n\n        updateDialog.setTitle(&quot;Actualizando : &quot; + name);\n        final AlertDialog alertDialog = updateDialog.create();\n        alertDialog.show();\n\n       updateButton.setOnClickListener(new View.OnClickListener() { // maybe here is the problem\n            @Override\n            public void onClick(View view) {\n\n                String noteTitle = updateNote.getText().toString();\n                String noteContent = updateNoteContent.getText().toString();\n\n                updateData(id,noteTitle,noteContent);\n\n                Toast.makeText(ReadNotes.this,&quot;Nota actualizada&quot;,Toast.LENGTH_SHORT).show();\n\n            }\n        });\n    }\n\n\n\n    //UPDATE DATA IN DATABASE\n    private void updateData (String id, String name, String note) {\n        DatabaseReference dbRef = FirebaseDatabase.getInstance().getReference(&quot;Notas&quot;).child(id);\n        Users noteEx = new Users(id,name,note);\n        dbRef.setValue(noteEx);\n    }\n</code></pre>\n<p>XML file:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    tools:context=&quot;.ReadNotes&quot;&gt;\n\n    &lt;TextView\n        android:id=&quot;@+id/textView5&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:text=&quot;Saved notes&quot;\n        android:textSize=&quot;34sp&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintHorizontal_bias=&quot;0.497&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\n        app:layout_constraintVertical_bias=&quot;0.023&quot; /&gt;\n\n    &lt;ListView\n        android:id=&quot;@+id/listview&quot;\n        android:layout_width=&quot;409dp&quot;\n        android:layout_height=&quot;668dp&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\n        app:layout_constraintVertical_bias=&quot;0.968&quot; /&gt;\n\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n<p>XML dialog file :</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;&gt;\n\n    &lt;EditText\n        android:id=&quot;@+id/updateNoteText&quot;\n        android:layout_width=&quot;289dp&quot;\n        android:layout_height=&quot;144dp&quot;\n        android:ems=&quot;10&quot;\n        android:hint=&quot;Nota&quot;\n        android:inputType=&quot;text&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintHorizontal_bias=&quot;0.368&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\n        app:layout_constraintVertical_bias=&quot;0.054&quot; /&gt;\n\n    &lt;EditText\n        android:id=&quot;@+id/updateContentText&quot;\n        android:layout_width=&quot;286dp&quot;\n        android:layout_height=&quot;127dp&quot;\n        android:ems=&quot;10&quot;\n        android:hint=&quot;Contenido nota&quot;\n        android:inputType=&quot;text&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintHorizontal_bias=&quot;0.381&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\n        app:layout_constraintVertical_bias=&quot;0.462&quot; /&gt;\n\n    &lt;Button\n        android:id=&quot;@+id/updateNoteButton&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:text=&quot;Modificar&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\n        app:layout_constraintVertical_bias=&quot;0.976&quot; /&gt;\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n<p>I tried checking that the button is correctly declared in the xml file, and also as a constant field, but the error is still there.</p>\n"},{"tags":["java","arrays","compression","zstd"],"answers":[{"tags":[],"owner":{"account_id":23425812,"reputation":14,"user_id":17485310,"display_name":"sadegh"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":true,"score":-1,"last_activity_date":1691821993,"creation_date":1675530208,"answer_id":75346804,"question_id":75346702,"body_markdown":"You should determine the size of the buffer and also determine the index value of the buffer.\r\n```\r\npublic static byte[] compressZstd(byte[] input) throws IOException {\r\n        var compressor = new ZstdCompressor();\r\n        int maxCompressLength = compressor.maxCompressedLength(input.length);\r\n        byte[] compressedBuffer = new byte[maxCompressLength];\r\n        int compressedSize = compressor.compress(input, 0, input.length, compressedBuffer, 0, compressedBuffer.length);\r\n        return Arrays.copyOfRange(compressedBuffer, 0, compressedSize);\r\n    }\r\n\r\n    public static byte[] decompressZstd(byte[] compressed) throws IOException {\r\n        var decompressor = new ZstdDecompressor();\r\n        byte[] decompressedBuffer = new byte[MAX_VALUE_FOR_DECOMPRESSED_BUFFER];\r\n        int decompressedSize = decompressor\r\n                .decompress(compressed, 0, compressed.length, decompressedBuffer, 0, decompressedBuffer.length);\r\n        return Arrays.copyOfRange(decompressedBuffer, 0, decompressedSize);\r\n\r\n    }","title":"How to compress and decompress byte array with zstd algorithm in java","body":"<p>You should determine the size of the buffer and also determine the index value of the buffer.</p>\n<pre><code>public static byte[] compressZstd(byte[] input) throws IOException {\n        var compressor = new ZstdCompressor();\n        int maxCompressLength = compressor.maxCompressedLength(input.length);\n        byte[] compressedBuffer = new byte[maxCompressLength];\n        int compressedSize = compressor.compress(input, 0, input.length, compressedBuffer, 0, compressedBuffer.length);\n        return Arrays.copyOfRange(compressedBuffer, 0, compressedSize);\n    }\n\n    public static byte[] decompressZstd(byte[] compressed) throws IOException {\n        var decompressor = new ZstdDecompressor();\n        byte[] decompressedBuffer = new byte[MAX_VALUE_FOR_DECOMPRESSED_BUFFER];\n        int decompressedSize = decompressor\n                .decompress(compressed, 0, compressed.length, decompressedBuffer, 0, decompressedBuffer.length);\n        return Arrays.copyOfRange(decompressedBuffer, 0, decompressedSize);\n\n    }\n</code></pre>\n"}],"owner":{"account_id":27703444,"reputation":3,"user_id":21147603,"display_name":"pan ta"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":570,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75346804,"answer_count":1,"score":0,"last_activity_date":1691821993,"creation_date":1675529354,"question_id":75346702,"body_markdown":"I&#39;m trying to use ZSTD algorithm to compress and decompress byte array.\r\nI read the ZSTD document that will give more details about implementation, but I can&#39;t still implement sufficient method to compress and decompress byte arrays.\r\nIf anyone can explain to me what I have to do  it would be appreciated. \r\n\r\n```\r\npublic static byte[] compressZstd(byte[] input) throws IOException {\r\n        var compressor = new ZstdCompressor();\r\n        byte[] compressedBuffer = new byte[1024];\r\n        compressor.compress(input, 0, input.length, compressedBuffer, 0, 1024);\r\n        return compressedBuffer;\r\n    }\r\n\r\npublic static byte[] decompressZstd(byte[] input) throws IOException {\r\n        var decompressor = new ZstdDecompressor();\r\n        byte[] decompressedBuffer = new byte[1024];\r\n        decompressor.decompress(input, 0, input.length, decompressedBuffer, 0, 1024);\r\n        return decompressedBuffer;\r\n\r\n    }","title":"How to compress and decompress byte array with zstd algorithm in java","body":"<p>I'm trying to use ZSTD algorithm to compress and decompress byte array.\nI read the ZSTD document that will give more details about implementation, but I can't still implement sufficient method to compress and decompress byte arrays.\nIf anyone can explain to me what I have to do  it would be appreciated.</p>\n<pre><code>public static byte[] compressZstd(byte[] input) throws IOException {\n        var compressor = new ZstdCompressor();\n        byte[] compressedBuffer = new byte[1024];\n        compressor.compress(input, 0, input.length, compressedBuffer, 0, 1024);\n        return compressedBuffer;\n    }\n\npublic static byte[] decompressZstd(byte[] input) throws IOException {\n        var decompressor = new ZstdDecompressor();\n        byte[] decompressedBuffer = new byte[1024];\n        decompressor.decompress(input, 0, input.length, decompressedBuffer, 0, 1024);\n        return decompressedBuffer;\n\n    }\n</code></pre>\n"},{"tags":["java","logging","slf4j","lazy-evaluation","slf4j-api"],"answers":[{"tags":[],"owner":{"account_id":14656252,"reputation":672,"user_id":10869284,"display_name":"sigur"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1586947426,"creation_date":1586946350,"answer_id":61226474,"question_id":61226307,"body_markdown":"If you like to add some condition lines, you could add an if statement to check if the log level is enabled and then log the message.\r\n\r\nLazy loading is preserved but you&#39;re going to get something like:\r\n\r\n    if(log.isDebugEnabled()) {\r\n     log.debug(....);\r\n    }","title":"Simplify lazy logging with SLF4J","body":"<p>If you like to add some condition lines, you could add an if statement to check if the log level is enabled and then log the message.</p>\n\n<p>Lazy loading is preserved but you're going to get something like:</p>\n\n<pre><code>if(log.isDebugEnabled()) {\n log.debug(....);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1586947463,"creation_date":1586947463,"answer_id":61226808,"question_id":61226307,"body_markdown":"Better way to do that:\r\n\r\n```\r\nif (logger.isDebugEnabled()) {\r\n    logger.debug(&quot;Begin proceed aspect Method {} : initiator={} | recepient={} | tx_type={}&quot;,\r\n                 proceedingJoinPoint.getSignature().getName(),\r\n                 request.getAgentAlias(),\r\n                 request.getSubscriberMobile(),\r\n                 request.getTxType());\r\n}\r\n```\r\n\r\nOr:\r\n\r\n```\r\nif (logger.isDebugEnabled()) {\r\n    logger.debug(&quot;Begin proceed aspect Method &quot; + proceedingJoinPoint.getSignature().getName() +\r\n                 &quot; : initiator=&quot; + request.getAgentAlias() +\r\n                 &quot; | recepient=&quot; + request.getSubscriberMobile() +\r\n                 &quot; | tx_type=&quot; + request.getTxType());\r\n}\r\n```\r\n","title":"Simplify lazy logging with SLF4J","body":"<p>Better way to do that:</p>\n\n<pre><code>if (logger.isDebugEnabled()) {\n    logger.debug(\"Begin proceed aspect Method {} : initiator={} | recepient={} | tx_type={}\",\n                 proceedingJoinPoint.getSignature().getName(),\n                 request.getAgentAlias(),\n                 request.getSubscriberMobile(),\n                 request.getTxType());\n}\n</code></pre>\n\n<p>Or:</p>\n\n<pre><code>if (logger.isDebugEnabled()) {\n    logger.debug(\"Begin proceed aspect Method \" + proceedingJoinPoint.getSignature().getName() +\n                 \" : initiator=\" + request.getAgentAlias() +\n                 \" | recepient=\" + request.getSubscriberMobile() +\n                 \" | tx_type=\" + request.getTxType());\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4952989,"reputation":2910,"user_id":3986395,"display_name":"Simas Joneliunas"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1691727389,"creation_date":1691720943,"answer_id":76880360,"question_id":61226307,"body_markdown":"With SLF4J V2, this can also be done through the [fluent API][1], for example: `log.debug(&quot;some expensive evaluation: {}&quot;, () -&gt; doSomethingExpensive())`.\r\n\r\nIf you develop a Spring Boot app and depend on Spring for dependency management, this would mean Spring Boot 3.0 or higher as 2.x are bundled with SLF4J V1.x\r\n\r\n\r\n  [1]: https://www.slf4j.org/manual.html#fluent","title":"Simplify lazy logging with SLF4J","body":"<p>With SLF4J V2, this can also be done through the <a href=\"https://www.slf4j.org/manual.html#fluent\" rel=\"nofollow noreferrer\">fluent API</a>, for example: <code>log.debug(&quot;some expensive evaluation: {}&quot;, () -&gt; doSomethingExpensive())</code>.</p>\n<p>If you develop a Spring Boot app and depend on Spring for dependency management, this would mean Spring Boot 3.0 or higher as 2.x are bundled with SLF4J V1.x</p>\n"},{"tags":[],"owner":{"account_id":13993199,"reputation":129,"user_id":10362945,"display_name":"Sagar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691820619,"creation_date":1691820619,"answer_id":76888003,"question_id":61226307,"body_markdown":"On the lines of [Simas Jonelius&#39;s answer](https://stackoverflow.com/questions/61226307/simplify-lazy-logging-with-slf4j/76880360#76880360) if we do not wish to change any dependencies, we could do lazy evaluation by defining suppliers for each parameter.\r\n```\r\nSupplier&lt;String&gt; initiator = ()-&gt; proceedingJoinPoint.getSignature().getName();\r\nSupplier&lt;String&gt; recepient = ()-&gt; request.getAgentAlias();\r\nSupplier&lt;String&gt; subscriberMobile = ()-&gt; request.getSubscriberMobile();\r\nSupplier&lt;String&gt; tx_type = ()-&gt; request.getTxType(); ;\r\n\r\nlogger.debug(&quot;Begin proceed aspect Method {} : initiator={} | recepient={} | tx_type={}&quot;,\r\n                initiator.get(),\r\n                recepient.get(),\r\n                subscriberMobile.get(),\r\n                tx_type.get());\r\n``` ","title":"Simplify lazy logging with SLF4J","body":"<p>On the lines of <a href=\"https://stackoverflow.com/questions/61226307/simplify-lazy-logging-with-slf4j/76880360#76880360\">Simas Jonelius's answer</a> if we do not wish to change any dependencies, we could do lazy evaluation by defining suppliers for each parameter.</p>\n<pre><code>Supplier&lt;String&gt; initiator = ()-&gt; proceedingJoinPoint.getSignature().getName();\nSupplier&lt;String&gt; recepient = ()-&gt; request.getAgentAlias();\nSupplier&lt;String&gt; subscriberMobile = ()-&gt; request.getSubscriberMobile();\nSupplier&lt;String&gt; tx_type = ()-&gt; request.getTxType(); ;\n\nlogger.debug(&quot;Begin proceed aspect Method {} : initiator={} | recepient={} | tx_type={}&quot;,\n                initiator.get(),\n                recepient.get(),\n                subscriberMobile.get(),\n                tx_type.get());\n</code></pre>\n"}],"owner":{"account_id":3689534,"reputation":43,"user_id":3072473,"display_name":"Didula Egodage"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2731,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":4,"score":3,"last_activity_date":1691820619,"creation_date":1586945738,"question_id":61226307,"body_markdown":"I am using SLF4J with Logback in a Spring Boot application. I was interested in using lazy logging and after some research, I came up with this solution.\r\n\r\nThis works as expected and does not invoke methods if the logging level is not matched.\r\n\r\n    logger.debug(&quot;Begin proceed aspect Method {} : initiator={} | recepient={} | tx_type={}&quot;,\r\n                    new Object() {@Override public String toString() { return proceedingJoinPoint.getSignature().getName(); }},\r\n                    new Object() {@Override public String toString() { return request.getAgentAlias(); }},\r\n                    new Object() {@Override public String toString() { return request.getSubscriberMobile(); }},\r\n                    new Object() {@Override public String toString() { return request.getTxType(); }});\r\nAs you can see, I am creating new Objects and overriding the toString method over and over. I don&#39;t want to do this. Is there a better way to do this? \r\n\r\nI am using the SLF4J 1.7.28 version which came bundled with Spring Boot starter.\r\nPlease note I prefer using the SLF4J over other logging frameworks.\r\n\r\nI tried **slf4j-api 2.0.0-alpha1** version along with **slf4j-simple** binding since it has logger.atDebug.log() implementation. But I couldn&#39;t make it work properly.\r\n\r\nThank you.","title":"Simplify lazy logging with SLF4J","body":"<p>I am using SLF4J with Logback in a Spring Boot application. I was interested in using lazy logging and after some research, I came up with this solution.</p>\n\n<p>This works as expected and does not invoke methods if the logging level is not matched.</p>\n\n<pre><code>logger.debug(\"Begin proceed aspect Method {} : initiator={} | recepient={} | tx_type={}\",\n                new Object() {@Override public String toString() { return proceedingJoinPoint.getSignature().getName(); }},\n                new Object() {@Override public String toString() { return request.getAgentAlias(); }},\n                new Object() {@Override public String toString() { return request.getSubscriberMobile(); }},\n                new Object() {@Override public String toString() { return request.getTxType(); }});\n</code></pre>\n\n<p>As you can see, I am creating new Objects and overriding the toString method over and over. I don't want to do this. Is there a better way to do this? </p>\n\n<p>I am using the SLF4J 1.7.28 version which came bundled with Spring Boot starter.\nPlease note I prefer using the SLF4J over other logging frameworks.</p>\n\n<p>I tried <strong>slf4j-api 2.0.0-alpha1</strong> version along with <strong>slf4j-simple</strong> binding since it has logger.atDebug.log() implementation. But I couldn't make it work properly.</p>\n\n<p>Thank you.</p>\n"},{"tags":["java","kubernetes","java-17","corretto","oom"],"comments":[{"owner":{"account_id":26127214,"reputation":1801,"user_id":19818461,"display_name":"Veera Nagireddy"},"score":0,"creation_date":1691999407,"post_id":76887658,"comment_id":135561267,"body_markdown":"For nodes running Linux Kernel 5.0 or later (ex. Ubuntu 18.04.3) there is a known [issue](https://b.corp.google.com/issues/150815439#comment12) where **kubelet falsely reports pod cgroup OOM as a system OOM**. To verify whether it was a false positive, check the node&#39;s kernel log for &#39;**oom-kill**&#39; messages. If you see &#39;**memcg=/kubepods/**&#39; then it is a standard container OOM and can be disregarded as a system OOM. The [fix](https://github.com/google/cadvisor/pull/2817) is expected to be implemented in K8s 1.21.","body":"For nodes running Linux Kernel 5.0 or later (ex. Ubuntu 18.04.3) there is a known <a href=\"https://b.corp.google.com/issues/150815439#comment12\" rel=\"nofollow noreferrer\">issue</a> where <b>kubelet falsely reports pod cgroup OOM as a system OOM</b>. To verify whether it was a false positive, check the node&#39;s kernel log for &#39;<b>oom-kill</b>&#39; messages. If you see &#39;<b>memcg=/kubepods/</b>&#39; then it is a standard container OOM and can be disregarded as a system OOM. The <a href=\"https://github.com/google/cadvisor/pull/2817\" rel=\"nofollow noreferrer\">fix</a> is expected to be implemented in K8s 1.21."},{"owner":{"account_id":26127214,"reputation":1801,"user_id":19818461,"display_name":"Veera Nagireddy"},"score":0,"creation_date":1692339634,"post_id":76887658,"comment_id":135612180,"body_markdown":"Apart from above comment , please go throught this Article\n\n[Java Container crashes with “Error 137 (out of memory)”](https://blogs.sap.com/2022/10/10/java-container-crashes-with-error-137-out-of-memory/), which may help to resolve your issue.","body":"Apart from above comment , please go throught this Article  <a href=\"https://blogs.sap.com/2022/10/10/java-container-crashes-with-error-137-out-of-memory/\" rel=\"nofollow noreferrer\">Java Container crashes with “Error 137 (out of memory)”</a>, which may help to resolve your issue."}],"answers":[{"comments":[{"owner":{"account_id":3042569,"reputation":21,"user_id":2579189,"display_name":"Musaddique Hossain"},"score":0,"creation_date":1691841861,"post_id":76887969,"comment_id":135547897,"body_markdown":"I am not able to figure out why RSS is increasing if nothing unusual shows up either in native/heap dump. How do I figure what else is hogging process memory?","body":"I am not able to figure out why RSS is increasing if nothing unusual shows up either in native/heap dump. How do I figure what else is hogging process memory?"},{"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"score":0,"creation_date":1691854302,"post_id":76887969,"comment_id":135549188,"body_markdown":"If a memory dump do not reveal more information, consider the JVM to be buggy.","body":"If a memory dump do not reveal more information, consider the JVM to be buggy."}],"tags":[],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691820446,"creation_date":1691820127,"answer_id":76887969,"question_id":76887658,"body_markdown":"Xmx will control the maximum heap size - but that is not the only memory region a JVM manages (see e.g. [here][1] or [here][2]). If memory dumps do not reveal which memory region is growing that much, consider a bug in the JVM itself.\r\n\r\nTo verify, tweak more parameters or switch to another JVM implementation.\r\n\r\n\r\n  [1]: https://www.betsol.com/blog/java-memory-management-for-java-virtual-machine-jvm/\r\n  [2]: https://www.baeldung.com/java-jvm-memory-types","title":"K8S OOM kill JDK17 application with huge RSS size","body":"<p>Xmx will control the maximum heap size - but that is not the only memory region a JVM manages (see e.g. <a href=\"https://www.betsol.com/blog/java-memory-management-for-java-virtual-machine-jvm/\" rel=\"nofollow noreferrer\">here</a> or <a href=\"https://www.baeldung.com/java-jvm-memory-types\" rel=\"nofollow noreferrer\">here</a>). If memory dumps do not reveal which memory region is growing that much, consider a bug in the JVM itself.</p>\n<p>To verify, tweak more parameters or switch to another JVM implementation.</p>\n"}],"owner":{"account_id":3042569,"reputation":21,"user_id":2579189,"display_name":"Musaddique Hossain"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":315,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1691820446,"creation_date":1691812205,"question_id":76887658,"body_markdown":"We are running a JDK17 spring-boot application on our production server with following configuration:\r\n- JDK Vendor : Amazon corretto (17.0.6)\r\n- K8S version : 1.17\r\n- Max pod memory : 5GB\r\n- Min pod memory : 5GB\r\n- Xmx : 2GB\r\n- Xms : 2GB\r\n\r\nThe problem we are running into is that in every 24hr, the application is getting OOM Killed by K8S (exit code 137). Few observations till now:\r\n- There is no leak in heap memory, it&#39;s confired from multiple heap dumps and gc logs as well.\r\n- No leak is observed in native memory as well with native memory dump. The max reserved seen in native memory dump is **3.5GB**. Dump has been taken in periodic intervals, no increase in any non-heap area is observed.\r\n- We have checked that RSS size of the application increases **gradually to 5GB** when the OOM kill happens.\r\n\r\nWe have tried to tweak around XMX/XMS and few other GC parameters (disabling adaptive IHOP and all), but nothing helped till now.\r\nPossibly there is some leak and same is visible in growing RSS, but same is not reflecting on native dump.","title":"K8S OOM kill JDK17 application with huge RSS size","body":"<p>We are running a JDK17 spring-boot application on our production server with following configuration:</p>\n<ul>\n<li>JDK Vendor : Amazon corretto (17.0.6)</li>\n<li>K8S version : 1.17</li>\n<li>Max pod memory : 5GB</li>\n<li>Min pod memory : 5GB</li>\n<li>Xmx : 2GB</li>\n<li>Xms : 2GB</li>\n</ul>\n<p>The problem we are running into is that in every 24hr, the application is getting OOM Killed by K8S (exit code 137). Few observations till now:</p>\n<ul>\n<li>There is no leak in heap memory, it's confired from multiple heap dumps and gc logs as well.</li>\n<li>No leak is observed in native memory as well with native memory dump. The max reserved seen in native memory dump is <strong>3.5GB</strong>. Dump has been taken in periodic intervals, no increase in any non-heap area is observed.</li>\n<li>We have checked that RSS size of the application increases <strong>gradually to 5GB</strong> when the OOM kill happens.</li>\n</ul>\n<p>We have tried to tweak around XMX/XMS and few other GC parameters (disabling adaptive IHOP and all), but nothing helped till now.\nPossibly there is some leak and same is visible in growing RSS, but same is not reflecting on native dump.</p>\n"},{"tags":["java","random"],"comments":[{"owner":{"account_id":21724606,"reputation":722,"user_id":16034206,"display_name":"experiment unit 1998X"},"score":1,"creation_date":1691545819,"post_id":76864080,"comment_id":135505089,"body_markdown":"Also, the issue is when you sort the array on each iteration as you insert values, because each time you sort, the default value of the index is 0, your values are &quot;sorted&quot; to the last indices of the array, with leading 0s, and when your i increases, there are 0s you do not overwrite, but instead overwrite your own values","body":"Also, the issue is when you sort the array on each iteration as you insert values, because each time you sort, the default value of the index is 0, your values are &quot;sorted&quot; to the last indices of the array, with leading 0s, and when your i increases, there are 0s you do not overwrite, but instead overwrite your own values"},{"owner":{"account_id":288696,"reputation":91230,"user_id":589259,"accept_rate":82,"display_name":"Maarten Bodewes"},"score":1,"creation_date":1691545972,"post_id":76864080,"comment_id":135505101,"body_markdown":"You&#39;ll need to learn to debug. One harder issue to find is that the `nextInt` method takes a maximum value that is *exclusive*, i.e. [0..68] if the value is 69. I don&#39;t think you need the shuffle, and you can do the sort after the for loop. Bigger problem is that you probably don&#39;t want to repeat any values; in this case you can simply check if you&#39;ve generated it before... And I&#39;d use a `SortedSet` (`TreeSet`) for that instead of an array.","body":"You&#39;ll need to learn to debug. One harder issue to find is that the <code>nextInt</code> method takes a maximum value that is <i>exclusive</i>, i.e. [0..68] if the value is 69. I don&#39;t think you need the shuffle, and you can do the sort after the for loop. Bigger problem is that you probably don&#39;t want to repeat any values; in this case you can simply check if you&#39;ve generated it before... And I&#39;d use a <code>SortedSet</code> (<code>TreeSet</code>) for that instead of an array."},{"owner":{"account_id":21724606,"reputation":722,"user_id":16034206,"display_name":"experiment unit 1998X"},"score":1,"creation_date":1691546282,"post_id":76864080,"comment_id":135505131,"body_markdown":"The recommended way to generate random numbers w/o repeats on SO is to generate a list of numbers from x to y, Collections.shuffle the list, then you can get/subList as many numbers as you need","body":"The recommended way to generate random numbers w/o repeats on SO is to generate a list of numbers from x to y, Collections.shuffle the list, then you can get/subList as many numbers as you need"},{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":1,"creation_date":1691547363,"post_id":76864080,"comment_id":135505217,"body_markdown":"&quot;Collections.shuffle should take care of any repeating integers&quot; Collections.shuffle has nothing to do with repeating values. It shuffles whatever is in the list. It does not care about the values in any way.","body":"&quot;Collections.shuffle should take care of any repeating integers&quot; Collections.shuffle has nothing to do with repeating values. It shuffles whatever is in the list. It does not care about the values in any way."},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":0,"creation_date":1691571310,"post_id":76864080,"comment_id":135508296,"body_markdown":"check: `new Random().ints(1, 71).distinct().limit(5).toArray()`","body":"check: <code>new Random().ints(1, 71).distinct().limit(5).toArray()</code>"}],"answers":[{"tags":[],"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1691546286,"creation_date":1691546286,"answer_id":76864121,"question_id":76864080,"body_markdown":"Originally you have an array like\r\n\r\n[0,0,0,0,0]\r\n\r\nyou do `numbers[i] = rand.nextInt(69) + 1;`\r\n\r\nand may end up with `\r\n[21,0,0,0,0]`\r\n\r\nthen you do `Arrays.sort(numbers);` \r\n\r\nwhich will change to `[0,0,0,0,21]`\r\n\r\n\r\nnext `[0,12,0,0,21]` -&gt; `[0,0,0,12,21]`\r\n\r\nnext `[0,0,7,12,21]` -&gt; `[0,0,7,12,21]`\r\n\r\n","title":"Why does sorting my array always make the first two index values a zero?","body":"<p>Originally you have an array like</p>\n<p>[0,0,0,0,0]</p>\n<p>you do <code>numbers[i] = rand.nextInt(69) + 1;</code></p>\n<p>and may end up with <code> [21,0,0,0,0]</code></p>\n<p>then you do <code>Arrays.sort(numbers);</code></p>\n<p>which will change to <code>[0,0,0,0,21]</code></p>\n<p>next <code>[0,12,0,0,21]</code> -&gt; <code>[0,0,0,12,21]</code></p>\n<p>next <code>[0,0,7,12,21]</code> -&gt; <code>[0,0,7,12,21]</code></p>\n"},{"tags":[],"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1691546350,"creation_date":1691546350,"answer_id":76864125,"question_id":76864080,"body_markdown":"&gt; `Collections.shuffle(Arrays.asList(numbers));`\r\n\r\nOkay, your `numbers` array is now shuffled. Immediate next line:\r\n\r\n&gt; `Arrays.sort(numbers);`\r\n\r\n... and now it&#39;s sorted again. There was no point whatsoever in shuffling first if you&#39;re going to sort right after. It seems clear you misunderstand what these calls do or how your algorithm works, but exactly how you misunderstand these things isn&#39;t clear from your question.\r\n\r\n## Why do I get two zeroes?\r\n\r\nBecause that&#39;s exactly what your algorithm does. The computer just does what you tell it to.\r\n\r\nLet&#39;s go through an example:\r\n\r\n1. You start with a new 5-sized array; `[0, 0, 0, 0, 0]`.\r\n2. loop 5 times.\r\n3. (loop1) Set the 0-index to a random number: `[50, 0, 0, 0, 0]`.\r\n4. (loop1) Shuffle the list. Irrelevant, we&#39;ll sort it afterwards.\r\n5. (loop1) sort it: `[0, 0, 0, 0, 50]`.\r\n6. (loop1) print the 0-index number. __This is always 0__.\r\n7. (loop2) Set the 1-index to a random number: `[0, 45, 0, 0, 50]`.\r\n8. (loop2) Shuffle the list. Irrelevant, we&#39;ll sort it afterwards.\r\n9. (loop2) sort it: `[0, 0, 0, 45, 50]`.\r\n10. (loop2) print the 1-index number. __This is always 0__.\r\n11. (loop3) Set the 2-index to a random number: `[0, 0, 47, 45, 50]`.\r\n12. (loop3) Shuffle the list. Irrelevant, we&#39;ll sort it afterwards.\r\n13. (loop3) sort it: `[0, 0, 45, 47, 50]`.\r\n14. (loop3) print the 2-index number. This prints &#39;45&#39;.\r\n\r\nAnd so on.\r\n\r\nIt seems rather likely that you don&#39;t want to shuffle __and__ you don&#39;t want to sort.\r\n\r\nYou want to just fill each slot with a random number and that is all.\r\n\r\nIf you want the 5 numbers to be sorted - just sort once, afterwards. If you want to print the numbers in sorted order, first fill the entire array and print nothing - then sort it, then loop through to print it, then add the 1-25 number as final step and print that.\r\n\r\n","title":"Why does sorting my array always make the first two index values a zero?","body":"<blockquote>\n<p><code>Collections.shuffle(Arrays.asList(numbers));</code></p>\n</blockquote>\n<p>Okay, your <code>numbers</code> array is now shuffled. Immediate next line:</p>\n<blockquote>\n<p><code>Arrays.sort(numbers);</code></p>\n</blockquote>\n<p>... and now it's sorted again. There was no point whatsoever in shuffling first if you're going to sort right after. It seems clear you misunderstand what these calls do or how your algorithm works, but exactly how you misunderstand these things isn't clear from your question.</p>\n<h2>Why do I get two zeroes?</h2>\n<p>Because that's exactly what your algorithm does. The computer just does what you tell it to.</p>\n<p>Let's go through an example:</p>\n<ol>\n<li>You start with a new 5-sized array; <code>[0, 0, 0, 0, 0]</code>.</li>\n<li>loop 5 times.</li>\n<li>(loop1) Set the 0-index to a random number: <code>[50, 0, 0, 0, 0]</code>.</li>\n<li>(loop1) Shuffle the list. Irrelevant, we'll sort it afterwards.</li>\n<li>(loop1) sort it: <code>[0, 0, 0, 0, 50]</code>.</li>\n<li>(loop1) print the 0-index number. <strong>This is always 0</strong>.</li>\n<li>(loop2) Set the 1-index to a random number: <code>[0, 45, 0, 0, 50]</code>.</li>\n<li>(loop2) Shuffle the list. Irrelevant, we'll sort it afterwards.</li>\n<li>(loop2) sort it: <code>[0, 0, 0, 45, 50]</code>.</li>\n<li>(loop2) print the 1-index number. <strong>This is always 0</strong>.</li>\n<li>(loop3) Set the 2-index to a random number: <code>[0, 0, 47, 45, 50]</code>.</li>\n<li>(loop3) Shuffle the list. Irrelevant, we'll sort it afterwards.</li>\n<li>(loop3) sort it: <code>[0, 0, 45, 47, 50]</code>.</li>\n<li>(loop3) print the 2-index number. This prints '45'.</li>\n</ol>\n<p>And so on.</p>\n<p>It seems rather likely that you don't want to shuffle <strong>and</strong> you don't want to sort.</p>\n<p>You want to just fill each slot with a random number and that is all.</p>\n<p>If you want the 5 numbers to be sorted - just sort once, afterwards. If you want to print the numbers in sorted order, first fill the entire array and print nothing - then sort it, then loop through to print it, then add the 1-25 number as final step and print that.</p>\n"},{"tags":[],"owner":{"account_id":28104689,"reputation":512,"user_id":21473475,"display_name":"Arfur Narf"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691546676,"creation_date":1691546367,"answer_id":76864126,"question_id":76864080,"body_markdown":"Your code is... odd.   \r\n\r\nThe first time through the loop, ou put the first random number in the array at index 0, shuffle the array (putting the number &#39;somewhere&#39;), and then sort the array (putting the number in the last place, guaranteed because the other 4 numbers are each 0). Index 0 is 0 after this.  \r\n\r\nThen repeat with second number, which goes into index 1. Note that the zero index stays zero. Shuffle, and sort again.  The first three numbers will be zero; they have to be, because there are only 2 non-zero numbers in the array.\r\n\r\nNow the third number. Note that index 0 and index 1 remain zero.\r\n\r\nEtc.\r\n\r\nSummary:  shuffling and then sorting is pointless, since the sort undoes any randomization that shuffling did.\r\n\r\nAnd sorting inside the loop is pointless too, since it is moving non-zero numbers to where they can eventually be overwritten, and guaranteeing some zeroes that won&#39;t be.\r\n\r\nGuessing that you want to print out each &#39;ball&#39; as it is generated, and then print them all out in sorted order:\r\n\r\n     for (int i = 0; i &lt; 5; i++) {\r\n         numbers[i] = rand.nextInt(69) + 1;\r\n         System.out.print(numbers[i] + &quot; &quot;);\r\n     }\r\n     System.out.println();\r\n     \r\n     Arrays.sort(numbers);\r\n     for (int i = 0; i &lt; 5; i++) {\r\n         System.out.print(numbers[i] + &quot; &quot;);\r\n     }\r\n     System.out.println();\r\n\r\nThis is liable to having repeated random numbers, but dealing with that should be another question.","title":"Why does sorting my array always make the first two index values a zero?","body":"<p>Your code is... odd.</p>\n<p>The first time through the loop, ou put the first random number in the array at index 0, shuffle the array (putting the number 'somewhere'), and then sort the array (putting the number in the last place, guaranteed because the other 4 numbers are each 0). Index 0 is 0 after this.</p>\n<p>Then repeat with second number, which goes into index 1. Note that the zero index stays zero. Shuffle, and sort again.  The first three numbers will be zero; they have to be, because there are only 2 non-zero numbers in the array.</p>\n<p>Now the third number. Note that index 0 and index 1 remain zero.</p>\n<p>Etc.</p>\n<p>Summary:  shuffling and then sorting is pointless, since the sort undoes any randomization that shuffling did.</p>\n<p>And sorting inside the loop is pointless too, since it is moving non-zero numbers to where they can eventually be overwritten, and guaranteeing some zeroes that won't be.</p>\n<p>Guessing that you want to print out each 'ball' as it is generated, and then print them all out in sorted order:</p>\n<pre><code> for (int i = 0; i &lt; 5; i++) {\n     numbers[i] = rand.nextInt(69) + 1;\n     System.out.print(numbers[i] + &quot; &quot;);\n }\n System.out.println();\n \n Arrays.sort(numbers);\n for (int i = 0; i &lt; 5; i++) {\n     System.out.print(numbers[i] + &quot; &quot;);\n }\n System.out.println();\n</code></pre>\n<p>This is liable to having repeated random numbers, but dealing with that should be another question.</p>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691551559,"creation_date":1691551559,"answer_id":76864366,"question_id":76864080,"body_markdown":"&gt; _&quot;Why does sorting my array always make the first two index values a zero? ...&quot;_\r\n\r\nThis is because you&#39;re sorting _numbers_ on each iteration.\r\n\r\nThe first and second iterations would yield a _numbers_ array where elements _0_ and _1_ are zero.\r\n\r\n&gt; _&quot;... What I am trying to get is a random number generator that will produce five lines of 5 random numbers 1 through 70 and one more number 1 through 25 like a mega millions ticket. ...&quot;_\r\n\r\nTo get 5 unique random numbers, create a _List_ of values 1 through 70, and use _[Collections#shuffle](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Collections.html#shuffle(java.util.List))_.\r\n\r\n```java\r\nint[] numbers = new int[6];\r\nList&lt;Integer&gt; list = new ArrayList&lt;&gt;();\r\nfor (int value = 1; value &lt;= 70; value++) list.add(value);\r\nCollections.shuffle(list);\r\nfor (int index = 0; index &lt; 5; index++)\r\n    numbers[index] = list.get(index);\r\nnumbers[5] = new Random().nextInt(1, 26);\r\n```\r\n\r\nOutput\r\n\r\n```none\r\n51 11 30 59 44 (13)\r\n```\r\n\r\n&gt; _&quot;... My understanding was that Collections.shuffle should take care of any repeating integers ...&quot;_\r\n\r\nNo, _shuffle_ just re-orders the list.  \r\nYou may be thinking of a _[Set](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Set.html)_, which will only allow unique values.","title":"Why does sorting my array always make the first two index values a zero?","body":"<blockquote>\n<p><em>&quot;Why does sorting my array always make the first two index values a zero? ...&quot;</em></p>\n</blockquote>\n<p>This is because you're sorting <em>numbers</em> on each iteration.</p>\n<p>The first and second iterations would yield a <em>numbers</em> array where elements <em>0</em> and <em>1</em> are zero.</p>\n<blockquote>\n<p><em>&quot;... What I am trying to get is a random number generator that will produce five lines of 5 random numbers 1 through 70 and one more number 1 through 25 like a mega millions ticket. ...&quot;</em></p>\n</blockquote>\n<p>To get 5 unique random numbers, create a <em>List</em> of values 1 through 70, and use <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Collections.html#shuffle(java.util.List)\" rel=\"nofollow noreferrer\">Collections#shuffle</a></em>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>int[] numbers = new int[6];\nList&lt;Integer&gt; list = new ArrayList&lt;&gt;();\nfor (int value = 1; value &lt;= 70; value++) list.add(value);\nCollections.shuffle(list);\nfor (int index = 0; index &lt; 5; index++)\n    numbers[index] = list.get(index);\nnumbers[5] = new Random().nextInt(1, 26);\n</code></pre>\n<p>Output</p>\n<pre class=\"lang-none prettyprint-override\"><code>51 11 30 59 44 (13)\n</code></pre>\n<blockquote>\n<p><em>&quot;... My understanding was that Collections.shuffle should take care of any repeating integers ...&quot;</em></p>\n</blockquote>\n<p>No, <em>shuffle</em> just re-orders the list.<br />\nYou may be thinking of a <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Set.html\" rel=\"nofollow noreferrer\">Set</a></em>, which will only allow unique values.</p>\n"},{"comments":[{"owner":{"account_id":21724606,"reputation":722,"user_id":16034206,"display_name":"experiment unit 1998X"},"score":0,"creation_date":1691562406,"post_id":76864757,"comment_id":135506643,"body_markdown":"instead of looping the whole array to print it, you can just use `System.out.println(Arrays.toString(numbers));`","body":"instead of looping the whole array to print it, you can just use <code>System.out.println(Arrays.toString(numbers));</code>"}],"tags":[],"owner":{"account_id":14864634,"reputation":13,"user_id":13796584,"display_name":"user1091091"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691819439,"creation_date":1691557974,"answer_id":76864757,"question_id":76864080,"body_markdown":"I switched a few things around and it seems to work. In order to get the results that I had intend I simply cut the `Collections.shuffle` and `Arrays.sort` lines and pasted directly below the `for` loop. Then, beneath that, I added another `for` loop that loops five times printing `numbers[i]`.  Also the final `Collections.shuffle` wasn&#39;t necessary for the mega ball.\r\n````java\r\nimport java.util.Arrays;\r\nimport java.util.Collections;\r\nimport java.util.Random;\r\n\r\nclass Main {\r\n    public static void main(String[] args) {\r\n        MegaMillions megamillions = new MegaMillions();\r\n        for(int i = 0; i &lt; 5; i++) {\r\n            megamillions.play();\r\n        }\r\n    }\r\n}    \r\nclass MegaMillions {\r\n    public void play() {\r\n        Random rand = new Random();\r\n        int[] numbers = new int[5]; \r\n        for(int i = 0; i &lt; 5; i++) {\r\n            numbers[i] = rand.nextInt(69) + 1;\r\n        }\r\n        Collections.shuffle(Arrays.asList(numbers));\r\n        Arrays.sort(numbers);\r\n        for(int i = 0; i &lt; 5; i++) {\r\n            System.out.print(numbers[i] + &quot; &quot;);\r\n        }\r\n        int megaBall = rand.nextInt(24) + 1;\r\n        System.out.println(&quot;(&quot; + megaBall + &quot;)&quot;); \r\n    }\r\n}\r\n```\r\n","title":"Why does sorting my array always make the first two index values a zero?","body":"<p>I switched a few things around and it seems to work. In order to get the results that I had intend I simply cut the <code>Collections.shuffle</code> and <code>Arrays.sort</code> lines and pasted directly below the <code>for</code> loop. Then, beneath that, I added another <code>for</code> loop that loops five times printing <code>numbers[i]</code>.  Also the final <code>Collections.shuffle</code> wasn't necessary for the mega ball.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Arrays;\nimport java.util.Collections;\nimport java.util.Random;\n\nclass Main {\n    public static void main(String[] args) {\n        MegaMillions megamillions = new MegaMillions();\n        for(int i = 0; i &lt; 5; i++) {\n            megamillions.play();\n        }\n    }\n}    \nclass MegaMillions {\n    public void play() {\n        Random rand = new Random();\n        int[] numbers = new int[5]; \n        for(int i = 0; i &lt; 5; i++) {\n            numbers[i] = rand.nextInt(69) + 1;\n        }\n        Collections.shuffle(Arrays.asList(numbers));\n        Arrays.sort(numbers);\n        for(int i = 0; i &lt; 5; i++) {\n            System.out.print(numbers[i] + &quot; &quot;);\n        }\n        int megaBall = rand.nextInt(24) + 1;\n        System.out.println(&quot;(&quot; + megaBall + &quot;)&quot;); \n    }\n}\n```\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15518636,"reputation":11,"user_id":11195391,"display_name":"lama"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691570581,"creation_date":1691570581,"answer_id":76866007,"question_id":76864080,"body_markdown":"The answer lies in the sorting of array using Arrays.sort(numbers) method.\r\nlets suppose your values is like below\r\n\r\n0 index loop  [10,0,0,0,0]\r\n\r\nthen you do Arrays.sort(numbers);\r\n\r\nyou will get the array like this [0,0,0,0,10]\r\n\r\n1 index loop [0,12,0,0,10] -&gt; [0,0,0,10,12]\r\n\r\n2 index loop [0,0,15,10,12] -&gt; [0,0,10,12,15]\r\n\r\nthe game begins from here right?\r\n3 index loop [0,0,10,21,15]-&gt;[0,0,10,15,21]\r\n\r\nwhen you add elements in numbers[i] this actually fills the 3 index value which after sorting becomes [0,0,10,15,21].so index 0 and 1 will become always zero while looping until loop ends.\r\n\r\nif you increase the length of the array numbers then index with zero will also increase.\r\n\r\n","title":"Why does sorting my array always make the first two index values a zero?","body":"<p>The answer lies in the sorting of array using Arrays.sort(numbers) method.\nlets suppose your values is like below</p>\n<p>0 index loop  [10,0,0,0,0]</p>\n<p>then you do Arrays.sort(numbers);</p>\n<p>you will get the array like this [0,0,0,0,10]</p>\n<p>1 index loop [0,12,0,0,10] -&gt; [0,0,0,10,12]</p>\n<p>2 index loop [0,0,15,10,12] -&gt; [0,0,10,12,15]</p>\n<p>the game begins from here right?\n3 index loop [0,0,10,21,15]-&gt;[0,0,10,15,21]</p>\n<p>when you add elements in numbers[i] this actually fills the 3 index value which after sorting becomes [0,0,10,15,21].so index 0 and 1 will become always zero while looping until loop ends.</p>\n<p>if you increase the length of the array numbers then index with zero will also increase.</p>\n"}],"owner":{"account_id":14864634,"reputation":13,"user_id":13796584,"display_name":"user1091091"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":82,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":6,"score":-1,"last_activity_date":1691819439,"creation_date":1691545577,"question_id":76864080,"body_markdown":"What I am trying to get is a random number generator that will produce five lines of 5 random numbers 1 through 70 and one more number 1 through 25 like a mega millions ticket.\r\n\r\n```\r\nimport java.util.Arrays;\r\nimport java.util.Collections;\r\nimport java.util.Random;\r\n\r\npublic class MegaMillions {\r\n    \r\n\tpublic void play() {\r\n\t\tRandom rand = new Random();\r\n\t\tint[] numbers = new int[5];\r\n\t\tfor(int i = 0; i &lt; 5; i++) {\r\n\t\t\tnumbers[i] = rand.nextInt(69) + 1;\r\n\t\t\tCollections.shuffle(Arrays.asList(numbers));\r\n\t\t\tArrays.sort(numbers);\r\n\t\t\tSystem.out.print(numbers[i] + &quot; &quot;);\r\n\t\t}\r\n\t\tCollections.shuffle(Arrays.asList(numbers));\r\n\t\tint megaBall = rand.nextInt(24) + 1;\r\n\t\tSystem.out.println(&quot;(&quot; + megaBall + &quot;)&quot;);\r\n\t}\r\n\r\n}\r\n```\r\n\r\nHere is an example of what I&#39;m getting:\r\n\r\n\r\n```\r\n0 0 21 21 35 (1)\r\n\r\n0 0 16 26 32 (9)\r\n\r\n0 0 39 39 53 (3)\r\n\r\n0 0 22 37 51 (14)\r\n\r\n0 0 18 18 60 (14)\r\n```\r\n\r\n\r\n\r\nMy understanding was that Collections.shuffle should take care of any repeating integers and Arrays.sort should put in numerical order.","title":"Why does sorting my array always make the first two index values a zero?","body":"<p>What I am trying to get is a random number generator that will produce five lines of 5 random numbers 1 through 70 and one more number 1 through 25 like a mega millions ticket.</p>\n<pre><code>import java.util.Arrays;\nimport java.util.Collections;\nimport java.util.Random;\n\npublic class MegaMillions {\n    \n    public void play() {\n        Random rand = new Random();\n        int[] numbers = new int[5];\n        for(int i = 0; i &lt; 5; i++) {\n            numbers[i] = rand.nextInt(69) + 1;\n            Collections.shuffle(Arrays.asList(numbers));\n            Arrays.sort(numbers);\n            System.out.print(numbers[i] + &quot; &quot;);\n        }\n        Collections.shuffle(Arrays.asList(numbers));\n        int megaBall = rand.nextInt(24) + 1;\n        System.out.println(&quot;(&quot; + megaBall + &quot;)&quot;);\n    }\n\n}\n</code></pre>\n<p>Here is an example of what I'm getting:</p>\n<pre><code>0 0 21 21 35 (1)\n\n0 0 16 26 32 (9)\n\n0 0 39 39 53 (3)\n\n0 0 22 37 51 (14)\n\n0 0 18 18 60 (14)\n</code></pre>\n<p>My understanding was that Collections.shuffle should take care of any repeating integers and Arrays.sort should put in numerical order.</p>\n"},{"tags":["java","android"],"answers":[{"comments":[{"owner":{"account_id":9716165,"reputation":21,"user_id":10273624,"display_name":"Михаил Куликовец"},"score":1,"creation_date":1691759847,"post_id":76883817,"comment_id":135539101,"body_markdown":"again, this method gives access to media files (images, video and audio) but I need other types of files","body":"again, this method gives access to media files (images, video and audio) but I need other types of files"},{"owner":{"account_id":23936770,"reputation":128,"user_id":17930413,"display_name":"Rahul Rokade"},"score":0,"creation_date":1691760330,"post_id":76883817,"comment_id":135539236,"body_markdown":"which type sir, please suggest.","body":"which type sir, please suggest."},{"owner":{"account_id":23936770,"reputation":128,"user_id":17930413,"display_name":"Rahul Rokade"},"score":0,"creation_date":1691760798,"post_id":76883817,"comment_id":135539343,"body_markdown":"I hope , above code usable","body":"I hope , above code usable"},{"owner":{"account_id":9716165,"reputation":21,"user_id":10273624,"display_name":"Михаил Куликовец"},"score":0,"creation_date":1691762466,"post_id":76883817,"comment_id":135539724,"body_markdown":"I didn’t quite understand how to select a folder through the file manager through this code and call up a window asking for access to this folder, can you explain in more detail","body":"I didn’t quite understand how to select a folder through the file manager through this code and call up a window asking for access to this folder, can you explain in more detail"},{"owner":{"account_id":23936770,"reputation":128,"user_id":17930413,"display_name":"Rahul Rokade"},"score":0,"creation_date":1691817989,"post_id":76883817,"comment_id":135545966,"body_markdown":"if you provide permission notification for android 13 and above  then provide permission in manifest file &quot;&lt;uses-permission android:name=&quot;android.permission.POST_NOTIFICATIONS&quot; /&gt;&quot; and used this line  if(Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.TIRAMISU) {\n            notificationManager.createNotificationChannel(new NotificationChannel(channelId, channelName, NotificationManager.IMPORTANCE_DEFAULT));\n        }","body":"if you provide permission notification for android 13 and above  then provide permission in manifest file &quot;&lt;uses-permission android:name=&quot;android.permission.POST_NOTIFICATIONS&quot; /&gt;&quot; and used this line  if(Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.TIRAMISU) {             notificationManager.createNotificationChannel(new NotificationChannel(channelId, channelName, NotificationManager.IMPORTANCE_DEFAULT));         }"}],"tags":[],"owner":{"account_id":23936770,"reputation":128,"user_id":17930413,"display_name":"Rahul Rokade"},"comment_count":5,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1691760661,"creation_date":1691759210,"answer_id":76883817,"question_id":76883414,"body_markdown":"**Android 13 - access the media folder**\r\n\r\n*please provide permission in manifest file &quot;READ_EXTERNAL_STORAGE&quot;, access to file directory then used &quot;READ_MEDIA_IMAGES&quot;, &quot;READ_MEDIA_VIDEO&quot;, &quot;READ_MEDIA_AUDIO&quot;. if you want to access media files in other apps&#39; directories.*\r\n\r\n*&quot;getExternalStoragePublicDirectory()&quot; used this method for shared storage directory.*\r\n\r\n    public String getRealPathFromURI(Uri uri) {\r\n        String path = &quot;&quot;;\r\n        if (getContentResolver() != null) {\r\n            Cursor cursor = getContentResolver().query(uri, null, null, null, null);\r\n            if (cursor != null) {\r\n                cursor.moveToFirst();\r\n                int idx = cursor.getColumnIndex(MediaStore.Images.ImageColumns.DATA);\r\n                path = cursor.getString(idx);\r\n                cursor.close();\r\n            }\r\n        }\r\n        return path;\r\n    }\r\n\r\n    File file = new File(&quot;/path/to/file&quot;);\r\n                FileInputStream inputStream = new FileInputStream(file);\r\n                byte[] bytes = new byte[inputStream.available()];\r\n                inputStream.read(bytes);\r\n                String contents = new String(bytes);\r\n                Log.d(&quot;TAG&quot;, &quot;Contents: &quot; + contents);\r\n\r\n**try this line in input stream**\r\n\r\n    AssetManager assetManager = getAssets();\r\n                InputStream inputStream = assetManager.open(&quot;my_obj_file.obj&quot;);\r\n                BufferedReader reader = new BufferedReader(new InputStreamReader(inputStream));\r\n                String line;\r\n                while ((line = reader.readLine()) != null) {\r\n                    // Do something with the line.\r\n                }\r\n                Resources resources = getResources();\r\n                InputStream inputStream = resources.openRawResource(R.raw.my_atlas_file);\r\n                BufferedReader reader = new BufferedReader(new InputStreamReader(inputStream));\r\n                String line;\r\n                while ((line = reader.readLine()) != null) {\r\n                   \r\n                }\r\n                String path = Environment.getExternalStorageDirectory() + &quot;/my_pack_file.pack&quot;;\r\n                FileInputStream inputStream = new FileInputStream(path);\r\n                BufferedReader reader = new BufferedReader(new InputStreamReader(inputStream));\r\n                String line;\r\n                while ((line = reader.readLine()) != null) {\r\n                   \r\n                }","title":"Android 13 folder access","body":"<p><strong>Android 13 - access the media folder</strong></p>\n<p><em>please provide permission in manifest file &quot;READ_EXTERNAL_STORAGE&quot;, access to file directory then used &quot;READ_MEDIA_IMAGES&quot;, &quot;READ_MEDIA_VIDEO&quot;, &quot;READ_MEDIA_AUDIO&quot;. if you want to access media files in other apps' directories.</em></p>\n<p><em>&quot;getExternalStoragePublicDirectory()&quot; used this method for shared storage directory.</em></p>\n<pre><code>public String getRealPathFromURI(Uri uri) {\n    String path = &quot;&quot;;\n    if (getContentResolver() != null) {\n        Cursor cursor = getContentResolver().query(uri, null, null, null, null);\n        if (cursor != null) {\n            cursor.moveToFirst();\n            int idx = cursor.getColumnIndex(MediaStore.Images.ImageColumns.DATA);\n            path = cursor.getString(idx);\n            cursor.close();\n        }\n    }\n    return path;\n}\n\nFile file = new File(&quot;/path/to/file&quot;);\n            FileInputStream inputStream = new FileInputStream(file);\n            byte[] bytes = new byte[inputStream.available()];\n            inputStream.read(bytes);\n            String contents = new String(bytes);\n            Log.d(&quot;TAG&quot;, &quot;Contents: &quot; + contents);\n</code></pre>\n<p><strong>try this line in input stream</strong></p>\n<pre><code>AssetManager assetManager = getAssets();\n            InputStream inputStream = assetManager.open(&quot;my_obj_file.obj&quot;);\n            BufferedReader reader = new BufferedReader(new InputStreamReader(inputStream));\n            String line;\n            while ((line = reader.readLine()) != null) {\n                // Do something with the line.\n            }\n            Resources resources = getResources();\n            InputStream inputStream = resources.openRawResource(R.raw.my_atlas_file);\n            BufferedReader reader = new BufferedReader(new InputStreamReader(inputStream));\n            String line;\n            while ((line = reader.readLine()) != null) {\n               \n            }\n            String path = Environment.getExternalStorageDirectory() + &quot;/my_pack_file.pack&quot;;\n            FileInputStream inputStream = new FileInputStream(path);\n            BufferedReader reader = new BufferedReader(new InputStreamReader(inputStream));\n            String line;\n            while ((line = reader.readLine()) != null) {\n               \n            }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23936770,"reputation":128,"user_id":17930413,"display_name":"Rahul Rokade"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691818669,"creation_date":1691818669,"answer_id":76887899,"question_id":76883414,"body_markdown":"**The Android folder is supposed to be inaccessible in Android 11 and newer. Due to a bug, workarounds worked until Android 13 got released. Only access on the device itself is blocked. You can access the folder just fine if you connect your device to a computer.**","title":"Android 13 folder access","body":"<p><strong>The Android folder is supposed to be inaccessible in Android 11 and newer. Due to a bug, workarounds worked until Android 13 got released. Only access on the device itself is blocked. You can access the folder just fine if you connect your device to a computer.</strong></p>\n"}],"owner":{"account_id":9716165,"reputation":21,"user_id":10273624,"display_name":"Михаил Куликовец"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1750,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1691818669,"creation_date":1691755529,"question_id":76883414,"body_markdown":"My app needs access to a folder in order to work, it needs to access files and create files in that folder. I saw this in some console emulators, the file manager opened, after selecting a folder, I received a request for access to this folder. How to implement this, I can not find the answer for a long time.\r\n\r\n```\r\nif (ContextCompat.checkSelfPermission(this, Manifest.permission.READ_EXTERNAL_STORAGE)\r\n\t\t\t\t!= PackageManager.PERMISSION_GRANTED) {\r\n\t\t\t// Permission is not granted, so request permission\r\n\t\t\tActivityCompat.requestPermissions(this,\r\n\t\t\t\t\tnew String[]{Manifest.permission.READ_EXTERNAL_STORAGE},\r\n\t\t\t\t\t225);\r\n\t\t} else {\r\n\t\t\t// Permission is already granted, so proceed\r\n\t\t\tselectFolder();\r\n\t\t}\r\n```\r\n\r\n```\r\n@Override\r\n\tpublic void onRequestPermissionsResult(int requestCode, String[] permissions, int[] grantResults) {\r\n\r\n\t\t/*if (requestCode == 1) {\r\n\t\t\tif (grantResults.length &gt; 1) {//&gt;0\r\n\t\t\t\tif (grantResults[0] == PackageManager.PERMISSION_GRANTED &amp;&amp; grantResults[1] == PackageManager.PERMISSION_GRANTED) {\r\n\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.finish();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}*/\r\n\r\n\t\tif (requestCode == 225) {\r\n\t\t\t// Check if the user has granted permission\r\n\t\t\tif (grantResults.length &gt; 0 &amp;&amp; grantResults[0] == PackageManager.PERMISSION_GRANTED) {\r\n\t\t\t\t// Permission is granted, so proceed\r\n\t\t\t\tselectFolder();\r\n\t\t\t} else {\r\n\t\t\t\t// Permission is not granted, so display a message to the user\r\n\t\t\t\t//Log.e(TAG, &quot;Permission not granted&quot;);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n```\r\n\r\n```\r\nprivate void selectFolder() {\r\n\t\t// Get a file chooser dialog to allow the user to select a folder\r\n\t\tIntent intent = new Intent(Intent.ACTION_OPEN_DOCUMENT_TREE);\r\n\t\tstartActivityForResult(intent, 3);\r\n\t}\r\n```\r\nthis code was suggested to me by google Bard,\r\nbut it doesn&#39;t work, the request doesn&#39;t come, nothing happens, this code worked to import the file only via ACTION_OPEN_DOCUMENT\r\n\r\nAs I understand it, I need to use SAF, but only media files can be accessed there, but i need other files as well (.obj, .atlas, .pack, .pfx)\r\n\r\ni know about permission MANAGE_EXTERNAL_STORAGE, but there will be problems with it when publishing the application\r\n\r\ntried what suggested by google Bard\r\n\r\n```\r\nFile publicFolder = Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_DOWNLOADS);\r\nFile newFolder = new File(publicFolder, &quot;my_public_folder&quot;);\r\nnewFolder.mkdirs();\r\n```\r\nbut I did not find the required request, and the program crashes on this\r\n","title":"Android 13 folder access","body":"<p>My app needs access to a folder in order to work, it needs to access files and create files in that folder. I saw this in some console emulators, the file manager opened, after selecting a folder, I received a request for access to this folder. How to implement this, I can not find the answer for a long time.</p>\n<pre><code>if (ContextCompat.checkSelfPermission(this, Manifest.permission.READ_EXTERNAL_STORAGE)\n                != PackageManager.PERMISSION_GRANTED) {\n            // Permission is not granted, so request permission\n            ActivityCompat.requestPermissions(this,\n                    new String[]{Manifest.permission.READ_EXTERNAL_STORAGE},\n                    225);\n        } else {\n            // Permission is already granted, so proceed\n            selectFolder();\n        }\n</code></pre>\n<pre><code>@Override\n    public void onRequestPermissionsResult(int requestCode, String[] permissions, int[] grantResults) {\n\n        /*if (requestCode == 1) {\n            if (grantResults.length &gt; 1) {//&gt;0\n                if (grantResults[0] == PackageManager.PERMISSION_GRANTED &amp;&amp; grantResults[1] == PackageManager.PERMISSION_GRANTED) {\n\n                } else {\n                    this.finish();\n                }\n            }\n        }*/\n\n        if (requestCode == 225) {\n            // Check if the user has granted permission\n            if (grantResults.length &gt; 0 &amp;&amp; grantResults[0] == PackageManager.PERMISSION_GRANTED) {\n                // Permission is granted, so proceed\n                selectFolder();\n            } else {\n                // Permission is not granted, so display a message to the user\n                //Log.e(TAG, &quot;Permission not granted&quot;);\n            }\n        }\n    }\n</code></pre>\n<pre><code>private void selectFolder() {\n        // Get a file chooser dialog to allow the user to select a folder\n        Intent intent = new Intent(Intent.ACTION_OPEN_DOCUMENT_TREE);\n        startActivityForResult(intent, 3);\n    }\n</code></pre>\n<p>this code was suggested to me by google Bard,\nbut it doesn't work, the request doesn't come, nothing happens, this code worked to import the file only via ACTION_OPEN_DOCUMENT</p>\n<p>As I understand it, I need to use SAF, but only media files can be accessed there, but i need other files as well (.obj, .atlas, .pack, .pfx)</p>\n<p>i know about permission MANAGE_EXTERNAL_STORAGE, but there will be problems with it when publishing the application</p>\n<p>tried what suggested by google Bard</p>\n<pre><code>File publicFolder = Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_DOWNLOADS);\nFile newFolder = new File(publicFolder, &quot;my_public_folder&quot;);\nnewFolder.mkdirs();\n</code></pre>\n<p>but I did not find the required request, and the program crashes on this</p>\n"},{"tags":["java","android","gradle","navigation","classpath"],"owner":{"account_id":28815725,"reputation":23,"user_id":22069400,"display_name":"San Nasser"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":179,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1691818229,"creation_date":1691818229,"question_id":76887882,"body_markdown":"The project is working perfectly, but when I added this library, the problems started to disappear\r\n\r\n`implementation &#39;com.etebarian:meow-bottom-navigation:1.3.1&#39;`\r\n\r\nthis message showed after build my pro \r\n\r\n`Caused by: org.gradle.api.internal.artifacts.ivyservice.DefaultLenientConfiguration$ArtifactResolveException: Could not resolve all files for configuration &#39;:app:debugRuntimeClasspath&#39;.`\r\n\r\nand \r\n`Caused by: org.gradle.internal.resolve.ModuleVersionNotFoundException: Could not find com.etebarian:meow-bottom-navigation:1.3.1.`\r\n\r\n\r\n\r\nthis is my gradle.build  module file \r\n```\r\nplugins {\r\n    id &#39;com.android.application&#39;\r\n    id &#39;com.google.gms.google-services&#39;\r\n}\r\n\r\nandroid {\r\n    namespace &#39;greenline.fpotwotw.poeter&#39;\r\n    compileSdk 34\r\n\r\n    defaultConfig {\r\n        applicationId &quot;greenline.fpotwotw.poeter&quot;\r\n        minSdk 23\r\n        targetSdk 34\r\n        versionCode 1\r\n        versionName &quot;1.0&quot;\r\n\r\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\r\n    }\r\n\r\n    buildTypes {\r\n        release {\r\n            minifyEnabled false\r\n            proguardFiles getDefaultProguardFile(&#39;proguard-android-optimize.txt&#39;), &#39;proguard-rules.pro&#39;\r\n        }\r\n    }\r\n    compileOptions {\r\n        sourceCompatibility JavaVersion.VERSION_1_8\r\n        targetCompatibility JavaVersion.VERSION_1_8\r\n    }\r\n}\r\n\r\ndependencies {\r\n    implementation &#39;androidx.appcompat:appcompat:1.6.1&#39;\r\n    implementation &#39;androidx.core:core:1.10.1&#39;\r\n    implementation &#39;androidx.constraintlayout:constraintlayout:2.1.4&#39;\r\n    implementation &#39;androidx.lifecycle:lifecycle-livedata-ktx:2.6.1&#39;\r\n    implementation &#39;androidx.lifecycle:lifecycle-viewmodel-ktx:2.6.1&#39;\r\n    implementation &#39;androidx.navigation:navigation-fragment:2.7.0&#39;\r\n    implementation &#39;androidx.navigation:navigation-ui:2.7.0&#39;\r\n    implementation &#39;androidx.legacy:legacy-support-v4:1.0.0&#39;\r\n    implementation &#39;androidx.recyclerview:recyclerview:1.3.1&#39;\r\n    implementation &#39;androidx.preference:preference:1.2.1&#39;\r\n    implementation &#39;androidx.palette:palette:1.0.0&#39;\r\n    implementation &#39;com.google.android.material:material:1.9.0&#39;\r\n    implementation &#39;com.github.ksoichiro:android-observablescrollview:1.5.0&#39;\r\n    implementation &#39;com.google.android.gms:play-services-cast-framework:21.3.0&#39;\r\n    implementation &#39;com.google.firebase:firebase-storage:20.2.1&#39;\r\n    implementation &#39;com.google.firebase:firebase-messaging:23.2.1&#39;\r\n    implementation &#39;com.google.firebase:firebase-database:20.2.2&#39;\r\n    implementation &#39;com.google.firebase:firebase-firestore:24.7.0&#39;\r\n    implementation &#39;com.google.firebase:firebase-analytics:21.3.0&#39;\r\n    implementation &#39;com.google.firebase:firebase-bom:32.2.2&#39;\r\n    implementation &#39;com.google.firebase:firebase-auth-ktx:22.1.1&#39;\r\n    implementation &#39;com.google.firebase:firebase-auth:22.1.1&#39;\r\n    testImplementation &#39;junit:junit:4.13.2&#39;\r\n    androidTestImplementation &#39;androidx.test.ext:junit:1.1.5&#39;\r\n    androidTestImplementation &#39;androidx.test.espresso:espresso-core:3.5.1&#39;\r\n    implementation &#39;com.squareup.retrofit2:retrofit:2.9.0&#39;\r\n    implementation &#39;com.squareup.retrofit2:converter-gson:2.9.0&#39;\r\n    implementation &#39;com.squareup.okhttp3:okhttp:5.0.0-alpha.3&#39;\r\n    implementation &#39;com.squareup.okhttp3:logging-interceptor:5.0.0-alpha.3&#39;\r\n    //implementation &#39;com.androidx.palette:palette:1.0.0&#39;\r\n    implementation &#39;de.hdodenhof:circleimageview:3.1.0&#39;\r\n    implementation &#39;com.android.volley:volley:1.2.1&#39;\r\n    implementation  &#39;com.github.dhaval2404:imagepicker:2.1&#39;\r\n    implementation &#39;com.github.bumptech.glide:glide:4.15.1&#39;\r\n    implementation &#39;com.pnikosis:materialish-progress:1.7&#39;\r\n    implementation &quot;androidx.core:core-splashscreen:1.0.1&quot;\r\n    implementation &quot;com.squareup.picasso:picasso:2.8&quot;\r\n\r\n    implementation  &quot;com.facebook.fresco:fresco:2.3.0&quot;\r\n    implementation &quot;com.github.skydoves:balloon:1.2.9&quot;\r\n    implementation &quot;com.hbb20:ccp:2.6.0&quot;\r\n\r\n\r\n    implementation &#39;com.facebook.shimmer:shimmer:0.5.0&#39;\r\n\r\n    implementation &#39;com.etebarian:meow-bottom-navigation:1.3.1&#39;\r\n\r\n    //implementation &quot;com.mikhaellopez:circularfillableloaders:1.3.2&quot;\r\n\r\n    constraints {\r\n        implementation(&quot;org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.8.0&quot;) {\r\n            because(&quot;kotlin-stdlib-jdk7 is now a part of kotlin-stdlib&quot;)\r\n        }\r\n        implementation(&quot;org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.8.0&quot;) {\r\n            because(&quot;kotlin-stdlib-jdk8 is now a part of kotlin-stdlib&quot;)\r\n        }\r\n    }\r\n}\r\n```\r\nand project path  gradle\r\n\r\n```\r\nbuildscript {\r\n    dependencies {\r\n        classpath &#39;com.google.gms:google-services:4.3.15&#39;\r\n    }\r\n    repositories {\r\n        mavenCentral()\r\n    }\r\n}// Top-level build file where you can add configuration options common to all sub-projects/modules.\r\nplugins {\r\n    id &#39;com.android.application&#39; version &#39;7.3.1&#39; apply false\r\n    id &#39;com.android.library&#39; version &#39;7.3.1&#39; apply false\r\n}\r\n```\r\nand gradle.setting \r\n\r\n```\r\npluginManagement {\r\n    repositories {\r\n        gradlePluginPortal()\r\n        google()\r\n        mavenCentral()\r\n\r\n    }\r\n}\r\ndependencyResolutionManagement {\r\n    repositoriesMode.set(RepositoriesMode.FAIL_ON_PROJECT_REPOS)\r\n    repositories {\r\n        google()\r\n        mavenCentral()\r\n        maven { url &quot;https://jitpack.io&quot; }\r\n\r\n    }\r\n}\r\nrootProject.name = &quot;Poeter&quot;\r\ninclude &#39;:app&#39;\r\n\r\n```\r\n\r\nCan someone with experience help us, thank you very much.\r\n","title":"This problem occurs to me whenever I try to add a new library in the Android Studio gradle file in the Java language","body":"<p>The project is working perfectly, but when I added this library, the problems started to disappear</p>\n<p><code>implementation 'com.etebarian:meow-bottom-navigation:1.3.1'</code></p>\n<p>this message showed after build my pro</p>\n<p><code>Caused by: org.gradle.api.internal.artifacts.ivyservice.DefaultLenientConfiguration$ArtifactResolveException: Could not resolve all files for configuration ':app:debugRuntimeClasspath'.</code></p>\n<p>and\n<code>Caused by: org.gradle.internal.resolve.ModuleVersionNotFoundException: Could not find com.etebarian:meow-bottom-navigation:1.3.1.</code></p>\n<p>this is my gradle.build  module file</p>\n<pre><code>plugins {\n    id 'com.android.application'\n    id 'com.google.gms.google-services'\n}\n\nandroid {\n    namespace 'greenline.fpotwotw.poeter'\n    compileSdk 34\n\n    defaultConfig {\n        applicationId &quot;greenline.fpotwotw.poeter&quot;\n        minSdk 23\n        targetSdk 34\n        versionCode 1\n        versionName &quot;1.0&quot;\n\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\n    }\n\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\n        }\n    }\n    compileOptions {\n        sourceCompatibility JavaVersion.VERSION_1_8\n        targetCompatibility JavaVersion.VERSION_1_8\n    }\n}\n\ndependencies {\n    implementation 'androidx.appcompat:appcompat:1.6.1'\n    implementation 'androidx.core:core:1.10.1'\n    implementation 'androidx.constraintlayout:constraintlayout:2.1.4'\n    implementation 'androidx.lifecycle:lifecycle-livedata-ktx:2.6.1'\n    implementation 'androidx.lifecycle:lifecycle-viewmodel-ktx:2.6.1'\n    implementation 'androidx.navigation:navigation-fragment:2.7.0'\n    implementation 'androidx.navigation:navigation-ui:2.7.0'\n    implementation 'androidx.legacy:legacy-support-v4:1.0.0'\n    implementation 'androidx.recyclerview:recyclerview:1.3.1'\n    implementation 'androidx.preference:preference:1.2.1'\n    implementation 'androidx.palette:palette:1.0.0'\n    implementation 'com.google.android.material:material:1.9.0'\n    implementation 'com.github.ksoichiro:android-observablescrollview:1.5.0'\n    implementation 'com.google.android.gms:play-services-cast-framework:21.3.0'\n    implementation 'com.google.firebase:firebase-storage:20.2.1'\n    implementation 'com.google.firebase:firebase-messaging:23.2.1'\n    implementation 'com.google.firebase:firebase-database:20.2.2'\n    implementation 'com.google.firebase:firebase-firestore:24.7.0'\n    implementation 'com.google.firebase:firebase-analytics:21.3.0'\n    implementation 'com.google.firebase:firebase-bom:32.2.2'\n    implementation 'com.google.firebase:firebase-auth-ktx:22.1.1'\n    implementation 'com.google.firebase:firebase-auth:22.1.1'\n    testImplementation 'junit:junit:4.13.2'\n    androidTestImplementation 'androidx.test.ext:junit:1.1.5'\n    androidTestImplementation 'androidx.test.espresso:espresso-core:3.5.1'\n    implementation 'com.squareup.retrofit2:retrofit:2.9.0'\n    implementation 'com.squareup.retrofit2:converter-gson:2.9.0'\n    implementation 'com.squareup.okhttp3:okhttp:5.0.0-alpha.3'\n    implementation 'com.squareup.okhttp3:logging-interceptor:5.0.0-alpha.3'\n    //implementation 'com.androidx.palette:palette:1.0.0'\n    implementation 'de.hdodenhof:circleimageview:3.1.0'\n    implementation 'com.android.volley:volley:1.2.1'\n    implementation  'com.github.dhaval2404:imagepicker:2.1'\n    implementation 'com.github.bumptech.glide:glide:4.15.1'\n    implementation 'com.pnikosis:materialish-progress:1.7'\n    implementation &quot;androidx.core:core-splashscreen:1.0.1&quot;\n    implementation &quot;com.squareup.picasso:picasso:2.8&quot;\n\n    implementation  &quot;com.facebook.fresco:fresco:2.3.0&quot;\n    implementation &quot;com.github.skydoves:balloon:1.2.9&quot;\n    implementation &quot;com.hbb20:ccp:2.6.0&quot;\n\n\n    implementation 'com.facebook.shimmer:shimmer:0.5.0'\n\n    implementation 'com.etebarian:meow-bottom-navigation:1.3.1'\n\n    //implementation &quot;com.mikhaellopez:circularfillableloaders:1.3.2&quot;\n\n    constraints {\n        implementation(&quot;org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.8.0&quot;) {\n            because(&quot;kotlin-stdlib-jdk7 is now a part of kotlin-stdlib&quot;)\n        }\n        implementation(&quot;org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.8.0&quot;) {\n            because(&quot;kotlin-stdlib-jdk8 is now a part of kotlin-stdlib&quot;)\n        }\n    }\n}\n</code></pre>\n<p>and project path  gradle</p>\n<pre><code>buildscript {\n    dependencies {\n        classpath 'com.google.gms:google-services:4.3.15'\n    }\n    repositories {\n        mavenCentral()\n    }\n}// Top-level build file where you can add configuration options common to all sub-projects/modules.\nplugins {\n    id 'com.android.application' version '7.3.1' apply false\n    id 'com.android.library' version '7.3.1' apply false\n}\n</code></pre>\n<p>and gradle.setting</p>\n<pre><code>pluginManagement {\n    repositories {\n        gradlePluginPortal()\n        google()\n        mavenCentral()\n\n    }\n}\ndependencyResolutionManagement {\n    repositoriesMode.set(RepositoriesMode.FAIL_ON_PROJECT_REPOS)\n    repositories {\n        google()\n        mavenCentral()\n        maven { url &quot;https://jitpack.io&quot; }\n\n    }\n}\nrootProject.name = &quot;Poeter&quot;\ninclude ':app'\n\n</code></pre>\n<p>Can someone with experience help us, thank you very much.</p>\n"},{"tags":["java","spring-boot","spring-batch","batch-processing"],"comments":[{"owner":{"account_id":28788063,"reputation":1,"user_id":22048100,"display_name":"techie_kvy"},"score":0,"creation_date":1691831316,"post_id":76885728,"comment_id":135546892,"body_markdown":"This [question](https://stackoverflow.com/questions/59165083/how-to-read-multiple-flat-files-with-different-headers-and-process-them-at-once) is somewhat similar to mine, [@techi](https://stackoverflow.com/users/2592089/techi), I&#39;d like to know whether you got your question answered or do you find any solution to this?","body":"This <a href=\"https://stackoverflow.com/questions/59165083/how-to-read-multiple-flat-files-with-different-headers-and-process-them-at-once\">question</a> is somewhat similar to mine, <a href=\"https://stackoverflow.com/users/2592089/techi\">@techi</a>, I&#39;d like to know whether you got your question answered or do you find any solution to this?"}],"answers":[{"comments":[{"owner":{"account_id":28788063,"reputation":1,"user_id":22048100,"display_name":"techie_kvy"},"score":0,"creation_date":1691818162,"post_id":76886520,"comment_id":135545982,"body_markdown":"Yes, you are correct, but I&#39;m looking for configuring the job using spring batch.","body":"Yes, you are correct, but I&#39;m looking for configuring the job using spring batch."},{"owner":{"account_id":1310169,"reputation":3813,"user_id":1258319,"accept_rate":81,"display_name":"Julian"},"score":0,"creation_date":1691825097,"post_id":76886520,"comment_id":135546402,"body_markdown":"I haven&#39;t used Spring batch commercially and apart from reading a bit o documentation my knowledge is limited. This said I cant&#39;t see why in spring batch step 1 you cannot create table_1 in step 2 create table_2 and in step 3 join them. Just a thought.","body":"I haven&#39;t used Spring batch commercially and apart from reading a bit o documentation my knowledge is limited. This said I cant&#39;t see why in spring batch step 1 you cannot create table_1 in step 2 create table_2 and in step 3 join them. Just a thought."},{"owner":{"account_id":1310169,"reputation":3813,"user_id":1258319,"accept_rate":81,"display_name":"Julian"},"score":0,"creation_date":1691825144,"post_id":76886520,"comment_id":135546406,"body_markdown":"I know for sure spring batch expects a database to be there","body":"I know for sure spring batch expects a database to be there"},{"owner":{"account_id":28788063,"reputation":1,"user_id":22048100,"display_name":"techie_kvy"},"score":0,"creation_date":1691827709,"post_id":76886520,"comment_id":135546593,"body_markdown":"As far as my knowledge is concerned regarding spring batch, every step need to have a reader and writer for sure and processor is optional. If we think in the way you said, like step1 for reading from file1.csv and step2 for reading file2.csv, I&#39;m not sure on what to do in the writer for step1 and step2. Think like  we can overcome that using noop implementation for writer in step1 &amp; step2, during merging in the step3, not sure again on whether I&#39;ll get the data that we read from both the step1 and step2 &amp; how can we access that in step3, and what to implement in the reader of step3.","body":"As far as my knowledge is concerned regarding spring batch, every step need to have a reader and writer for sure and processor is optional. If we think in the way you said, like step1 for reading from file1.csv and step2 for reading file2.csv, I&#39;m not sure on what to do in the writer for step1 and step2. Think like  we can overcome that using noop implementation for writer in step1 &amp; step2, during merging in the step3, not sure again on whether I&#39;ll get the data that we read from both the step1 and step2 &amp; how can we access that in step3, and what to implement in the reader of step3."}],"tags":[],"owner":{"account_id":1310169,"reputation":3813,"user_id":1258319,"accept_rate":81,"display_name":"Julian"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691786024,"creation_date":1691786024,"answer_id":76886520,"question_id":76885728,"body_markdown":"Not exactly sure how you can do it with spring-batch but doing this using an embedded database such as [H2][1] is extremely easy. Assuming transforming the two files from `txt` to `csv` is not a problem you just load the two files into two tables and join them by `ID`\r\n\r\n    CREATE table_1 TEST AS SELECT * FROM CSVREAD(&#39;file1.csv&#39;);\r\n    CREATE table_2 TEST AS SELECT * FROM CSVREAD(&#39;file2.csv&#39;);\r\n    SELECT t1.first_name, t1.last_name, t2.dept\r\n      FROM table_1 t1\r\n      JOIN table_2 t2\r\n        ON t1.id = t2.id;\r\n\r\nThen depending on your requirements, you can write them back to a file or do whatever you need.\r\n\r\n  [1]: https://h2database.com/html/main.html","title":"Can we process the records read from two different flat files in one processor?","body":"<p>Not exactly sure how you can do it with spring-batch but doing this using an embedded database such as <a href=\"https://h2database.com/html/main.html\" rel=\"nofollow noreferrer\">H2</a> is extremely easy. Assuming transforming the two files from <code>txt</code> to <code>csv</code> is not a problem you just load the two files into two tables and join them by <code>ID</code></p>\n<pre><code>CREATE table_1 TEST AS SELECT * FROM CSVREAD('file1.csv');\nCREATE table_2 TEST AS SELECT * FROM CSVREAD('file2.csv');\nSELECT t1.first_name, t1.last_name, t2.dept\n  FROM table_1 t1\n  JOIN table_2 t2\n    ON t1.id = t2.id;\n</code></pre>\n<p>Then depending on your requirements, you can write them back to a file or do whatever you need.</p>\n"}],"owner":{"account_id":28788063,"reputation":1,"user_id":22048100,"display_name":"techie_kvy"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1691817932,"creation_date":1691775966,"question_id":76885728,"body_markdown":"I need to process the data read from two different files and need to store in the Mongo DB. Since one step under the job cannot have multiple readers, I thought of having two different readers, but how can we merge the data read from two different files from two different steps and in which step we need to implement the processor and writer.\r\n\r\nI tried implementing a flow with split of having two different steps where each handles reading the records from two files. Since they are completely different files with difference in their headers.\r\n\r\n```\r\n\r\n@Bean\r\npublic Job job(JobRepository jobRepository) {\r\n    return new JobBuilder(&quot;job&quot;, jobRepository)\r\n        .start(splitFlow())\r\n        .next(step4())\r\n        .build()        //builds FlowJobBuilder instance\r\n        .build();       //builds Job instance\r\n}\r\n\r\n@Bean\r\npublic Flow splitFlow() {\r\n    return new FlowBuilder&lt;SimpleFlow&gt;(&quot;splitFlow&quot;)\r\n        .split(taskExecutor())\r\n        .add(flow1(), flow2())\r\n        .build();\r\n}\r\n\r\n@Bean\r\npublic Flow flow1() {\r\n    return new FlowBuilder&lt;SimpleFlow&gt;(&quot;flow1&quot;)\r\n        .start(step1()) // where step1 handles the reading of one flatFile.\r\n        .build();\r\n}\r\n\r\n@Bean\r\npublic Flow flow2() {\r\n    return new FlowBuilder&lt;SimpleFlow&gt;(&quot;flow2&quot;)\r\n        .start(step3()) // where step3 handles the reading of another flatFile.\r\n        .build();\r\n}\r\n\r\n@Bean\r\npublic TaskExecutor taskExecutor() {\r\n    return new SimpleAsyncTaskExecutor(&quot;spring_batch&quot;);\r\n}\r\n\r\n```\r\nNow, for each record in the first file, I need to lookup for id value in the second file and then store in the DB. \r\n\r\n\r\n```\r\nfile1.csv\r\n--------------\r\nId| First Name| Last Name\r\n\r\nfile2.csv\r\n-----------\r\nid| Dept\r\n\r\nResult\r\n--------------\r\nid| First Name| Last Name| Dept \r\n```\r\n\r\n\r\nHow can we combine the data read from two readers and process them under one processor?\r\nDoes anyone have any suggestions on how the job should be configured in this scenario?","title":"Can we process the records read from two different flat files in one processor?","body":"<p>I need to process the data read from two different files and need to store in the Mongo DB. Since one step under the job cannot have multiple readers, I thought of having two different readers, but how can we merge the data read from two different files from two different steps and in which step we need to implement the processor and writer.</p>\n<p>I tried implementing a flow with split of having two different steps where each handles reading the records from two files. Since they are completely different files with difference in their headers.</p>\n<pre><code>\n@Bean\npublic Job job(JobRepository jobRepository) {\n    return new JobBuilder(&quot;job&quot;, jobRepository)\n        .start(splitFlow())\n        .next(step4())\n        .build()        //builds FlowJobBuilder instance\n        .build();       //builds Job instance\n}\n\n@Bean\npublic Flow splitFlow() {\n    return new FlowBuilder&lt;SimpleFlow&gt;(&quot;splitFlow&quot;)\n        .split(taskExecutor())\n        .add(flow1(), flow2())\n        .build();\n}\n\n@Bean\npublic Flow flow1() {\n    return new FlowBuilder&lt;SimpleFlow&gt;(&quot;flow1&quot;)\n        .start(step1()) // where step1 handles the reading of one flatFile.\n        .build();\n}\n\n@Bean\npublic Flow flow2() {\n    return new FlowBuilder&lt;SimpleFlow&gt;(&quot;flow2&quot;)\n        .start(step3()) // where step3 handles the reading of another flatFile.\n        .build();\n}\n\n@Bean\npublic TaskExecutor taskExecutor() {\n    return new SimpleAsyncTaskExecutor(&quot;spring_batch&quot;);\n}\n\n</code></pre>\n<p>Now, for each record in the first file, I need to lookup for id value in the second file and then store in the DB.</p>\n<pre><code>file1.csv\n--------------\nId| First Name| Last Name\n\nfile2.csv\n-----------\nid| Dept\n\nResult\n--------------\nid| First Name| Last Name| Dept \n</code></pre>\n<p>How can we combine the data read from two readers and process them under one processor?\nDoes anyone have any suggestions on how the job should be configured in this scenario?</p>\n"},{"tags":["java","spring","file","web-applications","file-upload"],"answers":[{"comments":[{"owner":{"account_id":2332817,"reputation":866,"user_id":2045777,"accept_rate":17,"display_name":"Jacobs2000"},"score":2,"creation_date":1616393740,"post_id":17933595,"comment_id":117977933,"body_markdown":"This solution is problematic when the file is very large. IOUtils.copy(in,out) throws an OutOfMemoryException.","body":"This solution is problematic when the file is very large. IOUtils.copy(in,out) throws an OutOfMemoryException."},{"owner":{"account_id":1521093,"reputation":3980,"user_id":1420715,"accept_rate":89,"display_name":"Lakatos Gyula"},"score":0,"creation_date":1655910214,"post_id":17933595,"comment_id":128445225,"body_markdown":"As far as I see, this doesn&#39;t do a zero-copy, unlike FileSystemResource?","body":"As far as I see, this doesn&#39;t do a zero-copy, unlike FileSystemResource?"},{"owner":{"account_id":195331,"reputation":275428,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":1,"creation_date":1655911528,"post_id":17933595,"comment_id":128445706,"body_markdown":"@LakatosGyula It&#39;s been a while, but iirc, Spring MVC will use `ResourceHttpMessageConverter` to serialize the `FileSystemResource` to the response stream. It essentially does what `IOUtils.copy` does here.","body":"@LakatosGyula It&#39;s been a while, but iirc, Spring MVC will use <code>ResourceHttpMessageConverter</code> to serialize the <code>FileSystemResource</code> to the response stream. It essentially does what <code>IOUtils.copy</code> does here."},{"owner":{"account_id":1521093,"reputation":3980,"user_id":1420715,"accept_rate":89,"display_name":"Lakatos Gyula"},"score":1,"creation_date":1655911971,"post_id":17933595,"comment_id":128445853,"body_markdown":"@SotiriosDelimanolis You are indeed right! Also, as far as I see a zero-copy is not possible with Spring MVC, only with Webflux. I learned something new.","body":"@SotiriosDelimanolis You are indeed right! Also, as far as I see a zero-copy is not possible with Spring MVC, only with Webflux. I learned something new."},{"owner":{"account_id":287674,"reputation":2988,"user_id":587641,"accept_rate":42,"display_name":"xtian"},"score":1,"creation_date":1674659093,"post_id":17933595,"comment_id":132762014,"body_markdown":"You can also use `org.springframework.util.StreamUtils.copy(in, out)` and I&#39;m not sure `out` must be closed because it prevents others from using it later.","body":"You can also use <code>org.springframework.util.StreamUtils.copy(in, out)</code> and I&#39;m not sure <code>out</code> must be closed because it prevents others from using it later."}],"tags":[],"owner":{"account_id":195331,"reputation":275428,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"comment_count":5,"down_vote_count":0,"up_vote_count":33,"is_accepted":true,"score":33,"last_activity_date":1487001928,"creation_date":1375129755,"answer_id":17933595,"question_id":17933508,"body_markdown":"Don&#39;t use `@ResponseBody`. Have Spring inject the `HttpServletResponse` and write directly to its `OutputStream`.\r\n\r\n    @RequestMapping(&quot;/getFile&quot;)\r\n    public void getFile(HttpServletResponse response) {\r\n        String address = Services.createFile();\r\n        File file = new File(address);\r\n        response.setContentType(&quot;application/vnd.ms-excel&quot;);\r\n        response.setHeader(&quot;Content-disposition&quot;, &quot;attachment; filename=&quot; + file.getName());\r\n        \r\n        OutputStream out = response.getOutputStream();\r\n        FileInputStream in = new FileInputStream(file);\r\n\r\n        // copy from in to out\r\n        IOUtils.copy(in,out);\r\n\r\n        out.close();\r\n        in.close();\r\n        file.delete();\r\n    }\r\n\r\nI haven&#39;t added any exception handling. I leave that to you.\r\n\r\n`FileSystemResource` is really just is a wrapper for `FileInputStream` that&#39;s used by Spring.\r\n\r\nOr, if you want to be hardcore, you could make your own `FileSystemResource` implementation with its own `getOutputStream()` method that returns your own implementation of `FileOutputStream` that deletes the underlying file when you call `close()` on it.","title":"How to delete a file after sending it in a web app?","body":"<p>Don't use <code>@ResponseBody</code>. Have Spring inject the <code>HttpServletResponse</code> and write directly to its <code>OutputStream</code>.</p>\n\n<pre><code>@RequestMapping(\"/getFile\")\npublic void getFile(HttpServletResponse response) {\n    String address = Services.createFile();\n    File file = new File(address);\n    response.setContentType(\"application/vnd.ms-excel\");\n    response.setHeader(\"Content-disposition\", \"attachment; filename=\" + file.getName());\n\n    OutputStream out = response.getOutputStream();\n    FileInputStream in = new FileInputStream(file);\n\n    // copy from in to out\n    IOUtils.copy(in,out);\n\n    out.close();\n    in.close();\n    file.delete();\n}\n</code></pre>\n\n<p>I haven't added any exception handling. I leave that to you.</p>\n\n<p><code>FileSystemResource</code> is really just is a wrapper for <code>FileInputStream</code> that's used by Spring.</p>\n\n<p>Or, if you want to be hardcore, you could make your own <code>FileSystemResource</code> implementation with its own <code>getOutputStream()</code> method that returns your own implementation of <code>FileOutputStream</code> that deletes the underlying file when you call <code>close()</code> on it.</p>\n"},{"tags":[],"owner":{"account_id":2015038,"reputation":379,"user_id":1802560,"display_name":"Mag"},"comment_count":0,"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1463667792,"creation_date":1463667792,"answer_id":37326148,"question_id":17933508,"body_markdown":"So I decided to take Sotirious&#39;s suggestion for a &quot;hardcore&quot; way. It is pretty simple, but has one problem. If user of that class opens input stream once to check something and closes it, it will not be able to open it again since file is deleted on close. Spring does not seem to do that, but you will need to check after every version upgrade. \r\n\r\n\tpublic class DeleteAfterReadeFileSystemResource extends FileSystemResource {\r\n\t\tpublic DeleteAfterReadeFileSystemResource(File file) {\r\n\t\t\tsuper(file);\r\n\t\t}\r\n\r\n\t\t@Override\r\n\t\tpublic InputStream getInputStream() throws IOException {\r\n\t\t\treturn new DeleteOnCloseFileInputStream(super.getFile());\r\n\t\t}\r\n\r\n\t\tprivate static final class DeleteOnCloseFileInputStream extends FileInputStream {\r\n\r\n\t\t\tprivate File file;\r\n\t\t\tDeleteOnCloseFileInputStream(File file) throws FileNotFoundException \t{\r\n\t\t\t\tsuper(file);\r\n\t\t\t\tthis.file = file;\r\n\t\t\t}\r\n\r\n\t\t\t@Override\r\n\t\t\tpublic void close() throws IOException {\r\n\t\t\t\tsuper.close();\r\n\t\t\t\tfile.delete();\r\n\t\t\t}\r\n\t\t}\r\n\t}","title":"How to delete a file after sending it in a web app?","body":"<p>So I decided to take Sotirious's suggestion for a \"hardcore\" way. It is pretty simple, but has one problem. If user of that class opens input stream once to check something and closes it, it will not be able to open it again since file is deleted on close. Spring does not seem to do that, but you will need to check after every version upgrade. </p>\n\n<pre><code>public class DeleteAfterReadeFileSystemResource extends FileSystemResource {\n    public DeleteAfterReadeFileSystemResource(File file) {\n        super(file);\n    }\n\n    @Override\n    public InputStream getInputStream() throws IOException {\n        return new DeleteOnCloseFileInputStream(super.getFile());\n    }\n\n    private static final class DeleteOnCloseFileInputStream extends FileInputStream {\n\n        private File file;\n        DeleteOnCloseFileInputStream(File file) throws FileNotFoundException    {\n            super(file);\n            this.file = file;\n        }\n\n        @Override\n        public void close() throws IOException {\n            super.close();\n            file.delete();\n        }\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":5382172,"reputation":580,"user_id":4287124,"display_name":"icguy"},"score":0,"creation_date":1616773325,"post_id":51388422,"comment_id":118116418,"body_markdown":"Just a heads up, Spring will not handle range headers for InputStreamResources, only for FileSystemResources","body":"Just a heads up, Spring will not handle range headers for InputStreamResources, only for FileSystemResources"},{"owner":{"account_id":14232,"reputation":158,"user_id":29106,"display_name":"Bouil"},"score":1,"creation_date":1650881540,"post_id":51388422,"comment_id":127219935,"body_markdown":"I had to modify your class to add &quot;@Override\n        public long contentLength() throws IOException {\n            return file.length();\n        }&quot; Otherwise it throws an exception because it tries to open twice the inputstream.","body":"I had to modify your class to add &quot;@Override         public long contentLength() throws IOException {             return file.length();         }&quot; Otherwise it throws an exception because it tries to open twice the inputstream."}],"tags":[],"owner":{"account_id":3009385,"reputation":7267,"user_id":2553215,"display_name":"kuhnroyal"},"comment_count":2,"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1531853462,"creation_date":1531853462,"answer_id":51388422,"question_id":17933508,"body_markdown":"A minor adaption to [this answer](https://stackoverflow.com/a/37326148/2553215). \r\n\r\nUsing a `InputStreamResource` instead of `FileSystemResource` makes this a little shorter.\r\n\r\n    public class CleanupInputStreamResource extends InputStreamResource {\r\n        public CleanupInputStreamResource(File file) throws FileNotFoundException {\r\n            super(new FileInputStream(file) {\r\n                @Override\r\n                public void close() throws IOException {\r\n                    super.close();\r\n                    Files.delete(file.toPath());\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\n\r\n","title":"How to delete a file after sending it in a web app?","body":"<p>A minor adaption to <a href=\"https://stackoverflow.com/a/37326148/2553215\">this answer</a>. </p>\n\n<p>Using a <code>InputStreamResource</code> instead of <code>FileSystemResource</code> makes this a little shorter.</p>\n\n<pre><code>public class CleanupInputStreamResource extends InputStreamResource {\n    public CleanupInputStreamResource(File file) throws FileNotFoundException {\n        super(new FileInputStream(file) {\n            @Override\n            public void close() throws IOException {\n                super.close();\n                Files.delete(file.toPath());\n            }\n        });\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2166683,"reputation":61,"user_id":1919662,"display_name":"user1919662"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1617862885,"creation_date":1617862885,"answer_id":66998326,"question_id":17933508,"body_markdown":"You can write Mag&#39;s solution with anonymous classes like this:\r\n\r\n\tnew FileSystemResource(file) {\r\n\t\t@Override\r\n\t\tpublic InputStream getInputStream() throws IOException {\r\n\t\t\treturn new FileInputStream(file) {\r\n\t\t\t\t@Override\r\n\t\t\t\tpublic void close() throws IOException {\r\n\t\t\t\t\tsuper.close();\r\n\t\t\t\t\tFiles.delete(file.toPath());\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\t}\r\n\t}","title":"How to delete a file after sending it in a web app?","body":"<p>You can write Mag's solution with anonymous classes like this:</p>\n<pre><code>new FileSystemResource(file) {\n    @Override\n    public InputStream getInputStream() throws IOException {\n        return new FileInputStream(file) {\n            @Override\n            public void close() throws IOException {\n                super.close();\n                Files.delete(file.toPath());\n            }\n        };\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6250990,"reputation":436,"user_id":4861041,"accept_rate":20,"display_name":"Rahogata"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1640923583,"creation_date":1640446943,"answer_id":70481055,"question_id":17933508,"body_markdown":"Used this [answer](https://stackoverflow.com/a/37326148/4861041) and added some modification. Working so far. Due to my limited knowledge I couldn&#39;t create dynamic proxy for my custom inputStream.\r\n\r\n\r\n    import static org.apache.commons.io.FileUtils.deleteQuietly;\r\n    \r\n    import java.io.File;\r\n    import java.io.IOException;\r\n    import java.io.InputStream;\r\n    import java.nio.file.Path;\r\n    \r\n    import org.springframework.core.io.FileSystemResource;\r\n    \r\n    import lombok.RequiredArgsConstructor;\r\n    \r\n    public final class AutoDeleteFileSystemResource extends FileSystemResource {\r\n    \r\n        public AutoDeleteFileSystemResource(Path filePath) {\r\n            super(filePath);\r\n        }\r\n    \r\n        @RequiredArgsConstructor\r\n        private static final class AutoDeleteStream extends InputStream {\r\n    \r\n            private final File file;\r\n            private final InputStream original;\r\n    \r\n            @Override\r\n            public int read() throws IOException {\r\n                return original.read();\r\n            }\r\n    \r\n            @Override\r\n            public void close() throws IOException {\r\n                original.close();\r\n                deleteQuietly(file);\r\n            }\r\n    \r\n            @Override\r\n            public int available() throws IOException {\r\n                return original.available();\r\n            }\r\n    \r\n            @Override\r\n            public int read(byte[] b) throws IOException {\r\n                return original.read(b);\r\n            }\r\n    \r\n            @Override\r\n            public int read(byte[] b, int off, int len) throws IOException {\r\n                return original.read(b, off, len);\r\n            }\r\n    \r\n            @Override\r\n            public long skip(long n) throws IOException {\r\n                return original.skip(n);\r\n            }\r\n    \r\n            @Override\r\n            public boolean equals(Object obj) {\r\n                return original.equals(obj);\r\n            }\r\n    \r\n            @Override\r\n            public int hashCode() {\r\n                return original.hashCode();\r\n            }\r\n    \r\n            @Override\r\n            public synchronized void mark(int readlimit) {\r\n                original.mark(readlimit);\r\n            }\r\n    \r\n            @Override\r\n            public boolean markSupported() {\r\n                return original.markSupported();\r\n            }\r\n    \r\n            @Override\r\n            public synchronized void reset() throws IOException {\r\n                original.reset();\r\n            }\r\n    \r\n            @Override\r\n            public String toString() {\r\n                return original.toString();\r\n            }\r\n        }\r\n    \r\n        /**\r\n         * @see org.springframework.core.io.FileSystemResource#getInputStream()\r\n         */\r\n        @Override\r\n        public InputStream getInputStream() throws IOException {\r\n            return new AutoDeleteStream(getFile(), super.getInputStream());\r\n        }\r\n    }","title":"How to delete a file after sending it in a web app?","body":"<p>Used this <a href=\"https://stackoverflow.com/a/37326148/4861041\">answer</a> and added some modification. Working so far. Due to my limited knowledge I couldn't create dynamic proxy for my custom inputStream.</p>\n<pre><code>import static org.apache.commons.io.FileUtils.deleteQuietly;\n\nimport java.io.File;\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.nio.file.Path;\n\nimport org.springframework.core.io.FileSystemResource;\n\nimport lombok.RequiredArgsConstructor;\n\npublic final class AutoDeleteFileSystemResource extends FileSystemResource {\n\n    public AutoDeleteFileSystemResource(Path filePath) {\n        super(filePath);\n    }\n\n    @RequiredArgsConstructor\n    private static final class AutoDeleteStream extends InputStream {\n\n        private final File file;\n        private final InputStream original;\n\n        @Override\n        public int read() throws IOException {\n            return original.read();\n        }\n\n        @Override\n        public void close() throws IOException {\n            original.close();\n            deleteQuietly(file);\n        }\n\n        @Override\n        public int available() throws IOException {\n            return original.available();\n        }\n\n        @Override\n        public int read(byte[] b) throws IOException {\n            return original.read(b);\n        }\n\n        @Override\n        public int read(byte[] b, int off, int len) throws IOException {\n            return original.read(b, off, len);\n        }\n\n        @Override\n        public long skip(long n) throws IOException {\n            return original.skip(n);\n        }\n\n        @Override\n        public boolean equals(Object obj) {\n            return original.equals(obj);\n        }\n\n        @Override\n        public int hashCode() {\n            return original.hashCode();\n        }\n\n        @Override\n        public synchronized void mark(int readlimit) {\n            original.mark(readlimit);\n        }\n\n        @Override\n        public boolean markSupported() {\n            return original.markSupported();\n        }\n\n        @Override\n        public synchronized void reset() throws IOException {\n            original.reset();\n        }\n\n        @Override\n        public String toString() {\n            return original.toString();\n        }\n    }\n\n    /**\n     * @see org.springframework.core.io.FileSystemResource#getInputStream()\n     */\n    @Override\n    public InputStream getInputStream() throws IOException {\n        return new AutoDeleteStream(getFile(), super.getInputStream());\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2848514,"reputation":10932,"user_id":2446208,"accept_rate":69,"display_name":"blacktide"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691817162,"creation_date":1691817162,"answer_id":76887826,"question_id":17933508,"body_markdown":"Here&#39;s a simple way using [StreamingResponseBody](https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/servlet/mvc/method/annotation/StreamingResponseBody.html) from your controller method:\r\n\r\n```java\r\nFile file = getFile();\r\nreturn ResponseEntity.ok()\r\n    .headers(headers)\r\n    .contentLength(length)\r\n    .contentType(MediaType.APPLICATION_OCTET_STREAM)\r\n    .body(os -&gt; {\r\n        Files.copy(file.toPath(), os);\r\n        Files.delete(file.toPath());\r\n    });\r\n```\r\n\r\nThe lambda is shorthand for the following:\r\n\r\n```java\r\nnew StreamingResponseBody() {\r\n    @Override\r\n    public void writeTo(OutputStream os) throws IOException {\r\n        Files.copy(file.toPath(), os);\r\n        Files.delete(file.toPath());\r\n    }\r\n}\r\n```","title":"How to delete a file after sending it in a web app?","body":"<p>Here's a simple way using <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/servlet/mvc/method/annotation/StreamingResponseBody.html\" rel=\"nofollow noreferrer\">StreamingResponseBody</a> from your controller method:</p>\n<pre class=\"lang-java prettyprint-override\"><code>File file = getFile();\nreturn ResponseEntity.ok()\n    .headers(headers)\n    .contentLength(length)\n    .contentType(MediaType.APPLICATION_OCTET_STREAM)\n    .body(os -&gt; {\n        Files.copy(file.toPath(), os);\n        Files.delete(file.toPath());\n    });\n</code></pre>\n<p>The lambda is shorthand for the following:</p>\n<pre class=\"lang-java prettyprint-override\"><code>new StreamingResponseBody() {\n    @Override\n    public void writeTo(OutputStream os) throws IOException {\n        Files.copy(file.toPath(), os);\n        Files.delete(file.toPath());\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":3007688,"reputation":558,"user_id":2551839,"accept_rate":87,"display_name":"ia.solano"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":26155,"favorite_count":0,"down_vote_count":0,"up_vote_count":18,"accepted_answer_id":17933595,"answer_count":6,"score":18,"last_activity_date":1691817162,"creation_date":1375129467,"question_id":17933508,"body_markdown":"I have a web application. I am using java and spring. The application can create a file and send it to the browser, this is working fine. The way I do it is:\r\n\r\nI create the file in a Services class, and the method returns the address to the controller. The controller then sends the file, and it is downloaded correctly. The code for the controller method is this.\r\n\r\n    \r\n    @RequestMapping(&quot;/getFile&quot;)\r\n    public @ResponseBody\r\n    FileSystemResource getFile() {\r\n        \r\n        String address = Services.createFile();\r\n        response.setContentType(&quot;application/vnd.ms-excel&quot;);\r\n        return new FileSystemResource(new File (address));\r\n    }\r\n\r\nThe problem is that the file is saved in the server, and after many requests it will have a lot of files. I have to delete them manually. The question is: How can I delete this file after sending it? or Is there a way to send the file without saving it in the server?\r\n","title":"How to delete a file after sending it in a web app?","body":"<p>I have a web application. I am using java and spring. The application can create a file and send it to the browser, this is working fine. The way I do it is:</p>\n\n<p>I create the file in a Services class, and the method returns the address to the controller. The controller then sends the file, and it is downloaded correctly. The code for the controller method is this.</p>\n\n<pre><code>@RequestMapping(\"/getFile\")\npublic @ResponseBody\nFileSystemResource getFile() {\n\n    String address = Services.createFile();\n    response.setContentType(\"application/vnd.ms-excel\");\n    return new FileSystemResource(new File (address));\n}\n</code></pre>\n\n<p>The problem is that the file is saved in the server, and after many requests it will have a lot of files. I have to delete them manually. The question is: How can I delete this file after sending it? or Is there a way to send the file without saving it in the server?</p>\n"},{"tags":["java","collections","set","hashset","treeset"],"comments":[{"owner":{"account_id":1223835,"reputation":75878,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":0,"creation_date":1576224675,"post_id":59318398,"comment_id":104837513,"body_markdown":"A `HashSet` *doesn&#39;t have* a defined &quot;last&quot; element.","body":"A <code>HashSet</code> <i>doesn&#39;t have</i> a defined &quot;last&quot; element."},{"owner":{"account_id":3703110,"reputation":3347,"user_id":3082272,"accept_rate":50,"display_name":"bobbel"},"score":1,"creation_date":1576225706,"post_id":59318398,"comment_id":104837941,"body_markdown":"If you want the „last“ element of a HashSet, just grab **any** element of it, it would be the same like @chrylis-onstrike- said. So, it sounds more like a XY-problem. What‘s the real problem of your intention?","body":"If you want the „last“ element of a HashSet, just grab <b>any</b> element of it, it would be the same like @chrylis-onstrike- said. So, it sounds more like a XY-problem. What‘s the real problem of your intention?"},{"owner":{"account_id":1119690,"reputation":15787,"user_id":1108305,"accept_rate":47,"display_name":"M. Justin"},"score":0,"creation_date":1691815847,"post_id":59318398,"comment_id":135545848,"body_markdown":"Looking at the [self-answer](https://stackoverflow.com/a/59320014/1108305), it looks like the real request is to get the greatest element in the collection, according to a particular comparison function.  Voting to close this as a duplicate of an existing question that does that.","body":"Looking at the <a href=\"https://stackoverflow.com/a/59320014/1108305\">self-answer</a>, it looks like the real request is to get the greatest element in the collection, according to a particular comparison function.  Voting to close this as a duplicate of an existing question that does that."},{"owner":{"account_id":1119690,"reputation":15787,"user_id":1108305,"accept_rate":47,"display_name":"M. Justin"},"score":0,"creation_date":1691815885,"post_id":59318398,"comment_id":135545854,"body_markdown":"Though it looks like I should have voted to close as a duplicate of this one instead, but if I retract my close vote I can&#39;t re-vote to close.  https://stackoverflow.com/q/1669282/1108305","body":"Though it looks like I should have voted to close as a duplicate of this one instead, but if I retract my close vote I can&#39;t re-vote to close.  <a href=\"https://stackoverflow.com/q/1669282/1108305\">stackoverflow.com/q/1669282/1108305</a>"}],"answers":[{"comments":[{"owner":{"account_id":15056857,"reputation":61,"user_id":10866894,"display_name":"bharath varma"},"score":0,"creation_date":1576224685,"post_id":59318436,"comment_id":104837518,"body_markdown":"thank you for reply @Eran can you please tell what is that ````comparator=.....```` what should i do there","body":"thank you for reply @Eran can you please tell what is that <code>comparator=.....</code> what should i do there"},{"owner":{"account_id":1263831,"reputation":388998,"user_id":1221571,"accept_rate":67,"display_name":"Eran"},"score":0,"creation_date":1576224870,"post_id":59318436,"comment_id":104837596,"body_markdown":"@bharathvarma it should be an instance of a class that implement the `Comparator&lt;EnrollmentStatusTrack&gt;` interface (having a `int compare(EnrollmentStatusTrack o1,EnrollmentStatusTrack o2)` method). How should two `EnrollmentStatusTrack` instance be compared?","body":"@bharathvarma it should be an instance of a class that implement the <code>Comparator&lt;EnrollmentStatusTrack&gt;</code> interface (having a <code>int compare(EnrollmentStatusTrack o1,EnrollmentStatusTrack o2)</code> method). How should two <code>EnrollmentStatusTrack</code> instance be compared?"}],"tags":[],"owner":{"account_id":1263831,"reputation":388998,"user_id":1221571,"accept_rate":67,"display_name":"Eran"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1576224312,"creation_date":1576224312,"answer_id":59318436,"question_id":59318398,"body_markdown":"&gt;com.barcouncil.entity.EnrollmentStatusTrack cannot be cast to java.lang.Comparable\r\n\r\nThis means your `EnrollmentStatusTrack` class doesn&#39;t implement the `Comparable` interface, so you can&#39;t construct a `TreeSet&lt;EnrollmentStatusTrack&gt;` using a constructor that doesn&#39;t have a `Comparator&lt;EnrollmentStatusTrack&gt;` argument (since the `TreeSet` would have no way of comparing the elements added to it).\r\n\r\nYou can write:\r\n\r\n    Comprator&lt;EnrollmentStatusTrack&gt; comparator = ...\r\n    TreeSet&lt;EnrollmentStatusTrack&gt; hashSetToTreeSet  = new TreeSet&lt;&gt;(comparator);\r\n    hashSetToTreeSet.addAll(set);\r\n         \r\nwhere `comparator` implements the comparison logic.","title":"How to get the last element of a HashSet?","body":"<blockquote>\n  <p>com.barcouncil.entity.EnrollmentStatusTrack cannot be cast to java.lang.Comparable</p>\n</blockquote>\n\n<p>This means your <code>EnrollmentStatusTrack</code> class doesn't implement the <code>Comparable</code> interface, so you can't construct a <code>TreeSet&lt;EnrollmentStatusTrack&gt;</code> using a constructor that doesn't have a <code>Comparator&lt;EnrollmentStatusTrack&gt;</code> argument (since the <code>TreeSet</code> would have no way of comparing the elements added to it).</p>\n\n<p>You can write:</p>\n\n<pre><code>Comprator&lt;EnrollmentStatusTrack&gt; comparator = ...\nTreeSet&lt;EnrollmentStatusTrack&gt; hashSetToTreeSet  = new TreeSet&lt;&gt;(comparator);\nhashSetToTreeSet.addAll(set);\n</code></pre>\n\n<p>where <code>comparator</code> implements the comparison logic.</p>\n"},{"tags":[],"owner":{"account_id":4638574,"reputation":67,"user_id":3759060,"display_name":"Amar Wadhwani"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1576226937,"creation_date":1576226937,"answer_id":59318989,"question_id":59318398,"body_markdown":"You can define a `compareTo()` method in your `EnrollmentStatusTrack` class by implementing the Comparable interface.\r\nIn the `compareTo()` method, you need to define the meaning of first/last element i.e. the ordering of the elements when the TreeSet is populated.\r\n\r\n```\r\nclass EnrollmentStatusTrack implements Comparable&lt;EnrollmentStatusTrack&gt; {\r\n \r\n    int size;\r\n \r\n    EnrollmentStatusTrack(int s) {\r\n        size = s;\r\n    }\r\n \r\n    public int compareTo(EnrollmentStatusTrack o) {\r\n        return size - o.size;\r\n    }\r\n}\r\n```","title":"How to get the last element of a HashSet?","body":"<p>You can define a <code>compareTo()</code> method in your <code>EnrollmentStatusTrack</code> class by implementing the Comparable interface.\nIn the <code>compareTo()</code> method, you need to define the meaning of first/last element i.e. the ordering of the elements when the TreeSet is populated.</p>\n\n<pre><code>class EnrollmentStatusTrack implements Comparable&lt;EnrollmentStatusTrack&gt; {\n\n    int size;\n\n    EnrollmentStatusTrack(int s) {\n        size = s;\n    }\n\n    public int compareTo(EnrollmentStatusTrack o) {\n        return size - o.size;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15056857,"reputation":61,"user_id":10866894,"display_name":"bharath varma"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1576230869,"creation_date":1576230869,"answer_id":59320014,"question_id":59318398,"body_markdown":"my aim is to find last element so i have done like this\r\n\r\n    if(en.getEnrollmentStatusTracks() != null)\r\n    \t\t\t{\r\n    \t\t\tSet&lt;EnrollmentStatusTrack&gt; set= new HashSet&lt;EnrollmentStatusTrack&gt;();\r\n    \t\t\tset=en.getEnrollmentStatusTracks();\r\n    \t\t\tList&lt;EnrollmentStatusTrack&gt; list  = new ArrayList&lt;EnrollmentStatusTrack&gt;(set); \r\n    \t\t\tCollections.sort(list, Comparator.comparingInt(EnrollmentStatusTrack::getEnrollmentStatusTrackId)); \r\n    \t\t\tif(list.size() &gt; 0)\r\n    \t\t\t{\r\n    \t\t\t ent=list.get(list.size() - 1);\r\n    \t\t\t}\r\n    }","title":"How to get the last element of a HashSet?","body":"<p>my aim is to find last element so i have done like this</p>\n\n<pre><code>if(en.getEnrollmentStatusTracks() != null)\n            {\n            Set&lt;EnrollmentStatusTrack&gt; set= new HashSet&lt;EnrollmentStatusTrack&gt;();\n            set=en.getEnrollmentStatusTracks();\n            List&lt;EnrollmentStatusTrack&gt; list  = new ArrayList&lt;EnrollmentStatusTrack&gt;(set); \n            Collections.sort(list, Comparator.comparingInt(EnrollmentStatusTrack::getEnrollmentStatusTrackId)); \n            if(list.size() &gt; 0)\n            {\n             ent=list.get(list.size() - 1);\n            }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1576231947,"creation_date":1576231947,"answer_id":59320326,"question_id":59318398,"body_markdown":"It could very well be, that with &quot;last&quot; you do **not** mean the last in an internal ordering of EnrollmentStatusTrack, but the _last added_ (because of the terms _enrollment_, _status_, _track_).\r\n\r\nIn that case use **`LinkedHashSet`** which is ordered on addition, like `LinkedHashMap`.","title":"How to get the last element of a HashSet?","body":"<p>It could very well be, that with \"last\" you do <strong>not</strong> mean the last in an internal ordering of EnrollmentStatusTrack, but the <em>last added</em> (because of the terms <em>enrollment</em>, <em>status</em>, <em>track</em>).</p>\n\n<p>In that case use <strong><code>LinkedHashSet</code></strong> which is ordered on addition, like <code>LinkedHashMap</code>.</p>\n"}],"owner":{"account_id":15056857,"reputation":61,"user_id":10866894,"display_name":"bharath varma"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":260,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"closed_date":1691846174,"accepted_answer_id":59320014,"answer_count":4,"score":2,"last_activity_date":1691815573,"creation_date":1576224130,"question_id":59318398,"body_markdown":"I want to get last element of `HashSet`.\r\n\r\nSo there is a `last()` method in `TreeSet` so, I thought to convert set to `TreeSet` and apply `last()` method on it so that I will get last element.\r\n\r\nI tried below code :\r\n\r\n```lang-java\r\nSet&lt;EnrollmentStatusTrack&gt; set= new HashSet&lt;EnrollmentStatusTrack&gt;();\r\nset=en.getEnrollmentStatusTracks();\r\nTreeSet&lt;EnrollmentStatusTrack&gt; hashSetToTreeSet  = new TreeSet&lt;EnrollmentStatusTrack&gt;(set);  //here is the exception\r\nEnrollmentStatusTrack entt=hashSetToTreeSet.last();\r\n```\r\n\r\nThen i get below exception:\r\n\r\n```lang-none\r\njava.lang.ClassCastException: com.barcouncil.entity.EnrollmentStatusTrack cannot be cast to java.lang.Comparable\r\n\tat java.util.TreeMap.compare(TreeMap.java:1290)\r\n\tat java.util.TreeMap.put(TreeMap.java:538)\r\n\tat java.util.TreeSet.add(TreeSet.java:255)\r\n\tat java.util.AbstractCollection.addAll(AbstractCollection.java:344)\r\n\tat java.util.TreeSet.addAll(TreeSet.java:312)\r\n\tat java.util.TreeSet.&lt;init&gt;(TreeSet.java:160)\r\n\tat com.barcouncil.dao.EnrollmentDaoImpl.searchReport(EnrollmentDaoImpl.java:994)\r\n\tat com.barcouncil.service.EnrollmentServiceImpl.searchReport(EnrollmentServiceImpl.java:278)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:497)\r\n\tat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:343)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:198)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\r\n\tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:294)\r\n\tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:98)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:212)\r\n\tat com.sun.proxy.$Proxy1909.searchReport(Unknown Source)\r\n\tat com.barcouncil.controller.EnrollmentController.searchReport(EnrollmentController.java:984)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:497)\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:189)\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:102)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:800)\r\n\tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\r\n\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1038)\r\n\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:942)\r\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1005)\r\n\tat org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:908)\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:648)\r\n\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:882)\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:729)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:292)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:207)\r\n\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:240)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:207)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:320)\r\n\tat org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:127)\r\n\tat org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:91)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n\tat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n\tat org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n\tat org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n\tat org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:170)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n\tat org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n\tat org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:200)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n\tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n\tat org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:74)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n\tat org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n\tat org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n\tat org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215)\r\n\tat org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178)\r\n\tat org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:357)\r\n\tat org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:270)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:240)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:207)\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:212)\r\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:106)\r\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:502)\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:141)\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:79)\r\n\tat org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:616)\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:88)\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:528)\r\n\tat org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1100)\r\n\tat org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:687)\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1520)\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.run(NioEndpoint.java:1476)\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n\tat java.lang.Thread.run(Thread.java:745)\r\n```\r\n\r\nCan any one help me with this?  Or is there any other procedure to do so?\r\n  ","title":"How to get the last element of a HashSet?","body":"<p>I want to get last element of <code>HashSet</code>.</p>\n<p>So there is a <code>last()</code> method in <code>TreeSet</code> so, I thought to convert set to <code>TreeSet</code> and apply <code>last()</code> method on it so that I will get last element.</p>\n<p>I tried below code :</p>\n<pre class=\"lang-java prettyprint-override\"><code>Set&lt;EnrollmentStatusTrack&gt; set= new HashSet&lt;EnrollmentStatusTrack&gt;();\nset=en.getEnrollmentStatusTracks();\nTreeSet&lt;EnrollmentStatusTrack&gt; hashSetToTreeSet  = new TreeSet&lt;EnrollmentStatusTrack&gt;(set);  //here is the exception\nEnrollmentStatusTrack entt=hashSetToTreeSet.last();\n</code></pre>\n<p>Then i get below exception:</p>\n<pre class=\"lang-none prettyprint-override\"><code>java.lang.ClassCastException: com.barcouncil.entity.EnrollmentStatusTrack cannot be cast to java.lang.Comparable\n    at java.util.TreeMap.compare(TreeMap.java:1290)\n    at java.util.TreeMap.put(TreeMap.java:538)\n    at java.util.TreeSet.add(TreeSet.java:255)\n    at java.util.AbstractCollection.addAll(AbstractCollection.java:344)\n    at java.util.TreeSet.addAll(TreeSet.java:312)\n    at java.util.TreeSet.&lt;init&gt;(TreeSet.java:160)\n    at com.barcouncil.dao.EnrollmentDaoImpl.searchReport(EnrollmentDaoImpl.java:994)\n    at com.barcouncil.service.EnrollmentServiceImpl.searchReport(EnrollmentServiceImpl.java:278)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:497)\n    at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:343)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:198)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n    at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:294)\n    at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:98)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n    at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:212)\n    at com.sun.proxy.$Proxy1909.searchReport(Unknown Source)\n    at com.barcouncil.controller.EnrollmentController.searchReport(EnrollmentController.java:984)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:497)\n    at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:189)\n    at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138)\n    at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:102)\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:800)\n    at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1038)\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:942)\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1005)\n    at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:908)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:648)\n    at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:882)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:729)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:292)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:207)\n    at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:240)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:207)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:320)\n    at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:127)\n    at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:91)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\n    at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\n    at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\n    at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\n    at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:170)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\n    at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\n    at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:200)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\n    at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\n    at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:74)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\n    at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\n    at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\n    at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215)\n    at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178)\n    at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:357)\n    at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:270)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:240)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:207)\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:212)\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:106)\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:502)\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:141)\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:79)\n    at org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:616)\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:88)\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:528)\n    at org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1100)\n    at org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:687)\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1520)\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.run(NioEndpoint.java:1476)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n    at java.lang.Thread.run(Thread.java:745)\n</code></pre>\n<p>Can any one help me with this?  Or is there any other procedure to do so?</p>\n"},{"tags":["java","spring-boot","soapui","apache-axis","java-17"],"answers":[{"tags":[],"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1691815423,"creation_date":1691814786,"answer_id":76887738,"question_id":76885860,"body_markdown":"The change in package naming from `javax.*` to `jakarta.*` is a breaking event. Different packages mean different software. The whole point of packages is to create separate distinct [namespaces][1]. \r\n\r\nIf your project depends on *any* Java EE components, then you cannot use Jakarta EE. \r\n\r\nThis transition has been known for years. So many Java EE components have been updated to support the new package names. Check for new versions of your needed components. \r\n\r\nIf stuck on the *javax.* naming, do not despair. The Jakarta implementations such as Jetty and Tomcat are continuing to develop parallel versions of their products in both package naming schemes. So you have time to wait for needed components to be eventually updated to Jakarta. \r\n\r\nRegarding *Axis2* specifically, I found [this open ticket][2] asking for Jakarta support.\r\n\r\n\r\n  [1]: https://en.m.wikipedia.org/wiki/Namespace\r\n  [2]: https://issues.apache.org/jira/plugins/servlet/mobile#issue/AXIS2-6051","title":"How to use axis2 with jakarta?","body":"<p>The change in package naming from <code>javax.*</code> to <code>jakarta.*</code> is a breaking event. Different packages mean different software. The whole point of packages is to create separate distinct <a href=\"https://en.m.wikipedia.org/wiki/Namespace\" rel=\"nofollow noreferrer\">namespaces</a>.</p>\n<p>If your project depends on <em>any</em> Java EE components, then you cannot use Jakarta EE.</p>\n<p>This transition has been known for years. So many Java EE components have been updated to support the new package names. Check for new versions of your needed components.</p>\n<p>If stuck on the <em>javax.</em> naming, do not despair. The Jakarta implementations such as Jetty and Tomcat are continuing to develop parallel versions of their products in both package naming schemes. So you have time to wait for needed components to be eventually updated to Jakarta.</p>\n<p>Regarding <em>Axis2</em> specifically, I found <a href=\"https://issues.apache.org/jira/plugins/servlet/mobile#issue/AXIS2-6051\" rel=\"nofollow noreferrer\">this open ticket</a> asking for Jakarta support.</p>\n"}],"owner":{"account_id":23623466,"reputation":1,"user_id":17656332,"display_name":"Harshini R"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":434,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1691815423,"creation_date":1691777343,"question_id":76885860,"body_markdown":"Axis2-transport-http uses javax.* and java 17 and tomcat 10 need jakarta EE API\r\nIs it possible to use the Jakarta EE API with the Axis2 library and will migrating to Java 17 and Tomcat 10 work? ","title":"How to use axis2 with jakarta?","body":"<p>Axis2-transport-http uses javax.* and java 17 and tomcat 10 need jakarta EE API\nIs it possible to use the Jakarta EE API with the Axis2 library and will migrating to Java 17 and Tomcat 10 work?</p>\n"},{"tags":["java","mongodb","spring-data-mongodb","java-17","mongodb-csfle"],"answers":[{"comments":[{"owner":{"account_id":4671960,"reputation":27,"user_id":3783528,"display_name":"Wolf17"},"score":0,"creation_date":1690739462,"post_id":76798102,"comment_id":135392025,"body_markdown":"Thank you for responding :) . I have added Edit section where I have pasted a rough SchemaMap that I have actually used in the Code for testing, but this too had failed to encrypt the fields. The Data key that I put in the &quot;keyUuid&quot; is generated with the help of generateDataKey() method of the ClientEncyption class, which I then converted into UUID.","body":"Thank you for responding :) . I have added Edit section where I have pasted a rough SchemaMap that I have actually used in the Code for testing, but this too had failed to encrypt the fields. The Data key that I put in the &quot;keyUuid&quot; is generated with the help of generateDataKey() method of the ClientEncyption class, which I then converted into UUID."},{"owner":{"account_id":13141180,"reputation":4284,"user_id":9492730,"display_name":"dododo"},"score":0,"creation_date":1690739850,"post_id":76798102,"comment_id":135392078,"body_markdown":"As I wrote in #4, where @Encrypted attribute has come from, can you point me on some documentation where it&#39;s mentioned? The reason why the value is not encrypted is because driver didn&#39;t find the field to encrypt. It&#39;s about any mismatching between class ans schemaMap. As a side note, did you try making `fieldToBeEncrypted` public?","body":"As I wrote in #4, where @Encrypted attribute has come from, can you point me on some documentation where it&#39;s mentioned? The reason why the value is not encrypted is because driver didn&#39;t find the field to encrypt. It&#39;s about any mismatching between class ans schemaMap. As a side note, did you try making <code>fieldToBeEncrypted</code> public?"},{"owner":{"account_id":4671960,"reputation":27,"user_id":3783528,"display_name":"Wolf17"},"score":0,"creation_date":1690740268,"post_id":76798102,"comment_id":135392116,"body_markdown":"Sure, this is the docs for the @Encrypted Annotation. -&gt;https://docs.spring.io/spring-data/data-mongodb/docs/current-SNAPSHOT/api/org/springframework/data/mongodb/core/mapping/Encrypted.html","body":"Sure, this is the docs for the @Encrypted Annotation. -&gt;<a href=\"https://docs.spring.io/spring-data/data-mongodb/docs/current-SNAPSHOT/api/org/springframework/data/mongodb/core/mapping/Encrypted.html\" rel=\"nofollow noreferrer\">docs.spring.io/spring-data/data-mongodb/docs/current-SNAPS&zwnj;&#8203;HOT/&hellip;</a>"},{"owner":{"account_id":4671960,"reputation":27,"user_id":3783528,"display_name":"Wolf17"},"score":0,"creation_date":1690740368,"post_id":76798102,"comment_id":135392128,"body_markdown":"I was able to generate the SchemaMap for my class with the help of @Encryped annotation and the MongoJsonSchemaCreator class&#39;s createSchemaFor() method.","body":"I was able to generate the SchemaMap for my class with the help of @Encryped annotation and the MongoJsonSchemaCreator class&#39;s createSchemaFor() method."},{"owner":{"account_id":13141180,"reputation":4284,"user_id":9492730,"display_name":"dododo"},"score":0,"creation_date":1690740673,"post_id":76798102,"comment_id":135392169,"body_markdown":"Sounds like this attribute is only about generating schemaMap. Then, provide a full code you use. And as I mentioned above, try making field `public`","body":"Sounds like this attribute is only about generating schemaMap. Then, provide a full code you use. And as I mentioned above, try making field <code>public</code>"},{"owner":{"account_id":4671960,"reputation":27,"user_id":3783528,"display_name":"Wolf17"},"score":0,"creation_date":1690740771,"post_id":76798102,"comment_id":135392180,"body_markdown":"Sure, I will try putting the code here. yes, I also tried it with public but it didn&#39;t made any difference :(","body":"Sure, I will try putting the code here. yes, I also tried it with public but it didn&#39;t made any difference :("},{"owner":{"account_id":4671960,"reputation":27,"user_id":3783528,"display_name":"Wolf17"},"score":0,"creation_date":1690742008,"post_id":76798102,"comment_id":135392299,"body_markdown":"I have added the code that generates the schemaMap in one answer post","body":"I have added the code that generates the schemaMap in one answer post"},{"owner":{"account_id":13141180,"reputation":4284,"user_id":9492730,"display_name":"dododo"},"score":0,"creation_date":1690742794,"post_id":76798102,"comment_id":135392386,"body_markdown":"wait ` .bypassAutoEncryption(true)` skips encryption at all, why do you configure it?","body":"wait ` .bypassAutoEncryption(true)` skips encryption at all, why do you configure it?"},{"owner":{"account_id":4671960,"reputation":27,"user_id":3783528,"display_name":"Wolf17"},"score":0,"creation_date":1690743070,"post_id":76798102,"comment_id":135392411,"body_markdown":"Oh actually sorry it is not part of my original code ... my code is in a remote machine and I cannot copy paste from there to here ... :( so I have to copy things from internet and edit it here :( and I forgot to remove it ... let me fix it in the answer","body":"Oh actually sorry it is not part of my original code ... my code is in a remote machine and I cannot copy paste from there to here ... :( so I have to copy things from internet and edit it here :( and I forgot to remove it ... let me fix it in the answer"},{"owner":{"account_id":4671960,"reputation":27,"user_id":3783528,"display_name":"Wolf17"},"score":0,"creation_date":1690749388,"post_id":76798102,"comment_id":135393097,"body_markdown":"Is it possible that this issue is due to some master key - data key related issue ? I was also thinking if there is a way to get detailed lods of the mongocrypt daemon ... if possible ?","body":"Is it possible that this issue is due to some master key - data key related issue ? I was also thinking if there is a way to get detailed lods of the mongocrypt daemon ... if possible ?"},{"owner":{"account_id":13141180,"reputation":4284,"user_id":9492730,"display_name":"dododo"},"score":0,"creation_date":1690749453,"post_id":76798102,"comment_id":135393103,"body_markdown":"unlikely, in this case i would be an error, not a skipped key","body":"unlikely, in this case i would be an error, not a skipped key"},{"owner":{"account_id":4671960,"reputation":27,"user_id":3783528,"display_name":"Wolf17"},"score":0,"creation_date":1690778977,"post_id":76798102,"comment_id":135395183,"body_markdown":"Is there a way to get a detailed logs of the mongocryprd daemon or to check what it has processed?","body":"Is there a way to get a detailed logs of the mongocryprd daemon or to check what it has processed?"},{"owner":{"account_id":13141180,"reputation":4284,"user_id":9492730,"display_name":"dododo"},"score":0,"creation_date":1690958977,"post_id":76798102,"comment_id":135423548,"body_markdown":"It won&#39;t be easy (by default mongocryptd doesn&#39;t produce logs and I&#39;m not sure off the top of my head whether you can find anything helpful there even in theory). What you really need is to realize why your schemaMap doesn&#39;t affect encryption. I assume it&#39;s something in your schemaMap (mismatch field name in map and class) or because let&#39;s say for some reason private fields doesn&#39;t participate in this logic (just a guess). Try looking at this https://www.baeldung.com/mongodb-field-level-encryption","body":"It won&#39;t be easy (by default mongocryptd doesn&#39;t produce logs and I&#39;m not sure off the top of my head whether you can find anything helpful there even in theory). What you really need is to realize why your schemaMap doesn&#39;t affect encryption. I assume it&#39;s something in your schemaMap (mismatch field name in map and class) or because let&#39;s say for some reason private fields doesn&#39;t participate in this logic (just a guess). Try looking at this <a href=\"https://www.baeldung.com/mongodb-field-level-encryption\" rel=\"nofollow noreferrer\">baeldung.com/mongodb-field-level-encryption</a>"},{"owner":{"account_id":4671960,"reputation":27,"user_id":3783528,"display_name":"Wolf17"},"score":0,"creation_date":1691814024,"post_id":76798102,"comment_id":135545748,"body_markdown":"Hi Dododo, thank you so much for your help :). Yes it was actually the scehmaMap that was really having the issue. We came to know about it after increasing the verbose level of the mongocryptd logs, where we were able to see the issue.","body":"Hi Dododo, thank you so much for your help :). Yes it was actually the scehmaMap that was really having the issue. We came to know about it after increasing the verbose level of the mongocryptd logs, where we were able to see the issue."}],"tags":[],"owner":{"account_id":13141180,"reputation":4284,"user_id":9492730,"display_name":"dododo"},"comment_count":14,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1690725910,"creation_date":1690725910,"answer_id":76798102,"question_id":76795168,"body_markdown":"Writing it as answer since it&#39;s quite big:\r\n\r\n1. `Where does the actual encryption happens ?` - inside java driver (in particular inside a libmongocrypt library), but mongocryptd is also required daemon for this workflow.\r\n2. `Is there any settings we have to enable in the mongo cluster in order to enable auto field encryption.` - there are options to disable encrypting, but by default it should work as long as you specified correct schemaMap.\r\n3. `are those inter compatible with each other` - it should, but even if no, such simple functionality were in csfle logic from the beginning.\r\n4. Where is `@Encrypted` attribute came from, I&#39;m not java developer, but I didn&#39;t find it in documentation. See articles how it should be configured [here][1]. Also, in order to troubleshot further, provide schemaMap value you add to the clientSettings.\r\n\r\n\r\n  [1]: https://www.mongodb.com/docs/manual/core/csfle/fundamentals/automatic-encryption/","title":"MongoDB Automatic client side Field level Encryption | mongoCryptD daemon not marking the fields to be encrypted","body":"<p>Writing it as answer since it's quite big:</p>\n<ol>\n<li><code>Where does the actual encryption happens ?</code> - inside java driver (in particular inside a libmongocrypt library), but mongocryptd is also required daemon for this workflow.</li>\n<li><code>Is there any settings we have to enable in the mongo cluster in order to enable auto field encryption.</code> - there are options to disable encrypting, but by default it should work as long as you specified correct schemaMap.</li>\n<li><code>are those inter compatible with each other</code> - it should, but even if no, such simple functionality were in csfle logic from the beginning.</li>\n<li>Where is <code>@Encrypted</code> attribute came from, I'm not java developer, but I didn't find it in documentation. See articles how it should be configured <a href=\"https://www.mongodb.com/docs/manual/core/csfle/fundamentals/automatic-encryption/\" rel=\"nofollow noreferrer\">here</a>. Also, in order to troubleshot further, provide schemaMap value you add to the clientSettings.</li>\n</ol>\n"},{"comments":[{"owner":{"account_id":13141180,"reputation":4284,"user_id":9492730,"display_name":"dododo"},"score":0,"creation_date":1690978036,"post_id":76799156,"comment_id":135427546,"body_markdown":"do not post question updates as the answer, instead edit initial question","body":"do not post question updates as the answer, instead edit initial question"}],"tags":[],"owner":{"account_id":4671960,"reputation":27,"user_id":3783528,"display_name":"Wolf17"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1690743089,"creation_date":1690741919,"answer_id":76799156,"question_id":76795168,"body_markdown":"I am putting the code that generates the schemaMap below -&gt;\r\n```\r\nprivate Map&lt;String, BsonDocument&gt; generateSchemaMap() {\r\n\tMongoJsonSchemaCreator schemaCreator = MongoJsonSchemaCreator.create(mappingContext);\r\n\tMap&lt;String, BsonDocument&gt; schemaMap = new HashMap&lt;&gt;();\r\n\tClass encryptedEntityClass = MyDocument.class ;  //Class that has fields to be encrypted -&gt; MyDocument\r\n\tMongoJsonSchema schema = schemaCreator\r\n\t\t\t.filter(MongoJsonSchemaCreator.encryptedOnly); // this checks for entity marked with @Encrypted annotation only.\r\n\t\t\t.createSchemaFor(encryptedEntityClass);\r\n\t\r\n\tschemaMap.put(&quot;dbName.MyDocument&quot;, \r\n\t\t\tschema.schemaDocument().toBsonDocument(encryptedEntityClass,\r\n\t\t\t     MongoClientSettings.getDefaultCodecRegistry()));\r\n\treturn schemaMap;\r\n\t\t\r\n}\r\n\r\n```\r\n\r\nthis SchemaMap then I put inside my AutoEncryptionSettings -&gt;\r\n```\r\nMongoClientSettings.Builder.autoEncryptionSettings(\r\n          AutoEncryptionSettings.builder()\r\n            .keyVaultNamespace(encryptionConfig.getKeyVaultNamespace())\r\n            .kmsProviders(LocalKmsUtils.providersMap(encryptionConfig.getMasterKeyPath()))\r\n\t\t\t.schemaMap(generateSchemaMap())\r\n          .build())\r\n\t\t .build();\r\n```","title":"MongoDB Automatic client side Field level Encryption | mongoCryptD daemon not marking the fields to be encrypted","body":"<p>I am putting the code that generates the schemaMap below -&gt;</p>\n<pre><code>private Map&lt;String, BsonDocument&gt; generateSchemaMap() {\n    MongoJsonSchemaCreator schemaCreator = MongoJsonSchemaCreator.create(mappingContext);\n    Map&lt;String, BsonDocument&gt; schemaMap = new HashMap&lt;&gt;();\n    Class encryptedEntityClass = MyDocument.class ;  //Class that has fields to be encrypted -&gt; MyDocument\n    MongoJsonSchema schema = schemaCreator\n            .filter(MongoJsonSchemaCreator.encryptedOnly); // this checks for entity marked with @Encrypted annotation only.\n            .createSchemaFor(encryptedEntityClass);\n    \n    schemaMap.put(&quot;dbName.MyDocument&quot;, \n            schema.schemaDocument().toBsonDocument(encryptedEntityClass,\n                 MongoClientSettings.getDefaultCodecRegistry()));\n    return schemaMap;\n        \n}\n\n</code></pre>\n<p>this SchemaMap then I put inside my AutoEncryptionSettings -&gt;</p>\n<pre><code>MongoClientSettings.Builder.autoEncryptionSettings(\n          AutoEncryptionSettings.builder()\n            .keyVaultNamespace(encryptionConfig.getKeyVaultNamespace())\n            .kmsProviders(LocalKmsUtils.providersMap(encryptionConfig.getMasterKeyPath()))\n            .schemaMap(generateSchemaMap())\n          .build())\n         .build();\n</code></pre>\n"}],"owner":{"account_id":4671960,"reputation":27,"user_id":3783528,"display_name":"Wolf17"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":281,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76798102,"answer_count":2,"score":1,"last_activity_date":1691814513,"creation_date":1690659163,"question_id":76795168,"body_markdown":"I am using MongoDB&#39;s automatic client side field level encryption, But I observed that the fields are not getting encrypted in the collection.\r\n\r\n - The MongoDB-crypt library that I am using is 1.6.1\r\n - mongo driver core and sync version are 4.9.1\r\n - The MongoCryptD version is 5.0.3\r\n - The OS is linux (RHEL 7.9)\r\n - MongoDB version 4.2.11 Enterprise edition.\r\n - Java JDK- 17\r\n\r\nThe Class that represents my document that I want to perform field encryption on is annotated with @Encrypted annotation with the data key ID and the Encryption algorithm \r\nand also the fields in that class I want to encrypt is simply annotated with @Encypted annotation.\r\n\r\nSo it looks something like this -&gt;\r\n\r\n\r\n```\r\n@Data  // lombok\r\n@Document\r\n@Encrypted (keyID=&quot;&lt;the key id&gt;&quot;, algorithm= &quot;&lt;The algorithm&gt;&quot;)\r\npublic class MyDocument{\r\n   @Id\r\n   private UUID dataID;\r\n\r\n   @Encrypted\r\n   private String fieldToBeEncrypted;\r\n   \r\n   private String otherField;\r\n} \r\n\r\n```\r\n\r\nI am using MongoJsonSchemaCreator&#39;s createSchemaFor() method with a filter method MongoJsonSchemaCreator.encryptedOnly() in order to generate a Json Schema after which I then create a SchemaMap from.\r\n\r\nthis schemaMap I am then populating while creating AutoEncryptionSettings.-&gt;\r\n\r\n\r\n```\r\nMongoClientSettings clientSettings = MongoClientSettings.builder()\r\n.autoEncryptionSettings(AutoEncryptionSettings.builder()\r\n        .keyVaultNamespace(keyVaultNamespace)\r\n        .kmsProviders(kmsProviders)\r\n        .schemaMap(schemaMap)\r\n        .extraOptions(extraOptions)\r\n        .build())\r\n...(other settings)\r\n    .build();\r\n```\r\n\r\nThe master key that I am putting in the kmsProviders is a 96 bytes random character that I generate with OpenSSL random command.\r\n\r\n____\r\nNow the problem is that I am not seeing any data being encrypted and also I do not see any failure message in the console logs.\r\n\r\nNow my question is -&gt;\r\n1. Where does the actual encryption happens ? it is definitly not in the mongocryptd as the docs states so.\r\n   So what is actually handling the encryption ?\r\n2. Is there any settings we have to enable in the mongo cluster in order to enable auto field encryption.\r\n3. The versions that I have stated at the top of my question are those inter compatible with each other and the linux OS as well ?\r\n4. Is there any checklist in general that I can use in order to troubleshoot this issue of encryption not happening ?\r\n\r\n\r\n\r\n\r\nIt seems that the mongocryptd process is not marking the fields to be encrypted for writes and thus no encryption is taking place but not sure\r\n\r\n\r\n-------\r\nEdit 1:\r\n\r\nSharing the rough SchemaMap that I tried in my AutoEncryptionSettings but this to has failed -&gt;\r\n\r\n```\r\nschemaMap.put(getDatabaseName() + &quot;.MyDocument&quot;, BsonDocument.parse(&quot;{&quot;\r\n  + &quot;  bsonType: \\&quot;object\\&quot;,&quot;\r\n  + &quot;  encryptMetadata: {&quot;\r\n  + &quot;    keyId: [UUID(\\&quot;&quot; + keyUuid + &quot;\\&quot;)]&quot;\r\n  + &quot;  },&quot;\r\n  + &quot;  properties: {&quot;\r\n  + &quot;    fieldToBeEncrypted: {&quot;\r\n  + &quot;      encrypt: {&quot;\r\n  + &quot;        bsonType: \\&quot;string\\&quot;,&quot;\r\n  + &quot;        algorithm: \\&quot;AEAD_AES_256_CBC_HMAC_SHA_512-Deterministic\\&quot;&quot;\r\n  + &quot;      }&quot;\r\n  + &quot;    }&quot;\r\n  + &quot;  }&quot;\r\n  + &quot;}&quot;));\r\n```\r\nHere the &quot;keyUuid&quot; is the UUID of the datakey that was generated with ClientEncryption class&#39;s createDataKey() method. I had commented the @Encrypted annotation on MyDocument class temporarily in order to pass this hard coded SchemaMap.\r\n\r\nEdit 2:\r\n\r\nSo we found that the issue was related to the schemaMap. The key name in the schemaMap was not matching with the document name.\r\nThe mongo document name was &quot;myDocument&quot; and what I put in the key of schemaMap was &quot;MyDocument&quot; with &quot;M&quot; in caps, thus it was not able to find the proper mapping and was failing.","title":"MongoDB Automatic client side Field level Encryption | mongoCryptD daemon not marking the fields to be encrypted","body":"<p>I am using MongoDB's automatic client side field level encryption, But I observed that the fields are not getting encrypted in the collection.</p>\n<ul>\n<li>The MongoDB-crypt library that I am using is 1.6.1</li>\n<li>mongo driver core and sync version are 4.9.1</li>\n<li>The MongoCryptD version is 5.0.3</li>\n<li>The OS is linux (RHEL 7.9)</li>\n<li>MongoDB version 4.2.11 Enterprise edition.</li>\n<li>Java JDK- 17</li>\n</ul>\n<p>The Class that represents my document that I want to perform field encryption on is annotated with @Encrypted annotation with the data key ID and the Encryption algorithm\nand also the fields in that class I want to encrypt is simply annotated with @Encypted annotation.</p>\n<p>So it looks something like this -&gt;</p>\n<pre><code>@Data  // lombok\n@Document\n@Encrypted (keyID=&quot;&lt;the key id&gt;&quot;, algorithm= &quot;&lt;The algorithm&gt;&quot;)\npublic class MyDocument{\n   @Id\n   private UUID dataID;\n\n   @Encrypted\n   private String fieldToBeEncrypted;\n   \n   private String otherField;\n} \n\n</code></pre>\n<p>I am using MongoJsonSchemaCreator's createSchemaFor() method with a filter method MongoJsonSchemaCreator.encryptedOnly() in order to generate a Json Schema after which I then create a SchemaMap from.</p>\n<p>this schemaMap I am then populating while creating AutoEncryptionSettings.-&gt;</p>\n<pre><code>MongoClientSettings clientSettings = MongoClientSettings.builder()\n.autoEncryptionSettings(AutoEncryptionSettings.builder()\n        .keyVaultNamespace(keyVaultNamespace)\n        .kmsProviders(kmsProviders)\n        .schemaMap(schemaMap)\n        .extraOptions(extraOptions)\n        .build())\n...(other settings)\n    .build();\n</code></pre>\n<p>The master key that I am putting in the kmsProviders is a 96 bytes random character that I generate with OpenSSL random command.</p>\n<hr />\n<p>Now the problem is that I am not seeing any data being encrypted and also I do not see any failure message in the console logs.</p>\n<p>Now my question is -&gt;</p>\n<ol>\n<li>Where does the actual encryption happens ? it is definitly not in the mongocryptd as the docs states so.\nSo what is actually handling the encryption ?</li>\n<li>Is there any settings we have to enable in the mongo cluster in order to enable auto field encryption.</li>\n<li>The versions that I have stated at the top of my question are those inter compatible with each other and the linux OS as well ?</li>\n<li>Is there any checklist in general that I can use in order to troubleshoot this issue of encryption not happening ?</li>\n</ol>\n<p>It seems that the mongocryptd process is not marking the fields to be encrypted for writes and thus no encryption is taking place but not sure</p>\n<hr />\n<p>Edit 1:</p>\n<p>Sharing the rough SchemaMap that I tried in my AutoEncryptionSettings but this to has failed -&gt;</p>\n<pre><code>schemaMap.put(getDatabaseName() + &quot;.MyDocument&quot;, BsonDocument.parse(&quot;{&quot;\n  + &quot;  bsonType: \\&quot;object\\&quot;,&quot;\n  + &quot;  encryptMetadata: {&quot;\n  + &quot;    keyId: [UUID(\\&quot;&quot; + keyUuid + &quot;\\&quot;)]&quot;\n  + &quot;  },&quot;\n  + &quot;  properties: {&quot;\n  + &quot;    fieldToBeEncrypted: {&quot;\n  + &quot;      encrypt: {&quot;\n  + &quot;        bsonType: \\&quot;string\\&quot;,&quot;\n  + &quot;        algorithm: \\&quot;AEAD_AES_256_CBC_HMAC_SHA_512-Deterministic\\&quot;&quot;\n  + &quot;      }&quot;\n  + &quot;    }&quot;\n  + &quot;  }&quot;\n  + &quot;}&quot;));\n</code></pre>\n<p>Here the &quot;keyUuid&quot; is the UUID of the datakey that was generated with ClientEncryption class's createDataKey() method. I had commented the @Encrypted annotation on MyDocument class temporarily in order to pass this hard coded SchemaMap.</p>\n<p>Edit 2:</p>\n<p>So we found that the issue was related to the schemaMap. The key name in the schemaMap was not matching with the document name.\nThe mongo document name was &quot;myDocument&quot; and what I put in the key of schemaMap was &quot;MyDocument&quot; with &quot;M&quot; in caps, thus it was not able to find the proper mapping and was failing.</p>\n"},{"tags":["java","azure","azure-cognitive-services","microsoft-custom-vision","azure-ai"],"owner":{"account_id":11018626,"reputation":21,"user_id":8093679,"display_name":"Ppp"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":146,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1691813710,"creation_date":1691813710,"question_id":76887702,"body_markdown":"I am trying to train an Azure Custom Vision model by following the instructions on this Learn page: [Quickstart: Create an image classification project with the Custom Vision client library or REST API](https://learn.microsoft.com/en-us/azure/ai-services/custom-vision-service/quickstarts/image-classification?tabs=linux%2Cvisual-studio&amp;pivots=programming-language-java) using Java.\r\nWhen I finally try to run the Gradle build, I am getting the below error\r\n\r\n```\r\nException in thread &quot;main&quot; com.microsoft.azure.cognitiveservices.vision.customvision.training.models.CustomVisionErrorException: Status code 404, {&quot;error&quot;:{&quot;code&quot;:&quot;404&quot;,&quot;message&quot;: &quot;Resource not found&quot;}}\r\n```\r\nI am getting this error specifically in the following line:\r\n\r\n```\r\nProject project=createProject(trainClient);\r\n```\r\nThe createProject function which I have taken from the Learn page I linked earlier is:\r\n\r\n```\r\npublic static Project createProject(CustomVisionTrainingClient trainClient)\r\n{    \r\n\tTrainings trainer=trainClient.trainings();    \r\n\tSystem.out.println(&quot;Creating Project&quot;);    \r\n\tProject project=trainer.createProject().withName(&quot;Moon-Phases-Trainer&quot;).execute();    \r\n\treturn project;\r\n}\r\n```\r\nThe line that is causing an issue in specific in the function is\r\n\r\n```\r\nProject project=trainer.createProject().withName(&quot;Moon-Phases-Trainer&quot;).execute();\r\n```\r\nHere&#39;s the full code for your reference:\r\n\r\n```\r\nclass CustomVisionQuickstart\r\n{\r\n    final static String trainingApiKey=System.getenv(&quot;VISION_TRAINING_KEY&quot;);\r\n    final static String trainingEndpoint=System.getenv(&quot;VISION_TRAINING_ENDPOINT&quot;);\r\n    final static String predictionApiKey=System.getenv(&quot;VISION_PREDICTION_KEY&quot;);\r\n    final static String predictionEndpoint=System.getenv(&quot;VISION_PREDICTION_ENDPOINT&quot;);\r\n    final static String predictionResourceID=System.getenv(&quot;VISION_PREDICTION_RESOURCE_ID&quot;);\r\n\r\n    private static Tag newMoonTag, waxingCrescentTag, firstQuarterTag, waxingGibbousTag,\r\n            fullTag, waningGibbousTag, thirdQuarterTag, waningCrescentTag;\r\n\r\n\r\n    public static void main(String[] args) throws InterruptedException\r\n    {\r\n//        System.out.println(trainingApiKey);\r\n//        System.out.println(trainingEndpoint);\r\n        CustomVisionTrainingClient trainClient=CustomVisionTrainingManager\r\n                .authenticate(trainingEndpoint,trainingApiKey)\r\n                .withEndpoint(trainingEndpoint);\r\n\r\n        CustomVisionPredictionClient predictor=CustomVisionPredictionManager\r\n                .authenticate(predictionEndpoint,predictionApiKey)\r\n                .withEndpoint(predictionEndpoint);\r\n\r\n        Project project=createProject(trainClient);\r\n        addTags(trainClient, project);\r\n        uploadImages(trainClient, project);\r\n        trainProject(trainClient, project);\r\n        publishIteration(trainClient, project);\r\n        testProject(predictor, project);\r\n    }\r\n    public static Project createProject(CustomVisionTrainingClient trainClient)\r\n    {\r\n        Trainings trainer=trainClient.trainings();\r\n        System.out.println(&quot;Creating Project&quot;);\r\n        Project project=trainer.createProject().withName(&quot;Moon-Phases-Trainer&quot;).execute();\r\n        return project;\r\n    }\r\n    public static void addTags(CustomVisionTrainingClient trainClient, Project project)\r\n    {\r\n        Trainings trainer = trainClient.trainings();\r\n\r\n        newMoonTag = trainer.createTag().withProjectId(project.id()).withName(&quot;New Moon&quot;).execute();\r\n        waxingCrescentTag = trainer.createTag().withProjectId(project.id()).withName(&quot;Waxing Crescent Moon&quot;).execute();\r\n        firstQuarterTag = trainer.createTag().withProjectId(project.id()).withName(&quot;First Quarter Moon&quot;).execute();\r\n        waxingGibbousTag = trainer.createTag().withProjectId(project.id()).withName(&quot;Waxing Gibbous Moon&quot;).execute();\r\n        fullTag = trainer.createTag().withProjectId(project.id()).withName(&quot;Full Moon&quot;).execute();\r\n        waningGibbousTag = trainer.createTag().withProjectId(project.id()).withName(&quot;Waning Gibbous Moon&quot;).execute();\r\n        thirdQuarterTag = trainer.createTag().withProjectId(project.id()).withName(&quot;Third Quarter Moon&quot;).execute();\r\n        waningCrescentTag = trainer.createTag().withProjectId(project.id()).withName(&quot;Waning Crescent Moon&quot;).execute();\r\n    }\r\n    public static void uploadImages(CustomVisionTrainingClient trainClient, Project project)\r\n    {\r\n        Trainings trainer=trainClient.trainings();\r\n        for (int x=0;x&lt;4;x++)\r\n        {\r\n            String fileName=&quot;New_Moon_&quot;+x+&quot;.jpg&quot;;\r\n            byte contents[]=getImage(&quot;/Moons&quot;,fileName);\r\n            addImageToProject(trainer,project,fileName,contents,newMoonTag.id(),null);\r\n        }\r\n        for (int x=0;x&lt;9;x++)\r\n        {\r\n            String fileName=&quot;Waxing_Crescent_&quot;+x+&quot;.jpg&quot;;\r\n            byte contents[]=getImage(&quot;/Moons&quot;,fileName);\r\n            addImageToProject(trainer,project,fileName,contents,waxingCrescentTag.id(),null);\r\n        }\r\n        for (int x=0;x&lt;8;x++)\r\n        {\r\n            String fileName=&quot;First_Quarter_&quot;+x+&quot;.jpg&quot;;\r\n            byte contents[]=getImage(&quot;/Moons&quot;,fileName);\r\n            addImageToProject(trainer,project,fileName,contents,firstQuarterTag.id(),null);\r\n        }\r\n        for (int x=0;x&lt;13;x++)\r\n        {\r\n            String fileName=&quot;Waxing_Gibbous_&quot;+x+&quot;.jpg&quot;;\r\n            byte contents[]=getImage(&quot;/Moons&quot;,fileName);\r\n            addImageToProject(trainer,project,fileName,contents,waxingGibbousTag.id(),null);\r\n        }\r\n        for (int x=0;x&lt;5;x++)\r\n        {\r\n            String fileName=&quot;Full_Moon_&quot;+x+&quot;.jpg&quot;;\r\n            byte contents[]=getImage(&quot;/Moons&quot;,fileName);\r\n            addImageToProject(trainer,project,fileName,contents,fullTag.id(),null);\r\n        }\r\n        for (int x=0;x&lt;15;x++)\r\n        {\r\n            String fileName=&quot;Waning_Gibbous_&quot;+x+&quot;.jpg&quot;;\r\n            byte contents[]=getImage(&quot;/Moons&quot;,fileName);\r\n            addImageToProject(trainer,project,fileName,contents,waningGibbousTag.id(),null);\r\n        }\r\n        for (int x=0;x&lt;6;x++)\r\n        {\r\n            String fileName=&quot;Third_Quarter_&quot;+x+&quot;.jpg&quot;;\r\n            byte contents[]=getImage(&quot;/Moons&quot;,fileName);\r\n            addImageToProject(trainer,project,fileName,contents,thirdQuarterTag.id(),null);\r\n        }\r\n        for (int x=0;x&lt;13;x++)\r\n        {\r\n            String fileName=&quot;Waning_Crescent_&quot;+x+&quot;.jpg&quot;;\r\n            byte contents[]=getImage(&quot;/Moons&quot;,fileName);\r\n            addImageToProject(trainer,project,fileName,contents,waningCrescentTag.id(),null);\r\n        }\r\n    }\r\n    private static void addImageToProject(Trainings trainer, Project project, String fileName, byte[] contents, UUID tag, double[] regionValues)\r\n    {\r\n        System.out.println(&quot;Adding image: &quot;+fileName);\r\n        ImageFileCreateEntry file=new ImageFileCreateEntry().withName(fileName).withContents(contents);\r\n        ImageFileCreateBatch batch=new ImageFileCreateBatch().withImages(Collections.singletonList(file));\r\n        if(regionValues!=null)\r\n        {\r\n            Region region=new Region().withTagId(tag).withLeft(regionValues[0]).withTop(regionValues[1]).withWidth(regionValues[2]).withHeight(regionValues[3]);\r\n            file=file.withRegions(Collections.singletonList(region));\r\n        }\r\n        else\r\n            batch = batch.withTagIds(Collections.singletonList(tag));\r\n        trainer.createImagesFromFiles(project.id(),batch);\r\n    }\r\n    private static byte[] getImage(String folder, String fileName)\r\n    {\r\n        try\r\n        {\r\n            return ByteStreams.toByteArray(CustomVisionQuickstart.class.getResourceAsStream(folder+&quot;/&quot;+fileName));\r\n        }\r\n        catch(Exception e)\r\n        {\r\n            System.out.println(e.getMessage());\r\n            e.printStackTrace();\r\n        }\r\n        return null;\r\n    }\r\n    public static Iteration trainProject(CustomVisionTrainingClient trainClient, Project project) throws InterruptedException\r\n    {\r\n        System.out.println(&quot;Training...&quot;);\r\n        Trainings trainer=trainClient.trainings();\r\n        Iteration iteration=trainer.trainProject(project.id(),new TrainProjectOptionalParameter());\r\n\r\n        while(iteration.status().equals(&quot;Training&quot;))\r\n        {\r\n            System.out.println(&quot;Training Status: &quot; + iteration.status());\r\n            Thread.sleep(1000);\r\n            iteration = trainer.getIteration(project.id(), iteration.id());\r\n        }\r\n        System.out.println(&quot;Training Status: &quot; + iteration.status());\r\n        return iteration;\r\n    }\r\n    public static void publishIteration(CustomVisionTrainingClient trainClient, Project project) throws InterruptedException\r\n    {\r\n        Trainings trainer=trainClient.trainings();\r\n        Iteration iteration=trainProject(trainClient,project);\r\n        String publishedModelName=&quot;myMoonPhaseModel&quot;;\r\n        trainer.publishIteration(project.id(),iteration.id(),publishedModelName,predictionResourceID);\r\n    }\r\n    public static void testProject(CustomVisionPredictionClient predictor, Project project)\r\n    {\r\n        byte[] testImeage=getImage(&quot;/Moons&quot;,&quot;testImage.jpg&quot;);\r\n        String publishedModelName = &quot;myMoonPhaseModel&quot;;\r\n        ImagePrediction results=predictor.predictions().classifyImage().withProjectId(project.id()).withPublishedName(publishedModelName).withImageData(testImeage).execute();\r\n        for (Prediction prediction : results.predictions())\r\n            System.out.println(String.format(&quot;\\t%s: %.2f%%&quot;, prediction.tagName(), prediction.probability() * 100.0f));\r\n    }\r\n}\r\n```\r\nI am trying to connect to the Azure Custom vision training API but am getting a resource not found error when I should be seeing a project being created in the vision studio.\r\nPlease let me what is causing this error and how to resolve it.\r\nThank you.\r\n","title":"How to fix Error 404 Resource not Found in Azure Custom Vision API","body":"<p>I am trying to train an Azure Custom Vision model by following the instructions on this Learn page: <a href=\"https://learn.microsoft.com/en-us/azure/ai-services/custom-vision-service/quickstarts/image-classification?tabs=linux%2Cvisual-studio&amp;pivots=programming-language-java\" rel=\"nofollow noreferrer\">Quickstart: Create an image classification project with the Custom Vision client library or REST API</a> using Java.\nWhen I finally try to run the Gradle build, I am getting the below error</p>\n<pre><code>Exception in thread &quot;main&quot; com.microsoft.azure.cognitiveservices.vision.customvision.training.models.CustomVisionErrorException: Status code 404, {&quot;error&quot;:{&quot;code&quot;:&quot;404&quot;,&quot;message&quot;: &quot;Resource not found&quot;}}\n</code></pre>\n<p>I am getting this error specifically in the following line:</p>\n<pre><code>Project project=createProject(trainClient);\n</code></pre>\n<p>The createProject function which I have taken from the Learn page I linked earlier is:</p>\n<pre><code>public static Project createProject(CustomVisionTrainingClient trainClient)\n{    \n    Trainings trainer=trainClient.trainings();    \n    System.out.println(&quot;Creating Project&quot;);    \n    Project project=trainer.createProject().withName(&quot;Moon-Phases-Trainer&quot;).execute();    \n    return project;\n}\n</code></pre>\n<p>The line that is causing an issue in specific in the function is</p>\n<pre><code>Project project=trainer.createProject().withName(&quot;Moon-Phases-Trainer&quot;).execute();\n</code></pre>\n<p>Here's the full code for your reference:</p>\n<pre><code>class CustomVisionQuickstart\n{\n    final static String trainingApiKey=System.getenv(&quot;VISION_TRAINING_KEY&quot;);\n    final static String trainingEndpoint=System.getenv(&quot;VISION_TRAINING_ENDPOINT&quot;);\n    final static String predictionApiKey=System.getenv(&quot;VISION_PREDICTION_KEY&quot;);\n    final static String predictionEndpoint=System.getenv(&quot;VISION_PREDICTION_ENDPOINT&quot;);\n    final static String predictionResourceID=System.getenv(&quot;VISION_PREDICTION_RESOURCE_ID&quot;);\n\n    private static Tag newMoonTag, waxingCrescentTag, firstQuarterTag, waxingGibbousTag,\n            fullTag, waningGibbousTag, thirdQuarterTag, waningCrescentTag;\n\n\n    public static void main(String[] args) throws InterruptedException\n    {\n//        System.out.println(trainingApiKey);\n//        System.out.println(trainingEndpoint);\n        CustomVisionTrainingClient trainClient=CustomVisionTrainingManager\n                .authenticate(trainingEndpoint,trainingApiKey)\n                .withEndpoint(trainingEndpoint);\n\n        CustomVisionPredictionClient predictor=CustomVisionPredictionManager\n                .authenticate(predictionEndpoint,predictionApiKey)\n                .withEndpoint(predictionEndpoint);\n\n        Project project=createProject(trainClient);\n        addTags(trainClient, project);\n        uploadImages(trainClient, project);\n        trainProject(trainClient, project);\n        publishIteration(trainClient, project);\n        testProject(predictor, project);\n    }\n    public static Project createProject(CustomVisionTrainingClient trainClient)\n    {\n        Trainings trainer=trainClient.trainings();\n        System.out.println(&quot;Creating Project&quot;);\n        Project project=trainer.createProject().withName(&quot;Moon-Phases-Trainer&quot;).execute();\n        return project;\n    }\n    public static void addTags(CustomVisionTrainingClient trainClient, Project project)\n    {\n        Trainings trainer = trainClient.trainings();\n\n        newMoonTag = trainer.createTag().withProjectId(project.id()).withName(&quot;New Moon&quot;).execute();\n        waxingCrescentTag = trainer.createTag().withProjectId(project.id()).withName(&quot;Waxing Crescent Moon&quot;).execute();\n        firstQuarterTag = trainer.createTag().withProjectId(project.id()).withName(&quot;First Quarter Moon&quot;).execute();\n        waxingGibbousTag = trainer.createTag().withProjectId(project.id()).withName(&quot;Waxing Gibbous Moon&quot;).execute();\n        fullTag = trainer.createTag().withProjectId(project.id()).withName(&quot;Full Moon&quot;).execute();\n        waningGibbousTag = trainer.createTag().withProjectId(project.id()).withName(&quot;Waning Gibbous Moon&quot;).execute();\n        thirdQuarterTag = trainer.createTag().withProjectId(project.id()).withName(&quot;Third Quarter Moon&quot;).execute();\n        waningCrescentTag = trainer.createTag().withProjectId(project.id()).withName(&quot;Waning Crescent Moon&quot;).execute();\n    }\n    public static void uploadImages(CustomVisionTrainingClient trainClient, Project project)\n    {\n        Trainings trainer=trainClient.trainings();\n        for (int x=0;x&lt;4;x++)\n        {\n            String fileName=&quot;New_Moon_&quot;+x+&quot;.jpg&quot;;\n            byte contents[]=getImage(&quot;/Moons&quot;,fileName);\n            addImageToProject(trainer,project,fileName,contents,newMoonTag.id(),null);\n        }\n        for (int x=0;x&lt;9;x++)\n        {\n            String fileName=&quot;Waxing_Crescent_&quot;+x+&quot;.jpg&quot;;\n            byte contents[]=getImage(&quot;/Moons&quot;,fileName);\n            addImageToProject(trainer,project,fileName,contents,waxingCrescentTag.id(),null);\n        }\n        for (int x=0;x&lt;8;x++)\n        {\n            String fileName=&quot;First_Quarter_&quot;+x+&quot;.jpg&quot;;\n            byte contents[]=getImage(&quot;/Moons&quot;,fileName);\n            addImageToProject(trainer,project,fileName,contents,firstQuarterTag.id(),null);\n        }\n        for (int x=0;x&lt;13;x++)\n        {\n            String fileName=&quot;Waxing_Gibbous_&quot;+x+&quot;.jpg&quot;;\n            byte contents[]=getImage(&quot;/Moons&quot;,fileName);\n            addImageToProject(trainer,project,fileName,contents,waxingGibbousTag.id(),null);\n        }\n        for (int x=0;x&lt;5;x++)\n        {\n            String fileName=&quot;Full_Moon_&quot;+x+&quot;.jpg&quot;;\n            byte contents[]=getImage(&quot;/Moons&quot;,fileName);\n            addImageToProject(trainer,project,fileName,contents,fullTag.id(),null);\n        }\n        for (int x=0;x&lt;15;x++)\n        {\n            String fileName=&quot;Waning_Gibbous_&quot;+x+&quot;.jpg&quot;;\n            byte contents[]=getImage(&quot;/Moons&quot;,fileName);\n            addImageToProject(trainer,project,fileName,contents,waningGibbousTag.id(),null);\n        }\n        for (int x=0;x&lt;6;x++)\n        {\n            String fileName=&quot;Third_Quarter_&quot;+x+&quot;.jpg&quot;;\n            byte contents[]=getImage(&quot;/Moons&quot;,fileName);\n            addImageToProject(trainer,project,fileName,contents,thirdQuarterTag.id(),null);\n        }\n        for (int x=0;x&lt;13;x++)\n        {\n            String fileName=&quot;Waning_Crescent_&quot;+x+&quot;.jpg&quot;;\n            byte contents[]=getImage(&quot;/Moons&quot;,fileName);\n            addImageToProject(trainer,project,fileName,contents,waningCrescentTag.id(),null);\n        }\n    }\n    private static void addImageToProject(Trainings trainer, Project project, String fileName, byte[] contents, UUID tag, double[] regionValues)\n    {\n        System.out.println(&quot;Adding image: &quot;+fileName);\n        ImageFileCreateEntry file=new ImageFileCreateEntry().withName(fileName).withContents(contents);\n        ImageFileCreateBatch batch=new ImageFileCreateBatch().withImages(Collections.singletonList(file));\n        if(regionValues!=null)\n        {\n            Region region=new Region().withTagId(tag).withLeft(regionValues[0]).withTop(regionValues[1]).withWidth(regionValues[2]).withHeight(regionValues[3]);\n            file=file.withRegions(Collections.singletonList(region));\n        }\n        else\n            batch = batch.withTagIds(Collections.singletonList(tag));\n        trainer.createImagesFromFiles(project.id(),batch);\n    }\n    private static byte[] getImage(String folder, String fileName)\n    {\n        try\n        {\n            return ByteStreams.toByteArray(CustomVisionQuickstart.class.getResourceAsStream(folder+&quot;/&quot;+fileName));\n        }\n        catch(Exception e)\n        {\n            System.out.println(e.getMessage());\n            e.printStackTrace();\n        }\n        return null;\n    }\n    public static Iteration trainProject(CustomVisionTrainingClient trainClient, Project project) throws InterruptedException\n    {\n        System.out.println(&quot;Training...&quot;);\n        Trainings trainer=trainClient.trainings();\n        Iteration iteration=trainer.trainProject(project.id(),new TrainProjectOptionalParameter());\n\n        while(iteration.status().equals(&quot;Training&quot;))\n        {\n            System.out.println(&quot;Training Status: &quot; + iteration.status());\n            Thread.sleep(1000);\n            iteration = trainer.getIteration(project.id(), iteration.id());\n        }\n        System.out.println(&quot;Training Status: &quot; + iteration.status());\n        return iteration;\n    }\n    public static void publishIteration(CustomVisionTrainingClient trainClient, Project project) throws InterruptedException\n    {\n        Trainings trainer=trainClient.trainings();\n        Iteration iteration=trainProject(trainClient,project);\n        String publishedModelName=&quot;myMoonPhaseModel&quot;;\n        trainer.publishIteration(project.id(),iteration.id(),publishedModelName,predictionResourceID);\n    }\n    public static void testProject(CustomVisionPredictionClient predictor, Project project)\n    {\n        byte[] testImeage=getImage(&quot;/Moons&quot;,&quot;testImage.jpg&quot;);\n        String publishedModelName = &quot;myMoonPhaseModel&quot;;\n        ImagePrediction results=predictor.predictions().classifyImage().withProjectId(project.id()).withPublishedName(publishedModelName).withImageData(testImeage).execute();\n        for (Prediction prediction : results.predictions())\n            System.out.println(String.format(&quot;\\t%s: %.2f%%&quot;, prediction.tagName(), prediction.probability() * 100.0f));\n    }\n}\n</code></pre>\n<p>I am trying to connect to the Azure Custom vision training API but am getting a resource not found error when I should be seeing a project being created in the vision studio.\nPlease let me what is causing this error and how to resolve it.\nThank you.</p>\n"},{"tags":["java","jasper-reports"],"comments":[{"owner":{"account_id":469619,"reputation":22464,"user_id":876298,"display_name":"Alex K"},"score":0,"creation_date":1605555498,"post_id":64864041,"comment_id":114680828,"body_markdown":"Your example is working great without any issues. You should post small *jrxml* (to reproduce the issue) and show the project structure. What version of jdk and JasperReports library are you using? Did you try the same using basic console application (just main method)? Are you using maven or gradle?","body":"Your example is working great without any issues. You should post small <i>jrxml</i> (to reproduce the issue) and show the project structure. What version of jdk and JasperReports library are you using? Did you try the same using basic console application (just main method)? Are you using maven or gradle?"},{"owner":{"account_id":8288409,"reputation":1122,"user_id":6230882,"accept_rate":56,"display_name":"Jiji"},"score":0,"creation_date":1605565172,"post_id":64864041,"comment_id":114684502,"body_markdown":"Hi @AlexK, I have tried it in just a simple maven project and it still has the issue. I am using Java 8 and jasperreports 6.11.0.","body":"Hi @AlexK, I have tried it in just a simple maven project and it still has the issue. I am using Java 8 and jasperreports 6.11.0."},{"owner":{"account_id":8288409,"reputation":1122,"user_id":6230882,"accept_rate":56,"display_name":"Jiji"},"score":0,"creation_date":1605565610,"post_id":64864041,"comment_id":114684633,"body_markdown":"Hi @AlexK, I made it work by using 6.15. Thank you. Do you have any idea why?","body":"Hi @AlexK, I made it work by using 6.15. Thank you. Do you have any idea why?"},{"owner":{"account_id":469619,"reputation":22464,"user_id":876298,"display_name":"Alex K"},"score":0,"creation_date":1605635034,"post_id":64864041,"comment_id":114709201,"body_markdown":"The simple *jxml* is working fine with *jr 6.11.0*. Are you able to reproduce the issue using simple *jrxml* (for example having one staticText at title)?","body":"The simple <i>jxml</i> is working fine with <i>jr 6.11.0</i>. Are you able to reproduce the issue using simple <i>jrxml</i> (for example having one staticText at title)?"},{"owner":{"account_id":8288409,"reputation":1122,"user_id":6230882,"accept_rate":56,"display_name":"Jiji"},"score":0,"creation_date":1605654214,"post_id":64864041,"comment_id":114716746,"body_markdown":"Yes. It still has the same issue after trying that.","body":"Yes. It still has the same issue after trying that."}],"answers":[{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1692119706,"post_id":76887613,"comment_id":135580151,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/76887613/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":28937581,"reputation":1,"user_id":22164787,"display_name":"Renan Gabriel de P&#225;dua"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691811548,"creation_date":1691810525,"answer_id":76887613,"question_id":64864041,"body_markdown":"Swap your search path for this:\r\n\r\n    FileInputStream inputStream = new \r\n    FileInputStream(Faces.getRealPath(inside webapp &quot;/reports/yourfile.jrxml&quot;));\r\n\tJasperReport jasperReport = JasperCompileManager.compileReport(inputStream);\r\n\r\n","title":"Loading a precompiled jasper file throws an exception: Class not found when loading object from file","body":"<p>Swap your search path for this:</p>\n<pre><code>FileInputStream inputStream = new \nFileInputStream(Faces.getRealPath(inside webapp &quot;/reports/yourfile.jrxml&quot;));\nJasperReport jasperReport = JasperCompileManager.compileReport(inputStream);\n</code></pre>\n"}],"owner":{"account_id":8288409,"reputation":1122,"user_id":6230882,"accept_rate":56,"display_name":"Jiji"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2931,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1691811548,"creation_date":1605553082,"question_id":64864041,"body_markdown":"Using *JasperReports 6.11.0* in Eclipse, I precompiled a *.jrxml* file into a *.jasper* file. My problem is when I use the *jasper* file to load as a report, it throws an exception `net.sf.jasperreports.engine.JRException: Class not found when loading object from file`. This is the code I am using:\r\n\r\n```\r\nJasperReport jasperReport = (JasperReport) JRLoader\r\n                .loadObjectFromFile(&quot;src/main/resources/Report.jasper&quot;);\r\nJasperPrint jasperPrint = JasperFillManager.fillReport(jasperReport, parameters, new JREmptyDataSource());\r\n```\r\n\r\nNote that I tried using a template and still throws the same exception. Also, when I compile the jrxml in the Java code, it works perfectly.\r\n```\r\nInputStream input = new ClassPathResource(&quot;jasper.jrxml&quot;).getInputStream();\r\nJasperDesign jasperDesign = JRXmlLoader.load(input);\r\nJasperReport jasperReport = JasperCompileManager.compileReport(jasperDesign);\r\n\r\nJasperPrint jasperPrint = JasperFillManager.fillReport(jasperReport, parameters, new JREmptyDataSource());\r\n```","title":"Loading a precompiled jasper file throws an exception: Class not found when loading object from file","body":"<p>Using <em>JasperReports 6.11.0</em> in Eclipse, I precompiled a <em>.jrxml</em> file into a <em>.jasper</em> file. My problem is when I use the <em>jasper</em> file to load as a report, it throws an exception <code>net.sf.jasperreports.engine.JRException: Class not found when loading object from file</code>. This is the code I am using:</p>\n<pre><code>JasperReport jasperReport = (JasperReport) JRLoader\n                .loadObjectFromFile(&quot;src/main/resources/Report.jasper&quot;);\nJasperPrint jasperPrint = JasperFillManager.fillReport(jasperReport, parameters, new JREmptyDataSource());\n</code></pre>\n<p>Note that I tried using a template and still throws the same exception. Also, when I compile the jrxml in the Java code, it works perfectly.</p>\n<pre><code>InputStream input = new ClassPathResource(&quot;jasper.jrxml&quot;).getInputStream();\nJasperDesign jasperDesign = JRXmlLoader.load(input);\nJasperReport jasperReport = JasperCompileManager.compileReport(jasperDesign);\n\nJasperPrint jasperPrint = JasperFillManager.fillReport(jasperReport, parameters, new JREmptyDataSource());\n</code></pre>\n"},{"tags":["java","android","broadcastreceiver","google-tv","hdmi-cec"],"owner":{"account_id":103637,"reputation":10150,"user_id":277480,"accept_rate":68,"display_name":"StealthRT"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1691810218,"creation_date":1691810218,"question_id":76887600,"body_markdown":"Hey all I have been trying to get my remotes volume up/down buttons to register in my app but they never seem to do anything when I press them?\r\n\r\nI have tried:\r\n\r\n    public class CallBroadcastReceiver extends BroadcastReceiver {\r\n        @Override\r\n        public void onReceive(Context context, Intent intent) {\r\n            int volume = (Integer)intent.getExtras().get(&quot;android.media.EXTRA_VOLUME_STREAM_VALUE&quot;);\r\n            Log.i(&quot;Tag&quot;, &quot;Action : &quot;+ intent.getAction() + &quot; / volume : &quot;+volume);\r\n        }\r\n    }\r\n\r\nand also\r\n\r\n    @Override\r\n    public boolean onKey(View v, int keyCode, KeyEvent event) {\r\n            if (event.getAction()!=KeyEvent.ACTION_DOWN)\r\n                return true;\r\n\r\n            switch (keyCode) {\r\n                case 20:\r\n                    return false;\r\n                case 22:\r\n                    fastForward();\r\n                    return false;\r\n                case 21:\r\n                    rewind();\r\n                    return false;\r\n                case 23:\r\n                    if (mTransportControlGlue.isPlaying()) {\r\n                        mTransportControlGlue.pause();\r\n                    } else {\r\n                        mTransportControlGlue.play();\r\n                    }\r\n\r\n                    return false;\r\n              \r\n                    getActivity().finish();\r\n                    return true;\r\n            }\r\n\r\n            return false;\r\n        }\r\n\r\nBut like I said, every time I hit the buttons they never fire any of those above. The only ones that register are the Dpad up/down/left/right, center button and the back button.\r\n\r\nI cam change the volume just fine using this code:\r\n\r\n    AudioManager mAudioManager = (AudioManager) getContext().getSystemService(Context.AUDIO_SERVICE);\r\n    int actualVolume = mAudioManager.getStreamVolume(AudioManager.STREAM_MUSIC);\r\n    mAudioManager.setStreamVolume(AudioManager.STREAM_MUSIC, 1, AudioManager.FLAG_PLAY_SOUND);\r\n\r\nBut that does me no good if I cant detect the volume up/down being pressed...\r\n\r\nThe google TV remote looks like this:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nAnyone know what I am missing?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/mx3Ax.png","title":"Google TV remote volume up/down not registering","body":"<p>Hey all I have been trying to get my remotes volume up/down buttons to register in my app but they never seem to do anything when I press them?</p>\n<p>I have tried:</p>\n<pre><code>public class CallBroadcastReceiver extends BroadcastReceiver {\n    @Override\n    public void onReceive(Context context, Intent intent) {\n        int volume = (Integer)intent.getExtras().get(&quot;android.media.EXTRA_VOLUME_STREAM_VALUE&quot;);\n        Log.i(&quot;Tag&quot;, &quot;Action : &quot;+ intent.getAction() + &quot; / volume : &quot;+volume);\n    }\n}\n</code></pre>\n<p>and also</p>\n<pre><code>@Override\npublic boolean onKey(View v, int keyCode, KeyEvent event) {\n        if (event.getAction()!=KeyEvent.ACTION_DOWN)\n            return true;\n\n        switch (keyCode) {\n            case 20:\n                return false;\n            case 22:\n                fastForward();\n                return false;\n            case 21:\n                rewind();\n                return false;\n            case 23:\n                if (mTransportControlGlue.isPlaying()) {\n                    mTransportControlGlue.pause();\n                } else {\n                    mTransportControlGlue.play();\n                }\n\n                return false;\n          \n                getActivity().finish();\n                return true;\n        }\n\n        return false;\n    }\n</code></pre>\n<p>But like I said, every time I hit the buttons they never fire any of those above. The only ones that register are the Dpad up/down/left/right, center button and the back button.</p>\n<p>I cam change the volume just fine using this code:</p>\n<pre><code>AudioManager mAudioManager = (AudioManager) getContext().getSystemService(Context.AUDIO_SERVICE);\nint actualVolume = mAudioManager.getStreamVolume(AudioManager.STREAM_MUSIC);\nmAudioManager.setStreamVolume(AudioManager.STREAM_MUSIC, 1, AudioManager.FLAG_PLAY_SOUND);\n</code></pre>\n<p>But that does me no good if I cant detect the volume up/down being pressed...</p>\n<p>The google TV remote looks like this:</p>\n<p><a href=\"https://i.stack.imgur.com/mx3Ax.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/mx3Ax.png\" alt=\"enter image description here\" /></a></p>\n<p>Anyone know what I am missing?</p>\n"},{"tags":["java","drools"],"answers":[{"tags":[],"owner":{"account_id":169237,"reputation":39170,"user_id":395202,"accept_rate":59,"display_name":"Adrian Shum"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1373270557,"creation_date":1373270557,"answer_id":17521658,"question_id":17490509,"body_markdown":"Your code just do not make sense to me. One of the major problems is, after you have created the StatefulKnowledgeSession, you have not insert any object in the session.  Without anything in the session, I doubt anything Drool can do.  \r\n\r\nTry to do something like :\r\n\r\n    name.setType(1);\r\n    session.insert(name);    // Important! Drools need the objects to work on \r\n                             // inserted to session\r\n    session.fireAllRules();\r\n\r\nThen in your decision table, change the action to `namea.setName($param)`\r\n\r\nI believe it should work after such changes","title":"drools: access objects in drools excel decision table","body":"<p>Your code just do not make sense to me. One of the major problems is, after you have created the StatefulKnowledgeSession, you have not insert any object in the session.  Without anything in the session, I doubt anything Drool can do.  </p>\n\n<p>Try to do something like :</p>\n\n<pre><code>name.setType(1);\nsession.insert(name);    // Important! Drools need the objects to work on \n                         // inserted to session\nsession.fireAllRules();\n</code></pre>\n\n<p>Then in your decision table, change the action to <code>namea.setName($param)</code></p>\n\n<p>I believe it should work after such changes</p>\n"}],"owner":{"account_id":948533,"reputation":2812,"user_id":975234,"accept_rate":75,"display_name":"Rebooting"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2893,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":17521658,"answer_count":1,"score":3,"last_activity_date":1691809706,"creation_date":1373032299,"question_id":17490509,"body_markdown":"The scenario is as follows: \r\n\r\nI have a java pojo class `Name` having 2 variables `type` and `name` with appropriate getters and setters. I am using decision table drools and I want:\r\n\r\n`Condition`: when type is set to &quot;1&quot;\r\n\r\n`Action`: call setName setter of the name class and set the appropriate parameter from excel\r\n\r\nNow I want to access this set value of name in java.\r\n\r\nThis is the thing i have done:\r\n\r\nName.java-\r\n\r\n    public class Name{\r\n    \t\r\n    \r\n    \tString name,type;\r\n    \r\n    \tpublic String getName() {\r\n    \t\treturn name;\r\n    \t}\r\n    \r\n    \tpublic void setName(String name) {\r\n    \t\tthis.name = name;\r\n    \t}\r\n    \r\n    \tpublic String getType() {\r\n    \t\treturn type;\r\n    \t}\r\n    \r\n    \tpublic void setType(String type) {\r\n    \t\tthis.type = type;\r\n    \t}\r\n\r\n\r\nMainClass.java- That has drools implementation!! \r\n\r\n    public class MainClass {\r\n    \t\r\n    \tpublic static StatefulKnowledgeSession session;\r\n    \tpublic static KnowledgeBase kbase;\r\n    \tpublic static Name name;\r\n    \tpublic static void main(String args[])\r\n    \r\n    {\t\r\n    \tinit();\r\n    \tinitialiseNameObject();\r\n    \tfireAllRules();\r\n    }\r\n    \r\n    public static void init()\r\n    {\r\n    \tSystem.out.println(&quot;inside init&quot;);\r\n    \tKnowledgeBuilder kbuilder=KnowledgeBuilderFactory.newKnowledgeBuilder();\r\n    \tDecisionTableConfiguration dconf=KnowledgeBuilderFactory.newDecisionTableConfiguration();\r\n    \t\r\n    \tdconf.setInputType(DecisionTableInputType.XLS);\r\n    \tdconf.setWorksheetName(&quot;rulesW&quot;);\r\n    \t\r\n    \tkbuilder.add(ResourceFactory.newClassPathResource(&quot;/drools.xls&quot;,MainClass.class), ResourceType.DTABLE, dconf);\r\n    \t\r\n    \tKnowledgeBuilderErrors errors=kbuilder.getErrors();\r\n    \t\r\n    \tif(!errors.isEmpty())\r\n    \t{\r\n    \t\tSystem.out.println(&quot;Errors in package&quot;);\r\n    \t\tIterator i=errors.iterator();\r\n    \t\twhile(i.hasNext())\r\n    \t\t{\r\n    \t\t\tSystem.out.println(&quot;The error: &quot;+i.next());\r\n    \t\t}\r\n    \t}\r\n    \t\r\n    \tkbase=KnowledgeBaseFactory.newKnowledgeBase();\r\n    \t\r\n    \ttry\r\n    \t{\r\n    \t\tkbase.addKnowledgePackages(kbuilder.getKnowledgePackages());\r\n    \t\tsession=kbase.newStatefulKnowledgeSession();\r\n    \t\t\r\n    \t\tname=new Name();\r\n    \t}\r\n    \tcatch(Exception e)\r\n    \t\r\n    \t{\r\n    \t\tSystem.out.println(&quot;The exception &quot;+e);\r\n    \t}\r\n    \t\r\n    }\r\n    \r\n    public static void initialiseNameObject()\r\n    {\r\n    \t\r\n    \r\n    \tSystem.out.println(&quot;insideNameObject&quot;);\r\n    \tname.setType(&quot;1&quot;);\r\n    \t\r\n    \t\r\n    }\r\n    \r\n    public static void fireAllRules()\r\n    {\r\n    \tSystem.out.println(&quot;inside fire all&quot;);\r\n    \t\r\n    \tsession.fireAllRules();\r\n    \t\r\n    \tSystem.out.println(name.getName());\r\n    \t\r\n    }\r\n\r\nThe issue is I am not able to get the name .. always getting null for that. The name should be updated in the object and i should get ABCD as output. I guess it has to do something regarding global instances!! ","title":"drools: access objects in drools excel decision table","body":"<p>The scenario is as follows:</p>\n<p>I have a java pojo class <code>Name</code> having 2 variables <code>type</code> and <code>name</code> with appropriate getters and setters. I am using decision table drools and I want:</p>\n<p><code>Condition</code>: when type is set to &quot;1&quot;</p>\n<p><code>Action</code>: call setName setter of the name class and set the appropriate parameter from excel</p>\n<p>Now I want to access this set value of name in java.</p>\n<p>This is the thing i have done:</p>\n<p>Name.java-</p>\n<pre><code>public class Name{\n    \n\n    String name,type;\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    public String getType() {\n        return type;\n    }\n\n    public void setType(String type) {\n        this.type = type;\n    }\n</code></pre>\n<p>MainClass.java- That has drools implementation!!</p>\n<pre><code>public class MainClass {\n    \n    public static StatefulKnowledgeSession session;\n    public static KnowledgeBase kbase;\n    public static Name name;\n    public static void main(String args[])\n\n{   \n    init();\n    initialiseNameObject();\n    fireAllRules();\n}\n\npublic static void init()\n{\n    System.out.println(&quot;inside init&quot;);\n    KnowledgeBuilder kbuilder=KnowledgeBuilderFactory.newKnowledgeBuilder();\n    DecisionTableConfiguration dconf=KnowledgeBuilderFactory.newDecisionTableConfiguration();\n    \n    dconf.setInputType(DecisionTableInputType.XLS);\n    dconf.setWorksheetName(&quot;rulesW&quot;);\n    \n    kbuilder.add(ResourceFactory.newClassPathResource(&quot;/drools.xls&quot;,MainClass.class), ResourceType.DTABLE, dconf);\n    \n    KnowledgeBuilderErrors errors=kbuilder.getErrors();\n    \n    if(!errors.isEmpty())\n    {\n        System.out.println(&quot;Errors in package&quot;);\n        Iterator i=errors.iterator();\n        while(i.hasNext())\n        {\n            System.out.println(&quot;The error: &quot;+i.next());\n        }\n    }\n    \n    kbase=KnowledgeBaseFactory.newKnowledgeBase();\n    \n    try\n    {\n        kbase.addKnowledgePackages(kbuilder.getKnowledgePackages());\n        session=kbase.newStatefulKnowledgeSession();\n        \n        name=new Name();\n    }\n    catch(Exception e)\n    \n    {\n        System.out.println(&quot;The exception &quot;+e);\n    }\n    \n}\n\npublic static void initialiseNameObject()\n{\n    \n\n    System.out.println(&quot;insideNameObject&quot;);\n    name.setType(&quot;1&quot;);\n    \n    \n}\n\npublic static void fireAllRules()\n{\n    System.out.println(&quot;inside fire all&quot;);\n    \n    session.fireAllRules();\n    \n    System.out.println(name.getName());\n    \n}\n</code></pre>\n<p>The issue is I am not able to get the name .. always getting null for that. The name should be updated in the object and i should get ABCD as output. I guess it has to do something regarding global instances!!</p>\n"},{"tags":["java","javascript","gwt","gxt"],"answers":[{"tags":[],"owner":{"account_id":1923037,"reputation":1117,"user_id":1734066,"accept_rate":26,"display_name":"Amit Rana"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1353667551,"creation_date":1353667551,"answer_id":13527456,"question_id":13249820,"body_markdown":"i find the way to solve this problem , \r\ni give margin to my viewport \r\n\r\n     x-viewport {margin-bottom: -16px;}\r\n\r\nand Done!","title":"Overflow is Hidden but page scroll on key events","body":"<p>i find the way to solve this problem , \ni give margin to my viewport </p>\n\n<pre><code> x-viewport {margin-bottom: -16px;}\n</code></pre>\n\n<p>and Done!</p>\n"}],"owner":{"account_id":1923037,"reputation":1117,"user_id":1734066,"accept_rate":26,"display_name":"Amit Rana"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":107,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":13527456,"answer_count":1,"score":1,"last_activity_date":1691809517,"creation_date":1352200477,"question_id":13249820,"body_markdown":"On a `BorderLayout` panel (with hidden overflow), when &lt;kbd&gt;Page Down&lt;/kbd&gt;, &lt;kbd&gt;&amp;darr;&lt;/kbd&gt; or &lt;kbd&gt;End&lt;/kbd&gt; are pressed the page is scrolled down, hiding its top. How to prevent it? ","title":"Overflow is Hidden but page scroll on key events","body":"<p>On a <code>BorderLayout</code> panel (with hidden overflow), when <kbd>Page Down</kbd>, <kbd>↓</kbd> or <kbd>End</kbd> are pressed the page is scrolled down, hiding its top. How to prevent it?</p>\n"},{"tags":["java","android","c","kotlin"],"answers":[{"comments":[{"owner":{"account_id":5724751,"reputation":633,"user_id":4522084,"accept_rate":75,"display_name":"pdiffley"},"score":0,"creation_date":1691814382,"post_id":76887522,"comment_id":135545769,"body_markdown":"Oh, I see. I wasn&#39;t putting together that context.filesDir was just the String representation of the app-specific directory path. Thanks!","body":"Oh, I see. I wasn&#39;t putting together that context.filesDir was just the String representation of the app-specific directory path. Thanks!"}],"tags":[],"owner":{"account_id":5826843,"reputation":344,"user_id":4592885,"display_name":"Mohammad Fallah"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1691808481,"creation_date":1691807200,"answer_id":76887522,"question_id":76887328,"body_markdown":"You can simply pass your specific path as an argument to your function in C and use it with `fopen`.\r\n\r\nTo define your function in C and calling it in Kotlin side please read [this document][1].\r\n\r\nWhen you pass your `String` variable as argument, you need to convert it to a regular C string type (char*).\r\nSo you can use this example:\r\n```C\r\nJNIEXPORT void JNICALL \r\nJava_com_example_hellojni_HelloJni_readFile(JNIEnv *env, jobject obj,\r\n\tjstring name)\r\n{\r\n\tconst char *path= (*env)-&gt;GetStringUTFChars(env,name,0);\r\n    // use fopen and other stuff\r\n\t// release this string when done with it\r\n\t(*env)-&gt;ReleaseStringUTFChars(env, name, str);\r\n}\r\n```\r\n\r\nto access your app-specific directory (/data/data/{package-name}/), you don&#39;t need any permission declaration. \r\n\r\n  [1]: https://developer.android.com/ndk/samples/sample_hellojni#ci","title":"How to open app specific files in Android using C?","body":"<p>You can simply pass your specific path as an argument to your function in C and use it with <code>fopen</code>.</p>\n<p>To define your function in C and calling it in Kotlin side please read <a href=\"https://developer.android.com/ndk/samples/sample_hellojni#ci\" rel=\"nofollow noreferrer\">this document</a>.</p>\n<p>When you pass your <code>String</code> variable as argument, you need to convert it to a regular C string type (char*).\nSo you can use this example:</p>\n<pre><code>JNIEXPORT void JNICALL \nJava_com_example_hellojni_HelloJni_readFile(JNIEnv *env, jobject obj,\n    jstring name)\n{\n    const char *path= (*env)-&gt;GetStringUTFChars(env,name,0);\n    // use fopen and other stuff\n    // release this string when done with it\n    (*env)-&gt;ReleaseStringUTFChars(env, name, str);\n}\n</code></pre>\n<p>to access your app-specific directory (/data/data/{package-name}/), you don't need any permission declaration.</p>\n"}],"owner":{"account_id":5724751,"reputation":633,"user_id":4522084,"accept_rate":75,"display_name":"pdiffley"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":35,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":76887522,"answer_count":1,"score":-1,"last_activity_date":1691808481,"creation_date":1691801208,"question_id":76887328,"body_markdown":"The [Android docs][1] show how to open app-specific files by calling `val file = File(context.filesDir, filename)` or `context.openFileOutput()`, but I need to open a file in a C library where the `context` is not available.\r\n\r\nIs it possible to open app-specific files in Android from a C library, and if so, how can you get the file path to pass to something like `fopen`?\r\n\r\n\r\n  [1]: https://developer.android.com/training/data-storage/app-specific#internal-access-store-files","title":"How to open app specific files in Android using C?","body":"<p>The <a href=\"https://developer.android.com/training/data-storage/app-specific#internal-access-store-files\" rel=\"nofollow noreferrer\">Android docs</a> show how to open app-specific files by calling <code>val file = File(context.filesDir, filename)</code> or <code>context.openFileOutput()</code>, but I need to open a file in a C library where the <code>context</code> is not available.</p>\n<p>Is it possible to open app-specific files in Android from a C library, and if so, how can you get the file path to pass to something like <code>fopen</code>?</p>\n"},{"tags":["java","android","twilio","twilio-api","twilio-programmable-voice"],"answers":[{"tags":[],"owner":{"account_id":5332702,"reputation":2200,"user_id":4628115,"accept_rate":60,"display_name":"CybeX"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691807335,"creation_date":1691807335,"answer_id":76887525,"question_id":76879711,"body_markdown":"An issue I explored in detail on [Twilio Android Quickstart][1] documented a Parcel issue, and provided some insight into the cause of the problem.\r\n\r\nThe cause being the current thread&#39;s `ClassLoader` isn&#39;t the same that initialized (loaded) the Voice SDK&#39;s class loader as suggested by `@afalls-twilio` in his comment [here][2]\r\n\r\nThis was confirmed and discussed in some detail by [David Wasser at SO](https://stackoverflow.com/a/28589962/4628115).\r\n\r\n#### TL;DR Solution\r\nA simple line addition when reading the bundle adds the class to be found i.e.\r\n```kotlin\r\nval myBundle: Bundle? = connection.extras.getBundle(TelecomManager.EXTRA_INCOMING_CALL_EXTRAS);\r\nmyBundle.classLoader = CallInvite::class.java.classLoader\r\n// read CallInvite from Bundle as required\r\n```\r\n\r\n  [1]: https://github.com/twilio/voice-quickstart-android/issues/561\r\n  [2]: https://github.com/twilio/voice-quickstart-android/issues/561#issuecomment-1675435831","title":"ClassNotFoundException com.twilio.voice.CallInvite when reading ConnectionService Bundle extras in onCreateIncomingConnection","body":"<p>An issue I explored in detail on <a href=\"https://github.com/twilio/voice-quickstart-android/issues/561\" rel=\"nofollow noreferrer\">Twilio Android Quickstart</a> documented a Parcel issue, and provided some insight into the cause of the problem.</p>\n<p>The cause being the current thread's <code>ClassLoader</code> isn't the same that initialized (loaded) the Voice SDK's class loader as suggested by <code>@afalls-twilio</code> in his comment <a href=\"https://github.com/twilio/voice-quickstart-android/issues/561#issuecomment-1675435831\" rel=\"nofollow noreferrer\">here</a></p>\n<p>This was confirmed and discussed in some detail by <a href=\"https://stackoverflow.com/a/28589962/4628115\">David Wasser at SO</a>.</p>\n<h4>TL;DR Solution</h4>\n<p>A simple line addition when reading the bundle adds the class to be found i.e.</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>val myBundle: Bundle? = connection.extras.getBundle(TelecomManager.EXTRA_INCOMING_CALL_EXTRAS);\nmyBundle.classLoader = CallInvite::class.java.classLoader\n// read CallInvite from Bundle as required\n</code></pre>\n"}],"owner":{"account_id":5332702,"reputation":2200,"user_id":4628115,"accept_rate":60,"display_name":"CybeX"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1691807335,"creation_date":1691707073,"question_id":76879711,"body_markdown":"I&#39;m upgrading a Flutter library to use a Twilio Voice integrated with a [ConnectionService][1] for native call management. To accomplish this, one has to extend a `ConnectionService` (inherits from a `Service` with associated communication methods, i.e. `Intent`s)\r\n\r\n---\r\n\r\n### Background &amp; Context\r\n\r\nTo receive incoming call (via a notification manager like FCM), one needs to notify the `ConnectionService` of an incoming call using\r\n\r\n```kotlin\r\noverride fun onCreateIncomingConnection(connectionManagerPhoneAccount: PhoneAccountHandle?, request: ConnectionRequest?): Connection {\r\n    super.onCreateIncomingConnection(connectionManagerPhoneAccount, request)\r\n    Log.d(TAG, &quot;onCreateIncomingConnection&quot;)&#39;\r\n    // ... code goes here\r\n    // return new Connection(...)\r\n}\r\n```\r\n\r\nWith this `onCreateIncomingConnection`, it will ask the native &#39;Phone Call&#39; app to show an incoming call with parameters you provide, e.g. showing the incoming caller number with [Connection.setAddress][2]\r\n\r\nThis additional information can be passed into the `ConnectionService` by adding them to an extras `Bundle` with the Key [TelecomManager.EXTRA_INCOMING_CALL_EXTRAS][3] (for incoming calls) which is then added to a new `Bundle` e.g. \r\n\r\n[Source][4]\r\n\r\n```java\r\nprivate fun handleFCMCallInvite(callInvite: CallInvite, notificationId: Int) {\r\n    // Get telecom manager\r\n    val telecomManager = getSystemService(TELECOM_SERVICE) as TelecomManager\r\n\r\n    // Get PhoneAccountHandle\r\n    val caller = callInvite.from!!.toString()\r\n    val componentName = ComponentName(applicationContext.packageName, TwilioVoiceConnectionService::class.java.name)\r\n    val phoneAccountHandle = PhoneAccountHandle(componentName, caller)\r\n\r\n    // Create my Bundle containing information e.g. notificationId and callInvite\r\n    val myBundle = Bundle()\r\n    myBundle.putInt(Constants.INCOMING_CALL_NOTIFICATION_ID, notificationId)\r\n    myBundle.putParcelable(Constants.INCOMING_CALL_INVITE, callInvite)\r\n\r\n    // Add new incoming call to the telecom manager\r\n    telecomManager.addNewIncomingCall(phoneAccountHandle, Bundle().apply {\r\n        putBundle(EXTRA_INCOMING_CALL_EXTRAS, myBundle)\r\n        putParcelable(EXTRA_PHONE_ACCOUNT_HANDLE, phoneAccountHandle)\r\n    })\r\n}\r\n```\r\n\r\n----------\r\n\r\n### Problem\r\n\r\nThe issue comes in when trying to `unparcel()` the `CallInvite` from Bundled extras in the `ConnectionService`&#39;s [onCreateIncomingConnection][5] implementation, see as follows:\r\n\r\n```java\r\noverride fun onCreateIncomingConnection(connectionManagerPhoneAccount: PhoneAccountHandle?, request: ConnectionRequest?): Connection {\r\n    super.onCreateIncomingConnection(connectionManagerPhoneAccount, request)\r\n    Log.d(TAG, &quot;onCreateIncomingConnection&quot;)\r\n    val connection: Connection = VoipConnection(applicationContext)\r\n    connection.extras = request?.extras\r\n\r\n    var ci: CallInvite? = null\r\n    val myBundle: Bundle? = connection.extras.getBundle(TelecomManager.EXTRA_INCOMING_CALL_EXTRAS);\r\n    if(myBundle != null) {\r\n        Log.d(TAG, &quot;onCreateIncomingConnection: myBundle is not null&quot;)\r\n\r\n        /// --------------------------------------------------------\r\n        /// This next line throws the ClassNotFoundException occurs\r\n        /// --------------------------------------------------------\r\n        if (myBundle.containsKey(Constants.INCOMING_CALL_INVITE) ) { \r\n            Log.d(TAG, &quot;onCreateIncomingConnection: myBundle contains INCOMING_CALL_INVITE&quot;)\r\n            ci = myBundle.getParcelable(Constants.INCOMING_CALL_INVITE)\r\n        } else {\r\n            Log.d(TAG, &quot;onCreateIncomingConnection: myBundle does not contain INCOMING_CALL_INVITE&quot;)\r\n        }\r\n    } else {\r\n        Log.d(TAG, &quot;onCreateIncomingConnection: myBundle is null&quot;)\r\n    }\r\n\r\n    ...\r\n}\r\n```\r\n\r\nAs shown in the snippet above, when calling `myBundle.containsKey()` with a valid key any time I have a [CallInvite][6] object bundled in. If I only pass in e.g. `notificationId`, contains and accessors work as intended. \r\n\r\nWhen including the `CallInvite` in the bundle, I get the following exception:\r\n\r\n*Note: `CallInvite` implements `Parcelable`\r\n\r\n```\r\nClass not found when unmarshalling: com.twilio.voice.CallInvite\r\njava.lang.ClassNotFoundException: com.twilio.voice.CallInvite\r\n\tat java.lang.Class.classForName(Native Method)\r\n\tat java.lang.Class.forName(Class.java:454)\r\n\tat android.os.Parcel.readParcelableCreator(Parcel.java:3403)\r\n\tat android.os.Parcel.readParcelable(Parcel.java:3337)\r\n\tat android.os.Parcel.readValue(Parcel.java:3239)\r\n\tat android.os.Parcel.readArrayMapInternal(Parcel.java:3636)\r\n\tat android.os.BaseBundle.initializeFromParcelLocked(BaseBundle.java:292)\r\n\tat android.os.BaseBundle.unparcel(BaseBundle.java:236)\r\n\tat android.os.BaseBundle.containsKey(BaseBundle.java:516)\r\n\tat com.twilio.twilio_voice.connectionservice.TwilioVoiceConnectionService.onCreateIncomingConnection(TwilioVoiceConnectionService.kt:43)\r\n\tat android.telecom.ConnectionService.createConnection(ConnectionService.java:2061)\r\n\tat android.telecom.ConnectionService.access$400(ConnectionService.java:96)\r\n\tat android.telecom.ConnectionService$2$1.loggedRun(ConnectionService.java:914)\r\n\tat android.telecom.Logging.Runnable$1.run(Runnable.java:37)\r\n\tat android.telecom.ConnectionService.onAccountsInitialized(ConnectionService.java:3272)\r\n\tat android.telecom.ConnectionService.access$5000(ConnectionService.java:96)\r\n\tat android.telecom.ConnectionService$5$1.loggedRun(ConnectionService.java:2577)\r\n\tat android.telecom.Logging.Runnable$1.run(Runnable.java:37)\r\n\tat android.os.Handler.handleCallback(Handler.java:938)\r\n\tat android.os.Handler.dispatchMessage(Handler.java:99)\r\n\tat android.os.Looper.loopOnce(Looper.java:226)\r\n\tat android.os.Looper.loop(Looper.java:313)\r\n\tat android.app.ActivityThread.main(ActivityThread.java:8663)\r\n\tat java.lang.reflect.Method.invoke(Native Method)\r\n\tat com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:567)\r\n\tat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1135)\r\nCaused by: java.lang.ClassNotFoundException: com.twilio.voice.CallInvite\r\n\tat java.lang.Class.classForName(Native Method)\r\n\tat java.lang.BootClassLoader.findClass(ClassLoader.java:1358)\r\n\tat java.lang.BootClassLoader.loadClass(ClassLoader.java:1418)\r\n\tat java.lang.ClassLoader.loadClass(ClassLoader.java:312)\r\n\tat java.lang.Class.classForName(Native Method)&#160;\r\n\tat java.lang.Class.forName(Class.java:454)&#160;\r\n\tat android.os.Parcel.readParcelableCreator(Parcel.java:3403)&#160;\r\n\tat android.os.Parcel.readParcelable(Parcel.java:3337)&#160;\r\n\tat android.os.Parcel.readValue(Parcel.java:3239)&#160;\r\n\tat android.os.Parcel.readArrayMapInternal(Parcel.java:3636)&#160;\r\n\tat android.os.BaseBundle.initializeFromParcelLocked(BaseBundle.java:292)&#160;\r\n\tat android.os.BaseBundle.unparcel(BaseBundle.java:236)&#160;\r\n\tat android.os.BaseBundle.containsKey(BaseBundle.java:516)&#160;\r\n\tat com.twilio.twilio_voice.connectionservice.TwilioVoiceConnectionService.onCreateIncomingConnection(TwilioVoiceConnectionService.kt:43)&#160;\r\n\tat android.telecom.ConnectionService.createConnection(ConnectionService.java:2061)&#160;\r\n\tat android.telecom.ConnectionService.access$400(ConnectionService.java:96)&#160;\r\n\tat android.telecom.ConnectionService$2$1.loggedRun(ConnectionService.java:914)&#160;\r\n\tat android.telecom.Logging.Runnable$1.run(Runnable.java:37)&#160;\r\n\tat android.telecom.ConnectionService.onAccountsInitialized(ConnectionService.java:3272)&#160;\r\n\tat android.telecom.ConnectionService.access$5000(ConnectionService.java:96)&#160;\r\n\tat android.telecom.ConnectionService$5$1.loggedRun(ConnectionService.java:2577)&#160;\r\n\tat android.telecom.Logging.Runnable$1.run(Runnable.java:37)&#160;\r\n\tat android.os.Handler.handleCallback(Handler.java:938)&#160;\r\n\tat android.os.Handler.dispatchMessage(Handler.java:99)&#160;\r\n\tat android.os.Looper.loopOnce(Looper.java:226)&#160;\r\n\tat android.os.Looper.loop(Looper.java:313)&#160;\r\n\tat android.app.ActivityThread.main(ActivityThread.java:8663)&#160;\r\n\tat java.lang.reflect.Method.invoke(Native Method)&#160;\r\n\tat com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:567)&#160;\r\n\tat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1135)&#160;\r\nCaused by: java.lang.NoClassDefFoundError: Class not found using the boot class loader; no stack trace available\r\n```\r\n\r\n----------\r\n\r\n### Libraries, etc\r\n\r\n`build.gradle` (module)\r\n\r\n```\r\nbuildscript {\r\n    ext.kotlin_version = &#39;1.8.0&#39;\r\n\r\n    repositories {\r\n        google()\r\n        mavenCentral()\r\n    }\r\n\r\n    dependencies {\r\n        classpath &#39;com.android.tools.build:gradle:7.4.2&#39;\r\n        classpath &quot;org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version&quot;\r\n    }\r\n}\r\n...\r\nandroid {\r\n    compileSdk 33\r\n    ...\r\n}\r\n...\r\ndependencies {\r\n    ...\r\n    implementation(&quot;com.twilio:voice-android:6.2.1&quot;)\r\n    implementation(&quot;com.google.firebase:firebase-messaging-ktx:23.2.1&quot;)\r\n    ...\r\n}\r\n```\r\n\r\n---\r\n\r\n## UPDATE 1\r\n\r\nUsing the last working solution (Java), I resolved to parcelling and unparcelling immediately to emulate what&#39;s happening in the background, seems there might be a problem here.\r\n\r\n```java\r\npublic class VoiceFirebaseMessagingService extends FirebaseMessagingService {\r\n\r\n    @Override\r\n    public void onMessageReceived(final RemoteMessage remoteMessage) {\r\n        // ... valid message\r\n        handleInvite(callInvite, notificationId);\r\n        //...\r\n    }\r\n\r\n    private void handleInvite(CallInvite callInvite, int notificationId) {\r\n        Parcel p = Parcel.obtain();\r\n        p.writeParcelable(callInvite, 0);\r\n        ClassLoader classLoader = getApplicationContext().getClassLoader();\r\n        CallInvite ci = p.readParcelable(classLoader); // &lt;----------------- ci is always null\r\n        if(ci != null){\r\n            Log.d(TAG, &quot;handleInvite: &quot; + ci.getCallSid());\r\n        } else {\r\n            Log.d(TAG, &quot;handleInvite: null&quot;);\r\n        }\r\n    }\r\n\r\n}\r\n```\r\n\r\nThe same occurs on with Kotlin, though I get a `ClassNotFoundException` for `CallInvite`.\r\n\r\nSo far, I&#39;ve traced the issue to [Parcel.readParcelableCreator(@Nullable ClassLoader)](https://android.googlesource.com/platform/frameworks/base/+/400aaf9/core/java/android/os/Parcel.java#2868) (for Android 11, API 30)\r\n\r\n```java\r\npublic final Parcelable.Creator&lt;?&gt; readParcelableCreator(@Nullable ClassLoader loader) {\r\n        String name = readString();\r\n        if (name == null) {\r\n            return null;\r\n        }\r\n        Parcelable.Creator&lt;?&gt; creator;\r\n```\r\n\r\n`name` is always null, thus returns null when calling `Parcel.readParcelable`.\r\n\r\n_This occurs on both Android 11 &amp; 12 (API 30, 31)_\r\n\r\n  [1]: https://developer.android.com/reference/android/telecom/ConnectionService\r\n  [2]: https://developer.android.com/reference/android/telecom/Connection#setAddress(android.net.Uri,%20int)\r\n  [3]: https://developer.android.com/reference/android/telecom/TelecomManager#EXTRA_INCOMING_CALL_EXTRAS\r\n  [4]: https://stackoverflow.com/a/66893429/4628115\r\n  [5]: https://developer.android.com/reference/android/telecom/ConnectionService#onCreateIncomingConnection(android.telecom.PhoneAccountHandle,%20android.telecom.ConnectionRequest)\r\n  [6]: https://twilio.github.io/twilio-voice-android/docs/latest/com/twilio/voice/CallInvite.html","title":"ClassNotFoundException com.twilio.voice.CallInvite when reading ConnectionService Bundle extras in onCreateIncomingConnection","body":"<p>I'm upgrading a Flutter library to use a Twilio Voice integrated with a <a href=\"https://developer.android.com/reference/android/telecom/ConnectionService\" rel=\"nofollow noreferrer\">ConnectionService</a> for native call management. To accomplish this, one has to extend a <code>ConnectionService</code> (inherits from a <code>Service</code> with associated communication methods, i.e. <code>Intent</code>s)</p>\n<hr />\n<h3>Background &amp; Context</h3>\n<p>To receive incoming call (via a notification manager like FCM), one needs to notify the <code>ConnectionService</code> of an incoming call using</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>override fun onCreateIncomingConnection(connectionManagerPhoneAccount: PhoneAccountHandle?, request: ConnectionRequest?): Connection {\n    super.onCreateIncomingConnection(connectionManagerPhoneAccount, request)\n    Log.d(TAG, &quot;onCreateIncomingConnection&quot;)'\n    // ... code goes here\n    // return new Connection(...)\n}\n</code></pre>\n<p>With this <code>onCreateIncomingConnection</code>, it will ask the native 'Phone Call' app to show an incoming call with parameters you provide, e.g. showing the incoming caller number with <a href=\"https://developer.android.com/reference/android/telecom/Connection#setAddress(android.net.Uri,%20int)\" rel=\"nofollow noreferrer\">Connection.setAddress</a></p>\n<p>This additional information can be passed into the <code>ConnectionService</code> by adding them to an extras <code>Bundle</code> with the Key <a href=\"https://developer.android.com/reference/android/telecom/TelecomManager#EXTRA_INCOMING_CALL_EXTRAS\" rel=\"nofollow noreferrer\">TelecomManager.EXTRA_INCOMING_CALL_EXTRAS</a> (for incoming calls) which is then added to a new <code>Bundle</code> e.g.</p>\n<p><a href=\"https://stackoverflow.com/a/66893429/4628115\">Source</a></p>\n<pre class=\"lang-java prettyprint-override\"><code>private fun handleFCMCallInvite(callInvite: CallInvite, notificationId: Int) {\n    // Get telecom manager\n    val telecomManager = getSystemService(TELECOM_SERVICE) as TelecomManager\n\n    // Get PhoneAccountHandle\n    val caller = callInvite.from!!.toString()\n    val componentName = ComponentName(applicationContext.packageName, TwilioVoiceConnectionService::class.java.name)\n    val phoneAccountHandle = PhoneAccountHandle(componentName, caller)\n\n    // Create my Bundle containing information e.g. notificationId and callInvite\n    val myBundle = Bundle()\n    myBundle.putInt(Constants.INCOMING_CALL_NOTIFICATION_ID, notificationId)\n    myBundle.putParcelable(Constants.INCOMING_CALL_INVITE, callInvite)\n\n    // Add new incoming call to the telecom manager\n    telecomManager.addNewIncomingCall(phoneAccountHandle, Bundle().apply {\n        putBundle(EXTRA_INCOMING_CALL_EXTRAS, myBundle)\n        putParcelable(EXTRA_PHONE_ACCOUNT_HANDLE, phoneAccountHandle)\n    })\n}\n</code></pre>\n<hr />\n<h3>Problem</h3>\n<p>The issue comes in when trying to <code>unparcel()</code> the <code>CallInvite</code> from Bundled extras in the <code>ConnectionService</code>'s <a href=\"https://developer.android.com/reference/android/telecom/ConnectionService#onCreateIncomingConnection(android.telecom.PhoneAccountHandle,%20android.telecom.ConnectionRequest)\" rel=\"nofollow noreferrer\">onCreateIncomingConnection</a> implementation, see as follows:</p>\n<pre class=\"lang-java prettyprint-override\"><code>override fun onCreateIncomingConnection(connectionManagerPhoneAccount: PhoneAccountHandle?, request: ConnectionRequest?): Connection {\n    super.onCreateIncomingConnection(connectionManagerPhoneAccount, request)\n    Log.d(TAG, &quot;onCreateIncomingConnection&quot;)\n    val connection: Connection = VoipConnection(applicationContext)\n    connection.extras = request?.extras\n\n    var ci: CallInvite? = null\n    val myBundle: Bundle? = connection.extras.getBundle(TelecomManager.EXTRA_INCOMING_CALL_EXTRAS);\n    if(myBundle != null) {\n        Log.d(TAG, &quot;onCreateIncomingConnection: myBundle is not null&quot;)\n\n        /// --------------------------------------------------------\n        /// This next line throws the ClassNotFoundException occurs\n        /// --------------------------------------------------------\n        if (myBundle.containsKey(Constants.INCOMING_CALL_INVITE) ) { \n            Log.d(TAG, &quot;onCreateIncomingConnection: myBundle contains INCOMING_CALL_INVITE&quot;)\n            ci = myBundle.getParcelable(Constants.INCOMING_CALL_INVITE)\n        } else {\n            Log.d(TAG, &quot;onCreateIncomingConnection: myBundle does not contain INCOMING_CALL_INVITE&quot;)\n        }\n    } else {\n        Log.d(TAG, &quot;onCreateIncomingConnection: myBundle is null&quot;)\n    }\n\n    ...\n}\n</code></pre>\n<p>As shown in the snippet above, when calling <code>myBundle.containsKey()</code> with a valid key any time I have a <a href=\"https://twilio.github.io/twilio-voice-android/docs/latest/com/twilio/voice/CallInvite.html\" rel=\"nofollow noreferrer\">CallInvite</a> object bundled in. If I only pass in e.g. <code>notificationId</code>, contains and accessors work as intended.</p>\n<p>When including the <code>CallInvite</code> in the bundle, I get the following exception:</p>\n<p>*Note: <code>CallInvite</code> implements <code>Parcelable</code></p>\n<pre><code>Class not found when unmarshalling: com.twilio.voice.CallInvite\njava.lang.ClassNotFoundException: com.twilio.voice.CallInvite\n    at java.lang.Class.classForName(Native Method)\n    at java.lang.Class.forName(Class.java:454)\n    at android.os.Parcel.readParcelableCreator(Parcel.java:3403)\n    at android.os.Parcel.readParcelable(Parcel.java:3337)\n    at android.os.Parcel.readValue(Parcel.java:3239)\n    at android.os.Parcel.readArrayMapInternal(Parcel.java:3636)\n    at android.os.BaseBundle.initializeFromParcelLocked(BaseBundle.java:292)\n    at android.os.BaseBundle.unparcel(BaseBundle.java:236)\n    at android.os.BaseBundle.containsKey(BaseBundle.java:516)\n    at com.twilio.twilio_voice.connectionservice.TwilioVoiceConnectionService.onCreateIncomingConnection(TwilioVoiceConnectionService.kt:43)\n    at android.telecom.ConnectionService.createConnection(ConnectionService.java:2061)\n    at android.telecom.ConnectionService.access$400(ConnectionService.java:96)\n    at android.telecom.ConnectionService$2$1.loggedRun(ConnectionService.java:914)\n    at android.telecom.Logging.Runnable$1.run(Runnable.java:37)\n    at android.telecom.ConnectionService.onAccountsInitialized(ConnectionService.java:3272)\n    at android.telecom.ConnectionService.access$5000(ConnectionService.java:96)\n    at android.telecom.ConnectionService$5$1.loggedRun(ConnectionService.java:2577)\n    at android.telecom.Logging.Runnable$1.run(Runnable.java:37)\n    at android.os.Handler.handleCallback(Handler.java:938)\n    at android.os.Handler.dispatchMessage(Handler.java:99)\n    at android.os.Looper.loopOnce(Looper.java:226)\n    at android.os.Looper.loop(Looper.java:313)\n    at android.app.ActivityThread.main(ActivityThread.java:8663)\n    at java.lang.reflect.Method.invoke(Native Method)\n    at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:567)\n    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1135)\nCaused by: java.lang.ClassNotFoundException: com.twilio.voice.CallInvite\n    at java.lang.Class.classForName(Native Method)\n    at java.lang.BootClassLoader.findClass(ClassLoader.java:1358)\n    at java.lang.BootClassLoader.loadClass(ClassLoader.java:1418)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:312)\n    at java.lang.Class.classForName(Native Method) \n    at java.lang.Class.forName(Class.java:454) \n    at android.os.Parcel.readParcelableCreator(Parcel.java:3403) \n    at android.os.Parcel.readParcelable(Parcel.java:3337) \n    at android.os.Parcel.readValue(Parcel.java:3239) \n    at android.os.Parcel.readArrayMapInternal(Parcel.java:3636) \n    at android.os.BaseBundle.initializeFromParcelLocked(BaseBundle.java:292) \n    at android.os.BaseBundle.unparcel(BaseBundle.java:236) \n    at android.os.BaseBundle.containsKey(BaseBundle.java:516) \n    at com.twilio.twilio_voice.connectionservice.TwilioVoiceConnectionService.onCreateIncomingConnection(TwilioVoiceConnectionService.kt:43) \n    at android.telecom.ConnectionService.createConnection(ConnectionService.java:2061) \n    at android.telecom.ConnectionService.access$400(ConnectionService.java:96) \n    at android.telecom.ConnectionService$2$1.loggedRun(ConnectionService.java:914) \n    at android.telecom.Logging.Runnable$1.run(Runnable.java:37) \n    at android.telecom.ConnectionService.onAccountsInitialized(ConnectionService.java:3272) \n    at android.telecom.ConnectionService.access$5000(ConnectionService.java:96) \n    at android.telecom.ConnectionService$5$1.loggedRun(ConnectionService.java:2577) \n    at android.telecom.Logging.Runnable$1.run(Runnable.java:37) \n    at android.os.Handler.handleCallback(Handler.java:938) \n    at android.os.Handler.dispatchMessage(Handler.java:99) \n    at android.os.Looper.loopOnce(Looper.java:226) \n    at android.os.Looper.loop(Looper.java:313) \n    at android.app.ActivityThread.main(ActivityThread.java:8663) \n    at java.lang.reflect.Method.invoke(Native Method) \n    at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:567) \n    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1135) \nCaused by: java.lang.NoClassDefFoundError: Class not found using the boot class loader; no stack trace available\n</code></pre>\n<hr />\n<h3>Libraries, etc</h3>\n<p><code>build.gradle</code> (module)</p>\n<pre><code>buildscript {\n    ext.kotlin_version = '1.8.0'\n\n    repositories {\n        google()\n        mavenCentral()\n    }\n\n    dependencies {\n        classpath 'com.android.tools.build:gradle:7.4.2'\n        classpath &quot;org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version&quot;\n    }\n}\n...\nandroid {\n    compileSdk 33\n    ...\n}\n...\ndependencies {\n    ...\n    implementation(&quot;com.twilio:voice-android:6.2.1&quot;)\n    implementation(&quot;com.google.firebase:firebase-messaging-ktx:23.2.1&quot;)\n    ...\n}\n</code></pre>\n<hr />\n<h2>UPDATE 1</h2>\n<p>Using the last working solution (Java), I resolved to parcelling and unparcelling immediately to emulate what's happening in the background, seems there might be a problem here.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class VoiceFirebaseMessagingService extends FirebaseMessagingService {\n\n    @Override\n    public void onMessageReceived(final RemoteMessage remoteMessage) {\n        // ... valid message\n        handleInvite(callInvite, notificationId);\n        //...\n    }\n\n    private void handleInvite(CallInvite callInvite, int notificationId) {\n        Parcel p = Parcel.obtain();\n        p.writeParcelable(callInvite, 0);\n        ClassLoader classLoader = getApplicationContext().getClassLoader();\n        CallInvite ci = p.readParcelable(classLoader); // &lt;----------------- ci is always null\n        if(ci != null){\n            Log.d(TAG, &quot;handleInvite: &quot; + ci.getCallSid());\n        } else {\n            Log.d(TAG, &quot;handleInvite: null&quot;);\n        }\n    }\n\n}\n</code></pre>\n<p>The same occurs on with Kotlin, though I get a <code>ClassNotFoundException</code> for <code>CallInvite</code>.</p>\n<p>So far, I've traced the issue to <a href=\"https://android.googlesource.com/platform/frameworks/base/+/400aaf9/core/java/android/os/Parcel.java#2868\" rel=\"nofollow noreferrer\">Parcel.readParcelableCreator(@Nullable ClassLoader)</a> (for Android 11, API 30)</p>\n<pre class=\"lang-java prettyprint-override\"><code>public final Parcelable.Creator&lt;?&gt; readParcelableCreator(@Nullable ClassLoader loader) {\n        String name = readString();\n        if (name == null) {\n            return null;\n        }\n        Parcelable.Creator&lt;?&gt; creator;\n</code></pre>\n<p><code>name</code> is always null, thus returns null when calling <code>Parcel.readParcelable</code>.</p>\n<p><em>This occurs on both Android 11 &amp; 12 (API 30, 31)</em></p>\n"},{"tags":["java","postman","rest-assured","micronaut","micronaut-rest"],"comments":[{"owner":{"account_id":26632345,"reputation":90,"user_id":20249350,"display_name":"Hassen Gaaya"},"score":0,"creation_date":1691790745,"post_id":76886503,"comment_id":135544337,"body_markdown":"Hello @svwleg42, are you sure that the content of ContentType.JSON is equal to &quot;application/json&quot; ? Is there ContentType.APPLICATION_JSON ?","body":"Hello @svwleg42, are you sure that the content of ContentType.JSON is equal to &quot;application/json&quot; ? Is there ContentType.APPLICATION_JSON ?"}],"answers":[{"tags":[],"owner":{"account_id":10263942,"reputation":5676,"user_id":7574461,"display_name":"lucas-nguyen-17"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1691805021,"creation_date":1691805021,"answer_id":76887448,"question_id":76886503,"body_markdown":"- First, `param()` is for query param or path param, if you want to add body in json, use `.body()` instead.\r\n- Second, `ContentType.JSON` is not equal to `appplication/json`, it is `application/json; charest=utf-8`\r\n\r\nThe code would be:\r\n\r\n```\r\nspec.given().header(&quot;Authorization&quot;, &quot;Bearer &quot; + bearerToken)\r\n        .contentType(&quot;application/json&quot;)\r\n        .body(&quot;{\\&quot;name\\&quot;:\\&quot;Test Device\\&quot;}&quot;)\r\n        .when().post(&quot;/user/38/devices&quot;)\r\n        .then().statusCode(201);\r\n```","title":"Why do these REST Assured queries not get the same result as doing it in Postman? (403 or 400 status code vs desired 201)","body":"<ul>\n<li>First, <code>param()</code> is for query param or path param, if you want to add body in json, use <code>.body()</code> instead.</li>\n<li>Second, <code>ContentType.JSON</code> is not equal to <code>appplication/json</code>, it is <code>application/json; charest=utf-8</code></li>\n</ul>\n<p>The code would be:</p>\n<pre><code>spec.given().header(&quot;Authorization&quot;, &quot;Bearer &quot; + bearerToken)\n        .contentType(&quot;application/json&quot;)\n        .body(&quot;{\\&quot;name\\&quot;:\\&quot;Test Device\\&quot;}&quot;)\n        .when().post(&quot;/user/38/devices&quot;)\n        .then().statusCode(201);\n</code></pre>\n"}],"owner":{"account_id":29208239,"reputation":3,"user_id":22376844,"display_name":"svwleg42"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":96,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76887448,"answer_count":1,"score":0,"last_activity_date":1691805021,"creation_date":1691785713,"question_id":76886503,"body_markdown":"For a group project at university, we&#39;re writing a Micronaut application for managing some data with a REST API, which I&#39;m supposed to test with REST Assured. To start off with, I&#39;m basically trying to convert a successful Postman request (POST to the path user/38/devices with body `{&quot;name&quot;:&quot;Test Device&quot;}` - i.e. creating a device called &quot;Test Device&quot; for this random existing user - with authentication via a bearer token) to REST Assured code that just checks if the status code is 201 as it should be. \r\n\r\n\r\n\r\n\r\nMy first attempt after parsing through the REST Assured and Micronaut Test usage guides was this:\r\n\r\n```\r\n@Test\r\npublic void devicePostTest(RequestSpecification spec) {\r\n    spec.given().auth().oauth2(bearerToken).param(&quot;name&quot;, &quot;Test Device&quot;)\r\n            .when().post(&quot;/user/38/devices&quot;)\r\n            .then().statusCode(201);\r\n}\r\n```\r\nBut the status code is 403. \r\nAfter finding [this similar Stackoverflow question](https://stackoverflow.com/questions/42790021/rest-assured-bearer-authentication), I changed it to this:\r\n\r\n```\r\n@Test\r\npublic void devicePostTest(RequestSpecification spec) {\r\n    spec.given().headers(&quot;Authorization&quot;, &quot;Bearer &quot; + bearerToken,&quot;Content-Type&quot;, ContentType.JSON,\r\n                &quot;Accept&quot;, ContentType.JSON)\r\n            .param(&quot;name&quot;, &quot;Test Device&quot;)\r\n            .when().post(&quot;/user/38/devices&quot;)\r\n            .then().statusCode(201);\r\n    }\r\n```\r\nWhich curiously now throws a 400. At this point, I found Postman&#39;s feature to generate cURL which gives me this:\r\n\r\n```\r\ncurl --location &#39;http://localhost:9080/user/38/devices&#39; \\\r\n--header &#39;Content-Type: application/json&#39; \\\r\n--header &#39;Authorization: Bearer *bearerToken*&#39; \\\r\n--data &#39;{\r\n    &quot;name&quot;:&quot;Test Device&quot;\r\n}&#39;\r\n```\r\nSo I removed the &quot;Accept&quot; header from my code to match the cURL more closely, but none the better. \r\nInterestingly, also removing the &quot;Content-Type&quot; header results in going back to a 403 status code, whatever that may tell us.\r\n\r\nMaybe I&#39;m missing out on some very basic knowledge here (it is my first time working with basically anything  included in this except Java), maybe I&#39;ve made some blatant error or something else entirely. Whatever it is, I have no clue what it may be.\r\n","title":"Why do these REST Assured queries not get the same result as doing it in Postman? (403 or 400 status code vs desired 201)","body":"<p>For a group project at university, we're writing a Micronaut application for managing some data with a REST API, which I'm supposed to test with REST Assured. To start off with, I'm basically trying to convert a successful Postman request (POST to the path user/38/devices with body <code>{&quot;name&quot;:&quot;Test Device&quot;}</code> - i.e. creating a device called &quot;Test Device&quot; for this random existing user - with authentication via a bearer token) to REST Assured code that just checks if the status code is 201 as it should be.</p>\n<p>My first attempt after parsing through the REST Assured and Micronaut Test usage guides was this:</p>\n<pre><code>@Test\npublic void devicePostTest(RequestSpecification spec) {\n    spec.given().auth().oauth2(bearerToken).param(&quot;name&quot;, &quot;Test Device&quot;)\n            .when().post(&quot;/user/38/devices&quot;)\n            .then().statusCode(201);\n}\n</code></pre>\n<p>But the status code is 403.\nAfter finding <a href=\"https://stackoverflow.com/questions/42790021/rest-assured-bearer-authentication\">this similar Stackoverflow question</a>, I changed it to this:</p>\n<pre><code>@Test\npublic void devicePostTest(RequestSpecification spec) {\n    spec.given().headers(&quot;Authorization&quot;, &quot;Bearer &quot; + bearerToken,&quot;Content-Type&quot;, ContentType.JSON,\n                &quot;Accept&quot;, ContentType.JSON)\n            .param(&quot;name&quot;, &quot;Test Device&quot;)\n            .when().post(&quot;/user/38/devices&quot;)\n            .then().statusCode(201);\n    }\n</code></pre>\n<p>Which curiously now throws a 400. At this point, I found Postman's feature to generate cURL which gives me this:</p>\n<pre><code>curl --location 'http://localhost:9080/user/38/devices' \\\n--header 'Content-Type: application/json' \\\n--header 'Authorization: Bearer *bearerToken*' \\\n--data '{\n    &quot;name&quot;:&quot;Test Device&quot;\n}'\n</code></pre>\n<p>So I removed the &quot;Accept&quot; header from my code to match the cURL more closely, but none the better.\nInterestingly, also removing the &quot;Content-Type&quot; header results in going back to a 403 status code, whatever that may tell us.</p>\n<p>Maybe I'm missing out on some very basic knowledge here (it is my first time working with basically anything  included in this except Java), maybe I've made some blatant error or something else entirely. Whatever it is, I have no clue what it may be.</p>\n"},{"tags":["java","spring","aspectj","spring-aop"],"answers":[{"comments":[{"owner":{"account_id":422964,"reputation":33652,"user_id":802050,"accept_rate":89,"display_name":"M Sach"},"score":0,"creation_date":1419094082,"post_id":27581226,"comment_id":43588892,"body_markdown":"i believe load time weaving is better in terms of performance as there would not be performance overhead in deciding whether proxy needs to be injected based on aspect configuration which is the case for run time weaving. Yes in load time weaving server startup will take bit longer but thats fine as its one time activity","body":"i believe load time weaving is better in terms of performance as there would not be performance overhead in deciding whether proxy needs to be injected based on aspect configuration which is the case for run time weaving. Yes in load time weaving server startup will take bit longer but thats fine as its one time activity"},{"owner":{"account_id":256642,"reputation":6092,"user_id":537503,"accept_rate":42,"display_name":"Andy Dufresne"},"score":0,"creation_date":1419132123,"post_id":27581226,"comment_id":43597273,"body_markdown":"The performance could be better in load time weaving (or more specifically compile time weaving).Best would be to verify it actually through a load test) but there are other areas you might want to consider like the changes in the build system. You would have include this step before your artifacts are generated.","body":"The performance could be better in load time weaving (or more specifically compile time weaving).Best would be to verify it actually through a load test) but there are other areas you might want to consider like the changes in the build system. You would have include this step before your artifacts are generated."},{"owner":{"account_id":97325,"reputation":62295,"user_id":264052,"accept_rate":66,"display_name":"smwikipedia"},"score":3,"creation_date":1444891629,"post_id":27581226,"comment_id":54093574,"body_markdown":"Just an useful quotation - &quot;*All problems in computer science can be solved by another level of indirection, except of course for the problem of too many indirections.*&quot; – David Wheeler","body":"Just an useful quotation - &quot;<i>All problems in computer science can be solved by another level of indirection, except of course for the problem of too many indirections.</i>&quot; – David Wheeler"},{"owner":{"account_id":9095918,"reputation":14433,"user_id":6769908,"accept_rate":91,"display_name":"Amir Ziarati"},"score":1,"creation_date":1528273287,"post_id":27581226,"comment_id":88439620,"body_markdown":"great explanation. two Qs -&gt; first: can we say Spring-AOP uses reflection but aspectJ doesnt ? second: isnt using reflection expensive from the point of efficiency ?","body":"great explanation. two Qs -&gt; first: can we say Spring-AOP uses reflection but aspectJ doesnt ? second: isnt using reflection expensive from the point of efficiency ?"},{"owner":{"account_id":2798671,"reputation":1041,"user_id":2407369,"accept_rate":83,"display_name":"Victor"},"score":1,"creation_date":1546525152,"post_id":27581226,"comment_id":94884332,"body_markdown":"@AmirZiarati I will try to respond: 1.Both are using reflection, but AspectJ &quot;uses it at minimum&quot; (see https://www.eclipse.org/aspectj/doc/released/faq.php#q:reflection) 2. Yes, reflection is expensive and should be used with care.","body":"@AmirZiarati I will try to respond: 1.Both are using reflection, but AspectJ &quot;uses it at minimum&quot; (see <a href=\"https://www.eclipse.org/aspectj/doc/released/faq.php#q:reflection\" rel=\"nofollow noreferrer\">eclipse.org/aspectj/doc/released/faq.php#q:reflection</a>) 2. Yes, reflection is expensive and should be used with care."},{"owner":{"account_id":11885028,"reputation":2467,"user_id":8697659,"display_name":"improbable"},"score":2,"creation_date":1570185916,"post_id":27581226,"comment_id":102842905,"body_markdown":"@AndyDufresne Your link to Spring AOP internals is not functional.","body":"@AndyDufresne Your link to Spring AOP internals is not functional."}],"tags":[],"owner":{"account_id":256642,"reputation":6092,"user_id":537503,"accept_rate":42,"display_name":"Andy Dufresne"},"comment_count":6,"down_vote_count":0,"up_vote_count":22,"is_accepted":true,"score":22,"last_activity_date":1691804613,"creation_date":1419086272,"answer_id":27581226,"question_id":27580958,"body_markdown":"Your understanding is right. Spring AOP is proxy-based. Spring uses either JDK proxies (preferred wheneven the proxied target implements at least one interface) or CGLIB proxies (if the target object does not implement any interfaces) to create the proxy for a given target bean.\r\n\r\nUnless configured to do otherwise, Spring AOP performs run-time weaving. You can however set up Spring to do load-time weaving through AspectJ. Check the [documentation link][1] for more details.\r\n\r\n  [1]: http://docs.spring.io/spring/docs/current/spring-framework-reference/html/aop.html#aop-ataspectj#","title":"How Spring aspects work internally?","body":"<p>Your understanding is right. Spring AOP is proxy-based. Spring uses either JDK proxies (preferred wheneven the proxied target implements at least one interface) or CGLIB proxies (if the target object does not implement any interfaces) to create the proxy for a given target bean.</p>\n<p>Unless configured to do otherwise, Spring AOP performs run-time weaving. You can however set up Spring to do load-time weaving through AspectJ. Check the <a href=\"http://docs.spring.io/spring/docs/current/spring-framework-reference/html/aop.html#aop-ataspectj#\" rel=\"nofollow noreferrer\">documentation link</a> for more details.</p>\n"},{"tags":[],"owner":{"account_id":422964,"reputation":33652,"user_id":802050,"accept_rate":89,"display_name":"M Sach"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1450808039,"creation_date":1450808039,"answer_id":34422044,"question_id":27580958,"body_markdown":"Still there are two points to clarify here\r\n\r\nFirst one in my post is actually load time weaving not run time weaving\r\n\r\nFrom this [link][1]\r\n\r\n**Load-time weaving (LTW)** is simply binary weaving defered until the point that a class loader loads a class file and defines the class to the JVM. To support this, one or more &quot;weaving class loaders&quot;, either provided explicitly by the run-time environment or enabled through a &quot;weaving agent&quot; are required.\r\n\r\nSecond one is compile time weaving\r\n\r\n**Compile-time weaving** is the simplest approach. When you have the source code for an application, ajc will compile from source and produce woven class files as output. The invocation of the weaver is integral to the ajc compilation process. The aspects themselves may be in source or binary form. If the aspects are required for the affected classes to compile, then you must weave at compile-time. Aspects are required, e.g., when they add members to a class and other classes being compiled reference the added members.\r\n\r\n\r\n  [1]: https://eclipse.org/aspectj/doc/released/devguide/ltw.html","title":"How Spring aspects work internally?","body":"<p>Still there are two points to clarify here</p>\n\n<p>First one in my post is actually load time weaving not run time weaving</p>\n\n<p>From this <a href=\"https://eclipse.org/aspectj/doc/released/devguide/ltw.html\" rel=\"nofollow\">link</a></p>\n\n<p><strong>Load-time weaving (LTW)</strong> is simply binary weaving defered until the point that a class loader loads a class file and defines the class to the JVM. To support this, one or more \"weaving class loaders\", either provided explicitly by the run-time environment or enabled through a \"weaving agent\" are required.</p>\n\n<p>Second one is compile time weaving</p>\n\n<p><strong>Compile-time weaving</strong> is the simplest approach. When you have the source code for an application, ajc will compile from source and produce woven class files as output. The invocation of the weaver is integral to the ajc compilation process. The aspects themselves may be in source or binary form. If the aspects are required for the affected classes to compile, then you must weave at compile-time. Aspects are required, e.g., when they add members to a class and other classes being compiled reference the added members.</p>\n"}],"owner":{"account_id":422964,"reputation":33652,"user_id":802050,"accept_rate":89,"display_name":"M Sach"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13436,"favorite_count":0,"down_vote_count":1,"up_vote_count":17,"accepted_answer_id":27581226,"answer_count":2,"score":16,"last_activity_date":1691804613,"creation_date":1419084301,"question_id":27580958,"body_markdown":"Say Service calls Dao class on which logging aspect(annotational)  needs to be applied. I am wondering how\r\naspects actually gets applied. \r\n\r\nAs per my understanding at the time of DAO injection under Service object, spring finds out that there is some \r\naspect(in this case logging) is configured for DAO, so it injects the proxy object instead of actual target object.\r\nNow when actual call is made to any method inside DAO, proxy applies the aspects and then call the actual target\r\nobject. Is that correct ? Also i believe this is called Run time weaving.  \r\n\r\nOn the other hand same can be done with load time weaving(with javaagent configuration) where byte code manipulation\r\nis done for classes on which aspects needs to be applied.  So proxy does not come into picture here.\r\n\r\nPlease correct me if i am wrong as this is the foundation for all spring modules?\r\n\r\n","title":"How Spring aspects work internally?","body":"<p>Say Service calls Dao class on which logging aspect(annotational)  needs to be applied. I am wondering how\naspects actually gets applied. </p>\n\n<p>As per my understanding at the time of DAO injection under Service object, spring finds out that there is some \naspect(in this case logging) is configured for DAO, so it injects the proxy object instead of actual target object.\nNow when actual call is made to any method inside DAO, proxy applies the aspects and then call the actual target\nobject. Is that correct ? Also i believe this is called Run time weaving.  </p>\n\n<p>On the other hand same can be done with load time weaving(with javaagent configuration) where byte code manipulation\nis done for classes on which aspects needs to be applied.  So proxy does not come into picture here.</p>\n\n<p>Please correct me if i am wrong as this is the foundation for all spring modules?</p>\n"},{"tags":["java","android","notifications","android-notifications","alarmmanager"],"comments":[{"owner":{"account_id":1790714,"reputation":91128,"user_id":1631193,"accept_rate":71,"display_name":"Gabe Sechan"},"score":0,"creation_date":1691804088,"post_id":76887413,"comment_id":135545294,"body_markdown":"I highly doubt you can programatically.  It would kind of defeat the purpose of blocking them","body":"I highly doubt you can programatically.  It would kind of defeat the purpose of blocking them"},{"owner":{"account_id":19730063,"reputation":1,"user_id":14445746,"display_name":"Ehsan"},"score":0,"creation_date":1691804393,"post_id":76887413,"comment_id":135545313,"body_markdown":"@GabeSechan\n&quot;Is it possible to make an application run in the background permanently?&quot;","body":"@GabeSechan &quot;Is it possible to make an application run in the background permanently?&quot;"},{"owner":{"account_id":1790714,"reputation":91128,"user_id":1631193,"accept_rate":71,"display_name":"Gabe Sechan"},"score":0,"creation_date":1691813258,"post_id":76887413,"comment_id":135545709,"body_markdown":"No.  It never has been on Android.  And in modern ANdroid you&#39;re extremely limited.  But explain why you want to do that, there&#39;s probably a way to achieve it without being running constantly","body":"No.  It never has been on Android.  And in modern ANdroid you&#39;re extremely limited.  But explain why you want to do that, there&#39;s probably a way to achieve it without being running constantly"},{"owner":{"account_id":19730063,"reputation":1,"user_id":14445746,"display_name":"Ehsan"},"score":0,"creation_date":1691840503,"post_id":76887413,"comment_id":135547771,"body_markdown":"@GabeSechan    i make simple (to do list app) with notification i used alarm manager it is work correctly but when the app is close alarm manager don&#39;t post any notification","body":"@GabeSechan    i make simple (to do list app) with notification i used alarm manager it is work correctly but when the app is close alarm manager don&#39;t post any notification"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1691939261,"post_id":76887413,"comment_id":135555674,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"owner":{"account_id":19730063,"reputation":1,"user_id":14445746,"display_name":"Ehsan"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":76,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1691804089,"creation_date":1691804020,"question_id":76887413,"body_markdown":"how can i make may android application is allowed to send notification when it is close from **phone security or from phone master app**\r\n\r\ni need to get permission from user to add may application to white list\r\n\r\nas this figure\r\n\r\n(https://i.stack.imgur.com/lx9RA.jpg)\r\n\r\n(https://i.stack.imgur.com/44agV.jpg)\r\n\r\n\r\n\r\n\r\ni will search and try different solutions but not solved may problem\r\n\r\n","title":"android notification problem in ( tecno,Xiaomi,infinix , ...) phone","body":"<p>how can i make may android application is allowed to send notification when it is close from <strong>phone security or from phone master app</strong></p>\n<p>i need to get permission from user to add may application to white list</p>\n<p>as this figure</p>\n<p>(<a href=\"https://i.stack.imgur.com/lx9RA.jpg\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/lx9RA.jpg</a>)</p>\n<p>(<a href=\"https://i.stack.imgur.com/44agV.jpg\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/44agV.jpg</a>)</p>\n<p>i will search and try different solutions but not solved may problem</p>\n"},{"tags":["java","spring-boot","hibernate","spring-data-jpa"],"comments":[{"owner":{"account_id":29176687,"reputation":332,"user_id":22351796,"display_name":"Karsten"},"score":0,"creation_date":1691831386,"post_id":76887404,"comment_id":135546900,"body_markdown":"Its hard to say what&#39;s going wrong here. First I&#39;d check whether the read objects are okay. Put a breakpoint on repository.save(c) and inspect c whether it has valid Governonate objetcs.","body":"Its hard to say what&#39;s going wrong here. First I&#39;d check whether the read objects are okay. Put a breakpoint on repository.save(c) and inspect c whether it has valid Governonate objetcs."},{"owner":{"account_id":29209243,"reputation":1,"user_id":22377591,"display_name":"hamdi"},"score":0,"creation_date":1691833920,"post_id":76887404,"comment_id":135547172,"body_markdown":"@Karsten already did they are mapped just fine with all the values in tact","body":"@Karsten already did they are mapped just fine with all the values in tact"},{"owner":{"account_id":29176687,"reputation":332,"user_id":22351796,"display_name":"Karsten"},"score":0,"creation_date":1691836433,"post_id":76887404,"comment_id":135547406,"body_markdown":"What looks strange to me is that you don&#39;t have a @JoinColumn on your relation definition but I can&#39;t imagine what effect this would have for your current problem. Another idea is to change the cascade type to ALL. Also I&#39;d check the SQLs going to the database.","body":"What looks strange to me is that you don&#39;t have a @JoinColumn on your relation definition but I can&#39;t imagine what effect this would have for your current problem. Another idea is to change the cascade type to ALL. Also I&#39;d check the SQLs going to the database."},{"owner":{"account_id":29209243,"reputation":1,"user_id":22377591,"display_name":"hamdi"},"score":0,"creation_date":1691838979,"post_id":76887404,"comment_id":135547642,"body_markdown":"@JoinColumn didn&#39;t do much instead the cascade type ALL resolved the problem thank you.","body":"@JoinColumn didn&#39;t do much instead the cascade type ALL resolved the problem thank you."}],"owner":{"account_id":29209243,"reputation":1,"user_id":22377591,"display_name":"hamdi"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1691803697,"creation_date":1691803697,"question_id":76887404,"body_markdown":"I have a unidirectional relation between `Country` and `Governorate` with the first one being the owner, here are their implementation:\r\n\r\n`Country.java`\r\n```\r\n@RequiredArgsConstructor\r\n@NoArgsConstructor\r\n@Getter\r\n@EqualsAndHashCode\r\n\r\n@Entity\r\npublic class Country {\r\n\r\n\t\r\n\t@Id\r\n\t@NotBlank\r\n\t@Size(max = 3)\r\n\t@NonNull\r\n\t@Setter\r\n\tprivate String isoCode;\r\n\t\r\n\t@Column(unique = true, nullable = false)\r\n\t@NotBlank\r\n\t@Size(max = 50)\r\n\t@NonNull\r\n\t@Setter\r\n\tprivate String name;\r\n\r\n\t@OneToMany(cascade = { CascadeType.PERSIST, CascadeType.REMOVE })\r\n\t@EqualsAndHashCode.Exclude\r\n\tprivate List&lt;Governorate&gt; governorates = new ArrayList&lt;&gt;();\r\n\r\n}\r\n```\r\n\r\n`Governorate.java`\r\n```\r\n@NoArgsConstructor\r\n@RequiredArgsConstructor\r\n@Getter\r\n@EqualsAndHashCode\r\n\r\n@Entity\r\npublic class Governorate {\r\n\r\n\t@Id\r\n\t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n\tprivate long id;\r\n\r\n\t@Column(nullable = false)\r\n\t@NotBlank\r\n\t@Size(max = 50)\r\n\t@Setter\r\n\t@NonNull\r\n\tprivate String name;\r\n}\r\n```\r\n\r\nAnd I&#39;m trying to populate the database on startup so i implemented a `CommandLineRunner` class that reads from a **json** file populated with `countries` and their respective `governorates` and maps to a list of `countries` like so:\r\n\r\n`CountriesInitializer.java`\r\n```\r\n@Component\r\npublic class CountriesInitilizer extends Initializer&lt;Country&gt;{\r\n\r\n\tprivate static final Logger logger = LoggerFactory.getLogger(CountriesInitilizer.class);\r\n\t\r\n\tprivate static final String JSON_FILE = &quot;com/evalia/backend/countries.json&quot;;\r\n\t\r\n\t@Autowired\r\n\tCountryRepository repository;\r\n\r\n\t@Override\r\n\tvoid preLoad(Class&lt;Country&gt; clazz, String filePath) {\r\n\t\ttry (InputStream stream = ResourceUtils.loadResource(filePath)) {\r\n\t\t\tObjectMapper mapper = new ObjectMapper();\r\n\t\t\tTypeReference&lt;List&lt;Country&gt;&gt; recordTypes = new TypeReference&lt;List&lt;Country&gt;&gt;() {};\r\n\t\t\tList&lt;Country&gt; countries = mapper.readValue(stream, recordTypes);\r\n\t\t\tfor(Country c: countries) {\r\n\t\t\t\trepository.save(c);\r\n\t\t\t}\r\n\t\t} catch (IOException e) {\r\n\t\t\tInitializationException ex = InitializationException.build(clazz.getName(), e);\r\n\t\t\tlogger.error(&quot;Could not pre-load entity!&quot;, ex);\r\n\t\t\tthrow ex;\r\n\t\t}\r\n\t}\r\n\t\r\n\t@Override\r\n\tpublic void run(String... args) throws Exception {\r\n\t\t\r\n\t\tif (!InitializersUtils.isLoaded(repository)) {\r\n\t\t\tpreLoad(Country.class, JSON_FILE);\r\n\t\t}\r\n\t}\r\n}\r\n```\r\n\r\nThe problem here is whenever i start the application and this initializer begins to save the data it throws a `ConstraintsViolationException` with the following stack trace:\r\n\r\n```\r\njava.lang.IllegalStateException: Failed to execute CommandLineRunner\r\n\tat org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:771) ~[spring-boot-2.7.15-SNAPSHOT.jar:2.7.15-SNAPSHOT]\r\n\tat org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:752) ~[spring-boot-2.7.15-SNAPSHOT.jar:2.7.15-SNAPSHOT]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:314) ~[spring-boot-2.7.15-SNAPSHOT.jar:2.7.15-SNAPSHOT]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1303) ~[spring-boot-2.7.15-SNAPSHOT.jar:2.7.15-SNAPSHOT]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1292) ~[spring-boot-2.7.15-SNAPSHOT.jar:2.7.15-SNAPSHOT]\r\n\tat com.evalia.backend.EvaliaApplication.main(EvaliaApplication.java:10) ~[classes/:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\r\n\tat org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50) ~[spring-boot-devtools-2.7.15-SNAPSHOT.jar:2.7.15-SNAPSHOT]\r\nCaused by: org.springframework.transaction.TransactionSystemException: Could not commit JPA transaction; nested exception is javax.persistence.RollbackException: Error while committing the transaction\r\n\tat org.springframework.orm.jpa.JpaTransactionManager.doCommit(JpaTransactionManager.java:571) ~[spring-orm-5.3.29.jar:5.3.29]\r\n\tat org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:743) ~[spring-tx-5.3.29.jar:5.3.29]\r\n\tat org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:711) ~[spring-tx-5.3.29.jar:5.3.29]\r\n\tat org.springframework.transaction.interceptor.TransactionAspectSupport.commitTransactionAfterReturning(TransactionAspectSupport.java:654) ~[spring-tx-5.3.29.jar:5.3.29]\r\n\tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:407) ~[spring-tx-5.3.29.jar:5.3.29]\r\n\tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.29.jar:5.3.29]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.29.jar:5.3.29]\r\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137) ~[spring-tx-5.3.29.jar:5.3.29]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.29.jar:5.3.29]\r\n\tat org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:174) ~[spring-data-jpa-2.7.15-SNAPSHOT.jar:2.7.15-SNAPSHOT]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.29.jar:5.3.29]\r\n\tat org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97) ~[spring-aop-5.3.29.jar:5.3.29]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.29.jar:5.3.29]\r\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:241) ~[spring-aop-5.3.29.jar:5.3.29]\r\n\tat com.sun.proxy.$Proxy143.save(Unknown Source) ~[na:na]\r\n\tat com.evalia.backend.initializers.CountriesInitilizer.preLoad(CountriesInitilizer.java:41) ~[classes/:na]\r\n\tat com.evalia.backend.initializers.CountriesInitilizer.run(CountriesInitilizer.java:55) ~[classes/:na]\r\n\tat org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:768) ~[spring-boot-2.7.15-SNAPSHOT.jar:2.7.15-SNAPSHOT]\r\n\t... 10 common frames omitted\r\nCaused by: javax.persistence.RollbackException: Error while committing the transaction\r\n\tat org.hibernate.internal.ExceptionConverterImpl.convertCommitException(ExceptionConverterImpl.java:81) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]\r\n\tat org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:104) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]\r\n\tat org.springframework.orm.jpa.JpaTransactionManager.doCommit(JpaTransactionManager.java:562) ~[spring-orm-5.3.29.jar:5.3.29]\r\n\t... 27 common frames omitted\r\nCaused by: javax.validation.ConstraintViolationException: Validation failed for classes [com.evalia.backend.models.Governorate] during persist time for groups [javax.validation.groups.Default, ]\r\nList of constraint violations:[\r\n\tConstraintViolationImpl{interpolatedMessage=&#39;must not be blank&#39;, propertyPath=name, rootBeanClass=class com.evalia.backend.models.Governorate, messageTemplate=&#39;must not be blank&#39;}\r\n]\r\n\tat org.hibernate.cfg.beanvalidation.BeanValidationEventListener.validate(BeanValidationEventListener.java:140) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]\r\n\tat org.hibernate.cfg.beanvalidation.BeanValidationEventListener.onPreInsert(BeanValidationEventListener.java:80) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]\r\n\tat org.hibernate.action.internal.EntityIdentityInsertAction.preInsert(EntityIdentityInsertAction.java:188) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]\r\n\tat org.hibernate.action.internal.EntityIdentityInsertAction.execute(EntityIdentityInsertAction.java:78) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]\r\n\tat org.hibernate.engine.spi.ActionQueue.execute(ActionQueue.java:645) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]\r\n\tat org.hibernate.engine.spi.ActionQueue.addResolvedEntityInsertAction(ActionQueue.java:282) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]\r\n\tat org.hibernate.engine.spi.ActionQueue.addInsertAction(ActionQueue.java:263) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]\r\n\tat org.hibernate.engine.spi.ActionQueue.addAction(ActionQueue.java:317) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]\r\n\tat org.hibernate.event.internal.AbstractSaveEventListener.addInsertAction(AbstractSaveEventListener.java:329) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]\r\n\tat org.hibernate.event.internal.AbstractSaveEventListener.performSaveOrReplicate(AbstractSaveEventListener.java:286) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]\r\n\tat org.hibernate.event.internal.AbstractSaveEventListener.performSave(AbstractSaveEventListener.java:192) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]\r\n\tat org.hibernate.event.internal.AbstractSaveEventListener.saveWithGeneratedId(AbstractSaveEventListener.java:122) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]\r\n\tat org.hibernate.event.internal.DefaultPersistEventListener.entityIsTransient(DefaultPersistEventListener.java:185) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]\r\n\tat org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:128) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]\r\n\tat org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:118) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]\r\n\tat org.hibernate.internal.SessionImpl.persistOnFlush(SessionImpl.java:801) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]\r\n\tat org.hibernate.engine.spi.CascadingActions$8.cascade(CascadingActions.java:341) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]\r\n\tat org.hibernate.engine.internal.Cascade.cascadeToOne(Cascade.java:510) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]\r\n\tat org.hibernate.engine.internal.Cascade.cascadeAssociation(Cascade.java:434) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]\r\n\tat org.hibernate.engine.internal.Cascade.cascadeProperty(Cascade.java:220) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]\r\n\tat org.hibernate.engine.internal.Cascade.cascadeCollectionElements(Cascade.java:543) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]\r\n\tat org.hibernate.engine.internal.Cascade.cascadeCollection(Cascade.java:474) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]\r\n\tat org.hibernate.engine.internal.Cascade.cascadeAssociation(Cascade.java:437) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]\r\n\tat org.hibernate.engine.internal.Cascade.cascadeProperty(Cascade.java:220) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]\r\n\tat org.hibernate.engine.internal.Cascade.cascade(Cascade.java:153) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]\r\n\tat org.hibernate.event.internal.AbstractFlushingEventListener.cascadeOnFlush(AbstractFlushingEventListener.java:159) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]\r\n\tat org.hibernate.event.internal.AbstractFlushingEventListener.prepareEntityFlushes(AbstractFlushingEventListener.java:149) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]\r\n\tat org.hibernate.event.internal.AbstractFlushingEventListener.flushEverythingToExecutions(AbstractFlushingEventListener.java:82) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]\r\n\tat org.hibernate.event.internal.DefaultFlushEventListener.onFlush(DefaultFlushEventListener.java:39) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]\r\n\tat org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:107) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]\r\n\tat org.hibernate.internal.SessionImpl.doFlush(SessionImpl.java:1407) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]\r\n\tat org.hibernate.internal.SessionImpl.managedFlush(SessionImpl.java:489) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]\r\n\tat org.hibernate.internal.SessionImpl.flushBeforeTransactionCompletion(SessionImpl.java:3303) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]\r\n\tat org.hibernate.internal.SessionImpl.beforeTransactionCompletion(SessionImpl.java:2438) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]\r\n\tat org.hibernate.engine.jdbc.internal.JdbcCoordinatorImpl.beforeTransactionCompletion(JdbcCoordinatorImpl.java:449) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]\r\n\tat org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.beforeCompletionCallback(JdbcResourceLocalTransactionCoordinatorImpl.java:183) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]\r\n\tat org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.access$300(JdbcResourceLocalTransactionCoordinatorImpl.java:40) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]\r\n\tat org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.commit(JdbcResourceLocalTransactionCoordinatorImpl.java:281) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]\r\n\tat org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:101) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]\r\n\t... 28 common frames omitted\r\n```\r\n\r\nany ideas ?\r\n\r\n**Environment**:\r\nJava: `11`,\r\nSpring-Boot: `2.7.15-SNAPSHOT`\r\n\r\n\r\nI tried debugging in the `BeanValidationEventListener` as mentioned in the stack where the `Exception` was thrown and i found something interesting, the first entity to be passed for validation is the `Country` instance which comes with it&#39;s values in tact, but then when it&#39;s the `Governorate`&#39;s turn, they are passed to the validation with their values set to `null`, is this a bug or am i doing something wrong here ?\r\n\r\nThank you.","title":"Nested relation entity passed to validation with null value","body":"<p>I have a unidirectional relation between <code>Country</code> and <code>Governorate</code> with the first one being the owner, here are their implementation:</p>\n<p><code>Country.java</code></p>\n<pre><code>@RequiredArgsConstructor\n@NoArgsConstructor\n@Getter\n@EqualsAndHashCode\n\n@Entity\npublic class Country {\n\n    \n    @Id\n    @NotBlank\n    @Size(max = 3)\n    @NonNull\n    @Setter\n    private String isoCode;\n    \n    @Column(unique = true, nullable = false)\n    @NotBlank\n    @Size(max = 50)\n    @NonNull\n    @Setter\n    private String name;\n\n    @OneToMany(cascade = { CascadeType.PERSIST, CascadeType.REMOVE })\n    @EqualsAndHashCode.Exclude\n    private List&lt;Governorate&gt; governorates = new ArrayList&lt;&gt;();\n\n}\n</code></pre>\n<p><code>Governorate.java</code></p>\n<pre><code>@NoArgsConstructor\n@RequiredArgsConstructor\n@Getter\n@EqualsAndHashCode\n\n@Entity\npublic class Governorate {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private long id;\n\n    @Column(nullable = false)\n    @NotBlank\n    @Size(max = 50)\n    @Setter\n    @NonNull\n    private String name;\n}\n</code></pre>\n<p>And I'm trying to populate the database on startup so i implemented a <code>CommandLineRunner</code> class that reads from a <strong>json</strong> file populated with <code>countries</code> and their respective <code>governorates</code> and maps to a list of <code>countries</code> like so:</p>\n<p><code>CountriesInitializer.java</code></p>\n<pre><code>@Component\npublic class CountriesInitilizer extends Initializer&lt;Country&gt;{\n\n    private static final Logger logger = LoggerFactory.getLogger(CountriesInitilizer.class);\n    \n    private static final String JSON_FILE = &quot;com/evalia/backend/countries.json&quot;;\n    \n    @Autowired\n    CountryRepository repository;\n\n    @Override\n    void preLoad(Class&lt;Country&gt; clazz, String filePath) {\n        try (InputStream stream = ResourceUtils.loadResource(filePath)) {\n            ObjectMapper mapper = new ObjectMapper();\n            TypeReference&lt;List&lt;Country&gt;&gt; recordTypes = new TypeReference&lt;List&lt;Country&gt;&gt;() {};\n            List&lt;Country&gt; countries = mapper.readValue(stream, recordTypes);\n            for(Country c: countries) {\n                repository.save(c);\n            }\n        } catch (IOException e) {\n            InitializationException ex = InitializationException.build(clazz.getName(), e);\n            logger.error(&quot;Could not pre-load entity!&quot;, ex);\n            throw ex;\n        }\n    }\n    \n    @Override\n    public void run(String... args) throws Exception {\n        \n        if (!InitializersUtils.isLoaded(repository)) {\n            preLoad(Country.class, JSON_FILE);\n        }\n    }\n}\n</code></pre>\n<p>The problem here is whenever i start the application and this initializer begins to save the data it throws a <code>ConstraintsViolationException</code> with the following stack trace:</p>\n<pre><code>java.lang.IllegalStateException: Failed to execute CommandLineRunner\n    at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:771) ~[spring-boot-2.7.15-SNAPSHOT.jar:2.7.15-SNAPSHOT]\n    at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:752) ~[spring-boot-2.7.15-SNAPSHOT.jar:2.7.15-SNAPSHOT]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:314) ~[spring-boot-2.7.15-SNAPSHOT.jar:2.7.15-SNAPSHOT]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1303) ~[spring-boot-2.7.15-SNAPSHOT.jar:2.7.15-SNAPSHOT]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1292) ~[spring-boot-2.7.15-SNAPSHOT.jar:2.7.15-SNAPSHOT]\n    at com.evalia.backend.EvaliaApplication.main(EvaliaApplication.java:10) ~[classes/:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\n    at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50) ~[spring-boot-devtools-2.7.15-SNAPSHOT.jar:2.7.15-SNAPSHOT]\nCaused by: org.springframework.transaction.TransactionSystemException: Could not commit JPA transaction; nested exception is javax.persistence.RollbackException: Error while committing the transaction\n    at org.springframework.orm.jpa.JpaTransactionManager.doCommit(JpaTransactionManager.java:571) ~[spring-orm-5.3.29.jar:5.3.29]\n    at org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:743) ~[spring-tx-5.3.29.jar:5.3.29]\n    at org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:711) ~[spring-tx-5.3.29.jar:5.3.29]\n    at org.springframework.transaction.interceptor.TransactionAspectSupport.commitTransactionAfterReturning(TransactionAspectSupport.java:654) ~[spring-tx-5.3.29.jar:5.3.29]\n    at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:407) ~[spring-tx-5.3.29.jar:5.3.29]\n    at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.29.jar:5.3.29]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.29.jar:5.3.29]\n    at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137) ~[spring-tx-5.3.29.jar:5.3.29]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.29.jar:5.3.29]\n    at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:174) ~[spring-data-jpa-2.7.15-SNAPSHOT.jar:2.7.15-SNAPSHOT]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.29.jar:5.3.29]\n    at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97) ~[spring-aop-5.3.29.jar:5.3.29]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.29.jar:5.3.29]\n    at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:241) ~[spring-aop-5.3.29.jar:5.3.29]\n    at com.sun.proxy.$Proxy143.save(Unknown Source) ~[na:na]\n    at com.evalia.backend.initializers.CountriesInitilizer.preLoad(CountriesInitilizer.java:41) ~[classes/:na]\n    at com.evalia.backend.initializers.CountriesInitilizer.run(CountriesInitilizer.java:55) ~[classes/:na]\n    at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:768) ~[spring-boot-2.7.15-SNAPSHOT.jar:2.7.15-SNAPSHOT]\n    ... 10 common frames omitted\nCaused by: javax.persistence.RollbackException: Error while committing the transaction\n    at org.hibernate.internal.ExceptionConverterImpl.convertCommitException(ExceptionConverterImpl.java:81) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]\n    at org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:104) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]\n    at org.springframework.orm.jpa.JpaTransactionManager.doCommit(JpaTransactionManager.java:562) ~[spring-orm-5.3.29.jar:5.3.29]\n    ... 27 common frames omitted\nCaused by: javax.validation.ConstraintViolationException: Validation failed for classes [com.evalia.backend.models.Governorate] during persist time for groups [javax.validation.groups.Default, ]\nList of constraint violations:[\n    ConstraintViolationImpl{interpolatedMessage='must not be blank', propertyPath=name, rootBeanClass=class com.evalia.backend.models.Governorate, messageTemplate='must not be blank'}\n]\n    at org.hibernate.cfg.beanvalidation.BeanValidationEventListener.validate(BeanValidationEventListener.java:140) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]\n    at org.hibernate.cfg.beanvalidation.BeanValidationEventListener.onPreInsert(BeanValidationEventListener.java:80) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]\n    at org.hibernate.action.internal.EntityIdentityInsertAction.preInsert(EntityIdentityInsertAction.java:188) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]\n    at org.hibernate.action.internal.EntityIdentityInsertAction.execute(EntityIdentityInsertAction.java:78) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]\n    at org.hibernate.engine.spi.ActionQueue.execute(ActionQueue.java:645) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]\n    at org.hibernate.engine.spi.ActionQueue.addResolvedEntityInsertAction(ActionQueue.java:282) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]\n    at org.hibernate.engine.spi.ActionQueue.addInsertAction(ActionQueue.java:263) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]\n    at org.hibernate.engine.spi.ActionQueue.addAction(ActionQueue.java:317) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]\n    at org.hibernate.event.internal.AbstractSaveEventListener.addInsertAction(AbstractSaveEventListener.java:329) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]\n    at org.hibernate.event.internal.AbstractSaveEventListener.performSaveOrReplicate(AbstractSaveEventListener.java:286) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]\n    at org.hibernate.event.internal.AbstractSaveEventListener.performSave(AbstractSaveEventListener.java:192) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]\n    at org.hibernate.event.internal.AbstractSaveEventListener.saveWithGeneratedId(AbstractSaveEventListener.java:122) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]\n    at org.hibernate.event.internal.DefaultPersistEventListener.entityIsTransient(DefaultPersistEventListener.java:185) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]\n    at org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:128) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]\n    at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:118) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]\n    at org.hibernate.internal.SessionImpl.persistOnFlush(SessionImpl.java:801) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]\n    at org.hibernate.engine.spi.CascadingActions$8.cascade(CascadingActions.java:341) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]\n    at org.hibernate.engine.internal.Cascade.cascadeToOne(Cascade.java:510) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]\n    at org.hibernate.engine.internal.Cascade.cascadeAssociation(Cascade.java:434) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]\n    at org.hibernate.engine.internal.Cascade.cascadeProperty(Cascade.java:220) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]\n    at org.hibernate.engine.internal.Cascade.cascadeCollectionElements(Cascade.java:543) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]\n    at org.hibernate.engine.internal.Cascade.cascadeCollection(Cascade.java:474) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]\n    at org.hibernate.engine.internal.Cascade.cascadeAssociation(Cascade.java:437) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]\n    at org.hibernate.engine.internal.Cascade.cascadeProperty(Cascade.java:220) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]\n    at org.hibernate.engine.internal.Cascade.cascade(Cascade.java:153) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]\n    at org.hibernate.event.internal.AbstractFlushingEventListener.cascadeOnFlush(AbstractFlushingEventListener.java:159) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]\n    at org.hibernate.event.internal.AbstractFlushingEventListener.prepareEntityFlushes(AbstractFlushingEventListener.java:149) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]\n    at org.hibernate.event.internal.AbstractFlushingEventListener.flushEverythingToExecutions(AbstractFlushingEventListener.java:82) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]\n    at org.hibernate.event.internal.DefaultFlushEventListener.onFlush(DefaultFlushEventListener.java:39) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]\n    at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:107) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]\n    at org.hibernate.internal.SessionImpl.doFlush(SessionImpl.java:1407) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]\n    at org.hibernate.internal.SessionImpl.managedFlush(SessionImpl.java:489) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]\n    at org.hibernate.internal.SessionImpl.flushBeforeTransactionCompletion(SessionImpl.java:3303) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]\n    at org.hibernate.internal.SessionImpl.beforeTransactionCompletion(SessionImpl.java:2438) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]\n    at org.hibernate.engine.jdbc.internal.JdbcCoordinatorImpl.beforeTransactionCompletion(JdbcCoordinatorImpl.java:449) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]\n    at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.beforeCompletionCallback(JdbcResourceLocalTransactionCoordinatorImpl.java:183) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]\n    at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.access$300(JdbcResourceLocalTransactionCoordinatorImpl.java:40) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]\n    at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.commit(JdbcResourceLocalTransactionCoordinatorImpl.java:281) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]\n    at org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:101) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]\n    ... 28 common frames omitted\n</code></pre>\n<p>any ideas ?</p>\n<p><strong>Environment</strong>:\nJava: <code>11</code>,\nSpring-Boot: <code>2.7.15-SNAPSHOT</code></p>\n<p>I tried debugging in the <code>BeanValidationEventListener</code> as mentioned in the stack where the <code>Exception</code> was thrown and i found something interesting, the first entity to be passed for validation is the <code>Country</code> instance which comes with it's values in tact, but then when it's the <code>Governorate</code>'s turn, they are passed to the validation with their values set to <code>null</code>, is this a bug or am i doing something wrong here ?</p>\n<p>Thank you.</p>\n"},{"tags":["java","jackson","spring-webflux","record"],"owner":{"account_id":9436456,"reputation":1229,"user_id":7018308,"accept_rate":91,"display_name":"Nicolas Sagala Beaucage"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":99,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1691801951,"creation_date":1691801951,"question_id":76887352,"body_markdown":"I&#39;m sending a json to my WebFlux application and I&#39;m receiving a 415 Unsupported Media Type exception.\r\n\r\nHere is my routerFunction:\r\n```\r\n@Bean\r\npublic RouterFunction&lt;ServerResponse&gt; groupRoute(GroupController groupController) {\r\n    return route()\r\n      .POST(&quot;/group&quot;, accept(MediaType.APPLICATION_JSON), groupController::addGroup);\r\n}\r\n```\r\n\r\nHere is my controller method:\r\n```\r\npublic Mono&lt;ServerResponse&gt; addGroup(ServerRequest serverRequest) {\r\n    return serverRequest.bodyToMono(CreateGroupRequest.class)\r\n            .flatMap(srvApiDb::createGroup)\r\n            .flatMap(response -&gt; ServerResponse.ok().build());\r\n}\r\n```\r\n\r\nAnd here is my record:\r\n```\r\npublic record CreateGroupRequest(@JsonUnwrapped Group group) {\r\n}\r\n```\r\n\r\nWhen I change my record for a &quot;normal&quot; class, everything works like it should...\r\nDo anyone knows how to make it work with a Record class?","title":"Spring Boot 3 WebFlux with router function can&#39;t deserialize Record from json","body":"<p>I'm sending a json to my WebFlux application and I'm receiving a 415 Unsupported Media Type exception.</p>\n<p>Here is my routerFunction:</p>\n<pre><code>@Bean\npublic RouterFunction&lt;ServerResponse&gt; groupRoute(GroupController groupController) {\n    return route()\n      .POST(&quot;/group&quot;, accept(MediaType.APPLICATION_JSON), groupController::addGroup);\n}\n</code></pre>\n<p>Here is my controller method:</p>\n<pre><code>public Mono&lt;ServerResponse&gt; addGroup(ServerRequest serverRequest) {\n    return serverRequest.bodyToMono(CreateGroupRequest.class)\n            .flatMap(srvApiDb::createGroup)\n            .flatMap(response -&gt; ServerResponse.ok().build());\n}\n</code></pre>\n<p>And here is my record:</p>\n<pre><code>public record CreateGroupRequest(@JsonUnwrapped Group group) {\n}\n</code></pre>\n<p>When I change my record for a &quot;normal&quot; class, everything works like it should...\nDo anyone knows how to make it work with a Record class?</p>\n"},{"tags":["java","android","android-studio"],"comments":[{"owner":{"account_id":6530145,"reputation":4502,"user_id":6127411,"accept_rate":60,"display_name":"Janki Gadhiya"},"score":3,"creation_date":1464859365,"post_id":37583875,"comment_id":62660692,"body_markdown":"Try changing `minifyEnabled true`","body":"Try changing <code>minifyEnabled true</code>"},{"owner":{"account_id":8557992,"reputation":881,"user_id":6412831,"display_name":"AndroidLearner"},"score":1,"creation_date":1464860677,"post_id":37583875,"comment_id":62661616,"body_markdown":"Thanks for your time , but still getting same error","body":"Thanks for your time , but still getting same error"},{"owner":{"account_id":6530145,"reputation":4502,"user_id":6127411,"accept_rate":60,"display_name":"Janki Gadhiya"},"score":0,"creation_date":1464861041,"post_id":37583875,"comment_id":62661935,"body_markdown":"Do you need all these google libraries?? My suggestion is if you don&#39;t need any one of them the remove it. Sync the project, Clean it and Build again.","body":"Do you need all these google libraries?? My suggestion is if you don&#39;t need any one of them the remove it. Sync the project, Clean it and Build again."},{"owner":{"account_id":8557992,"reputation":881,"user_id":6412831,"display_name":"AndroidLearner"},"score":0,"creation_date":1464862464,"post_id":37583875,"comment_id":62662973,"body_markdown":"Two were extra (i updated that in my above gradle file) , that i removed , rest all are needed , so after removing that i sync the project and rebuild it even i try invalidate cache and restart ..but still getting same problem :(","body":"Two were extra (i updated that in my above gradle file) , that i removed , rest all are needed , so after removing that i sync the project and rebuild it even i try invalidate cache and restart ..but still getting same problem :("},{"owner":{"account_id":6530145,"reputation":4502,"user_id":6127411,"accept_rate":60,"display_name":"Janki Gadhiya"},"score":0,"creation_date":1464862543,"post_id":37583875,"comment_id":62663016,"body_markdown":"I think the problem is in your import..!! you imported eclipse project right??","body":"I think the problem is in your import..!! you imported eclipse project right??"},{"owner":{"account_id":8557992,"reputation":881,"user_id":6412831,"display_name":"AndroidLearner"},"score":0,"creation_date":1464862839,"post_id":37583875,"comment_id":62663245,"body_markdown":"yes , this project was originally built in eclipse , i migrated it to studio as i mentioned above in explanation of my problem","body":"yes , this project was originally built in eclipse , i migrated it to studio as i mentioned above in explanation of my problem"},{"owner":{"account_id":6530145,"reputation":4502,"user_id":6127411,"accept_rate":60,"display_name":"Janki Gadhiya"},"score":0,"creation_date":1464863082,"post_id":37583875,"comment_id":62663414,"body_markdown":"Try this for importing : http://stackoverflow.com/a/36689610/6127411. and try again to build..!!","body":"Try this for importing : <a href=\"http://stackoverflow.com/a/36689610/6127411\">stackoverflow.com/a/36689610/6127411</a>. and try again to build..!!"},{"owner":{"account_id":8557992,"reputation":881,"user_id":6412831,"display_name":"AndroidLearner"},"score":0,"creation_date":1464864093,"post_id":37583875,"comment_id":62664073,"body_markdown":"okay , so what i done is , i just close the project and select the same project again using Android studio userInterface (Import Project (Eclipse ADT,Gradle etc)).Is this what you trying to say ?","body":"okay , so what i done is , i just close the project and select the same project again using Android studio userInterface (Import Project (Eclipse ADT,Gradle etc)).Is this what you trying to say ?"},{"owner":{"account_id":8557992,"reputation":881,"user_id":6412831,"display_name":"AndroidLearner"},"score":0,"creation_date":1464864815,"post_id":37583875,"comment_id":62664522,"body_markdown":"still getting same error..no luck!!","body":"still getting same error..no luck!!"},{"owner":{"account_id":6530145,"reputation":4502,"user_id":6127411,"accept_rate":60,"display_name":"Janki Gadhiya"},"score":0,"creation_date":1464864944,"post_id":37583875,"comment_id":62664598,"body_markdown":"Try creating new project then..!!","body":"Try creating new project then..!!"},{"owner":{"account_id":8557992,"reputation":881,"user_id":6412831,"display_name":"AndroidLearner"},"score":0,"creation_date":1464871779,"post_id":37583875,"comment_id":62669403,"body_markdown":"I just created the new project and put all my files in it but still getting same error .","body":"I just created the new project and put all my files in it but still getting same error ."},{"owner":{"account_id":1077091,"reputation":1206,"user_id":1074986,"accept_rate":27,"display_name":"Nauman Zubair"},"score":1,"creation_date":1526389026,"post_id":37583875,"comment_id":87717437,"body_markdown":"Please check your XML layouts, I was facing a similar problem and it was due to issues in XML.","body":"Please check your XML layouts, I was facing a similar problem and it was due to issues in XML."},{"owner":{"account_id":1904825,"reputation":935,"user_id":1982963,"accept_rate":0,"display_name":"Shivang"},"score":0,"creation_date":1600780826,"post_id":37583875,"comment_id":113191153,"body_markdown":"I solved my problem with the post below: https://stackoverflow.com/questions/52645163/lombok-1-18-2-throws-transformclasseswithdexbuilderfordebug","body":"I solved my problem with the post below: <a href=\"https://stackoverflow.com/questions/52645163/lombok-1-18-2-throws-transformclasseswithdexbuilderfordebug\" title=\"lombok 1 18 2 throws transformclasseswithdexbuilderfordebug\">stackoverflow.com/questions/52645163/&hellip;</a>"}],"answers":[{"comments":[{"owner":{"account_id":8557992,"reputation":881,"user_id":6412831,"display_name":"AndroidLearner"},"score":0,"creation_date":1464848981,"post_id":37583994,"comment_id":62654397,"body_markdown":"Thanks stepan for your reply but on putting just below the com.android.application , produces errors as mentioned in link :- http://stackoverflow.com/questions/34370603/version-conflict-updating-to-8-4-0","body":"Thanks stepan for your reply but on putting just below the com.android.application , produces errors as mentioned in link :- <a href=\"http://stackoverflow.com/questions/34370603/version-conflict-updating-to-8-4-0\" title=\"version conflict updating to 8 4 0\">stackoverflow.com/questions/34370603/&hellip;</a>"},{"owner":{"account_id":8557992,"reputation":881,"user_id":6412831,"display_name":"AndroidLearner"},"score":0,"creation_date":1464853316,"post_id":37583994,"comment_id":62656700,"body_markdown":"Hey,Stepan , i tried this but its not working giving me same error","body":"Hey,Stepan , i tried this but its not working giving me same error"},{"owner":{"account_id":6671921,"reputation":2618,"user_id":5147817,"display_name":"Stepan Maksymov"},"score":0,"creation_date":1464853997,"post_id":37583994,"comment_id":62657159,"body_markdown":"applicationId &quot;com.example.android&quot; -&gt; applicationId &quot;com.petzview.android.commons&quot;","body":"applicationId &quot;com.example.android&quot; -&gt; applicationId &quot;com.petzview.android.commons&quot;"},{"owner":{"account_id":8557992,"reputation":881,"user_id":6412831,"display_name":"AndroidLearner"},"score":0,"creation_date":1464854146,"post_id":37583994,"comment_id":62657254,"body_markdown":"i just changed it while adding question here , the real applicationId is &quot;com.petzview.android&quot; , let me change that in question too inorder to remove confusion","body":"i just changed it while adding question here , the real applicationId is &quot;com.petzview.android&quot; , let me change that in question too inorder to remove confusion"}],"tags":[],"owner":{"account_id":6671921,"reputation":2618,"user_id":5147817,"display_name":"Stepan Maksymov"},"comment_count":4,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1545045799,"creation_date":1464848039,"answer_id":37583994,"question_id":37583875,"body_markdown":"Try to move:\r\n\r\n    apply plugin: &#39;com.google.gms.google-services&#39;\r\n\r\njust below:\r\n\r\n    apply plugin: &#39;com.android.application&#39;\r\n\r\nIn your module Gradle file, then make sure all Google service&#39;s have the version `9.0.0`. \r\n\r\nMake sure that only this build tools is used:\r\n\r\n    classpath &#39;com.android.tools.build:gradle:2.1.0&#39;\r\n\r\nMake sure in gradle-wrapper.properties:\r\n\r\n    distributionUrl=https\\://services.gradle.org/distributions/gradle-2.10-all.zip\r\n\r\nAfter all above is correct, then make menu File -&gt; Invalidate caches and restart.","title":"org.gradle.api.tasks.TaskExecutionException: Execution failed for task &#39;:app:transformClassesWithDexForDebug&#39;","body":"<p>Try to move:</p>\n\n<pre><code>apply plugin: 'com.google.gms.google-services'\n</code></pre>\n\n<p>just below:</p>\n\n<pre><code>apply plugin: 'com.android.application'\n</code></pre>\n\n<p>In your module Gradle file, then make sure all Google service's have the version <code>9.0.0</code>. </p>\n\n<p>Make sure that only this build tools is used:</p>\n\n<pre><code>classpath 'com.android.tools.build:gradle:2.1.0'\n</code></pre>\n\n<p>Make sure in gradle-wrapper.properties:</p>\n\n<pre><code>distributionUrl=https\\://services.gradle.org/distributions/gradle-2.10-all.zip\n</code></pre>\n\n<p>After all above is correct, then make menu File -> Invalidate caches and restart.</p>\n"},{"comments":[{"owner":{"account_id":8557992,"reputation":881,"user_id":6412831,"display_name":"AndroidLearner"},"score":0,"creation_date":1464854779,"post_id":37585738,"comment_id":62657660,"body_markdown":"it&#39;s inside commons folder","body":"it&#39;s inside commons folder"},{"owner":{"account_id":8557992,"reputation":881,"user_id":6412831,"display_name":"AndroidLearner"},"score":0,"creation_date":1464858968,"post_id":37585738,"comment_id":62660404,"body_markdown":"i just put MyApplication.java class under main package and removed it from commons folder , but on running ./gradlew assembleDebug i am getting same error","body":"i just put MyApplication.java class under main package and removed it from commons folder , but on running ./gradlew assembleDebug i am getting same error"},{"owner":{"account_id":4139627,"reputation":11,"user_id":3395343,"display_name":"dipankar"},"score":0,"creation_date":1464866117,"post_id":37585738,"comment_id":62665320,"body_markdown":"just extend Application rather than MultiDexApplication, i think it will solve your problem.","body":"just extend Application rather than MultiDexApplication, i think it will solve your problem."},{"owner":{"account_id":4139627,"reputation":11,"user_id":3395343,"display_name":"dipankar"},"score":0,"creation_date":1464866249,"post_id":37585738,"comment_id":62665431,"body_markdown":"can you confirm your Application class getting called by using log or by debugging","body":"can you confirm your Application class getting called by using log or by debugging"},{"owner":{"account_id":8557992,"reputation":881,"user_id":6412831,"display_name":"AndroidLearner"},"score":0,"creation_date":1464871824,"post_id":37585738,"comment_id":62669441,"body_markdown":"i remove multidexApplication and extend the Application but still same error","body":"i remove multidexApplication and extend the Application but still same error"},{"owner":{"account_id":4139627,"reputation":11,"user_id":3395343,"display_name":"dipankar"},"score":0,"creation_date":1464873205,"post_id":37585738,"comment_id":62670591,"body_markdown":"witch device you are using for testing? please put debugger point at MyApplication class and check whether debugger point is getting hit.","body":"witch device you are using for testing? please put debugger point at MyApplication class and check whether debugger point is getting hit."},{"owner":{"account_id":8557992,"reputation":881,"user_id":6412831,"display_name":"AndroidLearner"},"score":0,"creation_date":1464873723,"post_id":37585738,"comment_id":62670990,"body_markdown":"sorry , i am not able to launch the application then how can i debug it","body":"sorry , i am not able to launch the application then how can i debug it"},{"owner":{"account_id":4139627,"reputation":11,"user_id":3395343,"display_name":"dipankar"},"score":0,"creation_date":1464874572,"post_id":37585738,"comment_id":62671672,"body_markdown":"can you tell me which version of os your device contain means is it prelollipop device?","body":"can you tell me which version of os your device contain means is it prelollipop device?"},{"owner":{"account_id":8557992,"reputation":881,"user_id":6412831,"display_name":"AndroidLearner"},"score":0,"creation_date":1464874780,"post_id":37585738,"comment_id":62671860,"body_markdown":"its marshmallow 6.0","body":"its marshmallow 6.0"},{"owner":{"account_id":4139627,"reputation":11,"user_id":3395343,"display_name":"dipankar"},"score":0,"creation_date":1464875376,"post_id":37585738,"comment_id":62672326,"body_markdown":"in my case using android studio 2.0 preview 4 I suddenly got that problem and adding multiDexEnabled true didn&#39;t help, and also clean and rebuilt didn&#39;t help.\n\nso the only thing that solved it for me is deleting that file:\n\nYOUR_APP_NAME\\app\\build\\intermediates\nand run the application and it works. have you tried this?","body":"in my case using android studio 2.0 preview 4 I suddenly got that problem and adding multiDexEnabled true didn&#39;t help, and also clean and rebuilt didn&#39;t help.  so the only thing that solved it for me is deleting that file:  YOUR_APP_NAME\\app\\build\\intermediates and run the application and it works. have you tried this?"},{"owner":{"account_id":8557992,"reputation":881,"user_id":6412831,"display_name":"AndroidLearner"},"score":0,"creation_date":1464875676,"post_id":37585738,"comment_id":62672549,"body_markdown":"yes , i already tried it , but in my case its also not working , while running i am getting one error Error:trouble processing &quot;java/awt/font/NumericShaper.class&quot;:\nError:Ill-advised or mistaken usage of a core class (java.* or javax.*), Have you ever faced it ?","body":"yes , i already tried it , but in my case its also not working , while running i am getting one error Error:trouble processing &quot;java/awt/font/NumericShaper.class&quot;: Error:Ill-advised or mistaken usage of a core class (java.* or javax.*), Have you ever faced it ?"},{"owner":{"account_id":4139627,"reputation":11,"user_id":3395343,"display_name":"dipankar"},"score":0,"creation_date":1464877095,"post_id":37585738,"comment_id":62673790,"body_markdown":"please give your whole build.gradle screenshots.Above screenshots half of your build.gradle file is visible","body":"please give your whole build.gradle screenshots.Above screenshots half of your build.gradle file is visible"},{"owner":{"account_id":8557992,"reputation":881,"user_id":6412831,"display_name":"AndroidLearner"},"score":0,"creation_date":1464877441,"post_id":37585738,"comment_id":62674086,"body_markdown":"its already on top below the links i have provided , please check","body":"its already on top below the links i have provided , please check"},{"owner":{"account_id":4139627,"reputation":11,"user_id":3395343,"display_name":"dipankar"},"score":0,"creation_date":1464877860,"post_id":37585738,"comment_id":62674416,"body_markdown":"dude can you please give a try with latest buildToolsVersion &quot;X.Y.Z&quot;. latest tool version is 23.0.3 (buildToolsVersion &quot;23.0.3&quot;.).if you don&#39;t have it please download it.","body":"dude can you please give a try with latest buildToolsVersion &quot;X.Y.Z&quot;. latest tool version is 23.0.3 (buildToolsVersion &quot;23.0.3&quot;.).if you don&#39;t have it please download it."}],"tags":[],"owner":{"account_id":4139627,"reputation":11,"user_id":3395343,"display_name":"dipankar"},"comment_count":14,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1464853819,"creation_date":1464853819,"answer_id":37585738,"question_id":37583875,"body_markdown":"your manifest application name should contain application class name.\r\nLike \r\n\r\n    &lt;application\r\n            android:name=&quot;your package name.MyApplication&quot;\r\n            android:allowBackup=&quot;true&quot;\r\n            android:icon=&quot;@drawable/ic_launcher&quot;\r\n            android:label=&quot;@string/app_name&quot;\r\n            android:largeHeap=&quot;true&quot;\r\n            android:theme=&quot;@style/AppTheme&quot;&gt; ","title":"org.gradle.api.tasks.TaskExecutionException: Execution failed for task &#39;:app:transformClassesWithDexForDebug&#39;","body":"<p>your manifest application name should contain application class name.\nLike </p>\n\n<pre><code>&lt;application\n        android:name=\"your package name.MyApplication\"\n        android:allowBackup=\"true\"\n        android:icon=\"@drawable/ic_launcher\"\n        android:label=\"@string/app_name\"\n        android:largeHeap=\"true\"\n        android:theme=\"@style/AppTheme\"&gt; \n</code></pre>\n"},{"comments":[{"owner":{"account_id":10078643,"reputation":1786,"user_id":7449805,"accept_rate":75,"display_name":"Georgiy Chebotarev"},"score":0,"creation_date":1538406763,"post_id":42065542,"comment_id":92122921,"body_markdown":"this tools help me to find missing libs. Thx u!","body":"this tools help me to find missing libs. Thx u!"},{"owner":{"account_id":16764507,"reputation":301,"user_id":12118483,"display_name":"Alohe"},"score":0,"creation_date":1646644550,"post_id":42065542,"comment_id":126165825,"body_markdown":"mine was buildToolsVersion = &quot;30.0.2&quot; when i set it to  buildToolsVersion=&#39;23.0.1&#39;  spent 2 days on this thanks!","body":"mine was buildToolsVersion = &quot;30.0.2&quot; when i set it to  buildToolsVersion=&#39;23.0.1&#39;  spent 2 days on this thanks!"}],"tags":[],"owner":{"account_id":8538668,"reputation":1466,"user_id":6399490,"display_name":"Beatrice Lin"},"comment_count":2,"down_vote_count":1,"up_vote_count":31,"is_accepted":false,"score":30,"last_activity_date":1543828329,"creation_date":1486377092,"answer_id":42065542,"question_id":37583875,"body_markdown":"Check `build.gradle`(Module: Android) fixed problem for me.\r\n\r\nModify it to workable version.\r\n\r\n    android {\r\n        buildToolsVersion &#39;23.0.1&#39;\r\n    }","title":"org.gradle.api.tasks.TaskExecutionException: Execution failed for task &#39;:app:transformClassesWithDexForDebug&#39;","body":"<p>Check <code>build.gradle</code>(Module: Android) fixed problem for me.</p>\n\n<p>Modify it to workable version.</p>\n\n<pre><code>android {\n    buildToolsVersion '23.0.1'\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5021269,"reputation":1618,"user_id":4034697,"accept_rate":100,"display_name":"Vahid"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1532507554,"creation_date":1532507554,"answer_id":51514323,"question_id":37583875,"body_markdown":"for me it was just a little compile error and sadly Android Studio doesn&#39;t show it . please search manually .\r\ntrying to enable work offline and clean&amp;rebuild may help you more","title":"org.gradle.api.tasks.TaskExecutionException: Execution failed for task &#39;:app:transformClassesWithDexForDebug&#39;","body":"<p>for me it was just a little compile error and sadly Android Studio doesn't show it . please search manually .\ntrying to enable work offline and clean&amp;rebuild may help you more</p>\n"},{"tags":[],"owner":{"account_id":9911135,"reputation":497,"user_id":7337809,"display_name":"Kulasekar"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1535207831,"creation_date":1535207831,"answer_id":52018284,"question_id":37583875,"body_markdown":"Its Just Simple the Compiler **Did not accept the last changes you&#39;ve made** so go to the last file that you&#39;ve made a change It will show the error just change it and recompile.","title":"org.gradle.api.tasks.TaskExecutionException: Execution failed for task &#39;:app:transformClassesWithDexForDebug&#39;","body":"<p>Its Just Simple the Compiler <strong>Did not accept the last changes you've made</strong> so go to the last file that you've made a change It will show the error just change it and recompile.</p>\n"},{"comments":[{"owner":{"account_id":2349225,"reputation":26836,"user_id":2058547,"accept_rate":60,"display_name":"Ojonugwa Jude Ochalifu"},"score":2,"creation_date":1537287482,"post_id":52159555,"comment_id":91726628,"body_markdown":"Worked. Didn&#39;t need to sync project though.","body":"Worked. Didn&#39;t need to sync project though."},{"owner":{"account_id":8862722,"reputation":245394,"user_id":6618622,"display_name":"CopsOnRoad"},"score":38,"creation_date":1543829261,"post_id":52159555,"comment_id":94044605,"body_markdown":"These kinds of clean/rebuilt solution never worked for me.","body":"These kinds of clean/rebuilt solution never worked for me."},{"owner":{"display_name":"user11323942"},"score":1,"creation_date":1555861038,"post_id":52159555,"comment_id":98239061,"body_markdown":"Worked also for me, even without synch! I was getting this error after having updated the emulator and downloaded a device image...","body":"Worked also for me, even without synch! I was getting this error after having updated the emulator and downloaded a device image..."},{"owner":{"account_id":2210105,"reputation":1460,"user_id":6655884,"accept_rate":50,"display_name":"PPP"},"score":0,"creation_date":1587956507,"post_id":52159555,"comment_id":108704455,"body_markdown":"@CopsOnRoad gradle itself never worked for me. Gradle is broken by nature. Gradle is impossible to use without errors","body":"@CopsOnRoad gradle itself never worked for me. Gradle is broken by nature. Gradle is impossible to use without errors"}],"tags":[],"owner":{"account_id":6341766,"reputation":429,"user_id":7194441,"display_name":"PRIYA"},"comment_count":4,"down_vote_count":6,"up_vote_count":30,"is_accepted":false,"score":24,"last_activity_date":1537287454,"creation_date":1536040207,"answer_id":52159555,"question_id":37583875,"body_markdown":"Just a simple solution is here...it worked for me:\r\n\r\n 1. Clean Project\r\n 2. Rebuild project\r\n 3. Sync project with gradle file\r\n\r\n\r\n","title":"org.gradle.api.tasks.TaskExecutionException: Execution failed for task &#39;:app:transformClassesWithDexForDebug&#39;","body":"<p>Just a simple solution is here...it worked for me:</p>\n\n<ol>\n<li>Clean Project</li>\n<li>Rebuild project</li>\n<li>Sync project with gradle file</li>\n</ol>\n"},{"comments":[{"owner":{"account_id":7729698,"reputation":2121,"user_id":5853262,"display_name":"Mahdi Moqadasi"},"score":0,"creation_date":1554040472,"post_id":52607819,"comment_id":97599152,"body_markdown":"I had this but the problem exists.","body":"I had this but the problem exists."}],"tags":[],"owner":{"account_id":2293259,"reputation":1042,"user_id":2015426,"accept_rate":57,"display_name":"Jachumbelechao Unto Mantekilla"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1538481304,"creation_date":1538481304,"answer_id":52607819,"question_id":37583875,"body_markdown":"For me the only thing that works is to add to repositories \r\n\r\n    maven {\r\n            url &quot;https://maven.google.com&quot;\r\n        }\r\n\r\nIt should look like this:\r\n\r\n    allprojects {\r\n        repositories {\r\n            jcenter()\r\n            maven {\r\n                url &quot;https://maven.google.com&quot;\r\n            }\r\n        }","title":"org.gradle.api.tasks.TaskExecutionException: Execution failed for task &#39;:app:transformClassesWithDexForDebug&#39;","body":"<p>For me the only thing that works is to add to repositories </p>\n\n<pre><code>maven {\n        url \"https://maven.google.com\"\n    }\n</code></pre>\n\n<p>It should look like this:</p>\n\n<pre><code>allprojects {\n    repositories {\n        jcenter()\n        maven {\n            url \"https://maven.google.com\"\n        }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2024739,"reputation":11716,"user_id":3294396,"accept_rate":98,"display_name":"Benjamin RD"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1538598604,"creation_date":1538598604,"answer_id":52635207,"question_id":37583875,"body_markdown":"For my case, I follow the steps from `Firebase` and by mistake I pated it in a wrong file.\r\n\r\nThen, I returned to the project from `Project` to `Android`. Once in the `Android view` I pasted the file `/projectname/app/YOUR-FILE-HERE` and now, you have to compile again.","title":"org.gradle.api.tasks.TaskExecutionException: Execution failed for task &#39;:app:transformClassesWithDexForDebug&#39;","body":"<p>For my case, I follow the steps from <code>Firebase</code> and by mistake I pated it in a wrong file.</p>\n\n<p>Then, I returned to the project from <code>Project</code> to <code>Android</code>. Once in the <code>Android view</code> I pasted the file <code>/projectname/app/YOUR-FILE-HERE</code> and now, you have to compile again.</p>\n"},{"tags":[],"owner":{"account_id":7152814,"reputation":607,"user_id":5466248,"accept_rate":50,"display_name":"sudharsan chandrasekaran"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1539069872,"creation_date":1539069872,"answer_id":52715448,"question_id":37583875,"body_markdown":"Just remove this line from build.gradle(Project folder)\r\n\r\n    apply plugin: &#39;com.google.gms.google-services&#39;\r\n\r\nNow rebuild the application. works fine\r\nHappy coding","title":"org.gradle.api.tasks.TaskExecutionException: Execution failed for task &#39;:app:transformClassesWithDexForDebug&#39;","body":"<p>Just remove this line from build.gradle(Project folder)</p>\n\n<pre><code>apply plugin: 'com.google.gms.google-services'\n</code></pre>\n\n<p>Now rebuild the application. works fine\nHappy coding</p>\n"},{"tags":[],"owner":{"account_id":14700841,"reputation":341,"user_id":10616887,"display_name":"rozeri dilar"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1542437000,"creation_date":1542176553,"answer_id":53294219,"question_id":37583875,"body_markdown":"I have been struggling with this problem for 2 days. And tried all options. \r\nFinally noticed that after updating my android studio, it was not showing me the compile errors like @v.d. wrote above. My problem was, In my build files, I was using compile(which should be replaced with **implementation** or **api**) and **testcompile**(which also replaced by **testimplementation**). Notice that I have changed in whole build files(android, app and others - in my case I also had folding-cell library)\r\n\r\n**for example instead of this**\r\n \r\n    compile project(path: &#39;:folding-cell&#39;)\r\n\r\n**write this**\r\n \r\n    implementation project(path: &#39;:folding-cell&#39;)\r\n\r\n","title":"org.gradle.api.tasks.TaskExecutionException: Execution failed for task &#39;:app:transformClassesWithDexForDebug&#39;","body":"<p>I have been struggling with this problem for 2 days. And tried all options. \nFinally noticed that after updating my android studio, it was not showing me the compile errors like @v.d. wrote above. My problem was, In my build files, I was using compile(which should be replaced with <strong>implementation</strong> or <strong>api</strong>) and <strong>testcompile</strong>(which also replaced by <strong>testimplementation</strong>). Notice that I have changed in whole build files(android, app and others - in my case I also had folding-cell library)</p>\n\n<p><strong>for example instead of this</strong></p>\n\n<pre><code>compile project(path: ':folding-cell')\n</code></pre>\n\n<p><strong>write this</strong></p>\n\n<pre><code>implementation project(path: ':folding-cell')\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7634212,"reputation":2824,"user_id":5788247,"display_name":"Shomu"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1542429181,"creation_date":1542429181,"answer_id":53348240,"question_id":37583875,"body_markdown":"**Apply in ProGuard-rules**\r\n\r\n    -ignorewarnings","title":"org.gradle.api.tasks.TaskExecutionException: Execution failed for task &#39;:app:transformClassesWithDexForDebug&#39;","body":"<p><strong>Apply in ProGuard-rules</strong></p>\n\n<pre><code>-ignorewarnings\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5190265,"reputation":1423,"user_id":4153414,"display_name":"Ambilpura Sunil Kumar"},"comment_count":0,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1545133498,"creation_date":1545133498,"answer_id":53832319,"question_id":37583875,"body_markdown":"My Simple Answer is and only solution...\r\n\r\nPlease Check The layout files, which you added lastly there MUST be a error in the .xml file for sure.\r\n\r\nWe may simply copy and pasting .xml file from other project and something missing in the xml file..\r\n\r\nError in the .xml file would be some of the below....\r\n\r\n1. Something missing in Drawable folder or String.xml Or Dimen.xml...\r\n\r\nAfter Placing all the available code in the respected folders do not forget to CLEAN The Project...\r\n\r\n","title":"org.gradle.api.tasks.TaskExecutionException: Execution failed for task &#39;:app:transformClassesWithDexForDebug&#39;","body":"<p>My Simple Answer is and only solution...</p>\n\n<p>Please Check The layout files, which you added lastly there MUST be a error in the .xml file for sure.</p>\n\n<p>We may simply copy and pasting .xml file from other project and something missing in the xml file..</p>\n\n<p>Error in the .xml file would be some of the below....</p>\n\n<ol>\n<li>Something missing in Drawable folder or String.xml Or Dimen.xml...</li>\n</ol>\n\n<p>After Placing all the available code in the respected folders do not forget to CLEAN The Project...</p>\n"},{"comments":[{"owner":{"account_id":1003933,"reputation":3792,"user_id":1018154,"display_name":"CodeToLife"},"score":0,"creation_date":1564583928,"post_id":54047807,"comment_id":101080962,"body_markdown":"in my case there was compile &quot;com.google.android.gms:play-services:12.0.1&quot; in gradle. I removed it and added its parts. Otherwise it s too heavy .","body":"in my case there was compile &quot;com.google.android.gms:play-services:12.0.1&quot; in gradle. I removed it and added its parts. Otherwise it s too heavy ."}],"tags":[],"owner":{"account_id":14484627,"reputation":171,"user_id":10462948,"display_name":"esterrrsinH"},"comment_count":1,"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1546648633,"creation_date":1546647564,"answer_id":54047807,"question_id":37583875,"body_markdown":"I had the same issue and I could solve it like this:\r\n\r\n1) **If your `minSdkVersion` is set to 21 or a higher value**, the only thing you need to do is to set `multiDexEnabled` in your `build.gradle` file at the module level, as shown below: \r\n\r\n    android {\r\n        defaultConfig {\r\n            ...\r\n            minSdkVersion 21 \r\n            targetSdkVersion 28\r\n            multiDexEnabled true\r\n        }\r\n        ...\r\n    }\r\n\r\n2) However, **if your minSdkVersion is set to 20 or less**, you should use the MultiDex compatibility library, as follows:\r\n\r\n2.1) Modify the module-level `build.gradle` file to enable MultiDex and add the MultiDex library as dependency, as shown below\r\n\r\n    android {\r\n        defaultConfig {\r\n            ...\r\n            minSdkVersion 15 \r\n            targetSdkVersion 28\r\n            multiDexEnabled true\r\n        }\r\n        ...\r\n    }\r\n    \r\n    dependencies {\r\n      implementation &#39;com.android.support:multidex:1.0.3&#39;\r\n    }\r\n\r\n2.2) According to the `Application` class or not, do one of the following actions:\r\n\r\n2.2.1) If you do not cancel the `Application` class, modify your manifest file to set `android: name` in the `&lt;application&gt;` tag as shown below:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        package=&quot;com.example.myapp&quot;&gt;\r\n        &lt;application\r\n                android:name=&quot;android.support.multidex.MultiDexApplication&quot; &gt;\r\n            ...\r\n        &lt;/application&gt;\r\n    &lt;/manifest&gt;\r\n\r\n2.2.2) If you cancel the `Application` class, you must change it to extend `MultiDexApplication` (if possible) as shown below:\r\n\r\n    public class MyApplication extends MultiDexApplication { ... }\r\n\r\n2.2.3) Also, if you override the `Application` class and can not change the base class, alternatively you can override the `attachBaseContext ()` method and invoke `MultiDex.install (this)` to enable MultiDex:\r\n\r\n    public class MyApplication extends SomeOtherApplication {\r\n      @Override\r\n      protected void attachBaseContext(Context base) {\r\n         super.attachBaseContext(base);\r\n         MultiDex.install(this);\r\n      }\r\n    }\r\n\r\n[Please use this link, it was really useful for me!][1]\r\n\r\n\r\n\r\n  [1]: https://developer.android.com/studio/build/multidex","title":"org.gradle.api.tasks.TaskExecutionException: Execution failed for task &#39;:app:transformClassesWithDexForDebug&#39;","body":"<p>I had the same issue and I could solve it like this:</p>\n\n<p>1) <strong>If your <code>minSdkVersion</code> is set to 21 or a higher value</strong>, the only thing you need to do is to set <code>multiDexEnabled</code> in your <code>build.gradle</code> file at the module level, as shown below: </p>\n\n<pre><code>android {\n    defaultConfig {\n        ...\n        minSdkVersion 21 \n        targetSdkVersion 28\n        multiDexEnabled true\n    }\n    ...\n}\n</code></pre>\n\n<p>2) However, <strong>if your minSdkVersion is set to 20 or less</strong>, you should use the MultiDex compatibility library, as follows:</p>\n\n<p>2.1) Modify the module-level <code>build.gradle</code> file to enable MultiDex and add the MultiDex library as dependency, as shown below</p>\n\n<pre><code>android {\n    defaultConfig {\n        ...\n        minSdkVersion 15 \n        targetSdkVersion 28\n        multiDexEnabled true\n    }\n    ...\n}\n\ndependencies {\n  implementation 'com.android.support:multidex:1.0.3'\n}\n</code></pre>\n\n<p>2.2) According to the <code>Application</code> class or not, do one of the following actions:</p>\n\n<p>2.2.1) If you do not cancel the <code>Application</code> class, modify your manifest file to set <code>android: name</code> in the <code>&lt;application&gt;</code> tag as shown below:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;manifest xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    package=\"com.example.myapp\"&gt;\n    &lt;application\n            android:name=\"android.support.multidex.MultiDexApplication\" &gt;\n        ...\n    &lt;/application&gt;\n&lt;/manifest&gt;\n</code></pre>\n\n<p>2.2.2) If you cancel the <code>Application</code> class, you must change it to extend <code>MultiDexApplication</code> (if possible) as shown below:</p>\n\n<pre><code>public class MyApplication extends MultiDexApplication { ... }\n</code></pre>\n\n<p>2.2.3) Also, if you override the <code>Application</code> class and can not change the base class, alternatively you can override the <code>attachBaseContext ()</code> method and invoke <code>MultiDex.install (this)</code> to enable MultiDex:</p>\n\n<pre><code>public class MyApplication extends SomeOtherApplication {\n  @Override\n  protected void attachBaseContext(Context base) {\n     super.attachBaseContext(base);\n     MultiDex.install(this);\n  }\n}\n</code></pre>\n\n<p><a href=\"https://developer.android.com/studio/build/multidex\" rel=\"noreferrer\">Please use this link, it was really useful for me!</a></p>\n"},{"tags":[],"owner":{"account_id":11306818,"reputation":26,"user_id":8291175,"display_name":"aktarul ahsan mashud"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1554310426,"creation_date":1554310426,"answer_id":55500411,"question_id":37583875,"body_markdown":"you just change import android.support.v7.app.ActionBarActivity;\r\nto \r\nimport android.support.v7.app.AppCompatActivity;\r\n\r\nand extends AppCompatActivity","title":"org.gradle.api.tasks.TaskExecutionException: Execution failed for task &#39;:app:transformClassesWithDexForDebug&#39;","body":"<p>you just change import android.support.v7.app.ActionBarActivity;\nto \nimport android.support.v7.app.AppCompatActivity;</p>\n\n<p>and extends AppCompatActivity</p>\n"},{"comments":[{"owner":{"account_id":17781688,"reputation":407,"user_id":12912762,"display_name":"a55"},"score":2,"creation_date":1677061992,"post_id":56389493,"comment_id":133261642,"body_markdown":"`find . -type f -name &#39;*.iml&#39;` works better than `grep`","body":"<code>find . -type f -name &#39;*.iml&#39;</code> works better than <code>grep</code>"}],"tags":[],"owner":{"account_id":3461870,"reputation":16885,"user_id":2898715,"accept_rate":92,"display_name":"Eric"},"comment_count":1,"down_vote_count":2,"up_vote_count":21,"is_accepted":false,"score":19,"last_activity_date":1578694146,"creation_date":1559282797,"answer_id":56389493,"question_id":37583875,"body_markdown":"the steps I followed are:\r\n\r\n1. close `Android Studio` _(or `IntelliJ IDEA`)_\r\n1. in your project&#39;s directory:\r\n 1. delete `.idea` directory\r\n 1. delete `.gradle` directory\r\n 1. delete all `.iml` files\r\n  * `find . | grep -e .iml$ | xargs rm`\r\n1. use `Android Studio` to re-open the directory as a project\r\n\r\nTerminal commands:\r\n\r\n```bash\r\n# close Android Studio\r\ncd &quot;your project&#39;s directory&quot;\r\nrm -rf ./.idea\r\nrm -rf ./.gradle\r\nfind . | grep -e .iml$ | xargs rm\r\n# use Android Studio to re-open the directory as a project\r\n```\r\n","title":"org.gradle.api.tasks.TaskExecutionException: Execution failed for task &#39;:app:transformClassesWithDexForDebug&#39;","body":"<p>the steps I followed are:</p>\n\n<ol>\n<li>close <code>Android Studio</code> <em>(or <code>IntelliJ IDEA</code>)</em></li>\n<li>in your project's directory:\n\n<ol>\n<li>delete <code>.idea</code> directory</li>\n<li>delete <code>.gradle</code> directory</li>\n<li>delete all <code>.iml</code> files\n\n<ul>\n<li><code>find . | grep -e .iml$ | xargs rm</code></li>\n</ul></li>\n</ol></li>\n<li>use <code>Android Studio</code> to re-open the directory as a project</li>\n</ol>\n\n<p>Terminal commands:</p>\n\n<pre class=\"lang-sh prettyprint-override\"><code># close Android Studio\ncd \"your project's directory\"\nrm -rf ./.idea\nrm -rf ./.gradle\nfind . | grep -e .iml$ | xargs rm\n# use Android Studio to re-open the directory as a project\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7459166,"reputation":8015,"user_id":7682257,"display_name":"Suraj Vaishnav"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1559982220,"creation_date":1559982220,"answer_id":56504739,"question_id":37583875,"body_markdown":"Well in my case i was accessing an static array of a class by reference of that class, but as we know we can directly access static member via class name. So when I replaced reference with class name where I was accessing that array. It fixed this error.","title":"org.gradle.api.tasks.TaskExecutionException: Execution failed for task &#39;:app:transformClassesWithDexForDebug&#39;","body":"<p>Well in my case i was accessing an static array of a class by reference of that class, but as we know we can directly access static member via class name. So when I replaced reference with class name where I was accessing that array. It fixed this error.</p>\n"},{"tags":[],"owner":{"account_id":8212541,"reputation":438,"user_id":6180094,"accept_rate":75,"display_name":"Subhash_Reddy"},"comment_count":0,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1562919564,"creation_date":1562919564,"answer_id":57002960,"question_id":37583875,"body_markdown":"I have disabled Instant Run feature from the preferences and the issue was solved.","title":"org.gradle.api.tasks.TaskExecutionException: Execution failed for task &#39;:app:transformClassesWithDexForDebug&#39;","body":"<p>I have disabled Instant Run feature from the preferences and the issue was solved.</p>\n"},{"tags":[],"owner":{"account_id":5527122,"reputation":113,"user_id":4388290,"display_name":"murali"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1563286544,"creation_date":1563286544,"answer_id":57059376,"question_id":37583875,"body_markdown":"delete intermediates folder from app\\build\\intermediates.\r\n then rebuild the project. it will work","title":"org.gradle.api.tasks.TaskExecutionException: Execution failed for task &#39;:app:transformClassesWithDexForDebug&#39;","body":"<p>delete intermediates folder from app\\build\\intermediates.\n then rebuild the project. it will work</p>\n"},{"tags":[],"owner":{"account_id":9868014,"reputation":2739,"user_id":7308789,"display_name":"Houssin Boulla"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1648738167,"creation_date":1565979966,"answer_id":57529440,"question_id":37583875,"body_markdown":"Add `multiDexEnabled true` to your app-level Gradle, like this:\r\n\r\n    defaultConfig {\r\n        multiDexEnabled true\r\n        ...\r\n    }","title":"org.gradle.api.tasks.TaskExecutionException: Execution failed for task &#39;:app:transformClassesWithDexForDebug&#39;","body":"<p>Add <code>multiDexEnabled true</code> to your app-level Gradle, like this:</p>\n<pre><code>defaultConfig {\n    multiDexEnabled true\n    ...\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5202422,"reputation":2396,"user_id":4161385,"accept_rate":88,"display_name":"PSN"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1571156377,"creation_date":1571156377,"answer_id":58398923,"question_id":37583875,"body_markdown":"**Migrate to androidX library**\r\n\r\nWith Android Studio 3.2 and higher, you can migrate an existing project to AndroidX by selecting `Refactor &gt; Migrate` to AndroidX from the menu bar.\r\n\r\nSource:\r\nhttps://developer.android.com/jetpack/androidx/migrate","title":"org.gradle.api.tasks.TaskExecutionException: Execution failed for task &#39;:app:transformClassesWithDexForDebug&#39;","body":"<p><strong>Migrate to androidX library</strong></p>\n\n<p>With Android Studio 3.2 and higher, you can migrate an existing project to AndroidX by selecting <code>Refactor &gt; Migrate</code> to AndroidX from the menu bar.</p>\n\n<p>Source:\n<a href=\"https://developer.android.com/jetpack/androidx/migrate\" rel=\"nofollow noreferrer\">https://developer.android.com/jetpack/androidx/migrate</a></p>\n"},{"tags":[],"owner":{"account_id":16907030,"reputation":704,"user_id":12227120,"display_name":"benten"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1573675769,"creation_date":1573675769,"answer_id":58844838,"question_id":37583875,"body_markdown":"\r\nfirst you remove this thing in your project  .. its is in build.gradle(module:app)  then build your app now you project show the actual error and you find what is your actual problem is .. and after you find actual problem again paste it where its is belong to \r\n\r\nallprojects {  gradle.projectsEvaluated {\r\n\r\n        tasks.withType(JavaCompile)\r\n {\r\n            options.encoding = &#39;UTF-8&#39;\r\n\r\n            options.compilerArgs\r\n\r\n &lt;&lt; &quot;-Xlint:unchecked&quot; &lt;&lt; &quot;-Xlint:deprecation&quot;}]}}","title":"org.gradle.api.tasks.TaskExecutionException: Execution failed for task &#39;:app:transformClassesWithDexForDebug&#39;","body":"<p>first you remove this thing in your project  .. its is in build.gradle(module:app)  then build your app now you project show the actual error and you find what is your actual problem is .. and after you find actual problem again paste it where its is belong to </p>\n\n<p>allprojects {  gradle.projectsEvaluated {</p>\n\n<pre><code>    tasks.withType(JavaCompile)\n</code></pre>\n\n<p>{\n            options.encoding = 'UTF-8'</p>\n\n<pre><code>        options.compilerArgs\n</code></pre>\n\n<p>&lt;&lt; \"-Xlint:unchecked\" &lt;&lt; \"-Xlint:deprecation\"}]}}</p>\n"},{"tags":[],"owner":{"account_id":5527122,"reputation":113,"user_id":4388290,"display_name":"murali"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1606372214,"creation_date":1606372214,"answer_id":65017089,"question_id":37583875,"body_markdown":"clear project and then run. it will work","title":"org.gradle.api.tasks.TaskExecutionException: Execution failed for task &#39;:app:transformClassesWithDexForDebug&#39;","body":"<p>clear project and then run. it will work</p>\n"},{"tags":[],"owner":{"account_id":13717415,"reputation":1385,"user_id":9898251,"display_name":"Badri Paudel"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648738080,"creation_date":1609301035,"answer_id":65501868,"question_id":37583875,"body_markdown":"If anyone is facing a **similar type of error** while adding **ShimmerRecyclerView** Loader, make sure to add: `maven { url &quot;https://jitpack.io&quot; }` **under allprojects** in your app-level Gradle, like below:\r\n\r\n    allprojects {\r\n        repositories {\r\n            google()\r\n            jcenter()\r\n            // Add it here\r\n            maven { url &quot;https://jitpack.io&quot; }\r\n        }\r\n    }","title":"org.gradle.api.tasks.TaskExecutionException: Execution failed for task &#39;:app:transformClassesWithDexForDebug&#39;","body":"<p>If anyone is facing a <strong>similar type of error</strong> while adding <strong>ShimmerRecyclerView</strong> Loader, make sure to add: <code>maven { url &quot;https://jitpack.io&quot; }</code> <strong>under allprojects</strong> in your app-level Gradle, like below:</p>\n<pre><code>allprojects {\n    repositories {\n        google()\n        jcenter()\n        // Add it here\n        maven { url &quot;https://jitpack.io&quot; }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":117016,"reputation":2407,"user_id":9115195,"display_name":"Pratik Dodiya"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645017941,"creation_date":1645017941,"answer_id":71142706,"question_id":37583875,"body_markdown":"In my case, I am also facing this types of error while run the project in Android Studio. It may be facing this types of error due to **dependencies** need to be upgrade with higher evrsion.\r\n\r\nI have used below dependencies \r\n\r\n&gt; implementation &#39;jp.wasabeef:glide-transformations:3.3.0&#39;\r\n\r\nNow changed with upgraded version as below\r\n\r\n&gt; implementation &#39;jp.wasabeef:glide-transformations:4.3.0&#39;\r\n&gt; \r\nNow sync the **build.gradle** then run the app is successfully.\r\n\r\n","title":"org.gradle.api.tasks.TaskExecutionException: Execution failed for task &#39;:app:transformClassesWithDexForDebug&#39;","body":"<p>In my case, I am also facing this types of error while run the project in Android Studio. It may be facing this types of error due to <strong>dependencies</strong> need to be upgrade with higher evrsion.</p>\n<p>I have used below dependencies</p>\n<blockquote>\n<p>implementation 'jp.wasabeef:glide-transformations:3.3.0'</p>\n</blockquote>\n<p>Now changed with upgraded version as below</p>\n<blockquote>\n<p>implementation 'jp.wasabeef:glide-transformations:4.3.0'</p>\n</blockquote>\n<p>Now sync the <strong>build.gradle</strong> then run the app is successfully.</p>\n"},{"tags":[],"owner":{"account_id":8248844,"reputation":9692,"user_id":6204133,"display_name":"Dan Alboteanu"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652699749,"creation_date":1652699749,"answer_id":72258318,"question_id":37583875,"body_markdown":"for me, it was the missing Manifest file that was to blame. I created a new module and forgot to add Manifest","title":"org.gradle.api.tasks.TaskExecutionException: Execution failed for task &#39;:app:transformClassesWithDexForDebug&#39;","body":"<p>for me, it was the missing Manifest file that was to blame. I created a new module and forgot to add Manifest</p>\n"},{"tags":[],"owner":{"account_id":8064110,"reputation":993,"user_id":6078825,"display_name":"Prashanth"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663702577,"creation_date":1663702577,"answer_id":73791798,"question_id":37583875,"body_markdown":"Just update your libraries in build.gradle(Project folder)\r\nand try again","title":"org.gradle.api.tasks.TaskExecutionException: Execution failed for task &#39;:app:transformClassesWithDexForDebug&#39;","body":"<p>Just update your libraries in build.gradle(Project folder)\nand try again</p>\n"},{"tags":[],"owner":{"account_id":23635114,"reputation":11,"user_id":17666307,"display_name":"Dimitrov"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1677671913,"creation_date":1677671913,"answer_id":75603404,"question_id":37583875,"body_markdown":"Invalidate Caches works for me","title":"org.gradle.api.tasks.TaskExecutionException: Execution failed for task &#39;:app:transformClassesWithDexForDebug&#39;","body":"<p>Invalidate Caches works for me</p>\n"},{"comments":[{"owner":{"account_id":9344434,"reputation":1704,"user_id":6936087,"accept_rate":75,"display_name":"Alexandr"},"score":0,"creation_date":1693047869,"post_id":76887342,"comment_id":135710253,"body_markdown":"https://github.com/greenrobot/greenDAO/issues/1110#issuecomment-1609217601","body":"<a href=\"https://github.com/greenrobot/greenDAO/issues/1110#issuecomment-1609217601\" rel=\"nofollow noreferrer\">github.com/greenrobot/greenDAO/issues/&hellip;</a>"}],"tags":[],"owner":{"account_id":14943891,"reputation":1727,"user_id":10789722,"display_name":"MEGHA RAMOLIYA"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1691801730,"creation_date":1691801730,"answer_id":76887342,"question_id":37583875,"body_markdown":"            If you are updating your build.gradle(app) with latest version and third party library include in project that&#39;s why you need to update your library with latest version in same file. \r\n    \r\n    In my case i&#39;ve to update my dependency with below version code.\r\n        \r\n        dependencies {\r\n                classpath &#39;com.android.tools.build:gradle:3.3.2&#39;\r\n                classpath &#39;com.google.gms:google-services:4.3.4&#39;\r\n                classpath &#39;org.greenrobot:greendao-gradle-plugin:3.3.0&#39;\r\n                } \r\n    \r\n    It should look like this:\r\n            \r\n                dependencies {\r\n                    classpath &#39;com.android.tools.build:gradle:8.1.0&#39;\r\n                    classpath &#39;com.google.gms:google-services:4.3.4&#39;\r\n                    classpath &#39;org.greenrobot:greendao-gradle-plugin:3.3.1&#39;\r\n                } ","title":"org.gradle.api.tasks.TaskExecutionException: Execution failed for task &#39;:app:transformClassesWithDexForDebug&#39;","body":"<pre><code>        If you are updating your build.gradle(app) with latest version and third party library include in project that's why you need to update your library with latest version in same file. \n\nIn my case i've to update my dependency with below version code.\n    \n    dependencies {\n            classpath 'com.android.tools.build:gradle:3.3.2'\n            classpath 'com.google.gms:google-services:4.3.4'\n            classpath 'org.greenrobot:greendao-gradle-plugin:3.3.0'\n            } \n\nIt should look like this:\n        \n            dependencies {\n                classpath 'com.android.tools.build:gradle:8.1.0'\n                classpath 'com.google.gms:google-services:4.3.4'\n                classpath 'org.greenrobot:greendao-gradle-plugin:3.3.1'\n            } \n</code></pre>\n"}],"owner":{"account_id":8557992,"reputation":881,"user_id":6412831,"display_name":"AndroidLearner"},"comment_count":13,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":325514,"favorite_count":0,"down_vote_count":0,"up_vote_count":88,"answer_count":28,"score":88,"last_activity_date":1691801730,"creation_date":1464847507,"question_id":37583875,"body_markdown":"Due to `65K` error in my project I need it to migrate to Android Studio . While running \r\n\r\n&gt; ./gradlew assembleDebug\r\n\r\nI am getting the error:\r\n\r\n    Execution failed for task &#39;:app:transformClassesWithDexForDebug&#39;.\r\n    com.android.build.api.transform.TransformException:\r\n    com.android.ide.common.process.ProcessException:\r\n    java.util.concurrent.ExecutionException: \r\n    com.android.ide.common.process.ProcessException: \r\n    org.gradle.process.internal.ExecException: \r\n    Process &#39;command &#39;/opt/jdk/jdk1.8.0_45/bin/java&#39;&#39; finished with non-zero exit value 1\r\n\r\nI know this is very common error which all get while migrating an Eclipse project to Android Studio.\r\n\r\n**I have tried:**\r\n\r\nhttps://stackoverflow.com/questions/34834097/execution-failed-for-task-apptransformclasseswithdexfordebug-gradle-depend\r\n\r\nhttps://stackoverflow.com/questions/33369163/execution-failed-for-task-apptransformclasseswithdexfordebug-while-implement\r\n\r\nhttps://stackoverflow.com/questions/33915955/android-studio-transformexception-errorexecution-failed-for-task-apptransf\r\n\r\nhttps://stackoverflow.com/questions/33717886/errorexecution-failed-for-task-apptransformclasseswithdexfordebug\r\n\r\nhttps://stackoverflow.com/questions/32807587/com-android-build-transform-api-transformexception\r\n\r\nhttps://github.com/journeyapps/zxing-android-embedded/issues/110\r\n\r\nI tried every solution, I tried to add `.jar` files one by one in my project, I used only those Google-services packages which are getting used in my project, I even added `multidex` jar.But nothing helps me \r\n\r\n**My Build.gradle file:**\r\n\r\n   \r\n\r\n    apply plugin: &#39;com.android.application&#39;\r\n    \r\n    android {\r\n        compileSdkVersion 23\r\n        buildToolsVersion &quot;23.0.3&quot;\r\n    \r\n        defaultConfig {\r\n            applicationId &quot;com.petzview.android&quot;\r\n            minSdkVersion 15\r\n            targetSdkVersion 23\r\n            versionCode 1\r\n            versionName &quot;1.0&quot;\r\n        }\r\n        buildTypes {\r\n            release {\r\n                minifyEnabled false\r\n                proguardFiles getDefaultProguardFile(&#39;proguard-android.txt&#39;), &#39;proguard-rules.pro&#39;\r\n            }\r\n        }\r\n        lintOptions {\r\n            abortOnError false\r\n            checkReleaseBuilds false\r\n        }\r\n    \r\n        dexOptions {\r\n            incremental = true;\r\n            maxProcessCount 4\r\n            javaMaxHeapSize &quot;4g&quot;\r\n            dexInProcess = false\r\n            preDexLibraries = false\r\n        }\r\n    }\r\n    \r\n    dependencies {\r\n        compile fileTree(include: [&#39;*.jar&#39;], dir: &#39;libs&#39;)\r\n        testCompile &#39;junit:junit:4.12&#39;\r\n        compile &#39;com.android.support:appcompat-v7:23.4.0&#39;\r\n        compile &#39;com.google.android.gms:play-services-ads:9.0.0&#39;\r\n        compile &#39;com.google.android.gms:play-services-plus:9.0.0&#39;\r\n        compile &#39;com.google.android.gms:play-services-gcm:9.0.0&#39;\r\n        compile project(&#39;:AVIOCtrlDefine&#39;)\r\n        compile project(&#39;:Facebook&#39;)\r\n        compile project(&#39;:SlidingMenu-master&#39;)\r\n        compile &#39;com.android.support:multidex:1.0.1&#39;\r\n    }\r\n    android.packagingOptions {\r\n        exclude &#39;the META-INF / DEPENDENCIES&#39;\r\n        exclude &#39;META-INF/DEPENDENCIES.txt&#39;\r\n        exclude &#39;the META-INF / LICENSE&#39;\r\n        exclude &#39;the META-INF / LICENSE.txt&#39;\r\n        exclude &#39;the META-INF / license.txt&#39;\r\n        exclude &#39;the META-INF / NOTICE&#39;\r\n        exclude &#39;the META-INF / the NOTICE.txt &#39;\r\n        exclude &#39; the META-INF / NOTICE.txt &#39;\r\n        exclude &#39; the META-INF / ASL2.0 &#39;\r\n        exclude &#39; the META-INF / Services / javax.annotation.processing.Processor &#39;\r\n    }\r\n    apply plugin: &#39;com.google.gms.google-services&#39;\r\n\r\n**My main gradle file:**\r\n\r\n    buildscript {\r\n        repositories {\r\n            jcenter()\r\n        }\r\n        dependencies {\r\n           classpath &#39;com.android.tools.build:gradle:2.1.0&#39;\r\n           classpath &#39;com.google.gms:google-services:3.0.0&#39;\r\n        }\r\n    }\r\n    \r\n    allprojects {\r\n        repositories {\r\n            jcenter()\r\n        }\r\n    }\r\n\r\n**Screenshot of my libs folder:**\r\n\r\n![][1]\r\n\r\n**MyApplication.java:**\r\n\r\n    public class MyApplication extends MultiDexApplication {\r\n        private Object mTempObject = null;\r\n    \r\n        private boolean flagHomeFragmentFirstCreate = true;\r\n    \r\n        @Override\r\n        protected void attachBaseContext(Context base) {\r\n            super.attachBaseContext(base);\r\n            MultiDex.install(this);\r\n            FacebookSdk.sdkInitialize(getApplicationContext());\r\n        }\r\n\r\n**My Manifest class containing MyApplication:**\r\n\r\n\r\n     &lt;application\r\n            android:name=&quot;.MyApplication&quot;\r\n            android:allowBackup=&quot;true&quot;\r\n            android:icon=&quot;@drawable/ic_launcher&quot;\r\n            android:label=&quot;@string/app_name&quot;\r\n            android:largeHeap=&quot;true&quot;\r\n            android:theme=&quot;@style/AppTheme&quot;&gt;\r\n\r\n\r\nAfter running \r\n\r\n&gt; ./gradlew assembleDebug --stacktrace\r\n\r\n**Error Log**\r\n\r\n    org.gradle.api.tasks.TaskExecutionException: Execution failed for task &#39;:app:transformClassesWithDexForDebug&#39;.\r\n    at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeActions(ExecuteActionsTaskExecuter.java:69)\r\n    at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.execute(ExecuteActionsTaskExecuter.java:46)\r\n    at org.gradle.api.internal.tasks.execution.PostExecutionAnalysisTaskExecuter.execute(PostExecutionAnalysisTaskExecuter.java:35)\r\n    at org.gradle.api.internal.tasks.execution.SkipUpToDateTaskExecuter.execute(SkipUpToDateTaskExecuter.java:64)\r\n    at org.gradle.api.internal.tasks.execution.ValidatingTaskExecuter.execute(ValidatingTaskExecuter.java:58)\r\n    at org.gradle.api.internal.tasks.execution.SkipEmptySourceFilesTaskExecuter.execute(SkipEmptySourceFilesTaskExecuter.java:52)\r\n    at org.gradle.api.internal.tasks.execution.SkipTaskWithNoActionsExecuter.execute(SkipTaskWithNoActionsExecuter.java:52)\r\n    at org.gradle.api.internal.tasks.execution.SkipOnlyIfTaskExecuter.execute(SkipOnlyIfTaskExecuter.java:53)\r\n    at org.gradle.api.internal.tasks.execution.ExecuteAtMostOnceTaskExecuter.execute(ExecuteAtMostOnceTaskExecuter.java:43)\r\n    at org.gradle.execution.taskgraph.DefaultTaskGraphExecuter$EventFiringTaskWorker.execute(DefaultTaskGraphExecuter.java:203)\r\n    at org.gradle.execution.taskgraph.DefaultTaskGraphExecuter$EventFiringTaskWorker.execute(DefaultTaskGraphExecuter.java:185)\r\n    at org.gradle.execution.taskgraph.AbstractTaskPlanExecutor$TaskExecutorWorker.processTask(AbstractTaskPlanExecutor.java:66)\r\n    at org.gradle.execution.taskgraph.AbstractTaskPlanExecutor$TaskExecutorWorker.run(AbstractTaskPlanExecutor.java:50)\r\n    at org.gradle.execution.taskgraph.DefaultTaskPlanExecutor.process(DefaultTaskPlanExecutor.java:25)\r\n    at org.gradle.execution.taskgraph.DefaultTaskGraphExecuter.execute(DefaultTaskGraphExecuter.java:110)\r\n    at org.gradle.execution.SelectedTaskExecutionAction.execute(SelectedTaskExecutionAction.java:37)\r\n             org.gradle.execution.DefaultBuildExecuter.execute(DefaultBuildExecuter.java:37)\r\n    at org.gradle.execution.DefaultBuildExecuter.access$000(DefaultBuildExecuter.java:23)\r\n    at org.gradle.execution.DefaultBuildExecuter$1.proceed(DefaultBuildExecuter.java:43)\r\n    at org.gradle.execution.DryRunBuildExecutionAction.execute(DryRunBuildExecutionAction.java:32)\r\n    at org.gradle.execution.DefaultBuildExecuter.execute(DefaultBuildExecuter.java:37)\r\n    at org.gradle.execution.DefaultBuildExecuter.execute(DefaultBuildExecuter.java:30)\r\n    at org.gradle.initialization.DefaultGradleLauncher$4.run(DefaultGradleLauncher.java:154)\r\n    at org.gradle.internal.Factories$1.create(Factories.java:22)\r\n    at org.gradle.internal.progress.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:90)\r\n    at org.gradle.internal.progress.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:52)\r\n    at org.gradle.initialization.DefaultGradleLauncher.doBuildStages(DefaultGradleLauncher.java:151)\r\n    at org.gradle.initialization.DefaultGradleLauncher.access$200(DefaultGradleLauncher.java:32)\r\n    at org.gradle.initialization.DefaultGradleLauncher$1.create(DefaultGradleLauncher.java:99)\r\n    at org.gradle.initialization.DefaultGradleLauncher$1.create(DefaultGradleLauncher.java:93)\r\n    at org.gradle.internal.progress.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:90)\r\n    at org.gradle.internal.progress.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:62)\r\n    at org.gradle.initialization.DefaultGradleLauncher.doBuild(DefaultGradleLauncher.java:93)\r\n    at org.gradle.initialization.DefaultGradleLauncher.run(DefaultGradleLauncher.java:82)\r\n    at org.gradle.launcher.exec.InProcessBuildActionExecuter$DefaultBuildController.run(InProcessBuildActionExecuter.java:94)\r\n    at org.gradle.tooling.internal.provider.ExecuteBuildActionRunner.run(ExecuteBuildActionRunner.java:28)\r\n    at org.gradle.launcher.exec.ChainingBuildActionRunner.run(ChainingBuildActionRunner.java:35)\r\n    at org.gradle.launcher.exec.InProcessBuildActionExecuter.execute(InProcessBuildActionExecuter.java:43)\r\n    at org.gradle.launcher.exec.InProcessBuildActionExecuter.execute(InProcessBuildActionExecuter.java:28)\r\n    at org.gradle.launcher.exec.ContinuousBuildActionExecuter.execute(ContinuousBuildActionExecuter.java:78)\r\n    at org.gradle.launcher.exec.ContinuousBuildActionExecuter.execute(ContinuousBuildActionExecuter.java:48)\r\n    at org.gradle.launcher.exec.DaemonUsageSuggestingBuildActionExecuter.execute(DaemonUsageSuggestingBuildActionExecuter.java:51)\r\n    at org.gradle.launcher.exec.DaemonUsageSuggestingBuildActionExecuter.execute(DaemonUsageSuggestingBuildActionExecuter.java:28)\r\n    at org.gradle.launcher.cli.RunBuildAction.run(RunBuildAction.java:43)\r\n    at org.gradle.internal.Actions$RunnableActionAdapter.execute(Actions.java:170)\r\n    at org.gradle.launcher.cli.CommandLineActionFactory$ParseAndBuildAction.execute(CommandLineActionFactory.java:237)\r\n    at org.gradle.launcher.cli.CommandLineActionFactory$ParseAndBuildAction.execute(CommandLineActionFactory.java:210)\r\n    at org.gradle.launcher.cli.JavaRuntimeValidationAction.execute(JavaRuntimeValidationAction.java:35)\r\n    at org.gradle.launcher.cli.JavaRuntimeValidationAction.execute(JavaRuntimeValidationAction.java:24)\r\n    at org.gradle.launcher.cli.CommandLineActionFactory$WithLogging.execute(CommandLineActionFactory.java:206)\r\n    at org.gradle.launcher.cli.CommandLineActionFactory$WithLogging.execute(CommandLineActionFactory.java:169)\r\n    at org.gradle.launcher.cli.ExceptionReportingAction.execute(ExceptionReportingAction.java:33)\r\n    at org.gradle.launcher.cli.ExceptionReportingAction.execute(ExceptionReportingAction.java:22)\r\n    at org.gradle.launcher.Main.doAction(Main.java:33)\r\n    at org.gradle.launcher.bootstrap.EntryPoint.run(EntryPoint.java:45)\r\n    at org.gradle.launcher.bootstrap.ProcessBootstrap.runNoExit(ProcessBootstrap.java:54)\r\n    at org.gradle.launcher.bootstrap.ProcessBootstrap.run(ProcessBootstrap.java:35)\r\n    at org.gradle.launcher.GradleMain.main(GradleMain.java:23)\r\n    at org.gradle.wrapper.BootstrapMainStarter.start(BootstrapMainStarter.java:30)\r\n    at org.gradle.wrapper.WrapperExecutor.execute(WrapperExecutor.java:129)\r\n    at org.gradle.wrapper.GradleWrapperMain.main(GradleWrapperMain.java:61)\r\n    Caused by: java.lang.RuntimeException:\r\n    com.android.build.api.transform.TransformException:\r\n    com.android.ide.common.process.ProcessException:\r\n    java.util.concurrent.ExecutionException:\r\n    com.android.ide.common.process.ProcessException:\r\n    org.gradle.process.internal.ExecException: Process &#39;command\r\n     &#39;/opt/jdk/jdk1.8.0_45/bin/java&#39;&#39; finished with non-zero exit value 1\r\n    at com.android.builder.profile.Recorder$Block.handleException(Recorder.java:54)\r\n    at com.android.builder.profile.ThreadRecorder$1.record(ThreadRecorder.java:57)\r\n    at com.android.builder.profile.ThreadRecorder$1.record(ThreadRecorder.java:47)\r\n    at com.android.build.gradle.internal.pipeline.TransformTask.transform(TransformTask.java:173)\r\n    at org.gradle.internal.reflect.JavaMethod.invoke(JavaMethod.java:75)\r\n    at org.gradle.api.internal.project.taskfactory.AnnotationProcessingTaskFactory$IncrementalTaskAction.doExecute(AnnotationProcessingTaskFactory.java:244)\r\n    at org.gradle.api.internal.project.taskfactory.AnnotationProcessingTaskFactory$StandardTaskAction.execute(AnnotationProcessingTaskFactory.java:220)\r\n    at org.gradle.api.internal.project.taskfactory.AnnotationProcessingTaskFactory$IncrementalTaskAction.execute(AnnotationProcessingTaskFactory.java:231)\r\n    at org.gradle.api.internal.project.taskfactory.AnnotationProcessingTaskFactory$StandardTaskAction.execute(AnnotationProcessingTaskFactory.java:209)\r\n    at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeAction(ExecuteActionsTaskExecuter.java:80)\r\n    at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeActions(ExecuteActionsTaskExecuter.java:61)\r\n             ... 60 more Caused by: com.android.build.api.transform.TransformException:&gt; com.android.ide.common.process.ProcessException:\r\n    java.util.concurrent.ExecutionException:\r\n    com.android.ide.common.process.ProcessException:\r\n    org.gradle.process.internal.ExecException: Process &#39;command\r\n     &#39;/opt/jdk/jdk1.8.0_45/bin/java&#39;&#39; finished with non-zero exit value 1\r\n    at com.android.build.gradle.internal.transforms.DexTransform.transform(DexTransform.java:421)\r\n    at com.android.build.gradle.internal.pipeline.TransformTask$3.call(TransformTask.java:178)\r\n    at com.android.build.gradle.internal.pipeline.TransformTask$3.call(TransformTask.java:174)\r\n    at com.android.builder.profile.ThreadRecorder$1.record(ThreadRecorder.java:55)\r\n             ... 69 more Caused by: com.android.ide.common.process.ProcessException:\r\n    java.util.concurrent.ExecutionException:\r\n    com.android.ide.common.process.ProcessException:\r\n    org.gradle.process.internal.ExecException: Process &#39;command\r\n     &#39;/opt/jdk/jdk1.8.0_45/bin/java&#39;&#39; finished with non-zero exit value 1\r\n    at com.android.builder.core.AndroidBuilder.dexOutOfProcess(AndroidBuilder.java:1553)\r\n    at com.android.builder.core.AndroidBuilder.runDexer(AndroidBuilder.java:1495)\r\n    at com.android.builder.core.AndroidBuilder.convertByteCode(AndroidBuilder.java:1482)\r\n     at com.android.build.gradle.internal.transforms.DexTransform.transform(DexTransform.java:251)\r\n             ... 72 more Caused by: java.util.concurrent.ExecutionException:\r\n    com.android.ide.common.process.ProcessException:\r\n    org.gradle.process.internal.ExecException: Process &#39;command\r\n     &#39;/opt/jdk/jdk1.8.0_45/bin/java&#39;&#39; finished with non-zero exit value 1\r\n    at com.android.builder.core.AndroidBuilder.dexOutOfProcess(AndroidBuilder.java:1549)\r\n            ... 75 more Caused by: com.android.ide.common.process.ProcessException:\r\n    org.gradle.process.internal.ExecException: Process &#39;command\r\n     &#39;/opt/jdk/jdk1.8.0_45/bin/java&#39;&#39; finished with non-zero exit value 1\r\n    at com.android.build.gradle.internal.process.GradleProcessResult.assertNormalExitValue(GradleProcessResult.java:43)\r\n    at com.android.builder.core.AndroidBuilder$3.call(AndroidBuilder.java:1538)\r\n    at com.android.builder.core.AndroidBuilder$3.call(AndroidBuilder.java:1531)\r\n    Caused by: org.gradle.process.internal.ExecException: Process &#39;command\r\n     &#39;/opt/jdk/jdk1.8.0_45/bin/java&#39;&#39; finished with non-zero exit value 1\r\n    at org.gradle.process.internal.DefaultExecHandle$ExecResultImpl.assertNormalExitValue(DefaultExecHandle.java:367)\r\n    at com.android.build.gradle.internal.process.GradleProcessResult.assertNormalExitValue(GradleProcessResult.java:41)\r\n             ... 2 more\r\n\r\n\r\n**Error while running application on device:**\r\n\r\n&gt; Error:trouble processing &quot;java/awt/font/NumericShaper.class&quot;:\r\n&gt; Error:Ill-advised or mistaken usage of a core class (java.* or\r\n&gt; javax.*) Error:when not building a core library. Error:This is often\r\n&gt; due to inadvertently including a core library file Error:in your\r\n&gt; application&#39;s project, when using an IDE (such as Error:Eclipse). If\r\n&gt; you are sure you&#39;re not intentionally defining a Error:core class,\r\n&gt; then this is the most likely explanation of what&#39;s Error:going on.\r\n&gt; Error:However, you might actually be trying to define a class in a\r\n&gt; core Error:namespace, the source of which you may have taken, for\r\n&gt; example, Error:from a non-Android virtual machine project. This will\r\n&gt; most Error:assuredly not work. At a minimum, it jeopardizes the\r\n&gt; Error:compatibility of your app with future versions of the platform.\r\n&gt; Error:It is also often of questionable legality. Error:If you really\r\n&gt; intend to build a core library -- which is only Error:appropriate as\r\n&gt; part of creating a full virtual machine Error:distribution, as opposed\r\n&gt; to compiling an application -- then use Error:the &quot;--core-library&quot;\r\n&gt; option to suppress this error message. Error:If you go ahead and use\r\n&gt; &quot;--core-library&quot; but are in fact Error:building an application, then\r\n&gt; be forewarned that your application Error:will still fail to build or\r\n&gt; run, at some point. Please be Error:prepared for angry customers who\r\n&gt; find, for example, that your Error:application ceases to function once\r\n&gt; they upgrade their operating Error:system. You will be to blame for\r\n&gt; this problem. Error:If you are legitimately using some code that\r\n&gt; happens to be in a Error:core package, then the easiest safe\r\n&gt; alternative you have is to Error:repackage that code. That is, move\r\n&gt; the classes in question into Error:your own package namespace. This\r\n&gt; means that they will never be in Error:conflict with core system\r\n&gt; classes. JarJar is a tool that may help Error:you in this endeavor. If\r\n&gt; you find that you cannot do this, then Error:that is an indication\r\n&gt; that the path you are on will ultimately Error:lead to pain,\r\n&gt; suffering, grief, and lamentation. Error:1 error; aborting\r\n&gt; Error:Execution failed for task\r\n&gt; &#39;:app:transformClassesWithDexForDebug&#39;.\r\n&gt; &gt; com.android.build.api.transform.TransformException: com.android.ide.common.process.ProcessException:\r\n&gt; java.util.concurrent.ExecutionException:\r\n&gt; com.android.ide.common.process.ProcessException:\r\n&gt; org.gradle.process.internal.ExecException: Process &#39;command\r\n&gt; &#39;/usr/lib/jvm/java-8-oracle/bin/java&#39;&#39; finished with non-zero exit\r\n&gt; value 1 Information:BUILD FAILED\r\n\r\nWhere am I going wrong?\r\n\r\n  \r\n\r\n\r\n  [1]: http://i.stack.imgur.com/zOMAG.png","title":"org.gradle.api.tasks.TaskExecutionException: Execution failed for task &#39;:app:transformClassesWithDexForDebug&#39;","body":"<p>Due to <code>65K</code> error in my project I need it to migrate to Android Studio . While running </p>\n\n<blockquote>\n  <p>./gradlew assembleDebug</p>\n</blockquote>\n\n<p>I am getting the error:</p>\n\n<pre><code>Execution failed for task ':app:transformClassesWithDexForDebug'.\ncom.android.build.api.transform.TransformException:\ncom.android.ide.common.process.ProcessException:\njava.util.concurrent.ExecutionException: \ncom.android.ide.common.process.ProcessException: \norg.gradle.process.internal.ExecException: \nProcess 'command '/opt/jdk/jdk1.8.0_45/bin/java'' finished with non-zero exit value 1\n</code></pre>\n\n<p>I know this is very common error which all get while migrating an Eclipse project to Android Studio.</p>\n\n<p><strong>I have tried:</strong></p>\n\n<p><a href=\"https://stackoverflow.com/questions/34834097/execution-failed-for-task-apptransformclasseswithdexfordebug-gradle-depend\">Execution failed for task &#39;:app:transformClassesWithDexForDebug&#39; - Gradle dependencies?</a></p>\n\n<p><a href=\"https://stackoverflow.com/questions/33369163/execution-failed-for-task-apptransformclasseswithdexfordebug-while-implement\">Execution failed for task &#39;:app:transformClassesWithDexForDebug&#39; while implementing Google sign in for Android</a></p>\n\n<p><a href=\"https://stackoverflow.com/questions/33915955/android-studio-transformexception-errorexecution-failed-for-task-apptransf\">Android Studio TransformException : Error:Execution failed for task &#39;:app:transformClassesWithDexForDebug&#39;</a></p>\n\n<p><a href=\"https://stackoverflow.com/questions/33717886/errorexecution-failed-for-task-apptransformclasseswithdexfordebug\">Error:Execution failed for task &#39;:app:transformClassesWithDexForDebug&#39;</a></p>\n\n<p><a href=\"https://stackoverflow.com/questions/32807587/com-android-build-transform-api-transformexception\">com.android.build.transform.api.TransformException</a></p>\n\n<p><a href=\"https://github.com/journeyapps/zxing-android-embedded/issues/110\" rel=\"noreferrer\">https://github.com/journeyapps/zxing-android-embedded/issues/110</a></p>\n\n<p>I tried every solution, I tried to add <code>.jar</code> files one by one in my project, I used only those Google-services packages which are getting used in my project, I even added <code>multidex</code> jar.But nothing helps me </p>\n\n<p><strong>My Build.gradle file:</strong></p>\n\n<pre><code>apply plugin: 'com.android.application'\n\nandroid {\n    compileSdkVersion 23\n    buildToolsVersion \"23.0.3\"\n\n    defaultConfig {\n        applicationId \"com.petzview.android\"\n        minSdkVersion 15\n        targetSdkVersion 23\n        versionCode 1\n        versionName \"1.0\"\n    }\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n        }\n    }\n    lintOptions {\n        abortOnError false\n        checkReleaseBuilds false\n    }\n\n    dexOptions {\n        incremental = true;\n        maxProcessCount 4\n        javaMaxHeapSize \"4g\"\n        dexInProcess = false\n        preDexLibraries = false\n    }\n}\n\ndependencies {\n    compile fileTree(include: ['*.jar'], dir: 'libs')\n    testCompile 'junit:junit:4.12'\n    compile 'com.android.support:appcompat-v7:23.4.0'\n    compile 'com.google.android.gms:play-services-ads:9.0.0'\n    compile 'com.google.android.gms:play-services-plus:9.0.0'\n    compile 'com.google.android.gms:play-services-gcm:9.0.0'\n    compile project(':AVIOCtrlDefine')\n    compile project(':Facebook')\n    compile project(':SlidingMenu-master')\n    compile 'com.android.support:multidex:1.0.1'\n}\nandroid.packagingOptions {\n    exclude 'the META-INF / DEPENDENCIES'\n    exclude 'META-INF/DEPENDENCIES.txt'\n    exclude 'the META-INF / LICENSE'\n    exclude 'the META-INF / LICENSE.txt'\n    exclude 'the META-INF / license.txt'\n    exclude 'the META-INF / NOTICE'\n    exclude 'the META-INF / the NOTICE.txt '\n    exclude ' the META-INF / NOTICE.txt '\n    exclude ' the META-INF / ASL2.0 '\n    exclude ' the META-INF / Services / javax.annotation.processing.Processor '\n}\napply plugin: 'com.google.gms.google-services'\n</code></pre>\n\n<p><strong>My main gradle file:</strong></p>\n\n<pre><code>buildscript {\n    repositories {\n        jcenter()\n    }\n    dependencies {\n       classpath 'com.android.tools.build:gradle:2.1.0'\n       classpath 'com.google.gms:google-services:3.0.0'\n    }\n}\n\nallprojects {\n    repositories {\n        jcenter()\n    }\n}\n</code></pre>\n\n<p><strong>Screenshot of my libs folder:</strong></p>\n\n<p><img src=\"https://i.stack.imgur.com/zOMAG.png\" alt=\"\"></p>\n\n<p><strong>MyApplication.java:</strong></p>\n\n<pre><code>public class MyApplication extends MultiDexApplication {\n    private Object mTempObject = null;\n\n    private boolean flagHomeFragmentFirstCreate = true;\n\n    @Override\n    protected void attachBaseContext(Context base) {\n        super.attachBaseContext(base);\n        MultiDex.install(this);\n        FacebookSdk.sdkInitialize(getApplicationContext());\n    }\n</code></pre>\n\n<p><strong>My Manifest class containing MyApplication:</strong></p>\n\n<pre><code> &lt;application\n        android:name=\".MyApplication\"\n        android:allowBackup=\"true\"\n        android:icon=\"@drawable/ic_launcher\"\n        android:label=\"@string/app_name\"\n        android:largeHeap=\"true\"\n        android:theme=\"@style/AppTheme\"&gt;\n</code></pre>\n\n<p>After running </p>\n\n<blockquote>\n  <p>./gradlew assembleDebug --stacktrace</p>\n</blockquote>\n\n<p><strong>Error Log</strong></p>\n\n<pre><code>org.gradle.api.tasks.TaskExecutionException: Execution failed for task ':app:transformClassesWithDexForDebug'.\nat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeActions(ExecuteActionsTaskExecuter.java:69)\nat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.execute(ExecuteActionsTaskExecuter.java:46)\nat org.gradle.api.internal.tasks.execution.PostExecutionAnalysisTaskExecuter.execute(PostExecutionAnalysisTaskExecuter.java:35)\nat org.gradle.api.internal.tasks.execution.SkipUpToDateTaskExecuter.execute(SkipUpToDateTaskExecuter.java:64)\nat org.gradle.api.internal.tasks.execution.ValidatingTaskExecuter.execute(ValidatingTaskExecuter.java:58)\nat org.gradle.api.internal.tasks.execution.SkipEmptySourceFilesTaskExecuter.execute(SkipEmptySourceFilesTaskExecuter.java:52)\nat org.gradle.api.internal.tasks.execution.SkipTaskWithNoActionsExecuter.execute(SkipTaskWithNoActionsExecuter.java:52)\nat org.gradle.api.internal.tasks.execution.SkipOnlyIfTaskExecuter.execute(SkipOnlyIfTaskExecuter.java:53)\nat org.gradle.api.internal.tasks.execution.ExecuteAtMostOnceTaskExecuter.execute(ExecuteAtMostOnceTaskExecuter.java:43)\nat org.gradle.execution.taskgraph.DefaultTaskGraphExecuter$EventFiringTaskWorker.execute(DefaultTaskGraphExecuter.java:203)\nat org.gradle.execution.taskgraph.DefaultTaskGraphExecuter$EventFiringTaskWorker.execute(DefaultTaskGraphExecuter.java:185)\nat org.gradle.execution.taskgraph.AbstractTaskPlanExecutor$TaskExecutorWorker.processTask(AbstractTaskPlanExecutor.java:66)\nat org.gradle.execution.taskgraph.AbstractTaskPlanExecutor$TaskExecutorWorker.run(AbstractTaskPlanExecutor.java:50)\nat org.gradle.execution.taskgraph.DefaultTaskPlanExecutor.process(DefaultTaskPlanExecutor.java:25)\nat org.gradle.execution.taskgraph.DefaultTaskGraphExecuter.execute(DefaultTaskGraphExecuter.java:110)\nat org.gradle.execution.SelectedTaskExecutionAction.execute(SelectedTaskExecutionAction.java:37)\n         org.gradle.execution.DefaultBuildExecuter.execute(DefaultBuildExecuter.java:37)\nat org.gradle.execution.DefaultBuildExecuter.access$000(DefaultBuildExecuter.java:23)\nat org.gradle.execution.DefaultBuildExecuter$1.proceed(DefaultBuildExecuter.java:43)\nat org.gradle.execution.DryRunBuildExecutionAction.execute(DryRunBuildExecutionAction.java:32)\nat org.gradle.execution.DefaultBuildExecuter.execute(DefaultBuildExecuter.java:37)\nat org.gradle.execution.DefaultBuildExecuter.execute(DefaultBuildExecuter.java:30)\nat org.gradle.initialization.DefaultGradleLauncher$4.run(DefaultGradleLauncher.java:154)\nat org.gradle.internal.Factories$1.create(Factories.java:22)\nat org.gradle.internal.progress.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:90)\nat org.gradle.internal.progress.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:52)\nat org.gradle.initialization.DefaultGradleLauncher.doBuildStages(DefaultGradleLauncher.java:151)\nat org.gradle.initialization.DefaultGradleLauncher.access$200(DefaultGradleLauncher.java:32)\nat org.gradle.initialization.DefaultGradleLauncher$1.create(DefaultGradleLauncher.java:99)\nat org.gradle.initialization.DefaultGradleLauncher$1.create(DefaultGradleLauncher.java:93)\nat org.gradle.internal.progress.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:90)\nat org.gradle.internal.progress.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:62)\nat org.gradle.initialization.DefaultGradleLauncher.doBuild(DefaultGradleLauncher.java:93)\nat org.gradle.initialization.DefaultGradleLauncher.run(DefaultGradleLauncher.java:82)\nat org.gradle.launcher.exec.InProcessBuildActionExecuter$DefaultBuildController.run(InProcessBuildActionExecuter.java:94)\nat org.gradle.tooling.internal.provider.ExecuteBuildActionRunner.run(ExecuteBuildActionRunner.java:28)\nat org.gradle.launcher.exec.ChainingBuildActionRunner.run(ChainingBuildActionRunner.java:35)\nat org.gradle.launcher.exec.InProcessBuildActionExecuter.execute(InProcessBuildActionExecuter.java:43)\nat org.gradle.launcher.exec.InProcessBuildActionExecuter.execute(InProcessBuildActionExecuter.java:28)\nat org.gradle.launcher.exec.ContinuousBuildActionExecuter.execute(ContinuousBuildActionExecuter.java:78)\nat org.gradle.launcher.exec.ContinuousBuildActionExecuter.execute(ContinuousBuildActionExecuter.java:48)\nat org.gradle.launcher.exec.DaemonUsageSuggestingBuildActionExecuter.execute(DaemonUsageSuggestingBuildActionExecuter.java:51)\nat org.gradle.launcher.exec.DaemonUsageSuggestingBuildActionExecuter.execute(DaemonUsageSuggestingBuildActionExecuter.java:28)\nat org.gradle.launcher.cli.RunBuildAction.run(RunBuildAction.java:43)\nat org.gradle.internal.Actions$RunnableActionAdapter.execute(Actions.java:170)\nat org.gradle.launcher.cli.CommandLineActionFactory$ParseAndBuildAction.execute(CommandLineActionFactory.java:237)\nat org.gradle.launcher.cli.CommandLineActionFactory$ParseAndBuildAction.execute(CommandLineActionFactory.java:210)\nat org.gradle.launcher.cli.JavaRuntimeValidationAction.execute(JavaRuntimeValidationAction.java:35)\nat org.gradle.launcher.cli.JavaRuntimeValidationAction.execute(JavaRuntimeValidationAction.java:24)\nat org.gradle.launcher.cli.CommandLineActionFactory$WithLogging.execute(CommandLineActionFactory.java:206)\nat org.gradle.launcher.cli.CommandLineActionFactory$WithLogging.execute(CommandLineActionFactory.java:169)\nat org.gradle.launcher.cli.ExceptionReportingAction.execute(ExceptionReportingAction.java:33)\nat org.gradle.launcher.cli.ExceptionReportingAction.execute(ExceptionReportingAction.java:22)\nat org.gradle.launcher.Main.doAction(Main.java:33)\nat org.gradle.launcher.bootstrap.EntryPoint.run(EntryPoint.java:45)\nat org.gradle.launcher.bootstrap.ProcessBootstrap.runNoExit(ProcessBootstrap.java:54)\nat org.gradle.launcher.bootstrap.ProcessBootstrap.run(ProcessBootstrap.java:35)\nat org.gradle.launcher.GradleMain.main(GradleMain.java:23)\nat org.gradle.wrapper.BootstrapMainStarter.start(BootstrapMainStarter.java:30)\nat org.gradle.wrapper.WrapperExecutor.execute(WrapperExecutor.java:129)\nat org.gradle.wrapper.GradleWrapperMain.main(GradleWrapperMain.java:61)\nCaused by: java.lang.RuntimeException:\ncom.android.build.api.transform.TransformException:\ncom.android.ide.common.process.ProcessException:\njava.util.concurrent.ExecutionException:\ncom.android.ide.common.process.ProcessException:\norg.gradle.process.internal.ExecException: Process 'command\n '/opt/jdk/jdk1.8.0_45/bin/java'' finished with non-zero exit value 1\nat com.android.builder.profile.Recorder$Block.handleException(Recorder.java:54)\nat com.android.builder.profile.ThreadRecorder$1.record(ThreadRecorder.java:57)\nat com.android.builder.profile.ThreadRecorder$1.record(ThreadRecorder.java:47)\nat com.android.build.gradle.internal.pipeline.TransformTask.transform(TransformTask.java:173)\nat org.gradle.internal.reflect.JavaMethod.invoke(JavaMethod.java:75)\nat org.gradle.api.internal.project.taskfactory.AnnotationProcessingTaskFactory$IncrementalTaskAction.doExecute(AnnotationProcessingTaskFactory.java:244)\nat org.gradle.api.internal.project.taskfactory.AnnotationProcessingTaskFactory$StandardTaskAction.execute(AnnotationProcessingTaskFactory.java:220)\nat org.gradle.api.internal.project.taskfactory.AnnotationProcessingTaskFactory$IncrementalTaskAction.execute(AnnotationProcessingTaskFactory.java:231)\nat org.gradle.api.internal.project.taskfactory.AnnotationProcessingTaskFactory$StandardTaskAction.execute(AnnotationProcessingTaskFactory.java:209)\nat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeAction(ExecuteActionsTaskExecuter.java:80)\nat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeActions(ExecuteActionsTaskExecuter.java:61)\n         ... 60 more Caused by: com.android.build.api.transform.TransformException:&gt; com.android.ide.common.process.ProcessException:\njava.util.concurrent.ExecutionException:\ncom.android.ide.common.process.ProcessException:\norg.gradle.process.internal.ExecException: Process 'command\n '/opt/jdk/jdk1.8.0_45/bin/java'' finished with non-zero exit value 1\nat com.android.build.gradle.internal.transforms.DexTransform.transform(DexTransform.java:421)\nat com.android.build.gradle.internal.pipeline.TransformTask$3.call(TransformTask.java:178)\nat com.android.build.gradle.internal.pipeline.TransformTask$3.call(TransformTask.java:174)\nat com.android.builder.profile.ThreadRecorder$1.record(ThreadRecorder.java:55)\n         ... 69 more Caused by: com.android.ide.common.process.ProcessException:\njava.util.concurrent.ExecutionException:\ncom.android.ide.common.process.ProcessException:\norg.gradle.process.internal.ExecException: Process 'command\n '/opt/jdk/jdk1.8.0_45/bin/java'' finished with non-zero exit value 1\nat com.android.builder.core.AndroidBuilder.dexOutOfProcess(AndroidBuilder.java:1553)\nat com.android.builder.core.AndroidBuilder.runDexer(AndroidBuilder.java:1495)\nat com.android.builder.core.AndroidBuilder.convertByteCode(AndroidBuilder.java:1482)\n at com.android.build.gradle.internal.transforms.DexTransform.transform(DexTransform.java:251)\n         ... 72 more Caused by: java.util.concurrent.ExecutionException:\ncom.android.ide.common.process.ProcessException:\norg.gradle.process.internal.ExecException: Process 'command\n '/opt/jdk/jdk1.8.0_45/bin/java'' finished with non-zero exit value 1\nat com.android.builder.core.AndroidBuilder.dexOutOfProcess(AndroidBuilder.java:1549)\n        ... 75 more Caused by: com.android.ide.common.process.ProcessException:\norg.gradle.process.internal.ExecException: Process 'command\n '/opt/jdk/jdk1.8.0_45/bin/java'' finished with non-zero exit value 1\nat com.android.build.gradle.internal.process.GradleProcessResult.assertNormalExitValue(GradleProcessResult.java:43)\nat com.android.builder.core.AndroidBuilder$3.call(AndroidBuilder.java:1538)\nat com.android.builder.core.AndroidBuilder$3.call(AndroidBuilder.java:1531)\nCaused by: org.gradle.process.internal.ExecException: Process 'command\n '/opt/jdk/jdk1.8.0_45/bin/java'' finished with non-zero exit value 1\nat org.gradle.process.internal.DefaultExecHandle$ExecResultImpl.assertNormalExitValue(DefaultExecHandle.java:367)\nat com.android.build.gradle.internal.process.GradleProcessResult.assertNormalExitValue(GradleProcessResult.java:41)\n         ... 2 more\n</code></pre>\n\n<p><strong>Error while running application on device:</strong></p>\n\n<blockquote>\n  <p>Error:trouble processing \"java/awt/font/NumericShaper.class\":\n  Error:Ill-advised or mistaken usage of a core class (java.* or\n  javax.*) Error:when not building a core library. Error:This is often\n  due to inadvertently including a core library file Error:in your\n  application's project, when using an IDE (such as Error:Eclipse). If\n  you are sure you're not intentionally defining a Error:core class,\n  then this is the most likely explanation of what's Error:going on.\n  Error:However, you might actually be trying to define a class in a\n  core Error:namespace, the source of which you may have taken, for\n  example, Error:from a non-Android virtual machine project. This will\n  most Error:assuredly not work. At a minimum, it jeopardizes the\n  Error:compatibility of your app with future versions of the platform.\n  Error:It is also often of questionable legality. Error:If you really\n  intend to build a core library -- which is only Error:appropriate as\n  part of creating a full virtual machine Error:distribution, as opposed\n  to compiling an application -- then use Error:the \"--core-library\"\n  option to suppress this error message. Error:If you go ahead and use\n  \"--core-library\" but are in fact Error:building an application, then\n  be forewarned that your application Error:will still fail to build or\n  run, at some point. Please be Error:prepared for angry customers who\n  find, for example, that your Error:application ceases to function once\n  they upgrade their operating Error:system. You will be to blame for\n  this problem. Error:If you are legitimately using some code that\n  happens to be in a Error:core package, then the easiest safe\n  alternative you have is to Error:repackage that code. That is, move\n  the classes in question into Error:your own package namespace. This\n  means that they will never be in Error:conflict with core system\n  classes. JarJar is a tool that may help Error:you in this endeavor. If\n  you find that you cannot do this, then Error:that is an indication\n  that the path you are on will ultimately Error:lead to pain,\n  suffering, grief, and lamentation. Error:1 error; aborting\n  Error:Execution failed for task\n  ':app:transformClassesWithDexForDebug'.</p>\n  \n  <blockquote>\n    <p>com.android.build.api.transform.TransformException: com.android.ide.common.process.ProcessException:\n    java.util.concurrent.ExecutionException:\n    com.android.ide.common.process.ProcessException:\n    org.gradle.process.internal.ExecException: Process 'command\n    '/usr/lib/jvm/java-8-oracle/bin/java'' finished with non-zero exit\n    value 1 Information:BUILD FAILED</p>\n  </blockquote>\n</blockquote>\n\n<p>Where am I going wrong?</p>\n"},{"tags":["java","apache-kafka","windows-subsystem-for-linux","kafka-producer-api","wsl-2"],"answers":[{"tags":[],"owner":{"account_id":16329453,"reputation":505,"user_id":11793187,"display_name":"dannylee8"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1605828629,"creation_date":1605828629,"answer_id":64921590,"question_id":64177422,"body_markdown":"This is not the optimal solution, but you will be able to connect if you run your producer in Ubuntu/WSL.  This means if you are using a Windows IDE, writing the code, switching to Ubuntu and using a command line compiler and running the producer.  See this post https://stackoverflow.com/questions/62511091/error-connecting-to-kafka-server-via-ide-in-wsl2\r\n","title":"Unable to produce to Kafka topic that is running on WSL 2 from Windows","body":"<p>This is not the optimal solution, but you will be able to connect if you run your producer in Ubuntu/WSL.  This means if you are using a Windows IDE, writing the code, switching to Ubuntu and using a command line compiler and running the producer.  See this post <a href=\"https://stackoverflow.com/questions/62511091/error-connecting-to-kafka-server-via-ide-in-wsl2\">Error connecting to kafka server via IDE in WSL2</a></p>\n"},{"comments":[{"owner":{"account_id":8677319,"reputation":591,"user_id":6812826,"accept_rate":52,"display_name":"Andrew"},"score":0,"creation_date":1678125411,"post_id":65553634,"comment_id":133469114,"body_markdown":"It works. But I had an issue with my connection even after this changes. Then I looked on ubuntu kafka  server.log and there was an error &#39;ERROR Processor got uncaught exception. (kafka.network.Processor)&#39;, and I&#39;ve found that the issue also can be caused by kafka-clients version missmatch in your maven dependecies.  I&#39;am also recommend check this","body":"It works. But I had an issue with my connection even after this changes. Then I looked on ubuntu kafka  server.log and there was an error &#39;ERROR Processor got uncaught exception. (kafka.network.Processor)&#39;, and I&#39;ve found that the issue also can be caused by kafka-clients version missmatch in your maven dependecies.  I&#39;am also recommend check this"}],"tags":[],"owner":{"account_id":20358264,"reputation":131,"user_id":14933278,"display_name":"Goose"},"comment_count":1,"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1609699853,"creation_date":1609699853,"answer_id":65553634,"question_id":64177422,"body_markdown":"I had the exact problem you are having and I resolved it as follows:\r\n\r\n 1. I ran the following command in my WSL2 Ubuntu shell:\r\n    ip addr | grep &quot;eth0&quot;\r\n    I made note of the ip address against the inet property, for example, 172.27.10.68\r\n 2. In my Kafka server.properties I replaced the listeners property value as follows:\r\n    listeners=PLAINTEXT://172.27.10.68:9092\r\n    I commented out the advertised.listeners property. But you can alternatively assign\r\n    the ip in question to this property, and have the listeners property set to 0.0.0.0.\r\n    But I assume you are using the Kafka installation for testing/learning purposes, \r\n    so I would keep it simple.\r\n 3. I made no change to the Zookeeper&#39;s default ip:port\r\n 4. I am using the Schema Registry, so I modified the Kafka bootstrap property as follows:\r\n    kafkastore.bootstrap.servers=PLAINTEXT://172.27.10.68:9092\r\n    I made no change to the default schema registry listener listeners=http://0.0.0.0:8081\r\n 5. I used the same ip (as listed above) in my IntelliJ Kafka Producer. \r\n    It then happily connected to my Kafka broker in WSL2.\r\n\r\nMore information on WSL2 networking can be found at https://learn.microsoft.com/en-us/windows/wsl/compare-versions .\r\n\r\nThe only problem with this setup is that every time you shutdown or restart your Windows machine, or close your Ubuntu terminal, the ip address for eth0 changes. And this results in redoing steps 2, 4 and 5. I am sure there is a better way, but everything I tried failed, except for this.","title":"Unable to produce to Kafka topic that is running on WSL 2 from Windows","body":"<p>I had the exact problem you are having and I resolved it as follows:</p>\n<ol>\n<li>I ran the following command in my WSL2 Ubuntu shell:\nip addr | grep &quot;eth0&quot;\nI made note of the ip address against the inet property, for example, 172.27.10.68</li>\n<li>In my Kafka server.properties I replaced the listeners property value as follows:\nlisteners=PLAINTEXT://172.27.10.68:9092\nI commented out the advertised.listeners property. But you can alternatively assign\nthe ip in question to this property, and have the listeners property set to 0.0.0.0.\nBut I assume you are using the Kafka installation for testing/learning purposes,\nso I would keep it simple.</li>\n<li>I made no change to the Zookeeper's default ip:port</li>\n<li>I am using the Schema Registry, so I modified the Kafka bootstrap property as follows:\nkafkastore.bootstrap.servers=PLAINTEXT://172.27.10.68:9092\nI made no change to the default schema registry listener listeners=http://0.0.0.0:8081</li>\n<li>I used the same ip (as listed above) in my IntelliJ Kafka Producer.\nIt then happily connected to my Kafka broker in WSL2.</li>\n</ol>\n<p>More information on WSL2 networking can be found at <a href=\"https://learn.microsoft.com/en-us/windows/wsl/compare-versions\" rel=\"noreferrer\">https://learn.microsoft.com/en-us/windows/wsl/compare-versions</a> .</p>\n<p>The only problem with this setup is that every time you shutdown or restart your Windows machine, or close your Ubuntu terminal, the ip address for eth0 changes. And this results in redoing steps 2, 4 and 5. I am sure there is a better way, but everything I tried failed, except for this.</p>\n"},{"comments":[{"owner":{"account_id":10310146,"reputation":491,"user_id":7606244,"display_name":"jdawiz"},"score":2,"creation_date":1620333450,"post_id":66379094,"comment_id":119177743,"body_markdown":"This was a great solution.  up voted. Thanks!","body":"This was a great solution.  up voted. Thanks!"},{"owner":{"account_id":7455566,"reputation":2410,"user_id":5668956,"accept_rate":75,"display_name":"ThangLeQuoc"},"score":4,"creation_date":1623288568,"post_id":66379094,"comment_id":120038867,"body_markdown":"Thank you. A light note, inside the WSL2, we&#39;ll need to change the bootstrap server declaration in the CLI as well. E.g:\n`kafka-console-consumer.sh --bootstrap-server [::1]:9092 --topic my_topic`","body":"Thank you. A light note, inside the WSL2, we&#39;ll need to change the bootstrap server declaration in the CLI as well. E.g: <code>kafka-console-consumer.sh --bootstrap-server [::1]:9092 --topic my_topic</code>"},{"owner":{"account_id":5790692,"reputation":89,"user_id":4568273,"accept_rate":71,"display_name":"Hiresh"},"score":0,"creation_date":1643984274,"post_id":66379094,"comment_id":125490957,"body_markdown":"I am running the confluent platform in wsl - kafka runs after changing this, but the connect service does not run even after changing the bootstrap server props in connect related services","body":"I am running the confluent platform in wsl - kafka runs after changing this, but the connect service does not run even after changing the bootstrap server props in connect related services"},{"owner":{"account_id":13964222,"reputation":627,"user_id":10084505,"display_name":"Walnussb&#228;r"},"score":0,"creation_date":1650974160,"post_id":66379094,"comment_id":127246201,"body_markdown":"It should be noted however that the example applications (e. g. https://kafka.apache.org/31/documentation/streams/quickstart) don&#39;t work out of the box, as their code still uses localhost:9092 as host connection","body":"It should be noted however that the example applications (e. g. <a href=\"https://kafka.apache.org/31/documentation/streams/quickstart\" rel=\"nofollow noreferrer\">kafka.apache.org/31/documentation/streams/quickstart</a>) don&#39;t work out of the box, as their code still uses localhost:9092 as host connection"}],"tags":[],"owner":{"account_id":5903296,"reputation":381,"user_id":4646004,"display_name":"Ed P"},"comment_count":4,"down_vote_count":0,"up_vote_count":28,"is_accepted":false,"score":28,"last_activity_date":1614305054,"creation_date":1614305054,"answer_id":66379094,"question_id":64177422,"body_markdown":"Had this same issue. The root cause seems to be that WSL2 is broken with regards to IPv6 and localhost (See: https://github.com/microsoft/WSL/issues/4851)\r\n\r\nThe only fix I found that doesn&#39;t involve changing configs every time you reboot (per the &quot;172.*&quot; suggestion above) is to use the IPv6 loopback address ::1 in both the Kafka server config running in Linux and the Java client in Windows.\r\n\r\nIn server.properties I have this:\r\n```\r\nlisteners=PLAINTEXT://[::1]:9092\r\n```\r\n\r\nAnd likewise in my Java client bootstrap server config I use\r\n```\r\n&quot;[::1]:9092&quot;\r\n```","title":"Unable to produce to Kafka topic that is running on WSL 2 from Windows","body":"<p>Had this same issue. The root cause seems to be that WSL2 is broken with regards to IPv6 and localhost (See: <a href=\"https://github.com/microsoft/WSL/issues/4851\" rel=\"noreferrer\">https://github.com/microsoft/WSL/issues/4851</a>)</p>\n<p>The only fix I found that doesn't involve changing configs every time you reboot (per the &quot;172.*&quot; suggestion above) is to use the IPv6 loopback address ::1 in both the Kafka server config running in Linux and the Java client in Windows.</p>\n<p>In server.properties I have this:</p>\n<pre><code>listeners=PLAINTEXT://[::1]:9092\n</code></pre>\n<p>And likewise in my Java client bootstrap server config I use</p>\n<pre><code>&quot;[::1]:9092&quot;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1086310,"reputation":3296,"user_id":1081945,"accept_rate":57,"display_name":"Gautam"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1622202467,"creation_date":1622202467,"answer_id":67738246,"question_id":64177422,"body_markdown":"WSL2 runs on hypervisor and you need port proxy to connect Kafka Broker running on WSL2.\r\n\r\nStep 1 . Check you WSL2 IP using following command and copy inet value\r\n   \r\n    $ ifconfig\r\n    inet 172.X.X.X \r\n\r\nStep 2. Open cmd with Admin permsissions\r\n\r\n       netsh interface portproxy add v4tov4 listenport=9092 listenaddress=0.0.0.0 connectport=9092 connectaddress=172.X.X.X\r\n\r\nYou should be able to connect now\r\n\r\nNote : WSL2 IP changes everytime you restart machine\r\n\r\n","title":"Unable to produce to Kafka topic that is running on WSL 2 from Windows","body":"<p>WSL2 runs on hypervisor and you need port proxy to connect Kafka Broker running on WSL2.</p>\n<p>Step 1 . Check you WSL2 IP using following command and copy inet value</p>\n<pre><code>$ ifconfig\ninet 172.X.X.X \n</code></pre>\n<p>Step 2. Open cmd with Admin permsissions</p>\n<pre><code>   netsh interface portproxy add v4tov4 listenport=9092 listenaddress=0.0.0.0 connectport=9092 connectaddress=172.X.X.X\n</code></pre>\n<p>You should be able to connect now</p>\n<p>Note : WSL2 IP changes everytime you restart machine</p>\n"},{"tags":[],"owner":{"account_id":8391615,"reputation":91,"user_id":6300171,"display_name":"shijin raj"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1642786442,"creation_date":1642786442,"answer_id":70805375,"question_id":64177422,"body_markdown":"I am able to find a work around . Thanks to Goose&#39;s comments\r\n\r\n 1. I ran the following command in my WSL2 Ubuntu shell: ip addr \r\n 2. Then ip address against the inet property global eth0 . for example, inet 172.20.XXX.XXX/20 .... scope global eth0\r\n 3. I replaced all localhost with this IP address in the docker-compose.yml\r\n 4. I replaced the localhost with this IP address in springboot yml or properties file.\r\n 5. My Kafka producer and consumer able to connect to the Kafka running in Ubunti - WSL 2 from Windows\r\n\r\n","title":"Unable to produce to Kafka topic that is running on WSL 2 from Windows","body":"<p>I am able to find a work around . Thanks to Goose's comments</p>\n<ol>\n<li>I ran the following command in my WSL2 Ubuntu shell: ip addr</li>\n<li>Then ip address against the inet property global eth0 . for example, inet 172.20.XXX.XXX/20 .... scope global eth0</li>\n<li>I replaced all localhost with this IP address in the docker-compose.yml</li>\n<li>I replaced the localhost with this IP address in springboot yml or properties file.</li>\n<li>My Kafka producer and consumer able to connect to the Kafka running in Ubunti - WSL 2 from Windows</li>\n</ol>\n"},{"comments":[{"owner":{"account_id":9076634,"reputation":731,"user_id":7613058,"accept_rate":100,"display_name":"Kyle McClellan"},"score":0,"creation_date":1679521497,"post_id":71538344,"comment_id":133739160,"body_markdown":"This workaround seems best, since it&#39;s a one-time fix applied to the server and doesn&#39;t require changing client config. Also keeps the fix confined to WSL itself, which is where the bug supposedly is.","body":"This workaround seems best, since it&#39;s a one-time fix applied to the server and doesn&#39;t require changing client config. Also keeps the fix confined to WSL itself, which is where the bug supposedly is."}],"tags":[],"owner":{"account_id":3620665,"reputation":5242,"user_id":3019499,"accept_rate":82,"display_name":"Stephane Maarek"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1647694788,"creation_date":1647694788,"answer_id":71538344,"question_id":64177422,"body_markdown":"Stop Kafka and Zookeeper, then\r\n\r\nDisable IPv6 on WSL2:\r\n\r\n```\r\nsudo sysctl -w net.ipv6.conf.all.disable_ipv6=1\r\nsudo sysctl -w net.ipv6.conf.default.disable_ipv6=1\r\n```\r\n\r\nStart Kafka, and you&#39;re good to go!","title":"Unable to produce to Kafka topic that is running on WSL 2 from Windows","body":"<p>Stop Kafka and Zookeeper, then</p>\n<p>Disable IPv6 on WSL2:</p>\n<pre><code>sudo sysctl -w net.ipv6.conf.all.disable_ipv6=1\nsudo sysctl -w net.ipv6.conf.default.disable_ipv6=1\n</code></pre>\n<p>Start Kafka, and you're good to go!</p>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1664199840,"post_id":73806761,"comment_id":130410182,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/73806761/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":16535601,"reputation":21,"user_id":11963794,"display_name":"denise"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1664207488,"creation_date":1663793146,"answer_id":73806761,"question_id":64177422,"body_markdown":"I got this problem when running a kafka producer in IntelliJ and a consumer in ubuntu terminal while on WSL2. \r\n\r\nFirst, stop Kafka and Zookeeper. Then run these commands on WSL2, one by one:\r\n\r\n    sudo sysctl -w net.ipv6.conf.all.disable_ipv6=1\r\n    sudo sysctl -w net.ipv6.conf.default.disable_ipv6=1\r\n\r\nAfter that, in the kakfa folder, go to **config/server.properties** and edit the file to add the line:\r\n\r\n    listeners=PLAINTEXT://localhost:9092\r\n\r\nWhen these commands have succeeded relaunch zookeeper and kafka.\r\n\r\nhttps://www.conduktor.io/kafka/kafka-fundamentals","title":"Unable to produce to Kafka topic that is running on WSL 2 from Windows","body":"<p>I got this problem when running a kafka producer in IntelliJ and a consumer in ubuntu terminal while on WSL2.</p>\n<p>First, stop Kafka and Zookeeper. Then run these commands on WSL2, one by one:</p>\n<pre><code>sudo sysctl -w net.ipv6.conf.all.disable_ipv6=1\nsudo sysctl -w net.ipv6.conf.default.disable_ipv6=1\n</code></pre>\n<p>After that, in the kakfa folder, go to <strong>config/server.properties</strong> and edit the file to add the line:</p>\n<pre><code>listeners=PLAINTEXT://localhost:9092\n</code></pre>\n<p>When these commands have succeeded relaunch zookeeper and kafka.</p>\n<p><a href=\"https://www.conduktor.io/kafka/kafka-fundamentals\" rel=\"nofollow noreferrer\">https://www.conduktor.io/kafka/kafka-fundamentals</a></p>\n"},{"comments":[{"owner":{"account_id":20843053,"reputation":59,"user_id":15309228,"display_name":"omankame"},"score":0,"creation_date":1686386075,"post_id":75208054,"comment_id":134794135,"body_markdown":"I was strugguling and tried lot of option. Finally change server.properties as below. listeners=PLAINTEXT://:9092, advertised.listeners=PLAINTEXT://172.25.205.68:9092 please make note 172.25.205.68 need to be replace with your wsl2 address. and make chanes in java code like advertised.listeners=PLAINTEXT://172.25.205.68:9092 . That will  work.","body":"I was strugguling and tried lot of option. Finally change server.properties as below. listeners=PLAINTEXT://:9092, advertised.listeners=PLAINTEXT://172.25.205.68:9092 please make note 172.25.205.68 need to be replace with your wsl2 address. and make chanes in java code like advertised.listeners=PLAINTEXT://172.25.205.68:9092 . That will  work."}],"tags":[],"owner":{"account_id":13724825,"reputation":41,"user_id":9903878,"display_name":"Vijay Chaudhari"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674468775,"creation_date":1674468775,"answer_id":75208054,"question_id":64177422,"body_markdown":" 1. Edit the file **etc/sysctl.conf** and add following lines in it.\r\n\r\n    `net.ipv6.conf.all.disable_ipv6=1`\r\n\r\n    `net.ipv6.conf.default.disable_ipv6=1`\r\n\r\n 2. Replace `listeners=PLAINTEXT://:9092` with `listeners=PLAINTEXT://localhost:9092` in your server.properties.\r\n\r\n 3. Update the sysctl config by using the following command. (Everytime you restart your machine this command needs to be run to update the configuration)\r\n \r\n    `sudo sysctl -p`","title":"Unable to produce to Kafka topic that is running on WSL 2 from Windows","body":"<ol>\n<li><p>Edit the file <strong>etc/sysctl.conf</strong> and add following lines in it.</p>\n<p><code>net.ipv6.conf.all.disable_ipv6=1</code></p>\n<p><code>net.ipv6.conf.default.disable_ipv6=1</code></p>\n</li>\n<li><p>Replace <code>listeners=PLAINTEXT://:9092</code> with <code>listeners=PLAINTEXT://localhost:9092</code> in your server.properties.</p>\n</li>\n<li><p>Update the sysctl config by using the following command. (Everytime you restart your machine this command needs to be run to update the configuration)</p>\n<p><code>sudo sysctl -p</code></p>\n</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":29208947,"reputation":1,"user_id":22377397,"display_name":"Simon Sundarraj"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691800842,"creation_date":1691793018,"answer_id":76886983,"question_id":64177422,"body_markdown":"Step 1 \r\nDisable IPv6 on WSL2:\r\n\r\n    sudo sysctl -w net.ipv6.conf.all.disable_ipv6=1\r\n    \r\n    sudo sysctl -w net.ipv6.conf.default.disable_ipv6=1\r\n\r\nStep 2:\r\n\r\nIn `\\config\\server.properties` under Kafka folder\r\nReplace `listeners=PLAINTEXT://:9092 with listeners=PLAINTEXT://localhost:9092` in your `server.properties`.\r\n\r\nStep 3:\r\nIn WLS2 Ubuntu,\r\n\r\n    sudo sysctl -p\r\n\r\nAfter making above changes it worked for me in my local","title":"Unable to produce to Kafka topic that is running on WSL 2 from Windows","body":"<p>Step 1\nDisable IPv6 on WSL2:</p>\n<pre><code>sudo sysctl -w net.ipv6.conf.all.disable_ipv6=1\n\nsudo sysctl -w net.ipv6.conf.default.disable_ipv6=1\n</code></pre>\n<p>Step 2:</p>\n<p>In <code>\\config\\server.properties</code> under Kafka folder\nReplace <code>listeners=PLAINTEXT://:9092 with listeners=PLAINTEXT://localhost:9092</code> in your <code>server.properties</code>.</p>\n<p>Step 3:\nIn WLS2 Ubuntu,</p>\n<pre><code>sudo sysctl -p\n</code></pre>\n<p>After making above changes it worked for me in my local</p>\n"}],"owner":{"account_id":305461,"reputation":2991,"user_id":615636,"accept_rate":85,"display_name":"Viriato"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8316,"favorite_count":0,"down_vote_count":0,"up_vote_count":12,"answer_count":9,"score":12,"last_activity_date":1691800842,"creation_date":1601667936,"question_id":64177422,"body_markdown":"I am running the latest Kafka on Ubuntu WSL2 successfully. I can start zookeeper, kafka server, create topics, console produce and console consume just fine from within the Ubuntu that I have running on the WSL. However, when I go into my Intellij on Windows and create a simple Java Producer it does not seem to be able to connect to the broker\r\n\r\n**Versions &amp; Hostname**\r\n```\r\n    Java version: 1.8\r\n    Kafka Version: 2.6\r\n    hostname (from Ubuntu): KDAAPPDEV04\r\n    hostname (from Powershell): KDAAPPDEV04\r\n    java.net.InetAddress.getLocalHost().getHostName() = KDAAPPDEV04\r\n    java.net.InetAddress.getLocalHost().getCanonicalHostName() = KDAAPPDEV04\r\n    netstat from CMD:\r\n        TCP    [::1]:9092             [::]:0                 LISTENING\r\n```\r\n\r\n**server.properties**\r\nI found this settings on another SO answer but these did not work for me.\r\n```\r\nadvertised.listeners=PLAINTEXT://127.0.0.1:9092\r\nlistener.security.protocol.map=PLAINTEXT:PLAINTEXT\r\nlisteners=PLAINTEXT://0.0.0.0:9092\r\n```\r\n\r\nthen tried (and restarted zookeeper and kafka)\r\n\r\n```\r\nadvertised.listeners=PLAINTEXT://KDAAPPDEV04:9092\r\nlistener.security.protocol.map=PLAINTEXT:PLAINTEXT\r\nlisteners=PLAINTEXT://0.0.0.0:9092\r\n```\r\n\r\n**Producer**\r\n\r\nI run this producer with three different values: hostname, localhost and 127.0.0.1 but it never connects to the broker\r\n```\r\n    public class ProducerDemo{\r\n\r\n    private static Logger logger = LoggerFactory.getLogger(ProducerDemo.class);\r\n\r\n    public static void main(String[] args) throws UnknownHostException{\r\n\r\n        System.out.println(InetAddress.getLocalHost().getHostName());\r\n        System.out.println(InetAddress.getLocalHost().getCanonicalHostName());\r\n\r\n        String bootstrapServers = &quot;127.0.0.1:9092&quot;;\r\n//        String bootstrapServers = &quot;localhost:9092&quot;;\r\n//        String bootstrapServers = &quot;KDAAPPDEV04:9092&quot;;\r\n\r\n        //create Producer properties\r\n        Properties properties = new Properties();\r\n        properties.setProperty(ProducerConfig.BOOTSTRAP_SERVERS_CONFIG,bootstrapServers);\r\n        properties.setProperty(ProducerConfig.KEY_SERIALIZER_CLASS_CONFIG, StringSerializer.class.getName());\r\n        properties.setProperty(ProducerConfig.VALUE_SERIALIZER_CLASS_CONFIG,StringSerializer.class.getName());\r\n\r\n        //create the producer\r\n        KafkaProducer&lt;String,String&gt; producer = new KafkaProducer&lt;String, String&gt;(properties);\r\n\r\n        //create a producer record\r\n        ProducerRecord&lt;String,String&gt; record = new ProducerRecord&lt;String, String&gt;(&quot;first-topic&quot;,&quot;hola mundo&quot;);\r\n\r\n        //send data\r\n        producer.send(record);\r\n\r\n        //flush + close\r\n        producer.flush();\r\n        producer.close();\r\n    }\r\n}\r\n```\r\n\r\n**Error**\r\n```\r\n[main] INFO org.apache.kafka.common.utils.AppInfoParser - Kafka version: 2.6.0\r\n[main] INFO org.apache.kafka.common.utils.AppInfoParser - Kafka commitId: 62abe01bee039651\r\n[main] INFO org.apache.kafka.common.utils.AppInfoParser - Kafka startTimeMs: 1601666175706\r\n[kafka-producer-network-thread | producer-1] WARN org.apache.kafka.clients.NetworkClient - [Producer clientId=producer-1] Connection to node -1 (KDAAPPDEV04/my-ipconfig-address-here:9092) could not be established. Broker may not be available.\r\n```\r\n\r\n\r\n ","title":"Unable to produce to Kafka topic that is running on WSL 2 from Windows","body":"<p>I am running the latest Kafka on Ubuntu WSL2 successfully. I can start zookeeper, kafka server, create topics, console produce and console consume just fine from within the Ubuntu that I have running on the WSL. However, when I go into my Intellij on Windows and create a simple Java Producer it does not seem to be able to connect to the broker</p>\n<p><strong>Versions &amp; Hostname</strong></p>\n<pre><code>    Java version: 1.8\n    Kafka Version: 2.6\n    hostname (from Ubuntu): KDAAPPDEV04\n    hostname (from Powershell): KDAAPPDEV04\n    java.net.InetAddress.getLocalHost().getHostName() = KDAAPPDEV04\n    java.net.InetAddress.getLocalHost().getCanonicalHostName() = KDAAPPDEV04\n    netstat from CMD:\n        TCP    [::1]:9092             [::]:0                 LISTENING\n</code></pre>\n<p><strong>server.properties</strong>\nI found this settings on another SO answer but these did not work for me.</p>\n<pre><code>advertised.listeners=PLAINTEXT://127.0.0.1:9092\nlistener.security.protocol.map=PLAINTEXT:PLAINTEXT\nlisteners=PLAINTEXT://0.0.0.0:9092\n</code></pre>\n<p>then tried (and restarted zookeeper and kafka)</p>\n<pre><code>advertised.listeners=PLAINTEXT://KDAAPPDEV04:9092\nlistener.security.protocol.map=PLAINTEXT:PLAINTEXT\nlisteners=PLAINTEXT://0.0.0.0:9092\n</code></pre>\n<p><strong>Producer</strong></p>\n<p>I run this producer with three different values: hostname, localhost and 127.0.0.1 but it never connects to the broker</p>\n<pre><code>    public class ProducerDemo{\n\n    private static Logger logger = LoggerFactory.getLogger(ProducerDemo.class);\n\n    public static void main(String[] args) throws UnknownHostException{\n\n        System.out.println(InetAddress.getLocalHost().getHostName());\n        System.out.println(InetAddress.getLocalHost().getCanonicalHostName());\n\n        String bootstrapServers = &quot;127.0.0.1:9092&quot;;\n//        String bootstrapServers = &quot;localhost:9092&quot;;\n//        String bootstrapServers = &quot;KDAAPPDEV04:9092&quot;;\n\n        //create Producer properties\n        Properties properties = new Properties();\n        properties.setProperty(ProducerConfig.BOOTSTRAP_SERVERS_CONFIG,bootstrapServers);\n        properties.setProperty(ProducerConfig.KEY_SERIALIZER_CLASS_CONFIG, StringSerializer.class.getName());\n        properties.setProperty(ProducerConfig.VALUE_SERIALIZER_CLASS_CONFIG,StringSerializer.class.getName());\n\n        //create the producer\n        KafkaProducer&lt;String,String&gt; producer = new KafkaProducer&lt;String, String&gt;(properties);\n\n        //create a producer record\n        ProducerRecord&lt;String,String&gt; record = new ProducerRecord&lt;String, String&gt;(&quot;first-topic&quot;,&quot;hola mundo&quot;);\n\n        //send data\n        producer.send(record);\n\n        //flush + close\n        producer.flush();\n        producer.close();\n    }\n}\n</code></pre>\n<p><strong>Error</strong></p>\n<pre><code>[main] INFO org.apache.kafka.common.utils.AppInfoParser - Kafka version: 2.6.0\n[main] INFO org.apache.kafka.common.utils.AppInfoParser - Kafka commitId: 62abe01bee039651\n[main] INFO org.apache.kafka.common.utils.AppInfoParser - Kafka startTimeMs: 1601666175706\n[kafka-producer-network-thread | producer-1] WARN org.apache.kafka.clients.NetworkClient - [Producer clientId=producer-1] Connection to node -1 (KDAAPPDEV04/my-ipconfig-address-here:9092) could not be established. Broker may not be available.\n</code></pre>\n"},{"tags":["java","hibernate","jpa","persistence"],"comments":[{"owner":{"account_id":195331,"reputation":275428,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":0,"creation_date":1388260638,"post_id":20818737,"comment_id":31217845,"body_markdown":"Please format the XML correctly. Get rid of all those `&gt;`.","body":"Please format the XML correctly. Get rid of all those <code>&gt;</code>."},{"owner":{"account_id":3089345,"reputation":2557,"user_id":2615824,"accept_rate":70,"display_name":"MGorgon"},"score":0,"creation_date":1388262031,"post_id":20818737,"comment_id":31218268,"body_markdown":"I ran to this same issue few weeks ago. Are you creating entityManagerFactory manually? It looks like you are passing &quot;persistence.xml&quot; to constructor, which can&#39;t open/find this file. For me, everything worked fine when entity manager was created by container.","body":"I ran to this same issue few weeks ago. Are you creating entityManagerFactory manually? It looks like you are passing &quot;persistence.xml&quot; to constructor, which can&#39;t open/find this file. For me, everything worked fine when entity manager was created by container."}],"answers":[{"comments":[{"owner":{"account_id":3742871,"reputation":1001,"user_id":3112263,"accept_rate":75,"display_name":"csf"},"score":1,"creation_date":1388363769,"post_id":20818942,"comment_id":31242475,"body_markdown":"The JPA is version 2.1. When I put the tag xml version 1.0 of the error","body":"The JPA is version 2.1. When I put the tag xml version 1.0 of the error"}],"tags":[],"owner":{"account_id":2288668,"reputation":5285,"user_id":2012130,"accept_rate":64,"display_name":"Oliver Shaw"},"comment_count":1,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1388261784,"creation_date":1388261784,"answer_id":20818942,"question_id":20818737,"body_markdown":"There is something slightly wrong with the XML provided, perhaps a missing version, perhaps the XML definition. Could also be a strange character or a typo somewhere.\r\n\r\nA working template is below, try that instead.\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;persistence xmlns=&quot;http://java.sun.com/xml/ns/persistence&quot;\r\n             xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n             xsi:schemaLocation=&quot;http://java.sun.com/xml/ns/persistence http://java.sun.com/xml/ns/persistence/persistence_2_0.xsd&quot;\r\n             version=&quot;2.0&quot;&gt;\r\n    ....\r\n    &lt;/persistence&gt; ","title":"Can not find the declaration of element &#39;persistence&#39;","body":"<p>There is something slightly wrong with the XML provided, perhaps a missing version, perhaps the XML definition. Could also be a strange character or a typo somewhere.</p>\n\n<p>A working template is below, try that instead.</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;persistence xmlns=\"http://java.sun.com/xml/ns/persistence\"\n         xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n         xsi:schemaLocation=\"http://java.sun.com/xml/ns/persistence http://java.sun.com/xml/ns/persistence/persistence_2_0.xsd\"\n         version=\"2.0\"&gt;\n....\n&lt;/persistence&gt; \n</code></pre>\n"},{"comments":[{"owner":{"account_id":44871,"reputation":22865,"user_id":131929,"accept_rate":83,"display_name":"Marcel St&#246;r"},"score":9,"creation_date":1390248441,"post_id":20838961,"comment_id":32000845,"body_markdown":"&quot;I do not know exactly what was wrong&quot; - in my answer I told you exactly what was wrong. Pick the correct answer: http://meta.stackoverflow.com/help/someone-answers","body":"&quot;I do not know exactly what was wrong&quot; - in my answer I told you exactly what was wrong. Pick the correct answer: <a href=\"http://meta.stackoverflow.com/help/someone-answers\">meta.stackoverflow.com/help/someone-answers</a>"}],"tags":[],"owner":{"account_id":3742871,"reputation":1001,"user_id":3112263,"accept_rate":75,"display_name":"csf"},"comment_count":1,"down_vote_count":7,"up_vote_count":1,"is_accepted":true,"score":-6,"last_activity_date":1388404245,"creation_date":1388404245,"answer_id":20838961,"question_id":20818737,"body_markdown":"Solved!\r\n\r\nI do not know exactly what was wrong, but it worked well:\r\n\r\n\r\n    &lt;persistence version=&quot;2.0&quot;   \r\n    xmlns=&quot;http://java.sun.com/xml/ns/persistence&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;   \r\n    xsi:schemaLocation=&quot;http://java.sun.com/xml/ns/persistence http://java.sun.com/xml/ns/persistence/persistence_2_0.xsd&quot;&gt;    \r\n     \r\n    &lt;persistence-unit name=&quot;default&quot; transaction-type=&quot;RESOURCE_LOCAL&quot;&gt;    \r\n        &lt;provider&gt;org.hibernate.ejb.HibernatePersistence&lt;/provider&gt;    \r\n     \r\n        &lt;properties&gt;    \r\n            &lt;property name=&quot;javax.persistence.jdbc.driver&quot; value=&quot;org.postgresql.Driver&quot; /&gt;    \r\n            &lt;property name=&quot;javax.persistence.jdbc.url&quot; value=&quot;jdbc:postgresql://localhost:5432/Automoveis&quot; /&gt;    \r\n            &lt;property name=&quot;javax.persistence.jdbc.user&quot; value=&quot;postgres&quot; /&gt;    \r\n            &lt;property name=&quot;javax.persistence.jdbc.password&quot; value=&quot;1234&quot; /&gt;    \r\n            &lt;property name=&quot;hibernate.dialect&quot; value=&quot;org.hibernate.dialect.PostgreSQLDialect&quot; /&gt;               \r\n            &lt;property name=&quot;hibernate.hbm2ddl.auto&quot; value=&quot;update&quot; /&gt;    \r\n            &lt;property name=&quot;hibernate.show_sql&quot; value=&quot;true&quot; /&gt;    \r\n            &lt;property name=&quot;hibernate.format_sql&quot; value=&quot;true&quot;/&gt;    \r\n        &lt;/properties&gt;    \r\n    &lt;/persistence-unit&gt;    \r\n&lt;/persistence&gt; ","title":"Can not find the declaration of element &#39;persistence&#39;","body":"<p>Solved!</p>\n\n<p>I do not know exactly what was wrong, but it worked well:</p>\n\n<pre><code>&lt;persistence version=\"2.0\"   \nxmlns=\"http://java.sun.com/xml/ns/persistence\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"   \nxsi:schemaLocation=\"http://java.sun.com/xml/ns/persistence http://java.sun.com/xml/ns/persistence/persistence_2_0.xsd\"&gt;    \n\n&lt;persistence-unit name=\"default\" transaction-type=\"RESOURCE_LOCAL\"&gt;    \n    &lt;provider&gt;org.hibernate.ejb.HibernatePersistence&lt;/provider&gt;    \n\n    &lt;properties&gt;    \n        &lt;property name=\"javax.persistence.jdbc.driver\" value=\"org.postgresql.Driver\" /&gt;    \n        &lt;property name=\"javax.persistence.jdbc.url\" value=\"jdbc:postgresql://localhost:5432/Automoveis\" /&gt;    \n        &lt;property name=\"javax.persistence.jdbc.user\" value=\"postgres\" /&gt;    \n        &lt;property name=\"javax.persistence.jdbc.password\" value=\"1234\" /&gt;    \n        &lt;property name=\"hibernate.dialect\" value=\"org.hibernate.dialect.PostgreSQLDialect\" /&gt;               \n        &lt;property name=\"hibernate.hbm2ddl.auto\" value=\"update\" /&gt;    \n        &lt;property name=\"hibernate.show_sql\" value=\"true\" /&gt;    \n        &lt;property name=\"hibernate.format_sql\" value=\"true\"/&gt;    \n    &lt;/properties&gt;    \n&lt;/persistence-unit&gt;    \n</code></pre>\n\n<p> </p>\n"},{"tags":[],"owner":{"account_id":44871,"reputation":22865,"user_id":131929,"accept_rate":83,"display_name":"Marcel St&#246;r"},"comment_count":0,"down_vote_count":0,"up_vote_count":48,"is_accepted":false,"score":48,"last_activity_date":1438454421,"creation_date":1389708061,"answer_id":21115437,"question_id":20818737,"body_markdown":"The problem is that you mix JPA 2.0 and JPA 2.1 notation.\r\n\r\nEither this\r\n\r\n    &lt;persistence xmlns=&quot;http://xmlns.jcp.org/xml/ns/persistence&quot;\r\n                 xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n                 xsi:schemaLocation=&quot;http://xmlns.jcp.org/xml/ns/persistence\r\n                                     http://xmlns.jcp.org/xml/ns/persistence/persistence_2_1.xsd&quot;\r\n      version=&quot;2.1&quot;&gt;\r\n\r\nfor JPA 2.1 or this\r\n\r\n    &lt;persistence xmlns=&quot;http://java.sun.com/xml/ns/persistence&quot;\r\n                 xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n                 xsi:schemaLocation=&quot;http://java.sun.com/xml/ns/persistence\r\n                          http://java.sun.com/xml/ns/persistence/persistence_2_0.xsd&quot;\r\n      version=&quot;2.0&quot;&gt;\r\n\r\nfor JPA 2 but not a mix thereof.\r\n\r\nSee http://www.oracle.com/webfolder/technetwork/jsc/xml/ns/persistence/index.html for details.","title":"Can not find the declaration of element &#39;persistence&#39;","body":"<p>The problem is that you mix JPA 2.0 and JPA 2.1 notation.</p>\n\n<p>Either this</p>\n\n<pre><code>&lt;persistence xmlns=\"http://xmlns.jcp.org/xml/ns/persistence\"\n             xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n             xsi:schemaLocation=\"http://xmlns.jcp.org/xml/ns/persistence\n                                 http://xmlns.jcp.org/xml/ns/persistence/persistence_2_1.xsd\"\n  version=\"2.1\"&gt;\n</code></pre>\n\n<p>for JPA 2.1 or this</p>\n\n<pre><code>&lt;persistence xmlns=\"http://java.sun.com/xml/ns/persistence\"\n             xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n             xsi:schemaLocation=\"http://java.sun.com/xml/ns/persistence\n                      http://java.sun.com/xml/ns/persistence/persistence_2_0.xsd\"\n  version=\"2.0\"&gt;\n</code></pre>\n\n<p>for JPA 2 but not a mix thereof.</p>\n\n<p>See <a href=\"http://www.oracle.com/webfolder/technetwork/jsc/xml/ns/persistence/index.html\" rel=\"noreferrer\">http://www.oracle.com/webfolder/technetwork/jsc/xml/ns/persistence/index.html</a> for details.</p>\n"},{"tags":[],"owner":{"account_id":1668716,"reputation":2369,"user_id":1535606,"accept_rate":21,"display_name":"Arun Chandrasekaran"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1447182583,"creation_date":1447182073,"answer_id":33637535,"question_id":20818737,"body_markdown":"I have faced similar problem (Cannot find the declaration of element &#39;entity-mappings&#39;) in the past when I had persistence.xml with JPA version 2.0 &amp; orm.xml file with version 2.1. I think the error reported above are similar.\r\n\r\nWorking samples for JPA 2. Read the sample below carefully and note their version. Ensure they are of same versions as in the samples. You may use JPA 2.1 and approprite schema reference as well.\r\n\r\n**persistence.xml**\r\n\r\n    &lt;persistence version=&quot;2.0&quot; xmlns=&quot;http://java.sun.com/xml/ns/persistence&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n              xsi:schemaLocation=&quot;http://java.sun.com/xml/ns/persistence http://java.sun.com/xml/ns/persistence/persistence_2_0.xsd&quot;&gt;\r\n    \t&lt;persistence-unit name=&quot;SANJUSEJB&quot; transaction-type=&quot;JTA&quot;&gt;\r\n    \t\t&lt;jta-data-source&gt;jdbc/sanjusDataSourceXA&lt;/jta-data-source&gt;\r\n    \t\t&lt;mapping-file&gt;META-INF/orm.xml&lt;/mapping-file&gt;\r\n    \t\t&lt;class&gt;org.sanjus.pa.ejb.entity.UserEntity&lt;/class&gt;\r\n    \t&lt;/persistence-unit&gt;\r\n    &lt;/persistence&gt;\r\n\r\n**orm.xml**\r\n\r\n    &lt;entity-mappings xmlns=&quot;http://java.sun.com/xml/ns/persistence/orm&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n          xsi:schemaLocation=&quot;http://java.sun.com/xml/ns/persistence/orm orm_2_0.xsd&quot; version=&quot;2.0&quot;&gt;\r\n    \t&lt;named-query name=&quot;findUserJSONById&quot;&gt;\r\n    \t\t&lt;query&gt;SELECT a.userJson FROM UserEntity a WHERE a.userId = :userId&lt;/query&gt;\r\n    \t&lt;/named-query&gt;\r\n    &lt;/entity-mappings&gt;\r\n\r\n","title":"Can not find the declaration of element &#39;persistence&#39;","body":"<p>I have faced similar problem (Cannot find the declaration of element 'entity-mappings') in the past when I had persistence.xml with JPA version 2.0 &amp; orm.xml file with version 2.1. I think the error reported above are similar.</p>\n\n<p>Working samples for JPA 2. Read the sample below carefully and note their version. Ensure they are of same versions as in the samples. You may use JPA 2.1 and approprite schema reference as well.</p>\n\n<p><strong>persistence.xml</strong></p>\n\n<pre><code>&lt;persistence version=\"2.0\" xmlns=\"http://java.sun.com/xml/ns/persistence\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n          xsi:schemaLocation=\"http://java.sun.com/xml/ns/persistence http://java.sun.com/xml/ns/persistence/persistence_2_0.xsd\"&gt;\n    &lt;persistence-unit name=\"SANJUSEJB\" transaction-type=\"JTA\"&gt;\n        &lt;jta-data-source&gt;jdbc/sanjusDataSourceXA&lt;/jta-data-source&gt;\n        &lt;mapping-file&gt;META-INF/orm.xml&lt;/mapping-file&gt;\n        &lt;class&gt;org.sanjus.pa.ejb.entity.UserEntity&lt;/class&gt;\n    &lt;/persistence-unit&gt;\n&lt;/persistence&gt;\n</code></pre>\n\n<p><strong>orm.xml</strong></p>\n\n<pre><code>&lt;entity-mappings xmlns=\"http://java.sun.com/xml/ns/persistence/orm\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n      xsi:schemaLocation=\"http://java.sun.com/xml/ns/persistence/orm orm_2_0.xsd\" version=\"2.0\"&gt;\n    &lt;named-query name=\"findUserJSONById\"&gt;\n        &lt;query&gt;SELECT a.userJson FROM UserEntity a WHERE a.userId = :userId&lt;/query&gt;\n    &lt;/named-query&gt;\n&lt;/entity-mappings&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":27471043,"reputation":1,"user_id":20959944,"display_name":"Naman Madharia"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691798995,"creation_date":1691798995,"answer_id":76887261,"question_id":20818737,"body_markdown":"If you have copy pasted code from older versions then you might be importing the annotation using javax but it has been changed to jakarta. You would have missed this dependency- Spring data JPA for Maven projects. \r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n\r\nadd this one in your POM under the dependencies section and then use ctrl+click on @Entity to import it from.\r\n\r\nEarlier it was like this:\r\n\r\n    import javax.persistence.Entity;\r\n\r\nand then changed to:\r\n\r\n    import jakarta.persistence.Entity;\r\n\r\n","title":"Can not find the declaration of element &#39;persistence&#39;","body":"<p>If you have copy pasted code from older versions then you might be importing the annotation using javax but it has been changed to jakarta. You would have missed this dependency- Spring data JPA for Maven projects.</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>add this one in your POM under the dependencies section and then use ctrl+click on @Entity to import it from.</p>\n<p>Earlier it was like this:</p>\n<pre><code>import javax.persistence.Entity;\n</code></pre>\n<p>and then changed to:</p>\n<pre><code>import jakarta.persistence.Entity;\n</code></pre>\n"}],"owner":{"account_id":3742871,"reputation":1001,"user_id":3112263,"accept_rate":75,"display_name":"csf"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":25201,"favorite_count":0,"down_vote_count":0,"up_vote_count":23,"accepted_answer_id":20838961,"answer_count":5,"score":23,"last_activity_date":1691798995,"creation_date":1388260584,"question_id":20818737,"body_markdown":"Have put the persistence.xml in the classpath of the project in eclipse\r\nbecause before the error was that the file was not found.\r\nNow gives this error:\r\n\r\n&gt; Caused by: javax.persistence.PersistenceException: Invalid\r\n&gt; persistence.xml. Error parsing XML [line : -1, column : -1] :\r\n&gt; cvc-elt.1: Can not find the declaration of element &#39;persistence&#39;\r\n\r\n    &lt;persistence xmlns=&quot;http://java.sun.com/xml/ns/persistence&quot;\r\n                 xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; version=&quot;2.1&quot;\r\n                 xsi:schemalocation=&quot;http://java.sun.com/xml/ns/persistence\r\n                                     http://java.sun.com/xml/ns/persistence/persistence_2_1.xsd&quot;&gt;\r\n        &lt;persistence-unit name=&quot;default&quot; transaction-type=&quot;RESOURCE_LOCAL&quot;&gt;\r\n            &lt;provider&gt;org.hibernate.ejb.HibernatePersistence&lt;/provider&gt;\r\n            &lt;properties&gt;\r\n                &lt;property name=&quot;hibernate.dialect&quot; value=&quot;org.hibernate.dialect.PostgreSQLDialect&quot; /&gt;\r\n                &lt;property name=&quot;javax.persistence.jdbc.url&quot; value=&quot;jdbc:postgresql://localhost:5432/Automoveis&quot; /&gt;\r\n                &lt;property name=&quot;javax.persistence.jdbc.user&quot; value=&quot;postgres&quot; /&gt;\r\n                &lt;property name=&quot;javax.persistence.jdbc.password&quot; value=&quot;1234&quot; /&gt;\r\n                &lt;property name=&quot;javax.persistence.jdbc.driver&quot; value=&quot;org.postgresql.jdbc.Driver&quot; /&gt;\r\n                &lt;property name=&quot;hibernate.show_sql&quot; value=&quot;true&quot; /&gt;\r\n                &lt;property name=&quot;hibernate.format_sql&quot; value=&quot;true&quot; /&gt;\r\n                &lt;property name=&quot;hibernate.hbm2ddl.auto&quot; value=&quot;create&quot; /&gt;\r\n            &lt;/properties&gt;\r\n        &lt;/persistence-unit&gt;\r\n    &lt;/persistence&gt;","title":"Can not find the declaration of element &#39;persistence&#39;","body":"<p>Have put the persistence.xml in the classpath of the project in eclipse\nbecause before the error was that the file was not found.\nNow gives this error:</p>\n\n<blockquote>\n  <p>Caused by: javax.persistence.PersistenceException: Invalid\n  persistence.xml. Error parsing XML [line : -1, column : -1] :\n  cvc-elt.1: Can not find the declaration of element 'persistence'</p>\n</blockquote>\n\n<pre><code>&lt;persistence xmlns=\"http://java.sun.com/xml/ns/persistence\"\n             xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" version=\"2.1\"\n             xsi:schemalocation=\"http://java.sun.com/xml/ns/persistence\n                                 http://java.sun.com/xml/ns/persistence/persistence_2_1.xsd\"&gt;\n    &lt;persistence-unit name=\"default\" transaction-type=\"RESOURCE_LOCAL\"&gt;\n        &lt;provider&gt;org.hibernate.ejb.HibernatePersistence&lt;/provider&gt;\n        &lt;properties&gt;\n            &lt;property name=\"hibernate.dialect\" value=\"org.hibernate.dialect.PostgreSQLDialect\" /&gt;\n            &lt;property name=\"javax.persistence.jdbc.url\" value=\"jdbc:postgresql://localhost:5432/Automoveis\" /&gt;\n            &lt;property name=\"javax.persistence.jdbc.user\" value=\"postgres\" /&gt;\n            &lt;property name=\"javax.persistence.jdbc.password\" value=\"1234\" /&gt;\n            &lt;property name=\"javax.persistence.jdbc.driver\" value=\"org.postgresql.jdbc.Driver\" /&gt;\n            &lt;property name=\"hibernate.show_sql\" value=\"true\" /&gt;\n            &lt;property name=\"hibernate.format_sql\" value=\"true\" /&gt;\n            &lt;property name=\"hibernate.hbm2ddl.auto\" value=\"create\" /&gt;\n        &lt;/properties&gt;\n    &lt;/persistence-unit&gt;\n&lt;/persistence&gt;\n</code></pre>\n"},{"tags":["java","android","google-play-integrity-api"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1691633177,"post_id":76871841,"comment_id":135518971,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":16182532,"reputation":69,"user_id":12622090,"display_name":"danny"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":612,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1691796308,"creation_date":1691623852,"question_id":76871841,"body_markdown":"The final solution in this post was amazing and saved me tons of work and helped me to better understand the API:\r\n\r\nhttps://stackoverflow.com/a/72511785/12622090\r\n\r\nWhen I run my app on a real device using WiFi pairing from Android studio, everything works flawlessly. However, in Production, the API call consistently fails with the following error message:\r\n\r\n*Integrity API error (-12): Unknown internal Google server error.\r\nRetry with an exponential backoff. Consider filing a bug if fails consistently.\r\n (https://developer.android.com/google/play/integrity/reference/com/google/android/play/core/integrity/model/IntegrityErrorCode.html#GOOGLE_SERVER_UNAVAILABLE).*\r\n\r\n\r\nMy gut tells me that the problem must have something to do with obfuscation, Google App Signing, or some undocumented need for another set of &quot;credentials&quot; in the Google Console for the Production deployment. \r\n\r\nHas anyone run up against this and found a solution?\r\n\r\nUPDATE: \r\n\r\nI&#39;ve determined that the issue is related to ProGuard obfuscation, but it&#39;s not clear why. If I set minifyEnabled true in my Gradle for DEBUG, I can reproduce the exception. If I turn off minify in a Production upload, the issue goes away. What doesn&#39;t make sense is the exception is permissions/account related.\r\n\r\nThe underlying exception is:\r\n\r\n    Error getting access token for service account: 400 Bad Request\r\n    POST https://oauth2.googleapis.com/token\r\n    {&quot;error&quot;:&quot;invalid_grant&quot;,&quot;error_description&quot;:&quot;Invalid grant: account not found&quot;}, iss: account-email-from-json-file-iam.gserviceaccount.com\r\n    class: com.google.auth.oauth2.OAuth2Credentials$1.call  [OAuth2Credentials.java  line: 257]\r\n    class: com.google.auth.oauth2.OAuth2Credentials$1.call  [OAuth2Credentials.java  line: 254]\r\n    class: java.util.concurrent.FutureTask.run  [FutureTask.java  line: 264]\r\n    class: com.google.common.util.concurrent.DirectExecutor.execute  [DirectExecutor.java  line: 31]\r\n    class: com.google.auth.oauth2.OAuth2Credentials$AsyncRefreshResult.executeIfNew  [OAuth2Credentials.java  line: 580]\r\n    class: com.google.auth.oauth2.OAuth2Credentials.asyncFetch  [OAuth2Credentials.java  line: 220]\r\n    class: com.google.auth.oauth2.OAuth2Credentials.getRequestMetadata  [OAuth2Credentials.java  line: 170]\r\n    class: com.google.auth.oauth2.ServiceAccountCredentials.getRequestMetadata  [ServiceAccountCredentials.java  line: 967]\r\n    class: com.google.auth.http.HttpCredentialsAdapter.initialize  [HttpCredentialsAdapter.java  line: 96]\r\n    class: com.google.api.client.http.HttpRequestFactory.buildRequest  [HttpRequestFactory.java  line: 91]\r\n    class: com.google.api.client.googleapis.services.AbstractGoogleClientRequest.buildHttpRequest  [AbstractGoogleClientRequest.java  line: 404]\r\n    class: com.google.api.client.googleapis.services.AbstractGoogleClientRequest.executeUnparsed  [AbstractGoogleClientRequest.java  line: 514]\r\n    class: com.google.api.client.googleapis.services.AbstractGoogleClientRequest.executeUnparsed  [AbstractGoogleClientRequest.java  line: 455]\r\n    class: com.google.api.client.googleapis.services.AbstractGoogleClientRequest.execute  [AbstractGoogleClientRequest.java  line: 565]\r\n\r\nAny help would be appreciated. This is driving me nuts!\r\n\r\nMY SOLUTION: I hope this works for someone else given the fact that I&#39;ve benefited from others on stackoverflow many, many times!\r\n\r\nI ended up adding the following to my proguard rules and the issue &quot;appears&quot; to have been resolved. I don&#39;t completely understand the solution because it still fails on the Google &quot;review devices&quot;, but at least I&#39;m able to move on after about 65 hours because it works on my test devices:\r\n\r\n    #adding for PlayIntegrity API that bombs with obfuscation\r\n    -keep class com.google.api.services.playintegrity.** { *; } #REQUIRED\r\n    -keep class com.google.api.client.** { *; } #REQUIRED\r\n\r\nThe next &quot;class action suit&quot; against Google needs to be for their pitiful documentation and their failure to be true &quot;partners&quot;. They appear to be comfortable with deprecating things like SafetyNet and then publishing inadequate documentation for the replacement solutions while still taking their &quot;cut of the revenue&quot;. In the meantime, we Indie developers spend 100s of (non-compensated) hours trying to get their nonsense to work. Google documentation is a joke; were it not for stackoverflow, much of what they provide would not be usable. \r\n\r\nWith respect to the PlayIntegrity API, it wouldn&#39;t be as necessary/critical if it wasn&#39;t so simple to reverse-engineer a Google/Java application. That being the case, Google, as a partner, should be more vested in helping us to protect our IP while they skim/share from our profits!\r\n\r\nKudos to @pvalle for his/her original solution.","title":"Google Play Integrity API Works in Debug but fails in Production","body":"<p>The final solution in this post was amazing and saved me tons of work and helped me to better understand the API:</p>\n<p><a href=\"https://stackoverflow.com/a/72511785/12622090\">https://stackoverflow.com/a/72511785/12622090</a></p>\n<p>When I run my app on a real device using WiFi pairing from Android studio, everything works flawlessly. However, in Production, the API call consistently fails with the following error message:</p>\n<p><em>Integrity API error (-12): Unknown internal Google server error.\nRetry with an exponential backoff. Consider filing a bug if fails consistently.\n(<a href=\"https://developer.android.com/google/play/integrity/reference/com/google/android/play/core/integrity/model/IntegrityErrorCode.html#GOOGLE_SERVER_UNAVAILABLE\" rel=\"nofollow noreferrer\">https://developer.android.com/google/play/integrity/reference/com/google/android/play/core/integrity/model/IntegrityErrorCode.html#GOOGLE_SERVER_UNAVAILABLE</a>).</em></p>\n<p>My gut tells me that the problem must have something to do with obfuscation, Google App Signing, or some undocumented need for another set of &quot;credentials&quot; in the Google Console for the Production deployment.</p>\n<p>Has anyone run up against this and found a solution?</p>\n<p>UPDATE:</p>\n<p>I've determined that the issue is related to ProGuard obfuscation, but it's not clear why. If I set minifyEnabled true in my Gradle for DEBUG, I can reproduce the exception. If I turn off minify in a Production upload, the issue goes away. What doesn't make sense is the exception is permissions/account related.</p>\n<p>The underlying exception is:</p>\n<pre><code>Error getting access token for service account: 400 Bad Request\nPOST https://oauth2.googleapis.com/token\n{&quot;error&quot;:&quot;invalid_grant&quot;,&quot;error_description&quot;:&quot;Invalid grant: account not found&quot;}, iss: account-email-from-json-file-iam.gserviceaccount.com\nclass: com.google.auth.oauth2.OAuth2Credentials$1.call  [OAuth2Credentials.java  line: 257]\nclass: com.google.auth.oauth2.OAuth2Credentials$1.call  [OAuth2Credentials.java  line: 254]\nclass: java.util.concurrent.FutureTask.run  [FutureTask.java  line: 264]\nclass: com.google.common.util.concurrent.DirectExecutor.execute  [DirectExecutor.java  line: 31]\nclass: com.google.auth.oauth2.OAuth2Credentials$AsyncRefreshResult.executeIfNew  [OAuth2Credentials.java  line: 580]\nclass: com.google.auth.oauth2.OAuth2Credentials.asyncFetch  [OAuth2Credentials.java  line: 220]\nclass: com.google.auth.oauth2.OAuth2Credentials.getRequestMetadata  [OAuth2Credentials.java  line: 170]\nclass: com.google.auth.oauth2.ServiceAccountCredentials.getRequestMetadata  [ServiceAccountCredentials.java  line: 967]\nclass: com.google.auth.http.HttpCredentialsAdapter.initialize  [HttpCredentialsAdapter.java  line: 96]\nclass: com.google.api.client.http.HttpRequestFactory.buildRequest  [HttpRequestFactory.java  line: 91]\nclass: com.google.api.client.googleapis.services.AbstractGoogleClientRequest.buildHttpRequest  [AbstractGoogleClientRequest.java  line: 404]\nclass: com.google.api.client.googleapis.services.AbstractGoogleClientRequest.executeUnparsed  [AbstractGoogleClientRequest.java  line: 514]\nclass: com.google.api.client.googleapis.services.AbstractGoogleClientRequest.executeUnparsed  [AbstractGoogleClientRequest.java  line: 455]\nclass: com.google.api.client.googleapis.services.AbstractGoogleClientRequest.execute  [AbstractGoogleClientRequest.java  line: 565]\n</code></pre>\n<p>Any help would be appreciated. This is driving me nuts!</p>\n<p>MY SOLUTION: I hope this works for someone else given the fact that I've benefited from others on stackoverflow many, many times!</p>\n<p>I ended up adding the following to my proguard rules and the issue &quot;appears&quot; to have been resolved. I don't completely understand the solution because it still fails on the Google &quot;review devices&quot;, but at least I'm able to move on after about 65 hours because it works on my test devices:</p>\n<pre><code>#adding for PlayIntegrity API that bombs with obfuscation\n-keep class com.google.api.services.playintegrity.** { *; } #REQUIRED\n-keep class com.google.api.client.** { *; } #REQUIRED\n</code></pre>\n<p>The next &quot;class action suit&quot; against Google needs to be for their pitiful documentation and their failure to be true &quot;partners&quot;. They appear to be comfortable with deprecating things like SafetyNet and then publishing inadequate documentation for the replacement solutions while still taking their &quot;cut of the revenue&quot;. In the meantime, we Indie developers spend 100s of (non-compensated) hours trying to get their nonsense to work. Google documentation is a joke; were it not for stackoverflow, much of what they provide would not be usable.</p>\n<p>With respect to the PlayIntegrity API, it wouldn't be as necessary/critical if it wasn't so simple to reverse-engineer a Google/Java application. That being the case, Google, as a partner, should be more vested in helping us to protect our IP while they skim/share from our profits!</p>\n<p>Kudos to @pvalle for his/her original solution.</p>\n"},{"tags":["java","selenide"],"comments":[{"owner":{"account_id":153568,"reputation":2613,"user_id":368907,"accept_rate":88,"display_name":"nicholas"},"score":0,"creation_date":1691113478,"post_id":76826349,"comment_id":135451260,"body_markdown":"Please help me. Thanks a lot.","body":"Please help me. Thanks a lot."},{"owner":{"account_id":153568,"reputation":2613,"user_id":368907,"accept_rate":88,"display_name":"nicholas"},"score":0,"creation_date":1691267379,"post_id":76826349,"comment_id":135469778,"body_markdown":"I tried with adblock extension but still not able to block it.","body":"I tried with adblock extension but still not able to block it."},{"owner":{"account_id":153568,"reputation":2613,"user_id":368907,"accept_rate":88,"display_name":"nicholas"},"score":0,"creation_date":1691387025,"post_id":76826349,"comment_id":135479097,"body_markdown":"Please help me. Anyone has solution to it??","body":"Please help me. Anyone has solution to it??"}],"answers":[{"comments":[{"owner":{"account_id":153568,"reputation":2613,"user_id":368907,"accept_rate":88,"display_name":"nicholas"},"score":0,"creation_date":1692932302,"post_id":76887152,"comment_id":135694711,"body_markdown":"How to walk throught the blur() styling?","body":"How to walk throught the blur() styling?"},{"owner":{"account_id":153568,"reputation":2613,"user_id":368907,"accept_rate":88,"display_name":"nicholas"},"score":0,"creation_date":1697082636,"post_id":76887152,"comment_id":136235377,"body_markdown":"How to walk throught the blur() styling?","body":"How to walk throught the blur() styling?"}],"tags":[],"owner":{"account_id":13622000,"reputation":37,"user_id":9826182,"display_name":"Reschivon"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691796255,"creation_date":1691796255,"answer_id":76887152,"question_id":76826349,"body_markdown":"You can walk down the DOM tree searching for the first element with the [blur()][1] styling, or another similar CSS attribute. To bar false positives, you can also filter by size. Then once you can locate the blurred vignette, there should be a fixed path on the tree from the vignette to the close button.\r\n\r\n  [1]: https://developer.mozilla.org/en-US/docs/Web/CSS/filter-function/blur","title":"Google Vignette (Random Advertisement) Interrupt Test Flow","body":"<p>You can walk down the DOM tree searching for the first element with the <a href=\"https://developer.mozilla.org/en-US/docs/Web/CSS/filter-function/blur\" rel=\"nofollow noreferrer\">blur()</a> styling, or another similar CSS attribute. To bar false positives, you can also filter by size. Then once you can locate the blurred vignette, there should be a fixed path on the tree from the vignette to the close button.</p>\n"}],"owner":{"account_id":153568,"reputation":2613,"user_id":368907,"accept_rate":88,"display_name":"nicholas"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":93,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1691796255,"creation_date":1691052345,"question_id":76826349,"body_markdown":"I had several **Selenide** automated test web sites which have Google Vignette. The google vignette have different iframe id. I cannot close it using automation code due to different google vignette button and different iframe id.\r\n\r\n[![enter image description here][1]][1]\r\n\r\nQuestions:\r\nHow to deal with this kind of situation?\r\n\r\nAny others solution?\r\n\r\n\r\n\r\n\r\n\r\nPlease help. Thanks. \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/niIzL.png","title":"Google Vignette (Random Advertisement) Interrupt Test Flow","body":"<p>I had several <strong>Selenide</strong> automated test web sites which have Google Vignette. The google vignette have different iframe id. I cannot close it using automation code due to different google vignette button and different iframe id.</p>\n<p><a href=\"https://i.stack.imgur.com/niIzL.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/niIzL.png\" alt=\"enter image description here\" /></a></p>\n<p>Questions:\nHow to deal with this kind of situation?</p>\n<p>Any others solution?</p>\n<p>Please help. Thanks.</p>\n"},{"tags":["java","javafx"],"comments":[{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":2,"creation_date":1691792860,"post_id":76886939,"comment_id":135544537,"body_markdown":"[`javafx.scene.input.SwipeEvent`](https://openjfx.io/javadoc/17/javafx.graphics/javafx/scene/input/SwipeEvent.html)?","body":"<a href=\"https://openjfx.io/javadoc/17/javafx.graphics/javafx/scene/input/SwipeEvent.html\" rel=\"nofollow noreferrer\"><code>javafx.scene.input.SwipeEvent</code></a>?"},{"owner":{"account_id":55293,"reputation":387,"user_id":165529,"accept_rate":100,"display_name":"EQvan"},"score":1,"creation_date":1691793096,"post_id":76886939,"comment_id":135544554,"body_markdown":"I have looked at javafx.scene.input.SwipeEvent.  It certainly seems to offer swiping gestures, and it&#39;s parent, GestureEvent, includes &quot;inertia&quot; parameters, which looks like the kind of continued scrolling I&#39;m looking for, even after the swipe itself has ended... but I&#39;ve never done this kind of UI before, and I can&#39;t find anything that actually confirms that it will do what I want.  A good example of code that handles this kind of scrolling would be very helpful.","body":"I have looked at javafx.scene.input.SwipeEvent.  It certainly seems to offer swiping gestures, and it&#39;s parent, GestureEvent, includes &quot;inertia&quot; parameters, which looks like the kind of continued scrolling I&#39;m looking for, even after the swipe itself has ended... but I&#39;ve never done this kind of UI before, and I can&#39;t find anything that actually confirms that it will do what I want.  A good example of code that handles this kind of scrolling would be very helpful."},{"owner":{"account_id":55293,"reputation":387,"user_id":165529,"accept_rate":100,"display_name":"EQvan"},"score":0,"creation_date":1691793401,"post_id":76886939,"comment_id":135544587,"body_markdown":"Thank you, jewelsea, that&#39;s the kind of clear statement I was hoping for.  I don&#39;t actually have a touchscreen device at the moment -- early planning stage, remember, but I will have one soon and I can begin this kind of experimenting.","body":"Thank you, jewelsea, that&#39;s the kind of clear statement I was hoping for.  I don&#39;t actually have a touchscreen device at the moment -- early planning stage, remember, but I will have one soon and I can begin this kind of experimenting."}],"answers":[{"tags":[],"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1691795257,"creation_date":1691793739,"answer_id":76887018,"question_id":76886939,"body_markdown":"You don&#39;t need any special code for this if you are just using standard controls like `ListView` or `TableView`, they will support inertial scrolling behavior out of the box. \r\n\r\nYou can try it on any laptop, by:\r\n\r\n * Putting a lot of things in a `ListView`.\r\n * Clicking an item in the ListView to focus it.\r\n * Scrolling up or down with a gesture on the touchpad.\r\n   * or you can use a touchscreen for the same thing if you have one.\r\n   * a mouse wheel should also work.\r\n\r\n**Example: inertia scrolling for ListView**\r\n\r\nNo special code here, it &quot;just works&quot; when given the correct input.\r\n\r\n    import javafx.application.Application;\r\n    import javafx.scene.Scene;\r\n    import javafx.scene.control.ListView;\r\n    import javafx.stage.Stage;\r\n    \r\n    public class SwipeableListApp extends Application {\r\n        private static final int INIT_LINES = 10_000;\r\n    \r\n        @Override\r\n        public void start(Stage stage) {\r\n            ListView&lt;String&gt; listView = new ListView&lt;&gt;();\r\n            for (int i = 0; i &lt; INIT_LINES; i++) {\r\n                listView.getItems().add(\r\n                        &quot;Item &quot; + (i+1)\r\n                );\r\n            }\r\n    \r\n            stage.setScene(new Scene(listView));\r\n            stage.show();\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            launch(args);\r\n        }\r\n    }\r\n\r\n**Example: inertia scrolling for a Pane**\r\n\r\nIf you want to custom handle the swipe gestures, e.g. you are creating a [fruit ninja][1] (highly recommended waste of time), then you can use the [standard Java event processing options (filters and handlers)][2] to write custom code to react to the gesture events which have [inertial support][3] in the `GestureEvent` and its subclasses (as noted by user EQvan in comments).\r\n\r\nWhen testing this on a Mac and using the touchpad gestures:\r\n\r\n * It won&#39;t detect the swipe events (I think they may be used on actual touch screen devices like tablets or phones).  \r\n * But it will detect the scroll events generated from a touchpad (or mouse wheel, though I don&#39;t have a wheel to test it), which are also a kind of gesture event.\r\n\r\nWhat you will notice, by looking at the output, is that scroll events continue to be generated for a while (with `inertia` in the event set to true), after you receive the scroll finished event.\r\n\r\n    import javafx.application.Application;\r\n    import javafx.scene.Scene;\r\n    import javafx.scene.layout.Pane;\r\n    import javafx.stage.Stage;\r\n    \r\n    public class SwipeablePaneApp extends Application {\r\n        @Override\r\n        public void start(Stage stage) {\r\n            Pane pane = new Pane();\r\n    \r\n            pane.setOnSwipeUp(System.out::println);\r\n            pane.setOnSwipeDown(System.out::println);\r\n            pane.setOnSwipeLeft(System.out::println);\r\n            pane.setOnSwipeRight(System.out::println);\r\n    \r\n            pane.setOnScrollStarted(System.out::println);\r\n            pane.setOnScroll(System.out::println);\r\n            pane.setOnScrollFinished(System.out::println);\r\n    \r\n            pane.setPrefSize(200, 200);\r\n    \r\n            stage.setScene(new Scene(pane));\r\n            stage.show();\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            launch(args);\r\n        }\r\n    }\r\n\r\n  [1]: https://play.google.com/store/apps/details?id=com.halfbrick.fruitninjafree&amp;hl=en_US&amp;gl=US&amp;pli=1\r\n  [2]: https://docs.oracle.com/javase/8/javafx/events-tutorial/events.htm#:~:text=In%20JavaFX%20applications%2C%20events%20are,event%20and%20provide%20a%20response.\r\n  [3]: https://openjfx.io/javadoc/17/javafx.graphics/javafx/scene/input/GestureEvent.html#isInertia()\r\n","title":"Does JavaFX support swipe scrolling?","body":"<p>You don't need any special code for this if you are just using standard controls like <code>ListView</code> or <code>TableView</code>, they will support inertial scrolling behavior out of the box.</p>\n<p>You can try it on any laptop, by:</p>\n<ul>\n<li>Putting a lot of things in a <code>ListView</code>.</li>\n<li>Clicking an item in the ListView to focus it.</li>\n<li>Scrolling up or down with a gesture on the touchpad.\n<ul>\n<li>or you can use a touchscreen for the same thing if you have one.</li>\n<li>a mouse wheel should also work.</li>\n</ul>\n</li>\n</ul>\n<p><strong>Example: inertia scrolling for ListView</strong></p>\n<p>No special code here, it &quot;just works&quot; when given the correct input.</p>\n<pre><code>import javafx.application.Application;\nimport javafx.scene.Scene;\nimport javafx.scene.control.ListView;\nimport javafx.stage.Stage;\n\npublic class SwipeableListApp extends Application {\n    private static final int INIT_LINES = 10_000;\n\n    @Override\n    public void start(Stage stage) {\n        ListView&lt;String&gt; listView = new ListView&lt;&gt;();\n        for (int i = 0; i &lt; INIT_LINES; i++) {\n            listView.getItems().add(\n                    &quot;Item &quot; + (i+1)\n            );\n        }\n\n        stage.setScene(new Scene(listView));\n        stage.show();\n    }\n\n    public static void main(String[] args) {\n        launch(args);\n    }\n}\n</code></pre>\n<p><strong>Example: inertia scrolling for a Pane</strong></p>\n<p>If you want to custom handle the swipe gestures, e.g. you are creating a <a href=\"https://play.google.com/store/apps/details?id=com.halfbrick.fruitninjafree&amp;hl=en_US&amp;gl=US&amp;pli=1\" rel=\"nofollow noreferrer\">fruit ninja</a> (highly recommended waste of time), then you can use the <a href=\"https://docs.oracle.com/javase/8/javafx/events-tutorial/events.htm#:%7E:text=In%20JavaFX%20applications%2C%20events%20are,event%20and%20provide%20a%20response.\" rel=\"nofollow noreferrer\">standard Java event processing options (filters and handlers)</a> to write custom code to react to the gesture events which have <a href=\"https://openjfx.io/javadoc/17/javafx.graphics/javafx/scene/input/GestureEvent.html#isInertia()\" rel=\"nofollow noreferrer\">inertial support</a> in the <code>GestureEvent</code> and its subclasses (as noted by user EQvan in comments).</p>\n<p>When testing this on a Mac and using the touchpad gestures:</p>\n<ul>\n<li>It won't detect the swipe events (I think they may be used on actual touch screen devices like tablets or phones).</li>\n<li>But it will detect the scroll events generated from a touchpad (or mouse wheel, though I don't have a wheel to test it), which are also a kind of gesture event.</li>\n</ul>\n<p>What you will notice, by looking at the output, is that scroll events continue to be generated for a while (with <code>inertia</code> in the event set to true), after you receive the scroll finished event.</p>\n<pre><code>import javafx.application.Application;\nimport javafx.scene.Scene;\nimport javafx.scene.layout.Pane;\nimport javafx.stage.Stage;\n\npublic class SwipeablePaneApp extends Application {\n    @Override\n    public void start(Stage stage) {\n        Pane pane = new Pane();\n\n        pane.setOnSwipeUp(System.out::println);\n        pane.setOnSwipeDown(System.out::println);\n        pane.setOnSwipeLeft(System.out::println);\n        pane.setOnSwipeRight(System.out::println);\n\n        pane.setOnScrollStarted(System.out::println);\n        pane.setOnScroll(System.out::println);\n        pane.setOnScrollFinished(System.out::println);\n\n        pane.setPrefSize(200, 200);\n\n        stage.setScene(new Scene(pane));\n        stage.show();\n    }\n\n    public static void main(String[] args) {\n        launch(args);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":55293,"reputation":387,"user_id":165529,"accept_rate":100,"display_name":"EQvan"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":75,"favorite_count":0,"down_vote_count":1,"up_vote_count":6,"accepted_answer_id":76887018,"answer_count":1,"score":5,"last_activity_date":1691795257,"creation_date":1691792358,"question_id":76886939,"body_markdown":"I&#39;m in the early planning stages of an app in Java that will run on platforms with touch screens, and I want it to offer the kind of touch screen support you see on phones -- in particular, the ability to give a quick flick of a swipe on a control such as a list, tree or table view and have it quickly scroll and keep scrolling for an interval even after the swipe has ended.  I&#39;ve studied a bunch of JavaFX documentation, and I&#39;m still not sure if that kind of gesture support is offered.  Can anyone confirm that it is?  Can you point to example code?  If not, can anyone suggest an alternate method of getting this kind of behaviour in Java?","title":"Does JavaFX support swipe scrolling?","body":"<p>I'm in the early planning stages of an app in Java that will run on platforms with touch screens, and I want it to offer the kind of touch screen support you see on phones -- in particular, the ability to give a quick flick of a swipe on a control such as a list, tree or table view and have it quickly scroll and keep scrolling for an interval even after the swipe has ended.  I've studied a bunch of JavaFX documentation, and I'm still not sure if that kind of gesture support is offered.  Can anyone confirm that it is?  Can you point to example code?  If not, can anyone suggest an alternate method of getting this kind of behaviour in Java?</p>\n"},{"tags":["java","spring","gradle","openapi-generator"],"comments":[{"owner":{"account_id":2767223,"reputation":21433,"user_id":2382650,"accept_rate":92,"display_name":"Cisco"},"score":0,"creation_date":1632403871,"post_id":69292410,"comment_id":122486967,"body_markdown":"Please include your Gradle file which should include the plugins configuration you are using to generate files.","body":"Please include your Gradle file which should include the plugins configuration you are using to generate files."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1632983659,"post_id":69292410,"comment_id":122641193,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"answers":[{"comments":[{"owner":{"account_id":19357712,"reputation":159,"user_id":14153676,"display_name":"energy2522"},"score":0,"creation_date":1632925707,"post_id":69327461,"comment_id":122625632,"body_markdown":"thanks for your response. Do you know if it is possible to specify different packages for related files? For instance, I have the next structure:\n`spec.yaml`\n`common.yaml`\n. `spec` file has a reference on the `common` file. I need the `spec` file to be generated with package `com.spec` and the `common` file with package `com.common`.","body":"thanks for your response. Do you know if it is possible to specify different packages for related files? For instance, I have the next structure: <code>spec.yaml</code> <code>common.yaml</code> . <code>spec</code> file has a reference on the <code>common</code> file. I need the <code>spec</code> file to be generated with package <code>com.spec</code> and the <code>common</code> file with package <code>com.common</code>."},{"owner":{"account_id":15663576,"reputation":2342,"user_id":11301941,"display_name":"George"},"score":1,"creation_date":1632982115,"post_id":69327461,"comment_id":122640733,"body_markdown":"Yes , actually its possible in multiple ways , i ll update my answer .","body":"Yes , actually its possible in multiple ways , i ll update my answer ."},{"owner":{"account_id":19357712,"reputation":159,"user_id":14153676,"display_name":"energy2522"},"score":0,"creation_date":1633076121,"post_id":69327461,"comment_id":122668649,"body_markdown":"thank you very much for your update. But still, the open question is about imports in that 2 files. With your config we will generate just 2 files with different packages, but how to define the right import with the right package? I&#39;ll update my question with more details to be clear.","body":"thank you very much for your update. But still, the open question is about imports in that 2 files. With your config we will generate just 2 files with different packages, but how to define the right import with the right package? I&#39;ll update my question with more details to be clear."}],"tags":[],"owner":{"account_id":15663576,"reputation":2342,"user_id":11301941,"display_name":"George"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691793918,"creation_date":1632583054,"answer_id":69327461,"question_id":69292410,"body_markdown":"Yes it is possible.\r\n\r\nFirst add openapi plugin to build.grade if you have not done so. \r\n```\r\nplugins { \r\n \r\n       id &quot;org.openapi.generator&quot; version &quot;4.3.0&quot;\r\n}\r\n```\r\n\r\nYou&#39;ll get access to openApiGenerate Task,\r\n\r\nThis can be modified like this for example:\r\n```\r\nopenApiGenerate {\r\n    generatorName = &quot;jaxrs-jersey&quot;\r\n    inputSpec = &quot;$rootDir/spec-v1.yaml&quot;.toString()\r\n    outputDir = &quot;$rootDir/&quot;.toString()\r\n    apiPackage = &quot;name.of.api.package.rest.server.v1.api&quot;\r\n    invokerPackage = &quot;name.of.api.package.rest.server.v1.invoker&quot;\r\n    modelPackage = &quot;name.of.api.package.rest.server.v1.model&quot;\r\n    configOptions = [\r\n        library: &quot;jersey2&quot;\r\n    ]\r\n}\r\n```\r\n\r\nhere is the link for all the possible modification you can do related to spring for example https://github.com/OpenAPITools/openapi-generator/blob/master/docs/generators/spring.md\r\n\r\nand for the full list of generators: https://github.com/OpenAPITools/openapi-generator/tree/master/docs/generators\r\n\r\nIn order to use 2 yaml files in a single project here is what you have to do:\r\n\r\n```\r\ntask common(type: org.openapitools.generator.gradle.plugin.tasks.GenerateTask){\r\ngeneratorName = &quot;spring&quot;\r\ninputSpec = &quot;$rootDir//schema/common.yaml&quot;.toString()\r\noutputDir = &quot;$rootDir/generated&quot;.toString()\r\napiPackage = &quot;com.abc.code.generated.controller&quot;\r\nmodelPackage = &quot;com.abc.code.generated.model&quot;\r\nconfigOptions = [\r\n        dateLibrary: &quot;java8&quot;\r\n]\r\nsystemProperties = [\r\n    invoker : &quot;false&quot;, \r\n    generateSupportingFiles: &quot;true&quot;\r\n]\r\nadditionalProperties = [\r\n    interfaceOnly : &quot;true&quot;,\r\n]\r\n```\r\n\r\nAnd you can leave the openApiGenerate for the spec.yaml \r\nBut make sure to add \r\n\r\n```\r\ncompileJava.dependsOn common , tasks.openApiGenerate \r\n```\r\nSo you&#39;ll execute both of them.\r\nHope this is of help.\r\n","title":"Is it possible to set specific package name for generated openApi spec file","body":"<p>Yes it is possible.</p>\n<p>First add openapi plugin to build.grade if you have not done so.</p>\n<pre><code>plugins { \n \n       id &quot;org.openapi.generator&quot; version &quot;4.3.0&quot;\n}\n</code></pre>\n<p>You'll get access to openApiGenerate Task,</p>\n<p>This can be modified like this for example:</p>\n<pre><code>openApiGenerate {\n    generatorName = &quot;jaxrs-jersey&quot;\n    inputSpec = &quot;$rootDir/spec-v1.yaml&quot;.toString()\n    outputDir = &quot;$rootDir/&quot;.toString()\n    apiPackage = &quot;name.of.api.package.rest.server.v1.api&quot;\n    invokerPackage = &quot;name.of.api.package.rest.server.v1.invoker&quot;\n    modelPackage = &quot;name.of.api.package.rest.server.v1.model&quot;\n    configOptions = [\n        library: &quot;jersey2&quot;\n    ]\n}\n</code></pre>\n<p>here is the link for all the possible modification you can do related to spring for example <a href=\"https://github.com/OpenAPITools/openapi-generator/blob/master/docs/generators/spring.md\" rel=\"nofollow noreferrer\">https://github.com/OpenAPITools/openapi-generator/blob/master/docs/generators/spring.md</a></p>\n<p>and for the full list of generators: <a href=\"https://github.com/OpenAPITools/openapi-generator/tree/master/docs/generators\" rel=\"nofollow noreferrer\">https://github.com/OpenAPITools/openapi-generator/tree/master/docs/generators</a></p>\n<p>In order to use 2 yaml files in a single project here is what you have to do:</p>\n<pre><code>task common(type: org.openapitools.generator.gradle.plugin.tasks.GenerateTask){\ngeneratorName = &quot;spring&quot;\ninputSpec = &quot;$rootDir//schema/common.yaml&quot;.toString()\noutputDir = &quot;$rootDir/generated&quot;.toString()\napiPackage = &quot;com.abc.code.generated.controller&quot;\nmodelPackage = &quot;com.abc.code.generated.model&quot;\nconfigOptions = [\n        dateLibrary: &quot;java8&quot;\n]\nsystemProperties = [\n    invoker : &quot;false&quot;, \n    generateSupportingFiles: &quot;true&quot;\n]\nadditionalProperties = [\n    interfaceOnly : &quot;true&quot;,\n]\n</code></pre>\n<p>And you can leave the openApiGenerate for the spec.yaml\nBut make sure to add</p>\n<pre><code>compileJava.dependsOn common , tasks.openApiGenerate \n</code></pre>\n<p>So you'll execute both of them.\nHope this is of help.</p>\n"},{"tags":[],"owner":{"account_id":19357712,"reputation":159,"user_id":14153676,"display_name":"energy2522"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1653310564,"creation_date":1653310564,"answer_id":72348875,"question_id":69292410,"body_markdown":"We found the solution on how to refer to the same object. We published `TestModule` as a separate project with its own package and in other projects, we used the `importMappings` configuration to define the proper package name for the object.\r\n\r\n    importMappings = [\r\n       TestModule: &quot;com.common.modules.TestModule&quot;\r\n    ]\r\n\r\n","title":"Is it possible to set specific package name for generated openApi spec file","body":"<p>We found the solution on how to refer to the same object. We published <code>TestModule</code> as a separate project with its own package and in other projects, we used the <code>importMappings</code> configuration to define the proper package name for the object.</p>\n<pre><code>importMappings = [\n   TestModule: &quot;com.common.modules.TestModule&quot;\n]\n</code></pre>\n"}],"owner":{"account_id":19357712,"reputation":159,"user_id":14153676,"display_name":"energy2522"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4650,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72348875,"answer_count":2,"score":1,"last_activity_date":1691793918,"creation_date":1632354489,"question_id":69292410,"body_markdown":"In our project (java/spring/gradle stack), we are using openApi specs. We have a couple of services and specs for them. Also, we have common modules that duplicate in each spec. We moved those common modules to a separate spec file and include them in others. For instance:\r\n```\r\nspecific_project1:\r\n   openapi:\r\n      spec.yaml\r\n      common_modules.yaml\r\n   build.gradle\r\n```\r\nThe `spec.yaml` has the next code:\r\n```\r\nopenapi: 3.0.0\r\ninfo:\r\n  version: 0.0.1\r\npaths:\r\n  /specific/post:\r\n    post:\r\n      requestBody:\r\n        context:\r\n          application/json:\r\n             schema:\r\n               $ref: &quot;common_modules.yaml#/components/schemas/TestModule&quot;\r\n```\r\nand the `common_modules.yaml` the next:\r\n```\r\nopenapi: 3.0.0\r\ninfo:\r\n  version: 0.0.1\r\ncomponents:\r\n  schemas:\r\n    TestModule:\r\n      type: object\r\n      properties:\r\n        value:\r\n          type: string\r\n```\r\nAs the result, we need that `spec.yaml` to be generated with package name `com.specific.project1`, `common_modules.yaml` is generated with package name `com.common.modules` and the generated java class that is generated from `spec.yaml` has an import for `TestModule` with package `com.common.modules` in imports.","title":"Is it possible to set specific package name for generated openApi spec file","body":"<p>In our project (java/spring/gradle stack), we are using openApi specs. We have a couple of services and specs for them. Also, we have common modules that duplicate in each spec. We moved those common modules to a separate spec file and include them in others. For instance:</p>\n<pre><code>specific_project1:\n   openapi:\n      spec.yaml\n      common_modules.yaml\n   build.gradle\n</code></pre>\n<p>The <code>spec.yaml</code> has the next code:</p>\n<pre><code>openapi: 3.0.0\ninfo:\n  version: 0.0.1\npaths:\n  /specific/post:\n    post:\n      requestBody:\n        context:\n          application/json:\n             schema:\n               $ref: &quot;common_modules.yaml#/components/schemas/TestModule&quot;\n</code></pre>\n<p>and the <code>common_modules.yaml</code> the next:</p>\n<pre><code>openapi: 3.0.0\ninfo:\n  version: 0.0.1\ncomponents:\n  schemas:\n    TestModule:\n      type: object\n      properties:\n        value:\n          type: string\n</code></pre>\n<p>As the result, we need that <code>spec.yaml</code> to be generated with package name <code>com.specific.project1</code>, <code>common_modules.yaml</code> is generated with package name <code>com.common.modules</code> and the generated java class that is generated from <code>spec.yaml</code> has an import for <code>TestModule</code> with package <code>com.common.modules</code> in imports.</p>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":543600,"reputation":1014,"user_id":2125723,"accept_rate":80,"display_name":"ryanwebjackson"},"score":0,"creation_date":1686149264,"post_id":76401519,"comment_id":134760063,"body_markdown":"Please post the exact text of the error, and explain what you were/are wanting the code to do.","body":"Please post the exact text of the error, and explain what you were/are wanting the code to do."}],"answers":[{"comments":[{"owner":{"account_id":5787188,"reputation":23,"user_id":8739605,"display_name":"Karthik"},"score":0,"creation_date":1686164687,"post_id":76424180,"comment_id":134763245,"body_markdown":"@Burak Demirer I don&#39;t that could be an error, probably a warning if am not wrong or it should be a report by sonar","body":"@Burak Demirer I don&#39;t that could be an error, probably a warning if am not wrong or it should be a report by sonar"},{"owner":{"account_id":5787188,"reputation":23,"user_id":8739605,"display_name":"Karthik"},"score":0,"creation_date":1686165410,"post_id":76424180,"comment_id":134763369,"body_markdown":"I don&#39;t think* that it*","body":"I don&#39;t think* that it*"}],"tags":[],"owner":{"account_id":5787188,"reputation":23,"user_id":8739605,"display_name":"Karthik"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1686165332,"creation_date":1686146717,"answer_id":76424180,"question_id":76401519,"body_markdown":"Rewrite the above code similar to this and there will be no need of `.and()`\r\n\r\n    http.cors(cors -&gt; cors.disable()).csrf(csrf -&gt; csrf.disable())\r\n            .authorizeHttpRequests(authorizeRequests -&gt; \r\n                 authorizeRequests.antMatchers(&quot;/admins-only/**&quot;).hasAuthority(ADMIN)\r\n                    .antMatchers(HttpMethod.GET, &quot;/**&quot;).permitAll()\r\n                    .anyRequest()\r\n                    .authenticated());\r\n\r\nSimilarly, you can try for the different configurations you already have.\r\n\r\nIf you want specifically for authEntryPoint\r\n\r\n    http.httpBasic(withDefaults()).authenticationEntryPoint(AuthEntryPoint::new)\r\n","title":"Spring Boot Consider switching to &#39;HttpSecurity&#39; Lambda DSL syntax","body":"<p>Rewrite the above code similar to this and there will be no need of <code>.and()</code></p>\n<pre><code>http.cors(cors -&gt; cors.disable()).csrf(csrf -&gt; csrf.disable())\n        .authorizeHttpRequests(authorizeRequests -&gt; \n             authorizeRequests.antMatchers(&quot;/admins-only/**&quot;).hasAuthority(ADMIN)\n                .antMatchers(HttpMethod.GET, &quot;/**&quot;).permitAll()\n                .anyRequest()\n                .authenticated());\n</code></pre>\n<p>Similarly, you can try for the different configurations you already have.</p>\n<p>If you want specifically for authEntryPoint</p>\n<pre><code>http.httpBasic(withDefaults()).authenticationEntryPoint(AuthEntryPoint::new)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15324201,"reputation":123,"user_id":12644338,"display_name":"Francisco Camello"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1689129723,"creation_date":1689129723,"answer_id":76666836,"question_id":76401519,"body_markdown":"your configuration style is still valid and supported. This is a warning from your IDE, not an error message. Adding lambdas was included in [Spring Security 5.2][1] release and is intended to provide more flexibility, but their usage is optional.\r\n\r\nAs in the documentation:\r\n\r\n&gt; The Lambda DSL was created to accomplish to following goals:\r\n&gt; \r\n&gt;  - Automatic indentation makes the configuration more readable. \r\n&gt;  - The is no need to chain configuration options using .and(). \r\n&gt;  - The Spring Security DSL has a similar configuration style to other Spring DSLs such as Spring Integration and Spring Cloud Gateway.\r\n\r\nCheck the article **[Spring Security - Lambda DSL][1]** in Spring Blog for more information.\r\n\r\n\r\n  [1]: https://spring.io/blog/2019/11/21/spring-security-lambda-dsl","title":"Spring Boot Consider switching to &#39;HttpSecurity&#39; Lambda DSL syntax","body":"<p>your configuration style is still valid and supported. This is a warning from your IDE, not an error message. Adding lambdas was included in <a href=\"https://spring.io/blog/2019/11/21/spring-security-lambda-dsl\" rel=\"nofollow noreferrer\">Spring Security 5.2</a> release and is intended to provide more flexibility, but their usage is optional.</p>\n<p>As in the documentation:</p>\n<blockquote>\n<p>The Lambda DSL was created to accomplish to following goals:</p>\n<ul>\n<li>Automatic indentation makes the configuration more readable.</li>\n<li>The is no need to chain configuration options using .and().</li>\n<li>The Spring Security DSL has a similar configuration style to other Spring DSLs such as Spring Integration and Spring Cloud Gateway.</li>\n</ul>\n</blockquote>\n<p>Check the article <strong><a href=\"https://spring.io/blog/2019/11/21/spring-security-lambda-dsl\" rel=\"nofollow noreferrer\">Spring Security - Lambda DSL</a></strong> in Spring Blog for more information.</p>\n"}],"owner":{"account_id":28750823,"reputation":41,"user_id":22018970,"display_name":"Burak Demirer"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3011,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"answer_count":2,"score":3,"last_activity_date":1691793879,"creation_date":1685898430,"question_id":76401519,"body_markdown":"My code is here. new AuthEntryPoint() code error to Consider switching to &#39;HttpSecurity&#39; Lambda DSL syntax. How can i solved. pls help me\r\n\r\n```\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.http.HttpMethod;\r\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\r\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\r\nimport org.springframework.security.config.http.SessionCreationPolicy;\r\nimport org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\r\nimport org.springframework.security.crypto.password.PasswordEncoder;\r\nimport org.springframework.security.web.SecurityFilterChain;\r\n \r\n@Configuration\r\n@EnableWebSecurity\r\npublic class SecurityConfiguration {\r\n \r\n  @Bean\r\n  public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\r\n    http.csrf().disable();\r\n \r\n    http.httpBasic().authenticationEntryPoint(new AuthEntryPoint());\r\n\t\t\r\n    http.authorizeHttpRequests()\r\n\t\t\t.requestMatchers(HttpMethod.POST, &quot;/api/1.0/auth&quot;).authenticated()\r\n\t\t\t.and()\r\n\t\t\t.authorizeHttpRequests().anyRequest().permitAll();\r\n \r\n    http.sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS);\r\n \r\n    return http.build();\r\n  }\r\n \r\n  @Bean\r\n  public PasswordEncoder passwordEncoder() {\r\n    return new BCryptPasswordEncoder();\r\n  }\r\n}\r\n\r\n\r\n\r\n```\r\n\r\ni try google bard and chatgbt :(","title":"Spring Boot Consider switching to &#39;HttpSecurity&#39; Lambda DSL syntax","body":"<p>My code is here. new AuthEntryPoint() code error to Consider switching to 'HttpSecurity' Lambda DSL syntax. How can i solved. pls help me</p>\n<pre><code>import org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.http.HttpMethod;\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\nimport org.springframework.security.config.http.SessionCreationPolicy;\nimport org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\nimport org.springframework.security.crypto.password.PasswordEncoder;\nimport org.springframework.security.web.SecurityFilterChain;\n \n@Configuration\n@EnableWebSecurity\npublic class SecurityConfiguration {\n \n  @Bean\n  public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n    http.csrf().disable();\n \n    http.httpBasic().authenticationEntryPoint(new AuthEntryPoint());\n        \n    http.authorizeHttpRequests()\n            .requestMatchers(HttpMethod.POST, &quot;/api/1.0/auth&quot;).authenticated()\n            .and()\n            .authorizeHttpRequests().anyRequest().permitAll();\n \n    http.sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS);\n \n    return http.build();\n  }\n \n  @Bean\n  public PasswordEncoder passwordEncoder() {\n    return new BCryptPasswordEncoder();\n  }\n}\n\n\n\n</code></pre>\n<p>i try google bard and chatgbt :(</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1691825089,"post_id":76886342,"comment_id":135546401,"body_markdown":"Just use, _secureRandom.nextLong(100_000_000_000L, 1_000_000_000_000L)_.","body":"Just use, <i>secureRandom.nextLong(100_000_000_000L, 1_000_000_000_000L)</i>."}],"answers":[{"comments":[{"owner":{"account_id":61566,"reputation":68934,"user_id":183406,"accept_rate":74,"display_name":"meriton"},"score":2,"creation_date":1691784475,"post_id":76886371,"comment_id":135543626,"body_markdown":"`nextLong` has an overload for sampling from a range: `secureRandom.nextLong(100_000_000_000L, 1_000_000_000_000L)`","body":"<code>nextLong</code> has an overload for sampling from a range: <code>secureRandom.nextLong(100_000_000_000L, 1_000_000_000_000L)</code>"},{"owner":{"account_id":61566,"reputation":68934,"user_id":183406,"accept_rate":74,"display_name":"meriton"},"score":1,"creation_date":1691784953,"post_id":76886371,"comment_id":135543691,"body_markdown":"... which does that calculation for you.","body":"... which does that calculation for you."}],"tags":[],"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"comment_count":2,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1691783604,"creation_date":1691783604,"answer_id":76886371,"question_id":76886342,"body_markdown":"esignConfirmNum is a string. When you call `esignConfirmNum += randomNumber`, that `+` means __string concatenate__.\r\n\r\nSo let&#39;s simulate a loop:\r\n\r\n1. esignConfirmNum is `&quot;&quot;` which is definitely a length below 12, so, enter the loop.\r\n2. Random number generated is 856123.\r\n3. `esignConfirmNum` is now `&quot;856123&quot;` which has a length below 12, so, enter again.\r\n4. Random number generated is &#39;1&#39;. Wow, that&#39;s low. Lucky perhaps?\r\n5. `esignConfirmNum` is now `&quot;8561231&quot;`. __Not `&quot;856124&quot;`__ - that plus means string concat, not mathematical addition, remember. That&#39;s still a length below 12, so, loop.\r\n6. We generate 9999 as random number. `esignConfirmNum` is now `&quot;85612319999&quot;`. Length 11, so loop again.\r\n7. We generate 123456. `esignConfirmNum` is now `&quot;85612319999123456&quot;` so the loop stops, and esignConfirmationNum is now 17 characters long.\r\n\r\n\r\nSo, your code does exactly what you told it to, it works fine. Except, you are asking questions about it - perhaps you are confused or possibly (guessing here, your question isn&#39;t very clearly written) you want some code that produces a uniformly distributed random number that has precisely 12 digits in it.\r\n\r\nThen.. just write that.\r\n\r\nThe lowest &#39;legal&#39; number is `1000 0000 0000`. The highest &#39;legal&#39; number is `9999 9999 9999`. That&#39;s a total &#39;range&#39; of `9000 0000 0000` different possible numbers in the universe of allowed numbers you wish to generate; you want one of those, uniformly randomly decided (as in, any number as as likely as any other, that is what &#39;uniform random&#39; means). So, generate a random number between 0 inclusive and `9000 0000 0000` exclusive, then add `1000 0000 0000` to it. Use `long`, because ints don&#39;t go beyond `2^31-1` which is about 10 digits; not enough. longs go up to 18 or so, more than enough for your needs:\r\n\r\n```\r\nlong rnd = secureRandom.nextLong(8999_9999_9999L) + 1000_0000_0000L;\r\n```\r\n\r\n","title":"SecureRandom number should be 12 numbers, but getting 17","body":"<p>esignConfirmNum is a string. When you call <code>esignConfirmNum += randomNumber</code>, that <code>+</code> means <strong>string concatenate</strong>.</p>\n<p>So let's simulate a loop:</p>\n<ol>\n<li>esignConfirmNum is <code>&quot;&quot;</code> which is definitely a length below 12, so, enter the loop.</li>\n<li>Random number generated is 856123.</li>\n<li><code>esignConfirmNum</code> is now <code>&quot;856123&quot;</code> which has a length below 12, so, enter again.</li>\n<li>Random number generated is '1'. Wow, that's low. Lucky perhaps?</li>\n<li><code>esignConfirmNum</code> is now <code>&quot;8561231&quot;</code>. <strong>Not <code>&quot;856124&quot;</code></strong> - that plus means string concat, not mathematical addition, remember. That's still a length below 12, so, loop.</li>\n<li>We generate 9999 as random number. <code>esignConfirmNum</code> is now <code>&quot;85612319999&quot;</code>. Length 11, so loop again.</li>\n<li>We generate 123456. <code>esignConfirmNum</code> is now <code>&quot;85612319999123456&quot;</code> so the loop stops, and esignConfirmationNum is now 17 characters long.</li>\n</ol>\n<p>So, your code does exactly what you told it to, it works fine. Except, you are asking questions about it - perhaps you are confused or possibly (guessing here, your question isn't very clearly written) you want some code that produces a uniformly distributed random number that has precisely 12 digits in it.</p>\n<p>Then.. just write that.</p>\n<p>The lowest 'legal' number is <code>1000 0000 0000</code>. The highest 'legal' number is <code>9999 9999 9999</code>. That's a total 'range' of <code>9000 0000 0000</code> different possible numbers in the universe of allowed numbers you wish to generate; you want one of those, uniformly randomly decided (as in, any number as as likely as any other, that is what 'uniform random' means). So, generate a random number between 0 inclusive and <code>9000 0000 0000</code> exclusive, then add <code>1000 0000 0000</code> to it. Use <code>long</code>, because ints don't go beyond <code>2^31-1</code> which is about 10 digits; not enough. longs go up to 18 or so, more than enough for your needs:</p>\n<pre><code>long rnd = secureRandom.nextLong(8999_9999_9999L) + 1000_0000_0000L;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4228398,"reputation":17727,"user_id":3461397,"display_name":"Oleg Cherednik"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1691789381,"creation_date":1691788854,"answer_id":76886712,"question_id":76886342,"body_markdown":"Actually all you have to do is to cut required numbers from the generated string.\r\n\r\n```java\r\npublic static String getEsignConfirmNum(int length) {\r\n    SecureRandom random = new SecureRandom();\r\n    StringBuilder buf = new StringBuilder(2 * length);\r\n\r\n    while (buf.length() &lt; length) {\r\n        buf.append(random.nextInt(1_000_000));\r\n    }\r\n\r\n    return buf.substring(0, length);\r\n}\r\n```\r\n\r\nBut, on the other side all you need just convert the number to the `String` and add missing `0` as a prefix.\r\n```java\r\npublic static String getEsignConfirmNum(int bound) {\r\n    SecureRandom random = new SecureRandom();\r\n    int width = String.valueOf(bound).length();\r\n    int num = random.nextInt(bound);\r\n    return String.format(&quot;%0&quot; + width + &#39;d&#39;, num);\r\n}\r\n```\r\n\r\nAnother way is just generate required amount of one-digit numbers:\r\n```java\r\npublic static String getEsignConfirmNum(int length) {\r\n    SecureRandom random = new SecureRandom();\r\n    StringBuilder buf = new StringBuilder(length);\r\n\r\n    for (int i = 0; i &lt; length; i++)\r\n        buf.append(random.nextInt(10));\r\n\r\n    return buf.toString();\r\n}\r\n```","title":"SecureRandom number should be 12 numbers, but getting 17","body":"<p>Actually all you have to do is to cut required numbers from the generated string.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static String getEsignConfirmNum(int length) {\n    SecureRandom random = new SecureRandom();\n    StringBuilder buf = new StringBuilder(2 * length);\n\n    while (buf.length() &lt; length) {\n        buf.append(random.nextInt(1_000_000));\n    }\n\n    return buf.substring(0, length);\n}\n</code></pre>\n<p>But, on the other side all you need just convert the number to the <code>String</code> and add missing <code>0</code> as a prefix.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static String getEsignConfirmNum(int bound) {\n    SecureRandom random = new SecureRandom();\n    int width = String.valueOf(bound).length();\n    int num = random.nextInt(bound);\n    return String.format(&quot;%0&quot; + width + 'd', num);\n}\n</code></pre>\n<p>Another way is just generate required amount of one-digit numbers:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static String getEsignConfirmNum(int length) {\n    SecureRandom random = new SecureRandom();\n    StringBuilder buf = new StringBuilder(length);\n\n    for (int i = 0; i &lt; length; i++)\n        buf.append(random.nextInt(10));\n\n    return buf.toString();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1691792528,"creation_date":1691792528,"answer_id":76886948,"question_id":76886342,"body_markdown":"&gt; _&quot;... is there a better way to handle this? ...&quot;_\r\n\r\nI recommend just looping 12 times, and append a _String_ value.\r\n\r\n```java\r\nString string = &quot;&quot;;\r\nfor (int count = 0; count &lt; 12; count++)\r\n    string += secureRandom.nextInt(10);\r\nlong value = Long.parseLong(string);\r\n``` \r\n\r\nHere are some example outputs,\r\n\r\n```none\r\n431525756892\r\n909223717286\r\n806345775078\r\n```","title":"SecureRandom number should be 12 numbers, but getting 17","body":"<blockquote>\n<p><em>&quot;... is there a better way to handle this? ...&quot;</em></p>\n</blockquote>\n<p>I recommend just looping 12 times, and append a <em>String</em> value.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String string = &quot;&quot;;\nfor (int count = 0; count &lt; 12; count++)\n    string += secureRandom.nextInt(10);\nlong value = Long.parseLong(string);\n</code></pre>\n<p>Here are some example outputs,</p>\n<pre class=\"lang-none prettyprint-override\"><code>431525756892\n909223717286\n806345775078\n</code></pre>\n"}],"owner":{"account_id":13176117,"reputation":33,"user_id":9517022,"display_name":"newPHPDev"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1691792528,"creation_date":1691783145,"question_id":76886342,"body_markdown":"I have the following code.\r\n\r\n\tprivate String getEsignConfirmNum() {\r\n\t\tSecureRandom secureRandom = new SecureRandom();\r\n\t\tString esignConfirmNum = &quot;&quot;;\r\n\t\twhile (esignConfirmNum.length() &lt; 12) {\r\n\t\t\tint randomNumber = secureRandom.nextInt(1000000);\r\n\t\t\tesignConfirmNum += randomNumber;\r\n\t\t}\r\n\t\treturn esignConfirmNum;\r\n\r\n\t}\r\n\r\n    &quot;esignConfirmationNum&quot;:&quot;21189530230267936&quot;\r\n\r\nbut, in my req to the API, it came back as 17 numbers.... why? is there a better way to handle this?","title":"SecureRandom number should be 12 numbers, but getting 17","body":"<p>I have the following code.</p>\n<pre><code>private String getEsignConfirmNum() {\n    SecureRandom secureRandom = new SecureRandom();\n    String esignConfirmNum = &quot;&quot;;\n    while (esignConfirmNum.length() &lt; 12) {\n        int randomNumber = secureRandom.nextInt(1000000);\n        esignConfirmNum += randomNumber;\n    }\n    return esignConfirmNum;\n\n}\n\n&quot;esignConfirmationNum&quot;:&quot;21189530230267936&quot;\n</code></pre>\n<p>but, in my req to the API, it came back as 17 numbers.... why? is there a better way to handle this?</p>\n"},{"tags":["java","mongodb","maven","swing","noclassdeffounderror"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1691702991,"post_id":76877426,"comment_id":135531297,"body_markdown":"Unless that snapshot jar is made a &#39;fat jar&#39; with Shade or similar, you are going to have to include the jars it depends on in the classpath","body":"Unless that snapshot jar is made a &#39;fat jar&#39; with Shade or similar, you are going to have to include the jars it depends on in the classpath"},{"owner":{"account_id":28886412,"reputation":11,"user_id":22124645,"display_name":"Bootfahrer"},"score":0,"creation_date":1691705107,"post_id":76877426,"comment_id":135531561,"body_markdown":"i made it a &#39;fat jar&#39; but that doesn&#39;t seem to help. Any other suggestion?","body":"i made it a &#39;fat jar&#39; but that doesn&#39;t seem to help. Any other suggestion?"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1691705460,"post_id":76877426,"comment_id":135531618,"body_markdown":"It didn&#39;t work. You should probably post pom.xml formatted as code","body":"It didn&#39;t work. You should probably post pom.xml formatted as code"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1691770595,"post_id":76877426,"comment_id":135541421,"body_markdown":"At this point, it would be a good thing to consider providing a [minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example). Just one source file required where your error still occurs","body":"At this point, it would be a good thing to consider providing a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>. Just one source file required where your error still occurs"},{"owner":{"account_id":28886412,"reputation":11,"user_id":22124645,"display_name":"Bootfahrer"},"score":0,"creation_date":1691777858,"post_id":76877426,"comment_id":135542597,"body_markdown":"i added the minimal. When running this code with VSC it works fine, but again with using the CMD command i get the `NoClassDefError`","body":"i added the minimal. When running this code with VSC it works fine, but again with using the CMD command i get the <code>NoClassDefError</code>"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1691785920,"post_id":76877426,"comment_id":135543819,"body_markdown":"You&#39;re not quite there yet. You need to do the following: 1. back up your original org.mongodb.logic.Main 2. Make the code you posted compile and run as org.mongodb.logic.Main and 3. Post the code that does that in place of the single method you just posted","body":"You&#39;re not quite there yet. You need to do the following: 1. back up your original org.mongodb.logic.Main 2. Make the code you posted compile and run as org.mongodb.logic.Main and 3. Post the code that does that in place of the single method you just posted"},{"owner":{"account_id":28886412,"reputation":11,"user_id":22124645,"display_name":"Bootfahrer"},"score":0,"creation_date":1691790818,"post_id":76877426,"comment_id":135544351,"body_markdown":"i added the main method for the minimal and it exactly like in my application. Same result","body":"i added the main method for the minimal and it exactly like in my application. Same result"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1691791488,"post_id":76877426,"comment_id":135544411,"body_markdown":"The code won&#39;t compile: a. `uri` is undefined and b. there are no imports","body":"The code won&#39;t compile: a. <code>uri</code> is undefined and b. there are no imports"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1691791878,"post_id":76877426,"comment_id":135544448,"body_markdown":"If you want to keep `uri` &#39;quiet&#39;, pass it into `getMail` from a command line argument to`main`","body":"If you want to keep <code>uri</code> &#39;quiet&#39;, pass it into <code>getMail</code> from a command line argument to<code>main</code>"},{"owner":{"account_id":28886412,"reputation":11,"user_id":22124645,"display_name":"Bootfahrer"},"score":0,"creation_date":1691793035,"post_id":76877426,"comment_id":135544548,"body_markdown":"`uri` is defined with the correct `String` and the imports are also in the file, i just didnt implement them here","body":"<code>uri</code> is defined with the correct <code>String</code> and the imports are also in the file, i just didnt implement them here"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1691793212,"post_id":76877426,"comment_id":135544560,"body_markdown":"You were meant to. See my answer edit with running code","body":"You were meant to. See my answer edit with running code"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1691794495,"post_id":76877426,"comment_id":135544710,"body_markdown":"[Here you go](https://technojeeves.com/tech/mongoq.zip) Unzip it then `mvn package` Run it as shown in the edit to my answer with *your* url and it *should* run for you","body":"<a href=\"https://technojeeves.com/tech/mongoq.zip\" rel=\"nofollow noreferrer\">Here you go</a> Unzip it then <code>mvn package</code> Run it as shown in the edit to my answer with <i>your</i> url and it <i>should</i> run for you"}],"answers":[{"comments":[{"owner":{"account_id":28886412,"reputation":11,"user_id":22124645,"display_name":"Bootfahrer"},"score":0,"creation_date":1691757231,"post_id":76883055,"comment_id":135538514,"body_markdown":"Still doesnt work for some reason. But i noticed something while executing the program in VSC. When i use a method that conntects to MongoDB the console shows:\n\n`Aug 11, 2023 2:31:55 PM com.mongodb.diagnostics.logging.Loggers shouldUseSLF4J\nWARNING: SLF4J not found on the classpath.  Logging is disabled for the &#39;org.mongodb.driver&#39; component`","body":"Still doesnt work for some reason. But i noticed something while executing the program in VSC. When i use a method that conntects to MongoDB the console shows:  <code>Aug 11, 2023 2:31:55 PM com.mongodb.diagnostics.logging.Loggers shouldUseSLF4J WARNING: SLF4J not found on the classpath.  Logging is disabled for the &#39;org.mongodb.driver&#39; component</code>"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1691757677,"post_id":76883055,"comment_id":135538626,"body_markdown":"That&#39;s something entirely different of course. It&#39;s a *warning* (not an error) telling you that your driver will not debug itself without slf4j as a dependency. So you&#39;re saying you&#39;re still getting the *same error* as before with the new Shade config (to which you need to correctly specify the main class to run as an executable jar)?","body":"That&#39;s something entirely different of course. It&#39;s a <i>warning</i> (not an error) telling you that your driver will not debug itself without slf4j as a dependency. So you&#39;re saying you&#39;re still getting the <i>same error</i> as before with the new Shade config (to which you need to correctly specify the main class to run as an executable jar)?"},{"owner":{"account_id":28886412,"reputation":11,"user_id":22124645,"display_name":"Bootfahrer"},"score":0,"creation_date":1691763763,"post_id":76883055,"comment_id":135540015,"body_markdown":"Yeah, still the same Error. I specified `org.mongodb.logic.Main`, which is my Main class with my main method. But im not sure what you mean with the &quot;to run as an executable jar&quot; bit. Do I have to use an other file?","body":"Yeah, still the same Error. I specified <code>org.mongodb.logic.Main</code>, which is my Main class with my main method. But im not sure what you mean with the &quot;to run as an executable jar&quot; bit. Do I have to use an other file?"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1691766661,"post_id":76883055,"comment_id":135540626,"body_markdown":"I mean if you want to run it as `java -jar target/passwordManager-1.0-SNAPSHOT.jar`","body":"I mean if you want to run it as <code>java -jar target&#47;passwordManager-1.0-SNAPSHOT.jar</code>"},{"owner":{"account_id":28886412,"reputation":11,"user_id":22124645,"display_name":"Bootfahrer"},"score":0,"creation_date":1691770684,"post_id":76883055,"comment_id":135541431,"body_markdown":"I edited the pom to my exact code. Maybe you can find a mistake there. It is still not working. Im starting to believe that i have to manually start the program, which is fine i guess. Either way you helped me a lot so far","body":"I edited the pom to my exact code. Maybe you can find a mistake there. It is still not working. Im starting to believe that i have to manually start the program, which is fine i guess. Either way you helped me a lot so far"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1691770841,"post_id":76883055,"comment_id":135541457,"body_markdown":"OK but you should do that in conjunction with making `Main` standalone so we can try it","body":"OK but you should do that in conjunction with making <code>Main</code> standalone so we can try it"}],"tags":[],"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"comment_count":6,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691792407,"creation_date":1691752480,"answer_id":76883055,"question_id":76877426,"body_markdown":"Your shade config looks off. This is one that works for me. You can start with this and add your nodes until it breaks:\r\n```\r\n&lt;plugin&gt;\r\n    &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\r\n    &lt;version&gt;3.1.0&lt;/version&gt;\r\n    &lt;executions&gt;\r\n        &lt;execution&gt;\r\n            &lt;phase&gt;package&lt;/phase&gt;\r\n            &lt;goals&gt;\r\n                &lt;goal&gt;shade&lt;/goal&gt;\r\n            &lt;/goals&gt;\r\n            &lt;configuration&gt;\r\n                &lt;filters&gt;\r\n                    &lt;filter&gt;\r\n                        &lt;artifact&gt;*:*&lt;/artifact&gt;\r\n                        &lt;excludes&gt;\r\n                            &lt;exclude&gt;META-INF/*.SF&lt;/exclude&gt;\r\n                            &lt;exclude&gt;META-INF/*.DSA&lt;/exclude&gt;\r\n                            &lt;exclude&gt;META-INF/*.RSA&lt;/exclude&gt;\r\n                        &lt;/excludes&gt;\r\n                    &lt;/filter&gt;\r\n                &lt;/filters&gt;\r\n                &lt;transformers&gt;\r\n                    &lt;transformer implementation=&quot;org.apache.maven.plugins.shade.resource.ManifestResourceTransformer&quot;&gt;\r\n                        &lt;manifestEntries&gt;\r\n                            &lt;Main-Class&gt;${main.class}&lt;/Main-Class&gt;\r\n                            &lt;Build-Number&gt;1&lt;/Build-Number&gt;\r\n                        &lt;/manifestEntries&gt;\r\n                    &lt;/transformer&gt;\r\n                &lt;/transformers&gt;\r\n            &lt;/configuration&gt;\r\n        &lt;/execution&gt;\r\n    &lt;/executions&gt;\r\n&lt;/plugin&gt;\r\n```\r\nYour code running with my parameter suggestion (error as I don&#39;t have mongodb so the server url is invalid):\r\n\r\n```\r\ngoose@t410:/tmp/java-quick-start-master$ java -jar target/java-quick-start-1.0-SNAPSHOT.jar mongodb://localhost\r\nException in thread &quot;main&quot; com.mongodb.MongoTimeoutException: Timed out after 30000 ms while waiting to connect. Client view of cluster state is {type=UNKNOWN, servers=[{address=localhost:27017, type=UNKNOWN, state=CONNECTING, exception={com.mongodb.MongoSocketOpenException: Exception opening socket}, caused by {java.net.ConnectException: Connection refused}}]\r\n\tat com.mongodb.internal.connection.BaseCluster.getDescription(BaseCluster.java:184)\r\n\tat com.mongodb.internal.connection.SingleServerCluster.getDescription(SingleServerCluster.java:46)\r\n\tat com.mongodb.client.internal.MongoClientDelegate.getConnectedClusterDescription(MongoClientDelegate.java:144)\r\n\tat com.mongodb.client.internal.MongoClientDelegate.createClientSession(MongoClientDelegate.java:101)\r\n\tat com.mongodb.client.internal.MongoClientDelegate$DelegateOperationExecutor.getClientSession(MongoClientDelegate.java:291)\r\n\tat com.mongodb.client.internal.MongoClientDelegate$DelegateOperationExecutor.execute(MongoClientDelegate.java:183)\r\n\tat com.mongodb.client.internal.MongoIterableImpl.execute(MongoIterableImpl.java:133)\r\n\tat com.mongodb.client.internal.MongoIterableImpl.iterator(MongoIterableImpl.java:90)\r\n\tat org.mongodb.logic.Main.getMail(Main.java:25)\r\n\tat org.mongodb.logic.Main.main(Main.java:14)\r\ngoose@t410:/tmp/java-quick-start-master$ \r\n```","title":"java.lang.NoClassDefFoundError while using mongoDB","body":"<p>Your shade config looks off. This is one that works for me. You can start with this and add your nodes until it breaks:</p>\n<pre><code>&lt;plugin&gt;\n    &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\n    &lt;version&gt;3.1.0&lt;/version&gt;\n    &lt;executions&gt;\n        &lt;execution&gt;\n            &lt;phase&gt;package&lt;/phase&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;shade&lt;/goal&gt;\n            &lt;/goals&gt;\n            &lt;configuration&gt;\n                &lt;filters&gt;\n                    &lt;filter&gt;\n                        &lt;artifact&gt;*:*&lt;/artifact&gt;\n                        &lt;excludes&gt;\n                            &lt;exclude&gt;META-INF/*.SF&lt;/exclude&gt;\n                            &lt;exclude&gt;META-INF/*.DSA&lt;/exclude&gt;\n                            &lt;exclude&gt;META-INF/*.RSA&lt;/exclude&gt;\n                        &lt;/excludes&gt;\n                    &lt;/filter&gt;\n                &lt;/filters&gt;\n                &lt;transformers&gt;\n                    &lt;transformer implementation=&quot;org.apache.maven.plugins.shade.resource.ManifestResourceTransformer&quot;&gt;\n                        &lt;manifestEntries&gt;\n                            &lt;Main-Class&gt;${main.class}&lt;/Main-Class&gt;\n                            &lt;Build-Number&gt;1&lt;/Build-Number&gt;\n                        &lt;/manifestEntries&gt;\n                    &lt;/transformer&gt;\n                &lt;/transformers&gt;\n            &lt;/configuration&gt;\n        &lt;/execution&gt;\n    &lt;/executions&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>Your code running with my parameter suggestion (error as I don't have mongodb so the server url is invalid):</p>\n<pre><code>goose@t410:/tmp/java-quick-start-master$ java -jar target/java-quick-start-1.0-SNAPSHOT.jar mongodb://localhost\nException in thread &quot;main&quot; com.mongodb.MongoTimeoutException: Timed out after 30000 ms while waiting to connect. Client view of cluster state is {type=UNKNOWN, servers=[{address=localhost:27017, type=UNKNOWN, state=CONNECTING, exception={com.mongodb.MongoSocketOpenException: Exception opening socket}, caused by {java.net.ConnectException: Connection refused}}]\n    at com.mongodb.internal.connection.BaseCluster.getDescription(BaseCluster.java:184)\n    at com.mongodb.internal.connection.SingleServerCluster.getDescription(SingleServerCluster.java:46)\n    at com.mongodb.client.internal.MongoClientDelegate.getConnectedClusterDescription(MongoClientDelegate.java:144)\n    at com.mongodb.client.internal.MongoClientDelegate.createClientSession(MongoClientDelegate.java:101)\n    at com.mongodb.client.internal.MongoClientDelegate$DelegateOperationExecutor.getClientSession(MongoClientDelegate.java:291)\n    at com.mongodb.client.internal.MongoClientDelegate$DelegateOperationExecutor.execute(MongoClientDelegate.java:183)\n    at com.mongodb.client.internal.MongoIterableImpl.execute(MongoIterableImpl.java:133)\n    at com.mongodb.client.internal.MongoIterableImpl.iterator(MongoIterableImpl.java:90)\n    at org.mongodb.logic.Main.getMail(Main.java:25)\n    at org.mongodb.logic.Main.main(Main.java:14)\ngoose@t410:/tmp/java-quick-start-master$ \n</code></pre>\n"}],"owner":{"account_id":28886412,"reputation":11,"user_id":22124645,"display_name":"Bootfahrer"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":84,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1691792407,"creation_date":1691682992,"question_id":76877426,"body_markdown":"I made my own Password Manager with java. I store the data with MongoDB and my IDE is VSCode. I can run the project without any problems in VSC. I made a .bat file to start the program from my Desktop. But when i use this shortcut, i get the following Error message:\r\n\r\n```\r\nException in thread &quot;AWT-EventQueue-0&quot; java.lang.NoClassDefFoundError: com/mongodb/client/MongoClients\r\n```\r\n\r\ni use:\r\n \r\n```bash\r\njava -cp target/passwordManager-1.0-SNAPSHOT.jar org.mongodb.logic.Main \r\n```\r\n\r\nas my start command in the .bat file. \r\n\r\nHere is my pom.xml:\r\n```\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n  xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n  xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\r\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n  &lt;groupId&gt;org.mongodb&lt;/groupId&gt;\r\n  &lt;artifactId&gt;passwordManager&lt;/artifactId&gt;\r\n  &lt;packaging&gt;jar&lt;/packaging&gt;\r\n  &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n  &lt;name&gt;passwordManager&lt;/name&gt;\r\n  &lt;url&gt;http://maven.apache.org&lt;/url&gt;\r\n\r\n  &lt;dependencies&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;junit&lt;/groupId&gt;\r\n      &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n      &lt;version&gt;3.8.1&lt;/version&gt;\r\n      &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.mongodb&lt;/groupId&gt;\r\n      &lt;artifactId&gt;mongodb-driver-sync&lt;/artifactId&gt;\r\n      &lt;version&gt;4.7.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n  &lt;/dependencies&gt;\r\n\r\n  &lt;properties&gt;\r\n    &lt;maven.compiler.source&gt;1.7&lt;/maven.compiler.source&gt;\r\n    &lt;maven.compiler.target&gt;1.7&lt;/maven.compiler.target&gt;\r\n  &lt;/properties&gt;\r\n\r\n  &lt;build&gt;\r\n    &lt;pluginManagement&gt;\r\n      &lt;plugins&gt;\r\n        &lt;plugin&gt;\r\n          &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n          &lt;version&gt;3.1&lt;/version&gt;\r\n          &lt;configuration&gt;\r\n            &lt;source&gt;1.7&lt;/source&gt;\r\n            &lt;target&gt;1.7&lt;/target&gt;\r\n            &lt;fork&gt;true&lt;/fork&gt;\r\n            &lt;executable&gt;C:\\Program Files\\Java\\jdk1.8.0_202\\bin\\javac&lt;/executable&gt;\r\n          &lt;/configuration&gt;\r\n        &lt;/plugin&gt;\r\n\r\n        &lt;plugin&gt;\r\n          &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n          &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\r\n          &lt;version&gt;3.1.0&lt;/version&gt;\r\n          &lt;executions&gt;\r\n            &lt;execution&gt;\r\n              &lt;phase&gt;package&lt;/phase&gt;\r\n              &lt;goals&gt;\r\n                &lt;goal&gt;shade&lt;/goal&gt;\r\n              &lt;/goals&gt;\r\n              &lt;configuration&gt;\r\n                &lt;filters&gt;\r\n                  &lt;filter&gt;\r\n                    &lt;artifact&gt;*:*&lt;/artifact&gt;\r\n                    &lt;excludes&gt;\r\n                      &lt;exclude&gt;META-INF/*.SF&lt;/exclude&gt;\r\n                      &lt;exclude&gt;META-INF/*.DSA&lt;/exclude&gt;\r\n                      &lt;exclude&gt;META-INF/*.RSA&lt;/exclude&gt;\r\n                    &lt;/excludes&gt;\r\n                  &lt;/filter&gt;\r\n                &lt;/filters&gt;\r\n                &lt;transformers&gt;\r\n                  &lt;transformer\r\n                    implementation=&quot;org.apache.maven.plugins.shade.resource.ManifestResourceTransformer&quot;&gt;\r\n                    &lt;manifestEntries&gt;\r\n                      &lt;Main-Class&gt;org.mongodb.logic.Main&lt;/Main-Class&gt;\r\n                      &lt;Build-Number&gt;1&lt;/Build-Number&gt;\r\n                    &lt;/manifestEntries&gt;\r\n                  &lt;/transformer&gt;\r\n                &lt;/transformers&gt;\r\n              &lt;/configuration&gt;\r\n            &lt;/execution&gt;\r\n          &lt;/executions&gt;\r\n        &lt;/plugin&gt;\r\n\r\n        &lt;plugin&gt;\r\n          &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n          &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\r\n          &lt;configuration&gt;\r\n            &lt;archive&gt;\r\n              &lt;manifest&gt;\r\n                &lt;addClasspath&gt;true&lt;/addClasspath&gt;\r\n                &lt;mainClass&gt;org.mongodb.logic.Main&lt;/mainClass&gt;\r\n              &lt;/manifest&gt;\r\n            &lt;/archive&gt;\r\n          &lt;/configuration&gt;\r\n        &lt;/plugin&gt;\r\n        \r\n      &lt;/plugins&gt;\r\n    &lt;/pluginManagement&gt;\r\n  &lt;/build&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\nalso here is a Minimal:\r\n```java\r\npublic static void main(String[] args) {\r\n        System.out.println(getMail(&quot;test&quot;));\r\n    }\r\n\r\nprivate static String getMail(String nameOfWebsite) {\r\n        String email = null;\r\n\r\n        try (MongoClient mongoClient = MongoClients.create(uri)) {\r\n            MongoDatabase db = mongoClient.getDatabase(&quot;passwordManager&quot;);\r\n            MongoCollection&lt;Document&gt; collPW = db.getCollection(&quot;passwords&quot;);\r\n\r\n            Bson filter = Filters.eq(&quot;nameOfWebsite&quot;, nameOfWebsite);\r\n            MongoCursor&lt;Document&gt; curserPW = collPW.find(filter).iterator();\r\n\r\n            try {\r\n                while (curserPW.hasNext()) {\r\n                    email = (String) curserPW.next().get(&quot;email&quot;);\r\n                }\r\n            } finally {\r\n                curserPW.close();\r\n            }\r\n        }\r\n        return email;\r\n    }","title":"java.lang.NoClassDefFoundError while using mongoDB","body":"<p>I made my own Password Manager with java. I store the data with MongoDB and my IDE is VSCode. I can run the project without any problems in VSC. I made a .bat file to start the program from my Desktop. But when i use this shortcut, i get the following Error message:</p>\n<pre><code>Exception in thread &quot;AWT-EventQueue-0&quot; java.lang.NoClassDefFoundError: com/mongodb/client/MongoClients\n</code></pre>\n<p>i use:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>java -cp target/passwordManager-1.0-SNAPSHOT.jar org.mongodb.logic.Main \n</code></pre>\n<p>as my start command in the .bat file.</p>\n<p>Here is my pom.xml:</p>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n  xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n  xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n  &lt;groupId&gt;org.mongodb&lt;/groupId&gt;\n  &lt;artifactId&gt;passwordManager&lt;/artifactId&gt;\n  &lt;packaging&gt;jar&lt;/packaging&gt;\n  &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n  &lt;name&gt;passwordManager&lt;/name&gt;\n  &lt;url&gt;http://maven.apache.org&lt;/url&gt;\n\n  &lt;dependencies&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;junit&lt;/groupId&gt;\n      &lt;artifactId&gt;junit&lt;/artifactId&gt;\n      &lt;version&gt;3.8.1&lt;/version&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.mongodb&lt;/groupId&gt;\n      &lt;artifactId&gt;mongodb-driver-sync&lt;/artifactId&gt;\n      &lt;version&gt;4.7.0&lt;/version&gt;\n    &lt;/dependency&gt;\n  &lt;/dependencies&gt;\n\n  &lt;properties&gt;\n    &lt;maven.compiler.source&gt;1.7&lt;/maven.compiler.source&gt;\n    &lt;maven.compiler.target&gt;1.7&lt;/maven.compiler.target&gt;\n  &lt;/properties&gt;\n\n  &lt;build&gt;\n    &lt;pluginManagement&gt;\n      &lt;plugins&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n          &lt;version&gt;3.1&lt;/version&gt;\n          &lt;configuration&gt;\n            &lt;source&gt;1.7&lt;/source&gt;\n            &lt;target&gt;1.7&lt;/target&gt;\n            &lt;fork&gt;true&lt;/fork&gt;\n            &lt;executable&gt;C:\\Program Files\\Java\\jdk1.8.0_202\\bin\\javac&lt;/executable&gt;\n          &lt;/configuration&gt;\n        &lt;/plugin&gt;\n\n        &lt;plugin&gt;\n          &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n          &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\n          &lt;version&gt;3.1.0&lt;/version&gt;\n          &lt;executions&gt;\n            &lt;execution&gt;\n              &lt;phase&gt;package&lt;/phase&gt;\n              &lt;goals&gt;\n                &lt;goal&gt;shade&lt;/goal&gt;\n              &lt;/goals&gt;\n              &lt;configuration&gt;\n                &lt;filters&gt;\n                  &lt;filter&gt;\n                    &lt;artifact&gt;*:*&lt;/artifact&gt;\n                    &lt;excludes&gt;\n                      &lt;exclude&gt;META-INF/*.SF&lt;/exclude&gt;\n                      &lt;exclude&gt;META-INF/*.DSA&lt;/exclude&gt;\n                      &lt;exclude&gt;META-INF/*.RSA&lt;/exclude&gt;\n                    &lt;/excludes&gt;\n                  &lt;/filter&gt;\n                &lt;/filters&gt;\n                &lt;transformers&gt;\n                  &lt;transformer\n                    implementation=&quot;org.apache.maven.plugins.shade.resource.ManifestResourceTransformer&quot;&gt;\n                    &lt;manifestEntries&gt;\n                      &lt;Main-Class&gt;org.mongodb.logic.Main&lt;/Main-Class&gt;\n                      &lt;Build-Number&gt;1&lt;/Build-Number&gt;\n                    &lt;/manifestEntries&gt;\n                  &lt;/transformer&gt;\n                &lt;/transformers&gt;\n              &lt;/configuration&gt;\n            &lt;/execution&gt;\n          &lt;/executions&gt;\n        &lt;/plugin&gt;\n\n        &lt;plugin&gt;\n          &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n          &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n          &lt;configuration&gt;\n            &lt;archive&gt;\n              &lt;manifest&gt;\n                &lt;addClasspath&gt;true&lt;/addClasspath&gt;\n                &lt;mainClass&gt;org.mongodb.logic.Main&lt;/mainClass&gt;\n              &lt;/manifest&gt;\n            &lt;/archive&gt;\n          &lt;/configuration&gt;\n        &lt;/plugin&gt;\n        \n      &lt;/plugins&gt;\n    &lt;/pluginManagement&gt;\n  &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p>also here is a Minimal:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] args) {\n        System.out.println(getMail(&quot;test&quot;));\n    }\n\nprivate static String getMail(String nameOfWebsite) {\n        String email = null;\n\n        try (MongoClient mongoClient = MongoClients.create(uri)) {\n            MongoDatabase db = mongoClient.getDatabase(&quot;passwordManager&quot;);\n            MongoCollection&lt;Document&gt; collPW = db.getCollection(&quot;passwords&quot;);\n\n            Bson filter = Filters.eq(&quot;nameOfWebsite&quot;, nameOfWebsite);\n            MongoCursor&lt;Document&gt; curserPW = collPW.find(filter).iterator();\n\n            try {\n                while (curserPW.hasNext()) {\n                    email = (String) curserPW.next().get(&quot;email&quot;);\n                }\n            } finally {\n                curserPW.close();\n            }\n        }\n        return email;\n    }\n</code></pre>\n"},{"tags":["java","javafx","fxml","scenebuilder","jfoenix"],"comments":[{"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"score":0,"creation_date":1691598151,"post_id":76869562,"comment_id":135514308,"body_markdown":"Where is `this.textNode`? That is where your issue lies.","body":"Where is <code>this.textNode</code>? That is where your issue lies."},{"owner":{"account_id":1024933,"reputation":703,"user_id":1034461,"display_name":"horvoje"},"score":0,"creation_date":1691653377,"post_id":76869562,"comment_id":135521229,"body_markdown":"@jewelsea I have hundreds od FXML files already made and they are using JFoenix components. Does it mean I have to replace them all? The app is in production and deployed to many customers which puts me on risk to do such large changes.","body":"@jewelsea I have hundreds od FXML files already made and they are using JFoenix components. Does it mean I have to replace them all? The app is in production and deployed to many customers which puts me on risk to do such large changes."},{"owner":{"account_id":1024933,"reputation":703,"user_id":1034461,"display_name":"horvoje"},"score":0,"creation_date":1691653522,"post_id":76869562,"comment_id":135521255,"body_markdown":"@SedJ601 Well, I don&#39;t know where is it because I only try to open (F) XML file and that file does not have any Java code inside. Ok, I could use sources, put a breakpoint and find where the issue is by myself, but before I tried here to see if anyone else knows more than me.","body":"@SedJ601 Well, I don&#39;t know where is it because I only try to open (F) XML file and that file does not have any Java code inside. Ok, I could use sources, put a breakpoint and find where the issue is by myself, but before I tried here to see if anyone else knows more than me."},{"owner":{"account_id":1024933,"reputation":703,"user_id":1034461,"display_name":"horvoje"},"score":1,"creation_date":1691653770,"post_id":76869562,"comment_id":135521303,"body_markdown":"@jewelsea Oh, lucky me haha! Tnx!","body":"@jewelsea Oh, lucky me haha! Tnx!"},{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1691792399,"post_id":76869562,"comment_id":135544499,"body_markdown":"Moved prior comments to an answer.","body":"Moved prior comments to an answer."}],"answers":[{"tags":[],"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691792355,"creation_date":1691792355,"answer_id":76886938,"question_id":76869562,"body_markdown":"#### Advice\r\n\r\nUse [MaterialFX][1] instead. \r\n\r\nSome JFoenix components are known to be broken in recent SceneBuilder builds and, also, when using JavaFX versions &gt; 15.\r\n\r\n#### Explanation\r\n\r\nThe stack trace shows an error arising in the JFoenix code, not your code. \r\n\r\n[https://github.com/bisq-network/bisq/pull/5835][2]:\r\n\r\n&gt; Running the desktop app only works on JDKs 11 through 15 until sshahine/JFoenix#1205 is fixed. Right now, attempting to run on JDK 16+ will result in a Cannot invoke &quot;javafx.scene.Node.getLayoutBounds()&quot; because &quot;this.textNode&quot; is null error.\r\n\r\n#### Can I still use JFoenix\r\n\r\nMaybe try the solution here:\r\n\r\n * https://stackoverflow.com/questions/70082473/working-with-javafx-in-maven-jfoenix-9-0-10-dependency-issue/70086754#70086754\r\n\r\nwhich is to downgrade to JavaFX 15 both for your runtime and also to downgrade to an earlier version of SceneBuilder that runs on JavaFX 15. \r\n\r\nYou will need to try various archived versions from Gluon if they have them to find one that runs on JavaFX 15 or earlier as all the later SceneBuilder versions use JavaFX 17+ or later which does not work with JFoenix.\r\n\r\n#### FAQ\r\n\r\n&gt;  I have hundreds of FXML files already made and they are using JFoenix components. Does it mean I have to replace them all? The app is in production and deployed to many customers which puts me on risk to do such large changes.\r\n\r\nWell that is difficult then. Probably you will need to change your work flow to hand edit some of the fxml files in a text editor rather than SceneBuilder. Some IDEs, like Idea offer intelligent editing support for that which can help.\r\n\r\nOver time, if you want to continue to maintain the app rather than freezing it as is or retiring it, then plan to migrate from JFoenix to MaterialFX. \r\n\r\n&gt; Can I debug this issue in a debugger?\r\n\r\nA breakpoint won’t help unless you run SceneBuilder and the JFoenix code in a debugger, which I really wouldn’t recommend.\r\n\r\n&gt; Can I fix the JFoenix library?\r\n\r\nYou could perhaps from the stack trace work out where the error and incompatibility in the JFoenix code is and then fix it in a custom version of the JFoenix library.  But, it isn’t the only control incompatible with recent scene builder versions.  You might have to patch and fix multiple things in JFoenix.\r\n\r\nCurrently I don&#39;t think the JFoenix repository is active, so requests for support might not be actioned (that may change over time).\r\n\r\n\r\n  [1]: https://github.com/palexdev/MaterialFX\r\n  [2]: https://github.com/bisq-network/bisq/pull/5835","title":"SceneBuilder cannot open FXML file that uses JFoenix elements","body":"<h4>Advice</h4>\n<p>Use <a href=\"https://github.com/palexdev/MaterialFX\" rel=\"nofollow noreferrer\">MaterialFX</a> instead.</p>\n<p>Some JFoenix components are known to be broken in recent SceneBuilder builds and, also, when using JavaFX versions &gt; 15.</p>\n<h4>Explanation</h4>\n<p>The stack trace shows an error arising in the JFoenix code, not your code.</p>\n<p><a href=\"https://github.com/bisq-network/bisq/pull/5835\" rel=\"nofollow noreferrer\">https://github.com/bisq-network/bisq/pull/5835</a>:</p>\n<blockquote>\n<p>Running the desktop app only works on JDKs 11 through 15 until sshahine/JFoenix#1205 is fixed. Right now, attempting to run on JDK 16+ will result in a Cannot invoke &quot;javafx.scene.Node.getLayoutBounds()&quot; because &quot;this.textNode&quot; is null error.</p>\n</blockquote>\n<h4>Can I still use JFoenix</h4>\n<p>Maybe try the solution here:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/70082473/working-with-javafx-in-maven-jfoenix-9-0-10-dependency-issue/70086754#70086754\">Working with JavaFX in Maven (Jfoenix 9.0.10 dependency issue)</a></li>\n</ul>\n<p>which is to downgrade to JavaFX 15 both for your runtime and also to downgrade to an earlier version of SceneBuilder that runs on JavaFX 15.</p>\n<p>You will need to try various archived versions from Gluon if they have them to find one that runs on JavaFX 15 or earlier as all the later SceneBuilder versions use JavaFX 17+ or later which does not work with JFoenix.</p>\n<h4>FAQ</h4>\n<blockquote>\n<p>I have hundreds of FXML files already made and they are using JFoenix components. Does it mean I have to replace them all? The app is in production and deployed to many customers which puts me on risk to do such large changes.</p>\n</blockquote>\n<p>Well that is difficult then. Probably you will need to change your work flow to hand edit some of the fxml files in a text editor rather than SceneBuilder. Some IDEs, like Idea offer intelligent editing support for that which can help.</p>\n<p>Over time, if you want to continue to maintain the app rather than freezing it as is or retiring it, then plan to migrate from JFoenix to MaterialFX.</p>\n<blockquote>\n<p>Can I debug this issue in a debugger?</p>\n</blockquote>\n<p>A breakpoint won’t help unless you run SceneBuilder and the JFoenix code in a debugger, which I really wouldn’t recommend.</p>\n<blockquote>\n<p>Can I fix the JFoenix library?</p>\n</blockquote>\n<p>You could perhaps from the stack trace work out where the error and incompatibility in the JFoenix code is and then fix it in a custom version of the JFoenix library.  But, it isn’t the only control incompatible with recent scene builder versions.  You might have to patch and fix multiple things in JFoenix.</p>\n<p>Currently I don't think the JFoenix repository is active, so requests for support might not be actioned (that may change over time).</p>\n"}],"owner":{"account_id":1024933,"reputation":703,"user_id":1034461,"display_name":"horvoje"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1691792355,"creation_date":1691597682,"question_id":76869562,"body_markdown":"While trying to open FXML file in SceneBuilder, exception is thrown. Is there a way to fix this?\r\n\r\n**Java:**\\\r\n11.0.19 2023-04-18 LTS\r\n\r\n**SceneBuilder:**\\\r\nVersion 20.0.0\\\r\nDate: 2023-05-08 14:08:52\\\r\nJavaFX Version: 20.0.1\\\r\nJava Version: 20, OpenJDK Runtime Environment\r\n\r\n**JFoenix:**\\\r\njfoenix-8.0.10.jar\\\r\njfoenix-9.0.10.jar\\\r\njfoenix-17.0.2.jar\\\r\njfoenix-17.0.5.jar\\\r\njfoenix-19.0.1.jar\\\r\n(none of above is working)\r\n\r\n---\r\n\r\n\r\n```\r\njava.lang.NullPointerException: Cannot invoke &quot;javafx.scene.Node.getLayoutBounds()&quot; because &quot;this.textNode&quot; is null\r\n\tat com.jfoenix.skins.JFXTextFieldSkin.updateTextPos(JFXTextFieldSkin.java:109)\r\n\tat com.jfoenix.skins.JFXTextFieldSkin.layoutChildren(JFXTextFieldSkin.java:93)\r\n\tat javafx.controls@20.0.1/javafx.scene.control.Control.layoutChildren(Unknown Source)\r\n\tat javafx.graphics@20.0.1/javafx.scene.Parent.layout(Unknown Source)\r\n\tat javafx.graphics@20.0.1/javafx.scene.Parent.layout(Unknown Source)\r\n\tat javafx.graphics@20.0.1/javafx.scene.Parent.layout(Unknown Source)\r\n\tat javafx.graphics@20.0.1/javafx.scene.Parent.layout(Unknown Source)\r\n\tat javafx.graphics@20.0.1/javafx.scene.Parent.layout(Unknown Source)\r\n\tat javafx.graphics@20.0.1/javafx.scene.SubScene.layoutPass(Unknown Source)\r\n\tat javafx.graphics@20.0.1/javafx.scene.Parent.layout(Unknown Source)\r\n\tat javafx.graphics@20.0.1/javafx.scene.Parent.layout(Unknown Source)\r\n\tat javafx.graphics@20.0.1/javafx.scene.Group.prefWidth(Unknown Source)\r\n\tat javafx.graphics@20.0.1/javafx.scene.Group.minWidth(Unknown Source)\r\n\tat javafx.graphics@20.0.1/javafx.scene.layout.Region.computeChildPrefAreaWidth(Unknown Source)\r\n\tat javafx.graphics@20.0.1/javafx.scene.layout.Region.getMaxAreaWidth(Unknown Source)\r\n\tat javafx.graphics@20.0.1/javafx.scene.layout.Region.computeMaxPrefAreaWidth(Unknown Source)\r\n\tat javafx.graphics@20.0.1/javafx.scene.layout.StackPane.computePrefWidth(Unknown Source)\r\n\tat javafx.graphics@20.0.1/javafx.scene.Parent.prefWidth(Unknown Source)\r\n\tat javafx.graphics@20.0.1/javafx.scene.layout.Region.prefWidth(Unknown Source)\r\n\tat javafx.graphics@20.0.1/javafx.scene.layout.Region.minWidth(Unknown Source)\r\n\tat javafx.controls@20.0.1/javafx.scene.control.skin.ScrollPaneSkin.computeScrollNodeSize(Unknown Source)\r\n\tat javafx.controls@20.0.1/javafx.scene.control.skin.ScrollPaneSkin.layoutChildren(Unknown Source)\r\n\tat javafx.controls@20.0.1/javafx.scene.control.Control.layoutChildren(Unknown Source)\r\n\tat javafx.graphics@20.0.1/javafx.scene.Parent.layout(Unknown Source)\r\n\tat javafx.graphics@20.0.1/javafx.scene.Parent.layout(Unknown Source)\r\n\tat javafx.graphics@20.0.1/javafx.scene.Parent.layout(Unknown Source)\r\n\tat javafx.graphics@20.0.1/javafx.scene.Parent.layout(Unknown Source)\r\n\tat javafx.graphics@20.0.1/javafx.scene.Parent.layout(Unknown Source)\r\n\tat javafx.graphics@20.0.1/javafx.scene.Parent.layout(Unknown Source)\r\n\tat javafx.graphics@20.0.1/javafx.scene.Parent.layout(Unknown Source)\r\n\tat javafx.graphics@20.0.1/javafx.scene.Parent.layout(Unknown Source)\r\n\tat javafx.graphics@20.0.1/javafx.scene.Scene.doLayoutPass(Unknown Source)\r\n\tat javafx.graphics@20.0.1/javafx.scene.Scene.preferredSize(Unknown Source)\r\n\tat javafx.graphics@20.0.1/javafx.scene.Scene$2.preferredSize(Unknown Source)\r\n\tat javafx.graphics@20.0.1/com.sun.javafx.scene.SceneHelper.preferredSize(Unknown Source)\r\n\tat javafx.graphics@20.0.1/javafx.stage.Window$12.invalidated(Unknown Source)\r\n\tat javafx.base@20.0.1/javafx.beans.property.BooleanPropertyBase.markInvalid(Unknown Source)\r\n\tat javafx.base@20.0.1/javafx.beans.property.BooleanPropertyBase.set(Unknown Source)\r\n\tat javafx.graphics@20.0.1/javafx.stage.Window.setShowing(Unknown Source)\r\n\tat javafx.graphics@20.0.1/javafx.stage.Window.show(Unknown Source)\r\n\tat javafx.graphics@20.0.1/javafx.stage.Stage.show(Unknown Source)\r\n\tat com.oracle.javafx.scenebuilder.kit.editor.panel.util.AbstractWindowController.openWindow(AbstractWindowController.java:152)\r\n\tat com.oracle.javafx.scenebuilder.app.DocumentWindowController.openWindow(DocumentWindowController.java:1228)\r\n\tat com.oracle.javafx.scenebuilder.app.SceneBuilderApp.performOpenFiles(SceneBuilderApp.java:675)\r\n\tat com.oracle.javafx.scenebuilder.app.SceneBuilderApp.handleOpenFilesAction(SceneBuilderApp.java:513)\r\n\tat com.oracle.javafx.scenebuilder.app.welcomedialog.WelcomeDialogWindowController.handleOpen(WelcomeDialogWindowController.java:221)\r\n\tat com.oracle.javafx.scenebuilder.app.welcomedialog.WelcomeDialogWindowController.fireOpenRecentProject(WelcomeDialogWindowController.java:194)\r\n\tat com.oracle.javafx.scenebuilder.app.welcomedialog.WelcomeDialogWindowController.lambda$loadAndPopulateRecentItemsInBackground$2(WelcomeDialogWindowController.java:155)\r\n\tat javafx.base@20.0.1/com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(Unknown Source)\r\n\tat javafx.base@20.0.1/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(Unknown Source)\r\n\tat javafx.base@20.0.1/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(Unknown Source)\r\n\tat javafx.base@20.0.1/com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(Unknown Source)\r\n\tat javafx.base@20.0.1/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(Unknown Source)\r\n\tat javafx.base@20.0.1/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(Unknown Source)\r\n\tat javafx.base@20.0.1/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(Unknown Source)\r\n\tat javafx.base@20.0.1/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(Unknown Source)\r\n\tat javafx.base@20.0.1/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(Unknown Source)\r\n\tat javafx.base@20.0.1/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(Unknown Source)\r\n\tat javafx.base@20.0.1/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(Unknown Source)\r\n\tat javafx.base@20.0.1/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(Unknown Source)\r\n\tat javafx.base@20.0.1/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(Unknown Source)\r\n\tat javafx.base@20.0.1/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(Unknown Source)\r\n\tat javafx.base@20.0.1/com.sun.javafx.event.EventUtil.fireEventImpl(Unknown Source)\r\n\tat javafx.base@20.0.1/com.sun.javafx.event.EventUtil.fireEvent(Unknown Source)\r\n\tat javafx.base@20.0.1/javafx.event.Event.fireEvent(Unknown Source)\r\n\tat javafx.graphics@20.0.1/javafx.scene.Node.fireEvent(Unknown Source)\r\n\tat javafx.controls@20.0.1/javafx.scene.control.Button.fire(Unknown Source)\r\n\tat javafx.controls@20.0.1/com.sun.javafx.scene.control.behavior.ButtonBehavior.mouseReleased(Unknown Source)\r\n\tat javafx.controls@20.0.1/com.sun.javafx.scene.control.inputmap.InputMap.handle(Unknown Source)\r\n\tat javafx.base@20.0.1/com.sun.javafx.event.CompositeEventHandler$NormalEventHandlerRecord.handleBubblingEvent(Unknown Source)\r\n\tat javafx.base@20.0.1/com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(Unknown Source)\r\n\tat javafx.base@20.0.1/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(Unknown Source)\r\n\tat javafx.base@20.0.1/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(Unknown Source)\r\n\tat javafx.base@20.0.1/com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(Unknown Source)\r\n\tat javafx.base@20.0.1/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(Unknown Source)\r\n\tat javafx.base@20.0.1/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(Unknown Source)\r\n\tat javafx.base@20.0.1/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(Unknown Source)\r\n\tat javafx.base@20.0.1/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(Unknown Source)\r\n\tat javafx.base@20.0.1/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(Unknown Source)\r\n\tat javafx.base@20.0.1/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(Unknown Source)\r\n\tat javafx.base@20.0.1/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(Unknown Source)\r\n\tat javafx.base@20.0.1/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(Unknown Source)\r\n\tat javafx.base@20.0.1/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(Unknown Source)\r\n\tat javafx.base@20.0.1/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(Unknown Source)\r\n\tat javafx.base@20.0.1/com.sun.javafx.event.EventUtil.fireEventImpl(Unknown Source)\r\n\tat javafx.base@20.0.1/com.sun.javafx.event.EventUtil.fireEvent(Unknown Source)\r\n\tat javafx.base@20.0.1/javafx.event.Event.fireEvent(Unknown Source)\r\n\tat javafx.graphics@20.0.1/javafx.scene.Scene$MouseHandler.process(Unknown Source)\r\n\tat javafx.graphics@20.0.1/javafx.scene.Scene.processMouseEvent(Unknown Source)\r\n\tat javafx.graphics@20.0.1/javafx.scene.Scene$ScenePeerListener.mouseEvent(Unknown Source)\r\n\tat javafx.graphics@20.0.1/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(Unknown Source)\r\n\tat javafx.graphics@20.0.1/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(Unknown Source)\r\n\tat java.base/java.security.AccessController.doPrivileged(Unknown Source)\r\n\tat javafx.graphics@20.0.1/com.sun.javafx.tk.quantum.GlassViewEventHandler.lambda$handleMouseEvent$2(Unknown Source)\r\n\tat javafx.graphics@20.0.1/com.sun.javafx.tk.quantum.QuantumToolkit.runWithoutRenderLock(Unknown Source)\r\n\tat javafx.graphics@20.0.1/com.sun.javafx.tk.quantum.GlassViewEventHandler.handleMouseEvent(Unknown Source)\r\n\tat javafx.graphics@20.0.1/com.sun.glass.ui.View.handleMouseEvent(Unknown Source)\r\n\tat javafx.graphics@20.0.1/com.sun.glass.ui.View.notifyMouse(Unknown Source)\r\n\tat javafx.graphics@20.0.1/com.sun.glass.ui.win.WinApplication._runLoop(Native Method)\r\n\tat javafx.graphics@20.0.1/com.sun.glass.ui.win.WinApplication.lambda$runLoop$3(Unknown Source)\r\n\tat java.base/java.lang.Thread.run(Unknown Source)\r\n```","title":"SceneBuilder cannot open FXML file that uses JFoenix elements","body":"<p>While trying to open FXML file in SceneBuilder, exception is thrown. Is there a way to fix this?</p>\n<p><strong>Java:</strong><br />\n11.0.19 2023-04-18 LTS</p>\n<p><strong>SceneBuilder:</strong><br />\nVersion 20.0.0<br />\nDate: 2023-05-08 14:08:52<br />\nJavaFX Version: 20.0.1<br />\nJava Version: 20, OpenJDK Runtime Environment</p>\n<p><strong>JFoenix:</strong><br />\njfoenix-8.0.10.jar<br />\njfoenix-9.0.10.jar<br />\njfoenix-17.0.2.jar<br />\njfoenix-17.0.5.jar<br />\njfoenix-19.0.1.jar<br />\n(none of above is working)</p>\n<hr />\n<pre><code>java.lang.NullPointerException: Cannot invoke &quot;javafx.scene.Node.getLayoutBounds()&quot; because &quot;this.textNode&quot; is null\n    at com.jfoenix.skins.JFXTextFieldSkin.updateTextPos(JFXTextFieldSkin.java:109)\n    at com.jfoenix.skins.JFXTextFieldSkin.layoutChildren(JFXTextFieldSkin.java:93)\n    at javafx.controls@20.0.1/javafx.scene.control.Control.layoutChildren(Unknown Source)\n    at javafx.graphics@20.0.1/javafx.scene.Parent.layout(Unknown Source)\n    at javafx.graphics@20.0.1/javafx.scene.Parent.layout(Unknown Source)\n    at javafx.graphics@20.0.1/javafx.scene.Parent.layout(Unknown Source)\n    at javafx.graphics@20.0.1/javafx.scene.Parent.layout(Unknown Source)\n    at javafx.graphics@20.0.1/javafx.scene.Parent.layout(Unknown Source)\n    at javafx.graphics@20.0.1/javafx.scene.SubScene.layoutPass(Unknown Source)\n    at javafx.graphics@20.0.1/javafx.scene.Parent.layout(Unknown Source)\n    at javafx.graphics@20.0.1/javafx.scene.Parent.layout(Unknown Source)\n    at javafx.graphics@20.0.1/javafx.scene.Group.prefWidth(Unknown Source)\n    at javafx.graphics@20.0.1/javafx.scene.Group.minWidth(Unknown Source)\n    at javafx.graphics@20.0.1/javafx.scene.layout.Region.computeChildPrefAreaWidth(Unknown Source)\n    at javafx.graphics@20.0.1/javafx.scene.layout.Region.getMaxAreaWidth(Unknown Source)\n    at javafx.graphics@20.0.1/javafx.scene.layout.Region.computeMaxPrefAreaWidth(Unknown Source)\n    at javafx.graphics@20.0.1/javafx.scene.layout.StackPane.computePrefWidth(Unknown Source)\n    at javafx.graphics@20.0.1/javafx.scene.Parent.prefWidth(Unknown Source)\n    at javafx.graphics@20.0.1/javafx.scene.layout.Region.prefWidth(Unknown Source)\n    at javafx.graphics@20.0.1/javafx.scene.layout.Region.minWidth(Unknown Source)\n    at javafx.controls@20.0.1/javafx.scene.control.skin.ScrollPaneSkin.computeScrollNodeSize(Unknown Source)\n    at javafx.controls@20.0.1/javafx.scene.control.skin.ScrollPaneSkin.layoutChildren(Unknown Source)\n    at javafx.controls@20.0.1/javafx.scene.control.Control.layoutChildren(Unknown Source)\n    at javafx.graphics@20.0.1/javafx.scene.Parent.layout(Unknown Source)\n    at javafx.graphics@20.0.1/javafx.scene.Parent.layout(Unknown Source)\n    at javafx.graphics@20.0.1/javafx.scene.Parent.layout(Unknown Source)\n    at javafx.graphics@20.0.1/javafx.scene.Parent.layout(Unknown Source)\n    at javafx.graphics@20.0.1/javafx.scene.Parent.layout(Unknown Source)\n    at javafx.graphics@20.0.1/javafx.scene.Parent.layout(Unknown Source)\n    at javafx.graphics@20.0.1/javafx.scene.Parent.layout(Unknown Source)\n    at javafx.graphics@20.0.1/javafx.scene.Parent.layout(Unknown Source)\n    at javafx.graphics@20.0.1/javafx.scene.Scene.doLayoutPass(Unknown Source)\n    at javafx.graphics@20.0.1/javafx.scene.Scene.preferredSize(Unknown Source)\n    at javafx.graphics@20.0.1/javafx.scene.Scene$2.preferredSize(Unknown Source)\n    at javafx.graphics@20.0.1/com.sun.javafx.scene.SceneHelper.preferredSize(Unknown Source)\n    at javafx.graphics@20.0.1/javafx.stage.Window$12.invalidated(Unknown Source)\n    at javafx.base@20.0.1/javafx.beans.property.BooleanPropertyBase.markInvalid(Unknown Source)\n    at javafx.base@20.0.1/javafx.beans.property.BooleanPropertyBase.set(Unknown Source)\n    at javafx.graphics@20.0.1/javafx.stage.Window.setShowing(Unknown Source)\n    at javafx.graphics@20.0.1/javafx.stage.Window.show(Unknown Source)\n    at javafx.graphics@20.0.1/javafx.stage.Stage.show(Unknown Source)\n    at com.oracle.javafx.scenebuilder.kit.editor.panel.util.AbstractWindowController.openWindow(AbstractWindowController.java:152)\n    at com.oracle.javafx.scenebuilder.app.DocumentWindowController.openWindow(DocumentWindowController.java:1228)\n    at com.oracle.javafx.scenebuilder.app.SceneBuilderApp.performOpenFiles(SceneBuilderApp.java:675)\n    at com.oracle.javafx.scenebuilder.app.SceneBuilderApp.handleOpenFilesAction(SceneBuilderApp.java:513)\n    at com.oracle.javafx.scenebuilder.app.welcomedialog.WelcomeDialogWindowController.handleOpen(WelcomeDialogWindowController.java:221)\n    at com.oracle.javafx.scenebuilder.app.welcomedialog.WelcomeDialogWindowController.fireOpenRecentProject(WelcomeDialogWindowController.java:194)\n    at com.oracle.javafx.scenebuilder.app.welcomedialog.WelcomeDialogWindowController.lambda$loadAndPopulateRecentItemsInBackground$2(WelcomeDialogWindowController.java:155)\n    at javafx.base@20.0.1/com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(Unknown Source)\n    at javafx.base@20.0.1/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(Unknown Source)\n    at javafx.base@20.0.1/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(Unknown Source)\n    at javafx.base@20.0.1/com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(Unknown Source)\n    at javafx.base@20.0.1/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(Unknown Source)\n    at javafx.base@20.0.1/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(Unknown Source)\n    at javafx.base@20.0.1/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(Unknown Source)\n    at javafx.base@20.0.1/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(Unknown Source)\n    at javafx.base@20.0.1/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(Unknown Source)\n    at javafx.base@20.0.1/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(Unknown Source)\n    at javafx.base@20.0.1/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(Unknown Source)\n    at javafx.base@20.0.1/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(Unknown Source)\n    at javafx.base@20.0.1/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(Unknown Source)\n    at javafx.base@20.0.1/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(Unknown Source)\n    at javafx.base@20.0.1/com.sun.javafx.event.EventUtil.fireEventImpl(Unknown Source)\n    at javafx.base@20.0.1/com.sun.javafx.event.EventUtil.fireEvent(Unknown Source)\n    at javafx.base@20.0.1/javafx.event.Event.fireEvent(Unknown Source)\n    at javafx.graphics@20.0.1/javafx.scene.Node.fireEvent(Unknown Source)\n    at javafx.controls@20.0.1/javafx.scene.control.Button.fire(Unknown Source)\n    at javafx.controls@20.0.1/com.sun.javafx.scene.control.behavior.ButtonBehavior.mouseReleased(Unknown Source)\n    at javafx.controls@20.0.1/com.sun.javafx.scene.control.inputmap.InputMap.handle(Unknown Source)\n    at javafx.base@20.0.1/com.sun.javafx.event.CompositeEventHandler$NormalEventHandlerRecord.handleBubblingEvent(Unknown Source)\n    at javafx.base@20.0.1/com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(Unknown Source)\n    at javafx.base@20.0.1/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(Unknown Source)\n    at javafx.base@20.0.1/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(Unknown Source)\n    at javafx.base@20.0.1/com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(Unknown Source)\n    at javafx.base@20.0.1/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(Unknown Source)\n    at javafx.base@20.0.1/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(Unknown Source)\n    at javafx.base@20.0.1/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(Unknown Source)\n    at javafx.base@20.0.1/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(Unknown Source)\n    at javafx.base@20.0.1/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(Unknown Source)\n    at javafx.base@20.0.1/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(Unknown Source)\n    at javafx.base@20.0.1/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(Unknown Source)\n    at javafx.base@20.0.1/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(Unknown Source)\n    at javafx.base@20.0.1/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(Unknown Source)\n    at javafx.base@20.0.1/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(Unknown Source)\n    at javafx.base@20.0.1/com.sun.javafx.event.EventUtil.fireEventImpl(Unknown Source)\n    at javafx.base@20.0.1/com.sun.javafx.event.EventUtil.fireEvent(Unknown Source)\n    at javafx.base@20.0.1/javafx.event.Event.fireEvent(Unknown Source)\n    at javafx.graphics@20.0.1/javafx.scene.Scene$MouseHandler.process(Unknown Source)\n    at javafx.graphics@20.0.1/javafx.scene.Scene.processMouseEvent(Unknown Source)\n    at javafx.graphics@20.0.1/javafx.scene.Scene$ScenePeerListener.mouseEvent(Unknown Source)\n    at javafx.graphics@20.0.1/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(Unknown Source)\n    at javafx.graphics@20.0.1/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(Unknown Source)\n    at java.base/java.security.AccessController.doPrivileged(Unknown Source)\n    at javafx.graphics@20.0.1/com.sun.javafx.tk.quantum.GlassViewEventHandler.lambda$handleMouseEvent$2(Unknown Source)\n    at javafx.graphics@20.0.1/com.sun.javafx.tk.quantum.QuantumToolkit.runWithoutRenderLock(Unknown Source)\n    at javafx.graphics@20.0.1/com.sun.javafx.tk.quantum.GlassViewEventHandler.handleMouseEvent(Unknown Source)\n    at javafx.graphics@20.0.1/com.sun.glass.ui.View.handleMouseEvent(Unknown Source)\n    at javafx.graphics@20.0.1/com.sun.glass.ui.View.notifyMouse(Unknown Source)\n    at javafx.graphics@20.0.1/com.sun.glass.ui.win.WinApplication._runLoop(Native Method)\n    at javafx.graphics@20.0.1/com.sun.glass.ui.win.WinApplication.lambda$runLoop$3(Unknown Source)\n    at java.base/java.lang.Thread.run(Unknown Source)\n</code></pre>\n"},{"tags":["java","checksum","crc"],"answers":[{"tags":[],"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1691792142,"creation_date":1285438336,"answer_id":3794928,"question_id":3793399,"body_markdown":"It appears you want the [CRC-16-IBM][3] polynomial, x&lt;sup&gt;16&lt;/sup&gt; + x&lt;sup&gt;15&lt;/sup&gt; + x&lt;sup&gt;2&lt;/sup&gt; + 1, reversed (`0xA001`). A Java implementation of [CRC-16][3] using the [CRC-16-CCITT][3] polynomial, x&lt;sup&gt;16&lt;/sup&gt; + x&lt;sup&gt;12&lt;/sup&gt; + x&lt;sup&gt;5&lt;/sup&gt; + 1, may be found [here][1]; a corresponding unit test is [here][2]. These should get you started in the right direction.\r\n\r\n [1]: https://github.com/AppleCommander/ShrinkItArchive/blob/master/src/main/java/com/webcodepro/shrinkit/CRC16.java\r\n [2]: https://github.com/AppleCommander/ShrinkItArchive/blob/master/src/test/java/com/webcodepro/shrinkit/CRC16Test.java\r\n [3]: https://en.wikipedia.org/wiki/Cyclic_redundancy_check#Polynomial_representations_of_cyclic_redundancy_checks","title":"CRC-16 with 0xA001 polynomial","body":"<p>It appears you want the <a href=\"https://en.wikipedia.org/wiki/Cyclic_redundancy_check#Polynomial_representations_of_cyclic_redundancy_checks\" rel=\"nofollow noreferrer\">CRC-16-IBM</a> polynomial, x<sup>16</sup> + x<sup>15</sup> + x<sup>2</sup> + 1, reversed (<code>0xA001</code>). A Java implementation of <a href=\"https://en.wikipedia.org/wiki/Cyclic_redundancy_check#Polynomial_representations_of_cyclic_redundancy_checks\" rel=\"nofollow noreferrer\">CRC-16</a> using the <a href=\"https://en.wikipedia.org/wiki/Cyclic_redundancy_check#Polynomial_representations_of_cyclic_redundancy_checks\" rel=\"nofollow noreferrer\">CRC-16-CCITT</a> polynomial, x<sup>16</sup> + x<sup>12</sup> + x<sup>5</sup> + 1, may be found <a href=\"https://github.com/AppleCommander/ShrinkItArchive/blob/master/src/main/java/com/webcodepro/shrinkit/CRC16.java\" rel=\"nofollow noreferrer\">here</a>; a corresponding unit test is <a href=\"https://github.com/AppleCommander/ShrinkItArchive/blob/master/src/test/java/com/webcodepro/shrinkit/CRC16Test.java\" rel=\"nofollow noreferrer\">here</a>. These should get you started in the right direction.</p>\n"},{"tags":[],"owner":{"account_id":451920,"reputation":12682,"user_id":848072,"accept_rate":47,"display_name":"albfan"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1633977602,"creation_date":1464270955,"answer_id":37462958,"question_id":3793399,"body_markdown":"`String` keeps chars in unicode, so a a little correction on this Princeton [implementation][1] would be:\r\n\r\n    public class CRC16 {\r\n    \r\n    \tprivate static final int[] table = {\r\n    \t\t\t0x0000, 0xC0C1, 0xC181, 0x0140, 0xC301, 0x03C0, 0x0280, 0xC241,\r\n    \t\t\t0xC601, 0x06C0, 0x0780, 0xC741, 0x0500, 0xC5C1, 0xC481, 0x0440,\r\n    \t\t\t0xCC01, 0x0CC0, 0x0D80, 0xCD41, 0x0F00, 0xCFC1, 0xCE81, 0x0E40,\r\n    \t\t\t0x0A00, 0xCAC1, 0xCB81, 0x0B40, 0xC901, 0x09C0, 0x0880, 0xC841,\r\n    \t\t\t0xD801, 0x18C0, 0x1980, 0xD941, 0x1B00, 0xDBC1, 0xDA81, 0x1A40,\r\n    \t\t\t0x1E00, 0xDEC1, 0xDF81, 0x1F40, 0xDD01, 0x1DC0, 0x1C80, 0xDC41,\r\n    \t\t\t0x1400, 0xD4C1, 0xD581, 0x1540, 0xD701, 0x17C0, 0x1680, 0xD641,\r\n    \t\t\t0xD201, 0x12C0, 0x1380, 0xD341, 0x1100, 0xD1C1, 0xD081, 0x1040,\r\n    \t\t\t0xF001, 0x30C0, 0x3180, 0xF141, 0x3300, 0xF3C1, 0xF281, 0x3240,\r\n    \t\t\t0x3600, 0xF6C1, 0xF781, 0x3740, 0xF501, 0x35C0, 0x3480, 0xF441,\r\n    \t\t\t0x3C00, 0xFCC1, 0xFD81, 0x3D40, 0xFF01, 0x3FC0, 0x3E80, 0xFE41,\r\n    \t\t\t0xFA01, 0x3AC0, 0x3B80, 0xFB41, 0x3900, 0xF9C1, 0xF881, 0x3840,\r\n    \t\t\t0x2800, 0xE8C1, 0xE981, 0x2940, 0xEB01, 0x2BC0, 0x2A80, 0xEA41,\r\n    \t\t\t0xEE01, 0x2EC0, 0x2F80, 0xEF41, 0x2D00, 0xEDC1, 0xEC81, 0x2C40,\r\n    \t\t\t0xE401, 0x24C0, 0x2580, 0xE541, 0x2700, 0xE7C1, 0xE681, 0x2640,\r\n    \t\t\t0x2200, 0xE2C1, 0xE381, 0x2340, 0xE101, 0x21C0, 0x2080, 0xE041,\r\n    \t\t\t0xA001, 0x60C0, 0x6180, 0xA141, 0x6300, 0xA3C1, 0xA281, 0x6240,\r\n    \t\t\t0x6600, 0xA6C1, 0xA781, 0x6740, 0xA501, 0x65C0, 0x6480, 0xA441,\r\n    \t\t\t0x6C00, 0xACC1, 0xAD81, 0x6D40, 0xAF01, 0x6FC0, 0x6E80, 0xAE41,\r\n    \t\t\t0xAA01, 0x6AC0, 0x6B80, 0xAB41, 0x6900, 0xA9C1, 0xA881, 0x6840,\r\n    \t\t\t0x7800, 0xB8C1, 0xB981, 0x7940, 0xBB01, 0x7BC0, 0x7A80, 0xBA41,\r\n    \t\t\t0xBE01, 0x7EC0, 0x7F80, 0xBF41, 0x7D00, 0xBDC1, 0xBC81, 0x7C40,\r\n    \t\t\t0xB401, 0x74C0, 0x7580, 0xB541, 0x7700, 0xB7C1, 0xB681, 0x7640,\r\n    \t\t\t0x7200, 0xB2C1, 0xB381, 0x7340, 0xB101, 0x71C0, 0x7080, 0xB041,\r\n    \t\t\t0x5000, 0x90C1, 0x9181, 0x5140, 0x9301, 0x53C0, 0x5280, 0x9241,\r\n    \t\t\t0x9601, 0x56C0, 0x5780, 0x9741, 0x5500, 0x95C1, 0x9481, 0x5440,\r\n    \t\t\t0x9C01, 0x5CC0, 0x5D80, 0x9D41, 0x5F00, 0x9FC1, 0x9E81, 0x5E40,\r\n    \t\t\t0x5A00, 0x9AC1, 0x9B81, 0x5B40, 0x9901, 0x59C0, 0x5880, 0x9841,\r\n    \t\t\t0x8801, 0x48C0, 0x4980, 0x8941, 0x4B00, 0x8BC1, 0x8A81, 0x4A40,\r\n    \t\t\t0x4E00, 0x8EC1, 0x8F81, 0x4F40, 0x8D01, 0x4DC0, 0x4C80, 0x8C41,\r\n    \t\t\t0x4400, 0x84C1, 0x8581, 0x4540, 0x8701, 0x47C0, 0x4680, 0x8641,\r\n    \t\t\t0x8201, 0x42C0, 0x4380, 0x8341, 0x4100, 0x81C1, 0x8081, 0x4040,\r\n    \t};\r\n    \r\n    \tpublic static String calcularCRC16(String trama) {\r\n    \r\n            char[] chars = trama.toCharArray();\r\n            int crc = 0x0000;\r\n            for (char c : chars) {\r\n                crc = (crc &gt;&gt;&gt; 8) ^ table[(crc ^ c &amp; 0x00ff) &amp; 0xff];\r\n            }\r\n    \r\n            return Integer.toHexString(crc);\r\n        }\r\n    }\r\n\r\nThe change consists on working with chars, not bytes, and `c &amp; 0x00ff` to keep only the relevant data.\r\n\r\nA good test can be found on: \r\n\r\nhttp://www.sunshine2k.de/coding/javascript/crc/crc_js.html\r\n\r\nYour referred implementation is CRC16_ARC.\r\n\r\n\r\n  [1]: http://introcs.cs.princeton.edu/java/61data/CRC16.java","title":"CRC-16 with 0xA001 polynomial","body":"<p><code>String</code> keeps chars in unicode, so a a little correction on this Princeton <a href=\"http://introcs.cs.princeton.edu/java/61data/CRC16.java\" rel=\"nofollow noreferrer\">implementation</a> would be:</p>\n<pre><code>public class CRC16 {\n\n    private static final int[] table = {\n            0x0000, 0xC0C1, 0xC181, 0x0140, 0xC301, 0x03C0, 0x0280, 0xC241,\n            0xC601, 0x06C0, 0x0780, 0xC741, 0x0500, 0xC5C1, 0xC481, 0x0440,\n            0xCC01, 0x0CC0, 0x0D80, 0xCD41, 0x0F00, 0xCFC1, 0xCE81, 0x0E40,\n            0x0A00, 0xCAC1, 0xCB81, 0x0B40, 0xC901, 0x09C0, 0x0880, 0xC841,\n            0xD801, 0x18C0, 0x1980, 0xD941, 0x1B00, 0xDBC1, 0xDA81, 0x1A40,\n            0x1E00, 0xDEC1, 0xDF81, 0x1F40, 0xDD01, 0x1DC0, 0x1C80, 0xDC41,\n            0x1400, 0xD4C1, 0xD581, 0x1540, 0xD701, 0x17C0, 0x1680, 0xD641,\n            0xD201, 0x12C0, 0x1380, 0xD341, 0x1100, 0xD1C1, 0xD081, 0x1040,\n            0xF001, 0x30C0, 0x3180, 0xF141, 0x3300, 0xF3C1, 0xF281, 0x3240,\n            0x3600, 0xF6C1, 0xF781, 0x3740, 0xF501, 0x35C0, 0x3480, 0xF441,\n            0x3C00, 0xFCC1, 0xFD81, 0x3D40, 0xFF01, 0x3FC0, 0x3E80, 0xFE41,\n            0xFA01, 0x3AC0, 0x3B80, 0xFB41, 0x3900, 0xF9C1, 0xF881, 0x3840,\n            0x2800, 0xE8C1, 0xE981, 0x2940, 0xEB01, 0x2BC0, 0x2A80, 0xEA41,\n            0xEE01, 0x2EC0, 0x2F80, 0xEF41, 0x2D00, 0xEDC1, 0xEC81, 0x2C40,\n            0xE401, 0x24C0, 0x2580, 0xE541, 0x2700, 0xE7C1, 0xE681, 0x2640,\n            0x2200, 0xE2C1, 0xE381, 0x2340, 0xE101, 0x21C0, 0x2080, 0xE041,\n            0xA001, 0x60C0, 0x6180, 0xA141, 0x6300, 0xA3C1, 0xA281, 0x6240,\n            0x6600, 0xA6C1, 0xA781, 0x6740, 0xA501, 0x65C0, 0x6480, 0xA441,\n            0x6C00, 0xACC1, 0xAD81, 0x6D40, 0xAF01, 0x6FC0, 0x6E80, 0xAE41,\n            0xAA01, 0x6AC0, 0x6B80, 0xAB41, 0x6900, 0xA9C1, 0xA881, 0x6840,\n            0x7800, 0xB8C1, 0xB981, 0x7940, 0xBB01, 0x7BC0, 0x7A80, 0xBA41,\n            0xBE01, 0x7EC0, 0x7F80, 0xBF41, 0x7D00, 0xBDC1, 0xBC81, 0x7C40,\n            0xB401, 0x74C0, 0x7580, 0xB541, 0x7700, 0xB7C1, 0xB681, 0x7640,\n            0x7200, 0xB2C1, 0xB381, 0x7340, 0xB101, 0x71C0, 0x7080, 0xB041,\n            0x5000, 0x90C1, 0x9181, 0x5140, 0x9301, 0x53C0, 0x5280, 0x9241,\n            0x9601, 0x56C0, 0x5780, 0x9741, 0x5500, 0x95C1, 0x9481, 0x5440,\n            0x9C01, 0x5CC0, 0x5D80, 0x9D41, 0x5F00, 0x9FC1, 0x9E81, 0x5E40,\n            0x5A00, 0x9AC1, 0x9B81, 0x5B40, 0x9901, 0x59C0, 0x5880, 0x9841,\n            0x8801, 0x48C0, 0x4980, 0x8941, 0x4B00, 0x8BC1, 0x8A81, 0x4A40,\n            0x4E00, 0x8EC1, 0x8F81, 0x4F40, 0x8D01, 0x4DC0, 0x4C80, 0x8C41,\n            0x4400, 0x84C1, 0x8581, 0x4540, 0x8701, 0x47C0, 0x4680, 0x8641,\n            0x8201, 0x42C0, 0x4380, 0x8341, 0x4100, 0x81C1, 0x8081, 0x4040,\n    };\n\n    public static String calcularCRC16(String trama) {\n\n        char[] chars = trama.toCharArray();\n        int crc = 0x0000;\n        for (char c : chars) {\n            crc = (crc &gt;&gt;&gt; 8) ^ table[(crc ^ c &amp; 0x00ff) &amp; 0xff];\n        }\n\n        return Integer.toHexString(crc);\n    }\n}\n</code></pre>\n<p>The change consists on working with chars, not bytes, and <code>c &amp; 0x00ff</code> to keep only the relevant data.</p>\n<p>A good test can be found on:</p>\n<p><a href=\"http://www.sunshine2k.de/coding/javascript/crc/crc_js.html\" rel=\"nofollow noreferrer\">http://www.sunshine2k.de/coding/javascript/crc/crc_js.html</a></p>\n<p>Your referred implementation is CRC16_ARC.</p>\n"}],"owner":{"account_id":201104,"reputation":1201,"user_id":447348,"accept_rate":33,"display_name":"nihilist84"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":17106,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"answer_count":2,"score":10,"last_activity_date":1691792142,"creation_date":1285410218,"question_id":3793399,"body_markdown":"I would like to compute the CRC-16 checksum of a byte array, with 0xA001 polynomial. But I don&#39;t really know how to do it in Java, and how the given polynomial is used. Is it some kind of special value (0xA001)? Can you point me to a library that can compute the checksum for me, or point me to some useful resources?\r\n\r\nThanks in advance,\r\nM.","title":"CRC-16 with 0xA001 polynomial","body":"<p>I would like to compute the CRC-16 checksum of a byte array, with 0xA001 polynomial. But I don't really know how to do it in Java, and how the given polynomial is used. Is it some kind of special value (0xA001)? Can you point me to a library that can compute the checksum for me, or point me to some useful resources?</p>\n\n<p>Thanks in advance,\nM.</p>\n"},{"tags":["java","lambda","stream","option-type"],"answers":[{"comments":[{"owner":{"account_id":25099818,"reputation":33,"user_id":18950663,"display_name":"de5tro"},"score":0,"creation_date":1691747808,"post_id":76882229,"comment_id":135536657,"body_markdown":"Thank you for prompt response. Although this works perfectly, is there a way to avoid the big inner function? I was imagining a world where I could use flatmap to convert the optional list to stream. But was losing the result of the first optional.","body":"Thank you for prompt response. Although this works perfectly, is there a way to avoid the big inner function? I was imagining a world where I could use flatmap to convert the optional list to stream. But was losing the result of the first optional."},{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":0,"creation_date":1691749932,"post_id":76882229,"comment_id":135537069,"body_markdown":"@de5tro There is no way, unless you get rid of the logging. It requires those intermediate results, without it the code will be more concise.","body":"@de5tro There is no way, unless you get rid of the logging. It requires those intermediate results, without it the code will be more concise."},{"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"score":1,"creation_date":1691755764,"post_id":76882229,"comment_id":135538244,"body_markdown":"@Chaosfire there is a way, but the only way I could think of is using `Optional.or`, added in Java 9. See my answer for an example.","body":"@Chaosfire there is a way, but the only way I could think of is using <code>Optional.or</code>, added in Java 9. See my answer for an example."},{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":0,"creation_date":1691756504,"post_id":76882229,"comment_id":135538367,"body_markdown":"@RobSpoor Good point, i didn&#39;t think of using `or()`. But if i were op i would just stick with his original approach, IMO it&#39;s the most readable option right now.","body":"@RobSpoor Good point, i didn&#39;t think of using <code>or()</code>. But if i were op i would just stick with his original approach, IMO it&#39;s the most readable option right now."},{"owner":{"account_id":25099818,"reputation":33,"user_id":18950663,"display_name":"de5tro"},"score":0,"creation_date":1691788726,"post_id":76882229,"comment_id":135544133,"body_markdown":"@Chaosfire I agree that the individual pieces of logic are more readable. One small thing that might be confusing to the readers is what check is done first. This solution gives the illusion that the first //log stuff is checked first.","body":"@Chaosfire I agree that the individual pieces of logic are more readable. One small thing that might be confusing to the readers is what check is done first. This solution gives the illusion that the first //log stuff is checked first."}],"tags":[],"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"comment_count":5,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1691745806,"creation_date":1691745806,"answer_id":76882229,"question_id":76882090,"body_markdown":"You are looking for [Optional.map()][1] \r\n\r\n&gt; If a value is present, apply the provided mapping function to it, and if the result is non-null, return an Optional describing the result. Otherwise return an empty Optional.\r\n\r\nand [Optional.orElseGet()][2]\r\n\r\n&gt; Return the value if present, otherwise invoke other and return the result of that invocation.\r\n\r\n```\r\npublic boolean demo() {\r\n  //get optional foo\r\n  return optionalFoo\r\n          .map(foo -&gt; {\r\n            boolean result = foo.getBars()\r\n                    .stream()\r\n                    .filter(barsToFind::remove)\r\n                    .anyMatch(__ -&gt; barsToFind.isEmpty());\r\n            if (!result) {\r\n              //log stuff\r\n            }\r\n            return result;\r\n          })\r\n          .orElseGet(() -&gt; {\r\n            //log stuff\r\n            return false;\r\n          });\r\n}\r\n```\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/Optional.html#map-java.util.function.Function-\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/util/Optional.html#orElseGet-java.util.function.Supplier-","title":"Chaining Optional and Stream in Java(preferably 11)","body":"<p>You are looking for <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Optional.html#map-java.util.function.Function-\" rel=\"nofollow noreferrer\">Optional.map()</a></p>\n<blockquote>\n<p>If a value is present, apply the provided mapping function to it, and if the result is non-null, return an Optional describing the result. Otherwise return an empty Optional.</p>\n</blockquote>\n<p>and <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Optional.html#orElseGet-java.util.function.Supplier-\" rel=\"nofollow noreferrer\">Optional.orElseGet()</a></p>\n<blockquote>\n<p>Return the value if present, otherwise invoke other and return the result of that invocation.</p>\n</blockquote>\n<pre><code>public boolean demo() {\n  //get optional foo\n  return optionalFoo\n          .map(foo -&gt; {\n            boolean result = foo.getBars()\n                    .stream()\n                    .filter(barsToFind::remove)\n                    .anyMatch(__ -&gt; barsToFind.isEmpty());\n            if (!result) {\n              //log stuff\n            }\n            return result;\n          })\n          .orElseGet(() -&gt; {\n            //log stuff\n            return false;\n          });\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":25099818,"reputation":33,"user_id":18950663,"display_name":"de5tro"},"score":0,"creation_date":1691788571,"post_id":76883423,"comment_id":135544115,"body_markdown":"this is what i was looking for! A small performance boost in case the barList is too big can be achieved using the anyMatch() logic.\nhttps://stackoverflow.com/questions/58269632/is-there-a-way-to-check-if-a-stream-contains-all-collection-elements","body":"this is what i was looking for! A small performance boost in case the barList is too big can be achieved using the anyMatch() logic. <a href=\"https://stackoverflow.com/questions/58269632/is-there-a-way-to-check-if-a-stream-contains-all-collection-elements\" title=\"is there a way to check if a stream contains all collection elements\">stackoverflow.com/questions/58269632/&hellip;</a>"},{"owner":{"account_id":25099818,"reputation":33,"user_id":18950663,"display_name":"de5tro"},"score":0,"creation_date":1691790506,"post_id":76883423,"comment_id":135544312,"body_markdown":"One small problem I found that both .or() statements get called even if the Optional&lt;Foo&gt; is empty. It would result in logs that are not essentially true.","body":"One small problem I found that both .or() statements get called even if the Optional&lt;Foo&gt; is empty. It would result in logs that are not essentially true."},{"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"score":0,"creation_date":1691837389,"post_id":76883423,"comment_id":135547501,"body_markdown":"@de5tro not true. The argument to `or` is a `Supplier` that will only be evaluated if the original `Optional` is empty.","body":"@de5tro not true. The argument to <code>or</code> is a <code>Supplier</code> that will only be evaluated if the original <code>Optional</code> is empty."},{"owner":{"account_id":25099818,"reputation":33,"user_id":18950663,"display_name":"de5tro"},"score":0,"creation_date":1691875292,"post_id":76883423,"comment_id":135551099,"body_markdown":"yes i understand that. I mean that when the original `Optional` is empty, both of the `Supplier`s in the `.or()` will get evaluated. This will result in two log statements. Ideally, the second one shouldn&#39;t be evaluated. It should only be evaluated if the original `Optional` is non empty and the result of the `.filter((foo) -&gt; {foo.getBars.containAll()})` is false.","body":"yes i understand that. I mean that when the original <code>Optional</code> is empty, both of the <code>Supplier</code>s in the <code>.or()</code> will get evaluated. This will result in two log statements. Ideally, the second one shouldn&#39;t be evaluated. It should only be evaluated if the original <code>Optional</code> is non empty and the result of the <code>.filter((foo) -&gt; {foo.getBars.containAll()})</code> is false."}],"tags":[],"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"comment_count":4,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1691755615,"creation_date":1691755615,"answer_id":76883423,"question_id":76882090,"body_markdown":"Using `Optional.stream()` you can probably do this easier, also without having to remove anything from the set:\r\n\r\n```\r\nboolean success = fooList.stream() // Stream&lt;Foo&gt;\r\n        .filter(foo -&gt; foo.getFooName().equals(fooNameToFind)) // Stream&lt;Foo&gt;\r\n        .findFirst() // Optional&lt;Foo&gt;\r\n        .stream() // Stream&lt;Foo&gt; - either 0 or 1 element\r\n        .filter(foo -&gt; foo.getBars().containsAll(barsToFind)) // Stream&lt;Foo&gt;\r\n        .findAny() // either the Foo from findFirst(), or empty if bars don&#39;t match\r\n        .isPresent();\r\n```\r\n\r\nI&#39;ve tested this with 2 `Foo` instances. One didn&#39;t have a matching name, the other had a matching name and contained all of the bars (plus some more). That one was found. I then added a bar that wasn&#39;t in the list, and I got no results.\r\n\r\n\r\nWith logging added:\r\n\r\n```\r\nboolean success = fooList.stream() // Stream&lt;Foo&gt;\r\n        .filter(foo -&gt; foo.getFooName().equals(fooNameToFind)) // Stream&lt;Foo&gt;\r\n        .findFirst() // Optional&lt;Foo&gt;\r\n        .or(() -&gt; {\r\n            Logger.getAnonymousLogger().info(&quot;target foo not found&quot;);\r\n            return Optional.empty();\r\n        })\r\n        .stream() // Stream&lt;Foo&gt; - either 0 or 1 element\r\n        .filter(foo -&gt; foo.getBars().containsAll(barsToFind)) // Stream&lt;Foo&gt;\r\n        .findAny() // either the Foo from findFirst(), or empty if bars don&#39;t match\r\n        .or(() -&gt; {\r\n            Logger.getAnonymousLogger().info(&quot;no match for list of bar names for given foo name&quot;);\r\n            return Optional.empty();\r\n        })\r\n        .isPresent();\r\n```\r\n\r\nThese calls to `or` will only evaluate the supplier if the current `Optional` is empty, and replace the current empty `Optional` with the result of the supplier. By returning `Optional.empty()` this is effectively doing nothing but logging.","title":"Chaining Optional and Stream in Java(preferably 11)","body":"<p>Using <code>Optional.stream()</code> you can probably do this easier, also without having to remove anything from the set:</p>\n<pre><code>boolean success = fooList.stream() // Stream&lt;Foo&gt;\n        .filter(foo -&gt; foo.getFooName().equals(fooNameToFind)) // Stream&lt;Foo&gt;\n        .findFirst() // Optional&lt;Foo&gt;\n        .stream() // Stream&lt;Foo&gt; - either 0 or 1 element\n        .filter(foo -&gt; foo.getBars().containsAll(barsToFind)) // Stream&lt;Foo&gt;\n        .findAny() // either the Foo from findFirst(), or empty if bars don't match\n        .isPresent();\n</code></pre>\n<p>I've tested this with 2 <code>Foo</code> instances. One didn't have a matching name, the other had a matching name and contained all of the bars (plus some more). That one was found. I then added a bar that wasn't in the list, and I got no results.</p>\n<p>With logging added:</p>\n<pre><code>boolean success = fooList.stream() // Stream&lt;Foo&gt;\n        .filter(foo -&gt; foo.getFooName().equals(fooNameToFind)) // Stream&lt;Foo&gt;\n        .findFirst() // Optional&lt;Foo&gt;\n        .or(() -&gt; {\n            Logger.getAnonymousLogger().info(&quot;target foo not found&quot;);\n            return Optional.empty();\n        })\n        .stream() // Stream&lt;Foo&gt; - either 0 or 1 element\n        .filter(foo -&gt; foo.getBars().containsAll(barsToFind)) // Stream&lt;Foo&gt;\n        .findAny() // either the Foo from findFirst(), or empty if bars don't match\n        .or(() -&gt; {\n            Logger.getAnonymousLogger().info(&quot;no match for list of bar names for given foo name&quot;);\n            return Optional.empty();\n        })\n        .isPresent();\n</code></pre>\n<p>These calls to <code>or</code> will only evaluate the supplier if the current <code>Optional</code> is empty, and replace the current empty <code>Optional</code> with the result of the supplier. By returning <code>Optional.empty()</code> this is effectively doing nothing but logging.</p>\n"}],"owner":{"account_id":25099818,"reputation":33,"user_id":18950663,"display_name":"de5tro"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":107,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1691791173,"creation_date":1691744688,"question_id":76882090,"body_markdown":"I have a list of Foo objects, where each Foo contains a name and a List\\&lt;Strings&gt;.\r\n\r\nI am trying to \r\n1. find if the fooList contains a Foo object with a target name, and if such element exists, \r\n2. find if a target set of strings is a subset of the List&lt;Strings&gt; stringList in the found Foo instance.\r\n\r\nThis is the code I have yet.\r\n\r\n```\r\nimport java.util.List;\r\n\r\npublic class Foo {\r\n    String fooName;\r\n    List&lt;String&gt; bars;\r\n\r\n    public Foo(String fooName, List&lt;String&gt; bars) {\r\n        this.fooName = fooName;\r\n        this.bars = bars;\r\n    }\r\n\r\n    public String getFooName() {\r\n        return fooName;\r\n    }\r\n\r\n    public List&lt;String&gt; getBars() {\r\n        return bars;\r\n    }\r\n}\r\n\r\n```\r\n\r\n```\r\n    @Test\r\n    public boolean demo() {\r\n\r\n        List&lt;Foo&gt; fooList = new ArrayList&lt;&gt;();\r\n        // add foos and bars\r\n\r\n        String fooNameToFind = &quot;some-target-name&quot;;\r\n\r\n        Set&lt;String&gt; barsToFind = new HashSet&lt;&gt;();\r\n        // add to list of target bar names\r\n\r\n        Optional&lt;Foo&gt; optionalFoo = fooList.stream()\r\n                .filter(foo -&gt; foo.getFooName().equals(fooNameToFind))\r\n                .findFirst();\r\n\r\n        if (optionalFoo.isEmpty()) {\r\n            // have to log something here\r\n            Logger.getAnonymousLogger().info(&quot;target foo not found&quot;);\r\n            return false;\r\n        }\r\n\r\n        boolean success = optionalFoo.get().getBars().stream()\r\n                .filter(barsToFind::remove)\r\n                .anyMatch(__ -&gt; barsToFind.isEmpty());\r\n\r\n        if (!success) {\r\n            Logger.getAnonymousLogger().info(&quot;no match for list of bar names for given foo name&quot;);\r\n        }\r\n\r\n        return success;\r\n    }\r\n```\r\n\r\nI wish to log whenever I don&#39;t find either the target name or the list subset.\r\nAs you can see, I am currently using .isEmpty() and .get(), which I want to avoid.\r\nPlease let me know if there is a better way to chain these.\r\n\r\nTIA\r\n\r\nEDIT:\r\nHow about using peek?","title":"Chaining Optional and Stream in Java(preferably 11)","body":"<p>I have a list of Foo objects, where each Foo contains a name and a List&lt;Strings&gt;.</p>\n<p>I am trying to</p>\n<ol>\n<li>find if the fooList contains a Foo object with a target name, and if such element exists,</li>\n<li>find if a target set of strings is a subset of the List stringList in the found Foo instance.</li>\n</ol>\n<p>This is the code I have yet.</p>\n<pre><code>import java.util.List;\n\npublic class Foo {\n    String fooName;\n    List&lt;String&gt; bars;\n\n    public Foo(String fooName, List&lt;String&gt; bars) {\n        this.fooName = fooName;\n        this.bars = bars;\n    }\n\n    public String getFooName() {\n        return fooName;\n    }\n\n    public List&lt;String&gt; getBars() {\n        return bars;\n    }\n}\n\n</code></pre>\n<pre><code>    @Test\n    public boolean demo() {\n\n        List&lt;Foo&gt; fooList = new ArrayList&lt;&gt;();\n        // add foos and bars\n\n        String fooNameToFind = &quot;some-target-name&quot;;\n\n        Set&lt;String&gt; barsToFind = new HashSet&lt;&gt;();\n        // add to list of target bar names\n\n        Optional&lt;Foo&gt; optionalFoo = fooList.stream()\n                .filter(foo -&gt; foo.getFooName().equals(fooNameToFind))\n                .findFirst();\n\n        if (optionalFoo.isEmpty()) {\n            // have to log something here\n            Logger.getAnonymousLogger().info(&quot;target foo not found&quot;);\n            return false;\n        }\n\n        boolean success = optionalFoo.get().getBars().stream()\n                .filter(barsToFind::remove)\n                .anyMatch(__ -&gt; barsToFind.isEmpty());\n\n        if (!success) {\n            Logger.getAnonymousLogger().info(&quot;no match for list of bar names for given foo name&quot;);\n        }\n\n        return success;\n    }\n</code></pre>\n<p>I wish to log whenever I don't find either the target name or the list subset.\nAs you can see, I am currently using .isEmpty() and .get(), which I want to avoid.\nPlease let me know if there is a better way to chain these.</p>\n<p>TIA</p>\n<p>EDIT:\nHow about using peek?</p>\n"},{"tags":["java","type-conversion"],"comments":[{"owner":{"account_id":1200485,"reputation":1004,"user_id":1171253,"display_name":"wuppi"},"score":1,"creation_date":1331029225,"post_id":9581530,"comment_id":12150049,"body_markdown":"There is a difference between byte and Byte. The latter is an object, which would support the `.intValue()` method. The first is the raw byte value and just assign it like `int i = rno[0];`","body":"There is a difference between byte and Byte. The latter is an object, which would support the <code>.intValue()</code> method. The first is the raw byte value and just assign it like <code>int i = rno[0];</code>"},{"owner":{"account_id":358449,"reputation":42107,"user_id":699224,"accept_rate":67,"display_name":"DNA"},"score":1,"creation_date":1331031514,"post_id":9581530,"comment_id":12150854,"body_markdown":"See also http://stackoverflow.com/questions/2383265/convert-4-bytes-to-int","body":"See also <a href=\"http://stackoverflow.com/questions/2383265/convert-4-bytes-to-int\" title=\"convert 4 bytes to int\">stackoverflow.com/questions/2383265/convert-4-bytes-to-int</a>"}],"answers":[{"comments":[{"owner":{"account_id":212263,"reputation":136304,"user_id":464988,"accept_rate":94,"display_name":"MByD"},"score":6,"creation_date":1331029282,"post_id":9581557,"comment_id":12150062,"body_markdown":"No, it&#39;s `Byte.intValue`, while `Byte` is a class, `byte` is a primitive data type.","body":"No, it&#39;s <code>Byte.intValue</code>, while <code>Byte</code> is a class, <code>byte</code> is a primitive data type."},{"owner":{"account_id":3683805,"reputation":8445,"user_id":3950982,"display_name":"Luke Hutchison"},"score":0,"creation_date":1544337041,"post_id":9581557,"comment_id":94236100,"body_markdown":"This answer is incomplete. See Sheng.W&#39;s answer. You *almost always* need to do `(b &amp; 0xff)` to convert a `byte` to `int`, not `((int) b)` or the equivalent implicit cast, `int i = b;`, because of sign extension for high-bit-set bytes. Forgetting to do this is a common source of bugs.","body":"This answer is incomplete. See Sheng.W&#39;s answer. You <i>almost always</i> need to do <code>(b &amp; 0xff)</code> to convert a <code>byte</code> to <code>int</code>, not <code>((int) b)</code> or the equivalent implicit cast, <code>int i = b;</code>, because of sign extension for high-bit-set bytes. Forgetting to do this is a common source of bugs."}],"tags":[],"owner":{"account_id":212263,"reputation":136304,"user_id":464988,"accept_rate":94,"display_name":"MByD"},"comment_count":2,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1331028739,"creation_date":1331028739,"answer_id":9581557,"question_id":9581530,"body_markdown":"Primitive data types (such as byte) don&#39;t have methods in java, but you can directly do:\r\n\r\n    int i=rno[0];","title":"Converting from byte to int in Java","body":"<p>Primitive data types (such as byte) don't have methods in java, but you can directly do:</p>\n\n<pre><code>int i=rno[0];\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1209109,"reputation":7934,"user_id":1178016,"accept_rate":73,"display_name":"xehpuk"},"score":0,"creation_date":1392114047,"post_id":9581563,"comment_id":32806897,"body_markdown":"Using the Byte constructor is not a good idea. Just do `Byte b = rno[0];` instead.","body":"Using the Byte constructor is not a good idea. Just do <code>Byte b = rno[0];</code> instead."},{"owner":{"account_id":52616,"reputation":1042991,"user_id":157247,"accept_rate":91,"display_name":"T.J. Crowder"},"score":0,"creation_date":1392114894,"post_id":9581563,"comment_id":32807437,"body_markdown":"@xehpuk: I should have mentioned boxing conversions, done that now.","body":"@xehpuk: I should have mentioned boxing conversions, done that now."},{"owner":{"account_id":4657354,"reputation":619,"user_id":3772575,"display_name":"user1"},"score":1,"creation_date":1512053839,"post_id":9581563,"comment_id":82109594,"body_markdown":"Why is boxing conversion superior to Byte constructor in this case? to my understanding the boxing conversion ends up using the Byte constructor in the end any way? is my understanding incorrect?","body":"Why is boxing conversion superior to Byte constructor in this case? to my understanding the boxing conversion ends up using the Byte constructor in the end any way? is my understanding incorrect?"},{"owner":{"account_id":52616,"reputation":1042991,"user_id":157247,"accept_rate":91,"display_name":"T.J. Crowder"},"score":1,"creation_date":1512056609,"post_id":9581563,"comment_id":82111467,"body_markdown":"@user3772575: Yes. Boxing will use `Byte.valueOf`, not `new Byte()`, to avoid allocating a new instance if one already exists for that byte value; [more here](https://docs.oracle.com/javase/9/docs/api/java/lang/Byte.html#valueOf-byte-). (The spec [doesn&#39;t actually say that](https://docs.oracle.com/javase/specs/jls/se8/html/jls-5.html#jls-5.1.7), but that&#39;s what it does. You can tell by looking at the bytecode.)","body":"@user3772575: Yes. Boxing will use <code>Byte.valueOf</code>, not <code>new Byte()</code>, to avoid allocating a new instance if one already exists for that byte value; <a href=\"https://docs.oracle.com/javase/9/docs/api/java/lang/Byte.html#valueOf-byte-\" rel=\"nofollow noreferrer\">more here</a>. (The spec <a href=\"https://docs.oracle.com/javase/specs/jls/se8/html/jls-5.html#jls-5.1.7\" rel=\"nofollow noreferrer\">doesn&#39;t actually say that</a>, but that&#39;s what it does. You can tell by looking at the bytecode.)"},{"owner":{"account_id":9559927,"reputation":385,"user_id":7101158,"accept_rate":83,"display_name":"yolob 21"},"score":1,"creation_date":1587818065,"post_id":9581563,"comment_id":108661225,"body_markdown":"Last I checked in Java 8 Byte class provides a static method called toUnsignedInt(byte). This should help converting easier and code more readable.","body":"Last I checked in Java 8 Byte class provides a static method called toUnsignedInt(byte). This should help converting easier and code more readable."},{"owner":{"account_id":52616,"reputation":1042991,"user_id":157247,"accept_rate":91,"display_name":"T.J. Crowder"},"score":0,"creation_date":1587818897,"post_id":9581563,"comment_id":108661492,"body_markdown":"@yolob21 - Thanks. Yeah, the answer predated Java 8 by two years. :-)","body":"@yolob21 - Thanks. Yeah, the answer predated Java 8 by two years. :-)"}],"tags":[],"owner":{"account_id":52616,"reputation":1042991,"user_id":157247,"accept_rate":91,"display_name":"T.J. Crowder"},"comment_count":6,"down_vote_count":1,"up_vote_count":105,"is_accepted":true,"score":104,"last_activity_date":1691790412,"creation_date":1331028757,"answer_id":9581563,"question_id":9581530,"body_markdown":"Your array is of `byte` primitives, but you&#39;re trying to call a method on them.\r\n\r\nYou don&#39;t need to do anything explicit to convert a `byte` to an `int`, just:\r\n\r\n    int i=rno[0];\r\n\r\n...since it&#39;s not a downcast.\r\n\r\nNote that the default behavior of `byte`-to-`int` conversion is to preserve the sign of the value (remember `byte` is a signed type in Java). So for instance:\r\n\r\n    byte b1 = -100;\r\n    int i1 = b1;\r\n    System.out.println(i1); // -100\r\n\r\nIf you were thinking of the `byte` as unsigned (156) rather than signed (-100), as of Java 8 there&#39;s [`Byte.toUnsignedInt`][1]:\r\n\r\n    byte b2 = -100; // Or `= (byte)156;`\r\n    int i2 = Byte.toUnsignedInt(b2);\r\n    System.out.println(i2); // 156\r\n\r\nPrior to Java 8, to get the equivalent value in the `int` you&#39;d need to mask off the sign bits:\r\n\r\n    byte b2 = -100; // Or `= (byte)156;`\r\n    int i2 = (b2 &amp; 0xFF);\r\n    System.out.println(i2); // 156\r\n\r\n-----\r\n\r\nJust for completeness #1: If you *did* want to use the various methods of `Byte` for some reason (**you don&#39;t need to here**), you could use a [boxing conversion][2]:\r\n\r\n    Byte b = rno[0]; // Boxing conversion converts `byte` to `Byte`\r\n    int i = b.intValue();\r\n\r\nOr the [`Byte` constructor][3]:\r\n\r\n    Byte b = new Byte(rno[0]);\r\n    int i = b.intValue();\r\n\r\nBut again, you don&#39;t need that here.\r\n\r\n-----\r\n\r\nJust for completeness #2: If it *were* a downcast (e.g., if you were trying to convert an `int` to a `byte`), all you need is a cast:\r\n\r\n    int i;\r\n    byte b;\r\n\r\n    i = 5;\r\n    b = (byte)i;\r\n\r\nThis assures the compiler that you know it&#39;s a downcast, so you don&#39;t get the &quot;Possible loss of precision&quot; error.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/10/docs/api/java/lang/Byte.html#toUnsignedInt(byte)\r\n  [2]: http://docs.oracle.com/javase/specs/jls/se7/html/jls-5.html#jls-5.1.7\r\n  [3]: http://docs.oracle.com/javase/7/docs/api/java/lang/Byte.html#Byte%28byte%29","title":"Converting from byte to int in Java","body":"<p>Your array is of <code>byte</code> primitives, but you're trying to call a method on them.</p>\n<p>You don't need to do anything explicit to convert a <code>byte</code> to an <code>int</code>, just:</p>\n<pre><code>int i=rno[0];\n</code></pre>\n<p>...since it's not a downcast.</p>\n<p>Note that the default behavior of <code>byte</code>-to-<code>int</code> conversion is to preserve the sign of the value (remember <code>byte</code> is a signed type in Java). So for instance:</p>\n<pre><code>byte b1 = -100;\nint i1 = b1;\nSystem.out.println(i1); // -100\n</code></pre>\n<p>If you were thinking of the <code>byte</code> as unsigned (156) rather than signed (-100), as of Java 8 there's <a href=\"https://docs.oracle.com/javase/10/docs/api/java/lang/Byte.html#toUnsignedInt(byte)\" rel=\"nofollow noreferrer\"><code>Byte.toUnsignedInt</code></a>:</p>\n<pre><code>byte b2 = -100; // Or `= (byte)156;`\nint i2 = Byte.toUnsignedInt(b2);\nSystem.out.println(i2); // 156\n</code></pre>\n<p>Prior to Java 8, to get the equivalent value in the <code>int</code> you'd need to mask off the sign bits:</p>\n<pre><code>byte b2 = -100; // Or `= (byte)156;`\nint i2 = (b2 &amp; 0xFF);\nSystem.out.println(i2); // 156\n</code></pre>\n<hr />\n<p>Just for completeness #1: If you <em>did</em> want to use the various methods of <code>Byte</code> for some reason (<strong>you don't need to here</strong>), you could use a <a href=\"http://docs.oracle.com/javase/specs/jls/se7/html/jls-5.html#jls-5.1.7\" rel=\"nofollow noreferrer\">boxing conversion</a>:</p>\n<pre><code>Byte b = rno[0]; // Boxing conversion converts `byte` to `Byte`\nint i = b.intValue();\n</code></pre>\n<p>Or the <a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/Byte.html#Byte%28byte%29\" rel=\"nofollow noreferrer\"><code>Byte</code> constructor</a>:</p>\n<pre><code>Byte b = new Byte(rno[0]);\nint i = b.intValue();\n</code></pre>\n<p>But again, you don't need that here.</p>\n<hr />\n<p>Just for completeness #2: If it <em>were</em> a downcast (e.g., if you were trying to convert an <code>int</code> to a <code>byte</code>), all you need is a cast:</p>\n<pre><code>int i;\nbyte b;\n\ni = 5;\nb = (byte)i;\n</code></pre>\n<p>This assures the compiler that you know it's a downcast, so you don't get the &quot;Possible loss of precision&quot; error.</p>\n"},{"comments":[{"owner":{"account_id":358449,"reputation":42107,"user_id":699224,"accept_rate":67,"display_name":"DNA"},"score":9,"creation_date":1331031239,"post_id":9581593,"comment_id":12150753,"body_markdown":"But note that the sign is preserved, which isn&#39;t always what you want (Java doesn&#39;t have unsigned bytes)","body":"But note that the sign is preserved, which isn&#39;t always what you want (Java doesn&#39;t have unsigned bytes)"}],"tags":[],"owner":{"account_id":413802,"reputation":4492,"user_id":787643,"accept_rate":77,"display_name":"Saintali"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1331028859,"creation_date":1331028859,"answer_id":9581593,"question_id":9581530,"body_markdown":"Bytes are transparently converted to ints.\r\n\r\nJust say\r\n\r\n    int i= rno[0];\r\n\r\n","title":"Converting from byte to int in Java","body":"<p>Bytes are transparently converted to ints.</p>\n\n<p>Just say</p>\n\n<pre><code>int i= rno[0];\n</code></pre>\n"},{"comments":[{"owner":{"account_id":127944,"reputation":12148,"user_id":325452,"accept_rate":71,"display_name":"ingyhere"},"score":4,"creation_date":1396970447,"post_id":9581858,"comment_id":35022651,"body_markdown":"I would do (rno[0]&amp;0x000000ff)&lt;&lt;24|(rno[1]&amp;0x000000ff)&lt;&lt;16| ... etc. so I can then make that AND-ing operand a constant. Alternately, you could also just do ((int)rno[0])&lt;&lt;24|((int)rno[1])&lt;&lt;16| ... as the type casting automatically puts the byte values into primitive int space.","body":"I would do (rno[0]&amp;0x000000ff)&lt;&lt;24|(rno[1]&amp;0x000000ff)&lt;&lt;16| ... etc. so I can then make that AND-ing operand a constant. Alternately, you could also just do ((int)rno[0])&lt;&lt;24|((int)rno[1])&lt;&lt;16| ... as the type casting automatically puts the byte values into primitive int space."},{"owner":{"account_id":3683805,"reputation":8445,"user_id":3950982,"display_name":"Luke Hutchison"},"score":1,"creation_date":1544089373,"post_id":9581858,"comment_id":94155268,"body_markdown":"@ingyhere Your &quot;Alternatively&quot; suggestion is incorrect! See Sheng.W&#39;s answer. You *almost always* need to do (b &amp; 0xff) to convert a byte to int, not ((int) b) or the equivalent implicit cast, because of sign extension.","body":"@ingyhere Your &quot;Alternatively&quot; suggestion is incorrect! See Sheng.W&#39;s answer. You <i>almost always</i> need to do (b &amp; 0xff) to convert a byte to int, not ((int) b) or the equivalent implicit cast, because of sign extension."},{"owner":{"account_id":127944,"reputation":12148,"user_id":325452,"accept_rate":71,"display_name":"ingyhere"},"score":0,"creation_date":1544232478,"post_id":9581858,"comment_id":94215327,"body_markdown":"You got me @LukeHutchison ... The second one in my comment only works for unsigned values (positive space) within the range of the Java byte primitive (up to 127).","body":"You got me @LukeHutchison ... The second one in my comment only works for unsigned values (positive space) within the range of the Java byte primitive (up to 127)."},{"owner":{"account_id":3683805,"reputation":8445,"user_id":3950982,"display_name":"Luke Hutchison"},"score":0,"creation_date":1544336729,"post_id":9581858,"comment_id":94236051,"body_markdown":"The positive range of a signed value is not an unsigned value, it still has the sign of &#39;+&#39; :) Bytes and shorts and ints and longs are signed in Java, there is no unsigned version!","body":"The positive range of a signed value is not an unsigned value, it still has the sign of &#39;+&#39; :) Bytes and shorts and ints and longs are signed in Java, there is no unsigned version!"}],"tags":[],"owner":{"account_id":378721,"reputation":47508,"user_id":731620,"accept_rate":80,"display_name":"ratchet freak"},"comment_count":4,"down_vote_count":1,"up_vote_count":37,"is_accepted":false,"score":36,"last_activity_date":1398261225,"creation_date":1331029900,"answer_id":9581858,"question_id":9581530,"body_markdown":"if you want to combine the 4 bytes into a single int you need to do\r\n\r\n    int i= (rno[0]&lt;&lt;24)&amp;0xff000000|\r\n           (rno[1]&lt;&lt;16)&amp;0x00ff0000|\r\n           (rno[2]&lt;&lt; 8)&amp;0x0000ff00|\r\n           (rno[3]&lt;&lt; 0)&amp;0x000000ff;\r\n\r\nI use 3 special operators `|` is the bitwise logical OR `&amp;` is the logical AND and `&lt;&lt;` is the left shift\r\n\r\nin essence I combine the 4 8-bit bytes into a single 32 bit int by shifting the bytes in place and ORing them together \r\n\r\nI also ensure any sign promotion won&#39;t affect the result with `&amp; 0xff`","title":"Converting from byte to int in Java","body":"<p>if you want to combine the 4 bytes into a single int you need to do</p>\n\n<pre><code>int i= (rno[0]&lt;&lt;24)&amp;0xff000000|\n       (rno[1]&lt;&lt;16)&amp;0x00ff0000|\n       (rno[2]&lt;&lt; 8)&amp;0x0000ff00|\n       (rno[3]&lt;&lt; 0)&amp;0x000000ff;\n</code></pre>\n\n<p>I use 3 special operators <code>|</code> is the bitwise logical OR <code>&amp;</code> is the logical AND and <code>&lt;&lt;</code> is the left shift</p>\n\n<p>in essence I combine the 4 8-bit bytes into a single 32 bit int by shifting the bytes in place and ORing them together </p>\n\n<p>I also ensure any sign promotion won't affect the result with <code>&amp; 0xff</code></p>\n"},{"comments":[{"owner":{"account_id":144986,"reputation":10747,"user_id":354459,"accept_rate":90,"display_name":"herbertD"},"score":0,"creation_date":1513527823,"post_id":32452883,"comment_id":82678382,"body_markdown":"it&#39;s because the 32 bit machine generated the long 0xffffffc8, Thanks.","body":"it&#39;s because the 32 bit machine generated the long 0xffffffc8, Thanks."},{"owner":{"account_id":3683805,"reputation":8445,"user_id":3950982,"display_name":"Luke Hutchison"},"score":2,"creation_date":1544089466,"post_id":32452883,"comment_id":94155334,"body_markdown":"This is the correct answer, and v2 is almost always what you want. Implicit conversion of byte to int without the `&amp; 0xff` is a source of bugs in Java.","body":"This is the correct answer, and v2 is almost always what you want. Implicit conversion of byte to int without the <code>&amp; 0xff</code> is a source of bugs in Java."},{"owner":{"account_id":127944,"reputation":12148,"user_id":325452,"accept_rate":71,"display_name":"ingyhere"},"score":1,"creation_date":1544232847,"post_id":32452883,"comment_id":94215376,"body_markdown":"This isn&#39;t really due to &quot;bugs in Java&quot; implicit conversion. It&#39;s due to developer misunderstanding. Java&#39;s byte primitive only supports values between -128 to 127. If someone tries to stuff an unsigned value (like 0xC8) into that, it can roll over with a bunch of leading ones (due to the twos complement notation). Similarly, for this question, a full bit space can have a sign bit set and a numeric promotion will do similarly.","body":"This isn&#39;t really due to &quot;bugs in Java&quot; implicit conversion. It&#39;s due to developer misunderstanding. Java&#39;s byte primitive only supports values between -128 to 127. If someone tries to stuff an unsigned value (like 0xC8) into that, it can roll over with a bunch of leading ones (due to the twos complement notation). Similarly, for this question, a full bit space can have a sign bit set and a numeric promotion will do similarly."},{"owner":{"account_id":127944,"reputation":12148,"user_id":325452,"accept_rate":71,"display_name":"ingyhere"},"score":0,"creation_date":1544235177,"post_id":32452883,"comment_id":94215684,"body_markdown":"Java is actually doing numeric conversion under the hood, [according to the JLS](https://docs.oracle.com/javase/specs/jls/se8/html/jls-15.html#jls-15.22.1), which means that both operands are converted to int primitives, anyway.","body":"Java is actually doing numeric conversion under the hood, <a href=\"https://docs.oracle.com/javase/specs/jls/se8/html/jls-15.html#jls-15.22.1\" rel=\"nofollow noreferrer\">according to the JLS</a>, which means that both operands are converted to int primitives, anyway."},{"owner":{"account_id":3683805,"reputation":8445,"user_id":3950982,"display_name":"Luke Hutchison"},"score":0,"creation_date":1544337634,"post_id":32452883,"comment_id":94236191,"body_markdown":"Not bugs in Java, bugs in user code written in Java :) Most programmers don&#39;t realize bytes are signed in Java, and frankly it is a stupid default behavior that they treat bytes as signed in the Java spec, but they did it for consistency with the other integral types, since none of them have unsigned versions. The same problem comes up with conversion of shorts to ints, since people also generally don&#39;t realize shorts are signed. (It&#39;s easier to trigger sign extension bugs with bytes though, because of the very limited range of values.) People do expect ints and longs to be signed though.","body":"Not bugs in Java, bugs in user code written in Java :) Most programmers don&#39;t realize bytes are signed in Java, and frankly it is a stupid default behavior that they treat bytes as signed in the Java spec, but they did it for consistency with the other integral types, since none of them have unsigned versions. The same problem comes up with conversion of shorts to ints, since people also generally don&#39;t realize shorts are signed. (It&#39;s easier to trigger sign extension bugs with bytes though, because of the very limited range of values.) People do expect ints and longs to be signed though."}],"tags":[],"owner":{"account_id":5036993,"reputation":2210,"user_id":4045489,"display_name":"Sheng.W"},"comment_count":5,"down_vote_count":0,"up_vote_count":48,"is_accepted":false,"score":48,"last_activity_date":1441700987,"creation_date":1441700987,"answer_id":32452883,"question_id":9581530,"body_markdown":"    byte b = (byte)0xC8;\r\n    int v1 = b;       // v1 is -56 (0xFFFFFFC8)\r\n    int v2 = b &amp; 0xFF // v2 is 200 (0x000000C8)\r\n\r\nMost of the time v2 is the way you really need.","title":"Converting from byte to int in Java","body":"<pre><code>byte b = (byte)0xC8;\nint v1 = b;       // v1 is -56 (0xFFFFFFC8)\nint v2 = b &amp; 0xFF // v2 is 200 (0x000000C8)\n</code></pre>\n\n<p>Most of the time v2 is the way you really need.</p>\n"},{"tags":[],"owner":{"account_id":8244221,"reputation":43,"user_id":6200908,"display_name":"joe"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1462917607,"creation_date":1462917607,"answer_id":37149693,"question_id":9581530,"body_markdown":"I thought it would be:\r\n\r\n    byte b = (byte)255;\r\n    int i = b &amp;255;","title":"Converting from byte to int in Java","body":"<p>I thought it would be:</p>\n\n<pre><code>byte b = (byte)255;\nint i = b &amp;255;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":2,"creation_date":1643970160,"post_id":70983306,"comment_id":125485772,"body_markdown":"As it’s currently written, your answer is unclear. Please [edit] to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"As it’s currently written, your answer is unclear. Please <a href=\"https://stackoverflow.com/posts/70983306/edit\">edit</a> to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":7639922,"reputation":57,"user_id":5792350,"display_name":"Emmanuel Osinnowo"},"comment_count":1,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1643962763,"creation_date":1643962763,"answer_id":70983306,"question_id":9581530,"body_markdown":"int b = Byte.toUnsignedInt(a);","title":"Converting from byte to int in Java","body":"<p>int b = Byte.toUnsignedInt(a);</p>\n"}],"owner":{"account_id":1159141,"reputation":12863,"user_id":1139023,"accept_rate":72,"display_name":"Ashwin"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":374931,"favorite_count":0,"down_vote_count":0,"up_vote_count":58,"accepted_answer_id":9581563,"answer_count":7,"score":58,"last_activity_date":1691790412,"creation_date":1331028621,"question_id":9581530,"body_markdown":"I have generated a secure random number, and put its value into a byte. Here is my code.\r\n\r\n\r\n    SecureRandom ranGen = new SecureRandom();\r\n    byte[] rno = new byte[4]; \r\n    ranGen.nextBytes(rno);\r\n    int i = rno[0].intValue();\r\n\r\n\r\nBut I am getting an error :\r\n\r\n\r\n     byte cannot be dereferenced\r\n        \r\n\r\n","title":"Converting from byte to int in Java","body":"<p>I have generated a secure random number, and put its value into a byte. Here is my code.</p>\n\n<pre><code>SecureRandom ranGen = new SecureRandom();\nbyte[] rno = new byte[4]; \nranGen.nextBytes(rno);\nint i = rno[0].intValue();\n</code></pre>\n\n<p>But I am getting an error :</p>\n\n<pre><code> byte cannot be dereferenced\n</code></pre>\n"},{"tags":["java","android","android-chips"],"comments":[{"owner":{"account_id":14423201,"reputation":840,"user_id":10418725,"display_name":"Jorn Rigter"},"score":0,"creation_date":1615307284,"post_id":66550742,"comment_id":117648058,"body_markdown":"Why wouldn&#39;t you be able to simply use the isChecked value? If that is false, then previously it was true, right? Or do you want a user to check it only once?\nYou might find [this answer](https://stackoverflow.com/questions/31640784/how-to-flip-the-checked-status-of-a-switch-only-after-confirm-dialog) from Evgeniy helpful. It&#39;s similar to your question, but for a Switch in Android.","body":"Why wouldn&#39;t you be able to simply use the isChecked value? If that is false, then previously it was true, right? Or do you want a user to check it only once? You might find <a href=\"https://stackoverflow.com/questions/31640784/how-to-flip-the-checked-status-of-a-switch-only-after-confirm-dialog\">this answer</a> from Evgeniy helpful. It&#39;s similar to your question, but for a Switch in Android."},{"owner":{"account_id":11346074,"reputation":2935,"user_id":11204066,"display_name":"Hayk Mkrtchyan"},"score":0,"creation_date":1615312789,"post_id":66550742,"comment_id":117650576,"body_markdown":"That&#39;s because imagine user clicks on chip1 first time, the result is now true, then he clicks the second time, the result is false, and now user clicks the third time, the result now true. So user perform a click on the same chip 3 times. What I want is, when user clicks on the same chip second time, just don&#39;t call onCheckedChangeListener, or don&#39;t evaluate the code in it. Something like this.","body":"That&#39;s because imagine user clicks on chip1 first time, the result is now true, then he clicks the second time, the result is false, and now user clicks the third time, the result now true. So user perform a click on the same chip 3 times. What I want is, when user clicks on the same chip second time, just don&#39;t call onCheckedChangeListener, or don&#39;t evaluate the code in it. Something like this."}],"answers":[{"comments":[{"owner":{"account_id":11346074,"reputation":2935,"user_id":11204066,"display_name":"Hayk Mkrtchyan"},"score":0,"creation_date":1615312813,"post_id":66550926,"comment_id":117650589,"body_markdown":"Thanks, I&#39;ll have a look on this.","body":"Thanks, I&#39;ll have a look on this."},{"owner":{"account_id":11346074,"reputation":2935,"user_id":11204066,"display_name":"Hayk Mkrtchyan"},"score":0,"creation_date":1615312953,"post_id":66550926,"comment_id":117650649,"body_markdown":"But how can I determine the isChecked status?","body":"But how can I determine the isChecked status?"},{"owner":{"account_id":11346074,"reputation":2935,"user_id":11204066,"display_name":"Hayk Mkrtchyan"},"score":0,"creation_date":1615313122,"post_id":66550926,"comment_id":117650721,"body_markdown":"You see I need something alternative. When user performs the click on chip, that chip already changes its value to true and I am not able to determine does the chip was checked before that click or not. I think I need to save the currently selected chip somewhere to check it after performing the click.","body":"You see I need something alternative. When user performs the click on chip, that chip already changes its value to true and I am not able to determine does the chip was checked before that click or not. I think I need to save the currently selected chip somewhere to check it after performing the click."},{"owner":{"account_id":13353612,"reputation":184,"user_id":9638025,"display_name":"xr100chris"},"score":0,"creation_date":1615313850,"post_id":66550926,"comment_id":117651043,"body_markdown":"The listener method passes the ChipGroup. So you should be able to reference `group.getCheckedChipIds`. Then traverse that list to see if it contains the `checkedId`.","body":"The listener method passes the ChipGroup. So you should be able to reference <code>group.getCheckedChipIds</code>. Then traverse that list to see if it contains the <code>checkedId</code>."},{"owner":{"account_id":13353612,"reputation":184,"user_id":9638025,"display_name":"xr100chris"},"score":0,"creation_date":1615319082,"post_id":66550926,"comment_id":117653146,"body_markdown":"Well you can do that by negating the value you retrieve from it being selected or not. If you grab the `group.getCheckedChipIds` and the chekedId exists in the list, negate that value and that should give you what it was before it changed. If that makes sense. Now if you&#39;re trying to keep track of all changes, then you might use a map or something to keep track.","body":"Well you can do that by negating the value you retrieve from it being selected or not. If you grab the <code>group.getCheckedChipIds</code> and the chekedId exists in the list, negate that value and that should give you what it was before it changed. If that makes sense. Now if you&#39;re trying to keep track of all changes, then you might use a map or something to keep track."},{"owner":{"account_id":11346074,"reputation":2935,"user_id":11204066,"display_name":"Hayk Mkrtchyan"},"score":0,"creation_date":1615654814,"post_id":66550926,"comment_id":117760981,"body_markdown":"I&#39;ve figured out. So imagine I have 3 chips. When I click on Chip 1, the isChecked becomes true. It&#39;s ok. Now when I click on chip 2, the chipCheckChangedListener triggered 2 times. One time it&#39;s trigger for chip1, where it changes the isChecked value for chip1 to false, and second trigger for chip 2, which makes the isChecked to true. And when I click on chip2 second time, it also triggered twice. One time the chip2 isChecked becomes false, the second time isChecked becomes true. The solution now is to save the last selected chip id in my fragment and add appropriate checks.","body":"I&#39;ve figured out. So imagine I have 3 chips. When I click on Chip 1, the isChecked becomes true. It&#39;s ok. Now when I click on chip 2, the chipCheckChangedListener triggered 2 times. One time it&#39;s trigger for chip1, where it changes the isChecked value for chip1 to false, and second trigger for chip 2, which makes the isChecked to true. And when I click on chip2 second time, it also triggered twice. One time the chip2 isChecked becomes false, the second time isChecked becomes true. The solution now is to save the last selected chip id in my fragment and add appropriate checks."}],"tags":[],"owner":{"account_id":13353612,"reputation":184,"user_id":9638025,"display_name":"xr100chris"},"comment_count":6,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1615307459,"creation_date":1615307459,"answer_id":66550926,"question_id":66550742,"body_markdown":"I believe you can just set a `setOnCheckedChangeListener` on the chipGroup instead of each individual chip. That listener will pass in an ID and isChecked as parameters. I believe using this callback on the group will be help resolve your issue. Hopefully that helps with the issue you&#39;re having.\r\n\r\nMore info on https://material.io/components/chips/android#using-chips","title":"Prevent chip from double click","body":"<p>I believe you can just set a <code>setOnCheckedChangeListener</code> on the chipGroup instead of each individual chip. That listener will pass in an ID and isChecked as parameters. I believe using this callback on the group will be help resolve your issue. Hopefully that helps with the issue you're having.</p>\n<p>More info on <a href=\"https://material.io/components/chips/android#using-chips\" rel=\"nofollow noreferrer\">https://material.io/components/chips/android#using-chips</a></p>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1692014441,"post_id":76886773,"comment_id":135564114,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/76886773/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":29139253,"reputation":1,"user_id":22322639,"display_name":"Amin Pro"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691789945,"creation_date":1691789945,"answer_id":76886773,"question_id":66550742,"body_markdown":"you can do this in ChipGroup XML Layout:\r\n\r\n     &lt;com.google.android.material.chip.ChipGroup\r\n     style=&quot;@style/Chip_group_style&quot;\r\n     app:selectionRequired=&quot;true&quot;\r\n     &gt;","title":"Prevent chip from double click","body":"<p>you can do this in ChipGroup XML Layout:</p>\n<pre><code> &lt;com.google.android.material.chip.ChipGroup\n style=&quot;@style/Chip_group_style&quot;\n app:selectionRequired=&quot;true&quot;\n &gt;\n</code></pre>\n"}],"owner":{"account_id":11346074,"reputation":2935,"user_id":11204066,"display_name":"Hayk Mkrtchyan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":520,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1691789945,"creation_date":1615306805,"question_id":66550742,"body_markdown":"I have a `chipgroup` and some `chips` inside. I loop through this `chipgroup`, get every `chip` and add a `checkedChangeListener` for it. \r\n\r\n    for (int i = 0; i &lt; chipGroup.getChildCount(); i++) {\r\n                final Chip chip = (Chip) chipGroup.getChildAt(i);\r\n                chip.setOnCheckedChangeListener((buttonView, isChecked) -&gt; {\r\n                     //My code\r\n                });\r\n            }\r\n\r\nSo when I open my app and click on `chip`, e.g. `chip1`, it selects it. Then when I click on that `chip1` second time, it also fires the `checkedChangeListener` and runs my code inside it. The `isChecked` status is not helping, because it just changes it value like `true-&gt;false-&gt;true-&gt;false` on every click. But I just don&#39;t want to run my code inside `onCheckedChangeListener`, if the `chip is` already checked. \r\nOne solution I think is to save my selected `chip` inside `fragment` or `ViewModel`. What&#39;s your solution?","title":"Prevent chip from double click","body":"<p>I have a <code>chipgroup</code> and some <code>chips</code> inside. I loop through this <code>chipgroup</code>, get every <code>chip</code> and add a <code>checkedChangeListener</code> for it.</p>\n<pre><code>for (int i = 0; i &lt; chipGroup.getChildCount(); i++) {\n            final Chip chip = (Chip) chipGroup.getChildAt(i);\n            chip.setOnCheckedChangeListener((buttonView, isChecked) -&gt; {\n                 //My code\n            });\n        }\n</code></pre>\n<p>So when I open my app and click on <code>chip</code>, e.g. <code>chip1</code>, it selects it. Then when I click on that <code>chip1</code> second time, it also fires the <code>checkedChangeListener</code> and runs my code inside it. The <code>isChecked</code> status is not helping, because it just changes it value like <code>true-&gt;false-&gt;true-&gt;false</code> on every click. But I just don't want to run my code inside <code>onCheckedChangeListener</code>, if the <code>chip is</code> already checked.\nOne solution I think is to save my selected <code>chip</code> inside <code>fragment</code> or <code>ViewModel</code>. What's your solution?</p>\n"},{"tags":["java","eclipse","formatting"],"comments":[{"owner":{"account_id":25621,"reputation":21842,"user_id":65977,"accept_rate":79,"display_name":"Tyler"},"score":4,"creation_date":1311959725,"post_id":6876617,"comment_id":8182387,"body_markdown":"I wonder if this is better accomplished through hooks in your version control system. Set Eclipse up the way *you* want it, but then force your VCS to commit code the way your team wants it. What VCS are you using?","body":"I wonder if this is better accomplished through hooks in your version control system. Set Eclipse up the way <i>you</i> want it, but then force your VCS to commit code the way your team wants it. What VCS are you using?"},{"owner":{"account_id":168452,"reputation":2454,"user_id":393919,"accept_rate":100,"display_name":"James"},"score":0,"creation_date":1311959947,"post_id":6876617,"comment_id":8182440,"body_markdown":"If you all have your own formatting styles set in Eclipse, why does it matter what it looks like in the repository?  Everyone who loads it will automatically end up with code that looks good to them.","body":"If you all have your own formatting styles set in Eclipse, why does it matter what it looks like in the repository?  Everyone who loads it will automatically end up with code that looks good to them."},{"owner":{"display_name":"user395760"},"score":5,"creation_date":1311960246,"post_id":6876617,"comment_id":8182503,"body_markdown":"@James: Imagine this: A edits, saves in style 1 and commits. B edits, saves in style 2 and commits. Result: The diff is littered with irrelevant but very distracting whitespaces changes. The code in the repo should be formatted in exactly one way.","body":"@James: Imagine this: A edits, saves in style 1 and commits. B edits, saves in style 2 and commits. Result: The diff is littered with irrelevant but very distracting whitespaces changes. The code in the repo should be formatted in exactly one way."},{"owner":{"account_id":168452,"reputation":2454,"user_id":393919,"accept_rate":100,"display_name":"James"},"score":1,"creation_date":1311960381,"post_id":6876617,"comment_id":8182539,"body_markdown":"@delnan You&#39;re right. If only we had a way to abstract style from the repository.","body":"@delnan You&#39;re right. If only we had a way to abstract style from the repository."},{"owner":{"display_name":"user395760"},"score":4,"creation_date":1311960422,"post_id":6876617,"comment_id":8182548,"body_markdown":"@James: Well, running all code through an automated formatter in a pre-commit hook seems to be the standard (and it seems to work pretty well).","body":"@James: Well, running all code through an automated formatter in a pre-commit hook seems to be the standard (and it seems to work pretty well)."},{"owner":{"account_id":126861,"reputation":2404,"user_id":323653,"accept_rate":21,"display_name":"Mike"},"score":0,"creation_date":1311968932,"post_id":6876617,"comment_id":8184653,"body_markdown":"Is there a scripting language or class I could drop into Eclipse that would tell Eclipse to switch to another formatting profile and then format? That way I could have two of those scripts and create shortcuts for each...","body":"Is there a scripting language or class I could drop into Eclipse that would tell Eclipse to switch to another formatting profile and then format? That way I could have two of those scripts and create shortcuts for each..."},{"owner":{"display_name":"user427390"},"score":0,"creation_date":1425330962,"post_id":6876617,"comment_id":45910941,"body_markdown":"Isn&#39;t the primary difference with Allman and K&amp;R simply where you put the opening braces?","body":"Isn&#39;t the primary difference with Allman and K&amp;R simply where you put the opening braces?"}],"answers":[{"tags":[],"owner":{"account_id":2785,"reputation":76174,"user_id":3916,"accept_rate":100,"display_name":"Vineet Reynolds"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1691789287,"creation_date":1311961624,"answer_id":6876959,"question_id":6876617,"body_markdown":"Unfortunately, Eclipse JDT UI does not support applying different code formatters yet.\r\n\r\nThere&#39;s [bug no 45423][1], which is intended to resolve this. As long as that bug remains unfixed, the best workaround would be applying a formatter in a commit hook as each project is associated with it&#39;s own formatter; you cannot even choose a different formatter to apply on the file save action (Preferences -&gt; Java -&gt; Editor -&gt; Save Actions). Honestly, I don&#39;t think shortcut keys would even work.\r\n\r\nAlso, it might be worth investigating the use of the [Questoid Code Formatter][2], which appears to be the closest (or only) plugin to support your need. I haven&#39;t attempted using it; I&#39;ve only read the description from Eclipse Marketplace.\r\n\r\n\r\n  [1]: https://bugs.eclipse.org/bugs/show_bug.cgi?id=45423\r\n  [2]: http://marketplace.eclipse.org/content/questoid-code-formatter","title":"How to set two different formatting styles and map them to different shortcuts in Eclipse","body":"<p>Unfortunately, Eclipse JDT UI does not support applying different code formatters yet.</p>\n<p>There's <a href=\"https://bugs.eclipse.org/bugs/show_bug.cgi?id=45423\" rel=\"nofollow noreferrer\">bug no 45423</a>, which is intended to resolve this. As long as that bug remains unfixed, the best workaround would be applying a formatter in a commit hook as each project is associated with it's own formatter; you cannot even choose a different formatter to apply on the file save action (Preferences -&gt; Java -&gt; Editor -&gt; Save Actions). Honestly, I don't think shortcut keys would even work.</p>\n<p>Also, it might be worth investigating the use of the <a href=\"http://marketplace.eclipse.org/content/questoid-code-formatter\" rel=\"nofollow noreferrer\">Questoid Code Formatter</a>, which appears to be the closest (or only) plugin to support your need. I haven't attempted using it; I've only read the description from Eclipse Marketplace.</p>\n"}],"owner":{"account_id":126861,"reputation":2404,"user_id":323653,"accept_rate":21,"display_name":"Mike"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9959,"favorite_count":0,"down_vote_count":0,"up_vote_count":30,"answer_count":1,"score":30,"last_activity_date":1691789454,"creation_date":1311959495,"question_id":6876617,"body_markdown":"Every time I open a file in Eclipse, I want to format the source code to Allman-style indentation. Every time I save, it should format to the dictated style in the office.\r\n\r\nI&#39;m OK with doing this manually and having two hot-keys for it:\r\n- Ctrl-Alt-PgUp: my way\r\n- Ctrl-Alt-PgDown: high way\r\n\r\nThe hot key option is good because then I get to verify all is well instead of it happening invisibly behind the scenes.\r\n\r\nHowever, Eclipse only has a single format option. What I need is two formatting styles and map them each to a shortcut key. Is that possible, and if so, how?\r\n","title":"How to set two different formatting styles and map them to different shortcuts in Eclipse","body":"<p>Every time I open a file in Eclipse, I want to format the source code to Allman-style indentation. Every time I save, it should format to the dictated style in the office.</p>\n<p>I'm OK with doing this manually and having two hot-keys for it:</p>\n<ul>\n<li>Ctrl-Alt-PgUp: my way</li>\n<li>Ctrl-Alt-PgDown: high way</li>\n</ul>\n<p>The hot key option is good because then I get to verify all is well instead of it happening invisibly behind the scenes.</p>\n<p>However, Eclipse only has a single format option. What I need is two formatting styles and map them each to a shortcut key. Is that possible, and if so, how?</p>\n"},{"tags":["java","tomcat","jar","war"],"comments":[{"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1691795721,"post_id":76886636,"comment_id":135544803,"body_markdown":"Welcome. Please read how to ask: https://stackoverflow.com/help/how-to-ask","body":"Welcome. Please read how to ask: <a href=\"https://stackoverflow.com/help/how-to-ask\">stackoverflow.com/help/how-to-ask</a>"}],"owner":{"account_id":12606643,"reputation":1,"user_id":22377179,"display_name":"MUSIC MOVIE WHATS APP STATUS"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1691788691,"creation_date":1691787740,"question_id":76886636,"body_markdown":"I am trying to deploy my application to Tomcat and using the war file. I have extended application with springboot servelet and also add the tag in the property and started the external Tomcat. After that even my Tomcat is extracting my file and while I am trying to run it I am getting page not found. Please help me out. \r\n\r\nI am expecting if anyone can guide me through it that would be great please.","title":"Troubleshooting Tomcat Deployment Issues with WAR Files&quot;","body":"<p>I am trying to deploy my application to Tomcat and using the war file. I have extended application with springboot servelet and also add the tag in the property and started the external Tomcat. After that even my Tomcat is extracting my file and while I am trying to run it I am getting page not found. Please help me out.</p>\n<p>I am expecting if anyone can guide me through it that would be great please.</p>\n"},{"tags":["java","eclipse","selenium-webdriver","selenium-chromedriver","windows-10"],"comments":[{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1691746059,"post_id":76881773,"comment_id":135536337,"body_markdown":"The latest Eclipse with the included Java 17 and a Maven project that specifies the needed dependencies (needed JARs) in the `pom.xml` file should work out of the box. Otherwise, please tell exactly which software you have and provide a [minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example). Currently, your question only says it is not working which is not enough to tell what is going wrong in your specific case.","body":"The latest Eclipse with the included Java 17 and a Maven project that specifies the needed dependencies (needed JARs) in the <code>pom.xml</code> file should work out of the box. Otherwise, please tell exactly which software you have and provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>. Currently, your question only says it is not working which is not enough to tell what is going wrong in your specific case."},{"owner":{"account_id":29149896,"reputation":11,"user_id":22330976,"display_name":"vishwa netsol"},"score":0,"creation_date":1691749129,"post_id":76881773,"comment_id":135536924,"body_markdown":"Eclipse version is 2021-12-R win32-x86 64 and Selenium java version is 4.11.0 I am using.","body":"Eclipse version is 2021-12-R win32-x86 64 and Selenium java version is 4.11.0 I am using."},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1691764540,"post_id":76881773,"comment_id":135540180,"body_markdown":"Apart from the fact that your Eclipse is several release behind (which you should fix first), what is your question? Please edit your question, and show your code. If you follow a tutorial, make sure it is up to date.","body":"Apart from the fact that your Eclipse is several release behind (which you should fix first), what is your question? Please edit your question, and show your code. If you follow a tutorial, make sure it is up to date."},{"owner":{"account_id":6077817,"reputation":1213,"user_id":4744568,"display_name":"pcalkins"},"score":0,"creation_date":1691788073,"post_id":76881773,"comment_id":135544052,"body_markdown":"if you&#39;re not using maven, be aware that the selenium zip file will have a folder inside called &quot;lib&quot;.  Those jars will also need to be added as dependencies... and don&#39;t add any jars that say &quot;-sources&quot; or you&#39;ll end up with all kinds of conflicts.","body":"if you&#39;re not using maven, be aware that the selenium zip file will have a folder inside called &quot;lib&quot;.  Those jars will also need to be added as dependencies... and don&#39;t add any jars that say &quot;-sources&quot; or you&#39;ll end up with all kinds of conflicts."}],"answers":[{"tags":[],"owner":{"account_id":10049107,"reputation":186647,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691788125,"creation_date":1691788125,"answer_id":76886666,"question_id":76881773,"body_markdown":"_**Eclipse IDE 2023‑06**_ is the latest [eclipse release](https://www.eclipse.org/downloads/) which comes with [tag:java-17] bundle works seamless on my [tag:windows-10] box along with the latest [Selenium](https://stackoverflow.com/a/54482491/7429447) version _**v4.10**_","title":"Which eclipse with java and selenium is suitable for windows 10?","body":"<p><em><strong>Eclipse IDE 2023‑06</strong></em> is the latest <a href=\"https://www.eclipse.org/downloads/\" rel=\"nofollow noreferrer\">eclipse release</a> which comes with <a href=\"/questions/tagged/java-17\" class=\"post-tag\" title=\"show questions tagged &#39;java-17&#39;\" aria-label=\"show questions tagged &#39;java-17&#39;\" rel=\"tag\" aria-labelledby=\"tag-java-17-tooltip-container\">java-17</a> bundle works seamless on my <a href=\"/questions/tagged/windows-10\" class=\"post-tag\" title=\"show questions tagged &#39;windows-10&#39;\" aria-label=\"show questions tagged &#39;windows-10&#39;\" rel=\"tag\" aria-labelledby=\"tag-windows-10-tooltip-container\">windows-10</a> box along with the latest <a href=\"https://stackoverflow.com/a/54482491/7429447\">Selenium</a> version <em><strong>v4.10</strong></em></p>\n"}],"owner":{"account_id":29149896,"reputation":11,"user_id":22330976,"display_name":"vishwa netsol"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":104,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1691833572,"answer_count":1,"score":1,"last_activity_date":1691788171,"creation_date":1691741750,"question_id":76881773,"body_markdown":"I am getting problem of jar files every time, as I had downloaded correct jar files, eclipse and java. \r\n\r\nI was expecting to work with eclipse but every time java.lang.module.FindException error appears. After inserting jar files in the path then also the eclipse is not able to read the jar files and I get chrome-driver error and the setup issue creates. Therefore, I want complete proper setup details of eclipse java. I tried from you tube but it won&#39;t worked at all.","title":"Which eclipse with java and selenium is suitable for windows 10?","body":"<p>I am getting problem of jar files every time, as I had downloaded correct jar files, eclipse and java.</p>\n<p>I was expecting to work with eclipse but every time java.lang.module.FindException error appears. After inserting jar files in the path then also the eclipse is not able to read the jar files and I get chrome-driver error and the setup issue creates. Therefore, I want complete proper setup details of eclipse java. I tried from you tube but it won't worked at all.</p>\n"},{"tags":["java","spring","security","jwt","token"],"owner":{"account_id":19600097,"reputation":1,"user_id":14345150,"display_name":"Jean Fernandine"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1691787896,"creation_date":1691787896,"question_id":76886653,"body_markdown":"I need to store the authenticated user&#39;s firstName and id in my access token, but when calling the attribute, the data returns empty.\r\nNote that I first add the claim.\r\n````\r\npublic OAuth2TokenCustomizer&lt;JwtEncodingContext&gt; tokenCustomizer() {\r\n        return context -&gt; {\r\n            OAuth2ClientAuthenticationToken principal = context.getPrincipal();\r\n            CustomUserAuthorities user = (CustomUserAuthorities) principal.getDetails();\r\n            List&lt;String&gt; authorities = user.getAuthorities().stream().map(x -&gt; x.getAuthority()).toList();\r\n            if (context.getTokenType().getValue().equals(&quot;access_token&quot;)) {\r\n                // @formatter:off\r\n                context.getClaims()\r\n                        .claim(&quot;firstName&quot;, user.getFirstName())\r\n                        .claim(&quot;authorities&quot;, authorities)\r\n                        .claim(&quot;username&quot;, user.getUsername())\r\n                        .claim(&quot;firstName&quot;, user.getFirstName())\r\n                ;\r\n                // @formatter:on\r\n            }\r\n        };\r\n    }\r\n````\r\nI&#39;m calling a separate CustomUserAuthorities class with custom attributes.\r\n````\r\npublic class CustomUserAuthorities {\r\n\r\n    private String username;\r\n    private String firstName;\r\n    private Collection&lt;? extends GrantedAuthority&gt; authorities;\r\n\r\n    public CustomUserAuthorities(String firstName, String username, Collection&lt;? extends GrantedAuthority&gt; authorities) {\r\n\t\tthis.username = username;\r\n        this.authorities = authorities;\r\n        this.firstName = firstName;\r\n    }\r\n\tpublic String getUsername() {\r\n        return username;\r\n    }\r\n    public String getFirstName() {\r\n        return firstName;\r\n    }\r\n    public Collection&lt;? extends GrantedAuthority&gt; getAuthorities() {\r\n        return authorities;\r\n    }\r\n\r\n}\r\n````\r\nIn the CustomPasswordAuthenticationProvider class I called firstName and instantiated it by calling oAuth2ClientAuthenticationToken.getDetails.\r\n\r\n````\r\npublic class CustomPasswordAuthenticationProvider implements AuthenticationProvider {\r\n\r\n\tprivate static final String ERROR_URI = &quot;https://datatracker.ietf.org/doc/html/rfc6749#section-5.2&quot;;\r\n\tprivate final OAuth2AuthorizationService authorizationService;\r\n\tprivate final UserDetailsService userDetailsService;\r\n\tprivate final OAuth2TokenGenerator&lt;? extends OAuth2Token&gt; tokenGenerator;\r\n\tprivate final PasswordEncoder passwordEncoder;\r\n\r\n\tprivate String firstName = &quot;&quot;;\r\n\tprivate String username = &quot;&quot;;\r\n\tprivate String password = &quot;&quot;;\r\n\tprivate Set&lt;String&gt; authorizedScopes = new HashSet&lt;&gt;();\r\n\r\n\tpublic CustomPasswordAuthenticationProvider(OAuth2AuthorizationService authorizationService,\r\n\t\t\tOAuth2TokenGenerator&lt;? extends OAuth2Token&gt; tokenGenerator, \r\n\t\t\tUserDetailsService userDetailsService, PasswordEncoder passwordEncoder) {\r\n\t\t\r\n\t\tAssert.notNull(authorizationService, &quot;authorizationService cannot be null&quot;);\r\n\t\tAssert.notNull(tokenGenerator, &quot;TokenGenerator cannot be null&quot;);\r\n\t\tAssert.notNull(userDetailsService, &quot;UserDetailsService cannot be null&quot;);\r\n\t\tAssert.notNull(passwordEncoder, &quot;PasswordEncoder cannot be null&quot;);\r\n\t\tthis.authorizationService = authorizationService;\r\n\t\tthis.tokenGenerator = tokenGenerator;\r\n\t\tthis.userDetailsService = userDetailsService;\r\n\t\tthis.passwordEncoder = passwordEncoder;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic Authentication authenticate(Authentication authentication) throws AuthenticationException {\r\n\t\t\r\n\t\tCustomPasswordAuthenticationToken customPasswordAuthenticationToken = (CustomPasswordAuthenticationToken) authentication;\r\n\t\tOAuth2ClientAuthenticationToken clientPrincipal = getAuthenticatedClientElseThrowInvalidClient(customPasswordAuthenticationToken);\r\n\t\tRegisteredClient registeredClient = clientPrincipal.getRegisteredClient();\r\n\t\tusername = customPasswordAuthenticationToken.getUsername();\r\n\t\tpassword = customPasswordAuthenticationToken.getPassword();\r\n\r\n\t\tUserDetails user = null;\r\n\t\ttry {\r\n\t\t\tuser = userDetailsService.loadUserByUsername(username);\r\n\t\t} catch (UsernameNotFoundException e) {\r\n\t\t\tthrow new OAuth2AuthenticationException(&quot;Invalid credentials&quot;);\r\n\t\t}\r\n\t\t\t\t\r\n\t\tif (!passwordEncoder.matches(password, user.getPassword()) || !user.getUsername().equals(username)) {\r\n\t\t\tthrow new OAuth2AuthenticationException(&quot;Invalid credentials&quot;);\r\n\t\t}\r\n\r\n\t\tauthorizedScopes = user.getAuthorities().stream()\r\n\t\t\t\t.map(scope -&gt; scope.getAuthority())\r\n\t\t\t\t.filter(scope -&gt; registeredClient.getScopes().contains(scope))\r\n\t\t\t\t.collect(Collectors.toSet());\r\n\t\t\r\n\t\t//-----------Create a new Security Context Holder Context----------\r\n\t\tOAuth2ClientAuthenticationToken oAuth2ClientAuthenticationToken = (OAuth2ClientAuthenticationToken) SecurityContextHolder.getContext().getAuthentication();\r\n\t\tCustomUserAuthorities customPasswordUser = new CustomUserAuthorities(firstName, username, user.getAuthorities());\r\n\t\toAuth2ClientAuthenticationToken.setDetails(customPasswordUser);\r\n\r\n\t\tvar newcontext = SecurityContextHolder.createEmptyContext();\r\n\t\tnewcontext.setAuthentication(oAuth2ClientAuthenticationToken);\r\n\t\tSecurityContextHolder.setContext(newcontext);\t\t\r\n\r\n````\r\n\r\n\r\nI expected firstName: first name of the authenticated user to be returned. But it returned &quot;&quot;. (empty).\r\n````\r\n{\r\n  &quot;sub&quot;: &quot;myclientid&quot;,\r\n  &quot;aud&quot;: &quot;myclientid&quot;,\r\n  &quot;firstName&quot;: &quot;&quot;,\r\n  &quot;nbf&quot;: 1691786519,\r\n  &quot;iss&quot;: &quot;http://localhost:8080&quot;,\r\n  &quot;exp&quot;: 1692650519,\r\n  &quot;iat&quot;: 1691786519,\r\n  &quot;authorities&quot;: [\r\n    &quot;ROLE_CLIENT&quot;\r\n  ],\r\n  &quot;username&quot;: &quot;alex@gmail.com&quot;\r\n}\r\n````","title":"I need to store extra user data in JWT access token","body":"<p>I need to store the authenticated user's firstName and id in my access token, but when calling the attribute, the data returns empty.\nNote that I first add the claim.</p>\n<pre><code>public OAuth2TokenCustomizer&lt;JwtEncodingContext&gt; tokenCustomizer() {\n        return context -&gt; {\n            OAuth2ClientAuthenticationToken principal = context.getPrincipal();\n            CustomUserAuthorities user = (CustomUserAuthorities) principal.getDetails();\n            List&lt;String&gt; authorities = user.getAuthorities().stream().map(x -&gt; x.getAuthority()).toList();\n            if (context.getTokenType().getValue().equals(&quot;access_token&quot;)) {\n                // @formatter:off\n                context.getClaims()\n                        .claim(&quot;firstName&quot;, user.getFirstName())\n                        .claim(&quot;authorities&quot;, authorities)\n                        .claim(&quot;username&quot;, user.getUsername())\n                        .claim(&quot;firstName&quot;, user.getFirstName())\n                ;\n                // @formatter:on\n            }\n        };\n    }\n</code></pre>\n<p>I'm calling a separate CustomUserAuthorities class with custom attributes.</p>\n<pre><code>public class CustomUserAuthorities {\n\n    private String username;\n    private String firstName;\n    private Collection&lt;? extends GrantedAuthority&gt; authorities;\n\n    public CustomUserAuthorities(String firstName, String username, Collection&lt;? extends GrantedAuthority&gt; authorities) {\n        this.username = username;\n        this.authorities = authorities;\n        this.firstName = firstName;\n    }\n    public String getUsername() {\n        return username;\n    }\n    public String getFirstName() {\n        return firstName;\n    }\n    public Collection&lt;? extends GrantedAuthority&gt; getAuthorities() {\n        return authorities;\n    }\n\n}\n</code></pre>\n<p>In the CustomPasswordAuthenticationProvider class I called firstName and instantiated it by calling oAuth2ClientAuthenticationToken.getDetails.</p>\n<pre><code>public class CustomPasswordAuthenticationProvider implements AuthenticationProvider {\n\n    private static final String ERROR_URI = &quot;https://datatracker.ietf.org/doc/html/rfc6749#section-5.2&quot;;\n    private final OAuth2AuthorizationService authorizationService;\n    private final UserDetailsService userDetailsService;\n    private final OAuth2TokenGenerator&lt;? extends OAuth2Token&gt; tokenGenerator;\n    private final PasswordEncoder passwordEncoder;\n\n    private String firstName = &quot;&quot;;\n    private String username = &quot;&quot;;\n    private String password = &quot;&quot;;\n    private Set&lt;String&gt; authorizedScopes = new HashSet&lt;&gt;();\n\n    public CustomPasswordAuthenticationProvider(OAuth2AuthorizationService authorizationService,\n            OAuth2TokenGenerator&lt;? extends OAuth2Token&gt; tokenGenerator, \n            UserDetailsService userDetailsService, PasswordEncoder passwordEncoder) {\n        \n        Assert.notNull(authorizationService, &quot;authorizationService cannot be null&quot;);\n        Assert.notNull(tokenGenerator, &quot;TokenGenerator cannot be null&quot;);\n        Assert.notNull(userDetailsService, &quot;UserDetailsService cannot be null&quot;);\n        Assert.notNull(passwordEncoder, &quot;PasswordEncoder cannot be null&quot;);\n        this.authorizationService = authorizationService;\n        this.tokenGenerator = tokenGenerator;\n        this.userDetailsService = userDetailsService;\n        this.passwordEncoder = passwordEncoder;\n    }\n\n    @Override\n    public Authentication authenticate(Authentication authentication) throws AuthenticationException {\n        \n        CustomPasswordAuthenticationToken customPasswordAuthenticationToken = (CustomPasswordAuthenticationToken) authentication;\n        OAuth2ClientAuthenticationToken clientPrincipal = getAuthenticatedClientElseThrowInvalidClient(customPasswordAuthenticationToken);\n        RegisteredClient registeredClient = clientPrincipal.getRegisteredClient();\n        username = customPasswordAuthenticationToken.getUsername();\n        password = customPasswordAuthenticationToken.getPassword();\n\n        UserDetails user = null;\n        try {\n            user = userDetailsService.loadUserByUsername(username);\n        } catch (UsernameNotFoundException e) {\n            throw new OAuth2AuthenticationException(&quot;Invalid credentials&quot;);\n        }\n                \n        if (!passwordEncoder.matches(password, user.getPassword()) || !user.getUsername().equals(username)) {\n            throw new OAuth2AuthenticationException(&quot;Invalid credentials&quot;);\n        }\n\n        authorizedScopes = user.getAuthorities().stream()\n                .map(scope -&gt; scope.getAuthority())\n                .filter(scope -&gt; registeredClient.getScopes().contains(scope))\n                .collect(Collectors.toSet());\n        \n        //-----------Create a new Security Context Holder Context----------\n        OAuth2ClientAuthenticationToken oAuth2ClientAuthenticationToken = (OAuth2ClientAuthenticationToken) SecurityContextHolder.getContext().getAuthentication();\n        CustomUserAuthorities customPasswordUser = new CustomUserAuthorities(firstName, username, user.getAuthorities());\n        oAuth2ClientAuthenticationToken.setDetails(customPasswordUser);\n\n        var newcontext = SecurityContextHolder.createEmptyContext();\n        newcontext.setAuthentication(oAuth2ClientAuthenticationToken);\n        SecurityContextHolder.setContext(newcontext);       \n\n</code></pre>\n<p>I expected firstName: first name of the authenticated user to be returned. But it returned &quot;&quot;. (empty).</p>\n<pre><code>{\n  &quot;sub&quot;: &quot;myclientid&quot;,\n  &quot;aud&quot;: &quot;myclientid&quot;,\n  &quot;firstName&quot;: &quot;&quot;,\n  &quot;nbf&quot;: 1691786519,\n  &quot;iss&quot;: &quot;http://localhost:8080&quot;,\n  &quot;exp&quot;: 1692650519,\n  &quot;iat&quot;: 1691786519,\n  &quot;authorities&quot;: [\n    &quot;ROLE_CLIENT&quot;\n  ],\n  &quot;username&quot;: &quot;alex@gmail.com&quot;\n}\n</code></pre>\n"},{"tags":["java","amazon-web-services","aws-step-functions"],"owner":{"account_id":3101854,"reputation":4107,"user_id":2625772,"accept_rate":54,"display_name":"AnOldSoul"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1691787503,"creation_date":1691787503,"question_id":76886613,"body_markdown":"I have a step function step, where I use a map to iterate through an array of elements, invoking a service. I need the service to know which iteration it is processing. I want to do this by adding the index of the map iteration to the original input (as service cannot be updated to process changes to the input).\r\n\r\nBelow is what I tried:\r\n\r\n    const appendIterationPass = new sfn.Pass(this, &#39;Append Iteration&#39;, {\r\n          parameters: {\r\n               &#39;originalInput.$&#39;: &#39;$&#39;,\r\n               &#39;executionIteration.$&#39;: &#39;$$.Map.Item.Index&#39;\r\n          },\r\n          resultPath: &#39;$&#39;\r\n     });\r\n    \r\n     const myExecutor = new sfn.Map(this, &#39;MyExecutor&#39;, {\r\n         outputPath: &#39;$&#39;,\r\n          itemsPath: &#39;$&#39;,\r\n     });\r\n    \r\n     myExecutor.iterator(appendIterationPass.next(preprocess));\r\n     myExecutor.addCatch(tranformExecutionFailureResult, {\r\n         errors: [&#39;States.ALL&#39;],\r\n         resultPath: &#39;$[0].error&#39;\r\n     });\r\n\r\n But at the step function execution, I&#39;m getting this exception as soon as the step appendIteration is entered:\r\n\r\n    An error occurred while executing the state &#39;Append Iteration&#39; (entered at the event id #29). The JSONPath &#39;$$.Map.Item.Index&#39; specified for the field &#39;executionIteration.$&#39; could not be found in the input\r\n\r\nHow can I get the iteration index and append it to the original input that my service gets? Appreciate any guidance/advice.","title":"Appending Map Iteration Index to Original Input of Step Function","body":"<p>I have a step function step, where I use a map to iterate through an array of elements, invoking a service. I need the service to know which iteration it is processing. I want to do this by adding the index of the map iteration to the original input (as service cannot be updated to process changes to the input).</p>\n<p>Below is what I tried:</p>\n<pre><code>const appendIterationPass = new sfn.Pass(this, 'Append Iteration', {\n      parameters: {\n           'originalInput.$': '$',\n           'executionIteration.$': '$$.Map.Item.Index'\n      },\n      resultPath: '$'\n });\n\n const myExecutor = new sfn.Map(this, 'MyExecutor', {\n     outputPath: '$',\n      itemsPath: '$',\n });\n\n myExecutor.iterator(appendIterationPass.next(preprocess));\n myExecutor.addCatch(tranformExecutionFailureResult, {\n     errors: ['States.ALL'],\n     resultPath: '$[0].error'\n });\n</code></pre>\n<p>But at the step function execution, I'm getting this exception as soon as the step appendIteration is entered:</p>\n<pre><code>An error occurred while executing the state 'Append Iteration' (entered at the event id #29). The JSONPath '$$.Map.Item.Index' specified for the field 'executionIteration.$' could not be found in the input\n</code></pre>\n<p>How can I get the iteration index and append it to the original input that my service gets? Appreciate any guidance/advice.</p>\n"},{"tags":["java","dependencies","maven-3","netbeans-12"],"comments":[{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1692202664,"post_id":76886578,"comment_id":135592656,"body_markdown":"It looks like you are trying to access a repository without https ... `ReasonPhrase:HTTPS Required.`.. furthermore you are using extremely old plugin versions also which version of Maven do you use? I assume you are using an old version... which can be the reason for using http instead of https...","body":"It looks like you are trying to access a repository without https ... <code>ReasonPhrase:HTTPS Required.</code>.. furthermore you are using extremely old plugin versions also which version of Maven do you use? I assume you are using an old version... which can be the reason for using http instead of https..."},{"owner":{"account_id":29208313,"reputation":1,"user_id":22376912,"display_name":"UtahTeaPot"},"score":0,"creation_date":1692209117,"post_id":76886578,"comment_id":135593788,"body_markdown":"I&#39;m using Maven3. I have updated all the references to https. I have explicitly declared the maven repository: &quot;https://repo.maven.apache.org/maven2/org/&quot; in the settings and all places available in the .pom file.                        I&#39;m not sure where else I should be updating","body":"I&#39;m using Maven3. I have updated all the references to https. I have explicitly declared the maven repository: &quot;<a href=\"https://repo.maven.apache.org/maven2/org/\" rel=\"nofollow noreferrer\">repo.maven.apache.org/maven2/org</a>&quot; in the settings and all places available in the .pom file.                        I&#39;m not sure where else I should be updating"},{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1692212285,"post_id":76886578,"comment_id":135594386,"body_markdown":"[Which version of Maven](https://maven.apache.org/docs/history.html)?? please post that configuration of the`settings.xml` why in the pom file? Only belongs into `settings.xml` and the output looks like you did something wrong in `settings.xml` file...Also Netbeans version 12 sounds very old...","body":"<a href=\"https://maven.apache.org/docs/history.html\" rel=\"nofollow noreferrer\">Which version of Maven</a>?? please post that configuration of the<code>settings.xml</code> why in the pom file? Only belongs into <code>settings.xml</code> and the output looks like you did something wrong in <code>settings.xml</code> file...Also Netbeans version 12 sounds very old..."}],"owner":{"account_id":29208313,"reputation":1,"user_id":22376912,"display_name":"UtahTeaPot"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":11,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1691786874,"creation_date":1691786874,"question_id":76886578,"body_markdown":"I have a project (written in Java using the Netbeans Platform 12.6), which is composed by several Tabs (all of them are created subclassing the TopComponent class). \r\nThe project is neither cleaning nor building and I keep getting this error:\r\n\r\n    &#39;COMPILATION ERROR : \r\n     &lt;hr&gt;\r\n    com//ProgramTopComponent.java:[40,13] error: \r\n    Could not generate files: java.io.FileNotFoundException:\r\n    C:\\\\Program-module\\\\program\\module\\Bundle.properties (Access is denied)\r\n    &lt;hr&gt;\r\n\r\n    &#39;BUILD FAILURE\r\n    &lt;hr&gt;\r\n    Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:2.5.1:compile \r\n    (default-compile) on project Program-module: \r\n    Compilation failure:\r\n    com//program/module/ProgramTopComponent.java:[40,13] \r\n    error: Could not generate files:\r\n    java.io.FileNotFoundException: \r\n    C:\\\\\\Program\\Program-module\\\\\\\\\\program\\module\\Bundle.properties (Access is denied)\r\n    To see the full stack trace of the errors, re-run Maven with the -e switch.\r\n    Re-run Maven using the -X switch to enable full debug logging.\r\n\r\n     For more information about the errors and possible solutions, please read the following        articles:\r\n    cwiki.apache.org/confluence/display/MAVEN/MojoFailureException&#39;\r\n\r\n\r\nIn Command Prompt I get:\r\n    &lt;hr&gt;\r\n    BUILD FAILURE\r\n    &lt;hr&gt;\r\n    Plugin org.apache.maven.plugins:maven-clean-plugin:2.4.1 or one \r\n    of its dependencies could not be resolved: \r\n    Failed to read artifact descriptor for:   \r\n    org.apache.maven.plugins:maven-clean-plugin:jar:2.4.1: Could not transfer artifact\r\n    org.apache.maven.plugins:maven-clean-plugin:pom:2.4.1 from/to central \r\n    (//repo.maven.apache.org/maven2): Failed to transfer file:   \r\n    /repo.maven.apache.org/maven2/org/apache/maven/plugins/maven-clean-plugin/2.4.1/\r\n    maven-clean-plugin-2.4.1.pom. \r\n    **Return code is: 501 , ReasonPhrase:HTTPS Required.**\r\n\r\n     To see the full stack trace of the errors, re-run Maven with the -e switch.\r\n     Re-run Maven using the -X switch to enable full debug logging.\r\n     \r\n     For more information about the errors and possible solutions, \r\n     please read the following articles:\r\n     cwiki.apache.org//confluence//display//MAVEN//PluginResolutionException\r\n\r\n\r\nWith the -X trace enabled when cleaning in CMD \r\n    &lt;hr&gt;\r\n    BUILD FAILURE\r\n    &lt;hr&gt;\r\n    Plugin org.apache.maven.plugins:maven-clean-plugin:2.4.1 or one of its \r\n    dependencies could not be resolved: Failed to read artifact descriptor for:\r\n    org.apache.maven.plugins:maven-clean-plugin:jar:2.4.1: \r\n    **Could not transfer artifact:** \r\n    **Failed to read artifact descriptor for:\r\n    org.apache.maven.plugins:maven-clean-plugin:jar:2.4.1**\r\n     ...\r\n    **Caused by: org.sonatype.aether.resolution.ArtifactDescriptorException: \r\n    Failed to read artifact descriptor for:\r\n    org.apache.maven.plugins:maven-clean-plugin:jar:2.4.1**\r\n     ...\r\n     **Failed to transfer file: \r\n     &quot;repo.maven.apache.org/maven2/org/apache/maven/plugins/maven-clean-plugin/\r\n     2.4.1/maven-clean-plugin-2.4.1.pom.\r\n     Return code is: \r\n     501 , ReasonPhrase:HTTPS Required.**   \r\n\r\n\r\n\r\nTLDR: it&#39;s giving me the ERROR 501 = ReasonPhrase:HTTPS Required. but I&#39;ve Ctrl-F&#39;ed the entire file project and I can&#39;t find any instance where http is called where it should be https. \r\n\r\nWhat is causing this hang?\r\n\r\nI have gone through all of the .pom files, settings files, manifest files and .config files associated with this program to make sure that all http declarations are https. Additionally, I have wiped out generated build files and built again. I have manually gone and pulled the associated dependencies from the central Maven repository. \r\n\r\nI&#39;m really hoping I&#39;m just doing something terribly stupid and overlooking a simple thing. \r\nHas anyone else run into this?\r\n\r\nsettings.xml has already been updated to point to the updated repository \r\n\r\nI have already explicitly declared the repository in my .pom file\r\n","title":"TopComponent causing project not to build in Netbeans 12.6, reoccurring error : Return code is: 501 , ReasonPhrase:HTTPS Required","body":"<p>I have a project (written in Java using the Netbeans Platform 12.6), which is composed by several Tabs (all of them are created subclassing the TopComponent class).\nThe project is neither cleaning nor building and I keep getting this error:</p>\n<pre><code>'COMPILATION ERROR : \n &lt;hr&gt;\ncom//ProgramTopComponent.java:[40,13] error: \nCould not generate files: java.io.FileNotFoundException:\nC:\\\\Program-module\\\\program\\module\\Bundle.properties (Access is denied)\n&lt;hr&gt;\n\n'BUILD FAILURE\n&lt;hr&gt;\nFailed to execute goal org.apache.maven.plugins:maven-compiler-plugin:2.5.1:compile \n(default-compile) on project Program-module: \nCompilation failure:\ncom//program/module/ProgramTopComponent.java:[40,13] \nerror: Could not generate files:\njava.io.FileNotFoundException: \nC:\\\\\\Program\\Program-module\\\\\\\\\\program\\module\\Bundle.properties (Access is denied)\nTo see the full stack trace of the errors, re-run Maven with the -e switch.\nRe-run Maven using the -X switch to enable full debug logging.\n\n For more information about the errors and possible solutions, please read the following        articles:\ncwiki.apache.org/confluence/display/MAVEN/MojoFailureException'\n</code></pre>\n<p>In Command Prompt I get:\n<hr>\nBUILD FAILURE\n<hr>\nPlugin org.apache.maven.plugins:maven-clean-plugin:2.4.1 or one\nof its dependencies could not be resolved:\nFailed to read artifact descriptor for:<br />\norg.apache.maven.plugins:maven-clean-plugin:jar:2.4.1: Could not transfer artifact\norg.apache.maven.plugins:maven-clean-plugin:pom:2.4.1 from/to central\n(//repo.maven.apache.org/maven2): Failed to transfer file:<br />\n/repo.maven.apache.org/maven2/org/apache/maven/plugins/maven-clean-plugin/2.4.1/\nmaven-clean-plugin-2.4.1.pom.\n<strong>Return code is: 501 , ReasonPhrase:HTTPS Required.</strong></p>\n<pre><code> To see the full stack trace of the errors, re-run Maven with the -e switch.\n Re-run Maven using the -X switch to enable full debug logging.\n \n For more information about the errors and possible solutions, \n please read the following articles:\n cwiki.apache.org//confluence//display//MAVEN//PluginResolutionException\n</code></pre>\n<p>With the -X trace enabled when cleaning in CMD\n<hr>\nBUILD FAILURE\n<hr>\nPlugin org.apache.maven.plugins:maven-clean-plugin:2.4.1 or one of its\ndependencies could not be resolved: Failed to read artifact descriptor for:\norg.apache.maven.plugins:maven-clean-plugin:jar:2.4.1:\n<strong>Could not transfer artifact:</strong>\n<strong>Failed to read artifact descriptor for:\norg.apache.maven.plugins:maven-clean-plugin:jar:2.4.1</strong>\n...\n<strong>Caused by: org.sonatype.aether.resolution.ArtifactDescriptorException:\nFailed to read artifact descriptor for:\norg.apache.maven.plugins:maven-clean-plugin:jar:2.4.1</strong>\n...\n<strong>Failed to transfer file:\n&quot;repo.maven.apache.org/maven2/org/apache/maven/plugins/maven-clean-plugin/\n2.4.1/maven-clean-plugin-2.4.1.pom.\nReturn code is:\n501 , ReasonPhrase:HTTPS Required.</strong></p>\n<p>TLDR: it's giving me the ERROR 501 = ReasonPhrase:HTTPS Required. but I've Ctrl-F'ed the entire file project and I can't find any instance where http is called where it should be https.</p>\n<p>What is causing this hang?</p>\n<p>I have gone through all of the .pom files, settings files, manifest files and .config files associated with this program to make sure that all http declarations are https. Additionally, I have wiped out generated build files and built again. I have manually gone and pulled the associated dependencies from the central Maven repository.</p>\n<p>I'm really hoping I'm just doing something terribly stupid and overlooking a simple thing.\nHas anyone else run into this?</p>\n<p>settings.xml has already been updated to point to the updated repository</p>\n<p>I have already explicitly declared the repository in my .pom file</p>\n"},{"tags":["java","scala","apache-spark"],"comments":[{"owner":{"account_id":5882166,"reputation":1766,"user_id":4631188,"accept_rate":80,"display_name":"Taha Naqvi"},"score":0,"creation_date":1546590095,"post_id":54034225,"comment_id":94905933,"body_markdown":"Spark History Server --https://spark.apache.org/docs/latest/monitoring.html","body":"Spark History Server --<a href=\"https://spark.apache.org/docs/latest/monitoring.html\" rel=\"nofollow noreferrer\">spark.apache.org/docs/latest/monitoring.html</a>"},{"owner":{"account_id":12727292,"reputation":97,"user_id":9363183,"display_name":"ahmadi morteza ali"},"score":0,"creation_date":1546595778,"post_id":54034225,"comment_id":94908385,"body_markdown":"@TahaNaqvi thanks but I see that &quot;Spark History Server Configuration Options&quot; is just some options that can control maxApplications or retainedApplications ... . But how can I see the number of the current queries running on Spark?","body":"@TahaNaqvi thanks but I see that &quot;Spark History Server Configuration Options&quot; is just some options that can control maxApplications or retainedApplications ... . But how can I see the number of the current queries running on Spark?"},{"owner":{"account_id":5882166,"reputation":1766,"user_id":4631188,"accept_rate":80,"display_name":"Taha Naqvi"},"score":0,"creation_date":1546608791,"post_id":54034225,"comment_id":94914853,"body_markdown":"yarn application -list | grep &quot;SPARK&quot; | grep &quot;RUNNING&quot; | wc -l","body":"yarn application -list | grep &quot;SPARK&quot; | grep &quot;RUNNING&quot; | wc -l"},{"owner":{"account_id":12727292,"reputation":97,"user_id":9363183,"display_name":"ahmadi morteza ali"},"score":0,"creation_date":1546614471,"post_id":54034225,"comment_id":94917954,"body_markdown":"@TahaNaqvi thanks, can I access this from java code?","body":"@TahaNaqvi thanks, can I access this from java code?"},{"owner":{"account_id":5882166,"reputation":1766,"user_id":4631188,"accept_rate":80,"display_name":"Taha Naqvi"},"score":0,"creation_date":1546625728,"post_id":54034225,"comment_id":94923735,"body_markdown":"https://stackoverflow.com/questions/52717163/list-all-yarn-application-in-hadoop-cluster-through-java...   .refer this and  create objects of response and filter on type of app.","body":"<a href=\"https://stackoverflow.com/questions/52717163/list-all-yarn-application-in-hadoop-cluster-through-java\" title=\"list all yarn application in hadoop cluster through java\">stackoverflow.com/questions/52717163/&hellip;</a>...   .refer this and  create objects of response and filter on type of app."}],"owner":{"account_id":12727292,"reputation":97,"user_id":9363183,"display_name":"ahmadi morteza ali"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1691785055,"creation_date":1546584465,"question_id":54034225,"body_markdown":"I have a cluster with one Spark master and three Spark workers which are used to query on Cassandra. Also I have a UI app with java that the users can insert the query fields on the UI widgets.\r\n\r\nSince some users use my system, so I have multiple queries with Spark on Cassandra at the same time. \r\n\r\nI know that `SparkListener` can show start of a job or some thing like that, but I don&#39;t see any function to get the current running jobs on Spark in `SparkListener`. Just there are some functions that can handle some request like started job or task or ...\r\n\r\nNow how can I get the number of queries which are running on my Spark by the users queries for example on every 5 seconds (in java or scala)?\r\n\r\nI saw the following questions but my problem does not solve:\r\n\r\nhttps://stackoverflow.com/questions/46825993/get-current-number-of-running-containers-in-spark-on-yarn\r\n\r\nhttps://stackoverflow.com/questions/39162063/spark-how-many-executors-and-cores-are-allocated-to-my-spark-job/39163142#39163142 ","title":"Get the number of running queries on Spark at the same time","body":"<p>I have a cluster with one Spark master and three Spark workers which are used to query on Cassandra. Also I have a UI app with java that the users can insert the query fields on the UI widgets.</p>\n\n<p>Since some users use my system, so I have multiple queries with Spark on Cassandra at the same time. </p>\n\n<p>I know that <code>SparkListener</code> can show start of a job or some thing like that, but I don't see any function to get the current running jobs on Spark in <code>SparkListener</code>. Just there are some functions that can handle some request like started job or task or ...</p>\n\n<p>Now how can I get the number of queries which are running on my Spark by the users queries for example on every 5 seconds (in java or scala)?</p>\n\n<p>I saw the following questions but my problem does not solve:</p>\n\n<p><a href=\"https://stackoverflow.com/questions/46825993/get-current-number-of-running-containers-in-spark-on-yarn\">Get current number of running containers in Spark on YARN</a></p>\n\n<p><a href=\"https://stackoverflow.com/questions/39162063/spark-how-many-executors-and-cores-are-allocated-to-my-spark-job/39163142#39163142\">Spark - How many Executors and Cores are allocated to my spark job</a> </p>\n"},{"tags":["java","hibernate","jpa","jdbc"],"comments":[{"owner":{"account_id":6169361,"reputation":20329,"user_id":4808122,"accept_rate":89,"display_name":"Marmite Bomber"},"score":0,"creation_date":1587401104,"post_id":61327563,"comment_id":108491780,"body_markdown":"`v.ID in (:idList)` this is very suspicious. What do you pass in the `:idList` in the *JDBC* call? A comma separated list of values?","body":"<code>v.ID in (:idList)</code> this is very suspicious. What do you pass in the <code>:idList</code> in the <i>JDBC</i> call? A comma separated list of values?"},{"owner":{"account_id":6169361,"reputation":20329,"user_id":4808122,"accept_rate":89,"display_name":"Marmite Bomber"},"score":0,"creation_date":1587401280,"post_id":61327563,"comment_id":108491861,"body_markdown":"Also the very first thing to verify, if both aproaches use the same (and appropriate) value of the *fetch size*.","body":"Also the very first thing to verify, if both aproaches use the same (and appropriate) value of the <i>fetch size</i>."},{"owner":{"account_id":3675005,"reputation":941,"user_id":3061292,"accept_rate":57,"display_name":"mpssantos"},"score":0,"creation_date":1587402770,"post_id":61327563,"comment_id":108492722,"body_markdown":"in the JDBC case i am setting the parameters normally scoresPreparedStatement.setLong(i+3, partition.get(i)) but on the query i had to transform it on ID in (?, ?, ?, ?, ........, ?)","body":"in the JDBC case i am setting the parameters normally scoresPreparedStatement.setLong(i+3, partition.get(i)) but on the query i had to transform it on ID in (?, ?, ?, ?, ........, ?)"},{"owner":{"account_id":3675005,"reputation":941,"user_id":3061292,"accept_rate":57,"display_name":"mpssantos"},"score":0,"creation_date":1587403447,"post_id":61327563,"comment_id":108493101,"body_markdown":"the fetch_size actualy is not set, only batch_size=50. What is the default value? what is the best value to set? I just red that 20 or 500 have not much difference","body":"the fetch_size actualy is not set, only batch_size=50. What is the default value? what is the best value to set? I just red that 20 or 500 have not much difference"},{"owner":{"account_id":1223835,"reputation":75878,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":0,"creation_date":1587403633,"post_id":61327563,"comment_id":108493206,"body_markdown":"You should start by setting Hibernate to log the SQL it&#39;s issuing and comparing it.","body":"You should start by setting Hibernate to log the SQL it&#39;s issuing and comparing it."},{"owner":{"account_id":3675005,"reputation":941,"user_id":3061292,"accept_rate":57,"display_name":"mpssantos"},"score":0,"creation_date":1587405381,"post_id":61327563,"comment_id":108494104,"body_markdown":"setting spring.jpa.properties.hibernate.jdbc.fetch_size=500 apparently had not much or none effect on the reult time. it is still taking around 10minutes","body":"setting spring.jpa.properties.hibernate.jdbc.fetch_size=500 apparently had not much or none effect on the reult time. it is still taking around 10minutes"},{"owner":{"account_id":6169361,"reputation":20329,"user_id":4808122,"accept_rate":89,"display_name":"Marmite Bomber"},"score":3,"creation_date":1587405992,"post_id":61327563,"comment_id":108494430,"body_markdown":"After rereading your question, this is NO GO neither for JPA nor for JDBC. IN list was designed to address *few* IDs not 24K. sql_trace the JPA statement and you will see tons of ORs connecting the IN list predicates, which aparently would confuse the optimizer. The right approach is to find a solution withoup long IN lists.","body":"After rereading your question, this is NO GO neither for JPA nor for JDBC. IN list was designed to address <i>few</i> IDs not 24K. sql_trace the JPA statement and you will see tons of ORs connecting the IN list predicates, which aparently would confuse the optimizer. The right approach is to find a solution withoup long IN lists."},{"owner":{"account_id":1658807,"reputation":31819,"user_id":1527544,"accept_rate":54,"display_name":"Antoniossss"},"score":0,"creation_date":1587406058,"post_id":61327563,"comment_id":108494461,"body_markdown":"Remember that your &quot;jpa operations&quot; takes hydration/dehydration&quot; into account - so its not just plain jdbc call.","body":"Remember that your &quot;jpa operations&quot; takes hydration/dehydration&quot; into account - so its not just plain jdbc call."},{"owner":{"account_id":3675005,"reputation":941,"user_id":3061292,"accept_rate":57,"display_name":"mpssantos"},"score":1,"creation_date":1587406391,"post_id":61327563,"comment_id":108494626,"body_markdown":"@ Marmite Bomber The inList &quot;just&quot; have 1600 elements (which means 2 queries in Oracle, 1 with 1000 and another with 600). The 24k that you see there is the number of records on the result.","body":"@ Marmite Bomber The inList &quot;just&quot; have 1600 elements (which means 2 queries in Oracle, 1 with 1000 and another with 600). The 24k that you see there is the number of records on the result."},{"owner":{"account_id":3675005,"reputation":941,"user_id":3061292,"accept_rate":57,"display_name":"mpssantos"},"score":0,"creation_date":1587408282,"post_id":61327563,"comment_id":108495517,"body_markdown":"Something that migh not be clear is that the query returns 37K results","body":"Something that migh not be clear is that the query returns 37K results"},{"owner":{"account_id":2321321,"reputation":2169,"user_id":2036983,"display_name":"Jonathan Rosenne"},"score":0,"creation_date":1587673654,"post_id":61327563,"comment_id":108611810,"body_markdown":"Would it be possible to see the generated SQL statement?","body":"Would it be possible to see the generated SQL statement?"},{"owner":{"account_id":3675005,"reputation":941,"user_id":3061292,"accept_rate":57,"display_name":"mpssantos"},"score":0,"creation_date":1587675175,"post_id":61327563,"comment_id":108612481,"body_markdown":"Just posting the first query. the 2nd is exactly the same but wih less ids in the in clause. The first query the in clause takes 1000 elems, and the 2nd query 615 elements: Hibernate: SELECT COL_A, COL_B, COL_C, COL_D, COL_E, COL_F, COL_G, COL_H FROM TABLE_A WHERE COL_A in (?, ?, ?, ... ?, ?, ?) AND (DATE_FROM &lt;= ? AND DATE_TILL &gt;= ?)\n\nAgain JDBC deals well with it. Why internally Hibernate is taking a huge amount of time when pure jdbc takes 8seconds :(","body":"Just posting the first query. the 2nd is exactly the same but wih less ids in the in clause. The first query the in clause takes 1000 elems, and the 2nd query 615 elements: Hibernate: SELECT COL_A, COL_B, COL_C, COL_D, COL_E, COL_F, COL_G, COL_H FROM TABLE_A WHERE COL_A in (?, ?, ?, ... ?, ?, ?) AND (DATE_FROM &lt;= ? AND DATE_TILL &gt;= ?)  Again JDBC deals well with it. Why internally Hibernate is taking a huge amount of time when pure jdbc takes 8seconds :("},{"owner":{"account_id":3675005,"reputation":941,"user_id":3061292,"accept_rate":57,"display_name":"mpssantos"},"score":0,"creation_date":1587726509,"post_id":61327563,"comment_id":108629084,"body_markdown":"Is Hibernate a proper tool to be used when processing dozen or even hundred of thounsands of records?","body":"Is Hibernate a proper tool to be used when processing dozen or even hundred of thounsands of records?"},{"owner":{"account_id":6169361,"reputation":20329,"user_id":4808122,"accept_rate":89,"display_name":"Marmite Bomber"},"score":0,"creation_date":1587810808,"post_id":61327563,"comment_id":108658816,"body_markdown":"Please post your *Hibernate version*, *Oracle Version*, the definition of the *view* along with underlining *tables and idices* and the *code snippets* that are you are comparing.  Hibernate is *ORM tool for OLTP*; on-line transactions are typically small...","body":"Please post your <i>Hibernate version</i>, <i>Oracle Version</i>, the definition of the <i>view</i> along with underlining <i>tables and idices</i> and the <i>code snippets</i> that are you are comparing.  Hibernate is <i>ORM tool for OLTP</i>; on-line transactions are typically small..."},{"owner":{"account_id":3675005,"reputation":941,"user_id":3061292,"accept_rate":57,"display_name":"mpssantos"},"score":0,"creation_date":1587825216,"post_id":61327563,"comment_id":108663844,"body_markdown":"We are using spring-boo version 2.1.1.RELEASE and the respective &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt; dependency. Oracle driver: &lt;dependency&gt;\n            &lt;groupId&gt;com.oracle.jdbc&lt;/groupId&gt;\n            &lt;artifactId&gt;ojdbc8&lt;/artifactId&gt;\n            &lt;version&gt;19.3.0.0.0&lt;/version&gt;\n        &lt;/dependency&gt;","body":"We are using spring-boo version 2.1.1.RELEASE and the respective &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt; dependency. Oracle driver: &lt;dependency&gt;             &lt;groupId&gt;com.oracle.jdbc&lt;/groupId&gt;             &lt;artifactId&gt;ojdbc8&lt;/artifactId&gt;             &lt;version&gt;19.3.0.0.0&lt;/version&gt;         &lt;/dependency&gt;"},{"owner":{"account_id":3675005,"reputation":941,"user_id":3061292,"accept_rate":57,"display_name":"mpssantos"},"score":0,"creation_date":1587825318,"post_id":61327563,"comment_id":108663885,"body_markdown":"Regarding views, i cannot share, but i can guarantee that are very simple, and there is an index with all the columns that are being used to filter results on the where clause.","body":"Regarding views, i cannot share, but i can guarantee that are very simple, and there is an index with all the columns that are being used to filter results on the where clause."},{"owner":{"account_id":3675005,"reputation":941,"user_id":3061292,"accept_rate":57,"display_name":"mpssantos"},"score":0,"creation_date":1587825452,"post_id":61327563,"comment_id":108663945,"body_markdown":"The oracle driver is the same used on the JDBC connection or even on the SpringJDBCTemplate. And both of them have um very quick responses. My impression is that Hibernate is fetching one by one result, even having FETCH_SIZE = 2000. But i cannot confirm that","body":"The oracle driver is the same used on the JDBC connection or even on the SpringJDBCTemplate. And both of them have um very quick responses. My impression is that Hibernate is fetching one by one result, even having FETCH_SIZE = 2000. But i cannot confirm that"},{"owner":{"account_id":3675005,"reputation":941,"user_id":3061292,"accept_rate":57,"display_name":"mpssantos"},"score":0,"creation_date":1587825673,"post_id":61327563,"comment_id":108664034,"body_markdown":"What do you mean by &quot;Hibernate is ORM tool for OLTP; on-line transactions are typically small&quot;? What should it be taken in consideration with that?","body":"What do you mean by &quot;Hibernate is ORM tool for OLTP; on-line transactions are typically small&quot;? What should it be taken in consideration with that?"},{"owner":{"account_id":6169361,"reputation":20329,"user_id":4808122,"accept_rate":89,"display_name":"Marmite Bomber"},"score":0,"creation_date":1588243053,"post_id":61327563,"comment_id":108826555,"body_markdown":"Formulated my thoughts in an answer","body":"Formulated my thoughts in an answer"}],"answers":[{"tags":[],"owner":{"account_id":8318014,"reputation":2224,"user_id":6250649,"display_name":"JohannesB"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1587844708,"creation_date":1587844708,"answer_id":61431797,"question_id":61327563,"body_markdown":"You seem to compare two different queries, quite possibly resulting in the database coming up with different query plans.\r\n\r\nThere are lots of ways to investigate the problem but none of those are available to us because you don&#39;t provide a minimal reproducible example. I&#39;ll therefore suggest some options for you to investigate this yourself:\r\n\r\n - Enable debug logging for your Java application including Hibernate and Oracle JDBC driver as explained in their documentation\r\n - Watch where the delay is coming from, is it the database, the network, or your Java application? If in doubt check the network traffic with Wireshark on both sides of the connection or check Oracles database statistics on slow/heavy queries before and after the problematic queries \r\n - If the problem is a slow database make sure your query parameters have matching types with your database index\r\n - If you are sure the network and database are not causing the issue and debug logging doesn&#39;t help you further try using advanced tools like a cpu profiler with e.g. JVisualVM\r\n - If you&#39;re still having problems maybe you have some extreme memory problem like to little system memory causing swapping or very frequent Full Garbage Collection which you can see from Garbage Collection logging","title":"JDBC Query vs JPA Query Performance","body":"<p>You seem to compare two different queries, quite possibly resulting in the database coming up with different query plans.</p>\n\n<p>There are lots of ways to investigate the problem but none of those are available to us because you don't provide a minimal reproducible example. I'll therefore suggest some options for you to investigate this yourself:</p>\n\n<ul>\n<li>Enable debug logging for your Java application including Hibernate and Oracle JDBC driver as explained in their documentation</li>\n<li>Watch where the delay is coming from, is it the database, the network, or your Java application? If in doubt check the network traffic with Wireshark on both sides of the connection or check Oracles database statistics on slow/heavy queries before and after the problematic queries </li>\n<li>If the problem is a slow database make sure your query parameters have matching types with your database index</li>\n<li>If you are sure the network and database are not causing the issue and debug logging doesn't help you further try using advanced tools like a cpu profiler with e.g. JVisualVM</li>\n<li>If you're still having problems maybe you have some extreme memory problem like to little system memory causing swapping or very frequent Full Garbage Collection which you can see from Garbage Collection logging</li>\n</ul>\n"},{"comments":[{"owner":{"account_id":6169361,"reputation":20329,"user_id":4808122,"accept_rate":89,"display_name":"Marmite Bomber"},"score":2,"creation_date":1588399484,"post_id":61498346,"comment_id":108884800,"body_markdown":"The argument of *caching* is not much valid in this compare, as usualy if you program with JDBC and you have a full controll of the queries you *do not ask repeatedly for the same data from the database*  - a use case where the *caching shine*.","body":"The argument of <i>caching</i> is not much valid in this compare, as usualy if you program with JDBC and you have a full controll of the queries you <i>do not ask repeatedly for the same data from the database</i>  - a use case where the <i>caching shine</i>."}],"tags":[],"owner":{"account_id":18427777,"reputation":84,"user_id":13423645,"display_name":"Adata"},"comment_count":1,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1588152022,"creation_date":1588152022,"answer_id":61498346,"question_id":61327563,"body_markdown":"JDBC is generally faster then JPA, but in JPA you can benefit from caching and this way get better performance.\r\n\r\nI dont know the purpose of this query and how is used (reporting?), but you should consider to use different criteria then just list of so many ids. I doubt some user have chosen 1000+ ids manually, so i guess they are chosen batch by some other criteria. Try to use this creatia instead.","title":"JDBC Query vs JPA Query Performance","body":"<p>JDBC is generally faster then JPA, but in JPA you can benefit from caching and this way get better performance.</p>\n\n<p>I dont know the purpose of this query and how is used (reporting?), but you should consider to use different criteria then just list of so many ids. I doubt some user have chosen 1000+ ids manually, so i guess they are chosen batch by some other criteria. Try to use this creatia instead.</p>\n"},{"tags":[],"owner":{"account_id":6169361,"reputation":20329,"user_id":4808122,"accept_rate":89,"display_name":"Marmite Bomber"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1691785039,"creation_date":1588242968,"answer_id":61521443,"question_id":61327563,"body_markdown":"Please note, that if you want to compare two concepts you must try to isolate the main feature and get rid of other factors, that may disturb the result.\r\n\r\nSo to see if the JDBC query and JPA native query difference in behaviour I&#39;d propose following scenario:\r\n\r\n* use only *one* query with the 1000 element list\r\n\r\n* use a *plain table* instead of a view\r\n\r\nHere a simple setup to validate a performance. The table has 50 rows for each `GRP_ID` resulting in getting 50K rows for 1000 keys (see below the script to setup the table)\r\n\r\n    List params = (13001L..14000L)\r\n    def query = session.createNativeQuery(&quot;select * from tab where grp_id in (:paramsList) &quot;)\r\n    query.setFetchSize(2000)\r\n    query.setParameterList(&quot;paramsList&quot;, params);\r\n    result = query.getResultList();\r\n\r\nSample run shows this result\r\n\r\n     got 50000 rows in 1.388 seconds\r\n\r\nSo I thing there is no need to repeat the test with plain JDBC you will see a comparable result.\r\n\r\nWhat is more interesting is to repeat the run and *remove* the line\r\n\r\n    query.setFetchSize(2000)\r\n\r\nwhich will effectively reset the fetch size to the default (was 20 in my case), the result for the same data is\r\n\r\n     got 50000 rows in 1 minutes, 0.903 seconds\r\n\r\n**1)** So the fetch size is the most probable explanation of the observed behaviour. The important thing is to check, if the JDBC drive got the right value and uses it - in doubt you must use the 10046 trace to see what fetch size uses the database. But for me the above statement worked perfectly.\r\n\r\n**2)** There is no substantial difference between a native JPA query and a manually written JDBC execute + fetch of a prepared statement that would explain your observation. Both perform *execute of the statement in the database* followed by a number of *fetches* - the count depend on the used *fetch size*\r\n\r\n**3)** Of course the *view* can also have influence, but it will be a difference in the *query* - not betwen the *JDBC v. JPA*.\r\n\r\n**4)** You didn&#39;t mention it, so I&#39;m not going in details here and assume your view doesn&#39;t contain any `CLOB` columns. This could of course play a role.\r\n\r\n**5)** The last point is in your mention of *two queries* - do you use two independent queries or one query whith `OR` concatenated IN list? You din not provide details so it&#39;s hard to comment. Anyway two independent queries should have no influence.\r\n\r\nHaving said that one word of warning.\r\n\r\nThe limitation of the IN list count has its purpose. It is acceptable for *an ad Hoc script* to use a large IN list selection, but for a regular running query this could be a \r\n*parsing problem*. Why?\r\n\r\nYou use a bind variables to be able to consider the following queries as a single statement (that is parsed only once)\r\n\r\n    select * from tab where ID = 1\r\n    select * from tab where ID = 2\r\n\r\nwhich leads to     \r\n\r\n\r\n    select * from tab where ID = ?\r\n\r\nBut following two queries (with different length of the IN list) *remains different and must be each extra parsed*\r\n\r\n    select * from tab where ID in ( ? )\r\n    select * from tab where ID in ( ?, ? )\r\n\r\nSo re-think if for your purpose with 30K rows+ the Hibernate is the best option.\r\n\r\nHibernate was designed to elegantly get gid of the need of *using SQL* which is by majority of developers considered a *cool think* (contrary to the majority of the DB people that have an opposite meaning;).\r\n\r\nThis concept works fine, the simple the use case is the better. On the other side for *batch processing* it is sometimes better to approach it directly with SQL.\r\n\r\nTest data:\r\n\r\n    create table tab as \r\n    select \r\n    rownum id,\r\n    trunc(rownum /  50) +1 grp_id,\r\n    rpad(&#39;x&#39;,100,&#39;y&#39;) pad\r\n    from dual connect by level &lt;= 1000000;\r\n    create index idx on tab(grp_id);","title":"JDBC Query vs JPA Query Performance","body":"<p>Please note, that if you want to compare two concepts you must try to isolate the main feature and get rid of other factors, that may disturb the result.</p>\n<p>So to see if the JDBC query and JPA native query difference in behaviour I'd propose following scenario:</p>\n<ul>\n<li><p>use only <em>one</em> query with the 1000 element list</p>\n</li>\n<li><p>use a <em>plain table</em> instead of a view</p>\n</li>\n</ul>\n<p>Here a simple setup to validate a performance. The table has 50 rows for each <code>GRP_ID</code> resulting in getting 50K rows for 1000 keys (see below the script to setup the table)</p>\n<pre><code>List params = (13001L..14000L)\ndef query = session.createNativeQuery(&quot;select * from tab where grp_id in (:paramsList) &quot;)\nquery.setFetchSize(2000)\nquery.setParameterList(&quot;paramsList&quot;, params);\nresult = query.getResultList();\n</code></pre>\n<p>Sample run shows this result</p>\n<pre><code> got 50000 rows in 1.388 seconds\n</code></pre>\n<p>So I thing there is no need to repeat the test with plain JDBC you will see a comparable result.</p>\n<p>What is more interesting is to repeat the run and <em>remove</em> the line</p>\n<pre><code>query.setFetchSize(2000)\n</code></pre>\n<p>which will effectively reset the fetch size to the default (was 20 in my case), the result for the same data is</p>\n<pre><code> got 50000 rows in 1 minutes, 0.903 seconds\n</code></pre>\n<p><strong>1)</strong> So the fetch size is the most probable explanation of the observed behaviour. The important thing is to check, if the JDBC drive got the right value and uses it - in doubt you must use the 10046 trace to see what fetch size uses the database. But for me the above statement worked perfectly.</p>\n<p><strong>2)</strong> There is no substantial difference between a native JPA query and a manually written JDBC execute + fetch of a prepared statement that would explain your observation. Both perform <em>execute of the statement in the database</em> followed by a number of <em>fetches</em> - the count depend on the used <em>fetch size</em></p>\n<p><strong>3)</strong> Of course the <em>view</em> can also have influence, but it will be a difference in the <em>query</em> - not betwen the <em>JDBC v. JPA</em>.</p>\n<p><strong>4)</strong> You didn't mention it, so I'm not going in details here and assume your view doesn't contain any <code>CLOB</code> columns. This could of course play a role.</p>\n<p><strong>5)</strong> The last point is in your mention of <em>two queries</em> - do you use two independent queries or one query whith <code>OR</code> concatenated IN list? You din not provide details so it's hard to comment. Anyway two independent queries should have no influence.</p>\n<p>Having said that one word of warning.</p>\n<p>The limitation of the IN list count has its purpose. It is acceptable for <em>an ad Hoc script</em> to use a large IN list selection, but for a regular running query this could be a\n<em>parsing problem</em>. Why?</p>\n<p>You use a bind variables to be able to consider the following queries as a single statement (that is parsed only once)</p>\n<pre><code>select * from tab where ID = 1\nselect * from tab where ID = 2\n</code></pre>\n<p>which leads to</p>\n<pre><code>select * from tab where ID = ?\n</code></pre>\n<p>But following two queries (with different length of the IN list) <em>remains different and must be each extra parsed</em></p>\n<pre><code>select * from tab where ID in ( ? )\nselect * from tab where ID in ( ?, ? )\n</code></pre>\n<p>So re-think if for your purpose with 30K rows+ the Hibernate is the best option.</p>\n<p>Hibernate was designed to elegantly get gid of the need of <em>using SQL</em> which is by majority of developers considered a <em>cool think</em> (contrary to the majority of the DB people that have an opposite meaning;).</p>\n<p>This concept works fine, the simple the use case is the better. On the other side for <em>batch processing</em> it is sometimes better to approach it directly with SQL.</p>\n<p>Test data:</p>\n<pre><code>create table tab as \nselect \nrownum id,\ntrunc(rownum /  50) +1 grp_id,\nrpad('x',100,'y') pad\nfrom dual connect by level &lt;= 1000000;\ncreate index idx on tab(grp_id);\n</code></pre>\n"}],"owner":{"account_id":3675005,"reputation":941,"user_id":3061292,"accept_rate":57,"display_name":"mpssantos"},"comment_count":19,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7271,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":3,"score":6,"last_activity_date":1691785039,"creation_date":1587400783,"question_id":61327563,"body_markdown":"I am having some issues related with performance while reading thousands of records from the database. I noticed that a pure JDBC query is much more faster that a JPA Native query.\r\n\r\nHere is the query\r\n\r\n    select ID, COL_A, COL_B, COL_C, COL_D, COL_E, COL_F from MY_SUPER_VIEW_V v \r\n    where 1=1 \r\n    and v.ID in (:idList)\r\n    and v.DATE_FROM &lt;= :date\r\n    and v.DATE_TILL &gt;= :date;\r\n\r\nThis query returns around 38.000 records.\r\n\r\nThe in idList has more than 1000 records and because I am using an Oracle DB it needs to be split in n queries.\r\n\r\nFurther i have a method that converts the Object[] result to my `List&lt;Entity&gt;`.\r\n\r\nIn order to understand the performance issue i created a pure JDBC query and a JPA Native query respectively to compare the results.\r\n\r\nHere are the timings.\r\n\r\n    ################ getScoresPureJDBCWithListIds ################\r\n    List of Ids retrieved. It took: 00:00:00.096 to execute query on DB using JDBC\r\n    It took: 00:00:01.180 to execute query on DB using JDBC query\r\n    Creating 24206 Scores records from DB result It took: 00:00:04.440\r\n    It took: 00:00:01.038 to execute query on DB using JDBC query\r\n    Creating 14445 Scores records from DB result It took: 00:00:04.307\r\n    ################ getScoresJPANativeQueryWithListIds ################\r\n    It took: 00:06:09.450 to execute query on DB using JPA Native query\r\n    Creating 24206 Scores records from DB result It took: 00:00:00.009\r\n    It took: 00:04:04.879 to execute query on DB using JPA Native query\r\n    Creating 14445 Scores records from DB result It took: 00:00:00.007\r\n\r\n**With Hibernate analytics**\r\n\r\n    ################ USING FETCH_SIZE: 2000 ################\r\n    ################ getScoresPureJDBCWithListIds ################\r\n    List of &lt;elements&gt; retrieved. It took: 00:00:00.296 to execute query on DB using JDBC\r\n    It took: 00:00:11.940 to execute query on DB using JDBC query\r\n    Creating 24206 records from DB result It took: 00:00:02.670\r\n    It took: 00:00:13.570 to execute query on DB using JDBC query\r\n    Creating 14445 records from DB result It took: 00:00:02.553\r\n    \r\n    ################ getScoresJDBCTemplateWithListIds ################\r\n        List of &lt;elements&gt; retrieved. It took: 00:00:00.087 to execute query on DB using JDBC\r\n        Creating 24206 records from DB result It took: 00:00:04.063\r\n        Creating 14445 records from DB result It took: 00:00:04.064\r\n        ################ getScoresJPANativeQueryAsApplication with hint fetch size 2000 ################\r\n        2020-04-22 09:36:30.830  INFO 13262 --- [           main] i.StatisticalLoggingSessionEventListener : Session Metrics {\r\n            1232369 nanoseconds spent acquiring 1 JDBC connections;\r\n            0 nanoseconds spent releasing 0 JDBC connections;\r\n            1448702 nanoseconds spent preparing 1 JDBC statements;\r\n            3992364 nanoseconds spent executing 1 JDBC statements;\r\n            0 nanoseconds spent executing 0 JDBC batches;\r\n            0 nanoseconds spent performing 0 L2C puts;\r\n            0 nanoseconds spent performing 0 L2C hits;\r\n            0 nanoseconds spent performing 0 L2C misses;\r\n            0 nanoseconds spent executing 0 flushes (flushing a total of 0 entities and 0 collections);\r\n            0 nanoseconds spent executing 0 partial-flushes (flushing a total of 0 entities and 0 collections)\r\n        }\r\n        List of &lt;ids&gt; retrieved. It took: 00:00:00.261 to execute query on DB using JDBC\r\n        2020-04-22 09:47:23.739  INFO 13262 --- [           main] i.StatisticalLoggingSessionEventListener : Session Metrics {\r\n            73670 nanoseconds spent acquiring 1 JDBC connections;\r\n            0 nanoseconds spent releasing 0 JDBC connections;\r\n            805772 nanoseconds spent preparing 1 JDBC statements;\r\n            651947762290 nanoseconds spent executing 1 JDBC statements; ==&gt; 10 minutes\r\n            0 nanoseconds spent executing 0 JDBC batches;\r\n            0 nanoseconds spent performing 0 L2C puts;\r\n            0 nanoseconds spent performing 0 L2C hits;\r\n            0 nanoseconds spent performing 0 L2C misses;\r\n            0 nanoseconds spent executing 0 flushes (flushing a total of 0 entities and 0 collections);\r\n            0 nanoseconds spent executing 0 partial-flushes (flushing a total of 0 entities and 0 collections)\r\n        }\r\n        It took: 00:10:52.898 to execute query on DB using JPA Native query\r\n        Creating 24206 records from DB result It took: 00:00:00.018\r\n        2020-04-22 09:56:00.792  INFO 13262 --- [           main] i.StatisticalLoggingSessionEventListener : Session Metrics {\r\n            2758010 nanoseconds spent acquiring 1 JDBC connections;\r\n            0 nanoseconds spent releasing 0 JDBC connections;\r\n            3096653 nanoseconds spent preparing 1 JDBC statements;\r\n            516148003151 nanoseconds spent executing 1 JDBC statements;\r\n            0 nanoseconds spent executing 0 JDBC batches;\r\n            0 nanoseconds spent performing 0 L2C puts;\r\n            0 nanoseconds spent performing 0 L2C hits;\r\n            0 nanoseconds spent performing 0 L2C misses;\r\n            0 nanoseconds spent executing 0 flushes (flushing a total of 0 entities and 0 collections);\r\n            0 nanoseconds spent executing 0 partial-flushes (flushing a total of 0 entities and 0 collections)\r\n        }\r\n        It took: 00:08:37.032 to execute query on DB using JPA Native query\r\n        Creating 14445 records from DB result It took: 00:00:00.006\r\n\r\nFor the JDBC query I can see 1) that executing the query is quite fast, but 2) processing each ResultSet element in a loop takes the most of the time 00:09 seconds int total\r\n\r\nOn the other for the JPA Native query 1) executing the query by calling the query.getResultList() method takes a lot of time 10:14 seconds on the other hand 2) processing each result is quite fast here. Analytics shows that a huge amount of time is spent on executing 1 JDBC statement. Even with FETCH_SIZE = 2000 nothing changed significantly.\r\n\r\n**Why JPA Native is quite slow when compare with pure JDBC?** Would it be the type conversions? In my case I am talking about varchar2 and numbers. I was expecting identical results to JDBC. but from 8 seconds to 10mins its a lot.\r\n\r\n**What can I do to improve the JPA Native query?**\r\n","title":"JDBC Query vs JPA Query Performance","body":"<p>I am having some issues related with performance while reading thousands of records from the database. I noticed that a pure JDBC query is much more faster that a JPA Native query.</p>\n<p>Here is the query</p>\n<pre><code>select ID, COL_A, COL_B, COL_C, COL_D, COL_E, COL_F from MY_SUPER_VIEW_V v \nwhere 1=1 \nand v.ID in (:idList)\nand v.DATE_FROM &lt;= :date\nand v.DATE_TILL &gt;= :date;\n</code></pre>\n<p>This query returns around 38.000 records.</p>\n<p>The in idList has more than 1000 records and because I am using an Oracle DB it needs to be split in n queries.</p>\n<p>Further i have a method that converts the Object[] result to my <code>List&lt;Entity&gt;</code>.</p>\n<p>In order to understand the performance issue i created a pure JDBC query and a JPA Native query respectively to compare the results.</p>\n<p>Here are the timings.</p>\n<pre><code>################ getScoresPureJDBCWithListIds ################\nList of Ids retrieved. It took: 00:00:00.096 to execute query on DB using JDBC\nIt took: 00:00:01.180 to execute query on DB using JDBC query\nCreating 24206 Scores records from DB result It took: 00:00:04.440\nIt took: 00:00:01.038 to execute query on DB using JDBC query\nCreating 14445 Scores records from DB result It took: 00:00:04.307\n################ getScoresJPANativeQueryWithListIds ################\nIt took: 00:06:09.450 to execute query on DB using JPA Native query\nCreating 24206 Scores records from DB result It took: 00:00:00.009\nIt took: 00:04:04.879 to execute query on DB using JPA Native query\nCreating 14445 Scores records from DB result It took: 00:00:00.007\n</code></pre>\n<p><strong>With Hibernate analytics</strong></p>\n<pre><code>################ USING FETCH_SIZE: 2000 ################\n################ getScoresPureJDBCWithListIds ################\nList of &lt;elements&gt; retrieved. It took: 00:00:00.296 to execute query on DB using JDBC\nIt took: 00:00:11.940 to execute query on DB using JDBC query\nCreating 24206 records from DB result It took: 00:00:02.670\nIt took: 00:00:13.570 to execute query on DB using JDBC query\nCreating 14445 records from DB result It took: 00:00:02.553\n\n################ getScoresJDBCTemplateWithListIds ################\n    List of &lt;elements&gt; retrieved. It took: 00:00:00.087 to execute query on DB using JDBC\n    Creating 24206 records from DB result It took: 00:00:04.063\n    Creating 14445 records from DB result It took: 00:00:04.064\n    ################ getScoresJPANativeQueryAsApplication with hint fetch size 2000 ################\n    2020-04-22 09:36:30.830  INFO 13262 --- [           main] i.StatisticalLoggingSessionEventListener : Session Metrics {\n        1232369 nanoseconds spent acquiring 1 JDBC connections;\n        0 nanoseconds spent releasing 0 JDBC connections;\n        1448702 nanoseconds spent preparing 1 JDBC statements;\n        3992364 nanoseconds spent executing 1 JDBC statements;\n        0 nanoseconds spent executing 0 JDBC batches;\n        0 nanoseconds spent performing 0 L2C puts;\n        0 nanoseconds spent performing 0 L2C hits;\n        0 nanoseconds spent performing 0 L2C misses;\n        0 nanoseconds spent executing 0 flushes (flushing a total of 0 entities and 0 collections);\n        0 nanoseconds spent executing 0 partial-flushes (flushing a total of 0 entities and 0 collections)\n    }\n    List of &lt;ids&gt; retrieved. It took: 00:00:00.261 to execute query on DB using JDBC\n    2020-04-22 09:47:23.739  INFO 13262 --- [           main] i.StatisticalLoggingSessionEventListener : Session Metrics {\n        73670 nanoseconds spent acquiring 1 JDBC connections;\n        0 nanoseconds spent releasing 0 JDBC connections;\n        805772 nanoseconds spent preparing 1 JDBC statements;\n        651947762290 nanoseconds spent executing 1 JDBC statements; ==&gt; 10 minutes\n        0 nanoseconds spent executing 0 JDBC batches;\n        0 nanoseconds spent performing 0 L2C puts;\n        0 nanoseconds spent performing 0 L2C hits;\n        0 nanoseconds spent performing 0 L2C misses;\n        0 nanoseconds spent executing 0 flushes (flushing a total of 0 entities and 0 collections);\n        0 nanoseconds spent executing 0 partial-flushes (flushing a total of 0 entities and 0 collections)\n    }\n    It took: 00:10:52.898 to execute query on DB using JPA Native query\n    Creating 24206 records from DB result It took: 00:00:00.018\n    2020-04-22 09:56:00.792  INFO 13262 --- [           main] i.StatisticalLoggingSessionEventListener : Session Metrics {\n        2758010 nanoseconds spent acquiring 1 JDBC connections;\n        0 nanoseconds spent releasing 0 JDBC connections;\n        3096653 nanoseconds spent preparing 1 JDBC statements;\n        516148003151 nanoseconds spent executing 1 JDBC statements;\n        0 nanoseconds spent executing 0 JDBC batches;\n        0 nanoseconds spent performing 0 L2C puts;\n        0 nanoseconds spent performing 0 L2C hits;\n        0 nanoseconds spent performing 0 L2C misses;\n        0 nanoseconds spent executing 0 flushes (flushing a total of 0 entities and 0 collections);\n        0 nanoseconds spent executing 0 partial-flushes (flushing a total of 0 entities and 0 collections)\n    }\n    It took: 00:08:37.032 to execute query on DB using JPA Native query\n    Creating 14445 records from DB result It took: 00:00:00.006\n</code></pre>\n<p>For the JDBC query I can see 1) that executing the query is quite fast, but 2) processing each ResultSet element in a loop takes the most of the time 00:09 seconds int total</p>\n<p>On the other for the JPA Native query 1) executing the query by calling the query.getResultList() method takes a lot of time 10:14 seconds on the other hand 2) processing each result is quite fast here. Analytics shows that a huge amount of time is spent on executing 1 JDBC statement. Even with FETCH_SIZE = 2000 nothing changed significantly.</p>\n<p><strong>Why JPA Native is quite slow when compare with pure JDBC?</strong> Would it be the type conversions? In my case I am talking about varchar2 and numbers. I was expecting identical results to JDBC. but from 8 seconds to 10mins its a lot.</p>\n<p><strong>What can I do to improve the JPA Native query?</strong></p>\n"},{"tags":["java","spring","maven"],"comments":[{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1691780785,"post_id":76886100,"comment_id":135543093,"body_markdown":"If you need to active a profile you should use `@ActiveProfiles(..)` for a particular test... instead of giving that via command line apart from that it does not work, because the `spring.profiles.active` is for the spring boot application itself...btw. why not adding the a particular `application.yaml` in`src/test/resources` which can active a profile as well ...","body":"If you need to active a profile you should use <code>@ActiveProfiles(..)</code> for a particular test... instead of giving that via command line apart from that it does not work, because the <code>spring.profiles.active</code> is for the spring boot application itself...btw. why not adding the a particular <code>application.yaml</code> in<code>src&#47;test&#47;resources</code> which can active a profile as well ..."},{"owner":{"account_id":10815338,"reputation":39157,"user_id":7954504,"accept_rate":99,"display_name":"Brad Solomon"},"score":0,"creation_date":1691781076,"post_id":76886100,"comment_id":135543146,"body_markdown":"@khmarbaise I have multiple test classes. It seems pretty sub-optimal to have to decorate all of them with that annotation - can&#39;t it be configured from one place? Secondly: I already have multiple profiles in resources/application.yml, one of them being `test`.  Lastly, `mvn test -Dspring.profiles.active=test` does in fact do exactly what I want, which is to activate the `test` profile for the Spring app.","body":"@khmarbaise I have multiple test classes. It seems pretty sub-optimal to have to decorate all of them with that annotation - can&#39;t it be configured from one place? Secondly: I already have multiple profiles in resources/application.yml, one of them being <code>test</code>.  Lastly, <code>mvn test -Dspring.profiles.active=test</code> does in fact do exactly what I want, which is to activate the <code>test</code> profile for the Spring app."},{"owner":{"account_id":10815338,"reputation":39157,"user_id":7954504,"accept_rate":99,"display_name":"Brad Solomon"},"score":0,"creation_date":1691781449,"post_id":76886100,"comment_id":135543194,"body_markdown":"Also: Using `@ActiveProfiles` does not allow me to override from the command line as I have specified. The annotation takes precedence.","body":"Also: Using <code>@ActiveProfiles</code> does not allow me to override from the command line as I have specified. The annotation takes precedence."},{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1691781511,"post_id":76886100,"comment_id":135543209,"body_markdown":"Where have you located the `application.yml`? In `src/test/resources`? Also why do you need to overwrite your test profiles via cli?","body":"Where have you located the <code>application.yml</code>? In <code>src&#47;test&#47;resources</code>? Also why do you need to overwrite your test profiles via cli?"},{"owner":{"account_id":10815338,"reputation":39157,"user_id":7954504,"accept_rate":99,"display_name":"Brad Solomon"},"score":0,"creation_date":1691781716,"post_id":76886100,"comment_id":135543245,"body_markdown":"Located at `src/main/resources/application.yml` and is being read correctly (that is not the issue here).  I need to offer the option to overwrite the profile in use with `mvn test` so that developers can choose between environments used when testing.","body":"Located at <code>src&#47;main&#47;resources&#47;application.yml</code> and is being read correctly (that is not the issue here).  I need to offer the option to overwrite the profile in use with <code>mvn test</code> so that developers can choose between environments used when testing."},{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1691783375,"post_id":76886100,"comment_id":135543481,"body_markdown":"Giving an `application.yml` (for exmaple with multi doc) or using `application-test.properites` into `src/test/resources` can be used to define profile in tests only ... either overwrite or replace them completely .. .much easier than configuration/cli arguments etc.","body":"Giving an <code>application.yml</code> (for exmaple with multi doc) or using <code>application-test.properites</code> into <code>src&#47;test&#47;resources</code> can be used to define profile in tests only ... either overwrite or replace them completely .. .much easier than configuration/cli arguments etc."},{"owner":{"account_id":10815338,"reputation":39157,"user_id":7954504,"accept_rate":99,"display_name":"Brad Solomon"},"score":0,"creation_date":1691784121,"post_id":76886100,"comment_id":135543585,"body_markdown":"I don&#39;t understand what you mean. I&#39;ve already used multi-doc YAML in `src/main/resources/application.yml` to define multiple Spring profiles. This question is about _activating_ a particular Spring profile when running a specific Maven phase.","body":"I don&#39;t understand what you mean. I&#39;ve already used multi-doc YAML in <code>src&#47;main&#47;resources&#47;application.yml</code> to define multiple Spring profiles. This question is about <i>activating</i> a particular Spring profile when running a specific Maven phase."}],"answers":[{"comments":[{"owner":{"account_id":1310169,"reputation":3813,"user_id":1258319,"accept_rate":81,"display_name":"Julian"},"score":0,"creation_date":1691786664,"post_id":76886347,"comment_id":135543906,"body_markdown":"your solution works assuming you use maven surefire plugin. The one I provided will work regardless.","body":"your solution works assuming you use maven surefire plugin. The one I provided will work regardless."}],"tags":[],"owner":{"account_id":10815338,"reputation":39157,"user_id":7954504,"accept_rate":99,"display_name":"Brad Solomon"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1691783221,"creation_date":1691783221,"answer_id":76886347,"question_id":76886100,"body_markdown":"Since the `plugin:goal` for the Maven `test` phase is `surefire:test`, we can configure the Maven Surefire plugin:\r\n\r\n```xml\r\n  &lt;build&gt;\r\n      &lt;plugin&gt;\r\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n        &lt;configuration&gt;\r\n          &lt;argLine&gt;-Dspring.profiles.active=test&lt;/argLine&gt;\r\n        &lt;/configuration&gt;\r\n      &lt;/plugin&gt;\r\n...\r\n```\r\n\r\nThen, `mvn test` will run by default with the Spring `test` profile, but can be also overriden:\r\n\r\n```bash\r\nmvn test -Dspring.profiles.active=other\r\n```","title":"Use a specific Spring profile for `mvn test` by default","body":"<p>Since the <code>plugin:goal</code> for the Maven <code>test</code> phase is <code>surefire:test</code>, we can configure the Maven Surefire plugin:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>  &lt;build&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n        &lt;configuration&gt;\n          &lt;argLine&gt;-Dspring.profiles.active=test&lt;/argLine&gt;\n        &lt;/configuration&gt;\n      &lt;/plugin&gt;\n...\n</code></pre>\n<p>Then, <code>mvn test</code> will run by default with the Spring <code>test</code> profile, but can be also overriden:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>mvn test -Dspring.profiles.active=other\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1310169,"reputation":3813,"user_id":1258319,"accept_rate":81,"display_name":"Julian"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1691784793,"creation_date":1691784793,"answer_id":76886455,"question_id":76886100,"body_markdown":"It depends on version of maven you use. But assuming you can use the latest version of maven you can add this in your ` ${maven.projectBasedir}/.mvn/jvm.config`:\r\n\r\n     -Dspring.profiles.active=test\r\n\r\nThen the command line you specified will override it.\r\n\r\nIf you haven&#39;t done it yet you can have read about [maven config][1]\r\n\r\n\r\n  [1]: https://maven.apache.org/configure.html","title":"Use a specific Spring profile for `mvn test` by default","body":"<p>It depends on version of maven you use. But assuming you can use the latest version of maven you can add this in your <code> ${maven.projectBasedir}/.mvn/jvm.config</code>:</p>\n<pre><code> -Dspring.profiles.active=test\n</code></pre>\n<p>Then the command line you specified will override it.</p>\n<p>If you haven't done it yet you can have read about <a href=\"https://maven.apache.org/configure.html\" rel=\"nofollow noreferrer\">maven config</a></p>\n"}],"owner":{"account_id":10815338,"reputation":39157,"user_id":7954504,"accept_rate":99,"display_name":"Brad Solomon"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":100,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76886347,"answer_count":2,"score":0,"last_activity_date":1691784793,"creation_date":1691779888,"question_id":76886100,"body_markdown":"**How can I configure the Maven `test` phase to use, _by default_, a Spring [profile](https://docs.spring.io/spring-boot/docs/1.2.0.M1/reference/html/boot-features-profiles.html) named `test`?**\r\n\r\nIn other words, I want a plain invocation of `mvn test` (with no other arguments) to default to using the Spring profile named `test`. Currently, `mvn test` uses the `default` profile (to no surprise).\r\n\r\nAs a second requirement, I would like for developers to be able to override this at the command line using e.g.:\r\n\r\n```bash\r\nmvn test -Dspring.profiles.active=otherprofile\r\n```\r\n\r\nand for that to take precedence over the default `test` profile.\r\n\r\nI would expect this to be configurable in `pom.xml`, but haven&#39;t been able to find what I&#39;m looking for in the Maven docs.\r\n\r\n---\r\n\r\nNote: my test framework here is JUnit 5 and test classes are annotated with `SpringBootTest`, though I don&#39;t think that should be relevant here.","title":"Use a specific Spring profile for `mvn test` by default","body":"<p><strong>How can I configure the Maven <code>test</code> phase to use, <em>by default</em>, a Spring <a href=\"https://docs.spring.io/spring-boot/docs/1.2.0.M1/reference/html/boot-features-profiles.html\" rel=\"nofollow noreferrer\">profile</a> named <code>test</code>?</strong></p>\n<p>In other words, I want a plain invocation of <code>mvn test</code> (with no other arguments) to default to using the Spring profile named <code>test</code>. Currently, <code>mvn test</code> uses the <code>default</code> profile (to no surprise).</p>\n<p>As a second requirement, I would like for developers to be able to override this at the command line using e.g.:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>mvn test -Dspring.profiles.active=otherprofile\n</code></pre>\n<p>and for that to take precedence over the default <code>test</code> profile.</p>\n<p>I would expect this to be configurable in <code>pom.xml</code>, but haven't been able to find what I'm looking for in the Maven docs.</p>\n<hr />\n<p>Note: my test framework here is JUnit 5 and test classes are annotated with <code>SpringBootTest</code>, though I don't think that should be relevant here.</p>\n"},{"tags":["java","spring-boot","spring-data-jpa","spring-data"],"comments":[{"owner":{"account_id":18670408,"reputation":143,"user_id":13609359,"display_name":"Slevin"},"score":0,"creation_date":1691783870,"post_id":76886373,"comment_id":135543554,"body_markdown":"On ManyToMany relations you should always use Set instead of List.","body":"On ManyToMany relations you should always use Set instead of List."},{"owner":{"account_id":27440898,"reputation":11,"user_id":20935863,"display_name":"Hermina Grayson"},"score":0,"creation_date":1691784353,"post_id":76886373,"comment_id":135543608,"body_markdown":"Thank you! I&#39;ll try that. I also found another part a problem, I have a users_rooms table which was not filled automatically. I filled it manually and the method worked, so may be I should try fix that issue too.","body":"Thank you! I&#39;ll try that. I also found another part a problem, I have a users_rooms table which was not filled automatically. I filled it manually and the method worked, so may be I should try fix that issue too."},{"owner":{"account_id":18670408,"reputation":143,"user_id":13609359,"display_name":"Slevin"},"score":0,"creation_date":1691784614,"post_id":76886373,"comment_id":135543656,"body_markdown":"One way would be to use `findById` or whatever your Id is named. You then get an Optional and if successfull you can retrieve the users with the getter on your entity. Depending on whether youre Lazy loading or not (you should definitefly always set onetomany and manytomany on lazy load) you may also declare to fetch the User then eagerly (you can do that with eg an EntityGraph annotation)","body":"One way would be to use <code>findById</code> or whatever your Id is named. You then get an Optional and if successfull you can retrieve the users with the getter on your entity. Depending on whether youre Lazy loading or not (you should definitefly always set onetomany and manytomany on lazy load) you may also declare to fetch the User then eagerly (you can do that with eg an EntityGraph annotation)"},{"owner":{"account_id":18670408,"reputation":143,"user_id":13609359,"display_name":"Slevin"},"score":0,"creation_date":1691784929,"post_id":76886373,"comment_id":135543688,"body_markdown":"You might also get the users when calling the getUser() getter on the Room entity as long as you&#39;re within an upright Transaction, but although the result would be what oyu want, it would cost an extra trip to the database. So better tell yout JPA provider (Hibernate?) directly within the initial statement what you want.","body":"You might also get the users when calling the getUser() getter on the Room entity as long as you&#39;re within an upright Transaction, but although the result would be what oyu want, it would cost an extra trip to the database. So better tell yout JPA provider (Hibernate?) directly within the initial statement what you want."},{"owner":{"account_id":27440898,"reputation":11,"user_id":20935863,"display_name":"Hermina Grayson"},"score":0,"creation_date":1691786208,"post_id":76886373,"comment_id":135543856,"body_markdown":"&quot;get an Optional and if successfull you can retrieve the users with the getter on your entity. &quot; this is a genius solution, I tried it and it worked! Thank you very much!","body":"&quot;get an Optional and if successfull you can retrieve the users with the getter on your entity. &quot; this is a genius solution, I tried it and it worked! Thank you very much!"}],"owner":{"account_id":27440898,"reputation":11,"user_id":20935863,"display_name":"Hermina Grayson"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1691783778,"creation_date":1691783606,"question_id":76886373,"body_markdown":"I an trying to write a correct method of a JpaRepository and I just don&#39;t get it.\r\nI have a following situation:\r\n2 Entities: User and Room\r\n\r\n```\r\npublic class User implements UserDetails {\r\n    ...\r\n    @ManyToMany\r\n    private List&lt;Room&gt; rooms;\r\n...\r\n}\r\n```\r\n\r\n\r\n\r\n```\r\npublic class Room {\r\n    ...\r\n    @ManyToMany\r\n    private List&lt;User&gt; users;\r\n...\r\n}\r\n```\r\n\r\n\r\nso, 1 user can be member of multiple rooms and 1 room includes multiple users.\r\nI have automatically generated tables - users, room and room_users.\r\nroom_users looks basically like this:\r\n\r\n| room_id | users_id |\r\n| -------- | -------- |\r\n| 1   | 2   |\r\n| 1   | 3   |\r\n\r\nI need a method to collect all users from a room by a room id. It seems simple enough but I can&#39;t wrap my head around this problem (I&#39;m a noobie).\r\n\r\nI tried this:\r\n```\r\n@Repository\r\npublic interface UserRepository extends JpaRepository&lt;User, Long&gt; {\r\n    List&lt;User&gt; findUsersByRoomsId(Long roomId);\r\n}\r\n```\r\nor just findByRoomsId (I also can&#39;t understand the difference, really), but method is returning an empty List.\r\n\r\n\r\nWould be glad to hear any thoughts on this issue.\r\n\r\n\r\n\r\n\r\nI tried to read this [documentation](https://docs.spring.io/spring-data/jpa/docs/current/reference/html/) and failed to find a working solution there.","title":"How to write a query for JpaRepository in case of ManyToMany relation in Spring Boot?","body":"<p>I an trying to write a correct method of a JpaRepository and I just don't get it.\nI have a following situation:\n2 Entities: User and Room</p>\n<pre><code>public class User implements UserDetails {\n    ...\n    @ManyToMany\n    private List&lt;Room&gt; rooms;\n...\n}\n</code></pre>\n<pre><code>public class Room {\n    ...\n    @ManyToMany\n    private List&lt;User&gt; users;\n...\n}\n</code></pre>\n<p>so, 1 user can be member of multiple rooms and 1 room includes multiple users.\nI have automatically generated tables - users, room and room_users.\nroom_users looks basically like this:</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>room_id</th>\n<th>users_id</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>1</td>\n<td>2</td>\n</tr>\n<tr>\n<td>1</td>\n<td>3</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>I need a method to collect all users from a room by a room id. It seems simple enough but I can't wrap my head around this problem (I'm a noobie).</p>\n<p>I tried this:</p>\n<pre><code>@Repository\npublic interface UserRepository extends JpaRepository&lt;User, Long&gt; {\n    List&lt;User&gt; findUsersByRoomsId(Long roomId);\n}\n</code></pre>\n<p>or just findByRoomsId (I also can't understand the difference, really), but method is returning an empty List.</p>\n<p>Would be glad to hear any thoughts on this issue.</p>\n<p>I tried to read this <a href=\"https://docs.spring.io/spring-data/jpa/docs/current/reference/html/\" rel=\"nofollow noreferrer\">documentation</a> and failed to find a working solution there.</p>\n"},{"tags":["java","logging","log4j","log4j2","slf4j"],"comments":[{"owner":{"display_name":"user9035826"},"score":0,"creation_date":1691647075,"post_id":76872568,"comment_id":135520148,"body_markdown":"The error says no provider jars are included in your class path. Did you check the class path when you run the application?","body":"The error says no provider jars are included in your class path. Did you check the class path when you run the application?"},{"owner":{"account_id":5670512,"reputation":51,"user_id":4485273,"display_name":"James"},"score":0,"creation_date":1691654966,"post_id":76872568,"comment_id":135521556,"body_markdown":"I&#39;m not sure that I know HOW to check my classpath.  I dropped a few print statements into the code: System.out.println(System.getProperty(&quot;java.class.path&quot;));  However, depending on where I put that code, I would get different output.  In some cases, the output was simply the name of my .jar file.  In other cases, it showed the name of my .jar file along with the absolute path of the .jar file&#39;s location on my local file system.  If slf4j-api is running ... isn&#39;t it in the classpath?  If the log4j jar files are in the same location, aren&#39;t they then also in the classpath?","body":"I&#39;m not sure that I know HOW to check my classpath.  I dropped a few print statements into the code: System.out.println(System.getProperty(&quot;java.class.path&quot;));  However, depending on where I put that code, I would get different output.  In some cases, the output was simply the name of my .jar file.  In other cases, it showed the name of my .jar file along with the absolute path of the .jar file&#39;s location on my local file system.  If slf4j-api is running ... isn&#39;t it in the classpath?  If the log4j jar files are in the same location, aren&#39;t they then also in the classpath?"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1691655605,"post_id":76872568,"comment_id":135521666,"body_markdown":"You also need to ensure the logging config file is in the classpath. If you&#39;re making an &#39;uber jar&#39; that should be at the root in the jar","body":"You also need to ensure the logging config file is in the classpath. If you&#39;re making an &#39;uber jar&#39; that should be at the root in the jar"}],"answers":[{"tags":[],"owner":{"account_id":5670512,"reputation":51,"user_id":4485273,"display_name":"James"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1691705703,"creation_date":1691705703,"answer_id":76879622,"question_id":76872568,"body_markdown":"Thanks to the comment made by [@g00se][1] I was able to get everything working.  \r\n\r\n - First, I had to put my log4J properties file into my classpath, which was the root of my UberJar.  Previously, I was attempting to put my log4J properties file into my /war/WEB-INF/classes folder and that wasn&#39;t working out for me.  I edited my rootProject build.gradle file to get the properties file where it needed to go.\r\n\r\n - I also realized that my log4J properties file had the wrong name. The project previously used log4J 1.2 so it already had an existing &#39;log4j.properties&#39; file.  While reading documentation and tutorials I didn&#39;t initially notice that log4J 2.20 uses a new filename, &#39;log4j**2**.properties&#39;.\r\n\r\n - Lastly, I had some syntax issues as I hadn&#39;t properly updated the log4J 1.2 syntax for log4J2.\r\n\r\nI now have logging working using the SLF4J API with log4J2. With that said, I STILL see the &quot;No SLF4J providers were found&quot; message in my stdout.  But I&#39;m willing to ignore it since logs are being produced.  I suspect it has something to do with the existence of multiple subprojects, one of which starts the webapp (and maybe has a different classpath?).  But, that&#39;s a problem for a different day.\r\n\r\n  [1]: https://stackoverflow.com/users/16376827/g00se","title":"Why can&#39;t SLF4J find any providers in my project?","body":"<p>Thanks to the comment made by <a href=\"https://stackoverflow.com/users/16376827/g00se\">@g00se</a> I was able to get everything working.</p>\n<ul>\n<li><p>First, I had to put my log4J properties file into my classpath, which was the root of my UberJar.  Previously, I was attempting to put my log4J properties file into my /war/WEB-INF/classes folder and that wasn't working out for me.  I edited my rootProject build.gradle file to get the properties file where it needed to go.</p>\n</li>\n<li><p>I also realized that my log4J properties file had the wrong name. The project previously used log4J 1.2 so it already had an existing 'log4j.properties' file.  While reading documentation and tutorials I didn't initially notice that log4J 2.20 uses a new filename, 'log4j<strong>2</strong>.properties'.</p>\n</li>\n<li><p>Lastly, I had some syntax issues as I hadn't properly updated the log4J 1.2 syntax for log4J2.</p>\n</li>\n</ul>\n<p>I now have logging working using the SLF4J API with log4J2. With that said, I STILL see the &quot;No SLF4J providers were found&quot; message in my stdout.  But I'm willing to ignore it since logs are being produced.  I suspect it has something to do with the existence of multiple subprojects, one of which starts the webapp (and maybe has a different classpath?).  But, that's a problem for a different day.</p>\n"},{"comments":[{"owner":{"account_id":5670512,"reputation":51,"user_id":4485273,"display_name":"James"},"score":0,"creation_date":1691900369,"post_id":76886370,"comment_id":135552372,"body_markdown":"[@Piotr](https://stackoverflow.com/users/11748454/piotr-p-karwasz), this was a fantastic response.  I learned a lot reading your comments and it also helped to solve my remaining logging issues.  I did manage to get logging working when I put the log4j2.properties file at the root of my uberJar.  However, I was still seeing the &quot;No providers found&quot; message from SLF4J.  After making the few small changes that you suggested, SLF4J has stopped complaining and I&#39;m also seeing Jetty output in my log files.  Thanks for taking the time to teach/help others.","body":"<a href=\"https://stackoverflow.com/users/11748454/piotr-p-karwasz\">@Piotr</a>, this was a fantastic response.  I learned a lot reading your comments and it also helped to solve my remaining logging issues.  I did manage to get logging working when I put the log4j2.properties file at the root of my uberJar.  However, I was still seeing the &quot;No providers found&quot; message from SLF4J.  After making the few small changes that you suggested, SLF4J has stopped complaining and I&#39;m also seeing Jetty output in my log files.  Thanks for taking the time to teach/help others."},{"owner":{"account_id":16269349,"reputation":13452,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"score":0,"creation_date":1691959227,"post_id":76886370,"comment_id":135557779,"body_markdown":"@James: fat/uber JARs might seem trivial to create, but every time you have the same file in multiple JARs, it is a potential problem. For a production-ready application I would rather use [Spring Boot Gradle Plugin](https://docs.spring.io/spring-boot/docs/current/gradle-plugin/reference/htmlsingle/#packaging-executable), which does not create fat JARs, but JARs-in-a-JAR application with a ligthweight launcher to make it all work.","body":"@James: fat/uber JARs might seem trivial to create, but every time you have the same file in multiple JARs, it is a potential problem. For a production-ready application I would rather use <a href=\"https://docs.spring.io/spring-boot/docs/current/gradle-plugin/reference/htmlsingle/#packaging-executable\" rel=\"nofollow noreferrer\">Spring Boot Gradle Plugin</a>, which does not create fat JARs, but JARs-in-a-JAR application with a ligthweight launcher to make it all work."}],"tags":[],"owner":{"account_id":16269349,"reputation":13452,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1691783565,"creation_date":1691783565,"answer_id":76886370,"question_id":76872568,"body_markdown":"SLF4J 2.x and many other services rely on [`ServiceLoader`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/ServiceLoader.html) to find providers (same for Log4j API 3.x). Services are declared in `META-INF/services` files and you remove the declarations, in your [`build.gradle`](https://github.com/jmoscola/PygmyMarmoset/blob/1fa36617116ea6dc9fb4b0c581e03350f9010374/build.gradle#L133) file:\r\n\r\n```gradle\r\n// Copy all of the contents of the Jetty jarfiles into the uberjar staging area.\r\ntask copyJettyDeps(type: Copy, dependsOn: [&#39;:copyJettyLoggingProperties&#39;]) {\r\n\tduplicatesStrategy = &#39;INCLUDE&#39;\r\n\tfrom requiredJars(project(&#39;:PygmyMarmosetLauncher&#39;)).collect { zipTree(it) }\r\n\tinto &#39;build/uberJarStaging&#39;\r\n\texclude &#39;META-INF/**&#39;\r\n}\r\n```\r\n\r\nYou should refine the list of excluded resources:\r\n\r\n```gradle\r\n// Copy all of the contents of the Jetty jarfiles into the uberjar staging area.\r\ntask copyJettyDeps(type: Copy, dependsOn: [&#39;:copyJettyLoggingProperties&#39;]) {\r\n\tduplicatesStrategy = &#39;WARN&#39;\r\n\tfrom requiredJars(project(&#39;:PygmyMarmosetLauncher&#39;)).collect { zipTree(it) }\r\n\tinto &#39;build/uberJarStaging&#39;\r\n\texclude(\r\n\t\t\t&#39;module-info.class&#39;,\r\n\t\t\t&#39;about*&#39;,\r\n\t\t\t&#39;META-INF/DEPENDENCIES*&#39;,\r\n\t\t\t&#39;META-INF/MANIFEST.MF&#39;,\r\n\t\t\t&#39;META-INF/LICENSE*&#39;,\r\n\t\t\t&#39;META-INF/NOTICE*&#39;,\r\n\t\t\t&#39;META-INF/versions/9/module-info.class&#39;\r\n\t\t)\r\n}\r\n```\r\nThe `module-info.class` comes from Log4j API and exports only the packages specific to Log4j API, so it should be removed. Same goes for `MANIFEST.MF`, which is contained in all the JARs you shade. Removing licenses and notices is technically safe and removes a lot of warnings, but if you were to publish the app, you need to consult a lawyer.\r\n\r\n**Remark:** by shading `log4j-api` you also break location support in Log4j API and related features. To fix it you need to replace:\r\n```gradle\r\n\tmanifest {\r\n\t\tattributes &#39;Main-Class&#39; : &#39;edu.ycp.cs.pygmymarmoset.main.UberjarMain&#39;\r\n\t}\r\n```\r\nwith\r\n```gradle\r\n\tmanifest {\r\n\t\tattributes ([\r\n\t\t\t&#39;Main-Class&#39; : &#39;edu.ycp.cs.pygmymarmoset.main.UberjarMain&#39;,\r\n\t\t\t&#39;Multi-Release&#39; : &#39;true&#39;\r\n\t\t])\r\n\t}\r\n```","title":"Why can&#39;t SLF4J find any providers in my project?","body":"<p>SLF4J 2.x and many other services rely on <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/ServiceLoader.html\" rel=\"nofollow noreferrer\"><code>ServiceLoader</code></a> to find providers (same for Log4j API 3.x). Services are declared in <code>META-INF/services</code> files and you remove the declarations, in your <a href=\"https://github.com/jmoscola/PygmyMarmoset/blob/1fa36617116ea6dc9fb4b0c581e03350f9010374/build.gradle#L133\" rel=\"nofollow noreferrer\"><code>build.gradle</code></a> file:</p>\n<pre><code>// Copy all of the contents of the Jetty jarfiles into the uberjar staging area.\ntask copyJettyDeps(type: Copy, dependsOn: [':copyJettyLoggingProperties']) {\n    duplicatesStrategy = 'INCLUDE'\n    from requiredJars(project(':PygmyMarmosetLauncher')).collect { zipTree(it) }\n    into 'build/uberJarStaging'\n    exclude 'META-INF/**'\n}\n</code></pre>\n<p>You should refine the list of excluded resources:</p>\n<pre><code>// Copy all of the contents of the Jetty jarfiles into the uberjar staging area.\ntask copyJettyDeps(type: Copy, dependsOn: [':copyJettyLoggingProperties']) {\n    duplicatesStrategy = 'WARN'\n    from requiredJars(project(':PygmyMarmosetLauncher')).collect { zipTree(it) }\n    into 'build/uberJarStaging'\n    exclude(\n            'module-info.class',\n            'about*',\n            'META-INF/DEPENDENCIES*',\n            'META-INF/MANIFEST.MF',\n            'META-INF/LICENSE*',\n            'META-INF/NOTICE*',\n            'META-INF/versions/9/module-info.class'\n        )\n}\n</code></pre>\n<p>The <code>module-info.class</code> comes from Log4j API and exports only the packages specific to Log4j API, so it should be removed. Same goes for <code>MANIFEST.MF</code>, which is contained in all the JARs you shade. Removing licenses and notices is technically safe and removes a lot of warnings, but if you were to publish the app, you need to consult a lawyer.</p>\n<p><strong>Remark:</strong> by shading <code>log4j-api</code> you also break location support in Log4j API and related features. To fix it you need to replace:</p>\n<pre><code>    manifest {\n        attributes 'Main-Class' : 'edu.ycp.cs.pygmymarmoset.main.UberjarMain'\n    }\n</code></pre>\n<p>with</p>\n<pre><code>    manifest {\n        attributes ([\n            'Main-Class' : 'edu.ycp.cs.pygmymarmoset.main.UberjarMain',\n            'Multi-Release' : 'true'\n        ])\n    }\n</code></pre>\n"}],"owner":{"account_id":5670512,"reputation":51,"user_id":4485273,"display_name":"James"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":168,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1691783565,"creation_date":1691639814,"question_id":76872568,"body_markdown":"I recently forked a GitHub project and have been trying to bring it up to date. One of my primary goals was to remove the old (vulnerable) Log4J v1.2 and replace it with Log4J 2.2.  The original project used an old version of SFL4J with Log4J v1.2.\r\n\r\nI don&#39;t write much Java and have never used Gradle until I forked this project, so be gentle.\r\n\r\nAnyway, no matter what I do or try, SLF4J always reports the following when I run my application:\r\n\r\n    SLF4J: No SLF4J providers were found.\r\n    SLF4J: Defaulting to no-operation (NOP) logger implementation\r\n    SLF4J: See http://www.slf4j.org/codes.html#noProviders for further details.\r\n\r\nI&#39;ve read many tutorials that cover the setup, but I can&#39;t seem to get this working.\r\n\r\nI tried using setup with the following:\r\n\r\n    slf4j-api-2.0.7.jar\r\n    log4j-api-2.20.0.jar\r\n    log4j-core-2.20.0.jar\r\n    log4j-slf4j2-impl-2.20.0.jar\r\n    log4j2.properties\r\n\r\nI&#39;ve also tried ditching log4j2 and using a simpler setup with just the SimpleLogger from SLF4J:\r\n\r\n    slf4j-api-2.0.7.jar\r\n    slf4j-simple-2.0.7.jar\r\n\r\nHowever, SLF4J reports the same issue.  I&#39;m currently working out of the following public repo:\r\n[https://github.com/jmoscola/PygmyMarmoset/tree/updateLogging][1]\r\n\r\nThe file default.deps includes the current dependencies.  Log4J is currently commented out, but that would be the preferred logger as I would like to maintain a daily rollover for log files.\r\n\r\nThe file UberjarDaemon.java in subproject PygmyMarmosetLauncher shows the basic Logger/LoggerFactory setup using org.slf4j\r\n\r\nBuilding is quick and easy:\r\n\r\n 1. ./fetchdeps.pl\r\n 2. gradle uberJar\r\n\r\nI&#39;d really appreciate it if someone could give me some tips on where I&#39;ve gone wrong.\r\n\r\n  [1]: https://github.com/jmoscola/PygmyMarmoset/tree/updateLogging","title":"Why can&#39;t SLF4J find any providers in my project?","body":"<p>I recently forked a GitHub project and have been trying to bring it up to date. One of my primary goals was to remove the old (vulnerable) Log4J v1.2 and replace it with Log4J 2.2.  The original project used an old version of SFL4J with Log4J v1.2.</p>\n<p>I don't write much Java and have never used Gradle until I forked this project, so be gentle.</p>\n<p>Anyway, no matter what I do or try, SLF4J always reports the following when I run my application:</p>\n<pre><code>SLF4J: No SLF4J providers were found.\nSLF4J: Defaulting to no-operation (NOP) logger implementation\nSLF4J: See http://www.slf4j.org/codes.html#noProviders for further details.\n</code></pre>\n<p>I've read many tutorials that cover the setup, but I can't seem to get this working.</p>\n<p>I tried using setup with the following:</p>\n<pre><code>slf4j-api-2.0.7.jar\nlog4j-api-2.20.0.jar\nlog4j-core-2.20.0.jar\nlog4j-slf4j2-impl-2.20.0.jar\nlog4j2.properties\n</code></pre>\n<p>I've also tried ditching log4j2 and using a simpler setup with just the SimpleLogger from SLF4J:</p>\n<pre><code>slf4j-api-2.0.7.jar\nslf4j-simple-2.0.7.jar\n</code></pre>\n<p>However, SLF4J reports the same issue.  I'm currently working out of the following public repo:\n<a href=\"https://github.com/jmoscola/PygmyMarmoset/tree/updateLogging\" rel=\"nofollow noreferrer\">https://github.com/jmoscola/PygmyMarmoset/tree/updateLogging</a></p>\n<p>The file default.deps includes the current dependencies.  Log4J is currently commented out, but that would be the preferred logger as I would like to maintain a daily rollover for log files.</p>\n<p>The file UberjarDaemon.java in subproject PygmyMarmosetLauncher shows the basic Logger/LoggerFactory setup using org.slf4j</p>\n<p>Building is quick and easy:</p>\n<ol>\n<li>./fetchdeps.pl</li>\n<li>gradle uberJar</li>\n</ol>\n<p>I'd really appreciate it if someone could give me some tips on where I've gone wrong.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":682692,"reputation":49061,"user_id":535275,"accept_rate":91,"display_name":"Scott Hunter"},"score":0,"creation_date":1691779264,"post_id":76886012,"comment_id":135542836,"body_markdown":"What is preventing you from simplifying and/or nullable-proofing it?","body":"What is preventing you from simplifying and/or nullable-proofing it?"},{"owner":{"account_id":1278736,"reputation":7363,"user_id":1233359,"accept_rate":73,"display_name":"Dreamer"},"score":0,"creation_date":1691779435,"post_id":76886012,"comment_id":135542853,"body_markdown":"@Scott Hunter  nothing, except I am not good at Java Stream API...","body":"@Scott Hunter  nothing, except I am not good at Java Stream API..."},{"owner":{"account_id":2792262,"reputation":163877,"user_id":2402272,"accept_rate":85,"display_name":"John Bollinger"},"score":0,"creation_date":1691780190,"post_id":76886012,"comment_id":135542992,"body_markdown":"It&#39;s odd that you are streaming the keyset and then retrieving the value for each key.  You could have the key and value at the same time by streaming the entrySet instead.","body":"It&#39;s odd that you are streaming the keyset and then retrieving the value for each key.  You could have the key and value at the same time by streaming the entrySet instead."},{"owner":{"account_id":1278736,"reputation":7363,"user_id":1233359,"accept_rate":73,"display_name":"Dreamer"},"score":0,"creation_date":1691780756,"post_id":76886012,"comment_id":135543086,"body_markdown":"@John Bollinger, thank you I updated the code per your advice, it still take 4 lines, is it the correct implementation ?","body":"@John Bollinger, thank you I updated the code per your advice, it still take 4 lines, is it the correct implementation ?"},{"owner":{"account_id":2792262,"reputation":163877,"user_id":2402272,"accept_rate":85,"display_name":"John Bollinger"},"score":0,"creation_date":1691781120,"post_id":76886012,"comment_id":135543153,"body_markdown":"That&#39;s a valid way to use the entry set to the same purpose, yes.  Even though the code complexity is similar, it saves a bunch of lookups in `compareMap`.","body":"That&#39;s a valid way to use the entry set to the same purpose, yes.  Even though the code complexity is similar, it saves a bunch of lookups in <code>compareMap</code>."}],"answers":[{"comments":[{"owner":{"account_id":2792262,"reputation":163877,"user_id":2402272,"accept_rate":85,"display_name":"John Bollinger"},"score":0,"creation_date":1691781677,"post_id":76886142,"comment_id":135543234,"body_markdown":"This doesn&#39;t seem quite right.  The values of `compareMap` are lists of `String`s, and it is the elements of those lists, not the lists themselves, that are candidates for entry into the lists in the master map.","body":"This doesn&#39;t seem quite right.  The values of <code>compareMap</code> are lists of <code>String</code>s, and it is the elements of those lists, not the lists themselves, that are candidates for entry into the lists in the master map."},{"owner":{"account_id":8739741,"reputation":6543,"user_id":6537157,"accept_rate":100,"display_name":"akop"},"score":1,"creation_date":1691782627,"post_id":76886142,"comment_id":135543382,"body_markdown":"Whups, fixed. Now it has one stream and the performance can be increased.","body":"Whups, fixed. Now it has one stream and the performance can be increased."}],"tags":[],"owner":{"account_id":8739741,"reputation":6543,"user_id":6537157,"accept_rate":100,"display_name":"akop"},"comment_count":2,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1691782576,"creation_date":1691780403,"answer_id":76886142,"question_id":76886012,"body_markdown":"\r\n```java\r\ncompareMap.forEach((key, compareList) -&gt; {\r\n   var list = masterMap.putIfAbsent(key, compareList);\r\n   \r\n   compareList.stream()\r\n      .filter(element -&gt; !list.contains(element))\r\n      .forEach(list::add);\r\n});\r\n```\r\n(Written by hand, may contains syntax errors)\r\n\r\nIf this is too slow, then use a `Set&lt;&gt;` instead of `List&lt;&gt;`.","title":"Best Java stream implementation to compare 2 HashMap and add the missing value","body":"<pre class=\"lang-java prettyprint-override\"><code>compareMap.forEach((key, compareList) -&gt; {\n   var list = masterMap.putIfAbsent(key, compareList);\n   \n   compareList.stream()\n      .filter(element -&gt; !list.contains(element))\n      .forEach(list::add);\n});\n</code></pre>\n<p>(Written by hand, may contains syntax errors)</p>\n<p>If this is too slow, then use a <code>Set&lt;&gt;</code> instead of <code>List&lt;&gt;</code>.</p>\n"},{"tags":[],"owner":{"account_id":2792262,"reputation":163877,"user_id":2402272,"accept_rate":85,"display_name":"John Bollinger"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1691782523,"creation_date":1691782523,"answer_id":76886298,"question_id":76886012,"body_markdown":"As [@akop observed][1], using `Stream.forEach()` just to iterate your map doesn&#39;t do anything that couldn&#39;t be better achieved by iterating that map directly via `Map.forEach()`.  This is probably how I would do the job:\r\n```\r\ncompareMap.forEach((k, v) -&gt; {\r\n    List&lt;String&gt; masterValues = masterMap.computeIfAbsent(k, k2 -&gt; new ArrayList&lt;&gt;());\r\n\r\n    masterValues.addAll(\r\n            v.stream().filter(v2 -&gt; !masterValues.contains(v2)).toList());\r\n});\r\n```\r\n\r\n  [1]: https://stackoverflow.com/a/76886142/2402272","title":"Best Java stream implementation to compare 2 HashMap and add the missing value","body":"<p>As <a href=\"https://stackoverflow.com/a/76886142/2402272\">@akop observed</a>, using <code>Stream.forEach()</code> just to iterate your map doesn't do anything that couldn't be better achieved by iterating that map directly via <code>Map.forEach()</code>.  This is probably how I would do the job:</p>\n<pre><code>compareMap.forEach((k, v) -&gt; {\n    List&lt;String&gt; masterValues = masterMap.computeIfAbsent(k, k2 -&gt; new ArrayList&lt;&gt;());\n\n    masterValues.addAll(\n            v.stream().filter(v2 -&gt; !masterValues.contains(v2)).toList());\n});\n</code></pre>\n"}],"owner":{"account_id":1278736,"reputation":7363,"user_id":1233359,"accept_rate":73,"display_name":"Dreamer"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":57,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":76886142,"answer_count":2,"score":0,"last_activity_date":1691782576,"creation_date":1691779036,"question_id":76886012,"body_markdown":"Assume there are 2 HashMap with String key and list of Strings as value. I&#39;d like to compare the 2 with each key and add missing value from target map to master map. My questions is how to leverage Java Stream to make the implementation with minimum lines of code. Following is my implementation but I think it is not simple enough and not nullable-proof\r\n\r\n    Map&lt;String, List&lt;String&gt;&gt; masterMap = new HashMap&lt;&gt;();\r\n        Map&lt;String, List&lt;String&gt;&gt; compareMap = new HashMap&lt;&gt;();\r\n\r\n        compareMap.keySet().stream().forEach(key -&gt; {\r\n           compareMap.get(key).forEach(v -&gt; {\r\n               if(!masterMap.get(key).contains(v)){\r\n                   masterMap.get(key).add(v);\r\n               }\r\n           }); \r\n        });\r\n \r\nIs there better implementation to achieve the same logic with one line of code\r\n\r\nThanks to @John Bollinger&#39;s comment, I updated my implementation by streaming the entryset\r\n\r\n    compareMap.entrySet().stream().forEach(entry -&gt; {\r\n           entry.getValue().forEach(v -&gt; {\r\n               if(! masterMap.get(entry.getKey()).contains(v)){\r\n                   masterMap.get(entry.getKey()).add(v);\r\n               }\r\n           });\r\n        });","title":"Best Java stream implementation to compare 2 HashMap and add the missing value","body":"<p>Assume there are 2 HashMap with String key and list of Strings as value. I'd like to compare the 2 with each key and add missing value from target map to master map. My questions is how to leverage Java Stream to make the implementation with minimum lines of code. Following is my implementation but I think it is not simple enough and not nullable-proof</p>\n<pre><code>Map&lt;String, List&lt;String&gt;&gt; masterMap = new HashMap&lt;&gt;();\n    Map&lt;String, List&lt;String&gt;&gt; compareMap = new HashMap&lt;&gt;();\n\n    compareMap.keySet().stream().forEach(key -&gt; {\n       compareMap.get(key).forEach(v -&gt; {\n           if(!masterMap.get(key).contains(v)){\n               masterMap.get(key).add(v);\n           }\n       }); \n    });\n</code></pre>\n<p>Is there better implementation to achieve the same logic with one line of code</p>\n<p>Thanks to @John Bollinger's comment, I updated my implementation by streaming the entryset</p>\n<pre><code>compareMap.entrySet().stream().forEach(entry -&gt; {\n       entry.getValue().forEach(v -&gt; {\n           if(! masterMap.get(entry.getKey()).contains(v)){\n               masterMap.get(entry.getKey()).add(v);\n           }\n       });\n    });\n</code></pre>\n"},{"tags":["java","spring","spring-boot","properties-file"],"answers":[{"tags":[],"owner":{"account_id":23697573,"reputation":125,"user_id":17721106,"display_name":"Ali Mamedov"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691781775,"creation_date":1691781775,"answer_id":76886251,"question_id":76886115,"body_markdown":"Create your query.yml file in the src/main/resources directory.\r\n\r\nDefine your configuration class with the @ConfigurationProperties annotation and specify the prefix that matches the structure of your YAML properties.\r\n\r\n\r\n    @Data\r\n    @Configuration\r\n    @ConfigurationProperties(prefix = &quot;query&quot;)\r\n    public class QueryConfiguration {\r\n        private String propertyOne;\r\n        private List&lt;Integer&gt; propertyTwo;\r\n    }","title":"Specifying a new location for ConfigurationProperties (Spring 2.7.13)","body":"<p>Create your query.yml file in the src/main/resources directory.</p>\n<p>Define your configuration class with the @ConfigurationProperties annotation and specify the prefix that matches the structure of your YAML properties.</p>\n<pre><code>@Data\n@Configuration\n@ConfigurationProperties(prefix = &quot;query&quot;)\npublic class QueryConfiguration {\n    private String propertyOne;\n    private List&lt;Integer&gt; propertyTwo;\n}\n</code></pre>\n"}],"owner":{"account_id":23417359,"reputation":25,"user_id":17478118,"display_name":"JavaStudent"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1691781775,"creation_date":1691780082,"question_id":76886115,"body_markdown":"Suppose I have both an `application.yml` and `query.yml` in my resources folder. If I have a class  \r\n\r\n```\r\n@Data\r\n@ConfigurationProperties()\r\npublic class QueryConfiguration\r\n    private String propertyOne;\r\n    private List&lt;Integer&gt; propertyTwo;\r\n```\r\n\r\nHow can I specify QueryConfiguration to look in `query.yml` for these properties?","title":"Specifying a new location for ConfigurationProperties (Spring 2.7.13)","body":"<p>Suppose I have both an <code>application.yml</code> and <code>query.yml</code> in my resources folder. If I have a class</p>\n<pre><code>@Data\n@ConfigurationProperties()\npublic class QueryConfiguration\n    private String propertyOne;\n    private List&lt;Integer&gt; propertyTwo;\n</code></pre>\n<p>How can I specify QueryConfiguration to look in <code>query.yml</code> for these properties?</p>\n"},{"tags":["java","android","react-native","firebase-cloud-messaging","react-native-firebase"],"answers":[{"comments":[{"owner":{"account_id":10088140,"reputation":1079,"user_id":7455975,"display_name":"Zhengqian Kuang"},"score":0,"creation_date":1644552046,"post_id":68237809,"comment_id":125642824,"body_markdown":"I don&#39;t know who gave this a thumb down. It worked for me like a charm. I would like to give you 100 thumb-ups but unfortunately I could give only one.","body":"I don&#39;t know who gave this a thumb down. It worked for me like a charm. I would like to give you 100 thumb-ups but unfortunately I could give only one."},{"owner":{"account_id":8477195,"reputation":628,"user_id":6358068,"display_name":"bra.Scene"},"score":1,"creation_date":1660662931,"post_id":68237809,"comment_id":129582454,"body_markdown":"Cleaning the project does have nothing to do with this error.","body":"Cleaning the project does have nothing to do with this error."}],"tags":[],"owner":{"account_id":19937501,"reputation":29,"user_id":14609872,"display_name":"Việt Xu&#226;n"},"comment_count":2,"down_vote_count":2,"up_vote_count":3,"is_accepted":false,"score":1,"last_activity_date":1625327515,"creation_date":1625327515,"answer_id":68237809,"question_id":68044230,"body_markdown":"I have the same issue, you can try this solution: open the React Native project by Android Studio, look at the toolbar and select **Build -&gt; Clean Project** after that click Run app (^R or control + r on Macbook). It&#39;s working for me.","title":"React Native : Error: [messaging/unknown] java.io.IOException: java.util.concurrent.ExecutionException: java.io.IOException: FIS_AUTH_ERROR","body":"<p>I have the same issue, you can try this solution: open the React Native project by Android Studio, look at the toolbar and select <strong>Build -&gt; Clean Project</strong> after that click Run app (^R or control + r on Macbook). It's working for me.</p>\n"},{"tags":[],"owner":{"account_id":10898793,"reputation":19,"user_id":8056739,"display_name":"Leonardo Jaques"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645058466,"creation_date":1645058466,"answer_id":71151086,"question_id":68044230,"body_markdown":"If you&#39;re on react native project, goes to the folder android and there try this command on terminal **./gradlew clean**, is the same that Build -&gt; clean project in android studio.\r\n\r\nhttps://docs.gradle.org/current/userguide/command_line_interface.html","title":"React Native : Error: [messaging/unknown] java.io.IOException: java.util.concurrent.ExecutionException: java.io.IOException: FIS_AUTH_ERROR","body":"<p>If you're on react native project, goes to the folder android and there try this command on terminal <strong>./gradlew clean</strong>, is the same that Build -&gt; clean project in android studio.</p>\n<p><a href=\"https://docs.gradle.org/current/userguide/command_line_interface.html\" rel=\"nofollow noreferrer\">https://docs.gradle.org/current/userguide/command_line_interface.html</a></p>\n"},{"tags":[],"owner":{"account_id":13454565,"reputation":3196,"user_id":9708440,"display_name":"Lakpriya Senevirathna"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691781766,"creation_date":1691781766,"answer_id":76886250,"question_id":68044230,"body_markdown":"If you are using Android emulator, close and re-open it, that will fix your issue!","title":"React Native : Error: [messaging/unknown] java.io.IOException: java.util.concurrent.ExecutionException: java.io.IOException: FIS_AUTH_ERROR","body":"<p>If you are using Android emulator, close and re-open it, that will fix your issue!</p>\n"}],"owner":{"account_id":19255721,"reputation":460,"user_id":14072690,"display_name":"vjtechno"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9302,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":3,"score":3,"last_activity_date":1691781766,"creation_date":1624084314,"question_id":68044230,"body_markdown":"I am trying to implement the push notification in my app. I have used `react-native-firebase/app` and `@react-native-firebase/messaging` libraries for the push notification. i have follow the complete document and try to implement push notification. But I have showing this error **getting push token Error: [messaging/unknown] java.io.IOException: java.util.concurrent.ExecutionException: java.io.IOException: FIS_AUTH_ERROR**. \r\n\r\nCode:\r\n```\r\nimport React, {Fragment, useEffect} from &#39;react&#39;;\r\nimport {StyleSheet, View, Text, Button} from &#39;react-native&#39;;\r\nimport messaging from &#39;@react-native-firebase/messaging&#39;;\r\n\r\n//1\r\nconst checkPermission = () =&gt; {\r\n  messaging()\r\n    .hasPermission()\r\n    .then((enabled) =&gt; {\r\n      if (enabled) {\r\n        getToken();\r\n      } else {\r\n        requestPermission();\r\n      }\r\n    })\r\n    .catch((error) =&gt; {\r\n      console.log(&#39;error checking permisions &#39; + error);\r\n    });\r\n};\r\n\r\n//2\r\nconst requestPermission = () =&gt; {\r\n  messaging()\r\n    .requestPermission()\r\n    .then(() =&gt; {\r\n      getToken();\r\n    })\r\n    .catch((error) =&gt; {\r\n      console.log(&#39;permission rejected &#39; + error);\r\n    });\r\n};\r\n\r\n//3\r\nconst getToken = () =&gt; {\r\n  messaging()\r\n    .getToken()\r\n    .then((token) =&gt; {\r\n      console.log(&#39;push token &#39; + token);\r\n    })\r\n    .catch((error) =&gt; {\r\n      console.log(&#39;error getting push token &#39; + error);\r\n    });\r\n};\r\n\r\nconst Notification = () =&gt; {\r\n  useEffect(() =&gt; {\r\n    checkPermission();\r\n    messaging().setBackgroundMessageHandler(async (remoteMessage) =&gt; {\r\n      console.log(&#39;Message handled in the background!&#39;, remoteMessage);\r\n    });\r\n\r\n    \r\n  });\r\n  \r\n  return (\r\n    &lt;View style={styles.container}&gt;\r\n      &lt;Text&gt;Push Notification&lt;/Text&gt;\r\n     \r\n    &lt;/View&gt;\r\n  );\r\n};\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n    justifyContent: &#39;center&#39;,\r\n    alignItems: &#39;center&#39;,\r\n  },\r\n  button: {\r\n    margin: 10,\r\n  },\r\n});\r\n\r\nexport default Notification;\r\n","title":"React Native : Error: [messaging/unknown] java.io.IOException: java.util.concurrent.ExecutionException: java.io.IOException: FIS_AUTH_ERROR","body":"<p>I am trying to implement the push notification in my app. I have used <code>react-native-firebase/app</code> and <code>@react-native-firebase/messaging</code> libraries for the push notification. i have follow the complete document and try to implement push notification. But I have showing this error <strong>getting push token Error: [messaging/unknown] java.io.IOException: java.util.concurrent.ExecutionException: java.io.IOException: FIS_AUTH_ERROR</strong>.</p>\n<p>Code:</p>\n<pre><code>import React, {Fragment, useEffect} from 'react';\nimport {StyleSheet, View, Text, Button} from 'react-native';\nimport messaging from '@react-native-firebase/messaging';\n\n//1\nconst checkPermission = () =&gt; {\n  messaging()\n    .hasPermission()\n    .then((enabled) =&gt; {\n      if (enabled) {\n        getToken();\n      } else {\n        requestPermission();\n      }\n    })\n    .catch((error) =&gt; {\n      console.log('error checking permisions ' + error);\n    });\n};\n\n//2\nconst requestPermission = () =&gt; {\n  messaging()\n    .requestPermission()\n    .then(() =&gt; {\n      getToken();\n    })\n    .catch((error) =&gt; {\n      console.log('permission rejected ' + error);\n    });\n};\n\n//3\nconst getToken = () =&gt; {\n  messaging()\n    .getToken()\n    .then((token) =&gt; {\n      console.log('push token ' + token);\n    })\n    .catch((error) =&gt; {\n      console.log('error getting push token ' + error);\n    });\n};\n\nconst Notification = () =&gt; {\n  useEffect(() =&gt; {\n    checkPermission();\n    messaging().setBackgroundMessageHandler(async (remoteMessage) =&gt; {\n      console.log('Message handled in the background!', remoteMessage);\n    });\n\n    \n  });\n  \n  return (\n    &lt;View style={styles.container}&gt;\n      &lt;Text&gt;Push Notification&lt;/Text&gt;\n     \n    &lt;/View&gt;\n  );\n};\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  button: {\n    margin: 10,\n  },\n});\n\nexport default Notification;\n</code></pre>\n"},{"tags":["java","docker","kubernetes","spring-cloud-dataflow","spring-cloud-task"],"comments":[{"owner":{"account_id":27699053,"reputation":2348,"user_id":21144042,"display_name":"Diego Borba"},"score":0,"creation_date":1691776185,"post_id":76885599,"comment_id":135542305,"body_markdown":"Hello, welcome to Stack Overflow! Maybe you should [read this](https://meta.stackoverflow.com/questions/285551/why-should-i-not-upload-images-of-code-data-errors/285557#285557), and then edit your question.","body":"Hello, welcome to Stack Overflow! Maybe you should <a href=\"https://meta.stackoverflow.com/questions/285551/why-should-i-not-upload-images-of-code-data-errors/285557#285557\">read this</a>, and then edit your question."},{"owner":{"account_id":29207637,"reputation":1,"user_id":22376384,"display_name":"ThunderBoy"},"score":1,"creation_date":1692853396,"post_id":76885599,"comment_id":135680925,"body_markdown":"I have solved this problem by removing `VOLUME [&quot;/home&quot;]` from Dockerfile.","body":"I have solved this problem by removing <code>VOLUME [&quot;&#47;home&quot;]</code> from Dockerfile."}],"owner":{"account_id":29207637,"reputation":1,"user_id":22376384,"display_name":"ThunderBoy"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1691780764,"creation_date":1691774598,"question_id":76885599,"body_markdown":"\r\n&gt; I have created a simple spring cloud task project, which will generate a file and add to local folder. I am using SCDF(Spring cloud data flow) and kubernetes for deployment. I need to generate file to Persistent Volume. I have deployed it using SCDF to kubernetes. But it is showing error in kubernetes as **Error: Error response from daemon: invalid volume specification: &#39;/home/:/&#39;: invalid mount config for type &quot;bind&quot;: invalid specification: destination can&#39;t be &#39;/&#39;** \r\nI have tested in my local it is working fine. In local kubernetes and SCDF have this problem.\r\n\r\n\r\nThis is the java code for creating simple cloud task\r\n```\r\nimport java.io.File;\r\nimport java.nio.file.Files;\r\nimport java.nio.file.Paths;\r\nimport java.util.stream.Collectors;\r\n\r\nimport org.apache.commons.io.FileUtils;\r\nimport org.springframework.boot.SpringApplication;\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\nimport org.springframework.cloud.task.configuration.EnableTask;\r\n\r\n@SpringBootApplication\r\n@EnableTask\r\npublic class SpringCloudTaskExampleApplication {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(SpringCloudTaskExampleApplication.class, args);\r\n\t\tcopyFiles();\r\n\t}\r\n\t\r\n\tpublic static void copyFiles() {\r\n\t\tString sfilePath = &quot;/home&quot;;\r\n\t\tFile musicFile = new File(&quot;/home/music.txt&quot;); \r\n\t\ttry {\r\n\t\t\tmusicFile.createNewFile();\r\n\t\t\t//To check File is created or not.\r\n\t\t\tSystem.out.println(Files.list(Paths.get(&quot;/home/&quot;)).collect(Collectors.toList()));\r\n\t\t\t\r\n\t\t} catch (Exception e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t}\r\n\r\n}\r\n\r\n```\r\n\r\nDocker file\r\n```\r\nFROM openjdk:11\r\nEXPOSE 8092\r\nVOLUME [&quot;/home&quot;]\r\nADD target/spring-cloud-task-example-0.0.1-SNAPSHOT.jar taskexample.jar\r\nENTRYPOINT [&quot;java&quot;,&quot;-jar&quot;,&quot;taskexample.jar&quot;]\r\n```\r\n\r\nPV deployment file \r\n```\r\napiVersion: v1\r\nkind: PersistentVolume\r\nmetadata:\r\n  name: task-pv-volume\r\n  labels:\r\n    type: local\r\nspec:\r\n  storageClassName: manual\r\n  capacity:\r\n    storage: 1000M\r\n  accessModes:\r\n    - ReadWriteOnce\r\n  hostPath:\r\n    path: &quot;/home/&quot;\r\n```\r\nPVC deployment file \r\n\r\n```\r\napiVersion: v1\r\nkind: PersistentVolumeClaim\r\nmetadata:\r\n  name: task-pv-claim\r\nspec:\r\n  storageClassName: manual\r\n  accessModes:\r\n    - ReadWriteOnce\r\n  resources:\r\n    requests:\r\n      storage: 1000M\r\n```\r\nAnd I have added SCDF Deployment Platform property\r\n```\r\nvolume : [{name: testhostpath, persistentVolumeClaim: { claimName: &#39;task-pv-claim&#39;}}]\r\nvolume-mounts: [{name: &#39;testhostpath&#39;, mountPath: &#39;/&#39;}]\r\n```\r\nI need to mount the PV to task and store it. Can anyone help with this problem.\r\n","title":"SCDF Task Kubernetes Persistent Volume attachment","body":"<blockquote>\n<p>I have created a simple spring cloud task project, which will generate a file and add to local folder. I am using SCDF(Spring cloud data flow) and kubernetes for deployment. I need to generate file to Persistent Volume. I have deployed it using SCDF to kubernetes. But it is showing error in kubernetes as <strong>Error: Error response from daemon: invalid volume specification: '/home/:/': invalid mount config for type &quot;bind&quot;: invalid specification: destination can't be '/'</strong>\nI have tested in my local it is working fine. In local kubernetes and SCDF have this problem.</p>\n</blockquote>\n<p>This is the java code for creating simple cloud task</p>\n<pre><code>import java.io.File;\nimport java.nio.file.Files;\nimport java.nio.file.Paths;\nimport java.util.stream.Collectors;\n\nimport org.apache.commons.io.FileUtils;\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.cloud.task.configuration.EnableTask;\n\n@SpringBootApplication\n@EnableTask\npublic class SpringCloudTaskExampleApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(SpringCloudTaskExampleApplication.class, args);\n        copyFiles();\n    }\n    \n    public static void copyFiles() {\n        String sfilePath = &quot;/home&quot;;\n        File musicFile = new File(&quot;/home/music.txt&quot;); \n        try {\n            musicFile.createNewFile();\n            //To check File is created or not.\n            System.out.println(Files.list(Paths.get(&quot;/home/&quot;)).collect(Collectors.toList()));\n            \n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n\n}\n\n</code></pre>\n<p>Docker file</p>\n<pre><code>FROM openjdk:11\nEXPOSE 8092\nVOLUME [&quot;/home&quot;]\nADD target/spring-cloud-task-example-0.0.1-SNAPSHOT.jar taskexample.jar\nENTRYPOINT [&quot;java&quot;,&quot;-jar&quot;,&quot;taskexample.jar&quot;]\n</code></pre>\n<p>PV deployment file</p>\n<pre><code>apiVersion: v1\nkind: PersistentVolume\nmetadata:\n  name: task-pv-volume\n  labels:\n    type: local\nspec:\n  storageClassName: manual\n  capacity:\n    storage: 1000M\n  accessModes:\n    - ReadWriteOnce\n  hostPath:\n    path: &quot;/home/&quot;\n</code></pre>\n<p>PVC deployment file</p>\n<pre><code>apiVersion: v1\nkind: PersistentVolumeClaim\nmetadata:\n  name: task-pv-claim\nspec:\n  storageClassName: manual\n  accessModes:\n    - ReadWriteOnce\n  resources:\n    requests:\n      storage: 1000M\n</code></pre>\n<p>And I have added SCDF Deployment Platform property</p>\n<pre><code>volume : [{name: testhostpath, persistentVolumeClaim: { claimName: 'task-pv-claim'}}]\nvolume-mounts: [{name: 'testhostpath', mountPath: '/'}]\n</code></pre>\n<p>I need to mount the PV to task and store it. Can anyone help with this problem.</p>\n"},{"tags":["javascript","java","android"],"comments":[{"owner":{"account_id":27699053,"reputation":2348,"user_id":21144042,"display_name":"Diego Borba"},"score":0,"creation_date":1691772299,"post_id":76885328,"comment_id":135541668,"body_markdown":"Hello, welcome to Stack Overflow! Maybe you should [read this](https://stackoverflow.com/help/how-to-ask), and then edit your question.","body":"Hello, welcome to Stack Overflow! Maybe you should <a href=\"https://stackoverflow.com/help/how-to-ask\">read this</a>, and then edit your question."},{"owner":{"account_id":20373498,"reputation":11,"user_id":14945209,"display_name":"Maco"},"score":0,"creation_date":1691772559,"post_id":76885328,"comment_id":135541707,"body_markdown":"could you explain what&#39;s the problem please ? Because I have the impression that everything is okay ?","body":"could you explain what&#39;s the problem please ? Because I have the impression that everything is okay ?"},{"owner":{"account_id":27699053,"reputation":2348,"user_id":21144042,"display_name":"Diego Borba"},"score":0,"creation_date":1691772894,"post_id":76885328,"comment_id":135541757,"body_markdown":"Please provide more context in the question to make it easier to come up with a better solution.","body":"Please provide more context in the question to make it easier to come up with a better solution."},{"owner":{"account_id":20373498,"reputation":11,"user_id":14945209,"display_name":"Maco"},"score":0,"creation_date":1691774618,"post_id":76885328,"comment_id":135542034,"body_markdown":"Sorry I did modifications to have more context.","body":"Sorry I did modifications to have more context."}],"owner":{"account_id":20373498,"reputation":11,"user_id":14945209,"display_name":"Maco"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1691780560,"creation_date":1691771864,"question_id":76885328,"body_markdown":"I&#39;m working on a site where you have to install a chrome extension to be able to use it. The thing is that I&#39;m creating the android app with a WebView element and I need to take some code of the extension and inject the code in the WebView before it finished to load the page.\r\n\r\nThe JavaScript code I need to inject is a full class.\r\n\r\nWhat I have already done :\r\n\r\n```java\r\npublic class MainActivity extends AppCompatActivity {\r\n\r\n\t@Override\r\n\tprotected void onCreate(Bundle savedInstanceState) {\r\n\t\tsuper.onCreate(savedInstanceState);\r\n\t\tsetContentView(R.layout.activity_main);\r\n\t\tWebView.setWebContentsDebuggingEnabled(true);\r\n\r\n\t\tWebView myWebView = (WebView) findViewById(R.id.webview);\r\n\t\tWebSettings webSettings = myWebView.getSettings();\r\n\t\twebSettings.setJavaScriptEnabled(true);\r\n\t\twebSettings.setDomStorageEnabled(true);\r\n\t\twebSettings.setSupportMultipleWindows(true);\r\n\t\twebSettings.setJavaScriptCanOpenWindowsAutomatically(true);\r\n\r\n\t\tmyWebView.setWebViewClient(new WebViewClient() {\r\n\t\t\tpublic void onReceivedError(WebView view, int errorCode, String description, String failingUrl) {\r\n\t\t\t\t// Users will be notified in case there&#39;s an error (i.e. no internet connection)\r\n\t\t\t}\r\n\r\n\t\t\t@Override\r\n\t\t\tpublic void onPageFinished(WebView view, String url) {\r\n\t\t\t\tLog.d(&quot;WebView&quot;, &quot;your current url when webpage loading.. finish&quot; + url);\r\n\t\t\t\tsuper.onPageFinished(view, url);\r\n\t\t\t}\r\n\r\n\t\t\t@Override\r\n\t\t\tpublic void onLoadResource(WebView view, String url) {\r\n\t\t\t\tsuper.onLoadResource(view, url);\r\n\t\t\t}\r\n\r\n\t\t\t@Override\r\n\t\t\tpublic boolean shouldOverrideUrlLoading(WebView view, String url) {\r\n\t\t\t\tSystem.out.println(&quot;when you click on any interlink on webview that time you got url :-&quot; + url);\r\n\t\t\t\treturn super.shouldOverrideUrlLoading(view, url);\r\n\t\t\t}\r\n\t\t});\r\n\t\tmyWebView.loadUrl(&quot;https://mysiteurl.com/&quot;);\r\n\t}\r\n}\r\n```\r\n\r\nI need the JavaScript Class to work like this exemple if I use it in the devtools console :\r\n\r\n```js\r\nMySuperClass.updateSomething();\r\nMySuperClass.somethingElse();\r\n```\r\n\r\nIf the site doesn&#39;t have this class, it will not work...\r\n\r\nAny idea ?","title":"Inject a JavaScript class in an Android WebView","body":"<p>I'm working on a site where you have to install a chrome extension to be able to use it. The thing is that I'm creating the android app with a WebView element and I need to take some code of the extension and inject the code in the WebView before it finished to load the page.</p>\n<p>The JavaScript code I need to inject is a full class.</p>\n<p>What I have already done :</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class MainActivity extends AppCompatActivity {\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        WebView.setWebContentsDebuggingEnabled(true);\n\n        WebView myWebView = (WebView) findViewById(R.id.webview);\n        WebSettings webSettings = myWebView.getSettings();\n        webSettings.setJavaScriptEnabled(true);\n        webSettings.setDomStorageEnabled(true);\n        webSettings.setSupportMultipleWindows(true);\n        webSettings.setJavaScriptCanOpenWindowsAutomatically(true);\n\n        myWebView.setWebViewClient(new WebViewClient() {\n            public void onReceivedError(WebView view, int errorCode, String description, String failingUrl) {\n                // Users will be notified in case there's an error (i.e. no internet connection)\n            }\n\n            @Override\n            public void onPageFinished(WebView view, String url) {\n                Log.d(&quot;WebView&quot;, &quot;your current url when webpage loading.. finish&quot; + url);\n                super.onPageFinished(view, url);\n            }\n\n            @Override\n            public void onLoadResource(WebView view, String url) {\n                super.onLoadResource(view, url);\n            }\n\n            @Override\n            public boolean shouldOverrideUrlLoading(WebView view, String url) {\n                System.out.println(&quot;when you click on any interlink on webview that time you got url :-&quot; + url);\n                return super.shouldOverrideUrlLoading(view, url);\n            }\n        });\n        myWebView.loadUrl(&quot;https://mysiteurl.com/&quot;);\n    }\n}\n</code></pre>\n<p>I need the JavaScript Class to work like this exemple if I use it in the devtools console :</p>\n<pre class=\"lang-js prettyprint-override\"><code>MySuperClass.updateSomething();\nMySuperClass.somethingElse();\n</code></pre>\n<p>If the site doesn't have this class, it will not work...</p>\n<p>Any idea ?</p>\n"},{"tags":["java","android","arraylist","notifications"],"answers":[{"tags":[],"owner":{"account_id":11503634,"reputation":3724,"user_id":8430649,"display_name":"S-Sh"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1691780368,"creation_date":1691780368,"answer_id":76886138,"question_id":76885934,"body_markdown":"There are too many loops in the code, which causes invoking the `.notify` method 8 times (4 notifications with id=0 and 4 notifications for id=1).\r\n\r\nIf you want pair titles and descriptions, you should use single loop:\r\n```java\r\nint iTotalTodayTodos = 2;\r\nArrayList&lt;String&gt; strTitlesArrayList = new ArrayList&lt;&gt;();\r\nArrayList&lt;String&gt; strDescriptionArrayList = new ArrayList&lt;&gt;();\r\n\r\nstrTitlesArrayList.add(&quot;Title1&quot;);\r\nstrTitlesArrayList.add(&quot;Title2&quot;);\r\nstrDescriptionArrayList.add(&quot;Desc1&quot;);\r\nstrDescriptionArrayList.add(&quot;Desc2&quot;);\r\n\r\n\r\nNotificationManager notificationManager = (NotificationManager) context.getSystemService(Context.NOTIFICATION_SERVICE);\r\nfor (int j = 0; j &lt; iTotalTodayTodos; j++) {\r\n\tString description = strDescriptionArrayList.get(j);\r\n\tString title = strTitlesArrayList.get(j);\r\n    Intent intent1 = new Intent();\r\n    intent1.putExtra(&quot;title&quot;, title);\r\n    intent1.putExtra(&quot;description&quot;, description);\r\n    PendingIntent pendingIntent = PendingIntent.getBroadcast(context, j, intent1, PendingIntent.FLAG_ONE_SHOT);\r\n    NotificationCompat.Builder notificationBuilder = new NotificationCompat.Builder(context, &quot;ToRemember_channel&quot;);\r\n    notificationBuilder.setContentIntent(pendingIntent).setWhen(j).setSmallIcon(R.drawable.ic_baseline_calendar_month).setContentTitle(title).setContentText(description).setContentInfo(&quot;TODO&quot;);\r\n    notificationManager.notify(j, notificationBuilder.build());\r\n}\r\n```","title":"Multiple Notification.Compact Android","body":"<p>There are too many loops in the code, which causes invoking the <code>.notify</code> method 8 times (4 notifications with id=0 and 4 notifications for id=1).</p>\n<p>If you want pair titles and descriptions, you should use single loop:</p>\n<pre class=\"lang-java prettyprint-override\"><code>int iTotalTodayTodos = 2;\nArrayList&lt;String&gt; strTitlesArrayList = new ArrayList&lt;&gt;();\nArrayList&lt;String&gt; strDescriptionArrayList = new ArrayList&lt;&gt;();\n\nstrTitlesArrayList.add(&quot;Title1&quot;);\nstrTitlesArrayList.add(&quot;Title2&quot;);\nstrDescriptionArrayList.add(&quot;Desc1&quot;);\nstrDescriptionArrayList.add(&quot;Desc2&quot;);\n\n\nNotificationManager notificationManager = (NotificationManager) context.getSystemService(Context.NOTIFICATION_SERVICE);\nfor (int j = 0; j &lt; iTotalTodayTodos; j++) {\n    String description = strDescriptionArrayList.get(j);\n    String title = strTitlesArrayList.get(j);\n    Intent intent1 = new Intent();\n    intent1.putExtra(&quot;title&quot;, title);\n    intent1.putExtra(&quot;description&quot;, description);\n    PendingIntent pendingIntent = PendingIntent.getBroadcast(context, j, intent1, PendingIntent.FLAG_ONE_SHOT);\n    NotificationCompat.Builder notificationBuilder = new NotificationCompat.Builder(context, &quot;ToRemember_channel&quot;);\n    notificationBuilder.setContentIntent(pendingIntent).setWhen(j).setSmallIcon(R.drawable.ic_baseline_calendar_month).setContentTitle(title).setContentText(description).setContentInfo(&quot;TODO&quot;);\n    notificationManager.notify(j, notificationBuilder.build());\n}\n</code></pre>\n"}],"owner":{"account_id":25932884,"reputation":15,"user_id":19653667,"display_name":"AlbertoDev2"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76886138,"answer_count":1,"score":0,"last_activity_date":1691780368,"creation_date":1691778218,"question_id":76885934,"body_markdown":"Morning, I recently ran into a problem of which I have two arraylist (title, description).\r\n\r\nHow can I loop throughout the arraylist and for each element creating a notification.\r\n\r\n\r\n\r\n\r\n\r\n\r\nI already tried this...\r\nBut it always give the same title and description..\r\nThanks in advance.\r\n\r\n```java\r\nint iTotalTodayTodos = 2;\r\nArrayList&lt;String&gt; strTitlesArrayList = new ArrayList&lt;&gt;();\r\nArrayList&lt;String&gt; strDescriptionArrayList = new ArrayList&lt;&gt;();\r\n\r\nstrTitlesArrayList.add(&quot;Title1&quot;);\r\nstrTitlesArrayList.add(&quot;Title2&quot;);\r\nstrDescriptionArrayList.add(&quot;Desc1&quot;);\r\nstrDescriptionArrayList.add(&quot;Desc2&quot;);\r\n\r\nfor (String title : strTitlesArrayList) {\r\n    for (String description : strDescriptionArrayList) {\r\n        for (int j = 0; j &lt; iTotalTodayTodos; j++) {\r\n            NotificationManager notificationManager = (NotificationManager) context.getSystemService(Context.NOTIFICATION_SERVICE);\r\n            Intent intent1 = new Intent();\r\n            intent1.putExtra(&quot;title&quot;, title);\r\n            intent1.putExtra(&quot;description&quot;, description);\r\n            PendingIntent pendingIntent = PendingIntent.getBroadcast(context, j, intent1, PendingIntent.FLAG_ONE_SHOT);\r\n            NotificationCompat.Builder notificationBuilder = new NotificationCompat.Builder(context, &quot;ToRemember_channel&quot;);\r\n            notificationBuilder.setContentIntent(pendingIntent).setWhen(j).setSmallIcon(R.drawable.ic_baseline_calendar_month).setContentTitle(title).setContentText(description).setContentInfo(&quot;TODO&quot;);\r\n            notificationManager.notify(j, notificationBuilder.build());\r\n        }\r\n    }\r\n}\r\n```","title":"Multiple Notification.Compact Android","body":"<p>Morning, I recently ran into a problem of which I have two arraylist (title, description).</p>\n<p>How can I loop throughout the arraylist and for each element creating a notification.</p>\n<p>I already tried this...\nBut it always give the same title and description..\nThanks in advance.</p>\n<pre class=\"lang-java prettyprint-override\"><code>int iTotalTodayTodos = 2;\nArrayList&lt;String&gt; strTitlesArrayList = new ArrayList&lt;&gt;();\nArrayList&lt;String&gt; strDescriptionArrayList = new ArrayList&lt;&gt;();\n\nstrTitlesArrayList.add(&quot;Title1&quot;);\nstrTitlesArrayList.add(&quot;Title2&quot;);\nstrDescriptionArrayList.add(&quot;Desc1&quot;);\nstrDescriptionArrayList.add(&quot;Desc2&quot;);\n\nfor (String title : strTitlesArrayList) {\n    for (String description : strDescriptionArrayList) {\n        for (int j = 0; j &lt; iTotalTodayTodos; j++) {\n            NotificationManager notificationManager = (NotificationManager) context.getSystemService(Context.NOTIFICATION_SERVICE);\n            Intent intent1 = new Intent();\n            intent1.putExtra(&quot;title&quot;, title);\n            intent1.putExtra(&quot;description&quot;, description);\n            PendingIntent pendingIntent = PendingIntent.getBroadcast(context, j, intent1, PendingIntent.FLAG_ONE_SHOT);\n            NotificationCompat.Builder notificationBuilder = new NotificationCompat.Builder(context, &quot;ToRemember_channel&quot;);\n            notificationBuilder.setContentIntent(pendingIntent).setWhen(j).setSmallIcon(R.drawable.ic_baseline_calendar_month).setContentTitle(title).setContentText(description).setContentInfo(&quot;TODO&quot;);\n            notificationManager.notify(j, notificationBuilder.build());\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","excel","apache-poi","classification"],"comments":[{"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"score":0,"creation_date":1691848646,"post_id":76881125,"comment_id":135548576,"body_markdown":"Do you mean [Apply sensitivity labels to your files](https://support.microsoft.com/en-us/office/apply-sensitivity-labels-to-your-files-and-email-2f96e7cd-d5a4-403b-8bd7-4cc636bae0f9)? If so, then this is only possible &quot;for users and organizations whose administrators have set up sensitivity labels.&quot; I doubt such organisations will publish these settings here. Thus I doubt you get an answer about this here.","body":"Do you mean <a href=\"https://support.microsoft.com/en-us/office/apply-sensitivity-labels-to-your-files-and-email-2f96e7cd-d5a4-403b-8bd7-4cc636bae0f9\" rel=\"nofollow noreferrer\">Apply sensitivity labels to your files</a>? If so, then this is only possible &quot;for users and organizations whose administrators have set up sensitivity labels.&quot; I doubt such organisations will publish these settings here. Thus I doubt you get an answer about this here."}],"owner":{"account_id":29204077,"reputation":1,"user_id":22373552,"display_name":"Abhishek Paikaray"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":146,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1691780048,"creation_date":1691734759,"question_id":76881125,"body_markdown":"I am writing my result set to excel file. Using apache poi jar. I want to set the classification of the excel file to be for internal use only. How do I achieve this using java. Tried multiple methods but none of this is working. ","title":"Set Excel file classification through java code","body":"<p>I am writing my result set to excel file. Using apache poi jar. I want to set the classification of the excel file to be for internal use only. How do I achieve this using java. Tried multiple methods but none of this is working.</p>\n"},{"tags":["java","mysql","spring-boot","intellij-idea","mustache"],"comments":[{"owner":{"account_id":10717399,"reputation":5816,"user_id":7887516,"display_name":"Ananthapadmanabhan"},"score":1,"creation_date":1558938234,"post_id":56314498,"comment_id":99249620,"body_markdown":"The link you have provided for the project structure is broken and not visible please update it. Check whether you have kept your templates under src/main/resources/templates folder.","body":"The link you have provided for the project structure is broken and not visible please update it. Check whether you have kept your templates under src/main/resources/templates folder."}],"answers":[{"tags":[],"owner":{"account_id":10717399,"reputation":5816,"user_id":7887516,"display_name":"Ananthapadmanabhan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1558939463,"creation_date":1558938515,"answer_id":56320706,"question_id":56314498,"body_markdown":"From your stack trace it can be seen that you are passing `messages` to be iterated in the template :\r\n\r\n    There was an unexpected error (type=Internal Server Error, status=500).\r\n    No method or field with name &#39;id&#39; on line 15\r\n\r\nBut the messages model being returned from the controller might be missing &#39;id&#39; values . If we didn’t assign a value to a {{id}} on the Mustache’s page, the jmustache will throw the above error message.Can you please check if the data returned from the main method is returning correctly.Or mark the value as optional in the template.\r\n\r\nIf not check the following :\r\nEnsure that you have configured mustache properly.Ensure that you have the following dependency added in pom :\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-mustache&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\nAlso ensure that all your dynamic html content is kept in the directory :\r\n\r\n    src/main/resources/templates/\r\n\r\nfolder so that spring will take it up.\r\n","title":"MustacheException: No method or field with name &#39;Id&#39; on line 15. Whitelabel Error Page","body":"<p>From your stack trace it can be seen that you are passing <code>messages</code> to be iterated in the template :</p>\n\n<pre><code>There was an unexpected error (type=Internal Server Error, status=500).\nNo method or field with name 'id' on line 15\n</code></pre>\n\n<p>But the messages model being returned from the controller might be missing 'id' values . If we didn’t assign a value to a {{id}} on the Mustache’s page, the jmustache will throw the above error message.Can you please check if the data returned from the main method is returning correctly.Or mark the value as optional in the template.</p>\n\n<p>If not check the following :\nEnsure that you have configured mustache properly.Ensure that you have the following dependency added in pom :</p>\n\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-mustache&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n</code></pre>\n\n<p>Also ensure that all your dynamic html content is kept in the directory :</p>\n\n<pre><code>src/main/resources/templates/\n</code></pre>\n\n<p>folder so that spring will take it up.</p>\n"},{"tags":[],"owner":{"account_id":22804039,"reputation":1,"user_id":16956308,"display_name":"Ramil Tukhvatov"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691779495,"creation_date":1691779495,"answer_id":76886051,"question_id":56314498,"body_markdown":"    @GetMapping\r\n    public String main(Map&lt;String, Object&gt; model){\r\n        Iterable&lt;Message&gt; messages = messageRepo.findAll();\r\n        model.put(&quot;messages&quot;, &quot;messages&quot;);\r\n        return &quot;main&quot;;\r\n    }\r\n\r\nchange to\r\n    \r\n\r\n    model.put(&quot;messages&quot;, messages);","title":"MustacheException: No method or field with name &#39;Id&#39; on line 15. Whitelabel Error Page","body":"<pre><code>@GetMapping\npublic String main(Map&lt;String, Object&gt; model){\n    Iterable&lt;Message&gt; messages = messageRepo.findAll();\n    model.put(&quot;messages&quot;, &quot;messages&quot;);\n    return &quot;main&quot;;\n}\n</code></pre>\n<p>change to</p>\n<pre><code>model.put(&quot;messages&quot;, messages);\n</code></pre>\n"}],"owner":{"account_id":16014961,"reputation":11,"user_id":11557955,"display_name":"Andrey Burmagin"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":4041,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1691779495,"creation_date":1558881717,"question_id":56314498,"body_markdown":"I&#39;m using MySQL Ver 15.1 Distrib 10.1.38-MariaDB, for debian-linux-gnu (x86_64).\r\nOpen-JDK 1.8.0\r\nSpring Boot 2.1.4 RELEASE\r\n\r\n\r\n\r\nAccessing my application I got this stacktrace on my whitelable page:\r\n\r\n     This application has no explicit mapping for /error, so you are seeing \r\n     this as a fallback.\r\n\r\n    Mon May 27 16:12:06 AZOST 2019\r\n    There was an unexpected error (type=Internal Server Error, status=500).\r\n    No method or field with name &#39;id&#39; on line 15\r\n    com.samskivert.mustache.MustacheException$Context: No method or field \r\n    with name &#39;id&#39; on line 15\r\n\tat com.samskivert.mustache.Template.checkForMissing(Template.java:326)\r\n\tat com.samskivert.mustache.Template.getValue(Template.java:234)\r\n\tat com.samskivert.mustache.Template.getValueOrDefault(Template.java:279)\r\n\tat com.samskivert.mustache.Mustache$VariableSegment.execute(Mustache.java:802)\r\n\tat com.samskivert.mustache.Mustache$BlockSegment.executeSegs(Mustache.java:845)\r\n\tat com.samskivert.mustache.Mustache$SectionSegment.execute(Mustache.java:881)\r\n\tat com.samskivert.mustache.Template.executeSegs(Template.java:157)\r\n\tat com.samskivert.mustache.Template.execute(Template.java:134)\r\n\tat org.springframework.boot.web.servlet.view.MustacheView.renderMergedTemplateModel(MustacheView.java:81)\r\n\tat org.springframework.web.servlet.view.AbstractTemplateView.renderMergedOutputModel(AbstractTemplateView.java:178)\r\n\tat org.springframework.web.servlet.view.AbstractView.render(AbstractView.java:316)\r\n\tat org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1370)\r\n\tat org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1116)\r\n\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1055)\r\n\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:942)\r\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1005)\r\n\tat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:897)\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:634)\r\n\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:882)\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:741)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:92)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n\tat org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:93)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:200)\r\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)\r\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:490)\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139)\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)\r\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:408)\r\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)\r\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:834)\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1415)\r\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n\tat java.lang.Thread.run(Thread.java:748)\r\n\r\n\r\n\r\n\r\nThis is my code:\r\n\r\n  main.mustache\r\n\r\n    &lt;html&gt;\r\n\r\n    &lt;body&gt;\r\n    &lt;div&gt;\r\n        &lt;form method=&quot;POST&quot;&gt;\r\n            &lt;input type =&quot;text&quot; name=&quot;text&quot; placeholder=&quot;Введите сообщение&quot; /&gt;\r\n            &lt;input type =&quot;text&quot; name=&quot;tag&quot; placeholder=&quot;Тег&quot;/&gt;\r\n            &lt;button type=&quot;submit&quot;&gt;Добавить&lt;/button&gt;\r\n        &lt;/form&gt;\r\n    &lt;/div&gt;\r\n\r\n    &lt;div&gt;Message list&lt;/div&gt;\r\n    {{#messages}}\r\n    &lt;div&gt;\r\n    &lt;b&gt;{{id}}&lt;/b&gt;\r\n    &lt;span&gt;{{text}}&lt;/span&gt;\r\n    &lt;i&gt;{{tag}}&lt;/i&gt;\r\n    &lt;/div&gt;\r\n    {{/messages}}\r\n&lt;/body&gt;\r\n&lt;/html&gt;\r\n\r\nThis is my Controller:\r\n\r\nGreetingController\r\n\r\n    package com.example.sweater;\r\n\r\n    import com.example.sweater.domain.Message;\r\n    import com.example.sweater.repos.MessageRepo;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.stereotype.Controller;\r\n    import org.springframework.web.bind.annotation.GetMapping;\r\n    import org.springframework.web.bind.annotation.PostMapping;\r\n    import org.springframework.web.bind.annotation.RequestMapping;\r\n    import org.springframework.web.bind.annotation.RequestParam;\r\n\r\n    import java.util.Map;\r\n\r\n    @Controller\r\n    public class GreetingsController {\r\n\r\n    @Autowired\r\n    private MessageRepo messageRepo;\r\n\r\n    @RequestMapping(&quot;/greeting&quot;)\r\n    public String greeting(@RequestParam(name=&quot;name&quot;, required = false, defaultValue = &quot;World&quot;) String name,\r\n                           Map&lt;String, Object&gt; model)\r\n    {\r\n        model.put(&quot;name&quot;, name);\r\n        return &quot;greeting&quot;;\r\n    }\r\n    @GetMapping\r\n    public String main(Map&lt;String, Object&gt; model){\r\n        Iterable&lt;Message&gt; messages = messageRepo.findAll();\r\n        model.put(&quot;messages&quot;, &quot;messages&quot;);\r\n        return &quot;main&quot;;\r\n    }\r\n    @PostMapping\r\n    public String add(@RequestParam String text, @RequestParam String tag, Map&lt;String, Object&gt; model){\r\n        Message message = new Message(text, tag);\r\n        messageRepo.save(message);\r\n        Iterable&lt;Message&gt; messages = messageRepo.findAll();\r\n        model.put(&quot;messages&quot;, messages);\r\n        return &quot;main&quot;;\r\n    }\r\n}\r\n   \r\n\r\n\r\nThis is my project structure:\r\n![ProjectStructure]: (https://lh3.googleusercontent.com/PKENYsmd29WxawAs-jMtrwBTBqDHNMoS3LWU_BTyDOjO7L5z8DrojsmB-pHfb03QE2Ce7Q3_xE4HrMk3PZax06Cd2b-NY42pB9e5DzCv-Uh6VlkbtebFb2W0HYq8u7WaG7WWU7uC7_7z5x8TXTXl65Wg-rMCes6HkQ8PTQ2_-QOMBW_I2yV8dXN2Xs2-vsHAWX5upPKw2oi3ZAtxOVvDKUm-znDD4czMIPAMKsDAfBXWWf5QbVpTysOEoE_rF7_7z9lWBf0ujZBYpllK5aXxsWB0OorsnnLb9XvmCMaGU-3xsOykLRFiq_LcYk5erFkEsBSkkobYT67ZPIPxrcnC3iGluBy5IYjDUrhwVpn-WPv76RsEID0qF0PYrAGO01M1Xb0QzhOJjx0wKsIKIDBRSEfxSRSLp-rGVW0rsDF_VIQeRXLs-Bvt45LznMXIBjCH_OLA3sg5p7RsgmiiRrjtsFhKmH-GOUds1GvrUTfpdpjlcySm_vpYK84WhyGfc64As45xB04w62mkD0LgZpw9pFcENbp8l9_MNhRlh0dLccB0Tku5H9h1-9H4FD3OzHYlw6SlsoNfYob_7BeZK3QXaTujtu1K7Hn-5zaxJ_oI4Ea_4P59BSmzAp6X_D6O0Rs9rZ8zPtSPNHiBzB6SP_vOuCfMuOAa8w=w340-h520-no)\r\n\r\nI expected this code to display HTML code with empty fields waiting for me to fill in them, access the database and show all tuples which was typed into empty fields, but instead I ran into this stacktrace. What should i fix to make it work correctly?","title":"MustacheException: No method or field with name &#39;Id&#39; on line 15. Whitelabel Error Page","body":"<p>I'm using MySQL Ver 15.1 Distrib 10.1.38-MariaDB, for debian-linux-gnu (x86_64).\nOpen-JDK 1.8.0\nSpring Boot 2.1.4 RELEASE</p>\n\n<p>Accessing my application I got this stacktrace on my whitelable page:</p>\n\n<pre><code> This application has no explicit mapping for /error, so you are seeing \n this as a fallback.\n\nMon May 27 16:12:06 AZOST 2019\nThere was an unexpected error (type=Internal Server Error, status=500).\nNo method or field with name 'id' on line 15\ncom.samskivert.mustache.MustacheException$Context: No method or field \nwith name 'id' on line 15\nat com.samskivert.mustache.Template.checkForMissing(Template.java:326)\nat com.samskivert.mustache.Template.getValue(Template.java:234)\nat com.samskivert.mustache.Template.getValueOrDefault(Template.java:279)\nat com.samskivert.mustache.Mustache$VariableSegment.execute(Mustache.java:802)\nat com.samskivert.mustache.Mustache$BlockSegment.executeSegs(Mustache.java:845)\nat com.samskivert.mustache.Mustache$SectionSegment.execute(Mustache.java:881)\nat com.samskivert.mustache.Template.executeSegs(Template.java:157)\nat com.samskivert.mustache.Template.execute(Template.java:134)\nat org.springframework.boot.web.servlet.view.MustacheView.renderMergedTemplateModel(MustacheView.java:81)\nat org.springframework.web.servlet.view.AbstractTemplateView.renderMergedOutputModel(AbstractTemplateView.java:178)\nat org.springframework.web.servlet.view.AbstractView.render(AbstractView.java:316)\nat org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1370)\nat org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1116)\nat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1055)\nat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:942)\nat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1005)\nat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:897)\nat javax.servlet.http.HttpServlet.service(HttpServlet.java:634)\nat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:882)\nat javax.servlet.http.HttpServlet.service(HttpServlet.java:741)\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\nat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\nat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99)\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\nat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:92)\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\nat org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:93)\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\nat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200)\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\nat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:200)\nat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)\nat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:490)\nat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139)\nat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\nat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)\nat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)\nat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:408)\nat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)\nat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:834)\nat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1415)\nat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\nat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\nat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\nat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\nat java.lang.Thread.run(Thread.java:748)\n</code></pre>\n\n<p>This is my code:</p>\n\n<p>main.mustache</p>\n\n<pre><code>&lt;html&gt;\n\n&lt;body&gt;\n&lt;div&gt;\n    &lt;form method=\"POST\"&gt;\n        &lt;input type =\"text\" name=\"text\" placeholder=\"Введите сообщение\" /&gt;\n        &lt;input type =\"text\" name=\"tag\" placeholder=\"Тег\"/&gt;\n        &lt;button type=\"submit\"&gt;Добавить&lt;/button&gt;\n    &lt;/form&gt;\n&lt;/div&gt;\n\n&lt;div&gt;Message list&lt;/div&gt;\n{{#messages}}\n&lt;div&gt;\n&lt;b&gt;{{id}}&lt;/b&gt;\n&lt;span&gt;{{text}}&lt;/span&gt;\n&lt;i&gt;{{tag}}&lt;/i&gt;\n&lt;/div&gt;\n{{/messages}}\n</code></pre>\n\n<p>\n</p>\n\n<p>This is my Controller:</p>\n\n<p>GreetingController</p>\n\n<pre><code>package com.example.sweater;\n\nimport com.example.sweater.domain.Message;\nimport com.example.sweater.repos.MessageRepo;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Controller;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.PostMapping;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RequestParam;\n\nimport java.util.Map;\n\n@Controller\npublic class GreetingsController {\n\n@Autowired\nprivate MessageRepo messageRepo;\n\n@RequestMapping(\"/greeting\")\npublic String greeting(@RequestParam(name=\"name\", required = false, defaultValue = \"World\") String name,\n                       Map&lt;String, Object&gt; model)\n{\n    model.put(\"name\", name);\n    return \"greeting\";\n}\n@GetMapping\npublic String main(Map&lt;String, Object&gt; model){\n    Iterable&lt;Message&gt; messages = messageRepo.findAll();\n    model.put(\"messages\", \"messages\");\n    return \"main\";\n}\n@PostMapping\npublic String add(@RequestParam String text, @RequestParam String tag, Map&lt;String, Object&gt; model){\n    Message message = new Message(text, tag);\n    messageRepo.save(message);\n    Iterable&lt;Message&gt; messages = messageRepo.findAll();\n    model.put(\"messages\", messages);\n    return \"main\";\n}\n</code></pre>\n\n<p>}</p>\n\n<p>This is my project structure:\n![ProjectStructure]: (<a href=\"https://lh3.googleusercontent.com/PKENYsmd29WxawAs-jMtrwBTBqDHNMoS3LWU_BTyDOjO7L5z8DrojsmB-pHfb03QE2Ce7Q3_xE4HrMk3PZax06Cd2b-NY42pB9e5DzCv-Uh6VlkbtebFb2W0HYq8u7WaG7WWU7uC7_7z5x8TXTXl65Wg-rMCes6HkQ8PTQ2_-QOMBW_I2yV8dXN2Xs2-vsHAWX5upPKw2oi3ZAtxOVvDKUm-znDD4czMIPAMKsDAfBXWWf5QbVpTysOEoE_rF7_7z9lWBf0ujZBYpllK5aXxsWB0OorsnnLb9XvmCMaGU-3xsOykLRFiq_LcYk5erFkEsBSkkobYT67ZPIPxrcnC3iGluBy5IYjDUrhwVpn-WPv76RsEID0qF0PYrAGO01M1Xb0QzhOJjx0wKsIKIDBRSEfxSRSLp-rGVW0rsDF_VIQeRXLs-Bvt45LznMXIBjCH_OLA3sg5p7RsgmiiRrjtsFhKmH-GOUds1GvrUTfpdpjlcySm_vpYK84WhyGfc64As45xB04w62mkD0LgZpw9pFcENbp8l9_MNhRlh0dLccB0Tku5H9h1-9H4FD3OzHYlw6SlsoNfYob_7BeZK3QXaTujtu1K7Hn-5zaxJ_oI4Ea_4P59BSmzAp6X_D6O0Rs9rZ8zPtSPNHiBzB6SP_vOuCfMuOAa8w=w340-h520-no\" rel=\"nofollow noreferrer\">https://lh3.googleusercontent.com/PKENYsmd29WxawAs-jMtrwBTBqDHNMoS3LWU_BTyDOjO7L5z8DrojsmB-pHfb03QE2Ce7Q3_xE4HrMk3PZax06Cd2b-NY42pB9e5DzCv-Uh6VlkbtebFb2W0HYq8u7WaG7WWU7uC7_7z5x8TXTXl65Wg-rMCes6HkQ8PTQ2_-QOMBW_I2yV8dXN2Xs2-vsHAWX5upPKw2oi3ZAtxOVvDKUm-znDD4czMIPAMKsDAfBXWWf5QbVpTysOEoE_rF7_7z9lWBf0ujZBYpllK5aXxsWB0OorsnnLb9XvmCMaGU-3xsOykLRFiq_LcYk5erFkEsBSkkobYT67ZPIPxrcnC3iGluBy5IYjDUrhwVpn-WPv76RsEID0qF0PYrAGO01M1Xb0QzhOJjx0wKsIKIDBRSEfxSRSLp-rGVW0rsDF_VIQeRXLs-Bvt45LznMXIBjCH_OLA3sg5p7RsgmiiRrjtsFhKmH-GOUds1GvrUTfpdpjlcySm_vpYK84WhyGfc64As45xB04w62mkD0LgZpw9pFcENbp8l9_MNhRlh0dLccB0Tku5H9h1-9H4FD3OzHYlw6SlsoNfYob_7BeZK3QXaTujtu1K7Hn-5zaxJ_oI4Ea_4P59BSmzAp6X_D6O0Rs9rZ8zPtSPNHiBzB6SP_vOuCfMuOAa8w=w340-h520-no</a>)</p>\n\n<p>I expected this code to display HTML code with empty fields waiting for me to fill in them, access the database and show all tuples which was typed into empty fields, but instead I ran into this stacktrace. What should i fix to make it work correctly?</p>\n"},{"tags":["java","android","json","android-studio","instagram"],"answers":[{"tags":[],"owner":{"account_id":15542923,"reputation":492,"user_id":11213106,"display_name":"Surya Ganesh"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1593610983,"creation_date":1593610983,"answer_id":62678251,"question_id":56993668,"body_markdown":"Without using any API we can get the JSON file of a post by simply adding the below string at the end of the post URL.\r\n\r\n    ?__a=1\r\n\r\nExample: Post link\r\n\r\n    https://www.instagram.com/p/B-xoLq7h6xS\r\n\r\nJSON link\r\n\r\n    https://www.instagram.com/p/B-xoLq7h6xS/?__a=1","title":"How to get the Instagram picture or video URL directly from copy or share URL?","body":"<p>Without using any API we can get the JSON file of a post by simply adding the below string at the end of the post URL.</p>\n<pre><code>?__a=1\n</code></pre>\n<p>Example: Post link</p>\n<pre><code>https://www.instagram.com/p/B-xoLq7h6xS\n</code></pre>\n<p>JSON link</p>\n<pre><code>https://www.instagram.com/p/B-xoLq7h6xS/?__a=1\n</code></pre>\n"}],"owner":{"account_id":15542923,"reputation":492,"user_id":11213106,"display_name":"Surya Ganesh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2332,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1691779418,"creation_date":1562862677,"question_id":56993668,"body_markdown":"I want to make an Android app which download the images from Instagram using the copy URL.\r\nI got stuck in the first step itself\r\nCan anyone help me in getting image or video URL from the copy link??\r\nThanks","title":"How to get the Instagram picture or video URL directly from copy or share URL?","body":"<p>I want to make an Android app which download the images from Instagram using the copy URL.\nI got stuck in the first step itself\nCan anyone help me in getting image or video URL from the copy link??\nThanks</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":177494,"reputation":18042,"user_id":408863,"accept_rate":83,"display_name":"Sarwar Erfan"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1294723561,"creation_date":1294723561,"answer_id":4654504,"question_id":4654483,"body_markdown":"The very first step would be to look into the server error log to see what the problem was.\r\n\r\n","title":"HTTP error code 500","body":"<p>The very first step would be to look into the server error log to see what the problem was.</p>\n"},{"tags":[],"owner":{"account_id":16216,"reputation":110776,"user_id":35092,"accept_rate":83,"display_name":"Charlie Martin"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1294723584,"creation_date":1294723584,"answer_id":4654507,"question_id":4654483,"body_markdown":"First thing to do is look at the server log.  500 indicates something failed in the server, and your server log should (one hopes) have exceptions listed etc.\r\n\r\nKnowing the server would help be more specific.","title":"HTTP error code 500","body":"<p>First thing to do is look at the server log.  500 indicates something failed in the server, and your server log should (one hopes) have exceptions listed etc.</p>\n\n<p>Knowing the server would help be more specific.</p>\n"},{"tags":[],"owner":{"account_id":20152727,"reputation":849,"user_id":14779676,"display_name":"sherkhan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1631874265,"creation_date":1631874265,"answer_id":69221805,"question_id":4654483,"body_markdown":"This is not a problem of your server or setup but this is something missing or crash from your code.\r\n\r\nCheck in the body of Error log:\r\n\r\nyou will find the targetModulenmae/ or unable resolve module ..\r\nthen try to solve that problem ","title":"HTTP error code 500","body":"<p>This is not a problem of your server or setup but this is something missing or crash from your code.</p>\n<p>Check in the body of Error log:</p>\n<p>you will find the targetModulenmae/ or unable resolve module ..\nthen try to solve that problem</p>\n"}],"owner":{"account_id":260689,"reputation":721,"user_id":544394,"accept_rate":100,"display_name":"Monojeet Nayak"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6168,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":4654504,"answer_count":3,"score":0,"last_activity_date":1691779253,"creation_date":1294723329,"question_id":4654483,"body_markdown":"I am trying to run a Java client application which in turn calls a servlet, and both of them are placed on the same machine. While running the client code I am getting: \r\n\r\n    Error while making connection\r\n\r\nAnd the server returned HTTP response code is 500.\r\n\r\nSee URL: https://psng11d19087.ksfg.ds-group.com:443\r\n\r\nAny tips on how I can start debugging this?","title":"HTTP error code 500","body":"<p>I am trying to run a Java client application which in turn calls a servlet, and both of them are placed on the same machine. While running the client code I am getting: </p>\n\n<pre><code>Error while making connection\n</code></pre>\n\n<p>And the server returned HTTP response code is 500.</p>\n\n<p>See URL: <a href=\"https://psng11d19087.ksfg.ds-group.com:443\" rel=\"nofollow\">https://psng11d19087.ksfg.ds-group.com:443</a></p>\n\n<p>Any tips on how I can start debugging this?</p>\n"},{"tags":["java","spring","spring-boot","intellij-idea","spring-jmx"],"comments":[{"owner":{"account_id":36734,"reputation":392137,"user_id":104891,"display_name":"CrazyCoder"},"score":0,"creation_date":1691689852,"post_id":76878123,"comment_id":135529021,"body_markdown":"Please provide the [Minimal, Complete, and Verifiable example](https://stackoverflow.com/help/mcve).","body":"Please provide the <a href=\"https://stackoverflow.com/help/mcve\">Minimal, Complete, and Verifiable example</a>."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1691757241,"post_id":76878123,"comment_id":135538516,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"answers":[{"tags":[],"owner":{"account_id":3895516,"reputation":2246,"user_id":3224665,"display_name":"Leszek Jasek"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691777357,"creation_date":1691777357,"answer_id":76885861,"question_id":76878123,"body_markdown":"In IntelliJ IDEA, open Spring Boot&#39;s `Run/Debug Configurations` and add the following line to the `VM Options`:\r\n\r\n    -Djava.rmi.server.hostname=localhost","title":"Failed to Retrieve Application JMX Service URL in Spring Boot IntelliJ IDEA Ultimate","body":"<p>In IntelliJ IDEA, open Spring Boot's <code>Run/Debug Configurations</code> and add the following line to the <code>VM Options</code>:</p>\n<pre><code>-Djava.rmi.server.hostname=localhost\n</code></pre>\n"}],"owner":{"account_id":29201222,"reputation":1,"user_id":22371306,"display_name":"Ajay Negi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":443,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1691777357,"creation_date":1691689162,"question_id":76878123,"body_markdown":"Hello StackOverflow community,\r\n\r\nI am encountering an issue when running my Spring Boot application in IntelliJ IDEA Ultimate. Upon starting the application, I consistently receive a notification indicating that the **`&quot;Failed to retrieve application JMX service URL.&quot;`** \r\n\r\n**Environment**\r\n\r\nOperating System: macOS Ventura 13.5\r\n\r\nIntelliJ IDEA Ultimate Version: IntelliJ IDEA 2023.2 (Ultimate Edition)\r\n\r\nSpring Boot Version: 3.1.2\r\n\r\nJava Version: 17\r\n\r\n[  \r\nError Image](https://i.stack.imgur.com/dAYJk.png)\r\n\r\nI am seeking assistance in resolving this problem.","title":"Failed to Retrieve Application JMX Service URL in Spring Boot IntelliJ IDEA Ultimate","body":"<p>Hello StackOverflow community,</p>\n<p>I am encountering an issue when running my Spring Boot application in IntelliJ IDEA Ultimate. Upon starting the application, I consistently receive a notification indicating that the <strong><code>&quot;Failed to retrieve application JMX service URL.&quot;</code></strong></p>\n<p><strong>Environment</strong></p>\n<p>Operating System: macOS Ventura 13.5</p>\n<p>IntelliJ IDEA Ultimate Version: IntelliJ IDEA 2023.2 (Ultimate Edition)</p>\n<p>Spring Boot Version: 3.1.2</p>\n<p>Java Version: 17</p>\n<p><a href=\"https://i.stack.imgur.com/dAYJk.png\" rel=\"nofollow noreferrer\"><br />\nError Image</a></p>\n<p>I am seeking assistance in resolving this problem.</p>\n"},{"tags":["java","math"],"comments":[{"owner":{"account_id":62234,"reputation":19819,"user_id":185034,"accept_rate":100,"display_name":"Paul"},"score":1,"creation_date":1691776705,"post_id":76885745,"comment_id":135542404,"body_markdown":"What do you get without the cast to `long`? The [API for `pow`](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Math.html#pow(double,double)) says, &quot;If both arguments are integers, then the result is exactly equal to the mathematical result of raising the first argument to the power of the second argument if that result can in fact be represented exactly as a double value.&quot; Perhaps 2^61 cannot be exactly represented as a double value.","body":"What do you get without the cast to <code>long</code>? The <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Math.html#pow(double,double)\" rel=\"nofollow noreferrer\">API for <code>pow</code></a> says, &quot;If both arguments are integers, then the result is exactly equal to the mathematical result of raising the first argument to the power of the second argument if that result can in fact be represented exactly as a double value.&quot; Perhaps 2^61 cannot be exactly represented as a double value."},{"owner":{"account_id":85671,"reputation":40858,"user_id":238704,"display_name":"President James K. Polk"},"score":2,"creation_date":1691776737,"post_id":76885745,"comment_id":135542413,"body_markdown":"Doubles can only represent integers of up to 52 bits exactly. Actually, that statement is an oversimplification and not strictly true, but true enough for your needs. You can do this in longs almost as simply as `long x = (1L &lt;&lt; 61) - 1L;` If you absolutely must use exponentiation whose results are this large then use the `BigInteger` class.","body":"Doubles can only represent integers of up to 52 bits exactly. Actually, that statement is an oversimplification and not strictly true, but true enough for your needs. You can do this in longs almost as simply as <code>long x = (1L &lt;&lt; 61) - 1L;</code> If you absolutely must use exponentiation whose results are this large then use the <code>BigInteger</code> class."},{"owner":{"account_id":27699053,"reputation":2348,"user_id":21144042,"display_name":"Diego Borba"},"score":0,"creation_date":1691776756,"post_id":76885745,"comment_id":135542418,"body_markdown":"Why dont use Double?","body":"Why dont use Double?"},{"owner":{"account_id":2968584,"reputation":50571,"user_id":2521214,"accept_rate":71,"display_name":"Spektre"},"score":0,"creation_date":1691826171,"post_id":76885745,"comment_id":135546480,"body_markdown":"the result you want is 60 bits integer however `double` has less mantissa bits so the result is rounded ...","body":"the result you want is 60 bits integer however <code>double</code> has less mantissa bits so the result is rounded ..."}],"answers":[{"comments":[{"owner":{"account_id":1888781,"reputation":2007,"user_id":1707427,"display_name":"S&#246;ren"},"score":4,"creation_date":1691776688,"post_id":76885786,"comment_id":135542402,"body_markdown":"It *can* represent 2^{61}, just not 2^{61}-1.","body":"It <i>can</i> represent 2^{61}, just not 2^{61}-1."}],"tags":[],"owner":{"account_id":1174921,"reputation":1613,"user_id":1151144,"accept_rate":79,"display_name":"Dale"},"comment_count":1,"down_vote_count":1,"up_vote_count":5,"is_accepted":true,"score":4,"last_activity_date":1691776567,"creation_date":1691776567,"answer_id":76885786,"question_id":76885745,"body_markdown":"The issue is with the precision of the double data type when using Math.pow(2, 61). It can&#39;t represent 2^{61} accurately, leading to rounding errors.\r\n\r\nInstead, use &quot;bit shifting&quot; for accuracy:\r\n\r\n\r\n\r\n    class Main {\r\n      public static void main(String[] args) {\r\n        long x = (1L &lt;&lt; 61) - 1;\r\n        System.out.println(x);\r\n      }\r\n    }\r\nThis approach avoids the precision error and gives the correct result.","title":"Why does Java get 2^61 - 1 wrong?","body":"<p>The issue is with the precision of the double data type when using Math.pow(2, 61). It can't represent 2^{61} accurately, leading to rounding errors.</p>\n<p>Instead, use &quot;bit shifting&quot; for accuracy:</p>\n<pre><code>class Main {\n  public static void main(String[] args) {\n    long x = (1L &lt;&lt; 61) - 1;\n    System.out.println(x);\n  }\n}\n</code></pre>\n<p>This approach avoids the precision error and gives the correct result.</p>\n"}],"owner":{"account_id":1404722,"reputation":244,"user_id":1332748,"accept_rate":11,"display_name":"jack klompus"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1691777071,"accepted_answer_id":76885786,"answer_count":1,"score":0,"last_activity_date":1691776682,"creation_date":1691776195,"question_id":76885745,"body_markdown":"I&#39;m trying to use Java to calculate the value of the value of 2^{61} - 1.\r\n\r\nHere&#39;s my code\r\n\r\n    import java.lang.Math;\r\n    \r\n    class Main {\r\n      public static void main(String[] args) {\r\n        long x = (long) (Math.pow(2, 61) - 1);\r\n        System.out.println(x);\r\n      }\r\n    }\r\n\r\nThe output is 2305843009213693952, which is wrong.\r\n\r\nThe answer should be 2305843009213693951.\r\n\r\nI&#39;m confused as to why this is the case?\r\n\r\nThanks\r\n\r\n","title":"Why does Java get 2^61 - 1 wrong?","body":"<p>I'm trying to use Java to calculate the value of the value of 2^{61} - 1.</p>\n<p>Here's my code</p>\n<pre><code>import java.lang.Math;\n\nclass Main {\n  public static void main(String[] args) {\n    long x = (long) (Math.pow(2, 61) - 1);\n    System.out.println(x);\n  }\n}\n</code></pre>\n<p>The output is 2305843009213693952, which is wrong.</p>\n<p>The answer should be 2305843009213693951.</p>\n<p>I'm confused as to why this is the case?</p>\n<p>Thanks</p>\n"},{"tags":["java","spring-boot","hibernate","jpa"],"comments":[{"owner":{"account_id":17705436,"reputation":731,"user_id":12854146,"display_name":"tremendous7"},"score":0,"creation_date":1691785179,"post_id":76885782,"comment_id":135543725,"body_markdown":"hello! could you try to update the annotation using reflection? check out this article https://www.baeldung.com/java-reflection-change-annotation-params","body":"hello! could you try to update the annotation using reflection? check out this article <a href=\"https://www.baeldung.com/java-reflection-change-annotation-params\" rel=\"nofollow noreferrer\">baeldung.com/java-reflection-change-annotation-params</a>"}],"owner":{"account_id":29207901,"reputation":1,"user_id":22376582,"display_name":"mtt"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1691776675,"creation_date":1691776535,"question_id":76885782,"body_markdown":"Working on a Spring Boot project, I had the following situation: \r\n\r\n\r\n```\r\n@Data\r\n@Embeddable\r\npublic class MyEntity {\r\n\r\n    @OneToMany(cascade = CascadeType.ALL, fetch = FetchType.EAGER)\r\n    @Fetch(value = FetchMode.SUBSELECT)\r\n    @JoinColumns( {\r\n            @JoinColumn(name = &quot;...&quot;),\r\n            @JoinColumn(name = &quot;...&quot;)\r\n    })\r\n    @Where(clause = &quot;\\&quot;COLUMN\\&quot; = &#39;inputport&#39;&quot;)\r\n    private List&lt;Port&gt; inputPorts = new ArrayList&lt;Port&gt;();\r\n\r\n    @OneToMany(cascade = CascadeType.ALL, fetch = FetchType.EAGER)\r\n    @Fetch(value = FetchMode.SUBSELECT)\r\n    @JoinColumns( {\r\n            @JoinColumn(name = &quot;...&quot;),\r\n            @JoinColumn(name = &quot;...&quot;) \r\n    })\r\n    @Where(clause = &quot;\\&quot;COLUMN\\&quot; = &#39;outputport&#39;&quot;)\r\n    private List&lt;Port&gt; outputPorts = new ArrayList&lt;Port&gt;();\r\n    \r\n    // Rest of the code ...\r\n\r\n}\r\n````\r\n\r\nI&#39;m looking for a way, even complex, to use different name for COLUMN (i.e., &quot;\\\\&quot;COLUMN\\\\&quot;&quot; or &quot;COLUMN&quot;, where the former is for PostgreSql and H2 and the latter for MySql) depending on the active profile or the database (we have different profiles for different database).\r\n\r\nEvery idea will be appreciated, even ideas where the code will be completely different. \r\n\r\nAs a requirement, I&#39;m not allowed to work on a DB level, so I can&#39;t change DDLs.\r\n\r\nThanks\r\n\r\nI tried with custom annotations, interceptors, working on the properties file level, but I&#39;m still unable to achieve the desired result.","title":"Is there a way to have different clause inside the @Where annotation depending on profiles/database?","body":"<p>Working on a Spring Boot project, I had the following situation:</p>\n<pre><code>@Data\n@Embeddable\npublic class MyEntity {\n\n    @OneToMany(cascade = CascadeType.ALL, fetch = FetchType.EAGER)\n    @Fetch(value = FetchMode.SUBSELECT)\n    @JoinColumns( {\n            @JoinColumn(name = &quot;...&quot;),\n            @JoinColumn(name = &quot;...&quot;)\n    })\n    @Where(clause = &quot;\\&quot;COLUMN\\&quot; = 'inputport'&quot;)\n    private List&lt;Port&gt; inputPorts = new ArrayList&lt;Port&gt;();\n\n    @OneToMany(cascade = CascadeType.ALL, fetch = FetchType.EAGER)\n    @Fetch(value = FetchMode.SUBSELECT)\n    @JoinColumns( {\n            @JoinColumn(name = &quot;...&quot;),\n            @JoinColumn(name = &quot;...&quot;) \n    })\n    @Where(clause = &quot;\\&quot;COLUMN\\&quot; = 'outputport'&quot;)\n    private List&lt;Port&gt; outputPorts = new ArrayList&lt;Port&gt;();\n    \n    // Rest of the code ...\n\n}\n</code></pre>\n<p>I'm looking for a way, even complex, to use different name for COLUMN (i.e., &quot;\\&quot;COLUMN\\&quot;&quot; or &quot;COLUMN&quot;, where the former is for PostgreSql and H2 and the latter for MySql) depending on the active profile or the database (we have different profiles for different database).</p>\n<p>Every idea will be appreciated, even ideas where the code will be completely different.</p>\n<p>As a requirement, I'm not allowed to work on a DB level, so I can't change DDLs.</p>\n<p>Thanks</p>\n<p>I tried with custom annotations, interceptors, working on the properties file level, but I'm still unable to achieve the desired result.</p>\n"},{"tags":["java","ssl","https"],"comments":[{"owner":{"account_id":85671,"reputation":40858,"user_id":238704,"display_name":"President James K. Polk"},"score":1,"creation_date":1691771992,"post_id":76884969,"comment_id":135541617,"body_markdown":"That hostname verifier is *only* used when the standard hostname verification logic fails. So the default is to always return false. If you have some custom hostname verification logic to use when the standard hostname verification logic fails, you can put that in your own home-made HostnameVerifier. See [JSSE](https://docs.oracle.com/en/java/javase/17/security/java-security-overview1.html#GUID-2EF91196-D468-4D0F-8FDC-DA2BEA165D10).","body":"That hostname verifier is <i>only</i> used when the standard hostname verification logic fails. So the default is to always return false. If you have some custom hostname verification logic to use when the standard hostname verification logic fails, you can put that in your own home-made HostnameVerifier. See <a href=\"https://docs.oracle.com/en/java/javase/17/security/java-security-overview1.html#GUID-2EF91196-D468-4D0F-8FDC-DA2BEA165D10\" rel=\"nofollow noreferrer\">JSSE</a>."},{"owner":{"account_id":1191322,"reputation":783,"user_id":1164030,"accept_rate":80,"display_name":"gogators"},"score":1,"creation_date":1691779889,"post_id":76884969,"comment_id":135542929,"body_markdown":"The docs for [setHostnameVerifier](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/javax/net/ssl/HttpsURLConnection.html#setDefaultHostnameVerifier(javax.net.ssl.HostnameVerifier) seems to explain it.","body":"The docs for [setHostnameVerifier](<a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/javax/net/ssl/HttpsURLConnection.html#setDefaultHostnameVerifier(javax.net.ssl.HostnameVerifier)\" rel=\"nofollow noreferrer\">docs.oracle.com/en/java/javase/17/docs&zwnj;&#8203;/api/java.base/javax&zwnj;&#8203;/net/&hellip;</a> seems to explain it."},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1691805103,"post_id":76884969,"comment_id":135545349,"body_markdown":"NB `socket.isConnected()` cannot possibly be false at the point you are testing it. An exception would have been thrown if the connect failed. Don&#39;t write pointless code.","body":"NB <code>socket.isConnected()</code> cannot possibly be false at the point you are testing it. An exception would have been thrown if the connect failed. Don&#39;t write pointless code."}],"owner":{"account_id":1191322,"reputation":783,"user_id":1164030,"accept_rate":80,"display_name":"gogators"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1691776588,"creation_date":1691768466,"question_id":76884969,"body_markdown":"I&#39;m trying to understand how the `HostnameVerifier` works. Can you explain why this returns false?\r\n```java\r\npublic static void main(String[] argv) throws UnknownHostException, IOException {\r\n\tString host\t= &quot;stackoverflow.com&quot;;\r\n\tInteger port = 443;\r\n\tSSLSocketFactory factory = (SSLSocketFactory) SSLSocketFactory.getDefault();\r\n\tSSLSocket socket = (SSLSocket) factory.createSocket(host, port);\r\n\r\n\tif (socket.isConnected()) {\r\n\t\tboolean valid = HttpsURLConnection.getDefaultHostnameVerifier().verify(host, socket.getSession());\r\n\t\tSystem.out.println(&quot;valid is &quot; + valid);\r\n\t\tsocket.close();\r\n\t}\r\n}\r\n```","title":"Why does HostnameVerifier return false in this case?","body":"<p>I'm trying to understand how the <code>HostnameVerifier</code> works. Can you explain why this returns false?</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] argv) throws UnknownHostException, IOException {\n    String host = &quot;stackoverflow.com&quot;;\n    Integer port = 443;\n    SSLSocketFactory factory = (SSLSocketFactory) SSLSocketFactory.getDefault();\n    SSLSocket socket = (SSLSocket) factory.createSocket(host, port);\n\n    if (socket.isConnected()) {\n        boolean valid = HttpsURLConnection.getDefaultHostnameVerifier().verify(host, socket.getSession());\n        System.out.println(&quot;valid is &quot; + valid);\n        socket.close();\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","testing","db2","h2"],"comments":[{"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"score":0,"creation_date":1691774675,"post_id":76885435,"comment_id":135542048,"body_markdown":"Is it the same class cast exception or another one?","body":"Is it the same class cast exception or another one?"},{"owner":{"account_id":12435671,"reputation":38,"user_id":9056221,"display_name":"Stefan Greil"},"score":0,"creation_date":1691775027,"post_id":76885435,"comment_id":135542109,"body_markdown":"In the other case BigInteger cannot be casted to Integer. \n\nI edited my post, with the method at the end both are working.","body":"In the other case BigInteger cannot be casted to Integer.   I edited my post, with the method at the end both are working."},{"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"score":0,"creation_date":1691775402,"post_id":76885435,"comment_id":135542172,"body_markdown":"Just remove this method, nothing.","body":"Just remove this method, nothing."},{"owner":{"account_id":12435671,"reputation":38,"user_id":9056221,"display_name":"Stefan Greil"},"score":0,"creation_date":1691776033,"post_id":76885435,"comment_id":135542272,"body_markdown":"I removed it. But why and what do you mean with &quot;nothing&quot;?","body":"I removed it. But why and what do you mean with &quot;nothing&quot;?"}],"answers":[{"comments":[{"owner":{"account_id":12435671,"reputation":38,"user_id":9056221,"display_name":"Stefan Greil"},"score":0,"creation_date":1691776401,"post_id":76885723,"comment_id":135542353,"body_markdown":"Thank you so much! Its working now, without the workaround in both cases","body":"Thank you so much! Its working now, without the workaround in both cases"}],"tags":[],"owner":{"account_id":29176687,"reputation":332,"user_id":22351796,"display_name":"Karsten"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1691775915,"creation_date":1691775915,"answer_id":76885723,"question_id":76885435,"body_markdown":"`((Number)queryCount.getSingleResult()).intValue();` should do the job.","title":"Spring Boot Tests with H2 Database causing ClassCastException","body":"<p><code>((Number)queryCount.getSingleResult()).intValue();</code> should do the job.</p>\n"}],"owner":{"account_id":12435671,"reputation":38,"user_id":9056221,"display_name":"Stefan Greil"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":80,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":76885723,"answer_count":1,"score":0,"last_activity_date":1691775915,"creation_date":1691772844,"question_id":76885435,"body_markdown":"I&#39;m getting this ClassCastException during testing one of my services:\r\n\r\n```\r\njava.lang.ClassCastException: class java.math.BigInteger cannot be cast to class java.lang.Integer (java.math.BigInteger and java.lang.Integer are in module java.base of loader &#39;bootstrap&#39;)\r\n```\r\n\r\nIn that service there are multiple createNativeQuery-counts like this:\r\n\r\n```\r\nQuery queryCount = em.createNativeQuery(sqlCount);\r\nreturn (Integer)queryCount.getSingleResult();\r\n```\r\n\r\nWhen i fix the castexception to that:\r\n\r\n```java\r\nreturn ((BigInteger)queryCount.getSingleResult()).intValue();\r\n```\r\n\r\nThen the tests are succesful but sadly iam getting an ClassCastException when i start the application and calling the service with the &quot;real&quot; Db2 Database. In that case BigInteger cannot be casted to Integer.\r\n\r\napplication-h2test.properties:\r\n\r\n```java\r\nspring.jpa.properties.hibernate.dialect=org.hibernate.dialect.DB2Dialect\r\n```\r\n\r\nConfig\r\n\r\n```java\r\n@Configuration\r\n@EnableTransactionManagement\r\npublic class SomethingConfig {\r\n//...\r\n   @Bean\r\n    @Profile(&quot;h2test&quot;)\r\n    @ConfigurationProperties(prefix = &quot;spring.datasource&quot;)\r\n    DataSource h2DataSource() {\r\n        DriverManagerDataSource dataSource = new DriverManagerDataSource();\r\n        dataSource.setDriverClassName(&quot;org.h2.Driver&quot;);\r\n        dataSource.setUrl(\r\n&quot;jdbc:h2:mem:testdb;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=FALSE;MODE=DB2&quot;);\r\n        dataSource.setUsername(&quot;sa&quot;);\r\n        dataSource.setPassword(&quot;&quot;);\r\n\r\n        return dataSource;\r\n    }\r\n//...\r\n}\r\n```\r\n\r\nSomethingServiceTest\r\n\r\n```java\r\n@ActiveProfiles(&quot;h2test&quot;)\r\n@SpringBootTest\r\nclass SomethingServiceTest {\r\n\r\n    @Autowired\r\n    SomethingService sut;\r\n\r\n    @Test\r\n    void givenYWhenXThenZ() {\r\n         this.sut.getSomething(); //In the Implementation the ClassCastException is thrown\r\n    }\r\n}\r\n```\r\n\r\ndata.sql\r\n\r\n```sql\r\nSET MODE DB2;\r\n```\r\n\r\nI have tried several things, for example I have changed the dialect (DB2390,DB2400) and the mode in the application properties or the config.\r\n\r\nThe only solution i have currently in mind, is that i could catch the ClassCastException and  when the Exception happens i will cast it to the Biginteger so that the test is successful.\r\n\r\nHowever, I don&#39;t like to implement logic into a service that the test is succesful. Do you have another approach / idea ?\r\n\r\n\r\n","title":"Spring Boot Tests with H2 Database causing ClassCastException","body":"<p>I'm getting this ClassCastException during testing one of my services:</p>\n<pre><code>java.lang.ClassCastException: class java.math.BigInteger cannot be cast to class java.lang.Integer (java.math.BigInteger and java.lang.Integer are in module java.base of loader 'bootstrap')\n</code></pre>\n<p>In that service there are multiple createNativeQuery-counts like this:</p>\n<pre><code>Query queryCount = em.createNativeQuery(sqlCount);\nreturn (Integer)queryCount.getSingleResult();\n</code></pre>\n<p>When i fix the castexception to that:</p>\n<pre class=\"lang-java prettyprint-override\"><code>return ((BigInteger)queryCount.getSingleResult()).intValue();\n</code></pre>\n<p>Then the tests are succesful but sadly iam getting an ClassCastException when i start the application and calling the service with the &quot;real&quot; Db2 Database. In that case BigInteger cannot be casted to Integer.</p>\n<p>application-h2test.properties:</p>\n<pre class=\"lang-java prettyprint-override\"><code>spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.DB2Dialect\n</code></pre>\n<p>Config</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\n@EnableTransactionManagement\npublic class SomethingConfig {\n//...\n   @Bean\n    @Profile(&quot;h2test&quot;)\n    @ConfigurationProperties(prefix = &quot;spring.datasource&quot;)\n    DataSource h2DataSource() {\n        DriverManagerDataSource dataSource = new DriverManagerDataSource();\n        dataSource.setDriverClassName(&quot;org.h2.Driver&quot;);\n        dataSource.setUrl(\n&quot;jdbc:h2:mem:testdb;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=FALSE;MODE=DB2&quot;);\n        dataSource.setUsername(&quot;sa&quot;);\n        dataSource.setPassword(&quot;&quot;);\n\n        return dataSource;\n    }\n//...\n}\n</code></pre>\n<p>SomethingServiceTest</p>\n<pre class=\"lang-java prettyprint-override\"><code>@ActiveProfiles(&quot;h2test&quot;)\n@SpringBootTest\nclass SomethingServiceTest {\n\n    @Autowired\n    SomethingService sut;\n\n    @Test\n    void givenYWhenXThenZ() {\n         this.sut.getSomething(); //In the Implementation the ClassCastException is thrown\n    }\n}\n</code></pre>\n<p>data.sql</p>\n<pre class=\"lang-sql prettyprint-override\"><code>SET MODE DB2;\n</code></pre>\n<p>I have tried several things, for example I have changed the dialect (DB2390,DB2400) and the mode in the application properties or the config.</p>\n<p>The only solution i have currently in mind, is that i could catch the ClassCastException and  when the Exception happens i will cast it to the Biginteger so that the test is successful.</p>\n<p>However, I don't like to implement logic into a service that the test is succesful. Do you have another approach / idea ?</p>\n"},{"tags":["java","android","themoviedb-api"],"answers":[{"tags":[],"owner":{"account_id":4949365,"reputation":107,"user_id":3983863,"display_name":"Hanaa Mohamed"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1464541726,"creation_date":1464541726,"answer_id":37512689,"question_id":37512575,"body_markdown":"you have to check that url in picasso it returns the whole data not the image url, try to add the value of poster_path to the right url \r\n","title":"Movie Poster Not Displaying w/ TheMovieDB","body":"<p>you have to check that url in picasso it returns the whole data not the image url, try to add the value of poster_path to the right url </p>\n"},{"comments":[{"owner":{"account_id":6433853,"reputation":813,"user_id":4986035,"accept_rate":93,"display_name":"mur7ay"},"score":0,"creation_date":1464542900,"post_id":37512775,"comment_id":62519177,"body_markdown":"Oh, so I can&#39;t just say popular/poster_path and with would display the posters?","body":"Oh, so I can&#39;t just say popular/poster_path and with would display the posters?"},{"owner":{"account_id":5833565,"reputation":793,"user_id":4597347,"display_name":"Andan H M"},"score":0,"creation_date":1464543218,"post_id":37512775,"comment_id":62519252,"body_markdown":"No that url not available. I tried that url. Response {status_code: 34}","body":"No that url not available. I tried that url. Response {status_code: 34}"}],"tags":[],"owner":{"account_id":5833565,"reputation":793,"user_id":4597347,"display_name":"Andan H M"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1464542197,"creation_date":1464542197,"answer_id":37512775,"question_id":37512575,"body_markdown":"Above mentioned API will give popular movie list this..\r\n\r\n    results: [\r\n    {\r\n    poster_path: &quot;/inVq3FRqcYIRl2la8iZikYYxFNR.jpg&quot;,\r\n    adult: false,\r\n    overview: &quot;life.&quot;,\r\n    release_date: &quot;2016-02-09&quot;,\r\n    backdrop_path: &quot;/nbIrDhOtUpdD9HKDBRy02a8VhpV.jpg&quot;,\r\n    popularity: 91.92864,\r\n    vote_count: 3497,\r\n    video: false,\r\n    vote_average: 7.2\r\n    }\r\n    ]\r\n\r\nExtract poster_path of which movie image you want to display \r\nUse the below URL to display image http://image.tmdb.org/t/p/w500/inVq3FRqcYIRl2la8iZikYYxFNR.jpg\r\n\r\nYou can find the document here http://docs.themoviedb.apiary.io/#reference/configuration/configuration","title":"Movie Poster Not Displaying w/ TheMovieDB","body":"<p>Above mentioned API will give popular movie list this..</p>\n\n<pre><code>results: [\n{\nposter_path: \"/inVq3FRqcYIRl2la8iZikYYxFNR.jpg\",\nadult: false,\noverview: \"life.\",\nrelease_date: \"2016-02-09\",\nbackdrop_path: \"/nbIrDhOtUpdD9HKDBRy02a8VhpV.jpg\",\npopularity: 91.92864,\nvote_count: 3497,\nvideo: false,\nvote_average: 7.2\n}\n]\n</code></pre>\n\n<p>Extract poster_path of which movie image you want to display \nUse the below URL to display image <a href=\"http://image.tmdb.org/t/p/w500/inVq3FRqcYIRl2la8iZikYYxFNR.jpg\" rel=\"nofollow\">http://image.tmdb.org/t/p/w500/inVq3FRqcYIRl2la8iZikYYxFNR.jpg</a></p>\n\n<p>You can find the document here <a href=\"http://docs.themoviedb.apiary.io/#reference/configuration/configuration\" rel=\"nofollow\">http://docs.themoviedb.apiary.io/#reference/configuration/configuration</a></p>\n"},{"tags":[],"owner":{"account_id":15536839,"reputation":173,"user_id":11208815,"display_name":"Abdulrazzak Alsssouki"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691775649,"creation_date":1691775649,"answer_id":76885695,"question_id":37512575,"body_markdown":"For anyone looking for a soultion in 2023,\r\n you need to use this new link: https://image.tmdb.org/t/p/original/[posterpath]","title":"Movie Poster Not Displaying w/ TheMovieDB","body":"<p>For anyone looking for a soultion in 2023,\nyou need to use this new link: <a href=\"https://image.tmdb.org/t/p/original/%5Bposterpath%5D\" rel=\"nofollow noreferrer\">https://image.tmdb.org/t/p/original/[posterpath]</a></p>\n"}],"owner":{"account_id":6433853,"reputation":813,"user_id":4986035,"accept_rate":93,"display_name":"mur7ay"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2496,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":37512775,"answer_count":3,"score":0,"last_activity_date":1691775649,"creation_date":1464541048,"question_id":37512575,"body_markdown":"I&#39;m not exactly sure what I&#39;m missing, but I&#39;ve been trying to get the most popular movie posters to display in a gridview from themoviedb API utilizing the Picasso library. Anyone know what I&#39;m doing wrong? \r\n\r\nHere&#39;s my ImageAdapter: \r\n\r\n    public class ImageAdapter extends BaseAdapter {\r\n    \r\n        private Context mContext;\r\n    \r\n        public ImageAdapter(Context c) {\r\n            mContext = c;\r\n        }\r\n    \r\n        public int getCount() {\r\n            return 20;\r\n        }\r\n    \r\n        public Object getItem(int position) {\r\n            return null;\r\n        }\r\n    \r\n        public long getItemId(int position) {\r\n            return 0;\r\n        }\r\n    \r\n        // create a new ImageView for each item referenced by the Adapter\r\n        public View getView(int position, View convertView, ViewGroup parent) {\r\n            ImageView imageView;\r\n            if (convertView == null) {\r\n                // if it&#39;s not recycled, initialize some attributes\r\n                imageView = new ImageView(mContext);\r\n                imageView.setScaleType(ImageView.ScaleType.CENTER_CROP);\r\n                Picasso.with(mContext).load(&quot;https://api.themoviedb.org/3/movie/popular?api_key={APIKEY_HERE}&amp;poster_path&amp;images&quot;).into(imageView);\r\n            } else {\r\n                imageView = (ImageView) convertView;\r\n            }\r\n    \r\n            return imageView;\r\n        }\r\n    \r\n    } \r\n","title":"Movie Poster Not Displaying w/ TheMovieDB","body":"<p>I'm not exactly sure what I'm missing, but I've been trying to get the most popular movie posters to display in a gridview from themoviedb API utilizing the Picasso library. Anyone know what I'm doing wrong? </p>\n\n<p>Here's my ImageAdapter: </p>\n\n<pre><code>public class ImageAdapter extends BaseAdapter {\n\n    private Context mContext;\n\n    public ImageAdapter(Context c) {\n        mContext = c;\n    }\n\n    public int getCount() {\n        return 20;\n    }\n\n    public Object getItem(int position) {\n        return null;\n    }\n\n    public long getItemId(int position) {\n        return 0;\n    }\n\n    // create a new ImageView for each item referenced by the Adapter\n    public View getView(int position, View convertView, ViewGroup parent) {\n        ImageView imageView;\n        if (convertView == null) {\n            // if it's not recycled, initialize some attributes\n            imageView = new ImageView(mContext);\n            imageView.setScaleType(ImageView.ScaleType.CENTER_CROP);\n            Picasso.with(mContext).load(\"https://api.themoviedb.org/3/movie/popular?api_key={APIKEY_HERE}&amp;poster_path&amp;images\").into(imageView);\n        } else {\n            imageView = (ImageView) convertView;\n        }\n\n        return imageView;\n    }\n\n} \n</code></pre>\n"},{"tags":["java","asciidoc","asciidoctor"],"answers":[{"tags":[],"owner":{"account_id":137535,"reputation":4952,"user_id":341772,"accept_rate":60,"display_name":"Max"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688512221,"creation_date":1688512221,"answer_id":76616252,"question_id":76615699,"body_markdown":"Given how many points you have, I&#39;m guessing you probably have _some_ idea how to do this, and are hoping for something clever. But something like writing compiling books might be niche enough that you have to DIY something yourself. I&#39;m kinda spitballing here about what I would personally do, so apologies in advance if the answer seems meh quality.\r\n\r\nThis problem can be broken into a few parts:\r\n\r\n1. How to represent the code?\r\n2. How to run the code, and capture the output?\r\n3. How to convert that output into something AsciiDoc can understand?\r\n4. How to actually wire it into the AsciiDoc build?\r\n\r\n---\r\n\r\n# Representing the code\r\n\r\nFor each code snippet, I&#39;d write a little class with a main method, and then demarcate the part you want to extract using comments, similar to how many static analysis tools use comments to toggle off/on.\r\n\r\n```java\r\npublic class MySnippet {\r\n  // SNIPPET:ON\r\n  public void mySnippet() {\r\n    System.out.println(&quot;Hello world!&quot;);\r\n  }\r\n  // SNIPPET:OFF\r\n\r\n  public static void main(String[] args) {\r\n    mySnippet();\r\n  }\r\n}\r\n```\r\n\r\nThis would be enough to handle snippets that directly stuff out. If you want your snippets to be expressions (instead of statements/methods)...that might be trickier. But even in the above case, you have options; you could return something and print it from the main method (so you don&#39;t have printlns in every snippet) or you could move the snippet comments inside the method.\r\n\r\n# Running the code\r\n\r\nIf you have a file `src/main/org/example/MySnippet.java`, you really just want to run `org.example.MySnippet`&#39;s main method. If you&#39;re using Gradle, the most galaxy-brain way to do this would probably be writing a small [Gradle plugin](https://docs.gradle.org/current/userguide/custom_plugins.html) that uses [annotation processing](https://docs.oracle.com/en/java/javase/17/docs/api/java.compiler/javax/annotation/processing/Processor.html), but there are scrappier ways to do this. I&#39;d see about writing a Gradle task to scan for files in some particular directory (e.g. `/src/main/org/example/*.java`), convert those file paths into class names, and then dynamically generating [JavaExec](https://docs.gradle.org/current/dsl/org.gradle.api.tasks.JavaExec.html) tasks during Gradle&#39;s [configuration phase](https://docs.gradle.org/current/userguide/build_lifecycle.html#sec:build_phases) that will run every main method and write their output to different files. JavaExec has a `standardOutput` field that should prove useful. Fiddling with the whitespace indents might be a pain, in which case I suppose you could simply not indent those lines of code.\r\n\r\nFor each file found this way, you&#39;d want to slice out those comments mentioned in the previous step, and perhaps write this out to the same stdout file before the JavaExec has a chance to run...depending on how exactly you want your snippets to look. In this case, it could be &quot;Here&#39;s the code, then a horizontal rule, then the output&quot;. Emitting the output inline or near the line that executed it would be trickier.\r\n\r\n# Converting to AsciiDoc\r\n\r\nTheoretically, at this point you have `build/generated/snippets*.txt` files or something with just the raw output. You _could_ have another task that converts these txt files to adoc snippets, or...the previous step could just emit valid adoc snippets to begin with, which would save some trouble.\r\n\r\n# Wiring into AsciiDoc\r\n\r\nYou could, and long term maybe _should_, combine these into a single Gradle project, but it&#39;d also be easy to make them separate projects that must be checked out next to each other -- `book/` and `book_samples/` as sibling directories. In your book, you&#39;d just need to import ../../../ enough times to get into the build/generated/* of the other project.\r\n\r\n---\r\n\r\nI wasn&#39;t able to be too prescriptive here, but I hope this is still a good lead. You&#39;ll definitely have to learn some build tooling (e.g. custom Gradle/Maven tasks) if you haven&#39;t already, unless you do end up finding a tool that already does this.","title":"Execute Java code, and capture output, to be included in a book written in AsciiDoc","body":"<p>Given how many points you have, I'm guessing you probably have <em>some</em> idea how to do this, and are hoping for something clever. But something like writing compiling books might be niche enough that you have to DIY something yourself. I'm kinda spitballing here about what I would personally do, so apologies in advance if the answer seems meh quality.</p>\n<p>This problem can be broken into a few parts:</p>\n<ol>\n<li>How to represent the code?</li>\n<li>How to run the code, and capture the output?</li>\n<li>How to convert that output into something AsciiDoc can understand?</li>\n<li>How to actually wire it into the AsciiDoc build?</li>\n</ol>\n<hr />\n<h1>Representing the code</h1>\n<p>For each code snippet, I'd write a little class with a main method, and then demarcate the part you want to extract using comments, similar to how many static analysis tools use comments to toggle off/on.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class MySnippet {\n  // SNIPPET:ON\n  public void mySnippet() {\n    System.out.println(&quot;Hello world!&quot;);\n  }\n  // SNIPPET:OFF\n\n  public static void main(String[] args) {\n    mySnippet();\n  }\n}\n</code></pre>\n<p>This would be enough to handle snippets that directly stuff out. If you want your snippets to be expressions (instead of statements/methods)...that might be trickier. But even in the above case, you have options; you could return something and print it from the main method (so you don't have printlns in every snippet) or you could move the snippet comments inside the method.</p>\n<h1>Running the code</h1>\n<p>If you have a file <code>src/main/org/example/MySnippet.java</code>, you really just want to run <code>org.example.MySnippet</code>'s main method. If you're using Gradle, the most galaxy-brain way to do this would probably be writing a small <a href=\"https://docs.gradle.org/current/userguide/custom_plugins.html\" rel=\"nofollow noreferrer\">Gradle plugin</a> that uses <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.compiler/javax/annotation/processing/Processor.html\" rel=\"nofollow noreferrer\">annotation processing</a>, but there are scrappier ways to do this. I'd see about writing a Gradle task to scan for files in some particular directory (e.g. <code>/src/main/org/example/*.java</code>), convert those file paths into class names, and then dynamically generating <a href=\"https://docs.gradle.org/current/dsl/org.gradle.api.tasks.JavaExec.html\" rel=\"nofollow noreferrer\">JavaExec</a> tasks during Gradle's <a href=\"https://docs.gradle.org/current/userguide/build_lifecycle.html#sec:build_phases\" rel=\"nofollow noreferrer\">configuration phase</a> that will run every main method and write their output to different files. JavaExec has a <code>standardOutput</code> field that should prove useful. Fiddling with the whitespace indents might be a pain, in which case I suppose you could simply not indent those lines of code.</p>\n<p>For each file found this way, you'd want to slice out those comments mentioned in the previous step, and perhaps write this out to the same stdout file before the JavaExec has a chance to run...depending on how exactly you want your snippets to look. In this case, it could be &quot;Here's the code, then a horizontal rule, then the output&quot;. Emitting the output inline or near the line that executed it would be trickier.</p>\n<h1>Converting to AsciiDoc</h1>\n<p>Theoretically, at this point you have <code>build/generated/snippets*.txt</code> files or something with just the raw output. You <em>could</em> have another task that converts these txt files to adoc snippets, or...the previous step could just emit valid adoc snippets to begin with, which would save some trouble.</p>\n<h1>Wiring into AsciiDoc</h1>\n<p>You could, and long term maybe <em>should</em>, combine these into a single Gradle project, but it'd also be easy to make them separate projects that must be checked out next to each other -- <code>book/</code> and <code>book_samples/</code> as sibling directories. In your book, you'd just need to import ../../../ enough times to get into the build/generated/* of the other project.</p>\n<hr />\n<p>I wasn't able to be too prescriptive here, but I hope this is still a good lead. You'll definitely have to learn some build tooling (e.g. custom Gradle/Maven tasks) if you haven't already, unless you do end up finding a tool that already does this.</p>\n"}],"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":85,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1691775491,"creation_date":1688502443,"question_id":76615699,"body_markdown":"I am writing a technical book for Java programming in [AsciiDoc][1] format, using [the *AsciiDoctor* plugin][2] for the [*IntelliJ*][3] [IDE][4].\r\n\r\nI have seen how to include snippets of code from a Java source code file.\r\n\r\nI have heard of people also executing Java source code, then capturing output from that code for inclusion within the AsciiDoc content. But I have no idea how to do this. \r\n\r\n&#128073; Is running Java code and capturing output into AsciiDoc really possible? If so:\r\n\r\n- Should the Java code be included in a single project also containing the AsciiDoc content files? Or should the Java code and the AsciiDoc-formatted book content be contained in two separate distinct projects?\r\n- If the Java project is driven by [Maven][5] or [Gradle][6], how do we hook AsciiDoc into the build process? When changing the Java source code, can we update the code snippet and freshen the output over in the AsciiDoc-formatted content files?\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/AsciiDoc\r\n  [2]: https://plugins.jetbrains.com/plugin/7391-asciidoc\r\n  [3]: https://en.wikipedia.org/wiki/IntelliJ_IDEA\r\n  [4]: https://en.wikipedia.org/wiki/Integrated_development_environment\r\n  [5]: https://en.wikipedia.org/wiki/Apache_Maven\r\n  [6]: https://en.wikipedia.org/wiki/Gradle","title":"Execute Java code, and capture output, to be included in a book written in AsciiDoc","body":"<p>I am writing a technical book for Java programming in <a href=\"https://en.wikipedia.org/wiki/AsciiDoc\" rel=\"nofollow noreferrer\">AsciiDoc</a> format, using <a href=\"https://plugins.jetbrains.com/plugin/7391-asciidoc\" rel=\"nofollow noreferrer\">the <em>AsciiDoctor</em> plugin</a> for the <a href=\"https://en.wikipedia.org/wiki/IntelliJ_IDEA\" rel=\"nofollow noreferrer\"><em>IntelliJ</em></a> <a href=\"https://en.wikipedia.org/wiki/Integrated_development_environment\" rel=\"nofollow noreferrer\">IDE</a>.</p>\n<p>I have seen how to include snippets of code from a Java source code file.</p>\n<p>I have heard of people also executing Java source code, then capturing output from that code for inclusion within the AsciiDoc content. But I have no idea how to do this.</p>\n<p>👉 Is running Java code and capturing output into AsciiDoc really possible? If so:</p>\n<ul>\n<li>Should the Java code be included in a single project also containing the AsciiDoc content files? Or should the Java code and the AsciiDoc-formatted book content be contained in two separate distinct projects?</li>\n<li>If the Java project is driven by <a href=\"https://en.wikipedia.org/wiki/Apache_Maven\" rel=\"nofollow noreferrer\">Maven</a> or <a href=\"https://en.wikipedia.org/wiki/Gradle\" rel=\"nofollow noreferrer\">Gradle</a>, how do we hook AsciiDoc into the build process? When changing the Java source code, can we update the code snippet and freshen the output over in the AsciiDoc-formatted content files?</li>\n</ul>\n"},{"tags":["java","types","comparison"],"comments":[{"owner":{"account_id":682692,"reputation":49061,"user_id":535275,"accept_rate":91,"display_name":"Scott Hunter"},"score":0,"creation_date":1691775316,"post_id":76885651,"comment_id":135542159,"body_markdown":"Why do you think it should?","body":"Why do you think it should?"},{"owner":{"account_id":22223630,"reputation":73,"user_id":16460888,"display_name":"Super Coder"},"score":0,"creation_date":1691775453,"post_id":76885651,"comment_id":135542180,"body_markdown":"if the value of the 64-bit datatype value is larger than the limit of the 32-bit datatype value, then comparison should not be possible...","body":"if the value of the 64-bit datatype value is larger than the limit of the 32-bit datatype value, then comparison should not be possible..."},{"owner":{"account_id":682692,"reputation":49061,"user_id":535275,"accept_rate":91,"display_name":"Scott Hunter"},"score":0,"creation_date":1691775886,"post_id":76885651,"comment_id":135542243,"body_markdown":"Why not?  Can&#39;t you just tell the 64-bit value is bigger without actually even knowing what the 32-bit value is?","body":"Why not?  Can&#39;t you just tell the 64-bit value is bigger without actually even knowing what the 32-bit value is?"},{"owner":{"account_id":1888781,"reputation":2007,"user_id":1707427,"display_name":"S&#246;ren"},"score":0,"creation_date":1691775999,"post_id":76885651,"comment_id":135542264,"body_markdown":"What answer do you expect other than &quot;Because the JLS doesn&#39;t say that it should&quot;?","body":"What answer do you expect other than &quot;Because the JLS doesn&#39;t say that it should&quot;?"},{"owner":{"account_id":22223630,"reputation":73,"user_id":16460888,"display_name":"Super Coder"},"score":0,"creation_date":1691776181,"post_id":76885651,"comment_id":135542304,"body_markdown":"@ScottHunter but it equalises for some values like 512","body":"@ScottHunter but it equalises for some values like 512"},{"owner":{"account_id":22223630,"reputation":73,"user_id":16460888,"display_name":"Super Coder"},"score":0,"creation_date":1691776352,"post_id":76885651,"comment_id":135542345,"body_markdown":"@S&#246;ren Then consider my question as &quot;Why does the JLS not say that it should ?&quot;","body":"@S&#246;ren Then consider my question as &quot;Why does the JLS not say that it should ?&quot;"},{"owner":{"account_id":1888781,"reputation":2007,"user_id":1707427,"display_name":"S&#246;ren"},"score":0,"creation_date":1691776590,"post_id":76885651,"comment_id":135542388,"body_markdown":"Because no on wrote it in there. Unless one of the authors of the JLS pitches in, this question is impossible to answer.","body":"Because no on wrote it in there. Unless one of the authors of the JLS pitches in, this question is impossible to answer."},{"owner":{"account_id":14327066,"reputation":141,"user_id":10348872,"display_name":"Shovel_Knight"},"score":0,"creation_date":1691776659,"post_id":76885651,"comment_id":135542399,"body_markdown":"@SuperCoder Java is smart and it is performing type coercion behind the scene. This makes all sorts of comparisons possible, e.g. `int` to `long`, `byte` to `float` etc.","body":"@SuperCoder Java is smart and it is performing type coercion behind the scene. This makes all sorts of comparisons possible, e.g. <code>int</code> to <code>long</code>, <code>byte</code> to <code>float</code> etc."},{"owner":{"account_id":22223630,"reputation":73,"user_id":16460888,"display_name":"Super Coder"},"score":0,"creation_date":1691776849,"post_id":76885651,"comment_id":135542434,"body_markdown":"@Shovel_Knight so it typecasts to a similar datatype. What datatype is it typecasting both of the variables to ? `int` or `long` ?","body":"@Shovel_Knight so it typecasts to a similar datatype. What datatype is it typecasting both of the variables to ? <code>int</code> or <code>long</code> ?"},{"owner":{"account_id":14327066,"reputation":141,"user_id":10348872,"display_name":"Shovel_Knight"},"score":0,"creation_date":1691777116,"post_id":76885651,"comment_id":135542490,"body_markdown":"@SuperCoder not every `double` can be converted into a valid `int`, but every `int` can be converted into a valid `double`, so I would assume that in your case Java is casting `int` to `double` before actually comparing them.","body":"@SuperCoder not every <code>double</code> can be converted into a valid <code>int</code>, but every <code>int</code> can be converted into a valid <code>double</code>, so I would assume that in your case Java is casting <code>int</code> to <code>double</code> before actually comparing them."},{"owner":{"account_id":3212023,"reputation":1016,"user_id":17856705,"display_name":"Computable"},"score":3,"creation_date":1691777554,"post_id":76885651,"comment_id":135542555,"body_markdown":"Under JLS 15.21.1 &quot;Numerical equality operators&quot;, &quot;...binary numeric promotion is performed on the operands&quot; (5.6) - this leads to &quot;widening primitive conversion&quot; which states &quot;If either operand is of type double, the other is converted to double.&quot;.","body":"Under JLS 15.21.1 &quot;Numerical equality operators&quot;, &quot;...binary numeric promotion is performed on the operands&quot; (5.6) - this leads to &quot;widening primitive conversion&quot; which states &quot;If either operand is of type double, the other is converted to double.&quot;."}],"owner":{"account_id":22223630,"reputation":73,"user_id":16460888,"display_name":"Super Coder"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1691846442,"answer_count":0,"score":0,"last_activity_date":1691775129,"creation_date":1691775129,"question_id":76885651,"body_markdown":"I wrote a simple program in java for finding out whether a number is a dudeney number or not :\r\n``` java\r\nimport java.util.Scanner ;\r\npublic class dudeney_number\r\n{\r\n    public static void main()\r\n    {\r\n        Scanner sc = new Scanner(System.in) ;\r\n        System.out.print(&quot;Enter a number : &quot;) ;\r\n        int n = sc.nextInt() ;\r\n        int temp = n ;\r\n        int sum = 0 ;\r\n        while(temp!=0)\r\n        {\r\n            sum+=temp%10 ;\r\n            temp/=10 ;\r\n        }\r\n        \r\n        if(sum==Math.cbrt(n))\r\n        {\r\n            System.out.println(&quot;Dudeney number&quot;) ;\r\n        } else {\r\n            System.out.println(&quot;Not a dudeney number&quot;) ;\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nI create a Scanner object (`sc`), input a number from the user (`n`) and find out the sum of the digits in the entered number (`sum`). I then check for equality between the sum of the digits and the cube root of the number entered using `Math.cbrt(n)` . &lt;br&gt;\r\n&lt;br&gt;\r\n`sum` is an integer value with datatype `int` .  `Math.cbrt(n)` returns a `double` value. &lt;br&gt;\r\nWhy does the compiler not return an error when a *32-bit* and a *64-bit* value is compared ?","title":"Dudeney Number program does not show error when int is equated to double","body":"<p>I wrote a simple program in java for finding out whether a number is a dudeney number or not :</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Scanner ;\npublic class dudeney_number\n{\n    public static void main()\n    {\n        Scanner sc = new Scanner(System.in) ;\n        System.out.print(&quot;Enter a number : &quot;) ;\n        int n = sc.nextInt() ;\n        int temp = n ;\n        int sum = 0 ;\n        while(temp!=0)\n        {\n            sum+=temp%10 ;\n            temp/=10 ;\n        }\n        \n        if(sum==Math.cbrt(n))\n        {\n            System.out.println(&quot;Dudeney number&quot;) ;\n        } else {\n            System.out.println(&quot;Not a dudeney number&quot;) ;\n        }\n    }\n}\n</code></pre>\n<p>I create a Scanner object (<code>sc</code>), input a number from the user (<code>n</code>) and find out the sum of the digits in the entered number (<code>sum</code>). I then check for equality between the sum of the digits and the cube root of the number entered using <code>Math.cbrt(n)</code> . <br>\n<br>\n<code>sum</code> is an integer value with datatype <code>int</code> .  <code>Math.cbrt(n)</code> returns a <code>double</code> value. <br>\nWhy does the compiler not return an error when a <em>32-bit</em> and a <em>64-bit</em> value is compared ?</p>\n"},{"tags":["java","android","android-room"],"answers":[{"comments":[{"owner":{"account_id":29166524,"reputation":1,"user_id":22343964,"display_name":"Chig Bungus"},"score":0,"creation_date":1691863677,"post_id":76885591,"comment_id":135550100,"body_markdown":"Thanks. I used methods without really knowing what they do, ofc there will be errors.","body":"Thanks. I used methods without really knowing what they do, ofc there will be errors."}],"tags":[],"owner":{"account_id":28756329,"reputation":54,"user_id":22023284,"display_name":"Mergo"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691775049,"creation_date":1691774542,"answer_id":76885591,"question_id":76885504,"body_markdown":"There&#39;s no database insertion code in the neuePeriodeVorbereiten function. You&#39;re creating a Zyklen object but not inserting it into the database.\r\n\r\nIf you want to receive a result from another activity you should use startActivityForResult(). You aren&#39;t using startActivityForResult anywhere to start NeuePeriodeActivity, hence onActivityResult will not be triggered when you return from NeuePeriodeActivity\r\n\r\nAlso: The onActivityResult method is now deprecated. Instead, use the new Activity Result API.","title":"Android, Java: Room DB and/or RecyclerView don&#39;t update","body":"<p>There's no database insertion code in the neuePeriodeVorbereiten function. You're creating a Zyklen object but not inserting it into the database.</p>\n<p>If you want to receive a result from another activity you should use startActivityForResult(). You aren't using startActivityForResult anywhere to start NeuePeriodeActivity, hence onActivityResult will not be triggered when you return from NeuePeriodeActivity</p>\n<p>Also: The onActivityResult method is now deprecated. Instead, use the new Activity Result API.</p>\n"}],"owner":{"account_id":29166524,"reputation":1,"user_id":22343964,"display_name":"Chig Bungus"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1691775049,"creation_date":1691773536,"question_id":76885504,"body_markdown":"In my app, the user can put in a date through a datepicker. When the user clicks a button, the difference to another date (which is taken from SharedPreferences) is calculated and both dates are converted to Strings. These 3 Strings are then saved in a Room DB. after all this is done, another activity is started, where a Recyclerview displays all objects of the database.\r\n\r\nThe problem is, that nothing is displayed in the recyclerview. There isn&#39;t even a error message, so I don&#39;t know where to start.\r\nIn this app, the same database stores already a different table. Its objects are also displayed with a recyclerview and there are no problems.\r\n\r\nThe Activity, where the date is typed in and saved:\r\n```\r\npublic class NeuePeriodeActivity extends AppCompatActivity {\r\n\r\n    private ActivityNeuePeriodeBinding binding;\r\n    Zyklen zyklus;\r\n    String laengeDb;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        binding = ActivityNeuePeriodeBinding.inflate(getLayoutInflater());\r\n        View view = binding.getRoot();\r\n        setContentView(view);\r\n\r\n        binding.btnSpeichern.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                neuePeriodeVorbereiten();\r\n                finish();\r\n            }\r\n        });\r\n    }\r\n\r\n    private View.OnClickListener neuePeriodeVorbereiten() {\r\n        SharedPreferences prefs = getApplicationContext().getSharedPreferences(&quot;SharedPrefs&quot;, Context.MODE_PRIVATE);\r\n        int tag = binding.datepickerNeuePeriode.getDayOfMonth();\r\n        String monatStrFertig;\r\n        String tagStrFertig;\r\n        String jahr = Integer.toString(binding.datepickerNeuePeriode.getYear());\r\n        int monat = binding.datepickerNeuePeriode.getMonth();\r\n        monat += 1;\r\n        if(tag&lt;10){\r\n            String tagStr = Integer.toString(tag);\r\n            tagStrFertig = &quot;0&quot;+tagStr;\r\n        }else{\r\n            tagStrFertig = Integer.toString(tag);\r\n        }\r\n        if(monat&lt;10){\r\n            String monatStr = Integer.toString(monat);\r\n            monatStrFertig = &quot;0&quot;+monatStr;\r\n        }else{\r\n            monatStrFertig = Integer.toString(monat);\r\n        }\r\n        String aktuellePeriode = tagStrFertig+&quot;-&quot;+monatStrFertig+&quot;-&quot;+jahr;\r\n\r\n        zyklusLaengeAusrechnen(aktuellePeriode, prefs);\r\n\r\n        DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;dd-MM-yyyy&quot;);\r\n        String letztePeriode = prefs.getString(&quot;letztePeriode&quot;, &quot;&quot;);\r\n        LocalDate date1 = parse(letztePeriode, formatter);\r\n        LocalDate date2 = parse(aktuellePeriode, formatter);\r\n        date2 = date2.minusDays(1);\r\n        DateTimeFormatter df = DateTimeFormatter.ofPattern(&quot;dd-MM-yyyy&quot;);\r\n        zyklus = new Zyklen();\r\n        zyklus.setLaenge(laengeDb);\r\n        zyklus.setStart(df.format(date1));\r\n        zyklus.setEnde(df.format(date2));\r\n\r\n        Intent intent = new Intent(NeuePeriodeActivity.this, ZusammenfassungActivity.class);\r\n        intent.putExtra(&quot;zyklus&quot;, zyklus);\r\n        setResult(Activity.RESULT_OK, intent);\r\n\r\n        neuePeriodeInPrefsSpeichern(aktuellePeriode, prefs);\r\n        return null;\r\n    }\r\n\r\n    private String zyklusLaengeAusrechnen(String neuePeriode, SharedPreferences prefs) {\r\n        DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;dd-MM-yyyy&quot;);\r\n        String letztePeriode = prefs.getString(&quot;letztePeriode&quot;, &quot;&quot;);\r\n        int laenge = Integer.parseInt(prefs.getString(&quot;laenge&quot;, &quot;&quot;));\r\n        LocalDate date1 = parse(letztePeriode, formatter);\r\n        LocalDate date2 = parse(neuePeriode, formatter);\r\n        long differenz = ChronoUnit.DAYS.between(date1, date2.plusDays(1));\r\n        laengeDb = Long.toString(differenz);\r\n        int differenzKonvertiert = Long.valueOf(differenz).intValue();\r\n        int durchschnitt = (differenzKonvertiert+laenge)/2;\r\n        String fertigeLaenge = String.valueOf(durchschnitt);\r\n        SharedPreferences.Editor editor = prefs.edit();\r\n        editor.putString(&quot;laenge&quot;, fertigeLaenge);\r\n        editor.commit();\r\n        return laengeDb;\r\n    }\r\n\r\n    public void neuePeriodeInPrefsSpeichern(String letztePeriode, SharedPreferences prefs) {\r\n        SharedPreferences.Editor editor = prefs.edit();\r\n        editor.putString(&quot;letztePeriode&quot;, letztePeriode);\r\n        editor.commit();\r\n    }\r\n}\r\n```\r\n\r\nThe activity, where the recyclerview should display the objects:\r\n```\r\npublic class ZusammenfassungActivity extends AppCompatActivity {\r\n\r\n    private ActivityZusammenfassungBinding binding;\r\n    RoomDB database_zyklen;\r\n    ZyklenListeAdapter zyklenListeAdapter;\r\n    List&lt;Zyklen&gt; zyklen = new ArrayList&lt;&gt;();\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        binding = ActivityZusammenfassungBinding.inflate(getLayoutInflater());\r\n        View view = binding.getRoot();\r\n        setContentView(view);\r\n\r\n        database_zyklen = RoomDB.getInstance(this);\r\n        zyklen = database_zyklen.zyklenDao().getAll();\r\n\r\n        updateRecycler(zyklen);\r\n\r\n        binding.buttonTagebuch.setOnClickListener(view1 -&gt; {\r\n            Intent tagebuchActivity = new Intent(ZusammenfassungActivity.this, TagebuchActivity.class);\r\n            startActivity(tagebuchActivity);\r\n        });\r\n    }\r\n\r\n    @Override\r\n    protected void onActivityResult(int requestCode, int resultCode, @Nullable Intent data) {\r\n        super.onActivityResult(requestCode, resultCode, data);\r\n        if (requestCode == 101){\r\n            if(resultCode== Activity.RESULT_OK){\r\n                Zyklen neuerZyklus = (Zyklen) data.getSerializableExtra(&quot;zyklus&quot;);\r\n                database_zyklen.zyklenDao().insert(neuerZyklus);\r\n                zyklen.clear();\r\n                zyklen.addAll(database_zyklen.zyklenDao().getAll());\r\n                zyklenListeAdapter.notifyDataSetChanged();\r\n            }\r\n        }\r\n    }\r\n\r\n    private void updateRecycler(List&lt;Zyklen&gt; zyklen) {\r\n        binding.recyclerviewZyklen.setHasFixedSize(true);\r\n        binding.recyclerviewZyklen.setLayoutManager(new LinearLayoutManager(this));\r\n        zyklenListeAdapter = new ZyklenListeAdapter(ZusammenfassungActivity.this, zyklen);\r\n        binding.recyclerviewZyklen.setAdapter(zyklenListeAdapter);\r\n    }\r\n}\r\n```\r\n\r\nThe adapter for the recyclerview:\r\n```\r\npublic class ZyklenListeAdapter extends RecyclerView.Adapter&lt;ZyklenViewHolder&gt; {\r\n\r\n    Context context;\r\n    List&lt;Zyklen&gt; liste;\r\n\r\n    public ZyklenListeAdapter(Context context, List&lt;Zyklen&gt; liste){\r\n        this.context = context;\r\n        this.liste = liste;\r\n    }\r\n\r\n    @NonNull\r\n    @Override\r\n    public ZyklenViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n        return new ZyklenViewHolder(LayoutInflater.from(context).inflate(R.layout.zyklen_liste, parent, false));\r\n    }\r\n\r\n    @Override\r\n    public void onBindViewHolder(@NonNull ZyklenViewHolder holder, int position) {\r\n        holder.textview_beschreibung.setText(liste.get(position).getStart()+&quot; - &quot;+liste.get(position).getStart()+&quot;, &quot;+liste.get(position).getLaenge()+&quot; Tage&quot;);\r\n    }\r\n\r\n    @Override\r\n    public int getItemCount() {\r\n        return liste.size();\r\n    }\r\n}\r\n\r\nclass ZyklenViewHolder extends RecyclerView.ViewHolder{\r\n    CardView cardview_zyklencontainer;\r\n    TextView textview_beschreibung;\r\n\r\n    public ZyklenViewHolder(@NonNull View itemView) {\r\n        super(itemView);\r\n        cardview_zyklencontainer = itemView.findViewById(R.id.cardview_zyklencontainer);\r\n        textview_beschreibung = itemView.findViewById(R.id.textview_beschreibung);\r\n    }\r\n}\r\n```\r\n\r\nI&#39;m kinda lost, every help is appreciated","title":"Android, Java: Room DB and/or RecyclerView don&#39;t update","body":"<p>In my app, the user can put in a date through a datepicker. When the user clicks a button, the difference to another date (which is taken from SharedPreferences) is calculated and both dates are converted to Strings. These 3 Strings are then saved in a Room DB. after all this is done, another activity is started, where a Recyclerview displays all objects of the database.</p>\n<p>The problem is, that nothing is displayed in the recyclerview. There isn't even a error message, so I don't know where to start.\nIn this app, the same database stores already a different table. Its objects are also displayed with a recyclerview and there are no problems.</p>\n<p>The Activity, where the date is typed in and saved:</p>\n<pre><code>public class NeuePeriodeActivity extends AppCompatActivity {\n\n    private ActivityNeuePeriodeBinding binding;\n    Zyklen zyklus;\n    String laengeDb;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        binding = ActivityNeuePeriodeBinding.inflate(getLayoutInflater());\n        View view = binding.getRoot();\n        setContentView(view);\n\n        binding.btnSpeichern.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                neuePeriodeVorbereiten();\n                finish();\n            }\n        });\n    }\n\n    private View.OnClickListener neuePeriodeVorbereiten() {\n        SharedPreferences prefs = getApplicationContext().getSharedPreferences(&quot;SharedPrefs&quot;, Context.MODE_PRIVATE);\n        int tag = binding.datepickerNeuePeriode.getDayOfMonth();\n        String monatStrFertig;\n        String tagStrFertig;\n        String jahr = Integer.toString(binding.datepickerNeuePeriode.getYear());\n        int monat = binding.datepickerNeuePeriode.getMonth();\n        monat += 1;\n        if(tag&lt;10){\n            String tagStr = Integer.toString(tag);\n            tagStrFertig = &quot;0&quot;+tagStr;\n        }else{\n            tagStrFertig = Integer.toString(tag);\n        }\n        if(monat&lt;10){\n            String monatStr = Integer.toString(monat);\n            monatStrFertig = &quot;0&quot;+monatStr;\n        }else{\n            monatStrFertig = Integer.toString(monat);\n        }\n        String aktuellePeriode = tagStrFertig+&quot;-&quot;+monatStrFertig+&quot;-&quot;+jahr;\n\n        zyklusLaengeAusrechnen(aktuellePeriode, prefs);\n\n        DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;dd-MM-yyyy&quot;);\n        String letztePeriode = prefs.getString(&quot;letztePeriode&quot;, &quot;&quot;);\n        LocalDate date1 = parse(letztePeriode, formatter);\n        LocalDate date2 = parse(aktuellePeriode, formatter);\n        date2 = date2.minusDays(1);\n        DateTimeFormatter df = DateTimeFormatter.ofPattern(&quot;dd-MM-yyyy&quot;);\n        zyklus = new Zyklen();\n        zyklus.setLaenge(laengeDb);\n        zyklus.setStart(df.format(date1));\n        zyklus.setEnde(df.format(date2));\n\n        Intent intent = new Intent(NeuePeriodeActivity.this, ZusammenfassungActivity.class);\n        intent.putExtra(&quot;zyklus&quot;, zyklus);\n        setResult(Activity.RESULT_OK, intent);\n\n        neuePeriodeInPrefsSpeichern(aktuellePeriode, prefs);\n        return null;\n    }\n\n    private String zyklusLaengeAusrechnen(String neuePeriode, SharedPreferences prefs) {\n        DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;dd-MM-yyyy&quot;);\n        String letztePeriode = prefs.getString(&quot;letztePeriode&quot;, &quot;&quot;);\n        int laenge = Integer.parseInt(prefs.getString(&quot;laenge&quot;, &quot;&quot;));\n        LocalDate date1 = parse(letztePeriode, formatter);\n        LocalDate date2 = parse(neuePeriode, formatter);\n        long differenz = ChronoUnit.DAYS.between(date1, date2.plusDays(1));\n        laengeDb = Long.toString(differenz);\n        int differenzKonvertiert = Long.valueOf(differenz).intValue();\n        int durchschnitt = (differenzKonvertiert+laenge)/2;\n        String fertigeLaenge = String.valueOf(durchschnitt);\n        SharedPreferences.Editor editor = prefs.edit();\n        editor.putString(&quot;laenge&quot;, fertigeLaenge);\n        editor.commit();\n        return laengeDb;\n    }\n\n    public void neuePeriodeInPrefsSpeichern(String letztePeriode, SharedPreferences prefs) {\n        SharedPreferences.Editor editor = prefs.edit();\n        editor.putString(&quot;letztePeriode&quot;, letztePeriode);\n        editor.commit();\n    }\n}\n</code></pre>\n<p>The activity, where the recyclerview should display the objects:</p>\n<pre><code>public class ZusammenfassungActivity extends AppCompatActivity {\n\n    private ActivityZusammenfassungBinding binding;\n    RoomDB database_zyklen;\n    ZyklenListeAdapter zyklenListeAdapter;\n    List&lt;Zyklen&gt; zyklen = new ArrayList&lt;&gt;();\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        binding = ActivityZusammenfassungBinding.inflate(getLayoutInflater());\n        View view = binding.getRoot();\n        setContentView(view);\n\n        database_zyklen = RoomDB.getInstance(this);\n        zyklen = database_zyklen.zyklenDao().getAll();\n\n        updateRecycler(zyklen);\n\n        binding.buttonTagebuch.setOnClickListener(view1 -&gt; {\n            Intent tagebuchActivity = new Intent(ZusammenfassungActivity.this, TagebuchActivity.class);\n            startActivity(tagebuchActivity);\n        });\n    }\n\n    @Override\n    protected void onActivityResult(int requestCode, int resultCode, @Nullable Intent data) {\n        super.onActivityResult(requestCode, resultCode, data);\n        if (requestCode == 101){\n            if(resultCode== Activity.RESULT_OK){\n                Zyklen neuerZyklus = (Zyklen) data.getSerializableExtra(&quot;zyklus&quot;);\n                database_zyklen.zyklenDao().insert(neuerZyklus);\n                zyklen.clear();\n                zyklen.addAll(database_zyklen.zyklenDao().getAll());\n                zyklenListeAdapter.notifyDataSetChanged();\n            }\n        }\n    }\n\n    private void updateRecycler(List&lt;Zyklen&gt; zyklen) {\n        binding.recyclerviewZyklen.setHasFixedSize(true);\n        binding.recyclerviewZyklen.setLayoutManager(new LinearLayoutManager(this));\n        zyklenListeAdapter = new ZyklenListeAdapter(ZusammenfassungActivity.this, zyklen);\n        binding.recyclerviewZyklen.setAdapter(zyklenListeAdapter);\n    }\n}\n</code></pre>\n<p>The adapter for the recyclerview:</p>\n<pre><code>public class ZyklenListeAdapter extends RecyclerView.Adapter&lt;ZyklenViewHolder&gt; {\n\n    Context context;\n    List&lt;Zyklen&gt; liste;\n\n    public ZyklenListeAdapter(Context context, List&lt;Zyklen&gt; liste){\n        this.context = context;\n        this.liste = liste;\n    }\n\n    @NonNull\n    @Override\n    public ZyklenViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n        return new ZyklenViewHolder(LayoutInflater.from(context).inflate(R.layout.zyklen_liste, parent, false));\n    }\n\n    @Override\n    public void onBindViewHolder(@NonNull ZyklenViewHolder holder, int position) {\n        holder.textview_beschreibung.setText(liste.get(position).getStart()+&quot; - &quot;+liste.get(position).getStart()+&quot;, &quot;+liste.get(position).getLaenge()+&quot; Tage&quot;);\n    }\n\n    @Override\n    public int getItemCount() {\n        return liste.size();\n    }\n}\n\nclass ZyklenViewHolder extends RecyclerView.ViewHolder{\n    CardView cardview_zyklencontainer;\n    TextView textview_beschreibung;\n\n    public ZyklenViewHolder(@NonNull View itemView) {\n        super(itemView);\n        cardview_zyklencontainer = itemView.findViewById(R.id.cardview_zyklencontainer);\n        textview_beschreibung = itemView.findViewById(R.id.textview_beschreibung);\n    }\n}\n</code></pre>\n<p>I'm kinda lost, every help is appreciated</p>\n"},{"tags":["java","spring-boot","jpa","junit","spring-data-jpa"],"owner":{"account_id":16152922,"reputation":365,"user_id":11660873,"display_name":"Jeet"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1691774635,"creation_date":1691774635,"question_id":76885604,"body_markdown":"I have written a test which calls the main method of the application. The aim of the test is to run the application with the data in the H2 database. For this reason I have created a H2 database and a bean as datasource to establish the connection with H2. In the application there is already a datasource bean that created the connection with DB2. I want the H2 database bean to act instead of the DB2 bean- I have created 2 sql files to crete the tables and insert values in the table. I am trying to run the test and execute the sql scripts to fill the in memeory H2 database. However I am getting the following error which was not there before -\r\n\r\n \r\n```\r\n\r\njava.lang.IllegalStateException: Failed to load ApplicationContext\r\n\r\n\tat org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:98)\r\n\tat org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:124)\r\n\tat org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:118)\r\n\tat org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:83)\r\n\tat org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.prepareTestInstance(SpringBootDependencyInjectionTestExecutionListener.java:43)\r\n\tat org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:248)\r\n\tat org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)\r\n\tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$8(ClassBasedTestDescriptor.java:363)\r\n\tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:368)\r\n\tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$9(ClassBasedTestDescriptor.java:363)\r\n\tat java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:195)\r\n\tat java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:177)\r\n\tat java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1655)\r\n\tat java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:484)\r\n\tat java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:474)\r\n\tat java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:312)\r\n\tat java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)\r\n\tat java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)\r\n\tat java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:658)\r\n\tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:362)\r\n\tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:283)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:282)\r\n\tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:272)\r\n\tat java.base/java.util.Optional.orElseGet(Optional.java:369)\r\n\tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:271)\r\n\tat org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:102)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:101)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:66)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)\r\n\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1541)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1541)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)\r\n\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\r\n\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)\r\n\tat org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)\r\n\tat org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)\r\n\tat com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:57)\r\n\tat com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)\r\n\tat com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)\r\n\tat com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)\r\n\tat com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:232)\r\n\tat com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:55)\r\nCaused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaConfiguration&#39;: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;getDataSource&#39; defined in class path resource [xxx/DatasourceConfig.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [javax.sql.DataSource]: Factory method &#39;getDataSource&#39; threw exception; nested exception is java.lang.IllegalArgumentException: Property &#39;http://javax.xml.XMLConstants/property/accessExternalDTD&#39; is not recognized.\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:800)\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:229)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1372)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1222)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:410)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)\r\n\tat org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1154)\r\n\tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:908)\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:731)\r\n\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408)\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:307)\r\n\tat org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:136)\r\n\tat org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:141)\r\n\tat org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:90)\r\n\t... 72 more\r\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;getDataSource&#39; defined in class path resource [xxx/DatasourceConfig.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [javax.sql.DataSource]: Factory method &#39;getDataSource&#39; threw exception; nested exception is java.lang.IllegalArgumentException: Property &#39;http://javax.xml.XMLConstants/property/accessExternalDTD&#39; is not recognized.\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:658)\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:486)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)\r\n\tat org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276)\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1391)\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1311)\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:887)\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)\r\n\t... 99 more\r\nCaused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [javax.sql.DataSource]: Factory method &#39;getDataSource&#39; threw exception; nested exception is java.lang.IllegalArgumentException: Property &#39;http://javax.xml.XMLConstants/property/accessExternalDTD&#39; is not recognized.\r\n\tat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:185)\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:653)\r\n\t... 113 more\r\nCaused by: java.lang.IllegalArgumentException: Property &#39;http://javax.xml.XMLConstants/property/accessExternalDTD&#39; is not recognized.\r\n\tat org.apache.xerces.jaxp.DocumentBuilderFactoryImpl.setAttribute(Unknown Source)\r\n\tat xxx.getNewDocumentBuilder(ConfigReader.java:140)\r\n\tat xx.extractNodeFromDocument(ConfigReader.java:128)\r\n\tat xx.getDataSourceFromConfig(ConfigReader.java:50)\r\n\tat xx.getDataSource(DatasourceConfig.java:26)\r\n\tat xx$$EnhancerBySpringCGLIB$$959b8dc5.CGLIB$getDataSource$0(&lt;generated&gt;)\r\n\tat xx$$EnhancerBySpringCGLIB$$959b8dc5$$FastClassBySpringCGLIB$$35faedf6.invoke(&lt;generated&gt;)\r\n\tat org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:244)\r\n\tat org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:331)\r\n\tat xx.DatasourceConfig$$EnhancerBySpringCGLIB$$959b8dc5.getDataSource(&lt;generated&gt;)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n\tat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:154)\r\n\t... 114 more\r\n\r\n\r\n```\r\n\r\n\r\n\r\nThis error is in the DatasourceConfig.class which generates the bean for the connection to the DB2 database in the application. There was no such error before. Only after I added the .sql files and the application-test.properties, I am getting this error. \r\n\r\n&gt;  Property &#39;http://javax.xml.XMLConstants/property/accessExternalDTD&#39; is not recognized.\r\n\r\nIn the application-test.properties I have the following :-\r\n\r\n\r\n```\r\nspring.profiles.active=localtest\r\nspring.config.use-legacy-processing=true\r\nspring.datasource.url=jdbc:h2:mem:test\r\nspring.datasource.driverClassName=org.h2.Driver\r\nspring.datasource.username=sa\r\nspring.datasource.password=\r\nspring.jpa.database-platform=org.hibernate.dialect.H2Dialect\r\nspring.jpa.properties.hibernate.dialect=org.hibernate.dialect.H2Dialect\r\nspring.jpa.defer-datasource-initialization=true\r\nspring.sql.init.mode=always\r\nspring.h2.console.path=/h2-console\r\nh2.tcp.enabled=true\r\nspring.jpa.generate-ddl=true\r\nspring.jpa.properties.hibernate.format_sql=true\r\nspring.h2.console.enabled=true\r\nspring.jpa.show-sql=true\r\n```\r\nThe error was not there before but after adding the application-test.properties the error is occuring on the old DB2 datasource bean creation class. \r\nI have not received this error before but only while building the test class. The test classes are as follows :- \r\n\r\n\r\n","title":"How to reolve the error Error creating bean with name &#39;org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaConfiguration&#39;:?","body":"<p>I have written a test which calls the main method of the application. The aim of the test is to run the application with the data in the H2 database. For this reason I have created a H2 database and a bean as datasource to establish the connection with H2. In the application there is already a datasource bean that created the connection with DB2. I want the H2 database bean to act instead of the DB2 bean- I have created 2 sql files to crete the tables and insert values in the table. I am trying to run the test and execute the sql scripts to fill the in memeory H2 database. However I am getting the following error which was not there before -</p>\n<pre><code>\njava.lang.IllegalStateException: Failed to load ApplicationContext\n\n    at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:98)\n    at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:124)\n    at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:118)\n    at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:83)\n    at org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.prepareTestInstance(SpringBootDependencyInjectionTestExecutionListener.java:43)\n    at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:248)\n    at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$8(ClassBasedTestDescriptor.java:363)\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:368)\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$9(ClassBasedTestDescriptor.java:363)\n    at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:195)\n    at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:177)\n    at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1655)\n    at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:484)\n    at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:474)\n    at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:312)\n    at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)\n    at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)\n    at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:658)\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:362)\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:283)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:282)\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:272)\n    at java.base/java.util.Optional.orElseGet(Optional.java:369)\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:271)\n    at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:102)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:101)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:66)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)\n    at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)\n    at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)\n    at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:57)\n    at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)\n    at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)\n    at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)\n    at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:232)\n    at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:55)\nCaused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaConfiguration': Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'getDataSource' defined in class path resource [xxx/DatasourceConfig.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [javax.sql.DataSource]: Factory method 'getDataSource' threw exception; nested exception is java.lang.IllegalArgumentException: Property 'http://javax.xml.XMLConstants/property/accessExternalDTD' is not recognized.\n    at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:800)\n    at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:229)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1372)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1222)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:410)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)\n    at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1154)\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:908)\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:731)\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:307)\n    at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:136)\n    at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:141)\n    at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:90)\n    ... 72 more\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'getDataSource' defined in class path resource [xxx/DatasourceConfig.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [javax.sql.DataSource]: Factory method 'getDataSource' threw exception; nested exception is java.lang.IllegalArgumentException: Property 'http://javax.xml.XMLConstants/property/accessExternalDTD' is not recognized.\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:658)\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:486)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)\n    at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1391)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1311)\n    at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:887)\n    at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)\n    ... 99 more\nCaused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [javax.sql.DataSource]: Factory method 'getDataSource' threw exception; nested exception is java.lang.IllegalArgumentException: Property 'http://javax.xml.XMLConstants/property/accessExternalDTD' is not recognized.\n    at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:185)\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:653)\n    ... 113 more\nCaused by: java.lang.IllegalArgumentException: Property 'http://javax.xml.XMLConstants/property/accessExternalDTD' is not recognized.\n    at org.apache.xerces.jaxp.DocumentBuilderFactoryImpl.setAttribute(Unknown Source)\n    at xxx.getNewDocumentBuilder(ConfigReader.java:140)\n    at xx.extractNodeFromDocument(ConfigReader.java:128)\n    at xx.getDataSourceFromConfig(ConfigReader.java:50)\n    at xx.getDataSource(DatasourceConfig.java:26)\n    at xx$$EnhancerBySpringCGLIB$$959b8dc5.CGLIB$getDataSource$0(&lt;generated&gt;)\n    at xx$$EnhancerBySpringCGLIB$$959b8dc5$$FastClassBySpringCGLIB$$35faedf6.invoke(&lt;generated&gt;)\n    at org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:244)\n    at org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:331)\n    at xx.DatasourceConfig$$EnhancerBySpringCGLIB$$959b8dc5.getDataSource(&lt;generated&gt;)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n    at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:154)\n    ... 114 more\n\n\n</code></pre>\n<p>This error is in the DatasourceConfig.class which generates the bean for the connection to the DB2 database in the application. There was no such error before. Only after I added the .sql files and the application-test.properties, I am getting this error.</p>\n<blockquote>\n<p>Property 'http://javax.xml.XMLConstants/property/accessExternalDTD' is not recognized.</p>\n</blockquote>\n<p>In the application-test.properties I have the following :-</p>\n<pre><code>spring.profiles.active=localtest\nspring.config.use-legacy-processing=true\nspring.datasource.url=jdbc:h2:mem:test\nspring.datasource.driverClassName=org.h2.Driver\nspring.datasource.username=sa\nspring.datasource.password=\nspring.jpa.database-platform=org.hibernate.dialect.H2Dialect\nspring.jpa.properties.hibernate.dialect=org.hibernate.dialect.H2Dialect\nspring.jpa.defer-datasource-initialization=true\nspring.sql.init.mode=always\nspring.h2.console.path=/h2-console\nh2.tcp.enabled=true\nspring.jpa.generate-ddl=true\nspring.jpa.properties.hibernate.format_sql=true\nspring.h2.console.enabled=true\nspring.jpa.show-sql=true\n</code></pre>\n<p>The error was not there before but after adding the application-test.properties the error is occuring on the old DB2 datasource bean creation class.\nI have not received this error before but only while building the test class. The test classes are as follows :-</p>\n"},{"tags":["java","spring","spring-boot"],"answers":[{"comments":[{"owner":{"account_id":6615438,"reputation":1121,"user_id":5108875,"display_name":"vab2048"},"score":0,"creation_date":1695065240,"post_id":76885513,"comment_id":135971695,"body_markdown":"thanks this was useful for me to build on and get a working solution to easily get the variable from the environment","body":"thanks this was useful for me to build on and get a working solution to easily get the variable from the environment"}],"tags":[],"owner":{"account_id":25899916,"reputation":76,"user_id":19625987,"display_name":"uchiha Itachi"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1691773647,"creation_date":1691773647,"answer_id":76885513,"question_id":76885270,"body_markdown":"Spring-context module can be used, it provides the functionality for handling application contexts and property sources. You could try it the following way.\r\n\r\n 1. You will need to add `spring-context` and `spring-context-support`in your pom.xml.\r\n 2. Create a configuration class like the following to read properties from properties file\r\n````\r\n@Configuration\r\n@PropertySource(&quot;classpath:application.properties&quot;)\r\npublic class PropertiesConfig {\r\n    @Bean\r\n    public static PropertySourcesPlaceholderConfigurer propertySourcesPlaceholderConfigurer() {\r\n        PropertySourcesPlaceholderConfigurer configurer = new PropertySourcesPlaceholderConfigurer();\r\n        configurer.setLocation(new ClassPathResource(&quot;application.properties&quot;)); \r\n        return configurer;\r\n    }\r\n}\r\n````\r\n3. In your main Java application class, create an instance of AnnotationConfigApplicationContext to load the configuration\r\n\r\n````\r\nAnnotationConfigApplicationContext context = new AnnotationConfigApplicationContext(PropertiesConfig.class); //mention your configuration class name.\r\n````\r\nThis should be able to read properties from your properties file. Hope this helps.","title":"Is there a specific spring component solely for loading properties/config?","body":"<p>Spring-context module can be used, it provides the functionality for handling application contexts and property sources. You could try it the following way.</p>\n<ol>\n<li>You will need to add <code>spring-context</code> and <code>spring-context-support</code>in your pom.xml.</li>\n<li>Create a configuration class like the following to read properties from properties file</li>\n</ol>\n<pre><code>@Configuration\n@PropertySource(&quot;classpath:application.properties&quot;)\npublic class PropertiesConfig {\n    @Bean\n    public static PropertySourcesPlaceholderConfigurer propertySourcesPlaceholderConfigurer() {\n        PropertySourcesPlaceholderConfigurer configurer = new PropertySourcesPlaceholderConfigurer();\n        configurer.setLocation(new ClassPathResource(&quot;application.properties&quot;)); \n        return configurer;\n    }\n}\n</code></pre>\n<ol start=\"3\">\n<li>In your main Java application class, create an instance of AnnotationConfigApplicationContext to load the configuration</li>\n</ol>\n<pre><code>AnnotationConfigApplicationContext context = new AnnotationConfigApplicationContext(PropertiesConfig.class); //mention your configuration class name.\n</code></pre>\n<p>This should be able to read properties from your properties file. Hope this helps.</p>\n"}],"owner":{"account_id":6615438,"reputation":1121,"user_id":5108875,"display_name":"vab2048"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":43,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":76885513,"answer_count":1,"score":0,"last_activity_date":1691773647,"creation_date":1691771335,"question_id":76885270,"body_markdown":"Is there a specific Spring &quot;starter&quot; or maven coordinates which solely includes the functionality for defining config/properties files and also reading them into rich objects in your app?\r\n\r\nI would like the convenience of being able to read in and define my properties file as if it was in a Spring Boot application, but it actualy being a vanilla Java app. \r\n\r\nIs this possible?","title":"Is there a specific spring component solely for loading properties/config?","body":"<p>Is there a specific Spring &quot;starter&quot; or maven coordinates which solely includes the functionality for defining config/properties files and also reading them into rich objects in your app?</p>\n<p>I would like the convenience of being able to read in and define my properties file as if it was in a Spring Boot application, but it actualy being a vanilla Java app.</p>\n<p>Is this possible?</p>\n"},{"tags":["java","android","eclipse-adt"],"comments":[{"owner":{"account_id":1142931,"reputation":581,"user_id":1126351,"display_name":"Nagaraja"},"score":0,"creation_date":1398146586,"post_id":23211494,"comment_id":35507310,"body_markdown":"update your adt like this http://stackoverflow.com/a/22524868/1126351","body":"update your adt like this <a href=\"http://stackoverflow.com/a/22524868/1126351\">stackoverflow.com/a/22524868/1126351</a>"},{"owner":{"account_id":3865734,"reputation":296,"user_id":3202325,"accept_rate":33,"display_name":"RamGrg"},"score":0,"creation_date":1398146977,"post_id":23211494,"comment_id":35507482,"body_markdown":"I am using the updated version of adt.(22.6.2).","body":"I am using the updated version of adt.(22.6.2)."},{"owner":{"account_id":1142931,"reputation":581,"user_id":1126351,"display_name":"Nagaraja"},"score":0,"creation_date":1398147022,"post_id":23211494,"comment_id":35507501,"body_markdown":"your eclipse plugins and SDK also need to update.","body":"your eclipse plugins and SDK also need to update."},{"owner":{"account_id":3865734,"reputation":296,"user_id":3202325,"accept_rate":33,"display_name":"RamGrg"},"score":0,"creation_date":1398147482,"post_id":23211494,"comment_id":35507752,"body_markdown":"They are up to date too.","body":"They are up to date too."}],"answers":[{"tags":[],"owner":{"account_id":4220736,"reputation":603,"user_id":3455589,"display_name":"hmojica"},"comment_count":0,"down_vote_count":0,"up_vote_count":16,"is_accepted":true,"score":16,"last_activity_date":1400248098,"creation_date":1400248098,"answer_id":23696852,"question_id":23211494,"body_markdown":"I found the same bug in Eclipse once.\r\n\r\nThis happened to me after a Windows Update.\r\n\r\nWhat I did to resolve the problem was giving (again) &quot;Full Control&quot;/&quot;Admin Write Read&quot; permissions to Eclipse Folder, in my case was in &quot;C:\\eclipse-jee-kepler-SR2-win32-x86_64&quot;. (Right Click on it, then Properties -&gt; Security Tab and Edit there at -least your user- with Full Control)\r\n\r\nFor some reason the Windows Update changed that.","title":"&quot;Plug-in org.eclipse.jdt.ui was unable to load class org.eclipse.jdt.internal.ui.packageview.PackageExplorerPart.&quot; issue in adt ( v22.6.2)","body":"<p>I found the same bug in Eclipse once.</p>\n\n<p>This happened to me after a Windows Update.</p>\n\n<p>What I did to resolve the problem was giving (again) \"Full Control\"/\"Admin Write Read\" permissions to Eclipse Folder, in my case was in \"C:\\eclipse-jee-kepler-SR2-win32-x86_64\". (Right Click on it, then Properties -> Security Tab and Edit there at -least your user- with Full Control)</p>\n\n<p>For some reason the Windows Update changed that.</p>\n"},{"tags":[],"owner":{"account_id":5847055,"reputation":49,"user_id":4606876,"display_name":"Corba the Geek"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1499055194,"creation_date":1499055194,"answer_id":44877702,"question_id":23211494,"body_markdown":"In my case, I had to switch ownership back to my ID in my workspace/.metadata folder, then all was well. I had inherited an old user ID for my login after a system update. [Ubuntu 14 --&gt; 16]\r\n","title":"&quot;Plug-in org.eclipse.jdt.ui was unable to load class org.eclipse.jdt.internal.ui.packageview.PackageExplorerPart.&quot; issue in adt ( v22.6.2)","body":"<p>In my case, I had to switch ownership back to my ID in my workspace/.metadata folder, then all was well. I had inherited an old user ID for my login after a system update. [Ubuntu 14 --> 16]</p>\n"},{"tags":[],"owner":{"account_id":3753886,"reputation":1249,"user_id":3120743,"display_name":"Siva"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1532500246,"creation_date":1532500246,"answer_id":51512207,"question_id":23211494,"body_markdown":"I got this error in eclipse photon. I started photon with older workspace. I removed .metadata and .recommenders folders and then restarted the eclipse. It worked fine.","title":"&quot;Plug-in org.eclipse.jdt.ui was unable to load class org.eclipse.jdt.internal.ui.packageview.PackageExplorerPart.&quot; issue in adt ( v22.6.2)","body":"<p>I got this error in eclipse photon. I started photon with older workspace. I removed .metadata and .recommenders folders and then restarted the eclipse. It worked fine.</p>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1691775738,"post_id":76885498,"comment_id":135542220,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/76885498/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":29207683,"reputation":1,"user_id":22376420,"display_name":"user22376420"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691773448,"creation_date":1691773448,"answer_id":76885498,"question_id":23211494,"body_markdown":"bro delete the .metadata folder from your ecplipse wookspace folder and it works, and then recover mean import your eclipse folder then all will be same except date lol\r\n","title":"&quot;Plug-in org.eclipse.jdt.ui was unable to load class org.eclipse.jdt.internal.ui.packageview.PackageExplorerPart.&quot; issue in adt ( v22.6.2)","body":"<p>bro delete the .metadata folder from your ecplipse wookspace folder and it works, and then recover mean import your eclipse folder then all will be same except date lol</p>\n"}],"owner":{"account_id":3865734,"reputation":296,"user_id":3202325,"accept_rate":33,"display_name":"RamGrg"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":32328,"favorite_count":0,"down_vote_count":0,"up_vote_count":12,"accepted_answer_id":23696852,"answer_count":4,"score":12,"last_activity_date":1691773448,"creation_date":1398146224,"question_id":23211494,"body_markdown":"I am getting this error in my adt eclipse. I am using the updated version of java. Please somebody help me to solve this issue.","title":"&quot;Plug-in org.eclipse.jdt.ui was unable to load class org.eclipse.jdt.internal.ui.packageview.PackageExplorerPart.&quot; issue in adt ( v22.6.2)","body":"<p>I am getting this error in my adt eclipse. I am using the updated version of java. Please somebody help me to solve this issue.</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9881,"page":253,"page_size":100}
