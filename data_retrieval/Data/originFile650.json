{"items":[{"tags":["java","spring-security"],"answers":[{"comments":[{"owner":{"account_id":9885814,"reputation":1371,"user_id":7320372,"display_name":"Thomas Lang"},"score":1,"creation_date":1683197376,"post_id":61029341,"comment_id":134331057,"body_markdown":"In my case the missing of /images/favicon.ico was an issue.","body":"In my case the missing of /images/favicon.ico was an issue."}],"tags":[],"owner":{"account_id":1227394,"reputation":3921,"user_id":1192702,"accept_rate":75,"display_name":"alaster"},"comment_count":1,"down_vote_count":0,"up_vote_count":15,"is_accepted":true,"score":15,"last_activity_date":1586009343,"creation_date":1586009343,"answer_id":61029341,"question_id":61029340,"body_markdown":"After wasting a lot of time I figured out what&#39;s happening.\r\n\r\nSo spring can&#39;t find one of static resources that is used on login page. But instead of returning status `404` for this resource it tries to render error page and forwards request to `/error`. Then spring security denies this request because user is not authorized. It saves `/error` request to session (for redirecting after successful login) and redirects user to login page.\r\n\r\nOf course user can&#39;t see this redirect because status `302` returns for request that is done in background. But the main issue is `/error` request saved in session.\r\n\r\nThen user logins successfully and spring checks session for this attribute and makes redirect to `/error` page. By default [spring assumes that you have such page somewhere in static resources][1]. If you doesn&#39;t have this page you will see this weird error with status code 999.\r\n\r\n## Solution 1\r\nIgnore `/error` page in security config:\r\n\r\n    web.ignoring().antMatchers(&quot;/favicon.ico&quot;, &quot;/resources/**&quot;, &quot;/error&quot;);\r\n\r\nSo this request will not be saved to session for user redirection after successful login. You will see that on login page status code of request to static resource will change from `302` to `404`.\r\n\r\n## Solution 2\r\nIgnore part of spring boot autoconfig:\r\n\r\n    spring.autoconfigure.exclude=org.springframework.boot.autoconfigure.web.servlet.error.ErrorMvcAutoConfiguration\r\n\r\nThis gives same result but disables some beans from config `ErrorMvcAutoConfiguration` so be careful.\r\n  [1]: https://docs.spring.io/spring-boot/docs/1.4.3.RELEASE/reference/html/boot-features-developing-web-applications.html#boot-features-error-handling-custom-error-pages","title":"Spring security redirects to page with status code 999","body":"<p>After wasting a lot of time I figured out what's happening.</p>\n\n<p>So spring can't find one of static resources that is used on login page. But instead of returning status <code>404</code> for this resource it tries to render error page and forwards request to <code>/error</code>. Then spring security denies this request because user is not authorized. It saves <code>/error</code> request to session (for redirecting after successful login) and redirects user to login page.</p>\n\n<p>Of course user can't see this redirect because status <code>302</code> returns for request that is done in background. But the main issue is <code>/error</code> request saved in session.</p>\n\n<p>Then user logins successfully and spring checks session for this attribute and makes redirect to <code>/error</code> page. By default <a href=\"https://docs.spring.io/spring-boot/docs/1.4.3.RELEASE/reference/html/boot-features-developing-web-applications.html#boot-features-error-handling-custom-error-pages\" rel=\"noreferrer\">spring assumes that you have such page somewhere in static resources</a>. If you doesn't have this page you will see this weird error with status code 999.</p>\n\n<h2>Solution 1</h2>\n\n<p>Ignore <code>/error</code> page in security config:</p>\n\n<pre><code>web.ignoring().antMatchers(\"/favicon.ico\", \"/resources/**\", \"/error\");\n</code></pre>\n\n<p>So this request will not be saved to session for user redirection after successful login. You will see that on login page status code of request to static resource will change from <code>302</code> to <code>404</code>.</p>\n\n<h2>Solution 2</h2>\n\n<p>Ignore part of spring boot autoconfig:</p>\n\n<pre><code>spring.autoconfigure.exclude=org.springframework.boot.autoconfigure.web.servlet.error.ErrorMvcAutoConfiguration\n</code></pre>\n\n<p>This gives same result but disables some beans from config <code>ErrorMvcAutoConfiguration</code> so be careful.</p>\n"},{"tags":[],"owner":{"account_id":14986671,"reputation":1,"user_id":21183355,"display_name":"Rares"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676396349,"creation_date":1676396349,"answer_id":75451409,"question_id":61029340,"body_markdown":"I had the same problem. I tried commenting every stylesheet link to see which one was causing the error. It was my custom css file. The problem was that in my css file I had an url for an image that didn&#39;t exist and also another @import statement that was wrong. After commenting these, everything worked fine.  ","title":"Spring security redirects to page with status code 999","body":"<p>I had the same problem. I tried commenting every stylesheet link to see which one was causing the error. It was my custom css file. The problem was that in my css file I had an url for an image that didn't exist and also another @import statement that was wrong. After commenting these, everything worked fine.</p>\n"}],"owner":{"account_id":1227394,"reputation":3921,"user_id":1192702,"accept_rate":75,"display_name":"alaster"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10664,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":61029341,"answer_count":2,"score":6,"last_activity_date":1676396349,"creation_date":1586009343,"question_id":61029340,"body_markdown":"After successful login spring redirects to `/error` page with the following content\r\n\r\n    {\r\n      &quot;timestamp&quot; : 1586002411175,\r\n      &quot;status&quot; : 999,\r\n      &quot;error&quot; : &quot;None&quot;,\r\n      &quot;message&quot; : &quot;No message available&quot;\r\n    }\r\n\r\nI&#39;m using `spring-boot 2.2.4`\r\n\r\n## My config:\r\n\r\n    spring.mvc.view.prefix=/WEB-INF/views/\r\n    spring.mvc.view.suffix=.jsp\r\n    spring.mvc.servlet.load-on-startup=1\r\n    spring.mvc.throw-exception-if-no-handler-found=true\r\n    spring.resources.add-mappings=false\r\n\r\n---\r\n    @Configuration\r\n    public class DispatcherContextConfig implements WebMvcConfigurer {\r\n    \t\r\n    \t@Override\r\n    \tpublic void addResourceHandlers(ResourceHandlerRegistry registry) {\r\n    \t\tregistry.addResourceHandler(&quot;/resources/**&quot;).addResourceLocations(&quot;/resources/&quot;);\r\n    \t}\r\n    }\r\n\r\n---\r\n    @Configuration\r\n    @EnableWebSecurity\r\n    @EnableGlobalMethodSecurity(prePostEnabled = true)\r\n    public class AppSecurityConfig extends WebSecurityConfigurerAdapter {\r\n    \t\r\n    \t@Override\r\n    \tpublic void configure(WebSecurity web) {\r\n    \t\tweb.ignoring().antMatchers(&quot;/favicon.ico&quot;, &quot;/resources/**&quot;);\r\n    \t}\r\n    \t\r\n    \t@Override\r\n    \tprotected void configure(HttpSecurity http) throws Exception {\r\n    \t\thttp.csrf().disable()\r\n    \t\t\t\t.authorizeRequests()\r\n    \t\t\t\t.antMatchers(&quot;/api/**&quot;).permitAll()\r\n    \t\t\t\t.antMatchers(&quot;/registration/**&quot;).anonymous()\r\n    \t\t\t\t.anyRequest().authenticated()\r\n    \t\t\t\t.and()\r\n    \t\t\t\t\t.headers()\r\n    \t\t\t\t\t\t.defaultsDisabled()\r\n    \t\t\t\t\t\t.cacheControl()\r\n    \t\t\t\t\t.and()\r\n    \t\t\t\t.and()\r\n    \t\t\t\t\t.exceptionHandling()\r\n    \t\t\t\t\t\t.accessDeniedPage(&quot;/errors/403&quot;)\r\n    \t\t\t\t.and()\r\n    \t\t\t\t\t.formLogin()\r\n    \t\t\t\t\t.loginPage(&quot;/login&quot;)\r\n    \t\t\t\t\t.loginProcessingUrl(&quot;/login&quot;)\r\n    \t\t\t\t\t.failureUrl(&quot;/login?error&quot;)\r\n    \t\t\t\t\t.defaultSuccessUrl(&quot;/log&quot;) // I don&#39;t want to use force redirect here\r\n    \t\t\t\t\t.permitAll()\r\n    \t\t\t\t.and()\r\n    \t\t\t\t\t.logout()\r\n    \t\t\t\t\t.logoutUrl(&quot;/logout&quot;)\r\n    \t\t\t\t\t.deleteCookies(&quot;JSESSIONID&quot;)\r\n    \t\t\t\t\t.invalidateHttpSession(true)\r\n    \t\t\t\t\t.logoutSuccessUrl(&quot;/login?logout&quot;)\r\n    \t\t\t\t\t.permitAll()\r\n    \t\t\t\t.and()\r\n    \t\t\t\t\t.rememberMe()\r\n    \t\t\t\t\t.rememberMeParameter(&quot;remember-me&quot;)\r\n    \t\t\t\t\t.key(&quot;myKey&quot;);\r\n    \r\n    \t}\r\n    \t\r\n    \t// ...\r\n    }\r\n\r\n## Note:\r\n\r\nTurns out that error is caused by failed request to one of my static resources. Login page has `&lt;script src=&quot;/resources/my-js-file.js&quot;&gt;&lt;/script&gt;` that is missing in the project.\r\nI can fix this by removing missing resource import, but the problem can reappear in future so it&#39;s not a fix.\r\n\r\n## How can I prevent this from happening?\r\n\r\nI know I can force redirect to starting page with `.defaultSuccessUrl(&quot;/log&quot;, true)` but I don&#39;t want this.\r\nAlso I want redirect to work properly despite of any not found resources.","title":"Spring security redirects to page with status code 999","body":"<p>After successful login spring redirects to <code>/error</code> page with the following content</p>\n\n<pre><code>{\n  \"timestamp\" : 1586002411175,\n  \"status\" : 999,\n  \"error\" : \"None\",\n  \"message\" : \"No message available\"\n}\n</code></pre>\n\n<p>I'm using <code>spring-boot 2.2.4</code></p>\n\n<h2>My config:</h2>\n\n<pre><code>spring.mvc.view.prefix=/WEB-INF/views/\nspring.mvc.view.suffix=.jsp\nspring.mvc.servlet.load-on-startup=1\nspring.mvc.throw-exception-if-no-handler-found=true\nspring.resources.add-mappings=false\n</code></pre>\n\n<hr>\n\n<pre><code>@Configuration\npublic class DispatcherContextConfig implements WebMvcConfigurer {\n\n    @Override\n    public void addResourceHandlers(ResourceHandlerRegistry registry) {\n        registry.addResourceHandler(\"/resources/**\").addResourceLocations(\"/resources/\");\n    }\n}\n</code></pre>\n\n<hr>\n\n<pre><code>@Configuration\n@EnableWebSecurity\n@EnableGlobalMethodSecurity(prePostEnabled = true)\npublic class AppSecurityConfig extends WebSecurityConfigurerAdapter {\n\n    @Override\n    public void configure(WebSecurity web) {\n        web.ignoring().antMatchers(\"/favicon.ico\", \"/resources/**\");\n    }\n\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n        http.csrf().disable()\n                .authorizeRequests()\n                .antMatchers(\"/api/**\").permitAll()\n                .antMatchers(\"/registration/**\").anonymous()\n                .anyRequest().authenticated()\n                .and()\n                    .headers()\n                        .defaultsDisabled()\n                        .cacheControl()\n                    .and()\n                .and()\n                    .exceptionHandling()\n                        .accessDeniedPage(\"/errors/403\")\n                .and()\n                    .formLogin()\n                    .loginPage(\"/login\")\n                    .loginProcessingUrl(\"/login\")\n                    .failureUrl(\"/login?error\")\n                    .defaultSuccessUrl(\"/log\") // I don't want to use force redirect here\n                    .permitAll()\n                .and()\n                    .logout()\n                    .logoutUrl(\"/logout\")\n                    .deleteCookies(\"JSESSIONID\")\n                    .invalidateHttpSession(true)\n                    .logoutSuccessUrl(\"/login?logout\")\n                    .permitAll()\n                .and()\n                    .rememberMe()\n                    .rememberMeParameter(\"remember-me\")\n                    .key(\"myKey\");\n\n    }\n\n    // ...\n}\n</code></pre>\n\n<h2>Note:</h2>\n\n<p>Turns out that error is caused by failed request to one of my static resources. Login page has <code>&lt;script src=\"/resources/my-js-file.js\"&gt;&lt;/script&gt;</code> that is missing in the project.\nI can fix this by removing missing resource import, but the problem can reappear in future so it's not a fix.</p>\n\n<h2>How can I prevent this from happening?</h2>\n\n<p>I know I can force redirect to starting page with <code>.defaultSuccessUrl(\"/log\", true)</code> but I don't want this.\nAlso I want redirect to work properly despite of any not found resources.</p>\n"},{"tags":["java","android-studio","selenium-webdriver","appium","appium-java"],"comments":[{"owner":{"account_id":6077817,"reputation":1213,"user_id":4744568,"display_name":"pcalkins"},"score":0,"creation_date":1676397710,"post_id":75451375,"comment_id":133127586,"body_markdown":"the post-8 version JDKs include the run-time, so at some point you installed the JDK for Java 19.  (in short, your PATH is set wrong)  See setting PATH for Java:  https://www.java.com/en/download/help/path.html  (you may have 2 entries for java_home... so check for multiples...)  This may be separate from the signature error, but not sure...  maybe see this link if you still see that: https://github.com/appium/appium/issues/14724","body":"the post-8 version JDKs include the run-time, so at some point you installed the JDK for Java 19.  (in short, your PATH is set wrong)  See setting PATH for Java:  <a href=\"https://www.java.com/en/download/help/path.html\" rel=\"nofollow noreferrer\">java.com/en/download/help/path.html</a>  (you may have 2 entries for java_home... so check for multiples...)  This may be separate from the signature error, but not sure...  maybe see this link if you still see that: <a href=\"https://github.com/appium/appium/issues/14724\" rel=\"nofollow noreferrer\">github.com/appium/appium/issues/14724</a>"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1676440574,"post_id":75451375,"comment_id":133135077,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":17791044,"reputation":33,"user_id":12920036,"display_name":"Fayaz"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":286,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676396132,"creation_date":1676396132,"question_id":75451375,"body_markdown":"I&#39;m beginner for Android Appium Automation, when i try kickstart my application through appium, I&#39;m getting the following error, please someone Assist me get this done\r\nThanks in Advance\r\n\r\n\r\nappium-uiautomator2-server-v4.27.0.apk&#39;. Original error: The &#39;java.exe&#39; binary could not be found neither in PATH nor under JAVA_HOME (C:\\Program Files\\Java\\jdk-19\\bin\\bin) \r\n\r\nIn my case Java installed in the following location\r\nC:\\Program Files (x86)\\Common Files\\Oracle\\Java\\javapath\\java.exe\r\nC:\\Program Files\\Java\\jre1.8.0_361\\bin\\java.exe\r\n\r\nand SDK Build Tools and command line tools are fine, still I&#39;m not getting what mistake I&#39;m doing","title":"cannot verify signature uiautomator2-server-v4.270.apk&#39;. Original error: The &#39;java.exe&#39; binary could not be found neither in PATH nor under JAVA_HOME","body":"<p>I'm beginner for Android Appium Automation, when i try kickstart my application through appium, I'm getting the following error, please someone Assist me get this done\nThanks in Advance</p>\n<p>appium-uiautomator2-server-v4.27.0.apk'. Original error: The 'java.exe' binary could not be found neither in PATH nor under JAVA_HOME (C:\\Program Files\\Java\\jdk-19\\bin\\bin)</p>\n<p>In my case Java installed in the following location\nC:\\Program Files (x86)\\Common Files\\Oracle\\Java\\javapath\\java.exe\nC:\\Program Files\\Java\\jre1.8.0_361\\bin\\java.exe</p>\n<p>and SDK Build Tools and command line tools are fine, still I'm not getting what mistake I'm doing</p>\n"},{"tags":["java","postgresql"],"comments":[{"owner":{"account_id":7372513,"reputation":951,"user_id":5612275,"display_name":"Marco C"},"score":0,"creation_date":1676370745,"post_id":75446295,"comment_id":133119109,"body_markdown":"Did the user &#39;vaadinstart` exist on your postgres installation?","body":"Did the user &#39;vaadinstart` exist on your postgres installation?"},{"owner":{"account_id":24104204,"reputation":3,"user_id":18075644,"display_name":"niki.orihatza"},"score":0,"creation_date":1676373118,"post_id":75446295,"comment_id":133119767,"body_markdown":"@MarcoC yes I created one in DataGrip but it is still throwing the exception","body":"@MarcoC yes I created one in DataGrip but it is still throwing the exception"},{"owner":{"account_id":14527719,"reputation":373,"user_id":10493440,"display_name":"Eisenknurr"},"score":1,"creation_date":1676373590,"post_id":75446295,"comment_id":133119925,"body_markdown":"Note that a role is not the same as a user!","body":"Note that a role is not the same as a user!"},{"owner":{"account_id":3837378,"reputation":35488,"user_id":3181392,"display_name":"cfrick"},"score":0,"creation_date":1676396070,"post_id":75446295,"comment_id":133127199,"body_markdown":"I don&#39;t think this is related to building but actually running.  I also fail to\nsee, how this is related to/relevant for vaadin (I&#39;ll remove the tag). To me\nthis looks like some migrations are missing or the database that gets used is\nnot properly setup. Please provide a [MRE](https://stackoverflow.com/help/minimal-reproducible-example)","body":"I don&#39;t think this is related to building but actually running.  I also fail to see, how this is related to/relevant for vaadin (I&#39;ll remove the tag). To me this looks like some migrations are missing or the database that gets used is not properly setup. Please provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">MRE</a>"}],"owner":{"account_id":24104204,"reputation":3,"user_id":18075644,"display_name":"niki.orihatza"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676396077,"creation_date":1676369397,"question_id":75446295,"body_markdown":"I recently started with Vaadin because of a school project and I wanted to build the vaadin project with the command ./mvnw and after that I received a PSQL-Exception with the exception description: &#39;role &quot;vaadinstart&quot; does not exist&#39;.\r\n\r\nException-Output:\r\n```\r\n\\2023-02-14 10:53:45.232 ERROR 3633 --- \\[  restartedMain\\] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Exception during pool initialization.\r\n\r\norg.postgresql.util.PSQLException: FATAL: role &quot;vaadinstart&quot; does not exist\r\nat org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2675) \\~\\[postgresql-42.3.8.jar:42.3.8\\]\r\nat org.postgresql.core.v3.QueryExecutorImpl.readStartupMessages(QueryExecutorImpl.java:2787) \\~\\[postgresql-42.3.8.jar:42.3.8\\]\r\nat org.postgresql.core.v3.QueryExecutorImpl.\\&lt;init\\&gt;(QueryExecutorImpl.java:173) \\~\\[postgresql-42.3.8.jar:42.3.8\\]\r\nat org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:290) \\~\\[postgresql-42.3.8.jar:42.3.8\\]\r\nat org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:49) \\~\\[postgresql-42.3.8.jar:42.3.8\\]\r\nat org.postgresql.jdbc.PgConnection.\\&lt;init\\&gt;(PgConnection.java:223) \\~\\[postgresql-42.3.8.jar:42.3.8\\]\r\nat org.postgresql.Driver.makeConnection(Driver.java:402) \\~\\[postgresql-42.3.8.jar:42.3.8\\]\r\nat org.postgresql.Driver.connect(Driver.java:261) \\~\\[postgresql-42.3.8.jar:42.3.8\\]\r\nat com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138) \\~\\[HikariCP-4.0.3.jar:na\\]\r\nat com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:364) \\~\\[HikariCP-4.0.3.jar:na\\]\r\nat com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:206) \\~\\[HikariCP-4.0.3.jar:na\\]\r\nat com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:476) \\~\\[HikariCP-4.0.3.jar:na\\]\r\nat com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:561) \\~\\[HikariCP-4.0.3.jar:na\\]\r\nat com.zaxxer.hikari.pool.HikariPool.\\&lt;init\\&gt;(HikariPool.java:115) \\~\\[HikariCP-4.0.3.jar:na\\]\r\nat com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:112) \\~\\[HikariCP-4.0.3.jar:na\\]\r\nat org.hibernate.engine.jdbc.connections.internal.DatasourceConnectionProviderImpl.getConnection(DatasourceConnectionProviderImpl.java:122) \\~\\[hibernate-core-5.6.14.Final.jar:5.6.14.Final\\]\r\nat org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess.obtainConnection(JdbcEnvironmentInitiator.java:181) \\~\\[hibernate-core-5.6.14.Final.jar:5.6.14.Final\\]\r\nat org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:68) \\~\\[hibernate-core-5.6.14.Final.jar:5.6.14.Final\\]\r\nat org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:35) \\~\\[hibernate-core-5.6.14.Final.jar:5.6.14.Final\\]\r\nat org.hibernate.boot.registry.internal.StandardServiceRegistryImpl.initiateService(StandardServiceRegistryImpl.java:101) \\~\\[hibernate-core-5.6.14.Final.jar:5.6.14.Final\\]\r\nat org.hibernate.service.internal.AbstractServiceRegistryImpl.createService(AbstractServiceRegistryImpl.java:263) \\~\\[hibernate-core-5.6.14.Final.jar:5.6.14.Final\\]\r\nat org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:237) \\~\\[hibernate-core-5.6.14.Final.jar:5.6.14.Final\\]\r\nat org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:214) \\~\\[hibernate-core-5.6.14.Final.jar:5.6.14.Final\\]\r\nat org.hibernate.id.factory.internal.DefaultIdentifierGeneratorFactory.injectServices(DefaultIdentifierGeneratorFactory.java:175) \\~\\[hibernate-core-5.6.14.Final.jar:5.6.14.Final\\]\r\nat org.hibernate.service.internal.AbstractServiceRegistryImpl.injectDependencies(AbstractServiceRegistryImpl.java:286) \\~\\[hibernate-core-5.6.14.Final.jar:5.6.14.Final\\]\r\nat org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:243) \\~\\[hibernate-core-5.6.14.Final.jar:5.6.14.Final\\]\r\nat org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:214) \\~\\[hibernate-core-5.6.14.Final.jar:5.6.14.Final\\]\r\nat org.hibernate.boot.internal.InFlightMetadataCollectorImpl.\\&lt;init\\&gt;(InFlightMetadataCollectorImpl.java:173) \\~\\[hibernate-core-5.6.14.Final.jar:5.6.14.Final\\]\r\nat org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:127) \\~\\[hibernate-core-5.6.14.Final.jar:5.6.14.Final\\]\r\nat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.metadata(EntityManagerFactoryBuilderImpl.java:1460) \\~\\[hibernate-core-5.6.14.Final.jar:5.6.14.Final\\]\r\nat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1494) \\~\\[hibernate-core-5.6.14.Final.jar:5.6.14.Final\\]\r\nat org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:58) \\~\\[spring-orm-5.3.25.jar:5.3.25\\]\r\nat org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365) \\~\\[spring-orm-5.3.25.jar:5.3.25\\]\r\nat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) \\~\\[spring-orm-5.3.25.jar:5.3.25\\]\r\nat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) \\~\\[spring-orm-5.3.25.jar:5.3.25\\]\r\nat org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:341) \\~\\[spring-orm-5.3.25.jar:5.3.25\\]\r\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863) \\~\\[spring-beans-5.3.25.jar:5.3.25\\]\r\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800) \\~\\[spring-beans-5.3.25.jar:5.3.25\\]\r\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620) \\~\\[spring-beans-5.3.25.jar:5.3.25\\]\r\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) \\~\\[spring-beans-5.3.25.jar:5.3.25\\]\r\nat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) \\~\\[spring-beans-5.3.25.jar:5.3.25\\]\r\nat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) \\~\\[spring-beans-5.3.25.jar:5.3.25\\]\r\nat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) \\~\\[spring-beans-5.3.25.jar:5.3.25\\]\r\nat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) \\~\\[spring-beans-5.3.25.jar:5.3.25\\]\r\nat org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1154) \\~\\[spring-context-5.3.25.jar:5.3.25\\]\r\nat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:908) \\~\\[spring-context-5.3.25.jar:5.3.25\\]\r\nat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583) \\~\\[spring-context-5.3.25.jar:5.3.25\\]\r\nat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147) \\~\\[spring-boot-2.7.8.jar:2.7.8\\]\r\nat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:731) \\~\\[spring-boot-2.7.8.jar:2.7.8\\]\r\nat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408) \\~\\[spring-boot-2.7.8.jar:2.7.8\\]\r\nat org.springframework.boot.SpringApplication.run(SpringApplication.java:307) \\~\\[spring-boot-2.7.8.jar:2.7.8\\]\r\nat org.springframework.boot.SpringApplication.run(SpringApplication.java:1303) \\~\\[spring-boot-2.7.8.jar:2.7.8\\]\r\nat org.springframework.boot.SpringApplication.run(SpringApplication.java:1292) \\~\\[spring-boot-2.7.8.jar:2.7.8\\]\r\nat com.vaadin.wah.Application.main(Application.java:29) \\~\\[classes/:na\\]\r\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) \\~\\[na:na\\]\r\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) \\~\\[na:na\\]\r\nat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) \\~\\[na:na\\]\r\nat java.base/java.lang.reflect.Method.invoke(Method.java:568) \\~\\[na:na\\]\r\nat org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49) \\~\\[spring-boot-devtools-2.7.8.jar:2.7.8\\]\r\n\\\r\n```\r\n\r\nI searched for some solution but my search wasn&#39;t successful at all.\r\n","title":"Failure while building Vaadin","body":"<p>I recently started with Vaadin because of a school project and I wanted to build the vaadin project with the command ./mvnw and after that I received a PSQL-Exception with the exception description: 'role &quot;vaadinstart&quot; does not exist'.</p>\n<p>Exception-Output:</p>\n<pre><code>\\2023-02-14 10:53:45.232 ERROR 3633 --- \\[  restartedMain\\] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Exception during pool initialization.\n\norg.postgresql.util.PSQLException: FATAL: role &quot;vaadinstart&quot; does not exist\nat org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2675) \\~\\[postgresql-42.3.8.jar:42.3.8\\]\nat org.postgresql.core.v3.QueryExecutorImpl.readStartupMessages(QueryExecutorImpl.java:2787) \\~\\[postgresql-42.3.8.jar:42.3.8\\]\nat org.postgresql.core.v3.QueryExecutorImpl.\\&lt;init\\&gt;(QueryExecutorImpl.java:173) \\~\\[postgresql-42.3.8.jar:42.3.8\\]\nat org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:290) \\~\\[postgresql-42.3.8.jar:42.3.8\\]\nat org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:49) \\~\\[postgresql-42.3.8.jar:42.3.8\\]\nat org.postgresql.jdbc.PgConnection.\\&lt;init\\&gt;(PgConnection.java:223) \\~\\[postgresql-42.3.8.jar:42.3.8\\]\nat org.postgresql.Driver.makeConnection(Driver.java:402) \\~\\[postgresql-42.3.8.jar:42.3.8\\]\nat org.postgresql.Driver.connect(Driver.java:261) \\~\\[postgresql-42.3.8.jar:42.3.8\\]\nat com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138) \\~\\[HikariCP-4.0.3.jar:na\\]\nat com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:364) \\~\\[HikariCP-4.0.3.jar:na\\]\nat com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:206) \\~\\[HikariCP-4.0.3.jar:na\\]\nat com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:476) \\~\\[HikariCP-4.0.3.jar:na\\]\nat com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:561) \\~\\[HikariCP-4.0.3.jar:na\\]\nat com.zaxxer.hikari.pool.HikariPool.\\&lt;init\\&gt;(HikariPool.java:115) \\~\\[HikariCP-4.0.3.jar:na\\]\nat com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:112) \\~\\[HikariCP-4.0.3.jar:na\\]\nat org.hibernate.engine.jdbc.connections.internal.DatasourceConnectionProviderImpl.getConnection(DatasourceConnectionProviderImpl.java:122) \\~\\[hibernate-core-5.6.14.Final.jar:5.6.14.Final\\]\nat org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess.obtainConnection(JdbcEnvironmentInitiator.java:181) \\~\\[hibernate-core-5.6.14.Final.jar:5.6.14.Final\\]\nat org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:68) \\~\\[hibernate-core-5.6.14.Final.jar:5.6.14.Final\\]\nat org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:35) \\~\\[hibernate-core-5.6.14.Final.jar:5.6.14.Final\\]\nat org.hibernate.boot.registry.internal.StandardServiceRegistryImpl.initiateService(StandardServiceRegistryImpl.java:101) \\~\\[hibernate-core-5.6.14.Final.jar:5.6.14.Final\\]\nat org.hibernate.service.internal.AbstractServiceRegistryImpl.createService(AbstractServiceRegistryImpl.java:263) \\~\\[hibernate-core-5.6.14.Final.jar:5.6.14.Final\\]\nat org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:237) \\~\\[hibernate-core-5.6.14.Final.jar:5.6.14.Final\\]\nat org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:214) \\~\\[hibernate-core-5.6.14.Final.jar:5.6.14.Final\\]\nat org.hibernate.id.factory.internal.DefaultIdentifierGeneratorFactory.injectServices(DefaultIdentifierGeneratorFactory.java:175) \\~\\[hibernate-core-5.6.14.Final.jar:5.6.14.Final\\]\nat org.hibernate.service.internal.AbstractServiceRegistryImpl.injectDependencies(AbstractServiceRegistryImpl.java:286) \\~\\[hibernate-core-5.6.14.Final.jar:5.6.14.Final\\]\nat org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:243) \\~\\[hibernate-core-5.6.14.Final.jar:5.6.14.Final\\]\nat org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:214) \\~\\[hibernate-core-5.6.14.Final.jar:5.6.14.Final\\]\nat org.hibernate.boot.internal.InFlightMetadataCollectorImpl.\\&lt;init\\&gt;(InFlightMetadataCollectorImpl.java:173) \\~\\[hibernate-core-5.6.14.Final.jar:5.6.14.Final\\]\nat org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:127) \\~\\[hibernate-core-5.6.14.Final.jar:5.6.14.Final\\]\nat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.metadata(EntityManagerFactoryBuilderImpl.java:1460) \\~\\[hibernate-core-5.6.14.Final.jar:5.6.14.Final\\]\nat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1494) \\~\\[hibernate-core-5.6.14.Final.jar:5.6.14.Final\\]\nat org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:58) \\~\\[spring-orm-5.3.25.jar:5.3.25\\]\nat org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365) \\~\\[spring-orm-5.3.25.jar:5.3.25\\]\nat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) \\~\\[spring-orm-5.3.25.jar:5.3.25\\]\nat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) \\~\\[spring-orm-5.3.25.jar:5.3.25\\]\nat org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:341) \\~\\[spring-orm-5.3.25.jar:5.3.25\\]\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863) \\~\\[spring-beans-5.3.25.jar:5.3.25\\]\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800) \\~\\[spring-beans-5.3.25.jar:5.3.25\\]\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620) \\~\\[spring-beans-5.3.25.jar:5.3.25\\]\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) \\~\\[spring-beans-5.3.25.jar:5.3.25\\]\nat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) \\~\\[spring-beans-5.3.25.jar:5.3.25\\]\nat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) \\~\\[spring-beans-5.3.25.jar:5.3.25\\]\nat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) \\~\\[spring-beans-5.3.25.jar:5.3.25\\]\nat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) \\~\\[spring-beans-5.3.25.jar:5.3.25\\]\nat org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1154) \\~\\[spring-context-5.3.25.jar:5.3.25\\]\nat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:908) \\~\\[spring-context-5.3.25.jar:5.3.25\\]\nat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583) \\~\\[spring-context-5.3.25.jar:5.3.25\\]\nat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147) \\~\\[spring-boot-2.7.8.jar:2.7.8\\]\nat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:731) \\~\\[spring-boot-2.7.8.jar:2.7.8\\]\nat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408) \\~\\[spring-boot-2.7.8.jar:2.7.8\\]\nat org.springframework.boot.SpringApplication.run(SpringApplication.java:307) \\~\\[spring-boot-2.7.8.jar:2.7.8\\]\nat org.springframework.boot.SpringApplication.run(SpringApplication.java:1303) \\~\\[spring-boot-2.7.8.jar:2.7.8\\]\nat org.springframework.boot.SpringApplication.run(SpringApplication.java:1292) \\~\\[spring-boot-2.7.8.jar:2.7.8\\]\nat com.vaadin.wah.Application.main(Application.java:29) \\~\\[classes/:na\\]\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) \\~\\[na:na\\]\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) \\~\\[na:na\\]\nat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) \\~\\[na:na\\]\nat java.base/java.lang.reflect.Method.invoke(Method.java:568) \\~\\[na:na\\]\nat org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49) \\~\\[spring-boot-devtools-2.7.8.jar:2.7.8\\]\n\\\n</code></pre>\n<p>I searched for some solution but my search wasn't successful at all.</p>\n"},{"tags":["java","ssl-certificate"],"answers":[{"tags":[],"owner":{"account_id":18420841,"reputation":1402,"user_id":13418510,"display_name":"TomStroemer"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1676375972,"creation_date":1676375972,"answer_id":75447526,"question_id":75447434,"body_markdown":"In the first command you define the keystore name with `-keystore vendavo.keystore`\r\n\r\nYou also need to pass this argument to second command, otherwise the default keytore is used.\r\n```keytool -certreq -keyalg RSA -alias vendavodev1 -file certreq.txt -keystore vendavo.keystore```","title":"keytool error: java.lang.Exception: Keystore file does not exist: C:\\Users\\Administrator\\.keystore","body":"<p>In the first command you define the keystore name with <code>-keystore vendavo.keystore</code></p>\n<p>You also need to pass this argument to second command, otherwise the default keytore is used.\n<code>keytool -certreq -keyalg RSA -alias vendavodev1 -file certreq.txt -keystore vendavo.keystore</code></p>\n"}],"owner":{"account_id":19767913,"reputation":13,"user_id":14475472,"display_name":"Maximus Duke"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1575,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75447526,"answer_count":1,"score":0,"last_activity_date":1676396031,"creation_date":1676375479,"question_id":75447434,"body_markdown":"First i executed this command: \r\n`keytool -genkey -alias vendavodev1 -keyalg RSA -keysize 2048 -storetype jks -keystore vendavo.keystore`\r\n\r\nAfter that when i execute this command: \r\n`keytool -certreq -keyalg RSA -alias vendavodev1 -file certreq.txt`\r\n\r\nI get the following error: \r\n`keytool error: java.lang.Exception: Keystore file does not exist: C:\\Users\\Administrator\\.keystore`","title":"keytool error: java.lang.Exception: Keystore file does not exist: C:\\Users\\Administrator\\.keystore","body":"<p>First i executed this command:\n<code>keytool -genkey -alias vendavodev1 -keyalg RSA -keysize 2048 -storetype jks -keystore vendavo.keystore</code></p>\n<p>After that when i execute this command:\n<code>keytool -certreq -keyalg RSA -alias vendavodev1 -file certreq.txt</code></p>\n<p>I get the following error:\n<code>keytool error: java.lang.Exception: Keystore file does not exist: C:\\Users\\Administrator\\.keystore</code></p>\n"},{"tags":["java","spring","spring-boot","spring-mvc","jwt"],"comments":[{"owner":{"account_id":8468157,"reputation":6871,"user_id":6351733,"accept_rate":22,"display_name":"Maurice"},"score":0,"creation_date":1593528490,"post_id":62660131,"comment_id":110809831,"body_markdown":"maybe SECRET_KEY is null?","body":"maybe SECRET_KEY is null?"},{"owner":{"account_id":6099767,"reputation":4936,"user_id":4759176,"accept_rate":74,"display_name":"parsecer"},"score":0,"creation_date":1593528515,"post_id":62660131,"comment_id":110809843,"body_markdown":"@Maurice No it&#39;s not: see the first debugger pic","body":"@Maurice No it&#39;s not: see the first debugger pic"},{"owner":{"account_id":3446391,"reputation":184,"user_id":2887124,"display_name":"Nagesh Tripathi"},"score":0,"creation_date":1593529410,"post_id":62660131,"comment_id":110810436,"body_markdown":"This seems to be a weird issue,I would suggest not to use builder = builder.setExpiration , you can benefit from builder pattern and set all the values in one line itself.something like below code Jwts.builder().setClaims(claims).setSubject(subject).setIssuedAt(new Date(System.currentTimeMillis()))\n                .setExpiration(new Date(System.currentTimeMillis()))\n                .signWith(SignatureAlgorithm.HS512, SECRET_KEY).compact()","body":"This seems to be a weird issue,I would suggest not to use builder = builder.setExpiration , you can benefit from builder pattern and set all the values in one line itself.something like below code Jwts.builder().setClaims(claims).setSubject(subject).setIssu&zwnj;&#8203;edAt(new Date(System.currentTimeMillis()))                 .setExpiration(new Date(System.currentTimeMillis()))                 .signWith(SignatureAlgorithm.HS512, SECRET_KEY).compact()"},{"owner":{"account_id":6099767,"reputation":4936,"user_id":4759176,"accept_rate":74,"display_name":"parsecer"},"score":0,"creation_date":1593531274,"post_id":62660131,"comment_id":110811429,"body_markdown":"@NageshTripathi It was the one-liner that originally gave me the error; I only split it into several lines to make sure `builder` is never null","body":"@NageshTripathi It was the one-liner that originally gave me the error; I only split it into several lines to make sure <code>builder</code> is never null"}],"answers":[{"tags":[],"owner":{"account_id":13919636,"reputation":1002,"user_id":10050431,"display_name":"Fabien"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1593555481,"creation_date":1593555481,"answer_id":62666955,"question_id":62660131,"body_markdown":"This is how you sign a JWT token with a private key using HS256 :\r\n\r\n    public static void main(String[] args) {\r\n        KeyPair keyPair = Keys.keyPairFor(HS256);\r\n        PrivateKey privateKey = keyPair.getPrivate();\r\n        Jwts.builder().signWith(privateKey);\r\n    }","title":"Jwt token: DatatypeConverter.parseBase64Binary NullPointerException on signWith method on token creation","body":"<p>This is how you sign a JWT token with a private key using HS256 :</p>\n<pre><code>public static void main(String[] args) {\n    KeyPair keyPair = Keys.keyPairFor(HS256);\n    PrivateKey privateKey = keyPair.getPrivate();\n    Jwts.builder().signWith(privateKey);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":357264,"reputation":1646,"user_id":4927393,"accept_rate":67,"display_name":"Dragan Nikolic"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1607174031,"creation_date":1607174031,"answer_id":65157274,"question_id":62660131,"body_markdown":"I had the same problem when using jjwt 0.9.1 and Java 11. Solved by switching from Java 11 to Java 1.8.\r\n\r\nMy development machine was MacOS Catalina.","title":"Jwt token: DatatypeConverter.parseBase64Binary NullPointerException on signWith method on token creation","body":"<p>I had the same problem when using jjwt 0.9.1 and Java 11. Solved by switching from Java 11 to Java 1.8.</p>\n<p>My development machine was MacOS Catalina.</p>\n"},{"tags":[],"owner":{"account_id":16608611,"reputation":123,"user_id":12002311,"display_name":"Prince"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676396018,"creation_date":1676396018,"answer_id":75451358,"question_id":62660131,"body_markdown":"I was getting the same issue, I changed my function to this\r\n```\r\n\tpublic String getTokenFromClaims(Map&lt;String, Object&gt; claims, String subject) {\r\n\t\tclaims.forEach((k, v) -&gt; System.out.println(&quot;Key is&quot; + k + &quot;value&quot; + v));\r\n\t\treturn Jwts.builder().setClaims(claims).setSubject(subject).setIssuedAt(new Date(System.currentTimeMillis()))\r\n\t\t\t\t.setExpiration(new Date(System.currentTimeMillis() + expiresIn))\r\n\t\t\t\t.signWith(SignatureAlgorithm.HS512, Base64.getEncoder().encode(secret.getBytes())).compact();\r\n\t}\r\n```","title":"Jwt token: DatatypeConverter.parseBase64Binary NullPointerException on signWith method on token creation","body":"<p>I was getting the same issue, I changed my function to this</p>\n<pre><code>    public String getTokenFromClaims(Map&lt;String, Object&gt; claims, String subject) {\n        claims.forEach((k, v) -&gt; System.out.println(&quot;Key is&quot; + k + &quot;value&quot; + v));\n        return Jwts.builder().setClaims(claims).setSubject(subject).setIssuedAt(new Date(System.currentTimeMillis()))\n                .setExpiration(new Date(System.currentTimeMillis() + expiresIn))\n                .signWith(SignatureAlgorithm.HS512, Base64.getEncoder().encode(secret.getBytes())).compact();\n    }\n</code></pre>\n"}],"owner":{"account_id":6099767,"reputation":4936,"user_id":4759176,"accept_rate":74,"display_name":"parsecer"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":989,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":3,"score":0,"last_activity_date":1676396018,"creation_date":1593528356,"question_id":62660131,"body_markdown":"I have the following method for creating a JWT token during authentication:\r\n\r\n```\r\nprivate String createToken(Map&lt;String, Object&gt; claims, \r\n                           String subject) {\r\n    JwtBuilder builder =  Jwts.builder().setClaims(claims)\r\n            .setSubject(subject)\r\n            .setIssuedAt(\r\n                  new Date(System.currentTimeMillis()));\r\n    builder = builder\r\n            .setExpiration(\r\n                new Date(System.currentTimeMillis() +\r\n                        1000 * 60 * 60 * 10));\r\n    builder = builder\r\n            .signWith(   \r\n               SignatureAlgorithm.HS256, \r\n               SECRET_KEY);  //error on this line\r\n    return builder.compact();\r\n}\r\n```\r\nHowever I get a `NullPointerException` on the `builder.signWith()` line.\r\n\r\nI&#39;m not sure why. The `builder` after the `.setExpiration()` line is not null. I checked the debugger (breakpoint on the `.signWith()` line) and it seems to be fine:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nThe `claims` are not empty and contains the subject and dates:\r\n\r\n[![enter image description here][2]][2]\r\n\r\nThis is the full error:\r\n\r\n```\r\n org.apache.catalina.core.StandardWrapperValve.invoke Servlet.service() for servlet [dispatcher] in context with path [/testproject_war_exploded] threw exception [Request processing failed; nested exception is java.lang.NullPointerException] with root cause\r\n\tjava.lang.NullPointerException\r\n\t\tat javax.xml.bind.DatatypeConverter.parseBase64Binary(DatatypeConverter.java:296)\r\n\t\tat io.jsonwebtoken.impl.Base64Codec.decode(Base64Codec.java:26)\r\n\t\tat io.jsonwebtoken.impl.DefaultJwtBuilder.signWith(DefaultJwtBuilder.java:99)\r\n\t\tat testproject.security.JwtUtil.createToken(JwtUtil.java:52)\r\n```\r\n  [1]: https://i.stack.imgur.com/zC9rB.png\r\n  [2]: https://i.stack.imgur.com/JGDiE.png","title":"Jwt token: DatatypeConverter.parseBase64Binary NullPointerException on signWith method on token creation","body":"<p>I have the following method for creating a JWT token during authentication:</p>\n<pre><code>private String createToken(Map&lt;String, Object&gt; claims, \n                           String subject) {\n    JwtBuilder builder =  Jwts.builder().setClaims(claims)\n            .setSubject(subject)\n            .setIssuedAt(\n                  new Date(System.currentTimeMillis()));\n    builder = builder\n            .setExpiration(\n                new Date(System.currentTimeMillis() +\n                        1000 * 60 * 60 * 10));\n    builder = builder\n            .signWith(   \n               SignatureAlgorithm.HS256, \n               SECRET_KEY);  //error on this line\n    return builder.compact();\n}\n</code></pre>\n<p>However I get a <code>NullPointerException</code> on the <code>builder.signWith()</code> line.</p>\n<p>I'm not sure why. The <code>builder</code> after the <code>.setExpiration()</code> line is not null. I checked the debugger (breakpoint on the <code>.signWith()</code> line) and it seems to be fine:</p>\n<p><a href=\"https://i.stack.imgur.com/zC9rB.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/zC9rB.png\" alt=\"enter image description here\" /></a></p>\n<p>The <code>claims</code> are not empty and contains the subject and dates:</p>\n<p><a href=\"https://i.stack.imgur.com/JGDiE.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/JGDiE.png\" alt=\"enter image description here\" /></a></p>\n<p>This is the full error:</p>\n<pre><code> org.apache.catalina.core.StandardWrapperValve.invoke Servlet.service() for servlet [dispatcher] in context with path [/testproject_war_exploded] threw exception [Request processing failed; nested exception is java.lang.NullPointerException] with root cause\n    java.lang.NullPointerException\n        at javax.xml.bind.DatatypeConverter.parseBase64Binary(DatatypeConverter.java:296)\n        at io.jsonwebtoken.impl.Base64Codec.decode(Base64Codec.java:26)\n        at io.jsonwebtoken.impl.DefaultJwtBuilder.signWith(DefaultJwtBuilder.java:99)\n        at testproject.security.JwtUtil.createToken(JwtUtil.java:52)\n</code></pre>\n"},{"tags":["java","spring","hibernate"],"answers":[{"tags":[],"owner":{"account_id":2078183,"reputation":3320,"user_id":1850925,"display_name":"Arjit"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1676395762,"creation_date":1494831542,"answer_id":43973233,"question_id":43973041,"body_markdown":"If you use `@JsonBackReference` on your getter/setter method in your project more than once, you should distinguish them with a specific Reference name.\r\n\r\nIn `Role` entity class, you have used `@JsonBackReference` twice:\r\n\r\n```lang-java\r\n@OneToMany(mappedBy = &quot;roleName&quot;, fetch = FetchType.LAZY,cascade = CascadeType.REMOVE)\r\n@JsonBackReference\r\nprivate List candidateProfiles;\r\n\r\n@OneToMany(mappedBy = &quot;companyRoleName&quot;, fetch = FetchType.LAZY,cascade = CascadeType.REMOVE)\r\n@JsonBackReference\r\nprivate List recruiterDetails;\r\n```\r\n\r\nYou should change it to:\r\n\r\n```lang-java\r\n@OneToMany(mappedBy = &quot;roleName&quot;, fetch = FetchType.LAZY,cascade = CascadeType.REMOVE)\r\n@JsonBackReference(value=&quot;candidate-profiles&quot;)\r\nprivate List candidateProfiles;\r\n\r\n@OneToMany(mappedBy = &quot;companyRoleName&quot;, fetch = FetchType.LAZY,cascade = CascadeType.REMOVE)\r\n@JsonBackReference(value=&quot;recruiter-details&quot;)\r\nprivate List recruiterDetails;\r\n```","title":"com.fasterxml.jackson.databind.JsonMappingException: Multiple back-reference properties with name &#39;defaultReference&#39;","body":"<p>If you use <code>@JsonBackReference</code> on your getter/setter method in your project more than once, you should distinguish them with a specific Reference name.</p>\n<p>In <code>Role</code> entity class, you have used <code>@JsonBackReference</code> twice:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@OneToMany(mappedBy = &quot;roleName&quot;, fetch = FetchType.LAZY,cascade = CascadeType.REMOVE)\n@JsonBackReference\nprivate List candidateProfiles;\n\n@OneToMany(mappedBy = &quot;companyRoleName&quot;, fetch = FetchType.LAZY,cascade = CascadeType.REMOVE)\n@JsonBackReference\nprivate List recruiterDetails;\n</code></pre>\n<p>You should change it to:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@OneToMany(mappedBy = &quot;roleName&quot;, fetch = FetchType.LAZY,cascade = CascadeType.REMOVE)\n@JsonBackReference(value=&quot;candidate-profiles&quot;)\nprivate List candidateProfiles;\n\n@OneToMany(mappedBy = &quot;companyRoleName&quot;, fetch = FetchType.LAZY,cascade = CascadeType.REMOVE)\n@JsonBackReference(value=&quot;recruiter-details&quot;)\nprivate List recruiterDetails;\n</code></pre>\n"}],"owner":{"account_id":8848879,"reputation":63,"user_id":6608840,"display_name":"Rakesh kumar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2825,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":43973233,"answer_count":1,"score":5,"last_activity_date":1676395762,"creation_date":1494830823,"question_id":43973041,"body_markdown":"I&#39;m getting this error, when I&#39;m trying to map one entity with more than one entity..\r\n\r\n   /// This is my candidate profile entity/////////\r\n\r\n&lt;pre&gt;\r\n\r\n    package com.demo.project.premiumjobportal.model;\r\n    \r\n    import java.io.Serializable;\r\n    import java.util.List;\r\n    \r\n    import javax.persistence.CascadeType;\r\n    import javax.persistence.Column;\r\n    import javax.persistence.Entity;\r\n    import javax.persistence.FetchType;\r\n    import javax.persistence.GeneratedValue;\r\n    import javax.persistence.Id;\r\n    import javax.persistence.ManyToOne;\r\n    import javax.persistence.OneToMany;\r\n    import javax.persistence.Table;\r\n    import javax.validation.constraints.NotNull;\r\n    import javax.xml.bind.annotation.XmlRootElement;\r\n    \r\n    import com.fasterxml.jackson.annotation.JsonBackReference;\r\n    import com.fasterxml.jackson.annotation.JsonIgnoreProperties;\r\n    \r\n    //Candidate details table : Master Table\r\n    @Entity\r\n    @Table(name=&quot;candidate_profile&quot;)\r\n    @JsonIgnoreProperties({&quot;hibernateLazyInitializer&quot;, &quot;handler&quot;})\r\n    @XmlRootElement\r\n    public class CandidateProfile implements Serializable {\r\n    \t\r\n    \tprivate static final long serialVersionUID = 1L;\r\n    \r\n    \t@Id\r\n    \t@GeneratedValue\r\n    \tprivate int id;\r\n    \r\n    \t@NotNull\r\n    \t@Column(name=&quot;first_name&quot;, length = 25)\r\n    \tprivate String firstName;\r\n    \t\r\n    \t@NotNull\r\n    \t@Column(name=&quot;last_name&quot;, length = 25)\r\n    \tprivate String lastName;\r\n    \t\r\n    \t@NotNull\r\n    \t@Column(name=&quot;username&quot;, length = 50)\r\n    \tprivate String username;\r\n    \t\r\n    \t@Column(name=&quot;alt_email_id&quot;, length = 50)\r\n    \tprivate String alternateEmailId;\r\n    \t\r\n    \t@NotNull\r\n    \t@Column(name=&quot;mobile_no&quot;, length = 15)\r\n    \tprivate String mobileNum;\r\n    \t\r\n    \t@Column(name=&quot;alt_mobile_no&quot;, length = 15)\r\n    \tprivate String alternateMobileNum;\r\n    \t\r\n    \t\r\n    \t@Column(name=&quot;ssc_board&quot;, length = 50)\r\n    \tprivate String sscBoard;\r\n    \t\r\n    \t\r\n    \t@Column(name=&quot;ssc_school&quot;, length = 50)\r\n    \tprivate String sscSchool;\r\n    \t\r\n    \t\r\n    \t@Column(name=&quot;ssc_percent&quot;, length = 4)\r\n    \tprivate float sscPercentage;\r\n    \t\r\n    \t\r\n    \t@Column(name=&quot;ssc_year_of_passout&quot;, length = 4)\r\n    \tprivate int sscYearOfPassout;\r\n    \t\r\n    \t\r\n    \t@Column(name=&quot;hsc_board&quot;, length = 50)\r\n    \tprivate String hscBoard;\r\n    \t\r\n    \t\r\n    \t@Column(name=&quot;hsc_school&quot;, length = 50)\r\n    \tprivate String hscSchool;\r\n    \t\r\n    \t\r\n    \t@Column(name=&quot;hsc_percent&quot;, length = 4)\r\n    \tprivate float hscPercentage;\r\n    \t\r\n    \t\r\n    \t@Column(name=&quot;hsc_year_of_passout&quot;, length = 4)\r\n    \tprivate int hscYearOfPassout;\r\n    \t\r\n    \t\r\n    \t@Column(name=&quot;grad_university&quot;, length = 100)\r\n    \tprivate String gradiduteUniversity;\r\n    \t\r\n    \t\r\n    \t@Column(name=&quot;grad_institute&quot;, length = 100)\r\n    \tprivate String gradiduteInstitute;\r\n    \t\r\n    \t\r\n    \t@Column(name=&quot;grad_percent&quot;, length = 4)\r\n    \tprivate float gradidutePercentage;\r\n    \t\r\n    \t\r\n    \t@Column(name=&quot;grad_year_of_passout&quot;, length = 4)\r\n    \tprivate int gradiduteYearOfPassout;\r\n    \t\r\n    \t@Column(name=&quot;postgrad_university&quot;, length = 100)\r\n    \tprivate String postGradiduteUniversity;\r\n    \t\r\n    \t@Column(name=&quot;postgrad_institute&quot;, length = 100)\r\n    \tprivate String postGradiduteInstitute;\r\n    \t\r\n    \t@Column(name=&quot;postgrad_percent&quot;, length = 4)\r\n    \tprivate float postGradidutePercentage;\r\n    \t\r\n    \t@Column(name=&quot;postgrad_year_of_passout&quot;, length = 4)\r\n    \tprivate int postGradiduteYearOfPassout;\r\n    \t\r\n    \tprivate String notes;\r\n    \t\r\n    \tprivate String Password;\r\n    \r\n    \t@OneToMany(mappedBy = &quot;candidateProfile&quot;, fetch = FetchType.LAZY,cascade = CascadeType.REMOVE)\r\n    \t@JsonBackReference\r\n    \tprivate List&lt;ExperienceDetails&gt; experienceDetails;\r\n    \t\r\n    \t@OneToMany(mappedBy = &quot;candidateProfile&quot;, fetch = FetchType.LAZY,cascade = CascadeType.REMOVE)\r\n    \t@JsonBackReference\r\n    \tprivate List&lt;CandidateJob&gt; candidateJobs;\r\n    \t\r\n    \t@ManyToOne\r\n    \tprivate Role roleName;\r\n    \t\r\n    \t\r\n    \r\n    \t/* Constructor */\r\n    \tpublic CandidateProfile() {\r\n    \t\tsuper();\r\n    \t\t}\r\n    \r\n    \t\r\n    \t// Getters and Setters \r\n    \t\r\n&lt;/pre&gt;\r\n\r\n/// This is  my experience details entity ////////////\r\n&lt;pre&gt;\r\n\r\n    package com.cfa.project.premiumjobportal.model;\r\n    \r\n    import java.io.Serializable;\r\n    \r\n    import javax.persistence.Column;\r\n    import javax.persistence.Entity;\r\n    import javax.persistence.GeneratedValue;\r\n    import javax.persistence.Id;\r\n    import javax.persistence.ManyToOne;\r\n    import javax.persistence.Table;\r\n    import javax.xml.bind.annotation.XmlRootElement;\r\n    \r\n    import com.fasterxml.jackson.annotation.JsonIgnoreProperties;\r\n    \r\n    //Experience class, which connected with CandidateProfile.class\r\n    @Entity\r\n    @Table(name=&quot;experience_details&quot;)\r\n    @JsonIgnoreProperties({&quot;hibernateLazyInitializer&quot;, &quot;handler&quot;})\r\n    @XmlRootElement\r\n    public class ExperienceDetails implements Serializable {\r\n    \t\r\n    \tprivate static final long serialVersionUID = 1L;\r\n    \t\r\n    \t@Id\r\n    \t@GeneratedValue\r\n    \tprivate int id;\r\n    \t\r\n    \t@Column(name = &quot;tot_experenice&quot;, length = 2)\r\n    \tprivate String totExperience;\r\n    \t\r\n    \t@Column(name = &quot;companies_month_experience&quot;)\r\n    \tprivate String companiesMonthExperience;\r\n    \t\r\n    \t@Column(name = &quot;skills&quot;)\r\n    \tprivate String _skills;\r\n    \t\r\n    \t@Column(name = &quot;extra_curricular&quot;)\r\n    \tprivate String extraCurricular;\r\n    \t\r\n    \tprivate String notes;\r\n    \r\n    \t/* Mapping : Joining with Candidate table */\r\n    \t@ManyToOne\r\n    \tprivate CandidateProfile candidateProfile;\r\n    \t\r\n    \t/*Constructor*/\r\n    \tpublic ExperienceDetails() {\r\n    \t\tsuper();\r\n    \t}\r\n    \t\r\n    \t\r\n    \t/*Constructor using fields*/\r\n    \t/**\r\n    \t * @param id\r\n    \t * @param totExperience\r\n    \t * @param companiesMonthExperience\r\n    \t * @param _skills\r\n    \t * @param extraCurricular\r\n    \t * @param notes\r\n    \t * @param candidateProfile\r\n    \t */\r\n    \tpublic ExperienceDetails(int id, String totExperience, String companiesMonthExperience, String _skills,\r\n    \t\t\tString extraCurricular, String notes, CandidateProfile candidateProfile) {\r\n    \t\tsuper();\r\n    \t\tthis.id = id;\r\n    \t\tthis.totExperience = totExperience;\r\n    \t\tthis.companiesMonthExperience = companiesMonthExperience;\r\n    \t\tthis._skills = _skills;\r\n    \t\tthis.extraCurricular = extraCurricular;\r\n    \t\tthis.notes = notes;\r\n    \t\tthis.candidateProfile = candidateProfile;\r\n    \t}\r\n    \r\n    \t/* Generating Getters and setters */&lt;/pre&gt;\r\n\r\n/// This is my role entity //////\r\n\r\n&lt;pre&gt;\r\n    \r\n    import java.io.Serializable;\r\n    import java.util.List;\r\n    \r\n    import javax.persistence.CascadeType;\r\n    import javax.persistence.Column;\r\n    import javax.persistence.Entity;\r\n    import javax.persistence.FetchType;\r\n    import javax.persistence.GeneratedValue;\r\n    import javax.persistence.Id;\r\n    import javax.persistence.OneToMany;\r\n    import javax.persistence.Table;\r\n    import javax.xml.bind.annotation.XmlRootElement;\r\n    \r\n    import com.fasterxml.jackson.annotation.JsonBackReference;\r\n    import com.fasterxml.jackson.annotation.JsonIgnoreProperties;\r\n    \r\n    @Entity\r\n    @Table(name=&quot;role&quot;)\r\n    @JsonIgnoreProperties({&quot;hibernateLazyInitializer&quot;, &quot;handler&quot;})\r\n    @XmlRootElement\r\n    public class Role implements Serializable {\r\n    \t\r\n    \tprivate static final long serialVersionUID = 1L;\r\n    \t\r\n    \t@Id\r\n    \t@GeneratedValue\r\n    \tprivate int id;\r\n    \t\r\n    \t@Column(length = 10)\r\n    \tprivate String name;\r\n    \r\n    \t@OneToMany(mappedBy = &quot;roleName&quot;, fetch = FetchType.LAZY,cascade = CascadeType.REMOVE)\r\n    \t@JsonBackReference\r\n    \tprivate List&lt;CandidateProfile&gt; candidateProfiles;\r\n    \t\r\n    \t@OneToMany(mappedBy = &quot;companyRoleName&quot;, fetch = FetchType.LAZY,cascade = CascadeType.REMOVE)\r\n    \t@JsonBackReference\r\n    \tprivate List&lt;RecruiterDetails&gt; recruiterDetails;\r\n\r\n&lt;/pre&gt;\r\n&lt;b&gt;\r\nThis error I&#39;m getting----------------\r\n\r\n    Failed to evaluate Jackson deserialization for type [[simple type, class \r\n    com.demo.project.premiumjobportal.model.CandidateProfile]]: \r\n    com.fasterxml.jackson.databind.JsonMappingException: Multiple back-reference \r\n    properties with name &#39;defaultReference&#39;\r\n\r\nPlease help me with this. I searched everywhere and I tried every solution but then also I&#39;m getting this error.","title":"com.fasterxml.jackson.databind.JsonMappingException: Multiple back-reference properties with name &#39;defaultReference&#39;","body":"<p>I'm getting this error, when I'm trying to map one entity with more than one entity..</p>\n\n<p>/// This is my candidate profile entity/////////</p>\n\n<pre>\n\n    package com.demo.project.premiumjobportal.model;\n\n    import java.io.Serializable;\n    import java.util.List;\n\n    import javax.persistence.CascadeType;\n    import javax.persistence.Column;\n    import javax.persistence.Entity;\n    import javax.persistence.FetchType;\n    import javax.persistence.GeneratedValue;\n    import javax.persistence.Id;\n    import javax.persistence.ManyToOne;\n    import javax.persistence.OneToMany;\n    import javax.persistence.Table;\n    import javax.validation.constraints.NotNull;\n    import javax.xml.bind.annotation.XmlRootElement;\n\n    import com.fasterxml.jackson.annotation.JsonBackReference;\n    import com.fasterxml.jackson.annotation.JsonIgnoreProperties;\n\n    //Candidate details table : Master Table\n    @Entity\n    @Table(name=\"candidate_profile\")\n    @JsonIgnoreProperties({\"hibernateLazyInitializer\", \"handler\"})\n    @XmlRootElement\n    public class CandidateProfile implements Serializable {\n\n        private static final long serialVersionUID = 1L;\n\n        @Id\n        @GeneratedValue\n        private int id;\n\n        @NotNull\n        @Column(name=\"first_name\", length = 25)\n        private String firstName;\n\n        @NotNull\n        @Column(name=\"last_name\", length = 25)\n        private String lastName;\n\n        @NotNull\n        @Column(name=\"username\", length = 50)\n        private String username;\n\n        @Column(name=\"alt_email_id\", length = 50)\n        private String alternateEmailId;\n\n        @NotNull\n        @Column(name=\"mobile_no\", length = 15)\n        private String mobileNum;\n\n        @Column(name=\"alt_mobile_no\", length = 15)\n        private String alternateMobileNum;\n\n\n        @Column(name=\"ssc_board\", length = 50)\n        private String sscBoard;\n\n\n        @Column(name=\"ssc_school\", length = 50)\n        private String sscSchool;\n\n\n        @Column(name=\"ssc_percent\", length = 4)\n        private float sscPercentage;\n\n\n        @Column(name=\"ssc_year_of_passout\", length = 4)\n        private int sscYearOfPassout;\n\n\n        @Column(name=\"hsc_board\", length = 50)\n        private String hscBoard;\n\n\n        @Column(name=\"hsc_school\", length = 50)\n        private String hscSchool;\n\n\n        @Column(name=\"hsc_percent\", length = 4)\n        private float hscPercentage;\n\n\n        @Column(name=\"hsc_year_of_passout\", length = 4)\n        private int hscYearOfPassout;\n\n\n        @Column(name=\"grad_university\", length = 100)\n        private String gradiduteUniversity;\n\n\n        @Column(name=\"grad_institute\", length = 100)\n        private String gradiduteInstitute;\n\n\n        @Column(name=\"grad_percent\", length = 4)\n        private float gradidutePercentage;\n\n\n        @Column(name=\"grad_year_of_passout\", length = 4)\n        private int gradiduteYearOfPassout;\n\n        @Column(name=\"postgrad_university\", length = 100)\n        private String postGradiduteUniversity;\n\n        @Column(name=\"postgrad_institute\", length = 100)\n        private String postGradiduteInstitute;\n\n        @Column(name=\"postgrad_percent\", length = 4)\n        private float postGradidutePercentage;\n\n        @Column(name=\"postgrad_year_of_passout\", length = 4)\n        private int postGradiduteYearOfPassout;\n\n        private String notes;\n\n        private String Password;\n\n        @OneToMany(mappedBy = \"candidateProfile\", fetch = FetchType.LAZY,cascade = CascadeType.REMOVE)\n        @JsonBackReference\n        private List experienceDetails;\n\n        @OneToMany(mappedBy = \"candidateProfile\", fetch = FetchType.LAZY,cascade = CascadeType.REMOVE)\n        @JsonBackReference\n        private List candidateJobs;\n\n        @ManyToOne\n        private Role roleName;\n\n\n\n        /* Constructor */\n        public CandidateProfile() {\n            super();\n            }\n\n\n        // Getters and Setters \n\n</pre>\n\n<p>/// This is  my experience details entity ////////////</p>\n\n<pre>\n\n    package com.cfa.project.premiumjobportal.model;\n\n    import java.io.Serializable;\n\n    import javax.persistence.Column;\n    import javax.persistence.Entity;\n    import javax.persistence.GeneratedValue;\n    import javax.persistence.Id;\n    import javax.persistence.ManyToOne;\n    import javax.persistence.Table;\n    import javax.xml.bind.annotation.XmlRootElement;\n\n    import com.fasterxml.jackson.annotation.JsonIgnoreProperties;\n\n    //Experience class, which connected with CandidateProfile.class\n    @Entity\n    @Table(name=\"experience_details\")\n    @JsonIgnoreProperties({\"hibernateLazyInitializer\", \"handler\"})\n    @XmlRootElement\n    public class ExperienceDetails implements Serializable {\n\n        private static final long serialVersionUID = 1L;\n\n        @Id\n        @GeneratedValue\n        private int id;\n\n        @Column(name = \"tot_experenice\", length = 2)\n        private String totExperience;\n\n        @Column(name = \"companies_month_experience\")\n        private String companiesMonthExperience;\n\n        @Column(name = \"skills\")\n        private String _skills;\n\n        @Column(name = \"extra_curricular\")\n        private String extraCurricular;\n\n        private String notes;\n\n        /* Mapping : Joining with Candidate table */\n        @ManyToOne\n        private CandidateProfile candidateProfile;\n\n        /*Constructor*/\n        public ExperienceDetails() {\n            super();\n        }\n\n\n        /*Constructor using fields*/\n        /**\n         * @param id\n         * @param totExperience\n         * @param companiesMonthExperience\n         * @param _skills\n         * @param extraCurricular\n         * @param notes\n         * @param candidateProfile\n         */\n        public ExperienceDetails(int id, String totExperience, String companiesMonthExperience, String _skills,\n                String extraCurricular, String notes, CandidateProfile candidateProfile) {\n            super();\n            this.id = id;\n            this.totExperience = totExperience;\n            this.companiesMonthExperience = companiesMonthExperience;\n            this._skills = _skills;\n            this.extraCurricular = extraCurricular;\n            this.notes = notes;\n            this.candidateProfile = candidateProfile;\n        }\n\n        /* Generating Getters and setters */</pre>\n\n<p>/// This is my role entity //////</p>\n\n<pre>\n\n    import java.io.Serializable;\n    import java.util.List;\n\n    import javax.persistence.CascadeType;\n    import javax.persistence.Column;\n    import javax.persistence.Entity;\n    import javax.persistence.FetchType;\n    import javax.persistence.GeneratedValue;\n    import javax.persistence.Id;\n    import javax.persistence.OneToMany;\n    import javax.persistence.Table;\n    import javax.xml.bind.annotation.XmlRootElement;\n\n    import com.fasterxml.jackson.annotation.JsonBackReference;\n    import com.fasterxml.jackson.annotation.JsonIgnoreProperties;\n\n    @Entity\n    @Table(name=\"role\")\n    @JsonIgnoreProperties({\"hibernateLazyInitializer\", \"handler\"})\n    @XmlRootElement\n    public class Role implements Serializable {\n\n        private static final long serialVersionUID = 1L;\n\n        @Id\n        @GeneratedValue\n        private int id;\n\n        @Column(length = 10)\n        private String name;\n\n        @OneToMany(mappedBy = \"roleName\", fetch = FetchType.LAZY,cascade = CascadeType.REMOVE)\n        @JsonBackReference\n        private List candidateProfiles;\n\n        @OneToMany(mappedBy = \"companyRoleName\", fetch = FetchType.LAZY,cascade = CascadeType.REMOVE)\n        @JsonBackReference\n        private List recruiterDetails;\n\n</pre>\n\n<p>\nThis error I'm getting----------------</p>\n\n<pre><code>Failed to evaluate Jackson deserialization for type [[simple type, class \ncom.demo.project.premiumjobportal.model.CandidateProfile]]: \ncom.fasterxml.jackson.databind.JsonMappingException: Multiple back-reference \nproperties with name 'defaultReference'\n</code></pre>\n\n<p>Please help me with this. I searched everywhere and I tried every solution but then also I'm getting this error.</p>\n"},{"tags":["java","location","android-location"],"owner":{"account_id":25311834,"reputation":73,"user_id":19134480,"display_name":"Patrick Renaud"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":13,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676395691,"creation_date":1676395691,"question_id":75451308,"body_markdown":"I am implementing an android  application in java to retrieve Location but the location doesn&#39;t update every time i call the function , it always returns me the same positions and i don&#39;t understand why.First i collect the position by calling the getCurrentLocation function ,then the callbackLocation function to update the location and finally the  onstartLocationUpdates() to call the callbackLocation function;  .I also allow all the permission when launching the app. Here is the code i&#39;ve implemented :\r\n\r\n    public class TimeService extends Service {\r\n        private final static String TAG = TimeService.class.getName();\r\n        BroadcastReceiver mReceiver;\r\n        private LocationCallback locationCallback;\r\n    \r\n        LocationRequest locationRequest;\r\n      \r\n        FusedLocationProviderClient fusedClient;\r\n        double Longitude, Latitude, Altitude;\r\n        float Accuracy;\r\n       \r\n    \r\n        @Override\r\n        public void onCreate() {\r\n            super.onCreate();\r\n            fusedClient = LocationServices.getFusedLocationProviderClient(this);\r\n            LocalBroadcastManager.getInstance(this).registerReceiver(myReceiver, new IntentFilter(&quot;sendLocationIntent&quot;));\r\n     \r\n            getCurrentLocation();\r\n            callbackLocation();\r\n    \r\n        }\r\n    \r\n     \r\n    \r\n        //Here when i am trying to update the location when i receive the upcoming message\r\n       \r\n        private final BroadcastReceiver myReceiver = new BroadcastReceiver() {\r\n            @Override\r\n            public void onReceive(Context context, Intent intent) {\r\n                if (!intent.getAction().equals(&quot;sendLocationIntent&quot;)) {\r\n                    return;\r\n                }\r\n                onstartLocationUpdates();\r\n                String socket_id = intent.getStringExtra(&quot;socket_id&quot;);\r\n                String messageTosend = Latitude + &quot;:&quot; + Longitude + &quot;:&quot; + Altitude + &quot;:&quot; + Accuracy + &quot;:&quot; + socket_id + &quot;:&quot; + globals.getDeviceIMEI(TimeService.this);\r\n                ;\r\n                sendLocationMessageWithStatus();\r\n    \r\n    \r\n            }\r\n        };\r\n    \r\n       \r\n        protected void sendLocationMessageWithStatus(String phoneNumber, String Msg) {\r\n           \r\n        //Send message block\r\n        }\r\n    \r\n    \r\n     \r\n        public void getCurrentLocation() {\r\n            fusedClient.getLastLocation()\r\n                    .addOnSuccessListener(getMainExecutor(), new OnSuccessListener&lt;Location&gt;() {\r\n                        @Override\r\n                        public void onSuccess(Location location) {\r\n                            if (location != null) {\r\n                                Latitude = location.getLatitude();\r\n                                Longitude = location.getLongitude();\r\n                                Accuracy = location.getAccuracy();\r\n                            }\r\n                        }\r\n                    });\r\n            //Setting\r\n            createLocationRequest();\r\n            LocationSettingsRequest.Builder builder = new LocationSettingsRequest.Builder()\r\n                    .addLocationRequest(locationRequest);\r\n            SettingsClient client = LocationServices.getSettingsClient(this);\r\n            Task&lt;LocationSettingsResponse&gt; task = client.checkLocationSettings(builder.build());\r\n            task.addOnSuccessListener(getMainExecutor(), new OnSuccessListener&lt;LocationSettingsResponse&gt;() {\r\n                @Override\r\n                public void onSuccess(LocationSettingsResponse locationSettingsResponse) {\r\n                    // All location settings are satisfied. The client can initialize\r\n                    // location requests here.\r\n                    // ...\r\n                }\r\n            });\r\n    \r\n        }\r\n    \r\n        protected void createLocationRequest() {\r\n            locationRequest = new LocationRequest();\r\n            LocationRequest.Builder locationRequestBuilder = new LocationRequest.Builder(locationRequest);\r\n            locationRequestBuilder.setIntervalMillis(10000);\r\n            locationRequestBuilder.setMinUpdateIntervalMillis(5000);\r\n            locationRequestBuilder.setPriority(Priority.PRIORITY_HIGH_ACCURACY);\r\n        }\r\n        private void onstartLocationUpdates() {\r\n            if (ActivityCompat.checkSelfPermission(this, Manifest.permission.ACCESS_FINE_LOCATION) != PackageManager.PERMISSION_GRANTED &amp;&amp; ActivityCompat.checkSelfPermission(this, Manifest.permission.ACCESS_COARSE_LOCATION) != PackageManager.PERMISSION_GRANTED) {\r\n                return;\r\n            }\r\n            fusedClient.requestLocationUpdates(locationRequest,\r\n                    locationCallback,\r\n                    Looper.getMainLooper());\r\n     \r\n      private void callbackLocation(){\r\n          locationCallback = new LocationCallback() {\r\n              @Override\r\n              public void onLocationResult(LocationResult locationResult) {\r\n                  if (locationResult == null) {\r\n                      return;\r\n                  }\r\n                  for (Location location : locationResult.getLocations()) {\r\n                  \r\n                      Latitude = location.getLatitude();\r\n                      Longitude = location.getLongitude();\r\n                      Accuracy = location.getAccuracy();\r\n                  }\r\n              }\r\n          };\r\n      }\r\n    }\r\n\r\n","title":"location does&#39;t update after calling update function","body":"<p>I am implementing an android  application in java to retrieve Location but the location doesn't update every time i call the function , it always returns me the same positions and i don't understand why.First i collect the position by calling the getCurrentLocation function ,then the callbackLocation function to update the location and finally the  onstartLocationUpdates() to call the callbackLocation function;  .I also allow all the permission when launching the app. Here is the code i've implemented :</p>\n<pre><code>public class TimeService extends Service {\n    private final static String TAG = TimeService.class.getName();\n    BroadcastReceiver mReceiver;\n    private LocationCallback locationCallback;\n\n    LocationRequest locationRequest;\n  \n    FusedLocationProviderClient fusedClient;\n    double Longitude, Latitude, Altitude;\n    float Accuracy;\n   \n\n    @Override\n    public void onCreate() {\n        super.onCreate();\n        fusedClient = LocationServices.getFusedLocationProviderClient(this);\n        LocalBroadcastManager.getInstance(this).registerReceiver(myReceiver, new IntentFilter(&quot;sendLocationIntent&quot;));\n \n        getCurrentLocation();\n        callbackLocation();\n\n    }\n\n \n\n    //Here when i am trying to update the location when i receive the upcoming message\n   \n    private final BroadcastReceiver myReceiver = new BroadcastReceiver() {\n        @Override\n        public void onReceive(Context context, Intent intent) {\n            if (!intent.getAction().equals(&quot;sendLocationIntent&quot;)) {\n                return;\n            }\n            onstartLocationUpdates();\n            String socket_id = intent.getStringExtra(&quot;socket_id&quot;);\n            String messageTosend = Latitude + &quot;:&quot; + Longitude + &quot;:&quot; + Altitude + &quot;:&quot; + Accuracy + &quot;:&quot; + socket_id + &quot;:&quot; + globals.getDeviceIMEI(TimeService.this);\n            ;\n            sendLocationMessageWithStatus();\n\n\n        }\n    };\n\n   \n    protected void sendLocationMessageWithStatus(String phoneNumber, String Msg) {\n       \n    //Send message block\n    }\n\n\n \n    public void getCurrentLocation() {\n        fusedClient.getLastLocation()\n                .addOnSuccessListener(getMainExecutor(), new OnSuccessListener&lt;Location&gt;() {\n                    @Override\n                    public void onSuccess(Location location) {\n                        if (location != null) {\n                            Latitude = location.getLatitude();\n                            Longitude = location.getLongitude();\n                            Accuracy = location.getAccuracy();\n                        }\n                    }\n                });\n        //Setting\n        createLocationRequest();\n        LocationSettingsRequest.Builder builder = new LocationSettingsRequest.Builder()\n                .addLocationRequest(locationRequest);\n        SettingsClient client = LocationServices.getSettingsClient(this);\n        Task&lt;LocationSettingsResponse&gt; task = client.checkLocationSettings(builder.build());\n        task.addOnSuccessListener(getMainExecutor(), new OnSuccessListener&lt;LocationSettingsResponse&gt;() {\n            @Override\n            public void onSuccess(LocationSettingsResponse locationSettingsResponse) {\n                // All location settings are satisfied. The client can initialize\n                // location requests here.\n                // ...\n            }\n        });\n\n    }\n\n    protected void createLocationRequest() {\n        locationRequest = new LocationRequest();\n        LocationRequest.Builder locationRequestBuilder = new LocationRequest.Builder(locationRequest);\n        locationRequestBuilder.setIntervalMillis(10000);\n        locationRequestBuilder.setMinUpdateIntervalMillis(5000);\n        locationRequestBuilder.setPriority(Priority.PRIORITY_HIGH_ACCURACY);\n    }\n    private void onstartLocationUpdates() {\n        if (ActivityCompat.checkSelfPermission(this, Manifest.permission.ACCESS_FINE_LOCATION) != PackageManager.PERMISSION_GRANTED &amp;&amp; ActivityCompat.checkSelfPermission(this, Manifest.permission.ACCESS_COARSE_LOCATION) != PackageManager.PERMISSION_GRANTED) {\n            return;\n        }\n        fusedClient.requestLocationUpdates(locationRequest,\n                locationCallback,\n                Looper.getMainLooper());\n \n  private void callbackLocation(){\n      locationCallback = new LocationCallback() {\n          @Override\n          public void onLocationResult(LocationResult locationResult) {\n              if (locationResult == null) {\n                  return;\n              }\n              for (Location location : locationResult.getLocations()) {\n              \n                  Latitude = location.getLatitude();\n                  Longitude = location.getLongitude();\n                  Accuracy = location.getAccuracy();\n              }\n          }\n      };\n  }\n}\n</code></pre>\n"},{"tags":["java","tomcat","servlets","browser","netbeans"],"comments":[{"owner":{"account_id":3576533,"reputation":16716,"user_id":2985643,"accept_rate":40,"display_name":"skomisa"},"score":0,"creation_date":1676424429,"post_id":75451304,"comment_id":133133208,"body_markdown":"Update your question with the following information: [1] When you navigate to **Tools &gt; Options &gt; General**, what are the selected values for _Web Browser_ and _Proxy Settings_? [2] What happens when you click the **Test Connection** button for those selections?  Does it work or fail? (A screen shot would help.) [3] State your version of NetBeans.","body":"Update your question with the following information: [1] When you navigate to <b>Tools &gt; Options &gt; General</b>, what are the selected values for <i>Web Browser</i> and <i>Proxy Settings</i>? [2] What happens when you click the <b>Test Connection</b> button for those selections?  Does it work or fail? (A screen shot would help.) [3] State your version of NetBeans."},{"owner":{"account_id":27785600,"reputation":21,"user_id":21213111,"display_name":"cristianpaul76"},"score":0,"creation_date":1676478565,"post_id":75451304,"comment_id":133145993,"body_markdown":"Test connection works every time fine. Selected value browser is &quot;default-system-browser&quot; linked to [/usr/lib/firefox-esr/firefox-esr], it runs fine if invoked by shell. Netbeans version is 19.","body":"Test connection works every time fine. Selected value browser is &quot;default-system-browser&quot; linked to [/usr/lib/firefox-esr/firefox-esr], it runs fine if invoked by shell. Netbeans version is 19."},{"owner":{"account_id":3576533,"reputation":16716,"user_id":2985643,"accept_rate":40,"display_name":"skomisa"},"score":0,"creation_date":1676486972,"post_id":75451304,"comment_id":133148550,"body_markdown":"What do you mean by the _&quot;browser configuration inside option&quot;_? Not true solutions, but a couple of possible short-term workarounds: [1] Right-click your project to open **Properties**, then navigate to **Run** in the **Categories** list, and explicitly select Firefox as your browser from the **Browser** drop list. (Presumably your current selection there is _&quot;IDE&#39;s default browser&quot;_?) [2] Alternatively, use **Run &gt; Set Project Browser**. But neither of those approaches will resolve the underlying problem that your `&lt;Default System Browser&gt;`  configuration seems to be invalid...","body":"What do you mean by the <i>&quot;browser configuration inside option&quot;</i>? Not true solutions, but a couple of possible short-term workarounds: [1] Right-click your project to open <b>Properties</b>, then navigate to <b>Run</b> in the <b>Categories</b> list, and explicitly select Firefox as your browser from the <b>Browser</b> drop list. (Presumably your current selection there is <i>&quot;IDE&#39;s default browser&quot;</i>?) [2] Alternatively, use <b>Run &gt; Set Project Browser</b>. But neither of those approaches will resolve the underlying problem that your <code>&lt;Default System Browser&gt;</code>  configuration seems to be invalid..."},{"owner":{"account_id":3576533,"reputation":16716,"user_id":2985643,"accept_rate":40,"display_name":"skomisa"},"score":0,"creation_date":1676487513,"post_id":75451304,"comment_id":133148731,"body_markdown":"...To resolve that, navigate to **Tools &gt; Options &gt; General &gt; Web  Browser**, select `&lt;Default System Browser&gt;`, click **Edit...**, and make a note of the value in the **Process** field. Then repeat with `Firefox` as your **Web Browser** selection. Are the values in the two **Process** fields identical? If not, update the **Process** value for `&lt;Default System Browser&gt;` to that of your `Firefox` setting.","body":"...To resolve that, navigate to <b>Tools &gt; Options &gt; General &gt; Web  Browser</b>, select <code>&lt;Default System Browser&gt;</code>, click <b>Edit...</b>, and make a note of the value in the <b>Process</b> field. Then repeat with <code>Firefox</code> as your <b>Web Browser</b> selection. Are the values in the two <b>Process</b> fields identical? If not, update the <b>Process</b> value for <code>&lt;Default System Browser&gt;</code> to that of your <code>Firefox</code> setting."},{"owner":{"account_id":27785600,"reputation":21,"user_id":21213111,"display_name":"cristianpaul76"},"score":0,"creation_date":1676519982,"post_id":75451304,"comment_id":133154536,"body_markdown":"&quot;browser configuration inside option&quot; means Tool&gt;Option&gt;General&gt;Web Browser&gt;Edit. Follow this steps in netbeans you open a Window where you can configure or edit a new or old Browser to use in Netbeans. In that section mentioned above in Process Field there is the path to &quot;browser start command&quot;. In my case it points-out to /usr/lib/fire-fox/firefox; I tried to to launch firefox-esr following the path I write before and it runs correctly. Clicking on Project name Properties&gt;Run you get a drop list of browser to choose. In this second case browser doesn&#39;t start as before.","body":"&quot;browser configuration inside option&quot; means Tool&gt;Option&gt;General&gt;Web Browser&gt;Edit. Follow this steps in netbeans you open a Window where you can configure or edit a new or old Browser to use in Netbeans. In that section mentioned above in Process Field there is the path to &quot;browser start command&quot;. In my case it points-out to /usr/lib/fire-fox/firefox; I tried to to launch firefox-esr following the path I write before and it runs correctly. Clicking on Project name Properties&gt;Run you get a drop list of browser to choose. In this second case browser doesn&#39;t start as before."},{"owner":{"account_id":27785600,"reputation":21,"user_id":21213111,"display_name":"cristianpaul76"},"score":0,"creation_date":1676607484,"post_id":75451304,"comment_id":133175455,"body_markdown":"I don&#39;t know how to update my question posted here. I have written new one so I guess to delete thi question because malformed and useless. I hope my new one be improved.","body":"I don&#39;t know how to update my question posted here. I have written new one so I guess to delete thi question because malformed and useless. I hope my new one be improved."}],"owner":{"account_id":27785600,"reputation":21,"user_id":21213111,"display_name":"cristianpaul76"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676395681,"creation_date":1676395681,"question_id":75451304,"body_markdown":"I compiled a servlet with jsk19 with netbeans. Servlet is deployed on ApacheTomcat10. I can open that Servlet writing directly servlet URL pattern in my browser, but on Netbeans if I run this servlet a message appears &quot;browser cannot be run&quot;. I have checked many times my configuration with &quot;TOOLS&quot; &quot;OPTION&quot; &quot;GENERAL&quot;. I also tried to start browser (Firefox) via &quot;shell&quot; to be sure netbeans path configuration of browser was right and it was right. I Also tried to configure my browser clicking with right click mouse on my project and set up browser configuration inside option, but same trouble came-up.  My log file error in netbeans reports nothing about this error. Any guess?\r\n\r\n","title":"Browser doesnt&#39; run on netbens when I try to open a Servlet","body":"<p>I compiled a servlet with jsk19 with netbeans. Servlet is deployed on ApacheTomcat10. I can open that Servlet writing directly servlet URL pattern in my browser, but on Netbeans if I run this servlet a message appears &quot;browser cannot be run&quot;. I have checked many times my configuration with &quot;TOOLS&quot; &quot;OPTION&quot; &quot;GENERAL&quot;. I also tried to start browser (Firefox) via &quot;shell&quot; to be sure netbeans path configuration of browser was right and it was right. I Also tried to configure my browser clicking with right click mouse on my project and set up browser configuration inside option, but same trouble came-up.  My log file error in netbeans reports nothing about this error. Any guess?</p>\n"},{"tags":["java","arrays"],"owner":{"account_id":27785996,"reputation":17,"user_id":21213426,"display_name":"isopaleocopria"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"closed_date":1676396023,"answer_count":0,"score":0,"last_activity_date":1676395624,"creation_date":1676395518,"question_id":75451273,"body_markdown":"Given that Arrays.sort(Object[]) throws a runtime exception if any element of the array cannot be cast to Comparable, wouldn&#39;t it be better to make the method signature Arrays.sort(Comparable[]), and turn those runtime exceptions into compilation errors?\r\n\r\n","title":"In java.util, why is it Arrays.sort(Object[]) and not Arrays.sort(Comparable[])?","body":"<p>Given that Arrays.sort(Object[]) throws a runtime exception if any element of the array cannot be cast to Comparable, wouldn't it be better to make the method signature Arrays.sort(Comparable[]), and turn those runtime exceptions into compilation errors?</p>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":1473276,"reputation":111009,"user_id":1384297,"accept_rate":100,"display_name":"Andy Wilkinson"},"score":0,"creation_date":1676391886,"post_id":75450603,"comment_id":133125875,"body_markdown":"Can you add the complete stack trace and error message as text, not an image, to your question?","body":"Can you add the complete stack trace and error message as text, not an image, to your question?"},{"owner":{"account_id":19395247,"reputation":3208,"user_id":14183092,"display_name":"kerbermeister"},"score":0,"creation_date":1676391939,"post_id":75450603,"comment_id":133125893,"body_markdown":"Below that error message is supposed to be the actual reason. So provide your full stacktrace","body":"Below that error message is supposed to be the actual reason. So provide your full stacktrace"},{"owner":{"account_id":24691078,"reputation":21,"user_id":18583577,"display_name":"Casparo"},"score":0,"creation_date":1676394183,"post_id":75450603,"comment_id":133126600,"body_markdown":"@AndyWilkinson I have added the stacktrace please","body":"@AndyWilkinson I have added the stacktrace please"},{"owner":{"account_id":24691078,"reputation":21,"user_id":18583577,"display_name":"Casparo"},"score":0,"creation_date":1676394974,"post_id":75450603,"comment_id":133126860,"body_markdown":"@kerbermeister I have added the stacktrace please","body":"@kerbermeister I have added the stacktrace please"},{"owner":{"account_id":19395247,"reputation":3208,"user_id":14183092,"display_name":"kerbermeister"},"score":0,"creation_date":1676395309,"post_id":75450603,"comment_id":133126979,"body_markdown":"@Casparo have you configured the datasource? show application.properties (or application.yml, whatever you&#39;re using)","body":"@Casparo have you configured the datasource? show application.properties (or application.yml, whatever you&#39;re using)"},{"owner":{"account_id":24691078,"reputation":21,"user_id":18583577,"display_name":"Casparo"},"score":0,"creation_date":1676395395,"post_id":75450603,"comment_id":133127007,"body_markdown":"@kerbermeister please there&#39;s nothing in the application.properties","body":"@kerbermeister please there&#39;s nothing in the application.properties"},{"owner":{"account_id":19395247,"reputation":3208,"user_id":14183092,"display_name":"kerbermeister"},"score":0,"creation_date":1676395411,"post_id":75450603,"comment_id":133127012,"body_markdown":"read this https://www.baeldung.com/spring-boot-h2-database","body":"read this <a href=\"https://www.baeldung.com/spring-boot-h2-database\" rel=\"nofollow noreferrer\">baeldung.com/spring-boot-h2-database</a>"},{"owner":{"account_id":1473276,"reputation":111009,"user_id":1384297,"accept_rate":100,"display_name":"Andy Wilkinson"},"score":0,"creation_date":1676395656,"post_id":75450603,"comment_id":133127088,"body_markdown":"Hibernate couldn&#39;t load its `org.hibernate.boot.jaxb.hbm.transform.UnsupportedFeatureHandling` class. It&#39;s part of the `hibernate-core` module so it should have been available. I suspect that your `hibernate-core` jar is corrupted. I would try deleting Maven&#39;s local cache and rebuilding your application.","body":"Hibernate couldn&#39;t load its <code>org.hibernate.boot.jaxb.hbm.transform.UnsupportedFeatureHand&zwnj;&#8203;ling</code> class. It&#39;s part of the <code>hibernate-core</code> module so it should have been available. I suspect that your <code>hibernate-core</code> jar is corrupted. I would try deleting Maven&#39;s local cache and rebuilding your application."},{"owner":{"account_id":24691078,"reputation":21,"user_id":18583577,"display_name":"Casparo"},"score":0,"creation_date":1676395799,"post_id":75450603,"comment_id":133127130,"body_markdown":"Alright @kerbermeister","body":"Alright @kerbermeister"},{"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"score":0,"creation_date":1676395837,"post_id":75450603,"comment_id":133127143,"body_markdown":"Try changing the spring-boot-starter-parent version in the Pom.xml to 2.7.8. The versions or dependencies might change to one with the missing method. 3.0.2 uses jdk17 and many big changes.","body":"Try changing the spring-boot-starter-parent version in the Pom.xml to 2.7.8. The versions or dependencies might change to one with the missing method. 3.0.2 uses jdk17 and many big changes."},{"owner":{"account_id":24691078,"reputation":21,"user_id":18583577,"display_name":"Casparo"},"score":0,"creation_date":1676395992,"post_id":75450603,"comment_id":133127182,"body_markdown":"I created a new project with Spring Initializr but this time I did not add the H2 database dependency and its working now.","body":"I created a new project with Spring Initializr but this time I did not add the H2 database dependency and its working now."}],"owner":{"account_id":24691078,"reputation":21,"user_id":18583577,"display_name":"Casparo"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":609,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676395518,"creation_date":1676391705,"question_id":75450603,"body_markdown":"I just created a spring boot project using Spring Initializr and decide to run the application without doing anything to it but I get this error when running.\r\n\r\nBelow is my main class\r\n\r\n```java\r\nimport org.springframework.boot.SpringApplication;\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\n\r\n@SpringBootApplication\r\npublic class SpringbootTutorialAppApplication {\r\n \r\n \tpublic static void main(String[] args) {\r\n    \tSpringApplication.run(SpringbootTutorialAppApplication.class, args);\r\n    }\r\n}\r\n```\r\n\r\n[![enter image description here][1]][1]\r\n[![Below are images of my pom.xml][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/WO8AR.png\r\n  [2]: https://i.stack.imgur.com/1pqlm.png\r\n\r\nBelow is the stacktrace\r\n\r\n```\r\nError starting ApplicationContext. To display the condition evaluation report re-run your application with &#39;debug&#39; enabled.\r\n2023-02-14T16:58:28.725Z ERROR 7900 --- [           main] o.s.boot.SpringApplication               : Application run failed org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;entityManagerFactory&#39; defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: org/hibernate/boot/jaxb/hbm/transform/UnsupportedFeatureHandling\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1751)~[spring-beans-6.0.4.jar:6.0.4]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:599) ~[spring-beans-6.0.4.jar:6.0.4]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521) ~[spring-beans-6.0.4.jar:6.0.4]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.4.jar:6.0.4]\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.4.jar:6.0.4]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.4.jar:6.0.4]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.4.jar:6.0.4]\r\n\tat org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1130) ~[spring-context-6.0.4.jar:6.0.4]\r\n\tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:905) ~[spring-context-6.0.4.jar:6.0.4]\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:584) ~[spring-context-6.0.4.jar:6.0.4]\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.0.2.jar:3.0.2]\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:730) ~[spring-boot-3.0.2.jar:3.0.2]\r\n\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:432) ~[spring-boot-3.0.2.jar:3.0.2]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:308) ~[spring-boot-3.0.2.jar:3.0.2]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1302) ~[spring-boot-3.0.2.jar:3.0.2]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1291) ~[spring-boot-3.0.2.jar:3.0.2]\r\n\tat com.kessie.SpringbootTutorialApp.SpringbootTutorialAppApplication.main(SpringbootTutorialAppApplication.java:11) ~[classes/:na]\r\nCaused by: java.lang.NoClassDefFoundError: org/hibernate/boot/jaxb/hbm/transform/UnsupportedFeatureHandling\r\n\tat org.hibernate.boot.jaxb.internal.MappingBinder.&lt;init&gt;(MappingBinder.java:144) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\r\n\tat org.hibernate.boot.jaxb.internal.MappingBinder.&lt;init&gt;(MappingBinder.java:152) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\r\n\tat org.hibernate.boot.spi.XmlMappingBinderAccess.&lt;init&gt;(XmlMappingBinderAccess.java:44) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\r\n\tat org.hibernate.boot.MetadataSources.getXmlMappingBinderAccess(MetadataSources.java:119) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\r\n\tat org.hibernate.boot.model.process.spi.MetadataBuildingProcess.prepare(MetadataBuildingProcess.java:121) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\r\n\tat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.&lt;init&gt;(EntityManagerFactoryBuilderImpl.java:287) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\r\n\tat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.&lt;init&gt;(EntityManagerFactoryBuilderImpl.java:189) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\r\n\tat org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:60) ~[spring-orm-6.0.4.jar:6.0.4]\r\n\tat org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:376) ~[spring-orm-6.0.4.jar:6.0.4]\r\n\tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-6.0.4.jar:6.0.4]\r\n\tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-6.0.4.jar:6.0.4]\r\n\tat org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:352) ~[spring-orm-6.0.4.jar:6.0.4]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1797) ~[spring-beans-6.0.4.jar:6.0.4]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1747) ~[spring-beans-6.0.4.jar:6.0.4]\r\n\t... 16 common frames omitted\r\nCaused by: java.lang.ClassNotFoundException: org.hibernate.boot.jaxb.hbm.transform.UnsupportedFeatureHandling\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641) ~[na:na]\r\n\tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188) ~[na:na]\r\n\tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521) ~[na:na]\r\n\t... 30 common frames omitted\r\n\r\nProcess finished with exit code 1\r\n```\r\n\r\nI have seen similar questions posted here but the solutions provided seems not to work.","title":"Error starting ApplicationContext. To display the condition evaluation report re-run your application with &#39;debug&#39; enabled","body":"<p>I just created a spring boot project using Spring Initializr and decide to run the application without doing anything to it but I get this error when running.</p>\n<p>Below is my main class</p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\n\n@SpringBootApplication\npublic class SpringbootTutorialAppApplication {\n \n    public static void main(String[] args) {\n        SpringApplication.run(SpringbootTutorialAppApplication.class, args);\n    }\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/WO8AR.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/WO8AR.png\" alt=\"enter image description here\" /></a>\n<a href=\"https://i.stack.imgur.com/1pqlm.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/1pqlm.png\" alt=\"Below are images of my pom.xml\" /></a></p>\n<p>Below is the stacktrace</p>\n<pre><code>Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.\n2023-02-14T16:58:28.725Z ERROR 7900 --- [           main] o.s.boot.SpringApplication               : Application run failed org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: org/hibernate/boot/jaxb/hbm/transform/UnsupportedFeatureHandling\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1751)~[spring-beans-6.0.4.jar:6.0.4]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:599) ~[spring-beans-6.0.4.jar:6.0.4]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521) ~[spring-beans-6.0.4.jar:6.0.4]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.4.jar:6.0.4]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.4.jar:6.0.4]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.4.jar:6.0.4]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.4.jar:6.0.4]\n    at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1130) ~[spring-context-6.0.4.jar:6.0.4]\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:905) ~[spring-context-6.0.4.jar:6.0.4]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:584) ~[spring-context-6.0.4.jar:6.0.4]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.0.2.jar:3.0.2]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:730) ~[spring-boot-3.0.2.jar:3.0.2]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:432) ~[spring-boot-3.0.2.jar:3.0.2]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:308) ~[spring-boot-3.0.2.jar:3.0.2]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1302) ~[spring-boot-3.0.2.jar:3.0.2]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1291) ~[spring-boot-3.0.2.jar:3.0.2]\n    at com.kessie.SpringbootTutorialApp.SpringbootTutorialAppApplication.main(SpringbootTutorialAppApplication.java:11) ~[classes/:na]\nCaused by: java.lang.NoClassDefFoundError: org/hibernate/boot/jaxb/hbm/transform/UnsupportedFeatureHandling\n    at org.hibernate.boot.jaxb.internal.MappingBinder.&lt;init&gt;(MappingBinder.java:144) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\n    at org.hibernate.boot.jaxb.internal.MappingBinder.&lt;init&gt;(MappingBinder.java:152) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\n    at org.hibernate.boot.spi.XmlMappingBinderAccess.&lt;init&gt;(XmlMappingBinderAccess.java:44) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\n    at org.hibernate.boot.MetadataSources.getXmlMappingBinderAccess(MetadataSources.java:119) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\n    at org.hibernate.boot.model.process.spi.MetadataBuildingProcess.prepare(MetadataBuildingProcess.java:121) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\n    at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.&lt;init&gt;(EntityManagerFactoryBuilderImpl.java:287) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\n    at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.&lt;init&gt;(EntityManagerFactoryBuilderImpl.java:189) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\n    at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:60) ~[spring-orm-6.0.4.jar:6.0.4]\n    at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:376) ~[spring-orm-6.0.4.jar:6.0.4]\n    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-6.0.4.jar:6.0.4]\n    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-6.0.4.jar:6.0.4]\n    at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:352) ~[spring-orm-6.0.4.jar:6.0.4]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1797) ~[spring-beans-6.0.4.jar:6.0.4]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1747) ~[spring-beans-6.0.4.jar:6.0.4]\n    ... 16 common frames omitted\nCaused by: java.lang.ClassNotFoundException: org.hibernate.boot.jaxb.hbm.transform.UnsupportedFeatureHandling\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641) ~[na:na]\n    at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188) ~[na:na]\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521) ~[na:na]\n    ... 30 common frames omitted\n\nProcess finished with exit code 1\n</code></pre>\n<p>I have seen similar questions posted here but the solutions provided seems not to work.</p>\n"},{"tags":["java","spring-boot","spring-data-jpa","spring-data"],"owner":{"account_id":14482834,"reputation":3924,"user_id":10461625,"display_name":"PatPanda"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1676395396,"creation_date":1676395396,"question_id":75451246,"body_markdown":"Small question on SpringBoot and Spring Data, how to add an extra column please.\r\n\r\nI have a very small and straightforward web app which does nothing but save a pojo.\r\n\r\n```\r\n@RestController\r\npublic class MyController {\r\n\r\n    @Autowired MyCassandraRepository myCassandraRepository;\r\n\r\n    @GetMapping(path = &quot;/test&quot;, consumes = MediaType.APPLICATION_JSON_VALUE, produces = MediaType.APPLICATION_JSON_VALUE)\r\n    public Mono&lt;String&gt; test(@RequestBody MyPojo myPojo) {\r\n        MyDuplicatedPojoJustToAddExtraColumn myDuplicatedPojoJustToAddExtraColumn = new MyDuplicatedPojoJustToAddExtraColumn(myPojo, &quot;computeSomeExtraInfo&quot;);\r\n        return myCassandraRepository.save(myDuplicatedPojoJustToAddExtraColumn).map(__ -&gt; &quot;successButThereIsDuplicatePojo&quot;);\r\n    }\r\n\r\n}\r\n```\r\n\r\nThe pojo is from a third party library I have no control over:\r\n```\r\npublic class MyPojo {\r\n\r\n    @PrimaryKey\r\n    private String id;\r\n\r\n    private String value;\r\n    \r\n    //getter and setter\r\n\r\n}\r\n\r\n```\r\n\r\nWe used to just take the input pojo &quot;as it is&quot; and save it, happy.\r\n\r\nHowever, we had new requirement, where we need to compute some extra info, and then, save this pojo, with the extra information computed.\r\n\r\nQuestion: Is there a way to add the extra info without duplicating an object please?\r\n\r\nWhat I tried: so far, we could only do so by duplicating the object in our code base. Meaning, instead of just using the MyPojo object, we carry a redundant \r\n\r\n```\r\npublic class MyDuplicatedPojoJustToAddExtraColumn extends MyPojo {\r\n\r\n    private String someExtraInfoToPutInAnotherColumn;\r\n    \r\n    //getter and setter\r\n\r\n}\r\n```\r\n\r\nAnd in our code, we compute the extra info needed, copy all the fields from MyPojo back to this duplicate object, which has everything, and save it.\r\n\r\nIn this example, MyPojo has only two colums, but in fact, it is a very heavy object, and we duplicate it just to add one or two extra column.\r\n\r\nIs there a way to do so by just adding the info directly to the MyPojo, or in the Spring Data query, without having to duplicate things please?\r\n\r\nThank you","title":"Adding an extra column to pojo without duplicating an object with spring data","body":"<p>Small question on SpringBoot and Spring Data, how to add an extra column please.</p>\n<p>I have a very small and straightforward web app which does nothing but save a pojo.</p>\n<pre><code>@RestController\npublic class MyController {\n\n    @Autowired MyCassandraRepository myCassandraRepository;\n\n    @GetMapping(path = &quot;/test&quot;, consumes = MediaType.APPLICATION_JSON_VALUE, produces = MediaType.APPLICATION_JSON_VALUE)\n    public Mono&lt;String&gt; test(@RequestBody MyPojo myPojo) {\n        MyDuplicatedPojoJustToAddExtraColumn myDuplicatedPojoJustToAddExtraColumn = new MyDuplicatedPojoJustToAddExtraColumn(myPojo, &quot;computeSomeExtraInfo&quot;);\n        return myCassandraRepository.save(myDuplicatedPojoJustToAddExtraColumn).map(__ -&gt; &quot;successButThereIsDuplicatePojo&quot;);\n    }\n\n}\n</code></pre>\n<p>The pojo is from a third party library I have no control over:</p>\n<pre><code>public class MyPojo {\n\n    @PrimaryKey\n    private String id;\n\n    private String value;\n    \n    //getter and setter\n\n}\n\n</code></pre>\n<p>We used to just take the input pojo &quot;as it is&quot; and save it, happy.</p>\n<p>However, we had new requirement, where we need to compute some extra info, and then, save this pojo, with the extra information computed.</p>\n<p>Question: Is there a way to add the extra info without duplicating an object please?</p>\n<p>What I tried: so far, we could only do so by duplicating the object in our code base. Meaning, instead of just using the MyPojo object, we carry a redundant</p>\n<pre><code>public class MyDuplicatedPojoJustToAddExtraColumn extends MyPojo {\n\n    private String someExtraInfoToPutInAnotherColumn;\n    \n    //getter and setter\n\n}\n</code></pre>\n<p>And in our code, we compute the extra info needed, copy all the fields from MyPojo back to this duplicate object, which has everything, and save it.</p>\n<p>In this example, MyPojo has only two colums, but in fact, it is a very heavy object, and we duplicate it just to add one or two extra column.</p>\n<p>Is there a way to do so by just adding the info directly to the MyPojo, or in the Spring Data query, without having to duplicate things please?</p>\n<p>Thank you</p>\n"},{"tags":["java","enums","switch-statement"],"comments":[{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1501963977,"post_id":10161408,"comment_id":78012135,"body_markdown":"As darrengorman commented, Java [`Enum`](http://docs.oracle.com/javase/8/docs/api/java/lang/Enum.html) are *extremely* handy once you get the hang of them – not at all a mess. They are much more flexible and practical than simple enums (merely a labeled integer value) as seen on other platforms. See the [Oracle Tutorial](http://docs.oracle.com/javase/tutorial/java/javaOO/enum.html). Discover the optimized `Set`/`Map` implementations: [`EnumSet`](http://docs.oracle.com/javase/8/docs/api/java/util/EnumSet.html) &amp; [`EnumMap`](http://docs.oracle.com/javase/8/docs/api/java/util/EnumMap.html).","body":"As darrengorman commented, Java <a href=\"http://docs.oracle.com/javase/8/docs/api/java/lang/Enum.html\" rel=\"nofollow noreferrer\"><code>Enum</code></a> are <i>extremely</i> handy once you get the hang of them – not at all a mess. They are much more flexible and practical than simple enums (merely a labeled integer value) as seen on other platforms. See the <a href=\"http://docs.oracle.com/javase/tutorial/java/javaOO/enum.html\" rel=\"nofollow noreferrer\">Oracle Tutorial</a>. Discover the optimized <code>Set</code>/<code>Map</code> implementations: <a href=\"http://docs.oracle.com/javase/8/docs/api/java/util/EnumSet.html\" rel=\"nofollow noreferrer\"><code>EnumSet</code></a> &amp; <a href=\"http://docs.oracle.com/javase/8/docs/api/java/util/EnumMap.html\" rel=\"nofollow noreferrer\"><code>EnumMap</code></a>."},{"owner":{"account_id":3045270,"reputation":3818,"user_id":2581128,"display_name":"lkamal"},"score":2,"creation_date":1510858328,"post_id":10161408,"comment_id":81626017,"body_markdown":"When you try to qualify the case statement; in a way, you are trying to say that I can mix different types of enums (not just same enum type) within a single switch statement. Java has stopped it with this approach as discussed here http://www.digizol.com/2010/10/enum-case-label-switch-java-qualified.html","body":"When you try to qualify the case statement; in a way, you are trying to say that I can mix different types of enums (not just same enum type) within a single switch statement. Java has stopped it with this approach as discussed here <a href=\"http://www.digizol.com/2010/10/enum-case-label-switch-java-qualified.html\" rel=\"nofollow noreferrer\">digizol.com/2010/10/enum-case-label-switch-java-qualified.ht&zwnj;&#8203;ml</a>"},{"owner":{"account_id":1431635,"reputation":5085,"user_id":1353930,"accept_rate":50,"display_name":"Daniel Alder"},"score":0,"creation_date":1564388906,"post_id":10161408,"comment_id":100999884,"body_markdown":"This happened to me while refactoring (moving) a class in IntelliJ 2018.2","body":"This happened to me while refactoring (moving) a class in IntelliJ 2018.2"}],"answers":[{"comments":[{"owner":{"account_id":21994,"reputation":73808,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":28,"creation_date":1439990725,"post_id":10161441,"comment_id":52088102,"body_markdown":"Why _must_ it be unqualified?","body":"Why <i>must</i> it be unqualified?"},{"owner":{"account_id":101191,"reputation":4195,"user_id":272388,"accept_rate":100,"display_name":"Kru"},"score":13,"creation_date":1441044217,"post_id":10161441,"comment_id":52509494,"body_markdown":"If you could qualify, then you might use something else than `MyEnum` which would not make sense.","body":"If you could qualify, then you might use something else than <code>MyEnum</code> which would not make sense."},{"owner":{"account_id":1521739,"reputation":3696,"user_id":1421194,"accept_rate":73,"display_name":"Sasha"},"score":2,"creation_date":1510746290,"post_id":10161441,"comment_id":81563296,"body_markdown":"@Kru, but I **can** use something grammatically-else for non-enum-typed case expressions. E.g. `static final int MY_CONST = 7; …; switch(intVariable) {case MY_CONST: …;}` instead of `case 7`. So this restriction for enums makes **no** sense (I can use not only primary literals, but also manually-defined constants for integer `switch` expression, but I can&#39;t use manually-defined constants, but only primary names for enums).","body":"@Kru, but I <b>can</b> use something grammatically-else for non-enum-typed case expressions. E.g. <code>static final int MY_CONST = 7; …; switch(intVariable) {case MY_CONST: …;}</code> instead of <code>case 7</code>. So this restriction for enums makes <b>no</b> sense (I can use not only primary literals, but also manually-defined constants for integer <code>switch</code> expression, but I can&#39;t use manually-defined constants, but only primary names for enums)."},{"owner":{"account_id":11687350,"reputation":363,"user_id":13947194,"display_name":"user13947194"},"score":0,"creation_date":1627747194,"post_id":10161441,"comment_id":121241330,"body_markdown":"@Sasha enums in Java don&#39;t have integers assigned to them like in C++. They are abstract just like java boolean.","body":"@Sasha enums in Java don&#39;t have integers assigned to them like in C++. They are abstract just like java boolean."},{"owner":{"account_id":1521739,"reputation":3696,"user_id":1421194,"accept_rate":73,"display_name":"Sasha"},"score":0,"creation_date":1642256858,"post_id":10161441,"comment_id":125025064,"body_markdown":"@user13947194, nobody said they have. I just pointed out the logical fallacy: for one type we can use both the primary literals and the manually-defined constants while for the other type we can use only primary names but not manually-defined constants.","body":"@user13947194, nobody said they have. I just pointed out the logical fallacy: for one type we can use both the primary literals and the manually-defined constants while for the other type we can use only primary names but not manually-defined constants."},{"owner":{"account_id":11687350,"reputation":363,"user_id":13947194,"display_name":"user13947194"},"score":0,"creation_date":1642270074,"post_id":10161441,"comment_id":125028238,"body_markdown":"@Sasha I don&#39;t understand what you are talking about. Java enums are not associated with an integer and can&#39;t be associated with an integer. They can only be referenced by their name.","body":"@Sasha I don&#39;t understand what you are talking about. Java enums are not associated with an integer and can&#39;t be associated with an integer. They can only be referenced by their name."},{"owner":{"account_id":1521739,"reputation":3696,"user_id":1421194,"accept_rate":73,"display_name":"Sasha"},"score":0,"creation_date":1642664270,"post_id":10161441,"comment_id":125132199,"body_markdown":"@user13947194, “They [enum values] can only be referenced by their name” — nope. We can create aliases for enum values — `static final MyEnumType aliasToEnumValue = MyEnumType.VALUE_A`; as well as we can create aliases for integer values — `static final int aliasToIntValue = 12`. But the design flaw is that only the latter (`case aliasToIntValue`) can be used a case label but not the former (`case aliasToEnumValue`). (As for “Java enums are not associated with an integer and can&#39;t be associated with an integer” — please don&#39;t argue with the statements that I have never expressed.)","body":"@user13947194, “They [enum values] can only be referenced by their name” — nope. We can create aliases for enum values — <code>static final MyEnumType aliasToEnumValue = MyEnumType.VALUE_A</code>; as well as we can create aliases for integer values — <code>static final int aliasToIntValue = 12</code>. But the design flaw is that only the latter (<code>case aliasToIntValue</code>) can be used a case label but not the former (<code>case aliasToEnumValue</code>). (As for “Java enums are not associated with an integer and can&#39;t be associated with an integer” — please don&#39;t argue with the statements that I have never expressed.)"},{"owner":{"account_id":11687350,"reputation":363,"user_id":13947194,"display_name":"user13947194"},"score":0,"creation_date":1642801771,"post_id":10161441,"comment_id":125177676,"body_markdown":"@Sasha now I understand you. I think enums in Java are Objects, and when you apply final to Objects you only have a const pointer and not a const Object. int on the other hand is a primitive. Applying final to int makes the value itself const. Another thing is, you probably dont need to do this, and Java is the type of parent to push you in the &quot;right&quot; direction.","body":"@Sasha now I understand you. I think enums in Java are Objects, and when you apply final to Objects you only have a const pointer and not a const Object. int on the other hand is a primitive. Applying final to int makes the value itself const. Another thing is, you probably dont need to do this, and Java is the type of parent to push you in the &quot;right&quot; direction."},{"owner":{"account_id":1521739,"reputation":3696,"user_id":1421194,"accept_rate":73,"display_name":"Sasha"},"score":0,"creation_date":1642834187,"post_id":10161441,"comment_id":125182285,"body_markdown":"@user13947194, &quot;when you apply final to Objects you only have a const pointer and not a const Object&quot; — that doesn&#39;t matter whether the object itself is const or not, because: (1) `const final myAlias = MyEnumType.VALUE_E` copies only the pointer; (2) `switch (myEnumValue) {…}` compares only the pointer. So fields in `MyEnumType` (if there are any) are irrelevant here. So, handling of enums and ints/chars is identical here (but syntax is different and that&#39;s weird). &quot;you probably dont need&quot;. Of course, I need.","body":"@user13947194, &quot;when you apply final to Objects you only have a const pointer and not a const Object&quot; — that doesn&#39;t matter whether the object itself is const or not, because: (1) <code>const final myAlias = MyEnumType.VALUE_E</code> copies only the pointer; (2) <code>switch (myEnumValue) {…}</code> compares only the pointer. So fields in <code>MyEnumType</code> (if there are any) are irrelevant here. So, handling of enums and ints/chars is identical here (but syntax is different and that&#39;s weird). &quot;you probably dont need&quot;. Of course, I need."},{"owner":{"account_id":1521739,"reputation":3696,"user_id":1421194,"accept_rate":73,"display_name":"Sasha"},"score":0,"creation_date":1642834939,"post_id":10161441,"comment_id":125182392,"body_markdown":"My philosophy is: every logical inconsistency (including syntactic ones) may bite, sooner or later. Even if a specific one haven&#39;t bitten somebody yet, that doesn&#39;t mean it will never do that.","body":"My philosophy is: every logical inconsistency (including syntactic ones) may bite, sooner or later. Even if a specific one haven&#39;t bitten somebody yet, that doesn&#39;t mean it will never do that."},{"owner":{"account_id":11687350,"reputation":363,"user_id":13947194,"display_name":"user13947194"},"score":0,"creation_date":1642911782,"post_id":10161441,"comment_id":125197414,"body_markdown":"@Sasha I don&#39;t know how you reckon that switch(myEnumValue) compares only the pointer. If that were the case, two enum objects of the same value would not compare equal.","body":"@Sasha I don&#39;t know how you reckon that switch(myEnumValue) compares only the pointer. If that were the case, two enum objects of the same value would not compare equal."},{"owner":{"account_id":1521739,"reputation":3696,"user_id":1421194,"accept_rate":73,"display_name":"Sasha"},"score":0,"creation_date":1642968750,"post_id":10161441,"comment_id":125209382,"body_markdown":"@user13947194, can you please provide an example of what you mean by &quot;two enum objects of the same value&quot;?","body":"@user13947194, can you please provide an example of what you mean by &quot;two enum objects of the same value&quot;?"},{"owner":{"account_id":11687350,"reputation":363,"user_id":13947194,"display_name":"user13947194"},"score":0,"creation_date":1642970727,"post_id":10161441,"comment_id":125209849,"body_markdown":"@Sasha I did a little research and found that you can&#39;t create multiple instances of an enum using new keyword. Which means only one instance of an enum is created. One might then think we can switch on pointers. But sadly you cant do that because pointers are only known at runtime. To emphasize the point, switch statements only work on values known at compile time. To emphasize further, since you only and can only make the pointer const; Java has no way of knowing what value is stored in your enum variable. You can change that value at anytime, during runtime.","body":"@Sasha I did a little research and found that you can&#39;t create multiple instances of an enum using new keyword. Which means only one instance of an enum is created. One might then think we can switch on pointers. But sadly you cant do that because pointers are only known at runtime. To emphasize the point, switch statements only work on values known at compile time. To emphasize further, since you only and can only make the pointer const; Java has no way of knowing what value is stored in your enum variable. You can change that value at anytime, during runtime."},{"owner":{"account_id":1521739,"reputation":3696,"user_id":1421194,"accept_rate":73,"display_name":"Sasha"},"score":0,"creation_date":1643021468,"post_id":10161441,"comment_id":125220607,"body_markdown":"@user13947194… ([0] “you can&#39;t create multiple instances of an enum using new keyword” — of course.) So, I&#39;ve checked the generated bytecode. [1] You were right that, in case of enums, Java&#39;s `switch` doesn&#39;t simply compare pointers (although I disagree that pointer is always unknown at compile time; it&#39;s possible to know in some cases; but Java doesn&#39;t use that). [2] You were wrong that it checks the values of the fields; instead, it checks the result of the call to the enum&#39;s predefined virtual method; that&#39;s the thing a user can&#39;t influence (regardless to whether fields are const or no).","body":"@user13947194… ([0] “you can&#39;t create multiple instances of an enum using new keyword” — of course.) So, I&#39;ve checked the generated bytecode. [1] You were right that, in case of enums, Java&#39;s <code>switch</code> doesn&#39;t simply compare pointers (although I disagree that pointer is always unknown at compile time; it&#39;s possible to know in some cases; but Java doesn&#39;t use that). [2] You were wrong that it checks the values of the fields; instead, it checks the result of the call to the enum&#39;s predefined virtual method; that&#39;s the thing a user can&#39;t influence (regardless to whether fields are const or no)."},{"owner":{"account_id":1521739,"reputation":3696,"user_id":1421194,"accept_rate":73,"display_name":"Sasha"},"score":0,"creation_date":1643022238,"post_id":10161441,"comment_id":125220861,"body_markdown":"@user13947194, so, in general, I oppose to your assumption that inability to mark an object value as const somehow relates to the restriction of using enum aliases as `switch` case labels.","body":"@user13947194, so, in general, I oppose to your assumption that inability to mark an object value as const somehow relates to the restriction of using enum aliases as <code>switch</code> case labels."},{"owner":{"account_id":11687350,"reputation":363,"user_id":13947194,"display_name":"user13947194"},"score":0,"creation_date":1643072619,"post_id":10161441,"comment_id":125238317,"body_markdown":"@Sasha You mind telling me how pointers can be known at compile time? Whether it checks a value or a value obtained from a method is not the point. The point is you can change the value of your enum variable at anytime via assigning it a different value. `MyEnum y = MyEnum.a; y = MyEnum.z;` If you further &#39;oppose&#39; my &#39;assumption&#39; I can&#39;t make a better case.","body":"@Sasha You mind telling me how pointers can be known at compile time? Whether it checks a value or a value obtained from a method is not the point. The point is you can change the value of your enum variable at anytime via assigning it a different value. <code>MyEnum y = MyEnum.a; y = MyEnum.z;</code> If you further &#39;oppose&#39; my &#39;assumption&#39; I can&#39;t make a better case."},{"owner":{"account_id":1521739,"reputation":3696,"user_id":1421194,"accept_rate":73,"display_name":"Sasha"},"score":0,"creation_date":1643098184,"post_id":10161441,"comment_id":125242938,"body_markdown":"@user13947194, &quot;you can change the value of your enum variable at anytime via assigning it a different value&quot;. You can&#39;t. In `MyEnum y = MyEnum.a; y = MyEnum.z`, exactly the &quot;pointer&quot; gets changed (not the &quot;object&quot; itself). And when `MyEnum y` is marked as `final`, changing the &quot;pointer&quot; is forbidden. (As for the pointers at compile time, it&#39;s off-topic, because it&#39;s not used here anyway; and I was partially wrong — not the pointers themselves but their offsets to a certain base can be theoretically known at compile time (which should be still enough); but that&#39;s not used anyway here.)","body":"@user13947194, &quot;you can change the value of your enum variable at anytime via assigning it a different value&quot;. You can&#39;t. In <code>MyEnum y = MyEnum.a; y = MyEnum.z</code>, exactly the &quot;pointer&quot; gets changed (not the &quot;object&quot; itself). And when <code>MyEnum y</code> is marked as <code>final</code>, changing the &quot;pointer&quot; is forbidden. (As for the pointers at compile time, it&#39;s off-topic, because it&#39;s not used here anyway; and I was partially wrong — not the pointers themselves but their offsets to a certain base can be theoretically known at compile time (which should be still enough); but that&#39;s not used anyway here.)"},{"owner":{"account_id":11687350,"reputation":363,"user_id":13947194,"display_name":"user13947194"},"score":0,"creation_date":1643554438,"post_id":10161441,"comment_id":125365912,"body_markdown":"@Sasha you make a tough point. I must say I never ever create Java enums and always used static final ints. Yes you can&#39;t modify a final enum pointer; essentially making it truly immutable. Now all we need to do is compare the offsets; and we know them at compile time! The only thing I can think of is, are these offsets relative to the entire app?","body":"@Sasha you make a tough point. I must say I never ever create Java enums and always used static final ints. Yes you can&#39;t modify a final enum pointer; essentially making it truly immutable. Now all we need to do is compare the offsets; and we know them at compile time! The only thing I can think of is, are these offsets relative to the entire app?"},{"owner":{"account_id":1521739,"reputation":3696,"user_id":1421194,"accept_rate":73,"display_name":"Sasha"},"score":0,"creation_date":1644073265,"post_id":10161441,"comment_id":125510944,"body_markdown":"@user13947194, sorry for not replying, there was a rush at work. I suppose, these offsets are per module (i.e. per `*.dll`- or `*.so`-file in the native world and per `*.jar` file in JRE world). Because every module may expect that all of its “static” data is put into contiguous area by the “linker” but has no clue about other modules&#39; “static” data. But that would be enough, as all values for a specific enum are always declared in the same module (Java doesn&#39;t support extending enums).","body":"@user13947194, sorry for not replying, there was a rush at work. I suppose, these offsets are per module (i.e. per <code>*.dll</code>- or <code>*.so</code>-file in the native world and per <code>*.jar</code> file in JRE world). Because every module may expect that all of its “static” data is put into contiguous area by the “linker” but has no clue about other modules&#39; “static” data. But that would be enough, as all values for a specific enum are always declared in the same module (Java doesn&#39;t support extending enums)."},{"owner":{"account_id":1521739,"reputation":3696,"user_id":1421194,"accept_rate":73,"display_name":"Sasha"},"score":0,"creation_date":1644073691,"post_id":10161441,"comment_id":125511057,"body_markdown":"Nevertheless, I think this is offtopic, as (1) Java uses virtual method calls (not pointer offsets) when comparing enums in `switch` and (2) as well as the pointer offsets  strategy, the current strategy (based on virtual method calls) doesn&#39;t in any way prevent from using enum aliases in `switch`es. So, to be short, the only thing that prevents us from using enum aliases in `switch`es in Java is the syntax (technical reasons don&#39;t prevent it). Do you agree now with me that such syntax is a design flaw?","body":"Nevertheless, I think this is offtopic, as (1) Java uses virtual method calls (not pointer offsets) when comparing enums in <code>switch</code> and (2) as well as the pointer offsets  strategy, the current strategy (based on virtual method calls) doesn&#39;t in any way prevent from using enum aliases in <code>switch</code>es. So, to be short, the only thing that prevents us from using enum aliases in <code>switch</code>es in Java is the syntax (technical reasons don&#39;t prevent it). Do you agree now with me that such syntax is a design flaw?"},{"owner":{"account_id":11687350,"reputation":363,"user_id":13947194,"display_name":"user13947194"},"score":0,"creation_date":1644178656,"post_id":10161441,"comment_id":125531435,"body_markdown":"I am happy that you are busy at work. I am busy coding too, but self study. Now your first logic/ point is that since the entire enum is stored in one JAR file; Java would be able to deduce via offset. There is a problem sadly. A Java object can exist in multiple class/JAR files. Infact a java object can be received over a network. The short story, you can&#39;t rely on offsets to deduce a Java Object. Other possible problem is the assumption that Java can manipulate offsets to deduce an object. Once an object is loaded into memory it is now an OS specific environment.","body":"I am happy that you are busy at work. I am busy coding too, but self study. Now your first logic/ point is that since the entire enum is stored in one JAR file; Java would be able to deduce via offset. There is a problem sadly. A Java object can exist in multiple class/JAR files. Infact a java object can be received over a network. The short story, you can&#39;t rely on offsets to deduce a Java Object. Other possible problem is the assumption that Java can manipulate offsets to deduce an object. Once an object is loaded into memory it is now an OS specific environment."},{"owner":{"account_id":11687350,"reputation":363,"user_id":13947194,"display_name":"user13947194"},"score":0,"creation_date":1644179064,"post_id":10161441,"comment_id":125531531,"body_markdown":"Your second logic is that your logic one is off topic aka irrelevant to our discussion; as Java uses virtual method calls to get enum value. This shows me you didn&#39;t learn from my previous elaborations. You cannot switch on method calls as methods calls are not integer values. You cannot switch on pointers because pointers are only known at runtime.","body":"Your second logic is that your logic one is off topic aka irrelevant to our discussion; as Java uses virtual method calls to get enum value. This shows me you didn&#39;t learn from my previous elaborations. You cannot switch on method calls as methods calls are not integer values. You cannot switch on pointers because pointers are only known at runtime."},{"owner":{"account_id":1521739,"reputation":3696,"user_id":1421194,"accept_rate":73,"display_name":"Sasha"},"score":0,"creation_date":1644306430,"post_id":10161441,"comment_id":125564609,"body_markdown":"@user13947194, yes, let&#39;s really stop discussion of pointers, because they are really offtopic (despite I believe that you&#39;re not 100% correct about them). Method calls aren&#39;t integer values but they return integer values. To be precise, Java uses virtual method call to determine the integer value associated with the result of an enum-typed expression in parentheses (after `switch`) while the integer values associated with the enum values used as `case` labels are known at compile-time. (That&#39;s how it works de-facto, you can check that with `javap`.)","body":"@user13947194, yes, let&#39;s really stop discussion of pointers, because they are really offtopic (despite I believe that you&#39;re not 100% correct about them). Method calls aren&#39;t integer values but they return integer values. To be precise, Java uses virtual method call to determine the integer value associated with the result of an enum-typed expression in parentheses (after <code>switch</code>) while the integer values associated with the enum values used as <code>case</code> labels are known at compile-time. (That&#39;s how it works de-facto, you can check that with <code>javap</code>.)"},{"owner":{"account_id":1521739,"reputation":3696,"user_id":1421194,"accept_rate":73,"display_name":"Sasha"},"score":0,"creation_date":1644306433,"post_id":10161441,"comment_id":125564610,"body_markdown":"(BTW, I need to say sorry, because some time ago I said “I never stated that enums have associated ints”, but now I do state that. Because at that point of time I didn&#39;t care about actual implementation and didn&#39;t look into `javap` and then I did.) And, to say truth, now I don&#39;t understand your point at all: IIUC, you&#39;re saying that `switch` for enums in Java can be implemented neither by comparing pointers (or offsets) nor by calling a virtual method; but the fact is that `switch` for enums is impemented in Java in some way; does that mean that you assume some _third_ way?","body":"(BTW, I need to say sorry, because some time ago I said “I never stated that enums have associated ints”, but now I do state that. Because at that point of time I didn&#39;t care about actual implementation and didn&#39;t look into <code>javap</code> and then I did.) And, to say truth, now I don&#39;t understand your point at all: IIUC, you&#39;re saying that <code>switch</code> for enums in Java can be implemented neither by comparing pointers (or offsets) nor by calling a virtual method; but the fact is that <code>switch</code> for enums is impemented in Java in some way; does that mean that you assume some <i>third</i> way?"},{"owner":{"account_id":11687350,"reputation":363,"user_id":13947194,"display_name":"user13947194"},"score":0,"creation_date":1644324413,"post_id":10161441,"comment_id":125571459,"body_markdown":"I am happy you finally get that you can&#39;t switch on a method; you must switch on the integer it returns. Question: what do you know about polymorphic/ virtual methods. If nothing else you must know that virtual methods are runtime features. Cannot be deduced at compile time. So even if Java doesn&#39;t use virtual pointer tables to implement virtual methods; it makes no difference as they are still runtime information. And switch statements require that they be known at compile time.","body":"I am happy you finally get that you can&#39;t switch on a method; you must switch on the integer it returns. Question: what do you know about polymorphic/ virtual methods. If nothing else you must know that virtual methods are runtime features. Cannot be deduced at compile time. So even if Java doesn&#39;t use virtual pointer tables to implement virtual methods; it makes no difference as they are still runtime information. And switch statements require that they be known at compile time."}],"tags":[],"owner":{"account_id":101191,"reputation":4195,"user_id":272388,"accept_rate":100,"display_name":"Kru"},"comment_count":25,"down_vote_count":0,"up_vote_count":44,"is_accepted":false,"score":44,"last_activity_date":1334487833,"creation_date":1334487833,"answer_id":10161441,"question_id":10161408,"body_markdown":"Java infers automatically the type of the elements in `case`, so the labels must be unqualified.\r\n\r\n    int i;\r\n    switch(i) {\r\n       case 5: // &lt;- integer is expected\r\n    }\r\n    MyEnum e;\r\n    switch (e) {\r\n       case VALUE_A: // &lt;- an element of the enumeration is expected\r\n    }","title":"Java: using switch statement with enum under subclass","body":"<p>Java infers automatically the type of the elements in <code>case</code>, so the labels must be unqualified.</p>\n\n<pre><code>int i;\nswitch(i) {\n   case 5: // &lt;- integer is expected\n}\nMyEnum e;\nswitch (e) {\n   case VALUE_A: // &lt;- an element of the enumeration is expected\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1011831,"reputation":6443,"user_id":1024246,"accept_rate":80,"display_name":"Popokoko"},"score":24,"creation_date":1334488149,"post_id":10161455,"comment_id":13034685,"body_markdown":"Ok i feel so stupid :-(\nYou are totally right, i was convinced i tried this exact line and got an error with that so i moved to qualify case, but your suggestion DOES work.","body":"Ok i feel so stupid :-( You are totally right, i was convinced i tried this exact line and got an error with that so i moved to qualify case, but your suggestion DOES work."},{"owner":{"account_id":26594,"reputation":13012,"user_id":69352,"display_name":"darrengorman"},"score":5,"creation_date":1334488621,"post_id":10161455,"comment_id":13034767,"body_markdown":"By the way I think you&#39;ll find that enums in Java are incredibly useful once you start to use them more, I wouldn&#39;t say they&#39;re a mess at all :)","body":"By the way I think you&#39;ll find that enums in Java are incredibly useful once you start to use them more, I wouldn&#39;t say they&#39;re a mess at all :)"},{"owner":{"account_id":1011831,"reputation":6443,"user_id":1024246,"accept_rate":80,"display_name":"Popokoko"},"score":1,"creation_date":1334488816,"post_id":10161455,"comment_id":13034796,"body_markdown":"I believe i will find you are right in the close future :) Anyway, this is definitely the best programming forum around thanks to people like you.","body":"I believe i will find you are right in the close future :) Anyway, this is definitely the best programming forum around thanks to people like you."},{"owner":{"account_id":85991,"reputation":2007,"user_id":239431,"accept_rate":42,"display_name":"jjz"},"score":22,"creation_date":1386351811,"post_id":10161455,"comment_id":30516921,"body_markdown":"@milkplusvellocet, I know this post is already old, but I&#39;m curious why Java don&#39;t allow the **qualified case label** in the switch statement?","body":"@milkplusvellocet, I know this post is already old, but I&#39;m curious why Java don&#39;t allow the <b>qualified case label</b> in the switch statement?"},{"owner":{"account_id":26594,"reputation":13012,"user_id":69352,"display_name":"darrengorman"},"score":5,"creation_date":1386584938,"post_id":10161455,"comment_id":30585876,"body_markdown":"@cRane01 don&#39;t know for sure, but it makes for a cleaner syntax. Specifying the type on each case would be totally redundant","body":"@cRane01 don&#39;t know for sure, but it makes for a cleaner syntax. Specifying the type on each case would be totally redundant"},{"owner":{"account_id":135130,"reputation":3754,"user_id":1070480,"accept_rate":78,"display_name":"HelloGoodbye"},"score":1,"creation_date":1410087138,"post_id":10161455,"comment_id":40187778,"body_markdown":"What about if you have another constant called the same thing in another class? Wouldn&#39;t `VALUE_A` be ambiguous in that case?","body":"What about if you have another constant called the same thing in another class? Wouldn&#39;t <code>VALUE_A</code> be ambiguous in that case?"},{"owner":{"account_id":4563475,"reputation":27298,"user_id":3705127,"accept_rate":52,"display_name":"sprinter"},"score":4,"creation_date":1450835372,"post_id":10161455,"comment_id":56595925,"body_markdown":"@HelloGoodbye No. The switch statement&#39;s variable defines the type of the case statement so it can only be one enum.","body":"@HelloGoodbye No. The switch statement&#39;s variable defines the type of the case statement so it can only be one enum."},{"owner":{"account_id":6390107,"reputation":2466,"user_id":4956586,"accept_rate":79,"display_name":"JakeTheSnake"},"score":0,"creation_date":1479332489,"post_id":10161455,"comment_id":68517743,"body_markdown":"Question: Let&#39;s say I have: `enum AnimalType { Fish, Horse }`. I have a parameter `AnimalType a` in a function with the statement: `switch(myAnimal.getType())` and then `case a` in that. I get the error, what to do?","body":"Question: Let&#39;s say I have: <code>enum AnimalType { Fish, Horse }</code>. I have a parameter <code>AnimalType a</code> in a function with the statement: <code>switch(myAnimal.getType())</code> and then <code>case a</code> in that. I get the error, what to do?"},{"owner":{"account_id":4534566,"reputation":4099,"user_id":3684132,"accept_rate":63,"display_name":"BAERUS"},"score":4,"creation_date":1612165940,"post_id":10161455,"comment_id":116671338,"body_markdown":"Upvoted this answer already back in 2015 .. here we go again :D Still don&#39;t understand why a qualified name is a compiler error. Like, if it&#39;s ugly and redundant, so be it, that&#39;s on my shoulders. My IDE can tell me that it&#39;s unnecessary, but crashing the compiling? I don&#39;t know ... Seems odd to me at least, and therefore unintuitive.","body":"Upvoted this answer already back in 2015 .. here we go again :D Still don&#39;t understand why a qualified name is a compiler error. Like, if it&#39;s ugly and redundant, so be it, that&#39;s on my shoulders. My IDE can tell me that it&#39;s unnecessary, but crashing the compiling? I don&#39;t know ... Seems odd to me at least, and therefore unintuitive."},{"owner":{"account_id":367746,"reputation":24129,"user_id":714112,"accept_rate":80,"display_name":"Sridhar Sarnobat"},"score":0,"creation_date":1615578443,"post_id":10161455,"comment_id":117744116,"body_markdown":"This is slightly counter-intuitive but solved my issue too. When you have a slow build for a large system (made worse by gradle) and have to upgrade a library due to a CVE security flaw urgently, this compile error costs me a lot of valuable time.","body":"This is slightly counter-intuitive but solved my issue too. When you have a slow build for a large system (made worse by gradle) and have to upgrade a library due to a CVE security flaw urgently, this compile error costs me a lot of valuable time."}],"tags":[],"owner":{"account_id":26594,"reputation":13012,"user_id":69352,"display_name":"darrengorman"},"comment_count":10,"down_vote_count":1,"up_vote_count":790,"is_accepted":true,"score":789,"last_activity_date":1334487913,"creation_date":1334487913,"answer_id":10161455,"question_id":10161408,"body_markdown":"Change it to this:\r\n\r\n    switch (enumExample) {\r\n        case VALUE_A: {\r\n            //..\r\n            break;\r\n        }\r\n    }\r\n\r\nThe clue is in the error. You don&#39;t need to qualify `case` labels with the enum type, just its value.","title":"Java: using switch statement with enum under subclass","body":"<p>Change it to this:</p>\n\n<pre><code>switch (enumExample) {\n    case VALUE_A: {\n        //..\n        break;\n    }\n}\n</code></pre>\n\n<p>The clue is in the error. You don't need to qualify <code>case</code> labels with the enum type, just its value.</p>\n"},{"tags":[],"owner":{"account_id":1375604,"reputation":7717,"user_id":1309650,"accept_rate":33,"display_name":"dash1e"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1334488078,"creation_date":1334488078,"answer_id":10161479,"question_id":10161408,"body_markdown":"Write `someMethod()` in this way:\r\n\r\n\r\n\tpublic void someMethod() {\r\n\r\n\t\tSomeClass.AnotherClass.MyEnum enumExample = SomeClass.AnotherClass.MyEnum.VALUE_A;\r\n\r\n\t\tswitch (enumExample) {\r\n\t\tcase VALUE_A:\r\n\t\t\tbreak;\r\n\t\t}\r\n\r\n\t}\r\n\r\nIn switch statement you must use the constant name only.\r\n","title":"Java: using switch statement with enum under subclass","body":"<p>Write <code>someMethod()</code> in this way:</p>\n\n<pre><code>public void someMethod() {\n\n    SomeClass.AnotherClass.MyEnum enumExample = SomeClass.AnotherClass.MyEnum.VALUE_A;\n\n    switch (enumExample) {\n    case VALUE_A:\n        break;\n    }\n\n}\n</code></pre>\n\n<p>In switch statement you must use the constant name only.</p>\n"},{"comments":[{"owner":{"account_id":11692919,"reputation":584,"user_id":8560556,"display_name":"Soham Mehta"},"score":0,"creation_date":1559602003,"post_id":10161488,"comment_id":99465035,"body_markdown":"You saved the day!","body":"You saved the day!"}],"tags":[],"owner":{"account_id":1399756,"reputation":115,"user_id":1328745,"accept_rate":50,"display_name":"Woyzeck"},"comment_count":1,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1334488144,"creation_date":1334488144,"answer_id":10161488,"question_id":10161408,"body_markdown":"this should do:\r\n\r\n\r\n    //Main Class\r\n    public class SomeClass {\r\n    \r\n        //Sub-Class\r\n        public static class AnotherClass {\r\n            public enum MyEnum {\r\n                VALUE_A, VALUE_B\r\n            }    \r\n            public MyEnum myEnum;\r\n        }\r\n\r\n        public void someMethod() { \r\n            AnotherClass.MyEnum enumExample = AnotherClass.MyEnum.VALUE_A; //...\r\n\r\n            switch (enumExample) {\r\n                case VALUE_A: { //&lt;-- error on this line\r\n                //..\r\n                break;\r\n                }\r\n            }\r\n        }\r\n    }","title":"Java: using switch statement with enum under subclass","body":"<p>this should do:</p>\n\n<pre><code>//Main Class\npublic class SomeClass {\n\n    //Sub-Class\n    public static class AnotherClass {\n        public enum MyEnum {\n            VALUE_A, VALUE_B\n        }    \n        public MyEnum myEnum;\n    }\n\n    public void someMethod() { \n        AnotherClass.MyEnum enumExample = AnotherClass.MyEnum.VALUE_A; //...\n\n        switch (enumExample) {\n            case VALUE_A: { //&lt;-- error on this line\n            //..\n            break;\n            }\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":448418,"reputation":4277,"user_id":842607,"accept_rate":83,"display_name":"Jimit Patel"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1490866212,"creation_date":1490866212,"answer_id":43113777,"question_id":10161408,"body_markdown":"This is how I am using it. And it is working fantastically -\r\n\r\n    public enum Button {\r\n            REPORT_ISSUES(0),\r\n            CANCEL_ORDER(1),\r\n            RETURN_ORDER(2);\r\n    \r\n            private int value;\r\n    \r\n            Button(int value) {\r\n                this.value = value;\r\n            }\r\n    \r\n            public int getValue() {\r\n                return value;\r\n            }\r\n        }\r\n\r\nAnd the `switch-case` as shown below\r\n\r\n\r\n    @Override\r\n    public void onClick(MyOrderDetailDelgate.Button button, int position) {\r\n        switch (button) {\r\n            case REPORT_ISSUES: {\r\n                break;\r\n            }\r\n            case CANCEL_ORDER: {\r\n                break;\r\n            }\r\n            case RETURN_ORDER: {\r\n                break;\r\n            }\r\n        }\r\n    }","title":"Java: using switch statement with enum under subclass","body":"<p>This is how I am using it. And it is working fantastically -</p>\n\n<pre><code>public enum Button {\n        REPORT_ISSUES(0),\n        CANCEL_ORDER(1),\n        RETURN_ORDER(2);\n\n        private int value;\n\n        Button(int value) {\n            this.value = value;\n        }\n\n        public int getValue() {\n            return value;\n        }\n    }\n</code></pre>\n\n<p>And the <code>switch-case</code> as shown below</p>\n\n<pre><code>@Override\npublic void onClick(MyOrderDetailDelgate.Button button, int position) {\n    switch (button) {\n        case REPORT_ISSUES: {\n            break;\n        }\n        case CANCEL_ORDER: {\n            break;\n        }\n        case RETURN_ORDER: {\n            break;\n        }\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2635653,"reputation":1261,"user_id":2280418,"accept_rate":58,"display_name":"joaorodr84"},"score":9,"creation_date":1569880820,"post_id":55053669,"comment_id":102732257,"body_markdown":"I upvoted yours because it is clearer on what the issue is.","body":"I upvoted yours because it is clearer on what the issue is."}],"tags":[],"owner":{"account_id":2152996,"reputation":2196,"user_id":1908827,"display_name":"Akash Yellappa"},"comment_count":1,"down_vote_count":0,"up_vote_count":64,"is_accepted":false,"score":64,"last_activity_date":1552007055,"creation_date":1551996941,"answer_id":55053669,"question_id":10161408,"body_markdown":"Wrong:  \r\n\r\n    case AnotherClass.MyEnum.VALUE_A\r\nRight:\r\n\r\n    case VALUE_A:","title":"Java: using switch statement with enum under subclass","body":"<p>Wrong:  </p>\n\n<pre><code>case AnotherClass.MyEnum.VALUE_A\n</code></pre>\n\n<p>Right:</p>\n\n<pre><code>case VALUE_A:\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6496171,"reputation":2374,"user_id":5028715,"display_name":"hbamithkumara"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1616662775,"creation_date":1616662775,"answer_id":66796094,"question_id":10161408,"body_markdown":"From **Java 14** onwards, one can use switch expressions.\r\n\r\nFor this post\r\n\r\n```\r\npublic enum MyEnum {\r\n    VALUE_A, VALUE_B;\r\n}\r\n```\r\n\r\n```\r\npublic void someMethod() { \r\n\tMyEnum enumExample //...\r\n\r\n\tswitch (enumExample) {\r\n\t\tcase VALUE_A -&gt; {\r\n\t\t\t// logic\r\n\t\t}\r\n\t\tcase VALUE_B -&gt; {\r\n\t\t\t// logic\r\n\t\t}\t\r\n\t}\r\n}\r\n```\r\n\r\nSwitch expression\r\n\r\n&gt; Like all expressions, switch expressions evaluate to a single value and can be used in statements. They may contain &quot;case L -&gt;&quot; labels that eliminate the need for break statements to prevent fall through. You can use a yield statement to specify the value of a switch expression.\r\n\r\n```\r\npublic enum Month {\r\n    JAN, FEB, MAR, APR, MAY, JUN, JUL, AUG, SEP, OCT, NOV, DEC;\r\n}\r\n```\r\nExample 1: Returns value.\r\n\r\n```\r\npublic static int getNoOfDaysInAMonth(Month month, boolean isLeapYear) {\r\n\treturn switch(month) {\r\n\t\tcase APR, JUN, SEP, NOV -&gt; 30;\r\n\t\tcase FEB -&gt; (isLeapYear)? 29: 28;\r\n\t\tcase JAN, MAR, MAY, JUL, AUG, OCT, DEC -&gt; 31;\r\n\t};\r\n}\r\n```\r\nExample 2: Doesn&#39;t returns value.\r\n```\r\npublic static void printNoOfDaysInAMonth(Month month, boolean isLeapYear) {\r\n\tswitch(month) {\r\n\t\tcase APR, JUN, SEP, NOV -&gt; {\r\n\t\t\tSystem.out.println(&quot;30 days&quot;);\r\n\t\t}\r\n\t\tcase FEB -&gt; {\r\n\t\t\tSystem.out.println(((isLeapYear)? 29: 28) + &quot; days&quot;);\r\n\t\t}\r\n\t\tcase JAN, MAR, MAY, JUL, AUG, OCT, DEC -&gt; {\r\n\t\t\tSystem.out.println(&quot;31 days&quot;);\r\n\t\t}\r\n\t};\r\n}\r\n```\r\nReference\r\n\r\n[Switch Expressions][1]\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/15/language/switch-expressions.html","title":"Java: using switch statement with enum under subclass","body":"<p>From <strong>Java 14</strong> onwards, one can use switch expressions.</p>\n<p>For this post</p>\n<pre><code>public enum MyEnum {\n    VALUE_A, VALUE_B;\n}\n</code></pre>\n<pre><code>public void someMethod() { \n    MyEnum enumExample //...\n\n    switch (enumExample) {\n        case VALUE_A -&gt; {\n            // logic\n        }\n        case VALUE_B -&gt; {\n            // logic\n        }   \n    }\n}\n</code></pre>\n<p>Switch expression</p>\n<blockquote>\n<p>Like all expressions, switch expressions evaluate to a single value and can be used in statements. They may contain &quot;case L -&gt;&quot; labels that eliminate the need for break statements to prevent fall through. You can use a yield statement to specify the value of a switch expression.</p>\n</blockquote>\n<pre><code>public enum Month {\n    JAN, FEB, MAR, APR, MAY, JUN, JUL, AUG, SEP, OCT, NOV, DEC;\n}\n</code></pre>\n<p>Example 1: Returns value.</p>\n<pre><code>public static int getNoOfDaysInAMonth(Month month, boolean isLeapYear) {\n    return switch(month) {\n        case APR, JUN, SEP, NOV -&gt; 30;\n        case FEB -&gt; (isLeapYear)? 29: 28;\n        case JAN, MAR, MAY, JUL, AUG, OCT, DEC -&gt; 31;\n    };\n}\n</code></pre>\n<p>Example 2: Doesn't returns value.</p>\n<pre><code>public static void printNoOfDaysInAMonth(Month month, boolean isLeapYear) {\n    switch(month) {\n        case APR, JUN, SEP, NOV -&gt; {\n            System.out.println(&quot;30 days&quot;);\n        }\n        case FEB -&gt; {\n            System.out.println(((isLeapYear)? 29: 28) + &quot; days&quot;);\n        }\n        case JAN, MAR, MAY, JUL, AUG, OCT, DEC -&gt; {\n            System.out.println(&quot;31 days&quot;);\n        }\n    };\n}\n</code></pre>\n<p>Reference</p>\n<p><a href=\"https://docs.oracle.com/en/java/javase/15/language/switch-expressions.html\" rel=\"noreferrer\">Switch Expressions</a></p>\n"},{"tags":[],"owner":{"account_id":24346816,"reputation":21,"user_id":18283245,"display_name":"Nicholas Barros"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1676395212,"creation_date":1676395134,"answer_id":75451199,"question_id":10161408,"body_markdown":"You dont need put instance of enum class, you have to put only enum constant of enum class, like this:\r\n\r\n    switch (enumExample) {\r\n       case VALUE_A: { &lt;-- puting only constant, it will works.\r\n           //..\r\n          break;\r\n       }","title":"Java: using switch statement with enum under subclass","body":"<p>You dont need put instance of enum class, you have to put only enum constant of enum class, like this:</p>\n<pre><code>switch (enumExample) {\n   case VALUE_A: { &lt;-- puting only constant, it will works.\n       //..\n      break;\n   }\n</code></pre>\n"}],"owner":{"account_id":1011831,"reputation":6443,"user_id":1024246,"accept_rate":80,"display_name":"Popokoko"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":228348,"favorite_count":0,"down_vote_count":0,"up_vote_count":402,"accepted_answer_id":10161455,"answer_count":8,"score":402,"last_activity_date":1676395212,"creation_date":1334487578,"question_id":10161408,"body_markdown":"First I&#39;ll state that I&#39;m much more familiar with enums in C# and it seems like enums in java is a quite mess.\r\n\r\nAs you can see, I&#39;m trying to use a switch statement @ enums in my next example but I always get an error no matter what I&#39;m doing.\r\n\r\n**The error I receive is:**\r\n\r\n&gt; The qualified case label `SomeClass.AnotherClass.MyEnum.VALUE_A` must be replaced with the unqualified enum constant `VALUE_A`\r\n\r\nThe thing is I *quite* understand the error but I can&#39;t just write the VALUE_A since the enum is located in another sub-class. Is there a way to solve this problem? And why is it happening in Java?\r\n\r\n    //Main Class\r\n    public class SomeClass {\r\n    \r\n    \t//Sub-Class\r\n    \tpublic static class AnotherClass {\r\n    \t\tpublic enum MyEnum {\r\n    \t\t\tVALUE_A, VALUE_B\r\n    \t\t}    \r\n    \t\tpublic MyEnum myEnum;\r\n    \t}\r\n    \t\r\n    \tpublic void someMethod() { \r\n    \t\tMyEnum enumExample //...\r\n    \t\t\r\n    \t\tswitch (enumExample) {\r\n    \t\t\tcase AnotherClass.MyEnum.VALUE_A: { &lt;-- error on this line\r\n    \t\t\t\t//..\r\n    \t\t\t\tbreak;\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}\r\n    }","title":"Java: using switch statement with enum under subclass","body":"<p>First I'll state that I'm much more familiar with enums in C# and it seems like enums in java is a quite mess.</p>\n\n<p>As you can see, I'm trying to use a switch statement @ enums in my next example but I always get an error no matter what I'm doing.</p>\n\n<p><strong>The error I receive is:</strong></p>\n\n<blockquote>\n  <p>The qualified case label <code>SomeClass.AnotherClass.MyEnum.VALUE_A</code> must be replaced with the unqualified enum constant <code>VALUE_A</code></p>\n</blockquote>\n\n<p>The thing is I <em>quite</em> understand the error but I can't just write the VALUE_A since the enum is located in another sub-class. Is there a way to solve this problem? And why is it happening in Java?</p>\n\n<pre><code>//Main Class\npublic class SomeClass {\n\n    //Sub-Class\n    public static class AnotherClass {\n        public enum MyEnum {\n            VALUE_A, VALUE_B\n        }    \n        public MyEnum myEnum;\n    }\n\n    public void someMethod() { \n        MyEnum enumExample //...\n\n        switch (enumExample) {\n            case AnotherClass.MyEnum.VALUE_A: { &lt;-- error on this line\n                //..\n                break;\n            }\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","mysql","kubernetes","amazon-eks","flyway"],"comments":[{"owner":{"account_id":79319,"reputation":31744,"user_id":225016,"display_name":"mdaniel"},"score":0,"creation_date":1675737984,"post_id":75366324,"comment_id":132989074,"body_markdown":"I&#39;m not sure how you are expecting anyone on the Internet to diagnose your networking woes when all you&#39;ve provided is &quot;it didn&#39;t work.&quot; Are you able to connect as user `postgresql` to that hostname from some other pod, just not from flyway? Are the pods behind the `db` service `Running` and `Ready`? Please don&#39;t use comments to add details, instead [edit your question](https://stackoverflow.com/posts/75366324/edit) and make the question more complete. Good luck","body":"I&#39;m not sure how you are expecting anyone on the Internet to diagnose your networking woes when all you&#39;ve provided is &quot;it didn&#39;t work.&quot; Are you able to connect as user <code>postgresql</code> to that hostname from some other pod, just not from flyway? Are the pods behind the <code>db</code> service <code>Running</code> and <code>Ready</code>? Please don&#39;t use comments to add details, instead <a href=\"https://stackoverflow.com/posts/75366324/edit\">edit your question</a> and make the question more complete. Good luck"},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1675771697,"post_id":75366324,"comment_id":132996478,"body_markdown":"Your username suggests you&#39;re using PostgreSQL, but you&#39;re trying to use the MySQL JDBC driver. That seems off. In any case the error suggests that nothing is listening on host db port 3306 (or it is blocked by a firewall), which would be pretty much expected when you&#39;re actually using PostgreSQL (which has default port 5432).","body":"Your username suggests you&#39;re using PostgreSQL, but you&#39;re trying to use the MySQL JDBC driver. That seems off. In any case the error suggests that nothing is listening on host db port 3306 (or it is blocked by a firewall), which would be pretty much expected when you&#39;re actually using PostgreSQL (which has default port 5432)."}],"owner":{"account_id":27260329,"reputation":11,"user_id":20783255,"display_name":"David K"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":365,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1675778039,"answer_count":0,"score":1,"last_activity_date":1676394985,"creation_date":1675715827,"question_id":75366324,"body_markdown":"I have java backend pod and mysql statfulset db. when I see logs of backend pod, there is an error, It can not obtain connection from database. pods behind the db service Running and Ready. not able to connect as user postgresql to that hostname from some other pod. `ERROR 2003 (HY000): Can&#39;t connect to MySQL server on &#39;db:3306&#39; (111)`\r\n\r\n```\r\nWARNING: sun.reflect.Reflection.getCallerClass is not supported. This will impact performance.\r\n[INFO ] 2023-02-06 18:26:01.476 [vert.x-eventloop-thread-1] OpenApiRouterBuilder - OpenApi has been loaded\r\n[INFO ] 2023-02-06 18:26:01.540 [vert.x-eventloop-thread-1] MainServerVerticle - Started REST api server on port: 3333\r\n[INFO ] 2023-02-06 18:26:01.546 [vert.x-eventloop-thread-0] WebsocketServerVerticle - Started server for websockets on port: 3334\r\n[INFO ] 2023-02-06 18:26:01.565 [vert.x-eventloop-thread-1] MainServerVerticle - All verticles have been deployed\r\n[ERROR] 2023-02-06 18:26:01.688 [vert.x-eventloop-thread-1] FlywayRunner - org.flywaydb.core.internal.exception.FlywaySqlException: Unable to obtain connection from database (jdbc:mysql://db:3306/examodb?allowPublicKeyRetrieval=true&amp;useSSL=false) for user &#39;postgresql&#39;: Communications link failure\r\n\r\nThe last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.\r\n-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------\r\nSQL State  : 08S01\r\nError Code : 0\r\nMessage    : Communications link failure\r\n\r\nThe last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.\r\n\r\n[WARN ] 2023-02-06 18:26:01.692 [vert.x-eventloop-thread-1] AbstractEventExecutor - A task raised an exception. Task: io.vertx.core.impl.future.FutureBase$$Lambda$155/0x0000000800d01810@28bb3e29\r\norg.flywaydb.core.internal.exception.FlywaySqlException: Unable to obtain connection from database (jdbc:mysql://db:3306/examodb?allowPublicKeyRetrieval=true&amp;useSSL=false) for user &#39;postgresql&#39;: Communications link failure\r\n\r\nThe last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.\r\n-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------\r\nSQL State  : 08S01\r\nError Code : 0\r\nMessage    : Communications link failure\r\n\r\nThe last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.\r\n\r\n\tat org.flywaydb.core.internal.jdbc.JdbcUtils.openConnection(JdbcUtils.java:67) ~[app.jar:?]\r\n\tat org.flywaydb.core.internal.jdbc.JdbcConnectionFactory.&lt;init&gt;(JdbcConnectionFactory.java:74) ~[app.jar:?]\r\n\tat org.flywaydb.core.FlywayExecutor.execute(FlywayExecutor.java:136) ~[app.jar:?]\r\n\tat org.flywaydb.core.Flyway.repair(Flyway.java:330) ~[app.jar:?]\r\n\tat examo.db.migration.FlywayRunner.migrate(FlywayRunner.java:19) ~[app.jar:?]\r\n\tat examo.rest.server.MainServerVerticle.lambda$start$12(MainServerVerticle.java:113) ~[app.jar:?]\r\n\tat io.vertx.core.impl.future.FutureImpl$1.onSuccess(FutureImpl.java:91) ~[app.jar:?]\r\n\tat io.vertx.core.impl.future.FutureImpl$ListenerArray.onSuccess(FutureImpl.java:262) ~[app.jar:?]\r\n\tat io.vertx.core.impl.future.FutureBase.emitSuccess(FutureBase.java:60) ~[app.jar:?]\r\n\tat io.vertx.core.impl.future.FutureImpl.tryComplete(FutureImpl.java:211) ~[app.jar:?]\r\n\tat io.vertx.core.impl.future.Composition$1.onSuccess(Composition.java:62) ~[app.jar:?]\r\n\tat io.vertx.core.impl.future.FutureBase.emitSuccess(FutureBase.java:60) ~[app.jar:?]\r\n\tat io.vertx.core.impl.future.FutureImpl.tryComplete(FutureImpl.java:211) ~[app.jar:?]\r\n\tat io.vertx.core.impl.future.Mapping.onSuccess(Mapping.java:40) ~[app.jar:?]\r\n\tat io.vertx.core.impl.future.FutureBase.lambda$emitSuccess$0(FutureBase.java:54) ~[app.jar:?]\r\n\tat io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:164) [app.jar:?]\r\n\tat io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:469) [app.jar:?]\r\n\tat io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:503) [app.jar:?]\r\n\tat io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:986) [app.jar:?]\r\n\tat io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) [app.jar:?]\r\n\tat io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) [app.jar:?]\r\n\tat java.lang.Thread.run(Thread.java:832) [?:?]\r\nCaused by: com.mysql.cj.jdbc.exceptions.CommunicationsException: Communications link failure\r\n\r\nThe last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.\r\n\tat com.mysql.cj.jdbc.exceptions.SQLError.createCommunicationsException(SQLError.java:174) ~[app.jar:?]\r\n\tat com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:64) ~[app.jar:?]\r\n\tat com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:832) ~[app.jar:?]\r\n\tat com.mysql.cj.jdbc.ConnectionImpl.&lt;init&gt;(ConnectionImpl.java:456) ~[app.jar:?]\r\n\tat com.mysql.cj.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:240) ~[app.jar:?]\r\n\tat com.mysql.cj.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:207) ~[app.jar:?]\r\n\tat org.flywaydb.core.internal.jdbc.DriverDataSource.getConnectionFromDriver(DriverDataSource.java:259) ~[app.jar:?]\r\n\tat org.flywaydb.core.internal.jdbc.DriverDataSource.getConnection(DriverDataSource.java:223) ~[app.jar:?]\r\n\tat org.flywaydb.core.internal.jdbc.JdbcUtils.openConnection(JdbcUtils.java:52) ~[app.jar:?]\r\n\t... 21 more\r\nCaused by: com.mysql.cj.exceptions.CJCommunicationsException: Communications link failure\r\n\r\nThe last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.\r\n\tat jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[?:?]\r\n\tat jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:64) ~[?:?]\r\n\tat jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[?:?]\r\n\tat java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:500) ~[?:?]\r\n\tat java.lang.reflect.Constructor.newInstance(Constructor.java:481) ~[?:?]\r\n\tat com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:61) ~[app.jar:?]\r\n\tat com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:105) ~[app.jar:?]\r\n\tat com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:151) ~[app.jar:?]\r\n\tat com.mysql.cj.exceptions.ExceptionFactory.createCommunicationsException(ExceptionFactory.java:167) ~[app.jar:?]\r\n\tat com.mysql.cj.protocol.a.NativeSocketConnection.connect(NativeSocketConnection.java:91) ~[app.jar:?]\r\n\tat com.mysql.cj.NativeSession.connect(NativeSession.java:152) ~[app.jar:?]\r\n\tat com.mysql.cj.jdbc.ConnectionImpl.connectOneTryOnly(ConnectionImpl.java:952) ~[app.jar:?]\r\n\tat com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:822) ~[app.jar:?]\r\n\tat com.mysql.cj.jdbc.ConnectionImpl.&lt;init&gt;(ConnectionImpl.java:456) ~[app.jar:?]\r\n\tat com.mysql.cj.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:240) ~[app.jar:?]\r\n\tat com.mysql.cj.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:207) ~[app.jar:?]\r\n\tat org.flywaydb.core.internal.jdbc.DriverDataSource.getConnectionFromDriver(DriverDataSource.java:259) ~[app.jar:?]\r\n\tat org.flywaydb.core.internal.jdbc.DriverDataSource.getConnection(DriverDataSource.java:223) ~[app.jar:?]\r\n\tat org.flywaydb.core.internal.jdbc.JdbcUtils.openConnection(JdbcUtils.java:52) ~[app.jar:?]\r\n\t... 21 more\r\nCaused by: java.net.ConnectException: Connection refused\r\n\tat sun.nio.ch.Net.connect0(Native Method) ~[?:?]\r\n\tat sun.nio.ch.Net.connect(Net.java:574) ~[?:?]\r\n\tat sun.nio.ch.Net.connect(Net.java:563) ~[?:?]\r\n\tat sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:588) ~[?:?]\r\n\tat java.net.SocksSocketImpl.connect(SocksSocketImpl.java:333) ~[?:?]\r\n\tat java.net.Socket.connect(Socket.java:648) ~[?:?]\r\n\tat com.mysql.cj.protocol.StandardSocketFactory.connect(StandardSocketFactory.java:173) ~[app.jar:?]\r\n\tat com.mysql.cj.protocol.a.NativeSocketConnection.connect(NativeSocketConnection.java:65) ~[app.jar:?]\r\n\tat com.mysql.cj.NativeSession.connect(NativeSession.java:152) ~[app.jar:?]\r\n\tat com.mysql.cj.jdbc.ConnectionImpl.connectOneTryOnly(ConnectionImpl.java:952) ~[app.jar:?]\r\n\tat com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:822) ~[app.jar:?]\r\n\tat com.mysql.cj.jdbc.ConnectionImpl.&lt;init&gt;(ConnectionImpl.java:456) ~[app.jar:?]\r\n\tat com.mysql.cj.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:240) ~[app.jar:?]\r\n\tat com.mysql.cj.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:207) ~[app.jar:?]\r\n\tat org.flywaydb.core.internal.jdbc.DriverDataSource.getConnectionFromDriver(DriverDataSource.java:259) ~[app.jar:?]\r\n\tat org.flywaydb.core.internal.jdbc.DriverDataSource.getConnection(DriverDataSource.java:223) ~[app.jar:?]\r\n\tat org.flywaydb.core.internal.jdbc.JdbcUtils.openConnection(JdbcUtils.java:52) ~[app.jar:?]\r\n\t... 21 more\r\n\r\n```\r\n\r\ndb service name is db. I have secret attached to backend and db, where are DATABASE name, PASSWORD, ROOT_PASSWORD, MYSQL_USER, host and port. Site uses SSL certificates.\r\n\r\nI expect to connect backend to db. First, I had error, saying unknown host. Changed db service name and now new error, this error. Is it possible, that not having SSL certificate for my resources give me this error","title":"kubernetes backend pod can not connect to database","body":"<p>I have java backend pod and mysql statfulset db. when I see logs of backend pod, there is an error, It can not obtain connection from database. pods behind the db service Running and Ready. not able to connect as user postgresql to that hostname from some other pod. <code>ERROR 2003 (HY000): Can't connect to MySQL server on 'db:3306' (111)</code></p>\n<pre><code>WARNING: sun.reflect.Reflection.getCallerClass is not supported. This will impact performance.\n[INFO ] 2023-02-06 18:26:01.476 [vert.x-eventloop-thread-1] OpenApiRouterBuilder - OpenApi has been loaded\n[INFO ] 2023-02-06 18:26:01.540 [vert.x-eventloop-thread-1] MainServerVerticle - Started REST api server on port: 3333\n[INFO ] 2023-02-06 18:26:01.546 [vert.x-eventloop-thread-0] WebsocketServerVerticle - Started server for websockets on port: 3334\n[INFO ] 2023-02-06 18:26:01.565 [vert.x-eventloop-thread-1] MainServerVerticle - All verticles have been deployed\n[ERROR] 2023-02-06 18:26:01.688 [vert.x-eventloop-thread-1] FlywayRunner - org.flywaydb.core.internal.exception.FlywaySqlException: Unable to obtain connection from database (jdbc:mysql://db:3306/examodb?allowPublicKeyRetrieval=true&amp;useSSL=false) for user 'postgresql': Communications link failure\n\nThe last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.\n-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------\nSQL State  : 08S01\nError Code : 0\nMessage    : Communications link failure\n\nThe last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.\n\n[WARN ] 2023-02-06 18:26:01.692 [vert.x-eventloop-thread-1] AbstractEventExecutor - A task raised an exception. Task: io.vertx.core.impl.future.FutureBase$$Lambda$155/0x0000000800d01810@28bb3e29\norg.flywaydb.core.internal.exception.FlywaySqlException: Unable to obtain connection from database (jdbc:mysql://db:3306/examodb?allowPublicKeyRetrieval=true&amp;useSSL=false) for user 'postgresql': Communications link failure\n\nThe last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.\n-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------\nSQL State  : 08S01\nError Code : 0\nMessage    : Communications link failure\n\nThe last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.\n\n    at org.flywaydb.core.internal.jdbc.JdbcUtils.openConnection(JdbcUtils.java:67) ~[app.jar:?]\n    at org.flywaydb.core.internal.jdbc.JdbcConnectionFactory.&lt;init&gt;(JdbcConnectionFactory.java:74) ~[app.jar:?]\n    at org.flywaydb.core.FlywayExecutor.execute(FlywayExecutor.java:136) ~[app.jar:?]\n    at org.flywaydb.core.Flyway.repair(Flyway.java:330) ~[app.jar:?]\n    at examo.db.migration.FlywayRunner.migrate(FlywayRunner.java:19) ~[app.jar:?]\n    at examo.rest.server.MainServerVerticle.lambda$start$12(MainServerVerticle.java:113) ~[app.jar:?]\n    at io.vertx.core.impl.future.FutureImpl$1.onSuccess(FutureImpl.java:91) ~[app.jar:?]\n    at io.vertx.core.impl.future.FutureImpl$ListenerArray.onSuccess(FutureImpl.java:262) ~[app.jar:?]\n    at io.vertx.core.impl.future.FutureBase.emitSuccess(FutureBase.java:60) ~[app.jar:?]\n    at io.vertx.core.impl.future.FutureImpl.tryComplete(FutureImpl.java:211) ~[app.jar:?]\n    at io.vertx.core.impl.future.Composition$1.onSuccess(Composition.java:62) ~[app.jar:?]\n    at io.vertx.core.impl.future.FutureBase.emitSuccess(FutureBase.java:60) ~[app.jar:?]\n    at io.vertx.core.impl.future.FutureImpl.tryComplete(FutureImpl.java:211) ~[app.jar:?]\n    at io.vertx.core.impl.future.Mapping.onSuccess(Mapping.java:40) ~[app.jar:?]\n    at io.vertx.core.impl.future.FutureBase.lambda$emitSuccess$0(FutureBase.java:54) ~[app.jar:?]\n    at io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:164) [app.jar:?]\n    at io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:469) [app.jar:?]\n    at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:503) [app.jar:?]\n    at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:986) [app.jar:?]\n    at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) [app.jar:?]\n    at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) [app.jar:?]\n    at java.lang.Thread.run(Thread.java:832) [?:?]\nCaused by: com.mysql.cj.jdbc.exceptions.CommunicationsException: Communications link failure\n\nThe last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.\n    at com.mysql.cj.jdbc.exceptions.SQLError.createCommunicationsException(SQLError.java:174) ~[app.jar:?]\n    at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:64) ~[app.jar:?]\n    at com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:832) ~[app.jar:?]\n    at com.mysql.cj.jdbc.ConnectionImpl.&lt;init&gt;(ConnectionImpl.java:456) ~[app.jar:?]\n    at com.mysql.cj.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:240) ~[app.jar:?]\n    at com.mysql.cj.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:207) ~[app.jar:?]\n    at org.flywaydb.core.internal.jdbc.DriverDataSource.getConnectionFromDriver(DriverDataSource.java:259) ~[app.jar:?]\n    at org.flywaydb.core.internal.jdbc.DriverDataSource.getConnection(DriverDataSource.java:223) ~[app.jar:?]\n    at org.flywaydb.core.internal.jdbc.JdbcUtils.openConnection(JdbcUtils.java:52) ~[app.jar:?]\n    ... 21 more\nCaused by: com.mysql.cj.exceptions.CJCommunicationsException: Communications link failure\n\nThe last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.\n    at jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[?:?]\n    at jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:64) ~[?:?]\n    at jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[?:?]\n    at java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:500) ~[?:?]\n    at java.lang.reflect.Constructor.newInstance(Constructor.java:481) ~[?:?]\n    at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:61) ~[app.jar:?]\n    at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:105) ~[app.jar:?]\n    at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:151) ~[app.jar:?]\n    at com.mysql.cj.exceptions.ExceptionFactory.createCommunicationsException(ExceptionFactory.java:167) ~[app.jar:?]\n    at com.mysql.cj.protocol.a.NativeSocketConnection.connect(NativeSocketConnection.java:91) ~[app.jar:?]\n    at com.mysql.cj.NativeSession.connect(NativeSession.java:152) ~[app.jar:?]\n    at com.mysql.cj.jdbc.ConnectionImpl.connectOneTryOnly(ConnectionImpl.java:952) ~[app.jar:?]\n    at com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:822) ~[app.jar:?]\n    at com.mysql.cj.jdbc.ConnectionImpl.&lt;init&gt;(ConnectionImpl.java:456) ~[app.jar:?]\n    at com.mysql.cj.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:240) ~[app.jar:?]\n    at com.mysql.cj.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:207) ~[app.jar:?]\n    at org.flywaydb.core.internal.jdbc.DriverDataSource.getConnectionFromDriver(DriverDataSource.java:259) ~[app.jar:?]\n    at org.flywaydb.core.internal.jdbc.DriverDataSource.getConnection(DriverDataSource.java:223) ~[app.jar:?]\n    at org.flywaydb.core.internal.jdbc.JdbcUtils.openConnection(JdbcUtils.java:52) ~[app.jar:?]\n    ... 21 more\nCaused by: java.net.ConnectException: Connection refused\n    at sun.nio.ch.Net.connect0(Native Method) ~[?:?]\n    at sun.nio.ch.Net.connect(Net.java:574) ~[?:?]\n    at sun.nio.ch.Net.connect(Net.java:563) ~[?:?]\n    at sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:588) ~[?:?]\n    at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:333) ~[?:?]\n    at java.net.Socket.connect(Socket.java:648) ~[?:?]\n    at com.mysql.cj.protocol.StandardSocketFactory.connect(StandardSocketFactory.java:173) ~[app.jar:?]\n    at com.mysql.cj.protocol.a.NativeSocketConnection.connect(NativeSocketConnection.java:65) ~[app.jar:?]\n    at com.mysql.cj.NativeSession.connect(NativeSession.java:152) ~[app.jar:?]\n    at com.mysql.cj.jdbc.ConnectionImpl.connectOneTryOnly(ConnectionImpl.java:952) ~[app.jar:?]\n    at com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:822) ~[app.jar:?]\n    at com.mysql.cj.jdbc.ConnectionImpl.&lt;init&gt;(ConnectionImpl.java:456) ~[app.jar:?]\n    at com.mysql.cj.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:240) ~[app.jar:?]\n    at com.mysql.cj.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:207) ~[app.jar:?]\n    at org.flywaydb.core.internal.jdbc.DriverDataSource.getConnectionFromDriver(DriverDataSource.java:259) ~[app.jar:?]\n    at org.flywaydb.core.internal.jdbc.DriverDataSource.getConnection(DriverDataSource.java:223) ~[app.jar:?]\n    at org.flywaydb.core.internal.jdbc.JdbcUtils.openConnection(JdbcUtils.java:52) ~[app.jar:?]\n    ... 21 more\n\n</code></pre>\n<p>db service name is db. I have secret attached to backend and db, where are DATABASE name, PASSWORD, ROOT_PASSWORD, MYSQL_USER, host and port. Site uses SSL certificates.</p>\n<p>I expect to connect backend to db. First, I had error, saying unknown host. Changed db service name and now new error, this error. Is it possible, that not having SSL certificate for my resources give me this error</p>\n"},{"tags":["java","json","json.net","sql-update"],"comments":[{"owner":{"account_id":4617916,"reputation":107707,"user_id":3744182,"display_name":"dbc"},"score":0,"creation_date":1676394872,"post_id":75451041,"comment_id":133126824,"body_markdown":"You tagged this [tag:java] and [tag:json.net] (which is not a Java library, it is a c#/.NET library), but are you actually using [tag:postgresql]?  How is Java related to your question?  By [tagging](https://meta.stackexchange.com/help/tagging) your question with the language &amp; framework(s) you are actually using you will attract the attention of people familiar with them and who can answer your question.  See [ask].","body":"You tagged this <a href=\"https://stackoverflow.com/questions/tagged/java\">java</a> and <a href=\"https://stackoverflow.com/questions/tagged/json.net\">json.net</a> (which is not a Java library, it is a c#/.NET library), but are you actually using <a href=\"https://stackoverflow.com/questions/tagged/postgresql\">postgresql</a>?  How is Java related to your question?  By <a href=\"https://meta.stackexchange.com/help/tagging\">tagging</a> your question with the language &amp; framework(s) you are actually using you will attract the attention of people familiar with them and who can answer your question.  See <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a>."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1676404755,"post_id":75451041,"comment_id":133129549,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."},{"owner":{"account_id":27785792,"reputation":1,"user_id":21213267,"display_name":"Sunil Kumar Regar"},"score":0,"creation_date":1676438704,"post_id":75451041,"comment_id":133134860,"body_markdown":"I want to know that how can i pass the path (of the nested json i want to update) dynamically using a variable i.e. i can store in a string s and then pass that s in the place of path.","body":"I want to know that how can i pass the path (of the nested json i want to update) dynamically using a variable i.e. i can store in a string s and then pass that s in the place of path."}],"owner":{"account_id":27785792,"reputation":1,"user_id":21213267,"display_name":"Sunil Kumar Regar"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":85,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676394883,"creation_date":1676394124,"question_id":75451041,"body_markdown":"```\r\nUPDATE users\r\nSET data = jsonb_set(data, &#39;{user,name}&#39;, &#39;&quot;sunil&quot;&#39;, FALSE)\r\nWHERE id = 1;\r\n```\r\n\r\nIn the above query for example, how can i pass the path (here &quot;user,name&quot;) dynamically through a variable like can i store the path in a string variable and pass here that variable. Unable to do it so please provide a working solution. \r\n\r\nI need that somehow i can pass that path through a variable so that i can use it dynamically for different objects with different paths.","title":"Dynamic path in jsonb_set function","body":"<pre><code>UPDATE users\nSET data = jsonb_set(data, '{user,name}', '&quot;sunil&quot;', FALSE)\nWHERE id = 1;\n</code></pre>\n<p>In the above query for example, how can i pass the path (here &quot;user,name&quot;) dynamically through a variable like can i store the path in a string variable and pass here that variable. Unable to do it so please provide a working solution.</p>\n<p>I need that somehow i can pass that path through a variable so that i can use it dynamically for different objects with different paths.</p>\n"},{"tags":["java","android","android-studio","intellij-idea"],"answers":[{"comments":[{"owner":{"account_id":5872,"reputation":12730,"user_id":9648,"accept_rate":94,"display_name":"JohnnyLambada"},"score":0,"creation_date":1676393330,"post_id":35881338,"comment_id":133126329,"body_markdown":"This is so much easier said than done. Parsing java files for `import com.bla.bla.Class` is so much easier than parsing all of Java.","body":"This is so much easier said than done. Parsing java files for <code>import com.bla.bla.Class</code> is so much easier than parsing all of Java."}],"tags":[],"owner":{"account_id":6175645,"reputation":1443,"user_id":4812613,"display_name":"Scott Sosna"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1457487175,"creation_date":1457487175,"answer_id":35881338,"question_id":35881070,"body_markdown":"As long as you never optimize imports, then it&#39;ll probably stay.  There is a setting somewhere (varies by version) that allows you to specify how many imports of the same package before it optimizes to &#39;*&#39;, you&#39;ll want to make that a huge number.\r\n\r\nUltimately, I expect IJ to optimize it away somewhere when you don&#39;t expect.  Even though it does seem to compile, it looks/feels wrong and someone else unaware of your external dependency is going to chomp it.\r\n\r\nBetter solution is to make your scripts smart enough to recognize intra-package classes as all dependencies - because implicitly they are - and just simply the problem.  What you&#39;ve proposed doesn&#39;t sound like a workable solution","title":"Force IntelliJ to Keep Same-Package Import Statements","body":"<p>As long as you never optimize imports, then it'll probably stay.  There is a setting somewhere (varies by version) that allows you to specify how many imports of the same package before it optimizes to '*', you'll want to make that a huge number.</p>\n\n<p>Ultimately, I expect IJ to optimize it away somewhere when you don't expect.  Even though it does seem to compile, it looks/feels wrong and someone else unaware of your external dependency is going to chomp it.</p>\n\n<p>Better solution is to make your scripts smart enough to recognize intra-package classes as all dependencies - because implicitly they are - and just simply the problem.  What you've proposed doesn't sound like a workable solution</p>\n"},{"tags":[],"owner":{"account_id":5872,"reputation":12730,"user_id":9648,"accept_rate":94,"display_name":"JohnnyLambada"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676394678,"creation_date":1676393547,"answer_id":75450933,"question_id":35881070,"body_markdown":"One answer is to skip trying to parse Java for imports and use the [`jdeps`][1] command which is part of the JDK.  `jdeps` works on `.class` files so it will work on java and kotlin (and Scala, etc).  I&#39;m reviewing the [emerge-vis][2] app, and it has the same problem with same-package imports.\r\n\r\n_The jdeps command shows the package-level or class-level dependencies of Java class files. The input class can be a path name to a .class file, a directory, a JAR file, or it can be a fully qualified class name to analyze all class files. The options determine the output. By default, jdeps outputs the dependencies to the system output. It can generate the dependencies in DOT language (see the -dotoutput option)._\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/19/docs/specs/man/jdeps.html\r\n  [2]: https://github.com/glato/emerge","title":"Force IntelliJ to Keep Same-Package Import Statements","body":"<p>One answer is to skip trying to parse Java for imports and use the <a href=\"https://docs.oracle.com/en/java/javase/19/docs/specs/man/jdeps.html\" rel=\"nofollow noreferrer\"><code>jdeps</code></a> command which is part of the JDK.  <code>jdeps</code> works on <code>.class</code> files so it will work on java and kotlin (and Scala, etc).  I'm reviewing the <a href=\"https://github.com/glato/emerge\" rel=\"nofollow noreferrer\">emerge-vis</a> app, and it has the same problem with same-package imports.</p>\n<p><em>The jdeps command shows the package-level or class-level dependencies of Java class files. The input class can be a path name to a .class file, a directory, a JAR file, or it can be a fully qualified class name to analyze all class files. The options determine the output. By default, jdeps outputs the dependencies to the system output. It can generate the dependencies in DOT language (see the -dotoutput option).</em></p>\n"}],"owner":{"account_id":435433,"reputation":8569,"user_id":822005,"accept_rate":52,"display_name":"Daniel Smith"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":215,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1676394678,"creation_date":1457485336,"question_id":35881070,"body_markdown":"Given the following package structure:\r\n\r\n    | com.java.package\r\n        | A.java\r\n        | B.java\r\n\r\nAnd the following code in B.java\r\n\r\n    package com.java.package\r\n\r\n    public class B { \r\n\r\n        private final A aObject = new A();\r\n\r\n        public void foo() {\r\n            aObject.foo();\r\n        }\r\n    }\r\n\r\nIs is possible to include the following import line? \r\n    \r\n    import com.java.package.A;\r\n\r\nRationale: I am writing scripts to parse file dependencies for my build system using import statements, and when dependencies are intra-package (within the same package), Android Studio (IntelliJ) will &quot;optimize out&quot; my import statements and remove them from the file.\r\n\r\nIs there a way to force the IDE to keep my intra-package import statements?","title":"Force IntelliJ to Keep Same-Package Import Statements","body":"<p>Given the following package structure:</p>\n\n<pre><code>| com.java.package\n    | A.java\n    | B.java\n</code></pre>\n\n<p>And the following code in B.java</p>\n\n<pre><code>package com.java.package\n\npublic class B { \n\n    private final A aObject = new A();\n\n    public void foo() {\n        aObject.foo();\n    }\n}\n</code></pre>\n\n<p>Is is possible to include the following import line? </p>\n\n<pre><code>import com.java.package.A;\n</code></pre>\n\n<p>Rationale: I am writing scripts to parse file dependencies for my build system using import statements, and when dependencies are intra-package (within the same package), Android Studio (IntelliJ) will \"optimize out\" my import statements and remove them from the file.</p>\n\n<p>Is there a way to force the IDE to keep my intra-package import statements?</p>\n"},{"tags":["java","jvm"],"comments":[{"owner":{"account_id":208217,"reputation":1488,"user_id":458561,"display_name":"boneill"},"score":0,"creation_date":1676435302,"post_id":75451106,"comment_id":133134409,"body_markdown":"https://docs.oracle.com/en/java/javase/19/docs/specs/man/java.html#using-the-jdk_java_options-launcher-environment-variable","body":"<a href=\"https://docs.oracle.com/en/java/javase/19/docs/specs/man/java.html#using-the-jdk_java_options-launcher-environment-variable\" rel=\"nofollow noreferrer\">docs.oracle.com/en/java/javase/19/docs/specs/man/&hellip;</a>"}],"owner":{"account_id":11827645,"reputation":3065,"user_id":9011164,"accept_rate":50,"display_name":"KunLun"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676394534,"creation_date":1676394534,"question_id":75451106,"body_markdown":"For now, when I want to run a jar, I am running it like this: `java -XX:+UseZGC -jar app.jar`.\r\n\r\nThe JDK which I am using is `eclipse temurin 17` which is using `G1GC` by default. \r\n\r\nBut I want to change it with `ZGC`.\r\n\r\nIt is possible to change the default GC of jdk? Or to specify in `pom.xml` to use `ZGC`?","title":"Set the default GC of JDK, without VM argument","body":"<p>For now, when I want to run a jar, I am running it like this: <code>java -XX:+UseZGC -jar app.jar</code>.</p>\n<p>The JDK which I am using is <code>eclipse temurin 17</code> which is using <code>G1GC</code> by default.</p>\n<p>But I want to change it with <code>ZGC</code>.</p>\n<p>It is possible to change the default GC of jdk? Or to specify in <code>pom.xml</code> to use <code>ZGC</code>?</p>\n"},{"tags":["java","minecraft"],"comments":[{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":2,"creation_date":1675064983,"post_id":75281431,"comment_id":132840096,"body_markdown":"My guess: One is when you&#39;re standing in fire, the other is when you&#39;ve caught on fire. Most likely the damage handling is very similar in both cases, but they are still two different scenarios. I suspect it helps to differentiate for things like specific death messages and so on.","body":"My guess: One is when you&#39;re standing in fire, the other is when you&#39;ve caught on fire. Most likely the damage handling is very similar in both cases, but they are still two different scenarios. I suspect it helps to differentiate for things like specific death messages and so on."},{"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":1,"creation_date":1675068491,"post_id":75281431,"comment_id":132840977,"body_markdown":"@Slaw Indeed, this at least is related to death messages. &quot;&lt;player&gt; went up in flames&quot; (in fire) vs &quot;&lt;player&gt; burned to death&quot; (on fire but not in fire). See also: https://minecraft.fandom.com/wiki/Death_messages","body":"@Slaw Indeed, this at least is related to death messages. &quot;&lt;player&gt; went up in flames&quot; (in fire) vs &quot;&lt;player&gt; burned to death&quot; (on fire but not in fire). See also: <a href=\"https://minecraft.fandom.com/wiki/Death_messages\" rel=\"nofollow noreferrer\">minecraft.fandom.com/wiki/Death_messages</a>"}],"answers":[{"tags":[],"owner":{"account_id":1460128,"reputation":10123,"user_id":1374678,"accept_rate":93,"display_name":"rolve"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1675092852,"creation_date":1675064949,"answer_id":75281467,"question_id":75281431,"body_markdown":"Judging from the names, the one might be damage due to the player walking _in fire_ and the other due to the player having caught fire, or in other words, being _on fire_.\r\n\r\nAs @Sweeper has pointed out in the comments, the distinction is required, for example, to give precise [death messages][1].\r\n\r\n\r\n  [1]: https://minecraft.fandom.com/wiki/Death_messages","title":"What is the difference between this two variables in Minecraft source code?","body":"<p>Judging from the names, the one might be damage due to the player walking <em>in fire</em> and the other due to the player having caught fire, or in other words, being <em>on fire</em>.</p>\n<p>As @Sweeper has pointed out in the comments, the distinction is required, for example, to give precise <a href=\"https://minecraft.fandom.com/wiki/Death_messages\" rel=\"nofollow noreferrer\">death messages</a>.</p>\n"}],"owner":{"account_id":17326338,"reputation":101,"user_id":12556971,"display_name":"ByRuss X"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":152,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"closed_date":1675076423,"accepted_answer_id":75281467,"answer_count":1,"score":-3,"last_activity_date":1676394458,"creation_date":1675064690,"question_id":75281431,"body_markdown":"I was having a look at 1.19 MCP, which I downloaded from their GitHub, when I found something strange. In the file `net.minecraft.world.damagesource`, the class `DamageSource` contains two variables, among others, that look exactly the same.\r\n\r\nThese are the declarations:\r\n\r\n```\r\npublic static final DamageSource IN_FIRE = (new DamageSource(&quot;inFire&quot;)).bypassArmor().setIsFire();\r\n\r\npublic static final DamageSource ON_FIRE = (new DamageSource(&quot;onFire&quot;)).bypassArmor().setIsFire();\r\n```\r\n\r\nDoes anyone know why both variables are very similar? What is the difference between them? Where is one used and where is the other one used?\r\n\r\nI tried looking online and trying to follow the implementations of both variables, but so far no good.","title":"What is the difference between this two variables in Minecraft source code?","body":"<p>I was having a look at 1.19 MCP, which I downloaded from their GitHub, when I found something strange. In the file <code>net.minecraft.world.damagesource</code>, the class <code>DamageSource</code> contains two variables, among others, that look exactly the same.</p>\n<p>These are the declarations:</p>\n<pre><code>public static final DamageSource IN_FIRE = (new DamageSource(&quot;inFire&quot;)).bypassArmor().setIsFire();\n\npublic static final DamageSource ON_FIRE = (new DamageSource(&quot;onFire&quot;)).bypassArmor().setIsFire();\n</code></pre>\n<p>Does anyone know why both variables are very similar? What is the difference between them? Where is one used and where is the other one used?</p>\n<p>I tried looking online and trying to follow the implementations of both variables, but so far no good.</p>\n"},{"tags":["java","xml","xsd","jaxb","jaxb2-maven-plugin"],"answers":[{"comments":[{"owner":{"account_id":8500862,"reputation":2930,"user_id":8737144,"display_name":"1Z10"},"score":0,"creation_date":1676373280,"post_id":75439901,"comment_id":133119815,"body_markdown":"thanks John for the answer. I had to change all xjb elements with the `jxb:` prefix, but the error remains the same. \n\n`[ERROR] http://www.w3.org/2002/08/xhtml/xhtml1-strict.xsd [302,52] \ncom.sun.istack.SAXParseException2: Property &quot;Lang&quot; is already defined. Use &amp;lt;jaxb:property&gt; to resolve this conflict.`","body":"thanks John for the answer. I had to change all xjb elements with the <code>jxb:</code> prefix, but the error remains the same.   <code>[ERROR] http:&#47;&#47;www.w3.org&#47;2002&#47;08&#47;xhtml&#47;xhtml1-strict.xsd [302,52]  com.sun.istack.SAXParseException2: Property &quot;Lang&quot; is already defined. Use &amp;lt;jaxb:property&gt; to resolve this conflict.</code>"},{"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"score":1,"creation_date":1676393418,"post_id":75439901,"comment_id":133126361,"body_markdown":"I have fixed and run successfully. I have updated my answer.","body":"I have fixed and run successfully. I have updated my answer."}],"tags":[],"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1676394240,"creation_date":1676313037,"answer_id":75439901,"question_id":75419928,"body_markdown":"You need to rename the &#39;lang&#39; property at line 302 &amp; line 1166 in http://www.w3.org/2002/08/xhtml/xhtml1-strict.xsd to something that does  not clash, eg &#39;langAttribute&#39;\r\n\r\nThe first &#39;lang&#39; is in the last line in the snippet of xhtml1-strict.xsd below:\r\n\r\n      &lt;xs:element name=&quot;bdo&quot;&gt;\r\n        &lt;xs:annotation&gt;\r\n          &lt;xs:documentation&gt;\r\n          I18N BiDi over-ride\r\n          &lt;/xs:documentation&gt;\r\n        &lt;/xs:annotation&gt;\r\n        &lt;xs:complexType mixed=&quot;true&quot;&gt;\r\n          &lt;xs:complexContent&gt;\r\n            &lt;xs:extension base=&quot;Inline&quot;&gt;\r\n              &lt;xs:attributeGroup ref=&quot;coreattrs&quot;/&gt;\r\n              &lt;xs:attributeGroup ref=&quot;events&quot;/&gt;\r\n              &lt;xs:attribute name=&quot;lang&quot; type=&quot;LanguageCode&quot;/&gt;\r\n\r\nThis is what should be in the xjb file:\r\n\r\n    &lt;!-- cti-domain/src/main/xjb/cwe-bindings.xjb --&gt;\r\n    &lt;jxb:bindings version=&quot;3.0&quot;\r\n                  xmlns:jxb=&quot;https://jakarta.ee/xml/ns/jaxb&quot;\r\n                  xmlns:xsd=&quot;http://www.w3.org/2001/XMLSchema&quot;&gt;\r\n        &lt;jxb:bindings schemaLocation=&quot;http://www.w3.org/2002/08/xhtml/xhtml1-strict.xsd&quot; node=&quot;//xsd:schema&quot;&gt;\r\n            &lt;jxb:schemaBindings&gt;\r\n                &lt;jxb:package name=&quot;com.example.cwe&quot;/&gt;\r\n            &lt;/jxb:schemaBindings&gt;\r\n    \r\n            &lt;!-- rename the &#39;lang&#39; attribute on line 302 to &#39;langAttribute&#39; --&gt;\r\n            &lt;jxb:bindings node=&quot;//xsd:attributeGroup[@name=&#39;i18n&#39;]/xsd:attribute[@name=&#39;lang&#39;]&quot;&gt;\r\n                &lt;jxb:property name=&quot;langAttribute&quot;/&gt;\r\n           &lt;/jxb:bindings&gt;\r\n           \r\n            &lt;!-- rename the &#39;lang&#39; attribute on line 1166 to &#39;langAttribute&#39; --&gt;\r\n           &lt;jxb:bindings node=&quot;//xsd:element[@name=&#39;bdo&#39;]/xsd:complexType/xsd:complexContent/xsd:extension/xsd:attribute[@name=&#39;lang&#39;]&quot;&gt;\r\n                &lt;jxb:property name=&quot;langAttribute&quot;/&gt;\r\n           &lt;/jxb:bindings&gt;\r\n        &lt;/jxb:bindings&gt;\r\n    &lt;/jxb:bindings&gt;\r\n\r\nI have tested with jaxb-ri-4.0.1 w jdk-17.0.2_8* with command line:\r\n\r\n    xjc http://www.w3.org/2002/08/xhtml/xhtml1-strict.xsd -b cwe-bindings.xjb\r\n\r\nOutput starts like this:\r\n\r\n    parsing a schema...\r\n    compiling a schema...\r\n    com\\example\\cwe\\A.java\r\n    com\\example\\cwe\\AContent.java\r\n    com\\example\\cwe\\Abbr.java\r\n\r\n* also works with jaxb-ri-2.3.0 and jdk1.8.0_231 - with `jxb:bindings version=&quot;1.0&quot; and xmlns:jxb=&quot;http://java.sun.com/xml/ns/jaxb&quot;`\r\n\r\n","title":"JAXB XJC: how to resolve XSD to Java property conflicts?","body":"<p>You need to rename the 'lang' property at line 302 &amp; line 1166 in <a href=\"http://www.w3.org/2002/08/xhtml/xhtml1-strict.xsd\" rel=\"nofollow noreferrer\">http://www.w3.org/2002/08/xhtml/xhtml1-strict.xsd</a> to something that does  not clash, eg 'langAttribute'</p>\n<p>The first 'lang' is in the last line in the snippet of xhtml1-strict.xsd below:</p>\n<pre><code>  &lt;xs:element name=&quot;bdo&quot;&gt;\n    &lt;xs:annotation&gt;\n      &lt;xs:documentation&gt;\n      I18N BiDi over-ride\n      &lt;/xs:documentation&gt;\n    &lt;/xs:annotation&gt;\n    &lt;xs:complexType mixed=&quot;true&quot;&gt;\n      &lt;xs:complexContent&gt;\n        &lt;xs:extension base=&quot;Inline&quot;&gt;\n          &lt;xs:attributeGroup ref=&quot;coreattrs&quot;/&gt;\n          &lt;xs:attributeGroup ref=&quot;events&quot;/&gt;\n          &lt;xs:attribute name=&quot;lang&quot; type=&quot;LanguageCode&quot;/&gt;\n</code></pre>\n<p>This is what should be in the xjb file:</p>\n<pre><code>&lt;!-- cti-domain/src/main/xjb/cwe-bindings.xjb --&gt;\n&lt;jxb:bindings version=&quot;3.0&quot;\n              xmlns:jxb=&quot;https://jakarta.ee/xml/ns/jaxb&quot;\n              xmlns:xsd=&quot;http://www.w3.org/2001/XMLSchema&quot;&gt;\n    &lt;jxb:bindings schemaLocation=&quot;http://www.w3.org/2002/08/xhtml/xhtml1-strict.xsd&quot; node=&quot;//xsd:schema&quot;&gt;\n        &lt;jxb:schemaBindings&gt;\n            &lt;jxb:package name=&quot;com.example.cwe&quot;/&gt;\n        &lt;/jxb:schemaBindings&gt;\n\n        &lt;!-- rename the 'lang' attribute on line 302 to 'langAttribute' --&gt;\n        &lt;jxb:bindings node=&quot;//xsd:attributeGroup[@name='i18n']/xsd:attribute[@name='lang']&quot;&gt;\n            &lt;jxb:property name=&quot;langAttribute&quot;/&gt;\n       &lt;/jxb:bindings&gt;\n       \n        &lt;!-- rename the 'lang' attribute on line 1166 to 'langAttribute' --&gt;\n       &lt;jxb:bindings node=&quot;//xsd:element[@name='bdo']/xsd:complexType/xsd:complexContent/xsd:extension/xsd:attribute[@name='lang']&quot;&gt;\n            &lt;jxb:property name=&quot;langAttribute&quot;/&gt;\n       &lt;/jxb:bindings&gt;\n    &lt;/jxb:bindings&gt;\n&lt;/jxb:bindings&gt;\n</code></pre>\n<p>I have tested with jaxb-ri-4.0.1 w jdk-17.0.2_8* with command line:</p>\n<pre><code>xjc http://www.w3.org/2002/08/xhtml/xhtml1-strict.xsd -b cwe-bindings.xjb\n</code></pre>\n<p>Output starts like this:</p>\n<pre><code>parsing a schema...\ncompiling a schema...\ncom\\example\\cwe\\A.java\ncom\\example\\cwe\\AContent.java\ncom\\example\\cwe\\Abbr.java\n</code></pre>\n<ul>\n<li>also works with jaxb-ri-2.3.0 and jdk1.8.0_231 - with <code>jxb:bindings version=&quot;1.0&quot; and xmlns:jxb=&quot;http://java.sun.com/xml/ns/jaxb&quot;</code></li>\n</ul>\n"}],"owner":{"account_id":8500862,"reputation":2930,"user_id":8737144,"display_name":"1Z10"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":429,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75439901,"answer_count":1,"score":0,"last_activity_date":1676394240,"creation_date":1676115564,"question_id":75419928,"body_markdown":"I&#39;m trying to generate Java classes starting from an XML Schema Definition\r\nbut I&#39;m getting an error about a `Property &quot;Lang&quot; is already defined.`\r\n\r\n    [ERROR] http://www.w3.org/2002/08/xhtml/xhtml1-strict.xsd [302,52] \r\n    com.sun.istack.SAXParseException2: Property &quot;Lang&quot; is already defined. Use &amp;lt;jaxb:property&gt; to resolve this conflict.\r\n    \r\n    [ERROR] http://www.w3.org/2002/08/xhtml/xhtml1-strict.xsd [303,35] \r\n    com.sun.istack.SAXParseException2\r\n\r\nThe XSD I&#39;m using defines the Common Weakness Enumeration (CWE) and is located at https://cwe.mitre.org/data/xsd/cwe_schema_v6.10.xsd\r\n\r\nA short command to reproduce the error is:\r\n\r\n    xjc http://www.w3.org/2002/08/xhtml/xhtml1-strict.xsd\r\n\r\nThis is my pom.xml\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;!-- https://www.mojohaus.org/jaxb2-maven-plugin/#/repo --&gt;\r\n            &lt;!-- https://www.mojohaus.org/jaxb2-maven-plugin/Documentation/v3.1.0/index.html --&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jaxb2-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.1.0&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;sources&gt;\r\n                        &lt;source&gt;_schema_/cwe&lt;/source&gt;\r\n                    &lt;/sources&gt;\r\n                    &lt;xjbSources&gt;\r\n                        &lt;xjbSource&gt;${basedir}/cti-domain/src/main/xjb&lt;/xjbSource&gt;\r\n                    &lt;/xjbSources&gt;\r\n                    &lt;outputDirectory&gt;${basedir}/cti-domain/src/main/java&lt;/outputDirectory&gt;\r\n                    &lt;clearOutputDir&gt;false&lt;/clearOutputDir&gt;\r\n                &lt;/configuration&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;xjc&lt;/id&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;xjc&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\nand this is my attempt to fix the error:\r\n\r\n    &lt;!-- cti-domain/src/main/xjb/cwe-bindings.xjb --&gt;\r\n\r\n    &lt;jxb:bindings version=&quot;1.0&quot;\r\n                  xmlns:jxb=&quot;https://jakarta.ee/xml/ns/jaxb&quot;\r\n                  xmlns:xsd=&quot;http://www.w3.org/2001/XMLSchema&quot;&gt;\r\n        &lt;jxb:bindings schemaLocation=&quot;../../../../_schema_/cwe/cwe_schema_v6.10.xsd&quot; node=&quot;//xsd:schema&quot;&gt;\r\n            &lt;jxb:schemaBindings&gt;\r\n                &lt;jxb:package name=&quot;com.example.cwe&quot;/&gt;\r\n            &lt;/jxb:schemaBindings&gt;\r\n    \r\n    &lt;!--        &lt;jxb:bindings schemaLocation=&quot;http://www.w3.org/2002/08/xhtml/xhtml1-strict.xsd&quot; node=&quot;//xsd:schema&quot;&gt;--&gt;\r\n    &lt;!--            &lt;jxb:property name=&quot;Language&quot;/&gt;--&gt;\r\n    &lt;!--        &lt;/jxb:bindings&gt;--&gt;\r\n        &lt;/jxb:bindings&gt;\r\n    &lt;/jxb:bindings&gt;\r\n","title":"JAXB XJC: how to resolve XSD to Java property conflicts?","body":"<p>I'm trying to generate Java classes starting from an XML Schema Definition\nbut I'm getting an error about a <code>Property &quot;Lang&quot; is already defined.</code></p>\n<pre><code>[ERROR] http://www.w3.org/2002/08/xhtml/xhtml1-strict.xsd [302,52] \ncom.sun.istack.SAXParseException2: Property &quot;Lang&quot; is already defined. Use &amp;lt;jaxb:property&gt; to resolve this conflict.\n\n[ERROR] http://www.w3.org/2002/08/xhtml/xhtml1-strict.xsd [303,35] \ncom.sun.istack.SAXParseException2\n</code></pre>\n<p>The XSD I'm using defines the Common Weakness Enumeration (CWE) and is located at <a href=\"https://cwe.mitre.org/data/xsd/cwe_schema_v6.10.xsd\" rel=\"nofollow noreferrer\">https://cwe.mitre.org/data/xsd/cwe_schema_v6.10.xsd</a></p>\n<p>A short command to reproduce the error is:</p>\n<pre><code>xjc http://www.w3.org/2002/08/xhtml/xhtml1-strict.xsd\n</code></pre>\n<p>This is my pom.xml</p>\n<pre><code>&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;!-- https://www.mojohaus.org/jaxb2-maven-plugin/#/repo --&gt;\n        &lt;!-- https://www.mojohaus.org/jaxb2-maven-plugin/Documentation/v3.1.0/index.html --&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n            &lt;artifactId&gt;jaxb2-maven-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.1.0&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;sources&gt;\n                    &lt;source&gt;_schema_/cwe&lt;/source&gt;\n                &lt;/sources&gt;\n                &lt;xjbSources&gt;\n                    &lt;xjbSource&gt;${basedir}/cti-domain/src/main/xjb&lt;/xjbSource&gt;\n                &lt;/xjbSources&gt;\n                &lt;outputDirectory&gt;${basedir}/cti-domain/src/main/java&lt;/outputDirectory&gt;\n                &lt;clearOutputDir&gt;false&lt;/clearOutputDir&gt;\n            &lt;/configuration&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;id&gt;xjc&lt;/id&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;xjc&lt;/goal&gt;\n                    &lt;/goals&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n<p>and this is my attempt to fix the error:</p>\n<pre><code>&lt;!-- cti-domain/src/main/xjb/cwe-bindings.xjb --&gt;\n\n&lt;jxb:bindings version=&quot;1.0&quot;\n              xmlns:jxb=&quot;https://jakarta.ee/xml/ns/jaxb&quot;\n              xmlns:xsd=&quot;http://www.w3.org/2001/XMLSchema&quot;&gt;\n    &lt;jxb:bindings schemaLocation=&quot;../../../../_schema_/cwe/cwe_schema_v6.10.xsd&quot; node=&quot;//xsd:schema&quot;&gt;\n        &lt;jxb:schemaBindings&gt;\n            &lt;jxb:package name=&quot;com.example.cwe&quot;/&gt;\n        &lt;/jxb:schemaBindings&gt;\n\n&lt;!--        &lt;jxb:bindings schemaLocation=&quot;http://www.w3.org/2002/08/xhtml/xhtml1-strict.xsd&quot; node=&quot;//xsd:schema&quot;&gt;--&gt;\n&lt;!--            &lt;jxb:property name=&quot;Language&quot;/&gt;--&gt;\n&lt;!--        &lt;/jxb:bindings&gt;--&gt;\n    &lt;/jxb:bindings&gt;\n&lt;/jxb:bindings&gt;\n</code></pre>\n"},{"tags":["java","spring","mockito"],"answers":[{"tags":[],"owner":{"account_id":12272729,"reputation":51,"user_id":9021108,"display_name":"maik"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676394167,"creation_date":1676394167,"answer_id":75451049,"question_id":75421642,"body_markdown":"If you only have @RestController, you can ommit WebMVC dependency. Only with &#39;starter-web&#39; and &#39;starter-test&#39; will run succesfully.\r\n\r\n```\r\n    implementation &#39;org.springframework.boot:spring-boot-starter-validation&#39;\r\n\timplementation &#39;org.springframework.boot:spring-boot-starter-web&#39;\r\n\timplementation &#39;org.springframework.boot:spring-boot-starter-actuator&#39;\r\n\timplementation &#39;org.springframework.boot:spring-boot-starter-data-jpa&#39;\r\n\ttestImplementation &#39;org.springframework.boot:spring-boot-starter-test&#39;\r\n```\r\n\r\nMy example implementation.\r\n```\r\n@SpringBootTest\r\n@AutoConfigureMockMvc\r\nclass BusinessPostControllerTest {\r\n\r\n    @Autowired\r\n    protected MockMvc mockMvc;\r\n\r\n    @Autowired\r\n    protected ObjectMapper objectMapper;\r\n\r\n    @Autowired\r\n    protected BusinessCreate businessCreate;\r\n\r\n    protected Long createBusiness() throws Exception{\r\n\r\n        BusinessCreateDto businessCreateDto = BusinessCreateDto.builder()\r\n                .name(ContentGenerator.companyName())\r\n                .build();\r\n\r\n       return businessCreate.create(businessCreateDto).getResultId();\r\n    }\r\n\r\n    @Test\r\n    @Transactional\r\n    void createValidBusiness() throws Exception{\r\n\r\n        String url = &quot;/system/business&quot;;\r\n        BusinessCreateDto businessCreateDto = BusinessCreateDto.builder()\r\n                .name(ContentGenerator.companyName())\r\n                .build();\r\n\r\n        mockMvc.perform(\r\n                post(url).contentType(MediaType.APPLICATION_JSON).content(\r\n                        objectMapper.writeValueAsString(businessCreateDto)\r\n                )\r\n        ).andExpect(status().isCreated())\r\n        .andExpect(content().contentType(MediaType.APPLICATION_JSON))\r\n        .andExpect(jsonPath(&quot;$.message&quot;, containsString(&quot;success&quot;)))\r\n        .andExpect(jsonPath(&quot;$.result.id&quot;, notNullValue()))\r\n        .andExpect(jsonPath(&quot;$.result.id&quot;, isA(Long.class), Long.class));\r\n    }\r\n\r\n    @Test\r\n    @Transactional\r\n    void createBusinessWithInvalidInputParameters() throws Exception{\r\n\r\n        String url = &quot;/system/business&quot;;\r\n        BusinessCreateDto businessCreateDto = BusinessCreateDto.builder()\r\n                .name(null)\r\n                .build();\r\n\r\n        mockMvc.perform(\r\n                post(url).contentType(MediaType.APPLICATION_JSON).content(\r\n                        objectMapper.writeValueAsString(businessCreateDto)\r\n                )\r\n        ).andExpect(status().isBadRequest())\r\n        .andExpect(content().contentType(MediaType.APPLICATION_JSON))\r\n        .andExpect(jsonPath(&quot;$.message&quot;, containsString(&quot;error&quot;)));\r\n    }\r\n\r\n    @Test\r\n    @Transactional\r\n    void createBusinessWithoutBodyContent() throws Exception{\r\n\r\n        String url = &quot;/system/business&quot;;\r\n\r\n        mockMvc.perform(\r\n                post(url).contentType(MediaType.APPLICATION_JSON)\r\n        ).andExpect(status().isBadRequest())\r\n        .andExpect(content().contentType(MediaType.APPLICATION_JSON))\r\n        .andExpect(jsonPath(&quot;$.message&quot;, containsString(&quot;error&quot;)));\r\n    }\r\n\r\n}\r\n```\r\n\r\nregards","title":"NoClassDefFoundError: WebMvcConfigurer","body":"<p>If you only have @RestController, you can ommit WebMVC dependency. Only with 'starter-web' and 'starter-test' will run succesfully.</p>\n<pre><code>    implementation 'org.springframework.boot:spring-boot-starter-validation'\n    implementation 'org.springframework.boot:spring-boot-starter-web'\n    implementation 'org.springframework.boot:spring-boot-starter-actuator'\n    implementation 'org.springframework.boot:spring-boot-starter-data-jpa'\n    testImplementation 'org.springframework.boot:spring-boot-starter-test'\n</code></pre>\n<p>My example implementation.</p>\n<pre><code>@SpringBootTest\n@AutoConfigureMockMvc\nclass BusinessPostControllerTest {\n\n    @Autowired\n    protected MockMvc mockMvc;\n\n    @Autowired\n    protected ObjectMapper objectMapper;\n\n    @Autowired\n    protected BusinessCreate businessCreate;\n\n    protected Long createBusiness() throws Exception{\n\n        BusinessCreateDto businessCreateDto = BusinessCreateDto.builder()\n                .name(ContentGenerator.companyName())\n                .build();\n\n       return businessCreate.create(businessCreateDto).getResultId();\n    }\n\n    @Test\n    @Transactional\n    void createValidBusiness() throws Exception{\n\n        String url = &quot;/system/business&quot;;\n        BusinessCreateDto businessCreateDto = BusinessCreateDto.builder()\n                .name(ContentGenerator.companyName())\n                .build();\n\n        mockMvc.perform(\n                post(url).contentType(MediaType.APPLICATION_JSON).content(\n                        objectMapper.writeValueAsString(businessCreateDto)\n                )\n        ).andExpect(status().isCreated())\n        .andExpect(content().contentType(MediaType.APPLICATION_JSON))\n        .andExpect(jsonPath(&quot;$.message&quot;, containsString(&quot;success&quot;)))\n        .andExpect(jsonPath(&quot;$.result.id&quot;, notNullValue()))\n        .andExpect(jsonPath(&quot;$.result.id&quot;, isA(Long.class), Long.class));\n    }\n\n    @Test\n    @Transactional\n    void createBusinessWithInvalidInputParameters() throws Exception{\n\n        String url = &quot;/system/business&quot;;\n        BusinessCreateDto businessCreateDto = BusinessCreateDto.builder()\n                .name(null)\n                .build();\n\n        mockMvc.perform(\n                post(url).contentType(MediaType.APPLICATION_JSON).content(\n                        objectMapper.writeValueAsString(businessCreateDto)\n                )\n        ).andExpect(status().isBadRequest())\n        .andExpect(content().contentType(MediaType.APPLICATION_JSON))\n        .andExpect(jsonPath(&quot;$.message&quot;, containsString(&quot;error&quot;)));\n    }\n\n    @Test\n    @Transactional\n    void createBusinessWithoutBodyContent() throws Exception{\n\n        String url = &quot;/system/business&quot;;\n\n        mockMvc.perform(\n                post(url).contentType(MediaType.APPLICATION_JSON)\n        ).andExpect(status().isBadRequest())\n        .andExpect(content().contentType(MediaType.APPLICATION_JSON))\n        .andExpect(jsonPath(&quot;$.message&quot;, containsString(&quot;error&quot;)));\n    }\n\n}\n</code></pre>\n<p>regards</p>\n"}],"owner":{"account_id":26559725,"reputation":13,"user_id":20187759,"display_name":"1029Coder"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1842,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1676394167,"creation_date":1676133085,"question_id":75421642,"body_markdown":"The error is thrown when running a test class for a RestController.\r\n```\r\njava.lang.NoClassDefFoundError: org/springframework/web/servlet/config/annotation/WebMvcConfigurer\r\n\r\n\tat org.springframework.boot.test.autoconfigure.web.servlet.WebMvcTypeExcludeFilter.&lt;clinit&gt;(WebMvcTypeExcludeFilter.java:64)\r\n\tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\r\n\tat java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\n\tat java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:490)\r\n\tat org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer.instantiateTypeExcludeFilter(TypeExcludeFiltersContextCustomizer.java:63)\r\n\tat org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer.instantiateTypeExcludeFilters(TypeExcludeFiltersContextCustomizer.java:53)\r\n\tat org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer.&lt;init&gt;(TypeExcludeFiltersContextCustomizer.java:46)\r\n\tat org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizerFactory.createContextCustomizer(TypeExcludeFiltersContextCustomizerFactory.java:57)\r\n\tat org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizerFactory.createContextCustomizer(TypeExcludeFiltersContextCustomizerFactory.java:51)\r\n...\r\n```\r\nI added the following dependency to the pom.xml:\r\n```\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;\r\n    &lt;version&gt;6.0.4&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\nThe code below (Class name and variables name have been simplified)\r\n```\r\n@ExtendWith(MockitoExtension.class)\r\n@AutoConfigureWebMvc\r\n@AutoConfigureMockMvc\r\n@WebMvcTest(Controller.class)\r\npublic class ControllerTest {\r\n\r\n  @MockBean\r\n  Service service;\r\n\r\n  @Autowired\r\n  private MockMvc mockMvc;\r\n\r\n  @Test\r\n  public void some_test() throws Exception {\r\n    Mockito.when(service.getSomething())\r\n        .thenReturn(something);\r\n    mockMvc.perform(get(&quot;/errors&quot;)).andExpect(status().isOk())\r\n        .andExpect(something)\r\n        .andDo(print());\r\n  }\r\n```\r\n\r\nVarious attempt at using different annotations do not solve the problem. Any help would be appreciated.","title":"NoClassDefFoundError: WebMvcConfigurer","body":"<p>The error is thrown when running a test class for a RestController.</p>\n<pre><code>java.lang.NoClassDefFoundError: org/springframework/web/servlet/config/annotation/WebMvcConfigurer\n\n    at org.springframework.boot.test.autoconfigure.web.servlet.WebMvcTypeExcludeFilter.&lt;clinit&gt;(WebMvcTypeExcludeFilter.java:64)\n    at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n    at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\n    at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:490)\n    at org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer.instantiateTypeExcludeFilter(TypeExcludeFiltersContextCustomizer.java:63)\n    at org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer.instantiateTypeExcludeFilters(TypeExcludeFiltersContextCustomizer.java:53)\n    at org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer.&lt;init&gt;(TypeExcludeFiltersContextCustomizer.java:46)\n    at org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizerFactory.createContextCustomizer(TypeExcludeFiltersContextCustomizerFactory.java:57)\n    at org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizerFactory.createContextCustomizer(TypeExcludeFiltersContextCustomizerFactory.java:51)\n...\n</code></pre>\n<p>I added the following dependency to the pom.xml:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;\n    &lt;version&gt;6.0.4&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>The code below (Class name and variables name have been simplified)</p>\n<pre><code>@ExtendWith(MockitoExtension.class)\n@AutoConfigureWebMvc\n@AutoConfigureMockMvc\n@WebMvcTest(Controller.class)\npublic class ControllerTest {\n\n  @MockBean\n  Service service;\n\n  @Autowired\n  private MockMvc mockMvc;\n\n  @Test\n  public void some_test() throws Exception {\n    Mockito.when(service.getSomething())\n        .thenReturn(something);\n    mockMvc.perform(get(&quot;/errors&quot;)).andExpect(status().isOk())\n        .andExpect(something)\n        .andDo(print());\n  }\n</code></pre>\n<p>Various attempt at using different annotations do not solve the problem. Any help would be appreciated.</p>\n"},{"tags":["java","android","button","overriding"],"answers":[{"tags":[],"owner":{"account_id":27761608,"reputation":19,"user_id":21193920,"display_name":"Giggles"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1676136466,"creation_date":1676136466,"answer_id":75421993,"question_id":75421611,"body_markdown":"I figured it out, but for anyone wondering the same thing, I&#39;ll post what I did. I implemented the following code inside MainActivity.class with the buttons:\r\n\r\n    private boolean backButtonEnabled = true;\r\n\r\n        @Override\r\n        public void onBackPressed() {\r\n            if (backButtonEnabled) {\r\n                super.onBackPressed();\r\n            }\r\n        }\r\n\r\n        public void disableBackButton() {\r\n            backButtonEnabled = false;\r\n        }\r\n\r\n        public void enableBackButton() {\r\n            backButtonEnabled = true;\r\n        }\r\n\r\n","title":"How to override a method when a button is tapped?","body":"<p>I figured it out, but for anyone wondering the same thing, I'll post what I did. I implemented the following code inside MainActivity.class with the buttons:</p>\n<pre><code>private boolean backButtonEnabled = true;\n\n    @Override\n    public void onBackPressed() {\n        if (backButtonEnabled) {\n            super.onBackPressed();\n        }\n    }\n\n    public void disableBackButton() {\n        backButtonEnabled = false;\n    }\n\n    public void enableBackButton() {\n        backButtonEnabled = true;\n    }\n</code></pre>\n"}],"owner":{"account_id":27761608,"reputation":19,"user_id":21193920,"display_name":"Giggles"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":33,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1676394086,"creation_date":1676132756,"question_id":75421611,"body_markdown":"I was thinking of creating a button that when tapped can disable the phone back button. I wanted to be able to enable it back again by pressing another button. However, the way that I found to disable the back button was with an override. Could somebody lend me a hand on how I could do that? Thanks!\r\n\r\nWhat I tried was to put the override inside the button listener and onClick method, but it highland the override in red. I then tried putting the override in a different class and then calling the class when the the button is tapped.","title":"How to override a method when a button is tapped?","body":"<p>I was thinking of creating a button that when tapped can disable the phone back button. I wanted to be able to enable it back again by pressing another button. However, the way that I found to disable the back button was with an override. Could somebody lend me a hand on how I could do that? Thanks!</p>\n<p>What I tried was to put the override inside the button listener and onClick method, but it highland the override in red. I then tried putting the override in a different class and then calling the class when the the button is tapped.</p>\n"},{"tags":["java","arrays","sorting","arraylist","indexing"],"comments":[{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":0,"creation_date":1676051059,"post_id":75414437,"comment_id":133066391,"body_markdown":"Don&#39;t print in the loop. Use `int` to store the index with matching value. Use special value for it meaning **not found**. Print message after the loop depending on the value stored.","body":"Don&#39;t print in the loop. Use <code>int</code> to store the index with matching value. Use special value for it meaning <b>not found</b>. Print message after the loop depending on the value stored."}],"answers":[{"tags":[],"owner":{"account_id":27240000,"reputation":35,"user_id":20766340,"display_name":"Amin Mousavi"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1676393666,"creation_date":1676286621,"answer_id":75435053,"question_id":75414437,"body_markdown":"```java\r\nimport java.util.Scanner;\r\n\r\npublic class IndexWasNotFound {\r\n\r\n    public static void main(String[] args) {\r\n        Scanner scanner = new Scanner(System.in);\r\n        int[] array = new int[10];\r\n        array[0] = 6;\r\n        array[1] = 2;\r\n        array[2] = 8;\r\n        array[3] = 1;\r\n        array[4] = 3;\r\n        array[5] = 0;\r\n        array[6] = 9;\r\n        array[7] = 7;\r\n\r\n        int index = 0;\r\n        String ans = null;\r\n        boolean yn;\r\n        System.out.print(&quot;Search for? &quot;);\r\n        int searching = scanner.nextInt();\r\n\r\n        for(int i=0; i&lt;array.length; i++) {\r\n            if (searching == array[i]) {\r\n                index = i;\r\n                ans = searching + &quot; is at index &quot; + index + &quot;.&quot;;\r\n                yn = true;\r\n                break;\r\n            } else {\r\n                ans = searching + &quot; was not found.&quot;;\r\n                yn = false;\r\n            }\r\n        }\r\n        System.out.println(ans);\r\n    }\r\n}\r\n```","title":"&quot;Index was not found&quot; program in Arrays","body":"<pre class=\"lang-java prettyprint-override\"><code>import java.util.Scanner;\n\npublic class IndexWasNotFound {\n\n    public static void main(String[] args) {\n        Scanner scanner = new Scanner(System.in);\n        int[] array = new int[10];\n        array[0] = 6;\n        array[1] = 2;\n        array[2] = 8;\n        array[3] = 1;\n        array[4] = 3;\n        array[5] = 0;\n        array[6] = 9;\n        array[7] = 7;\n\n        int index = 0;\n        String ans = null;\n        boolean yn;\n        System.out.print(&quot;Search for? &quot;);\n        int searching = scanner.nextInt();\n\n        for(int i=0; i&lt;array.length; i++) {\n            if (searching == array[i]) {\n                index = i;\n                ans = searching + &quot; is at index &quot; + index + &quot;.&quot;;\n                yn = true;\n                break;\n            } else {\n                ans = searching + &quot; was not found.&quot;;\n                yn = false;\n            }\n        }\n        System.out.println(ans);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":27240000,"reputation":35,"user_id":20766340,"display_name":"Amin Mousavi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":75435053,"answer_count":1,"score":2,"last_activity_date":1676393946,"creation_date":1676050773,"question_id":75414437,"body_markdown":"I write a program that has a list of numbers. You need to add code to find a specific number in the list. If the number is found, the program will show its location. If the number is not found, the program will say that it couldn&#39;t be found.\r\n\r\nThe problem is, the output is looping, and I don&#39;t want that.\r\n\r\n```java\r\nint[] array = new int[10];\r\narray[0] = 6;\r\narray[1] = 2;\r\narray[2] = 8;\r\narray[3] = 1;\r\narray[4] = 3;\r\narray[5] = 0;\r\narray[6] = 9;\r\narray[7] = 7;\r\n\r\nSystem.out.print(&quot;Search for? &quot;);\r\nint searching = in.nextInt();\r\n\r\nfor(int i=0; i&lt;array.length; i++){\r\n    if(searching == array[i]){\r\n        System.out.println(searching + &quot; is at index &quot; + i + &quot;.&quot;);\r\n        break;\r\n    }\r\n    else{\r\n        System.out.println(searching + &quot; was not found.&quot;);\r\n    }\r\n}\r\n```\r\n\r\nMy output:\r\n```none\r\nSearch for? 1\r\n1 was not found.\r\n1 was not found.\r\n1 was not found.\r\n1 is at index 3.\r\n```\r\n\r\nExpected output:\r\n```none\r\n1 is at index 3.\r\n```","title":"&quot;Index was not found&quot; program in Arrays","body":"<p>I write a program that has a list of numbers. You need to add code to find a specific number in the list. If the number is found, the program will show its location. If the number is not found, the program will say that it couldn't be found.</p>\n<p>The problem is, the output is looping, and I don't want that.</p>\n<pre class=\"lang-java prettyprint-override\"><code>int[] array = new int[10];\narray[0] = 6;\narray[1] = 2;\narray[2] = 8;\narray[3] = 1;\narray[4] = 3;\narray[5] = 0;\narray[6] = 9;\narray[7] = 7;\n\nSystem.out.print(&quot;Search for? &quot;);\nint searching = in.nextInt();\n\nfor(int i=0; i&lt;array.length; i++){\n    if(searching == array[i]){\n        System.out.println(searching + &quot; is at index &quot; + i + &quot;.&quot;);\n        break;\n    }\n    else{\n        System.out.println(searching + &quot; was not found.&quot;);\n    }\n}\n</code></pre>\n<p>My output:</p>\n<pre class=\"lang-none prettyprint-override\"><code>Search for? 1\n1 was not found.\n1 was not found.\n1 was not found.\n1 is at index 3.\n</code></pre>\n<p>Expected output:</p>\n<pre class=\"lang-none prettyprint-override\"><code>1 is at index 3.\n</code></pre>\n"},{"tags":["java","gradle"],"comments":[{"owner":{"account_id":9609,"reputation":92294,"user_id":17833,"display_name":"Anya Shenanigans"},"score":1,"creation_date":1676332943,"post_id":75442104,"comment_id":133112657,"body_markdown":"What&#39;s the error? It&#39;s supposed to work - doing :test behaves the same as test - at least when I have that task defined in the project and all the subprojects. It fails if there&#39;s no named task in the parent project","body":"What&#39;s the error? It&#39;s supposed to work - doing :test behaves the same as test - at least when I have that task defined in the project and all the subprojects. It fails if there&#39;s no named task in the parent project"},{"owner":{"account_id":5559246,"reputation":3573,"user_id":4409319,"accept_rate":70,"display_name":"JSelser"},"score":0,"creation_date":1676394038,"post_id":75442104,"comment_id":133126559,"body_markdown":"Thanks @AnyaShenanigans! just updated the question with the error. I guess it would work if I create a `test` task in root but I expected to work by default since I wish to run any generic multiproject gradle on my ci pipeline without further code config","body":"Thanks @AnyaShenanigans! just updated the question with the error. I guess it would work if I create a <code>test</code> task in root but I expected to work by default since I wish to run any generic multiproject gradle on my ci pipeline without further code config"},{"owner":{"account_id":9609,"reputation":92294,"user_id":17833,"display_name":"Anya Shenanigans"},"score":1,"creation_date":1676416247,"post_id":75442104,"comment_id":133132055,"body_markdown":"[This answer](https://stackoverflow.com/questions/53394617/why-is-there-a-difference-between-gradlew-clean-build-and-gradlew-clean-bui/53426354#53426354) I think explains what&#39;s happening more clearly. Essentially `:test` requires it in the root, while `test` invokes it everywhere it can be found","body":"<a href=\"https://stackoverflow.com/questions/53394617/why-is-there-a-difference-between-gradlew-clean-build-and-gradlew-clean-bui/53426354#53426354\">This answer</a> I think explains what&#39;s happening more clearly. Essentially <code>:test</code> requires it in the root, while <code>test</code> invokes it everywhere it can be found"},{"owner":{"account_id":5559246,"reputation":3573,"user_id":4409319,"accept_rate":70,"display_name":"JSelser"},"score":0,"creation_date":1676467717,"post_id":75442104,"comment_id":133141975,"body_markdown":"Absolutely! answers the question! thanks! seems like its designed on purpose to be able to have custom root tasks. still would expect a well known task like `test` or `build` to run on all subprojects if undefined","body":"Absolutely! answers the question! thanks! seems like its designed on purpose to be able to have custom root tasks. still would expect a well known task like <code>test</code> or <code>build</code> to run on all subprojects if undefined"}],"owner":{"account_id":5559246,"reputation":3573,"user_id":4409319,"accept_rate":70,"display_name":"JSelser"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":85,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676393911,"creation_date":1676330796,"question_id":75442104,"body_markdown":"I found a curious thing while building some ci pipelines on a multi project repo using gradle...\r\n\r\nAs you know, in a multi project repo, you can either run tasks (lets do `test`) on all projects by:\r\n```\r\n./gradlew test\r\n```\r\n\r\nor run the task specifying the path from root, with `:` being root like so:\r\n\r\n```\r\n./gradlew :project:test\r\n```\r\n\r\ngood! now, Im baffled as to why we cant use `./gradlew :test` as an alias of `./gradlew test`\r\n\r\nit makes sense in my mind, colons is just root. in my case, it would have been easier for my CI pipelines to concat whatever submodule to `:` instead of having to strip it or have the colon as input.\r\n\r\neven more fun, intellij seems to have the exact same issue when running tests using the UI, it generates `:test` and breaks forcing me to either fix it manually or use the terminal.\r\n\r\nNow my questions:\r\n - am I missing something? maybe its a config thing on my side but couldnt find anything\r\n - if not, why was gradle designed like this? feels weird\r\n\r\n**EDIT:**\r\nIm getting the following error:\r\n\r\n```\r\n* What went wrong:\r\nTask &#39;test&#39; not found in root project \r\n```","title":"why cant I run tasks in gradle using colons as the path to root?","body":"<p>I found a curious thing while building some ci pipelines on a multi project repo using gradle...</p>\n<p>As you know, in a multi project repo, you can either run tasks (lets do <code>test</code>) on all projects by:</p>\n<pre><code>./gradlew test\n</code></pre>\n<p>or run the task specifying the path from root, with <code>:</code> being root like so:</p>\n<pre><code>./gradlew :project:test\n</code></pre>\n<p>good! now, Im baffled as to why we cant use <code>./gradlew :test</code> as an alias of <code>./gradlew test</code></p>\n<p>it makes sense in my mind, colons is just root. in my case, it would have been easier for my CI pipelines to concat whatever submodule to <code>:</code> instead of having to strip it or have the colon as input.</p>\n<p>even more fun, intellij seems to have the exact same issue when running tests using the UI, it generates <code>:test</code> and breaks forcing me to either fix it manually or use the terminal.</p>\n<p>Now my questions:</p>\n<ul>\n<li>am I missing something? maybe its a config thing on my side but couldnt find anything</li>\n<li>if not, why was gradle designed like this? feels weird</li>\n</ul>\n<p><strong>EDIT:</strong>\nIm getting the following error:</p>\n<pre><code>* What went wrong:\nTask 'test' not found in root project \n</code></pre>\n"},{"tags":["java","ssl","keytool"],"comments":[{"owner":{"account_id":155770,"reputation":120153,"user_id":372643,"accept_rate":88,"display_name":"Bruno"},"score":2,"creation_date":1328790306,"post_id":9210514,"comment_id":11594476,"body_markdown":"Just to clarify &quot;I have a Java client trying to access a server with a self-signed certificate.&quot;: you&#39;re talking of using client-certificates that are self-signed, aren&#39;t you? Is there any specific configuration for your connector settings on Glassfish (trust store settings, in particular)?","body":"Just to clarify &quot;I have a Java client trying to access a server with a self-signed certificate.&quot;: you&#39;re talking of using client-certificates that are self-signed, aren&#39;t you? Is there any specific configuration for your connector settings on Glassfish (trust store settings, in particular)?"},{"owner":{"account_id":979146,"reputation":8543,"user_id":999353,"accept_rate":51,"display_name":"TheCoder"},"score":0,"creation_date":1328795485,"post_id":9210514,"comment_id":11596378,"body_markdown":"&quot;I have a Java client trying to access a server with a self-signed certificate.&quot;: you&#39;re talking of using client-certificates that are self-signed, aren&#39;t you? - yes.","body":"&quot;I have a Java client trying to access a server with a self-signed certificate.&quot;: you&#39;re talking of using client-certificates that are self-signed, aren&#39;t you? - yes."},{"owner":{"account_id":979146,"reputation":8543,"user_id":999353,"accept_rate":51,"display_name":"TheCoder"},"score":1,"creation_date":1328795570,"post_id":9210514,"comment_id":11596407,"body_markdown":"I have found 2 settings in Glassfish JVM: -Djavax.net.ssl.keyStore=${com.sun.aas.instanceRoot}/config/keystore.jks and -Djavax.net.ssl.trustStore=${com.sun.aas.instanceRoot}/config/cacerts.jks. I now need to add by cert to one of those. Can you confirm it&#39;s the keystore I add it to?","body":"I have found 2 settings in Glassfish JVM: -Djavax.net.ssl.keyStore=${com.sun.aas.instanceRoot}/config/&zwnj;&#8203;keystore.jks and -Djavax.net.ssl.trustStore=${com.sun.aas.instanceRoot}/confi&zwnj;&#8203;g/cacerts.jks. I now need to add by cert to one of those. Can you confirm it&#39;s the keystore I add it to?"},{"owner":{"account_id":155770,"reputation":120153,"user_id":372643,"accept_rate":88,"display_name":"Bruno"},"score":8,"creation_date":1328795794,"post_id":9210514,"comment_id":11596505,"body_markdown":"On the server, the keystore is for the server cert and its private key (keystore is for what &quot;belongs&quot; to local party). The truststore is for the certs used to verify trust in the remote party. You should add the client cert to your server trust store. (See [this](http://stackoverflow.com/a/4133092/372643) too, although Glassfish doesn&#39;t seem to be using the JRE&#39;s default location.)","body":"On the server, the keystore is for the server cert and its private key (keystore is for what &quot;belongs&quot; to local party). The truststore is for the certs used to verify trust in the remote party. You should add the client cert to your server trust store. (See <a href=\"http://stackoverflow.com/a/4133092/372643\">this</a> too, although Glassfish doesn&#39;t seem to be using the JRE&#39;s default location.)"},{"owner":{"account_id":979146,"reputation":8543,"user_id":999353,"accept_rate":51,"display_name":"TheCoder"},"score":0,"creation_date":1328796285,"post_id":9210514,"comment_id":11596717,"body_markdown":"That worked Bruno. I added it to my Glassfish truststore. Thanks so much for you help. You too Dirk.","body":"That worked Bruno. I added it to my Glassfish truststore. Thanks so much for you help. You too Dirk."},{"owner":{"account_id":63162,"reputation":102381,"user_id":187141,"accept_rate":82,"display_name":"yegor256"},"score":0,"creation_date":1418729198,"post_id":9210514,"comment_id":43437124,"body_markdown":"This answer may also help: http://stackoverflow.com/questions/4663147/is-there-a-java-setting-for-disabling-certificate-validation","body":"This answer may also help: <a href=\"http://stackoverflow.com/questions/4663147/is-there-a-java-setting-for-disabling-certificate-validation\" title=\"is there a java setting for disabling certificate validation\">stackoverflow.com/questions/4663147/&hellip;</a>"},{"owner":{"account_id":111410,"reputation":8252,"user_id":294317,"accept_rate":69,"display_name":"Nathan"},"score":0,"creation_date":1418921648,"post_id":9210514,"comment_id":43529628,"body_markdown":"possible duplicate of [PKIX path building failed: unable to find valid certification path to requested target](http://stackoverflow.com/questions/4062307/pkix-path-building-failed-unable-to-find-valid-certification-path-to-requested)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/4062307/pkix-path-building-failed-unable-to-find-valid-certification-path-to-requested\">PKIX path building failed: unable to find valid certification path to requested target</a>"},{"owner":{"account_id":1585444,"reputation":163,"user_id":1469933,"accept_rate":50,"display_name":"ben_979"},"score":0,"creation_date":1450026582,"post_id":9210514,"comment_id":56249240,"body_markdown":"For Glassfish V4, the process worked for me but like TheCoder, I added to my Glassfish cacerts.jks, not the Java one.","body":"For Glassfish V4, the process worked for me but like TheCoder, I added to my Glassfish cacerts.jks, not the Java one."},{"owner":{"account_id":2465781,"reputation":1582,"user_id":2148913,"accept_rate":80,"display_name":"Ajeesh"},"score":0,"creation_date":1465385086,"post_id":9210514,"comment_id":62876256,"body_markdown":"Check this link [pkix path building failed](http://magicmonster.com/kb/prg/java/ssl/pkix_path_building_failed.html) which solved my issue","body":"Check this link <a href=\"http://magicmonster.com/kb/prg/java/ssl/pkix_path_building_failed.html\" rel=\"nofollow noreferrer\">pkix path building failed</a> which solved my issue"},{"owner":{"account_id":1659161,"reputation":1236,"user_id":1527788,"accept_rate":50,"display_name":"Joanne"},"score":0,"creation_date":1527061761,"post_id":9210514,"comment_id":87978320,"body_markdown":"Check your internet. Gradle might want to download some stuff.","body":"Check your internet. Gradle might want to download some stuff."},{"owner":{"account_id":4281210,"reputation":1058,"user_id":3500521,"display_name":"Dreamspace President"},"score":2,"creation_date":1529414063,"post_id":9210514,"comment_id":88857582,"body_markdown":"You can blindly accept all SLL certificates as shown in this full runnable example code - **That&#39;s of course insecure!**: http://www.nakov.com/blog/2009/07/16/disable-certificate-validation-in-java-ssl-connections/","body":"You can blindly accept all SLL certificates as shown in this full runnable example code - <b>That&#39;s of course insecure!</b>: <a href=\"http://www.nakov.com/blog/2009/07/16/disable-certificate-validation-in-java-ssl-connections/\" rel=\"nofollow noreferrer\">nakov.com/blog/2009/07/16/&hellip;</a>"}],"answers":[{"comments":[{"owner":{"account_id":2538103,"reputation":140,"user_id":2204639,"display_name":"RHE"},"score":9,"creation_date":1468971027,"post_id":9210661,"comment_id":64344098,"body_markdown":"Thanks a lot! -Djavax.net.ssl.trustStore=/location_of/trustStore solved my problem and the debug info was really helpful too.","body":"Thanks a lot! -Djavax.net.ssl.trustStore=/location_of/trustStore solved my problem and the debug info was really helpful too."},{"owner":{"account_id":7910119,"reputation":207,"user_id":5982032,"display_name":"rohith"},"score":8,"creation_date":1554804727,"post_id":9210661,"comment_id":97877389,"body_markdown":"java -Djavax.net.debug=all -Djavax.net.ssl.trustStore=trustStore ...\ngives the below error:\nError: Could not find or load main class ...","body":"java -Djavax.net.debug=all -Djavax.net.ssl.trustStore=trustStore ... gives the below error: Error: Could not find or load main class ..."},{"owner":{"account_id":1949647,"reputation":456,"user_id":1754036,"display_name":"user1754036"},"score":2,"creation_date":1581029572,"post_id":9210661,"comment_id":106303559,"body_markdown":"Of course you may also need to specify the truststore&#39;s password with \n-Djavax.net.ssl.trustStorePassword=changeit","body":"Of course you may also need to specify the truststore&#39;s password with  -Djavax.net.ssl.trustStorePassword=changeit"},{"owner":{"account_id":2053243,"reputation":833,"user_id":1831722,"accept_rate":56,"display_name":"vesperto"},"score":0,"creation_date":1676984860,"post_id":9210661,"comment_id":133243700,"body_markdown":"@rohith instead of `...` give it the path to a simple `helloWorld.java`.","body":"@rohith instead of <code>...</code> give it the path to a simple <code>helloWorld.java</code>."}],"tags":[],"owner":{"account_id":238657,"reputation":7626,"user_id":507697,"accept_rate":75,"display_name":"Dirk-Willem van Gulik"},"comment_count":4,"down_vote_count":1,"up_vote_count":220,"is_accepted":true,"score":219,"last_activity_date":1351667382,"creation_date":1328789782,"answer_id":9210661,"question_id":9210514,"body_markdown":"Unfortunately - it could be many things - and lots of app servers and other java &#39;wrappers&#39; are prone to play with properties and their &#39;own&#39; take on keychains and what not. So it may be looking at something totally different. \r\n\r\nShort of truss-ing - I&#39;d try:\r\n\r\n    java -Djavax.net.debug=all -Djavax.net.ssl.trustStore=trustStore ...\r\n\r\nto see if that helps. Instead of &#39;all&#39; one can also set it to &#39;ssl&#39;, key manager and trust manager - which may help in your case. Setting it to &#39;help&#39; will list something like below on most platforms.\r\n\r\nRegardless - do make sure you fully understand the difference between the keystore (in which you have the private key and cert you prove your own identity with) and the trust store (which determines who you trust) - and the fact that your own identity also has a &#39;chain&#39; of trust to the root - which is separate from any chain to a root you need to figure out &#39;who&#39; you trust.\r\n\r\n\r\n    all            turn on all debugging\r\n    ssl            turn on ssl debugging\r\n\r\n    The   following can be used with ssl:\r\n        record       enable per-record tracing\r\n        handshake    print each handshake message\r\n        keygen       print key generation data\r\n        session      print session activity\r\n        defaultctx   print default SSL initialization\r\n        sslctx       print SSLContext tracing\r\n        sessioncache print session cache tracing\r\n        keymanager   print key manager tracing\r\n        trustmanager print trust manager tracing\r\n        pluggability print pluggability tracing\r\n\r\n        handshake debugging can be widened with:\r\n        data         hex dump of each handshake message\r\n        verbose      verbose handshake message printing\r\n\r\n        record debugging can be widened with:\r\n        plaintext    hex dump of record plaintext\r\n        packet       print raw SSL/TLS packets\r\n\r\nSource: # See http://download.oracle.com/javase/1.5.0/docs/guide/security/jsse/JSSERefGuide.html#Debug\r\n","title":"Unable to find valid certification path to requested target - error even after cert imported","body":"<p>Unfortunately - it could be many things - and lots of app servers and other java 'wrappers' are prone to play with properties and their 'own' take on keychains and what not. So it may be looking at something totally different. </p>\n\n<p>Short of truss-ing - I'd try:</p>\n\n<pre><code>java -Djavax.net.debug=all -Djavax.net.ssl.trustStore=trustStore ...\n</code></pre>\n\n<p>to see if that helps. Instead of 'all' one can also set it to 'ssl', key manager and trust manager - which may help in your case. Setting it to 'help' will list something like below on most platforms.</p>\n\n<p>Regardless - do make sure you fully understand the difference between the keystore (in which you have the private key and cert you prove your own identity with) and the trust store (which determines who you trust) - and the fact that your own identity also has a 'chain' of trust to the root - which is separate from any chain to a root you need to figure out 'who' you trust.</p>\n\n<pre><code>all            turn on all debugging\nssl            turn on ssl debugging\n\nThe   following can be used with ssl:\n    record       enable per-record tracing\n    handshake    print each handshake message\n    keygen       print key generation data\n    session      print session activity\n    defaultctx   print default SSL initialization\n    sslctx       print SSLContext tracing\n    sessioncache print session cache tracing\n    keymanager   print key manager tracing\n    trustmanager print trust manager tracing\n    pluggability print pluggability tracing\n\n    handshake debugging can be widened with:\n    data         hex dump of each handshake message\n    verbose      verbose handshake message printing\n\n    record debugging can be widened with:\n    plaintext    hex dump of record plaintext\n    packet       print raw SSL/TLS packets\n</code></pre>\n\n<p>Source: # See <a href=\"http://download.oracle.com/javase/1.5.0/docs/guide/security/jsse/JSSERefGuide.html#Debug\" rel=\"noreferrer\">http://download.oracle.com/javase/1.5.0/docs/guide/security/jsse/JSSERefGuide.html#Debug</a></p>\n"},{"comments":[{"owner":{"account_id":5596885,"reputation":945,"user_id":4434367,"display_name":"Mate Šimović"},"score":0,"creation_date":1498833741,"post_id":34384472,"comment_id":76678806,"body_markdown":"Had the same problem with Spring Boot, Spring Cloud microservices, and a self-signed SSL certificate. I was able to set keyStore and keyStorePassword in application.properties and get it to work like that out of the box, but was unsuccessuful to do the same with trustStore and trustStorePassword. This answer worked for me for trust store.","body":"Had the same problem with Spring Boot, Spring Cloud microservices, and a self-signed SSL certificate. I was able to set keyStore and keyStorePassword in application.properties and get it to work like that out of the box, but was unsuccessuful to do the same with trustStore and trustStorePassword. This answer worked for me for trust store."},{"owner":{"account_id":16013784,"reputation":306,"user_id":11557109,"display_name":"ammy"},"score":0,"creation_date":1663148862,"post_id":34384472,"comment_id":130169116,"body_markdown":"Java code worked for me. Thank you.","body":"Java code worked for me. Thank you."}],"tags":[],"owner":{"account_id":2688568,"reputation":2005,"user_id":2322379,"accept_rate":83,"display_name":"Vic"},"comment_count":2,"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1461919951,"creation_date":1450637068,"answer_id":34384472,"question_id":9210514,"body_markdown":"You need to configuring JSSE System Properties, specifically point to client certificate store. \r\n\r\nVia command line:\r\n\r\n    java -Djavax.net.ssl.trustStore=truststores/client.ts com.progress.Client\r\n\r\nor via Java code:\r\n\r\n    import java.util.Properties;\r\n        ...\r\n    \tProperties systemProps = System.getProperties();\r\n    \tsystemProps.put(&quot;javax.net.ssl.keyStorePassword&quot;,&quot;passwordForKeystore&quot;);\r\n    \tsystemProps.put(&quot;javax.net.ssl.keyStore&quot;,&quot;pathToKeystore.ks&quot;);\r\n        systemProps.put(&quot;javax.net.ssl.trustStore&quot;, &quot;pathToTruststore.ts&quot;);\r\n        systemProps.put(&quot;javax.net.ssl.trustStorePassword&quot;,&quot;passwordForTrustStore&quot;);\r\n        System.setProperties(systemProps);\r\n        ...\r\n\r\nFor more refer to details on [RedHat site][1].\r\n\r\n\r\n[1]: https://access.redhat.com/documentation/en-US/Fuse_MQ_Enterprise/7.1/html/Security_Guide/files/SSL-SysProps.html\r\n","title":"Unable to find valid certification path to requested target - error even after cert imported","body":"<p>You need to configuring JSSE System Properties, specifically point to client certificate store. </p>\n\n<p>Via command line:</p>\n\n<pre><code>java -Djavax.net.ssl.trustStore=truststores/client.ts com.progress.Client\n</code></pre>\n\n<p>or via Java code:</p>\n\n<pre><code>import java.util.Properties;\n    ...\n    Properties systemProps = System.getProperties();\n    systemProps.put(\"javax.net.ssl.keyStorePassword\",\"passwordForKeystore\");\n    systemProps.put(\"javax.net.ssl.keyStore\",\"pathToKeystore.ks\");\n    systemProps.put(\"javax.net.ssl.trustStore\", \"pathToTruststore.ts\");\n    systemProps.put(\"javax.net.ssl.trustStorePassword\",\"passwordForTrustStore\");\n    System.setProperties(systemProps);\n    ...\n</code></pre>\n\n<p>For more refer to details on <a href=\"https://access.redhat.com/documentation/en-US/Fuse_MQ_Enterprise/7.1/html/Security_Guide/files/SSL-SysProps.html\" rel=\"noreferrer\">RedHat site</a>.</p>\n"},{"comments":[{"owner":{"account_id":5846644,"reputation":527,"user_id":4606579,"display_name":"Richard"},"score":4,"creation_date":1467664182,"post_id":36874647,"comment_id":63809164,"body_markdown":"This solution worked for me, but it needs a small change in the private class SavingTrustManager: `public X509Certificate[] getAcceptedIssuers() { return new X509Certificate[0];}`","body":"This solution worked for me, but it needs a small change in the private class SavingTrustManager: <code>public X509Certificate[] getAcceptedIssuers() { return new X509Certificate[0];}</code>"},{"owner":{"account_id":1745451,"reputation":2496,"user_id":1595795,"accept_rate":79,"display_name":"Renjith Krishnan"},"score":1,"creation_date":1488174646,"post_id":36874647,"comment_id":72097474,"body_markdown":"@Richard,@Paul,@user6258309\nI got the error Exception in thread &quot;main&quot; java.net.SocketTimeoutException: Read timed out\n        at java.net.SocketInputStream.socketRead0(Native Method)\n        at java.net.SocketInputStream.socketRead(Unknown Source)\n\nHow I can I fix this","body":"@Richard,@Paul,@user6258309 I got the error Exception in thread &quot;main&quot; java.net.SocketTimeoutException: Read timed out         at java.net.SocketInputStream.socketRead0(Native Method)         at java.net.SocketInputStream.socketRead(Unknown Source)  How I can I fix this"},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":14,"creation_date":1544091968,"post_id":36874647,"comment_id":94156833,"body_markdown":"This &#39;so;lution&#39; is radically insecure. Do not use.","body":"This &#39;so;lution&#39; is radically insecure. Do not use."},{"owner":{"display_name":"user6490459"},"score":51,"creation_date":1544958083,"post_id":36874647,"comment_id":94451767,"body_markdown":"This answer is mostly code. It doesn&#39;t explain why or why not it works.","body":"This answer is mostly code. It doesn&#39;t explain why or why not it works."}],"tags":[],"owner":{"account_id":8329289,"reputation":389,"user_id":6258309,"display_name":"user6258309"},"comment_count":4,"down_vote_count":6,"up_vote_count":40,"is_accepted":false,"score":34,"last_activity_date":1591375701,"creation_date":1461700834,"answer_id":36874647,"question_id":9210514,"body_markdown":"Here is the solution , follow the below link Step by Step :\r\n\r\nhttp://www.mkyong.com/webservices/jax-ws/suncertpathbuilderexception-unable-to-find-valid-certification-path-to-requested-target/\r\n\r\nJAVA FILE : which is missing from the blog\r\n\r\n\r\n\r\n    /*\r\n     * Copyright 2006 Sun Microsystems, Inc.  All Rights Reserved.\r\n     *\r\n     * Redistribution and use in source and binary forms, with or without\r\n     * modification, are permitted provided that the following conditions\r\n     * are met:\r\n     *\r\n     *   - Redistributions of source code must retain the above copyright\r\n     *     notice, this list of conditions and the following disclaimer.\r\n     *\r\n     *   - Redistributions in binary form must reproduce the above copyright\r\n     *     notice, this list of conditions and the following disclaimer in the\r\n     *     documentation and/or other materials provided with the distribution.\r\n     *\r\n     *   - Neither the name of Sun Microsystems nor the names of its\r\n     *     contributors may be used to endorse or promote products derived\r\n     *     from this software without specific prior written permission.\r\n     *\r\n     * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS &quot;AS\r\n     * IS&quot; AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,\r\n     * THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR\r\n     * PURPOSE ARE DISCLAIMED.  IN NO EVENT SHALL THE COPYRIGHT OWNER OR\r\n     * CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,\r\n     * EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,\r\n     * PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR\r\n     * PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF\r\n     * LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING\r\n     * NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\r\n     * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\r\n     */\r\n    \r\n    \r\n    \r\n    import java.io.*;\r\n    import java.net.URL;\r\n    \r\n    import java.security.*;\r\n    import java.security.cert.*;\r\n    \r\n    import javax.net.ssl.*;\r\n    \r\n    public class InstallCert {\r\n    \r\n        public static void main(String[] args) throws Exception {\r\n    \tString host;\r\n    \tint port;\r\n    \tchar[] passphrase;\r\n    \tif ((args.length == 1) || (args.length == 2)) {\r\n    \t    String[] c = args[0].split(&quot;:&quot;);\r\n    \t    host = c[0];\r\n    \t    port = (c.length == 1) ? 443 : Integer.parseInt(c[1]);\r\n    \t    String p = (args.length == 1) ? &quot;changeit&quot; : args[1];\r\n    \t    passphrase = p.toCharArray();\r\n    \t} else {\r\n    \t    System.out.println(&quot;Usage: java InstallCert &lt;host&gt;[:port] [passphrase]&quot;);\r\n    \t    return;\r\n    \t}\r\n    \r\n    \tFile file = new File(&quot;jssecacerts&quot;);\r\n    \tif (file.isFile() == false) {\r\n    \t    char SEP = File.separatorChar;\r\n    \t    File dir = new File(System.getProperty(&quot;java.home&quot;) + SEP\r\n    \t\t    + &quot;lib&quot; + SEP + &quot;security&quot;);\r\n    \t    file = new File(dir, &quot;jssecacerts&quot;);\r\n    \t    if (file.isFile() == false) {\r\n    \t\tfile = new File(dir, &quot;cacerts&quot;);\r\n    \t    }\r\n    \t}\r\n    \tSystem.out.println(&quot;Loading KeyStore &quot; + file + &quot;...&quot;);\r\n    \tInputStream in = new FileInputStream(file);\r\n    \tKeyStore ks = KeyStore.getInstance(KeyStore.getDefaultType());\r\n    \tks.load(in, passphrase);\r\n    \tin.close();\r\n    \r\n    \tSSLContext context = SSLContext.getInstance(&quot;TLS&quot;);\r\n    \tTrustManagerFactory tmf =\r\n    \t    TrustManagerFactory.getInstance(TrustManagerFactory.getDefaultAlgorithm());\r\n    \ttmf.init(ks);\r\n    \tX509TrustManager defaultTrustManager = (X509TrustManager)tmf.getTrustManagers()[0];\r\n    \tSavingTrustManager tm = new SavingTrustManager(defaultTrustManager);\r\n    \tcontext.init(null, new TrustManager[] {tm}, null);\r\n    \tSSLSocketFactory factory = context.getSocketFactory();\r\n    \r\n    \tSystem.out.println(&quot;Opening connection to &quot; + host + &quot;:&quot; + port + &quot;...&quot;);\r\n    \tSSLSocket socket = (SSLSocket)factory.createSocket(host, port);\r\n    \tsocket.setSoTimeout(10000);\r\n    \ttry {\r\n    \t    System.out.println(&quot;Starting SSL handshake...&quot;);\r\n    \t    socket.startHandshake();\r\n    \t    socket.close();\r\n    \t    System.out.println();\r\n    \t    System.out.println(&quot;No errors, certificate is already trusted&quot;);\r\n    \t} catch (SSLException e) {\r\n    \t    System.out.println();\r\n    \t    e.printStackTrace(System.out);\r\n    \t}\r\n    \r\n    \tX509Certificate[] chain = tm.chain;\r\n    \tif (chain == null) {\r\n    \t    System.out.println(&quot;Could not obtain server certificate chain&quot;);\r\n    \t    return;\r\n    \t}\r\n    \r\n    \tBufferedReader reader =\r\n    \t\tnew BufferedReader(new InputStreamReader(System.in));\r\n    \r\n    \tSystem.out.println();\r\n    \tSystem.out.println(&quot;Server sent &quot; + chain.length + &quot; certificate(s):&quot;);\r\n    \tSystem.out.println();\r\n    \tMessageDigest sha1 = MessageDigest.getInstance(&quot;SHA1&quot;);\r\n    \tMessageDigest md5 = MessageDigest.getInstance(&quot;MD5&quot;);\r\n    \tfor (int i = 0; i &lt; chain.length; i++) {\r\n    \t    X509Certificate cert = chain[i];\r\n    \t    System.out.println\r\n    \t    \t(&quot; &quot; + (i + 1) + &quot; Subject &quot; + cert.getSubjectDN());\r\n    \t    System.out.println(&quot;   Issuer  &quot; + cert.getIssuerDN());\r\n    \t    sha1.update(cert.getEncoded());\r\n    \t    System.out.println(&quot;   sha1    &quot; + toHexString(sha1.digest()));\r\n    \t    md5.update(cert.getEncoded());\r\n    \t    System.out.println(&quot;   md5     &quot; + toHexString(md5.digest()));\r\n    \t    System.out.println();\r\n    \t}\r\n    \r\n    \tSystem.out.println(&quot;Enter certificate to add to trusted keystore or &#39;q&#39; to quit: [1]&quot;);\r\n    \tString line = reader.readLine().trim();\r\n    \tint k;\r\n    \ttry {\r\n    \t    k = (line.length() == 0) ? 0 : Integer.parseInt(line) - 1;\r\n    \t} catch (NumberFormatException e) {\r\n    \t    System.out.println(&quot;KeyStore not changed&quot;);\r\n    \t    return;\r\n    \t}\r\n    \r\n    \tX509Certificate cert = chain[k];\r\n    \tString alias = host + &quot;-&quot; + (k + 1);\r\n    \tks.setCertificateEntry(alias, cert);\r\n    \r\n    \tOutputStream out = new FileOutputStream(&quot;jssecacerts&quot;);\r\n    \tks.store(out, passphrase);\r\n    \tout.close();\r\n    \r\n    \tSystem.out.println();\r\n    \tSystem.out.println(cert);\r\n    \tSystem.out.println();\r\n    \tSystem.out.println\r\n    \t\t(&quot;Added certificate to keystore &#39;jssecacerts&#39; using alias &#39;&quot;\r\n    \t\t+ alias + &quot;&#39;&quot;);\r\n        }\r\n    \r\n        private static final char[] HEXDIGITS = &quot;0123456789abcdef&quot;.toCharArray();\r\n    \r\n        private static String toHexString(byte[] bytes) {\r\n    \t    StringBuilder sb = new StringBuilder(bytes.length * 3);\r\n    \t    for (int b : bytes) {\r\n    \t        b &amp;= 0xff;\r\n    \t        sb.append(HEXDIGITS[b &gt;&gt; 4]);\r\n    \t        sb.append(HEXDIGITS[b &amp; 15]);\r\n    \t        sb.append(&#39; &#39;);\r\n    \t    }\r\n    \t    return sb.toString();\r\n        }\r\n    \r\n        private static class SavingTrustManager implements X509TrustManager {\r\n    \r\n    \tprivate final X509TrustManager tm;\r\n    \tprivate X509Certificate[] chain;\r\n    \r\n    \tSavingTrustManager(X509TrustManager tm) {\r\n    \t    this.tm = tm;\r\n    \t}\r\n    \r\n    \tpublic X509Certificate[] getAcceptedIssuers() {\r\n    \t    throw new UnsupportedOperationException();\r\n    \t}\r\n    \r\n    \tpublic void checkClientTrusted(X509Certificate[] chain, String authType)\r\n    \t\tthrows CertificateException {\r\n    \t    throw new UnsupportedOperationException();\r\n    \t}\r\n    \r\n    \tpublic void checkServerTrusted(X509Certificate[] chain, String authType)\r\n    \t\tthrows CertificateException {\r\n    \t    this.chain = chain;\r\n    \t    tm.checkServerTrusted(chain, authType);\r\n    \t}\r\n        }\r\n    \r\n    }","title":"Unable to find valid certification path to requested target - error even after cert imported","body":"<p>Here is the solution , follow the below link Step by Step :</p>\n\n<p><a href=\"http://www.mkyong.com/webservices/jax-ws/suncertpathbuilderexception-unable-to-find-valid-certification-path-to-requested-target/\" rel=\"noreferrer\">http://www.mkyong.com/webservices/jax-ws/suncertpathbuilderexception-unable-to-find-valid-certification-path-to-requested-target/</a></p>\n\n<p>JAVA FILE : which is missing from the blog</p>\n\n<pre><code>/*\n * Copyright 2006 Sun Microsystems, Inc.  All Rights Reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions\n * are met:\n *\n *   - Redistributions of source code must retain the above copyright\n *     notice, this list of conditions and the following disclaimer.\n *\n *   - Redistributions in binary form must reproduce the above copyright\n *     notice, this list of conditions and the following disclaimer in the\n *     documentation and/or other materials provided with the distribution.\n *\n *   - Neither the name of Sun Microsystems nor the names of its\n *     contributors may be used to endorse or promote products derived\n *     from this software without specific prior written permission.\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS\n * IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,\n * THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR\n * PURPOSE ARE DISCLAIMED.  IN NO EVENT SHALL THE COPYRIGHT OWNER OR\n * CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,\n * EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,\n * PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR\n * PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF\n * LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING\n * NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\n\n\n\nimport java.io.*;\nimport java.net.URL;\n\nimport java.security.*;\nimport java.security.cert.*;\n\nimport javax.net.ssl.*;\n\npublic class InstallCert {\n\n    public static void main(String[] args) throws Exception {\n    String host;\n    int port;\n    char[] passphrase;\n    if ((args.length == 1) || (args.length == 2)) {\n        String[] c = args[0].split(\":\");\n        host = c[0];\n        port = (c.length == 1) ? 443 : Integer.parseInt(c[1]);\n        String p = (args.length == 1) ? \"changeit\" : args[1];\n        passphrase = p.toCharArray();\n    } else {\n        System.out.println(\"Usage: java InstallCert &lt;host&gt;[:port] [passphrase]\");\n        return;\n    }\n\n    File file = new File(\"jssecacerts\");\n    if (file.isFile() == false) {\n        char SEP = File.separatorChar;\n        File dir = new File(System.getProperty(\"java.home\") + SEP\n            + \"lib\" + SEP + \"security\");\n        file = new File(dir, \"jssecacerts\");\n        if (file.isFile() == false) {\n        file = new File(dir, \"cacerts\");\n        }\n    }\n    System.out.println(\"Loading KeyStore \" + file + \"...\");\n    InputStream in = new FileInputStream(file);\n    KeyStore ks = KeyStore.getInstance(KeyStore.getDefaultType());\n    ks.load(in, passphrase);\n    in.close();\n\n    SSLContext context = SSLContext.getInstance(\"TLS\");\n    TrustManagerFactory tmf =\n        TrustManagerFactory.getInstance(TrustManagerFactory.getDefaultAlgorithm());\n    tmf.init(ks);\n    X509TrustManager defaultTrustManager = (X509TrustManager)tmf.getTrustManagers()[0];\n    SavingTrustManager tm = new SavingTrustManager(defaultTrustManager);\n    context.init(null, new TrustManager[] {tm}, null);\n    SSLSocketFactory factory = context.getSocketFactory();\n\n    System.out.println(\"Opening connection to \" + host + \":\" + port + \"...\");\n    SSLSocket socket = (SSLSocket)factory.createSocket(host, port);\n    socket.setSoTimeout(10000);\n    try {\n        System.out.println(\"Starting SSL handshake...\");\n        socket.startHandshake();\n        socket.close();\n        System.out.println();\n        System.out.println(\"No errors, certificate is already trusted\");\n    } catch (SSLException e) {\n        System.out.println();\n        e.printStackTrace(System.out);\n    }\n\n    X509Certificate[] chain = tm.chain;\n    if (chain == null) {\n        System.out.println(\"Could not obtain server certificate chain\");\n        return;\n    }\n\n    BufferedReader reader =\n        new BufferedReader(new InputStreamReader(System.in));\n\n    System.out.println();\n    System.out.println(\"Server sent \" + chain.length + \" certificate(s):\");\n    System.out.println();\n    MessageDigest sha1 = MessageDigest.getInstance(\"SHA1\");\n    MessageDigest md5 = MessageDigest.getInstance(\"MD5\");\n    for (int i = 0; i &lt; chain.length; i++) {\n        X509Certificate cert = chain[i];\n        System.out.println\n            (\" \" + (i + 1) + \" Subject \" + cert.getSubjectDN());\n        System.out.println(\"   Issuer  \" + cert.getIssuerDN());\n        sha1.update(cert.getEncoded());\n        System.out.println(\"   sha1    \" + toHexString(sha1.digest()));\n        md5.update(cert.getEncoded());\n        System.out.println(\"   md5     \" + toHexString(md5.digest()));\n        System.out.println();\n    }\n\n    System.out.println(\"Enter certificate to add to trusted keystore or 'q' to quit: [1]\");\n    String line = reader.readLine().trim();\n    int k;\n    try {\n        k = (line.length() == 0) ? 0 : Integer.parseInt(line) - 1;\n    } catch (NumberFormatException e) {\n        System.out.println(\"KeyStore not changed\");\n        return;\n    }\n\n    X509Certificate cert = chain[k];\n    String alias = host + \"-\" + (k + 1);\n    ks.setCertificateEntry(alias, cert);\n\n    OutputStream out = new FileOutputStream(\"jssecacerts\");\n    ks.store(out, passphrase);\n    out.close();\n\n    System.out.println();\n    System.out.println(cert);\n    System.out.println();\n    System.out.println\n        (\"Added certificate to keystore 'jssecacerts' using alias '\"\n        + alias + \"'\");\n    }\n\n    private static final char[] HEXDIGITS = \"0123456789abcdef\".toCharArray();\n\n    private static String toHexString(byte[] bytes) {\n        StringBuilder sb = new StringBuilder(bytes.length * 3);\n        for (int b : bytes) {\n            b &amp;= 0xff;\n            sb.append(HEXDIGITS[b &gt;&gt; 4]);\n            sb.append(HEXDIGITS[b &amp; 15]);\n            sb.append(' ');\n        }\n        return sb.toString();\n    }\n\n    private static class SavingTrustManager implements X509TrustManager {\n\n    private final X509TrustManager tm;\n    private X509Certificate[] chain;\n\n    SavingTrustManager(X509TrustManager tm) {\n        this.tm = tm;\n    }\n\n    public X509Certificate[] getAcceptedIssuers() {\n        throw new UnsupportedOperationException();\n    }\n\n    public void checkClientTrusted(X509Certificate[] chain, String authType)\n        throws CertificateException {\n        throw new UnsupportedOperationException();\n    }\n\n    public void checkServerTrusted(X509Certificate[] chain, String authType)\n        throws CertificateException {\n        this.chain = chain;\n        tm.checkServerTrusted(chain, authType);\n    }\n    }\n\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1689629,"reputation":597,"user_id":1552267,"accept_rate":60,"display_name":"Vankog"},"score":0,"creation_date":1601533336,"post_id":43604383,"comment_id":113438660,"body_markdown":"Experienced the same: only importing root does not work. When importing the intermediate one, it does. What might be the reason for this?","body":"Experienced the same: only importing root does not work. When importing the intermediate one, it does. What might be the reason for this?"},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1659398205,"post_id":43604383,"comment_id":129280499,"body_markdown":"You only need one of the signer certificates, not all of them.","body":"You only need one of the signer certificates, not all of them."}],"tags":[],"owner":{"account_id":5689257,"reputation":1203,"user_id":4497780,"display_name":"Danny Mor"},"comment_count":2,"down_vote_count":1,"up_vote_count":8,"is_accepted":false,"score":7,"last_activity_date":1493105608,"creation_date":1493105608,"answer_id":43604383,"question_id":9210514,"body_markdown":"I had the same problem with &lt;b&gt;sbt&lt;/b&gt;.&lt;br/&gt;\r\nIt tried to fetch dependencies from **repo1.maven.org** over ssl&lt;br/&gt; \r\nbut said it was &quot;unable to find valid certification path to requested target url&quot;.&lt;br/&gt;\r\nso I followed [this post][1]\r\nand still failed to verify a connection.&lt;br/&gt;\r\nSo I read about it and found that the root cert is not enough, as was suggested by the post,so - &lt;br/&gt; **the thing that worked for me was importing the intermediate CA certificates into the keystore**.&lt;br/&gt;\r\nI actually added all the certificates in the chain and it worked like a charm.\r\n  \r\n\r\n  [1]: http://magicmonster.com/kb/prg/java/ssl/pkix_path_building_failed.html","title":"Unable to find valid certification path to requested target - error even after cert imported","body":"<p>I had the same problem with <b>sbt</b>.<br/>\nIt tried to fetch dependencies from <strong>repo1.maven.org</strong> over ssl<br/> \nbut said it was \"unable to find valid certification path to requested target url\".<br/>\nso I followed <a href=\"http://magicmonster.com/kb/prg/java/ssl/pkix_path_building_failed.html\" rel=\"noreferrer\">this post</a>\nand still failed to verify a connection.<br/>\nSo I read about it and found that the root cert is not enough, as was suggested by the post,so - <br/> <strong>the thing that worked for me was importing the intermediate CA certificates into the keystore</strong>.<br/>\nI actually added all the certificates in the chain and it worked like a charm.</p>\n"},{"comments":[{"owner":{"account_id":19788071,"reputation":66,"user_id":14491631,"display_name":"Germ&#225;n S&#225;nchez Pastor"},"score":0,"creation_date":1674203796,"post_id":46781254,"comment_id":132667970,"body_markdown":"What if you can&#180;t disable netskope? (its company software)","body":"What if you can&#180;t disable netskope? (its company software)"}],"tags":[],"owner":{"account_id":4439777,"reputation":3830,"user_id":3614578,"accept_rate":55,"display_name":"gary69"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1508204390,"creation_date":1508204390,"answer_id":46781254,"question_id":9210514,"body_markdown":"My problem was that a Cloud Access Security Broker, NetSkope, was installed on my work laptop through a software update.  This was altering the certificate chain and I was still not able to connect to the server through my java client after importing the entire chain to my cacerts keystore.  I disabled NetSkope and was able to successfully connect.","title":"Unable to find valid certification path to requested target - error even after cert imported","body":"<p>My problem was that a Cloud Access Security Broker, NetSkope, was installed on my work laptop through a software update.  This was altering the certificate chain and I was still not able to connect to the server through my java client after importing the entire chain to my cacerts keystore.  I disabled NetSkope and was able to successfully connect.</p>\n"},{"tags":[],"owner":{"account_id":4234133,"reputation":323,"user_id":3465795,"display_name":"Steve T"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1560458288,"creation_date":1510950784,"answer_id":47358830,"question_id":9210514,"body_markdown":"I am working on a tutorial for REST web services at www.udemy.com (REST Java Web Services).  The example in the tutorial said that in order to have SSL, we must have a folder called &quot;trust_store&quot; in my eclipse &quot;client&quot; project that should contain a &quot;key store&quot; file (we had a &quot;client&quot; project to call the service, and &quot;service&quot; project that contained the REST web service - 2 projects in the same eclipse workspace, one the client, the other the service).  To keep things simple, they said to copy &quot;keystore.jks&quot; from the glassfish app server (glassfish\\domains\\domain1\\config\\keystore.jks) we are using and put it into this &quot;trust_store&quot; folder that they had me make in the client project.  That seems to make sense: the self-signed certs in the server&#39;s key_store would correspond to the certs in the client trust_store.  Now, doing this, I was getting the error that the original post mentions.  I have googled this and read that the error is due to the &quot;keystore.jks&quot; file on the client not containing a trusted/signed certificate, that the certificate it finds is self-signed.\r\n\r\nTo keep things clear, let me say that as I understand it, the &quot;keystore.jks&quot; contains self-signed certs, and the &quot;cacerts.jks&quot; file contains CA certs (signed by the CA).  The &quot;keystore.jks&quot; is the &quot;keystore&quot; and the &quot;cacerts.jks&quot; is the &quot;trust store&quot;.  As &quot;Bruno&quot;, a commenter, says above, &quot;keystore.jks&quot; is local, and &quot;cacerts.jks&quot; is for remote clients.\r\n\r\nSo, I said to myself, hey, glassfish also has the &quot;cacerts.jks&quot; file, which is glassfish&#39;s trust_store file.  cacerts.jsk is supposed to contain CA certificates.  And apparently I need my trust_store folder to contain a key store file that has at least one CA certificate.  So, I tried putting the &quot;cacerts.jks&quot; file in the &quot;trust_store&quot; folder I had made, on my client project, and changing the VM properties to point to &quot;cacerts.jks&quot; instead of &quot;keystore.jks&quot;.  That got rid of the error.  I guess all it needed was a CA cert to work.  \r\n\r\nThis may not be ideal for production, or even for development beyond just getting something to work.  For instance you could probably use &quot;keytool&quot; command to add CA certs to the &quot;keystore.jks&quot; file in the client.  But anyway hopefully this at least narrows down the possible scenarios that could be going on here to cause the error.  \r\n\r\nALSO: my approach seemed to be useful for the client (server cert added to client trust_store), it looks like the comments above to resolve the original post are useful for the server (client cert added to server trust_store).  Cheers.\r\n\r\nEclipse project setup:\r\n\r\n - MyClientProject \r\n - src \r\n - test \r\n - JRE System Library \r\n - ... \r\n - trust_store  \r\n ---cacerts.jks\r\n ---keystore.jks\r\n\r\nSnippet from MyClientProject.java file:\r\n\r\n    static {\r\n      // Setup the trustStore location and password\r\n      System.setProperty(&quot;javax.net.ssl.trustStore&quot;,&quot;trust_store/cacerts.jks&quot;);\r\n      // comment out below line\r\n      System.setProperty(&quot;javax.net.ssl.trustStore&quot;,&quot;trust_store/keystore.jks&quot;);\r\n      System.setProperty(&quot;javax.net.ssl.trustStorePassword&quot;, &quot;changeit&quot;);\r\n      //System.setProperty(&quot;javax.net.debug&quot;, &quot;all&quot;);\r\n\t\t\r\n      // for localhost testing only\r\n      javax.net.ssl.HttpsURLConnection.setDefaultHostnameVerifier(new javax.net.ssl.HostnameVerifier() {\r\n            public boolean verify(String hostname, javax.net.ssl.SSLSession sslSession) {\r\n              return hostname.equals(&quot;localhost&quot;);\r\n            }\r\n\r\n      });\r\n    }","title":"Unable to find valid certification path to requested target - error even after cert imported","body":"<p>I am working on a tutorial for REST web services at www.udemy.com (REST Java Web Services).  The example in the tutorial said that in order to have SSL, we must have a folder called \"trust_store\" in my eclipse \"client\" project that should contain a \"key store\" file (we had a \"client\" project to call the service, and \"service\" project that contained the REST web service - 2 projects in the same eclipse workspace, one the client, the other the service).  To keep things simple, they said to copy \"keystore.jks\" from the glassfish app server (glassfish\\domains\\domain1\\config\\keystore.jks) we are using and put it into this \"trust_store\" folder that they had me make in the client project.  That seems to make sense: the self-signed certs in the server's key_store would correspond to the certs in the client trust_store.  Now, doing this, I was getting the error that the original post mentions.  I have googled this and read that the error is due to the \"keystore.jks\" file on the client not containing a trusted/signed certificate, that the certificate it finds is self-signed.</p>\n\n<p>To keep things clear, let me say that as I understand it, the \"keystore.jks\" contains self-signed certs, and the \"cacerts.jks\" file contains CA certs (signed by the CA).  The \"keystore.jks\" is the \"keystore\" and the \"cacerts.jks\" is the \"trust store\".  As \"Bruno\", a commenter, says above, \"keystore.jks\" is local, and \"cacerts.jks\" is for remote clients.</p>\n\n<p>So, I said to myself, hey, glassfish also has the \"cacerts.jks\" file, which is glassfish's trust_store file.  cacerts.jsk is supposed to contain CA certificates.  And apparently I need my trust_store folder to contain a key store file that has at least one CA certificate.  So, I tried putting the \"cacerts.jks\" file in the \"trust_store\" folder I had made, on my client project, and changing the VM properties to point to \"cacerts.jks\" instead of \"keystore.jks\".  That got rid of the error.  I guess all it needed was a CA cert to work.  </p>\n\n<p>This may not be ideal for production, or even for development beyond just getting something to work.  For instance you could probably use \"keytool\" command to add CA certs to the \"keystore.jks\" file in the client.  But anyway hopefully this at least narrows down the possible scenarios that could be going on here to cause the error.  </p>\n\n<p>ALSO: my approach seemed to be useful for the client (server cert added to client trust_store), it looks like the comments above to resolve the original post are useful for the server (client cert added to server trust_store).  Cheers.</p>\n\n<p>Eclipse project setup:</p>\n\n<ul>\n<li>MyClientProject </li>\n<li>src </li>\n<li>test </li>\n<li>JRE System Library </li>\n<li>... </li>\n<li>trust_store<br>\n---cacerts.jks\n---keystore.jks</li>\n</ul>\n\n<p>Snippet from MyClientProject.java file:</p>\n\n<pre><code>static {\n  // Setup the trustStore location and password\n  System.setProperty(\"javax.net.ssl.trustStore\",\"trust_store/cacerts.jks\");\n  // comment out below line\n  System.setProperty(\"javax.net.ssl.trustStore\",\"trust_store/keystore.jks\");\n  System.setProperty(\"javax.net.ssl.trustStorePassword\", \"changeit\");\n  //System.setProperty(\"javax.net.debug\", \"all\");\n\n  // for localhost testing only\n  javax.net.ssl.HttpsURLConnection.setDefaultHostnameVerifier(new javax.net.ssl.HostnameVerifier() {\n        public boolean verify(String hostname, javax.net.ssl.SSLSession sslSession) {\n          return hostname.equals(\"localhost\");\n        }\n\n  });\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":4116401,"reputation":1189,"user_id":3377836,"accept_rate":62,"display_name":"frank"},"score":0,"creation_date":1610952612,"post_id":48542857,"comment_id":116284744,"body_markdown":"great, thanks! with the help of `keytool -alias REPLACE_TO_ANY_UNIQ_NAME -import -keystore.\\lib\\security\\cacerts -file &quot;r:\\root.crt&quot;`, i don&#39;t need to change my java code `CloseableHttpClient httpClient = HttpClients.createDefault();`","body":"great, thanks! with the help of <code>keytool -alias REPLACE_TO_ANY_UNIQ_NAME -import -keystore.\\lib\\security\\cacerts -file &quot;r:\\root.crt&quot;</code>, i don&#39;t need to change my java code <code>CloseableHttpClient httpClient = HttpClients.createDefault();</code>"}],"tags":[],"owner":{"account_id":5913408,"reputation":863,"user_id":4652896,"display_name":"Алексей Присяжный"},"comment_count":1,"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1606784014,"creation_date":1517403767,"answer_id":48542857,"question_id":9210514,"body_markdown":"(repost from [my other response][1])  \r\nUse cli utility **keytool** from java software distribution for import (and **trust!**) needed certificates\r\n\r\nSample: \r\n\r\n0. From cli change dir to jre\\bin\r\n\r\n1. Check keystore (file found in jre\\bin directory)  \r\nkeytool -list -keystore ..\\lib\\security\\cacerts  \r\nPassword is **changeit** \r\n\r\n2. Download and save all certificates in chain from needed server.\r\n\r\n3. Add certificates (before need to remove &quot;read-only&quot; attribute on file `..\\lib\\security\\cacerts`), run: \r\n    \r\n    keytool -alias REPLACE_TO_ANY_UNIQ_NAME -import -keystore.\\lib\\security\\cacerts -file &quot;r:\\root.crt&quot;\r\n\r\naccidentally I found such a simple tip. \r\nOther solutions require the use of InstallCert.Java and JDK\r\n\r\nsource: http://www.java-samples.com/showtutorial.php?tutorialid=210\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/4663147/is-there-a-java-setting-for-disabling-certificate-validation/48542816#48542816\r\n","title":"Unable to find valid certification path to requested target - error even after cert imported","body":"<p>(repost from <a href=\"https://stackoverflow.com/questions/4663147/is-there-a-java-setting-for-disabling-certificate-validation/48542816#48542816\">my other response</a>)<br />\nUse cli utility <strong>keytool</strong> from java software distribution for import (and <strong>trust!</strong>) needed certificates</p>\n<p>Sample:</p>\n<ol start=\"0\">\n<li><p>From cli change dir to jre\\bin</p>\n</li>\n<li><p>Check keystore (file found in jre\\bin directory)<br />\nkeytool -list -keystore ..\\lib\\security\\cacerts<br />\nPassword is <strong>changeit</strong></p>\n</li>\n<li><p>Download and save all certificates in chain from needed server.</p>\n</li>\n<li><p>Add certificates (before need to remove &quot;read-only&quot; attribute on file <code>..\\lib\\security\\cacerts</code>), run:</p>\n<p>keytool -alias REPLACE_TO_ANY_UNIQ_NAME -import -keystore.\\lib\\security\\cacerts -file &quot;r:\\root.crt&quot;</p>\n</li>\n</ol>\n<p>accidentally I found such a simple tip.\nOther solutions require the use of InstallCert.Java and JDK</p>\n<p>source: <a href=\"http://www.java-samples.com/showtutorial.php?tutorialid=210\" rel=\"noreferrer\">http://www.java-samples.com/showtutorial.php?tutorialid=210</a></p>\n"},{"comments":[{"owner":{"account_id":192592,"reputation":21571,"user_id":433814,"accept_rate":86,"display_name":"Marcello DeSales"},"score":0,"creation_date":1541922199,"post_id":52185843,"comment_id":93378449,"body_markdown":"indeed JDK maintains a link and maybe for compatibility with older APIs, SDKs... I successfully managed to do the same...  I&#39;m moving from JDK 8 to JDK 10 and using Docker so I just needed to copy the cacerts from an image  to another... I created the link and same exact way ... `rm -f /opt/jdk-minimal/jre/lib/security/cacerts ; ln -s /etc/ssl/certs/java/cacerts /opt/jdk-minimal/jre/lib/security/cacerts`","body":"indeed JDK maintains a link and maybe for compatibility with older APIs, SDKs... I successfully managed to do the same...  I&#39;m moving from JDK 8 to JDK 10 and using Docker so I just needed to copy the cacerts from an image  to another... I created the link and same exact way ... <code>rm -f &#47;opt&#47;jdk-minimal&#47;jre&#47;lib&#47;security&#47;cacerts ; ln -s &#47;etc&#47;ssl&#47;certs&#47;java&#47;cacerts &#47;opt&#47;jdk-minimal&#47;jre&#47;lib&#47;security&#47;cacerts</code>"}],"tags":[],"owner":{"account_id":9793530,"reputation":41,"user_id":7257368,"display_name":"0x7E1"},"comment_count":1,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1536152592,"creation_date":1536152592,"answer_id":52185843,"question_id":9210514,"body_markdown":"Check if the file `$JAVA_HOME/lib/security/cacerts` exists!\r\nIn my case it was not a file but a link to `/etc/ssl/certs/java/cacerts` and also this was a link to itself (WHAT???) so due to it JVM can&#39;t find the file.\r\n\r\n**Solution:**\r\nCopy the real cacerts file (*you can do it from another JDK*) to `/etc/ssl/certs/java/` directory and it&#39;ll solve your problem :)","title":"Unable to find valid certification path to requested target - error even after cert imported","body":"<p>Check if the file <code>$JAVA_HOME/lib/security/cacerts</code> exists!\nIn my case it was not a file but a link to <code>/etc/ssl/certs/java/cacerts</code> and also this was a link to itself (WHAT???) so due to it JVM can't find the file.</p>\n\n<p><strong>Solution:</strong>\nCopy the real cacerts file (<em>you can do it from another JDK</em>) to <code>/etc/ssl/certs/java/</code> directory and it'll solve your problem :)</p>\n"},{"comments":[{"owner":{"account_id":4028316,"reputation":169,"user_id":3423146,"display_name":"Alexander Stohr"},"score":0,"creation_date":1619511354,"post_id":53246821,"comment_id":118921082,"body_markdown":"the last snippet might be parts from/for a docker script. the previous blocks were probably meant to be shell commands.","body":"the last snippet might be parts from/for a docker script. the previous blocks were probably meant to be shell commands."}],"tags":[],"owner":{"account_id":192592,"reputation":21571,"user_id":433814,"accept_rate":86,"display_name":"Marcello DeSales"},"comment_count":1,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1541922856,"creation_date":1541922856,"answer_id":53246821,"question_id":9210514,"body_markdown":"# Solution when migrating from JDK 8 to JDK 10\r\n\r\n* The certificates are really different\r\n  *  JDK 10 has 80, while JDK 8 has 151\r\n* JDK 10 has been recently added the `certs`\r\n  * https://dzone.com/articles/openjdk-10-now-includes-root-ca-certificates\r\n  * http://openjdk.java.net/jeps/319\r\n\r\n## JDK 10\r\n\r\n    root@c339504909345:/opt/jdk-minimal/jre/lib/security #  keytool -cacerts -list\r\n    Enter keystore password:\r\n    Keystore type: JKS\r\n    Keystore provider: SUN\r\n    \r\n    Your keystore contains 80 entries\r\n\r\n## JDK 8\r\n\r\n    root@c39596768075:/usr/lib/jvm/java-8-openjdk-amd64/jre/lib/security/cacerts #  keytool -cacerts -list\r\n    Enter keystore password:\r\n    Keystore type: JKS\r\n    Keystore provider: SUN\r\n    \r\n    Your keystore contains 151 entries\r\n\r\n# Steps to fix\r\n\r\n* I deleted the JDK 10 cert and replaced it with the JDK 8\r\n* Since I&#39;m building Docker Images, I could quickly do that using Multi-stage builds\r\n  * I&#39;m building a minimal JRE using `jlink` as `/opt/jdk/bin/jlink \\\r\n    --module-path /opt/jdk/jmods...`\r\n\r\nSo, here&#39;s the different paths and the sequence of the commands...\r\n\r\n    # Java 8\r\n    COPY --from=marcellodesales-springboot-builder-jdk8 /usr/lib/jvm/java-8-openjdk-amd64/jre/lib/security/cacerts /etc/ssl/certs/java/cacerts\r\n\r\n    # Java 10\r\n    RUN rm -f /opt/jdk-minimal/jre/lib/security/cacerts\r\n    RUN ln -s /etc/ssl/certs/java/cacerts /opt/jdk-minimal/jre/lib/security/cacerts\r\n\r\n","title":"Unable to find valid certification path to requested target - error even after cert imported","body":"<h1>Solution when migrating from JDK 8 to JDK 10</h1>\n\n<ul>\n<li>The certificates are really different\n\n<ul>\n<li>JDK 10 has 80, while JDK 8 has 151</li>\n</ul></li>\n<li>JDK 10 has been recently added the <code>certs</code>\n\n<ul>\n<li><a href=\"https://dzone.com/articles/openjdk-10-now-includes-root-ca-certificates\" rel=\"noreferrer\">https://dzone.com/articles/openjdk-10-now-includes-root-ca-certificates</a></li>\n<li><a href=\"http://openjdk.java.net/jeps/319\" rel=\"noreferrer\">http://openjdk.java.net/jeps/319</a></li>\n</ul></li>\n</ul>\n\n<h2>JDK 10</h2>\n\n<pre><code>root@c339504909345:/opt/jdk-minimal/jre/lib/security #  keytool -cacerts -list\nEnter keystore password:\nKeystore type: JKS\nKeystore provider: SUN\n\nYour keystore contains 80 entries\n</code></pre>\n\n<h2>JDK 8</h2>\n\n<pre><code>root@c39596768075:/usr/lib/jvm/java-8-openjdk-amd64/jre/lib/security/cacerts #  keytool -cacerts -list\nEnter keystore password:\nKeystore type: JKS\nKeystore provider: SUN\n\nYour keystore contains 151 entries\n</code></pre>\n\n<h1>Steps to fix</h1>\n\n<ul>\n<li>I deleted the JDK 10 cert and replaced it with the JDK 8</li>\n<li>Since I'm building Docker Images, I could quickly do that using Multi-stage builds\n\n<ul>\n<li>I'm building a minimal JRE using <code>jlink</code> as <code>/opt/jdk/bin/jlink \\\n--module-path /opt/jdk/jmods...</code></li>\n</ul></li>\n</ul>\n\n<p>So, here's the different paths and the sequence of the commands...</p>\n\n<pre><code># Java 8\nCOPY --from=marcellodesales-springboot-builder-jdk8 /usr/lib/jvm/java-8-openjdk-amd64/jre/lib/security/cacerts /etc/ssl/certs/java/cacerts\n\n# Java 10\nRUN rm -f /opt/jdk-minimal/jre/lib/security/cacerts\nRUN ln -s /etc/ssl/certs/java/cacerts /opt/jdk-minimal/jre/lib/security/cacerts\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1628102,"reputation":3602,"user_id":1503163,"display_name":"Sanjay Bharwani"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1568201265,"creation_date":1568201265,"answer_id":57888135,"question_id":9210514,"body_markdown":"In my case I was facing the problem because in my tomcat process specific keystore was given using \r\n\r\n    -Djavax.net.ssl.trustStore=/pathtosomeselfsignedstore/truststore.jks\r\n\r\nWheras I was importing the certificate to the cacert of JRE/lib/security and the changes were not reflecting.\r\nThen I did below command where /tmp/cert1.test contains the certificate of the target server\r\n\r\n    keytool -import -trustcacerts -keystore /pathtosomeselfsignedstore/truststore.jks -storepass password123 -noprompt -alias rapidssl-myserver -file /tmp/cert1.test\r\n\r\nWe can double check if the certificate import is successful\r\n\r\n    keytool -list -v -keystore /pathtosomeselfsignedstore/truststore.jks\r\n\r\nand see if your taget server is found against alias rapidssl-myserver\r\n\r\n\r\n","title":"Unable to find valid certification path to requested target - error even after cert imported","body":"<p>In my case I was facing the problem because in my tomcat process specific keystore was given using </p>\n\n<pre><code>-Djavax.net.ssl.trustStore=/pathtosomeselfsignedstore/truststore.jks\n</code></pre>\n\n<p>Wheras I was importing the certificate to the cacert of JRE/lib/security and the changes were not reflecting.\nThen I did below command where /tmp/cert1.test contains the certificate of the target server</p>\n\n<pre><code>keytool -import -trustcacerts -keystore /pathtosomeselfsignedstore/truststore.jks -storepass password123 -noprompt -alias rapidssl-myserver -file /tmp/cert1.test\n</code></pre>\n\n<p>We can double check if the certificate import is successful</p>\n\n<pre><code>keytool -list -v -keystore /pathtosomeselfsignedstore/truststore.jks\n</code></pre>\n\n<p>and see if your taget server is found against alias rapidssl-myserver</p>\n"},{"tags":[],"owner":{"account_id":8878979,"reputation":21,"user_id":6629962,"display_name":"Rohit Tewari"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1607900774,"creation_date":1607900415,"answer_id":65281594,"question_id":9210514,"body_markdown":"In my case, I was getting error connecting to AWS Gov Postgres RDS. There is a separate link for GOV RDS CA certs- https://s3.us-gov-west-1.amazonaws.com/rds-downloads/rds-combined-ca-us-gov-bundle.pem\r\n\r\nAdd this pem certs to cacerts of java. You can use below script.\r\n\r\n------WINDOWDS STEPS-------\r\n1. Use VSCODE editor and install openssl, keytool plugins\r\n2. create a dir in C:/rds-ca\r\n3. place &#39;cacerts&#39; file and below script file - &#39;addCerts.sh&#39; inside dir &#39;rd-ca&#39; \r\n4. run from vscode: \r\n   4.1 cd /c/rds-ca/\r\n   4.2 ./addCerts.sh\r\n5. Copy cacerts to ${JAVA_HOME}/jre/lib/security\r\n\r\nScript code:\r\n\r\n```\r\n#!/usr/bin/env sh\r\n\r\nOLDDIR=&quot;$PWD&quot;\r\n\r\nCACERTS_FILE=cacerts\r\n\r\ncd /c/rds-ca\r\n\r\necho &quot;Downloading RDS certificates...&quot;\r\n\r\ncurl  https://s3.us-gov-west-1.amazonaws.com/rds-downloads/rds-combined-ca-us-gov-bundle.pem &gt; rds-combined-ca-bundle.pem\r\n\r\ncsplit -sk rds-combined-ca-bundle.pem &quot;/-BEGIN CERTIFICATE-/&quot; &quot;{$(grep -c &#39;BEGIN CERTIFICATE&#39; rds-combined-ca-bundle.pem | awk &#39;{print $1 - 2}&#39;)}&quot;\r\n\r\nfor CERT in xx*; do\r\n    # extract a human-readable alias from the cert\r\n    ALIAS=$(openssl x509 -noout -text -in $CERT |\r\n                   perl -ne &#39;next unless /Subject:/; s/.*CN=//; print&#39;)\r\n    echo &quot;importing $ALIAS&quot;\r\n    \r\n    keytool -import \\\r\n            -keystore  $CACERTS_FILE \\\r\n            -storepass changeit -noprompt \\\r\n            -alias &quot;$ALIAS&quot; -file $CERT\r\ndone\r\n\r\ncd &quot;$OLDDIR&quot;\r\necho &quot;$NEWDIR&quot;\r\n\r\n```","title":"Unable to find valid certification path to requested target - error even after cert imported","body":"<p>In my case, I was getting error connecting to AWS Gov Postgres RDS. There is a separate link for GOV RDS CA certs- <a href=\"https://s3.us-gov-west-1.amazonaws.com/rds-downloads/rds-combined-ca-us-gov-bundle.pem\" rel=\"nofollow noreferrer\">https://s3.us-gov-west-1.amazonaws.com/rds-downloads/rds-combined-ca-us-gov-bundle.pem</a></p>\n<p>Add this pem certs to cacerts of java. You can use below script.</p>\n<p>------WINDOWDS STEPS-------</p>\n<ol>\n<li>Use VSCODE editor and install openssl, keytool plugins</li>\n<li>create a dir in C:/rds-ca</li>\n<li>place 'cacerts' file and below script file - 'addCerts.sh' inside dir 'rd-ca'</li>\n<li>run from vscode:\n4.1 cd /c/rds-ca/\n4.2 ./addCerts.sh</li>\n<li>Copy cacerts to ${JAVA_HOME}/jre/lib/security</li>\n</ol>\n<p>Script code:</p>\n<pre><code>#!/usr/bin/env sh\n\nOLDDIR=&quot;$PWD&quot;\n\nCACERTS_FILE=cacerts\n\ncd /c/rds-ca\n\necho &quot;Downloading RDS certificates...&quot;\n\ncurl  https://s3.us-gov-west-1.amazonaws.com/rds-downloads/rds-combined-ca-us-gov-bundle.pem &gt; rds-combined-ca-bundle.pem\n\ncsplit -sk rds-combined-ca-bundle.pem &quot;/-BEGIN CERTIFICATE-/&quot; &quot;{$(grep -c 'BEGIN CERTIFICATE' rds-combined-ca-bundle.pem | awk '{print $1 - 2}')}&quot;\n\nfor CERT in xx*; do\n    # extract a human-readable alias from the cert\n    ALIAS=$(openssl x509 -noout -text -in $CERT |\n                   perl -ne 'next unless /Subject:/; s/.*CN=//; print')\n    echo &quot;importing $ALIAS&quot;\n    \n    keytool -import \\\n            -keystore  $CACERTS_FILE \\\n            -storepass changeit -noprompt \\\n            -alias &quot;$ALIAS&quot; -file $CERT\ndone\n\ncd &quot;$OLDDIR&quot;\necho &quot;$NEWDIR&quot;\n\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2795087,"reputation":669,"user_id":2404453,"display_name":"Elf"},"score":1,"creation_date":1640960299,"post_id":67228538,"comment_id":124699325,"body_markdown":"I tried second method and it worked for me.","body":"I tried second method and it worked for me."},{"owner":{"account_id":12267768,"reputation":806,"user_id":8953834,"display_name":"Ayoub Omari"},"score":0,"creation_date":1656077231,"post_id":67228538,"comment_id":128490534,"body_markdown":"@Deb Did you run the commands on client or on server ? I suppose it should be on client ?","body":"@Deb Did you run the commands on client or on server ? I suppose it should be on client ?"},{"owner":{"account_id":3620019,"reputation":5321,"user_id":3019006,"accept_rate":68,"display_name":"Deb"},"score":0,"creation_date":1656077416,"post_id":67228538,"comment_id":128490601,"body_markdown":"It is for client side.","body":"It is for client side."},{"owner":{"account_id":1408902,"reputation":1968,"user_id":2736870,"display_name":"faboulaws"},"score":0,"creation_date":1684868978,"post_id":67228538,"comment_id":134579572,"body_markdown":"Method 2 worked for me.","body":"Method 2 worked for me."},{"owner":{"account_id":5215292,"reputation":411,"user_id":4170455,"accept_rate":80,"display_name":"Abdul Wahab"},"score":1,"creation_date":1700647886,"post_id":67228538,"comment_id":136679406,"body_markdown":"I am facing this problem while sending push notifications through Firebase admin sdk the reason for this error is cacerts.jks file did not have SSL certificate add after lot of searching i found @Deb answer really appreciate your effort","body":"I am facing this problem while sending push notifications through Firebase admin sdk the reason for this error is cacerts.jks file did not have SSL certificate add after lot of searching i found @Deb answer really appreciate your effort"}],"tags":[],"owner":{"account_id":3620019,"reputation":5321,"user_id":3019006,"accept_rate":68,"display_name":"Deb"},"comment_count":5,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1624994335,"creation_date":1619174602,"answer_id":67228538,"question_id":9210514,"body_markdown":"I came across this error while trying to access a `https` url from my application which was using **self-signed** certificate.\r\nWhat they provide is a `.cert` file and I was not sure where to put that. I solved it the following way:\r\n\r\nkeytool location is under JDK/bin folder\r\n\r\n**Method 1:** Add the certificate to default Java Truststore - cacerts:\r\n\r\n    keytool -import -alias myCert -file C://certificate.cert -keystore C://Program Files//Java//jdk1.8.0_271//jre//lib//security//cacerts\r\nPassword: changeit\r\n\r\n**Method 2:**\r\n\r\n*Create a Trust Store:*\r\n\r\n    keytool -import -alias myCert -file C://certificate.cert -keystore myTrustStore\r\nIt gives you the following prompts, which can be filled up as:\r\n\r\n    Enter keystore password:changeit\r\n    Re-enter new password:changeit\r\n    Trust this certificate?yes\r\n\r\nThis will create a **myTrustStore** file inside a folder where you ran this command.\r\nCopy this &quot;mytrustStore&quot; to a convenient location.\r\n\r\n*Use the Trust Store:*\r\n\r\nWhile you are running your application/server pass these JVM arguments:\r\n\r\n    -Djavax.net.ssl.trustStore=C://myTrustStore -Djavax.net.ssl.trustStorePassword=changeit","title":"Unable to find valid certification path to requested target - error even after cert imported","body":"<p>I came across this error while trying to access a <code>https</code> url from my application which was using <strong>self-signed</strong> certificate.\nWhat they provide is a <code>.cert</code> file and I was not sure where to put that. I solved it the following way:</p>\n<p>keytool location is under JDK/bin folder</p>\n<p><strong>Method 1:</strong> Add the certificate to default Java Truststore - cacerts:</p>\n<pre><code>keytool -import -alias myCert -file C://certificate.cert -keystore C://Program Files//Java//jdk1.8.0_271//jre//lib//security//cacerts\n</code></pre>\n<p>Password: changeit</p>\n<p><strong>Method 2:</strong></p>\n<p><em>Create a Trust Store:</em></p>\n<pre><code>keytool -import -alias myCert -file C://certificate.cert -keystore myTrustStore\n</code></pre>\n<p>It gives you the following prompts, which can be filled up as:</p>\n<pre><code>Enter keystore password:changeit\nRe-enter new password:changeit\nTrust this certificate?yes\n</code></pre>\n<p>This will create a <strong>myTrustStore</strong> file inside a folder where you ran this command.\nCopy this &quot;mytrustStore&quot; to a convenient location.</p>\n<p><em>Use the Trust Store:</em></p>\n<p>While you are running your application/server pass these JVM arguments:</p>\n<pre><code>-Djavax.net.ssl.trustStore=C://myTrustStore -Djavax.net.ssl.trustStorePassword=changeit\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19553412,"reputation":185,"user_id":14308420,"display_name":"leonaugust"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1633715029,"creation_date":1633715029,"answer_id":69499837,"question_id":9210514,"body_markdown":"Wasted a lot of time on that issue. If you imported the certificate and you can see it listed here.\r\n\r\n    keytool -list -v -keystore $JAVA_HOME/lib/security/cacerts\r\n\r\nThen create the new one, with the following command, replace SITE_NAME, SITE_PORT, CERTIFICATE_NAME and path to save file.\r\n\r\n    echo -n | openssl s_client -connect SITE_NAME:SITE_PORT  \\\r\n    | openssl x509 &gt; /path/to/save/CERTIFICATE_NAME.cert\r\n\r\n In my case, I experienced problem using Keycloak with Spring. After I created certificate with this command and imported to keystore, the problem was solved and it works fine ","title":"Unable to find valid certification path to requested target - error even after cert imported","body":"<p>Wasted a lot of time on that issue. If you imported the certificate and you can see it listed here.</p>\n<pre><code>keytool -list -v -keystore $JAVA_HOME/lib/security/cacerts\n</code></pre>\n<p>Then create the new one, with the following command, replace SITE_NAME, SITE_PORT, CERTIFICATE_NAME and path to save file.</p>\n<pre><code>echo -n | openssl s_client -connect SITE_NAME:SITE_PORT  \\\n| openssl x509 &gt; /path/to/save/CERTIFICATE_NAME.cert\n</code></pre>\n<p>In my case, I experienced problem using Keycloak with Spring. After I created certificate with this command and imported to keystore, the problem was solved and it works fine</p>\n"},{"comments":[{"owner":{"account_id":4468690,"reputation":596,"user_id":3635530,"accept_rate":87,"display_name":"Arpan"},"score":0,"creation_date":1653367900,"post_id":70251430,"comment_id":127828348,"body_markdown":"You saved the day man!","body":"You saved the day man!"}],"tags":[],"owner":{"account_id":14576942,"reputation":597,"user_id":10528552,"display_name":"hamidreza75"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1661898727,"creation_date":1638821842,"answer_id":70251430,"question_id":9210514,"body_markdown":"## note for eclipse / Sts users: \r\n\r\nBecause eclipse uses its own JRE, you should add certs to its own JRE keystore.\r\nI had this issue until I added certs to Sts&#39;s JRE.\r\n\r\n# SSL log:  \r\n\r\n    `javax.net.ssl|DEBUG|1A|restartedMain|2021-12-06 23:04:00.874` IRST|TrustStoreManager.java:113|trustStore is: D:\\sts-4.12.0.RELEASE\\plugins\\org.eclipse.justj.openjdk.hotspot.jre.full.win32.x86_64_16.0.2.v20210721-1149\\jre\\lib\\security\\cacerts\r\n    This is the full path: &quot;sts-4.12.0.RELEASE\\plugins\\org.eclipse.justj.openjdk.hotspot.jre.full.win32.x86_64_16.0.2.v20210721-1149\\jre\\lib\\security\\cacerts&quot;\r\n","title":"Unable to find valid certification path to requested target - error even after cert imported","body":"<h2>note for eclipse / Sts users:</h2>\n<p>Because eclipse uses its own JRE, you should add certs to its own JRE keystore.\nI had this issue until I added certs to Sts's JRE.</p>\n<h1>SSL log:</h1>\n<pre><code>`javax.net.ssl|DEBUG|1A|restartedMain|2021-12-06 23:04:00.874` IRST|TrustStoreManager.java:113|trustStore is: D:\\sts-4.12.0.RELEASE\\plugins\\org.eclipse.justj.openjdk.hotspot.jre.full.win32.x86_64_16.0.2.v20210721-1149\\jre\\lib\\security\\cacerts\nThis is the full path: &quot;sts-4.12.0.RELEASE\\plugins\\org.eclipse.justj.openjdk.hotspot.jre.full.win32.x86_64_16.0.2.v20210721-1149\\jre\\lib\\security\\cacerts&quot;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17095216,"reputation":9,"user_id":12370347,"display_name":"Mark W"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1640980536,"creation_date":1640980414,"answer_id":70545309,"question_id":9210514,"body_markdown":"I created a ubuntu on my windows 10 laptop and I ran into issue when I was trying to load CMAK site download from https://github.com/yahoo/CMAK site. First it gave fatal ssl error.\r\n```\r\nopenssl s_client -showcerts -servername github.com -connect github.com:443 &lt;/dev/null 2&gt;/dev/null | sed -n -e &#39;/BEGIN\\ CERTIFICATE/,/END\\ CERTIFICATE/ p&#39;  &gt; github-com.pem\r\n```\r\n\r\nand use the following command (make sure you put right path for ca-cert)\r\n```\r\ncat github-com.pem | sudo tee -a /etc/ssl/certs/ca-certificates.crt\r\n```\r\nThen use the following statement (make sure the path for cert is correct):\r\n```\r\ngit config --global http.sslCAinfo /etc/ssl/certs/ca-certificates.crt\r\n```\r\nThen I was able to download CMAK but ran into issue when i tried `./sbt clean` statement. It was giving a `pkix path` error. The reason is that I do not have my company issue cert stored in my cacert file.\r\n\r\nI have downloaded the company cert (google on how to do it) and followed this article to add my downloaded cert to cacert file. Used `sudo update-ca-certificates` one more time before `./sbt`. It worked for me. \r\n\r\nNote: You may have to switch between root and exit when you are following above steps.","title":"Unable to find valid certification path to requested target - error even after cert imported","body":"<p>I created a ubuntu on my windows 10 laptop and I ran into issue when I was trying to load CMAK site download from <a href=\"https://github.com/yahoo/CMAK\" rel=\"nofollow noreferrer\">https://github.com/yahoo/CMAK</a> site. First it gave fatal ssl error.</p>\n<pre><code>openssl s_client -showcerts -servername github.com -connect github.com:443 &lt;/dev/null 2&gt;/dev/null | sed -n -e '/BEGIN\\ CERTIFICATE/,/END\\ CERTIFICATE/ p'  &gt; github-com.pem\n</code></pre>\n<p>and use the following command (make sure you put right path for ca-cert)</p>\n<pre><code>cat github-com.pem | sudo tee -a /etc/ssl/certs/ca-certificates.crt\n</code></pre>\n<p>Then use the following statement (make sure the path for cert is correct):</p>\n<pre><code>git config --global http.sslCAinfo /etc/ssl/certs/ca-certificates.crt\n</code></pre>\n<p>Then I was able to download CMAK but ran into issue when i tried <code>./sbt clean</code> statement. It was giving a <code>pkix path</code> error. The reason is that I do not have my company issue cert stored in my cacert file.</p>\n<p>I have downloaded the company cert (google on how to do it) and followed this article to add my downloaded cert to cacert file. Used <code>sudo update-ca-certificates</code> one more time before <code>./sbt</code>. It worked for me.</p>\n<p>Note: You may have to switch between root and exit when you are following above steps.</p>\n"},{"tags":[],"owner":{"account_id":401874,"reputation":427,"user_id":768691,"accept_rate":98,"display_name":"ucas"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1655159826,"creation_date":1655159826,"answer_id":72609767,"question_id":9210514,"body_markdown":"This is what I did.\r\n\r\nI wanted to develop the app on Java 10, and I had the Eclipse IDE 2020-06.\r\nThe cert import solution did not work for me.\r\nSo then I installed Java 11 JDK, switched to the latest Eclipse IDE (which runs on Java 11), and made sure that the source-code still gets compiled against the Java 10, by adding these statemements under Maven POM:\r\n\r\n \r\n\r\n        &lt;maven.compiler.target&gt;1.10&lt;/maven.compiler.target&gt;\r\n        &lt;maven.compiler.source&gt;1.10&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.release&gt;10&lt;/maven.compiler.release&gt;\r\n\r\nAnd it works like a charm; no errors.","title":"Unable to find valid certification path to requested target - error even after cert imported","body":"<p>This is what I did.</p>\n<p>I wanted to develop the app on Java 10, and I had the Eclipse IDE 2020-06.\nThe cert import solution did not work for me.\nSo then I installed Java 11 JDK, switched to the latest Eclipse IDE (which runs on Java 11), and made sure that the source-code still gets compiled against the Java 10, by adding these statemements under Maven POM:</p>\n<pre><code>    &lt;maven.compiler.target&gt;1.10&lt;/maven.compiler.target&gt;\n    &lt;maven.compiler.source&gt;1.10&lt;/maven.compiler.source&gt;\n    &lt;maven.compiler.release&gt;10&lt;/maven.compiler.release&gt;\n</code></pre>\n<p>And it works like a charm; no errors.</p>\n"},{"tags":[],"owner":{"account_id":49078,"reputation":44646,"user_id":145989,"accept_rate":59,"display_name":"Ondra Žižka"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676393692,"creation_date":1676393692,"answer_id":75450968,"question_id":9210514,"body_markdown":"# SSL mode\r\n\r\nHappened to me because my config included `sslmode=verify-full`. You may need to change this to `sslmode=require`. Or a programatic equivalent of that.\r\n\r\nThis also applies to using SSL/TLS from applications.\r\n\r\nFor instance, a Database client in IntelliJ IDEA&#39;s. There you need to go to the connection properties, SSH/SSL tab, and set `Mode` to `Require`.\r\n\r\nMore about SSL/TLS modes e.g here: https://developers.cloudflare.com/ssl/origin-configuration/ssl-modes/\r\n\r\n","title":"Unable to find valid certification path to requested target - error even after cert imported","body":"<h1>SSL mode</h1>\n<p>Happened to me because my config included <code>sslmode=verify-full</code>. You may need to change this to <code>sslmode=require</code>. Or a programatic equivalent of that.</p>\n<p>This also applies to using SSL/TLS from applications.</p>\n<p>For instance, a Database client in IntelliJ IDEA's. There you need to go to the connection properties, SSH/SSL tab, and set <code>Mode</code> to <code>Require</code>.</p>\n<p>More about SSL/TLS modes e.g here: <a href=\"https://developers.cloudflare.com/ssl/origin-configuration/ssl-modes/\" rel=\"nofollow noreferrer\">https://developers.cloudflare.com/ssl/origin-configuration/ssl-modes/</a></p>\n"}],"owner":{"account_id":979146,"reputation":8543,"user_id":999353,"accept_rate":51,"display_name":"TheCoder"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1420678,"favorite_count":0,"down_vote_count":1,"up_vote_count":297,"accepted_answer_id":9210661,"answer_count":17,"score":296,"last_activity_date":1676393692,"creation_date":1328789102,"question_id":9210514,"body_markdown":"I have a Java client trying to access a server with a self-signed certificate.\r\n\r\nWhen I try to Post to the server, I get the following error:\r\n\r\n&gt; unable to find valid certification path to requested target\r\n\r\nHaving done some research on the issue, I then did the following.\r\n\r\n 1. Saved my servers domain name as a `root.cer` file.\r\n 2. In my Glassfish server&#39;s JRE, I ran this:  \r\n\r\n        keytool -import -alias example -keystore cacerts -file root.cer\r\n\r\n 3. To check the cert was added to my cacert successfully, I did this:\r\n\r\n        keytool -list -v -keystore cacerts\r\n\r\n    I can see the cert is present.\r\n 4. I then restarted Glassfish and retried the &#39;post&#39;.\r\n\r\nI am still getting the same error.\r\n\r\nI have a feeling this is because my Glassfish is not actually reading the `cacert` file that I have amended but maybe some other one.\r\n\r\nHave any of you had this issue and can push me in the right direction?\r\n","title":"Unable to find valid certification path to requested target - error even after cert imported","body":"<p>I have a Java client trying to access a server with a self-signed certificate.</p>\n<p>When I try to Post to the server, I get the following error:</p>\n<blockquote>\n<p>unable to find valid certification path to requested target</p>\n</blockquote>\n<p>Having done some research on the issue, I then did the following.</p>\n<ol>\n<li><p>Saved my servers domain name as a <code>root.cer</code> file.</p>\n</li>\n<li><p>In my Glassfish server's JRE, I ran this:</p>\n<pre><code>keytool -import -alias example -keystore cacerts -file root.cer\n</code></pre>\n</li>\n<li><p>To check the cert was added to my cacert successfully, I did this:</p>\n<pre><code>keytool -list -v -keystore cacerts\n</code></pre>\n<p>I can see the cert is present.</p>\n</li>\n<li><p>I then restarted Glassfish and retried the 'post'.</p>\n</li>\n</ol>\n<p>I am still getting the same error.</p>\n<p>I have a feeling this is because my Glassfish is not actually reading the <code>cacert</code> file that I have amended but maybe some other one.</p>\n<p>Have any of you had this issue and can push me in the right direction?</p>\n"},{"tags":["java","android","google-maps-api-2"],"comments":[{"owner":{"account_id":392087,"reputation":1214,"user_id":753136,"accept_rate":60,"display_name":"tiktak"},"score":0,"creation_date":1344211955,"post_id":11623287,"comment_id":15714173,"body_markdown":"Have you found a solution? I&#39;m facing this problem as well. Maybe it&#39;s about managing the mapView in the activity life cycle.","body":"Have you found a solution? I&#39;m facing this problem as well. Maybe it&#39;s about managing the mapView in the activity life cycle."}],"answers":[{"tags":[],"owner":{"account_id":1875571,"reputation":111,"user_id":1696856,"display_name":"jane1012"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1361445997,"creation_date":1361445997,"answer_id":15001086,"question_id":11623287,"body_markdown":"To avoid the reloading of the map on screen orientation change I&#39;ve added in the manifest, in the activity tag this line:\r\n\r\n    android:configChanges=&quot;orientation&quot;\r\n\r\nI don&#39;t know if it&#39;s the best solution but it works","title":"Android Google Maps API, prevent map reloading/redrawing on screen orientation change","body":"<p>To avoid the reloading of the map on screen orientation change I've added in the manifest, in the activity tag this line:</p>\n\n<pre><code>android:configChanges=\"orientation\"\n</code></pre>\n\n<p>I don't know if it's the best solution but it works</p>\n"},{"tags":[],"owner":{"account_id":18028569,"reputation":31,"user_id":13446931,"display_name":"Treklov"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676393482,"creation_date":1676393482,"answer_id":75450919,"question_id":11623287,"body_markdown":"Try using;\r\n\r\n    android:name=&quot;.MainActivity&quot;\r\n    android:configChanges=&quot;orientation|screenSize|screenLayout|keyboardHidden&quot;","title":"Android Google Maps API, prevent map reloading/redrawing on screen orientation change","body":"<p>Try using;</p>\n<pre><code>android:name=&quot;.MainActivity&quot;\nandroid:configChanges=&quot;orientation|screenSize|screenLayout|keyboardHidden&quot;\n</code></pre>\n"}],"owner":{"account_id":1600266,"reputation":11,"user_id":1481426,"display_name":"user1481426"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":874,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1676393482,"creation_date":1343097003,"question_id":11623287,"body_markdown":"On my app, when you tilt the device in the mapView, it redraws all the markers. I want to not let this happen.","title":"Android Google Maps API, prevent map reloading/redrawing on screen orientation change","body":"<p>On my app, when you tilt the device in the mapView, it redraws all the markers. I want to not let this happen.</p>\n"},{"tags":["java","angularjs","spring","spring-boot","spring-mvc"],"answers":[{"tags":[],"owner":{"account_id":320962,"reputation":31681,"user_id":639520,"accept_rate":72,"display_name":"E-Riz"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1664287903,"creation_date":1664287903,"answer_id":73869065,"question_id":73866701,"body_markdown":"You haven&#39;t specified which HTTP method (GET, POST, PUT, DELETE, etc) the mapping should handle. To do that either use `@GetMapping` or change your `@RequestMapping` so it includes the `method` parameter.\r\n\r\n```java\r\n@GetMapping(&quot;/pendodnp/{visitorId}/{content}&quot;)\r\n```\r\n\r\nOr\r\n\r\n```java\r\nimport static org.springframework.web.bind.annotation.RequestMethod.GET;\r\n...\r\n@RequestMapping(method = GET, path = &quot;/pendodnp/{visitorId}/{content}&quot;)\r\n```\r\n\r\nUsing `@RequestMapping` without a `method` parameter is usually only done at the _class_ level, not individual methods. `@GetMapping` (or `@PostMapping`, `@PutMapping`, etc) are more common on controller _methods_.","title":"405 Method not allowed in Spring Boot and Ajax","body":"<p>You haven't specified which HTTP method (GET, POST, PUT, DELETE, etc) the mapping should handle. To do that either use <code>@GetMapping</code> or change your <code>@RequestMapping</code> so it includes the <code>method</code> parameter.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@GetMapping(&quot;/pendodnp/{visitorId}/{content}&quot;)\n</code></pre>\n<p>Or</p>\n<pre class=\"lang-java prettyprint-override\"><code>import static org.springframework.web.bind.annotation.RequestMethod.GET;\n...\n@RequestMapping(method = GET, path = &quot;/pendodnp/{visitorId}/{content}&quot;)\n</code></pre>\n<p>Using <code>@RequestMapping</code> without a <code>method</code> parameter is usually only done at the <em>class</em> level, not individual methods. <code>@GetMapping</code> (or <code>@PostMapping</code>, <code>@PutMapping</code>, etc) are more common on controller <em>methods</em>.</p>\n"}],"owner":{"account_id":9979931,"reputation":2145,"user_id":7383204,"display_name":"Talk is Cheap Show me Code"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":139,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1676393281,"creation_date":1664277463,"question_id":73866701,"body_markdown":"Hi I am having request mapping like this \r\n\r\n    @RequestMapping(value = &quot;/pendodnp/{visitorId}/{content}&quot;)\r\n    public ResponseEntity&lt;Object&gt; setPendoDNP(@PathVariable String visitorId, @PathVariable String content, final HttpSession session, final HttpServletRequest request) throws PendoException {\r\n        LOGGER.info(&quot;### pendodnp&quot;);\r\n        _splitService.updateDNP(visitorId, content);\r\n        return ResponseEntity.ok().body(content);\r\n    }\r\n\r\nbut when I hit this URL from an angular function, it gives &quot;405 method not allowed&quot; error. \r\n\r\n\r\n        $http.get(&quot;pendodnp/&quot;+visitorId+&quot;/&quot;+dnpValue, JSON.stringify(dnpValue))\r\n            .success(function(response) {\r\n \r\nHere is screenshot of how the request is going, can someone tell me what i am missing here? \r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/VUlre.png","title":"405 Method not allowed in Spring Boot and Ajax","body":"<p>Hi I am having request mapping like this</p>\n<pre><code>@RequestMapping(value = &quot;/pendodnp/{visitorId}/{content}&quot;)\npublic ResponseEntity&lt;Object&gt; setPendoDNP(@PathVariable String visitorId, @PathVariable String content, final HttpSession session, final HttpServletRequest request) throws PendoException {\n    LOGGER.info(&quot;### pendodnp&quot;);\n    _splitService.updateDNP(visitorId, content);\n    return ResponseEntity.ok().body(content);\n}\n</code></pre>\n<p>but when I hit this URL from an angular function, it gives &quot;405 method not allowed&quot; error.</p>\n<pre><code>    $http.get(&quot;pendodnp/&quot;+visitorId+&quot;/&quot;+dnpValue, JSON.stringify(dnpValue))\n        .success(function(response) {\n</code></pre>\n<p>Here is screenshot of how the request is going, can someone tell me what i am missing here?</p>\n<p><a href=\"https://i.stack.imgur.com/VUlre.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/VUlre.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","dependencies","classloader","agent","byte-buddy"],"comments":[{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1676901747,"post_id":75450643,"comment_id":133225235,"body_markdown":"You are mixing up two different tasks. First, creating a runtime environment which can cope with different versions of the same library. Second, implementing a Java Agent which can work correctly in such an environment. There is no way around the second task, so if `maven-shade-plugin` did already solve the first task but your Agent did not use the correct package, try fixing your Agent.","body":"You are mixing up two different tasks. First, creating a runtime environment which can cope with different versions of the same library. Second, implementing a Java Agent which can work correctly in such an environment. There is no way around the second task, so if <code>maven-shade-plugin</code> did already solve the first task but your Agent did not use the correct package, try fixing your Agent."},{"owner":{"account_id":27784928,"reputation":33,"user_id":21212592,"display_name":"Gourav Kumar"},"score":0,"creation_date":1676906307,"post_id":75450643,"comment_id":133226673,"body_markdown":"Basically what i was thinking that i will set my custom classloader as the default and will not load the `integration` module by adding some check and when user application&#39;s flow will go to the `premain` method in `agent` module then i will get user external dependencies through getClass().getClassLoader().And then will load only those dependencies which user is using.And also i will have to make  submodules of `integration` module by different dependency versions). and will load only those modules for which interceptor is being used. For eg: okhttp 3.14.9 interceptor module. if user uses it.","body":"Basically what i was thinking that i will set my custom classloader as the default and will not load the <code>integration</code> module by adding some check and when user application&#39;s flow will go to the <code>premain</code> method in <code>agent</code> module then i will get user external dependencies through getClass().getClassLoader().And then will load only those dependencies which user is using.And also i will have to make  submodules of <code>integration</code> module by different dependency versions). and will load only those modules for which interceptor is being used. For eg: okhttp 3.14.9 interceptor module. if user uses it."},{"owner":{"account_id":27784928,"reputation":33,"user_id":21212592,"display_name":"Gourav Kumar"},"score":0,"creation_date":1676906456,"post_id":75450643,"comment_id":133226703,"body_markdown":"You can refer this repo[https://github.com/keploy/java-sdk]. In this project i am trying to achieve the above task.","body":"You can refer this repo[<a href=\"https://github.com/keploy/java-sdk]\" rel=\"nofollow noreferrer\">github.com/keploy/java-sdk]</a>. In this project i am trying to achieve the above task."}],"owner":{"account_id":27784928,"reputation":33,"user_id":21212592,"display_name":"Gourav Kumar"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":230,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":0,"score":3,"last_activity_date":1676393193,"creation_date":1676391908,"question_id":75450643,"body_markdown":"I have a multimodule project called `k-sdk`. It has modules like\r\n\r\n**\\---\\&gt;** `agent`\r\n\r\n**\\---\\&gt;** `core`\r\n\r\n**\\---\\&gt;** `api`\r\n\r\n**\\---\\&gt;** `integration`\r\n\r\n**\\---\\&gt;** `sdk`\r\n\r\nwhere (**sdk** module contains **core**, **api**, **integration** modules and acting as a shaded jar).\r\nThis jar can be imported as a dependency in the user application.\r\n\r\nHere `k-sdk` is acting as a middleware to capture `request` and `response` of the api calls (both external and internal) and do some custom processing. And to intercept the internal calls i am using `servlet-filter` &amp; for external calls, i am using [ByteBuddy](http://bytebuddy.net/#/) and wrote the required code in the `premain` method. The corresponding interceptors are written in **integration** module. User can use this `k-sdk` by running agent jar(present in agent module) of the `k-sdk`.\r\n\r\nNow comes to the actual problem. Suppose I have written an Interceptor for `OkHttp` client version `4.10.0` in the `integration` module and the user is using the same client of version `3.14.9`, now these two versions share completely same package name. And there are some uncommon apis, methods etc, which is being used in the `OkHttpInterceptor` which results in **java.lang.NoSuchMethodError** because maven only resolves that version of dependency which has the shortest path. And only 1 version of a dependency will be loaded in the classloader.\r\n\r\n\r\nNow, To resolve this version conflict what i was thinking that i will use the below custom classloader. ([ref](https://medium.com/@isuru89/java-a-child-first-class-loader-cbd9c3d0305)) as i know that the solution lies in this approach only.\r\n\r\n```java\r\npublic class ChildFirstClassLoader extends URLClassLoader {\r\n\r\n    private final ClassLoader sysClzLoader;\r\n\r\n    public ChildFirstClassLoader(URL[] urls, ClassLoader parent) {\r\n        super(urls, parent);\r\n        sysClzLoader = getSystemClassLoader();\r\n    }\r\n\r\n    @Override\r\n    protected Class&lt;?&gt; loadClass(String name, boolean resolve) throws ClassNotFoundException {\r\n        // has the class loaded already?\r\n        Class&lt;?&gt; loadedClass = findLoadedClass(name);\r\n        if (loadedClass == null) {\r\n            try {\r\n                if (sysClzLoader != null) {\r\n                    loadedClass = sysClzLoader.loadClass(name);\r\n                }\r\n            } catch (ClassNotFoundException ex) {\r\n                // class not found in system class loader... silently skipping\r\n            }\r\n\r\n            try {\r\n                // find the class from given jar urls as in first constructor parameter.\r\n                if (loadedClass == null) {\r\n                    loadedClass = findClass(name);\r\n                }\r\n            } catch (ClassNotFoundException e) {\r\n                // class is not found in the given urls.\r\n                // Let&#39;s try it in parent classloader.\r\n                // If class is still not found, then this method will throw class not found ex.\r\n                loadedClass = super.loadClass(name, resolve);\r\n            }\r\n        }\r\n\r\n        if (resolve) {      // marked to resolve\r\n            resolveClass(loadedClass);\r\n        }\r\n        return loadedClass;\r\n    }\r\n\r\n\r\n\r\n    @Override\r\n    public Enumeration&lt;URL&gt; getResources(String name) throws IOException {\r\n        List&lt;URL&gt; allRes = new LinkedList&lt;&gt;();\r\n\r\n        // load resources from sys class loader\r\n        Enumeration&lt;URL&gt; sysResources = sysClzLoader.getResources(name);\r\n        if (sysResources != null) {\r\n            while (sysResources.hasMoreElements()) {\r\n                allRes.add(sysResources.nextElement());\r\n            }\r\n        }\r\n\r\n        // load resource from this classloader\r\n        Enumeration&lt;URL&gt; thisRes = findResources(name);\r\n        if (thisRes != null) {\r\n            while (thisRes.hasMoreElements()) {\r\n                allRes.add(thisRes.nextElement());\r\n            }\r\n        }\r\n\r\n        // then try finding resources from parent classloaders\r\n        Enumeration&lt;URL&gt; parentRes = super.findResources(name);\r\n        if (parentRes != null) {\r\n            while (parentRes.hasMoreElements()) {\r\n                allRes.add(parentRes.nextElement());\r\n            }\r\n        }\r\n\r\n        return new Enumeration&lt;URL&gt;() {\r\n            Iterator&lt;URL&gt; it = allRes.iterator();\r\n\r\n            @Override\r\n            public boolean hasMoreElements() {\r\n                return it.hasNext();\r\n            }\r\n\r\n            @Override\r\n            public URL nextElement() {\r\n                return it.next();\r\n            }\r\n        };\r\n    }\r\n\r\n    @Override\r\n    public URL getResource(String name) {\r\n        URL res = null;\r\n        if (sysClzLoader != null) {\r\n            res = sysClzLoader.getResource(name);\r\n        }\r\n        if (res == null) {\r\n            res = findResource(name);\r\n        }\r\n        if (res == null) {\r\n            res = super.getResource(name);\r\n        }\r\n        return res;\r\n    }\r\n}\r\n```\r\nAnd to improve the user experience, i have to make changes only in the `premain` method. Now i don&#39;t know how to use this classloader to resolve this conflicting issue.\r\n\r\nThe above classloader is extending `URLClassLoader`, and the application class loader is no longer an instance of `java.net.URLClassLoader` in java 9+. \r\n\r\nI am very new to this complex solution, Please! help me out.\r\n\r\n\r\n\r\nBefore this solution, i tried to repackage classes using `maven-shade-plugin` but that solution was not working because in `premain` method using ByteBuddy i was targeting a class of actual package and was using different package in the interceptor so the flow was not going to the interceptor as the class was not matching.","title":"How to deal with dependency conflicts using custom classloader in java properly?","body":"<p>I have a multimodule project called <code>k-sdk</code>. It has modules like</p>\n<p><strong>---&gt;</strong> <code>agent</code></p>\n<p><strong>---&gt;</strong> <code>core</code></p>\n<p><strong>---&gt;</strong> <code>api</code></p>\n<p><strong>---&gt;</strong> <code>integration</code></p>\n<p><strong>---&gt;</strong> <code>sdk</code></p>\n<p>where (<strong>sdk</strong> module contains <strong>core</strong>, <strong>api</strong>, <strong>integration</strong> modules and acting as a shaded jar).\nThis jar can be imported as a dependency in the user application.</p>\n<p>Here <code>k-sdk</code> is acting as a middleware to capture <code>request</code> and <code>response</code> of the api calls (both external and internal) and do some custom processing. And to intercept the internal calls i am using <code>servlet-filter</code> &amp; for external calls, i am using <a href=\"http://bytebuddy.net/#/\" rel=\"nofollow noreferrer\">ByteBuddy</a> and wrote the required code in the <code>premain</code> method. The corresponding interceptors are written in <strong>integration</strong> module. User can use this <code>k-sdk</code> by running agent jar(present in agent module) of the <code>k-sdk</code>.</p>\n<p>Now comes to the actual problem. Suppose I have written an Interceptor for <code>OkHttp</code> client version <code>4.10.0</code> in the <code>integration</code> module and the user is using the same client of version <code>3.14.9</code>, now these two versions share completely same package name. And there are some uncommon apis, methods etc, which is being used in the <code>OkHttpInterceptor</code> which results in <strong>java.lang.NoSuchMethodError</strong> because maven only resolves that version of dependency which has the shortest path. And only 1 version of a dependency will be loaded in the classloader.</p>\n<p>Now, To resolve this version conflict what i was thinking that i will use the below custom classloader. (<a href=\"https://medium.com/@isuru89/java-a-child-first-class-loader-cbd9c3d0305\" rel=\"nofollow noreferrer\">ref</a>) as i know that the solution lies in this approach only.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class ChildFirstClassLoader extends URLClassLoader {\n\n    private final ClassLoader sysClzLoader;\n\n    public ChildFirstClassLoader(URL[] urls, ClassLoader parent) {\n        super(urls, parent);\n        sysClzLoader = getSystemClassLoader();\n    }\n\n    @Override\n    protected Class&lt;?&gt; loadClass(String name, boolean resolve) throws ClassNotFoundException {\n        // has the class loaded already?\n        Class&lt;?&gt; loadedClass = findLoadedClass(name);\n        if (loadedClass == null) {\n            try {\n                if (sysClzLoader != null) {\n                    loadedClass = sysClzLoader.loadClass(name);\n                }\n            } catch (ClassNotFoundException ex) {\n                // class not found in system class loader... silently skipping\n            }\n\n            try {\n                // find the class from given jar urls as in first constructor parameter.\n                if (loadedClass == null) {\n                    loadedClass = findClass(name);\n                }\n            } catch (ClassNotFoundException e) {\n                // class is not found in the given urls.\n                // Let's try it in parent classloader.\n                // If class is still not found, then this method will throw class not found ex.\n                loadedClass = super.loadClass(name, resolve);\n            }\n        }\n\n        if (resolve) {      // marked to resolve\n            resolveClass(loadedClass);\n        }\n        return loadedClass;\n    }\n\n\n\n    @Override\n    public Enumeration&lt;URL&gt; getResources(String name) throws IOException {\n        List&lt;URL&gt; allRes = new LinkedList&lt;&gt;();\n\n        // load resources from sys class loader\n        Enumeration&lt;URL&gt; sysResources = sysClzLoader.getResources(name);\n        if (sysResources != null) {\n            while (sysResources.hasMoreElements()) {\n                allRes.add(sysResources.nextElement());\n            }\n        }\n\n        // load resource from this classloader\n        Enumeration&lt;URL&gt; thisRes = findResources(name);\n        if (thisRes != null) {\n            while (thisRes.hasMoreElements()) {\n                allRes.add(thisRes.nextElement());\n            }\n        }\n\n        // then try finding resources from parent classloaders\n        Enumeration&lt;URL&gt; parentRes = super.findResources(name);\n        if (parentRes != null) {\n            while (parentRes.hasMoreElements()) {\n                allRes.add(parentRes.nextElement());\n            }\n        }\n\n        return new Enumeration&lt;URL&gt;() {\n            Iterator&lt;URL&gt; it = allRes.iterator();\n\n            @Override\n            public boolean hasMoreElements() {\n                return it.hasNext();\n            }\n\n            @Override\n            public URL nextElement() {\n                return it.next();\n            }\n        };\n    }\n\n    @Override\n    public URL getResource(String name) {\n        URL res = null;\n        if (sysClzLoader != null) {\n            res = sysClzLoader.getResource(name);\n        }\n        if (res == null) {\n            res = findResource(name);\n        }\n        if (res == null) {\n            res = super.getResource(name);\n        }\n        return res;\n    }\n}\n</code></pre>\n<p>And to improve the user experience, i have to make changes only in the <code>premain</code> method. Now i don't know how to use this classloader to resolve this conflicting issue.</p>\n<p>The above classloader is extending <code>URLClassLoader</code>, and the application class loader is no longer an instance of <code>java.net.URLClassLoader</code> in java 9+.</p>\n<p>I am very new to this complex solution, Please! help me out.</p>\n<p>Before this solution, i tried to repackage classes using <code>maven-shade-plugin</code> but that solution was not working because in <code>premain</code> method using ByteBuddy i was targeting a class of actual package and was using different package in the interceptor so the flow was not going to the interceptor as the class was not matching.</p>\n"},{"tags":["java","sql-server","spring-data"],"comments":[{"owner":{"account_id":1434396,"reputation":28043,"user_id":1356107,"accept_rate":79,"display_name":"Tschallacka"},"score":0,"creation_date":1524060436,"post_id":49901809,"comment_id":86819040,"body_markdown":"Try using nvarchar instead of varchar. Not sure, but that has always helped me when dealing with strings and sql server.","body":"Try using nvarchar instead of varchar. Not sure, but that has always helped me when dealing with strings and sql server."},{"owner":{"account_id":2312068,"reputation":90351,"user_id":2029983,"display_name":"Thom A"},"score":1,"creation_date":1524060541,"post_id":49901809,"comment_id":86819115,"body_markdown":"When posting your query, make sure you copy and paste it. `form table` isn&#39;t valid syntax. Although this might seem silly, if you have simply typographical errors like that and then ask a &quot;why isn&#39;t this working&quot; questions you&#39;re going to be told the reason is because of the spelling mistake.","body":"When posting your query, make sure you copy and paste it. <code>form table</code> isn&#39;t valid syntax. Although this might seem silly, if you have simply typographical errors like that and then ask a &quot;why isn&#39;t this working&quot; questions you&#39;re going to be told the reason is because of the spelling mistake."},{"owner":{"account_id":6094808,"reputation":7041,"user_id":4755974,"display_name":"Veselin Davidov"},"score":0,"creation_date":1524060825,"post_id":49901809,"comment_id":86819302,"body_markdown":"If the query is working properly in sql server (you can test with the management studio ) then the problem is your java code and you can give us some of that to see :)","body":"If the query is working properly in sql server (you can test with the management studio ) then the problem is your java code and you can give us some of that to see :)"},{"owner":{"account_id":5156143,"reputation":45,"user_id":5095233,"display_name":"kbral"},"score":0,"creation_date":1524061092,"post_id":49901809,"comment_id":86819512,"body_markdown":"I had a spelling mistake in the query.\nIt actually looks like:\n`select coalesce(t1.content, convert(varbinary(max), t2.content))\nfrom table1 t1 inner join table t2 on t1.id = t2.t1_id`","body":"I had a spelling mistake in the query. It actually looks like: <code>select coalesce(t1.content, convert(varbinary(max), t2.content)) from table1 t1 inner join table t2 on t1.id = t2.t1_id</code>"},{"owner":{"account_id":12999097,"reputation":1710,"user_id":9395740,"display_name":"MJH"},"score":0,"creation_date":1524061223,"post_id":49901809,"comment_id":86819605,"body_markdown":"@Larnu Well, you called it!  :)","body":"@Larnu Well, you called it!  :)"},{"owner":{"account_id":2312068,"reputation":90351,"user_id":2029983,"display_name":"Thom A"},"score":1,"creation_date":1524061441,"post_id":49901809,"comment_id":86819788,"body_markdown":"Wait, so the reason why this wasn&#39;t working really was because of `form table`...? **/headdesk**","body":"Wait, so the reason why this wasn&#39;t working really was because of <code>form table</code>...? <b>/headdesk</b>"},{"owner":{"account_id":5156143,"reputation":45,"user_id":5095233,"display_name":"kbral"},"score":0,"creation_date":1524061888,"post_id":49901809,"comment_id":86820146,"body_markdown":"No, that wasn&#39;t the problem. the query is executing. But returns a byte array that when converted to a String separates adds a space after each character.","body":"No, that wasn&#39;t the problem. the query is executing. But returns a byte array that when converted to a String separates adds a space after each character."}],"answers":[{"comments":[{"owner":{"account_id":10743979,"reputation":526,"user_id":7906006,"display_name":"Wibisono Indrawan"},"score":0,"creation_date":1618994469,"post_id":49922690,"comment_id":118768011,"body_markdown":"how do you know SQL Server was using `UTF-16LE` ?","body":"how do you know SQL Server was using <code>UTF-16LE</code> ?"}],"tags":[],"owner":{"account_id":5156143,"reputation":45,"user_id":5095233,"display_name":"kbral"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1524145487,"creation_date":1524145487,"answer_id":49922690,"question_id":49901809,"body_markdown":"After analysing the retrieved data I saw that Sql Server was converting automatically the varchar data to varbinary encoded with UTF-16LE. To sove it with the java code, I just nedded to instanciate a String passing the encoding like this:\r\n\r\n    new String(retrievedByteArray, Charset.forName(&quot;UTF-16LE&quot;))","title":"Converting varchar to varbinary SQL Server","body":"<p>After analysing the retrieved data I saw that Sql Server was converting automatically the varchar data to varbinary encoded with UTF-16LE. To sove it with the java code, I just nedded to instanciate a String passing the encoding like this:</p>\n\n<pre><code>new String(retrievedByteArray, Charset.forName(\"UTF-16LE\"))\n</code></pre>\n"}],"owner":{"account_id":5156143,"reputation":45,"user_id":5095233,"display_name":"kbral"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":579,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":49922690,"answer_count":1,"score":0,"last_activity_date":1676393167,"creation_date":1524060280,"question_id":49901809,"body_markdown":"I have two different tables in my database and I am joining them to extract a varbinary or a varchar depending on which one comes first. I am using the operator `coalesce` to select between them and also using the `convert` operator to convert the varchar to varbinary.\r\nThe final query is something like this:\r\n\r\n    select coalesce(t1.varbinary_column, convert(varbinary(max), t2.varchar_column)) form table1 t1 inner join table2 t2....\r\n\r\nThe query returns a byte array that when converted to a java.lang.String separates each character with a additional space.\r\nIs also needed to say that I am using spring data to execute this native query and also using ResultSet to get the extracted data.\r\nThe question is how can I avoid this behavior?","title":"Converting varchar to varbinary SQL Server","body":"<p>I have two different tables in my database and I am joining them to extract a varbinary or a varchar depending on which one comes first. I am using the operator <code>coalesce</code> to select between them and also using the <code>convert</code> operator to convert the varchar to varbinary.\nThe final query is something like this:</p>\n<pre><code>select coalesce(t1.varbinary_column, convert(varbinary(max), t2.varchar_column)) form table1 t1 inner join table2 t2....\n</code></pre>\n<p>The query returns a byte array that when converted to a java.lang.String separates each character with a additional space.\nIs also needed to say that I am using spring data to execute this native query and also using ResultSet to get the extracted data.\nThe question is how can I avoid this behavior?</p>\n"},{"tags":["java","spring","spring-boot","qualifiers"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1673613960,"post_id":75109389,"comment_id":132544292,"body_markdown":"https://www.baeldung.com/spring-qualifier-annotation","body":"<a href=\"https://www.baeldung.com/spring-qualifier-annotation\" rel=\"nofollow noreferrer\">baeldung.com/spring-qualifier-annotation</a>"},{"owner":{"account_id":14482834,"reputation":3924,"user_id":10461625,"display_name":"PatPanda"},"score":0,"creation_date":1673618007,"post_id":75109389,"comment_id":132545603,"body_markdown":"The link you provided @Stultuske is pretty much my question. As you can see in the example of the tutorial ```@Qualifier(&quot;fooFormatter&quot;)``` the value is hard coded, not configurable. How to make it configurable please?","body":"The link you provided @Stultuske is pretty much my question. As you can see in the example of the tutorial <code>@Qualifier(&quot;fooFormatter&quot;)</code> the value is hard coded, not configurable. How to make it configurable please?"},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1673618849,"post_id":75109389,"comment_id":132545939,"body_markdown":"not. you don&#39;t. You provide two autowired beans, and based on (if value equals english -&gt; use englishqualifiedBean else useOtherbean. basically: a factory pattern","body":"not. you don&#39;t. You provide two autowired beans, and based on (if value equals english -&gt; use englishqualifiedBean else useOtherbean. basically: a factory pattern"},{"owner":{"account_id":14482834,"reputation":3924,"user_id":10461625,"display_name":"PatPanda"},"score":0,"creation_date":1673619541,"post_id":75109389,"comment_id":132546202,"body_markdown":"This is again the point of my question, many thanks. I have some 100+ concrete language beans. And Autowiring hundreds of concrete beans, + a giant if statement on the bean name is not optimal. Is there a way to simply configure which bean to use at application start time with a configurable @Qualifier?","body":"This is again the point of my question, many thanks. I have some 100+ concrete language beans. And Autowiring hundreds of concrete beans, + a giant if statement on the bean name is not optimal. Is there a way to simply configure which bean to use at application start time with a configurable @Qualifier?"},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1673619703,"post_id":75109389,"comment_id":132546270,"body_markdown":"This might be against the &quot;point&quot; of your question, but at least it would work. You can&#39;t dynamically build a value you pass to an annotation. You might put them all in a Map, and have a specific (for instance that &quot;english&quot; and &quot;french&quot;) mapped to them, and you can get them that way.","body":"This might be against the &quot;point&quot; of your question, but at least it would work. You can&#39;t dynamically build a value you pass to an annotation. You might put them all in a Map, and have a specific (for instance that &quot;english&quot; and &quot;french&quot;) mapped to them, and you can get them that way."}],"answers":[{"comments":[{"owner":{"account_id":14482834,"reputation":3924,"user_id":10461625,"display_name":"PatPanda"},"score":0,"creation_date":1673619921,"post_id":75110432,"comment_id":132546347,"body_markdown":"If we go that route, a simple ```applicationContext.getBean(configuration, LanguageService.class).process(name);``` can be much nicer. But that would require to pull the application context.","body":"If we go that route, a simple <code>applicationContext.getBean(configuration, LanguageService.class).process(name);</code> can be much nicer. But that would require to pull the application context."}],"tags":[],"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1673620379,"creation_date":1673619650,"answer_id":75110432,"question_id":75109389,"body_markdown":"You can&#39;t make this dynamic, you&#39;ll need to use a workaround.\r\nA factory pattern would do well, here. Instead of one bean, you would have two, and based on the value of that property, you would let your factory choose which one to use.\r\n\r\n    @Component\r\n    public class LanguageFactory {\r\n    \r\n      @Autowired\r\n      @Qualifier(&quot;english&quot;)\r\n      private LanguageService englishLanguage;\r\n    \r\n      @Autowired\r\n      @Qualifier(&quot;french&quot;)\r\n      private LanguageService frenchLanguage;\r\n    \r\n      @Value(&quot;${configuration}&quot;)\r\n      private String chosenLanguage;\r\n    \r\n      public LanguageService getLanguageService() {\r\n        switch(chosenLanguage) {\r\n          case &quot;english&quot;: return englishLanguage;\r\n          case &quot;french&quot;: return frenchLanguage;\r\n          // add any other language you need\r\n          default: throw new Exception(&quot;Invalid language: &quot; + chosenLanguage);\r\n        }\r\n       }\r\n    }\r\n\r\nSo, in your LanguageController, you would get something like this:\r\n\r\n      @Autowired\r\n      private LanguageFactory languageFactory;\r\n    \r\n      @GetMapping(&quot;/test&quot;)\r\n      public String test(@RequestParam String name) {\r\n          return languageFactory.getLangaugeService().process(name);\r\n      }\r\n\r\nEDIT:\r\n\r\nAnother option would be to use a Map. You would avoid all the if-elses, but you would still have to add them to a Map.\r\n\r\n    @Component\r\n    public class LanguageFactory {\r\n    \r\n      private Map&lt;String, LanguageService&gt; languages = new HashMap&lt;&gt;();\r\n    \r\n      @Value(&quot;${configuration}&quot;)\r\n      private String chosenLanguage;\r\n    \r\n      @Autowired\r\n      public LanguageFactory(@Qualifier(&quot;english&quot;) LanguageService englishLanguage, @Qualifer(&quot;french&quot;) LanguageService frenchService) {\r\n        this.languages.put(&quot;english&quot;, englishLanguage);\r\n        this.languages.put(&quot;french&quot;, frenchLanguage);\r\n      }\r\n    \r\n      public LanguageService getLanguageService() {\r\n        LanguageService ls = this.languages.get(chosenLanguage);\r\n        if ( ls == null ) {\r\n          // handle the issue as you see fit\r\n        }\r\n        return ls;\r\n      }\r\n    }\r\n\r\n  ","title":"SpringBoot: Configurable @Qualifier to select bean","body":"<p>You can't make this dynamic, you'll need to use a workaround.\nA factory pattern would do well, here. Instead of one bean, you would have two, and based on the value of that property, you would let your factory choose which one to use.</p>\n<pre><code>@Component\npublic class LanguageFactory {\n\n  @Autowired\n  @Qualifier(&quot;english&quot;)\n  private LanguageService englishLanguage;\n\n  @Autowired\n  @Qualifier(&quot;french&quot;)\n  private LanguageService frenchLanguage;\n\n  @Value(&quot;${configuration}&quot;)\n  private String chosenLanguage;\n\n  public LanguageService getLanguageService() {\n    switch(chosenLanguage) {\n      case &quot;english&quot;: return englishLanguage;\n      case &quot;french&quot;: return frenchLanguage;\n      // add any other language you need\n      default: throw new Exception(&quot;Invalid language: &quot; + chosenLanguage);\n    }\n   }\n}\n</code></pre>\n<p>So, in your LanguageController, you would get something like this:</p>\n<pre><code>  @Autowired\n  private LanguageFactory languageFactory;\n\n  @GetMapping(&quot;/test&quot;)\n  public String test(@RequestParam String name) {\n      return languageFactory.getLangaugeService().process(name);\n  }\n</code></pre>\n<p>EDIT:</p>\n<p>Another option would be to use a Map. You would avoid all the if-elses, but you would still have to add them to a Map.</p>\n<pre><code>@Component\npublic class LanguageFactory {\n\n  private Map&lt;String, LanguageService&gt; languages = new HashMap&lt;&gt;();\n\n  @Value(&quot;${configuration}&quot;)\n  private String chosenLanguage;\n\n  @Autowired\n  public LanguageFactory(@Qualifier(&quot;english&quot;) LanguageService englishLanguage, @Qualifer(&quot;french&quot;) LanguageService frenchService) {\n    this.languages.put(&quot;english&quot;, englishLanguage);\n    this.languages.put(&quot;french&quot;, frenchLanguage);\n  }\n\n  public LanguageService getLanguageService() {\n    LanguageService ls = this.languages.get(chosenLanguage);\n    if ( ls == null ) {\n      // handle the issue as you see fit\n    }\n    return ls;\n  }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":14482834,"reputation":3924,"user_id":10461625,"display_name":"PatPanda"},"score":1,"creation_date":1673700890,"post_id":75110883,"comment_id":132559119,"body_markdown":"This is exactly what I am looking for. Learned something new in the process. (It is ```name=ConfigKeys.LANGUAGE``` btw. Accepted and upvoted","body":"This is exactly what I am looking for. Learned something new in the process. (It is <code>name=ConfigKeys.LANGUAGE</code> btw. Accepted and upvoted"},{"owner":{"account_id":320962,"reputation":31681,"user_id":639520,"accept_rate":72,"display_name":"E-Riz"},"score":0,"creation_date":1673880594,"post_id":75110883,"comment_id":132590031,"body_markdown":"Fixed that typo in the answer.","body":"Fixed that typo in the answer."}],"tags":[],"owner":{"account_id":320962,"reputation":31681,"user_id":639520,"accept_rate":72,"display_name":"E-Riz"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1673880581,"creation_date":1673622020,"answer_id":75110883,"question_id":75109389,"body_markdown":"If you only need 1 of the `LanguageService` beans active at a time, then you can use `@ConditionalOnProperty` on each of them, each using a unique `havingValue`. Like this (warning, untested code written from memory):\r\n\r\n```java\r\ninterface ConfigKeys {\r\n\tpublic static final String LANGUAGE = &quot;my.app.prefix.language&quot;;\r\n}\r\n\r\n\r\n@Service\r\n@ConditionalOnProperty(name = ConfigKeys.LANGUAGE, havingValue = &quot;english&quot;)\r\npublic class EnglishLanguageServiceImpl implements LanguageService {\r\n\r\n    @Override\r\n    public String process(String name) {\r\n        return &quot;Welcome &quot; + name;\r\n    }\r\n\r\n}\r\n\r\n@Service\r\n@ConditionalOnProperty(name = ConfigKeys.LANGUAGE, havingValue = &quot;french&quot;)\r\npublic class FrenchLanguageServiceImpl implements LanguageService {\r\n\r\n    @Override\r\n    public String process(String name) {\r\n        return &quot;Bonjour &quot; + name;\r\n    }\r\n\r\n}\r\n```\r\n\r\nWith that, you don&#39;t need any qualifiers, just set the `my.app.prefix.language` property in your config (application.properties or application.yaml) to the value you want, and there will just one `LanguageService` bean in the context. You can inject that bean wherever you need it without needing a qualifier.","title":"SpringBoot: Configurable @Qualifier to select bean","body":"<p>If you only need 1 of the <code>LanguageService</code> beans active at a time, then you can use <code>@ConditionalOnProperty</code> on each of them, each using a unique <code>havingValue</code>. Like this (warning, untested code written from memory):</p>\n<pre class=\"lang-java prettyprint-override\"><code>interface ConfigKeys {\n    public static final String LANGUAGE = &quot;my.app.prefix.language&quot;;\n}\n\n\n@Service\n@ConditionalOnProperty(name = ConfigKeys.LANGUAGE, havingValue = &quot;english&quot;)\npublic class EnglishLanguageServiceImpl implements LanguageService {\n\n    @Override\n    public String process(String name) {\n        return &quot;Welcome &quot; + name;\n    }\n\n}\n\n@Service\n@ConditionalOnProperty(name = ConfigKeys.LANGUAGE, havingValue = &quot;french&quot;)\npublic class FrenchLanguageServiceImpl implements LanguageService {\n\n    @Override\n    public String process(String name) {\n        return &quot;Bonjour &quot; + name;\n    }\n\n}\n</code></pre>\n<p>With that, you don't need any qualifiers, just set the <code>my.app.prefix.language</code> property in your config (application.properties or application.yaml) to the value you want, and there will just one <code>LanguageService</code> bean in the context. You can inject that bean wherever you need it without needing a qualifier.</p>\n"},{"comments":[{"owner":{"account_id":14482834,"reputation":3924,"user_id":10461625,"display_name":"PatPanda"},"score":0,"creation_date":1673700921,"post_id":75111358,"comment_id":132559125,"body_markdown":"This is correct. Upvote. I accepted another answer because the example code is there as well, but this is definitely correct","body":"This is correct. Upvote. I accepted another answer because the example code is there as well, but this is definitely correct"}],"tags":[],"owner":{"account_id":446597,"reputation":22464,"user_id":839733,"accept_rate":69,"display_name":"Abhijit Sarkar"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1673624441,"creation_date":1673624441,"answer_id":75111358,"question_id":75109389,"body_markdown":"A much simpler option would be to group the related beans in `@Configuration` classes, and then use `@Conditional` to enable (or not) the configuration, and in turn, a set of beans. That way, you’re not dealing with individual beans, as you say you’ve many.","title":"SpringBoot: Configurable @Qualifier to select bean","body":"<p>A much simpler option would be to group the related beans in <code>@Configuration</code> classes, and then use <code>@Conditional</code> to enable (or not) the configuration, and in turn, a set of beans. That way, you’re not dealing with individual beans, as you say you’ve many.</p>\n"}],"owner":{"account_id":14482834,"reputation":3924,"user_id":10461625,"display_name":"PatPanda"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":533,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":75110883,"answer_count":3,"score":2,"last_activity_date":1676393140,"creation_date":1673613807,"question_id":75109389,"body_markdown":"Small question for SpringBoot, and how to configure the bean using ```@Qualifier``` please.\r\n\r\nI have a very straightforward piece of code:\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;3.0.1&lt;/version&gt;\r\n        &lt;relativePath/&gt;\r\n    &lt;/parent&gt;\r\n\r\n    &lt;groupId&gt;com.question&lt;/groupId&gt;\r\n    &lt;artifactId&gt;language&lt;/artifactId&gt;\r\n    &lt;version&gt;1.1&lt;/version&gt;\r\n\r\n    &lt;name&gt;language&lt;/name&gt;\r\n    &lt;description&gt;Spring Boot&lt;/description&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;java.version&gt;17&lt;/java.version&gt;\r\n        &lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n\r\n```\r\n\r\n```\r\npackage com.question;\r\n\r\nimport org.springframework.boot.SpringApplication;\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\n\r\n@SpringBootApplication\r\npublic class LanguageApplication {\r\n\r\n    public static void main(String[] args) {\r\n        SpringApplication.run(LanguageApplication.class, args);\r\n    }\r\n\r\n}\r\n```\r\n\r\n```\r\npackage com.question.service;\r\n\r\npublic interface LanguageService {\r\n\r\n    String process(String name);\r\n\r\n}\r\n\r\n```\r\n\r\n```\r\npackage com.question.service;\r\n\r\nimport org.springframework.stereotype.Service;\r\n\r\n@Service(&quot;french&quot;)\r\npublic class FrenchLanguageServiceImpl implements LanguageService {\r\n\r\n    @Override\r\n    public String process(String name) {\r\n        return &quot;Bonjour &quot; + name;\r\n    }\r\n\r\n}\r\n\r\n```\r\n\r\n```\r\npackage com.question.service;\r\n\r\nimport org.springframework.stereotype.Service;\r\n\r\n@Service(&quot;english&quot;)\r\npublic class EnglishLanguageServiceImpl implements LanguageService {\r\n\r\n    @Override\r\n    public String process(String name) {\r\n        return &quot;Welcome &quot; + name;\r\n    }\r\n\r\n}\r\n\r\n```\r\n\r\n```\r\npackage com.question.controller;\r\n\r\nimport com.question.service.LanguageService;\r\nimport org.springframework.beans.factory.annotation.Qualifier;\r\nimport org.springframework.beans.factory.annotation.Value;\r\nimport org.springframework.web.bind.annotation.*;\r\n\r\n@RestController\r\npublic class LanguageController {\r\n\r\n    private final LanguageService languageService;\r\n\r\n    @Value(&quot;${configuration}&quot;)\r\n    public String configuration;\r\n\r\n    public LanguageController(@Qualifier(configuration) LanguageService languageService) {\r\n        this.languageService = languageService;\r\n    }\r\n\r\n    @GetMapping(&quot;/test&quot;)\r\n    public String test(@RequestParam String name) {\r\n        return languageService.process(name);\r\n    }\r\n\r\n}\r\n\r\n```\r\n\r\nExpected:\r\n\r\nWhat I hope to achieve is equally straightforward. I would like to pass some sort of configuration to ```application.properties```, something like ```configuration=french``` or ```configuration=english```.\r\n\r\nAt the controller layer, to use ```(@Qualifier(configuration) LanguageService languageService)``` And the correct concrete service will be used.\r\n\r\nActual:\r\n\r\nUnfortunately, \r\n\r\n```@Qualifier(configuration) + @Value(&quot;${configuration}&quot;) public String configuration;```\r\n\r\nwill yield ```Attribute Value must be constant```.\r\n\r\nIs there a way we can configure the concrete Bean via a configurable ```@Qualifier``` please?\r\n\r\nI understand there is a way to workaround this by using ApplicationContext getBean.\r\n\r\nBut having this construct: @Qualifier(configuration) makes the code clean and easily understandable. How to achieve this please?\r\n\r\nThank you","title":"SpringBoot: Configurable @Qualifier to select bean","body":"<p>Small question for SpringBoot, and how to configure the bean using <code>@Qualifier</code> please.</p>\n<p>I have a very straightforward piece of code:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.0.1&lt;/version&gt;\n        &lt;relativePath/&gt;\n    &lt;/parent&gt;\n\n    &lt;groupId&gt;com.question&lt;/groupId&gt;\n    &lt;artifactId&gt;language&lt;/artifactId&gt;\n    &lt;version&gt;1.1&lt;/version&gt;\n\n    &lt;name&gt;language&lt;/name&gt;\n    &lt;description&gt;Spring Boot&lt;/description&gt;\n\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n        &lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n\n</code></pre>\n<pre><code>package com.question;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\n\n@SpringBootApplication\npublic class LanguageApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(LanguageApplication.class, args);\n    }\n\n}\n</code></pre>\n<pre><code>package com.question.service;\n\npublic interface LanguageService {\n\n    String process(String name);\n\n}\n\n</code></pre>\n<pre><code>package com.question.service;\n\nimport org.springframework.stereotype.Service;\n\n@Service(&quot;french&quot;)\npublic class FrenchLanguageServiceImpl implements LanguageService {\n\n    @Override\n    public String process(String name) {\n        return &quot;Bonjour &quot; + name;\n    }\n\n}\n\n</code></pre>\n<pre><code>package com.question.service;\n\nimport org.springframework.stereotype.Service;\n\n@Service(&quot;english&quot;)\npublic class EnglishLanguageServiceImpl implements LanguageService {\n\n    @Override\n    public String process(String name) {\n        return &quot;Welcome &quot; + name;\n    }\n\n}\n\n</code></pre>\n<pre><code>package com.question.controller;\n\nimport com.question.service.LanguageService;\nimport org.springframework.beans.factory.annotation.Qualifier;\nimport org.springframework.beans.factory.annotation.Value;\nimport org.springframework.web.bind.annotation.*;\n\n@RestController\npublic class LanguageController {\n\n    private final LanguageService languageService;\n\n    @Value(&quot;${configuration}&quot;)\n    public String configuration;\n\n    public LanguageController(@Qualifier(configuration) LanguageService languageService) {\n        this.languageService = languageService;\n    }\n\n    @GetMapping(&quot;/test&quot;)\n    public String test(@RequestParam String name) {\n        return languageService.process(name);\n    }\n\n}\n\n</code></pre>\n<p>Expected:</p>\n<p>What I hope to achieve is equally straightforward. I would like to pass some sort of configuration to <code>application.properties</code>, something like <code>configuration=french</code> or <code>configuration=english</code>.</p>\n<p>At the controller layer, to use <code>(@Qualifier(configuration) LanguageService languageService)</code> And the correct concrete service will be used.</p>\n<p>Actual:</p>\n<p>Unfortunately,</p>\n<p><code>@Qualifier(configuration) + @Value(&quot;${configuration}&quot;) public String configuration;</code></p>\n<p>will yield <code>Attribute Value must be constant</code>.</p>\n<p>Is there a way we can configure the concrete Bean via a configurable <code>@Qualifier</code> please?</p>\n<p>I understand there is a way to workaround this by using ApplicationContext getBean.</p>\n<p>But having this construct: @Qualifier(configuration) makes the code clean and easily understandable. How to achieve this please?</p>\n<p>Thank you</p>\n"},{"tags":["java","spring","jpa","transactions","spring-data"],"comments":[{"owner":{"account_id":136531,"reputation":21531,"user_id":340088,"accept_rate":68,"display_name":"jbx"},"score":1,"creation_date":1674065643,"post_id":75163357,"comment_id":132637540,"body_markdown":"1. Are you sure the ID in `PersonDto` corresponds to the same ID in the returned `Person` object? Are you sure it is not null?\n2. Are you sure you are not calling `method2` from another Transactional method, thus the transaction wouldn&#39;t have ended yet, and maybe `method3()` is called from another transaction before the first one is committed?","body":"1. Are you sure the ID in <code>PersonDto</code> corresponds to the same ID in the returned <code>Person</code> object? Are you sure it is not null? 2. Are you sure you are not calling <code>method2</code> from another Transactional method, thus the transaction wouldn&#39;t have ended yet, and maybe <code>method3()</code> is called from another transaction before the first one is committed?"},{"owner":{"account_id":11874841,"reputation":303,"user_id":8690140,"display_name":"Serr"},"score":0,"creation_date":1674070114,"post_id":75163357,"comment_id":132638915,"body_markdown":"Yes, I&#39;m sure, I have a log for it before retrieving it in method3. Also, it works most of the time, about 1% of the time it fails, generally, when it executes super fast. About the Transaction, in the StackTrace there is no other method with a @Transactional annotation. Thanks!","body":"Yes, I&#39;m sure, I have a log for it before retrieving it in method3. Also, it works most of the time, about 1% of the time it fails, generally, when it executes super fast. About the Transaction, in the StackTrace there is no other method with a @Transactional annotation. Thanks!"}],"answers":[{"comments":[{"owner":{"account_id":11874841,"reputation":303,"user_id":8690140,"display_name":"Serr"},"score":1,"creation_date":1674212707,"post_id":75163798,"comment_id":132670748,"body_markdown":"You are correct, the issue was that all the methods were in the same class, so the @Transactional annotation was not even being used. We ended up passing the Entity to the method we needed instead of the DTO. It was decided that we would go with a very small change instead of a slightly bigger refactoring. But the reason it was failing was exactly what you said, so I&#39;m marking your answer as correct. Thanks for your time.","body":"You are correct, the issue was that all the methods were in the same class, so the @Transactional annotation was not even being used. We ended up passing the Entity to the method we needed instead of the DTO. It was decided that we would go with a very small change instead of a slightly bigger refactoring. But the reason it was failing was exactly what you said, so I&#39;m marking your answer as correct. Thanks for your time."}],"tags":[],"owner":{"account_id":320962,"reputation":31681,"user_id":639520,"accept_rate":72,"display_name":"E-Riz"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1674066861,"creation_date":1674066861,"answer_id":75163798,"question_id":75163357,"body_markdown":"I can see a couple of reason why you&#39;re getting the results you describe.\r\n\r\nOne possibility is that `@Transactional` doesn&#39;t necessarily mean &quot;execute this method in a totally separate transaction.&quot; The default propagation is `REQUIRED`, which will use an existing transaction if one is already active. So if `method2()` is called in a stack where a transaction was opened earlier, it won&#39;t create a new one (and thus the new entity won&#39;t be committed) until that original transaction is committed. If this is what&#39;s happening, one solution would be to change the propagation to `REQUIRES_NEW`:\r\n```java\r\n@Transactional(propagation = REQUIRES_NEW)\r\n```\r\n\r\nAnother possibility, which seems more likely, is that these methods are all in the same class. To understand why that fails, you have to understand how Spring implements handling of `@Transactional` (and most other behavioral annotations): using proxies. That means that only method calls that come through the proxy get the transactional behavior. That&#39;s the typical scenario when one object calls a reference it has to another; the reference is actually to the proxy, which intercepts the call and wraps the behavior (in this case, transactionality) around it. However, when calling methods within the same instance, there is no proxy in play (Spring doesn&#39;t/can&#39;t replace `this` with a reference to the proxy), and thus no transactional behavior.\r\n\r\nThere are a few ways to work around that, but first I would consider how to restructure my classes and methods to avoid it. If that&#39;s not reasonable, things like AspectJ, `TransactionTemplate`, and maybe some other ideas are discussed in [this SO Q&amp;A][1].\r\n\r\n---\r\nAddendum:\r\n[This question and its answers][2] also talks about options to work around the proxying problem.\r\n\r\n\r\n  [1]: https://stackoverflow.com/q/4396284/639520\r\n  [2]: https://stackoverflow.com/q/3423972/639520","title":"Database is not changed immediately after the @Transactional method ends","body":"<p>I can see a couple of reason why you're getting the results you describe.</p>\n<p>One possibility is that <code>@Transactional</code> doesn't necessarily mean &quot;execute this method in a totally separate transaction.&quot; The default propagation is <code>REQUIRED</code>, which will use an existing transaction if one is already active. So if <code>method2()</code> is called in a stack where a transaction was opened earlier, it won't create a new one (and thus the new entity won't be committed) until that original transaction is committed. If this is what's happening, one solution would be to change the propagation to <code>REQUIRES_NEW</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Transactional(propagation = REQUIRES_NEW)\n</code></pre>\n<p>Another possibility, which seems more likely, is that these methods are all in the same class. To understand why that fails, you have to understand how Spring implements handling of <code>@Transactional</code> (and most other behavioral annotations): using proxies. That means that only method calls that come through the proxy get the transactional behavior. That's the typical scenario when one object calls a reference it has to another; the reference is actually to the proxy, which intercepts the call and wraps the behavior (in this case, transactionality) around it. However, when calling methods within the same instance, there is no proxy in play (Spring doesn't/can't replace <code>this</code> with a reference to the proxy), and thus no transactional behavior.</p>\n<p>There are a few ways to work around that, but first I would consider how to restructure my classes and methods to avoid it. If that's not reasonable, things like AspectJ, <code>TransactionTemplate</code>, and maybe some other ideas are discussed in <a href=\"https://stackoverflow.com/q/4396284/639520\">this SO Q&amp;A</a>.</p>\n<hr />\n<p>Addendum:\n<a href=\"https://stackoverflow.com/q/3423972/639520\">This question and its answers</a> also talks about options to work around the proxying problem.</p>\n"}],"owner":{"account_id":11874841,"reputation":303,"user_id":8690140,"display_name":"Serr"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":560,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":75163798,"answer_count":1,"score":2,"last_activity_date":1676393080,"creation_date":1674064523,"question_id":75163357,"body_markdown":"I have a Java, Spring Data application with a PostgreSQL DB and I have a code similar to this in my service layer:\r\n\r\n\r\n```\r\npublic void method1() {\r\n    PersonDto dto = method2();\r\n    method3(dto);\r\n}\r\n\r\n@Transactional\r\npublic PersonDto method2() {\r\n    Person p1 = personRepository.saveAndFlush(new Person());\r\n    return createPersonDto(p1);\r\n}\r\n\r\n@Transactional\r\npublic void method3(PersonDto p1) {\r\n    Person p2 = personRepository.findById(p1.getId());\r\n    if (p2 == null) {\r\n        System.out.println(&quot;Not in the DB&quot;);\r\n    } else {\r\n        System.out.println(&quot;In the DB&quot;);\r\n    }\r\n}\r\n``` \r\n\r\nSometimes this code prints &quot;Not in the DB&quot;, when I was expecting that it would always print &quot;In the DB&quot;. My questions are:\r\n\r\n 1. This saveAndFlush is even necessary? Since I&#39;m not reusing that Entity in the same transaction, I guess it would have the same effect as a save, right?\r\n 2. How to guarantee that the changes in method2 will be committed before method 3 calls it? So it will always print &quot;In the DB&quot;?\r\n 3. The fact that I&#39;m converting my Entity to a DTO is what is messing this up? Maybe if I was passing the Entity itself it would work properly?\r\n\r\nI&#39;m thinking about @Transactional only in method1, or replacing @Transactional in method3 with @Transactional(isolation = Isolation.READ_UNCOMMITTED).\r\nAny advice?","title":"Database is not changed immediately after the @Transactional method ends","body":"<p>I have a Java, Spring Data application with a PostgreSQL DB and I have a code similar to this in my service layer:</p>\n<pre><code>public void method1() {\n    PersonDto dto = method2();\n    method3(dto);\n}\n\n@Transactional\npublic PersonDto method2() {\n    Person p1 = personRepository.saveAndFlush(new Person());\n    return createPersonDto(p1);\n}\n\n@Transactional\npublic void method3(PersonDto p1) {\n    Person p2 = personRepository.findById(p1.getId());\n    if (p2 == null) {\n        System.out.println(&quot;Not in the DB&quot;);\n    } else {\n        System.out.println(&quot;In the DB&quot;);\n    }\n}\n</code></pre>\n<p>Sometimes this code prints &quot;Not in the DB&quot;, when I was expecting that it would always print &quot;In the DB&quot;. My questions are:</p>\n<ol>\n<li>This saveAndFlush is even necessary? Since I'm not reusing that Entity in the same transaction, I guess it would have the same effect as a save, right?</li>\n<li>How to guarantee that the changes in method2 will be committed before method 3 calls it? So it will always print &quot;In the DB&quot;?</li>\n<li>The fact that I'm converting my Entity to a DTO is what is messing this up? Maybe if I was passing the Entity itself it would work properly?</li>\n</ol>\n<p>I'm thinking about @Transactional only in method1, or replacing @Transactional in method3 with @Transactional(isolation = Isolation.READ_UNCOMMITTED).\nAny advice?</p>\n"},{"tags":["java","json","spring","spring-boot","jackson-databind"],"comments":[{"owner":{"account_id":3509196,"reputation":16493,"user_id":2933977,"display_name":"stdunbar"},"score":0,"creation_date":1674073271,"post_id":75164807,"comment_id":132639787,"body_markdown":"What does the `body` member look like before serialization?  It looks like you&#39;re putting JSON inside of JSON.","body":"What does the <code>body</code> member look like before serialization?  It looks like you&#39;re putting JSON inside of JSON."},{"owner":{"account_id":18322534,"reputation":510,"user_id":13342990,"display_name":"Ryan Burch"},"score":0,"creation_date":1674073529,"post_id":75164807,"comment_id":132639863,"body_markdown":"@stdunbar If I print to stdout before the ResponseEntity I get `{&quot;status&quot;:&quot;Healthy!&quot;}`.","body":"@stdunbar If I print to stdout before the ResponseEntity I get <code>{&quot;status&quot;:&quot;Healthy!&quot;}</code>."},{"owner":{"account_id":8781643,"reputation":25950,"user_id":6565093,"accept_rate":47,"display_name":"pvpkiran"},"score":0,"creation_date":1674073533,"post_id":75164807,"comment_id":132639864,"body_markdown":"why do you want to have body as string? Keep the type as `HttpEntity` and remove this `EntityUtils.toString(entity)`. It should work fine","body":"why do you want to have body as string? Keep the type as <code>HttpEntity</code> and remove this <code>EntityUtils.toString(entity)</code>. It should work fine"},{"owner":{"account_id":18322534,"reputation":510,"user_id":13342990,"display_name":"Ryan Burch"},"score":0,"creation_date":1674073696,"post_id":75164807,"comment_id":132639915,"body_markdown":"@pvpkiran If I change the type to HttpEntity in my Response class and pass the entity, I get an Error. \n`No serializer found for class org.apache.http.conn.EofSensorInputStream and no properties discovered to create BeanSerializer`","body":"@pvpkiran If I change the type to HttpEntity in my Response class and pass the entity, I get an Error.  <code>No serializer found for class org.apache.http.conn.EofSensorInputStream and no properties discovered to create BeanSerializer</code>"}],"answers":[{"comments":[{"owner":{"account_id":18322534,"reputation":510,"user_id":13342990,"display_name":"Ryan Burch"},"score":0,"creation_date":1674076299,"post_id":75165113,"comment_id":132640612,"body_markdown":"Thanks for the answer. I guess I misunderstood the conversion that Jackson was doing with Spring Boot ResponseEntity. \n\nIf I make the changes you recommended then I get an error from Jackson. \n`com.fasterxml.jackson.databind.exc.InvalidDefinitionException: No serializer found for class org.apache.http.conn.EofSensorInputStream and no properties discovered to create BeanSerializer`","body":"Thanks for the answer. I guess I misunderstood the conversion that Jackson was doing with Spring Boot ResponseEntity.   If I make the changes you recommended then I get an error from Jackson.  <code>com.fasterxml.jackson.databind.exc.InvalidDefinitionExceptio&zwnj;&#8203;n: No serializer found for class org.apache.http.conn.EofSensorInputStream and no properties discovered to create BeanSerializer</code>"},{"owner":{"account_id":18322534,"reputation":510,"user_id":13342990,"display_name":"Ryan Burch"},"score":0,"creation_date":1674083607,"post_id":75165113,"comment_id":132642318,"body_markdown":"This was the closest answer. I still needed to convert the Entity to a string. Then, use a `ObjectMapper mapper = new ObjectMapper();` to read the string to a JsonNode --&gt; `JsonNode jsonNode = mapper.readTree(string);","body":"This was the closest answer. I still needed to convert the Entity to a string. Then, use a <code>ObjectMapper mapper = new ObjectMapper();</code> to read the string to a JsonNode --&gt; `JsonNode jsonNode = mapper.readTree(string);"},{"owner":{"account_id":320962,"reputation":31681,"user_id":639520,"accept_rate":72,"display_name":"E-Riz"},"score":0,"creation_date":1674139109,"post_id":75165113,"comment_id":132654529,"body_markdown":"If you&#39;re going to do this (which I find to be unnecessarily verbose), make sure you inject the `ObjectMapper` instead of instantiating it. If you don&#39;t inject it, there could be differences in the JSON output between the nested body and how the `ApiResponse` is serialized. Most Spring projects I work on do some customization of the serialization, which only applies to the ObjectMapper that&#39;s configured in Spring.","body":"If you&#39;re going to do this (which I find to be unnecessarily verbose), make sure you inject the <code>ObjectMapper</code> instead of instantiating it. If you don&#39;t inject it, there could be differences in the JSON output between the nested body and how the <code>ApiResponse</code> is serialized. Most Spring projects I work on do some customization of the serialization, which only applies to the ObjectMapper that&#39;s configured in Spring."},{"owner":{"account_id":2124329,"reputation":612,"user_id":1886904,"display_name":"egeorge"},"score":0,"creation_date":1674139795,"post_id":75165113,"comment_id":132654799,"body_markdown":"@E-Riz, I agree on every point. And I had originally used a `.convert` call to get the JsonNode.  However, @ryan-burch was having some trouble with that solution, and this is the version that worked for them.","body":"@E-Riz, I agree on every point. And I had originally used a <code>.convert</code> call to get the JsonNode.  However, @ryan-burch was having some trouble with that solution, and this is the version that worked for them."}],"tags":[],"owner":{"account_id":2124329,"reputation":612,"user_id":1886904,"display_name":"egeorge"},"comment_count":4,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1674088155,"creation_date":1674074801,"answer_id":75165113,"question_id":75164807,"body_markdown":"You are getting exactly what you asked for with the definition of `ApiResponse`.\r\n```Java\r\npublic String body;\r\n```\r\nIf you want Jackson to serialize that as a part of the object. It needs to be defined as part of the object.\r\nThis may be as simple as changing it to `JsonNode`.\r\n\r\n```Java\r\npublic JsonNode body;\r\n```\r\nAnd generating a `JsonNode` from the entity.\r\n```Java\r\nif (entity != null) {\r\n  // return it as a JsonNode\r\n  String stringResponse = EntityUtils.toString(entity);\r\n  ObjectMapper mapper = new ObjectMapper();\r\n  JsonNode jsonNode = mapper.readTree(stringResponse);\r\n  apiResponse.setBody(jsonNode);\r\n}\r\n```\r\n\r\nAlthough it would probably be better if your `ApiResponse` object more accurately modeled what it is holding.","title":"Java Spring Boot response not converting whole response to JSON","body":"<p>You are getting exactly what you asked for with the definition of <code>ApiResponse</code>.</p>\n<pre><code>public String body;\n</code></pre>\n<p>If you want Jackson to serialize that as a part of the object. It needs to be defined as part of the object.\nThis may be as simple as changing it to <code>JsonNode</code>.</p>\n<pre><code>public JsonNode body;\n</code></pre>\n<p>And generating a <code>JsonNode</code> from the entity.</p>\n<pre><code>if (entity != null) {\n  // return it as a JsonNode\n  String stringResponse = EntityUtils.toString(entity);\n  ObjectMapper mapper = new ObjectMapper();\n  JsonNode jsonNode = mapper.readTree(stringResponse);\n  apiResponse.setBody(jsonNode);\n}\n</code></pre>\n<p>Although it would probably be better if your <code>ApiResponse</code> object more accurately modeled what it is holding.</p>\n"},{"comments":[{"owner":{"account_id":18322534,"reputation":510,"user_id":13342990,"display_name":"Ryan Burch"},"score":0,"creation_date":1674083510,"post_id":75165547,"comment_id":132642300,"body_markdown":"I wasn&#39;t able to get this to work. The return was always an empty JSON object. So it looked like this `body: {}`","body":"I wasn&#39;t able to get this to work. The return was always an empty JSON object. So it looked like this <code>body: {}</code>"},{"owner":{"account_id":320962,"reputation":31681,"user_id":639520,"accept_rate":72,"display_name":"E-Riz"},"score":0,"creation_date":1674138104,"post_id":75165547,"comment_id":132654131,"body_markdown":"That&#39;s strange; I actually coded this and saw the results myself. I wonder what you did differently....","body":"That&#39;s strange; I actually coded this and saw the results myself. I wonder what you did differently...."},{"owner":{"account_id":320962,"reputation":31681,"user_id":639520,"accept_rate":72,"display_name":"E-Riz"},"score":0,"creation_date":1674138142,"post_id":75165547,"comment_id":132654142,"body_markdown":"Did you consider my Option A? That&#39;s really the most robust way, although a little bit mode code.","body":"Did you consider my Option A? That&#39;s really the most robust way, although a little bit mode code."},{"owner":{"account_id":18322534,"reputation":510,"user_id":13342990,"display_name":"Ryan Burch"},"score":0,"creation_date":1674139715,"post_id":75165547,"comment_id":132654772,"body_markdown":"Maybe it is because I am using both the apache http library and springboot library. So, I think the HttpEntity is being imported from the apache library. Which would be the difference. Option A is a solid option and one I will consider.","body":"Maybe it is because I am using both the apache http library and springboot library. So, I think the HttpEntity is being imported from the apache library. Which would be the difference. Option A is a solid option and one I will consider."}],"tags":[],"owner":{"account_id":320962,"reputation":31681,"user_id":639520,"accept_rate":72,"display_name":"E-Riz"},"comment_count":4,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1674077863,"creation_date":1674077863,"answer_id":75165547,"question_id":75164807,"body_markdown":"As others have said, by declaring the type of `ApiResponse.body` as String, that&#39;s exactly what&#39;s being stored there; the JSON serializer doesn&#39;t have any knowledge of the content of the String, so it just serializes it out (with required escaping to make it a valid string value).\r\n\r\nI can think of 2 options to make that a more useful object that can be serialized: A) transform the response `HttpEntity` you get from the downstream API into a simple DTO with just the properties you care about; or B) use `HttpEntity&lt;&gt;` directly and instruct the serializer to ignore properties you don&#39;t care about (such as the `EofSensorInputStream` from the exception you reported).\r\n\r\nOption A seems fairly obvious so I won&#39;t show code for that. Here&#39;s how you can accomplish Option B:\r\n\r\n```java\r\npublic class ApiResponse {\r\n    // ... other fields ...\r\n    private HttpEntity&lt;?&gt; body;\r\n\r\n    // ... other methods ...\r\n\r\n    @JsonIncludeProperties({&quot;body&quot;, &quot;headers&quot;})\r\n    public HttpEntity&lt;?&gt; getBody() {\r\n        return body;\r\n    }\r\n```\r\n\r\nThat instructs the serializer to only include `body` and `headers` when it serializes the `body` of `ApiResponse`, ignoring anything else in the `HttpEntity`.","title":"Java Spring Boot response not converting whole response to JSON","body":"<p>As others have said, by declaring the type of <code>ApiResponse.body</code> as String, that's exactly what's being stored there; the JSON serializer doesn't have any knowledge of the content of the String, so it just serializes it out (with required escaping to make it a valid string value).</p>\n<p>I can think of 2 options to make that a more useful object that can be serialized: A) transform the response <code>HttpEntity</code> you get from the downstream API into a simple DTO with just the properties you care about; or B) use <code>HttpEntity&lt;&gt;</code> directly and instruct the serializer to ignore properties you don't care about (such as the <code>EofSensorInputStream</code> from the exception you reported).</p>\n<p>Option A seems fairly obvious so I won't show code for that. Here's how you can accomplish Option B:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class ApiResponse {\n    // ... other fields ...\n    private HttpEntity&lt;?&gt; body;\n\n    // ... other methods ...\n\n    @JsonIncludeProperties({&quot;body&quot;, &quot;headers&quot;})\n    public HttpEntity&lt;?&gt; getBody() {\n        return body;\n    }\n</code></pre>\n<p>That instructs the serializer to only include <code>body</code> and <code>headers</code> when it serializes the <code>body</code> of <code>ApiResponse</code>, ignoring anything else in the <code>HttpEntity</code>.</p>\n"}],"owner":{"account_id":18322534,"reputation":510,"user_id":13342990,"display_name":"Ryan Burch"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":539,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75165113,"answer_count":2,"score":1,"last_activity_date":1676393044,"creation_date":1674072753,"question_id":75164807,"body_markdown":"I am having an issue where my Spring Boot response Entity is mostly being converted to JSON but the body is staying as a string.\r\n\r\nI have read many of the other questions on this site, but they all seem to point to the same thing. \r\n\r\npom.xml Dependencies\r\n```xml\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;!--OpenAPI Generator Dependencies--&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springdoc&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;springdoc-openapi-starter-webmvc-ui&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.0.2&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!--Http Dependencies--&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;httpclient&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!--Log4j Dependencies--&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-log4j2&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!--Spring Framework Dependencies--&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t\t&lt;exclusions&gt;\r\n\t\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;spring-boot-starter-logging&lt;/artifactId&gt;\r\n\t\t\t\t&lt;/exclusion&gt;\r\n\t\t\t&lt;/exclusions&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!--Dotenv Dependencies--&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;io.github.cdimascio&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;java-dotenv&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${dotenv.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;!--JSON Object Dependencies--&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.json&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;json&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;20220924&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.14.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jackson-core&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.14.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t&lt;/dependencies&gt;\r\n```\r\n\r\nApiResponse Class\r\n```java\r\npublic class ApiResponse {\r\n    // class used to model api response data\r\n    public Integer statusCode;\r\n    public String statusReason;\r\n    public String statusLine;\r\n    public String url;\r\n    public String body;\r\n    public ProtocolVersion protocolVersion;\r\n\r\n    public String getStatusLine() {\r\n        return statusLine;\r\n    }\r\n\r\n    public void setStatusLine(String statusLine) {\r\n        this.statusLine = statusLine;\r\n    }\r\n\r\n    public ProtocolVersion getProtocolVersion() {\r\n        return protocolVersion;\r\n    }\r\n\r\n    public String getStatusReason() {\r\n        return statusReason;\r\n    }\r\n\r\n    public void setStatusReason(String statusReason) {\r\n        this.statusReason = statusReason;\r\n    }\r\n\r\n    public void setProtocolVersion(ProtocolVersion protocolVersion) {\r\n        this.protocolVersion = protocolVersion;\r\n    }\r\n\r\n    public Integer getStatusCode() {\r\n        return statusCode;\r\n    }\r\n\r\n    public void setStatusCode(Integer statusCode) {\r\n        this.statusCode = statusCode;\r\n    }\r\n\r\n    public String getUrl() {\r\n        return url;\r\n    }\r\n\r\n    public void setUrl(String url) {\r\n        this.url = url;\r\n    }\r\n\r\n    public String getBody() {\r\n        return body;\r\n    }\r\n\r\n    public void setBody(String body) {\r\n        this.body = body;\r\n    }\r\n\r\n}\r\n```\r\n\r\nprocessResponse method\r\n```java\r\n    public ApiResponse processResponse(CloseableHttpResponse response) throws IOException {\r\n        // process custom apache httpClient response\r\n        ApiResponse apiResponse = new ApiResponse();\r\n        apiResponse.setProtocolVersion(response.getProtocolVersion());\r\n        apiResponse.setStatusCode(response.getStatusLine().getStatusCode());\r\n        apiResponse.setStatusReason(response.getStatusLine().getReasonPhrase());\r\n        apiResponse.setStatusLine(response.getStatusLine().toString());\r\n\r\n        HttpEntity entity = response.getEntity();\r\n        if (entity != null) {\r\n            // return it as a String\r\n            String result = EntityUtils.toString(entity);\r\n            apiResponse.setBody(result);\r\n        }\r\n        response.close();\r\n        return apiResponse;\r\n    }\r\n```\r\n\r\ngetCall method\r\n```java\r\n    @GetMapping(value = &quot;/getHealth&quot;, produces = MediaType.APPLICATION_JSON_VALUE)\r\n    public ResponseEntity&lt;ApiResponse&gt; getClientHealth() throws NoSuchAlgorithmException, KeyManagementException, KeyStoreException {\r\n\r\n        Client clientSetup = new Client(dotEnv.get(&quot;URL&quot;), 80);\r\n\r\n        try {\r\n            ApiResponse response = clientSetup.getHealth();\r\n\r\n            return new ResponseEntity&lt;&gt;(response, HttpStatusCode.valueOf(response.getStatusCode()));\r\n        } catch (Exception e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n    }\r\n```\r\n\r\nThe response\r\n```json\r\n{\r\n  &quot;statusCode&quot;: 200,\r\n  &quot;statusReason&quot;: &quot;OK&quot;,\r\n  &quot;statusLine&quot;: &quot;HTTP/1.1 200 OK&quot;,\r\n  &quot;url&quot;: null,\r\n  &quot;body&quot;: &quot;{\\&quot;status\\&quot;:\\&quot;Healthy!\\&quot;}&quot;,\r\n  &quot;protocolVersion&quot;: {\r\n    &quot;protocol&quot;: &quot;HTTP&quot;,\r\n    &quot;major&quot;: 1,\r\n    &quot;minor&quot;: 1\r\n  }\r\n}\r\n```\r\nThe problem is with `&quot;body&quot;: &quot;{\\&quot;status\\&quot;:\\&quot;Healthy!\\&quot;}&quot;`\r\n\r\nI have been unsuccessful in getting the body to be converted from a string to JSON when returned through my Spring Boot ResponseEntity.","title":"Java Spring Boot response not converting whole response to JSON","body":"<p>I am having an issue where my Spring Boot response Entity is mostly being converted to JSON but the body is staying as a string.</p>\n<p>I have read many of the other questions on this site, but they all seem to point to the same thing.</p>\n<p>pom.xml Dependencies</p>\n<pre class=\"lang-xml prettyprint-override\"><code>    &lt;dependencies&gt;\n        &lt;!--OpenAPI Generator Dependencies--&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\n            &lt;artifactId&gt;springdoc-openapi-starter-webmvc-ui&lt;/artifactId&gt;\n            &lt;version&gt;2.0.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!--Http Dependencies--&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\n            &lt;artifactId&gt;httpclient&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;!--Log4j Dependencies--&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-log4j2&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;!--Spring Framework Dependencies--&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                    &lt;artifactId&gt;spring-boot-starter-logging&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n        &lt;!--Dotenv Dependencies--&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.github.cdimascio&lt;/groupId&gt;\n            &lt;artifactId&gt;java-dotenv&lt;/artifactId&gt;\n            &lt;version&gt;${dotenv.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!--JSON Object Dependencies--&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.json&lt;/groupId&gt;\n            &lt;artifactId&gt;json&lt;/artifactId&gt;\n            &lt;version&gt;20220924&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n            &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\n            &lt;version&gt;2.14.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n            &lt;artifactId&gt;jackson-core&lt;/artifactId&gt;\n            &lt;version&gt;2.14.1&lt;/version&gt;\n        &lt;/dependency&gt;\n\n    &lt;/dependencies&gt;\n</code></pre>\n<p>ApiResponse Class</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class ApiResponse {\n    // class used to model api response data\n    public Integer statusCode;\n    public String statusReason;\n    public String statusLine;\n    public String url;\n    public String body;\n    public ProtocolVersion protocolVersion;\n\n    public String getStatusLine() {\n        return statusLine;\n    }\n\n    public void setStatusLine(String statusLine) {\n        this.statusLine = statusLine;\n    }\n\n    public ProtocolVersion getProtocolVersion() {\n        return protocolVersion;\n    }\n\n    public String getStatusReason() {\n        return statusReason;\n    }\n\n    public void setStatusReason(String statusReason) {\n        this.statusReason = statusReason;\n    }\n\n    public void setProtocolVersion(ProtocolVersion protocolVersion) {\n        this.protocolVersion = protocolVersion;\n    }\n\n    public Integer getStatusCode() {\n        return statusCode;\n    }\n\n    public void setStatusCode(Integer statusCode) {\n        this.statusCode = statusCode;\n    }\n\n    public String getUrl() {\n        return url;\n    }\n\n    public void setUrl(String url) {\n        this.url = url;\n    }\n\n    public String getBody() {\n        return body;\n    }\n\n    public void setBody(String body) {\n        this.body = body;\n    }\n\n}\n</code></pre>\n<p>processResponse method</p>\n<pre class=\"lang-java prettyprint-override\"><code>    public ApiResponse processResponse(CloseableHttpResponse response) throws IOException {\n        // process custom apache httpClient response\n        ApiResponse apiResponse = new ApiResponse();\n        apiResponse.setProtocolVersion(response.getProtocolVersion());\n        apiResponse.setStatusCode(response.getStatusLine().getStatusCode());\n        apiResponse.setStatusReason(response.getStatusLine().getReasonPhrase());\n        apiResponse.setStatusLine(response.getStatusLine().toString());\n\n        HttpEntity entity = response.getEntity();\n        if (entity != null) {\n            // return it as a String\n            String result = EntityUtils.toString(entity);\n            apiResponse.setBody(result);\n        }\n        response.close();\n        return apiResponse;\n    }\n</code></pre>\n<p>getCall method</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @GetMapping(value = &quot;/getHealth&quot;, produces = MediaType.APPLICATION_JSON_VALUE)\n    public ResponseEntity&lt;ApiResponse&gt; getClientHealth() throws NoSuchAlgorithmException, KeyManagementException, KeyStoreException {\n\n        Client clientSetup = new Client(dotEnv.get(&quot;URL&quot;), 80);\n\n        try {\n            ApiResponse response = clientSetup.getHealth();\n\n            return new ResponseEntity&lt;&gt;(response, HttpStatusCode.valueOf(response.getStatusCode()));\n        } catch (Exception e) {\n            throw new RuntimeException(e);\n        }\n    }\n</code></pre>\n<p>The response</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;statusCode&quot;: 200,\n  &quot;statusReason&quot;: &quot;OK&quot;,\n  &quot;statusLine&quot;: &quot;HTTP/1.1 200 OK&quot;,\n  &quot;url&quot;: null,\n  &quot;body&quot;: &quot;{\\&quot;status\\&quot;:\\&quot;Healthy!\\&quot;}&quot;,\n  &quot;protocolVersion&quot;: {\n    &quot;protocol&quot;: &quot;HTTP&quot;,\n    &quot;major&quot;: 1,\n    &quot;minor&quot;: 1\n  }\n}\n</code></pre>\n<p>The problem is with <code>&quot;body&quot;: &quot;{\\&quot;status\\&quot;:\\&quot;Healthy!\\&quot;}&quot;</code></p>\n<p>I have been unsuccessful in getting the body to be converted from a string to JSON when returned through my Spring Boot ResponseEntity.</p>\n"},{"tags":["java","spring","annotations","aop","spring-aop"],"answers":[{"tags":[],"owner":{"account_id":320962,"reputation":31681,"user_id":639520,"accept_rate":72,"display_name":"E-Riz"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1674828842,"creation_date":1674828842,"answer_id":75259292,"question_id":75258989,"body_markdown":"To understand why you&#39;re getting the results you see, you have to understand how Spring implements handling of most behavioral annotations: using proxies. That means that only method calls that come through the proxy get the annotation behavior. That&#39;s the typical scenario when one object calls a reference it has to another object; the reference is actually to the proxy, which intercepts the call and wraps the behavior (in this case, logging) around it. However, when calling methods within the same instance, there is no proxy in play (Spring doesn&#39;t/can&#39;t replace `this` with a reference to the proxy), and thus no annotation behavior.\r\n\r\nThere are a few ways to work around that, some ideas are discussed in [this SO Q&amp;A][1]. [There are also some answers here][2] with options to work around the proxying limitation.\r\n\r\n\r\n\r\n  [1]: https://stackoverflow.com/q/4396284/639520\r\n  [2]: https://stackoverflow.com/q/3423972/639520","title":"Spring Boot AOP nested custom annotations not called","body":"<p>To understand why you're getting the results you see, you have to understand how Spring implements handling of most behavioral annotations: using proxies. That means that only method calls that come through the proxy get the annotation behavior. That's the typical scenario when one object calls a reference it has to another object; the reference is actually to the proxy, which intercepts the call and wraps the behavior (in this case, logging) around it. However, when calling methods within the same instance, there is no proxy in play (Spring doesn't/can't replace <code>this</code> with a reference to the proxy), and thus no annotation behavior.</p>\n<p>There are a few ways to work around that, some ideas are discussed in <a href=\"https://stackoverflow.com/q/4396284/639520\">this SO Q&amp;A</a>. <a href=\"https://stackoverflow.com/q/3423972/639520\">There are also some answers here</a> with options to work around the proxying limitation.</p>\n"}],"owner":{"account_id":6441401,"reputation":506,"user_id":4991308,"accept_rate":62,"display_name":"Ares91"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":486,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1674860966,"accepted_answer_id":75259292,"answer_count":1,"score":0,"last_activity_date":1676392958,"creation_date":1674827275,"question_id":75258989,"body_markdown":"I have created a simple custom annotation in Spring Boot that logs something and it&#39;s working but only for the first annotation, the nested one are not called\r\n\r\n    import java.lang.annotation.ElementType;\r\n    import java.lang.annotation.Retention;\r\n    import java.lang.annotation.RetentionPolicy;\r\n    import java.lang.annotation.Target;\r\n    \r\n    @Target(ElementType.METHOD)\r\n    @Retention(RetentionPolicy.RUNTIME)\r\n    public @interface Traceable {\r\n    \r\n    }\r\n\r\nAnnotation processor (aspect)\r\n\r\n    import org.aspectj.lang.ProceedingJoinPoint;\r\n    import org.aspectj.lang.annotation.Around;\r\n    import org.aspectj.lang.annotation.Aspect;\r\n    import org.springframework.stereotype.Component;\r\n    \r\n    @Aspect\r\n    @Component\r\n    public class TraceableAspect {\r\n    \r\n        @Around(&quot;@annotation(Traceable)&quot;)\r\n        public Object trace(ProceedingJoinPoint joinPoint) throws Throwable {\r\n    \r\n            System.out.println(&quot;Inside Aspect&quot;);\r\n            \r\n            Object result = joinPoint.proceed();\r\n    \r\n            System.out.println(result);\r\n            return result;\r\n        }\r\n    }\r\n\r\nExample of a controller used to test\r\n\r\n\r\n    import org.springframework.stereotype.Controller;\r\n    import org.springframework.web.bind.annotation.GetMapping;\r\n    import org.springframework.web.bind.annotation.RequestMapping;\r\n    \r\n    @Controller\r\n    @RequestMapping(&quot;/test&quot;)\r\n    public class ControllerTest {\r\n    \r\n        @GetMapping(&quot;/get&quot;)\r\n        @Traceable\r\n        public String get(){\r\n    \r\n            test1();\r\n            test2();\r\n    \r\n            return &quot;Hi&quot;;\r\n        }\r\n        \r\n        @Traceable\r\n        public void test1(){\r\n            String str = &quot;1&quot;;\r\n            System.out.println(str);\r\n        }\r\n\r\n        @Traceable\r\n        public Object test2(){\r\n            String str = &quot;2&quot;;\r\n            System.out.println(str);\r\n\r\n            test1();\r\n            return null;\r\n        }\r\n    \r\n    }\r\n\r\nThe console output here is:\r\n\r\n    Inside Aspect\r\n    1\r\n    2\r\n    1\r\n    Hi\r\n\r\nbut I think it&#39;s worng, it has to be like this:\r\n\r\n        Inside Aspect\r\n        Inside Aspect\r\n        1\r\n        Inside Aspect\r\n        2\r\n        Inside Aspect\r\n        1\r\n        Hi\r\n\r\nIt seems that only the first @Traceable is processed, all the other ones are ignored. How to handle this? Thanks","title":"Spring Boot AOP nested custom annotations not called","body":"<p>I have created a simple custom annotation in Spring Boot that logs something and it's working but only for the first annotation, the nested one are not called</p>\n<pre><code>import java.lang.annotation.ElementType;\nimport java.lang.annotation.Retention;\nimport java.lang.annotation.RetentionPolicy;\nimport java.lang.annotation.Target;\n\n@Target(ElementType.METHOD)\n@Retention(RetentionPolicy.RUNTIME)\npublic @interface Traceable {\n\n}\n</code></pre>\n<p>Annotation processor (aspect)</p>\n<pre><code>import org.aspectj.lang.ProceedingJoinPoint;\nimport org.aspectj.lang.annotation.Around;\nimport org.aspectj.lang.annotation.Aspect;\nimport org.springframework.stereotype.Component;\n\n@Aspect\n@Component\npublic class TraceableAspect {\n\n    @Around(&quot;@annotation(Traceable)&quot;)\n    public Object trace(ProceedingJoinPoint joinPoint) throws Throwable {\n\n        System.out.println(&quot;Inside Aspect&quot;);\n        \n        Object result = joinPoint.proceed();\n\n        System.out.println(result);\n        return result;\n    }\n}\n</code></pre>\n<p>Example of a controller used to test</p>\n<pre><code>import org.springframework.stereotype.Controller;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.RequestMapping;\n\n@Controller\n@RequestMapping(&quot;/test&quot;)\npublic class ControllerTest {\n\n    @GetMapping(&quot;/get&quot;)\n    @Traceable\n    public String get(){\n\n        test1();\n        test2();\n\n        return &quot;Hi&quot;;\n    }\n    \n    @Traceable\n    public void test1(){\n        String str = &quot;1&quot;;\n        System.out.println(str);\n    }\n\n    @Traceable\n    public Object test2(){\n        String str = &quot;2&quot;;\n        System.out.println(str);\n\n        test1();\n        return null;\n    }\n\n}\n</code></pre>\n<p>The console output here is:</p>\n<pre><code>Inside Aspect\n1\n2\n1\nHi\n</code></pre>\n<p>but I think it's worng, it has to be like this:</p>\n<pre><code>    Inside Aspect\n    Inside Aspect\n    1\n    Inside Aspect\n    2\n    Inside Aspect\n    1\n    Hi\n</code></pre>\n<p>It seems that only the first @Traceable is processed, all the other ones are ignored. How to handle this? Thanks</p>\n"},{"tags":["java","spring","hibernate","jpa","spring-data-jpa"],"answers":[{"comments":[{"owner":{"account_id":6412021,"reputation":1101,"user_id":4971476,"display_name":"Dave Ankin"},"score":0,"creation_date":1674829430,"post_id":75259379,"comment_id":132802461,"body_markdown":"this still generates the id client side, i am trying to generate it on the server side. additionally, if my default was &quot;CURRENT_TIMESTAMP&quot;, this annotation did not help, i had to add @Column(updatable=false, insertable=false) - so I am wondering what is the general approach","body":"this still generates the id client side, i am trying to generate it on the server side. additionally, if my default was &quot;CURRENT_TIMESTAMP&quot;, this annotation did not help, i had to add @Column(updatable=false, insertable=false) - so I am wondering what is the general approach"},{"owner":{"account_id":320962,"reputation":31681,"user_id":639520,"accept_rate":72,"display_name":"E-Riz"},"score":0,"creation_date":1674829478,"post_id":75259379,"comment_id":132802477,"body_markdown":"What do you mean by &quot;server side?&quot; In the RDBMS?","body":"What do you mean by &quot;server side?&quot; In the RDBMS?"},{"owner":{"account_id":6412021,"reputation":1101,"user_id":4971476,"display_name":"Dave Ankin"},"score":0,"creation_date":1674829501,"post_id":75259379,"comment_id":132802488,"body_markdown":"correct, i want jpa to not manager it whatsoever, no column value = do not put it in the insert statement.","body":"correct, i want jpa to not manager it whatsoever, no column value = do not put it in the insert statement."},{"owner":{"account_id":6412021,"reputation":1101,"user_id":4971476,"display_name":"Dave Ankin"},"score":0,"creation_date":1674829619,"post_id":75259379,"comment_id":132802519,"body_markdown":"oh, GeneratedValue is PK specific","body":"oh, GeneratedValue is PK specific"},{"owner":{"account_id":320962,"reputation":31681,"user_id":639520,"accept_rate":72,"display_name":"E-Riz"},"score":0,"creation_date":1674829669,"post_id":75259379,"comment_id":132802537,"body_markdown":"Personally I usually choose `@GeneratedValue(strategy = GenerationType.AUTO)` but it&#39;s not a one-size-fits-all situation. Different database vendors support different options. The page I linked to in the answer explains it pretty well.","body":"Personally I usually choose <code>@GeneratedValue(strategy = GenerationType.AUTO)</code> but it&#39;s not a one-size-fits-all situation. Different database vendors support different options. The page I linked to in the answer explains it pretty well."}],"tags":[],"owner":{"account_id":320962,"reputation":31681,"user_id":639520,"accept_rate":72,"display_name":"E-Riz"},"comment_count":5,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1674829954,"creation_date":1674829336,"answer_id":75259379,"question_id":75258920,"body_markdown":"In JPA, entity IDs can be either assigned by the application code, or generated (by the JPA provider, such as Hibernate, or by the database). In many situations, it&#39;s desirable to have the entity IDs be *generated* instead of applicaiton-assigned; it seems like that&#39;s what you are expecting.\r\n\r\nIf so, you need to annotate the `id` field with `@GeneratedValue`. For example:\r\n```java\r\nclass Entity {\r\n    @Id\r\n    @GeneratedValue\r\n    UUID id;\r\n\r\n    String name;\r\n}\r\n```\r\n\r\n\r\nNote that there are considerations to be made regarding the generation strategy, so you&#39;ll want to educate yourself about them and make the right choice based on your situation. [This][1] is a good page that discusses the options. [This SO Answer][2] also is worth reading (the author is a well-known expert on JPA and Hibernate).\r\n\r\n\r\n  [1]: https://en.wikibooks.org/wiki/Java_Persistence/Identity_and_Sequencing#Sequencing\r\n  [2]: https://stackoverflow.com/a/38391106/639520","title":"How to save an entity without an id in Spring Data JPA (hibernate)","body":"<p>In JPA, entity IDs can be either assigned by the application code, or generated (by the JPA provider, such as Hibernate, or by the database). In many situations, it's desirable to have the entity IDs be <em>generated</em> instead of applicaiton-assigned; it seems like that's what you are expecting.</p>\n<p>If so, you need to annotate the <code>id</code> field with <code>@GeneratedValue</code>. For example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>class Entity {\n    @Id\n    @GeneratedValue\n    UUID id;\n\n    String name;\n}\n</code></pre>\n<p>Note that there are considerations to be made regarding the generation strategy, so you'll want to educate yourself about them and make the right choice based on your situation. <a href=\"https://en.wikibooks.org/wiki/Java_Persistence/Identity_and_Sequencing#Sequencing\" rel=\"nofollow noreferrer\">This</a> is a good page that discusses the options. <a href=\"https://stackoverflow.com/a/38391106/639520\">This SO Answer</a> also is worth reading (the author is a well-known expert on JPA and Hibernate).</p>\n"}],"owner":{"account_id":6412021,"reputation":1101,"user_id":4971476,"display_name":"Dave Ankin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":826,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75259379,"answer_count":1,"score":0,"last_activity_date":1676392897,"creation_date":1674826961,"question_id":75258920,"body_markdown":"consider an entity with just an id and text field:\r\n\r\n```java\r\n@lombok.Data\r\nclass Entity {\r\n  @javax.persistence.Id\r\n  UUID id;\r\n  String name;\r\n}\r\n```\r\n\r\nconsider that the table definition is as follows:\r\n\r\n```sql\r\ncreate table entity (\r\n  id uniqueidentifier not null primary key default newid(),\r\n  name varchar(max)\r\n);\r\n```\r\n\r\nI am then curious why this doesn&#39;t work and how i could make it work:\r\n\r\n```java\r\nUUID savedId = entityRepository.save(new Entity().setName(&quot;entity name&quot;)).getId();\r\n```","title":"How to save an entity without an id in Spring Data JPA (hibernate)","body":"<p>consider an entity with just an id and text field:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@lombok.Data\nclass Entity {\n  @javax.persistence.Id\n  UUID id;\n  String name;\n}\n</code></pre>\n<p>consider that the table definition is as follows:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>create table entity (\n  id uniqueidentifier not null primary key default newid(),\n  name varchar(max)\n);\n</code></pre>\n<p>I am then curious why this doesn't work and how i could make it work:</p>\n<pre class=\"lang-java prettyprint-override\"><code>UUID savedId = entityRepository.save(new Entity().setName(&quot;entity name&quot;)).getId();\n</code></pre>\n"},{"tags":["java","spring","spring-boot","stream","resttemplate"],"answers":[{"tags":[],"owner":{"account_id":320962,"reputation":31681,"user_id":639520,"accept_rate":72,"display_name":"E-Riz"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674834557,"creation_date":1674834557,"answer_id":75260388,"question_id":75259593,"body_markdown":"[Spring Cloud Gateway][1] (more documentation [here][2]) can help. It&#39;s primary purpose seems to be as a configuration-driven gateway, but it can be embedded into an application to serve just certain endpoints; so you may be able to configure it in your &quot;Ingress&quot; service to route certain requests to your Storage service.\r\n\r\nIf that doesn&#39;t work (or, as was in my case, it&#39;s too much work), you can use some specific classes from Spring Cloud Gateway in your own service. Specifically, I&#39;ve used the `ProxyExchange` class to [proxy calls to another service][3] and stream the results back to the original caller.\r\n\r\n\r\n  [1]: https://spring.io/projects/spring-cloud-gateway\r\n  [2]: https://docs.spring.io/spring-cloud-gateway/docs/current/reference/html/\r\n  [3]: https://cloud.spring.io/spring-cloud-gateway/multi/multi__building_a_simple_gateway_using_spring_mvc.html","title":"Restream files from another server to client springboot","body":"<p><a href=\"https://spring.io/projects/spring-cloud-gateway\" rel=\"nofollow noreferrer\">Spring Cloud Gateway</a> (more documentation <a href=\"https://docs.spring.io/spring-cloud-gateway/docs/current/reference/html/\" rel=\"nofollow noreferrer\">here</a>) can help. It's primary purpose seems to be as a configuration-driven gateway, but it can be embedded into an application to serve just certain endpoints; so you may be able to configure it in your &quot;Ingress&quot; service to route certain requests to your Storage service.</p>\n<p>If that doesn't work (or, as was in my case, it's too much work), you can use some specific classes from Spring Cloud Gateway in your own service. Specifically, I've used the <code>ProxyExchange</code> class to <a href=\"https://cloud.spring.io/spring-cloud-gateway/multi/multi__building_a_simple_gateway_using_spring_mvc.html\" rel=\"nofollow noreferrer\">proxy calls to another service</a> and stream the results back to the original caller.</p>\n"}],"owner":{"account_id":16710393,"reputation":21,"user_id":12077736,"display_name":"Hasuni"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":110,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1676392862,"creation_date":1674830374,"question_id":75259593,"body_markdown":"I have 2 services - Ingress (input node) and Storage.\r\nClient send requests on Ingress to get some data (large files).\r\nIngress send request to Storage to get data that Client needs.\r\nMaybe, somebody can tell what I can use to restream response from Storage to Client without OutOfMemory issues.\r\n\r\nNow I&#39;ve implemented it as saving result in file on Ingress, rereading it and sending as response to Client. But it works really slow, of course.\r\n\r\nThank you.","title":"Restream files from another server to client springboot","body":"<p>I have 2 services - Ingress (input node) and Storage.\nClient send requests on Ingress to get some data (large files).\nIngress send request to Storage to get data that Client needs.\nMaybe, somebody can tell what I can use to restream response from Storage to Client without OutOfMemory issues.</p>\n<p>Now I've implemented it as saving result in file on Ingress, rereading it and sending as response to Client. But it works really slow, of course.</p>\n<p>Thank you.</p>\n"},{"tags":["java","hibernate","postgresql"],"comments":[{"owner":{"display_name":"user330315"},"score":0,"creation_date":1359374143,"post_id":14561385,"comment_id":20316513,"body_markdown":"I&#39;d say Hibernate doesn&#39;t know that you are using sequences. It seems to want to use it&#39;s own home-grown (slow) sequence table. There should be some kind of anotation that tells Hibernate that your `id` column is linked to a sequence.","body":"I&#39;d say Hibernate doesn&#39;t know that you are using sequences. It seems to want to use it&#39;s own home-grown (slow) sequence table. There should be some kind of anotation that tells Hibernate that your <code>id</code> column is linked to a sequence."},{"owner":{"account_id":8613736,"reputation":724,"user_id":6451395,"accept_rate":50,"display_name":"Krish"},"score":0,"creation_date":1500599553,"post_id":14561385,"comment_id":77421167,"body_markdown":"@Lakshmi did you resolve the issue ?","body":"@Lakshmi did you resolve the issue ?"}],"answers":[{"comments":[{"owner":{"account_id":2281958,"reputation":2224,"user_id":2006839,"accept_rate":67,"display_name":"Lakshmi"},"score":0,"creation_date":1359374584,"post_id":14561498,"comment_id":20316727,"body_markdown":"I am not using any annotations in my employee class. I have added the employee class in my question now","body":"I am not using any annotations in my employee class. I have added the employee class in my question now"},{"owner":{"account_id":927996,"reputation":12046,"user_id":958373,"accept_rate":63,"display_name":"Stephane"},"score":0,"creation_date":1407420701,"post_id":14561498,"comment_id":39215300,"body_markdown":"Same here, I&#39;m only using one GeneratedValue(strategy = GenerationType.AUTO) in the AbstractEntity extended by all 126 entities of my schema. This works just fine on MySQL, H2 and HSQLDB. Now my Oracle schema has one sequence per table, so I guess I need to make a copy paste of all my model entities, for the Oracle case. Sigh...","body":"Same here, I&#39;m only using one GeneratedValue(strategy = GenerationType.AUTO) in the AbstractEntity extended by all 126 entities of my schema. This works just fine on MySQL, H2 and HSQLDB. Now my Oracle schema has one sequence per table, so I guess I need to make a copy paste of all my model entities, for the Oracle case. Sigh..."},{"owner":{"account_id":3179292,"reputation":1083,"user_id":2686419,"accept_rate":73,"display_name":"uesports135"},"score":0,"creation_date":1519517775,"post_id":14561498,"comment_id":84943482,"body_markdown":"Depending on your database, you can also specify ```@Generated(GenerationTime.INSERT)``` instead","body":"Depending on your database, you can also specify <code>@Generated(GenerationTime.INSERT)</code> instead"},{"owner":{"account_id":18070265,"reputation":353,"user_id":13135093,"display_name":"stereo"},"score":0,"creation_date":1652262695,"post_id":14561498,"comment_id":127561954,"body_markdown":"I am using postgres and `@GeneratedValue(generator=&quot;sequence_name&quot;)` was enough and worked for the primary keys and their sequences.","body":"I am using postgres and <code>@GeneratedValue(generator=&quot;sequence_name&quot;)</code> was enough and worked for the primary keys and their sequences."}],"tags":[],"owner":{"account_id":1980276,"reputation":8081,"user_id":1777072,"accept_rate":60,"display_name":"David Lavender"},"comment_count":4,"down_vote_count":1,"up_vote_count":33,"is_accepted":false,"score":32,"last_activity_date":1359374315,"creation_date":1359374146,"answer_id":14561498,"question_id":14561385,"body_markdown":"You haven&#39;t posted the important bit: the `Employee` class.\r\n\r\nBut my guess is that your Employee class is using `@GeneratedValue()` without specifying the sequence to use. So, Hibernate uses its default name: hibernate_sequence.\r\n\r\nYou can supply a sequence name as part of the GeneratedValue annotation. eg. \r\n\r\n    @GeneratedValue(strategy=SEQUENCE, generator=&quot;employee_id_seq&quot;)\r\n\r\n","title":"Missing sequence or table: hibernate_sequence","body":"<p>You haven't posted the important bit: the <code>Employee</code> class.</p>\n\n<p>But my guess is that your Employee class is using <code>@GeneratedValue()</code> without specifying the sequence to use. So, Hibernate uses its default name: hibernate_sequence.</p>\n\n<p>You can supply a sequence name as part of the GeneratedValue annotation. eg. </p>\n\n<pre><code>@GeneratedValue(strategy=SEQUENCE, generator=\"employee_id_seq\")\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2693469,"reputation":147,"user_id":2326165,"display_name":"oleh.kovaliuk"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1391772963,"creation_date":1391772963,"answer_id":21626735,"question_id":14561385,"body_markdown":"If you don&#39;t use annotation you should change YourClass.hbm.xml file.\r\n\r\nYour ID section should be:\r\n\r\n    &lt;id name=&quot;id&quot; type=&quot;int&quot; column=&quot;id&quot;&gt;\r\n         &lt;generator class=&quot;sequence&quot;&gt;\r\n             &lt;param name=&quot;sequence&quot;&gt;employee_id_seq&lt;/param&gt;\r\n         &lt;/generator&gt;\r\n    &lt;/id&gt;\r\n\r\nFile sample:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;!DOCTYPE hibernate-mapping PUBLIC \r\n     &quot;-//Hibernate/Hibernate Mapping DTD//EN&quot;\r\n     &quot;http://www.hibernate.org/dtd/hibernate-mapping-3.0.dtd&quot;&gt; \r\n    \r\n    &lt;hibernate-mapping&gt;\r\n       &lt;class name=&quot;Employee&quot; table=&quot;EMPLOYEE&quot;&gt;\r\n          &lt;meta attribute=&quot;class-description&quot;&gt;\r\n             This class contains the employee detail. \r\n          &lt;/meta&gt;\r\n          &lt;id name=&quot;id&quot; type=&quot;int&quot; column=&quot;id&quot;&gt;\r\n             &lt;generator class=&quot;sequence&quot;&gt;\r\n                 &lt;param name=&quot;sequence&quot;&gt;employee_id_seq&lt;/param&gt;\r\n             &lt;/generator&gt;\r\n          &lt;/id&gt;\r\n          &lt;property name=&quot;firstName&quot; column=&quot;first_name&quot; type=&quot;string&quot;/&gt;\r\n          &lt;property name=&quot;lastName&quot; column=&quot;last_name&quot; type=&quot;string&quot;/&gt;\r\n          &lt;property name=&quot;salary&quot; column=&quot;salary&quot; type=&quot;int&quot;/&gt;\r\n       &lt;/class&gt;\r\n    &lt;/hibernate-mapping&gt;","title":"Missing sequence or table: hibernate_sequence","body":"<p>If you don't use annotation you should change YourClass.hbm.xml file.</p>\n\n<p>Your ID section should be:</p>\n\n<pre><code>&lt;id name=\"id\" type=\"int\" column=\"id\"&gt;\n     &lt;generator class=\"sequence\"&gt;\n         &lt;param name=\"sequence\"&gt;employee_id_seq&lt;/param&gt;\n     &lt;/generator&gt;\n&lt;/id&gt;\n</code></pre>\n\n<p>File sample:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;!DOCTYPE hibernate-mapping PUBLIC \n \"-//Hibernate/Hibernate Mapping DTD//EN\"\n \"http://www.hibernate.org/dtd/hibernate-mapping-3.0.dtd\"&gt; \n\n&lt;hibernate-mapping&gt;\n   &lt;class name=\"Employee\" table=\"EMPLOYEE\"&gt;\n      &lt;meta attribute=\"class-description\"&gt;\n         This class contains the employee detail. \n      &lt;/meta&gt;\n      &lt;id name=\"id\" type=\"int\" column=\"id\"&gt;\n         &lt;generator class=\"sequence\"&gt;\n             &lt;param name=\"sequence\"&gt;employee_id_seq&lt;/param&gt;\n         &lt;/generator&gt;\n      &lt;/id&gt;\n      &lt;property name=\"firstName\" column=\"first_name\" type=\"string\"/&gt;\n      &lt;property name=\"lastName\" column=\"last_name\" type=\"string\"/&gt;\n      &lt;property name=\"salary\" column=\"salary\" type=\"int\"/&gt;\n   &lt;/class&gt;\n&lt;/hibernate-mapping&gt;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":6170988,"reputation":355,"user_id":4809255,"accept_rate":60,"display_name":"Leonhard Printz"},"score":0,"creation_date":1644743250,"post_id":29851328,"comment_id":125683039,"body_markdown":"Specifically the issue here is whether a sequence based strategy is used for generating the id. This is the most performant method, but requires at least a default sequence existing.","body":"Specifically the issue here is whether a sequence based strategy is used for generating the id. This is the most performant method, but requires at least a default sequence existing."}],"tags":[],"owner":{"account_id":5987826,"reputation":37,"user_id":4704836,"accept_rate":0,"display_name":"Daniel"},"comment_count":1,"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1429888777,"creation_date":1429888777,"answer_id":29851328,"question_id":14561385,"body_markdown":"You can do two things.\r\nOne is to just manually create a blank hibernate_sequence table postgresql. \r\nTwo, most likely there is a conflict with the user account permissions not allowing grails to create that table.","title":"Missing sequence or table: hibernate_sequence","body":"<p>You can do two things.\nOne is to just manually create a blank hibernate_sequence table postgresql. \nTwo, most likely there is a conflict with the user account permissions not allowing grails to create that table.</p>\n"},{"tags":[],"owner":{"account_id":4626870,"reputation":967,"user_id":3750441,"display_name":"Chipo Hamayobe"},"comment_count":0,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1455845092,"creation_date":1455845092,"answer_id":35495685,"question_id":14561385,"body_markdown":"For me, what was causing this error was the wrong version of the MySql.Data library.\r\n\r\nI had a version 6.9.6.0 defined in the web.config and yet the actual referenced version was older.\r\n\r\nI just commented out :\r\n\r\n         &lt;system.data&gt;\r\n          &lt;DbProviderFactories&gt;\r\n          &lt;remove invariant=&quot;MySql.Data.MySqlClient&quot; /&gt;\r\n            &lt;add name=&quot;MySQL Data Provider&quot; invariant=&quot;MySql.Data.MySqlClient&quot; description=&quot;.Net Framework Data Provider for MySQL&quot; type=&quot;MySql.Data.MySqlClient.MySqlClientFactory, MySql.Data, Version=6.9.6.0, Culture=neutral, PublicKeyToken=c5687fc88969c44d&quot; /&gt;\r\n         &lt;/DbProviderFactories&gt;\r\n       &lt;/system.data&gt;\r\n","title":"Missing sequence or table: hibernate_sequence","body":"<p>For me, what was causing this error was the wrong version of the MySql.Data library.</p>\n\n<p>I had a version 6.9.6.0 defined in the web.config and yet the actual referenced version was older.</p>\n\n<p>I just commented out :</p>\n\n<pre><code>     &lt;system.data&gt;\n      &lt;DbProviderFactories&gt;\n      &lt;remove invariant=\"MySql.Data.MySqlClient\" /&gt;\n        &lt;add name=\"MySQL Data Provider\" invariant=\"MySql.Data.MySqlClient\" description=\".Net Framework Data Provider for MySQL\" type=\"MySql.Data.MySqlClient.MySqlClientFactory, MySql.Data, Version=6.9.6.0, Culture=neutral, PublicKeyToken=c5687fc88969c44d\" /&gt;\n     &lt;/DbProviderFactories&gt;\n   &lt;/system.data&gt;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2674923,"reputation":9479,"user_id":2311528,"accept_rate":59,"display_name":"Lonzak"},"score":0,"creation_date":1676392598,"post_id":38392847,"comment_id":133126093,"body_markdown":"This is hilarious :-D &#129315;","body":"This is hilarious :-D 🤣"}],"tags":[],"owner":{"account_id":7869735,"reputation":1778,"user_id":5947458,"display_name":"Riddhi Gohil"},"comment_count":1,"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1468575662,"creation_date":1468575662,"answer_id":38392847,"question_id":14561385,"body_markdown":"&gt; Simple solution :\r\n\r\ncreate  hibernate_sequence table  as :\r\n\r\n    &quot;create sequence &lt;schema&gt;.hibernate_sequence&quot;","title":"Missing sequence or table: hibernate_sequence","body":"<blockquote>\n  <p>Simple solution :</p>\n</blockquote>\n\n<p>create  hibernate_sequence table  as :</p>\n\n<pre><code>\"create sequence &lt;schema&gt;.hibernate_sequence\"\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3579176,"reputation":4110,"user_id":2987780,"accept_rate":50,"display_name":"Indrajeet Gour"},"score":4,"creation_date":1562170490,"post_id":51276180,"comment_id":100296959,"body_markdown":"Can you tell why the GenerationType.AUTO was failing ?","body":"Can you tell why the GenerationType.AUTO was failing ?"},{"owner":{"account_id":6170988,"reputation":355,"user_id":4809255,"accept_rate":60,"display_name":"Leonhard Printz"},"score":3,"creation_date":1634380431,"post_id":51276180,"comment_id":123011993,"body_markdown":"I will warn everyone that this answer will work but it will come at huge performance penalty for Hibernate. This will make two writes per insertion: One to figure out what the ID will be, and then after that to perform the actual persistence.\n\nThe real answer is the one provided by @David Lavender","body":"I will warn everyone that this answer will work but it will come at huge performance penalty for Hibernate. This will make two writes per insertion: One to figure out what the ID will be, and then after that to perform the actual persistence.  The real answer is the one provided by @David Lavender"}],"tags":[],"owner":{"account_id":1519017,"reputation":843,"user_id":1419261,"display_name":"user1419261"},"comment_count":2,"down_vote_count":2,"up_vote_count":45,"is_accepted":false,"score":43,"last_activity_date":1531274295,"creation_date":1531274295,"answer_id":51276180,"question_id":14561385,"body_markdown":"   In your domain or Model object annotate the id field as below  and it should  work. For me the GenerationType.AUTO failed\r\n\r\n\t@Id\r\n\t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n\tprivate int id;","title":"Missing sequence or table: hibernate_sequence","body":"<p>In your domain or Model object annotate the id field as below  and it should  work. For me the GenerationType.AUTO failed</p>\n\n<pre><code>@Id\n@GeneratedValue(strategy = GenerationType.IDENTITY)\nprivate int id;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":878161,"reputation":133,"user_id":159081,"display_name":"T.Thamilvaanan"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1676392851,"creation_date":1594090836,"answer_id":62767492,"question_id":14561385,"body_markdown":"If you encounter this with Spring Boot or Spring boot/Hibernate Migration then potentially you can try the following\r\n\r\n[Quote][1]:\r\n\r\n&gt; By default, Hibernate generates key from hibernate_sequence table, we\r\n&gt; can disable it by setting this hibernate.use-new-id-generator-mappings\r\n&gt; to false.\r\n\r\n    application.properties\r\n\r\n\r\n    spring.datasource.url=jdbc:mysql://localhost:3306/test\r\n    spring.datasource.username=mkyong\r\n    spring.datasource.password=password\r\n    spring.jpa.hibernate.use-new-id-generator-mappings=false\r\n\r\n\r\n  [1]: https://mkyong.com/spring-boot/spring-boot-mysql-table-db_name-hibernate_sequence-doesnt-exist/","title":"Missing sequence or table: hibernate_sequence","body":"<p>If you encounter this with Spring Boot or Spring boot/Hibernate Migration then potentially you can try the following</p>\n<p><a href=\"https://mkyong.com/spring-boot/spring-boot-mysql-table-db_name-hibernate_sequence-doesnt-exist/\" rel=\"nofollow noreferrer\">Quote</a>:</p>\n<blockquote>\n<p>By default, Hibernate generates key from hibernate_sequence table, we\ncan disable it by setting this hibernate.use-new-id-generator-mappings\nto false.</p>\n</blockquote>\n<pre><code>application.properties\n\n\nspring.datasource.url=jdbc:mysql://localhost:3306/test\nspring.datasource.username=mkyong\nspring.datasource.password=password\nspring.jpa.hibernate.use-new-id-generator-mappings=false\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8834636,"reputation":57,"user_id":6599413,"display_name":"Saleh"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1601161049,"creation_date":1601161049,"answer_id":64083238,"question_id":14561385,"body_markdown":"Apart from creating the table hibernate_sequence which has a column next_val \r\nyou can also set quarkus.hibernate-orm.database.generation = drop-and-create. Note this will delete all the record in you database.","title":"Missing sequence or table: hibernate_sequence","body":"<p>Apart from creating the table hibernate_sequence which has a column next_val\nyou can also set quarkus.hibernate-orm.database.generation = drop-and-create. Note this will delete all the record in you database.</p>\n"}],"owner":{"account_id":2281958,"reputation":2224,"user_id":2006839,"accept_rate":67,"display_name":"Lakshmi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":91428,"favorite_count":0,"down_vote_count":0,"up_vote_count":41,"answer_count":8,"score":41,"last_activity_date":1676392851,"creation_date":1359373798,"question_id":14561385,"body_markdown":"I am new to hibernate and postgres. Actually I am trying to map potgres database using Hibernate. This is my table stucture in postgresql\r\n\r\n    CREATE TABLE employee\r\n    (\r\n    id serial NOT NULL,\r\n    firstname character varying(20),\r\n    lastname character varying(20),\r\n    birth_date date,\r\n    cell_phone character varying(15),\r\n    CONSTRAINT employee_pkey PRIMARY KEY (id )\r\n    )\r\n\r\n I am trying to add a record to the database using the following code\r\n   \r\n\r\n     System.out.println(&quot;******* WRITE *******&quot;);\r\n        Employee empl = new Employee(&quot;Jack&quot;, &quot;Bauer&quot;, new Date(System.currentTimeMillis()), &quot;911&quot;);\r\n        empl = save(empl);\r\n\r\n\r\n\r\n     //This is the save function\r\n\r\n        private static Employee save(Employee employee) {\r\n        SessionFactory sf = HibernateUtil.getSessionFactory();\r\n        Session session = sf.openSession();\r\n \r\n        session.beginTransaction();\r\n \r\n        \r\n        int id = (Integer) session.save(employee);\r\n        employee.setId(id);\r\n         \r\n        session.getTransaction().commit();\r\n         \r\n        session.close();\r\n \r\n        return employee;\r\n    }\r\n \r\nWhen I execute the code I am getting the following error\r\n\r\n    org.hibernate.HibernateException: Missing sequence or table: hibernate_sequence\r\n    Exception in thread &quot;main&quot; java.lang.ExceptionInInitializerError\r\n\tat org.tcs.com.Hibernate.HibernateUtil.buildSessionFactory(HibernateUtil.java:18)\r\n\tat org.tcs.com.Hibernate.HibernateUtil.&lt;clinit&gt;(HibernateUtil.java:8)\r\n\tat org.tcs.com.Hibernate.MainApp.list(MainApp.java:51)\r\n\tat org.tcs.com.Hibernate.MainApp.main(MainApp.java:17)\r\n    Caused by: org.hibernate.HibernateException: Missing sequence or table: hibernate_sequence\r\n\tat org.hibernate.cfg.Configuration.validateSchema(Configuration.java:1282)\r\n\tat org.hibernate.tool.hbm2ddl.SchemaValidator.validate(SchemaValidator.java:155)\r\n\tat org.hibernate.internal.SessionFactoryImpl.&lt;init&gt;(SessionFactoryImpl.java:498)\r\n\tat org.hibernate.cfg.Configuration.buildSessionFactory(Configuration.java:1740)\r\n\tat org.hibernate.cfg.Configuration.buildSessionFactory(Configuration.java:1778)\r\n\tat org.tcs.com.Hibernate.HibernateUtil.buildSessionFactory(HibernateUtil.java:15)\r\n\t... 3 more\r\n\r\n I have the sequence called &quot;employee_id_seq&quot; in my database. But I dont know why the database is looking for hibernate_seq. Could someone explain the error and the reason.\r\n\r\nThanks in advance!\r\n\r\n**Added info**\r\n \r\nThis is my employee class\r\n\r\n    import java.sql.Date;\r\n\r\n    public class Employee {\r\n \r\n    private int id;\r\n     \r\n    private String firstname;\r\n     \r\n    private String lastname;\r\n     \r\n    private Date birthDate;\r\n     \r\n    private String cellphone;\r\n \r\n    public Employee() {\r\n         \r\n    }\r\n     \r\n    public Employee(String firstname, String lastname, Date birthdate, String phone) {\r\n        this.firstname = firstname;\r\n        this.lastname = lastname;\r\n        this.birthDate = birthdate;\r\n        this.cellphone = phone;\r\n         \r\n    }\r\n\r\n\tpublic int getId() {\r\n\t\treturn id;\r\n\t}\r\n\r\n\tpublic void setId(int id) {\r\n\t\tthis.id = id;\r\n\t}\r\n\r\n\tpublic String getFirstname() {\r\n\t\treturn firstname;\r\n\t}\r\n\r\n\tpublic void setFirstname(String firstname) {\r\n\t\tthis.firstname = firstname;\r\n\t}\r\n\r\n\tpublic String getLastname() {\r\n\t\treturn lastname;\r\n\t}\r\n\r\n\tpublic void setLastname(String lastname) {\r\n\t\tthis.lastname = lastname;\r\n\t}\r\n\r\n\tpublic Date getBirthDate() {\r\n\t\treturn birthDate;\r\n\t}\r\n\r\n\tpublic void setBirthDate(Date birthDate) {\r\n\t\tthis.birthDate = birthDate;\r\n\t}\r\n\r\n\tpublic String getCellphone() {\r\n\t\treturn cellphone;\r\n\t}\r\n\r\n\tpublic void setCellphone(String cellphone) {\r\n\t\tthis.cellphone = cellphone;\r\n\t}\r\n     \r\n    \r\n \r\n    }","title":"Missing sequence or table: hibernate_sequence","body":"<p>I am new to hibernate and postgres. Actually I am trying to map potgres database using Hibernate. This is my table stucture in postgresql</p>\n\n<pre><code>CREATE TABLE employee\n(\nid serial NOT NULL,\nfirstname character varying(20),\nlastname character varying(20),\nbirth_date date,\ncell_phone character varying(15),\nCONSTRAINT employee_pkey PRIMARY KEY (id )\n)\n</code></pre>\n\n<p>I am trying to add a record to the database using the following code</p>\n\n<pre><code> System.out.println(\"******* WRITE *******\");\n    Employee empl = new Employee(\"Jack\", \"Bauer\", new Date(System.currentTimeMillis()), \"911\");\n    empl = save(empl);\n\n\n\n //This is the save function\n\n    private static Employee save(Employee employee) {\n    SessionFactory sf = HibernateUtil.getSessionFactory();\n    Session session = sf.openSession();\n\n    session.beginTransaction();\n\n\n    int id = (Integer) session.save(employee);\n    employee.setId(id);\n\n    session.getTransaction().commit();\n\n    session.close();\n\n    return employee;\n}\n</code></pre>\n\n<p>When I execute the code I am getting the following error</p>\n\n<pre><code>org.hibernate.HibernateException: Missing sequence or table: hibernate_sequence\nException in thread \"main\" java.lang.ExceptionInInitializerError\nat org.tcs.com.Hibernate.HibernateUtil.buildSessionFactory(HibernateUtil.java:18)\nat org.tcs.com.Hibernate.HibernateUtil.&lt;clinit&gt;(HibernateUtil.java:8)\nat org.tcs.com.Hibernate.MainApp.list(MainApp.java:51)\nat org.tcs.com.Hibernate.MainApp.main(MainApp.java:17)\nCaused by: org.hibernate.HibernateException: Missing sequence or table: hibernate_sequence\nat org.hibernate.cfg.Configuration.validateSchema(Configuration.java:1282)\nat org.hibernate.tool.hbm2ddl.SchemaValidator.validate(SchemaValidator.java:155)\nat org.hibernate.internal.SessionFactoryImpl.&lt;init&gt;(SessionFactoryImpl.java:498)\nat org.hibernate.cfg.Configuration.buildSessionFactory(Configuration.java:1740)\nat org.hibernate.cfg.Configuration.buildSessionFactory(Configuration.java:1778)\nat org.tcs.com.Hibernate.HibernateUtil.buildSessionFactory(HibernateUtil.java:15)\n... 3 more\n</code></pre>\n\n<p>I have the sequence called \"employee_id_seq\" in my database. But I dont know why the database is looking for hibernate_seq. Could someone explain the error and the reason.</p>\n\n<p>Thanks in advance!</p>\n\n<p><strong>Added info</strong></p>\n\n<p>This is my employee class</p>\n\n<pre><code>import java.sql.Date;\n\npublic class Employee {\n\nprivate int id;\n\nprivate String firstname;\n\nprivate String lastname;\n\nprivate Date birthDate;\n\nprivate String cellphone;\n\npublic Employee() {\n\n}\n\npublic Employee(String firstname, String lastname, Date birthdate, String phone) {\n    this.firstname = firstname;\n    this.lastname = lastname;\n    this.birthDate = birthdate;\n    this.cellphone = phone;\n\n}\n\npublic int getId() {\n    return id;\n}\n\npublic void setId(int id) {\n    this.id = id;\n}\n\npublic String getFirstname() {\n    return firstname;\n}\n\npublic void setFirstname(String firstname) {\n    this.firstname = firstname;\n}\n\npublic String getLastname() {\n    return lastname;\n}\n\npublic void setLastname(String lastname) {\n    this.lastname = lastname;\n}\n\npublic Date getBirthDate() {\n    return birthDate;\n}\n\npublic void setBirthDate(Date birthDate) {\n    this.birthDate = birthDate;\n}\n\npublic String getCellphone() {\n    return cellphone;\n}\n\npublic void setCellphone(String cellphone) {\n    this.cellphone = cellphone;\n}\n\n\n\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","api"],"comments":[{"owner":{"account_id":320962,"reputation":31681,"user_id":639520,"accept_rate":72,"display_name":"E-Riz"},"score":0,"creation_date":1676379571,"post_id":75448011,"comment_id":133121717,"body_markdown":"Please show your controller method and the full DTO that you&#39;re deserializing into. There are additional annotations required to get Spring to automatically apply the validation annotations.","body":"Please show your controller method and the full DTO that you&#39;re deserializing into. There are additional annotations required to get Spring to automatically apply the validation annotations."},{"owner":{"account_id":27754578,"reputation":25,"user_id":21188343,"display_name":"Jay93"},"score":0,"creation_date":1676379920,"post_id":75448011,"comment_id":133121835,"body_markdown":"I have spring working and it validate all other inputs including String, Integer Etc but its just Float I am not sure the correct validation to use","body":"I have spring working and it validate all other inputs including String, Integer Etc but its just Float I am not sure the correct validation to use"}],"answers":[{"tags":[],"owner":{"account_id":320962,"reputation":31681,"user_id":639520,"accept_rate":72,"display_name":"E-Riz"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676380297,"creation_date":1676380297,"answer_id":75448348,"question_id":75448011,"body_markdown":"If you&#39;re using the javax.validation `@Max` annotation, the JavaDoc states that float an double types are not supported (due to rounding errors). You could try using `BigDecimal` in your controller (DTO?), then converting as necessary after validation has been run.\r\n\r\nAlternatively, you could write a custom validator that does the work, but keep in mind the warning about potential rounding errors - if it were simple the javax.validation annotations would already do it.","title":"How to add a validation on a float property in a api using JavaX / SpringBoot","body":"<p>If you're using the javax.validation <code>@Max</code> annotation, the JavaDoc states that float an double types are not supported (due to rounding errors). You could try using <code>BigDecimal</code> in your controller (DTO?), then converting as necessary after validation has been run.</p>\n<p>Alternatively, you could write a custom validator that does the work, but keep in mind the warning about potential rounding errors - if it were simple the javax.validation annotations would already do it.</p>\n"}],"owner":{"account_id":27754578,"reputation":25,"user_id":21188343,"display_name":"Jay93"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":148,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1676392785,"creation_date":1676378618,"question_id":75448011,"body_markdown":"When spending a postman request to my API, I would like an error to be thrown when I enter a value that is outside the max value for a float, 3.4028235e+38f. (I am using Java &amp; Spring Boot) \r\n\r\nI have tried to use a float which was the requirement for the particular field but I haven&#39;t been able to work it out. I have tried using a decimal instead but have still not manage to get the error i expected displayed in postman. \r\n\r\n  \r\n    // @Max(34028235 + 38)\r\n    // MAX_VALUE = 0x1.fffffeP+127f; // 3.4028235e+38f\r\n    //Long maxFloatValue = longValue(3.4028235e+38f);\r\n    //@Range(max= (longValue(3.4028235e+38f)))\r\n    //@Max(maxFloatValue)\r\n    @JsonProperty(&quot;RequestedAm&quot;)\r\n    private Float requestedAm;\r\n\r\n    //@Max (340282300000000000000000000000000000000);\r\n    //@JsonProperty(&quot;RequestedAm&quot;)\r\n    //private BigDecimal requestedAm;`\r\n\r\nI would like an error to be displayed in postman like it does for the Strings when using Min and Max but not sure how this works for a float or as near as?","title":"How to add a validation on a float property in a api using JavaX / SpringBoot","body":"<p>When spending a postman request to my API, I would like an error to be thrown when I enter a value that is outside the max value for a float, 3.4028235e+38f. (I am using Java &amp; Spring Boot)</p>\n<p>I have tried to use a float which was the requirement for the particular field but I haven't been able to work it out. I have tried using a decimal instead but have still not manage to get the error i expected displayed in postman.</p>\n<pre><code>// @Max(34028235 + 38)\n// MAX_VALUE = 0x1.fffffeP+127f; // 3.4028235e+38f\n//Long maxFloatValue = longValue(3.4028235e+38f);\n//@Range(max= (longValue(3.4028235e+38f)))\n//@Max(maxFloatValue)\n@JsonProperty(&quot;RequestedAm&quot;)\nprivate Float requestedAm;\n\n//@Max (340282300000000000000000000000000000000);\n//@JsonProperty(&quot;RequestedAm&quot;)\n//private BigDecimal requestedAm;`\n</code></pre>\n<p>I would like an error to be displayed in postman like it does for the Strings when using Min and Max but not sure how this works for a float or as near as?</p>\n"},{"tags":["java","maven","pom.xml"],"comments":[{"owner":{"account_id":888714,"reputation":34077,"user_id":927493,"accept_rate":61,"display_name":"J Fabian Meier"},"score":0,"creation_date":1676374756,"post_id":75442007,"comment_id":133120257,"body_markdown":"Did you add `&lt;type&gt;pom&lt;/type&gt;` to the `&lt;dependency&gt;`?","body":"Did you add <code>&lt;type&gt;pom&lt;&#47;type&gt;</code> to the <code>&lt;dependency&gt;</code>?"},{"owner":{"account_id":1428986,"reputation":584,"user_id":1351827,"accept_rate":45,"display_name":"Patrick Aquilone"},"score":0,"creation_date":1676384760,"post_id":75442007,"comment_id":133123378,"body_markdown":"Yes.  Still got the error.","body":"Yes.  Still got the error."}],"answers":[{"tags":[],"owner":{"account_id":1428986,"reputation":584,"user_id":1351827,"accept_rate":45,"display_name":"Patrick Aquilone"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676392657,"creation_date":1676392657,"answer_id":75450762,"question_id":75442007,"body_markdown":"So for my situation (and not the best solution), I went into the dependency that has only a pom and pulled the dependencies out of there and built.  It worked.  But feel there should be a way to make it work without having to do this. ","title":"Pom.XML Maven Build Dependency of POM Only Looking for Jar","body":"<p>So for my situation (and not the best solution), I went into the dependency that has only a pom and pulled the dependencies out of there and built.  It worked.  But feel there should be a way to make it work without having to do this.</p>\n"}],"owner":{"account_id":1428986,"reputation":584,"user_id":1351827,"accept_rate":45,"display_name":"Patrick Aquilone"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":223,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1676392657,"creation_date":1676329605,"question_id":75442007,"body_markdown":"**GIVEN:**\r\nI have an in house tool built with gradle that includes a dependency that is only a POM file which in turn then includes a bunch of other dependencies.  No jar for this particular dependency by itself.  The tool builds.\r\n\r\nI have a maven project with a pom.xml file that I want to include this tool in because of all the company specific methods needed for some processes.  I added the dependency with the type of pom and when I build it fails.\r\n\r\n**ERROR:**\r\n```\r\n[ERROR] Failed to execute goal on project &lt;MYPROJECT&gt;: Could not resolve dependencies for project &lt;MYPROJECT&gt;:jar:0.0.326: &lt;com.pom.only.dependency&gt;:jar:7.0 was not found in &lt;Company Repo where this POM file exists&gt; during a previous attempt. This failure was cached in the local repository and resolution is not reattempted until the update interval of &lt;company repo&gt; has elapsed or updates are forced\r\n```\r\n\r\n**REQUEST:**\r\nI have tried making the tool a fat jar in the hopes it would not need this.  But it does.  The my project builds without this tool jar so I know it is this jar that brings in the dependency.  I just have no idea how to resolve this.\r\n\r\n**ALMOST CODE EXAMPLE**\r\nBecause of company specific, I can not put the exact POM code but I can put what it looks like removing company specific stuff.\r\n\r\n```\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.group&lt;/groupId&gt;\r\n            &lt;artifactId&gt;tools-app&lt;/artifactId&gt;\r\n            &lt;version&gt;1.0.11&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.group&lt;/groupId&gt;\r\n            &lt;artifactId&gt;pom only dependency&lt;/artifactId&gt;\r\n            &lt;version&gt;7.0&lt;/version&gt;\r\n            &lt;type&gt;pom&lt;/type&gt;\r\n        &lt;/dependency&gt;\r\n```\r\nSo tools app is the one that I am pulling it.  It is the gradle build and uses the pom only dependency without any issue.  If I pull this into a gradle app it works fine and builds.  However, in the app that has this in the pom, if fails for above.  So I add the dependency for the pom only dependency and mark it as type pom but still get the error.  ","title":"Pom.XML Maven Build Dependency of POM Only Looking for Jar","body":"<p><strong>GIVEN:</strong>\nI have an in house tool built with gradle that includes a dependency that is only a POM file which in turn then includes a bunch of other dependencies.  No jar for this particular dependency by itself.  The tool builds.</p>\n<p>I have a maven project with a pom.xml file that I want to include this tool in because of all the company specific methods needed for some processes.  I added the dependency with the type of pom and when I build it fails.</p>\n<p><strong>ERROR:</strong></p>\n<pre><code>[ERROR] Failed to execute goal on project &lt;MYPROJECT&gt;: Could not resolve dependencies for project &lt;MYPROJECT&gt;:jar:0.0.326: &lt;com.pom.only.dependency&gt;:jar:7.0 was not found in &lt;Company Repo where this POM file exists&gt; during a previous attempt. This failure was cached in the local repository and resolution is not reattempted until the update interval of &lt;company repo&gt; has elapsed or updates are forced\n</code></pre>\n<p><strong>REQUEST:</strong>\nI have tried making the tool a fat jar in the hopes it would not need this.  But it does.  The my project builds without this tool jar so I know it is this jar that brings in the dependency.  I just have no idea how to resolve this.</p>\n<p><strong>ALMOST CODE EXAMPLE</strong>\nBecause of company specific, I can not put the exact POM code but I can put what it looks like removing company specific stuff.</p>\n<pre><code>        &lt;dependency&gt;\n            &lt;groupId&gt;com.group&lt;/groupId&gt;\n            &lt;artifactId&gt;tools-app&lt;/artifactId&gt;\n            &lt;version&gt;1.0.11&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.group&lt;/groupId&gt;\n            &lt;artifactId&gt;pom only dependency&lt;/artifactId&gt;\n            &lt;version&gt;7.0&lt;/version&gt;\n            &lt;type&gt;pom&lt;/type&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>So tools app is the one that I am pulling it.  It is the gradle build and uses the pom only dependency without any issue.  If I pull this into a gradle app it works fine and builds.  However, in the app that has this in the pom, if fails for above.  So I add the dependency for the pom only dependency and mark it as type pom but still get the error.</p>\n"},{"tags":["java","spring","spring-boot","validation","kotlin"],"comments":[{"owner":{"account_id":5940172,"reputation":3457,"user_id":4671717,"accept_rate":25,"display_name":"Chris Maggiulli"},"score":0,"creation_date":1619121886,"post_id":67220022,"comment_id":118816656,"body_markdown":"Can you also set `server.error.include-message=always` if that works I will write it as an alnswer","body":"Can you also set <code>server.error.include-message=always</code> if that works I will write it as an alnswer"},{"owner":{"account_id":20231162,"reputation":211,"user_id":14837661,"display_name":"Yunz"},"score":0,"creation_date":1619122246,"post_id":67220022,"comment_id":118816806,"body_markdown":"@ChrisMaggiulli I have already set this property but it still does not work","body":"@ChrisMaggiulli I have already set this property but it still does not work"}],"answers":[{"tags":[],"owner":{"account_id":2371603,"reputation":422,"user_id":2076114,"accept_rate":50,"display_name":"sham"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1619152032,"creation_date":1619125185,"answer_id":67220684,"question_id":67220022,"body_markdown":"@Yunz I think the &quot;errors&quot; attribute gets added to your response since you set \r\n`server.error.include-binding-errors=always` can you try setting that to `never` or don&#39;t define this property and rely on default(which is `never`).\r\n\r\nyou need to set the `server.error.include-message=always` since version 2.3, Spring Boot hides the message field in the response to avoid leaking sensitive information; we can use this property with an always value to enable it\r\n\r\nfor details check out the [spring boot documentation][1]:\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#server.error.include-binding-errors","title":"Spring Boot validation message not shown","body":"<p>@Yunz I think the &quot;errors&quot; attribute gets added to your response since you set\n<code>server.error.include-binding-errors=always</code> can you try setting that to <code>never</code> or don't define this property and rely on default(which is <code>never</code>).</p>\n<p>you need to set the <code>server.error.include-message=always</code> since version 2.3, Spring Boot hides the message field in the response to avoid leaking sensitive information; we can use this property with an always value to enable it</p>\n<p>for details check out the <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#server.error.include-binding-errors\" rel=\"nofollow noreferrer\">spring boot documentation</a>:</p>\n"},{"tags":[],"owner":{"account_id":20231162,"reputation":211,"user_id":14837661,"display_name":"Yunz"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1619193565,"creation_date":1619193565,"answer_id":67233284,"question_id":67220022,"body_markdown":"Ok finally I found a solution. I created a global exception handler that listens to the MethodArgumentNotValidException. After that I manipulate the message and set the validation message that I set before in the annotation\r\n\r\n```Kotlin\r\n@RestControllerAdvice\r\nclass ExceptionControllerAdvice {\r\n\r\n    @ResponseStatus(HttpStatus.BAD_REQUEST)\r\n    @ExceptionHandler(MethodArgumentNotValidException::class)\r\n    fun handleValidationExceptions(ex: MethodArgumentNotValidException): Map&lt;String, String?&gt;? {\r\n        val errors: MutableMap&lt;String, String?&gt; = HashMap()\r\n        ex.bindingResult.allErrors.forEach { error: ObjectError -&gt;\r\n            val fieldName = (error as FieldError).field\r\n            val errorMessage = error.getDefaultMessage()\r\n            errors[fieldName] = errorMessage\r\n        }\r\n        return errors\r\n    }\r\n\r\n}\r\n```\r\n\r\nSource: https://www.baeldung.com/spring-boot-bean-validation","title":"Spring Boot validation message not shown","body":"<p>Ok finally I found a solution. I created a global exception handler that listens to the MethodArgumentNotValidException. After that I manipulate the message and set the validation message that I set before in the annotation</p>\n<pre><code>@RestControllerAdvice\nclass ExceptionControllerAdvice {\n\n    @ResponseStatus(HttpStatus.BAD_REQUEST)\n    @ExceptionHandler(MethodArgumentNotValidException::class)\n    fun handleValidationExceptions(ex: MethodArgumentNotValidException): Map&lt;String, String?&gt;? {\n        val errors: MutableMap&lt;String, String?&gt; = HashMap()\n        ex.bindingResult.allErrors.forEach { error: ObjectError -&gt;\n            val fieldName = (error as FieldError).field\n            val errorMessage = error.getDefaultMessage()\n            errors[fieldName] = errorMessage\n        }\n        return errors\n    }\n\n}\n</code></pre>\n<p>Source: <a href=\"https://www.baeldung.com/spring-boot-bean-validation\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-boot-bean-validation</a></p>\n"},{"tags":[],"owner":{"account_id":26817435,"reputation":1,"user_id":20407231,"display_name":"user20407231"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668256734,"creation_date":1668256734,"answer_id":74412998,"question_id":67220022,"body_markdown":"Please create the following &lt;code&gt;ControllerAdvice&lt;/code&gt; with the corresponding &lt;code&gt;ExceptionHandler&lt;/code&gt;. Should be something like this:\r\n\r\n    @ControllerAdvice\r\n    public class RestResponseEntityExceptionHandler extends ResponseEntityExceptionHandler {\r\n        @ResponseStatus(HttpStatus.BAD_REQUEST)\r\n        @ExceptionHandler(MethodArgumentNotValidException.class)\r\n        public Map&lt;String, String&gt; handleValidationExceptions(MethodArgumentNotValidException ex) {\r\n            Map&lt;String, String&gt; errors = new HashMap&lt;&gt;();\r\n            ex.getBindingResult().getAllErrors().forEach((error) -&gt; {\r\n                String fieldName = ((FieldError) error).getField();\r\n                String errorMessage = error.getDefaultMessage();\r\n                errors.put(fieldName, errorMessage);\r\n            });\r\n            return errors;\r\n        }\r\n    }\r\n\r\nIn the recent Spring Boot versions, the sending of error messages was disabled, and now needs to be manually implemented like shown above.\r\n\r\nReference: https://www.baeldung.com/spring-boot-bean-validation#the-exceptionhandler-annotation","title":"Spring Boot validation message not shown","body":"<p>Please create the following <code>ControllerAdvice</code> with the corresponding <code>ExceptionHandler</code>. Should be something like this:</p>\n<pre><code>@ControllerAdvice\npublic class RestResponseEntityExceptionHandler extends ResponseEntityExceptionHandler {\n    @ResponseStatus(HttpStatus.BAD_REQUEST)\n    @ExceptionHandler(MethodArgumentNotValidException.class)\n    public Map&lt;String, String&gt; handleValidationExceptions(MethodArgumentNotValidException ex) {\n        Map&lt;String, String&gt; errors = new HashMap&lt;&gt;();\n        ex.getBindingResult().getAllErrors().forEach((error) -&gt; {\n            String fieldName = ((FieldError) error).getField();\n            String errorMessage = error.getDefaultMessage();\n            errors.put(fieldName, errorMessage);\n        });\n        return errors;\n    }\n}\n</code></pre>\n<p>In the recent Spring Boot versions, the sending of error messages was disabled, and now needs to be manually implemented like shown above.</p>\n<p>Reference: <a href=\"https://www.baeldung.com/spring-boot-bean-validation#the-exceptionhandler-annotation\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-boot-bean-validation#the-exceptionhandler-annotation</a></p>\n"},{"tags":[],"owner":{"account_id":2294145,"reputation":1272,"user_id":2016070,"accept_rate":0,"display_name":"Bilal"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676392506,"creation_date":1676392506,"answer_id":75450738,"question_id":67220022,"body_markdown":"Please here you can find an optimised solution :\r\n\r\n    @ControllerAdvice\r\n    public class ControllerAdvisor extends ResponseEntityExceptionHandler {\r\n        @Override\r\n        protected ResponseEntity&lt;Object&gt; handleMethodArgumentNotValid(MethodArgumentNotValidException ex, HttpHeaders headers, HttpStatus status, WebRequest request) {\r\n    \r\n            var errors = new HashMap&lt;&gt;();\r\n            for (var err : ex.getBindingResult().getAllErrors()) \r\n                errors.put(((FieldError) err).getField(), err.getDefaultMessage());\r\n            \r\n    \r\n            return this.handleExceptionInternal(ex, errors, headers, status, request);\r\n        }\r\n    }","title":"Spring Boot validation message not shown","body":"<p>Please here you can find an optimised solution :</p>\n<pre><code>@ControllerAdvice\npublic class ControllerAdvisor extends ResponseEntityExceptionHandler {\n    @Override\n    protected ResponseEntity&lt;Object&gt; handleMethodArgumentNotValid(MethodArgumentNotValidException ex, HttpHeaders headers, HttpStatus status, WebRequest request) {\n\n        var errors = new HashMap&lt;&gt;();\n        for (var err : ex.getBindingResult().getAllErrors()) \n            errors.put(((FieldError) err).getField(), err.getDefaultMessage());\n        \n\n        return this.handleExceptionInternal(ex, errors, headers, status, request);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":20231162,"reputation":211,"user_id":14837661,"display_name":"Yunz"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9648,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":4,"score":6,"last_activity_date":1676392506,"creation_date":1619121770,"question_id":67220022,"body_markdown":"I have a Spring Boot application (with version 2.4.5) as a Kotlin project. Now when I enter something invalid, I get an error message, but not my error message that I set in the annotation.\r\n\r\n\r\nController\r\n```\r\n  @PostMapping(value = [&quot;/seatMap/save&quot;])\r\n    fun addSeatPlan(@RequestPart @Valid data: DSeatMap, @RequestPart image: MultipartFile?, auth: AuthenticationToken) {\r\n        try {\r\n            if (data.uuid == null) {\r\n                seatService.addSeatMap(auth.organisation!!, data, image)\r\n            } else {\r\n                seatService.updateSeatMap(data, auth.organisation!!, image)\r\n            }\r\n        } catch (e: UnauthorizedException) {\r\n            throw e\r\n        }\r\n    }\r\n```\r\nData class\r\n```\r\nimport java.util.*\r\nimport javax.validation.constraints.NotEmpty\r\n\r\ndata class DSeatMap(\r\n    var uuid: UUID?,\r\n    @field:NotEmpty(message = &quot;name is empty&quot;)\r\n    val name: String,\r\n    var data: String,\r\n    val quantity: Int,\r\n    var settings: DSettings?\r\n)\r\n\r\n```\r\nMy Response, here should be message = &quot;name is empty&quot;\r\n```\r\n{\r\n  &quot;timestamp&quot;: &quot;2021-04-22T19:47:08.194+00:00&quot;,\r\n  &quot;status&quot;: 400,\r\n  &quot;error&quot;: &quot;Bad Request&quot;,\r\n  &quot;message&quot;: &quot;Validation failed for object=&#39;data&#39;. Error count: 1&quot;,\r\n}\r\n```\r\nIf I set the property it shows me the correct one but I don&#39;t want to have all the side information I only want to output the message\r\n```\r\nserver.error.include-binding-errors=always\r\n```\r\nResult:\r\n```\r\n{\r\n  &quot;timestamp&quot;: &quot;2021-04-22T19:56:30.058+00:00&quot;,\r\n  &quot;status&quot;: 400,\r\n  &quot;error&quot;: &quot;Bad Request&quot;,\r\n  &quot;message&quot;: &quot;Validation failed for object=&#39;data&#39;. Error count: 1&quot;,\r\n  &quot;errors&quot;: [\r\n    {\r\n      &quot;codes&quot;: [\r\n        &quot;NotEmpty.data.name&quot;,\r\n        &quot;NotEmpty.name&quot;,\r\n        &quot;NotEmpty.java.lang.String&quot;,\r\n        &quot;NotEmpty&quot;\r\n      ],\r\n      &quot;arguments&quot;: [\r\n        {\r\n          &quot;codes&quot;: [\r\n            &quot;data.name&quot;,\r\n            &quot;name&quot;\r\n          ],\r\n          &quot;arguments&quot;: null,\r\n          &quot;defaultMessage&quot;: &quot;name&quot;,\r\n          &quot;code&quot;: &quot;name&quot;\r\n        }\r\n      ],\r\n      &quot;defaultMessage&quot;: &quot;name is empty&quot;,\r\n      &quot;objectName&quot;: &quot;data&quot;,\r\n      &quot;field&quot;: &quot;name&quot;,\r\n      &quot;rejectedValue&quot;: &quot;&quot;,\r\n      &quot;bindingFailure&quot;: false,\r\n      &quot;code&quot;: &quot;NotEmpty&quot;\r\n    }\r\n  ],\r\n  &quot;path&quot;: &quot;/api/dashboard/seatMap/save&quot;\r\n}\r\n```\r\n\r\n","title":"Spring Boot validation message not shown","body":"<p>I have a Spring Boot application (with version 2.4.5) as a Kotlin project. Now when I enter something invalid, I get an error message, but not my error message that I set in the annotation.</p>\n<p>Controller</p>\n<pre><code>  @PostMapping(value = [&quot;/seatMap/save&quot;])\n    fun addSeatPlan(@RequestPart @Valid data: DSeatMap, @RequestPart image: MultipartFile?, auth: AuthenticationToken) {\n        try {\n            if (data.uuid == null) {\n                seatService.addSeatMap(auth.organisation!!, data, image)\n            } else {\n                seatService.updateSeatMap(data, auth.organisation!!, image)\n            }\n        } catch (e: UnauthorizedException) {\n            throw e\n        }\n    }\n</code></pre>\n<p>Data class</p>\n<pre><code>import java.util.*\nimport javax.validation.constraints.NotEmpty\n\ndata class DSeatMap(\n    var uuid: UUID?,\n    @field:NotEmpty(message = &quot;name is empty&quot;)\n    val name: String,\n    var data: String,\n    val quantity: Int,\n    var settings: DSettings?\n)\n\n</code></pre>\n<p>My Response, here should be message = &quot;name is empty&quot;</p>\n<pre><code>{\n  &quot;timestamp&quot;: &quot;2021-04-22T19:47:08.194+00:00&quot;,\n  &quot;status&quot;: 400,\n  &quot;error&quot;: &quot;Bad Request&quot;,\n  &quot;message&quot;: &quot;Validation failed for object='data'. Error count: 1&quot;,\n}\n</code></pre>\n<p>If I set the property it shows me the correct one but I don't want to have all the side information I only want to output the message</p>\n<pre><code>server.error.include-binding-errors=always\n</code></pre>\n<p>Result:</p>\n<pre><code>{\n  &quot;timestamp&quot;: &quot;2021-04-22T19:56:30.058+00:00&quot;,\n  &quot;status&quot;: 400,\n  &quot;error&quot;: &quot;Bad Request&quot;,\n  &quot;message&quot;: &quot;Validation failed for object='data'. Error count: 1&quot;,\n  &quot;errors&quot;: [\n    {\n      &quot;codes&quot;: [\n        &quot;NotEmpty.data.name&quot;,\n        &quot;NotEmpty.name&quot;,\n        &quot;NotEmpty.java.lang.String&quot;,\n        &quot;NotEmpty&quot;\n      ],\n      &quot;arguments&quot;: [\n        {\n          &quot;codes&quot;: [\n            &quot;data.name&quot;,\n            &quot;name&quot;\n          ],\n          &quot;arguments&quot;: null,\n          &quot;defaultMessage&quot;: &quot;name&quot;,\n          &quot;code&quot;: &quot;name&quot;\n        }\n      ],\n      &quot;defaultMessage&quot;: &quot;name is empty&quot;,\n      &quot;objectName&quot;: &quot;data&quot;,\n      &quot;field&quot;: &quot;name&quot;,\n      &quot;rejectedValue&quot;: &quot;&quot;,\n      &quot;bindingFailure&quot;: false,\n      &quot;code&quot;: &quot;NotEmpty&quot;\n    }\n  ],\n  &quot;path&quot;: &quot;/api/dashboard/seatMap/save&quot;\n}\n</code></pre>\n"},{"tags":["java","javafx","richtextfx"],"comments":[{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":0,"creation_date":1652796442,"post_id":72204764,"comment_id":127689726,"body_markdown":"I think your event is going to have the information. You can probably get the location that started it, and find that location in your document. Did you try, `var kids = textArea.getChildren();` to get the list of children, then use `int dex = kids.indexOf(text);` and `kids.set(dex, modifiedText);`","body":"I think your event is going to have the information. You can probably get the location that started it, and find that location in your document. Did you try, <code>var kids = textArea.getChildren();</code> to get the list of children, then use <code>int dex = kids.indexOf(text);</code> and <code>kids.set(dex, modifiedText);</code>"},{"owner":{"account_id":12824901,"reputation":1708,"user_id":9278333,"display_name":"trilogy"},"score":0,"creation_date":1652796757,"post_id":72204764,"comment_id":127689869,"body_markdown":"@matt `getChildren()` has protected access , but they do have a `getChildrenUnmodifiable()` but unfortunetly the `indexOf` didn&#39;t work...","body":"@matt <code>getChildren()</code> has protected access , but they do have a <code>getChildrenUnmodifiable()</code> but unfortunetly the <code>indexOf</code> didn&#39;t work..."},{"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"score":0,"creation_date":1652840353,"post_id":72204764,"comment_id":127701444,"body_markdown":"How does your `module-info.java` file look? I can seem to get the code to run because I am missing something in there.","body":"How does your <code>module-info.java</code> file look? I can seem to get the code to run because I am missing something in there."},{"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"score":0,"creation_date":1652840755,"post_id":72204764,"comment_id":127701504,"body_markdown":"Okay. After triple checking, I noticed I was missing `requires reactfx;`","body":"Okay. After triple checking, I noticed I was missing <code>requires reactfx;</code>"},{"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"score":0,"creation_date":1652842598,"post_id":72204764,"comment_id":127701801,"body_markdown":"Here is something that can probably help. It gets you in the right direction for the first word. I can&#39;t see a loop where it handles the other words. Maybe I need fresh eyes. `System.out.println(&quot;begin: &quot; + textArea.getText().indexOf(text.getText()));\n                            textArea.replaceText(textArea.getText().indexOf(text.getText()), text.getText().length(), word);`","body":"Here is something that can probably help. It gets you in the right direction for the first word. I can&#39;t see a loop where it handles the other words. Maybe I need fresh eyes. <code>System.out.println(&quot;begin: &quot; + textArea.getText().indexOf(text.getText()));                             textArea.replaceText(textArea.getText().indexOf(text.getText&zwnj;&#8203;()), text.getText().length(), word);</code>"},{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":0,"creation_date":1652858575,"post_id":72204764,"comment_id":127705212,"body_markdown":"Are you sure your ` event.getTarget();` is only a Text? Maybe it&#39;s a Span or Styled component. They have a position.","body":"Are you sure your ` event.getTarget();` is only a Text? Maybe it&#39;s a Span or Styled component. They have a position."},{"owner":{"account_id":12824901,"reputation":1708,"user_id":9278333,"display_name":"trilogy"},"score":0,"creation_date":1652874274,"post_id":72204764,"comment_id":127711121,"body_markdown":"@matt it’s a Text for sure, even used an “instanceof”","body":"@matt it’s a Text for sure, even used an “instanceof”"},{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":0,"creation_date":1652874764,"post_id":72204764,"comment_id":127711287,"body_markdown":"@trilogy Right it is a Text, but it could also be something else. Something that retains the information of where it is at in the document.","body":"@trilogy Right it is a Text, but it could also be something else. Something that retains the information of where it is at in the document."}],"answers":[{"tags":[],"owner":{"account_id":12824901,"reputation":1708,"user_id":9278333,"display_name":"trilogy"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1676392349,"creation_date":1652879089,"answer_id":72289785,"question_id":72204764,"body_markdown":"I found out how. By using the caret position, I can select a word and replace it. The problem is, right clicking didn&#39;t move the caret. So in order to move the caret, you add a listener.\r\n\r\n    textArea.setOnMouseClicked((MouseEvent mouseEvent) -&gt;\r\n    {\r\n        if (mouseEvent.getButton().equals(MouseButton.SECONDARY))\r\n        {\r\n            if (mouseEvent.getClickCount() == 1)\r\n            {\r\n                CharacterHit hit = textArea.hit(mouseEvent.getX(), mouseEvent.getY());\r\n                int characterPosition = hit.getInsertionIndex();\r\n\r\n                // move the caret to that character&#39;s position\r\n                textArea.moveTo(characterPosition, SelectionPolicy.CLEAR);\r\n            }\r\n        }\r\n    });\r\n\r\nEdit 1:\r\n\r\nAdded indexing and concurrency for performance purposes. Context menu is now instantaneous. \r\n\r\nEdit 2:\r\n\r\nFixed macOS issue with context menu\r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\nFull code:\r\n\r\n    import java.io.BufferedReader;\r\n    import java.io.IOException;\r\n    import java.io.InputStream;\r\n    import java.io.InputStreamReader;\r\n    import java.text.BreakIterator;\r\n    import java.util.ArrayList;\r\n    import java.util.Collection;\r\n    import java.util.Collections;\r\n    import java.util.Comparator;\r\n    import java.util.List;\r\n    import java.util.Map;\r\n    import java.util.Set;\r\n    import java.util.concurrent.ConcurrentHashMap;\r\n    import java.util.logging.Level;\r\n    import java.util.logging.Logger;\r\n    import javafx.animation.PauseTransition;\r\n    \r\n    import org.fxmisc.flowless.VirtualizedScrollPane;\r\n    import org.fxmisc.richtext.StyleClassedTextArea;\r\n    import org.fxmisc.richtext.model.StyleSpans;\r\n    import org.fxmisc.richtext.model.StyleSpansBuilder;\r\n    \r\n    import javafx.application.Application;\r\n    import javafx.concurrent.Task;\r\n    import javafx.event.ActionEvent;\r\n    import javafx.scene.Node;\r\n    import javafx.scene.Scene;\r\n    import javafx.scene.control.ContextMenu;\r\n    import javafx.scene.control.MenuItem;\r\n    import javafx.scene.control.SeparatorMenuItem;\r\n    import javafx.scene.input.Clipboard;\r\n    import javafx.scene.input.ClipboardContent;\r\n    import javafx.scene.input.MouseButton;\r\n    import javafx.scene.input.MouseEvent;\r\n    import javafx.scene.layout.StackPane;\r\n    import javafx.scene.text.Text;\r\n    import javafx.stage.Stage;\r\n    import javafx.util.Duration;\r\n    import org.apache.commons.lang3.CharUtils;\r\n    import org.apache.commons.lang3.StringUtils;\r\n    import org.apache.commons.lang3.math.NumberUtils;\r\n    import org.apache.commons.text.WordUtils;\r\n    import org.apache.commons.text.similarity.JaroWinklerSimilarity;\r\n    import org.fxmisc.richtext.CharacterHit;\r\n    import org.fxmisc.richtext.NavigationActions.SelectionPolicy;\r\n    \r\n    public class SpellCheckingDemo extends Application\r\n    {\r\n    \r\n        private static final int NUMBER_OF_SUGGESTIONS = 5;\r\n        private static final Set&lt;String&gt; DICTIONARY = ConcurrentHashMap.newKeySet();\r\n        private static final Map&lt;String, List&lt;String&gt;&gt; SUGGESTIONS = new ConcurrentHashMap&lt;&gt;();\r\n    \r\n        public static void main(String[] args)\r\n        {\r\n            launch(args);\r\n    \r\n        }\r\n    \r\n        @Override\r\n        public void start(Stage primaryStage)\r\n        {\r\n            StyleClassedTextArea textArea = new StyleClassedTextArea();\r\n            textArea.setWrapText(true);\r\n            textArea.requestFollowCaret();\r\n            //wait a bit before typing has stopped to compute the highlighting\r\n            PauseTransition textAreaDelay = new PauseTransition(Duration.millis(250));\r\n    \r\n            textArea.textProperty().addListener((observable, oldValue, newValue) -&gt;\r\n            {\r\n                textAreaDelay.setOnFinished(event -&gt;\r\n                {\r\n                    textArea.setStyleSpans(0, computeHighlighting(textArea.getText()));\r\n    \r\n                    //have a new thread index all incorrect words, and pre-populate suggestions\r\n                    Task task = new Task&lt;Void&gt;()\r\n                    {\r\n    \r\n                        @Override\r\n                        public Void call()\r\n                        {\r\n                            //iterating over entire list is ok because after the first time, it will hit the index anyway\r\n                            for (String word : SpellCheckingDemo.SUGGESTIONS.keySet())\r\n                            {\r\n                                SpellCheckingDemo.getClosestWords(word);\r\n                                SpellCheckingDemo.getClosestWords(StringUtils.trim(word));\r\n    \r\n                            }\r\n    \r\n                            return null;\r\n                        }\r\n                    };\r\n                    new Thread(task).start();\r\n                });\r\n                textAreaDelay.playFromStart();\r\n            });\r\n    \r\n            textArea.setOnMouseClicked((MouseEvent mouseEvent) -&gt;\r\n            {\r\n                if (mouseEvent.getButton().equals(MouseButton.SECONDARY))\r\n                {\r\n                    if (mouseEvent.getClickCount() == 1)\r\n                    {\r\n                        CharacterHit hit = textArea.hit(mouseEvent.getX(), mouseEvent.getY());\r\n                        int characterPosition = hit.getInsertionIndex();\r\n    \r\n                        // move the caret to that character&#39;s position\r\n                        if (StringUtils.isEmpty(textArea.getSelectedText()))\r\n                        {\r\n                            textArea.moveTo(characterPosition, SelectionPolicy.CLEAR);\r\n    \r\n                        }\r\n    \r\n                        if (mouseEvent.getTarget() instanceof Text &amp;&amp; StringUtils.isEmpty(textArea.getSelectedText()))\r\n                        {\r\n    \r\n                            textArea.selectWord();\r\n    \r\n                            //When selecting right next to puncuation and spaces, the replacements elimantes these values. This avoids the issue by moving the caret towards the middle\r\n                            if (!StringUtils.isEmpty(textArea.getSelectedText()) &amp;&amp; !CharUtils.isAsciiAlphanumeric(textArea.getSelectedText().charAt(textArea.getSelectedText().length() - 1)))\r\n                            {\r\n                                textArea.moveTo(textArea.getCaretPosition() - 2);\r\n                                textArea.selectWord();\r\n    \r\n                            }\r\n    \r\n                            String referenceWord = textArea.getSelectedText();\r\n    \r\n                            textArea.deselect();\r\n    \r\n                            if (!NumberUtils.isParsable(referenceWord) &amp;&amp; !DICTIONARY.contains(StringUtils.trim(StringUtils.lowerCase(referenceWord))))\r\n                            {\r\n                                ContextMenu context = new ContextMenu();\r\n    \r\n                                for (String word : SpellCheckingDemo.getClosestWords(referenceWord))\r\n                                {\r\n    \r\n                                    MenuItem item = new MenuItem(word);\r\n                                    item.setOnAction((ActionEvent a) -&gt;\r\n                                    {\r\n    \r\n                                        textArea.selectWord();\r\n                                        textArea.replaceSelection(word);\r\n                                        textArea.deselect();\r\n    \r\n                                    });\r\n                                    context.getItems().add(item);\r\n    \r\n                                }\r\n    \r\n                                if (!context.getItems().isEmpty())\r\n                                {\r\n                                    textArea.moveTo(textArea.getCaretPosition() - 1);\r\n    \r\n                                    context.show((Node) mouseEvent.getTarget(), mouseEvent.getScreenX(), mouseEvent.getScreenY());\r\n                                    ((Node) mouseEvent.getTarget()).addEventHandler(MouseEvent.MOUSE_PRESSED, event -&gt; context.hide());\r\n    \r\n                                } else\r\n                                {\r\n                                    ContextMenu copyPasteMenu = getCopyPasteMenu(textArea);\r\n                                    copyPasteMenu.show((Node) mouseEvent.getTarget(), mouseEvent.getScreenX(), mouseEvent.getScreenY());\r\n                                    ((Node) mouseEvent.getTarget()).addEventHandler(MouseEvent.MOUSE_PRESSED, event -&gt; copyPasteMenu.hide());\r\n    \r\n                                }\r\n                            } else\r\n                            {\r\n                                ContextMenu copyPasteMenu = getCopyPasteMenu(textArea);\r\n                                copyPasteMenu.show((Node) mouseEvent.getTarget(), mouseEvent.getScreenX(), mouseEvent.getScreenY());\r\n                                ((Node) mouseEvent.getTarget()).addEventHandler(MouseEvent.MOUSE_PRESSED, event -&gt; copyPasteMenu.hide());\r\n    \r\n                            }\r\n    \r\n                        } else\r\n                        {\r\n                            ContextMenu copyPasteMenu = getCopyPasteMenu(textArea);\r\n                            copyPasteMenu.show((Node) mouseEvent.getTarget(), mouseEvent.getScreenX(), mouseEvent.getScreenY());\r\n                            ((Node) mouseEvent.getTarget()).addEventHandler(MouseEvent.MOUSE_PRESSED, event -&gt; copyPasteMenu.hide());\r\n    \r\n                        }\r\n                    }\r\n                }\r\n            });\r\n    \r\n            // load the dictionary\r\n            try (InputStream input = SpellCheckingDemo.class.getResourceAsStream(&quot;/spellchecking.dict&quot;);\r\n                    BufferedReader br = new BufferedReader(new InputStreamReader(input)))\r\n            {\r\n                String line;\r\n                while ((line = br.readLine()) != null)\r\n                {\r\n                    DICTIONARY.add(line);\r\n                }\r\n            } catch (IOException ex)\r\n            {\r\n                Logger.getLogger(SpellCheckingDemo.class.getName()).log(Level.SEVERE, null, ex);\r\n            }\r\n    \r\n            // load the sample document\r\n            InputStream input2 = SpellCheckingDemo.class.getResourceAsStream(&quot;/spellchecking.txt&quot;);\r\n            try (java.util.Scanner s = new java.util.Scanner(input2))\r\n            {\r\n                String document = s.useDelimiter(&quot;\\\\A&quot;).hasNext() ? s.next() : &quot;&quot;;\r\n                textArea.replaceText(0, 0, document);\r\n            }\r\n    \r\n            Scene scene = new Scene(new StackPane(new VirtualizedScrollPane&lt;&gt;(textArea)), 600, 400);\r\n            scene.getStylesheets().add(SpellCheckingDemo.class.getResource(&quot;/spellchecking.css&quot;).toExternalForm());\r\n            primaryStage.setScene(scene);\r\n            primaryStage.setTitle(&quot;Spell Checking Demo&quot;);\r\n            primaryStage.show();\r\n        }\r\n    \r\n        private static StyleSpans&lt;Collection&lt;String&gt;&gt; computeHighlighting(String text)\r\n        {\r\n    \r\n            StyleSpansBuilder&lt;Collection&lt;String&gt;&gt; spansBuilder = new StyleSpansBuilder&lt;&gt;();\r\n    \r\n            BreakIterator wb = BreakIterator.getWordInstance();\r\n            wb.setText(text);\r\n    \r\n            int lastIndex = wb.first();\r\n            int lastKwEnd = 0;\r\n            while (lastIndex != BreakIterator.DONE)\r\n            {\r\n                int firstIndex = lastIndex;\r\n                lastIndex = wb.next();\r\n    \r\n                if (lastIndex != BreakIterator.DONE &amp;&amp; Character.isLetterOrDigit(text.charAt(firstIndex)))\r\n                {\r\n                    String word = text.substring(firstIndex, lastIndex);\r\n    \r\n                    if (!NumberUtils.isParsable(word) &amp;&amp; !DICTIONARY.contains(StringUtils.lowerCase(word)))\r\n                    {\r\n                        spansBuilder.add(Collections.emptyList(), firstIndex - lastKwEnd);\r\n                        spansBuilder.add(Collections.singleton(&quot;underlined&quot;), lastIndex - firstIndex);\r\n                        lastKwEnd = lastIndex;\r\n                        SpellCheckingDemo.SUGGESTIONS.putIfAbsent(word, Collections.emptyList());\r\n                    }\r\n                    //System.err.println();\r\n                }\r\n            }\r\n            spansBuilder.add(Collections.emptyList(), text.length() - lastKwEnd);\r\n    \r\n            return spansBuilder.create();\r\n        }\r\n    \r\n        public static List&lt;String&gt; getClosestWords(String word)\r\n        {\r\n    \r\n            //check to see if an suggestions for this word have already been indexed\r\n            if (SpellCheckingDemo.SUGGESTIONS.containsKey(word) &amp;&amp; !SpellCheckingDemo.SUGGESTIONS.get(word).isEmpty())\r\n            {\r\n                return SpellCheckingDemo.SUGGESTIONS.get(word);\r\n            }\r\n    \r\n            List&lt;StringDistancePair&gt; allWordDistances = new ArrayList&lt;&gt;(DICTIONARY.size());\r\n    \r\n            String lowerCaseWord = StringUtils.lowerCase(word);\r\n            JaroWinklerSimilarity jaroWinklerAlgorithm = new JaroWinklerSimilarity();\r\n            for (String checkWord : DICTIONARY)\r\n            {\r\n                allWordDistances.add(new StringDistancePair(jaroWinklerAlgorithm.apply(lowerCaseWord, checkWord), checkWord));\r\n    \r\n            }\r\n    \r\n            allWordDistances.sort(Comparator.comparingDouble(StringDistancePair::getDistance));\r\n    \r\n            List&lt;String&gt; closestWords = new ArrayList&lt;&gt;(NUMBER_OF_SUGGESTIONS);\r\n    \r\n            System.out.println(word);\r\n            for (StringDistancePair pair : allWordDistances.subList(allWordDistances.size() - NUMBER_OF_SUGGESTIONS, allWordDistances.size()))\r\n            {\r\n                // 0 is not a match at all, so no point adding to list\r\n                if (pair.getDistance() == 0.0)\r\n                {\r\n                    continue;\r\n                }\r\n                String addWord;\r\n                if (StringUtils.isAllUpperCase(word))\r\n                {\r\n                    addWord = StringUtils.upperCase(pair.getWord());\r\n                } else if (CharUtils.isAsciiAlphaUpper(word.charAt(0)))\r\n                {\r\n                    addWord = WordUtils.capitalize(pair.getWord());\r\n                } else\r\n                {\r\n                    addWord = StringUtils.lowerCase(pair.getWord());\r\n                }\r\n                System.out.println(pair);\r\n                closestWords.add(addWord);\r\n            }\r\n            System.out.println();\r\n            Collections.reverse(closestWords);\r\n    \r\n            //add the suggestion list to index to allow future pulls\r\n            SpellCheckingDemo.SUGGESTIONS.put(word, closestWords);\r\n    \r\n            return closestWords;\r\n    \r\n        }\r\n    \r\n        public static ContextMenu getCopyPasteMenu(StyleClassedTextArea textArea)\r\n        {\r\n            ContextMenu context = new ContextMenu();\r\n            MenuItem cutItem = new MenuItem(&quot;Cut&quot;);\r\n            cutItem.setOnAction((ActionEvent a) -&gt;\r\n            {\r\n    \r\n                Clipboard clipboard = Clipboard.getSystemClipboard();\r\n                ClipboardContent content = new ClipboardContent();\r\n                content.putString(textArea.getSelectedText());\r\n                clipboard.setContent(content);\r\n                textArea.replaceSelection(&quot;&quot;);\r\n    \r\n            });\r\n    \r\n            context.getItems().add(cutItem);\r\n    \r\n            MenuItem copyItem = new MenuItem(&quot;Copy&quot;);\r\n            copyItem.setOnAction((ActionEvent a) -&gt;\r\n            {\r\n    \r\n                Clipboard clipboard = Clipboard.getSystemClipboard();\r\n                ClipboardContent content = new ClipboardContent();\r\n                content.putString(textArea.getSelectedText());\r\n                clipboard.setContent(content);\r\n    \r\n            });\r\n    \r\n            context.getItems().add(copyItem);\r\n    \r\n            MenuItem pasteItem = new MenuItem(&quot;Paste&quot;);\r\n            pasteItem.setOnAction((ActionEvent a) -&gt;\r\n            {\r\n    \r\n                Clipboard clipboard = Clipboard.getSystemClipboard();\r\n                if (!StringUtils.isEmpty(textArea.getSelectedText()))\r\n                {\r\n                    textArea.replaceSelection(clipboard.getString());\r\n                } else\r\n                {\r\n                    textArea.insertText(textArea.getCaretPosition(), clipboard.getString());\r\n                }\r\n            });\r\n            context.getItems().add(pasteItem);\r\n            context.getItems().add(new SeparatorMenuItem());\r\n    \r\n            MenuItem selectAllItem = new MenuItem(&quot;Select All&quot;);\r\n            selectAllItem.setOnAction((ActionEvent a) -&gt;\r\n            {\r\n    \r\n                textArea.selectAll();\r\n            });\r\n            context.getItems().add(selectAllItem);\r\n    \r\n            if (StringUtils.isEmpty(textArea.getSelectedText()))\r\n            {\r\n                cutItem.setDisable(true);\r\n                copyItem.setDisable(true);\r\n            }\r\n    \r\n            return context;\r\n        }\r\n    \r\n        private static class StringDistancePair\r\n        {\r\n    \r\n            private final double x;\r\n            private final String y;\r\n    \r\n            public StringDistancePair(double x, String y)\r\n            {\r\n                this.x = x;\r\n                this.y = y;\r\n            }\r\n    \r\n            public String getWord()\r\n            {\r\n                return y;\r\n            }\r\n    \r\n            public double getDistance()\r\n            {\r\n                return x;\r\n            }\r\n    \r\n            @Override\r\n            public String toString()\r\n            {\r\n                return StringUtils.join(String.valueOf(getDistance()), &quot; : &quot;, String.valueOf(getWord()));\r\n            }\r\n        }\r\n    }\r\n\r\nDownload the full English dictionary here:\r\nhttps://github.com/dwyl/english-words/blob/master/words_alpha.txt\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/kJu3E.gif\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"JavaFX Spell checker using RichTextFX how to create right click suggestions","body":"<p>I found out how. By using the caret position, I can select a word and replace it. The problem is, right clicking didn't move the caret. So in order to move the caret, you add a listener.</p>\n<pre><code>textArea.setOnMouseClicked((MouseEvent mouseEvent) -&gt;\n{\n    if (mouseEvent.getButton().equals(MouseButton.SECONDARY))\n    {\n        if (mouseEvent.getClickCount() == 1)\n        {\n            CharacterHit hit = textArea.hit(mouseEvent.getX(), mouseEvent.getY());\n            int characterPosition = hit.getInsertionIndex();\n\n            // move the caret to that character's position\n            textArea.moveTo(characterPosition, SelectionPolicy.CLEAR);\n        }\n    }\n});\n</code></pre>\n<p>Edit 1:</p>\n<p>Added indexing and concurrency for performance purposes. Context menu is now instantaneous.</p>\n<p>Edit 2:</p>\n<p>Fixed macOS issue with context menu</p>\n<p><a href=\"https://i.stack.imgur.com/kJu3E.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/kJu3E.gif\" alt=\"enter image description here\" /></a></p>\n<p>Full code:</p>\n<pre><code>import java.io.BufferedReader;\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.io.InputStreamReader;\nimport java.text.BreakIterator;\nimport java.util.ArrayList;\nimport java.util.Collection;\nimport java.util.Collections;\nimport java.util.Comparator;\nimport java.util.List;\nimport java.util.Map;\nimport java.util.Set;\nimport java.util.concurrent.ConcurrentHashMap;\nimport java.util.logging.Level;\nimport java.util.logging.Logger;\nimport javafx.animation.PauseTransition;\n\nimport org.fxmisc.flowless.VirtualizedScrollPane;\nimport org.fxmisc.richtext.StyleClassedTextArea;\nimport org.fxmisc.richtext.model.StyleSpans;\nimport org.fxmisc.richtext.model.StyleSpansBuilder;\n\nimport javafx.application.Application;\nimport javafx.concurrent.Task;\nimport javafx.event.ActionEvent;\nimport javafx.scene.Node;\nimport javafx.scene.Scene;\nimport javafx.scene.control.ContextMenu;\nimport javafx.scene.control.MenuItem;\nimport javafx.scene.control.SeparatorMenuItem;\nimport javafx.scene.input.Clipboard;\nimport javafx.scene.input.ClipboardContent;\nimport javafx.scene.input.MouseButton;\nimport javafx.scene.input.MouseEvent;\nimport javafx.scene.layout.StackPane;\nimport javafx.scene.text.Text;\nimport javafx.stage.Stage;\nimport javafx.util.Duration;\nimport org.apache.commons.lang3.CharUtils;\nimport org.apache.commons.lang3.StringUtils;\nimport org.apache.commons.lang3.math.NumberUtils;\nimport org.apache.commons.text.WordUtils;\nimport org.apache.commons.text.similarity.JaroWinklerSimilarity;\nimport org.fxmisc.richtext.CharacterHit;\nimport org.fxmisc.richtext.NavigationActions.SelectionPolicy;\n\npublic class SpellCheckingDemo extends Application\n{\n\n    private static final int NUMBER_OF_SUGGESTIONS = 5;\n    private static final Set&lt;String&gt; DICTIONARY = ConcurrentHashMap.newKeySet();\n    private static final Map&lt;String, List&lt;String&gt;&gt; SUGGESTIONS = new ConcurrentHashMap&lt;&gt;();\n\n    public static void main(String[] args)\n    {\n        launch(args);\n\n    }\n\n    @Override\n    public void start(Stage primaryStage)\n    {\n        StyleClassedTextArea textArea = new StyleClassedTextArea();\n        textArea.setWrapText(true);\n        textArea.requestFollowCaret();\n        //wait a bit before typing has stopped to compute the highlighting\n        PauseTransition textAreaDelay = new PauseTransition(Duration.millis(250));\n\n        textArea.textProperty().addListener((observable, oldValue, newValue) -&gt;\n        {\n            textAreaDelay.setOnFinished(event -&gt;\n            {\n                textArea.setStyleSpans(0, computeHighlighting(textArea.getText()));\n\n                //have a new thread index all incorrect words, and pre-populate suggestions\n                Task task = new Task&lt;Void&gt;()\n                {\n\n                    @Override\n                    public Void call()\n                    {\n                        //iterating over entire list is ok because after the first time, it will hit the index anyway\n                        for (String word : SpellCheckingDemo.SUGGESTIONS.keySet())\n                        {\n                            SpellCheckingDemo.getClosestWords(word);\n                            SpellCheckingDemo.getClosestWords(StringUtils.trim(word));\n\n                        }\n\n                        return null;\n                    }\n                };\n                new Thread(task).start();\n            });\n            textAreaDelay.playFromStart();\n        });\n\n        textArea.setOnMouseClicked((MouseEvent mouseEvent) -&gt;\n        {\n            if (mouseEvent.getButton().equals(MouseButton.SECONDARY))\n            {\n                if (mouseEvent.getClickCount() == 1)\n                {\n                    CharacterHit hit = textArea.hit(mouseEvent.getX(), mouseEvent.getY());\n                    int characterPosition = hit.getInsertionIndex();\n\n                    // move the caret to that character's position\n                    if (StringUtils.isEmpty(textArea.getSelectedText()))\n                    {\n                        textArea.moveTo(characterPosition, SelectionPolicy.CLEAR);\n\n                    }\n\n                    if (mouseEvent.getTarget() instanceof Text &amp;&amp; StringUtils.isEmpty(textArea.getSelectedText()))\n                    {\n\n                        textArea.selectWord();\n\n                        //When selecting right next to puncuation and spaces, the replacements elimantes these values. This avoids the issue by moving the caret towards the middle\n                        if (!StringUtils.isEmpty(textArea.getSelectedText()) &amp;&amp; !CharUtils.isAsciiAlphanumeric(textArea.getSelectedText().charAt(textArea.getSelectedText().length() - 1)))\n                        {\n                            textArea.moveTo(textArea.getCaretPosition() - 2);\n                            textArea.selectWord();\n\n                        }\n\n                        String referenceWord = textArea.getSelectedText();\n\n                        textArea.deselect();\n\n                        if (!NumberUtils.isParsable(referenceWord) &amp;&amp; !DICTIONARY.contains(StringUtils.trim(StringUtils.lowerCase(referenceWord))))\n                        {\n                            ContextMenu context = new ContextMenu();\n\n                            for (String word : SpellCheckingDemo.getClosestWords(referenceWord))\n                            {\n\n                                MenuItem item = new MenuItem(word);\n                                item.setOnAction((ActionEvent a) -&gt;\n                                {\n\n                                    textArea.selectWord();\n                                    textArea.replaceSelection(word);\n                                    textArea.deselect();\n\n                                });\n                                context.getItems().add(item);\n\n                            }\n\n                            if (!context.getItems().isEmpty())\n                            {\n                                textArea.moveTo(textArea.getCaretPosition() - 1);\n\n                                context.show((Node) mouseEvent.getTarget(), mouseEvent.getScreenX(), mouseEvent.getScreenY());\n                                ((Node) mouseEvent.getTarget()).addEventHandler(MouseEvent.MOUSE_PRESSED, event -&gt; context.hide());\n\n                            } else\n                            {\n                                ContextMenu copyPasteMenu = getCopyPasteMenu(textArea);\n                                copyPasteMenu.show((Node) mouseEvent.getTarget(), mouseEvent.getScreenX(), mouseEvent.getScreenY());\n                                ((Node) mouseEvent.getTarget()).addEventHandler(MouseEvent.MOUSE_PRESSED, event -&gt; copyPasteMenu.hide());\n\n                            }\n                        } else\n                        {\n                            ContextMenu copyPasteMenu = getCopyPasteMenu(textArea);\n                            copyPasteMenu.show((Node) mouseEvent.getTarget(), mouseEvent.getScreenX(), mouseEvent.getScreenY());\n                            ((Node) mouseEvent.getTarget()).addEventHandler(MouseEvent.MOUSE_PRESSED, event -&gt; copyPasteMenu.hide());\n\n                        }\n\n                    } else\n                    {\n                        ContextMenu copyPasteMenu = getCopyPasteMenu(textArea);\n                        copyPasteMenu.show((Node) mouseEvent.getTarget(), mouseEvent.getScreenX(), mouseEvent.getScreenY());\n                        ((Node) mouseEvent.getTarget()).addEventHandler(MouseEvent.MOUSE_PRESSED, event -&gt; copyPasteMenu.hide());\n\n                    }\n                }\n            }\n        });\n\n        // load the dictionary\n        try (InputStream input = SpellCheckingDemo.class.getResourceAsStream(&quot;/spellchecking.dict&quot;);\n                BufferedReader br = new BufferedReader(new InputStreamReader(input)))\n        {\n            String line;\n            while ((line = br.readLine()) != null)\n            {\n                DICTIONARY.add(line);\n            }\n        } catch (IOException ex)\n        {\n            Logger.getLogger(SpellCheckingDemo.class.getName()).log(Level.SEVERE, null, ex);\n        }\n\n        // load the sample document\n        InputStream input2 = SpellCheckingDemo.class.getResourceAsStream(&quot;/spellchecking.txt&quot;);\n        try (java.util.Scanner s = new java.util.Scanner(input2))\n        {\n            String document = s.useDelimiter(&quot;\\\\A&quot;).hasNext() ? s.next() : &quot;&quot;;\n            textArea.replaceText(0, 0, document);\n        }\n\n        Scene scene = new Scene(new StackPane(new VirtualizedScrollPane&lt;&gt;(textArea)), 600, 400);\n        scene.getStylesheets().add(SpellCheckingDemo.class.getResource(&quot;/spellchecking.css&quot;).toExternalForm());\n        primaryStage.setScene(scene);\n        primaryStage.setTitle(&quot;Spell Checking Demo&quot;);\n        primaryStage.show();\n    }\n\n    private static StyleSpans&lt;Collection&lt;String&gt;&gt; computeHighlighting(String text)\n    {\n\n        StyleSpansBuilder&lt;Collection&lt;String&gt;&gt; spansBuilder = new StyleSpansBuilder&lt;&gt;();\n\n        BreakIterator wb = BreakIterator.getWordInstance();\n        wb.setText(text);\n\n        int lastIndex = wb.first();\n        int lastKwEnd = 0;\n        while (lastIndex != BreakIterator.DONE)\n        {\n            int firstIndex = lastIndex;\n            lastIndex = wb.next();\n\n            if (lastIndex != BreakIterator.DONE &amp;&amp; Character.isLetterOrDigit(text.charAt(firstIndex)))\n            {\n                String word = text.substring(firstIndex, lastIndex);\n\n                if (!NumberUtils.isParsable(word) &amp;&amp; !DICTIONARY.contains(StringUtils.lowerCase(word)))\n                {\n                    spansBuilder.add(Collections.emptyList(), firstIndex - lastKwEnd);\n                    spansBuilder.add(Collections.singleton(&quot;underlined&quot;), lastIndex - firstIndex);\n                    lastKwEnd = lastIndex;\n                    SpellCheckingDemo.SUGGESTIONS.putIfAbsent(word, Collections.emptyList());\n                }\n                //System.err.println();\n            }\n        }\n        spansBuilder.add(Collections.emptyList(), text.length() - lastKwEnd);\n\n        return spansBuilder.create();\n    }\n\n    public static List&lt;String&gt; getClosestWords(String word)\n    {\n\n        //check to see if an suggestions for this word have already been indexed\n        if (SpellCheckingDemo.SUGGESTIONS.containsKey(word) &amp;&amp; !SpellCheckingDemo.SUGGESTIONS.get(word).isEmpty())\n        {\n            return SpellCheckingDemo.SUGGESTIONS.get(word);\n        }\n\n        List&lt;StringDistancePair&gt; allWordDistances = new ArrayList&lt;&gt;(DICTIONARY.size());\n\n        String lowerCaseWord = StringUtils.lowerCase(word);\n        JaroWinklerSimilarity jaroWinklerAlgorithm = new JaroWinklerSimilarity();\n        for (String checkWord : DICTIONARY)\n        {\n            allWordDistances.add(new StringDistancePair(jaroWinklerAlgorithm.apply(lowerCaseWord, checkWord), checkWord));\n\n        }\n\n        allWordDistances.sort(Comparator.comparingDouble(StringDistancePair::getDistance));\n\n        List&lt;String&gt; closestWords = new ArrayList&lt;&gt;(NUMBER_OF_SUGGESTIONS);\n\n        System.out.println(word);\n        for (StringDistancePair pair : allWordDistances.subList(allWordDistances.size() - NUMBER_OF_SUGGESTIONS, allWordDistances.size()))\n        {\n            // 0 is not a match at all, so no point adding to list\n            if (pair.getDistance() == 0.0)\n            {\n                continue;\n            }\n            String addWord;\n            if (StringUtils.isAllUpperCase(word))\n            {\n                addWord = StringUtils.upperCase(pair.getWord());\n            } else if (CharUtils.isAsciiAlphaUpper(word.charAt(0)))\n            {\n                addWord = WordUtils.capitalize(pair.getWord());\n            } else\n            {\n                addWord = StringUtils.lowerCase(pair.getWord());\n            }\n            System.out.println(pair);\n            closestWords.add(addWord);\n        }\n        System.out.println();\n        Collections.reverse(closestWords);\n\n        //add the suggestion list to index to allow future pulls\n        SpellCheckingDemo.SUGGESTIONS.put(word, closestWords);\n\n        return closestWords;\n\n    }\n\n    public static ContextMenu getCopyPasteMenu(StyleClassedTextArea textArea)\n    {\n        ContextMenu context = new ContextMenu();\n        MenuItem cutItem = new MenuItem(&quot;Cut&quot;);\n        cutItem.setOnAction((ActionEvent a) -&gt;\n        {\n\n            Clipboard clipboard = Clipboard.getSystemClipboard();\n            ClipboardContent content = new ClipboardContent();\n            content.putString(textArea.getSelectedText());\n            clipboard.setContent(content);\n            textArea.replaceSelection(&quot;&quot;);\n\n        });\n\n        context.getItems().add(cutItem);\n\n        MenuItem copyItem = new MenuItem(&quot;Copy&quot;);\n        copyItem.setOnAction((ActionEvent a) -&gt;\n        {\n\n            Clipboard clipboard = Clipboard.getSystemClipboard();\n            ClipboardContent content = new ClipboardContent();\n            content.putString(textArea.getSelectedText());\n            clipboard.setContent(content);\n\n        });\n\n        context.getItems().add(copyItem);\n\n        MenuItem pasteItem = new MenuItem(&quot;Paste&quot;);\n        pasteItem.setOnAction((ActionEvent a) -&gt;\n        {\n\n            Clipboard clipboard = Clipboard.getSystemClipboard();\n            if (!StringUtils.isEmpty(textArea.getSelectedText()))\n            {\n                textArea.replaceSelection(clipboard.getString());\n            } else\n            {\n                textArea.insertText(textArea.getCaretPosition(), clipboard.getString());\n            }\n        });\n        context.getItems().add(pasteItem);\n        context.getItems().add(new SeparatorMenuItem());\n\n        MenuItem selectAllItem = new MenuItem(&quot;Select All&quot;);\n        selectAllItem.setOnAction((ActionEvent a) -&gt;\n        {\n\n            textArea.selectAll();\n        });\n        context.getItems().add(selectAllItem);\n\n        if (StringUtils.isEmpty(textArea.getSelectedText()))\n        {\n            cutItem.setDisable(true);\n            copyItem.setDisable(true);\n        }\n\n        return context;\n    }\n\n    private static class StringDistancePair\n    {\n\n        private final double x;\n        private final String y;\n\n        public StringDistancePair(double x, String y)\n        {\n            this.x = x;\n            this.y = y;\n        }\n\n        public String getWord()\n        {\n            return y;\n        }\n\n        public double getDistance()\n        {\n            return x;\n        }\n\n        @Override\n        public String toString()\n        {\n            return StringUtils.join(String.valueOf(getDistance()), &quot; : &quot;, String.valueOf(getWord()));\n        }\n    }\n}\n</code></pre>\n<p>Download the full English dictionary here:\n<a href=\"https://github.com/dwyl/english-words/blob/master/words_alpha.txt\" rel=\"nofollow noreferrer\">https://github.com/dwyl/english-words/blob/master/words_alpha.txt</a></p>\n"}],"owner":{"account_id":12824901,"reputation":1708,"user_id":9278333,"display_name":"trilogy"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":671,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":72289785,"answer_count":1,"score":6,"last_activity_date":1676392349,"creation_date":1652287511,"question_id":72204764,"body_markdown":"I have a spell checker demo here, visually it  is exactly what I want (red underline for words that are not correct), but I&#39;m having trouble creating a right-click context menu to apply suggestions. \r\n\r\nI was able to get a context menu on the `Text` object, but I was not able to find the position of the text in the box to replace using the prediction.\r\n\r\n[![enter image description here][1]][1]\r\n\r\nHere is the code:\r\n\r\n**pom.xml**\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.fxmisc.richtext&lt;/groupId&gt;\r\n            &lt;artifactId&gt;richtextfx&lt;/artifactId&gt;\r\n            &lt;version&gt;0.10.6&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\r\n            &lt;artifactId&gt;commons-text&lt;/artifactId&gt;\r\n            &lt;version&gt;1.9&lt;/version&gt;\r\n            &lt;type&gt;jar&lt;/type&gt;\r\n        &lt;/dependency&gt;\r\n\r\n**SpellCheckDemo.java**\r\n\r\n    import java.io.BufferedReader;\r\n    import java.io.IOException;\r\n    import java.io.InputStream;\r\n    import java.io.InputStreamReader;\r\n    import java.text.BreakIterator;\r\n    import java.time.Duration;\r\n    import java.util.Collection;\r\n    import java.util.Collections;\r\n    import java.util.HashSet;\r\n    import java.util.Set;\r\n    \r\n    import org.fxmisc.flowless.VirtualizedScrollPane;\r\n    import org.fxmisc.richtext.StyleClassedTextArea;\r\n    import org.fxmisc.richtext.model.StyleSpans;\r\n    import org.fxmisc.richtext.model.StyleSpansBuilder;\r\n    \r\n    import javafx.application.Application;\r\n    import javafx.scene.Scene;\r\n    import javafx.scene.control.ContextMenu;\r\n    import javafx.scene.control.MenuItem;\r\n    import javafx.scene.input.ContextMenuEvent;\r\n    import javafx.scene.layout.StackPane;\r\n    import javafx.scene.text.Text;\r\n    import javafx.stage.Stage;\r\n    import org.apache.commons.text.similarity.JaroWinklerDistance;\r\n    import org.reactfx.Subscription;\r\n    \r\n    public class SpellCheckingDemo extends Application\r\n    {\r\n    \r\n        private static final Set&lt;String&gt; dictionary = new HashSet&lt;String&gt;();\r\n        private final static double JAROWINKLERDISTANCE_THRESHOLD = .80;\r\n    \r\n        public static void main(String[] args)\r\n        {\r\n            launch(args);\r\n        }\r\n    \r\n        @Override\r\n        public void start(Stage primaryStage)\r\n        {\r\n            StyleClassedTextArea textArea = new StyleClassedTextArea();\r\n            textArea.setWrapText(true);\r\n    \r\n            Subscription cleanupWhenFinished = textArea.multiPlainChanges()\r\n                    .successionEnds(Duration.ofMillis(500))\r\n                    .subscribe(change -&gt;\r\n                    {\r\n                        textArea.setStyleSpans(0, computeHighlighting(textArea.getText()));\r\n                    });\r\n            // call when no longer need it: `cleanupWhenFinished.unsubscribe();`\r\n    \r\n            textArea.setOnContextMenuRequested((ContextMenuEvent event) -&gt;\r\n            {\r\n                if (event.getTarget() instanceof Text)\r\n                {\r\n                    Text text = (Text) event.getTarget();\r\n                    ContextMenu context = new ContextMenu();\r\n                    JaroWinklerDistance distance = new JaroWinklerDistance();\r\n                    for (String word : dictionary)\r\n                    {\r\n                        if (distance.apply(text.getText(), word) &gt;= JAROWINKLERDISTANCE_THRESHOLD)\r\n                        {\r\n                            MenuItem item = new MenuItem(word);\r\n                            item.setOnAction(a -&gt;\r\n                            {\r\n                                // how do I find the position of the Text object ?                    \r\n                                textArea.replaceText(25, 25 + text.getText().length(), word);\r\n                            });\r\n                            context.getItems().add(item);\r\n    \r\n                        }\r\n    \r\n                    }\r\n    \r\n                    context.show(primaryStage, event.getScreenX(), event.getScreenY());\r\n    \r\n                }\r\n            });\r\n    \r\n            // load the dictionary\r\n            try (InputStream input = SpellCheckingDemo.class.getResourceAsStream(&quot;/spellchecking.dict&quot;);\r\n                    BufferedReader br = new BufferedReader(new InputStreamReader(input)))\r\n            {\r\n                String line;\r\n                while ((line = br.readLine()) != null)\r\n                {\r\n                    dictionary.add(line);\r\n                }\r\n            } catch (IOException e)\r\n            {\r\n                e.printStackTrace();\r\n            }\r\n    \r\n            // load the sample document\r\n            InputStream input2 = SpellCheckingDemo.class.getResourceAsStream(&quot;/spellchecking.txt&quot;);\r\n            try (java.util.Scanner s = new java.util.Scanner(input2))\r\n            {\r\n                String document = s.useDelimiter(&quot;\\\\A&quot;).hasNext() ? s.next() : &quot;&quot;;\r\n                textArea.replaceText(0, 0, document);\r\n            }\r\n    \r\n            Scene scene = new Scene(new StackPane(new VirtualizedScrollPane&lt;&gt;(textArea)), 600, 400);\r\n            scene.getStylesheets().add(SpellCheckingDemo.class.getResource(&quot;/spellchecking.css&quot;).toExternalForm());\r\n            primaryStage.setScene(scene);\r\n            primaryStage.setTitle(&quot;Spell Checking Demo&quot;);\r\n            primaryStage.show();\r\n        }\r\n    \r\n        private static StyleSpans&lt;Collection&lt;String&gt;&gt; computeHighlighting(String text)\r\n        {\r\n    \r\n            StyleSpansBuilder&lt;Collection&lt;String&gt;&gt; spansBuilder = new StyleSpansBuilder&lt;&gt;();\r\n    \r\n            BreakIterator wb = BreakIterator.getWordInstance();\r\n            wb.setText(text);\r\n    \r\n            int lastIndex = wb.first();\r\n            int lastKwEnd = 0;\r\n            while (lastIndex != BreakIterator.DONE)\r\n            {\r\n                int firstIndex = lastIndex;\r\n                lastIndex = wb.next();\r\n    \r\n                if (lastIndex != BreakIterator.DONE\r\n                        &amp;&amp; Character.isLetterOrDigit(text.charAt(firstIndex)))\r\n                {\r\n                    String word = text.substring(firstIndex, lastIndex).toLowerCase();\r\n                    if (!dictionary.contains(word))\r\n                    {\r\n                        spansBuilder.add(Collections.emptyList(), firstIndex - lastKwEnd);\r\n                        spansBuilder.add(Collections.singleton(&quot;underlined&quot;), lastIndex - firstIndex);\r\n                        lastKwEnd = lastIndex;\r\n                    }\r\n                    System.err.println();\r\n                }\r\n            }\r\n            spansBuilder.add(Collections.emptyList(), text.length() - lastKwEnd);\r\n    \r\n            return spansBuilder.create();\r\n        }\r\n    }\r\n\r\nThe following files go into the resource folder: \r\n\r\n**spellchecking.css**\r\n\r\n    .underlined {\r\n        -rtfx-background-color: #f0f0f0;\r\n        -rtfx-underline-color: red;\r\n        -rtfx-underline-dash-array: 2 2;\r\n        -rtfx-underline-width: 1;\r\n        -rtfx-underline-cap: butt;\r\n    }\r\n\r\n**spellchecking.dict**\r\n\r\n    a\r\n    applied\r\n    basic\r\n    brown\r\n    but\r\n    could\r\n    document\r\n    dog\r\n    fox\r\n    here\r\n    if\r\n    is\r\n    its\r\n    jumps\r\n    lazy\r\n    no\r\n    over\r\n    quick\r\n    rendering\r\n    sample\r\n    see\r\n    styling\r\n    the\r\n    there\r\n    this\r\n    were\r\n    you\r\n\r\n**spellchecking.txt**\r\n\r\n    The quik brown fox jumps over the lazy dog.\r\n    Ths is a sample dokument.\r\n    There is no styling aplied, but if there were, you could see its basic rndering here.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/hJ5T7.gif","title":"JavaFX Spell checker using RichTextFX how to create right click suggestions","body":"<p>I have a spell checker demo here, visually it  is exactly what I want (red underline for words that are not correct), but I'm having trouble creating a right-click context menu to apply suggestions.</p>\n<p>I was able to get a context menu on the <code>Text</code> object, but I was not able to find the position of the text in the box to replace using the prediction.</p>\n<p><a href=\"https://i.stack.imgur.com/hJ5T7.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/hJ5T7.gif\" alt=\"enter image description here\" /></a></p>\n<p>Here is the code:</p>\n<p><strong>pom.xml</strong></p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;org.fxmisc.richtext&lt;/groupId&gt;\n        &lt;artifactId&gt;richtextfx&lt;/artifactId&gt;\n        &lt;version&gt;0.10.6&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\n        &lt;artifactId&gt;commons-text&lt;/artifactId&gt;\n        &lt;version&gt;1.9&lt;/version&gt;\n        &lt;type&gt;jar&lt;/type&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p><strong>SpellCheckDemo.java</strong></p>\n<pre><code>import java.io.BufferedReader;\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.io.InputStreamReader;\nimport java.text.BreakIterator;\nimport java.time.Duration;\nimport java.util.Collection;\nimport java.util.Collections;\nimport java.util.HashSet;\nimport java.util.Set;\n\nimport org.fxmisc.flowless.VirtualizedScrollPane;\nimport org.fxmisc.richtext.StyleClassedTextArea;\nimport org.fxmisc.richtext.model.StyleSpans;\nimport org.fxmisc.richtext.model.StyleSpansBuilder;\n\nimport javafx.application.Application;\nimport javafx.scene.Scene;\nimport javafx.scene.control.ContextMenu;\nimport javafx.scene.control.MenuItem;\nimport javafx.scene.input.ContextMenuEvent;\nimport javafx.scene.layout.StackPane;\nimport javafx.scene.text.Text;\nimport javafx.stage.Stage;\nimport org.apache.commons.text.similarity.JaroWinklerDistance;\nimport org.reactfx.Subscription;\n\npublic class SpellCheckingDemo extends Application\n{\n\n    private static final Set&lt;String&gt; dictionary = new HashSet&lt;String&gt;();\n    private final static double JAROWINKLERDISTANCE_THRESHOLD = .80;\n\n    public static void main(String[] args)\n    {\n        launch(args);\n    }\n\n    @Override\n    public void start(Stage primaryStage)\n    {\n        StyleClassedTextArea textArea = new StyleClassedTextArea();\n        textArea.setWrapText(true);\n\n        Subscription cleanupWhenFinished = textArea.multiPlainChanges()\n                .successionEnds(Duration.ofMillis(500))\n                .subscribe(change -&gt;\n                {\n                    textArea.setStyleSpans(0, computeHighlighting(textArea.getText()));\n                });\n        // call when no longer need it: `cleanupWhenFinished.unsubscribe();`\n\n        textArea.setOnContextMenuRequested((ContextMenuEvent event) -&gt;\n        {\n            if (event.getTarget() instanceof Text)\n            {\n                Text text = (Text) event.getTarget();\n                ContextMenu context = new ContextMenu();\n                JaroWinklerDistance distance = new JaroWinklerDistance();\n                for (String word : dictionary)\n                {\n                    if (distance.apply(text.getText(), word) &gt;= JAROWINKLERDISTANCE_THRESHOLD)\n                    {\n                        MenuItem item = new MenuItem(word);\n                        item.setOnAction(a -&gt;\n                        {\n                            // how do I find the position of the Text object ?                    \n                            textArea.replaceText(25, 25 + text.getText().length(), word);\n                        });\n                        context.getItems().add(item);\n\n                    }\n\n                }\n\n                context.show(primaryStage, event.getScreenX(), event.getScreenY());\n\n            }\n        });\n\n        // load the dictionary\n        try (InputStream input = SpellCheckingDemo.class.getResourceAsStream(&quot;/spellchecking.dict&quot;);\n                BufferedReader br = new BufferedReader(new InputStreamReader(input)))\n        {\n            String line;\n            while ((line = br.readLine()) != null)\n            {\n                dictionary.add(line);\n            }\n        } catch (IOException e)\n        {\n            e.printStackTrace();\n        }\n\n        // load the sample document\n        InputStream input2 = SpellCheckingDemo.class.getResourceAsStream(&quot;/spellchecking.txt&quot;);\n        try (java.util.Scanner s = new java.util.Scanner(input2))\n        {\n            String document = s.useDelimiter(&quot;\\\\A&quot;).hasNext() ? s.next() : &quot;&quot;;\n            textArea.replaceText(0, 0, document);\n        }\n\n        Scene scene = new Scene(new StackPane(new VirtualizedScrollPane&lt;&gt;(textArea)), 600, 400);\n        scene.getStylesheets().add(SpellCheckingDemo.class.getResource(&quot;/spellchecking.css&quot;).toExternalForm());\n        primaryStage.setScene(scene);\n        primaryStage.setTitle(&quot;Spell Checking Demo&quot;);\n        primaryStage.show();\n    }\n\n    private static StyleSpans&lt;Collection&lt;String&gt;&gt; computeHighlighting(String text)\n    {\n\n        StyleSpansBuilder&lt;Collection&lt;String&gt;&gt; spansBuilder = new StyleSpansBuilder&lt;&gt;();\n\n        BreakIterator wb = BreakIterator.getWordInstance();\n        wb.setText(text);\n\n        int lastIndex = wb.first();\n        int lastKwEnd = 0;\n        while (lastIndex != BreakIterator.DONE)\n        {\n            int firstIndex = lastIndex;\n            lastIndex = wb.next();\n\n            if (lastIndex != BreakIterator.DONE\n                    &amp;&amp; Character.isLetterOrDigit(text.charAt(firstIndex)))\n            {\n                String word = text.substring(firstIndex, lastIndex).toLowerCase();\n                if (!dictionary.contains(word))\n                {\n                    spansBuilder.add(Collections.emptyList(), firstIndex - lastKwEnd);\n                    spansBuilder.add(Collections.singleton(&quot;underlined&quot;), lastIndex - firstIndex);\n                    lastKwEnd = lastIndex;\n                }\n                System.err.println();\n            }\n        }\n        spansBuilder.add(Collections.emptyList(), text.length() - lastKwEnd);\n\n        return spansBuilder.create();\n    }\n}\n</code></pre>\n<p>The following files go into the resource folder:</p>\n<p><strong>spellchecking.css</strong></p>\n<pre><code>.underlined {\n    -rtfx-background-color: #f0f0f0;\n    -rtfx-underline-color: red;\n    -rtfx-underline-dash-array: 2 2;\n    -rtfx-underline-width: 1;\n    -rtfx-underline-cap: butt;\n}\n</code></pre>\n<p><strong>spellchecking.dict</strong></p>\n<pre><code>a\napplied\nbasic\nbrown\nbut\ncould\ndocument\ndog\nfox\nhere\nif\nis\nits\njumps\nlazy\nno\nover\nquick\nrendering\nsample\nsee\nstyling\nthe\nthere\nthis\nwere\nyou\n</code></pre>\n<p><strong>spellchecking.txt</strong></p>\n<pre><code>The quik brown fox jumps over the lazy dog.\nThs is a sample dokument.\nThere is no styling aplied, but if there were, you could see its basic rndering here.\n</code></pre>\n"},{"tags":["java","spring","utf-8","intellij-idea","thymeleaf"],"comments":[{"owner":{"account_id":3963498,"reputation":1926,"user_id":3270066,"display_name":"pagurix"},"score":0,"creation_date":1443542520,"post_id":26432479,"comment_id":53531128,"body_markdown":"works for me. thanks","body":"works for me. thanks"}],"answers":[{"tags":[],"owner":{"account_id":5187150,"reputation":11818,"user_id":4151201,"accept_rate":96,"display_name":"Sikor"},"comment_count":0,"down_vote_count":0,"up_vote_count":16,"is_accepted":true,"score":16,"last_activity_date":1413581218,"creation_date":1413580406,"answer_id":26433527,"question_id":26432479,"body_markdown":"Okay, I figured it out. Here&#39;s the deal:\r\n\r\nI had the following code:\r\n\r\n    &lt;bean id=&quot;messageSource&quot;\r\n          class=&quot;org.springframework.context.support.ResourceBundleMessageSource&quot;&gt;\r\n        &lt;property name=&quot;basename&quot; value=&quot;messages&quot; /&gt;\r\n    &lt;/bean&gt;\r\n\r\n**Option 1:**\r\nJust add this as another property:\r\n\r\n    &lt;property name=&quot;defaultEncoding&quot; value=&quot;UTF-8&quot;/&gt;\r\n\r\n**Option 2:**\r\nChanged it to:\r\n\r\n    &lt;bean id=&quot;messageSource&quot;\r\n          class=&quot;org.springframework.context.support.ReloadableResourceBundleMessageSource&quot;&gt;\r\n        &lt;property name=&quot;basename&quot; value=&quot;classpath:messages&quot;/&gt;\r\n        &lt;property name=&quot;defaultEncoding&quot; value=&quot;UTF-8&quot;/&gt;\r\n    &lt;/bean&gt;\r\n\r\nIf you change it to reloadable, keep in mind to also change the property value from &quot;messages&quot; to &quot;classpath:messages&quot;. For some reason it couldn&#39;t find the message bundle if I didn&#39;t change it.","title":"Messages from .properties file do not display UTF-8 characters","body":"<p>Okay, I figured it out. Here's the deal:</p>\n\n<p>I had the following code:</p>\n\n<pre><code>&lt;bean id=\"messageSource\"\n      class=\"org.springframework.context.support.ResourceBundleMessageSource\"&gt;\n    &lt;property name=\"basename\" value=\"messages\" /&gt;\n&lt;/bean&gt;\n</code></pre>\n\n<p><strong>Option 1:</strong>\nJust add this as another property:</p>\n\n<pre><code>&lt;property name=\"defaultEncoding\" value=\"UTF-8\"/&gt;\n</code></pre>\n\n<p><strong>Option 2:</strong>\nChanged it to:</p>\n\n<pre><code>&lt;bean id=\"messageSource\"\n      class=\"org.springframework.context.support.ReloadableResourceBundleMessageSource\"&gt;\n    &lt;property name=\"basename\" value=\"classpath:messages\"/&gt;\n    &lt;property name=\"defaultEncoding\" value=\"UTF-8\"/&gt;\n&lt;/bean&gt;\n</code></pre>\n\n<p>If you change it to reloadable, keep in mind to also change the property value from \"messages\" to \"classpath:messages\". For some reason it couldn't find the message bundle if I didn't change it.</p>\n"},{"comments":[{"owner":{"account_id":5187150,"reputation":11818,"user_id":4151201,"accept_rate":96,"display_name":"Sikor"},"score":0,"creation_date":1527681672,"post_id":50558035,"comment_id":88217499,"body_markdown":"I&#39;m sorry but how is this answer different than mine? In my answer&#39;s option 1, I am setting the default encoding.","body":"I&#39;m sorry but how is this answer different than mine? In my answer&#39;s option 1, I am setting the default encoding."},{"owner":{"account_id":4716379,"reputation":1255,"user_id":3901138,"accept_rate":41,"display_name":"Park JongBum"},"score":0,"creation_date":1527689207,"post_id":50558035,"comment_id":88223132,"body_markdown":"You may right, I also think the two solutions are the same.","body":"You may right, I also think the two solutions are the same."}],"tags":[],"owner":{"account_id":4716379,"reputation":1255,"user_id":3901138,"accept_rate":41,"display_name":"Park JongBum"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1527470686,"creation_date":1527470686,"answer_id":50558035,"question_id":26432479,"body_markdown":"When you use ResourceBundleMessageSource object, you need to set default encoding as follows: \r\n\r\n    @Bean\r\n    public MessageSource messageSource() { \r\n    \tResourceBundleMessageSource resource = \r\n    \t\t\tnew ResourceBundleMessageSource();\r\n    \tresource.setBasename(&quot;messages&quot;);\r\n    \tresource.setDefaultEncoding(&quot;utf-8&quot;);\r\n    \treturn resource;    \r\n    }\r\n\r\n","title":"Messages from .properties file do not display UTF-8 characters","body":"<p>When you use ResourceBundleMessageSource object, you need to set default encoding as follows: </p>\n\n<pre><code>@Bean\npublic MessageSource messageSource() { \n    ResourceBundleMessageSource resource = \n            new ResourceBundleMessageSource();\n    resource.setBasename(\"messages\");\n    resource.setDefaultEncoding(\"utf-8\");\n    return resource;    \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13678477,"reputation":299,"user_id":9869394,"display_name":"Dinushika Rathnayake"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676392188,"creation_date":1676392188,"answer_id":75450689,"question_id":26432479,"body_markdown":"In my case setting default encoding is not enough, have to create properties files in UTF-8 format also.\r\n\r\nFor more details please refer https://stackoverflow.com/questions/28112852/springboot-utf-8-doesnt-work-in-messages-properties","title":"Messages from .properties file do not display UTF-8 characters","body":"<p>In my case setting default encoding is not enough, have to create properties files in UTF-8 format also.</p>\n<p>For more details please refer <a href=\"https://stackoverflow.com/questions/28112852/springboot-utf-8-doesnt-work-in-messages-properties\">SpringBoot - UTF-8 Doesnt work in messages.properties</a></p>\n"}],"owner":{"account_id":5187150,"reputation":11818,"user_id":4151201,"accept_rate":96,"display_name":"Sikor"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13029,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"accepted_answer_id":26433527,"answer_count":3,"score":11,"last_activity_date":1676392188,"creation_date":1413575469,"question_id":26432479,"body_markdown":"As the title says, I can only add that if I enter ą ę &#243; manually in html file, it&#39;s fine.\r\n\r\nViewResolver:\r\n\r\n    &lt;bean id=&quot;templateResolver&quot; class=&quot;org.thymeleaf.templateresolver.ServletContextTemplateResolver&quot;&gt;\r\n        &lt;property name=&quot;prefix&quot; value=&quot;/WEB-INF/templates/&quot; /&gt;\r\n        &lt;property name=&quot;suffix&quot; value=&quot;.html&quot; /&gt;\r\n        &lt;property name=&quot;templateMode&quot; value=&quot;HTML5&quot; /&gt;\r\n        &lt;property name=&quot;cacheable&quot; value=&quot;false&quot;/&gt;\r\n        &lt;property name=&quot;characterEncoding&quot; value=&quot;UTF-8&quot;/&gt;\r\n    &lt;/bean&gt;\r\n\r\n    &lt;bean id=&quot;templateEngine&quot; class=&quot;org.thymeleaf.spring3.SpringTemplateEngine&quot;&gt;\r\n        &lt;property name=&quot;templateResolver&quot; ref=&quot;templateResolver&quot; /&gt;\r\n    &lt;/bean&gt;\r\n\r\n    &lt;bean class=&quot;org.thymeleaf.spring3.view.ThymeleafViewResolver&quot;&gt;\r\n        &lt;property name=&quot;templateEngine&quot; ref=&quot;templateEngine&quot; /&gt;\r\n        &lt;property name=&quot;characterEncoding&quot; value=&quot;UTF-8&quot;/&gt;\r\n        &lt;property name=&quot;order&quot; value=&quot;1&quot;/&gt;\r\n    &lt;/bean&gt;\r\n\r\npom.xml:\r\n\r\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n\r\nexample of html input:\r\n\r\n    &lt;h2&gt;&lt;p th:text=&quot;#{homepage.greeting}&quot;&gt;Welcome&lt;/p&gt;&lt;/h2&gt;\r\n\r\ninside the &lt;head&gt; tag of the html file:\r\n\r\n    &lt;meta charset=&quot;UTF-8&quot;/&gt;\r\n\r\nIn IntelliJ Idea I have set project encoding to UTF-8, default encoding for properties files to UTF-8\r\n![enter image description here][1]\r\n\r\nAnd I honestly have no idea where is the problem. When I change locale to pl, this is the output:\r\n![enter image description here][2]\r\n\r\nSorry but I can&#39;t post images yet.\r\nAny help would be greatly appreciated.\r\n\r\nTried this filter in web.xml, still no luck.\r\n\r\n    &lt;filter&gt;\r\n        &lt;filter-name&gt;encodingFilter&lt;/filter-name&gt;\r\n        &lt;filter-class&gt;org.springframework.web.filter.CharacterEncodingFilter&lt;/filter-class&gt;\r\n        &lt;init-param&gt;\r\n            &lt;param-name&gt;encoding&lt;/param-name&gt;\r\n            &lt;param-value&gt;UTF-8&lt;/param-value&gt;\r\n        &lt;/init-param&gt;\r\n        &lt;init-param&gt;\r\n            &lt;param-name&gt;forceEncoding&lt;/param-name&gt;\r\n            &lt;param-value&gt;true&lt;/param-value&gt;\r\n        &lt;/init-param&gt;\r\n    &lt;/filter&gt;\r\n    &lt;filter-mapping&gt;\r\n        &lt;filter-name&gt;encodingFilter&lt;/filter-name&gt;\r\n        &lt;url-pattern&gt;/*&lt;/url-pattern&gt;\r\n    &lt;/filter-mapping&gt;\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/nKC1B.png\r\n  [2]: http://i.stack.imgur.com/DaqxV.png","title":"Messages from .properties file do not display UTF-8 characters","body":"<p>As the title says, I can only add that if I enter ą ę ó manually in html file, it's fine.</p>\n\n<p>ViewResolver:</p>\n\n<pre><code>&lt;bean id=\"templateResolver\" class=\"org.thymeleaf.templateresolver.ServletContextTemplateResolver\"&gt;\n    &lt;property name=\"prefix\" value=\"/WEB-INF/templates/\" /&gt;\n    &lt;property name=\"suffix\" value=\".html\" /&gt;\n    &lt;property name=\"templateMode\" value=\"HTML5\" /&gt;\n    &lt;property name=\"cacheable\" value=\"false\"/&gt;\n    &lt;property name=\"characterEncoding\" value=\"UTF-8\"/&gt;\n&lt;/bean&gt;\n\n&lt;bean id=\"templateEngine\" class=\"org.thymeleaf.spring3.SpringTemplateEngine\"&gt;\n    &lt;property name=\"templateResolver\" ref=\"templateResolver\" /&gt;\n&lt;/bean&gt;\n\n&lt;bean class=\"org.thymeleaf.spring3.view.ThymeleafViewResolver\"&gt;\n    &lt;property name=\"templateEngine\" ref=\"templateEngine\" /&gt;\n    &lt;property name=\"characterEncoding\" value=\"UTF-8\"/&gt;\n    &lt;property name=\"order\" value=\"1\"/&gt;\n&lt;/bean&gt;\n</code></pre>\n\n<p>pom.xml:</p>\n\n<pre><code>&lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n</code></pre>\n\n<p>example of html input:</p>\n\n<pre><code>&lt;h2&gt;&lt;p th:text=\"#{homepage.greeting}\"&gt;Welcome&lt;/p&gt;&lt;/h2&gt;\n</code></pre>\n\n<p>inside the  tag of the html file:</p>\n\n<pre><code>&lt;meta charset=\"UTF-8\"/&gt;\n</code></pre>\n\n<p>In IntelliJ Idea I have set project encoding to UTF-8, default encoding for properties files to UTF-8\n<img src=\"https://i.stack.imgur.com/nKC1B.png\" alt=\"enter image description here\"></p>\n\n<p>And I honestly have no idea where is the problem. When I change locale to pl, this is the output:\n<img src=\"https://i.stack.imgur.com/DaqxV.png\" alt=\"enter image description here\"></p>\n\n<p>Sorry but I can't post images yet.\nAny help would be greatly appreciated.</p>\n\n<p>Tried this filter in web.xml, still no luck.</p>\n\n<pre><code>&lt;filter&gt;\n    &lt;filter-name&gt;encodingFilter&lt;/filter-name&gt;\n    &lt;filter-class&gt;org.springframework.web.filter.CharacterEncodingFilter&lt;/filter-class&gt;\n    &lt;init-param&gt;\n        &lt;param-name&gt;encoding&lt;/param-name&gt;\n        &lt;param-value&gt;UTF-8&lt;/param-value&gt;\n    &lt;/init-param&gt;\n    &lt;init-param&gt;\n        &lt;param-name&gt;forceEncoding&lt;/param-name&gt;\n        &lt;param-value&gt;true&lt;/param-value&gt;\n    &lt;/init-param&gt;\n&lt;/filter&gt;\n&lt;filter-mapping&gt;\n    &lt;filter-name&gt;encodingFilter&lt;/filter-name&gt;\n    &lt;url-pattern&gt;/*&lt;/url-pattern&gt;\n&lt;/filter-mapping&gt;\n</code></pre>\n"},{"tags":["java","php","hashmap"],"comments":[{"owner":{"account_id":2674049,"reputation":93913,"user_id":2310830,"display_name":"RiggsFolly"},"score":0,"creation_date":1676384288,"post_id":75446679,"comment_id":133123216,"body_markdown":"It is better to tell us the data you have (with examples), then what you want it to become (with examples that match the previosu examples), then what you tried to majke that happen.","body":"It is better to tell us the data you have (with examples), then what you want it to become (with examples that match the previosu examples), then what you tried to majke that happen."},{"owner":{"account_id":2674049,"reputation":93913,"user_id":2310830,"display_name":"RiggsFolly"},"score":0,"creation_date":1676389804,"post_id":75446679,"comment_id":133125144,"body_markdown":"So show us the loop code. Show a `print_r()` of any input arrays. Make the output you require also look like a `print_r()` or similiar. If we can see what you statr with and what you want to finish up with, then we can try and help with the code to get you there","body":"So show us the loop code. Show a <code>print_r()</code> of any input arrays. Make the output you require also look like a <code>print_r()</code> or similiar. If we can see what you statr with and what you want to finish up with, then we can try and help with the code to get you there"},{"owner":{"account_id":13891354,"reputation":1432,"user_id":10029265,"display_name":"habib"},"score":0,"creation_date":1676390416,"post_id":75446679,"comment_id":133125377,"body_markdown":"@RiggsFolly I just did without print_r\ncheck the example test case","body":"@RiggsFolly I just did without print_r check the example test case"},{"owner":{"account_id":384206,"reputation":50386,"user_id":740553,"accept_rate":46,"display_name":"Mike &#39;Pomax&#39; Kamermans"},"score":0,"creation_date":1676390654,"post_id":75446679,"comment_id":133125465,"body_markdown":"[As per the manual](https://www.php.net/manual/en/language.types.array.php): &quot;Arrays and objects _can not_ be used as keys. Doing so will result in a warning: Illegal offset type.&quot; So you&#39;re either stuck with hashing yourself, or (probably nicer?) writing a task-appropriate datastructure instead of using maps.","body":"<a href=\"https://www.php.net/manual/en/language.types.array.php\" rel=\"nofollow noreferrer\">As per the manual</a>: &quot;Arrays and objects <i>can not</i> be used as keys. Doing so will result in a warning: Illegal offset type.&quot; So you&#39;re either stuck with hashing yourself, or (probably nicer?) writing a task-appropriate datastructure instead of using maps."},{"owner":{"account_id":13891354,"reputation":1432,"user_id":10029265,"display_name":"habib"},"score":0,"creation_date":1676392625,"post_id":75446679,"comment_id":133126103,"body_markdown":"@Mike&#39;Pomax&#39;Kamermans my code is working 100% fine but it will eventually slow down on if input is very big","body":"@Mike&#39;Pomax&#39;Kamermans my code is working 100% fine but it will eventually slow down on if input is very big"},{"owner":{"account_id":384206,"reputation":50386,"user_id":740553,"accept_rate":46,"display_name":"Mike &#39;Pomax&#39; Kamermans"},"score":0,"creation_date":1676393553,"post_id":75446679,"comment_id":133126408,"body_markdown":"That is the nature of runtime complexity. If you want to fix _that_, it&#39;s definitely time to write your own tree data structure with an ordered index that lets you efficiently find a keyed value anywhere in the tree.","body":"That is the nature of runtime complexity. If you want to fix <i>that</i>, it&#39;s definitely time to write your own tree data structure with an ordered index that lets you efficiently find a keyed value anywhere in the tree."}],"owner":{"account_id":13891354,"reputation":1432,"user_id":10029265,"display_name":"habib"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676390692,"creation_date":1676371320,"question_id":75446679,"body_markdown":"In Java, we can use HashMap as a key in other HashMap. I&#39;m using an associative array as a map in PHP. Now there is a need to store an associative array as a key in another associative array.\r\nI asked ChatGPT and it presented a lengthy solution:\r\nSuppose $map is an array that I want to use as a key:\r\n\r\n        ksort($map);\r\n        $key = serialize($map);\r\n\r\n        if(!isset($main[$key])){\r\n            $main[$key] = 0;\r\n        }\r\n        $main[$key]++\r\n\r\nI&#39;m running above code in a loop where map is:\r\n\r\non first iteration: [a=&gt;1, b=&gt;2, c=&gt;3]\r\n\r\non second iteration: [b=&gt;2, a=&gt;1, c=&gt;3]\r\n\r\nafter 2 two iterations\r\nmain is looking like\r\n$main[&quot;serialized---key&quot;] -&gt; 2\r\n\r\nYes, I need to use ksort because the next $map could contain the same array but keys could be in a different order.\r\n\r\nThe above solution is working fine but it will slow down drastically on large inputs. I need a better way where I don&#39;t need to use ksort and serialization.\r\n\r\nI also used **spl_object_hash** instead of serialize but it didn&#39;t work. please suggest an optimal approach just like hashmap in java.\r\nAlso, I used **splObjectStorage** class by type-casting the array into an object but it gives incorrect results.\r\n\r\nDetailed problem:\r\n\r\nWhat I&#39;m actually trying to do?\r\nI&#39;m solving the following problem:\r\nGiven an array of strings strs, group the anagrams together. You can return the answer in any order.\r\n\r\nAn Anagram is a word or phrase formed by rearranging the letters of a different word or phrase, typically using all the original letters exactly once.\r\n\r\nExample 1:\r\n\r\nInput: strs = \r\n    \r\n    [&quot;eat&quot;,&quot;tea&quot;,&quot;tan&quot;,&quot;ate&quot;,&quot;nat&quot;,&quot;bat&quot;]\r\n\r\nOutput: \r\n    \r\n    [[&quot;bat&quot;],[&quot;nat&quot;,&quot;tan&quot;],[&quot;ate&quot;,&quot;eat&quot;,&quot;tea&quot;]]\r\n\r\n\r\nMy working code:\r\n\r\nIn short, I&#39;m just grouping the strings based on their frequency map.\r\n\r\n```\r\nfunction groupAnagrams(array $arr){\r\n    $main = [];\r\n    $ret = [];\r\n    for($i=0; $i&lt;count($arr); $i++){\r\n        $el = $arr[$i];\r\n        $map = [];\r\n        for($j=0; $j&lt;strlen($el); $j++){\r\n            if(!isset($map[$el[$j]])){\r\n                $map[$el[$j]]=0;\r\n            }\r\n            $map[$el[$j]]++;\r\n        }\r\n        ksort($map);\r\n        $key = serialize($map);\r\n\r\n        if(!isset($main[$key])){\r\n            $main[$key] = [];\r\n        }\r\n        $main[$key][] = $el;\r\n    }\r\n\r\n\r\n\r\n    //return $main;\r\n    foreach($main as $key=&gt;$val){\r\n        $ret[] = $val;\r\n    }\r\n\r\n    return $ret;\r\n}\r\n```\r\n\r\n\r\nHere is the problem link: https://leetcode.com/problems/group-anagrams/","title":"how to use associateArray as a key in other associativeArray in PHP (just like using HashMap as key in another HashMap in JAVA)","body":"<p>In Java, we can use HashMap as a key in other HashMap. I'm using an associative array as a map in PHP. Now there is a need to store an associative array as a key in another associative array.\nI asked ChatGPT and it presented a lengthy solution:\nSuppose $map is an array that I want to use as a key:</p>\n<pre><code>    ksort($map);\n    $key = serialize($map);\n\n    if(!isset($main[$key])){\n        $main[$key] = 0;\n    }\n    $main[$key]++\n</code></pre>\n<p>I'm running above code in a loop where map is:</p>\n<p>on first iteration: [a=&gt;1, b=&gt;2, c=&gt;3]</p>\n<p>on second iteration: [b=&gt;2, a=&gt;1, c=&gt;3]</p>\n<p>after 2 two iterations\nmain is looking like\n$main[&quot;serialized---key&quot;] -&gt; 2</p>\n<p>Yes, I need to use ksort because the next $map could contain the same array but keys could be in a different order.</p>\n<p>The above solution is working fine but it will slow down drastically on large inputs. I need a better way where I don't need to use ksort and serialization.</p>\n<p>I also used <strong>spl_object_hash</strong> instead of serialize but it didn't work. please suggest an optimal approach just like hashmap in java.\nAlso, I used <strong>splObjectStorage</strong> class by type-casting the array into an object but it gives incorrect results.</p>\n<p>Detailed problem:</p>\n<p>What I'm actually trying to do?\nI'm solving the following problem:\nGiven an array of strings strs, group the anagrams together. You can return the answer in any order.</p>\n<p>An Anagram is a word or phrase formed by rearranging the letters of a different word or phrase, typically using all the original letters exactly once.</p>\n<p>Example 1:</p>\n<p>Input: strs =</p>\n<pre><code>[&quot;eat&quot;,&quot;tea&quot;,&quot;tan&quot;,&quot;ate&quot;,&quot;nat&quot;,&quot;bat&quot;]\n</code></pre>\n<p>Output:</p>\n<pre><code>[[&quot;bat&quot;],[&quot;nat&quot;,&quot;tan&quot;],[&quot;ate&quot;,&quot;eat&quot;,&quot;tea&quot;]]\n</code></pre>\n<p>My working code:</p>\n<p>In short, I'm just grouping the strings based on their frequency map.</p>\n<pre><code>function groupAnagrams(array $arr){\n    $main = [];\n    $ret = [];\n    for($i=0; $i&lt;count($arr); $i++){\n        $el = $arr[$i];\n        $map = [];\n        for($j=0; $j&lt;strlen($el); $j++){\n            if(!isset($map[$el[$j]])){\n                $map[$el[$j]]=0;\n            }\n            $map[$el[$j]]++;\n        }\n        ksort($map);\n        $key = serialize($map);\n\n        if(!isset($main[$key])){\n            $main[$key] = [];\n        }\n        $main[$key][] = $el;\n    }\n\n\n\n    //return $main;\n    foreach($main as $key=&gt;$val){\n        $ret[] = $val;\n    }\n\n    return $ret;\n}\n</code></pre>\n<p>Here is the problem link: <a href=\"https://leetcode.com/problems/group-anagrams/\" rel=\"nofollow noreferrer\">https://leetcode.com/problems/group-anagrams/</a></p>\n"},{"tags":["java","security","servlets","servlet-filters","denial-of-service"],"answers":[{"tags":[],"owner":{"account_id":120605,"reputation":24173,"user_id":313137,"display_name":"Romain Hippeau"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1676390515,"creation_date":1277402969,"answer_id":3112695,"question_id":3112663,"body_markdown":"If you are using Spring then [Acegi security][1] is pretty complete.   \r\n[Here is a series of tutorial articles][2].   \r\nIt looks like you might be able to run this without needing Spring everywhere, [See here][3].\r\n\r\n\r\n  [1]: http://www.acegisecurity.org/guide/springsecurity.html\r\n  [2]: http://www.ibm.com/developerworks/views/java/libraryview.jsp?search_by=securing+acegi\r\n  [3]: http://www.acegisecurity.org/standalone.html\r\n\r\nAcegi has become Spring Security since this was posted. \r\nAlso looks like www.acegisecurity.org has been hacked.","title":"Servlet filters for abuse prevention? (DoS, spam, etc)","body":"<p>If you are using Spring then <a href=\"http://www.acegisecurity.org/guide/springsecurity.html\" rel=\"nofollow noreferrer\">Acegi security</a> is pretty complete.<br />\n<a href=\"http://www.ibm.com/developerworks/views/java/libraryview.jsp?search_by=securing+acegi\" rel=\"nofollow noreferrer\">Here is a series of tutorial articles</a>.<br />\nIt looks like you might be able to run this without needing Spring everywhere, <a href=\"http://www.acegisecurity.org/standalone.html\" rel=\"nofollow noreferrer\">See here</a>.</p>\n<p>Acegi has become Spring Security since this was posted.\nAlso looks like <a href=\"http://www.acegisecurity.org\" rel=\"nofollow noreferrer\">www.acegisecurity.org</a> has been hacked.</p>\n"},{"tags":[],"owner":{"account_id":158173,"reputation":2138,"user_id":376610,"display_name":"A. Ionescu"},"comment_count":0,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1277495789,"creation_date":1277495789,"answer_id":3121040,"question_id":3112663,"body_markdown":"[Apache Shiro][1] is an interesting security solution (it was called jSecurity before joining Apache.org). I find their source code much easier to understand and tweak for my needs, and also to integrate it.\r\n\r\n\r\n  [1]: http://incubator.apache.org/shiro/","title":"Servlet filters for abuse prevention? (DoS, spam, etc)","body":"<p><a href=\"http://incubator.apache.org/shiro/\" rel=\"nofollow noreferrer\">Apache Shiro</a> is an interesting security solution (it was called jSecurity before joining Apache.org). I find their source code much easier to understand and tweak for my needs, and also to integrate it.</p>\n"},{"tags":[],"owner":{"account_id":8068554,"reputation":31,"user_id":6081976,"display_name":"Nikolay Milovanov"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1458297008,"creation_date":1458297008,"answer_id":36082010,"question_id":3112663,"body_markdown":"[iTransformers DDOS servlet][1] filter is a good example for a servlet filter able to apply Remotely Triggered Black holing https://www.rfc-editor.org/rfc/rfc5635 which is the only real/good and scalable way to defend yourself from a DDOS attacks. \r\n\r\n\r\n  [1]: https://github.com/iTransformers/DDOSServletFIlter","title":"Servlet filters for abuse prevention? (DoS, spam, etc)","body":"<p><a href=\"https://github.com/iTransformers/DDOSServletFIlter\" rel=\"nofollow noreferrer\">iTransformers DDOS servlet</a> filter is a good example for a servlet filter able to apply Remotely Triggered Black holing <a href=\"https://www.rfc-editor.org/rfc/rfc5635\" rel=\"nofollow noreferrer\">https://www.rfc-editor.org/rfc/rfc5635</a> which is the only real/good and scalable way to defend yourself from a DDOS attacks.</p>\n"}],"owner":{"account_id":36514,"reputation":3615,"user_id":104181,"accept_rate":65,"display_name":"sehugg"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3939,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"answer_count":3,"score":7,"last_activity_date":1676390515,"creation_date":1277402611,"question_id":3112663,"body_markdown":"I&#39;m looking for a servlet filter library that helps me secure our web service against unauthorized usage and DDoS.\r\n\r\nWe have &quot;authorized clients&quot; for our web service, so ideally the filter would help detect clients that aren&#39;t authorized or behave improperly, or detect multiple people using the same account. Also we need a way to prevent DoS&#39;ing of our various services since we have an open-account policy -- limiting the number of simultaneous connections for a user, etc.\r\n\r\nWe&#39;ve looked at the Tomcat LockOutFilter and such but those are fairly primitive and only prevent against one sort of attack.\r\n\r\nOf course there are many application-specific components of the solution, but I was wondering if someone had written up a general solution as a starting point.\r\n","title":"Servlet filters for abuse prevention? (DoS, spam, etc)","body":"<p>I'm looking for a servlet filter library that helps me secure our web service against unauthorized usage and DDoS.</p>\n\n<p>We have \"authorized clients\" for our web service, so ideally the filter would help detect clients that aren't authorized or behave improperly, or detect multiple people using the same account. Also we need a way to prevent DoS'ing of our various services since we have an open-account policy -- limiting the number of simultaneous connections for a user, etc.</p>\n\n<p>We've looked at the Tomcat LockOutFilter and such but those are fairly primitive and only prevent against one sort of attack.</p>\n\n<p>Of course there are many application-specific components of the solution, but I was wondering if someone had written up a general solution as a starting point.</p>\n"},{"tags":["java","maven","quarkus"],"comments":[{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1676403170,"post_id":75450110,"comment_id":133129148,"body_markdown":"For what purpose is `settings-custom.xml` needed? Why do you need something like this in a test?","body":"For what purpose is <code>settings-custom.xml</code> needed? Why do you need something like this in a test?"},{"owner":{"account_id":2922228,"reputation":61034,"user_id":2504224,"display_name":"geoand"},"score":0,"creation_date":1676440941,"post_id":75450110,"comment_id":133135138,"body_markdown":"How are you running the tests?","body":"How are you running the tests?"},{"owner":{"account_id":3140002,"reputation":892,"user_id":2655624,"display_name":"johanwannheden"},"score":0,"creation_date":1676491360,"post_id":75450110,"comment_id":133149748,"body_markdown":"The `settings-custom.xml` is not intended for tests. I need a few different Maven settings files on my machine, in one project one settings file, in another project another one.\n\nI&#39;m running the tests directly from Maven, i.e. `mvn verify`, or directly in the IDE.","body":"The <code>settings-custom.xml</code> is not intended for tests. I need a few different Maven settings files on my machine, in one project one settings file, in another project another one.  I&#39;m running the tests directly from Maven, i.e. <code>mvn verify</code>, or directly in the IDE."}],"owner":{"account_id":3140002,"reputation":892,"user_id":2655624,"display_name":"johanwannheden"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676389165,"creation_date":1676389165,"question_id":75450110,"body_markdown":"Running a `QuarkusTest` fails, when Maven settings are set in a user settings file (i.e. `~/.m2/settings-custom.xml` as opposed to a more standard scenario `~/.m2/settings.xml`).\r\n\r\nThis is also the case when a `.mvn/maven.config` file with a reference to the settings file is defined at project level with contents as follows: `-s /Users/johndoe/.m2/settings-custom.xml`.\r\n\r\nAlso, IntelliJ has a setting, which allows setting custom Maven settings files:\r\n\r\n[![enter image description here](https://i.stack.imgur.com/BjuOF.png)](https://i.stack.imgur.com/BjuOF.png)\r\n\r\nThat setting does not seem to work either.\r\n\r\nAny ideas?\r\n\r\nIf I replace `settings.xml` with the contents of `settings-custom.xml`, everything works as expected.","title":"QuarkusTest ignores custom Maven user settings file","body":"<p>Running a <code>QuarkusTest</code> fails, when Maven settings are set in a user settings file (i.e. <code>~/.m2/settings-custom.xml</code> as opposed to a more standard scenario <code>~/.m2/settings.xml</code>).</p>\n<p>This is also the case when a <code>.mvn/maven.config</code> file with a reference to the settings file is defined at project level with contents as follows: <code>-s /Users/johndoe/.m2/settings-custom.xml</code>.</p>\n<p>Also, IntelliJ has a setting, which allows setting custom Maven settings files:</p>\n<p><a href=\"https://i.stack.imgur.com/BjuOF.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/BjuOF.png\" alt=\"enter image description here\" /></a></p>\n<p>That setting does not seem to work either.</p>\n<p>Any ideas?</p>\n<p>If I replace <code>settings.xml</code> with the contents of <code>settings-custom.xml</code>, everything works as expected.</p>\n"},{"tags":["java","parallel-processing"],"comments":[{"owner":{"account_id":25333394,"reputation":23,"user_id":20415613,"display_name":"feter"},"score":0,"creation_date":1676386556,"post_id":75449506,"comment_id":133123952,"body_markdown":"Update, I see now that sometimes the para_array has two of the same elements after eachothr and the arraysort does not, and othertimes it is the opposite","body":"Update, I see now that sometimes the para_array has two of the same elements after eachothr and the arraysort does not, and othertimes it is the opposite"},{"owner":{"account_id":2792262,"reputation":163877,"user_id":2402272,"accept_rate":85,"display_name":"John Bollinger"},"score":0,"creation_date":1676386619,"post_id":75449506,"comment_id":133123972,"body_markdown":"Sorting the first `k` elements does not change which elements are in that section of the array.  But if any of the `k` largest elements do not start among the first `k` elements overall, then sorting the whole array (decreasing) *does* change which elements are among the first `k`.  It&#39;s not surprising, then, that you sometimes observe different results from the two approaches you describe.","body":"Sorting the first <code>k</code> elements does not change which elements are in that section of the array.  But if any of the <code>k</code> largest elements do not start among the first <code>k</code> elements overall, then sorting the whole array (decreasing) <i>does</i> change which elements are among the first <code>k</code>.  It&#39;s not surprising, then, that you sometimes observe different results from the two approaches you describe."},{"owner":{"account_id":2792262,"reputation":163877,"user_id":2402272,"accept_rate":85,"display_name":"John Bollinger"},"score":0,"creation_date":1676386719,"post_id":75449506,"comment_id":133124022,"body_markdown":"Or if that&#39;s not what you&#39;re actually doing then please clarify.","body":"Or if that&#39;s not what you&#39;re actually doing then please clarify."},{"owner":{"account_id":25333394,"reputation":23,"user_id":20415613,"display_name":"feter"},"score":0,"creation_date":1676386998,"post_id":75449506,"comment_id":133124133,"body_markdown":"@JohnBollinger im not sure if i understood you, but i do not need to sort the whole array just the first k, which is done by the for loop w/o threads, then when wanting to find if the rest of array has larger number that the ones in the k-first we let the threads just go thorugh their segment and checks and the just insert it to the k-first","body":"@JohnBollinger im not sure if i understood you, but i do not need to sort the whole array just the first k, which is done by the for loop w/o threads, then when wanting to find if the rest of array has larger number that the ones in the k-first we let the threads just go thorugh their segment and checks and the just insert it to the k-first"},{"owner":{"account_id":2792262,"reputation":163877,"user_id":2402272,"accept_rate":85,"display_name":"John Bollinger"},"score":0,"creation_date":1676387208,"post_id":75449506,"comment_id":133124204,"body_markdown":"My comment is about how you prepare the other array for comparison: &quot;I then sort the other array with `array.sort()` and make it in decreasing order&quot;.  As written, that seems to say that you sort the *whole* other array (more than `k` elements), which is the wrong thing to do for your comparison if the other sort (was supposed to have) sorted only the first `k` elements of its array.","body":"My comment is about how you prepare the other array for comparison: &quot;I then sort the other array with <code>array.sort()</code> and make it in decreasing order&quot;.  As written, that seems to say that you sort the <i>whole</i> other array (more than <code>k</code> elements), which is the wrong thing to do for your comparison if the other sort (was supposed to have) sorted only the first <code>k</code> elements of its array."},{"owner":{"account_id":25333394,"reputation":23,"user_id":20415613,"display_name":"feter"},"score":0,"creation_date":1676387601,"post_id":75449506,"comment_id":133124346,"body_markdown":"@JohnBollinger im sorry for misunderstanding, the way i do the arraysort is i first make every number in the array negativ, after that i use array.sort(arraysort) after that i make every number positive. But if the whole array is sorted, shouldent the k first also be sorted correctly?","body":"@JohnBollinger im sorry for misunderstanding, the way i do the arraysort is i first make every number in the array negativ, after that i use array.sort(arraysort) after that i make every number positive. But if the whole array is sorted, shouldent the k first also be sorted correctly?"},{"owner":{"account_id":2792262,"reputation":163877,"user_id":2402272,"accept_rate":85,"display_name":"John Bollinger"},"score":0,"creation_date":1676387919,"post_id":75449506,"comment_id":133124442,"body_markdown":"Yes, that would make the first `k` sorted correctly relative to each other, but you&#39;re missing the point.  The first `k` of the result are likely not *the same* first `k`. Consider a trivial example: The initial array is `{ 2, 7, 3 }` and `k` is 1.  If you sort just the first 1 element of that, by any correct algorithm, then the result is `{ 2, 7, 3 }`.  If you sort the the whole array then the result is `{ 7, 3, 2 }`.  The first `k` (1) elements of these two results do not agree.","body":"Yes, that would make the first <code>k</code> sorted correctly relative to each other, but you&#39;re missing the point.  The first <code>k</code> of the result are likely not <i>the same</i> first <code>k</code>. Consider a trivial example: The initial array is <code>{ 2, 7, 3 }</code> and <code>k</code> is 1.  If you sort just the first 1 element of that, by any correct algorithm, then the result is <code>{ 2, 7, 3 }</code>.  If you sort the the whole array then the result is <code>{ 7, 3, 2 }</code>.  The first <code>k</code> (1) elements of these two results do not agree."},{"owner":{"account_id":25333394,"reputation":23,"user_id":20415613,"display_name":"feter"},"score":0,"creation_date":1676388515,"post_id":75449506,"comment_id":133124652,"body_markdown":"&#180;The first k of the result are likely not the same first k&#180; what you mean with this, are you now comparing the para_array with arraysort, if so shouldent be if the numbers and k is the same for both, if you talk about the segment of each thread, the first k are not the same probably, but why is that important, they will go through the whole segment and just compare it to the k of the para_array. i see that i have messed up the array names in the code which would make this confusing, when creating a thread we should pass in para_array","body":"&#180;The first k of the result are likely not the same first k&#180; what you mean with this, are you now comparing the para_array with arraysort, if so shouldent be if the numbers and k is the same for both, if you talk about the segment of each thread, the first k are not the same probably, but why is that important, they will go through the whole segment and just compare it to the k of the para_array. i see that i have messed up the array names in the code which would make this confusing, when creating a thread we should pass in para_array"},{"owner":{"account_id":2792262,"reputation":163877,"user_id":2402272,"accept_rate":85,"display_name":"John Bollinger"},"score":1,"creation_date":1676388527,"post_id":75449506,"comment_id":133124656,"body_markdown":"But even if you corrected your checking strategy, your parallel sort is not correct. Consider the serial version: each iteration of the outer loop depends on the invariant that the leading `i` elements of the array are already in sorted order relative to each other. That is achieved by the in-order operation of the previous `i-1` outer-loop iterations.  If you just split the outer-loop iterations among multiple threads, you do not ensure the needed order of those outer-loop iterations.  If you add enough synchronization to ensure that, then it makes the sort effectively serial.","body":"But even if you corrected your checking strategy, your parallel sort is not correct. Consider the serial version: each iteration of the outer loop depends on the invariant that the leading <code>i</code> elements of the array are already in sorted order relative to each other. That is achieved by the in-order operation of the previous <code>i-1</code> outer-loop iterations.  If you just split the outer-loop iterations among multiple threads, you do not ensure the needed order of those outer-loop iterations.  If you add enough synchronization to ensure that, then it makes the sort effectively serial."},{"owner":{"account_id":13179806,"reputation":91,"user_id":21197077,"display_name":"gneginskiy"},"score":1,"creation_date":1676388676,"post_id":75449506,"comment_id":133124728,"body_markdown":"i would consider writing parallel mergesort algorithm instead. divide &amp; conquer algorithms are easier to split into more or less independent tasks for threads.","body":"i would consider writing parallel mergesort algorithm instead. divide &amp; conquer algorithms are easier to split into more or less independent tasks for threads."},{"owner":{"account_id":25333394,"reputation":23,"user_id":20415613,"display_name":"feter"},"score":0,"creation_date":1676388887,"post_id":75449506,"comment_id":133124811,"body_markdown":"Thank you both for the suggestions, i am learning about parallel and am just trying my best to try it here, but try the others also","body":"Thank you both for the suggestions, i am learning about parallel and am just trying my best to try it here, but try the others also"},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1676388897,"post_id":75449506,"comment_id":133124816,"body_markdown":"Letting each thread synchronize on a different object has no effect at all. This is broken.","body":"Letting each thread synchronize on a different object has no effect at all. This is broken."},{"owner":{"account_id":25333394,"reputation":23,"user_id":20415613,"display_name":"feter"},"score":0,"creation_date":1676389075,"post_id":75449506,"comment_id":133124890,"body_markdown":"@Holger I thought you had to synchronize when trying to change a value everyone has access to?","body":"@Holger I thought you had to synchronize when trying to change a value everyone has access to?"},{"owner":{"account_id":25333394,"reputation":23,"user_id":20415613,"display_name":"feter"},"score":0,"creation_date":1676389357,"post_id":75449506,"comment_id":133124976,"body_markdown":"@Holger could you help me figure out why this wont work.","body":"@Holger could you help me figure out why this wont work."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1676389692,"post_id":75449506,"comment_id":133125098,"body_markdown":"I already told you. Your code is not thread safe. There might be more issues, but this code is too complicated to see everything at a glance, especially as it is incomplete. It’s not a useful approach anyway. Read about Quicksort or MergeSort. These are algorithms you can understand and have a natural way of extending them to parallel processing.","body":"I already told you. Your code is not thread safe. There might be more issues, but this code is too complicated to see everything at a glance, especially as it is incomplete. It’s not a useful approach anyway. Read about Quicksort or MergeSort. These are algorithms you can understand and have a natural way of extending them to parallel processing."}],"owner":{"account_id":25333394,"reputation":23,"user_id":20415613,"display_name":"feter"},"comment_count":15,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676388543,"creation_date":1676386049,"question_id":75449506,"body_markdown":"I am trying to insertion-sort (some modification) an array using threads. My problem is that sometimes after I sort, I get that `para_array`  and `arraysort` are equal, sometimes not. The checking where the numbers are not equal I get something like this:\r\n \r\n     99940 and 99941\r\n     99938 and 99940\r\n     99935 and 99938\r\n     99934 and 99935\r\n     99932 and 99934\r\n\r\nwhere `para_array` has the left values and `arraysort` has the right\r\n\r\n\r\nI fill both the array before sorting with random(7363), one random for each so they have the same values.\r\n\r\nI have to sort the `k` first numbers of the array, so what I do is I serially sort the `k` first like this:\r\n\r\n     //sort the k first wher 0 is largest number and k-1 is lowest\r\n     for (int i = 1; i &lt; k; i++) {\r\n          int check = para_array[i];\r\n          int prev = i - 1;\r\n          while (prev &gt;= 0 &amp;&amp; para_array[prev] &lt; check) {\r\n            para_array[prev + 1] = para_array[prev];\r\n            previous_element--;\r\n          }\r\n          para_array[prev + 1] = check;\r\n        }\r\n\r\nI then start the threads. I have a list of threads to run:\r\n      \r\n      for (Thread t : threads) {\r\n        t.start();\r\n      }\r\n\r\n\r\nMy thread:\r\n\r\n     public SortingThread(int[] arr, int start, int end, int k, Object lock) {\r\n      this.arr = arr;\r\n      this.start = start;\r\n      this.end = end;\r\n      this.k = k;\r\n      this.lock = lock;\r\n    }\r\n    \r\n    @Override\r\n    public void run() {\r\n      for (int i = start; i &lt; end; i++) {\r\n        //whill try to find a larger value in its own segment than k-2 if found sort it\r\n        synchronized (lock) {\r\n          if (arr[i] &gt; arr[k - 1]) {\r\n            int set_correct = arr[i];\r\n            int j = k - 2;\r\n            while (j &gt;= 0 &amp;&amp; arr[j] &lt; set_correct) {\r\n              \r\n              arr[j + 1] = arr[j];\r\n              \r\n              j--;\r\n            }\r\n            \r\n            arr[j + 1] = set_correct;\r\n            }\r\n          }\r\n        \r\n      }\r\n\r\n    }\r\n\r\n\r\nThe threads are created like this:\r\n    \r\n      // Create and start all the threads\r\n      for (int i = 0; i &lt; number_of_cores; i++) {\r\n        int start = i * portionSize;\r\n        int end = Math.min((i + 1) * portionSize, n);\r\n  \r\n        threads.add(new SortingThread(para_array, start, end, k,locks.get(i)));\r\n      }\r\n\r\n\r\nI then sort the other array with `array.sort()` and make it in decreasing order, then I check the *k* first values for both.\r\n","title":"Parallel sort and array sort not giving equal output","body":"<p>I am trying to insertion-sort (some modification) an array using threads. My problem is that sometimes after I sort, I get that <code>para_array</code>  and <code>arraysort</code> are equal, sometimes not. The checking where the numbers are not equal I get something like this:</p>\n<pre><code> 99940 and 99941\n 99938 and 99940\n 99935 and 99938\n 99934 and 99935\n 99932 and 99934\n</code></pre>\n<p>where <code>para_array</code> has the left values and <code>arraysort</code> has the right</p>\n<p>I fill both the array before sorting with random(7363), one random for each so they have the same values.</p>\n<p>I have to sort the <code>k</code> first numbers of the array, so what I do is I serially sort the <code>k</code> first like this:</p>\n<pre><code> //sort the k first wher 0 is largest number and k-1 is lowest\n for (int i = 1; i &lt; k; i++) {\n      int check = para_array[i];\n      int prev = i - 1;\n      while (prev &gt;= 0 &amp;&amp; para_array[prev] &lt; check) {\n        para_array[prev + 1] = para_array[prev];\n        previous_element--;\n      }\n      para_array[prev + 1] = check;\n    }\n</code></pre>\n<p>I then start the threads. I have a list of threads to run:</p>\n<pre><code>  for (Thread t : threads) {\n    t.start();\n  }\n</code></pre>\n<p>My thread:</p>\n<pre><code> public SortingThread(int[] arr, int start, int end, int k, Object lock) {\n  this.arr = arr;\n  this.start = start;\n  this.end = end;\n  this.k = k;\n  this.lock = lock;\n}\n\n@Override\npublic void run() {\n  for (int i = start; i &lt; end; i++) {\n    //whill try to find a larger value in its own segment than k-2 if found sort it\n    synchronized (lock) {\n      if (arr[i] &gt; arr[k - 1]) {\n        int set_correct = arr[i];\n        int j = k - 2;\n        while (j &gt;= 0 &amp;&amp; arr[j] &lt; set_correct) {\n          \n          arr[j + 1] = arr[j];\n          \n          j--;\n        }\n        \n        arr[j + 1] = set_correct;\n        }\n      }\n    \n  }\n\n}\n</code></pre>\n<p>The threads are created like this:</p>\n<pre><code>  // Create and start all the threads\n  for (int i = 0; i &lt; number_of_cores; i++) {\n    int start = i * portionSize;\n    int end = Math.min((i + 1) * portionSize, n);\n\n    threads.add(new SortingThread(para_array, start, end, k,locks.get(i)));\n  }\n</code></pre>\n<p>I then sort the other array with <code>array.sort()</code> and make it in decreasing order, then I check the <em>k</em> first values for both.</p>\n"},{"tags":["java","heap-memory"],"comments":[{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":2,"creation_date":1676385951,"post_id":75449391,"comment_id":133123757,"body_markdown":"`the used heap memory drops back to normal but the unused/free heap space remains 1GB.` This sounds normal to me.  In garbage collected systems, the GC doesn&#39;t run until it&#39;s reasonable to do so.  High load may delay the GC and lack of memory pressure might delay it as well.  It&#39;s normal to see the memory usage go way up, then drop back down when the system gets around to GC.  As long as you&#39;re not throwing errors you&#39;re probably ok.","body":"<code>the used heap memory drops back to normal but the unused&#47;free heap space remains 1GB.</code> This sounds normal to me.  In garbage collected systems, the GC doesn&#39;t run until it&#39;s reasonable to do so.  High load may delay the GC and lack of memory pressure might delay it as well.  It&#39;s normal to see the memory usage go way up, then drop back down when the system gets around to GC.  As long as you&#39;re not throwing errors you&#39;re probably ok."},{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":0,"creation_date":1676386135,"post_id":75449391,"comment_id":133123822,"body_markdown":"Which jvm are you using? [this](https://thomas.preissler.me/blog/2021/05/02/release-memory-back-to-the-os-with-java-11) suggests some options, but I&#39;m not sure if they&#39;re relevant for later JVMs","body":"Which jvm are you using? <a href=\"https://thomas.preissler.me/blog/2021/05/02/release-memory-back-to-the-os-with-java-11\" rel=\"nofollow noreferrer\">this</a> suggests some options, but I&#39;m not sure if they&#39;re relevant for later JVMs"},{"owner":{"account_id":4735383,"reputation":1567,"user_id":3829912,"accept_rate":18,"display_name":"Harpreet"},"score":0,"creation_date":1676388227,"post_id":75449391,"comment_id":133124549,"body_markdown":"I am using open jdk 11","body":"I am using open jdk 11"}],"answers":[{"comments":[{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":2,"creation_date":1676388565,"post_id":75449954,"comment_id":133124681,"body_markdown":"Whether or not the JVM can release memory depends on the specific garbage collector used and the Java version.","body":"Whether or not the JVM can release memory depends on the specific garbage collector used and the Java version."}],"tags":[],"owner":{"account_id":374094,"reputation":6654,"user_id":724109,"accept_rate":100,"display_name":"Avishek Bhattacharya"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676388520,"creation_date":1676388231,"answer_id":75449954,"question_id":75449391,"body_markdown":"The used heap will not return if the `-Xms` is high. `-Xms` essentially overrides the FreeRation. Now there are other factors to consider, in the case of parallel GC you can&#39;t shrink the heap as parallel GC doesn&#39;t allow that.\r\n\r\nAlso, JVM can only relinquish the memory after the fullGC if parallelGC is not used.\r\n\r\nSo essentially, not much can be done here. The JVM doesn&#39;t relinquish the memory to OS to avoid recreating the memory. Memory allocation is expensive work, so JVM will hold on to that memory for some time and as the memory management is controlled by Java, it is not always possible to force things here. \r\n\r\nOne downside of reducing heap size would be, it will take time for Java to recreate the memory space over and over with incoming requests. So the clients will always see some higher latency. However, if the memory space is already created, the next stream of clients will see lower latency so essentially your amortized performance will increase. ","title":"Java not releasing unused heap memory","body":"<p>The used heap will not return if the <code>-Xms</code> is high. <code>-Xms</code> essentially overrides the FreeRation. Now there are other factors to consider, in the case of parallel GC you can't shrink the heap as parallel GC doesn't allow that.</p>\n<p>Also, JVM can only relinquish the memory after the fullGC if parallelGC is not used.</p>\n<p>So essentially, not much can be done here. The JVM doesn't relinquish the memory to OS to avoid recreating the memory. Memory allocation is expensive work, so JVM will hold on to that memory for some time and as the memory management is controlled by Java, it is not always possible to force things here.</p>\n<p>One downside of reducing heap size would be, it will take time for Java to recreate the memory space over and over with incoming requests. So the clients will always see some higher latency. However, if the memory space is already created, the next stream of clients will see lower latency so essentially your amortized performance will increase.</p>\n"}],"owner":{"account_id":4735383,"reputation":1567,"user_id":3829912,"accept_rate":18,"display_name":"Harpreet"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":283,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1676388520,"creation_date":1676385552,"question_id":75449391,"body_markdown":"I am facing an issue where my Java application heap increases with an increased no. of requests to the application but then it does not release even the unused heap memory.\r\n\r\nHere is the description:\r\n- My java application starts with a heap memory of 200MB out of which around 100MB is in use.\r\n- As the no. of requests increases, the heap memory usage goes up to 1GB.\r\n- Once the requests processing is finished, the used heap memory drops back to normal but the unused/free heap space remains 1GB.\r\n\r\nI have tried to use *-XX:-ShrinkHeapInSteps, -XX:MinHeapFreeRatio* and *-XX:MaxHeapFreeRatio* JVM arguments but was not able to solve this.\r\n\r\n**Note:** If I try to run the Garbage Collector manually then it lowers the unused heap memory also.\r\n\r\nPlease suggest how we can lower the unused heap memory.","title":"Java not releasing unused heap memory","body":"<p>I am facing an issue where my Java application heap increases with an increased no. of requests to the application but then it does not release even the unused heap memory.</p>\n<p>Here is the description:</p>\n<ul>\n<li>My java application starts with a heap memory of 200MB out of which around 100MB is in use.</li>\n<li>As the no. of requests increases, the heap memory usage goes up to 1GB.</li>\n<li>Once the requests processing is finished, the used heap memory drops back to normal but the unused/free heap space remains 1GB.</li>\n</ul>\n<p>I have tried to use <em>-XX:-ShrinkHeapInSteps, -XX:MinHeapFreeRatio</em> and <em>-XX:MaxHeapFreeRatio</em> JVM arguments but was not able to solve this.</p>\n<p><strong>Note:</strong> If I try to run the Garbage Collector manually then it lowers the unused heap memory also.</p>\n<p>Please suggest how we can lower the unused heap memory.</p>\n"},{"tags":["java","spring","mongodb","jpa","spring-webflux"],"comments":[{"owner":{"account_id":19395247,"reputation":3208,"user_id":14183092,"display_name":"kerbermeister"},"score":0,"creation_date":1676388857,"post_id":75449974,"comment_id":133124790,"body_markdown":"you forgot to subscribe()","body":"you forgot to subscribe()"},{"owner":{"account_id":267723,"reputation":351,"user_id":556070,"accept_rate":100,"display_name":"Nix"},"score":0,"creation_date":1676391503,"post_id":75449974,"comment_id":133125741,"body_markdown":"If I .suscribe() after the map I get a reactor.core.Exceptions$ErrorCallbackNotImplemented: io.mongock.driver.api.lock.LockCheckException","body":"If I .suscribe() after the map I get a reactor.core.Exceptions$ErrorCallbackNotImplemented: io.mongock.driver.api.lock.LockCheckException"},{"owner":{"account_id":19395247,"reputation":3208,"user_id":14183092,"display_name":"kerbermeister"},"score":0,"creation_date":1676391634,"post_id":75449974,"comment_id":133125784,"body_markdown":"check this https://docs.mongock.io/v5/driver/mongodb-reactive/index.html","body":"check this <a href=\"https://docs.mongock.io/v5/driver/mongodb-reactive/index.html\" rel=\"nofollow noreferrer\">docs.mongock.io/v5/driver/mongodb-reactive/index.html</a>"}],"owner":{"account_id":267723,"reputation":351,"user_id":556070,"accept_rate":100,"display_name":"Nix"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676388353,"creation_date":1676388353,"question_id":75449974,"body_markdown":"In a mongok script I want to update the value of an attribute and save the change, in the project I currently only have a ReactiveMongoRepository\r\n\r\nI&#39;m sure that I&#39;m missing something stupid but I can&#39;t figure it out\r\n\r\nHere are my simplified classes\r\n\r\nRepository : \r\n\r\n    @Repository\r\n    public interface CalendarMongoRepository extends ReactiveMongoRepository&lt;CalendarMongo, CalendarMongoId&gt; {\r\n        //Some methods not used here\r\n    }\r\n\r\nPOJO : \r\n\r\n    @Document(&quot;calendars&quot;)\r\n    public class CalendarMongo {\r\n    \r\n        @Id\r\n        private CalendarMongoId id;\r\n    \r\n        private String calendar;\r\n\r\n        public String getCalendar() {\r\n            return calendar;\r\n        }\r\n    \r\n        public CalendarMongo setCalendar(String calendar) {\r\n            this.calendar = calendar;\r\n            return this;\r\n        }\r\n    \r\n        //Other getters setters and other attributes\r\n    \r\n    }\r\n\r\nPOJO ID : \r\n\r\n    public class CalendarMongoId {\r\n    \r\n        @Indexed(name = &quot;branchCode_index&quot;)\r\n        private BranchEnum branchCode;\r\n    \r\n        //Getters setters and other attributes\r\n    }\r\n\r\nMongok Script :\r\n\r\n    @Slf4j\r\n    @ChangeUnit(id = &quot;SetupAttribute&quot;, order = &quot;7&quot;, author = &quot;mongock&quot;)\r\n    public class DatabaseChangeV007SetupAttribute {\r\n    \r\n        private final CalendarMongoRepository calendarMongoRepository;\r\n    \r\n        public DatabaseChangeV007SetupFieldType(CalendarMongoRepository calendarMongoRepository) {\r\n            this.calendarMongoRepository = calendarMongoRepository;\r\n        }\r\n    \r\n        @Execution\r\n        public void migrationMethod() {\r\n            calendarMongoRepository.findAll()\r\n                               .map(calendarMongo -&gt; calendarMongo.setCalendar(&quot;AA&quot;))\r\n                               .map(calendarMongoRepository::save);\r\n    \r\n        }\r\n    \r\n        @RollbackExecution\r\n        public void rollback() {\r\n            log.error(&quot;Rollback invoked&quot;);\r\n        }\r\n    \r\n    }\r\n\r\n\r\nWhen I launch my project this script just does nothing, I do not see the change in my database. I&#39;m sure the problem is not the structure of the script because of other tests.\r\n\r\nI tried to use doOnNext but it&#39;s not the way to do.\r\n\r\nI tried to use flatMap but I didn&#39;t manage to make it work either.\r\n\r\nDo you have an idea ? \r\nThank you in advance !","title":"Changing the value of an attribute and saving it using ReactiveMongoRepository","body":"<p>In a mongok script I want to update the value of an attribute and save the change, in the project I currently only have a ReactiveMongoRepository</p>\n<p>I'm sure that I'm missing something stupid but I can't figure it out</p>\n<p>Here are my simplified classes</p>\n<p>Repository :</p>\n<pre><code>@Repository\npublic interface CalendarMongoRepository extends ReactiveMongoRepository&lt;CalendarMongo, CalendarMongoId&gt; {\n    //Some methods not used here\n}\n</code></pre>\n<p>POJO :</p>\n<pre><code>@Document(&quot;calendars&quot;)\npublic class CalendarMongo {\n\n    @Id\n    private CalendarMongoId id;\n\n    private String calendar;\n\n    public String getCalendar() {\n        return calendar;\n    }\n\n    public CalendarMongo setCalendar(String calendar) {\n        this.calendar = calendar;\n        return this;\n    }\n\n    //Other getters setters and other attributes\n\n}\n</code></pre>\n<p>POJO ID :</p>\n<pre><code>public class CalendarMongoId {\n\n    @Indexed(name = &quot;branchCode_index&quot;)\n    private BranchEnum branchCode;\n\n    //Getters setters and other attributes\n}\n</code></pre>\n<p>Mongok Script :</p>\n<pre><code>@Slf4j\n@ChangeUnit(id = &quot;SetupAttribute&quot;, order = &quot;7&quot;, author = &quot;mongock&quot;)\npublic class DatabaseChangeV007SetupAttribute {\n\n    private final CalendarMongoRepository calendarMongoRepository;\n\n    public DatabaseChangeV007SetupFieldType(CalendarMongoRepository calendarMongoRepository) {\n        this.calendarMongoRepository = calendarMongoRepository;\n    }\n\n    @Execution\n    public void migrationMethod() {\n        calendarMongoRepository.findAll()\n                           .map(calendarMongo -&gt; calendarMongo.setCalendar(&quot;AA&quot;))\n                           .map(calendarMongoRepository::save);\n\n    }\n\n    @RollbackExecution\n    public void rollback() {\n        log.error(&quot;Rollback invoked&quot;);\n    }\n\n}\n</code></pre>\n<p>When I launch my project this script just does nothing, I do not see the change in my database. I'm sure the problem is not the structure of the script because of other tests.</p>\n<p>I tried to use doOnNext but it's not the way to do.</p>\n<p>I tried to use flatMap but I didn't manage to make it work either.</p>\n<p>Do you have an idea ?\nThank you in advance !</p>\n"},{"tags":["java","sorting","arraylist","return","nested-for-loop"],"answers":[{"tags":[],"owner":{"account_id":11988367,"reputation":540,"user_id":8772274,"display_name":"Nahuel Giani"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676383914,"creation_date":1676383914,"answer_id":75449056,"question_id":75448823,"body_markdown":"You are not telling to Java newList array&#39;s size, in that case you cannot use *.add* with index.\r\n\r\nYou have 3 options:\r\n\r\n1) Change newList to a array of String&#39;s\r\n\r\n&gt; \t    String[] newList = new String[x-size];\r\n\r\n\r\n2) Use the .sort method of ArrayList.\r\n\r\n\r\n&gt; \t    wordList.sort((o1, o2) -&gt; o1.compareTo(o2));\r\n\r\n\r\n3) Move the arrayList values to a treeSet (which use Comparable and is sorted)\r\n\r\n&gt; \t    Set&lt;String&gt; sortedSet = new TreeSet&lt;&gt;();\r\n&gt; \t    \r\n&gt; \t    for (String word : wordList) {\t\t\t\r\n&gt; \t         sortedSet.add(word);\r\n&gt; \t    }","title":"Error with the return of a sorting words alphabetically method. Probably a logical error?","body":"<p>You are not telling to Java newList array's size, in that case you cannot use <em>.add</em> with index.</p>\n<p>You have 3 options:</p>\n<ol>\n<li>Change newList to a array of String's</li>\n</ol>\n<blockquote>\n<pre><code>  String[] newList = new String[x-size];\n</code></pre>\n</blockquote>\n<ol start=\"2\">\n<li>Use the .sort method of ArrayList.</li>\n</ol>\n<blockquote>\n<pre><code>  wordList.sort((o1, o2) -&gt; o1.compareTo(o2));\n</code></pre>\n</blockquote>\n<ol start=\"3\">\n<li>Move the arrayList values to a treeSet (which use Comparable and is sorted)</li>\n</ol>\n<blockquote>\n<pre><code>  Set&lt;String&gt; sortedSet = new TreeSet&lt;&gt;();\n  \n  for (String word : wordList) {          \n       sortedSet.add(word);\n  }\n</code></pre>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":18089384,"reputation":79,"user_id":13149404,"display_name":"Bujaq"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676387544,"creation_date":1676387544,"answer_id":75449818,"question_id":75448823,"body_markdown":"use **==0** instead of **&lt;0**   :\r\n`         if((wordList.get(outter)).compareTo(wordList.get(inner))&lt;0 )`\r\ncompareTo returns number of common characters, fo You shouldn&#39;t get -1 \r\n\r\n\r\nCorrect code :\r\n\r\n    public ArrayList&lt;String&gt; sortWords(ArrayList&lt;String&gt; wordList) { // changed static void\r\n        // TO DO #1: Sort the words in wordList in alphabetical order.\r\n        ArrayList&lt;String&gt; newList = new ArrayList&lt;String&gt;();\r\n        for(int outter = 0; outter&lt;wordList.size(); outter ++){ // takes 1 word in the list at a time\r\n          for(int inner = 0; inner&lt;wordList.size(); inner ++){ // compares it to all the other words in the list\r\n             if((wordList.get(outter)).compareTo(wordList.get(inner))==0 ){ \r\n            // return i;\r\n               newList.add(inner,wordList.get(outter));// adds current word to index of the inner loop\r\n               continue;\r\n           }// end of if\r\n       } // end of inner\r\n        }// end outter\r\n           return newList;\r\n        \r\n      }**","title":"Error with the return of a sorting words alphabetically method. Probably a logical error?","body":"<p>use <strong>==0</strong> instead of <strong>&lt;0</strong>   :\n<code>         if((wordList.get(outter)).compareTo(wordList.get(inner))&lt;0 )</code>\ncompareTo returns number of common characters, fo You shouldn't get -1</p>\n<p>Correct code :</p>\n<pre><code>public ArrayList&lt;String&gt; sortWords(ArrayList&lt;String&gt; wordList) { // changed static void\n    // TO DO #1: Sort the words in wordList in alphabetical order.\n    ArrayList&lt;String&gt; newList = new ArrayList&lt;String&gt;();\n    for(int outter = 0; outter&lt;wordList.size(); outter ++){ // takes 1 word in the list at a time\n      for(int inner = 0; inner&lt;wordList.size(); inner ++){ // compares it to all the other words in the list\n         if((wordList.get(outter)).compareTo(wordList.get(inner))==0 ){ \n        // return i;\n           newList.add(inner,wordList.get(outter));// adds current word to index of the inner loop\n           continue;\n       }// end of if\n   } // end of inner\n    }// end outter\n       return newList;\n    \n  }**\n</code></pre>\n"}],"owner":{"account_id":27779034,"reputation":1,"user_id":21207751,"display_name":"N3wb1e"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1676387544,"creation_date":1676382756,"question_id":75448823,"body_markdown":"I have a method thats supposted to go through an ArrayList of words and put them in order alphabetically using .compareTo(). However I get this message when the program is run\r\n```\r\nException message: java.lang.IndexOutOfBoundsException: Index: 3, Size: 0\r\n\t at java.base/java.util.ArrayList.rangeCheckForAdd(Unknown Source)\r\n\t at java.base/java.util.ArrayList.add(Unknown Source)\r\n\t at ListSorter.sortWords(ListSorter.java:19) \r\n\t at MyConsole.main(MyConsole.java:11) \r\n```\r\nI need it to return a list of words sorted alphabetically.\r\nIve tried taking out &quot;newList&quot; and replacing where you see newList with wordList but this message appears\r\n```\r\nException message: java.lang.OutOfMemoryError: Java heap space\r\n\t at java.base/java.util.Arrays.copyOf(Unknown Source)\r\n\t at java.base/java.util.ArrayList.grow(Unknown Source)\r\n\t at java.base/java.util.ArrayList.grow(Unknown Source)\r\n\t at java.base/java.util.ArrayList.add(Unknown Source)\r\n\t at ListSorter.sortWords(ListSorter.java:19)\r\n\t at MyConsole.main(MyConsole.java:11)\r\n```\r\nAny suggestions?\r\n\r\n**The method in a class called ListSorter**\r\n```\r\npublic ArrayList&lt;String&gt; sortWords(ArrayList&lt;String&gt; wordList) { // changed static void\r\n    // TO DO #1: Sort the words in wordList in alphabetical order.\r\n    ArrayList&lt;String&gt; newList = new ArrayList&lt;String&gt;();\r\n    for(int outter = 0; outter&lt;wordList.size(); outter ++){ // takes 1 word in the list at a time\r\n      for(int inner = 0; inner&lt;wordList.size(); inner ++){ // compares it to all the other words in the list\r\n         if((wordList.get(outter)).compareTo(wordList.get(inner))&lt;0 ){ \r\n        // return i;\r\n           newList.add(inner,wordList.get(outter));// adds current word to index of the inner loop\r\n       }// end of if\r\n   } // end of inner\r\n    }// end outter\r\n       return newList;\r\n    \r\n  }\r\n```\r\n\r\n**Whats currently in MyConsole**\r\n```\r\n ArrayList&lt;String&gt; wordList = FileReader.getStringData(&quot;words.txt&quot;);\r\nListSorter newList = new ListSorter();\r\n   // newList.setTextList(wordList);\r\n    // TO DO #2: Call the sortWords() method and print the updated list.\r\nSystem.out.print(newList.sortWords(wordList));\r\n//newList.sortWords(wordList);\r\n```","title":"Error with the return of a sorting words alphabetically method. Probably a logical error?","body":"<p>I have a method thats supposted to go through an ArrayList of words and put them in order alphabetically using .compareTo(). However I get this message when the program is run</p>\n<pre><code>Exception message: java.lang.IndexOutOfBoundsException: Index: 3, Size: 0\n     at java.base/java.util.ArrayList.rangeCheckForAdd(Unknown Source)\n     at java.base/java.util.ArrayList.add(Unknown Source)\n     at ListSorter.sortWords(ListSorter.java:19) \n     at MyConsole.main(MyConsole.java:11) \n</code></pre>\n<p>I need it to return a list of words sorted alphabetically.\nIve tried taking out &quot;newList&quot; and replacing where you see newList with wordList but this message appears</p>\n<pre><code>Exception message: java.lang.OutOfMemoryError: Java heap space\n     at java.base/java.util.Arrays.copyOf(Unknown Source)\n     at java.base/java.util.ArrayList.grow(Unknown Source)\n     at java.base/java.util.ArrayList.grow(Unknown Source)\n     at java.base/java.util.ArrayList.add(Unknown Source)\n     at ListSorter.sortWords(ListSorter.java:19)\n     at MyConsole.main(MyConsole.java:11)\n</code></pre>\n<p>Any suggestions?</p>\n<p><strong>The method in a class called ListSorter</strong></p>\n<pre><code>public ArrayList&lt;String&gt; sortWords(ArrayList&lt;String&gt; wordList) { // changed static void\n    // TO DO #1: Sort the words in wordList in alphabetical order.\n    ArrayList&lt;String&gt; newList = new ArrayList&lt;String&gt;();\n    for(int outter = 0; outter&lt;wordList.size(); outter ++){ // takes 1 word in the list at a time\n      for(int inner = 0; inner&lt;wordList.size(); inner ++){ // compares it to all the other words in the list\n         if((wordList.get(outter)).compareTo(wordList.get(inner))&lt;0 ){ \n        // return i;\n           newList.add(inner,wordList.get(outter));// adds current word to index of the inner loop\n       }// end of if\n   } // end of inner\n    }// end outter\n       return newList;\n    \n  }\n</code></pre>\n<p><strong>Whats currently in MyConsole</strong></p>\n<pre><code> ArrayList&lt;String&gt; wordList = FileReader.getStringData(&quot;words.txt&quot;);\nListSorter newList = new ListSorter();\n   // newList.setTextList(wordList);\n    // TO DO #2: Call the sortWords() method and print the updated list.\nSystem.out.print(newList.sortWords(wordList));\n//newList.sortWords(wordList);\n</code></pre>\n"},{"tags":["java","eclipse"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1676387394,"post_id":75449744,"comment_id":133124273,"body_markdown":"Take care of java naming conventions. variable names should start with lower case character and all names should be camelCase not snake_case. And also you should indent your code properbly. Your code is very hard to read.","body":"Take care of java naming conventions. variable names should start with lower case character and all names should be camelCase not snake_case. And also you should indent your code properbly. Your code is very hard to read."}],"owner":{"account_id":23533465,"reputation":15,"user_id":17578737,"display_name":"ramesh"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":11,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1676387307,"answer_count":0,"score":0,"last_activity_date":1676387502,"creation_date":1676387196,"question_id":75449744,"body_markdown":"Below is the java code which is used in an email with an excel attachment, but this excel file is getting from another class. while running this send email class in eclipse mail sent successfully but when I run through the batch file getting an error as cannot find the symbol in the lone &quot;String difference_path =Difference_directory.getLatestFilePath();&quot;.\r\n\r\n    public class Send_email{\r\n\tstatic String status=null;\r\n\tpublic static Properties CONFIG = null;\r\n\t\r\n    public static void main(String[] args) throws Exception {\r\n    \t  \r\n\t\tString difference_path = Difference_directory.getLatestFilePath();\r\n\t\tSystem.out.println(difference_path);\r\n\t\tProperties props = new Properties();\r\n\t\tprops.put(&quot;mail.transport.protocol&quot;, &quot;smtp&quot;);\r\n    \tprops.put(&quot;mail.smtp.port&quot;, 587); \r\n    \tprops.put(&quot;mail.smtp.starttls.enable&quot;, &quot;true&quot;);\r\n    \tprops.put(&quot;mail.smtp.auth&quot;, &quot;true&quot;);\r\n\t\t\r\n\t\t//Loading Config file\r\n\tProperties CONFIG = new Properties();\r\n\tFileInputStream fs = new FileInputStream(System.getProperty(&quot;user.dir&quot;)+&quot;\\\\src\\\\main\\\\resource\\\\config2.properties&quot;);\r\n\t\r\n\t\tCONFIG.load(fs);\r\n\t\tString FROM= CONFIG.getProperty(&quot;FROM&quot;);\r\n\t\tString FROMNAME= CONFIG.getProperty(&quot;FROMNAME&quot;);\r\n\t\tString SMTP_USERNAME= CONFIG.getProperty(&quot;SMTP_USERNAME&quot;);\r\n\t\tString SMTP_PASSWORD= CONFIG.getProperty(&quot;SMTP_PASSWORD&quot;);\r\n\t\tString HOST= CONFIG.getProperty(&quot;HOST&quot;);\r\n\t\tString TO=&quot;&quot;;\r\n\t\t\r\n\t\t// folder path for execution report\r\n\t\t \r\n        final String FOLDER_PATH = &quot;C:\\\\Users\\\\rramesh\\\\eclipse-workspace\\\\Financial_API\\\\test-output&quot;;\r\n\t\tgetStatus(FOLDER_PATH + &quot;/testng-results.xml&quot;);\r\n\t\t\r\n\t\t\r\n\t\tif(status.equals(&quot;PASSED&quot;)){\r\n\t\t\tTO=CONFIG.getProperty(&quot;PassMail&quot;);\r\n\t\t}else if(status.equals(&quot;FAILED&quot;)){\r\n\t\t\tTO=CONFIG.getProperty(&quot;FailMail&quot;);\r\n\t\t}\r\n\t\t\r\n\t\t   Session session = Session.getDefaultInstance(props);\r\n\t\t\tMessage message = new MimeMessage(session);\r\n\t\t\tmessage.setFrom(new InternetAddress(FROM,FROMNAME));\r\n\t\t\tmessage.setRecipients(Message.RecipientType.TO,\r\n\t\t\t\t\tInternetAddress.parse(TO));\r\n\t\t\tmessage.setSubject(status + &quot; : Financial Block&quot; );\r\n\t\t\tBodyPart messageBodyPart = new MimeBodyPart();\r\n\t\t\tString myMessage1=&quot;Hi All,&quot;;\r\n\t\t\tString myMessage2=&quot;&lt;br&gt;Data is Mismatchng between Database Search and Elastic Search&quot;;\r\n\t\t\tString myMessage3=&quot;&lt;br&gt;Regards&lt;br&gt;QA Automation Team&quot;;\r\n\t\t\t//messageBodyPart.setText(myMessage1);\r\n\t\t\tmessageBodyPart.setContent(myMessage1 + &quot;&lt;br&gt;&quot;+ myMessage2 + &quot;&lt;br&gt;&quot;+ myMessage3, &quot;text/html&quot;);\r\n\r\n\t\t\tMultipart multipart = new MimeMultipart();\r\n\t\t\tmultipart.addBodyPart(messageBodyPart);\r\n\t\t\tmessageBodyPart = new MimeBodyPart();\r\n\t\t\t//String filename = FOLDER_PATH + &quot;/eTicket-Automation-report.html&quot;;\r\n\t\t\tString efile = FOLDER_PATH + &quot;/emailable-report.html&quot;;\r\n\t\t\tDataSource src = new FileDataSource(difference_path);\r\n\t\t\tmessageBodyPart.setDataHandler(new DataHandler(src));\r\n\t\t\t//DataSource source = new FileDataSource(filename);\r\n\t\t\t//messageBodyPart.setDataHandler(new DataHandler(source));\r\n\t\t\tString reportName=&quot;&quot;;\r\n\t\t\t\r\n\t\t\t\treportName=&quot;Financial Block automation&quot;;\r\n\t\t\t\r\n\t\t\tmessageBodyPart.setFileName(reportName + &quot;.xlsx&quot;);\r\n\t\t\tmultipart.addBodyPart(messageBodyPart);\r\n\t\t\tmessage.setContent(multipart);\r\n\t\t\t Transport transport = session.getTransport();\r\n\t\t\t \r\n\t\t\t try\r\n\t\t        {\r\n\t\t            System.out.println(&quot;Sending...&quot;);\r\n\t\t            \r\n\t\t            \r\n\t\t            // Connect to Amazon SES using the SMTP username and password you specified above.\r\n\t\t            transport.connect(HOST, SMTP_USERNAME, SMTP_PASSWORD);\r\n\t\t             \r\n\t\t            // Send the email.\r\n\t\t            transport.sendMessage(message, message.getAllRecipients());\r\n\t\t            \r\n\t\t            System.out.println(&quot;Email sent!&quot;);\r\n\t\t        }\r\n\t\t        catch (Exception ex) {\r\n\t\t            System.out.println(&quot;The email was not sent.&quot;);\r\n\t\t            System.out.println(&quot;Error message: &quot; + ex.getMessage());\r\n\t\t        }\r\n\t\t        finally\r\n\t\t        {\r\n\t\t            // Close and terminate the connection.\r\n\t\t            transport.close();\r\n\t\t        }\r\n\t\t\r\n\t}\r\n\r\n\tpublic static void getStatus(String filePath) throws SAXException, IOException, ParserConfigurationException {\r\n\t\tFile inputFile = new File(filePath);\r\n\t\tDocumentBuilderFactory dbFactory \r\n\t\t= DocumentBuilderFactory.newInstance();\r\n\t\tDocumentBuilder dBuilder = dbFactory.newDocumentBuilder();\r\n\t\tDocument doc = dBuilder.parse(inputFile);\r\n\t\tdoc.getDocumentElement().normalize();\r\n\t\tNodeList nList = doc.getElementsByTagName(&quot;testng-results&quot;);\r\n\t\tNode nNode = nList.item(0);\r\n\t\tif (nNode.getNodeType() == Node.ELEMENT_NODE) {\r\n\t\t\tElement eElement = (Element) nNode;\r\n\t\t\tint failed = Integer.parseInt(eElement.getAttribute(&quot;failed&quot;));\r\n\t\t\tint skipped = Integer.parseInt(eElement.getAttribute(&quot;skipped&quot;));\r\n\r\n\t\t\tif(failed!=0 || skipped!=0)\r\n\t\t\t\tstatus=&quot;FAILED&quot;;\r\n\t\t\telse\r\n\t\t\t\tstatus=&quot;PASSED&quot;;\r\n\t\t}\r\n\t}\r\n}\r\n\r\nAnd the batch file is \r\ncd\\\r\ncd C:\\Users\\rramesh\\eclipse-workspace\\Financial_API\\src\\main\\java\\Utlities\r\njavac -cp C:\\JarLib\\*;. Send_email.java \r\ncd..\r\njava -cp C:\\JarLib\\*;. Utlities.Send_email\r\n \r\n \r\n\r\n","title":"Java class file running successfully in eclipse getting error while running through batch file","body":"<p>Below is the java code which is used in an email with an excel attachment, but this excel file is getting from another class. while running this send email class in eclipse mail sent successfully but when I run through the batch file getting an error as cannot find the symbol in the lone &quot;String difference_path =Difference_directory.getLatestFilePath();&quot;.</p>\n<pre><code>public class Send_email{\nstatic String status=null;\npublic static Properties CONFIG = null;\n\npublic static void main(String[] args) throws Exception {\n      \n    String difference_path = Difference_directory.getLatestFilePath();\n    System.out.println(difference_path);\n    Properties props = new Properties();\n    props.put(&quot;mail.transport.protocol&quot;, &quot;smtp&quot;);\n    props.put(&quot;mail.smtp.port&quot;, 587); \n    props.put(&quot;mail.smtp.starttls.enable&quot;, &quot;true&quot;);\n    props.put(&quot;mail.smtp.auth&quot;, &quot;true&quot;);\n    \n    //Loading Config file\nProperties CONFIG = new Properties();\nFileInputStream fs = new FileInputStream(System.getProperty(&quot;user.dir&quot;)+&quot;\\\\src\\\\main\\\\resource\\\\config2.properties&quot;);\n\n    CONFIG.load(fs);\n    String FROM= CONFIG.getProperty(&quot;FROM&quot;);\n    String FROMNAME= CONFIG.getProperty(&quot;FROMNAME&quot;);\n    String SMTP_USERNAME= CONFIG.getProperty(&quot;SMTP_USERNAME&quot;);\n    String SMTP_PASSWORD= CONFIG.getProperty(&quot;SMTP_PASSWORD&quot;);\n    String HOST= CONFIG.getProperty(&quot;HOST&quot;);\n    String TO=&quot;&quot;;\n    \n    // folder path for execution report\n     \n    final String FOLDER_PATH = &quot;C:\\\\Users\\\\rramesh\\\\eclipse-workspace\\\\Financial_API\\\\test-output&quot;;\n    getStatus(FOLDER_PATH + &quot;/testng-results.xml&quot;);\n    \n    \n    if(status.equals(&quot;PASSED&quot;)){\n        TO=CONFIG.getProperty(&quot;PassMail&quot;);\n    }else if(status.equals(&quot;FAILED&quot;)){\n        TO=CONFIG.getProperty(&quot;FailMail&quot;);\n    }\n    \n       Session session = Session.getDefaultInstance(props);\n        Message message = new MimeMessage(session);\n        message.setFrom(new InternetAddress(FROM,FROMNAME));\n        message.setRecipients(Message.RecipientType.TO,\n                InternetAddress.parse(TO));\n        message.setSubject(status + &quot; : Financial Block&quot; );\n        BodyPart messageBodyPart = new MimeBodyPart();\n        String myMessage1=&quot;Hi All,&quot;;\n        String myMessage2=&quot;&lt;br&gt;Data is Mismatchng between Database Search and Elastic Search&quot;;\n        String myMessage3=&quot;&lt;br&gt;Regards&lt;br&gt;QA Automation Team&quot;;\n        //messageBodyPart.setText(myMessage1);\n        messageBodyPart.setContent(myMessage1 + &quot;&lt;br&gt;&quot;+ myMessage2 + &quot;&lt;br&gt;&quot;+ myMessage3, &quot;text/html&quot;);\n\n        Multipart multipart = new MimeMultipart();\n        multipart.addBodyPart(messageBodyPart);\n        messageBodyPart = new MimeBodyPart();\n        //String filename = FOLDER_PATH + &quot;/eTicket-Automation-report.html&quot;;\n        String efile = FOLDER_PATH + &quot;/emailable-report.html&quot;;\n        DataSource src = new FileDataSource(difference_path);\n        messageBodyPart.setDataHandler(new DataHandler(src));\n        //DataSource source = new FileDataSource(filename);\n        //messageBodyPart.setDataHandler(new DataHandler(source));\n        String reportName=&quot;&quot;;\n        \n            reportName=&quot;Financial Block automation&quot;;\n        \n        messageBodyPart.setFileName(reportName + &quot;.xlsx&quot;);\n        multipart.addBodyPart(messageBodyPart);\n        message.setContent(multipart);\n         Transport transport = session.getTransport();\n         \n         try\n            {\n                System.out.println(&quot;Sending...&quot;);\n                \n                \n                // Connect to Amazon SES using the SMTP username and password you specified above.\n                transport.connect(HOST, SMTP_USERNAME, SMTP_PASSWORD);\n                 \n                // Send the email.\n                transport.sendMessage(message, message.getAllRecipients());\n                \n                System.out.println(&quot;Email sent!&quot;);\n            }\n            catch (Exception ex) {\n                System.out.println(&quot;The email was not sent.&quot;);\n                System.out.println(&quot;Error message: &quot; + ex.getMessage());\n            }\n            finally\n            {\n                // Close and terminate the connection.\n                transport.close();\n            }\n    \n}\n\npublic static void getStatus(String filePath) throws SAXException, IOException, ParserConfigurationException {\n    File inputFile = new File(filePath);\n    DocumentBuilderFactory dbFactory \n    = DocumentBuilderFactory.newInstance();\n    DocumentBuilder dBuilder = dbFactory.newDocumentBuilder();\n    Document doc = dBuilder.parse(inputFile);\n    doc.getDocumentElement().normalize();\n    NodeList nList = doc.getElementsByTagName(&quot;testng-results&quot;);\n    Node nNode = nList.item(0);\n    if (nNode.getNodeType() == Node.ELEMENT_NODE) {\n        Element eElement = (Element) nNode;\n        int failed = Integer.parseInt(eElement.getAttribute(&quot;failed&quot;));\n        int skipped = Integer.parseInt(eElement.getAttribute(&quot;skipped&quot;));\n\n        if(failed!=0 || skipped!=0)\n            status=&quot;FAILED&quot;;\n        else\n            status=&quot;PASSED&quot;;\n    }\n}\n</code></pre>\n<p>}</p>\n<p>And the batch file is\ncd<br />\ncd C:\\Users\\rramesh\\eclipse-workspace\\Financial_API\\src\\main\\java\\Utlities\njavac -cp C:\\JarLib*;. Send_email.java\ncd..\njava -cp C:\\JarLib*;. Utlities.Send_email</p>\n"},{"tags":["java","websocket","vert.x","kucoin"],"owner":{"account_id":398338,"reputation":85,"user_id":762965,"display_name":"foundationer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":206,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676387354,"creation_date":1676387354,"question_id":75449778,"body_markdown":"I&#39;m trying to connect to the **Kucoin** API using **Secure WebSockets** (WSS). I&#39;m using JDK 17 and **Vert.x** 4.3.8 (the latest version at this time). I followed the instructions [here][1].\r\n\r\n\r\nSo currently I have a basic app with two verticles: the first one uses a **WebClient** to connect to the `/api/v1/bullet-public` URI to get the WSS endpoint and the token. Once I get an answer, I save these to a local map and publish an event to the bus to connect to the WebSocket feed. This part works fine.\r\n\r\nThe second verticle consumes the event published by the first one and creates a websocket using the settings saved on the local map. This doesn&#39;t work. I tried two slightly different approaches and I get different errors on each.\r\n\r\nThe first approach is to set the host to ws-api-spot.kucoin.com and the relative URI. The code for this is on [this Github gist][2].\r\n\r\nIn this case I get the following error:\r\n\r\n    io.netty.handler.codec.http.websocketx.WebSocketHandshakeException: Connection closed while handshake in process\r\n\tat io.vertx.core.http.impl.WebSocketHandshakeInboundHandler.channelInactive(WebSocketHandshakeInboundHandler.java:81)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:305)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274)\r\n\tat io.netty.channel.CombinedChannelDuplexHandler$DelegatingChannelHandlerContext.fireChannelInactive(CombinedChannelDuplexHandler.java:418)\r\n\tat io.netty.handler.codec.ByteToMessageDecoder.channelInputClosed(ByteToMessageDecoder.java:411)\r\n\tat io.netty.handler.codec.ByteToMessageDecoder.channelInactive(ByteToMessageDecoder.java:376)\r\n\tat io.netty.handler.codec.http.HttpClientCodec$Decoder.channelInactive(HttpClientCodec.java:329)\r\n\tat io.netty.channel.CombinedChannelDuplexHandler.channelInactive(CombinedChannelDuplexHandler.java:221)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274)\r\n\tat io.netty.handler.logging.LoggingHandler.channelInactive(LoggingHandler.java:206)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274)\r\n\tat io.netty.handler.codec.ByteToMessageDecoder.channelInputClosed(ByteToMessageDecoder.java:411)\r\n\tat io.netty.handler.codec.ByteToMessageDecoder.channelInactive(ByteToMessageDecoder.java:376)\r\n\tat io.netty.handler.ssl.SslHandler.channelInactive(SslHandler.java:1075)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:305)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274)\r\n\tat io.netty.channel.DefaultChannelPipeline$HeadContext.channelInactive(DefaultChannelPipeline.java:1405)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:301)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281)\r\n\tat io.netty.channel.DefaultChannelPipeline.fireChannelInactive(DefaultChannelPipeline.java:901)\r\n\tat io.netty.channel.AbstractChannel$AbstractUnsafe$7.run(AbstractChannel.java:813)\r\n\tat io.netty.util.concurrent.AbstractEventExecutor.runTask(AbstractEventExecutor.java:174)\r\n\tat io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:167)\r\n\tat io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:470)\r\n\tat io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:566)\r\n\tat io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)\r\n\tat io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\r\n\tat io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\r\n\tat java.base/java.lang.Thread.run(Thread.java:833)\r\n\r\nThe second approach is to set the absolute URI to something like this:\r\n\r\n    wss://ws-api-spot.kucoin.com/endpoint/?token=&lt;token_value&gt;&amp;topic=/market/ticker:btc&amp;response=true\r\n\r\nTo do this, I slightly modified the getOptions method like this:\r\n\r\n    private static WebSocketConnectOptions getOptions(LocalMap&lt;String, String&gt; serverDetails) {\r\n      WebSocketConnectOptions options = new WebSocketConnectOptions();\r\n      options.setMethod(HttpMethod.GET);\r\n      options.setAllowOriginHeader(false);\r\n      options.setPort(443);\r\n      options.setSsl(true);\r\n      options.setAbsoluteURI(serverDetails.get(&quot;endpoint&quot;) + &quot;endpoint/?token=&quot; + serverDetails.get(&quot;token&quot;) + &quot;&amp;topic=/market/ticker:btc&amp;response=true&quot;);\r\n      return options;\r\n    }\r\n\r\nIn this case, I get this other error:\r\n\r\n    io.vertx.core.VertxException: Invalid url: wss://ws-api-spot.kucoin.com/endpoint/?token=&lt;token_value&gt;&amp;topic=/market/ticker:btc&amp;response=true\r\n\tat io.vertx.core.http.RequestOptions.parseUrl(RequestOptions.java:357)\r\n\tat io.vertx.core.http.RequestOptions.setAbsoluteURI(RequestOptions.java:370)\r\n\tat org.phase5.goyena.SymbolSnapshotVerticle.getOptions(SymbolSnapshotVerticle.java:52)\r\n\tat org.phase5.goyena.SymbolSnapshotVerticle.lambda$start$3(SymbolSnapshotVerticle.java:32)\r\n\tat io.vertx.core.impl.ContextInternal.dispatch(ContextInternal.java:264)\r\n\tat io.vertx.core.eventbus.impl.MessageConsumerImpl.dispatch(MessageConsumerImpl.java:177)\r\n\tat io.vertx.core.eventbus.impl.HandlerRegistration$InboundDeliveryContext.execute(HandlerRegistration.java:137)\r\n\tat io.vertx.core.eventbus.impl.DeliveryContextBase.next(DeliveryContextBase.java:72)\r\n\tat io.vertx.core.eventbus.impl.DeliveryContextBase.dispatch(DeliveryContextBase.java:43)\r\n\tat io.vertx.core.eventbus.impl.HandlerRegistration.dispatch(HandlerRegistration.java:98)\r\n\tat io.vertx.core.eventbus.impl.MessageConsumerImpl.deliver(MessageConsumerImpl.java:183)\r\n\tat io.vertx.core.eventbus.impl.MessageConsumerImpl.doReceive(MessageConsumerImpl.java:168)\r\n\tat io.vertx.core.eventbus.impl.HandlerRegistration.lambda$receive$0(HandlerRegistration.java:49)\r\n\tat io.netty.util.concurrent.AbstractEventExecutor.runTask(AbstractEventExecutor.java:174)\r\n\tat io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:167)\r\n\tat io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:470)\r\n\tat io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:569)\r\n\tat io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)\r\n\tat io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\r\n\tat io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\r\n\tat java.base/java.lang.Thread.run(Thread.java:833)\r\n    Caused by: java.net.MalformedURLException: unknown protocol: wss\r\n\tat java.base/java.net.URL.&lt;init&gt;(URL.java:681)\r\n\tat java.base/java.net.URL.&lt;init&gt;(URL.java:569)\r\n\tat java.base/java.net.URL.&lt;init&gt;(URL.java:516)\r\n\tat io.vertx.core.http.RequestOptions.parseUrl(RequestOptions.java:355)\r\n\t... 20 common frames omitted\r\n\r\nWhen I manually run a request from **Postman** following the same instructions, I successfully get a connection. Any ideas of what&#39;s wrong? Do I need to change the options for either the HTTP client or the Websocket?\r\n\r\nThanks in advance.\r\n\r\n  [1]: https://docs.kucoin.com/#websocket-feed\r\n  [2]: https://gist.github.com/foundationer/7c2024b85f946baac1131791870058f4","title":"Unable to connect to Kucoin API using Secure WebSockets, JDK 17 and Vert.x","body":"<p>I'm trying to connect to the <strong>Kucoin</strong> API using <strong>Secure WebSockets</strong> (WSS). I'm using JDK 17 and <strong>Vert.x</strong> 4.3.8 (the latest version at this time). I followed the instructions <a href=\"https://docs.kucoin.com/#websocket-feed\" rel=\"nofollow noreferrer\">here</a>.</p>\n<p>So currently I have a basic app with two verticles: the first one uses a <strong>WebClient</strong> to connect to the <code>/api/v1/bullet-public</code> URI to get the WSS endpoint and the token. Once I get an answer, I save these to a local map and publish an event to the bus to connect to the WebSocket feed. This part works fine.</p>\n<p>The second verticle consumes the event published by the first one and creates a websocket using the settings saved on the local map. This doesn't work. I tried two slightly different approaches and I get different errors on each.</p>\n<p>The first approach is to set the host to ws-api-spot.kucoin.com and the relative URI. The code for this is on <a href=\"https://gist.github.com/foundationer/7c2024b85f946baac1131791870058f4\" rel=\"nofollow noreferrer\">this Github gist</a>.</p>\n<p>In this case I get the following error:</p>\n<pre><code>io.netty.handler.codec.http.websocketx.WebSocketHandshakeException: Connection closed while handshake in process\nat io.vertx.core.http.impl.WebSocketHandshakeInboundHandler.channelInactive(WebSocketHandshakeInboundHandler.java:81)\nat io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:305)\nat io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281)\nat io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274)\nat io.netty.channel.CombinedChannelDuplexHandler$DelegatingChannelHandlerContext.fireChannelInactive(CombinedChannelDuplexHandler.java:418)\nat io.netty.handler.codec.ByteToMessageDecoder.channelInputClosed(ByteToMessageDecoder.java:411)\nat io.netty.handler.codec.ByteToMessageDecoder.channelInactive(ByteToMessageDecoder.java:376)\nat io.netty.handler.codec.http.HttpClientCodec$Decoder.channelInactive(HttpClientCodec.java:329)\nat io.netty.channel.CombinedChannelDuplexHandler.channelInactive(CombinedChannelDuplexHandler.java:221)\nat io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303)\nat io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281)\nat io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274)\nat io.netty.handler.logging.LoggingHandler.channelInactive(LoggingHandler.java:206)\nat io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303)\nat io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281)\nat io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274)\nat io.netty.handler.codec.ByteToMessageDecoder.channelInputClosed(ByteToMessageDecoder.java:411)\nat io.netty.handler.codec.ByteToMessageDecoder.channelInactive(ByteToMessageDecoder.java:376)\nat io.netty.handler.ssl.SslHandler.channelInactive(SslHandler.java:1075)\nat io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:305)\nat io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281)\nat io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274)\nat io.netty.channel.DefaultChannelPipeline$HeadContext.channelInactive(DefaultChannelPipeline.java:1405)\nat io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:301)\nat io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281)\nat io.netty.channel.DefaultChannelPipeline.fireChannelInactive(DefaultChannelPipeline.java:901)\nat io.netty.channel.AbstractChannel$AbstractUnsafe$7.run(AbstractChannel.java:813)\nat io.netty.util.concurrent.AbstractEventExecutor.runTask(AbstractEventExecutor.java:174)\nat io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:167)\nat io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:470)\nat io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:566)\nat io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)\nat io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\nat io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\nat java.base/java.lang.Thread.run(Thread.java:833)\n</code></pre>\n<p>The second approach is to set the absolute URI to something like this:</p>\n<pre><code>wss://ws-api-spot.kucoin.com/endpoint/?token=&lt;token_value&gt;&amp;topic=/market/ticker:btc&amp;response=true\n</code></pre>\n<p>To do this, I slightly modified the getOptions method like this:</p>\n<pre><code>private static WebSocketConnectOptions getOptions(LocalMap&lt;String, String&gt; serverDetails) {\n  WebSocketConnectOptions options = new WebSocketConnectOptions();\n  options.setMethod(HttpMethod.GET);\n  options.setAllowOriginHeader(false);\n  options.setPort(443);\n  options.setSsl(true);\n  options.setAbsoluteURI(serverDetails.get(&quot;endpoint&quot;) + &quot;endpoint/?token=&quot; + serverDetails.get(&quot;token&quot;) + &quot;&amp;topic=/market/ticker:btc&amp;response=true&quot;);\n  return options;\n}\n</code></pre>\n<p>In this case, I get this other error:</p>\n<pre><code>io.vertx.core.VertxException: Invalid url: wss://ws-api-spot.kucoin.com/endpoint/?token=&lt;token_value&gt;&amp;topic=/market/ticker:btc&amp;response=true\nat io.vertx.core.http.RequestOptions.parseUrl(RequestOptions.java:357)\nat io.vertx.core.http.RequestOptions.setAbsoluteURI(RequestOptions.java:370)\nat org.phase5.goyena.SymbolSnapshotVerticle.getOptions(SymbolSnapshotVerticle.java:52)\nat org.phase5.goyena.SymbolSnapshotVerticle.lambda$start$3(SymbolSnapshotVerticle.java:32)\nat io.vertx.core.impl.ContextInternal.dispatch(ContextInternal.java:264)\nat io.vertx.core.eventbus.impl.MessageConsumerImpl.dispatch(MessageConsumerImpl.java:177)\nat io.vertx.core.eventbus.impl.HandlerRegistration$InboundDeliveryContext.execute(HandlerRegistration.java:137)\nat io.vertx.core.eventbus.impl.DeliveryContextBase.next(DeliveryContextBase.java:72)\nat io.vertx.core.eventbus.impl.DeliveryContextBase.dispatch(DeliveryContextBase.java:43)\nat io.vertx.core.eventbus.impl.HandlerRegistration.dispatch(HandlerRegistration.java:98)\nat io.vertx.core.eventbus.impl.MessageConsumerImpl.deliver(MessageConsumerImpl.java:183)\nat io.vertx.core.eventbus.impl.MessageConsumerImpl.doReceive(MessageConsumerImpl.java:168)\nat io.vertx.core.eventbus.impl.HandlerRegistration.lambda$receive$0(HandlerRegistration.java:49)\nat io.netty.util.concurrent.AbstractEventExecutor.runTask(AbstractEventExecutor.java:174)\nat io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:167)\nat io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:470)\nat io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:569)\nat io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)\nat io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\nat io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\nat java.base/java.lang.Thread.run(Thread.java:833)\nCaused by: java.net.MalformedURLException: unknown protocol: wss\nat java.base/java.net.URL.&lt;init&gt;(URL.java:681)\nat java.base/java.net.URL.&lt;init&gt;(URL.java:569)\nat java.base/java.net.URL.&lt;init&gt;(URL.java:516)\nat io.vertx.core.http.RequestOptions.parseUrl(RequestOptions.java:355)\n... 20 common frames omitted\n</code></pre>\n<p>When I manually run a request from <strong>Postman</strong> following the same instructions, I successfully get a connection. Any ideas of what's wrong? Do I need to change the options for either the HTTP client or the Websocket?</p>\n<p>Thanks in advance.</p>\n"},{"tags":["java","binary-search","lower-bound","upperbound"],"comments":[{"owner":{"account_id":93689,"reputation":415951,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1364159135,"post_id":15603832,"comment_id":22128926,"body_markdown":"For those of us who don&#39;t speak &quot;C&quot;, could you describe what you want in English with examples?","body":"For those of us who don&#39;t speak &quot;C&quot;, could you describe what you want in English with examples?"}],"answers":[{"comments":[{"owner":{"account_id":442748,"reputation":5867,"user_id":833538,"accept_rate":90,"display_name":"RoundPi"},"score":1,"creation_date":1364159666,"post_id":15603895,"comment_id":22129071,"body_markdown":"Thanks but it seems my List is not compatible with it ? why ?The method binarySearch(List&lt;? extends T&gt;, T, Comparator&lt;? super T&gt;) in the type Collections is not applicable for the arguments (List&lt;MyDerivedData&gt;, Date, Comparator&lt;BaseData&gt;)","body":"Thanks but it seems my List is not compatible with it ? why ?The method binarySearch(List&lt;? extends T&gt;, T, Comparator&lt;? super T&gt;) in the type Collections is not applicable for the arguments (List&lt;MyDerivedData&gt;, Date, Comparator&lt;BaseData&gt;)"},{"owner":{"account_id":442748,"reputation":5867,"user_id":833538,"accept_rate":90,"display_name":"RoundPi"},"score":0,"creation_date":1364159792,"post_id":15603895,"comment_id":22129119,"body_markdown":"I have tried to move the comparator to the Derived class MyDerivedData, but still I am having this problem. My List is simply defined as List&lt;MyDerivedData&gt; myList; Is here a problem ? thanks a lot.","body":"I have tried to move the comparator to the Derived class MyDerivedData, but still I am having this problem. My List is simply defined as List&lt;MyDerivedData&gt; myList; Is here a problem ? thanks a lot."},{"owner":{"account_id":442748,"reputation":5867,"user_id":833538,"accept_rate":90,"display_name":"RoundPi"},"score":3,"creation_date":1364173570,"post_id":15603895,"comment_id":22132705,"body_markdown":"I have tried it but it seems the binary search not returning the only the 1st matching element. Meaning when there is duplicate value, binary search returning random one of the same element...","body":"I have tried it but it seems the binary search not returning the only the 1st matching element. Meaning when there is duplicate value, binary search returning random one of the same element..."},{"owner":{"account_id":134022,"reputation":717193,"user_id":335858,"accept_rate":81,"display_name":"Sergey Kalinichenko"},"score":1,"creation_date":1364174001,"post_id":15603895,"comment_id":22132780,"body_markdown":"@Gob00st You are right, I re-read the docs, and it looks like the algorithm makes no guarantees as to the location of the returned value within an equal range.","body":"@Gob00st You are right, I re-read the docs, and it looks like the algorithm makes no guarantees as to the location of the returned value within an equal range."},{"owner":{"account_id":442748,"reputation":5867,"user_id":833538,"accept_rate":90,"display_name":"RoundPi"},"score":1,"creation_date":1364174207,"post_id":15603895,"comment_id":22132825,"body_markdown":"Then what should I do with Java !","body":"Then what should I do with Java !"},{"owner":{"account_id":442748,"reputation":5867,"user_id":833538,"accept_rate":90,"display_name":"RoundPi"},"score":1,"creation_date":1364174246,"post_id":15603895,"comment_id":22132832,"body_markdown":"see my other post here to illustrate this issue - http://stackoverflow.com/questions/15606219/java-collection-binarysearch-not-working-properly","body":"see my other post here to illustrate this issue - <a href=\"http://stackoverflow.com/questions/15606219/java-collection-binarysearch-not-working-properly\" title=\"java collection binarysearch not working properly\">stackoverflow.com/questions/15606219/&hellip;</a>"},{"owner":{"account_id":9254445,"reputation":193,"user_id":6873828,"display_name":"laterSon"},"score":0,"creation_date":1614133276,"post_id":15603895,"comment_id":117290221,"body_markdown":"This is not true. Arrays.sort returns first index that matches the key. It&#39;s not guaranteed to be lower bound or upper bound.","body":"This is not true. Arrays.sort returns first index that matches the key. It&#39;s not guaranteed to be lower bound or upper bound."},{"owner":{"account_id":1108813,"reputation":575,"user_id":1099656,"display_name":"Roman Zavalov"},"score":2,"creation_date":1625098889,"post_id":15603895,"comment_id":120539956,"body_markdown":"Your suggested algorithm is linear, not logarithmic, unfortunately. Consider very long range of equal elements. Good luck finding beginning by iteration.","body":"Your suggested algorithm is linear, not logarithmic, unfortunately. Consider very long range of equal elements. Good luck finding beginning by iteration."}],"tags":[],"owner":{"account_id":134022,"reputation":717193,"user_id":335858,"accept_rate":81,"display_name":"Sergey Kalinichenko"},"comment_count":8,"down_vote_count":1,"up_vote_count":13,"is_accepted":true,"score":12,"last_activity_date":1614139106,"creation_date":1364158560,"answer_id":15603895,"question_id":15603832,"body_markdown":"In Java, you use [`Collections.binarySearch`][1] to find the lower bound of the equal range in a sorted list (`Arrays.binarySearch` provides a similar capability for arrays). This gives you a position within the equal range with no further guarantees:\r\n\r\n&gt; [If the list contains multiple elements equal to the specified object, there is no guarantee which one will be found.][1]\r\n\r\nThen you iterate linearly forward and then backward until you hit the end of the equal range.\r\n\r\nThese methods work for objects implementing the [`Comparable`][2] interface. For classes that do not implement the `Comparable`, you can supply an instance of a *custom* [`Comparator`][3] for comparing the elements of your specific type.\r\n\r\n  [1]: http://docs.oracle.com/javase/6/docs/api/java/util/Collections.html#binarySearch%28java.util.List,%20T%29\r\n  [2]: http://docs.oracle.com/javase/6/docs/api/java/lang/Comparable.html\r\n  [3]: http://docs.oracle.com/javase/6/docs/api/java/util/Comparator.html","title":"Java equivalent of c++ equal_range (or lower_bound &amp; upper_bound)","body":"<p>In Java, you use <a href=\"http://docs.oracle.com/javase/6/docs/api/java/util/Collections.html#binarySearch%28java.util.List,%20T%29\" rel=\"nofollow noreferrer\"><code>Collections.binarySearch</code></a> to find the lower bound of the equal range in a sorted list (<code>Arrays.binarySearch</code> provides a similar capability for arrays). This gives you a position within the equal range with no further guarantees:</p>\n<blockquote>\n<p><a href=\"http://docs.oracle.com/javase/6/docs/api/java/util/Collections.html#binarySearch%28java.util.List,%20T%29\" rel=\"nofollow noreferrer\">If the list contains multiple elements equal to the specified object, there is no guarantee which one will be found.</a></p>\n</blockquote>\n<p>Then you iterate linearly forward and then backward until you hit the end of the equal range.</p>\n<p>These methods work for objects implementing the <a href=\"http://docs.oracle.com/javase/6/docs/api/java/lang/Comparable.html\" rel=\"nofollow noreferrer\"><code>Comparable</code></a> interface. For classes that do not implement the <code>Comparable</code>, you can supply an instance of a <em>custom</em> <a href=\"http://docs.oracle.com/javase/6/docs/api/java/util/Comparator.html\" rel=\"nofollow noreferrer\"><code>Comparator</code></a> for comparing the elements of your specific type.</p>\n"},{"tags":[],"owner":{"account_id":2199259,"reputation":674,"user_id":1944117,"display_name":"Survivor"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1602637537,"creation_date":1364159325,"answer_id":15604031,"question_id":15603832,"body_markdown":"You can try something like this:\r\n```java\r\npublic class TestSOF {\r\n\r\n    private ArrayList &lt;Integer&gt; testList = new ArrayList &lt;Integer&gt;();\r\n    private Integer first, last;\r\n\r\n    public void fillArray(){\r\n\r\n        testList.add(10);\r\n        testList.add(20);\r\n        testList.add(30);\r\n        testList.add(30);\r\n        testList.add(20);\r\n        testList.add(10);\r\n        testList.add(10);\r\n        testList.add(20);\r\n    }\r\n\r\n    public ArrayList getArray(){\r\n\r\n        return this.testList;\r\n    }\r\n\r\n    public void sortArray(){\r\n\r\n        Collections.sort(testList);\r\n    }\r\n\r\n    public void checkPosition(int element){\r\n\r\n        if (testList.contains(element)){\r\n    \r\n            first = testList.indexOf(element);\r\n            last = testList.lastIndexOf(element);\r\n\r\n            System.out.println(&quot;The element &quot; + element + &quot;has it&#39;s first appeareance on position &quot; \r\n        + first + &quot;and it&#39;s last on position &quot; + last);\r\n        }\r\n        \r\n        else{\r\n    \r\n             System.out.println(&quot;Your element &quot; + element + &quot; is not into the arraylist!&quot;);\r\n       }\r\n    }\r\n\r\n    public static void main (String [] args){\r\n\r\n        TestSOF testSOF = new TestSOF();\r\n\r\n        testSOF.fillArray();\r\n        testSOF.sortArray();\r\n        testSOF.checkPosition(20);\r\n    } \r\n}\r\n```","title":"Java equivalent of c++ equal_range (or lower_bound &amp; upper_bound)","body":"<p>You can try something like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class TestSOF {\n\n    private ArrayList &lt;Integer&gt; testList = new ArrayList &lt;Integer&gt;();\n    private Integer first, last;\n\n    public void fillArray(){\n\n        testList.add(10);\n        testList.add(20);\n        testList.add(30);\n        testList.add(30);\n        testList.add(20);\n        testList.add(10);\n        testList.add(10);\n        testList.add(20);\n    }\n\n    public ArrayList getArray(){\n\n        return this.testList;\n    }\n\n    public void sortArray(){\n\n        Collections.sort(testList);\n    }\n\n    public void checkPosition(int element){\n\n        if (testList.contains(element)){\n    \n            first = testList.indexOf(element);\n            last = testList.lastIndexOf(element);\n\n            System.out.println(&quot;The element &quot; + element + &quot;has it's first appeareance on position &quot; \n        + first + &quot;and it's last on position &quot; + last);\n        }\n        \n        else{\n    \n             System.out.println(&quot;Your element &quot; + element + &quot; is not into the arraylist!&quot;);\n       }\n    }\n\n    public static void main (String [] args){\n\n        TestSOF testSOF = new TestSOF();\n\n        testSOF.fillArray();\n        testSOF.sortArray();\n        testSOF.checkPosition(20);\n    } \n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":295487,"reputation":3228,"user_id":599926,"accept_rate":50,"display_name":"frozenkoi"},"score":0,"creation_date":1438225873,"post_id":30838028,"comment_id":51366650,"body_markdown":"Careful with that `mid=(low+high)/2` line. It can overflow: http://googleresearch.blogspot.mx/2006/06/extra-extra-read-all-about-it-nearly.html","body":"Careful with that <code>mid=(low+high)&#47;2</code> line. It can overflow: <a href=\"http://googleresearch.blogspot.mx/2006/06/extra-extra-read-all-about-it-nearly.html\" rel=\"nofollow noreferrer\">googleresearch.blogspot.mx/2006/06/&hellip;</a>"}],"tags":[],"owner":{"account_id":3853172,"reputation":345,"user_id":3192744,"accept_rate":67,"display_name":"RJN_WLY"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1443345450,"creation_date":1434346783,"answer_id":30838028,"question_id":15603832,"body_markdown":"In binary search , when you find the element then you can keep doing binary search  to its left in order to find first occurrence and to right in order to find last element.\r\nThe idea should be clear with the code: \r\n\r\n    /*\r\n    B: element to find first or last occurrence of\r\n    searchFirst: true to find first occurrence, false  to find last\r\n     */\r\n    Integer bound(final List&lt;Integer&gt; A,int B,boolean searchFirst){\r\n        int n = A.size();\r\n        int low = 0;\r\n        int high = n-1;\r\n        int res = -1;   //if element not found\r\n        int mid ;\r\n        while(low&lt;=high){\r\n            mid = low+(high-low)/2;\r\n            if(A.get(mid)==B){\r\n                res=mid;\r\n                if(searchFirst){high=mid-1;}    //to find first , go left\r\n                else{low=mid+1;}                // to find last, go right\r\n            }\r\n            else if(B&gt;A.get(mid)){low=mid+1;}\r\n            else{high=mid-1;}\r\n        }\r\n        return res;\r\n    }","title":"Java equivalent of c++ equal_range (or lower_bound &amp; upper_bound)","body":"<p>In binary search , when you find the element then you can keep doing binary search  to its left in order to find first occurrence and to right in order to find last element.\nThe idea should be clear with the code: </p>\n\n<pre><code>/*\nB: element to find first or last occurrence of\nsearchFirst: true to find first occurrence, false  to find last\n */\nInteger bound(final List&lt;Integer&gt; A,int B,boolean searchFirst){\n    int n = A.size();\n    int low = 0;\n    int high = n-1;\n    int res = -1;   //if element not found\n    int mid ;\n    while(low&lt;=high){\n        mid = low+(high-low)/2;\n        if(A.get(mid)==B){\n            res=mid;\n            if(searchFirst){high=mid-1;}    //to find first , go left\n            else{low=mid+1;}                // to find last, go right\n        }\n        else if(B&gt;A.get(mid)){low=mid+1;}\n        else{high=mid-1;}\n    }\n    return res;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10105963,"reputation":1331,"user_id":7468538,"display_name":"HariUserX"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1503344579,"creation_date":1503344098,"answer_id":45804379,"question_id":15603832,"body_markdown":"    import java.io.BufferedReader;\r\n    import java.io.BufferedWriter;\r\n    import java.io.IOException;\r\n    import java.io.InputStreamReader;\r\n    import java.io.OutputStreamWriter;\r\n    import java.util.Collections;\r\n    import java.util.Vector;\r\n    \r\n    public class Bounds {\r\n    \r\n    \tpublic static void main(String[] args) throws IOException {\r\n    \t\tVector&lt;Float&gt; data = new Vector&lt;&gt;();\r\n    \t\tfor (int i = 29; i &gt;= 0; i -= 2) {\r\n    \t\t\tdata.add(Float.valueOf(i));\r\n    \t\t}\r\n    \t\tCollections.sort(data);\r\n    \t\tfloat element = 14;\r\n    \t\tBufferedReader bf = new BufferedReader(new InputStreamReader(System.in));\r\n    \t\tBufferedWriter log = new BufferedWriter(new OutputStreamWriter(System.out));\r\n    \t\tString string = bf.readLine();\r\n    \t\twhile (!string.equals(&quot;q&quot;)) {\r\n    \t\t\telement=Float.parseFloat(string);\r\n    \t\t\tint first = 0;\r\n    \t\t\tint last = data.size();\r\n    \t\t\tint mid;\r\n    \t\t\twhile (first &lt; last) {\r\n    \t\t\t\tmid = first + ((last - first) &gt;&gt; 1); \r\n    \t\t\t\tif (data.get(mid) &lt; element)  //lower bound. for upper use &lt;= \r\n    \t\t\t\t\tfirst = mid + 1; \r\n    \t\t\t\telse \r\n    \t\t\t\t\tlast = mid;\r\n    \t\t\t}\r\n    \t\t\tlog.write(&quot;data is: &quot;+data+&quot;\\n&quot;);\r\n    \t\t\tif(first==data.size())\r\n    \t\t\t\tfirst=data.size()-1;\r\n    \t\t\tlog.write(&quot;element is : &quot; + first+ &quot;\\n&quot;);\r\n    \t\t\tlog.flush();\r\n    \t\t\tstring= bf.readLine();\r\n    \t\t}\r\n    \t\tbf.close();\r\n    \t}\r\n    \r\n    }\r\n\r\nThis is the implementation for lower_bound and upper_bound similar to c++.\r\nNote that the element you are searching for need not be present in the vector or list. This implementation only gives the element&#39;s upper and lower bounds.","title":"Java equivalent of c++ equal_range (or lower_bound &amp; upper_bound)","body":"<pre><code>import java.io.BufferedReader;\nimport java.io.BufferedWriter;\nimport java.io.IOException;\nimport java.io.InputStreamReader;\nimport java.io.OutputStreamWriter;\nimport java.util.Collections;\nimport java.util.Vector;\n\npublic class Bounds {\n\n    public static void main(String[] args) throws IOException {\n        Vector&lt;Float&gt; data = new Vector&lt;&gt;();\n        for (int i = 29; i &gt;= 0; i -= 2) {\n            data.add(Float.valueOf(i));\n        }\n        Collections.sort(data);\n        float element = 14;\n        BufferedReader bf = new BufferedReader(new InputStreamReader(System.in));\n        BufferedWriter log = new BufferedWriter(new OutputStreamWriter(System.out));\n        String string = bf.readLine();\n        while (!string.equals(\"q\")) {\n            element=Float.parseFloat(string);\n            int first = 0;\n            int last = data.size();\n            int mid;\n            while (first &lt; last) {\n                mid = first + ((last - first) &gt;&gt; 1); \n                if (data.get(mid) &lt; element)  //lower bound. for upper use &lt;= \n                    first = mid + 1; \n                else \n                    last = mid;\n            }\n            log.write(\"data is: \"+data+\"\\n\");\n            if(first==data.size())\n                first=data.size()-1;\n            log.write(\"element is : \" + first+ \"\\n\");\n            log.flush();\n            string= bf.readLine();\n        }\n        bf.close();\n    }\n\n}\n</code></pre>\n\n<p>This is the implementation for lower_bound and upper_bound similar to c++.\nNote that the element you are searching for need not be present in the vector or list. This implementation only gives the element's upper and lower bounds.</p>\n"},{"tags":[],"owner":{"account_id":8086591,"reputation":1869,"user_id":6093953,"display_name":"Andrushenko Alexander"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1567602680,"creation_date":1567601134,"answer_id":57788702,"question_id":15603832,"body_markdown":"Java have already built-in binary search functionality that calculates lower/upper bounds for an element in an array, there is no need to implement custom methods. \r\n\r\nWhen we speak about upper/lower bounds or equal ranges, we always mean indexes of a container (in this case of ArrayList), and not the elements contained.\r\nLet&#39;s consider an array (we assume the array is sorted, otherwise we sort it first):\r\n\r\n    List&lt;Integer&gt; nums = new ArrayList&lt;&gt;(Arrays.asList(2,3,5,5,7,9,10,18,22));\r\n\r\nThe &quot;lower bound&quot; function must return the **index of the array**, where the element must be inserted to **keep the array sorted**. The &quot;upper bound&quot; must return the index of the **smallest element in the array, that is bigger than** the looked for element.\r\nFor example\r\n\r\n    lowerBound(nums, 6)\r\n\r\nmust return 3, because 3 is the position of the array (starting counting with 0), where 6 must be inserted to keep array sorted.\r\n \r\nThe\r\n\r\n    upperBound(nums, 6)\r\n\r\nmust return 4, because 4 is the position of the **smallest** element in the array, that is **bigger** than 5 or 6, (number 7 on position 4). \r\n\r\nIn C++ in standard library the both algorithms already implemented in standard library. In Java you can use \r\n\r\n    Collections.binarySearch(nums, element)\r\n\r\nto calculate the position in **logarithmic time complexity**.\r\n\r\nIf the array contains the element, *Collections.binarySearch* returns the first index of the element (in the array above 2). Otherwise it returns a negative number that specifies the position in the array of the next bigger element, **counting backwards from the last index of the array**. The number found in this position is the **smallest element of the array that is bigger than the element** you look for.\r\n\r\nFor example, if you call\r\n\r\n    int idx = Collections.binarySearch(nums, 6)\r\n\r\nthe function returns -5. If you count backwards from the last index of the array (-1, -2, ...) the index -5 points to number 7 - the smallest number in the array that is bigger than the element 6.\r\n\r\nConclusion:\r\nif the sorted array **contains** the looked for element, the lower bound is the position of the element, and the upper bound is the position of the next bigger element.\r\n\r\nIf the array **does not contains** the element, the lower bound is the position\r\n\r\n    Math.abs(idx) - 2\r\n\r\nand the upper bound is the position \r\n\r\n    Math.abs(idx) - 1\r\n\r\nwhere \r\n\r\n    idx = Collections.binarySearch(nums, element)\r\n\r\nAnd please always keep in mind the border cases. For example, if you look for 1 in the above specified array:\r\n\r\n    idx = Collections.binarySearch(nums, 1)\r\n\r\nThe functon returns -1. So, the upperBound = Math.abs(idx) - 1 = 0 - the element 2 at position 0. But there is no lower bound for element 1, because 2 is the smallest number in the array. \r\nThe same logic applies to elements bigger than the biggest number in the array: if you look for lower/upper bounds of number 25, you will get \r\n\r\n      idx = Collections.binarySearch(nums, 25) \r\n\r\nix = -10. You can calculate the lower bound : lb = Math.abs(-10) - 2 = 8, that is the last index of the array, but there is no upper bound, because 22 is already biggest element in the array and there is no element at position 9.\r\n\r\nThe equal_range specifies all indexes of the array in the range starting from the lower bound index up to (but not including) the upper bound.\r\nFor example, the equal range of number 5 in the array above are indexes\r\n\r\n     [2,3]\r\n\r\nEqual range of number 6 is empty, because there is no number 6 in the array.","title":"Java equivalent of c++ equal_range (or lower_bound &amp; upper_bound)","body":"<p>Java have already built-in binary search functionality that calculates lower/upper bounds for an element in an array, there is no need to implement custom methods. </p>\n\n<p>When we speak about upper/lower bounds or equal ranges, we always mean indexes of a container (in this case of ArrayList), and not the elements contained.\nLet's consider an array (we assume the array is sorted, otherwise we sort it first):</p>\n\n<pre><code>List&lt;Integer&gt; nums = new ArrayList&lt;&gt;(Arrays.asList(2,3,5,5,7,9,10,18,22));\n</code></pre>\n\n<p>The \"lower bound\" function must return the <strong>index of the array</strong>, where the element must be inserted to <strong>keep the array sorted</strong>. The \"upper bound\" must return the index of the <strong>smallest element in the array, that is bigger than</strong> the looked for element.\nFor example</p>\n\n<pre><code>lowerBound(nums, 6)\n</code></pre>\n\n<p>must return 3, because 3 is the position of the array (starting counting with 0), where 6 must be inserted to keep array sorted.</p>\n\n<p>The</p>\n\n<pre><code>upperBound(nums, 6)\n</code></pre>\n\n<p>must return 4, because 4 is the position of the <strong>smallest</strong> element in the array, that is <strong>bigger</strong> than 5 or 6, (number 7 on position 4). </p>\n\n<p>In C++ in standard library the both algorithms already implemented in standard library. In Java you can use </p>\n\n<pre><code>Collections.binarySearch(nums, element)\n</code></pre>\n\n<p>to calculate the position in <strong>logarithmic time complexity</strong>.</p>\n\n<p>If the array contains the element, <em>Collections.binarySearch</em> returns the first index of the element (in the array above 2). Otherwise it returns a negative number that specifies the position in the array of the next bigger element, <strong>counting backwards from the last index of the array</strong>. The number found in this position is the <strong>smallest element of the array that is bigger than the element</strong> you look for.</p>\n\n<p>For example, if you call</p>\n\n<pre><code>int idx = Collections.binarySearch(nums, 6)\n</code></pre>\n\n<p>the function returns -5. If you count backwards from the last index of the array (-1, -2, ...) the index -5 points to number 7 - the smallest number in the array that is bigger than the element 6.</p>\n\n<p>Conclusion:\nif the sorted array <strong>contains</strong> the looked for element, the lower bound is the position of the element, and the upper bound is the position of the next bigger element.</p>\n\n<p>If the array <strong>does not contains</strong> the element, the lower bound is the position</p>\n\n<pre><code>Math.abs(idx) - 2\n</code></pre>\n\n<p>and the upper bound is the position </p>\n\n<pre><code>Math.abs(idx) - 1\n</code></pre>\n\n<p>where </p>\n\n<pre><code>idx = Collections.binarySearch(nums, element)\n</code></pre>\n\n<p>And please always keep in mind the border cases. For example, if you look for 1 in the above specified array:</p>\n\n<pre><code>idx = Collections.binarySearch(nums, 1)\n</code></pre>\n\n<p>The functon returns -1. So, the upperBound = Math.abs(idx) - 1 = 0 - the element 2 at position 0. But there is no lower bound for element 1, because 2 is the smallest number in the array. \nThe same logic applies to elements bigger than the biggest number in the array: if you look for lower/upper bounds of number 25, you will get </p>\n\n<pre><code>  idx = Collections.binarySearch(nums, 25) \n</code></pre>\n\n<p>ix = -10. You can calculate the lower bound : lb = Math.abs(-10) - 2 = 8, that is the last index of the array, but there is no upper bound, because 22 is already biggest element in the array and there is no element at position 9.</p>\n\n<p>The equal_range specifies all indexes of the array in the range starting from the lower bound index up to (but not including) the upper bound.\nFor example, the equal range of number 5 in the array above are indexes</p>\n\n<pre><code> [2,3]\n</code></pre>\n\n<p>Equal range of number 6 is empty, because there is no number 6 in the array.</p>\n"},{"tags":[],"owner":{"account_id":15269101,"reputation":61,"user_id":11016819,"display_name":"Akshay Gupta"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1590935222,"creation_date":1590935222,"answer_id":62117661,"question_id":15603832,"body_markdown":"Java equivalent of lower_bound in cpp is \r\n\r\n    public static int lower(int arr[],int key){\r\n        int low = 0;\r\n        int high = arr.length-1;\r\n        while(low &lt; high){\r\n            int mid = low + (high - low)/2;\r\n            if(arr[mid] &gt;= key){\r\n                high = mid;\r\n            }\r\n            else{\r\n                low = mid+1;\r\n            }\r\n        }\r\n        return low;\r\n    }\r\n\r\nBut the above snippet will give the lower bound if the key is not present in the array\r\n\r\nJava equivalent of upper_bound in cpp is \r\n\r\n    public static int upper(int arr[],int key){\r\n        int low = 0;\r\n        int high = arr.length-1;\r\n        while(low &lt; high){\r\n            int mid = low + (high - low+1)/2;\r\n            if(arr[mid] &lt;= key){\r\n                low = mid;\r\n            }\r\n            else{\r\n                high = mid-1;\r\n            }\r\n        }\r\n        return low;\r\n    }\r\nBut the above snippet will give the lower bound of key if the key is not present in the array","title":"Java equivalent of c++ equal_range (or lower_bound &amp; upper_bound)","body":"<p>Java equivalent of lower_bound in cpp is </p>\n\n<pre><code>public static int lower(int arr[],int key){\n    int low = 0;\n    int high = arr.length-1;\n    while(low &lt; high){\n        int mid = low + (high - low)/2;\n        if(arr[mid] &gt;= key){\n            high = mid;\n        }\n        else{\n            low = mid+1;\n        }\n    }\n    return low;\n}\n</code></pre>\n\n<p>But the above snippet will give the lower bound if the key is not present in the array</p>\n\n<p>Java equivalent of upper_bound in cpp is </p>\n\n<pre><code>public static int upper(int arr[],int key){\n    int low = 0;\n    int high = arr.length-1;\n    while(low &lt; high){\n        int mid = low + (high - low+1)/2;\n        if(arr[mid] &lt;= key){\n            low = mid;\n        }\n        else{\n            high = mid-1;\n        }\n    }\n    return low;\n}\n</code></pre>\n\n<p>But the above snippet will give the lower bound of key if the key is not present in the array</p>\n"},{"tags":[],"owner":{"account_id":16526261,"reputation":111,"user_id":11940935,"display_name":"Atish Naskar"},"comment_count":0,"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1599895795,"creation_date":1599869054,"answer_id":63855640,"question_id":15603832,"body_markdown":"We can find Lower bound and upper bound with the help of java library function as well as by defining our own **LowerBound and UpperBound Function.**\r\n\r\n**{#case-1}**\r\n\t    \r\nif the number is not present both lower bound and upper bound would be\r\nsame .i.e. in that case *lb* and *ub* would be the insertion point of the array i.e. that point where the number should be inserted to keep the array sorted.\r\n\r\n*Example-1:*\r\n\t\t\t \r\n\r\n    6 1 // 6 is the size of the array and 1 is the key\r\n    2 3 4 5 6 7 here lb=0 and ub=0 (0 is the position where 1 should be inserted to keep the array sorted)\r\n\r\n\t6 8 // 6 is the size of the array and 8 is the key\r\n\t2 3 4 5 6 7\t here lb=6 and ub=6 (6 is the position where 8 should be inserted to keep the array sorted)\r\n\t\r\n    6 3 // 6 is the size of the array and 3 is the key\r\n\t1 2 2 2 4 5\t here lb=4 and ub=4 (4 is the position where 3 should be inserted to keep the array sorted)\r\n\r\n \r\n \t\t\r\n**{#case-2(a)}**\r\n \t\t\r\nif the number is present and have frequency 1. i.e. number of occurrence is 1\r\n \t\t\r\n*lb*=index of that number.&lt;br /&gt;\r\n*ub*=index of the next number which is just greater than that number in the array\r\n \t\t.i.e. *ub*=index of that number+1\r\n\r\n*Example-2:*\r\n \t\t\r\n    6 5 // 6 is the size of the array and 5 is the key\r\n\t1 2 3 4 5 6 here lb=4 and ub=5\r\n\t\t\r\n**{#case-2(b)}**\r\n\t\t\r\nif the number is present and have frequency more than 1.\r\n\t\tnumber is occured multiple times.in this case \r\n\t\t*lb* would be the index of the 1st occurrence of that number.\r\n\t\t*ub* would be the index of the last occurrence of that number+1.\r\n\t\ti.e. index of that number which is just greater than the key in the array.\r\n\r\n*Example-3:*\r\n\t\t\r\n     11 5 // 11 is the size of the array and 5 is the key\r\n\t 1 2 3 4 5 5 5 5 5 7 7 here lb=4 and ub=9\r\n\r\n# Implementation of Lower_Bound and Upper_Bound \r\n**Method-1:**\r\n *By Library function*\r\n\r\n// a is the array and x is the target value\r\n        \r\n    int lb=Arrays.binarySearch(a,x); // for lower_bound\r\n\r\n    int ub=Arrays.binarySearch(a,x); // for upper_bound\r\n\r\n    if(lb&lt;0) {lb=Math.abs(lb)-1;}//if the number is not present\r\n    \r\n    else{ // if the number is present we are checking \r\n    \t//whether the number is present multiple times or not\r\n        int y=a[lb];\r\n        for(int i=lb-1; i&gt;=0; i--){\r\n            if(a[i]==y) --lb;\r\n            else break;\r\n        }\r\n    }\r\n      if(ub&lt;0) {ub=Math.abs(ub)-1;}//if the number is not present\r\n   \r\n      else{// if the number is present we are checking \r\n    \t//whether the number is present multiple times or not\r\n        int y=a[ub];\r\n        for(int i=ub+1; i&lt;n; i++){\r\n            if(a[i]==y) ++ub;\r\n            else break;\r\n        }\r\n        ++ub;\r\n    }\r\n\r\n**Method-2:**\r\n*By Defining own Function*\r\n\r\n//for lower bound\r\n\r\n    static int LowerBound(int a[], int x) { // x is the target value or key\r\n      int l=-1,r=a.length;\r\n      while(l+1&lt;r) {\r\n\t\tint m=(l+r)&gt;&gt;&gt;1;\r\n        if(a[m]&gt;=x) r=m;\r\n        else l=m;\r\n\t  }\r\n\t  return r;\r\n    }\r\n\r\n// for Upper_Bound\r\n\r\n     static int UpperBound(int a[], int x) {// x is the key or target value\r\n\t    int l=-1,r=a.length;\r\n\t    while(l+1&lt;r) {\r\n\t\t   int m=(l+r)&gt;&gt;&gt;1;\r\n           if(a[m]&lt;=x) l=m;\r\n           else r=m;\r\n\t    }\r\n\t    return l+1;\r\n     }\r\n\r\n         \r\nor we can use \r\n       \r\n    int m=l+(r-l)/2;\r\n\r\nbut if we use\r\n\r\n    int m=(l+r)&gt;&gt;&gt;1; // it is probably faster\r\n\r\nbut the usage of any of the above formula of calculating m will prevent overflow\r\n\r\nIn C and C++ (&gt;&gt;&gt;) operator is absent, we can do this:\r\n        \r\n    int m= ((unsigned int)l + (unsigned int)r)) &gt;&gt; 1;\r\n\r\n// implementation in program:\r\n\r\n    import java.util.*;\r\n    import java.lang.*;\r\n    import java.io.*;\r\n    public class Lower_bound_and_Upper_bound {\r\n\r\n\tpublic static void main (String[] args) throws java.lang.Exception\r\n\t{\r\n\t    BufferedReader br = new BufferedReader(new InputStreamReader(System.in));\r\n\t\tStringTokenizer s = new StringTokenizer(br.readLine());\r\n\t    int n=Integer.parseInt(s.nextToken()),x=Integer.parseInt(s.nextToken()),a[]=new int[n];\r\n\t    s = new StringTokenizer(br.readLine());\r\n\t    for(int i=0; i&lt;n; i++) a[i]=Integer.parseInt(s.nextToken());\r\n\t    Arrays.sort(a);// Array should be sorted. otherwise lb and ub cant be calculated\r\n        int u=UpperBound(a,x);\r\n\t    int l=LowerBound(a,x);\r\n\t    System.out.println(l+&quot; &quot;+u);\r\n     }\r\n    }\r\n\r\n**# Equivalent C++ code for calculating lowerbound and upperbound**\r\n\r\n      #include&lt;bits/stdc++.h&gt;\r\n      #define IRONMAN ios_base::sync_with_stdio(false);cin.tie(0);cout.tie(0);\r\n      using namespace std;\r\n      typedef long long int ll;\r\n      int main() {\r\n\t    IRONMAN\r\n\t    int n,x;cin&gt;&gt;n&gt;&gt;x;\r\n        vector&lt;int&gt; v(n);\r\n        for(auto &amp;i: v) cin&gt;&gt;i;\r\n        ll lb=(lower_bound(v.begin(),v.end(),x))-v.begin();// for calculating lb\r\n        ll ub=(upper_bound(v.begin(),v.end(),x))-v.begin();// for calculating ub\r\n        cout&lt;&lt;lb&lt;&lt;&quot; &quot;&lt;&lt;ub&lt;&lt;&quot;\\n&quot;;\r\n\t    return 0;\r\n      }\r\n\r\n\r\n\r\n\r\n","title":"Java equivalent of c++ equal_range (or lower_bound &amp; upper_bound)","body":"<p>We can find Lower bound and upper bound with the help of java library function as well as by defining our own <strong>LowerBound and UpperBound Function.</strong></p>\n<p><strong>{#case-1}</strong></p>\n<p>if the number is not present both lower bound and upper bound would be\nsame .i.e. in that case <em>lb</em> and <em>ub</em> would be the insertion point of the array i.e. that point where the number should be inserted to keep the array sorted.</p>\n<p><em>Example-1:</em></p>\n<pre><code>6 1 // 6 is the size of the array and 1 is the key\n2 3 4 5 6 7 here lb=0 and ub=0 (0 is the position where 1 should be inserted to keep the array sorted)\n\n6 8 // 6 is the size of the array and 8 is the key\n2 3 4 5 6 7  here lb=6 and ub=6 (6 is the position where 8 should be inserted to keep the array sorted)\n\n6 3 // 6 is the size of the array and 3 is the key\n1 2 2 2 4 5  here lb=4 and ub=4 (4 is the position where 3 should be inserted to keep the array sorted)\n\n\n    \n</code></pre>\n<p><strong>{#case-2(a)}</strong></p>\n<p>if the number is present and have frequency 1. i.e. number of occurrence is 1</p>\n<p><em>lb</em>=index of that number.<br />\n<em>ub</em>=index of the next number which is just greater than that number in the array\n.i.e. <em>ub</em>=index of that number+1</p>\n<p><em>Example-2:</em></p>\n<pre><code>6 5 // 6 is the size of the array and 5 is the key\n1 2 3 4 5 6 here lb=4 and ub=5\n    \n</code></pre>\n<p><strong>{#case-2(b)}</strong></p>\n<p>if the number is present and have frequency more than 1.\nnumber is occured multiple times.in this case\n<em>lb</em> would be the index of the 1st occurrence of that number.\n<em>ub</em> would be the index of the last occurrence of that number+1.\ni.e. index of that number which is just greater than the key in the array.</p>\n<p><em>Example-3:</em></p>\n<pre><code> 11 5 // 11 is the size of the array and 5 is the key\n 1 2 3 4 5 5 5 5 5 7 7 here lb=4 and ub=9\n</code></pre>\n<h1>Implementation of Lower_Bound and Upper_Bound</h1>\n<p><strong>Method-1:</strong>\n<em>By Library function</em></p>\n<p>// a is the array and x is the target value</p>\n<pre><code>int lb=Arrays.binarySearch(a,x); // for lower_bound\n\nint ub=Arrays.binarySearch(a,x); // for upper_bound\n\nif(lb&lt;0) {lb=Math.abs(lb)-1;}//if the number is not present\n\nelse{ // if the number is present we are checking \n    //whether the number is present multiple times or not\n    int y=a[lb];\n    for(int i=lb-1; i&gt;=0; i--){\n        if(a[i]==y) --lb;\n        else break;\n    }\n}\n  if(ub&lt;0) {ub=Math.abs(ub)-1;}//if the number is not present\n\n  else{// if the number is present we are checking \n    //whether the number is present multiple times or not\n    int y=a[ub];\n    for(int i=ub+1; i&lt;n; i++){\n        if(a[i]==y) ++ub;\n        else break;\n    }\n    ++ub;\n}\n</code></pre>\n<p><strong>Method-2:</strong>\n<em>By Defining own Function</em></p>\n<p>//for lower bound</p>\n<pre><code>static int LowerBound(int a[], int x) { // x is the target value or key\n  int l=-1,r=a.length;\n  while(l+1&lt;r) {\n    int m=(l+r)&gt;&gt;&gt;1;\n    if(a[m]&gt;=x) r=m;\n    else l=m;\n  }\n  return r;\n}\n</code></pre>\n<p>// for Upper_Bound</p>\n<pre><code> static int UpperBound(int a[], int x) {// x is the key or target value\n    int l=-1,r=a.length;\n    while(l+1&lt;r) {\n       int m=(l+r)&gt;&gt;&gt;1;\n       if(a[m]&lt;=x) l=m;\n       else r=m;\n    }\n    return l+1;\n }\n\n     \n</code></pre>\n<p>or we can use</p>\n<pre><code>int m=l+(r-l)/2;\n</code></pre>\n<p>but if we use</p>\n<pre><code>int m=(l+r)&gt;&gt;&gt;1; // it is probably faster\n</code></pre>\n<p>but the usage of any of the above formula of calculating m will prevent overflow</p>\n<p>In C and C++ (&gt;&gt;&gt;) operator is absent, we can do this:</p>\n<pre><code>int m= ((unsigned int)l + (unsigned int)r)) &gt;&gt; 1;\n</code></pre>\n<p>// implementation in program:</p>\n<pre><code>import java.util.*;\nimport java.lang.*;\nimport java.io.*;\npublic class Lower_bound_and_Upper_bound {\n\npublic static void main (String[] args) throws java.lang.Exception\n{\n    BufferedReader br = new BufferedReader(new InputStreamReader(System.in));\n    StringTokenizer s = new StringTokenizer(br.readLine());\n    int n=Integer.parseInt(s.nextToken()),x=Integer.parseInt(s.nextToken()),a[]=new int[n];\n    s = new StringTokenizer(br.readLine());\n    for(int i=0; i&lt;n; i++) a[i]=Integer.parseInt(s.nextToken());\n    Arrays.sort(a);// Array should be sorted. otherwise lb and ub cant be calculated\n    int u=UpperBound(a,x);\n    int l=LowerBound(a,x);\n    System.out.println(l+&quot; &quot;+u);\n }\n}\n</code></pre>\n<p><strong># Equivalent C++ code for calculating lowerbound and upperbound</strong></p>\n<pre><code>  #include&lt;bits/stdc++.h&gt;\n  #define IRONMAN ios_base::sync_with_stdio(false);cin.tie(0);cout.tie(0);\n  using namespace std;\n  typedef long long int ll;\n  int main() {\n    IRONMAN\n    int n,x;cin&gt;&gt;n&gt;&gt;x;\n    vector&lt;int&gt; v(n);\n    for(auto &amp;i: v) cin&gt;&gt;i;\n    ll lb=(lower_bound(v.begin(),v.end(),x))-v.begin();// for calculating lb\n    ll ub=(upper_bound(v.begin(),v.end(),x))-v.begin();// for calculating ub\n    cout&lt;&lt;lb&lt;&lt;&quot; &quot;&lt;&lt;ub&lt;&lt;&quot;\\n&quot;;\n    return 0;\n  }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18737117,"reputation":754,"user_id":13661219,"display_name":"Mohd Asim"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1624428514,"creation_date":1624428514,"answer_id":68094375,"question_id":15603832,"body_markdown":"Try in this way, for lower and upper bounds.\r\nIt is easy to implement.\r\n\r\n```\r\nimport java.util.Arrays;\r\n\r\nclass LowerBoundUpperBound{\r\n    public static void main(String[] args) {\r\n        int a[] = {1, 2, 3, 4, 5, 5, 5, 5, 5, 7, 7};\r\n\r\n        int key = 5;\r\n        int pos = Arrays.binarySearch(a, key);\r\n        int lb = (pos &lt; 0) ? ~pos - 1 : getlb(pos, a);\r\n        int ub = (pos &lt; 0) ? ~pos : getUb(pos, a);\r\n\r\n        System.out.println(&quot;Lower Bound=&quot; + lb);\r\n        System.out.println(&quot;Upper Bound=&quot; + ub);\r\n\r\n        // You can also try on a[] = {1 ,2 ,3 ,4 ,5 ,6};\r\n        // For key=5, lb=3 and ub=5\r\n\r\n\r\n    }\r\n\r\n    private static int getlb(int pos, int[] a) {\r\n        while (pos - 1 &gt;= 0 &amp;&amp; a[pos] == a[pos - 1]) pos--;\r\n        return pos - 1;\r\n    }\r\n\r\n    private static int getUb(int pos, int[] a) {\r\n        while (pos + 1 &lt; a.length &amp;&amp; a[pos] == a[pos + 1]) pos++;\r\n        return pos + 1;\r\n\r\n    }\r\n}\r\n```\r\n**Note:** Array must be sorted while performing the above method.","title":"Java equivalent of c++ equal_range (or lower_bound &amp; upper_bound)","body":"<p>Try in this way, for lower and upper bounds.\nIt is easy to implement.</p>\n<pre><code>import java.util.Arrays;\n\nclass LowerBoundUpperBound{\n    public static void main(String[] args) {\n        int a[] = {1, 2, 3, 4, 5, 5, 5, 5, 5, 7, 7};\n\n        int key = 5;\n        int pos = Arrays.binarySearch(a, key);\n        int lb = (pos &lt; 0) ? ~pos - 1 : getlb(pos, a);\n        int ub = (pos &lt; 0) ? ~pos : getUb(pos, a);\n\n        System.out.println(&quot;Lower Bound=&quot; + lb);\n        System.out.println(&quot;Upper Bound=&quot; + ub);\n\n        // You can also try on a[] = {1 ,2 ,3 ,4 ,5 ,6};\n        // For key=5, lb=3 and ub=5\n\n\n    }\n\n    private static int getlb(int pos, int[] a) {\n        while (pos - 1 &gt;= 0 &amp;&amp; a[pos] == a[pos - 1]) pos--;\n        return pos - 1;\n    }\n\n    private static int getUb(int pos, int[] a) {\n        while (pos + 1 &lt; a.length &amp;&amp; a[pos] == a[pos + 1]) pos++;\n        return pos + 1;\n\n    }\n}\n</code></pre>\n<p><strong>Note:</strong> Array must be sorted while performing the above method.</p>\n"},{"tags":[],"owner":{"account_id":15302432,"reputation":595,"user_id":11677095,"display_name":"Abhinav Keshri"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1631881911,"creation_date":1631881155,"answer_id":69223319,"question_id":15603832,"body_markdown":"If you want to find lower_bound without defining your own method and do everything from scratch, then use the following code snippet. As you may have noticed, this method works only with primitive arrays not with ArrayList because we do not have a function in Collections class to specify the **start** and **stop** index for Binaryserach (as of java16). \r\n\r\n* al is an array ```(String[] al = new String[N];)```\r\n* ```token``` is what we are looking for in the array.\r\n```\r\nArrays.sort(al, 0, N); \r\nint index = Arrays.binarySearch(al, 0, N , token);\r\nwhile(index &gt; 0 &amp;&amp; al[index].equals(al[index - 1])){\r\n       index = Arrays.binarySearch(al, 0, index, token); //lower_bound in java.\r\n}\r\n```\r\n\r\nFor upper bound you can easily modify the code. \r\n\r\n","title":"Java equivalent of c++ equal_range (or lower_bound &amp; upper_bound)","body":"<p>If you want to find lower_bound without defining your own method and do everything from scratch, then use the following code snippet. As you may have noticed, this method works only with primitive arrays not with ArrayList because we do not have a function in Collections class to specify the <strong>start</strong> and <strong>stop</strong> index for Binaryserach (as of java16).</p>\n<ul>\n<li>al is an array <code>(String[] al = new String[N];)</code></li>\n<li><code>token</code> is what we are looking for in the array.</li>\n</ul>\n<pre><code>Arrays.sort(al, 0, N); \nint index = Arrays.binarySearch(al, 0, N , token);\nwhile(index &gt; 0 &amp;&amp; al[index].equals(al[index - 1])){\n       index = Arrays.binarySearch(al, 0, index, token); //lower_bound in java.\n}\n</code></pre>\n<p>For upper bound you can easily modify the code.</p>\n"}],"owner":{"account_id":442748,"reputation":5867,"user_id":833538,"accept_rate":90,"display_name":"RoundPi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":36274,"favorite_count":0,"down_vote_count":0,"up_vote_count":21,"accepted_answer_id":15603895,"answer_count":9,"score":21,"last_activity_date":1676387244,"creation_date":1364158218,"question_id":15603832,"body_markdown":"I have a List of object sorted and I want to find the first occurrence and the last occurrence of an object. In C++, I can easily use std::equal_range (or just one lower_bound and one upper_bound). \r\n\r\nFor example:\r\n\r\n    bool mygreater (int i,int j) { return (i&gt;j); }\r\n    \r\n    int main () {\r\n      int myints[] = {10,20,30,30,20,10,10,20};\r\n      std::vector&lt;int&gt; v(myints,myints+8);                         // 10 20 30 30 20 10 10 20\r\n      std::pair&lt;std::vector&lt;int&gt;::iterator,std::vector&lt;int&gt;::iterator&gt; bounds;\r\n    \r\n      // using default comparison:\r\n      std::sort (v.begin(), v.end());                              // 10 10 10 20 20 20 30 30\r\n      bounds=std::equal_range (v.begin(), v.end(), 20);            //          ^        ^\r\n    \r\n      // using &quot;mygreater&quot; as comp:\r\n      std::sort (v.begin(), v.end(), mygreater);                   // 30 30 20 20 20 10 10 10\r\n      bounds=std::equal_range (v.begin(), v.end(), 20, mygreater); //       ^        ^\r\n    \r\n      std::cout &lt;&lt; &quot;bounds at positions &quot; &lt;&lt; (bounds.first - v.begin());\r\n      std::cout &lt;&lt; &quot; and &quot; &lt;&lt; (bounds.second - v.begin()) &lt;&lt; &#39;\\n&#39;;\r\n    \r\n      return 0;\r\n    }\r\n\r\n\r\nIn Java, there seems to be no simple equivalence? How should I do with the equal range with \r\n\r\n    List&lt;MyClass&gt; myList;\r\n\r\nBy the way, I am using a standard import java.util.List; ","title":"Java equivalent of c++ equal_range (or lower_bound &amp; upper_bound)","body":"<p>I have a List of object sorted and I want to find the first occurrence and the last occurrence of an object. In C++, I can easily use std::equal_range (or just one lower_bound and one upper_bound). </p>\n\n<p>For example:</p>\n\n<pre><code>bool mygreater (int i,int j) { return (i&gt;j); }\n\nint main () {\n  int myints[] = {10,20,30,30,20,10,10,20};\n  std::vector&lt;int&gt; v(myints,myints+8);                         // 10 20 30 30 20 10 10 20\n  std::pair&lt;std::vector&lt;int&gt;::iterator,std::vector&lt;int&gt;::iterator&gt; bounds;\n\n  // using default comparison:\n  std::sort (v.begin(), v.end());                              // 10 10 10 20 20 20 30 30\n  bounds=std::equal_range (v.begin(), v.end(), 20);            //          ^        ^\n\n  // using \"mygreater\" as comp:\n  std::sort (v.begin(), v.end(), mygreater);                   // 30 30 20 20 20 10 10 10\n  bounds=std::equal_range (v.begin(), v.end(), 20, mygreater); //       ^        ^\n\n  std::cout &lt;&lt; \"bounds at positions \" &lt;&lt; (bounds.first - v.begin());\n  std::cout &lt;&lt; \" and \" &lt;&lt; (bounds.second - v.begin()) &lt;&lt; '\\n';\n\n  return 0;\n}\n</code></pre>\n\n<p>In Java, there seems to be no simple equivalence? How should I do with the equal range with </p>\n\n<pre><code>List&lt;MyClass&gt; myList;\n</code></pre>\n\n<p>By the way, I am using a standard import java.util.List; </p>\n"},{"tags":["java","arrays"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":1,"creation_date":1497253299,"post_id":44493858,"comment_id":75981114,"body_markdown":"You only compare arr1 with arr2 not arr2 with arr1","body":"You only compare arr1 with arr2 not arr2 with arr1"},{"owner":{"account_id":1263831,"reputation":388998,"user_id":1221571,"accept_rate":67,"display_name":"Eran"},"score":2,"creation_date":1497253300,"post_id":44493858,"comment_id":75981115,"body_markdown":"Your code finds all the elements of the first list which are not present in the second list. It doesn&#39;t find the elements of the second list not present in the first list.","body":"Your code finds all the elements of the first list which are not present in the second list. It doesn&#39;t find the elements of the second list not present in the first list."},{"owner":{"account_id":4281721,"reputation":1308,"user_id":3500874,"accept_rate":40,"display_name":"Aishu"},"score":0,"creation_date":1497253859,"post_id":44493858,"comment_id":75981447,"body_markdown":"@KishanCS - Have u tested that code whatever the link u shared","body":"@KishanCS - Have u tested that code whatever the link u shared"},{"owner":{"account_id":4281721,"reputation":1308,"user_id":3500874,"accept_rate":40,"display_name":"Aishu"},"score":0,"creation_date":1497253937,"post_id":44493858,"comment_id":75981504,"body_markdown":"I&#39;m not sure why my question got downvoted. Please provide justification if u think it is not valid","body":"I&#39;m not sure why my question got downvoted. Please provide justification if u think it is not valid"},{"owner":{"account_id":4281721,"reputation":1308,"user_id":3500874,"accept_rate":40,"display_name":"Aishu"},"score":0,"creation_date":1497254202,"post_id":44493858,"comment_id":75981666,"body_markdown":"@KishanCS - No, it is not..I want to find unique elements in both the arrays. The link u provided will find unique elements in only one array(i.e arr1)","body":"@KishanCS - No, it is not..I want to find unique elements in both the arrays. The link u provided will find unique elements in only one array(i.e arr1)"},{"owner":{"account_id":7996309,"reputation":1367,"user_id":6032482,"accept_rate":60,"display_name":"KishanCS"},"score":0,"creation_date":1497255315,"post_id":44493858,"comment_id":75982282,"body_markdown":"Check the bellow answer","body":"Check the bellow answer"}],"answers":[{"tags":[],"owner":{"account_id":8870738,"reputation":1640,"user_id":6624525,"accept_rate":86,"display_name":"Markus G."},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1497253429,"creation_date":1497253429,"answer_id":44493954,"question_id":44493858,"body_markdown":"You have to add a second for-loop to check if elements of arr2 are in arr1 cause you are only checking if elements of arr1 are in arr2\r\n\r\n    public static void main(String[] args) {\r\n            // TODO Auto-generated method stub\r\n    \r\n            int[] arr1 = new int[] { 1, 2, 3, 4, 5, 6 };\r\n            int[] arr2 = new int[] { 5, 6, 7, 8 };\r\n    \r\n            boolean contains = false;\r\n            List&lt;Integer&gt; list = new ArrayList&lt;Integer&gt;();\r\n            for (int i = 0; i &lt; arr1.length; i++) {\r\n                for (int j = 0; j &lt; arr2.length; j++) {\r\n                    if (arr1[i] == arr2[j]) {\r\n                        contains = true;\r\n                        break;\r\n                    }\r\n                }\r\n    \r\n                if(!contains){\r\n                    list.add(arr1[i]);\r\n                }\r\n                else{\r\n                    contains = false;\r\n                }\r\n            }\r\n           for (int i = 0; i &lt; arr2.length; i++) {\r\n                for (int j = 0; j &lt; arr1.length; j++) {\r\n                    if (arr1[i] == arr2[j]) {\r\n                        contains = true;\r\n                        break;\r\n                    }\r\n                }\r\n    \r\n                if(!contains){\r\n                    list.add(arr2[i]);\r\n                }\r\n                else{\r\n                    contains = false;\r\n                }\r\n            }\r\n            System.out.println(list);\r\n    \r\n        }","title":"Java - Finding unique elements in two different arrays","body":"<p>You have to add a second for-loop to check if elements of arr2 are in arr1 cause you are only checking if elements of arr1 are in arr2</p>\n\n<pre><code>public static void main(String[] args) {\n        // TODO Auto-generated method stub\n\n        int[] arr1 = new int[] { 1, 2, 3, 4, 5, 6 };\n        int[] arr2 = new int[] { 5, 6, 7, 8 };\n\n        boolean contains = false;\n        List&lt;Integer&gt; list = new ArrayList&lt;Integer&gt;();\n        for (int i = 0; i &lt; arr1.length; i++) {\n            for (int j = 0; j &lt; arr2.length; j++) {\n                if (arr1[i] == arr2[j]) {\n                    contains = true;\n                    break;\n                }\n            }\n\n            if(!contains){\n                list.add(arr1[i]);\n            }\n            else{\n                contains = false;\n            }\n        }\n       for (int i = 0; i &lt; arr2.length; i++) {\n            for (int j = 0; j &lt; arr1.length; j++) {\n                if (arr1[i] == arr2[j]) {\n                    contains = true;\n                    break;\n                }\n            }\n\n            if(!contains){\n                list.add(arr2[i]);\n            }\n            else{\n                contains = false;\n            }\n        }\n        System.out.println(list);\n\n    }\n</code></pre>\n"},{"comments":[{"owner":{"account_id":332245,"reputation":16487,"user_id":657427,"accept_rate":67,"display_name":"Christophe Roussy"},"score":1,"creation_date":1497256607,"post_id":44494318,"comment_id":75983028,"body_markdown":"Makes good use of Java collection methods and should get more upvotes","body":"Makes good use of Java collection methods and should get more upvotes"},{"owner":{"account_id":7291967,"reputation":57515,"user_id":5558072,"accept_rate":100,"display_name":"Youcef LAIDANI"},"score":1,"creation_date":1497256771,"post_id":44494318,"comment_id":75983113,"body_markdown":"yes @ChristopheRoussy but it will not solve all the cases, did you check with duplicate just in one array try with this `List&lt;Integer&gt; list1 = Arrays.asList(1, 2, 3, 4, 4, 5, 6);\nList&lt;Integer&gt; list2 = Arrays.asList(5, 6, 7, 8);`, it will show `4` 2 times","body":"yes @ChristopheRoussy but it will not solve all the cases, did you check with duplicate just in one array try with this <code>List&lt;Integer&gt; list1 = Arrays.asList(1, 2, 3, 4, 4, 5, 6); List&lt;Integer&gt; list2 = Arrays.asList(5, 6, 7, 8);</code>, it will show <code>4</code> 2 times"},{"owner":{"account_id":332245,"reputation":16487,"user_id":657427,"accept_rate":67,"display_name":"Christophe Roussy"},"score":0,"creation_date":1497257530,"post_id":44494318,"comment_id":75983590,"body_markdown":"@YCF_L hmmm actually this is a school case where the asker does not want to rely on built-in methods ... ok my bad :)","body":"@YCF_L hmmm actually this is a school case where the asker does not want to rely on built-in methods ... ok my bad :)"},{"owner":{"account_id":7996309,"reputation":1367,"user_id":6032482,"accept_rate":60,"display_name":"KishanCS"},"score":2,"creation_date":1497258059,"post_id":44494318,"comment_id":75983931,"body_markdown":"@YCF_L  thanks for help . List&lt;Integer&gt; list1 = Arrays.asList(1, 2, 3, 4, 4, 5, 6); List&lt;Integer&gt; list2 = Arrays.asList(5, 6, 7, 8);, it will show 4 2 times \nI have updated to hashset now the above problem is resolved .","body":"@YCF_L  thanks for help . List&lt;Integer&gt; list1 = Arrays.asList(1, 2, 3, 4, 4, 5, 6); List&lt;Integer&gt; list2 = Arrays.asList(5, 6, 7, 8);, it will show 4 2 times  I have updated to hashset now the above problem is resolved ."},{"owner":{"account_id":332245,"reputation":16487,"user_id":657427,"accept_rate":67,"display_name":"Christophe Roussy"},"score":0,"creation_date":1497260215,"post_id":44494318,"comment_id":75985299,"body_markdown":"Yes using HashSet is the &#39;realworld&#39; way to go for large lists, this is often omitted in schools where they focus too much on lists.","body":"Yes using HashSet is the &#39;realworld&#39; way to go for large lists, this is often omitted in schools where they focus too much on lists."}],"tags":[],"owner":{"account_id":7996309,"reputation":1367,"user_id":6032482,"accept_rate":60,"display_name":"KishanCS"},"comment_count":5,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1497257960,"creation_date":1497254663,"answer_id":44494318,"question_id":44493858,"body_markdown":"This solves your problem:\r\n\r\n\r\n   \tpublic static void main(String[] args) {\r\n\r\n\t\t// Make the two lists\r\n\t\tList&lt;Integer&gt; list1 = Arrays.asList(1, 2, 3, 4, 4, 5, 6);\r\n\t\tList&lt;Integer&gt; list2 = Arrays.asList(5, 6, 7, 8);\r\n\t\t// Prepare a union\r\n\t\tSet&lt;Integer&gt; union = new HashSet&lt;Integer&gt;(list1);\r\n\t\tunion.addAll(list2);\r\n\t\t// Prepare an intersection\r\n\t\tSet&lt;Integer&gt; intersection = new HashSet&lt;Integer&gt;(list1);\r\n\t\tintersection.retainAll(list2);\r\n\t\t// Subtract the intersection from the union\r\n\t\tunion.removeAll(intersection);\r\n\t\t// Print the result\r\n\t\tfor (Integer n : union) {\r\n\t\t\tSystem.out.println(n);\r\n\t\t}\r\n\t}","title":"Java - Finding unique elements in two different arrays","body":"<p>This solves your problem:</p>\n\n<pre><code>public static void main(String[] args) {\n\n    // Make the two lists\n    List&lt;Integer&gt; list1 = Arrays.asList(1, 2, 3, 4, 4, 5, 6);\n    List&lt;Integer&gt; list2 = Arrays.asList(5, 6, 7, 8);\n    // Prepare a union\n    Set&lt;Integer&gt; union = new HashSet&lt;Integer&gt;(list1);\n    union.addAll(list2);\n    // Prepare an intersection\n    Set&lt;Integer&gt; intersection = new HashSet&lt;Integer&gt;(list1);\n    intersection.retainAll(list2);\n    // Subtract the intersection from the union\n    union.removeAll(intersection);\n    // Print the result\n    for (Integer n : union) {\n        System.out.println(n);\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"display_name":"user4910279"},"score":0,"creation_date":1497256868,"post_id":44494792,"comment_id":75983180,"body_markdown":"Your first solution also requires Java 8.","body":"Your first solution also requires Java 8."},{"owner":{"account_id":7291967,"reputation":57515,"user_id":5558072,"accept_rate":100,"display_name":"Youcef LAIDANI"},"score":0,"creation_date":1497256910,"post_id":44494792,"comment_id":75983206,"body_markdown":"this solution have the same problem with duplicate just in one array try to use `int[] arr1 = new int[]{1, 2, 3, 4, 4, 5, 6};\n        int[] arr2 = new int[]{5, 6, 7, 8};` it will show you duplicate 4","body":"this solution have the same problem with duplicate just in one array try to use <code>int[] arr1 = new int[]{1, 2, 3, 4, 4, 5, 6};         int[] arr2 = new int[]{5, 6, 7, 8};</code> it will show you duplicate 4"},{"owner":{"account_id":9487126,"reputation":347,"user_id":7053196,"display_name":"Haythem ROUIS"},"score":0,"creation_date":1497257137,"post_id":44494792,"comment_id":75983343,"body_markdown":"@saka1029 : i only used java 8 to transform array to list. You can use that without Java 8 using simple for loops.","body":"@saka1029 : i only used java 8 to transform array to list. You can use that without Java 8 using simple for loops."},{"owner":{"account_id":9487126,"reputation":347,"user_id":7053196,"display_name":"Haythem ROUIS"},"score":1,"creation_date":1497257299,"post_id":44494792,"comment_id":75983462,"body_markdown":"@YCF_L : Sure, but this is not the  problem. Here we are trying to eliminate duplicates  between two different arrays. Otherwise, if you want to eliminate all duplicates, just use a `Set`","body":"@YCF_L : Sure, but this is not the  problem. Here we are trying to eliminate duplicates  between two different arrays. Otherwise, if you want to eliminate all duplicates, just use a <code>Set</code>"}],"tags":[],"owner":{"account_id":9487126,"reputation":347,"user_id":7053196,"display_name":"Haythem ROUIS"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1497256297,"creation_date":1497256297,"answer_id":44494792,"question_id":44493858,"body_markdown":"A more optimized way would be using list iterators. \r\n\r\n            int[] arr1 = new int[] { 1, 2, 3, 4, 5, 6 };\r\n    \t\tint[] arr2 = new int[] { 5, 6, 7, 8 };\r\n    \r\n    \t\tList&lt;Integer&gt; list1 = IntStream.of(arr1).boxed().collect(Collectors.toList());\r\n    \t\tList&lt;Integer&gt; list2 = IntStream.of(arr2).boxed().collect(Collectors.toList());\r\n    \r\n    \t\tIterator list1Iter = list1.iterator();\r\n    \t\tboolean contains = false;\r\n    \t\twhile(list1Iter.hasNext()) {\r\n    \t\t\tint val1 = (int)list1Iter.next();\r\n    \t\t\tIterator list2Iter = list2.iterator();\r\n    \t\t\twhile(list2Iter.hasNext()) {\r\n    \t\t\t\tint val2 = (int)list2Iter.next();\r\n    \t\t\t\tif( val1 == val2) {\r\n                        // remove duplicate\r\n    \t\t\t\t\tlist1Iter.remove();\r\n    \t\t\t\t\tlist2Iter.remove();\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\tlist1.addAll(list2);\r\n    \t\tfor( Object val : list1) {\r\n    \t\t\tSystem.out.println(val);\r\n    \t\t}\r\n\r\nIf you are using Java 8, you can do the following  : \r\n\r\n\tList resultList = list1.stream().filter(nbr -&gt;  !list2.contains(nbr)).collect(Collectors.toList());\r\n\tresultList.addAll(list2.stream().filter(nbr -&gt; !list1.contains(nbr)).collect(Collectors.toList()));\r\n\r\n","title":"Java - Finding unique elements in two different arrays","body":"<p>A more optimized way would be using list iterators. </p>\n\n<pre><code>        int[] arr1 = new int[] { 1, 2, 3, 4, 5, 6 };\n        int[] arr2 = new int[] { 5, 6, 7, 8 };\n\n        List&lt;Integer&gt; list1 = IntStream.of(arr1).boxed().collect(Collectors.toList());\n        List&lt;Integer&gt; list2 = IntStream.of(arr2).boxed().collect(Collectors.toList());\n\n        Iterator list1Iter = list1.iterator();\n        boolean contains = false;\n        while(list1Iter.hasNext()) {\n            int val1 = (int)list1Iter.next();\n            Iterator list2Iter = list2.iterator();\n            while(list2Iter.hasNext()) {\n                int val2 = (int)list2Iter.next();\n                if( val1 == val2) {\n                    // remove duplicate\n                    list1Iter.remove();\n                    list2Iter.remove();\n                }\n            }\n        }\n        list1.addAll(list2);\n        for( Object val : list1) {\n            System.out.println(val);\n        }\n</code></pre>\n\n<p>If you are using Java 8, you can do the following  : </p>\n\n<pre><code>List resultList = list1.stream().filter(nbr -&gt;  !list2.contains(nbr)).collect(Collectors.toList());\nresultList.addAll(list2.stream().filter(nbr -&gt; !list1.contains(nbr)).collect(Collectors.toList()));\n</code></pre>\n"},{"comments":[{"owner":{"account_id":332245,"reputation":16487,"user_id":657427,"accept_rate":67,"display_name":"Christophe Roussy"},"score":1,"creation_date":1497260600,"post_id":44494814,"comment_id":75985548,"body_markdown":"Also interesting, it is crazy how many ways you can do this :)","body":"Also interesting, it is crazy how many ways you can do this :)"}],"tags":[],"owner":{"account_id":7291967,"reputation":57515,"user_id":5558072,"accept_rate":100,"display_name":"Youcef LAIDANI"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1497256371,"creation_date":1497256371,"answer_id":44494814,"question_id":44493858,"body_markdown":"If you are using java 8 i would suggest this solution :\r\n\r\n    public static void main(String[] args) {\r\n        int[] arr1 = new int[]{1, 2, 3, 4, 5, 6};\r\n        int[] arr2 = new int[]{5, 6, 7, 8};\r\n    \r\n        List&lt;Integer&gt; list = new ArrayList&lt;&gt;();//create a list or Integers\r\n        //add the values of the two arrays in this list\r\n        list.addAll(Arrays.stream(arr1).boxed().collect(Collectors.toList()));\r\n        list.addAll(Arrays.stream(arr2).boxed().collect(Collectors.toList()));\r\n    \r\n        //we need a set to check if the element is duplicate or not\r\n        Set&lt;Integer&gt; set = new HashSet();\r\n        List&lt;Integer&gt; result = new ArrayList&lt;&gt;(list);\r\n\r\n        //loop throw your list, and check if you can add this element to the set\r\n        // or not, if not this mean it is duplicate you have to remove it from your list\r\n        list.stream().filter((i) -&gt; (!set.add(i))).forEachOrdered((i) -&gt; {\r\n            result.removeAll(Collections.singleton(i));\r\n        });\r\n\r\n        System.out.println(result);\r\n    }\r\n\r\n**Output**\r\n\r\n    [1, 2, 3, 4, 7, 8]\r\n\r\n---\r\n\r\nTo solve this problem, i based to this posts : https://stackoverflow.com/questions/7414667/identify-duplicates-in-a-list","title":"Java - Finding unique elements in two different arrays","body":"<p>If you are using java 8 i would suggest this solution :</p>\n\n<pre><code>public static void main(String[] args) {\n    int[] arr1 = new int[]{1, 2, 3, 4, 5, 6};\n    int[] arr2 = new int[]{5, 6, 7, 8};\n\n    List&lt;Integer&gt; list = new ArrayList&lt;&gt;();//create a list or Integers\n    //add the values of the two arrays in this list\n    list.addAll(Arrays.stream(arr1).boxed().collect(Collectors.toList()));\n    list.addAll(Arrays.stream(arr2).boxed().collect(Collectors.toList()));\n\n    //we need a set to check if the element is duplicate or not\n    Set&lt;Integer&gt; set = new HashSet();\n    List&lt;Integer&gt; result = new ArrayList&lt;&gt;(list);\n\n    //loop throw your list, and check if you can add this element to the set\n    // or not, if not this mean it is duplicate you have to remove it from your list\n    list.stream().filter((i) -&gt; (!set.add(i))).forEachOrdered((i) -&gt; {\n        result.removeAll(Collections.singleton(i));\n    });\n\n    System.out.println(result);\n}\n</code></pre>\n\n<p><strong>Output</strong></p>\n\n<pre><code>[1, 2, 3, 4, 7, 8]\n</code></pre>\n\n<hr>\n\n<p>To solve this problem, i based to this posts : <a href=\"https://stackoverflow.com/questions/7414667/identify-duplicates-in-a-list\">Identify duplicates in a List</a></p>\n"},{"comments":[{"owner":{"account_id":332245,"reputation":16487,"user_id":657427,"accept_rate":67,"display_name":"Christophe Roussy"},"score":0,"creation_date":1497261307,"post_id":44495271,"comment_id":75986003,"body_markdown":"It would be interesting to compare performance of all these solutions","body":"It would be interesting to compare performance of all these solutions"},{"owner":{"display_name":"user4910279"},"score":0,"creation_date":1497265428,"post_id":44495271,"comment_id":75988680,"body_markdown":"If arr1 has two `4`s,  It will be removed from the result.","body":"If arr1 has two <code>4</code>s,  It will be removed from the result."},{"owner":{"account_id":3971227,"reputation":8507,"user_id":3275788,"display_name":"wumpz"},"score":0,"creation_date":1497278251,"post_id":44495271,"comment_id":75997942,"body_markdown":"Thx for pointing that out. You are right. I falsly assumed the lists itself contain distinct values. Nevertheless, now its ok.","body":"Thx for pointing that out. You are right. I falsly assumed the lists itself contain distinct values. Nevertheless, now its ok."}],"tags":[],"owner":{"account_id":3971227,"reputation":8507,"user_id":3275788,"display_name":"wumpz"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1497278205,"creation_date":1497257856,"answer_id":44495271,"question_id":44493858,"body_markdown":"And here another streaming (Java 8) solution. Using streams one should avoid modifying stream outside variables.\r\n\r\nThe idea here is to union the lists and then to count the occurance of each item. All items with count 1 are only in one list. Those are collected to the result list.\r\n\r\n        //using here Integer instead of atomic int, simplifies the union.\r\n        Integer[] arr1 = new Integer[]{1, 2, 3, 4, 5, 6};\r\n        Integer[] arr2 = new Integer[]{5, 6, 7, 8};\r\n\r\n        List&lt;Integer&gt; list = new ArrayList&lt;&gt;();\r\n        list.addAll(new HashSet&lt;&gt;(Arrays.asList(arr1)));\r\n        list.addAll(new HashSet&lt;&gt;(Arrays.asList(arr2)));\r\n\r\n        System.out.println(\r\n                list.stream()\r\n                        .collect(groupingBy(identity(), counting()))\r\n                        .entrySet().stream()\r\n                        .filter(i -&gt; i.getValue() == 1)\r\n                        .map(i -&gt; i.getKey())\r\n                        .collect(toList())\r\n        );\r\n\r\n\r\n**EDIT:**\r\nChanged this answer to adress multiples within one list problem.","title":"Java - Finding unique elements in two different arrays","body":"<p>And here another streaming (Java 8) solution. Using streams one should avoid modifying stream outside variables.</p>\n\n<p>The idea here is to union the lists and then to count the occurance of each item. All items with count 1 are only in one list. Those are collected to the result list.</p>\n\n<pre><code>    //using here Integer instead of atomic int, simplifies the union.\n    Integer[] arr1 = new Integer[]{1, 2, 3, 4, 5, 6};\n    Integer[] arr2 = new Integer[]{5, 6, 7, 8};\n\n    List&lt;Integer&gt; list = new ArrayList&lt;&gt;();\n    list.addAll(new HashSet&lt;&gt;(Arrays.asList(arr1)));\n    list.addAll(new HashSet&lt;&gt;(Arrays.asList(arr2)));\n\n    System.out.println(\n            list.stream()\n                    .collect(groupingBy(identity(), counting()))\n                    .entrySet().stream()\n                    .filter(i -&gt; i.getValue() == 1)\n                    .map(i -&gt; i.getKey())\n                    .collect(toList())\n    );\n</code></pre>\n\n<p><strong>EDIT:</strong>\nChanged this answer to adress multiples within one list problem.</p>\n"},{"comments":[{"owner":{"account_id":7291967,"reputation":57515,"user_id":5558072,"accept_rate":100,"display_name":"Youcef LAIDANI"},"score":0,"creation_date":1497260832,"post_id":44495566,"comment_id":75985712,"body_markdown":"this is correct Christophe Roussy your solution also it solve the problem :)","body":"this is correct Christophe Roussy your solution also it solve the problem :)"}],"tags":[],"owner":{"account_id":332245,"reputation":16487,"user_id":657427,"accept_rate":67,"display_name":"Christophe Roussy"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1497261117,"creation_date":1497258635,"answer_id":44495566,"question_id":44493858,"body_markdown":"Using HashSet, for educative purposes, which could be very fast if lists are big:\r\n\r\n      public static void main(final String[] args) {\r\n        final List&lt;Integer&gt; list1 = new ArrayList&lt;&gt;(Arrays.asList(1, 2, 3, 4, 5, 6));\r\n        final Set&lt;Integer&gt; set1 = new HashSet&lt;&gt;(list1);\r\n\r\n        final List&lt;Integer&gt; list2 = new ArrayList&lt;&gt;(Arrays.asList(5, 6, 7, 8));\r\n        final Set&lt;Integer&gt; set2 = new HashSet&lt;&gt;(list2);\r\n    \r\n        set1.retainAll(set2); // Keep union.\r\n    \r\n        // Remove union to keep only unique items.\r\n        list1.removeAll(set1);\r\n        list2.removeAll(set1);\r\n    \r\n        // Accumulate unique items.\r\n        list1.addAll(list2);\r\n\r\n        System.out.println(new HashSet&lt;&gt;(list1));\r\n        // [1,2,3,4,7,8]\r\n      }\r\n\r\n","title":"Java - Finding unique elements in two different arrays","body":"<p>Using HashSet, for educative purposes, which could be very fast if lists are big:</p>\n\n<pre><code>  public static void main(final String[] args) {\n    final List&lt;Integer&gt; list1 = new ArrayList&lt;&gt;(Arrays.asList(1, 2, 3, 4, 5, 6));\n    final Set&lt;Integer&gt; set1 = new HashSet&lt;&gt;(list1);\n\n    final List&lt;Integer&gt; list2 = new ArrayList&lt;&gt;(Arrays.asList(5, 6, 7, 8));\n    final Set&lt;Integer&gt; set2 = new HashSet&lt;&gt;(list2);\n\n    set1.retainAll(set2); // Keep union.\n\n    // Remove union to keep only unique items.\n    list1.removeAll(set1);\n    list2.removeAll(set1);\n\n    // Accumulate unique items.\n    list1.addAll(list2);\n\n    System.out.println(new HashSet&lt;&gt;(list1));\n    // [1,2,3,4,7,8]\n  }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12696458,"reputation":1,"user_id":9224741,"display_name":"Goal Android"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1516112975,"creation_date":1516112975,"answer_id":48283538,"question_id":44493858,"body_markdown":"    import java.util.Scanner;\r\n    import java.io.*;\r\n    \r\n    \r\n    public class CandidateCode{\r\n        static int count =0;\r\n        public static void main(String args[])\r\n        {\r\n            \r\n        int n,n1;\r\n        Scanner sc=new Scanner(System.in);\r\n        System.out.println(&quot;Enter no. of elements for first array&quot;);\r\n        n=sc.nextInt();\r\n        int arr[]=new int[n];\r\n        System.out.println(&quot;Enter the elements of first array&quot;);\r\n        for(int i=0;i&lt;n;i++)\r\n        {\r\n            arr[i]=sc.nextInt();\r\n            \r\n        }\r\n        System.out.println(&quot;Enter no. of elements for second array&quot;);\r\n        n1=sc.nextInt();\r\n        int arr1[]=new int[n1];\r\n        System.out.println(&quot;Enter the elements of second array&quot;);\r\n        for(int i=0;i&lt;n1;i++)\r\n        {\r\n            arr1[i]=sc.nextInt();\r\n            \r\n        }\r\n        unique_ele(arr,arr1);\r\n        unique_ele(arr1,arr);\r\n        System.out.println(&quot;The number of unique elements are&quot;);\r\n        System.out.println(count);\r\n        }\r\n        public static int unique_ele(int arr2[],int arr3[])\r\n        {\r\n            boolean contains = false;\r\n            for(int i=0;i&lt;arr2.length;i++)\r\n            {\r\n                for(int j=0;j&lt;arr3.length;j++)\r\n                {\r\n                    if (arr2[i] == arr3[j]) {\r\n                        contains = true;\r\n                        break;\r\n                    }            \r\n                    \r\n                }\r\n                 if(!contains){\r\n                   count++;\r\n                }\r\n                else{\r\n                    contains = false;\r\n                }\r\n            }\r\n            \r\n            return count;    \r\n        }\r\n          \r\n    }\r\n         \r\n","title":"Java - Finding unique elements in two different arrays","body":"<pre><code>import java.util.Scanner;\nimport java.io.*;\n\n\npublic class CandidateCode{\n    static int count =0;\n    public static void main(String args[])\n    {\n\n    int n,n1;\n    Scanner sc=new Scanner(System.in);\n    System.out.println(\"Enter no. of elements for first array\");\n    n=sc.nextInt();\n    int arr[]=new int[n];\n    System.out.println(\"Enter the elements of first array\");\n    for(int i=0;i&lt;n;i++)\n    {\n        arr[i]=sc.nextInt();\n\n    }\n    System.out.println(\"Enter no. of elements for second array\");\n    n1=sc.nextInt();\n    int arr1[]=new int[n1];\n    System.out.println(\"Enter the elements of second array\");\n    for(int i=0;i&lt;n1;i++)\n    {\n        arr1[i]=sc.nextInt();\n\n    }\n    unique_ele(arr,arr1);\n    unique_ele(arr1,arr);\n    System.out.println(\"The number of unique elements are\");\n    System.out.println(count);\n    }\n    public static int unique_ele(int arr2[],int arr3[])\n    {\n        boolean contains = false;\n        for(int i=0;i&lt;arr2.length;i++)\n        {\n            for(int j=0;j&lt;arr3.length;j++)\n            {\n                if (arr2[i] == arr3[j]) {\n                    contains = true;\n                    break;\n                }            \n\n            }\n             if(!contains){\n               count++;\n            }\n            else{\n                contains = false;\n            }\n        }\n\n        return count;    \n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9902388,"reputation":189,"user_id":7332002,"display_name":"Muhammad Aasharib Nawshad"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1557073690,"creation_date":1557073690,"answer_id":55994074,"question_id":44493858,"body_markdown":"    public static ArrayList&lt;Integer&gt; findUniqueAmongLists(ArrayList&lt;Integer&gt; a, ArrayList&lt;Integer&gt; b){\r\n        \tArrayList&lt;Integer&gt; uniqueArr = new ArrayList&lt;&gt;();\r\n        \tArrayList&lt;Integer&gt; duplicateArr = new ArrayList&lt;&gt;();\r\n        \tfor(int i=0; i&lt; a.size(); i++){\r\n        \t\tif(!duplicateArr.contains(a.get(i))){\r\n        \t\t\tuniqueArr.add(a.get(i));\r\n        \t\t\tduplicateArr.add(a.get(i));\r\n        \t\t}\r\n        \t\telse{\r\n        \t\t\tuniqueArr.remove(a.get(i));\r\n        \t\t}\r\n        \t}\r\n        \tfor(int j=0; j&lt; b.size(); j++){\r\n        \t\tif(!duplicateArr.contains(b.get(j))){\r\n        \t\t\tuniqueArr.add(b.get(j));\r\n        \t\t\tduplicateArr.add(b.get(j));\r\n        \t\t}\r\n        \t\telse{\r\n        \t\t\tuniqueArr.remove(b.get(j));\r\n        \t\t}\r\n        \t}\r\n        \treturn uniqueArr;\r\n        }","title":"Java - Finding unique elements in two different arrays","body":"<pre><code>public static ArrayList&lt;Integer&gt; findUniqueAmongLists(ArrayList&lt;Integer&gt; a, ArrayList&lt;Integer&gt; b){\n        ArrayList&lt;Integer&gt; uniqueArr = new ArrayList&lt;&gt;();\n        ArrayList&lt;Integer&gt; duplicateArr = new ArrayList&lt;&gt;();\n        for(int i=0; i&lt; a.size(); i++){\n            if(!duplicateArr.contains(a.get(i))){\n                uniqueArr.add(a.get(i));\n                duplicateArr.add(a.get(i));\n            }\n            else{\n                uniqueArr.remove(a.get(i));\n            }\n        }\n        for(int j=0; j&lt; b.size(); j++){\n            if(!duplicateArr.contains(b.get(j))){\n                uniqueArr.add(b.get(j));\n                duplicateArr.add(b.get(j));\n            }\n            else{\n                uniqueArr.remove(b.get(j));\n            }\n        }\n        return uniqueArr;\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18524246,"reputation":1,"user_id":13496485,"display_name":"himani tiwari"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1589162435,"creation_date":1589137540,"answer_id":61717339,"question_id":44493858,"body_markdown":"    int[] arr1 = new int[] { 1, 2, 3, 4, 5, 6 };\r\n\t\tint[] arr2 = new int[] { 5, 6, 7, 8 };\r\n\r\n\t\tboolean contains = false;\r\n\t\tList&lt;Integer&gt; list = new ArrayList&lt;Integer&gt;();\r\n\t\tfor (int i = 0; i &lt; arr1.length; i++) {\r\n\t\t\tfor (int j = 0; j &lt; arr2.length; j++) {\r\n\t\t\t\tif (arr1[i] == arr2[j]) {\r\n\t\t\t\t\tcontains = true;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif (!contains) {\r\n\t\t\t\tlist.add(arr1[i]);\r\n\r\n\t\t\t} else {\r\n\t\t\t\tcontains = false;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tfor (int j = 0; j &lt; arr2.length; j++) {\r\n\t\t\tfor (int k = 0; k &lt; arr1.length; k++) {\r\n\t\t\t\tif (arr2[j] == arr1[k]) {\r\n\t\t\t\t\tcontains = true;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\t\t\tif (!contains) {\r\n\r\n\t\t\t\tlist.add(arr2[j]);\r\n\t\t\t} else {\r\n\t\t\t\tcontains = false;\r\n\t\t\t}\r\n\t\t}\r\n\t\tSystem.out.println(list);\r\n\t}","title":"Java - Finding unique elements in two different arrays","body":"<pre><code>int[] arr1 = new int[] { 1, 2, 3, 4, 5, 6 };\n    int[] arr2 = new int[] { 5, 6, 7, 8 };\n\n    boolean contains = false;\n    List&lt;Integer&gt; list = new ArrayList&lt;Integer&gt;();\n    for (int i = 0; i &lt; arr1.length; i++) {\n        for (int j = 0; j &lt; arr2.length; j++) {\n            if (arr1[i] == arr2[j]) {\n                contains = true;\n                break;\n            }\n\n        }\n\n        if (!contains) {\n            list.add(arr1[i]);\n\n        } else {\n            contains = false;\n        }\n    }\n\n    for (int j = 0; j &lt; arr2.length; j++) {\n        for (int k = 0; k &lt; arr1.length; k++) {\n            if (arr2[j] == arr1[k]) {\n                contains = true;\n                break;\n            }\n\n        }\n        if (!contains) {\n\n            list.add(arr2[j]);\n        } else {\n            contains = false;\n        }\n    }\n    System.out.println(list);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16569445,"reputation":222,"user_id":11973019,"display_name":"Nuwan Harshakumara Piyarathna"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1676387155,"creation_date":1589159757,"answer_id":61720835,"question_id":44493858,"body_markdown":"Actually, there is a more simple solution using Java TreeSet.java TreeSet doesn&#39;t contain duplicate elements. Therefore, all you have to do is create a TreeSet and adding all elements to it. It also keeps the natural (sorted) Order.\r\n\r\n    public static void main(String[] args) {\r\n        int[] arr1 = new int[] { 1, 2, 3, 4, 5, 6 };\r\n        int[] arr2 = new int[] { 5, 6, 7, 8 };\r\n        TreeSet&lt;Integer&gt; set = new TreeSet&lt;&gt;();\r\n        for (int i:arr1) {\r\n            set.add(i);\r\n        }\r\n        for (int i:arr2) {\r\n            set.add(i);\r\n        }\r\n        System.out.println(set);\r\n    }\r\noutput: [1, 2, 3, 4, 5, 6, 7, 8]","title":"Java - Finding unique elements in two different arrays","body":"<p>Actually, there is a more simple solution using Java TreeSet.java TreeSet doesn't contain duplicate elements. Therefore, all you have to do is create a TreeSet and adding all elements to it. It also keeps the natural (sorted) Order.</p>\n<pre><code>public static void main(String[] args) {\n    int[] arr1 = new int[] { 1, 2, 3, 4, 5, 6 };\n    int[] arr2 = new int[] { 5, 6, 7, 8 };\n    TreeSet&lt;Integer&gt; set = new TreeSet&lt;&gt;();\n    for (int i:arr1) {\n        set.add(i);\n    }\n    for (int i:arr2) {\n        set.add(i);\n    }\n    System.out.println(set);\n}\n</code></pre>\n<p>output: [1, 2, 3, 4, 5, 6, 7, 8]</p>\n"},{"tags":[],"owner":{"account_id":20425721,"reputation":21,"user_id":14985771,"display_name":"prakash k"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1619351949,"creation_date":1612590604,"answer_id":66073977,"question_id":44493858,"body_markdown":"```\r\npublic class UniqueElementFrom2array {\r\n\r\n\tpublic static void main(String[] args) \r\n\t{      \r\n      int[] a= {1,2,3,4,5,6,7};\r\n      int[] b= {1,2,3,8,9,4,10,11,12};\r\n      int[] c=new int[a.length+b.length];\r\n        int len1=a.length;\r\n        int len2=b.length;\r\n        System.arraycopy(a, 0, c, 0, len1);\r\n        System.arraycopy(b, 0, c, len1,len2);\r\n        Arrays.sort(c);\r\n        System.out.println(Arrays.toString(c));\r\n        Set s=new HashSet();\r\n        \r\n    for(int i=0;i&lt;c.length;i++)\r\n    {\r\n    \tif(!s.contains(c[i]))\r\n    \t{\r\n    \t\ts.add(c[i]);\r\n            System.out.print(c[i] + &quot; &quot;); \r\n    \t}\r\n    }\r\n\t}\r\n}\r\n```","title":"Java - Finding unique elements in two different arrays","body":"<pre><code>public class UniqueElementFrom2array {\n\n    public static void main(String[] args) \n    {      \n      int[] a= {1,2,3,4,5,6,7};\n      int[] b= {1,2,3,8,9,4,10,11,12};\n      int[] c=new int[a.length+b.length];\n        int len1=a.length;\n        int len2=b.length;\n        System.arraycopy(a, 0, c, 0, len1);\n        System.arraycopy(b, 0, c, len1,len2);\n        Arrays.sort(c);\n        System.out.println(Arrays.toString(c));\n        Set s=new HashSet();\n        \n    for(int i=0;i&lt;c.length;i++)\n    {\n        if(!s.contains(c[i]))\n        {\n            s.add(c[i]);\n            System.out.print(c[i] + &quot; &quot;); \n        }\n    }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19105206,"reputation":551,"user_id":13952516,"display_name":"SudhakarH"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1629983580,"creation_date":1629983580,"answer_id":68939194,"question_id":44493858,"body_markdown":"A complete code using TreeSet in java.\r\n\r\n    import java.util.*;\r\n    import java.util.Scanner;\r\n    public class Main\r\n    {\r\n        public static void uniqElements(int arr1[], int arr2[],int n){\r\n            TreeSet&lt;Integer&gt; set1 = new TreeSet&lt;&gt;();\r\n            TreeSet&lt;Integer&gt; set2 = new TreeSet&lt;&gt;();\r\n            TreeSet&lt;Integer&gt; set3 = new TreeSet&lt;&gt;();\r\n            TreeSet&lt;Integer&gt; set4 = new TreeSet&lt;&gt;();\r\n            for (int i:arr1) {\r\n                set1.add(i);\r\n                set3.add(i);\r\n            }\r\n            for (int i:arr2) {\r\n                set2.add(i);\r\n                set4.add(i);\r\n            }\r\n            set3.addAll(set4);\r\n            set1.retainAll(set2);\r\n            set3.removeAll(set1);\r\n            System.out.println(set3);\r\n        \r\n        }\r\n\t    public static void main(String[] args) {\r\n\t\t    Scanner sc = new Scanner(System.in);\r\n\t\t    int n = sc.nextInt();\r\n\t\t    int[] arr1 = new int[n];\r\n\t\t    int[] arr2 = new int[n];\r\n\t\t    for(int i =0;i&lt;n;i++){\r\n\t\t        arr1[i]=sc.nextInt();\r\n\t\t    }\r\n\t\t    for(int i =0;i&lt;n;i++){\r\n\t\t        arr2[i]=sc.nextInt();\r\n\t\t    }\r\n\t\t    uniqElements(arr1,arr2,n);\r\n\t\t\r\n\t    }\r\n    }\r\n","title":"Java - Finding unique elements in two different arrays","body":"<p>A complete code using TreeSet in java.</p>\n<pre><code>import java.util.*;\nimport java.util.Scanner;\npublic class Main\n{\n    public static void uniqElements(int arr1[], int arr2[],int n){\n        TreeSet&lt;Integer&gt; set1 = new TreeSet&lt;&gt;();\n        TreeSet&lt;Integer&gt; set2 = new TreeSet&lt;&gt;();\n        TreeSet&lt;Integer&gt; set3 = new TreeSet&lt;&gt;();\n        TreeSet&lt;Integer&gt; set4 = new TreeSet&lt;&gt;();\n        for (int i:arr1) {\n            set1.add(i);\n            set3.add(i);\n        }\n        for (int i:arr2) {\n            set2.add(i);\n            set4.add(i);\n        }\n        set3.addAll(set4);\n        set1.retainAll(set2);\n        set3.removeAll(set1);\n        System.out.println(set3);\n    \n    }\n    public static void main(String[] args) {\n        Scanner sc = new Scanner(System.in);\n        int n = sc.nextInt();\n        int[] arr1 = new int[n];\n        int[] arr2 = new int[n];\n        for(int i =0;i&lt;n;i++){\n            arr1[i]=sc.nextInt();\n        }\n        for(int i =0;i&lt;n;i++){\n            arr2[i]=sc.nextInt();\n        }\n        uniqElements(arr1,arr2,n);\n    \n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":371425,"reputation":3209,"user_id":719950,"accept_rate":41,"display_name":"Jeets"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648229279,"creation_date":1648229279,"answer_id":71620933,"question_id":44493858,"body_markdown":"    \r\n\r\n        public static void main(String[] args) {\r\n            int[] arr1 = new int[] { 1, 2, 3, 4, 5, 6 };\r\n            int[] arr2 = new int[] { 5, 6, 7, 8 };\r\n            System.out.println(Stream.concat(Arrays.stream(arr1).boxed(), Arrays.stream(arr2).boxed()).distinct().collect(Collectors.toList()));\r\n    }\r\n\r\n","title":"Java - Finding unique elements in two different arrays","body":"<pre><code>    public static void main(String[] args) {\n        int[] arr1 = new int[] { 1, 2, 3, 4, 5, 6 };\n        int[] arr2 = new int[] { 5, 6, 7, 8 };\n        System.out.println(Stream.concat(Arrays.stream(arr1).boxed(), Arrays.stream(arr2).boxed()).distinct().collect(Collectors.toList()));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19318640,"reputation":121,"user_id":14122804,"display_name":"devtunus"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654497854,"creation_date":1654497854,"answer_id":72513953,"question_id":44493858,"body_markdown":"1. Merge all array.\r\n2. Remove elements at merged array that contains second array value.\r\n\r\n```\r\nimport java.util.TreeSet;\r\n\r\npublic class ArrayUnique {\r\n    public static void getUniqueElements(int arr1[], int arr2[]){\r\n\r\n        // Merge all array with treeset \r\n        // it will remove duplicate element\r\n\r\n        TreeSet&lt;Integer&gt; all= new TreeSet&lt;&gt;();\r\n        TreeSet&lt;Integer&gt; secondArray= new TreeSet&lt;&gt;();\r\n        \r\n        for(int i:arr1){\r\n            all.add(i);\r\n        }\r\n        for(int i:arr2){\r\n            all.add(i);\r\n            secondArray.add(i);\r\n        }\r\n\r\n        //Delete element that contains secondArray value\r\n        all.removeAll(secondArray);\r\n\r\n        //print to console\r\n        System.out.println(all);\r\n    }\r\n\r\n\r\n    public static void main(String[] args) {\r\n        \r\n         int[] arr1 = {1,2,3,4};\r\n         int[] arr2 = {1,3,5,10,16};\r\n         getUniqueElements(arr1,arr2);\r\n\r\n         //Result: [2,4]\r\n    \r\n    }\r\n}\r\n\r\n\r\n```","title":"Java - Finding unique elements in two different arrays","body":"<ol>\n<li>Merge all array.</li>\n<li>Remove elements at merged array that contains second array value.</li>\n</ol>\n<pre><code>import java.util.TreeSet;\n\npublic class ArrayUnique {\n    public static void getUniqueElements(int arr1[], int arr2[]){\n\n        // Merge all array with treeset \n        // it will remove duplicate element\n\n        TreeSet&lt;Integer&gt; all= new TreeSet&lt;&gt;();\n        TreeSet&lt;Integer&gt; secondArray= new TreeSet&lt;&gt;();\n        \n        for(int i:arr1){\n            all.add(i);\n        }\n        for(int i:arr2){\n            all.add(i);\n            secondArray.add(i);\n        }\n\n        //Delete element that contains secondArray value\n        all.removeAll(secondArray);\n\n        //print to console\n        System.out.println(all);\n    }\n\n\n    public static void main(String[] args) {\n        \n         int[] arr1 = {1,2,3,4};\n         int[] arr2 = {1,3,5,10,16};\n         getUniqueElements(arr1,arr2);\n\n         //Result: [2,4]\n    \n    }\n}\n\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25356455,"reputation":61,"user_id":19172498,"display_name":"Kishor Mandve"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654499228,"creation_date":1654499228,"answer_id":72514162,"question_id":44493858,"body_markdown":"Try this:\r\n\r\n    \tpublic static void main(String[] args) {\r\n\t\t// TODO Auto-generated method stub\r\n\t\tint[] arr1 = new int[] { 1, 2, 3, 4, 5, 6 };\r\n\t\tint[] arr2 = new int[] { 5, 6, 7, 8 };\r\n\t\tList&lt;Integer&gt; list = Stream.concat(Arrays.stream(arr1).boxed(), Arrays.stream(arr2).boxed()).distinct().collect(Collectors.toList());\r\n\t\tSystem.out.println(list);\r\n\r\n\t}\r\n\r\nhope this will resolve issue.","title":"Java - Finding unique elements in two different arrays","body":"<p>Try this:</p>\n<pre><code>    public static void main(String[] args) {\n    // TODO Auto-generated method stub\n    int[] arr1 = new int[] { 1, 2, 3, 4, 5, 6 };\n    int[] arr2 = new int[] { 5, 6, 7, 8 };\n    List&lt;Integer&gt; list = Stream.concat(Arrays.stream(arr1).boxed(), Arrays.stream(arr2).boxed()).distinct().collect(Collectors.toList());\n    System.out.println(list);\n\n}\n</code></pre>\n<p>hope this will resolve issue.</p>\n"},{"tags":[],"owner":{"account_id":21066371,"reputation":41,"user_id":15483536,"display_name":"RAJDEEP SONDARVA"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660679900,"creation_date":1660679242,"answer_id":73379545,"question_id":44493858,"body_markdown":"This will give you the unique values from two arrays;\r\n\r\n    public static String[] uniqueArr(String[] names1, String[] \r\n    names2) \r\n    {\r\n    Set&lt;String&gt; set = new HashSet&lt;&gt;(new\r\n    LinkedList&lt;&gt;(Stream.of(names1,\r\n    names2).flatMap(Stream::of).collect(Collectors.toList())));\r\n    String[] arr = new String[set.size()];\r\n    set.toArray(arr);\r\n    return arr;\r\n    }","title":"Java - Finding unique elements in two different arrays","body":"<p>This will give you the unique values from two arrays;</p>\n<pre><code>public static String[] uniqueArr(String[] names1, String[] \nnames2) \n{\nSet&lt;String&gt; set = new HashSet&lt;&gt;(new\nLinkedList&lt;&gt;(Stream.of(names1,\nnames2).flatMap(Stream::of).collect(Collectors.toList())));\nString[] arr = new String[set.size()];\nset.toArray(arr);\nreturn arr;\n}\n</code></pre>\n"}],"owner":{"account_id":4281721,"reputation":1308,"user_id":3500874,"accept_rate":40,"display_name":"Aishu"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":30975,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"answer_count":16,"score":2,"last_activity_date":1676387155,"creation_date":1497253161,"question_id":44493858,"body_markdown":"I need to find the unique elements in two different arrays. \r\n\r\n    public static void main(String[] args) {\r\n    \t\t// TODO Auto-generated method stub\r\n    \r\n    \t\tint[] arr1 = new int[] { 1, 2, 3, 4, 5, 6 };\r\n    \t\tint[] arr2 = new int[] { 5, 6, 7, 8 };\r\n    \r\n    \t\tboolean contains = false;\r\n    \t\tList&lt;Integer&gt; list = new ArrayList&lt;Integer&gt;();\r\n    \t\tfor (int i = 0; i &lt; arr1.length; i++) {\r\n    \t\t\tfor (int j = 0; j &lt; arr2.length; j++) {\r\n    \t\t\t\tif (arr1[i] == arr2[j]) {\r\n    \t\t\t\t\tcontains = true;\r\n    \t\t\t\t\tbreak;\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t\t\r\n    \t\t\tif(!contains){\r\n    \t\t\t\tlist.add(arr1[i]);\r\n    \t\t\t}\r\n    \t\t\telse{\r\n    \t\t\t\tcontains = false;\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\tSystem.out.println(list);\r\n    \r\n    \t}\r\n\r\nBut here I&#39;m getting `[1,2,3,4]` as output. But the expected output is `[1,2,3,4,7,8]`. I&#39;m not sure what I&#39;m doing wrong here. And I need it in a traditional way. I don&#39;t want to use any inbuilt methods to acheive this.\r\n\r\nNote: I feel it is not a duplicate because, the solution provided is not finding the unique elements on two arrays.\r\n\r\n","title":"Java - Finding unique elements in two different arrays","body":"<p>I need to find the unique elements in two different arrays. </p>\n\n<pre><code>public static void main(String[] args) {\n        // TODO Auto-generated method stub\n\n        int[] arr1 = new int[] { 1, 2, 3, 4, 5, 6 };\n        int[] arr2 = new int[] { 5, 6, 7, 8 };\n\n        boolean contains = false;\n        List&lt;Integer&gt; list = new ArrayList&lt;Integer&gt;();\n        for (int i = 0; i &lt; arr1.length; i++) {\n            for (int j = 0; j &lt; arr2.length; j++) {\n                if (arr1[i] == arr2[j]) {\n                    contains = true;\n                    break;\n                }\n            }\n\n            if(!contains){\n                list.add(arr1[i]);\n            }\n            else{\n                contains = false;\n            }\n        }\n        System.out.println(list);\n\n    }\n</code></pre>\n\n<p>But here I'm getting <code>[1,2,3,4]</code> as output. But the expected output is <code>[1,2,3,4,7,8]</code>. I'm not sure what I'm doing wrong here. And I need it in a traditional way. I don't want to use any inbuilt methods to acheive this.</p>\n\n<p>Note: I feel it is not a duplicate because, the solution provided is not finding the unique elements on two arrays.</p>\n"},{"tags":["java","spring-webflux","project-reactor","reactive"],"answers":[{"tags":[],"owner":{"account_id":11171319,"reputation":2160,"user_id":8198203,"accept_rate":75,"display_name":"Frischling"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1551806551,"creation_date":1551792386,"answer_id":55003975,"question_id":55001326,"body_markdown":"`Flux.range(1,10).take(1)` should do the trick (the `range(...)` part here is only to emit some sample values; if you `blockFirst()` or `subscribe()` to the stream, you should see **&#39;1&#39;**)","title":"Is it possible to get the first element from flux without converting flux into stream?","body":"<p><code>Flux.range(1,10).take(1)</code> should do the trick (the <code>range(...)</code> part here is only to emit some sample values; if you <code>blockFirst()</code> or <code>subscribe()</code> to the stream, you should see <strong>'1'</strong>)</p>\n"},{"comments":[{"owner":{"account_id":9419109,"reputation":675,"user_id":7005973,"accept_rate":0,"display_name":"Dil1y_reddy"},"score":1,"creation_date":1551939480,"post_id":55024995,"comment_id":96826034,"body_markdown":"Thanks @Simon for you reply. I idea here is to sort the Flux first and then get the first element. After seeing the docs I can achieve the same by using reduce on the flux as below. Flux.just(1, 2, 3)\n   .reduce((o1, o2) -&gt; {\n                    if (o1 - o2 &lt; 0) {\n                        return o1;\n                    }\n                    return o2;\n                })","body":"Thanks @Simon for you reply. I idea here is to sort the Flux first and then get the first element. After seeing the docs I can achieve the same by using reduce on the flux as below. Flux.just(1, 2, 3)    .reduce((o1, o2) -&gt; {                     if (o1 - o2 &lt; 0) {                         return o1;                     }                     return o2;                 })"}],"tags":[],"owner":{"account_id":1126254,"reputation":27393,"user_id":1113486,"display_name":"Simon Basl&#233;"},"comment_count":1,"down_vote_count":0,"up_vote_count":26,"is_accepted":true,"score":26,"last_activity_date":1551881148,"creation_date":1551881148,"answer_id":55024995,"question_id":55001326,"body_markdown":"Alternatively to `take(1)`, if you need a `Mono&lt;T&gt;` that represents the first element of the `Flux&lt;T&gt;` you can use `.next()`.\r\n\r\nOr if you need the i-th element, use `.elementAt(i)` (must be sure that such an element exists though, unlike `take` and `next` which just return an empty publisher if not enough elements).","title":"Is it possible to get the first element from flux without converting flux into stream?","body":"<p>Alternatively to <code>take(1)</code>, if you need a <code>Mono&lt;T&gt;</code> that represents the first element of the <code>Flux&lt;T&gt;</code> you can use <code>.next()</code>.</p>\n\n<p>Or if you need the i-th element, use <code>.elementAt(i)</code> (must be sure that such an element exists though, unlike <code>take</code> and <code>next</code> which just return an empty publisher if not enough elements).</p>\n"},{"tags":[],"owner":{"account_id":19395247,"reputation":3208,"user_id":14183092,"display_name":"kerbermeister"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676387115,"creation_date":1675196400,"answer_id":75302706,"question_id":55001326,"body_markdown":"Also the easiest: you can convert your `Flux` to `Mono` using [Mono.from()][1]\r\n\r\n    Mono&lt;T&gt; mono = Mono.from(flux);\r\n\r\nIt takes the first element of flux or completes with empty if flux has not emitted any element.\r\n\r\n  [1]: https://projectreactor.io/docs/core/release/api/reactor/core/publisher/Mono.html#from-org.reactivestreams.Publisher-","title":"Is it possible to get the first element from flux without converting flux into stream?","body":"<p>Also the easiest: you can convert your <code>Flux</code> to <code>Mono</code> using <a href=\"https://projectreactor.io/docs/core/release/api/reactor/core/publisher/Mono.html#from-org.reactivestreams.Publisher-\" rel=\"nofollow noreferrer\">Mono.from()</a></p>\n<pre><code>Mono&lt;T&gt; mono = Mono.from(flux);\n</code></pre>\n<p>It takes the first element of flux or completes with empty if flux has not emitted any element.</p>\n"}],"owner":{"account_id":9419109,"reputation":675,"user_id":7005973,"accept_rate":0,"display_name":"Dil1y_reddy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":27957,"favorite_count":0,"down_vote_count":0,"up_vote_count":20,"accepted_answer_id":55024995,"answer_count":3,"score":20,"last_activity_date":1676387115,"creation_date":1551783747,"question_id":55001326,"body_markdown":"Is it possible to get the first element from flux without converting flux into stream?","title":"Is it possible to get the first element from flux without converting flux into stream?","body":"<p>Is it possible to get the first element from flux without converting flux into stream?</p>\n"},{"tags":["java","postgresql","jpa","eclipselink"],"comments":[{"owner":{"account_id":4819600,"reputation":56500,"user_id":3890632,"display_name":"khelwood"},"score":2,"creation_date":1676365739,"post_id":75445430,"comment_id":133117553,"body_markdown":"How come you are checking `d != null` the line after an unguarded call to `d.size()`?","body":"How come you are checking <code>d != null</code> the line after an unguarded call to <code>d.size()</code>?"},{"owner":{"account_id":13179806,"reputation":91,"user_id":21197077,"display_name":"gneginskiy"},"score":0,"creation_date":1676365831,"post_id":75445430,"comment_id":133117588,"body_markdown":"same thoughts. log all the incoming parameters to know which are nulls. or run it in a debug mode. d.size() is a main suspect","body":"same thoughts. log all the incoming parameters to know which are nulls. or run it in a debug mode. d.size() is a main suspect"},{"owner":{"account_id":7777897,"reputation":261,"user_id":10307613,"display_name":"ATW"},"score":0,"creation_date":1676366474,"post_id":75445430,"comment_id":133117767,"body_markdown":"@khelwood Yes, thank you, that&#39;s a code point but neither a nor d is null when I run it correctly. But you are right, I have to do the check somewhere further up but the NPE remains the same... I&#39;m just confused how the setMaxResults(...) can cause a NPE when neither page, nor numberOfResults, nor d are null...","body":"@khelwood Yes, thank you, that&#39;s a code point but neither a nor d is null when I run it correctly. But you are right, I have to do the check somewhere further up but the NPE remains the same... I&#39;m just confused how the setMaxResults(...) can cause a NPE when neither page, nor numberOfResults, nor d are null..."},{"owner":{"account_id":1718670,"reputation":4777,"user_id":1575188,"display_name":"fantaghirocco"},"score":0,"creation_date":1676367069,"post_id":75445430,"comment_id":133117957,"body_markdown":"Does this answer your question? [What is a NullPointerException, and how do I fix it?](https://stackoverflow.com/questions/218384/what-is-a-nullpointerexception-and-how-do-i-fix-it)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/218384/what-is-a-nullpointerexception-and-how-do-i-fix-it\">What is a NullPointerException, and how do I fix it?</a>"},{"owner":{"account_id":7777897,"reputation":261,"user_id":10307613,"display_name":"ATW"},"score":0,"creation_date":1676367333,"post_id":75445430,"comment_id":133118042,"body_markdown":"@fantaghirocco No. It seems like the NPE is thrown somewhere in the TypedQuery class. As I said, neither a, nor d, nor page, nor numberOfResults is null und the NPE is thrown anyway.","body":"@fantaghirocco No. It seems like the NPE is thrown somewhere in the TypedQuery class. As I said, neither a, nor d, nor page, nor numberOfResults is null und the NPE is thrown anyway."},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1676386543,"post_id":75445430,"comment_id":133123946,"body_markdown":"What version of EclipseLink are you using? The stack shows the NPE when building the results and working over a OneToOne relationship - maybe show the entities and the resulting SQL ( https://wiki.eclipse.org/EclipseLink/Examples/JPA/Logging ) The maxResult value you use seems odd - why are you putting in d.size() in there at all? Are you trying to account for a cartesian join somehow? Maybe try using just the absolute number of As you want to return and specify the offset to skip to the current page of values.","body":"What version of EclipseLink are you using? The stack shows the NPE when building the results and working over a OneToOne relationship - maybe show the entities and the resulting SQL ( <a href=\"https://wiki.eclipse.org/EclipseLink/Examples/JPA/Logging\" rel=\"nofollow noreferrer\">wiki.eclipse.org/EclipseLink/Examples/JPA/Logging</a> ) The maxResult value you use seems odd - why are you putting in d.size() in there at all? Are you trying to account for a cartesian join somehow? Maybe try using just the absolute number of As you want to return and specify the offset to skip to the current page of values."}],"owner":{"account_id":7777897,"reputation":261,"user_id":10307613,"display_name":"ATW"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676386827,"creation_date":1676365107,"question_id":75445430,"body_markdown":"I have the following code snippet:\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    public List&lt;EntityA&gt; getAllEntityAByAAndDPaginated(\r\n            Collection&lt;Long&gt; a, \r\n            Collection&lt;Long&gt; d, \r\n            int numberOfResults, \r\n            int page\r\n        ) {\r\n                TypedQuery&lt;EntityA&gt; q = entityManager.createNamedQuery(EntityA.GET_BY_A_AND_D,\r\n                        EntityA.class);\r\n                q.setParameter(A, a);\r\n                q.setParameter(D, d);\r\n                q.setMaxResults((page + 1) * numberOfResults * d.size()); // without this, it works!\r\n                return a != null &amp;&amp; !a.isEmpty() &amp;&amp; d != null &amp;&amp; !d.isEmpty()\r\n                        ? q.getResultList() : new ArrayList&lt;&gt;();\r\n        }\r\n\r\nFor performance reasons, I am only loading `(page + 1) * numberOfResults * d.size()` results. But executing this, I get a NullPointerException in the last line of the code snippet of the following form:\r\n\r\n&lt;!-- language: lang-none --&gt;\r\n\r\n    java.lang.NullPointerException\r\n\tat java.base/java.util.ArrayList.&lt;init&gt;(ArrayList.java:179)\r\n\tat org.eclipse.persistence.mappings.ForeignReferenceMapping.prepareNestedJoinQueryClone(ForeignReferenceMapping.java:2455)\r\n\tat org.eclipse.persistence.mappings.OneToOneMapping.valueFromRowInternalWithJoin(OneToOneMapping.java:1814)\r\n\tat org.eclipse.persistence.mappings.ForeignReferenceMapping.valueFromRow(ForeignReferenceMapping.java:2177)\r\n\tat org.eclipse.persistence.mappings.ForeignReferenceMapping.buildCloneFromRow(ForeignReferenceMapping.java:341)\r\n\tat org.eclipse.persistence.internal.descriptors.ObjectBuilder.buildAttributesIntoWorkingCopyClone(ObjectBuilder.java:2007)\r\n\tat org.eclipse.persistence.internal.descriptors.ObjectBuilder.buildWorkingCopyCloneFromRow(ObjectBuilder.java:2260)\r\n\tat org.eclipse.persistence.internal.descriptors.ObjectBuilder.buildObjectInUnitOfWork(ObjectBuilder.java:858)\r\n\tat org.eclipse.persistence.internal.descriptors.ObjectBuilder.buildObject(ObjectBuilder.java:745)\r\n\tat org.eclipse.persistence.internal.descriptors.ObjectBuilder.buildObject(ObjectBuilder.java:699)\r\n\tat ...\r\n\r\nAccording the exception stacktrace, it seems like it has tried somewhere to add null values to the result list. When I delete the part `q.setMaxResults((page + 1) * numberOfResults * d.size());`, it works fine, i.e. this has to cause the NPE somehow.\r\n\r\nThe database of EntityA does not contain any null values.\r\n\r\nHow can I fix this?","title":"NullPointerException when setting query.setMaxResuts(...)","body":"<p>I have the following code snippet:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public List&lt;EntityA&gt; getAllEntityAByAAndDPaginated(\n        Collection&lt;Long&gt; a, \n        Collection&lt;Long&gt; d, \n        int numberOfResults, \n        int page\n    ) {\n            TypedQuery&lt;EntityA&gt; q = entityManager.createNamedQuery(EntityA.GET_BY_A_AND_D,\n                    EntityA.class);\n            q.setParameter(A, a);\n            q.setParameter(D, d);\n            q.setMaxResults((page + 1) * numberOfResults * d.size()); // without this, it works!\n            return a != null &amp;&amp; !a.isEmpty() &amp;&amp; d != null &amp;&amp; !d.isEmpty()\n                    ? q.getResultList() : new ArrayList&lt;&gt;();\n    }\n</code></pre>\n<p>For performance reasons, I am only loading <code>(page + 1) * numberOfResults * d.size()</code> results. But executing this, I get a NullPointerException in the last line of the code snippet of the following form:</p>\n<pre class=\"lang-none prettyprint-override\"><code>java.lang.NullPointerException\nat java.base/java.util.ArrayList.&lt;init&gt;(ArrayList.java:179)\nat org.eclipse.persistence.mappings.ForeignReferenceMapping.prepareNestedJoinQueryClone(ForeignReferenceMapping.java:2455)\nat org.eclipse.persistence.mappings.OneToOneMapping.valueFromRowInternalWithJoin(OneToOneMapping.java:1814)\nat org.eclipse.persistence.mappings.ForeignReferenceMapping.valueFromRow(ForeignReferenceMapping.java:2177)\nat org.eclipse.persistence.mappings.ForeignReferenceMapping.buildCloneFromRow(ForeignReferenceMapping.java:341)\nat org.eclipse.persistence.internal.descriptors.ObjectBuilder.buildAttributesIntoWorkingCopyClone(ObjectBuilder.java:2007)\nat org.eclipse.persistence.internal.descriptors.ObjectBuilder.buildWorkingCopyCloneFromRow(ObjectBuilder.java:2260)\nat org.eclipse.persistence.internal.descriptors.ObjectBuilder.buildObjectInUnitOfWork(ObjectBuilder.java:858)\nat org.eclipse.persistence.internal.descriptors.ObjectBuilder.buildObject(ObjectBuilder.java:745)\nat org.eclipse.persistence.internal.descriptors.ObjectBuilder.buildObject(ObjectBuilder.java:699)\nat ...\n</code></pre>\n<p>According the exception stacktrace, it seems like it has tried somewhere to add null values to the result list. When I delete the part <code>q.setMaxResults((page + 1) * numberOfResults * d.size());</code>, it works fine, i.e. this has to cause the NPE somehow.</p>\n<p>The database of EntityA does not contain any null values.</p>\n<p>How can I fix this?</p>\n"},{"tags":["java","jdbc"],"comments":[{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":2,"creation_date":1676386629,"post_id":75448752,"comment_id":133123979,"body_markdown":"You can reuse `Statement`, but not while traversing a result set created from that statement. If you want to do that, you need to disable auto-commit and use two statement objects. That said, this is better solved with for example SQL standard `MERGE` or similar statements, as it avoids the so-called N+1 query problem that you have. Although with your basic example, you can simply replace the entire select + loop with update code with a single `UPDATE tableName set concern_key = &#39;love&#39;`...","body":"You can reuse <code>Statement</code>, but not while traversing a result set created from that statement. If you want to do that, you need to disable auto-commit and use two statement objects. That said, this is better solved with for example SQL standard <code>MERGE</code> or similar statements, as it avoids the so-called N+1 query problem that you have. Although with your basic example, you can simply replace the entire select + loop with update code with a single <code>UPDATE tableName set concern_key = &#39;love&#39;</code>..."}],"owner":{"account_id":3992180,"reputation":1524,"user_id":3290745,"display_name":"Tristate"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":13,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1676386994,"answer_count":0,"score":0,"last_activity_date":1676386779,"creation_date":1676382402,"question_id":75448752,"body_markdown":"Is it possible to create a database connection with statement and reuse this statement for several queries?\r\n\r\nPseudocode:\r\n\r\n```none\r\nJdbcConnection connection = (JdbcConnection) \r\ndatabase.getConnection();\r\nStatement statement = connection.createStatement();\r\n   \r\nexecute SELECT * FROM on statement object\r\n  forEach Result\r\n   execute UPDATE row, on same statement object.\r\n```\r\n\r\nJava code.\r\n```java\r\nJdbcConnection connection = (JdbcConnection) database.getConnection();\r\nStatement statement = null;\r\ntry {\r\n    statement = connection.createStatement();\r\n \r\n//FIRST QUERY &lt;---------\r\nString selectQuery = &quot;SELECT id, concern_key, concern_name FROM &quot; + tableName;\r\ntry (ResultSet resultSet = statement.executeQuery(selectQuery)) {\r\n    List&lt;SqlStatement&gt; updateStatements = new ArrayList&lt;&gt;();\r\n    while (resultSet.next()) {\r\n        String id = resultSet.getString(&quot;id&quot;);\r\n        String concernKey = resultSet.getString(&quot;concern_key&quot;);\r\n        String concernName = resultSet.getString(&quot;concern_name&quot;);\r\n\r\n        // SECOND QUERY &lt;-------\r\n        String selectQuery2 = &quot;UPDATE &quot;+ tableName+&quot; SET concern_key = &#39;love&#39; WHERE concern_key = &#39;&quot; + concernKey + &quot;&#39;&quot;;\r\n        statement.executeUpdate(selectQuery2);\r\n\r\n} catch (LiquibaseException e) {\r\n    LOG.error(&quot;Error migrating table &quot; + tableName, e);\r\n} finally {\r\n    close(statement);\r\n}\r\n```\r\n","title":"Is it possible to reuse a connection statement without closing it?","body":"<p>Is it possible to create a database connection with statement and reuse this statement for several queries?</p>\n<p>Pseudocode:</p>\n<pre class=\"lang-none prettyprint-override\"><code>JdbcConnection connection = (JdbcConnection) \ndatabase.getConnection();\nStatement statement = connection.createStatement();\n   \nexecute SELECT * FROM on statement object\n  forEach Result\n   execute UPDATE row, on same statement object.\n</code></pre>\n<p>Java code.</p>\n<pre class=\"lang-java prettyprint-override\"><code>JdbcConnection connection = (JdbcConnection) database.getConnection();\nStatement statement = null;\ntry {\n    statement = connection.createStatement();\n \n//FIRST QUERY &lt;---------\nString selectQuery = &quot;SELECT id, concern_key, concern_name FROM &quot; + tableName;\ntry (ResultSet resultSet = statement.executeQuery(selectQuery)) {\n    List&lt;SqlStatement&gt; updateStatements = new ArrayList&lt;&gt;();\n    while (resultSet.next()) {\n        String id = resultSet.getString(&quot;id&quot;);\n        String concernKey = resultSet.getString(&quot;concern_key&quot;);\n        String concernName = resultSet.getString(&quot;concern_name&quot;);\n\n        // SECOND QUERY &lt;-------\n        String selectQuery2 = &quot;UPDATE &quot;+ tableName+&quot; SET concern_key = 'love' WHERE concern_key = '&quot; + concernKey + &quot;'&quot;;\n        statement.executeUpdate(selectQuery2);\n\n} catch (LiquibaseException e) {\n    LOG.error(&quot;Error migrating table &quot; + tableName, e);\n} finally {\n    close(statement);\n}\n</code></pre>\n"},{"tags":["java","jax-rs","java-ee-8","jersey-test-framework","tomee-8"],"owner":{"account_id":3191958,"reputation":285,"user_id":2696009,"display_name":"Gerhard"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":111,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1676386579,"creation_date":1676386268,"question_id":75449552,"body_markdown":"According to the [TomEE Download Page][1], TomEE 8.0 implements the APIs of [Java EE 8][2] and [MicroProfile 2.0][3]. Part of these specifications is the API JAX-RS 2.1.\r\n\r\nRecently, however, I ran into `ClassNotFoundExceptions` when trying to use the the Jersey Testframework (Version 2.38), which also is based on JAX-RS 2.1. When I analyzed this problem, I found that Jersey introduced a dependency jakarta.ws.rs-api-2.1.6.jar, that contained different versions of the API classes than the ones from TomEE 8.0 (javaee-api-8.0-5.jar from org.apache.tomee:javaee-api:8.0-5). Furthermore, the source code from the latter library is commented with *Apache Geronimo JAX-RS Spec 2.0*. On the other hand, a javaee-api-8.0.jar from Oracle (javax:javaee-api:8.0) contains the same classes as the Jersey dependency.\r\n\r\nSo from this, it looks like TomEE is in fact based on JAX-RS 2.0. Can anybody shed a light on this discrepancy?\r\n\r\n\r\n  [1]: https://tomee.apache.org/download.html\r\n  [2]: https://www.oracle.com/java/technologies/java-ee-8.html\r\n  [3]: https://projects.eclipse.org/projects/technology.microprofile/releases/microprofile-2.0","title":"Which version of the JAX-RS API is supported by TomEE 8.0? JAX-RS 2.0 or JAX-RS 2.1?","body":"<p>According to the <a href=\"https://tomee.apache.org/download.html\" rel=\"nofollow noreferrer\">TomEE Download Page</a>, TomEE 8.0 implements the APIs of <a href=\"https://www.oracle.com/java/technologies/java-ee-8.html\" rel=\"nofollow noreferrer\">Java EE 8</a> and <a href=\"https://projects.eclipse.org/projects/technology.microprofile/releases/microprofile-2.0\" rel=\"nofollow noreferrer\">MicroProfile 2.0</a>. Part of these specifications is the API JAX-RS 2.1.</p>\n<p>Recently, however, I ran into <code>ClassNotFoundExceptions</code> when trying to use the the Jersey Testframework (Version 2.38), which also is based on JAX-RS 2.1. When I analyzed this problem, I found that Jersey introduced a dependency jakarta.ws.rs-api-2.1.6.jar, that contained different versions of the API classes than the ones from TomEE 8.0 (javaee-api-8.0-5.jar from org.apache.tomee:javaee-api:8.0-5). Furthermore, the source code from the latter library is commented with <em>Apache Geronimo JAX-RS Spec 2.0</em>. On the other hand, a javaee-api-8.0.jar from Oracle (javax:javaee-api:8.0) contains the same classes as the Jersey dependency.</p>\n<p>So from this, it looks like TomEE is in fact based on JAX-RS 2.0. Can anybody shed a light on this discrepancy?</p>\n"},{"tags":["java","database","spring-boot","jpa","spring-data-jpa"],"answers":[{"tags":[],"owner":{"account_id":15107999,"reputation":13,"user_id":10903041,"display_name":"mrKaczorrro"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676386378,"creation_date":1676372963,"answer_id":75446959,"question_id":75445895,"body_markdown":"Whenever I need to join data from more than 1 table, I am using Jdbi.\r\n\r\n[Here you have the official documentation:][1]\r\n\r\nRemember to include the required dependencies and configure a bean for Jdbi in your project. \r\n\r\nThen I create a repository class, POJO and query with all of the information which I need. For example:\r\n\r\n    select c.transaction_id as transactionId, t.name as name from ApiAudit c INNER JOIN ApiAudiInfo t ON c.transactionId = t.msgId\r\n\r\n\r\n[Here you have some code samples from official documentation][2]\r\n\r\n\r\n  [1]: https://jdbi.org/\r\n  [2]: https://in3code.dev/_posts/2020-05-11-intro-to-jdbi-and-spring/\r\n\r\nAfter you map your data to POJO, you can use \r\n\r\n    public PageImpl(List&lt;T&gt; content, Pageable pageable, long total)\r\n\r\nto return paginated data.\r\n\r\nThere is a big chance that there is a better solution, but this works for me every time.","title":"Get Data from 2 tables in spring boot jpa","body":"<p>Whenever I need to join data from more than 1 table, I am using Jdbi.</p>\n<p><a href=\"https://jdbi.org/\" rel=\"nofollow noreferrer\">Here you have the official documentation:</a></p>\n<p>Remember to include the required dependencies and configure a bean for Jdbi in your project.</p>\n<p>Then I create a repository class, POJO and query with all of the information which I need. For example:</p>\n<pre><code>select c.transaction_id as transactionId, t.name as name from ApiAudit c INNER JOIN ApiAudiInfo t ON c.transactionId = t.msgId\n</code></pre>\n<p><a href=\"https://in3code.dev/_posts/2020-05-11-intro-to-jdbi-and-spring/\" rel=\"nofollow noreferrer\">Here you have some code samples from official documentation</a></p>\n<p>After you map your data to POJO, you can use</p>\n<pre><code>public PageImpl(List&lt;T&gt; content, Pageable pageable, long total)\n</code></pre>\n<p>to return paginated data.</p>\n<p>There is a big chance that there is a better solution, but this works for me every time.</p>\n"}],"owner":{"account_id":6967732,"reputation":604,"user_id":5345105,"display_name":"Shubham Arya"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":74,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1676386378,"creation_date":1676367356,"question_id":75445895,"body_markdown":"I have one table which has all the api audit information - Table name : **api_audit**\r\n\r\nI have one table which has extra information about every api call - Table name : **api_audit_info**\r\n\r\nInside **api_audit** I have primary key as &quot;**transaction_id**&quot;.\r\n\r\nI want all the data from **api_audit** table and some data from **api_audit_info** table. \r\n\r\nI have written a custom query like -\r\n`@Query(select c from ApiAudit c INNER JOIN ApiAudiInfo t ON c.transactionId = t.msgId)`\r\n\r\nBut the issue is that the result type that I am getting this way contains only ApiAudit type data.\r\nWhat shall I do to get data from both the tables. Please help.\r\n\r\nNote: I am using JpaRepository as I need paginated data.\r\n\r\nI am fairly new to Spring boot and JPA so not sure exactly which direction to look to.","title":"Get Data from 2 tables in spring boot jpa","body":"<p>I have one table which has all the api audit information - Table name : <strong>api_audit</strong></p>\n<p>I have one table which has extra information about every api call - Table name : <strong>api_audit_info</strong></p>\n<p>Inside <strong>api_audit</strong> I have primary key as &quot;<strong>transaction_id</strong>&quot;.</p>\n<p>I want all the data from <strong>api_audit</strong> table and some data from <strong>api_audit_info</strong> table.</p>\n<p>I have written a custom query like -\n<code>@Query(select c from ApiAudit c INNER JOIN ApiAudiInfo t ON c.transactionId = t.msgId)</code></p>\n<p>But the issue is that the result type that I am getting this way contains only ApiAudit type data.\nWhat shall I do to get data from both the tables. Please help.</p>\n<p>Note: I am using JpaRepository as I need paginated data.</p>\n<p>I am fairly new to Spring boot and JPA so not sure exactly which direction to look to.</p>\n"},{"tags":["java","amazon-ec2","jakarta-ee","wildfly"],"comments":[{"owner":{"account_id":1901420,"reputation":3763,"user_id":1717210,"display_name":"TacheDeChoco"},"score":0,"creation_date":1676455191,"post_id":75449261,"comment_id":133138334,"body_markdown":"Assuming your scheduler is inside an autostartup singleton session bean, I think you could restart the bean using the web admin (or via JBoss CLI)","body":"Assuming your scheduler is inside an autostartup singleton session bean, I think you could restart the bean using the web admin (or via JBoss CLI)"},{"owner":{"account_id":51161,"reputation":17015,"user_id":152794,"display_name":"James R. Perkins"},"score":1,"creation_date":1676488414,"post_id":75449261,"comment_id":133149001,"body_markdown":"I would first try to determine why it needs to be restarted.","body":"I would first try to determine why it needs to be restarted."},{"owner":{"account_id":3803644,"reputation":1290,"user_id":3156607,"display_name":"Dennis Kieselhorst"},"score":0,"creation_date":1678183570,"post_id":75449261,"comment_id":133479897,"body_markdown":"Another option would be to externalize the scheduling using Amazon EventBridge: https://docs.aws.amazon.com/eventbridge/latest/userguide/eb-create-rule-schedule.html","body":"Another option would be to externalize the scheduling using Amazon EventBridge: <a href=\"https://docs.aws.amazon.com/eventbridge/latest/userguide/eb-create-rule-schedule.html\" rel=\"nofollow noreferrer\">docs.aws.amazon.com/eventbridge/latest/userguide/&hellip;</a>"}],"owner":{"account_id":9656914,"reputation":213,"user_id":7166176,"display_name":"Emmajiugo"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":115,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676386328,"creation_date":1676384905,"question_id":75449261,"body_markdown":"I have a task scheduler that runs every 10mins. I noticed that sometimes it stops running, and I need to restart Wildfly or the server for it to kick back up.\r\n\r\nIs there a way I can restart the scheduler without restarting the server or Wildfly?\r\nThe project is deployed to Wildfly on EC2.","title":"Restart a Task Scheduler (@Schedule(...)) without restarting the server/wildfly","body":"<p>I have a task scheduler that runs every 10mins. I noticed that sometimes it stops running, and I need to restart Wildfly or the server for it to kick back up.</p>\n<p>Is there a way I can restart the scheduler without restarting the server or Wildfly?\nThe project is deployed to Wildfly on EC2.</p>\n"},{"tags":["java","spring-data","spring-data-elasticsearch"],"owner":{"account_id":1644520,"reputation":540,"user_id":1516291,"display_name":"Wang Tang"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":147,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676386211,"creation_date":1676386211,"question_id":75449540,"body_markdown":"I have kind of a combination-follow up question to [1] and [2].\r\n\r\nI have a POJO with a field I want to persist in - and read from - Elasticsearch:\r\n```java\r\n@Document\r\npublic class MyPojo {\r\n\r\n    private String level3;\r\n\r\n    // getters/setters...\r\n}\r\n```\r\nFor convenience and because the property is also being persisted (flatly) into postgres, the property `level3` should be a String, however it should be written into ES as a nested object (because the ES index is defined elsewhere).\r\n\r\nThe current solution is unsatisfactory:\r\n\r\n```java\r\n@Document\r\n@Entity\r\npublic class MyPojo {\r\n\r\n    @Column(name = &quot;level3)\r\n    @Field(name = &quot;level3&quot;, type = FieldType.Keyword)\r\n    @ValueConverter(MyConverter.class)\r\n    private String level3;\r\n\r\n    // getters/setters...\r\n}\r\n```\r\nwith the object path &quot;level1.level2.level3&quot; hardcoded within MyConverter, which converts from Map&lt;String, Object&gt; to String (read) and from String to Map&lt;String, Object&gt; (write). Because we potentially need to do this on multiple fields, this is not a really viable solution.\r\n\r\nI&#39;d rather do something like this:\r\n```java\r\n@Document\r\n@Entity\r\npublic class MyPojo {\r\n\r\n    @Column(name = &quot;level3)\r\n    @Field(name = &quot;level1.level2.level3&quot;, type = FieldType.Keyword)\r\n    @ValueConverter(MyConverter2.class)\r\n    private String level3;\r\n\r\n    // getters/setters...\r\n}\r\n```\r\nwhich does not work (writing works fine, while reading we get the &quot;null is not a map&quot; error from [2]).\r\n\r\n1. Is this at all possible (if I understood [2] correctly, no)? If not, is there another way to achieve what I want without hardcoding and an extra converter per field?\r\n2. Can I somehow access the @Field annotation within MyConverter (e.g. the name), or can I somehow supply additional arguments to MyConverter?\r\n\r\n---\r\n[1] https://stackoverflow.com/questions/75251142/spring-data-elasticsearch-embedded-field-mapping\r\n\r\n[2] https://stackoverflow.com/questions/65140621/spring-elasticsearch-adding-fields-to-working-pojo-class-causes-illegalargument","title":"Spring Data Elasticsearch: Convert a String to an Object (and vice versa) using ValueConverter and dot-notation","body":"<p>I have kind of a combination-follow up question to [1] and [2].</p>\n<p>I have a POJO with a field I want to persist in - and read from - Elasticsearch:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Document\npublic class MyPojo {\n\n    private String level3;\n\n    // getters/setters...\n}\n</code></pre>\n<p>For convenience and because the property is also being persisted (flatly) into postgres, the property <code>level3</code> should be a String, however it should be written into ES as a nested object (because the ES index is defined elsewhere).</p>\n<p>The current solution is unsatisfactory:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Document\n@Entity\npublic class MyPojo {\n\n    @Column(name = &quot;level3)\n    @Field(name = &quot;level3&quot;, type = FieldType.Keyword)\n    @ValueConverter(MyConverter.class)\n    private String level3;\n\n    // getters/setters...\n}\n</code></pre>\n<p>with the object path &quot;level1.level2.level3&quot; hardcoded within MyConverter, which converts from Map&lt;String, Object&gt; to String (read) and from String to Map&lt;String, Object&gt; (write). Because we potentially need to do this on multiple fields, this is not a really viable solution.</p>\n<p>I'd rather do something like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Document\n@Entity\npublic class MyPojo {\n\n    @Column(name = &quot;level3)\n    @Field(name = &quot;level1.level2.level3&quot;, type = FieldType.Keyword)\n    @ValueConverter(MyConverter2.class)\n    private String level3;\n\n    // getters/setters...\n}\n</code></pre>\n<p>which does not work (writing works fine, while reading we get the &quot;null is not a map&quot; error from [2]).</p>\n<ol>\n<li>Is this at all possible (if I understood [2] correctly, no)? If not, is there another way to achieve what I want without hardcoding and an extra converter per field?</li>\n<li>Can I somehow access the @Field annotation within MyConverter (e.g. the name), or can I somehow supply additional arguments to MyConverter?</li>\n</ol>\n<hr />\n<p>[1] <a href=\"https://stackoverflow.com/questions/75251142/spring-data-elasticsearch-embedded-field-mapping\">Spring data elasticsearch embedded field mapping</a></p>\n<p>[2] <a href=\"https://stackoverflow.com/questions/65140621/spring-elasticsearch-adding-fields-to-working-pojo-class-causes-illegalargument\">Spring Elasticsearch: Adding fields to working POJO class causes IllegalArgumentException: null is not a Map</a></p>\n"},{"tags":["java","microservices"],"comments":[{"owner":{"account_id":4209791,"reputation":4656,"user_id":3447827,"accept_rate":75,"display_name":"durbnpoisn"},"score":0,"creation_date":1447359582,"post_id":33680497,"comment_id":55134137,"body_markdown":"Try to imagine how the Unix OS works.  There is a Kernel that is the main process controlling everything.  But everything that makes the OS actually DO anything is all the little programs that make up the system.  There is a separate, tiny program, that runs every aspect of what the system does.","body":"Try to imagine how the Unix OS works.  There is a Kernel that is the main process controlling everything.  But everything that makes the OS actually DO anything is all the little programs that make up the system.  There is a separate, tiny program, that runs every aspect of what the system does."},{"owner":{"account_id":444211,"reputation":61229,"user_id":835883,"accept_rate":81,"display_name":"j2emanue"},"score":0,"creation_date":1447359837,"post_id":33680497,"comment_id":55134283,"body_markdown":"thats a nice analogy but in java web code would you say that a microservice could be a api call ? Lets say i had one web service to get user accounts and then i had another &#39;microservice&#39; web api  to get the address and phone numbers of the user account and return it back to the first call, would that count as a microservice ?","body":"thats a nice analogy but in java web code would you say that a microservice could be a api call ? Lets say i had one web service to get user accounts and then i had another &#39;microservice&#39; web api  to get the address and phone numbers of the user account and return it back to the first call, would that count as a microservice ?"},{"owner":{"account_id":4209791,"reputation":4656,"user_id":3447827,"accept_rate":75,"display_name":"durbnpoisn"},"score":0,"creation_date":1447360096,"post_id":33680497,"comment_id":55134449,"body_markdown":"I would say so.  Anything that is sorta sitting in the background waiting to be given an instruction, and otherwise keeps quite, would qualify.  As long as it&#39;s not part of the main thread, taking up memory when it&#39;s not in use.","body":"I would say so.  Anything that is sorta sitting in the background waiting to be given an instruction, and otherwise keeps quite, would qualify.  As long as it&#39;s not part of the main thread, taking up memory when it&#39;s not in use."}],"answers":[{"comments":[{"owner":{"account_id":1339399,"reputation":21672,"user_id":1281407,"accept_rate":93,"display_name":"mprivat"},"score":1,"creation_date":1447361618,"post_id":33680942,"comment_id":55135304,"body_markdown":"@Gimby Fair enough. Although &quot;micro&quot; does imply a smaller service (from a function perspective, not actual size in code), that&#39;s the point I was trying to make. And nowhere do I say it&#39;s tied to REST, other than mentioning that one typical implementation is using REST. That&#39;s backed by http://martinfowler.com/articles/microservices.html, second paragraph. It&#39;s not a constraint, just a typical use.","body":"@Gimby Fair enough. Although &quot;micro&quot; does imply a smaller service (from a function perspective, not actual size in code), that&#39;s the point I was trying to make. And nowhere do I say it&#39;s tied to REST, other than mentioning that one typical implementation is using REST. That&#39;s backed by <a href=\"http://martinfowler.com/articles/microservices.html\" rel=\"nofollow noreferrer\">martinfowler.com/articles/microservices.html</a>, second paragraph. It&#39;s not a constraint, just a typical use."},{"owner":{"account_id":1339399,"reputation":21672,"user_id":1281407,"accept_rate":93,"display_name":"mprivat"},"score":1,"creation_date":1447657922,"post_id":33680942,"comment_id":55229117,"body_markdown":"Added details to be more explicit","body":"Added details to be more explicit"}],"tags":[],"owner":{"account_id":1339399,"reputation":21672,"user_id":1281407,"accept_rate":93,"display_name":"mprivat"},"comment_count":2,"down_vote_count":0,"up_vote_count":11,"is_accepted":true,"score":11,"last_activity_date":1447687379,"creation_date":1447360968,"answer_id":33680942,"question_id":33680497,"body_markdown":"A microservice is exactly like its name suggests. It&#39;s a tiny service that performs a very simple function.\r\n\r\nSo yes, in terms of code, you&#39;re probably looking at a REST service. Note that any other API style would work. It doesn&#39;t have to be REST, however it must be **language agnostic** for you to draw all the benefits.\r\n\r\nBut the idea is bigger than that. The idea behind it is that they are very specialized and there&#39;s no big business workflow attached to they. For example, if you have a service that processes payments, then writes an audit log, then notifies the customer. I wouldn&#39;t count that as a microservice. Writing an audit log, that&#39;d probably be a microservice, notifying the customer too, processing the credit card as well. Your system would coordinate that business workflow (the 3 steps mentioned above) by calling the 3 necessary microservices. So your system is a coordinator and you don&#39;t worry about implementing the business functions.\r\n\r\nMicroservices don&#39;t try to think too much, they just do as they&#39;re told, but they do it quickly.\r\n\r\nSo in short. Take a very simple business function, put a REST API in front of it. And you have a microservice.\r\n\r\nThere are several **interesting properties** with microservices:\r\n\r\n1. They can be deployed independently. That&#39;s nice because you can deploy pieces of your app without taking everything down all at once.\r\n2. They can run in their own silo. So if you have a microservice that is very memory hungry, it can be deployed on a separate server so it doesn&#39;t affect the rest of your system.\r\n3. They can use different technology. You may have microservices in Java, some on .Net\r\n4. They keep dependencies in check. Developers have a tendency to bleed dependencies from one component to the next when they live together. Here you can&#39;t.\r\n\r\nBut you should also consider some **drawbacks**\r\n\r\n1. It&#39;s a lot harder to maintain a consistent transaction across all these calls. If you need to roll back, you&#39;ll need JTA to rollback all the REST calls. That can be a pain and doesn&#39;t perform very well in my experience.\r\n\r\n2. Tracking a transaction through the system in order to troubleshoot can be pretty rough if you don&#39;t have consistent logging and a consistent transaction id\r\n\r\n3. It might get tricky to find where a defect was introduced if the ground is constantly shifting due to deployments that may have side effects.\r\n\r\n4. Obviously all these REST calls can stack up to be pretty expensive. I&#39;m not necessarily talking about the transport since it&#39;s likely all your microservices would live in the same data center. But every time you make a call over the network, you have to marshal/unmarshal your data and that could quickly get expensive CPU-wise.\r\n\r\n","title":"What is a Java microservice","body":"<p>A microservice is exactly like its name suggests. It's a tiny service that performs a very simple function.</p>\n\n<p>So yes, in terms of code, you're probably looking at a REST service. Note that any other API style would work. It doesn't have to be REST, however it must be <strong>language agnostic</strong> for you to draw all the benefits.</p>\n\n<p>But the idea is bigger than that. The idea behind it is that they are very specialized and there's no big business workflow attached to they. For example, if you have a service that processes payments, then writes an audit log, then notifies the customer. I wouldn't count that as a microservice. Writing an audit log, that'd probably be a microservice, notifying the customer too, processing the credit card as well. Your system would coordinate that business workflow (the 3 steps mentioned above) by calling the 3 necessary microservices. So your system is a coordinator and you don't worry about implementing the business functions.</p>\n\n<p>Microservices don't try to think too much, they just do as they're told, but they do it quickly.</p>\n\n<p>So in short. Take a very simple business function, put a REST API in front of it. And you have a microservice.</p>\n\n<p>There are several <strong>interesting properties</strong> with microservices:</p>\n\n<ol>\n<li>They can be deployed independently. That's nice because you can deploy pieces of your app without taking everything down all at once.</li>\n<li>They can run in their own silo. So if you have a microservice that is very memory hungry, it can be deployed on a separate server so it doesn't affect the rest of your system.</li>\n<li>They can use different technology. You may have microservices in Java, some on .Net</li>\n<li>They keep dependencies in check. Developers have a tendency to bleed dependencies from one component to the next when they live together. Here you can't.</li>\n</ol>\n\n<p>But you should also consider some <strong>drawbacks</strong></p>\n\n<ol>\n<li><p>It's a lot harder to maintain a consistent transaction across all these calls. If you need to roll back, you'll need JTA to rollback all the REST calls. That can be a pain and doesn't perform very well in my experience.</p></li>\n<li><p>Tracking a transaction through the system in order to troubleshoot can be pretty rough if you don't have consistent logging and a consistent transaction id</p></li>\n<li><p>It might get tricky to find where a defect was introduced if the ground is constantly shifting due to deployments that may have side effects.</p></li>\n<li><p>Obviously all these REST calls can stack up to be pretty expensive. I'm not necessarily talking about the transport since it's likely all your microservices would live in the same data center. But every time you make a call over the network, you have to marshal/unmarshal your data and that could quickly get expensive CPU-wise.</p></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":4448063,"reputation":2887,"user_id":3620833,"accept_rate":67,"display_name":"Vino"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1485177133,"creation_date":1485177133,"answer_id":41807231,"question_id":33680497,"body_markdown":"You can check this:\r\nhttps://spring.io/blog/2015/01/20/microservice-registration-and-discovery-with-spring-cloud-and-netflix-s-eureka \r\n\r\nThis example is based on the following services:\r\n\r\n**Netflix Eureka :**\r\n\r\nEureka is a REST (Representational State Transfer) based service that is primarily used in the AWS cloud for locating services for the purpose of load balancing and failover of middle-tier servers.\r\n\r\nEureka is just a Service Registry holding all started service instance severname and port details.\r\n\r\n**Netflix Zuul :**\r\n\r\nZuul is an edge service that provides dynamic routing, monitoring, resiliency, security, and more. \r\n\r\nIt is the endpoint for microservice clients. All other service instances are secured in secured box whereas Zuul is exposed to clients which intercepts all client requests.\r\n\r\n**Netflix Ribbon:**\r\n\r\nRibbon is a Inter Process Communication (remote procedure calls) library with built in software load balancers. The primary usage model involves REST calls with various serialization scheme support.\r\n\r\nRibbon works in conjunctions with Zuul, uses plenty of algorithms to elect the best performing service node to serve the requests when N number of microservice instances are running.\r\n\r\n\r\nIn simple words, Zuul intercepts client requests and based on the request URL Zuul finds the ip and port of Microservice instance by Using Eureka service discovery. Ribbon elects the best service node to service the request and then from Zuul request is routed to the respective microservice instance.\r\n\r\n**Advantage from my project perspective:**\r\n\r\nWe can add or remove &#39;N&#39; number of service nodes based on the network traffic. \r\n","title":"What is a Java microservice","body":"<p>You can check this:\n<a href=\"https://spring.io/blog/2015/01/20/microservice-registration-and-discovery-with-spring-cloud-and-netflix-s-eureka\" rel=\"nofollow noreferrer\">https://spring.io/blog/2015/01/20/microservice-registration-and-discovery-with-spring-cloud-and-netflix-s-eureka</a> </p>\n\n<p>This example is based on the following services:</p>\n\n<p><strong>Netflix Eureka :</strong></p>\n\n<p>Eureka is a REST (Representational State Transfer) based service that is primarily used in the AWS cloud for locating services for the purpose of load balancing and failover of middle-tier servers.</p>\n\n<p>Eureka is just a Service Registry holding all started service instance severname and port details.</p>\n\n<p><strong>Netflix Zuul :</strong></p>\n\n<p>Zuul is an edge service that provides dynamic routing, monitoring, resiliency, security, and more. </p>\n\n<p>It is the endpoint for microservice clients. All other service instances are secured in secured box whereas Zuul is exposed to clients which intercepts all client requests.</p>\n\n<p><strong>Netflix Ribbon:</strong></p>\n\n<p>Ribbon is a Inter Process Communication (remote procedure calls) library with built in software load balancers. The primary usage model involves REST calls with various serialization scheme support.</p>\n\n<p>Ribbon works in conjunctions with Zuul, uses plenty of algorithms to elect the best performing service node to serve the requests when N number of microservice instances are running.</p>\n\n<p>In simple words, Zuul intercepts client requests and based on the request URL Zuul finds the ip and port of Microservice instance by Using Eureka service discovery. Ribbon elects the best service node to service the request and then from Zuul request is routed to the respective microservice instance.</p>\n\n<p><strong>Advantage from my project perspective:</strong></p>\n\n<p>We can add or remove 'N' number of service nodes based on the network traffic. </p>\n"},{"tags":[],"owner":{"account_id":12713,"reputation":7904,"user_id":25191,"accept_rate":83,"display_name":"Glenn"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1552971968,"creation_date":1552971968,"answer_id":55233977,"question_id":33680497,"body_markdown":"Here are some concrete examples of microservices written in Java. These microservices are educational by design so hopefully that means you should be able to follow along.\r\n\r\nIt is not recommended to write a Java microservice from scratch as there are plenty of frameworks that can accelerate your development. The two most popular Java frameworks for microservice development are Spring Boot and Dropwizard.\r\n\r\nThe [feed3 project][1] implements a rudimentary polyglot persistent news feed microservice using Dropwizard. \r\n\r\nThe [feed8 project][2] implements the same feature identical microservice using Spring Boot. \r\n\r\nThere is even a [Spring Boot vs Dropwizard article][3] that analyzes the differences.\r\n\r\n\r\n  [1]: https://github.com/gengstrand/clojure-news-feed/tree/master/server/feed3\r\n  [2]: https://github.com/gengstrand/clojure-news-feed/tree/master/server/feed8\r\n  [3]: http://glennengstrand.info/software/performance/springboot/dropwizard","title":"What is a Java microservice","body":"<p>Here are some concrete examples of microservices written in Java. These microservices are educational by design so hopefully that means you should be able to follow along.</p>\n\n<p>It is not recommended to write a Java microservice from scratch as there are plenty of frameworks that can accelerate your development. The two most popular Java frameworks for microservice development are Spring Boot and Dropwizard.</p>\n\n<p>The <a href=\"https://github.com/gengstrand/clojure-news-feed/tree/master/server/feed3\" rel=\"nofollow noreferrer\">feed3 project</a> implements a rudimentary polyglot persistent news feed microservice using Dropwizard. </p>\n\n<p>The <a href=\"https://github.com/gengstrand/clojure-news-feed/tree/master/server/feed8\" rel=\"nofollow noreferrer\">feed8 project</a> implements the same feature identical microservice using Spring Boot. </p>\n\n<p>There is even a <a href=\"http://glennengstrand.info/software/performance/springboot/dropwizard\" rel=\"nofollow noreferrer\">Spring Boot vs Dropwizard article</a> that analyzes the differences.</p>\n"},{"tags":[],"owner":{"account_id":27726093,"reputation":1,"user_id":21165625,"display_name":"Ruchita Raskar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676376395,"creation_date":1676376395,"answer_id":75447611,"question_id":33680497,"body_markdown":" - Microservice architecture means multiple smaller applications that can communicate with each other using a light weight protocols like HTTP.\r\n - Monolithic approach was replaced by a microservice. \r\n - Lets begin with monolithic approach. Imagine a Facebook app, where we can post, chat, it has login page etc. All this comes under a single code base and it becomes difficult to manage. If a small bug is detected the whole application may crash down. Also if we want to add a single functionality in login page we will have to redeploy the whole application once its done. \r\n - Now let&#39;s imagine the same scenario with microservices. Now in microservice we will have multiple small applications - one for login, one for messaging, one for posing the content, etc. These applications are loosely coupled with each other. They can communicate with each other through REST APIs. Now if one application is down it wont affect the other applications. We can easily add any functionality and deploy only that specific code, no need to deploy the whole application. We can easily use different technologies for building different microservices.\r\n \r\n\r\n \r\n\r\n","title":"What is a Java microservice","body":"<ul>\n<li>Microservice architecture means multiple smaller applications that can communicate with each other using a light weight protocols like HTTP.</li>\n<li>Monolithic approach was replaced by a microservice.</li>\n<li>Lets begin with monolithic approach. Imagine a Facebook app, where we can post, chat, it has login page etc. All this comes under a single code base and it becomes difficult to manage. If a small bug is detected the whole application may crash down. Also if we want to add a single functionality in login page we will have to redeploy the whole application once its done.</li>\n<li>Now let's imagine the same scenario with microservices. Now in microservice we will have multiple small applications - one for login, one for messaging, one for posing the content, etc. These applications are loosely coupled with each other. They can communicate with each other through REST APIs. Now if one application is down it wont affect the other applications. We can easily add any functionality and deploy only that specific code, no need to deploy the whole application. We can easily use different technologies for building different microservices.</li>\n</ul>\n"}],"owner":{"account_id":444211,"reputation":61229,"user_id":835883,"accept_rate":81,"display_name":"j2emanue"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4478,"favorite_count":0,"down_vote_count":1,"up_vote_count":5,"accepted_answer_id":33680942,"answer_count":4,"score":4,"last_activity_date":1676386209,"creation_date":1447359371,"question_id":33680497,"body_markdown":"I been searching on the web, but I&#39;m a little confused on what exactly is a Java microservice. I mean I know what a web service is, and I&#39;m told that a microservice is the following per wiki:\r\n\r\n&gt; In computing, microservices is a software architecture style in which complex applications are composed of small, independent processes communicating with each other using language-agnostic APIs.\r\n\r\nand the properties of a microservice are:\r\n\r\n&gt;  Properties of microservices architecture:\r\n&gt; \r\n&gt; It&#39;s a kind of architecture The services are easy to replace Services\r\n&gt; are organized around capabilities, e.g. user interface front-end,\r\n&gt; recommendation, logistics, billing, etc Services can be implemented\r\n&gt; using different programming languages, databases, hardware and\r\n&gt; software environment, depending on what fits best Architectures are\r\n&gt; symmetrical rather than hierarchical (producer - consumer)\r\n\r\nI need a concrete Java example to understand how I can make a microservice.  Does anyone have a example you could provide?","title":"What is a Java microservice","body":"<p>I been searching on the web, but I'm a little confused on what exactly is a Java microservice. I mean I know what a web service is, and I'm told that a microservice is the following per wiki:</p>\n<blockquote>\n<p>In computing, microservices is a software architecture style in which complex applications are composed of small, independent processes communicating with each other using language-agnostic APIs.</p>\n</blockquote>\n<p>and the properties of a microservice are:</p>\n<blockquote>\n<p>Properties of microservices architecture:</p>\n<p>It's a kind of architecture The services are easy to replace Services\nare organized around capabilities, e.g. user interface front-end,\nrecommendation, logistics, billing, etc Services can be implemented\nusing different programming languages, databases, hardware and\nsoftware environment, depending on what fits best Architectures are\nsymmetrical rather than hierarchical (producer - consumer)</p>\n</blockquote>\n<p>I need a concrete Java example to understand how I can make a microservice.  Does anyone have a example you could provide?</p>\n"},{"tags":["java","spring","spring-boot","hibernate","spring-mvc"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1641311700,"post_id":70581530,"comment_id":124769743,"body_markdown":"Well... is there an unresolvable circular reference?","body":"Well... is there an unresolvable circular reference?"},{"owner":{"account_id":21009120,"reputation":305,"user_id":15438138,"display_name":"Simion Georgian"},"score":0,"creation_date":1641313198,"post_id":70581530,"comment_id":124770378,"body_markdown":"Need to add more code from my project to clear this out?","body":"Need to add more code from my project to clear this out?"},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1641313361,"post_id":70581530,"comment_id":124770438,"body_markdown":"no, only 1 little clarification: why there is no `@Configuration` on your `@EnableWebSecurity` ..adapter?","body":"no, only 1 little clarification: why there is no <code>@Configuration</code> on your <code>@EnableWebSecurity</code> ..adapter?"},{"owner":{"account_id":21009120,"reputation":305,"user_id":15438138,"display_name":"Simion Georgian"},"score":0,"creation_date":1641313540,"post_id":70581530,"comment_id":124770507,"body_markdown":"No is not, i`m trying to learn spring so if you can help me with an advice will be great","body":"No is not, i`m trying to learn spring so if you can help me with an advice will be great"},{"owner":{"account_id":3618847,"reputation":867,"user_id":17695211,"display_name":"Alexey Veleshko"},"score":2,"creation_date":1641319098,"post_id":70581530,"comment_id":124772818,"body_markdown":"I think it should be just `configure` instead of `configureGlobal` plus not `@Autowired` but `@Overrides` there. Also, `@Configuration` is missing indeed.","body":"I think it should be just <code>configure</code> instead of <code>configureGlobal</code> plus not <code>@Autowired</code> but <code>@Overrides</code> there. Also, <code>@Configuration</code> is missing indeed."},{"owner":{"account_id":21009120,"reputation":305,"user_id":15438138,"display_name":"Simion Georgian"},"score":1,"creation_date":1641397256,"post_id":70581530,"comment_id":124795167,"body_markdown":"Thank you  \n@AlexeyVeleshko It worked","body":"Thank you   @AlexeyVeleshko It worked"},{"owner":{"account_id":9355,"reputation":6392,"user_id":17239,"accept_rate":76,"display_name":"Roger C S Wernersson"},"score":0,"creation_date":1649235053,"post_id":70581530,"comment_id":126821871,"body_markdown":"@AlexeyVeleshko, could you post an answer with the code as it would look, please?","body":"@AlexeyVeleshko, could you post an answer with the code as it would look, please?"}],"answers":[{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":3,"creation_date":1641408728,"post_id":70595758,"comment_id":124799854,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/70595758/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."},{"owner":{"account_id":186200,"reputation":3959,"user_id":423411,"accept_rate":25,"display_name":"mmo"},"score":6,"creation_date":1648128020,"post_id":70595758,"comment_id":126549194,"body_markdown":"Pretty useless answer since one can not understand nor reproduce what you have done.","body":"Pretty useless answer since one can not understand nor reproduce what you have done."},{"owner":{"account_id":9355,"reputation":6392,"user_id":17239,"accept_rate":76,"display_name":"Roger C S Wernersson"},"score":0,"creation_date":1649234744,"post_id":70595758,"comment_id":126821770,"body_markdown":"Can you post the code when it works too please?","body":"Can you post the code when it works too please?"}],"tags":[],"owner":{"account_id":21009120,"reputation":305,"user_id":15438138,"display_name":"Simion Georgian"},"comment_count":3,"down_vote_count":3,"up_vote_count":17,"is_accepted":true,"score":14,"last_activity_date":1641397751,"creation_date":1641397751,"answer_id":70595758,"question_id":70581530,"body_markdown":"After i changed to configure instead of configureGlobal with @Overrides and deleted @Autowired\r\nAdded @Configuration\r\nNow the code is working,\r\n\r\nThanks to  Alexey Veleshko\r\n","title":"Error creating bean with name &#39;securityConfig&#39;: Requested bean is currently in creation:","body":"<p>After i changed to configure instead of configureGlobal with @Overrides and deleted @Autowired\nAdded @Configuration\nNow the code is working,</p>\n<p>Thanks to  Alexey Veleshko</p>\n"},{"tags":[],"owner":{"account_id":24978230,"reputation":171,"user_id":18840649,"display_name":"Konzerra"},"comment_count":0,"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1650720268,"creation_date":1650720268,"answer_id":71980044,"question_id":70581530,"body_markdown":"More detailed solution:\r\n\r\ncode before:\r\n\r\n    @Autowired\r\n    public void configureGlobal(AuthenticationManagerBuilder authenticationManagerBuilder) throws Exception {\r\n        authenticationManagerBuilder.userDetailsService(userDetailsService).passwordEncoder(passwordEncoder());\r\n    }\r\n\r\nchanging @Autowired and function name\r\n\r\n    @Override\r\n    public void configure(AuthenticationManagerBuilder authenticationManagerBuilder) throws Exception {\r\n        authenticationManagerBuilder.userDetailsService(userDetailsService).passwordEncoder(passwordEncoder());\r\n    }","title":"Error creating bean with name &#39;securityConfig&#39;: Requested bean is currently in creation:","body":"<p>More detailed solution:</p>\n<p>code before:</p>\n<pre><code>@Autowired\npublic void configureGlobal(AuthenticationManagerBuilder authenticationManagerBuilder) throws Exception {\n    authenticationManagerBuilder.userDetailsService(userDetailsService).passwordEncoder(passwordEncoder());\n}\n</code></pre>\n<p>changing @Autowired and function name</p>\n<pre><code>@Override\npublic void configure(AuthenticationManagerBuilder authenticationManagerBuilder) throws Exception {\n    authenticationManagerBuilder.userDetailsService(userDetailsService).passwordEncoder(passwordEncoder());\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2169162,"reputation":565,"user_id":1921614,"display_name":"Javali"},"score":0,"creation_date":1672662467,"post_id":72647157,"comment_id":132321597,"body_markdown":"You could do so, but you should definitely avoid doing such stuff. Allowing circular dependencies brings inconsistency to your system.","body":"You could do so, but you should definitely avoid doing such stuff. Allowing circular dependencies brings inconsistency to your system."}],"tags":[],"owner":{"account_id":6443880,"reputation":438,"user_id":4992961,"display_name":"Hamdhan Azeez T"},"comment_count":1,"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1655388047,"creation_date":1655388047,"answer_id":72647157,"question_id":70581530,"body_markdown":"spring.main.allow-circular-references=true\r\nadd this property in application.properties file \r\n\r\nor add below in application.yaml file\r\nspring: \r\n  main:\r\n    allow-circular-references: true\r\n","title":"Error creating bean with name &#39;securityConfig&#39;: Requested bean is currently in creation:","body":"<p>spring.main.allow-circular-references=true\nadd this property in application.properties file</p>\n<p>or add below in application.yaml file\nspring:\nmain:\nallow-circular-references: true</p>\n"},{"tags":[],"owner":{"account_id":11529584,"reputation":631,"user_id":8448924,"display_name":"Brijesh Lakkad"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666710515,"creation_date":1666710515,"answer_id":74196262,"question_id":70581530,"body_markdown":"    package ro.contabilitateexpert.AccountExpert.config;\r\n    \r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.context.annotation.Bean;\r\n    import org.springframework.security.authentication.AuthenticationManager;\r\n    import org.springframework.security.config.BeanIds;\r\n    import org.springframework.security.config.annotation.authentication.builders.AuthenticationManagerBuilder;\r\n    import org.springframework.security.config.annotation.web.builders.HttpSecurity;\r\n    import org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\r\n    import org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter;\r\n    import org.springframework.security.core.userdetails.UserDetailsService;\r\n    import org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\r\n    import org.springframework.security.crypto.password.PasswordEncoder;\r\n    \r\n    @EnableWebSecurity\r\n    public class SecurityConfig extends WebSecurityConfigurerAdapter {\r\n    \r\n        @Autowired\r\n        private UserDetailsService userDetailsService;\r\n    \r\n        @Bean(BeanIds.AUTHENTICATION_MANAGER)\r\n        @Override\r\n        public AuthenticationManager authenticationManagerBean() throws Exception {\r\n            return super.authenticationManagerBean();\r\n        }\r\n    \r\n        @Override\r\n        public void configure(HttpSecurity httpSecurity) throws Exception {\r\n            httpSecurity.csrf().disable().authorizeRequests()\r\n                    .antMatchers(&quot;/api/auth/**&quot;)\r\n                    .permitAll()\r\n                    .anyRequest()\r\n                    .authenticated();\r\n        }\r\n    \r\n        @Override\r\n        public void configure(AuthenticationManagerBuilder authenticationManagerBuilder) throws Exception {\r\n            authenticationManagerBuilder.userDetailsService(userDetailsService).passwordEncoder(passwordEncoder());\r\n        }\r\n    \r\n        @Bean\r\n        PasswordEncoder passwordEncoder() {\r\n            return new BCryptPasswordEncoder();\r\n        }\r\n    }\r\n\r\nI edited the code; this should work. What did I do? I changed the name of the `configureGlobal` method to configure and used the `@Override` annotation instead of `@Autowired`. The @Autowired method, `configureGlobal`, somehow was also using the `SecurityConfig` bean, which was internally being created (of course, it was being created; what do we think made the call to the `configureGlobal` method)","title":"Error creating bean with name &#39;securityConfig&#39;: Requested bean is currently in creation:","body":"<pre><code>package ro.contabilitateexpert.AccountExpert.config;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.security.authentication.AuthenticationManager;\nimport org.springframework.security.config.BeanIds;\nimport org.springframework.security.config.annotation.authentication.builders.AuthenticationManagerBuilder;\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\nimport org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter;\nimport org.springframework.security.core.userdetails.UserDetailsService;\nimport org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\nimport org.springframework.security.crypto.password.PasswordEncoder;\n\n@EnableWebSecurity\npublic class SecurityConfig extends WebSecurityConfigurerAdapter {\n\n    @Autowired\n    private UserDetailsService userDetailsService;\n\n    @Bean(BeanIds.AUTHENTICATION_MANAGER)\n    @Override\n    public AuthenticationManager authenticationManagerBean() throws Exception {\n        return super.authenticationManagerBean();\n    }\n\n    @Override\n    public void configure(HttpSecurity httpSecurity) throws Exception {\n        httpSecurity.csrf().disable().authorizeRequests()\n                .antMatchers(&quot;/api/auth/**&quot;)\n                .permitAll()\n                .anyRequest()\n                .authenticated();\n    }\n\n    @Override\n    public void configure(AuthenticationManagerBuilder authenticationManagerBuilder) throws Exception {\n        authenticationManagerBuilder.userDetailsService(userDetailsService).passwordEncoder(passwordEncoder());\n    }\n\n    @Bean\n    PasswordEncoder passwordEncoder() {\n        return new BCryptPasswordEncoder();\n    }\n}\n</code></pre>\n<p>I edited the code; this should work. What did I do? I changed the name of the <code>configureGlobal</code> method to configure and used the <code>@Override</code> annotation instead of <code>@Autowired</code>. The @Autowired method, <code>configureGlobal</code>, somehow was also using the <code>SecurityConfig</code> bean, which was internally being created (of course, it was being created; what do we think made the call to the <code>configureGlobal</code> method)</p>\n"},{"tags":[],"owner":{"account_id":1612518,"reputation":797,"user_id":1491081,"display_name":"sarath"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676386182,"creation_date":1676386182,"answer_id":75449533,"question_id":70581530,"body_markdown":"**When migrating spring and other dependencies, including spring security, I have encountered this issue.**\r\n\r\n    Description:\r\n    \r\n    The dependencies of some of the beans in the application context form a cycle:\r\n    \r\n       FrameworkContextFilter defined in class path resource [com/company/frame/autoconfigure/web/servlet/WebMvcAutoConfiguration.class]\r\n          ↓\r\n       mvcHandlerMappingIntrospector defined in class path resource [org/springframework/boot/autoconfigure/web/servlet/WebMvcAutoConfiguration$EnableWebMvcConfiguration.class]\r\n          ↓\r\n       org.springframework.security.oauth2.config.annotation.web.configuration.AuthorizationServerEndpointsConfiguration (field private java.util.List org.springframework.security.oauth2.config.annotation.web.configuration.AuthorizationServerEndpointsConfiguration.configurers)\r\n          ↓\r\n       oauthConfig.AuthorizationServerConfiguration (field org.springframework.security.authentication.AuthenticationManager com.company.frame.config.OauthConfig$AuthorizationServerConfiguration.authenticationManager)\r\n    ┌─────┐\r\n    |  securityConfig (field private org.springframework.security.crypto.password.PasswordEncoder com.company.frame.config.SecurityConfig.passwordEncoder)\r\n    └─────┘\r\n\r\n**Following is the solution which survived my troubleshooting.**\r\n\r\n\r\n    @Autowired private PasswordEncoder passwordEncoder;\r\n    \t| \r\n        V\r\n    @Autowired @Lazy private PasswordEncoder passwordEncoder;\r\n\r\n\tand\r\n\r\n    @Autowired\r\n      public void configureGlobal(AuthenticationManagerBuilder auth)\r\n    \t|\r\n    \tV \r\n    @Override\r\n      public void configure(AuthenticationManagerBuilder auth)\r\n\r\n","title":"Error creating bean with name &#39;securityConfig&#39;: Requested bean is currently in creation:","body":"<p><strong>When migrating spring and other dependencies, including spring security, I have encountered this issue.</strong></p>\n<pre><code>Description:\n\nThe dependencies of some of the beans in the application context form a cycle:\n\n   FrameworkContextFilter defined in class path resource [com/company/frame/autoconfigure/web/servlet/WebMvcAutoConfiguration.class]\n      ↓\n   mvcHandlerMappingIntrospector defined in class path resource [org/springframework/boot/autoconfigure/web/servlet/WebMvcAutoConfiguration$EnableWebMvcConfiguration.class]\n      ↓\n   org.springframework.security.oauth2.config.annotation.web.configuration.AuthorizationServerEndpointsConfiguration (field private java.util.List org.springframework.security.oauth2.config.annotation.web.configuration.AuthorizationServerEndpointsConfiguration.configurers)\n      ↓\n   oauthConfig.AuthorizationServerConfiguration (field org.springframework.security.authentication.AuthenticationManager com.company.frame.config.OauthConfig$AuthorizationServerConfiguration.authenticationManager)\n┌─────┐\n|  securityConfig (field private org.springframework.security.crypto.password.PasswordEncoder com.company.frame.config.SecurityConfig.passwordEncoder)\n└─────┘\n</code></pre>\n<p><strong>Following is the solution which survived my troubleshooting.</strong></p>\n<pre><code>@Autowired private PasswordEncoder passwordEncoder;\n    | \n    V\n@Autowired @Lazy private PasswordEncoder passwordEncoder;\n\nand\n\n@Autowired\n  public void configureGlobal(AuthenticationManagerBuilder auth)\n    |\n    V \n@Override\n  public void configure(AuthenticationManagerBuilder auth)\n</code></pre>\n"}],"owner":{"account_id":21009120,"reputation":305,"user_id":15438138,"display_name":"Simion Georgian"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":20485,"favorite_count":0,"down_vote_count":0,"up_vote_count":14,"accepted_answer_id":70595758,"answer_count":5,"score":14,"last_activity_date":1676386182,"creation_date":1641311577,"question_id":70581530,"body_markdown":"```\r\npackage ro.contabilitateexpert.AccountExpert.config;\r\n\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.security.authentication.AuthenticationManager;\r\nimport org.springframework.security.config.BeanIds;\r\nimport org.springframework.security.config.annotation.authentication.builders.AuthenticationManagerBuilder;\r\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\r\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\r\nimport org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter;\r\nimport org.springframework.security.core.userdetails.UserDetailsService;\r\nimport org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\r\nimport org.springframework.security.crypto.password.PasswordEncoder;\r\n\r\n@EnableWebSecurity\r\npublic class SecurityConfig extends WebSecurityConfigurerAdapter {\r\n\r\n    @Autowired\r\n    private UserDetailsService userDetailsService;\r\n\r\n    @Bean(BeanIds.AUTHENTICATION_MANAGER)\r\n    @Override\r\n    public AuthenticationManager authenticationManagerBean() throws Exception {\r\n        return super.authenticationManagerBean();\r\n    }\r\n\r\n    @Override\r\n    public void configure(HttpSecurity httpSecurity) throws Exception {\r\n        httpSecurity.csrf().disable().authorizeRequests()\r\n                .antMatchers(&quot;/api/auth/**&quot;)\r\n                .permitAll()\r\n                .anyRequest()\r\n                .authenticated();\r\n    }\r\n\r\n    @Autowired\r\n    public void configureGlobal(AuthenticationManagerBuilder authenticationManagerBuilder) throws Exception {\r\n        authenticationManagerBuilder.userDetailsService(userDetailsService).passwordEncoder(passwordEncoder());\r\n    }\r\n\r\n    @Bean\r\n    PasswordEncoder passwordEncoder() {\r\n        return new BCryptPasswordEncoder();\r\n    }\r\n}\r\n```\r\nI have the following error :\r\n Error creating bean with name &#39;securityConfig&#39;: Requested bean is currently in creation: Is there an unresolvable circular reference?\r\n\r\nHow can i solve it?\r\n\r\n\r\n","title":"Error creating bean with name &#39;securityConfig&#39;: Requested bean is currently in creation:","body":"<pre><code>package ro.contabilitateexpert.AccountExpert.config;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.security.authentication.AuthenticationManager;\nimport org.springframework.security.config.BeanIds;\nimport org.springframework.security.config.annotation.authentication.builders.AuthenticationManagerBuilder;\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\nimport org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter;\nimport org.springframework.security.core.userdetails.UserDetailsService;\nimport org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\nimport org.springframework.security.crypto.password.PasswordEncoder;\n\n@EnableWebSecurity\npublic class SecurityConfig extends WebSecurityConfigurerAdapter {\n\n    @Autowired\n    private UserDetailsService userDetailsService;\n\n    @Bean(BeanIds.AUTHENTICATION_MANAGER)\n    @Override\n    public AuthenticationManager authenticationManagerBean() throws Exception {\n        return super.authenticationManagerBean();\n    }\n\n    @Override\n    public void configure(HttpSecurity httpSecurity) throws Exception {\n        httpSecurity.csrf().disable().authorizeRequests()\n                .antMatchers(&quot;/api/auth/**&quot;)\n                .permitAll()\n                .anyRequest()\n                .authenticated();\n    }\n\n    @Autowired\n    public void configureGlobal(AuthenticationManagerBuilder authenticationManagerBuilder) throws Exception {\n        authenticationManagerBuilder.userDetailsService(userDetailsService).passwordEncoder(passwordEncoder());\n    }\n\n    @Bean\n    PasswordEncoder passwordEncoder() {\n        return new BCryptPasswordEncoder();\n    }\n}\n</code></pre>\n<p>I have the following error :\nError creating bean with name 'securityConfig': Requested bean is currently in creation: Is there an unresolvable circular reference?</p>\n<p>How can i solve it?</p>\n"},{"tags":["java","selenium-webdriver","gettext"],"comments":[{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":0,"creation_date":1676334595,"post_id":75442356,"comment_id":133112924,"body_markdown":"Can you show the HTML for the field that you&#39;re trying to find?","body":"Can you show the HTML for the field that you&#39;re trying to find?"},{"owner":{"account_id":10299692,"reputation":5744,"user_id":7598774,"accept_rate":75,"display_name":"Shawn"},"score":0,"creation_date":1676370507,"post_id":75442356,"comment_id":133119025,"body_markdown":"Can you share the error?","body":"Can you share the error?"},{"owner":{"account_id":27778611,"reputation":1,"user_id":21207425,"display_name":"Qa_Automatino"},"score":0,"creation_date":1676376620,"post_id":75442356,"comment_id":133120809,"body_markdown":"HTML in the CODE LINK (image) you can see all code.  \n\n&lt;div class=&quot;&quot; data-v-2fe357a6=&quot;&quot;&gt;&lt;input class=&quot;oxd-input oxd-input--active orangehrm-firstname&quot; name=&quot;firstName&quot; placeholder=&quot;First Name&quot; data-v-844e87dc=&quot;&quot;&gt;&lt;/div&gt;","body":"HTML in the CODE LINK (image) you can see all code.    &lt;div class=&quot;&quot; data-v-2fe357a6=&quot;&quot;&gt;&lt;input class=&quot;oxd-input oxd-input--active orangehrm-firstname&quot; name=&quot;firstName&quot; placeholder=&quot;First Name&quot; data-v-844e87dc=&quot;&quot;&gt;&lt;/div&gt;"},{"owner":{"account_id":10121872,"reputation":2186,"user_id":7478530,"display_name":"Dragonthoughts"},"score":0,"creation_date":1676385983,"post_id":75442356,"comment_id":133123764,"body_markdown":"Please edit your question to include the HTML, then you can format it and people are more likely to find important information without having to look through the comments.","body":"Please edit your question to include the HTML, then you can format it and people are more likely to find important information without having to look through the comments."},{"owner":{"account_id":27778611,"reputation":1,"user_id":21207425,"display_name":"Qa_Automatino"},"score":0,"creation_date":1676399113,"post_id":75442356,"comment_id":133127949,"body_markdown":"Sorry, this is my first post and the English language is not my native language.","body":"Sorry, this is my first post and the English language is not my native language."}],"answers":[{"comments":[{"owner":{"account_id":27778611,"reputation":1,"user_id":21207425,"display_name":"Qa_Automatino"},"score":0,"creation_date":1676398759,"post_id":75449524,"comment_id":133127851,"body_markdown":"Grateful for your help.\n**Code:**\n&#39;String nombreActual = firstName.getAttribute(&quot;value&quot;);\nSystem.out.println(&quot;valor de nombre: &quot; + nombre);\nSystem.out.println(&quot;nombreActual: &quot; + nombreActual);\nAssert.assertEquals(nombre,nombreActual);&#39;\n\n**Result:**\nvalor de nombre: francisca\nnombreActual: francisca","body":"Grateful for your help. <b>Code:</b> &#39;String nombreActual = firstName.getAttribute(&quot;value&quot;); System.out.println(&quot;valor de nombre: &quot; + nombre); System.out.println(&quot;nombreActual: &quot; + nombreActual); Assert.assertEquals(nombre,nombreActual);&#39;  <b>Result:</b> valor de nombre: francisca nombreActual: francisca"},{"owner":{"account_id":10299692,"reputation":5744,"user_id":7598774,"accept_rate":75,"display_name":"Shawn"},"score":0,"creation_date":1676403998,"post_id":75449524,"comment_id":133129374,"body_markdown":"Glad it helped. If you think this answered solved your issue, accept the answer.","body":"Glad it helped. If you think this answered solved your issue, accept the answer."}],"tags":[],"owner":{"account_id":10299692,"reputation":5744,"user_id":7598774,"accept_rate":75,"display_name":"Shawn"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676386122,"creation_date":1676386122,"answer_id":75449524,"question_id":75442356,"body_markdown":"Try by using `.getAttribute()`instead of `.getText()`. Try the below:\r\n\r\n`System.out.println(firstName.getAttribute(&quot;value&quot;));`\r\n\r\n**Note:** Assuming the HTML contains attribute `value` and its content is **rodrigo**","title":"Cannot get the value of the element in the HTML","body":"<p>Try by using <code>.getAttribute()</code>instead of <code>.getText()</code>. Try the below:</p>\n<p><code>System.out.println(firstName.getAttribute(&quot;value&quot;));</code></p>\n<p><strong>Note:</strong> Assuming the HTML contains attribute <code>value</code> and its content is <strong>rodrigo</strong></p>\n"}],"owner":{"account_id":27778611,"reputation":1,"user_id":21207425,"display_name":"Qa_Automatino"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":72,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1676386122,"creation_date":1676333772,"question_id":75442356,"body_markdown":"````\r\nPage.java:\r\n @FindBy(xpath = &quot;//input[@name=&#39;firstName&#39;]&quot;) WebElement firstName;\r\n.\r\n.\r\n.\r\n.\r\nString nombreActual = firstName.getText() ;\r\nSystem.out.println(firstName.getText());\r\n````\r\n\r\n\r\n[Code](https://i.stack.imgur.com/UKS2H.png)\r\n\r\n\r\n\r\nThe value is required to be able to compare against other value as per below asset statement.\r\n\r\n`Assert.assertEquals(nombre,nombreActual);`","title":"Cannot get the value of the element in the HTML","body":"<pre><code>Page.java:\n @FindBy(xpath = &quot;//input[@name='firstName']&quot;) WebElement firstName;\n.\n.\n.\n.\nString nombreActual = firstName.getText() ;\nSystem.out.println(firstName.getText());\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/UKS2H.png\" rel=\"nofollow noreferrer\">Code</a></p>\n<p>The value is required to be able to compare against other value as per below asset statement.</p>\n<p><code>Assert.assertEquals(nombre,nombreActual);</code></p>\n"},{"tags":["java","spring-boot","maven","intellij-idea"],"comments":[{"owner":{"account_id":3538058,"reputation":5428,"user_id":2960034,"display_name":"y.bedrov"},"score":0,"creation_date":1661850720,"post_id":73537915,"comment_id":129863724,"body_markdown":"IDE uses Maven configuration as an initial source of project configuration. So, manual changed in project configuration will be overridden on Maven reload. Is it possible to share project to check where path comes from?","body":"IDE uses Maven configuration as an initial source of project configuration. So, manual changed in project configuration will be overridden on Maven reload. Is it possible to share project to check where path comes from?"}],"answers":[{"tags":[],"owner":{"account_id":9905560,"reputation":651,"user_id":7334180,"accept_rate":75,"display_name":"Holinc"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676385724,"creation_date":1676385724,"answer_id":75449421,"question_id":73537915,"body_markdown":"It works for me by setting `relativePath` in pom.xml.\r\n\r\nBy the way, the official description of `relativePath` is:\r\n\r\n&gt; The relative path of the parent pom.xml file within the check out. If\r\n&gt; not specified, it defaults to ../pom.xml. Maven looks for the parent\r\n&gt; POM first in this location on the filesystem, then the local\r\n&gt; repository, and lastly in the remote repo. relativePath allows you to\r\n&gt; select a different location, for example when your structure is flat,\r\n&gt; or deeper without an intermediate parent POM. However, the group ID,\r\n&gt; artifact ID and version are still required, and must match the file in\r\n&gt; the location given or it will revert to the repository for the POM.\r\n&gt; This feature is only for enhancing the development in a local checkout\r\n&gt; of that project. Set the value to an empty string in case you want to\r\n&gt; disable the feature and always resolve the parent POM from the\r\n&gt; repositories.","title":"Intellij Idea Maven Project Compiler Output Is Alway Changed","body":"<p>It works for me by setting <code>relativePath</code> in pom.xml.</p>\n<p>By the way, the official description of <code>relativePath</code> is:</p>\n<blockquote>\n<p>The relative path of the parent pom.xml file within the check out. If\nnot specified, it defaults to ../pom.xml. Maven looks for the parent\nPOM first in this location on the filesystem, then the local\nrepository, and lastly in the remote repo. relativePath allows you to\nselect a different location, for example when your structure is flat,\nor deeper without an intermediate parent POM. However, the group ID,\nartifact ID and version are still required, and must match the file in\nthe location given or it will revert to the repository for the POM.\nThis feature is only for enhancing the development in a local checkout\nof that project. Set the value to an empty string in case you want to\ndisable the feature and always resolve the parent POM from the\nrepositories.</p>\n</blockquote>\n"}],"owner":{"account_id":9905560,"reputation":651,"user_id":7334180,"accept_rate":75,"display_name":"Holinc"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":550,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1676385724,"creation_date":1661840344,"question_id":73537915,"body_markdown":"&gt; Intellij Idea Project Settings &lt;br/&gt;\r\n&gt; Compiler Output\r\n&gt;  - Inherit project compile output path\r\n&gt;  - Use module compile output path\r\n\r\nI choose `Use module compile output path` option，but it is alway changed in another path, not my project compile output path. I can not run my project in correct.\r\n\r\nAny help?\r\n\r\nOutput Path: `D:\\repo\\repository\\org\\springframework\\boot\\spring-boot-starter-parent\\2.5.12\\target\\classes`\r\n\r\nTest output path: `D:\\repo\\repository\\org\\springframework\\boot\\spring-boot-starter-parent\\2.5.12\\target\\test-classes`","title":"Intellij Idea Maven Project Compiler Output Is Alway Changed","body":"<blockquote>\n<p>Intellij Idea Project Settings <br/>\nCompiler Output</p>\n<ul>\n<li>Inherit project compile output path</li>\n<li>Use module compile output path</li>\n</ul>\n</blockquote>\n<p>I choose <code>Use module compile output path</code> option，but it is alway changed in another path, not my project compile output path. I can not run my project in correct.</p>\n<p>Any help?</p>\n<p>Output Path: <code>D:\\repo\\repository\\org\\springframework\\boot\\spring-boot-starter-parent\\2.5.12\\target\\classes</code></p>\n<p>Test output path: <code>D:\\repo\\repository\\org\\springframework\\boot\\spring-boot-starter-parent\\2.5.12\\target\\test-classes</code></p>\n"},{"tags":["java","arraylist","compareto"],"comments":[{"owner":{"account_id":2617274,"reputation":6112,"user_id":2266098,"accept_rate":72,"display_name":"NeplatnyUdaj"},"score":1,"creation_date":1395667832,"post_id":22610728,"comment_id":34428245,"body_markdown":"Why don&#39;t you just use `Collections.sort(List&lt;T&gt; list)` ?","body":"Why don&#39;t you just use <code>Collections.sort(List&lt;T&gt; list)</code> ?"},{"owner":{"account_id":2927647,"reputation":2746,"user_id":2508646,"accept_rate":100,"display_name":"Dan Temple"},"score":0,"creation_date":1395668024,"post_id":22610728,"comment_id":34428381,"body_markdown":"You could also loop through the list of Strings using the compareTo method to determine the position of the list to add the new word.","body":"You could also loop through the list of Strings using the compareTo method to determine the position of the list to add the new word."}],"answers":[{"tags":[],"owner":{"account_id":3016236,"reputation":15507,"user_id":4969827,"display_name":"Sergey Shustikov"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1512480199,"creation_date":1395668021,"answer_id":22610920,"question_id":22610728,"body_markdown":"Use a `Collections.sort(List&lt;T&gt; list, Comparator&lt;T&gt; c);`\r\n\r\n    Collections.sort(yourList,new Comparator&lt;String&gt;() {\r\n    \t@Override\r\n    \tpublic int compare(String lhs, String rhs) {\r\n    \t\treturn lhs.compareTo(rhs);   //or whatever your sorting algorithm\r\n    \t}\r\n    });","title":"Using compareTo in ArrayLists","body":"<p>Use a <code>Collections.sort(List&lt;T&gt; list, Comparator&lt;T&gt; c);</code></p>\n\n<pre><code>Collections.sort(yourList,new Comparator&lt;String&gt;() {\n    @Override\n    public int compare(String lhs, String rhs) {\n        return lhs.compareTo(rhs);   //or whatever your sorting algorithm\n    }\n});\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3552359,"reputation":623,"user_id":2966938,"display_name":"Karura91"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1395668049,"creation_date":1395668049,"answer_id":22610938,"question_id":22610728,"body_markdown":"compareTo is a method of String class.\r\nSo, in order to use it, you have to write something like this:\r\n\r\n    list.get(i).compareTo(newWord)\r\n\r\nwhere i is the index of an element of your list and newWord is the newWord.\r\n\r\nHere is an useful [link][1]\r\n\r\nYou could simple add an element and then use Collections.sort(list) but since I think this is a school assignment probably you can&#39;t, so you have to manage the insert manually using compareTo method as I showed you.\r\n\r\n  [1]: http://www.tutorialspoint.com/java/java_string_compareto.htm","title":"Using compareTo in ArrayLists","body":"<p>compareTo is a method of String class.\nSo, in order to use it, you have to write something like this:</p>\n\n<pre><code>list.get(i).compareTo(newWord)\n</code></pre>\n\n<p>where i is the index of an element of your list and newWord is the newWord.</p>\n\n<p>Here is an useful <a href=\"http://www.tutorialspoint.com/java/java_string_compareto.htm\" rel=\"nofollow\">link</a></p>\n\n<p>You could simple add an element and then use Collections.sort(list) but since I think this is a school assignment probably you can't, so you have to manage the insert manually using compareTo method as I showed you.</p>\n"}],"owner":{"account_id":3802318,"reputation":1,"user_id":3155599,"display_name":"Tomas1337"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4283,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1676385451,"creation_date":1395667474,"question_id":22610728,"body_markdown":"I need some help using compareTo in ArrayLists. As a guide I was given this paragraph: \n\n&gt;addOrder(ArrayList&lt;String&gt; words, String newWord) – this method adds newWord in the proper alphabetical order. \n&gt;\n&gt;Hint you can use: x.compareTo(y) \n&gt;\n&gt;If x.compareTo(y) is &lt; 0, x comes before y)\n&gt;\n&gt;addOrder should then return this updated ArrayList of Strings.\n\nBut even though I researched alot still struggling to understand how to apply it to ArrayLists. This is my code that I want to use the compareTo method:\n   \n\n    import java.util.ArrayList;\n    import java.util.ArrayList;\n    import java.util.List;\n    \n    class StringList {\n        public static void main(String [] args)\n        {\n            ArrayList&lt; String&gt; list = new ArrayList&lt; String&gt;();\n            list.add(&quot;Goldsmiths&quot;);\n            list.add(&quot;College&quot;);\n            list.add(&quot;London&quot;);\n            list.add(&quot;Manchester&quot;);\n            list.add(&quot;London&quot;);\n            list.add(&quot;York&quot;);\n            System.out.println(&quot;These are your words:&quot;);\n            System.out.println(list);\n            System.out.println(&quot;This is the size of the array:&quot;);\n            System.out.println(lengthArray(list));\n            System.out.println(&quot;The length of all strings is:&quot;);\n            System.out.println(totalLengthArray(list));\n        }\n    \n        public static int lengthArray(List&lt;String&gt; list)\n        {\n            return list.size();\n        }\n    \n        public static int totalLengthArray(List&lt;String&gt; list)\n        {\n            int count = 0;\n            for (String s: list)\n            {\n                count += s.length();\n            }\n            return count;\n        }\n    }\n\nI want to compare and sort out the list items that I have added which you can see in my code.","title":"Using compareTo in ArrayLists","body":"<p>I need some help using compareTo in ArrayLists. As a guide I was given this paragraph:</p>\n<blockquote>\n<p>addOrder(ArrayList words, String newWord) – this method adds newWord in the proper alphabetical order.</p>\n<p>Hint you can use: x.compareTo(y)</p>\n<p>If x.compareTo(y) is &lt; 0, x comes before y)</p>\n<p>addOrder should then return this updated ArrayList of Strings.</p>\n</blockquote>\n<p>But even though I researched alot still struggling to understand how to apply it to ArrayLists. This is my code that I want to use the compareTo method:</p>\n<pre><code>import java.util.ArrayList;\nimport java.util.ArrayList;\nimport java.util.List;\n\nclass StringList {\n    public static void main(String [] args)\n    {\n        ArrayList&lt; String&gt; list = new ArrayList&lt; String&gt;();\n        list.add(&quot;Goldsmiths&quot;);\n        list.add(&quot;College&quot;);\n        list.add(&quot;London&quot;);\n        list.add(&quot;Manchester&quot;);\n        list.add(&quot;London&quot;);\n        list.add(&quot;York&quot;);\n        System.out.println(&quot;These are your words:&quot;);\n        System.out.println(list);\n        System.out.println(&quot;This is the size of the array:&quot;);\n        System.out.println(lengthArray(list));\n        System.out.println(&quot;The length of all strings is:&quot;);\n        System.out.println(totalLengthArray(list));\n    }\n\n    public static int lengthArray(List&lt;String&gt; list)\n    {\n        return list.size();\n    }\n\n    public static int totalLengthArray(List&lt;String&gt; list)\n    {\n        int count = 0;\n        for (String s: list)\n        {\n            count += s.length();\n        }\n        return count;\n    }\n}\n</code></pre>\n<p>I want to compare and sort out the list items that I have added which you can see in my code.</p>\n"},{"tags":["java","mockito","junit5"],"answers":[{"comments":[{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":2,"creation_date":1676358469,"post_id":75444277,"comment_id":133115910,"body_markdown":"I suppose you meant `this(new IntReqDecorator());` instead of `super(new IntReqDecorator());`?","body":"I suppose you meant <code>this(new IntReqDecorator());</code> instead of <code>super(new IntReqDecorator());</code>?"}],"tags":[],"owner":{"account_id":2645973,"reputation":65777,"user_id":2288659,"accept_rate":90,"display_name":"Silvio Mayolo"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1676385278,"creation_date":1676356974,"answer_id":75444277,"question_id":75444121,"body_markdown":"You&#39;re in a bit of a bind here. Your `IntVisitor` class is very tightly coupled to the concrete class `IntReqDecorator`. And the `apply` method is defined, verbatim, to do the same thing as `intReqDecorator.decorate`. So without changing any of the signatures, the best you can possibly do is write the same test you did for `decorate` but over again.\r\n\r\nNow, what you probably *should* do with this code is break that dependency. First, your constructor concretely builds an `IntReqDecorator` the moment it&#39;s constructed. You can still do that as a handy default, but you should provide a way for the caller to specify the decorator they wish to use. We can do that by overloading the constructor.\r\n\r\n    public InternalCallVisitor() {\r\n      this(new IntReqDecorator());\r\n    }\r\n\r\n    public InternalCallVisitor(IntReqDecorator intReqDecorator) {\r\n      this.intReqDecorator = intReqDecorator;\r\n    }\r\n\r\nNow this alone is enough firepower for us to write a good test. We can mock `IntReqDecorator` and use the one-argument constructor in tests.\r\n\r\nBut I would go even further. You only ever use one method from `IntReqDecorator`, namely `decorate`. But since it&#39;s a concrete class, it probably has other methods that we don&#39;t really need here. So in an effort to follow [dependency inversion](https://en.wikipedia.org/wiki/Dependency_inversion_principle), it may be a good idea to create an interface `IntReqDecoratorLike` (choose a better name for your use case) that has just that one method, and then have `IntReqDecorator` *implement* that interface.\r\n\r\nThen your constructor takes a `IntReqDecoratorLike` that is capable of doing *only* exactly what we need it to. The great thing about this is that you barely even have to mock anything to test it. You could theoretically just write a new (ordinary) class that implements `IntReqDecoratorLike` and use that in tests. We&#39;ll probably still use the mocking framework, since it does provide good error messages and built-in validation, but the alternative is there in principle.\r\n\r\nAs a very broad general rule, when you find yourself scratching your head and saying &quot;This code looks difficult to test&quot;, you should take a step back. Because oftentimes, you can make a change to the API that not only makes testing easier but also makes the code more ergonomic to use down the road.","title":"Mockito a void method","body":"<p>You're in a bit of a bind here. Your <code>IntVisitor</code> class is very tightly coupled to the concrete class <code>IntReqDecorator</code>. And the <code>apply</code> method is defined, verbatim, to do the same thing as <code>intReqDecorator.decorate</code>. So without changing any of the signatures, the best you can possibly do is write the same test you did for <code>decorate</code> but over again.</p>\n<p>Now, what you probably <em>should</em> do with this code is break that dependency. First, your constructor concretely builds an <code>IntReqDecorator</code> the moment it's constructed. You can still do that as a handy default, but you should provide a way for the caller to specify the decorator they wish to use. We can do that by overloading the constructor.</p>\n<pre><code>public InternalCallVisitor() {\n  this(new IntReqDecorator());\n}\n\npublic InternalCallVisitor(IntReqDecorator intReqDecorator) {\n  this.intReqDecorator = intReqDecorator;\n}\n</code></pre>\n<p>Now this alone is enough firepower for us to write a good test. We can mock <code>IntReqDecorator</code> and use the one-argument constructor in tests.</p>\n<p>But I would go even further. You only ever use one method from <code>IntReqDecorator</code>, namely <code>decorate</code>. But since it's a concrete class, it probably has other methods that we don't really need here. So in an effort to follow <a href=\"https://en.wikipedia.org/wiki/Dependency_inversion_principle\" rel=\"nofollow noreferrer\">dependency inversion</a>, it may be a good idea to create an interface <code>IntReqDecoratorLike</code> (choose a better name for your use case) that has just that one method, and then have <code>IntReqDecorator</code> <em>implement</em> that interface.</p>\n<p>Then your constructor takes a <code>IntReqDecoratorLike</code> that is capable of doing <em>only</em> exactly what we need it to. The great thing about this is that you barely even have to mock anything to test it. You could theoretically just write a new (ordinary) class that implements <code>IntReqDecoratorLike</code> and use that in tests. We'll probably still use the mocking framework, since it does provide good error messages and built-in validation, but the alternative is there in principle.</p>\n<p>As a very broad general rule, when you find yourself scratching your head and saying &quot;This code looks difficult to test&quot;, you should take a step back. Because oftentimes, you can make a change to the API that not only makes testing easier but also makes the code more ergonomic to use down the road.</p>\n"}],"owner":{"account_id":14059537,"reputation":67,"user_id":10155969,"display_name":"Drazer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75444277,"answer_count":1,"score":0,"last_activity_date":1676385278,"creation_date":1676355649,"question_id":75444121,"body_markdown":"How do I write a mockito test for the below method? `IntReqDecorate.decorate` adds an Id to a call.\r\n\r\n```\r\npublic class IntVisitor implements Visitor {\r\n\r\n    private final IntReqDecorator intReqDecorator;\r\n\r\n    public InternalCallVisitor() {\r\n        this.intReqDecorator = new IntReqDecorator();\r\n    }\r\n\r\n    @Override\r\n    public void apply(Call call) {\r\n        intReqDecorator.decorate(call);\r\n    }\r\n}\r\n```","title":"Mockito a void method","body":"<p>How do I write a mockito test for the below method? <code>IntReqDecorate.decorate</code> adds an Id to a call.</p>\n<pre><code>public class IntVisitor implements Visitor {\n\n    private final IntReqDecorator intReqDecorator;\n\n    public InternalCallVisitor() {\n        this.intReqDecorator = new IntReqDecorator();\n    }\n\n    @Override\n    public void apply(Call call) {\n        intReqDecorator.decorate(call);\n    }\n}\n</code></pre>\n"},{"tags":["java","spring-boot","spring-mvc"],"comments":[{"owner":{"account_id":1496659,"reputation":138,"user_id":1402425,"display_name":"vudangngoc"},"score":0,"creation_date":1676385687,"post_id":75449339,"comment_id":133123681,"body_markdown":"you should copy the font files to resources folder, then follow this guideline\n\nhttps://mkyong.com/java/java-read-a-file-from-resources-folder/","body":"you should copy the font files to resources folder, then follow this guideline  <a href=\"https://mkyong.com/java/java-read-a-file-from-resources-folder/\" rel=\"nofollow noreferrer\">mkyong.com/java/java-read-a-file-from-resources-folder</a>"}],"owner":{"account_id":2737217,"reputation":1295,"user_id":2359634,"accept_rate":71,"display_name":"user2359634"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676385262,"creation_date":1676385262,"question_id":75449339,"body_markdown":"I have spring boot application packaged as jar.\r\n\r\nThe static files I see at /opt/springboot/springboot-app/app.jar!/BOOT-INF/classes!/static/font\r\n\r\nHow do I access the files under font , but not as an InputStream\r\n","title":"Access static files in springboot jar","body":"<p>I have spring boot application packaged as jar.</p>\n<p>The static files I see at /opt/springboot/springboot-app/app.jar!/BOOT-INF/classes!/static/font</p>\n<p>How do I access the files under font , but not as an InputStream</p>\n"},{"tags":["java","android","kotlin","android-edittext"],"owner":{"account_id":27764469,"reputation":83,"user_id":21196105,"display_name":"WBarber"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1676385170,"creation_date":1676348975,"question_id":75443466,"body_markdown":"When overriding onDraw in an edittext, I can make the text in any location I see fit. What I&#39;m having trouble with is aligning their respective &quot;boxes&quot; ie the area where the actual char is clicked to edit said char. The text I can move, or rather draw wherever, but how do I align the actual physical position of the char to it&#39;s painted char? I&#39;m at a bit of a loss I couldn&#39;t figure out what to override to change these positions. Any help would be awesome! I don&#39;t have any code to post, as it&#39;s literally just an extended edittext and override onDraw with a for loop.\r\n\r\nI attempted to move the position of text digits individually inside an edit text using onDraw, but found it doesn&#39;t seem to move the actual location just the paint representation of it.\r\n\r\nEDIT ----------------------------------\r\n\r\nIve found what I believe to be what needs overriden, the onSelection start and end. But, it seems to cause an infinite recursion loop? Anyone got any ideas as to how this is done? Indentation is hard to do on a phone but here&#39;s a sample of the rough idea:\r\n\r\n\r\n    class HexEditorEditText(context: Context, attrs: AttributeSet?) : EditText(context, attrs) {\r\n    private val characterWidth: Float\r\n    private val characterHeight: Float\r\n\r\n    init {\r\n        val textPaint = paint\r\n        characterWidth = textPaint.measureText(&quot;00&quot;)\r\n        characterHeight = textPaint.fontSpacing\r\n    }\r\n\r\n    override fun onDraw(canvas: Canvas?) {\r\n        val text = text.toString()\r\n        var x = 0f\r\n        var y = 0f\r\n        for (i in 0 until text.length step 2) {\r\n            val pair = text.substring(i, i + 2)\r\n            canvas?.drawText(pair, x, y, paint)\r\n            x += characterWidth + characterWidth / 2\r\n        }\r\n    }\r\n\r\n    override fun getSelectionStart(): Int {\r\n        val layout = layout\r\n        val line = layout.getLineForOffset(selectionStart)\r\n        val x = layout.getPrimaryHorizontal(selectionStart)\r\n        return (x / (characterWidth + characterWidth / 2)).toInt() * 2\r\n        }\r\n\r\n    override fun getSelectionEnd(): Int {\r\n        val layout = layout\r\n        val line = layout.getLineForOffset(selectionEnd)\r\n        val x = layout.getPrimaryHorizontal(selectionEnd)\r\n        return (x / (characterWidth + characterWidth / 2)).toInt() * 2\r\n        }\r\n\r\n    override fun setSelection(start: Int, stop: Int) {\r\n        super.setSelection((start / 2) * 2, (stop / 2) * 2)\r\n        }\r\n    }\r\n","title":"Android EditText align actual text to onDraw positions?","body":"<p>When overriding onDraw in an edittext, I can make the text in any location I see fit. What I'm having trouble with is aligning their respective &quot;boxes&quot; ie the area where the actual char is clicked to edit said char. The text I can move, or rather draw wherever, but how do I align the actual physical position of the char to it's painted char? I'm at a bit of a loss I couldn't figure out what to override to change these positions. Any help would be awesome! I don't have any code to post, as it's literally just an extended edittext and override onDraw with a for loop.</p>\n<p>I attempted to move the position of text digits individually inside an edit text using onDraw, but found it doesn't seem to move the actual location just the paint representation of it.</p>\n<p>EDIT ----------------------------------</p>\n<p>Ive found what I believe to be what needs overriden, the onSelection start and end. But, it seems to cause an infinite recursion loop? Anyone got any ideas as to how this is done? Indentation is hard to do on a phone but here's a sample of the rough idea:</p>\n<pre><code>class HexEditorEditText(context: Context, attrs: AttributeSet?) : EditText(context, attrs) {\nprivate val characterWidth: Float\nprivate val characterHeight: Float\n\ninit {\n    val textPaint = paint\n    characterWidth = textPaint.measureText(&quot;00&quot;)\n    characterHeight = textPaint.fontSpacing\n}\n\noverride fun onDraw(canvas: Canvas?) {\n    val text = text.toString()\n    var x = 0f\n    var y = 0f\n    for (i in 0 until text.length step 2) {\n        val pair = text.substring(i, i + 2)\n        canvas?.drawText(pair, x, y, paint)\n        x += characterWidth + characterWidth / 2\n    }\n}\n\noverride fun getSelectionStart(): Int {\n    val layout = layout\n    val line = layout.getLineForOffset(selectionStart)\n    val x = layout.getPrimaryHorizontal(selectionStart)\n    return (x / (characterWidth + characterWidth / 2)).toInt() * 2\n    }\n\noverride fun getSelectionEnd(): Int {\n    val layout = layout\n    val line = layout.getLineForOffset(selectionEnd)\n    val x = layout.getPrimaryHorizontal(selectionEnd)\n    return (x / (characterWidth + characterWidth / 2)).toInt() * 2\n    }\n\noverride fun setSelection(start: Int, stop: Int) {\n    super.setSelection((start / 2) * 2, (stop / 2) * 2)\n    }\n}\n</code></pre>\n"},{"tags":["java","gradle","intellij-idea","integration-testing"],"answers":[{"tags":[],"owner":{"account_id":914392,"reputation":5655,"user_id":947526,"accept_rate":46,"display_name":"C-Otto"},"comment_count":0,"down_vote_count":0,"up_vote_count":12,"is_accepted":true,"score":12,"last_activity_date":1589648730,"creation_date":1589636319,"answer_id":61837673,"question_id":61836692,"body_markdown":"Two pieces were missing. The following only defines JUnit for the `test` module, but not `integrationTest`. See https://discuss.gradle.org/t/integration-tests-not-being-run/28745.\r\n```\r\ntest {\r\n    useJUnitPlatform()\r\n}\r\n```\r\n\r\nAs such, one of the following is necessary:\r\n```\r\nintegrationTest {\r\n    useJUnitPlatform()\r\n}\r\n```\r\nor\r\n```\r\ntasks.withType(Test) {\r\n    useJUnitPlatform()\r\n}\r\n```\r\n\r\nFurthermore, the JUnit runtime wasn&#39;t available for the integration tests. This can be fixed by including the test runtime dependencies:\r\n\r\nInstead of `integrationTestRuntimeOnly.extendsFrom runtimeOnly` use `integrationTestRuntimeOnly.extendsFrom testRuntimeOnly`.\r\n\r\nIf I add these two changes, the tests are executed with `./gradlew check`.\r\nI&#39;m also able to run the tests from inside IntelliJ IDEA.","title":"Gradle: make integration test source module work","body":"<p>Two pieces were missing. The following only defines JUnit for the <code>test</code> module, but not <code>integrationTest</code>. See <a href=\"https://discuss.gradle.org/t/integration-tests-not-being-run/28745\" rel=\"noreferrer\">https://discuss.gradle.org/t/integration-tests-not-being-run/28745</a>.</p>\n\n<pre><code>test {\n    useJUnitPlatform()\n}\n</code></pre>\n\n<p>As such, one of the following is necessary:</p>\n\n<pre><code>integrationTest {\n    useJUnitPlatform()\n}\n</code></pre>\n\n<p>or</p>\n\n<pre><code>tasks.withType(Test) {\n    useJUnitPlatform()\n}\n</code></pre>\n\n<p>Furthermore, the JUnit runtime wasn't available for the integration tests. This can be fixed by including the test runtime dependencies:</p>\n\n<p>Instead of <code>integrationTestRuntimeOnly.extendsFrom runtimeOnly</code> use <code>integrationTestRuntimeOnly.extendsFrom testRuntimeOnly</code>.</p>\n\n<p>If I add these two changes, the tests are executed with <code>./gradlew check</code>.\nI'm also able to run the tests from inside IntelliJ IDEA.</p>\n"}],"owner":{"account_id":914392,"reputation":5655,"user_id":947526,"accept_rate":46,"display_name":"C-Otto"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8036,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":61837673,"answer_count":1,"score":6,"last_activity_date":1676384846,"creation_date":1589631927,"question_id":61836692,"body_markdown":"I have a simple multi-module Java Gradle project. The unit tests run fine, but I&#39;m unable to add a working source set for integration tests. The tests are compiled (I see compile errors), and appear in the console output, but they are not executed (the existing tests should fail). \r\n\r\nFurthermore, in IntelliJ IDEA, the source set is shown, but not as a test module.\r\nI see the &quot;run&quot; icons in the gutter next to the tests, but running a test gives\r\n`&gt; No tests found for given includes: [de.cotto.integration_tests.moduletwo.ModuleTest.name](filter.includeTestsMatching)`.\r\n\r\nMy questions:\r\n\r\n - What do I need to change in order to make the test(s) run (using `./gradlew build`)?\r\n - How can I make IntelliJ IDEA pick up the source set as a &quot;test&quot; module?\r\n - How can I run the tests from IntelliJ IDEA?\r\n - Bonus points for Java 14 with modules ([commit][1])\r\n\r\nSource set definition:\r\n```\r\nsourceSets {\r\n    integrationTest {\r\n        compileClasspath += sourceSets.main.output\r\n        runtimeClasspath += sourceSets.main.output\r\n    }\r\n}\r\n\r\nconfigurations {\r\n    integrationTestImplementation.extendsFrom testImplementation\r\n    integrationTestRuntimeOnly.extendsFrom runtimeOnly\r\n}\r\n\r\ntask integrationTest(type: Test) {\r\n    description = &#39;Runs integration tests.&#39;\r\n    group = &#39;verification&#39;\r\n\r\n    testClassesDirs = sourceSets.integrationTest.output.classesDirs\r\n    classpath = sourceSets.integrationTest.runtimeClasspath\r\n    shouldRunAfter test\r\n}\r\n\r\ncheck.dependsOn integrationTest\r\n```\r\n\r\n - Gradle 6.4.1\r\n - JUnit 5\r\n - Java 14 and 11\r\n - With and without Java modules (JPMS, Jigsaw)\r\n - IntelliJ IDEA 2020.1.2\r\n\r\n```\r\n$ ./gradlew clean check --no-build-cache --console=plain\r\n&gt; Task :module-one:clean\r\n&gt; Task :module-two:clean\r\n&gt; Task :module-two:processResources NO-SOURCE\r\n&gt; Task :module-two:processTestResources NO-SOURCE\r\n&gt; Task :module-two:processIntegrationTestResources NO-SOURCE\r\n&gt; Task :module-one:compileJava\r\n&gt; Task :module-one:processResources NO-SOURCE\r\n&gt; Task :module-one:classes\r\n&gt; Task :module-two:compileJava\r\n&gt; Task :module-two:classes\r\n&gt; Task :module-one:compileTestJava\r\n&gt; Task :module-one:processTestResources NO-SOURCE\r\n&gt; Task :module-one:testClasses\r\n&gt; Task :module-two:compileTestJava\r\n&gt; Task :module-two:testClasses\r\n&gt; Task :module-two:compileIntegrationTestJava\r\n&gt; Task :module-two:integrationTestClasses\r\n&gt; Task :module-one:test\r\n&gt; Task :module-one:check\r\n&gt; Task :module-one:jar\r\n&gt; Task :module-two:test\r\n&gt; Task :module-two:integrationTest &lt;-- What happens here? Why doesn&#39;t the test fail?\r\n&gt; Task :module-two:check\r\n\r\nBUILD SUCCESSFUL in 2s\r\n11 actionable tasks: 11 executed\r\n```\r\n\r\nSource code:\r\nhttps://github.com/C-Otto/gradle-integration-tests\r\n\r\n\r\n  [1]: https://github.com/C-Otto/gradle-integration-tests/commit/1d78291ba107031f3d9446683e3db124bba81ebe","title":"Gradle: make integration test source module work","body":"<p>I have a simple multi-module Java Gradle project. The unit tests run fine, but I'm unable to add a working source set for integration tests. The tests are compiled (I see compile errors), and appear in the console output, but they are not executed (the existing tests should fail). </p>\n\n<p>Furthermore, in IntelliJ IDEA, the source set is shown, but not as a test module.\nI see the \"run\" icons in the gutter next to the tests, but running a test gives\n<code>&gt; No tests found for given includes: [de.cotto.integration_tests.moduletwo.ModuleTest.name](filter.includeTestsMatching)</code>.</p>\n\n<p>My questions:</p>\n\n<ul>\n<li>What do I need to change in order to make the test(s) run (using <code>./gradlew build</code>)?</li>\n<li>How can I make IntelliJ IDEA pick up the source set as a \"test\" module?</li>\n<li>How can I run the tests from IntelliJ IDEA?</li>\n<li>Bonus points for Java 14 with modules (<a href=\"https://github.com/C-Otto/gradle-integration-tests/commit/1d78291ba107031f3d9446683e3db124bba81ebe\" rel=\"noreferrer\">commit</a>)</li>\n</ul>\n\n<p>Source set definition:</p>\n\n<pre><code>sourceSets {\n    integrationTest {\n        compileClasspath += sourceSets.main.output\n        runtimeClasspath += sourceSets.main.output\n    }\n}\n\nconfigurations {\n    integrationTestImplementation.extendsFrom testImplementation\n    integrationTestRuntimeOnly.extendsFrom runtimeOnly\n}\n\ntask integrationTest(type: Test) {\n    description = 'Runs integration tests.'\n    group = 'verification'\n\n    testClassesDirs = sourceSets.integrationTest.output.classesDirs\n    classpath = sourceSets.integrationTest.runtimeClasspath\n    shouldRunAfter test\n}\n\ncheck.dependsOn integrationTest\n</code></pre>\n\n<ul>\n<li>Gradle 6.4.1</li>\n<li>JUnit 5</li>\n<li>Java 14 and 11</li>\n<li>With and without Java modules (JPMS, Jigsaw)</li>\n<li>IntelliJ IDEA 2020.1.2</li>\n</ul>\n\n<pre><code>$ ./gradlew clean check --no-build-cache --console=plain\n&gt; Task :module-one:clean\n&gt; Task :module-two:clean\n&gt; Task :module-two:processResources NO-SOURCE\n&gt; Task :module-two:processTestResources NO-SOURCE\n&gt; Task :module-two:processIntegrationTestResources NO-SOURCE\n&gt; Task :module-one:compileJava\n&gt; Task :module-one:processResources NO-SOURCE\n&gt; Task :module-one:classes\n&gt; Task :module-two:compileJava\n&gt; Task :module-two:classes\n&gt; Task :module-one:compileTestJava\n&gt; Task :module-one:processTestResources NO-SOURCE\n&gt; Task :module-one:testClasses\n&gt; Task :module-two:compileTestJava\n&gt; Task :module-two:testClasses\n&gt; Task :module-two:compileIntegrationTestJava\n&gt; Task :module-two:integrationTestClasses\n&gt; Task :module-one:test\n&gt; Task :module-one:check\n&gt; Task :module-one:jar\n&gt; Task :module-two:test\n&gt; Task :module-two:integrationTest &lt;-- What happens here? Why doesn't the test fail?\n&gt; Task :module-two:check\n\nBUILD SUCCESSFUL in 2s\n11 actionable tasks: 11 executed\n</code></pre>\n\n<p>Source code:\n<a href=\"https://github.com/C-Otto/gradle-integration-tests\" rel=\"noreferrer\">https://github.com/C-Otto/gradle-integration-tests</a></p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":320962,"reputation":31681,"user_id":639520,"accept_rate":72,"display_name":"E-Riz"},"score":0,"creation_date":1676298572,"post_id":75435896,"comment_id":133103628,"body_markdown":"Do you not have control over the class with `@ConfigurationProperties` and `@ConditionalOnProperty`?","body":"Do you not have control over the class with <code>@ConfigurationProperties</code> and <code>@ConditionalOnProperty</code>?"},{"owner":{"account_id":14300904,"reputation":156,"user_id":10330261,"display_name":"Wafa"},"score":0,"creation_date":1676299911,"post_id":75435896,"comment_id":133104157,"body_markdown":"Yes exactly the configuration class is in a third party library, and in my current project, the properties shall be organized in a specific way where the &quot;b&quot; should be under the property &quot;a&quot;, I could exclude the configuration class in the library and create it again with @ConditionalOnProperty(prefix = &quot;a.b&quot;) But wanted to know is there a feature in spring to rewrite a property name","body":"Yes exactly the configuration class is in a third party library, and in my current project, the properties shall be organized in a specific way where the &quot;b&quot; should be under the property &quot;a&quot;, I could exclude the configuration class in the library and create it again with @ConditionalOnProperty(prefix = &quot;a.b&quot;) But wanted to know is there a feature in spring to rewrite a property name"},{"owner":{"account_id":320962,"reputation":31681,"user_id":639520,"accept_rate":72,"display_name":"E-Riz"},"score":0,"creation_date":1676307845,"post_id":75435896,"comment_id":133106888,"body_markdown":"`@ConditionalOnProperty` requires a `name`, not just a prefix. It can&#39;t match a prefix, it has to be told a specific property to match. Did you leave something out when you adapted the code for this question?","body":"<code>@ConditionalOnProperty</code> requires a <code>name</code>, not just a prefix. It can&#39;t match a prefix, it has to be told a specific property to match. Did you leave something out when you adapted the code for this question?"},{"owner":{"account_id":14300904,"reputation":156,"user_id":10330261,"display_name":"Wafa"},"score":0,"creation_date":1676384414,"post_id":75435896,"comment_id":133123252,"body_markdown":"yes, true I have missed name property","body":"yes, true I have missed name property"}],"answers":[{"tags":[],"owner":{"account_id":2346611,"reputation":1008,"user_id":2056697,"accept_rate":94,"display_name":"Thomas"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676300650,"creation_date":1676300650,"answer_id":75437631,"question_id":75435896,"body_markdown":"So your configuration class and properties files cannot be adapted. You can rename it at runtime in your `application.yml` :\r\n\r\n## BProperties\r\n``` java\r\n@ConfigurationProperties(prefix =&quot;b&quot;)\r\npublic class BProperties {\r\n    private String c;\r\n    private String d;\r\n}\r\n```\r\nAnd this properties file :\r\n\r\n## my-props-file.properties\r\n``` properties\r\na.b.c=value1\r\na.b.d=value2\r\n```\r\n\r\nYou can rename the properties at runtime in your `application.yml` (define in classpath under src/main/ressources/) :\r\n## application.yml \r\n``` yml\r\nb:\r\n  c: ${a.b.c}\r\n  d: ${a.b.d}\r\n```\r\n\r\n","title":"Rewrite a property name in Spring Boot","body":"<p>So your configuration class and properties files cannot be adapted. You can rename it at runtime in your <code>application.yml</code> :</p>\n<h2>BProperties</h2>\n<pre class=\"lang-java prettyprint-override\"><code>@ConfigurationProperties(prefix =&quot;b&quot;)\npublic class BProperties {\n    private String c;\n    private String d;\n}\n</code></pre>\n<p>And this properties file :</p>\n<h2>my-props-file.properties</h2>\n<pre><code>a.b.c=value1\na.b.d=value2\n</code></pre>\n<p>You can rename the properties at runtime in your <code>application.yml</code> (define in classpath under src/main/ressources/) :</p>\n<h2>application.yml</h2>\n<pre class=\"lang-yaml prettyprint-override\"><code>b:\n  c: ${a.b.c}\n  d: ${a.b.d}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":320962,"reputation":31681,"user_id":639520,"accept_rate":72,"display_name":"E-Riz"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1676310515,"creation_date":1676308484,"answer_id":75439119,"question_id":75435896,"body_markdown":"You can (probably, depending on the exact context of the config class you&#39;re working with) use YAML anchor and alias to meet this need. YAML anchors are similar to anchors (`&lt;a&gt;` tags) in HTML; you mark some part of the yaml with an anchor, then refer to it with a reference somewhere else. The reference is an _alias_ to the anchored value.\r\n\r\nIn your example, assuming the conditional config class is something like this:\r\n```java\r\n@Configuration\r\n@ConditionalOnProperty(prefix = &quot;b&quot;, name = &quot;foo&quot;)\r\n@ConfigurationProperties(prefix =&quot;b&quot;)\r\n@Getter @Setter\r\npublic class SO_75435896 {\r\n\r\n\tprivate String foo;\r\n}\r\n```\r\n\r\nYou can have a YAML config like this to populate it:\r\n```yaml\r\na.b: &amp;b-alias\r\n  foo: bar\r\n\r\nb: *b-alias\r\n```\r\n\r\nThe anchor name (`b-alias` in my example) can be whatever you want, there&#39;s nothing special about that name I chose.\r\n\r\n---\r\n\r\nIf you want to read more about YAML anchors, [this is a decent explanation][1]. It&#39;s part of Bitbucket documentation, but provides a pretty good general-purpose explanation with examples. There are, of course, plenty of other web pages about YAML anchors.\r\n\r\n\r\n  [1]: https://support.atlassian.com/bitbucket-cloud/docs/yaml-anchors/","title":"Rewrite a property name in Spring Boot","body":"<p>You can (probably, depending on the exact context of the config class you're working with) use YAML anchor and alias to meet this need. YAML anchors are similar to anchors (<code>&lt;a&gt;</code> tags) in HTML; you mark some part of the yaml with an anchor, then refer to it with a reference somewhere else. The reference is an <em>alias</em> to the anchored value.</p>\n<p>In your example, assuming the conditional config class is something like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\n@ConditionalOnProperty(prefix = &quot;b&quot;, name = &quot;foo&quot;)\n@ConfigurationProperties(prefix =&quot;b&quot;)\n@Getter @Setter\npublic class SO_75435896 {\n\n    private String foo;\n}\n</code></pre>\n<p>You can have a YAML config like this to populate it:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>a.b: &amp;b-alias\n  foo: bar\n\nb: *b-alias\n</code></pre>\n<p>The anchor name (<code>b-alias</code> in my example) can be whatever you want, there's nothing special about that name I chose.</p>\n<hr />\n<p>If you want to read more about YAML anchors, <a href=\"https://support.atlassian.com/bitbucket-cloud/docs/yaml-anchors/\" rel=\"nofollow noreferrer\">this is a decent explanation</a>. It's part of Bitbucket documentation, but provides a pretty good general-purpose explanation with examples. There are, of course, plenty of other web pages about YAML anchors.</p>\n"}],"owner":{"account_id":14300904,"reputation":156,"user_id":10330261,"display_name":"Wafa"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":468,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":75439119,"answer_count":2,"score":2,"last_activity_date":1676384447,"creation_date":1676291358,"question_id":75435896,"body_markdown":"I have a library that has a configuration class with `@ConfigurationProperties(prefix =&quot;b&quot;)` and `@ConditionalOnProperty(prefix = &quot;b&quot;, name= &quot;c&quot;)`, in the project where I included this configuration class, the property &quot;b&quot; is nested under a property called &quot;a&quot; instead of being at the root level of the properties.yml, with this the property &quot;b&quot; name is &quot;a.b&quot; and the configuration class will get ignored, the property name needs to be kept &quot;a.b&quot; in the property file, is there a way to tell spring boot to ignore the &quot;a&quot; prefix for the property &quot;b&quot; or to rewrite the property name from &quot;a.b&quot; to &quot;b&quot; after application.yml gets loaded ?","title":"Rewrite a property name in Spring Boot","body":"<p>I have a library that has a configuration class with <code>@ConfigurationProperties(prefix =&quot;b&quot;)</code> and <code>@ConditionalOnProperty(prefix = &quot;b&quot;, name= &quot;c&quot;)</code>, in the project where I included this configuration class, the property &quot;b&quot; is nested under a property called &quot;a&quot; instead of being at the root level of the properties.yml, with this the property &quot;b&quot; name is &quot;a.b&quot; and the configuration class will get ignored, the property name needs to be kept &quot;a.b&quot; in the property file, is there a way to tell spring boot to ignore the &quot;a&quot; prefix for the property &quot;b&quot; or to rewrite the property name from &quot;a.b&quot; to &quot;b&quot; after application.yml gets loaded ?</p>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":1894536,"reputation":54819,"user_id":1711796,"accept_rate":100,"display_name":"Bernhard Barker"},"score":2,"creation_date":1385227824,"post_id":20165485,"comment_id":30060108,"body_markdown":"If you think it should be returning true, your regex is not doing what you think it&#39;s doing. Please tell us what you think it should be doing so we can tell you where you&#39;ve gone wrong.","body":"If you think it should be returning true, your regex is not doing what you think it&#39;s doing. Please tell us what you think it should be doing so we can tell you where you&#39;ve gone wrong."},{"owner":{"account_id":197547,"reputation":2250,"user_id":441692,"accept_rate":100,"display_name":"Sanchit"},"score":0,"creation_date":1385228101,"post_id":20165485,"comment_id":30060210,"body_markdown":"Another wild guess here. But are you meaning to use `^` to mean the begining of the line? If so you are doing it wrong.","body":"Another wild guess here. But are you meaning to use <code>^</code> to mean the begining of the line? If so you are doing it wrong."},{"owner":{"account_id":3248402,"reputation":2386,"user_id":2739334,"accept_rate":64,"display_name":"Pwnstar"},"score":0,"creation_date":1499949935,"post_id":20165485,"comment_id":77134481,"body_markdown":"ever tried &#39;if(matcher.find() == true) return matcher.group(0);&#39;","body":"ever tried &#39;if(matcher.find() == true) return matcher.group(0);&#39;"},{"owner":{"account_id":2833171,"reputation":577,"user_id":2434307,"display_name":"Jose Quijada"},"score":0,"creation_date":1570327813,"post_id":20165485,"comment_id":102877325,"body_markdown":"This behavior of Java&#39;s `String.matches()` does not seem intuitive because in Perl you can do `perl -e &#39;$target_str = &quot;the string&quot;; print $target_str =~ /the/&#39;` and the match is positive. The command returns 1, which equates to `true`. This is something that always gets me in Java and I have to keep referring to support to remember how `String.matches()` works in Java.","body":"This behavior of Java&#39;s <code>String.matches()</code> does not seem intuitive because in Perl you can do <code>perl -e &#39;$target_str = &quot;the string&quot;; print $target_str =~ &#47;the&#47;&#39;</code> and the match is positive. The command returns 1, which equates to <code>true</code>. This is something that always gets me in Java and I have to keep referring to support to remember how <code>String.matches()</code> works in Java."}],"answers":[{"tags":[],"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"comment_count":0,"down_vote_count":0,"up_vote_count":19,"is_accepted":true,"score":19,"last_activity_date":1676383889,"creation_date":1385227913,"answer_id":20165570,"question_id":20165485,"body_markdown":"`matches` returns `true` only if regex matches *entire string*. \r\n\r\nIn your case your regex represents only *one* character that is not `a-z`, `A-Z` or `.`. \r\n\r\nI suspect that you want to check if string *contains* one of these special characters which you described in regex. In that case surround your regex with `.*` to let regex match entire string. Oh, and you don&#39;t have to escape `.` inside character class `[.]`.\r\n\r\n    if (&quot;test%$@*)$(%&quot;.matches(&quot;.*[^a-zA-Z.].*&quot;)) {\r\n        //string contains character that is not in rage a-z, A-Z, or &#39;.&#39;\r\n\r\n---\r\nBUT if you care about performance you can use `Matcher#find()` method which \r\n\r\n1. can return `true` the moment it will find substring containing match for regex. This way application will not need to check rest of the text, which saves us more time the longer remaining text is.\r\n\r\n2. Will not force us to constantly build Pattern object each time `String#matches(regex)` is called, because we can create Pattern once and reuse it with different data.\r\n\r\nDemo:\r\n\r\n```\r\nPattern p = Pattern.compile(&quot;[^a-zA-Z\\\\.]&quot;);\r\n\r\nMatcher m = p.matcher(&quot;test%$@*)$(%&quot;);\r\nif(m.find())\r\n    System.exit(0);\r\n\r\n//OR with Matcher inlined since we don&#39;t really need that variable\r\nif (p.matcher(&quot;test%$@*)$(%&quot;).find())\r\n    System.exit(0);\r\n```","title":"Why is String.matches returning false in Java?","body":"<p><code>matches</code> returns <code>true</code> only if regex matches <em>entire string</em>.</p>\n<p>In your case your regex represents only <em>one</em> character that is not <code>a-z</code>, <code>A-Z</code> or <code>.</code>.</p>\n<p>I suspect that you want to check if string <em>contains</em> one of these special characters which you described in regex. In that case surround your regex with <code>.*</code> to let regex match entire string. Oh, and you don't have to escape <code>.</code> inside character class <code>[.]</code>.</p>\n<pre><code>if (&quot;test%$@*)$(%&quot;.matches(&quot;.*[^a-zA-Z.].*&quot;)) {\n    //string contains character that is not in rage a-z, A-Z, or '.'\n</code></pre>\n<hr />\n<p>BUT if you care about performance you can use <code>Matcher#find()</code> method which</p>\n<ol>\n<li><p>can return <code>true</code> the moment it will find substring containing match for regex. This way application will not need to check rest of the text, which saves us more time the longer remaining text is.</p>\n</li>\n<li><p>Will not force us to constantly build Pattern object each time <code>String#matches(regex)</code> is called, because we can create Pattern once and reuse it with different data.</p>\n</li>\n</ol>\n<p>Demo:</p>\n<pre><code>Pattern p = Pattern.compile(&quot;[^a-zA-Z\\\\.]&quot;);\n\nMatcher m = p.matcher(&quot;test%$@*)$(%&quot;);\nif(m.find())\n    System.exit(0);\n\n//OR with Matcher inlined since we don't really need that variable\nif (p.matcher(&quot;test%$@*)$(%&quot;).find())\n    System.exit(0);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2603307,"reputation":88305,"user_id":2255089,"display_name":"Casimir et Hippolyte"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1647984846,"creation_date":1385227926,"answer_id":20165575,"question_id":20165485,"body_markdown":"You obtain always false because the `matches()` method returns `true` only when the pattern matches the full string.\r\n\r\n","title":"Why is String.matches returning false in Java?","body":"<p>You obtain always false because the <code>matches()</code> method returns <code>true</code> only when the pattern matches the full string.</p>\n"},{"comments":[{"owner":{"account_id":192576,"reputation":33947,"user_id":433790,"display_name":"ridgerunner"},"score":0,"creation_date":1385233290,"post_id":20165752,"comment_id":30061864,"body_markdown":"Accurate, concise and complete. Nice job. +1","body":"Accurate, concise and complete. Nice job. +1"}],"tags":[],"owner":{"account_id":701757,"reputation":121151,"user_id":592139,"display_name":"Ian Roberts"},"comment_count":1,"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1385228961,"creation_date":1385228961,"answer_id":20165752,"question_id":20165485,"body_markdown":"`x.matches(y)` is equivalent to\r\n\r\n    Pattern.compile(y).matcher(x).matches()\r\n\r\nand requires the whole string `x` to match the regex `y`.  If you just want to know if there is _some substring_ of `x` that matches `y` then you need to use `find()` instead of `matches()`:\r\n\r\n    if(Pattern.compile(&quot;[^a-zA-Z.]&quot;).matcher(&quot;test%$@*)$(%&quot;).find())\r\n        System.exit(0);\r\n\r\nAlternatively you could reverse the sense of the test:\r\n\r\n    if(!&quot;test%$@*)$(%&quot;.matches(&quot;[a-zA-Z.]*&quot;))\r\n\r\nby providing a pattern that matches the strings that are allowed rather than the characters that aren&#39;t, and then seeing whether the test string _fails_ to match this pattern.","title":"Why is String.matches returning false in Java?","body":"<p><code>x.matches(y)</code> is equivalent to</p>\n\n<pre><code>Pattern.compile(y).matcher(x).matches()\n</code></pre>\n\n<p>and requires the whole string <code>x</code> to match the regex <code>y</code>.  If you just want to know if there is <em>some substring</em> of <code>x</code> that matches <code>y</code> then you need to use <code>find()</code> instead of <code>matches()</code>:</p>\n\n<pre><code>if(Pattern.compile(\"[^a-zA-Z.]\").matcher(\"test%$@*)$(%\").find())\n    System.exit(0);\n</code></pre>\n\n<p>Alternatively you could reverse the sense of the test:</p>\n\n<pre><code>if(!\"test%$@*)$(%\".matches(\"[a-zA-Z.]*\"))\n</code></pre>\n\n<p>by providing a pattern that matches the strings that are allowed rather than the characters that aren't, and then seeing whether the test string <em>fails</em> to match this pattern.</p>\n"}],"owner":{"account_id":295003,"reputation":24939,"user_id":599184,"accept_rate":78,"display_name":"Leo Jiang"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":17007,"favorite_count":0,"down_vote_count":1,"up_vote_count":10,"accepted_answer_id":20165570,"answer_count":3,"score":9,"last_activity_date":1676383889,"creation_date":1385227516,"question_id":20165485,"body_markdown":"    if(&quot;test%$@*)$(%&quot;.matches(&quot;[^a-zA-Z\\\\.]&quot;))\r\n    \tSystem.exit(0);\r\n\r\n    if(&quot;te/st.txt&quot;.matches(&quot;[^a-zA-Z\\\\.]&quot;))\r\n    \tSystem.exit(0);\r\n\r\nThe program isn&#39;t exiting even though the regexes should be returning true. What&#39;s wrong with the code?","title":"Why is String.matches returning false in Java?","body":"<pre><code>if(\"test%$@*)$(%\".matches(\"[^a-zA-Z\\\\.]\"))\n    System.exit(0);\n\nif(\"te/st.txt\".matches(\"[^a-zA-Z\\\\.]\"))\n    System.exit(0);\n</code></pre>\n\n<p>The program isn't exiting even though the regexes should be returning true. What's wrong with the code?</p>\n"},{"tags":["java","selenium","selenium-webdriver"],"comments":[{"owner":{"account_id":10049107,"reputation":186647,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"score":1,"creation_date":1675332410,"post_id":75321100,"comment_id":132907481,"body_markdown":"Why 2 sets 1) version: &#39;4.3.0&#39;/java.version: &#39;11.0.15&#39; and 2) version: &#39;3.141.59&#39;/java.version: &#39;11.0.17&#39;? Are you using SeleniumGrid?","body":"Why 2 sets 1) version: &#39;4.3.0&#39;/java.version: &#39;11.0.15&#39; and 2) version: &#39;3.141.59&#39;/java.version: &#39;11.0.17&#39;? Are you using SeleniumGrid?"},{"owner":{"account_id":10621254,"reputation":2629,"user_id":7822301,"accept_rate":56,"display_name":"Zakaria Shahed"},"score":0,"creation_date":1675337553,"post_id":75321100,"comment_id":132909234,"body_markdown":"share your dependency pom file, If its a maven project","body":"share your dependency pom file, If its a maven project"},{"owner":{"account_id":6235501,"reputation":3140,"user_id":4850949,"accept_rate":57,"display_name":"not2savvy"},"score":0,"creation_date":1675339853,"post_id":75321100,"comment_id":132909959,"body_markdown":"@ZakariaShahed I did, please check.","body":"@ZakariaShahed I did, please check."},{"owner":{"account_id":6235501,"reputation":3140,"user_id":4850949,"accept_rate":57,"display_name":"not2savvy"},"score":0,"creation_date":1675340058,"post_id":75321100,"comment_id":132910029,"body_markdown":"@undetectedSelenium I must admit I have no idea. 2) is from pom, but 1) I&#39;m not sure - is it the Chrome browser&#39;s version? Tests run on a Linux machine that connects to a Chrome in docker (selenium/standalone-chrome). No grid.","body":"@undetectedSelenium I must admit I have no idea. 2) is from pom, but 1) I&#39;m not sure - is it the Chrome browser&#39;s version? Tests run on a Linux machine that connects to a Chrome in docker (selenium/standalone-chrome). No grid."},{"owner":{"account_id":6235501,"reputation":3140,"user_id":4850949,"accept_rate":57,"display_name":"not2savvy"},"score":0,"creation_date":1675348127,"post_id":75321100,"comment_id":132913012,"body_markdown":"I&#39;ve updated Selenium to version 4.8.0 to see if that fixes it, but I&#39;m still getting these exceptions.","body":"I&#39;ve updated Selenium to version 4.8.0 to see if that fixes it, but I&#39;m still getting these exceptions."}],"answers":[{"tags":[],"owner":{"account_id":6235501,"reputation":3140,"user_id":4850949,"accept_rate":57,"display_name":"not2savvy"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1676383534,"creation_date":1675696705,"answer_id":75363193,"question_id":75321100,"body_markdown":"My assumption is that the error message `Expected to read a START_MAP but instead have: END` is caused by a page that was loaded okay, but then changed (due to some JavaScript perhaps), and Selenium&#39;s internal map does match the DOM any more. It actually looks like it&#39;s suddenly turned into an empty page. So this is may the same cause as with the `StaleElementReferenceException`, but it happens even before the element has been found. \r\n\r\nOr maybe it&#39;s something completely different.\r\n\r\nHowever, while I haven&#39;t really found out the root cause, I have found a way to successfully work around the problem. When the `WebDriverException` occurs, it turned out to be a successful approach to start over from loading the page.\r\n\r\nI therefore created a wrapper function that would `try` and `catch` the `WebDriverException`, then wait a second and try again. In my tests, it was always enough to retry just once.\r\n\r\nSimple example:\r\n````\r\n\tpublic void normalLogin() {\r\n    \tdriver.get(getBaseUrl() + location);\r\n\t    driver.findElement(By.id(&quot;password&quot;).sendKeys(getPassword());\r\n\t    driver.findElement(By.id(&quot;authenticateButton&quot;).click();\r\n    }\r\n\r\n    public void stableLogin() {\r\n\t\ttry {\r\n\t\t\tnormalLogin();\r\n\t\t}\r\n\t\tcatch (WebDriverException driverE) {\r\n\t\t\tSystem.err.println(&quot;Caught a WebDriverException, retrying&quot;);\r\n\t\t\t// wait a little \r\n\t\t\ttry {\r\n\t             Thread.sleep(1000);\r\n\t        } catch (final InterruptedException e) {\r\n\t        \t Thread.currentThread().interrupt();\r\n\t        }\r\n\t\t\t// then try again\r\n            normalLogin();\r\n\t\t}\r\n    }\r\n````\r\n\r\nNote that the second attempt won&#39;t be caught any more, because I haven&#39;t had a case where repeating only once wouldn&#39;t haven been enough.","title":"How to fix sporadic org.openqa.selenium.WebDriverException: Expected to read a START_MAP but instead have: END","body":"<p>My assumption is that the error message <code>Expected to read a START_MAP but instead have: END</code> is caused by a page that was loaded okay, but then changed (due to some JavaScript perhaps), and Selenium's internal map does match the DOM any more. It actually looks like it's suddenly turned into an empty page. So this is may the same cause as with the <code>StaleElementReferenceException</code>, but it happens even before the element has been found.</p>\n<p>Or maybe it's something completely different.</p>\n<p>However, while I haven't really found out the root cause, I have found a way to successfully work around the problem. When the <code>WebDriverException</code> occurs, it turned out to be a successful approach to start over from loading the page.</p>\n<p>I therefore created a wrapper function that would <code>try</code> and <code>catch</code> the <code>WebDriverException</code>, then wait a second and try again. In my tests, it was always enough to retry just once.</p>\n<p>Simple example:</p>\n<pre><code>    public void normalLogin() {\n        driver.get(getBaseUrl() + location);\n        driver.findElement(By.id(&quot;password&quot;).sendKeys(getPassword());\n        driver.findElement(By.id(&quot;authenticateButton&quot;).click();\n    }\n\n    public void stableLogin() {\n        try {\n            normalLogin();\n        }\n        catch (WebDriverException driverE) {\n            System.err.println(&quot;Caught a WebDriverException, retrying&quot;);\n            // wait a little \n            try {\n                 Thread.sleep(1000);\n            } catch (final InterruptedException e) {\n                 Thread.currentThread().interrupt();\n            }\n            // then try again\n            normalLogin();\n        }\n    }\n</code></pre>\n<p>Note that the second attempt won't be caught any more, because I haven't had a case where repeating only once wouldn't haven been enough.</p>\n"}],"owner":{"account_id":6235501,"reputation":3140,"user_id":4850949,"accept_rate":57,"display_name":"not2savvy"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":180,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75363193,"answer_count":1,"score":1,"last_activity_date":1676383534,"creation_date":1675330395,"question_id":75321100,"body_markdown":"In our Selenium tests, we occasionally get\r\n````\r\norg.openqa.selenium.WebDriverException: \r\nExpected to read a START_MAP but instead have: END. Last 0 characters read: \r\n````\r\nThese exceptions occur sporadically in a random single test case among many. \r\n\r\nWhat causes this exception and how to fix it?\r\n\r\n----\r\nAdditional info from the error message that may be relevant:\r\n````\r\nBuild info: version: &#39;4.3.0&#39;, revision: &#39;a4995e2c09*&#39;\r\nSystem info: host: &#39;chrome.test.domain&#39;, ip: &#39;172.17.0.5&#39;, os.name: &#39;Linux&#39;, os.arch: \r\n&#39;amd64&#39;, os.version: &#39;5.4.0-132-generic&#39;, java.version: &#39;11.0.15&#39;\r\nDriver info: driver.version: unknown\r\nBuild info: version: &#39;3.141.59&#39;, revision: &#39;e82be7d358&#39;, time: &#39;2018-11-14T08:17:03&#39;\r\nSystem info: host: &#39;test-server&#39;, ip: &#39;127.0.1.1&#39;, os.name: &#39;Linux&#39;, os.arch: &#39;amd64&#39;, \r\nos.version: &#39;5.4.0-132-generic&#39;, java.version: &#39;11.0.17&#39;\r\nDriver info: org.openqa.selenium.remote.RemoteWebDriver\r\nCapabilities {acceptInsecureCerts: false, browserName: chrome, browserVersion: \r\n103.0.5060.53, chrome: {chromedriverVersion: 103.0.5060.53 (a1711811edd7..., \r\nuserDataDir: /tmp/.com.google.Chrome.rGHR0n}, goog:chromeOptions: {debuggerAddress: \r\nlocalhost:42853}, javascriptEnabled: true, networkConnectionEnabled: false, \r\npageLoadStrategy: normal, platform: LINUX, platformName: LINUX, proxy: Proxy(), se:cdp: \r\nws://172.17.0.5:4444/sessio..., se:cdpVersion: 103.0.5060.53, se:vnc: \r\nws://172.17.0.5:4444/sessio..., se:vncEnabled: true, se:vncLocalAddress: \r\nws://172.17.0.5:7900, setWindowRect: true, strictFileInteractability: false, timeouts: \r\n{implicit: 0, pageLoad: 300000, script: 30000}, unhandledPromptBehavior: dismiss and \r\nnotify, webauthn:extension:credBlob: true, webauthn:extension:largeBlob: true, \r\nwebauthn:virtualAuthenticators: true}\r\n````\r\nTesting dependencies in pom.xml (note that originally I was using version 3.141.59, now updated to 3.8.0 because of [this issue](https://github.com/SeleniumHQ/docker-selenium/issues/1507), but that didn&#39;t help):\r\n````\r\n      &lt;!-- Dependencies for testing. --&gt;\r\n      &lt;dependency&gt;\r\n        &lt;groupId&gt;junit&lt;/groupId&gt;\r\n        &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n        &lt;version&gt;[4.8.0,5.0.0)&lt;/version&gt;\r\n        &lt;scope&gt;test&lt;/scope&gt;\r\n      &lt;/dependency&gt;\r\n      &lt;dependency&gt;\r\n        &lt;groupId&gt;org.assertj&lt;/groupId&gt;\r\n        &lt;artifactId&gt;assertj-core&lt;/artifactId&gt;\r\n        &lt;version&gt;3.14.0&lt;/version&gt;\r\n        &lt;scope&gt;test&lt;/scope&gt;\r\n      &lt;/dependency&gt;\r\n      &lt;dependency&gt;\r\n        &lt;groupId&gt;org.mockito&lt;/groupId&gt;\r\n        &lt;artifactId&gt;mockito-all&lt;/artifactId&gt;\r\n        &lt;version&gt;1.8.5&lt;/version&gt;\r\n        &lt;scope&gt;test&lt;/scope&gt;\r\n      &lt;/dependency&gt;\r\n      &lt;dependency&gt;\r\n        &lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\r\n        &lt;artifactId&gt;httpclient&lt;/artifactId&gt;\r\n        &lt;version&gt;4.1.1&lt;/version&gt;\r\n        &lt;scope&gt;test&lt;/scope&gt;\r\n      &lt;/dependency&gt;\r\n      &lt;dependency&gt;\r\n        &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n        &lt;artifactId&gt;slf4j-simple&lt;/artifactId&gt;\r\n        &lt;version&gt;1.6.6&lt;/version&gt;\r\n        &lt;scope&gt;test&lt;/scope&gt;\r\n      &lt;/dependency&gt;\r\n      &lt;dependency&gt;\r\n        &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n        &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\r\n        &lt;version&gt;3.8.0&lt;/version&gt;\r\n        &lt;scope&gt;test&lt;/scope&gt;\r\n      &lt;/dependency&gt;\r\n      &lt;dependency&gt;\r\n        &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n        &lt;artifactId&gt;selenium-support&lt;/artifactId&gt;\r\n        &lt;version&gt;3.8.0&lt;/version&gt;\r\n        &lt;scope&gt;test&lt;/scope&gt;\r\n      &lt;/dependency&gt;\r\n````","title":"How to fix sporadic org.openqa.selenium.WebDriverException: Expected to read a START_MAP but instead have: END","body":"<p>In our Selenium tests, we occasionally get</p>\n<pre><code>org.openqa.selenium.WebDriverException: \nExpected to read a START_MAP but instead have: END. Last 0 characters read: \n</code></pre>\n<p>These exceptions occur sporadically in a random single test case among many.</p>\n<p>What causes this exception and how to fix it?</p>\n<hr />\n<p>Additional info from the error message that may be relevant:</p>\n<pre><code>Build info: version: '4.3.0', revision: 'a4995e2c09*'\nSystem info: host: 'chrome.test.domain', ip: '172.17.0.5', os.name: 'Linux', os.arch: \n'amd64', os.version: '5.4.0-132-generic', java.version: '11.0.15'\nDriver info: driver.version: unknown\nBuild info: version: '3.141.59', revision: 'e82be7d358', time: '2018-11-14T08:17:03'\nSystem info: host: 'test-server', ip: '127.0.1.1', os.name: 'Linux', os.arch: 'amd64', \nos.version: '5.4.0-132-generic', java.version: '11.0.17'\nDriver info: org.openqa.selenium.remote.RemoteWebDriver\nCapabilities {acceptInsecureCerts: false, browserName: chrome, browserVersion: \n103.0.5060.53, chrome: {chromedriverVersion: 103.0.5060.53 (a1711811edd7..., \nuserDataDir: /tmp/.com.google.Chrome.rGHR0n}, goog:chromeOptions: {debuggerAddress: \nlocalhost:42853}, javascriptEnabled: true, networkConnectionEnabled: false, \npageLoadStrategy: normal, platform: LINUX, platformName: LINUX, proxy: Proxy(), se:cdp: \nws://172.17.0.5:4444/sessio..., se:cdpVersion: 103.0.5060.53, se:vnc: \nws://172.17.0.5:4444/sessio..., se:vncEnabled: true, se:vncLocalAddress: \nws://172.17.0.5:7900, setWindowRect: true, strictFileInteractability: false, timeouts: \n{implicit: 0, pageLoad: 300000, script: 30000}, unhandledPromptBehavior: dismiss and \nnotify, webauthn:extension:credBlob: true, webauthn:extension:largeBlob: true, \nwebauthn:virtualAuthenticators: true}\n</code></pre>\n<p>Testing dependencies in pom.xml (note that originally I was using version 3.141.59, now updated to 3.8.0 because of <a href=\"https://github.com/SeleniumHQ/docker-selenium/issues/1507\" rel=\"nofollow noreferrer\">this issue</a>, but that didn't help):</p>\n<pre><code>      &lt;!-- Dependencies for testing. --&gt;\n      &lt;dependency&gt;\n        &lt;groupId&gt;junit&lt;/groupId&gt;\n        &lt;artifactId&gt;junit&lt;/artifactId&gt;\n        &lt;version&gt;[4.8.0,5.0.0)&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n      &lt;/dependency&gt;\n      &lt;dependency&gt;\n        &lt;groupId&gt;org.assertj&lt;/groupId&gt;\n        &lt;artifactId&gt;assertj-core&lt;/artifactId&gt;\n        &lt;version&gt;3.14.0&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n      &lt;/dependency&gt;\n      &lt;dependency&gt;\n        &lt;groupId&gt;org.mockito&lt;/groupId&gt;\n        &lt;artifactId&gt;mockito-all&lt;/artifactId&gt;\n        &lt;version&gt;1.8.5&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n      &lt;/dependency&gt;\n      &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\n        &lt;artifactId&gt;httpclient&lt;/artifactId&gt;\n        &lt;version&gt;4.1.1&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n      &lt;/dependency&gt;\n      &lt;dependency&gt;\n        &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n        &lt;artifactId&gt;slf4j-simple&lt;/artifactId&gt;\n        &lt;version&gt;1.6.6&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n      &lt;/dependency&gt;\n      &lt;dependency&gt;\n        &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n        &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\n        &lt;version&gt;3.8.0&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n      &lt;/dependency&gt;\n      &lt;dependency&gt;\n        &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n        &lt;artifactId&gt;selenium-support&lt;/artifactId&gt;\n        &lt;version&gt;3.8.0&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n      &lt;/dependency&gt;\n</code></pre>\n"},{"tags":["java","maven","gradle","build.gradle","gradlew"],"answers":[{"comments":[{"owner":{"account_id":13969752,"reputation":125,"user_id":10088682,"display_name":"Varun Hegde"},"score":1,"creation_date":1676473866,"post_id":75448969,"comment_id":133144227,"body_markdown":"Actually this got resolved. After step 1, I did clean and reload the workspace in vscode. I believe extension has done these steps underneath. Thanks for the reply though","body":"Actually this got resolved. After step 1, I did clean and reload the workspace in vscode. I believe extension has done these steps underneath. Thanks for the reply though"}],"tags":[],"owner":{"account_id":5218565,"reputation":1034,"user_id":6540591,"display_name":"User51"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1676383509,"creation_date":1676383509,"answer_id":75448969,"question_id":75443474,"body_markdown":"Assuming you did step 2 in project B, it should work (although I would like do a `clean` as well): `./gradlew clean build --refresh-dependencies`\r\n\r\nIf you do this a lot (and esp if you find it tedious to type `--refresh-dependencies` every time, you could consider marking the dependency from project A as `changing`...\r\n\r\n```groovy\r\nconfigurations.all { resolutionStrategy.cacheChangingModulesFor 0, &quot;seconds&quot; }\r\ndependencies {\r\n    implementation(&quot;com.example.group:my-artifact:3.2.1&quot;)) { changing = true }\r\n// ...\r\n}\r\n```\r\n\r\nThe `configurations` block tells Gradle how to handle changing modules, and the the `changing = true` will flag individual dependencies.  Then, every Gradle build, it will try to update the dependency.","title":"How do I reload all the dependencies from mavenLocal using gradle?","body":"<p>Assuming you did step 2 in project B, it should work (although I would like do a <code>clean</code> as well): <code>./gradlew clean build --refresh-dependencies</code></p>\n<p>If you do this a lot (and esp if you find it tedious to type <code>--refresh-dependencies</code> every time, you could consider marking the dependency from project A as <code>changing</code>...</p>\n<pre><code>configurations.all { resolutionStrategy.cacheChangingModulesFor 0, &quot;seconds&quot; }\ndependencies {\n    implementation(&quot;com.example.group:my-artifact:3.2.1&quot;)) { changing = true }\n// ...\n}\n</code></pre>\n<p>The <code>configurations</code> block tells Gradle how to handle changing modules, and the the <code>changing = true</code> will flag individual dependencies.  Then, every Gradle build, it will try to update the dependency.</p>\n"}],"owner":{"account_id":13969752,"reputation":125,"user_id":10088682,"display_name":"Varun Hegde"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":93,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75448969,"answer_count":1,"score":0,"last_activity_date":1676383509,"creation_date":1676349065,"question_id":75443474,"body_markdown":"I have Project A and B in my system and B uses some of the packages defined in A and I have added some classes in project A but i am not able to reference them in B.\r\n\r\nWhat I have tried\r\n1) Did ./gradlew publishToMavenLocal in project A\r\n2) Did ./gradlew build --refresh-dependencies\r\n\r\nCan some please advise me how can I achieve this ?\r\n\r\nThanks\r\n","title":"How do I reload all the dependencies from mavenLocal using gradle?","body":"<p>I have Project A and B in my system and B uses some of the packages defined in A and I have added some classes in project A but i am not able to reference them in B.</p>\n<p>What I have tried</p>\n<ol>\n<li>Did ./gradlew publishToMavenLocal in project A</li>\n<li>Did ./gradlew build --refresh-dependencies</li>\n</ol>\n<p>Can some please advise me how can I achieve this ?</p>\n<p>Thanks</p>\n"},{"tags":["java","automated-tests","selenide"],"comments":[{"owner":{"account_id":2976922,"reputation":9740,"user_id":2527795,"accept_rate":92,"display_name":"VLL"},"score":0,"creation_date":1676372763,"post_id":75446661,"comment_id":133119674,"body_markdown":"What programming language or framework are you using to create the tests? Are these unit tests or system tests?","body":"What programming language or framework are you using to create the tests? Are these unit tests or system tests?"},{"owner":{"account_id":27542578,"reputation":1,"user_id":21019077,"display_name":"조잔쓰"},"score":0,"creation_date":1676375574,"post_id":75446661,"comment_id":133120495,"body_markdown":"Since I make products manually, I want to make products automatically to reduce resources, so I am making them myself.\nI&#39;m working with Java &amp; Selenide.","body":"Since I make products manually, I want to make products automatically to reduce resources, so I am making them myself. I&#39;m working with Java &amp; Selenide."}],"owner":{"account_id":27542578,"reputation":1,"user_id":21019077,"display_name":"조잔쓰"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676383389,"creation_date":1676371269,"question_id":75446661,"body_markdown":"If the create product button is inactive, it should not be clicked, and after the code a is executed, the code to click the create button on the entered page is written as follows.\r\n\r\n```\r\nCreatorProductPage.createProductButton().shouldNotBe(Condition.disabled).click();\r\nCreatorAddProductPage.createClassButton().click();\r\n```\r\n\r\n\r\nBut here, if I can&#39;t find the product creation button in code a, I want to run code b. How should I do that?","title":"I&#39;m creating test automation and I want to resolve exceptions","body":"<p>If the create product button is inactive, it should not be clicked, and after the code a is executed, the code to click the create button on the entered page is written as follows.</p>\n<pre><code>CreatorProductPage.createProductButton().shouldNotBe(Condition.disabled).click();\nCreatorAddProductPage.createClassButton().click();\n</code></pre>\n<p>But here, if I can't find the product creation button in code a, I want to run code b. How should I do that?</p>\n"},{"tags":["java","android","android-fragments"],"comments":[{"owner":{"account_id":4716677,"reputation":580,"user_id":3815660,"display_name":"Yurii"},"score":1,"creation_date":1676383177,"post_id":75448865,"comment_id":133122837,"body_markdown":"remove android:onClick=&quot;Cocktails&quot;","body":"remove android:onClick=&quot;Cocktails&quot;"},{"owner":{"account_id":4716677,"reputation":580,"user_id":3815660,"display_name":"Yurii"},"score":0,"creation_date":1676384876,"post_id":75448865,"comment_id":133123419,"body_markdown":"provide more details, like screenshots, also provide where is R.id.fragment_home and where did you add HomeFragment ?","body":"provide more details, like screenshots, also provide where is R.id.fragment_home and where did you add HomeFragment ?"}],"owner":{"account_id":23694523,"reputation":11,"user_id":17718436,"display_name":"Tuan Do"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676382973,"creation_date":1676382973,"question_id":75448865,"body_markdown":"How can I open a fragment from a fragment with Cardview?  I have a list of Cardview in fragment_home.xml and when i click in one of those want to show in another fragment. \r\nHere is what i have so far.\r\n\r\nfragment_home.xml\r\n\r\n\r\n           &lt;androidx.cardview.widget.CardView\r\n            android:id=&quot;@+id/cvCocktails&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_margin=&quot;10dp&quot;\r\n            app:cardCornerRadius=&quot;15dp&quot;\r\n            app:cardElevation=&quot;0dp&quot;\r\n            app:layout_columnWeight=&quot;1&quot;\r\n            app:layout_rowWeight=&quot;1&quot;\r\n            &gt;\r\n\r\n            &lt;RelativeLayout\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;match_parent&quot;\r\n                android:onClick=&quot;Cocktails&quot;&gt;\r\n\r\n                &lt;ImageView\r\n                    android:id=&quot;@+id/ivCocktails&quot;\r\n                    android:layout_width=&quot;115dp&quot;\r\n                    android:layout_height=&quot;115dp&quot;\r\n                    android:layout_centerInParent=&quot;true&quot;\r\n                    android:contentDescription=&quot;@string/cocktail&quot;\r\n                    android:src=&quot;@drawable/cocktail_color&quot;\r\n                    android:translationY=&quot;-15dp&quot;\r\n                    tools:ignore=&quot;VisualLintBounds&quot; /&gt;\r\n\r\n                &lt;TextView\r\n                    android:layout_width=&quot;wrap_content&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:layout_below=&quot;@id/ivCocktails&quot;\r\n                    android:layout_centerHorizontal=&quot;true&quot;\r\n                    android:text=&quot;@string/cocktail&quot;\r\n                    android:textSize=&quot;20dp&quot;\r\n                    tools:ignore=&quot;SpUsage,TextSizeCheck&quot; /&gt;\r\n            &lt;/RelativeLayout&gt;\r\n\r\nHomeFragment.java\r\n\r\n    public class HomeFragment extends Fragment {\r\n    public CardView cocktails;\r\n    @Override\r\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\r\n                             Bundle savedInstanceState) {\r\n        // Inflate the layout for this fragment\r\n\r\n        View view = inflater.inflate(R.layout.fragment_home,container,false);\r\n\r\n        cocktails = view.findViewById(R.id.cvCocktails);\r\n        cocktails.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                CocktailFragment cocktailFragment = new CocktailFragment();\r\n                getActivity().getSupportFragmentManager().beginTransaction()\r\n                        .replace(R.id.fragment_home,cocktailFragment,null)\r\n                        .addToBackStack(null).commit();\r\n            }\r\n        });\r\n        return  view;\r\n    }\r\n    @Override\r\n    public void onViewCreated(@NonNull View view, @Nullable Bundle savedInstanceState) {\r\n        super.onViewCreated(view, savedInstanceState);\r\n    }\r\n  }\r\n\r\nWhen i compile the app and click on Cocktail Cardview i have this error. How can i fix this. Thank you.\r\n&gt; \r\n        E/AndroidRuntime: FATAL EXCEPTION: main\r\n        Process: com.example.barapp, PID: 11805\r\n        java.lang.IllegalStateException: Could not find method Cocktails(View) in a parent \r\n        or ancestor Context for android:onClick attribute defined on view class \r\n        android.widget.RelativeLayout\r\n        at android.view.View$DeclaredOnClickListener.resolveMethod(View.java:6302)\r\n        at android.view.View$DeclaredOnClickListener.onClick(View.java:6259)\r\n        at android.view.View.performClick(View.java:7448)\r\n        at android.view.View.performClickInternal(View.java:7425)\r\n        at android.view.View.access$3600(View.java:810)\r\n        at android.view.View$PerformClick.run(View.java:28305)\r\n        at android.os.Handler.handleCallback(Handler.java:938)\r\n        at android.os.Handler.dispatchMessage(Handler.java:99)\r\n        at android.os.Looper.loop(Looper.java:223)\r\n        at android.app.ActivityThread.main(ActivityThread.java:7656)\r\n        at java.lang.reflect.Method.invoke(Native Method)\r\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:592)\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:947)","title":"Open fragment from a fragment with cardview","body":"<p>How can I open a fragment from a fragment with Cardview?  I have a list of Cardview in fragment_home.xml and when i click in one of those want to show in another fragment.\nHere is what i have so far.</p>\n<p>fragment_home.xml</p>\n<pre><code>       &lt;androidx.cardview.widget.CardView\n        android:id=&quot;@+id/cvCocktails&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_margin=&quot;10dp&quot;\n        app:cardCornerRadius=&quot;15dp&quot;\n        app:cardElevation=&quot;0dp&quot;\n        app:layout_columnWeight=&quot;1&quot;\n        app:layout_rowWeight=&quot;1&quot;\n        &gt;\n\n        &lt;RelativeLayout\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;match_parent&quot;\n            android:onClick=&quot;Cocktails&quot;&gt;\n\n            &lt;ImageView\n                android:id=&quot;@+id/ivCocktails&quot;\n                android:layout_width=&quot;115dp&quot;\n                android:layout_height=&quot;115dp&quot;\n                android:layout_centerInParent=&quot;true&quot;\n                android:contentDescription=&quot;@string/cocktail&quot;\n                android:src=&quot;@drawable/cocktail_color&quot;\n                android:translationY=&quot;-15dp&quot;\n                tools:ignore=&quot;VisualLintBounds&quot; /&gt;\n\n            &lt;TextView\n                android:layout_width=&quot;wrap_content&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:layout_below=&quot;@id/ivCocktails&quot;\n                android:layout_centerHorizontal=&quot;true&quot;\n                android:text=&quot;@string/cocktail&quot;\n                android:textSize=&quot;20dp&quot;\n                tools:ignore=&quot;SpUsage,TextSizeCheck&quot; /&gt;\n        &lt;/RelativeLayout&gt;\n</code></pre>\n<p>HomeFragment.java</p>\n<pre><code>public class HomeFragment extends Fragment {\npublic CardView cocktails;\n@Override\npublic View onCreateView(LayoutInflater inflater, ViewGroup container,\n                         Bundle savedInstanceState) {\n    // Inflate the layout for this fragment\n\n    View view = inflater.inflate(R.layout.fragment_home,container,false);\n\n    cocktails = view.findViewById(R.id.cvCocktails);\n    cocktails.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View view) {\n            CocktailFragment cocktailFragment = new CocktailFragment();\n            getActivity().getSupportFragmentManager().beginTransaction()\n                    .replace(R.id.fragment_home,cocktailFragment,null)\n                    .addToBackStack(null).commit();\n        }\n    });\n    return  view;\n}\n@Override\npublic void onViewCreated(@NonNull View view, @Nullable Bundle savedInstanceState) {\n    super.onViewCreated(view, savedInstanceState);\n}\n</code></pre>\n<p>}</p>\n<p>When i compile the app and click on Cocktail Cardview i have this error. How can i fix this. Thank you.</p>\n<blockquote>\n</blockquote>\n<pre><code>    E/AndroidRuntime: FATAL EXCEPTION: main\n    Process: com.example.barapp, PID: 11805\n    java.lang.IllegalStateException: Could not find method Cocktails(View) in a parent \n    or ancestor Context for android:onClick attribute defined on view class \n    android.widget.RelativeLayout\n    at android.view.View$DeclaredOnClickListener.resolveMethod(View.java:6302)\n    at android.view.View$DeclaredOnClickListener.onClick(View.java:6259)\n    at android.view.View.performClick(View.java:7448)\n    at android.view.View.performClickInternal(View.java:7425)\n    at android.view.View.access$3600(View.java:810)\n    at android.view.View$PerformClick.run(View.java:28305)\n    at android.os.Handler.handleCallback(Handler.java:938)\n    at android.os.Handler.dispatchMessage(Handler.java:99)\n    at android.os.Looper.loop(Looper.java:223)\n    at android.app.ActivityThread.main(ActivityThread.java:7656)\n    at java.lang.reflect.Method.invoke(Native Method)\n    at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:592)\n    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:947)\n</code></pre>\n"},{"tags":["java","jvm","jprofiler","code-profiling"],"answers":[{"tags":[],"owner":{"account_id":900581,"reputation":46749,"user_id":936832,"accept_rate":75,"display_name":"Ingo Kegel"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676382937,"creation_date":1676382937,"answer_id":75448856,"question_id":75448190,"body_markdown":"**&quot;Direct connection&quot;** means that you can connect to remote machine on the selected profiling port (8849 by default). This is usually not the case unless the remote machine is on a private network because firewalls will prevent the connection. Also, in that case you must have added the `-agentpath` VM parameter for loading the JProfiler agent to the start command of the profiled JVM. This parameter can be obtained by invoking the &quot;Session-&gt;Integration Wizards-&gt;New Remote Integration&quot; wizard.\r\n\r\nWith **SSH connections** in JProfiler, you can tunnel the connection through SSH. This will work if you have an SSH server running on the remove machine. SSH connections work for VMs where the JProfiler agent has been loaded with the -agentpath VM parameter as well as in attach mode for all JVMs that are running on the remote system.\r\n\r\nThe related documentation is available at\r\n\r\nhttps://www.ej-technologies.com/resources/jprofiler/help/doc/main/profiling.html","title":"Remote Profiling in Jprofiler","body":"<p><strong>&quot;Direct connection&quot;</strong> means that you can connect to remote machine on the selected profiling port (8849 by default). This is usually not the case unless the remote machine is on a private network because firewalls will prevent the connection. Also, in that case you must have added the <code>-agentpath</code> VM parameter for loading the JProfiler agent to the start command of the profiled JVM. This parameter can be obtained by invoking the &quot;Session-&gt;Integration Wizards-&gt;New Remote Integration&quot; wizard.</p>\n<p>With <strong>SSH connections</strong> in JProfiler, you can tunnel the connection through SSH. This will work if you have an SSH server running on the remove machine. SSH connections work for VMs where the JProfiler agent has been loaded with the -agentpath VM parameter as well as in attach mode for all JVMs that are running on the remote system.</p>\n<p>The related documentation is available at</p>\n<p><a href=\"https://www.ej-technologies.com/resources/jprofiler/help/doc/main/profiling.html\" rel=\"nofollow noreferrer\">https://www.ej-technologies.com/resources/jprofiler/help/doc/main/profiling.html</a></p>\n"}],"owner":{"account_id":12951031,"reputation":23,"user_id":9363361,"display_name":"Jeby"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":162,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1676382937,"creation_date":1676379564,"question_id":75448190,"body_markdown":"I have my sample java application running on port 9010 in one of my Azure VM with an IP let say xxx.xx.xx.254. I have installed Jprofiler in another Azure VM, with IP xxx.xx.xx.159.  How can i profile the application from xxx.xx.xx.159 (Both machines are Windows)?\r\n\r\nI have tried remote profile using direct connection, but it couldn&#39;t connect. Also checked with SSH, that too failed as &#39;Connection timeout&#39;\r\n\r\nIs there any step by step process for this connection?\r\n\r\n\r\nSolution to the problem, how to connect and profile the Remote application from my local machine using JProfiler","title":"Remote Profiling in Jprofiler","body":"<p>I have my sample java application running on port 9010 in one of my Azure VM with an IP let say xxx.xx.xx.254. I have installed Jprofiler in another Azure VM, with IP xxx.xx.xx.159.  How can i profile the application from xxx.xx.xx.159 (Both machines are Windows)?</p>\n<p>I have tried remote profile using direct connection, but it couldn't connect. Also checked with SSH, that too failed as 'Connection timeout'</p>\n<p>Is there any step by step process for this connection?</p>\n<p>Solution to the problem, how to connect and profile the Remote application from my local machine using JProfiler</p>\n"},{"tags":["java","http-post","spring-data-rest","nested-object"],"owner":{"account_id":19924673,"reputation":1,"user_id":14599654,"display_name":"Carmelo Fortunato"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":119,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676382600,"creation_date":1676382194,"question_id":75448716,"body_markdown":"I&#39;m trying using Spring Data Rest in a Spring Boot backend.\r\nI have an entity named Request with some fields and another entity named RequestData.\r\nNow, RequestData&#39;s mapped table has the foreign key referencing request_id (and nullable=false)\r\n\r\nThen, I need to insert a request along with request data. \r\n\r\nThe problem here is when I try to create a new request along with its data: I can&#39;t set the request inside request data because I still have no request Id, but the request_id is not nullable so i need to insert it.\r\n\r\na body like this: \r\n\r\n```\r\n{\r\n   type: &quot;localhost:8080/..../1&quot;,\r\n   state: &quot;localhost:8080/.../1&quot;,\r\n   ...\r\n   data: [\r\n      {\r\n         field: &quot;foo&quot;,\r\n         value: &quot;bar&quot;,\r\n      }\r\n   ]\r\n}\r\n```\r\nthrows an exception because it needs the request inside the data record.\r\n\r\n\r\n\r\nThis is the Request Entity\r\n```\r\n@Entity\r\n@Table(name=&quot;requests&quot;)\r\npublic class Request {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    @Column(name=&quot;id&quot;)\r\n    private long id;\r\n    @ManyToOne(cascade = {CascadeType.DETACH, CascadeType.MERGE, CascadeType.PERSIST, CascadeType.REFRESH})\r\n    @JoinColumn(name=&quot;request_type_id&quot;)\r\n    private RequestType type;\r\n    @ManyToOne(cascade = {CascadeType.DETACH, CascadeType.MERGE, CascadeType.PERSIST, CascadeType.REFRESH})\r\n    @JoinColumn(name=&quot;request_state_id&quot;)\r\n    private RequestState state;\r\n    @ManyToOne(cascade = {CascadeType.DETACH, CascadeType.MERGE, CascadeType.PERSIST, CascadeType.REFRESH})\r\n    @JoinColumn(name=&quot;citizen_id&quot;)\r\n    private User citizen;\r\n    @ManyToOne(cascade = {CascadeType.DETACH, CascadeType.MERGE, CascadeType.PERSIST, CascadeType.REFRESH})\r\n    @JoinColumn(name=&quot;request_by&quot;)\r\n    private User requestedBy;\r\n    @ManyToOne(cascade = {CascadeType.DETACH, CascadeType.MERGE, CascadeType.PERSIST, CascadeType.REFRESH})\r\n    @JoinColumn(name=&quot;operator_id&quot;)\r\n    private User operator;\r\n    @Column(name=&quot;creation_date&quot;)\r\n    private Instant creationDate;\r\n    @Column(name=&quot;last_change_date&quot;)\r\n    private Instant lastChangeDate;\r\n    @Column(name=&quot;closing_date&quot;)\r\n    private Instant closingDate;\r\n\r\n    @OneToMany(cascade = CascadeType.ALL)\r\n    @JoinColumn(name=&quot;request_id&quot;)\r\n    private List&lt;RequestData&gt; data;\r\n    @OneToMany(cascade = CascadeType.ALL)\r\n    @JoinColumn(name=&quot;request_id&quot;)\r\n    private List&lt;RequestPost&gt; posts;\r\n    @OneToMany(cascade = CascadeType.ALL)\r\n    @JoinColumn(name=&quot;request_id&quot;)\r\n    private List&lt;RequestAttachment&gt; attachments;\r\n    // constructors, getters, setters, ...\r\n```\r\nThis is the RequestData Entity\r\n\r\n```\r\n@Entity\r\n@Table(name=&quot;request_data&quot;,\r\nuniqueConstraints = {@UniqueConstraint(columnNames = {&quot;request_id&quot;, &quot;field&quot;})})\r\npublic class RequestData {\r\n    @Id\r\n    @GeneratedValue(strategy= GenerationType.IDENTITY)\r\n    @Column(name=&quot;id&quot;)\r\n    private long id;\r\n    @Column(name=&quot;field&quot;, length=25, nullable = false)\r\n    private String field;\r\n    @Column(name=&quot;value&quot;)\r\n    private String Value;\r\n    @ManyToOne(cascade = {CascadeType.DETACH, CascadeType.MERGE, CascadeType.PERSIST, CascadeType.REFRESH})\r\n    @JoinColumn(name=&quot;request_id&quot;, nullable = false)\r\n    private Request request;\r\n\r\n    // constructors, getters and setters... \r\n```\r\nI created a RequestRepository extending JPARepository but not a RequestDataRepository because request data should always go along with the request.\r\n\r\nRemoving the not nullable constraint on request_data.request_id would let me to do the post call without problems and checking the request data record over the table I find the request_id correctly set. \r\nBut I don&#39;t want to remove that constraint. Is there any method to specify that request Id will be automatically populated with the new request&#39;s id?\r\n\r\nThanks in advance\r\n\r\n","title":"Post nested objects with Spring Data REST","body":"<p>I'm trying using Spring Data Rest in a Spring Boot backend.\nI have an entity named Request with some fields and another entity named RequestData.\nNow, RequestData's mapped table has the foreign key referencing request_id (and nullable=false)</p>\n<p>Then, I need to insert a request along with request data.</p>\n<p>The problem here is when I try to create a new request along with its data: I can't set the request inside request data because I still have no request Id, but the request_id is not nullable so i need to insert it.</p>\n<p>a body like this:</p>\n<pre><code>{\n   type: &quot;localhost:8080/..../1&quot;,\n   state: &quot;localhost:8080/.../1&quot;,\n   ...\n   data: [\n      {\n         field: &quot;foo&quot;,\n         value: &quot;bar&quot;,\n      }\n   ]\n}\n</code></pre>\n<p>throws an exception because it needs the request inside the data record.</p>\n<p>This is the Request Entity</p>\n<pre><code>@Entity\n@Table(name=&quot;requests&quot;)\npublic class Request {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name=&quot;id&quot;)\n    private long id;\n    @ManyToOne(cascade = {CascadeType.DETACH, CascadeType.MERGE, CascadeType.PERSIST, CascadeType.REFRESH})\n    @JoinColumn(name=&quot;request_type_id&quot;)\n    private RequestType type;\n    @ManyToOne(cascade = {CascadeType.DETACH, CascadeType.MERGE, CascadeType.PERSIST, CascadeType.REFRESH})\n    @JoinColumn(name=&quot;request_state_id&quot;)\n    private RequestState state;\n    @ManyToOne(cascade = {CascadeType.DETACH, CascadeType.MERGE, CascadeType.PERSIST, CascadeType.REFRESH})\n    @JoinColumn(name=&quot;citizen_id&quot;)\n    private User citizen;\n    @ManyToOne(cascade = {CascadeType.DETACH, CascadeType.MERGE, CascadeType.PERSIST, CascadeType.REFRESH})\n    @JoinColumn(name=&quot;request_by&quot;)\n    private User requestedBy;\n    @ManyToOne(cascade = {CascadeType.DETACH, CascadeType.MERGE, CascadeType.PERSIST, CascadeType.REFRESH})\n    @JoinColumn(name=&quot;operator_id&quot;)\n    private User operator;\n    @Column(name=&quot;creation_date&quot;)\n    private Instant creationDate;\n    @Column(name=&quot;last_change_date&quot;)\n    private Instant lastChangeDate;\n    @Column(name=&quot;closing_date&quot;)\n    private Instant closingDate;\n\n    @OneToMany(cascade = CascadeType.ALL)\n    @JoinColumn(name=&quot;request_id&quot;)\n    private List&lt;RequestData&gt; data;\n    @OneToMany(cascade = CascadeType.ALL)\n    @JoinColumn(name=&quot;request_id&quot;)\n    private List&lt;RequestPost&gt; posts;\n    @OneToMany(cascade = CascadeType.ALL)\n    @JoinColumn(name=&quot;request_id&quot;)\n    private List&lt;RequestAttachment&gt; attachments;\n    // constructors, getters, setters, ...\n</code></pre>\n<p>This is the RequestData Entity</p>\n<pre><code>@Entity\n@Table(name=&quot;request_data&quot;,\nuniqueConstraints = {@UniqueConstraint(columnNames = {&quot;request_id&quot;, &quot;field&quot;})})\npublic class RequestData {\n    @Id\n    @GeneratedValue(strategy= GenerationType.IDENTITY)\n    @Column(name=&quot;id&quot;)\n    private long id;\n    @Column(name=&quot;field&quot;, length=25, nullable = false)\n    private String field;\n    @Column(name=&quot;value&quot;)\n    private String Value;\n    @ManyToOne(cascade = {CascadeType.DETACH, CascadeType.MERGE, CascadeType.PERSIST, CascadeType.REFRESH})\n    @JoinColumn(name=&quot;request_id&quot;, nullable = false)\n    private Request request;\n\n    // constructors, getters and setters... \n</code></pre>\n<p>I created a RequestRepository extending JPARepository but not a RequestDataRepository because request data should always go along with the request.</p>\n<p>Removing the not nullable constraint on request_data.request_id would let me to do the post call without problems and checking the request data record over the table I find the request_id correctly set.\nBut I don't want to remove that constraint. Is there any method to specify that request Id will be automatically populated with the new request's id?</p>\n<p>Thanks in advance</p>\n"},{"tags":["java","arraylist","hashmap","hashcode","hashset"],"comments":[{"owner":{"account_id":536567,"reputation":7838,"user_id":905488,"display_name":"Mick Mnemonic"},"score":0,"creation_date":1455664179,"post_id":35444639,"comment_id":58587683,"body_markdown":"If you can use a `Map&lt;String, Bla&gt; map = new HashMap&lt;&gt;()`, where you would use string identifiers as map keys, you shouldn&#39;t have a problem even if the values change afterwards.","body":"If you can use a <code>Map&lt;String, Bla&gt; map = new HashMap&lt;&gt;()</code>, where you would use string identifiers as map keys, you shouldn&#39;t have a problem even if the values change afterwards."}],"answers":[{"tags":[],"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"comment_count":0,"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1676382207,"creation_date":1455663574,"answer_id":35444680,"question_id":35444639,"body_markdown":"&gt; What will happen if setContent() gets called after the object was added to HashSet or HashMap (and its hashCode changes)?\r\n\r\nDisaster.\r\n\r\n&gt; Should I fully set the (hashCode influencing) content before adding / putting into HashSets or HashMaps? Is it generally recommended to finish building objects before adding them?\r\n\r\nYes.\r\n\r\nThe relevant line of [documentation is on `java.util.Set`][1]:\r\n\r\n&gt; Note: Great care must be exercised if mutable objects are used as set elements. **The behavior of a set is not specified if the value of an object is changed in a manner that affects `equals` comparisons while the object is an element in the set.** A special case of this prohibition is that it is not permissible for a set to contain itself as an element.\r\n\r\nGenerally speaking, this sort of error will manifest itself with elements being both &quot;in&quot; and &quot;not in&quot; your collection, with different methods disagreeing.  You may get lucky and your elements may appear to still be in the collection, or they may not; this may happen essentially at random.\r\n\r\nThis is one of the many, many reasons why it&#39;s excellent practice for most of your objects to be immutable -- completely impossible to modify in the first place after construction.\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Set.html","title":"Altering hashCode of object inside of HashSet / HashMap","body":"<blockquote>\n<p>What will happen if setContent() gets called after the object was added to HashSet or HashMap (and its hashCode changes)?</p>\n</blockquote>\n<p>Disaster.</p>\n<blockquote>\n<p>Should I fully set the (hashCode influencing) content before adding / putting into HashSets or HashMaps? Is it generally recommended to finish building objects before adding them?</p>\n</blockquote>\n<p>Yes.</p>\n<p>The relevant line of <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Set.html\" rel=\"nofollow noreferrer\">documentation is on <code>java.util.Set</code></a>:</p>\n<blockquote>\n<p>Note: Great care must be exercised if mutable objects are used as set elements. <strong>The behavior of a set is not specified if the value of an object is changed in a manner that affects <code>equals</code> comparisons while the object is an element in the set.</strong> A special case of this prohibition is that it is not permissible for a set to contain itself as an element.</p>\n</blockquote>\n<p>Generally speaking, this sort of error will manifest itself with elements being both &quot;in&quot; and &quot;not in&quot; your collection, with different methods disagreeing.  You may get lucky and your elements may appear to still be in the collection, or they may not; this may happen essentially at random.</p>\n<p>This is one of the many, many reasons why it's excellent practice for most of your objects to be immutable -- completely impossible to modify in the first place after construction.</p>\n"}],"owner":{"account_id":1387596,"reputation":1302,"user_id":1319253,"accept_rate":94,"display_name":"dotwin"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1431,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":35444680,"answer_count":1,"score":7,"last_activity_date":1676382207,"creation_date":1455663390,"question_id":35444639,"body_markdown":"I am relatively new to Java and am puzzled about the following thing:  I usually add objects to an `ArrayList` before setting its content.  I.e.,\r\n\r\n    List&lt;Bla&gt; list = new ArrayList&lt;&gt;();\r\n    Bla bla = new Bla();\r\n    list.add(bla);\r\n    bla.setContent(); // content influences hashCode\r\n\r\nThis approach works great.  I am concerned whether this approach will give me trouble when used with `HashSet`s or `HashMap`s.  The internal hash table get set at the time the object is added.  What will happen if `setContent()` gets called after the object was added to `HashSet` or `HashMap` (and its hashCode changes)?\r\n\r\nShould I fully set the (hashCode influencing) content *before* adding / putting into `HashSet`s or `HashMap`s?  Is it generally recommended to finish building objects before adding them?\r\n\r\nThank you very much for your insights.\r\n","title":"Altering hashCode of object inside of HashSet / HashMap","body":"<p>I am relatively new to Java and am puzzled about the following thing:  I usually add objects to an <code>ArrayList</code> before setting its content.  I.e.,</p>\n\n<pre><code>List&lt;Bla&gt; list = new ArrayList&lt;&gt;();\nBla bla = new Bla();\nlist.add(bla);\nbla.setContent(); // content influences hashCode\n</code></pre>\n\n<p>This approach works great.  I am concerned whether this approach will give me trouble when used with <code>HashSet</code>s or <code>HashMap</code>s.  The internal hash table get set at the time the object is added.  What will happen if <code>setContent()</code> gets called after the object was added to <code>HashSet</code> or <code>HashMap</code> (and its hashCode changes)?</p>\n\n<p>Should I fully set the (hashCode influencing) content <em>before</em> adding / putting into <code>HashSet</code>s or <code>HashMap</code>s?  Is it generally recommended to finish building objects before adding them?</p>\n\n<p>Thank you very much for your insights.</p>\n"},{"tags":["java","geometry","intersection","graphics2d"],"comments":[{"owner":{"account_id":449564,"reputation":78084,"user_id":844416,"display_name":"MBo"},"score":0,"creation_date":1676428190,"post_id":75442831,"comment_id":133133620,"body_markdown":"You can build visibility graph for your points and get any Euler path (if exists)","body":"You can build visibility graph for your points and get any Euler path (if exists)"},{"owner":{"account_id":22060406,"reputation":44,"user_id":16323206,"display_name":"jazznbass"},"score":0,"creation_date":1676550032,"post_id":75442831,"comment_id":133161546,"body_markdown":"thanks for this suggestion, I will take a look at JGraphT library and see if I can get a way around it.","body":"thanks for this suggestion, I will take a look at JGraphT library and see if I can get a way around it."}],"owner":{"account_id":22060406,"reputation":44,"user_id":16323206,"display_name":"jazznbass"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676382142,"creation_date":1676340288,"question_id":75442831,"body_markdown":"I am using code from https://stackoverflow.com/questions/19481514/how-to-get-a-random-point-on-the-interior-of-an-irregular-polygon slightly modified in order to draw a random path2D by connecting random points together one after the other inside a polygon Shape. The problem is when the Shape is a non-convex polygon, the path can intersect with the polygon sides. What would be a propper way to stop intersecting and create a path with all its segments inside the Shape area? A solution could be the reordering of points in a way that never intersect with Shape. A similar reordering example might help.\r\n\r\n``` \r\n//generate random points inside a polygon Shape\r\n\r\n\r\npublic ArrayList&lt;Point2D&gt; generateDoubleRandomPointList(Shape region, int numberRandomPoints){ \r\n   \r\n\r\n   ArrayList&lt;Point2D&gt; randomPointList = new ArrayList&lt;&gt;();\r\n   for (int i = 0; i &lt; numberRandomPoints; i++) {\r\n      \r\n  \r\n          Rectangle2D r = region.getBounds();\r\n    double x = 0, y = 0;\r\n    Random rand = new Random();\r\n          if(!r.isEmpty()) { // prevent null exception\r\n           \r\n           do {\r\n        x = (double) (r.getX() + rand.nextDouble( (double) r.getWidth() ));\r\n        y = (double) (r.getY() + rand.nextDouble( (double) r.getHeight() ));        \r\n    }  while(!region.contains(x,y));\r\n       }\r\n       else{\r\n\r\n       //nothing here\r\n       }  \r\n\r\nrandomPointList.add(new Point2D.Double(x,y)); // new\r\n   }\r\n\r\n    return randomPointList;\r\n}\r\n\r\n``` \r\n\r\n``` \r\n// create the path\r\n        public  static Path2D createPathFromListOfPoints2D(List&lt;Point2D&gt; points) { \r\n          \r\n          // Create a Path2D object\r\n      java.awt.geom.Path2D path = new java.awt.geom.Path2D.Double();  \r\n    \r\n             Point2D p = points.get(0);\r\n             double xΑ = p.getX();\r\n             double yΑ = p.getY();\r\n    \r\n               // Start at the first coordinate given\r\n      path.moveTo(xΑ, yΑ);\r\n      // Loop over the remaining coordinates:\r\n      for(int i=1; i&lt;points.size(); i++) {\r\n         p = points.get(i);\r\n         \r\n              \r\n        // And draw lines from corner to corner\r\n        path.lineTo(p.getX(), p.getY());\r\n         \r\n      }\r\n            // After the loop, close the path to finish the polygon\r\n          path.closePath();\r\n          return path;\r\n       \r\n        }\r\n``` \r\n\r\n\r\n","title":"How to connect random points inside a non-convex polygon, without intersecting with the polygon boundaries, in java","body":"<p>I am using code from <a href=\"https://stackoverflow.com/questions/19481514/how-to-get-a-random-point-on-the-interior-of-an-irregular-polygon\">How to get a random point on the interior of an irregular polygon?</a> slightly modified in order to draw a random path2D by connecting random points together one after the other inside a polygon Shape. The problem is when the Shape is a non-convex polygon, the path can intersect with the polygon sides. What would be a propper way to stop intersecting and create a path with all its segments inside the Shape area? A solution could be the reordering of points in a way that never intersect with Shape. A similar reordering example might help.</p>\n<pre><code>//generate random points inside a polygon Shape\n\n\npublic ArrayList&lt;Point2D&gt; generateDoubleRandomPointList(Shape region, int numberRandomPoints){ \n   \n\n   ArrayList&lt;Point2D&gt; randomPointList = new ArrayList&lt;&gt;();\n   for (int i = 0; i &lt; numberRandomPoints; i++) {\n      \n  \n          Rectangle2D r = region.getBounds();\n    double x = 0, y = 0;\n    Random rand = new Random();\n          if(!r.isEmpty()) { // prevent null exception\n           \n           do {\n        x = (double) (r.getX() + rand.nextDouble( (double) r.getWidth() ));\n        y = (double) (r.getY() + rand.nextDouble( (double) r.getHeight() ));        \n    }  while(!region.contains(x,y));\n       }\n       else{\n\n       //nothing here\n       }  \n\nrandomPointList.add(new Point2D.Double(x,y)); // new\n   }\n\n    return randomPointList;\n}\n\n</code></pre>\n<pre><code>// create the path\n        public  static Path2D createPathFromListOfPoints2D(List&lt;Point2D&gt; points) { \n          \n          // Create a Path2D object\n      java.awt.geom.Path2D path = new java.awt.geom.Path2D.Double();  \n    \n             Point2D p = points.get(0);\n             double xΑ = p.getX();\n             double yΑ = p.getY();\n    \n               // Start at the first coordinate given\n      path.moveTo(xΑ, yΑ);\n      // Loop over the remaining coordinates:\n      for(int i=1; i&lt;points.size(); i++) {\n         p = points.get(i);\n         \n              \n        // And draw lines from corner to corner\n        path.lineTo(p.getX(), p.getY());\n         \n      }\n            // After the loop, close the path to finish the polygon\n          path.closePath();\n          return path;\n       \n        }\n</code></pre>\n"},{"tags":["java","java.util.concurrent"],"comments":[{"owner":{"account_id":27451148,"reputation":11,"user_id":20943379,"display_name":"axel"},"score":0,"creation_date":1676475122,"post_id":75448666,"comment_id":133144711,"body_markdown":"Anybody, to help...","body":"Anybody, to help..."}],"owner":{"account_id":27451148,"reputation":11,"user_id":20943379,"display_name":"axel"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676381959,"creation_date":1676381959,"question_id":75448666,"body_markdown":"I was just trying to run multiple threads with CyclicBarrier limit:3 but threads are run more or less than limit\r\n. \r\nIn CyclicBarrierDemo (in main thread) I create CyclicBarrier object with limit 3 and BarAction thread, and after that I excute multiple threads object of Waiting thread. \r\n\r\nAnd as I expect it execute BarAction thread after any 3 thread but it not.\r\n\r\n\r\n    public class CyclicBarrierDemo {\r\n        public static void main(String args[]){\r\n            CyclicBarrier cb = new CyclicBarrier(3, () -&gt; System.out.println(&quot;Reached Barrier!&quot;));\r\n        \r\n            System.out.println(&quot;Starting...&quot;);\r\n          \r\n            new WaitingThread(cb, &quot;A&quot;);\r\n            new WaitingThread(cb, &quot;B&quot;);\r\n            new WaitingThread(cb, &quot;C&quot;);      \r\n        }\r\n    }\r\n\r\n    class WaitingThread implements Runnable{\r\n        CyclicBarrier cb;\r\n        String name;\r\n\r\n        public WaitingThread(CyclicBarrier cb, String name) {\r\n            this.cb = cb;\r\n            this.name = name;\r\n            new Thread(this).start();\r\n        }\r\n    \r\n        public void run(){\r\n            System.out.println(name);\r\n            try{\r\n                cb.await();\r\n            }catch(InterruptedException e){\r\n                System.out.println(name+&quot; was interrupted!&quot;);\r\n            }catch(BrokenBarrierException e){\r\n                System.out.println(name+&quot;broken barrier occur!&quot;);\r\n            }\r\n        }   \r\n    }\r\n\r\nSorry I am new in java and also search on google and stackoverflow but did&#39;n get satisfied answer.\r\nApprecite to helping.","title":"CyclicBarrier not working properly as I expected and showing different result","body":"<p>I was just trying to run multiple threads with CyclicBarrier limit:3 but threads are run more or less than limit\n.\nIn CyclicBarrierDemo (in main thread) I create CyclicBarrier object with limit 3 and BarAction thread, and after that I excute multiple threads object of Waiting thread.</p>\n<p>And as I expect it execute BarAction thread after any 3 thread but it not.</p>\n<pre><code>public class CyclicBarrierDemo {\n    public static void main(String args[]){\n        CyclicBarrier cb = new CyclicBarrier(3, () -&gt; System.out.println(&quot;Reached Barrier!&quot;));\n    \n        System.out.println(&quot;Starting...&quot;);\n      \n        new WaitingThread(cb, &quot;A&quot;);\n        new WaitingThread(cb, &quot;B&quot;);\n        new WaitingThread(cb, &quot;C&quot;);      \n    }\n}\n\nclass WaitingThread implements Runnable{\n    CyclicBarrier cb;\n    String name;\n\n    public WaitingThread(CyclicBarrier cb, String name) {\n        this.cb = cb;\n        this.name = name;\n        new Thread(this).start();\n    }\n\n    public void run(){\n        System.out.println(name);\n        try{\n            cb.await();\n        }catch(InterruptedException e){\n            System.out.println(name+&quot; was interrupted!&quot;);\n        }catch(BrokenBarrierException e){\n            System.out.println(name+&quot;broken barrier occur!&quot;);\n        }\n    }   \n}\n</code></pre>\n<p>Sorry I am new in java and also search on google and stackoverflow but did'n get satisfied answer.\nApprecite to helping.</p>\n"},{"tags":["java","xml","spring-integration","spring-integration-http"],"comments":[{"owner":{"account_id":20185812,"reputation":249,"user_id":14805169,"display_name":"Santrupta Dash"},"score":0,"creation_date":1675349609,"post_id":75318919,"comment_id":132913595,"body_markdown":"Is spring integration dead ? I do not see any new question or any samples using java. All the samples are only with xml or java DSL. Can anyone help me I am wasting time using spring integration ?","body":"Is spring integration dead ? I do not see any new question or any samples using java. All the samples are only with xml or java DSL. Can anyone help me I am wasting time using spring integration ?"},{"owner":{"account_id":3273937,"reputation":114870,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"score":0,"creation_date":1675355632,"post_id":75318919,"comment_id":132915824,"body_markdown":"How do you upload the file? What is your `messageConverter`? You can turn on DEBUG logging level for `org.springframework.integration` to see how your messages are traveling through the flow and with what content.","body":"How do you upload the file? What is your <code>messageConverter</code>? You can turn on DEBUG logging level for <code>org.springframework.integration</code> to see how your messages are traveling through the flow and with what content."}],"answers":[{"comments":[{"owner":{"account_id":20185812,"reputation":249,"user_id":14805169,"display_name":"Santrupta Dash"},"score":0,"creation_date":1676137015,"post_id":75327088,"comment_id":133078876,"body_markdown":"Thanks Artem. But I implemented using RestTemplate. RestTemplate provides cleaner documentation and easier implementation. However according to your expert views - Is RestTemplate advisable in a spring integration project?","body":"Thanks Artem. But I implemented using RestTemplate. RestTemplate provides cleaner documentation and easier implementation. However according to your expert views - Is RestTemplate advisable in a spring integration project?"},{"owner":{"account_id":3273937,"reputation":114870,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"score":0,"creation_date":1676293103,"post_id":75327088,"comment_id":133101909,"body_markdown":"The `RestTemplate` is a client side API. Not sure why you talk about it in this question about the server side... Maybe different SO question if you have anything in mind? Although I believe that you need to start from some book, like Spring in Action. Since it feels like you flow a little bit with what you have in your hands. Spring Integration really uses the mentioned `RestTemplate` in its client side channel adapter implementation - `HttpRequestExecutingMessageHandler`. Sure! You can use a `RestTemplate` in the unit test as well, but there is indeed a reason in MockMVC.","body":"The <code>RestTemplate</code> is a client side API. Not sure why you talk about it in this question about the server side... Maybe different SO question if you have anything in mind? Although I believe that you need to start from some book, like Spring in Action. Since it feels like you flow a little bit with what you have in your hands. Spring Integration really uses the mentioned <code>RestTemplate</code> in its client side channel adapter implementation - <code>HttpRequestExecutingMessageHandler</code>. Sure! You can use a <code>RestTemplate</code> in the unit test as well, but there is indeed a reason in MockMVC."},{"owner":{"account_id":20185812,"reputation":249,"user_id":14805169,"display_name":"Santrupta Dash"},"score":0,"creation_date":1676381180,"post_id":75327088,"comment_id":133122210,"body_markdown":"Sorry My bad. It was not RestTemplate, It was a normal rest controller. I added that in a separate answer. below. Could you please advice if it is a correct way Or should I use the above way.","body":"Sorry My bad. It was not RestTemplate, It was a normal rest controller. I added that in a separate answer. below. Could you please advice if it is a correct way Or should I use the above way."},{"owner":{"account_id":3273937,"reputation":114870,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"score":1,"creation_date":1676390357,"post_id":75327088,"comment_id":133125353,"body_markdown":"Well, in the end it is up to you. Your question was about a `HttpRequestHandlingMessagingGateway` and I gave you a working answer. If you go a `@RestController`, then it is already a fully different story...","body":"Well, in the end it is up to you. Your question was about a <code>HttpRequestHandlingMessagingGateway</code> and I gave you a working answer. If you go a <code>@RestController</code>, then it is already a fully different story..."},{"owner":{"account_id":20185812,"reputation":249,"user_id":14805169,"display_name":"Santrupta Dash"},"score":0,"creation_date":1676393762,"post_id":75327088,"comment_id":133126473,"body_markdown":"Thanks @Artem Bilan. For your response. I will definitely try to implement you answer as that is a bit more spring integration way. That&#39;s why I have marked your answer as accepted answer. Thanks again.","body":"Thanks @Artem Bilan. For your response. I will definitely try to implement you answer as that is a bit more spring integration way. That&#39;s why I have marked your answer as accepted answer. Thanks again."}],"tags":[],"owner":{"account_id":3273937,"reputation":114870,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"comment_count":5,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1675360234,"creation_date":1675360234,"answer_id":75327088,"question_id":75318919,"body_markdown":"Here is a simple test to demonstrate how we can upload the file using Spring Integration:\r\n\r\n    @SpringJUnitWebConfig\r\n    @DirtiesContext\r\n    public class FileUploadTests {\r\n    \r\n    \t@Autowired\r\n    \tprivate WebApplicationContext wac;\r\n    \r\n    \r\n    \tprivate MockMvc mockMvc;\r\n    \r\n    \t@BeforeEach\r\n    \tpublic void setup() {\r\n    \t\tthis.mockMvc = MockMvcBuilders.webAppContextSetup(this.wac).build();\r\n    \t}\r\n    \r\n    \t@Test\r\n    \tvoid commonsFileUploadValidation() throws Exception {\r\n    \t\tMockPart mockPart1 = new MockPart(&quot;file&quot;, &quot;file.text&quot;, &quot;ABC&quot;.getBytes(StandardCharsets.UTF_8));\r\n    \t\tmockPart1.getHeaders().setContentType(MediaType.TEXT_PLAIN);\r\n    \r\n    \t\tthis.mockMvc.perform(multipart(&quot;/path&quot;).part(mockPart1))\r\n    \t\t\t\t.andExpect(status().isOk())\r\n    \t\t\t\t.andExpect(content().string(&quot;File uploaded: file.text with content: ABC&quot;));\r\n    \t}\r\n    \r\n    \t@Configuration\r\n    \t@EnableIntegration\r\n    \tpublic static class ContextConfiguration {\r\n    \r\n    \t\t@Bean(&quot;Inbound_GATEWAY_in&quot;)\r\n    \t\tpublic MessageChannel Inbound_GATEWAY_in() {\r\n    \t\t\treturn new DirectChannel();\r\n    \t\t}\r\n    \r\n    \t\t@Bean\r\n    \t\tpublic HttpRequestHandlingMessagingGateway selerixInboundRequest() {\r\n    \t\t\tHttpRequestHandlingMessagingGateway gateway = new HttpRequestHandlingMessagingGateway();\r\n    \t\t\tRequestMapping requestMapping = new RequestMapping();\r\n    \t\t\trequestMapping.setPathPatterns(&quot;/path&quot;);\r\n    \t\t\tgateway.setRequestMapping(requestMapping);\r\n    \t\t\tgateway.setRequestChannelName(&quot;Inbound_GATEWAY_in&quot;);\r\n    \t\t\treturn gateway;\r\n    \t\t}\r\n    \r\n    \t\t@Bean(name = DispatcherServlet.MULTIPART_RESOLVER_BEAN_NAME)\r\n    \t\tpublic MultipartResolver multipartResolver() {\r\n    \t\t\treturn new StandardServletMultipartResolver();\r\n    \t\t}\r\n    \r\n    \t\t@ServiceActivator(inputChannel = &quot;Inbound_GATEWAY_in&quot;)\r\n    \t\tpublic String headerEnrich_Inbound_GATEWAY_in(MultiValueMap&lt;String, MultipartFile&gt; payload) throws IOException {\r\n    \t\t\tMultipartFile file = payload.getFirst(&quot;file&quot;);\r\n    \t\t\treturn &quot;File uploaded: &quot; + file.getOriginalFilename() + &quot; with content: &quot; + new String(file.getBytes());\r\n    \t\t}\r\n    \r\n    \t}\r\n    \r\n    }\r\n\r\nNote: the `CommonsMultipartResolver` is deprecated for a while and was removed from latest Spring. Please, be sure that you use the latest versions of the frameworks: https://spring.io/projects/spring-integration#learn","title":"Upload a xml file in spring integration using HttpRequestHandlingMessagingGateway","body":"<p>Here is a simple test to demonstrate how we can upload the file using Spring Integration:</p>\n<pre><code>@SpringJUnitWebConfig\n@DirtiesContext\npublic class FileUploadTests {\n\n    @Autowired\n    private WebApplicationContext wac;\n\n\n    private MockMvc mockMvc;\n\n    @BeforeEach\n    public void setup() {\n        this.mockMvc = MockMvcBuilders.webAppContextSetup(this.wac).build();\n    }\n\n    @Test\n    void commonsFileUploadValidation() throws Exception {\n        MockPart mockPart1 = new MockPart(&quot;file&quot;, &quot;file.text&quot;, &quot;ABC&quot;.getBytes(StandardCharsets.UTF_8));\n        mockPart1.getHeaders().setContentType(MediaType.TEXT_PLAIN);\n\n        this.mockMvc.perform(multipart(&quot;/path&quot;).part(mockPart1))\n                .andExpect(status().isOk())\n                .andExpect(content().string(&quot;File uploaded: file.text with content: ABC&quot;));\n    }\n\n    @Configuration\n    @EnableIntegration\n    public static class ContextConfiguration {\n\n        @Bean(&quot;Inbound_GATEWAY_in&quot;)\n        public MessageChannel Inbound_GATEWAY_in() {\n            return new DirectChannel();\n        }\n\n        @Bean\n        public HttpRequestHandlingMessagingGateway selerixInboundRequest() {\n            HttpRequestHandlingMessagingGateway gateway = new HttpRequestHandlingMessagingGateway();\n            RequestMapping requestMapping = new RequestMapping();\n            requestMapping.setPathPatterns(&quot;/path&quot;);\n            gateway.setRequestMapping(requestMapping);\n            gateway.setRequestChannelName(&quot;Inbound_GATEWAY_in&quot;);\n            return gateway;\n        }\n\n        @Bean(name = DispatcherServlet.MULTIPART_RESOLVER_BEAN_NAME)\n        public MultipartResolver multipartResolver() {\n            return new StandardServletMultipartResolver();\n        }\n\n        @ServiceActivator(inputChannel = &quot;Inbound_GATEWAY_in&quot;)\n        public String headerEnrich_Inbound_GATEWAY_in(MultiValueMap&lt;String, MultipartFile&gt; payload) throws IOException {\n            MultipartFile file = payload.getFirst(&quot;file&quot;);\n            return &quot;File uploaded: &quot; + file.getOriginalFilename() + &quot; with content: &quot; + new String(file.getBytes());\n        }\n\n    }\n\n}\n</code></pre>\n<p>Note: the <code>CommonsMultipartResolver</code> is deprecated for a while and was removed from latest Spring. Please, be sure that you use the latest versions of the frameworks: <a href=\"https://spring.io/projects/spring-integration#learn\" rel=\"nofollow noreferrer\">https://spring.io/projects/spring-integration#learn</a></p>\n"},{"tags":[],"owner":{"account_id":7091542,"reputation":58,"user_id":5426567,"display_name":"Didil"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1676381596,"creation_date":1676381596,"answer_id":75448584,"question_id":75318919,"body_markdown":"What I did is I created an interface \r\n\r\n```\r\n@Configuration\r\n@MessagingGateway\r\n@EnableIntegration\r\npublic interface IntegrationGateway2 {\r\n\r\n @Gateway(requestChannel = &quot;Inbound_CHANNEL_in&quot;, replyChannel = &quot;Inbound_Channel_reply&quot;)\r\n public Message&lt;?&gt; sendAndReceive(Message&lt;?&gt; input);\r\n}\r\n```\r\nand then created a normal rest controller and fetched the multipart file and then converted to a message. \r\n\r\n```\r\n\r\n@RestController\r\n@EnableIntegration\r\n@Configuration\r\npublic class SelerixController {\r\n   \r\n    @Bean(&quot;Inbound_CHANNEL_in&quot;)\r\n    public MessageChannel Inbound_Channel_in() {\r\n        return new DirectChannel();\r\n    }\r\n    @Bean(&quot;Inbound_Channel_reply&quot;)\r\n    public MessageChannel Inbound_Channel_reply() {\r\n        return new DirectChannel();\r\n    }\r\n\r\n    @Autowired\r\n    IntegrationGateway integrationGateway;\r\n\r\n    @PostMapping(&quot;/processFile&quot;)\r\n    public ResponseEntity&lt;String&gt; fileUpload(@RequestParam String partner, @RequestParam(&quot;file&quot;) MultipartFile file ) throws IOException {\r\n        Message reply = null;\r\n        String xmlInputData = &quot;&quot;;\r\n        if (file != null) {\r\n            InputStream is = file.getInputStream();\r\n            xmlInputData = new BufferedReader(new InputStreamReader(is))\r\n                    .lines().collect(Collectors.joining(&quot;&quot;));\r\n            MapConversionUtility mcu = new MapConversionUtility();\r\n            String json = mcu.convertXmlToJSON(xmlInputData);\r\n\r\n            Map&lt;String, Object&gt; header = new HashMap&lt;String, Object&gt;();\r\n            header.put(&quot;uuid&quot;, UUID.randomUUID().toString());\r\n            header.put(&quot;REAL_TIME_FLAG&quot;, &quot;TRUE&quot;); //QUERY_PARAM\r\n            header.put(&quot;QUERY_PARAM&quot;, partner);\r\n            Message&lt;?&gt; request = MessageBuilder\r\n                    .withPayload(json)\r\n                    .copyHeaders(header)\r\n                    .build();\r\n            reply = integrationGateway.sendAndReceive( request);\r\n            LOGGER.info(&quot;getting reply final *************** {}&quot;,reply.getPayload());\r\n        }\r\n\t}\r\n}\r\n```","title":"Upload a xml file in spring integration using HttpRequestHandlingMessagingGateway","body":"<p>What I did is I created an interface</p>\n<pre><code>@Configuration\n@MessagingGateway\n@EnableIntegration\npublic interface IntegrationGateway2 {\n\n @Gateway(requestChannel = &quot;Inbound_CHANNEL_in&quot;, replyChannel = &quot;Inbound_Channel_reply&quot;)\n public Message&lt;?&gt; sendAndReceive(Message&lt;?&gt; input);\n}\n</code></pre>\n<p>and then created a normal rest controller and fetched the multipart file and then converted to a message.</p>\n<pre><code>\n@RestController\n@EnableIntegration\n@Configuration\npublic class SelerixController {\n   \n    @Bean(&quot;Inbound_CHANNEL_in&quot;)\n    public MessageChannel Inbound_Channel_in() {\n        return new DirectChannel();\n    }\n    @Bean(&quot;Inbound_Channel_reply&quot;)\n    public MessageChannel Inbound_Channel_reply() {\n        return new DirectChannel();\n    }\n\n    @Autowired\n    IntegrationGateway integrationGateway;\n\n    @PostMapping(&quot;/processFile&quot;)\n    public ResponseEntity&lt;String&gt; fileUpload(@RequestParam String partner, @RequestParam(&quot;file&quot;) MultipartFile file ) throws IOException {\n        Message reply = null;\n        String xmlInputData = &quot;&quot;;\n        if (file != null) {\n            InputStream is = file.getInputStream();\n            xmlInputData = new BufferedReader(new InputStreamReader(is))\n                    .lines().collect(Collectors.joining(&quot;&quot;));\n            MapConversionUtility mcu = new MapConversionUtility();\n            String json = mcu.convertXmlToJSON(xmlInputData);\n\n            Map&lt;String, Object&gt; header = new HashMap&lt;String, Object&gt;();\n            header.put(&quot;uuid&quot;, UUID.randomUUID().toString());\n            header.put(&quot;REAL_TIME_FLAG&quot;, &quot;TRUE&quot;); //QUERY_PARAM\n            header.put(&quot;QUERY_PARAM&quot;, partner);\n            Message&lt;?&gt; request = MessageBuilder\n                    .withPayload(json)\n                    .copyHeaders(header)\n                    .build();\n            reply = integrationGateway.sendAndReceive( request);\n            LOGGER.info(&quot;getting reply final *************** {}&quot;,reply.getPayload());\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":20185812,"reputation":249,"user_id":14805169,"display_name":"Santrupta Dash"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":134,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75327088,"answer_count":2,"score":1,"last_activity_date":1676381596,"creation_date":1675314771,"question_id":75318919,"body_markdown":"I am trying to upload a multipart form-data with an attached xml file to integration server. \r\n\r\nI am using a `HttpRequestHandlingMessagingGateway` with a `RequestMapping` bean. \r\n\r\n```\r\n  @Bean(&quot;Inbound_GATEWAY_in&quot;)\r\n    public MessageChannel Inbound_GATEWAY_in() { return new DirectChannel(); }\r\n  @Bean\r\n    public HttpRequestHandlingMessagingGateway selerixInboundRequest() {\r\n        HttpRequestHandlingMessagingGateway gateway =\r\n                new HttpRequestHandlingMessagingGateway(true);\r\n        gateway.setRequestMapping(selerixMapping());\r\n        gateway.setMessageConverters( messageConverter() );\r\n        gateway.setMultipartResolver(multipartResolverBean());\r\n        gateway.setRequestTimeout(3000); // 3s\r\n        gateway.setReplyTimeout(5000); // 5s\r\n        gateway.setRequestChannelName(&quot;Inbound_GATEWAY_in&quot;);\r\n        gateway.setReplyChannelName(&quot;Outbound_GATEWAY_out&quot;);\r\n        return gateway;\r\n    }\r\n    @Bean\r\n    public RequestMapping selerixMapping() {\r\n        RequestMapping requestMapping = new RequestMapping();\r\n        requestMapping.setPathPatterns(&quot;/path&quot;);\r\n        requestMapping.setMethods(HttpMethod.POST);\r\n        requestMapping.setConsumes(MediaType.MULTIPART_FORM_DATA_VALUE);\r\n        return requestMapping;\r\n    }\r\n@Bean\r\n    public MultipartResolver multipartResolverBean(){\r\n        return new CommonsMultipartResolver();\r\n    }\r\n@ServiceActivator(inputChannel = &quot;Inbound_GATEWAY_in&quot;)\r\n    public Message&lt;?&gt;  headerEnrich_Inbound_GATEWAY_in(Message&lt;?&gt; message){\r\n         Message&lt;?&gt; outmessage = null;\r\n    LOGGER.info(&quot;message &quot;, message); // returns blank message\r\n```\r\n\r\nBut when I am trying to upload the xml file the message is coming as blank.\r\n\r\nHow can I find the xml file in the Message&lt;?&gt; or how can I check the Request object ? ","title":"Upload a xml file in spring integration using HttpRequestHandlingMessagingGateway","body":"<p>I am trying to upload a multipart form-data with an attached xml file to integration server.</p>\n<p>I am using a <code>HttpRequestHandlingMessagingGateway</code> with a <code>RequestMapping</code> bean.</p>\n<pre><code>  @Bean(&quot;Inbound_GATEWAY_in&quot;)\n    public MessageChannel Inbound_GATEWAY_in() { return new DirectChannel(); }\n  @Bean\n    public HttpRequestHandlingMessagingGateway selerixInboundRequest() {\n        HttpRequestHandlingMessagingGateway gateway =\n                new HttpRequestHandlingMessagingGateway(true);\n        gateway.setRequestMapping(selerixMapping());\n        gateway.setMessageConverters( messageConverter() );\n        gateway.setMultipartResolver(multipartResolverBean());\n        gateway.setRequestTimeout(3000); // 3s\n        gateway.setReplyTimeout(5000); // 5s\n        gateway.setRequestChannelName(&quot;Inbound_GATEWAY_in&quot;);\n        gateway.setReplyChannelName(&quot;Outbound_GATEWAY_out&quot;);\n        return gateway;\n    }\n    @Bean\n    public RequestMapping selerixMapping() {\n        RequestMapping requestMapping = new RequestMapping();\n        requestMapping.setPathPatterns(&quot;/path&quot;);\n        requestMapping.setMethods(HttpMethod.POST);\n        requestMapping.setConsumes(MediaType.MULTIPART_FORM_DATA_VALUE);\n        return requestMapping;\n    }\n@Bean\n    public MultipartResolver multipartResolverBean(){\n        return new CommonsMultipartResolver();\n    }\n@ServiceActivator(inputChannel = &quot;Inbound_GATEWAY_in&quot;)\n    public Message&lt;?&gt;  headerEnrich_Inbound_GATEWAY_in(Message&lt;?&gt; message){\n         Message&lt;?&gt; outmessage = null;\n    LOGGER.info(&quot;message &quot;, message); // returns blank message\n</code></pre>\n<p>But when I am trying to upload the xml file the message is coming as blank.</p>\n<p>How can I find the xml file in the Message&lt;?&gt; or how can I check the Request object ?</p>\n"},{"tags":["java","arrays","generics"],"answers":[{"tags":[],"owner":{"account_id":17835,"reputation":303915,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1676381463,"creation_date":1676381463,"answer_id":75448558,"question_id":75448500,"body_markdown":"The problem is almost certainly this definition:\r\n\r\n    public class StudentGradesGeneric &lt;E extends Comparable&lt;E&gt;&gt; extends Number\r\n\r\nThis defines a new class named `StudentGradesGeneric` with a type argument named `E` that is required to extend `Comparable&lt;E&gt;`. `StudentGradesGeneric` also extends `Number`.\r\n\r\nThat last part is wrong: there&#39;s no reason for `StudentGradesGeneric` itself to extend `Number` (it&#39;s conceivable that someone would want that, but it&#39;d be unlikely and nothing in your question indicates you do).\r\n\r\nWhat you want is `E` to extend `Number`:\r\n\r\n    public class StudentGradesGeneric &lt;E extends Number &amp; Comparable&lt;E&gt;&gt;\r\n\r\nI&#39;ve not checked the rest of your code and I think you&#39;ll find that `Number` is not as useful a base type as you&#39;d wish, as there&#39;s no way, for example to add two generic `Number` objects and get an object of the same type back.","title":"I want to make this generic","body":"<p>The problem is almost certainly this definition:</p>\n<pre><code>public class StudentGradesGeneric &lt;E extends Comparable&lt;E&gt;&gt; extends Number\n</code></pre>\n<p>This defines a new class named <code>StudentGradesGeneric</code> with a type argument named <code>E</code> that is required to extend <code>Comparable&lt;E&gt;</code>. <code>StudentGradesGeneric</code> also extends <code>Number</code>.</p>\n<p>That last part is wrong: there's no reason for <code>StudentGradesGeneric</code> itself to extend <code>Number</code> (it's conceivable that someone would want that, but it'd be unlikely and nothing in your question indicates you do).</p>\n<p>What you want is <code>E</code> to extend <code>Number</code>:</p>\n<pre><code>public class StudentGradesGeneric &lt;E extends Number &amp; Comparable&lt;E&gt;&gt;\n</code></pre>\n<p>I've not checked the rest of your code and I think you'll find that <code>Number</code> is not as useful a base type as you'd wish, as there's no way, for example to add two generic <code>Number</code> objects and get an object of the same type back.</p>\n"}],"owner":{"account_id":26959847,"reputation":15,"user_id":20527664,"display_name":"Nadia"},"comment_count":0,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":58,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"closed_date":1676392633,"answer_count":1,"score":-3,"last_activity_date":1676381463,"creation_date":1676381157,"question_id":75448500,"body_markdown":"So I have written this code that works just fine with integers. Now I want to make it generic (extends Number), but keep it an array. \r\n\r\n\r\n\r\n\r\n```\r\nimport java.util.Arrays;\r\n\r\npublic class StudentGrades {\r\n    private int grades[];\r\n    private int pointer;\r\n    private int max_grade;\r\n    private int min_grade;\r\n    private double average_grade;\r\n    private  int better_than_average;\r\n    private  int worse_than_average;\r\n    private int excelent_count;\r\n    private int good_count;\r\n    private int enaught_count;\r\n\r\n    public int getMax_grade() {\r\n        return max_grade;\r\n    }\r\n\r\n    public int getMin_grade() {\r\n        return min_grade;\r\n    }\r\n\r\n    public double getAverage_grade() {\r\n        return average_grade;\r\n    }\r\n\r\n    public int getBetter_than_average() {\r\n        return better_than_average;\r\n    }\r\n\r\n    public int getWorse_than_average() {\r\n        return worse_than_average;\r\n    }\r\n\r\n    public int getExcelent_count() {\r\n        return excelent_count;\r\n    }\r\n\r\n    public int getGood_count() {\r\n        return good_count;\r\n    }\r\n\r\n    public int getEnough_count() {\r\n        return enaught_count;\r\n    }\r\n\r\n\r\n    StudentGrades()\r\n    {\r\n        pointer=-1;\r\n        grades=new int[1000];\r\n        average_grade=0;\r\n        better_than_average=0;\r\n        worse_than_average=0;\r\n        excelent_count=0;\r\n        good_count=0;\r\n        enaught_count=0;\r\n        max_grade=0;\r\n        min_grade=0;\r\n    }\r\n\r\n    private void calculate()\r\n    {\r\n        average_grade=0;\r\n        better_than_average=0;\r\n        worse_than_average=0;\r\n        excelent_count=0;\r\n        good_count=0;\r\n        enaught_count=0;\r\n        max_grade=0;\r\n        min_grade=0;\r\n        if (pointer&lt;0)return;\r\n        double sum=0;\r\n        max_grade=grades[0];\r\n        min_grade=grades[0];\r\n        for (int i=0; i&lt;=pointer;i++)\r\n        {\r\n            sum+=grades[i];\r\n            if(grades[i]&gt;max_grade)\r\n                max_grade=grades[i];\r\n            if(grades[i]&lt;min_grade)\r\n                min_grade=grades[i];\r\n            if(grades[i]&gt;=91)\r\n                excelent_count++;\r\n            else if(grades[i]&gt;=71)\r\n                good_count++;\r\n            else if (grades[i]&gt;=60)\r\n                enaught_count++;\r\n        }\r\n        average_grade=sum/(double) (pointer+1);\r\n\r\n        for(int i=0; i&lt;=pointer;i++)\r\n        {\r\n            if(grades[i]&gt;average_grade)\r\n                better_than_average++;\r\n            else\r\n                worse_than_average++;\r\n        }\r\n    }\r\n\r\n    private boolean is_valid(int n)\r\n    {\r\n        return (n&gt;0 &amp;&amp; n&lt;100);\r\n    }\r\n\r\n    public boolean setter( int marks[])\r\n    {\r\n        for(int i=0; i&lt;marks.length; i++)\r\n        {\r\n            if(!is_valid(marks[i]))\r\n                return false;\r\n        }\r\n        grades=marks;\r\n        pointer=marks.length-1;\r\n        calculate();\r\n        return true;\r\n    }\r\n\r\n    public boolean adder(int new_element)\r\n    {\r\n        if(!is_valid(new_element))\r\n            return false;\r\n        if(grades.length==pointer+1)\r\n        {\r\n            int[] new_size_array =new int[grades.length*2];\r\n            for(int i=0; i&lt;=pointer;i++) new_size_array[i]=grades[i];\r\n            grades=new_size_array;\r\n        }\r\n        pointer++;\r\n        grades[pointer]=new_element;\r\n        calculate();\r\n        return true;\r\n    }\r\n\r\n    public int[] getter()\r\n    {\r\n        int[] result = new int[pointer+1];\r\n        for (int i=0; i&lt;=pointer;i++)\r\n            result[i]=grades[i];\r\n        return  result;\r\n    }\r\n    public void to_string(){\r\n        System.out.println(Arrays.toString(getter()));\r\n    }\r\n\r\n\r\n\r\n}\r\n\r\n```\r\n\r\n\r\n\r\n\r\nI have done this, but I strongly believe it is completely wrong and Im moving in the wrong direction. Im relatively new to programming, so please make your explanations as detailed as possible. Thamks! \r\n\r\n```\r\nimport java.util.Arrays;\r\nimport java.lang.reflect.Array;\r\n\r\npublic class StudentGradesGeneric &lt;E extends Comparable&lt;E&gt;&gt; extends Number{\r\n\r\n\r\n    public StudentGradesGeneric(Class&lt;E&gt; clazz, int capacity) {\r\n        grades = (E[]) Array.newInstance(clazz, capacity);\r\n    }\r\n\r\n\r\n    private E[] grades;\r\n    private int pointer;\r\n    private E max_grade;\r\n    private E min_grade;\r\n    private E average_grade;\r\n    private  E better_than_average;\r\n    private  E worse_than_average;\r\n    private E excelent_count;\r\n    private E good_count;\r\n    private E enaught_count;\r\n\r\n    public E getMax_grade() {\r\n        return max_grade;\r\n    }\r\n\r\n    public E getMin_grade() {\r\n        return min_grade;\r\n    }\r\n\r\n    public E getAverage_grade() {\r\n        return average_grade;\r\n    }\r\n\r\n    public E getBetter_than_average() {\r\n        return better_than_average;\r\n    }\r\n\r\n    public E getWorse_than_average() {\r\n        return worse_than_average;\r\n    }\r\n\r\n    public E getExcelent_count() {\r\n        return excelent_count;\r\n    }\r\n\r\n    public E getGood_count() {\r\n        return good_count;\r\n    }\r\n\r\n    public E getEnough_count() {\r\n        return enaught_count;\r\n    }\r\n\r\n\r\n    StudentGradesGeneric()\r\n    {\r\n        pointer=-1;\r\n        grades= (E[]) new Comparable[1000];\r\n        average_grade=null;\r\n        better_than_average=null;\r\n        worse_than_average=null;\r\n        excelent_count=null;\r\n        good_count=null;\r\n        enaught_count=null;\r\n        max_grade=null;\r\n        min_grade=null;\r\n\r\n    }\r\n\r\n    @Override\r\n    public int intValue() {\r\n        return 0;\r\n    }\r\n\r\n    @Override\r\n    public long longValue() {\r\n        return 0;\r\n    }\r\n\r\n    @Override\r\n    public float floatValue() {\r\n        return 0;\r\n    }\r\n\r\n    @Override\r\n    public double doubleValue() {\r\n        return 0;\r\n    }\r\n\r\n\r\n    private &lt;E&gt; void calculate()\r\n    {\r\n        average_grade=null;\r\n        better_than_average=null;\r\n        worse_than_average=null;\r\n        excelent_count=null;\r\n        good_count=null;\r\n        enaught_count=null;\r\n        max_grade=null;\r\n        min_grade=null;\r\n        if (pointer&lt;0)return;\r\n        E sum=null;\r\n        max_grade=grades[0];\r\n        min_grade=grades[0];\r\n        for (int i=0; i&lt;=pointer;i++)\r\n        {\r\n            sum =grades[i] + sum;\r\n            if ( grades[i].compareTo(max_grade) &gt; 0)\r\n                max_grade=grades[i];\r\n            if(grades[i].compareTo(min_grade) &lt; 0)\r\n                min_grade=grades[i];\r\n            if(grades[i].compareTo(91) &gt;= 0)\r\n                excelent_count++;\r\n            else if(grades[i]&gt;=71)\r\n                good_count++;\r\n            else if (grades[i]&gt;=60)\r\n                enaught_count++;\r\n        }\r\n        average_grade=sum/ (pointer+1);\r\n\r\n        for(int i=0; i&lt;=pointer;i++)\r\n        {\r\n            if(grades[i]&gt;average_grade)\r\n                better_than_average++;\r\n            else\r\n                worse_than_average++;\r\n        }\r\n    }\r\n\r\n    private boolean is_valid(E n)\r\n    {\r\n        return (n&gt;0 &amp;&amp; n&lt;100);\r\n    }\r\n\r\n    public boolean setter( E marks[])\r\n    {\r\n        for(int i=0; i&lt;marks.length; i++)\r\n        {\r\n            if(!is_valid(marks[i]))\r\n                return false;\r\n        }\r\n        grades=marks;\r\n        pointer=marks.length-1;\r\n        calculate();\r\n        return true;\r\n    }\r\n\r\n    public boolean adder(E new_element)\r\n    {\r\n        if(!is_valid(new_element))\r\n            return false;\r\n        if(grades.length==pointer+1)\r\n        {\r\n            E[] new_size_array =(E[]) new Comparable[grades.length*2];\r\n            for(int i=0; i&lt;=pointer;i++)\r\n                new_size_array[i]=grades[i];\r\n            grades=new_size_array;\r\n        }\r\n        pointer++;\r\n        grades[pointer]=new_element;\r\n        calculate();\r\n        return true;\r\n    }\r\n\r\n    public E[] getter()\r\n    {\r\n        E[] result = (E[]) new Comparable[pointer+1];\r\n        for (int i=0; i&lt;=pointer;i++)\r\n            result[i]=grades[i];\r\n        return result;\r\n    }\r\n    public void to_string(){\r\n        System.out.println(Arrays.toString(getter()));\r\n    }\r\n\r\n\r\n}\r\n\r\n```\r\n","title":"I want to make this generic","body":"<p>So I have written this code that works just fine with integers. Now I want to make it generic (extends Number), but keep it an array.</p>\n<pre><code>import java.util.Arrays;\n\npublic class StudentGrades {\n    private int grades[];\n    private int pointer;\n    private int max_grade;\n    private int min_grade;\n    private double average_grade;\n    private  int better_than_average;\n    private  int worse_than_average;\n    private int excelent_count;\n    private int good_count;\n    private int enaught_count;\n\n    public int getMax_grade() {\n        return max_grade;\n    }\n\n    public int getMin_grade() {\n        return min_grade;\n    }\n\n    public double getAverage_grade() {\n        return average_grade;\n    }\n\n    public int getBetter_than_average() {\n        return better_than_average;\n    }\n\n    public int getWorse_than_average() {\n        return worse_than_average;\n    }\n\n    public int getExcelent_count() {\n        return excelent_count;\n    }\n\n    public int getGood_count() {\n        return good_count;\n    }\n\n    public int getEnough_count() {\n        return enaught_count;\n    }\n\n\n    StudentGrades()\n    {\n        pointer=-1;\n        grades=new int[1000];\n        average_grade=0;\n        better_than_average=0;\n        worse_than_average=0;\n        excelent_count=0;\n        good_count=0;\n        enaught_count=0;\n        max_grade=0;\n        min_grade=0;\n    }\n\n    private void calculate()\n    {\n        average_grade=0;\n        better_than_average=0;\n        worse_than_average=0;\n        excelent_count=0;\n        good_count=0;\n        enaught_count=0;\n        max_grade=0;\n        min_grade=0;\n        if (pointer&lt;0)return;\n        double sum=0;\n        max_grade=grades[0];\n        min_grade=grades[0];\n        for (int i=0; i&lt;=pointer;i++)\n        {\n            sum+=grades[i];\n            if(grades[i]&gt;max_grade)\n                max_grade=grades[i];\n            if(grades[i]&lt;min_grade)\n                min_grade=grades[i];\n            if(grades[i]&gt;=91)\n                excelent_count++;\n            else if(grades[i]&gt;=71)\n                good_count++;\n            else if (grades[i]&gt;=60)\n                enaught_count++;\n        }\n        average_grade=sum/(double) (pointer+1);\n\n        for(int i=0; i&lt;=pointer;i++)\n        {\n            if(grades[i]&gt;average_grade)\n                better_than_average++;\n            else\n                worse_than_average++;\n        }\n    }\n\n    private boolean is_valid(int n)\n    {\n        return (n&gt;0 &amp;&amp; n&lt;100);\n    }\n\n    public boolean setter( int marks[])\n    {\n        for(int i=0; i&lt;marks.length; i++)\n        {\n            if(!is_valid(marks[i]))\n                return false;\n        }\n        grades=marks;\n        pointer=marks.length-1;\n        calculate();\n        return true;\n    }\n\n    public boolean adder(int new_element)\n    {\n        if(!is_valid(new_element))\n            return false;\n        if(grades.length==pointer+1)\n        {\n            int[] new_size_array =new int[grades.length*2];\n            for(int i=0; i&lt;=pointer;i++) new_size_array[i]=grades[i];\n            grades=new_size_array;\n        }\n        pointer++;\n        grades[pointer]=new_element;\n        calculate();\n        return true;\n    }\n\n    public int[] getter()\n    {\n        int[] result = new int[pointer+1];\n        for (int i=0; i&lt;=pointer;i++)\n            result[i]=grades[i];\n        return  result;\n    }\n    public void to_string(){\n        System.out.println(Arrays.toString(getter()));\n    }\n\n\n\n}\n\n</code></pre>\n<p>I have done this, but I strongly believe it is completely wrong and Im moving in the wrong direction. Im relatively new to programming, so please make your explanations as detailed as possible. Thamks!</p>\n<pre><code>import java.util.Arrays;\nimport java.lang.reflect.Array;\n\npublic class StudentGradesGeneric &lt;E extends Comparable&lt;E&gt;&gt; extends Number{\n\n\n    public StudentGradesGeneric(Class&lt;E&gt; clazz, int capacity) {\n        grades = (E[]) Array.newInstance(clazz, capacity);\n    }\n\n\n    private E[] grades;\n    private int pointer;\n    private E max_grade;\n    private E min_grade;\n    private E average_grade;\n    private  E better_than_average;\n    private  E worse_than_average;\n    private E excelent_count;\n    private E good_count;\n    private E enaught_count;\n\n    public E getMax_grade() {\n        return max_grade;\n    }\n\n    public E getMin_grade() {\n        return min_grade;\n    }\n\n    public E getAverage_grade() {\n        return average_grade;\n    }\n\n    public E getBetter_than_average() {\n        return better_than_average;\n    }\n\n    public E getWorse_than_average() {\n        return worse_than_average;\n    }\n\n    public E getExcelent_count() {\n        return excelent_count;\n    }\n\n    public E getGood_count() {\n        return good_count;\n    }\n\n    public E getEnough_count() {\n        return enaught_count;\n    }\n\n\n    StudentGradesGeneric()\n    {\n        pointer=-1;\n        grades= (E[]) new Comparable[1000];\n        average_grade=null;\n        better_than_average=null;\n        worse_than_average=null;\n        excelent_count=null;\n        good_count=null;\n        enaught_count=null;\n        max_grade=null;\n        min_grade=null;\n\n    }\n\n    @Override\n    public int intValue() {\n        return 0;\n    }\n\n    @Override\n    public long longValue() {\n        return 0;\n    }\n\n    @Override\n    public float floatValue() {\n        return 0;\n    }\n\n    @Override\n    public double doubleValue() {\n        return 0;\n    }\n\n\n    private &lt;E&gt; void calculate()\n    {\n        average_grade=null;\n        better_than_average=null;\n        worse_than_average=null;\n        excelent_count=null;\n        good_count=null;\n        enaught_count=null;\n        max_grade=null;\n        min_grade=null;\n        if (pointer&lt;0)return;\n        E sum=null;\n        max_grade=grades[0];\n        min_grade=grades[0];\n        for (int i=0; i&lt;=pointer;i++)\n        {\n            sum =grades[i] + sum;\n            if ( grades[i].compareTo(max_grade) &gt; 0)\n                max_grade=grades[i];\n            if(grades[i].compareTo(min_grade) &lt; 0)\n                min_grade=grades[i];\n            if(grades[i].compareTo(91) &gt;= 0)\n                excelent_count++;\n            else if(grades[i]&gt;=71)\n                good_count++;\n            else if (grades[i]&gt;=60)\n                enaught_count++;\n        }\n        average_grade=sum/ (pointer+1);\n\n        for(int i=0; i&lt;=pointer;i++)\n        {\n            if(grades[i]&gt;average_grade)\n                better_than_average++;\n            else\n                worse_than_average++;\n        }\n    }\n\n    private boolean is_valid(E n)\n    {\n        return (n&gt;0 &amp;&amp; n&lt;100);\n    }\n\n    public boolean setter( E marks[])\n    {\n        for(int i=0; i&lt;marks.length; i++)\n        {\n            if(!is_valid(marks[i]))\n                return false;\n        }\n        grades=marks;\n        pointer=marks.length-1;\n        calculate();\n        return true;\n    }\n\n    public boolean adder(E new_element)\n    {\n        if(!is_valid(new_element))\n            return false;\n        if(grades.length==pointer+1)\n        {\n            E[] new_size_array =(E[]) new Comparable[grades.length*2];\n            for(int i=0; i&lt;=pointer;i++)\n                new_size_array[i]=grades[i];\n            grades=new_size_array;\n        }\n        pointer++;\n        grades[pointer]=new_element;\n        calculate();\n        return true;\n    }\n\n    public E[] getter()\n    {\n        E[] result = (E[]) new Comparable[pointer+1];\n        for (int i=0; i&lt;=pointer;i++)\n            result[i]=grades[i];\n        return result;\n    }\n    public void to_string(){\n        System.out.println(Arrays.toString(getter()));\n    }\n\n\n}\n\n</code></pre>\n"},{"tags":["java","json","graphql","rest-assured","rest-assured-jsonpath"],"owner":{"account_id":27781894,"reputation":1,"user_id":21210076,"display_name":"sunita kamboj"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676380944,"creation_date":1676368137,"question_id":75446049,"body_markdown":"I am new to Rest Assured &amp; GraphQL service.\r\nI have a test requirement where I need to validate the address data in JSON response received for multiple PIN codes &amp; fieldnames sent in the request.\r\nRequest:\r\n```\r\nquery{\r\ngetAddress(pinCode:&quot;110074&quot;,&quot;110047&quot;){\r\n addressLine1\r\n addressLine2\r\n city}\r\n}\r\n```\r\n\r\nResponse:\r\n```json\r\n{&quot;data&quot;: {\r\n &quot;addressDetails&quot;: [\r\n  {\r\n   pinCode:&quot;110074&quot;,\r\n   addressLine1:&quot;house number 123&quot;,\r\n   addressLine2:&quot;ABC Colony&quot;\r\n  }\r\n  {\r\n   pinCode:&quot;110047&quot;,\r\n   addressLine1:&quot;house number 567&quot;,\r\n   addressLine2:&quot;XYZ Colony&quot;\r\n  }\r\n]}\r\n}\r\n```\r\n\r\nNumber of PIN codes might increase and details will be fetched for all the PIN codes.\r\n\r\nI want to validate that all the PINcodes details are being received and data received are also to be validated against data in an excel sheet.","title":"How to validate dynamic response structure &amp; data for a GraphQL service using Rest Assured","body":"<p>I am new to Rest Assured &amp; GraphQL service.\nI have a test requirement where I need to validate the address data in JSON response received for multiple PIN codes &amp; fieldnames sent in the request.\nRequest:</p>\n<pre><code>query{\ngetAddress(pinCode:&quot;110074&quot;,&quot;110047&quot;){\n addressLine1\n addressLine2\n city}\n}\n</code></pre>\n<p>Response:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{&quot;data&quot;: {\n &quot;addressDetails&quot;: [\n  {\n   pinCode:&quot;110074&quot;,\n   addressLine1:&quot;house number 123&quot;,\n   addressLine2:&quot;ABC Colony&quot;\n  }\n  {\n   pinCode:&quot;110047&quot;,\n   addressLine1:&quot;house number 567&quot;,\n   addressLine2:&quot;XYZ Colony&quot;\n  }\n]}\n}\n</code></pre>\n<p>Number of PIN codes might increase and details will be fetched for all the PIN codes.</p>\n<p>I want to validate that all the PINcodes details are being received and data received are also to be validated against data in an excel sheet.</p>\n"},{"tags":["java","hibernate","hibernate-search"],"answers":[{"tags":[],"owner":{"account_id":8974783,"reputation":9445,"user_id":6692043,"display_name":"yrodiere"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1676380941,"creation_date":1656315907,"answer_id":72768579,"question_id":72746710,"body_markdown":"EDIT: Hibernate Search 6.2.0.Alpha2 introduced a `hasClause` method on `BooleanPredicateOptionsCollector`/`BooleanPredicateClausesStep`, so you should use that.\r\n\r\n---\r\n\r\nPrevious answer:\r\n\r\nBefore Hibernate Search 6.2, there is no equivalent.\r\n\r\nIn the meantime, you can pass a `List` to `addProbableVendorNameBool` as a workaround. While not very pretty, it will work:\r\n\r\n```\r\n    public SearchPredicate buildProbableVendorNamesPredicate(SearchPredicateFactory pf, Set&lt;String&gt; vendorNames) {\r\n        List&lt;SearchPredicate&gt; clauses = new ArrayList();\r\n\r\n        vendorNames.forEach(name -&gt;\r\n                addProbableVendorNameBool(pf, clauses, name)\r\n        );\r\n\r\n        if (clauses.isEmpty()) {\r\n            return null;\r\n        }\r\n\r\n        BooleanPredicateClausesStep namesBool = pf.bool();\r\n        clauses.forEach(namesBool::should);\r\n        return namesBool.toPredicate();\r\n    }\r\n\r\n    private void addProbableVendorNameBool(SearchPredicateFactory pf, List&lt;SearchPredicate&gt; clauses, String name) {\r\n        ...\r\n    }\r\n```\r\n\r\nOr, if you can change `addProbableVendorNameBool` so that it returns exactly exactly one predicate (e.g. by having it create its own boolean predicate if necessary) or `null`:\r\n\r\n\r\n```\r\n    public SearchPredicate buildProbableVendorNamesPredicate(SearchPredicateFactory pf, Set&lt;String&gt; vendorNames) {\r\n        List&lt;SearchPredicate&gt; clauses = vendorNames.stream()\r\n                .map(name -&gt; buildProbableVendorSingleNamePredicate(pf, name))\r\n                .filter(Objects::nonNull)\r\n                .collect(Collectors.toList());\r\n\r\n        if (clauses.isEmpty()) {\r\n            return null;\r\n        }\r\n\r\n        BooleanPredicateClausesStep namesBool = pf.bool();\r\n        clauses.forEach(namesBool::should);\r\n        return namesBool.toPredicate();\r\n    }\r\n\r\n    private SearchPredicate buildProbableVendorSingleNamePredicate(SearchPredicateFactory pf, String name) {\r\n        ...\r\n        return &lt;something or null&gt;;\r\n    }\r\n```","title":"BooleanJunction#isEmpty equivalent in Hibernate Search 6 BooleanPredicateClausesStep","body":"<p>EDIT: Hibernate Search 6.2.0.Alpha2 introduced a <code>hasClause</code> method on <code>BooleanPredicateOptionsCollector</code>/<code>BooleanPredicateClausesStep</code>, so you should use that.</p>\n<hr />\n<p>Previous answer:</p>\n<p>Before Hibernate Search 6.2, there is no equivalent.</p>\n<p>In the meantime, you can pass a <code>List</code> to <code>addProbableVendorNameBool</code> as a workaround. While not very pretty, it will work:</p>\n<pre><code>    public SearchPredicate buildProbableVendorNamesPredicate(SearchPredicateFactory pf, Set&lt;String&gt; vendorNames) {\n        List&lt;SearchPredicate&gt; clauses = new ArrayList();\n\n        vendorNames.forEach(name -&gt;\n                addProbableVendorNameBool(pf, clauses, name)\n        );\n\n        if (clauses.isEmpty()) {\n            return null;\n        }\n\n        BooleanPredicateClausesStep namesBool = pf.bool();\n        clauses.forEach(namesBool::should);\n        return namesBool.toPredicate();\n    }\n\n    private void addProbableVendorNameBool(SearchPredicateFactory pf, List&lt;SearchPredicate&gt; clauses, String name) {\n        ...\n    }\n</code></pre>\n<p>Or, if you can change <code>addProbableVendorNameBool</code> so that it returns exactly exactly one predicate (e.g. by having it create its own boolean predicate if necessary) or <code>null</code>:</p>\n<pre><code>    public SearchPredicate buildProbableVendorNamesPredicate(SearchPredicateFactory pf, Set&lt;String&gt; vendorNames) {\n        List&lt;SearchPredicate&gt; clauses = vendorNames.stream()\n                .map(name -&gt; buildProbableVendorSingleNamePredicate(pf, name))\n                .filter(Objects::nonNull)\n                .collect(Collectors.toList());\n\n        if (clauses.isEmpty()) {\n            return null;\n        }\n\n        BooleanPredicateClausesStep namesBool = pf.bool();\n        clauses.forEach(namesBool::should);\n        return namesBool.toPredicate();\n    }\n\n    private SearchPredicate buildProbableVendorSingleNamePredicate(SearchPredicateFactory pf, String name) {\n        ...\n        return &lt;something or null&gt;;\n    }\n</code></pre>\n"}],"owner":{"account_id":5922405,"reputation":162,"user_id":4659370,"display_name":"Rick Gagne"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":176,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72768579,"answer_count":1,"score":0,"last_activity_date":1676380941,"creation_date":1656086705,"question_id":72746710,"body_markdown":"Hibernate Search 5 BooleanJunction has a useful isEmpty() method to you can determine whether any clauses actually exist.  This helps when building the Queries upstream b/c we won&#39;t include, or will alter our Query if a particular BooleanJunction is empty since it will not provide the results desired.\r\n\r\nWhat is the equivalent for BooleanPredicateClausesStep in Hibernate Search 6?  I don&#39;t see one, so is there another way to determine whether a BooleanPredicateClausesStep is empty or has no clauses contained within it?\r\n\r\nProviding some example code to illustrate.\r\n\r\nHibernate Search 5.10.7.Final:\r\n```\r\n     public Query buildProbableVendorNamesQuery(FullTextSession fts, QueryBuilder qb, Set&lt;String&gt; vendorNames) {\r\n            BooleanJunction namesBool = qb.bool();\r\n\r\n            vendorNames.forEach(name -&gt;\r\n                    addProbableVendorNameBool(fts, qb, namesBool, name)\r\n            );\r\n    \r\n            return namesBool.isEmpty() ? null : namesBool.createQuery();\r\n        }\r\n```\r\nHibernate Search 6.1.5.Final:\r\n```\r\n    public SearchPredicate buildProbableVendorNamesPredicate(SearchPredicateFactory pf, Set&lt;String&gt; vendorNames) {\r\n        BooleanPredicateClausesStep namesBool = pf.bool();\r\n\r\n        vendorNames.forEach(name -&gt;\r\n                addProbableVendorNameBool(pf, namesBool, name)\r\n        );\r\n\r\n        //TODO: How can we know if namesBool is empty so we can return null?\r\n        return namesBool.toPredicate();\r\n    }\r\n```\r\nThere are various reasons why namesBool could be empty, 1 being that the name itself ended up being a stop word or normalizing down to nothing. In that case we&#39;d want to inform the caller upstream that the SearchPredicate is null so don&#39;t attempt to use it in a query.","title":"BooleanJunction#isEmpty equivalent in Hibernate Search 6 BooleanPredicateClausesStep","body":"<p>Hibernate Search 5 BooleanJunction has a useful isEmpty() method to you can determine whether any clauses actually exist.  This helps when building the Queries upstream b/c we won't include, or will alter our Query if a particular BooleanJunction is empty since it will not provide the results desired.</p>\n<p>What is the equivalent for BooleanPredicateClausesStep in Hibernate Search 6?  I don't see one, so is there another way to determine whether a BooleanPredicateClausesStep is empty or has no clauses contained within it?</p>\n<p>Providing some example code to illustrate.</p>\n<p>Hibernate Search 5.10.7.Final:</p>\n<pre><code>     public Query buildProbableVendorNamesQuery(FullTextSession fts, QueryBuilder qb, Set&lt;String&gt; vendorNames) {\n            BooleanJunction namesBool = qb.bool();\n\n            vendorNames.forEach(name -&gt;\n                    addProbableVendorNameBool(fts, qb, namesBool, name)\n            );\n    \n            return namesBool.isEmpty() ? null : namesBool.createQuery();\n        }\n</code></pre>\n<p>Hibernate Search 6.1.5.Final:</p>\n<pre><code>    public SearchPredicate buildProbableVendorNamesPredicate(SearchPredicateFactory pf, Set&lt;String&gt; vendorNames) {\n        BooleanPredicateClausesStep namesBool = pf.bool();\n\n        vendorNames.forEach(name -&gt;\n                addProbableVendorNameBool(pf, namesBool, name)\n        );\n\n        //TODO: How can we know if namesBool is empty so we can return null?\n        return namesBool.toPredicate();\n    }\n</code></pre>\n<p>There are various reasons why namesBool could be empty, 1 being that the name itself ended up being a stop word or normalizing down to nothing. In that case we'd want to inform the caller upstream that the SearchPredicate is null so don't attempt to use it in a query.</p>\n"},{"tags":["java","android","react-native","kotlin","okhttp"],"answers":[{"comments":[{"owner":{"account_id":24695717,"reputation":33,"user_id":18587725,"display_name":"Harjinder Singh"},"score":0,"creation_date":1676379665,"post_id":75440096,"comment_id":133121750,"body_markdown":"Thanks for your help, but adding CustomInterceptor as a networkInterceptor didn&#39;t solve my problem.\nInstead it started intercepting request between my local Javascript Bundler and my App.","body":"Thanks for your help, but adding CustomInterceptor as a networkInterceptor didn&#39;t solve my problem. Instead it started intercepting request between my local Javascript Bundler and my App."}],"tags":[],"owner":{"account_id":459638,"reputation":6041,"user_id":860212,"display_name":"karllindmark"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676314369,"creation_date":1676314369,"answer_id":75440096,"question_id":75437743,"body_markdown":"Have you considered adding your `CustomInterceptor` as a [&quot;network interceptor&quot;][1]? That might help to get more information from it (not completely sure that&#39;s actually what you need in the long run, though).\r\n\r\n```\r\nreturn clientBuilder\r\n    .certificatePinner(certificatePinner)\r\n    .addNetworkInterceptor(new CustomInterceptor())\r\n    .build();\r\n```\r\n\r\n\r\n  [1]: https://square.github.io/okhttp/features/interceptors/#network-interceptors","title":"chain.proceed(request) not returning any response","body":"<p>Have you considered adding your <code>CustomInterceptor</code> as a <a href=\"https://square.github.io/okhttp/features/interceptors/#network-interceptors\" rel=\"nofollow noreferrer\">&quot;network interceptor&quot;</a>? That might help to get more information from it (not completely sure that's actually what you need in the long run, though).</p>\n<pre><code>return clientBuilder\n    .certificatePinner(certificatePinner)\n    .addNetworkInterceptor(new CustomInterceptor())\n    .build();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":24695717,"reputation":33,"user_id":18587725,"display_name":"Harjinder Singh"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1676380628,"creation_date":1676380628,"answer_id":75448410,"question_id":75437743,"body_markdown":"I have been able to get around this problem by adding the chain.proceed(request) in try-catch block and catching the exception. Exception object contains the message that request failed due to invalid SSL hash.\r\n\r\n    @Override\r\n    public Response intercept(Chain chain) throws IOException {\r\n        Request request = chain.request();\r\n        System.out.println(&quot;My Client::: Intercepted request: &quot; +request.toString());\r\n        Response res= null;\r\n        try{\r\n            res=chain.proceed(request);\r\n        }catch(Exception e){\r\n            System.out.println(e);\r\n        }\r\n        System.out.println(&quot;My Client::: Intercepted response: &quot; + res.toString());\r\n        return res;\r\n    }\r\n\r\n\r\n","title":"chain.proceed(request) not returning any response","body":"<p>I have been able to get around this problem by adding the chain.proceed(request) in try-catch block and catching the exception. Exception object contains the message that request failed due to invalid SSL hash.</p>\n<pre><code>@Override\npublic Response intercept(Chain chain) throws IOException {\n    Request request = chain.request();\n    System.out.println(&quot;My Client::: Intercepted request: &quot; +request.toString());\n    Response res= null;\n    try{\n        res=chain.proceed(request);\n    }catch(Exception e){\n        System.out.println(e);\n    }\n    System.out.println(&quot;My Client::: Intercepted response: &quot; + res.toString());\n    return res;\n}\n</code></pre>\n"}],"owner":{"account_id":24695717,"reputation":33,"user_id":18587725,"display_name":"Harjinder Singh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":221,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":75448410,"answer_count":2,"score":2,"last_activity_date":1676380628,"creation_date":1676301219,"question_id":75437743,"body_markdown":"I have implemented SSL pinning in my react-native app in the android code and i want to get some sort of message/warning when the request is rejected due to invalid SSL hash, so i added an interceptor to get the message from the response.\r\n\r\nHere is code of the added interceptor,\r\n```\r\nOkHttpClient.Builder clientBuilder = OkHttpClientProvider.createClientBuilder();\r\n         return clientBuilder\r\n                 .certificatePinner(certificatePinner)\r\n                 .addInterceptor(new CustomInterceptor())\r\n                 .build();\r\n```\r\n\r\nThe problem is when i add an invalid key (for testing purposes), the code below `chain.proceed(request)` never runs, i am not familiar with OKHTTP or android, but i am guessing it automatically returns a null response in case the request is rejected. \r\n\r\nIs there any way to get the response object even if the request is rejected due to invalid SSL hash.\r\n\r\nHere is code for my interceptor.\r\n\r\n```\r\npublic class CustomInterceptor implements Interceptor {\r\n    @Override\r\n    public Response intercept(Chain chain) throws IOException {\r\n        Request request = chain.request();\r\n        System.out.println(&quot;My Client::: Intercepted request: &quot; +request.toString());\r\n        Response res= chain.proceed(request);\r\n        System.out.println(&quot;My Client::: Intercepted response: &quot; + res.toString());\r\n        return res;\r\n    }\r\n}\r\n```\r\n\r\nIn my app Axios is used as a network managing library and i haven&#39;t found any library for SSL pinning which works with Axios, that is the reason i had to add that directly at native code. Any other solution regarding this is also welcome.","title":"chain.proceed(request) not returning any response","body":"<p>I have implemented SSL pinning in my react-native app in the android code and i want to get some sort of message/warning when the request is rejected due to invalid SSL hash, so i added an interceptor to get the message from the response.</p>\n<p>Here is code of the added interceptor,</p>\n<pre><code>OkHttpClient.Builder clientBuilder = OkHttpClientProvider.createClientBuilder();\n         return clientBuilder\n                 .certificatePinner(certificatePinner)\n                 .addInterceptor(new CustomInterceptor())\n                 .build();\n</code></pre>\n<p>The problem is when i add an invalid key (for testing purposes), the code below <code>chain.proceed(request)</code> never runs, i am not familiar with OKHTTP or android, but i am guessing it automatically returns a null response in case the request is rejected.</p>\n<p>Is there any way to get the response object even if the request is rejected due to invalid SSL hash.</p>\n<p>Here is code for my interceptor.</p>\n<pre><code>public class CustomInterceptor implements Interceptor {\n    @Override\n    public Response intercept(Chain chain) throws IOException {\n        Request request = chain.request();\n        System.out.println(&quot;My Client::: Intercepted request: &quot; +request.toString());\n        Response res= chain.proceed(request);\n        System.out.println(&quot;My Client::: Intercepted response: &quot; + res.toString());\n        return res;\n    }\n}\n</code></pre>\n<p>In my app Axios is used as a network managing library and i haven't found any library for SSL pinning which works with Axios, that is the reason i had to add that directly at native code. Any other solution regarding this is also welcome.</p>\n"},{"tags":["java","redisson","jcache"],"comments":[{"owner":{"account_id":633896,"reputation":3552,"user_id":399637,"accept_rate":90,"display_name":"res1"},"score":0,"creation_date":1673308452,"post_id":75063978,"comment_id":132465678,"body_markdown":"from [redisson doc](https://github.com/redisson/redisson/wiki/4.-data-serialization) it seems that `Redisson` uses [Kryo](https://github.com/EsotericSoftware/kryo) as default data serializer/deserializer. I suppose this is the same when used with `JCache`.","body":"from <a href=\"https://github.com/redisson/redisson/wiki/4.-data-serialization\" rel=\"nofollow noreferrer\">redisson doc</a> it seems that <code>Redisson</code> uses <a href=\"https://github.com/EsotericSoftware/kryo\" rel=\"nofollow noreferrer\">Kryo</a> as default data serializer/deserializer. I suppose this is the same when used with <code>JCache</code>."}],"answers":[{"tags":[],"owner":{"account_id":633896,"reputation":3552,"user_id":399637,"accept_rate":90,"display_name":"res1"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1676379705,"creation_date":1676379705,"answer_id":75448223,"question_id":75063978,"body_markdown":"As my comment, from [redisson documentation](https://github.com/redisson/redisson/wiki/4.-data-serialization) `Redisson` use [Kryo](https://github.com/EsotericSoftware/kryo) as default data serializer/deserializer.","title":"JCache with Redisson, how serialization / deserialization works?","body":"<p>As my comment, from <a href=\"https://github.com/redisson/redisson/wiki/4.-data-serialization\" rel=\"nofollow noreferrer\">redisson documentation</a> <code>Redisson</code> use <a href=\"https://github.com/EsotericSoftware/kryo\" rel=\"nofollow noreferrer\">Kryo</a> as default data serializer/deserializer.</p>\n"}],"owner":{"account_id":633896,"reputation":3552,"user_id":399637,"accept_rate":90,"display_name":"res1"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":284,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75448223,"answer_count":1,"score":0,"last_activity_date":1676379705,"creation_date":1673306831,"question_id":75063978,"body_markdown":"I am using `JCache` with `Redisson`, it&#39;s not clear to me how serialization/deserialization works while using the cache.\r\n\r\n\r\nWhen I setup the `Cache` via configuration I didn&#39;t setup anything about this. Is this done transparently?\r\n\r\nThe objects I am storing in cache are lists, objects from `java.time` for example, but I require all of objects of the classes I am storing in the cache implement `Serializable`, is this enough?\r\n\r\nLooking at the data on redis it seems it is storing data serialized via java default serialization, am I wrong?\r\n\r\nCan I control this behaviour? or it&#39;s better to leave it as it is ?\r\n\r\nThanks for help\r\n","title":"JCache with Redisson, how serialization / deserialization works?","body":"<p>I am using <code>JCache</code> with <code>Redisson</code>, it's not clear to me how serialization/deserialization works while using the cache.</p>\n<p>When I setup the <code>Cache</code> via configuration I didn't setup anything about this. Is this done transparently?</p>\n<p>The objects I am storing in cache are lists, objects from <code>java.time</code> for example, but I require all of objects of the classes I am storing in the cache implement <code>Serializable</code>, is this enough?</p>\n<p>Looking at the data on redis it seems it is storing data serialized via java default serialization, am I wrong?</p>\n<p>Can I control this behaviour? or it's better to leave it as it is ?</p>\n<p>Thanks for help</p>\n"},{"tags":["java","spring-mvc"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1418669495,"post_id":27490953,"comment_id":43413664,"body_markdown":"You should be programming to interfaces so your code should use the `EmployeeService`. Next your `EmployeeService` is actually not that good as a service should represent useless, functions of your system. You are only using it as an added layer of complexity to hide your dao.","body":"You should be programming to interfaces so your code should use the <code>EmployeeService</code>. Next your <code>EmployeeService</code> is actually not that good as a service should represent useless, functions of your system. You are only using it as an added layer of complexity to hide your dao."},{"owner":{"account_id":1638661,"reputation":2399,"user_id":1511531,"display_name":"Semih Eker"},"score":0,"creation_date":1418669640,"post_id":27490953,"comment_id":43413738,"body_markdown":"I think main reason is the Dependency Injection. Read this post; http://stackoverflow.com/questions/256255/spring-and-interfaces","body":"I think main reason is the Dependency Injection. Read this post; <a href=\"http://stackoverflow.com/questions/256255/spring-and-interfaces\">stackoverflow.com/questions/256255/spring-and-interfaces</a>"},{"owner":{"account_id":872746,"reputation":1869,"user_id":923233,"display_name":"Divanshu"},"score":0,"creation_date":1527136359,"post_id":27490953,"comment_id":88014490,"body_markdown":"I know it&#39;s an old post but just wanted to make a point, there are no justification on using the Impl classes.  The point of using interface is to have more than one implementations(if not now, then most likely in future).  For sake of adding the the interface is of no use. e.g. you could use ListService interface which have list() method and then you can have EmployeeService class which can implement it but writing EmployeeService interface and EmployeeServiceImpl is useless.  Ref: [link](https://octoperf.com/blog/2016/10/27/impl-classes-are-evil/)","body":"I know it&#39;s an old post but just wanted to make a point, there are no justification on using the Impl classes.  The point of using interface is to have more than one implementations(if not now, then most likely in future).  For sake of adding the the interface is of no use. e.g. you could use ListService interface which have list() method and then you can have EmployeeService class which can implement it but writing EmployeeService interface and EmployeeServiceImpl is useless.  Ref: <a href=\"https://octoperf.com/blog/2016/10/27/impl-classes-are-evil/\" rel=\"nofollow noreferrer\">link</a>"}],"answers":[{"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":2,"creation_date":1418669757,"post_id":27491052,"comment_id":43413808,"body_markdown":"You can also add AOP without using interfaces, there are other ways.","body":"You can also add AOP without using interfaces, there are other ways."}],"tags":[],"owner":{"account_id":5278944,"reputation":114,"user_id":4214943,"display_name":"rfceron"},"comment_count":1,"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1418669540,"creation_date":1418669540,"answer_id":27491052,"question_id":27490953,"body_markdown":"Interfaces are always a good practice for decoupling, but also, when speaking about Spring, there are several features you can use having interfaces rather than concrete classes. \r\n\r\nA big advantage is proxying - Spring AOP. \r\n\r\nYou can find more information here: http://docs.spring.io/spring/docs/3.0.x/spring-framework-reference/html/aop.html\r\n\r\nThere are other advantages, like post processing and things like that, but I think you will have an interesting reading on Spring AOP. \r\n\r\n","title":"Why we are using interface in spring MVC pattern?","body":"<p>Interfaces are always a good practice for decoupling, but also, when speaking about Spring, there are several features you can use having interfaces rather than concrete classes. </p>\n\n<p>A big advantage is proxying - Spring AOP. </p>\n\n<p>You can find more information here: <a href=\"http://docs.spring.io/spring/docs/3.0.x/spring-framework-reference/html/aop.html\" rel=\"nofollow\">http://docs.spring.io/spring/docs/3.0.x/spring-framework-reference/html/aop.html</a></p>\n\n<p>There are other advantages, like post processing and things like that, but I think you will have an interesting reading on Spring AOP. </p>\n"},{"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1418669815,"post_id":27491085,"comment_id":43413836,"body_markdown":"That isn&#39;t true. Spring can create class based proxies as well, or utilize AspectJ with load-time weaving to apply AOP.","body":"That isn&#39;t true. Spring can create class based proxies as well, or utilize AspectJ with load-time weaving to apply AOP."},{"owner":{"account_id":983997,"reputation":7005,"user_id":1002972,"accept_rate":61,"display_name":"manash"},"score":0,"creation_date":1418670073,"post_id":27491085,"comment_id":43413990,"body_markdown":"@M.Deinum I know that AspectJ can be used to create proxies, I wrote this &quot;simple&quot; answer according to the level of the question.","body":"@M.Deinum I know that AspectJ can be used to create proxies, I wrote this &quot;simple&quot; answer according to the level of the question."}],"tags":[],"owner":{"account_id":983997,"reputation":7005,"user_id":1002972,"accept_rate":61,"display_name":"manash"},"comment_count":2,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1418669665,"creation_date":1418669665,"answer_id":27491085,"question_id":27490953,"body_markdown":"It is recommended to write code against interfaces instead specific implementations.\r\n\r\nThis way, the client code doesn&#39;t know the specific implementations but only knows the contract.\r\n\r\nRegarding Spring, you generally have to use interfaces since Spring often needs to create Java proxies and this can be done only for classes that implement interfaces.","title":"Why we are using interface in spring MVC pattern?","body":"<p>It is recommended to write code against interfaces instead specific implementations.</p>\n\n<p>This way, the client code doesn't know the specific implementations but only knows the contract.</p>\n\n<p>Regarding Spring, you generally have to use interfaces since Spring often needs to create Java proxies and this can be done only for classes that implement interfaces.</p>\n"},{"tags":[],"owner":{"account_id":4443039,"reputation":3322,"user_id":3617127,"accept_rate":100,"display_name":"Panther"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1418669674,"creation_date":1418669674,"answer_id":27491089,"question_id":27490953,"body_markdown":"It don&#39;t have much .to do with Spring or MVC.It is good practice to design with interfaces, so that implementation can be changes easily. It provides loose coupling and if you are using spring you can siimply change implementation. Whenver needed.\r\n\r\nAlso , it helps during testing with Junit. You can easily mockup your dao.","title":"Why we are using interface in spring MVC pattern?","body":"<p>It don't have much .to do with Spring or MVC.It is good practice to design with interfaces, so that implementation can be changes easily. It provides loose coupling and if you are using spring you can siimply change implementation. Whenver needed.</p>\n\n<p>Also , it helps during testing with Junit. You can easily mockup your dao.</p>\n"},{"tags":[],"owner":{"account_id":313216,"reputation":44997,"user_id":627727,"accept_rate":84,"display_name":"mkobit"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1418671940,"creation_date":1418670248,"answer_id":27491238,"question_id":27490953,"body_markdown":"A few principles that are part of the [SOLID][1] acronym for OO design apply to this: \r\n\r\n 1. [Liskov substitution principle][2] - you should be able substitute any subtype of `T` without affecting the outcome of the problem. E.g., if you call a method that returns a `List&lt;&gt;`, and the underlying implementation switches from returning an `ArrayList&lt;&gt;` to a `LinkedList&lt;&gt;`, your program should still perform in the same manner. Basically, you should design your classes so that client dependencies can be substituted with subclasses without the client knowing about the change. Here is a short snippet from the wiki page:\r\n\r\n&gt; Substitutability is a principle in object-oriented programming. It\r\n&gt; states that, in a computer program, if S is a subtype of T, then\r\n&gt; objects of type T may be replaced with objects of type S (i.e.,\r\n&gt; objects of type S may substitute objects of type T) without altering\r\n&gt; any of the desirable properties of that program (correctness, task\r\n&gt; performed, etc.)\r\n\r\n 2. [Dependency inversion principle][3] - The main idea is that you isolate the class behind a boundary based upon the abstractions it depends on. That way if any of the details that sit behind those abstractions change, the class will be unaffected.\r\n\r\n&gt; In object-oriented programming, the dependency inversion principle\r\n&gt; refers to a specific form of decoupling software modules. When\r\n&gt; following this principle, the conventional dependency relationships\r\n&gt; established from high-level, policy-setting modules to low-level,\r\n&gt; dependency modules are inverted (i.e. reversed), thus rendering\r\n&gt; high-level modules independent of the low-level module implementation\r\n&gt; details. The principle states\r\n&gt; \r\n&gt;         A. High-level modules should not depend on low-level modules. \r\n&gt;            Both should depend on abstractions.\r\n&gt;         B. Abstractions should not depend on details. \r\n&gt;            Details should depend on abstractions.\r\n\r\n\r\n  [1]: http://en.wikipedia.org/wiki/SOLID_%28object-oriented_design%29\r\n  [2]: http://en.wikipedia.org/wiki/Liskov_substitution_principle\r\n  [3]: http://en.wikipedia.org/wiki/Dependency_inversion_principle","title":"Why we are using interface in spring MVC pattern?","body":"<p>A few principles that are part of the <a href=\"http://en.wikipedia.org/wiki/SOLID_%28object-oriented_design%29\" rel=\"nofollow\">SOLID</a> acronym for OO design apply to this: </p>\n\n<ol>\n<li><a href=\"http://en.wikipedia.org/wiki/Liskov_substitution_principle\" rel=\"nofollow\">Liskov substitution principle</a> - you should be able substitute any subtype of <code>T</code> without affecting the outcome of the problem. E.g., if you call a method that returns a <code>List&lt;&gt;</code>, and the underlying implementation switches from returning an <code>ArrayList&lt;&gt;</code> to a <code>LinkedList&lt;&gt;</code>, your program should still perform in the same manner. Basically, you should design your classes so that client dependencies can be substituted with subclasses without the client knowing about the change. Here is a short snippet from the wiki page:</li>\n</ol>\n\n<blockquote>\n  <p>Substitutability is a principle in object-oriented programming. It\n  states that, in a computer program, if S is a subtype of T, then\n  objects of type T may be replaced with objects of type S (i.e.,\n  objects of type S may substitute objects of type T) without altering\n  any of the desirable properties of that program (correctness, task\n  performed, etc.)</p>\n</blockquote>\n\n<ol start=\"2\">\n<li><a href=\"http://en.wikipedia.org/wiki/Dependency_inversion_principle\" rel=\"nofollow\">Dependency inversion principle</a> - The main idea is that you isolate the class behind a boundary based upon the abstractions it depends on. That way if any of the details that sit behind those abstractions change, the class will be unaffected.</li>\n</ol>\n\n<blockquote>\n  <p>In object-oriented programming, the dependency inversion principle\n  refers to a specific form of decoupling software modules. When\n  following this principle, the conventional dependency relationships\n  established from high-level, policy-setting modules to low-level,\n  dependency modules are inverted (i.e. reversed), thus rendering\n  high-level modules independent of the low-level module implementation\n  details. The principle states</p>\n\n<pre><code>    A. High-level modules should not depend on low-level modules. \n       Both should depend on abstractions.\n    B. Abstractions should not depend on details. \n       Details should depend on abstractions.\n</code></pre>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":1521734,"reputation":3389,"user_id":1421189,"accept_rate":58,"display_name":"Pranalee"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1418670508,"creation_date":1418670508,"answer_id":27491301,"question_id":27490953,"body_markdown":"Weather spring mvc or not, one should always code to interface. Interface gives me better readability when i just want to see what the class does instead of worrying about how it does it, kind of API exposed to outer world. \r\n\r\nAnother benefit is there could be multiple implementations of &#39;how to do&#39; it and spring helps to switch easily between multiple implementations. For e.g. you could have one more implementation of EmployeeService say FullTimeEmployeeServiceImpl, RemoteEmployeeServiceImpl.\r\n\r\nNow if you have client class which uses EmployeeService:\r\n\r\n    class EmployeeManager{\r\n        private EmployeeService service;\r\n    }\r\n\r\nyou can inject any of bean here \r\n\r\n\r\n    &lt;bean id=&quot;employeeManager&quot; class=&quot;com.abc.EmployeeManager&quot;&gt;\r\n      &lt;property name=&quot;service&quot; ref=&quot;fullTimeEmployee | remoteEmployee&quot; &gt;\r\n    &lt;/bean&gt;\r\n     \r\n    &lt;bean id=&quot;fullTimeEmployee&quot; class=&quot;com.abc.FullTimeEmployeeServiceImpl&quot; /&gt;\r\n    &lt;bean id=&quot;remoteEmployee&quot; class=&quot;com.abc.RemoteEmployeeServiceImpl&quot; /&gt;\r\n\r\n\r\n","title":"Why we are using interface in spring MVC pattern?","body":"<p>Weather spring mvc or not, one should always code to interface. Interface gives me better readability when i just want to see what the class does instead of worrying about how it does it, kind of API exposed to outer world. </p>\n\n<p>Another benefit is there could be multiple implementations of 'how to do' it and spring helps to switch easily between multiple implementations. For e.g. you could have one more implementation of EmployeeService say FullTimeEmployeeServiceImpl, RemoteEmployeeServiceImpl.</p>\n\n<p>Now if you have client class which uses EmployeeService:</p>\n\n<pre><code>class EmployeeManager{\n    private EmployeeService service;\n}\n</code></pre>\n\n<p>you can inject any of bean here </p>\n\n<pre><code>&lt;bean id=\"employeeManager\" class=\"com.abc.EmployeeManager\"&gt;\n  &lt;property name=\"service\" ref=\"fullTimeEmployee | remoteEmployee\" &gt;\n&lt;/bean&gt;\n\n&lt;bean id=\"fullTimeEmployee\" class=\"com.abc.FullTimeEmployeeServiceImpl\" /&gt;\n&lt;bean id=\"remoteEmployee\" class=\"com.abc.RemoteEmployeeServiceImpl\" /&gt;\n</code></pre>\n"}],"owner":{"account_id":5489878,"reputation":79,"user_id":4363550,"display_name":"som"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5877,"favorite_count":0,"down_vote_count":1,"up_vote_count":8,"answer_count":5,"score":7,"last_activity_date":1676379684,"creation_date":1418669143,"question_id":27490953,"body_markdown":"I am new to spring MVC , I have downloaded a small spring MVC project . The project is executing fine but it this project  interfaces and classes are being used .\r\nlike\r\n\r\n&lt;pre&gt;\r\n&lt;code&gt;\r\npublic interface EmployeeService {\r\n\t\r\n\tpublic void addEmployee(Employee employee);\r\n\r\n\tpublic List&lt;Employee&gt; listEmployeess();\r\n\t\r\n\tpublic Employee getEmployee(int empid);\r\n\t\r\n\tpublic void deleteEmployee(Employee employee);\r\n}\r\n&lt;/code&gt;\r\n&lt;/pre&gt;\r\n\r\nAnd\r\n\r\n&lt;pre&gt;\r\n&lt;code&gt;\r\npublic class EmployeeServiceImpl implements EmployeeService {\r\n\r\n\t@Autowired\r\n\tprivate EmployeeDao employeeDao;\r\n\t\r\n\t@Transactional(propagation = Propagation.REQUIRED, readOnly = false)\r\n\tpublic void addEmployee(Employee employee) {\r\n\t\temployeeDao.addEmployee(employee);\r\n\t}\r\n\t\r\n\tpublic List&lt;Employee&gt; listEmployeess() {\r\n\t\treturn employeeDao.listEmployeess();\r\n\t}\r\n\r\n\tpublic Employee getEmployee(int empid) {\r\n\t\treturn employeeDao.getEmployee(empid);\r\n\t}\r\n\t\r\n\tpublic void deleteEmployee(Employee employee) {\r\n\t\temployeeDao.deleteEmployee(employee);\r\n\t}\r\n\r\n}\r\n&lt;/code&gt;\r\n&lt;/pre&gt; \r\n\r\nMy  doubt is if we are using `EmployeeServiceImpl`  what is the need of implementing `EmployeeService` ? same thing is there in `EmployeeDao` and `EmployeeDaoImpl`.","title":"Why we are using interface in spring MVC pattern?","body":"<p>I am new to spring MVC , I have downloaded a small spring MVC project . The project is executing fine but it this project  interfaces and classes are being used .\nlike</p>\n\n<pre>\n<code>\npublic interface EmployeeService {\n\n    public void addEmployee(Employee employee);\n\n    public List listEmployeess();\n\n    public Employee getEmployee(int empid);\n\n    public void deleteEmployee(Employee employee);\n}\n</code>\n</pre>\n\n<p>And</p>\n\n<pre>\n<code>\npublic class EmployeeServiceImpl implements EmployeeService {\n\n    @Autowired\n    private EmployeeDao employeeDao;\n\n    @Transactional(propagation = Propagation.REQUIRED, readOnly = false)\n    public void addEmployee(Employee employee) {\n        employeeDao.addEmployee(employee);\n    }\n\n    public List listEmployeess() {\n        return employeeDao.listEmployeess();\n    }\n\n    public Employee getEmployee(int empid) {\n        return employeeDao.getEmployee(empid);\n    }\n\n    public void deleteEmployee(Employee employee) {\n        employeeDao.deleteEmployee(employee);\n    }\n\n}\n</code>\n</pre> \n\n<p>My  doubt is if we are using <code>EmployeeServiceImpl</code>  what is the need of implementing <code>EmployeeService</code> ? same thing is there in <code>EmployeeDao</code> and <code>EmployeeDaoImpl</code>.</p>\n"},{"tags":["java","c#","double","icollection"],"comments":[{"owner":{"account_id":2918545,"reputation":111845,"user_id":2501279,"display_name":"Guru Stron"},"score":0,"creation_date":1676377241,"post_id":75447586,"comment_id":133120999,"body_markdown":"What is `Double.Divide` for C#? =)","body":"What is <code>Double.Divide</code> for C#? =)"},{"owner":{"account_id":8238102,"reputation":20388,"user_id":6196568,"display_name":"shingo"},"score":0,"creation_date":1676377779,"post_id":75447586,"comment_id":133121165,"body_markdown":"Java only has `Collection&lt;T&gt;`","body":"Java only has <code>Collection&lt;T&gt;</code>"},{"owner":{"account_id":19708136,"reputation":25,"user_id":14429297,"display_name":"Ananda Vicky"},"score":0,"creation_date":1676379148,"post_id":75447586,"comment_id":133121585,"body_markdown":"@GuruStron sorry i mean decimal.Divide","body":"@GuruStron sorry i mean decimal.Divide"}],"owner":{"account_id":19708136,"reputation":25,"user_id":14429297,"display_name":"Ananda Vicky"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676379548,"creation_date":1676376258,"question_id":75447586,"body_markdown":"I imported a program from Github. It is written in C# and I convert the codes to Java. Everything works except one, the method that needs ICollection and decimal.Divide.\r\n\r\nAre there ICollection and decimal.Divide for Java? Or alternatives?\r\n\r\nI opened Apache NetBeans and it shows:\r\n\r\n    cannot find symbol\r\n      symbol:   class ICollection\r\n      location: class MathFormulas\r\n\r\n\r\n    cannot find symbol\r\n      symbol:   variable decimal\r\n      location: class MathFormulas","title":"ICollection and decimal.Divide for Java","body":"<p>I imported a program from Github. It is written in C# and I convert the codes to Java. Everything works except one, the method that needs ICollection and decimal.Divide.</p>\n<p>Are there ICollection and decimal.Divide for Java? Or alternatives?</p>\n<p>I opened Apache NetBeans and it shows:</p>\n<pre><code>cannot find symbol\n  symbol:   class ICollection\n  location: class MathFormulas\n\n\ncannot find symbol\n  symbol:   variable decimal\n  location: class MathFormulas\n</code></pre>\n"},{"tags":["java","selenium","selenium-webdriver","pom.xml","page-factory"],"answers":[{"comments":[{"owner":{"account_id":10487892,"reputation":3,"user_id":7730791,"display_name":"suneetha"},"score":0,"creation_date":1663470321,"post_id":73746751,"comment_id":130246076,"body_markdown":"Thanks for the solution. The issue was resolved when I downgraded my selenium version in maven dependencies.","body":"Thanks for the solution. The issue was resolved when I downgraded my selenium version in maven dependencies."}],"tags":[],"owner":{"account_id":1352170,"reputation":34246,"user_id":1291492,"accept_rate":100,"display_name":"ControlAltDel"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1663340220,"creation_date":1663340220,"answer_id":73746751,"question_id":73746576,"body_markdown":"NoSuchMethodError normally means you compiled with one version, but are running with a different (normally older) version, hence the Exception.\r\n\r\nThe solution is to make sure you are developing and running on the same version of Java, selenium, and any other 3rd party library you are also using","title":"java.lang.NoSuchMethodError: &#39;void org.openqa.selenium.support.PageFactory.initElements(org.openqa.selenium.SearchContext, java.lang.Object)&#39;","body":"<p>NoSuchMethodError normally means you compiled with one version, but are running with a different (normally older) version, hence the Exception.</p>\n<p>The solution is to make sure you are developing and running on the same version of Java, selenium, and any other 3rd party library you are also using</p>\n"},{"tags":[],"owner":{"account_id":26605747,"reputation":1,"user_id":20226611,"display_name":"Krupa Gadhiya"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665617845,"creation_date":1665617845,"answer_id":74049011,"question_id":73746576,"body_markdown":"I just re-added the selenium jar file and TestNG library, and it&#39;s working! \r\n\r\nWork around: Project name &gt; right click &gt; Build path &gt; Configure Build Path... &gt; Add External Library(to add selenium jar file) and &gt; Add Library (to add TestNG)","title":"java.lang.NoSuchMethodError: &#39;void org.openqa.selenium.support.PageFactory.initElements(org.openqa.selenium.SearchContext, java.lang.Object)&#39;","body":"<p>I just re-added the selenium jar file and TestNG library, and it's working!</p>\n<p>Work around: Project name &gt; right click &gt; Build path &gt; Configure Build Path... &gt; Add External Library(to add selenium jar file) and &gt; Add Library (to add TestNG)</p>\n"}],"owner":{"account_id":10487892,"reputation":3,"user_id":7730791,"display_name":"suneetha"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2731,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73746751,"answer_count":2,"score":0,"last_activity_date":1676379458,"creation_date":1663339358,"question_id":73746576,"body_markdown":"I was trying to run my old selenium practiced scripts which were working fine a month ago and are throwing  errors now, especially at the constructor \t\t\r\n\r\n    PageFactory.initElements(driver, this);\r\n    \r\nAny advice?\r\n    \r\n    import org.openqa.selenium.WebElement;\r\n    import org.openqa.selenium.support.FindBy;\r\n    import org.openqa.selenium.support.PageFactory;\r\n    import com.crm.qa.base.TestBase;\r\n    \r\n    public class LoginPage extends TestBase {\r\n    \t\r\n    \t@FindBy(name=&quot;username&quot;)`enter code here`\r\n    \tWebElement Username;\r\n    \r\n    \t@FindBy(name=&quot;password&quot;)\r\n    \tWebElement Password;\r\n    \t\r\n    \t@FindBy(xpath=&quot;//div[@class=&#39;input-group-btn&#39;]//input&quot;)\r\n    \tWebElement LoginBtn;\r\n    \t\r\n    \t@FindBy(xpath=&quot;//a[contains(text(),&#39;Sign Up&#39;)]&quot;)\r\n    \tWebElement SignUPLink;\r\n    \t\r\n    \t@FindBy(xpath=&quot;//a[@class=&#39;navbar-brand&#39;]//img&quot;)\r\n    \tWebElement CRMPROLogo;\r\n    \t\r\n    \tpublic  LoginPage() {\r\n    \t\tPageFactory.initElements(driver, this);\r\n    \t}\r\n    \t//#Actions\r\n    \tpublic String ValidateLoginPageTitle() {\r\n    \t\t return driver.getTitle();\r\n    \t}\r\n    \tpublic boolean ValidateCRMlogoImg() {\r\n    \t\treturn CRMPROLogo.isEnabled();\r\n    \t}\r\n    \tpublic  HomePage ValidateLoginTest(String un, String pwd) throws InterruptedException {\r\n    \t\tUsername.sendKeys(un);\r\n    \t\tPassword.sendKeys(pwd);\r\n    \t\tLoginBtn.click();\r\n    \t\tThread.sleep(3000);\r\n    \t\treturn new HomePage();\r\n    \t}\r\n    }\r\n    \r\n    \r\nStacktrace\r\n    \r\n    FAILED CONFIGURATION: @BeforeMethod SetUp\r\n    java.lang.NoSuchMethodError: &#39;void org.openqa.selenium.support.PageFactory.initElements(org.openqa.selenium.SearchContext, java.lang.Object)&#39;\r\n    \tat com.crm.qa.pages.LoginPage.&lt;init&gt;(LoginPage.java:29)\r\n    \tat com.crm.qa.testcases.LoginPageTest.SetUp(LoginPageTest.java:24)\r\n    \tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:577)","title":"java.lang.NoSuchMethodError: &#39;void org.openqa.selenium.support.PageFactory.initElements(org.openqa.selenium.SearchContext, java.lang.Object)&#39;","body":"<p>I was trying to run my old selenium practiced scripts which were working fine a month ago and are throwing  errors now, especially at the constructor</p>\n<pre><code>PageFactory.initElements(driver, this);\n</code></pre>\n<p>Any advice?</p>\n<pre><code>import org.openqa.selenium.WebElement;\nimport org.openqa.selenium.support.FindBy;\nimport org.openqa.selenium.support.PageFactory;\nimport com.crm.qa.base.TestBase;\n\npublic class LoginPage extends TestBase {\n    \n    @FindBy(name=&quot;username&quot;)`enter code here`\n    WebElement Username;\n\n    @FindBy(name=&quot;password&quot;)\n    WebElement Password;\n    \n    @FindBy(xpath=&quot;//div[@class='input-group-btn']//input&quot;)\n    WebElement LoginBtn;\n    \n    @FindBy(xpath=&quot;//a[contains(text(),'Sign Up')]&quot;)\n    WebElement SignUPLink;\n    \n    @FindBy(xpath=&quot;//a[@class='navbar-brand']//img&quot;)\n    WebElement CRMPROLogo;\n    \n    public  LoginPage() {\n        PageFactory.initElements(driver, this);\n    }\n    //#Actions\n    public String ValidateLoginPageTitle() {\n         return driver.getTitle();\n    }\n    public boolean ValidateCRMlogoImg() {\n        return CRMPROLogo.isEnabled();\n    }\n    public  HomePage ValidateLoginTest(String un, String pwd) throws InterruptedException {\n        Username.sendKeys(un);\n        Password.sendKeys(pwd);\n        LoginBtn.click();\n        Thread.sleep(3000);\n        return new HomePage();\n    }\n}\n</code></pre>\n<p>Stacktrace</p>\n<pre><code>FAILED CONFIGURATION: @BeforeMethod SetUp\njava.lang.NoSuchMethodError: 'void org.openqa.selenium.support.PageFactory.initElements(org.openqa.selenium.SearchContext, java.lang.Object)'\n    at com.crm.qa.pages.LoginPage.&lt;init&gt;(LoginPage.java:29)\n    at com.crm.qa.testcases.LoginPageTest.SetUp(LoginPageTest.java:24)\n    at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:577)\n</code></pre>\n"},{"tags":["java","spring","maven","aop","aspectj"],"comments":[{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1676454166,"post_id":75446269,"comment_id":133138060,"body_markdown":"You do not need a bean definition for a native AspectJ aspect, but the correct load-time weaving configuration instead. As a newbie on SO, please also learn [how to ask a question on SO](https://stackoverflow.com/help/how-to-ask) and provide a [minimal, complete, and verifiable example](https://stackoverflow.com/help/mcve). Thank you. In this case, a complete, minimal sample project on GitHub would be helpful, becasue an aspect snippet without the application code you are tragetting is not very helpful. The problem could be anywhere, also in the configuration.","body":"You do not need a bean definition for a native AspectJ aspect, but the correct load-time weaving configuration instead. As a newbie on SO, please also learn <a href=\"https://stackoverflow.com/help/how-to-ask\">how to ask a question on SO</a> and provide a <a href=\"https://stackoverflow.com/help/mcve\">minimal, complete, and verifiable example</a>. Thank you. In this case, a complete, minimal sample project on GitHub would be helpful, becasue an aspect snippet without the application code you are tragetting is not very helpful. The problem could be anywhere, also in the configuration."}],"owner":{"account_id":19374740,"reputation":1,"user_id":14167253,"display_name":"CYM"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676378716,"creation_date":1676369286,"question_id":75446269,"body_markdown":"I need to bring selectKey from spring to controller.\r\n\r\nI&#39;m working with AspectJ because it&#39;s impossible with Spring AOP, but Expression seems to have no problem.\r\n\r\nConfig xml:\r\n\r\n```xml\r\n&lt;bean id=&quot;jLoggerInsertSelectIdAttribute&quot; class=&quot;dsehs.common.ComAspectjLogging&quot; /&gt;\r\n&lt;bean id=&quot;InsertSelectIdAttribute&quot; class=&quot;com.ibatis.sqlmap.engine.mapping.statement.InsertStatement&quot;&gt;&lt;/bean&gt;\r\n&lt;aop:aspectj-autoproxy /&gt;\r\n```\r\n\r\nAspect class:\r\n\r\n```java\r\n@Aspect \r\npublic class ComAspectjLogging {\r\n    protected Log log = LogFactory.getLog(this.getClass());\r\n\r\n\t@After(&quot;execution(* com.ibatis.sqlmap.engine.mapping.statement.InsertStatement.*(..))&quot;)\r\n    public void getSelectIdAttribute (JoinPoint joinPoint) throws Throwable {\r\n        log.debug(joinPoint.getSignature().getName());\r\n    }\r\n}\r\n```\r\n\r\nI tried Spring AOP(ofcourse it never work), And AspectJ. and another expressions, e.g.\r\n  * `execution(* com.ibatis.sqlmap.engine.impl.SqlMapExecutorDelegate.*(..)) \t`\r\n * `within(com.ibatis.sqlmap.engine.impl.SqlMapExecutorDelegate.executeSelectKey..*)`\r\n\r\nand searching different solution. **can AspectJ check the Maven Framework&#39;s Class? then how can i fix that?**","title":"How can make joinpoint that executeSelectKey Method in SqlMapExecutorDelegate?","body":"<p>I need to bring selectKey from spring to controller.</p>\n<p>I'm working with AspectJ because it's impossible with Spring AOP, but Expression seems to have no problem.</p>\n<p>Config xml:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;bean id=&quot;jLoggerInsertSelectIdAttribute&quot; class=&quot;dsehs.common.ComAspectjLogging&quot; /&gt;\n&lt;bean id=&quot;InsertSelectIdAttribute&quot; class=&quot;com.ibatis.sqlmap.engine.mapping.statement.InsertStatement&quot;&gt;&lt;/bean&gt;\n&lt;aop:aspectj-autoproxy /&gt;\n</code></pre>\n<p>Aspect class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Aspect \npublic class ComAspectjLogging {\n    protected Log log = LogFactory.getLog(this.getClass());\n\n    @After(&quot;execution(* com.ibatis.sqlmap.engine.mapping.statement.InsertStatement.*(..))&quot;)\n    public void getSelectIdAttribute (JoinPoint joinPoint) throws Throwable {\n        log.debug(joinPoint.getSignature().getName());\n    }\n}\n</code></pre>\n<p>I tried Spring AOP(ofcourse it never work), And AspectJ. and another expressions, e.g.</p>\n<ul>\n<li><code>execution(* com.ibatis.sqlmap.engine.impl.SqlMapExecutorDelegate.*(..))    </code></li>\n<li><code>within(com.ibatis.sqlmap.engine.impl.SqlMapExecutorDelegate.executeSelectKey..*)</code></li>\n</ul>\n<p>and searching different solution. <strong>can AspectJ check the Maven Framework's Class? then how can i fix that?</strong></p>\n"},{"tags":["java","docker-compose","airflow"],"answers":[{"comments":[{"owner":{"account_id":1556528,"reputation":1611,"user_id":1447456,"accept_rate":56,"display_name":"Francisco Albert"},"score":0,"creation_date":1637582971,"post_id":67561942,"comment_id":123856653,"body_markdown":"thanks mate, you saved me as well","body":"thanks mate, you saved me as well"},{"owner":{"account_id":16779789,"reputation":181,"user_id":12130253,"display_name":"Марсель Абдуллин"},"score":0,"creation_date":1673253196,"post_id":67561942,"comment_id":132448165,"body_markdown":"when i try to install openjdk-11-jdk i get &#39;unable to locate package&#39;, but 11 jdk install success. Do you know reason?","body":"when i try to install openjdk-11-jdk i get &#39;unable to locate package&#39;, but 11 jdk install success. Do you know reason?"}],"tags":[],"owner":{"account_id":11514826,"reputation":517,"user_id":8971938,"display_name":"Requin"},"comment_count":2,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1621202678,"creation_date":1621202678,"answer_id":67561942,"question_id":67268054,"body_markdown":"Try the following:\r\n\r\nCreate the following Dockerfile in the directory where you also have the docker-compose.yml:\r\n\r\n    FROM apache/airflow:2.0.2\r\n    \r\n    USER root\r\n    \r\n    # Install OpenJDK-11\r\n    RUN apt update &amp;&amp; \\\r\n        apt-get install -y openjdk-11-jdk &amp;&amp; \\\r\n        apt-get install -y ant &amp;&amp; \\\r\n        apt-get clean;\r\n\r\n    # Set JAVA_HOME\r\n    ENV JAVA_HOME /usr/lib/jvm/java-11-openjdk-amd64/\r\n    RUN export JAVA_HOME\r\n    \r\n    USER airflow\r\n    \r\n    WORKDIR /app\r\n    \r\n    COPY requirements.txt /app\r\n    \r\n    RUN pip install --trusted-host pypi.python.org -r requirements.txt\r\n\r\nIn order to install packages via apt, you have to switch to root user. Later, we switch back to user airflow. The specification of the working directory and the installation of python packages through requirements.txt might not apply, depending on your case.\r\n\r\nThen, in your docker-compose.yml, add `build: .` after `&amp;airflow-common`.\r\n\r\nFinally, build your pipeline using `docker-compose up -d --build`.\r\n\r\nFor more information, look here: https://airflow.apache.org/docs/docker-stack/build.html#building-the-image","title":"How to install java in an airflow container using docker-compose.yaml","body":"<p>Try the following:</p>\n<p>Create the following Dockerfile in the directory where you also have the docker-compose.yml:</p>\n<pre><code>FROM apache/airflow:2.0.2\n\nUSER root\n\n# Install OpenJDK-11\nRUN apt update &amp;&amp; \\\n    apt-get install -y openjdk-11-jdk &amp;&amp; \\\n    apt-get install -y ant &amp;&amp; \\\n    apt-get clean;\n\n# Set JAVA_HOME\nENV JAVA_HOME /usr/lib/jvm/java-11-openjdk-amd64/\nRUN export JAVA_HOME\n\nUSER airflow\n\nWORKDIR /app\n\nCOPY requirements.txt /app\n\nRUN pip install --trusted-host pypi.python.org -r requirements.txt\n</code></pre>\n<p>In order to install packages via apt, you have to switch to root user. Later, we switch back to user airflow. The specification of the working directory and the installation of python packages through requirements.txt might not apply, depending on your case.</p>\n<p>Then, in your docker-compose.yml, add <code>build: .</code> after <code>&amp;airflow-common</code>.</p>\n<p>Finally, build your pipeline using <code>docker-compose up -d --build</code>.</p>\n<p>For more information, look here: <a href=\"https://airflow.apache.org/docs/docker-stack/build.html#building-the-image\" rel=\"nofollow noreferrer\">https://airflow.apache.org/docs/docker-stack/build.html#building-the-image</a></p>\n"},{"tags":[],"owner":{"account_id":19916156,"reputation":16,"user_id":14622929,"display_name":"Leandro Queiroz dos Santos"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676378442,"creation_date":1676378442,"answer_id":75447987,"question_id":67268054,"body_markdown":"You have to build your own airflow image.\r\nIn your Dockerfile you have to apt install the airflow and export JAVA_HOME. \r\n\r\nDockerfile example:\r\n\r\n```\r\nFROM apache/airflow:2.5.1\r\nUSER root\r\nRUN apt-get update \\\r\n  &amp;&amp; apt-get install -y --no-install-recommends \\\r\n         openjdk-11-jre-headless \\\r\n  &amp;&amp; apt-get autoremove -yqq --purge \\\r\n  &amp;&amp; apt-get clean \\\r\n  &amp;&amp; rm -rf /var/lib/apt/lists/*\r\nUSER airflow\r\nENV JAVA_HOME=/usr/lib/jvm/java-11-openjdk-amd64\r\nRUN pip install --no-cache-dir apache-airflow-providers-apache-spark==2.1.3\r\n```\r\nBuild command example:  \r\n```\r\ndocker build -t airflow-with-java .\r\n```\r\n\r\nAfter successfully image building edit your docker-compose by replacing airflow image:\r\n```\r\n\r\nx-airflow-common:\r\n  &amp;airflow-common\r\n  image: ${AIRFLOW_IMAGE_NAME:-airflow-with-java}\r\n```\r\n\r\nMore information you can look here: https://airflow.apache.org/docs/docker-stack/build.html","title":"How to install java in an airflow container using docker-compose.yaml","body":"<p>You have to build your own airflow image.\nIn your Dockerfile you have to apt install the airflow and export JAVA_HOME.</p>\n<p>Dockerfile example:</p>\n<pre><code>FROM apache/airflow:2.5.1\nUSER root\nRUN apt-get update \\\n  &amp;&amp; apt-get install -y --no-install-recommends \\\n         openjdk-11-jre-headless \\\n  &amp;&amp; apt-get autoremove -yqq --purge \\\n  &amp;&amp; apt-get clean \\\n  &amp;&amp; rm -rf /var/lib/apt/lists/*\nUSER airflow\nENV JAVA_HOME=/usr/lib/jvm/java-11-openjdk-amd64\nRUN pip install --no-cache-dir apache-airflow-providers-apache-spark==2.1.3\n</code></pre>\n<p>Build command example:</p>\n<pre><code>docker build -t airflow-with-java .\n</code></pre>\n<p>After successfully image building edit your docker-compose by replacing airflow image:</p>\n<pre><code>\nx-airflow-common:\n  &amp;airflow-common\n  image: ${AIRFLOW_IMAGE_NAME:-airflow-with-java}\n</code></pre>\n<p>More information you can look here: <a href=\"https://airflow.apache.org/docs/docker-stack/build.html\" rel=\"nofollow noreferrer\">https://airflow.apache.org/docs/docker-stack/build.html</a></p>\n"}],"owner":{"account_id":10583242,"reputation":51,"user_id":7796375,"display_name":"Venkat"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5218,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1676378442,"creation_date":1619445515,"question_id":67268054,"body_markdown":"I am using this docker-compose.yaml file to run airflow on docker container.\r\n\r\nhttps://airflow.apache.org/docs/apache-airflow/2.0.2/docker-compose.yaml\r\n\r\nI need to install JRE in one of the containers. How do I add instruction to add java to the docker-compose.yaml file?\r\n","title":"How to install java in an airflow container using docker-compose.yaml","body":"<p>I am using this docker-compose.yaml file to run airflow on docker container.</p>\n<p><a href=\"https://airflow.apache.org/docs/apache-airflow/2.0.2/docker-compose.yaml\" rel=\"nofollow noreferrer\">https://airflow.apache.org/docs/apache-airflow/2.0.2/docker-compose.yaml</a></p>\n<p>I need to install JRE in one of the containers. How do I add instruction to add java to the docker-compose.yaml file?</p>\n"},{"tags":["java","jsonpath"],"answers":[{"tags":[],"owner":{"account_id":9641278,"reputation":1707,"user_id":7155432,"display_name":"VaibS"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1676377289,"creation_date":1676377289,"answer_id":75447758,"question_id":75447625,"body_markdown":"Assuming your POJO has different property names:\r\n\r\n    public class GitlabProject {\r\n        private int id;\r\n        @JsonProperty(&quot;http_url_to_repo&quot;)\r\n        private String httpUrlToRepo;\r\n        // Constructor, getters and setters omitted for brevity\r\n    }\r\n    \r\nUse ObjectMapper from the Jackson library to deserialize the JSON array into a list of GitlabProject objects:\r\n\r\n    ObjectMapper objectMapper = new ObjectMapper();\r\n    List&lt;GitlabProject&gt; projects = objectMapper.readValue(json, new TypeReference&lt;List&lt;GitlabProject&gt;&gt;(){});\r\n\r\nYou can do similar thing using Google&#39;s GSON library.\r\n\r\n    List&lt;GitlabProject&gt; projects = new Gson().fromJson(json, new TypeToken&lt;List&lt;GitlabProject&gt;&gt;(){}.getType());\r\n\r\nNot that you&#39;ll need to use @SerializedName if property name is different in this case.\r\n\r\n","title":"Create Java objects more directly from JSON with JsonPath","body":"<p>Assuming your POJO has different property names:</p>\n<pre><code>public class GitlabProject {\n    private int id;\n    @JsonProperty(&quot;http_url_to_repo&quot;)\n    private String httpUrlToRepo;\n    // Constructor, getters and setters omitted for brevity\n}\n</code></pre>\n<p>Use ObjectMapper from the Jackson library to deserialize the JSON array into a list of GitlabProject objects:</p>\n<pre><code>ObjectMapper objectMapper = new ObjectMapper();\nList&lt;GitlabProject&gt; projects = objectMapper.readValue(json, new TypeReference&lt;List&lt;GitlabProject&gt;&gt;(){});\n</code></pre>\n<p>You can do similar thing using Google's GSON library.</p>\n<pre><code>List&lt;GitlabProject&gt; projects = new Gson().fromJson(json, new TypeToken&lt;List&lt;GitlabProject&gt;&gt;(){}.getType());\n</code></pre>\n<p>Not that you'll need to use @SerializedName if property name is different in this case.</p>\n"},{"comments":[{"owner":{"account_id":888714,"reputation":34077,"user_id":927493,"accept_rate":61,"display_name":"J Fabian Meier"},"score":0,"creation_date":1676382156,"post_id":75447976,"comment_id":133122524,"body_markdown":"Sorry, there seems to be a compiler problem in the code: `[175,39] cannot find symbol\n[ERROR]   symbol:   method stream()\n[ERROR]   location: variable list of type com.jayway.jsonpath.Predicate.PredicateContext`","body":"Sorry, there seems to be a compiler problem in the code: <code>[175,39] cannot find symbol [ERROR]   symbol:   method stream() [ERROR]   location: variable list of type com.jayway.jsonpath.Predicate.PredicateContext</code>"}],"tags":[],"owner":{"account_id":9858780,"reputation":491,"user_id":9982796,"display_name":"Abhijith Ravindran"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1676378390,"creation_date":1676378390,"answer_id":75447976,"question_id":75447625,"body_markdown":"This can be done using JsonPath itself directly.\r\nJust define a custom mapping function.\r\n\r\n    List&lt;GitlabProject&gt; projects = JsonPath.parse(json)\r\n        .read(&quot;$[*]&quot;, list -&gt; list.stream()\r\n            .map(obj -&gt; {\r\n                String httpUrl = JsonPath.read(obj, &quot;$.http_url_to_repo&quot;);\r\n                int id = JsonPath.read(obj, &quot;$.id&quot;);\r\n                return new GitlabProject(httpUrl, id);\r\n            })\r\n            .collect(Collectors.toList())\r\n    );\r\n\r\n - &quot;$[*]&quot; - selects all elements in the JSON array \r\n - The lamda expression    inside &quot;read&quot; method extracts all \r\n   &quot;http_url_to_repo&quot; and &quot;id&quot; values    from JSON and creates\r\n   corresponding &quot;GitlabProject&quot;.\r\n - Finally the list    of objects are created using\r\n   &quot;Collectors.toList()&quot;","title":"Create Java objects more directly from JSON with JsonPath","body":"<p>This can be done using JsonPath itself directly.\nJust define a custom mapping function.</p>\n<pre><code>List&lt;GitlabProject&gt; projects = JsonPath.parse(json)\n    .read(&quot;$[*]&quot;, list -&gt; list.stream()\n        .map(obj -&gt; {\n            String httpUrl = JsonPath.read(obj, &quot;$.http_url_to_repo&quot;);\n            int id = JsonPath.read(obj, &quot;$.id&quot;);\n            return new GitlabProject(httpUrl, id);\n        })\n        .collect(Collectors.toList())\n);\n</code></pre>\n<ul>\n<li>&quot;$[*]&quot; - selects all elements in the JSON array</li>\n<li>The lamda expression    inside &quot;read&quot; method extracts all\n&quot;http_url_to_repo&quot; and &quot;id&quot; values    from JSON and creates\ncorresponding &quot;GitlabProject&quot;.</li>\n<li>Finally the list    of objects are created using\n&quot;Collectors.toList()&quot;</li>\n</ul>\n"}],"owner":{"account_id":888714,"reputation":34077,"user_id":927493,"accept_rate":61,"display_name":"J Fabian Meier"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":91,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1676378390,"creation_date":1676376471,"question_id":75447625,"body_markdown":"I create Objects from JsonPath with\r\n\r\n````java\r\nList&lt;String&gt; httpList = JsonPath.read(json, &quot;$.*.http_url_to_repo&quot;);\r\nList&lt;String&gt; idList = JsonPath.read(json, &quot;$.*.id&quot;);\r\n\r\nfor (int i = 0; i &lt; httpList.size(); i++)\r\n{\r\n    back.add(new GitlabProject(httpList.get(i), idList.get(i)));\r\n}\r\n````\r\n\r\nIs there a more direct way to create the `GitlabProject` objects from the JSON?\r\n\r\nThe JSON looks like\r\n\r\n````json\r\n[\r\n    {\r\n        &quot;id&quot;: 63,\r\n        &quot;description&quot;: null,\r\n        &quot;name&quot;: &quot;conti-maven-plugin-mm&quot;,\r\n        &quot;name_with_namespace&quot;: &quot;ik / spu / other / conti-maven-plugin-mm&quot;,\r\n        &quot;path&quot;: &quot;conti-maven-plugin-mm&quot;,\r\n        &quot;path_with_namespace&quot;: &quot;ik/spu/other/conti-maven-plugin-mm&quot;,\r\n        &quot;created_at&quot;: &quot;2023-01-30T12:33:59.218Z&quot;,\r\n        &quot;default_branch&quot;: &quot;main&quot;,\r\n        &quot;tag_list&quot;: [],\r\n        &quot;topics&quot;: [],\r\n        &quot;ssh_url_to_repo&quot;: &quot;git@gitlab-test.continentale.loc:ik/spu/other/conti-maven-plugin-mm.git&quot;,\r\n        &quot;http_url_to_repo&quot;: &quot;https://gitlab-test.continentale.loc/ik/spu/other/conti-maven-plugin-mm.git&quot;,\r\n        &quot;web_url&quot;: &quot;https://gitlab-test.continentale.loc/ik/spu/other/conti-maven-plugin-mm&quot;,\r\n        ....\r\n````\r\n","title":"Create Java objects more directly from JSON with JsonPath","body":"<p>I create Objects from JsonPath with</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;String&gt; httpList = JsonPath.read(json, &quot;$.*.http_url_to_repo&quot;);\nList&lt;String&gt; idList = JsonPath.read(json, &quot;$.*.id&quot;);\n\nfor (int i = 0; i &lt; httpList.size(); i++)\n{\n    back.add(new GitlabProject(httpList.get(i), idList.get(i)));\n}\n</code></pre>\n<p>Is there a more direct way to create the <code>GitlabProject</code> objects from the JSON?</p>\n<p>The JSON looks like</p>\n<pre class=\"lang-json prettyprint-override\"><code>[\n    {\n        &quot;id&quot;: 63,\n        &quot;description&quot;: null,\n        &quot;name&quot;: &quot;conti-maven-plugin-mm&quot;,\n        &quot;name_with_namespace&quot;: &quot;ik / spu / other / conti-maven-plugin-mm&quot;,\n        &quot;path&quot;: &quot;conti-maven-plugin-mm&quot;,\n        &quot;path_with_namespace&quot;: &quot;ik/spu/other/conti-maven-plugin-mm&quot;,\n        &quot;created_at&quot;: &quot;2023-01-30T12:33:59.218Z&quot;,\n        &quot;default_branch&quot;: &quot;main&quot;,\n        &quot;tag_list&quot;: [],\n        &quot;topics&quot;: [],\n        &quot;ssh_url_to_repo&quot;: &quot;git@gitlab-test.continentale.loc:ik/spu/other/conti-maven-plugin-mm.git&quot;,\n        &quot;http_url_to_repo&quot;: &quot;https://gitlab-test.continentale.loc/ik/spu/other/conti-maven-plugin-mm.git&quot;,\n        &quot;web_url&quot;: &quot;https://gitlab-test.continentale.loc/ik/spu/other/conti-maven-plugin-mm&quot;,\n        ....\n</code></pre>\n"},{"tags":["java","jaxb","unmarshalling","utf-16"],"comments":[{"owner":{"account_id":45934,"reputation":203679,"user_id":135589,"accept_rate":100,"display_name":"Jesper"},"score":0,"creation_date":1676376114,"post_id":75447446,"comment_id":133120651,"body_markdown":"The fact that it works fine when you run it with UTF-8 means that the file is actually in UTF-8 and not UTF-16.","body":"The fact that it works fine when you run it with UTF-8 means that the file is actually in UTF-8 and not UTF-16."}],"answers":[{"tags":[],"owner":{"account_id":17835,"reputation":303915,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1676378278,"creation_date":1676376044,"answer_id":75447546,"question_id":75447446,"body_markdown":"There&#39;s several things wrong here (ranging from slightly suboptimal, to potentially very wrong). In increasing order of likelihood of causing the problem:\r\n\r\n1. When constructing an `InputStreamReader`, there&#39;s no need to call `toString()` on the `Charset`, because that class has [a constructor that takes a `Charset`][1], so simply remove the `.toString()`:\r\n\r\n       Reader reader = new InputStreamReader(inputStream, StandardCharsets.UTF_16);\r\n\r\n    This is a tiny nitpick and has no effect on functionality.\r\n\r\n2. Don&#39;t construct a `Reader` at all! XML is a format that&#39;s self-describing when it comes to encoding: Valid XML files can be parsed without knowing the encoding up-front. So instead of creating a `Reader`, simply pass the `InputStream` directly into your XML-handling code. Delete the line that creates the `Reader` and change the next one to this:\r\n\r\n        MarkerDto markerDto = (MarkerDto) jaxbUnmarshaller.unmarshal(inputStream);\r\n\r\n    This *may or may not* fix your problem, depending on whether the input is well-formed.\r\n\r\n3. Your XML file might have `encoding=&quot;UTF-16&quot;` in the header and not actually be UTF-16 encoded. If that&#39;s the case, then it is malformed and a conforming parser will decline to parse it. Verify this by opening the file with the advanced text editor of your choice (I suggest Notepad++ on Windows, Linux users probably know what their preference is) and check if it shows &quot;UTF-16&quot; as encoding (and the content is readable).\r\n\r\n    &gt; If I run the same with UTF-8 everything works fine.\r\n\r\n    This line suggests that that&#39;s what&#39;s actually happening here: the XML file is mis-labeling itself. This needs to be fixed at the point where the XML file is created.\r\n\r\n    Notably, this demo code provides exactly the same `Content is not allowed in prolog.` exception message that is reported in the question:\r\n\r\n    ```\r\n    String xml = &quot;&lt;?xml version=\\&quot;1.0\\&quot; encoding=\\&quot;UTF-16\\&quot;?&gt;\\n&lt;foo /&gt;&quot;;\r\n    JAXBContext jaxbContext = JAXBContext.newInstance();\r\n    Unmarshaller jaxbUnmarshaller = jaxbContext.createUnmarshaller();\r\n    InputStream inputStream = new ByteArrayInputStream(xml.getBytes(StandardCharsets.UTF_8));\r\n    jaxbUnmarshaller.unmarshal(inputStream);\r\n    ```\r\n\r\n    Note that the XML encoding attribute claims `UTF-16`, but the actual data handed to the XML parser is UTF-8 encoded.\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/InputStreamReader.html#%3Cinit%3E(java.io.InputStream,java.nio.charset.Charset)","title":"Problems with JAXB and UTF-16 encoding","body":"<p>There's several things wrong here (ranging from slightly suboptimal, to potentially very wrong). In increasing order of likelihood of causing the problem:</p>\n<ol>\n<li><p>When constructing an <code>InputStreamReader</code>, there's no need to call <code>toString()</code> on the <code>Charset</code>, because that class has <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/InputStreamReader.html#%3Cinit%3E(java.io.InputStream,java.nio.charset.Charset)\" rel=\"nofollow noreferrer\">a constructor that takes a <code>Charset</code></a>, so simply remove the <code>.toString()</code>:</p>\n<pre><code>Reader reader = new InputStreamReader(inputStream, StandardCharsets.UTF_16);\n</code></pre>\n<p>This is a tiny nitpick and has no effect on functionality.</p>\n</li>\n<li><p>Don't construct a <code>Reader</code> at all! XML is a format that's self-describing when it comes to encoding: Valid XML files can be parsed without knowing the encoding up-front. So instead of creating a <code>Reader</code>, simply pass the <code>InputStream</code> directly into your XML-handling code. Delete the line that creates the <code>Reader</code> and change the next one to this:</p>\n<pre><code> MarkerDto markerDto = (MarkerDto) jaxbUnmarshaller.unmarshal(inputStream);\n</code></pre>\n<p>This <em>may or may not</em> fix your problem, depending on whether the input is well-formed.</p>\n</li>\n<li><p>Your XML file might have <code>encoding=&quot;UTF-16&quot;</code> in the header and not actually be UTF-16 encoded. If that's the case, then it is malformed and a conforming parser will decline to parse it. Verify this by opening the file with the advanced text editor of your choice (I suggest Notepad++ on Windows, Linux users probably know what their preference is) and check if it shows &quot;UTF-16&quot; as encoding (and the content is readable).</p>\n<blockquote>\n<p>If I run the same with UTF-8 everything works fine.</p>\n</blockquote>\n<p>This line suggests that that's what's actually happening here: the XML file is mis-labeling itself. This needs to be fixed at the point where the XML file is created.</p>\n<p>Notably, this demo code provides exactly the same <code>Content is not allowed in prolog.</code> exception message that is reported in the question:</p>\n<pre><code>String xml = &quot;&lt;?xml version=\\&quot;1.0\\&quot; encoding=\\&quot;UTF-16\\&quot;?&gt;\\n&lt;foo /&gt;&quot;;\nJAXBContext jaxbContext = JAXBContext.newInstance();\nUnmarshaller jaxbUnmarshaller = jaxbContext.createUnmarshaller();\nInputStream inputStream = new ByteArrayInputStream(xml.getBytes(StandardCharsets.UTF_8));\njaxbUnmarshaller.unmarshal(inputStream);\n</code></pre>\n<p>Note that the XML encoding attribute claims <code>UTF-16</code>, but the actual data handed to the XML parser is UTF-8 encoded.</p>\n</li>\n</ol>\n"}],"owner":{"account_id":27783008,"reputation":13,"user_id":21211017,"display_name":"ca2so"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":268,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75447546,"answer_count":1,"score":1,"last_activity_date":1676378278,"creation_date":1676375552,"question_id":75447446,"body_markdown":"Hi I have a small APP that reads content from an xml file and put it into a corresponding Java object.\r\n\r\nHere is the XML:\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-16&quot;?&gt;\r\n&lt;Marker&gt;\r\n&lt;TimePosition&gt;2700&lt;/TimePosition&gt;\r\n&lt;SamplePosition&gt;119070&lt;/SamplePosition&gt;\r\n&lt;/Marker&gt;\r\n```\r\nhere is the corresponding Java code:\r\n\r\n```\r\nJAXBContext jaxbContext = JAXBContext.newInstance(MarkerDto.class);\r\nUnmarshaller jaxbUnmarshaller = jaxbContext.createUnmarshaller();\r\nInputStream inputStream = new FileInputStream(&quot;D:/marker.xml&quot;);\r\nReader reader = new InputStreamReader(inputStream, StandardCharsets.UTF_16.toString());\r\nMarkerDto markerDto = (MarkerDto) jaxbUnmarshaller.unmarshal(reader);\r\n\r\n```\r\n\r\n\r\n\r\n\r\nIf I run this code I get an &quot;Content is not allowed in prolog.&quot; exception. If I run the same with UTF-8 everything works fine. Does anyone have a clue what might be the problem?","title":"Problems with JAXB and UTF-16 encoding","body":"<p>Hi I have a small APP that reads content from an xml file and put it into a corresponding Java object.</p>\n<p>Here is the XML:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-16&quot;?&gt;\n&lt;Marker&gt;\n&lt;TimePosition&gt;2700&lt;/TimePosition&gt;\n&lt;SamplePosition&gt;119070&lt;/SamplePosition&gt;\n&lt;/Marker&gt;\n</code></pre>\n<p>here is the corresponding Java code:</p>\n<pre><code>JAXBContext jaxbContext = JAXBContext.newInstance(MarkerDto.class);\nUnmarshaller jaxbUnmarshaller = jaxbContext.createUnmarshaller();\nInputStream inputStream = new FileInputStream(&quot;D:/marker.xml&quot;);\nReader reader = new InputStreamReader(inputStream, StandardCharsets.UTF_16.toString());\nMarkerDto markerDto = (MarkerDto) jaxbUnmarshaller.unmarshal(reader);\n\n</code></pre>\n<p>If I run this code I get an &quot;Content is not allowed in prolog.&quot; exception. If I run the same with UTF-8 everything works fine. Does anyone have a clue what might be the problem?</p>\n"},{"tags":["java","exception","cdi"],"comments":[{"owner":{"account_id":3340852,"reputation":1493,"user_id":2807177,"display_name":"gmanjon"},"score":0,"creation_date":1638740430,"post_id":70235576,"comment_id":124162702,"body_markdown":"In which package are you creating this `OrderedObserver`?","body":"In which package are you creating this <code>OrderedObserver</code>?"},{"owner":{"account_id":12463020,"reputation":1,"user_id":9073992,"display_name":"Raphael Giusti"},"score":0,"creation_date":1638808617,"post_id":70235576,"comment_id":124180612,"body_markdown":"Hi, I solved this exception converting my project to Java 8. Thank you for answer me.","body":"Hi, I solved this exception converting my project to Java 8. Thank you for answer me."}],"owner":{"account_id":12463020,"reputation":1,"user_id":9073992,"display_name":"Raphael Giusti"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1638808705,"answer_count":0,"score":0,"last_activity_date":1676378061,"creation_date":1638716550,"question_id":70235576,"body_markdown":"I&#39;m trying to create a java container, but I&#39;m getting the below exception:\r\n\r\n```\r\nDec 05, 2021 11:33:36 AM org.jboss.weld.bootstrap.WeldStartup &lt;clinit&gt;\r\nINFO: WELD-000900: 3.1.0 (Final)\r\nException in thread &quot;main&quot; java.lang.reflect.InaccessibleObjectException: Unable to make protected final java.lang.Class java.lang.ClassLoader.defineClass(java.lang.String,byte[],int,int) throws java.lang.ClassFormatError accessible: module java.base does not &quot;opens java.lang&quot; to unnamed module @5f8754e\r\n\tat java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:354)\r\n\tat java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:297)\r\n\tat java.base/java.lang.reflect.Method.checkCanSetAccessible(Method.java:199)\r\n\tat java.base/java.lang.reflect.Method.setAccessible(Method.java:193)\r\n\tat org.jboss.weld.util.bytecode.ClassFileUtils$1.run(ClassFileUtils.java:88)\r\n\tat java.base/java.security.AccessController.doPrivileged(AccessController.java:569)\r\n\tat org.jboss.weld.util.bytecode.ClassFileUtils.makeClassLoaderMethodsAccessible(ClassFileUtils.java:64)\r\n\tat org.jboss.weld.bootstrap.WeldStartup.startContainer(WeldStartup.java:220)\r\n\tat org.jboss.weld.bootstrap.WeldBootstrap.startContainer(WeldBootstrap.java:72)\r\n\tat org.jboss.weld.environment.se.Weld.initialize(Weld.java:797)\r\n\tat org.jboss.weld.environment.se.Weld.initialize(Weld.java:176)\r\n\tat user_pack.OrderedObserver.main(OrderedObserver.java:13)***\r\n```\r\n\r\nMy code that is generating the exception:\r\n\r\n\r\n    import javax.annotation.Priority;\r\n    import javax.enterprise.event.Observes;\r\n    import javax.enterprise.inject.se.SeContainer;\r\n    import javax.enterprise.inject.se.SeContainerInitializer;\r\n    import javax.interceptor.Interceptor;\r\n    \r\n    public class OrderedObserver {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \r\n    \t\ttry (SeContainer container = SeContainerInitializer.newInstance().initialize()) {\r\n    \t\t\tcontainer.getBeanManager().fireEvent(new MyEvent(&quot;event: &quot; + System.currentTimeMillis()));\r\n    \t\t }\r\n    \t\t\r\n    \t}\r\n    \t\r\n    \tpublic void thisEventBefore(\r\n    \t\t@Observes @Priority(Interceptor.Priority.APPLICATION - 200) \r\n    \t\tMyEvent event) {\r\n    \t\t\r\n    \t\tSystem.out.println(&quot;thisEventBefore: &quot; + event.getValue());\r\n    \t}\r\n    \t\r\n    \tpublic void thisEventAfter(\r\n    \t\t@Observes @Priority(Interceptor.Priority.APPLICATION + 200) \r\n    \t\tMyEvent event) {\r\n    \t\t\r\n    \t\tSystem.out.println(&quot;thisEventAfter: &quot; + event.getValue());\r\n    \t}\r\n    \t\r\n    \t\r\n    }\r\n\r\nJava version:\r\nopenjdk version &quot;17.0.1&quot; 2021-10-19\r\nOpenJDK Runtime Environment 21.9 (build 17.0.1+12)\r\nOpenJDK 64-Bit Server VM 21.9 (build 17.0.1+12, mixed mode, sharing)\r\n\r\n","title":"InaccessibleObjectException when I run java container","body":"<p>I'm trying to create a java container, but I'm getting the below exception:</p>\n<pre><code>Dec 05, 2021 11:33:36 AM org.jboss.weld.bootstrap.WeldStartup &lt;clinit&gt;\nINFO: WELD-000900: 3.1.0 (Final)\nException in thread &quot;main&quot; java.lang.reflect.InaccessibleObjectException: Unable to make protected final java.lang.Class java.lang.ClassLoader.defineClass(java.lang.String,byte[],int,int) throws java.lang.ClassFormatError accessible: module java.base does not &quot;opens java.lang&quot; to unnamed module @5f8754e\n    at java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:354)\n    at java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:297)\n    at java.base/java.lang.reflect.Method.checkCanSetAccessible(Method.java:199)\n    at java.base/java.lang.reflect.Method.setAccessible(Method.java:193)\n    at org.jboss.weld.util.bytecode.ClassFileUtils$1.run(ClassFileUtils.java:88)\n    at java.base/java.security.AccessController.doPrivileged(AccessController.java:569)\n    at org.jboss.weld.util.bytecode.ClassFileUtils.makeClassLoaderMethodsAccessible(ClassFileUtils.java:64)\n    at org.jboss.weld.bootstrap.WeldStartup.startContainer(WeldStartup.java:220)\n    at org.jboss.weld.bootstrap.WeldBootstrap.startContainer(WeldBootstrap.java:72)\n    at org.jboss.weld.environment.se.Weld.initialize(Weld.java:797)\n    at org.jboss.weld.environment.se.Weld.initialize(Weld.java:176)\n    at user_pack.OrderedObserver.main(OrderedObserver.java:13)***\n</code></pre>\n<p>My code that is generating the exception:</p>\n<pre><code>import javax.annotation.Priority;\nimport javax.enterprise.event.Observes;\nimport javax.enterprise.inject.se.SeContainer;\nimport javax.enterprise.inject.se.SeContainerInitializer;\nimport javax.interceptor.Interceptor;\n\npublic class OrderedObserver {\n\n    public static void main(String[] args) {\n\n        try (SeContainer container = SeContainerInitializer.newInstance().initialize()) {\n            container.getBeanManager().fireEvent(new MyEvent(&quot;event: &quot; + System.currentTimeMillis()));\n         }\n        \n    }\n    \n    public void thisEventBefore(\n        @Observes @Priority(Interceptor.Priority.APPLICATION - 200) \n        MyEvent event) {\n        \n        System.out.println(&quot;thisEventBefore: &quot; + event.getValue());\n    }\n    \n    public void thisEventAfter(\n        @Observes @Priority(Interceptor.Priority.APPLICATION + 200) \n        MyEvent event) {\n        \n        System.out.println(&quot;thisEventAfter: &quot; + event.getValue());\n    }\n    \n    \n}\n</code></pre>\n<p>Java version:\nopenjdk version &quot;17.0.1&quot; 2021-10-19\nOpenJDK Runtime Environment 21.9 (build 17.0.1+12)\nOpenJDK 64-Bit Server VM 21.9 (build 17.0.1+12, mixed mode, sharing)</p>\n"},{"tags":["java","tomcat","jax-rs"],"answers":[{"tags":[],"owner":{"account_id":26179080,"reputation":1,"user_id":19862722,"display_name":"MishaBucha"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1662125271,"creation_date":1662125271,"answer_id":73583336,"question_id":73541646,"body_markdown":"The answer was simple enough, I put it in web.xml and it worked. Before that I didn&#39;t touch web.xml because I had WebServlet annotation working, which meant web.xml version &gt;3.0, but it turns out not, after adding this, it all worked\r\n\r\n     &lt;servlet&gt;\r\n       &lt;servlet-name&gt;javax.ws.rs.core.Application&lt;/servlet-name&gt;\r\n     &lt;/servlet&gt;\r\n       &lt;servlet-mapping&gt;\r\n         &lt;servlet-name&gt;javax.ws.rs.core.Application&lt;/servlet-name&gt;\r\n         &lt;url-pattern&gt;/api/*&lt;/url-pattern&gt;\r\n       &lt;/servlet-mapping&gt;\r\n    &lt;/web-app&gt;","title":"Jakarta http 404","body":"<p>The answer was simple enough, I put it in web.xml and it worked. Before that I didn't touch web.xml because I had WebServlet annotation working, which meant web.xml version &gt;3.0, but it turns out not, after adding this, it all worked</p>\n<pre><code> &lt;servlet&gt;\n   &lt;servlet-name&gt;javax.ws.rs.core.Application&lt;/servlet-name&gt;\n &lt;/servlet&gt;\n   &lt;servlet-mapping&gt;\n     &lt;servlet-name&gt;javax.ws.rs.core.Application&lt;/servlet-name&gt;\n     &lt;url-pattern&gt;/api/*&lt;/url-pattern&gt;\n   &lt;/servlet-mapping&gt;\n&lt;/web-app&gt;\n</code></pre>\n"}],"owner":{"account_id":26179080,"reputation":1,"user_id":19862722,"display_name":"MishaBucha"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":201,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73583336,"answer_count":1,"score":0,"last_activity_date":1676377980,"creation_date":1661858571,"question_id":73541646,"body_markdown":"I have a problem in the simplest code here: \r\n\r\n    import jakarta.ws.rs.GET;\r\n    import jakarta.ws.rs.Path;\r\n\r\n    @Path(&quot;/test&quot;)\r\n    public class HelloResource {\r\n\r\n        @GET\r\n        public String sayHello(){\r\n           return &quot;hello&quot;;\r\n        }\r\n     }\r\n\r\nApplication: \r\n\r\n    import jakarta.ws.rs.ApplicationPath;\r\n    import jakarta.ws.rs.core.Application;\r\n\r\n    @ApplicationPath(&quot;/api&quot;)\r\n    public class MyApplication extends Application {\r\n\r\n    }\r\n\r\npom: \r\n\r\n    &lt;dependency&gt;\r\n            &lt;groupId&gt;jakarta.platform&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jakarta.jakartaee-web-api&lt;/artifactId&gt;\r\n            &lt;version&gt;9.0.0&lt;/version&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n      \r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\r\n            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n            &lt;version&gt;42.5.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mapstruct&lt;/artifactId&gt;\r\n            &lt;version&gt;1.5.2.Final&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n            &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\r\n            &lt;version&gt;6.1.2.Final&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;junit&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n            &lt;version&gt;4.13.2&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n    &lt;/dependencies&gt;\r\n\r\nI click on the link: http://localhost:8080/name_war/api/test\r\n\r\nAnd this give to me: \r\n\r\nHttp staus 404 : The requested resource [/javaEE_1_0_SNAPSHOT_war/api/test] is not available\r\n","title":"Jakarta http 404","body":"<p>I have a problem in the simplest code here:</p>\n<pre><code>import jakarta.ws.rs.GET;\nimport jakarta.ws.rs.Path;\n\n@Path(&quot;/test&quot;)\npublic class HelloResource {\n\n    @GET\n    public String sayHello(){\n       return &quot;hello&quot;;\n    }\n }\n</code></pre>\n<p>Application:</p>\n<pre><code>import jakarta.ws.rs.ApplicationPath;\nimport jakarta.ws.rs.core.Application;\n\n@ApplicationPath(&quot;/api&quot;)\npublic class MyApplication extends Application {\n\n}\n</code></pre>\n<p>pom:</p>\n<pre><code>&lt;dependency&gt;\n        &lt;groupId&gt;jakarta.platform&lt;/groupId&gt;\n        &lt;artifactId&gt;jakarta.jakartaee-web-api&lt;/artifactId&gt;\n        &lt;version&gt;9.0.0&lt;/version&gt;\n        &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n  \n    &lt;dependency&gt;\n        &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n        &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n        &lt;version&gt;42.5.0&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\n        &lt;artifactId&gt;mapstruct&lt;/artifactId&gt;\n        &lt;version&gt;1.5.2.Final&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n        &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\n        &lt;version&gt;6.1.2.Final&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;junit&lt;/groupId&gt;\n        &lt;artifactId&gt;junit&lt;/artifactId&gt;\n        &lt;version&gt;4.13.2&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n&lt;/dependencies&gt;\n</code></pre>\n<p>I click on the link: http://localhost:8080/name_war/api/test</p>\n<p>And this give to me:</p>\n<p>Http staus 404 : The requested resource [/javaEE_1_0_SNAPSHOT_war/api/test] is not available</p>\n"},{"tags":["java","selenium-webdriver"],"answers":[{"tags":[],"owner":{"account_id":11849212,"reputation":23,"user_id":8670990,"display_name":"Th&#225;i L&#234;"},"comment_count":0,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1676377517,"creation_date":1676377517,"answer_id":75447798,"question_id":75447043,"body_markdown":"you can get the text and parse them all in pattern","title":"Getting text from a list of Web Elements is slow","body":"<p>you can get the text and parse them all in pattern</p>\n"}],"owner":{"account_id":448713,"reputation":304,"user_id":843075,"accept_rate":17,"display_name":"fdama"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1676377919,"creation_date":1676373430,"question_id":75447043,"body_markdown":"I am scraping data from a web table and I have some code to read the text from each of the web elements(rows) which are in a list and then add this text to another list(columns) to be sent to a method to write to excel. The process of reading the web elements (approx 200 rows) and writing the data to the new list is very slow. Is there a quicker way? Or is this to be expected?\r\n\r\nHere is my code: \r\n\r\n    package mypackage;\r\n    \r\n    import java.io.IOException;\r\n    import java.time.Duration;\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    \r\n    import org.openqa.selenium.By;\r\n    import org.openqa.selenium.WebDriver;\r\n    import org.openqa.selenium.WebElement;\r\n    import org.openqa.selenium.chrome.ChromeDriver;\r\n    \r\n    import com.seleniumpractice.utilities.XLUtils;\r\n    \r\n    import io.github.bonigarcia.wdm.WebDriverManager;\r\n    \r\n    public class CovidWebTable {\r\n    \tstatic WebDriver driver;\r\n    \tstatic XLUtils xl;\r\n    \tstatic List&lt;WebElement&gt; header;\r\n    \tstatic List&lt;WebElement&gt; rows;\r\n    \tstatic List&lt;ArrayList&lt;String&gt;&gt;rowsXL;\r\n    \r\n    \tpublic static void main(String[] args) throws IOException {\r\n    \t\tWebDriverManager.chromedriver().setup();\r\n    \t\tdriver = new ChromeDriver();\r\n    \t\tdriver.get(&quot;https://www.worldometers.info/coronavirus&quot;);\r\n    \t\tdriver.manage().window().maximize();\r\n    \t\tdriver.manage().timeouts().implicitlyWait(Duration.ofSeconds(10));\r\n    \t\t\r\n    \t\tWebElement table = driver.findElement(By.xpath(&quot;//table[@id=&#39;main_table_countries_today&#39;]&quot;));\r\n    \t\trows = table.findElements(By.xpath(&quot;.//tr[@role=&#39;row&#39;]&quot;));\r\n    \t\tSystem.out.println(&quot;Total rows: &quot;+rows.size());\r\n    \t\t\r\n    \t\txl = new XLUtils(&quot;.\\\\datafiles\\\\covid.xls&quot;);\r\n    \t\t//xl.setCellData(null, rows, rows, null);\r\n    \t\t\r\n    \t\trowsXL = new ArrayList&lt;ArrayList&lt;String&gt;&gt;();\r\n    \t\t\r\n    \t\t//Add header\r\n    \t\theader = table.findElements(By.xpath(&quot;.//thead//th&quot;));\r\n    \t\tSystem.out.println(&quot;Header cols: &quot;+ header.size());\r\n    \t\t\r\n    \t\tArrayList&lt;String&gt; headerXL = new ArrayList&lt;String&gt;();\r\n    \t\t\r\n    \t\tfor(int col=1; col&lt;header.size()-1; col++) {\r\n    \t\t\t//xl.setCellData(&quot;Covid Data&quot;, 0, col-1, header.get(col).getText());\r\n    \t\t\theaderXL.add(header.get(col).getText());\r\n    \t\t}\r\n    \t\t\r\n    \t\trowsXL.add(headerXL);\r\n    \t\t\r\n    \t\tint xlRow = 1;\r\n    \t\tint skippedRows = 0;\r\n    \t\t\t\t\r\n    \t\tfor(int r=1; r&lt;rows.size(); r++) {\r\n    \t\t\t\r\n    \t\t\tString a = rows.get(r).getText();\r\n    \t\t\t\r\n    \t\t\t//skip empty rows\r\n    \t\t\tif(rows.get(r).getText().equals(&quot;&quot;)) {\r\n    \t\t\t\tskippedRows++;\r\n    \t\t\t\tcontinue;\r\n    \t\t\t}\r\n    \t\t\tSystem.out.println(&quot;Reading row &quot;+r);\t\r\n    \t\t\t\r\n    \t\tArrayList&lt;String&gt; cols = new ArrayList&lt;String&gt;();\r\n    \t\t\t\r\n    \t\t\tfor(int c=1; c&lt;header.size(); c++) {\r\n    \t\t\t\tString data = rows.get(r).findElement(By.xpath(&quot;.//td[&quot;+(c+1)+&quot;]&quot;)).getText();\r\n    \t\t\t\t//xl.setCellData(&quot;Covid Data&quot;, xlRow, c-1, rows.get(r).findElement(By.xpath(&quot;.//td[&quot;+(c+1)+&quot;]&quot;)).getText());\r\n    \t\t\t\tcols.add(data);\r\n    \t\t\t\t\r\n    \t\t\t}\r\n    \t\t\trowsXL.add(cols);\r\n    \t\t\txlRow++;\r\n    \t\t\t\r\n    \t\t}\r\n    \t\txl.setCellDataFromList(rowsXL, &quot;Orders&quot;);\r\n    \t\tSystem.out.println(&quot;Scraped Rows: &quot;+ rowsXL.size());\r\n    \t\tSystem.out.println(&quot;Skipped Rows: &quot;+skippedRows);\r\n    \t\tSystem.out.println(&quot;Complete.&quot;);\r\n    \t\t\r\n    \t\tdriver.close();\r\n    \t\t\r\n    \t\t\r\n    \t\t\r\n    \t\t\r\n    \r\n    \t\t}\r\n    \r\n    }\r\n\r\n","title":"Getting text from a list of Web Elements is slow","body":"<p>I am scraping data from a web table and I have some code to read the text from each of the web elements(rows) which are in a list and then add this text to another list(columns) to be sent to a method to write to excel. The process of reading the web elements (approx 200 rows) and writing the data to the new list is very slow. Is there a quicker way? Or is this to be expected?</p>\n<p>Here is my code:</p>\n<pre><code>package mypackage;\n\nimport java.io.IOException;\nimport java.time.Duration;\nimport java.util.ArrayList;\nimport java.util.List;\n\nimport org.openqa.selenium.By;\nimport org.openqa.selenium.WebDriver;\nimport org.openqa.selenium.WebElement;\nimport org.openqa.selenium.chrome.ChromeDriver;\n\nimport com.seleniumpractice.utilities.XLUtils;\n\nimport io.github.bonigarcia.wdm.WebDriverManager;\n\npublic class CovidWebTable {\n    static WebDriver driver;\n    static XLUtils xl;\n    static List&lt;WebElement&gt; header;\n    static List&lt;WebElement&gt; rows;\n    static List&lt;ArrayList&lt;String&gt;&gt;rowsXL;\n\n    public static void main(String[] args) throws IOException {\n        WebDriverManager.chromedriver().setup();\n        driver = new ChromeDriver();\n        driver.get(&quot;https://www.worldometers.info/coronavirus&quot;);\n        driver.manage().window().maximize();\n        driver.manage().timeouts().implicitlyWait(Duration.ofSeconds(10));\n        \n        WebElement table = driver.findElement(By.xpath(&quot;//table[@id='main_table_countries_today']&quot;));\n        rows = table.findElements(By.xpath(&quot;.//tr[@role='row']&quot;));\n        System.out.println(&quot;Total rows: &quot;+rows.size());\n        \n        xl = new XLUtils(&quot;.\\\\datafiles\\\\covid.xls&quot;);\n        //xl.setCellData(null, rows, rows, null);\n        \n        rowsXL = new ArrayList&lt;ArrayList&lt;String&gt;&gt;();\n        \n        //Add header\n        header = table.findElements(By.xpath(&quot;.//thead//th&quot;));\n        System.out.println(&quot;Header cols: &quot;+ header.size());\n        \n        ArrayList&lt;String&gt; headerXL = new ArrayList&lt;String&gt;();\n        \n        for(int col=1; col&lt;header.size()-1; col++) {\n            //xl.setCellData(&quot;Covid Data&quot;, 0, col-1, header.get(col).getText());\n            headerXL.add(header.get(col).getText());\n        }\n        \n        rowsXL.add(headerXL);\n        \n        int xlRow = 1;\n        int skippedRows = 0;\n                \n        for(int r=1; r&lt;rows.size(); r++) {\n            \n            String a = rows.get(r).getText();\n            \n            //skip empty rows\n            if(rows.get(r).getText().equals(&quot;&quot;)) {\n                skippedRows++;\n                continue;\n            }\n            System.out.println(&quot;Reading row &quot;+r);   \n            \n        ArrayList&lt;String&gt; cols = new ArrayList&lt;String&gt;();\n            \n            for(int c=1; c&lt;header.size(); c++) {\n                String data = rows.get(r).findElement(By.xpath(&quot;.//td[&quot;+(c+1)+&quot;]&quot;)).getText();\n                //xl.setCellData(&quot;Covid Data&quot;, xlRow, c-1, rows.get(r).findElement(By.xpath(&quot;.//td[&quot;+(c+1)+&quot;]&quot;)).getText());\n                cols.add(data);\n                \n            }\n            rowsXL.add(cols);\n            xlRow++;\n            \n        }\n        xl.setCellDataFromList(rowsXL, &quot;Orders&quot;);\n        System.out.println(&quot;Scraped Rows: &quot;+ rowsXL.size());\n        System.out.println(&quot;Skipped Rows: &quot;+skippedRows);\n        System.out.println(&quot;Complete.&quot;);\n        \n        driver.close();\n        \n        \n        \n        \n\n        }\n\n}\n</code></pre>\n"},{"tags":["java","reflection","dependencies"],"comments":[{"owner":{"account_id":320962,"reputation":31681,"user_id":639520,"accept_rate":72,"display_name":"E-Riz"},"score":0,"creation_date":1676297739,"post_id":75436937,"comment_id":133103312,"body_markdown":"Are you thinking of compiling with both libraries on the classpath, but then removing one of them from the final deployed result during packaging/deployment? If yes, may I ask why?","body":"Are you thinking of compiling with both libraries on the classpath, but then removing one of them from the final deployed result during packaging/deployment? If yes, may I ask why?"},{"owner":{"account_id":21554207,"reputation":93,"user_id":15889782,"display_name":"underflow"},"score":0,"creation_date":1676297959,"post_id":75436937,"comment_id":133103395,"body_markdown":"It&#39;s a framework, and the user starts the boostrap process specifying which backend library should the framework use. As the libraries are pretty heavy, it would be beneficial to avoid shading unused ones into the jar. Additionally, it would protect against accidental load of classes from another library as their static initialization is currently known to be quite heavy on ClassLoader.","body":"It&#39;s a framework, and the user starts the boostrap process specifying which backend library should the framework use. As the libraries are pretty heavy, it would be beneficial to avoid shading unused ones into the jar. Additionally, it would protect against accidental load of classes from another library as their static initialization is currently known to be quite heavy on ClassLoader."}],"answers":[{"comments":[{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1676372620,"post_id":75437119,"comment_id":133119626,"body_markdown":"Related: [Does the JVM throw if an unused class is absent?](https://stackoverflow.com/q/41965457/2711488) As explained there, you might get away with an absent class in some cases due to lazy loading, but it’s unreliable (implementation dependent) and a construct like `isNewBackend ? new FancyBackend() : new OldBackend()` has a high chance of breaking, as it requires the verifier to load all these classes to check whether they are assignable to the base class.","body":"Related: <a href=\"https://stackoverflow.com/q/41965457/2711488\">Does the JVM throw if an unused class is absent?</a> As explained there, you might get away with an absent class in some cases due to lazy loading, but it’s unreliable (implementation dependent) and a construct like <code>isNewBackend ? new FancyBackend() : new OldBackend()</code> has a high chance of breaking, as it requires the verifier to load all these classes to check whether they are assignable to the base class."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1676373851,"post_id":75437119,"comment_id":133119984,"body_markdown":"Further note, the SPI articles are outdated. The API has been extended significantly in Java&#160;9 and the service provider concept became an integral part of the module system. [The class documentation of `ServiceLoader`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/ServiceLoader.html) For SPI examples not possible before Java&#160;9, see [Enum-aware ServiceLoader implementation?](https://stackoverflow.com/q/54719780/2711488) and [Why does JPMS allow annotation types as services](https://stackoverflow.com/q/59593407/2711488).","body":"Further note, the SPI articles are outdated. The API has been extended significantly in Java 9 and the service provider concept became an integral part of the module system. <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/ServiceLoader.html\" rel=\"nofollow noreferrer\">The class documentation of <code>ServiceLoader</code></a> For SPI examples not possible before Java 9, see <a href=\"https://stackoverflow.com/q/54719780/2711488\">Enum-aware ServiceLoader implementation?</a> and <a href=\"https://stackoverflow.com/q/59593407/2711488\">Why does JPMS allow annotation types as services</a>."},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1676377860,"post_id":75437119,"comment_id":133121191,"body_markdown":"Thanks @Holger.  I&#39;ve incorporated most of your comments.","body":"Thanks @Holger.  I&#39;ve incorporated most of your comments."}],"tags":[],"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"comment_count":3,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1676377755,"creation_date":1676298153,"answer_id":75437119,"question_id":75436937,"body_markdown":"&gt; In Java, what&#39;s the proper way of using an optional dependency without `ClassNotFoundError`?\r\n\r\nThe simple way is to use `Class.forName`.\r\n\r\n&gt; I would also like to avoid loading backends using `Class.forName`.\r\n\r\nErm ... OK.\r\n\r\n&gt; Can you help me understand if any of these will lead to a `ClassNotFoundError` for unshaded library and which will not?\r\n\r\nIf I understand what you are proposing correctly, none of them will work.\r\n\r\n&gt;  Leaving an unused class field, of type from this library\r\n\r\nLoading the class that defines that field will trigger&lt;sup&gt;1&lt;/sup&gt; loading the library that defines the type of the field.\r\n\r\n&gt; Leaving an unused method, with arguments or return from this library\r\n\r\nLoading the class that defines that method will trigger&lt;sup&gt;1&lt;/sup&gt; loading the library that defines the argument or return type.\r\n\r\n&gt; Referencing this library in a backend class that will only be loaded conditionally like:\r\n&gt;\r\n&gt;     backend = isNewBackend ? new FancyBackend() : new OldBackend()\r\n\r\nThe code that does that calculation needs to be defined in a class.  To running that code that is liable to trigger&lt;sup&gt;1&lt;/sup&gt; loading *both* the `FancyBackend` and `OldBackend` classes to verify the code.\r\n\r\n----------------------------\r\n\r\nIf you wanted to avoid explicit `Class.forName` calls, you could potentially implement your optional dependency as a custom Service Provider Interface (SPI).  That gives you additional flexibility, but it is *more complicated* than simply using `Class.forName`.\r\n\r\nHere are some references for SPIs:\r\n\r\n  - The [javadocs for `java.utils.ServiceLoader`][1].\r\n  - [Creating Extensible Applications](https://docs.oracle.com/javase/tutorial/ext/basics/spi.html) from the Oracle Java™ Tutorials.  (This tutorial is outdated.)\r\n  - [Java Service Provider Interface](https://www.baeldung.com/java-spi) from Baeldung.\r\n\r\n----------------------------\r\n\r\n&lt;sup&gt;1 - Per https://stackoverflow.com/q/41965457/2711488 if the JVM implements lazy class loading, loading may not be triggered by mentioning a class in a method or field signature.  However, lazy loading is implementation dependent and (AFAIK) not specified.  So relying on the JVM to do it will make your application platform dependent.&lt;/sup&gt;\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/ServiceLoader.html","title":"In Java, what&#39;s the proper way of using an optional dependency without ClassNotFoundError?","body":"<blockquote>\n<p>In Java, what's the proper way of using an optional dependency without <code>ClassNotFoundError</code>?</p>\n</blockquote>\n<p>The simple way is to use <code>Class.forName</code>.</p>\n<blockquote>\n<p>I would also like to avoid loading backends using <code>Class.forName</code>.</p>\n</blockquote>\n<p>Erm ... OK.</p>\n<blockquote>\n<p>Can you help me understand if any of these will lead to a <code>ClassNotFoundError</code> for unshaded library and which will not?</p>\n</blockquote>\n<p>If I understand what you are proposing correctly, none of them will work.</p>\n<blockquote>\n<p>Leaving an unused class field, of type from this library</p>\n</blockquote>\n<p>Loading the class that defines that field will trigger<sup>1</sup> loading the library that defines the type of the field.</p>\n<blockquote>\n<p>Leaving an unused method, with arguments or return from this library</p>\n</blockquote>\n<p>Loading the class that defines that method will trigger<sup>1</sup> loading the library that defines the argument or return type.</p>\n<blockquote>\n<p>Referencing this library in a backend class that will only be loaded conditionally like:</p>\n<pre><code>backend = isNewBackend ? new FancyBackend() : new OldBackend()\n</code></pre>\n</blockquote>\n<p>The code that does that calculation needs to be defined in a class.  To running that code that is liable to trigger<sup>1</sup> loading <em>both</em> the <code>FancyBackend</code> and <code>OldBackend</code> classes to verify the code.</p>\n<hr />\n<p>If you wanted to avoid explicit <code>Class.forName</code> calls, you could potentially implement your optional dependency as a custom Service Provider Interface (SPI).  That gives you additional flexibility, but it is <em>more complicated</em> than simply using <code>Class.forName</code>.</p>\n<p>Here are some references for SPIs:</p>\n<ul>\n<li>The <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/ServiceLoader.html\" rel=\"nofollow noreferrer\">javadocs for <code>java.utils.ServiceLoader</code></a>.</li>\n<li><a href=\"https://docs.oracle.com/javase/tutorial/ext/basics/spi.html\" rel=\"nofollow noreferrer\">Creating Extensible Applications</a> from the Oracle Java™ Tutorials.  (This tutorial is outdated.)</li>\n<li><a href=\"https://www.baeldung.com/java-spi\" rel=\"nofollow noreferrer\">Java Service Provider Interface</a> from Baeldung.</li>\n</ul>\n<hr />\n<p><sup>1 - Per <a href=\"https://stackoverflow.com/q/41965457/2711488\">Does the JVM throw if an unused class is absent?</a> if the JVM implements lazy class loading, loading may not be triggered by mentioning a class in a method or field signature.  However, lazy loading is implementation dependent and (AFAIK) not specified.  So relying on the JVM to do it will make your application platform dependent.</sup></p>\n"}],"owner":{"account_id":21554207,"reputation":93,"user_id":15889782,"display_name":"underflow"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":89,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1676377755,"creation_date":1676297207,"question_id":75436937,"body_markdown":"I would like my projekt to switch at startup between backend libraries, with option to not shade both of them into resulting Jar, while having full compile-them visibility of both.\r\nI would also like to avoid loading backends using Class.forName.  \r\n  \r\nCan you help me understand if any of these will lead to a ClassNotFoundError for unshaded library and which will not?\r\n\r\n 1. Leaving an unused class field, of type from this library\r\n 2. Leaving an unused method, with arguments or return from this library\r\n 3. Referencing this library in a backend class that will only be loaded conditionally like `backend = isNewBackend ? new FancyBackend() : new OldBackend()`\r\n\r\nIf all of these result in error, is there an easier strategy for this?","title":"In Java, what&#39;s the proper way of using an optional dependency without ClassNotFoundError?","body":"<p>I would like my projekt to switch at startup between backend libraries, with option to not shade both of them into resulting Jar, while having full compile-them visibility of both.\nI would also like to avoid loading backends using Class.forName.</p>\n<p>Can you help me understand if any of these will lead to a ClassNotFoundError for unshaded library and which will not?</p>\n<ol>\n<li>Leaving an unused class field, of type from this library</li>\n<li>Leaving an unused method, with arguments or return from this library</li>\n<li>Referencing this library in a backend class that will only be loaded conditionally like <code>backend = isNewBackend ? new FancyBackend() : new OldBackend()</code></li>\n</ol>\n<p>If all of these result in error, is there an easier strategy for this?</p>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":14710657,"reputation":371,"user_id":10624147,"display_name":"gonzaloan"},"score":0,"creation_date":1543950891,"post_id":53619895,"comment_id":94100192,"body_markdown":"Possible duplicate of [Display PDF within web browser](https://stackoverflow.com/questions/4853898/display-pdf-within-web-browser)","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/4853898/display-pdf-within-web-browser\">Display PDF within web browser</a>"}],"answers":[{"tags":[],"owner":{"account_id":265988,"reputation":13467,"user_id":553308,"display_name":"Andrew T Finnell"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1543950874,"creation_date":1543950874,"answer_id":53619934,"question_id":53619895,"body_markdown":"Change your headers to this:\r\n\r\n    Content-Type: application/pdf\r\n    Content-Disposition: inline; filename=&quot;filename.pdf&quot;\r\n\r\nSetting the Content-Type to `application/octet-stream` will FORCE it to always download.","title":"SpringBoot - display PDF-file in browser instead of downloading","body":"<p>Change your headers to this:</p>\n\n<pre><code>Content-Type: application/pdf\nContent-Disposition: inline; filename=\"filename.pdf\"\n</code></pre>\n\n<p>Setting the Content-Type to <code>application/octet-stream</code> will FORCE it to always download.</p>\n"},{"tags":[],"owner":{"account_id":14692591,"reputation":2143,"user_id":10610826,"display_name":"Mykhailo Moskura"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1543950898,"creation_date":1543950898,"answer_id":53619936,"question_id":53619895,"body_markdown":"Use Content-Type `application/pdf` instead of `application/octet-stream`","title":"SpringBoot - display PDF-file in browser instead of downloading","body":"<p>Use Content-Type <code>application/pdf</code> instead of <code>application/octet-stream</code></p>\n"},{"tags":[],"owner":{"account_id":22585429,"reputation":286,"user_id":16769477,"display_name":"Jay Yadav"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1676377305,"creation_date":1675696669,"answer_id":75363184,"question_id":53619895,"body_markdown":"Combining your code &amp; Andrew answer above this modified code works fine !!\r\n\r\n```\r\n@RequestMapping(value = &quot;/download&quot; , method=RequestMethod.GET)\r\n\t public ResponseEntity&lt;InputStreamResource&gt; downloadPdf() throws IOException {\r\n\t     ClassPathResource pdfFile = new ClassPathResource(&quot;files/Locations.pdf&quot;);\r\n\t     return ResponseEntity\r\n\t             .ok()\r\n\t             .contentLength(pdfFile.contentLength())\r\n\t             .header(&quot;Content-Disposition&quot;, &quot;inline; filename=\\&quot;&quot; + pdfFile.getFilename() + &quot;\\&quot;&quot;)\r\n\t             .contentType(\r\n\t                     MediaType.parseMediaType(&quot;application/pdf&quot;))\r\n\t             .body(new InputStreamResource(pdfFile.getInputStream()));\r\n\r\n\t }\r\n```","title":"SpringBoot - display PDF-file in browser instead of downloading","body":"<p>Combining your code &amp; Andrew answer above this modified code works fine !!</p>\n<pre><code>@RequestMapping(value = &quot;/download&quot; , method=RequestMethod.GET)\n     public ResponseEntity&lt;InputStreamResource&gt; downloadPdf() throws IOException {\n         ClassPathResource pdfFile = new ClassPathResource(&quot;files/Locations.pdf&quot;);\n         return ResponseEntity\n                 .ok()\n                 .contentLength(pdfFile.contentLength())\n                 .header(&quot;Content-Disposition&quot;, &quot;inline; filename=\\&quot;&quot; + pdfFile.getFilename() + &quot;\\&quot;&quot;)\n                 .contentType(\n                         MediaType.parseMediaType(&quot;application/pdf&quot;))\n                 .body(new InputStreamResource(pdfFile.getInputStream()));\n\n     }\n</code></pre>\n"}],"owner":{"account_id":12169164,"reputation":5,"user_id":8884445,"display_name":"Shashank Ranjan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4798,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1676377305,"creation_date":1543950713,"question_id":53619895,"body_markdown":"i am trying to display a pdf in my browser with spring. my problem is that the browser downloads the file instead of displaying it. this is my code:\r\n\r\n     @RequestMapping(value = &quot;/download&quot; , method=RequestMethod.GET , produces = &quot;application/pdf&quot;)\r\n\tpublic ResponseEntity&lt;InputStreamResource&gt; downloadPdf() throws IOException {\r\n\t\tClassPathResource pdfFile = new ClassPathResource(&quot;TMOBILE.pdf&quot;);\r\n\t\treturn ResponseEntity\r\n\t            .ok()\r\n\t            .contentLength(pdfFile.contentLength())\r\n\t            .contentType(\r\n\t                    MediaType.parseMediaType(&quot;application/octet-stream&quot;))\r\n\t            .body(new InputStreamResource(pdfFile.getInputStream()));\r\n\t\t\r\n\t}\r\n\r\n\r\n\r\ni am looking forward to your answers! thanks","title":"SpringBoot - display PDF-file in browser instead of downloading","body":"<p>i am trying to display a pdf in my browser with spring. my problem is that the browser downloads the file instead of displaying it. this is my code:</p>\n\n<pre><code> @RequestMapping(value = \"/download\" , method=RequestMethod.GET , produces = \"application/pdf\")\npublic ResponseEntity&lt;InputStreamResource&gt; downloadPdf() throws IOException {\n    ClassPathResource pdfFile = new ClassPathResource(\"TMOBILE.pdf\");\n    return ResponseEntity\n            .ok()\n            .contentLength(pdfFile.contentLength())\n            .contentType(\n                    MediaType.parseMediaType(\"application/octet-stream\"))\n            .body(new InputStreamResource(pdfFile.getInputStream()));\n\n}\n</code></pre>\n\n<p>i am looking forward to your answers! thanks</p>\n"},{"tags":["java","swing","jframe","jtable"],"comments":[{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":1,"creation_date":1643926666,"post_id":70978745,"comment_id":125476562,"body_markdown":"1) add the scroll pane to the CENTER of the BorderLayout. 2) You need to define the resize behaviour of the JTable. Check out the `setAutoResizeMode(...)` method. *So how can I make it so that the cells of the table are always squares,* - only the width will be resized. There is no automatic resizing of heights.","body":"1) add the scroll pane to the CENTER of the BorderLayout. 2) You need to define the resize behaviour of the JTable. Check out the <code>setAutoResizeMode(...)</code> method. <i>So how can I make it so that the cells of the table are always squares,</i> - only the width will be resized. There is no automatic resizing of heights."},{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":1,"creation_date":1643927170,"post_id":70978745,"comment_id":125476706,"body_markdown":"I don&#39;t think a `JTable` is the right component for this. Perhaps instead look to this question about the [layout of a chess board](https://stackoverflow.com/q/21142686/418556). It includes answers from both myself and @camickr, and discusses (more camickr) the pitfalls of layout when the available space cannot accommodate same size cells.","body":"I don&#39;t think a <code>JTable</code> is the right component for this. Perhaps instead look to this question about the <a href=\"https://stackoverflow.com/q/21142686/418556\">layout of a chess board</a>. It includes answers from both myself and @camickr, and discusses (more camickr) the pitfalls of layout when the available space cannot accommodate same size cells."}],"answers":[{"comments":[{"owner":{"account_id":10441754,"reputation":109,"user_id":7698156,"display_name":"Denny Williams"},"score":0,"creation_date":1643925821,"post_id":70978868,"comment_id":125476298,"body_markdown":"Yeah, but doesn&#39;t the container have FlowLayout by default? I thought it wouldn&#39;t matter.","body":"Yeah, but doesn&#39;t the container have FlowLayout by default? I thought it wouldn&#39;t matter."},{"owner":{"account_id":10441754,"reputation":109,"user_id":7698156,"display_name":"Denny Williams"},"score":0,"creation_date":1643926699,"post_id":70978868,"comment_id":125476573,"body_markdown":"Ok, I tried with the BorderLayout, but it works exactly the same. With FlowLayout the table didn&#39;t resize at all, and with the BorderLayout it works exactly the same as before.","body":"Ok, I tried with the BorderLayout, but it works exactly the same. With FlowLayout the table didn&#39;t resize at all, and with the BorderLayout it works exactly the same as before."}],"tags":[],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643926746,"creation_date":1643925534,"answer_id":70978868,"question_id":70978745,"body_markdown":"You did not set any LayoutManager. The default is not a FlowLayout but at least not null:\r\n\r\n*The default content pane will have a BorderLayout manager set on it.*\r\n([Java 17 API][1])\r\n\r\nThis would mean by resizing the window you would more have to fight with the scrollpane&#39;s resizing. What happens if you use \r\n\r\n    container.add(new JScrollPane(table), BorderLayout.CENTER);\r\n\r\nThat should let the scrollpane grow and shrink with the frame, and the amount of rows/columns inside the table might vary. This might also get impacted by [JTable.setAutoResizeMode()][2].\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.desktop/javax/swing/JFrame.html\r\n  [2]: https://docs.oracle.com/en/java/javase/17/docs/api/java.desktop/javax/swing/JTable.html#setAutoResizeMode(int)","title":"Why doesn&#39;t frame.pack() work with a JTable?","body":"<p>You did not set any LayoutManager. The default is not a FlowLayout but at least not null:</p>\n<p><em>The default content pane will have a BorderLayout manager set on it.</em>\n(<a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.desktop/javax/swing/JFrame.html\" rel=\"nofollow noreferrer\">Java 17 API</a>)</p>\n<p>This would mean by resizing the window you would more have to fight with the scrollpane's resizing. What happens if you use</p>\n<pre><code>container.add(new JScrollPane(table), BorderLayout.CENTER);\n</code></pre>\n<p>That should let the scrollpane grow and shrink with the frame, and the amount of rows/columns inside the table might vary. This might also get impacted by <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.desktop/javax/swing/JTable.html#setAutoResizeMode(int)\" rel=\"nofollow noreferrer\">JTable.setAutoResizeMode()</a>.</p>\n"},{"tags":[],"owner":{"account_id":23863113,"reputation":21937,"user_id":17865804,"display_name":"Chris"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643997422,"creation_date":1643997422,"answer_id":70990829,"question_id":70978745,"body_markdown":"Option 1\r\n--------\r\n\r\nYou haven&#39;t really mentioned how you are about to use this table (what data will be held and how the user is expected to interact with); however, it sounds like a use case for [`GridLayout`][1] (regarding data cells), as well as [`GridBagLayout`][2] (regarding header cells). Example below:\r\n\r\n    public class DayPlanner {\r\n    \tprivate JFrame frame;\r\n    \tDimension cellSize = new Dimension(75, 75);\r\n    \r\n    \tprivate void createAndShowGUI() {\r\n    \t\tframe = new JFrame();\r\n    \t\tframe.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n    \r\n    \t\t// Create header cells\r\n    \t\tJPanel p1 = new JPanel(new GridBagLayout());\r\n    \t\tGridBagConstraints c = new GridBagConstraints();\r\n    \t\tString[] columnNames = { &quot;Day 1&quot;, &quot;Day 2&quot;, &quot;Day 3&quot;, &quot;Day 4&quot;, &quot;Day 5&quot;, &quot;Day 6&quot;, &quot;Day 7&quot; };\r\n    \t\tint count = 0;\r\n    \t\tfor (int i = 0; i &lt; columnNames.length; i++) {\r\n    \t\t\tJLabel l = new JLabel(columnNames[i], SwingConstants.CENTER);\r\n    \t\t\tl.setFont(new Font(&quot;Times New Roman&quot;, Font.BOLD, 14));\r\n    \t\t\tl.setBackground(new Color(238, 238, 238));\r\n    \t\t\tl.setOpaque(true);\r\n    \t\t\tl.setBorder(BorderFactory.createMatteBorder(0, 0, 0, 1, new Color(122, 138, 153)));\r\n    \t\t\tc.fill = GridBagConstraints.HORIZONTAL;\r\n    \t\t\tc.ipady = 5; // adjusts cell&#39;s height\r\n    \t\t\tc.weightx = 0.5;\r\n    \t\t\tc.gridx = count++;\r\n    \t\t\tc.gridy = 0;\r\n    \t\t\tp1.add(l, c);\r\n    \t\t}\r\n    \r\n    \t\t// Create data cells\r\n    \t\tJPanel p2 = new JPanel();\r\n    \t\tp2.setLayout(new GridLayout(5, 7));\r\n    \t\tfor (int i = 0; i &lt; 35; i++) {\r\n    \t\t\tJLabel l = new JLabel(&quot;&lt;html&gt; This is some sample text &quot; + i + &quot;&lt;/html&gt;&quot;); // html tags allow text-wrapping\r\n    \t\t\tl.setFont(new Font(&quot;Times New Roman&quot;, Font.PLAIN, 14));\r\n    \t\t\tl.setVerticalAlignment(SwingConstants.TOP);\r\n    \t\t\tl.setHorizontalAlignment(SwingConstants.LEFT);\r\n    \t\t\tl.setPreferredSize(cellSize);\r\n    \t\t\tl.setBackground(Color.WHITE);\r\n    \t\t\tl.setOpaque(true);\r\n    \t\t\tl.setBorder(BorderFactory.createMatteBorder(0, 0, 1, 1, new Color(122, 138, 153)));\r\n    \t\t\tp2.add(l);\r\n    \t\t}\r\n    \r\n    \r\n    \t\tJScrollPane sp = new JScrollPane(p2);\r\n    \t\tsp.getVerticalScrollBar().setUnitIncrement((int) cellSize.getHeight() / 2); // adjusts scrolling speed\r\n    \t\tsp.getViewport().setBackground(Color.WHITE);\r\n    \t\tContainer container = frame.getContentPane();\r\n    \t\tcontainer.add(p1, BorderLayout.NORTH);\r\n    \t\tcontainer.add(sp, BorderLayout.CENTER);\r\n    \t\tframe.pack();\r\n    \t\tframe.setLocationRelativeTo(null);\r\n    \t\tframe.setVisible(true);\r\n    \t}\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tSwingUtilities.invokeLater(new Runnable() {\r\n    \t\t\tpublic void run() {\r\n    \t\t\t\tnew DayPlanner().createAndShowGUI();\r\n    \t\t\t}\r\n    \t\t});\r\n    \t}\r\n    }\r\n\r\nOption 2\r\n--------\r\n\r\nIf you still want to use the `JTable` given in your question, you could add a [ComponentListener][3] to your `JFrame`, so that you can listen to &quot;resize events&quot;, allowing you to readjust the cells&#39; size and retain their square shape.\r\n\r\n    frame.addComponentListener(new ComponentAdapter() {\r\n    \tpublic void componentResized(ComponentEvent evt) {\r\n    \t\tfor (int row = 0; row &lt; table.getRowCount(); row++) {\r\n    \t\t\tint colWidth = table.getColumnModel().getColumn(0).getWidth();\r\n    \t\t\ttable.setRowHeight(row, colWidth);\r\n    \t\t}\r\n    \t}\r\n    });\r\n\r\nAs for the `pack()` issue, you could set the initial size of the `JFrame` according to the columns and rows in your table (remember to comment out `frame.pack();`). The below, although it would remove the empty space at the bottom of the frame, it wouldn&#39;t, however, stop the user from resizing the window and bringing that back.  \r\n\r\n    int colWidth = table.getColumnModel().getColumn(0).getWidth();\r\n    frame.setSize(7 * colWidth, 5 * table.getRowHeight(0) + 25);\r\n    //frame.pack();\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/uiswing/layout/grid.html\r\n  [2]: https://docs.oracle.com/javase/tutorial/uiswing/layout/gridbag.html\r\n  [3]: https://docs.oracle.com/javase/tutorial/uiswing/events/componentlistener.html","title":"Why doesn&#39;t frame.pack() work with a JTable?","body":"<h2>Option 1</h2>\n<p>You haven't really mentioned how you are about to use this table (what data will be held and how the user is expected to interact with); however, it sounds like a use case for <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/layout/grid.html\" rel=\"nofollow noreferrer\"><code>GridLayout</code></a> (regarding data cells), as well as <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/layout/gridbag.html\" rel=\"nofollow noreferrer\"><code>GridBagLayout</code></a> (regarding header cells). Example below:</p>\n<pre><code>public class DayPlanner {\n    private JFrame frame;\n    Dimension cellSize = new Dimension(75, 75);\n\n    private void createAndShowGUI() {\n        frame = new JFrame();\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n\n        // Create header cells\n        JPanel p1 = new JPanel(new GridBagLayout());\n        GridBagConstraints c = new GridBagConstraints();\n        String[] columnNames = { &quot;Day 1&quot;, &quot;Day 2&quot;, &quot;Day 3&quot;, &quot;Day 4&quot;, &quot;Day 5&quot;, &quot;Day 6&quot;, &quot;Day 7&quot; };\n        int count = 0;\n        for (int i = 0; i &lt; columnNames.length; i++) {\n            JLabel l = new JLabel(columnNames[i], SwingConstants.CENTER);\n            l.setFont(new Font(&quot;Times New Roman&quot;, Font.BOLD, 14));\n            l.setBackground(new Color(238, 238, 238));\n            l.setOpaque(true);\n            l.setBorder(BorderFactory.createMatteBorder(0, 0, 0, 1, new Color(122, 138, 153)));\n            c.fill = GridBagConstraints.HORIZONTAL;\n            c.ipady = 5; // adjusts cell's height\n            c.weightx = 0.5;\n            c.gridx = count++;\n            c.gridy = 0;\n            p1.add(l, c);\n        }\n\n        // Create data cells\n        JPanel p2 = new JPanel();\n        p2.setLayout(new GridLayout(5, 7));\n        for (int i = 0; i &lt; 35; i++) {\n            JLabel l = new JLabel(&quot;&lt;html&gt; This is some sample text &quot; + i + &quot;&lt;/html&gt;&quot;); // html tags allow text-wrapping\n            l.setFont(new Font(&quot;Times New Roman&quot;, Font.PLAIN, 14));\n            l.setVerticalAlignment(SwingConstants.TOP);\n            l.setHorizontalAlignment(SwingConstants.LEFT);\n            l.setPreferredSize(cellSize);\n            l.setBackground(Color.WHITE);\n            l.setOpaque(true);\n            l.setBorder(BorderFactory.createMatteBorder(0, 0, 1, 1, new Color(122, 138, 153)));\n            p2.add(l);\n        }\n\n\n        JScrollPane sp = new JScrollPane(p2);\n        sp.getVerticalScrollBar().setUnitIncrement((int) cellSize.getHeight() / 2); // adjusts scrolling speed\n        sp.getViewport().setBackground(Color.WHITE);\n        Container container = frame.getContentPane();\n        container.add(p1, BorderLayout.NORTH);\n        container.add(sp, BorderLayout.CENTER);\n        frame.pack();\n        frame.setLocationRelativeTo(null);\n        frame.setVisible(true);\n    }\n\n    public static void main(String[] args) {\n        SwingUtilities.invokeLater(new Runnable() {\n            public void run() {\n                new DayPlanner().createAndShowGUI();\n            }\n        });\n    }\n}\n</code></pre>\n<h2>Option 2</h2>\n<p>If you still want to use the <code>JTable</code> given in your question, you could add a <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/events/componentlistener.html\" rel=\"nofollow noreferrer\">ComponentListener</a> to your <code>JFrame</code>, so that you can listen to &quot;resize events&quot;, allowing you to readjust the cells' size and retain their square shape.</p>\n<pre><code>frame.addComponentListener(new ComponentAdapter() {\n    public void componentResized(ComponentEvent evt) {\n        for (int row = 0; row &lt; table.getRowCount(); row++) {\n            int colWidth = table.getColumnModel().getColumn(0).getWidth();\n            table.setRowHeight(row, colWidth);\n        }\n    }\n});\n</code></pre>\n<p>As for the <code>pack()</code> issue, you could set the initial size of the <code>JFrame</code> according to the columns and rows in your table (remember to comment out <code>frame.pack();</code>). The below, although it would remove the empty space at the bottom of the frame, it wouldn't, however, stop the user from resizing the window and bringing that back.</p>\n<pre><code>int colWidth = table.getColumnModel().getColumn(0).getWidth();\nframe.setSize(7 * colWidth, 5 * table.getRowHeight(0) + 25);\n//frame.pack();\n</code></pre>\n"}],"owner":{"account_id":10441754,"reputation":109,"user_id":7698156,"display_name":"Denny Williams"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":200,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1676376490,"creation_date":1643924900,"question_id":70978745,"body_markdown":"I have a super basic `JTable`, which I&#39;m adding to a `JFrame`, but for some reason `frame.pack()` doesn&#39;t work. I&#39;m setting the row height to the column width so that the cells of the table are squares, but this doesn&#39;t seem to work when the window is resized. So, how can I make it so that the cells of the table are always squares, even when resized, and the frame is properly packed? Here&#39;s the code for the window:\r\n\r\n    package me.an.ar.window;\r\n    \r\n    import java.awt.Container;\r\n    \r\n    import javax.swing.JFrame;\r\n    import javax.swing.JScrollPane;\r\n    import javax.swing.JTable;\r\n    import javax.swing.SwingUtilities;\r\n    \r\n    public class DayPlanner\r\n    {\r\n    \tprivate JFrame frame;\r\n    \r\n    \tprivate void createAndShowGUI()\r\n    \t{\r\n    \t\tframe = new JFrame();\r\n    \t\tframe.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n    \r\n    \t\tContainer container = frame.getContentPane();\r\n    \r\n    \t\tObject[][] data = new Object[5][7];\r\n    \t\tString[] columnNames = { &quot;Day1&quot;, &quot;Day2&quot;, &quot;Day3&quot;, &quot;Day4&quot;, &quot;Day5&quot;, &quot;Day6&quot;, &quot;Day7&quot; };\r\n    \t\tJTable table = new JTable(data, columnNames);\r\n    \r\n    \t\tfor (int col = 0; col &lt; table.getColumnCount(); col++)\r\n    \t\t{\r\n    \t\t\tfor (int row = 0; row &lt; table.getRowCount(); row++)\r\n    \t\t\t{\r\n    \t\t\t\tint colWidth = table.getColumnModel().getColumn(col).getWidth();\r\n    \t\t\t\ttable.setRowHeight(row, colWidth);\r\n    \t\t\t}\r\n    \t\t}\r\n    \r\n    \t\tcontainer.add(new JScrollPane(table));\r\n    \r\n    \t\tframe.pack();\r\n    \t\tframe.setLocationRelativeTo(null);\r\n    \t\tframe.setVisible(true);\r\n    \t}\r\n    \r\n    \tprivate void show()\r\n    \t{\r\n    \t\tSwingUtilities.invokeLater(new Runnable()\r\n    \t\t{\r\n    \t\t\tpublic void run()\r\n    \t\t\t{\r\n    \t\t\t\tcreateAndShowGUI();\r\n    \t\t\t}\r\n    \t\t});\r\n    \t}\r\n    \r\n    \tpublic DayPlanner()\r\n    \t{\r\n    \t\tshow();\r\n    \t}\r\n    \r\n    \tpublic static void main(String[] args)\r\n    \t{\r\n    \t\tnew DayPlanner();\r\n    \t}\r\n    }\r\n\r\n","title":"Why doesn&#39;t frame.pack() work with a JTable?","body":"<p>I have a super basic <code>JTable</code>, which I'm adding to a <code>JFrame</code>, but for some reason <code>frame.pack()</code> doesn't work. I'm setting the row height to the column width so that the cells of the table are squares, but this doesn't seem to work when the window is resized. So, how can I make it so that the cells of the table are always squares, even when resized, and the frame is properly packed? Here's the code for the window:</p>\n<pre><code>package me.an.ar.window;\n\nimport java.awt.Container;\n\nimport javax.swing.JFrame;\nimport javax.swing.JScrollPane;\nimport javax.swing.JTable;\nimport javax.swing.SwingUtilities;\n\npublic class DayPlanner\n{\n    private JFrame frame;\n\n    private void createAndShowGUI()\n    {\n        frame = new JFrame();\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n\n        Container container = frame.getContentPane();\n\n        Object[][] data = new Object[5][7];\n        String[] columnNames = { &quot;Day1&quot;, &quot;Day2&quot;, &quot;Day3&quot;, &quot;Day4&quot;, &quot;Day5&quot;, &quot;Day6&quot;, &quot;Day7&quot; };\n        JTable table = new JTable(data, columnNames);\n\n        for (int col = 0; col &lt; table.getColumnCount(); col++)\n        {\n            for (int row = 0; row &lt; table.getRowCount(); row++)\n            {\n                int colWidth = table.getColumnModel().getColumn(col).getWidth();\n                table.setRowHeight(row, colWidth);\n            }\n        }\n\n        container.add(new JScrollPane(table));\n\n        frame.pack();\n        frame.setLocationRelativeTo(null);\n        frame.setVisible(true);\n    }\n\n    private void show()\n    {\n        SwingUtilities.invokeLater(new Runnable()\n        {\n            public void run()\n            {\n                createAndShowGUI();\n            }\n        });\n    }\n\n    public DayPlanner()\n    {\n        show();\n    }\n\n    public static void main(String[] args)\n    {\n        new DayPlanner();\n    }\n}\n</code></pre>\n"},{"tags":["java","spring-boot","openapi"],"comments":[{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":2,"creation_date":1676376373,"post_id":75447588,"comment_id":133120729,"body_markdown":"The use of `${...}` only works in Spring annotations, because Spring itself performs special postprocessing on those values. Likely in the case of those `@ExtensionProperty`, Spring provides no support.","body":"The use of <code>${...}</code> only works in Spring annotations, because Spring itself performs special postprocessing on those values. Likely in the case of those <code>@ExtensionProperty</code>, Spring provides no support."},{"owner":{"account_id":3380632,"reputation":14294,"user_id":2837741,"accept_rate":100,"display_name":"daniu"},"score":0,"creation_date":1676376559,"post_id":75447588,"comment_id":133120787,"body_markdown":"And they retrieves their values from Spring&#39;s [application properties mechanism](https://www.baeldung.com/properties-with-spring), not from a random openapi spec file.","body":"And they retrieves their values from Spring&#39;s <a href=\"https://www.baeldung.com/properties-with-spring\" rel=\"nofollow noreferrer\">application properties mechanism</a>, not from a random openapi spec file."}],"owner":{"account_id":27783055,"reputation":1,"user_id":21211065,"display_name":"o10s"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":185,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676376461,"creation_date":1676376270,"question_id":75447588,"body_markdown":"I have a simple Java Spring Boot application that uses springdoc openAPI v2 here is part of the maven file I am using ( I will spare you the rest of the details it is just starter web to be able to have a rest controller nothing fancy and especially nothing relevant here):\r\n\r\nI use the spring boot starter parent for my application\r\n```xml\r\n&lt;parent&gt;\r\n  &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n  &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n  &lt;version&gt;3.0.2&lt;/version&gt;\r\n  &lt;relativePath/&gt;\r\n&lt;/parent&gt;\r\n```\r\n\r\nThen I have the following for Spring Doc OpenAPI:\r\n\r\n```xml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\r\n    &lt;artifactId&gt;springdoc-openapi-starter-webmvc-ui&lt;/artifactId&gt;\r\n    &lt;version&gt;${springdoc.openapi.starter.webmvc.version}&lt;/version&gt; // this is defined as 2.0.2 in properties file\r\n&lt;/dependency&gt;\r\n```\r\n\r\nI define now an @OpenApiConfiguration as such (note: here values are BS and always the same, they all point to a value defined in my application.yaml, it is just to test everything before pushing more code, the idea being to define the API in the properties file):\r\n\r\n```java\r\n@Configuration\r\n@OpenAPIDefinition(\r\n        info = @Info(title = &quot;${openapi.info.name}&quot;, contact = @Contact(name = &quot;${openapi.info.name}&quot;)),\r\n        tags = {\r\n                @Tag(name = &quot;${openapi.info.name}&quot;),\r\n        },\r\n        extensions = @Extension(properties = {\r\n                @ExtensionProperty(name = &quot;${openapi.info.name}&quot;, value = &quot;${openapi.info.name}&quot;),\r\n        })\r\n)\r\n```\r\n\r\nDoing the above declaration I can now check my generated JSON OpenAPI contract expecting every value to be replaces but to my surprise only few of the values were replaced:\r\n```json\r\n{\r\n&quot;openapi&quot;:&quot;3.0.1&quot;,\r\n&quot;info&quot;:{\r\n  &quot;title&quot;:&quot;ttt&quot;, //replaced correctly\r\n  &quot;contact&quot;:{\r\n    &quot;name&quot;:&quot;ttt&quot; //replaced correctly\r\n  }\r\n},\r\n&quot;servers&quot;:[\r\n  {\r\n    &quot;url&quot;:&quot;http://localhost:8080/api-2023&quot;,\r\n    &quot;description&quot;:&quot;Generated server url&quot;\r\n  }\r\n],\r\n&quot;tags&quot;:[\r\n  {\r\n    &quot;name&quot;: &quot;${openapi.info.name}&quot; // not replaced\r\n  }\r\n],\r\n&quot;x-${openapi.info.name}&quot;:&quot;${openapi.info.name}&quot;} // not replaced\r\n```\r\n\r\nI really do not understand much about how the substitution occurs and why it doesn&#39;t my understanding is that whatever comes from the ${} nomenclature should be coming from application.yaml but apparently not. What I am really confused about is why sometimes it works and sometimes not. I would have imagined everything work or doesn&#39;t? \r\n\r\nCan anyone shed a light on this please?","title":"Using the ${} in Java annotations should allow to use properties values... but it is not working every time?","body":"<p>I have a simple Java Spring Boot application that uses springdoc openAPI v2 here is part of the maven file I am using ( I will spare you the rest of the details it is just starter web to be able to have a rest controller nothing fancy and especially nothing relevant here):</p>\n<p>I use the spring boot starter parent for my application</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;parent&gt;\n  &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n  &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n  &lt;version&gt;3.0.2&lt;/version&gt;\n  &lt;relativePath/&gt;\n&lt;/parent&gt;\n</code></pre>\n<p>Then I have the following for Spring Doc OpenAPI:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\n    &lt;artifactId&gt;springdoc-openapi-starter-webmvc-ui&lt;/artifactId&gt;\n    &lt;version&gt;${springdoc.openapi.starter.webmvc.version}&lt;/version&gt; // this is defined as 2.0.2 in properties file\n&lt;/dependency&gt;\n</code></pre>\n<p>I define now an @OpenApiConfiguration as such (note: here values are BS and always the same, they all point to a value defined in my application.yaml, it is just to test everything before pushing more code, the idea being to define the API in the properties file):</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\n@OpenAPIDefinition(\n        info = @Info(title = &quot;${openapi.info.name}&quot;, contact = @Contact(name = &quot;${openapi.info.name}&quot;)),\n        tags = {\n                @Tag(name = &quot;${openapi.info.name}&quot;),\n        },\n        extensions = @Extension(properties = {\n                @ExtensionProperty(name = &quot;${openapi.info.name}&quot;, value = &quot;${openapi.info.name}&quot;),\n        })\n)\n</code></pre>\n<p>Doing the above declaration I can now check my generated JSON OpenAPI contract expecting every value to be replaces but to my surprise only few of the values were replaced:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n&quot;openapi&quot;:&quot;3.0.1&quot;,\n&quot;info&quot;:{\n  &quot;title&quot;:&quot;ttt&quot;, //replaced correctly\n  &quot;contact&quot;:{\n    &quot;name&quot;:&quot;ttt&quot; //replaced correctly\n  }\n},\n&quot;servers&quot;:[\n  {\n    &quot;url&quot;:&quot;http://localhost:8080/api-2023&quot;,\n    &quot;description&quot;:&quot;Generated server url&quot;\n  }\n],\n&quot;tags&quot;:[\n  {\n    &quot;name&quot;: &quot;${openapi.info.name}&quot; // not replaced\n  }\n],\n&quot;x-${openapi.info.name}&quot;:&quot;${openapi.info.name}&quot;} // not replaced\n</code></pre>\n<p>I really do not understand much about how the substitution occurs and why it doesn't my understanding is that whatever comes from the ${} nomenclature should be coming from application.yaml but apparently not. What I am really confused about is why sometimes it works and sometimes not. I would have imagined everything work or doesn't?</p>\n<p>Can anyone shed a light on this please?</p>\n"},{"tags":["java","hibernate","jpa"],"comments":[{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1676315389,"post_id":75439210,"comment_id":133109045,"body_markdown":"You aren&#39;t showing how you are checking the result, the transaction settings or how and when the IDs for A and C are set. JPA should automatically set the embedded id properties based on the relationship values, but only on the managed entity instance and likely (provider can control this) when the transaction commits or is flushed. So how you save your entity and return it matters (JPA merge has different behavior than jpa persist).","body":"You aren&#39;t showing how you are checking the result, the transaction settings or how and when the IDs for A and C are set. JPA should automatically set the embedded id properties based on the relationship values, but only on the managed entity instance and likely (provider can control this) when the transaction commits or is flushed. So how you save your entity and return it matters (JPA merge has different behavior than jpa persist)."},{"owner":{"account_id":11044887,"reputation":99,"user_id":8270202,"accept_rate":56,"display_name":"jimmyrap"},"score":0,"creation_date":1676317987,"post_id":75439210,"comment_id":133109656,"body_markdown":"I just call saveAndFlush on my simple ClassA repository, which extends JpaRepository&lt;ClassA, Long&gt;. I wrote few integration tests and while debugging the reason I don&#39;t get expected results after save I could see that returned entity after insert has all the fields set, but that composite key has null fields.","body":"I just call saveAndFlush on my simple ClassA repository, which extends JpaRepository&lt;ClassA, Long&gt;. I wrote few integration tests and while debugging the reason I don&#39;t get expected results after save I could see that returned entity after insert has all the fields set, but that composite key has null fields."},{"owner":{"account_id":11044887,"reputation":99,"user_id":8270202,"accept_rate":56,"display_name":"jimmyrap"},"score":0,"creation_date":1676318172,"post_id":75439210,"comment_id":133109693,"body_markdown":"Regarding ID generation:\nClassA\n\n`@Id\n    @GeneratedValue(generator = a_SEQ, strategy = GenerationType.SEQUENCE)\n    @SequenceGenerator(name = a_SEQ, sequenceName = a_SEQ, allocationSize = 1)\n    @Column(name = &quot;id&quot;)\n    @EqualsAndHashCode.Include\n    private Long id;`","body":"Regarding ID generation: ClassA  <code>@Id     @GeneratedValue(generator = a_SEQ, strategy = GenerationType.SEQUENCE)     @SequenceGenerator(name = a_SEQ, sequenceName = a_SEQ, allocationSize = 1)     @Column(name = &quot;id&quot;)     @EqualsAndHashCode.Include     private Long id;</code>"},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1676386127,"post_id":75439210,"comment_id":133123819,"body_markdown":"Show what you mean as it is a common mistake to pass in an instance to save and just assume that your object passed in becomes managed - use the instance it returns, not the one you gave it to check for generated values after the flush/commit. Also show the references are set, and how A and C are managed in the context. As the answer states below states you have, do you initialize the embedded object? I&#39;d have expected an NPE in your callbacks if you didn&#39;t.","body":"Show what you mean as it is a common mistake to pass in an instance to save and just assume that your object passed in becomes managed - use the instance it returns, not the one you gave it to check for generated values after the flush/commit. Also show the references are set, and how A and C are managed in the context. As the answer states below states you have, do you initialize the embedded object? I&#39;d have expected an NPE in your callbacks if you didn&#39;t."}],"answers":[{"comments":[{"owner":{"account_id":11044887,"reputation":99,"user_id":8270202,"accept_rate":56,"display_name":"jimmyrap"},"score":0,"creation_date":1676459024,"post_id":75447600,"comment_id":133139390,"body_markdown":"Thanks, I did add that and now when calling repository.save(classA) and then getting it from db I can see my embeddedId with null fields set. \nI was expecting that hibernate would set those fields automatically on save.","body":"Thanks, I did add that and now when calling repository.save(classA) and then getting it from db I can see my embeddedId with null fields set.  I was expecting that hibernate would set those fields automatically on save."},{"owner":{"account_id":11044887,"reputation":99,"user_id":8270202,"accept_rate":56,"display_name":"jimmyrap"},"score":0,"creation_date":1676459179,"post_id":75447600,"comment_id":133139447,"body_markdown":"I could possibly set cId because I know that value but when it comes to ClassA id it&#39;s being generated via sequence, so before inserting it I do not know it. It seems like I would have to save that Set&lt;ClassB&gt; classB manually after saving ClassA, which makes no sense.","body":"I could possibly set cId because I know that value but when it comes to ClassA id it&#39;s being generated via sequence, so before inserting it I do not know it. It seems like I would have to save that Set&lt;ClassB&gt; classB manually after saving ClassA, which makes no sense."},{"owner":{"account_id":179640,"reputation":15442,"user_id":412446,"accept_rate":41,"display_name":"Christian Beikov"},"score":0,"creation_date":1676459385,"post_id":75447600,"comment_id":133139506,"body_markdown":"I don&#39;t know if Hibernate should mess with the object here, but note that you can also just define the `ClassC` and `ClassA` associations in the `ClassBId`, then you won&#39;t have that problem.","body":"I don&#39;t know if Hibernate should mess with the object here, but note that you can also just define the <code>ClassC</code> and <code>ClassA</code> associations in the <code>ClassBId</code>, then you won&#39;t have that problem."}],"tags":[],"owner":{"account_id":179640,"reputation":15442,"user_id":412446,"accept_rate":41,"display_name":"Christian Beikov"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676376315,"creation_date":1676376315,"answer_id":75447600,"question_id":75439210,"body_markdown":"I think you have to assign the id to at least an empty object for this to work:\r\n\r\n    @EmbeddedId\r\n    private ClassBId id = new ClassBId();","title":"Hibernate doesn&#39;t insert values into EmbeddedId with mappings","body":"<p>I think you have to assign the id to at least an empty object for this to work:</p>\n<pre><code>@EmbeddedId\nprivate ClassBId id = new ClassBId();\n</code></pre>\n"}],"owner":{"account_id":11044887,"reputation":99,"user_id":8270202,"accept_rate":56,"display_name":"jimmyrap"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":225,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1676376315,"creation_date":1676308896,"question_id":75439210,"body_markdown":"I have a **ClassA** entity, which contains set of ClassB entities. \r\n\r\n```\r\npublic class ClassA {\r\n    @Id\r\n    @Column(name = &quot;id&quot;)\r\n    @EqualsAndHashCode.Include\r\n    private Long id;\r\n\r\n    @OneToMany(fetch = FetchType.EAGER, mappedBy = &quot;classA&quot;)\r\n    @Cascade({org.hibernate.annotations.CascadeType.MERGE, org.hibernate.annotations.CascadeType.SAVE_UPDATE, org.hibernate.annotations.CascadeType.REFRESH, org.hibernate.annotations.CascadeType.DETACH})\r\n    private Set&lt;ClassB&gt; classB = new HashSet&lt;&gt;();\r\n\r\n    @PrePersist\r\n    @PreUpdate\r\n    void setClassA() {\r\n        if (nonNull(this.classB)) {\r\n            this.classB.forEach(b -&gt; b.setA(this));\r\n        }\r\n    }\r\n}\r\n```\r\n**ClassB** entity has composite key, which points to two other entities&#39; ids.\r\n\r\n\r\n```\r\n@Embeddable\r\npublic class ClassBId implements Serializable {\r\n    private String cId;\r\n    private Long aId;\r\n}\r\n```\r\n\r\n```\r\npublic class ClassB {\r\n\r\n    @AttributeOverrides({\r\n            @AttributeOverride(name = &quot;c&quot;, column = @Column(name = &quot;c_id&quot;)),\r\n            @AttributeOverride(name = &quot;a&quot;, column = @Column(name = &quot;a_id&quot;))\r\n    })\r\n    @EmbeddedId\r\n    private ClassBId id;\r\n\r\n    @OneToOne\r\n    @Cascade({org.hibernate.annotations.CascadeType.MERGE, org.hibernate.annotations.CascadeType.SAVE_UPDATE, org.hibernate.annotations.CascadeType.REFRESH, org.hibernate.annotations.CascadeType.DETACH})\r\n    @JoinColumn(name = &quot;c_id&quot;, referencedColumnName = &quot;id&quot;)\r\n    @MapsId(&quot;cId&quot;)\r\n    private ClassC classC;\r\n    @ManyToOne\r\n    @Cascade({org.hibernate.annotations.CascadeType.MERGE, org.hibernate.annotations.CascadeType.SAVE_UPDATE, org.hibernate.annotations.CascadeType.REFRESH, org.hibernate.annotations.CascadeType.DETACH})\r\n    @JoinColumn(name = &quot;a_id&quot;, referencedColumnName = &quot;id&quot;)\r\n    @MapsId(&quot;aId&quot;)\r\n    private ClassA classA;\r\n\r\n    @PrePersist\r\n    @PreUpdate\r\n    private void setEmbeddedId() {\r\n        id.setCId(c.getId());\r\n        id.setAId(a.getId());\r\n    }\r\n}\r\n```\r\n\r\nWhen I save my **ClassA** entity and CrudRepository returns me a result, everything is nicely filled in but that **embedded id remains null**, with or without setting id manually in pre-operation method. \r\n\r\nWhat kind of join or mapping am I missing so on save or update I can not only have ClassC and ClassA inside of ClassB entity (which takes place already) but also somehow have that composite key consisting of PKs of ClassA and ClassC automagically filled in? ","title":"Hibernate doesn&#39;t insert values into EmbeddedId with mappings","body":"<p>I have a <strong>ClassA</strong> entity, which contains set of ClassB entities.</p>\n<pre><code>public class ClassA {\n    @Id\n    @Column(name = &quot;id&quot;)\n    @EqualsAndHashCode.Include\n    private Long id;\n\n    @OneToMany(fetch = FetchType.EAGER, mappedBy = &quot;classA&quot;)\n    @Cascade({org.hibernate.annotations.CascadeType.MERGE, org.hibernate.annotations.CascadeType.SAVE_UPDATE, org.hibernate.annotations.CascadeType.REFRESH, org.hibernate.annotations.CascadeType.DETACH})\n    private Set&lt;ClassB&gt; classB = new HashSet&lt;&gt;();\n\n    @PrePersist\n    @PreUpdate\n    void setClassA() {\n        if (nonNull(this.classB)) {\n            this.classB.forEach(b -&gt; b.setA(this));\n        }\n    }\n}\n</code></pre>\n<p><strong>ClassB</strong> entity has composite key, which points to two other entities' ids.</p>\n<pre><code>@Embeddable\npublic class ClassBId implements Serializable {\n    private String cId;\n    private Long aId;\n}\n</code></pre>\n<pre><code>public class ClassB {\n\n    @AttributeOverrides({\n            @AttributeOverride(name = &quot;c&quot;, column = @Column(name = &quot;c_id&quot;)),\n            @AttributeOverride(name = &quot;a&quot;, column = @Column(name = &quot;a_id&quot;))\n    })\n    @EmbeddedId\n    private ClassBId id;\n\n    @OneToOne\n    @Cascade({org.hibernate.annotations.CascadeType.MERGE, org.hibernate.annotations.CascadeType.SAVE_UPDATE, org.hibernate.annotations.CascadeType.REFRESH, org.hibernate.annotations.CascadeType.DETACH})\n    @JoinColumn(name = &quot;c_id&quot;, referencedColumnName = &quot;id&quot;)\n    @MapsId(&quot;cId&quot;)\n    private ClassC classC;\n    @ManyToOne\n    @Cascade({org.hibernate.annotations.CascadeType.MERGE, org.hibernate.annotations.CascadeType.SAVE_UPDATE, org.hibernate.annotations.CascadeType.REFRESH, org.hibernate.annotations.CascadeType.DETACH})\n    @JoinColumn(name = &quot;a_id&quot;, referencedColumnName = &quot;id&quot;)\n    @MapsId(&quot;aId&quot;)\n    private ClassA classA;\n\n    @PrePersist\n    @PreUpdate\n    private void setEmbeddedId() {\n        id.setCId(c.getId());\n        id.setAId(a.getId());\n    }\n}\n</code></pre>\n<p>When I save my <strong>ClassA</strong> entity and CrudRepository returns me a result, everything is nicely filled in but that <strong>embedded id remains null</strong>, with or without setting id manually in pre-operation method.</p>\n<p>What kind of join or mapping am I missing so on save or update I can not only have ClassC and ClassA inside of ClassB entity (which takes place already) but also somehow have that composite key consisting of PKs of ClassA and ClassC automagically filled in?</p>\n"},{"tags":["java","dbunit"],"answers":[{"tags":[],"owner":{"account_id":3766298,"reputation":49,"user_id":7984574,"display_name":"sadath pasha"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648131454,"creation_date":1648131454,"answer_id":71604158,"question_id":71589356,"body_markdown":"Adding all the postgress table types solved the issue.\r\n","title":"DBUnit delete data from postrgess partition table java","body":"<p>Adding all the postgress table types solved the issue.</p>\n"},{"tags":[],"owner":{"account_id":24257941,"reputation":1,"user_id":18208004,"display_name":"יהונתן קדוש"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676376314,"creation_date":1676372016,"answer_id":75446801,"question_id":71589356,"body_markdown":"dbunit before executing query verify if the table name exists.\r\nIf fails to retrieve partitioned tables since in postgres the table type for partitioned tables is &#39;PARTITIONED TABLE&#39; .\r\nBy default dbunit retrieves all tables with table type &#39;TABLE&#39; which retrieves all the tables partitions without the original tables.\r\n\r\n\r\nwhere the connection to the dbunit being generated, external configuration must be made.\r\n\r\n    connection.getConfig.setProperty(DatabaseConfig.PROPERTY_TABLE_TYPE, Array[String](&quot;VIEW&quot;, &quot;TABLE&quot;, &quot;PARTITIONED TABLE&quot;))\r\n\r\nwhere connection is dbunit DatabaseConnection","title":"DBUnit delete data from postrgess partition table java","body":"<p>dbunit before executing query verify if the table name exists.\nIf fails to retrieve partitioned tables since in postgres the table type for partitioned tables is 'PARTITIONED TABLE' .\nBy default dbunit retrieves all tables with table type 'TABLE' which retrieves all the tables partitions without the original tables.</p>\n<p>where the connection to the dbunit being generated, external configuration must be made.</p>\n<pre><code>connection.getConfig.setProperty(DatabaseConfig.PROPERTY_TABLE_TYPE, Array[String](&quot;VIEW&quot;, &quot;TABLE&quot;, &quot;PARTITIONED TABLE&quot;))\n</code></pre>\n<p>where connection is dbunit DatabaseConnection</p>\n"}],"owner":{"account_id":3766298,"reputation":49,"user_id":7984574,"display_name":"sadath pasha"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":210,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":2,"score":-2,"last_activity_date":1676376314,"creation_date":1648047194,"question_id":71589356,"body_markdown":"We have a table invoice_meta_data which is partitioned into &lt;br/&gt;\r\n\r\n 1. invoice_meta_data_10m\r\n 2. invoice_meta_data_20m\r\n\r\nNow when I try to delete the data using  **DatabaseOperation.DELETE.execute(connection, invoiceDataSet);**\r\n\r\n\r\n```[m org.dbunit.dataset.NoSuchTableException: invoice_meta_data\r\n\tat org.dbunit.database.DatabaseDataSet.getTableMetaData(DatabaseDataSet.java:305) ~[dbunit-2.7.3.jar:?]\r\n\tat org.dbunit.operation.AbstractOperation.getOperationMetaData(AbstractOperation.java:80) ~[dbunit-2.7.3.jar:?]\r\n\tat org.dbunit.operation.AbstractBatchOperation.execute(AbstractBatchOperation.java:151) ~[dbunit-2.7.3.jar:?]\r\n\tat domain.dsinvoicing.common.db.InvoiceDbHook.insertData(InvoiceDbHook.java:95) [test-classes/:?]\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:1.8.0_271]\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:1.8.0_271]\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:1.8.0_271]\r\n\tat java.lang.reflect.Method.invoke(Method.java:498) ~[?:1.8.0_271]\r\n\tat io.cucumber.java.Invoker.invoke(Invoker.java:27) [cucumber-java-5.7.0.jar:?]\r\n\tat io.cucumber.java.JavaHookDefinition.execute(JavaHookDefinition.java:61) [cucumber-java-5.7.0.jar:?]\r\n\tat io.cucumber.core.runner.CoreHookDefinition.execute(CoreHookDefinition.java:31) [cucumber-core-5.7.0.jar:?]\r\n\tat io.cucumber.core.runner.HookDefinitionMatch.runStep(HookDefinitionMatch.java:20) [cucumber-core-5.7.0.jar:?]\r\n\tat io.cucumber.core.runner.TestStep.executeStep(TestStep.java:64) [cucumber-core-5.7.0.jar:?]\r\n```\r\n\r\nDBunit configuration is \r\n```\r\n  IDatabaseConnection connection = new DatabaseConnection(conn,schema);\r\n  DatabaseConfig dbConfig = connection.getConfig();\r\n  dbConfig.setProperty(DatabaseConfig.FEATURE_QUALIFIED_TABLE_NAMES, false);\r\n  dbConfig .setProperty(DatabaseConfig.PROPERTY_METADATA_HANDLER, new\r\n  DefaultMetadataHandler());\r\n  dbConfig.setProperty(DatabaseConfig.FEATURE_CASE_SENSITIVE_TABLE_NAMES, Boolean.TRUE);\r\n  dbConfig.setProperty(DatabaseConfig.PROPERTY_TABLE_TYPE, new String[] { &quot;VIEW&quot;, &quot;TABLE&quot; });\r\n  dbConfig.setProperty(DatabaseConfig.PROPERTY_DATATYPE_FACTORY, new JsonbDataFactory());\r\n```\r\n\r\nSo basically how to handle the partitions in DBubit\r\n","title":"DBUnit delete data from postrgess partition table java","body":"<p>We have a table invoice_meta_data which is partitioned into <br/></p>\n<ol>\n<li>invoice_meta_data_10m</li>\n<li>invoice_meta_data_20m</li>\n</ol>\n<p>Now when I try to delete the data using  <strong>DatabaseOperation.DELETE.execute(connection, invoiceDataSet);</strong></p>\n<pre><code>    at org.dbunit.database.DatabaseDataSet.getTableMetaData(DatabaseDataSet.java:305) ~[dbunit-2.7.3.jar:?]\n    at org.dbunit.operation.AbstractOperation.getOperationMetaData(AbstractOperation.java:80) ~[dbunit-2.7.3.jar:?]\n    at org.dbunit.operation.AbstractBatchOperation.execute(AbstractBatchOperation.java:151) ~[dbunit-2.7.3.jar:?]\n    at domain.dsinvoicing.common.db.InvoiceDbHook.insertData(InvoiceDbHook.java:95) [test-classes/:?]\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:1.8.0_271]\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:1.8.0_271]\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:1.8.0_271]\n    at java.lang.reflect.Method.invoke(Method.java:498) ~[?:1.8.0_271]\n    at io.cucumber.java.Invoker.invoke(Invoker.java:27) [cucumber-java-5.7.0.jar:?]\n    at io.cucumber.java.JavaHookDefinition.execute(JavaHookDefinition.java:61) [cucumber-java-5.7.0.jar:?]\n    at io.cucumber.core.runner.CoreHookDefinition.execute(CoreHookDefinition.java:31) [cucumber-core-5.7.0.jar:?]\n    at io.cucumber.core.runner.HookDefinitionMatch.runStep(HookDefinitionMatch.java:20) [cucumber-core-5.7.0.jar:?]\n    at io.cucumber.core.runner.TestStep.executeStep(TestStep.java:64) [cucumber-core-5.7.0.jar:?]\n</code></pre>\n<p>DBunit configuration is</p>\n<pre><code>  IDatabaseConnection connection = new DatabaseConnection(conn,schema);\n  DatabaseConfig dbConfig = connection.getConfig();\n  dbConfig.setProperty(DatabaseConfig.FEATURE_QUALIFIED_TABLE_NAMES, false);\n  dbConfig .setProperty(DatabaseConfig.PROPERTY_METADATA_HANDLER, new\n  DefaultMetadataHandler());\n  dbConfig.setProperty(DatabaseConfig.FEATURE_CASE_SENSITIVE_TABLE_NAMES, Boolean.TRUE);\n  dbConfig.setProperty(DatabaseConfig.PROPERTY_TABLE_TYPE, new String[] { &quot;VIEW&quot;, &quot;TABLE&quot; });\n  dbConfig.setProperty(DatabaseConfig.PROPERTY_DATATYPE_FACTORY, new JsonbDataFactory());\n</code></pre>\n<p>So basically how to handle the partitions in DBubit</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":18911549,"reputation":600,"user_id":13797513,"display_name":"chptr-one"},"score":1,"creation_date":1676378177,"post_id":75447571,"comment_id":133121286,"body_markdown":"Try to use `!&quot;error&quot;.equalsIgnoreCase(cell.getStringCellValue())` instead of `!=`","body":"Try to use <code>!&quot;error&quot;.equalsIgnoreCase(cell.getStringCellValue())</code> instead of <code>!=</code>"}],"owner":{"account_id":27782845,"reputation":1,"user_id":21210886,"display_name":"Gohila Mani"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":14,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1676392138,"answer_count":0,"score":0,"last_activity_date":1676376173,"creation_date":1676376173,"question_id":75447571,"body_markdown":"I am trying to write a java code to read data from excel and print the same but to ignore if the word is &#203;RROR or error. Below is my code and I have used &quot;if&quot; statement. \r\n\r\n    package ExcelFiles;\r\n\r\n    import java.io.File;\r\n    import java.io.FileInputStream;\r\n    import java.io.FileOutputStream;\r\n    import java.io.IOException;\r\n    import java.util.Iterator;\r\n\r\n    import org.apache.poi.ss.usermodel.Cell;\r\n    import org.apache.poi.ss.usermodel.Row;\r\n    import org.apache.poi.xssf.usermodel.XSSFSheet;\r\n    import org.apache.poi.xssf.usermodel.XSSFWorkbook;\r\n\r\n    public class ignoreerror {\r\n\r\n\tpublic static void main(String[] args) throws IOException {\r\n\t\t// TODO Auto-generated method stub\r\n\t\tFileInputStream fs = new FileInputStream(&quot;D:\\\\JavaFiles\\\\InputData.xlsx.xlsx&quot;);\r\n\t\tXSSFWorkbook wk = new XSSFWorkbook(fs);\r\n\t\tXSSFSheet s1 = wk.getSheet(&quot;Sheet1&quot;);\r\n\t\tIterator&lt;Row&gt; rowIterator = s1.iterator();\r\n\t\t\r\n\t\twhile (rowIterator.hasNext()) {\r\n\t\t\t  \r\n            Row row = rowIterator.next();\r\n\r\n            // For each row, iterate through all the\r\n            // columns\r\n            Iterator&lt;Cell&gt; cellIterator\r\n                = row.cellIterator();\r\n\r\n            while (cellIterator.hasNext()) {\r\n\r\n                Cell cell = cellIterator.next();\r\n\r\n                // Checking the cell type and format\r\n                // accordingly\r\n                switch (cell.getCellType()) {\r\n                \r\n                // Case 1\r\n                case NUMERIC:\r\n                    System.out.print(\r\n                        cell.getNumericCellValue()\r\n                        + &quot;\\t&quot;);\r\n                    \r\n                    break;\r\n\r\n                // Case 2\r\n                case STRING:\r\n                \t\r\n                \tif (cell.getStringCellValue()!=&quot;ERROR&quot; || cell.getStringCellValue()!=&quot;error&quot;)\r\n                \t{\r\n                      System.out.print(cell.getStringCellValue()+ &quot;\\t&quot;);\r\n                \t}\r\n                    \r\n                \telse\r\n                \t{\r\n                \t\tSystem.out.print(&quot;This line has error&quot;);\r\n                \t}\r\n                   break;\r\n                }\r\n                \t\r\n            }\r\n            \r\n            System.out.println(&quot;&quot;);\r\n            \r\n        }\r\n\t\tfs.close();\r\n\t\t\r\n\t\tFileOutputStream out =\r\n\t\t        new FileOutputStream(new File(&quot;D:\\\\JavaFiles\\\\Test.xlsx&quot;));\r\n\t\t    wk.write(out);\r\n\t\t    out.close();\r\n    }\r\n\t}\r\n\r\n\r\nIf my data in Excel cells are as below\r\nHello\r\nWorld\r\nERROR\r\n123\r\n\r\nI expect below Output\r\nHello\r\nWorld\r\n123\r\n\r\nBut i get all of my input data in the output.","title":"Reading excel data and ignore a particular word for printing","body":"<p>I am trying to write a java code to read data from excel and print the same but to ignore if the word is ËRROR or error. Below is my code and I have used &quot;if&quot; statement.</p>\n<pre><code>package ExcelFiles;\n\nimport java.io.File;\nimport java.io.FileInputStream;\nimport java.io.FileOutputStream;\nimport java.io.IOException;\nimport java.util.Iterator;\n\nimport org.apache.poi.ss.usermodel.Cell;\nimport org.apache.poi.ss.usermodel.Row;\nimport org.apache.poi.xssf.usermodel.XSSFSheet;\nimport org.apache.poi.xssf.usermodel.XSSFWorkbook;\n\npublic class ignoreerror {\n\npublic static void main(String[] args) throws IOException {\n    // TODO Auto-generated method stub\n    FileInputStream fs = new FileInputStream(&quot;D:\\\\JavaFiles\\\\InputData.xlsx.xlsx&quot;);\n    XSSFWorkbook wk = new XSSFWorkbook(fs);\n    XSSFSheet s1 = wk.getSheet(&quot;Sheet1&quot;);\n    Iterator&lt;Row&gt; rowIterator = s1.iterator();\n    \n    while (rowIterator.hasNext()) {\n          \n        Row row = rowIterator.next();\n\n        // For each row, iterate through all the\n        // columns\n        Iterator&lt;Cell&gt; cellIterator\n            = row.cellIterator();\n\n        while (cellIterator.hasNext()) {\n\n            Cell cell = cellIterator.next();\n\n            // Checking the cell type and format\n            // accordingly\n            switch (cell.getCellType()) {\n            \n            // Case 1\n            case NUMERIC:\n                System.out.print(\n                    cell.getNumericCellValue()\n                    + &quot;\\t&quot;);\n                \n                break;\n\n            // Case 2\n            case STRING:\n                \n                if (cell.getStringCellValue()!=&quot;ERROR&quot; || cell.getStringCellValue()!=&quot;error&quot;)\n                {\n                  System.out.print(cell.getStringCellValue()+ &quot;\\t&quot;);\n                }\n                \n                else\n                {\n                    System.out.print(&quot;This line has error&quot;);\n                }\n               break;\n            }\n                \n        }\n        \n        System.out.println(&quot;&quot;);\n        \n    }\n    fs.close();\n    \n    FileOutputStream out =\n            new FileOutputStream(new File(&quot;D:\\\\JavaFiles\\\\Test.xlsx&quot;));\n        wk.write(out);\n        out.close();\n}\n}\n</code></pre>\n<p>If my data in Excel cells are as below\nHello\nWorld\nERROR\n123</p>\n<p>I expect below Output\nHello\nWorld\n123</p>\n<p>But i get all of my input data in the output.</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9573,"page":650,"page_size":100}
