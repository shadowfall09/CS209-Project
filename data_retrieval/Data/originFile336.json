{"items":[{"tags":["java","base64","netweaver"],"comments":[{"owner":{"account_id":4225251,"reputation":2272,"user_id":3458919,"accept_rate":55,"display_name":"Balwinder Singh"},"score":0,"creation_date":1443592395,"post_id":32858606,"comment_id":53550711,"body_markdown":"Run Java with the command-line option -Xmx, this option sets the maximum size of the heap. Also have a look at http://stackoverflow.com/questions/37335/how-to-deal-with-java-lang-outofmemoryerror-java-heap-space-error-64mb-heap","body":"Run Java with the command-line option -Xmx, this option sets the maximum size of the heap. Also have a look at <a href=\"http://stackoverflow.com/questions/37335/how-to-deal-with-java-lang-outofmemoryerror-java-heap-space-error-64mb-heap\" title=\"how to deal with java lang outofmemoryerror java heap space error 64mb heap\">stackoverflow.com/questions/37335/&hellip;</a>"},{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":0,"creation_date":1443592481,"post_id":32858606,"comment_id":53550747,"body_markdown":"@BalwinderSingh That&#39;s worthless advice. You can&#39;t just keep increasing memory when you run out like it&#39;ll solve everything.","body":"@BalwinderSingh That&#39;s worthless advice. You can&#39;t just keep increasing memory when you run out like it&#39;ll solve everything."},{"owner":{"account_id":4878118,"reputation":21,"user_id":3932624,"accept_rate":82,"display_name":"user3932624"},"score":0,"creation_date":1443592594,"post_id":32858606,"comment_id":53550802,"body_markdown":"I have the below settings for eclipse installed on my system:\n -vm\nC:\\Program Files (x86)\\Java\\jdk1.6.0_20\\bin\\javaw.exe\n-showsplash\ncom.sap.netweaver.developerstudio\n--launcher.XXMaxPermSize\n256m\n-vmargs\n-Xmx512m\n-Xms128m\n-XX:PermSize=32m\n-XX:MaxPermSize=256m\n-Dfile.encoding=UTF-8\n-Dosgi.requiredJavaVersion=1.5","body":"I have the below settings for eclipse installed on my system:  -vm C:\\Program Files (x86)\\Java\\jdk1.6.0_20\\bin\\javaw.exe -showsplash com.sap.netweaver.developerstudio --launcher.XXMaxPermSize 256m -vmargs -Xmx512m -Xms128m -XX:PermSize=32m -XX:MaxPermSize=256m -Dfile.encoding=UTF-8 -Dosgi.requiredJavaVersion=1.5"},{"owner":{"account_id":4878118,"reputation":21,"user_id":3932624,"accept_rate":82,"display_name":"user3932624"},"score":0,"creation_date":1443593170,"post_id":32858606,"comment_id":53551044,"body_markdown":"Please note that the settings which I am giving above are from my &quot;Eclipse&quot; installation.","body":"Please note that the settings which I am giving above are from my &quot;Eclipse&quot; installation."}],"answers":[{"comments":[{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":0,"creation_date":1443595429,"post_id":32858926,"comment_id":53551945,"body_markdown":"I&#39;m sorry, but offering to increase memory is very poor advice. His code has plenty of issues that can be either fixed, or hidden by increasing memory. The first option should always be preferred.","body":"I&#39;m sorry, but offering to increase memory is very poor advice. His code has plenty of issues that can be either fixed, or hidden by increasing memory. The first option should always be preferred."}],"tags":[],"owner":{"account_id":6323989,"reputation":4294,"user_id":4910973,"display_name":"Hansjoerg Wingeier"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1443593152,"creation_date":1443593152,"answer_id":32858926,"question_id":32858606,"body_markdown":"What kind of heap size did you configure, when you started the application? \r\nAs far as I remember, the default heap size is 256kb and since you encode your complete file at once as base64, you need to set a heap size of at least 1.5 times your filesize. \r\n\r\nCheck out how to use set and use the VM-argument &quot;-Xmx&quot;.\r\n\r\n","title":"OutOfMemory Exception while executing JAVA Mapping","body":"<p>What kind of heap size did you configure, when you started the application? \nAs far as I remember, the default heap size is 256kb and since you encode your complete file at once as base64, you need to set a heap size of at least 1.5 times your filesize. </p>\n\n<p>Check out how to use set and use the VM-argument \"-Xmx\".</p>\n"},{"tags":[],"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1443593444,"creation_date":1443593444,"answer_id":32858987,"question_id":32858606,"body_markdown":"There are plenty of things wrong with your code.\r\nFirst of all I recommend switching to `OutputStreamWriter` instead of `OutputStream` as your parameter (you&#39;re not writing binary data, but character data).\r\n\r\nWrite out the headers first, then start processing the inputstream in chunks of let&#39;s say 8192 bytes (don&#39;t use `inputstream.available()` ever, you won&#39;t need it). If you don&#39;t know the &quot;standard&quot; way of processing streams, go through [Java IO Essentials][1]. Basically you read a chunk of data, convert it to `Base64` write it out and repeat (until inputstream is exhausted). NOTE! You have to make sure you encode chunks of size divisible by 3 (except for the last chunk), otherwise there will be padding applied and it will mess up the result. The last chunk can have the padding.\r\n\r\nAfter that you can write the footers, and the whole process will take barely any memory.\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/essential/io/","title":"OutOfMemory Exception while executing JAVA Mapping","body":"<p>There are plenty of things wrong with your code.\nFirst of all I recommend switching to <code>OutputStreamWriter</code> instead of <code>OutputStream</code> as your parameter (you're not writing binary data, but character data).</p>\n\n<p>Write out the headers first, then start processing the inputstream in chunks of let's say 8192 bytes (don't use <code>inputstream.available()</code> ever, you won't need it). If you don't know the \"standard\" way of processing streams, go through <a href=\"https://docs.oracle.com/javase/tutorial/essential/io/\" rel=\"nofollow\">Java IO Essentials</a>. Basically you read a chunk of data, convert it to <code>Base64</code> write it out and repeat (until inputstream is exhausted). NOTE! You have to make sure you encode chunks of size divisible by 3 (except for the last chunk), otherwise there will be padding applied and it will mess up the result. The last chunk can have the padding.</p>\n\n<p>After that you can write the footers, and the whole process will take barely any memory.</p>\n"},{"comments":[{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":0,"creation_date":1443594820,"post_id":32859032,"comment_id":53551683,"body_markdown":"He can&#39;t use `Base64OutputStream` (I was going to suggest the same) since he needs to put the headers and footers in the stream too.","body":"He can&#39;t use <code>Base64OutputStream</code> (I was going to suggest the same) since he needs to put the headers and footers in the stream too."},{"owner":{"account_id":4878118,"reputation":21,"user_id":3932624,"accept_rate":82,"display_name":"user3932624"},"score":0,"creation_date":1445336043,"post_id":32859032,"comment_id":54270899,"body_markdown":"I changed the code and now i just have one variable which contains the data. This has reduced the overall message size and hence there is no more JAVA heap size error","body":"I changed the code and now i just have one variable which contains the data. This has reduced the overall message size and hence there is no more JAVA heap size error"}],"tags":[],"owner":{"account_id":7018296,"reputation":7298,"user_id":5378766,"accept_rate":84,"display_name":"hotzst"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1443593614,"creation_date":1443593614,"answer_id":32859032,"question_id":32858606,"body_markdown":"Taking a look at your code you store the data three times:\r\n\r\nThe first time is in byte array from the input stream. The second time is in the encoded String and finally you write it to the output stream.\r\n\r\nWhat you can do to optimize this a bit is to split the reading from the input stream/encoding and the writing of the encoded string to the output stream. That way you can let go of the input byte array once encoded and the memory can be freed. An even better solution would be when the encoder directly writes to the Output stream or directly write to an [encoding output stream][1].\r\n\r\nHowever you will still have to consider what the maximum file size should be that can be processed and adjust the heap setting accordingly: https://stackoverflow.com/questions/37335/how-to-deal-with-java-lang-outofmemoryerror-java-heap-space-error-64mb-heap\r\n\r\n\r\n  [1]: https://commons.apache.org/proper/commons-codec/apidocs/org/apache/commons/codec/binary/Base64OutputStream.html","title":"OutOfMemory Exception while executing JAVA Mapping","body":"<p>Taking a look at your code you store the data three times:</p>\n\n<p>The first time is in byte array from the input stream. The second time is in the encoded String and finally you write it to the output stream.</p>\n\n<p>What you can do to optimize this a bit is to split the reading from the input stream/encoding and the writing of the encoded string to the output stream. That way you can let go of the input byte array once encoded and the memory can be freed. An even better solution would be when the encoder directly writes to the Output stream or directly write to an <a href=\"https://commons.apache.org/proper/commons-codec/apidocs/org/apache/commons/codec/binary/Base64OutputStream.html\" rel=\"nofollow noreferrer\">encoding output stream</a>.</p>\n\n<p>However you will still have to consider what the maximum file size should be that can be processed and adjust the heap setting accordingly: <a href=\"https://stackoverflow.com/questions/37335/how-to-deal-with-java-lang-outofmemoryerror-java-heap-space-error-64mb-heap\">How to deal with &quot;java.lang.OutOfMemoryError: Java heap space&quot; error (64MB heap size)</a></p>\n"}],"owner":{"account_id":4878118,"reputation":21,"user_id":3932624,"accept_rate":82,"display_name":"user3932624"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":249,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":32859032,"answer_count":3,"score":0,"last_activity_date":1688281347,"creation_date":1443591779,"question_id":32858606,"body_markdown":"I have to transfer big files (500 MB+...can also be of 1GB in size). These files have to be base64 encoded and the encoded string has to be put in a XML file. While my below code works good for smaller files (30 - 50 MB) it fails for files great than 100 MB.\r\n\r\nI am using base64 encoder from SUN (sun.misc.BASE64Encoder).\r\n\r\n    public void execute(InputStream inputstream, OutputStream outputstream) throws StreamTransformationException{\r\n            try\r\n            {\r\n    \t        String sourceFileName = &quot;test_file&quot;;\r\n    \t        String ReceiverStr = &quot;&quot;;\r\n    \t        //2. Convert input data in Base64Encoded string\r\n    \t        BASE64Encoder encoder = new BASE64Encoder();\r\n    \t        byte input[] = new byte[inputstream.available()];\r\n    \r\n    \t        inputstream.read(input);\r\n    \t        String base64Encoded = encoder.encode(input);\r\n    \t        //3. Build the SOAP request format\r\n    \t        String serverUrl = &quot;http://website/url&quot;;\r\n    \t       \r\n    \t        String soapEnvelope = &quot;&lt;soapenv:Envelope xmlns:soapenv=\\&quot;http://schemas.xmlsoap.org/soap/envelope/\\&quot; xmlns:soap=\\&quot;http://schemas.microsoft.com/sharepoint/soap/\\&quot;&gt;&quot;;\r\n    \t        String soapHeader = &quot;&lt;soapenv:Header/&gt;&lt;soapenv:Body&gt;&lt;soap:CopyIntoItems&gt;&lt;soap:SourceUrl&gt;C:\\\\Users\\\\Desktop\\\\test_file.txt&lt;/soap:SourceUrl&gt;&lt;soap:DestinationUrls&gt;&lt;soap:string&gt;&quot; + serverUrl + &quot;&lt;/soap:string&gt;&lt;/soap:DestinationUrls&gt;&lt;soap:Fields&gt;&lt;soap:FieldInformation &quot; + &quot;Type=&quot; + &quot;\\&quot;Text\\&quot;&quot; + &quot; DisplayName=\\&quot;&quot; + sourceFileName + &quot;\\&quot;&quot; + &quot; InternalName=\\&quot;&quot; + sourceFileName + &quot;\\&quot;&quot; + &quot; Id=\\&quot;deff4b5c-b727-414c-893d-c56a8e12455f\\&quot;&quot; + &quot; Value=\\&quot;&quot; + sourceFileName + &quot;\\&quot;/&gt;&lt;/soap:Fields&gt;&quot;;\r\n    \t        String soapStream = &quot;&lt;soap:Stream&gt;&quot; + base64Encoded + &quot;&lt;/soap:Stream&gt;&quot;;\r\n    \t        ReceiverStr = soapEnvelope + soapHeader + soapStream + &quot;&lt;/soap:CopyIntoItems&gt;&lt;/soapenv:Body&gt;&lt;/soapenv:Envelope&gt;&quot;;\r\n            \t//4. Write the SOAP request to receiver channel\r\n            \toutputstream.write(ReceiverStr.getBytes());\r\n            }\r\n            catch(Exception e) {\r\n                throw new StreamTransformationException(e.toString());  \r\n            }\r\n        }\r\n\r\nWhen I try to see the message at run-time, then the entire message is not displayed and it is truncated in-between in the base64Encoded string.\r\nBelow is the error that is seen in my system on executing the JAVA code.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n  [1]: http://i.stack.imgur.com/9vfmM.jpg\r\n\r\nPlease note that my server settings can otherwise easily transfer 1GB+ files without any JAVA Heap size error or file truncation.\r\n\r\nCan you please let me know how can I process big files using above logic?\r\n\r\nThanks,\r\n\r\nAbhishek.","title":"OutOfMemory Exception while executing JAVA Mapping","body":"<p>I have to transfer big files (500 MB+...can also be of 1GB in size). These files have to be base64 encoded and the encoded string has to be put in a XML file. While my below code works good for smaller files (30 - 50 MB) it fails for files great than 100 MB.</p>\n<p>I am using base64 encoder from SUN (sun.misc.BASE64Encoder).</p>\n<pre><code>public void execute(InputStream inputstream, OutputStream outputstream) throws StreamTransformationException{\n        try\n        {\n            String sourceFileName = &quot;test_file&quot;;\n            String ReceiverStr = &quot;&quot;;\n            //2. Convert input data in Base64Encoded string\n            BASE64Encoder encoder = new BASE64Encoder();\n            byte input[] = new byte[inputstream.available()];\n\n            inputstream.read(input);\n            String base64Encoded = encoder.encode(input);\n            //3. Build the SOAP request format\n            String serverUrl = &quot;http://website/url&quot;;\n           \n            String soapEnvelope = &quot;&lt;soapenv:Envelope xmlns:soapenv=\\&quot;http://schemas.xmlsoap.org/soap/envelope/\\&quot; xmlns:soap=\\&quot;http://schemas.microsoft.com/sharepoint/soap/\\&quot;&gt;&quot;;\n            String soapHeader = &quot;&lt;soapenv:Header/&gt;&lt;soapenv:Body&gt;&lt;soap:CopyIntoItems&gt;&lt;soap:SourceUrl&gt;C:\\\\Users\\\\Desktop\\\\test_file.txt&lt;/soap:SourceUrl&gt;&lt;soap:DestinationUrls&gt;&lt;soap:string&gt;&quot; + serverUrl + &quot;&lt;/soap:string&gt;&lt;/soap:DestinationUrls&gt;&lt;soap:Fields&gt;&lt;soap:FieldInformation &quot; + &quot;Type=&quot; + &quot;\\&quot;Text\\&quot;&quot; + &quot; DisplayName=\\&quot;&quot; + sourceFileName + &quot;\\&quot;&quot; + &quot; InternalName=\\&quot;&quot; + sourceFileName + &quot;\\&quot;&quot; + &quot; Id=\\&quot;deff4b5c-b727-414c-893d-c56a8e12455f\\&quot;&quot; + &quot; Value=\\&quot;&quot; + sourceFileName + &quot;\\&quot;/&gt;&lt;/soap:Fields&gt;&quot;;\n            String soapStream = &quot;&lt;soap:Stream&gt;&quot; + base64Encoded + &quot;&lt;/soap:Stream&gt;&quot;;\n            ReceiverStr = soapEnvelope + soapHeader + soapStream + &quot;&lt;/soap:CopyIntoItems&gt;&lt;/soapenv:Body&gt;&lt;/soapenv:Envelope&gt;&quot;;\n            //4. Write the SOAP request to receiver channel\n            outputstream.write(ReceiverStr.getBytes());\n        }\n        catch(Exception e) {\n            throw new StreamTransformationException(e.toString());  \n        }\n    }\n</code></pre>\n<p>When I try to see the message at run-time, then the entire message is not displayed and it is truncated in-between in the base64Encoded string.\nBelow is the error that is seen in my system on executing the JAVA code.</p>\n<p><a href=\"https://i.stack.imgur.com/9vfmM.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/9vfmM.jpg\" alt=\"enter image description here\" /></a></p>\n<p>Please note that my server settings can otherwise easily transfer 1GB+ files without any JAVA Heap size error or file truncation.</p>\n<p>Can you please let me know how can I process big files using above logic?</p>\n<p>Thanks,</p>\n<p>Abhishek.</p>\n"},{"tags":["java","freemarker"],"answers":[{"comments":[{"owner":{"account_id":1786316,"reputation":303,"user_id":1627719,"display_name":"mipasov"},"score":0,"creation_date":1688373437,"post_id":76597753,"comment_id":135060547,"body_markdown":"Hey @ddekany, thank you for fast response. Is there any doc or guide which I can follow. Thanks.","body":"Hey @ddekany, thank you for fast response. Is there any doc or guide which I can follow. Thanks."},{"owner":{"account_id":299854,"reputation":29886,"user_id":606679,"accept_rate":25,"display_name":"ddekany"},"score":0,"creation_date":1688452290,"post_id":76597753,"comment_id":135072137,"body_markdown":"@mipasov The Javadoc (https://freemarker.apache.org/docs/api/freemarker/core/TruncateBuiltinAlgorithm.html), but probably you just want to copy, rename and modify the `DefaultTruncateBuiltinAlgorithm` from the source code.","body":"@mipasov The Javadoc (<a href=\"https://freemarker.apache.org/docs/api/freemarker/core/TruncateBuiltinAlgorithm.html\" rel=\"nofollow noreferrer\">freemarker.apache.org/docs/api/freemarker/core/&hellip;</a>), but probably you just want to copy, rename and modify the <code>DefaultTruncateBuiltinAlgorithm</code> from the source code."}],"tags":[],"owner":{"account_id":299854,"reputation":29886,"user_id":606679,"accept_rate":25,"display_name":"ddekany"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1688281301,"creation_date":1688281301,"answer_id":76597753,"question_id":76592224,"body_markdown":"Yeah, that&#39;s a bug. Will certainly fix it for 2.3.33. Until that, you can provide a fixed algorithm with the `truncate_builtin_algorithm` configuration setting as a workaround.","title":"Freemarker: truncate_c is not working as expected","body":"<p>Yeah, that's a bug. Will certainly fix it for 2.3.33. Until that, you can provide a fixed algorithm with the <code>truncate_builtin_algorithm</code> configuration setting as a workaround.</p>\n"}],"owner":{"account_id":1786316,"reputation":303,"user_id":1627719,"display_name":"mipasov"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1688281301,"creation_date":1688159361,"question_id":76592224,"body_markdown":"According to docs `truncate_c` should truncate the text at any given place: \r\n\r\n&gt; truncate_c will truncate at any character, not just at word ends. For\r\n&gt; example, longName?truncate_c(16) returns &quot;This is a t[...]&quot;, rather\r\n&gt; than &quot;This is a [...]&quot; (as saw in earlier example). This tends to give\r\n&gt; a string length closer to the length specified, but still not an exact\r\n&gt; length, as it removes white-space before the terminator string, and\r\n&gt; re-adds a space if we are just after the end of a word, etc.\r\n\r\nBut it is not working as expected in below case : \r\nSo the String I would like to truncate is `1234 SOMESTREETSSS AVE NE 123` So the code is as below\r\n\r\n```\r\n&lt;#assign myField = &quot;1234 SOMESTREETSSS AVE NE 123&quot;&gt;\r\n${myField?truncate_c(25, &#39;&#39;)}\r\n```\r\nExpected output is `1234 SOMESTREETSSS AVE NE`\r\nActual output is `1234 SOMESTREETSSS AVE N`\r\n\r\nI think it is a bug, or I am missing something.\r\n\r\n[Link to documentation of truncate][1]\r\n\r\n\r\n  [1]: https://freemarker.apache.org/docs/ref_builtins_string.html#ref_builtin_truncate","title":"Freemarker: truncate_c is not working as expected","body":"<p>According to docs <code>truncate_c</code> should truncate the text at any given place:</p>\n<blockquote>\n<p>truncate_c will truncate at any character, not just at word ends. For\nexample, longName?truncate_c(16) returns &quot;This is a t[...]&quot;, rather\nthan &quot;This is a [...]&quot; (as saw in earlier example). This tends to give\na string length closer to the length specified, but still not an exact\nlength, as it removes white-space before the terminator string, and\nre-adds a space if we are just after the end of a word, etc.</p>\n</blockquote>\n<p>But it is not working as expected in below case :\nSo the String I would like to truncate is <code>1234 SOMESTREETSSS AVE NE 123</code> So the code is as below</p>\n<pre><code>&lt;#assign myField = &quot;1234 SOMESTREETSSS AVE NE 123&quot;&gt;\n${myField?truncate_c(25, '')}\n</code></pre>\n<p>Expected output is <code>1234 SOMESTREETSSS AVE NE</code>\nActual output is <code>1234 SOMESTREETSSS AVE N</code></p>\n<p>I think it is a bug, or I am missing something.</p>\n<p><a href=\"https://freemarker.apache.org/docs/ref_builtins_string.html#ref_builtin_truncate\" rel=\"nofollow noreferrer\">Link to documentation of truncate</a></p>\n"},{"tags":["java","lambda"],"comments":[{"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":5,"creation_date":1688279536,"post_id":76597659,"comment_id":135051001,"body_markdown":"Yeah, your colleague is wrong.","body":"Yeah, your colleague is wrong."},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1688280201,"post_id":76597659,"comment_id":135051052,"body_markdown":"I&#39;ve only seen `::new` used with the class name alone, or with a parameterized type (`HashSet&lt;Person&gt;::new`) but never with a constructor.  It might be in the JLS but it&#39;s new to me.","body":"I&#39;ve only seen <code>::new</code> used with the class name alone, or with a parameterized type (<code>HashSet&lt;Person&gt;::new</code>) but never with a constructor.  It might be in the JLS but it&#39;s new to me."},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1688280448,"post_id":76597659,"comment_id":135051067,"body_markdown":"Yea ... one of my pet peeves is when a code reviewer gives you a -1 on a code review telling you do something an &quot;alternative&quot; way *that simply doesn&#39;t work*.","body":"Yea ... one of my pet peeves is when a code reviewer gives you a -1 on a code review telling you do something an &quot;alternative&quot; way <i>that simply doesn&#39;t work</i>."},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1688284859,"post_id":76597659,"comment_id":135051440,"body_markdown":"@user16320675 This one can&#39;t be used at all, as it isn&#39;t a valid lambda of any form.","body":"@user16320675 This one can&#39;t be used at all, as it isn&#39;t a valid lambda of any form."},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1688291647,"post_id":76597659,"comment_id":135052062,"body_markdown":"@user16320675 You didn&#39;t give any impression that you understood that the code provided wasn&#39;t legal.","body":"@user16320675 You didn&#39;t give any impression that you understood that the code provided wasn&#39;t legal."}],"answers":[{"tags":[],"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1688280672,"creation_date":1688280672,"answer_id":76597715,"question_id":76597659,"body_markdown":"Your colleague is wrong. `ClubException(ClubErrorCode.INVALID_CLUB_ID)::new` is not a valid method reference expression.\r\n\r\nMethod reference expressions can take many forms, but there are only two forms that involve `::new`. See the syntax in the [language specification][1]. The two forms are:\r\n\r\n```\r\nClassType :: [TypeArguments] new \r\nArrayType :: new\r\n```\r\n\r\nIn this case, the part before `::new` is `ClubException(ClubErrorCode.INVALID_CLUB_ID)`. This is neither a `ClassType` or an `ArrayType`.\r\n\r\nThat said, `ClubException::new` would have been a valid method reference expression. If `ClubException` has an accessible parameterless constructor, then it is also valid to pass `ClubException::new` to `orElseThrow`. The parameterless constructor will be called to create a new instance of `ClubException` when the optional is empty.\r\n\r\nSo if `new ClubException()` is equivalent to `new ClubException(ClubErrorCode.INVALID_CLUB_ID)`, then passing `ClubException::new` would achieve what you want.\r\n\r\nOtherwise, you cannot use the `ClassType::new` form of an method reference expression.\r\n\r\nIf you really want to use a method reference expression, you can declare a method that returns `new ClubException(ClubErrorCode.INVALID_CLUB_ID)` somewhere, and use an appropriate method reference expression to refer to that method:\r\n\r\n```\r\nclass SomeClass {\r\n    public static ClubException newClubException() {\r\n        return new ClubException(ClubErrorCode.INVALID_CLUB_ID);\r\n    }\r\n}\r\n\r\n//\r\n\r\n...orElseThrow(SomeClass::newClubException);\r\n```\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/specs/jls/se17/html/jls-15.html#jls-15.13","title":"Why can&#39;t I use .orElseThrow with ::new in Java","body":"<p>Your colleague is wrong. <code>ClubException(ClubErrorCode.INVALID_CLUB_ID)::new</code> is not a valid method reference expression.</p>\n<p>Method reference expressions can take many forms, but there are only two forms that involve <code>::new</code>. See the syntax in the <a href=\"https://docs.oracle.com/javase/specs/jls/se17/html/jls-15.html#jls-15.13\" rel=\"noreferrer\">language specification</a>. The two forms are:</p>\n<pre><code>ClassType :: [TypeArguments] new \nArrayType :: new\n</code></pre>\n<p>In this case, the part before <code>::new</code> is <code>ClubException(ClubErrorCode.INVALID_CLUB_ID)</code>. This is neither a <code>ClassType</code> or an <code>ArrayType</code>.</p>\n<p>That said, <code>ClubException::new</code> would have been a valid method reference expression. If <code>ClubException</code> has an accessible parameterless constructor, then it is also valid to pass <code>ClubException::new</code> to <code>orElseThrow</code>. The parameterless constructor will be called to create a new instance of <code>ClubException</code> when the optional is empty.</p>\n<p>So if <code>new ClubException()</code> is equivalent to <code>new ClubException(ClubErrorCode.INVALID_CLUB_ID)</code>, then passing <code>ClubException::new</code> would achieve what you want.</p>\n<p>Otherwise, you cannot use the <code>ClassType::new</code> form of an method reference expression.</p>\n<p>If you really want to use a method reference expression, you can declare a method that returns <code>new ClubException(ClubErrorCode.INVALID_CLUB_ID)</code> somewhere, and use an appropriate method reference expression to refer to that method:</p>\n<pre><code>class SomeClass {\n    public static ClubException newClubException() {\n        return new ClubException(ClubErrorCode.INVALID_CLUB_ID);\n    }\n}\n\n//\n\n...orElseThrow(SomeClass::newClubException);\n</code></pre>\n"}],"owner":{"account_id":28881418,"reputation":21,"user_id":22120821,"display_name":"GyeongEun Kim"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76597715,"answer_count":1,"score":1,"last_activity_date":1688281294,"creation_date":1688279491,"question_id":76597659,"body_markdown":"hi here is my code using Java and JPA.\r\n\r\n```\r\n  Club club = clubRepository.findById(clubId).orElseThrow(\r\n                () -&gt; new ClubException(ClubErrorCode.INVALID_CLUB_ID)\r\n        );\r\n```\r\n\r\nand I got a code review from my collegue that I could refactor that code like this.\r\n\r\n`() -&gt; new ClubException(ClubErrorCode.INVALID_CLUB_ID)` -\\&gt; `ClubException(ClubErrorCode.INVALID_CLUB_ID)::new`\r\n\r\nbut it doesn&#39;t work. I am not familiar with lambda and Method&#160;Reference..\r\n\r\nit is impossible to refactor like that? (using ::new)","title":"Why can&#39;t I use .orElseThrow with ::new in Java","body":"<p>hi here is my code using Java and JPA.</p>\n<pre><code>  Club club = clubRepository.findById(clubId).orElseThrow(\n                () -&gt; new ClubException(ClubErrorCode.INVALID_CLUB_ID)\n        );\n</code></pre>\n<p>and I got a code review from my collegue that I could refactor that code like this.</p>\n<p><code>() -&gt; new ClubException(ClubErrorCode.INVALID_CLUB_ID)</code> -&gt; <code>ClubException(ClubErrorCode.INVALID_CLUB_ID)::new</code></p>\n<p>but it doesn't work. I am not familiar with lambda and Method Reference..</p>\n<p>it is impossible to refactor like that? (using ::new)</p>\n"},{"tags":["java","node.js","double","priority-queue","comparator"],"comments":[{"owner":{"account_id":1616980,"reputation":616,"user_id":1494395,"accept_rate":0,"display_name":"Rajith Pemabandu"},"score":0,"creation_date":1493167078,"post_id":43623060,"comment_id":74295220,"body_markdown":"suppose you implement `Comparator&lt;Node&gt;` in your `Node` class and do the sorting. this [post](http://stackoverflow.com/questions/12761356/trying-to-sort-a-priority-queue-by-one-of-the-stored-nodes-values) may be helpful to you get the solution.","body":"suppose you implement <code>Comparator&lt;Node&gt;</code> in your <code>Node</code> class and do the sorting. this <a href=\"http://stackoverflow.com/questions/12761356/trying-to-sort-a-priority-queue-by-one-of-the-stored-nodes-values\">post</a> may be helpful to you get the solution."}],"answers":[{"tags":[],"owner":{"account_id":2009857,"reputation":25959,"user_id":1798593,"display_name":"Patricia Shanahan"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1493167667,"creation_date":1493167667,"answer_id":43623183,"question_id":43623060,"body_markdown":"You have two options, and the choice depends on what the `Double` means in the `Node`:\r\n\r\n 1. Have `Node` implement `Comparable&lt;Node&gt;`, and use `PriorityQueue&lt;Node&gt;`. The `compareTo` method will order by the `Double`. The queue order you want is the natural order of the elements.\r\n 2. Use the `PriorityQueue` constructor that takes a `Comparator` argument. The `Comparator` you use for the queue should order according to the `Double` value.\r\n\r\nThe first one is better if the `Double` really is the natural order for the nodes. The second one is better if it is only important for this queue, and other fields are equally important for other purposes.","title":"Priority Queue &lt;Double&gt; vs Priority Queue &lt;Node&gt;","body":"<p>You have two options, and the choice depends on what the <code>Double</code> means in the <code>Node</code>:</p>\n\n<ol>\n<li>Have <code>Node</code> implement <code>Comparable&lt;Node&gt;</code>, and use <code>PriorityQueue&lt;Node&gt;</code>. The <code>compareTo</code> method will order by the <code>Double</code>. The queue order you want is the natural order of the elements.</li>\n<li>Use the <code>PriorityQueue</code> constructor that takes a <code>Comparator</code> argument. The <code>Comparator</code> you use for the queue should order according to the <code>Double</code> value.</li>\n</ol>\n\n<p>The first one is better if the <code>Double</code> really is the natural order for the nodes. The second one is better if it is only important for this queue, and other fields are equally important for other purposes.</p>\n"},{"tags":[],"owner":{"account_id":15746755,"reputation":1,"user_id":11362448,"display_name":"Namra Shah"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1555323246,"creation_date":1555323246,"answer_id":55686954,"question_id":43623060,"body_markdown":"You can use PriorityQueue&lt;&lt;Node&gt;Node&gt; implementation and manage the ordering of elements by overriding compare method of the Comparator interface during the queue construction time.\r\n\r\nFor example:\r\n To sort elements in ascending order of their Node values, use the below-mentioned declaration of the priority queue and then simply add nodes to the priority queue.\r\n\r\n    PriorityQueue&lt;Node&gt; pq = new PriorityQueue&lt;Node&gt;(new Comparator&lt;Node&gt;(){\r\n       public int compare(Node node1, Node node2){\r\n           if(node2.val&gt;node1.val){\r\n              return -1;\r\n           }\r\n           else{\r\n              return 1;\r\n           }\r\n       }\r\n    });\r\n","title":"Priority Queue &lt;Double&gt; vs Priority Queue &lt;Node&gt;","body":"<p>You can use PriorityQueue&lt;Node> implementation and manage the ordering of elements by overriding compare method of the Comparator interface during the queue construction time.</p>\n\n<p>For example:\n To sort elements in ascending order of their Node values, use the below-mentioned declaration of the priority queue and then simply add nodes to the priority queue.</p>\n\n<pre><code>PriorityQueue&lt;Node&gt; pq = new PriorityQueue&lt;Node&gt;(new Comparator&lt;Node&gt;(){\n   public int compare(Node node1, Node node2){\n       if(node2.val&gt;node1.val){\n          return -1;\n       }\n       else{\n          return 1;\n       }\n   }\n});\n</code></pre>\n"},{"comments":[{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1688283889,"post_id":76597750,"comment_id":135051361,"body_markdown":"don&#39;t do `a.val - b.val` - that is not the correct way to compare numbers! (due to overflow/underflow {rare, but posisble}) || that is why we have `Double.compare()` and even `Comparator.comparingDouble()`","body":"don&#39;t do <code>a.val - b.val</code> - that is not the correct way to compare numbers! (due to overflow/underflow {rare, but posisble}) || that is why we have <code>Double.compare()</code> and even <code>Comparator.comparingDouble()</code>"}],"tags":[],"owner":{"account_id":18181354,"reputation":49,"user_id":13229049,"display_name":"Achyut Pal"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688281272,"creation_date":1688281272,"answer_id":76597750,"question_id":43623060,"body_markdown":"You can also use in this way.\r\n\r\n    PriorityQueue&lt;Node&gt; pq = new PriorityQueue&lt;Node&gt;((a, b) -&gt; (int) (a.val - b.val));","title":"Priority Queue &lt;Double&gt; vs Priority Queue &lt;Node&gt;","body":"<p>You can also use in this way.</p>\n<pre><code>PriorityQueue&lt;Node&gt; pq = new PriorityQueue&lt;Node&gt;((a, b) -&gt; (int) (a.val - b.val));\n</code></pre>\n"}],"owner":{"account_id":10363821,"reputation":21,"user_id":7643500,"display_name":"Amanda Howard"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3085,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":3,"score":2,"last_activity_date":1688281272,"creation_date":1493166772,"question_id":43623060,"body_markdown":"Ok so I&#39;m trying to use a java priority queue to sort nodes by the double val they contain. I know how to do a priority queue by double but I need the rest of the node values for a huffman encoding tree construction. Is there a way to sort a priority queue of nodes by their val or would I be better off making the queue sort the double vals and then trying to match them to the nodes?","title":"Priority Queue &lt;Double&gt; vs Priority Queue &lt;Node&gt;","body":"<p>Ok so I'm trying to use a java priority queue to sort nodes by the double val they contain. I know how to do a priority queue by double but I need the rest of the node values for a huffman encoding tree construction. Is there a way to sort a priority queue of nodes by their val or would I be better off making the queue sort the double vals and then trying to match them to the nodes?</p>\n"},{"tags":["java","adapter","sapjco3"],"answers":[{"comments":[{"owner":{"account_id":9910001,"reputation":1796,"user_id":7337102,"display_name":"Trixx"},"score":0,"creation_date":1482925063,"post_id":34746511,"comment_id":69923639,"body_markdown":"Your links refer to the old outdated JCo 2.x. The question was about the current JCo version 3.0 which has a different API.","body":"Your links refer to the old outdated JCo 2.x. The question was about the current JCo version 3.0 which has a different API."}],"tags":[],"owner":{"account_id":1345845,"reputation":3244,"user_id":1286621,"accept_rate":80,"display_name":"Mike"},"comment_count":1,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1452609477,"creation_date":1452609477,"answer_id":34746511,"question_id":34743036,"body_markdown":"Found a couple of links for you.  \r\n\r\n[JCO Tutorial Part 1 - Direct JCO Connection][1]\r\n\r\nand \r\n\r\n[JCO JavaDocs][2]\r\n\r\n\r\n  [1]: http://www.apentia-forum.de/viewtopic.php?t=1962\r\n  [2]: https://help.sap.com/javadocs/NW04S/current/jc/index.html","title":"How can I replace iWay, as a SAP adapter, from homegrown Java application","body":"<p>Found a couple of links for you.  </p>\n\n<p><a href=\"http://www.apentia-forum.de/viewtopic.php?t=1962\" rel=\"nofollow\">JCO Tutorial Part 1 - Direct JCO Connection</a></p>\n\n<p>and </p>\n\n<p><a href=\"https://help.sap.com/javadocs/NW04S/current/jc/index.html\" rel=\"nofollow\">JCO JavaDocs</a></p>\n"},{"tags":[],"owner":{"account_id":9910001,"reputation":1796,"user_id":7337102,"display_name":"Trixx"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1482924910,"creation_date":1482924910,"answer_id":41361256,"question_id":34743036,"body_markdown":"The SAP Java Connector is closed source and available for free, but only for SAP customers and partners.\r\n\r\nIf you have a SAP Service Marketplace account, you can get the JCo SDK from here:\r\n[https://service.sap.com/connectors][1].\r\n\r\nThe downloadable SDK archive also contains the JavaDoc and some examples. \r\n\r\n\r\n  [1]: https://service.sap.com/connectors","title":"How can I replace iWay, as a SAP adapter, from homegrown Java application","body":"<p>The SAP Java Connector is closed source and available for free, but only for SAP customers and partners.</p>\n\n<p>If you have a SAP Service Marketplace account, you can get the JCo SDK from here:\n<a href=\"https://service.sap.com/connectors\" rel=\"nofollow noreferrer\">https://service.sap.com/connectors</a>.</p>\n\n<p>The downloadable SDK archive also contains the JavaDoc and some examples. </p>\n"}],"owner":{"account_id":5368736,"reputation":35,"user_id":4277837,"display_name":"aman roy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":118,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":41361256,"answer_count":2,"score":0,"last_activity_date":1688280937,"creation_date":1452599740,"question_id":34743036,"body_markdown":"How can I replace iWay, as a SAP adapter, from  a homegrown Java application?\r\n\r\nI have sapjco3.jar and libsapjco3.so with me.\r\n\r\nCan I get any documentation on this?\r\n","title":"How can I replace iWay, as a SAP adapter, from homegrown Java application","body":"<p>How can I replace iWay, as a SAP adapter, from  a homegrown Java application?</p>\n<p>I have sapjco3.jar and libsapjco3.so with me.</p>\n<p>Can I get any documentation on this?</p>\n"},{"tags":["java","jar","sapjco3"],"answers":[{"comments":[{"owner":{"account_id":9910001,"reputation":1796,"user_id":7337102,"display_name":"Trixx"},"score":0,"creation_date":1542730604,"post_id":19586483,"comment_id":93669617,"body_markdown":"The SAP Service Marketplace has reached its end of life. It has been replaced by the SAP Support Portal (and other sites). The new link to the JCo Homepage is now: [https://support.sap.com/jco](https://support.sap.com/jco)","body":"The SAP Service Marketplace has reached its end of life. It has been replaced by the SAP Support Portal (and other sites). The new link to the JCo Homepage is now: <a href=\"https://support.sap.com/jco\" rel=\"nofollow noreferrer\">https://support.sap.com/jco</a>"}],"tags":[],"owner":{"account_id":1861886,"reputation":3121,"user_id":1686330,"accept_rate":83,"display_name":"Dirk Lachowski"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1382694530,"creation_date":1382694530,"answer_id":19586483,"question_id":19586300,"body_markdown":"You are missing the native implementation of the sap java connector. sapjco consists of a .jar for the java binding and a native library (an .so-file) for the platform specific binding.\r\n\r\nYou need an account on the sap service marketplace to access it. If you have one go to http://service.sap.com and there to Software Downloads / INstallations and upgrades / Browse / SAP Connectors / SAP JCO\r\n","title":"No sapjco3 in java.library.path Eclipse","body":"<p>You are missing the native implementation of the sap java connector. sapjco consists of a .jar for the java binding and a native library (an .so-file) for the platform specific binding.</p>\n\n<p>You need an account on the sap service marketplace to access it. If you have one go to <a href=\"http://service.sap.com\" rel=\"nofollow\">http://service.sap.com</a> and there to Software Downloads / INstallations and upgrades / Browse / SAP Connectors / SAP JCO</p>\n"},{"tags":[],"owner":{"account_id":11430866,"reputation":928,"user_id":8379612,"display_name":"Pratik"},"comment_count":0,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1542707062,"creation_date":1542707062,"answer_id":53390168,"question_id":19586300,"body_markdown":"Once you place sapjco3.dll, Do not forget to restart your eclipse with **Admin** rights.","title":"No sapjco3 in java.library.path Eclipse","body":"<p>Once you place sapjco3.dll, Do not forget to restart your eclipse with <strong>Admin</strong> rights.</p>\n"}],"owner":{"account_id":3371496,"reputation":7806,"user_id":2830603,"accept_rate":67,"display_name":"Hash"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8903,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1610484056,"accepted_answer_id":19586483,"answer_count":2,"score":-1,"last_activity_date":1688280841,"creation_date":1382693999,"question_id":19586300,"body_markdown":"I&#39;m getting this error when i run code.\r\n\r\n    java.lang.UnsatisfiedLinkError: no sapjco3 in java.library.path\r\n\r\nI have added the jar(**sapjco-3.0.jar**) to folder and did set the path in the project.\r\n\r\nThanks.","title":"No sapjco3 in java.library.path Eclipse","body":"<p>I'm getting this error when i run code.</p>\n\n<pre><code>java.lang.UnsatisfiedLinkError: no sapjco3 in java.library.path\n</code></pre>\n\n<p>I have added the jar(<strong>sapjco-3.0.jar</strong>) to folder and did set the path in the project.</p>\n\n<p>Thanks.</p>\n"},{"tags":["java","spring-boot","cucumber","cucumber-java","cucumber-spring"],"answers":[{"tags":[],"owner":{"account_id":8915876,"reputation":3560,"user_id":6654475,"accept_rate":100,"display_name":"Francislainy Campos"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688280299,"creation_date":1688280299,"answer_id":76597699,"question_id":76597614,"body_markdown":"I have just found out IntelliJ was the one causing the issue. Running the tests from maven worked no problem, or even running the suite from IntelliJ also works fine, but for some reason running the individual moment feature file by right clicking on it errors with the steps not implemented message.","title":"Cucumber Steps Marked As Unimplemented When Running From Multiple Step Files","body":"<p>I have just found out IntelliJ was the one causing the issue. Running the tests from maven worked no problem, or even running the suite from IntelliJ also works fine, but for some reason running the individual moment feature file by right clicking on it errors with the steps not implemented message.</p>\n"}],"owner":{"account_id":8915876,"reputation":3560,"user_id":6654475,"accept_rate":100,"display_name":"Francislainy Campos"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1688280299,"creation_date":1688278337,"question_id":76597614,"body_markdown":"\r\nI have the following configuration for my tests:\r\n\r\nUnder the resources -&gt; features folder file I have the users and moment feature files:\r\n\r\nUsers.feature\r\n\r\n```\r\nFeature: Validate the user related endpoints\r\n\r\n  Background: Set up user\r\n    Given I add a user to the DB\r\n\r\n  Scenario: Validate fields for get users endpoint\r\n    Given I access the get users endpoint\r\n    And I get a 200 successful response\r\n    And The response has all the expected fields for the get users endpoint\r\n```\r\n\r\nIn Moments.feature\r\n\r\n```\r\nFeature: Moment Posting and Commenting\r\n\r\n  Background: Set up user\r\n    Given I add a user to the DB\r\n\r\n  Scenario: User creates moment and that gets added to his existing list of moments\r\n    And the user creates a moment with some basic and simple content\r\n    Then the moment should be created successfully\r\n    And the user should be able to see the moment in his list of moments\r\n```\r\n\r\nThen this entry point:\r\n\r\n```\r\n@Suite\r\n@SelectClasspathResource(&quot;features&quot;)\r\n@ConfigurationParameter(\r\n        key = Constants.GLUE_PROPERTY_NAME,\r\n        value = &quot;com.example.hellotalk.steps&quot;)\r\npublic class HelloTalkTest {\r\n}\r\n```\r\n\r\nAnd here is my configuration, which is placed under the steps -&gt; config folder:\r\n\r\n```\r\n@Profile(&quot;dev&quot;)\r\n@CucumberContextConfiguration\r\n@SpringBootTest(classes = TestConfig.class, webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT)\r\npublic class CucumberSpringConfiguration extends BasePostgresConfig {\r\n\r\n    @LocalServerPort\r\n    private int port;\r\n\r\n    @PostConstruct\r\n    public void setup() {\r\n        System.setProperty(&quot;port&quot;, String.valueOf(port));\r\n    }\r\n}\r\n\r\n@ComponentScan(basePackages = {&quot;com.example.hellotalk&quot;})\r\n@EnableAutoConfiguration\r\npublic class TestConfig {\r\n\r\n}\r\n```\r\n\r\nMy steps are defined under the steps folder and their specific subfolders, where UserStep is under steps -&gt; user and MomentStep is under step -&gt; moment\r\n\r\nIntelliJ shows me the steps inside the step classes matching the ones declared within each feature file. However, when I run the tests that call steps declared inside MomentStep.java they fail with a message saying they haven’t been implemented, despite as I mentioned before IntelliJ being able to navigate to them and show me their usages.\r\n\r\nI think it may perhaps be something to do with ScenarioScope and context, but both moment and user have a context class declared inside their packages (even though the one for Moment has only been added to debug the issue, as it’s empty since there is not a need for it to be sharing variables with other steps so far).\r\n\r\n```\r\n@Data\r\n@Component\r\n@ScenarioScope\r\npublic class MomentContext {\r\n\r\n}\r\n\r\n@Data\r\n@Component\r\n@ScenarioScope\r\npublic class UserContext {\r\n\r\n    private List&lt;UserEntity&gt; userListDB;\r\n}\r\n\r\n\r\n@RequiredArgsConstructor\r\n@Data\r\npublic class UserStep {\r\n\r\n    private final ApiStep apiStep;\r\n    private final UserContext uc;\r\n\r\n    @Then(&quot;I validate the response for the get users endpoint against the database&quot;)\r\n    public void iValidateResponseForGetUsersEndpointAgainstTheDatabase() {\r\n        List&lt;User&gt; userListApi = Arrays.asList(apiStep.getResponse().as(User[].class));\r\n        List&lt;UserEntity&gt; userListDB = uc.getUserListDB();\r\n\r\n        for (UserEntity userDB : userListDB) {\r\n\r\n            Optional&lt;User&gt; matchingUser = findApiUserMatchingDB(userListApi, userDB);\r\n\r\n            if (matchingUser.isPresent()) {\r\n                User userApi = matchingUser.get();\r\n\r\n                assertThat(userApi)\r\n                        .usingRecursiveComparison()\r\n                        .ignoringFields(&quot;hometown&quot;, &quot;hobbyAndInterests&quot;, &quot;followerOf&quot;, &quot;followedBy&quot;)\r\n                        .isEqualTo(userDB);\r\n            }\r\n        }\r\n    }\r\n\r\n    private Optional&lt;User&gt; findApiUserMatchingDB(List&lt;User&gt; userListApi, UserEntity userDB) {\r\n        return userListApi.stream().filter(userApi -&gt; userApi.getId().equals(userDB.getId())).findFirst();\r\n    }\r\n}\r\n\r\n\r\n@RequiredArgsConstructor\r\n@Data\r\npublic class MomentStep {\r\n\r\n    private final MomentContext mc;\r\n\r\n    private final ApiStep apiStep;\r\n    private final RestClient restClient;\r\n\r\n    @And(&quot;the user creates a moment with some basic and simple content&quot;)\r\n    public void theUserCreatesAMomentWithSomeBasicAndSimpleContent() {\r\n        Moment moment = Moment.builder().text(&quot;A great day testing&quot;).build();\r\n\r\n        RequestSpecification rq = restClient.getRequestSpecification();\r\n        apiStep.setResponse(rq.body(moment).post(&quot;/api/v1/ht/moments/&quot;));\r\n    }\r\n\r\n    @Then(&quot;the moment should be created successfully&quot;)\r\n    public void iGetResponse() {\r\n        apiStep.getResponse().then().statusCode(201);\r\n    }\r\n\r\n    @And(&quot;the user should be able to see the moment in their list of moments&quot;)\r\n    public void userSeeMomentInMomentList() {\r\n        Moment moment = apiStep.getResponse().as(Moment.class);\r\n\r\n        RequestSpecification rq = restClient.getRequestSpecification();\r\n        apiStep.setResponse(rq.get(&quot;/api/v1/ht/moments/&quot;));\r\n\r\n        List&lt;Moment&gt; momentList = Arrays.asList(apiStep.getResponse().as(Moment[].class));\r\n\r\n        boolean isMomentFound = momentList.stream().anyMatch(m -&gt; m.getId().equals(moment.getId()));\r\n        Assertions.assertTrue(isMomentFound);\r\n    }\r\n}\r\n\r\n```\r\n\r\nThank you.\r\n\r\nhttps://github.com/francislainy/HelloTalk/tree/master/src/test\r\n\r\nPS: I&#39;ve also tried things such as invalidating caches and restarting IntelliJ, but that hasn&#39;t solved the issue.\r\n\r\n\r\n\r\n ","title":"Cucumber Steps Marked As Unimplemented When Running From Multiple Step Files","body":"<p>I have the following configuration for my tests:</p>\n<p>Under the resources -&gt; features folder file I have the users and moment feature files:</p>\n<p>Users.feature</p>\n<pre><code>Feature: Validate the user related endpoints\n\n  Background: Set up user\n    Given I add a user to the DB\n\n  Scenario: Validate fields for get users endpoint\n    Given I access the get users endpoint\n    And I get a 200 successful response\n    And The response has all the expected fields for the get users endpoint\n</code></pre>\n<p>In Moments.feature</p>\n<pre><code>Feature: Moment Posting and Commenting\n\n  Background: Set up user\n    Given I add a user to the DB\n\n  Scenario: User creates moment and that gets added to his existing list of moments\n    And the user creates a moment with some basic and simple content\n    Then the moment should be created successfully\n    And the user should be able to see the moment in his list of moments\n</code></pre>\n<p>Then this entry point:</p>\n<pre><code>@Suite\n@SelectClasspathResource(&quot;features&quot;)\n@ConfigurationParameter(\n        key = Constants.GLUE_PROPERTY_NAME,\n        value = &quot;com.example.hellotalk.steps&quot;)\npublic class HelloTalkTest {\n}\n</code></pre>\n<p>And here is my configuration, which is placed under the steps -&gt; config folder:</p>\n<pre><code>@Profile(&quot;dev&quot;)\n@CucumberContextConfiguration\n@SpringBootTest(classes = TestConfig.class, webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT)\npublic class CucumberSpringConfiguration extends BasePostgresConfig {\n\n    @LocalServerPort\n    private int port;\n\n    @PostConstruct\n    public void setup() {\n        System.setProperty(&quot;port&quot;, String.valueOf(port));\n    }\n}\n\n@ComponentScan(basePackages = {&quot;com.example.hellotalk&quot;})\n@EnableAutoConfiguration\npublic class TestConfig {\n\n}\n</code></pre>\n<p>My steps are defined under the steps folder and their specific subfolders, where UserStep is under steps -&gt; user and MomentStep is under step -&gt; moment</p>\n<p>IntelliJ shows me the steps inside the step classes matching the ones declared within each feature file. However, when I run the tests that call steps declared inside MomentStep.java they fail with a message saying they haven’t been implemented, despite as I mentioned before IntelliJ being able to navigate to them and show me their usages.</p>\n<p>I think it may perhaps be something to do with ScenarioScope and context, but both moment and user have a context class declared inside their packages (even though the one for Moment has only been added to debug the issue, as it’s empty since there is not a need for it to be sharing variables with other steps so far).</p>\n<pre><code>@Data\n@Component\n@ScenarioScope\npublic class MomentContext {\n\n}\n\n@Data\n@Component\n@ScenarioScope\npublic class UserContext {\n\n    private List&lt;UserEntity&gt; userListDB;\n}\n\n\n@RequiredArgsConstructor\n@Data\npublic class UserStep {\n\n    private final ApiStep apiStep;\n    private final UserContext uc;\n\n    @Then(&quot;I validate the response for the get users endpoint against the database&quot;)\n    public void iValidateResponseForGetUsersEndpointAgainstTheDatabase() {\n        List&lt;User&gt; userListApi = Arrays.asList(apiStep.getResponse().as(User[].class));\n        List&lt;UserEntity&gt; userListDB = uc.getUserListDB();\n\n        for (UserEntity userDB : userListDB) {\n\n            Optional&lt;User&gt; matchingUser = findApiUserMatchingDB(userListApi, userDB);\n\n            if (matchingUser.isPresent()) {\n                User userApi = matchingUser.get();\n\n                assertThat(userApi)\n                        .usingRecursiveComparison()\n                        .ignoringFields(&quot;hometown&quot;, &quot;hobbyAndInterests&quot;, &quot;followerOf&quot;, &quot;followedBy&quot;)\n                        .isEqualTo(userDB);\n            }\n        }\n    }\n\n    private Optional&lt;User&gt; findApiUserMatchingDB(List&lt;User&gt; userListApi, UserEntity userDB) {\n        return userListApi.stream().filter(userApi -&gt; userApi.getId().equals(userDB.getId())).findFirst();\n    }\n}\n\n\n@RequiredArgsConstructor\n@Data\npublic class MomentStep {\n\n    private final MomentContext mc;\n\n    private final ApiStep apiStep;\n    private final RestClient restClient;\n\n    @And(&quot;the user creates a moment with some basic and simple content&quot;)\n    public void theUserCreatesAMomentWithSomeBasicAndSimpleContent() {\n        Moment moment = Moment.builder().text(&quot;A great day testing&quot;).build();\n\n        RequestSpecification rq = restClient.getRequestSpecification();\n        apiStep.setResponse(rq.body(moment).post(&quot;/api/v1/ht/moments/&quot;));\n    }\n\n    @Then(&quot;the moment should be created successfully&quot;)\n    public void iGetResponse() {\n        apiStep.getResponse().then().statusCode(201);\n    }\n\n    @And(&quot;the user should be able to see the moment in their list of moments&quot;)\n    public void userSeeMomentInMomentList() {\n        Moment moment = apiStep.getResponse().as(Moment.class);\n\n        RequestSpecification rq = restClient.getRequestSpecification();\n        apiStep.setResponse(rq.get(&quot;/api/v1/ht/moments/&quot;));\n\n        List&lt;Moment&gt; momentList = Arrays.asList(apiStep.getResponse().as(Moment[].class));\n\n        boolean isMomentFound = momentList.stream().anyMatch(m -&gt; m.getId().equals(moment.getId()));\n        Assertions.assertTrue(isMomentFound);\n    }\n}\n\n</code></pre>\n<p>Thank you.</p>\n<p><a href=\"https://github.com/francislainy/HelloTalk/tree/master/src/test\" rel=\"nofollow noreferrer\">https://github.com/francislainy/HelloTalk/tree/master/src/test</a></p>\n<p>PS: I've also tried things such as invalidating caches and restarting IntelliJ, but that hasn't solved the issue.</p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":26780105,"reputation":294,"user_id":20375079,"display_name":"Seb Perp"},"score":0,"creation_date":1688281003,"post_id":76597630,"comment_id":135051135,"body_markdown":"It is simply required to package your app as a war when using spring boot.","body":"It is simply required to package your app as a war when using spring boot."}],"owner":{"account_id":14226667,"reputation":523,"user_id":10277150,"display_name":"gurkan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688278647,"creation_date":1688278647,"question_id":76597630,"body_markdown":"I am trying to deploy my spring boot via Tomcat9 however if I don&#39;t extend `SpringBootServletInitializer` my app is not starting. Why should I do this? Are there any other alternatives? I remember a few years ago I was able to deploy without extending it.\r\n\r\n```\r\n@SpringBootApplication\r\npublic class Application extends SpringBootServletInitializer {\r\n\r\n  public static void main(String[] args) {\r\n    SpringApplication.run(Application.class, args);\r\n  }\r\n\r\n  @Override\r\n  protected SpringApplicationBuilder configure(SpringApplicationBuilder application) {\r\n    return application.sources(Application.class);\r\n  }\r\n}\r\n\r\n\r\n &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n  &lt;packaging&gt;war&lt;/packaging&gt;\r\n  &lt;parent&gt;\r\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    &lt;version&gt;2.7.12&lt;/version&gt;\r\n    &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n  &lt;/parent&gt;\r\n  ...........\r\n  &lt;properties&gt;\r\n    &lt;java.version&gt;11&lt;/java.version&gt;\r\n  &lt;/properties&gt;\r\n  ............\r\n   &lt;dependency&gt;\r\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\r\n      &lt;scope&gt;provided&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n```\r\n","title":"spring boot tomcat deploy without extends SpringBootServletInitializer","body":"<p>I am trying to deploy my spring boot via Tomcat9 however if I don't extend <code>SpringBootServletInitializer</code> my app is not starting. Why should I do this? Are there any other alternatives? I remember a few years ago I was able to deploy without extending it.</p>\n<pre><code>@SpringBootApplication\npublic class Application extends SpringBootServletInitializer {\n\n  public static void main(String[] args) {\n    SpringApplication.run(Application.class, args);\n  }\n\n  @Override\n  protected SpringApplicationBuilder configure(SpringApplicationBuilder application) {\n    return application.sources(Application.class);\n  }\n}\n\n\n &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n  &lt;packaging&gt;war&lt;/packaging&gt;\n  &lt;parent&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n    &lt;version&gt;2.7.12&lt;/version&gt;\n    &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n  &lt;/parent&gt;\n  ...........\n  &lt;properties&gt;\n    &lt;java.version&gt;11&lt;/java.version&gt;\n  &lt;/properties&gt;\n  ............\n   &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\n      &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1688363565,"post_id":76597563,"comment_id":135058908,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":28933584,"reputation":1,"user_id":22161638,"display_name":"Daniel Workneh"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":9,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688277124,"creation_date":1688277124,"question_id":76597563,"body_markdown":"this error keeps happening every time a run the default navigation drawer views activity  &quot; Duplicate class kotlin.time.jdk8.DurationConversionsJDK8Kt found in modules kotlin-stdlib-1.8.20 (org.jetbrains.kotlin:kotlin-stdlib:1.8.20) and kotlin-stdlib-jdk8-1.6.21 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.6.21)&quot; how should i solve this error","title":"Handling Navigation Drawer views Activity error","body":"<p>this error keeps happening every time a run the default navigation drawer views activity  &quot; Duplicate class kotlin.time.jdk8.DurationConversionsJDK8Kt found in modules kotlin-stdlib-1.8.20 (org.jetbrains.kotlin:kotlin-stdlib:1.8.20) and kotlin-stdlib-jdk8-1.6.21 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.6.21)&quot; how should i solve this error</p>\n"},{"tags":["java","sap-enterprise-portal"],"comments":[{"owner":{"account_id":265649,"reputation":53086,"user_id":552759,"display_name":"jtahlborn"},"score":1,"creation_date":1342539981,"post_id":11526069,"comment_id":15235155,"body_markdown":"what is the exact exception text?","body":"what is the exact exception text?"},{"owner":{"account_id":284109,"reputation":47153,"user_id":581994,"accept_rate":57,"display_name":"Hot Licks"},"score":2,"creation_date":1342540018,"post_id":11526069,"comment_id":15235171,"body_markdown":"Presumably you get the exception because whatever you get back from `context.lookup` is not an `IPcdContext`.  You should capture it as an `Object` and do a `.getClass().getName()` to find out what you got.","body":"Presumably you get the exception because whatever you get back from <code>context.lookup</code> is not an <code>IPcdContext</code>.  You should capture it as an <code>Object</code> and do a <code>.getClass().getName()</code> to find out what you got."}],"answers":[{"tags":[],"owner":{"account_id":19462,"reputation":102762,"user_id":45664,"accept_rate":91,"display_name":"Andrzej Doyle"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1342541116,"creation_date":1342541116,"answer_id":11526486,"question_id":11526069,"body_markdown":"If `context.lookup` returns you a `PortalWorkset`, then there&#39;s no way to &quot;get round&quot; the ClassCastException.\r\n\r\nCasting does not *convert* an object to a different class - it&#39;s merely a way for you to tell the compiler that you&#39;re sure it&#39;s a more specific class than its current declared type.  In this case, you&#39;re saying &quot;I realise that the `lookup()` method is declared to return `Object`, but when I call it in this particular context I&#39;m sure that it will always specifically return an `IPcdContext` object.&quot;  Your assumption here turned out not to hold, and the program correctly signals this by throwing the exception.\r\n\r\nThere are potential two causes to your problem:\r\n\r\n 1. Your assumption is correct in general, but due to a logic bug you&#39;re not passing in the string you expect to the `lookup` method, and so are getting the wrong thing back altogether.  In this case, ensure that the parameter passed to the method is always correct.\r\n 1. Your assumption is incorrect, and you might *not* always get an `IPcdContext` back.  In this case, you&#39;ll need to decide what to do with other objects that are returned, and deal with them appropriately (you can use the `instanceof` operator to check the class of the returned object).\r\n\r\nIn any case, whenever you do a cast it&#39;s usually beneficial to check that it will succeed first, with an idiom like:\r\n\r\n    IPcdContext context;\r\n    Object obj = context.lookup(&quot;foo&quot;);\r\n    if (obj instanceof IPcdContext) {\r\n        context = (IPcdContext)obj;\r\n    }\r\n    else {\r\n        // You got back something else.  What to do?\r\n    }\r\n\r\n","title":"Can&#39;t get round a ClassCastException","body":"<p>If <code>context.lookup</code> returns you a <code>PortalWorkset</code>, then there's no way to \"get round\" the ClassCastException.</p>\n\n<p>Casting does not <em>convert</em> an object to a different class - it's merely a way for you to tell the compiler that you're sure it's a more specific class than its current declared type.  In this case, you're saying \"I realise that the <code>lookup()</code> method is declared to return <code>Object</code>, but when I call it in this particular context I'm sure that it will always specifically return an <code>IPcdContext</code> object.\"  Your assumption here turned out not to hold, and the program correctly signals this by throwing the exception.</p>\n\n<p>There are potential two causes to your problem:</p>\n\n<ol>\n<li>Your assumption is correct in general, but due to a logic bug you're not passing in the string you expect to the <code>lookup</code> method, and so are getting the wrong thing back altogether.  In this case, ensure that the parameter passed to the method is always correct.</li>\n<li>Your assumption is incorrect, and you might <em>not</em> always get an <code>IPcdContext</code> back.  In this case, you'll need to decide what to do with other objects that are returned, and deal with them appropriately (you can use the <code>instanceof</code> operator to check the class of the returned object).</li>\n</ol>\n\n<p>In any case, whenever you do a cast it's usually beneficial to check that it will succeed first, with an idiom like:</p>\n\n<pre><code>IPcdContext context;\nObject obj = context.lookup(\"foo\");\nif (obj instanceof IPcdContext) {\n    context = (IPcdContext)obj;\n}\nelse {\n    // You got back something else.  What to do?\n}\n</code></pre>\n"}],"owner":{"account_id":1334085,"reputation":13,"user_id":1277273,"display_name":"Tom George"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":164,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":11526486,"answer_count":1,"score":0,"last_activity_date":1688276737,"creation_date":1342539740,"question_id":11526069,"body_markdown":"While trying to cast the result of a `context.lookup()` call in my portal application, I&#39;m getting a `ClassCastException` for two out of three attempts at casting different results.\r\n\r\nAfter some research I think this: &lt;http://wiki.sdn.sap.com/wiki/display/TechTSG/%28AS+Java%29+ClassCastException+Occurs+After+Lookup+Operation&gt; holds the answer, but it doesn&#39;t explain really how to carry out the two steps.\r\n\r\nThis code works for fetching the details of an iView, from its path stored in `list` :\r\n\r\n    IiView transView1 = (IiView) context.lookup(list.get(i).toString());\r\n\r\nbut when fetching details of a workset like this:\r\n\r\n    IPcdContext attrSet = (IPcdContext) context.lookup(list.get(i).toString());\r\n\r\nI get a `ClassCastException`. Any help or explanation as to why I get this error would be greatly appreciated!\r\n\r\nedit: This is what the code is based on: &lt;http://www.sdn.sap.com/irj/scn/go/portal/prtroot/docs/library/uuid/6112ecb7-0a01-0010-ef90-941c70c9e401?overridelayout=true&gt;\r\n\r\nedit2: The object I get back from context.lookup is `com.sapportals.portal.pcd.pcm.roles.PortalWorkset` which I can&#39;t find documentation on.\r\n    ","title":"Can&#39;t get round a ClassCastException","body":"<p>While trying to cast the result of a <code>context.lookup()</code> call in my portal application, I'm getting a <code>ClassCastException</code> for two out of three attempts at casting different results.</p>\n\n<p>After some research I think this: <a href=\"http://wiki.sdn.sap.com/wiki/display/TechTSG/%28AS+Java%29+ClassCastException+Occurs+After+Lookup+Operation\" rel=\"nofollow\">http://wiki.sdn.sap.com/wiki/display/TechTSG/%28AS+Java%29+ClassCastException+Occurs+After+Lookup+Operation</a> holds the answer, but it doesn't explain really how to carry out the two steps.</p>\n\n<p>This code works for fetching the details of an iView, from its path stored in <code>list</code> :</p>\n\n<pre><code>IiView transView1 = (IiView) context.lookup(list.get(i).toString());\n</code></pre>\n\n<p>but when fetching details of a workset like this:</p>\n\n<pre><code>IPcdContext attrSet = (IPcdContext) context.lookup(list.get(i).toString());\n</code></pre>\n\n<p>I get a <code>ClassCastException</code>. Any help or explanation as to why I get this error would be greatly appreciated!</p>\n\n<p>edit: This is what the code is based on: <a href=\"http://www.sdn.sap.com/irj/scn/go/portal/prtroot/docs/library/uuid/6112ecb7-0a01-0010-ef90-941c70c9e401?overridelayout=true\" rel=\"nofollow\">http://www.sdn.sap.com/irj/scn/go/portal/prtroot/docs/library/uuid/6112ecb7-0a01-0010-ef90-941c70c9e401?overridelayout=true</a></p>\n\n<p>edit2: The object I get back from context.lookup is <code>com.sapportals.portal.pcd.pcm.roles.PortalWorkset</code> which I can't find documentation on.</p>\n"},{"tags":["java","hibernate","hibernateexception"],"comments":[{"owner":{"account_id":61566,"reputation":68934,"user_id":183406,"accept_rate":74,"display_name":"meriton"},"score":0,"creation_date":1289766011,"post_id":4179166,"comment_id":4515299,"body_markdown":"Your user table must change its value? Which value? The user table presumably contains several rows with several values each ...","body":"Your user table must change its value? Which value? The user table presumably contains several rows with several values each ..."},{"owner":{"account_id":7137920,"reputation":1714,"user_id":5456789,"display_name":"Amir Azizkhani"},"score":0,"creation_date":1601902895,"post_id":4179166,"comment_id":113541663,"body_markdown":"`from [number]  to 0` for me occurred when i save live object instead of update.","body":"<code>from [number]  to 0</code> for me occurred when i save live object instead of update."},{"owner":{"account_id":20822763,"reputation":1,"user_id":15293948,"display_name":"neuer"},"score":0,"creation_date":1614398294,"post_id":4179166,"comment_id":117381127,"body_markdown":"Try to change the property name of db column in your model. I have similar problem, and i solve the problem in this answer https://stackoverflow.com/a/66395423/15293948","body":"Try to change the property name of db column in your model. I have similar problem, and i solve the problem in this answer <a href=\"https://stackoverflow.com/a/66395423/15293948\">stackoverflow.com/a/66395423/15293948</a>"}],"answers":[{"comments":[{"owner":{"account_id":186293,"reputation":5335,"user_id":423585,"accept_rate":89,"display_name":"gennad"},"score":0,"creation_date":1289796947,"post_id":4179424,"comment_id":4517900,"body_markdown":"Hi Juha, you are absolutely correct, I assign primary key to User object. Thanks a lot for your help!","body":"Hi Juha, you are absolutely correct, I assign primary key to User object. Thanks a lot for your help!"},{"owner":{"account_id":262865,"reputation":5284,"user_id":548046,"accept_rate":48,"display_name":"Jonas Geiregat"},"score":12,"creation_date":1328687163,"post_id":4179424,"comment_id":11563409,"body_markdown":"I had somewhat to some issue. My error message contained .. was altered from 1 to 1 .. My primairy key was set to long in my entity class but was mapped to int in my mapping file.","body":"I had somewhat to some issue. My error message contained .. was altered from 1 to 1 .. My primairy key was set to long in my entity class but was mapped to int in my mapping file."}],"tags":[],"owner":{"account_id":1078,"reputation":33615,"user_id":1431,"accept_rate":71,"display_name":"Juha Syrj&#228;l&#228;"},"comment_count":2,"down_vote_count":2,"up_vote_count":64,"is_accepted":true,"score":62,"last_activity_date":1289765283,"creation_date":1289765283,"answer_id":4179424,"question_id":4179166,"body_markdown":"Are you changing the primary key value of a User object somewhere? You shouldn&#39;t do that. Check that your mapping for the primary key is correct.\r\n\r\nWhat does your mapping XML file or mapping annotations look like?\r\n","title":"Hibernate: How to fix &quot;identifier of an instance altered from X to Y&quot;?","body":"<p>Are you changing the primary key value of a User object somewhere? You shouldn't do that. Check that your mapping for the primary key is correct.</p>\n\n<p>What does your mapping XML file or mapping annotations look like?</p>\n"},{"comments":[{"owner":{"account_id":1116645,"reputation":1415,"user_id":1105832,"display_name":"JanM"},"score":3,"creation_date":1424170903,"post_id":5004979,"comment_id":45432287,"body_markdown":"Entity manager provides a method for that. http://docs.oracle.com/javaee/6/api/javax/persistence/EntityManager.html#detach(java.lang.Object) You can also check the clear() method.","body":"Entity manager provides a method for that. <a href=\"http://docs.oracle.com/javaee/6/api/javax/persistence/EntityManager.html#detach(java.lang.Object)\" rel=\"nofollow noreferrer\">docs.oracle.com/javaee/6/api/javax/persistence/&hellip;</a> You can also check the clear() method."}],"tags":[],"owner":{"account_id":253331,"reputation":22640,"user_id":531954,"accept_rate":69,"display_name":"Danubian Sailor"},"comment_count":1,"down_vote_count":0,"up_vote_count":38,"is_accepted":false,"score":38,"last_activity_date":1297780748,"creation_date":1297780748,"answer_id":5004979,"question_id":4179166,"body_markdown":"You must detach your entity from session before modifying its ID fields","title":"Hibernate: How to fix &quot;identifier of an instance altered from X to Y&quot;?","body":"<p>You must detach your entity from session before modifying its ID fields</p>\n"},{"tags":[],"owner":{"account_id":968392,"reputation":131,"user_id":991414,"display_name":"Ethereal"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1323095068,"creation_date":1323095068,"answer_id":8386733,"question_id":4179166,"body_markdown":"In my particular case, this was caused by a method in my service implementation that needed the spring `@Transactional(readOnly = true)` annotation. Once I added that, the issue was resolved.  Unusual though, it was just a select statement.\r\n","title":"Hibernate: How to fix &quot;identifier of an instance altered from X to Y&quot;?","body":"<p>In my particular case, this was caused by a method in my service implementation that needed the spring <code>@Transactional(readOnly = true)</code> annotation. Once I added that, the issue was resolved.  Unusual though, it was just a select statement.</p>\n"},{"comments":[{"owner":{"account_id":1577111,"reputation":4401,"user_id":1463272,"accept_rate":69,"display_name":"Johan Haest"},"score":0,"creation_date":1352900569,"post_id":11452210,"comment_id":18271558,"body_markdown":"Thanks, that&#39;s exactly what I had (but then Int32 instead of Int64).","body":"Thanks, that&#39;s exactly what I had (but then Int32 instead of Int64)."},{"owner":{"account_id":5168,"reputation":6385,"user_id":8174,"display_name":"Dave DuPlantis"},"score":0,"creation_date":1523973288,"post_id":11452210,"comment_id":86775681,"body_markdown":"I had a similar issue in Lucee 5: the PK in one table was `type=&#39;numeric&#39;` but the same field in a composite key in another table did not have that. Adding `type=&#39;numeric&#39;` to the field in the composite key fixed the error.","body":"I had a similar issue in Lucee 5: the PK in one table was <code>type=&#39;numeric&#39;</code> but the same field in a composite key in another table did not have that. Adding <code>type=&#39;numeric&#39;</code> to the field in the composite key fixed the error."}],"tags":[],"owner":{"account_id":57402,"reputation":29252,"user_id":171950,"accept_rate":55,"display_name":"Muhammad Hewedy"},"comment_count":2,"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1342097318,"creation_date":1342097318,"answer_id":11452210,"question_id":4179166,"body_markdown":"In my case, the PK Field in hbm.xml was of type &quot;integer&quot; but in bean code it was `long`.","title":"Hibernate: How to fix &quot;identifier of an instance altered from X to Y&quot;?","body":"<p>In my case, the PK Field in hbm.xml was of type \"integer\" but in bean code it was <code>long</code>.</p>\n"},{"tags":[],"owner":{"account_id":1732446,"reputation":10591,"user_id":1585767,"accept_rate":85,"display_name":"Andres"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1387275281,"creation_date":1387275281,"answer_id":20631349,"question_id":4179166,"body_markdown":"In my case, I solved it changing the @Id field type from long to Long.","title":"Hibernate: How to fix &quot;identifier of an instance altered from X to Y&quot;?","body":"<p>In my case, I solved it changing the @Id field type from long to Long.</p>\n"},{"tags":[],"owner":{"account_id":104622,"reputation":1435,"user_id":279604,"accept_rate":100,"display_name":"nostromo"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1388993436,"creation_date":1388993436,"answer_id":20945096,"question_id":4179166,"body_markdown":"In my case, a template had a typo so instead of checking for equivalency (==) it was using an assignment equals (=).\r\n\r\nSo I changed the template logic from:\r\n\r\n    if (user1.id = user2.id) ...\r\n\r\nto \r\n\r\n    if (user1.id == user2.id) ...\r\n\r\nand now everything is fine.  So, check your views as well!","title":"Hibernate: How to fix &quot;identifier of an instance altered from X to Y&quot;?","body":"<p>In my case, a template had a typo so instead of checking for equivalency (==) it was using an assignment equals (=).</p>\n\n<p>So I changed the template logic from:</p>\n\n<pre><code>if (user1.id = user2.id) ...\n</code></pre>\n\n<p>to </p>\n\n<pre><code>if (user1.id == user2.id) ...\n</code></pre>\n\n<p>and now everything is fine.  So, check your views as well!</p>\n"},{"tags":[],"owner":{"account_id":991147,"reputation":2131,"user_id":1008424,"accept_rate":82,"display_name":"Anuruddha Lanka Liyanarachchi"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1417348757,"creation_date":1417348757,"answer_id":27212970,"question_id":4179166,"body_markdown":"In my case getters and setter names were different from Variable name.\r\n\r\n    \t\r\n\r\n    private Long stockId;\r\n        public Long getStockID() {\r\n    \t\treturn stockId;\r\n    \t}\r\n    \tpublic void setStockID(Long stockID) {\r\n    \t\tthis.stockId = stockID;\r\n    \t}\r\n\r\nwhere it should be \r\n\r\n    public Long getStockId() {\r\n\t\treturn stockId;\r\n\t}\r\n\tpublic void setStockId(Long stockID) {\r\n\t\tthis.stockId = stockID;\r\n\t}","title":"Hibernate: How to fix &quot;identifier of an instance altered from X to Y&quot;?","body":"<p>In my case getters and setter names were different from Variable name.</p>\n\n<pre><code>private Long stockId;\n    public Long getStockID() {\n        return stockId;\n    }\n    public void setStockID(Long stockID) {\n        this.stockId = stockID;\n    }\n</code></pre>\n\n<p>where it should be </p>\n\n<pre><code>public Long getStockId() {\n    return stockId;\n}\npublic void setStockId(Long stockID) {\n    this.stockId = stockID;\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":540459,"reputation":1437,"user_id":908677,"display_name":"Elijah Lofgren"},"score":0,"creation_date":1470081573,"post_id":27900722,"comment_id":64791811,"body_markdown":"Thanks! This was a very useful answer as I couldn&#39;t get detaching working and this answer gave me the idea to use a new object and copy the properties in using BeanUtils.copyProperties().","body":"Thanks! This was a very useful answer as I couldn&#39;t get detaching working and this answer gave me the idea to use a new object and copy the properties in using BeanUtils.copyProperties()."},{"owner":{"account_id":1073176,"reputation":3217,"user_id":1071967,"accept_rate":61,"display_name":"Geek"},"score":0,"creation_date":1600377359,"post_id":27900722,"comment_id":113077394,"body_markdown":"This helped with my batch operation. I was using the same object without initializing.","body":"This helped with my batch operation. I was using the same object without initializing."}],"tags":[],"owner":{"account_id":2835129,"reputation":96,"user_id":2435873,"display_name":"Ken"},"comment_count":2,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1421061324,"creation_date":1421061324,"answer_id":27900722,"question_id":4179166,"body_markdown":"Make sure you aren&#39;t trying to use the same User object more than once while changing the ID. In other words, if you were doing something in a batch type operation:\r\n\r\n    User user = new User();  // Using the same one over and over, won&#39;t work\r\n    List&lt;Customer&gt; customers = fetchCustomersFromSomeService();\r\n    for(Customer customer : customers) {\r\n     // User user = new User(); &lt;-- This would work, you get a new one each time\r\n     user.setId(customer.getId());\r\n     user.setName(customer.getName());\r\n     saveUserToDB(user);\r\n    }\r\n","title":"Hibernate: How to fix &quot;identifier of an instance altered from X to Y&quot;?","body":"<p>Make sure you aren't trying to use the same User object more than once while changing the ID. In other words, if you were doing something in a batch type operation:</p>\n\n<pre><code>User user = new User();  // Using the same one over and over, won't work\nList&lt;Customer&gt; customers = fetchCustomersFromSomeService();\nfor(Customer customer : customers) {\n // User user = new User(); &lt;-- This would work, you get a new one each time\n user.setId(customer.getId());\n user.setName(customer.getName());\n saveUserToDB(user);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6343398,"reputation":130,"user_id":4924680,"display_name":"KgaboL"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1434570172,"creation_date":1434570172,"answer_id":30900957,"question_id":4179166,"body_markdown":"In my case it was because the property was long on object but int in the mapping xml, this exception should be clearer","title":"Hibernate: How to fix &quot;identifier of an instance altered from X to Y&quot;?","body":"<p>In my case it was because the property was long on object but int in the mapping xml, this exception should be clearer</p>\n"},{"tags":[],"owner":{"account_id":152625,"reputation":5695,"user_id":367277,"accept_rate":100,"display_name":"bully"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1435007004,"creation_date":1435007004,"answer_id":30989767,"question_id":4179166,"body_markdown":"I was facing this issue, too.\r\n\r\nThe target table is a relation table, wiring two IDs from different tables. I have a UNIQUE constraint on the value combination, replacing the PK.\r\nWhen updating one of the values of a tuple, this error occured.\r\n\r\nThis is how the table looks like (MySQL):\r\n\r\n    CREATE TABLE my_relation_table (\r\n      mrt_left_id BIGINT NOT NULL,\r\n      mrt_right_id BIGINT NOT NULL,\r\n      UNIQUE KEY uix_my_relation_table (mrt_left_id, mrt_right_id),\r\n      FOREIGN KEY (mrt_left_id)\r\n        REFERENCES left_table(lef_id),\r\n      FOREIGN KEY (mrt_right_id)\r\n        REFERENCES right_table(rig_id)\r\n    );\r\n\r\nThe Entity class for the `RelationWithUnique` entity looks basically like this:\r\n\r\n    @Entity\r\n    @IdClass(RelationWithUnique.class)\r\n    @Table(name = &quot;my_relation_table&quot;)\r\n    public class RelationWithUnique implements Serializable {\r\n    \r\n      ...\r\n    \r\n      @Id\r\n      @ManyToOne\r\n      @JoinColumn(name = &quot;mrt_left_id&quot;, referencedColumnName = &quot;left_table.lef_id&quot;)\r\n      private LeftTableEntity leftId;\r\n    \r\n      @Id\r\n      @ManyToOne\r\n      @JoinColumn(name = &quot;mrt_right_id&quot;, referencedColumnName = &quot;right_table.rig_id&quot;)\r\n      private RightTableEntity rightId;\r\n      \r\n      ...\r\n\r\nI fixed it by\r\n\r\n    // usually, we need to detach the object as we are updating the PK\r\n    // (rightId being part of the UNIQUE constraint) =&gt; PK\r\n    // but this would produce a duplicate entry, \r\n    // therefore, we simply delete the old tuple and add the new one\r\n    final RelationWithUnique newRelation = new RelationWithUnique();\r\n    newRelation.setLeftId(oldRelation.getLeftId());\r\n    newRelation.setRightId(rightId);  // here, the value is updated actually\r\n    entityManager.remove(oldRelation);\r\n    entityManager.persist(newRelation);\r\n\r\nThanks a lot for the hint of the PK, I just missed it.","title":"Hibernate: How to fix &quot;identifier of an instance altered from X to Y&quot;?","body":"<p>I was facing this issue, too.</p>\n\n<p>The target table is a relation table, wiring two IDs from different tables. I have a UNIQUE constraint on the value combination, replacing the PK.\nWhen updating one of the values of a tuple, this error occured.</p>\n\n<p>This is how the table looks like (MySQL):</p>\n\n<pre><code>CREATE TABLE my_relation_table (\n  mrt_left_id BIGINT NOT NULL,\n  mrt_right_id BIGINT NOT NULL,\n  UNIQUE KEY uix_my_relation_table (mrt_left_id, mrt_right_id),\n  FOREIGN KEY (mrt_left_id)\n    REFERENCES left_table(lef_id),\n  FOREIGN KEY (mrt_right_id)\n    REFERENCES right_table(rig_id)\n);\n</code></pre>\n\n<p>The Entity class for the <code>RelationWithUnique</code> entity looks basically like this:</p>\n\n<pre><code>@Entity\n@IdClass(RelationWithUnique.class)\n@Table(name = \"my_relation_table\")\npublic class RelationWithUnique implements Serializable {\n\n  ...\n\n  @Id\n  @ManyToOne\n  @JoinColumn(name = \"mrt_left_id\", referencedColumnName = \"left_table.lef_id\")\n  private LeftTableEntity leftId;\n\n  @Id\n  @ManyToOne\n  @JoinColumn(name = \"mrt_right_id\", referencedColumnName = \"right_table.rig_id\")\n  private RightTableEntity rightId;\n\n  ...\n</code></pre>\n\n<p>I fixed it by</p>\n\n<pre><code>// usually, we need to detach the object as we are updating the PK\n// (rightId being part of the UNIQUE constraint) =&gt; PK\n// but this would produce a duplicate entry, \n// therefore, we simply delete the old tuple and add the new one\nfinal RelationWithUnique newRelation = new RelationWithUnique();\nnewRelation.setLeftId(oldRelation.getLeftId());\nnewRelation.setRightId(rightId);  // here, the value is updated actually\nentityManager.remove(oldRelation);\nentityManager.persist(newRelation);\n</code></pre>\n\n<p>Thanks a lot for the hint of the PK, I just missed it.</p>\n"},{"tags":[],"owner":{"account_id":1411025,"reputation":1356,"user_id":1337605,"display_name":"sereja"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1440135634,"creation_date":1440135634,"answer_id":32133076,"question_id":4179166,"body_markdown":"If you are using Spring MVC or Spring Boot try to avoid:\r\n*@ModelAttribute(&quot;user&quot;)* in one controoler, and in other controller\r\n*model.addAttribute(&quot;user&quot;, userRepository.findOne(someId);*\r\n\r\nThis situation can produce such error.","title":"Hibernate: How to fix &quot;identifier of an instance altered from X to Y&quot;?","body":"<p>If you are using Spring MVC or Spring Boot try to avoid:\n<em>@ModelAttribute(\"user\")</em> in one controoler, and in other controller\n<em>model.addAttribute(\"user\", userRepository.findOne(someId);</em></p>\n\n<p>This situation can produce such error.</p>\n"},{"tags":[],"owner":{"account_id":972509,"reputation":697,"user_id":994749,"display_name":"Oleg Poltoratskii"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1479919312,"creation_date":1479919312,"answer_id":40769906,"question_id":4179166,"body_markdown":"Problem can be also in different types of object&#39;s PK (&quot;User&quot; in your case) and type you ask hibernate to get `session.get(type, id);`.\r\n\r\nIn my case error was `identifier of an instance of &lt;skipped&gt; was altered from 16 to 32`. \r\nObject&#39;s PK type was `Integer`, hibernate was asked for `Long` type.","title":"Hibernate: How to fix &quot;identifier of an instance altered from X to Y&quot;?","body":"<p>Problem can be also in different types of object's PK (\"User\" in your case) and type you ask hibernate to get <code>session.get(type, id);</code>.</p>\n\n<p>In my case error was <code>identifier of an instance of &lt;skipped&gt; was altered from 16 to 32</code>. \nObject's PK type was <code>Integer</code>, hibernate was asked for <code>Long</code> type.</p>\n"},{"tags":[],"owner":{"account_id":4831467,"reputation":1363,"user_id":3899570,"display_name":"Erik Pearson"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1498141091,"creation_date":1498141091,"answer_id":44702062,"question_id":4179166,"body_markdown":"This is an old question, but I&#39;m going to add the fix for my particular issue (Spring Boot, JPA using Hibernate, SQL Server 2014) since it doesn&#39;t exactly match the other answers included here:\r\n\r\nI had a foreign key, e.g. my_id = &#39;12345&#39;, but the value in the referenced column was my_id = &#39;12345 &#39;. It had an ***extra space*** at the end which hibernate didn&#39;t like. I removed the space, fixed the part of my code that was allowing this extra space, and everything works fine.  ","title":"Hibernate: How to fix &quot;identifier of an instance altered from X to Y&quot;?","body":"<p>This is an old question, but I'm going to add the fix for my particular issue (Spring Boot, JPA using Hibernate, SQL Server 2014) since it doesn't exactly match the other answers included here:</p>\n\n<p>I had a foreign key, e.g. my_id = '12345', but the value in the referenced column was my_id = '12345 '. It had an <strong><em>extra space</em></strong> at the end which hibernate didn't like. I removed the space, fixed the part of my code that was allowing this extra space, and everything works fine.  </p>\n"},{"tags":[],"owner":{"account_id":6008343,"reputation":1,"user_id":4719509,"display_name":"HARSH KHATRI"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1532504888,"creation_date":1532504888,"answer_id":51513530,"question_id":4179166,"body_markdown":"Faced the same Issue.\r\nI had an assosciation between 2 beans. In bean A I had defined the variable type as Integer and in bean B I had defined the same variable as Long. \r\nI changed both of them to Integer. This solved my issue. ","title":"Hibernate: How to fix &quot;identifier of an instance altered from X to Y&quot;?","body":"<p>Faced the same Issue.\nI had an assosciation between 2 beans. In bean A I had defined the variable type as Integer and in bean B I had defined the same variable as Long. \nI changed both of them to Integer. This solved my issue. </p>\n"},{"comments":[{"owner":{"account_id":1190119,"reputation":626,"user_id":1163125,"accept_rate":50,"display_name":"Martin Irigaray"},"score":0,"creation_date":1599068684,"post_id":52699580,"comment_id":112662009,"body_markdown":"Have the same issue, using something like userDB.setLocation(new Location()); worked, also, if i remove the @Transactional also works.","body":"Have the same issue, using something like userDB.setLocation(new Location()); worked, also, if i remove the @Transactional also works."}],"tags":[],"owner":{"account_id":13861188,"reputation":77,"user_id":10006801,"display_name":"I.R.1989"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1538992066,"creation_date":1538992066,"answer_id":52699580,"question_id":4179166,"body_markdown":"It is a problem in your update method. Just instance new User before you save changes and you will be fine. If you use mapping between DTO and Entity class, than do this before mapping.\r\n\r\nI had this error also. I had User Object, trying to change his Location, Location was FK in User table. I solved this problem with\r\n\r\n    @Transactional\r\n    public void update(User input) throws Exception {\r\n    \r\n        User userDB = userRepository.findById(input.getUserId()).orElse(null);\r\n        userDB.setLocation(new Location());\r\n        userMapper.updateEntityFromDto(input, userDB);\r\n\r\n        User user= userRepository.save(userDB);\r\n    }  ","title":"Hibernate: How to fix &quot;identifier of an instance altered from X to Y&quot;?","body":"<p>It is a problem in your update method. Just instance new User before you save changes and you will be fine. If you use mapping between DTO and Entity class, than do this before mapping.</p>\n\n<p>I had this error also. I had User Object, trying to change his Location, Location was FK in User table. I solved this problem with</p>\n\n<pre><code>@Transactional\npublic void update(User input) throws Exception {\n\n    User userDB = userRepository.findById(input.getUserId()).orElse(null);\n    userDB.setLocation(new Location());\n    userMapper.updateEntityFromDto(input, userDB);\n\n    User user= userRepository.save(userDB);\n}  \n</code></pre>\n"},{"tags":[],"owner":{"account_id":13861188,"reputation":77,"user_id":10006801,"display_name":"I.R.1989"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1569941947,"creation_date":1569941947,"answer_id":58187562,"question_id":4179166,"body_markdown":"I solve this by instancing a new instance of depending Object. For an example\r\n\r\n    instanceA.setInstanceB(new InstanceB());\r\n    instanceA.setInstanceB(YOUR NEW VALUE);","title":"Hibernate: How to fix &quot;identifier of an instance altered from X to Y&quot;?","body":"<p>I solve this by instancing a new instance of depending Object. For an example</p>\n\n<pre><code>instanceA.setInstanceB(new InstanceB());\ninstanceA.setInstanceB(YOUR NEW VALUE);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14316086,"reputation":41,"user_id":10340832,"display_name":"Lubos B"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1574415176,"creation_date":1574415176,"answer_id":58991267,"question_id":4179166,"body_markdown":"Also ran into this error message, but the root cause was of a different flavor from those referenced in the other answers here.\r\n\r\nGeneric answer:\r\nMake sure that once hibernate loads an entity, no code changes the primary key value in that object in any way. When hibernate flushes all changes back to the database, it throws this exception because the primary key changed. If you don&#39;t do it explicitly, look for places where this may happen unintentionally, perhaps on related entities that only have LAZY loading configured.\r\n\r\nIn my case, I am using a mapping framework (MapStruct) to update an entity. In the process, also other referenced entities were being updates as mapping frameworks tend to do that by default. I was later replacing the original entity with new one (in DB terms, changed the value of the foreign key to reference a different row in the related table), the primary key of the previously-referenced entity was already updated, and hibernate attempted to persist this update on flush.","title":"Hibernate: How to fix &quot;identifier of an instance altered from X to Y&quot;?","body":"<p>Also ran into this error message, but the root cause was of a different flavor from those referenced in the other answers here.</p>\n\n<p>Generic answer:\nMake sure that once hibernate loads an entity, no code changes the primary key value in that object in any way. When hibernate flushes all changes back to the database, it throws this exception because the primary key changed. If you don't do it explicitly, look for places where this may happen unintentionally, perhaps on related entities that only have LAZY loading configured.</p>\n\n<p>In my case, I am using a mapping framework (MapStruct) to update an entity. In the process, also other referenced entities were being updates as mapping frameworks tend to do that by default. I was later replacing the original entity with new one (in DB terms, changed the value of the foreign key to reference a different row in the related table), the primary key of the previously-referenced entity was already updated, and hibernate attempted to persist this update on flush.</p>\n"},{"tags":[],"owner":{"account_id":11915685,"reputation":1432,"user_id":8719655,"display_name":"Carlos L&#243;pez Mar&#237;"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1613834894,"creation_date":1613834894,"answer_id":66293300,"question_id":4179166,"body_markdown":"In my case I had a primary key in the database that had an accent, but in other table its foreign key didn&#39;t have. For some reason, MySQL allowed this.","title":"Hibernate: How to fix &quot;identifier of an instance altered from X to Y&quot;?","body":"<p>In my case I had a primary key in the database that had an accent, but in other table its foreign key didn't have. For some reason, MySQL allowed this.</p>\n"},{"tags":[],"owner":{"account_id":2384530,"reputation":1672,"user_id":2085768,"display_name":"RoutesMaps.com"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1627033755,"creation_date":1627033755,"answer_id":68497290,"question_id":4179166,"body_markdown":"It looks like you have changed identifier of an instance \r\nof org.cometd.hibernate.User object menaged by JPA entity context.\r\nIn this case create the new User entity object with appropriate id. And set it instead of the original User object.","title":"Hibernate: How to fix &quot;identifier of an instance altered from X to Y&quot;?","body":"<p>It looks like you have changed identifier of an instance\nof org.cometd.hibernate.User object menaged by JPA entity context.\nIn this case create the new User entity object with appropriate id. And set it instead of the original User object.</p>\n"},{"tags":[],"owner":{"account_id":14591629,"reputation":549,"user_id":10538548,"display_name":"Khairul Bashar Lemon"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636961542,"creation_date":1636961542,"answer_id":69970759,"question_id":4179166,"body_markdown":"Did you using multiple Transaction managers from the same service class.\r\nLike, if your project has two or more transaction configurations.\r\nIf true,\r\nthen at first separate them.","title":"Hibernate: How to fix &quot;identifier of an instance altered from X to Y&quot;?","body":"<p>Did you using multiple Transaction managers from the same service class.\nLike, if your project has two or more transaction configurations.\nIf true,\nthen at first separate them.</p>\n"},{"tags":[],"owner":{"account_id":16415077,"reputation":63,"user_id":11857423,"display_name":"Arunabha Ghosh"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644266449,"creation_date":1644266449,"answer_id":71025123,"question_id":4179166,"body_markdown":"I got the issue when i tried fetching an existing DB entity, modified few fields and executed\r\n\r\n    session.save(entity)\r\ninstead of \r\n\r\n    session.merge(entity)\r\n   Since it is existing in the DB, when we should **merge()** instead of **save()**","title":"Hibernate: How to fix &quot;identifier of an instance altered from X to Y&quot;?","body":"<p>I got the issue when i tried fetching an existing DB entity, modified few fields and executed</p>\n<pre><code>session.save(entity)\n</code></pre>\n<p>instead of</p>\n<pre><code>session.merge(entity)\n</code></pre>\n<p>Since it is existing in the DB, when we should <strong>merge()</strong> instead of <strong>save()</strong></p>\n"},{"tags":[],"owner":{"account_id":13136641,"reputation":63,"user_id":9489409,"display_name":"rhl mngl"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654769652,"creation_date":1654769652,"answer_id":72558556,"question_id":4179166,"body_markdown":"you may be modified primary key of fetched entity and then trying to save with a same transaction to create new record from existing.\r\n ","title":"Hibernate: How to fix &quot;identifier of an instance altered from X to Y&quot;?","body":"<p>you may be modified primary key of fetched entity and then trying to save with a same transaction to create new record from existing.</p>\n"},{"tags":[],"owner":{"account_id":26110773,"reputation":1,"user_id":19804753,"display_name":"Praveen C. Madusanka"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688274512,"creation_date":1688274512,"answer_id":76597471,"question_id":4179166,"body_markdown":"I got the same issue \r\n\r\n    &quot;message&quot;: &quot;identifier of an instance of com.intern.assignment.model.Event was altered from 0 to 2&quot;\r\nthen I checked my EventController.java and in that Controller mistakenly I tried to update &#39;eventId&#39;(Primary Key Attribute) like other attribures. Then I commented it and try it again. Wow, issue was gone.\r\n\r\n    //update event\r\n\t@PutMapping(&quot;/eventsUpdate/{id}&quot;)\r\n\tpublic ResponseEntity&lt;Event&gt; updateEvent(@PathVariable(value = &quot;id&quot;) Long eventId, @Validated @RequestBody Event eventDetails) throws ResourceNotFoundException{\r\n\t\t\r\n\t\tEvent event = eventRepository.findById(eventId).orElseThrow(() -&gt; new ResourceNotFoundException(&quot;Event not found for this id: &quot; + eventId));\r\n\t\t\r\n\t\tevent.setAddrNbr(eventDetails.getAddrNbr());\r\n\t\tevent.setClientId(eventDetails.getClientId());\r\n\t\tevent.setEventCnt(eventDetails.getEventCnt());\r\n\t\t//event.setEventId(eventDetails.getEventId());\r\n\t\tevent.setLocationCd(eventDetails.getLocationCd());\r\n\t\tevent.setLocationId1(eventDetails.getLocationId1());\r\n\t\tevent.setLocationId2(eventDetails.getLocationId2());\r\n\t\tevent.setRcNum(eventDetails.getRcNum());\r\n\t\tevent.setTransId(eventDetails.getTransId());\r\n\t\tevent.setTransTms(eventDetails.getTransTms());\r\n\t\treturn ResponseEntity.ok(this.eventRepository.save(event));\r\n\t\t\r\n\t}\r\n\r\n\r\n","title":"Hibernate: How to fix &quot;identifier of an instance altered from X to Y&quot;?","body":"<p>I got the same issue</p>\n<pre><code>&quot;message&quot;: &quot;identifier of an instance of com.intern.assignment.model.Event was altered from 0 to 2&quot;\n</code></pre>\n<p>then I checked my EventController.java and in that Controller mistakenly I tried to update 'eventId'(Primary Key Attribute) like other attribures. Then I commented it and try it again. Wow, issue was gone.</p>\n<pre><code>//update event\n@PutMapping(&quot;/eventsUpdate/{id}&quot;)\npublic ResponseEntity&lt;Event&gt; updateEvent(@PathVariable(value = &quot;id&quot;) Long eventId, @Validated @RequestBody Event eventDetails) throws ResourceNotFoundException{\n    \n    Event event = eventRepository.findById(eventId).orElseThrow(() -&gt; new ResourceNotFoundException(&quot;Event not found for this id: &quot; + eventId));\n    \n    event.setAddrNbr(eventDetails.getAddrNbr());\n    event.setClientId(eventDetails.getClientId());\n    event.setEventCnt(eventDetails.getEventCnt());\n    //event.setEventId(eventDetails.getEventId());\n    event.setLocationCd(eventDetails.getLocationCd());\n    event.setLocationId1(eventDetails.getLocationId1());\n    event.setLocationId2(eventDetails.getLocationId2());\n    event.setRcNum(eventDetails.getRcNum());\n    event.setTransId(eventDetails.getTransId());\n    event.setTransTms(eventDetails.getTransTms());\n    return ResponseEntity.ok(this.eventRepository.save(event));\n    \n}\n</code></pre>\n"}],"owner":{"account_id":186293,"reputation":5335,"user_id":423585,"accept_rate":89,"display_name":"gennad"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":177508,"favorite_count":0,"down_vote_count":1,"up_vote_count":85,"accepted_answer_id":4179424,"answer_count":23,"score":84,"last_activity_date":1688274512,"creation_date":1289762409,"question_id":4179166,"body_markdown":"I have an error:\r\n\r\n    org.hibernate.HibernateException: identifier of an instance \r\n    of org.cometd.hibernate.User altered from 12 to 3\r\n\r\nin fact, my `user` table is really must dynamically change its value, my Java app is multithreaded.\r\nAny ideas how to fix it? \r\n","title":"Hibernate: How to fix &quot;identifier of an instance altered from X to Y&quot;?","body":"<pre><code>org.hibernate.HibernateException: identifier of an instance \nof org.cometd.hibernate.User altered from 12 to 3\n</code></pre>\n\n<p>in fact, my <code>user</code> table is really must dynamically change its value, my Java app is multithreaded.\nAny ideas how to fix it? </p>\n"},{"tags":["java","nested-if"],"comments":[{"owner":{"account_id":2119809,"reputation":50969,"user_id":1883316,"display_name":"Tim Roberts"},"score":2,"creation_date":1688268940,"post_id":76597309,"comment_id":135050371,"body_markdown":"So, do it as a series of `if`/`else if` statements.  `if( tscore &gt;= 90 )` ... `else if( tscore &gt;= 80 )`...","body":"So, do it as a series of <code>if</code>/<code>else if</code> statements.  <code>if( tscore &gt;= 90 )</code> ... <code>else if( tscore &gt;= 80 )</code>..."}],"answers":[{"tags":[],"owner":{"account_id":28694993,"reputation":507,"user_id":21973440,"display_name":"NubDev"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688269817,"creation_date":1688269198,"answer_id":76597323,"question_id":76597309,"body_markdown":"DO it using ```if/ else if```. Like ```if(tscore &gt;= 90)```, ```else if(tscore&gt;=80)``` continue...","title":"is it possible to print only one statement in this nested if code?-Java","body":"<p>DO it using <code>if/ else if</code>. Like <code>if(tscore &gt;= 90)</code>, <code>else if(tscore&gt;=80)</code> continue...</p>\n"},{"comments":[{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1688269752,"post_id":76597335,"comment_id":135050410,"body_markdown":"I think you have to check the highest value first or the `if else` doesn&#39;t work properly for this case.","body":"I think you have to check the highest value first or the <code>if else</code> doesn&#39;t work properly for this case."},{"owner":{"account_id":28780650,"reputation":69,"user_id":22042688,"display_name":"Matheus Brito"},"score":0,"creation_date":1688270342,"post_id":76597335,"comment_id":135050449,"body_markdown":"Yep, you are correct, I passed quickly and did not pay attention","body":"Yep, you are correct, I passed quickly and did not pay attention"},{"owner":{"account_id":27539146,"reputation":13,"user_id":21016218,"display_name":"レッド・ スワン"},"score":0,"creation_date":1688270781,"post_id":76597335,"comment_id":135050477,"body_markdown":"thank you sir.. it also works out for me :)","body":"thank you sir.. it also works out for me :)"}],"tags":[],"owner":{"account_id":28780650,"reputation":69,"user_id":22042688,"display_name":"Matheus Brito"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688270257,"creation_date":1688269657,"answer_id":76597335,"question_id":76597309,"body_markdown":"The the ifs are inside each other, u just need separet with if-else-if\r\n\r\n    if(tscore &gt;= 90){\r\n      //do something\r\n    }else if(tscore &gt;=80){\r\n       //do another thing\r\n     }else{\r\n      //tae\r\n     }\r\nClass names in Java are capitalize [more about][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/62649943/naming-convention-for-class-in-java-all-caps","title":"is it possible to print only one statement in this nested if code?-Java","body":"<p>The the ifs are inside each other, u just need separet with if-else-if</p>\n<pre><code>if(tscore &gt;= 90){\n  //do something\n}else if(tscore &gt;=80){\n   //do another thing\n }else{\n  //tae\n }\n</code></pre>\n<p>Class names in Java are capitalize <a href=\"https://stackoverflow.com/questions/62649943/naming-convention-for-class-in-java-all-caps\">more about</a></p>\n"},{"comments":[{"owner":{"account_id":17861275,"reputation":2089,"user_id":12974735,"display_name":"Sercan"},"score":0,"creation_date":1688319388,"post_id":76597344,"comment_id":135055193,"body_markdown":"@user16320675 if you do not test for `&gt;= 70`, then `40` will return as `C`. If you do not test `&lt; 70`, then 90 will return as `D`. So, it is needed.","body":"@user16320675 if you do not test for <code>&gt;= 70</code>, then <code>40</code> will return as <code>C</code>. If you do not test <code>&lt; 70</code>, then 90 will return as <code>D</code>. So, it is needed."},{"owner":{"account_id":17861275,"reputation":2089,"user_id":12974735,"display_name":"Sercan"},"score":0,"creation_date":1688321053,"post_id":76597344,"comment_id":135055373,"body_markdown":"@user16320675 you are right. But, this is an answer to OP&#39;s question (working version of OP&#39;s code), not the best solution. I would test the higher score `&gt;= 90` first to avoid double-condition checks in each statement.","body":"@user16320675 you are right. But, this is an answer to OP&#39;s question (working version of OP&#39;s code), not the best solution. I would test the higher score <code>&gt;= 90</code> first to avoid double-condition checks in each statement."}],"tags":[],"owner":{"account_id":17861275,"reputation":2089,"user_id":12974735,"display_name":"Sercan"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1688271265,"creation_date":1688270020,"answer_id":76597344,"question_id":76597309,"body_markdown":"Your code prints multiple grades at the same time because when you enter `90`, the condition is true for multiple `if` conditions. Not only you need to use `else if`, but also you need to specify the ranges for the grades as in `tscore &gt;= 60 &amp;&amp; tscore &lt; 70`. So, your code should look like below;\r\n\r\n    public static void main(String args[]){\r\n        Scanner sc = new Scanner(System.in);\r\n        int tscore = sc.nextInt();\r\n\r\n        if (tscore &gt;= 60 &amp;&amp; tscore &lt; 70) {\r\n            System.out.println(&quot;D&quot;);\r\n        } else if (tscore &gt;= 70 &amp;&amp; tscore &lt; 80) {\r\n            System.out.println(&quot;C&quot;);\r\n        } else if (tscore &gt;= 80 &amp;&amp; tscore &lt; 90) {\r\n            System.out.println(&quot;B&quot;);\r\n        } else if (tscore &gt;= 90) {\r\n            System.out.println(&quot;A&quot;);\r\n        } else {\r\n            System.out.println(&quot;tae&quot;);\r\n        }\r\n    }\r\n\r\nI would probably execute my code in debug mode to see the behaviour. ","title":"is it possible to print only one statement in this nested if code?-Java","body":"<p>Your code prints multiple grades at the same time because when you enter <code>90</code>, the condition is true for multiple <code>if</code> conditions. Not only you need to use <code>else if</code>, but also you need to specify the ranges for the grades as in <code>tscore &gt;= 60 &amp;&amp; tscore &lt; 70</code>. So, your code should look like below;</p>\n<pre><code>public static void main(String args[]){\n    Scanner sc = new Scanner(System.in);\n    int tscore = sc.nextInt();\n\n    if (tscore &gt;= 60 &amp;&amp; tscore &lt; 70) {\n        System.out.println(&quot;D&quot;);\n    } else if (tscore &gt;= 70 &amp;&amp; tscore &lt; 80) {\n        System.out.println(&quot;C&quot;);\n    } else if (tscore &gt;= 80 &amp;&amp; tscore &lt; 90) {\n        System.out.println(&quot;B&quot;);\n    } else if (tscore &gt;= 90) {\n        System.out.println(&quot;A&quot;);\n    } else {\n        System.out.println(&quot;tae&quot;);\n    }\n}\n</code></pre>\n<p>I would probably execute my code in debug mode to see the behaviour.</p>\n"}],"owner":{"account_id":27539146,"reputation":13,"user_id":21016218,"display_name":"レッド・ スワン"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76597344,"answer_count":3,"score":1,"last_activity_date":1688271265,"creation_date":1688268813,"question_id":76597309,"body_markdown":"Our professor asked us to create a code that prints what grade you should be getting for a particular score, in a nested if code in Java\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    import java.util.Scanner;\r\n    public class nestedif {\r\n        public static void main(String []args){\r\n            Scanner sc = new Scanner(System.in);\r\n            int tscore = sc.nextInt();\r\n\r\n            if (tscore &gt;=60){\r\n                System.out.println(&quot;D&quot;);\r\n                if (tscore &gt;=70){\r\n                    System.out.println(&quot;C&quot;);\r\n                    if (tscore &gt;=80){\r\n                        System.out.println(&quot;B&quot;);\r\n                        if (tscore &gt;=90){\r\n                            System.out.println(&quot;A&quot;);\r\n                        }\r\n                    }\r\n                }\r\n\r\n            }\r\n            else {\r\n                System.out.println(&quot;tae&quot;);\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nit prints the grade but it also includes the first if&#39;s statement \r\nex\r\ninput: 90 \r\noutput: A\r\n        B\r\n        C\r\n        D\r\n\r\n\r\n","title":"is it possible to print only one statement in this nested if code?-Java","body":"<p>Our professor asked us to create a code that prints what grade you should be getting for a particular score, in a nested if code in Java</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>import java.util.Scanner;\npublic class nestedif {\n    public static void main(String []args){\n        Scanner sc = new Scanner(System.in);\n        int tscore = sc.nextInt();\n\n        if (tscore &gt;=60){\n            System.out.println(\"D\");\n            if (tscore &gt;=70){\n                System.out.println(\"C\");\n                if (tscore &gt;=80){\n                    System.out.println(\"B\");\n                    if (tscore &gt;=90){\n                        System.out.println(\"A\");\n                    }\n                }\n            }\n\n        }\n        else {\n            System.out.println(\"tae\");\n        }\n    }\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>it prints the grade but it also includes the first if's statement\nex\ninput: 90\noutput: A\nB\nC\nD</p>\n"},{"tags":["java","compiler-errors"],"comments":[{"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":1,"creation_date":1688266747,"post_id":76597241,"comment_id":135050245,"body_markdown":"How did you compile your code? What is the command you used?","body":"How did you compile your code? What is the command you used?"},{"owner":{"account_id":24234007,"reputation":21,"user_id":20942862,"display_name":"Arnab Das Joy"},"score":0,"creation_date":1688266854,"post_id":76597241,"comment_id":135050251,"body_markdown":"just the regular one. javac MainClass.java","body":"just the regular one. javac MainClass.java"},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1688269025,"post_id":76597241,"comment_id":135050378,"body_markdown":"So you didn&#39;t compile the other classes first?  And you didn&#39;t provide a `-sourcepath` option on the `javac` command line to tell it where to look for other sources?  That will be why you are getting errors!","body":"So you didn&#39;t compile the other classes first?  And you didn&#39;t provide a <code>-sourcepath</code> option on the <code>javac</code> command line to tell it where to look for other sources?  That will be why you are getting errors!"},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1688273479,"post_id":76597241,"comment_id":135050620,"body_markdown":"This has nothing to do with [tag:access-modifiers], little to do with [tag:package], and even less to do with [tag:oop], but it does constitute [tag:compiler-errors]. Be specific, and don&#39;t tag indiscriminately.","body":"This has nothing to do with <a href=\"https://stackoverflow.com/questions/tagged/access-modifiers\">access-modifiers</a>, little to do with <a href=\"https://stackoverflow.com/questions/tagged/package\">package</a>, and even less to do with <a href=\"https://stackoverflow.com/questions/tagged/oop\">oop</a>, but it does constitute <a href=\"https://stackoverflow.com/questions/tagged/compiler-errors\">compiler-errors</a>. Be specific, and don&#39;t tag indiscriminately."},{"owner":{"account_id":24234007,"reputation":21,"user_id":20942862,"display_name":"Arnab Das Joy"},"score":0,"creation_date":1688274686,"post_id":76597241,"comment_id":135050679,"body_markdown":"@user207421 noted.","body":"@user207421 noted."}],"owner":{"account_id":24234007,"reputation":21,"user_id":20942862,"display_name":"Arnab Das Joy"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1688267083,"answer_count":0,"score":0,"last_activity_date":1688271027,"creation_date":1688266599,"question_id":76597241,"body_markdown":"Inside *Comparator_Interface.ObjectSortingOne* package, I wrote exactly four classes, which are **People.java**, **SortByName.java**, **SortByRoll.java** and **MainClass.java**. Codes are given here.\r\n\r\n\r\n```\r\npackage Comparator_Interface.ObjectSortingOne;\r\n\r\nclass People {      \r\n\r\n    protected String name;\r\n    protected int academicClass;\r\n    protected int roll;\r\n\r\n    People(String name, int academicClass, int roll){\r\n        this.name = name;\r\n        this.academicClass = academicClass;\r\n        this.roll = roll;\r\n    }\r\n\r\n    @Override\r\n    public String toString(){\r\n        return (&quot;Name: &quot; + this.name + &quot;; Class: &quot; + this.academicClass + &quot;; Roll: &quot; + this.roll + &quot;\\n&quot;);\r\n    }\r\n    \r\n}\r\n\r\n```\r\n\r\n```\r\npackage Comparator_Interface.ObjectSortingOne;\r\n\r\nimport java.util.Comparator;\r\n\r\nclass SortByName implements Comparator&lt;People&gt; {\r\n\r\n    public int compare(People people1, People people2){\r\n        return people1.name.compareTo(people2.name);\r\n    }\r\n}\r\n\r\n```\r\n\r\n\r\n```\r\npackage Comparator_Interface.ObjectSortingOne;\r\n\r\nimport java.util.Comparator;\r\n\r\nclass SortByRoll implements Comparator&lt;People&gt; {\r\n\r\n    public int compare(People people1, People people2){\r\n        return people1.roll - people2.roll;\r\n    }\r\n}\r\n\r\n```\r\n\r\n\r\n```\r\npackage Comparator_Interface.ObjectSortingOne;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.Collections;\r\n\r\nclass MainClass {\r\n\r\n    public static void main(String[] args) {\r\n\r\n        ArrayList&lt;People&gt; arrayList = new ArrayList&lt;&gt;();\r\n\r\n        arrayList.add(new People(&quot;Arnab Das&quot;, 10, 03));\r\n        arrayList.add(new People(&quot;Tarek Rahman&quot;, 10, 1));\r\n        arrayList.add(new People(&quot;Jobayer Ahmed&quot;, 10, 1));\r\n        arrayList.add(new People(&quot;Saidis Salehin&quot;, 10, 02));\r\n        arrayList.add(new People(&quot;Rahik Wasif&quot;, 9, 03));\r\n\r\n        System.out.println(&quot;Unsorted arraylist: &quot;);\r\n        for(Object obj: arrayList){\r\n            obj.toString();\r\n        }\r\n\r\n        System.out.println();\r\n\r\n        Collections.sort(arrayList, new SortByName());\r\n\r\n        System.out.println(&quot;Sorted by name (in ascending): &quot;);\r\n        for(Object obj: arrayList){\r\n            obj.toString();\r\n        }\r\n\r\n        System.out.println();\r\n\r\n        Collections.sort(arrayList, new SortByRoll());\r\n\r\n        System.out.println(&quot;Sorted by roll (in ascending): &quot;);\r\n        for(Object obj: arrayList){\r\n            obj.toString();\r\n        }\r\n\r\n        System.out.println();\r\n\r\n    }\r\n    \r\n}\r\n\r\n```\r\n\r\n\r\nNow when I am going for compiling and running the code, it&#39;s showing error. \r\n\r\n[![enter image description here](https://i.stack.imgur.com/SlMPP.png)](https://i.stack.imgur.com/SlMPP.png)\r\n\r\n\r\n\r\nI tried multiple times by changing access modifiers, but it won&#39;t work.","title":"Java compiler unable to find class symbol inside same package","body":"<p>Inside <em>Comparator_Interface.ObjectSortingOne</em> package, I wrote exactly four classes, which are <strong>People.java</strong>, <strong>SortByName.java</strong>, <strong>SortByRoll.java</strong> and <strong>MainClass.java</strong>. Codes are given here.</p>\n<pre><code>package Comparator_Interface.ObjectSortingOne;\n\nclass People {      \n\n    protected String name;\n    protected int academicClass;\n    protected int roll;\n\n    People(String name, int academicClass, int roll){\n        this.name = name;\n        this.academicClass = academicClass;\n        this.roll = roll;\n    }\n\n    @Override\n    public String toString(){\n        return (&quot;Name: &quot; + this.name + &quot;; Class: &quot; + this.academicClass + &quot;; Roll: &quot; + this.roll + &quot;\\n&quot;);\n    }\n    \n}\n\n</code></pre>\n<pre><code>package Comparator_Interface.ObjectSortingOne;\n\nimport java.util.Comparator;\n\nclass SortByName implements Comparator&lt;People&gt; {\n\n    public int compare(People people1, People people2){\n        return people1.name.compareTo(people2.name);\n    }\n}\n\n</code></pre>\n<pre><code>package Comparator_Interface.ObjectSortingOne;\n\nimport java.util.Comparator;\n\nclass SortByRoll implements Comparator&lt;People&gt; {\n\n    public int compare(People people1, People people2){\n        return people1.roll - people2.roll;\n    }\n}\n\n</code></pre>\n<pre><code>package Comparator_Interface.ObjectSortingOne;\n\nimport java.util.ArrayList;\nimport java.util.Collections;\n\nclass MainClass {\n\n    public static void main(String[] args) {\n\n        ArrayList&lt;People&gt; arrayList = new ArrayList&lt;&gt;();\n\n        arrayList.add(new People(&quot;Arnab Das&quot;, 10, 03));\n        arrayList.add(new People(&quot;Tarek Rahman&quot;, 10, 1));\n        arrayList.add(new People(&quot;Jobayer Ahmed&quot;, 10, 1));\n        arrayList.add(new People(&quot;Saidis Salehin&quot;, 10, 02));\n        arrayList.add(new People(&quot;Rahik Wasif&quot;, 9, 03));\n\n        System.out.println(&quot;Unsorted arraylist: &quot;);\n        for(Object obj: arrayList){\n            obj.toString();\n        }\n\n        System.out.println();\n\n        Collections.sort(arrayList, new SortByName());\n\n        System.out.println(&quot;Sorted by name (in ascending): &quot;);\n        for(Object obj: arrayList){\n            obj.toString();\n        }\n\n        System.out.println();\n\n        Collections.sort(arrayList, new SortByRoll());\n\n        System.out.println(&quot;Sorted by roll (in ascending): &quot;);\n        for(Object obj: arrayList){\n            obj.toString();\n        }\n\n        System.out.println();\n\n    }\n    \n}\n\n</code></pre>\n<p>Now when I am going for compiling and running the code, it's showing error.</p>\n<p><a href=\"https://i.stack.imgur.com/SlMPP.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/SlMPP.png\" alt=\"enter image description here\" /></a></p>\n<p>I tried multiple times by changing access modifiers, but it won't work.</p>\n"},{"tags":["java","json","spring","rest","spring-mvc"],"comments":[{"owner":{"account_id":78549,"reputation":46986,"user_id":223478,"accept_rate":94,"display_name":"Neil McGuigan"},"score":0,"creation_date":1427404174,"post_id":29274067,"comment_id":46775044,"body_markdown":"is listOfMerchandiseAttribute its own repository? if it isn&#39;t, then you should get the full json, not the link","body":"is listOfMerchandiseAttribute its own repository? if it isn&#39;t, then you should get the full json, not the link"},{"owner":{"account_id":4971947,"reputation":390,"user_id":3999391,"accept_rate":46,"display_name":"MAK"},"score":0,"creation_date":1427423281,"post_id":29274067,"comment_id":46781350,"body_markdown":"@NeilMcGuigan Thanks for replay.  listOfMerchandise is not it&#39;s own repository. I got the above JSON when i made a REST call to the merchandise table.  primary key in merchandise table is foreign key in listOhMerchandiseAttribute. So, i am getting the link of the listOfMerchandiseAttribute table. But instead of link i need to get the JSON of that table.","body":"@NeilMcGuigan Thanks for replay.  listOfMerchandise is not it&#39;s own repository. I got the above JSON when i made a REST call to the merchandise table.  primary key in merchandise table is foreign key in listOhMerchandiseAttribute. So, i am getting the link of the listOfMerchandiseAttribute table. But instead of link i need to get the JSON of that table."}],"answers":[{"tags":[],"owner":{"account_id":223484,"reputation":61176,"user_id":482717,"accept_rate":66,"display_name":"Paul Verest"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1466595308,"creation_date":1466595308,"answer_id":37966842,"question_id":29274067,"body_markdown":"You should make sure that listOfMerchandiseAttribute is a member of your domain class. Then default converting to JSON should have it there.\r\nAnd Spring Data REST will use what-ever you current representation is and add Hypermedia.\r\n\r\nSee also https://stackoverflow.com/questions/23264044/spring-data-rest-disable-hypertext-application-language-hal-in-json-applica","title":"Spring Data Rest -Disable self links(HAL) in Json","body":"<p>You should make sure that listOfMerchandiseAttribute is a member of your domain class. Then default converting to JSON should have it there.\nAnd Spring Data REST will use what-ever you current representation is and add Hypermedia.</p>\n\n<p>See also <a href=\"https://stackoverflow.com/questions/23264044/spring-data-rest-disable-hypertext-application-language-hal-in-json-applica\">Disable Hypertext Application Language (HAL) in JSON?</a></p>\n"},{"tags":[],"owner":{"account_id":5954045,"reputation":3379,"user_id":4681265,"display_name":"Adrian"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1544650345,"creation_date":1544650345,"answer_id":53751679,"question_id":29274067,"body_markdown":"You could use [Excerpts][1] (especially made for this scenario). Because the Spring example is so eloquent and it&#39;s silly to just copy it here I&#39;ll just point it: [https://docs.spring.io/spring-data/rest/docs/3.1.x/reference/html/#projections-excerpts.excerpting-commonly-accessed-data][2].  \r\nBut just for the record and your convenience I&#39;ll paste the main parts of the spring example:  \r\n\r\n    @Projection(name = &quot;inlineAddress&quot;, types = { Person.class }) \r\n    interface InlineAddress {\r\n      String getFirstName();\r\n      String getLastName();\r\n      Address getAddress(); \r\n    }\r\n\r\nsee at [Projection javadoc][3] that `types` means *The type the projection type is bound to*.  \r\nThe *excerpt* could be used this way:  \r\n\r\n    @RepositoryRestResource(excerptProjection = InlineAddress.class)\r\n    interface PersonRepository extends CrudRepository&lt;Person, Long&gt; {}\r\n\r\nin order to get this:  \r\n\r\n    {\r\n      &quot;firstName&quot; : &quot;Frodo&quot;,\r\n      &quot;lastName&quot; : &quot;Baggins&quot;,\r\n      &quot;address&quot; : { \r\n        &quot;street&quot;: &quot;Bag End&quot;,\r\n        &quot;state&quot;: &quot;The Shire&quot;,\r\n        &quot;country&quot;: &quot;Middle Earth&quot;\r\n      },\r\n      &quot;_links&quot;: ...\r\n    }\r\n\r\nFor you `merchandise` is the equivalent of `Person` and the `listOfMerchandiseAttribute` is the equivalent of `address`.\r\n\r\n**How to get rid of _links**  \r\n\r\nCheck my answer at [https://stackoverflow.com/questions/23264044/disable-hypertext-application-language-hal-in-json/53750814#53750814][4].  \r\n\r\n**Final notes**\r\n\r\nSpring is evolving so be aware that this works with at least:  \r\n\r\n    spring-data-rest-webmvc 3.1.3.RELEASE\r\nor, if you prefeer spring boot version:  \r\n\r\n    spring-boot-starter-parent 2.1.1.RELEASE\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-data/rest/docs/3.1.x/reference/html/#projections-excerpts.excerpts\r\n  [2]: https://docs.spring.io/spring-data/rest/docs/3.1.x/reference/html/#projections-excerpts.excerpting-commonly-accessed-data\r\n  [3]: https://docs.spring.io/spring-data/rest/docs/current/api/org/springframework/data/rest/core/config/Projection.html\r\n  [4]: https://stackoverflow.com/questions/23264044/disable-hypertext-application-language-hal-in-json/53750814#53750814","title":"Spring Data Rest -Disable self links(HAL) in Json","body":"<p>You could use <a href=\"https://docs.spring.io/spring-data/rest/docs/3.1.x/reference/html/#projections-excerpts.excerpts\" rel=\"nofollow noreferrer\">Excerpts</a> (especially made for this scenario). Because the Spring example is so eloquent and it's silly to just copy it here I'll just point it: <a href=\"https://docs.spring.io/spring-data/rest/docs/3.1.x/reference/html/#projections-excerpts.excerpting-commonly-accessed-data\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-data/rest/docs/3.1.x/reference/html/#projections-excerpts.excerpting-commonly-accessed-data</a>.<br>\nBut just for the record and your convenience I'll paste the main parts of the spring example:  </p>\n\n<pre><code>@Projection(name = \"inlineAddress\", types = { Person.class }) \ninterface InlineAddress {\n  String getFirstName();\n  String getLastName();\n  Address getAddress(); \n}\n</code></pre>\n\n<p>see at <a href=\"https://docs.spring.io/spring-data/rest/docs/current/api/org/springframework/data/rest/core/config/Projection.html\" rel=\"nofollow noreferrer\">Projection javadoc</a> that <code>types</code> means <em>The type the projection type is bound to</em>.<br>\nThe <em>excerpt</em> could be used this way:  </p>\n\n<pre><code>@RepositoryRestResource(excerptProjection = InlineAddress.class)\ninterface PersonRepository extends CrudRepository&lt;Person, Long&gt; {}\n</code></pre>\n\n<p>in order to get this:  </p>\n\n<pre><code>{\n  \"firstName\" : \"Frodo\",\n  \"lastName\" : \"Baggins\",\n  \"address\" : { \n    \"street\": \"Bag End\",\n    \"state\": \"The Shire\",\n    \"country\": \"Middle Earth\"\n  },\n  \"_links\": ...\n}\n</code></pre>\n\n<p>For you <code>merchandise</code> is the equivalent of <code>Person</code> and the <code>listOfMerchandiseAttribute</code> is the equivalent of <code>address</code>.</p>\n\n<p><strong>How to get rid of _links</strong>  </p>\n\n<p>Check my answer at <a href=\"https://stackoverflow.com/questions/23264044/disable-hypertext-application-language-hal-in-json/53750814#53750814\">Disable Hypertext Application Language (HAL) in JSON?</a>.  </p>\n\n<p><strong>Final notes</strong></p>\n\n<p>Spring is evolving so be aware that this works with at least:  </p>\n\n<pre><code>spring-data-rest-webmvc 3.1.3.RELEASE\n</code></pre>\n\n<p>or, if you prefeer spring boot version:  </p>\n\n<pre><code>spring-boot-starter-parent 2.1.1.RELEASE\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1000948,"reputation":562,"user_id":1015806,"display_name":"Cy Pangilinan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1611306752,"creation_date":1611292301,"answer_id":65839641,"question_id":29274067,"body_markdown":"A cleaner way to do it would be to set the following property to `false` in `application.properties` along with creating `Projections`\r\n\r\n`spring.hateoas.use-hal-as-default-json-media-type=false`","title":"Spring Data Rest -Disable self links(HAL) in Json","body":"<p>A cleaner way to do it would be to set the following property to <code>false</code> in <code>application.properties</code> along with creating <code>Projections</code></p>\n<p><code>spring.hateoas.use-hal-as-default-json-media-type=false</code></p>\n"},{"tags":[],"owner":{"account_id":2090041,"reputation":2250,"user_id":1860089,"accept_rate":40,"display_name":"Amnon"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685635478,"creation_date":1685635478,"answer_id":76383787,"question_id":29274067,"body_markdown":"I suggest using a custom `ResourceProcessor` to modify the links that Spring adds.\r\nSee example in https://stackoverflow.com/a/23786325/1860089\r\nAlso, if you want to remove the links only on some occasions, you could associate the custom `ResourceProcessor` with a `Projection`.","title":"Spring Data Rest -Disable self links(HAL) in Json","body":"<p>I suggest using a custom <code>ResourceProcessor</code> to modify the links that Spring adds.\nSee example in <a href=\"https://stackoverflow.com/a/23786325/1860089\">https://stackoverflow.com/a/23786325/1860089</a>\nAlso, if you want to remove the links only on some occasions, you could associate the custom <code>ResourceProcessor</code> with a <code>Projection</code>.</p>\n"}],"owner":{"account_id":4971947,"reputation":390,"user_id":3999391,"accept_rate":46,"display_name":"MAK"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9053,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"answer_count":4,"score":7,"last_activity_date":1688270730,"creation_date":1427359107,"question_id":29274067,"body_markdown":"I am newbie to spring-data-rest. In my Application when i make a rest call i am getting json which consist on self-links and links to foreign key tables. But i want json instead on links. I generated my code using telosys tool generator. Here is my JSON what i am gettin when i made a REST call to the  &quot;merchandise&quot; table in database.:\r\n\r\n    {\r\n    &quot;id&quot;  : 1,\r\n     &quot;rate&quot;: 300,\r\n     &quot;type&quot;: &quot;item&quot;,\r\n     &quot;shortDescription&quot;: &quot;test&quot;,\r\n     &quot;longDescription&quot;: &quot;test test&quot;,\r\n\r\n     &quot;_links&quot;: {\r\n     &quot;self&quot;: {\r\n     &quot;href&quot;: &quot;http://localhost:8080/sportsrest/merchandises/1&quot;\r\n     },\r\n     &quot;listOfMerchandiseAttribute&quot;: {\r\n     &quot;href&quot;: &quot;http://localhost:8080/sportsrest/merchandises/1/listOfMerchandiseAttribute&quot;\r\n         },\r\n       }\r\n     }\r\n \r\n  But in instead of getting link of &quot;listOfMerchandiseAttribute&quot; i want to get JSON of listOfMerchandiseAttribute. listOfMerchandiseAttribute is my another table in database\r\n\r\nThat is i want my json like this:\r\n\r\n      {\r\n      &quot;id&quot;: 1,\r\n     &quot;rate&quot;: 300,\r\n     &quot;type&quot;: &quot;item&quot;,\r\n     &quot;shortDescription&quot;: &quot;test&quot;,\r\n     &quot;longDescription&quot;: &quot;test test&quot;,\r\n\r\n     &quot;_links&quot;: {\r\n     &quot;self&quot;: {\r\n     &quot;href&quot;: &quot;http://localhost:8080/sportsrest/merchandises/1&quot;\r\n     },\r\n     &quot;listOfMerchandiseAttribute&quot;: { \r\n             &quot;id&quot;: 1,\r\n             &quot;attributeName&quot;: &quot;testname&quot;,\r\n             &quot;attributeValue&quot;: 50     \r\n         },\r\n       }\r\n     }\r\n\r\nWhen i search on google i got some results and changed the ApplicationConfig.java file according to that but still i am getting links instead of JSON. Here is My ApplicationConfig file.\r\n\r\nApplicationConfig.java\r\n\r\n     /*\r\n     * Created on 19 Mar 2015 ( Time 14:41:07 )\r\n     * Generated by Telosys Tools Generator ( version 2.1.0 )\r\n     */\r\n    \r\n    package co.vitti.sports;\r\n    \r\n    import org.springframework.context.MessageSource;\r\n    \r\n    import javax.sql.DataSource;\r\n    \r\n    import org.springframework.context.annotation.Bean;\r\n    import org.springframework.context.annotation.ComponentScan;\r\n    import org.springframework.context.annotation.Configuration;\r\n    import org.springframework.context.support.ResourceBundleMessageSource;\r\n    import org.springframework.data.rest.core.config.RepositoryRestConfiguration;\r\n    import org.springframework.data.rest.webmvc.config.RepositoryRestMvcConfiguration;\r\n    import org.springframework.http.MediaType;\r\n    import org.springframework.jdbc.datasource.embedded.EmbeddedDatabaseBuilder;\r\n    import org.springframework.jdbc.datasource.embedded.EmbeddedDatabaseType;\r\n    import org.springframework.web.servlet.config.annotation.DefaultServletHandlerConfigurer;\r\n    import org.springframework.web.servlet.config.annotation.EnableWebMvc;\r\n    import org.springframework.web.servlet.config.annotation.ResourceHandlerRegistry;\r\n    \r\n    import co.vitti.sports.validator.BinaryValidator;\r\n    import co.vitti.sports.validator.CustomerPackageBalValidator;\r\n    import co.vitti.sports.validator.MerchandiseItemValidator;\r\n    import co.vitti.sports.validator.CustomerPackageValidator;\r\n    import co.vitti.sports.validator.InvoiceValidator;\r\n    import co.vitti.sports.validator.UserRoleValidator;\r\n    import co.vitti.sports.validator.SportValidator;\r\n    import co.vitti.sports.validator.MerchandiseTypeValidator;\r\n    import co.vitti.sports.validator.BookingValidator;\r\n    import co.vitti.sports.validator.TenantValidator;\r\n    import co.vitti.sports.validator.PaymentModeValidator;\r\n    import co.vitti.sports.validator.CourtValidator;\r\n    import co.vitti.sports.validator.MerchandisePackageValidator;\r\n    import co.vitti.sports.validator.CartValidator;\r\n    import co.vitti.sports.validator.MigrationValidator;\r\n    import co.vitti.sports.validator.TenantSportValidator;\r\n    import co.vitti.sports.repository.converter.TenantSportKeyConverter;\r\n    import co.vitti.sports.validator.TenantPaymentmodeValidator;\r\n    import co.vitti.sports.repository.converter.TenantPaymentmodeKeyConverter;\r\n    import co.vitti.sports.validator.MerchandiseAttributeValidator;\r\n    import co.vitti.sports.repository.converter.MerchandiseAttributeKeyConverter;\r\n    import co.vitti.sports.validator.CartItemValidator;\r\n    import co.vitti.sports.validator.MerchandiseValidator;\r\n    import co.vitti.sports.validator.UserValidator;\r\n    import co.vitti.sports.validator.TimeslotValidator;\r\n    import co.vitti.sports.validator.RoleValidator;\r\n    \r\n    import org.springframework.core.convert.support.ConfigurableConversionService;\r\n    \r\n    /**\r\n     * Application configuration.\r\n     * ( messages resources, validators)\r\n     * @author Telosys Tools Generator\r\n     *\r\n     */\r\n    @Configuration\r\n    @ComponentScan(basePackageClasses = ApplicationConfig.class)\r\n    @EnableWebMvc\r\n    public class ApplicationConfig extends RepositoryRestMvcConfiguration {\r\n    \r\n    \t@Override\r\n    \tprotected void configureRepositoryRestConfiguration(RepositoryRestConfiguration config){\r\n    \t\tconfig.setDefaultMediaType((MediaType) MediaType.parseMediaTypes(&quot;application/x-spring-data-verbose+json&quot;));\r\n    \t}\r\n    \t\r\n    \t@Bean\r\n    \tpublic DataSource dataSource(){\r\n    \t\tEmbeddedDatabaseBuilder  builder = new EmbeddedDatabaseBuilder();\r\n    \t\treturn builder.setType(EmbeddedDatabaseType.HSQL).build();\r\n    \t\t\r\n    \t}\r\n        /**\r\n         * Message Ressource declaration.\r\n         * @return MessageRessource\r\n         */\r\n        @Bean\r\n        public MessageSource messageSource() {\r\n            ResourceBundleMessageSource source = new ResourceBundleMessageSource();\r\n            source.setBasename(&quot;i18n/messages&quot;);\r\n            source.setUseCodeAsDefaultMessage(true);\r\n            return source;\r\n        }\r\n    \r\n       /**\r\n         * Validator declaration for Binary\r\n         * @return the BinaryValidator\r\n         */\r\n        @Bean\r\n        public BinaryValidator beforeCreateBinaryValidator() {\r\n            return new BinaryValidator();\r\n        }\r\n       /**\r\n         * Validator declaration for CustomerPackageBal\r\n         * @return the CustomerPackageBalValidator\r\n         */\r\n        @Bean\r\n        public CustomerPackageBalValidator beforeCreateCustomerPackageBalValidator() {\r\n            return new CustomerPackageBalValidator();\r\n        }\r\n       /**\r\n         * Validator declaration for MerchandiseItem\r\n         * @return the MerchandiseItemValidator\r\n         */\r\n        @Bean\r\n        public MerchandiseItemValidator beforeCreateMerchandiseItemValidator() {\r\n            return new MerchandiseItemValidator();\r\n        }\r\n       /**\r\n         * Validator declaration for CustomerPackage\r\n         * @return the CustomerPackageValidator\r\n         */\r\n        @Bean\r\n        public CustomerPackageValidator beforeCreateCustomerPackageValidator() {\r\n            return new CustomerPackageValidator();\r\n        }\r\n       /**\r\n         * Validator declaration for Invoice\r\n         * @return the InvoiceValidator\r\n         */\r\n        @Bean\r\n        public InvoiceValidator beforeCreateInvoiceValidator() {\r\n            return new InvoiceValidator();\r\n        }\r\n       /**\r\n         * Validator declaration for UserRole\r\n         * @return the UserRoleValidator\r\n         */\r\n        @Bean\r\n        public UserRoleValidator beforeCreateUserRoleValidator() {\r\n            return new UserRoleValidator();\r\n        }\r\n       /**\r\n         * Validator declaration for Sport\r\n         * @return the SportValidator\r\n         */\r\n        @Bean\r\n        public SportValidator beforeCreateSportValidator() {\r\n            return new SportValidator();\r\n        }\r\n       /**\r\n         * Validator declaration for MerchandiseType\r\n         * @return the MerchandiseTypeValidator\r\n         */\r\n        @Bean\r\n        public MerchandiseTypeValidator beforeCreateMerchandiseTypeValidator() {\r\n            return new MerchandiseTypeValidator();\r\n        }\r\n       /**\r\n         * Validator declaration for Booking\r\n         * @return the BookingValidator\r\n         */\r\n        @Bean\r\n        public BookingValidator beforeCreateBookingValidator() {\r\n            return new BookingValidator();\r\n        }\r\n       /**\r\n         * Validator declaration for Tenant\r\n         * @return the TenantValidator\r\n         */\r\n        @Bean\r\n        public TenantValidator beforeCreateTenantValidator() {\r\n            return new TenantValidator();\r\n        }\r\n       /**\r\n         * Validator declaration for PaymentMode\r\n         * @return the PaymentModeValidator\r\n         */\r\n        @Bean\r\n        public PaymentModeValidator beforeCreatePaymentModeValidator() {\r\n            return new PaymentModeValidator();\r\n        }\r\n       /**\r\n         * Validator declaration for Court\r\n         * @return the CourtValidator\r\n         */\r\n        @Bean\r\n        public CourtValidator beforeCreateCourtValidator() {\r\n            return new CourtValidator();\r\n        }\r\n       /**\r\n         * Validator declaration for MerchandisePackage\r\n         * @return the MerchandisePackageValidator\r\n         */\r\n        @Bean\r\n        public MerchandisePackageValidator beforeCreateMerchandisePackageValidator() {\r\n            return new MerchandisePackageValidator();\r\n        }\r\n       /**\r\n         * Validator declaration for Cart\r\n         * @return the CartValidator\r\n         */\r\n        @Bean\r\n        public CartValidator beforeCreateCartValidator() {\r\n            return new CartValidator();\r\n        }\r\n       /**\r\n         * Validator declaration for Migration\r\n         * @return the MigrationValidator\r\n         */\r\n        @Bean\r\n        public MigrationValidator beforeCreateMigrationValidator() {\r\n            return new MigrationValidator();\r\n        }\r\n       /**\r\n         * Validator declaration for TenantSport\r\n         * @return the TenantSportValidator\r\n         */\r\n        @Bean\r\n        public TenantSportValidator beforeCreateTenantSportValidator() {\r\n            return new TenantSportValidator();\r\n        }\r\n       /**\r\n         * Validator declaration for TenantPaymentmode\r\n         * @return the TenantPaymentmodeValidator\r\n         */\r\n        @Bean\r\n        public TenantPaymentmodeValidator beforeCreateTenantPaymentmodeValidator() {\r\n            return new TenantPaymentmodeValidator();\r\n        }\r\n       /**\r\n         * Validator declaration for MerchandiseAttribute\r\n         * @return the MerchandiseAttributeValidator\r\n         */\r\n        @Bean\r\n        public MerchandiseAttributeValidator beforeCreateMerchandiseAttributeValidator() {\r\n            return new MerchandiseAttributeValidator();\r\n        }\r\n       /**\r\n         * Validator declaration for CartItem\r\n         * @return the CartItemValidator\r\n         */\r\n        @Bean\r\n        public CartItemValidator beforeCreateCartItemValidator() {\r\n            return new CartItemValidator();\r\n        }\r\n       /**\r\n         * Validator declaration for Merchandise\r\n         * @return the MerchandiseValidator\r\n         */\r\n        @Bean\r\n        public MerchandiseValidator beforeCreateMerchandiseValidator() {\r\n            return new MerchandiseValidator();\r\n        }\r\n       /**\r\n         * Validator declaration for User\r\n         * @return the UserValidator\r\n         */\r\n        @Bean\r\n        public UserValidator beforeCreateUserValidator() {\r\n            return new UserValidator();\r\n        }\r\n       /**\r\n         * Validator declaration for Timeslot\r\n         * @return the TimeslotValidator\r\n         */\r\n        @Bean\r\n        public TimeslotValidator beforeCreateTimeslotValidator() {\r\n            return new TimeslotValidator();\r\n        }\r\n       /**\r\n         * Validator declaration for Role\r\n         * @return the RoleValidator\r\n         */\r\n        @Bean\r\n        public RoleValidator beforeCreateRoleValidator() {\r\n            return new RoleValidator();\r\n        }\r\n    \r\n        /**\r\n         * Add all converters for composite keys\r\n         */\r\n    \t@Override\r\n    \tprotected void configureConversionService(ConfigurableConversionService conversionService) {\r\n    \t\tsuper.configureConversionService(conversionService);\r\n    \t\tconversionService.addConverter(this.tenantsportKeyConverter());\r\n    \t\tconversionService.addConverter(this.tenantpaymentmodeKeyConverter());\r\n    \t\tconversionService.addConverter(this.merchandiseattributeKeyConverter());\r\n    \t}\r\n    \r\n    \t/**\r\n         * Converter for the composite key in the TenantSport entity\r\n         * @return the converter\r\n         */\r\n        @Bean\r\n        public TenantSportKeyConverter tenantsportKeyConverter() {\r\n        \treturn new TenantSportKeyConverter();\r\n        }\r\n    \t/**\r\n         * Converter for the composite key in the TenantPaymentmode entity\r\n         * @return the converter\r\n         */\r\n        @Bean\r\n        public TenantPaymentmodeKeyConverter tenantpaymentmodeKeyConverter() {\r\n        \treturn new TenantPaymentmodeKeyConverter();\r\n        }\r\n    \t/**\r\n         * Converter for the composite key in the MerchandiseAttribute entity\r\n         * @return the converter\r\n         */\r\n        @Bean\r\n        public MerchandiseAttributeKeyConverter merchandiseattributeKeyConverter() {\r\n        \treturn new MerchandiseAttributeKeyConverter();\r\n        }\r\n        \r\n     // equivalents for &lt;mvc:resources/&gt; tags\r\n        @Override\r\n        public void addResourceHandlers(ResourceHandlerRegistry registry) {\r\n        registry.addResourceHandler(&quot;/app/**&quot;).addResourceLocations(&quot;/app/&quot;)\r\n        .setCachePeriod(31556926);\r\n        }\r\n    \r\n        // equivalent for &lt;mvc:default-servlet-handler/&gt; tag\r\n        @Override\r\n        public void configureDefaultServletHandling(\r\n        DefaultServletHandlerConfigurer configurer) {\r\n        configurer.enable();\r\n        }\r\n    \r\n    }\r\n\r\n\r\n\r\nCan anyone please help me to solve my issue and get the JSON instead on links.\r\nThanks in Advance.\r\n","title":"Spring Data Rest -Disable self links(HAL) in Json","body":"<p>I am newbie to spring-data-rest. In my Application when i make a rest call i am getting json which consist on self-links and links to foreign key tables. But i want json instead on links. I generated my code using telosys tool generator. Here is my JSON what i am gettin when i made a REST call to the  \"merchandise\" table in database.:</p>\n\n<pre><code>{\n\"id\"  : 1,\n \"rate\": 300,\n \"type\": \"item\",\n \"shortDescription\": \"test\",\n \"longDescription\": \"test test\",\n\n \"_links\": {\n \"self\": {\n \"href\": \"http://localhost:8080/sportsrest/merchandises/1\"\n },\n \"listOfMerchandiseAttribute\": {\n \"href\": \"http://localhost:8080/sportsrest/merchandises/1/listOfMerchandiseAttribute\"\n     },\n   }\n }\n</code></pre>\n\n<p>But in instead of getting link of \"listOfMerchandiseAttribute\" i want to get JSON of listOfMerchandiseAttribute. listOfMerchandiseAttribute is my another table in database</p>\n\n<p>That is i want my json like this:</p>\n\n<pre><code>  {\n  \"id\": 1,\n \"rate\": 300,\n \"type\": \"item\",\n \"shortDescription\": \"test\",\n \"longDescription\": \"test test\",\n\n \"_links\": {\n \"self\": {\n \"href\": \"http://localhost:8080/sportsrest/merchandises/1\"\n },\n \"listOfMerchandiseAttribute\": { \n         \"id\": 1,\n         \"attributeName\": \"testname\",\n         \"attributeValue\": 50     \n     },\n   }\n }\n</code></pre>\n\n<p>When i search on google i got some results and changed the ApplicationConfig.java file according to that but still i am getting links instead of JSON. Here is My ApplicationConfig file.</p>\n\n<p>ApplicationConfig.java</p>\n\n<pre><code> /*\n * Created on 19 Mar 2015 ( Time 14:41:07 )\n * Generated by Telosys Tools Generator ( version 2.1.0 )\n */\n\npackage co.vitti.sports;\n\nimport org.springframework.context.MessageSource;\n\nimport javax.sql.DataSource;\n\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.ComponentScan;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.context.support.ResourceBundleMessageSource;\nimport org.springframework.data.rest.core.config.RepositoryRestConfiguration;\nimport org.springframework.data.rest.webmvc.config.RepositoryRestMvcConfiguration;\nimport org.springframework.http.MediaType;\nimport org.springframework.jdbc.datasource.embedded.EmbeddedDatabaseBuilder;\nimport org.springframework.jdbc.datasource.embedded.EmbeddedDatabaseType;\nimport org.springframework.web.servlet.config.annotation.DefaultServletHandlerConfigurer;\nimport org.springframework.web.servlet.config.annotation.EnableWebMvc;\nimport org.springframework.web.servlet.config.annotation.ResourceHandlerRegistry;\n\nimport co.vitti.sports.validator.BinaryValidator;\nimport co.vitti.sports.validator.CustomerPackageBalValidator;\nimport co.vitti.sports.validator.MerchandiseItemValidator;\nimport co.vitti.sports.validator.CustomerPackageValidator;\nimport co.vitti.sports.validator.InvoiceValidator;\nimport co.vitti.sports.validator.UserRoleValidator;\nimport co.vitti.sports.validator.SportValidator;\nimport co.vitti.sports.validator.MerchandiseTypeValidator;\nimport co.vitti.sports.validator.BookingValidator;\nimport co.vitti.sports.validator.TenantValidator;\nimport co.vitti.sports.validator.PaymentModeValidator;\nimport co.vitti.sports.validator.CourtValidator;\nimport co.vitti.sports.validator.MerchandisePackageValidator;\nimport co.vitti.sports.validator.CartValidator;\nimport co.vitti.sports.validator.MigrationValidator;\nimport co.vitti.sports.validator.TenantSportValidator;\nimport co.vitti.sports.repository.converter.TenantSportKeyConverter;\nimport co.vitti.sports.validator.TenantPaymentmodeValidator;\nimport co.vitti.sports.repository.converter.TenantPaymentmodeKeyConverter;\nimport co.vitti.sports.validator.MerchandiseAttributeValidator;\nimport co.vitti.sports.repository.converter.MerchandiseAttributeKeyConverter;\nimport co.vitti.sports.validator.CartItemValidator;\nimport co.vitti.sports.validator.MerchandiseValidator;\nimport co.vitti.sports.validator.UserValidator;\nimport co.vitti.sports.validator.TimeslotValidator;\nimport co.vitti.sports.validator.RoleValidator;\n\nimport org.springframework.core.convert.support.ConfigurableConversionService;\n\n/**\n * Application configuration.\n * ( messages resources, validators)\n * @author Telosys Tools Generator\n *\n */\n@Configuration\n@ComponentScan(basePackageClasses = ApplicationConfig.class)\n@EnableWebMvc\npublic class ApplicationConfig extends RepositoryRestMvcConfiguration {\n\n    @Override\n    protected void configureRepositoryRestConfiguration(RepositoryRestConfiguration config){\n        config.setDefaultMediaType((MediaType) MediaType.parseMediaTypes(\"application/x-spring-data-verbose+json\"));\n    }\n\n    @Bean\n    public DataSource dataSource(){\n        EmbeddedDatabaseBuilder  builder = new EmbeddedDatabaseBuilder();\n        return builder.setType(EmbeddedDatabaseType.HSQL).build();\n\n    }\n    /**\n     * Message Ressource declaration.\n     * @return MessageRessource\n     */\n    @Bean\n    public MessageSource messageSource() {\n        ResourceBundleMessageSource source = new ResourceBundleMessageSource();\n        source.setBasename(\"i18n/messages\");\n        source.setUseCodeAsDefaultMessage(true);\n        return source;\n    }\n\n   /**\n     * Validator declaration for Binary\n     * @return the BinaryValidator\n     */\n    @Bean\n    public BinaryValidator beforeCreateBinaryValidator() {\n        return new BinaryValidator();\n    }\n   /**\n     * Validator declaration for CustomerPackageBal\n     * @return the CustomerPackageBalValidator\n     */\n    @Bean\n    public CustomerPackageBalValidator beforeCreateCustomerPackageBalValidator() {\n        return new CustomerPackageBalValidator();\n    }\n   /**\n     * Validator declaration for MerchandiseItem\n     * @return the MerchandiseItemValidator\n     */\n    @Bean\n    public MerchandiseItemValidator beforeCreateMerchandiseItemValidator() {\n        return new MerchandiseItemValidator();\n    }\n   /**\n     * Validator declaration for CustomerPackage\n     * @return the CustomerPackageValidator\n     */\n    @Bean\n    public CustomerPackageValidator beforeCreateCustomerPackageValidator() {\n        return new CustomerPackageValidator();\n    }\n   /**\n     * Validator declaration for Invoice\n     * @return the InvoiceValidator\n     */\n    @Bean\n    public InvoiceValidator beforeCreateInvoiceValidator() {\n        return new InvoiceValidator();\n    }\n   /**\n     * Validator declaration for UserRole\n     * @return the UserRoleValidator\n     */\n    @Bean\n    public UserRoleValidator beforeCreateUserRoleValidator() {\n        return new UserRoleValidator();\n    }\n   /**\n     * Validator declaration for Sport\n     * @return the SportValidator\n     */\n    @Bean\n    public SportValidator beforeCreateSportValidator() {\n        return new SportValidator();\n    }\n   /**\n     * Validator declaration for MerchandiseType\n     * @return the MerchandiseTypeValidator\n     */\n    @Bean\n    public MerchandiseTypeValidator beforeCreateMerchandiseTypeValidator() {\n        return new MerchandiseTypeValidator();\n    }\n   /**\n     * Validator declaration for Booking\n     * @return the BookingValidator\n     */\n    @Bean\n    public BookingValidator beforeCreateBookingValidator() {\n        return new BookingValidator();\n    }\n   /**\n     * Validator declaration for Tenant\n     * @return the TenantValidator\n     */\n    @Bean\n    public TenantValidator beforeCreateTenantValidator() {\n        return new TenantValidator();\n    }\n   /**\n     * Validator declaration for PaymentMode\n     * @return the PaymentModeValidator\n     */\n    @Bean\n    public PaymentModeValidator beforeCreatePaymentModeValidator() {\n        return new PaymentModeValidator();\n    }\n   /**\n     * Validator declaration for Court\n     * @return the CourtValidator\n     */\n    @Bean\n    public CourtValidator beforeCreateCourtValidator() {\n        return new CourtValidator();\n    }\n   /**\n     * Validator declaration for MerchandisePackage\n     * @return the MerchandisePackageValidator\n     */\n    @Bean\n    public MerchandisePackageValidator beforeCreateMerchandisePackageValidator() {\n        return new MerchandisePackageValidator();\n    }\n   /**\n     * Validator declaration for Cart\n     * @return the CartValidator\n     */\n    @Bean\n    public CartValidator beforeCreateCartValidator() {\n        return new CartValidator();\n    }\n   /**\n     * Validator declaration for Migration\n     * @return the MigrationValidator\n     */\n    @Bean\n    public MigrationValidator beforeCreateMigrationValidator() {\n        return new MigrationValidator();\n    }\n   /**\n     * Validator declaration for TenantSport\n     * @return the TenantSportValidator\n     */\n    @Bean\n    public TenantSportValidator beforeCreateTenantSportValidator() {\n        return new TenantSportValidator();\n    }\n   /**\n     * Validator declaration for TenantPaymentmode\n     * @return the TenantPaymentmodeValidator\n     */\n    @Bean\n    public TenantPaymentmodeValidator beforeCreateTenantPaymentmodeValidator() {\n        return new TenantPaymentmodeValidator();\n    }\n   /**\n     * Validator declaration for MerchandiseAttribute\n     * @return the MerchandiseAttributeValidator\n     */\n    @Bean\n    public MerchandiseAttributeValidator beforeCreateMerchandiseAttributeValidator() {\n        return new MerchandiseAttributeValidator();\n    }\n   /**\n     * Validator declaration for CartItem\n     * @return the CartItemValidator\n     */\n    @Bean\n    public CartItemValidator beforeCreateCartItemValidator() {\n        return new CartItemValidator();\n    }\n   /**\n     * Validator declaration for Merchandise\n     * @return the MerchandiseValidator\n     */\n    @Bean\n    public MerchandiseValidator beforeCreateMerchandiseValidator() {\n        return new MerchandiseValidator();\n    }\n   /**\n     * Validator declaration for User\n     * @return the UserValidator\n     */\n    @Bean\n    public UserValidator beforeCreateUserValidator() {\n        return new UserValidator();\n    }\n   /**\n     * Validator declaration for Timeslot\n     * @return the TimeslotValidator\n     */\n    @Bean\n    public TimeslotValidator beforeCreateTimeslotValidator() {\n        return new TimeslotValidator();\n    }\n   /**\n     * Validator declaration for Role\n     * @return the RoleValidator\n     */\n    @Bean\n    public RoleValidator beforeCreateRoleValidator() {\n        return new RoleValidator();\n    }\n\n    /**\n     * Add all converters for composite keys\n     */\n    @Override\n    protected void configureConversionService(ConfigurableConversionService conversionService) {\n        super.configureConversionService(conversionService);\n        conversionService.addConverter(this.tenantsportKeyConverter());\n        conversionService.addConverter(this.tenantpaymentmodeKeyConverter());\n        conversionService.addConverter(this.merchandiseattributeKeyConverter());\n    }\n\n    /**\n     * Converter for the composite key in the TenantSport entity\n     * @return the converter\n     */\n    @Bean\n    public TenantSportKeyConverter tenantsportKeyConverter() {\n        return new TenantSportKeyConverter();\n    }\n    /**\n     * Converter for the composite key in the TenantPaymentmode entity\n     * @return the converter\n     */\n    @Bean\n    public TenantPaymentmodeKeyConverter tenantpaymentmodeKeyConverter() {\n        return new TenantPaymentmodeKeyConverter();\n    }\n    /**\n     * Converter for the composite key in the MerchandiseAttribute entity\n     * @return the converter\n     */\n    @Bean\n    public MerchandiseAttributeKeyConverter merchandiseattributeKeyConverter() {\n        return new MerchandiseAttributeKeyConverter();\n    }\n\n // equivalents for &lt;mvc:resources/&gt; tags\n    @Override\n    public void addResourceHandlers(ResourceHandlerRegistry registry) {\n    registry.addResourceHandler(\"/app/**\").addResourceLocations(\"/app/\")\n    .setCachePeriod(31556926);\n    }\n\n    // equivalent for &lt;mvc:default-servlet-handler/&gt; tag\n    @Override\n    public void configureDefaultServletHandling(\n    DefaultServletHandlerConfigurer configurer) {\n    configurer.enable();\n    }\n\n}\n</code></pre>\n\n<p>Can anyone please help me to solve my issue and get the JSON instead on links.\nThanks in Advance.</p>\n"},{"tags":["java","spring-boot","api-gateway","spring-cloud-feign","service-discovery"],"owner":{"account_id":22649484,"reputation":1,"user_id":16824374,"display_name":"Thiago Souza"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":19,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688269747,"creation_date":1688269747,"question_id":76597340,"body_markdown":"Using spring boot and microservices, that using discovery, gateway, feign and many microservices. What I&#39;m searching is a way that in the same MS, I have rest api controller that can be access from a call that pass for the gateway, and have rest api controller that only can be called from MS that is present in the same discovery, that can&#39;t be called from the gateway. I try to search for this, but not have success.\r\n\r\n1. I expecting to find the solution or where I can find some anwer that I can search with have a chance to resolve my problem.","title":"Spring boot - rest controller access only for another MS in the same discovery using feign","body":"<p>Using spring boot and microservices, that using discovery, gateway, feign and many microservices. What I'm searching is a way that in the same MS, I have rest api controller that can be access from a call that pass for the gateway, and have rest api controller that only can be called from MS that is present in the same discovery, that can't be called from the gateway. I try to search for this, but not have success.</p>\n<ol>\n<li>I expecting to find the solution or where I can find some anwer that I can search with have a chance to resolve my problem.</li>\n</ol>\n"},{"tags":["java","floating-point","double","computer-science"],"comments":[{"owner":{"account_id":16805054,"reputation":22950,"user_id":12149471,"display_name":"Andreas Wenzel"},"score":1,"creation_date":1688267519,"post_id":76597231,"comment_id":135050289,"body_markdown":"The number `0.1` can&#39;t be represented exactly in [IEEE-754](https://en.wikipedia.org/wiki/IEEE_754) floating-point representation. In a `float`, it is represented as `0.100000001490116119384765625`. In a `double`, it is represented as `0.100000000000000005551115123126`. You can test this [here](https://www.binaryconvert.com/convert_double.html). If it prints `&quot;0.1&quot;` with you, that merely means that the number you are printing is rounded before printing.","body":"The number <code>0.1</code> can&#39;t be represented exactly in <a href=\"https://en.wikipedia.org/wiki/IEEE_754\" rel=\"nofollow noreferrer\">IEEE-754</a> floating-point representation. In a <code>float</code>, it is represented as <code>0.100000001490116119384765625</code>. In a <code>double</code>, it is represented as <code>0.100000000000000005551115123126</code>. You can test this <a href=\"https://www.binaryconvert.com/convert_double.html\" rel=\"nofollow noreferrer\">here</a>. If it prints <code>&quot;0.1&quot;</code> with you, that merely means that the number you are printing is rounded before printing."},{"owner":{"account_id":2119809,"reputation":50969,"user_id":1883316,"display_name":"Tim Roberts"},"score":1,"creation_date":1688267969,"post_id":76597231,"comment_id":135050323,"body_markdown":"Rounding error.  `0.3` and `0.2` are also just approximations.  The expression `0.3 - 0.2` produces a number that is slightly different (probably by one bit) from the number `0.1`.","body":"Rounding error.  <code>0.3</code> and <code>0.2</code> are also just approximations.  The expression <code>0.3 - 0.2</code> produces a number that is slightly different (probably by one bit) from the number <code>0.1</code>."},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1688268411,"post_id":76597231,"comment_id":135050343,"body_markdown":"*&quot;Why is there no loss of precision in direct assignment of floating point numbers?&quot;* - In fact, there &gt;is&lt; loss of precision when a *literal* is assigned to a `double` or `float`.  You can demonstrate this by trying to assign `0.10000000000000000000001` to a `float` or `double` variable and then printing it.  (Actually, the loss of precision occurs at compile time ... but lets not split hairs.)","body":"<i>&quot;Why is there no loss of precision in direct assignment of floating point numbers?&quot;</i> - In fact, there &gt;is&lt; loss of precision when a <i>literal</i> is assigned to a <code>double</code> or <code>float</code>.  You can demonstrate this by trying to assign <code>0.10000000000000000000001</code> to a <code>float</code> or <code>double</code> variable and then printing it.  (Actually, the loss of precision occurs at compile time ... but lets not split hairs.)"},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":2,"creation_date":1688268695,"post_id":76597231,"comment_id":135050358,"body_markdown":"Anyway ... you are unlikely to understand this properly by doing experiments.  If you want to understand, you need to do some reading.  Read [What Every Computer Scientist Should Know About Floating-Point Arithmetic](http://download.oracle.com/docs/cd/E19957-01/806-3568/ncg_goldberg.html).  Then read it again.","body":"Anyway ... you are unlikely to understand this properly by doing experiments.  If you want to understand, you need to do some reading.  Read <a href=\"http://download.oracle.com/docs/cd/E19957-01/806-3568/ncg_goldberg.html\" rel=\"nofollow noreferrer\">What Every Computer Scientist Should Know About Floating-Point Arithmetic</a>.  Then read it again."},{"owner":{"account_id":3710720,"reputation":25429,"user_id":3088138,"display_name":"Lutz Lehmann"},"score":0,"creation_date":1688281809,"post_id":76597231,"comment_id":135051202,"body_markdown":"You have `0.5 &gt; 0.3 &gt; 0.25 &gt; 0.2 &gt; 0.125 &gt; 0.1`. Thus the result of the subtraction requires bits in the last two places of the mantissa for 0.1 that are not present in 0.3 and 0.2. This invention of or default for these bits can be wrong, and here it obviously is.","body":"You have <code>0.5 &gt; 0.3 &gt; 0.25 &gt; 0.2 &gt; 0.125 &gt; 0.1</code>. Thus the result of the subtraction requires bits in the last two places of the mantissa for 0.1 that are not present in 0.3 and 0.2. This invention of or default for these bits can be wrong, and here it obviously is."},{"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"score":0,"creation_date":1688574652,"post_id":76597231,"comment_id":135092923,"body_markdown":"The reason `println(0.1)` prints out &quot;0.1&quot; is explained by the answers to [this question](https://stackoverflow.com/questions/76588445/formatting-doubles-with-highest-possible-precision).","body":"The reason <code>println(0.1)</code> prints out &quot;0.1&quot; is explained by the answers to <a href=\"https://stackoverflow.com/questions/76588445/formatting-doubles-with-highest-possible-precision\">this question</a>."}],"owner":{"account_id":15796924,"reputation":21,"user_id":11398484,"display_name":"feilong gao"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1688266311,"answer_count":0,"score":1,"last_activity_date":1688267675,"creation_date":1688266085,"question_id":76597231,"body_markdown":"We know that floating-point numbers have precision loss problems due to memory layout.\r\n\r\n1. In mathematics, binary cannot be 100% mapped to decimal decimals.\r\n2. Scientific notation may ignore some small intervals.\r\n\r\nWhy is it normal to print a floating point number 0.1, but it is inaccurate to print 0.3-0.2?\r\n[![enter image description here](https://i.stack.imgur.com/QWnbt.png)](https://i.stack.imgur.com/QWnbt.png)\r\n\r\nI have tried so many tests, many cases.","title":"Why is there no loss of precision in direct assignment of floating point numbers?","body":"<p>We know that floating-point numbers have precision loss problems due to memory layout.</p>\n<ol>\n<li>In mathematics, binary cannot be 100% mapped to decimal decimals.</li>\n<li>Scientific notation may ignore some small intervals.</li>\n</ol>\n<p>Why is it normal to print a floating point number 0.1, but it is inaccurate to print 0.3-0.2?\n<a href=\"https://i.stack.imgur.com/QWnbt.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/QWnbt.png\" alt=\"enter image description here\" /></a></p>\n<p>I have tried so many tests, many cases.</p>\n"},{"tags":["java","linux","windows","maven","exception"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1688210111,"post_id":76594421,"comment_id":135045475,"body_markdown":"Not sure what&#39;s actually causing that but I&#39;d compile the source on Linux as a quick (potential) solution","body":"Not sure what&#39;s actually causing that but I&#39;d compile the source on Linux as a quick (potential) solution"},{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":1,"creation_date":1688212355,"post_id":76594421,"comment_id":135045672,"body_markdown":"Without the code it&#39;s impossible to even guess..","body":"Without the code it&#39;s impossible to even guess.."},{"owner":{"account_id":11616967,"reputation":13,"user_id":8509343,"display_name":"Hesitha Wijayasinghe"},"score":0,"creation_date":1688266981,"post_id":76594421,"comment_id":135050259,"body_markdown":"@g00se I want to compile it in windows and run in any platform. Java should support it right?","body":"@g00se I want to compile it in windows and run in any platform. Java should support it right?"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1688287787,"post_id":76594421,"comment_id":135051713,"body_markdown":"*Should* yes, but I&#39;m taking a guess it&#39;s not so much the OS here that&#39;s the problem as a subtle variation in the binary format of your timezone database.","body":"<i>Should</i> yes, but I&#39;m taking a guess it&#39;s not so much the OS here that&#39;s the problem as a subtle variation in the binary format of your timezone database."}],"answers":[{"tags":[],"owner":{"account_id":11616967,"reputation":13,"user_id":8509343,"display_name":"Hesitha Wijayasinghe"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1688267194,"creation_date":1688267194,"answer_id":76597265,"question_id":76594421,"body_markdown":"After so much research I found a solution. I didn&#39;t want to compile the code in linux. Since java is cross platform supported it should run in linux. \r\nThe error said something is wrong with &#39;java.base/sun.util.calendar.ZoneInfoFile&#39;. According to the following I copied windows jdk tzdb.dat file into linux jdk. That solved the issue. now my jar is running in linux. Perhaps tzdb.dat in linux jdk is corrupted. I have no idea about that. \r\nhttps://stackoverflow.com/questions/55476716/how-to-fix-tzdb-dat-not-found-error-in-java\r\nhttps://stackoverflow.com/questions/39394450/compiler-error-java-lang-error-file-not-found-exception\r\n\r\n","title":"Getting java.io.streamcorruptedexception when run in linux","body":"<p>After so much research I found a solution. I didn't want to compile the code in linux. Since java is cross platform supported it should run in linux.\nThe error said something is wrong with 'java.base/sun.util.calendar.ZoneInfoFile'. According to the following I copied windows jdk tzdb.dat file into linux jdk. That solved the issue. now my jar is running in linux. Perhaps tzdb.dat in linux jdk is corrupted. I have no idea about that.\n<a href=\"https://stackoverflow.com/questions/55476716/how-to-fix-tzdb-dat-not-found-error-in-java\">How to fix tzdb.dat not found error in java?</a>\n<a href=\"https://stackoverflow.com/questions/39394450/compiler-error-java-lang-error-file-not-found-exception\">Compiler Error java.Lang.Error file not found exception</a></p>\n"}],"owner":{"account_id":11616967,"reputation":13,"user_id":8509343,"display_name":"Hesitha Wijayasinghe"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":69,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":76597265,"answer_count":1,"score":-1,"last_activity_date":1688267194,"creation_date":1688209777,"question_id":76594421,"body_markdown":"I&#39;m getting following exception when try to run my java application in linux. java application was compiled and built in windows intellij using maven. openJDK 19 is used in both windows and linux. This is run in windows without any issue.\r\n\r\n```\r\nException in thread &quot;main&quot; java.lang.Error: java.io.StreamCorruptedException: File format not recognised\r\n        at java.base/sun.util.calendar.ZoneInfoFile$1.run(ZoneInfoFile.java:270)\r\n        at java.base/sun.util.calendar.ZoneInfoFile$1.run(ZoneInfoFile.java:260)\r\n        at java.base/java.security.AccessController.doPrivileged(AccessController.java:318)\r\n        at java.base/sun.util.calendar.ZoneInfoFile.loadTZDB(ZoneInfoFile.java:260)\r\n        at java.base/sun.util.calendar.ZoneInfoFile.&lt;clinit&gt;(ZoneInfoFile.java:255)\r\n        at java.base/sun.util.calendar.ZoneInfo.getTimeZone(ZoneInfo.java:589)\r\n        at java.base/java.util.TimeZone.getTimeZone(TimeZone.java:585)\r\n        at java.base/java.util.TimeZone.setDefaultZone(TimeZone.java:690)\r\n        at java.base/java.util.TimeZone.getDefaultRef(TimeZone.java:661)\r\n        at java.base/java.util.TimeZone.getDefault(TimeZone.java:650)\r\n        at java.base/java.time.ZoneId.systemDefault(ZoneId.java:274)\r\n        at org.springframework.boot.loader.jar.CentralDirectoryFileHeader.decodeMsDosFormatDateTime(CentralDirectoryFileHeader.java:165)\r\n        at org.springframework.boot.loader.jar.CentralDirectoryFileHeader.getTime(CentralDirectoryFileHeader.java:148)\r\n        at org.springframework.boot.loader.jar.JarEntry.&lt;init&gt;(JarEntry.java:59)\r\n        at org.springframework.boot.loader.jar.JarFileEntries.getEntry(JarFileEntries.java:303)\r\n        at org.springframework.boot.loader.jar.JarFileEntries$EntryIterator.next(JarFileEntries.java:410)\r\n        at org.springframework.boot.loader.jar.JarFileEntries$EntryIterator.next(JarFileEntries.java:385)\r\n        at org.springframework.boot.loader.archive.JarFileArchive$AbstractIterator.poll(JarFileArchive.java:233)\r\n        at org.springframework.boot.loader.archive.JarFileArchive$AbstractIterator.&lt;init&gt;(JarFileArchive.java:216)\r\n        at org.springframework.boot.loader.archive.JarFileArchive$NestedArchiveIterator.&lt;init&gt;(JarFileArchive.java:268)\r\n        at org.springframework.boot.loader.archive.JarFileArchive.getNestedArchives(JarFileArchive.java:96)\r\n        at org.springframework.boot.loader.ExecutableArchiveLauncher.getClassPathArchivesIterator(ExecutableArchiveLauncher.java:122)\r\n        at org.springframework.boot.loader.Launcher.launch(Launcher.java:55)\r\n        at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:65)\r\nCaused by: java.io.StreamCorruptedException: File format not recognised\r\n        at java.base/sun.util.calendar.ZoneInfoFile.load(ZoneInfoFile.java:304)\r\n        at java.base/sun.util.calendar.ZoneInfoFile$1.run(ZoneInfoFile.java:267)\r\n        ... 23 more\r\n```\r\n\r\nResult for command: java -XshowSettings:properties -version\r\nProperty settings:\r\n   \r\n```\r\n file.encoding = UTF-8\r\n    file.separator = /\r\n    java.class.path =\r\n    java.class.version = 63.0\r\n    java.home = /ibl/dev/swe/appsrv/jboss-eap-6.4/jdk-19.0.1\r\n    java.io.tmpdir = /tmp\r\n    java.library.path = /usr/java/packages/lib\r\n        /usr/lib64\r\n        /lib64\r\n        /lib\r\n        /usr/lib\r\n    java.runtime.name = OpenJDK Runtime Environment\r\n    java.runtime.version = 19.0.1+10-21\r\n    java.specification.name = Java Platform API Specification\r\n    java.specification.vendor = Oracle Corporation\r\n    java.specification.version = 19\r\n    java.vendor = Oracle Corporation\r\n    java.vendor.url = https://java.oracle.com/\r\n    java.vendor.url.bug = https://bugreport.java.com/bugreport/\r\n    java.version = 19.0.1\r\n    java.version.date = 2022-10-18\r\n    java.vm.compressedOopsMode = Zero based\r\n    java.vm.info = mixed mode, sharing\r\n    java.vm.name = OpenJDK 64-Bit Server VM\r\n    java.vm.specification.name = Java Virtual Machine Specification\r\n    java.vm.specification.vendor = Oracle Corporation\r\n    java.vm.specification.version = 19\r\n    java.vm.vendor = Oracle Corporation\r\n    java.vm.version = 19.0.1+10-21\r\n    jdk.debug = release\r\n    line.separator = \\n\r\n    native.encoding = UTF-8\r\n    os.arch = amd64\r\n    os.name = Linux\r\n    os.version = 2.6.32-754.50.1.el6.x86_64\r\n    path.separator = :\r\n    stderr.encoding = UTF-8\r\n    stdout.encoding = UTF-8\r\n    sun.arch.data.model = 64\r\n    sun.boot.library.path = /ibl/dev/swe/appsrv/jboss-eap-6.4/jdk-19.0.1/lib\r\n    sun.cpu.endian = little\r\n    sun.io.unicode.encoding = UnicodeLittle\r\n    sun.java.launcher = SUN_STANDARD\r\n    sun.jnu.encoding = UTF-8\r\n    sun.management.compiler = HotSpot 64-Bit Tiered Compilers\r\n    user.country = US\r\n    user.dir = /ibl/dev/swe/appsrv/jboss-eap-6.4\r\n    user.home = /home/swe_d_jboss\r\n    user.language = en\r\n    user.name = swe_d_jboss\r\n\r\nopenjdk version &quot;19.0.1&quot; 2022-10-18\r\nOpenJDK Runtime Environment (build 19.0.1+10-21)\r\nOpenJDK 64-Bit Server VM (build 19.0.1+10-21, mixed mode, sharing)\r\n```\r\n\r\nI tried to find an answer but didn&#39;t see similar kind of questions. I want to run my java application in linux server.","title":"Getting java.io.streamcorruptedexception when run in linux","body":"<p>I'm getting following exception when try to run my java application in linux. java application was compiled and built in windows intellij using maven. openJDK 19 is used in both windows and linux. This is run in windows without any issue.</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.Error: java.io.StreamCorruptedException: File format not recognised\n        at java.base/sun.util.calendar.ZoneInfoFile$1.run(ZoneInfoFile.java:270)\n        at java.base/sun.util.calendar.ZoneInfoFile$1.run(ZoneInfoFile.java:260)\n        at java.base/java.security.AccessController.doPrivileged(AccessController.java:318)\n        at java.base/sun.util.calendar.ZoneInfoFile.loadTZDB(ZoneInfoFile.java:260)\n        at java.base/sun.util.calendar.ZoneInfoFile.&lt;clinit&gt;(ZoneInfoFile.java:255)\n        at java.base/sun.util.calendar.ZoneInfo.getTimeZone(ZoneInfo.java:589)\n        at java.base/java.util.TimeZone.getTimeZone(TimeZone.java:585)\n        at java.base/java.util.TimeZone.setDefaultZone(TimeZone.java:690)\n        at java.base/java.util.TimeZone.getDefaultRef(TimeZone.java:661)\n        at java.base/java.util.TimeZone.getDefault(TimeZone.java:650)\n        at java.base/java.time.ZoneId.systemDefault(ZoneId.java:274)\n        at org.springframework.boot.loader.jar.CentralDirectoryFileHeader.decodeMsDosFormatDateTime(CentralDirectoryFileHeader.java:165)\n        at org.springframework.boot.loader.jar.CentralDirectoryFileHeader.getTime(CentralDirectoryFileHeader.java:148)\n        at org.springframework.boot.loader.jar.JarEntry.&lt;init&gt;(JarEntry.java:59)\n        at org.springframework.boot.loader.jar.JarFileEntries.getEntry(JarFileEntries.java:303)\n        at org.springframework.boot.loader.jar.JarFileEntries$EntryIterator.next(JarFileEntries.java:410)\n        at org.springframework.boot.loader.jar.JarFileEntries$EntryIterator.next(JarFileEntries.java:385)\n        at org.springframework.boot.loader.archive.JarFileArchive$AbstractIterator.poll(JarFileArchive.java:233)\n        at org.springframework.boot.loader.archive.JarFileArchive$AbstractIterator.&lt;init&gt;(JarFileArchive.java:216)\n        at org.springframework.boot.loader.archive.JarFileArchive$NestedArchiveIterator.&lt;init&gt;(JarFileArchive.java:268)\n        at org.springframework.boot.loader.archive.JarFileArchive.getNestedArchives(JarFileArchive.java:96)\n        at org.springframework.boot.loader.ExecutableArchiveLauncher.getClassPathArchivesIterator(ExecutableArchiveLauncher.java:122)\n        at org.springframework.boot.loader.Launcher.launch(Launcher.java:55)\n        at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:65)\nCaused by: java.io.StreamCorruptedException: File format not recognised\n        at java.base/sun.util.calendar.ZoneInfoFile.load(ZoneInfoFile.java:304)\n        at java.base/sun.util.calendar.ZoneInfoFile$1.run(ZoneInfoFile.java:267)\n        ... 23 more\n</code></pre>\n<p>Result for command: java -XshowSettings:properties -version\nProperty settings:</p>\n<pre><code> file.encoding = UTF-8\n    file.separator = /\n    java.class.path =\n    java.class.version = 63.0\n    java.home = /ibl/dev/swe/appsrv/jboss-eap-6.4/jdk-19.0.1\n    java.io.tmpdir = /tmp\n    java.library.path = /usr/java/packages/lib\n        /usr/lib64\n        /lib64\n        /lib\n        /usr/lib\n    java.runtime.name = OpenJDK Runtime Environment\n    java.runtime.version = 19.0.1+10-21\n    java.specification.name = Java Platform API Specification\n    java.specification.vendor = Oracle Corporation\n    java.specification.version = 19\n    java.vendor = Oracle Corporation\n    java.vendor.url = https://java.oracle.com/\n    java.vendor.url.bug = https://bugreport.java.com/bugreport/\n    java.version = 19.0.1\n    java.version.date = 2022-10-18\n    java.vm.compressedOopsMode = Zero based\n    java.vm.info = mixed mode, sharing\n    java.vm.name = OpenJDK 64-Bit Server VM\n    java.vm.specification.name = Java Virtual Machine Specification\n    java.vm.specification.vendor = Oracle Corporation\n    java.vm.specification.version = 19\n    java.vm.vendor = Oracle Corporation\n    java.vm.version = 19.0.1+10-21\n    jdk.debug = release\n    line.separator = \\n\n    native.encoding = UTF-8\n    os.arch = amd64\n    os.name = Linux\n    os.version = 2.6.32-754.50.1.el6.x86_64\n    path.separator = :\n    stderr.encoding = UTF-8\n    stdout.encoding = UTF-8\n    sun.arch.data.model = 64\n    sun.boot.library.path = /ibl/dev/swe/appsrv/jboss-eap-6.4/jdk-19.0.1/lib\n    sun.cpu.endian = little\n    sun.io.unicode.encoding = UnicodeLittle\n    sun.java.launcher = SUN_STANDARD\n    sun.jnu.encoding = UTF-8\n    sun.management.compiler = HotSpot 64-Bit Tiered Compilers\n    user.country = US\n    user.dir = /ibl/dev/swe/appsrv/jboss-eap-6.4\n    user.home = /home/swe_d_jboss\n    user.language = en\n    user.name = swe_d_jboss\n\nopenjdk version &quot;19.0.1&quot; 2022-10-18\nOpenJDK Runtime Environment (build 19.0.1+10-21)\nOpenJDK 64-Bit Server VM (build 19.0.1+10-21, mixed mode, sharing)\n</code></pre>\n<p>I tried to find an answer but didn't see similar kind of questions. I want to run my java application in linux server.</p>\n"},{"tags":["java","swing","awt"],"comments":[{"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - 退した"},"score":0,"creation_date":1688244096,"post_id":76596256,"comment_id":135048870,"body_markdown":"Use [CardLayout](https://docs.oracle.com/javase/tutorial/uiswing/layout/card.html) to do this sort of thing.","body":"Use <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/layout/card.html\" rel=\"nofollow noreferrer\">CardLayout</a> to do this sort of thing."},{"owner":{"account_id":17782618,"reputation":232,"user_id":12913664,"display_name":"Dante S."},"score":0,"creation_date":1688246290,"post_id":76596256,"comment_id":135049084,"body_markdown":"@DevilsHnd tried your proposal, and as I suspected when looking at that tutorial before your comment, CardLayout only allows displaying one element at a time. Whereas I need it to be drawn one on top of the other. But thanks anyway!","body":"@DevilsHnd tried your proposal, and as I suspected when looking at that tutorial before your comment, CardLayout only allows displaying one element at a time. Whereas I need it to be drawn one on top of the other. But thanks anyway!"},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1688253668,"post_id":76596256,"comment_id":135049593,"body_markdown":"Add each component to its parent","body":"Add each component to its parent"}],"answers":[{"comments":[{"owner":{"account_id":17782618,"reputation":232,"user_id":12913664,"display_name":"Dante S."},"score":0,"creation_date":1688262331,"post_id":76596914,"comment_id":135050054,"body_markdown":"Thanks for the help and advice! Although I wanted to clarify that the miscalculation of the preferred and the minimum size are due to the fact that all the components measure the same (which makes the for loop unnecessary) and there are no insets. Also, I don&#39;t want the parent to adapt to the layout, I want the layout to adapt to the parent. I didn&#39;t know about the GridBagLayout, thanks!","body":"Thanks for the help and advice! Although I wanted to clarify that the miscalculation of the preferred and the minimum size are due to the fact that all the components measure the same (which makes the for loop unnecessary) and there are no insets. Also, I don&#39;t want the parent to adapt to the layout, I want the layout to adapt to the parent. I didn&#39;t know about the GridBagLayout, thanks!"},{"owner":{"account_id":17782618,"reputation":232,"user_id":12913664,"display_name":"Dante S."},"score":0,"creation_date":1688262481,"post_id":76596914,"comment_id":135050058,"body_markdown":"In any case, I have been considering that since it deals with images, it is not convenient for me to use components for each one, but to write my own algorithm to draw them optimally. I don&#39;t need those images to process events or have bounds. When I have something set up, I&#39;ll post the answer for the specific case, but I&#39;ll accept yours as it&#39;s more general and focused on the problem.","body":"In any case, I have been considering that since it deals with images, it is not convenient for me to use components for each one, but to write my own algorithm to draw them optimally. I don&#39;t need those images to process events or have bounds. When I have something set up, I&#39;ll post the answer for the specific case, but I&#39;ll accept yours as it&#39;s more general and focused on the problem."},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1688262980,"post_id":76596914,"comment_id":135050077,"body_markdown":"@DanteS. Yes, as a general recommendation, I would follow a custom painting route in those cases. When asking questions, it&#39;s helpful if you provide those details, as it would help us to better provide you with possibly better solutions you may not have thought about","body":"@DanteS. Yes, as a general recommendation, I would follow a custom painting route in those cases. When asking questions, it&#39;s helpful if you provide those details, as it would help us to better provide you with possibly better solutions you may not have thought about"},{"owner":{"account_id":17782618,"reputation":232,"user_id":12913664,"display_name":"Dante S."},"score":0,"creation_date":1688263488,"post_id":76596914,"comment_id":135050093,"body_markdown":"Thanks, I&#39;ll keep that in mind next time! I hope your answer will help someone in the future who is not working with images.","body":"Thanks, I&#39;ll keep that in mind next time! I hope your answer will help someone in the future who is not working with images."}],"tags":[],"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1688254691,"creation_date":1688254691,"answer_id":76596914,"question_id":76596256,"body_markdown":"# You could...\r\n\r\nMake use of a `GridBagLayout`, it will give you control over the positioning of the components...\r\n\r\n[![enter image description here][1]][1]\r\n\r\n    import java.awt.Component;\r\n    import java.awt.Container;\r\n    import java.awt.Dimension;\r\n    import java.awt.EventQueue;\r\n    import java.awt.Graphics;\r\n    import java.awt.Graphics2D;\r\n    import java.awt.GridBagConstraints;\r\n    import java.awt.GridBagLayout;\r\n    import java.awt.Insets;\r\n    import java.awt.LayoutManager;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JLabel;\r\n    import javax.swing.JPanel;\r\n    import javax.swing.border.EmptyBorder;\r\n\r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            new Main();\r\n        }\r\n\r\n        public Main() {\r\n            EventQueue.invokeLater(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    JFrame frame = new JFrame();\r\n                    frame.add(new TestPane());\r\n                    frame.pack();\r\n                    frame.setLocationRelativeTo(null);\r\n                    frame.setVisible(true);\r\n                }\r\n            });\r\n        }\r\n\r\n        public class TestPane extends JPanel {\r\n\r\n            public TestPane() {\r\n                setBorder(new EmptyBorder(32, 32, 32, 32));\r\n                setLayout(new GridBagLayout());\r\n                BannerPane banner = new BannerPane();\r\n                banner.add(new JLabel(&quot;I was added first&quot;));\r\n                banner.add(new JLabel(&quot;I was added second&quot;));\r\n                banner.add(new JLabel(&quot;I was added third&quot;));\r\n\r\n                add(banner);\r\n            }\r\n        }\r\n\r\n        public class BannerPane extends JPanel {\r\n            private GridBagConstraints defaultConstraints;\r\n\r\n            public BannerPane() {\r\n                setLayout(new GridBagLayout());\r\n                defaultConstraints = new GridBagConstraints();\r\n                defaultConstraints.anchor = GridBagConstraints.FIRST_LINE_START;\r\n                defaultConstraints.gridx = 0;\r\n                defaultConstraints.gridy = 0;\r\n                defaultConstraints.fill = GridBagConstraints.BOTH;\r\n            }\r\n\r\n            @Override\r\n            public Component add(Component comp) {\r\n                super.add(comp, defaultConstraints);\r\n                return comp;\r\n            }\r\n\r\n            @Override\r\n            public void add(Component comp, Object constraints) {\r\n                super.add(comp, defaultConstraints);\r\n            }\r\n\r\n            @Override\r\n            public Component add(Component comp, int index) {\r\n                super.add(comp, defaultConstraints, index);\r\n                return comp;\r\n            }\r\n\r\n            @Override\r\n            public Component add(String name, Component comp) {\r\n                throw new UnsupportedOperationException(&quot;Not supported&quot;);\r\n            }\r\n\r\n            @Override\r\n            public void add(Component comp, Object constraints, int index) {\r\n                super.add(comp, defaultConstraints, index);\r\n            }\r\n        }\r\n    }\r\n\r\n# You could...\r\n\r\nFix your `BannerLayout` to correctly calculate the `preferred` and `minimum` sizes correctlt\r\n\r\n\r\n    import java.awt.Component;\r\n    import java.awt.Container;\r\n    import java.awt.Dimension;\r\n    import java.awt.EventQueue;\r\n    import java.awt.Graphics;\r\n    import java.awt.Graphics2D;\r\n    import java.awt.GridBagConstraints;\r\n    import java.awt.GridBagLayout;\r\n    import java.awt.Insets;\r\n    import java.awt.LayoutManager;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JLabel;\r\n    import javax.swing.JPanel;\r\n    import javax.swing.border.EmptyBorder;\r\n\r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            new Main();\r\n        }\r\n\r\n        public Main() {\r\n            EventQueue.invokeLater(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    JFrame frame = new JFrame();\r\n                    frame.add(new TestPane());\r\n                    frame.pack();\r\n                    frame.setLocationRelativeTo(null);\r\n                    frame.setVisible(true);\r\n                }\r\n            });\r\n        }\r\n\r\n        public class TestPane extends JPanel {\r\n\r\n            public TestPane() {\r\n                setBorder(new EmptyBorder(32, 32, 32, 32));\r\n                setLayout(new GridBagLayout());\r\n                JPanel banner = new JPanel(new BannerLayout());\r\n                banner.add(new JLabel(&quot;I was added first&quot;));\r\n                banner.add(new JLabel(&quot;I was added second&quot;));\r\n                banner.add(new JLabel(&quot;I was added third&quot;));\r\n\r\n                add(banner);\r\n            }\r\n        }\r\n\r\n        public class BannerLayout implements LayoutManager {\r\n            // add the component, in my case nothing needs to be done\r\n            @Override\r\n            public void addLayoutComponent(String name, Component comp) {\r\n            }\r\n\r\n            // Remove the component. Normally, a cleaning would be done,\r\n            // but I did not see it as necessary\r\n            @Override\r\n            public void removeLayoutComponent(Component comp) {\r\n\r\n            }\r\n\r\n            // I get the preferred size. Since I want the size to be\r\n            // the same as the parent, so I return that same.\r\n            @Override\r\n            public Dimension preferredLayoutSize(Container parent) {\r\n                int width = Integer.MIN_VALUE;\r\n                int height = Integer.MIN_VALUE;\r\n                for (Component child : parent.getComponents()) {\r\n                    width = Integer.max(width, child.getPreferredSize().width);\r\n                    height = Integer.max(height, child.getPreferredSize().height);\r\n                }\r\n                Insets insets = parent.getInsets();\r\n                return new Dimension(width + insets.left + insets.right, height + insets.top + insets.top);\r\n            }\r\n\r\n            // The minimum size is the same as the preferred one\r\n            @Override\r\n            public Dimension minimumLayoutSize(Container parent) {\r\n                int width = Integer.MIN_VALUE;\r\n                int height = Integer.MIN_VALUE;\r\n                for (Component child : parent.getComponents()) {\r\n                    width = Integer.max(width, child.getMinimumSize().width);\r\n                    height = Integer.max(height, child.getMinimumSize().height);\r\n                }\r\n                Insets insets = parent.getInsets();\r\n                return new Dimension(width + insets.left + insets.right, height + insets.top + insets.top);\r\n            }\r\n\r\n            // I give the same size and position to all the components.\r\n            @Override\r\n            public void layoutContainer(Container parent) {\r\n                for (Component comp : parent.getComponents()) {\r\n                    comp.setBounds(0, 0, parent.getWidth(), parent.getHeight());\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/OIM8T.png\r\n\r\n# Which is better?\r\n\r\nThat, I think, would be a matter of opinion.  I tend to prefer the layout manager approach, as that&#39;s its domain of responsibility, however, with the custom component you could always ensure new components are set to the `0` position and change the rendering order (so that new components always appear on top)","title":"place 3 or more components on top of each other and make them fit their parent","body":"<h1>You could...</h1>\n<p>Make use of a <code>GridBagLayout</code>, it will give you control over the positioning of the components...</p>\n<p><a href=\"https://i.stack.imgur.com/OIM8T.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/OIM8T.png\" alt=\"enter image description here\" /></a></p>\n<pre><code>import java.awt.Component;\nimport java.awt.Container;\nimport java.awt.Dimension;\nimport java.awt.EventQueue;\nimport java.awt.Graphics;\nimport java.awt.Graphics2D;\nimport java.awt.GridBagConstraints;\nimport java.awt.GridBagLayout;\nimport java.awt.Insets;\nimport java.awt.LayoutManager;\nimport javax.swing.JFrame;\nimport javax.swing.JLabel;\nimport javax.swing.JPanel;\nimport javax.swing.border.EmptyBorder;\n\npublic class Main {\n    public static void main(String[] args) {\n        new Main();\n    }\n\n    public Main() {\n        EventQueue.invokeLater(new Runnable() {\n            @Override\n            public void run() {\n                JFrame frame = new JFrame();\n                frame.add(new TestPane());\n                frame.pack();\n                frame.setLocationRelativeTo(null);\n                frame.setVisible(true);\n            }\n        });\n    }\n\n    public class TestPane extends JPanel {\n\n        public TestPane() {\n            setBorder(new EmptyBorder(32, 32, 32, 32));\n            setLayout(new GridBagLayout());\n            BannerPane banner = new BannerPane();\n            banner.add(new JLabel(&quot;I was added first&quot;));\n            banner.add(new JLabel(&quot;I was added second&quot;));\n            banner.add(new JLabel(&quot;I was added third&quot;));\n\n            add(banner);\n        }\n    }\n\n    public class BannerPane extends JPanel {\n        private GridBagConstraints defaultConstraints;\n\n        public BannerPane() {\n            setLayout(new GridBagLayout());\n            defaultConstraints = new GridBagConstraints();\n            defaultConstraints.anchor = GridBagConstraints.FIRST_LINE_START;\n            defaultConstraints.gridx = 0;\n            defaultConstraints.gridy = 0;\n            defaultConstraints.fill = GridBagConstraints.BOTH;\n        }\n\n        @Override\n        public Component add(Component comp) {\n            super.add(comp, defaultConstraints);\n            return comp;\n        }\n\n        @Override\n        public void add(Component comp, Object constraints) {\n            super.add(comp, defaultConstraints);\n        }\n\n        @Override\n        public Component add(Component comp, int index) {\n            super.add(comp, defaultConstraints, index);\n            return comp;\n        }\n\n        @Override\n        public Component add(String name, Component comp) {\n            throw new UnsupportedOperationException(&quot;Not supported&quot;);\n        }\n\n        @Override\n        public void add(Component comp, Object constraints, int index) {\n            super.add(comp, defaultConstraints, index);\n        }\n    }\n}\n</code></pre>\n<h1>You could...</h1>\n<p>Fix your <code>BannerLayout</code> to correctly calculate the <code>preferred</code> and <code>minimum</code> sizes correctlt</p>\n<pre><code>import java.awt.Component;\nimport java.awt.Container;\nimport java.awt.Dimension;\nimport java.awt.EventQueue;\nimport java.awt.Graphics;\nimport java.awt.Graphics2D;\nimport java.awt.GridBagConstraints;\nimport java.awt.GridBagLayout;\nimport java.awt.Insets;\nimport java.awt.LayoutManager;\nimport javax.swing.JFrame;\nimport javax.swing.JLabel;\nimport javax.swing.JPanel;\nimport javax.swing.border.EmptyBorder;\n\npublic class Main {\n    public static void main(String[] args) {\n        new Main();\n    }\n\n    public Main() {\n        EventQueue.invokeLater(new Runnable() {\n            @Override\n            public void run() {\n                JFrame frame = new JFrame();\n                frame.add(new TestPane());\n                frame.pack();\n                frame.setLocationRelativeTo(null);\n                frame.setVisible(true);\n            }\n        });\n    }\n\n    public class TestPane extends JPanel {\n\n        public TestPane() {\n            setBorder(new EmptyBorder(32, 32, 32, 32));\n            setLayout(new GridBagLayout());\n            JPanel banner = new JPanel(new BannerLayout());\n            banner.add(new JLabel(&quot;I was added first&quot;));\n            banner.add(new JLabel(&quot;I was added second&quot;));\n            banner.add(new JLabel(&quot;I was added third&quot;));\n\n            add(banner);\n        }\n    }\n\n    public class BannerLayout implements LayoutManager {\n        // add the component, in my case nothing needs to be done\n        @Override\n        public void addLayoutComponent(String name, Component comp) {\n        }\n\n        // Remove the component. Normally, a cleaning would be done,\n        // but I did not see it as necessary\n        @Override\n        public void removeLayoutComponent(Component comp) {\n\n        }\n\n        // I get the preferred size. Since I want the size to be\n        // the same as the parent, so I return that same.\n        @Override\n        public Dimension preferredLayoutSize(Container parent) {\n            int width = Integer.MIN_VALUE;\n            int height = Integer.MIN_VALUE;\n            for (Component child : parent.getComponents()) {\n                width = Integer.max(width, child.getPreferredSize().width);\n                height = Integer.max(height, child.getPreferredSize().height);\n            }\n            Insets insets = parent.getInsets();\n            return new Dimension(width + insets.left + insets.right, height + insets.top + insets.top);\n        }\n\n        // The minimum size is the same as the preferred one\n        @Override\n        public Dimension minimumLayoutSize(Container parent) {\n            int width = Integer.MIN_VALUE;\n            int height = Integer.MIN_VALUE;\n            for (Component child : parent.getComponents()) {\n                width = Integer.max(width, child.getMinimumSize().width);\n                height = Integer.max(height, child.getMinimumSize().height);\n            }\n            Insets insets = parent.getInsets();\n            return new Dimension(width + insets.left + insets.right, height + insets.top + insets.top);\n        }\n\n        // I give the same size and position to all the components.\n        @Override\n        public void layoutContainer(Container parent) {\n            for (Component comp : parent.getComponents()) {\n                comp.setBounds(0, 0, parent.getWidth(), parent.getHeight());\n            }\n        }\n    }\n}\n</code></pre>\n<h1>Which is better?</h1>\n<p>That, I think, would be a matter of opinion.  I tend to prefer the layout manager approach, as that's its domain of responsibility, however, with the custom component you could always ensure new components are set to the <code>0</code> position and change the rendering order (so that new components always appear on top)</p>\n"},{"tags":[],"owner":{"account_id":17782618,"reputation":232,"user_id":12913664,"display_name":"Dante S."},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688266330,"creation_date":1688266330,"answer_id":76597234,"question_id":76596256,"body_markdown":"Note: This answer is only for those looking to have many images on top of each other and control the order in which they are displayed dynamically.\r\n\r\n---\r\n\r\nOne approach that can be taken to the scenario mentioned in the note is to use a JLabel with an icon. This icon is reused every time the jlabel needs to be redrawed. Every time we make a change to the internal list of images, we redraw the icon. We can make it automatic and have it run when there is a change and once the events have been processed.\r\n\r\nThe following code applies that approach. Pressing &quot;+&quot; adds an image of random size and color, and pressing &quot;-&quot; removes a random image.\r\n\r\n**Banner.java**\r\n\r\n    import javax.swing.ImageIcon;\r\n    import javax.swing.JLabel;\r\n    import java.awt.EventQueue;\r\n    import java.awt.Graphics2D;\r\n    import java.awt.Image;\r\n    import java.awt.image.BufferedImage;\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    \r\n    public class Banner extends JLabel{\r\n        private List&lt;Image&gt; images;\r\n    \r\n        // this field indicates if a redraw request has already been sent\r\n        private boolean redraw_sent;\r\n    \r\n        public Banner(){\r\n            this.images = new ArrayList&lt;Image&gt;();\r\n        }\r\n    \r\n        // this function redraws the icon of the jlabel\r\n        private void redrawIcon(){\r\n            this.redraw_sent = false;\r\n    \r\n            int w = 0;\r\n            int h = 0;\r\n    \r\n            for(Image image:this.images){\r\n                w = Math.max(w, image.getWidth(null));\r\n                h = Math.max(h, image.getHeight(null));\r\n            }\r\n    \r\n            BufferedImage image = new BufferedImage(w, h, BufferedImage.TYPE_INT_ARGB);\r\n    \r\n            Graphics2D g2d = (Graphics2D) image.getGraphics();\r\n    \r\n            // we draw the pictures\r\n            for(Image subimg:this.images){\r\n                g2d.drawImage(subimg, 0, 0, null);\r\n            }\r\n    \r\n            ImageIcon icon = (ImageIcon) getIcon();\r\n    \r\n            if(icon == null){\r\n                icon = new ImageIcon();\r\n                setIcon(icon);\r\n            }\r\n    \r\n            icon.setImage(image);\r\n            repaint();\r\n        }\r\n    \r\n        // We make the redraw happen after all events are processed, it has no effect if redraw_sent is true\r\n        public void redraw(){\r\n            if(!this.redraw_sent){\r\n                EventQueue.invokeLater(this::redrawIcon);\r\n                this.redraw_sent = true;\r\n            }\r\n        }\r\n    \r\n        public void addImage(Image img){\r\n            this.images.add(img);\r\n            redraw();\r\n        }\r\n    \r\n        public void removeImage(int index){\r\n            this.images.remove(index);\r\n            redraw();\r\n        }\r\n    \r\n        public int imageCount(){\r\n            return this.images.size();\r\n        }\r\n    }\r\n\r\n**Application.java**\r\n\r\n    import javax.swing.BorderFactory;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JLabel;\r\n    import javax.swing.KeyStroke;\r\n    import java.awt.Color;\r\n    import java.awt.Graphics2D;\r\n    import java.awt.event.ActionEvent;\r\n    import java.awt.event.KeyEvent;\r\n    import java.awt.image.BufferedImage;\r\n    import java.util.Random;\r\n    import java.util.function.Consumer;\r\n    \r\n    public class Application extends JFrame {\r\n        private Banner banner;\r\n    \r\n        public Application(){\r\n            setSize(800, 600);\r\n            setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n    \r\n            this.banner = new Banner();\r\n            this.banner.setHorizontalAlignment(JLabel.CENTER);\r\n            this.banner.setBorder(BorderFactory.createLineBorder(Color.green));\r\n            add(this.banner);\r\n    \r\n            bind(KeyEvent.VK_PLUS, e -&gt; {\r\n                Random random = new Random();\r\n    \r\n                int w = random.nextInt(100);\r\n                int h = random.nextInt(100);\r\n                int r = random.nextInt(256);\r\n                int g = random.nextInt(256);\r\n                int b = random.nextInt(256);\r\n    \r\n                BufferedImage image = new BufferedImage(w, h, BufferedImage.TYPE_INT_ARGB);\r\n    \r\n                Graphics2D g2d = (Graphics2D) image.getGraphics();\r\n                g2d.setColor(new Color(r, g, b));\r\n                g2d.fillRect(0, 0, w, h);\r\n                g2d.dispose();\r\n    \r\n                this.banner.addImage(image);\r\n            });\r\n    \r\n            bind(KeyEvent.VK_MINUS, e -&gt;{\r\n                Random random = new Random();\r\n    \r\n                this.banner.removeImage(random.nextInt(this.banner.imageCount()));\r\n            });\r\n        }\r\n    \r\n        public void bind(int keycode, int modifiers, Consumer&lt;ActionEvent&gt; consumer){\r\n            getRootPane().getInputMap().put(KeyStroke.getKeyStroke(keycode, modifiers), keycode);\r\n            getRootPane().getActionMap().put(keycode, new ConsumerAction(consumer));\r\n        }\r\n    \r\n        public void bind(int keystroke, Consumer&lt;ActionEvent&gt; action){\r\n            bind(keystroke, 0, action);\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            Application app = new Application();\r\n            app.setVisible(true);\r\n        }\r\n    }\r\n\r\n**ConsumerAction.java**\r\n\r\n    import javax.swing.AbstractAction;\r\n    import java.awt.event.ActionEvent;\r\n    import java.util.function.Consumer;\r\n    \r\n    public class ConsumerAction extends AbstractAction {\r\n        private Consumer&lt;ActionEvent&gt; consumer;\r\n    \r\n        public ConsumerAction(Consumer&lt;ActionEvent&gt; consumer){\r\n            this.consumer = consumer;\r\n        }\r\n    \r\n        @Override\r\n        public void actionPerformed(ActionEvent e) {\r\n            this.consumer.accept(e);\r\n        }\r\n    }","title":"place 3 or more components on top of each other and make them fit their parent","body":"<p>Note: This answer is only for those looking to have many images on top of each other and control the order in which they are displayed dynamically.</p>\n<hr />\n<p>One approach that can be taken to the scenario mentioned in the note is to use a JLabel with an icon. This icon is reused every time the jlabel needs to be redrawed. Every time we make a change to the internal list of images, we redraw the icon. We can make it automatic and have it run when there is a change and once the events have been processed.</p>\n<p>The following code applies that approach. Pressing &quot;+&quot; adds an image of random size and color, and pressing &quot;-&quot; removes a random image.</p>\n<p><strong>Banner.java</strong></p>\n<pre><code>import javax.swing.ImageIcon;\nimport javax.swing.JLabel;\nimport java.awt.EventQueue;\nimport java.awt.Graphics2D;\nimport java.awt.Image;\nimport java.awt.image.BufferedImage;\nimport java.util.ArrayList;\nimport java.util.List;\n\npublic class Banner extends JLabel{\n    private List&lt;Image&gt; images;\n\n    // this field indicates if a redraw request has already been sent\n    private boolean redraw_sent;\n\n    public Banner(){\n        this.images = new ArrayList&lt;Image&gt;();\n    }\n\n    // this function redraws the icon of the jlabel\n    private void redrawIcon(){\n        this.redraw_sent = false;\n\n        int w = 0;\n        int h = 0;\n\n        for(Image image:this.images){\n            w = Math.max(w, image.getWidth(null));\n            h = Math.max(h, image.getHeight(null));\n        }\n\n        BufferedImage image = new BufferedImage(w, h, BufferedImage.TYPE_INT_ARGB);\n\n        Graphics2D g2d = (Graphics2D) image.getGraphics();\n\n        // we draw the pictures\n        for(Image subimg:this.images){\n            g2d.drawImage(subimg, 0, 0, null);\n        }\n\n        ImageIcon icon = (ImageIcon) getIcon();\n\n        if(icon == null){\n            icon = new ImageIcon();\n            setIcon(icon);\n        }\n\n        icon.setImage(image);\n        repaint();\n    }\n\n    // We make the redraw happen after all events are processed, it has no effect if redraw_sent is true\n    public void redraw(){\n        if(!this.redraw_sent){\n            EventQueue.invokeLater(this::redrawIcon);\n            this.redraw_sent = true;\n        }\n    }\n\n    public void addImage(Image img){\n        this.images.add(img);\n        redraw();\n    }\n\n    public void removeImage(int index){\n        this.images.remove(index);\n        redraw();\n    }\n\n    public int imageCount(){\n        return this.images.size();\n    }\n}\n</code></pre>\n<p><strong>Application.java</strong></p>\n<pre><code>import javax.swing.BorderFactory;\nimport javax.swing.JFrame;\nimport javax.swing.JLabel;\nimport javax.swing.KeyStroke;\nimport java.awt.Color;\nimport java.awt.Graphics2D;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.KeyEvent;\nimport java.awt.image.BufferedImage;\nimport java.util.Random;\nimport java.util.function.Consumer;\n\npublic class Application extends JFrame {\n    private Banner banner;\n\n    public Application(){\n        setSize(800, 600);\n        setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n\n        this.banner = new Banner();\n        this.banner.setHorizontalAlignment(JLabel.CENTER);\n        this.banner.setBorder(BorderFactory.createLineBorder(Color.green));\n        add(this.banner);\n\n        bind(KeyEvent.VK_PLUS, e -&gt; {\n            Random random = new Random();\n\n            int w = random.nextInt(100);\n            int h = random.nextInt(100);\n            int r = random.nextInt(256);\n            int g = random.nextInt(256);\n            int b = random.nextInt(256);\n\n            BufferedImage image = new BufferedImage(w, h, BufferedImage.TYPE_INT_ARGB);\n\n            Graphics2D g2d = (Graphics2D) image.getGraphics();\n            g2d.setColor(new Color(r, g, b));\n            g2d.fillRect(0, 0, w, h);\n            g2d.dispose();\n\n            this.banner.addImage(image);\n        });\n\n        bind(KeyEvent.VK_MINUS, e -&gt;{\n            Random random = new Random();\n\n            this.banner.removeImage(random.nextInt(this.banner.imageCount()));\n        });\n    }\n\n    public void bind(int keycode, int modifiers, Consumer&lt;ActionEvent&gt; consumer){\n        getRootPane().getInputMap().put(KeyStroke.getKeyStroke(keycode, modifiers), keycode);\n        getRootPane().getActionMap().put(keycode, new ConsumerAction(consumer));\n    }\n\n    public void bind(int keystroke, Consumer&lt;ActionEvent&gt; action){\n        bind(keystroke, 0, action);\n    }\n\n    public static void main(String[] args) {\n        Application app = new Application();\n        app.setVisible(true);\n    }\n}\n</code></pre>\n<p><strong>ConsumerAction.java</strong></p>\n<pre><code>import javax.swing.AbstractAction;\nimport java.awt.event.ActionEvent;\nimport java.util.function.Consumer;\n\npublic class ConsumerAction extends AbstractAction {\n    private Consumer&lt;ActionEvent&gt; consumer;\n\n    public ConsumerAction(Consumer&lt;ActionEvent&gt; consumer){\n        this.consumer = consumer;\n    }\n\n    @Override\n    public void actionPerformed(ActionEvent e) {\n        this.consumer.accept(e);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":17782618,"reputation":232,"user_id":12913664,"display_name":"Dante S."},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76596914,"answer_count":2,"score":0,"last_activity_date":1688266330,"creation_date":1688239359,"question_id":76596256,"body_markdown":"What I want to achieve is the following:\r\n\r\n* place 3 or more components on top of each other. They are all the same size and are in the topleft position.\r\n* Resize all components to match the size of the parent.\r\n\r\nThe problem is that I haven&#39;t found anything included in swing or awt nor could I think of a way to achieve this goal.\r\n\r\nAmong what I tried is:\r\n\r\n* Use an OverlayLayout, which does not meet the second point\r\n\r\n* Create my own Layout by extending OverlayLayout. However, I did not manage to get the desired functionality. This could be due to ignorance. I couldn&#39;t find a reference in the javadocs about the method used to set the bounds of each component.\r\n\r\n* Create a BorderLayout inside the first component as indicated in other question (lost link). But I would have to make a hierarchy like comp1 -&gt; comp2 -&gt; comp3, one being a relative of the other, and I was not tempted by the idea.\r\n\r\nNext, I leave a sample code using OverlayLayout so you can test it:\r\n\r\n    import javax.swing.BorderFactory;\r\n    import javax.swing.JLabel;\r\n    import javax.swing.JPanel;\r\n    import javax.swing.OverlayLayout;\r\n    import java.awt.Color;\r\n    \r\n    public class Banner extends JPanel {\r\n        public Banner(int color){\r\n            setLayout(new OverlayLayout(this));\r\n    \r\n            JLabel label = new JLabel(&quot;hola mundo&quot;);\r\n            label.setBorder(BorderFactory.createLineBorder(Color.red));\r\n            add(label);\r\n    \r\n            label = new JLabel(&quot;hele mende&quot;);\r\n            label.setBorder(BorderFactory.createLineBorder(Color.red));\r\n            add(label);\r\n    \r\n            setBackground(Color.green);\r\n        }\r\n    \r\n        @Override\r\n        public boolean isOptimizedDrawingEnabled() {\r\n            return false;\r\n        }\r\n    }\r\n\r\nSo my question is, is there a way to achieve this using a custom or predefined Layout?","title":"place 3 or more components on top of each other and make them fit their parent","body":"<p>What I want to achieve is the following:</p>\n<ul>\n<li>place 3 or more components on top of each other. They are all the same size and are in the topleft position.</li>\n<li>Resize all components to match the size of the parent.</li>\n</ul>\n<p>The problem is that I haven't found anything included in swing or awt nor could I think of a way to achieve this goal.</p>\n<p>Among what I tried is:</p>\n<ul>\n<li><p>Use an OverlayLayout, which does not meet the second point</p>\n</li>\n<li><p>Create my own Layout by extending OverlayLayout. However, I did not manage to get the desired functionality. This could be due to ignorance. I couldn't find a reference in the javadocs about the method used to set the bounds of each component.</p>\n</li>\n<li><p>Create a BorderLayout inside the first component as indicated in other question (lost link). But I would have to make a hierarchy like comp1 -&gt; comp2 -&gt; comp3, one being a relative of the other, and I was not tempted by the idea.</p>\n</li>\n</ul>\n<p>Next, I leave a sample code using OverlayLayout so you can test it:</p>\n<pre><code>import javax.swing.BorderFactory;\nimport javax.swing.JLabel;\nimport javax.swing.JPanel;\nimport javax.swing.OverlayLayout;\nimport java.awt.Color;\n\npublic class Banner extends JPanel {\n    public Banner(int color){\n        setLayout(new OverlayLayout(this));\n\n        JLabel label = new JLabel(&quot;hola mundo&quot;);\n        label.setBorder(BorderFactory.createLineBorder(Color.red));\n        add(label);\n\n        label = new JLabel(&quot;hele mende&quot;);\n        label.setBorder(BorderFactory.createLineBorder(Color.red));\n        add(label);\n\n        setBackground(Color.green);\n    }\n\n    @Override\n    public boolean isOptimizedDrawingEnabled() {\n        return false;\n    }\n}\n</code></pre>\n<p>So my question is, is there a way to achieve this using a custom or predefined Layout?</p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":1099811,"reputation":470,"user_id":1092497,"display_name":"Rahul Wagh"},"score":3,"creation_date":1583925561,"post_id":59328583,"comment_id":107273938,"body_markdown":"You can use applicationRunner to \ntrigger batch job\nmake a rest call, \nflyway run \nSo it depends on what your business case is. Here are some example which you could refer for application runner - https://jhooq.com/applicationrunner-spring-boot/","body":"You can use applicationRunner to  trigger batch job make a rest call,  flyway run  So it depends on what your business case is. Here are some example which you could refer for application runner - <a href=\"https://jhooq.com/applicationrunner-spring-boot/\" rel=\"nofollow noreferrer\">jhooq.com/applicationrunner-spring-boot</a>"},{"owner":{"account_id":7193224,"reputation":634,"user_id":5492826,"accept_rate":25,"display_name":"emrekgn"},"score":0,"creation_date":1637073393,"post_id":59328583,"comment_id":123724471,"body_markdown":"Another case may also be related to readiness/liveness health checks. *liveness* state should only be about the internal state of the service and *readiness* should deal with anything related to &quot;accepting traffic&quot;, so we may want to move any long-running tasks (e.g. initializing some cache, loading some additional data etc.) to `ApplicationRunner` to let Spring handle them before getting &quot;ready&quot;. Spring docs also mention this [here](https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#features.spring-application.application-availability.readiness).","body":"Another case may also be related to readiness/liveness health checks. <i>liveness</i> state should only be about the internal state of the service and <i>readiness</i> should deal with anything related to &quot;accepting traffic&quot;, so we may want to move any long-running tasks (e.g. initializing some cache, loading some additional data etc.) to <code>ApplicationRunner</code> to let Spring handle them before getting &quot;ready&quot;. Spring docs also mention this <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#features.spring-application.application-availability.readiness\" rel=\"nofollow noreferrer\">here</a>."}],"answers":[{"tags":[],"owner":{"account_id":13798611,"reputation":37885,"user_id":9959152,"display_name":"Ryuzaki L"},"comment_count":0,"down_vote_count":0,"up_vote_count":53,"is_accepted":true,"score":53,"last_activity_date":1688264538,"creation_date":1576266972,"answer_id":59329029,"question_id":59328583,"body_markdown":"These runners are used to run the logic on application startup, for example spring boot has [ApplicationRunner][1](Functional Interface) with `run` method.\r\n\r\n&gt;ApplicationRunner run() will get executed, just after applicationcontext is created and before spring boot application startup.\r\n&gt;\r\n&gt;ApplicationRunner takes ApplicationArgument which has convenient methods like getOptionNames(), getOptionValues() and getSourceArgs().\r\n\r\n\r\nAnd [CommandLineRunner][2] is also a Functional Interface with `run` method\r\n\r\n&gt;CommandLineRunner run() will get executed, just after applicationcontext is created and before spring boot application starts up.\r\n&gt;\r\n&gt;It accepts the argument, which are passed at time of server startup.\r\n\r\nBoth of them provides the same functionality and the only difference between `CommandLineRunner` and `ApplicationRunner` is `CommandLineRunner.run()` accepts `String array[]` whereas `ApplicationRunner.run()` accepts `ApplicationArguments` as argument. You can find more information with example at [Guide To Running Logic on Startup in Spring][3]\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/ApplicationRunner.html\r\n  [2]: https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/CommandLineRunner.html\r\n  [3]: https://www.baeldung.com/running-setup-logic-on-startup-in-spring","title":"When and why do we need ApplicationRunner and Runner interface?","body":"<p>These runners are used to run the logic on application startup, for example spring boot has <a href=\"https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/ApplicationRunner.html\" rel=\"noreferrer\">ApplicationRunner</a>(Functional Interface) with <code>run</code> method.</p>\n<blockquote>\n<p>ApplicationRunner run() will get executed, just after applicationcontext is created and before spring boot application startup.</p>\n<p>ApplicationRunner takes ApplicationArgument which has convenient methods like getOptionNames(), getOptionValues() and getSourceArgs().</p>\n</blockquote>\n<p>And <a href=\"https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/CommandLineRunner.html\" rel=\"noreferrer\">CommandLineRunner</a> is also a Functional Interface with <code>run</code> method</p>\n<blockquote>\n<p>CommandLineRunner run() will get executed, just after applicationcontext is created and before spring boot application starts up.</p>\n<p>It accepts the argument, which are passed at time of server startup.</p>\n</blockquote>\n<p>Both of them provides the same functionality and the only difference between <code>CommandLineRunner</code> and <code>ApplicationRunner</code> is <code>CommandLineRunner.run()</code> accepts <code>String array[]</code> whereas <code>ApplicationRunner.run()</code> accepts <code>ApplicationArguments</code> as argument. You can find more information with example at <a href=\"https://www.baeldung.com/running-setup-logic-on-startup-in-spring\" rel=\"noreferrer\">Guide To Running Logic on Startup in Spring</a></p>\n"},{"tags":[],"owner":{"display_name":"user7548672"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1576269383,"creation_date":1576269383,"answer_id":59329503,"question_id":59328583,"body_markdown":"In order to use *ApplicationRunner* or *CommandLineRunner* interfaces, one needs to create a ***Spring bean*** and implement either *ApplicationRunner* or *CommandLineRunner* interfaces, both perform similarly. Once complete, your Spring application will detect your bean. \r\n\r\nIn addition, you can create multiple *ApplicationRunner* or *CommandLineRunner* beans, and control the ordering by implementing either \r\n\r\n - org.springframework.core.Ordered interface \r\n   \r\n       \r\n - org.springframework.core.annotation.Order annotation.\r\n\r\n**use case:**\r\n\r\n 1. One might wish to log some command line arguments.\r\n    \r\n    \r\n 2. You could provide some instructions to the user on termination of this application. \r\n\r\nconsider:\r\n\r\n    @Component\r\n    public class MyBean implements CommandLineRunner {\r\n            \r\n        @Override\r\n        public void run(String...args) throws Exception {\r\n            logger.info(&quot;App started with arguments: &quot; + Arrays.toString(args));\r\n        }\r\n    }\r\n\r\nDetails on [ApplicationRunner][1]\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#boot-features-command-line-runner","title":"When and why do we need ApplicationRunner and Runner interface?","body":"<p>In order to use <em>ApplicationRunner</em> or <em>CommandLineRunner</em> interfaces, one needs to create a <strong><em>Spring bean</em></strong> and implement either <em>ApplicationRunner</em> or <em>CommandLineRunner</em> interfaces, both perform similarly. Once complete, your Spring application will detect your bean. </p>\n\n<p>In addition, you can create multiple <em>ApplicationRunner</em> or <em>CommandLineRunner</em> beans, and control the ordering by implementing either </p>\n\n<ul>\n<li><p>org.springframework.core.Ordered interface </p></li>\n<li><p>org.springframework.core.annotation.Order annotation.</p></li>\n</ul>\n\n<p><strong>use case:</strong></p>\n\n<ol>\n<li><p>One might wish to log some command line arguments.</p></li>\n<li><p>You could provide some instructions to the user on termination of this application. </p></li>\n</ol>\n\n<p>consider:</p>\n\n<pre><code>@Component\npublic class MyBean implements CommandLineRunner {\n\n    @Override\n    public void run(String...args) throws Exception {\n        logger.info(\"App started with arguments: \" + Arrays.toString(args));\n    }\n}\n</code></pre>\n\n<p>Details on <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#boot-features-command-line-runner\" rel=\"nofollow noreferrer\">ApplicationRunner</a></p>\n"},{"tags":[],"owner":{"account_id":9048448,"reputation":151,"user_id":6739672,"display_name":"Nithin Mathew"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1637985669,"creation_date":1637985669,"answer_id":70131953,"question_id":59328583,"body_markdown":"ApplicationRunner and CommandLineRunner are two interfaces Spring Boot provides to run any custom code just before application is fully started.\r\n\r\n\r\nSpring-batch is a batch processing framework. This uses CommandLineRunner to register and start batch jobs at application startup.\r\n\r\nYou can also use this interface to load some master data into cache/perform health checks. \r\n\r\nThe use-case varies from application to application.","title":"When and why do we need ApplicationRunner and Runner interface?","body":"<p>ApplicationRunner and CommandLineRunner are two interfaces Spring Boot provides to run any custom code just before application is fully started.</p>\n<p>Spring-batch is a batch processing framework. This uses CommandLineRunner to register and start batch jobs at application startup.</p>\n<p>You can also use this interface to load some master data into cache/perform health checks.</p>\n<p>The use-case varies from application to application.</p>\n"},{"comments":[{"owner":{"account_id":1032118,"reputation":2439,"user_id":1040245,"accept_rate":80,"display_name":"golimar"},"score":2,"creation_date":1639638455,"post_id":70364137,"comment_id":124401226,"body_markdown":"Could you add more info to your answer?","body":"Could you add more info to your answer?"}],"tags":[],"owner":{"account_id":960009,"reputation":39,"user_id":984579,"display_name":"user984579"},"comment_count":1,"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1639573202,"creation_date":1639573202,"answer_id":70364137,"question_id":59328583,"body_markdown":"Or like this:\r\n\r\n    @Bean\r\n    ApplicationRunner appStarted() {\r\n        return args -&gt; {\r\n            logger.info(&quot;Ready to go - args: {}&quot;, args.getNonOptionArgs());\r\n        };\r\n    }\r\n","title":"When and why do we need ApplicationRunner and Runner interface?","body":"<p>Or like this:</p>\n<pre><code>@Bean\nApplicationRunner appStarted() {\n    return args -&gt; {\n        logger.info(&quot;Ready to go - args: {}&quot;, args.getNonOptionArgs());\n    };\n}\n</code></pre>\n"}],"owner":{"account_id":4746877,"reputation":964,"user_id":3837980,"accept_rate":67,"display_name":"Focus"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":42001,"favorite_count":0,"down_vote_count":1,"up_vote_count":43,"accepted_answer_id":59329029,"answer_count":4,"score":42,"last_activity_date":1688264538,"creation_date":1576264665,"question_id":59328583,"body_markdown":"I&#39;m learning Spring boot. What&#39;s some typical use cases for `ApplicationRunner` or any runner interface? \r\n\r\n```\r\nimport org.junit.jupiter.api.Test;\r\nimport org.springframework.boot.ApplicationArguments;\r\nimport org.springframework.boot.ApplicationRunner;\r\nimport org.springframework.boot.test.context.SpringBootTest;\r\n\r\n@SpringBootTest\r\nclass PersistencedemoApplicationTests implements ApplicationRunner {\r\n\r\n    @Test\r\n    void contextLoads() {\r\n    }\r\n\r\n    @Override\r\n    public void run(ApplicationArguments args) throws Exception {\r\n       // load initial data in test DB\r\n    }\r\n}\r\n```\r\nThis is one case I&#39;m aware of. Anything else? ","title":"When and why do we need ApplicationRunner and Runner interface?","body":"<p>I'm learning Spring boot. What's some typical use cases for <code>ApplicationRunner</code> or any runner interface?</p>\n<pre><code>import org.junit.jupiter.api.Test;\nimport org.springframework.boot.ApplicationArguments;\nimport org.springframework.boot.ApplicationRunner;\nimport org.springframework.boot.test.context.SpringBootTest;\n\n@SpringBootTest\nclass PersistencedemoApplicationTests implements ApplicationRunner {\n\n    @Test\n    void contextLoads() {\n    }\n\n    @Override\n    public void run(ApplicationArguments args) throws Exception {\n       // load initial data in test DB\n    }\n}\n</code></pre>\n<p>This is one case I'm aware of. Anything else?</p>\n"},{"tags":["java","spring","spring-expression-language"],"comments":[{"owner":{"account_id":16275872,"reputation":90,"user_id":11753047,"display_name":"Landry Toutou"},"score":0,"creation_date":1688264350,"post_id":76597149,"comment_id":135050124,"body_markdown":"use UrlResource like this :  &lt;constructor-arg name=&quot;url&quot;&gt;\n        &lt;bean class=&quot;org.springframework.core.io.UrlResource&quot;&gt;\n            &lt;constructor-arg value=&quot;jdbc:mysql://localhost/eltechdb&quot;/&gt;\n        &lt;/bean&gt;\n    &lt;/constructor-arg&gt;","body":"use UrlResource like this :  &lt;constructor-arg name=&quot;url&quot;&gt;         &lt;bean class=&quot;org.springframework.core.io.UrlResource&quot;&gt;             &lt;constructor-arg value=&quot;jdbc:mysql://localhost/eltechdb&quot;/&gt;         &lt;/bean&gt;     &lt;/constructor-arg&gt;"}],"owner":{"account_id":11571418,"reputation":1,"user_id":8478081,"display_name":"Frederic Peugny"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":13,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688263528,"creation_date":1688263528,"question_id":76597149,"body_markdown":"I try to instanciate a bean which has a dependency with another bean with Spring. I have seen examples where the property can be specified in xml &lt;constructor-arg&gt; tags. With standard ype int, String this works but there is a field with URL type and this does not work. Now I tried to face this with a String new File(name).toURI().toURL() conversion but withoutsucess\r\n\r\ncode:\r\n\r\n@Configuration\r\npublic class RemoteServiceConfiguration {\r\n   \r\n\t//@Value(&quot;jdbc:mysql://localhost/eltechdb&quot;)\r\n\tprivate URL url;\r\n\t\r\n\t///@Value(&quot;1000&quot;)\r\n\tprivate int connectionTimeout;\r\n\t\r\n\tpublic URL getUrl() {\r\n\t\treturn url;\r\n\t}\r\n\t\r\n\tpublic int getConnectionTimeout() {\r\n\t\treturn connectionTimeout;\r\n\t}\r\n\t\r\n\tpublic RemoteServiceConfiguration(URL url, int connectionTimeout) {\r\n\t\tthis.url = url;\r\n\t\tthis.connectionTimeout = connectionTimeout;\r\n\t}\r\n}\r\n\r\n    @Service\r\npublic class RemoteService {\r\n   \r\n\t@Value(&quot;#{remoteServiceConfiguration.url}&quot;)\r\n\tprivate URL url;\r\n\t@Value(&quot;#{remoteServiceConfiguration.connectionTimeout}&quot;)\r\n    private int connectionTimeout;\r\n\t\r\n\t@PostConstruct\r\n\tpublic void connect() throws IOException {\r\n\t\tURLConnection openConnection = url.openConnection();\r\n\t\topenConnection.setConnectTimeout(connectionTimeout);\r\n\t}\r\n\t\r\n\tpublic void init() {\r\n\t\tSystem.out.println(&quot;RemoteService created with url &quot;+url);\r\n\t}\r\n\r\n}\r\n\r\n    public class RemoteDemo {\r\n   \r\n\tpublic static void main(String args[]) {\r\n\t   try {\r\n\t\tApplicationContext ac = new ClassPathXmlApplicationContext( new String[] {&quot;bean_config.xml&quot;} );\r\n\t\t\r\n\t\tRemoteServiceConfiguration rmcf = (RemoteServiceConfiguration) ac.getBean(&quot;RemoteServiceConfiguration&quot;);\r\n\t\t\r\n\t\tSystem.out.println(&quot;Remote Config URL is &quot;+rmcf.getUrl());\r\n\t\t\r\n\t   } catch (Exception e) {\r\n\t\t   System.out.println(&quot;Error dependency Inject from config_demo.xml&quot;);\r\n           e.printStackTrace();\r\n\t   }\r\n\t}\r\n}\r\n\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns:p=&quot;http://www.springframework.org/schema/p&quot; xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd &quot;&gt;\r\n\r\n     &lt;bean id=&quot;remoteServiceConfiguration&quot; class=&quot;dev.gayerie.RemoteServiceConfiguration&quot;&gt;\r\n\t &lt;constructor-arg name=&quot;url&quot; value=&quot;jdbc:mysql://localhost/eltechdb&quot;&gt;&lt;/constructor-arg&gt;\r\n\t &lt;constructor-arg name=&quot;connectionTimeout&quot; value=&quot;1000&quot;&gt;&lt;/constructor-arg&gt;\r\n     &lt;/bean&gt;\r\n     \t \r\n     &lt;bean id=&quot;remoteService&quot; class=&quot;dev.gayerie.RemoteService&quot; init-method=&quot;init&quot;&gt;\r\n     &lt;property name=&quot;url&quot; value=&quot;#{remoteServiceConfiguration.url}&quot;/&gt;\r\n     &lt;property name=&quot;connectionTimeout&quot; value=&quot;#{remoteServiceConfiguration.connectionTimeout}&quot;/&gt;\r\n     &lt;/bean&gt;\r\n\r\n\t\r\n&lt;/beans&gt;\r\n\r\n\r\n    AVERTISSEMENT: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;remoteServiceConfiguration&#39; defined in class path resource [bean_config.xml]: Unsatisfied dependency expressed through constructor parameter 0: Could not convert argument value of type [java.lang.String] to required type [java.net.URL]: Failed to convert value of type &#39;java.lang.String&#39; to required type &#39;java.net.URL&#39;; nested exception is java.lang.IllegalArgumentException: Could not retrieve URL for class path resource [jdbc:mysql://localhost/eltechdb]: class path resource [jdbc:mysql://localhost/eltechdb] cannot be resolved to URL because it does not exist\r\nError dependency Inject from config_demo.xml\r\norg.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;remoteServiceConfiguration&#39; defined in class path resource [bean_config.xml]: Unsatisfied dependency expressed through constructor parameter 0: Could not convert argument value of type [java.lang.String] to required type [java.net.URL]: Failed to convert value of type &#39;java.lang.String&#39; to required type &#39;java.net.URL&#39;; nested exception is java.lang.IllegalArgumentException: Could not retrieve URL for class path resource [jdbc:mysql://localhost/eltechdb]: class path resource [jdbc:mysql://localhost/eltechdb] cannot be resolved to URL because it does not exist\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:691)\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:192)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1269)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1126)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:545)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:502)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:312)\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:228)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:310)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:756)\r\n\tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:868)\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:549)\r\n\tat org.springframework.context.support.ClassPathXmlApplicationContext.&lt;init&gt;(ClassPathXmlApplicationContext.java:144)\r\n\tat org.springframework.context.support.ClassPathXmlApplicationContext.&lt;init&gt;(ClassPathXmlApplicationContext.java:95)\r\n\tat dev.gayerie.RemoteDemo.main(RemoteDemo.java:10)\r\n\r\nIs there a turn around or pertinent spring expression language to define my bean property of RemoteServiceConfiguration?\r\n","title":"is there a mean to specify a URL property directly to inject with XML definition file in Spring DI?","body":"<p>I try to instanciate a bean which has a dependency with another bean with Spring. I have seen examples where the property can be specified in xml  tags. With standard ype int, String this works but there is a field with URL type and this does not work. Now I tried to face this with a String new File(name).toURI().toURL() conversion but withoutsucess</p>\n<p>code:</p>\n<p>@Configuration\npublic class RemoteServiceConfiguration {</p>\n<pre><code>//@Value(&quot;jdbc:mysql://localhost/eltechdb&quot;)\nprivate URL url;\n\n///@Value(&quot;1000&quot;)\nprivate int connectionTimeout;\n\npublic URL getUrl() {\n    return url;\n}\n\npublic int getConnectionTimeout() {\n    return connectionTimeout;\n}\n\npublic RemoteServiceConfiguration(URL url, int connectionTimeout) {\n    this.url = url;\n    this.connectionTimeout = connectionTimeout;\n}\n</code></pre>\n<p>}</p>\n<pre><code>@Service\n</code></pre>\n<p>public class RemoteService {</p>\n<pre><code>@Value(&quot;#{remoteServiceConfiguration.url}&quot;)\nprivate URL url;\n@Value(&quot;#{remoteServiceConfiguration.connectionTimeout}&quot;)\nprivate int connectionTimeout;\n\n@PostConstruct\npublic void connect() throws IOException {\n    URLConnection openConnection = url.openConnection();\n    openConnection.setConnectTimeout(connectionTimeout);\n}\n\npublic void init() {\n    System.out.println(&quot;RemoteService created with url &quot;+url);\n}\n</code></pre>\n<p>}</p>\n<pre><code>public class RemoteDemo {\n\npublic static void main(String args[]) {\n   try {\n    ApplicationContext ac = new ClassPathXmlApplicationContext( new String[] {&quot;bean_config.xml&quot;} );\n    \n    RemoteServiceConfiguration rmcf = (RemoteServiceConfiguration) ac.getBean(&quot;RemoteServiceConfiguration&quot;);\n    \n    System.out.println(&quot;Remote Config URL is &quot;+rmcf.getUrl());\n    \n   } catch (Exception e) {\n       System.out.println(&quot;Error dependency Inject from config_demo.xml&quot;);\n       e.printStackTrace();\n   }\n}\n</code></pre>\n<p>}</p>\n\n\n<pre><code> &lt;bean id=&quot;remoteServiceConfiguration&quot; class=&quot;dev.gayerie.RemoteServiceConfiguration&quot;&gt;\n &lt;constructor-arg name=&quot;url&quot; value=&quot;jdbc:mysql://localhost/eltechdb&quot;&gt;&lt;/constructor-arg&gt;\n &lt;constructor-arg name=&quot;connectionTimeout&quot; value=&quot;1000&quot;&gt;&lt;/constructor-arg&gt;\n &lt;/bean&gt;\n     \n &lt;bean id=&quot;remoteService&quot; class=&quot;dev.gayerie.RemoteService&quot; init-method=&quot;init&quot;&gt;\n &lt;property name=&quot;url&quot; value=&quot;#{remoteServiceConfiguration.url}&quot;/&gt;\n &lt;property name=&quot;connectionTimeout&quot; value=&quot;#{remoteServiceConfiguration.connectionTimeout}&quot;/&gt;\n &lt;/bean&gt;\n</code></pre>\n\n<pre><code>AVERTISSEMENT: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'remoteServiceConfiguration' defined in class path resource [bean_config.xml]: Unsatisfied dependency expressed through constructor parameter 0: Could not convert argument value of type [java.lang.String] to required type [java.net.URL]: Failed to convert value of type 'java.lang.String' to required type 'java.net.URL'; nested exception is java.lang.IllegalArgumentException: Could not retrieve URL for class path resource [jdbc:mysql://localhost/eltechdb]: class path resource [jdbc:mysql://localhost/eltechdb] cannot be resolved to URL because it does not exist\n</code></pre>\n<p>Error dependency Inject from config_demo.xml\norg.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'remoteServiceConfiguration' defined in class path resource [bean_config.xml]: Unsatisfied dependency expressed through constructor parameter 0: Could not convert argument value of type [java.lang.String] to required type [java.net.URL]: Failed to convert value of type 'java.lang.String' to required type 'java.net.URL'; nested exception is java.lang.IllegalArgumentException: Could not retrieve URL for class path resource [jdbc:mysql://localhost/eltechdb]: class path resource [jdbc:mysql://localhost/eltechdb] cannot be resolved to URL because it does not exist\nat org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:691)\nat org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:192)\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1269)\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1126)\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:545)\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:502)\nat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:312)\nat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:228)\nat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:310)\nat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)\nat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:756)\nat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:868)\nat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:549)\nat org.springframework.context.support.ClassPathXmlApplicationContext.(ClassPathXmlApplicationContext.java:144)\nat org.springframework.context.support.ClassPathXmlApplicationContext.(ClassPathXmlApplicationContext.java:95)\nat dev.gayerie.RemoteDemo.main(RemoteDemo.java:10)</p>\n<p>Is there a turn around or pertinent spring expression language to define my bean property of RemoteServiceConfiguration?</p>\n"},{"tags":["java","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":12536069,"reputation":480,"user_id":9122719,"display_name":"Tal Glik"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1622868337,"creation_date":1622868337,"answer_id":67846361,"question_id":67846210,"body_markdown":"CommandLineRunner is a functional interface with one method that return void.\r\n\r\nThat is why when you write:  {  }; everything is OK.","title":"spring: @bean CommandlineRunner. How it returns an object of type CommandlineRunner","body":"<p>CommandLineRunner is a functional interface with one method that return void.</p>\n<p>That is why when you write:  {  }; everything is OK.</p>\n"},{"tags":[],"owner":{"account_id":1670131,"reputation":715,"user_id":12943627,"display_name":"Tarun"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1622870179,"creation_date":1622869707,"answer_id":67846465,"question_id":67846210,"body_markdown":"**CommandLineRunner** is an interface used to indicate that a bean should run when it is contained within a SpringApplication. A Spring Boot application can have multiple beans implementing **CommandLineRunner**. These can be ordered with ```@Order```.\r\n\r\nIt has one abstract method :\r\n```\r\n    void run(String... args) throws Exception\r\n```\r\n\r\nConsider below example:\r\n\r\n```\r\n@Component\r\npublic class MyCommandLineRunner implements CommandLineRunner {\r\n\r\n    private final Logger logger = LoggerFactory.getLogger(MyCommandLineRunner.class);\r\n\r\n    @Override\r\n    public void run(String... args) throws Exception {\r\n        logger.info(&quot;Loading data...&quot; + args.toString());\r\n\r\n    }\r\n}\r\n```\r\n\r\nSince **CommandLineRunner** contains only only abstract method which return nothing so it automatically becomes the functional interface i.e. we can write lambda expression for it.\r\n\r\nAbove class can be written as :\r\n```\r\n(args) -&gt; { \r\n    logger.info(&quot;Loading data...&quot; + args.toString()) \r\n};\r\n```\r\n\r\n---\r\n\r\nComing to Your example :\r\n```\r\n@Bean\r\npublic CommandLineRunner demo(String... args) {\r\n    return (args) -&gt; {\r\n    };\r\n}\r\n```\r\n\r\nYou are expecting to register a bean in Spring Container which implements **CommandLineRunner** interface so it can converted to lambda expression.\r\n```\r\n(args) -&gt; {};\r\n```\r\n\r\n---\r\n\r\nHope this would clarify it enough.","title":"spring: @bean CommandlineRunner. How it returns an object of type CommandlineRunner","body":"<p><strong>CommandLineRunner</strong> is an interface used to indicate that a bean should run when it is contained within a SpringApplication. A Spring Boot application can have multiple beans implementing <strong>CommandLineRunner</strong>. These can be ordered with <code>@Order</code>.</p>\n<p>It has one abstract method :</p>\n<pre><code>    void run(String... args) throws Exception\n</code></pre>\n<p>Consider below example:</p>\n<pre><code>@Component\npublic class MyCommandLineRunner implements CommandLineRunner {\n\n    private final Logger logger = LoggerFactory.getLogger(MyCommandLineRunner.class);\n\n    @Override\n    public void run(String... args) throws Exception {\n        logger.info(&quot;Loading data...&quot; + args.toString());\n\n    }\n}\n</code></pre>\n<p>Since <strong>CommandLineRunner</strong> contains only only abstract method which return nothing so it automatically becomes the functional interface i.e. we can write lambda expression for it.</p>\n<p>Above class can be written as :</p>\n<pre><code>(args) -&gt; { \n    logger.info(&quot;Loading data...&quot; + args.toString()) \n};\n</code></pre>\n<hr />\n<p>Coming to Your example :</p>\n<pre><code>@Bean\npublic CommandLineRunner demo(String... args) {\n    return (args) -&gt; {\n    };\n}\n</code></pre>\n<p>You are expecting to register a bean in Spring Container which implements <strong>CommandLineRunner</strong> interface so it can converted to lambda expression.</p>\n<pre><code>(args) -&gt; {};\n</code></pre>\n<hr />\n<p>Hope this would clarify it enough.</p>\n"},{"tags":[],"owner":{"account_id":18491426,"reputation":586,"user_id":13470912,"display_name":"nicolass"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1662119649,"creation_date":1662119649,"answer_id":73582171,"question_id":67846210,"body_markdown":"you should check functional interfaces of Java,\r\n \r\nhttps://www.geeksforgeeks.org/functional-interfaces-java/\r\n\r\nIn syntheses,\r\n\r\nA **functional interface** is a Java interface with only one abstract method (i.e., a method which has no instructions, only a name).\r\n\r\nFunctional interfaces are used together with lambda functions. \r\n\r\nSuppose we have a functional interface\r\n\r\n    public interface JustAFunctionalInterface {\r\n          void execute() {};\r\n    }\r\n\r\nNotice we have only an abstract method, which does not do anything (no instructions).\r\n\r\nThis functional interface can be implemented like in your code above:\r\n\r\n    public class Main {\r\n          public static void main(String[] args) {\r\n                JustAFunctionalInterface variable = justAFunctionalInterface();\r\n                variable.execute() // This will print &quot;Hi&quot;\r\n          };\r\n\r\n          public static JustAFunctionalInterface justAFunctionalInterface() {\r\n              return (args) -&gt; {System.out.println(&#39;Hi&#39;)} \r\n          }; // This chunk of code says that this method will return an interface of type \r\n             // JustAFunctionalInterface already implemented, where the abstract method &quot;execute&quot; is assigned the lambda function returned in here\r\n    }\r\n\r\n","title":"spring: @bean CommandlineRunner. How it returns an object of type CommandlineRunner","body":"<p>you should check functional interfaces of Java,</p>\n<p><a href=\"https://www.geeksforgeeks.org/functional-interfaces-java/\" rel=\"nofollow noreferrer\">https://www.geeksforgeeks.org/functional-interfaces-java/</a></p>\n<p>In syntheses,</p>\n<p>A <strong>functional interface</strong> is a Java interface with only one abstract method (i.e., a method which has no instructions, only a name).</p>\n<p>Functional interfaces are used together with lambda functions.</p>\n<p>Suppose we have a functional interface</p>\n<pre><code>public interface JustAFunctionalInterface {\n      void execute() {};\n}\n</code></pre>\n<p>Notice we have only an abstract method, which does not do anything (no instructions).</p>\n<p>This functional interface can be implemented like in your code above:</p>\n<pre><code>public class Main {\n      public static void main(String[] args) {\n            JustAFunctionalInterface variable = justAFunctionalInterface();\n            variable.execute() // This will print &quot;Hi&quot;\n      };\n\n      public static JustAFunctionalInterface justAFunctionalInterface() {\n          return (args) -&gt; {System.out.println('Hi')} \n      }; // This chunk of code says that this method will return an interface of type \n         // JustAFunctionalInterface already implemented, where the abstract method &quot;execute&quot; is assigned the lambda function returned in here\n}\n</code></pre>\n"}],"owner":{"account_id":3459564,"reputation":10438,"user_id":2897115,"accept_rate":50,"display_name":"Santhosh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2057,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":67846465,"answer_count":3,"score":4,"last_activity_date":1688261084,"creation_date":1622866559,"question_id":67846210,"body_markdown":"I have seen in many places \r\n\r\n    @SpringBootApplication\r\n    public class Application {\r\n    \r\n        private static final Logger log =\r\n                LoggerFactory.getLogger(Application.class);\r\n    \r\n        public static void main(String[] args){\r\n            SpringApplication.run(Application.class, args);\r\n        }\r\n    \r\n        @Bean\r\n        public CommandLineRunner demo(UserRepository repo) {\r\n            return (args) -&gt; {\r\n            };\r\n        }\r\n\r\n    }\r\n\r\nhow does\r\n\r\n    @Bean\r\n    public CommandLineRunner demo(UserRepository repo) {\r\n        return (args) -&gt; {\r\n        };\r\n    }\r\n    \r\nreturn an object of type `CommandLineRunner`\r\n\r\nit return a function\r\n\r\n    (args) -&gt; {\r\n            };\r\n\r\nI am not able to understand the syntax also.\r\n\r\nCan someone help me to understand\r\n\r\n","title":"spring: @bean CommandlineRunner. How it returns an object of type CommandlineRunner","body":"<p>I have seen in many places</p>\n<pre><code>@SpringBootApplication\npublic class Application {\n\n    private static final Logger log =\n            LoggerFactory.getLogger(Application.class);\n\n    public static void main(String[] args){\n        SpringApplication.run(Application.class, args);\n    }\n\n    @Bean\n    public CommandLineRunner demo(UserRepository repo) {\n        return (args) -&gt; {\n        };\n    }\n\n}\n</code></pre>\n<p>how does</p>\n<pre><code>@Bean\npublic CommandLineRunner demo(UserRepository repo) {\n    return (args) -&gt; {\n    };\n}\n</code></pre>\n<p>return an object of type <code>CommandLineRunner</code></p>\n<p>it return a function</p>\n<pre><code>(args) -&gt; {\n        };\n</code></pre>\n<p>I am not able to understand the syntax also.</p>\n<p>Can someone help me to understand</p>\n"},{"tags":["java","jetty","geoserver","http-status-code-503"],"comments":[{"owner":{"account_id":406289,"reputation":47511,"user_id":775715,"accept_rate":100,"display_name":"Joakim Erdfelt"},"score":1,"creation_date":1668501987,"post_id":74442491,"comment_id":131414332,"body_markdown":"Logs would be useful.  The error is telling you that the geoserver webapp failed to deploy in the Jetty server, and the logs will tell you why.","body":"Logs would be useful.  The error is telling you that the geoserver webapp failed to deploy in the Jetty server, and the logs will tell you why."},{"owner":{"account_id":2244569,"reputation":4332,"user_id":2045016,"accept_rate":34,"display_name":"slevin"},"score":0,"creation_date":1668504409,"post_id":74442491,"comment_id":131415265,"body_markdown":"@JoakimErdfelt I rin startup.bat .  I keep getting `2022-11-15 11:13:05.253:WARN:oejx.XmlConfiguration:main:\njava.security.PrivilegedActionException: java.io.IOException: Failed to bind to 0.0.0.0/0.0.0.0:8585` I find the task that uses the 8585 port. It is geoserver. I `taskkill` it and try to run startup.bat again, same issue. Geoserver blocks itself?","body":"@JoakimErdfelt I rin startup.bat .  I keep getting <code>2022-11-15 11:13:05.253:WARN:oejx.XmlConfiguration:main: java.security.PrivilegedActionException: java.io.IOException: Failed to bind to 0.0.0.0&#47;0.0.0.0:8585</code> I find the task that uses the 8585 port. It is geoserver. I <code>taskkill</code> it and try to run startup.bat again, same issue. Geoserver blocks itself?"},{"owner":{"account_id":195980,"reputation":10228,"user_id":439194,"accept_rate":100,"display_name":"Ian Turton"},"score":0,"creation_date":1668515952,"post_id":74442491,"comment_id":131419385,"body_markdown":"You only start GeoServer once - either from the command line, the menu or as a service.","body":"You only start GeoServer once - either from the command line, the menu or as a service."}],"answers":[{"tags":[],"owner":{"account_id":22752227,"reputation":11,"user_id":16912238,"display_name":"Daniel Pinto S"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1688258771,"creation_date":1688258771,"answer_id":76597029,"question_id":74442491,"body_markdown":"Not all versions are compatible with the Java JDK 8 and JRE 8. You could check if the version of Java you have supports the version of Geoserver you want to install. In the official documentation they indicate the Java versions compatible with each Geoserver.\r\n\r\n[Java Considerations - User Manual - Geoserver][1]\r\n\r\nIn my case I was trying to run Geoserver 2.23.0 with the JDK and JRE 8 and got the 503 error. I had to uninstall the version I had of Java 8 and install version 17, and repeat the process for unzip and run the Geoserver.\r\n\r\n`sudo apt remove openjdk-8-jre openjdk-8-jdk --purge`\r\n\r\n`sudo apt install openjdk-17-jre`\r\n\r\n`sudo apt install openjdk-17-jdk`\r\n\r\n\r\n  [1]: https://docs.geoserver.org/stable/en/user/production/java.html#production-java","title":"Cannot fix Geoserver Error 503 Service Unavailable","body":"<p>Not all versions are compatible with the Java JDK 8 and JRE 8. You could check if the version of Java you have supports the version of Geoserver you want to install. In the official documentation they indicate the Java versions compatible with each Geoserver.</p>\n<p><a href=\"https://docs.geoserver.org/stable/en/user/production/java.html#production-java\" rel=\"nofollow noreferrer\">Java Considerations - User Manual - Geoserver</a></p>\n<p>In my case I was trying to run Geoserver 2.23.0 with the JDK and JRE 8 and got the 503 error. I had to uninstall the version I had of Java 8 and install version 17, and repeat the process for unzip and run the Geoserver.</p>\n<p><code>sudo apt remove openjdk-8-jre openjdk-8-jdk --purge</code></p>\n<p><code>sudo apt install openjdk-17-jre</code></p>\n<p><code>sudo apt install openjdk-17-jdk</code></p>\n"}],"owner":{"account_id":2244569,"reputation":4332,"user_id":2045016,"accept_rate":34,"display_name":"slevin"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1458,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1688258771,"creation_date":1668500475,"question_id":74442491,"body_markdown":"I have Geoserver 2.21.1 in Windows 10 Pro 64bit. \r\n\r\nI tweaked around to install the [vector tiles output format][1] and enable CORS. \r\n\r\nIn GeoServer\\bin I run shutdown.bat and stopService.bat and startup.bat and startService.bat as admin a couple of times\r\n\r\nI click stop Geoserver and start Geoserver in the windows start menu\r\n\r\nI still get \r\n\r\n    HTTP ERROR 503 Service Unavailable\r\n    URI:\t/geoserver/web\r\n    STATUS:\t503\r\n    MESSAGE:\tService Unavailable\r\n    SERVLET:\t-\r\n    Powered by Jetty:// 9.4.48.v20220622\r\n\r\nWhen visiting `http://localhost:8585/geoserver/web` (I installed it in port 8585).\r\n\r\nI have tried to install a Geoserver with x32 jre, but during the installation Geoserver didn&#39;t recognize it, so I used a x64 and got Geoserver installed.\r\n\r\nHow can I fix this? I am running out of solutions\r\n\r\nThanks\r\n\r\n\r\n\r\n\r\n\r\n\r\n  [1]: https://geoserver.org/release/stable/","title":"Cannot fix Geoserver Error 503 Service Unavailable","body":"<p>I have Geoserver 2.21.1 in Windows 10 Pro 64bit.</p>\n<p>I tweaked around to install the <a href=\"https://geoserver.org/release/stable/\" rel=\"nofollow noreferrer\">vector tiles output format</a> and enable CORS.</p>\n<p>In GeoServer\\bin I run shutdown.bat and stopService.bat and startup.bat and startService.bat as admin a couple of times</p>\n<p>I click stop Geoserver and start Geoserver in the windows start menu</p>\n<p>I still get</p>\n<pre><code>HTTP ERROR 503 Service Unavailable\nURI:    /geoserver/web\nSTATUS: 503\nMESSAGE:    Service Unavailable\nSERVLET:    -\nPowered by Jetty:// 9.4.48.v20220622\n</code></pre>\n<p>When visiting <code>http://localhost:8585/geoserver/web</code> (I installed it in port 8585).</p>\n<p>I have tried to install a Geoserver with x32 jre, but during the installation Geoserver didn't recognize it, so I used a x64 and got Geoserver installed.</p>\n<p>How can I fix this? I am running out of solutions</p>\n<p>Thanks</p>\n"},{"tags":["java","model-view-controller","crud-repository"],"comments":[{"owner":{"account_id":3380632,"reputation":14294,"user_id":2837741,"accept_rate":100,"display_name":"daniu"},"score":1,"creation_date":1687247916,"post_id":76512468,"comment_id":134905988,"body_markdown":"It&#39;s a `private` method? That means you have full control over how the resulting `List` will be used, so you can use that to decide. it&#39;s probably going to be way #2.","body":"It&#39;s a <code>private</code> method? That means you have full control over how the resulting <code>List</code> will be used, so you can use that to decide. it&#39;s probably going to be way #2."},{"owner":{"account_id":13181158,"reputation":420,"user_id":9520479,"display_name":"Jhilton"},"score":1,"creation_date":1687247938,"post_id":76512468,"comment_id":134905992,"body_markdown":"It always depends on usage and purpose. If your only action is to drop the list into an API response, there is nothing much of a difference and `way2` is &quot;ok&quot; due to simplicity. If your service is used as a step on a larger process and `mutability` may become an issue I (personally) may prefer `way1`. If it is not a service method but object state maybe following sonar recommendations https://rules.sonarsource.com/java/RSPEC-2384","body":"It always depends on usage and purpose. If your only action is to drop the list into an API response, there is nothing much of a difference and <code>way2</code> is &quot;ok&quot; due to simplicity. If your service is used as a step on a larger process and <code>mutability</code> may become an issue I (personally) may prefer <code>way1</code>. If it is not a service method but object state maybe following sonar recommendations <a href=\"https://rules.sonarsource.com/java/RSPEC-2384\" rel=\"nofollow noreferrer\">rules.sonarsource.com/java/RSPEC-2384</a>"},{"owner":{"account_id":10276322,"reputation":1023,"user_id":7583108,"display_name":"Bruno Miguel"},"score":1,"creation_date":1687247997,"post_id":76512468,"comment_id":134906000,"body_markdown":"If your use case is simple, I would recommend going for the second option. There is no need for an additional variable that doesn&#39;t serve any real purpose. However, I do have a suggestion regarding your second example. I strongly advise against calling methods inside setters, especially when it involves calling String.valueOf(). It is considered a bad practice, and I personally try to avoid it.","body":"If your use case is simple, I would recommend going for the second option. There is no need for an additional variable that doesn&#39;t serve any real purpose. However, I do have a suggestion regarding your second example. I strongly advise against calling methods inside setters, especially when it involves calling String.valueOf(). It is considered a bad practice, and I personally try to avoid it."},{"owner":{"account_id":9527087,"reputation":324,"user_id":7080004,"display_name":"azer-p"},"score":0,"creation_date":1687251204,"post_id":76512468,"comment_id":134906647,"body_markdown":"@daniu ops! I edited my code. It&#39;s public. Does way#1 take more memory than way#2?","body":"@daniu ops! I edited my code. It&#39;s public. Does way#1 take more memory than way#2?"},{"owner":{"account_id":9527087,"reputation":324,"user_id":7080004,"display_name":"azer-p"},"score":0,"creation_date":1687251410,"post_id":76512468,"comment_id":134906697,"body_markdown":"@BrunoMiguel why it&#39;s a bad practice? Can you explain further?","body":"@BrunoMiguel why it&#39;s a bad practice? Can you explain further?"}],"answers":[{"comments":[{"owner":{"account_id":9527087,"reputation":324,"user_id":7080004,"display_name":"azer-p"},"score":0,"creation_date":1687251462,"post_id":76512545,"comment_id":134906712,"body_markdown":"Does way#1 take more memory than way#2?","body":"Does way#1 take more memory than way#2?"},{"owner":{"account_id":378357,"reputation":346,"user_id":731026,"accept_rate":100,"display_name":"Big_Foot1989"},"score":1,"creation_date":1687271648,"post_id":76512545,"comment_id":134911489,"body_markdown":"Yes but probably not significatntly more. You basically copy over references to the other list. So you pay for holding those references twice until the garbage collector kicks in. But references are usually quite small compared to the data itself. That is sth. that you don&#39;t have to worry about under normal circumstances.","body":"Yes but probably not significatntly more. You basically copy over references to the other list. So you pay for holding those references twice until the garbage collector kicks in. But references are usually quite small compared to the data itself. That is sth. that you don&#39;t have to worry about under normal circumstances."}],"tags":[],"owner":{"account_id":378357,"reputation":346,"user_id":731026,"accept_rate":100,"display_name":"Big_Foot1989"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1687248034,"creation_date":1687248034,"answer_id":76512545,"question_id":76512468,"body_markdown":"If you don&#39;t have any explicit reason why you want to have it in an `ArrayList`, then there is no need to wrap it additionally. I would go with way #2. The important part for the caller is the signature of the method, which defines `List&lt;&gt;` as the return type in both cases. way #1 just makes it harder to understand the code, because it&#39;s more bloated and everyone reading it would be wondering why you put the result in an `ArrayList`. If there are any specific reasons, then you should at least add a comment explaining why. But the default way to go would be #2 for me.","title":"Best practice for returning a list from a repository in the service layer in Java","body":"<p>If you don't have any explicit reason why you want to have it in an <code>ArrayList</code>, then there is no need to wrap it additionally. I would go with way #2. The important part for the caller is the signature of the method, which defines <code>List&lt;&gt;</code> as the return type in both cases. way #1 just makes it harder to understand the code, because it's more bloated and everyone reading it would be wondering why you put the result in an <code>ArrayList</code>. If there are any specific reasons, then you should at least add a comment explaining why. But the default way to go would be #2 for me.</p>\n"},{"tags":[],"owner":{"account_id":4354234,"reputation":845,"user_id":3553434,"display_name":"alalalala"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687249014,"creation_date":1687249014,"answer_id":76512674,"question_id":76512468,"body_markdown":"If you develop a popular product and need to print the number log of SubjectModel in online service?\r\n\r\n    private List&lt;SubjectModel&gt; getSubjectList(int codeId) {\r\n        List&lt;SubjectModel&gt; subjList = subjectRepository.findByCodeId(String.valueOf(codeId));\r\n        log.info(&quot;there is {} SubjectModels&quot;, subjList.size())\r\n        return subjList ;\r\n    }\r\n\r\nBut this is not necessary, during the development process, it is fine according to actual needs","title":"Best practice for returning a list from a repository in the service layer in Java","body":"<p>If you develop a popular product and need to print the number log of SubjectModel in online service?</p>\n<pre><code>private List&lt;SubjectModel&gt; getSubjectList(int codeId) {\n    List&lt;SubjectModel&gt; subjList = subjectRepository.findByCodeId(String.valueOf(codeId));\n    log.info(&quot;there is {} SubjectModels&quot;, subjList.size())\n    return subjList ;\n}\n</code></pre>\n<p>But this is not necessary, during the development process, it is fine according to actual needs</p>\n"}],"owner":{"account_id":9527087,"reputation":324,"user_id":7080004,"display_name":"azer-p"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":196,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":76512545,"answer_count":2,"score":0,"last_activity_date":1688256925,"creation_date":1687247457,"question_id":76512468,"body_markdown":"I&#39;m working on a Java project and I&#39;m unsure about the best practice for returning a list from a repository in the service layer. I&#39;ve come across two different approaches and I&#39;m seeking advice on which one is considered better or more efficient.\r\n\r\nWay #1\r\n```\r\n\tpublic List&lt;SubjectModel&gt; getSubjectList(int codeId) {\r\n\t\tList&lt;SubjectModel&gt; subjList = new ArrayList&lt;&gt;();\r\n\r\n\t\tsubjList.addAll(subjectRepository.findByCodeId(String.valueOf(codeId)));\r\n\r\n\t\treturn subjList ;\r\n\t}\r\n```\r\nor way #2\r\n```\r\n\r\n\tpublic List&lt;SubjectModel&gt; getSubjectList(int codeId) {\r\n\r\n\t\treturn subjectRepository.findByCodeId(String.valueOf(codeId));\r\n\t}\r\n```\r\n\r\nI&#39;m unsure if it&#39;s necessary to create a separate variable (subjList) in Way #1 or if Way #2, which directly returns the repository result, is more preferable. Are there any advantages or disadvantages to either approach? Which one is considered the best practice in the industry?","title":"Best practice for returning a list from a repository in the service layer in Java","body":"<p>I'm working on a Java project and I'm unsure about the best practice for returning a list from a repository in the service layer. I've come across two different approaches and I'm seeking advice on which one is considered better or more efficient.</p>\n<p>Way #1</p>\n<pre><code>    public List&lt;SubjectModel&gt; getSubjectList(int codeId) {\n        List&lt;SubjectModel&gt; subjList = new ArrayList&lt;&gt;();\n\n        subjList.addAll(subjectRepository.findByCodeId(String.valueOf(codeId)));\n\n        return subjList ;\n    }\n</code></pre>\n<p>or way #2</p>\n<pre><code>\n    public List&lt;SubjectModel&gt; getSubjectList(int codeId) {\n\n        return subjectRepository.findByCodeId(String.valueOf(codeId));\n    }\n</code></pre>\n<p>I'm unsure if it's necessary to create a separate variable (subjList) in Way #1 or if Way #2, which directly returns the repository result, is more preferable. Are there any advantages or disadvantages to either approach? Which one is considered the best practice in the industry?</p>\n"},{"tags":["java","spring-boot","spring-mvc","exception"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":3,"creation_date":1688243091,"post_id":76596355,"comment_id":135048771,"body_markdown":"As you are initialize todo with a new instance, the exception will never be thrown.  Use a debugger to verify it.","body":"As you are initialize todo with a new instance, the exception will never be thrown.  Use a debugger to verify it."},{"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"score":0,"creation_date":1688248748,"post_id":76596355,"comment_id":135049270,"body_markdown":"Make sure that your Spring Boot application is running correctly and that the endpoint is accessible. Check if you can access other endpoints successfully.\n\nVerify that the GlobalExceptionHandler class is being scanned and registered by your Spring Boot application. You can check the console logs to see if there are any errors related to scanning or registering the ControllerAdvice class.","body":"Make sure that your Spring Boot application is running correctly and that the endpoint is accessible. Check if you can access other endpoints successfully.  Verify that the GlobalExceptionHandler class is being scanned and registered by your Spring Boot application. You can check the console logs to see if there are any errors related to scanning or registering the ControllerAdvice class."}],"answers":[{"tags":[],"owner":{"account_id":146428,"reputation":9156,"user_id":356887,"accept_rate":78,"display_name":"xdhmoore"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688256346,"creation_date":1688252162,"answer_id":76596838,"question_id":76596355,"body_markdown":"Assuming `todos` is not null but doesn&#39;t contain the id you want (including if `todos` is empty): In your loop, you are setting `todo` equal to every single object you look at no matter if the ids match, so when it finishes unless it found a matching id and returned early it will always be set either to the last item in the list or to the initial `todo=new ToDo()`. So it will never be null. But actually, do you really need this object? What if you remove it and just always throw the exception if the loop is finished? Cause if the loop is finished, the resource hasn&#39;t been found. This also begs the question, what is the semantic difference here between returning null and throwing ResourceNotFoundException? What does returning null actually mean? I suspect you may not need to return null if the exception indicates not found.","title":"Custom exception class not working in springboot","body":"<p>Assuming <code>todos</code> is not null but doesn't contain the id you want (including if <code>todos</code> is empty): In your loop, you are setting <code>todo</code> equal to every single object you look at no matter if the ids match, so when it finishes unless it found a matching id and returned early it will always be set either to the last item in the list or to the initial <code>todo=new ToDo()</code>. So it will never be null. But actually, do you really need this object? What if you remove it and just always throw the exception if the loop is finished? Cause if the loop is finished, the resource hasn't been found. This also begs the question, what is the semantic difference here between returning null and throwing ResourceNotFoundException? What does returning null actually mean? I suspect you may not need to return null if the exception indicates not found.</p>\n"}],"owner":{"account_id":23751949,"reputation":23,"user_id":17768586,"display_name":"ssc1234"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":196,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1688256346,"creation_date":1688241323,"question_id":76596355,"body_markdown":"What I am trying to do is find the todo with the id and when it is not present it throws a custom exception. However on postman I cannot see the exception on postman. It doesn&#39;t show anything.\r\n\r\nCan someone tell me what I am doing wrong?\r\n\r\nExceptionResponse.class\r\n```\r\npackage com.lcwd.todo.exceptions;\r\n\r\nimport org.springframework.http.HttpStatus;\r\n\r\npublic class ExceptionResponse {\r\n    private String message;\r\n    private boolean success;\r\n    private HttpStatus status;\r\n\r\n    public ExceptionResponse(String message, boolean success, HttpStatus status) {\r\n        this.message = message;\r\n        this.success = success;\r\n        this.status = status;\r\n    }\r\n\r\n    public ExceptionResponse() {\r\n    }\r\n\r\n    public String getMessage() {\r\n        return message;\r\n    }\r\n\r\n    public void setMessage(String message) {\r\n        this.message = message;\r\n    }\r\n\r\n    public boolean isSuccess() {\r\n        return success;\r\n    }\r\n\r\n    public void setSuccess(boolean success) {\r\n        this.success = success;\r\n    }\r\n\r\n    public HttpStatus getStatus() {\r\n        return status;\r\n    }\r\n\r\n    public void setStatus(HttpStatus status) {\r\n        this.status = status;\r\n    }\r\n}\r\n```\r\n\r\nGlobalExceptionHandler.class\r\n```\r\npackage com.lcwd.todo.exceptions;\r\n\r\nimport org.slf4j.Logger;\r\nimport org.slf4j.LoggerFactory;\r\nimport org.springframework.http.HttpStatus;\r\nimport org.springframework.http.ResponseEntity;\r\nimport org.springframework.web.bind.annotation.ControllerAdvice;\r\nimport org.springframework.web.bind.annotation.ExceptionHandler;\r\n\r\n@ControllerAdvice\r\npublic class GlobalExceptionHandler {\r\n\r\n    Logger logger= LoggerFactory.getLogger(GlobalExceptionHandler.class);\r\n    @ExceptionHandler(NullPointerException.class)\r\n    public ResponseEntity&lt;String&gt; nullPointerException(NullPointerException ex){\r\n        System.out.println(&quot;This is null pointer exception&quot;);\r\n        logger.info(&quot;It is nullPointerException from GlobalExceptionHandler&quot;);\r\n        return new ResponseEntity&lt;&gt;(ex.getMessage(), HttpStatus.INTERNAL_SERVER_ERROR);\r\n    }\r\n\r\n    @ExceptionHandler(ResourceNotFoundException.class)\r\n    public ResponseEntity&lt;ExceptionResponse&gt; resourceNotFoundExceptionHandler(ResourceNotFoundException ex){\r\n        ExceptionResponse response=new ExceptionResponse();\r\n        response.setMessage(ex.getMessage());\r\n        response.setMessage(ex.getMessage());\r\n        response.setSuccess(false);\r\n        return  ResponseEntity.status(HttpStatus.NOT_FOUND).body(response);\r\n    }\r\n}\r\n```\r\n\r\nResourceNotFoundException.java\r\n```\r\npackage com.lcwd.todo.exceptions;\r\n\r\nimport org.springframework.http.HttpStatus;\r\n\r\npublic class ResourceNotFoundException extends RuntimeException{\r\n    private String message;\r\n    private HttpStatus status;\r\n\r\n    public ResourceNotFoundException( String message, HttpStatus status) {\r\n        super(message);\r\n        this.message = message;\r\n        this.status = status;\r\n    }\r\n\r\n    public ResourceNotFoundException(){\r\n\r\n    }\r\n\r\n\r\n\r\n    @Override\r\n    public String getMessage() {\r\n        return message;\r\n    }\r\n\r\n    public void setMessage(String message) {\r\n        this.message = message;\r\n    }\r\n\r\n    public HttpStatus getStatus() {\r\n        return status;\r\n    }\r\n\r\n    public void setStatus(HttpStatus status) {\r\n        this.status = status;\r\n    }\r\n}\r\n```\r\ngetToDofunction\r\n```\r\n public ToDo getSingleToDo(int id){\r\n        ToDo todo=new ToDo();\r\n        for(ToDo todo1:todos){\r\n            if (todo1.getId() == id) {\r\n                return todo1;\r\n            }\r\n            todo=todo1;\r\n        }\r\n        if(todo==null){\r\n            throw new ResourceNotFoundException(&quot;Resource not found exception&quot;,HttpStatus.NOT_FOUND);\r\n        }\r\n        return null;\r\n    }\r\n```","title":"Custom exception class not working in springboot","body":"<p>What I am trying to do is find the todo with the id and when it is not present it throws a custom exception. However on postman I cannot see the exception on postman. It doesn't show anything.</p>\n<p>Can someone tell me what I am doing wrong?</p>\n<p>ExceptionResponse.class</p>\n<pre><code>package com.lcwd.todo.exceptions;\n\nimport org.springframework.http.HttpStatus;\n\npublic class ExceptionResponse {\n    private String message;\n    private boolean success;\n    private HttpStatus status;\n\n    public ExceptionResponse(String message, boolean success, HttpStatus status) {\n        this.message = message;\n        this.success = success;\n        this.status = status;\n    }\n\n    public ExceptionResponse() {\n    }\n\n    public String getMessage() {\n        return message;\n    }\n\n    public void setMessage(String message) {\n        this.message = message;\n    }\n\n    public boolean isSuccess() {\n        return success;\n    }\n\n    public void setSuccess(boolean success) {\n        this.success = success;\n    }\n\n    public HttpStatus getStatus() {\n        return status;\n    }\n\n    public void setStatus(HttpStatus status) {\n        this.status = status;\n    }\n}\n</code></pre>\n<p>GlobalExceptionHandler.class</p>\n<pre><code>package com.lcwd.todo.exceptions;\n\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\nimport org.springframework.http.HttpStatus;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.web.bind.annotation.ControllerAdvice;\nimport org.springframework.web.bind.annotation.ExceptionHandler;\n\n@ControllerAdvice\npublic class GlobalExceptionHandler {\n\n    Logger logger= LoggerFactory.getLogger(GlobalExceptionHandler.class);\n    @ExceptionHandler(NullPointerException.class)\n    public ResponseEntity&lt;String&gt; nullPointerException(NullPointerException ex){\n        System.out.println(&quot;This is null pointer exception&quot;);\n        logger.info(&quot;It is nullPointerException from GlobalExceptionHandler&quot;);\n        return new ResponseEntity&lt;&gt;(ex.getMessage(), HttpStatus.INTERNAL_SERVER_ERROR);\n    }\n\n    @ExceptionHandler(ResourceNotFoundException.class)\n    public ResponseEntity&lt;ExceptionResponse&gt; resourceNotFoundExceptionHandler(ResourceNotFoundException ex){\n        ExceptionResponse response=new ExceptionResponse();\n        response.setMessage(ex.getMessage());\n        response.setMessage(ex.getMessage());\n        response.setSuccess(false);\n        return  ResponseEntity.status(HttpStatus.NOT_FOUND).body(response);\n    }\n}\n</code></pre>\n<p>ResourceNotFoundException.java</p>\n<pre><code>package com.lcwd.todo.exceptions;\n\nimport org.springframework.http.HttpStatus;\n\npublic class ResourceNotFoundException extends RuntimeException{\n    private String message;\n    private HttpStatus status;\n\n    public ResourceNotFoundException( String message, HttpStatus status) {\n        super(message);\n        this.message = message;\n        this.status = status;\n    }\n\n    public ResourceNotFoundException(){\n\n    }\n\n\n\n    @Override\n    public String getMessage() {\n        return message;\n    }\n\n    public void setMessage(String message) {\n        this.message = message;\n    }\n\n    public HttpStatus getStatus() {\n        return status;\n    }\n\n    public void setStatus(HttpStatus status) {\n        this.status = status;\n    }\n}\n</code></pre>\n<p>getToDofunction</p>\n<pre><code> public ToDo getSingleToDo(int id){\n        ToDo todo=new ToDo();\n        for(ToDo todo1:todos){\n            if (todo1.getId() == id) {\n                return todo1;\n            }\n            todo=todo1;\n        }\n        if(todo==null){\n            throw new ResourceNotFoundException(&quot;Resource not found exception&quot;,HttpStatus.NOT_FOUND);\n        }\n        return null;\n    }\n</code></pre>\n"},{"tags":["java","replace","hashmap"],"comments":[{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":4,"creation_date":1455036537,"post_id":35297537,"comment_id":58305328,"body_markdown":"[Replace](https://docs.oracle.com/javase/8/docs/api/java/util/HashMap.html#replace-K-V-) &quot;Replaces the entry for the specified key only if it is currently mapped to some value&quot;","body":"<a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/HashMap.html#replace-K-V-\" rel=\"nofollow noreferrer\">Replace</a> &quot;Replaces the entry for the specified key only if it is currently mapped to some value&quot;"},{"owner":{"account_id":7166421,"reputation":565,"user_id":5475395,"accept_rate":50,"display_name":"StudentX"},"score":1,"creation_date":1455036595,"post_id":35297537,"comment_id":58305372,"body_markdown":"So I should keep the replace solution ?","body":"So I should keep the replace solution ?"},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":2,"creation_date":1455036639,"post_id":35297537,"comment_id":58305404,"body_markdown":"It shouldn&#39;t matter in that case since if the element exists it should have the same result as `put` anyways - since `containsKey` is used `replace` is only called if there is a mapping.","body":"It shouldn&#39;t matter in that case since if the element exists it should have the same result as <code>put</code> anyways - since <code>containsKey</code> is used <code>replace</code> is only called if there is a mapping."},{"owner":{"account_id":7166421,"reputation":565,"user_id":5475395,"accept_rate":50,"display_name":"StudentX"},"score":1,"creation_date":1455036723,"post_id":35297537,"comment_id":58305465,"body_markdown":"I want the key to stay the same, but the value attached to that key should be incremented by 1, I think using the put function would cause to have 2 times the key with a different value attached to it.","body":"I want the key to stay the same, but the value attached to that key should be incremented by 1, I think using the put function would cause to have 2 times the key with a different value attached to it."},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":3,"creation_date":1455036778,"post_id":35297537,"comment_id":58305504,"body_markdown":"No, maps don&#39;t allow duplicate keys so calling `put` instead of `replace` also results in the old value being removed.","body":"No, maps don&#39;t allow duplicate keys so calling <code>put</code> instead of <code>replace</code> also results in the old value being removed."}],"answers":[{"tags":[],"owner":{"account_id":389881,"reputation":53027,"user_id":749588,"accept_rate":65,"display_name":"Jean Logeart"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1455036696,"creation_date":1455036696,"answer_id":35297631,"question_id":35297537,"body_markdown":"In your case, since you first check if the value is contained in the map, using ``put`` or ``replace`` leads to the same result.\r\n\r\nYou can use either, based on what is more readable to you.","title":"Difference between replace and put for HashMap","body":"<p>In your case, since you first check if the value is contained in the map, using <code>put</code> or <code>replace</code> leads to the same result.</p>\n\n<p>You can use either, based on what is more readable to you.</p>\n"},{"tags":[],"owner":{"account_id":1936546,"reputation":133675,"user_id":1743880,"accept_rate":100,"display_name":"Tunaki"},"comment_count":0,"down_vote_count":0,"up_vote_count":68,"is_accepted":false,"score":68,"last_activity_date":1455038003,"creation_date":1455036720,"answer_id":35297640,"question_id":35297537,"body_markdown":"There is absolutely no difference in `put` and `replace` when there is a current mapping for the wanted key. From [`replace`](https://docs.oracle.com/javase/8/docs/api/java/util/HashMap.html#replace-K-V-):\r\n&gt;Replaces the entry for the specified key only if it is currently mapped to some value.\r\n\r\nThis means that if there is already a mapping for the given key, both `put` and `replace` will update the map in the same way. Both will also return the previous value associated with the key. However, if there is no mapping for that key, then `replace` will be a no-op (will do nothing) whereas `put` will still update the map.\r\n\r\n&lt;hr&gt;\r\n\r\nStarting with Java 8, note that you can just use\r\n\r\n    histogramType1.merge(delay, 1, Integer::sum);\r\n\r\nThis will take care of every condition. From [`merge`](https://docs.oracle.com/javase/8/docs/api/java/util/HashMap.html#merge-K-V-java.util.function.BiFunction-):\r\n&gt;If the specified key is not already associated with a value or is associated with `null`, associates it with the given non-null value. Otherwise, replaces the associated value with the results of the given remapping function, or removes if the result is `null`.\r\n\r\nIn this case, we are creating the entry `delay -&gt; 1` if the entry didn&#39;t exist. If it did exist, it is updated by incrementing the value by 1.","title":"Difference between replace and put for HashMap","body":"<p>There is absolutely no difference in <code>put</code> and <code>replace</code> when there is a current mapping for the wanted key. From <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/HashMap.html#replace-K-V-\" rel=\"noreferrer\"><code>replace</code></a>:</p>\n\n<blockquote>\n  <p>Replaces the entry for the specified key only if it is currently mapped to some value.</p>\n</blockquote>\n\n<p>This means that if there is already a mapping for the given key, both <code>put</code> and <code>replace</code> will update the map in the same way. Both will also return the previous value associated with the key. However, if there is no mapping for that key, then <code>replace</code> will be a no-op (will do nothing) whereas <code>put</code> will still update the map.</p>\n\n<hr>\n\n<p>Starting with Java 8, note that you can just use</p>\n\n<pre><code>histogramType1.merge(delay, 1, Integer::sum);\n</code></pre>\n\n<p>This will take care of every condition. From <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/HashMap.html#merge-K-V-java.util.function.BiFunction-\" rel=\"noreferrer\"><code>merge</code></a>:</p>\n\n<blockquote>\n  <p>If the specified key is not already associated with a value or is associated with <code>null</code>, associates it with the given non-null value. Otherwise, replaces the associated value with the results of the given remapping function, or removes if the result is <code>null</code>.</p>\n</blockquote>\n\n<p>In this case, we are creating the entry <code>delay -&gt; 1</code> if the entry didn't exist. If it did exist, it is updated by incrementing the value by 1.</p>\n"},{"tags":[],"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1455037203,"creation_date":1455037203,"answer_id":35297790,"question_id":35297537,"body_markdown":"If you look at the sources you can see the following (this is from update 11 but probably hasn&#39;t changed much):\r\n    \r\n__replace__:\r\n\r\n    if ((e = getNode(hash(key), key)) != null) {\r\n        V oldValue = e.value;\r\n        e.value = value;\r\n        afterNodeAccess(e);\r\n        return oldValue;\r\n    }    \r\n\r\n__put__ (internal method putVal):\r\n\r\n    //some code before this to find the node e (similar to getNode(hash(key)))\r\n    if (e != null) { // existing mapping for key\r\n       V oldValue = e.value;\r\n       if (!onlyIfAbsent || oldValue == null)  //onlyIfAbsent is false here\r\n         e.value = value;\r\n       afterNodeAccess(e);\r\n       return oldValue;\r\n    }\r\n\r\nAs you can see, the relevant parts of the code do basically the same thing since `onlyIfAbsent` is false for `put` and thus always will replace the value.","title":"Difference between replace and put for HashMap","body":"<p>If you look at the sources you can see the following (this is from update 11 but probably hasn't changed much):</p>\n\n<p><strong>replace</strong>:</p>\n\n<pre><code>if ((e = getNode(hash(key), key)) != null) {\n    V oldValue = e.value;\n    e.value = value;\n    afterNodeAccess(e);\n    return oldValue;\n}    \n</code></pre>\n\n<p><strong>put</strong> (internal method putVal):</p>\n\n<pre><code>//some code before this to find the node e (similar to getNode(hash(key)))\nif (e != null) { // existing mapping for key\n   V oldValue = e.value;\n   if (!onlyIfAbsent || oldValue == null)  //onlyIfAbsent is false here\n     e.value = value;\n   afterNodeAccess(e);\n   return oldValue;\n}\n</code></pre>\n\n<p>As you can see, the relevant parts of the code do basically the same thing since <code>onlyIfAbsent</code> is false for <code>put</code> and thus always will replace the value.</p>\n"},{"tags":[],"owner":{"account_id":886633,"reputation":4739,"user_id":925927,"accept_rate":75,"display_name":"EdgeCase"},"comment_count":0,"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1455038108,"creation_date":1455038108,"answer_id":35298099,"question_id":35297537,"body_markdown":"You can verify the behavior the others have described, with this:\r\n\r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            Map&lt;String, String&gt; map = new HashMap&lt;&gt;();\r\n            map.replace(&quot;a&quot;, &quot;1&quot;);\r\n            System.out.println(map.get(&quot;a&quot;));\r\n    \r\n            map.put(&quot;a&quot;, &quot;1&quot;);\r\n            System.out.println(map.get(&quot;a&quot;));\r\n    \r\n            map.replace(&quot;a&quot;, &quot;2&quot;);\r\n            System.out.println(map.get(&quot;a&quot;));\r\n        }\r\n    }\r\n\r\n","title":"Difference between replace and put for HashMap","body":"<p>You can verify the behavior the others have described, with this:</p>\n\n<pre><code>public class Main {\n    public static void main(String[] args) {\n        Map&lt;String, String&gt; map = new HashMap&lt;&gt;();\n        map.replace(\"a\", \"1\");\n        System.out.println(map.get(\"a\"));\n\n        map.put(\"a\", \"1\");\n        System.out.println(map.get(\"a\"));\n\n        map.replace(\"a\", \"2\");\n        System.out.println(map.get(\"a\"));\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11699911,"reputation":363,"user_id":8565380,"display_name":"Harsh"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688255835,"creation_date":1688255835,"answer_id":76596954,"question_id":35297537,"body_markdown":"replace won&#39;t add the object unless the key is already mapped, put will replace existing value and if it is new, will create a new entry.\r\n\r\n[https://docs.oracle.com/javase/8/docs/api/java/util/HashMap.html#replace-K-V-][1]\r\n\r\n**public V replace(K key,V value)**\r\nReplaces the entry for the specified key only if it is currently mapped to some value.\r\n\r\n**public V put(K key,V value)** \r\nAssociates the specified value with the specified key in this map. If the map previously contained a mapping for the key, the old value is replaced.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/HashMap.html#replace-K-V-","title":"Difference between replace and put for HashMap","body":"<p>replace won't add the object unless the key is already mapped, put will replace existing value and if it is new, will create a new entry.</p>\n<p><a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/HashMap.html#replace-K-V-\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/8/docs/api/java/util/HashMap.html#replace-K-V-</a></p>\n<p><strong>public V replace(K key,V value)</strong>\nReplaces the entry for the specified key only if it is currently mapped to some value.</p>\n<p><strong>public V put(K key,V value)</strong>\nAssociates the specified value with the specified key in this map. If the map previously contained a mapping for the key, the old value is replaced.</p>\n"}],"owner":{"account_id":7166421,"reputation":565,"user_id":5475395,"accept_rate":50,"display_name":"StudentX"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":63041,"favorite_count":0,"down_vote_count":0,"up_vote_count":52,"answer_count":5,"score":52,"last_activity_date":1688255835,"creation_date":1455036426,"question_id":35297537,"body_markdown":"I want to make a histogram by using a `HashMap`, the key should be the delay, the value the amount of times this delay occurs. I am doubting to use the `HashMap` `replace` or the `HashMap` `put` function if an already existing delay has an new occurence. I did it by this way:\r\n\r\n    int delay = (int) (loopcount-packetServed.getArrivalTime());\r\n    if(histogramType1.containsKey(delay)) {\r\n        histogramType1.replace(delay, histogramType1.get(delay) + 1);   \r\n    } else {\r\n        histogramType1.put(delay, 1);\r\n    }\r\n\r\nIs this correct? or should I use two times the put function?","title":"Difference between replace and put for HashMap","body":"<p>I want to make a histogram by using a <code>HashMap</code>, the key should be the delay, the value the amount of times this delay occurs. I am doubting to use the <code>HashMap</code> <code>replace</code> or the <code>HashMap</code> <code>put</code> function if an already existing delay has an new occurence. I did it by this way:</p>\n<pre><code>int delay = (int) (loopcount-packetServed.getArrivalTime());\nif(histogramType1.containsKey(delay)) {\n    histogramType1.replace(delay, histogramType1.get(delay) + 1);   \n} else {\n    histogramType1.put(delay, 1);\n}\n</code></pre>\n<p>Is this correct? or should I use two times the put function?</p>\n"},{"tags":["java","spring-boot","controller","spring-restcontroller","exceptionhandler"],"answers":[{"tags":[],"owner":{"account_id":1100252,"reputation":10087,"user_id":1092818,"display_name":"crizzis"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1618762167,"creation_date":1618762167,"answer_id":67150684,"question_id":67147660,"body_markdown":"&gt; I can&#39;t override ResponseEntityExceptionHandler.handleException because it&#39;s final\r\n\r\nYou&#39;re supposed to override the `protected ResponseEntity&lt;Object&gt; handleHttpMessageNotReadable(...)` method instead for custom error handling. ","title":"Ambiguous @ExceptionHandler method for HttpMessageNotReadableException","body":"<blockquote>\n<p>I can't override ResponseEntityExceptionHandler.handleException because it's final</p>\n</blockquote>\n<p>You're supposed to override the <code>protected ResponseEntity&lt;Object&gt; handleHttpMessageNotReadable(...)</code> method instead for custom error handling.</p>\n"},{"tags":[],"owner":{"account_id":6097406,"reputation":51,"user_id":4757784,"display_name":"Emre Zorlu"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644882062,"creation_date":1644882062,"answer_id":71119536,"question_id":67147660,"body_markdown":"You should not extend from ResponseEntityExceptionHandler class.\r\nCheck this answer https://stackoverflow.com/a/71119336/4757784","title":"Ambiguous @ExceptionHandler method for HttpMessageNotReadableException","body":"<p>You should not extend from ResponseEntityExceptionHandler class.\nCheck this answer <a href=\"https://stackoverflow.com/a/71119336/4757784\">https://stackoverflow.com/a/71119336/4757784</a></p>\n"},{"tags":[],"owner":{"account_id":12215263,"reputation":11,"user_id":8915910,"display_name":"Abhinav M"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688255716,"creation_date":1688255716,"answer_id":76596951,"question_id":67147660,"body_markdown":"If you&#39;re dealing with this in 2023, try using this \r\n\r\n    @ControllerAdvice\r\n    public class GlobalControllerExceptionHandler extends \r\n    ResponseEntityExceptionHandler {\r\n    \r\n        ...\r\n    \r\n        @Override\r\n        protected ResponseEntity&lt;Object&gt; handleHttpMessageNotReadable(\r\n            HttpMessageNotReadableException ex, HttpHeaders headers, HttpStatusCode status, WebRequest request) {\r\n            ...\r\n            return new ResponseEntity&lt;&gt;(...); \r\n        }\r\n    \r\n        ...\r\n    \r\n    }\r\n\r\nHttpStatus has changed to HttpStatusCode.","title":"Ambiguous @ExceptionHandler method for HttpMessageNotReadableException","body":"<p>If you're dealing with this in 2023, try using this</p>\n<pre><code>@ControllerAdvice\npublic class GlobalControllerExceptionHandler extends \nResponseEntityExceptionHandler {\n\n    ...\n\n    @Override\n    protected ResponseEntity&lt;Object&gt; handleHttpMessageNotReadable(\n        HttpMessageNotReadableException ex, HttpHeaders headers, HttpStatusCode status, WebRequest request) {\n        ...\n        return new ResponseEntity&lt;&gt;(...); \n    }\n\n    ...\n\n}\n</code></pre>\n<p>HttpStatus has changed to HttpStatusCode.</p>\n"}],"owner":{"account_id":2011108,"reputation":171,"user_id":1799505,"accept_rate":83,"display_name":"bz3x"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3426,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":67150684,"answer_count":3,"score":1,"last_activity_date":1688255716,"creation_date":1618742742,"question_id":67147660,"body_markdown":"In my `@RestController` I&#39;m successfully handling JSONParse exceptions coming from @RequestBody (for example, a String wrongly entered into an Integer field). This is the code:\r\n```\r\n@ResponseStatus(HttpStatus.BAD_REQUEST)\r\n@ExceptionHandler({ HttpMessageNotReadableException.class })\r\npublic ValidationError handleException(HttpMessageNotReadableException ex) {\r\n\tif (ex.getCause() instanceof InvalidFormatException) {\r\n\t\t...\r\n\t} else {\r\n\t\tthrow ex;\r\n\t}\r\n}\r\n\r\n```\r\n\r\nNow I want to move this to a `@ControllerAdvice` to be used by many controllers. Here it is:\r\n```\r\n@Order(Ordered.HIGHEST_PRECEDENCE)\r\n@ControllerAdvice\r\npublic class RestExceptionHandler extends ResponseEntityExceptionHandler {\r\n\t@ResponseStatus(HttpStatus.BAD_REQUEST)\r\n\t@ExceptionHandler({ HttpMessageNotReadableException.class })\r\n    public ValidationError handleException(HttpMessageNotReadableException ex) {\r\n\t\tif (ex.getCause() instanceof InvalidFormatException) {\r\n\t\t\t...\r\n\t\t} else {\r\n\t\t\tthrow ex;\r\n\t\t}\r\n    }\r\n ```\r\nBut Spring complains with the following:\r\n`Ambiguous @ExceptionHandler method mapped for [class org.springframework.http.converter.HttpMessageNotReadableException]: {public Object foo.bar.RestExceptionHandler.handleException(org.springframework.http.converter.HttpMessageNotReadableException), public final org.springframework.http.ResponseEntity org.springframework.web.servlet.mvc.method.annotation.ResponseEntityExceptionHandler.handleException(java.lang.Exception,org.springframework.web.context.request.WebRequest) throws java.lang.Exception}`\r\n\r\nI can&#39;t override `ResponseEntityExceptionHandler.handleException` because it&#39;s final. What other options are there? \r\n\r\nUsing Spring Boot 2.4.3.","title":"Ambiguous @ExceptionHandler method for HttpMessageNotReadableException","body":"<p>In my <code>@RestController</code> I'm successfully handling JSONParse exceptions coming from @RequestBody (for example, a String wrongly entered into an Integer field). This is the code:</p>\n<pre><code>@ResponseStatus(HttpStatus.BAD_REQUEST)\n@ExceptionHandler({ HttpMessageNotReadableException.class })\npublic ValidationError handleException(HttpMessageNotReadableException ex) {\n    if (ex.getCause() instanceof InvalidFormatException) {\n        ...\n    } else {\n        throw ex;\n    }\n}\n\n</code></pre>\n<p>Now I want to move this to a <code>@ControllerAdvice</code> to be used by many controllers. Here it is:</p>\n<pre><code>@Order(Ordered.HIGHEST_PRECEDENCE)\n@ControllerAdvice\npublic class RestExceptionHandler extends ResponseEntityExceptionHandler {\n    @ResponseStatus(HttpStatus.BAD_REQUEST)\n    @ExceptionHandler({ HttpMessageNotReadableException.class })\n    public ValidationError handleException(HttpMessageNotReadableException ex) {\n        if (ex.getCause() instanceof InvalidFormatException) {\n            ...\n        } else {\n            throw ex;\n        }\n    }\n</code></pre>\n<p>But Spring complains with the following:\n<code>Ambiguous @ExceptionHandler method mapped for [class org.springframework.http.converter.HttpMessageNotReadableException]: {public Object foo.bar.RestExceptionHandler.handleException(org.springframework.http.converter.HttpMessageNotReadableException), public final org.springframework.http.ResponseEntity org.springframework.web.servlet.mvc.method.annotation.ResponseEntityExceptionHandler.handleException(java.lang.Exception,org.springframework.web.context.request.WebRequest) throws java.lang.Exception}</code></p>\n<p>I can't override <code>ResponseEntityExceptionHandler.handleException</code> because it's final. What other options are there?</p>\n<p>Using Spring Boot 2.4.3.</p>\n"},{"tags":["java","intellij-idea","mockito"],"answers":[{"tags":[],"owner":{"account_id":27038179,"reputation":69,"user_id":20593455,"display_name":"Kaushal"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688253372,"creation_date":1688253372,"answer_id":76596875,"question_id":76595805,"body_markdown":"Chk if below is added in your pom---\r\n\r\n```\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.mockito&lt;/groupId&gt;\r\n    &lt;artifactId&gt;mockito-core&lt;/artifactId&gt;\r\n    &lt;version&gt;3.12.4&lt;/version&gt;\r\n    &lt;scope&gt;test&lt;/scope&gt;\r\n&lt;/dependency&gt;\r\n```","title":"Intellij IDEA static import auto complete won&#39;t show other imports","body":"<p>Chk if below is added in your pom---</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.mockito&lt;/groupId&gt;\n    &lt;artifactId&gt;mockito-core&lt;/artifactId&gt;\n    &lt;version&gt;3.12.4&lt;/version&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":23197145,"reputation":89,"user_id":17292614,"display_name":"Davido"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1688253372,"creation_date":1688232054,"question_id":76595805,"body_markdown":"I want to import the ```verify``` function from Mockito using a static import but when I do the shortcut to import ```verify``` IntelliJ won&#39;t show the package that I need.\r\n[![enter image description here][1]][1]\r\n\r\n\r\nIt just shows those imports but I needed this one ```import static org.mockito.Mockito.verify;```\r\nwhich I had to look for. The picture below is from a YouTuber that have more method to import from, how can I have my one like his, or at least have the ones I need?\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/EnYEP.png\r\n  [2]: https://i.stack.imgur.com/TRc5k.png","title":"Intellij IDEA static import auto complete won&#39;t show other imports","body":"<p>I want to import the <code>verify</code> function from Mockito using a static import but when I do the shortcut to import <code>verify</code> IntelliJ won't show the package that I need.\n<a href=\"https://i.stack.imgur.com/EnYEP.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/EnYEP.png\" alt=\"enter image description here\" /></a></p>\n<p>It just shows those imports but I needed this one <code>import static org.mockito.Mockito.verify;</code>\nwhich I had to look for. The picture below is from a YouTuber that have more method to import from, how can I have my one like his, or at least have the ones I need?</p>\n<p><a href=\"https://i.stack.imgur.com/TRc5k.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/TRc5k.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","json","jackson","jackson-databind","immutables-library"],"comments":[{"owner":{"account_id":3446101,"reputation":11395,"user_id":2886891,"accept_rate":75,"display_name":"Honza Zidek"},"score":4,"creation_date":1687789532,"post_id":76522334,"comment_id":134981974,"body_markdown":"What does your `ImmutableKycMetadata` class look like? It is refered to in `@JsonDeserialize(as = ImmutableKycMetadata.class)`, but you don&#39;t provide its source code here.","body":"What does your <code>ImmutableKycMetadata</code> class look like? It is refered to in <code>@JsonDeserialize(as = ImmutableKycMetadata.class)</code>, but you don&#39;t provide its source code here."},{"owner":{"account_id":19535095,"reputation":2874,"user_id":14294053,"display_name":"Mar-Z"},"score":3,"creation_date":1688109904,"post_id":76522334,"comment_id":135032499,"body_markdown":"How can we help you without seeing the code? Please share the relevant classes. Even better - reduce the code to a minimal reproducible example.","body":"How can we help you without seeing the code? Please share the relevant classes. Even better - reduce the code to a minimal reproducible example."},{"owner":{"account_id":26780105,"reputation":294,"user_id":20375079,"display_name":"Seb Perp"},"score":0,"creation_date":1688197438,"post_id":76522334,"comment_id":135044321,"body_markdown":"See this question: https://stackoverflow.com/questions/19379863/how-to-deserialize-interface-fields-using-jacksons-objectmapper . If you read all the responses, you&#39;ll get multiple ways to manage this case (json content, annotation, ObjectMapper configuration)","body":"See this question: <a href=\"https://stackoverflow.com/questions/19379863/how-to-deserialize-interface-fields-using-jacksons-objectmapper\" title=\"how to deserialize interface fields using jacksons objectmapper\">stackoverflow.com/questions/19379863/&hellip;</a> . If you read all the responses, you&#39;ll get multiple ways to manage this case (json content, annotation, ObjectMapper configuration)"}],"owner":{"account_id":14612531,"reputation":45,"user_id":10553582,"display_name":"Samayra Goyal"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":238,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"answer_count":0,"score":0,"last_activity_date":1688250246,"creation_date":1687343623,"question_id":76522334,"body_markdown":"While building an API, I was trying to deserialize a map object into an immutableInterface KycMetadata(which contains a list of another immutable Interface InternalComponent) \r\nDetails are as follows, kindly help\r\n\r\nKycMetadata.interface\r\n```java\r\n@Immutable\r\n@JsonIgnoreProperties(ignoreUnknown = true)\r\n@JsonSerialize(as = ImmutableKycMetadata.class)\r\n@JsonDeserialize(as = ImmutableKycMetadata.class)\r\npublic interface KycMetadata {\r\n\r\n    @JsonProperty(&quot;documentNameStringId&quot;)\r\n    String documentNameStringId();\r\n\r\n    @JsonProperty(&quot;documentType&quot;)\r\n    String documentType();\r\n\r\n    @JsonProperty(&quot;documentTypeStringId&quot;)\r\n    String documentTypeStringId();\r\n\r\n    @JsonProperty(&quot;components&quot;)\r\n    List &lt; InternalComponent &gt; components();\r\n}\r\n```\r\nInternalComponent.interface\r\n```java\r\n@Modifiable\r\n@JsonTypeInfo(use = JsonTypeInfo.Id.NAME, include = JsonTypeInfo.As.PROPERTY, property = &quot;type&quot;)\r\n@JsonSubTypes({\r\n    @Type(value = ImmutableInternalTextComponent.class, name = &quot;TEXT&quot;),\r\n    @Type(value = ImmutableInternalDateComponent.class, name = &quot;DATE&quot;),\r\n    @Type(value = ImmutableInternalBooleanComponent.class, name = &quot;BOOLEAN&quot;),\r\n    @Type(value = ImmutableInternalSelectComponent.class, name = &quot;SELECT&quot;),\r\n    @Type(value = ImmutableInternalDataFilesComponent.class, name = &quot;DATAFILES&quot;),\r\n    @Type(value = ImmutableInternalBlurbComponent.class, name = &quot;BLURB&quot;)\r\n\r\n})\r\n\r\n@SuppressWarnings(&quot;checkstyle:indentation&quot;)\r\n@Value.Immutable\r\n@JsonDeserialize(as = ImmutableInternalComponent.class)\r\npublic interface InternalComponent {\r\n\r\n    @JsonProperty(&quot;name&quot;)\r\n    String name();\r\n}\r\n```\r\n\r\nI am trying to deserialize in code like this:\r\n\r\n    final ObjectMapper mapper = new ObjectMapper(); // jackson&#39;s objectmapper\r\n    final KycMetadata pojo = mapper.convertValue(map, KycMetadata.class);\r\n    return pojo;\r\n\r\nmap has this content:\r\n\r\n    {documentNameStringId=kyc_xborder_sdc_documentName_passport, components=[{labelStringId=kyc_xborder_sdc_selection_issuingCountry, name=COUNTRY_OF_ISSUE, valuesType=COUNTRIES, type=SELECT, prompt=kyc_xborder_sdc_selection_country}, {labelStringId=kyc_xborder_sdc_text_passportNumber, name=ID_NUMBER, shadowTextStringId=kyc_xborder_sdc_text_idNumber_shadowText, type=TEXT, validationRegex=^[A-Za-z0-9]{5,20}$}, {labelStringId=kyc_xborder_sdc_date_expirationDate, dateType=MONTH_YEAR, name=EXPIRATION_DATE, validRange=FUTURE, type=DATE}], documentType=ID number, documentTypeStringId=kyc_xborder_sdc_documentType_idNumber}\r\n\r\n\r\nThis is the error I am getting: \r\n```\r\n\r\njava.lang.IllegalArgumentException: Cannot construct instance of KycMetadata (no Creators, like default constructor, exist): abstract types either need to be mapped to concrete types, have custom deserializer, or contain additional type information\r\n at [Source: UNKNOWN; line: -1, column: -1]\r\n\tat com.amazon.coral.bobcat.fasterxml.jackson.databind.ObjectMapper._convert(ObjectMapper.java:4314) ~[Bobcat-3.0.jar:?]\r\n```\r\n\r\nPlease help as to how to resolve this.\r\n\r\n\r\n","title":"Deserialize a map to POJO object containing a List of Immutable Type","body":"<p>While building an API, I was trying to deserialize a map object into an immutableInterface KycMetadata(which contains a list of another immutable Interface InternalComponent)\nDetails are as follows, kindly help</p>\n<p>KycMetadata.interface</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Immutable\n@JsonIgnoreProperties(ignoreUnknown = true)\n@JsonSerialize(as = ImmutableKycMetadata.class)\n@JsonDeserialize(as = ImmutableKycMetadata.class)\npublic interface KycMetadata {\n\n    @JsonProperty(&quot;documentNameStringId&quot;)\n    String documentNameStringId();\n\n    @JsonProperty(&quot;documentType&quot;)\n    String documentType();\n\n    @JsonProperty(&quot;documentTypeStringId&quot;)\n    String documentTypeStringId();\n\n    @JsonProperty(&quot;components&quot;)\n    List &lt; InternalComponent &gt; components();\n}\n</code></pre>\n<p>InternalComponent.interface</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Modifiable\n@JsonTypeInfo(use = JsonTypeInfo.Id.NAME, include = JsonTypeInfo.As.PROPERTY, property = &quot;type&quot;)\n@JsonSubTypes({\n    @Type(value = ImmutableInternalTextComponent.class, name = &quot;TEXT&quot;),\n    @Type(value = ImmutableInternalDateComponent.class, name = &quot;DATE&quot;),\n    @Type(value = ImmutableInternalBooleanComponent.class, name = &quot;BOOLEAN&quot;),\n    @Type(value = ImmutableInternalSelectComponent.class, name = &quot;SELECT&quot;),\n    @Type(value = ImmutableInternalDataFilesComponent.class, name = &quot;DATAFILES&quot;),\n    @Type(value = ImmutableInternalBlurbComponent.class, name = &quot;BLURB&quot;)\n\n})\n\n@SuppressWarnings(&quot;checkstyle:indentation&quot;)\n@Value.Immutable\n@JsonDeserialize(as = ImmutableInternalComponent.class)\npublic interface InternalComponent {\n\n    @JsonProperty(&quot;name&quot;)\n    String name();\n}\n</code></pre>\n<p>I am trying to deserialize in code like this:</p>\n<pre><code>final ObjectMapper mapper = new ObjectMapper(); // jackson's objectmapper\nfinal KycMetadata pojo = mapper.convertValue(map, KycMetadata.class);\nreturn pojo;\n</code></pre>\n<p>map has this content:</p>\n<pre><code>{documentNameStringId=kyc_xborder_sdc_documentName_passport, components=[{labelStringId=kyc_xborder_sdc_selection_issuingCountry, name=COUNTRY_OF_ISSUE, valuesType=COUNTRIES, type=SELECT, prompt=kyc_xborder_sdc_selection_country}, {labelStringId=kyc_xborder_sdc_text_passportNumber, name=ID_NUMBER, shadowTextStringId=kyc_xborder_sdc_text_idNumber_shadowText, type=TEXT, validationRegex=^[A-Za-z0-9]{5,20}$}, {labelStringId=kyc_xborder_sdc_date_expirationDate, dateType=MONTH_YEAR, name=EXPIRATION_DATE, validRange=FUTURE, type=DATE}], documentType=ID number, documentTypeStringId=kyc_xborder_sdc_documentType_idNumber}\n</code></pre>\n<p>This is the error I am getting:</p>\n<pre><code>\njava.lang.IllegalArgumentException: Cannot construct instance of KycMetadata (no Creators, like default constructor, exist): abstract types either need to be mapped to concrete types, have custom deserializer, or contain additional type information\n at [Source: UNKNOWN; line: -1, column: -1]\n    at com.amazon.coral.bobcat.fasterxml.jackson.databind.ObjectMapper._convert(ObjectMapper.java:4314) ~[Bobcat-3.0.jar:?]\n</code></pre>\n<p>Please help as to how to resolve this.</p>\n"},{"tags":["java","ssh","jsch"],"comments":[{"owner":{"account_id":453710,"reputation":192103,"user_id":850848,"accept_rate":80,"display_name":"Martin Prikryl"},"score":0,"creation_date":1572876782,"post_id":2003419,"comment_id":103686922,"body_markdown":"See also [How to resolve Java UnknownHostKey, while using JSch SFTP library?](https://stackoverflow.com/q/32852906/850848)","body":"See also <a href=\"https://stackoverflow.com/q/32852906/850848\">How to resolve Java UnknownHostKey, while using JSch SFTP library?</a>"}],"answers":[{"comments":[{"owner":{"account_id":63162,"reputation":102381,"user_id":187141,"accept_rate":82,"display_name":"yegor256"},"score":50,"creation_date":1333168339,"post_id":2003460,"comment_id":12710457,"body_markdown":"`JSch#setConfig(&quot;StrictHostKeyChecking&quot;, &quot;no&quot;)` will do the same job, but in just one line","body":"<code>JSch#setConfig(&quot;StrictHostKeyChecking&quot;, &quot;no&quot;)</code> will do the same job, but in just one line"},{"owner":{"account_id":1089021,"reputation":6241,"user_id":1084078,"display_name":"Adam Rofer"},"score":2,"creation_date":1333573419,"post_id":2003460,"comment_id":12811838,"body_markdown":"Side note: I used this feedback to configure my `~/.ssh/config` file to fix the above error when I didn&#39;t have access to modify the source code","body":"Side note: I used this feedback to configure my <code>~&#47;.ssh&#47;config</code> file to fix the above error when I didn&#39;t have access to modify the source code"},{"owner":{"account_id":92926,"reputation":1270,"user_id":254455,"accept_rate":90,"display_name":"Bernard Igiri"},"score":0,"creation_date":1344710393,"post_id":2003460,"comment_id":15866857,"body_markdown":"What did you do to your .ssh/config? I&#39;m having the same error.","body":"What did you do to your .ssh/config? I&#39;m having the same error."},{"owner":{"account_id":198360,"reputation":3548,"user_id":442968,"accept_rate":67,"display_name":"Rondo"},"score":25,"creation_date":1373504716,"post_id":2003460,"comment_id":25586811,"body_markdown":"This is insecure and really shouldn&#39;t have been selected as the right answer on that principle. The setKnownHosts() and setFingerPrint() options are the way to do this without ignoring an important aspect of the ssh process.\nEdit: in my experience, #1 does not work from within some IDE environments like Eclipse.","body":"This is insecure and really shouldn&#39;t have been selected as the right answer on that principle. The setKnownHosts() and setFingerPrint() options are the way to do this without ignoring an important aspect of the ssh process. Edit: in my experience, #1 does not work from within some IDE environments like Eclipse."},{"owner":{"account_id":462866,"reputation":886,"user_id":865416,"accept_rate":40,"display_name":"ProfVersaggi"},"score":1,"creation_date":1421186026,"post_id":2003460,"comment_id":44261956,"body_markdown":"It did the job for me inside of eclipse ... just what I needed in a test environment ....","body":"It did the job for me inside of eclipse ... just what I needed in a test environment ...."},{"owner":{"account_id":1751674,"reputation":117,"user_id":1600619,"display_name":"codester"},"score":0,"creation_date":1467222712,"post_id":2003460,"comment_id":63647174,"body_markdown":"Please ensure you are using at least version 0.1.53. Earlier versions have similar issues.","body":"Please ensure you are using at least version 0.1.53. Earlier versions have similar issues."},{"owner":{"account_id":3129869,"reputation":1542,"user_id":2647910,"accept_rate":92,"display_name":"aswzen"},"score":0,"creation_date":1478581516,"post_id":2003460,"comment_id":68202773,"body_markdown":"`import static com.jcraft.jsch.JSch.setConfig;`\n`JSch.setConfig(&quot;StrictHostKeyChecking&quot;, &quot;no&quot;);`","body":"<code>import static com.jcraft.jsch.JSch.setConfig;</code> <code>JSch.setConfig(&quot;StrictHostKeyChecking&quot;, &quot;no&quot;);</code>"},{"owner":{"account_id":2898137,"reputation":1813,"user_id":2485458,"accept_rate":48,"display_name":"Panadol Chong"},"score":0,"creation_date":1508233265,"post_id":2003460,"comment_id":80520387,"body_markdown":"I tried this but still not work, can help on this?https://stackoverflow.com/questions/46766040/java-lang-runtimeexception-com-jcraft-jsch-jschexception-algorithm-negotiation","body":"I tried this but still not work, can help on this?<a href=\"https://stackoverflow.com/questions/46766040/java-lang-runtimeexception-com-jcraft-jsch-jschexception-algorithm-negotiation\" title=\"java lang runtimeexception com jcraft jsch jschexception algorithm negotiation\">stackoverflow.com/questions/46766040/&hellip;</a>"}],"tags":[],"owner":{"account_id":26957,"reputation":564381,"user_id":70604,"display_name":"Pascal Thivent"},"comment_count":8,"down_vote_count":7,"up_vote_count":281,"is_accepted":true,"score":274,"last_activity_date":1388861370,"creation_date":1262653032,"answer_id":2003460,"question_id":2003419,"body_markdown":"I would either:\r\n\r\n1. Try to `ssh` from the command line and accept the public key (the host will be added to `~/.ssh/known_hosts` and everything should then work fine from Jsch) *-OR-*\r\n2. Configure JSch to not use &quot;StrictHostKeyChecking&quot; (this introduces insecurities and should only be used for testing purposes), using the following code:\r\n\r\n        java.util.Properties config = new java.util.Properties(); \r\n        config.put(&quot;StrictHostKeyChecking&quot;, &quot;no&quot;);\r\n        session.setConfig(config);\r\n\r\nOption #1 (adding the host to the `~/.ssh/known_hosts` file) has my preference.","title":"com.jcraft.jsch.JSchException: UnknownHostKey","body":"<p>I would either:</p>\n\n<ol>\n<li>Try to <code>ssh</code> from the command line and accept the public key (the host will be added to <code>~/.ssh/known_hosts</code> and everything should then work fine from Jsch) <em>-OR-</em></li>\n<li><p>Configure JSch to not use \"StrictHostKeyChecking\" (this introduces insecurities and should only be used for testing purposes), using the following code:</p>\n\n<pre><code>java.util.Properties config = new java.util.Properties(); \nconfig.put(\"StrictHostKeyChecking\", \"no\");\nsession.setConfig(config);\n</code></pre></li>\n</ol>\n\n<p>Option #1 (adding the host to the <code>~/.ssh/known_hosts</code> file) has my preference.</p>\n"},{"tags":[],"owner":{"account_id":103073,"reputation":9057,"user_id":276263,"accept_rate":58,"display_name":"krishnakumarp"},"comment_count":0,"down_vote_count":0,"up_vote_count":46,"is_accepted":false,"score":46,"last_activity_date":1656014060,"creation_date":1356347631,"answer_id":14020620,"question_id":2003419,"body_markdown":"It is a security risk to avoid host key checking.\r\n\r\nJSch uses HostKeyRepository interface and its default implementation KnownHosts class to manage this. You can provide an alternate implementation that allows specific keys by implementing HostKeyRepository. Or you could keep the keys that you want to allow in a file in the [known_hosts format][1] and call\r\n\r\n    jsch.setKnownHosts(knownHostsFileName);\r\n\r\nOr with a public key String as below.\r\n\r\n    String knownHostPublicKey = &quot;mysite.example ecdsa-sha2-nistp256 AAAAE............/3vplY&quot;;\r\n    jsch.setKnownHosts(new ByteArrayInputStream(knownHostPublicKey.getBytes()));\r\n\r\nsee [Javadoc][2] for more details.\r\n\r\nThis would be a more secure solution.\r\n\r\nJsch is open source and you can download the source from [here][3]. In the examples folder, look for `KnownHosts.java` to know more details.\r\n\r\n  [1]: http://pthree.org/2011/12/30/making-sense-of-hashed-hosts-in-sshknown_hosts/\r\n  [2]: https://epaul.github.io/jsch-documentation/simple.javadoc/com/jcraft/jsch/JSch.html#setKnownHosts(java.lang.String)\r\n  [3]: https://sourceforge.net/projects/jsch/files/jsch/0.1.54/jsch-0.1.54.zip/download","title":"com.jcraft.jsch.JSchException: UnknownHostKey","body":"<p>It is a security risk to avoid host key checking.</p>\n<p>JSch uses HostKeyRepository interface and its default implementation KnownHosts class to manage this. You can provide an alternate implementation that allows specific keys by implementing HostKeyRepository. Or you could keep the keys that you want to allow in a file in the <a href=\"http://pthree.org/2011/12/30/making-sense-of-hashed-hosts-in-sshknown_hosts/\" rel=\"nofollow noreferrer\">known_hosts format</a> and call</p>\n<pre><code>jsch.setKnownHosts(knownHostsFileName);\n</code></pre>\n<p>Or with a public key String as below.</p>\n<pre><code>String knownHostPublicKey = &quot;mysite.example ecdsa-sha2-nistp256 AAAAE............/3vplY&quot;;\njsch.setKnownHosts(new ByteArrayInputStream(knownHostPublicKey.getBytes()));\n</code></pre>\n<p>see <a href=\"https://epaul.github.io/jsch-documentation/simple.javadoc/com/jcraft/jsch/JSch.html#setKnownHosts(java.lang.String)\" rel=\"nofollow noreferrer\">Javadoc</a> for more details.</p>\n<p>This would be a more secure solution.</p>\n<p>Jsch is open source and you can download the source from <a href=\"https://sourceforge.net/projects/jsch/files/jsch/0.1.54/jsch-0.1.54.zip/download\" rel=\"nofollow noreferrer\">here</a>. In the examples folder, look for <code>KnownHosts.java</code> to know more details.</p>\n"},{"comments":[{"owner":{"account_id":2235921,"reputation":2719,"user_id":1972317,"accept_rate":80,"display_name":"taringamberini"},"score":0,"creation_date":1427797967,"post_id":14024709,"comment_id":46915586,"body_markdown":"On windows usingh ssh in `cygwin` (you have to download the `openssl` package and dependencies) I have been able to download `~/.ssh/known_hosts`. Thanks to @CharityAbbott.","body":"On windows usingh ssh in <code>cygwin</code> (you have to download the <code>openssl</code> package and dependencies) I have been able to download <code>~&#47;.ssh&#47;known_hosts</code>. Thanks to @CharityAbbott."}],"tags":[],"owner":{"account_id":1598505,"reputation":2886,"user_id":1480060,"display_name":"Charity Leschinski"},"comment_count":1,"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1378049604,"creation_date":1356374470,"answer_id":14024709,"question_id":2003419,"body_markdown":"Depending on what program you use for ssh, the way to get the proper key could vary. Putty (popular with Windows) uses their own format for ssh keys. With most variants of Linux and BSD that I&#39;ve seen, you just have to look in `~/.ssh/known_hosts`. I usually ssh from a Linux machine and then copy this file to a Windows machine. Then I use something similar to \r\n\r\n    jsch.setKnownHosts(&quot;C:\\\\Users\\\\cabbott\\\\known_hosts&quot;);\r\n\r\nAssuming I have placed the file in `C:\\Users\\cabbott` on my Windows machine. If you don&#39;t have access to a Linux machine, try http://www.cygwin.com/\r\n\r\nMaybe someone else can suggest another Windows alternative. I find putty&#39;s way of handling SSH keys by storing them in the registry in a non-standard format bothersome to extract.","title":"com.jcraft.jsch.JSchException: UnknownHostKey","body":"<p>Depending on what program you use for ssh, the way to get the proper key could vary. Putty (popular with Windows) uses their own format for ssh keys. With most variants of Linux and BSD that I've seen, you just have to look in <code>~/.ssh/known_hosts</code>. I usually ssh from a Linux machine and then copy this file to a Windows machine. Then I use something similar to </p>\n\n<pre><code>jsch.setKnownHosts(\"C:\\\\Users\\\\cabbott\\\\known_hosts\");\n</code></pre>\n\n<p>Assuming I have placed the file in <code>C:\\Users\\cabbott</code> on my Windows machine. If you don't have access to a Linux machine, try <a href=\"http://www.cygwin.com/\">http://www.cygwin.com/</a></p>\n\n<p>Maybe someone else can suggest another Windows alternative. I find putty's way of handling SSH keys by storing them in the registry in a non-standard format bothersome to extract.</p>\n"},{"tags":[],"owner":{"account_id":210729,"reputation":1155,"user_id":462512,"display_name":"ymnk"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1375356014,"creation_date":1356448786,"answer_id":14031854,"question_id":2003419,"body_markdown":"&gt; Has anyone been able to solve this problem? I am using Jscp to scp files using public key\r\n&gt; authentication (i dont want to use password authentication). Help will be appreciated!!!\r\n\r\nThis stackoverflow entry is about the host-key checking, and there is no relation to the public key authentication.\r\n\r\nAs for the public key authentication, try the [following sample][1] with your plain(non ciphered) private key,\r\n        \r\n  [1]: http://www.jcraft.com/jsch/examples/UserAuthPubKey.java.html","title":"com.jcraft.jsch.JSchException: UnknownHostKey","body":"<blockquote>\n  <p>Has anyone been able to solve this problem? I am using Jscp to scp files using public key\n  authentication (i dont want to use password authentication). Help will be appreciated!!!</p>\n</blockquote>\n\n<p>This stackoverflow entry is about the host-key checking, and there is no relation to the public key authentication.</p>\n\n<p>As for the public key authentication, try the <a href=\"http://www.jcraft.com/jsch/examples/UserAuthPubKey.java.html\" rel=\"nofollow\">following sample</a> with your plain(non ciphered) private key,</p>\n"},{"comments":[{"owner":{"account_id":2164407,"reputation":598,"user_id":1917804,"display_name":"Vishnu Prasad Kallummel"},"score":0,"creation_date":1376801396,"post_id":14457797,"comment_id":26843277,"body_markdown":"Yes, I had added that for my reference. I will remove that. Thanks.","body":"Yes, I had added that for my reference. I will remove that. Thanks."},{"owner":{"account_id":304877,"reputation":2815,"user_id":614659,"accept_rate":36,"display_name":"Logemann"},"score":1,"creation_date":1491928224,"post_id":14457797,"comment_id":73766172,"body_markdown":"this created some kind of weird auth problems when connecting to certain SSH Servers offering keyboard-interactive authentication method. I used it for years to get rid of the Key thing and then got burned just today with a certain server. Because i didnt supplied the PW via getPassword() but directly to the Session object. Keep that in mind. I wouldnt use it anymore.","body":"this created some kind of weird auth problems when connecting to certain SSH Servers offering keyboard-interactive authentication method. I used it for years to get rid of the Key thing and then got burned just today with a certain server. Because i didnt supplied the PW via getPassword() but directly to the Session object. Keep that in mind. I wouldnt use it anymore."}],"tags":[],"owner":{"account_id":2164407,"reputation":598,"user_id":1917804,"display_name":"Vishnu Prasad Kallummel"},"comment_count":2,"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1656014101,"creation_date":1358855132,"answer_id":14457797,"question_id":2003419,"body_markdown":"You can also execute the following code. It is tested and working.\r\n\r\n    import com.jcraft.jsch.Channel;\r\n    import com.jcraft.jsch.JSch;\r\n    import com.jcraft.jsch.JSchException;\r\n    import com.jcraft.jsch.Session;\r\n    import com.jcraft.jsch.UIKeyboardInteractive;\r\n    import com.jcraft.jsch.UserInfo;\r\n\r\n    public class SFTPTest {\r\n\r\n    \tpublic static void main(String[] args) {\r\n    \t\tJSch jsch = new JSch();\r\n    \t\tSession session = null;\r\n    \t\ttry {\r\n    \t\t\tsession = jsch.getSession(&quot;username&quot;, &quot;mywebsite.example&quot;, 22); //default port is 22\r\n    \t\t\tUserInfo ui = new MyUserInfo();\r\n    \t\t\tsession.setUserInfo(ui);\r\n    \t\t\tsession.setPassword(&quot;123456&quot;.getBytes());\r\n    \t\t\tsession.connect();\r\n    \t\t\tChannel channel = session.openChannel(&quot;sftp&quot;);\r\n    \t\t\tchannel.connect();\r\n    \t\t\tSystem.out.println(&quot;Connected&quot;);\r\n    \t\t} catch (JSchException e) {\r\n    \t\t\te.printStackTrace(System.out);\r\n    \t\t} catch (Exception e){\r\n    \t\t\te.printStackTrace(System.out);\r\n    \t\t} finally{\r\n    \t\t\tsession.disconnect();\r\n    \t\t\tSystem.out.println(&quot;Disconnected&quot;);\r\n    \t\t}\r\n    \t}\r\n\r\n    \tpublic static class MyUserInfo implements UserInfo, UIKeyboardInteractive {\r\n\r\n    \t\t@Override\r\n    \t\tpublic String getPassphrase() {\r\n    \t\t\treturn null;\r\n    \t\t}\r\n    \t\t@Override\r\n    \t\tpublic String getPassword() {\r\n    \t\t\treturn null;\r\n    \t\t}\r\n    \t\t@Override\r\n    \t\tpublic boolean promptPassphrase(String arg0) {\r\n    \t\t\treturn false;\r\n    \t\t}\r\n    \t\t@Override\r\n    \t\tpublic boolean promptPassword(String arg0) {\r\n    \t\t\treturn false;\r\n    \t\t}\r\n    \t\t@Override\r\n    \t\tpublic boolean promptYesNo(String arg0) {\r\n    \t\t\treturn false;\r\n    \t\t}\r\n    \t\t@Override\r\n    \t\tpublic void showMessage(String arg0) {\r\n    \t\t}\r\n    \t\t@Override\r\n    \t\tpublic String[] promptKeyboardInteractive(String arg0, String arg1,\r\n    \t\t\t\tString arg2, String[] arg3, boolean[] arg4) {\r\n    \t\t\treturn null;\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\nPlease substitute the appropriate values.","title":"com.jcraft.jsch.JSchException: UnknownHostKey","body":"<p>You can also execute the following code. It is tested and working.</p>\n<pre><code>import com.jcraft.jsch.Channel;\nimport com.jcraft.jsch.JSch;\nimport com.jcraft.jsch.JSchException;\nimport com.jcraft.jsch.Session;\nimport com.jcraft.jsch.UIKeyboardInteractive;\nimport com.jcraft.jsch.UserInfo;\n\npublic class SFTPTest {\n\n    public static void main(String[] args) {\n        JSch jsch = new JSch();\n        Session session = null;\n        try {\n            session = jsch.getSession(&quot;username&quot;, &quot;mywebsite.example&quot;, 22); //default port is 22\n            UserInfo ui = new MyUserInfo();\n            session.setUserInfo(ui);\n            session.setPassword(&quot;123456&quot;.getBytes());\n            session.connect();\n            Channel channel = session.openChannel(&quot;sftp&quot;);\n            channel.connect();\n            System.out.println(&quot;Connected&quot;);\n        } catch (JSchException e) {\n            e.printStackTrace(System.out);\n        } catch (Exception e){\n            e.printStackTrace(System.out);\n        } finally{\n            session.disconnect();\n            System.out.println(&quot;Disconnected&quot;);\n        }\n    }\n\n    public static class MyUserInfo implements UserInfo, UIKeyboardInteractive {\n\n        @Override\n        public String getPassphrase() {\n            return null;\n        }\n        @Override\n        public String getPassword() {\n            return null;\n        }\n        @Override\n        public boolean promptPassphrase(String arg0) {\n            return false;\n        }\n        @Override\n        public boolean promptPassword(String arg0) {\n            return false;\n        }\n        @Override\n        public boolean promptYesNo(String arg0) {\n            return false;\n        }\n        @Override\n        public void showMessage(String arg0) {\n        }\n        @Override\n        public String[] promptKeyboardInteractive(String arg0, String arg1,\n                String arg2, String[] arg3, boolean[] arg4) {\n            return null;\n        }\n    }\n}\n</code></pre>\n<p>Please substitute the appropriate values.</p>\n"},{"tags":[],"owner":{"account_id":1881998,"reputation":121,"user_id":1701971,"display_name":"sreenath V"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1385798933,"creation_date":1359768873,"answer_id":14657715,"question_id":2003419,"body_markdown":"setting known host is better  than setting fingure print value.\r\n\r\nWhen you set known host, try to manually ssh (very first time, before application runs) from the box the application runs.\r\n","title":"com.jcraft.jsch.JSchException: UnknownHostKey","body":"<p>setting known host is better  than setting fingure print value.</p>\n\n<p>When you set known host, try to manually ssh (very first time, before application runs) from the box the application runs.</p>\n"},{"comments":[{"owner":{"account_id":631723,"reputation":2270,"user_id":1046421,"accept_rate":55,"display_name":"Urhixidur"},"score":0,"creation_date":1496775457,"post_id":17088410,"comment_id":75795344,"body_markdown":"Nope doesn&#39;t work for me. Similarly, Eric Leschinski/Rakesh Acharya&#39;s answer fails if I comment out `config.put(&quot;StrictHostKeyChecking&quot;, &quot;no&quot;);`\n\nA manual `ssh -v` connection reveals the `.ssh/known_hosts` file does contain the key (`ecdsa-sha2-nistp256`) but the code does this:\n\n`com.jcraft.jsch.JSchException: UnknownHostKey: 131.132.x.x. RSA key fingerprint is c2:...`\n\n    \t`at com.jcraft.jsch.Session.checkHost(Session.java:805)`\n\n    \t`at com.jcraft.jsch.Session.connect(Session.java:345)`","body":"Nope doesn&#39;t work for me. Similarly, Eric Leschinski/Rakesh Acharya&#39;s answer fails if I comment out <code>config.put(&quot;StrictHostKeyChecking&quot;, &quot;no&quot;);</code>  A manual <code>ssh -v</code> connection reveals the <code>.ssh&#47;known_hosts</code> file does contain the key (<code>ecdsa-sha2-nistp256</code>) but the code does this:  <code>com.jcraft.jsch.JSchException: UnknownHostKey: 131.132.x.x. RSA key fingerprint is c2:...</code>      \t<code>at com.jcraft.jsch.Session.checkHost(Session.java:805)</code>      \t<code>at com.jcraft.jsch.Session.connect(Session.java:345)</code>"},{"owner":{"account_id":2172484,"reputation":1395,"user_id":1924081,"accept_rate":76,"display_name":"dalvarezmartinez1"},"score":0,"creation_date":1496913683,"post_id":17088410,"comment_id":75860792,"body_markdown":"It&#39;s been some time, what I&#39;d try doing, is use the JSCH library version available on June 13th 2013, cause things probably changed in the library since then","body":"It&#39;s been some time, what I&#39;d try doing, is use the JSCH library version available on June 13th 2013, cause things probably changed in the library since then"}],"tags":[],"owner":{"account_id":2172484,"reputation":1395,"user_id":1924081,"accept_rate":76,"display_name":"dalvarezmartinez1"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1371130395,"creation_date":1371130395,"answer_id":17088410,"question_id":2003419,"body_markdown":"Just substitute &quot;user&quot;, &quot;pass&quot;, &quot;SSHD_IP&quot;. And create a file called known_hosts.txt with the content of the server&#39;s ~/.ssh/known_hosts. You will get a shell.\r\n\r\n    public class Known_Hosts {\r\n    public static void main(String[] arg) {\r\n        try {\r\n            JSch jsch = new JSch();\r\n            jsch.setKnownHosts(&quot;known_hosts.txt&quot;);\r\n            Session session = jsch.getSession(&quot;user&quot;, &quot;SSHD_IP&quot;, 22);\r\n            session.setPassword(&quot;pass&quot;);\r\n            session.connect();\r\n            Channel channel = session.openChannel(&quot;shell&quot;);\r\n            channel.setInputStream(System.in);\r\n            channel.setOutputStream(System.out);\r\n            channel.connect();\r\n        } catch (Exception e) {\r\n            System.out.println(e);\r\n        }\r\n      }\r\n    }","title":"com.jcraft.jsch.JSchException: UnknownHostKey","body":"<p>Just substitute \"user\", \"pass\", \"SSHD_IP\". And create a file called known_hosts.txt with the content of the server's ~/.ssh/known_hosts. You will get a shell.</p>\n\n<pre><code>public class Known_Hosts {\npublic static void main(String[] arg) {\n    try {\n        JSch jsch = new JSch();\n        jsch.setKnownHosts(\"known_hosts.txt\");\n        Session session = jsch.getSession(\"user\", \"SSHD_IP\", 22);\n        session.setPassword(\"pass\");\n        session.connect();\n        Channel channel = session.openChannel(\"shell\");\n        channel.setInputStream(System.in);\n        channel.setOutputStream(System.out);\n        channel.connect();\n    } catch (Exception e) {\n        System.out.println(e);\n    }\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3755294,"reputation":23,"user_id":3121774,"display_name":"Rakesh Acharya"},"comment_count":0,"down_vote_count":4,"up_vote_count":3,"is_accepted":false,"score":-1,"last_activity_date":1644139909,"creation_date":1387521816,"answer_id":20697847,"question_id":2003419,"body_markdown":"    JSch jsch = new JSch();\r\n    Session session = null;\r\n    try {\r\n       session = jsch.getSession(&quot;user&quot;, &quot;hostname&quot;, 22); // default\r\n       UserInfo ui = new MyUserInfo();\r\n       session.setUserInfo(ui);\r\n       session.setPassword(&quot;password&quot;.getBytes());\r\n       java.util.Properties config = new java.util.Properties();\r\n       config.put(&quot;StrictHostKeyChecking&quot;, &quot;no&quot;);\r\n       session.setConfig(config);\r\n       session.connect();\r\n       Channel channel = session.openChannel(&quot;sftp&quot;);\r\n       channel.connect();\r\n       System.out.println(&quot;Connected&quot;);\r\n    } catch (JSchException e) {\r\n       e.printStackTrace(System.out);\r\n    } catch (Exception e) {\r\n       e.printStackTrace(System.out);\r\n    } finally {\r\n       session.disconnect();\r\n       System.out.println(&quot;Disconnected&quot;);\r\n    }\r\n\r\n   ","title":"com.jcraft.jsch.JSchException: UnknownHostKey","body":"<pre><code>JSch jsch = new JSch();\nSession session = null;\ntry {\n   session = jsch.getSession(&quot;user&quot;, &quot;hostname&quot;, 22); // default\n   UserInfo ui = new MyUserInfo();\n   session.setUserInfo(ui);\n   session.setPassword(&quot;password&quot;.getBytes());\n   java.util.Properties config = new java.util.Properties();\n   config.put(&quot;StrictHostKeyChecking&quot;, &quot;no&quot;);\n   session.setConfig(config);\n   session.connect();\n   Channel channel = session.openChannel(&quot;sftp&quot;);\n   channel.connect();\n   System.out.println(&quot;Connected&quot;);\n} catch (JSchException e) {\n   e.printStackTrace(System.out);\n} catch (Exception e) {\n   e.printStackTrace(System.out);\n} finally {\n   session.disconnect();\n   System.out.println(&quot;Disconnected&quot;);\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1167427,"reputation":24342,"user_id":1145388,"accept_rate":75,"display_name":"Stephen Ostermiller"},"score":2,"creation_date":1403258525,"post_id":24324289,"comment_id":37599139,"body_markdown":"While this code may help answer the question, code only answers are not high quality. A better answer would explain what the code does, tell where to insert it, explain why this approach was taken, and link to relevant documentation.","body":"While this code may help answer the question, code only answers are not high quality. A better answer would explain what the code does, tell where to insert it, explain why this approach was taken, and link to relevant documentation."}],"tags":[],"owner":{"account_id":3622618,"reputation":474,"user_id":3020980,"display_name":"Amaury D"},"comment_count":1,"down_vote_count":1,"up_vote_count":10,"is_accepted":false,"score":9,"last_activity_date":1441121428,"creation_date":1403257209,"answer_id":24324289,"question_id":2003419,"body_markdown":"You can also simply do\r\n\r\n    session.setConfig(&quot;StrictHostKeyChecking&quot;, &quot;no&quot;);\r\n\r\nIt&#39;s not secure and it&#39;s a workaround not suitable for live environment as it will disable globally known host keys checking.","title":"com.jcraft.jsch.JSchException: UnknownHostKey","body":"<p>You can also simply do</p>\n\n<pre><code>session.setConfig(\"StrictHostKeyChecking\", \"no\");\n</code></pre>\n\n<p>It's not secure and it's a workaround not suitable for live environment as it will disable globally known host keys checking.</p>\n"},{"comments":[{"owner":{"account_id":369445,"reputation":2330,"user_id":716834,"accept_rate":75,"display_name":"Udo"},"score":1,"creation_date":1441894999,"post_id":32397855,"comment_id":52868291,"body_markdown":"Didn&#39;t work for me with jsch version 0.1.50 (always got a NPE in jsch) but with the newest version 0.1.53 its working.","body":"Didn&#39;t work for me with jsch version 0.1.50 (always got a NPE in jsch) but with the newest version 0.1.53 its working."},{"owner":{"account_id":2460909,"reputation":1005,"user_id":2145105,"accept_rate":60,"display_name":"rich p"},"score":0,"creation_date":1473979194,"post_id":32397855,"comment_id":66358501,"body_markdown":"will this (String.getBytes()) provide a byte array of unicode-encoded characters, when the Jsch code (Util.byte2str()) expects UTF-8 encoding?","body":"will this (String.getBytes()) provide a byte array of unicode-encoded characters, when the Jsch code (Util.byte2str()) expects UTF-8 encoding?"}],"tags":[],"owner":{"account_id":6901034,"reputation":101,"user_id":5300666,"display_name":"Mark Beer"},"comment_count":2,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1656014071,"creation_date":1441368960,"answer_id":32397855,"question_id":2003419,"body_markdown":"Supply the public rsa key of the host :-\r\n\r\n    String knownHostPublicKey = &quot;mywebsite.example ssh-rsa AAAAB3NzaC1.....XL4Jpmp/&quot;;\r\n\r\n    session.setKnownHosts(new ByteArrayInputStream(knownHostPublicKey.getBytes()));\r\n","title":"com.jcraft.jsch.JSchException: UnknownHostKey","body":"<p>Supply the public rsa key of the host :-</p>\n<pre><code>String knownHostPublicKey = &quot;mywebsite.example ssh-rsa AAAAB3NzaC1.....XL4Jpmp/&quot;;\n\nsession.setKnownHosts(new ByteArrayInputStream(knownHostPublicKey.getBytes()));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":559503,"reputation":380,"user_id":921799,"display_name":"loreii"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1475055976,"creation_date":1475055976,"answer_id":39743782,"question_id":2003419,"body_markdown":"I lost a lot of time on this stupid issue, and i think the message is quite right &quot;there is not the host in the file i&#39;m accessing&quot; but you can have more than a know_host file around on your system (as example i&#39;m using mobaXterm and it keep it&#39;s own inside the installation directory mounting the home from that root). \r\n\r\nIf you are experiencing : it&#39;s working from command line but not form the application try to access to your remote server with ssh and check with verbose -v option which file is currently used an example following: \r\n\r\n     ssh -v git@gitlab.com\r\n     OpenSSH_6.2p2, OpenSSL 1.0.1g 7 Apr 2014\r\n     debug1: Reading configuration data /etc/ssh_config\r\n     debug1: Connecting to gitlab.com [104.210.2.228] port 22.\r\n     debug1: Connection established.\r\n     debug1: identity file /home/mobaxterm/.ssh/id_rsa type 1\r\n     debug1: identity file /home/mobaxterm/.ssh/id_rsa-cert type -1\r\n     debug1: identity file /home/mobaxterm/.ssh/id_dsa type -1\r\n     debug1: identity file /home/mobaxterm/.ssh/id_dsa-cert type -1\r\n     debug1: identity file /home/mobaxterm/.ssh/id_ecdsa type -1\r\n     debug1: identity file /home/mobaxterm/.ssh/id_ecdsa-cert type -1\r\n     debug1: Enabling compatibility mode for protocol 2.0\r\n     debug1: Local version string SSH-2.0-OpenSSH_6.2\r\n     debug1: Remote protocol version 2.0, remote software version OpenSSH_7.2p2      Ubuntu-4ubuntu2.1\r\n     debug1: match: OpenSSH_7.2p2 Ubuntu-4ubuntu2.1 pat OpenSSH*\r\n     debug1: SSH2_MSG_KEXINIT sent\r\n     debug1: SSH2_MSG_KEXINIT received\r\n     debug1: kex: server-&gt;client aes128-ctr hmac-sha1-etm@openssh.com zlib@openssh.com\r\n     debug1: kex: client-&gt;server aes128-ctr hmac-sha1-etm@openssh.com zlib@openssh.com\r\n     debug1: sending SSH2_MSG_KEX_ECDH_INIT\r\n     debug1: expecting SSH2_MSG_KEX_ECDH_REPLY\r\n     debug1: Server host key: RSA b6:03:0e:39:97:9e:d0:e7:24:ce:a3:77:3e:01:42:09\r\n     debug1: Host &#39;gitlab.com&#39; is known and matches the RSA host key.\r\n     debug1: Found key in /home/mobaxterm/.ssh/known_hosts:19\r\n     debug1: ssh_rsa_verify: signature correct\r\n\r\n\r\nas you can see the key was found in :\r\n\r\n    debug1: Found key in /home/mobaxterm/.ssh/known_hosts:19\r\n\r\nand not in my windows home under C:\\\\Users\\\\**my_local_user**\\\\.ssh , i simply merged them and aligned for solve the issue.\r\n\r\n\r\n\r\nHope this help someone in future","title":"com.jcraft.jsch.JSchException: UnknownHostKey","body":"<p>I lost a lot of time on this stupid issue, and i think the message is quite right \"there is not the host in the file i'm accessing\" but you can have more than a know_host file around on your system (as example i'm using mobaXterm and it keep it's own inside the installation directory mounting the home from that root). </p>\n\n<p>If you are experiencing : it's working from command line but not form the application try to access to your remote server with ssh and check with verbose -v option which file is currently used an example following: </p>\n\n<pre><code> ssh -v git@gitlab.com\n OpenSSH_6.2p2, OpenSSL 1.0.1g 7 Apr 2014\n debug1: Reading configuration data /etc/ssh_config\n debug1: Connecting to gitlab.com [104.210.2.228] port 22.\n debug1: Connection established.\n debug1: identity file /home/mobaxterm/.ssh/id_rsa type 1\n debug1: identity file /home/mobaxterm/.ssh/id_rsa-cert type -1\n debug1: identity file /home/mobaxterm/.ssh/id_dsa type -1\n debug1: identity file /home/mobaxterm/.ssh/id_dsa-cert type -1\n debug1: identity file /home/mobaxterm/.ssh/id_ecdsa type -1\n debug1: identity file /home/mobaxterm/.ssh/id_ecdsa-cert type -1\n debug1: Enabling compatibility mode for protocol 2.0\n debug1: Local version string SSH-2.0-OpenSSH_6.2\n debug1: Remote protocol version 2.0, remote software version OpenSSH_7.2p2      Ubuntu-4ubuntu2.1\n debug1: match: OpenSSH_7.2p2 Ubuntu-4ubuntu2.1 pat OpenSSH*\n debug1: SSH2_MSG_KEXINIT sent\n debug1: SSH2_MSG_KEXINIT received\n debug1: kex: server-&gt;client aes128-ctr hmac-sha1-etm@openssh.com zlib@openssh.com\n debug1: kex: client-&gt;server aes128-ctr hmac-sha1-etm@openssh.com zlib@openssh.com\n debug1: sending SSH2_MSG_KEX_ECDH_INIT\n debug1: expecting SSH2_MSG_KEX_ECDH_REPLY\n debug1: Server host key: RSA b6:03:0e:39:97:9e:d0:e7:24:ce:a3:77:3e:01:42:09\n debug1: Host 'gitlab.com' is known and matches the RSA host key.\n debug1: Found key in /home/mobaxterm/.ssh/known_hosts:19\n debug1: ssh_rsa_verify: signature correct\n</code></pre>\n\n<p>as you can see the key was found in :</p>\n\n<pre><code>debug1: Found key in /home/mobaxterm/.ssh/known_hosts:19\n</code></pre>\n\n<p>and not in my windows home under C:\\Users\\<strong>my_local_user</strong>\\.ssh , i simply merged them and aligned for solve the issue.</p>\n\n<p>Hope this help someone in future</p>\n"},{"comments":[{"owner":{"account_id":2235921,"reputation":2719,"user_id":1972317,"accept_rate":80,"display_name":"taringamberini"},"score":2,"creation_date":1519034231,"post_id":44777270,"comment_id":84730110,"body_markdown":"We are in a similar case, with `ecdsa-sha2-nistp384`, and your solution work very well. Accordingly to [openssh-keyscan manual](https://man.openbsd.org/ssh-keyscan), and our need, we run `ssh-keyscan -t rsa,ecdsa example.org &gt;&gt; known_hosts`.","body":"We are in a similar case, with <code>ecdsa-sha2-nistp384</code>, and your solution work very well. Accordingly to <a href=\"https://man.openbsd.org/ssh-keyscan\" rel=\"nofollow noreferrer\">openssh-keyscan manual</a>, and our need, we run <code>ssh-keyscan -t rsa,ecdsa example.org &gt;&gt; known_hosts</code>."},{"owner":{"account_id":1245443,"reputation":1656,"user_id":1207019,"display_name":"bdulac"},"score":2,"creation_date":1549981371,"post_id":44777270,"comment_id":96095820,"body_markdown":"I had such a problem, but the exception was *JSchException: reject HostKey:* instead of *JSchException: UnknownHostKey* (this might help some other users)","body":"I had such a problem, but the exception was <i>JSchException: reject HostKey:</i> instead of <i>JSchException: UnknownHostKey</i> (this might help some other users)"},{"owner":{"account_id":1620438,"reputation":15219,"user_id":1497139,"accept_rate":68,"display_name":"Wolfgang Fahl"},"score":0,"creation_date":1588404987,"post_id":44777270,"comment_id":108885966,"body_markdown":"I had to additionally add the setKnownHosts file as proposed by @krishnakumarp","body":"I had to additionally add the setKnownHosts file as proposed by @krishnakumarp"}],"tags":[],"owner":{"account_id":4289444,"reputation":1067,"user_id":3601487,"accept_rate":75,"display_name":"user3601487"},"comment_count":3,"down_vote_count":0,"up_vote_count":73,"is_accepted":false,"score":73,"last_activity_date":1688247930,"creation_date":1498557212,"answer_id":44777270,"question_id":2003419,"body_markdown":"While the question has been answered in general, I&#39;ve found myself that there&#39;s a [case][1] when even existing *known_hosts* entry doesn&#39;t help. This happens when an SSH server sends ECDSA fingerprint and as a result, you&#39;ll have an entry like this:\r\n\r\n    |1|+HASH=|HASH= ecdsa-sha2-nistp256 FINGERPRINT=\r\n\r\nThe problem is that JSch **prefers** SHA_RSA and while connecting it will try to compare SHA-RSA fingerprint, which will result with error about &quot;unknown host&quot;.\r\n\r\nTo fix this simply run:\r\n\r\n    $ ssh-keyscan -H -t rsa example.org &gt;&gt; known_hosts\r\n\r\nor complain to [Jcraft][2] about prefering SHA_RSA instead of using the local _HostKeyAlgorithms_ setting, although they don&#39;t seem to be too [eager][3] to fix their [bugs][4].\r\n\r\n\r\n  [1]: https://sourceforge.net/p/jsch/feature-requests/5/\r\n  [2]: http://www.jcraft.com/jsch/ &quot;JCraft&quot;\r\n  [3]: https://sourceforge.net/p/jsch/patches/10/\r\n  [4]: https://sourceforge.net/p/jsch/support-requests/27/","title":"com.jcraft.jsch.JSchException: UnknownHostKey","body":"<p>While the question has been answered in general, I've found myself that there's a <a href=\"https://sourceforge.net/p/jsch/feature-requests/5/\" rel=\"nofollow noreferrer\">case</a> when even existing <em>known_hosts</em> entry doesn't help. This happens when an SSH server sends ECDSA fingerprint and as a result, you'll have an entry like this:</p>\n<pre><code>|1|+HASH=|HASH= ecdsa-sha2-nistp256 FINGERPRINT=\n</code></pre>\n<p>The problem is that JSch <strong>prefers</strong> SHA_RSA and while connecting it will try to compare SHA-RSA fingerprint, which will result with error about &quot;unknown host&quot;.</p>\n<p>To fix this simply run:</p>\n<pre><code>$ ssh-keyscan -H -t rsa example.org &gt;&gt; known_hosts\n</code></pre>\n<p>or complain to <a href=\"http://www.jcraft.com/jsch/\" rel=\"nofollow noreferrer\" title=\"JCraft\">Jcraft</a> about prefering SHA_RSA instead of using the local <em>HostKeyAlgorithms</em> setting, although they don't seem to be too <a href=\"https://sourceforge.net/p/jsch/patches/10/\" rel=\"nofollow noreferrer\">eager</a> to fix their <a href=\"https://sourceforge.net/p/jsch/support-requests/27/\" rel=\"nofollow noreferrer\">bugs</a>.</p>\n"},{"tags":[],"owner":{"account_id":2691023,"reputation":16196,"user_id":2324388,"accept_rate":41,"display_name":"Marian Kl&#252;hspies"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637591321,"creation_date":1637591321,"answer_id":70067413,"question_id":2003419,"body_markdown":"I&#39;ve found the solution in one of the deleted answers written by **@Jairo Mart&#237;nez**\r\n\r\nFirstly, the server requires to store the host as hashed rsa\r\n\r\n\r\n&gt; ssh-keyscan -H -t rsa SERVER_IP_ADDRESS &gt;&gt; known_hosts_file\r\n\r\n\r\nIn addition, it was required to tell Jsch that the host key is hashed\r\n\r\n&gt; session.setConfig(&quot;HashKnownHosts&quot;,  &quot;yes&quot;);\r\n","title":"com.jcraft.jsch.JSchException: UnknownHostKey","body":"<p>I've found the solution in one of the deleted answers written by <strong>@Jairo Martínez</strong></p>\n<p>Firstly, the server requires to store the host as hashed rsa</p>\n<blockquote>\n<p>ssh-keyscan -H -t rsa SERVER_IP_ADDRESS &gt;&gt; known_hosts_file</p>\n</blockquote>\n<p>In addition, it was required to tell Jsch that the host key is hashed</p>\n<blockquote>\n<p>session.setConfig(&quot;HashKnownHosts&quot;,  &quot;yes&quot;);</p>\n</blockquote>\n"}],"owner":{"account_id":71594,"reputation":19462,"user_id":207090,"display_name":"Alex"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":251618,"favorite_count":0,"down_vote_count":0,"up_vote_count":210,"accepted_answer_id":2003460,"answer_count":13,"score":210,"last_activity_date":1688247930,"creation_date":1262652331,"question_id":2003419,"body_markdown":"I&#39;m trying to use [Jsch][1] to establish an SSH connection in Java. My code produces the following exception:\r\n\r\n    com.jcraft.jsch.JSchException: UnknownHostKey: mywebsite.example.\r\n    RSA key fingerprint is 22:fb:ee:fe:18:cd:aa:9a:9c:78:89:9f:b4:78:75:b4\r\n\r\nI cannot find how to verify the host key in the Jsch documentation. I have included my code below.\r\n\r\n    import com.jcraft.jsch.JSch;\r\n    import com.jcraft.jsch.Session;\r\n\r\n    public class ssh {\r\n        public static void main(String[] arg) {\r\n\r\n    \t    try {\r\n                JSch jsch = new JSch();\r\n\r\n                //create SSH connection\r\n                String host = &quot;mywebsite.example&quot;;\r\n                String user = &quot;username&quot;;\r\n                String password = &quot;123456&quot;;\r\n\r\n                Session session = jsch.getSession(user, host, 22);\r\n                session.setPassword(password);\r\n                session.connect();\r\n\r\n            } catch(Exception e) {\r\n                System.out.println(e);\r\n    \t    }\r\n        }\r\n    }\r\n\r\n   [1]: http://www.jcraft.com/jsch/","title":"com.jcraft.jsch.JSchException: UnknownHostKey","body":"<p>I'm trying to use <a href=\"http://www.jcraft.com/jsch/\" rel=\"noreferrer\">Jsch</a> to establish an SSH connection in Java. My code produces the following exception:</p>\n<pre><code>com.jcraft.jsch.JSchException: UnknownHostKey: mywebsite.example.\nRSA key fingerprint is 22:fb:ee:fe:18:cd:aa:9a:9c:78:89:9f:b4:78:75:b4\n</code></pre>\n<p>I cannot find how to verify the host key in the Jsch documentation. I have included my code below.</p>\n<pre><code>import com.jcraft.jsch.JSch;\nimport com.jcraft.jsch.Session;\n\npublic class ssh {\n    public static void main(String[] arg) {\n\n        try {\n            JSch jsch = new JSch();\n\n            //create SSH connection\n            String host = &quot;mywebsite.example&quot;;\n            String user = &quot;username&quot;;\n            String password = &quot;123456&quot;;\n\n            Session session = jsch.getSession(user, host, 22);\n            session.setPassword(password);\n            session.connect();\n\n        } catch(Exception e) {\n            System.out.println(e);\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","json","kotlin","unmarshalling","moshi"],"answers":[{"tags":[],"owner":{"account_id":1963913,"reputation":1943,"user_id":1764648,"display_name":"Gopal S Akshintala"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687955689,"creation_date":1687789558,"answer_id":76557629,"question_id":76541684,"body_markdown":"Here is a Custom Moshi Marshaller to achieve this:\r\n\r\n```kotlin\r\nclass RecordAdapterFactory : JsonAdapter&lt;Record&gt;() {\r\n  @FromJson\r\n  override fun fromJson(reader: JsonReader): Record {\r\n    reader.beginObject()\r\n    var attributes = Attributes(&quot;&quot;, &quot;&quot;)\r\n    val recordBody = mutableMapOf&lt;String, String&gt;()\r\n    while (reader.hasNext()) {\r\n      when (val nextName = reader.nextName()) {\r\n        &quot;attributes&quot; -&gt; {\r\n          val attrMap = reader.readJsonValue() as Map&lt;String, String&gt;\r\n          attributes = Attributes(attrMap[&quot;type&quot;] ?: &quot;&quot;, attrMap[&quot;url&quot;] ?: &quot;&quot;)\r\n        }\r\n        else -&gt; recordBody[nextName] = reader.nextString()\r\n      }\r\n    }\r\n    reader.endObject()\r\n    return Record(attributes, recordBody)\r\n  }\r\n\r\n  @ToJson\r\n  override fun toJson(writer: JsonWriter, record: Record?) {\r\n    writer.beginObject()\r\n    writer.name(&quot;attributes&quot;)\r\n    writer.beginObject()\r\n    writer.name(&quot;type&quot;).value(record?.attributes?.type)\r\n    writer.name(&quot;url&quot;).value(record?.attributes?.url)\r\n    writer.endObject()\r\n    record?.recordBody?.entries?.forEach { writer.name(it.key).value(it.value) }\r\n    writer.endObject()\r\n  }\r\n}\r\n```","title":"Moshi: How to Deserialize JSON with a mix of fixed and dynamic properties","body":"<p>Here is a Custom Moshi Marshaller to achieve this:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>class RecordAdapterFactory : JsonAdapter&lt;Record&gt;() {\n  @FromJson\n  override fun fromJson(reader: JsonReader): Record {\n    reader.beginObject()\n    var attributes = Attributes(&quot;&quot;, &quot;&quot;)\n    val recordBody = mutableMapOf&lt;String, String&gt;()\n    while (reader.hasNext()) {\n      when (val nextName = reader.nextName()) {\n        &quot;attributes&quot; -&gt; {\n          val attrMap = reader.readJsonValue() as Map&lt;String, String&gt;\n          attributes = Attributes(attrMap[&quot;type&quot;] ?: &quot;&quot;, attrMap[&quot;url&quot;] ?: &quot;&quot;)\n        }\n        else -&gt; recordBody[nextName] = reader.nextString()\n      }\n    }\n    reader.endObject()\n    return Record(attributes, recordBody)\n  }\n\n  @ToJson\n  override fun toJson(writer: JsonWriter, record: Record?) {\n    writer.beginObject()\n    writer.name(&quot;attributes&quot;)\n    writer.beginObject()\n    writer.name(&quot;type&quot;).value(record?.attributes?.type)\n    writer.name(&quot;url&quot;).value(record?.attributes?.url)\n    writer.endObject()\n    record?.recordBody?.entries?.forEach { writer.name(it.key).value(it.value) }\n    writer.endObject()\n  }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1963913,"reputation":1943,"user_id":1764648,"display_name":"Gopal S Akshintala"},"score":0,"creation_date":1688295853,"post_id":76596649,"comment_id":135052461,"body_markdown":"Thanks @Eric Cochran. This is indeed robust. I have a doubt, what is the difference between extending `JsonAdapter&lt;Record&gt;` vs not extending and just using the annotations `@FromJson` and `@ToJson`. I see both work alike. When is what recommended?","body":"Thanks @Eric Cochran. This is indeed robust. I have a doubt, what is the difference between extending <code>JsonAdapter&lt;Record&gt;</code> vs not extending and just using the annotations <code>@FromJson</code> and <code>@ToJson</code>. I see both work alike. When is what recommended?"},{"owner":{"account_id":1874735,"reputation":8514,"user_id":1696171,"accept_rate":73,"display_name":"Eric Cochran"},"score":1,"creation_date":1688312507,"post_id":76596649,"comment_id":135054282,"body_markdown":"You don&#39;t need the annotations if you extend JsonAdapter yourself, but Moshi creates a JsonAdapter.Factory for you if you use the annotations. You can make your own without the annotations, but it&#39;s just more user code, especially when you&#39;re doing things like delegating to other JsonAdapters like in the above code.","body":"You don&#39;t need the annotations if you extend JsonAdapter yourself, but Moshi creates a JsonAdapter.Factory for you if you use the annotations. You can make your own without the annotations, but it&#39;s just more user code, especially when you&#39;re doing things like delegating to other JsonAdapters like in the above code."}],"tags":[],"owner":{"account_id":1874735,"reputation":8514,"user_id":1696171,"accept_rate":73,"display_name":"Eric Cochran"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1688247189,"creation_date":1688247189,"answer_id":76596649,"question_id":76541684,"body_markdown":"The current answer assumes that the &quot;attributes&quot; property will always be the first property and that the recordBody map values are always strings (that doesn&#39;t seem to be the case in the original question?), and it also could use the `selectName` and other Moshi JsonReader features.\r\n\r\n\r\nHere&#39;s my take on a more resilient adapter.\r\n```kotlin\r\n@JsonClass(generateAdapter = true)\r\ndata class Body(\r\n  val records: List&lt;Record&gt;\r\n)\r\n\r\n@JsonClass(generateAdapter = true)\r\ndata class Record(\r\n  val attributes: Attributes,\r\n  val recordBody: Map&lt;String, Any&gt;\r\n)\r\n\r\n@JsonClass(generateAdapter = true)\r\ndata class Attributes(\r\n  val type: String,\r\n  val url: String\r\n)\r\n\r\nobject RecordAdapter {\r\n  val options = JsonReader.Options.of(&quot;attributes&quot;)\r\n\r\n  @FromJson\r\n  fun fromJson(reader: JsonReader, attributesJsonAdapter: JsonAdapter&lt;Attributes&gt;): Record {\r\n    reader.beginObject()\r\n    var attributes: Attributes? = null\r\n    val recordBody = mutableMapOf&lt;String, Any&gt;()\r\n    while (reader.hasNext()) {\r\n      when (reader.selectName(options)) {\r\n        0 -&gt; {\r\n          if (attributes != null) {\r\n            throw JsonDataException(&quot;Duplicate attributes.&quot;)\r\n          }\r\n          attributes = attributesJsonAdapter.fromJson(reader)\r\n        }\r\n\r\n        -1 -&gt; {\r\n          recordBody[reader.nextName()] = reader.readJsonValue()!!\r\n        }\r\n\r\n        else -&gt; {\r\n          throw AssertionError()\r\n        }\r\n      }\r\n    }\r\n    reader.endObject()\r\n    return Record(attributes!!, recordBody)\r\n  }\r\n\r\n  @ToJson\r\n  fun toJson(\r\n    writer: JsonWriter,\r\n    value: Record,\r\n    attributesJsonAdapter: JsonAdapter&lt;Attributes&gt;,\r\n    dynamicJsonAdapter: JsonAdapter&lt;Any&gt;\r\n  ) {\r\n    writer.beginObject()\r\n    writer.name(&quot;attributes&quot;)\r\n    attributesJsonAdapter.toJson(writer, value.attributes)\r\n    for (entry in value.recordBody.entries) {\r\n      writer.name(entry.key)\r\n      dynamicJsonAdapter.toJson(writer, entry.value)\r\n    }\r\n    writer.endObject()\r\n  }\r\n}\r\n\r\nfun main() {\r\n  val moshi = Moshi.Builder().add(RecordAdapter).build()\r\n  val idResponseJsonAdapter = moshi.adapter(Body::class.java)\r\n  val encoded = &quot;&quot;&quot;\r\n    {\r\n      &quot;records&quot;: [\r\n        {\r\n          &quot;attributes&quot;: {\r\n          &quot;type&quot;: &quot;...&quot;,\r\n          &quot;url&quot;: &quot;...&quot;\r\n        },\r\n        &quot;Id&quot;: &quot;...&quot;,\r\n        &quot;Name&quot;: &quot;...&quot;,\r\n        &quot;...&quot;: &quot;...&quot;\r\n      }\r\n    ]\r\n  }&quot;&quot;&quot;.trimIndent()\r\n  val decoded = Body(\r\n    listOf(\r\n      Record(\r\n        Attributes(\r\n          type = &quot;...&quot;,\r\n          url = &quot;...&quot;\r\n        ),\r\n        mapOf(\r\n          &quot;Id&quot; to &quot;...&quot;,\r\n          &quot;Name&quot; to &quot;...&quot;,\r\n          &quot;...&quot; to &quot;...&quot;\r\n        )\r\n      )\r\n    )\r\n  )\r\n  println(idResponseJsonAdapter.fromJson(encoded))\r\n  println(idResponseJsonAdapter.toJson(decoded))\r\n}\r\n```\r\nPrints:\r\n```\r\nBody(records=[Record(attributes=Attributes(type=..., url=...), recordBody={Id=..., Name=..., ...=...})])\r\n{&quot;records&quot;:[{&quot;attributes&quot;:{&quot;type&quot;:&quot;...&quot;,&quot;url&quot;:&quot;...&quot;},&quot;Id&quot;:&quot;...&quot;,&quot;Name&quot;:&quot;...&quot;,&quot;...&quot;:&quot;...&quot;}]}\r\n```","title":"Moshi: How to Deserialize JSON with a mix of fixed and dynamic properties","body":"<p>The current answer assumes that the &quot;attributes&quot; property will always be the first property and that the recordBody map values are always strings (that doesn't seem to be the case in the original question?), and it also could use the <code>selectName</code> and other Moshi JsonReader features.</p>\n<p>Here's my take on a more resilient adapter.</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>@JsonClass(generateAdapter = true)\ndata class Body(\n  val records: List&lt;Record&gt;\n)\n\n@JsonClass(generateAdapter = true)\ndata class Record(\n  val attributes: Attributes,\n  val recordBody: Map&lt;String, Any&gt;\n)\n\n@JsonClass(generateAdapter = true)\ndata class Attributes(\n  val type: String,\n  val url: String\n)\n\nobject RecordAdapter {\n  val options = JsonReader.Options.of(&quot;attributes&quot;)\n\n  @FromJson\n  fun fromJson(reader: JsonReader, attributesJsonAdapter: JsonAdapter&lt;Attributes&gt;): Record {\n    reader.beginObject()\n    var attributes: Attributes? = null\n    val recordBody = mutableMapOf&lt;String, Any&gt;()\n    while (reader.hasNext()) {\n      when (reader.selectName(options)) {\n        0 -&gt; {\n          if (attributes != null) {\n            throw JsonDataException(&quot;Duplicate attributes.&quot;)\n          }\n          attributes = attributesJsonAdapter.fromJson(reader)\n        }\n\n        -1 -&gt; {\n          recordBody[reader.nextName()] = reader.readJsonValue()!!\n        }\n\n        else -&gt; {\n          throw AssertionError()\n        }\n      }\n    }\n    reader.endObject()\n    return Record(attributes!!, recordBody)\n  }\n\n  @ToJson\n  fun toJson(\n    writer: JsonWriter,\n    value: Record,\n    attributesJsonAdapter: JsonAdapter&lt;Attributes&gt;,\n    dynamicJsonAdapter: JsonAdapter&lt;Any&gt;\n  ) {\n    writer.beginObject()\n    writer.name(&quot;attributes&quot;)\n    attributesJsonAdapter.toJson(writer, value.attributes)\n    for (entry in value.recordBody.entries) {\n      writer.name(entry.key)\n      dynamicJsonAdapter.toJson(writer, entry.value)\n    }\n    writer.endObject()\n  }\n}\n\nfun main() {\n  val moshi = Moshi.Builder().add(RecordAdapter).build()\n  val idResponseJsonAdapter = moshi.adapter(Body::class.java)\n  val encoded = &quot;&quot;&quot;\n    {\n      &quot;records&quot;: [\n        {\n          &quot;attributes&quot;: {\n          &quot;type&quot;: &quot;...&quot;,\n          &quot;url&quot;: &quot;...&quot;\n        },\n        &quot;Id&quot;: &quot;...&quot;,\n        &quot;Name&quot;: &quot;...&quot;,\n        &quot;...&quot;: &quot;...&quot;\n      }\n    ]\n  }&quot;&quot;&quot;.trimIndent()\n  val decoded = Body(\n    listOf(\n      Record(\n        Attributes(\n          type = &quot;...&quot;,\n          url = &quot;...&quot;\n        ),\n        mapOf(\n          &quot;Id&quot; to &quot;...&quot;,\n          &quot;Name&quot; to &quot;...&quot;,\n          &quot;...&quot; to &quot;...&quot;\n        )\n      )\n    )\n  )\n  println(idResponseJsonAdapter.fromJson(encoded))\n  println(idResponseJsonAdapter.toJson(decoded))\n}\n</code></pre>\n<p>Prints:</p>\n<pre><code>Body(records=[Record(attributes=Attributes(type=..., url=...), recordBody={Id=..., Name=..., ...=...})])\n{&quot;records&quot;:[{&quot;attributes&quot;:{&quot;type&quot;:&quot;...&quot;,&quot;url&quot;:&quot;...&quot;},&quot;Id&quot;:&quot;...&quot;,&quot;Name&quot;:&quot;...&quot;,&quot;...&quot;:&quot;...&quot;}]}\n</code></pre>\n"}],"owner":{"account_id":1963913,"reputation":1943,"user_id":1764648,"display_name":"Gopal S Akshintala"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":217,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76596649,"answer_count":2,"score":0,"last_activity_date":1688247189,"creation_date":1687535402,"question_id":76541684,"body_markdown":"For a JSON like this consider the properties other than `attributes` are dynamic:\r\n\r\n```json\r\n&quot;records&quot;: [\r\n  {\r\n    &quot;attributes&quot;: {\r\n      &quot;type&quot;: &quot;...&quot;,\r\n      &quot;url&quot;: &quot;...&quot;\r\n    },\r\n    &quot;Id&quot;: &quot;...&quot;,\r\n    &quot;Name&quot;: &quot;...&quot;,\r\n    &quot;...&quot;: &quot;...&quot;\r\n  }\r\n]\r\n```\r\n\r\nHow can I Desrialize or Unmarshall into a Dataclass like this such that all the dynamic keys go into a `recordBody: Map&lt;String, Any&gt;`\r\n\r\n```kotlin\r\n@JsonClass(generateAdapter = true)\r\ndata class Body(\r\n  val records: List&lt;Record&gt;,\r\n)\r\n\r\n@JsonClass(generateAdapter = true)\r\ndata class Record(\r\n  val attributes: Attributes,\r\n  val recordBody: Map&lt;String, Any&gt;\r\n)\r\n\r\n@JsonClass(generateAdapter = true)\r\ndata class Attributes(\r\n  val type: String,\r\n  val url: String\r\n)\r\n```\r\n\r\nI cannot find an annotation similar to `@JsonAnySetter`","title":"Moshi: How to Deserialize JSON with a mix of fixed and dynamic properties","body":"<p>For a JSON like this consider the properties other than <code>attributes</code> are dynamic:</p>\n<pre class=\"lang-json prettyprint-override\"><code>&quot;records&quot;: [\n  {\n    &quot;attributes&quot;: {\n      &quot;type&quot;: &quot;...&quot;,\n      &quot;url&quot;: &quot;...&quot;\n    },\n    &quot;Id&quot;: &quot;...&quot;,\n    &quot;Name&quot;: &quot;...&quot;,\n    &quot;...&quot;: &quot;...&quot;\n  }\n]\n</code></pre>\n<p>How can I Desrialize or Unmarshall into a Dataclass like this such that all the dynamic keys go into a <code>recordBody: Map&lt;String, Any&gt;</code></p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>@JsonClass(generateAdapter = true)\ndata class Body(\n  val records: List&lt;Record&gt;,\n)\n\n@JsonClass(generateAdapter = true)\ndata class Record(\n  val attributes: Attributes,\n  val recordBody: Map&lt;String, Any&gt;\n)\n\n@JsonClass(generateAdapter = true)\ndata class Attributes(\n  val type: String,\n  val url: String\n)\n</code></pre>\n<p>I cannot find an annotation similar to <code>@JsonAnySetter</code></p>\n"},{"tags":["java","arguments","this"],"comments":[{"owner":{"account_id":18682665,"reputation":1535,"user_id":13618871,"display_name":"AKSingh"},"score":2,"creation_date":1688220003,"post_id":76594881,"comment_id":135046409,"body_markdown":"No, this does not seem possible. There is an alternative way I can think of. Create the child node using only the state and this parameters. Then calculate cost and call a setter method in the child node to set the cost.","body":"No, this does not seem possible. There is an alternative way I can think of. Create the child node using only the state and this parameters. Then calculate cost and call a setter method in the child node to set the cost."},{"owner":{"account_id":10732579,"reputation":666,"user_id":7898202,"display_name":"MorganS42"},"score":0,"creation_date":1689386911,"post_id":76594881,"comment_id":135210577,"body_markdown":"Stelios, have you read my answer?","body":"Stelios, have you read my answer?"}],"answers":[{"tags":[],"owner":{"account_id":10732579,"reputation":666,"user_id":7898202,"display_name":"MorganS42"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1688245760,"creation_date":1688245760,"answer_id":76596590,"question_id":76594881,"body_markdown":"You could completely remove the `calculateCost(this, ???)` parameter, and instead move it into the Node constructor. You haven&#39;t posted what the Node constructor currently looks like, so the below code is simply a template that you can map to your current solution:\r\n```java\r\nclass Node {\r\n\t* before constructor *\r\n\r\n\tNode(Table state, Node parent) {\r\n\t\tthis.state = state;\r\n    \tthis.parent = parent;\r\n\r\n\t\tthis.cost = calculateCost(parent, this);\r\n\r\n\t\t* rest of constructor *\r\n\t}\r\n\r\n\t* after constructor *\r\n}\r\n```\r\n\r\nThis should give the desired effect. Your `generateChildren` method would now look like:\r\n```java\r\npublic void generateChildren(){\r\n    ArrayList&lt;Table&gt; allStates = this.state.generateMoves();\r\n\r\n    for(Table state : allStates){\r\n        Node child = new Node(state, this);\r\n\r\n        children.add(child);\r\n    }\r\n}\r\n```","title":"Java passing a newly created object as method argument inside the constructor of that object","body":"<p>You could completely remove the <code>calculateCost(this, ???)</code> parameter, and instead move it into the Node constructor. You haven't posted what the Node constructor currently looks like, so the below code is simply a template that you can map to your current solution:</p>\n<pre class=\"lang-java prettyprint-override\"><code>class Node {\n    * before constructor *\n\n    Node(Table state, Node parent) {\n        this.state = state;\n        this.parent = parent;\n\n        this.cost = calculateCost(parent, this);\n\n        * rest of constructor *\n    }\n\n    * after constructor *\n}\n</code></pre>\n<p>This should give the desired effect. Your <code>generateChildren</code> method would now look like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void generateChildren(){\n    ArrayList&lt;Table&gt; allStates = this.state.generateMoves();\n\n    for(Table state : allStates){\n        Node child = new Node(state, this);\n\n        children.add(child);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":9622758,"reputation":45,"user_id":7143413,"display_name":"Stelios P.98"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1688245760,"creation_date":1688217675,"question_id":76594881,"body_markdown":"I am trying to implement the UCS algorithm for a game in Java and I am now in the stage where I need to calculate the costs of each state.\r\n\r\nI made a `Node` class with 4 fields (a `Table` *state*, `double` *cost*, a `Node` *parent* and an `ArrayList&lt;Node&gt;` *children*)  where i have a `private static double calculateCost(Node starting, Node next)` method, which returns the cost of transitioning from the `starting` node to the `next` node.\r\n\r\n*Ignore the Table class, there is no need to explain what it does.*\r\n\r\nI also made the following `generateChildren()` method:\r\n\r\n```java\r\npublic void generateChildren(){\r\n    ArrayList&lt;Table&gt; allStates = this.state.generateMoves();\r\n\r\n    for(Table state : allStates){\r\n        Node child = new Node(state, calculateCost(this, ???), this);\r\n\r\n        children.add(child);\r\n    }\r\n}\r\n```\r\n\r\nIt generates all the possible moves from a given state, and for each move it creates a child.\r\n\r\nWhat I want is to pass `child` as the second argument of the `calculateCost()`, so that `this` object is the starting Node, and the `child` is the next Node. Is it possible at all?","title":"Java passing a newly created object as method argument inside the constructor of that object","body":"<p>I am trying to implement the UCS algorithm for a game in Java and I am now in the stage where I need to calculate the costs of each state.</p>\n<p>I made a <code>Node</code> class with 4 fields (a <code>Table</code> <em>state</em>, <code>double</code> <em>cost</em>, a <code>Node</code> <em>parent</em> and an <code>ArrayList&lt;Node&gt;</code> <em>children</em>)  where i have a <code>private static double calculateCost(Node starting, Node next)</code> method, which returns the cost of transitioning from the <code>starting</code> node to the <code>next</code> node.</p>\n<p><em>Ignore the Table class, there is no need to explain what it does.</em></p>\n<p>I also made the following <code>generateChildren()</code> method:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void generateChildren(){\n    ArrayList&lt;Table&gt; allStates = this.state.generateMoves();\n\n    for(Table state : allStates){\n        Node child = new Node(state, calculateCost(this, ???), this);\n\n        children.add(child);\n    }\n}\n</code></pre>\n<p>It generates all the possible moves from a given state, and for each move it creates a child.</p>\n<p>What I want is to pass <code>child</code> as the second argument of the <code>calculateCost()</code>, so that <code>this</code> object is the starting Node, and the <code>child</code> is the next Node. Is it possible at all?</p>\n"},{"tags":["java","mysql","spring","spring-boot","hibernate"],"answers":[{"comments":[{"owner":{"account_id":1229539,"reputation":82701,"user_id":1194415,"accept_rate":76,"display_name":"membersound"},"score":0,"creation_date":1626784402,"post_id":68454606,"comment_id":120981039,"body_markdown":"Same error: `[bit (Types#TINYINT)], but expecting [tinyint(1) unsigned (Types#INTEGER)]`","body":"Same error: <code>[bit (Types#TINYINT)], but expecting [tinyint(1) unsigned (Types#INTEGER)]</code>"},{"owner":{"account_id":11377012,"reputation":12772,"user_id":8340997,"display_name":"Anish B."},"score":1,"creation_date":1626785462,"post_id":68454606,"comment_id":120981500,"body_markdown":"@membersound I have updated my answer. Just check if this works.","body":"@membersound I have updated my answer. Just check if this works."},{"owner":{"account_id":1229539,"reputation":82701,"user_id":1194415,"accept_rate":76,"display_name":"membersound"},"score":0,"creation_date":1626791173,"post_id":68454606,"comment_id":120984069,"body_markdown":"Unfortunately not: `found [bit (Types#TINYINT)], but expecting [tinyint(1) unsigned (Types#INTEGER)]`","body":"Unfortunately not: <code>found [bit (Types#TINYINT)], but expecting [tinyint(1) unsigned (Types#INTEGER)]</code>"}],"tags":[],"owner":{"account_id":11377012,"reputation":12772,"user_id":8340997,"display_name":"Anish B."},"comment_count":3,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1626785429,"creation_date":1626782768,"answer_id":68454606,"question_id":68453019,"body_markdown":"Modify the code to this :\r\n\r\n\r\n    @Column(columnDefinition = &quot;TINYINT&quot;)\r\n    @Type(type = &quot;org.hibernate.type.IntegerType&quot;)\r\n    public Integer counter;\r\n    ","title":"How to map tinyint to Integer in mysql and spring-boot?","body":"<p>Modify the code to this :</p>\n<pre><code>@Column(columnDefinition = &quot;TINYINT&quot;)\n@Type(type = &quot;org.hibernate.type.IntegerType&quot;)\npublic Integer counter;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":227940,"reputation":139,"user_id":489921,"display_name":"Wexoo"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688245140,"creation_date":1688245140,"answer_id":76596557,"question_id":68453019,"body_markdown":"Have a similar problem now with spring boot 3.1.1. My definitions of `TINYINT UNSIGNED` &amp; `SMALLINT UNSIGNED` stopped working. I resolved it by changing definitions to `TINYINT(3) UNSIGNED` &amp; `SMALLINT(5) UNSIGNED`, which sets the display width of the columns and has nothing to do with value ranges. More can be found [in official mysql 8 doc here][1].\r\n\r\nPlease let me know, if someone else has the same problem or knows the reason for this! Not a fan of specifying this for every single column...\r\n\r\n\r\n  [1]: https://dev.mysql.com/doc/refman/8.0/en/numeric-type-attributes.html","title":"How to map tinyint to Integer in mysql and spring-boot?","body":"<p>Have a similar problem now with spring boot 3.1.1. My definitions of <code>TINYINT UNSIGNED</code> &amp; <code>SMALLINT UNSIGNED</code> stopped working. I resolved it by changing definitions to <code>TINYINT(3) UNSIGNED</code> &amp; <code>SMALLINT(5) UNSIGNED</code>, which sets the display width of the columns and has nothing to do with value ranges. More can be found <a href=\"https://dev.mysql.com/doc/refman/8.0/en/numeric-type-attributes.html\" rel=\"nofollow noreferrer\">in official mysql 8 doc here</a>.</p>\n<p>Please let me know, if someone else has the same problem or knows the reason for this! Not a fan of specifying this for every single column...</p>\n"}],"owner":{"account_id":1229539,"reputation":82701,"user_id":1194415,"accept_rate":76,"display_name":"membersound"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1955,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1688245140,"creation_date":1626775437,"question_id":68453019,"body_markdown":"I upgraded from `spring-boot-2.4.5` to `spring-boot-2.5.0`.\r\n\r\nThe issue occurs due to upgrade from `mariadb-java-client-2.7.2` to `mariadb-java-client-2.7.3`. But I don&#39;t know why, no do I know if this is more a hibernate or more a mariadb connector problem.\r\n\r\nAnd now my application startup fails with:\r\n\r\n`found [bit (Types#TINYINT)], but expecting [tinyint unsigned (Types#INTEGER)]`\r\n\r\nI have declared the column as `@Column(&quot;TINYINT&quot;)` of type `Integer`, while in `mysql` it is a real `tinyint`, which worked without problems before the upgrade!\r\n\r\n    @Column(columnDefinition = &quot;TINYINT&quot;)\r\n    public Integer counter;\r\n    \t\r\n    \t\r\n    CREATE TABLE foo {\r\n    \t...\t\r\n    \tcounter tinyint NOT NULL,\r\n    \t...\r\n    }\r\n\r\nWhat could I do? Why is tinyint not supported anymore all of a sudden?\r\n\r\nFull log:\r\n\r\n\r\n\r\n    Caused by: org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: wrong column type encountered in column [count] in table [foo]; found [bit (Types#TINYINT)], but expecting [tinyint unsigned (Types#INTEGER)]\r\n    \tat org.hibernate.tool.schema.internal.AbstractSchemaValidator.validateColumnType(AbstractSchemaValidator.java:159) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\r\n    \tat org.hibernate.tool.schema.internal.AbstractSchemaValidator.validateTable(AbstractSchemaValidator.java:143) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\r\n    \tat org.hibernate.tool.schema.internal.GroupedSchemaValidatorImpl.validateTables(GroupedSchemaValidatorImpl.java:42) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\r\n    \tat org.hibernate.tool.schema.internal.AbstractSchemaValidator.performValidation(AbstractSchemaValidator.java:89) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\r\n    \tat org.hibernate.tool.schema.internal.AbstractSchemaValidator.doValidation(AbstractSchemaValidator.java:68) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\r\n    \tat org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:192) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\r\n    \tat org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:73) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\r\n    \tat org.hibernate.internal.SessionFactoryImpl.&lt;init&gt;(SessionFactoryImpl.java:318) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\r\n    \tat org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:468) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\r\n    \tat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1259) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\r\n    \tat org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:58) ~[spring-orm-5.3.8.jar:5.3.8]\r\n    \tat org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365) ~[spring-orm-5.3.8.jar:5.3.8]\r\n    \tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-5.3.8.jar:5.3.8]\r\n    \tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-5.3.8.jar:5.3.8]\r\n    \tat org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:341) ~[spring-orm-5.3.8.jar:5.3.8]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1845) ~[spring-beans-5.3.8.jar:5.3.8]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1782) ~[spring-beans-5.3.8.jar:5.3.8]\r\n    \t... 21 more\r\n","title":"How to map tinyint to Integer in mysql and spring-boot?","body":"<p>I upgraded from <code>spring-boot-2.4.5</code> to <code>spring-boot-2.5.0</code>.</p>\n<p>The issue occurs due to upgrade from <code>mariadb-java-client-2.7.2</code> to <code>mariadb-java-client-2.7.3</code>. But I don't know why, no do I know if this is more a hibernate or more a mariadb connector problem.</p>\n<p>And now my application startup fails with:</p>\n<p><code>found [bit (Types#TINYINT)], but expecting [tinyint unsigned (Types#INTEGER)]</code></p>\n<p>I have declared the column as <code>@Column(&quot;TINYINT&quot;)</code> of type <code>Integer</code>, while in <code>mysql</code> it is a real <code>tinyint</code>, which worked without problems before the upgrade!</p>\n<pre><code>@Column(columnDefinition = &quot;TINYINT&quot;)\npublic Integer counter;\n    \n    \nCREATE TABLE foo {\n    ... \n    counter tinyint NOT NULL,\n    ...\n}\n</code></pre>\n<p>What could I do? Why is tinyint not supported anymore all of a sudden?</p>\n<p>Full log:</p>\n<pre><code>Caused by: org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: wrong column type encountered in column [count] in table [foo]; found [bit (Types#TINYINT)], but expecting [tinyint unsigned (Types#INTEGER)]\n    at org.hibernate.tool.schema.internal.AbstractSchemaValidator.validateColumnType(AbstractSchemaValidator.java:159) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\n    at org.hibernate.tool.schema.internal.AbstractSchemaValidator.validateTable(AbstractSchemaValidator.java:143) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\n    at org.hibernate.tool.schema.internal.GroupedSchemaValidatorImpl.validateTables(GroupedSchemaValidatorImpl.java:42) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\n    at org.hibernate.tool.schema.internal.AbstractSchemaValidator.performValidation(AbstractSchemaValidator.java:89) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\n    at org.hibernate.tool.schema.internal.AbstractSchemaValidator.doValidation(AbstractSchemaValidator.java:68) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\n    at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:192) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\n    at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:73) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\n    at org.hibernate.internal.SessionFactoryImpl.&lt;init&gt;(SessionFactoryImpl.java:318) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\n    at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:468) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\n    at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1259) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\n    at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:58) ~[spring-orm-5.3.8.jar:5.3.8]\n    at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365) ~[spring-orm-5.3.8.jar:5.3.8]\n    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-5.3.8.jar:5.3.8]\n    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-5.3.8.jar:5.3.8]\n    at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:341) ~[spring-orm-5.3.8.jar:5.3.8]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1845) ~[spring-beans-5.3.8.jar:5.3.8]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1782) ~[spring-beans-5.3.8.jar:5.3.8]\n    ... 21 more\n</code></pre>\n"},{"tags":["java","spring","spring-boot","rpmbuild"],"comments":[{"owner":{"account_id":2242741,"reputation":6993,"user_id":1976843,"display_name":"JEY"},"score":0,"creation_date":1527090184,"post_id":50489911,"comment_id":87997875,"body_markdown":"how do you launch the jar ? java -jar my.jar or ./my.jar. Could you provide your gradle script ?","body":"how do you launch the jar ? java -jar my.jar or ./my.jar. Could you provide your gradle script ?"},{"owner":{"account_id":6791762,"reputation":406,"user_id":5228646,"accept_rate":89,"display_name":"JeanP"},"score":0,"creation_date":1527091990,"post_id":50489911,"comment_id":87998979,"body_markdown":"I run the java -jar my.jar","body":"I run the java -jar my.jar"},{"owner":{"account_id":444735,"reputation":6536,"user_id":836748,"accept_rate":100,"display_name":"Aaron D. Marasco"},"score":0,"creation_date":1527252410,"post_id":50489911,"comment_id":88070785,"body_markdown":"If you think it is the JAR repacking, you can turn it off with the directive in your RPM spec file: `%define __jar_repack %{nil}` - see https://www.redhat.com/archives/fedora-devel-java-list/2008-September/msg00040.html for a lot more background and caveats.","body":"If you think it is the JAR repacking, you can turn it off with the directive in your RPM spec file: <code>%define __jar_repack %{nil}</code> - see <a href=\"https://www.redhat.com/archives/fedora-devel-java-list/2008-September/msg00040.html\" rel=\"nofollow noreferrer\">redhat.com/archives/fedora-devel-java-list/2008-September/&hellip;</a> for a lot more background and caveats."},{"owner":{"account_id":11293128,"reputation":359,"user_id":8281441,"display_name":"Cliven"},"score":0,"creation_date":1661241696,"post_id":50489911,"comment_id":129718322,"body_markdown":"`%define __jar_repack %{nil}` is useable for me","body":"<code>%define __jar_repack %{nil}</code> is useable for me"}],"answers":[{"tags":[],"owner":{"account_id":27811524,"reputation":11,"user_id":21233824,"display_name":"user21233824"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688244192,"creation_date":1688102673,"answer_id":76586249,"question_id":50489911,"body_markdown":"do a small modification in your pom.xml file\r\nhere is the configurations,\r\n\r\n    &lt;plugin&gt;\r\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\r\n        &lt;configuration&gt;\r\n            &lt;archive&gt;\r\n                &lt;manifest&gt;\r\n                    &lt;addClasspath&gt;true&lt;/addClasspath&gt;\r\n                &lt;/manifest&gt;\r\n                &lt;compress&gt;false&lt;/compress&gt; &lt;!-- Add this line to disable compression --&gt;\r\n            &lt;/archive&gt;\r\n        &lt;/configuration&gt;\r\n    &lt;/plugin&gt;\r\n    \r\nafter configuring the changes run  &quot;mvn clean install&quot; and then execute the jar file `enter code here`","title":"Spring Framework &amp; rpmbuild: Failed to get nest archive for entry","body":"<p>do a small modification in your pom.xml file\nhere is the configurations,</p>\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n    &lt;configuration&gt;\n        &lt;archive&gt;\n            &lt;manifest&gt;\n                &lt;addClasspath&gt;true&lt;/addClasspath&gt;\n            &lt;/manifest&gt;\n            &lt;compress&gt;false&lt;/compress&gt; &lt;!-- Add this line to disable compression --&gt;\n        &lt;/archive&gt;\n    &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>after configuring the changes run  &quot;mvn clean install&quot; and then execute the jar file <code>enter code here</code></p>\n"}],"owner":{"account_id":6791762,"reputation":406,"user_id":5228646,"accept_rate":89,"display_name":"JeanP"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1041,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1688244192,"creation_date":1527082676,"question_id":50489911,"body_markdown":"I am working on creating an RPM for a java program with Spring Framework. I have been trying to understand why my jar files will not execute after being installed via RPM. \r\n\r\n**--Steps I followed--**\r\n\r\n 1. Build my java program using Gradle to create a built snapshot of the jars.\r\n 2. Run the jar created. (It works!)\r\n 3. Create a .spec file to be used with `rpmbuild`. \r\n 4. Create an rpm using `rpmbuild`. \r\n 5. Yum local install the rpm. \r\n 6. Run the jar installed via rpm. (It doesn&#39;t work.)\r\n\r\n**--The Issue--**  \r\nWhen trying to run my java jar installed via the rpm I receive an error.\r\n\r\n    Exception in thread &quot;main&quot; java.lang.IllegalStateException: Failed to get nested archive for entry BOOT-INF/lib/commons-io-2.4.jar\r\n    \tat org.springframework.boot.loader.archive.JarFileArchive.getNestedArchive(JarFileArchive.java:108)\r\n    \tat org.springframework.boot.loader.archive.JarFileArchive.getNestedArchives(JarFileArchive.java:86)\r\n    \tat org.springframework.boot.loader.ExecutableArchiveLauncher.getClassPathArchives(ExecutableArchiveLauncher.java:70)\r\n    \tat org.springframework.boot.loader.Launcher.launch(Launcher.java:49)\r\n    \tat org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:51)\r\n    Caused by: java.io.IOException: Unable to open nested jar file &#39;BOOT-INF/lib/commons-io-2.4.jar&#39;\r\n    \tat org.springframework.boot.loader.jar.JarFile.getNestedJarFile(JarFile.java:254)\r\n    \tat org.springframework.boot.loader.jar.JarFile.getNestedJarFile(JarFile.java:239)\r\n    \tat org.springframework.boot.loader.archive.JarFileArchive.getNestedArchive(JarFileArchive.java:103)\r\n    \t... 4 more\r\n    Caused by: java.lang.IllegalStateException: Unable to open nested entry &#39;BOOT-INF/lib/commons-io-2.4.jar&#39;. It has been compressed and nested jar files must be stored without compression. Please check the mechanism used to create your executable jar file\r\n    \tat org.springframework.boot.loader.jar.JarFile.createJarFileFromFileEntry(JarFile.java:282)\r\n    \tat org.springframework.boot.loader.jar.JarFile.createJarFileFromEntry(JarFile.java:262)\r\n    \tat org.springframework.boot.loader.jar.JarFile.getNestedJarFile(JarFile.java:250)\r\n    \t... 6 more\r\n\r\nI figured it has to do with something on how `rpmbuild` compresses the jars. The reason is because when I build my java project using **Gradle** I am able to run my jars just fine. However, if I try to run the jar from the `rpmbuild` I am creating I receive the compression exception. \r\n\r\n**--My Code--**  \r\nLittle background, the idea here is that I am using **Gradle** to build my java jars then I wanted to create an RPM out of the jars I create so that I could go and install the jars like an rpm. \r\n\r\nSince I am using `rpmbuild` for to create my rpm these are my spec files:\r\n\r\n    Name:           ${NAME}\r\n    Version:\t    ${VERSION}\r\n    Release:        1%{?dist}\r\n    Summary:        Sample\r\n    AutoReqProv:\t  no\r\n    License:        GPLv3+\r\n    URL:            \r\n    Source0:        ${NAME}-${VERSION}.tar.gz\r\n    \r\n    %description\r\n    Sample\r\n    \r\n    %setup -q\r\n    %prep\r\n    cd ${SCRIPTPATH}\r\n    cp -rf ${NAME}/ \\$RPM_BUILD_DIR/\r\n    \r\n    %build\r\n    \r\n    %install\r\n    rm -rf \\$RPM_BUILD_ROOT\r\n    mkdir -p \\$RPM_BUILD_ROOT/opt/sample/\r\n    cp -rf \\$RPM_BUILD_DIR/${NAME}/${NAME}-sample-0.0.10.BUILD-SNAPSHOT.jar \\$RPM_BUILD_ROOT/opt/sample/sample-tool-1.0/sample-tool.jar\r\n    \r\n    %clean\r\n    rm -rf \\$RPM_BUILD_ROOT\r\n    \r\n    %files\r\n    /opt/sample/\r\n    \r\n    %defattr(-,root,root,-)\r\n    %doc\r\n    \r\n    %changelog\r\n\r\nThe spec is built via a simple script that all you do is pass `${NAME}` and `${VERSION}` through it to populate those variables. Also `${NAME}-sample-0.0.10.BUILD-SNAPSHOT.jar` is my jar file that I am trying to just run. I am able to run the built non-rpm version of this jar fine without issues however trying to run the jar version installed via the rpm causes the compression exception.  \r\n\r\nI understand there are most likely other ways of creating an RPM that do not involve using `rpmbuild` but I am trying to learn how to use `rpmbuild`. In the past I am been able to create simple rpm that just do basic &quot;Hello World&quot; instructions but Spring Framework seems to be giving me trouble. ","title":"Spring Framework &amp; rpmbuild: Failed to get nest archive for entry","body":"<p>I am working on creating an RPM for a java program with Spring Framework. I have been trying to understand why my jar files will not execute after being installed via RPM. </p>\n\n<p><strong>--Steps I followed--</strong></p>\n\n<ol>\n<li>Build my java program using Gradle to create a built snapshot of the jars.</li>\n<li>Run the jar created. (It works!)</li>\n<li>Create a .spec file to be used with <code>rpmbuild</code>. </li>\n<li>Create an rpm using <code>rpmbuild</code>. </li>\n<li>Yum local install the rpm. </li>\n<li>Run the jar installed via rpm. (It doesn't work.)</li>\n</ol>\n\n<p><strong>--The Issue--</strong><br>\nWhen trying to run my java jar installed via the rpm I receive an error.</p>\n\n<pre><code>Exception in thread \"main\" java.lang.IllegalStateException: Failed to get nested archive for entry BOOT-INF/lib/commons-io-2.4.jar\n    at org.springframework.boot.loader.archive.JarFileArchive.getNestedArchive(JarFileArchive.java:108)\n    at org.springframework.boot.loader.archive.JarFileArchive.getNestedArchives(JarFileArchive.java:86)\n    at org.springframework.boot.loader.ExecutableArchiveLauncher.getClassPathArchives(ExecutableArchiveLauncher.java:70)\n    at org.springframework.boot.loader.Launcher.launch(Launcher.java:49)\n    at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:51)\nCaused by: java.io.IOException: Unable to open nested jar file 'BOOT-INF/lib/commons-io-2.4.jar'\n    at org.springframework.boot.loader.jar.JarFile.getNestedJarFile(JarFile.java:254)\n    at org.springframework.boot.loader.jar.JarFile.getNestedJarFile(JarFile.java:239)\n    at org.springframework.boot.loader.archive.JarFileArchive.getNestedArchive(JarFileArchive.java:103)\n    ... 4 more\nCaused by: java.lang.IllegalStateException: Unable to open nested entry 'BOOT-INF/lib/commons-io-2.4.jar'. It has been compressed and nested jar files must be stored without compression. Please check the mechanism used to create your executable jar file\n    at org.springframework.boot.loader.jar.JarFile.createJarFileFromFileEntry(JarFile.java:282)\n    at org.springframework.boot.loader.jar.JarFile.createJarFileFromEntry(JarFile.java:262)\n    at org.springframework.boot.loader.jar.JarFile.getNestedJarFile(JarFile.java:250)\n    ... 6 more\n</code></pre>\n\n<p>I figured it has to do with something on how <code>rpmbuild</code> compresses the jars. The reason is because when I build my java project using <strong>Gradle</strong> I am able to run my jars just fine. However, if I try to run the jar from the <code>rpmbuild</code> I am creating I receive the compression exception. </p>\n\n<p><strong>--My Code--</strong><br>\nLittle background, the idea here is that I am using <strong>Gradle</strong> to build my java jars then I wanted to create an RPM out of the jars I create so that I could go and install the jars like an rpm. </p>\n\n<p>Since I am using <code>rpmbuild</code> for to create my rpm these are my spec files:</p>\n\n<pre><code>Name:           ${NAME}\nVersion:        ${VERSION}\nRelease:        1%{?dist}\nSummary:        Sample\nAutoReqProv:      no\nLicense:        GPLv3+\nURL:            \nSource0:        ${NAME}-${VERSION}.tar.gz\n\n%description\nSample\n\n%setup -q\n%prep\ncd ${SCRIPTPATH}\ncp -rf ${NAME}/ \\$RPM_BUILD_DIR/\n\n%build\n\n%install\nrm -rf \\$RPM_BUILD_ROOT\nmkdir -p \\$RPM_BUILD_ROOT/opt/sample/\ncp -rf \\$RPM_BUILD_DIR/${NAME}/${NAME}-sample-0.0.10.BUILD-SNAPSHOT.jar \\$RPM_BUILD_ROOT/opt/sample/sample-tool-1.0/sample-tool.jar\n\n%clean\nrm -rf \\$RPM_BUILD_ROOT\n\n%files\n/opt/sample/\n\n%defattr(-,root,root,-)\n%doc\n\n%changelog\n</code></pre>\n\n<p>The spec is built via a simple script that all you do is pass <code>${NAME}</code> and <code>${VERSION}</code> through it to populate those variables. Also <code>${NAME}-sample-0.0.10.BUILD-SNAPSHOT.jar</code> is my jar file that I am trying to just run. I am able to run the built non-rpm version of this jar fine without issues however trying to run the jar version installed via the rpm causes the compression exception.  </p>\n\n<p>I understand there are most likely other ways of creating an RPM that do not involve using <code>rpmbuild</code> but I am trying to learn how to use <code>rpmbuild</code>. In the past I am been able to create simple rpm that just do basic \"Hello World\" instructions but Spring Framework seems to be giving me trouble. </p>\n"},{"tags":["java","android","firebase-realtime-database"],"comments":[{"owner":{"account_id":72426,"reputation":573804,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"score":0,"creation_date":1688243917,"post_id":76595464,"comment_id":135048843,"body_markdown":"Your `return dataList;` returns the data list before any of the `onDataChange` has been called, and thus before any of the `dataList.add(value);` has executed. If you set breakpoints on those lines and run the code in a debugger, you can see this quickly. Any code that needs the data from the database must be inside the `onDataChange`, be called from there, or be otherwise synchronized. Such as by calling `notifyDataSetChanged` as I said in my answer to your previous questions.","body":"Your <code>return dataList;</code> returns the data list before any of the <code>onDataChange</code> has been called, and thus before any of the <code>dataList.add(value);</code> has executed. If you set breakpoints on those lines and run the code in a debugger, you can see this quickly. Any code that needs the data from the database must be inside the <code>onDataChange</code>, be called from there, or be otherwise synchronized. Such as by calling <code>notifyDataSetChanged</code> as I said in my answer to your previous questions."},{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1688373118,"post_id":76595464,"comment_id":135060489,"body_markdown":"If you understand Kotlin, I think that this [resource](https://medium.com/firebase-tips-tricks/how-to-read-data-from-firebase-realtime-database-using-get-269ef3e179c5) will help. Here is the corresponding [repo](https://github.com/alexmamo/RealtimeDatabase).","body":"If you understand Kotlin, I think that this <a href=\"https://medium.com/firebase-tips-tricks/how-to-read-data-from-firebase-realtime-database-using-get-269ef3e179c5\" rel=\"nofollow noreferrer\">resource</a> will help. Here is the corresponding <a href=\"https://github.com/alexmamo/RealtimeDatabase\" rel=\"nofollow noreferrer\">repo</a>."}],"owner":{"account_id":17183107,"reputation":245,"user_id":12438238,"display_name":"Vasant Raval"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":15,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1688243924,"answer_count":0,"score":0,"last_activity_date":1688243934,"creation_date":1688226736,"question_id":76595464,"body_markdown":"Im trying to get list of strings from a child and store it in a list of string , but idk what is wrong it is not getting any data from firebase at all \r\n\r\nHere is the Data Fomat in Firebase Real Time Data Base\r\n\r\n    {\r\n    \r\n    &quot;art&quot;: [\r\n    \r\n    {\r\n    \r\n    &quot;MrIncredibleArt&quot;: &quot;stringexample4&quot;\r\n    \r\n    },\r\n    \r\n    {\r\n    \r\n    &quot;GhostFace&quot;: &quot;stringexample5&quot;\r\n    \r\n    },\r\n    \r\n    ...\r\n    \r\n    ],\r\n    \r\n    &quot;nsfw&quot;: [\r\n    \r\n    {\r\n    \r\n    &quot;AnyLoser1&quot;: &quot;stringtrollface1&quot;\r\n    \r\n    },\r\n    \r\n    {\r\n    \r\n    &quot;AnyLoser2&quot;: &quot;stringexample2&quot;\r\n    \r\n    },\r\n    \r\n    ...\r\n    \r\n    ]\r\n    \r\n    }\r\n\r\nHere is the method which get the data from firbase and store it in a list of string \r\n\r\n     private List&lt;String&gt; initAsciiArts_Meme() {\r\n            DatabaseReference databaseRef = FirebaseDatabase.getInstance().getReference().child(&quot;art&quot;);\r\n            List&lt;String&gt; dataList =  new ArrayList&lt;&gt;();\r\n            databaseRef.addListenerForSingleValueEvent(new ValueEventListener() {\r\n                @Override\r\n                public void onDataChange(@NotNull DataSnapshot dataSnapshot) {\r\n    \r\n    \r\n                    for (DataSnapshot memeSnapshot : dataSnapshot.getChildren()) {\r\n                        for (DataSnapshot kvpSnapshot : memeSnapshot.getChildren()) {\r\n                            String key = kvpSnapshot.getKey();\r\n                            String value = kvpSnapshot.getValue(String.class);\r\n                            Log.i(&quot;Firebase_Info&quot;, key + &quot;: &#39;&quot; + value + &quot;&#39;&quot;);\r\n                            dataList.add(value);\r\n                        }\r\n                    }\r\n    \r\n    \r\n                }\r\n    \r\n                @Override\r\n                public void onCancelled(@NotNull DatabaseError databaseError) {\r\n                    // Handle any errors that may occur\r\n                    Log.e(&quot;Firebase&quot;, &quot;Failed to retrieve art data: &quot; + databaseError.getMessage());\r\n                    Toast.makeText(requireContext(), &quot;Failed to retrieve art data: &quot; + databaseError.getMessage(), Toast.LENGTH_SHORT).show();\r\n                }\r\n            });\r\n            return dataList;\r\n        }\r\n\r\n\r\nHere is the OnCreate\r\n\r\n    public class MemeFragment extends Fragment {\r\n    \r\n       List&lt;String&gt; asciiArts = new ArrayList&lt;&gt;();\r\n    \r\n     @Override\r\n        public View onCreateView(LayoutInflater inflater, ViewGroup container,\r\n                                 Bundle savedInstanceState) {\r\n            View view = inflater.inflate(R.layout.meme_fragment, container, false);\r\n            asciiArts = initAsciiArts_Meme();\r\n    try {\r\n                adapter= new MemeAdapter_Meme(asciiArts, requireContext(), this);\r\n                recyclerView.setHasFixedSize(true);\r\n                recyclerView.setAdapter(adapter);\r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n                // Handle the exception here\r\n            }\r\n    \r\n            return view;\r\n        }\r\n\r\n","title":"Unable to get data from Firebase Real Time Database","body":"<p>Im trying to get list of strings from a child and store it in a list of string , but idk what is wrong it is not getting any data from firebase at all</p>\n<p>Here is the Data Fomat in Firebase Real Time Data Base</p>\n<pre><code>{\n\n&quot;art&quot;: [\n\n{\n\n&quot;MrIncredibleArt&quot;: &quot;stringexample4&quot;\n\n},\n\n{\n\n&quot;GhostFace&quot;: &quot;stringexample5&quot;\n\n},\n\n...\n\n],\n\n&quot;nsfw&quot;: [\n\n{\n\n&quot;AnyLoser1&quot;: &quot;stringtrollface1&quot;\n\n},\n\n{\n\n&quot;AnyLoser2&quot;: &quot;stringexample2&quot;\n\n},\n\n...\n\n]\n\n}\n</code></pre>\n<p>Here is the method which get the data from firbase and store it in a list of string</p>\n<pre><code> private List&lt;String&gt; initAsciiArts_Meme() {\n        DatabaseReference databaseRef = FirebaseDatabase.getInstance().getReference().child(&quot;art&quot;);\n        List&lt;String&gt; dataList =  new ArrayList&lt;&gt;();\n        databaseRef.addListenerForSingleValueEvent(new ValueEventListener() {\n            @Override\n            public void onDataChange(@NotNull DataSnapshot dataSnapshot) {\n\n\n                for (DataSnapshot memeSnapshot : dataSnapshot.getChildren()) {\n                    for (DataSnapshot kvpSnapshot : memeSnapshot.getChildren()) {\n                        String key = kvpSnapshot.getKey();\n                        String value = kvpSnapshot.getValue(String.class);\n                        Log.i(&quot;Firebase_Info&quot;, key + &quot;: '&quot; + value + &quot;'&quot;);\n                        dataList.add(value);\n                    }\n                }\n\n\n            }\n\n            @Override\n            public void onCancelled(@NotNull DatabaseError databaseError) {\n                // Handle any errors that may occur\n                Log.e(&quot;Firebase&quot;, &quot;Failed to retrieve art data: &quot; + databaseError.getMessage());\n                Toast.makeText(requireContext(), &quot;Failed to retrieve art data: &quot; + databaseError.getMessage(), Toast.LENGTH_SHORT).show();\n            }\n        });\n        return dataList;\n    }\n</code></pre>\n<p>Here is the OnCreate</p>\n<pre><code>public class MemeFragment extends Fragment {\n\n   List&lt;String&gt; asciiArts = new ArrayList&lt;&gt;();\n\n @Override\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\n                             Bundle savedInstanceState) {\n        View view = inflater.inflate(R.layout.meme_fragment, container, false);\n        asciiArts = initAsciiArts_Meme();\ntry {\n            adapter= new MemeAdapter_Meme(asciiArts, requireContext(), this);\n            recyclerView.setHasFixedSize(true);\n            recyclerView.setAdapter(adapter);\n        } catch (Exception e) {\n            e.printStackTrace();\n            // Handle the exception here\n        }\n\n        return view;\n    }\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2871026,"reputation":31449,"user_id":2464386,"accept_rate":84,"display_name":"ajb"},"score":0,"creation_date":1417456879,"post_id":27234273,"comment_id":42945330,"body_markdown":"Yes, there&#39;s definitely a way.  If you would like a way that doesn&#39;t involve parsing the input string yourself, then I&#39;m not sure.  I don&#39;t see any `BigDecimal` methods that accept any input in any radix besides decimal.","body":"Yes, there&#39;s definitely a way.  If you would like a way that doesn&#39;t involve parsing the input string yourself, then I&#39;m not sure.  I don&#39;t see any <code>BigDecimal</code> methods that accept any input in any radix besides decimal."},{"owner":{"account_id":1821325,"reputation":7064,"user_id":1655332,"display_name":"Matt Whipple"},"score":0,"creation_date":1417458781,"post_id":27234273,"comment_id":42946252,"body_markdown":"You could always bounce through `BigInteger`...parse either side of the decimal and then concatenate and parse. There&#39;s probably some fun ways to do it numerically also or subclassing BigDecimal to modify the char-&gt;digit mapping.","body":"You could always bounce through <code>BigInteger</code>...parse either side of the decimal and then concatenate and parse. There&#39;s probably some fun ways to do it numerically also or subclassing BigDecimal to modify the char-&gt;digit mapping."},{"owner":{"account_id":284109,"reputation":47153,"user_id":581994,"accept_rate":57,"display_name":"Hot Licks"},"score":1,"creation_date":1417459557,"post_id":27234273,"comment_id":42946660,"body_markdown":"Note that, in theory, it&#39;s not a &quot;decimal point&quot; but rather a &quot;hexadecimal point&quot;.","body":"Note that, in theory, it&#39;s not a &quot;decimal point&quot; but rather a &quot;hexadecimal point&quot;."},{"owner":{"account_id":1821325,"reputation":7064,"user_id":1655332,"display_name":"Matt Whipple"},"score":0,"creation_date":1417460045,"post_id":27234273,"comment_id":42946932,"body_markdown":"@HotLicks nice catch, word slip on my part.  It also raises a larger question, what does the hex number represent?  If it is a true hexadecimal floating point constant then this whole question is being approached the wrong way since it should map safely to binary without being subject to rounding errors so that would be the best route to BigDecimal.  If it&#39;s some kind of hybrid decimal/hex representation then it will need to stay closer to a string.","body":"@HotLicks nice catch, word slip on my part.  It also raises a larger question, what does the hex number represent?  If it is a true hexadecimal floating point constant then this whole question is being approached the wrong way since it should map safely to binary without being subject to rounding errors so that would be the best route to BigDecimal.  If it&#39;s some kind of hybrid decimal/hex representation then it will need to stay closer to a string."},{"owner":{"account_id":3447998,"reputation":740,"user_id":2888308,"accept_rate":58,"display_name":"Gunjan Aggarwal"},"score":0,"creation_date":1417461721,"post_id":27234273,"comment_id":42947746,"body_markdown":"@MATTWhipple, it is a true hexadecimal floating point constant, and not some hybrid.","body":"@MATTWhipple, it is a true hexadecimal floating point constant, and not some hybrid."},{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":0,"creation_date":1417461850,"post_id":27234273,"comment_id":42947817,"body_markdown":"Yes, but with a binary exponent of +1600 it is too large to represent as a `double.`","body":"Yes, but with a binary exponent of +1600 it is too large to represent as a <code>double.</code>"},{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":0,"creation_date":1417463362,"post_id":27234273,"comment_id":42948633,"body_markdown":"Here&#39;s where these constants are [defined in the JLS](http://docs.oracle.com/javase/specs/jls/se8/html/jls-3.html#jls-3.10.2).","body":"Here&#39;s where these constants are <a href=\"http://docs.oracle.com/javase/specs/jls/se8/html/jls-3.html#jls-3.10.2\" rel=\"nofollow noreferrer\">defined in the JLS</a>."},{"owner":{"account_id":93689,"reputation":415951,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":1,"creation_date":1417463916,"post_id":27234273,"comment_id":42948963,"body_markdown":"BTW it&#39;s not a *decimal* point, it&#39;s a *hexadecimal* point.","body":"BTW it&#39;s not a <i>decimal</i> point, it&#39;s a <i>hexadecimal</i> point."},{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":0,"creation_date":1417468947,"post_id":27234273,"comment_id":42951735,"body_markdown":"@Bohemian ooh, that is wonderfully pedantic :)","body":"@Bohemian ooh, that is wonderfully pedantic :)"}],"answers":[{"comments":[{"owner":{"account_id":3447998,"reputation":740,"user_id":2888308,"accept_rate":58,"display_name":"Gunjan Aggarwal"},"score":1,"creation_date":1417536572,"post_id":27235713,"comment_id":42981577,"body_markdown":"Thanks for providing the solution. I have done some initial testing and code worked perfectly. The only case, I can think of right now is when number stored in String is a negative number. Example -0xcc.ccdp+1600 . But it is not hard to add check for that.","body":"Thanks for providing the solution. I have done some initial testing and code worked perfectly. The only case, I can think of right now is when number stored in String is a negative number. Example -0xcc.ccdp+1600 . But it is not hard to add check for that."},{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":0,"creation_date":1417539968,"post_id":27235713,"comment_id":42983824,"body_markdown":"Whoops! I missed that one. Good catch!","body":"Whoops! I missed that one. Good catch!"},{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":0,"creation_date":1417540993,"post_id":27235713,"comment_id":42984421,"body_markdown":"I updated it to handle negative numbers. Since `Integer.parseInt()` can also accept a leading unary plus e.g., `&quot;+42&quot;` I also made it ignore a leading plus sign.","body":"I updated it to handle negative numbers. Since <code>Integer.parseInt()</code> can also accept a leading unary plus e.g., <code>&quot;+42&quot;</code> I also made it ignore a leading plus sign."},{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":0,"creation_date":1417553229,"post_id":27235713,"comment_id":42990733,"body_markdown":"I decided to rename the method `toBigDecimal`.","body":"I decided to rename the method <code>toBigDecimal</code>."}],"tags":[],"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"comment_count":4,"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1417553383,"creation_date":1417462066,"answer_id":27235713,"question_id":27234273,"body_markdown":"I&#39;m surprised that `BigDecimal` doesn&#39;t already support this. I wrote the following, which I think should work. It passes my initial tests (with `0xcc.ccdp+0`, `0xcc.ccdp+1`, `0xcc.ccdp+16`, `0xcc.ccdp+256`, and your `0xcc.ccdp+1600`, and also some negative exponents, from `-1` down to `-16`), but it should be tested more thoroughly before being used in production code.\r\n\r\n    private final static BigInteger TWO = BigInteger.valueOf(2);\r\n    private final static BigDecimal MINUS_ONE = new BigDecimal(-1);\r\n\r\n    public static BigDecimal toBigDecimal(String hex) {\r\n        // handle leading sign\r\n        BigDecimal sign = null;\r\n        if (hex.startsWith(&quot;-&quot;)) {\r\n            hex = hex.substring(1);\r\n            sign = MINUS_ONE;\r\n        } else if (hex.startsWith(&quot;+&quot;)) {\r\n            hex = hex.substring(1);\r\n        }\r\n\r\n        // constant must start with 0x or 0X\r\n        if (!(hex.startsWith(&quot;0x&quot;) || hex.startsWith(&quot;0X&quot;))) {\r\n            throw new IllegalArgumentException(\r\n                    &quot;not a hexadecimal floating point constant&quot;);\r\n        }\r\n        hex = hex.substring(2);\r\n\r\n        // ... and end in &#39;p&#39; or &#39;P&#39; and an exponent\r\n        int p = hex.indexOf(&quot;p&quot;);\r\n        if (p &lt; 0) p = hex.indexOf(&quot;P&quot;);\r\n        if (p &lt; 0) {\r\n            throw new IllegalArgumentException(\r\n                    &quot;not a hexadecimal floating point constant&quot;);\r\n        }\r\n        String mantissa = hex.substring(0, p);\r\n        String exponent = hex.substring(p+1);\r\n\r\n        // find the hexadecimal point, if any\r\n        int hexadecimalPoint = mantissa.indexOf(&quot;.&quot;);\r\n        int hexadecimalPlaces = 0;\r\n        if (hexadecimalPoint &gt;= 0) {\r\n            hexadecimalPlaces = mantissa.length() - 1 - hexadecimalPoint;\r\n            mantissa = mantissa.substring(0, hexadecimalPoint) +\r\n                mantissa.substring(hexadecimalPoint + 1);\r\n        }\r\n\r\n        // reduce the exponent by 4 for every hexadecimal place\r\n        int binaryExponent = Integer.valueOf(exponent) - (hexadecimalPlaces * 4);\r\n        boolean positive = true;\r\n        if (binaryExponent &lt; 0) {\r\n            binaryExponent = -binaryExponent;\r\n            positive = false;\r\n        }\r\n\r\n        BigDecimal base = new BigDecimal(new BigInteger(mantissa, 16));\r\n        BigDecimal factor = new BigDecimal(TWO.pow(binaryExponent));\r\n        BigDecimal value = positive? base.multiply(factor) : base.divide(factor);\r\n        if (sign != null) value = value.multiply(sign);\r\n\r\n        return value;\r\n    }\r\n\r\nI&#39;ve [released this on github](https://github.com/daiconrad/bighex) under the MIT license. There are unit tests, but only a pretty minimal set.\r\n\r\nIf you find any cases for which this returns an incorrect value, please let me know.","title":"How to convert big hex number (with decimal point) to BigDecimal","body":"<p>I'm surprised that <code>BigDecimal</code> doesn't already support this. I wrote the following, which I think should work. It passes my initial tests (with <code>0xcc.ccdp+0</code>, <code>0xcc.ccdp+1</code>, <code>0xcc.ccdp+16</code>, <code>0xcc.ccdp+256</code>, and your <code>0xcc.ccdp+1600</code>, and also some negative exponents, from <code>-1</code> down to <code>-16</code>), but it should be tested more thoroughly before being used in production code.</p>\n\n<pre><code>private final static BigInteger TWO = BigInteger.valueOf(2);\nprivate final static BigDecimal MINUS_ONE = new BigDecimal(-1);\n\npublic static BigDecimal toBigDecimal(String hex) {\n    // handle leading sign\n    BigDecimal sign = null;\n    if (hex.startsWith(\"-\")) {\n        hex = hex.substring(1);\n        sign = MINUS_ONE;\n    } else if (hex.startsWith(\"+\")) {\n        hex = hex.substring(1);\n    }\n\n    // constant must start with 0x or 0X\n    if (!(hex.startsWith(\"0x\") || hex.startsWith(\"0X\"))) {\n        throw new IllegalArgumentException(\n                \"not a hexadecimal floating point constant\");\n    }\n    hex = hex.substring(2);\n\n    // ... and end in 'p' or 'P' and an exponent\n    int p = hex.indexOf(\"p\");\n    if (p &lt; 0) p = hex.indexOf(\"P\");\n    if (p &lt; 0) {\n        throw new IllegalArgumentException(\n                \"not a hexadecimal floating point constant\");\n    }\n    String mantissa = hex.substring(0, p);\n    String exponent = hex.substring(p+1);\n\n    // find the hexadecimal point, if any\n    int hexadecimalPoint = mantissa.indexOf(\".\");\n    int hexadecimalPlaces = 0;\n    if (hexadecimalPoint &gt;= 0) {\n        hexadecimalPlaces = mantissa.length() - 1 - hexadecimalPoint;\n        mantissa = mantissa.substring(0, hexadecimalPoint) +\n            mantissa.substring(hexadecimalPoint + 1);\n    }\n\n    // reduce the exponent by 4 for every hexadecimal place\n    int binaryExponent = Integer.valueOf(exponent) - (hexadecimalPlaces * 4);\n    boolean positive = true;\n    if (binaryExponent &lt; 0) {\n        binaryExponent = -binaryExponent;\n        positive = false;\n    }\n\n    BigDecimal base = new BigDecimal(new BigInteger(mantissa, 16));\n    BigDecimal factor = new BigDecimal(TWO.pow(binaryExponent));\n    BigDecimal value = positive? base.multiply(factor) : base.divide(factor);\n    if (sign != null) value = value.multiply(sign);\n\n    return value;\n}\n</code></pre>\n\n<p>I've <a href=\"https://github.com/daiconrad/bighex\" rel=\"nofollow\">released this on github</a> under the MIT license. There are unit tests, but only a pretty minimal set.</p>\n\n<p>If you find any cases for which this returns an incorrect value, please let me know.</p>\n"},{"tags":[],"owner":{"account_id":20292745,"reputation":16,"user_id":14884051,"display_name":"Mena"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688241386,"creation_date":1688241386,"answer_id":76596357,"question_id":27234273,"body_markdown":"I came across the same problem while working with Alchemy APIs to covert token balances and I found this solution to work.\r\nUnfortunately, `BigDecimal` does not support this kind of conversion. However, `BigInteger` does. \r\n\r\nTo do so, you first need to remove the &#39;0x&#39; at the beginning of the string, then get a BigInteger from it by specifying the radix, in this case 16, and finally convert it to a BigDecimal specifying the scale of the number you want to get, let&#39;s assume it is 18.\r\n\r\nHere is an example based on the hexadecimal number you provided:\r\n\r\n    String hexNumber = &quot;0xcc.ccdp+1600&quot;.substring(2);\r\n\r\n    BigInteger bigIntegerNumber = new BigInteger(hexNumber, 16);\r\n        \r\n    BigDecimal bigDecimalNumber = new BigDecimal(bigInteger, 18);\r\n \r\nThen you are good to go. Hope this helps","title":"How to convert big hex number (with decimal point) to BigDecimal","body":"<p>I came across the same problem while working with Alchemy APIs to covert token balances and I found this solution to work.\nUnfortunately, <code>BigDecimal</code> does not support this kind of conversion. However, <code>BigInteger</code> does.</p>\n<p>To do so, you first need to remove the '0x' at the beginning of the string, then get a BigInteger from it by specifying the radix, in this case 16, and finally convert it to a BigDecimal specifying the scale of the number you want to get, let's assume it is 18.</p>\n<p>Here is an example based on the hexadecimal number you provided:</p>\n<pre><code>String hexNumber = &quot;0xcc.ccdp+1600&quot;.substring(2);\n\nBigInteger bigIntegerNumber = new BigInteger(hexNumber, 16);\n    \nBigDecimal bigDecimalNumber = new BigDecimal(bigInteger, 18);\n</code></pre>\n<p>Then you are good to go. Hope this helps</p>\n"}],"owner":{"account_id":3447998,"reputation":740,"user_id":2888308,"accept_rate":58,"display_name":"Gunjan Aggarwal"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3698,"favorite_count":0,"down_vote_count":0,"up_vote_count":14,"accepted_answer_id":27235713,"answer_count":2,"score":14,"last_activity_date":1688243865,"creation_date":1417456534,"question_id":27234273,"body_markdown":"I have a big number in hex format (with decimal point) in a `String` and I want to convert it to a `BigDecimal.` \r\n\r\nExample value: `0xcc.ccdp+1600`\r\n\r\nIn `BigDecimal` class, I don&#39;t see any function which takes string representing number in hex format as input and returns corresponding `BigDecimal.`\r\n\r\nIs there a way to convert a big hex number from `String` to `BigDecimal?`","title":"How to convert big hex number (with decimal point) to BigDecimal","body":"<p>I have a big number in hex format (with decimal point) in a <code>String</code> and I want to convert it to a <code>BigDecimal.</code> </p>\n\n<p>Example value: <code>0xcc.ccdp+1600</code></p>\n\n<p>In <code>BigDecimal</code> class, I don't see any function which takes string representing number in hex format as input and returns corresponding <code>BigDecimal.</code></p>\n\n<p>Is there a way to convert a big hex number from <code>String</code> to <code>BigDecimal?</code></p>\n"},{"tags":["java","android","audio","ringtone","ringtonemanager"],"answers":[{"tags":[],"owner":{"account_id":22651646,"reputation":1,"user_id":16826185,"display_name":"Ahmed elghetany"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688243058,"creation_date":1688058106,"answer_id":76583178,"question_id":76418957,"body_markdown":"I modified the codes and it worked for me. This is the solution after the modification\r\n\r\n\r\n     public void onRequestPermissionsResult(int requestCode, String[] permissions, int[] grantResults) {\r\n            super.onRequestPermissionsResult(requestCode, permissions, grantResults);\r\n            if (requestCode == REQUEST_CODE) {\r\n                if (grantResults.length &gt; 0 &amp;&amp; grantResults[0] == PackageManager.PERMISSION_GRANTED) {\r\n                    if (Build.VERSION.SDK_INT &gt;= 31) {\r\n                        if (!Environment.isExternalStorageManager()) {\r\n                            Intent intent = new Intent(Settings.ACTION_MANAGE_APP_ALL_FILES_ACCESS_PERMISSION);\r\n                            intent.setData(Uri.parse(&quot;package:&quot; + getPackageName()));\r\n                            startActivity(intent);\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    \r\n        private void requestPermission() {\r\n            if (ActivityCompat.shouldShowRequestPermissionRationale(this,android. Manifest.permission.WRITE_EXTERNAL_STORAGE)) {\r\n                Intent intent = new Intent();\r\n                intent.setAction(Settings.ACTION_APPLICATION_DETAILS_SETTINGS);\r\n                Uri uri = Uri.fromParts(&quot;package&quot;, getPackageName(), null);\r\n                intent.setData(uri);\r\n                startActivity(intent);\r\n            } else {\r\n                if (Build.VERSION.SDK_INT &gt;= 31) {\r\n                    try {\r\n                        Intent intent = new Intent(Settings.ACTION_MANAGE_APP_ALL_FILES_ACCESS_PERMISSION);\r\n                        intent.setData(Uri.parse(&quot;package:&quot; + getPackageName()));\r\n                        startActivity(intent);\r\n                    } catch (ActivityNotFoundException e) {\r\n                        Intent intent = new Intent(Settings.ACTION_MANAGE_ALL_FILES_ACCESS_PERMISSION);\r\n                        startActivity(intent);\r\n                    }\r\n                } else {\r\n                    ActivityCompat.requestPermissions(this, new String[]{android.Manifest.permission.WRITE_EXTERNAL_STORAGE,android. Manifest.permission.READ_EXTERNAL_STORAGE}, REQUEST_CODE);\r\n                }\r\n            }\r\n        }\r\n    \r\n        private void set_tone(String N1, String N2) {\r\n            AssetFileDescriptor openAssetFileDescriptor;\r\n            ((AudioManager) getSystemService(AUDIO_SERVICE)).setRingerMode(AudioManager.MODE_RINGTONE);\r\n            File file = new File(Environment.getExternalStorageDirectory() + &quot;/AndRody&quot;, N2);\r\n            if (!file.getParentFile().exists()) {\r\n                file.getParentFile().mkdirs();\r\n            }\r\n            if (!file.exists()) {\r\n                try {\r\n                    file.createNewFile();\r\n                } catch (IOException e) {\r\n                    e.printStackTrace();\r\n                }\r\n            }\r\n            Uri parse = Uri.parse(&quot;android.resource://&quot; + getPackageName() + &quot;/raw/&quot; + N2);\r\n            ContentResolver contentResolver = getContentResolver();\r\n            try (InputStream inputStream = contentResolver.openInputStream (parse );\r\n                 OutputStream outputStream = new FileOutputStream(file)) {\r\n                byte[] buffer = new byte[1024];\r\n                int bytesRead;\r\n                while ((bytesRead = inputStream.read(buffer)) != -1) {\r\n                    outputStream.write(buffer, 0, bytesRead);\r\n                }\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n    \r\n            ContentValues contentValues = new ContentValues();\r\n            contentValues.put(MediaStore.Audio.Media.DATA, file.getAbsolutePath());\r\n            contentValues.put(MediaStore.Audio.Media.TITLE, N1);\r\n            contentValues.put(MediaStore.Audio.Media.MIME_TYPE, &quot;audio/mpeg&quot;);\r\n            contentValues.put(MediaStore.Audio.Media.SIZE, file.length());\r\n            contentValues.put(MediaStore.Audio.Media.IS_RINGTONE, true);\r\n    \r\n            try {\r\n                Toast.makeText(this, &quot;تم تعيين النغمة بنجاح&quot;, Toast.LENGTH_LONG).show();\r\n                RingtoneManager.setActualDefaultRingtoneUri(getBaseContext(), 1, contentResolver.insert(MediaStore.Audio.Media.getContentUriForPath(file.getAbsolutePath()), contentValues));\r\n            } catch (Throwable th) {\r\n                Toast.makeText(this, &quot;يوجد خلل ما&quot;, Toast.LENGTH_LONG).show();\r\n            }\r\n        }\r\n\r\n","title":"The application does not work on newer versions of Android (version 9 and above)","body":"<p>I modified the codes and it worked for me. This is the solution after the modification</p>\n<pre><code> public void onRequestPermissionsResult(int requestCode, String[] permissions, int[] grantResults) {\n        super.onRequestPermissionsResult(requestCode, permissions, grantResults);\n        if (requestCode == REQUEST_CODE) {\n            if (grantResults.length &gt; 0 &amp;&amp; grantResults[0] == PackageManager.PERMISSION_GRANTED) {\n                if (Build.VERSION.SDK_INT &gt;= 31) {\n                    if (!Environment.isExternalStorageManager()) {\n                        Intent intent = new Intent(Settings.ACTION_MANAGE_APP_ALL_FILES_ACCESS_PERMISSION);\n                        intent.setData(Uri.parse(&quot;package:&quot; + getPackageName()));\n                        startActivity(intent);\n                    }\n                }\n            }\n        }\n    }\n\n    private void requestPermission() {\n        if (ActivityCompat.shouldShowRequestPermissionRationale(this,android. Manifest.permission.WRITE_EXTERNAL_STORAGE)) {\n            Intent intent = new Intent();\n            intent.setAction(Settings.ACTION_APPLICATION_DETAILS_SETTINGS);\n            Uri uri = Uri.fromParts(&quot;package&quot;, getPackageName(), null);\n            intent.setData(uri);\n            startActivity(intent);\n        } else {\n            if (Build.VERSION.SDK_INT &gt;= 31) {\n                try {\n                    Intent intent = new Intent(Settings.ACTION_MANAGE_APP_ALL_FILES_ACCESS_PERMISSION);\n                    intent.setData(Uri.parse(&quot;package:&quot; + getPackageName()));\n                    startActivity(intent);\n                } catch (ActivityNotFoundException e) {\n                    Intent intent = new Intent(Settings.ACTION_MANAGE_ALL_FILES_ACCESS_PERMISSION);\n                    startActivity(intent);\n                }\n            } else {\n                ActivityCompat.requestPermissions(this, new String[]{android.Manifest.permission.WRITE_EXTERNAL_STORAGE,android. Manifest.permission.READ_EXTERNAL_STORAGE}, REQUEST_CODE);\n            }\n        }\n    }\n\n    private void set_tone(String N1, String N2) {\n        AssetFileDescriptor openAssetFileDescriptor;\n        ((AudioManager) getSystemService(AUDIO_SERVICE)).setRingerMode(AudioManager.MODE_RINGTONE);\n        File file = new File(Environment.getExternalStorageDirectory() + &quot;/AndRody&quot;, N2);\n        if (!file.getParentFile().exists()) {\n            file.getParentFile().mkdirs();\n        }\n        if (!file.exists()) {\n            try {\n                file.createNewFile();\n            } catch (IOException e) {\n                e.printStackTrace();\n            }\n        }\n        Uri parse = Uri.parse(&quot;android.resource://&quot; + getPackageName() + &quot;/raw/&quot; + N2);\n        ContentResolver contentResolver = getContentResolver();\n        try (InputStream inputStream = contentResolver.openInputStream (parse );\n             OutputStream outputStream = new FileOutputStream(file)) {\n            byte[] buffer = new byte[1024];\n            int bytesRead;\n            while ((bytesRead = inputStream.read(buffer)) != -1) {\n                outputStream.write(buffer, 0, bytesRead);\n            }\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n\n        ContentValues contentValues = new ContentValues();\n        contentValues.put(MediaStore.Audio.Media.DATA, file.getAbsolutePath());\n        contentValues.put(MediaStore.Audio.Media.TITLE, N1);\n        contentValues.put(MediaStore.Audio.Media.MIME_TYPE, &quot;audio/mpeg&quot;);\n        contentValues.put(MediaStore.Audio.Media.SIZE, file.length());\n        contentValues.put(MediaStore.Audio.Media.IS_RINGTONE, true);\n\n        try {\n            Toast.makeText(this, &quot;تم تعيين النغمة بنجاح&quot;, Toast.LENGTH_LONG).show();\n            RingtoneManager.setActualDefaultRingtoneUri(getBaseContext(), 1, contentResolver.insert(MediaStore.Audio.Media.getContentUriForPath(file.getAbsolutePath()), contentValues));\n        } catch (Throwable th) {\n            Toast.makeText(this, &quot;يوجد خلل ما&quot;, Toast.LENGTH_LONG).show();\n        }\n    }\n</code></pre>\n"}],"owner":{"account_id":22651646,"reputation":1,"user_id":16826185,"display_name":"Ahmed elghetany"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1688243058,"creation_date":1686092567,"question_id":76418957,"body_markdown":"This application sets the tones, but it stops working in storing the tone on the newer versions and works efficiently on the old versions. I would like your help to solve the problem\r\n\r\nI think the storage path has been changed for the latest versions\r\n\r\nI&#39;ve tried and searched a lot and can&#39;t find a solution to this problem\r\n\r\n**This is the code**\r\n\r\n```\r\nprivate void requestPermission () {\r\n\r\n    if (ActivityCompat.shouldShowRequestPermissionRationale ( this , android.Manifest.permission.WRITE_EXTERNAL_STORAGE )) {\r\n        Intent intent = new Intent ( );\r\n        intent.setAction ( Settings.ACTION_APPLICATION_DETAILS_SETTINGS );\r\n        Uri uri = Uri.fromParts ( &quot;package&quot; , getPackageName ( ) , null );\r\n        intent.setData ( uri );\r\n        startActivity ( intent );\r\n    } else {\r\n        ActivityCompat.requestPermissions ( this , new String[]{android.Manifest.permission.WRITE_EXTERNAL_STORAGE} , REQUEST_CODE );\r\n    }\r\n}\r\n\r\n@SuppressLint(&quot;ObsoleteSdkInt&quot;)\r\n@Override\r\npublic void onRequestPermissionsResult ( int requestCode , @NonNull String[] permissions , @NonNull int[] grantResults ) {\r\n    super.onRequestPermissionsResult ( requestCode , permissions , grantResults );\r\n    if (requestCode == REQUEST_CODE) {\r\n        if (grantResults.length &gt; 0 &amp;&amp; grantResults[ 0 ] == PackageManager.PERMISSION_GRANTED) {\r\n\r\n\r\n            if (Build.VERSION.SDK_INT &gt;= 23) {\r\n                if (! Settings.System.canWrite ( this )) {\r\n                    Intent intent = new Intent ( Settings.ACTION_MANAGE_ALL_FILES_ACCESS_PERMISSION )\r\n                            .setData ( Uri.parse ( &quot;package:&quot; + getPackageName ( ) ) )\r\n                            .addFlags ( Intent.FLAG_ACTIVITY_NEW_TASK );\r\n                    startActivity ( intent );\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\n\r\n@SuppressLint(&quot;Recycle&quot;)\r\nprivate void set_tone ( String N1 , String N2 ) {\r\n    AssetFileDescriptor openAssetFileDescriptor;\r\n    (( AudioManager ) getSystemService ( AUDIO_SERVICE )).setRingerMode ( 2 );\r\n    File file = new File ( Environment.getExternalStoragePublicDirectory ( Environment.DIRECTORY_MUSIC ) + &quot;/AndRody&quot; , N2 );\r\n    if (! file.getParentFile ( ).exists ( )) {\r\n\r\n        file.getParentFile ( ).mkdirs ( );\r\n\r\n    }\r\n    if (! file.exists ( )) {\r\n        try {\r\n            file.createNewFile ( );\r\n        } catch (IOException e) {\r\n            e.printStackTrace ( );\r\n        }\r\n    }\r\n    Uri parse = Uri.parse ( &quot;android.resource://&quot; + getPackageName ( ) + &quot;/raw/&quot; + N2 );\r\n    ContentResolver contentResolver = getContentResolver ( );\r\n    try {\r\n        openAssetFileDescriptor = contentResolver.openAssetFileDescriptor ( parse , &quot;r&quot; );\r\n    } catch (FileNotFoundException e2) {\r\n        openAssetFileDescriptor = null;\r\n    }\r\n    try {\r\n        byte[] bArr = new byte[1024];\r\n        assert openAssetFileDescriptor != null;\r\n        FileInputStream createInputStream = openAssetFileDescriptor.createInputStream ( );\r\n        FileOutputStream fileOutputStream = new FileOutputStream ( file );\r\n        for (int read = createInputStream.read ( bArr ); read != - 1; read = createInputStream.read ( bArr )) {\r\n            fileOutputStream.write ( bArr , 0 , read );\r\n        }\r\n        fileOutputStream.close ( );\r\n    } catch (IOException e3) {\r\n        e3.printStackTrace ( );\r\n    }\r\n\r\n    ContentValues contentValues = new ContentValues ( );\r\n    contentValues.put ( &quot;_data&quot; , file.getAbsolutePath ( ) );\r\n    contentValues.put ( &quot;title&quot; , N1 );\r\n    contentValues.put ( &quot;mime_type&quot; , &quot;audio/mpeg&quot; );\r\n    contentValues.put ( &quot;_size&quot; , file.length () );\r\n    contentValues.put ( &quot;is_ringtone&quot; , Boolean.TRUE );\r\n\r\n    try {\r\n        Toast.makeText ( this , new StringBuilder ( ).append ( &quot;تم تعيين النغمة بنجاح&quot; ) , Toast.LENGTH_LONG ).show ( );\r\n        RingtoneManager.setActualDefaultRingtoneUri ( getBaseContext ( ) , 1, contentResolver.insert ( MediaStore.Audio.Media.getContentUriForPath ( file.getAbsolutePath ( ) ) , contentValues ) );\r\n    } catch (Throwable th) {\r\n        Toast.makeText ( this , new StringBuilder ( ).append ( &quot;يوجد خلل ما&quot; ) , Toast.LENGTH_LONG ).show ( );\r\n    }\r\n\r\n\r\n}\r\n```\r\n\r\nI think the change should be in this code\r\n\r\n```\r\nContentValues contentValues = new ContentValues ( );\r\ncontentValues.put ( &quot;_data&quot; , file.getAbsolutePath ( ) );\r\ncontentValues.put ( &quot;title&quot; , N1 );\r\ncontentValues.put ( &quot;mime_type&quot; , &quot;audio/mpeg&quot; );\r\ncontentValues.put ( &quot;_size&quot; , file.length () );\r\ncontentValues.put ( &quot;is_ringtone&quot; , Boolean.TRUE );\r\n```","title":"The application does not work on newer versions of Android (version 9 and above)","body":"<p>This application sets the tones, but it stops working in storing the tone on the newer versions and works efficiently on the old versions. I would like your help to solve the problem</p>\n<p>I think the storage path has been changed for the latest versions</p>\n<p>I've tried and searched a lot and can't find a solution to this problem</p>\n<p><strong>This is the code</strong></p>\n<pre><code>private void requestPermission () {\n\n    if (ActivityCompat.shouldShowRequestPermissionRationale ( this , android.Manifest.permission.WRITE_EXTERNAL_STORAGE )) {\n        Intent intent = new Intent ( );\n        intent.setAction ( Settings.ACTION_APPLICATION_DETAILS_SETTINGS );\n        Uri uri = Uri.fromParts ( &quot;package&quot; , getPackageName ( ) , null );\n        intent.setData ( uri );\n        startActivity ( intent );\n    } else {\n        ActivityCompat.requestPermissions ( this , new String[]{android.Manifest.permission.WRITE_EXTERNAL_STORAGE} , REQUEST_CODE );\n    }\n}\n\n@SuppressLint(&quot;ObsoleteSdkInt&quot;)\n@Override\npublic void onRequestPermissionsResult ( int requestCode , @NonNull String[] permissions , @NonNull int[] grantResults ) {\n    super.onRequestPermissionsResult ( requestCode , permissions , grantResults );\n    if (requestCode == REQUEST_CODE) {\n        if (grantResults.length &gt; 0 &amp;&amp; grantResults[ 0 ] == PackageManager.PERMISSION_GRANTED) {\n\n\n            if (Build.VERSION.SDK_INT &gt;= 23) {\n                if (! Settings.System.canWrite ( this )) {\n                    Intent intent = new Intent ( Settings.ACTION_MANAGE_ALL_FILES_ACCESS_PERMISSION )\n                            .setData ( Uri.parse ( &quot;package:&quot; + getPackageName ( ) ) )\n                            .addFlags ( Intent.FLAG_ACTIVITY_NEW_TASK );\n                    startActivity ( intent );\n                }\n            }\n        }\n    }\n}\n\n\n@SuppressLint(&quot;Recycle&quot;)\nprivate void set_tone ( String N1 , String N2 ) {\n    AssetFileDescriptor openAssetFileDescriptor;\n    (( AudioManager ) getSystemService ( AUDIO_SERVICE )).setRingerMode ( 2 );\n    File file = new File ( Environment.getExternalStoragePublicDirectory ( Environment.DIRECTORY_MUSIC ) + &quot;/AndRody&quot; , N2 );\n    if (! file.getParentFile ( ).exists ( )) {\n\n        file.getParentFile ( ).mkdirs ( );\n\n    }\n    if (! file.exists ( )) {\n        try {\n            file.createNewFile ( );\n        } catch (IOException e) {\n            e.printStackTrace ( );\n        }\n    }\n    Uri parse = Uri.parse ( &quot;android.resource://&quot; + getPackageName ( ) + &quot;/raw/&quot; + N2 );\n    ContentResolver contentResolver = getContentResolver ( );\n    try {\n        openAssetFileDescriptor = contentResolver.openAssetFileDescriptor ( parse , &quot;r&quot; );\n    } catch (FileNotFoundException e2) {\n        openAssetFileDescriptor = null;\n    }\n    try {\n        byte[] bArr = new byte[1024];\n        assert openAssetFileDescriptor != null;\n        FileInputStream createInputStream = openAssetFileDescriptor.createInputStream ( );\n        FileOutputStream fileOutputStream = new FileOutputStream ( file );\n        for (int read = createInputStream.read ( bArr ); read != - 1; read = createInputStream.read ( bArr )) {\n            fileOutputStream.write ( bArr , 0 , read );\n        }\n        fileOutputStream.close ( );\n    } catch (IOException e3) {\n        e3.printStackTrace ( );\n    }\n\n    ContentValues contentValues = new ContentValues ( );\n    contentValues.put ( &quot;_data&quot; , file.getAbsolutePath ( ) );\n    contentValues.put ( &quot;title&quot; , N1 );\n    contentValues.put ( &quot;mime_type&quot; , &quot;audio/mpeg&quot; );\n    contentValues.put ( &quot;_size&quot; , file.length () );\n    contentValues.put ( &quot;is_ringtone&quot; , Boolean.TRUE );\n\n    try {\n        Toast.makeText ( this , new StringBuilder ( ).append ( &quot;تم تعيين النغمة بنجاح&quot; ) , Toast.LENGTH_LONG ).show ( );\n        RingtoneManager.setActualDefaultRingtoneUri ( getBaseContext ( ) , 1, contentResolver.insert ( MediaStore.Audio.Media.getContentUriForPath ( file.getAbsolutePath ( ) ) , contentValues ) );\n    } catch (Throwable th) {\n        Toast.makeText ( this , new StringBuilder ( ).append ( &quot;يوجد خلل ما&quot; ) , Toast.LENGTH_LONG ).show ( );\n    }\n\n\n}\n</code></pre>\n<p>I think the change should be in this code</p>\n<pre><code>ContentValues contentValues = new ContentValues ( );\ncontentValues.put ( &quot;_data&quot; , file.getAbsolutePath ( ) );\ncontentValues.put ( &quot;title&quot; , N1 );\ncontentValues.put ( &quot;mime_type&quot; , &quot;audio/mpeg&quot; );\ncontentValues.put ( &quot;_size&quot; , file.length () );\ncontentValues.put ( &quot;is_ringtone&quot; , Boolean.TRUE );\n</code></pre>\n"},{"tags":["java","mysql"],"comments":[{"owner":{"account_id":13170666,"reputation":78679,"user_id":9513184,"display_name":"Unmitigated"},"score":0,"creation_date":1688238252,"post_id":76593358,"comment_id":135048314,"body_markdown":"Try `coalesce(:categories) is null` instead.","body":"Try <code>coalesce(:categories) is null</code> instead."}],"answers":[{"tags":[],"owner":{"account_id":19535095,"reputation":2874,"user_id":14294053,"display_name":"Mar-Z"},"comment_count":0,"down_vote_count":1,"up_vote_count":4,"is_accepted":true,"score":3,"last_activity_date":1688205557,"creation_date":1688205557,"answer_id":76594142,"question_id":76593358,"body_markdown":"I have reproduced your settings and get the same error. It looks like JPQL can&#39;t handle the check `:myParameter IS NULL` if `myParameter` is a collection. If you remove the check for null the query works without issue.\r\n\r\nOf course it is not what you wanted - to switch the IN clause on/off depending on a parameter.\r\n\r\n**Workaround 1**\r\n\r\nIntroduce a separate boolean parameter like here:\r\n```\r\n    @Query(&quot;SELECT c FROM Customer c WHERE (:noList = true OR c.id IN (:theList))&quot;)\r\n    List&lt;Customer&gt; findFromList(List&lt;Long&gt; theList, boolean noList);\r\n```\r\n**Workaround 2**\r\n\r\nUse Criteria query instead.","title":"Jpa @Query Annotation problem with using IN clause with java ArrayList","body":"<p>I have reproduced your settings and get the same error. It looks like JPQL can't handle the check <code>:myParameter IS NULL</code> if <code>myParameter</code> is a collection. If you remove the check for null the query works without issue.</p>\n<p>Of course it is not what you wanted - to switch the IN clause on/off depending on a parameter.</p>\n<p><strong>Workaround 1</strong></p>\n<p>Introduce a separate boolean parameter like here:</p>\n<pre><code>    @Query(&quot;SELECT c FROM Customer c WHERE (:noList = true OR c.id IN (:theList))&quot;)\n    List&lt;Customer&gt; findFromList(List&lt;Long&gt; theList, boolean noList);\n</code></pre>\n<p><strong>Workaround 2</strong></p>\n<p>Use Criteria query instead.</p>\n"}],"owner":{"account_id":21705188,"reputation":73,"user_id":16017751,"display_name":"Mohammad Pourbahram"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":467,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76594142,"answer_count":1,"score":1,"last_activity_date":1688243015,"creation_date":1688188360,"question_id":76593358,"body_markdown":"I have a problem to with using an IN clause in jpa Query. When O use `c.id IN (1,7)` it works fine but when I use `c.id IN :categories` it gives me this error:\r\n\r\n&gt; org.hibernate.type.descriptor.java.CoercionException: Cannot coerce value [1, 7] [java.util.Arrays$ArrayList] as Long\r\n    \r\n\r\n    @Query(&quot;SELECT new com.example.events.dto.Event.ParticipantGetAllEventsDto(e, COUNT(p)) &quot;\r\n        + &quot;FROM Event e JOIN FETCH e.reservation r JOIN FETCH r.salon s &quot;\r\n        + &quot;LEFT JOIN r.participants p &quot;\r\n        + &quot;JOIN e.categories c &quot;\r\n        + &quot;WHERE (:title is null OR e.title LIKE %:title%) AND &quot;\r\n        + &quot;(:isFree is null OR ((:isFree = true AND e.cost = 0) OR (:isFree = false AND e.cost &gt;0 ))) AND &quot;\r\n        + &quot;(:categories is null OR c.id IN (:categories) ) &quot;\r\n        + &quot;GROUP BY e&quot;)\r\n    List&lt;ParticipantGetAllEventsDto&gt; getAll(@Param(&quot;title&quot;) String   title,@Param(&quot;categories&quot;) List&lt;Long&gt; categories ,@Param(&quot;isFree&quot;) boolean isFree);\r\n\r\nI also checked `categories`&#39;s value: it&#39;s an `arrayList` and its value is `[1,7]` \r\n","title":"Jpa @Query Annotation problem with using IN clause with java ArrayList","body":"<p>I have a problem to with using an IN clause in jpa Query. When O use <code>c.id IN (1,7)</code> it works fine but when I use <code>c.id IN :categories</code> it gives me this error:</p>\n<blockquote>\n<p>org.hibernate.type.descriptor.java.CoercionException: Cannot coerce value [1, 7] [java.util.Arrays$ArrayList] as Long</p>\n</blockquote>\n<pre><code>@Query(&quot;SELECT new com.example.events.dto.Event.ParticipantGetAllEventsDto(e, COUNT(p)) &quot;\n    + &quot;FROM Event e JOIN FETCH e.reservation r JOIN FETCH r.salon s &quot;\n    + &quot;LEFT JOIN r.participants p &quot;\n    + &quot;JOIN e.categories c &quot;\n    + &quot;WHERE (:title is null OR e.title LIKE %:title%) AND &quot;\n    + &quot;(:isFree is null OR ((:isFree = true AND e.cost = 0) OR (:isFree = false AND e.cost &gt;0 ))) AND &quot;\n    + &quot;(:categories is null OR c.id IN (:categories) ) &quot;\n    + &quot;GROUP BY e&quot;)\nList&lt;ParticipantGetAllEventsDto&gt; getAll(@Param(&quot;title&quot;) String   title,@Param(&quot;categories&quot;) List&lt;Long&gt; categories ,@Param(&quot;isFree&quot;) boolean isFree);\n</code></pre>\n<p>I also checked <code>categories</code>'s value: it's an <code>arrayList</code> and its value is <code>[1,7]</code></p>\n"},{"tags":["java","spring","itext7"],"comments":[{"owner":{"account_id":3576533,"reputation":16716,"user_id":2985643,"accept_rate":40,"display_name":"skomisa"},"score":1,"creation_date":1688001352,"post_id":76577439,"comment_id":135016539,"body_markdown":"Your question would be improved, and more likely to get answers, by adding code examples to show how you are calling `getPath()` and `getUrl()`. And include the stack trace.","body":"Your question would be improved, and more likely to get answers, by adding code examples to show how you are calling <code>getPath()</code> and <code>getUrl()</code>. And include the stack trace."}],"owner":{"account_id":15868704,"reputation":15,"user_id":11450081,"display_name":"kairos"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688243011,"creation_date":1687998708,"question_id":76577439,"body_markdown":"Just something im curious about but having a hard time understanding despite reviewing itext 5.0 documentation of the Image class. When using ClassPathResource&#39;s getPath() method results in a FileNotFound but getURL() does not. When using getPath() in other instances such as loading a font file, this issue does not occur.","title":"When using ClassPathResource to create an iText image, why does getPath() result in a FileNotFound but getURL() works?","body":"<p>Just something im curious about but having a hard time understanding despite reviewing itext 5.0 documentation of the Image class. When using ClassPathResource's getPath() method results in a FileNotFound but getURL() does not. When using getPath() in other instances such as loading a font file, this issue does not occur.</p>\n"},{"tags":["java","mysql","jdbc"],"answers":[{"comments":[{"owner":{"account_id":21645063,"reputation":1,"user_id":15966546,"display_name":"ameloct"},"score":0,"creation_date":1687759517,"post_id":76553409,"comment_id":134975886,"body_markdown":"Got it , thank you!","body":"Got it , thank you!"},{"owner":{"account_id":9727861,"reputation":2565,"user_id":7214091,"display_name":"Gast&#243;n Schabas"},"score":1,"creation_date":1687798932,"post_id":76553409,"comment_id":134984089,"body_markdown":"if this answer is the correct one, please [mark it as the accepted one](https://stackoverflow.com/help/someone-answers)","body":"if this answer is the correct one, please <a href=\"https://stackoverflow.com/help/someone-answers\">mark it as the accepted one</a>"}],"tags":[],"owner":{"account_id":9727861,"reputation":2565,"user_id":7214091,"display_name":"Gast&#243;n Schabas"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1687751303,"creation_date":1687751303,"answer_id":76553409,"question_id":76553347,"body_markdown":"You can&#39;t rollback the creation of a table. All [DDL operation](https://dev.mysql.com/doc/refman/8.0/en/innodb-online-ddl-operations.html) can&#39;t be rollbacked \r\n\r\nYou can check the doc [statements that can not be rollbacked](https://dev.mysql.com/doc/refman/8.0/en/cannot-roll-back.html) ","title":"using jdbc api to rollback transcation fail","body":"<p>You can't rollback the creation of a table. All <a href=\"https://dev.mysql.com/doc/refman/8.0/en/innodb-online-ddl-operations.html\" rel=\"nofollow noreferrer\">DDL operation</a> can't be rollbacked</p>\n<p>You can check the doc <a href=\"https://dev.mysql.com/doc/refman/8.0/en/cannot-roll-back.html\" rel=\"nofollow noreferrer\">statements that can not be rollbacked</a></p>\n"}],"owner":{"account_id":21645063,"reputation":1,"user_id":15966546,"display_name":"ameloct"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":45,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1688243006,"creation_date":1687749823,"question_id":76553347,"body_markdown":"when I using jdbc api to rollback sql, it doesnot work. i wonder where is this the problem?\r\nhere is the codes:\r\n\r\n```\r\nconnection.setAutocommit(false);\r\nstatement.execute(&quot;create table xxx&quot;);\r\nconnection.rollback();\r\n```\r\n\r\ntable xxx should be rollbacked.","title":"using jdbc api to rollback transcation fail","body":"<p>when I using jdbc api to rollback sql, it doesnot work. i wonder where is this the problem?\nhere is the codes:</p>\n<pre><code>connection.setAutocommit(false);\nstatement.execute(&quot;create table xxx&quot;);\nconnection.rollback();\n</code></pre>\n<p>table xxx should be rollbacked.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"score":3,"creation_date":1688159260,"post_id":76592202,"comment_id":135041751,"body_markdown":"Input never ends. The user could always type more, after all. If you pipe a file in as standard input, it can end, and `hasNextLine()` can return `false`. By default (keyboard input), it never will. What do you imagine &#39;no more input&#39; would imply? Generally, you use a string that means: I am done, e.g. &quot;Enter string (enter DONE when done): &quot; and you check if the value of `s.nextLine()` is `DONE`. If yes, `break`.","body":"Input never ends. The user could always type more, after all. If you pipe a file in as standard input, it can end, and <code>hasNextLine()</code> can return <code>false</code>. By default (keyboard input), it never will. What do you imagine &#39;no more input&#39; would imply? Generally, you use a string that means: I am done, e.g. &quot;Enter string (enter DONE when done): &quot; and you check if the value of <code>s.nextLine()</code> is <code>DONE</code>. If yes, <code>break</code>."},{"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"score":2,"creation_date":1688161283,"post_id":76592202,"comment_id":135041970,"body_markdown":"Try typing a character that is interpreted by the console as end of file.  It could be CTRL-D or CTRL-Z.  More info [here](https://stackoverflow.com/a/76365413/1552534)","body":"Try typing a character that is interpreted by the console as end of file.  It could be CTRL-D or CTRL-Z.  More info <a href=\"https://stackoverflow.com/a/76365413/1552534\">here</a>"},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1688243305,"post_id":76592202,"comment_id":135048783,"body_markdown":"BTW `hasNext` from title is not the same as `hasNextLine` as in the code (first one reads tokens, second lines)","body":"BTW <code>hasNext</code> from title is not the same as <code>hasNextLine</code> as in the code (first one reads tokens, second lines)"}],"owner":{"account_id":23924614,"reputation":1,"user_id":17919871,"display_name":"astroprab"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688242977,"creation_date":1688159034,"question_id":76592202,"body_markdown":"Hello I cannot for the life of me figure out what is wrong with my scanner. I&#39;ve put it into a different class seperate from my code and I still cannot figure it out. Here is that class:\r\n\r\nI cannot get the scanner to break once it&#39;s reached the end at all. It just won&#39;t work. \r\n\r\nIf I remove the else, the code will break out of the loop. But under the else statement, it just won&#39;t stop running and runs forever. \r\n\r\nI&#39;ve tried a forever loop, while loop, and every iteration in between including if and else statements but .hasnextline won&#39;t come back as false, in fact I can&#39;t even get it to print false.\r\n\r\nMy input is literally like 3 lines of string from `system.in`.\r\n\r\nCan someone please help with this?\r\n\r\n```\r\nimport java.util.Scanner;\r\n\r\npublic class Main {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tScanner s = new Scanner(System.in);\r\n\t\tString r = &quot;&quot;;\r\n\t\tSystem.out.println(&quot;Enter string: &quot;);\r\n\t\tfor (;;) {\r\n\t\t\tif (s.hasNextLine()) {\r\n\t\t\t\tr += s.nextLine();\r\n\t\t\t} \r\n\t\t\telse {\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\t\tSystem.out.println(&quot;DONE &quot; + r);\r\n\t}\r\n}\r\n```","title":"Scanner.hasNext problems in Java","body":"<p>Hello I cannot for the life of me figure out what is wrong with my scanner. I've put it into a different class seperate from my code and I still cannot figure it out. Here is that class:</p>\n<p>I cannot get the scanner to break once it's reached the end at all. It just won't work.</p>\n<p>If I remove the else, the code will break out of the loop. But under the else statement, it just won't stop running and runs forever.</p>\n<p>I've tried a forever loop, while loop, and every iteration in between including if and else statements but .hasnextline won't come back as false, in fact I can't even get it to print false.</p>\n<p>My input is literally like 3 lines of string from <code>system.in</code>.</p>\n<p>Can someone please help with this?</p>\n<pre><code>import java.util.Scanner;\n\npublic class Main {\n\n    public static void main(String[] args) {\n        Scanner s = new Scanner(System.in);\n        String r = &quot;&quot;;\n        System.out.println(&quot;Enter string: &quot;);\n        for (;;) {\n            if (s.hasNextLine()) {\n                r += s.nextLine();\n            } \n            else {\n                break;\n            }\n        }\n        System.out.println(&quot;DONE &quot; + r);\n    }\n}\n</code></pre>\n"},{"tags":["java","javascript","html","jsp"],"comments":[{"owner":{"account_id":162866,"reputation":6068,"user_id":384617,"accept_rate":79,"display_name":"David P&#228;rsson"},"score":0,"creation_date":1354724965,"post_id":13727720,"comment_id":18858842,"body_markdown":"Your HTML code does not include a `form` tag. Do you have one?","body":"Your HTML code does not include a <code>form</code> tag. Do you have one?"},{"owner":{"account_id":1073176,"reputation":3217,"user_id":1071967,"accept_rate":61,"display_name":"Geek"},"score":0,"creation_date":1354725009,"post_id":13727720,"comment_id":18858863,"body_markdown":"Yes it does, and the other td&#39;s do work.","body":"Yes it does, and the other td&#39;s do work."},{"owner":{"account_id":162866,"reputation":6068,"user_id":384617,"accept_rate":79,"display_name":"David P&#228;rsson"},"score":0,"creation_date":1354725081,"post_id":13727720,"comment_id":18858913,"body_markdown":"Can you select the other `td` tags using `document.forms[0].DDD`? `document.getElementById(&#39;DDD1&#39;)` seems like a better option if you want to select the `td`.","body":"Can you select the other <code>td</code> tags using <code>document.forms[0].DDD</code>? <code>document.getElementById(&#39;DDD1&#39;)</code> seems like a better option if you want to select the <code>td</code>."},{"owner":{"account_id":1073176,"reputation":3217,"user_id":1071967,"accept_rate":61,"display_name":"Geek"},"score":0,"creation_date":1354725374,"post_id":13727720,"comment_id":18859099,"body_markdown":"yes the lable for DDD works though.","body":"yes the lable for DDD works though."},{"owner":{"account_id":162866,"reputation":6068,"user_id":384617,"accept_rate":79,"display_name":"David P&#228;rsson"},"score":0,"creation_date":1354725408,"post_id":13727720,"comment_id":18859114,"body_markdown":"Can you please show the working code? `document.forms[0].DDD` should not work as far as I know.","body":"Can you please show the working code? <code>document.forms[0].DDD</code> should not work as far as I know."},{"owner":{"account_id":1073176,"reputation":3217,"user_id":1071967,"accept_rate":61,"display_name":"Geek"},"score":0,"creation_date":1354725530,"post_id":13727720,"comment_id":18859194,"body_markdown":"document.getElementById(&#39;DDD&#39;).style.display = &#39;block&#39;; \n    document.getElementById(&#39;DDD&#39;).disabled = false;","body":"document.getElementById(&#39;DDD&#39;).style.display = &#39;block&#39;;      document.getElementById(&#39;DDD&#39;).disabled = false;"},{"owner":{"account_id":162866,"reputation":6068,"user_id":384617,"accept_rate":79,"display_name":"David P&#228;rsson"},"score":0,"creation_date":1354725843,"post_id":13727720,"comment_id":18859367,"body_markdown":"What are you trying to achieve with this code? It looks broken.","body":"What are you trying to achieve with this code? It looks broken."},{"owner":{"account_id":1073176,"reputation":3217,"user_id":1071967,"accept_rate":61,"display_name":"Geek"},"score":0,"creation_date":1354726273,"post_id":13727720,"comment_id":18859637,"body_markdown":"Im trying to display/block a label and its input field based on a condiotn from javascript. what is broken here?","body":"Im trying to display/block a label and its input field based on a condiotn from javascript. what is broken here?"},{"owner":{"account_id":162866,"reputation":6068,"user_id":384617,"accept_rate":79,"display_name":"David P&#228;rsson"},"score":1,"creation_date":1354726441,"post_id":13727720,"comment_id":18859739,"body_markdown":"Sorry, I misread your code. But the alert is broken. `document.forms[0].DDD1` does not exist.","body":"Sorry, I misread your code. But the alert is broken. <code>document.forms[0].DDD1</code> does not exist."},{"owner":{"account_id":358455,"reputation":1833,"user_id":699233,"display_name":"Toni Toni Chopper"},"score":0,"creation_date":1354727398,"post_id":13727720,"comment_id":18860238,"body_markdown":"I recommend you to use jQuery to select the elements instead of your mix of getElementById() and document.forms[0].","body":"I recommend you to use jQuery to select the elements instead of your mix of getElementById() and document.forms[0]."}],"owner":{"account_id":1073176,"reputation":3217,"user_id":1071967,"accept_rate":61,"display_name":"Geek"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":236,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688242962,"creation_date":1354724607,"question_id":13727720,"body_markdown":"I have a JSP page which has TD as follows: \r\n\r\n    &lt;td align=&quot;right&quot; id=&quot;DDD&quot; style=&quot;display:none;&quot;&gt;\r\n        &lt;label for=&quot;DDD&quot; accesskey=&quot;A&quot;&gt;DDD:&amp;nbsp; &lt;/label&gt;\r\n    &lt;/td&gt;\r\n    &lt;td id=&quot;DDD1&quot; style=&quot;display:none;&quot;&gt;\r\n        &lt;html:text property=&quot;DDD&quot; styleId=&quot;DDD&quot; readonly=&quot;true&quot; styleClass=&quot;text&quot; style=&quot;width: 8em; border: 0px solid buttonFace; background-color: transparent;&quot; /&gt;\r\n    &lt;/td&gt;\r\n\r\n\r\nand the TD display is none/block based on Javascript. This is the javascript:\r\n\r\n    if (caseInfo[4] == &quot;2&quot;)\r\n    {\r\n        document.getElementById(&#39;DDD&#39;).style.display = &#39;block&#39;; \r\n        document.getElementById(&#39;DDD&#39;).disabled = false; \r\n        document.getElementById(&#39;DDD1&#39;).style.display = &#39;block&#39;; \r\n        document.getElementById(&#39;DDD1&#39;).disabled = false; \r\n        if (caseInfo[2].length &gt;0 &amp;&amp; caseInfo[2] != &quot;NULL&quot;)\r\n        {\r\n            alert(caseInfo[2]);\r\n            document.forms[0].DDD.value = caseInfo[2];\r\n        }\r\n        else\r\n        {\r\n            document.forms[0].DDD.value = &quot;&quot;;\r\n        }\r\n        alert(&quot;DDD1&quot;+document.forms[0].DDD1.value);\r\n    }\r\n\r\nWhen I run the application, in UI I see the lable but not the input fields and I see `document.forms.0.DDD1` is null or not an object in the line `document.getElementById(&#39;DDD1&#39;).style.display = &#39;block&#39;;`. This property is already set in form.\r\n\r\nAny idea why it does not get displayed?","title":"null or not an object","body":"<p>I have a JSP page which has TD as follows:</p>\n<pre><code>&lt;td align=&quot;right&quot; id=&quot;DDD&quot; style=&quot;display:none;&quot;&gt;\n    &lt;label for=&quot;DDD&quot; accesskey=&quot;A&quot;&gt;DDD:&amp;nbsp; &lt;/label&gt;\n&lt;/td&gt;\n&lt;td id=&quot;DDD1&quot; style=&quot;display:none;&quot;&gt;\n    &lt;html:text property=&quot;DDD&quot; styleId=&quot;DDD&quot; readonly=&quot;true&quot; styleClass=&quot;text&quot; style=&quot;width: 8em; border: 0px solid buttonFace; background-color: transparent;&quot; /&gt;\n&lt;/td&gt;\n</code></pre>\n<p>and the TD display is none/block based on Javascript. This is the javascript:</p>\n<pre><code>if (caseInfo[4] == &quot;2&quot;)\n{\n    document.getElementById('DDD').style.display = 'block'; \n    document.getElementById('DDD').disabled = false; \n    document.getElementById('DDD1').style.display = 'block'; \n    document.getElementById('DDD1').disabled = false; \n    if (caseInfo[2].length &gt;0 &amp;&amp; caseInfo[2] != &quot;NULL&quot;)\n    {\n        alert(caseInfo[2]);\n        document.forms[0].DDD.value = caseInfo[2];\n    }\n    else\n    {\n        document.forms[0].DDD.value = &quot;&quot;;\n    }\n    alert(&quot;DDD1&quot;+document.forms[0].DDD1.value);\n}\n</code></pre>\n<p>When I run the application, in UI I see the lable but not the input fields and I see <code>document.forms.0.DDD1</code> is null or not an object in the line <code>document.getElementById('DDD1').style.display = 'block';</code>. This property is already set in form.</p>\n<p>Any idea why it does not get displayed?</p>\n"},{"tags":["java","exception","classcastexception"],"comments":[{"owner":{"account_id":1352170,"reputation":34246,"user_id":1291492,"accept_rate":100,"display_name":"ControlAltDel"},"score":0,"creation_date":1668703026,"post_id":74478966,"comment_id":131475856,"body_markdown":"The problem appears to be that your reportData List&lt;Object[]&gt; actually contains (String) elements. `public XSSFWorkbook exportExcel(String reportName, List&lt;Object[]&gt; reportData, String headers) throws Exception {`","body":"The problem appears to be that your reportData List&lt;Object[]&gt; actually contains (String) elements. <code>public XSSFWorkbook exportExcel(String reportName, List&lt;Object[]&gt; reportData, String headers) throws Exception {</code>"},{"owner":{"account_id":1352170,"reputation":34246,"user_id":1291492,"accept_rate":100,"display_name":"ControlAltDel"},"score":0,"creation_date":1668703222,"post_id":74478966,"comment_id":131475920,"body_markdown":"And in general, ClassCastExceptions are exceptions that you need to fix and remove for your code. In terms of Exception handling, this contrasts (at least for me) if you tell them &quot;enter a number&quot; and they enter letter A","body":"And in general, ClassCastExceptions are exceptions that you need to fix and remove for your code. In terms of Exception handling, this contrasts (at least for me) if you tell them &quot;enter a number&quot; and they enter letter A"},{"owner":{"account_id":1073176,"reputation":3217,"user_id":1071967,"accept_rate":61,"display_name":"Geek"},"score":0,"creation_date":1668703295,"post_id":74478966,"comment_id":131475954,"body_markdown":"@ControlAltDel I agree but that is what query.getResultList(); gives me. Is there a way to handle all the cases in these scenarios?","body":"@ControlAltDel I agree but that is what query.getResultList(); gives me. Is there a way to handle all the cases in these scenarios?"},{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":1,"creation_date":1668703786,"post_id":74478966,"comment_id":131476151,"body_markdown":"`[[Ljava.lang.Object` tells me you actually have a `List&lt;Object[][]&gt;`. You can treat it as a `List&lt;Object&gt;`, and do checks to see what type it actually is.","body":"<code>[[Ljava.lang.Object</code> tells me you actually have a <code>List&lt;Object[][]&gt;</code>. You can treat it as a <code>List&lt;Object&gt;</code>, and do checks to see what type it actually is."}],"owner":{"account_id":1073176,"reputation":3217,"user_id":1071967,"accept_rate":61,"display_name":"Geek"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688242945,"creation_date":1668702596,"question_id":74478966,"body_markdown":"I have a legacy code that looks like this,\r\n\r\n    ///\r\n    ....\r\n    List&lt;Object[]&gt; reportResults = new ArrayList&lt;Object[]&gt;();\r\n    reportResults = query.getResultList();\r\n    logger.info(&quot;reportResults ==== &quot;+reportResults.toString());\r\n    workbook = expService.exportExcel(fileName, reportResults, reportHeaders);\r\n    ...///\r\n\r\nSo when the resultset is more than 1 column then logger prints &#39;[[Ljava.lang.Object;@391472f5] &#39; like an object.\r\nWhen the reportResult is only 1 column then results look like this, &#39;[USA, EUROPE]&#39; when its 1 column 1 row it looks like &#39;[USA]&#39;\r\n\r\nThe problem is when I iterate with the reportResults in the below method. reportData parameter is nothing but reportResults below.\r\nThe inner for loop throws &#39;**java.lang.ClassCastException: java.lang.String cannot be cast to [Ljava.lang.Object;**&#39; when reportData is just 1 column. How can I handle so it works for all the cases.\r\n\r\n\r\n    public XSSFWorkbook exportExcel(String reportName, List&lt;Object[]&gt; reportData, String headers) throws Exception {\r\n     ...///\r\n    \r\n    System.out.println(&quot;... &quot;+reportData.size());\r\n    for (int i = 0; i&lt;reportData.size(); i++) {\r\n    \trow = sheet.createRow(rownum);\r\n    \trownum++;\r\n    \tSystem.out.println(&quot;....... &quot;+reportData.get(i));\r\n    \tfor (int j = 0; j &lt; reportData.get(i).length; j++) {\r\n    \t\tcell = row.createCell(j); \r\n    \t\tObject oCellValue = reportData.get(i)[j];\r\n    \t\tif (oCellValue != null) {\r\n    \t\t\tString className = oCellValue.getClass().getName();\r\n    \t\t\tif (className.equals(Timestamp.class.getName())) {\r\n    \t\t\t\tCellStyle cStyle = workbook.createCellStyle();\r\n    \t\t\t\tcStyle.setDataFormat((short)14);\r\n    \t\t\t\tTimestamp tsValue=(Timestamp)oCellValue;\r\n    \t\t\t\tDate dtValue = new Date(tsValue.getTime());\r\n    \t\t\t\tcell.setCellValue(dtValue);\r\n    \t\t\t\tcell.setCellStyle(cStyle);\r\n    \t\t\t} else {\r\n    \t\t\t\tcell.setCellValue(&quot;&quot;+oCellValue);\r\n    \t\t\t}\r\n    \t\t\t\r\n    \t\t} else {\r\n    \t\t\tcell.setCellValue(&quot;&quot;);\r\n    \t\t}                                                    \r\n    \t} \r\n    }\r\n    ...//\r\n    }\r\n\r\nSo the 1st line sysout prints size as 1. It gets into the loop and prints the 2nd sysout as &#39;USA&#39;.\r\nreportData.get(i) -&gt; this is supposed to be a object and in my case for this scenario its &#39;USA&#39;.\r\n\r\nPlease let me know how I can get rid of this exception and handle the same for all cases. Any help is highly appreciated. Thank you.\r\n","title":"ClassCastException handling","body":"<p>I have a legacy code that looks like this,</p>\n<pre><code>///\n....\nList&lt;Object[]&gt; reportResults = new ArrayList&lt;Object[]&gt;();\nreportResults = query.getResultList();\nlogger.info(&quot;reportResults ==== &quot;+reportResults.toString());\nworkbook = expService.exportExcel(fileName, reportResults, reportHeaders);\n...///\n</code></pre>\n<p>So when the resultset is more than 1 column then logger prints '[[Ljava.lang.Object;@391472f5] ' like an object.\nWhen the reportResult is only 1 column then results look like this, '[USA, EUROPE]' when its 1 column 1 row it looks like '[USA]'</p>\n<p>The problem is when I iterate with the reportResults in the below method. reportData parameter is nothing but reportResults below.\nThe inner for loop throws '<strong>java.lang.ClassCastException: java.lang.String cannot be cast to [Ljava.lang.Object;</strong>' when reportData is just 1 column. How can I handle so it works for all the cases.</p>\n<pre><code>public XSSFWorkbook exportExcel(String reportName, List&lt;Object[]&gt; reportData, String headers) throws Exception {\n ...///\n\nSystem.out.println(&quot;... &quot;+reportData.size());\nfor (int i = 0; i&lt;reportData.size(); i++) {\n    row = sheet.createRow(rownum);\n    rownum++;\n    System.out.println(&quot;....... &quot;+reportData.get(i));\n    for (int j = 0; j &lt; reportData.get(i).length; j++) {\n        cell = row.createCell(j); \n        Object oCellValue = reportData.get(i)[j];\n        if (oCellValue != null) {\n            String className = oCellValue.getClass().getName();\n            if (className.equals(Timestamp.class.getName())) {\n                CellStyle cStyle = workbook.createCellStyle();\n                cStyle.setDataFormat((short)14);\n                Timestamp tsValue=(Timestamp)oCellValue;\n                Date dtValue = new Date(tsValue.getTime());\n                cell.setCellValue(dtValue);\n                cell.setCellStyle(cStyle);\n            } else {\n                cell.setCellValue(&quot;&quot;+oCellValue);\n            }\n            \n        } else {\n            cell.setCellValue(&quot;&quot;);\n        }                                                    \n    } \n}\n...//\n}\n</code></pre>\n<p>So the 1st line sysout prints size as 1. It gets into the loop and prints the 2nd sysout as 'USA'.\nreportData.get(i) -&gt; this is supposed to be a object and in my case for this scenario its 'USA'.</p>\n<p>Please let me know how I can get rid of this exception and handle the same for all cases. Any help is highly appreciated. Thank you.</p>\n"},{"tags":["java","algorithm"],"comments":[{"owner":{"account_id":4539418,"reputation":2819,"user_id":3687725,"accept_rate":96,"display_name":"Preston Martin"},"score":0,"creation_date":1505834184,"post_id":46304035,"comment_id":79570500,"body_markdown":"Possible duplicate of [What is a Single Pass Algorithm](https://stackoverflow.com/questions/26322007/what-is-a-single-pass-algorithm)","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/26322007/what-is-a-single-pass-algorithm\">What is a Single Pass Algorithm</a>"},{"owner":{"account_id":2139538,"reputation":42521,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":0,"creation_date":1505834258,"post_id":46304035,"comment_id":79570545,"body_markdown":"Have you read [the Wikipedia article about it](https://en.wikipedia.org/wiki/One-pass_algorithm)? What part confused you?","body":"Have you read <a href=\"https://en.wikipedia.org/wiki/One-pass_algorithm\" rel=\"nofollow noreferrer\">the Wikipedia article about it</a>? What part confused you?"},{"owner":{"account_id":7535096,"reputation":1338,"user_id":5721694,"accept_rate":71,"display_name":"Timmiej93"},"score":0,"creation_date":1505834540,"post_id":46304035,"comment_id":79570731,"body_markdown":"I did, and I also read the post that this would be a possible duplicate of, but for me, those explanations are quite complicated, bringing more confusion  than confirmation. I _think_ that my code would be a one-pass, but I&#39;m not sure, because of the while loop. What confuses me is the use of (I guess) professional terms, which I&#39;m unfamiliar with.","body":"I did, and I also read the post that this would be a possible duplicate of, but for me, those explanations are quite complicated, bringing more confusion  than confirmation. I <i>think</i> that my code would be a one-pass, but I&#39;m not sure, because of the while loop. What confuses me is the use of (I guess) professional terms, which I&#39;m unfamiliar with."},{"owner":{"account_id":2139538,"reputation":42521,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":0,"creation_date":1505834727,"post_id":46304035,"comment_id":79570835,"body_markdown":"Alright. Can you provide a sample tree? I&#39;m having trouble working out what your algorithm is expecting.","body":"Alright. Can you provide a sample tree? I&#39;m having trouble working out what your algorithm is expecting."},{"owner":{"account_id":7535096,"reputation":1338,"user_id":5721694,"accept_rate":71,"display_name":"Timmiej93"},"score":0,"creation_date":1505834899,"post_id":46304035,"comment_id":79570960,"body_markdown":"Sample input would be [0 0 0 1 2], output would be [0 1 1 2 2]. The assignment is about representing trees in arrays, this method specifically is about finding out how deep each node lies (how many lines between it and the root node)","body":"Sample input would be [0 0 0 1 2], output would be [0 1 1 2 2]. The assignment is about representing trees in arrays, this method specifically is about finding out how deep each node lies (how many lines between it and the root node)"},{"owner":{"account_id":2139538,"reputation":42521,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":0,"creation_date":1505835589,"post_id":46304035,"comment_id":79571391,"body_markdown":"I take it you&#39;re trying to store a **binary** tree [in this kind of manner](http://www.ad.ntust.edu.tw/course/ad5601701/lecture9.htm)?","body":"I take it you&#39;re trying to store a <b>binary</b> tree <a href=\"http://www.ad.ntust.edu.tw/course/ad5601701/lecture9.htm\" rel=\"nofollow noreferrer\">in this kind of manner</a>?"},{"owner":{"account_id":7535096,"reputation":1338,"user_id":5721694,"accept_rate":71,"display_name":"Timmiej93"},"score":0,"creation_date":1505836056,"post_id":46304035,"comment_id":79571710,"body_markdown":"Not completely. The tree it not binary per se, it can have more than 2 connections per node. If you replace the &#39;A&#39;, &#39;B&#39;, etc. in the table in the first image with the index of its parent&#39;s node, and the A, B, etc. in the figure with the index as stated below the table, that would be what I need. With that knowledge, the table for the first tree on that page would be [0 0 0 1 1 2 2 3 3]","body":"Not completely. The tree it not binary per se, it can have more than 2 connections per node. If you replace the &#39;A&#39;, &#39;B&#39;, etc. in the table in the first image with the index of its parent&#39;s node, and the A, B, etc. in the figure with the index as stated below the table, that would be what I need. With that knowledge, the table for the first tree on that page would be [0 0 0 1 1 2 2 3 3]"},{"owner":{"account_id":2139538,"reputation":42521,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":0,"creation_date":1505837609,"post_id":46304035,"comment_id":79572641,"body_markdown":"Let us [continue this discussion in chat](http://chat.stackoverflow.com/rooms/154812/discussion-between-michael-and-timmiej93).","body":"Let us <a href=\"http://chat.stackoverflow.com/rooms/154812/discussion-between-michael-and-timmiej93\">continue this discussion in chat</a>."},{"owner":{"account_id":1894536,"reputation":54819,"user_id":1711796,"accept_rate":100,"display_name":"Bernhard Barker"},"score":0,"creation_date":1505842115,"post_id":46304035,"comment_id":79574875,"body_markdown":"[&quot;the algorithm doesn&#39;t need to access an item in container more than once (i.e. all of items in container are read or written only one time)&quot;](https://stackoverflow.com/questions/26322007/what-is-a-single-pass-algorithm) - that sounds like a pretty simple explanation to me. Although I&#39;m not sure I&#39;d say it&#39;s a duplicate, since the question and top-voted answer focuses heavily on the C++-specific aspect.","body":"<a href=\"https://stackoverflow.com/questions/26322007/what-is-a-single-pass-algorithm\">&quot;the algorithm doesn&#39;t need to access an item in container more than once (i.e. all of items in container are read or written only one time)&quot;</a> - that sounds like a pretty simple explanation to me. Although I&#39;m not sure I&#39;d say it&#39;s a duplicate, since the question and top-voted answer focuses heavily on the C++-specific aspect."}],"answers":[{"comments":[{"owner":{"account_id":7535096,"reputation":1338,"user_id":5721694,"accept_rate":71,"display_name":"Timmiej93"},"score":0,"creation_date":1505835001,"post_id":46304200,"comment_id":79571033,"body_markdown":"So, if I understand correctly: You can only access each input (or input array&#39;s variable in this case) once, and you can not store the input in an other, temporary variable?","body":"So, if I understand correctly: You can only access each input (or input array&#39;s variable in this case) once, and you can not store the input in an other, temporary variable?"},{"owner":{"account_id":11674594,"reputation":456,"user_id":8548583,"display_name":"Kwahn"},"score":0,"creation_date":1505835201,"post_id":46304200,"comment_id":79571148,"body_markdown":"Yes, no storing input somewhere else unrestrictedly. You can somewhat, but not in an unbounded fashion - if you need to store a variable in one box, that&#39;s okay, but you aren&#39;t allowed to just create more boxes for variable storage in an unlimited fashion.  An example of bounded temporary storage is, say, if I&#39;m summing a list of numbers, the intermediary result is a bounded buffer (it only ever uses one box, and doesn&#39;t grow or shrink).  If you decide to store your entire data set in another box, that&#39;s not good, since it can be as big as your data set (it&#39;s considered unbounded).","body":"Yes, no storing input somewhere else unrestrictedly. You can somewhat, but not in an unbounded fashion - if you need to store a variable in one box, that&#39;s okay, but you aren&#39;t allowed to just create more boxes for variable storage in an unlimited fashion.  An example of bounded temporary storage is, say, if I&#39;m summing a list of numbers, the intermediary result is a bounded buffer (it only ever uses one box, and doesn&#39;t grow or shrink).  If you decide to store your entire data set in another box, that&#39;s not good, since it can be as big as your data set (it&#39;s considered unbounded)."},{"owner":{"account_id":1625605,"reputation":5548,"user_id":1501234,"accept_rate":72,"display_name":"Jaroslaw Pawlak"},"score":0,"creation_date":1505835932,"post_id":46304200,"comment_id":79571640,"body_markdown":"@Kwahn `int[] depth = new int[tree.length]; ... return depth;` - this looks like the result requires `O(n)` storage anyway.","body":"@Kwahn <code>int[] depth = new int[tree.length]; ... return depth;</code> - this looks like the result requires <code>O(n)</code> storage anyway."},{"owner":{"account_id":11674594,"reputation":456,"user_id":8548583,"display_name":"Kwahn"},"score":0,"creation_date":1505836675,"post_id":46304200,"comment_id":79572101,"body_markdown":"Right - if the output&#39;s O(n), you&#39;ll have to use O(n) storage.  But that&#39;s also its bound, a predefined box that&#39;s not being dynamically expanded or shrunk with no limitations.  I&#39;m probably explaining bound vs. unbound really poorly.  Sorry :(","body":"Right - if the output&#39;s O(n), you&#39;ll have to use O(n) storage.  But that&#39;s also its bound, a predefined box that&#39;s not being dynamically expanded or shrunk with no limitations.  I&#39;m probably explaining bound vs. unbound really poorly.  Sorry :("},{"owner":{"account_id":3620161,"reputation":6751,"user_id":3019105,"accept_rate":61,"display_name":"tonix"},"score":1,"creation_date":1595327236,"post_id":46304200,"comment_id":111429653,"body_markdown":"How does this type of algorithms (`one-pass`) relate to `online` algorithms? https://en.wikipedia.org/wiki/Online_algorithm E.g.: Are `one-pass` algorithms a subset of `online` algorithms? Thank you!","body":"How does this type of algorithms (<code>one-pass</code>) relate to <code>online</code> algorithms? <a href=\"https://en.wikipedia.org/wiki/Online_algorithm\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Online_algorithm</a> E.g.: Are <code>one-pass</code> algorithms a subset of <code>online</code> algorithms? Thank you!"}],"tags":[],"owner":{"account_id":11674594,"reputation":456,"user_id":8548583,"display_name":"Kwahn"},"comment_count":5,"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1505834488,"creation_date":1505834488,"answer_id":46304200,"question_id":46304035,"body_markdown":"In computing, a one-pass algorithm is one which reads its input exactly once, in order, without unbounded buffering (you&#39;re not storing things elsewhere and counting that as one look). A one-pass algorithm generally requires O(n) (if you have n items, it takes n steps to finish) and less than O(n) storage (since you don&#39;t always need to use extra storage, it could be low as O(1)), where n is the size of the input.\r\n\r\n(lifted straight from https://en.wikipedia.org/wiki/One-pass_algorithm, with some layman translation)\r\n\r\nA for loop is a quintessential one-pass algorithm - you look at each value exactly once and move on.  A while loop can work too, as long as it only looks at each value exactly once and does not repeat what the for loop looks at - but it&#39;s not in this case.\r\n\r\nYour goal in this depth-first search is to look at each node exactly once, and move on, never repeating. The while loop traverses the tree multiple times, so no, it is not one-pass.\r\n\r\nHope that made sense.","title":"What is a one-pass algorithm, and is mine one?","body":"<p>In computing, a one-pass algorithm is one which reads its input exactly once, in order, without unbounded buffering (you're not storing things elsewhere and counting that as one look). A one-pass algorithm generally requires O(n) (if you have n items, it takes n steps to finish) and less than O(n) storage (since you don't always need to use extra storage, it could be low as O(1)), where n is the size of the input.</p>\n\n<p>(lifted straight from <a href=\"https://en.wikipedia.org/wiki/One-pass_algorithm\" rel=\"noreferrer\">https://en.wikipedia.org/wiki/One-pass_algorithm</a>, with some layman translation)</p>\n\n<p>A for loop is a quintessential one-pass algorithm - you look at each value exactly once and move on.  A while loop can work too, as long as it only looks at each value exactly once and does not repeat what the for loop looks at - but it's not in this case.</p>\n\n<p>Your goal in this depth-first search is to look at each node exactly once, and move on, never repeating. The while loop traverses the tree multiple times, so no, it is not one-pass.</p>\n\n<p>Hope that made sense.</p>\n"},{"comments":[{"owner":{"account_id":7535096,"reputation":1338,"user_id":5721694,"accept_rate":71,"display_name":"Timmiej93"},"score":0,"creation_date":1505835330,"post_id":46304205,"comment_id":79571227,"body_markdown":"So basically, I can only use 1 single loop that gets each value from the `tree` array in order, and I can not access the `tree` array in any other way?","body":"So basically, I can only use 1 single loop that gets each value from the <code>tree</code> array in order, and I can not access the <code>tree</code> array in any other way?"},{"owner":{"account_id":6676441,"reputation":979,"user_id":5150898,"accept_rate":75,"display_name":"Chinmay jain"},"score":0,"creation_date":1505885624,"post_id":46304205,"comment_id":79589493,"body_markdown":"Not the same index.","body":"Not the same index."},{"owner":{"account_id":3620161,"reputation":6751,"user_id":3019105,"accept_rate":61,"display_name":"tonix"},"score":0,"creation_date":1595327376,"post_id":46304205,"comment_id":111429726,"body_markdown":"How do one-pass algorithms relate to online algorithms? Quoting Wikipedia: https://en.wikipedia.org/wiki/Online_algorithm Thank you! `An online algorithm is one that can process its input piece-by-piece in a serial fashion, i.e., in the order that the input is fed to the algorithm, without having the entire input available from the start.` This definition seems to be pretty similar to that of `one-pass` algorithms... What do you think? Thank you!","body":"How do one-pass algorithms relate to online algorithms? Quoting Wikipedia: <a href=\"https://en.wikipedia.org/wiki/Online_algorithm\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Online_algorithm</a> Thank you! <code>An online algorithm is one that can process its input piece-by-piece in a serial fashion, i.e., in the order that the input is fed to the algorithm, without having the entire input available from the start.</code> This definition seems to be pretty similar to that of <code>one-pass</code> algorithms... What do you think? Thank you!"},{"owner":{"account_id":11674594,"reputation":456,"user_id":8548583,"display_name":"Kwahn"},"score":1,"creation_date":1595820913,"post_id":46304205,"comment_id":111596038,"body_markdown":"@tonix A one-pass algorithm just needs to go through each input once - an online algorithm is even more restrictive, in that the input is provided only one piece at a time, rather than providing the entire input at once.  So a loop that counts how many inputs there are, then runs that many time, wouldn&#39;t work in an online algorithm, because it doesn&#39;t receive the entire input at once, so it doesn&#39;t know how many it will receive.","body":"@tonix A one-pass algorithm just needs to go through each input once - an online algorithm is even more restrictive, in that the input is provided only one piece at a time, rather than providing the entire input at once.  So a loop that counts how many inputs there are, then runs that many time, wouldn&#39;t work in an online algorithm, because it doesn&#39;t receive the entire input at once, so it doesn&#39;t know how many it will receive."},{"owner":{"account_id":3620161,"reputation":6751,"user_id":3019105,"accept_rate":61,"display_name":"tonix"},"score":0,"creation_date":1595840684,"post_id":46304205,"comment_id":111602648,"body_markdown":"Thank you for your clarification. I didn&#39;t understand this part though: `So a loop that counts how many inputs there are, then runs that many time, wouldn&#39;t work in an online algorithm, because it doesn&#39;t receive the entire input at once, so it doesn&#39;t know how many it will receive.` What do you mean by `runs that many time` and `wouldn&#39;t work in an online algorithm, because it doesn&#39;t receive the entire input at once, so it doesn&#39;t know how many it will receive.`? Thank you!","body":"Thank you for your clarification. I didn&#39;t understand this part though: <code>So a loop that counts how many inputs there are, then runs that many time, wouldn&#39;t work in an online algorithm, because it doesn&#39;t receive the entire input at once, so it doesn&#39;t know how many it will receive.</code> What do you mean by <code>runs that many time</code> and <code>wouldn&#39;t work in an online algorithm, because it doesn&#39;t receive the entire input at once, so it doesn&#39;t know how many it will receive.</code>? Thank you!"}],"tags":[],"owner":{"account_id":6676441,"reputation":979,"user_id":5150898,"accept_rate":75,"display_name":"Chinmay jain"},"comment_count":5,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1505834498,"creation_date":1505834498,"answer_id":46304205,"question_id":46304035,"body_markdown":"In layman terms, a one-pass algorithm is one which reads its input exactly once, in order.\r\n\r\nDoes your code fits the description: **No**.\r\n\r\nYou are traversing the input `tree` multiple times with the inside `while` loop:\r\n\r\n`tree[index]` and `tree[parentIndex]`\r\n\r\nwhich violates the basic criteria for the one-pass algorithm.","title":"What is a one-pass algorithm, and is mine one?","body":"<p>In layman terms, a one-pass algorithm is one which reads its input exactly once, in order.</p>\n\n<p>Does your code fits the description: <strong>No</strong>.</p>\n\n<p>You are traversing the input <code>tree</code> multiple times with the inside <code>while</code> loop:</p>\n\n<p><code>tree[index]</code> and <code>tree[parentIndex]</code></p>\n\n<p>which violates the basic criteria for the one-pass algorithm.</p>\n"},{"tags":[],"owner":{"account_id":3783810,"reputation":545,"user_id":3142450,"display_name":"GPuri"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688241761,"creation_date":1688241761,"answer_id":76596377,"question_id":46304035,"body_markdown":"I think the algorithm in OP is not one-pass as **tree** indexes are accessed multiple times(once in for and once in while). It could be converted to one-pass with something like below\r\n\r\n    public int[] computeDepth(int tree[]) {\r\n        int[] depth = new int[tree.length];\r\n        depth[0] = 0;\r\n        for (int index=1; index &lt; tree.length; index++) {\r\n    \r\n            depth[index] = 1;\r\n            int parentIndex = tree[index];\r\n            if(parentIndex != 0){\r\n              depth[index] += depth[parentIndex]\r\n            }\r\n       }\r\n       return depth;\r\n    }\r\nHere we are calculating depth of child from already calculated depth of it&#39;s parent.","title":"What is a one-pass algorithm, and is mine one?","body":"<p>I think the algorithm in OP is not one-pass as <strong>tree</strong> indexes are accessed multiple times(once in for and once in while). It could be converted to one-pass with something like below</p>\n<pre><code>public int[] computeDepth(int tree[]) {\n    int[] depth = new int[tree.length];\n    depth[0] = 0;\n    for (int index=1; index &lt; tree.length; index++) {\n\n        depth[index] = 1;\n        int parentIndex = tree[index];\n        if(parentIndex != 0){\n          depth[index] += depth[parentIndex]\n        }\n   }\n   return depth;\n}\n</code></pre>\n<p>Here we are calculating depth of child from already calculated depth of it's parent.</p>\n"}],"owner":{"account_id":7535096,"reputation":1338,"user_id":5721694,"accept_rate":71,"display_name":"Timmiej93"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8752,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":46304200,"answer_count":3,"score":6,"last_activity_date":1688241761,"creation_date":1505834008,"question_id":46304035,"body_markdown":"For a class I&#39;m taking, it is preferred to use a `one-pass algorithm` to fix a certain task. Since this class is outside of my specialization (I&#39;m Built Environment, the class is Computer Science), and it isn&#39;t discussed in class, I haven&#39;t got a clue what a one-pass algorithm is. Googling it gave made me think something like this:\r\n\r\n&gt; Each input can only be accessed once, and everything should be processed in order.\r\n\r\nFor my code below, this suggests to me that the `for loop` would fit in a `one-pass algorithm`, but I&#39;m unsure about the `while loop`. \r\n\r\nCould you tell me, preferably in layman&#39;s terms, what a `one-pass algorithm` means / entails, and if my code below fits this description?\r\n\r\n\r\n\tpublic int[] computeDepth(int tree[]) {\r\n\t\tint[] depth = new int[tree.length];\r\n\t\t\r\n\t\tdepth[0] = 0;\r\n\t\tfor (int index=1; index &lt; tree.length; index++) {\r\n\t\t\t\r\n\t\t\tdepth[index] = 1;\r\n\t\t\t\r\n\t\t\tint parentIndex = tree[index];\r\n\t\t\twhile (parentIndex != 0) {\r\n\t\t\t\t\r\n\t\t\t\tparentIndex = tree[parentIndex];\r\n\t\t\t\tdepth[index]++;\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\treturn depth;\r\n\t}","title":"What is a one-pass algorithm, and is mine one?","body":"<p>For a class I'm taking, it is preferred to use a <code>one-pass algorithm</code> to fix a certain task. Since this class is outside of my specialization (I'm Built Environment, the class is Computer Science), and it isn't discussed in class, I haven't got a clue what a one-pass algorithm is. Googling it gave made me think something like this:</p>\n\n<blockquote>\n  <p>Each input can only be accessed once, and everything should be processed in order.</p>\n</blockquote>\n\n<p>For my code below, this suggests to me that the <code>for loop</code> would fit in a <code>one-pass algorithm</code>, but I'm unsure about the <code>while loop</code>. </p>\n\n<p>Could you tell me, preferably in layman's terms, what a <code>one-pass algorithm</code> means / entails, and if my code below fits this description?</p>\n\n<pre><code>public int[] computeDepth(int tree[]) {\n    int[] depth = new int[tree.length];\n\n    depth[0] = 0;\n    for (int index=1; index &lt; tree.length; index++) {\n\n        depth[index] = 1;\n\n        int parentIndex = tree[index];\n        while (parentIndex != 0) {\n\n            parentIndex = tree[parentIndex];\n            depth[index]++;\n        }\n    }\n\n    return depth;\n}\n</code></pre>\n"},{"tags":["java","android","android-camera","android-camera2"],"comments":[{"owner":{"account_id":12627544,"reputation":3386,"user_id":9180439,"accept_rate":80,"display_name":"Ali"},"score":0,"creation_date":1545994508,"post_id":53957348,"comment_id":94752420,"body_markdown":"refer this link : https://stackoverflow.com/questions/43628278/how-to-use-android-camera2-api-to-record-60-fps-video-with-fixed-exposure-time/43646443#43646443","body":"refer this link : <a href=\"https://stackoverflow.com/questions/43628278/how-to-use-android-camera2-api-to-record-60-fps-video-with-fixed-exposure-time/43646443#43646443\" title=\"how to use android camera2 api to record 60 fps video with fixed exposure time\">stackoverflow.com/questions/43628278/&hellip;</a>"},{"owner":{"account_id":5326522,"reputation":247,"user_id":4248458,"display_name":"Chinmay Shah"},"score":0,"creation_date":1545995385,"post_id":53957348,"comment_id":94752752,"body_markdown":"CONTROL_AE_AVAILABLE_TARGET_FPS_RANGES needs to be changed, but where do I change it?","body":"CONTROL_AE_AVAILABLE_TARGET_FPS_RANGES needs to be changed, but where do I change it?"},{"owner":{"account_id":65347,"reputation":56309,"user_id":192373,"accept_rate":74,"display_name":"Alex Cohn"},"score":0,"creation_date":1546168750,"post_id":53957348,"comment_id":94791850,"body_markdown":"**CONTROL_AE_AVAILABLE_TARGET_FPS_RANGES** is read-only. You can set **CONTROL_AE_TARGET_FPS_RANGE** but it may only be one of the *available* ranges.","body":"<b>CONTROL_AE_AVAILABLE_TARGET_FPS_RANGES</b> is read-only. You can set <b>CONTROL_AE_TARGET_FPS_RANGE</b> but it may only be one of the <i>available</i> ranges."}],"answers":[{"comments":[{"owner":{"account_id":396860,"reputation":1313,"user_id":760661,"display_name":"Hugo"},"score":1,"creation_date":1606616829,"post_id":54277095,"comment_id":115014098,"body_markdown":"captureRequest.set(CaptureRequest.CONTROL_MODE, CameraMetadata.CONTROL_MODE_OFF);\ncaptureRequest.set(CaptureRequest.SENSOR_FRAME_DURATION, mFrameDuration);","body":"captureRequest.set(CaptureRequest.CONTROL_MODE, CameraMetadata.CONTROL_MODE_OFF); captureRequest.set(CaptureRequest.SENSOR_FRAME_DURATION, mFrameDuration);"},{"owner":{"account_id":14056231,"reputation":641,"user_id":10153483,"display_name":"Black4Guy"},"score":0,"creation_date":1659535454,"post_id":54277095,"comment_id":129317970,"body_markdown":"Hi, @Chinmay shah, How do i make sure if it is working or not. I tried above mention code snippet but it doesn&#39;t seem working in my case.","body":"Hi, @Chinmay shah, How do i make sure if it is working or not. I tried above mention code snippet but it doesn&#39;t seem working in my case."}],"tags":[],"owner":{"account_id":5326522,"reputation":247,"user_id":4248458,"display_name":"Chinmay Shah"},"comment_count":2,"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1547992155,"creation_date":1547992155,"answer_id":54277095,"question_id":53957348,"body_markdown":"As suggested in the comment, I managed to find the solution and am answering my own question, on how I solved the problem. \r\n\r\nWe first create an object of `mPreviewRequestBuilder` and using it to modify frame rate. \r\n\r\n    private CaptureRequest.Builder mPreviewRequestBuilder;\r\n    // We set up a CaptureRequest.Builder with the output Surface.\r\n    mPreviewRequestBuilder\r\n                    = mCameraDevice.createCaptureRequest(CameraDevice.TEMPLATE_PREVIEW);\r\n    mPreviewRequestBuilder.addTarget(surface);        \r\n    \r\nWe can achieve changing this by creating an array of [Range][1] and setting this manually as mentioned below. \r\n\r\n    Range&lt;Integer&gt;[] fps = new Range[size];\r\nAdding custom values to the Range class. \r\n\r\n    fps[0] = Range.create(2,5);\r\n\r\nOnce we have managed to create an array of Range, we can set the camera settings as mentioned below: \r\n\r\n    mPreviewRequestBuilder.set(CaptureRequest.CONTROL_AE_TARGET_FPS_RANGE,fps[0]);\r\n    mPreviewRequest = mPreviewRequestBuilder.build();\r\n\r\n\r\n  [1]: https://developer.android.com/reference/android/util/Range","title":"How to modify frame rate using camera2?","body":"<p>As suggested in the comment, I managed to find the solution and am answering my own question, on how I solved the problem. </p>\n\n<p>We first create an object of <code>mPreviewRequestBuilder</code> and using it to modify frame rate. </p>\n\n<pre><code>private CaptureRequest.Builder mPreviewRequestBuilder;\n// We set up a CaptureRequest.Builder with the output Surface.\nmPreviewRequestBuilder\n                = mCameraDevice.createCaptureRequest(CameraDevice.TEMPLATE_PREVIEW);\nmPreviewRequestBuilder.addTarget(surface);        \n</code></pre>\n\n<p>We can achieve changing this by creating an array of <a href=\"https://developer.android.com/reference/android/util/Range\" rel=\"noreferrer\">Range</a> and setting this manually as mentioned below. </p>\n\n<pre><code>Range&lt;Integer&gt;[] fps = new Range[size];\n</code></pre>\n\n<p>Adding custom values to the Range class. </p>\n\n<pre><code>fps[0] = Range.create(2,5);\n</code></pre>\n\n<p>Once we have managed to create an array of Range, we can set the camera settings as mentioned below: </p>\n\n<pre><code>mPreviewRequestBuilder.set(CaptureRequest.CONTROL_AE_TARGET_FPS_RANGE,fps[0]);\nmPreviewRequest = mPreviewRequestBuilder.build();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13348801,"reputation":51,"user_id":9634613,"display_name":"Akash"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1602759872,"creation_date":1602758250,"answer_id":64369741,"question_id":53957348,"body_markdown":"    Range&lt;Integer&gt; fpsRange = new Range&lt;&gt;(30,60);\r\n    mPreviewRequestBuilder.set(CaptureRequest.CONTROL_AE_TARGET_FPS_RANGE,fpsRange);\r\n\r\nThis code works and sets the target fps range. However I was able to set the values to 30,60 on S9 plus and it delivers around 45 FPS. Even though [30,60] is not available in ranges.","title":"How to modify frame rate using camera2?","body":"<pre><code>Range&lt;Integer&gt; fpsRange = new Range&lt;&gt;(30,60);\nmPreviewRequestBuilder.set(CaptureRequest.CONTROL_AE_TARGET_FPS_RANGE,fpsRange);\n</code></pre>\n<p>This code works and sets the target fps range. However I was able to set the values to 30,60 on S9 plus and it delivers around 45 FPS. Even though [30,60] is not available in ranges.</p>\n"},{"tags":[],"owner":{"account_id":25589240,"reputation":36,"user_id":19366374,"display_name":"ricogordo"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688241279,"creation_date":1688241279,"answer_id":76596353,"question_id":53957348,"body_markdown":"Use this only if you are very desperate as this is not a professional answer:\r\n\r\n\r\nUsing [this][1] application as an example I added this time delay between the capture of frames to force in an UGLY WAY the drop of fps. For example to reach a level of 4 fps aproximatelly, I added in .../kotlin/com/otaliastudios/cameraview/demo/CameraActivity.kt this try-catch snippet:\r\n\r\n    ...\r\n    LOG.v(&quot;Frame delayMillis:&quot;, delay, &quot;FPS:&quot;, 1000 / delay)\r\n    // This try catch forces a fps of 4fps aprox\r\n    try {\r\n        Thread.sleep(250) // Sleep for 1000 milliseconds (1 second)\r\n    } catch (e: InterruptedException) {\r\n        // Handle the interrupted exception\r\n        e.printStackTrace()\r\n    }\r\n    if (DECODE_BITMAP) {\r\n    ...\r\n\r\nAlso setting &#39;USE_FRAME_PROCESSOR&#39; to true.\r\n\r\n\r\n  [1]: https://github.com/natario1/CameraView","title":"How to modify frame rate using camera2?","body":"<p>Use this only if you are very desperate as this is not a professional answer:</p>\n<p>Using <a href=\"https://github.com/natario1/CameraView\" rel=\"nofollow noreferrer\">this</a> application as an example I added this time delay between the capture of frames to force in an UGLY WAY the drop of fps. For example to reach a level of 4 fps aproximatelly, I added in .../kotlin/com/otaliastudios/cameraview/demo/CameraActivity.kt this try-catch snippet:</p>\n<pre><code>...\nLOG.v(&quot;Frame delayMillis:&quot;, delay, &quot;FPS:&quot;, 1000 / delay)\n// This try catch forces a fps of 4fps aprox\ntry {\n    Thread.sleep(250) // Sleep for 1000 milliseconds (1 second)\n} catch (e: InterruptedException) {\n    // Handle the interrupted exception\n    e.printStackTrace()\n}\nif (DECODE_BITMAP) {\n...\n</code></pre>\n<p>Also setting 'USE_FRAME_PROCESSOR' to true.</p>\n"}],"owner":{"account_id":5326522,"reputation":247,"user_id":4248458,"display_name":"Chinmay Shah"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6496,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":54277095,"answer_count":3,"score":3,"last_activity_date":1688241279,"creation_date":1545994307,"question_id":53957348,"body_markdown":"I&#39;m trying to modify the frame rate (reduce it) so that we can do real-time operation on it. But cannot change the frame rate.\r\n\r\n\r\nPossible solutions include : \r\n\r\n- Changing `CONTROL_AE_AVAILABLE_TARGET_FPS_RANGES`\r\n\r\n- delay `setRepeatingRequest`\r\n\r\n\r\nWe need to reduce the generated frame rate passed to `Surfaceholder` so that can apply on operations in it further. \r\n\r\n","title":"How to modify frame rate using camera2?","body":"<p>I'm trying to modify the frame rate (reduce it) so that we can do real-time operation on it. But cannot change the frame rate.</p>\n\n<p>Possible solutions include : </p>\n\n<ul>\n<li><p>Changing <code>CONTROL_AE_AVAILABLE_TARGET_FPS_RANGES</code></p></li>\n<li><p>delay <code>setRepeatingRequest</code></p></li>\n</ul>\n\n<p>We need to reduce the generated frame rate passed to <code>Surfaceholder</code> so that can apply on operations in it further. </p>\n"},{"tags":["java","intellij-idea","build","jar","artifact"],"answers":[{"comments":[{"owner":{"account_id":2547043,"reputation":671,"user_id":2211640,"accept_rate":43,"display_name":"Gyan Swaroop Awasthi"},"score":0,"creation_date":1597329842,"post_id":1082984,"comment_id":112102977,"body_markdown":"Without gradle its working properly but when i build gradle based project in IntelliJIdea its show C:\\Validate\\out\\artifacts\\Validate_jar&gt;java -jar Validate.jar\nError: Could not find or load main class Validate\nCaused by: java.lang.ClassNotFoundException: Validate","body":"Without gradle its working properly but when i build gradle based project in IntelliJIdea its show C:\\Validate\\out\\artifacts\\Validate_jar&gt;java -jar Validate.jar Error: Could not find or load main class Validate Caused by: java.lang.ClassNotFoundException: Validate"}],"tags":[],"owner":{"account_id":9166,"reputation":1426,"user_id":16826,"accept_rate":100,"display_name":"Vugluskr"},"comment_count":1,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1246742117,"creation_date":1246742117,"answer_id":1082984,"question_id":1082580,"body_markdown":"Idea 8.1.3\r\n\r\nJar is ok, since there is compiled output in &#39;output&#39; directory (project/out/production/&lt;Module&gt;/)\r\n\r\nI guess, you have to run &#39;make&#39; before building jar\r\n\r\nfor dependencies just check &quot;show library&quot; and choose what you want.","title":"How to build JARs from IntelliJ IDEA properly?","body":"<p>Idea 8.1.3</p>\n\n<p>Jar is ok, since there is compiled output in 'output' directory (project/out/production//)</p>\n\n<p>I guess, you have to run 'make' before building jar</p>\n\n<p>for dependencies just check \"show library\" and choose what you want.</p>\n"},{"comments":[{"owner":{"account_id":88574,"reputation":5071,"user_id":244888,"accept_rate":74,"display_name":"Juriy"},"score":8,"creation_date":1275500806,"post_id":2206323,"comment_id":3018331,"body_markdown":"Maven is obviously overhead for a simple tasks like creating jar. Maybe Ant but not maven for sure.","body":"Maven is obviously overhead for a simple tasks like creating jar. Maybe Ant but not maven for sure."},{"owner":{"account_id":3536361,"reputation":681,"user_id":3023513,"accept_rate":29,"display_name":"KathyA."},"score":0,"creation_date":1414597563,"post_id":2206323,"comment_id":41877062,"body_markdown":"Link is dead (Oct 2014)","body":"Link is dead (Oct 2014)"},{"owner":{"account_id":170199,"reputation":7167,"user_id":396747,"accept_rate":100,"display_name":"Gary"},"score":1,"creation_date":1414660639,"post_id":2206323,"comment_id":41902465,"body_markdown":"@KathyA. Thanks - updated to use the Maven team&#39;s recommendations.","body":"@KathyA. Thanks - updated to use the Maven team&#39;s recommendations."},{"owner":{"account_id":472567,"reputation":2881,"user_id":881111,"display_name":"marknuzz"},"score":6,"creation_date":1422351128,"post_id":2206323,"comment_id":44704306,"body_markdown":"If it&#39;s so trivial, why not include it in your answer?","body":"If it&#39;s so trivial, why not include it in your answer?"},{"owner":{"account_id":170199,"reputation":7167,"user_id":396747,"accept_rate":100,"display_name":"Gary"},"score":1,"creation_date":1422367354,"post_id":2206323,"comment_id":44713712,"body_markdown":"Because I wish the reader to visit the site and begin the learning process.","body":"Because I wish the reader to visit the site and begin the learning process."}],"tags":[],"owner":{"account_id":170199,"reputation":7167,"user_id":396747,"accept_rate":100,"display_name":"Gary"},"comment_count":5,"down_vote_count":6,"up_vote_count":6,"is_accepted":false,"score":0,"last_activity_date":1414660614,"creation_date":1265363568,"answer_id":2206323,"question_id":1082580,"body_markdown":"You might want to take a look at Maven (http://maven.apache.org). You can use it either as the main build process for your application, or just to perform certain tasks through the Edit Configurations dialog. The process of creating a JAR of a module within Maven is fairly trivial, if you want it to include all the dependencies in a self-executable JAR that is trivial as well.\r\n\r\nIf you&#39;ve never used Maven before then you want to read [Better Builds With Maven](http://maven.apache.org/articles.html).\r\n ","title":"How to build JARs from IntelliJ IDEA properly?","body":"<p>You might want to take a look at Maven (<a href=\"http://maven.apache.org\" rel=\"nofollow noreferrer\">http://maven.apache.org</a>). You can use it either as the main build process for your application, or just to perform certain tasks through the Edit Configurations dialog. The process of creating a JAR of a module within Maven is fairly trivial, if you want it to include all the dependencies in a self-executable JAR that is trivial as well.</p>\n\n<p>If you've never used Maven before then you want to read <a href=\"http://maven.apache.org/articles.html\" rel=\"nofollow noreferrer\">Better Builds With Maven</a>.</p>\n"},{"comments":[{"owner":{"account_id":1670378,"reputation":1701,"user_id":1536934,"accept_rate":24,"display_name":"MrSynAckSter"},"score":4,"creation_date":1496337802,"post_id":2964077,"comment_id":75632776,"body_markdown":"This does nothing to explain why the error is happening.","body":"This does nothing to explain why the error is happening."}],"tags":[],"owner":{"account_id":103447,"reputation":6421,"user_id":277084,"accept_rate":100,"display_name":"Brian"},"comment_count":1,"down_vote_count":7,"up_vote_count":3,"is_accepted":false,"score":-4,"last_activity_date":1275550898,"creation_date":1275550898,"answer_id":2964077,"question_id":1082580,"body_markdown":"Ant and Maven are widely used.  I prefer Ant, I feel it&#39;s more lightweight and you the developer are more in control.  Some would suggest that&#39;s its downside :-)","title":"How to build JARs from IntelliJ IDEA properly?","body":"<p>Ant and Maven are widely used.  I prefer Ant, I feel it's more lightweight and you the developer are more in control.  Some would suggest that's its downside :-)</p>\n"},{"comments":[{"owner":{"account_id":123329,"reputation":843,"user_id":317716,"accept_rate":89,"display_name":"Asif Shahzad"},"score":12,"creation_date":1331125292,"post_id":4901370,"comment_id":12179655,"body_markdown":"It fails when some classes in your included jar are signed with RSA.","body":"It fails when some classes in your included jar are signed with RSA."},{"owner":{"account_id":9626,"reputation":17894,"user_id":17871,"accept_rate":86,"display_name":"James Schek"},"score":0,"creation_date":1369971418,"post_id":4901370,"comment_id":24298706,"body_markdown":"Link is dead. Do you have a copy of this article?","body":"Link is dead. Do you have a copy of this article?"},{"owner":{"account_id":2674955,"reputation":10194,"user_id":2311557,"accept_rate":61,"display_name":"codepleb"},"score":0,"creation_date":1456482501,"post_id":4901370,"comment_id":58978717,"body_markdown":"This creates a jar file with the class files (and the structure) only. I&#39;m using gradle.","body":"This creates a jar file with the class files (and the structure) only. I&#39;m using gradle."},{"owner":{"account_id":2616444,"reputation":438,"user_id":2265407,"display_name":"sgirardin"},"score":0,"creation_date":1471437222,"post_id":4901370,"comment_id":65345004,"body_markdown":"For me it worked on 2016.2.1, but you have to first check the mark &quot;Build on make&quot; in the menu where you set the output directory, then you have to Run the application in Intellij so it generates the jar","body":"For me it worked on 2016.2.1, but you have to first check the mark &quot;Build on make&quot; in the menu where you set the output directory, then you have to Run the application in Intellij so it generates the jar"},{"owner":{"account_id":1622277,"reputation":6199,"user_id":1498586,"accept_rate":66,"display_name":"Mahdi"},"score":0,"creation_date":1492416735,"post_id":4901370,"comment_id":73951123,"body_markdown":"how can generate Tomcat embedded jar?","body":"how can generate Tomcat embedded jar?"},{"owner":{"display_name":"user2241537"},"score":1,"creation_date":1494914918,"post_id":4901370,"comment_id":75015801,"body_markdown":"@AsifShahzad see this answer for building jar files with signed dependencies: http://stackoverflow.com/questions/41746177/how-do-i-create-a-runnable-jar-in-intellij-as-i-would-in-eclipse/43855741#43855741.","body":"@AsifShahzad see this answer for building jar files with signed dependencies: <a href=\"http://stackoverflow.com/questions/41746177/how-do-i-create-a-runnable-jar-in-intellij-as-i-would-in-eclipse/43855741#43855741\" title=\"how do i create a runnable jar in intellij as i would in eclipse\">stackoverflow.com/questions/41746177/&hellip;</a>."},{"owner":{"account_id":5631811,"reputation":747,"user_id":4458543,"accept_rate":100,"display_name":"Samuel Owino"},"score":16,"creation_date":1498558814,"post_id":4901370,"comment_id":76536034,"body_markdown":"This method still fails, the jar file doesn&#39;t execute","body":"This method still fails, the jar file doesn&#39;t execute"},{"owner":{"account_id":5061731,"reputation":724,"user_id":4063096,"accept_rate":100,"display_name":"Jeff Hu"},"score":2,"creation_date":1501492889,"post_id":4901370,"comment_id":77784205,"body_markdown":"Be reminded to choose the correct `Main Class`, while doing `Create JAR from Modules`. Otherwise the JAR file will never work as you expected.","body":"Be reminded to choose the correct <code>Main Class</code>, while doing <code>Create JAR from Modules</code>. Otherwise the JAR file will never work as you expected."},{"owner":{"account_id":73336,"reputation":457,"user_id":211249,"accept_rate":70,"display_name":"Awesome"},"score":32,"creation_date":1516006973,"post_id":4901370,"comment_id":83502090,"body_markdown":"It seems someone has really worked very hard to not make it work. It is such a shame it never works. I have tried at least 50 different answers and none of it worked. And its the same story every single time. Now I reserve a week to just output it as a jar as everyone in our company thinks its a genuine effort that needs to be go in producing an output jar.","body":"It seems someone has really worked very hard to not make it work. It is such a shame it never works. I have tried at least 50 different answers and none of it worked. And its the same story every single time. Now I reserve a week to just output it as a jar as everyone in our company thinks its a genuine effort that needs to be go in producing an output jar."},{"owner":{"account_id":106014,"reputation":1172,"user_id":282612,"accept_rate":29,"display_name":"Etamar Laron"},"score":5,"creation_date":1521010304,"post_id":4901370,"comment_id":85545625,"body_markdown":"As many wrote before me, this is a simplification that sometime works.  Please see @zsolt tolvali&#39;s answer below.  It would be good from IntelliJ&#39;s perspective to make the JAR creation process a DEFAULT ACTIVITY when creating a new project, because very few people do not need it!","body":"As many wrote before me, this is a simplification that sometime works.  Please see @zsolt tolvali&#39;s answer below.  It would be good from IntelliJ&#39;s perspective to make the JAR creation process a DEFAULT ACTIVITY when creating a new project, because very few people do not need it!"},{"owner":{"account_id":4881377,"reputation":5297,"user_id":3946482,"accept_rate":93,"display_name":"plaidshirt"},"score":0,"creation_date":1524733889,"post_id":4901370,"comment_id":87094244,"body_markdown":"I sleected class, but get error message: &quot;not acceptable&quot;","body":"I sleected class, but get error message: &quot;not acceptable&quot;"},{"owner":{"account_id":7616316,"reputation":559,"user_id":5775622,"accept_rate":79,"display_name":"1234"},"score":95,"creation_date":1575599453,"post_id":4901370,"comment_id":104629792,"body_markdown":"it is almost 2020, and we have self driving car almost and we still can not figure out how to create executable jar in Intellij","body":"it is almost 2020, and we have self driving car almost and we still can not figure out how to create executable jar in Intellij"},{"owner":{"account_id":1465562,"reputation":884,"user_id":1378507,"accept_rate":72,"display_name":"Washington A. Ramos"},"score":0,"creation_date":1597552468,"post_id":4901370,"comment_id":112167205,"body_markdown":"I can&#39;t thank you enough for this after literally wasting 2 hours of my life trying to figure out how to tell Maven that I want the dependencies to come with the generated jar.","body":"I can&#39;t thank you enough for this after literally wasting 2 hours of my life trying to figure out how to tell Maven that I want the dependencies to come with the generated jar."},{"owner":{"account_id":11711219,"reputation":497,"user_id":8573084,"display_name":"manikanta nvsr"},"score":1,"creation_date":1597818317,"post_id":4901370,"comment_id":112253772,"body_markdown":"After trying 100 times to make a jar using intelliJ, I finally found a solution. Open Eclipse --&gt; export as Jar. Done.","body":"After trying 100 times to make a jar using intelliJ, I finally found a solution. Open Eclipse --&gt; export as Jar. Done."},{"owner":{"account_id":15896591,"reputation":227,"user_id":11470229,"display_name":"D.O."},"score":4,"creation_date":1608291058,"post_id":4901370,"comment_id":115544416,"body_markdown":"how are Java IDEs still so garbage... this is insane","body":"how are Java IDEs still so garbage... this is insane"},{"owner":{"account_id":9236158,"reputation":837,"user_id":6860744,"accept_rate":79,"display_name":"Darius Duesentrieb"},"score":0,"creation_date":1639337992,"post_id":4901370,"comment_id":124317700,"body_markdown":"@1234 The worst hour of my life I spend trying to figure out how to get an executable of a java project.","body":"@1234 The worst hour of my life I spend trying to figure out how to get an executable of a java project."},{"owner":{"account_id":1570833,"reputation":4637,"user_id":1458552,"accept_rate":62,"display_name":"Anonymous"},"score":1,"creation_date":1646324023,"post_id":4901370,"comment_id":126100005,"body_markdown":"2022-03-03: I can say that this approach worked well with IntelliJ IDEA 2021.3.2 (Ultimate Edition)","body":"2022-03-03: I can say that this approach worked well with IntelliJ IDEA 2021.3.2 (Ultimate Edition)"},{"owner":{"account_id":437118,"reputation":1845,"user_id":824644,"accept_rate":100,"display_name":"Pedro Gordo"},"score":0,"creation_date":1659044163,"post_id":4901370,"comment_id":129208493,"body_markdown":"Thank you SO MUCH! I wish I could award extra points for this &lt;3","body":"Thank you SO MUCH! I wish I could award extra points for this &lt;3"},{"owner":{"account_id":3214004,"reputation":1859,"user_id":4871676,"accept_rate":90,"display_name":"Plain_Dude_Sleeping_Alone"},"score":0,"creation_date":1667227258,"post_id":4901370,"comment_id":131114250,"body_markdown":"none of these solutions ever works","body":"none of these solutions ever works"},{"owner":{"account_id":299438,"reputation":1403,"user_id":606025,"accept_rate":64,"display_name":"frewper"},"score":0,"creation_date":1701661862,"post_id":4901370,"comment_id":136799479,"body_markdown":"my honest suggestion, in case of trying to build one using intellij, one can use the command line to build a jar. (assuming its a small jar and you are not using maven to get it done)","body":"my honest suggestion, in case of trying to build one using intellij, one can use the command line to build a jar. (assuming its a small jar and you are not using maven to get it done)"}],"tags":[],"owner":{"account_id":31680,"reputation":14621,"user_id":87191,"accept_rate":70,"display_name":"simao"},"comment_count":20,"down_vote_count":10,"up_vote_count":792,"is_accepted":true,"score":782,"last_activity_date":1680103500,"creation_date":1296842771,"answer_id":4901370,"question_id":1082580,"body_markdown":"#### Instructions:\r\n\r\n&lt;kbd&gt;File&lt;/kbd&gt; -&gt; &lt;kbd&gt;Project Structure&lt;/kbd&gt; -&gt; &lt;kbd&gt;Project Settings&lt;/kbd&gt; -&gt; &lt;kbd&gt;Artifacts&lt;/kbd&gt; -&gt; Click &lt;kbd&gt;+&lt;/kbd&gt; (plus sign) -&gt; &lt;kbd&gt;Jar&lt;/kbd&gt; -&gt; &lt;kbd&gt;From modules with dependencies...&lt;/kbd&gt;\r\n\r\nSelect a &lt;kbd&gt;Main Class&lt;/kbd&gt; (the one with `main()` method) if you need to make the jar runnable.\r\n\r\nSelect &lt;kbd&gt;Extract to the target Jar&lt;/kbd&gt;\r\n\r\nClick &lt;kbd&gt;OK&lt;/kbd&gt;\r\n\r\nClick &lt;kbd&gt;Apply&lt;/kbd&gt;/&lt;kbd&gt;OK&lt;/kbd&gt;\r\n\r\nThe above sets the &quot;skeleton&quot; to where the jar will be saved to. To actually build and save it do the following: \r\n\r\n&lt;kbd&gt;Build&lt;/kbd&gt; -&gt; &lt;kbd&gt;Build Artifact&lt;/kbd&gt; -&gt; &lt;kbd&gt;Build&lt;/kbd&gt;\r\n\r\nTry Extracting the .jar file from:\r\n\r\n```\r\n&#128230;ProjectName\r\n ┗ &#128194;out\r\n   ┗ &#128194;artifacts\r\n     ┗ &#128194;ProjectName_jar\r\n        ┗ &#128220;ProjectName.jar\r\n```\r\n\r\n#### References:\r\n- (Aug 2010) http://blogs.jetbrains.com/idea/2010/08/quickly-create-jar-artifact/ (Here&#39;s how to build a jar with IntelliJ 10)\r\n- (Mar 2023) https://www.jetbrains.com/help/idea/compiling-applications.html#package_into_jar\r\n","title":"How to build JARs from IntelliJ IDEA properly?","body":"<h4>Instructions:</h4>\n<p><kbd>File</kbd> -&gt; <kbd>Project Structure</kbd> -&gt; <kbd>Project Settings</kbd> -&gt; <kbd>Artifacts</kbd> -&gt; Click <kbd>+</kbd> (plus sign) -&gt; <kbd>Jar</kbd> -&gt; <kbd>From modules with dependencies...</kbd></p>\n<p>Select a <kbd>Main Class</kbd> (the one with <code>main()</code> method) if you need to make the jar runnable.</p>\n<p>Select <kbd>Extract to the target Jar</kbd></p>\n<p>Click <kbd>OK</kbd></p>\n<p>Click <kbd>Apply</kbd>/<kbd>OK</kbd></p>\n<p>The above sets the &quot;skeleton&quot; to where the jar will be saved to. To actually build and save it do the following:</p>\n<p><kbd>Build</kbd> -&gt; <kbd>Build Artifact</kbd> -&gt; <kbd>Build</kbd></p>\n<p>Try Extracting the .jar file from:</p>\n<pre><code>📦ProjectName\n ┗ 📂out\n   ┗ 📂artifacts\n     ┗ 📂ProjectName_jar\n        ┗ 📜ProjectName.jar\n</code></pre>\n<h4>References:</h4>\n<ul>\n<li>(Aug 2010) <a href=\"http://blogs.jetbrains.com/idea/2010/08/quickly-create-jar-artifact/\" rel=\"noreferrer\">http://blogs.jetbrains.com/idea/2010/08/quickly-create-jar-artifact/</a> (Here's how to build a jar with IntelliJ 10)</li>\n<li>(Mar 2023) <a href=\"https://www.jetbrains.com/help/idea/compiling-applications.html#package_into_jar\" rel=\"noreferrer\">https://www.jetbrains.com/help/idea/compiling-applications.html#package_into_jar</a></li>\n</ul>\n"},{"comments":[{"owner":{"display_name":"user2241537"},"score":0,"creation_date":1494915162,"post_id":31090874,"comment_id":75015911,"body_markdown":"For signed dependencies, please have a look at this answer: http://stackoverflow.com/questions/41746177/how-do-i-create-a-runnable-jar-in-intellij-as-i-would-in-eclipse/43855741#43855741","body":"For signed dependencies, please have a look at this answer: <a href=\"http://stackoverflow.com/questions/41746177/how-do-i-create-a-runnable-jar-in-intellij-as-i-would-in-eclipse/43855741#43855741\" title=\"how do i create a runnable jar in intellij as i would in eclipse\">stackoverflow.com/questions/41746177/&hellip;</a>"},{"owner":{"account_id":4812777,"reputation":535,"user_id":3885765,"accept_rate":60,"display_name":"Andrew No"},"score":0,"creation_date":1524350565,"post_id":31090874,"comment_id":86938061,"body_markdown":"What an insane issue. Any idea why this happens or how to fix? This feels hacky","body":"What an insane issue. Any idea why this happens or how to fix? This feels hacky"}],"tags":[],"owner":{"account_id":5565691,"reputation":936,"user_id":4413101,"accept_rate":75,"display_name":"jbakirov"},"comment_count":2,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1438855101,"creation_date":1435422189,"answer_id":31090874,"question_id":1082580,"body_markdown":"It is probably little bit late, but I managed to solve it this way -&gt; \r\nopen with winrar and delete ECLIPSEF.RSA and ECLIPSEF.SF in META-INF folder, moreover put &quot;Main-class: main_class_name&quot; (without &quot;.class&quot;) in MANIFEST.MF. Make sure that you pressed &quot;Enter&quot; twice after the last line, otherwise it won&#39;t work.","title":"How to build JARs from IntelliJ IDEA properly?","body":"<p>It is probably little bit late, but I managed to solve it this way -> \nopen with winrar and delete ECLIPSEF.RSA and ECLIPSEF.SF in META-INF folder, moreover put \"Main-class: main_class_name\" (without \".class\") in MANIFEST.MF. Make sure that you pressed \"Enter\" twice after the last line, otherwise it won't work.</p>\n"},{"comments":[{"owner":{"account_id":5336230,"reputation":5228,"user_id":4255107,"accept_rate":50,"display_name":"sonus21"},"score":1,"creation_date":1445722007,"post_id":33111786,"comment_id":54444643,"body_markdown":"did you miss something ? There is an option about module what should be that. In my case it&#39;s creating JAR but JVM through error due to security.","body":"did you miss something ? There is an option about module what should be that. In my case it&#39;s creating JAR but JVM through error due to security."},{"owner":{"account_id":7116263,"reputation":23,"user_id":5442490,"display_name":"user5442490"},"score":0,"creation_date":1449797598,"post_id":33111786,"comment_id":56174117,"body_markdown":"i think that list is everything. You might have something with your java settings stopping it due to security. Does anyone else have thoughts on this?","body":"i think that list is everything. You might have something with your java settings stopping it due to security. Does anyone else have thoughts on this?"},{"owner":{"account_id":3478708,"reputation":424,"user_id":2911320,"accept_rate":12,"display_name":"laggerok19"},"score":0,"creation_date":1479326887,"post_id":33111786,"comment_id":68514690,"body_markdown":"Followed the same and I have Error: Could not find or load main class JavaFundamentals.jar when running this jar file. Explained here: http://stackoverflow.com/questions/40636790/intellij-build-wrong-jar-could-not-find-or-load-main-class","body":"Followed the same and I have Error: Could not find or load main class JavaFundamentals.jar when running this jar file. Explained here: <a href=\"http://stackoverflow.com/questions/40636790/intellij-build-wrong-jar-could-not-find-or-load-main-class\" title=\"intellij build wrong jar could not find or load main class\">stackoverflow.com/questions/40636790/&hellip;</a>"},{"owner":{"account_id":254270,"reputation":2467,"user_id":533549,"accept_rate":38,"display_name":"Andy"},"score":0,"creation_date":1523636171,"post_id":33111786,"comment_id":86657757,"body_markdown":"Does this 12 step process have to be taken every time I want to build a jar, or will IntelliJ remember these actions so you can use a shortcut to it?","body":"Does this 12 step process have to be taken every time I want to build a jar, or will IntelliJ remember these actions so you can use a shortcut to it?"}],"tags":[],"owner":{"account_id":7116263,"reputation":23,"user_id":5442490,"display_name":"user5442490"},"comment_count":4,"down_vote_count":1,"up_vote_count":152,"is_accepted":false,"score":151,"last_activity_date":1450544985,"creation_date":1444767213,"answer_id":33111786,"question_id":1082580,"body_markdown":"I recently had this problem and think these steps are easy to follow if any prior solution or link is missing detail.\r\n\r\nHow to create a `.jar` using IntelliJ IDEA 14.1.5:\r\n\r\n1. File &gt; Save All.\r\n2. Run driver or class with main method.\r\n3. File &gt; Project Structure.\r\n4. Select Tab &quot;Artifacts&quot;.\r\n5. Click green plus button near top of window.\r\n6. Select JAR from Add drop down menu. Select &quot;From modules with dependencies&quot;\r\n7. Select main class.\r\n8. The radio button should be selecting &quot;extract to the target JAR.&quot; Press OK.\r\n9. Check the box &quot;Build on make&quot;\r\n10. Press apply and OK.\r\n11. From the main menu, select the build dropdown.\r\n12. Select the option build artifacts.","title":"How to build JARs from IntelliJ IDEA properly?","body":"<p>I recently had this problem and think these steps are easy to follow if any prior solution or link is missing detail.</p>\n\n<p>How to create a <code>.jar</code> using IntelliJ IDEA 14.1.5:</p>\n\n<ol>\n<li>File > Save All.</li>\n<li>Run driver or class with main method.</li>\n<li>File > Project Structure.</li>\n<li>Select Tab \"Artifacts\".</li>\n<li>Click green plus button near top of window.</li>\n<li>Select JAR from Add drop down menu. Select \"From modules with dependencies\"</li>\n<li>Select main class.</li>\n<li>The radio button should be selecting \"extract to the target JAR.\" Press OK.</li>\n<li>Check the box \"Build on make\"</li>\n<li>Press apply and OK.</li>\n<li>From the main menu, select the build dropdown.</li>\n<li>Select the option build artifacts.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":6877048,"reputation":111,"user_id":5285142,"display_name":"fede beron"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1488878997,"creation_date":1482324894,"answer_id":41263291,"question_id":1082580,"body_markdown":"With Maven you can use this plugin:\r\n\r\n     &lt;build&gt;\r\n        &lt;plugins&gt;\r\n             \r\n            &lt;plugin&gt;\r\n                &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;archive&gt;\r\n                        &lt;manifest&gt;\r\n                            &lt;mainClass&gt;[path you class main]&lt;/mainClass&gt;\r\n                        &lt;/manifest&gt;\r\n                    &lt;/archive&gt;\r\n                    &lt;descriptorRefs&gt;\r\n                        &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\r\n                    &lt;/descriptorRefs&gt;\r\n                &lt;/configuration&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;make-assembly&lt;/id&gt;\r\n                        &lt;phase&gt;package&lt;/phase&gt; \r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;single&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n","title":"How to build JARs from IntelliJ IDEA properly?","body":"<p>With Maven you can use this plugin:</p>\n\n<pre><code> &lt;build&gt;\n    &lt;plugins&gt;\n\n        &lt;plugin&gt;\n            &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\n            &lt;configuration&gt;\n                &lt;archive&gt;\n                    &lt;manifest&gt;\n                        &lt;mainClass&gt;[path you class main]&lt;/mainClass&gt;\n                    &lt;/manifest&gt;\n                &lt;/archive&gt;\n                &lt;descriptorRefs&gt;\n                    &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\n                &lt;/descriptorRefs&gt;\n            &lt;/configuration&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;id&gt;make-assembly&lt;/id&gt;\n                    &lt;phase&gt;package&lt;/phase&gt; \n                    &lt;goals&gt;\n                        &lt;goal&gt;single&lt;/goal&gt;\n                    &lt;/goals&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":315387,"reputation":833,"user_id":631059,"accept_rate":100,"display_name":"red"},"score":0,"creation_date":1501704836,"post_id":43299276,"comment_id":77901323,"body_markdown":"Thanks, this helped me! There appears to be a bug in Intellij where the manifest of the project is overwritten in the JAR by a default manifest if you select &quot;JAR&quot; as the artifact type instead of &quot;Other&quot;.","body":"Thanks, this helped me! There appears to be a bug in Intellij where the manifest of the project is overwritten in the JAR by a default manifest if you select &quot;JAR&quot; as the artifact type instead of &quot;Other&quot;."}],"tags":[],"owner":{"account_id":7100878,"reputation":1517,"user_id":5432470,"display_name":"Thilina Ashen Gamage"},"comment_count":1,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1491678600,"creation_date":1491678600,"answer_id":43299276,"question_id":1082580,"body_markdown":"If you are using third party libraries with your project or if you have problems with creating MANIFEST.MF file properly, there can be conflicts when running JAR files generated using \r\n\r\n    File &gt; Project Structure &gt; Artifacts &gt; &#39;+&#39; &gt; JAR &gt; From modules with dependencies &gt; .....\r\n\r\nmethod mentioned above.\r\n\r\nInstead I suggest you to create an empty JAR and add all other elements to the output root manually. A wonderful blog article for this method can be found here: http://karthicraghupathi.com/2016/07/10/creating-an-executable-jar-in-intellij-idea/ I tried the steps mentioned there and everything worked fine for me! ","title":"How to build JARs from IntelliJ IDEA properly?","body":"<p>If you are using third party libraries with your project or if you have problems with creating MANIFEST.MF file properly, there can be conflicts when running JAR files generated using </p>\n\n<pre><code>File &gt; Project Structure &gt; Artifacts &gt; '+' &gt; JAR &gt; From modules with dependencies &gt; .....\n</code></pre>\n\n<p>method mentioned above.</p>\n\n<p>Instead I suggest you to create an empty JAR and add all other elements to the output root manually. A wonderful blog article for this method can be found here: <a href=\"http://karthicraghupathi.com/2016/07/10/creating-an-executable-jar-in-intellij-idea/\" rel=\"nofollow noreferrer\">http://karthicraghupathi.com/2016/07/10/creating-an-executable-jar-in-intellij-idea/</a> I tried the steps mentioned there and everything worked fine for me! </p>\n"},{"comments":[{"owner":{"account_id":1353454,"reputation":4045,"user_id":1292323,"accept_rate":91,"display_name":"kgui"},"score":7,"creation_date":1498567430,"post_id":43853983,"comment_id":76541655,"body_markdown":"@samuelowino i don&#39;t appreciate you saying that. Explain what &quot;doesn&#39;t work at all&quot;.","body":"@samuelowino i don&#39;t appreciate you saying that. Explain what &quot;doesn&#39;t work at all&quot;."},{"owner":{"account_id":5631811,"reputation":747,"user_id":4458543,"accept_rate":100,"display_name":"Samuel Owino"},"score":1,"creation_date":1498636918,"post_id":43853983,"comment_id":76573912,"body_markdown":"Hey @Crt  I was not checking the right jar file, apparently, Inteliji produced two jar files on different directories, apologies, my bad, your solution works, thanks","body":"Hey @Crt  I was not checking the right jar file, apparently, Inteliji produced two jar files on different directories, apologies, my bad, your solution works, thanks"},{"owner":{"account_id":15762242,"reputation":523,"user_id":11373639,"display_name":"tharindu"},"score":0,"creation_date":1618020352,"post_id":43853983,"comment_id":118483276,"body_markdown":"@Crt I tried the above steps. but i keep getting no main manifest attribute, in myFile-0.1.jar","body":"@Crt I tried the above steps. but i keep getting no main manifest attribute, in myFile-0.1.jar"}],"tags":[],"owner":{"account_id":1353454,"reputation":4045,"user_id":1292323,"accept_rate":91,"display_name":"kgui"},"comment_count":3,"down_vote_count":0,"up_vote_count":50,"is_accepted":false,"score":50,"last_activity_date":1583439285,"creation_date":1494265233,"answer_id":43853983,"question_id":1082580,"body_markdown":"For those that benefit from images as I do:\r\n\r\n&lt;kbd&gt;File&lt;/kbd&gt; -&gt; &lt;kbd&gt;Project Structure &lt;/kbd&gt;\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n[![enter image description here][2]][2]\r\n\r\n[![enter image description here][3]][3]\r\n\r\n[![enter image description here][4]][4]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/hkQp2.png\r\n  [2]: https://i.stack.imgur.com/gMrzp.png\r\n  [3]: https://i.stack.imgur.com/fICbE.png\r\n  [4]: https://i.stack.imgur.com/WtoB5.png","title":"How to build JARs from IntelliJ IDEA properly?","body":"<p>For those that benefit from images as I do:</p>\n\n<p><kbd>File</kbd> -> <kbd>Project Structure </kbd></p>\n\n<p><a href=\"https://i.stack.imgur.com/hkQp2.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/hkQp2.png\" alt=\"enter image description here\"></a></p>\n\n<p><a href=\"https://i.stack.imgur.com/gMrzp.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/gMrzp.png\" alt=\"enter image description here\"></a></p>\n\n<p><a href=\"https://i.stack.imgur.com/fICbE.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/fICbE.png\" alt=\"enter image description here\"></a></p>\n\n<p><a href=\"https://i.stack.imgur.com/WtoB5.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/WtoB5.png\" alt=\"enter image description here\"></a></p>\n"},{"comments":[{"owner":{"account_id":1792337,"reputation":1159,"user_id":1632448,"display_name":"fantouch"},"score":15,"creation_date":1511872118,"post_id":45303637,"comment_id":82019569,"body_markdown":"change manifest directory to src/resources is the key point !!! thanks~","body":"change manifest directory to src/resources is the key point !!! thanks~"},{"owner":{"account_id":1987752,"reputation":549,"user_id":1782535,"accept_rate":29,"display_name":"Prometheus"},"score":6,"creation_date":1535867203,"post_id":45303637,"comment_id":91218762,"body_markdown":"I was getting `no main manifest attribute` adopting above solutions. No one has mentioned changing the `path to manifest`. Thnx!!","body":"I was getting <code>no main manifest attribute</code> adopting above solutions. No one has mentioned changing the <code>path to manifest</code>. Thnx!!"},{"owner":{"account_id":1230248,"reputation":337,"user_id":1195001,"accept_rate":92,"display_name":"Kiwy"},"score":1,"creation_date":1550677976,"post_id":45303637,"comment_id":96358948,"body_markdown":"how about source code in scala ? java is not what I&#39;m using","body":"how about source code in scala ? java is not what I&#39;m using"},{"owner":{"account_id":5876898,"reputation":925,"user_id":4627471,"display_name":"Keeely"},"score":0,"creation_date":1600769989,"post_id":45303637,"comment_id":113185840,"body_markdown":"Instead of resources, you can also change the directory to the one above java, e.g.  `...\\src\\main\\java` -&gt; `...\\src\\main` and it works.  Jet Brains should really fix this default, it&#39;s still a problem in 2020.1.4.","body":"Instead of resources, you can also change the directory to the one above java, e.g.  <code>...\\src\\main\\java</code> -&gt; <code>...\\src\\main</code> and it works.  Jet Brains should really fix this default, it&#39;s still a problem in 2020.1.4."},{"owner":{"account_id":19366265,"reputation":1560,"user_id":14160477,"display_name":"Roy Cohen"},"score":0,"creation_date":1607809311,"post_id":45303637,"comment_id":115391346,"body_markdown":"@Keeely I think they fixed it. The default is now `...\\src\\main\\resourses` and if you don&#39;t have a manifest file there, a file will be created automatically.","body":"@Keeely I think they fixed it. The default is now <code>...\\src\\main\\resourses</code> and if you don&#39;t have a manifest file there, a file will be created automatically."},{"owner":{"account_id":3069453,"reputation":1390,"user_id":5257342,"accept_rate":89,"display_name":"Trajan"},"score":0,"creation_date":1617786728,"post_id":45303637,"comment_id":118401036,"body_markdown":"I am getting no main manifest attribute, but it is in there and I followed all the gradle steps perfectly?","body":"I am getting no main manifest attribute, but it is in there and I followed all the gradle steps perfectly?"},{"owner":{"account_id":16589430,"reputation":115,"user_id":11987955,"display_name":"hat"},"score":0,"creation_date":1638495730,"post_id":45303637,"comment_id":124110434,"body_markdown":"@RoyCohen No. It&#39;s still `\\src\\main\\java` , IDEA 2021.3","body":"@RoyCohen No. It&#39;s still <code>\\src\\main\\java</code> , IDEA 2021.3"},{"owner":{"account_id":2371690,"reputation":799,"user_id":2076174,"accept_rate":56,"display_name":"rakesh_parashar"},"score":0,"creation_date":1650284310,"post_id":45303637,"comment_id":127072316,"body_markdown":"how to add version numbers in generated jar file, if lets say I updated the code and build artifacts, then each time its generating same jar file without any version number, how this version can be appended to the generated jar file","body":"how to add version numbers in generated jar file, if lets say I updated the code and build artifacts, then each time its generating same jar file without any version number, how this version can be appended to the generated jar file"},{"owner":{"account_id":4051405,"reputation":156,"user_id":3647915,"accept_rate":40,"display_name":"ruxtain"},"score":0,"creation_date":1656409398,"post_id":45303637,"comment_id":128559298,"body_markdown":"What&#39;s the differences between these 2 methods?","body":"What&#39;s the differences between these 2 methods?"},{"owner":{"account_id":3121082,"reputation":3546,"user_id":2640826,"display_name":"Zsolt Tolvaly"},"score":0,"creation_date":1659003309,"post_id":45303637,"comment_id":129194466,"body_markdown":"The first method is configuring IntelliJ to build the artifact, the 2nd one is adding a build plugin to the pom file.","body":"The first method is configuring IntelliJ to build the artifact, the 2nd one is adding a build plugin to the pom file."},{"owner":{"account_id":14886556,"reputation":4394,"user_id":10749567,"display_name":"Ola Str&#246;m"},"score":0,"creation_date":1679581757,"post_id":45303637,"comment_id":133750027,"body_markdown":"Run it with `java -jar &quot;ServiceCreate.jar&quot;`","body":"Run it with <code>java -jar &quot;ServiceCreate.jar&quot;</code>"}],"tags":[],"owner":{"account_id":3121082,"reputation":3546,"user_id":2640826,"display_name":"Zsolt Tolvaly"},"comment_count":11,"down_vote_count":1,"up_vote_count":377,"is_accepted":false,"score":376,"last_activity_date":1537001123,"creation_date":1500986501,"answer_id":45303637,"question_id":1082580,"body_markdown":"This is still an issue in 2017, I hope it will help somebody out there!\r\nI found 2 possibilities to create working jar-s under IntelliJ 2017.2\r\n\r\n**1. Creating artifact from IntelliJ:**\r\n\r\n* Go to project structure:\r\n\r\n[![File menu][1]][1]\r\n\r\n* Create a new artifact:\r\n\r\n[![Create a new artifact][2]][2]\r\n\r\n* Select the main class, and be sure to change the manifest folder:\r\n\r\n[![enter image description here][3]][3]\r\n\r\nYou have to change manifest directory:\r\n\r\n    &lt;project folder&gt;\\src\\main\\java \r\n\r\nreplace &quot;java&quot; with &quot;resources&quot;\r\n\r\n    &lt;project folder&gt;\\src\\main\\resources\r\n\r\nThis is how it should look like:\r\n\r\n[![correct way for new manifest][4]][4]\r\n\r\n* Then you choose the dependencies what you want to be packed IN your jar, or NEAR your jar file\r\n\r\n* To build your artifact go to build artifacts and choose &quot;rebuild&quot;. It will create an &quot;out&quot; folder with your jar file and its dependencies.\r\n\r\n[![enter image description here][5]][5]\r\n\r\n **2. Using maven-assembly-plugin**\r\n\r\nAdd build section to the pom file\r\n\r\n        &lt;build&gt;\r\n            &lt;plugins&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;finalName&gt;ServiceCreate&lt;/finalName&gt;\r\n                        &lt;appendAssemblyId&gt;false&lt;/appendAssemblyId&gt;\r\n                        &lt;archive&gt;\r\n                            &lt;manifest&gt;\r\n                                &lt;mainClass&gt;com.svt.optimoo.App&lt;/mainClass&gt;\r\n                            &lt;/manifest&gt;\r\n                        &lt;/archive&gt;\r\n                        &lt;descriptorRefs&gt;\r\n                            &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\r\n                        &lt;/descriptorRefs&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;source&gt;1.8&lt;/source&gt;\r\n                        &lt;target&gt;1.8&lt;/target&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n        &lt;/build&gt;\r\n\r\n* Create a new run/debug configuration:\r\n\r\n[![Create a new run/debug configuration:][6]][6]\r\n\r\n* Choose application:\r\n\r\n[![Choose application][7]][7]\r\n\r\n* Fill in the form\r\n* Add the &quot;assembly:single&quot; maven goal after build to be executed last\r\n\r\n[![enter image description here][8]][8]\r\n\r\n[![Final setup][9]][9]\r\n\r\n* Save it, then run \r\n\r\n[![enter image description here][10]][10]\r\n\r\nThis procedure will create the jar file under the &quot;target&quot; folder\r\n\r\n[![JAR file location][11]][11]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/yHR9P.png\r\n  [2]: https://i.stack.imgur.com/wEbRv.png\r\n  [3]: https://i.stack.imgur.com/qvw7j.png\r\n  [4]: https://i.stack.imgur.com/SZvc6.png\r\n  [5]: https://i.stack.imgur.com/5B2Vo.png\r\n  [6]: https://i.stack.imgur.com/kxSjf.png\r\n  [7]: https://i.stack.imgur.com/UIQu2.png\r\n  [8]: https://i.stack.imgur.com/xkgpA.png\r\n  [9]: https://i.stack.imgur.com/t354C.png\r\n  [10]: https://i.stack.imgur.com/g6IsY.png\r\n  [11]: https://i.stack.imgur.com/irtgF.png","title":"How to build JARs from IntelliJ IDEA properly?","body":"<p>This is still an issue in 2017, I hope it will help somebody out there!\nI found 2 possibilities to create working jar-s under IntelliJ 2017.2</p>\n\n<p><strong>1. Creating artifact from IntelliJ:</strong></p>\n\n<ul>\n<li>Go to project structure:</li>\n</ul>\n\n<p><a href=\"https://i.stack.imgur.com/yHR9P.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/yHR9P.png\" alt=\"File menu\"></a></p>\n\n<ul>\n<li>Create a new artifact:</li>\n</ul>\n\n<p><a href=\"https://i.stack.imgur.com/wEbRv.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/wEbRv.png\" alt=\"Create a new artifact\"></a></p>\n\n<ul>\n<li>Select the main class, and be sure to change the manifest folder:</li>\n</ul>\n\n<p><a href=\"https://i.stack.imgur.com/qvw7j.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/qvw7j.png\" alt=\"enter image description here\"></a></p>\n\n<p>You have to change manifest directory:</p>\n\n<pre><code>&lt;project folder&gt;\\src\\main\\java \n</code></pre>\n\n<p>replace \"java\" with \"resources\"</p>\n\n<pre><code>&lt;project folder&gt;\\src\\main\\resources\n</code></pre>\n\n<p>This is how it should look like:</p>\n\n<p><a href=\"https://i.stack.imgur.com/SZvc6.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/SZvc6.png\" alt=\"correct way for new manifest\"></a></p>\n\n<ul>\n<li><p>Then you choose the dependencies what you want to be packed IN your jar, or NEAR your jar file</p></li>\n<li><p>To build your artifact go to build artifacts and choose \"rebuild\". It will create an \"out\" folder with your jar file and its dependencies.</p></li>\n</ul>\n\n<p><a href=\"https://i.stack.imgur.com/5B2Vo.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/5B2Vo.png\" alt=\"enter image description here\"></a></p>\n\n<p><strong>2. Using maven-assembly-plugin</strong></p>\n\n<p>Add build section to the pom file</p>\n\n<pre><code>    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;finalName&gt;ServiceCreate&lt;/finalName&gt;\n                    &lt;appendAssemblyId&gt;false&lt;/appendAssemblyId&gt;\n                    &lt;archive&gt;\n                        &lt;manifest&gt;\n                            &lt;mainClass&gt;com.svt.optimoo.App&lt;/mainClass&gt;\n                        &lt;/manifest&gt;\n                    &lt;/archive&gt;\n                    &lt;descriptorRefs&gt;\n                        &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\n                    &lt;/descriptorRefs&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;1.8&lt;/source&gt;\n                    &lt;target&gt;1.8&lt;/target&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n</code></pre>\n\n<ul>\n<li>Create a new run/debug configuration:</li>\n</ul>\n\n<p><a href=\"https://i.stack.imgur.com/kxSjf.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/kxSjf.png\" alt=\"Create a new run/debug configuration:\"></a></p>\n\n<ul>\n<li>Choose application:</li>\n</ul>\n\n<p><a href=\"https://i.stack.imgur.com/UIQu2.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/UIQu2.png\" alt=\"Choose application\"></a></p>\n\n<ul>\n<li>Fill in the form</li>\n<li>Add the \"assembly:single\" maven goal after build to be executed last</li>\n</ul>\n\n<p><a href=\"https://i.stack.imgur.com/xkgpA.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/xkgpA.png\" alt=\"enter image description here\"></a></p>\n\n<p><a href=\"https://i.stack.imgur.com/t354C.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/t354C.png\" alt=\"Final setup\"></a></p>\n\n<ul>\n<li>Save it, then run </li>\n</ul>\n\n<p><a href=\"https://i.stack.imgur.com/g6IsY.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/g6IsY.png\" alt=\"enter image description here\"></a></p>\n\n<p>This procedure will create the jar file under the \"target\" folder</p>\n\n<p><a href=\"https://i.stack.imgur.com/irtgF.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/irtgF.png\" alt=\"JAR file location\"></a></p>\n"},{"tags":[],"owner":{"account_id":404649,"reputation":57192,"user_id":773113,"accept_rate":72,"display_name":"Mike Nakis"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1522000399,"creation_date":1522000399,"answer_id":49479016,"question_id":1082580,"body_markdown":"Some of the other answers are useless because as soon as you re-import the IntelliJ IDEA project from the maven project, all changes will be lost.\r\n\r\nThe building of the jar needs to be triggered by a run/debug configuration, not by the project settings.\r\n\r\nJetbrains has a nice description of how you can accomplish this here:\r\n\r\nhttps://www.jetbrains.com/help/idea/maven.html\r\n\r\nScroll down to the section called &quot;Configuring triggers for Maven goals&quot;.\r\n\r\n(The only disadvantage of their description is that their screenshots are in the default black-on-white color scheme instead of the super-awesome darcula theme. Ugh!)\r\n\r\nSo, basically, what you do is that you open the &quot;Maven Projects&quot; panel, you find the project of interest, (in your case, the project that builds your jar,) underneath it you find the maven goal that you want to execute, (usually the &quot;package&quot; goal creates jars,) you open up the context menu on it, (right-click on a Windows machine,) and there will be an &quot;Execute before Run/Debug...&quot; option that you can select and it will take you by the hand from there.  Really easy.\r\n","title":"How to build JARs from IntelliJ IDEA properly?","body":"<p>Some of the other answers are useless because as soon as you re-import the IntelliJ IDEA project from the maven project, all changes will be lost.</p>\n\n<p>The building of the jar needs to be triggered by a run/debug configuration, not by the project settings.</p>\n\n<p>Jetbrains has a nice description of how you can accomplish this here:</p>\n\n<p><a href=\"https://www.jetbrains.com/help/idea/maven.html\" rel=\"nofollow noreferrer\">https://www.jetbrains.com/help/idea/maven.html</a></p>\n\n<p>Scroll down to the section called \"Configuring triggers for Maven goals\".</p>\n\n<p>(The only disadvantage of their description is that their screenshots are in the default black-on-white color scheme instead of the super-awesome darcula theme. Ugh!)</p>\n\n<p>So, basically, what you do is that you open the \"Maven Projects\" panel, you find the project of interest, (in your case, the project that builds your jar,) underneath it you find the maven goal that you want to execute, (usually the \"package\" goal creates jars,) you open up the context menu on it, (right-click on a Windows machine,) and there will be an \"Execute before Run/Debug...\" option that you can select and it will take you by the hand from there.  Really easy.</p>\n"},{"tags":[],"owner":{"account_id":5390962,"reputation":1008,"user_id":4293498,"accept_rate":50,"display_name":"Chris"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1530971861,"creation_date":1530971861,"answer_id":51223894,"question_id":1082580,"body_markdown":"In case you are trying to build a jar with kotlin you need to create a `src/main/java` folder and use this folder as a location for the META-INF folder.","title":"How to build JARs from IntelliJ IDEA properly?","body":"<p>In case you are trying to build a jar with kotlin you need to create a <code>src/main/java</code> folder and use this folder as a location for the META-INF folder.</p>\n"},{"tags":[],"owner":{"account_id":4114692,"reputation":432,"user_id":3376613,"accept_rate":56,"display_name":"Hans Pour"},"comment_count":0,"down_vote_count":3,"up_vote_count":1,"is_accepted":false,"score":-2,"last_activity_date":1540321047,"creation_date":1540321047,"answer_id":52956106,"question_id":1082580,"body_markdown":"If you are working on spring/mvn project you can use this command:\r\n\r\n    mvn package -DskipTests\r\n\r\nThe jar file will be saved on target directoy.\r\n\r\n","title":"How to build JARs from IntelliJ IDEA properly?","body":"<p>If you are working on spring/mvn project you can use this command:</p>\n\n<pre><code>mvn package -DskipTests\n</code></pre>\n\n<p>The jar file will be saved on target directoy.</p>\n"},{"tags":[],"owner":{"account_id":1450306,"reputation":2311,"user_id":1367450,"accept_rate":75,"display_name":"Sabri Meviş"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1546863974,"creation_date":1546863974,"answer_id":54074436,"question_id":1082580,"body_markdown":"Here is the official answer of **IntelliJ IDEA 2018.3 Help**. I tried and It worked.\r\n\r\n&gt; To build a JAR file from a module;\r\n&gt; \r\n&gt; 1. On the main menu, choose Build | Build Artifact.\r\n&gt; \r\n&gt; 2. From the drop-down list, select the desired artifact of the type JAR.\r\n&gt; *The list shows all the artifacts configured for the current project. To have all the configured artifacts built, choose the Build all\r\n&gt; artifacts option.*","title":"How to build JARs from IntelliJ IDEA properly?","body":"<p>Here is the official answer of <strong>IntelliJ IDEA 2018.3 Help</strong>. I tried and It worked.</p>\n\n<blockquote>\n  <p>To build a JAR file from a module;</p>\n  \n  <ol>\n  <li><p>On the main menu, choose Build | Build Artifact.</p></li>\n  <li><p>From the drop-down list, select the desired artifact of the type JAR.\n  <em>The list shows all the artifacts configured for the current project. To have all the configured artifacts built, choose the Build all\n  artifacts option.</em></p></li>\n  </ol>\n</blockquote>\n"},{"comments":[{"owner":{"account_id":1472916,"reputation":1703,"user_id":1384013,"accept_rate":50,"display_name":"Ubeogesh"},"score":0,"creation_date":1590068312,"post_id":54374557,"comment_id":109544213,"body_markdown":"this works. Can you explain why MANIFEST.MF needs to be in that directory?","body":"this works. Can you explain why MANIFEST.MF needs to be in that directory?"},{"owner":{"account_id":9527128,"reputation":837,"user_id":7080033,"display_name":"Devendra  Singraul"},"score":0,"creation_date":1591113222,"post_id":54374557,"comment_id":109929585,"body_markdown":"This helps for me","body":"This helps for me"},{"owner":{"account_id":11292130,"reputation":714,"user_id":9184507,"display_name":"Microbob"},"score":0,"creation_date":1593664206,"post_id":54374557,"comment_id":110860606,"body_markdown":"This is very helpful! The second option worked best for me. Just a quick update: IntelliJ opens an extra wizard to create the manifest file. This will allow you to create it and place it in the right location without having to write anything.","body":"This is very helpful! The second option worked best for me. Just a quick update: IntelliJ opens an extra wizard to create the manifest file. This will allow you to create it and place it in the right location without having to write anything."},{"owner":{"account_id":4766105,"reputation":328,"user_id":3852169,"accept_rate":50,"display_name":"ronit"},"score":0,"creation_date":1622139595,"post_id":54374557,"comment_id":119712759,"body_markdown":"Thats very helpfull","body":"Thats very helpfull"}],"tags":[],"owner":{"account_id":9043385,"reputation":379,"user_id":6736774,"display_name":"rrr"},"comment_count":4,"down_vote_count":0,"up_vote_count":36,"is_accepted":false,"score":36,"last_activity_date":1583439369,"creation_date":1548462504,"answer_id":54374557,"question_id":1082580,"body_markdown":"Here are 2 examples with maven project, step by step:\r\n\r\n# Method 1: Build jar with maven and pom.xml\r\n\r\n1. File, new, project, maven\r\n2. create a package , create a java program inside that package \r\n[![enter image description here][1]][1]\r\n3. at pom.xml, add maven-jar-plugin.\r\n\r\n            &lt;plugin&gt;\r\n                &lt;!-- Build an executable JAR --&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.1.0&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;archive&gt;\r\n                        &lt;manifest&gt;\r\n                            &lt;addClasspath&gt;true&lt;/addClasspath&gt;\r\n                            &lt;classpathPrefix&gt;lib/&lt;/classpathPrefix&gt;\r\n                            &lt;mainClass&gt;somePackage.sample&lt;/mainClass&gt;\r\n                        &lt;/manifest&gt;\r\n                    &lt;/archive&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n\r\nscreen capture:\r\n[![enter image description here][2]][2]\r\n4. open maven project box by click on the search icon and type maven, \r\n[![enter image description here][3]][3]\r\n\r\n5. click on clean, then click on install\r\n[![enter image description here][4]][4]\r\n\r\n6. your jar file will show up inside the target folder\r\n[![enter image description here][5]][5]\r\n\r\n7. test your jar using \r\n   java -jar &lt;your-jar-name&gt;\r\n\r\n[![enter image description here][6]][6]\r\n\r\n\r\n# Method 2: Build jar with maven without pom.xml change \r\n\r\n1. File, new, project, maven\r\n2. create a package , create a java program inside that package (same as above)\r\n3. &lt;kbd&gt;File&lt;/kbd&gt; -&gt; &lt;kbd&gt;Project Structure&lt;/kbd&gt; -&gt; &lt;kbd&gt;Project Settings&lt;/kbd&gt; -&gt; &lt;kbd&gt;Artifacts&lt;/kbd&gt; -&gt; Click &lt;kbd&gt;green plus sign&lt;/kbd&gt; -&gt; &lt;kbd&gt;Jar&lt;/kbd&gt; -&gt; &lt;kbd&gt;From modules with dependencies&lt;/kbd&gt;\r\n\r\n# Very important! \r\nThe MANIFEST.MF needs to be in your resources folder and the Main.Class needs to refer to {package}-{class-name-that-contains-main-class}\r\n\r\n\r\n[![enter image description here][7]][7]\r\n[![enter image description here][8]][8]\r\n\r\n4. then click build on menu , build artifacts, build\r\n\r\n[![enter image description here][9]][9]\r\n\r\n5. find the jar in the out folder\r\n\r\n[![enter image description here][10]][10]\r\n\r\n6. run it :)\r\n\r\n[![enter image description here][11]][11]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ayxGe.png\r\n  [2]: https://i.stack.imgur.com/Dhkhx.png\r\n  [3]: https://i.stack.imgur.com/jboPp.png\r\n  [4]: https://i.stack.imgur.com/oQOn4.png\r\n  [5]: https://i.stack.imgur.com/gocZ1.png\r\n  [6]: https://i.stack.imgur.com/S4cCh.png\r\n  [7]: https://i.stack.imgur.com/KU5Jo.png\r\n  [8]: https://i.stack.imgur.com/s2TSX.png\r\n  [9]: https://i.stack.imgur.com/z9hIK.png\r\n  [10]: https://i.stack.imgur.com/8Pbww.png\r\n  [11]: https://i.stack.imgur.com/Rl9aZ.png","title":"How to build JARs from IntelliJ IDEA properly?","body":"<p>Here are 2 examples with maven project, step by step:</p>\n\n<h1>Method 1: Build jar with maven and pom.xml</h1>\n\n<ol>\n<li>File, new, project, maven</li>\n<li>create a package , create a java program inside that package \n<a href=\"https://i.stack.imgur.com/ayxGe.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/ayxGe.png\" alt=\"enter image description here\"></a></li>\n<li><p>at pom.xml, add maven-jar-plugin.</p>\n\n<pre><code>    &lt;plugin&gt;\n        &lt;!-- Build an executable JAR --&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n        &lt;version&gt;3.1.0&lt;/version&gt;\n        &lt;configuration&gt;\n            &lt;archive&gt;\n                &lt;manifest&gt;\n                    &lt;addClasspath&gt;true&lt;/addClasspath&gt;\n                    &lt;classpathPrefix&gt;lib/&lt;/classpathPrefix&gt;\n                    &lt;mainClass&gt;somePackage.sample&lt;/mainClass&gt;\n                &lt;/manifest&gt;\n            &lt;/archive&gt;\n        &lt;/configuration&gt;\n    &lt;/plugin&gt;\n</code></pre></li>\n</ol>\n\n<p>screen capture:\n<a href=\"https://i.stack.imgur.com/Dhkhx.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/Dhkhx.png\" alt=\"enter image description here\"></a>\n4. open maven project box by click on the search icon and type maven, \n<a href=\"https://i.stack.imgur.com/jboPp.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/jboPp.png\" alt=\"enter image description here\"></a></p>\n\n<ol start=\"5\">\n<li><p>click on clean, then click on install\n<a href=\"https://i.stack.imgur.com/oQOn4.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/oQOn4.png\" alt=\"enter image description here\"></a></p></li>\n<li><p>your jar file will show up inside the target folder\n<a href=\"https://i.stack.imgur.com/gocZ1.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/gocZ1.png\" alt=\"enter image description here\"></a></p></li>\n<li><p>test your jar using \njava -jar </p></li>\n</ol>\n\n<p><a href=\"https://i.stack.imgur.com/S4cCh.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/S4cCh.png\" alt=\"enter image description here\"></a></p>\n\n<h1>Method 2: Build jar with maven without pom.xml change</h1>\n\n<ol>\n<li>File, new, project, maven</li>\n<li>create a package , create a java program inside that package (same as above)</li>\n<li><kbd>File</kbd> -> <kbd>Project Structure</kbd> -> <kbd>Project Settings</kbd> -> <kbd>Artifacts</kbd> -> Click <kbd>green plus sign</kbd> -> <kbd>Jar</kbd> -> <kbd>From modules with dependencies</kbd></li>\n</ol>\n\n<h1>Very important!</h1>\n\n<p>The MANIFEST.MF needs to be in your resources folder and the Main.Class needs to refer to {package}-{class-name-that-contains-main-class}</p>\n\n<p><a href=\"https://i.stack.imgur.com/KU5Jo.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/KU5Jo.png\" alt=\"enter image description here\"></a>\n<a href=\"https://i.stack.imgur.com/s2TSX.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/s2TSX.png\" alt=\"enter image description here\"></a></p>\n\n<ol start=\"4\">\n<li>then click build on menu , build artifacts, build</li>\n</ol>\n\n<p><a href=\"https://i.stack.imgur.com/z9hIK.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/z9hIK.png\" alt=\"enter image description here\"></a></p>\n\n<ol start=\"5\">\n<li>find the jar in the out folder</li>\n</ol>\n\n<p><a href=\"https://i.stack.imgur.com/8Pbww.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/8Pbww.png\" alt=\"enter image description here\"></a></p>\n\n<ol start=\"6\">\n<li>run it :)</li>\n</ol>\n\n<p><a href=\"https://i.stack.imgur.com/Rl9aZ.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/Rl9aZ.png\" alt=\"enter image description here\"></a></p>\n"},{"comments":[{"owner":{"account_id":3069453,"reputation":1390,"user_id":5257342,"accept_rate":89,"display_name":"Trajan"},"score":0,"creation_date":1617786800,"post_id":54781273,"comment_id":118401070,"body_markdown":"I already have this, but still have a problem","body":"I already have this, but still have a problem"}],"tags":[],"owner":{"account_id":8830027,"reputation":3332,"user_id":9422637,"display_name":"Saeed"},"comment_count":1,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1550648941,"creation_date":1550648941,"answer_id":54781273,"question_id":1082580,"body_markdown":"When i use [these solution][1] this error coming:\n\n    java -jar xxxxx.jar\n\n&gt; no main manifest attribute, in xxxxx.jar\n\n**and solution is**:\n\n  You have to change manifest directory:\n\n    &lt;project folder&gt;\\src\\main\\java \n\nchange java to resources\n\n    &lt;project folder&gt;\\src\\main\\resources\n\n\n  [1]: https://stackoverflow.com/a/4901370/9422637","title":"How to build JARs from IntelliJ IDEA properly?","body":"<p>When i use <a href=\"https://stackoverflow.com/a/4901370/9422637\">these solution</a> this error coming:</p>\n<pre><code>java -jar xxxxx.jar\n</code></pre>\n<blockquote>\n<p>no main manifest attribute, in xxxxx.jar</p>\n</blockquote>\n<p><strong>and solution is</strong>:</p>\n<p>You have to change manifest directory:</p>\n<pre><code>&lt;project folder&gt;\\src\\main\\java \n</code></pre>\n<p>change java to resources</p>\n<pre><code>&lt;project folder&gt;\\src\\main\\resources\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10850257,"reputation":671,"user_id":7978231,"accept_rate":90,"display_name":"Orkhan Hasanli"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1551740454,"creation_date":1551740454,"answer_id":54992931,"question_id":1082580,"body_markdown":"My problem was this: I used Intellij IDEA (tried different versions) + Gradle.\r\nWhen I compiled the project and builded artifacf jar, as indicated in the above responses, I received an error - &quot;no main manifest attrubute ...&quot;\r\n\r\nThis solution worked for me (special thanks to Thilina Ashen Gamage (see above) for tip):\r\n\r\nExcerpt - if you use external libraries and build a project through **Project Settings - Artifacts - Add (+) - Jar - From modules with dependencies**, then probably because of a program bug the META-INF folder with MANIFEST_MF file not including to jar. To avoid it create **EMPTY** jar file.\r\n\r\n**Project Settings - Artifacts - Add (+) - Jar - EMPTY JAR**. META-INF folder will added to **resources** folder. Then select your main class. You will see following jar structure:\r\n[![note the presence of a folder META-INF][1]][1]\r\nNote the presence of a folder META-INF\r\nThen you can build your project and build artifacts. This solution worked for javaFX applications too.\r\n\r\n  [1]: https://i.stack.imgur.com/1WsAn.png","title":"How to build JARs from IntelliJ IDEA properly?","body":"<p>My problem was this: I used Intellij IDEA (tried different versions) + Gradle.\nWhen I compiled the project and builded artifacf jar, as indicated in the above responses, I received an error - \"no main manifest attrubute ...\"</p>\n\n<p>This solution worked for me (special thanks to Thilina Ashen Gamage (see above) for tip):</p>\n\n<p>Excerpt - if you use external libraries and build a project through <strong>Project Settings - Artifacts - Add (+) - Jar - From modules with dependencies</strong>, then probably because of a program bug the META-INF folder with MANIFEST_MF file not including to jar. To avoid it create <strong>EMPTY</strong> jar file.</p>\n\n<p><strong>Project Settings - Artifacts - Add (+) - Jar - EMPTY JAR</strong>. META-INF folder will added to <strong>resources</strong> folder. Then select your main class. You will see following jar structure:\n<a href=\"https://i.stack.imgur.com/1WsAn.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/1WsAn.png\" alt=\"note the presence of a folder META-INF\"></a>\nNote the presence of a folder META-INF\nThen you can build your project and build artifacts. This solution worked for javaFX applications too.</p>\n"},{"comments":[{"owner":{"account_id":6674591,"reputation":111,"user_id":5149714,"display_name":"Shivam Mathur"},"score":0,"creation_date":1580196893,"post_id":55750611,"comment_id":106008257,"body_markdown":"Hi, Thanks it&#39;s working fine. But now I have a new error that it&#39;s not finding the resources &quot;java.desktop/javax.swing.ImageIcon java.lang.NullPointerException&quot;","body":"Hi, Thanks it&#39;s working fine. But now I have a new error that it&#39;s not finding the resources &quot;java.desktop/javax.swing.ImageIcon java.lang.NullPointerException&quot;"}],"tags":[],"owner":{"account_id":5750179,"reputation":2797,"user_id":4540114,"accept_rate":44,"display_name":"Tobias Uhmann"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1555606508,"creation_date":1555606508,"answer_id":55750611,"question_id":1082580,"body_markdown":"I was trying to build a jar from a **multi-module Kotlin** app and was getting the notorious &#39;no main manifest attribute&#39; error. Creating the manifest directory in `src/main/resources` didn&#39;t work either. \r\n\r\nInstead, it works when creating it in `src` directly: **`src/META-INF/MANIFEST.MF`**.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/USxbv.png","title":"How to build JARs from IntelliJ IDEA properly?","body":"<p>I was trying to build a jar from a <strong>multi-module Kotlin</strong> app and was getting the notorious 'no main manifest attribute' error. Creating the manifest directory in <code>src/main/resources</code> didn't work either. </p>\n\n<p>Instead, it works when creating it in <code>src</code> directly: <strong><code>src/META-INF/MANIFEST.MF</code></strong>.</p>\n\n<p><a href=\"https://i.stack.imgur.com/USxbv.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/USxbv.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":[],"owner":{"account_id":12224677,"reputation":2487,"user_id":8922718,"display_name":"Benchur Wong"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1559531962,"creation_date":1559531962,"answer_id":56420754,"question_id":1082580,"body_markdown":"[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/DwADi.png\r\n\r\nAs the people above says, but I have to note one point.\r\nYou have to check the checkbox: \r\n\r\n&gt; Include in project build\r\n","title":"How to build JARs from IntelliJ IDEA properly?","body":"<p><a href=\"https://i.stack.imgur.com/DwADi.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/DwADi.png\" alt=\"enter image description here\"></a></p>\n\n<p>As the people above says, but I have to note one point.\nYou have to check the checkbox: </p>\n\n<blockquote>\n  <p>Include in project build</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":8897744,"reputation":446,"user_id":6642154,"display_name":"Zhwt"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1595417635,"creation_date":1595417635,"answer_id":63033236,"question_id":1082580,"body_markdown":"In case you are reading this answer because you are facing &quot;resource file not found&quot; error, try this:\r\n\r\n 1. File -&gt; Project Structure -&gt; Artiface -&gt; New, type is **Other**.\r\n 2. Give it a nice name, and in the `Output Layout`, press `Create Archive` to create a new jar, and again, give it a nice name ;)\r\n 3. Click on the jar you just added, add your **compiled module output** in the jar.\r\n 4. Click on the jar again, in the lower pane, select your project path and add `Manifest File` then set correct `Main Class` and `Class Path`.\r\n 5. Click `Add Library Files`, and select libraries you need (you can use &lt;kbd&gt;Ctrl&lt;/kbd&gt;+&lt;kbd&gt;A&lt;/kbd&gt; to select all).\r\n 6. Build -&gt; Build Artifact -&gt; Clean &amp; Build and see if the error is gone.","title":"How to build JARs from IntelliJ IDEA properly?","body":"<p>In case you are reading this answer because you are facing &quot;resource file not found&quot; error, try this:</p>\n<ol>\n<li>File -&gt; Project Structure -&gt; Artiface -&gt; New, type is <strong>Other</strong>.</li>\n<li>Give it a nice name, and in the <code>Output Layout</code>, press <code>Create Archive</code> to create a new jar, and again, give it a nice name ;)</li>\n<li>Click on the jar you just added, add your <strong>compiled module output</strong> in the jar.</li>\n<li>Click on the jar again, in the lower pane, select your project path and add <code>Manifest File</code> then set correct <code>Main Class</code> and <code>Class Path</code>.</li>\n<li>Click <code>Add Library Files</code>, and select libraries you need (you can use <kbd>Ctrl</kbd>+<kbd>A</kbd> to select all).</li>\n<li>Build -&gt; Build Artifact -&gt; Clean &amp; Build and see if the error is gone.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":10149950,"reputation":163,"user_id":7496899,"display_name":"KeepAtIt"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1611826589,"creation_date":1611702851,"answer_id":65910644,"question_id":1082580,"body_markdown":"Use Gradle to build your project, then the jar is within the build file. Here is a Stack Overflow link on how to build .jar files with Gradle.\r\n\r\nhttps://stackoverflow.com/questions/37100082/java-project-with-gradle-and-building-jar-file-in-intellij-idea-how-to","title":"How to build JARs from IntelliJ IDEA properly?","body":"<p>Use Gradle to build your project, then the jar is within the build file. Here is a Stack Overflow link on how to build .jar files with Gradle.</p>\n<p><a href=\"https://stackoverflow.com/questions/37100082/java-project-with-gradle-and-building-jar-file-in-intellij-idea-how-to\">Java project with Gradle and building jar file in Intellij IDEA - how to?</a></p>\n"},{"tags":[],"owner":{"account_id":11459099,"reputation":69,"user_id":8399261,"display_name":"bhavya"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1616666673,"creation_date":1616666673,"answer_id":66797132,"question_id":1082580,"body_markdown":"Using\r\n\r\n    mvn clean package spring-boot:repackage\r\n\r\ntype above command inside IntelliJ Terminal. It generates a Target file with Executable Jar.","title":"How to build JARs from IntelliJ IDEA properly?","body":"<p>Using</p>\n<pre><code>mvn clean package spring-boot:repackage\n</code></pre>\n<p>type above command inside IntelliJ Terminal. It generates a Target file with Executable Jar.</p>\n"},{"tags":[],"owner":{"account_id":10120468,"reputation":355,"user_id":8777941,"display_name":"Anmol Jain"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647422645,"creation_date":1647422645,"answer_id":71494484,"question_id":1082580,"body_markdown":"I tried most of the given answers, but in my case &quot;out&quot; folder (which contains jar file) was not getting created. So this did the job : \r\n\r\nBuild -&gt; Build Artifacts -&gt; (you will see the class name) -&gt; Build\r\n\r\nNow, &quot;out&quot; folder was created and jar file was in it.","title":"How to build JARs from IntelliJ IDEA properly?","body":"<p>I tried most of the given answers, but in my case &quot;out&quot; folder (which contains jar file) was not getting created. So this did the job :</p>\n<p>Build -&gt; Build Artifacts -&gt; (you will see the class name) -&gt; Build</p>\n<p>Now, &quot;out&quot; folder was created and jar file was in it.</p>\n"},{"tags":[],"owner":{"account_id":25545997,"reputation":73,"user_id":19331305,"display_name":"stefano"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688240968,"creation_date":1688240968,"answer_id":76596335,"question_id":1082580,"body_markdown":"**If you&#39;re using the new beta IntelliJ UI, the above solutions will require modification.**\r\n\r\nCurrently, in the new beta IntelliJ UI, there is a bug where if you click on the &quot;build&quot; button in the build artifacts menu, nothing will happen.\r\n\r\n*However, if you use arrow keys to navigate to the &quot;build&quot; button, and then press &quot;enter&quot; on your keyboard, it will work.*\r\n\r\nor you can do the following:\r\n\r\n&gt; You have to shift+shift type [Build Artifacts...] &gt; then use arrow keys to navigate build artifact floating menu and hit enter.\r\n\r\nBug tracker: https://youtrack.jetbrains.com/issue/IDEA-316889/Build-artifacts-inactive-if-hamburger-menu-is-on\r\n\r\nHopefully this saves someone from the hour of pain I experienced trying to get my JAR file to be built.","title":"How to build JARs from IntelliJ IDEA properly?","body":"<p><strong>If you're using the new beta IntelliJ UI, the above solutions will require modification.</strong></p>\n<p>Currently, in the new beta IntelliJ UI, there is a bug where if you click on the &quot;build&quot; button in the build artifacts menu, nothing will happen.</p>\n<p><em>However, if you use arrow keys to navigate to the &quot;build&quot; button, and then press &quot;enter&quot; on your keyboard, it will work.</em></p>\n<p>or you can do the following:</p>\n<blockquote>\n<p>You have to shift+shift type [Build Artifacts...] &gt; then use arrow keys to navigate build artifact floating menu and hit enter.</p>\n</blockquote>\n<p>Bug tracker: <a href=\"https://youtrack.jetbrains.com/issue/IDEA-316889/Build-artifacts-inactive-if-hamburger-menu-is-on\" rel=\"nofollow noreferrer\">https://youtrack.jetbrains.com/issue/IDEA-316889/Build-artifacts-inactive-if-hamburger-menu-is-on</a></p>\n<p>Hopefully this saves someone from the hour of pain I experienced trying to get my JAR file to be built.</p>\n"}],"owner":{"account_id":6636,"reputation":224532,"user_id":11236,"accept_rate":76,"display_name":"ripper234"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":875503,"favorite_count":0,"down_vote_count":1,"up_vote_count":658,"accepted_answer_id":4901370,"answer_count":24,"score":657,"last_activity_date":1688240968,"creation_date":1246727135,"question_id":1082580,"body_markdown":"I have a project that contains a single module, and some dependencies.\r\nI&#39;d like to create a JAR, in a separate directory, that contains the compiled module. In addition, I would like to have the dependencies present beside my module.\r\n\r\nNo matter how I twist IntelliJ&#39;s &quot;build JAR&quot; process, the output of my module appears empty (besides a `META-INF` file).","title":"How to build JARs from IntelliJ IDEA properly?","body":"<p>I have a project that contains a single module, and some dependencies.\nI'd like to create a JAR, in a separate directory, that contains the compiled module. In addition, I would like to have the dependencies present beside my module.</p>\n<p>No matter how I twist IntelliJ's &quot;build JAR&quot; process, the output of my module appears empty (besides a <code>META-INF</code> file).</p>\n"},{"tags":["java","scala","apache-spark","lombok","apache-spark-dataset"],"comments":[{"owner":{"account_id":7034556,"reputation":12335,"user_id":5389127,"display_name":"Ga&#235;l J"},"score":0,"creation_date":1688240377,"post_id":76595635,"comment_id":135048517,"body_markdown":"I doubt Lombok and Spark will work nicely together without effort. Is there any reason not to collect as a list of `Record` and map it to `JavaItem` afterwards?","body":"I doubt Lombok and Spark will work nicely together without effort. Is there any reason not to collect as a list of <code>Record</code> and map it to <code>JavaItem</code> afterwards?"},{"owner":{"account_id":2441365,"reputation":13988,"user_id":2129801,"display_name":"werner"},"score":0,"creation_date":1688241067,"post_id":76595635,"comment_id":135048585,"body_markdown":"@Ga&#235;lJ I&#39;ve been using Spark and Lombok for quite some time and didn&#39;t have any issues (as long as all required annotations are present)","body":"@Ga&#235;lJ I&#39;ve been using Spark and Lombok for quite some time and didn&#39;t have any issues (as long as all required annotations are present)"},{"owner":{"account_id":7034556,"reputation":12335,"user_id":5389127,"display_name":"Ga&#235;l J"},"score":0,"creation_date":1688282046,"post_id":76595635,"comment_id":135051228,"body_markdown":"Good to know @werner","body":"Good to know @werner"}],"answers":[{"comments":[{"owner":{"account_id":8434177,"reputation":317,"user_id":6328823,"display_name":"AznBoyStride"},"score":0,"creation_date":1688244876,"post_id":76596309,"comment_id":135048947,"body_markdown":"Thanks. You are correct. In my actual Java POJO that I&#39;m using, there is a nested structure. Every POJO in the structure needs the NoArgsConstructor and AllArgsConstructor. (Just an FYI for others that reads this solution)","body":"Thanks. You are correct. In my actual Java POJO that I&#39;m using, there is a nested structure. Every POJO in the structure needs the NoArgsConstructor and AllArgsConstructor. (Just an FYI for others that reads this solution)"}],"tags":[],"owner":{"account_id":2441365,"reputation":13988,"user_id":2129801,"display_name":"werner"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1688240473,"creation_date":1688240473,"answer_id":76596309,"question_id":76595635,"body_markdown":"You need a no-args constructor on the Java pojo. Spark occasionally constructs the objects first and then later calls the setters for the single data fields. That&#39;s why you need a constructur `public JavaItem(){}`.\r\n\r\nThe following Lombok annotations work:\r\n```lang-java\r\n@Data\r\n@Builder\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\npublic class JavaItem {\r\n    private String name;\r\n}\r\n```\r\nThe all-args constructor is required as - according to [this answer](https://stackoverflow.com/a/51122663/2129801)- the builder only adds an all-args constructur if no other constructor is present..","title":"In Scala, how to map a spark Dataset into a list of POJOs?","body":"<p>You need a no-args constructor on the Java pojo. Spark occasionally constructs the objects first and then later calls the setters for the single data fields. That's why you need a constructur <code>public JavaItem(){}</code>.</p>\n<p>The following Lombok annotations work:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Data\n@Builder\n@NoArgsConstructor\n@AllArgsConstructor\npublic class JavaItem {\n    private String name;\n}\n</code></pre>\n<p>The all-args constructor is required as - according to <a href=\"https://stackoverflow.com/a/51122663/2129801\">this answer</a>- the builder only adds an all-args constructur if no other constructor is present..</p>\n"}],"owner":{"account_id":8434177,"reputation":317,"user_id":6328823,"display_name":"AznBoyStride"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":76596309,"answer_count":1,"score":2,"last_activity_date":1688240473,"creation_date":1688229432,"question_id":76595635,"body_markdown":"I have a POJO defined in Java\r\n```\r\n@Data\r\n@Builder\r\npublic class JavaItem {\r\n    private String name;\r\n\r\n}\r\n```\r\n\r\nI have the code in Scala\r\n```\r\ncase class Record(name: String)\r\n\r\ndef asJavaItem(record: Record): JavaItem = {\r\n    JavaItem.builder().build()\r\n}\r\n\r\ndef recordDatasetToListJavaItem(record: Dataset[Record]): java.util.List[JavaItem] = {\r\n    implicit val encoder: Encoder[JavaItem] = Encoders.bean(classOf[JavaItem])\r\n    record.map(asJavaItem).collectAsList() // this fails\r\n}\r\n\r\nval recordDataset = Seq(Record(&quot;name&quot;)).toDS()\r\n\r\nrecordDatasetToListJavaItem(recordDataset)\r\n```\r\n\r\nI&#39;m getting this error message:\r\n```\r\norg.codehaus.commons.compiler.CompileException: File &#39;generated.java&#39;, Line 24, Column 11: failed to compile: org.codehaus.commons.compiler.CompileException: File &#39;generated.java&#39;, Line 24, Column 11: No applicable constructor/method found for zero actual parameters; candidates are: &quot;JavaItem(java.lang.String)&quot;\r\n```\r\n\r\nWhy am I getting this error? I suspect this is a problem with encoders. How do I correctly map the `Dataset[Record]` to a list of `JavaItem` ?","title":"In Scala, how to map a spark Dataset into a list of POJOs?","body":"<p>I have a POJO defined in Java</p>\n<pre><code>@Data\n@Builder\npublic class JavaItem {\n    private String name;\n\n}\n</code></pre>\n<p>I have the code in Scala</p>\n<pre><code>case class Record(name: String)\n\ndef asJavaItem(record: Record): JavaItem = {\n    JavaItem.builder().build()\n}\n\ndef recordDatasetToListJavaItem(record: Dataset[Record]): java.util.List[JavaItem] = {\n    implicit val encoder: Encoder[JavaItem] = Encoders.bean(classOf[JavaItem])\n    record.map(asJavaItem).collectAsList() // this fails\n}\n\nval recordDataset = Seq(Record(&quot;name&quot;)).toDS()\n\nrecordDatasetToListJavaItem(recordDataset)\n</code></pre>\n<p>I'm getting this error message:</p>\n<pre><code>org.codehaus.commons.compiler.CompileException: File 'generated.java', Line 24, Column 11: failed to compile: org.codehaus.commons.compiler.CompileException: File 'generated.java', Line 24, Column 11: No applicable constructor/method found for zero actual parameters; candidates are: &quot;JavaItem(java.lang.String)&quot;\n</code></pre>\n<p>Why am I getting this error? I suspect this is a problem with encoders. How do I correctly map the <code>Dataset[Record]</code> to a list of <code>JavaItem</code> ?</p>\n"},{"tags":["java","spring","spring-boot","grpc-java"],"answers":[{"comments":[{"owner":{"account_id":15843725,"reputation":121,"user_id":11431537,"display_name":"Wumba"},"score":0,"creation_date":1688022833,"post_id":76567282,"comment_id":135018551,"body_markdown":"https://github.com/yidongnan/grpc-spring-boot-starter and https://github.com/LogNet/grpc-spring-boot-starter appear to be different libraries.\nI cannot desist from using lognet/grpc-spring-boot-starter since its already deep down in my code. \n\nThe missing update to springboot 3 is an issue of both libraries.","body":"<a href=\"https://github.com/yidongnan/grpc-spring-boot-starter\" rel=\"nofollow noreferrer\">github.com/yidongnan/grpc-spring-boot-starter</a> and <a href=\"https://github.com/LogNet/grpc-spring-boot-starter\" rel=\"nofollow noreferrer\">github.com/LogNet/grpc-spring-boot-starter</a> appear to be different libraries. I cannot desist from using lognet/grpc-spring-boot-starter since its already deep down in my code.   The missing update to springboot 3 is an issue of both libraries."}],"tags":[],"owner":{"account_id":308139,"reputation":8199,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687896570,"creation_date":1687886571,"answer_id":76567282,"question_id":76562672,"body_markdown":"As far as I could see from https://github.com/yidongnan/grpc-spring-boot-starter, this lib is stuck to Spring Boot `2.x` and Spring Security `5.x`.\r\n\r\nOther point noticeable from the code you point is that it is adapted to a small subset of possible configuration for Spring OAuth2 resource servers: exactly one single JWT decoder, when it is perfectly legit to have several JWT decoders in multi-tenant scenarios or no JWT decoder at all for resource servers configured with token introspection (the access token is validated by the authorization server which returns associated claims).\r\n\r\nIn short, I&#39;d avoid this lib... You could have a look at `@FeignClient` for a declarative REST client better integrated with Spring (and kept up to date).","title":"AuthenticationManager missing when using spring.security with grpc-spring-boot-starter","body":"<p>As far as I could see from <a href=\"https://github.com/yidongnan/grpc-spring-boot-starter\" rel=\"nofollow noreferrer\">https://github.com/yidongnan/grpc-spring-boot-starter</a>, this lib is stuck to Spring Boot <code>2.x</code> and Spring Security <code>5.x</code>.</p>\n<p>Other point noticeable from the code you point is that it is adapted to a small subset of possible configuration for Spring OAuth2 resource servers: exactly one single JWT decoder, when it is perfectly legit to have several JWT decoders in multi-tenant scenarios or no JWT decoder at all for resource servers configured with token introspection (the access token is validated by the authorization server which returns associated claims).</p>\n<p>In short, I'd avoid this lib... You could have a look at <code>@FeignClient</code> for a declarative REST client better integrated with Spring (and kept up to date).</p>\n"},{"tags":[],"owner":{"account_id":15843725,"reputation":121,"user_id":11431537,"display_name":"Wumba"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1688054878,"creation_date":1688054878,"answer_id":76582815,"question_id":76562672,"body_markdown":"Solution:\r\n\r\nPut `grpc.security.auth.enabled = false` in application.properties/yaml.\r\n\r\nReason: \r\n\r\nThe [docs][1] say: \r\n\r\n&gt; Autoconfigures and runs the embedded gRPC server with @GRpcService-enabled beans as part of spring-boot application (short video)\r\n\r\n&gt; GRPC security configuration follows the same principals and APIs as Spring WEB security configuration, it’s enabled by default if you have org.springframework.security:spring-security-config dependency in your classpath.\r\n\r\n&gt; By setting grpc.security.auth.enabled to false, GRPC security can be turned-off.\r\n\r\nI didn&#39;t understand it a couple days ago, but as soon as `security:spring-security-config` exists in your class path, `grpc-spring-boot-starter` will attempt to build an `GrpcSecurityConfigurerAdapter`.\r\n\r\nThe flow is as follows: \r\n\r\n* `JwtDecoder` \r\n* needed in\r\n* `GrpcSecurityConfigurerAdapter` \r\n* is configured in \r\n* `GrpcSecurityConfiguration`\r\n* imported in \r\n* `EnableGrpcSecurity`-Annotation\r\n* used in \r\n* `GrpcSecurityEnablerConfiguration`\r\n* Imported in\r\n* `SecurityAutoConfiguration`\r\n* which is conditional on class\r\n* `AuthenticationConfiguration`\r\n* which is proudly autoconfigured and build by \r\n* `spring-security-config`\r\n\r\nJust the use of `spring-security-config` (as the docs state, which I was too dumb to understand) triggers the gRPC authentication feature.\r\n\r\n  [1]: https://github.com/LogNet/grpc-spring-boot-starter#spring-security-integration","title":"AuthenticationManager missing when using spring.security with grpc-spring-boot-starter","body":"<p>Solution:</p>\n<p>Put <code>grpc.security.auth.enabled = false</code> in application.properties/yaml.</p>\n<p>Reason:</p>\n<p>The <a href=\"https://github.com/LogNet/grpc-spring-boot-starter#spring-security-integration\" rel=\"nofollow noreferrer\">docs</a> say:</p>\n<blockquote>\n<p>Autoconfigures and runs the embedded gRPC server with @GRpcService-enabled beans as part of spring-boot application (short video)</p>\n</blockquote>\n<blockquote>\n<p>GRPC security configuration follows the same principals and APIs as Spring WEB security configuration, it’s enabled by default if you have org.springframework.security:spring-security-config dependency in your classpath.</p>\n</blockquote>\n<blockquote>\n<p>By setting grpc.security.auth.enabled to false, GRPC security can be turned-off.</p>\n</blockquote>\n<p>I didn't understand it a couple days ago, but as soon as <code>security:spring-security-config</code> exists in your class path, <code>grpc-spring-boot-starter</code> will attempt to build an <code>GrpcSecurityConfigurerAdapter</code>.</p>\n<p>The flow is as follows:</p>\n<ul>\n<li><code>JwtDecoder</code></li>\n<li>needed in</li>\n<li><code>GrpcSecurityConfigurerAdapter</code></li>\n<li>is configured in</li>\n<li><code>GrpcSecurityConfiguration</code></li>\n<li>imported in</li>\n<li><code>EnableGrpcSecurity</code>-Annotation</li>\n<li>used in</li>\n<li><code>GrpcSecurityEnablerConfiguration</code></li>\n<li>Imported in</li>\n<li><code>SecurityAutoConfiguration</code></li>\n<li>which is conditional on class</li>\n<li><code>AuthenticationConfiguration</code></li>\n<li>which is proudly autoconfigured and build by</li>\n<li><code>spring-security-config</code></li>\n</ul>\n<p>Just the use of <code>spring-security-config</code> (as the docs state, which I was too dumb to understand) triggers the gRPC authentication feature.</p>\n"},{"tags":[],"owner":{"account_id":121967,"reputation":1817,"user_id":315454,"accept_rate":48,"display_name":"Alexander.Furer"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1688238464,"creation_date":1688238464,"answer_id":76596199,"question_id":76562672,"body_markdown":"For those who interested here  is the [link to discussion][1] .\r\n\r\n* I&#39;m the  author of `LogNet/grpc-spring-boot-starter`\r\n\r\n\r\n  [1]: https://github.com/LogNet/grpc-spring-boot-starter/pull/363#issuecomment-1616053369","title":"AuthenticationManager missing when using spring.security with grpc-spring-boot-starter","body":"<p>For those who interested here  is the <a href=\"https://github.com/LogNet/grpc-spring-boot-starter/pull/363#issuecomment-1616053369\" rel=\"nofollow noreferrer\">link to discussion</a> .</p>\n<ul>\n<li>I'm the  author of <code>LogNet/grpc-spring-boot-starter</code></li>\n</ul>\n"}],"owner":{"account_id":15843725,"reputation":121,"user_id":11431537,"display_name":"Wumba"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":399,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76582815,"answer_count":3,"score":0,"last_activity_date":1688238464,"creation_date":1687852010,"question_id":76562672,"body_markdown":"I am using OpenApi to generate java client code using a spring webclient. \r\nThis offers an MergedApi class .\r\n```java\r\n@Bean\r\npublic MergedApi mergedApi(final ApiClient apiClient) {\r\n  return new MergedApi(apiClient);\r\n}\r\n```\r\n\r\nTo add my token to the ApiClient, I need to use following dependencies: \r\n\r\n```xml\r\n   &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n            &lt;version&gt;${spring-boot-starter-security.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n```\r\nUnfortunately needed because spring boot does not offer all the necessary classes to shove my token down MergedApi&#39;s throat \r\n```xml\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-security-oauth2-client&lt;/artifactId&gt;\r\n            &lt;version&gt;${spring-security-oauth2-client.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n```\r\nNeeded for enabling spring boot to make calls to REST-Endpoints\r\n```xml\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-oauth2-client&lt;/artifactId&gt;\r\n            &lt;version&gt;&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n```\r\n\r\nNeeded for grpc.\r\n```xml\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;io.github.lognet&lt;/groupId&gt;\r\n                &lt;artifactId&gt;grpc-spring-boot-starter&lt;/artifactId&gt;\r\n                &lt;version&gt;${spring-boot-grpc-starter.version}&lt;/version&gt;\r\n                &lt;scope&gt;compile&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n```\r\n\r\nWhen I start the application I get the message: \r\n``` \r\nError creating bean with name &#39;springGrpcSecurityInterceptor&#39; defined in class path resource [org/lognet/springboot/grpc/security/GrpcSecurityConfiguration.class]: Invocation of init method failed; nested exception is java.lang.IllegalArgumentException: An AuthenticationManager is required\r\n```\r\n\r\nOn my debugging journey to hell and back, I stumbled across this beauty in `org.lognet.springboot.grpc.security.GrpcSecurityConfigurerAdapter`: \r\n```java \r\n  @Override\r\n  public void configure(GrpcSecurity builder) throws Exception {\r\n    try {\r\n      final Class&lt;?&gt; jwtDecoderClass =\r\n          Class.forName(&quot;org.springframework.security.oauth2.jwt.JwtDecoder&quot;);\r\n      final String[] beanNames = context.getBeanNamesForType(jwtDecoderClass);\r\n      if (1 == beanNames.length) {\r\n        builder.authenticationProvider(\r\n            JwtAuthProviderFactory.forAuthorities(context.getBean(beanNames[0], JwtDecoder.class)));\r\n      }\r\n    } catch (ClassNotFoundException e) {\r\n    }\r\n    // swallow\r\n    builder.authorizeRequests().withSecuredAnnotation();\r\n  }\r\n```\r\nSo apparently when no JwtDecoder-Bean exists, the whole Application crashed and thankfully this error is thrown somewhere completely else since this catch block is empty.\r\nI added manually the JwtDecoder and the necessary dependency for it: \r\n\r\n```java\r\n    @Bean\r\n    public JwtDecoder decoder() {\r\n        return token -&gt; Jwt.withTokenValue(token).build();\r\n    }\r\n```\r\n```xml\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-oauth2-resource-server&lt;/artifactId&gt;\r\n            &lt;version&gt;${spring-boot-starter-security.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n```\r\n\r\nIs there a depdendency which I am missing? Why does this problem occur? Why do I need a JwtDecoder here (apart from being mandatory in the code)? \r\nIs there any good tutorial on how to use java client code generated by OpenApi?","title":"AuthenticationManager missing when using spring.security with grpc-spring-boot-starter","body":"<p>I am using OpenApi to generate java client code using a spring webclient.\nThis offers an MergedApi class .</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Bean\npublic MergedApi mergedApi(final ApiClient apiClient) {\n  return new MergedApi(apiClient);\n}\n</code></pre>\n<p>To add my token to the ApiClient, I need to use following dependencies:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>   &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n            &lt;version&gt;${spring-boot-starter-security.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>Unfortunately needed because spring boot does not offer all the necessary classes to shove my token down MergedApi's throat</p>\n<pre class=\"lang-xml prettyprint-override\"><code>        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-oauth2-client&lt;/artifactId&gt;\n            &lt;version&gt;${spring-security-oauth2-client.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>Needed for enabling spring boot to make calls to REST-Endpoints</p>\n<pre class=\"lang-xml prettyprint-override\"><code>        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-oauth2-client&lt;/artifactId&gt;\n            &lt;version&gt;&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>Needed for grpc.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>            &lt;dependency&gt;\n                &lt;groupId&gt;io.github.lognet&lt;/groupId&gt;\n                &lt;artifactId&gt;grpc-spring-boot-starter&lt;/artifactId&gt;\n                &lt;version&gt;${spring-boot-grpc-starter.version}&lt;/version&gt;\n                &lt;scope&gt;compile&lt;/scope&gt;\n            &lt;/dependency&gt;\n</code></pre>\n<p>When I start the application I get the message:</p>\n<pre><code>Error creating bean with name 'springGrpcSecurityInterceptor' defined in class path resource [org/lognet/springboot/grpc/security/GrpcSecurityConfiguration.class]: Invocation of init method failed; nested exception is java.lang.IllegalArgumentException: An AuthenticationManager is required\n</code></pre>\n<p>On my debugging journey to hell and back, I stumbled across this beauty in <code>org.lognet.springboot.grpc.security.GrpcSecurityConfigurerAdapter</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>  @Override\n  public void configure(GrpcSecurity builder) throws Exception {\n    try {\n      final Class&lt;?&gt; jwtDecoderClass =\n          Class.forName(&quot;org.springframework.security.oauth2.jwt.JwtDecoder&quot;);\n      final String[] beanNames = context.getBeanNamesForType(jwtDecoderClass);\n      if (1 == beanNames.length) {\n        builder.authenticationProvider(\n            JwtAuthProviderFactory.forAuthorities(context.getBean(beanNames[0], JwtDecoder.class)));\n      }\n    } catch (ClassNotFoundException e) {\n    }\n    // swallow\n    builder.authorizeRequests().withSecuredAnnotation();\n  }\n</code></pre>\n<p>So apparently when no JwtDecoder-Bean exists, the whole Application crashed and thankfully this error is thrown somewhere completely else since this catch block is empty.\nI added manually the JwtDecoder and the necessary dependency for it:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Bean\n    public JwtDecoder decoder() {\n        return token -&gt; Jwt.withTokenValue(token).build();\n    }\n</code></pre>\n<pre class=\"lang-xml prettyprint-override\"><code>        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-oauth2-resource-server&lt;/artifactId&gt;\n            &lt;version&gt;${spring-boot-starter-security.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>Is there a depdendency which I am missing? Why does this problem occur? Why do I need a JwtDecoder here (apart from being mandatory in the code)?\nIs there any good tutorial on how to use java client code generated by OpenApi?</p>\n"},{"tags":["java","android","android-studio"],"comments":[{"owner":{"account_id":5131367,"reputation":10939,"user_id":4111447,"accept_rate":59,"display_name":"Tomer Shemesh"},"score":0,"creation_date":1464887710,"post_id":37598165,"comment_id":62681414,"body_markdown":"you said the drawable id is changing? how is that possible, if the drawable is called mypic the res id is R.drawable.mypic, how could it change","body":"you said the drawable id is changing? how is that possible, if the drawable is called mypic the res id is R.drawable.mypic, how could it change"},{"owner":{"account_id":5131367,"reputation":10939,"user_id":4111447,"accept_rate":59,"display_name":"Tomer Shemesh"},"score":1,"creation_date":1464887809,"post_id":37598165,"comment_id":62681473,"body_markdown":"for images i would upload them to getExternalFilesDir(Environment.DIRECTORY_PICTURES)","body":"for images i would upload them to getExternalFilesDir(Environment.DIRECTORY_PICTURES)"},{"owner":{"account_id":284897,"reputation":3561,"user_id":583271,"accept_rate":78,"display_name":"Sharon"},"score":0,"creation_date":1464888068,"post_id":37598165,"comment_id":62681629,"body_markdown":"I&#39;m not sure, Timer - i was storing the id (integer), if that makes a difference?","body":"I&#39;m not sure, Timer - i was storing the id (integer), if that makes a difference?"},{"owner":{"account_id":284897,"reputation":3561,"user_id":583271,"accept_rate":78,"display_name":"Sharon"},"score":0,"creation_date":1464888104,"post_id":37598165,"comment_id":62681658,"body_markdown":"Sorry, Tomer (autocorrect changed your name)","body":"Sorry, Tomer (autocorrect changed your name)"},{"owner":{"account_id":5131367,"reputation":10939,"user_id":4111447,"accept_rate":59,"display_name":"Tomer Shemesh"},"score":1,"creation_date":1464888632,"post_id":37598165,"comment_id":62681943,"body_markdown":"Ah yea you cant do that, just storing the int of the id wont work because that changes anytime the resources are changed, you should store the name of the drawable like this http://stackoverflow.com/questions/6677804/android-drawable-id-change-after-resources-modify","body":"Ah yea you cant do that, just storing the int of the id wont work because that changes anytime the resources are changed, you should store the name of the drawable like this <a href=\"http://stackoverflow.com/questions/6677804/android-drawable-id-change-after-resources-modify\" title=\"android drawable id change after resources modify\">stackoverflow.com/questions/6677804/&hellip;</a>"},{"owner":{"account_id":974021,"reputation":63348,"user_id":995891,"accept_rate":83,"display_name":"zapl"},"score":1,"creation_date":1464888661,"post_id":37598165,"comment_id":62681960,"body_markdown":"you could use assets instead of drawables, those have a &quot;path&quot;, or you store drawables by name: http://stackoverflow.com/questions/16369814/how-to-access-the-drawable-resources-by-name-in-android the rest sounds good. I wouldn&#39;t restrict to size in pixels but dp so you don&#39;t enforce tiny icons on high res displays. Or resize whatever the user supplies.","body":"you could use assets instead of drawables, those have a &quot;path&quot;, or you store drawables by name: <a href=\"http://stackoverflow.com/questions/16369814/how-to-access-the-drawable-resources-by-name-in-android\" title=\"how to access the drawable resources by name in android\">stackoverflow.com/questions/16369814/&hellip;</a> the rest sounds good. I wouldn&#39;t restrict to size in pixels but dp so you don&#39;t enforce tiny icons on high res displays. Or resize whatever the user supplies."},{"owner":{"account_id":284897,"reputation":3561,"user_id":583271,"accept_rate":78,"display_name":"Sharon"},"score":0,"creation_date":1464888739,"post_id":37598165,"comment_id":62681994,"body_markdown":"Thank you! Hadn&#39;t thought about dp rather than pixels, so that&#39;s a good point.","body":"Thank you! Hadn&#39;t thought about dp rather than pixels, so that&#39;s a good point."}],"answers":[{"comments":[{"owner":{"account_id":284897,"reputation":3561,"user_id":583271,"accept_rate":78,"display_name":"Sharon"},"score":0,"creation_date":1464888656,"post_id":37598432,"comment_id":62681956,"body_markdown":"Thank you, that&#39;s really helpful. I&#39;ll read up on it all tomorrow. I&#39;m thinking of putting the defaults into the database just so that they&#39;d be stored in the same way as the user-added ones and can be used in the same way.","body":"Thank you, that&#39;s really helpful. I&#39;ll read up on it all tomorrow. I&#39;m thinking of putting the defaults into the database just so that they&#39;d be stored in the same way as the user-added ones and can be used in the same way."}],"tags":[],"owner":{"account_id":3147269,"reputation":10469,"user_id":3075340,"accept_rate":70,"display_name":"Micro"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1464888352,"creation_date":1464888352,"answer_id":37598432,"question_id":37598165,"body_markdown":"Read about internal and external storage in Android here: https://developer.android.com/guide/topics/data/data-storage.html\r\n\r\nThe only difference is that in internal storage the images/data is not accessible by users if they say, plug their phone into their computer and try to view the files. In external storage all items are public.\r\n\r\nFor some sample code on how to have users save images in your app take a look at this SO post: https://stackoverflow.com/questions/17674634/saving-and-reading-bitmaps-images-from-internal-memory-in-android/35827955#35827955\r\n\r\nYou can then just store the filenames of the icons in shared preferences (if you don&#39;t anticipate that many icons and your model is simple) or SQLite if your model is more complex. Since you sound like a beginner I would recommend start with shared preferences?\r\n\r\nAs for the default icons you store with your app, yes you can put them in the drawables folder (with different sizes for different screens if you are doing that thing), but since you already know the names of those drawable resources can&#39;t you just display whatever one you want with Java when you need to? I am not sure what the reason would be to store those in a database but then again I have no idea what you are building.\r\n\r\nHope this helps.","title":"How do I allow users to upload images to my app, and use them?","body":"<p>Read about internal and external storage in Android here: <a href=\"https://developer.android.com/guide/topics/data/data-storage.html\" rel=\"nofollow noreferrer\">https://developer.android.com/guide/topics/data/data-storage.html</a></p>\n\n<p>The only difference is that in internal storage the images/data is not accessible by users if they say, plug their phone into their computer and try to view the files. In external storage all items are public.</p>\n\n<p>For some sample code on how to have users save images in your app take a look at this SO post: <a href=\"https://stackoverflow.com/questions/17674634/saving-and-reading-bitmaps-images-from-internal-memory-in-android/35827955#35827955\">Saving and Reading Bitmaps/Images from Internal memory in Android</a></p>\n\n<p>You can then just store the filenames of the icons in shared preferences (if you don't anticipate that many icons and your model is simple) or SQLite if your model is more complex. Since you sound like a beginner I would recommend start with shared preferences?</p>\n\n<p>As for the default icons you store with your app, yes you can put them in the drawables folder (with different sizes for different screens if you are doing that thing), but since you already know the names of those drawable resources can't you just display whatever one you want with Java when you need to? I am not sure what the reason would be to store those in a database but then again I have no idea what you are building.</p>\n\n<p>Hope this helps.</p>\n"}],"owner":{"account_id":284897,"reputation":3561,"user_id":583271,"accept_rate":78,"display_name":"Sharon"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5349,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":37598432,"answer_count":1,"score":0,"last_activity_date":1688237980,"creation_date":1464887521,"question_id":37598165,"body_markdown":"I&#39;m building an app which will allow the user to upload their own icons for use within the app (these will be small .png or .gif files).  I want to include a default set of icons, and then allow the user to add their own.\r\n\r\nI&#39;m trying to figure out the best way to do this - there seem to be various solutions online and I&#39;m not sure which is best for my purposes.  As I said, I&#39;d like to supply a default set of icons with the app, to be stored on the user&#39;s device. The user should then be able to add more icons, which should also be stored on the device (at some point later on the user can choose to upload the icons to a central server so that other people can use them too).\r\n\r\nCurrently I&#39;ve tried adding the default .png files manually to Android Studio&#39;s &#39;drawable&#39; folder, and then storing the resource id in the database.  The resource id seems to keep changing, though, so the wrong icon is being loaded most of the time.  So, instead I believe I need to store the name/path of the .png file in the database.  Would that be correct?  If so, is there a standard file path that leads to the &#39;drawable&#39; folder?\r\n\r\nAnd what about the user uploading icons? Should I just save these to a particular directory, and then store the path in the database?  Or is there a better way to handle this?\r\n\r\nWhat kinds of things should I be considering?  The icons should be 64x64 max, or thereabouts (I haven&#39;t totally decided yet, but they won&#39;t be much bigger than that - we&#39;re not talking about 1000x1000 or anything). In theory the user can add as many as they want, but in practice I imagine most will use the default set, and a few will add up to 20-30 icons of their own.\r\n","title":"How do I allow users to upload images to my app, and use them?","body":"<p>I'm building an app which will allow the user to upload their own icons for use within the app (these will be small .png or .gif files).  I want to include a default set of icons, and then allow the user to add their own.</p>\n<p>I'm trying to figure out the best way to do this - there seem to be various solutions online and I'm not sure which is best for my purposes.  As I said, I'd like to supply a default set of icons with the app, to be stored on the user's device. The user should then be able to add more icons, which should also be stored on the device (at some point later on the user can choose to upload the icons to a central server so that other people can use them too).</p>\n<p>Currently I've tried adding the default .png files manually to Android Studio's 'drawable' folder, and then storing the resource id in the database.  The resource id seems to keep changing, though, so the wrong icon is being loaded most of the time.  So, instead I believe I need to store the name/path of the .png file in the database.  Would that be correct?  If so, is there a standard file path that leads to the 'drawable' folder?</p>\n<p>And what about the user uploading icons? Should I just save these to a particular directory, and then store the path in the database?  Or is there a better way to handle this?</p>\n<p>What kinds of things should I be considering?  The icons should be 64x64 max, or thereabouts (I haven't totally decided yet, but they won't be much bigger than that - we're not talking about 1000x1000 or anything). In theory the user can add as many as they want, but in practice I imagine most will use the default set, and a few will add up to 20-30 icons of their own.</p>\n"},{"tags":["java","ssl","dropwizard"],"answers":[{"comments":[{"owner":{"account_id":222700,"reputation":2095,"user_id":481479,"accept_rate":60,"display_name":"Jyoti"},"score":0,"creation_date":1687184463,"post_id":76506882,"comment_id":134897540,"body_markdown":"Thanks for the response. I will ask the External API team to share the certificate and try to add in my AWS&#39; JDK.  Meanwhile, Is there any other way to fix it?","body":"Thanks for the response. I will ask the External API team to share the certificate and try to add in my AWS&#39; JDK.  Meanwhile, Is there any other way to fix it?"},{"owner":{"account_id":12419314,"reputation":535,"user_id":11968199,"display_name":"Maksym Kosenko"},"score":0,"creation_date":1687185759,"post_id":76506882,"comment_id":134897865,"body_markdown":"I would try to [download](https://stackoverflow.com/questions/25940396/how-to-export-certificate-from-chrome-on-a-mac) their certificate in the browser.","body":"I would try to <a href=\"https://stackoverflow.com/questions/25940396/how-to-export-certificate-from-chrome-on-a-mac\">download</a> their certificate in the browser."}],"tags":[],"owner":{"account_id":12419314,"reputation":535,"user_id":11968199,"display_name":"Maksym Kosenko"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687179496,"creation_date":1687179496,"answer_id":76506882,"question_id":76506590,"body_markdown":"I believe SSL validation disabling is not a proper way in case of a real web application using https protocol. So you have to [add][1] the target&#39;s certificate to AWS&#39;s JDK cacerts to establish a proper connection.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/11617210/how-to-properly-import-a-selfsigned-certificate-into-java-keystore-that-is-avail","title":"SSL peer shut down incorrectly Error | Java Backend Application","body":"<p>I believe SSL validation disabling is not a proper way in case of a real web application using https protocol. So you have to <a href=\"https://stackoverflow.com/questions/11617210/how-to-properly-import-a-selfsigned-certificate-into-java-keystore-that-is-avail\">add</a> the target's certificate to AWS's JDK cacerts to establish a proper connection.</p>\n"},{"tags":[],"owner":{"account_id":222700,"reputation":2095,"user_id":481479,"accept_rate":60,"display_name":"Jyoti"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687319700,"creation_date":1687319700,"answer_id":76519844,"question_id":76506590,"body_markdown":"I have figured out the issue. \r\nActually, the AWS server on which I deployed was blocked for calling external URL. Our network team resolved the issue. \r\n\r\nThanks,\r\nJyoti","title":"SSL peer shut down incorrectly Error | Java Backend Application","body":"<p>I have figured out the issue.\nActually, the AWS server on which I deployed was blocked for calling external URL. Our network team resolved the issue.</p>\n<p>Thanks,\nJyoti</p>\n"}],"owner":{"account_id":222700,"reputation":2095,"user_id":481479,"accept_rate":60,"display_name":"Jyoti"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":295,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1688237090,"creation_date":1687177345,"question_id":76506590,"body_markdown":"I am working on Java dropwizard backend applicaton. I need to call an external API (https://example.com) from my Java backend API. \r\nI am successfully able to call the external API from my local machine: http://localhost:8080/\r\n\r\nBut when I have deployed my application on AWS server https://deployed.application.example\r\n\r\nI am getting below error from deployed app when calling external API from there.\r\nBelow are the error logs.\r\n\r\n\r\n\r\n    ! java.io.EOFException: SSL peer shut down incorrectly\r\n    ! at java.base/sun.security.ssl.SSLSocketInputRecord.read(Unknown Source)\r\n    ! at java.base/sun.security.ssl.SSLSocketInputRecord.readHeader(Unknown Source)\r\n    ! at java.base/sun.security.ssl.SSLSocketInputRecord.decode(Unknown Source)\r\n    ! at java.base/sun.security.ssl.SSLTransport.decode(Unknown Source)\r\n    ! ... 95 common frames omitted\r\n    ! Causing: javax.net.ssl.SSLHandshakeException: Remote host terminated the handshake\r\n    ! at java.base/sun.security.ssl.SSLSocketImpl.handleEOF(Unknown Source)\r\n    ! at java.base/sun.security.ssl.SSLSocketImpl.decode(Unknown Source)\r\n    ! at java.base/sun.security.ssl.SSLSocketImpl.readHandshakeRecord(Unknown Source)\r\n    ! at java.base/sun.security.ssl.SSLSocketImpl.startHandshake(Unknown Source)\r\n    ! at java.base/sun.security.ssl.SSLSocketImpl.startHandshake(Unknown Source)\r\n    ! at java.base/sun.net.www.protocol.https.HttpsClient.afterConnect(Unknown Source)\r\n    ! at java.base/sun.net.www.protocol.https.AbstractDelegateHttpsURLConnection.connect(Unknown Source)\r\n    ! at java.base/sun.net.www.protocol.http.HttpURLConnection.getInputStream0(Unknown Source)\r\n    ! at java.base/sun.net.www.protocol.http.HttpURLConnection.getInputStream(Unknown Source)\r\n    ! at java.base/java.net.HttpURLConnection.getResponseCode(Unknown Source)\r\n    ! at java.base/sun.net.www.protocol.https.HttpsURLConnectionImpl.getResponseCode(Unknown Source)\r\n    ! at org.glassfish.jersey.client.internal.HttpUrlConnector.handleException(HttpUrlConnector.java:549)\r\n    ! at org.glassfish.jersey.client.internal.HttpUrlConnector._apply(HttpUrlConnector.java:375)\r\n    ! at org.glassfish.jersey.client.internal.HttpUrlConnector.apply(HttpUrlConnector.java:267)\r\n    ! ... 82 common frames omitted\r\n    ! Causing: javax.ws.rs.ProcessingException: javax.net.ssl.SSLHandshakeException: Remote host terminated the handshake\r\n    ! at org.glassfish.jersey.client.internal.HttpUrlConnector.apply(HttpUrlConnector.java:269)\r\n    ! at org.glassfish.jersey.client.ClientRuntime.invoke(ClientRuntime.java:297)\r\n    ! at org.glassfish.jersey.client.JerseyInvocation.lambda$invoke$0(JerseyInvocation.java:662)\r\n    ! at org.glassfish.jersey.client.JerseyInvocation.call(JerseyInvocation.java:697)\r\n\r\nBelow is the code snippet for calling the external API. I tried disabling the hostname verification but this is also not working.\r\n\r\n    ClientBuilder clientBuilder = ClientBuilder.newBuilder();\r\n    clientBuilder.hostnameVerifier((hostname, session) -&gt; true); // Disable hostname verification\r\n    SSLContext sslContext;\r\n    try {\r\n        sslContext = SSLContext.getInstance(&quot;TLS&quot;);\r\n        sslContext.init(null, null, null); // Use null parameters to disable SSL verification\r\n    } catch (KeyManagementException | NoSuchAlgorithmException e) {\r\n        throw new RuntimeException(e);\r\n    }\r\n    clientBuilder.sslContext(sslContext);\r\n    Client client = clientBuilder.build();\r\n    \r\n    // Prepare the API request\r\n    String apiUrl = API_URL + &quot;/auth&quot;;\r\n    String httpMethod = &quot;POST&quot;;\r\n    String requestBody = &quot;{ \\&quot;username\\&quot;: \\”username\\”,  \\&quot;password\\&quot;: \\”password\\” }&quot;;\r\n    MediaType requestMediaType = MediaType.APPLICATION_JSON_TYPE;\r\n    MediaType responseMediaType = MediaType.APPLICATION_JSON_TYPE;\r\n    \r\n    // Build the API request\r\n    javax.ws.rs.client.Invocation.Builder requestBuilder = client.target(apiUrl)\r\n            .request(responseMediaType)\r\n            .header(&quot;Accept&quot;, &quot;application/json&quot;)\r\n            .header(&quot;Content-Type&quot;, &quot;application/json&quot;);// Add custom headers\r\n    \r\n    // Set the HTTP method and request payload (if applicable)\r\n    Response response;\r\n    if (&quot;POST&quot;.equalsIgnoreCase(httpMethod) || &quot;PUT&quot;.equalsIgnoreCase(httpMethod)) {\r\n        response = requestBuilder.method(httpMethod, Entity.entity(requestBody, requestMediaType));\r\n    } else {\r\n        response = requestBuilder.method(httpMethod);\r\n    }\r\n    \r\n    // Handle the API response\r\n    int statusCode = response.getStatus();\r\n    String responseBody = response.readEntity(String.class);\r\n    \r\n    // Clean up the resources\r\n    response.close();\r\n    client.close();\r\n    \r\n    // Process the API response\r\n    if (statusCode == Response.Status.OK.getStatusCode()) {\r\n        // Success! Handle the successful response\r\n    } else {\r\n        // Handle the error response\r\n        System.err.println(&quot;API call failed with status code: &quot; + statusCode);\r\n        System.err.println(&quot;Response: &quot; + responseBody);\r\n    }\r\n    \r\n\r\n\r\n","title":"SSL peer shut down incorrectly Error | Java Backend Application","body":"<p>I am working on Java dropwizard backend applicaton. I need to call an external API (<a href=\"https://example.com\" rel=\"nofollow noreferrer\">https://example.com</a>) from my Java backend API.\nI am successfully able to call the external API from my local machine: http://localhost:8080/</p>\n<p>But when I have deployed my application on AWS server <a href=\"https://deployed.application.example\" rel=\"nofollow noreferrer\">https://deployed.application.example</a></p>\n<p>I am getting below error from deployed app when calling external API from there.\nBelow are the error logs.</p>\n<pre><code>! java.io.EOFException: SSL peer shut down incorrectly\n! at java.base/sun.security.ssl.SSLSocketInputRecord.read(Unknown Source)\n! at java.base/sun.security.ssl.SSLSocketInputRecord.readHeader(Unknown Source)\n! at java.base/sun.security.ssl.SSLSocketInputRecord.decode(Unknown Source)\n! at java.base/sun.security.ssl.SSLTransport.decode(Unknown Source)\n! ... 95 common frames omitted\n! Causing: javax.net.ssl.SSLHandshakeException: Remote host terminated the handshake\n! at java.base/sun.security.ssl.SSLSocketImpl.handleEOF(Unknown Source)\n! at java.base/sun.security.ssl.SSLSocketImpl.decode(Unknown Source)\n! at java.base/sun.security.ssl.SSLSocketImpl.readHandshakeRecord(Unknown Source)\n! at java.base/sun.security.ssl.SSLSocketImpl.startHandshake(Unknown Source)\n! at java.base/sun.security.ssl.SSLSocketImpl.startHandshake(Unknown Source)\n! at java.base/sun.net.www.protocol.https.HttpsClient.afterConnect(Unknown Source)\n! at java.base/sun.net.www.protocol.https.AbstractDelegateHttpsURLConnection.connect(Unknown Source)\n! at java.base/sun.net.www.protocol.http.HttpURLConnection.getInputStream0(Unknown Source)\n! at java.base/sun.net.www.protocol.http.HttpURLConnection.getInputStream(Unknown Source)\n! at java.base/java.net.HttpURLConnection.getResponseCode(Unknown Source)\n! at java.base/sun.net.www.protocol.https.HttpsURLConnectionImpl.getResponseCode(Unknown Source)\n! at org.glassfish.jersey.client.internal.HttpUrlConnector.handleException(HttpUrlConnector.java:549)\n! at org.glassfish.jersey.client.internal.HttpUrlConnector._apply(HttpUrlConnector.java:375)\n! at org.glassfish.jersey.client.internal.HttpUrlConnector.apply(HttpUrlConnector.java:267)\n! ... 82 common frames omitted\n! Causing: javax.ws.rs.ProcessingException: javax.net.ssl.SSLHandshakeException: Remote host terminated the handshake\n! at org.glassfish.jersey.client.internal.HttpUrlConnector.apply(HttpUrlConnector.java:269)\n! at org.glassfish.jersey.client.ClientRuntime.invoke(ClientRuntime.java:297)\n! at org.glassfish.jersey.client.JerseyInvocation.lambda$invoke$0(JerseyInvocation.java:662)\n! at org.glassfish.jersey.client.JerseyInvocation.call(JerseyInvocation.java:697)\n</code></pre>\n<p>Below is the code snippet for calling the external API. I tried disabling the hostname verification but this is also not working.</p>\n<pre><code>ClientBuilder clientBuilder = ClientBuilder.newBuilder();\nclientBuilder.hostnameVerifier((hostname, session) -&gt; true); // Disable hostname verification\nSSLContext sslContext;\ntry {\n    sslContext = SSLContext.getInstance(&quot;TLS&quot;);\n    sslContext.init(null, null, null); // Use null parameters to disable SSL verification\n} catch (KeyManagementException | NoSuchAlgorithmException e) {\n    throw new RuntimeException(e);\n}\nclientBuilder.sslContext(sslContext);\nClient client = clientBuilder.build();\n\n// Prepare the API request\nString apiUrl = API_URL + &quot;/auth&quot;;\nString httpMethod = &quot;POST&quot;;\nString requestBody = &quot;{ \\&quot;username\\&quot;: \\”username\\”,  \\&quot;password\\&quot;: \\”password\\” }&quot;;\nMediaType requestMediaType = MediaType.APPLICATION_JSON_TYPE;\nMediaType responseMediaType = MediaType.APPLICATION_JSON_TYPE;\n\n// Build the API request\njavax.ws.rs.client.Invocation.Builder requestBuilder = client.target(apiUrl)\n        .request(responseMediaType)\n        .header(&quot;Accept&quot;, &quot;application/json&quot;)\n        .header(&quot;Content-Type&quot;, &quot;application/json&quot;);// Add custom headers\n\n// Set the HTTP method and request payload (if applicable)\nResponse response;\nif (&quot;POST&quot;.equalsIgnoreCase(httpMethod) || &quot;PUT&quot;.equalsIgnoreCase(httpMethod)) {\n    response = requestBuilder.method(httpMethod, Entity.entity(requestBody, requestMediaType));\n} else {\n    response = requestBuilder.method(httpMethod);\n}\n\n// Handle the API response\nint statusCode = response.getStatus();\nString responseBody = response.readEntity(String.class);\n\n// Clean up the resources\nresponse.close();\nclient.close();\n\n// Process the API response\nif (statusCode == Response.Status.OK.getStatusCode()) {\n    // Success! Handle the successful response\n} else {\n    // Handle the error response\n    System.err.println(&quot;API call failed with status code: &quot; + statusCode);\n    System.err.println(&quot;Response: &quot; + responseBody);\n}\n</code></pre>\n"},{"tags":["java","swing","transform"],"answers":[{"tags":[],"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1688236055,"creation_date":1400036313,"answer_id":23644913,"question_id":23644698,"body_markdown":"Because a `Rectangle2D` is a `Shape`, you may be looking for the `AffineTransform` method [`createTransformedShape()`][1]. A complete example is examined [here][2], and another is cited [here][3].\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/awt/geom/AffineTransform.html#createTransformedShape-java.awt.Shape-\r\n  [2]: https://stackoverflow.com/a/5594424/230513\r\n  [3]: https://stackoverflow.com/a/5111336/230513","title":"transforming Rectangle2D java","body":"<p>Because a <code>Rectangle2D</code> is a <code>Shape</code>, you may be looking for the <code>AffineTransform</code> method <a href=\"https://docs.oracle.com/javase/8/docs/api/java/awt/geom/AffineTransform.html#createTransformedShape-java.awt.Shape-\" rel=\"nofollow noreferrer\"><code>createTransformedShape()</code></a>. A complete example is examined <a href=\"https://stackoverflow.com/a/5594424/230513\">here</a>, and another is cited <a href=\"https://stackoverflow.com/a/5111336/230513\">here</a>.</p>\n"}],"owner":{"account_id":3613658,"reputation":389,"user_id":3014093,"accept_rate":20,"display_name":"user3014093"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2391,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1688236055,"creation_date":1400034611,"question_id":23644698,"body_markdown":"I am trying to rotate a Rectangle2D object by a particular theta. But I cannot do this because the method transform(AffineTransform) is undefined for Rectangle2D. Any thoughts on how to do this? Thanks.\r\n\r\n    Rectangle2D.Double currentVehic = new Rectangle2D.Double(bottomLeft[0], bottomLeft[1],vehicWidth, vehicHeight);\r\n\t\t// Rotate the vehicle perimeter about its center\r\n\t\tAffineTransform rotate = new AffineTransform();\r\n\t\t//Rectangle2D rotatedVehic = AffineTransform.getRotateInstance(theta,x,y);\r\n\t\trotate.setToRotation(theta, x, y);\r\n\t\tcurrentVehic.transform(rotate);\r\n\r\n\t\treturn currentVehic;","title":"transforming Rectangle2D java","body":"<p>I am trying to rotate a Rectangle2D object by a particular theta. But I cannot do this because the method transform(AffineTransform) is undefined for Rectangle2D. Any thoughts on how to do this? Thanks.</p>\n\n<pre><code>Rectangle2D.Double currentVehic = new Rectangle2D.Double(bottomLeft[0], bottomLeft[1],vehicWidth, vehicHeight);\n    // Rotate the vehicle perimeter about its center\n    AffineTransform rotate = new AffineTransform();\n    //Rectangle2D rotatedVehic = AffineTransform.getRotateInstance(theta,x,y);\n    rotate.setToRotation(theta, x, y);\n    currentVehic.transform(rotate);\n\n    return currentVehic;\n</code></pre>\n"},{"tags":["java","grails","jvm"],"comments":[{"owner":{"account_id":1217449,"reputation":4099,"user_id":1184752,"accept_rate":43,"display_name":"Juraj Martinka"},"score":0,"creation_date":1592279121,"post_id":62386842,"comment_id":110360994,"body_markdown":"How much RAM you have available? What operating system do you use? Which JDK have you installed?","body":"How much RAM you have available? What operating system do you use? Which JDK have you installed?"}],"answers":[{"comments":[{"owner":{"account_id":9456070,"reputation":119,"user_id":7031339,"display_name":"Ishmeet Singh"},"score":0,"creation_date":1592220926,"post_id":62387068,"comment_id":110337787,"body_markdown":"i have jdk installed amd-64 does it includes jvm ?","body":"i have jdk installed amd-64 does it includes jvm ?"},{"owner":{"account_id":17861275,"reputation":2089,"user_id":12974735,"display_name":"Sercan"},"score":0,"creation_date":1592225593,"post_id":62387068,"comment_id":110340271,"body_markdown":"please run &quot;java -version&quot; in command line to see whether jvm 32 or 64. And yes jdk contains everything that is in the jre, because jdk is superset of jre","body":"please run &quot;java -version&quot; in command line to see whether jvm 32 or 64. And yes jdk contains everything that is in the jre, because jdk is superset of jre"},{"owner":{"account_id":9456070,"reputation":119,"user_id":7031339,"display_name":"Ishmeet Singh"},"score":0,"creation_date":1592287829,"post_id":62387068,"comment_id":110363346,"body_markdown":"I have ubuntu installed it is not showing whether jdk is 32 bit or 64 bit. Please help.","body":"I have ubuntu installed it is not showing whether jdk is 32 bit or 64 bit. Please help."},{"owner":{"account_id":17861275,"reputation":2089,"user_id":12974735,"display_name":"Sercan"},"score":0,"creation_date":1592294308,"post_id":62387068,"comment_id":110366073,"body_markdown":"Please tell me what you see on the third line when you open your terminal and run the following command: `java -version`. you should be seeing OpenJDK 32 or 64 -Bit","body":"Please tell me what you see on the third line when you open your terminal and run the following command: <code>java -version</code>. you should be seeing OpenJDK 32 or 64 -Bit"},{"owner":{"account_id":9456070,"reputation":119,"user_id":7031339,"display_name":"Ishmeet Singh"},"score":0,"creation_date":1592294930,"post_id":62387068,"comment_id":110366398,"body_markdown":"```Java HotSpot(TM) Server VM (build 25.25-b02, mixed mode)```\nThis is written in 3 line.","body":"<code>Java HotSpot(TM) Server VM (build 25.25-b02, mixed mode)</code> This is written in 3 line."},{"owner":{"account_id":17861275,"reputation":2089,"user_id":12974735,"display_name":"Sercan"},"score":0,"creation_date":1592295844,"post_id":62387068,"comment_id":110366837,"body_markdown":"You have 32 Bits Oracle","body":"You have 32 Bits Oracle"},{"owner":{"account_id":3064076,"reputation":1748,"user_id":2693236,"accept_rate":65,"display_name":"Martavis P."},"score":0,"creation_date":1612400456,"post_id":62387068,"comment_id":116758423,"body_markdown":"This is most likely the issue because clicking the big red button on https://java.com/en/download/ automatically downloads the 32-bit. That was my issue. The 64-bit installation lives here: https://java.com/en/download/manual.jsp.","body":"This is most likely the issue because clicking the big red button on <a href=\"https://java.com/en/download/\" rel=\"nofollow noreferrer\">java.com/en/download</a> automatically downloads the 32-bit. That was my issue. The 64-bit installation lives here: <a href=\"https://java.com/en/download/manual.jsp\" rel=\"nofollow noreferrer\">java.com/en/download/manual.jsp</a>."}],"tags":[],"owner":{"account_id":17861275,"reputation":2089,"user_id":12974735,"display_name":"Sercan"},"comment_count":7,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1688235840,"creation_date":1592219814,"answer_id":62387068,"question_id":62386842,"body_markdown":"If your JVM is 32bit, then heap size should be lower than 4gb. Either you can install 64bit JVM, or set the maximum heapspace to 2GB with `-Xmx2048M`. I had similar problem and this worked for me, hope this helps you as well.","title":"Invalid maximum heap size?","body":"<p>If your JVM is 32bit, then heap size should be lower than 4gb. Either you can install 64bit JVM, or set the maximum heapspace to 2GB with <code>-Xmx2048M</code>. I had similar problem and this worked for me, hope this helps you as well.</p>\n"}],"owner":{"account_id":9456070,"reputation":119,"user_id":7031339,"display_name":"Ishmeet Singh"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":33712,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":1,"score":4,"last_activity_date":1688235840,"creation_date":1592218905,"question_id":62386842,"body_markdown":"I am running an grails application for my project in IntelliJ and I have set the vm options to : \r\n\r\n    -Dserver.port=8080 -Xms3g -Xmx3g -XX:-UseGCOverheadLimit -Xverify:none\r\n\r\nThe logs are :\r\n \r\n&gt; Running Grails application \r\n&gt;\r\n&gt; Invalid maximum heap size: -Xmx4096M\r\n&gt;\r\n&gt; The specified size exceeds the maximum representable size.\r\n&gt; \r\n&gt; Error: Could not create the Java Virtual Machine.\r\n&gt; \r\n&gt; Error: A fatal exception has occurred. Program will exit.\r\n&gt; \r\n&gt; Error | Forked Grails VM exited with error\r\n\r\nPlease help me with that ?  ","title":"Invalid maximum heap size?","body":"<p>I am running an grails application for my project in IntelliJ and I have set the vm options to : </p>\n\n<pre><code>-Dserver.port=8080 -Xms3g -Xmx3g -XX:-UseGCOverheadLimit -Xverify:none\n</code></pre>\n\n<p>The logs are :</p>\n\n<blockquote>\n  <p>Running Grails application </p>\n  \n  <p>Invalid maximum heap size: -Xmx4096M</p>\n  \n  <p>The specified size exceeds the maximum representable size.</p>\n  \n  <p>Error: Could not create the Java Virtual Machine.</p>\n  \n  <p>Error: A fatal exception has occurred. Program will exit.</p>\n  \n  <p>Error | Forked Grails VM exited with error</p>\n</blockquote>\n\n<p>Please help me with that ?  </p>\n"},{"tags":["java","cryptography","digital-signature","bouncycastle"],"comments":[{"owner":{"account_id":4784636,"reputation":506,"user_id":3865495,"accept_rate":71,"display_name":"CoconutBandit"},"score":1,"creation_date":1477405079,"post_id":40242391,"comment_id":67746905,"body_markdown":"A signature is typically defined by encrypting the hash of a message with the user&#39;s private key. If, for whatever reason, you dont want the hash portion, you could use your standard encryption algorithm but pass the private key instead of the public key. Although, keep in mind that this does not preserve the confidentiality or integrity of a message. That method only provides non-repudiation.","body":"A signature is typically defined by encrypting the hash of a message with the user&#39;s private key. If, for whatever reason, you dont want the hash portion, you could use your standard encryption algorithm but pass the private key instead of the public key. Although, keep in mind that this does not preserve the confidentiality or integrity of a message. That method only provides non-repudiation."},{"owner":{"account_id":85671,"reputation":40858,"user_id":238704,"display_name":"President James K. Polk"},"score":0,"creation_date":1477440889,"post_id":40242391,"comment_id":67765753,"body_markdown":"What you want is called &#39;signature with recovery&#39;. See the [SignerWithRecovery](https://www.bouncycastle.org/docs/docs1.5on/org/bouncycastle/crypto/SignerWithRecovery.html) interface and implementing classes.","body":"What you want is called &#39;signature with recovery&#39;. See the <a href=\"https://www.bouncycastle.org/docs/docs1.5on/org/bouncycastle/crypto/SignerWithRecovery.html\" rel=\"nofollow noreferrer\">SignerWithRecovery</a> interface and implementing classes."},{"owner":{"account_id":3421244,"reputation":35883,"user_id":2868801,"display_name":"dave_thompson_085"},"score":2,"creation_date":1477449005,"post_id":40242391,"comment_id":67767646,"body_markdown":"Note hashing and padding are separate, and RSASSA-PKCS1-v1_5 includes ASN.1 encoding with AlgorithmIdentifier _plus_ padding with 01 FF ... 00; see rfc3447. In addition to the direct/&#39;lightweight&#39; API suggested by @JamesKPolk you can get type-01 padding but _not_ ASN.1 encoding via the provider interface with algorithm `NoneWithRSA` or simply `RSA`. Bouncy provider can also do PSS with various hashes, and without as any of `RSASSA-PSS RawRSASSA-PSS NoneWithRSASSA-PSS`","body":"Note hashing and padding are separate, and RSASSA-PKCS1-v1_5 includes ASN.1 encoding with AlgorithmIdentifier <i>plus</i> padding with 01 FF ... 00; see rfc3447. In addition to the direct/&#39;lightweight&#39; API suggested by @JamesKPolk you can get type-01 padding but <i>not</i> ASN.1 encoding via the provider interface with algorithm <code>NoneWithRSA</code> or simply <code>RSA</code>. Bouncy provider can also do PSS with various hashes, and without as any of <code>RSASSA-PSS RawRSASSA-PSS NoneWithRSASSA-PSS</code>"},{"owner":{"account_id":288696,"reputation":91230,"user_id":589259,"accept_rate":82,"display_name":"Maarten Bodewes"},"score":0,"creation_date":1477819149,"post_id":40242391,"comment_id":67910278,"body_markdown":"Eh, I don&#39;t get it. You can do this without even using Bouncy Castle. Why is that a requirement?","body":"Eh, I don&#39;t get it. You can do this without even using Bouncy Castle. Why is that a requirement?"}],"answers":[{"tags":[],"owner":{"account_id":288696,"reputation":91230,"user_id":589259,"accept_rate":82,"display_name":"Maarten Bodewes"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1528890986,"creation_date":1477833189,"answer_id":40329501,"question_id":40242391,"body_markdown":"Raw signing is nothing more than modular exponentiation. Now there seem to be two options, but basically only one will remain. I&#39;ll explain below.\r\n\r\nFirst of all, you&#39;d think that using a `Signature` with `&quot;NoneWithRSA&quot;` should work. The algorithm does exist, but unfortunately it still pads; it just strips the ASN.1 structure indicating the hash function and value. So that one is not available.\r\n\r\nAlthough [signing is not the same as encryption](https://crypto.stackexchange.com/questions/15997/is-rsa-encryption-of-a-cryptographic-hash-with-a-private-key-the-same-as-signatu), both operations in the end rely on modular exponentiation. So it is fortunately possible to use a `Cipher` instance to create the functionality you need:\r\n\r\n    Security.addProvider(new BouncyCastleProvider());\r\n\r\n    Cipher rsa = Cipher.getInstance(&quot;RSA/ECB/NoPadding&quot;, BouncyCastleProvider.PROVIDER_NAME);\r\n    rsa.init(Cipher.DECRYPT_MODE, kp.getPrivate());\r\n    byte[] signatureUsingCipher = rsa.doFinal(&quot;owlstead&quot;\r\n            .getBytes(StandardCharsets.UTF_8));\r\n    System.out.println(Hex.toHexString(signatureUsingCipher));\r\n\r\nNow one thing to notice here is that Bouncy Castle does perform a somewhat different operation than the SunJCE provider of Oracle. Instead of just removing the padding, it also *forgets to put the ciphertext through the I2OSP algorithm* (see the PKCS#1 standard), which properly encodes to the output size of the modulus. So you can have a smaller ciphertext than 128 bytes for specific key / plaintext combinations. This is very easy to see by encrypting the value 0, where the output will be zero bytes.\r\n\r\nFinally note that specifying `Cipher.ENCRYPT` mode or `Cipher.DECRYPT` mode doesn&#39;t make a difference; both simply perform modular exponentiation. However, Cipher.DECRYPT is more likely to expect a private key, which is why I used it in above code.\r\n\r\n---\r\n\r\nYou can generate a key pair for testing above code like this:\r\n\r\n    KeyPairGenerator kpg = KeyPairGenerator.getInstance(&quot;RSA&quot;);\r\n    kpg.initialize(1024);\r\n    KeyPair kp = kpg.generateKeyPair();\r\n\r\n---\r\n\r\n**Warning**: signature generation without secure padding is insecure; [it may result in existential forgery attacks](https://crypto.stackexchange.com/a/12780/1172). You can only use this as building block for to create a secure scheme.","title":"How can I sign a raw message (without first hashing it) in Bouncy Castle?","body":"<p>Raw signing is nothing more than modular exponentiation. Now there seem to be two options, but basically only one will remain. I'll explain below.</p>\n\n<p>First of all, you'd think that using a <code>Signature</code> with <code>\"NoneWithRSA\"</code> should work. The algorithm does exist, but unfortunately it still pads; it just strips the ASN.1 structure indicating the hash function and value. So that one is not available.</p>\n\n<p>Although <a href=\"https://crypto.stackexchange.com/questions/15997/is-rsa-encryption-of-a-cryptographic-hash-with-a-private-key-the-same-as-signatu\">signing is not the same as encryption</a>, both operations in the end rely on modular exponentiation. So it is fortunately possible to use a <code>Cipher</code> instance to create the functionality you need:</p>\n\n<pre><code>Security.addProvider(new BouncyCastleProvider());\n\nCipher rsa = Cipher.getInstance(\"RSA/ECB/NoPadding\", BouncyCastleProvider.PROVIDER_NAME);\nrsa.init(Cipher.DECRYPT_MODE, kp.getPrivate());\nbyte[] signatureUsingCipher = rsa.doFinal(\"owlstead\"\n        .getBytes(StandardCharsets.UTF_8));\nSystem.out.println(Hex.toHexString(signatureUsingCipher));\n</code></pre>\n\n<p>Now one thing to notice here is that Bouncy Castle does perform a somewhat different operation than the SunJCE provider of Oracle. Instead of just removing the padding, it also <em>forgets to put the ciphertext through the I2OSP algorithm</em> (see the PKCS#1 standard), which properly encodes to the output size of the modulus. So you can have a smaller ciphertext than 128 bytes for specific key / plaintext combinations. This is very easy to see by encrypting the value 0, where the output will be zero bytes.</p>\n\n<p>Finally note that specifying <code>Cipher.ENCRYPT</code> mode or <code>Cipher.DECRYPT</code> mode doesn't make a difference; both simply perform modular exponentiation. However, Cipher.DECRYPT is more likely to expect a private key, which is why I used it in above code.</p>\n\n<hr>\n\n<p>You can generate a key pair for testing above code like this:</p>\n\n<pre><code>KeyPairGenerator kpg = KeyPairGenerator.getInstance(\"RSA\");\nkpg.initialize(1024);\nKeyPair kp = kpg.generateKeyPair();\n</code></pre>\n\n<hr>\n\n<p><strong>Warning</strong>: signature generation without secure padding is insecure; <a href=\"https://crypto.stackexchange.com/a/12780/1172\">it may result in existential forgery attacks</a>. You can only use this as building block for to create a secure scheme.</p>\n"},{"comments":[{"owner":{"account_id":288696,"reputation":91230,"user_id":589259,"accept_rate":82,"display_name":"Maarten Bodewes"},"score":2,"creation_date":1528890861,"post_id":45162726,"comment_id":88676856,"body_markdown":"This answer is wrong. The question asked for sign without hashing **or padding** and `&quot;NONEwithRSA&quot;` certainly pads.","body":"This answer is wrong. The question asked for sign without hashing <b>or padding</b> and <code>&quot;NONEwithRSA&quot;</code> certainly pads."}],"tags":[],"owner":{"account_id":3539207,"reputation":317,"user_id":2956744,"accept_rate":100,"display_name":"Francesca Merighi"},"comment_count":1,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1507567701,"creation_date":1500370118,"answer_id":45162726,"question_id":40242391,"body_markdown":"    Signature signature = Signature.getInstance(&quot;NONEwithRSA&quot;,&quot;BC&quot;);\r\n\r\nSee http://docs.oracle.com/javase/8/docs/technotes/guides/security/StandardNames.html#Signature.","title":"How can I sign a raw message (without first hashing it) in Bouncy Castle?","body":"<pre><code>Signature signature = Signature.getInstance(\"NONEwithRSA\",\"BC\");\n</code></pre>\n\n<p>See <a href=\"http://docs.oracle.com/javase/8/docs/technotes/guides/security/StandardNames.html#Signature\" rel=\"nofollow noreferrer\">http://docs.oracle.com/javase/8/docs/technotes/guides/security/StandardNames.html#Signature</a>.</p>\n"},{"tags":[],"owner":{"account_id":28922343,"reputation":1,"user_id":22152971,"display_name":"Hooney"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688235465,"creation_date":1688090196,"answer_id":76585565,"question_id":40242391,"body_markdown":"// ECDSA Digital Signature Verification in Java\r\n\r\n    Signature signature = Signature.getInstance(&quot;NONEwithECDSA&quot;);","title":"How can I sign a raw message (without first hashing it) in Bouncy Castle?","body":"<p>// ECDSA Digital Signature Verification in Java</p>\n<pre><code>Signature signature = Signature.getInstance(&quot;NONEwithECDSA&quot;);\n</code></pre>\n"}],"owner":{"account_id":4555007,"reputation":103,"user_id":3698979,"display_name":"user3698979"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2298,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":3,"score":3,"last_activity_date":1688235465,"creation_date":1477404840,"question_id":40242391,"body_markdown":"I&#39;m working with Bouncy Castle Library, and can&#39;t find the way to sign a raw message without hashing/padding it first. I&#39;m not sure what parameters to pass as `alg`.\r\n\r\nWhen signing a digest with PKCS v1.5 padding, I was using: &quot;SHA1WithRSA&quot; , &quot;SHA256WithRSA&quot;, etc. (According to the digest type).\r\n\r\n    signature = Signature.getInstance(alg, JCEProvider.CRYPTO_PROVIDER_NAME);\r\n","title":"How can I sign a raw message (without first hashing it) in Bouncy Castle?","body":"<p>I'm working with Bouncy Castle Library, and can't find the way to sign a raw message without hashing/padding it first. I'm not sure what parameters to pass as <code>alg</code>.</p>\n\n<p>When signing a digest with PKCS v1.5 padding, I was using: \"SHA1WithRSA\" , \"SHA256WithRSA\", etc. (According to the digest type).</p>\n\n<pre><code>signature = Signature.getInstance(alg, JCEProvider.CRYPTO_PROVIDER_NAME);\n</code></pre>\n"},{"tags":["java","spring-boot","react-native","websocket","spring-websocket"],"comments":[{"owner":{"account_id":14226667,"reputation":523,"user_id":10277150,"display_name":"gurkan"},"score":1,"creation_date":1688235223,"post_id":76595973,"comment_id":135047968,"body_markdown":"please check your ip address. That must be ipv4 address of your computer in your network. Secondly, please check internet access for react native android manifest.","body":"please check your ip address. That must be ipv4 address of your computer in your network. Secondly, please check internet access for react native android manifest."},{"owner":{"account_id":28931677,"reputation":1,"user_id":22160236,"display_name":"WestAlex"},"score":0,"creation_date":1688245294,"post_id":76595973,"comment_id":135048994,"body_markdown":"yes, it is correct. i used ipconfig","body":"yes, it is correct. i used ipconfig"},{"owner":{"account_id":14226667,"reputation":523,"user_id":10277150,"display_name":"gurkan"},"score":0,"creation_date":1688250779,"post_id":76595973,"comment_id":135049414,"body_markdown":"can you check this project please, maybe helps to you: https://github.com/gurkanucar/qr-login-mobile","body":"can you check this project please, maybe helps to you: <a href=\"https://github.com/gurkanucar/qr-login-mobile\" rel=\"nofollow noreferrer\">github.com/gurkanucar/qr-login-mobile</a>"}],"owner":{"account_id":28931677,"reputation":1,"user_id":22160236,"display_name":"WestAlex"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":149,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688234894,"creation_date":1688234894,"question_id":76595973,"body_markdown":"how can i setup websocket between react native and spring boot. this works if you use html+js, but it doesn&#39;t work with react native.\r\n\r\nspring config class\r\n```\r\n@Configuration\r\n@EnableWebSocketMessageBroker\r\npublic class WebSocketConfig implements WebSocketMessageBrokerConfigurer {\r\n\r\n    @Override\r\n    public void configureMessageBroker(MessageBrokerRegistry config) {\r\n        config.enableSimpleBroker(&quot;/topic&quot;);\r\n        config.setApplicationDestinationPrefixes(&quot;/app&quot;);\r\n    }\r\n\r\n    @Override\r\n    public void registerStompEndpoints(StompEndpointRegistry registry) {\r\n        registry.addEndpoint(&quot;/websocket&quot;).setAllowedOriginPatterns(&quot;*&quot;).withSockJS();\r\n    }\r\n}\r\n```\r\n\r\nspring controller class\r\n```\r\n@Controller\r\n@CrossOrigin(&quot;*&quot;)\r\npublic class WebSocketController {\r\n\r\n    @MessageMapping(&quot;/hello&quot;)\r\n    @SendTo(&quot;/topic/greetings&quot;)\r\n    public Greeting greeting(HelloMessage message) throws Exception {\r\n        System.out.println(message.getName());\r\n        return new Greeting(&quot;Hello WORK, &quot; + message.getName() + &quot;!&quot;);\r\n    }\r\n}\r\n```\r\n\r\nreact native component\r\n```\r\nimport React, { useEffect, useState } from &#39;react&#39;;\r\nimport { View, TextInput, Button } from &#39;react-native&#39;;\r\nimport SockJS from &#39;sockjs-client&#39;;\r\nimport { Stomp } from &#39;@stomp/stompjs&#39;;\r\nimport { TextEncoder } from &#39;text-encoding&#39;;\r\nglobal.TextEncoder = TextEncoder;\r\n\r\nconst Test = () =&gt; {\r\n    const [message, setMessage] = useState(&#39;&#39;);\r\n    const [stompClient, setStompClient] = useState(null);\r\n\r\n    useEffect(() =&gt; {\r\n        const socket = new SockJS(&#39;http://192.168.1.234:8081/websocket&#39;); \r\n        const client = Stomp.over(socket);\r\n\r\n        const connectToWebSocket = () =&gt; {\r\n            client.connect({}, () =&gt; {\r\n                setStompClient(client);\r\n\r\n                client.subscribe(&#39;http://192.168.1.234:8081/topic/greetings&#39;, (message) =&gt; {\r\n                    console.log(&#39;Received message:&#39;, message.body);\r\n                });\r\n            });\r\n        };\r\n\r\n        connectToWebSocket();\r\n\r\n        return () =&gt; {\r\n            if (stompClient) {\r\n                stompClient.disconnect();\r\n            }\r\n        };\r\n    }, []);\r\n\r\n    const sendMessage = () =&gt; {\r\n        if (stompClient) {\r\n            stompClient.send(&#39;http://192.168.1.234:8081/app/hello&#39;, {}, message);\r\n            setMessage(&#39;&#39;);\r\n        }\r\n    };\r\n\r\nexport default Test;\r\n```\r\n\r\nI tried several libraries, but nothing worked for me (\r\n\r\n\r\nI need to try to set up a connection using the topic\r\n\r\nhow can i setup websocket between react native and spring boot. this works if you use html+js, but it doesn&#39;t work with react native.\r\n\r\n","title":"React Native + Spring Boot + WebSocket","body":"<p>how can i setup websocket between react native and spring boot. this works if you use html+js, but it doesn't work with react native.</p>\n<p>spring config class</p>\n<pre><code>@Configuration\n@EnableWebSocketMessageBroker\npublic class WebSocketConfig implements WebSocketMessageBrokerConfigurer {\n\n    @Override\n    public void configureMessageBroker(MessageBrokerRegistry config) {\n        config.enableSimpleBroker(&quot;/topic&quot;);\n        config.setApplicationDestinationPrefixes(&quot;/app&quot;);\n    }\n\n    @Override\n    public void registerStompEndpoints(StompEndpointRegistry registry) {\n        registry.addEndpoint(&quot;/websocket&quot;).setAllowedOriginPatterns(&quot;*&quot;).withSockJS();\n    }\n}\n</code></pre>\n<p>spring controller class</p>\n<pre><code>@Controller\n@CrossOrigin(&quot;*&quot;)\npublic class WebSocketController {\n\n    @MessageMapping(&quot;/hello&quot;)\n    @SendTo(&quot;/topic/greetings&quot;)\n    public Greeting greeting(HelloMessage message) throws Exception {\n        System.out.println(message.getName());\n        return new Greeting(&quot;Hello WORK, &quot; + message.getName() + &quot;!&quot;);\n    }\n}\n</code></pre>\n<p>react native component</p>\n<pre><code>import React, { useEffect, useState } from 'react';\nimport { View, TextInput, Button } from 'react-native';\nimport SockJS from 'sockjs-client';\nimport { Stomp } from '@stomp/stompjs';\nimport { TextEncoder } from 'text-encoding';\nglobal.TextEncoder = TextEncoder;\n\nconst Test = () =&gt; {\n    const [message, setMessage] = useState('');\n    const [stompClient, setStompClient] = useState(null);\n\n    useEffect(() =&gt; {\n        const socket = new SockJS('http://192.168.1.234:8081/websocket'); \n        const client = Stomp.over(socket);\n\n        const connectToWebSocket = () =&gt; {\n            client.connect({}, () =&gt; {\n                setStompClient(client);\n\n                client.subscribe('http://192.168.1.234:8081/topic/greetings', (message) =&gt; {\n                    console.log('Received message:', message.body);\n                });\n            });\n        };\n\n        connectToWebSocket();\n\n        return () =&gt; {\n            if (stompClient) {\n                stompClient.disconnect();\n            }\n        };\n    }, []);\n\n    const sendMessage = () =&gt; {\n        if (stompClient) {\n            stompClient.send('http://192.168.1.234:8081/app/hello', {}, message);\n            setMessage('');\n        }\n    };\n\nexport default Test;\n</code></pre>\n<p>I tried several libraries, but nothing worked for me (</p>\n<p>I need to try to set up a connection using the topic</p>\n<p>how can i setup websocket between react native and spring boot. this works if you use html+js, but it doesn't work with react native.</p>\n"},{"tags":["java","cordova","gradle","cordova-cli","construct-2"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1688182118,"post_id":76593144,"comment_id":135043362,"body_markdown":"Looks like 7.4.2 is compatible with Java 11 or later, and you are using Java 8.","body":"Looks like 7.4.2 is compatible with Java 11 or later, and you are using Java 8."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1688182184,"post_id":76593144,"comment_id":135043366,"body_markdown":"Does this answer your question? [Unable to build Java or Kotlin project in Android Studio after flamingo update](https://stackoverflow.com/questions/76137431/unable-to-build-java-or-kotlin-project-in-android-studio-after-flamingo-update)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/76137431/unable-to-build-java-or-kotlin-project-in-android-studio-after-flamingo-update\">Unable to build Java or Kotlin project in Android Studio after flamingo update</a>"}],"owner":{"account_id":27577545,"reputation":1,"user_id":21047391,"display_name":"Dimss17"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688234544,"creation_date":1688181614,"question_id":76593144,"body_markdown":"I always find a problem when I want to build android application in cordova cli from project construct 2, can you guys help me to prepare my cordova cli properly(step by step), complete from the initial export of the project in cordova until it becomes an apk. I didn&#39;t find the right way when I searched the way on the YouTube platform\r\n\r\nWhen I try `cordova build android` an error message appears:\r\n\r\n\r\n```none\r\nC:\\Users\\USER\\Documents\\AdvDark&gt;cordova build android\r\nChecking Java JDK and Android SDK versions\r\nANDROID_HOME=C:\\SDKLAGI (recommended setting)\r\nANDROID_SDK_ROOT=C:\\SDKLAGI (DEPRECATED)\r\nUsing Android SDK: C:\\SDKLAGI\r\nStarting a Gradle Daemon, 2 incompatible and 1 stopped Daemons could not be reused, use --status for details\r\n\r\nDeprecated Gradle features were used in this build, making it incompatible with Gradle 9.0.\r\n\r\nYou can use &#39;--warning-mode all&#39; to show the individual deprecation warnings and determine if they come from your own scripts or plugins.\r\n\r\nSee https://docs.gradle.org/8.1.1/userguide/command_line_interface.html#sec:command_line_warnings\r\n\r\nBUILD SUCCESSFUL in 24s\r\n1 actionable task: 1 executed\r\nSubproject Path: CordovaLib\r\nSubproject Path: app\r\nStarting a Gradle Daemon (subsequent builds will be faster)\r\n\r\nFAILURE: Build failed with an exception.\r\n\r\n* What went wrong:\r\nA problem occurred configuring root project &#39;Adventure In The Dark&#39;.\r\n&gt; Could not resolve all files for configuration &#39;:classpath&#39;.\r\n   &gt; Could not resolve com.android.tools.build:gradle:7.4.2.\r\n     Required by:\r\n         project :\r\n      &gt; No matching variant of com.android.tools.build:gradle:7.4.2 was found. The consumer was configured to find a runtime of a library compatible with Java 8, packaged as a jar, and its dependencies declared externally, as well as attribute &#39;org.gradle.plugin.api-version&#39; with value &#39;7.6&#39; but:\r\n          - Variant &#39;apiElements&#39; capability com.android.tools.build:gradle:7.4.2 declares a library, packaged as a jar, and its dependencies declared externally:\r\n              - Incompatible because this component declares an API of a component compatible with Java 11 and the consumer needed a runtime of a component compatible with Java 8\r\n              - Other compatible attribute:\r\n                  - Doesn&#39;t say anything about org.gradle.plugin.api-version (required &#39;7.6&#39;)\r\n          - Variant &#39;javadocElements&#39; capability com.android.tools.build:gradle:7.4.2 declares a runtime of a component, and its dependencies declared externally:\r\n              - Incompatible because this component declares documentation and the consumer needed a library\r\n              - Other compatible attributes:\r\n                  - Doesn&#39;t say anything about its target Java version (required compatibility with Java 8)\r\n                  - Doesn&#39;t say anything about its elements (required them packaged as a jar)\r\n                  - Doesn&#39;t say anything about org.gradle.plugin.api-version (required &#39;7.6&#39;)\r\n          - Variant &#39;runtimeElements&#39; capability com.android.tools.build:gradle:7.4.2 declares a runtime of a library, packaged as a jar, and its dependencies declared externally:\r\n              - Incompatible because this component declares a component compatible with Java 11 and the consumer needed a component compatible with Java 8\r\n              - Other compatible attribute:\r\n                  - Doesn&#39;t say anything about org.gradle.plugin.api-version (required &#39;7.6&#39;)\r\n          - Variant &#39;sourcesElements&#39; capability com.android.tools.build:gradle:7.4.2 declares a runtime of a component, and its dependencies declared externally:\r\n              - Incompatible because this component declares documentation and the consumer needed a library\r\n              - Other compatible attributes:\r\n                  - Doesn&#39;t say anything about its target Java version (required compatibility with Java 8)\r\n                  - Doesn&#39;t say anything about its elements (required them packaged as a jar)\r\n                  - Doesn&#39;t say anything about org.gradle.plugin.api-version (required &#39;7.6&#39;)\r\n\r\n* Try:\r\n&gt; Run with --stacktrace option to get the stack trace.\r\n&gt; Run with --info or --debug option to get more log output.\r\n&gt; Run with --scan to get full insights.\r\n\r\n* Get more help at https://help.gradle.org\r\n\r\nDeprecated Gradle features were used in this build, making it incompatible with Gradle 8.0.\r\n\r\nYou can use &#39;--warning-mode all&#39; to show the individual deprecation warnings and determine if they come from your own scripts or plugins.\r\n\r\nSee https://docs.gradle.org/7.6/userguide/command_line_interface.html#sec:command_line_warnings\r\n\r\nBUILD FAILED in 10s\r\nCommand failed with exit code 1: C:\\Users\\USER\\Documents\\AdvDark\\platforms\\android\\gradlew -b C:\\Users\\USER\\Documents\\AdvDark\\platforms\\android\\build.gradle cdvBuildDebug\r\n```\r\n\r\nHow can I fix this?","title":"setting up cordova cli for android build from construct 2 project","body":"<p>I always find a problem when I want to build android application in cordova cli from project construct 2, can you guys help me to prepare my cordova cli properly(step by step), complete from the initial export of the project in cordova until it becomes an apk. I didn't find the right way when I searched the way on the YouTube platform</p>\n<p>When I try <code>cordova build android</code> an error message appears:</p>\n<pre class=\"lang-none prettyprint-override\"><code>C:\\Users\\USER\\Documents\\AdvDark&gt;cordova build android\nChecking Java JDK and Android SDK versions\nANDROID_HOME=C:\\SDKLAGI (recommended setting)\nANDROID_SDK_ROOT=C:\\SDKLAGI (DEPRECATED)\nUsing Android SDK: C:\\SDKLAGI\nStarting a Gradle Daemon, 2 incompatible and 1 stopped Daemons could not be reused, use --status for details\n\nDeprecated Gradle features were used in this build, making it incompatible with Gradle 9.0.\n\nYou can use '--warning-mode all' to show the individual deprecation warnings and determine if they come from your own scripts or plugins.\n\nSee https://docs.gradle.org/8.1.1/userguide/command_line_interface.html#sec:command_line_warnings\n\nBUILD SUCCESSFUL in 24s\n1 actionable task: 1 executed\nSubproject Path: CordovaLib\nSubproject Path: app\nStarting a Gradle Daemon (subsequent builds will be faster)\n\nFAILURE: Build failed with an exception.\n\n* What went wrong:\nA problem occurred configuring root project 'Adventure In The Dark'.\n&gt; Could not resolve all files for configuration ':classpath'.\n   &gt; Could not resolve com.android.tools.build:gradle:7.4.2.\n     Required by:\n         project :\n      &gt; No matching variant of com.android.tools.build:gradle:7.4.2 was found. The consumer was configured to find a runtime of a library compatible with Java 8, packaged as a jar, and its dependencies declared externally, as well as attribute 'org.gradle.plugin.api-version' with value '7.6' but:\n          - Variant 'apiElements' capability com.android.tools.build:gradle:7.4.2 declares a library, packaged as a jar, and its dependencies declared externally:\n              - Incompatible because this component declares an API of a component compatible with Java 11 and the consumer needed a runtime of a component compatible with Java 8\n              - Other compatible attribute:\n                  - Doesn't say anything about org.gradle.plugin.api-version (required '7.6')\n          - Variant 'javadocElements' capability com.android.tools.build:gradle:7.4.2 declares a runtime of a component, and its dependencies declared externally:\n              - Incompatible because this component declares documentation and the consumer needed a library\n              - Other compatible attributes:\n                  - Doesn't say anything about its target Java version (required compatibility with Java 8)\n                  - Doesn't say anything about its elements (required them packaged as a jar)\n                  - Doesn't say anything about org.gradle.plugin.api-version (required '7.6')\n          - Variant 'runtimeElements' capability com.android.tools.build:gradle:7.4.2 declares a runtime of a library, packaged as a jar, and its dependencies declared externally:\n              - Incompatible because this component declares a component compatible with Java 11 and the consumer needed a component compatible with Java 8\n              - Other compatible attribute:\n                  - Doesn't say anything about org.gradle.plugin.api-version (required '7.6')\n          - Variant 'sourcesElements' capability com.android.tools.build:gradle:7.4.2 declares a runtime of a component, and its dependencies declared externally:\n              - Incompatible because this component declares documentation and the consumer needed a library\n              - Other compatible attributes:\n                  - Doesn't say anything about its target Java version (required compatibility with Java 8)\n                  - Doesn't say anything about its elements (required them packaged as a jar)\n                  - Doesn't say anything about org.gradle.plugin.api-version (required '7.6')\n\n* Try:\n&gt; Run with --stacktrace option to get the stack trace.\n&gt; Run with --info or --debug option to get more log output.\n&gt; Run with --scan to get full insights.\n\n* Get more help at https://help.gradle.org\n\nDeprecated Gradle features were used in this build, making it incompatible with Gradle 8.0.\n\nYou can use '--warning-mode all' to show the individual deprecation warnings and determine if they come from your own scripts or plugins.\n\nSee https://docs.gradle.org/7.6/userguide/command_line_interface.html#sec:command_line_warnings\n\nBUILD FAILED in 10s\nCommand failed with exit code 1: C:\\Users\\USER\\Documents\\AdvDark\\platforms\\android\\gradlew -b C:\\Users\\USER\\Documents\\AdvDark\\platforms\\android\\build.gradle cdvBuildDebug\n</code></pre>\n<p>How can I fix this?</p>\n"},{"tags":["java","idoc"],"comments":[{"owner":{"account_id":2492679,"reputation":20748,"user_id":2169845,"accept_rate":91,"display_name":"zappee"},"score":0,"creation_date":1541674300,"post_id":53205676,"comment_id":93300488,"body_markdown":"I am not sure how but SAP guys can generete XSD file from IDOC and BAPI as well. That XSD describes your structure. Ask them. If it does not work, just use the simple `xpath` to get data from yout IDOC.","body":"I am not sure how but SAP guys can generete XSD file from IDOC and BAPI as well. That XSD describes your structure. Ask them. If it does not work, just use the simple <code>xpath</code> to get data from yout IDOC."}],"answers":[{"comments":[{"owner":{"account_id":4711004,"reputation":343,"user_id":3811504,"accept_rate":56,"display_name":"Cerebres"},"score":0,"creation_date":1541688656,"post_id":53208898,"comment_id":93308323,"body_markdown":"The benefit would be that the parsing works without the implementation of a custom IDoc POCO I suspect?\n\nThe .xsd file is 14K lines long, I want to avoid to have to write POCO objects for unmarshalling.","body":"The benefit would be that the parsing works without the implementation of a custom IDoc POCO I suspect?  The .xsd file is 14K lines long, I want to avoid to have to write POCO objects for unmarshalling."},{"owner":{"account_id":9910001,"reputation":1796,"user_id":7337102,"display_name":"Trixx"},"score":0,"creation_date":1541692357,"post_id":53208898,"comment_id":93310627,"body_markdown":"Parsing would work with which goal? This IDocXMLParser creates objects of type `com.sap.conn.idoc.IDocDocument`. And they need appropriate IDoc meta data, which the IDoc-XML does not provide. Please look at the methods of `IDocDocument` and `IDocSegment` to understand, that many of these methods cannot work without the availability of such IDoc meta data.","body":"Parsing would work with which goal? This IDocXMLParser creates objects of type <code>com.sap.conn.idoc.IDocDocument</code>. And they need appropriate IDoc meta data, which the IDoc-XML does not provide. Please look at the methods of <code>IDocDocument</code> and <code>IDocSegment</code> to understand, that many of these methods cannot work without the availability of such IDoc meta data."}],"tags":[],"owner":{"account_id":9910001,"reputation":1796,"user_id":7337102,"display_name":"Trixx"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1542528616,"creation_date":1541684289,"answer_id":53208898,"question_id":53205676,"body_markdown":"Would you please have a look at my answer here:&lt;br&gt;\r\nhttps://stackoverflow.com/questions/20034323/parsing-an-idoc-in-xml-format-using-sap-java-idoc-class-library/41337035#41337035 ?\r\n\r\nI think this should answer your question here, too.\r\nIf you do not have any RFC connection to an SAP application server with your software, I can only discourage you to use the [SAP JCo][1] and the Java IDoc Class Library add-on. They don&#39;t provide any benefit in this case.\r\n\r\nIDoc-XML parsing for the parsing&#39;s sake doesn&#39;t make sense, so it depends on which goal you have with this parsing. If you only want to make sure, that the XML is valid and well-formed, you can use any standard XML parser for this. Any other XML parser would also create some Java objects - at least `java.lang.String` objects. But if you would like to get Java objects of type `com.sap.conn.idoc.IDocDocument` because you intend to make use of its offered handy navigation, accessor or modifier methods afterwards, then an IDoc-XML parser needs to have access to additional IDoc meta data (which the IDoc-XML itself doesn&#39;t provide) for creating these type of objects.\r\n\r\nIf your intention is to check the IDoc-XML not only for XML validity and well-formedness, but also if it additionally complies to SAP&#39;s IDoc-XML specification, I am afraid that the SAP Java IDoc Class Library&#39;s `IDocXMLProcessor` and IDocXMLParser cannot be used for such a separated task, and you really have to write your own parser then in this case.\r\n\r\nBy the way, you may also have a look at the [SAP Business Connector][2] which offers appropriate APIs for dealing with IDocs and IDoc-XML. Of course, this is an integration platform for exchanging business data between various systems, and no development library for being included in own Java application projects. But one can easily develop workflows there, which would cover the desired functionality from your question, I think. I don&#39;t know if it would fit to your general project requirements, so this is just another idea with following a different path.\r\n\r\n\r\n  [1]: https://support.sap.com/jco\r\n  [2]: https://support.sap.com/sbc","title":"Parse SAP IDoc into Java object","body":"<p>Would you please have a look at my answer here:<br>\n<a href=\"https://stackoverflow.com/questions/20034323/parsing-an-idoc-in-xml-format-using-sap-java-idoc-class-library/41337035#41337035\">Parsing an IDoc in XML format using SAP Java IDoc Class Library</a> ?</p>\n\n<p>I think this should answer your question here, too.\nIf you do not have any RFC connection to an SAP application server with your software, I can only discourage you to use the <a href=\"https://support.sap.com/jco\" rel=\"nofollow noreferrer\">SAP JCo</a> and the Java IDoc Class Library add-on. They don't provide any benefit in this case.</p>\n\n<p>IDoc-XML parsing for the parsing's sake doesn't make sense, so it depends on which goal you have with this parsing. If you only want to make sure, that the XML is valid and well-formed, you can use any standard XML parser for this. Any other XML parser would also create some Java objects - at least <code>java.lang.String</code> objects. But if you would like to get Java objects of type <code>com.sap.conn.idoc.IDocDocument</code> because you intend to make use of its offered handy navigation, accessor or modifier methods afterwards, then an IDoc-XML parser needs to have access to additional IDoc meta data (which the IDoc-XML itself doesn't provide) for creating these type of objects.</p>\n\n<p>If your intention is to check the IDoc-XML not only for XML validity and well-formedness, but also if it additionally complies to SAP's IDoc-XML specification, I am afraid that the SAP Java IDoc Class Library's <code>IDocXMLProcessor</code> and IDocXMLParser cannot be used for such a separated task, and you really have to write your own parser then in this case.</p>\n\n<p>By the way, you may also have a look at the <a href=\"https://support.sap.com/sbc\" rel=\"nofollow noreferrer\">SAP Business Connector</a> which offers appropriate APIs for dealing with IDocs and IDoc-XML. Of course, this is an integration platform for exchanging business data between various systems, and no development library for being included in own Java application projects. But one can easily develop workflows there, which would cover the desired functionality from your question, I think. I don't know if it would fit to your general project requirements, so this is just another idea with following a different path.</p>\n"}],"owner":{"account_id":4711004,"reputation":343,"user_id":3811504,"accept_rate":56,"display_name":"Cerebres"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1706,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":1,"score":1,"last_activity_date":1688234438,"creation_date":1541672369,"question_id":53205676,"body_markdown":"I am trying to parse an SAP IDoc XML string into a Java object. I tried using the com.sap.conn.idoc.sapidoc3 artifact into my maven project. This does have all the right tools to parse a XML file I believe, but this also wants me to add a repository/destination to my code. Also I need to add stuff to my classpath which I would like to avoid. The IDocs will be sent to me without using any SAP connections, so I actually only need the IDocXMLParser.\r\n\r\nJust creating a IDocXMLParser implementation will not work because there are checks on the repository not being null and every constructor is protected.\r\n\r\nIs there a way to just parse/unmarshal the received XML string without having to write all the logic myself?\r\n","title":"Parse SAP IDoc into Java object","body":"<p>I am trying to parse an SAP IDoc XML string into a Java object. I tried using the com.sap.conn.idoc.sapidoc3 artifact into my maven project. This does have all the right tools to parse a XML file I believe, but this also wants me to add a repository/destination to my code. Also I need to add stuff to my classpath which I would like to avoid. The IDocs will be sent to me without using any SAP connections, so I actually only need the IDocXMLParser.</p>\n<p>Just creating a IDocXMLParser implementation will not work because there are checks on the repository not being null and every constructor is protected.</p>\n<p>Is there a way to just parse/unmarshal the received XML string without having to write all the logic myself?</p>\n"},{"tags":["java","servlets","sap-business-technology-platform"],"answers":[{"tags":[],"owner":{"account_id":235651,"reputation":7229,"user_id":502613,"accept_rate":91,"display_name":"Jorg"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1513140663,"creation_date":1513140663,"answer_id":47785685,"question_id":47284580,"body_markdown":"The answer was not to use the &quot;deploy to sap cloud platform&quot; options in Eclipse, but to export as WAR file and choosing Tomcat 8 as the runtime environment. After that, manually update the application on SCP by uploading the WAR file and restart the running process. \r\n\r\nWorked for me. ","title":"Access a Java Servlet on SAP cloud platform","body":"<p>The answer was not to use the \"deploy to sap cloud platform\" options in Eclipse, but to export as WAR file and choosing Tomcat 8 as the runtime environment. After that, manually update the application on SCP by uploading the WAR file and restart the running process. </p>\n\n<p>Worked for me. </p>\n"}],"owner":{"account_id":235651,"reputation":7229,"user_id":502613,"accept_rate":91,"display_name":"Jorg"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":570,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":47785685,"answer_count":1,"score":1,"last_activity_date":1688234387,"creation_date":1510658778,"question_id":47284580,"body_markdown":"I&#39;m trying to create a servlet and deploy it to the SAP cloud platform. Not familiar with servlets at all. \r\n\r\nTo start, I have created and deployed what is pretty much whatever eclipse generates as their example app\r\n\r\n    @WebServlet(&quot;/hello&quot;)\r\n    public class HelloWorldServlet extends HttpServlet {\r\n\t    private static final long serialVersionUID = 1L;\r\n       \r\n        /**\r\n         * @see HttpServlet#HttpServlet()\r\n        */\r\n        public HelloWorldServlet() {\r\n            super();\r\n            // TODO Auto-generated constructor stub\r\n        }\r\n\r\n    \tprotected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\r\n    \t\tresponse.getWriter().println(&quot;Hello World!&quot;);\r\n\t    }\r\n    }\r\n\r\nThen, I deploy this and I can see the app is running and I have a URL. \r\n\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\nI&#39;m trying to access it from the browser now, by the URL you see in the screenshot above. I thought that all I had to do was add `/hello` to the end of it and we&#39;re off. It gives a 404 though. The access logs say I&#39;m accessing that servlet but I cannot get the &quot;hello world&quot; to show:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nAnyone know what the URL&#39;s are meant to be here? \r\n\r\nEdit:\r\n\r\nOn redeployment, it starts to chuck errors. Only the initial deploy seems to work:\r\n\r\n&gt; Problem during deploymentJava version [8] is not compatible with the\r\n&gt; currently specified runtime; use runtime neo-java-web 2.x or 3.x or\r\n&gt; neo-javaee7-wp 1.x\r\n\r\n  [1]: https://i.stack.imgur.com/EFkMN.png\r\n  [2]: https://i.stack.imgur.com/gJkUP.png","title":"Access a Java Servlet on SAP cloud platform","body":"<p>I'm trying to create a servlet and deploy it to the SAP cloud platform. Not familiar with servlets at all. </p>\n\n<p>To start, I have created and deployed what is pretty much whatever eclipse generates as their example app</p>\n\n<pre><code>@WebServlet(\"/hello\")\npublic class HelloWorldServlet extends HttpServlet {\n    private static final long serialVersionUID = 1L;\n\n    /**\n     * @see HttpServlet#HttpServlet()\n    */\n    public HelloWorldServlet() {\n        super();\n        // TODO Auto-generated constructor stub\n    }\n\n    protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\n        response.getWriter().println(\"Hello World!\");\n    }\n}\n</code></pre>\n\n<p>Then, I deploy this and I can see the app is running and I have a URL. </p>\n\n<p><a href=\"https://i.stack.imgur.com/gJkUP.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/gJkUP.png\" alt=\"enter image description here\"></a></p>\n\n<p>I'm trying to access it from the browser now, by the URL you see in the screenshot above. I thought that all I had to do was add <code>/hello</code> to the end of it and we're off. It gives a 404 though. The access logs say I'm accessing that servlet but I cannot get the \"hello world\" to show:</p>\n\n<p><a href=\"https://i.stack.imgur.com/EFkMN.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/EFkMN.png\" alt=\"enter image description here\"></a></p>\n\n<p>Anyone know what the URL's are meant to be here? </p>\n\n<p>Edit:</p>\n\n<p>On redeployment, it starts to chuck errors. Only the initial deploy seems to work:</p>\n\n<blockquote>\n  <p>Problem during deploymentJava version [8] is not compatible with the\n  currently specified runtime; use runtime neo-java-web 2.x or 3.x or\n  neo-javaee7-wp 1.x</p>\n</blockquote>\n"},{"tags":["java","scripting","netweaver"],"comments":[{"owner":{"account_id":542551,"reputation":10395,"user_id":911419,"accept_rate":79,"display_name":"Suncatcher"},"score":0,"creation_date":1559239084,"post_id":56320156,"comment_id":99366893,"body_markdown":"what kind of script this code is written with?","body":"what kind of script this code is written with?"},{"owner":{"account_id":12894832,"reputation":1,"user_id":9325528,"display_name":"Prateek Kapsime"},"score":0,"creation_date":1559378195,"post_id":56320156,"comment_id":99408004,"body_markdown":"Something known as Redwood script.","body":"Something known as Redwood script."},{"owner":{"account_id":542551,"reputation":10395,"user_id":911419,"accept_rate":79,"display_name":"Suncatcher"},"score":0,"creation_date":1559378426,"post_id":56320156,"comment_id":99408044,"body_markdown":"Where do you put it? In what SAP module/tcode? How it is run? What are `operator messages`? Give us more context","body":"Where do you put it? In what SAP module/tcode? How it is run? What are <code>operator messages</code>? Give us more context"},{"owner":{"account_id":12578778,"reputation":12323,"user_id":9150270,"display_name":"Sandra Rossi"},"score":0,"creation_date":1687937294,"post_id":56320156,"comment_id":135005073,"body_markdown":"I guess it&#39;s RedwoodScript, Java-like, part of SAP CPS by Redwood (SAP Help Portal &gt; SAP Central Process Scheduling by Redwood &gt; [RedwoodScript](https://help.sap.com/docs/search?q=RedwoodScript). Not to be confused with [tag:redwoodjs].","body":"I guess it&#39;s RedwoodScript, Java-like, part of SAP CPS by Redwood (SAP Help Portal &gt; SAP Central Process Scheduling by Redwood &gt; <a href=\"https://help.sap.com/docs/search?q=RedwoodScript\" rel=\"nofollow noreferrer\">RedwoodScript</a>. Not to be confused with <a href=\"https://stackoverflow.com/questions/tagged/redwoodjs\">redwoodjs</a>."}],"owner":{"account_id":12894832,"reputation":1,"user_id":9325528,"display_name":"Prateek Kapsime"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688234147,"creation_date":1558935056,"question_id":56320156,"body_markdown":"I have a code written in RedwoodScript (Java-like) to reply to all operator messages in a SAP software. I need it to be applied specifically based on string match. As I am new to scripts, I don&#39;t have much idea in which language it has been originally written. Please help me with the issue. Thanks.\r\n\r\n    {\r\n       String query = &quot;select OperatorMessage.* from OperatorMessage&quot;;\r\n       for (OperatorMessage oMessage : jcsSession.executeObjectQuery(OperatorMessage.TYPE, query))\r\n      {\r\n        //Check the operator message requires a reply\r\n        if (oMessage.getReplyStatus() == ReplyStatus.valueOf(&quot;Required&quot;))\r\n        {\r\n          oMessage.setReply(&quot;Acknowledge&quot;);\r\n          jcsSession.persist();\r\n        }\r\n      }\r\n    }\r\n\r\nMy expected output should be, that it should work only with the provided string for string match. Example of such string can be:\r\n\r\n&quot;Please check PROCESS_X_215, 4693422521, in XYZ_Queue with status Error&quot;","title":"String matching in scripts","body":"<p>I have a code written in RedwoodScript (Java-like) to reply to all operator messages in a SAP software. I need it to be applied specifically based on string match. As I am new to scripts, I don't have much idea in which language it has been originally written. Please help me with the issue. Thanks.</p>\n<pre><code>{\n   String query = &quot;select OperatorMessage.* from OperatorMessage&quot;;\n   for (OperatorMessage oMessage : jcsSession.executeObjectQuery(OperatorMessage.TYPE, query))\n  {\n    //Check the operator message requires a reply\n    if (oMessage.getReplyStatus() == ReplyStatus.valueOf(&quot;Required&quot;))\n    {\n      oMessage.setReply(&quot;Acknowledge&quot;);\n      jcsSession.persist();\n    }\n  }\n}\n</code></pre>\n<p>My expected output should be, that it should work only with the provided string for string match. Example of such string can be:</p>\n<p>&quot;Please check PROCESS_X_215, 4693422521, in XYZ_Queue with status Error&quot;</p>\n"},{"tags":["java","automated-tests","sap-gui","silktest"],"owner":{"account_id":222412,"reputation":55996,"user_id":480982,"accept_rate":83,"display_name":"Thomas Weller"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":148,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"answer_count":0,"score":2,"last_activity_date":1688233477,"creation_date":1444640991,"question_id":33077280,"body_markdown":"In our Silk4J test environment, we use a naming convention in order to conveniently get access to windows. E.g. I can do\r\n\r\n    SapWindow pt61 = sap.performTransaction(&quot;PT61&quot;);\r\n\r\nto perform the PT61 transaction in SAP and it&#39;ll return a window that has the identifier `wndPT61` in a Silk4J Object Map.\r\n\r\nSometimes it happens that the window has not been mapped yet. In this case Silk4J causes a `RuntimeException`. Unfortunately, `RuntimeException` is used all over the place, i.e. it&#39;s not specific.\r\n\r\nIs there a way to check the Object Maps for the existence of an identifer, so that I could detect the missing identifier and throw a more specific (custom) exception explaining what to do?\r\n\r\nI&#39;d like to do something like this:\r\n\r\n    if (!desktop.isValidIdentifier(&quot;wndPT61&quot;)) {\r\n        throw new Exception(&quot;According to our naming convention ... etc.&quot;);\r\n    }\r\n\r\nI have tried:\r\n\r\n* I have had a look at all methods of `Desktop`, but IMHO no such method exists. The `exists()`  method already throws the `RuntimeException`.\r\n* I have had a look at all methods of `Agent`, but IMHO no such method exists.\r\n* I don&#39;t think such a method should be available at some other class, since desktop and agent are the highest level where a search can be done.\r\n* Of course I can catch the `RuntimeException` (that&#39;s what I do at the moment), but it&#39;s not very reliable (since such an exception could have other causes) and I don&#39;t want to rely on the exception message.","title":"Checking if an identifier exists","body":"<p>In our Silk4J test environment, we use a naming convention in order to conveniently get access to windows. E.g. I can do</p>\n\n<pre><code>SapWindow pt61 = sap.performTransaction(\"PT61\");\n</code></pre>\n\n<p>to perform the PT61 transaction in SAP and it'll return a window that has the identifier <code>wndPT61</code> in a Silk4J Object Map.</p>\n\n<p>Sometimes it happens that the window has not been mapped yet. In this case Silk4J causes a <code>RuntimeException</code>. Unfortunately, <code>RuntimeException</code> is used all over the place, i.e. it's not specific.</p>\n\n<p>Is there a way to check the Object Maps for the existence of an identifer, so that I could detect the missing identifier and throw a more specific (custom) exception explaining what to do?</p>\n\n<p>I'd like to do something like this:</p>\n\n<pre><code>if (!desktop.isValidIdentifier(\"wndPT61\")) {\n    throw new Exception(\"According to our naming convention ... etc.\");\n}\n</code></pre>\n\n<p>I have tried:</p>\n\n<ul>\n<li>I have had a look at all methods of <code>Desktop</code>, but IMHO no such method exists. The <code>exists()</code>  method already throws the <code>RuntimeException</code>.</li>\n<li>I have had a look at all methods of <code>Agent</code>, but IMHO no such method exists.</li>\n<li>I don't think such a method should be available at some other class, since desktop and agent are the highest level where a search can be done.</li>\n<li>Of course I can catch the <code>RuntimeException</code> (that's what I do at the moment), but it's not very reliable (since such an exception could have other causes) and I don't want to rely on the exception message.</li>\n</ul>\n"},{"tags":["java","sap-gui","silktest"],"answers":[{"tags":[],"owner":{"account_id":222412,"reputation":55996,"user_id":480982,"accept_rate":83,"display_name":"Thomas Weller"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1434527616,"creation_date":1434527616,"answer_id":30885499,"question_id":30885498,"body_markdown":"The enabled/disabled state is hidden behind the [Changeable property](http://documentation.microfocus.com/help/index.jsp?topic=%2Fcom.borland.silktest.silk4net.doc%2Flangref%2FSAP%2FChangeablePropertySapComponent_ref.html). Since the online documentation is for C#, this maps to `isChangeable()` in Java.\r\n\r\nThe `isChangeable()` does not only get the enabled state for buttons but also for comboboxes, checkboxes and potentially others.\r\n\r\nIMHO the documentation\r\n\r\n&gt; Gets whether an object is changeable. \r\n\r\nis a bit misleading.","title":"Determining whether a button is enabled or disabled (Silk4J)","body":"<p>The enabled/disabled state is hidden behind the <a href=\"http://documentation.microfocus.com/help/index.jsp?topic=%2Fcom.borland.silktest.silk4net.doc%2Flangref%2FSAP%2FChangeablePropertySapComponent_ref.html\" rel=\"nofollow\">Changeable property</a>. Since the online documentation is for C#, this maps to <code>isChangeable()</code> in Java.</p>\n\n<p>The <code>isChangeable()</code> does not only get the enabled state for buttons but also for comboboxes, checkboxes and potentially others.</p>\n\n<p>IMHO the documentation</p>\n\n<blockquote>\n  <p>Gets whether an object is changeable. </p>\n</blockquote>\n\n<p>is a bit misleading.</p>\n"}],"owner":{"account_id":222412,"reputation":55996,"user_id":480982,"accept_rate":83,"display_name":"Thomas Weller"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":242,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":30885499,"answer_count":1,"score":1,"last_activity_date":1688233457,"creation_date":1434527616,"question_id":30885498,"body_markdown":"I am testing a SAP GUI application and I need to find out whether a button is enabled or disabled.\r\n\r\nI have read the [MicroFocus documentation for the SapButton class](http://documentation.microfocus.com/help/index.jsp?topic=%2Fcom.borland.silktest.silk4net.doc%2Flangref%2FSAP%2FSapButtonClass_ref.html), but I can&#39;t find a method like `getEnabled()`, `isEnabled()` or `getDisabled()` or `isDisabled()`.\r\n\r\nHow can I find out whether a button is enabled or disabled?","title":"Determining whether a button is enabled or disabled (Silk4J)","body":"<p>I am testing a SAP GUI application and I need to find out whether a button is enabled or disabled.</p>\n<p>I have read the <a href=\"http://documentation.microfocus.com/help/index.jsp?topic=%2Fcom.borland.silktest.silk4net.doc%2Flangref%2FSAP%2FSapButtonClass_ref.html\" rel=\"nofollow noreferrer\">MicroFocus documentation for the SapButton class</a>, but I can't find a method like <code>getEnabled()</code>, <code>isEnabled()</code> or <code>getDisabled()</code> or <code>isDisabled()</code>.</p>\n<p>How can I find out whether a button is enabled or disabled?</p>\n"},{"tags":["java","sap-gui","silktest"],"comments":[{"owner":{"account_id":2094057,"reputation":506144,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"score":0,"creation_date":1435213642,"post_id":31042664,"comment_id":50108143,"body_markdown":"Can you please tag your question with the language you are using (which I assume is either C# or VB from the documentation link you provided).  Also, give us the code for what you are trying to do.","body":"Can you please tag your question with the language you are using (which I assume is either C# or VB from the documentation link you provided).  Also, give us the code for what you are trying to do."},{"owner":{"account_id":222412,"reputation":55996,"user_id":480982,"accept_rate":83,"display_name":"Thomas Weller"},"score":0,"creation_date":1435214685,"post_id":31042664,"comment_id":50108716,"body_markdown":"@TimBiegeleisen: the question is tagged Java, the term Silk4J is in the question title and text. The link refers to .NET since the Java documentation is not online. I have added code.","body":"@TimBiegeleisen: the question is tagged Java, the term Silk4J is in the question title and text. The link refers to .NET since the Java documentation is not online. I have added code."}],"owner":{"account_id":222412,"reputation":55996,"user_id":480982,"accept_rate":83,"display_name":"Thomas Weller"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1688233373,"creation_date":1435213242,"question_id":31042664,"body_markdown":"In a previous version of our application there was a [SAP GUI SapTextField][1] that allowed too long input. I&#39;d now like to write a test that ensures the maximum input length of the textfield is limited.\r\n\r\nUnfortunately I could not find a way to determine the width of the textfield in characters. The [`getWidth()`][2] method returns the width in pixels, not characters.\r\n\r\nI know that using `setText()` causes a `RuntimeException` when the text is too long for the textfield, but using that as an indicator is dangerous since `RuntimeException` is used for many other problems as well.\r\n\r\nIs there a way to determine the maximum width of a SAP GUI textfield in Silk4J?\r\n\r\nCode that I have today:\r\n\r\n\ttry \r\n\t{\r\n\t\tSapTextField textfield = desktop.&lt;SapTextField&gt;find(&quot;...&quot;);\r\n\t\ttextfield.setText(&quot;1234567&quot;);\r\n\t\tfail(&quot;The textbox should be limited to 6 characters&quot;);\r\n\t}\r\n\tcatch(RuntimeException re)\r\n\t{\r\n\t\t// TODO: find a more reliable way of detecting this\r\n\t}\r\n\r\n[1]: http://documentation.microfocus.com/help/index.jsp?topic=%2Fcom.borland.silktest.silk4net.doc%2Flangref%2FSAP%2FSapTextFieldClass_ref.html\r\n[2]: http://documentation.microfocus.com/help/index.jsp?topic=%2Fcom.borland.silktest.silk4net.doc%2Flangref%2FSAP%2FWidthPropertySapComponent_ref.html","title":"Getting the maximum width of a textfield in Silk4J","body":"<p>In a previous version of our application there was a <a href=\"http://documentation.microfocus.com/help/index.jsp?topic=%2Fcom.borland.silktest.silk4net.doc%2Flangref%2FSAP%2FSapTextFieldClass_ref.html\" rel=\"nofollow noreferrer\">SAP GUI SapTextField</a> that allowed too long input. I'd now like to write a test that ensures the maximum input length of the textfield is limited.</p>\n<p>Unfortunately I could not find a way to determine the width of the textfield in characters. The <a href=\"http://documentation.microfocus.com/help/index.jsp?topic=%2Fcom.borland.silktest.silk4net.doc%2Flangref%2FSAP%2FWidthPropertySapComponent_ref.html\" rel=\"nofollow noreferrer\"><code>getWidth()</code></a> method returns the width in pixels, not characters.</p>\n<p>I know that using <code>setText()</code> causes a <code>RuntimeException</code> when the text is too long for the textfield, but using that as an indicator is dangerous since <code>RuntimeException</code> is used for many other problems as well.</p>\n<p>Is there a way to determine the maximum width of a SAP GUI textfield in Silk4J?</p>\n<p>Code that I have today:</p>\n<pre><code>try \n{\n    SapTextField textfield = desktop.&lt;SapTextField&gt;find(&quot;...&quot;);\n    textfield.setText(&quot;1234567&quot;);\n    fail(&quot;The textbox should be limited to 6 characters&quot;);\n}\ncatch(RuntimeException re)\n{\n    // TODO: find a more reliable way of detecting this\n}\n</code></pre>\n"},{"tags":["java","toolbar","sap-gui","silktest"],"answers":[{"tags":[],"owner":{"account_id":222412,"reputation":55996,"user_id":480982,"accept_rate":83,"display_name":"Thomas Weller"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1435050073,"creation_date":1435050073,"answer_id":30998334,"question_id":30998333,"body_markdown":"The SAP automation API provides a method called `GetButtonId` which is not implemented by Silk4J. The method takes the position of the button within the toolbar as input.\r\n\r\nYou can invoke the method yourself with the following code:\r\n\r\n    public String getButtonId(SapToolbarControl toolbar, int position)\r\n    {\r\n        Object[] params = new Object[1];\r\n        params[0] = position;\r\n        Object buttonId = toolbar.invoke(&quot;GetButtonId&quot;, params);\r\n        return (String) buttonId;\r\n    }","title":"How to get the button ID of a button in SapToolbarControl?","body":"<p>The SAP automation API provides a method called <code>GetButtonId</code> which is not implemented by Silk4J. The method takes the position of the button within the toolbar as input.</p>\n\n<p>You can invoke the method yourself with the following code:</p>\n\n<pre><code>public String getButtonId(SapToolbarControl toolbar, int position)\n{\n    Object[] params = new Object[1];\n    params[0] = position;\n    Object buttonId = toolbar.invoke(\"GetButtonId\", params);\n    return (String) buttonId;\n}\n</code></pre>\n"}],"owner":{"account_id":222412,"reputation":55996,"user_id":480982,"accept_rate":83,"display_name":"Thomas Weller"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":547,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":30998334,"answer_count":1,"score":0,"last_activity_date":1688233319,"creation_date":1435050073,"question_id":30998333,"body_markdown":"I have a [SapToolbarControl (MicroFocus)](http://documentation.microfocus.com/help/index.jsp?topic=%2Fcom.borland.silktest.silk4net.doc%2Flangref%2FSAP%2FSapToolbarControlClass_ref.html) and I want to press a button of that toolbar. \r\n\r\nHowever, any of the methods [`selectButton()`](http://documentation.microfocus.com/help/index.jsp?topic=%2Fcom.borland.silktest.silk4net.doc%2Flangref%2FSAP%2FSelectButtonMethodSapToolbarControl_ref.html), [`selectContextButton()`](http://documentation.microfocus.com/help/index.jsp?topic=%2Fcom.borland.silktest.silk4net.doc%2Flangref%2FSAP%2FSelectContextButtonMethodSapToolbarControl_ref.html) or [`pressContextButton()`](http://documentation.microfocus.com/help/index.jsp?topic=%2Fcom.borland.silktest.silk4net.doc%2Flangref%2FSAP%2FPressContextButtonMethodSapToolbarControl_ref.html) require a parameter called `id` of type `String`. \r\n\r\nI was unable to find out where to get the ID from.\r\n\r\nI am using Silk4J 16 Hotfix 2 in Eclipse Luna. This also happens in Silk4J 15.5.","title":"How to get the button ID of a button in SapToolbarControl?","body":"<p>I have a <a href=\"http://documentation.microfocus.com/help/index.jsp?topic=%2Fcom.borland.silktest.silk4net.doc%2Flangref%2FSAP%2FSapToolbarControlClass_ref.html\" rel=\"nofollow\">SapToolbarControl (MicroFocus)</a> and I want to press a button of that toolbar. </p>\n\n<p>However, any of the methods <a href=\"http://documentation.microfocus.com/help/index.jsp?topic=%2Fcom.borland.silktest.silk4net.doc%2Flangref%2FSAP%2FSelectButtonMethodSapToolbarControl_ref.html\" rel=\"nofollow\"><code>selectButton()</code></a>, <a href=\"http://documentation.microfocus.com/help/index.jsp?topic=%2Fcom.borland.silktest.silk4net.doc%2Flangref%2FSAP%2FSelectContextButtonMethodSapToolbarControl_ref.html\" rel=\"nofollow\"><code>selectContextButton()</code></a> or <a href=\"http://documentation.microfocus.com/help/index.jsp?topic=%2Fcom.borland.silktest.silk4net.doc%2Flangref%2FSAP%2FPressContextButtonMethodSapToolbarControl_ref.html\" rel=\"nofollow\"><code>pressContextButton()</code></a> require a parameter called <code>id</code> of type <code>String</code>. </p>\n\n<p>I was unable to find out where to get the ID from.</p>\n\n<p>I am using Silk4J 16 Hotfix 2 in Eclipse Luna. This also happens in Silk4J 15.5.</p>\n"},{"tags":["java","intellij-idea","java-9"],"comments":[{"owner":{"account_id":2839907,"reputation":4214,"user_id":2439721,"display_name":"Vladimir Petrakovich"},"score":0,"creation_date":1478443231,"post_id":40448344,"comment_id":68146486,"body_markdown":"You can change compiler settings in Settings -&gt; Build, Execution, Deployment -&gt; Compiler -&gt; Java Compiler.","body":"You can change compiler settings in Settings -&gt; Build, Execution, Deployment -&gt; Compiler -&gt; Java Compiler."},{"owner":{"account_id":2557553,"reputation":3975,"user_id":2219213,"accept_rate":69,"display_name":"Sergii Getman"},"score":0,"creation_date":1478443367,"post_id":40448344,"comment_id":68146530,"body_markdown":"@fRoStBiT i know about this option - but now success with it- still `Error:java: invalid flag: -release`","body":"@fRoStBiT i know about this option - but now success with it- still <code>Error:java: invalid flag: -release</code>"},{"owner":{"account_id":2839907,"reputation":4214,"user_id":2439721,"display_name":"Vladimir Petrakovich"},"score":0,"creation_date":1478443561,"post_id":40448344,"comment_id":68146595,"body_markdown":"Have you tried to use Eclipse Compiler?","body":"Have you tried to use Eclipse Compiler?"},{"owner":{"account_id":2557553,"reputation":3975,"user_id":2219213,"accept_rate":69,"display_name":"Sergii Getman"},"score":1,"creation_date":1478443635,"post_id":40448344,"comment_id":68146616,"body_markdown":"Got weird NPE in case of Eclipse Compiler","body":"Got weird NPE in case of Eclipse Compiler"},{"owner":{"account_id":2973802,"reputation":48688,"user_id":2525313,"accept_rate":88,"display_name":"Nicolai Parlog"},"score":0,"creation_date":1478460847,"post_id":40448344,"comment_id":68152651,"body_markdown":"Have you tried 2016.3 (currently in Public Preview)?","body":"Have you tried 2016.3 (currently in Public Preview)?"},{"owner":{"account_id":2557553,"reputation":3975,"user_id":2219213,"accept_rate":69,"display_name":"Sergii Getman"},"score":0,"creation_date":1478461047,"post_id":40448344,"comment_id":68152707,"body_markdown":"@NicolaiParlog just have downloaded IDEA today and it was 2016.2.5","body":"@NicolaiParlog just have downloaded IDEA today and it was 2016.2.5"},{"owner":{"account_id":2973802,"reputation":48688,"user_id":2525313,"accept_rate":88,"display_name":"Nicolai Parlog"},"score":0,"creation_date":1478501553,"post_id":40448344,"comment_id":68163788,"body_markdown":"Java 9 support is cutting edge so maybe it&#39;s better in the coming version - why not [give it a try](https://www.jetbrains.com/idea/nextversion/)?","body":"Java 9 support is cutting edge so maybe it&#39;s better in the coming version - why not <a href=\"https://www.jetbrains.com/idea/nextversion/\" rel=\"nofollow noreferrer\">give it a try</a>?"},{"owner":{"account_id":2557553,"reputation":3975,"user_id":2219213,"accept_rate":69,"display_name":"Sergii Getman"},"score":0,"creation_date":1478504680,"post_id":40448344,"comment_id":68165185,"body_markdown":"@NicolaiParlog now it works correct! thanks! I even don&#39;t have to specify `--module-path` in compiler = ) btw IDEA doesn&#39;t recognize `java.lang` classes automatically, but compilation is success. Could you present you tip as an answer to allow me mark it as correct and close question?","body":"@NicolaiParlog now it works correct! thanks! I even don&#39;t have to specify <code>--module-path</code> in compiler = ) btw IDEA doesn&#39;t recognize <code>java.lang</code> classes automatically, but compilation is success. Could you present you tip as an answer to allow me mark it as correct and close question?"}],"answers":[{"comments":[{"owner":{"account_id":95716,"reputation":6589,"user_id":260516,"accept_rate":63,"display_name":"Jesse Barnum"},"score":3,"creation_date":1510353112,"post_id":40463482,"comment_id":81415049,"body_markdown":"I&#39;m running IntelliJ 2017.1.3 and getting the same error.","body":"I&#39;m running IntelliJ 2017.1.3 and getting the same error."},{"owner":{"account_id":4483663,"reputation":12326,"user_id":3647002,"accept_rate":47,"display_name":"Gayan Weerakutti"},"score":0,"creation_date":1520354683,"post_id":40463482,"comment_id":85276670,"body_markdown":"Try version `2017.3.4` or above.","body":"Try version <code>2017.3.4</code> or above."},{"owner":{"account_id":3116542,"reputation":1299,"user_id":3450840,"accept_rate":56,"display_name":"Florian F"},"score":0,"creation_date":1695387513,"post_id":40463482,"comment_id":136021453,"body_markdown":"I&#39;m runningIntelliJ 2023.2.1 and getting the same error.","body":"I&#39;m runningIntelliJ 2023.2.1 and getting the same error."}],"tags":[],"owner":{"account_id":2973802,"reputation":48688,"user_id":2525313,"accept_rate":88,"display_name":"Nicolai Parlog"},"comment_count":3,"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1478516235,"creation_date":1478516235,"answer_id":40463482,"question_id":40448344,"body_markdown":"Java 9 support is cutting edge and should be tried with the most current version. At the moment, this is the public preview of 2016.3, [available here](https://www.jetbrains.com/idea/nextversion/).","title":"Error:java: invalid flag: -release","body":"<p>Java 9 support is cutting edge and should be tried with the most current version. At the moment, this is the public preview of 2016.3, <a href=\"https://www.jetbrains.com/idea/nextversion/\" rel=\"noreferrer\">available here</a>.</p>\n"},{"tags":[],"owner":{"account_id":12230154,"reputation":81,"user_id":8926440,"display_name":"Dunx"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1510470320,"creation_date":1510454876,"answer_id":47244964,"question_id":40448344,"body_markdown":"Had exactly the same `Error:java: invalid flag: -release` in Intellij 2017.1. Updating to 2017.2.5 resolves the issue.","title":"Error:java: invalid flag: -release","body":"<p>Had exactly the same <code>Error:java: invalid flag: -release</code> in Intellij 2017.1. Updating to 2017.2.5 resolves the issue.</p>\n"},{"tags":[],"owner":{"account_id":3906943,"reputation":7869,"user_id":3233388,"accept_rate":89,"display_name":"Adelin"},"comment_count":0,"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1516023998,"creation_date":1516023998,"answer_id":48264273,"question_id":40448344,"body_markdown":"As specified in [this intellij thread](https://intellij-support.jetbrains.com/hc/en-us/community/posts/203361044-2016-3-does-not-work-with-jdk9-b135-java-compiler) you can workaround it by setting the project SDK language level to x - Experimental Features\r\n\r\n&lt;img src=&quot;http://i.stack.imgur.com/ZL0x7.png&quot;&gt;","title":"Error:java: invalid flag: -release","body":"<p>As specified in <a href=\"https://intellij-support.jetbrains.com/hc/en-us/community/posts/203361044-2016-3-does-not-work-with-jdk9-b135-java-compiler\" rel=\"nofollow noreferrer\">this intellij thread</a> you can workaround it by setting the project SDK language level to x - Experimental Features</p>\n\n<p><img src=\"https://i.stack.imgur.com/ZL0x7.png\"></p>\n"},{"tags":[],"owner":{"account_id":1431276,"reputation":1922,"user_id":1353658,"accept_rate":69,"display_name":"Etibar - a tea bar"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1519296221,"creation_date":1519296221,"answer_id":48925378,"question_id":40448344,"body_markdown":"I had the same problem with IntelliJ IDEA Version 2017.1.3\r\n\r\nUpdated IntelliJ to Version: **2017.3.4** and with the latest version it works fine.","title":"Error:java: invalid flag: -release","body":"<p>I had the same problem with IntelliJ IDEA Version 2017.1.3</p>\n\n<p>Updated IntelliJ to Version: <strong>2017.3.4</strong> and with the latest version it works fine.</p>\n"},{"comments":[{"owner":{"account_id":6062499,"reputation":1290,"user_id":4733879,"display_name":"Filnor"},"score":0,"creation_date":1520889419,"post_id":49240927,"comment_id":85493005,"body_markdown":"Can you explain that further (if needed with reference)? Right now, your answer is very broad.","body":"Can you explain that further (if needed with reference)? Right now, your answer is very broad."},{"owner":{"account_id":213792,"reputation":4694,"user_id":467379,"accept_rate":75,"display_name":"ncmathsadist"},"score":0,"creation_date":1576179554,"post_id":49240927,"comment_id":104825262,"body_markdown":"He is right; if you have java 11 and javafx8, you can well run into problems.","body":"He is right; if you have java 11 and javafx8, you can well run into problems."},{"owner":{"account_id":16317937,"reputation":229,"user_id":11784490,"display_name":"Donnie"},"score":0,"creation_date":1635495489,"post_id":49240927,"comment_id":123318865,"body_markdown":"The error appear when on pom: &lt;properties&gt;&lt;java.version&gt;11&lt;/..&gt; but JAVA_HOME points to jdk 1.8","body":"The error appear when on pom: &lt;properties&gt;&lt;java.version&gt;11&lt;/..&gt; but JAVA_HOME points to jdk 1.8"}],"tags":[],"owner":{"account_id":468349,"reputation":16729,"user_id":874275,"accept_rate":75,"display_name":"Bohdan"},"comment_count":3,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1520874805,"creation_date":1520874805,"answer_id":49240927,"question_id":40448344,"body_markdown":"Can be caused by mismatch of java version on build configuration and module settings.","title":"Error:java: invalid flag: -release","body":"<p>Can be caused by mismatch of java version on build configuration and module settings.</p>\n"},{"comments":[{"owner":{"account_id":1735730,"reputation":1154,"user_id":1684254,"display_name":"Akin Okegbile"},"score":0,"creation_date":1532980869,"post_id":49905417,"comment_id":90169029,"body_markdown":"I Had to do the opposite, check the option, select project bytecode version 9.","body":"I Had to do the opposite, check the option, select project bytecode version 9."}],"tags":[],"owner":{"account_id":298276,"reputation":4634,"user_id":604218,"display_name":"Roberto"},"comment_count":1,"down_vote_count":0,"up_vote_count":31,"is_accepted":false,"score":31,"last_activity_date":1524071577,"creation_date":1524071577,"answer_id":49905417,"question_id":40448344,"body_markdown":"I was using Java 8 and Intellij 2018.1.1\r\n\r\nI solved the issue in this way:\r\n\r\n - open IntelliJ Idea settings \r\n - navigate to **Build, Execution, Deployment** &gt; **Compiler** &gt; **Java Compiler**\r\n - Uncheck the option: `Use &#39;--release&#39; option for cross-compilation (Java 9 and later)`\r\n\r\n[![Intellij Settings][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/nevNo.png","title":"Error:java: invalid flag: -release","body":"<p>I was using Java 8 and Intellij 2018.1.1</p>\n\n<p>I solved the issue in this way:</p>\n\n<ul>\n<li>open IntelliJ Idea settings </li>\n<li>navigate to <strong>Build, Execution, Deployment</strong> > <strong>Compiler</strong> > <strong>Java Compiler</strong></li>\n<li>Uncheck the option: <code>Use '--release' option for cross-compilation (Java 9 and later)</code></li>\n</ul>\n\n<p><a href=\"https://i.stack.imgur.com/nevNo.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/nevNo.png\" alt=\"Intellij Settings\"></a></p>\n"},{"tags":[],"owner":{"account_id":13947206,"reputation":51,"user_id":10071670,"display_name":"Kumar Vaduganathan"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1568758310,"creation_date":1568750686,"answer_id":57981343,"question_id":40448344,"body_markdown":"Remove `--warning-mode=all` (File -&gt; Setting -&gt; Build, Execution, Deployment -&gt; Java Compiler\r\n\r\nViewImage:  \r\n[![ViewImage][1]][1]\r\n\r\n  [1]: https://i.stack.imgur.com/uNmYw.png","title":"Error:java: invalid flag: -release","body":"<p>Remove <code>--warning-mode=all</code> (File -> Setting -> Build, Execution, Deployment -> Java Compiler</p>\n\n<p>ViewImage:<br>\n<a href=\"https://i.stack.imgur.com/uNmYw.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/uNmYw.png\" alt=\"ViewImage\"></a></p>\n"},{"tags":[],"owner":{"account_id":7906665,"reputation":21,"user_id":5971942,"display_name":"Narendra"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1581335562,"creation_date":1581335195,"answer_id":60149749,"question_id":40448344,"body_markdown":"You can check the JDK version, if its less than JDK8, upgrade and try again. It solved my issue.","title":"Error:java: invalid flag: -release","body":"<p>You can check the JDK version, if its less than JDK8, upgrade and try again. It solved my issue.</p>\n"},{"tags":[],"owner":{"account_id":8413328,"reputation":21,"user_id":6314526,"display_name":"Сергей Цымбалов"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1653254702,"creation_date":1652889533,"answer_id":72292458,"question_id":40448344,"body_markdown":"Remove the `release` tag in configuration of maven-compiler-plugin\r\n\r\n\t    &lt;plugin&gt;\r\n\t\t\t&lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.8.0&lt;/version&gt;\r\n\t\t\t&lt;configuration&gt;\r\n                ... #here\r\n\t\t\t\t&lt;source&gt;1.8&lt;/source&gt;\r\n\t\t\t\t&lt;target&gt;1.8&lt;/target&gt;\r\n\t\t\t&lt;/configuration&gt;\r\n\t\t&lt;/plugin&gt;","title":"Error:java: invalid flag: -release","body":"<p>Remove the <code>release</code> tag in configuration of maven-compiler-plugin</p>\n<pre><code>    &lt;plugin&gt;\n        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n        &lt;version&gt;3.8.0&lt;/version&gt;\n        &lt;configuration&gt;\n            ... #here\n            &lt;source&gt;1.8&lt;/source&gt;\n            &lt;target&gt;1.8&lt;/target&gt;\n        &lt;/configuration&gt;\n    &lt;/plugin&gt;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1662066579,"post_id":73513525,"comment_id":129926905,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/73513525/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":13096869,"reputation":17,"user_id":9462554,"display_name":"Mahmud Dehkordi"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1661625528,"creation_date":1661625528,"answer_id":73513525,"question_id":40448344,"body_markdown":"--release is a new option in JDK &gt;= 9 versions","title":"Error:java: invalid flag: -release","body":"<p>--release is a new option in JDK &gt;= 9 versions</p>\n"},{"tags":[],"owner":{"account_id":175037,"reputation":451,"user_id":404750,"display_name":"blackstrype"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1662641300,"creation_date":1662641300,"answer_id":73649353,"question_id":40448344,"body_markdown":"For me, the problem cleared once I set my environment variable \r\n`JAVA_HOME=%JAVA_HOME_8%`\r\n\r\n(Note: `JAVA_HOME_8` and `JAVA_HOME_11` are env variables that I&#39;ve created myself to point to their respective versions and easily switch between). Maven (i&#39;m using 3.8.6) seems to point the jdk using the JAVA_HOME environment variable. So even if the IDE and the pom is properly configured, depending on how your compiler/build/run plugins are setup, maven may still manage to feed off of the JAVA_HOME variable)\r\n\r\nI&#39;ve also done the following:\r\n\r\n- Modify the pom with java.version as &quot;8&quot;\r\n- Modify the project sdk to 1.8 (via project structure dialog)\r\n- uncheck the cross-compliation flag as mentioned in the primary solution.","title":"Error:java: invalid flag: -release","body":"<p>For me, the problem cleared once I set my environment variable\n<code>JAVA_HOME=%JAVA_HOME_8%</code></p>\n<p>(Note: <code>JAVA_HOME_8</code> and <code>JAVA_HOME_11</code> are env variables that I've created myself to point to their respective versions and easily switch between). Maven (i'm using 3.8.6) seems to point the jdk using the JAVA_HOME environment variable. So even if the IDE and the pom is properly configured, depending on how your compiler/build/run plugins are setup, maven may still manage to feed off of the JAVA_HOME variable)</p>\n<p>I've also done the following:</p>\n<ul>\n<li>Modify the pom with java.version as &quot;8&quot;</li>\n<li>Modify the project sdk to 1.8 (via project structure dialog)</li>\n<li>uncheck the cross-compliation flag as mentioned in the primary solution.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":5885632,"reputation":604,"user_id":4633735,"display_name":"Hemanth Gowda"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1673559748,"creation_date":1673559748,"answer_id":75102597,"question_id":40448344,"body_markdown":"This is valid only if you&#39;re using Gradle(Not maven). Changing the Gradle JVM to Java 11 matching my $JAVA_HOME value worked for me.\r\n\r\n\r\n[![Gradle preferences][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/UZ26E.png","title":"Error:java: invalid flag: -release","body":"<p>This is valid only if you're using Gradle(Not maven). Changing the Gradle JVM to Java 11 matching my $JAVA_HOME value worked for me.</p>\n<p><a href=\"https://i.stack.imgur.com/UZ26E.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/UZ26E.png\" alt=\"Gradle preferences\" /></a></p>\n"},{"tags":[],"owner":{"account_id":20923997,"reputation":31,"user_id":15371888,"display_name":"fons-000"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1679910601,"creation_date":1679910601,"answer_id":75854303,"question_id":40448344,"body_markdown":"The -release flag is for JDK 9 and above. Please view the article from Baeldung.com: [Set the Java version in .pom file from project/Setting the Java Version in Maven][1], the answer is based on this article.\r\n\r\nPersonally I have the following versions active.\r\n\r\nMaven\r\n-----\r\nApache Maven 3.3.9\r\n\r\nJava\r\n-----\r\njdk1.8.0_202, version 1.8.0_202, vendor: Oracle Corporation\r\n\r\nIntelliJ\r\n-----\r\nIntelliJ IDEA 2022.3.1 (Ultimate Edition)\r\n\r\nIn my case, I wanted to compile a library project to Java version 8, so I changed the source and target to 1.8. If you have a higher version of Java active on your computer, you should be able to build lower Java version projects as long as you specifically specify it in the .pom file of the project.\r\n\r\nNote: &quot;What&#39;s more, we don&#39;t need a JDK 7 installed in our machine. Java 9 already contains all the information for linking the new language features with JDK 7&quot; from [Set the Java version in .pom file from project/Setting the Java Version in Maven][1].\r\n\r\n1. Set maven.compiler.source and maven.compiler.target project properties to the Java version you want the classes to compile to: [![enter image description here][2]][2]\r\n\r\n2. Set the maven-compiler-plugin source and target to Java 8 (you can also use the ${maven.compiler.source} and ${maven.compiler.source} as the version). [![enter image description here][3]][3]\r\n\r\n  [1]: https://www.baeldung.com/maven-java-version\r\n  [2]: https://i.stack.imgur.com/rTeNv.jpg\r\n  [3]: https://i.stack.imgur.com/U7bej.jpg\r\n\r\nThis should fix the error, assuming you are using a working Java JDK with proper support.","title":"Error:java: invalid flag: -release","body":"<p>The -release flag is for JDK 9 and above. Please view the article from Baeldung.com: <a href=\"https://www.baeldung.com/maven-java-version\" rel=\"nofollow noreferrer\">Set the Java version in .pom file from project/Setting the Java Version in Maven</a>, the answer is based on this article.</p>\n<p>Personally I have the following versions active.</p>\n<h2>Maven</h2>\n<p>Apache Maven 3.3.9</p>\n<h2>Java</h2>\n<p>jdk1.8.0_202, version 1.8.0_202, vendor: Oracle Corporation</p>\n<h2>IntelliJ</h2>\n<p>IntelliJ IDEA 2022.3.1 (Ultimate Edition)</p>\n<p>In my case, I wanted to compile a library project to Java version 8, so I changed the source and target to 1.8. If you have a higher version of Java active on your computer, you should be able to build lower Java version projects as long as you specifically specify it in the .pom file of the project.</p>\n<p>Note: &quot;What's more, we don't need a JDK 7 installed in our machine. Java 9 already contains all the information for linking the new language features with JDK 7&quot; from <a href=\"https://www.baeldung.com/maven-java-version\" rel=\"nofollow noreferrer\">Set the Java version in .pom file from project/Setting the Java Version in Maven</a>.</p>\n<ol>\n<li><p>Set maven.compiler.source and maven.compiler.target project properties to the Java version you want the classes to compile to: <a href=\"https://i.stack.imgur.com/rTeNv.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/rTeNv.jpg\" alt=\"enter image description here\" /></a></p>\n</li>\n<li><p>Set the maven-compiler-plugin source and target to Java 8 (you can also use the ${maven.compiler.source} and ${maven.compiler.source} as the version). <a href=\"https://i.stack.imgur.com/U7bej.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/U7bej.jpg\" alt=\"enter image description here\" /></a></p>\n</li>\n</ol>\n<p>This should fix the error, assuming you are using a working Java JDK with proper support.</p>\n"},{"tags":[],"owner":{"account_id":28785845,"reputation":11,"user_id":22046326,"display_name":"Premchandra"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1686296083,"creation_date":1686296083,"answer_id":76438142,"question_id":40448344,"body_markdown":"This issue also occurs when java version used to build is not compatible with spring boot version, as for example spring boot version 3.1.0 requires java 17.If project is created with spring boot version 3.1.0 and later in pom.xml java version is downgraded to 1.8 or 11 to build with 1.8 or 11 respectively then you will get this error. So to avoid this create your project with lower spring boot version which supports your java version","title":"Error:java: invalid flag: -release","body":"<p>This issue also occurs when java version used to build is not compatible with spring boot version, as for example spring boot version 3.1.0 requires java 17.If project is created with spring boot version 3.1.0 and later in pom.xml java version is downgraded to 1.8 or 11 to build with 1.8 or 11 respectively then you will get this error. So to avoid this create your project with lower spring boot version which supports your java version</p>\n"}],"owner":{"account_id":2557553,"reputation":3975,"user_id":2219213,"accept_rate":69,"display_name":"Sergii Getman"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":83819,"favorite_count":0,"down_vote_count":0,"up_vote_count":35,"accepted_answer_id":40463482,"answer_count":14,"score":35,"last_activity_date":1688233222,"creation_date":1478428685,"question_id":40448344,"body_markdown":"I use **Java** :\r\n\r\n    Java(TM) SE Runtime Environment (build 9-ea+143) Java HotSpot(TM) 64-\r\n    Bit Server VM (build 9-ea+143, mixed mode)\r\n\r\nand **IntelliJ IDEA**:\r\n\r\n    IntelliJ IDEA 2016.2.5 Build #IU-162.2228.15, built on October 14,\r\n    2016\r\n\r\n**Get error when compiling:** \r\n\r\n    Error:java: invalid flag: -release\r\n\r\nExecuting `javac -help` :\r\n\r\n    --release &lt;release&gt;\r\n            Compile for a specific VM version. Supported targets: 6, 7, 8, 9\r\n\r\nSo `javac` should use two hyphens with *release*, but Intellij Idea use with one.\r\n\r\nCan I override `javac` options that IDEA use or fix it in some way? \r\n\r\nUPD: Even ***Build, Execution, Deployment &gt; Compiler &gt; Java Compiler*** Additional Command Line Parameter doesn&#39;t help in this case\r\n\r\n","title":"Error:java: invalid flag: -release","body":"<p>I use <strong>Java</strong> :</p>\n\n<pre><code>Java(TM) SE Runtime Environment (build 9-ea+143) Java HotSpot(TM) 64-\nBit Server VM (build 9-ea+143, mixed mode)\n</code></pre>\n\n<p>and <strong>IntelliJ IDEA</strong>:</p>\n\n<pre><code>IntelliJ IDEA 2016.2.5 Build #IU-162.2228.15, built on October 14,\n2016\n</code></pre>\n\n<p><strong>Get error when compiling:</strong> </p>\n\n<pre><code>Error:java: invalid flag: -release\n</code></pre>\n\n<p>Executing <code>javac -help</code> :</p>\n\n<pre><code>--release &lt;release&gt;\n        Compile for a specific VM version. Supported targets: 6, 7, 8, 9\n</code></pre>\n\n<p>So <code>javac</code> should use two hyphens with <em>release</em>, but Intellij Idea use with one.</p>\n\n<p>Can I override <code>javac</code> options that IDEA use or fix it in some way? </p>\n\n<p>UPD: Even <strong><em>Build, Execution, Deployment > Compiler > Java Compiler</em></strong> Additional Command Line Parameter doesn't help in this case</p>\n"},{"tags":["java","jakarta-ee","abap","netweaver","sap-xi"],"answers":[{"tags":[],"owner":{"display_name":"user235064"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1336824450,"creation_date":1336824450,"answer_id":10563579,"question_id":10557572,"body_markdown":"you have multiple options:\r\n\r\n - use [SAP Business Connector][1]\r\n - use [SAP JCO][2] to call SAP RFC Functions from java\r\n - create SOAP Webservices in SAP and consume them from java\r\n\r\nI really recommend the webservices way.\r\n\r\n\r\n  [1]: http://help.sap.com/saphelp_dm40/helpdata/en/6f/1bd5c2a85b11d6b28500508b5d5211/content.htm\r\n  [2]: http://help.sap.com/saphelp_nw04/helpdata/en/6f/1bd5c6a85b11d6b28500508b5d5211/content.htm","title":"How to communicate with a SAP application from JAVA","body":"<p>you have multiple options:</p>\n\n<ul>\n<li>use <a href=\"http://help.sap.com/saphelp_dm40/helpdata/en/6f/1bd5c2a85b11d6b28500508b5d5211/content.htm\" rel=\"noreferrer\">SAP Business Connector</a></li>\n<li>use <a href=\"http://help.sap.com/saphelp_nw04/helpdata/en/6f/1bd5c6a85b11d6b28500508b5d5211/content.htm\" rel=\"noreferrer\">SAP JCO</a> to call SAP RFC Functions from java</li>\n<li>create SOAP Webservices in SAP and consume them from java</li>\n</ul>\n\n<p>I really recommend the webservices way.</p>\n"},{"tags":[],"owner":{"account_id":1487464,"reputation":66,"user_id":1395378,"display_name":"Adam"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1385395140,"creation_date":1337064436,"answer_id":10595484,"question_id":10557572,"body_markdown":"I recommend you to use JCO library to call RFC functions in SAP, it&#39;s the easiest way to fetch and store data in SAP from a programmer&#39;s perspective.\r\n\r\nWebservices in enabled from ECC5 version, every function module can be wapped as a Webservice interface. However, it&#39;s hard to map and parse structures or internal tables in SAP as wsdl file. When you get a error on calling Webservices from sap, you will spend a lot of time to find the root cause.","title":"How to communicate with a SAP application from JAVA","body":"<p>I recommend you to use JCO library to call RFC functions in SAP, it's the easiest way to fetch and store data in SAP from a programmer's perspective.</p>\n\n<p>Webservices in enabled from ECC5 version, every function module can be wapped as a Webservice interface. However, it's hard to map and parse structures or internal tables in SAP as wsdl file. When you get a error on calling Webservices from sap, you will spend a lot of time to find the root cause.</p>\n"},{"comments":[{"owner":{"account_id":6717092,"reputation":767,"user_id":5178586,"accept_rate":22,"display_name":"JAVA_CAT"},"score":0,"creation_date":1626852305,"post_id":51771191,"comment_id":120999454,"body_markdown":"I am not able to access the site given in the post. ie  Hibersap (http://hibersap.org/).","body":"I am not able to access the site given in the post. ie  Hibersap (<a href=\"http://hibersap.org/\" rel=\"nofollow noreferrer\">hibersap.org</a>)."},{"owner":{"account_id":6145979,"reputation":1637,"user_id":4791954,"display_name":"Andr&#233; R."},"score":1,"creation_date":1699615230,"post_id":51771191,"comment_id":136557308,"body_markdown":"i just tried to access the url i mentioned in the answer ... it still works. probably a temporary glitch.","body":"i just tried to access the url i mentioned in the answer ... it still works. probably a temporary glitch."}],"tags":[],"owner":{"account_id":6145979,"reputation":1637,"user_id":4791954,"display_name":"Andr&#233; R."},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1533829500,"creation_date":1533829500,"answer_id":51771191,"question_id":10557572,"body_markdown":"i know this question is really old, but maybe this might help someone out there so i post this.\r\n\r\ni definetly recommend to have a look at ***Hibersap*** (http://hibersap.org/).\r\nit&#39;s an opensource library that let&#39;s you declare the SAP-Functions you&#39;d like to call using plain Java Classes and Annotations and provides a clean API to actually call those Functions. \r\nit&#39;s quite well documented as well.\r\n\r\n","title":"How to communicate with a SAP application from JAVA","body":"<p>i know this question is really old, but maybe this might help someone out there so i post this.</p>\n\n<p>i definetly recommend to have a look at <strong><em>Hibersap</em></strong> (<a href=\"http://hibersap.org/\" rel=\"nofollow noreferrer\">http://hibersap.org/</a>).\nit's an opensource library that let's you declare the SAP-Functions you'd like to call using plain Java Classes and Annotations and provides a clean API to actually call those Functions. \nit's quite well documented as well.</p>\n"}],"owner":{"account_id":1283812,"reputation":1614,"user_id":1237296,"accept_rate":74,"display_name":"Anil Kumar C"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7663,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":10563579,"answer_count":3,"score":5,"last_activity_date":1688233054,"creation_date":1336765164,"question_id":10557572,"body_markdown":"we are planning to integrate our Sales and Distribution module to SAP application. We need to store the Sales information in a SAP application.\r\n\r\nwe are migrating the existing data using `Exchange Infrastructure/ BDC` of SAP to load sales module existing data.\r\n\r\nNow our challenge is how to continuously interact with SAP from JAVA to store and retrieve data from the sales module?\r\n\r\nIs there any tools available to communicate with SAP from java.\r\n\r\nThanks,&lt;br&gt;\r\nAnil Kumar C  ","title":"How to communicate with a SAP application from JAVA","body":"<p>we are planning to integrate our Sales and Distribution module to SAP application. We need to store the Sales information in a SAP application.</p>\n\n<p>we are migrating the existing data using <code>Exchange Infrastructure/ BDC</code> of SAP to load sales module existing data.</p>\n\n<p>Now our challenge is how to continuously interact with SAP from JAVA to store and retrieve data from the sales module?</p>\n\n<p>Is there any tools available to communicate with SAP from java.</p>\n\n<p>Thanks,<br>\nAnil Kumar C  </p>\n"},{"tags":["java","bmp","imagedata"],"answers":[{"comments":[{"owner":{"account_id":22394789,"reputation":1382,"user_id":16606223,"display_name":"Yahor Barkouski"},"score":0,"creation_date":1688753956,"post_id":76595431,"comment_id":135121143,"body_markdown":"I hope that helped you @xueling","body":"I hope that helped you @xueling"}],"tags":[],"owner":{"account_id":22394789,"reputation":1382,"user_id":16606223,"display_name":"Yahor Barkouski"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688226182,"creation_date":1688226182,"answer_id":76595431,"question_id":76595237,"body_markdown":"SWT&#39;s `ImageLoader` does not support saving images in BMP format directly, so\r\nif you need to save an image in BMP, you can use Java&#39;s built-in `ImageIO` class, like:\r\n```java\r\ntry {\r\n    BufferedImage image = ImageIO.read(new File(&quot;input.jpg&quot;));\r\n    ImageIO.write(image, &quot;bmp&quot;, new File(&quot;output.bmp&quot;));\r\n} catch (IOException e) {\r\n    e.printStackTrace();\r\n}\r\n```","title":"How to output ImageData as a BMP image in Java","body":"<p>SWT's <code>ImageLoader</code> does not support saving images in BMP format directly, so\nif you need to save an image in BMP, you can use Java's built-in <code>ImageIO</code> class, like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>try {\n    BufferedImage image = ImageIO.read(new File(&quot;input.jpg&quot;));\n    ImageIO.write(image, &quot;bmp&quot;, new File(&quot;output.bmp&quot;));\n} catch (IOException e) {\n    e.printStackTrace();\n}\n</code></pre>\n"}],"owner":{"account_id":28930931,"reputation":9,"user_id":22159672,"display_name":"xueling"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1688232879,"creation_date":1688223321,"question_id":76595237,"body_markdown":"How to output `ImageData` as a BMP image in Java?\r\n\r\nI used this code:\r\n\r\n    ImageLoader imageLoader = new ImageLoader();\r\n    imageLoader.save(&quot;output.bmp&quot;, ImageLoader.TYPE_BMP, new ImageData[]{imageData});\r\n\r\nBut `ImageLoader.TYPE_BMP` eported an error stating that the `TYPE_BMP` could not be found.\r\n\r\nMay I ask what I should do?\r\n","title":"How to output ImageData as a BMP image in Java","body":"<p>How to output <code>ImageData</code> as a BMP image in Java?</p>\n<p>I used this code:</p>\n<pre><code>ImageLoader imageLoader = new ImageLoader();\nimageLoader.save(&quot;output.bmp&quot;, ImageLoader.TYPE_BMP, new ImageData[]{imageData});\n</code></pre>\n<p>But <code>ImageLoader.TYPE_BMP</code> eported an error stating that the <code>TYPE_BMP</code> could not be found.</p>\n<p>May I ask what I should do?</p>\n"},{"tags":["java","spring","spring-boot","spring-mvc"],"comments":[{"owner":{"account_id":2139538,"reputation":42521,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":0,"creation_date":1598723755,"post_id":63649999,"comment_id":112554596,"body_markdown":"I think this is a good question at it&#39;s heart, but I&#39;d change 2 things: rather than bullet pointing how your code looks, just show us. &quot;Show don&#39;t tell&quot; applies to StackOverflow too. Your 2nd to last paragraph also just strikes me as a bit of a moan, I don&#39;t see what it&#39;s really adding.","body":"I think this is a good question at it&#39;s heart, but I&#39;d change 2 things: rather than bullet pointing how your code looks, just show us. &quot;Show don&#39;t tell&quot; applies to StackOverflow too. Your 2nd to last paragraph also just strikes me as a bit of a moan, I don&#39;t see what it&#39;s really adding."}],"answers":[{"comments":[{"owner":{"account_id":184786,"reputation":18896,"user_id":421049,"accept_rate":50,"display_name":"Garret Wilson"},"score":2,"creation_date":1600188193,"post_id":63651152,"comment_id":113006861,"body_markdown":"caco3, this is an amazing answer that really clears up a lot of things and points me to the right places. I&#39;m going to add a bounty to the question as a reward for all your work. Thank you very much.","body":"caco3, this is an amazing answer that really clears up a lot of things and points me to the right places. I&#39;m going to add a bounty to the question as a reward for all your work. Thank you very much."},{"owner":{"account_id":8666186,"reputation":7757,"user_id":6486622,"display_name":"Denis Zavedeev"},"score":1,"creation_date":1600190601,"post_id":63651152,"comment_id":113007989,"body_markdown":"I&#39;m glad it was helpful","body":"I&#39;m glad it was helpful"},{"owner":{"account_id":184786,"reputation":18896,"user_id":421049,"accept_rate":50,"display_name":"Garret Wilson"},"score":0,"creation_date":1602378657,"post_id":63651152,"comment_id":113701103,"body_markdown":"Denis, does this ability to automatically apply an argument from the model as a method argument only work with interfaces? I&#39;ve found that if `FooBar` is an interface, `Step2Controller.doSomething(FooBar fooBar)` works as discussed above. But if `FooBar` is a class, even if I have an instance of `FooBar` in the model, `Step2Controller.doSomething(FooBar fooBar)` results in a &quot;No primary or default constructor found for class FooBar&quot; exception. Even `@ModelAttribute` won&#39;t work. I have to use `@ModelAttribute(&quot;foobar&quot;)`. Why do classes work differently from interfaces in parameter substitution?","body":"Denis, does this ability to automatically apply an argument from the model as a method argument only work with interfaces? I&#39;ve found that if <code>FooBar</code> is an interface, <code>Step2Controller.doSomething(FooBar fooBar)</code> works as discussed above. But if <code>FooBar</code> is a class, even if I have an instance of <code>FooBar</code> in the model, <code>Step2Controller.doSomething(FooBar fooBar)</code> results in a &quot;No primary or default constructor found for class FooBar&quot; exception. Even <code>@ModelAttribute</code> won&#39;t work. I have to use <code>@ModelAttribute(&quot;foobar&quot;)</code>. Why do classes work differently from interfaces in parameter substitution?"},{"owner":{"account_id":8666186,"reputation":7757,"user_id":6486622,"display_name":"Denis Zavedeev"},"score":0,"creation_date":1602417198,"post_id":63651152,"comment_id":113707853,"body_markdown":"@GarretWilson, I&#39;ve updated my answer. I&#39;m not sure where exactly the problem lies, so I&#39;ve created a sample project, which may give you some hints. Currently I&#39;m suspecting, that you have some issues with implicit names. Feel free to modify the project and ask once again if the project does not help you","body":"@GarretWilson, I&#39;ve updated my answer. I&#39;m not sure where exactly the problem lies, so I&#39;ve created a sample project, which may give you some hints. Currently I&#39;m suspecting, that you have some issues with implicit names. Feel free to modify the project and ask once again if the project does not help you"},{"owner":{"account_id":184786,"reputation":18896,"user_id":421049,"accept_rate":50,"display_name":"Garret Wilson"},"score":0,"creation_date":1602429737,"post_id":63651152,"comment_id":113711246,"body_markdown":"Thanks, Denis. But there can&#39;t be a typo in the name, because I&#39;m using a string constant throughout. Your sample didn&#39;t quite reproduce the situation. Most importantly your `FooBar` class has a no-args constructor, so how could it produce the error I showed? Try this: 1) remove the `FooBar` no-args constructor, 2) in `Controller1`, create a `FooBar` instance and put it in the model with the key `&quot;foobar&quot;`, 3) in `Controller2`, reference a `FooBar` type in the `GET` or `PUT` mapping method, but with no annotation whatsoever. (Both controllers have a `@SessionAttributes(&quot;foobar&quot;)` of course.)","body":"Thanks, Denis. But there can&#39;t be a typo in the name, because I&#39;m using a string constant throughout. Your sample didn&#39;t quite reproduce the situation. Most importantly your <code>FooBar</code> class has a no-args constructor, so how could it produce the error I showed? Try this: 1) remove the <code>FooBar</code> no-args constructor, 2) in <code>Controller1</code>, create a <code>FooBar</code> instance and put it in the model with the key <code>&quot;foobar&quot;</code>, 3) in <code>Controller2</code>, reference a <code>FooBar</code> type in the <code>GET</code> or <code>PUT</code> mapping method, but with no annotation whatsoever. (Both controllers have a <code>@SessionAttributes(&quot;foobar&quot;)</code> of course.)"},{"owner":{"account_id":184786,"reputation":18896,"user_id":421049,"accept_rate":50,"display_name":"Garret Wilson"},"score":0,"creation_date":1602430195,"post_id":63651152,"comment_id":113711373,"body_markdown":"Meanwhile I&#39;ll simply annotate the parameter with foobar `@ModelAttribute(&quot;foobar&quot;)`; that seems to work fine. I didn&#39;t mean to bother you with debugging my code. I was just curious as to why Spring seemed to automatically inject interface-based parameters from the model without needing a named `@ModelAttribute` annotation, but not concrete class-based parameters; and wondered if you knew anything about that. Thanks again.","body":"Meanwhile I&#39;ll simply annotate the parameter with foobar <code>@ModelAttribute(&quot;foobar&quot;)</code>; that seems to work fine. I didn&#39;t mean to bother you with debugging my code. I was just curious as to why Spring seemed to automatically inject interface-based parameters from the model without needing a named <code>@ModelAttribute</code> annotation, but not concrete class-based parameters; and wondered if you knew anything about that. Thanks again."},{"owner":{"account_id":184786,"reputation":18896,"user_id":421049,"accept_rate":50,"display_name":"Garret Wilson"},"score":0,"creation_date":1603208978,"post_id":63651152,"comment_id":113961403,"body_markdown":"Here&#39;s the odd thing I&#39;m finding. If I have `controller1` _redirect_ to `view1`, then `view1` can&#39;t see `foobar` in the model; I have to pass it in a flash attribute. But if `view2` posts to `controller2`, then `controller2` can&#39;t see the flash attribute (I understand it&#39;s been removed already), so `controller1` has to put `foobar` in the model, which `controller2` _can_ see (even though `view1` cannot see it). So `controller1` has to put `foobar` in both a flash attribute (so that `view1` can see it) and in the model as well (so that `controller2` can see it when `view2` does a `POST` to it).","body":"Here&#39;s the odd thing I&#39;m finding. If I have <code>controller1</code> <i>redirect</i> to <code>view1</code>, then <code>view1</code> can&#39;t see <code>foobar</code> in the model; I have to pass it in a flash attribute. But if <code>view2</code> posts to <code>controller2</code>, then <code>controller2</code> can&#39;t see the flash attribute (I understand it&#39;s been removed already), so <code>controller1</code> has to put <code>foobar</code> in the model, which <code>controller2</code> <i>can</i> see (even though <code>view1</code> cannot see it). So <code>controller1</code> has to put <code>foobar</code> in both a flash attribute (so that <code>view1</code> can see it) and in the model as well (so that <code>controller2</code> can see it when <code>view2</code> does a <code>POST</code> to it)."},{"owner":{"account_id":184786,"reputation":18896,"user_id":421049,"accept_rate":50,"display_name":"Garret Wilson"},"score":0,"creation_date":1603209767,"post_id":63651152,"comment_id":113961854,"body_markdown":"To summarize my previous comment: if a view template is exposed and accessed directly via a `GET`, for some reason it doesn&#39;t have access to the same model attributes that a controller would if it were accessed directly via `GET`. Perhaps it&#39;s the lack of way to specify a `@SessionAttributes` for a view. Normally this wouldn&#39;t even be an issue because one wouldn&#39;t access a view directly, but with the &quot;Post/Redirect/Get&quot; pattern it becomes an issue. In any case it doesn&#39;t seem clear and straightforward to me. But I think I have it working.","body":"To summarize my previous comment: if a view template is exposed and accessed directly via a <code>GET</code>, for some reason it doesn&#39;t have access to the same model attributes that a controller would if it were accessed directly via <code>GET</code>. Perhaps it&#39;s the lack of way to specify a <code>@SessionAttributes</code> for a view. Normally this wouldn&#39;t even be an issue because one wouldn&#39;t access a view directly, but with the &quot;Post/Redirect/Get&quot; pattern it becomes an issue. In any case it doesn&#39;t seem clear and straightforward to me. But I think I have it working."},{"owner":{"account_id":8666186,"reputation":7757,"user_id":6486622,"display_name":"Denis Zavedeev"},"score":0,"creation_date":1603216680,"post_id":63651152,"comment_id":113965180,"body_markdown":"Can you please share your sample project? :)","body":"Can you please share your sample project? :)"},{"owner":{"account_id":184786,"reputation":18896,"user_id":421049,"accept_rate":50,"display_name":"Garret Wilson"},"score":0,"creation_date":1603239088,"post_id":63651152,"comment_id":113972686,"body_markdown":"Sorry, I can&#39;t share this internal, non-public project. I should note that I&#39;m using Thymeleaf, though, if that makes any difference. It shouldn&#39;t be hard to reproduce. Just have `controller1` manually `model.addAttribute(&quot;foobar&quot;, val)` in the service method and expose it using `@ModelAttribute(&quot;foobar&quot;)` before calling `return &quot;view1&quot;`. You&#39;ll see that the Thymeleaf `view1` can access `foobar`. But if you instead `return &quot;redirect:view1&quot;` then `view1` can no longer see `foobar`. But if `view1` does a `POST` to `controller2`, then `controller2` (using `@SessionAttributes`) can see `foobar`!","body":"Sorry, I can&#39;t share this internal, non-public project. I should note that I&#39;m using Thymeleaf, though, if that makes any difference. It shouldn&#39;t be hard to reproduce. Just have <code>controller1</code> manually <code>model.addAttribute(&quot;foobar&quot;, val)</code> in the service method and expose it using <code>@ModelAttribute(&quot;foobar&quot;)</code> before calling <code>return &quot;view1&quot;</code>. You&#39;ll see that the Thymeleaf <code>view1</code> can access <code>foobar</code>. But if you instead <code>return &quot;redirect:view1&quot;</code> then <code>view1</code> can no longer see <code>foobar</code>. But if <code>view1</code> does a <code>POST</code> to <code>controller2</code>, then <code>controller2</code> (using <code>@SessionAttributes</code>) can see <code>foobar</code>!"}],"tags":[],"owner":{"account_id":8666186,"reputation":7757,"user_id":6486622,"display_name":"Denis Zavedeev"},"comment_count":10,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1602417019,"creation_date":1598730527,"answer_id":63651152,"question_id":63649999,"body_markdown":"_this answer has two parts_\r\n\r\n1. _Giving some general information about `SessionAttributes`_\r\n1. _Going through the question itself_\r\n\r\n\r\n### `@SessionAttributes` in Spring ###\r\n\r\n\r\nThe [`@SessionAttributes`&#39;s javadoc](https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/web/bind/annotation/SessionAttributes.html) states that it should be used to store attributes temporarily:\r\n\r\n&gt; use this facility for such conversational attributes which are supposed to be stored in the session &lt;i&gt;temporarily&lt;/i&gt; during the course of a specific handler&#39;s conversation.\r\n\r\nTemporal boundaries of such a &quot;conversation&quot; are defined by programmer explicitly, or to be more exact: **programmer defines completion of conversation**, they can do it via [`SessionStatus`](https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/bind/support/SessionStatus.html). [Here](https://docs.spring.io/spring/docs/current/spring-framework-reference/web.html#mvc-ann-sessionattributes) is relevant part of documentation and example:\r\n\r\n&gt; On the first request, when a model attribute with the name, `pet`, is added to the model, it is automatically promoted to and saved in the HTTP Servlet session. **It remains there until another controller method uses a `SessionStatus` method argument to clear the storage**, as the following example shows:\r\n\r\n```java\r\n@Controller\r\n@SessionAttributes(&quot;pet&quot;) \r\npublic class EditPetForm {\r\n    @PostMapping(&quot;/pets/{id}&quot;)\r\n    public String handle(Pet pet, BindingResult errors, SessionStatus status) {\r\n        if (errors.hasErrors) {\r\n            // ...\r\n        }\r\n        status.setComplete(); \r\n        // ...\r\n    }\r\n}\r\n```\r\n\r\nIf you want to dig deep you can study the source code of:\r\n* [`SessionAttributesHandler`](https://github.com/spring-projects/spring-framework/blob/master/spring-web/src/main/java/org/springframework/web/method/annotation/SessionAttributesHandler.java)\r\n\r\n### Going through the question ###\r\n\r\n&gt; 1. If `@SessionAttributes` only stores model attributes in the HTTP session temporarily and removes them at the end of the conversation, why does `foobar` still show up in the request to `Step2Controller`?\r\n\r\nBecause, most probably you have not defined conversation completion.\r\n\r\n&gt; It appears to me to still be in the session.\r\n\r\nExactly\r\n\r\n&gt; I don&#39;t understand what the docs mean when they refer to &quot;temporarily&quot; and &quot;handler&#39;s conversation&quot;.\r\n\r\nI _guess_ it&#39;s somehow related to the [Spring WebFlow](https://projects.spring.io/spring-webflow/). (See [this](https://www.baeldung.com/spring-web-flow) introductory article)\r\n\r\n&gt; It would appear `foobar` is stored in the session normally.\r\n\r\nYes, see [`DefaultSessionAttributeStore`](https://github.com/spring-projects/spring-framework/blob/master/spring-web/src/main/java/org/springframework/web/bind/support/DefaultSessionAttributeStore.java)\r\n\r\nYou may ask here: **What does make some session attributes temporal and some not? How are they distinguished?**. The answer may be found in the source code:\r\n\r\n[`SessionAttributesHandler.java`#L146](https://github.com/spring-projects/spring-framework/blob/7bc803598967ab9d5bf1eb378bd7b7c4bf212f15/spring-web/src/main/java/org/springframework/web/method/annotation/SessionAttributesHandler.java#L146):\r\n\r\n```java\r\n/**\r\n * Remove &quot;known&quot; attributes from the session, i.e. attributes listed\r\n * by name in {@code @SessionAttributes} or attributes previously stored\r\n * in the model that matched by type.\r\n * @param request the current request\r\n */\r\npublic void cleanupAttributes(WebRequest request) {\r\n\tfor (String attributeName : this.knownAttributeNames) {\r\n\t\tthis.sessionAttributeStore.cleanupAttribute(request, attributeName);\r\n\t}\r\n}\r\n```\r\n\r\n&gt; 2. It would appear that simply by having `@SessionAttributes(&quot;foobar&quot;)` on `Step1Controller`, Spring will automatically copy `foobar` from the model to the session after handling the request.\r\n\r\n[Yes, it will](https://github.com/spring-projects/spring-framework/blob/7bc803598967ab9d5bf1eb378bd7b7c4bf212f15/spring-web/src/main/java/org/springframework/web/method/annotation/SessionAttributesHandler.java#L108)\r\n\r\n&gt; 3. It would appear that by placing `@SessionAttributes(&quot;foobar&quot;)` on `Step2Controller`, Spring copies `foobar` _from_ the session _to_ the model _before_ the request.\r\n\r\n[Also true](https://github.com/spring-projects/spring-framework/blob/master/spring-web/src/main/java/org/springframework/web/method/annotation/ModelFactory.java#L111)\r\n\r\n&gt; 4. And finally, note that in `Step2Controller.doSomething(FooBar fooBar)` _I don&#39;t have any annotation at all on the `FooBar` parameter_, other than the `@SessionAttributes(&quot;foobar&quot;)` (but that is on the controller class). The documentation seemed to indicate I need to add a `@ModelAttribute` annotation to the method parameter, such as `Step2Controller.doSomething(@ModelAttribute(&quot;foobar&quot;) FooBar fooBar)` or at least `Step2Controller.doSomething(@ModelAttribute FooBar fooBar)`. But Spring still seems to find the session variable, even with no annotation at all on the parameter. Why? How would I have known this?\r\n\r\nSee [Method Arguments](https://docs.spring.io/spring/docs/current/spring-framework-reference/web.html#mvc-ann-arguments) section:\r\n\r\n&gt; If a method argument is not matched to any of the earlier values in this table and it is a simple type (as determined by BeanUtils#isSimpleProperty, it is a resolved as a @RequestParam. Otherwise, it is resolved as a @ModelAttribute.\r\n\r\n\r\n&gt; This is on of the things that has always bugged me about Spring: too many things happen &quot;magically&quot;, with no clear documentation of what is expected to happen. People who use Spring for years I suppose just get a &quot;feel&quot; for what works and doesn&#39;t; but a new developer looking at the code just has to trust that it magically does what it&#39;s supposed to.\r\n\r\n_Here I would suggest going through the reference documentation, it can give a clue how can you describe some specific behavior of Spring_\r\n\r\n---\r\n\r\n**10/11/2020 update**:\r\n\r\n&gt; Denis, does this ability to automatically apply an argument from the model as a method argument only work with interfaces? I&#39;ve found that if FooBar is an interface, Step2Controller.doSomething(FooBar fooBar) works as discussed above    . But if FooBar is a class, even if I have an instance of FooBar in the model, Step2Controller.doSomething(FooBar fooBar) results in a &quot;No primary or default constructor found for class FooBar&quot; exception. Even @ModelAttribute won&#39;t wor    k. I have to use @ModelAttribute(&quot;foobar&quot;). Why do classes work differently from interfaces in parameter substitution?  \r\n\r\nThis sounds to me, that there is some issue with naming/`@SessionAttributes#names`.\r\n\r\nI&#39;ve created a [sample project](https://github.com/cac03/sessionlifespan) to demonstrate where the problem may be hidden.\r\n\r\nThe project has two parts:\r\n\r\n1. Attempts to use class\r\n1. Attempts to use an interface \r\n  \r\nThe entry point to the project are the two tests (see `ClassFooBarControllerTest` and `InterfaceFooBarControllerTest`)\r\n\r\nI&#39;ve left comments to explain what is happening here \r\n","title":"Life span and injection of @SessionAttributes object in Spring MVC","body":"<p><em>this answer has two parts</em></p>\n<ol>\n<li><em>Giving some general information about <code>SessionAttributes</code></em></li>\n<li><em>Going through the question itself</em></li>\n</ol>\n<h3><code>@SessionAttributes</code> in Spring</h3>\n<p>The <a href=\"https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/web/bind/annotation/SessionAttributes.html\" rel=\"nofollow noreferrer\"><code>@SessionAttributes</code>'s javadoc</a> states that it should be used to store attributes temporarily:</p>\n<blockquote>\n<p>use this facility for such conversational attributes which are supposed to be stored in the session <i>temporarily</i> during the course of a specific handler's conversation.</p>\n</blockquote>\n<p>Temporal boundaries of such a &quot;conversation&quot; are defined by programmer explicitly, or to be more exact: <strong>programmer defines completion of conversation</strong>, they can do it via <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/bind/support/SessionStatus.html\" rel=\"nofollow noreferrer\"><code>SessionStatus</code></a>. <a href=\"https://docs.spring.io/spring/docs/current/spring-framework-reference/web.html#mvc-ann-sessionattributes\" rel=\"nofollow noreferrer\">Here</a> is relevant part of documentation and example:</p>\n<blockquote>\n<p>On the first request, when a model attribute with the name, <code>pet</code>, is added to the model, it is automatically promoted to and saved in the HTTP Servlet session. <strong>It remains there until another controller method uses a <code>SessionStatus</code> method argument to clear the storage</strong>, as the following example shows:</p>\n</blockquote>\n<pre class=\"lang-java prettyprint-override\"><code>@Controller\n@SessionAttributes(&quot;pet&quot;) \npublic class EditPetForm {\n    @PostMapping(&quot;/pets/{id}&quot;)\n    public String handle(Pet pet, BindingResult errors, SessionStatus status) {\n        if (errors.hasErrors) {\n            // ...\n        }\n        status.setComplete(); \n        // ...\n    }\n}\n</code></pre>\n<p>If you want to dig deep you can study the source code of:</p>\n<ul>\n<li><a href=\"https://github.com/spring-projects/spring-framework/blob/master/spring-web/src/main/java/org/springframework/web/method/annotation/SessionAttributesHandler.java\" rel=\"nofollow noreferrer\"><code>SessionAttributesHandler</code></a></li>\n</ul>\n<h3>Going through the question</h3>\n<blockquote>\n<ol>\n<li>If <code>@SessionAttributes</code> only stores model attributes in the HTTP session temporarily and removes them at the end of the conversation, why does <code>foobar</code> still show up in the request to <code>Step2Controller</code>?</li>\n</ol>\n</blockquote>\n<p>Because, most probably you have not defined conversation completion.</p>\n<blockquote>\n<p>It appears to me to still be in the session.</p>\n</blockquote>\n<p>Exactly</p>\n<blockquote>\n<p>I don't understand what the docs mean when they refer to &quot;temporarily&quot; and &quot;handler's conversation&quot;.</p>\n</blockquote>\n<p>I <em>guess</em> it's somehow related to the <a href=\"https://projects.spring.io/spring-webflow/\" rel=\"nofollow noreferrer\">Spring WebFlow</a>. (See <a href=\"https://www.baeldung.com/spring-web-flow\" rel=\"nofollow noreferrer\">this</a> introductory article)</p>\n<blockquote>\n<p>It would appear <code>foobar</code> is stored in the session normally.</p>\n</blockquote>\n<p>Yes, see <a href=\"https://github.com/spring-projects/spring-framework/blob/master/spring-web/src/main/java/org/springframework/web/bind/support/DefaultSessionAttributeStore.java\" rel=\"nofollow noreferrer\"><code>DefaultSessionAttributeStore</code></a></p>\n<p>You may ask here: <strong>What does make some session attributes temporal and some not? How are they distinguished?</strong>. The answer may be found in the source code:</p>\n<p><a href=\"https://github.com/spring-projects/spring-framework/blob/7bc803598967ab9d5bf1eb378bd7b7c4bf212f15/spring-web/src/main/java/org/springframework/web/method/annotation/SessionAttributesHandler.java#L146\" rel=\"nofollow noreferrer\"><code>SessionAttributesHandler.java</code>#L146</a>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>/**\n * Remove &quot;known&quot; attributes from the session, i.e. attributes listed\n * by name in {@code @SessionAttributes} or attributes previously stored\n * in the model that matched by type.\n * @param request the current request\n */\npublic void cleanupAttributes(WebRequest request) {\n    for (String attributeName : this.knownAttributeNames) {\n        this.sessionAttributeStore.cleanupAttribute(request, attributeName);\n    }\n}\n</code></pre>\n<blockquote>\n<ol start=\"2\">\n<li>It would appear that simply by having <code>@SessionAttributes(&quot;foobar&quot;)</code> on <code>Step1Controller</code>, Spring will automatically copy <code>foobar</code> from the model to the session after handling the request.</li>\n</ol>\n</blockquote>\n<p><a href=\"https://github.com/spring-projects/spring-framework/blob/7bc803598967ab9d5bf1eb378bd7b7c4bf212f15/spring-web/src/main/java/org/springframework/web/method/annotation/SessionAttributesHandler.java#L108\" rel=\"nofollow noreferrer\">Yes, it will</a></p>\n<blockquote>\n<ol start=\"3\">\n<li>It would appear that by placing <code>@SessionAttributes(&quot;foobar&quot;)</code> on <code>Step2Controller</code>, Spring copies <code>foobar</code> <em>from</em> the session <em>to</em> the model <em>before</em> the request.</li>\n</ol>\n</blockquote>\n<p><a href=\"https://github.com/spring-projects/spring-framework/blob/master/spring-web/src/main/java/org/springframework/web/method/annotation/ModelFactory.java#L111\" rel=\"nofollow noreferrer\">Also true</a></p>\n<blockquote>\n<ol start=\"4\">\n<li>And finally, note that in <code>Step2Controller.doSomething(FooBar fooBar)</code> <em>I don't have any annotation at all on the <code>FooBar</code> parameter</em>, other than the <code>@SessionAttributes(&quot;foobar&quot;)</code> (but that is on the controller class). The documentation seemed to indicate I need to add a <code>@ModelAttribute</code> annotation to the method parameter, such as <code>Step2Controller.doSomething(@ModelAttribute(&quot;foobar&quot;) FooBar fooBar)</code> or at least <code>Step2Controller.doSomething(@ModelAttribute FooBar fooBar)</code>. But Spring still seems to find the session variable, even with no annotation at all on the parameter. Why? How would I have known this?</li>\n</ol>\n</blockquote>\n<p>See <a href=\"https://docs.spring.io/spring/docs/current/spring-framework-reference/web.html#mvc-ann-arguments\" rel=\"nofollow noreferrer\">Method Arguments</a> section:</p>\n<blockquote>\n<p>If a method argument is not matched to any of the earlier values in this table and it is a simple type (as determined by BeanUtils#isSimpleProperty, it is a resolved as a @RequestParam. Otherwise, it is resolved as a @ModelAttribute.</p>\n</blockquote>\n<blockquote>\n<p>This is on of the things that has always bugged me about Spring: too many things happen &quot;magically&quot;, with no clear documentation of what is expected to happen. People who use Spring for years I suppose just get a &quot;feel&quot; for what works and doesn't; but a new developer looking at the code just has to trust that it magically does what it's supposed to.</p>\n</blockquote>\n<p><em>Here I would suggest going through the reference documentation, it can give a clue how can you describe some specific behavior of Spring</em></p>\n<hr />\n<p><strong>10/11/2020 update</strong>:</p>\n<blockquote>\n<p>Denis, does this ability to automatically apply an argument from the model as a method argument only work with interfaces? I've found that if FooBar is an interface, Step2Controller.doSomething(FooBar fooBar) works as discussed above    . But if FooBar is a class, even if I have an instance of FooBar in the model, Step2Controller.doSomething(FooBar fooBar) results in a &quot;No primary or default constructor found for class FooBar&quot; exception. Even @ModelAttribute won't wor    k. I have to use @ModelAttribute(&quot;foobar&quot;). Why do classes work differently from interfaces in parameter substitution?</p>\n</blockquote>\n<p>This sounds to me, that there is some issue with naming/<code>@SessionAttributes#names</code>.</p>\n<p>I've created a <a href=\"https://github.com/cac03/sessionlifespan\" rel=\"nofollow noreferrer\">sample project</a> to demonstrate where the problem may be hidden.</p>\n<p>The project has two parts:</p>\n<ol>\n<li>Attempts to use class</li>\n<li>Attempts to use an interface</li>\n</ol>\n<p>The entry point to the project are the two tests (see <code>ClassFooBarControllerTest</code> and <code>InterfaceFooBarControllerTest</code>)</p>\n<p>I've left comments to explain what is happening here</p>\n"}],"owner":{"account_id":184786,"reputation":18896,"user_id":421049,"accept_rate":50,"display_name":"Garret Wilson"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":599,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":63651152,"answer_count":1,"score":6,"last_activity_date":1688230321,"creation_date":1598722981,"question_id":63649999,"body_markdown":"I&#39;m unclear on some subtleties of using `@SessionAttributes` in Spring MVC via Spring Boot 2.3.3.RELEASE.\r\n\r\n* I have two controllers, `Step1Controller` and `Step2Controller`.\r\n* Both controllers use `@SessionAttributes(&quot;foobar&quot;)` at the class level.\r\n* `Step1Controller` during its request handling for `@PostMapping` adds a special `FooBar` instance to the model using `model.addAttribute(&quot;foobar&quot;, new FooBar(&quot;foo&quot;, &quot;bar&quot;))`.\r\n* `Step2Controller`, invoked under a completely independent HTTP `POST`, picks up the `FooBar` instance in its `@PostMapping` service method using `doSomething(FooBar fooBar)`.\r\n* This all words great!\r\n\r\nBut I&#39;m unclear on some details of _why_ it works.\r\n\r\nThe `@SessionAttributes` API documentation says in part:\r\n\r\n&gt; Those attributes will be removed once the handler indicates completion of its conversational session. Therefore, use this facility for such conversational attributes which are supposed to be stored in the session _temporarily_ during the course of a specific handler&#39;s conversation. For permanent session attributes, e.g. a user authentication object, use the traditional `session.setAttribute` method instead.\r\n\r\n1. If `@SessionAttributes` only stores model attributes in the HTTP session temporarily and removes them at the end of the conversation, why does `foobar` still show up in the request to `Step2Controller`? It appears to me to still be in the session. I don&#39;t understand what the docs mean when they refer to &quot;temporarily&quot; and &quot;handler&#39;s conversation&quot;. It would appear `foobar` is stored in the session normally.\r\n2. It would appear that simply by having `@SessionAttributes(&quot;foobar&quot;)` on `Step1Controller`, Spring will automatically copy `foobar` from the model to the session after handling the request. That was sort of hinted at in the documentation, but it only became clear to me through experimentation.\r\n3. It would appear that by placing `@SessionAttributes(&quot;foobar&quot;)` on `Step2Controller`, Spring copies `foobar` _from_ the session _to_ the model _before_ the request. This was not clear to me at all from the documentation.\r\n4. And finally, note that in `Step2Controller.doSomething(FooBar fooBar)` _I don&#39;t have any annotation at all on the `FooBar` parameter_, other than the `@SessionAttributes(&quot;foobar&quot;)` (but that is on the controller class). The [documentation][1] seemed to indicate I need to add a `@ModelAttribute` annotation to the method parameter, such as `Step2Controller.doSomething(@ModelAttribute(&quot;foobar&quot;) FooBar fooBar)` or at least `Step2Controller.doSomething(@ModelAttribute FooBar fooBar)`. But Spring still seems to find the session variable, even with no annotation at all on the parameter. Why? How would I have known this?\r\n\r\nThis is on of the things that has always bugged me about Spring: too many things happen &quot;magically&quot;, with no clear documentation of what is expected to happen. People who use Spring for years I suppose just get a &quot;feel&quot; for what works and doesn&#39;t; but a new developer looking at the code just has to trust that it magically does what it&#39;s supposed to.\r\n\r\nWhy does what I have described work, especially in reference to the first question? Maybe that way I too can develop this &quot;Spring sense&quot; to instinctively know which incantations to evoke.\r\n\r\n  [1]: https://docs.spring.io/spring/docs/3.2.x/spring-framework-reference/html/mvc.html#mvc-ann-modelattrib-method-args","title":"Life span and injection of @SessionAttributes object in Spring MVC","body":"<p>I'm unclear on some subtleties of using <code>@SessionAttributes</code> in Spring MVC via Spring Boot 2.3.3.RELEASE.</p>\n<ul>\n<li>I have two controllers, <code>Step1Controller</code> and <code>Step2Controller</code>.</li>\n<li>Both controllers use <code>@SessionAttributes(&quot;foobar&quot;)</code> at the class level.</li>\n<li><code>Step1Controller</code> during its request handling for <code>@PostMapping</code> adds a special <code>FooBar</code> instance to the model using <code>model.addAttribute(&quot;foobar&quot;, new FooBar(&quot;foo&quot;, &quot;bar&quot;))</code>.</li>\n<li><code>Step2Controller</code>, invoked under a completely independent HTTP <code>POST</code>, picks up the <code>FooBar</code> instance in its <code>@PostMapping</code> service method using <code>doSomething(FooBar fooBar)</code>.</li>\n<li>This all words great!</li>\n</ul>\n<p>But I'm unclear on some details of <em>why</em> it works.</p>\n<p>The <code>@SessionAttributes</code> API documentation says in part:</p>\n<blockquote>\n<p>Those attributes will be removed once the handler indicates completion of its conversational session. Therefore, use this facility for such conversational attributes which are supposed to be stored in the session <em>temporarily</em> during the course of a specific handler's conversation. For permanent session attributes, e.g. a user authentication object, use the traditional <code>session.setAttribute</code> method instead.</p>\n</blockquote>\n<ol>\n<li>If <code>@SessionAttributes</code> only stores model attributes in the HTTP session temporarily and removes them at the end of the conversation, why does <code>foobar</code> still show up in the request to <code>Step2Controller</code>? It appears to me to still be in the session. I don't understand what the docs mean when they refer to &quot;temporarily&quot; and &quot;handler's conversation&quot;. It would appear <code>foobar</code> is stored in the session normally.</li>\n<li>It would appear that simply by having <code>@SessionAttributes(&quot;foobar&quot;)</code> on <code>Step1Controller</code>, Spring will automatically copy <code>foobar</code> from the model to the session after handling the request. That was sort of hinted at in the documentation, but it only became clear to me through experimentation.</li>\n<li>It would appear that by placing <code>@SessionAttributes(&quot;foobar&quot;)</code> on <code>Step2Controller</code>, Spring copies <code>foobar</code> <em>from</em> the session <em>to</em> the model <em>before</em> the request. This was not clear to me at all from the documentation.</li>\n<li>And finally, note that in <code>Step2Controller.doSomething(FooBar fooBar)</code> <em>I don't have any annotation at all on the <code>FooBar</code> parameter</em>, other than the <code>@SessionAttributes(&quot;foobar&quot;)</code> (but that is on the controller class). The <a href=\"https://docs.spring.io/spring/docs/3.2.x/spring-framework-reference/html/mvc.html#mvc-ann-modelattrib-method-args\" rel=\"nofollow noreferrer\">documentation</a> seemed to indicate I need to add a <code>@ModelAttribute</code> annotation to the method parameter, such as <code>Step2Controller.doSomething(@ModelAttribute(&quot;foobar&quot;) FooBar fooBar)</code> or at least <code>Step2Controller.doSomething(@ModelAttribute FooBar fooBar)</code>. But Spring still seems to find the session variable, even with no annotation at all on the parameter. Why? How would I have known this?</li>\n</ol>\n<p>This is on of the things that has always bugged me about Spring: too many things happen &quot;magically&quot;, with no clear documentation of what is expected to happen. People who use Spring for years I suppose just get a &quot;feel&quot; for what works and doesn't; but a new developer looking at the code just has to trust that it magically does what it's supposed to.</p>\n<p>Why does what I have described work, especially in reference to the first question? Maybe that way I too can develop this &quot;Spring sense&quot; to instinctively know which incantations to evoke.</p>\n"},{"tags":["java","spring","spring-boot","hibernate","jpa"],"answers":[{"tags":[],"owner":{"account_id":136251,"reputation":87506,"user_id":339637,"accept_rate":55,"display_name":"Ken Chan"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1688229606,"creation_date":1688229606,"answer_id":76595650,"question_id":76595355,"body_markdown":"I believe it is just a DEBUG level message ? So you do not need to worry about it and can simply ignore it. If you really want to get rid of it from the log , configure the logger level for that package (e.g `org.hibernate.bytecode.internal.bytebuddy`) to be INFO.\r\n\r\nFor more details , please see the answer from the Hibernate creator at [here][1].\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/76267365/339637","title":"Private accessor exception for jpa entity","body":"<p>I believe it is just a DEBUG level message ? So you do not need to worry about it and can simply ignore it. If you really want to get rid of it from the log , configure the logger level for that package (e.g <code>org.hibernate.bytecode.internal.bytebuddy</code>) to be INFO.</p>\n<p>For more details , please see the answer from the Hibernate creator at <a href=\"https://stackoverflow.com/a/76267365/339637\">here</a>.</p>\n"}],"owner":{"account_id":11899514,"reputation":59,"user_id":8707914,"display_name":"fragilepriCe"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":705,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1688229606,"creation_date":1688225254,"question_id":76595355,"body_markdown":"I have an entity that keeps giving me this exception\r\n**org.hibernate.bytecode.internal.bytebuddy.PrivateAccessorException: private accessor [callbackUrl]**\r\n\r\n\r\nJava Version: 17\r\n\r\nSpring Boot Starter Parent: 3.1.1\r\n\r\nAs you can see, I have setters and getters explicitly declared for my entity. I have also tried adding **@Access(AccessType.PROPERTY)** but the issue still persists.\r\n\r\n\r\n```\r\n@Entity\r\npublic class EWalletEntity {\r\n\r\n\r\n    public EWalletEntity() {\r\n    }\r\n\r\n   \r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    private Long id;\r\n\r\n\r\n    @Enumerated(EnumType.STRING)\r\n    private CheckoutMethod checkoutMethod;\r\n\r\n    @Enumerated(EnumType.STRING)\r\n    private ChannelCode channelCode;\r\n\r\n\r\n\r\n\r\n\r\n    @Column\r\n    private Boolean redirectRequired;\r\n\r\n    @Column(name = &quot;callback_url&quot;)\r\n    private String callbackUrl;\r\n\r\n    private String metadata;\r\n\r\n\r\n    @Column\r\n    private String customerId;\r\n\r\n    @Column\r\n    private String failureCode;\r\n\r\n    @Column\r\n    private String paymentMethodId;\r\n\r\n\r\n    @Column\r\n    private String lastCallback;\r\n\r\n    public Long getId() {\r\n        return id;\r\n    }\r\n\r\n    public void setId(Long id) {\r\n        this.id = id;\r\n    }\r\n\r\n    public CheckoutMethod getCheckoutMethod() {\r\n        return checkoutMethod;\r\n    }\r\n\r\n    public void setCheckoutMethod(CheckoutMethod checkoutMethod) {\r\n        this.checkoutMethod = checkoutMethod;\r\n    }\r\n\r\n    public ChannelCode getChannelCode() {\r\n        return channelCode;\r\n    }\r\n\r\n    public void setChannelCode(ChannelCode channelCode) {\r\n        this.channelCode = channelCode;\r\n    }\r\n\r\n    public Boolean getRedirectRequired() {\r\n        return redirectRequired;\r\n    }\r\n\r\n    public void setRedirectRequired(Boolean redirectRequired) {\r\n        this.redirectRequired = redirectRequired;\r\n    }\r\n\r\n    public String getCallbackUrl() {\r\n        return callbackUrl;\r\n    }\r\n\r\n    public void setCallbackUrl(String callbackUrl) {\r\n        this.callbackUrl = callbackUrl;\r\n    }\r\n\r\n    public String getMetadata() {\r\n        return metadata;\r\n    }\r\n\r\n    public void setMetadata(String metadata) {\r\n        this.metadata = metadata;\r\n    }\r\n\r\n    public String getCustomerId() {\r\n        return customerId;\r\n    }\r\n\r\n    public void setCustomerId(String customerId) {\r\n        this.customerId = customerId;\r\n    }\r\n\r\n    public String getFailureCode() {\r\n        return failureCode;\r\n    }\r\n\r\n    public void setFailureCode(String failureCode) {\r\n        this.failureCode = failureCode;\r\n    }\r\n\r\n    public String getPaymentMethodId() {\r\n        return paymentMethodId;\r\n    }\r\n\r\n    public void setPaymentMethodId(String paymentMethodId) {\r\n        this.paymentMethodId = paymentMethodId;\r\n    }\r\n\r\n    public String getLastCallback() {\r\n        return lastCallback;\r\n    }\r\n\r\n    public void setLastCallback(String lastCallback) {\r\n        this.lastCallback = lastCallback;\r\n    }\r\n}\r\n\r\n\r\n\r\n```","title":"Private accessor exception for jpa entity","body":"<p>I have an entity that keeps giving me this exception\n<strong>org.hibernate.bytecode.internal.bytebuddy.PrivateAccessorException: private accessor [callbackUrl]</strong></p>\n<p>Java Version: 17</p>\n<p>Spring Boot Starter Parent: 3.1.1</p>\n<p>As you can see, I have setters and getters explicitly declared for my entity. I have also tried adding <strong>@Access(AccessType.PROPERTY)</strong> but the issue still persists.</p>\n<pre><code>@Entity\npublic class EWalletEntity {\n\n\n    public EWalletEntity() {\n    }\n\n   \n\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private Long id;\n\n\n    @Enumerated(EnumType.STRING)\n    private CheckoutMethod checkoutMethod;\n\n    @Enumerated(EnumType.STRING)\n    private ChannelCode channelCode;\n\n\n\n\n\n    @Column\n    private Boolean redirectRequired;\n\n    @Column(name = &quot;callback_url&quot;)\n    private String callbackUrl;\n\n    private String metadata;\n\n\n    @Column\n    private String customerId;\n\n    @Column\n    private String failureCode;\n\n    @Column\n    private String paymentMethodId;\n\n\n    @Column\n    private String lastCallback;\n\n    public Long getId() {\n        return id;\n    }\n\n    public void setId(Long id) {\n        this.id = id;\n    }\n\n    public CheckoutMethod getCheckoutMethod() {\n        return checkoutMethod;\n    }\n\n    public void setCheckoutMethod(CheckoutMethod checkoutMethod) {\n        this.checkoutMethod = checkoutMethod;\n    }\n\n    public ChannelCode getChannelCode() {\n        return channelCode;\n    }\n\n    public void setChannelCode(ChannelCode channelCode) {\n        this.channelCode = channelCode;\n    }\n\n    public Boolean getRedirectRequired() {\n        return redirectRequired;\n    }\n\n    public void setRedirectRequired(Boolean redirectRequired) {\n        this.redirectRequired = redirectRequired;\n    }\n\n    public String getCallbackUrl() {\n        return callbackUrl;\n    }\n\n    public void setCallbackUrl(String callbackUrl) {\n        this.callbackUrl = callbackUrl;\n    }\n\n    public String getMetadata() {\n        return metadata;\n    }\n\n    public void setMetadata(String metadata) {\n        this.metadata = metadata;\n    }\n\n    public String getCustomerId() {\n        return customerId;\n    }\n\n    public void setCustomerId(String customerId) {\n        this.customerId = customerId;\n    }\n\n    public String getFailureCode() {\n        return failureCode;\n    }\n\n    public void setFailureCode(String failureCode) {\n        this.failureCode = failureCode;\n    }\n\n    public String getPaymentMethodId() {\n        return paymentMethodId;\n    }\n\n    public void setPaymentMethodId(String paymentMethodId) {\n        this.paymentMethodId = paymentMethodId;\n    }\n\n    public String getLastCallback() {\n        return lastCallback;\n    }\n\n    public void setLastCallback(String lastCallback) {\n        this.lastCallback = lastCallback;\n    }\n}\n\n\n\n</code></pre>\n"},{"tags":["java","maven","gradle"],"answers":[{"comments":[{"owner":{"account_id":1262646,"reputation":2597,"user_id":1220560,"display_name":"morgwai"},"score":1,"creation_date":1688271244,"post_id":76595633,"comment_id":135050503,"body_markdown":"thanks!!!! I assumed that gradle reads from console, not from stdin and didn&#39;t try such simple thing ;-] it seems I&#39;m a man of a low faith, ha ha ;-)","body":"thanks!!!! I assumed that gradle reads from console, not from stdin and didn&#39;t try such simple thing ;-] it seems I&#39;m a man of a low faith, ha ha ;-)"},{"owner":{"account_id":1262646,"reputation":2597,"user_id":1220560,"display_name":"morgwai"},"score":1,"creation_date":1688814830,"post_id":76595633,"comment_id":135126385,"body_markdown":"btw: `./gradlew init --type pom --dsl groovy &lt;&lt;&lt; &#39;no&#39;` is probably a tiny bit faster ;-)","body":"btw: <code>.&#47;gradlew init --type pom --dsl groovy &lt;&lt;&lt; &#39;no&#39;</code> is probably a tiny bit faster ;-)"}],"tags":[],"owner":{"account_id":22394789,"reputation":1382,"user_id":16606223,"display_name":"Yahor Barkouski"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1688229396,"creation_date":1688229396,"answer_id":76595633,"question_id":76595522,"body_markdown":"As far as I understand the gradle init doc, there is no such option for now, but you may use this simple workaround:\r\n```bash\r\necho &#39;no&#39; | ./gradlew init --type pom --dsl groovy\r\n```","title":"how to skip gradle asking about new APIs?","body":"<p>As far as I understand the gradle init doc, there is no such option for now, but you may use this simple workaround:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>echo 'no' | ./gradlew init --type pom --dsl groovy\n</code></pre>\n"}],"owner":{"account_id":1262646,"reputation":2597,"user_id":1220560,"display_name":"morgwai"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":146,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76595633,"answer_count":1,"score":0,"last_activity_date":1688229396,"creation_date":1688227706,"question_id":76595522,"body_markdown":"recently I&#39;ve upgraded gradle wrapper on my java project from 7.2 to 8.2 and now the command `./gradlew init --type pom --dsl groovy` became interactive and asks the following question:\r\n&gt; Generate build using new APIs and behavior (some features may change in the next minor release)? (default: no) [yes, no]\r\n\r\nThis broke my scripts that use this command :(  \r\nis there any command line option to automatically choose `no` and make the command non-interactive again?\r\n\r\nThanks!","title":"how to skip gradle asking about new APIs?","body":"<p>recently I've upgraded gradle wrapper on my java project from 7.2 to 8.2 and now the command <code>./gradlew init --type pom --dsl groovy</code> became interactive and asks the following question:</p>\n<blockquote>\n<p>Generate build using new APIs and behavior (some features may change in the next minor release)? (default: no) [yes, no]</p>\n</blockquote>\n<p>This broke my scripts that use this command :(<br />\nis there any command line option to automatically choose <code>no</code> and make the command non-interactive again?</p>\n<p>Thanks!</p>\n"},{"tags":["java","url","servlets","datasource"],"answers":[{"comments":[{"owner":{"account_id":28927523,"reputation":1,"user_id":22157051,"display_name":"Jessica Love"},"score":0,"creation_date":1688735523,"post_id":76595571,"comment_id":135117600,"body_markdown":"Thank you very much BalusC. Sounds like a clear cut solution. This will also keep the value databasePath in the URL I assume? I&#39;ll give it a try.","body":"Thank you very much BalusC. Sounds like a clear cut solution. This will also keep the value databasePath in the URL I assume? I&#39;ll give it a try."},{"owner":{"account_id":52822,"reputation":1089035,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"score":0,"creation_date":1688735663,"post_id":76595571,"comment_id":135117625,"body_markdown":"Of course. The code is performing a forward not a redirect. See also https://stackoverflow.com/a/2048640","body":"Of course. The code is performing a forward not a redirect. See also <a href=\"https://stackoverflow.com/a/2048640\">stackoverflow.com/a/2048640</a>"},{"owner":{"account_id":28927523,"reputation":1,"user_id":22157051,"display_name":"Jessica Love"},"score":0,"creation_date":1688744452,"post_id":76595571,"comment_id":135119455,"body_markdown":"Ah, duh. My bad for such silly questions. Thank you very much. Very thankful to receive answers from a member such as yourself.","body":"Ah, duh. My bad for such silly questions. Thank you very much. Very thankful to receive answers from a member such as yourself."}],"tags":[],"owner":{"account_id":52822,"reputation":1089035,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688228373,"creation_date":1688228373,"answer_id":76595571,"question_id":76592148,"body_markdown":"&gt; *Is what I am describing possible?*\r\n\r\nYes. Use a Servlet Filter.\r\n\r\nHere&#39;s a kickoff example, the implementation should speak for itself:\r\n\r\n```java\r\n@WebFilter(&quot;/*&quot;)\r\npublic class DatabasePathFilter extends HttpFilter {\r\n\r\n    private static final String DATABASE_PATH = &quot;/database&quot;;\r\n\r\n    @Override\r\n    protected void doFilter(HttpServletRequest req, HttpServletResponse res, FilterChain chain) throws IOException, ServletException {\r\n        String ctx = req.getContextPath();\r\n        String uri = req.getRequestURI();\r\n\r\n        if (uri.startsWith(ctx + DATABASE_PATH)) {\r\n            String[] paths = uri.substring(ctx.length() + 1).split(&quot;/&quot;, 2);\r\n            String databasePath = paths[0];\r\n            req.setAttribute(&quot;databasePath&quot;, databasePath);\r\n            String servletPath = paths[1];\r\n            String servletUri = ctx + &quot;/&quot; + servletPath;\r\n            req.getRequestDispatcher(servletUri).forward(req, res);\r\n        }\r\n        else {\r\n            chain.doFilter(req, res);\r\n        }\r\n    }\r\n}\r\n```\r\nIn any servlet you can if necessary retrieve the database path by `req.getAttribute(&quot;databasePath&quot;)`.\r\n\r\n### See also: \r\n\r\n- https://stackoverflow.com/questions/2725102/how-to-use-a-servlet-filter-in-java-to-change-an-incoming-servlet-request-url\r\n\r\n","title":"Java Web Application Connecting to Multiple Databases Based on URL","body":"<blockquote>\n<p><em>Is what I am describing possible?</em></p>\n</blockquote>\n<p>Yes. Use a Servlet Filter.</p>\n<p>Here's a kickoff example, the implementation should speak for itself:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@WebFilter(&quot;/*&quot;)\npublic class DatabasePathFilter extends HttpFilter {\n\n    private static final String DATABASE_PATH = &quot;/database&quot;;\n\n    @Override\n    protected void doFilter(HttpServletRequest req, HttpServletResponse res, FilterChain chain) throws IOException, ServletException {\n        String ctx = req.getContextPath();\n        String uri = req.getRequestURI();\n\n        if (uri.startsWith(ctx + DATABASE_PATH)) {\n            String[] paths = uri.substring(ctx.length() + 1).split(&quot;/&quot;, 2);\n            String databasePath = paths[0];\n            req.setAttribute(&quot;databasePath&quot;, databasePath);\n            String servletPath = paths[1];\n            String servletUri = ctx + &quot;/&quot; + servletPath;\n            req.getRequestDispatcher(servletUri).forward(req, res);\n        }\n        else {\n            chain.doFilter(req, res);\n        }\n    }\n}\n</code></pre>\n<p>In any servlet you can if necessary retrieve the database path by <code>req.getAttribute(&quot;databasePath&quot;)</code>.</p>\n<h3>See also:</h3>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/2725102/how-to-use-a-servlet-filter-in-java-to-change-an-incoming-servlet-request-url\">How to use a servlet filter in Java to change an incoming servlet request url?</a></li>\n</ul>\n"}],"owner":{"account_id":28927523,"reputation":1,"user_id":22157051,"display_name":"Jessica Love"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1688228373,"creation_date":1688158134,"question_id":76592148,"body_markdown":"I have a Java Web Application that currently uses a JDBC resource and connection pool to connect to a database. Currently, I only connect to one database at a time. I would like to be able to run the same code but connect to different databases by including something in the URL. I need to be able to still access my servlets by URL too.\r\nFor example, the following links would run the same Servlet code, but for different databases.\r\nwww.myapp.com/database1/Scheduling\r\nwww.myapp.com/database2/Scheduling\r\n\r\nI would like the database configurations to be outside of the web application, so that when I add a new connection or edit a connection, I don&#39;t have to rebuild my war file. I think I can do this by keeping the configuration file on the web server and editing that instead. I picture having the end user launch the app and choose the database they want to connect to. Once they choose, I could then grab the connection details.\r\n\r\nThere is also the possibility that a user could have 2 databases/links open at once, and I need to manage that/make it possible. I assume that would deal more with the Sessions.\r\n\r\nI think I&#39;m getting hung up on how I would be able to parse the database1 piece out of the URL and still be able to access the servlet. I understand how to map servlets in the web.xml file, but I don&#39;t know that what I&#39;m describing is even possible. \r\n\r\nI&#39;ve been searching for a similar problem or question, but it seems the idea of having a web application that connects to different databases is more about accessing different components, such as a customer database and a product database. \r\n\r\nIs what I am describing possible? Can this be accomplished in another way than I am describing?\r\n\r\n\r\n\r\nI&#39;m looking at Hibernate and also considered the Spring Framework. I think I&#39;m a bit paralyzed at this point, not wanting to go down a path for something that isn&#39;t feasible or possible. \r\n\r\n\r\nThank you very much in advance","title":"Java Web Application Connecting to Multiple Databases Based on URL","body":"<p>I have a Java Web Application that currently uses a JDBC resource and connection pool to connect to a database. Currently, I only connect to one database at a time. I would like to be able to run the same code but connect to different databases by including something in the URL. I need to be able to still access my servlets by URL too.\nFor example, the following links would run the same Servlet code, but for different databases.\n<a href=\"http://www.myapp.com/database1/Scheduling\" rel=\"nofollow noreferrer\">www.myapp.com/database1/Scheduling</a>\n<a href=\"http://www.myapp.com/database2/Scheduling\" rel=\"nofollow noreferrer\">www.myapp.com/database2/Scheduling</a></p>\n<p>I would like the database configurations to be outside of the web application, so that when I add a new connection or edit a connection, I don't have to rebuild my war file. I think I can do this by keeping the configuration file on the web server and editing that instead. I picture having the end user launch the app and choose the database they want to connect to. Once they choose, I could then grab the connection details.</p>\n<p>There is also the possibility that a user could have 2 databases/links open at once, and I need to manage that/make it possible. I assume that would deal more with the Sessions.</p>\n<p>I think I'm getting hung up on how I would be able to parse the database1 piece out of the URL and still be able to access the servlet. I understand how to map servlets in the web.xml file, but I don't know that what I'm describing is even possible.</p>\n<p>I've been searching for a similar problem or question, but it seems the idea of having a web application that connects to different databases is more about accessing different components, such as a customer database and a product database.</p>\n<p>Is what I am describing possible? Can this be accomplished in another way than I am describing?</p>\n<p>I'm looking at Hibernate and also considered the Spring Framework. I think I'm a bit paralyzed at this point, not wanting to go down a path for something that isn't feasible or possible.</p>\n<p>Thank you very much in advance</p>\n"},{"tags":["java","spring","hibernate","hibernate-6.x"],"answers":[{"tags":[],"owner":{"account_id":3449881,"reputation":3520,"user_id":2889760,"display_name":"Gavin King"},"comment_count":0,"down_vote_count":3,"up_vote_count":8,"is_accepted":false,"score":5,"last_activity_date":1688226786,"creation_date":1684274879,"answer_id":76267365,"question_id":76255225,"body_markdown":"    12:36:11.892 [main] DEBUG \r\n\r\nThat&#39;s a _debug_-level log message. Why are you worried about it?\r\n\r\n### UPDATE\r\n\r\nThe other response on this thread is wildly wrong, so let me clarify the _actual situation_. \r\n\r\n\r\n1. Does Hibernate, as claimed, use field access by default. **No, it does not.** Hibernate uses field access when the mapping annotations are placed on fields, _as required by the JPA spec_. If the mapping annotations are placed on getters, it uses property access.\r\n2. Should Hibernate use getters and setters here, as claimed, instead of accessing fields directly. **No, it most definitely should not.** That would not comply with the JPA spec.\r\n3. Is this a problem? Does it result in &quot;suboptimal&quot; performance as claimed? **No it is not, and no it does not.** The &quot;reflection optimizer&quot; has at most an extremely marginal impact on performance, unmeasurable in most circumstances.\r\n4. Should one, in general, get upset and worried when Hibernate or any other library logs something at `DEBUG` level? **No one should not.** If it was actually something to be concerned about we would, at minimum, log a `WARN`. We assume that everyone has the log level set to `INFO` by default, so when we log something at `DEBUG` it&#39;s because _it&#39;s usually not worth paying attention to_.\r\n5. Should the user, to mitigate this non-problem, scatter `@Access(AccessType.PROPERTY)` annotations all over their entity classes? **PLEASE NO.** Don&#39;t do that. That&#39;s awful. That&#39;s not the way JPA is intended to be used.\r\n\r\nIf you do for some reason prefer property access to field access, you can place the mapping annotations on the getters. But that&#39;s not our recommendation anymore, and it&#39;s no longer common practice in the Hibernate community.\r\n\r\nI hope that helps, and I hope it corrects the FUD in the other answer on this thread.\r\n\r\n&lt;sub&gt;**For the record:** I&#39;m the creator of Hibernate, the person who originally added the &quot;reflection optimizer&quot; to Hibernate, and one of the people who actually wrote the JPA spec, including the relevant part of the spec.&lt;/sub&gt;","title":"HHH000513: Unable to create the ReflectionOptimizer for Entity after upgrading to Hibernate 6","body":"<pre><code>12:36:11.892 [main] DEBUG \n</code></pre>\n<p>That's a <em>debug</em>-level log message. Why are you worried about it?</p>\n<h3>UPDATE</h3>\n<p>The other response on this thread is wildly wrong, so let me clarify the <em>actual situation</em>.</p>\n<ol>\n<li>Does Hibernate, as claimed, use field access by default. <strong>No, it does not.</strong> Hibernate uses field access when the mapping annotations are placed on fields, <em>as required by the JPA spec</em>. If the mapping annotations are placed on getters, it uses property access.</li>\n<li>Should Hibernate use getters and setters here, as claimed, instead of accessing fields directly. <strong>No, it most definitely should not.</strong> That would not comply with the JPA spec.</li>\n<li>Is this a problem? Does it result in &quot;suboptimal&quot; performance as claimed? <strong>No it is not, and no it does not.</strong> The &quot;reflection optimizer&quot; has at most an extremely marginal impact on performance, unmeasurable in most circumstances.</li>\n<li>Should one, in general, get upset and worried when Hibernate or any other library logs something at <code>DEBUG</code> level? <strong>No one should not.</strong> If it was actually something to be concerned about we would, at minimum, log a <code>WARN</code>. We assume that everyone has the log level set to <code>INFO</code> by default, so when we log something at <code>DEBUG</code> it's because <em>it's usually not worth paying attention to</em>.</li>\n<li>Should the user, to mitigate this non-problem, scatter <code>@Access(AccessType.PROPERTY)</code> annotations all over their entity classes? <strong>PLEASE NO.</strong> Don't do that. That's awful. That's not the way JPA is intended to be used.</li>\n</ol>\n<p>If you do for some reason prefer property access to field access, you can place the mapping annotations on the getters. But that's not our recommendation anymore, and it's no longer common practice in the Hibernate community.</p>\n<p>I hope that helps, and I hope it corrects the FUD in the other answer on this thread.</p>\n<p><sub><strong>For the record:</strong> I'm the creator of Hibernate, the person who originally added the &quot;reflection optimizer&quot; to Hibernate, and one of the people who actually wrote the JPA spec, including the relevant part of the spec.</sub></p>\n"},{"tags":[],"owner":{"account_id":4181375,"reputation":5121,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"comment_count":0,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1684305518,"creation_date":1684305518,"answer_id":76269174,"question_id":76255225,"body_markdown":"**Short story**\r\n\r\nPlace `@Access(AccessType.PROPERTY)` annotation over your entity class.\r\n\r\n**Long story**\r\n\r\nWhen Hibernate is reading data from DB it needs somehow instantiate entity object and populate it&#39;s field values, there are a couple of options to do that:\r\n1. use reflection access\r\n2. generate some helper class which will do that in more optimal way (yep, reflection access is still slow)\r\n\r\nException you are observing\r\n\r\n```\r\nPrivateAccessorException: private accessor [createdTime]\r\n```\r\n\r\nmeans following: Hibernate was trying to generate helper class, but figured out the particular `createdTime` field has private access, which in turn prevents helper class generation. However the actual root cause is Hibernate was not even considering getter and setter methods (POJO &quot;properties&quot;) present in entity class, just because by default Hibernate prefers using field access to property access (please check https://thorben-janssen.com/access-strategies-in-jpa-and-hibernate/). So, in general, you are right: such exception is not benign - it reveals you are getting suboptimal behaviour of Hibernate.","title":"HHH000513: Unable to create the ReflectionOptimizer for Entity after upgrading to Hibernate 6","body":"<p><strong>Short story</strong></p>\n<p>Place <code>@Access(AccessType.PROPERTY)</code> annotation over your entity class.</p>\n<p><strong>Long story</strong></p>\n<p>When Hibernate is reading data from DB it needs somehow instantiate entity object and populate it's field values, there are a couple of options to do that:</p>\n<ol>\n<li>use reflection access</li>\n<li>generate some helper class which will do that in more optimal way (yep, reflection access is still slow)</li>\n</ol>\n<p>Exception you are observing</p>\n<pre><code>PrivateAccessorException: private accessor [createdTime]\n</code></pre>\n<p>means following: Hibernate was trying to generate helper class, but figured out the particular <code>createdTime</code> field has private access, which in turn prevents helper class generation. However the actual root cause is Hibernate was not even considering getter and setter methods (POJO &quot;properties&quot;) present in entity class, just because by default Hibernate prefers using field access to property access (please check <a href=\"https://thorben-janssen.com/access-strategies-in-jpa-and-hibernate/\" rel=\"nofollow noreferrer\">https://thorben-janssen.com/access-strategies-in-jpa-and-hibernate/</a>). So, in general, you are right: such exception is not benign - it reveals you are getting suboptimal behaviour of Hibernate.</p>\n"}],"owner":{"account_id":11296302,"reputation":2929,"user_id":8283737,"accept_rate":89,"display_name":"Arun Gowda"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2395,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"answer_count":2,"score":2,"last_activity_date":1688226786,"creation_date":1684161791,"question_id":76255225,"body_markdown":"Recently upgraded from Hibernate 5 to 6 and I see the following error in debug level.\r\n\r\n\r\n    12:36:11.892 [main] DEBUG org.hibernate.bytecode.internal.bytebuddy.BytecodeProviderImpl - HHH000513: Unable to create the ReflectionOptimizer for [abc.def.ghi.OrderEventEntity]\r\n    org.hibernate.bytecode.internal.bytebuddy.PrivateAccessorException: private accessor [createdTime]\r\n    \tat org.hibernate.bytecode.internal.bytebuddy.BytecodeProviderImpl.findAccessors(BytecodeProviderImpl.java:1250) ~[hibernate-core-6.2.2.Final.jar:6.2.2.Final]\r\n\r\n\r\nOrderEntity.java\r\n\r\n    @Data\r\n    @Entity\r\n    @Table(name = &quot;OMS_ORDER_EVENTS&quot;)\r\n    public class OrderEventEntity {\r\n    \r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;oms_order_events_seq&quot;)\r\n        @SequenceGenerator(name = &quot;oms_order_events_seq&quot;, sequenceName = &quot;OMS_ORDER_EVENTS_SEQ&quot;, allocationSize = 1)\r\n        @Column(name = &quot;ID&quot;)\r\n        private Long id;\r\n    \r\n        @Column(name = &quot;ORDER_ID&quot;)\r\n        private Long orderId;\r\n    \r\n        @Column(name = &quot;VERSION_NUMBER&quot;)\r\n        private Integer versionNumber;\r\n    \r\n        @Column(name = &quot;GENERATED_BY&quot;)\r\n        @Enumerated(value = EnumType.STRING)\r\n        private EventGenerator generatedBy;\r\n    \r\n        @Column(name = &quot;USER_CONTACT_ID&quot;)\r\n        private String userContactId;\r\n    \r\n        @Column(name = &quot;EVENT_TYPE&quot;)\r\n        @Enumerated(value = EnumType.STRING)\r\n        private EventType eventType;\r\n    \r\n        @Column(name = &quot;CREATED_TIME&quot;)\r\n        private Date createdTime;\r\n    }\r\n\r\nThere is no trace of anything related to this over the internet whatsoever. Currently my Spring web app is not coming up and I was guessing if this could be the issue. \r\n\r\nEDIT:\r\n\r\nI figured there was a `ClassDefNotFoundException` from some other external library and it was not printed in the logs. This is the reason why my application was not coming up.\r\n\r\n\r\n","title":"HHH000513: Unable to create the ReflectionOptimizer for Entity after upgrading to Hibernate 6","body":"<p>Recently upgraded from Hibernate 5 to 6 and I see the following error in debug level.</p>\n<pre><code>12:36:11.892 [main] DEBUG org.hibernate.bytecode.internal.bytebuddy.BytecodeProviderImpl - HHH000513: Unable to create the ReflectionOptimizer for [abc.def.ghi.OrderEventEntity]\norg.hibernate.bytecode.internal.bytebuddy.PrivateAccessorException: private accessor [createdTime]\n    at org.hibernate.bytecode.internal.bytebuddy.BytecodeProviderImpl.findAccessors(BytecodeProviderImpl.java:1250) ~[hibernate-core-6.2.2.Final.jar:6.2.2.Final]\n</code></pre>\n<p>OrderEntity.java</p>\n<pre><code>@Data\n@Entity\n@Table(name = &quot;OMS_ORDER_EVENTS&quot;)\npublic class OrderEventEntity {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;oms_order_events_seq&quot;)\n    @SequenceGenerator(name = &quot;oms_order_events_seq&quot;, sequenceName = &quot;OMS_ORDER_EVENTS_SEQ&quot;, allocationSize = 1)\n    @Column(name = &quot;ID&quot;)\n    private Long id;\n\n    @Column(name = &quot;ORDER_ID&quot;)\n    private Long orderId;\n\n    @Column(name = &quot;VERSION_NUMBER&quot;)\n    private Integer versionNumber;\n\n    @Column(name = &quot;GENERATED_BY&quot;)\n    @Enumerated(value = EnumType.STRING)\n    private EventGenerator generatedBy;\n\n    @Column(name = &quot;USER_CONTACT_ID&quot;)\n    private String userContactId;\n\n    @Column(name = &quot;EVENT_TYPE&quot;)\n    @Enumerated(value = EnumType.STRING)\n    private EventType eventType;\n\n    @Column(name = &quot;CREATED_TIME&quot;)\n    private Date createdTime;\n}\n</code></pre>\n<p>There is no trace of anything related to this over the internet whatsoever. Currently my Spring web app is not coming up and I was guessing if this could be the issue.</p>\n<p>EDIT:</p>\n<p>I figured there was a <code>ClassDefNotFoundException</code> from some other external library and it was not printed in the logs. This is the reason why my application was not coming up.</p>\n"},{"tags":["java","spring-boot","junit"],"answers":[{"tags":[],"owner":{"account_id":2792262,"reputation":163877,"user_id":2402272,"accept_rate":85,"display_name":"John Bollinger"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1688225302,"creation_date":1688224512,"answer_id":76595309,"question_id":76594416,"body_markdown":"Generally speaking, the normal way to form the kind of Cartesian product you describe would be with a set of nested loops or an analogous shallow recursion.\r\n\r\n&gt; The problem is the number of provided arguments is not definite, for\r\n&gt; example, in a part of my app, I don&#39;t want to provide list of emails,\r\n&gt; so all created users have &quot;null&quot; email field.\r\n&gt; \r\n&gt; how can I achieve proper results efficiently?(Is there any library or\r\n&gt; so on ?) feel free to change input parameters or output of &quot;factory&quot;\r\n&gt; method if necessary.\r\n\r\nYour alternatives depend a little on the details of `User`.  For example, what constructors does it have, or are you willing to give it?  Are (all) its fields modifiable after an instance is initialized?\r\n\r\nOne flexible approach that is adaptable to pretty much any specifics would involve a stateful factory class, something like this:\r\n```\r\npublic class UserFactory {\r\n   // Fields corresponding to those of User\r\n   String name;\r\n   String email;\r\n   int age;\r\n   Role[] role;\r\n   // ...\r\n\r\n   // constructor(s), maybe ...\r\n\r\n   // setters ...\r\n\r\n   /**\r\n    * Instantiate and return a User with properties as presently configured on\r\n    * this factory\r\n    */\r\n   public User createUser() {\r\n       // ...\r\n   }\r\n\r\n   // ... see also below ...\r\n}\r\n```\r\nSuch a factory assists you in building up a set of properties for a `User` in a flexible manner, and it abstracts away the details of actually creating a `User` instance with the desired properties.\r\n\r\nBut if you are going to specify lists of property values via a map or similar, then you need a way to use the keys of that map to set factory (or `User`) properties.  For our purposes, it is convenient to put that on the factory class, and that has the additional benefit of keeping `User` cleaner:\r\n```\r\n   // in class UserFactory:\r\n\r\n   /**\r\n    * Sets the property of this factory specified by the given name to the\r\n    * given value, which must be of an appropriate type.\r\n    *\r\n    * @throws IllegalArgumentException if the specified property name is not\r\n    *         among the allowed property names\r\n    *\r\n    * @throws ClassCastException if the type of the specified value is not\r\n    *         appropriate for the specified property\r\n    */\r\n   void setPropertyByName(String name, Object value) {\r\n       // ...\r\n   }\r\n```\r\nThere are all sorts of ways you could implement that, but it is important to recognize that with that signature, it will necessarily rely on type-casting the value objects.  There are ways to wring type-safety out of something like this, but they would involve adding even more complexity to something that is already pretty complex for a test-support utility.  I don&#39;t think that&#39;s worthwhile.\r\n\r\nHaving that in place, the factory class is also a reasonable place to hang a method that generates the `User` lists you want, maybe something like this:\r\n```\r\n    // in class UserFactory:\r\n\r\n    /**\r\n     * Forms a Cartesian product of the property values given by the value lists\r\n     * in the specified map.  Uses each of the resulting property sets together\r\n     * with any other properties already set on the specified factory to create\r\n     * a User, and returns a List of the resulting users.\r\n     *\r\n     * @param properties a Map from property names to lists of objects suitable\r\n     *     for use as values of the designated property\r\n     *\r\n     * @param factory a UserFactory to use for User creation.  Any User\r\n     *     properties whose values are not specified via the provided\r\n     *     property map will take values as configured on this factory\r\n     *\r\n     * @return an unmodifiable List of User instances having combinations of\r\n     *     property values drawn from the specified Map\r\n     */\r\n    static List&lt;User&gt; createUsers(Map&lt;String, List&lt;?&gt;&gt; properties,\r\n            UserFactory factory) {\r\n        // Extract the first property list, if any, ignoring any empty ones\r\n        Optional&lt;Map.Entry&lt;String, List&lt;?&gt;&gt;&gt; firstEntry =\r\n                properties.entrySet().stream()\r\n                    .filter((x) -&gt; !x.getValue().isEmpty())\r\n                    .findFirst();\r\n\r\n        if (firstEntry.isEmpty()) {\r\n            // There are no (more) non-empty property lists.\r\n            // Use the properties configured on the factory to create a single\r\n            // User.\r\n            return List.of(factory.createUser());\r\n        } else {\r\n            // Extract the selected property name, and form a Map containing the\r\n            // properties other than the selected one.\r\n            Map&lt;String, List&lt;?&gt;&gt; submap = new HashMap&lt;&gt;(properties);\r\n            String propertyName = firstEntry.get().getKey();\r\n\r\n            submap.remove(propertyName);\r\n\r\n            // Set the selected property in the factory to each specified value\r\n            // in turn, and generate User objects that can then be formed by the\r\n            // factory with combinations of the remaining properties.\r\n            return firstEntry.get().getValue().stream()\r\n                    .flatMap((x) -&gt; {\r\n                            factory.setPropertyByName(propertyName, x);\r\n                            return createUsers(submap, factory).stream();\r\n                        })\r\n                    .toList();\r\n        }\r\n    }\r\n```\r\nThat uses recursion (one level per property name) combined with iteration over the property value lists to ultimately generate one `User` with each combination of property values.  If there are any properties not listed in the map passed to the top-level call, then the values of those properties set on the resulting `User`s will be determined by the provided `UserFactory` instance.\r\n\r\nDo note, however:\r\n\r\n - If the property lists contain duplicate values then you will get duplicate `User`s.  Perhaps a lot of them.  If you want to avoid the possibility of that, then you could consider adapting that to use `Set`s instead of `List`s for the properties, but that will help only for some types of property values (in particular, *not* for arrays).\r\n\r\n - Inasmuch as you have at least one property whose value is an array, the above expects you to provide all the wanted *arrays* in the corresponding property value list -- not their individual elements.  There are various ways you could adapt to generating arrays of element combinations, too, which I leave as an exercise.\r\n\r\n - Where any of the User properties take values of mutable type (arrays, for example, and maybe `Role`s or similar), you need either to make copies of those, probably in `UserFactory.createUser()`, or else accept that the `User` objects will have shared, mutable state.  The latter could easily set you up for unpleasant surprises.\r\n","title":"Create Objects using Cartesian product of provided fields","body":"<p>Generally speaking, the normal way to form the kind of Cartesian product you describe would be with a set of nested loops or an analogous shallow recursion.</p>\n<blockquote>\n<p>The problem is the number of provided arguments is not definite, for\nexample, in a part of my app, I don't want to provide list of emails,\nso all created users have &quot;null&quot; email field.</p>\n<p>how can I achieve proper results efficiently?(Is there any library or\nso on ?) feel free to change input parameters or output of &quot;factory&quot;\nmethod if necessary.</p>\n</blockquote>\n<p>Your alternatives depend a little on the details of <code>User</code>.  For example, what constructors does it have, or are you willing to give it?  Are (all) its fields modifiable after an instance is initialized?</p>\n<p>One flexible approach that is adaptable to pretty much any specifics would involve a stateful factory class, something like this:</p>\n<pre><code>public class UserFactory {\n   // Fields corresponding to those of User\n   String name;\n   String email;\n   int age;\n   Role[] role;\n   // ...\n\n   // constructor(s), maybe ...\n\n   // setters ...\n\n   /**\n    * Instantiate and return a User with properties as presently configured on\n    * this factory\n    */\n   public User createUser() {\n       // ...\n   }\n\n   // ... see also below ...\n}\n</code></pre>\n<p>Such a factory assists you in building up a set of properties for a <code>User</code> in a flexible manner, and it abstracts away the details of actually creating a <code>User</code> instance with the desired properties.</p>\n<p>But if you are going to specify lists of property values via a map or similar, then you need a way to use the keys of that map to set factory (or <code>User</code>) properties.  For our purposes, it is convenient to put that on the factory class, and that has the additional benefit of keeping <code>User</code> cleaner:</p>\n<pre><code>   // in class UserFactory:\n\n   /**\n    * Sets the property of this factory specified by the given name to the\n    * given value, which must be of an appropriate type.\n    *\n    * @throws IllegalArgumentException if the specified property name is not\n    *         among the allowed property names\n    *\n    * @throws ClassCastException if the type of the specified value is not\n    *         appropriate for the specified property\n    */\n   void setPropertyByName(String name, Object value) {\n       // ...\n   }\n</code></pre>\n<p>There are all sorts of ways you could implement that, but it is important to recognize that with that signature, it will necessarily rely on type-casting the value objects.  There are ways to wring type-safety out of something like this, but they would involve adding even more complexity to something that is already pretty complex for a test-support utility.  I don't think that's worthwhile.</p>\n<p>Having that in place, the factory class is also a reasonable place to hang a method that generates the <code>User</code> lists you want, maybe something like this:</p>\n<pre><code>    // in class UserFactory:\n\n    /**\n     * Forms a Cartesian product of the property values given by the value lists\n     * in the specified map.  Uses each of the resulting property sets together\n     * with any other properties already set on the specified factory to create\n     * a User, and returns a List of the resulting users.\n     *\n     * @param properties a Map from property names to lists of objects suitable\n     *     for use as values of the designated property\n     *\n     * @param factory a UserFactory to use for User creation.  Any User\n     *     properties whose values are not specified via the provided\n     *     property map will take values as configured on this factory\n     *\n     * @return an unmodifiable List of User instances having combinations of\n     *     property values drawn from the specified Map\n     */\n    static List&lt;User&gt; createUsers(Map&lt;String, List&lt;?&gt;&gt; properties,\n            UserFactory factory) {\n        // Extract the first property list, if any, ignoring any empty ones\n        Optional&lt;Map.Entry&lt;String, List&lt;?&gt;&gt;&gt; firstEntry =\n                properties.entrySet().stream()\n                    .filter((x) -&gt; !x.getValue().isEmpty())\n                    .findFirst();\n\n        if (firstEntry.isEmpty()) {\n            // There are no (more) non-empty property lists.\n            // Use the properties configured on the factory to create a single\n            // User.\n            return List.of(factory.createUser());\n        } else {\n            // Extract the selected property name, and form a Map containing the\n            // properties other than the selected one.\n            Map&lt;String, List&lt;?&gt;&gt; submap = new HashMap&lt;&gt;(properties);\n            String propertyName = firstEntry.get().getKey();\n\n            submap.remove(propertyName);\n\n            // Set the selected property in the factory to each specified value\n            // in turn, and generate User objects that can then be formed by the\n            // factory with combinations of the remaining properties.\n            return firstEntry.get().getValue().stream()\n                    .flatMap((x) -&gt; {\n                            factory.setPropertyByName(propertyName, x);\n                            return createUsers(submap, factory).stream();\n                        })\n                    .toList();\n        }\n    }\n</code></pre>\n<p>That uses recursion (one level per property name) combined with iteration over the property value lists to ultimately generate one <code>User</code> with each combination of property values.  If there are any properties not listed in the map passed to the top-level call, then the values of those properties set on the resulting <code>User</code>s will be determined by the provided <code>UserFactory</code> instance.</p>\n<p>Do note, however:</p>\n<ul>\n<li><p>If the property lists contain duplicate values then you will get duplicate <code>User</code>s.  Perhaps a lot of them.  If you want to avoid the possibility of that, then you could consider adapting that to use <code>Set</code>s instead of <code>List</code>s for the properties, but that will help only for some types of property values (in particular, <em>not</em> for arrays).</p>\n</li>\n<li><p>Inasmuch as you have at least one property whose value is an array, the above expects you to provide all the wanted <em>arrays</em> in the corresponding property value list -- not their individual elements.  There are various ways you could adapt to generating arrays of element combinations, too, which I leave as an exercise.</p>\n</li>\n<li><p>Where any of the User properties take values of mutable type (arrays, for example, and maybe <code>Role</code>s or similar), you need either to make copies of those, probably in <code>UserFactory.createUser()</code>, or else accept that the <code>User</code> objects will have shared, mutable state.  The latter could easily set you up for unpleasant surprises.</p>\n</li>\n</ul>\n"}],"owner":{"account_id":28619358,"reputation":5,"user_id":21912682,"display_name":"mohammadAli Olama"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76595309,"answer_count":1,"score":0,"last_activity_date":1688225302,"creation_date":1688209711,"question_id":76594416,"body_markdown":"Suppose I have a class like this :\r\n\r\n\r\n``` java\r\nclass User{\r\n\r\n   String name;\r\n   String email;\r\n   int age;\r\n   Role[] role;\r\n   // other fields.\r\n\r\n\r\n   // constructors, getters , setters , ...\r\n\r\n}\r\n```\r\nwhere &quot;Role&quot; is another defined class(or enum, does not matter).\r\n\r\n\r\nnow suppose I have a list of names, a list of ages, a list of list of roles(or a list of arrays of roles does not matter) , ...(other possible fields) and I want to create all possible combination of these fields to create all combination of users(Cartesian product of fields.)\r\n\r\n``` java\r\nList&lt;User&gt; factory(Map&lt;String , List&gt; arguments){\r\n   List&lt;User&gt; result = new ArrayList&lt;&gt;();\r\n\r\n   // add all possible combination of created Users using &quot;arguments&quot; paramether.\r\n\r\n\r\n   return result;\r\n}\r\n```\r\n\r\n\r\n\r\nThe problem is the number of provided arguments is not definite, for example, in a part of my app, I don&#39;t want to provide list of emails, so all created users have &quot;null&quot; email field.\r\n\r\nhow can I achieve proper results efficiently?(Is there any library or so on ?)\r\nfeel free to change input parameters or output of &quot;factory&quot; method if necessary.\r\n\r\nP.s: We are developing an spring boot web application and we test our methods with Junit and Mockito. we want to test methods in different layers with a lot of data, but we don&#39;t want to harcode so many duplicate lines of code to generate samples. we want something like a &quot;factory&quot; method to generate all possible objects of a provided class with provided arguments.","title":"Create Objects using Cartesian product of provided fields","body":"<p>Suppose I have a class like this :</p>\n<pre class=\"lang-java prettyprint-override\"><code>class User{\n\n   String name;\n   String email;\n   int age;\n   Role[] role;\n   // other fields.\n\n\n   // constructors, getters , setters , ...\n\n}\n</code></pre>\n<p>where &quot;Role&quot; is another defined class(or enum, does not matter).</p>\n<p>now suppose I have a list of names, a list of ages, a list of list of roles(or a list of arrays of roles does not matter) , ...(other possible fields) and I want to create all possible combination of these fields to create all combination of users(Cartesian product of fields.)</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;User&gt; factory(Map&lt;String , List&gt; arguments){\n   List&lt;User&gt; result = new ArrayList&lt;&gt;();\n\n   // add all possible combination of created Users using &quot;arguments&quot; paramether.\n\n\n   return result;\n}\n</code></pre>\n<p>The problem is the number of provided arguments is not definite, for example, in a part of my app, I don't want to provide list of emails, so all created users have &quot;null&quot; email field.</p>\n<p>how can I achieve proper results efficiently?(Is there any library or so on ?)\nfeel free to change input parameters or output of &quot;factory&quot; method if necessary.</p>\n<p>P.s: We are developing an spring boot web application and we test our methods with Junit and Mockito. we want to test methods in different layers with a lot of data, but we don't want to harcode so many duplicate lines of code to generate samples. we want something like a &quot;factory&quot; method to generate all possible objects of a provided class with provided arguments.</p>\n"},{"tags":["java","mysql","maven"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1688214227,"post_id":76594679,"comment_id":135045873,"body_markdown":"You&#39;ve got no Maven Shade (or similar) there so you&#39;ll have no fat jar. Without a fat jar, you will have to include the driver jar in the classpath if you want to to run your jar","body":"You&#39;ve got no Maven Shade (or similar) there so you&#39;ll have no fat jar. Without a fat jar, you will have to include the driver jar in the classpath if you want to to run your jar"},{"owner":{"account_id":24452715,"reputation":9,"user_id":18374716,"display_name":"mohamed boulaoudja"},"score":1,"creation_date":1688216628,"post_id":76594679,"comment_id":135046077,"body_markdown":"I&#39;m sorry but i didn&#39;t understand you","body":"I&#39;m sorry but i didn&#39;t understand you"},{"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"score":0,"creation_date":1688223505,"post_id":76594679,"comment_id":135046779,"body_markdown":"@mohamedboulaoudja see https://stackoverflow.com/questions/75083820/maven-exported-jar-doesnt-find-maven-dependency-although-i-can-run-the-main-clas","body":"@mohamedboulaoudja see <a href=\"https://stackoverflow.com/questions/75083820/maven-exported-jar-doesnt-find-maven-dependency-although-i-can-run-the-main-clas\" title=\"maven exported jar doesnt find maven dependency although i can run the main clas\">stackoverflow.com/questions/75083820/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":22494422,"reputation":56,"user_id":16691669,"display_name":"cucumbercoast"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688224824,"creation_date":1688224824,"answer_id":76595330,"question_id":76594679,"body_markdown":"Your jar is missing the MySQL dependency. To make a jar with all of your project&#39;s dependecies you can use the [Maven Assembly](https://maven.apache.org/plugins/maven-assembly-plugin) plugin. Add this to your ```pom.xml``` file:\r\n```\r\n&lt;build&gt;\r\n    &lt;finalName&gt;my-project-name&lt;/finalName&gt;\r\n    &lt;plugins&gt;\r\n        &lt;plugin&gt;\r\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n            &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;3.6.0&lt;/version&gt;\r\n            &lt;configuration&gt;\r\n                &lt;descriptorRefs&gt;\r\n                    &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\r\n                &lt;/descriptorRefs&gt;\r\n            &lt;/configuration&gt;\r\n            &lt;executions&gt;\r\n                &lt;execution&gt;\r\n                    &lt;id&gt;make-assembly&lt;/id&gt;\r\n                    &lt;phase&gt;package&lt;/phase&gt;\r\n                    &lt;goals&gt;\r\n                        &lt;goal&gt;single&lt;/goal&gt;\r\n                    &lt;/goals&gt;\r\n                &lt;/execution&gt;\r\n            &lt;/executions&gt;\r\n        &lt;/plugin&gt;\r\n    &lt;/plugins&gt;\r\n&lt;/build&gt;\r\n```\r\nThen build the jar using: ```mvn clean package```\r\n\r\nThis post explains it nicely: [jenkov.com/tutorials/maven/maven-build-fat-jar.html](https://jenkov.com/tutorials/maven/maven-build-fat-jar.html)","title":"java.lang.classnotfoundexception: com.mysql.jc.jdbc.driver","body":"<p>Your jar is missing the MySQL dependency. To make a jar with all of your project's dependecies you can use the <a href=\"https://maven.apache.org/plugins/maven-assembly-plugin\" rel=\"nofollow noreferrer\">Maven Assembly</a> plugin. Add this to your <code>pom.xml</code> file:</p>\n<pre><code>&lt;build&gt;\n    &lt;finalName&gt;my-project-name&lt;/finalName&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.6.0&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;descriptorRefs&gt;\n                    &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\n                &lt;/descriptorRefs&gt;\n            &lt;/configuration&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;id&gt;make-assembly&lt;/id&gt;\n                    &lt;phase&gt;package&lt;/phase&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;single&lt;/goal&gt;\n                    &lt;/goals&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n<p>Then build the jar using: <code>mvn clean package</code></p>\n<p>This post explains it nicely: <a href=\"https://jenkov.com/tutorials/maven/maven-build-fat-jar.html\" rel=\"nofollow noreferrer\">jenkov.com/tutorials/maven/maven-build-fat-jar.html</a></p>\n"}],"owner":{"account_id":24452715,"reputation":9,"user_id":18374716,"display_name":"mohamed boulaoudja"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1688224824,"creation_date":1688213977,"question_id":76594679,"body_markdown":"My application(java maven) works fine when I run it from within netbeans but when I extract its jar file it shows me this error : java.lang.classnotfoundexception: com.mysql.jc.jdbc.driver or this no suitable driver found for jdbc:mysql:/localhost\r\n\r\n\r\nin my pom.xml file i have add my sql driver to dependency\r\n\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;groupId&gt;NIS&lt;/groupId&gt;\r\n    &lt;artifactId&gt;NIS&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n    &lt;packaging&gt;jar&lt;/packaging&gt;\r\n    &lt;repositories&gt;\r\n        &lt;repository&gt;\r\n            &lt;id&gt;unknown-jars-temp-repo&lt;/id&gt;\r\n            &lt;name&gt;A temporary repository created by NetBeans for libraries and jars it could not identify. Please replace the dependencies in this repository with correct ones and delete this repository.&lt;/name&gt;\r\n            &lt;url&gt;file:${project.basedir}/lib&lt;/url&gt;\r\n        &lt;/repository&gt;\r\n    &lt;/repositories&gt;\r\n    \r\n    &lt;properties&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n        &lt;exec.mainClass&gt;NIS.NIS&lt;/exec.mainClass&gt;\r\n        &lt;maven.compiler.release&gt;17&lt;/maven.compiler.release&gt;\r\n    &lt;/properties&gt;\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.mysql&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\r\n            &lt;version&gt;8.0.33&lt;/version&gt;\r\n            &lt;scope&gt;runtime&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;unknown.binary&lt;/groupId&gt;\r\n            &lt;artifactId&gt;AbsoluteLayout&lt;/artifactId&gt;\r\n            &lt;version&gt;SNAPSHOT&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;unknown.binary&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jcalendar-1.4&lt;/artifactId&gt;\r\n            &lt;version&gt;SNAPSHOT&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt; \r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.1.0&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;archive&gt;\r\n                        &lt;manifest&gt;\r\n                            &lt;mainClass&gt;NIS.NIS&lt;/mainClass&gt;\r\n                        &lt;/manifest&gt;\r\n                    &lt;/archive&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n&lt;/project&gt;\r\n```\r\n","title":"java.lang.classnotfoundexception: com.mysql.jc.jdbc.driver","body":"<p>My application(java maven) works fine when I run it from within netbeans but when I extract its jar file it shows me this error : java.lang.classnotfoundexception: com.mysql.jc.jdbc.driver or this no suitable driver found for jdbc:mysql:/localhost</p>\n<p>in my pom.xml file i have add my sql driver to dependency</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;groupId&gt;NIS&lt;/groupId&gt;\n    &lt;artifactId&gt;NIS&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n    &lt;packaging&gt;jar&lt;/packaging&gt;\n    &lt;repositories&gt;\n        &lt;repository&gt;\n            &lt;id&gt;unknown-jars-temp-repo&lt;/id&gt;\n            &lt;name&gt;A temporary repository created by NetBeans for libraries and jars it could not identify. Please replace the dependencies in this repository with correct ones and delete this repository.&lt;/name&gt;\n            &lt;url&gt;file:${project.basedir}/lib&lt;/url&gt;\n        &lt;/repository&gt;\n    &lt;/repositories&gt;\n    \n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;exec.mainClass&gt;NIS.NIS&lt;/exec.mainClass&gt;\n        &lt;maven.compiler.release&gt;17&lt;/maven.compiler.release&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\n            &lt;version&gt;8.0.33&lt;/version&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;unknown.binary&lt;/groupId&gt;\n            &lt;artifactId&gt;AbsoluteLayout&lt;/artifactId&gt;\n            &lt;version&gt;SNAPSHOT&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;unknown.binary&lt;/groupId&gt;\n            &lt;artifactId&gt;jcalendar-1.4&lt;/artifactId&gt;\n            &lt;version&gt;SNAPSHOT&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt; \n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.1.0&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;archive&gt;\n                        &lt;manifest&gt;\n                            &lt;mainClass&gt;NIS.NIS&lt;/mainClass&gt;\n                        &lt;/manifest&gt;\n                    &lt;/archive&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n"},{"tags":["java","google-api","google-signin","google-api-java-client","google-client"],"answers":[{"comments":[{"owner":{"account_id":8878226,"reputation":6251,"user_id":6629515,"display_name":"Oleksandr Yefymov"},"score":0,"creation_date":1688220437,"post_id":75245000,"comment_id":135046464,"body_markdown":"this sample from doc does not helpful. What should be then &#39;transport, jsonFactory&#39; ? It was question of the author, we are on the same stage in integration.","body":"this sample from doc does not helpful. What should be then &#39;transport, jsonFactory&#39; ? It was question of the author, we are on the same stage in integration."}],"tags":[],"owner":{"account_id":2066403,"reputation":109440,"user_id":1841839,"accept_rate":71,"display_name":"Linda Lawton - DaImTo"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674729612,"creation_date":1674729612,"answer_id":75245000,"question_id":75209562,"body_markdown":"There is a sample for this on the [Verify the Google ID token on your server side](https://developers.google.com/identity/gsi/web/guides/verify-google-id-token) documentation page\r\n\r\nYou apear to be using an old sample i dont think they use `GsonFactory` anymore with the java library it was removed.\r\n\r\n\r\n\r\n    import com.google.api.client.googleapis.auth.oauth2.GoogleIdToken;\r\n    import com.google.api.client.googleapis.auth.oauth2.GoogleIdToken.Payload;\r\n    import com.google.api.client.googleapis.auth.oauth2.GoogleIdTokenVerifier;\r\n    \r\n    ...\r\n    \r\n    GoogleIdTokenVerifier verifier = new GoogleIdTokenVerifier.Builder(transport, jsonFactory)\r\n        // Specify the CLIENT_ID of the app that accesses the backend:\r\n        .setAudience(Collections.singletonList(CLIENT_ID))\r\n        // Or, if multiple clients access the backend:\r\n        //.setAudience(Arrays.asList(CLIENT_ID_1, CLIENT_ID_2, CLIENT_ID_3))\r\n        .build();\r\n    \r\n    // (Receive idTokenString by HTTPS POST)\r\n    \r\n    GoogleIdToken idToken = verifier.verify(idTokenString);\r\n    if (idToken != null) {\r\n      Payload payload = idToken.getPayload();\r\n    \r\n      // Print user identifier\r\n      String userId = payload.getSubject();\r\n      System.out.println(&quot;User ID: &quot; + userId);\r\n    \r\n      // Get profile information from payload\r\n      String email = payload.getEmail();\r\n      boolean emailVerified = Boolean.valueOf(payload.getEmailVerified());\r\n      String name = (String) payload.get(&quot;name&quot;);\r\n      String pictureUrl = (String) payload.get(&quot;picture&quot;);\r\n      String locale = (String) payload.get(&quot;locale&quot;);\r\n      String familyName = (String) payload.get(&quot;family_name&quot;);\r\n      String givenName = (String) payload.get(&quot;given_name&quot;);\r\n    \r\n      // Use or store profile information\r\n      // ...\r\n    \r\n    } else {\r\n      System.out.println(&quot;Invalid ID token.&quot;);\r\n    }","title":"Error trying to create an instance of GoogleIdTokenVerifier using the Java Google Client Api","body":"<p>There is a sample for this on the <a href=\"https://developers.google.com/identity/gsi/web/guides/verify-google-id-token\" rel=\"nofollow noreferrer\">Verify the Google ID token on your server side</a> documentation page</p>\n<p>You apear to be using an old sample i dont think they use <code>GsonFactory</code> anymore with the java library it was removed.</p>\n<pre><code>import com.google.api.client.googleapis.auth.oauth2.GoogleIdToken;\nimport com.google.api.client.googleapis.auth.oauth2.GoogleIdToken.Payload;\nimport com.google.api.client.googleapis.auth.oauth2.GoogleIdTokenVerifier;\n\n...\n\nGoogleIdTokenVerifier verifier = new GoogleIdTokenVerifier.Builder(transport, jsonFactory)\n    // Specify the CLIENT_ID of the app that accesses the backend:\n    .setAudience(Collections.singletonList(CLIENT_ID))\n    // Or, if multiple clients access the backend:\n    //.setAudience(Arrays.asList(CLIENT_ID_1, CLIENT_ID_2, CLIENT_ID_3))\n    .build();\n\n// (Receive idTokenString by HTTPS POST)\n\nGoogleIdToken idToken = verifier.verify(idTokenString);\nif (idToken != null) {\n  Payload payload = idToken.getPayload();\n\n  // Print user identifier\n  String userId = payload.getSubject();\n  System.out.println(&quot;User ID: &quot; + userId);\n\n  // Get profile information from payload\n  String email = payload.getEmail();\n  boolean emailVerified = Boolean.valueOf(payload.getEmailVerified());\n  String name = (String) payload.get(&quot;name&quot;);\n  String pictureUrl = (String) payload.get(&quot;picture&quot;);\n  String locale = (String) payload.get(&quot;locale&quot;);\n  String familyName = (String) payload.get(&quot;family_name&quot;);\n  String givenName = (String) payload.get(&quot;given_name&quot;);\n\n  // Use or store profile information\n  // ...\n\n} else {\n  System.out.println(&quot;Invalid ID token.&quot;);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8878226,"reputation":6251,"user_id":6629515,"display_name":"Oleksandr Yefymov"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688221488,"creation_date":1688221488,"answer_id":76595114,"question_id":75209562,"body_markdown":"Simple sample of usage:\r\n\r\n\r\n      @Slf4j\r\n      @Service\r\n      @FieldDefaults(level = AccessLevel.PRIVATE, makeFinal = true)\r\n      @RequiredArgsConstructor\r\n      class SocialAuthGoogleValidator implements SocialAuthValidatorStrategy {\r\n    \r\n        @Override\r\n        public void validate(LoginSocialInput input) {\r\n          log.debug(&quot;Validate: {}&quot;, input);\r\n    \r\n          NetHttpTransport httpTransport = new NetHttpTransport();\r\n          JsonFactory jsonFactory = new GsonFactory();\r\n    \r\n          GoogleIdTokenVerifier verifier = new GoogleIdTokenVerifier.Builder(httpTransport, jsonFactory)\r\n            .setAudience(Arrays.asList(\r\n              &quot;your-client-id&quot;,\r\n              &quot;your-client-id-2&quot;\r\n            ))\r\n            .build();\r\n    \r\n          try {\r\n            GoogleIdToken googleIdToken = verifier.verify(input.getProviderIdToken());\r\n            log.debug(&quot;Google ID token: {}&quot;, googleIdToken);\r\n            //todo here do wanted validation\r\n    \r\n          } catch (GeneralSecurityException | IOException e) {\r\n            log.warn(&quot;Token issue: {}&quot;, e.getMessage());\r\n            throw new AuthException(&quot;Invalid Google Auth&quot;);\r\n          }\r\n        }\r\n      }","title":"Error trying to create an instance of GoogleIdTokenVerifier using the Java Google Client Api","body":"<p>Simple sample of usage:</p>\n<pre><code>  @Slf4j\n  @Service\n  @FieldDefaults(level = AccessLevel.PRIVATE, makeFinal = true)\n  @RequiredArgsConstructor\n  class SocialAuthGoogleValidator implements SocialAuthValidatorStrategy {\n\n    @Override\n    public void validate(LoginSocialInput input) {\n      log.debug(&quot;Validate: {}&quot;, input);\n\n      NetHttpTransport httpTransport = new NetHttpTransport();\n      JsonFactory jsonFactory = new GsonFactory();\n\n      GoogleIdTokenVerifier verifier = new GoogleIdTokenVerifier.Builder(httpTransport, jsonFactory)\n        .setAudience(Arrays.asList(\n          &quot;your-client-id&quot;,\n          &quot;your-client-id-2&quot;\n        ))\n        .build();\n\n      try {\n        GoogleIdToken googleIdToken = verifier.verify(input.getProviderIdToken());\n        log.debug(&quot;Google ID token: {}&quot;, googleIdToken);\n        //todo here do wanted validation\n\n      } catch (GeneralSecurityException | IOException e) {\n        log.warn(&quot;Token issue: {}&quot;, e.getMessage());\n        throw new AuthException(&quot;Invalid Google Auth&quot;);\n      }\n    }\n  }\n</code></pre>\n"}],"owner":{"account_id":16667940,"reputation":11,"user_id":12046155,"display_name":"Giacomo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":469,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1688221488,"creation_date":1674477130,"question_id":75209562,"body_markdown":"i&#39;m trying to integrate the google login function on my website and i&#39;m following the relative google doc for the  server side token validation: https://developers.google.com/identity/gsi/web/guides/verify-google-id-token?hl=en .\r\n\r\ni&#39;ve created a simple test app with the GoogleIdTokenVerifier declaration but i&#39;m getting the error:\r\n\r\n```\r\njava.lang.NoClassDefFoundError: com/google/api/client/json/JsonFactory\r\n```\r\nwhat am I doing wrong?\r\n\r\nThanks.\r\n\r\n\r\n\r\n\r\nthis is the test app with the GoogleIdTokenVerifier declaration:\r\n\r\n```\r\npackage test;\r\n\r\nimport java.util.Collections;\r\n\r\nimport com.google.api.client.googleapis.auth.oauth2.GoogleIdTokenVerifier;\r\nimport com.google.api.client.http.HttpTransport;\r\nimport com.google.api.client.http.javanet.NetHttpTransport;\r\nimport com.google.api.client.json.gson.GsonFactory;\r\n\r\npublic class Main {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\t\r\n\t\ttry {\r\n\t\t\t\r\n\t\t\tHttpTransport transport = new NetHttpTransport();\r\n\t\t\t\r\n\t\t\tGoogleIdTokenVerifier verifier = new GoogleIdTokenVerifier.Builder(transport, new GsonFactory())\r\n\t\t\t    // Specify the CLIENT_ID of the app that accesses the backend:\r\n\t\t\t    .setAudience(Collections.singletonList(&quot;xxx.apps.googleusercontent.com&quot;))\r\n\t\t\t    // Or, if multiple clients access the backend:\r\n\t\t\t    //.setAudience(Arrays.asList(CLIENT_ID_1, CLIENT_ID_2, CLIENT_ID_3))\r\n\t\t\t    .build();\r\n\r\n\t\t\t\r\n\t\t} catch (Exception e) {\r\n\t\t\t// TODO Auto-generated catch block\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\r\n\t}\r\n\r\n}\r\n```\r\nand this is the pom.xml i used for the dependencies:\r\n```\r\n\r\n    &lt;project&gt;\r\n\r\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n  &lt;groupId&gt;com.mycompany.app&lt;/groupId&gt;\r\n  &lt;artifactId&gt;my-app&lt;/artifactId&gt;\r\n  &lt;version&gt;1&lt;/version&gt;\r\n\r\n&lt;dependencies&gt;\r\n   &lt;dependency&gt;\r\n     &lt;groupId&gt;com.google.api-client&lt;/groupId&gt;\r\n     &lt;artifactId&gt;google-api-client&lt;/artifactId&gt;\r\n     &lt;version&gt;2.1.3&lt;/version&gt;\r\n   &lt;/dependency&gt;\r\n   \r\n  &lt;/dependencies&gt;\r\n\r\n  \r\n&lt;/project&gt;\r\n```\r\n","title":"Error trying to create an instance of GoogleIdTokenVerifier using the Java Google Client Api","body":"<p>i'm trying to integrate the google login function on my website and i'm following the relative google doc for the  server side token validation: <a href=\"https://developers.google.com/identity/gsi/web/guides/verify-google-id-token?hl=en\" rel=\"nofollow noreferrer\">https://developers.google.com/identity/gsi/web/guides/verify-google-id-token?hl=en</a> .</p>\n<p>i've created a simple test app with the GoogleIdTokenVerifier declaration but i'm getting the error:</p>\n<pre><code>java.lang.NoClassDefFoundError: com/google/api/client/json/JsonFactory\n</code></pre>\n<p>what am I doing wrong?</p>\n<p>Thanks.</p>\n<p>this is the test app with the GoogleIdTokenVerifier declaration:</p>\n<pre><code>package test;\n\nimport java.util.Collections;\n\nimport com.google.api.client.googleapis.auth.oauth2.GoogleIdTokenVerifier;\nimport com.google.api.client.http.HttpTransport;\nimport com.google.api.client.http.javanet.NetHttpTransport;\nimport com.google.api.client.json.gson.GsonFactory;\n\npublic class Main {\n\n    public static void main(String[] args) {\n        \n        try {\n            \n            HttpTransport transport = new NetHttpTransport();\n            \n            GoogleIdTokenVerifier verifier = new GoogleIdTokenVerifier.Builder(transport, new GsonFactory())\n                // Specify the CLIENT_ID of the app that accesses the backend:\n                .setAudience(Collections.singletonList(&quot;xxx.apps.googleusercontent.com&quot;))\n                // Or, if multiple clients access the backend:\n                //.setAudience(Arrays.asList(CLIENT_ID_1, CLIENT_ID_2, CLIENT_ID_3))\n                .build();\n\n            \n        } catch (Exception e) {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n        }\n\n    }\n\n}\n</code></pre>\n<p>and this is the pom.xml i used for the dependencies:</p>\n<pre><code>\n    &lt;project&gt;\n\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n  &lt;groupId&gt;com.mycompany.app&lt;/groupId&gt;\n  &lt;artifactId&gt;my-app&lt;/artifactId&gt;\n  &lt;version&gt;1&lt;/version&gt;\n\n&lt;dependencies&gt;\n   &lt;dependency&gt;\n     &lt;groupId&gt;com.google.api-client&lt;/groupId&gt;\n     &lt;artifactId&gt;google-api-client&lt;/artifactId&gt;\n     &lt;version&gt;2.1.3&lt;/version&gt;\n   &lt;/dependency&gt;\n   \n  &lt;/dependencies&gt;\n\n  \n&lt;/project&gt;\n</code></pre>\n"},{"tags":["java","datetime","java-8","java-time"],"answers":[{"comments":[{"owner":{"account_id":4097067,"reputation":196,"user_id":3363520,"display_name":"Xials"},"score":16,"creation_date":1570225638,"post_id":23069408,"comment_id":102859144,"body_markdown":"How can I upvote this answer and downvote the fact there is both a LocalDate and a LocalDateTime object...","body":"How can I upvote this answer and downvote the fact there is both a LocalDate and a LocalDateTime object..."},{"owner":{"account_id":5631811,"reputation":747,"user_id":4458543,"accept_rate":100,"display_name":"Samuel Owino"},"score":0,"creation_date":1578784319,"post_id":23069408,"comment_id":105553108,"body_markdown":"I would like to just work with LocalTime, how do you perform formatting without running into this exception `java.time.temporal.UnsupportedTemporalTypeException: Unsupported field: DayOfWeek`","body":"I would like to just work with LocalTime, how do you perform formatting without running into this exception <code>java.time.temporal.UnsupportedTemporalTypeException: Unsupported field: DayOfWeek</code>"},{"owner":{"account_id":5631811,"reputation":747,"user_id":4458543,"accept_rate":100,"display_name":"Samuel Owino"},"score":1,"creation_date":1578784937,"post_id":23069408,"comment_id":105553200,"body_markdown":"Never mind: this works `DateTimeFormatter.ofPattern(&quot;HH:mm:ss&quot;)`","body":"Never mind: this works <code>DateTimeFormatter.ofPattern(&quot;HH:mm:ss&quot;)</code>"},{"owner":{"account_id":1667596,"reputation":1052,"user_id":1534698,"accept_rate":86,"display_name":"Jan"},"score":0,"creation_date":1602519358,"post_id":23069408,"comment_id":113739992,"body_markdown":"@samuelowino For me this worked: `DateTimeFormatter.ofPattern(&quot;HH:mm&quot;).withZone(ZoneId.systemDefault()).format(...)`. &lt;-- Adding the `.withZone(...)`.","body":"@samuelowino For me this worked: <code>DateTimeFormatter.ofPattern(&quot;HH:mm&quot;).withZone(ZoneId.systemD&zwnj;&#8203;efault()).format(...&zwnj;&#8203;)</code>. &lt;-- Adding the <code>.withZone(...)</code>."},{"owner":{"account_id":319529,"reputation":2605,"user_id":637338,"accept_rate":50,"display_name":"user637338"},"score":0,"creation_date":1639784991,"post_id":23069408,"comment_id":124445531,"body_markdown":"I have used `DateTime dateTime = DateTime.now(); DateTimeFormatter formatter = DateTimeFormatter.RFC_1123_DATE_TIME.withLocale(defaultLocale).withZone(defaultTimeZone.toZoneId());` This gets me `Exception in thread &quot;main&quot; java.time.temporal.UnsupportedTemporalTypeException: Unsupported field: OffsetSeconds`  As @isapir below, right: ZonedDateTime. Then it works for this as well. So I ended up with `ZonedDateTime dateTime = ZonedDateTime.now(); DateTimeFormatter formatter =\n                DateTimeFormatter.RFC_1123_DATE_TIME.withLocale(defaultLocale).withZone(defaultTimeZone.toZoneId());`","body":"I have used <code>DateTime dateTime = DateTime.now(); DateTimeFormatter formatter = DateTimeFormatter.RFC_1123_DATE_TIME.withLocale(defaultLocal&zwnj;&#8203;e).withZone(defaultT&zwnj;&#8203;imeZone.toZoneId());</code> This gets me <code>Exception in thread &quot;main&quot; java.time.temporal.UnsupportedTemporalTypeException: Unsupported field: OffsetSeconds</code>  As @isapir below, right: ZonedDateTime. Then it works for this as well. So I ended up with <code>ZonedDateTime dateTime = ZonedDateTime.now(); DateTimeFormatter formatter =                 DateTimeFormatter.RFC_1123_DATE_TIME.withLocale(defaultLocal&zwnj;&#8203;e).withZone(defaultT&zwnj;&#8203;imeZone.toZoneId());</code>"}],"tags":[],"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"comment_count":5,"down_vote_count":1,"up_vote_count":348,"is_accepted":true,"score":347,"last_activity_date":1397506222,"creation_date":1397506222,"answer_id":23069408,"question_id":23069370,"body_markdown":"`LocalDate` represents just a date, not a DateTime. So &quot;HH:mm:ss&quot; make no sense when formatting a `LocalDate`. Use a `LocalDateTime` instead, assuming you want to represent both a date and time.","title":"Format a date using the new date time API","body":"<p><code>LocalDate</code> represents just a date, not a DateTime. So \"HH:mm:ss\" make no sense when formatting a <code>LocalDate</code>. Use a <code>LocalDateTime</code> instead, assuming you want to represent both a date and time.</p>\n"},{"comments":[{"owner":{"account_id":42347,"reputation":15894,"user_id":123336,"accept_rate":73,"display_name":"Trevor Robinson"},"score":8,"creation_date":1494534740,"post_id":23088257,"comment_id":74883372,"body_markdown":"https://en.wiktionary.org/wiki/eierlegende_Wollmilchsau (literally “egg-laying wool-milk-sow”) An all-in-one device or person which has (or claims to have) only positive attributes and which can (or attempts to) do the work of several specialized tools. :-)","body":"<a href=\"https://en.wiktionary.org/wiki/eierlegende_Wollmilchsau\" rel=\"nofollow noreferrer\">en.wiktionary.org/wiki/eierlegende_Wollmilchsau</a> (literally “egg-laying wool-milk-sow”) An all-in-one device or person which has (or claims to have) only positive attributes and which can (or attempts to) do the work of several specialized tools. :-)"}],"tags":[],"owner":{"account_id":2906108,"reputation":42988,"user_id":2491410,"accept_rate":100,"display_name":"Meno Hochschild"},"comment_count":1,"down_vote_count":0,"up_vote_count":41,"is_accepted":false,"score":41,"last_activity_date":1397575997,"creation_date":1397575997,"answer_id":23088257,"question_id":23069370,"body_markdown":"I would like to add following details to the correct answer of @James_D:\r\n\r\n**Background:** Most date-and-time-libraries (`java.util.Calendar` in Java, see also .Net-DateTime or `Date` in JavaScript or `DateTime` in Perl) are based on the concept of a universal all-purpose unique temporal type (in German there is the poetic expression &quot;eierlegende Wollmilchsau&quot;). In this design there cannot be an unsupported field. But the price is high: Many time problems cannot be adequately handled with such an unflexible approach because it is hard to impossible to find a common denominator for all kinds of temporal objects.\r\n\r\n**JSR-310 has choosen another way**, namely to allow different temporal types which consist of type-specific sets of supported built-in fields. The natural consequence is that not every possible field is supported by every type (and users can even define their own specialized fields). It is also possible to [programmatically ask][1] every object of type `TemporalAccessor` for its specific set of supported fields. For `LocalDate` we find:\r\n\r\n    •DAY_OF_WEEK \r\n    •ALIGNED_DAY_OF_WEEK_IN_MONTH \r\n    •ALIGNED_DAY_OF_WEEK_IN_YEAR \r\n    •DAY_OF_MONTH \r\n    •DAY_OF_YEAR \r\n    •EPOCH_DAY \r\n    •ALIGNED_WEEK_OF_MONTH \r\n    •ALIGNED_WEEK_OF_YEAR \r\n    •MONTH_OF_YEAR \r\n    •PROLEPTIC_MONTH \r\n    •YEAR_OF_ERA \r\n    •YEAR \r\n    •ERA \r\n\r\nThere is no HOUR_OF_DAY-field which explains the problem of `UnsupportedTemporalTypeException`. And if we look at the JSR-310-[mapping of pattern symbols to fields][2] we see that the symbol H is mapped to unsupported HOUR_OF_DAY:\r\n\r\n    /** Map of letters to fields. */  \r\n    private static final Map&lt;Character, TemporalField&gt; FIELD_MAP = new HashMap&lt;&gt;();\r\n    static {\r\n      FIELD_MAP.put(&#39;G&#39;, ChronoField.ERA);\r\n      FIELD_MAP.put(&#39;y&#39;, ChronoField.YEAR_OF_ERA);\r\n      FIELD_MAP.put(&#39;u&#39;, ChronoField.YEAR);\r\n      FIELD_MAP.put(&#39;Q&#39;, IsoFields.QUARTER_OF_YEAR);\r\n      FIELD_MAP.put(&#39;q&#39;, IsoFields.QUARTER_OF_YEAR);\r\n      FIELD_MAP.put(&#39;M&#39;, ChronoField.MONTH_OF_YEAR);\r\n      FIELD_MAP.put(&#39;L&#39;, ChronoField.MONTH_OF_YEAR);\r\n      FIELD_MAP.put(&#39;D&#39;, ChronoField.DAY_OF_YEAR);\r\n      FIELD_MAP.put(&#39;d&#39;, ChronoField.DAY_OF_MONTH);\r\n      FIELD_MAP.put(&#39;F&#39;, ChronoField.ALIGNED_DAY_OF_WEEK_IN_MONTH);\r\n      FIELD_MAP.put(&#39;E&#39;, ChronoField.DAY_OF_WEEK);\r\n      FIELD_MAP.put(&#39;c&#39;, ChronoField.DAY_OF_WEEK);\r\n      FIELD_MAP.put(&#39;e&#39;, ChronoField.DAY_OF_WEEK);\r\n      FIELD_MAP.put(&#39;a&#39;, ChronoField.AMPM_OF_DAY);\r\n      FIELD_MAP.put(&#39;H&#39;, ChronoField.HOUR_OF_DAY);\r\n      FIELD_MAP.put(&#39;k&#39;, ChronoField.CLOCK_HOUR_OF_DAY);\r\n      FIELD_MAP.put(&#39;K&#39;, ChronoField.HOUR_OF_AMPM);\r\n      FIELD_MAP.put(&#39;h&#39;, ChronoField.CLOCK_HOUR_OF_AMPM);\r\n      FIELD_MAP.put(&#39;m&#39;, ChronoField.MINUTE_OF_HOUR);\r\n      FIELD_MAP.put(&#39;s&#39;, ChronoField.SECOND_OF_MINUTE);\r\n      FIELD_MAP.put(&#39;S&#39;, ChronoField.NANO_OF_SECOND);\r\n      FIELD_MAP.put(&#39;A&#39;, ChronoField.MILLI_OF_DAY);\r\n      FIELD_MAP.put(&#39;n&#39;, ChronoField.NANO_OF_SECOND);\r\n      FIELD_MAP.put(&#39;N&#39;, ChronoField.NANO_OF_DAY);    \r\n    }\r\n\r\nThis field mapping does not mean that the field is supported by the concrete type. Parsing happens in several steps. The field mapping is only the first step. The second step is then parsing to a raw object of type `TemporalAccessor`. And finally parsing delegates to the target type (here: `LocalDate`) and let it decide if it accepts all the field values in parsed intermediate object.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/8/docs/api/java/time/temporal/TemporalAccessor.html#isSupported-java.time.temporal.TemporalField-\r\n  [2]: https://github.com/ThreeTen/threetenbp/blob/master/src/main/java/org/threeten/bp/format/DateTimeFormatterBuilder.java","title":"Format a date using the new date time API","body":"<p>I would like to add following details to the correct answer of @James_D:</p>\n\n<p><strong>Background:</strong> Most date-and-time-libraries (<code>java.util.Calendar</code> in Java, see also .Net-DateTime or <code>Date</code> in JavaScript or <code>DateTime</code> in Perl) are based on the concept of a universal all-purpose unique temporal type (in German there is the poetic expression \"eierlegende Wollmilchsau\"). In this design there cannot be an unsupported field. But the price is high: Many time problems cannot be adequately handled with such an unflexible approach because it is hard to impossible to find a common denominator for all kinds of temporal objects.</p>\n\n<p><strong>JSR-310 has choosen another way</strong>, namely to allow different temporal types which consist of type-specific sets of supported built-in fields. The natural consequence is that not every possible field is supported by every type (and users can even define their own specialized fields). It is also possible to <a href=\"http://docs.oracle.com/javase/8/docs/api/java/time/temporal/TemporalAccessor.html#isSupported-java.time.temporal.TemporalField-\">programmatically ask</a> every object of type <code>TemporalAccessor</code> for its specific set of supported fields. For <code>LocalDate</code> we find:</p>\n\n<pre><code>•DAY_OF_WEEK \n•ALIGNED_DAY_OF_WEEK_IN_MONTH \n•ALIGNED_DAY_OF_WEEK_IN_YEAR \n•DAY_OF_MONTH \n•DAY_OF_YEAR \n•EPOCH_DAY \n•ALIGNED_WEEK_OF_MONTH \n•ALIGNED_WEEK_OF_YEAR \n•MONTH_OF_YEAR \n•PROLEPTIC_MONTH \n•YEAR_OF_ERA \n•YEAR \n•ERA \n</code></pre>\n\n<p>There is no HOUR_OF_DAY-field which explains the problem of <code>UnsupportedTemporalTypeException</code>. And if we look at the JSR-310-<a href=\"https://github.com/ThreeTen/threetenbp/blob/master/src/main/java/org/threeten/bp/format/DateTimeFormatterBuilder.java\">mapping of pattern symbols to fields</a> we see that the symbol H is mapped to unsupported HOUR_OF_DAY:</p>\n\n<pre><code>/** Map of letters to fields. */  \nprivate static final Map&lt;Character, TemporalField&gt; FIELD_MAP = new HashMap&lt;&gt;();\nstatic {\n  FIELD_MAP.put('G', ChronoField.ERA);\n  FIELD_MAP.put('y', ChronoField.YEAR_OF_ERA);\n  FIELD_MAP.put('u', ChronoField.YEAR);\n  FIELD_MAP.put('Q', IsoFields.QUARTER_OF_YEAR);\n  FIELD_MAP.put('q', IsoFields.QUARTER_OF_YEAR);\n  FIELD_MAP.put('M', ChronoField.MONTH_OF_YEAR);\n  FIELD_MAP.put('L', ChronoField.MONTH_OF_YEAR);\n  FIELD_MAP.put('D', ChronoField.DAY_OF_YEAR);\n  FIELD_MAP.put('d', ChronoField.DAY_OF_MONTH);\n  FIELD_MAP.put('F', ChronoField.ALIGNED_DAY_OF_WEEK_IN_MONTH);\n  FIELD_MAP.put('E', ChronoField.DAY_OF_WEEK);\n  FIELD_MAP.put('c', ChronoField.DAY_OF_WEEK);\n  FIELD_MAP.put('e', ChronoField.DAY_OF_WEEK);\n  FIELD_MAP.put('a', ChronoField.AMPM_OF_DAY);\n  FIELD_MAP.put('H', ChronoField.HOUR_OF_DAY);\n  FIELD_MAP.put('k', ChronoField.CLOCK_HOUR_OF_DAY);\n  FIELD_MAP.put('K', ChronoField.HOUR_OF_AMPM);\n  FIELD_MAP.put('h', ChronoField.CLOCK_HOUR_OF_AMPM);\n  FIELD_MAP.put('m', ChronoField.MINUTE_OF_HOUR);\n  FIELD_MAP.put('s', ChronoField.SECOND_OF_MINUTE);\n  FIELD_MAP.put('S', ChronoField.NANO_OF_SECOND);\n  FIELD_MAP.put('A', ChronoField.MILLI_OF_DAY);\n  FIELD_MAP.put('n', ChronoField.NANO_OF_SECOND);\n  FIELD_MAP.put('N', ChronoField.NANO_OF_DAY);    \n}\n</code></pre>\n\n<p>This field mapping does not mean that the field is supported by the concrete type. Parsing happens in several steps. The field mapping is only the first step. The second step is then parsing to a raw object of type <code>TemporalAccessor</code>. And finally parsing delegates to the target type (here: <code>LocalDate</code>) and let it decide if it accepts all the field values in parsed intermediate object.</p>\n"},{"comments":[{"owner":{"account_id":13504541,"reputation":99,"user_id":10910863,"display_name":"gourabix"},"score":1,"creation_date":1643724626,"post_id":47964769,"comment_id":125411779,"body_markdown":"This answer should be the accepted answer or should be added to the current accepted answer.","body":"This answer should be the accepted answer or should be added to the current accepted answer."},{"owner":{"account_id":358715,"reputation":1714,"user_id":699665,"display_name":"MarkHu"},"score":0,"creation_date":1645836831,"post_id":47964769,"comment_id":125983751,"body_markdown":"`Inconvertible types; cannot cast &#39;java.time.LocalDateTime&#39; to &#39;java.time.ZonedDateTime&#39;` :/","body":"<code>Inconvertible types; cannot cast &#39;java.time.LocalDateTime&#39; to &#39;java.time.ZonedDateTime&#39;</code> :/"}],"tags":[],"owner":{"account_id":940012,"reputation":21855,"user_id":968244,"accept_rate":58,"display_name":"isapir"},"comment_count":2,"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1555362270,"creation_date":1514159642,"answer_id":47964769,"question_id":23069370,"body_markdown":"The right class for me was [`ZonedDateTime`][1] which includes both Time and Time Zone.\r\n\r\n`LocalDate` doesn&#39;t have the Time information so you get a `UnsupportedTemporalTypeException: Unsupported field: HourOfDay`.\r\n\r\nYou can use `LocalDateTime` but then you don&#39;t have the Time Zone information so if you try to access that (even by using one of the predefined formatters) you will get a `UnsupportedTemporalTypeException: Unsupported field: OffsetSeconds`.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/time/ZonedDateTime.html","title":"Format a date using the new date time API","body":"<p>The right class for me was <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/ZonedDateTime.html\" rel=\"noreferrer\"><code>ZonedDateTime</code></a> which includes both Time and Time Zone.</p>\n\n<p><code>LocalDate</code> doesn't have the Time information so you get a <code>UnsupportedTemporalTypeException: Unsupported field: HourOfDay</code>.</p>\n\n<p>You can use <code>LocalDateTime</code> but then you don't have the Time Zone information so if you try to access that (even by using one of the predefined formatters) you will get a <code>UnsupportedTemporalTypeException: Unsupported field: OffsetSeconds</code>.</p>\n"},{"tags":[],"owner":{"account_id":1561124,"reputation":2087,"user_id":1450967,"display_name":"ggrandes"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1649777897,"creation_date":1649777897,"answer_id":71845518,"question_id":23069370,"body_markdown":"I had a similar problem with this code:\r\n\r\n```java\r\nDateTimeFormatter.RFC_1123_DATE_TIME.format(new Date().toInstant())\r\n```\r\n\r\n&gt; java.time.temporal.UnsupportedTemporalTypeException: Unsupported field: DayOfMonth\r\n\r\nI solved it this way:\r\n\r\n```java\r\nDateTimeFormatter.RFC_1123_DATE_TIME.format(\r\n    ZonedDateTime.ofInstant(new Date().toInstant(), ZoneId.systemDefault()))\r\n```","title":"Format a date using the new date time API","body":"<p>I had a similar problem with this code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>DateTimeFormatter.RFC_1123_DATE_TIME.format(new Date().toInstant())\n</code></pre>\n<blockquote>\n<p>java.time.temporal.UnsupportedTemporalTypeException: Unsupported field: DayOfMonth</p>\n</blockquote>\n<p>I solved it this way:</p>\n<pre class=\"lang-java prettyprint-override\"><code>DateTimeFormatter.RFC_1123_DATE_TIME.format(\n    ZonedDateTime.ofInstant(new Date().toInstant(), ZoneId.systemDefault()))\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15675632,"reputation":675,"user_id":11310951,"display_name":"Rvb84"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664292718,"creation_date":1664292718,"answer_id":73870189,"question_id":23069370,"body_markdown":"Kotlin 2022\r\n\r\n    fun Long.formatEpochMs(): String {\r\n        val date = ZonedDateTime.ofInstant(Instant.ofEpochMilli(this), ZoneId.systemDefault())\r\n        val pattern = &quot;d, MMMM yyyy&quot;\r\n        return runCatching { DateTimeFormatter.ofPattern(pattern, Locale.ENGLISH).format(date) }\r\n            .onFailure { Timber.e(it) }\r\n            .getOrNull()\r\n            .orEmpty()\r\n    }\r\n\r\n","title":"Format a date using the new date time API","body":"<p>Kotlin 2022</p>\n<pre><code>fun Long.formatEpochMs(): String {\n    val date = ZonedDateTime.ofInstant(Instant.ofEpochMilli(this), ZoneId.systemDefault())\n    val pattern = &quot;d, MMMM yyyy&quot;\n    return runCatching { DateTimeFormatter.ofPattern(pattern, Locale.ENGLISH).format(date) }\n        .onFailure { Timber.e(it) }\n        .getOrNull()\n        .orEmpty()\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25583966,"reputation":1,"user_id":19361989,"display_name":"sp_matrix"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682266194,"creation_date":1681960064,"answer_id":76060251,"question_id":23069370,"body_markdown":"**In Scala:**\r\n\r\n    import org.joda.time.LocalDateTime\r\n    import org.joda.time.format.DateTimeFormat\r\n                        \r\n    LocalDateTime.now.toString(DateTimeFormat.forPattern(&quot;yyyyMMddHHmmss&quot;))","title":"Format a date using the new date time API","body":"<p><strong>In Scala:</strong></p>\n<pre><code>import org.joda.time.LocalDateTime\nimport org.joda.time.format.DateTimeFormat\n                    \nLocalDateTime.now.toString(DateTimeFormat.forPattern(&quot;yyyyMMddHHmmss&quot;))\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4904233,"reputation":248,"user_id":3951415,"display_name":"Arash moradabadi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688220952,"creation_date":1688220952,"answer_id":76595078,"question_id":23069370,"body_markdown":"This exception also happens when the using pattern for a LocalDate object is not correct. For example the pattern **yyyy-mm-dd** which has to be **yyyy-MM-dd** would result in **Unsupported field: HourOfDay** exception.","title":"Format a date using the new date time API","body":"<p>This exception also happens when the using pattern for a LocalDate object is not correct. For example the pattern <strong>yyyy-mm-dd</strong> which has to be <strong>yyyy-MM-dd</strong> would result in <strong>Unsupported field: HourOfDay</strong> exception.</p>\n"}],"owner":{"account_id":2706912,"reputation":15827,"user_id":2336315,"accept_rate":90,"display_name":"user2336315"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":130081,"favorite_count":0,"down_vote_count":0,"up_vote_count":184,"accepted_answer_id":23069408,"answer_count":7,"score":184,"last_activity_date":1688220952,"creation_date":1397506110,"question_id":23069370,"body_markdown":"I was playing with the new date time API but when running this:\r\n\r\n   \r\n\r\n    public class Test {\t        \r\n        public static void main(String[] args){\r\n            String dateFormatted = LocalDate.now()\r\n                                            .format(DateTimeFormatter\r\n                                                  .ofPattern(&quot;yyyy-MM-dd HH:mm:ss&quot;));\r\n        \tSystem.out.println(dateFormatted);\r\n        }\r\n    }\r\n\r\nIt throws:\r\n\r\n    Exception in thread &quot;main&quot; java.time.temporal.UnsupportedTemporalTypeException: Unsupported field: HourOfDay\r\n    \tat java.time.LocalDate.get0(LocalDate.java:680)\r\n    \tat java.time.LocalDate.getLong(LocalDate.java:659)\r\n    \tat java.time.format.DateTimePrintContext.getValue(DateTimePrintContext.java:298)\r\n    \tat java.time.format.DateTimeFormatterBuilder$NumberPrinterParser.format(DateTimeFormatterBuilder.java:2543)\r\n    \tat java.time.format.DateTimeFormatterBuilder$CompositePrinterParser.format(DateTimeFormatterBuilder.java:2182)\r\n    \tat java.time.format.DateTimeFormatter.formatTo(DateTimeFormatter.java:1745)\r\n    \tat java.time.format.DateTimeFormatter.format(DateTimeFormatter.java:1719)\r\n    \tat java.time.LocalDate.format(LocalDate.java:1685)\r\n    \tat Test.main(Test.java:23)\r\n\r\nWhen looking at the source code of the LocalDate class, I see:\r\n\r\n \r\n\r\n      private int get0(TemporalField field) {\r\n            switch ((ChronoField) field) {\r\n                case DAY_OF_WEEK: return getDayOfWeek().getValue();\r\n                case ALIGNED_DAY_OF_WEEK_IN_MONTH: return ((day - 1) % 7) + 1;\r\n                case ALIGNED_DAY_OF_WEEK_IN_YEAR: return ((getDayOfYear() - 1) % 7) + 1;\r\n                case DAY_OF_MONTH: return day;\r\n                case DAY_OF_YEAR: return getDayOfYear();\r\n                case EPOCH_DAY: throw new UnsupportedTemporalTypeException(&quot;Invalid field &#39;EpochDay&#39; for get() method, use getLong() instead&quot;);\r\n                case ALIGNED_WEEK_OF_MONTH: return ((day - 1) / 7) + 1;\r\n                case ALIGNED_WEEK_OF_YEAR: return ((getDayOfYear() - 1) / 7) + 1;\r\n                case MONTH_OF_YEAR: return month;\r\n                case PROLEPTIC_MONTH: throw new UnsupportedTemporalTypeException(&quot;Invalid field &#39;ProlepticMonth&#39; for get() method, use getLong() instead&quot;);\r\n                case YEAR_OF_ERA: return (year &gt;= 1 ? year : 1 - year);\r\n                case YEAR: return year;\r\n                case ERA: return (year &gt;= 1 ? 1 : 0);\r\n            }\r\n            throw new UnsupportedTemporalTypeException(&quot;Unsupported field: &quot; + field);\r\n        }\r\n\r\nAs it described in the doc:\r\n\r\n&gt; This method will create a formatter based on a simple pattern of\r\n&gt; letters and symbols as described in the class documentation.\r\n\r\nAnd all these letters are [defined][1]. \r\n\r\nSo why `DateTimeFormatter.ofPattern` doesn&#39;t allow us to use some pattern letters? \r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatter.html#patterns","title":"Format a date using the new date time API","body":"<p>I was playing with the new date time API but when running this:</p>\n\n<pre><code>public class Test {         \n    public static void main(String[] args){\n        String dateFormatted = LocalDate.now()\n                                        .format(DateTimeFormatter\n                                              .ofPattern(\"yyyy-MM-dd HH:mm:ss\"));\n        System.out.println(dateFormatted);\n    }\n}\n</code></pre>\n\n<p>It throws:</p>\n\n<pre><code>Exception in thread \"main\" java.time.temporal.UnsupportedTemporalTypeException: Unsupported field: HourOfDay\n    at java.time.LocalDate.get0(LocalDate.java:680)\n    at java.time.LocalDate.getLong(LocalDate.java:659)\n    at java.time.format.DateTimePrintContext.getValue(DateTimePrintContext.java:298)\n    at java.time.format.DateTimeFormatterBuilder$NumberPrinterParser.format(DateTimeFormatterBuilder.java:2543)\n    at java.time.format.DateTimeFormatterBuilder$CompositePrinterParser.format(DateTimeFormatterBuilder.java:2182)\n    at java.time.format.DateTimeFormatter.formatTo(DateTimeFormatter.java:1745)\n    at java.time.format.DateTimeFormatter.format(DateTimeFormatter.java:1719)\n    at java.time.LocalDate.format(LocalDate.java:1685)\n    at Test.main(Test.java:23)\n</code></pre>\n\n<p>When looking at the source code of the LocalDate class, I see:</p>\n\n<pre><code>  private int get0(TemporalField field) {\n        switch ((ChronoField) field) {\n            case DAY_OF_WEEK: return getDayOfWeek().getValue();\n            case ALIGNED_DAY_OF_WEEK_IN_MONTH: return ((day - 1) % 7) + 1;\n            case ALIGNED_DAY_OF_WEEK_IN_YEAR: return ((getDayOfYear() - 1) % 7) + 1;\n            case DAY_OF_MONTH: return day;\n            case DAY_OF_YEAR: return getDayOfYear();\n            case EPOCH_DAY: throw new UnsupportedTemporalTypeException(\"Invalid field 'EpochDay' for get() method, use getLong() instead\");\n            case ALIGNED_WEEK_OF_MONTH: return ((day - 1) / 7) + 1;\n            case ALIGNED_WEEK_OF_YEAR: return ((getDayOfYear() - 1) / 7) + 1;\n            case MONTH_OF_YEAR: return month;\n            case PROLEPTIC_MONTH: throw new UnsupportedTemporalTypeException(\"Invalid field 'ProlepticMonth' for get() method, use getLong() instead\");\n            case YEAR_OF_ERA: return (year &gt;= 1 ? year : 1 - year);\n            case YEAR: return year;\n            case ERA: return (year &gt;= 1 ? 1 : 0);\n        }\n        throw new UnsupportedTemporalTypeException(\"Unsupported field: \" + field);\n    }\n</code></pre>\n\n<p>As it described in the doc:</p>\n\n<blockquote>\n  <p>This method will create a formatter based on a simple pattern of\n  letters and symbols as described in the class documentation.</p>\n</blockquote>\n\n<p>And all these letters are <a href=\"http://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatter.html#patterns\">defined</a>. </p>\n\n<p>So why <code>DateTimeFormatter.ofPattern</code> doesn't allow us to use some pattern letters? </p>\n"},{"tags":["java","multithreading","file","junit","log4j2"],"comments":[{"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1688095071,"post_id":76583783,"comment_id":135030872,"body_markdown":"Do it from outside the application tested after it stopped?","body":"Do it from outside the application tested after it stopped?"},{"owner":{"account_id":398051,"reputation":770,"user_id":762522,"accept_rate":92,"display_name":"Erric"},"score":0,"creation_date":1688161299,"post_id":76583783,"comment_id":135041974,"body_markdown":"I would, but there are other constraints that prevent me from doing that.","body":"I would, but there are other constraints that prevent me from doing that."}],"answers":[{"comments":[{"owner":{"account_id":398051,"reputation":770,"user_id":762522,"accept_rate":92,"display_name":"Erric"},"score":0,"creation_date":1688757998,"post_id":76595057,"comment_id":135121682,"body_markdown":"Unfortunately I still need the rest of the logging to continue as they are written to other test files after the current one finishes. I am not inclined to believe it is not possible, but rather that it&#39;s buried in the not-so-well-documented log4j classes. For instance `FileAppender` exposes a `stop(final long timeout, final TimeUnit timeUnit)` which is indicative of some sort of wait for a resource release.","body":"Unfortunately I still need the rest of the logging to continue as they are written to other test files after the current one finishes. I am not inclined to believe it is not possible, but rather that it&#39;s buried in the not-so-well-documented log4j classes. For instance <code>FileAppender</code> exposes a <code>stop(final long timeout, final TimeUnit timeUnit)</code> which is indicative of some sort of wait for a resource release."},{"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1688758900,"post_id":76595057,"comment_id":135121789,"body_markdown":"It is not a common usage of log4j2 so it is probably not documented, if even possible.","body":"It is not a common usage of log4j2 so it is probably not documented, if even possible."}],"tags":[],"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688220696,"creation_date":1688220696,"answer_id":76595057,"question_id":76583783,"body_markdown":"I&#39;m not sure that log4j2 supports that scenario. One option is to [completely shutdown log4j2 in code][1]:\r\n``` lang-java\r\n// import org.apache.logging.log4j.core.LoggerContext;\r\n// import org.apache.logging.log4j.core.config.Configurator;\r\n     \r\n// get the current context\r\nLoggerContext context = (LoggerContext) LogManager.getContext();\r\nConfigurator.shutdown(context);\r\n```\r\n\r\n\r\n  [1]: https://logging.apache.org/log4j/log4j-2.4/faq.html#shutdown","title":"How to safely flush and stop a FileAppender in log4j2?","body":"<p>I'm not sure that log4j2 supports that scenario. One option is to <a href=\"https://logging.apache.org/log4j/log4j-2.4/faq.html#shutdown\" rel=\"nofollow noreferrer\">completely shutdown log4j2 in code</a>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// import org.apache.logging.log4j.core.LoggerContext;\n// import org.apache.logging.log4j.core.config.Configurator;\n     \n// get the current context\nLoggerContext context = (LoggerContext) LogManager.getContext();\nConfigurator.shutdown(context);\n</code></pre>\n"}],"owner":{"account_id":398051,"reputation":770,"user_id":762522,"accept_rate":92,"display_name":"Erric"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1688220696,"creation_date":1688063600,"question_id":76583783,"body_markdown":"I have a testing framework which uses a RoutingAppender to route each test&#39;s logs to its own file. \r\n\r\nThe configuration looks like this:\r\n\r\n```\r\n    Routing:\r\n      - Name: TestCaseRouted\r\n        Routes:\r\n          Pattern: &quot;${ctx:TestCaseId}&quot;\r\n          Route:\r\n            - File:\r\n                Name: TestCaseLogs\r\n                FileName: &quot;${ctx:TestCaseId}.log&quot;\r\n                Append: false\r\n            - key: &quot;${ctx:TestCaseId}&quot;\r\n```\r\n\r\nAt the end of each test, I use `FileUtils.readFileToByteArray` from commons IO to fetch the bytes and publish it to a reporter. \r\n\r\n```\r\n    // Junit5 extension\r\n    public void afterEach(ExtensionContext context) {\r\n        deleteCurrentLogAppender();\r\n        ThreadContext.clearMap();\r\n        final File logFile = new File(getTestCaseId() + &quot;.log&quot;);\r\n        if (logFile.exists()) {\r\n            byte[] bytes = FileUtils.readFileToByteArray(logFile)); \r\n            // Publish bytes to reporter\r\n        }\r\n    }\r\n\r\n    private void deleteCurrentLogAppender() {\r\n        final LoggerContext loggerContext = (LoggerContext) LogManager.getContext(false);\r\n        RoutingAppender routingAppender = loggerContext.getConfiguration().getAppender(&quot;TestCaseRouted&quot;);\r\n        routingAppender.deleteAppender(getTestCaseId());\r\n    }\r\n\r\n```\r\nI am facing issues here since the FileAppender seems to truncate the file to keep writing unflushed logs during or after it has been deleted (which seems to call Appender.stop() internally) and the file is being read to the byte array.\r\n\r\nIn cases where the write happens midway, I get the below exception from `FileUtils.readFileToByteArray`:\r\n`IOException: Unexpected read size, current: 4096, expected: 6084`\r\n\r\nIn other cases, I would have an incomplete log in the published report.\r\n\r\n**How do I completely flush and stop the FileAppender from mutating the file before I can proceed from reading the log file?**","title":"How to safely flush and stop a FileAppender in log4j2?","body":"<p>I have a testing framework which uses a RoutingAppender to route each test's logs to its own file.</p>\n<p>The configuration looks like this:</p>\n<pre><code>    Routing:\n      - Name: TestCaseRouted\n        Routes:\n          Pattern: &quot;${ctx:TestCaseId}&quot;\n          Route:\n            - File:\n                Name: TestCaseLogs\n                FileName: &quot;${ctx:TestCaseId}.log&quot;\n                Append: false\n            - key: &quot;${ctx:TestCaseId}&quot;\n</code></pre>\n<p>At the end of each test, I use <code>FileUtils.readFileToByteArray</code> from commons IO to fetch the bytes and publish it to a reporter.</p>\n<pre><code>    // Junit5 extension\n    public void afterEach(ExtensionContext context) {\n        deleteCurrentLogAppender();\n        ThreadContext.clearMap();\n        final File logFile = new File(getTestCaseId() + &quot;.log&quot;);\n        if (logFile.exists()) {\n            byte[] bytes = FileUtils.readFileToByteArray(logFile)); \n            // Publish bytes to reporter\n        }\n    }\n\n    private void deleteCurrentLogAppender() {\n        final LoggerContext loggerContext = (LoggerContext) LogManager.getContext(false);\n        RoutingAppender routingAppender = loggerContext.getConfiguration().getAppender(&quot;TestCaseRouted&quot;);\n        routingAppender.deleteAppender(getTestCaseId());\n    }\n\n</code></pre>\n<p>I am facing issues here since the FileAppender seems to truncate the file to keep writing unflushed logs during or after it has been deleted (which seems to call Appender.stop() internally) and the file is being read to the byte array.</p>\n<p>In cases where the write happens midway, I get the below exception from <code>FileUtils.readFileToByteArray</code>:\n<code>IOException: Unexpected read size, current: 4096, expected: 6084</code></p>\n<p>In other cases, I would have an incomplete log in the published report.</p>\n<p><strong>How do I completely flush and stop the FileAppender from mutating the file before I can proceed from reading the log file?</strong></p>\n"},{"tags":["java","functional-programming","junit5","callable"],"comments":[{"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1688258036,"post_id":76595035,"comment_id":135049852,"body_markdown":"Does Item have any public functions that actually use the BiFunction?  Test those and only those.  You should not be testing the lambda passed to the constructor, only the behavior of the result.","body":"Does Item have any public functions that actually use the BiFunction?  Test those and only those.  You should not be testing the lambda passed to the constructor, only the behavior of the result."}],"owner":{"account_id":6815463,"reputation":791,"user_id":5244324,"accept_rate":21,"display_name":"Krzysztof Michalski"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688220350,"creation_date":1688220350,"question_id":76595035,"body_markdown":"I&#39;d like to write a test for verification if static method receiving correct callable as an argument. \r\nLet&#39;s say I have 2 classes:\r\n\r\nEmployee\r\n\r\n    public class Employee {\r\n        public static Item getEmployeeItem() {\r\n            return new Item((a, b) -&gt; {\r\n                return a * b;\r\n            });\r\n        }\r\n    }\r\n\r\n\r\nand Item\r\n\r\n    public class Item {\r\n        BiFunction&lt;Integer, Integer, Integer&gt; behaviour;\r\n        Item(BiFunction&lt;Integer, Integer, Integer&gt; biFunction) {\r\n            this.behaviour = biFunction;\r\n        }\r\n\r\n}\r\n\r\nItem has constructor with BiFunction. I&#39;d like to to test with using junit5, Mockito, PowerMock or maybe other utills, behaviour when in case when I call \r\n\r\n    Item item = Employee.getEmployeeItem();\r\n\r\nthen appriopriate BiFunction has been delivered. How can I write such kind of test with junit5? Maybe should I use somehow ArgumentCaptor? \r\nCan someone deliver me example?\r\n\r\n\r\nThat&#39;s actually simpler example of more advanced case which I need to test in unit way in my job:\r\n\r\n    @NoArgsConstructor(access = AccessLevel.PRIVATE)\r\n    public class EthernetExtractFilterFrameParsingNodeDefinitions {\r\n    \r\n        public static ExtractFilterTreeNodeDefinition&lt;EthernetExtractFilter, EthernetDataTuple, IpProtocol, Option&lt;Vector&lt;SingleDataSet&gt;&gt;&gt; getIpProtocolNodeDefinition() {\r\n            return new ExtractFilterTreeNodeDefinition&lt;&gt;(\r\n                    ethernetExtractFilter -&gt; ethernetExtractFilter.networkLayerPduFilter().ipProtocolFilter().toValueFilter(),\r\n                    getNodeBehaviour(ethernetDataTuple -&gt; ethernetDataTuple.networkLayerPdu().getIpProtocol())\r\n            );\r\n        }\r\n}\r\n\r\nI have to check here if `ExtractFilterTreeNodeDefinition` was created with appropriate Functions as parameters when I call `getIpProtocolNodeDefinition()` statick method.\r\n\r\nI&#39;d like to be sure that first argument is correct function, correctly map extractFilter to valueFilter:\r\n\r\n    ethernetExtractFilter -&gt; ethernetExtractFilter.networkLayerPduFilter().ipProtocolFilter().toValueFilter()\r\n\r\n\r\n\r\nsecond one as well\r\nHow to approach to that problem? \r\nI would be grateful for suggestions how to achieve that.\r\n\r\n\r\n","title":"Testing static java methods with arguments as functions","body":"<p>I'd like to write a test for verification if static method receiving correct callable as an argument.\nLet's say I have 2 classes:</p>\n<p>Employee</p>\n<pre><code>public class Employee {\n    public static Item getEmployeeItem() {\n        return new Item((a, b) -&gt; {\n            return a * b;\n        });\n    }\n}\n</code></pre>\n<p>and Item</p>\n<pre><code>public class Item {\n    BiFunction&lt;Integer, Integer, Integer&gt; behaviour;\n    Item(BiFunction&lt;Integer, Integer, Integer&gt; biFunction) {\n        this.behaviour = biFunction;\n    }\n</code></pre>\n<p>}</p>\n<p>Item has constructor with BiFunction. I'd like to to test with using junit5, Mockito, PowerMock or maybe other utills, behaviour when in case when I call</p>\n<pre><code>Item item = Employee.getEmployeeItem();\n</code></pre>\n<p>then appriopriate BiFunction has been delivered. How can I write such kind of test with junit5? Maybe should I use somehow ArgumentCaptor?\nCan someone deliver me example?</p>\n<p>That's actually simpler example of more advanced case which I need to test in unit way in my job:</p>\n<pre><code>@NoArgsConstructor(access = AccessLevel.PRIVATE)\npublic class EthernetExtractFilterFrameParsingNodeDefinitions {\n\n    public static ExtractFilterTreeNodeDefinition&lt;EthernetExtractFilter, EthernetDataTuple, IpProtocol, Option&lt;Vector&lt;SingleDataSet&gt;&gt;&gt; getIpProtocolNodeDefinition() {\n        return new ExtractFilterTreeNodeDefinition&lt;&gt;(\n                ethernetExtractFilter -&gt; ethernetExtractFilter.networkLayerPduFilter().ipProtocolFilter().toValueFilter(),\n                getNodeBehaviour(ethernetDataTuple -&gt; ethernetDataTuple.networkLayerPdu().getIpProtocol())\n        );\n    }\n</code></pre>\n<p>}</p>\n<p>I have to check here if <code>ExtractFilterTreeNodeDefinition</code> was created with appropriate Functions as parameters when I call <code>getIpProtocolNodeDefinition()</code> statick method.</p>\n<p>I'd like to be sure that first argument is correct function, correctly map extractFilter to valueFilter:</p>\n<pre><code>ethernetExtractFilter -&gt; ethernetExtractFilter.networkLayerPduFilter().ipProtocolFilter().toValueFilter()\n</code></pre>\n<p>second one as well\nHow to approach to that problem?\nI would be grateful for suggestions how to achieve that.</p>\n"},{"tags":["java","android","flutter","kotlin","apk"],"comments":[{"owner":{"account_id":17148814,"reputation":174,"user_id":12411212,"display_name":"Abu Sayed"},"score":0,"creation_date":1698924474,"post_id":76595015,"comment_id":136467324,"body_markdown":"Just change the  targetSdkVersion 34 to 32 and make APK.Hope it will work","body":"Just change the  targetSdkVersion 34 to 32 and make APK.Hope it will work"}],"owner":{"account_id":16968776,"reputation":35,"user_id":12495516,"display_name":"Hossein Shahbodaghkhan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":773,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":0,"score":3,"last_activity_date":1688220091,"creation_date":1688220091,"question_id":76595015,"body_markdown":"I have a flutter project and I build the apk for installation, but I can&#39;t install it on android 13 but it&#39;s installed and work perfectly on android 14.\r\n\r\nI also have enough storage on my device and also enabled install from unknown sources.\r\nWhen I try to install it on android 13 it simply says app not installed.\r\n\r\nHere is my `app/build.gradle`:\r\n\r\n```\r\ndef localProperties = new Properties()\r\ndef localPropertiesFile = rootProject.file(&#39;local.properties&#39;)\r\nif (localPropertiesFile.exists()) {\r\n    localPropertiesFile.withReader(&#39;UTF-8&#39;) { reader -&gt;\r\n        localProperties.load(reader)\r\n    }\r\n}\r\n\r\ndef flutterRoot = localProperties.getProperty(&#39;flutter.sdk&#39;)\r\nif (flutterRoot == null) {\r\n    throw new GradleException(&quot;Flutter SDK not found. Define location with flutter.sdk in the local.properties file.&quot;)\r\n}\r\n\r\ndef flutterVersionCode = localProperties.getProperty(&#39;flutter.versionCode&#39;)\r\nif (flutterVersionCode == null) {\r\n    flutterVersionCode = &#39;1&#39;\r\n}\r\n\r\ndef flutterVersionName = localProperties.getProperty(&#39;flutter.versionName&#39;)\r\nif (flutterVersionName == null) {\r\n    flutterVersionName = &#39;1.0&#39;\r\n}\r\n\r\napply plugin: &#39;com.android.application&#39;\r\napply plugin: &#39;kotlin-android&#39;\r\napply from: &quot;$flutterRoot/packages/flutter_tools/gradle/flutter.gradle&quot;\r\n\r\nandroid {\r\n    compileSdkVersion 34\r\n\r\n    sourceSets {\r\n        main.java.srcDirs += &#39;src/main/kotlin&#39;\r\n    }\r\n\r\n    lintOptions {\r\n        disable &#39;InvalidPackage&#39;\r\n    }\r\n\r\n    aaptOptions {\r\n        cruncherEnabled = false\r\n    }\r\n\r\n    defaultConfig {\r\n        // TODO: Specify your own unique Application ID (https://developer.android.com/studio/build/application-id.html).\r\n        applicationId &quot;com.example.vpn_app&quot;\r\n        minSdkVersion 16\r\n        targetSdkVersion 34\r\n        versionCode flutterVersionCode.toInteger()\r\n        versionName flutterVersionName\r\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\r\n    }\r\n\r\n    buildTypes {\r\n        release {\r\n            // TODO: Add your own signing config for the release build.\r\n            // Signing with the debug keys for now, so `flutter run --release` works.\r\n            signingConfig signingConfigs.debug\r\n        }\r\n    }\r\n}\r\n\r\nflutter {\r\n    source &#39;../..&#39;\r\n}\r\n\r\ndependencies {\r\n    implementation &quot;org.jetbrains.kotlin:kotlin-stdlib-jdk7:$kotlin_version&quot;\r\n    testImplementation &#39;junit:junit:4.12&#39;\r\n    androidTestImplementation &#39;androidx.test:runner:1.1.1&#39;\r\n    androidTestImplementation &#39;androidx.test.espresso:espresso-core:3.1.1&#39;\r\n}\r\n\r\n```\r\n\r\nand also here is my `mani/AndroidManifest.xml`:\r\n\r\n```\r\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    package=&quot;com.example.vpn_app&quot;&gt;\r\n    &lt;!-- io.flutter.app.FlutterApplication is an android.app.Application that\r\n         calls FlutterMain.startInitialization(this); in its onCreate method.\r\n         In most cases you can leave this as-is, but you if you want to provide\r\n         additional functionality it is fine to subclass or reimplement\r\n         FlutterApplication and put your custom class here. --&gt;\r\n    &lt;application\r\n        android:name=&quot;${applicationName}&quot;\r\n        android:label=&quot;vpn_app&quot;\r\n        android:icon=&quot;@mipmap/ic_launcher&quot;&gt;\r\n        &lt;activity\r\n            android:name=&quot;.MainActivity&quot;\r\n            android:exported=&quot;true&quot;\r\n            android:launchMode=&quot;singleTop&quot;\r\n            android:theme=&quot;@style/LaunchTheme&quot;\r\n            android:configChanges=&quot;orientation|keyboardHidden|keyboard|screenSize|smallestScreenSize|locale|layoutDirection|fontScale|screenLayout|density|uiMode&quot;\r\n            android:hardwareAccelerated=&quot;true&quot;\r\n            android:windowSoftInputMode=&quot;adjustResize&quot;&gt;\r\n            &lt;!-- Specify that the launch screen should continue being displayed --&gt;\r\n            &lt;!-- until Flutter renders its first frame. --&gt;\r\n            &lt;meta-data\r\n                android:name=&quot;io.flutter.embedding.android.SplashScreenDrawable&quot;\r\n                android:resource=&quot;@drawable/launch_background&quot; /&gt;\r\n            &lt;!-- Specifies an Android theme to apply to this Activity as soon as\r\n                 the Android process has started. This theme is visible to the user\r\n                 while the Flutter UI initializes. After that, this theme continues\r\n                 to determine the Window background behind the Flutter UI. --&gt;\r\n            &lt;meta-data\r\n              android:name=&quot;io.flutter.embedding.android.NormalTheme&quot;\r\n              android:resource=&quot;@style/NormalTheme&quot;\r\n              /&gt;\r\n            &lt;!-- Displays an Android View that continues showing the launch screen\r\n                 Drawable until Flutter paints its first frame, then this splash\r\n                 screen fades out. A splash screen is useful to avoid any visual\r\n                 gap between the end of Android&#39;s launch screen and the painting of\r\n                 Flutter&#39;s first frame. --&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot;/&gt;\r\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot;/&gt;\r\n            &lt;/intent-filter&gt;\r\n        &lt;/activity&gt;\r\n        &lt;!-- Don&#39;t delete the meta-data below.\r\n             This is used by the Flutter tool to generate GeneratedPluginRegistrant.java --&gt;\r\n        &lt;meta-data\r\n            android:name=&quot;flutterEmbedding&quot;\r\n            android:value=&quot;2&quot; /&gt;\r\n    &lt;/application&gt;\r\n&lt;/manifest&gt;\r\n\r\n```\r\n\r\nAny help or advise is appreciated.","title":"Flutter APK does not install on android 13","body":"<p>I have a flutter project and I build the apk for installation, but I can't install it on android 13 but it's installed and work perfectly on android 14.</p>\n<p>I also have enough storage on my device and also enabled install from unknown sources.\nWhen I try to install it on android 13 it simply says app not installed.</p>\n<p>Here is my <code>app/build.gradle</code>:</p>\n<pre><code>def localProperties = new Properties()\ndef localPropertiesFile = rootProject.file('local.properties')\nif (localPropertiesFile.exists()) {\n    localPropertiesFile.withReader('UTF-8') { reader -&gt;\n        localProperties.load(reader)\n    }\n}\n\ndef flutterRoot = localProperties.getProperty('flutter.sdk')\nif (flutterRoot == null) {\n    throw new GradleException(&quot;Flutter SDK not found. Define location with flutter.sdk in the local.properties file.&quot;)\n}\n\ndef flutterVersionCode = localProperties.getProperty('flutter.versionCode')\nif (flutterVersionCode == null) {\n    flutterVersionCode = '1'\n}\n\ndef flutterVersionName = localProperties.getProperty('flutter.versionName')\nif (flutterVersionName == null) {\n    flutterVersionName = '1.0'\n}\n\napply plugin: 'com.android.application'\napply plugin: 'kotlin-android'\napply from: &quot;$flutterRoot/packages/flutter_tools/gradle/flutter.gradle&quot;\n\nandroid {\n    compileSdkVersion 34\n\n    sourceSets {\n        main.java.srcDirs += 'src/main/kotlin'\n    }\n\n    lintOptions {\n        disable 'InvalidPackage'\n    }\n\n    aaptOptions {\n        cruncherEnabled = false\n    }\n\n    defaultConfig {\n        // TODO: Specify your own unique Application ID (https://developer.android.com/studio/build/application-id.html).\n        applicationId &quot;com.example.vpn_app&quot;\n        minSdkVersion 16\n        targetSdkVersion 34\n        versionCode flutterVersionCode.toInteger()\n        versionName flutterVersionName\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\n    }\n\n    buildTypes {\n        release {\n            // TODO: Add your own signing config for the release build.\n            // Signing with the debug keys for now, so `flutter run --release` works.\n            signingConfig signingConfigs.debug\n        }\n    }\n}\n\nflutter {\n    source '../..'\n}\n\ndependencies {\n    implementation &quot;org.jetbrains.kotlin:kotlin-stdlib-jdk7:$kotlin_version&quot;\n    testImplementation 'junit:junit:4.12'\n    androidTestImplementation 'androidx.test:runner:1.1.1'\n    androidTestImplementation 'androidx.test.espresso:espresso-core:3.1.1'\n}\n\n</code></pre>\n<p>and also here is my <code>mani/AndroidManifest.xml</code>:</p>\n<pre><code>&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    package=&quot;com.example.vpn_app&quot;&gt;\n    &lt;!-- io.flutter.app.FlutterApplication is an android.app.Application that\n         calls FlutterMain.startInitialization(this); in its onCreate method.\n         In most cases you can leave this as-is, but you if you want to provide\n         additional functionality it is fine to subclass or reimplement\n         FlutterApplication and put your custom class here. --&gt;\n    &lt;application\n        android:name=&quot;${applicationName}&quot;\n        android:label=&quot;vpn_app&quot;\n        android:icon=&quot;@mipmap/ic_launcher&quot;&gt;\n        &lt;activity\n            android:name=&quot;.MainActivity&quot;\n            android:exported=&quot;true&quot;\n            android:launchMode=&quot;singleTop&quot;\n            android:theme=&quot;@style/LaunchTheme&quot;\n            android:configChanges=&quot;orientation|keyboardHidden|keyboard|screenSize|smallestScreenSize|locale|layoutDirection|fontScale|screenLayout|density|uiMode&quot;\n            android:hardwareAccelerated=&quot;true&quot;\n            android:windowSoftInputMode=&quot;adjustResize&quot;&gt;\n            &lt;!-- Specify that the launch screen should continue being displayed --&gt;\n            &lt;!-- until Flutter renders its first frame. --&gt;\n            &lt;meta-data\n                android:name=&quot;io.flutter.embedding.android.SplashScreenDrawable&quot;\n                android:resource=&quot;@drawable/launch_background&quot; /&gt;\n            &lt;!-- Specifies an Android theme to apply to this Activity as soon as\n                 the Android process has started. This theme is visible to the user\n                 while the Flutter UI initializes. After that, this theme continues\n                 to determine the Window background behind the Flutter UI. --&gt;\n            &lt;meta-data\n              android:name=&quot;io.flutter.embedding.android.NormalTheme&quot;\n              android:resource=&quot;@style/NormalTheme&quot;\n              /&gt;\n            &lt;!-- Displays an Android View that continues showing the launch screen\n                 Drawable until Flutter paints its first frame, then this splash\n                 screen fades out. A splash screen is useful to avoid any visual\n                 gap between the end of Android's launch screen and the painting of\n                 Flutter's first frame. --&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot;/&gt;\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot;/&gt;\n            &lt;/intent-filter&gt;\n        &lt;/activity&gt;\n        &lt;!-- Don't delete the meta-data below.\n             This is used by the Flutter tool to generate GeneratedPluginRegistrant.java --&gt;\n        &lt;meta-data\n            android:name=&quot;flutterEmbedding&quot;\n            android:value=&quot;2&quot; /&gt;\n    &lt;/application&gt;\n&lt;/manifest&gt;\n\n</code></pre>\n<p>Any help or advise is appreciated.</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":22394789,"reputation":1382,"user_id":16606223,"display_name":"Yahor Barkouski"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1688219543,"creation_date":1688219543,"answer_id":76594979,"question_id":76594937,"body_markdown":"The `plusMonths()`, `plusWeeks()` are meant to be generic for any calendar system, but the specific behavior of adding months, weeks, etc. can really vary between different calendars.\r\n\r\nAll these date classes use `ChronoLocalDate` interface, which has a method called `plus(long, TemporalUnit)` - and this is the best way of adding any amount of any unit of time to a date. The cool part is, each date class gets to decide how this method works for them, so if you want to add a month to a HijrahDate, you can do it like this, and be sure it&#39;s working:\r\n```java\r\nHijrahDate date = HijrahDate.now();\r\ndate = date.plus(1, ChronoUnit.MONTHS);\r\n```\r\nRead more: https://docs.oracle.com/javase/8/docs/api/java/time/chrono/ChronoLocalDate.html","title":"Why plusMonths, plusWeeks and etc are not public in java.time.chrono classes","body":"<p>The <code>plusMonths()</code>, <code>plusWeeks()</code> are meant to be generic for any calendar system, but the specific behavior of adding months, weeks, etc. can really vary between different calendars.</p>\n<p>All these date classes use <code>ChronoLocalDate</code> interface, which has a method called <code>plus(long, TemporalUnit)</code> - and this is the best way of adding any amount of any unit of time to a date. The cool part is, each date class gets to decide how this method works for them, so if you want to add a month to a HijrahDate, you can do it like this, and be sure it's working:</p>\n<pre class=\"lang-java prettyprint-override\"><code>HijrahDate date = HijrahDate.now();\ndate = date.plus(1, ChronoUnit.MONTHS);\n</code></pre>\n<p>Read more: <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/chrono/ChronoLocalDate.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/8/docs/api/java/time/chrono/ChronoLocalDate.html</a></p>\n"}],"owner":{"account_id":28930613,"reputation":1,"user_id":22159417,"display_name":"Amer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1688219543,"creation_date":1688218809,"question_id":76594937,"body_markdown":"In classes like `LocalDate`, `LocalDateTime` there are methods like `plusMonths()`, `plusWeeks()` and they can be used since they are public. However in `HijrahDate` class these methods are not public and they don&#39;t seem to be used in any class in this package.\r\n\r\n\r\n\r\nWhat&#39;s the point of these methods if they&#39;re not (and cannot be) used anywhere ?","title":"Why plusMonths, plusWeeks and etc are not public in java.time.chrono classes","body":"<p>In classes like <code>LocalDate</code>, <code>LocalDateTime</code> there are methods like <code>plusMonths()</code>, <code>plusWeeks()</code> and they can be used since they are public. However in <code>HijrahDate</code> class these methods are not public and they don't seem to be used in any class in this package.</p>\n<p>What's the point of these methods if they're not (and cannot be) used anywhere ?</p>\n"},{"tags":["java","database","spring-data-jpa","crud"],"answers":[{"tags":[],"owner":{"account_id":6104455,"reputation":4456,"user_id":4762502,"accept_rate":73,"display_name":"Gaurav Jeswani"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1687336434,"creation_date":1687336434,"answer_id":76521415,"question_id":76519783,"body_markdown":"In your Mapping path you are missing leading slash(`&quot;/&quot;`). So it should be like below:\r\n\r\n    @PutMapping(path = &quot;/{productId}&quot;)\r\n    public void updateStudent(\r\n        @PathVariable(&quot;productId&quot;) Long productId,\r\n        @RequestParam(required = false) String title,\r\n        @RequestParam(required = false) double price,\r\n        @RequestParam(required = false) String description,\r\n        @RequestParam(required = false) String category,\r\n        @RequestParam(required = false) String image\r\n    )\r\n    {\r\n        productService.updateProduct(productId,title,price,description,category,image);\r\n    }","title":"Java spring JPA : Method &#39;PUT&#39; is not supported","body":"<p>In your Mapping path you are missing leading slash(<code>&quot;/&quot;</code>). So it should be like below:</p>\n<pre><code>@PutMapping(path = &quot;/{productId}&quot;)\npublic void updateStudent(\n    @PathVariable(&quot;productId&quot;) Long productId,\n    @RequestParam(required = false) String title,\n    @RequestParam(required = false) double price,\n    @RequestParam(required = false) String description,\n    @RequestParam(required = false) String category,\n    @RequestParam(required = false) String image\n)\n{\n    productService.updateProduct(productId,title,price,description,category,image);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14141446,"reputation":326,"user_id":10216101,"display_name":"iifast2"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688218980,"creation_date":1688218980,"answer_id":76594945,"question_id":76519783,"body_markdown":"it seems that the request is not being recognized as a PUT request, you can use this, just make sure that the URL is accessible : \r\n \r\n    http://localhost:8080/api/v1/products/3\r\n\r\nOr you can : \r\n\r\nChange the @PutMapping annotation in your controller to @PatchMapping. This will map the HTTP PATCH method to your update method instead of PUT.\r\n\r\nthen modify request to use the PATCH method instead of PUT : \r\n\r\n\r\n\r\n    PATCH http://localhost:8080/api/v1/products/3\r\n    Content-Type: application/json\r\n    \r\n    {\r\n      &quot;title&quot;: &quot;test&quot;\r\n    }\r\n\r\n","title":"Java spring JPA : Method &#39;PUT&#39; is not supported","body":"<p>it seems that the request is not being recognized as a PUT request, you can use this, just make sure that the URL is accessible :</p>\n<pre><code>http://localhost:8080/api/v1/products/3\n</code></pre>\n<p>Or you can :</p>\n<p>Change the @PutMapping annotation in your controller to @PatchMapping. This will map the HTTP PATCH method to your update method instead of PUT.</p>\n<p>then modify request to use the PATCH method instead of PUT :</p>\n<pre><code>PATCH http://localhost:8080/api/v1/products/3\nContent-Type: application/json\n\n{\n  &quot;title&quot;: &quot;test&quot;\n}\n</code></pre>\n"}],"owner":{"account_id":28842520,"reputation":85,"user_id":22090364,"display_name":"BabouG"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":205,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":76521415,"answer_count":2,"score":2,"last_activity_date":1688218980,"creation_date":1687318555,"question_id":76519783,"body_markdown":"I have following problem. I just wanted to do a simple update request to my postgresql database.\r\nBut I always get following error code, if I try to test the request with Android Studio.\r\n\r\n\r\n```\r\n{\r\n  &quot;timestamp&quot;: &quot;2023-06-21T03:30:21.661+00:00&quot;,\r\n  &quot;status&quot;: 405,\r\n  &quot;error&quot;: &quot;Method Not Allowed&quot;,\r\n  &quot;message&quot;: &quot;Method &#39;PUT&#39; is not supported.&quot;,\r\n  &quot;path&quot;: &quot;/api/v1/products/3&quot;\r\n}\r\n```\r\n\r\nHere is my Controller:\r\n\r\n\r\n```\r\npackage com.mgg.flutterappbackend.products;\r\n\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.web.bind.annotation.*;\r\n\r\nimport java.util.List;\r\n\r\n@RestController\r\n@RequestMapping(&quot;api/v1/products&quot;)\r\npublic class ProductController {\r\n\r\n    private final ProductService productService;\r\n\r\n    @Autowired\r\n    public ProductController(ProductService productService) {\r\n        this.productService = productService;\r\n    }\r\n\r\n    @GetMapping\r\n    public List&lt;Product&gt; getProducts(){\r\n        return productService.getProducts();\r\n    }\r\n    @PostMapping\r\n    public void registerNewProduct(@RequestBody Product product){\r\n        productService.addNewProduct(product);\r\n    }\r\n    @DeleteMapping(path = &quot;{productId}&quot;)\r\n    public void deleteProduct(@PathVariable(&quot;productId&quot;) Long productId){\r\n        productService.deleteProduct(productId);\r\n    }\r\n    @PutMapping(path = &quot;{productId}&quot;)\r\n    public void updateStudent(\r\n        @PathVariable(&quot;productId&quot;) Long productId,\r\n        @RequestParam(required = false) String title,\r\n        @RequestParam(required = false) double price,\r\n        @RequestParam(required = false) String description,\r\n        @RequestParam(required = false) String category,\r\n        @RequestParam(required = false) String image\r\n    )\r\n    {\r\n        productService.updateProduct(productId,title,price,description,category,image);\r\n    }\r\n\r\n}\r\n\r\n```\r\n\r\nMy service \r\n\r\n\r\n```\r\npackage com.mgg.flutterappbackend.products;\r\n\r\nimport jakarta.transaction.Transactional;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.stereotype.Service;\r\n\r\n\r\nimport java.util.List;\r\nimport java.util.Objects;\r\nimport java.util.Optional;\r\n\r\n@Service\r\npublic class ProductService {\r\n\r\n    private final ProductRepository productRepository;\r\n    @Autowired\r\n    public ProductService(ProductRepository productRepository) {\r\n        this.productRepository = productRepository;\r\n    }\r\n\r\n    public List&lt;Product&gt; getProducts() {\r\n        return productRepository.findAll();\r\n    }\r\n\r\n    public void addNewProduct(Product product) {\r\n        Optional&lt;Product&gt; productByName = productRepository.findProductByName(product.getTitle());\r\n        if (productByName.isPresent()){\r\n            throw new IllegalStateException(&quot;product already listed&quot;);\r\n        }\r\n        productRepository.save(product);\r\n\r\n\r\n    }\r\n\r\n    public void deleteProduct(Long productId) {\r\n        boolean exits = productRepository.existsById(productId);\r\n        if (!exits){\r\n            throw new IllegalStateException(&quot;product is not in the list&quot; + productId);\r\n        }\r\n        productRepository.deleteById(productId);\r\n    }\r\n    @Transactional\r\n    public void updateProduct(Long productId,String title, double price, String description, String category,String image ){\r\n        Product product = productRepository.findById(productId)\r\n                .orElseThrow(()-&gt; new IllegalStateException(\r\n                        &quot;product with id &quot; + productId + &quot;does not exits&quot;\r\n                ));\r\n        if (title != null  &amp;&amp;\r\n                title.length() &gt; 0 &amp;&amp;\r\n                !Objects.equals(product.getTitle(),title)) {\r\n            product.setTitle(title);\r\n        }\r\n        if (price == 0 &amp;&amp;\r\n                !(product.getPrice()==price)) {\r\n            product.setPrice(price);\r\n        }\r\n        if (description != null  &amp;&amp;\r\n                description.length() &gt; 0 &amp;&amp;\r\n                !Objects.equals(product.getDescription(),description)) {\r\n            product.setDescription(description);\r\n        }\r\n        if (category != null  &amp;&amp;\r\n                category.length() &gt; 0 &amp;&amp;\r\n                !Objects.equals(product.getCategory(),category)) {\r\n            product.setCategory(category);\r\n        }\r\n        if (image != null  &amp;&amp;\r\n                image.length() &gt; 0 &amp;&amp;\r\n                !Objects.equals(product.getImage(),image)) {\r\n            product.setImage(image);\r\n        }\r\n\r\n\r\n    }\r\n\r\n}\r\n```\r\n\r\nAnd here is the request from Android Studio: \r\n\r\n\r\n```\r\n###\r\nPUT http://localhost:8080/api/v1/products/3?title=test\r\nContent-Type: application/json\r\n```\r\n\r\n\r\n\r\n\r\n\r\n\r\nI&#39;m expecting that the data on my database should be updated with the request","title":"Java spring JPA : Method &#39;PUT&#39; is not supported","body":"<p>I have following problem. I just wanted to do a simple update request to my postgresql database.\nBut I always get following error code, if I try to test the request with Android Studio.</p>\n<pre><code>{\n  &quot;timestamp&quot;: &quot;2023-06-21T03:30:21.661+00:00&quot;,\n  &quot;status&quot;: 405,\n  &quot;error&quot;: &quot;Method Not Allowed&quot;,\n  &quot;message&quot;: &quot;Method 'PUT' is not supported.&quot;,\n  &quot;path&quot;: &quot;/api/v1/products/3&quot;\n}\n</code></pre>\n<p>Here is my Controller:</p>\n<pre><code>package com.mgg.flutterappbackend.products;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.web.bind.annotation.*;\n\nimport java.util.List;\n\n@RestController\n@RequestMapping(&quot;api/v1/products&quot;)\npublic class ProductController {\n\n    private final ProductService productService;\n\n    @Autowired\n    public ProductController(ProductService productService) {\n        this.productService = productService;\n    }\n\n    @GetMapping\n    public List&lt;Product&gt; getProducts(){\n        return productService.getProducts();\n    }\n    @PostMapping\n    public void registerNewProduct(@RequestBody Product product){\n        productService.addNewProduct(product);\n    }\n    @DeleteMapping(path = &quot;{productId}&quot;)\n    public void deleteProduct(@PathVariable(&quot;productId&quot;) Long productId){\n        productService.deleteProduct(productId);\n    }\n    @PutMapping(path = &quot;{productId}&quot;)\n    public void updateStudent(\n        @PathVariable(&quot;productId&quot;) Long productId,\n        @RequestParam(required = false) String title,\n        @RequestParam(required = false) double price,\n        @RequestParam(required = false) String description,\n        @RequestParam(required = false) String category,\n        @RequestParam(required = false) String image\n    )\n    {\n        productService.updateProduct(productId,title,price,description,category,image);\n    }\n\n}\n\n</code></pre>\n<p>My service</p>\n<pre><code>package com.mgg.flutterappbackend.products;\n\nimport jakarta.transaction.Transactional;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Service;\n\n\nimport java.util.List;\nimport java.util.Objects;\nimport java.util.Optional;\n\n@Service\npublic class ProductService {\n\n    private final ProductRepository productRepository;\n    @Autowired\n    public ProductService(ProductRepository productRepository) {\n        this.productRepository = productRepository;\n    }\n\n    public List&lt;Product&gt; getProducts() {\n        return productRepository.findAll();\n    }\n\n    public void addNewProduct(Product product) {\n        Optional&lt;Product&gt; productByName = productRepository.findProductByName(product.getTitle());\n        if (productByName.isPresent()){\n            throw new IllegalStateException(&quot;product already listed&quot;);\n        }\n        productRepository.save(product);\n\n\n    }\n\n    public void deleteProduct(Long productId) {\n        boolean exits = productRepository.existsById(productId);\n        if (!exits){\n            throw new IllegalStateException(&quot;product is not in the list&quot; + productId);\n        }\n        productRepository.deleteById(productId);\n    }\n    @Transactional\n    public void updateProduct(Long productId,String title, double price, String description, String category,String image ){\n        Product product = productRepository.findById(productId)\n                .orElseThrow(()-&gt; new IllegalStateException(\n                        &quot;product with id &quot; + productId + &quot;does not exits&quot;\n                ));\n        if (title != null  &amp;&amp;\n                title.length() &gt; 0 &amp;&amp;\n                !Objects.equals(product.getTitle(),title)) {\n            product.setTitle(title);\n        }\n        if (price == 0 &amp;&amp;\n                !(product.getPrice()==price)) {\n            product.setPrice(price);\n        }\n        if (description != null  &amp;&amp;\n                description.length() &gt; 0 &amp;&amp;\n                !Objects.equals(product.getDescription(),description)) {\n            product.setDescription(description);\n        }\n        if (category != null  &amp;&amp;\n                category.length() &gt; 0 &amp;&amp;\n                !Objects.equals(product.getCategory(),category)) {\n            product.setCategory(category);\n        }\n        if (image != null  &amp;&amp;\n                image.length() &gt; 0 &amp;&amp;\n                !Objects.equals(product.getImage(),image)) {\n            product.setImage(image);\n        }\n\n\n    }\n\n}\n</code></pre>\n<p>And here is the request from Android Studio:</p>\n<pre><code>###\nPUT http://localhost:8080/api/v1/products/3?title=test\nContent-Type: application/json\n</code></pre>\n<p>I'm expecting that the data on my database should be updated with the request</p>\n"},{"tags":["java","maven","maven-surefire-plugin","java-platform-module-system"],"comments":[{"owner":{"account_id":72101,"reputation":15566,"user_id":208288,"accept_rate":67,"display_name":"Laird Nelson"},"score":0,"creation_date":1683225282,"post_id":76175959,"comment_id":134338115,"body_markdown":"Another way to ask the question: given that I cannot do `--add-modules maven:coordinates:here` in my surefire `argLine`, where `maven:coordinates:here` is an automatic module, how do I get as close to that as possible?","body":"Another way to ask the question: given that I cannot do <code>--add-modules maven:coordinates:here</code> in my surefire <code>argLine</code>, where <code>maven:coordinates:here</code> is an automatic module, how do I get as close to that as possible?"},{"owner":{"account_id":72101,"reputation":15566,"user_id":208288,"accept_rate":67,"display_name":"Laird Nelson"},"score":0,"creation_date":1683228401,"post_id":76175959,"comment_id":134338825,"body_markdown":"The plugin has changed since I last used it in an advanced manner, and apparently now you can also have a `src/test/resources/module-info.java`. Obviously your JUnit tests have to be in a different package, but if you do this, Surefire uses the module path more rigorously, detecting automatic modules automatically. I&#39;ll answer my own question for posterity once I can figure out how to explain it briefly.","body":"The plugin has changed since I last used it in an advanced manner, and apparently now you can also have a <code>src&#47;test&#47;resources&#47;module-info.java</code>. Obviously your JUnit tests have to be in a different package, but if you do this, Surefire uses the module path more rigorously, detecting automatic modules automatically. I&#39;ll answer my own question for posterity once I can figure out how to explain it briefly."},{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":0,"creation_date":1683244851,"post_id":76175959,"comment_id":134341369,"body_markdown":"In theory, you just need to add `simplethingprovider.jar` to the module path - the binding (a module that `uses ThingProvider` is in the graph, add all modules that provide that as well) should do the rest. But I have no idea how to do that with the mavan surefire plugin.","body":"In theory, you just need to add <code>simplethingprovider.jar</code> to the module path - the binding (a module that <code>uses ThingProvider</code> is in the graph, add all modules that provide that as well) should do the rest. But I have no idea how to do that with the mavan surefire plugin."},{"owner":{"account_id":72101,"reputation":15566,"user_id":208288,"accept_rate":67,"display_name":"Laird Nelson"},"score":0,"creation_date":1683247083,"post_id":76175959,"comment_id":134341578,"body_markdown":"Right; adding `simplethingprovider.jar` manually would be, actually, adding `~/.m2/repository/com/foo/bar/simplethingprovider/1.0.0/...etc.etc.etc.` to the module path, assuming you know where your repo is, etc. etc. etc. Luckily it turns out the `maven-surefire-plugin` has evolved to support a `module-info.java` in your `src/main/resources` and another one in `src/test/resources` and behaves differently if both are found. The solution turns out to be quite simple.","body":"Right; adding <code>simplethingprovider.jar</code> manually would be, actually, adding <code>~&#47;.m2&#47;repository&#47;com&#47;foo&#47;bar&#47;simplethingprovider&#47;1.0.0&#47;...et&zwnj;&#8203;c.etc.etc.</code> to the module path, assuming you know where your repo is, etc. etc. etc. Luckily it turns out the <code>maven-surefire-plugin</code> has evolved to support a <code>module-info.java</code> in your <code>src&#47;main&#47;resources</code> and another one in <code>src&#47;test&#47;resources</code> and behaves differently if both are found. The solution turns out to be quite simple."}],"answers":[{"tags":[],"owner":{"account_id":21851467,"reputation":682,"user_id":16143492,"display_name":"nineninesevenfour"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1688218350,"creation_date":1688209656,"answer_id":76594410,"question_id":76175959,"body_markdown":"&gt; ..., but I want to understand why the --add-reads &quot;solution&quot; above does not work.\r\n\r\n`--add-reads` is the equivalent to the `requires` clause in `module-info.java`. Adding this would be contrary to the idea of `java.util.ServiceLoader`. The basic idea of it is, that the code facilitating it is *not* aware of which providers are actually implementing the service interface and that includes `module-info.java`. The only corresponding clause on consumer&#39;s side is - as you correctly wrote - `uses &lt;interface&gt;`. You already have that.\r\n\r\n&gt; How can I accomplish what I want to do here?\r\n\r\nWhat you need here is having your test implementation `SimpleThingProvider` on the **module path** (I think you also got that concept).\r\n\r\nThe `maven-surefire-plugin` version `3.0.0-M6` or newer (including `3.0.0`) adds dependencies with scope `test` automatically to the module path (it did *not* work between `3.0.0-M2` and `3.0.0-M5`).\r\n\r\nSimple solution\r\n---------------\r\nAdd the Maven module containing `SimpleThingProvider` with `&lt;scope&gt;test&lt;/scope&gt;` and pick a recent version (&gt;= 3.0.0-M6, which includes 3.0.0, 3.1.0 and 3.1.2) of `maven-surefire-plugin`.\r\n\r\nRemark: Adding an additional `&lt;argLine&gt;--module-path ...&lt;/argLine&gt;` did not work for me. I think the main reason is, that it would require the Surefire plugin to detect that specific argument and merge it with it&#39;s own, which seems not to be the case.\r\n\r\n#### It won&#39;t work in IntelliJ ####\r\nIntelliJ IDEA - unlike the Surefire plugin - does not add dependencies with scope `test` to the module path (yet). This would require to manually specify `--module-path` for the IDE test run, which can get extremely cumbersome. It can be avoided by additionally putting the service implementations into `src/main/resources/META-INF/services` plus adding the option &quot;*Do not use --module-path option*&quot; to the test run configuration. If you do not want to have `META-INF/services` in production code, it would be sufficient to put it once into `src/test/resources` alongside the testing code.\r\n\r\nPutting it in production code would additionally have the advantage that your service implementation(s) would work for consumers which are not Jigsaw/JMPS-aware.\r\n","title":"How can I add a module to the module path in using the Maven Surefire plugin?","body":"<blockquote>\n<p>..., but I want to understand why the --add-reads &quot;solution&quot; above does not work.</p>\n</blockquote>\n<p><code>--add-reads</code> is the equivalent to the <code>requires</code> clause in <code>module-info.java</code>. Adding this would be contrary to the idea of <code>java.util.ServiceLoader</code>. The basic idea of it is, that the code facilitating it is <em>not</em> aware of which providers are actually implementing the service interface and that includes <code>module-info.java</code>. The only corresponding clause on consumer's side is - as you correctly wrote - <code>uses &lt;interface&gt;</code>. You already have that.</p>\n<blockquote>\n<p>How can I accomplish what I want to do here?</p>\n</blockquote>\n<p>What you need here is having your test implementation <code>SimpleThingProvider</code> on the <strong>module path</strong> (I think you also got that concept).</p>\n<p>The <code>maven-surefire-plugin</code> version <code>3.0.0-M6</code> or newer (including <code>3.0.0</code>) adds dependencies with scope <code>test</code> automatically to the module path (it did <em>not</em> work between <code>3.0.0-M2</code> and <code>3.0.0-M5</code>).</p>\n<h2>Simple solution</h2>\n<p>Add the Maven module containing <code>SimpleThingProvider</code> with <code>&lt;scope&gt;test&lt;/scope&gt;</code> and pick a recent version (&gt;= 3.0.0-M6, which includes 3.0.0, 3.1.0 and 3.1.2) of <code>maven-surefire-plugin</code>.</p>\n<p>Remark: Adding an additional <code>&lt;argLine&gt;--module-path ...&lt;/argLine&gt;</code> did not work for me. I think the main reason is, that it would require the Surefire plugin to detect that specific argument and merge it with it's own, which seems not to be the case.</p>\n<h4>It won't work in IntelliJ</h4>\n<p>IntelliJ IDEA - unlike the Surefire plugin - does not add dependencies with scope <code>test</code> to the module path (yet). This would require to manually specify <code>--module-path</code> for the IDE test run, which can get extremely cumbersome. It can be avoided by additionally putting the service implementations into <code>src/main/resources/META-INF/services</code> plus adding the option &quot;<em>Do not use --module-path option</em>&quot; to the test run configuration. If you do not want to have <code>META-INF/services</code> in production code, it would be sufficient to put it once into <code>src/test/resources</code> alongside the testing code.</p>\n<p>Putting it in production code would additionally have the advantage that your service implementation(s) would work for consumers which are not Jigsaw/JMPS-aware.</p>\n"}],"owner":{"account_id":72101,"reputation":15566,"user_id":208288,"accept_rate":67,"display_name":"Laird Nelson"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":380,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1688218350,"creation_date":1683221790,"question_id":76175959,"body_markdown":"I am using Maven and the `maven-surefire-plugin` (version 3.0.0).\r\n\r\nI am developing a Java (JPMS) module (`fancythingprovider`) that supplies a service provider (`provides ThingProvider with FancyThingProvider`).\r\n\r\nThere is another module (`thinguser`) that has a class (`ThingUser`) that loads `ThingProvider`s (`uses ThingProvider`).\r\n\r\nTo test my module, I have a normal JUnit class.  It uses `ThingUser` and expects to find my `FancyThingProvider`. This works fine.\r\n\r\nI would now like to have another module, `simplethingprovider`, be present at test time, so that `ThingUser` will &quot;see&quot; both `FancyThingProvider` and `SimpleThingProvider`.  I don&#39;t want `requires simplethingprovider` to be present in my `module-info.java` because, of course, my module itself doesn&#39;t actually need it.  I just want it in the module graph at test time.\r\n\r\nI am aware that the `maven-surefire-plugin` uses a combination of `--module-path` and `--patch-module` to make it look like my `fancythingprovider` project&#39;s `src/test/java` classes are part of the module declared by its `module-info.java` in `src/main/java/module-info.java`.  I am also aware that without a `requires` statement somewhere or some other mechanism to add it to the module graph, `simplethingprovider` will not appear in the module graph, even if it is on the test classpath (part of the unnamed module).\r\n\r\nI am reasonably familiar with the various command-line switches that `java` offers to monkey with the module graph, including `--add-reads`, `--add-modules` and the like.\r\n\r\nSo I thought that perhaps I could cause the `maven-surefire-plugin` to add the `simplethingprovider` module.\r\n\r\nUsing `argLine`, my first thought, which was dumb in hindsight, was to supply `--add-modules simplethingprovider`.  This won&#39;t work, of course, because `simplethingprovider` is not present in the module path that Surefire runs with, and it&#39;s not read by any other module.\r\n\r\nRealizing that `simplethingprovider`&#39;s jar file is on the test **class**path, not the module path, and therefore that it is part of the unnamed module, my second thought was to let the `thinguser` module read the unnamed module, so that it would find my `simplethingprovider`&#39;s service providers.  Using `argLine`, I tried `--add-reads thinguser=ALL-UNNAMED` (let `thinguser` read the unnamed module).  This did not work, which still mildly surprises me.\r\n\r\nThen I thought, oh, since `simplethingprovider` is on the classpath and not the module path, its `module-info.java` is irrelevant in this scenario, and that changes the semantics of how service providers are found. I cannot simply rely on a `provides` statement in its `module-info.java` since it is irrelevant; I have to _also_ make sure there is a `/META-INF/services/ThingProvider` service provider file at the root of the jar file, containing `SimpleThingProvider`.  I made this change but my `--add-reads` still does not work.\r\n\r\nHow can I accomplish what I want to do here?\r\n\r\nI am aware that I can set up a new Maven project with a proper `module-info.java` file (a new module) that then uses all the other modules and so on.  I am of course prepared to do that, but I want to understand why the `--add-reads` &quot;solution&quot; above does not work.","title":"How can I add a module to the module path in using the Maven Surefire plugin?","body":"<p>I am using Maven and the <code>maven-surefire-plugin</code> (version 3.0.0).</p>\n<p>I am developing a Java (JPMS) module (<code>fancythingprovider</code>) that supplies a service provider (<code>provides ThingProvider with FancyThingProvider</code>).</p>\n<p>There is another module (<code>thinguser</code>) that has a class (<code>ThingUser</code>) that loads <code>ThingProvider</code>s (<code>uses ThingProvider</code>).</p>\n<p>To test my module, I have a normal JUnit class.  It uses <code>ThingUser</code> and expects to find my <code>FancyThingProvider</code>. This works fine.</p>\n<p>I would now like to have another module, <code>simplethingprovider</code>, be present at test time, so that <code>ThingUser</code> will &quot;see&quot; both <code>FancyThingProvider</code> and <code>SimpleThingProvider</code>.  I don't want <code>requires simplethingprovider</code> to be present in my <code>module-info.java</code> because, of course, my module itself doesn't actually need it.  I just want it in the module graph at test time.</p>\n<p>I am aware that the <code>maven-surefire-plugin</code> uses a combination of <code>--module-path</code> and <code>--patch-module</code> to make it look like my <code>fancythingprovider</code> project's <code>src/test/java</code> classes are part of the module declared by its <code>module-info.java</code> in <code>src/main/java/module-info.java</code>.  I am also aware that without a <code>requires</code> statement somewhere or some other mechanism to add it to the module graph, <code>simplethingprovider</code> will not appear in the module graph, even if it is on the test classpath (part of the unnamed module).</p>\n<p>I am reasonably familiar with the various command-line switches that <code>java</code> offers to monkey with the module graph, including <code>--add-reads</code>, <code>--add-modules</code> and the like.</p>\n<p>So I thought that perhaps I could cause the <code>maven-surefire-plugin</code> to add the <code>simplethingprovider</code> module.</p>\n<p>Using <code>argLine</code>, my first thought, which was dumb in hindsight, was to supply <code>--add-modules simplethingprovider</code>.  This won't work, of course, because <code>simplethingprovider</code> is not present in the module path that Surefire runs with, and it's not read by any other module.</p>\n<p>Realizing that <code>simplethingprovider</code>'s jar file is on the test <strong>class</strong>path, not the module path, and therefore that it is part of the unnamed module, my second thought was to let the <code>thinguser</code> module read the unnamed module, so that it would find my <code>simplethingprovider</code>'s service providers.  Using <code>argLine</code>, I tried <code>--add-reads thinguser=ALL-UNNAMED</code> (let <code>thinguser</code> read the unnamed module).  This did not work, which still mildly surprises me.</p>\n<p>Then I thought, oh, since <code>simplethingprovider</code> is on the classpath and not the module path, its <code>module-info.java</code> is irrelevant in this scenario, and that changes the semantics of how service providers are found. I cannot simply rely on a <code>provides</code> statement in its <code>module-info.java</code> since it is irrelevant; I have to <em>also</em> make sure there is a <code>/META-INF/services/ThingProvider</code> service provider file at the root of the jar file, containing <code>SimpleThingProvider</code>.  I made this change but my <code>--add-reads</code> still does not work.</p>\n<p>How can I accomplish what I want to do here?</p>\n<p>I am aware that I can set up a new Maven project with a proper <code>module-info.java</code> file (a new module) that then uses all the other modules and so on.  I am of course prepared to do that, but I want to understand why the <code>--add-reads</code> &quot;solution&quot; above does not work.</p>\n"},{"tags":["java","angular","rest","primeng"],"answers":[{"comments":[{"owner":{"account_id":1073176,"reputation":3217,"user_id":1071967,"accept_rate":61,"display_name":"Geek"},"score":0,"creation_date":1594874683,"post_id":62907958,"comment_id":111280792,"body_markdown":"answer to 1 worked using stringfy. thank you. For 2: i can send fileArray. I have another question . How can i loop through the array get the file and convert them to byte stream and fileName too for each file. Is there any working example? I tried different ways but couldnt find a solution for multiple file upload so far.","body":"answer to 1 worked using stringfy. thank you. For 2: i can send fileArray. I have another question . How can i loop through the array get the file and convert them to byte stream and fileName too for each file. Is there any working example? I tried different ways but couldnt find a solution for multiple file upload so far."},{"owner":{"account_id":1073176,"reputation":3217,"user_id":1071967,"accept_rate":61,"display_name":"Geek"},"score":0,"creation_date":1594874781,"post_id":62907958,"comment_id":111280811,"body_markdown":"I am using REST service to get the file and save to DB. Using multi form data and @FormDataParam but not able to get the data and iterate","body":"I am using REST service to get the file and save to DB. Using multi form data and @FormDataParam but not able to get the data and iterate"},{"owner":{"account_id":7858250,"reputation":431,"user_id":5939393,"display_name":"Pooja Mule"},"score":0,"creation_date":1594962106,"post_id":62907958,"comment_id":111315273,"body_markdown":"I am not clear on what you mean. You can check the primeng documentation for knowing how to read the file.","body":"I am not clear on what you mean. You can check the primeng documentation for knowing how to read the file."}],"tags":[],"owner":{"account_id":7858250,"reputation":431,"user_id":5939393,"display_name":"Pooja Mule"},"comment_count":3,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1594789750,"creation_date":1594789750,"answer_id":62907958,"question_id":62907598,"body_markdown":"**Question 1**- Can I add formObj along with the upload - if so, how?\r\n\r\nIf you have to send the whole object in the formData there are 2 ways,\r\n 1. Stringify the object like- `formData.append(&quot;faqObj&quot;, JSON.stringify(faqObj));`\r\n    In this case, the server will have to parse the stringified object.\r\n 2. Another way to do it is to append the keys of the object looping through the object like **Object.keys(faqObj).forEach(ele =&gt; formData.append(\\`faqObj[${ele}]\\`), faqObj[ele])**\r\nIn this case, the server does not have to parse the object.\r\n\r\n**Question 2-** How can I send multiple files? formData.append(&quot;file&quot;, file); - this doesnt accept an array\r\n\r\nFor this, you have to loop through the files array as follows\r\n\r\n    uploadedFiles.forEach(file =&gt; formData.append(&#39;file[]&#39;, file))","title":"primeng fileUpload to send form data and passing file array to the service layer","body":"<p><strong>Question 1</strong>- Can I add formObj along with the upload - if so, how?</p>\n<p>If you have to send the whole object in the formData there are 2 ways,</p>\n<ol>\n<li>Stringify the object like- <code>formData.append(&quot;faqObj&quot;, JSON.stringify(faqObj));</code>\nIn this case, the server will have to parse the stringified object.</li>\n<li>Another way to do it is to append the keys of the object looping through the object like <strong>Object.keys(faqObj).forEach(ele =&gt; formData.append(`faqObj[${ele}]`), faqObj[ele])</strong>\nIn this case, the server does not have to parse the object.</li>\n</ol>\n<p><strong>Question 2-</strong> How can I send multiple files? formData.append(&quot;file&quot;, file); - this doesnt accept an array</p>\n<p>For this, you have to loop through the files array as follows</p>\n<pre><code>uploadedFiles.forEach(file =&gt; formData.append('file[]', file))\n</code></pre>\n"}],"owner":{"account_id":1073176,"reputation":3217,"user_id":1071967,"accept_rate":61,"display_name":"Geek"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3497,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1688218107,"creation_date":1594787184,"question_id":62907598,"body_markdown":"I am using p-fileUpload primeng component. I have a requirement where in addition to the files selected another p-multiselect in the form has to be submitted along. Below is the working code for fileupload. \r\n\r\nWhen I choose and click upload it uploads the file. I want to change ```uploadFileCtr($event)``` to ```uploadFileCtr($event,faqForm.value )``` and pass the commented code in ```uploadFileCtr()``` method in the ts file. I tried and added this line to the service.ts formdata:\r\n \r\n\r\n    formData.append(&quot;faqObj&quot;, faqObj);\r\n\r\nHowever, I couldn&#39;t get the object in my rest service. I tried to include another param in my POST method: `@FormDataParam(&quot;faqObj&quot;) Faq`. This gives me error.\r\n \r\nMy component.html look like this\r\n\r\n    &lt;form [formGroup]=&quot;faqForm&quot; &gt;\r\n        &lt;div class=&quot;row&quot;&gt;\r\n            &lt;div class=&quot;col-sm-4&quot;&gt;\r\n                &lt;p-fileUpload name=&quot;myfile[]&quot; multiple=&quot;multiple&quot; accept=&quot;.xlsx&quot; customUpload=&quot;true&quot;\r\n                        (uploadHandler)=&quot;uploadFileCtr($event)&quot;&gt;\r\n                &lt;/p-fileUpload&gt;\r\n            &lt;/div&gt;\r\n            &lt;div class=&quot;col-sm-4&quot;&gt;\r\n                &lt;label &gt;Board ID(s) *:&lt;/label&gt;\r\n                &lt;p-multiSelect [options]=&quot;boards&quot; formControlName=&quot;board&quot; [defaultLabel]=&quot;&#39;All Active Boards&#39;&quot; (onChange)=&quot;displayBoard($event)&quot;&gt;&lt;/p-multiSelect&gt; \r\n            &lt;/div&gt; \r\n            &lt;div class=&quot;col-sm-4&quot; *ngIf = &quot;show&quot;&gt;\r\n                &lt;label &gt;Board Title:&lt;/label&gt;\r\n                &lt;input class=&quot;pInputFilter pInputTxt&quot; type=&quot;text&quot; readonly id=&quot;boardname&quot; value={{this.userSelectedBoard}}&gt;  \r\n            &lt;/div&gt;\r\n        &lt;/div&gt;\r\n    &lt;/form&gt;\r\n\r\ncomponent.cs for uploadFileCtr is as below\r\n\r\n    uploadFileCtr(event) { \r\n          // faqObj.faqBoards =  faqObj.board.map(boardId=&gt;{\r\n          //   let boardObj:Board = new Board();\r\n          //   boardObj.id = boardId; \r\n          //   return boardObj;\r\n          // });\r\n            for (let file of event.files) {\r\n              this.uploadedFiles.push(file);\r\n            }\r\n            this.faqService.uploadFile(this.uploadedFiles).subscribe( posts =&gt;{\r\n                this.data = posts;\r\n            },\r\n            error =&gt; console.log(&quot;Error: &quot;, error),\r\n            () =&gt; {\r\n                this.errMsg = this.data.error; \r\n                // this.succMsg = this.data.success;  \r\n                if (this.errMsg) {\r\n                    console.log(&quot;errMsg: &quot;, this.errMsg);\r\n                    this.msgs = [];\r\n                    this.msgs.push({severity:&#39;error&#39;, summary:&#39;Error Message&#39;, detail:this.data.error});                \r\n                    this.status = &quot;error&quot;;\r\n                } else {\r\n                    // this.getCaseDocuments();\r\n                    this.msgs = [];\r\n                    this.msgs.push({severity:&#39;success&#39;, summary:&#39;Success Message&#39;, detail:this.data.success});                             \r\n                }\r\n            \r\n            });\r\n            this.faqForm.reset();\r\n        }\r\n    \t\r\n\r\n\t\r\nService.ts for the upload REST service is\r\n\r\n\tuploadFile( uploadedFiles: any[]){\r\n        let file: File = null;\r\n        let formData:FormData = new FormData(); \r\n        if (uploadedFiles != null &amp;&amp; uploadedFiles.length &gt; 0) {\r\n            file = uploadedFiles[0];\r\n        }      \r\n        if (file != null) {\r\n            formData.append(&quot;file&quot;, file);\r\n            formData.append(&quot;fileName&quot;, file.name);\r\n        } else {\r\n            formData.append(&quot;file&quot;, null);            \r\n            formData.append(&quot;fileName&quot;, &quot;&quot;);\r\n        }\r\n        return this.http.post(this.faqServiceURL +&quot;/upload&quot;, formData, { &#39;headers&#39;: this.headers });\r\n    }\r\n}\r\n\r\n    @POST\r\n    @Path(&quot;upload&quot;)\r\n    @Consumes(MediaType.MULTIPART_FORM_DATA)\r\n    @Produces(&quot;application/json&quot;)\r\n    public Response upload(@FormDataParam(&quot;file&quot;) InputStream is,\r\n                               @FormDataParam(&quot;fileName&quot;) String fileName){\r\n        logger.info(&quot;FaqService - upload&quot;);\r\n        System.out.println(&quot;upload : &quot;+fileName+&quot;  faqObj : &quot;); \r\n        ObjectMapper mapper = utilityObj.getMapperObj();\r\n        String jsonInString = &quot;&quot;;  ..//////\r\n    \t\r\n    \t}\r\n\r\n1. Can I add formobj along with the upload - if so, how?\r\n2. How can I send multiple files? formData.append(&quot;file&quot;, file); - this doesn&#39;t accept an array\r\n\r\n","title":"primeng fileUpload to send form data and passing file array to the service layer","body":"<p>I am using p-fileUpload primeng component. I have a requirement where in addition to the files selected another p-multiselect in the form has to be submitted along. Below is the working code for fileupload.</p>\n<p>When I choose and click upload it uploads the file. I want to change <code>uploadFileCtr($event)</code> to <code>uploadFileCtr($event,faqForm.value )</code> and pass the commented code in <code>uploadFileCtr()</code> method in the ts file. I tried and added this line to the service.ts formdata:</p>\n<pre><code>formData.append(&quot;faqObj&quot;, faqObj);\n</code></pre>\n<p>However, I couldn't get the object in my rest service. I tried to include another param in my POST method: <code>@FormDataParam(&quot;faqObj&quot;) Faq</code>. This gives me error.</p>\n<p>My component.html look like this</p>\n<pre><code>&lt;form [formGroup]=&quot;faqForm&quot; &gt;\n    &lt;div class=&quot;row&quot;&gt;\n        &lt;div class=&quot;col-sm-4&quot;&gt;\n            &lt;p-fileUpload name=&quot;myfile[]&quot; multiple=&quot;multiple&quot; accept=&quot;.xlsx&quot; customUpload=&quot;true&quot;\n                    (uploadHandler)=&quot;uploadFileCtr($event)&quot;&gt;\n            &lt;/p-fileUpload&gt;\n        &lt;/div&gt;\n        &lt;div class=&quot;col-sm-4&quot;&gt;\n            &lt;label &gt;Board ID(s) *:&lt;/label&gt;\n            &lt;p-multiSelect [options]=&quot;boards&quot; formControlName=&quot;board&quot; [defaultLabel]=&quot;'All Active Boards'&quot; (onChange)=&quot;displayBoard($event)&quot;&gt;&lt;/p-multiSelect&gt; \n        &lt;/div&gt; \n        &lt;div class=&quot;col-sm-4&quot; *ngIf = &quot;show&quot;&gt;\n            &lt;label &gt;Board Title:&lt;/label&gt;\n            &lt;input class=&quot;pInputFilter pInputTxt&quot; type=&quot;text&quot; readonly id=&quot;boardname&quot; value={{this.userSelectedBoard}}&gt;  \n        &lt;/div&gt;\n    &lt;/div&gt;\n&lt;/form&gt;\n</code></pre>\n<p>component.cs for uploadFileCtr is as below</p>\n<pre><code>uploadFileCtr(event) { \n      // faqObj.faqBoards =  faqObj.board.map(boardId=&gt;{\n      //   let boardObj:Board = new Board();\n      //   boardObj.id = boardId; \n      //   return boardObj;\n      // });\n        for (let file of event.files) {\n          this.uploadedFiles.push(file);\n        }\n        this.faqService.uploadFile(this.uploadedFiles).subscribe( posts =&gt;{\n            this.data = posts;\n        },\n        error =&gt; console.log(&quot;Error: &quot;, error),\n        () =&gt; {\n            this.errMsg = this.data.error; \n            // this.succMsg = this.data.success;  \n            if (this.errMsg) {\n                console.log(&quot;errMsg: &quot;, this.errMsg);\n                this.msgs = [];\n                this.msgs.push({severity:'error', summary:'Error Message', detail:this.data.error});                \n                this.status = &quot;error&quot;;\n            } else {\n                // this.getCaseDocuments();\n                this.msgs = [];\n                this.msgs.push({severity:'success', summary:'Success Message', detail:this.data.success});                             \n            }\n        \n        });\n        this.faqForm.reset();\n    }\n    \n</code></pre>\n<p>Service.ts for the upload REST service is</p>\n<pre><code>uploadFile( uploadedFiles: any[]){\n    let file: File = null;\n    let formData:FormData = new FormData(); \n    if (uploadedFiles != null &amp;&amp; uploadedFiles.length &gt; 0) {\n        file = uploadedFiles[0];\n    }      \n    if (file != null) {\n        formData.append(&quot;file&quot;, file);\n        formData.append(&quot;fileName&quot;, file.name);\n    } else {\n        formData.append(&quot;file&quot;, null);            \n        formData.append(&quot;fileName&quot;, &quot;&quot;);\n    }\n    return this.http.post(this.faqServiceURL +&quot;/upload&quot;, formData, { 'headers': this.headers });\n}\n</code></pre>\n<p>}</p>\n<pre><code>@POST\n@Path(&quot;upload&quot;)\n@Consumes(MediaType.MULTIPART_FORM_DATA)\n@Produces(&quot;application/json&quot;)\npublic Response upload(@FormDataParam(&quot;file&quot;) InputStream is,\n                           @FormDataParam(&quot;fileName&quot;) String fileName){\n    logger.info(&quot;FaqService - upload&quot;);\n    System.out.println(&quot;upload : &quot;+fileName+&quot;  faqObj : &quot;); \n    ObjectMapper mapper = utilityObj.getMapperObj();\n    String jsonInString = &quot;&quot;;  ..//////\n    \n    }\n</code></pre>\n<ol>\n<li>Can I add formobj along with the upload - if so, how?</li>\n<li>How can I send multiple files? formData.append(&quot;file&quot;, file); - this doesn't accept an array</li>\n</ol>\n"},{"tags":["java","spring-boot","h2"],"answers":[{"tags":[],"owner":{"account_id":7788110,"reputation":1429,"user_id":6306585,"accept_rate":60,"display_name":"Shakirov Ramil"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675431884,"creation_date":1675431884,"answer_id":75336574,"question_id":75333868,"body_markdown":"H2 does not support accessing JSON attributes. See here for a list of supported functions: https://www.h2database.com/html/functions.html","title":"JSON_VALUE usage in H2 database","body":"<p>H2 does not support accessing JSON attributes. See here for a list of supported functions: <a href=\"https://www.h2database.com/html/functions.html\" rel=\"nofollow noreferrer\">https://www.h2database.com/html/functions.html</a></p>\n"},{"comments":[{"owner":{"account_id":2650647,"reputation":1354,"user_id":3514976,"accept_rate":71,"display_name":"nonzaprej"},"score":0,"creation_date":1689762911,"post_id":76594885,"comment_id":135258229,"body_markdown":"I tried implementing the JSON_VALUE function in H2 but if I specify any option after the 2nd argument, a syntax error occurs. How do I support these? I&#39;m trying to not have to change the production code&#39;s queries (uses MySQL).","body":"I tried implementing the JSON_VALUE function in H2 but if I specify any option after the 2nd argument, a syntax error occurs. How do I support these? I&#39;m trying to not have to change the production code&#39;s queries (uses MySQL)."},{"owner":{"account_id":2650647,"reputation":1354,"user_id":3514976,"accept_rate":71,"display_name":"nonzaprej"},"score":0,"creation_date":1689780184,"post_id":76594885,"comment_id":135262685,"body_markdown":"In the end we made do with modifying the queries to not use these options. To get a default value in case of null we wrap the `JSON_VALUE` function in an `IFNULL`, and we handle all returned values as strings even though it&#39;s ugly... I guess there was no way to handle these options. Isn&#39;t it?","body":"In the end we made do with modifying the queries to not use these options. To get a default value in case of null we wrap the <code>JSON_VALUE</code> function in an <code>IFNULL</code>, and we handle all returned values as strings even though it&#39;s ugly... I guess there was no way to handle these options. Isn&#39;t it?"}],"tags":[],"owner":{"account_id":407393,"reputation":1182,"user_id":777443,"accept_rate":89,"display_name":"Peter"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1688217741,"creation_date":1688217741,"answer_id":76594885,"question_id":75333868,"body_markdown":"At the time of this writing, Shakirov&#39;s answer is correct - H2 does not have a built in function to access JSON attributes. However, you can create a [user defined function][1] using whatever JSON library you want. Example:\r\n\r\n    CREATE ALIAS JSON_VALUE AS &#39;\r\n    String jsonValue(String json, String key) {\r\n\r\n        //Implement your code here and return a string\r\n\r\n        return &quot;&quot;;\r\n    }\r\n    &#39;;\r\n\r\nAnother option is to cast the JSON data to a string and use the built in REGEXP_SUBSTR to parse the data and return what you want. If your JSON is simple enough, you can try something like this:\r\n\r\n    /&quot;name&quot;(\\s*?:{1}\\s*?)&quot;(.*?)&quot;/g\r\n\r\nWhere &quot;name&quot; is the key you&#39;re looking for. You can test the regex [here][2]. Obviously you shouldn&#39;t use regex for complex JSON.\r\n\r\n  [1]: https://h2database.com/html/features.html#user_defined_functions\r\n  [2]: https://regex101.com/r/FONaIT/1\r\n","title":"JSON_VALUE usage in H2 database","body":"<p>At the time of this writing, Shakirov's answer is correct - H2 does not have a built in function to access JSON attributes. However, you can create a <a href=\"https://h2database.com/html/features.html#user_defined_functions\" rel=\"nofollow noreferrer\">user defined function</a> using whatever JSON library you want. Example:</p>\n<pre><code>CREATE ALIAS JSON_VALUE AS '\nString jsonValue(String json, String key) {\n\n    //Implement your code here and return a string\n\n    return &quot;&quot;;\n}\n';\n</code></pre>\n<p>Another option is to cast the JSON data to a string and use the built in REGEXP_SUBSTR to parse the data and return what you want. If your JSON is simple enough, you can try something like this:</p>\n<pre><code>/&quot;name&quot;(\\s*?:{1}\\s*?)&quot;(.*?)&quot;/g\n</code></pre>\n<p>Where &quot;name&quot; is the key you're looking for. You can test the regex <a href=\"https://regex101.com/r/FONaIT/1\" rel=\"nofollow noreferrer\">here</a>. Obviously you shouldn't use regex for complex JSON.</p>\n"}],"owner":{"account_id":5811540,"reputation":305,"user_id":4582425,"accept_rate":50,"display_name":"Jagrut Dalwadi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":827,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1688217741,"creation_date":1675416983,"question_id":75333868,"body_markdown":"In application code, we are using JSON_VALUE function for getting particular value from stored json. \r\n\r\n    SELECT * FROM EMPLOYEE WHERE JSON_VALUE(ADDR_JSON, &#39;$.pinCode&#39;) != &#39;390018&#39;\r\n\r\nWhen we are writing functional test cases which uses H2 database, it is resulting into following error: \r\n\r\n&gt; nested exception is java.sql.SQLSyntaxErrorException: user lacks privilege or object not found: JSON_VALUE in statement\r\n\r\nCan you please suggest if anyone has some solution on this ?","title":"JSON_VALUE usage in H2 database","body":"<p>In application code, we are using JSON_VALUE function for getting particular value from stored json.</p>\n<pre><code>SELECT * FROM EMPLOYEE WHERE JSON_VALUE(ADDR_JSON, '$.pinCode') != '390018'\n</code></pre>\n<p>When we are writing functional test cases which uses H2 database, it is resulting into following error:</p>\n<blockquote>\n<p>nested exception is java.sql.SQLSyntaxErrorException: user lacks privilege or object not found: JSON_VALUE in statement</p>\n</blockquote>\n<p>Can you please suggest if anyone has some solution on this ?</p>\n"},{"tags":["java","json","avro","jsonschema","jackson-dataformat-avro"],"answers":[{"tags":[],"owner":{"account_id":30898,"reputation":8927,"user_id":84538,"accept_rate":100,"display_name":"jon hanson"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688217493,"creation_date":1688217493,"answer_id":76594862,"question_id":76574577,"body_markdown":"You can represent optional fields in Avro by making the field type a union between the actual type and null, e.g.:\r\n\r\n    {\r\n        &quot;name&quot;: &quot;username&quot;,\r\n        &quot;type&quot;: [\r\n          &quot;null&quot;,\r\n          &quot;string&quot;\r\n        ],\r\n        &quot;default&quot;: null\r\n    },\r\n\r\n&gt; **1. Does Avro schema allow conditional fields like JSON schema does using allOf, anyOf, dependencies etc.?**\r\n\r\nThere is no way to make the schema for one field dependent on the value of another field.\r\n\r\n&gt; **2. If not, what&#39;s the best way to achieve conditional validation in Avro?**\r\n\r\nSimply make the schema as retrictive as possible and then for any rules that you can&#39;t capture in the schema, simply apply them as part of a post-construction validation step.\r\n\r\nE.g. taking your examples:\r\n\r\n* If field1 is present, then field2 should be present too.\r\n\r\nSimply make field1 and field2 optional, and apply the check on field2 during validation.\r\n\r\n* If field2 is present, then field4 which is an enum of [a,b,c] can only have the value [a,b].\r\n\r\nAgain, simply apply the check on field4 during validation.\r\n\r\n&gt; **3. Alternatively, is there a tool to convert a JSON schema to AVSC (I already have a JSON schema defined with the conditional validation I need)?**\r\n\r\nI doubt it. In any case, even if one did exist, given that Avro Schema is less powerful than JSON Schema, it woudn&#39;t solve your problem.","title":"Does Avro Schema Allow Conditional Fields?","body":"<p>You can represent optional fields in Avro by making the field type a union between the actual type and null, e.g.:</p>\n<pre><code>{\n    &quot;name&quot;: &quot;username&quot;,\n    &quot;type&quot;: [\n      &quot;null&quot;,\n      &quot;string&quot;\n    ],\n    &quot;default&quot;: null\n},\n</code></pre>\n<blockquote>\n<p><strong>1. Does Avro schema allow conditional fields like JSON schema does using allOf, anyOf, dependencies etc.?</strong></p>\n</blockquote>\n<p>There is no way to make the schema for one field dependent on the value of another field.</p>\n<blockquote>\n<p><strong>2. If not, what's the best way to achieve conditional validation in Avro?</strong></p>\n</blockquote>\n<p>Simply make the schema as retrictive as possible and then for any rules that you can't capture in the schema, simply apply them as part of a post-construction validation step.</p>\n<p>E.g. taking your examples:</p>\n<ul>\n<li>If field1 is present, then field2 should be present too.</li>\n</ul>\n<p>Simply make field1 and field2 optional, and apply the check on field2 during validation.</p>\n<ul>\n<li>If field2 is present, then field4 which is an enum of [a,b,c] can only have the value [a,b].</li>\n</ul>\n<p>Again, simply apply the check on field4 during validation.</p>\n<blockquote>\n<p><strong>3. Alternatively, is there a tool to convert a JSON schema to AVSC (I already have a JSON schema defined with the conditional validation I need)?</strong></p>\n</blockquote>\n<p>I doubt it. In any case, even if one did exist, given that Avro Schema is less powerful than JSON Schema, it woudn't solve your problem.</p>\n"}],"owner":{"account_id":1616859,"reputation":177,"user_id":1525813,"accept_rate":50,"display_name":"RGB314"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":243,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1688217493,"creation_date":1687965559,"question_id":76574577,"body_markdown":"I&#39;m planning to use Avro&#39;s `Java` API to build out a schema (preferably by using a tool which converts POJOs to `AVSC`). \r\n\r\n1. Does Avro schema allow conditional fields like `JSON` schema does using `allOf`, `anyOf`, `dependencies` etc.?\r\n2. If not, what&#39;s the best way to achieve conditional validation in Avro?\r\n3. Alternatively, is there a tool to convert a `JSON` schema to `AVSC` (I already have a `JSON` schema defined with the conditional validation I need)?\r\n\r\n\r\n**For example:**\r\n\r\n - If `field1` is present, then `field2` should be present too.\r\n - `field3` should always be present.\r\n - If `field2` is present, then `field4` which is an `enum` of `[a,b,c]` can only have the value `[a,b]`.\r\n\r\n\r\n","title":"Does Avro Schema Allow Conditional Fields?","body":"<p>I'm planning to use Avro's <code>Java</code> API to build out a schema (preferably by using a tool which converts POJOs to <code>AVSC</code>).</p>\n<ol>\n<li>Does Avro schema allow conditional fields like <code>JSON</code> schema does using <code>allOf</code>, <code>anyOf</code>, <code>dependencies</code> etc.?</li>\n<li>If not, what's the best way to achieve conditional validation in Avro?</li>\n<li>Alternatively, is there a tool to convert a <code>JSON</code> schema to <code>AVSC</code> (I already have a <code>JSON</code> schema defined with the conditional validation I need)?</li>\n</ol>\n<p><strong>For example:</strong></p>\n<ul>\n<li>If <code>field1</code> is present, then <code>field2</code> should be present too.</li>\n<li><code>field3</code> should always be present.</li>\n<li>If <code>field2</code> is present, then <code>field4</code> which is an <code>enum</code> of <code>[a,b,c]</code> can only have the value <code>[a,b]</code>.</li>\n</ul>\n"},{"tags":["java","php","android","arrays","json"],"comments":[{"owner":{"account_id":935411,"reputation":1707,"user_id":964411,"accept_rate":42,"display_name":"SripadRaj"},"score":2,"creation_date":1531746099,"post_id":51362410,"comment_id":89697051,"body_markdown":"Please post  you crash stacktrace.","body":"Please post  you crash stacktrace."},{"owner":{"account_id":2855392,"reputation":1787,"user_id":2451763,"accept_rate":69,"display_name":"Sparker0i"},"score":2,"creation_date":1531746137,"post_id":51362410,"comment_id":89697069,"body_markdown":"Please post the relevant logcat. And I also sincerely hope that you are having a try catch block for catching sull null values","body":"Please post the relevant logcat. And I also sincerely hope that you are having a try catch block for catching sull null values"},{"owner":{"account_id":3544712,"reputation":4010,"user_id":2960971,"display_name":"IncredibleHat"},"score":1,"creation_date":1531746844,"post_id":51362410,"comment_id":89697529,"body_markdown":"You probably want to remove `array_values` from your `json_encode`, as that is simply returning the values of that array without any keyname. Unless that is what you want to happen. Seems odd why you bother to add a keyname, just to strip it out.","body":"You probably want to remove <code>array_values</code> from your <code>json_encode</code>, as that is simply returning the values of that array without any keyname. Unless that is what you want to happen. Seems odd why you bother to add a keyname, just to strip it out."},{"owner":{"account_id":3544712,"reputation":4010,"user_id":2960971,"display_name":"IncredibleHat"},"score":1,"creation_date":1531746878,"post_id":51362410,"comment_id":89697545,"body_markdown":"Regarding PHP end: Your script is at risk of [SQL Injection Attack](http://stackoverflow.com/questions/60174/how-can-i-prevent-sql-injection-in-php). Have a look at what happened to [Little Bobby Tables](http://bobby-tables.com/).Even [if you are escaping inputs, its not safe!](http://stackoverflow.com/questions/5741187/sql-injection-that-gets-around-mysql-real-escape-string) Use [prepared parameterized statements](http://php.net/manual/en/mysqli.quickstart.prepared-statements.php) instead.","body":"Regarding PHP end: Your script is at risk of <a href=\"http://stackoverflow.com/questions/60174/how-can-i-prevent-sql-injection-in-php\">SQL Injection Attack</a>. Have a look at what happened to <a href=\"http://bobby-tables.com/\" rel=\"nofollow noreferrer\">Little Bobby Tables</a>.Even <a href=\"http://stackoverflow.com/questions/5741187/sql-injection-that-gets-around-mysql-real-escape-string\">if you are escaping inputs, its not safe!</a> Use <a href=\"http://php.net/manual/en/mysqli.quickstart.prepared-statements.php\" rel=\"nofollow noreferrer\">prepared parameterized statements</a> instead."},{"owner":{"display_name":"user8959156"},"score":0,"creation_date":1531750114,"post_id":51362410,"comment_id":89699750,"body_markdown":"@SripadRaj I have added the logcat now","body":"@SripadRaj I have added the logcat now"},{"owner":{"account_id":17020749,"reputation":1278,"user_id":12313402,"display_name":"Vijay"},"score":0,"creation_date":1648492091,"post_id":51362410,"comment_id":126632496,"body_markdown":"NULL POINTER EXCEPTION","body":"NULL POINTER EXCEPTION"}],"answers":[{"tags":[],"owner":{"account_id":26606954,"reputation":7,"user_id":20227628,"display_name":"Edwin Tigor"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688216949,"creation_date":1688216856,"answer_id":76594822,"question_id":51362410,"body_markdown":"You have to make sure image url always present on your php code. You can use a logic, If it is empty then set it as default image url link. for example src=&quot;img/no-photo.png&quot;.\r\n\r\nand marking the &quot;no-photo.png&quot; as known String image base64 on android from the &quot;no-photo.png&quot; on the server.\r\n\r\nSo, On android code. when you see the url is &quot;no-photo.png&quot; and base64 string is match, then do something.","title":"Why is my is my App crashing when getting empty data?","body":"<p>You have to make sure image url always present on your php code. You can use a logic, If it is empty then set it as default image url link. for example src=&quot;img/no-photo.png&quot;.</p>\n<p>and marking the &quot;no-photo.png&quot; as known String image base64 on android from the &quot;no-photo.png&quot; on the server.</p>\n<p>So, On android code. when you see the url is &quot;no-photo.png&quot; and base64 string is match, then do something.</p>\n"}],"owner":{"display_name":"user8959156"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":202,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":1,"score":6,"last_activity_date":1688216949,"creation_date":1531745920,"question_id":51362410,"body_markdown":"My app gets data from a PHP file. 3 normal textdata and 5 image urls. The app displays them in a recyclerview with cardviews.\r\n###My problem is, that the app crashes when getting empty image urls.\r\nBut with empty textdata the app works without problems.\r\n\r\n##Like:\r\n\r\ntextdata with content + image urls with content = works \r\n\r\nEmpty textdata + empty image urls = App crashes\r\n\r\nEmpty textdata + image urls with content = works \r\n\r\ntextdata with content + empty image urls = App crashes\r\n\r\n#This is the getting and sending (to RecyclerviewAdapter) Code:\r\n\r\n    public void JSON_DATA_WEB_CALL (String url){\r\n\r\n            jsonArrayRequest = new JsonArrayRequest(url,\r\n\r\n                    new Response.Listener&lt;JSONArray&gt;() {\r\n                        @Override\r\n                        public void onResponse(JSONArray response) {\r\n\r\n\r\n                            JSON_PARSE_DATA_AFTER_WEBCALL(response);\r\n                        }\r\n                    },\r\n                    new Response.ErrorListener() {\r\n                        @Override\r\n                        public void onErrorResponse(VolleyError error) {\r\n\r\n                        }\r\n                    });\r\n\r\n            requestQueue = Volley.newRequestQueue(this);\r\n\r\n            requestQueue.add(jsonArrayRequest);\r\n        }\r\n\r\n     public void JSON_PARSE_DATA_AFTER_WEBCALL(JSONArray array) {\r\n\r\n        for (int i = 0; i &lt; array.length(); i++) {\r\n\r\n            GetDataAdapter GetDataAdapter2 = new GetDataAdapter();\r\n\r\n            JSONObject json = null;\r\n\r\n            try {\r\n\r\n\r\n\r\n                json = array.getJSONObject(i);\r\n\r\n\r\n\r\n                    GetDataAdapter2.setImageUrl(json.getString(Image_URL_JSON));\r\n                    GetDataAdapter2.setImageUrl2(json.getString(Image_URL_JSON2));\r\n                    GetDataAdapter2.setImageUrl3(json.getString(Image_URL_JSON3));\r\n                    GetDataAdapter2.setImageUrl4(json.getString(Image_URL_JSON4));\r\n                    GetDataAdapter2.setImageUrl5(json.getString(Image_URL_JSON5));\r\n                    GetDataAdapter2.setPhone_number(json.getString(SOMETEXT));\r\n                    GetDataAdapter2.setName(json.getString(SOMETEXT2));\r\n\r\n                    GetDataAdapter2.setSubject2(json.getString(SOMETEXT3));\r\n\r\n            } catch (JSONException e) {\r\n\r\n                e.printStackTrace();\r\n            }\r\n            GetDataAdapter1.add(GetDataAdapter2);\r\n        }\r\n        recyclerViewadapter = new RecyclerViewAdapter(solutionTemplate.this, GetDataAdapter1, exerciseAdapter);\r\n\r\n        recyclerView.setAdapter(recyclerViewadapter);\r\n    }\r\n\r\n\r\n\r\n\r\n##The mainproblem is: \r\n          json = array.getJSONObject(i);\r\n\r\n                GetDataAdapter2.setImageUrl(json.getString(Image_URL_JSON));\r\n                GetDataAdapter2.setImageUrl2(json.getString(Image_URL_JSON2));\r\n                GetDataAdapter2.setImageUrl3(json.getString(Image_URL_JSON3));\r\n                GetDataAdapter2.setImageUrl4(json.getString(Image_URL_JSON4));\r\n                GetDataAdapter2.setImageUrl5(json.getString(Image_URL_JSON5));\r\n                GetDataAdapter2.setPhone_number(json.getString(SOMETEXT));\r\n                GetDataAdapter2.setName(json.getString(SOMETEXT2));\r\n\r\n                GetDataAdapter2.setSubject2(json.getString(SOMETEXT3));\r\n\r\n\r\n##Working:\r\n\r\n    json = array.getJSONObject(i);\r\n\r\n                GetDataAdapter2.setImageUrl(json.getString(Image_URL_JSON));\r\n                GetDataAdapter2.setImageUrl2(json.getString(Image_URL_JSON2));\r\n                GetDataAdapter2.setImageUrl3(json.getString(Image_URL_JSON3));\r\n                GetDataAdapter2.setImageUrl4(json.getString(Image_URL_JSON4));\r\n                GetDataAdapter2.setImageUrl5(json.getString(Image_URL_JSON5));\r\n\r\n##Not working:\r\n\r\n               GetDataAdapter2.setPhone_number(json.getString(SOMETEXT));\r\n                GetDataAdapter2.setName(json.getString(SOMETEXT2));\r\n                GetDataAdapter2.setSubject2(json.getString(SOMETEXT3));\r\n\r\n\r\n#Getting image urls with content is necassary!\r\nBut it should work without it!\r\n\r\n##This is the GetDataAdapter:\r\n\r\n    public String getPhone_number() {\r\n\r\n        return phone_number;\r\n    }\r\n\r\n    public void setPhone_number(String phone_number1) {\r\n\r\n        this.phone_number = phone_number1;\r\n    }\r\n\r\n    public String getSubject2() {\r\n\r\n        return subject2;\r\n    }\r\n\r\n    public void setSubject2(String subject2) {\r\n\r\n        this.subject2 = subject2;\r\n    }\r\n    public String getImageUrl() {\r\n\r\n        return ImageURL;\r\n    }\r\n    public void setImageUrl(String imageServerUrl) {\r\n\r\n        this.ImageURL = imageServerUrl;\r\n    }\r\n\r\n\r\n\r\n    public String getImageUrl2() {\r\n\r\n        return ImageURL2;\r\n    }\r\n\r\n    public void setImageUrl2(String imageServerUrl2) {\r\n\r\n        this.ImageURL2 = imageServerUrl2;\r\n    }\r\n\r\n\r\n\r\n    public String getImageUrl3() {\r\n\r\n        return ImageURL3;\r\n    }\r\n\r\n    public void setImageUrl3(String imageServerUrl3) {\r\n\r\n        this.ImageURL3 = imageServerUrl3;\r\n    }\r\n\r\n\r\n\r\n    public String getImageUrl4() {\r\n\r\n        return ImageURL4;\r\n    }\r\n\r\n    public void setImageUrl4(String imageServerUrl4) {\r\n\r\n        this.ImageURL4 = imageServerUrl4;\r\n    }\r\n\r\n\r\n\r\n    public String getImageUrl5() {\r\n\r\n        return ImageURL5;\r\n    }\r\n\r\n    public void setImageUrl5(String imageServerUrl5) {\r\n\r\n        this.ImageURL5 = imageServerUrl5;\r\n    }\r\n\r\n##RecyclerViewAdapter:\r\n\r\n    @Override\r\n    public void onBindViewHolder(final RecyclerView.ViewHolder holder, int position) {\r\n        if (holder instanceof ViewHolder) {\r\n\r\n            final GetDataAdapter current = getItem(position - 1);\r\n            final ViewHolder holder1 = (ViewHolder) holder;\r\n            final ImageLoader imageLoader = ImageAdapter.getInstance(context).getImageLoader();\r\n            final ImageLoader imageLoader2 = ImageAdapter.getInstance(context).getImageLoader();\r\n            final ImageLoader imageLoader3 = ImageAdapter.getInstance(context).getImageLoader();\r\n            final ImageLoader imageLoader4 = ImageAdapter.getInstance(context).getImageLoader();\r\n            final ImageLoader imageLoader5 = ImageAdapter.getInstance(context).getImageLoader();\r\n\r\n           imageLoader.get(current.getImageUrl(),\r\n                    ImageLoader.getImageListener(\r\n                            holder1.imageView1,\r\n                            R.mipmap.ic_launcher_image,\r\n                            android.R.drawable.ic_dialog_alert\r\n                    )\r\n            );\r\n            imageLoader2.get(current.getImageUrl2(),\r\n                    ImageLoader.getImageListener(\r\n                            holder1.imageView2,\r\n                            R.mipmap.ic_launcher_image,\r\n                            android.R.drawable.ic_dialog_alert\r\n                    )\r\n            );\r\n            imageLoader3.get(current.getImageUrl3(),\r\n                    ImageLoader.getImageListener(\r\n                            holder1.imageView3,\r\n                            R.mipmap.ic_launcher_image,\r\n                            android.R.drawable.ic_dialog_alert\r\n                    )\r\n            );\r\n            imageLoader4.get(current.getImageUrl4(),\r\n                    ImageLoader.getImageListener(\r\n                            holder1.imageView4,\r\n                            R.mipmap.ic_launcher_image,\r\n                            android.R.drawable.ic_dialog_alert\r\n                    )\r\n            );\r\n            imageLoader5.get(current.getImageUrl5(),\r\n                    ImageLoader.getImageListener(\r\n                            holder1.imageView5,\r\n                            R.mipmap.ic_launcher_image,\r\n                            android.R.drawable.ic_dialog_alert\r\n                    )\r\n            );\r\n\r\n\r\n        holder1.imageView1.setImageUrl(current.getImageUrl(), imageLoader);\r\n        holder1.imageView2.setImageUrl(current.getImageUrl2(), imageLoader2);\r\n        holder1.imageView3.setImageUrl(current.getImageUrl3(), imageLoader3);\r\n        holder1.imageView4.setImageUrl(current.getImageUrl4(), imageLoader4);\r\n        holder1.imageView5.setImageUrl(current.getImageUrl5(), imageLoader5);\r\n        holder1.NameTextView.setText(current.getName());\r\n        holder1.PhoneNumberTextView.setText(current.getPhone_number());\r\n        holder1.SubjectTextView.setText(current.getSubject2());\r\n\r\n#ImageAdapter:\r\n\r\n    public class ImageAdapter {\r\n\r\n    public static ImageAdapter imageAdapter;\r\n\r\n    public Network networkOBJ ;\r\n\r\n    public RequestQueue requestQueue1;\r\n\r\n    public ImageLoader Imageloader1;\r\n\r\n    public Cache cache1 ;\r\n\r\n    public static Context context1;\r\n\r\n    LruCache&lt;String, Bitmap&gt; LRUCACHE = new LruCache&lt;String, Bitmap&gt;(30);\r\n\r\n    private ImageAdapter(Context context) {\r\n\r\n        this.context1 = context;\r\n\r\n        this.requestQueue1 = RequestQueueFunction();\r\n\r\n        Imageloader1 = new ImageLoader(requestQueue1, new ImageLoader.ImageCache() {\r\n\r\n            @Override\r\n            public Bitmap getBitmap(String URL) {\r\n\r\n                return LRUCACHE.get(URL);\r\n            }\r\n\r\n            @Override\r\n            public void putBitmap(String url, Bitmap bitmap) {\r\n\r\n                LRUCACHE.put(url, bitmap);\r\n            }\r\n        });\r\n    }\r\n\r\n    public ImageLoader getImageLoader() {\r\n\r\n        return Imageloader1;\r\n    }\r\n\r\n    public static ImageAdapter getInstance(Context SynchronizedContext) {\r\n\r\n        if (imageAdapter == null) {\r\n\r\n            imageAdapter = new ImageAdapter(SynchronizedContext);\r\n        }\r\n        return imageAdapter;\r\n    }\r\n\r\n    public RequestQueue RequestQueueFunction() {\r\n\r\n        if (requestQueue1 == null) {\r\n\r\n            cache1 = new DiskBasedCache(context1.getCacheDir());\r\n\r\n            networkOBJ = new BasicNetwork(new HurlStack());\r\n\r\n            requestQueue1 = new RequestQueue(cache1, networkOBJ);\r\n\r\n            requestQueue1.start();\r\n        }\r\n        return requestQueue1;\r\n    }\r\n}\r\n\r\n\r\n##PHP:\r\n\r\n    &lt;?php\r\n\r\n\r\n\r\n\r\n     $conn = mysqli_connect(&#39;localhost&#39;, &#39;root&#39;, &#39;&#39;,&#39;webapp&#39;);\r\n     $id = $_GET[&#39;id&#39;];\r\n\r\n\r\n\t$sql = &quot;SELECT * FROM answers WHERE id=&#39;$id&#39; ORDER BY id DESC&quot;;\r\n\t\r\n\t$res = mysqli_query($conn,$sql);\r\n\t\r\n\t$result = array();\r\n\r\n\t\r\n\r\n\twhile($row = mysqli_fetch_array($res)){\r\n\t\tarray_push($result,array(\r\n\t\t\t&#39;url2&#39;=&gt;$row[&#39;images&#39;],\r\n\t\t\t&#39;url3&#39;=&gt;$row[&#39;images2&#39;],\r\n\t\t\t&#39;url4&#39;=&gt;$row[&#39;images3&#39;],\r\n\t\t\t&#39;url5&#39;=&gt;$row[&#39;images4&#39;],\r\n\t\t\t&#39;url6&#39;=&gt;$row[&#39;images5&#39;],\r\n\t\t\t&#39;subject&#39;=&gt;$row[&#39;subject&#39;],\r\n\t\t\t&#39;phone&#39;=&gt;$row[&#39;phone&#39;],\r\n\t\t\t&#39;name&#39;=&gt;$row[&#39;name&#39;]));\r\n\t}  \r\n\r\n\techo json_encode(array_values($result));\r\n\r\n\t\t\r\n\r\n\tmysqli_close($conn);\r\n\t\r\n\r\n          ?&gt;\r\n\r\n\r\nIf PHP sends `url2, url3, url4...` without content the app chrashes, but `phone, name, subject` with empty values works without problems.\r\n\r\n##I think Android has a Problem with converting empty imageurls and with displaying it.\r\n\r\n#EDIT:\r\nA lot of users said that I have to add the Logcat:\r\n\r\n\t\t07-16 13:12:10.713 1578-1990/system_process W/ActivityManager:   Force finishing activity com.example.jakob.webapplicationsave/.solutionTemplate\r\n\t\t07-16 13:12:10.822 1578-1990/system_process W/ActivityManager:   Force finishing activity com.example.jakob.webapplicationsave/.Main2Activity\r\n\t\t07-16 13:12:10.946 1578-2630/system_process I/OpenGLRenderer: Initialized EGL, version 1.4\r\n\t\t07-16 13:12:10.947 1578-2630/system_process D/EGL_emulation: eglCreateContext: 0x9c2be040: maj 2 min 0 rcv 2\r\n\t\t07-16 13:12:10.953 1578-2630/system_process D/EGL_emulation: eglMakeCurrent: 0x9c2be040: ver 2 0 (tinfo 0x9efbd6e0)\r\n\t\t07-16 13:12:10.962 1578-2630/system_process D/EGL_emulation: eglMakeCurrent: 0x9c2be040: ver 2 0 (tinfo 0x9efbd6e0)\r\n\t\t07-16 13:12:11.323 1578-1592/system_process W/ActivityManager: Activity pause timeout for ActivityRecord{e46f507 u0 com.example.jakob.webapplicationsave/.solutionTemplate t497 f}\r\n\t\t07-16 13:12:11.372 1930-2076/com.android.launcher3 I/OpenGLRenderer: Initialized EGL, version 1.4\r\n\t\t07-16 13:12:11.374 1930-2076/com.android.launcher3 D/EGL_emulation: eglCreateContext: 0xae414660: maj 2 min 0 rcv 2\r\n\t\t07-16 13:12:11.385 1930-2076/com.android.launcher3 D/EGL_emulation: eglMakeCurrent: 0xae414660: ver 2 0 (tinfo 0xae412440)\r\n\t\t07-16 13:12:11.423 1930-2076/com.android.launcher3 D/EGL_emulation: eglMakeCurrent: 0xae414660: ver 2 0 (tinfo 0xae412440)\r\n\t\t07-16 13:12:13.537 1270-1616/? W/audio_hw_generic: Not supplying enough data to HAL, expected position 38006369 , only wrote 37870012\r\n\t\t07-16 13:12:14.795 13519-13519/com.example.jakob.webapplicationsave I/Process: Sending signal. PID: 13519 SIG: 9\r\n\t\t07-16 13:12:14.814 1578-2630/system_process D/EGL_emulation: eglMakeCurrent: 0x9c2be040: ver 2 0 (tinfo 0x9efbd6e0)\r\n\t\t07-16 13:12:14.815 1578-2630/system_process E/Surface: getSlotFromBufferLocked: unknown buffer: 0x9b6834a0\r\n\t\t07-16 13:12:14.830 1578-2182/system_process E/JavaBinder: !!! FAILED BINDER TRANSACTION !!!  (parcel size = 104)\r\n\t\t07-16 13:12:14.830 1578-2182/system_process W/InputMethodManagerService: Got RemoteException sending setActive(false) notification to pid 13519 uid 10062\r\n\t\t07-16 13:12:14.833 1578-2182/system_process E/JavaBinder: !!! FAILED BINDER TRANSACTION !!!  (parcel size = 104)\r\n\t\t07-16 13:12:14.847 1578-1713/system_process D/GraphicsStats: Buffer count: 5\r\n\t\t07-16 13:12:14.847 1578-1625/system_process W/InputDispatcher: channel &#39;7af27b1 com.example.jakob.webapplicationsave/com.example.jakob.webapplicationsave.Main2Activity (server)&#39; ~ Consumer closed input channel or an error occurred.  events=0x9\r\n\t\t07-16 13:12:14.847 1578-2182/system_process I/WindowState: WIN DEATH: Window{7af27b1 u0 com.example.jakob.webapplicationsave/com.example.jakob.webapplicationsave.Main2Activity}\r\n\t\t07-16 13:12:14.847 1578-1625/system_process E/InputDispatcher: channel &#39;7af27b1 com.example.jakob.webapplicationsave/com.example.jakob.webapplicationsave.Main2Activity (server)&#39; ~ Channel is unrecoverably broken and will be disposed!\r\n\t\t07-16 13:12:14.847 1578-1625/system_process W/InputDispatcher: channel &#39;cd3daa3 com.example.jakob.webapplicationsave/com.example.jakob.webapplicationsave.solutionTemplate (server)&#39; ~ Consumer closed input channel or an error occurred.  events=0x9\r\n\t\t07-16 13:12:14.847 1578-1625/system_process E/InputDispatcher: channel &#39;cd3daa3 com.example.jakob.webapplicationsave/com.example.jakob.webapplicationsave.solutionTemplate (server)&#39; ~ Channel is unrecoverably broken and will be disposed!\r\n\t\t07-16 13:12:14.847 1578-2182/system_process W/InputDispatcher: Attempted to unregister already unregistered input channel &#39;7af27b1 com.example.jakob.webapplicationsave/com.example.jakob.webapplicationsave.Main2Activity (server)&#39;\r\n\t\t07-16 13:12:14.848 1578-2179/system_process I/WindowState: WIN DEATH: Window{cd3daa3 u0 com.example.jakob.webapplicationsave/com.example.jakob.webapplicationsave.solutionTemplate}\r\n\t\t07-16 13:12:14.848 1578-2179/system_process W/InputDispatcher: Attempted to unregister already unregistered input channel &#39;cd3daa3 com.example.jakob.webapplicationsave/com.example.jakob.webapplicationsave.solutionTemplate (server)&#39;\r\n\t\t07-16 13:12:14.853 1259-1259/? W/SurfaceFlinger: couldn&#39;t log to binary event log: overflow.\r\n\t\t07-16 13:12:14.853 1578-1963/system_process I/ActivityManager: Process com.example.jakob.webapplicationsave (pid 13519) has died\r\n\t\t07-16 13:12:15.026 1578-1597/system_process W/AppOps: Finishing op nesting under-run: uid 1000 pkg android code 24 time=0 duration=0 nesting=0\r\n\t\t07-16 13:12:17.958 1270-1616/? W/audio_hw_generic: Not supplying enough data to HAL, expected position 38145850 , only wrote 38008822\r\n\t\t07-16 13:13:00.065 1259-1351/? D/hwcomposer: hw_composer sent 312 syncs in 60s\r\n\t\t07-16 13:14:00.056 1259-1351/? D/hwcomposer: hw_composer sent 5 syncs in 60s\r\n\r\n","title":"Why is my is my App crashing when getting empty data?","body":"<p>My app gets data from a PHP file. 3 normal textdata and 5 image urls. The app displays them in a recyclerview with cardviews.</p>\n\n<h3>My problem is, that the app crashes when getting empty image urls.</h3>\n\n<p>But with empty textdata the app works without problems.</p>\n\n<h2>Like:</h2>\n\n<p>textdata with content + image urls with content = works </p>\n\n<p>Empty textdata + empty image urls = App crashes</p>\n\n<p>Empty textdata + image urls with content = works </p>\n\n<p>textdata with content + empty image urls = App crashes</p>\n\n<h1>This is the getting and sending (to RecyclerviewAdapter) Code:</h1>\n\n<pre><code>public void JSON_DATA_WEB_CALL (String url){\n\n        jsonArrayRequest = new JsonArrayRequest(url,\n\n                new Response.Listener&lt;JSONArray&gt;() {\n                    @Override\n                    public void onResponse(JSONArray response) {\n\n\n                        JSON_PARSE_DATA_AFTER_WEBCALL(response);\n                    }\n                },\n                new Response.ErrorListener() {\n                    @Override\n                    public void onErrorResponse(VolleyError error) {\n\n                    }\n                });\n\n        requestQueue = Volley.newRequestQueue(this);\n\n        requestQueue.add(jsonArrayRequest);\n    }\n\n public void JSON_PARSE_DATA_AFTER_WEBCALL(JSONArray array) {\n\n    for (int i = 0; i &lt; array.length(); i++) {\n\n        GetDataAdapter GetDataAdapter2 = new GetDataAdapter();\n\n        JSONObject json = null;\n\n        try {\n\n\n\n            json = array.getJSONObject(i);\n\n\n\n                GetDataAdapter2.setImageUrl(json.getString(Image_URL_JSON));\n                GetDataAdapter2.setImageUrl2(json.getString(Image_URL_JSON2));\n                GetDataAdapter2.setImageUrl3(json.getString(Image_URL_JSON3));\n                GetDataAdapter2.setImageUrl4(json.getString(Image_URL_JSON4));\n                GetDataAdapter2.setImageUrl5(json.getString(Image_URL_JSON5));\n                GetDataAdapter2.setPhone_number(json.getString(SOMETEXT));\n                GetDataAdapter2.setName(json.getString(SOMETEXT2));\n\n                GetDataAdapter2.setSubject2(json.getString(SOMETEXT3));\n\n        } catch (JSONException e) {\n\n            e.printStackTrace();\n        }\n        GetDataAdapter1.add(GetDataAdapter2);\n    }\n    recyclerViewadapter = new RecyclerViewAdapter(solutionTemplate.this, GetDataAdapter1, exerciseAdapter);\n\n    recyclerView.setAdapter(recyclerViewadapter);\n}\n</code></pre>\n\n<h2>The mainproblem is:</h2>\n\n<pre><code>      json = array.getJSONObject(i);\n\n            GetDataAdapter2.setImageUrl(json.getString(Image_URL_JSON));\n            GetDataAdapter2.setImageUrl2(json.getString(Image_URL_JSON2));\n            GetDataAdapter2.setImageUrl3(json.getString(Image_URL_JSON3));\n            GetDataAdapter2.setImageUrl4(json.getString(Image_URL_JSON4));\n            GetDataAdapter2.setImageUrl5(json.getString(Image_URL_JSON5));\n            GetDataAdapter2.setPhone_number(json.getString(SOMETEXT));\n            GetDataAdapter2.setName(json.getString(SOMETEXT2));\n\n            GetDataAdapter2.setSubject2(json.getString(SOMETEXT3));\n</code></pre>\n\n<h2>Working:</h2>\n\n<pre><code>json = array.getJSONObject(i);\n\n            GetDataAdapter2.setImageUrl(json.getString(Image_URL_JSON));\n            GetDataAdapter2.setImageUrl2(json.getString(Image_URL_JSON2));\n            GetDataAdapter2.setImageUrl3(json.getString(Image_URL_JSON3));\n            GetDataAdapter2.setImageUrl4(json.getString(Image_URL_JSON4));\n            GetDataAdapter2.setImageUrl5(json.getString(Image_URL_JSON5));\n</code></pre>\n\n<h2>Not working:</h2>\n\n<pre><code>           GetDataAdapter2.setPhone_number(json.getString(SOMETEXT));\n            GetDataAdapter2.setName(json.getString(SOMETEXT2));\n            GetDataAdapter2.setSubject2(json.getString(SOMETEXT3));\n</code></pre>\n\n<h1>Getting image urls with content is necassary!</h1>\n\n<p>But it should work without it!</p>\n\n<h2>This is the GetDataAdapter:</h2>\n\n<pre><code>public String getPhone_number() {\n\n    return phone_number;\n}\n\npublic void setPhone_number(String phone_number1) {\n\n    this.phone_number = phone_number1;\n}\n\npublic String getSubject2() {\n\n    return subject2;\n}\n\npublic void setSubject2(String subject2) {\n\n    this.subject2 = subject2;\n}\npublic String getImageUrl() {\n\n    return ImageURL;\n}\npublic void setImageUrl(String imageServerUrl) {\n\n    this.ImageURL = imageServerUrl;\n}\n\n\n\npublic String getImageUrl2() {\n\n    return ImageURL2;\n}\n\npublic void setImageUrl2(String imageServerUrl2) {\n\n    this.ImageURL2 = imageServerUrl2;\n}\n\n\n\npublic String getImageUrl3() {\n\n    return ImageURL3;\n}\n\npublic void setImageUrl3(String imageServerUrl3) {\n\n    this.ImageURL3 = imageServerUrl3;\n}\n\n\n\npublic String getImageUrl4() {\n\n    return ImageURL4;\n}\n\npublic void setImageUrl4(String imageServerUrl4) {\n\n    this.ImageURL4 = imageServerUrl4;\n}\n\n\n\npublic String getImageUrl5() {\n\n    return ImageURL5;\n}\n\npublic void setImageUrl5(String imageServerUrl5) {\n\n    this.ImageURL5 = imageServerUrl5;\n}\n</code></pre>\n\n<h2>RecyclerViewAdapter:</h2>\n\n<pre><code>@Override\npublic void onBindViewHolder(final RecyclerView.ViewHolder holder, int position) {\n    if (holder instanceof ViewHolder) {\n\n        final GetDataAdapter current = getItem(position - 1);\n        final ViewHolder holder1 = (ViewHolder) holder;\n        final ImageLoader imageLoader = ImageAdapter.getInstance(context).getImageLoader();\n        final ImageLoader imageLoader2 = ImageAdapter.getInstance(context).getImageLoader();\n        final ImageLoader imageLoader3 = ImageAdapter.getInstance(context).getImageLoader();\n        final ImageLoader imageLoader4 = ImageAdapter.getInstance(context).getImageLoader();\n        final ImageLoader imageLoader5 = ImageAdapter.getInstance(context).getImageLoader();\n\n       imageLoader.get(current.getImageUrl(),\n                ImageLoader.getImageListener(\n                        holder1.imageView1,\n                        R.mipmap.ic_launcher_image,\n                        android.R.drawable.ic_dialog_alert\n                )\n        );\n        imageLoader2.get(current.getImageUrl2(),\n                ImageLoader.getImageListener(\n                        holder1.imageView2,\n                        R.mipmap.ic_launcher_image,\n                        android.R.drawable.ic_dialog_alert\n                )\n        );\n        imageLoader3.get(current.getImageUrl3(),\n                ImageLoader.getImageListener(\n                        holder1.imageView3,\n                        R.mipmap.ic_launcher_image,\n                        android.R.drawable.ic_dialog_alert\n                )\n        );\n        imageLoader4.get(current.getImageUrl4(),\n                ImageLoader.getImageListener(\n                        holder1.imageView4,\n                        R.mipmap.ic_launcher_image,\n                        android.R.drawable.ic_dialog_alert\n                )\n        );\n        imageLoader5.get(current.getImageUrl5(),\n                ImageLoader.getImageListener(\n                        holder1.imageView5,\n                        R.mipmap.ic_launcher_image,\n                        android.R.drawable.ic_dialog_alert\n                )\n        );\n\n\n    holder1.imageView1.setImageUrl(current.getImageUrl(), imageLoader);\n    holder1.imageView2.setImageUrl(current.getImageUrl2(), imageLoader2);\n    holder1.imageView3.setImageUrl(current.getImageUrl3(), imageLoader3);\n    holder1.imageView4.setImageUrl(current.getImageUrl4(), imageLoader4);\n    holder1.imageView5.setImageUrl(current.getImageUrl5(), imageLoader5);\n    holder1.NameTextView.setText(current.getName());\n    holder1.PhoneNumberTextView.setText(current.getPhone_number());\n    holder1.SubjectTextView.setText(current.getSubject2());\n</code></pre>\n\n<h1>ImageAdapter:</h1>\n\n<pre><code>public class ImageAdapter {\n\npublic static ImageAdapter imageAdapter;\n\npublic Network networkOBJ ;\n\npublic RequestQueue requestQueue1;\n\npublic ImageLoader Imageloader1;\n\npublic Cache cache1 ;\n\npublic static Context context1;\n\nLruCache&lt;String, Bitmap&gt; LRUCACHE = new LruCache&lt;String, Bitmap&gt;(30);\n\nprivate ImageAdapter(Context context) {\n\n    this.context1 = context;\n\n    this.requestQueue1 = RequestQueueFunction();\n\n    Imageloader1 = new ImageLoader(requestQueue1, new ImageLoader.ImageCache() {\n\n        @Override\n        public Bitmap getBitmap(String URL) {\n\n            return LRUCACHE.get(URL);\n        }\n\n        @Override\n        public void putBitmap(String url, Bitmap bitmap) {\n\n            LRUCACHE.put(url, bitmap);\n        }\n    });\n}\n\npublic ImageLoader getImageLoader() {\n\n    return Imageloader1;\n}\n\npublic static ImageAdapter getInstance(Context SynchronizedContext) {\n\n    if (imageAdapter == null) {\n\n        imageAdapter = new ImageAdapter(SynchronizedContext);\n    }\n    return imageAdapter;\n}\n\npublic RequestQueue RequestQueueFunction() {\n\n    if (requestQueue1 == null) {\n\n        cache1 = new DiskBasedCache(context1.getCacheDir());\n\n        networkOBJ = new BasicNetwork(new HurlStack());\n\n        requestQueue1 = new RequestQueue(cache1, networkOBJ);\n\n        requestQueue1.start();\n    }\n    return requestQueue1;\n}\n</code></pre>\n\n<p>}</p>\n\n<h2>PHP:</h2>\n\n<pre><code>&lt;?php\n\n\n\n\n $conn = mysqli_connect('localhost', 'root', '','webapp');\n $id = $_GET['id'];\n\n\n$sql = \"SELECT * FROM answers WHERE id='$id' ORDER BY id DESC\";\n\n$res = mysqli_query($conn,$sql);\n\n$result = array();\n\n\n\nwhile($row = mysqli_fetch_array($res)){\n    array_push($result,array(\n        'url2'=&gt;$row['images'],\n        'url3'=&gt;$row['images2'],\n        'url4'=&gt;$row['images3'],\n        'url5'=&gt;$row['images4'],\n        'url6'=&gt;$row['images5'],\n        'subject'=&gt;$row['subject'],\n        'phone'=&gt;$row['phone'],\n        'name'=&gt;$row['name']));\n}  \n\necho json_encode(array_values($result));\n\n\n\nmysqli_close($conn);\n\n\n      ?&gt;\n</code></pre>\n\n<p>If PHP sends <code>url2, url3, url4...</code> without content the app chrashes, but <code>phone, name, subject</code> with empty values works without problems.</p>\n\n<h2>I think Android has a Problem with converting empty imageurls and with displaying it.</h2>\n\n<h1>EDIT:</h1>\n\n<p>A lot of users said that I have to add the Logcat:</p>\n\n<pre><code>    07-16 13:12:10.713 1578-1990/system_process W/ActivityManager:   Force finishing activity com.example.jakob.webapplicationsave/.solutionTemplate\n    07-16 13:12:10.822 1578-1990/system_process W/ActivityManager:   Force finishing activity com.example.jakob.webapplicationsave/.Main2Activity\n    07-16 13:12:10.946 1578-2630/system_process I/OpenGLRenderer: Initialized EGL, version 1.4\n    07-16 13:12:10.947 1578-2630/system_process D/EGL_emulation: eglCreateContext: 0x9c2be040: maj 2 min 0 rcv 2\n    07-16 13:12:10.953 1578-2630/system_process D/EGL_emulation: eglMakeCurrent: 0x9c2be040: ver 2 0 (tinfo 0x9efbd6e0)\n    07-16 13:12:10.962 1578-2630/system_process D/EGL_emulation: eglMakeCurrent: 0x9c2be040: ver 2 0 (tinfo 0x9efbd6e0)\n    07-16 13:12:11.323 1578-1592/system_process W/ActivityManager: Activity pause timeout for ActivityRecord{e46f507 u0 com.example.jakob.webapplicationsave/.solutionTemplate t497 f}\n    07-16 13:12:11.372 1930-2076/com.android.launcher3 I/OpenGLRenderer: Initialized EGL, version 1.4\n    07-16 13:12:11.374 1930-2076/com.android.launcher3 D/EGL_emulation: eglCreateContext: 0xae414660: maj 2 min 0 rcv 2\n    07-16 13:12:11.385 1930-2076/com.android.launcher3 D/EGL_emulation: eglMakeCurrent: 0xae414660: ver 2 0 (tinfo 0xae412440)\n    07-16 13:12:11.423 1930-2076/com.android.launcher3 D/EGL_emulation: eglMakeCurrent: 0xae414660: ver 2 0 (tinfo 0xae412440)\n    07-16 13:12:13.537 1270-1616/? W/audio_hw_generic: Not supplying enough data to HAL, expected position 38006369 , only wrote 37870012\n    07-16 13:12:14.795 13519-13519/com.example.jakob.webapplicationsave I/Process: Sending signal. PID: 13519 SIG: 9\n    07-16 13:12:14.814 1578-2630/system_process D/EGL_emulation: eglMakeCurrent: 0x9c2be040: ver 2 0 (tinfo 0x9efbd6e0)\n    07-16 13:12:14.815 1578-2630/system_process E/Surface: getSlotFromBufferLocked: unknown buffer: 0x9b6834a0\n    07-16 13:12:14.830 1578-2182/system_process E/JavaBinder: !!! FAILED BINDER TRANSACTION !!!  (parcel size = 104)\n    07-16 13:12:14.830 1578-2182/system_process W/InputMethodManagerService: Got RemoteException sending setActive(false) notification to pid 13519 uid 10062\n    07-16 13:12:14.833 1578-2182/system_process E/JavaBinder: !!! FAILED BINDER TRANSACTION !!!  (parcel size = 104)\n    07-16 13:12:14.847 1578-1713/system_process D/GraphicsStats: Buffer count: 5\n    07-16 13:12:14.847 1578-1625/system_process W/InputDispatcher: channel '7af27b1 com.example.jakob.webapplicationsave/com.example.jakob.webapplicationsave.Main2Activity (server)' ~ Consumer closed input channel or an error occurred.  events=0x9\n    07-16 13:12:14.847 1578-2182/system_process I/WindowState: WIN DEATH: Window{7af27b1 u0 com.example.jakob.webapplicationsave/com.example.jakob.webapplicationsave.Main2Activity}\n    07-16 13:12:14.847 1578-1625/system_process E/InputDispatcher: channel '7af27b1 com.example.jakob.webapplicationsave/com.example.jakob.webapplicationsave.Main2Activity (server)' ~ Channel is unrecoverably broken and will be disposed!\n    07-16 13:12:14.847 1578-1625/system_process W/InputDispatcher: channel 'cd3daa3 com.example.jakob.webapplicationsave/com.example.jakob.webapplicationsave.solutionTemplate (server)' ~ Consumer closed input channel or an error occurred.  events=0x9\n    07-16 13:12:14.847 1578-1625/system_process E/InputDispatcher: channel 'cd3daa3 com.example.jakob.webapplicationsave/com.example.jakob.webapplicationsave.solutionTemplate (server)' ~ Channel is unrecoverably broken and will be disposed!\n    07-16 13:12:14.847 1578-2182/system_process W/InputDispatcher: Attempted to unregister already unregistered input channel '7af27b1 com.example.jakob.webapplicationsave/com.example.jakob.webapplicationsave.Main2Activity (server)'\n    07-16 13:12:14.848 1578-2179/system_process I/WindowState: WIN DEATH: Window{cd3daa3 u0 com.example.jakob.webapplicationsave/com.example.jakob.webapplicationsave.solutionTemplate}\n    07-16 13:12:14.848 1578-2179/system_process W/InputDispatcher: Attempted to unregister already unregistered input channel 'cd3daa3 com.example.jakob.webapplicationsave/com.example.jakob.webapplicationsave.solutionTemplate (server)'\n    07-16 13:12:14.853 1259-1259/? W/SurfaceFlinger: couldn't log to binary event log: overflow.\n    07-16 13:12:14.853 1578-1963/system_process I/ActivityManager: Process com.example.jakob.webapplicationsave (pid 13519) has died\n    07-16 13:12:15.026 1578-1597/system_process W/AppOps: Finishing op nesting under-run: uid 1000 pkg android code 24 time=0 duration=0 nesting=0\n    07-16 13:12:17.958 1270-1616/? W/audio_hw_generic: Not supplying enough data to HAL, expected position 38145850 , only wrote 38008822\n    07-16 13:13:00.065 1259-1351/? D/hwcomposer: hw_composer sent 312 syncs in 60s\n    07-16 13:14:00.056 1259-1351/? D/hwcomposer: hw_composer sent 5 syncs in 60s\n</code></pre>\n"},{"tags":["java","multithreading","unit-testing","junit"],"comments":[{"owner":{"account_id":22651,"reputation":13651,"user_id":56076,"accept_rate":72,"display_name":"Don Branson"},"score":1,"creation_date":1279202199,"post_id":3256064,"comment_id":3365655,"body_markdown":"I asked a related (not duplicate) question some time back, and got some good answers from folks:\n\nhttp://stackoverflow.com/questions/537014/using-tdd-to-drive-out-thread-safe-code","body":"I asked a related (not duplicate) question some time back, and got some good answers from folks:  <a href=\"http://stackoverflow.com/questions/537014/using-tdd-to-drive-out-thread-safe-code\" title=\"using tdd to drive out thread safe code\">stackoverflow.com/questions/537014/&hellip;</a>"},{"owner":{"account_id":261142,"reputation":47118,"user_id":545127,"accept_rate":69,"display_name":"Raedwald"},"score":0,"creation_date":1510483446,"post_id":3256064,"comment_id":81445793,"body_markdown":"See also https://stackoverflow.com/questions/12159/how-should-i-unit-test-threaded-code","body":"See also <a href=\"https://stackoverflow.com/questions/12159/how-should-i-unit-test-threaded-code\" title=\"how should i unit test threaded code\">stackoverflow.com/questions/12159/&hellip;</a>"}],"answers":[{"comments":[{"owner":{"account_id":127164,"reputation":15713,"user_id":324152,"accept_rate":63,"display_name":"MRalwasser"},"score":0,"creation_date":1279203370,"post_id":3256112,"comment_id":3365915,"body_markdown":"ConTest looks good, but seems not to be freely available (I can only find a trial).","body":"ConTest looks good, but seems not to be freely available (I can only find a trial)."}],"tags":[],"owner":{"account_id":128551,"reputation":57229,"user_id":326480,"accept_rate":82,"display_name":"mdma"},"comment_count":1,"down_vote_count":0,"up_vote_count":11,"is_accepted":true,"score":11,"last_activity_date":1279209599,"creation_date":1279201569,"answer_id":3256112,"question_id":3256064,"body_markdown":"There is [ConTest][1], and also [GroboUtils][2].\r\n\r\nI&#39;ve used GroboUtils many years ago, and it did the job. ConTest is newer, and would be my preferred starting point now, since rather than just relying on trial and error, the instrumentation forces specific interleavings of the threads, providing a deterministic test. In contrast, GroboUtils MultiThreadedTestRunner simply runs the tests and hopes the scheduler produces an interleaving that causes the thread bug to appear.\r\n\r\nEDIT: See also [ConcuTest][3] which also forces interleavings and is free.\r\n\r\n\r\n  [1]: http://www.ibm.com/developerworks/java/library/j-contest.html\r\n  [2]: http://groboutils.sourceforge.net/testing-junit/using_mtt.html\r\n  [3]: http://www.cs.rice.edu/~mgricken/research/concutest/","title":"How to write multi-threaded unit tests?","body":"<p>There is <a href=\"http://www.ibm.com/developerworks/java/library/j-contest.html\" rel=\"noreferrer\">ConTest</a>, and also <a href=\"http://groboutils.sourceforge.net/testing-junit/using_mtt.html\" rel=\"noreferrer\">GroboUtils</a>.</p>\n\n<p>I've used GroboUtils many years ago, and it did the job. ConTest is newer, and would be my preferred starting point now, since rather than just relying on trial and error, the instrumentation forces specific interleavings of the threads, providing a deterministic test. In contrast, GroboUtils MultiThreadedTestRunner simply runs the tests and hopes the scheduler produces an interleaving that causes the thread bug to appear.</p>\n\n<p>EDIT: See also <a href=\"http://www.cs.rice.edu/~mgricken/research/concutest/\" rel=\"noreferrer\">ConcuTest</a> which also forces interleavings and is free.</p>\n"},{"comments":[{"owner":{"account_id":19462,"reputation":102762,"user_id":45664,"accept_rate":91,"display_name":"Andrzej Doyle"},"score":0,"creation_date":1279276953,"post_id":3263975,"comment_id":3375230,"body_markdown":"+1: I&#39;ve used it before, and found it very good at generating specific interleavings and asserting properties of your implementation.","body":"+1: I&#39;ve used it before, and found it very good at generating specific interleavings and asserting properties of your implementation."}],"tags":[],"owner":{"account_id":35266,"reputation":1918,"user_id":99851,"display_name":"Holger Hoffst&#228;tte"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1279276731,"creation_date":1279276731,"answer_id":3263975,"question_id":3256064,"body_markdown":"There is also [MultithreadedTC][1] by Bill Pugh of FindBugs fame.\r\n\r\n\r\n  [1]: http://www.cs.umd.edu/projects/PL/multithreadedtc/index.html","title":"How to write multi-threaded unit tests?","body":"<p>There is also <a href=\"http://www.cs.umd.edu/projects/PL/multithreadedtc/index.html\" rel=\"nofollow noreferrer\">MultithreadedTC</a> by Bill Pugh of FindBugs fame.</p>\n"},{"comments":[{"owner":{"account_id":97818,"reputation":114824,"user_id":265143,"accept_rate":72,"display_name":"P&#233;ter T&#246;r&#246;k"},"score":0,"creation_date":1279527943,"post_id":3270675,"comment_id":3394017,"body_markdown":"This does not answer the question. Yes, the code would be simpler, and some risks eliminated, but still it should be tested somehow.","body":"This does not answer the question. Yes, the code would be simpler, and some risks eliminated, but still it should be tested somehow."}],"tags":[],"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1279352846,"creation_date":1279352846,"answer_id":3270675,"question_id":3256064,"body_markdown":"Just using the concurrency libraries would simplify your code.  You can turn your boiler plate code into one method.\r\n\r\nSomething like\r\n\r\n    public static void runAll(int times, Runnable... tests) {\r\n    \r\n    }\r\n\r\n","title":"How to write multi-threaded unit tests?","body":"<p>Just using the concurrency libraries would simplify your code.  You can turn your boiler plate code into one method.</p>\n\n<p>Something like</p>\n\n<pre><code>public static void runAll(int times, Runnable... tests) {\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":50156,"reputation":427,"user_id":149493,"display_name":"Raja Nagendra Kumar"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1688216230,"creation_date":1688216230,"answer_id":76594789,"question_id":3256064,"body_markdown":"http://www.awaitility.org/ is the most modern assert testing for async code unit testing.","title":"How to write multi-threaded unit tests?","body":"<p><a href=\"http://www.awaitility.org/\" rel=\"nofollow noreferrer\">http://www.awaitility.org/</a> is the most modern assert testing for async code unit testing.</p>\n"}],"owner":{"account_id":127164,"reputation":15713,"user_id":324152,"accept_rate":63,"display_name":"MRalwasser"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5294,"favorite_count":0,"down_vote_count":0,"up_vote_count":15,"accepted_answer_id":3256112,"answer_count":4,"score":15,"last_activity_date":1688216230,"creation_date":1279201313,"question_id":3256064,"body_markdown":"I&#39;d like to know if there are some unit testing frameworks which are capable of writing multi-threaded tests easily?\r\n\r\nI would imagine something like:\r\ninvoke a special test method by n threads at the same time for m times. After all test threads finished, an assertion method where some constraints should be validated would be invoked.\r\n\r\nMy current approach is to create Thread objects inside a junit test method, loop manually the real test cases inside each run() method, wait for all threads and then validate the assertions. But using this, I have a large boilerplate code block for each test.\r\n\r\nWhat are your experiences?","title":"How to write multi-threaded unit tests?","body":"<p>I'd like to know if there are some unit testing frameworks which are capable of writing multi-threaded tests easily?</p>\n\n<p>I would imagine something like:\ninvoke a special test method by n threads at the same time for m times. After all test threads finished, an assertion method where some constraints should be validated would be invoked.</p>\n\n<p>My current approach is to create Thread objects inside a junit test method, loop manually the real test cases inside each run() method, wait for all threads and then validate the assertions. But using this, I have a large boilerplate code block for each test.</p>\n\n<p>What are your experiences?</p>\n"},{"tags":["java","completable-future"],"comments":[{"owner":{"account_id":9760,"reputation":85860,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":0,"creation_date":1511636568,"post_id":47489338,"comment_id":81934157,"body_markdown":"Did you try this in your IDE debugger?  Seems you could figure out what is happening quite easily with a few well-placed breakpoints.","body":"Did you try this in your IDE debugger?  Seems you could figure out what is happening quite easily with a few well-placed breakpoints."},{"owner":{"account_id":204515,"reputation":11679,"user_id":452775,"accept_rate":63,"display_name":"Lii"},"score":2,"creation_date":1511638402,"post_id":47489338,"comment_id":81934685,"body_markdown":"Interesting question! I added some formatting to your text, I hope that is okay. Note that you can use &quot;`&quot; around inline code to have it formatted as code, and you need an empty line to make a new paragraph.","body":"Interesting question! I added some formatting to your text, I hope that is okay. Note that you can use &quot;`&quot; around inline code to have it formatted as code, and you need an empty line to make a new paragraph."},{"owner":{"account_id":11174300,"reputation":1203,"user_id":8200378,"accept_rate":33,"display_name":"Yulin"},"score":1,"creation_date":1511713361,"post_id":47489338,"comment_id":81951800,"body_markdown":"Not except the &#39;thenApply&#39; case, I&#39;m new to concurrency and haven&#39;t had much practice on it, my na&#239;ve impression is that concurrent code problems are hard to track, so instead of try it myself I hope some one could give me a definitive answer on it to clear my confusions. @JimGarrison","body":"Not except the &#39;thenApply&#39; case, I&#39;m new to concurrency and haven&#39;t had much practice on it, my na&#239;ve impression is that concurrent code problems are hard to track, so instead of try it myself I hope some one could give me a definitive answer on it to clear my confusions. @JimGarrison"},{"owner":{"account_id":11174300,"reputation":1203,"user_id":8200378,"accept_rate":33,"display_name":"Yulin"},"score":0,"creation_date":1511713716,"post_id":47489338,"comment_id":81951905,"body_markdown":"Thanks for your corrections. @Lii","body":"Thanks for your corrections. @Lii"},{"owner":{"account_id":204515,"reputation":11679,"user_id":452775,"accept_rate":63,"display_name":"Lii"},"score":0,"creation_date":1512902223,"post_id":47489338,"comment_id":82436060,"body_markdown":"@Yulin Hello again! I&#39;d like to remind you that you should accept one of the answers if you think it solved your problem. That helps people see that the question does not need more attention. You also get a few points yourself by accepting an answer, and people may be more willing to answer your questions in the future. Here is some information: https://stackoverflow.com/help/accepted-answer","body":"@Yulin Hello again! I&#39;d like to remind you that you should accept one of the answers if you think it solved your problem. That helps people see that the question does not need more attention. You also get a few points yourself by accepting an answer, and people may be more willing to answer your questions in the future. Here is some information: <a href=\"https://stackoverflow.com/help/accepted-answer\">stackoverflow.com/help/accepted-answer</a>"},{"owner":{"account_id":11174300,"reputation":1203,"user_id":8200378,"accept_rate":33,"display_name":"Yulin"},"score":1,"creation_date":1512919950,"post_id":47489338,"comment_id":82440884,"body_markdown":"@Lii Didn&#39;t know there is a accept answer operation, now one answer is accepted. Thanks!","body":"@Lii Didn&#39;t know there is a accept answer operation, now one answer is accepted. Thanks!"}],"answers":[{"comments":[{"owner":{"account_id":1562546,"reputation":24865,"user_id":1452094,"display_name":"Kiskae"},"score":3,"creation_date":1511637571,"post_id":47489601,"comment_id":81934435,"body_markdown":"Whether &quot;call 2&quot; executes on the main thread or some other thread is dependant on the state of `future`. If it already has a result then it will execute on the main thread. Otherwise it will register a callback and execute when the result of `supplyAsync` is available on whichever thread that might be.","body":"Whether &quot;call 2&quot; executes on the main thread or some other thread is dependant on the state of <code>future</code>. If it already has a result then it will execute on the main thread. Otherwise it will register a callback and execute when the result of <code>supplyAsync</code> is available on whichever thread that might be."}],"tags":[],"owner":{"account_id":1995799,"reputation":28352,"user_id":1788806,"accept_rate":94,"display_name":"Willi Mentzel"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1511637841,"creation_date":1511636957,"answer_id":47489601,"question_id":47489338,"body_markdown":"This is what the documentation says about `CompletableFuture&#39;s` [`thenApplyAsync`][1]:\r\n\r\n&gt; Returns a new CompletionStage that, when this stage completes\r\n&gt; normally, is executed using this stage&#39;s default asynchronous\r\n&gt; execution facility, with this stage&#39;s result as the argument to the\r\n&gt; supplied function.\r\n\r\nSo, `thenApplyAsync` has to wait for the previous `thenApplyAsync&#39;s` result:\r\n\r\nIn your case you first do the synchronous work and then the asynchronous one. So, it does not matter that the second one is asynchronous because it is started only after the synchrounous work has finished.\r\n\r\nLet&#39;s switch it up. In some cases &quot;async result: 2&quot; will be printed first and in some cases &quot;sync result: 2&quot; will be printed first. Here it makes a difference because both call 1 and 2 can run asynchronously, call 1 on a separate thread and call 2 on some other thread, which might be the main thread.\r\n\r\n    CompletableFuture&lt;Integer&gt; future\r\n                    = CompletableFuture.supplyAsync(() -&gt; 0);\r\n            \r\n    future.thenApplyAsync(x -&gt; x + 1) // call 1\r\n                    .thenApplyAsync(x -&gt; x + 1)\r\n                    .thenAccept(x -&gt; System.out.println(&quot;async result: &quot; + x));\r\n    \r\n    future.thenApply(x -&gt; x + 1) // call 2\r\n                    .thenApply(x -&gt; x + 1)\r\n                    .thenAccept(x -&gt; System.out.println(&quot;sync result:&quot; + x));\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/CompletableFuture.html#thenApplyAsync-java.util.function.Function-","title":"What is the difference between thenApply and thenApplyAsync of Java CompletableFuture?","body":"<p>This is what the documentation says about <code>CompletableFuture's</code> <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/CompletableFuture.html#thenApplyAsync-java.util.function.Function-\" rel=\"nofollow noreferrer\"><code>thenApplyAsync</code></a>:</p>\n\n<blockquote>\n  <p>Returns a new CompletionStage that, when this stage completes\n  normally, is executed using this stage's default asynchronous\n  execution facility, with this stage's result as the argument to the\n  supplied function.</p>\n</blockquote>\n\n<p>So, <code>thenApplyAsync</code> has to wait for the previous <code>thenApplyAsync's</code> result:</p>\n\n<p>In your case you first do the synchronous work and then the asynchronous one. So, it does not matter that the second one is asynchronous because it is started only after the synchrounous work has finished.</p>\n\n<p>Let's switch it up. In some cases \"async result: 2\" will be printed first and in some cases \"sync result: 2\" will be printed first. Here it makes a difference because both call 1 and 2 can run asynchronously, call 1 on a separate thread and call 2 on some other thread, which might be the main thread.</p>\n\n<pre><code>CompletableFuture&lt;Integer&gt; future\n                = CompletableFuture.supplyAsync(() -&gt; 0);\n\nfuture.thenApplyAsync(x -&gt; x + 1) // call 1\n                .thenApplyAsync(x -&gt; x + 1)\n                .thenAccept(x -&gt; System.out.println(\"async result: \" + x));\n\nfuture.thenApply(x -&gt; x + 1) // call 2\n                .thenApply(x -&gt; x + 1)\n                .thenAccept(x -&gt; System.out.println(\"sync result:\" + x));\n</code></pre>\n"},{"comments":[{"owner":{"account_id":204515,"reputation":11679,"user_id":452775,"accept_rate":63,"display_name":"Lii"},"score":19,"creation_date":1511638623,"post_id":47489654,"comment_id":81934761,"body_markdown":"Nice answer, it&#39;s good to get an explanation about all the difference version of `thenApply`. But I think you miss this part of the question: &quot;What&#39;s the point?&quot; When and why would one use `thenApplyAsync` instead of `thenApply`? They will run at the same time, won&#39;t they? The difference seem to be only on which thread they run, but that should not matter much, since both probably run on some thread pool thread anyway.","body":"Nice answer, it&#39;s good to get an explanation about all the difference version of <code>thenApply</code>. But I think you miss this part of the question: &quot;What&#39;s the point?&quot; When and why would one use <code>thenApplyAsync</code> instead of <code>thenApply</code>? They will run at the same time, won&#39;t they? The difference seem to be only on which thread they run, but that should not matter much, since both probably run on some thread pool thread anyway."},{"owner":{"account_id":1562546,"reputation":24865,"user_id":1452094,"display_name":"Kiskae"},"score":3,"creation_date":1511640748,"post_id":47489654,"comment_id":81935374,"body_markdown":"It is a chain, every call in the chain depends on the previous part having completed. You use `thenApplyAsync` if you need to execute the function on a pre-defined executor. An example would be execution on the UI thread when dealing with UI updates as a response to the result of the future.","body":"It is a chain, every call in the chain depends on the previous part having completed. You use <code>thenApplyAsync</code> if you need to execute the function on a pre-defined executor. An example would be execution on the UI thread when dealing with UI updates as a response to the result of the future."},{"owner":{"account_id":11174300,"reputation":1203,"user_id":8200378,"accept_rate":33,"display_name":"Yulin"},"score":0,"creation_date":1511714671,"post_id":47489654,"comment_id":81952195,"body_markdown":"Is it that compared to &#39;thenApply&#39;, &#39;thenApplyAsync&#39; dose not block the current thread and no difference on other aspects? Assume the task is very expensive.","body":"Is it that compared to &#39;thenApply&#39;, &#39;thenApplyAsync&#39; dose not block the current thread and no difference on other aspects? Assume the task is very expensive."},{"owner":{"account_id":1562546,"reputation":24865,"user_id":1452094,"display_name":"Kiskae"},"score":7,"creation_date":1511723531,"post_id":47489654,"comment_id":81955351,"body_markdown":"`thenApplyAsync` is guarenteed to not block the current thread, whilst `thenApply` depends on the object it is called on for its behavior.","body":"<code>thenApplyAsync</code> is guarenteed to not block the current thread, whilst <code>thenApply</code> depends on the object it is called on for its behavior."},{"owner":{"account_id":9609285,"reputation":756,"user_id":7134235,"accept_rate":82,"display_name":"Boris"},"score":0,"creation_date":1534956408,"post_id":47489654,"comment_id":90893681,"body_markdown":"Kiskae I just ran this experiment calling thenApply on a CompletableFuture and thenApply was executed on a different thread. Are you sure your explanation is correct? Maybe I didn&#39;t understand correctly. Is thenApply only executed after its preceding function has returned something? If so, doesn&#39;t it make sense for thenApply to always be executed on the same thread as the preceding function? This way, once the preceding function has been executed, its thread is now free to execute thenApply. Am I missing something here?","body":"Kiskae I just ran this experiment calling thenApply on a CompletableFuture and thenApply was executed on a different thread. Are you sure your explanation is correct? Maybe I didn&#39;t understand correctly. Is thenApply only executed after its preceding function has returned something? If so, doesn&#39;t it make sense for thenApply to always be executed on the same thread as the preceding function? This way, once the preceding function has been executed, its thread is now free to execute thenApply. Am I missing something here?"},{"owner":{"account_id":1562546,"reputation":24865,"user_id":1452094,"display_name":"Kiskae"},"score":0,"creation_date":1535025888,"post_id":47489654,"comment_id":90920110,"body_markdown":"@Boris As the answer said, it is completely implementation dependant. When I made this answer it executes on the calling thread if the object is already complete, otherwise it queues the callback and runs it on the thread that completes the object.","body":"@Boris As the answer said, it is completely implementation dependant. When I made this answer it executes on the calling thread if the object is already complete, otherwise it queues the callback and runs it on the thread that completes the object."},{"owner":{"account_id":9609285,"reputation":756,"user_id":7134235,"accept_rate":82,"display_name":"Boris"},"score":0,"creation_date":1535121411,"post_id":47489654,"comment_id":90963476,"body_markdown":"What is the &quot;thread that completes the object&quot;? Can you give an example with code? I re ran my experiment and I realized I may have misinterpreted my logs; it seems thenApply gets executed on the same thread as SupplyAsync regardless of whether it is called before the SupplyAsync function has been executed.","body":"What is the &quot;thread that completes the object&quot;? Can you give an example with code? I re ran my experiment and I realized I may have misinterpreted my logs; it seems thenApply gets executed on the same thread as SupplyAsync regardless of whether it is called before the SupplyAsync function has been executed."}],"tags":[],"owner":{"account_id":1562546,"reputation":24865,"user_id":1452094,"display_name":"Kiskae"},"comment_count":7,"down_vote_count":0,"up_vote_count":86,"is_accepted":true,"score":86,"last_activity_date":1511637331,"creation_date":1511637331,"answer_id":47489654,"question_id":47489338,"body_markdown":"The difference has to do with the `Executor` that is responsible for running the code. Each operator on `CompletableFuture` generally has 3 versions.\r\n\r\n1. `thenApply(fn)` - runs `fn` on a thread defined by the `CompleteableFuture` on which it is called, so you generally cannot know where this will be executed. It might immediately execute if the result is already available.\r\n2. `thenApplyAsync(fn)` - runs `fn` on a environment-defined executor regardless of circumstances. For `CompletableFuture` this will generally be `ForkJoinPool.commonPool()`.\r\n3. `thenApplyAsync(fn,exec)` - runs `fn` on `exec`.\r\n\r\nIn the end the result is the same, but the scheduling behavior depends on the choice of method.","title":"What is the difference between thenApply and thenApplyAsync of Java CompletableFuture?","body":"<p>The difference has to do with the <code>Executor</code> that is responsible for running the code. Each operator on <code>CompletableFuture</code> generally has 3 versions.</p>\n\n<ol>\n<li><code>thenApply(fn)</code> - runs <code>fn</code> on a thread defined by the <code>CompleteableFuture</code> on which it is called, so you generally cannot know where this will be executed. It might immediately execute if the result is already available.</li>\n<li><code>thenApplyAsync(fn)</code> - runs <code>fn</code> on a environment-defined executor regardless of circumstances. For <code>CompletableFuture</code> this will generally be <code>ForkJoinPool.commonPool()</code>.</li>\n<li><code>thenApplyAsync(fn,exec)</code> - runs <code>fn</code> on <code>exec</code>.</li>\n</ol>\n\n<p>In the end the result is the same, but the scheduling behavior depends on the choice of method.</p>\n"},{"comments":[{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":0,"creation_date":1532707717,"post_id":51560731,"comment_id":90090339,"body_markdown":"The function supplied to `thenApply` may also run on any thread that calls an arbitrary other, unrelated [“completion” method on that future](https://stackoverflow.com/a/46062939/2711488)… My favorite would be a thread trying to `cancel` the future…","body":"The function supplied to <code>thenApply</code> may also run on any thread that calls an arbitrary other, unrelated <a href=\"https://stackoverflow.com/a/46062939/2711488\">“completion” method on that future</a>… My favorite would be a thread trying to <code>cancel</code> the future…"},{"owner":{"account_id":3250192,"reputation":1922,"user_id":2740728,"display_name":"1283822"},"score":0,"creation_date":1621461590,"post_id":51560731,"comment_id":119506556,"body_markdown":"Yes, understandably, the JSR&#39;s loose description on thread/execution order is intentional and leaves room for the Java implementers to freely do what they see fit. The take away is they promise to run it somewhere eventually, under something you do not control. If you want control, use the `Async` variants.  \n\nBut that is beside the point, because the OP is clearly struggling to understand asynchrony, which is orthogonal to thread management. I had to call out the difference between the two in my answer. OP should understand asynchony first before worrying about thread management in any way.","body":"Yes, understandably, the JSR&#39;s loose description on thread/execution order is intentional and leaves room for the Java implementers to freely do what they see fit. The take away is they promise to run it somewhere eventually, under something you do not control. If you want control, use the <code>Async</code> variants.    But that is beside the point, because the OP is clearly struggling to understand asynchrony, which is orthogonal to thread management. I had to call out the difference between the two in my answer. OP should understand asynchony first before worrying about thread management in any way."},{"owner":{"account_id":1677099,"reputation":10905,"user_id":1542363,"accept_rate":92,"display_name":"Sam YC"},"score":2,"creation_date":1624935756,"post_id":51560731,"comment_id":120486527,"body_markdown":"while thenApplyAsync either uses a default Executor (a.k.a. thread pool), &lt;---- do you know which default Thread Pool is that? @1283822","body":"while thenApplyAsync either uses a default Executor (a.k.a. thread pool), &lt;---- do you know which default Thread Pool is that? @1283822"},{"owner":{"account_id":3250192,"reputation":1922,"user_id":2740728,"display_name":"1283822"},"score":1,"creation_date":1626106582,"post_id":51560731,"comment_id":120798888,"body_markdown":"The default executor is promised to be a separate thread pool. Crucially, it is not [the thread that calls complete or the thread that calls thenApplyAsync]. If you compile your code against the OpenJDK libraries, the answer is in the [OpenJDK Sources](https://github.com/openjdk/jdk/blob/739769c8fc4b496f08a92225a12d07414537b6c0/src/java.base/share/classes/java/util/concurrent/CompletableFuture.java#L2612), which is most of the time `ForkJoinPool.commonPool()`.","body":"The default executor is promised to be a separate thread pool. Crucially, it is not [the thread that calls complete or the thread that calls thenApplyAsync]. If you compile your code against the OpenJDK libraries, the answer is in the <a href=\"https://github.com/openjdk/jdk/blob/739769c8fc4b496f08a92225a12d07414537b6c0/src/java.base/share/classes/java/util/concurrent/CompletableFuture.java#L2612\" rel=\"nofollow noreferrer\">OpenJDK Sources</a>, which is most of the time <code>ForkJoinPool.commonPool()</code>."},{"owner":{"account_id":370994,"reputation":35154,"user_id":719263,"accept_rate":100,"display_name":"Jean-Baptiste Yun&#232;s"},"score":0,"creation_date":1695830002,"post_id":51560731,"comment_id":136077286,"body_markdown":"That is the best answer! The difference is in &quot;reusing&quot; the first future in two different asyncs.","body":"That is the best answer! The difference is in &quot;reusing&quot; the first future in two different asyncs."},{"owner":{"account_id":7427599,"reputation":373,"user_id":5649620,"accept_rate":40,"display_name":"Vyshnav Ramesh Thrissur"},"score":0,"creation_date":1700375683,"post_id":51560731,"comment_id":136645515,"body_markdown":"@1283822 &quot;a.thenApply(b); a.thenApply(c); means a finishes, then b or c can start, in any order. b and c don&#39;t have to wait for each other.&quot; Does this mean the order is a finishes then EITHER b starts, b finishes, then c starts OR c starts, c finishes, then b starts? Or does this mean the order is a finishes then b and c can parallelly start?","body":"@1283822 &quot;a.thenApply(b); a.thenApply(c); means a finishes, then b or c can start, in any order. b and c don&#39;t have to wait for each other.&quot; Does this mean the order is a finishes then EITHER b starts, b finishes, then c starts OR c starts, c finishes, then b starts? Or does this mean the order is a finishes then b and c can parallelly start?"},{"owner":{"account_id":7427599,"reputation":373,"user_id":5649620,"accept_rate":40,"display_name":"Vyshnav Ramesh Thrissur"},"score":0,"creation_date":1700377861,"post_id":51560731,"comment_id":136645619,"body_markdown":"From https://blog.krecan.net/2013/12/25/completablefutures-why-to-use-async-methods/ , it should be neither. The order should be a finishes, b starts, b finishes, then c starts.","body":"From <a href=\"https://blog.krecan.net/2013/12/25/completablefutures-why-to-use-async-methods/\" rel=\"nofollow noreferrer\">blog.krecan.net/2013/12/25/&hellip;</a> , it should be neither. The order should be a finishes, b starts, b finishes, then c starts."}],"tags":[],"owner":{"account_id":3250192,"reputation":1922,"user_id":2740728,"display_name":"1283822"},"comment_count":7,"down_vote_count":0,"up_vote_count":52,"is_accepted":false,"score":52,"last_activity_date":1626105676,"creation_date":1532703846,"answer_id":51560731,"question_id":47489338,"body_markdown":"You&#39;re mis-quoting the article&#39;s examples, and so you&#39;re applying the article&#39;s conclusion incorrectly. I see two question in your question:\r\n\r\n**What is the correct usage of `.then___()`**\r\n\r\nIn both examples you quoted, which is not in the article, the second function has to wait for the first function to complete. Whenever you call `a.then___(b -&gt; ...)`, input `b` is the result of `a` and has to wait for `a` to complete, regardless of whether you use the methods named `Async` or not. The article&#39;s conclusion does not apply because you mis-quoted it.\r\n\r\nThe example in the article is actually\r\n\r\n```java\r\nCompletableFuture&lt;String&gt; receiver = CompletableFuture.supplyAsync(this::findReceiver);\r\n\r\nreceiver.thenApplyAsync(this::sendMsg);  \r\nreceiver.thenApplyAsync(this::sendMsg);  \r\n```\r\n\r\nNotice the `thenApplyAsync` both applied on `receiver`, not chained in the same statement. This means both function can start once `receiver` completes, in an unspecified order. (Any assumption of order is implementation dependent.)\r\n\r\n**To put it more clearly:**\r\n\r\n`a.thenApply(b).thenApply(c);` means the order is `a` finishes then `b` starts, `b` finishes, then `c` starts. \\\r\n`a.thenApplyAsync(b).thenApplyAsync(c);` will behave exactly the same as above as far as the ordering between `a` `b` `c` is concerned.\r\n\r\n`a.thenApply(b); a.thenApply(c);` means `a` finishes, then `b` or `c` can start, in any order. `b` and `c` don&#39;t have to wait for each other. \\\r\n`a.thenApplyAync(b); a.thenApplyAsync(c);` works the same way, as far as the order is concerned.\r\n\r\nYou should understand the above before reading the below. The above concerns asynchronous programming, without it you won&#39;t be able to use the APIs correctly. The below concerns thread management, with which you can optimize your program and avoid performance pitfalls. But you can&#39;t optimize your program without writing it correctly.\r\n\r\n---\r\n\r\n**As titled: Difference between `thenApply` and `thenApplyAsync` of Java CompletableFuture?**\r\n\r\nI must point out that the people who wrote the JSR must have confused the technical term &quot;Asynchronous Programming&quot;, and picked the names that are now confusing newcomers and veterans alike. To start, there is nothing in `thenApplyAsync` that is more asynchronous than `thenApply` from the contract of these methods.\r\n\r\nThe difference between the two has to do with on which thread the function is run. The function supplied to `thenApply` [may run on any of the threads](https://stackoverflow.com/a/46060587/2740728) that\r\n\r\n1. calls `complete`\r\n2. calls `thenApply` on the same instance\r\n\r\nwhile the 2 overloads of `thenApplyAsync` either \r\n\r\n1. uses a default `Executor` (a.k.a. thread pool), or \r\n2. uses a supplied `Executor`\r\n\r\nThe take away is that for `thenApply`, the runtime promises to eventually run your function using some executor which you do not control. If you want control of threads, use the Async variants. \r\n\r\nIf your function is lightweight, it doesn&#39;t matter which thread runs your function.\r\n\r\nIf your function is heavy CPU bound, you do not want to leave it to the runtime. If the runtime picks the network thread to run your function, the network thread can&#39;t spend time to handle network requests, causing network requests to wait longer in the queue and your server to become unresponsive. In that case you want to use `thenApplyAsync` with your own thread pool.\r\n\r\n---\r\n\r\n**Fun fact: Asynchrony != threads**\r\n\r\n`thenApply`/`thenApplyAsync`, and their counterparts `thenCompose`/`thenComposeAsync`, `handle`/`handleAsync`, `thenAccept`/`thenAcceptAsync`, are all asynchronous! The asynchronous nature of these function has to do with the fact that an asynchronous operation *eventually* calls `complete` or `completeExceptionally`. The idea came from Javascript, which is indeed asynchronous but isn&#39;t multi-threaded.\r\n","title":"What is the difference between thenApply and thenApplyAsync of Java CompletableFuture?","body":"<p>You're mis-quoting the article's examples, and so you're applying the article's conclusion incorrectly. I see two question in your question:</p>\n<p><strong>What is the correct usage of <code>.then___()</code></strong></p>\n<p>In both examples you quoted, which is not in the article, the second function has to wait for the first function to complete. Whenever you call <code>a.then___(b -&gt; ...)</code>, input <code>b</code> is the result of <code>a</code> and has to wait for <code>a</code> to complete, regardless of whether you use the methods named <code>Async</code> or not. The article's conclusion does not apply because you mis-quoted it.</p>\n<p>The example in the article is actually</p>\n<pre class=\"lang-java prettyprint-override\"><code>CompletableFuture&lt;String&gt; receiver = CompletableFuture.supplyAsync(this::findReceiver);\n\nreceiver.thenApplyAsync(this::sendMsg);  \nreceiver.thenApplyAsync(this::sendMsg);  \n</code></pre>\n<p>Notice the <code>thenApplyAsync</code> both applied on <code>receiver</code>, not chained in the same statement. This means both function can start once <code>receiver</code> completes, in an unspecified order. (Any assumption of order is implementation dependent.)</p>\n<p><strong>To put it more clearly:</strong></p>\n<p><code>a.thenApply(b).thenApply(c);</code> means the order is <code>a</code> finishes then <code>b</code> starts, <code>b</code> finishes, then <code>c</code> starts. <br />\n<code>a.thenApplyAsync(b).thenApplyAsync(c);</code> will behave exactly the same as above as far as the ordering between <code>a</code> <code>b</code> <code>c</code> is concerned.</p>\n<p><code>a.thenApply(b); a.thenApply(c);</code> means <code>a</code> finishes, then <code>b</code> or <code>c</code> can start, in any order. <code>b</code> and <code>c</code> don't have to wait for each other. <br />\n<code>a.thenApplyAync(b); a.thenApplyAsync(c);</code> works the same way, as far as the order is concerned.</p>\n<p>You should understand the above before reading the below. The above concerns asynchronous programming, without it you won't be able to use the APIs correctly. The below concerns thread management, with which you can optimize your program and avoid performance pitfalls. But you can't optimize your program without writing it correctly.</p>\n<hr />\n<p><strong>As titled: Difference between <code>thenApply</code> and <code>thenApplyAsync</code> of Java CompletableFuture?</strong></p>\n<p>I must point out that the people who wrote the JSR must have confused the technical term &quot;Asynchronous Programming&quot;, and picked the names that are now confusing newcomers and veterans alike. To start, there is nothing in <code>thenApplyAsync</code> that is more asynchronous than <code>thenApply</code> from the contract of these methods.</p>\n<p>The difference between the two has to do with on which thread the function is run. The function supplied to <code>thenApply</code> <a href=\"https://stackoverflow.com/a/46060587/2740728\">may run on any of the threads</a> that</p>\n<ol>\n<li>calls <code>complete</code></li>\n<li>calls <code>thenApply</code> on the same instance</li>\n</ol>\n<p>while the 2 overloads of <code>thenApplyAsync</code> either</p>\n<ol>\n<li>uses a default <code>Executor</code> (a.k.a. thread pool), or</li>\n<li>uses a supplied <code>Executor</code></li>\n</ol>\n<p>The take away is that for <code>thenApply</code>, the runtime promises to eventually run your function using some executor which you do not control. If you want control of threads, use the Async variants.</p>\n<p>If your function is lightweight, it doesn't matter which thread runs your function.</p>\n<p>If your function is heavy CPU bound, you do not want to leave it to the runtime. If the runtime picks the network thread to run your function, the network thread can't spend time to handle network requests, causing network requests to wait longer in the queue and your server to become unresponsive. In that case you want to use <code>thenApplyAsync</code> with your own thread pool.</p>\n<hr />\n<p><strong>Fun fact: Asynchrony != threads</strong></p>\n<p><code>thenApply</code>/<code>thenApplyAsync</code>, and their counterparts <code>thenCompose</code>/<code>thenComposeAsync</code>, <code>handle</code>/<code>handleAsync</code>, <code>thenAccept</code>/<code>thenAcceptAsync</code>, are all asynchronous! The asynchronous nature of these function has to do with the fact that an asynchronous operation <em>eventually</em> calls <code>complete</code> or <code>completeExceptionally</code>. The idea came from Javascript, which is indeed asynchronous but isn't multi-threaded.</p>\n"},{"tags":[],"owner":{"account_id":1281146,"reputation":1594,"user_id":1235217,"display_name":"Stefan Feuerhahn"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1565352834,"creation_date":1565346779,"answer_id":57428239,"question_id":47489338,"body_markdown":"The second step (i.e. computation) will always be executed after the first step.\r\n\r\n&gt; If the second step has to wait for the result of the first step then what is the point of Async?\r\n\r\nAsync means in this case that you are guaranteed that the method will return quickly and the computation will be executed in a different thread.\r\n\r\nWhen calling `thenApply` (without async), then you have no such guarantee. In this case the computation may be executed synchronously i.e. in the same thread that calls `thenApply` if the CompletableFuture is already completed by the time the method is called. But the computation may also be executed asynchronously by the thread that completes the future or some other thread that calls a method on the same `CompletableFuture`. This answer: https://stackoverflow.com/a/46062939/1235217 explained in detail what thenApply does and does not guarantee.\r\n\r\nSo when should you use `thenApply` and when `thenApplyAsync`? I use the following rule of thumb:\r\n\r\n- non-async: only if the task is very small and non-blocking, because in this case we don&#39;t care which of the possible threads executes it\r\n- async (often with an explicit executor as parameter): for all other tasks","title":"What is the difference between thenApply and thenApplyAsync of Java CompletableFuture?","body":"<p>The second step (i.e. computation) will always be executed after the first step.</p>\n\n<blockquote>\n  <p>If the second step has to wait for the result of the first step then what is the point of Async?</p>\n</blockquote>\n\n<p>Async means in this case that you are guaranteed that the method will return quickly and the computation will be executed in a different thread.</p>\n\n<p>When calling <code>thenApply</code> (without async), then you have no such guarantee. In this case the computation may be executed synchronously i.e. in the same thread that calls <code>thenApply</code> if the CompletableFuture is already completed by the time the method is called. But the computation may also be executed asynchronously by the thread that completes the future or some other thread that calls a method on the same <code>CompletableFuture</code>. This answer: <a href=\"https://stackoverflow.com/a/46062939/1235217\">https://stackoverflow.com/a/46062939/1235217</a> explained in detail what thenApply does and does not guarantee.</p>\n\n<p>So when should you use <code>thenApply</code> and when <code>thenApplyAsync</code>? I use the following rule of thumb:</p>\n\n<ul>\n<li>non-async: only if the task is very small and non-blocking, because in this case we don't care which of the possible threads executes it</li>\n<li>async (often with an explicit executor as parameter): for all other tasks</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":377533,"reputation":567,"user_id":3435329,"accept_rate":100,"display_name":"DLopes"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1662451263,"creation_date":1662451263,"answer_id":73618648,"question_id":47489338,"body_markdown":"In both `thenApplyAsync` and `thenApply` the `Consumer&lt;? super T&gt; action` passed to these methods will be called asynchronously and will not block the thread that specified the consumers.\r\n\r\nThe difference have to do with which thread will be responsible for calling the method `Consumer#accept(T t)`:\r\n\r\n**Consider an `AsyncHttpClient` call as below:** Notice the thread names printed below. I hope it give you clarity on the difference:\r\n\r\n```\r\n// running in the main method\r\n// public static void main(String[] args) ....\r\n\r\nCompletableFuture&lt;Response&gt; future =\r\n    asyncHttpClient.prepareGet(uri).execute().toCompletableFuture();\r\n\r\nlog.info(&quot;Current Thread &quot; + Thread.currentThread().getName());\r\n\r\n//Prints &quot;Current Thread main&quot;\r\n```\r\n\r\n**`thenApply` Will use the same thread that completed the future.**\r\n```\r\n//will use the dispatcher threads from the asyncHttpClient to call `consumer.apply`\r\n//The thread that completed the future will be blocked by the execution of the method `Consumer#accept(T t)`.\r\nfuture.thenApply(myResult -&gt; {\r\n    log.info(&quot;Applier Thread &quot; + Thread.currentThread().getName());\r\n    return myResult;\r\n})\r\n\r\n//Prints: &quot;Applier Thread httpclient-dispatch-8&quot;\r\n```\r\n\r\n\r\n**`thenApplyAsync` Will use the a thread from the Executor pool.**\r\n\r\n```\r\n//will use the threads from the CommonPool to call `consumer.accept`\r\n//The thread that completed the future WON&#39;T be blocked by the execution of the method `Consumer#accept(T t)`.\r\nfuture.thenApplyAsync(myResult -&gt; {\r\n    log.info(&quot;Applier Thread &quot; + Thread.currentThread().getName());\r\n    return myResult;\r\n})\r\n\r\n//Prints: &quot;Applier Thread ForkJoinPool.commonPool-worker-7&quot;\r\n```\r\n\r\n**`future.get()` Will block the main thread .**\r\n\r\n```\r\n//If called, `.get()` may block the main thread if the CompletableFuture is not completed.\r\nfuture.get();\r\n```\r\n\r\n### Conclusion\r\n\r\nThe `Async` suffix in the method `thenApplyAsync` means that the thread completing the future will not be blocked by the execution of the `Consumer#accept(T t) method`.\r\n\r\nThe usage of `thenApplyAsync` vs `thenApply` depends if you want to block the thread completing the future or not.\r\n\r\n","title":"What is the difference between thenApply and thenApplyAsync of Java CompletableFuture?","body":"<p>In both <code>thenApplyAsync</code> and <code>thenApply</code> the <code>Consumer&lt;? super T&gt; action</code> passed to these methods will be called asynchronously and will not block the thread that specified the consumers.</p>\n<p>The difference have to do with which thread will be responsible for calling the method <code>Consumer#accept(T t)</code>:</p>\n<p><strong>Consider an <code>AsyncHttpClient</code> call as below:</strong> Notice the thread names printed below. I hope it give you clarity on the difference:</p>\n<pre><code>// running in the main method\n// public static void main(String[] args) ....\n\nCompletableFuture&lt;Response&gt; future =\n    asyncHttpClient.prepareGet(uri).execute().toCompletableFuture();\n\nlog.info(&quot;Current Thread &quot; + Thread.currentThread().getName());\n\n//Prints &quot;Current Thread main&quot;\n</code></pre>\n<p><strong><code>thenApply</code> Will use the same thread that completed the future.</strong></p>\n<pre><code>//will use the dispatcher threads from the asyncHttpClient to call `consumer.apply`\n//The thread that completed the future will be blocked by the execution of the method `Consumer#accept(T t)`.\nfuture.thenApply(myResult -&gt; {\n    log.info(&quot;Applier Thread &quot; + Thread.currentThread().getName());\n    return myResult;\n})\n\n//Prints: &quot;Applier Thread httpclient-dispatch-8&quot;\n</code></pre>\n<p><strong><code>thenApplyAsync</code> Will use the a thread from the Executor pool.</strong></p>\n<pre><code>//will use the threads from the CommonPool to call `consumer.accept`\n//The thread that completed the future WON'T be blocked by the execution of the method `Consumer#accept(T t)`.\nfuture.thenApplyAsync(myResult -&gt; {\n    log.info(&quot;Applier Thread &quot; + Thread.currentThread().getName());\n    return myResult;\n})\n\n//Prints: &quot;Applier Thread ForkJoinPool.commonPool-worker-7&quot;\n</code></pre>\n<p><strong><code>future.get()</code> Will block the main thread .</strong></p>\n<pre><code>//If called, `.get()` may block the main thread if the CompletableFuture is not completed.\nfuture.get();\n</code></pre>\n<h3>Conclusion</h3>\n<p>The <code>Async</code> suffix in the method <code>thenApplyAsync</code> means that the thread completing the future will not be blocked by the execution of the <code>Consumer#accept(T t) method</code>.</p>\n<p>The usage of <code>thenApplyAsync</code> vs <code>thenApply</code> depends if you want to block the thread completing the future or not.</p>\n"},{"tags":[],"owner":{"account_id":6187275,"reputation":952,"user_id":4821027,"display_name":"Gautam Tadigoppula"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1688216131,"creation_date":1688216131,"answer_id":76594787,"question_id":47489338,"body_markdown":" - Sync APIs: If results are readily available, it will use current main thread or it will use preceding task thread. We cannot provide executor service, it will use preceding task executor service.\r\n - Async APIs: Task always run on different thread than current running thread. We can also provide our own executor service based on IO or CPU intensive task.\r\n\r\n","title":"What is the difference between thenApply and thenApplyAsync of Java CompletableFuture?","body":"<ul>\n<li>Sync APIs: If results are readily available, it will use current main thread or it will use preceding task thread. We cannot provide executor service, it will use preceding task executor service.</li>\n<li>Async APIs: Task always run on different thread than current running thread. We can also provide our own executor service based on IO or CPU intensive task.</li>\n</ul>\n"}],"owner":{"account_id":11174300,"reputation":1203,"user_id":8200378,"accept_rate":33,"display_name":"Yulin"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":39737,"favorite_count":0,"down_vote_count":0,"up_vote_count":93,"accepted_answer_id":47489654,"answer_count":6,"score":93,"last_activity_date":1688216131,"creation_date":1511635064,"question_id":47489338,"body_markdown":"Suppose I have the following code:\r\n\r\n    CompletableFuture&lt;Integer&gt; future  \r\n            = CompletableFuture.supplyAsync( () -&gt; 0);\r\n\r\n`thenApply` case:\r\n\r\n    future.thenApply( x -&gt; x + 1 )\r\n          .thenApply( x -&gt; x + 1 )\r\n          .thenAccept( x -&gt; System.out.println(x));\r\n\r\nHere the output will be 2. Now in case of `thenApplyAsync`:\r\n\r\n    future.thenApplyAsync( x -&gt; x + 1 )   // first step\r\n          .thenApplyAsync( x -&gt; x + 1 )   // second step\r\n          .thenAccept( x -&gt; System.out.println(x)); // third step\r\n\r\nI read in this [blog][1] that each `thenApplyAsync` are executed in a separate thread and &#39;at the same time&#39;(that means following `thenApplyAsyncs` started before preceding `thenApplyAsyncs` finish), if so, what is the input argument value of the second step if the first step not finished?\r\n\r\nWhere will the result of the first step go if not taken by the second step? \r\nthe third step will take which step&#39;s result?\r\n\r\nIf the second step has to wait for the result of the first step then what is the point of `Async`?\r\n\r\nHere x -&gt; x + 1 is just to show the point, what I want know is in cases of very long computation.\r\n\r\n\r\n  [1]: http://www.deadcoderising.com/java8-writing-asynchronous-code-with-completablefuture/","title":"What is the difference between thenApply and thenApplyAsync of Java CompletableFuture?","body":"<p>Suppose I have the following code:</p>\n\n<pre><code>CompletableFuture&lt;Integer&gt; future  \n        = CompletableFuture.supplyAsync( () -&gt; 0);\n</code></pre>\n\n<p><code>thenApply</code> case:</p>\n\n<pre><code>future.thenApply( x -&gt; x + 1 )\n      .thenApply( x -&gt; x + 1 )\n      .thenAccept( x -&gt; System.out.println(x));\n</code></pre>\n\n<p>Here the output will be 2. Now in case of <code>thenApplyAsync</code>:</p>\n\n<pre><code>future.thenApplyAsync( x -&gt; x + 1 )   // first step\n      .thenApplyAsync( x -&gt; x + 1 )   // second step\n      .thenAccept( x -&gt; System.out.println(x)); // third step\n</code></pre>\n\n<p>I read in this <a href=\"http://www.deadcoderising.com/java8-writing-asynchronous-code-with-completablefuture/\" rel=\"noreferrer\">blog</a> that each <code>thenApplyAsync</code> are executed in a separate thread and 'at the same time'(that means following <code>thenApplyAsyncs</code> started before preceding <code>thenApplyAsyncs</code> finish), if so, what is the input argument value of the second step if the first step not finished?</p>\n\n<p>Where will the result of the first step go if not taken by the second step? \nthe third step will take which step's result?</p>\n\n<p>If the second step has to wait for the result of the first step then what is the point of <code>Async</code>?</p>\n\n<p>Here x -> x + 1 is just to show the point, what I want know is in cases of very long computation.</p>\n"},{"tags":["java","spring","mybatis","rest-assured"],"comments":[{"owner":{"account_id":1314580,"reputation":3299,"user_id":1261766,"display_name":"ave"},"score":0,"creation_date":1687360179,"post_id":76473498,"comment_id":134926645,"body_markdown":"Your MyBatis config XML contains obvious error (`mappersss`), however, as you are using Spring Boot, you should let [mybatis-spring-boot](https://mybatis.org/spring-boot-starter/mybatis-spring-boot-autoconfigure/index.html) detect mappers. Please read the&#160;linked doc. If you are doing something complex, you should read the [mybatis-spring](https://mybatis.org/spring/) doc, too.","body":"Your MyBatis config XML contains obvious error (<code>mappersss</code>), however, as you are using Spring Boot, you should let <a href=\"https://mybatis.org/spring-boot-starter/mybatis-spring-boot-autoconfigure/index.html\" rel=\"nofollow noreferrer\">mybatis-spring-boot</a> detect mappers. Please read the linked doc. If you are doing something complex, you should read the <a href=\"https://mybatis.org/spring/\" rel=\"nofollow noreferrer\">mybatis-spring</a> doc, too."}],"owner":{"account_id":28819835,"reputation":1,"user_id":22072577,"display_name":"Abhijit Patel"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":276,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688215819,"creation_date":1686745424,"question_id":76473498,"body_markdown":"I have created a new API automation code with Cucumber framework using mybatis to connect to a MySQL database. This is my second project using mybatis so I am familiar with it but am getting the following error when I call the save method:\r\n\r\nError I am getting in line of feature file-\r\n\r\n```\r\n When User retrieves data from DB using identifier &quot;&lt;apiIdentifier&gt;&quot;\r\n  | db_expected_obj      |\r\n```\r\n\r\n```\r\nThen the response code should be 200                                                            # com.tangoe.apglapiautomation.stepdefs.CommonStepDefs.verify_response_code_is_something(int)\r\n  When User retrieves data from DB using identifier &quot;v1quotequalifiergetall&quot;                      # com.tangoe.apglapiautomation.stepdefs.DBStepDefs.user_retrieves_data_from_db_using_identifier_something(java.lang.String,java.util.List&lt;java.lang.String&gt;)\r\n    | db_expected_obj |\r\n      org.apache.ibatis.binding.BindingException: Invalid bound statement (not found): com.tangoe.apglapiautomation.db.mapper.QuoteQualifierMapper.getAllQuoteQualifier\r\n\tat org.apache.ibatis.binding.MapperMethod$SqlCommand.&lt;init&gt;(MapperMethod.java:235)\r\n\tat org.apache.ibatis.binding.MapperMethod.&lt;init&gt;(MapperMethod.java:53)\r\n\tat org.apache.ibatis.binding.MapperProxy.lambda$cachedInvoker$0(MapperProxy.java:108)\r\n\tat java.base/java.util.concurrent.ConcurrentHashMap.computeIfAbsent(ConcurrentHashMap.java:1708)\r\n\tat org.apache.ibatis.util.MapUtil.computeIfAbsent(MapUtil.java:35)\r\n\tat org.apache.ibatis.binding.MapperProxy.cachedInvoker(MapperProxy.java:95)\r\n\tat org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:86)\r\n\tat jdk.proxy2/jdk.proxy2.$Proxy85.getAllQuoteQualifier(Unknown Source)\r\n\tat com.tangoe.apglapiautomation.db.DBBatis.v1quotequalifiergetallExpected(DBBatis.java:74)\r\n\tat com.tangoe.apglapiautomation.stepdefs.DBStepDefs.user_retrieves_data_from_db_using_identifier_something(DBStepDefs.java:61)\r\n\tat ✽.User retrieves data from DB using identifier &quot;v1quotequalifiergetall&quot;(file:///C:/Central_Apgl/tp_central_apgl/testAutomation/src/test/resources/features/quotequalifier.feature:9)\r\n```\r\n\r\n\r\nFeature file-\r\n\r\n```\r\n@v1 @Quotequalifier @getall @positive @testing\r\n  Scenario Outline: 01 Get Quotequalifier Info with &quot;&lt;case&gt;&quot;\r\n    Given a request with standard headers\r\n    When the user sends a GET request to the endpoint &quot;&lt;endpoint&gt;&quot;\r\n      | api_response_body | items |\r\n    Then the response code should be 200\r\n   When User retrieves data from DB using identifier &quot;&lt;apiIdentifier&gt;&quot;\r\n  | db_expected_obj      |\r\n#  Then Compare two stored variables\r\n  #    | api_response_body | db_expected_obj |\r\n  #  And Verify meta info using identifier &quot;&lt;apiIdentifier&gt;&quot;\r\n\r\n    Examples: \r\n      | case                                                                  | apiIdentifier          | endpoint                                                                                                                     |\r\n     # | positive case - Filter by quoteQualifierId                            | v1quotequalifiergetall | /apglmanager/api/v1/quoteQualifiers?limit=10&amp;quoteQualifierId={{items[1].id}}                                           |\r\n       #| positive case - Filter by quoteQualifierName                          | v1quotequalifiergetall | /apglmanager/api/v1/quoteQualifiers?limit=10&amp;quoteQualifierName={{items[1].name}}                                 |\r\n       #| positive case - Filter by quoteQualifier with special character       | v1quotequalifiergetall | /apglmanager/api/v1/quoteQualifiers?limit=10&amp;quoteQualifier={{items[1].quoteQualifier}}                                |\r\n       #| positive case - Filter by quoteQualifier with partial match           | v1quotequalifiergetall | /apglmanager/api/v1/quoteQualifiers?limit=10&amp;quoteQualifier=like|&#39;                                             |\r\n       #| positive case - Offset by 2                                           | v1quotequalifiergetall | /apglmanager/api/v1/quoteQualifiers?limit=1&amp;offset=0&amp;quoteQualifierId={{items[3].id}}                        |\r\n```\r\n\r\nStep definition file-other common step definition file is working\r\n\r\ndbstep definition file\r\n\r\n```\r\npackage com.tangoe.apglapiautomation.stepdefs;\r\n\r\nimport com.tangoe.apglapiautomation.db.DBBatis;\r\nimport com.tangoe.cucumberbot.api.ApiDataUtil;\r\nimport com.tangoe.cucumberbot.api.TestDataUtil;\r\n\r\nimport io.cucumber.datatable.DataTable;\r\nimport io.cucumber.java.en.And;\r\nimport io.cucumber.java.en.Then;\r\nimport org.apache.commons.lang3.StringUtils;\r\nimport org.json.JSONArray;\r\nimport org.json.JSONObject;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.testng.Assert;\r\n\r\nimport java.util.HashMap;\r\nimport java.util.List;\r\nimport java.util.Map;\r\n\r\npublic class DBStepDefs {\r\n\r\n\t@Autowired\r\n\tprivate ApiDataUtil apiDataUtil;\r\n\r\n\t@Autowired\r\n\tprivate TestDataUtil testDataUtil;\r\n\r\n\t@Autowired\r\n\tprivate DBBatis dBBatis;\r\n\r\n\t@And(&quot;^User retrieves data from DB using identifier \\&quot;([^\\&quot;]*)\\&quot;$&quot;)\r\n\tpublic void user_retrieves_data_from_db_using_identifier_something(String identifier, List&lt;String&gt; details)\r\n\t\t\tthrows Throwable {\r\n\t\tString saveRecordsInKey = details.get(0);\r\n\t\tString getResponseKey = null;\r\n\t\tif (details.size() &gt; 1) {\r\n\t\t\tgetResponseKey = details.get(1);\r\n\t\t}\r\n\t\tHashMap&lt;String, Object&gt; saveMap = new HashMap&lt;&gt;();\r\n\r\n\t\tif (identifier.equals(&quot;v2currenciesgetall&quot;)) {\r\n\t\t\t/*List&lt;Map&lt;String, Object&gt;&gt; currencies = dBBatis.v2getAllCurrencyExpected();\r\n\t\t\tsaveMap.put(saveRecordsInKey, currencies);*/\r\n\t\t} else if (identifier.equals(&quot;v2currenciesget&quot;)) {\r\n\t\t\t/*Map&lt;String, Object&gt; currency = dBBatis.v2getAllCurrencyByIdExpected();\r\n\t\t\tsaveMap.put(saveRecordsInKey, currency);*/\r\n\t\t} else if (identifier.equals(&quot;v2countriesgetall&quot;)) {\r\n\t\t\t/*List&lt;Map&lt;String, Object&gt;&gt; countries = dBBatis.v2getAllCountryExpected();\r\n\t\t\tsaveMap.put(saveRecordsInKey, countries);*/\r\n\t\t} else if (identifier.equals(&quot;v2countriesget&quot;)) {\r\n\t\t\t/*Map&lt;String, Object&gt; country = dBBatis.v2getAllCountryByIdExpected();\r\n\t\t\tsaveMap.put(saveRecordsInKey, country);*/\r\n\t\t} else if (identifier.equals(&quot;v2vendorsgetall&quot;)) {\r\n\t\t\t/*List&lt;Map&lt;String, Object&gt;&gt; countries = dBBatis.v2getAllVendorExpected();\r\n\t\t\tsaveMap.put(saveRecordsInKey, countries);*/\r\n\t\t} else if (identifier.equals(&quot;v2getDeliveryMethodsByIdget&quot;)) {\r\n\t\t\t\t/*Map&lt;String, Object&gt; deliveryMethod = dBBatis.v2getDeliveryMethodsByIdExpected();\r\n\t\t\t\tsaveMap.put(saveRecordsInKey, deliveryMethod);*/\r\n\t\t\t}\r\n\t\telse if (identifier.equals(&quot;v1quotequalifiergetall&quot;)) {\r\n\t\tList&lt;Map&lt;String, Object&gt;&gt; countries = dBBatis.v1quotequalifiergetallExpected();\r\n\t\tsaveMap.put(saveRecordsInKey, countries);\r\n\t\t}\r\n\t\t\r\n\t\t \r\n\t\tapiDataUtil.setScenarioData(saveMap);\r\n\t}\r\n```\r\n\r\nMybatis file-\r\n\r\n```\r\npackage com.tangoe.apglapiautomation.db;\r\n\r\nimport com.fasterxml.jackson.core.type.TypeReference;\r\nimport com.fasterxml.jackson.databind.ObjectMapper;\r\nimport com.tangoe.apglapiautomation.db.filter.CostCenterFilter;\r\nimport com.tangoe.apglapiautomation.db.filter.QuoteQualifierFilter;\r\nimport com.tangoe.apglapiautomation.db.mapper.QuoteQualifierMapper;\r\nimport com.tangoe.apglapiautomation.db.mapper.CostCenterMapper;\r\nimport com.tangoe.apglapiautomation.db.mapper.TenantMapper;\r\nimport com.tangoe.apglapiautomation.db.pojo.Tenant;\r\nimport com.tangoe.cucumberbot.api.TestDataUtil;\r\nimport io.cucumber.datatable.DataTable;\r\nimport org.apache.commons.lang3.RandomStringUtils;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.stereotype.Component;\r\nimport com.tangoe.cucumberbot.api.ApiDataUtil;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.HashMap;\r\nimport java.util.List;\r\nimport java.util.Map;\r\n\r\n@Component\r\npublic class DBBatis {\r\n\t\r\n\t@Autowired\r\n\tprivate CostCenterMapper costCenterMapper;\r\n\r\n\t@Autowired\r\n\tprivate TenantMapper tenantMapper;\r\n\t\r\n\t@Autowired\r\n\tprivate QuoteQualifierMapper quoteQualifierMapper;\r\n\t\r\n\t@Autowired\r\n\tprivate ApiDataUtil apiDataUtil;\r\n\t\r\n\tprivate CostCenterFilter getCostCenterFilter() {\r\n\t\tCostCenterFilter costCenterFilter = new CostCenterFilter();\r\n\t\treturn costCenterFilter;\r\n\t}\r\n\t\r\n\tpublic Long getCostCenterCount() {\r\n\t\treturn costCenterMapper.getAllCostCenterCount(getCostCenterFilter());\r\n\t}\r\n\t\r\n\t/*private QuoteQualifierFilter getQuoteQualifierFilter() {\r\n\t\tQuoteQualifierFilter QuoteQualifierFilter = new QuoteQualifierFilter();\r\n\t\treturn QuoteQualifierFilter;\r\n\t}*/\r\n\t\r\n\tpublic Long getQuoteQualifierCount() {\r\n\t\treturn quoteQualifierMapper.getAllQuoteQualifierCount(getQuoteQualifierFilter());\r\n\t}\r\n\t\r\n\t/// quote qualifier\r\n\t\r\n\tprivate QuoteQualifierFilter getQuoteQualifierFilter() {\r\n\t\tQuoteQualifierFilter quoteQualifierFilter = new QuoteQualifierFilter();\r\n\t\tHashMap&lt;String, String&gt; paramsMap = quoteQualifierFilter.getParamsFromEndpoint(apiDataUtil.getEndPoint());\r\n\t\t\r\n\t\tif(paramsMap.containsKey(&quot;quoteQualifierId&quot;)) {\r\n\t\t\tquoteQualifierFilter.setquoteQualifierId(Long.parseLong(paramsMap.get(&quot;quoteQualifierId&quot;)));\r\n\t\t}\r\n\t\tif(paramsMap.containsKey(&quot;name&quot;)) {\r\n\t\t\tquoteQualifierFilter.setName(paramsMap.get(&quot;name&quot;));\r\n\t\t}\r\n\r\n\t\treturn quoteQualifierFilter;\r\n\t}\r\n\t\r\n\tpublic List&lt;Map&lt;String, Object&gt;&gt; v1quotequalifiergetallExpected() {\r\n\t\tObjectMapper mapper = new ObjectMapper();\r\n\t\tList&lt;Map&lt;String, Object&gt;&gt; quotequalifier = mapper.convertValue(quoteQualifierMapper.getAllQuoteQualifier(getQuoteQualifierFilter() ), new TypeReference&lt;List&lt;Map&lt;String, Object&gt;&gt;&gt;() {});\r\n\t\treturn quotequalifier;\r\n\t}\r\n\r\n\tpublic List&lt;Map&lt;String, Object&gt;&gt; insertTenantRecords(DataTable dataTable) {\r\n\r\n\t\tList&lt;List&lt;String&gt;&gt; dataToCreate = dataTable.asLists();\r\n\r\n\t\tList&lt;Map&lt;String, Object&gt;&gt; createdData = new ArrayList&lt;&gt;();\r\n\t\tfor(List&lt;String&gt; eachRow : dataToCreate) {\r\n\t\t\tString randomNumber = RandomStringUtils.randomNumeric(6);\r\n\t\t\tTenant tenant = new Tenant();\r\n\t\t\ttenant.setShortName(eachRow.get(0)+randomNumber);\r\n\t\t\ttenant.setName(eachRow.get(1)+randomNumber);\r\n\t\t\ttenant.setUpperName(eachRow.get(2)+randomNumber);\r\n\t\t\ttenant.setStatus(eachRow.get(3));\r\n\t\t\ttenantMapper.insertTenant(tenant);\r\n\t\t\tObjectMapper mapper = new ObjectMapper();\r\n\t\t\tMap&lt;String, Object&gt; createdTenant = mapper.convertValue(tenant, new TypeReference&lt;Map&lt;String, Object&gt;&gt;() {});\r\n\t\t\tcreatedTenant.put(TestDataUtil.dataCreatedFlagName, true);\r\n\t\t\tcreatedTenant.put(TestDataUtil.testDataFlagName, true);\r\n\t\t\tcreatedData.add(createdTenant);\r\n\t\t}\r\n\r\n\t\treturn createdData;\r\n\t}\r\n}\r\n```\r\n\r\nmapper xml file\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;!DOCTYPE mapper PUBLIC &quot;-//mybatis.org//DTD Mapper 3.0//EN&quot; &quot;http://mybatis.org/dtd/mybatis-3-mapper.dtd&quot;&gt;\r\n&lt;mapper namespace=&quot;com.tangoe.apglapiautomation.db.mapper.QuoteQualifierMapper&quot;&gt;\r\n\r\n    &lt;resultMap id=&quot;quoteQualifierResultMap&quot; type=&quot;com.tangoe.apglapiautomation.db.pojo.QuoteQualifier&quot;&gt;\r\n        &lt;id property=&quot;id&quot; column=&quot;id&quot;/&gt;\r\n        &lt;result property=&quot;name&quot; column=&quot;name&quot;/&gt;\r\n        &lt;result property=&quot;quoteQualifier&quot; column=&quot;quote_qualifier&quot;/&gt;\r\n        &lt;result property=&quot;created&quot; column=&quot;created&quot;/&gt;\r\n        &lt;result property=&quot;createdBy&quot; column=&quot;created_by&quot;/&gt;\r\n    &lt;/resultMap&gt;\r\n    \r\n    &lt;select id=&quot;getAllQuoteQualifier&quot; resultMap=&quot;quoteQualifierResultMap&quot; parameterType=&quot;com.tangoe.apglapiautomation.db.filter.QuoteQualifierFilter&quot;&gt;\r\n        SELECT id, name, quoteQualifier, created, createdBy\r\n        FROM quote_qualifier\r\n    &lt;/select&gt;\r\n    \r\n&lt;/mapper&gt;\r\n```\r\n\r\npom.xml file\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.7.7&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.tangoe&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;apglapiautomation&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;packaging&gt;war&lt;/packaging&gt;\r\n\t&lt;name&gt;apglapiautomation&lt;/name&gt;\r\n\t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;11&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.mybatis.spring.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mybatis-spring-boot-starter&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.3.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;exclusions&gt;\r\n\t\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t\t&lt;groupId&gt;com.vaadin.external.google&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;android-json&lt;/artifactId&gt;\r\n\t\t\t\t&lt;/exclusion&gt;\r\n\t\t\t&lt;/exclusions&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.tangoe&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;cucumberbot&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.0.18&lt;/version&gt;\r\n\t\t\t&lt;exclusions&gt;\r\n\t\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t\t&lt;groupId&gt;xml-apis&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;xml-apis&lt;/artifactId&gt;\r\n\t\t\t\t&lt;/exclusion&gt;\r\n\t\t\t&lt;/exclusions&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t            &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n\t            &lt;artifactId&gt;build-helper-maven-plugin&lt;/artifactId&gt;\r\n\t            &lt;executions&gt;\r\n\t                &lt;execution&gt;\r\n\t                    &lt;id&gt;timestamp-property&lt;/id&gt;\r\n\t                    &lt;goals&gt;\r\n\t                        &lt;goal&gt;timestamp-property&lt;/goal&gt;\r\n\t                    &lt;/goals&gt;\r\n\t                    &lt;configuration&gt;\r\n\t                        &lt;name&gt;build.time&lt;/name&gt;\r\n\t                        &lt;pattern&gt;dd-MM-yyyy_HH-mm-ss&lt;/pattern&gt;\r\n\t                        &lt;locale&gt;en_US&lt;/locale&gt;\r\n\t                        &lt;timeZone&gt;IST&lt;/timeZone&gt;\r\n\t                        &lt;!-- timeZone&gt;EST5EDT&lt;/timeZone--&gt;\r\n\t                    &lt;/configuration&gt;\r\n\t                &lt;/execution&gt;\r\n\t            &lt;/executions&gt;\r\n\t        &lt;/plugin&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;testFailureIgnore&gt;true&lt;/testFailureIgnore&gt;\r\n\t\t\t\t\t&lt;properties&gt;\r\n\t\t\t\t\t\t&lt;property&gt;\r\n\t\t\t\t\t\t\t&lt;name&gt;usedefaultlisteners&lt;/name&gt;\r\n\t\t\t\t\t\t\t&lt;value&gt;false&lt;/value&gt;\r\n\t\t\t\t\t\t&lt;/property&gt;\r\n\t\t\t\t\t\t&lt;property&gt;\r\n\t\t\t\t\t\t\t&lt;name&gt;listener&lt;/name&gt;\r\n\t\t\t\t\t\t\t&lt;value&gt;com.tangoe.cucumberbot.listeners.SuitesSummaryReport&lt;/value&gt;\r\n\t\t\t\t\t\t&lt;/property&gt;\r\n\t\t\t\t\t&lt;/properties&gt;\r\n\t\t\t\t\t&lt;suiteXmlFiles&gt;\r\n\t\t\t\t\t\t&lt;suiteXmlFiles&gt;${testSuite}&lt;/suiteXmlFiles&gt;\r\n\t\t\t\t\t&lt;/suiteXmlFiles&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\n\r\nmapper interface file\r\n\r\n```\r\npackage com.tangoe.apglapiautomation.db.mapper;\r\n\r\nimport java.util.List;\r\n\r\nimport com.tangoe.apglapiautomation.db.filter.QuoteQualifierFilter;\r\nimport com.tangoe.apglapiautomation.db.pojo.QuoteQualifier;\r\n\r\npublic interface QuoteQualifierMapper {\r\n\t\r\n\tList&lt;QuoteQualifier&gt; getAllQuoteQualifier(QuoteQualifierFilter quoteQualifierFilter);\r\n\t\r\n\tQuoteQualifier getAllQuoteQualifierById(Long quoteQualifierId);\r\n\t\r\n\tLong getAllQuoteQualifierCount(QuoteQualifierFilter quoteQualifierFilter);\r\n}\r\n```\r\n\r\nmybatis config file\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;\r\n&lt;!DOCTYPE configuration\r\n        PUBLIC &quot;-//mybatis.org//DTD Config 3.0//EN&quot;\r\n        &quot;http://mybatis.org/dtd/mybatis-3-config.dtd&quot;&gt;\r\n&lt;configuration&gt;\r\n\t\r\n\t&lt;mappers&gt;\r\n\t\t&lt;mapper resource=&quot;mappersss/QuoteQualifierMapper.xml&quot; /&gt;\r\n\t\t&lt;/mappers&gt;\r\n&lt;/configura\r\n```\r\n\r\nI want to run  line of feature file code","title":"Mybatis- Invalid bound statement (not found):","body":"<p>I have created a new API automation code with Cucumber framework using mybatis to connect to a MySQL database. This is my second project using mybatis so I am familiar with it but am getting the following error when I call the save method:</p>\n<p>Error I am getting in line of feature file-</p>\n<pre><code> When User retrieves data from DB using identifier &quot;&lt;apiIdentifier&gt;&quot;\n  | db_expected_obj      |\n</code></pre>\n<pre><code>Then the response code should be 200                                                            # com.tangoe.apglapiautomation.stepdefs.CommonStepDefs.verify_response_code_is_something(int)\n  When User retrieves data from DB using identifier &quot;v1quotequalifiergetall&quot;                      # com.tangoe.apglapiautomation.stepdefs.DBStepDefs.user_retrieves_data_from_db_using_identifier_something(java.lang.String,java.util.List&lt;java.lang.String&gt;)\n    | db_expected_obj |\n      org.apache.ibatis.binding.BindingException: Invalid bound statement (not found): com.tangoe.apglapiautomation.db.mapper.QuoteQualifierMapper.getAllQuoteQualifier\n    at org.apache.ibatis.binding.MapperMethod$SqlCommand.&lt;init&gt;(MapperMethod.java:235)\n    at org.apache.ibatis.binding.MapperMethod.&lt;init&gt;(MapperMethod.java:53)\n    at org.apache.ibatis.binding.MapperProxy.lambda$cachedInvoker$0(MapperProxy.java:108)\n    at java.base/java.util.concurrent.ConcurrentHashMap.computeIfAbsent(ConcurrentHashMap.java:1708)\n    at org.apache.ibatis.util.MapUtil.computeIfAbsent(MapUtil.java:35)\n    at org.apache.ibatis.binding.MapperProxy.cachedInvoker(MapperProxy.java:95)\n    at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:86)\n    at jdk.proxy2/jdk.proxy2.$Proxy85.getAllQuoteQualifier(Unknown Source)\n    at com.tangoe.apglapiautomation.db.DBBatis.v1quotequalifiergetallExpected(DBBatis.java:74)\n    at com.tangoe.apglapiautomation.stepdefs.DBStepDefs.user_retrieves_data_from_db_using_identifier_something(DBStepDefs.java:61)\n    at ✽.User retrieves data from DB using identifier &quot;v1quotequalifiergetall&quot;(file:///C:/Central_Apgl/tp_central_apgl/testAutomation/src/test/resources/features/quotequalifier.feature:9)\n</code></pre>\n<p>Feature file-</p>\n<pre><code>@v1 @Quotequalifier @getall @positive @testing\n  Scenario Outline: 01 Get Quotequalifier Info with &quot;&lt;case&gt;&quot;\n    Given a request with standard headers\n    When the user sends a GET request to the endpoint &quot;&lt;endpoint&gt;&quot;\n      | api_response_body | items |\n    Then the response code should be 200\n   When User retrieves data from DB using identifier &quot;&lt;apiIdentifier&gt;&quot;\n  | db_expected_obj      |\n#  Then Compare two stored variables\n  #    | api_response_body | db_expected_obj |\n  #  And Verify meta info using identifier &quot;&lt;apiIdentifier&gt;&quot;\n\n    Examples: \n      | case                                                                  | apiIdentifier          | endpoint                                                                                                                     |\n     # | positive case - Filter by quoteQualifierId                            | v1quotequalifiergetall | /apglmanager/api/v1/quoteQualifiers?limit=10&amp;quoteQualifierId={{items[1].id}}                                           |\n       #| positive case - Filter by quoteQualifierName                          | v1quotequalifiergetall | /apglmanager/api/v1/quoteQualifiers?limit=10&amp;quoteQualifierName={{items[1].name}}                                 |\n       #| positive case - Filter by quoteQualifier with special character       | v1quotequalifiergetall | /apglmanager/api/v1/quoteQualifiers?limit=10&amp;quoteQualifier={{items[1].quoteQualifier}}                                |\n       #| positive case - Filter by quoteQualifier with partial match           | v1quotequalifiergetall | /apglmanager/api/v1/quoteQualifiers?limit=10&amp;quoteQualifier=like|'                                             |\n       #| positive case - Offset by 2                                           | v1quotequalifiergetall | /apglmanager/api/v1/quoteQualifiers?limit=1&amp;offset=0&amp;quoteQualifierId={{items[3].id}}                        |\n</code></pre>\n<p>Step definition file-other common step definition file is working</p>\n<p>dbstep definition file</p>\n<pre><code>package com.tangoe.apglapiautomation.stepdefs;\n\nimport com.tangoe.apglapiautomation.db.DBBatis;\nimport com.tangoe.cucumberbot.api.ApiDataUtil;\nimport com.tangoe.cucumberbot.api.TestDataUtil;\n\nimport io.cucumber.datatable.DataTable;\nimport io.cucumber.java.en.And;\nimport io.cucumber.java.en.Then;\nimport org.apache.commons.lang3.StringUtils;\nimport org.json.JSONArray;\nimport org.json.JSONObject;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.testng.Assert;\n\nimport java.util.HashMap;\nimport java.util.List;\nimport java.util.Map;\n\npublic class DBStepDefs {\n\n    @Autowired\n    private ApiDataUtil apiDataUtil;\n\n    @Autowired\n    private TestDataUtil testDataUtil;\n\n    @Autowired\n    private DBBatis dBBatis;\n\n    @And(&quot;^User retrieves data from DB using identifier \\&quot;([^\\&quot;]*)\\&quot;$&quot;)\n    public void user_retrieves_data_from_db_using_identifier_something(String identifier, List&lt;String&gt; details)\n            throws Throwable {\n        String saveRecordsInKey = details.get(0);\n        String getResponseKey = null;\n        if (details.size() &gt; 1) {\n            getResponseKey = details.get(1);\n        }\n        HashMap&lt;String, Object&gt; saveMap = new HashMap&lt;&gt;();\n\n        if (identifier.equals(&quot;v2currenciesgetall&quot;)) {\n            /*List&lt;Map&lt;String, Object&gt;&gt; currencies = dBBatis.v2getAllCurrencyExpected();\n            saveMap.put(saveRecordsInKey, currencies);*/\n        } else if (identifier.equals(&quot;v2currenciesget&quot;)) {\n            /*Map&lt;String, Object&gt; currency = dBBatis.v2getAllCurrencyByIdExpected();\n            saveMap.put(saveRecordsInKey, currency);*/\n        } else if (identifier.equals(&quot;v2countriesgetall&quot;)) {\n            /*List&lt;Map&lt;String, Object&gt;&gt; countries = dBBatis.v2getAllCountryExpected();\n            saveMap.put(saveRecordsInKey, countries);*/\n        } else if (identifier.equals(&quot;v2countriesget&quot;)) {\n            /*Map&lt;String, Object&gt; country = dBBatis.v2getAllCountryByIdExpected();\n            saveMap.put(saveRecordsInKey, country);*/\n        } else if (identifier.equals(&quot;v2vendorsgetall&quot;)) {\n            /*List&lt;Map&lt;String, Object&gt;&gt; countries = dBBatis.v2getAllVendorExpected();\n            saveMap.put(saveRecordsInKey, countries);*/\n        } else if (identifier.equals(&quot;v2getDeliveryMethodsByIdget&quot;)) {\n                /*Map&lt;String, Object&gt; deliveryMethod = dBBatis.v2getDeliveryMethodsByIdExpected();\n                saveMap.put(saveRecordsInKey, deliveryMethod);*/\n            }\n        else if (identifier.equals(&quot;v1quotequalifiergetall&quot;)) {\n        List&lt;Map&lt;String, Object&gt;&gt; countries = dBBatis.v1quotequalifiergetallExpected();\n        saveMap.put(saveRecordsInKey, countries);\n        }\n        \n         \n        apiDataUtil.setScenarioData(saveMap);\n    }\n</code></pre>\n<p>Mybatis file-</p>\n<pre><code>package com.tangoe.apglapiautomation.db;\n\nimport com.fasterxml.jackson.core.type.TypeReference;\nimport com.fasterxml.jackson.databind.ObjectMapper;\nimport com.tangoe.apglapiautomation.db.filter.CostCenterFilter;\nimport com.tangoe.apglapiautomation.db.filter.QuoteQualifierFilter;\nimport com.tangoe.apglapiautomation.db.mapper.QuoteQualifierMapper;\nimport com.tangoe.apglapiautomation.db.mapper.CostCenterMapper;\nimport com.tangoe.apglapiautomation.db.mapper.TenantMapper;\nimport com.tangoe.apglapiautomation.db.pojo.Tenant;\nimport com.tangoe.cucumberbot.api.TestDataUtil;\nimport io.cucumber.datatable.DataTable;\nimport org.apache.commons.lang3.RandomStringUtils;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Component;\nimport com.tangoe.cucumberbot.api.ApiDataUtil;\n\nimport java.util.ArrayList;\nimport java.util.HashMap;\nimport java.util.List;\nimport java.util.Map;\n\n@Component\npublic class DBBatis {\n    \n    @Autowired\n    private CostCenterMapper costCenterMapper;\n\n    @Autowired\n    private TenantMapper tenantMapper;\n    \n    @Autowired\n    private QuoteQualifierMapper quoteQualifierMapper;\n    \n    @Autowired\n    private ApiDataUtil apiDataUtil;\n    \n    private CostCenterFilter getCostCenterFilter() {\n        CostCenterFilter costCenterFilter = new CostCenterFilter();\n        return costCenterFilter;\n    }\n    \n    public Long getCostCenterCount() {\n        return costCenterMapper.getAllCostCenterCount(getCostCenterFilter());\n    }\n    \n    /*private QuoteQualifierFilter getQuoteQualifierFilter() {\n        QuoteQualifierFilter QuoteQualifierFilter = new QuoteQualifierFilter();\n        return QuoteQualifierFilter;\n    }*/\n    \n    public Long getQuoteQualifierCount() {\n        return quoteQualifierMapper.getAllQuoteQualifierCount(getQuoteQualifierFilter());\n    }\n    \n    /// quote qualifier\n    \n    private QuoteQualifierFilter getQuoteQualifierFilter() {\n        QuoteQualifierFilter quoteQualifierFilter = new QuoteQualifierFilter();\n        HashMap&lt;String, String&gt; paramsMap = quoteQualifierFilter.getParamsFromEndpoint(apiDataUtil.getEndPoint());\n        \n        if(paramsMap.containsKey(&quot;quoteQualifierId&quot;)) {\n            quoteQualifierFilter.setquoteQualifierId(Long.parseLong(paramsMap.get(&quot;quoteQualifierId&quot;)));\n        }\n        if(paramsMap.containsKey(&quot;name&quot;)) {\n            quoteQualifierFilter.setName(paramsMap.get(&quot;name&quot;));\n        }\n\n        return quoteQualifierFilter;\n    }\n    \n    public List&lt;Map&lt;String, Object&gt;&gt; v1quotequalifiergetallExpected() {\n        ObjectMapper mapper = new ObjectMapper();\n        List&lt;Map&lt;String, Object&gt;&gt; quotequalifier = mapper.convertValue(quoteQualifierMapper.getAllQuoteQualifier(getQuoteQualifierFilter() ), new TypeReference&lt;List&lt;Map&lt;String, Object&gt;&gt;&gt;() {});\n        return quotequalifier;\n    }\n\n    public List&lt;Map&lt;String, Object&gt;&gt; insertTenantRecords(DataTable dataTable) {\n\n        List&lt;List&lt;String&gt;&gt; dataToCreate = dataTable.asLists();\n\n        List&lt;Map&lt;String, Object&gt;&gt; createdData = new ArrayList&lt;&gt;();\n        for(List&lt;String&gt; eachRow : dataToCreate) {\n            String randomNumber = RandomStringUtils.randomNumeric(6);\n            Tenant tenant = new Tenant();\n            tenant.setShortName(eachRow.get(0)+randomNumber);\n            tenant.setName(eachRow.get(1)+randomNumber);\n            tenant.setUpperName(eachRow.get(2)+randomNumber);\n            tenant.setStatus(eachRow.get(3));\n            tenantMapper.insertTenant(tenant);\n            ObjectMapper mapper = new ObjectMapper();\n            Map&lt;String, Object&gt; createdTenant = mapper.convertValue(tenant, new TypeReference&lt;Map&lt;String, Object&gt;&gt;() {});\n            createdTenant.put(TestDataUtil.dataCreatedFlagName, true);\n            createdTenant.put(TestDataUtil.testDataFlagName, true);\n            createdData.add(createdTenant);\n        }\n\n        return createdData;\n    }\n}\n</code></pre>\n<p>mapper xml file</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;!DOCTYPE mapper PUBLIC &quot;-//mybatis.org//DTD Mapper 3.0//EN&quot; &quot;http://mybatis.org/dtd/mybatis-3-mapper.dtd&quot;&gt;\n&lt;mapper namespace=&quot;com.tangoe.apglapiautomation.db.mapper.QuoteQualifierMapper&quot;&gt;\n\n    &lt;resultMap id=&quot;quoteQualifierResultMap&quot; type=&quot;com.tangoe.apglapiautomation.db.pojo.QuoteQualifier&quot;&gt;\n        &lt;id property=&quot;id&quot; column=&quot;id&quot;/&gt;\n        &lt;result property=&quot;name&quot; column=&quot;name&quot;/&gt;\n        &lt;result property=&quot;quoteQualifier&quot; column=&quot;quote_qualifier&quot;/&gt;\n        &lt;result property=&quot;created&quot; column=&quot;created&quot;/&gt;\n        &lt;result property=&quot;createdBy&quot; column=&quot;created_by&quot;/&gt;\n    &lt;/resultMap&gt;\n    \n    &lt;select id=&quot;getAllQuoteQualifier&quot; resultMap=&quot;quoteQualifierResultMap&quot; parameterType=&quot;com.tangoe.apglapiautomation.db.filter.QuoteQualifierFilter&quot;&gt;\n        SELECT id, name, quoteQualifier, created, createdBy\n        FROM quote_qualifier\n    &lt;/select&gt;\n    \n&lt;/mapper&gt;\n</code></pre>\n<p>pom.xml file</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.7.7&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.tangoe&lt;/groupId&gt;\n    &lt;artifactId&gt;apglapiautomation&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;packaging&gt;war&lt;/packaging&gt;\n    &lt;name&gt;apglapiautomation&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;11&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.mybatis.spring.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;mybatis-spring-boot-starter&lt;/artifactId&gt;\n            &lt;version&gt;2.3.0&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;com.vaadin.external.google&lt;/groupId&gt;\n                    &lt;artifactId&gt;android-json&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n        \n        &lt;dependency&gt;\n            &lt;groupId&gt;com.tangoe&lt;/groupId&gt;\n            &lt;artifactId&gt;cucumberbot&lt;/artifactId&gt;\n            &lt;version&gt;3.0.18&lt;/version&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;xml-apis&lt;/groupId&gt;\n                    &lt;artifactId&gt;xml-apis&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n                &lt;artifactId&gt;build-helper-maven-plugin&lt;/artifactId&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;timestamp-property&lt;/id&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;timestamp-property&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;name&gt;build.time&lt;/name&gt;\n                            &lt;pattern&gt;dd-MM-yyyy_HH-mm-ss&lt;/pattern&gt;\n                            &lt;locale&gt;en_US&lt;/locale&gt;\n                            &lt;timeZone&gt;IST&lt;/timeZone&gt;\n                            &lt;!-- timeZone&gt;EST5EDT&lt;/timeZone--&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;testFailureIgnore&gt;true&lt;/testFailureIgnore&gt;\n                    &lt;properties&gt;\n                        &lt;property&gt;\n                            &lt;name&gt;usedefaultlisteners&lt;/name&gt;\n                            &lt;value&gt;false&lt;/value&gt;\n                        &lt;/property&gt;\n                        &lt;property&gt;\n                            &lt;name&gt;listener&lt;/name&gt;\n                            &lt;value&gt;com.tangoe.cucumberbot.listeners.SuitesSummaryReport&lt;/value&gt;\n                        &lt;/property&gt;\n                    &lt;/properties&gt;\n                    &lt;suiteXmlFiles&gt;\n                        &lt;suiteXmlFiles&gt;${testSuite}&lt;/suiteXmlFiles&gt;\n                    &lt;/suiteXmlFiles&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>mapper interface file</p>\n<pre><code>package com.tangoe.apglapiautomation.db.mapper;\n\nimport java.util.List;\n\nimport com.tangoe.apglapiautomation.db.filter.QuoteQualifierFilter;\nimport com.tangoe.apglapiautomation.db.pojo.QuoteQualifier;\n\npublic interface QuoteQualifierMapper {\n    \n    List&lt;QuoteQualifier&gt; getAllQuoteQualifier(QuoteQualifierFilter quoteQualifierFilter);\n    \n    QuoteQualifier getAllQuoteQualifierById(Long quoteQualifierId);\n    \n    Long getAllQuoteQualifierCount(QuoteQualifierFilter quoteQualifierFilter);\n}\n</code></pre>\n<p>mybatis config file</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;\n&lt;!DOCTYPE configuration\n        PUBLIC &quot;-//mybatis.org//DTD Config 3.0//EN&quot;\n        &quot;http://mybatis.org/dtd/mybatis-3-config.dtd&quot;&gt;\n&lt;configuration&gt;\n    \n    &lt;mappers&gt;\n        &lt;mapper resource=&quot;mappersss/QuoteQualifierMapper.xml&quot; /&gt;\n        &lt;/mappers&gt;\n&lt;/configura\n</code></pre>\n<p>I want to run  line of feature file code</p>\n"},{"tags":["java","jmh"],"answers":[{"tags":[],"owner":{"account_id":17228781,"reputation":3548,"user_id":12473843,"display_name":"Sergey Tsypanov"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1688214471,"creation_date":1688214471,"answer_id":76594710,"question_id":76522088,"body_markdown":"JMH is method-based framework, i.e. it measures performance of a method annotated with `@Benchmark`, so in your case there&#39;s no other way but to split the logic. Everything before the loop should be moved into `@Setup`-annotated method and the the loop into `@Benchmark`-annotated one. Pay attention, that in this case JMH must be run in single-shot mode or `@Setup` must be set into `Invocation` mode to have the futures recreated for each measurement.","title":"How can I use JMH to benchmark a specific part of a method","body":"<p>JMH is method-based framework, i.e. it measures performance of a method annotated with <code>@Benchmark</code>, so in your case there's no other way but to split the logic. Everything before the loop should be moved into <code>@Setup</code>-annotated method and the the loop into <code>@Benchmark</code>-annotated one. Pay attention, that in this case JMH must be run in single-shot mode or <code>@Setup</code> must be set into <code>Invocation</code> mode to have the futures recreated for each measurement.</p>\n"}],"owner":{"account_id":1460538,"reputation":4277,"user_id":1374987,"accept_rate":70,"display_name":"PentaKon"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":137,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76594710,"answer_count":1,"score":1,"last_activity_date":1688214471,"creation_date":1687341783,"question_id":76522088,"body_markdown":"I&#39;m looking for a way to benchmark a specific for-loop inside a method. The for-loop **cannot be extracted and have its state initialized/mocked**.\r\n\r\n      void method(ScheduledExecutorService exec) throws Exception {\r\n        File testFile = new File(&quot;./test&quot;);\r\n        Collection&lt;Future&gt; futures = new HashSet&lt;&gt;();\r\n        testFile.createNewFile();\r\n        for (int i = 0; i &lt; 50; i++) {\r\n          final int j = i;\r\n          final Future&lt;?&gt; future = exec.submit(() -&gt; {\r\n            Files.write((&quot;Test-&quot; + j).getBytes(StandardCharsets.UTF_8), testFile);\r\n          });\r\n          futures.add(future);\r\n        }\r\n        // BENCHMARK HERE\r\n        for (Future future : futures) {\r\n          future.get();\r\n        }\r\n      }\r\nNotice that I&#39;m looking to benchmark only the `future.get()` part, using JMH. My research shows that JMH is like JUnit, i.e. it discovers `@Benchmark` annotated methods and runs those with a clean state, and also starts a new JVM process to run those benchmarks, which means we can&#39;t provide the `Collection&lt;Future&gt;` as state to a benchmarked method.\r\n\r\nYes I understand that I shouldn&#39;t benchmark File I/O but someone else is asking for JMH to be used instead of `System.currentTimeMillis` so I&#39;m looking to see if this is even possible before going back to block this requirement.","title":"How can I use JMH to benchmark a specific part of a method","body":"<p>I'm looking for a way to benchmark a specific for-loop inside a method. The for-loop <strong>cannot be extracted and have its state initialized/mocked</strong>.</p>\n<pre><code>  void method(ScheduledExecutorService exec) throws Exception {\n    File testFile = new File(&quot;./test&quot;);\n    Collection&lt;Future&gt; futures = new HashSet&lt;&gt;();\n    testFile.createNewFile();\n    for (int i = 0; i &lt; 50; i++) {\n      final int j = i;\n      final Future&lt;?&gt; future = exec.submit(() -&gt; {\n        Files.write((&quot;Test-&quot; + j).getBytes(StandardCharsets.UTF_8), testFile);\n      });\n      futures.add(future);\n    }\n    // BENCHMARK HERE\n    for (Future future : futures) {\n      future.get();\n    }\n  }\n</code></pre>\n<p>Notice that I'm looking to benchmark only the <code>future.get()</code> part, using JMH. My research shows that JMH is like JUnit, i.e. it discovers <code>@Benchmark</code> annotated methods and runs those with a clean state, and also starts a new JVM process to run those benchmarks, which means we can't provide the <code>Collection&lt;Future&gt;</code> as state to a benchmarked method.</p>\n<p>Yes I understand that I shouldn't benchmark File I/O but someone else is asking for JMH to be used instead of <code>System.currentTimeMillis</code> so I'm looking to see if this is even possible before going back to block this requirement.</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":8218,"reputation":60148,"user_id":14690,"accept_rate":93,"display_name":"Milan Babuškov"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1222762901,"creation_date":1222762901,"answer_id":152213,"question_id":152205,"body_markdown":"Use &lt;a href=&quot;http://java.sun.com/j2se/1.4.2/docs/guide/misc/deprecation/deprecated.html&quot;&gt;@deprecated&lt;/a&gt; tag. Read the &lt;a href=&quot;http://java.sun.com/j2se/1.4.2/docs/guide/misc/deprecation/index.html&quot;&gt;Deprecation of APIs&lt;/a&gt; document for more info.\r\n\r\nAfter everyone using the code tells you they have cleaned up on their side, start removing the deprecated code and wait and see if someone complains - then tell them to fix their own code...","title":"How to handle functions deprecation in library?","body":"<p>Use <a href=\"http://java.sun.com/j2se/1.4.2/docs/guide/misc/deprecation/deprecated.html\" rel=\"nofollow noreferrer\">@deprecated</a> tag. Read the <a href=\"http://java.sun.com/j2se/1.4.2/docs/guide/misc/deprecation/index.html\" rel=\"nofollow noreferrer\">Deprecation of APIs</a> document for more info.</p>\n\n<p>After everyone using the code tells you they have cleaned up on their side, start removing the deprecated code and wait and see if someone complains - then tell them to fix their own code...</p>\n"},{"tags":[],"owner":{"account_id":9713,"reputation":52996,"user_id":18061,"accept_rate":83,"display_name":"Toon Krijthe"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1222763212,"creation_date":1222763212,"answer_id":152229,"question_id":152205,"body_markdown":"It depends on how often the code is rebuild. For example, if there are 4 applications using the library, and they are rebuild daily, a month is a long enough time to fix the deprecated calls. \r\n\r\nAlso, if you use the deprecated tag, provide some comment on which code replaces the deprecated call.","title":"How to handle functions deprecation in library?","body":"<p>It depends on how often the code is rebuild. For example, if there are 4 applications using the library, and they are rebuild daily, a month is a long enough time to fix the deprecated calls. </p>\n\n<p>Also, if you use the deprecated tag, provide some comment on which code replaces the deprecated call.</p>\n"},{"tags":[],"owner":{"account_id":9413,"reputation":2958,"user_id":17382,"accept_rate":88,"display_name":"Chad"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1222763336,"creation_date":1222763336,"answer_id":152234,"question_id":152205,"body_markdown":"Consider it this way, customer A downloads the latest version of you library file or frame work. He hits compile on this machine and suddenly he see thousands of errors because the member file or function does no longer exist. From this point on, you&#39;ve given the customer a reason why not to upgrade to your new version and to stay with the old version.\r\n\r\nRaymond Chen answers this the best with his blog about win32 API,\r\n\r\nThough, our experience in our software house has been, once the API has been written we have to carry the API to the end of the product life cycle. To help users to new versions, we provide backwards compatibility with the old commands in the new framework.","title":"How to handle functions deprecation in library?","body":"<p>Consider it this way, customer A downloads the latest version of you library file or frame work. He hits compile on this machine and suddenly he see thousands of errors because the member file or function does no longer exist. From this point on, you've given the customer a reason why not to upgrade to your new version and to stay with the old version.</p>\n\n<p>Raymond Chen answers this the best with his blog about win32 API,</p>\n\n<p>Though, our experience in our software house has been, once the API has been written we have to carry the API to the end of the product life cycle. To help users to new versions, we provide backwards compatibility with the old commands in the new framework.</p>\n"},{"tags":[],"owner":{"account_id":3591,"reputation":332937,"user_id":5190,"accept_rate":76,"display_name":"Vinko Vrsalovic"},"comment_count":0,"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1223845600,"creation_date":1222763362,"answer_id":152235,"question_id":152205,"body_markdown":"Set a date and publicize it in the @deprecated tag. The amount of time given to the removal depends on the amount of users your code has, how well connected you are with them and the the reason for the change.\r\n\r\nIf you have thousands of users and you barely talk to them, the time frame should probably be in the decades range :-)\r\n\r\nIf your users are your 10 coworkers and you see them daily, the time frame can easily be in the weeks range.\r\n\r\n\r\n    /**\r\n     * @deprecated\r\n     * This method will be removed after Halloween!\r\n     * @see #newLocationForFunctionality\r\n     */","title":"How to handle functions deprecation in library?","body":"<p>Set a date and publicize it in the @deprecated tag. The amount of time given to the removal depends on the amount of users your code has, how well connected you are with them and the the reason for the change.</p>\n\n<p>If you have thousands of users and you barely talk to them, the time frame should probably be in the decades range :-)</p>\n\n<p>If your users are your 10 coworkers and you see them daily, the time frame can easily be in the weeks range.</p>\n\n<pre><code>/**\n * @deprecated\n * This method will be removed after Halloween!\n * @see #newLocationForFunctionality\n */\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10786,"reputation":18872,"user_id":20520,"accept_rate":89,"display_name":"Diomidis Spinellis"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1222763494,"creation_date":1222763494,"answer_id":152242,"question_id":152205,"body_markdown":"Given that this is a library, consider archiving a version with the deprecated functions.  Make this version available in both source code and compiled form, as a backup solution for those who haven&#39;t modernized their code to your new API.  (The binary form is needed, because even you may have trouble compiling the old version in a few years.)  Make it clear that this version will not be supported and enhanced.  Tag this version with a symbolic symbol in your version control system.  Then move forward.","title":"How to handle functions deprecation in library?","body":"<p>Given that this is a library, consider archiving a version with the deprecated functions.  Make this version available in both source code and compiled form, as a backup solution for those who haven't modernized their code to your new API.  (The binary form is needed, because even you may have trouble compiling the old version in a few years.)  Make it clear that this version will not be supported and enhanced.  Tag this version with a symbolic symbol in your version control system.  Then move forward.</p>\n"},{"comments":[{"owner":{"account_id":7678,"reputation":4320,"user_id":13397,"display_name":"belugabob"},"score":0,"creation_date":1222765906,"post_id":152267,"comment_id":45180,"body_markdown":"The @deprecated tag will also produce compiler warnings in Java, if you use the  -Xlint:deprecation option on the commandline, you&#39;ll get detailed messages. .Net is not special in this regard.","body":"The @deprecated tag will also produce compiler warnings in Java, if you use the  -Xlint:deprecation option on the commandline, you&#39;ll get detailed messages. .Net is not special in this regard."}],"tags":[],"owner":{"account_id":9344,"reputation":1701,"user_id":17222,"accept_rate":40,"display_name":"user17222"},"comment_count":1,"down_vote_count":3,"up_vote_count":1,"is_accepted":false,"score":-2,"last_activity_date":1222764248,"creation_date":1222764248,"answer_id":152267,"question_id":152205,"body_markdown":"too bad you are not using .Net :(\r\n\r\nThe built in [Obsolete][1] attribute generates compiler warnings.\r\n\r\n\r\n  [1]: http://msdn.microsoft.com/en-us/library/22kk2b44(VS.80).aspx","title":"How to handle functions deprecation in library?","body":"<p>too bad you are not using .Net :(</p>\n\n<p>The built in <a href=\"http://msdn.microsoft.com/en-us/library/22kk2b44(VS.80).aspx\" rel=\"nofollow noreferrer\">Obsolete</a> attribute generates compiler warnings.</p>\n"},{"tags":[],"owner":{"account_id":8474,"reputation":1772,"user_id":15296,"accept_rate":83,"display_name":"Oli"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1222764724,"creation_date":1222764724,"answer_id":152285,"question_id":152205,"body_markdown":"It certainly depends at which scale your API is used and what you promised upfront to your customers.\r\n\r\nAs described by Vinko Vrsalovic, you should enter a date when they have to expect the abandon of the function.\r\n\r\nIn production, if it&#39;s &quot;just&quot; a matter of getting cleaner code, I tend to leave things in place even past the deprecating date as long as it doesn&#39;t break anything.\r\n\r\nOn the other hand in development I do it immediately, in order to get things sorted out quickly.","title":"How to handle functions deprecation in library?","body":"<p>It certainly depends at which scale your API is used and what you promised upfront to your customers.</p>\n\n<p>As described by Vinko Vrsalovic, you should enter a date when they have to expect the abandon of the function.</p>\n\n<p>In production, if it's \"just\" a matter of getting cleaner code, I tend to leave things in place even past the deprecating date as long as it doesn't break anything.</p>\n\n<p>On the other hand in development I do it immediately, in order to get things sorted out quickly.</p>\n"},{"tags":[],"owner":{"account_id":11787,"reputation":15498,"user_id":22904,"accept_rate":44,"display_name":"Giulio Piancastelli"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1222810829,"creation_date":1222810829,"answer_id":155216,"question_id":152205,"body_markdown":"You may be interested in examples of how deprecation works in some other projects. For example, here follows what the [policy in the Django project for function deprecation][1] is:\r\n&gt; A minor release may deprecate certain features from previous releases. If a feature in version A.B is deprecated, it will continue to work in version A.B+1. In version A.B+2, use of the feature will raise a PendingDeprecationWarning but will continue to work. Version A.B+3 will remove the feature entirely.\r\n\r\n\r\n  [1]: http://docs.djangoproject.com/en/dev/internals/release-process/","title":"How to handle functions deprecation in library?","body":"<p>You may be interested in examples of how deprecation works in some other projects. For example, here follows what the <a href=\"http://docs.djangoproject.com/en/dev/internals/release-process/\" rel=\"nofollow noreferrer\">policy in the Django project for function deprecation</a> is:</p>\n\n<blockquote>\n  <p>A minor release may deprecate certain features from previous releases. If a feature in version A.B is deprecated, it will continue to work in version A.B+1. In version A.B+2, use of the feature will raise a PendingDeprecationWarning but will continue to work. Version A.B+3 will remove the feature entirely.</p>\n</blockquote>\n"}],"owner":{"account_id":544,"reputation":2192,"user_id":706,"accept_rate":50,"display_name":"JaanusSiim"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":853,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":152235,"answer_count":8,"score":6,"last_activity_date":1688214082,"creation_date":1222762725,"question_id":152205,"body_markdown":"I&#39;m working on a Java library and would like to remove some functions from it. My reasons for this is public API and design cleanup. Some objects have setters, but should be immutable, some functionality has been implemented better/cleaner in different methods, etc.\r\n\r\nI have marked these methods &#39;deprecated&#39;, and would like to remove them eventually. At the moment I&#39;m thinking about removing these after few sprints (two week development cycles).\r\n\r\nAre there any &#39;best practices&#39; about removing redundant public code?\r\n\r\n","title":"How to handle functions deprecation in library?","body":"<p>I'm working on a Java library and would like to remove some functions from it. My reasons for this is public API and design cleanup. Some objects have setters, but should be immutable, some functionality has been implemented better/cleaner in different methods, etc.</p>\n<p>I have marked these methods 'deprecated', and would like to remove them eventually. At the moment I'm thinking about removing these after few sprints (two week development cycles).</p>\n<p>Are there any 'best practices' about removing redundant public code?</p>\n"},{"tags":["java","opencv","face-recognition","training-data"],"comments":[{"owner":{"account_id":59072,"reputation":92463,"user_id":176769,"accept_rate":100,"display_name":"karlphillip"},"score":0,"creation_date":1688194489,"post_id":76591533,"comment_id":135044083,"body_markdown":"How big is your training dataset?","body":"How big is your training dataset?"},{"owner":{"account_id":15726408,"reputation":165,"user_id":11347922,"display_name":"butexa"},"score":0,"creation_date":1688213734,"post_id":76591533,"comment_id":135045819,"body_markdown":"Pretty big. At the moment, 13k photos.","body":"Pretty big. At the moment, 13k photos."},{"owner":{"account_id":3072614,"reputation":12307,"user_id":2602877,"display_name":"Christoph Rackwitz"},"score":0,"creation_date":1688243715,"post_id":76591533,"comment_id":135048818,"body_markdown":"how about you train that _once_ instead of for _every prediction_","body":"how about you train that <i>once</i> instead of for <i>every prediction</i>"},{"owner":{"account_id":15726408,"reputation":165,"user_id":11347922,"display_name":"butexa"},"score":0,"creation_date":1688300151,"post_id":76591533,"comment_id":135052906,"body_markdown":"Yes, sure, but in order to do this it needs to finish first! The issue is that .train doesn&#39;t seem to finish. Maybe I will try to wait for more than 3 hours?","body":"Yes, sure, but in order to do this it needs to finish first! The issue is that .train doesn&#39;t seem to finish. Maybe I will try to wait for more than 3 hours?"},{"owner":{"account_id":3072614,"reputation":12307,"user_id":2602877,"display_name":"Christoph Rackwitz"},"score":0,"creation_date":1688302141,"post_id":76591533,"comment_id":135053096,"body_markdown":"try with 1/10 or 1/100 of the training set. observe training time. does it grow linearly, sublinearly, superlinearly? how does RAM usage behave? what size in bytes on storage is the dataset?","body":"try with 1/10 or 1/100 of the training set. observe training time. does it grow linearly, sublinearly, superlinearly? how does RAM usage behave? what size in bytes on storage is the dataset?"},{"owner":{"account_id":15726408,"reputation":165,"user_id":11347922,"display_name":"butexa"},"score":0,"creation_date":1689150412,"post_id":76591533,"comment_id":135171007,"body_markdown":"@ChristophRackwitz thanks for the reply! I will try and let you know. I can tell you right now that the dataset size is  2GB.","body":"@ChristophRackwitz thanks for the reply! I will try and let you know. I can tell you right now that the dataset size is  2GB."}],"owner":{"account_id":15726408,"reputation":165,"user_id":11347922,"display_name":"butexa"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1688213788,"creation_date":1688150600,"question_id":76591533,"body_markdown":"Hello I am trying to train a dataset of images for face-recognition using `FaceRecognizer` of openCV.\r\n\r\nSnippet:\r\n\r\n    public static void recognize(String trainingDir, String imagePath)\r\n    \t{\r\n    \t\tMat testImage = imread(imagePath, IMREAD_GRAYSCALE);\r\n    \r\n    \t\tFile root = new File(trainingDir);\r\n    \r\n    \t\tFilenameFilter imgFilter = new FilenameFilter() {\r\n    \t\t\tpublic boolean accept(File dir, String name) {\r\n    \t\t\t\tname = name.toLowerCase();\r\n    \t\t\t\treturn name.endsWith(&quot;.jpg&quot;) || name.endsWith(&quot;.pgm&quot;) || name.endsWith(&quot;.png&quot;);\r\n    \t\t\t}\r\n    \t\t};\r\n    \r\n    \t\tFile[] imageFiles = root.listFiles(imgFilter);\r\n    \r\n    \t\tMatVector images = new MatVector(imageFiles.length);\r\n    \r\n    \t\tMat labels = new Mat(imageFiles.length, 1, CV_32SC1);\r\n    \t\tIntBuffer labelsBuf = labels.createBuffer();\r\n    \r\n    \t\tint counter = 0;\r\n    \r\n    \t\tfor (File image : imageFiles) {\r\n    \t\t\tMat img = imread(image.getAbsolutePath(), IMREAD_GRAYSCALE);\r\n    \r\n    \t\t\tint label = Integer.parseInt(image.getName().split(&quot;\\\\-&quot;)[0]);\r\n    \r\n    \t\t\timages.put(counter, img);\r\n    \r\n    \t\t\tlabelsBuf.put(counter, label);\r\n    \r\n    \t\t\tcounter++;\r\n    \t\t}\r\n    \t\t\r\n    \t\t//FaceRecognizer faceRecognizer = FisherFaceRecognizer.create();\r\n    \t\tFaceRecognizer faceRecognizer = EigenFaceRecognizer.create();\r\n    \t\t//FaceRecognizer faceRecognizer = LBPHFaceRecognizer.create();\r\n    \r\n    \t\tfaceRecognizer.train(images, labels);\r\n    \t\t\r\n    \t\tSystem.out.println(&quot;temp&quot;);\r\n    \r\n    \t\tIntPointer label = new IntPointer(1);\r\n    \t\tDoublePointer confidence = new DoublePointer(1);\r\n    \t\tfaceRecognizer.predict(testImage, label, confidence);\r\n    \t\tint predictedLabel = label.get(0);\r\n    \r\n    \t\tSystem.out.println(&quot;Predicted label: &quot; + predictedLabel);\r\n    \t}\r\n    \r\nIf I use `LBPHFaceRecognizer` the `train` method usually finishes after few minutes and I get the predicted label (even though it&#39;s a mismatch).\r\nHowever when I use `EigenFaceRecognizer` and `FisherFaceRecognizer`, even after hours of execution, the method `train` seems to never complete its execution, hence never getting the predicted label. Why would you think this happens?","title":"FaceRecognizer.train doesn&#39;t finish execution even after hours of waiting","body":"<p>Hello I am trying to train a dataset of images for face-recognition using <code>FaceRecognizer</code> of openCV.</p>\n<p>Snippet:</p>\n<pre><code>public static void recognize(String trainingDir, String imagePath)\n    {\n        Mat testImage = imread(imagePath, IMREAD_GRAYSCALE);\n\n        File root = new File(trainingDir);\n\n        FilenameFilter imgFilter = new FilenameFilter() {\n            public boolean accept(File dir, String name) {\n                name = name.toLowerCase();\n                return name.endsWith(&quot;.jpg&quot;) || name.endsWith(&quot;.pgm&quot;) || name.endsWith(&quot;.png&quot;);\n            }\n        };\n\n        File[] imageFiles = root.listFiles(imgFilter);\n\n        MatVector images = new MatVector(imageFiles.length);\n\n        Mat labels = new Mat(imageFiles.length, 1, CV_32SC1);\n        IntBuffer labelsBuf = labels.createBuffer();\n\n        int counter = 0;\n\n        for (File image : imageFiles) {\n            Mat img = imread(image.getAbsolutePath(), IMREAD_GRAYSCALE);\n\n            int label = Integer.parseInt(image.getName().split(&quot;\\\\-&quot;)[0]);\n\n            images.put(counter, img);\n\n            labelsBuf.put(counter, label);\n\n            counter++;\n        }\n        \n        //FaceRecognizer faceRecognizer = FisherFaceRecognizer.create();\n        FaceRecognizer faceRecognizer = EigenFaceRecognizer.create();\n        //FaceRecognizer faceRecognizer = LBPHFaceRecognizer.create();\n\n        faceRecognizer.train(images, labels);\n        \n        System.out.println(&quot;temp&quot;);\n\n        IntPointer label = new IntPointer(1);\n        DoublePointer confidence = new DoublePointer(1);\n        faceRecognizer.predict(testImage, label, confidence);\n        int predictedLabel = label.get(0);\n\n        System.out.println(&quot;Predicted label: &quot; + predictedLabel);\n    }\n</code></pre>\n<p>If I use <code>LBPHFaceRecognizer</code> the <code>train</code> method usually finishes after few minutes and I get the predicted label (even though it's a mismatch).\nHowever when I use <code>EigenFaceRecognizer</code> and <code>FisherFaceRecognizer</code>, even after hours of execution, the method <code>train</code> seems to never complete its execution, hence never getting the predicted label. Why would you think this happens?</p>\n"},{"tags":["java","android","ssl"],"answers":[{"tags":[],"owner":{"account_id":8849342,"reputation":29,"user_id":6609159,"accept_rate":80,"display_name":"Raghava Manchala"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1509430758,"creation_date":1509430758,"answer_id":47029019,"question_id":47028677,"body_markdown":"Change your Target SDK version to 23, hope your problem will be solved","title":"Same API works on Nougat (7.0), but does not work on Marshmallow OS (6.0 and below)","body":"<p>Change your Target SDK version to 23, hope your problem will be solved</p>\n"}],"owner":{"account_id":5501941,"reputation":57,"user_id":4371021,"display_name":"Dipak Kadam"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":97,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1688213750,"creation_date":1509429079,"question_id":47028677,"body_markdown":"I am calling SAP API&#39;s with SSL configuration in my app I got response code 200 when app runs on Nougat it works fine.\r\n\r\nBut on Marshmallow OS 6.0 and below, it gives\r\n&gt; 400 (Bad request)\r\n\r\nI&#39;m unable to find the route cause. Please assist.\r\n\r\nGradle piece of code as per below:\r\n\r\n    android {\r\n        compileSdkVersion 25\r\n        buildToolsVersion &quot;25.0.3&quot;\r\n        defaultConfig {\r\n            applicationId &quot;xxx.xxx.xxx&quot;\r\n            minSdkVersion 16\r\n            targetSdkVersion 25\r\n            versionCode 3\r\n            versionName &quot;3.0&quot;\r\n            testInstrumentationRunner &quot;android.support.test.runner.AndroidJUnitRunner&quot;\r\n        }\r\n        buildTypes {\r\n            release {\r\n                minifyEnabled true\r\n                proguardFiles getDefaultProguardFile(&#39;proguard-android.txt&#39;), &#39;proguard-rules.pro&#39;\r\n            }\r\n        }\r\n     }","title":"Same API works on Nougat (7.0), but does not work on Marshmallow OS (6.0 and below)","body":"<p>I am calling SAP API's with SSL configuration in my app I got response code 200 when app runs on Nougat it works fine.</p>\n<p>But on Marshmallow OS 6.0 and below, it gives</p>\n<blockquote>\n<p>400 (Bad request)</p>\n</blockquote>\n<p>I'm unable to find the route cause. Please assist.</p>\n<p>Gradle piece of code as per below:</p>\n<pre><code>android {\n    compileSdkVersion 25\n    buildToolsVersion &quot;25.0.3&quot;\n    defaultConfig {\n        applicationId &quot;xxx.xxx.xxx&quot;\n        minSdkVersion 16\n        targetSdkVersion 25\n        versionCode 3\n        versionName &quot;3.0&quot;\n        testInstrumentationRunner &quot;android.support.test.runner.AndroidJUnitRunner&quot;\n    }\n    buildTypes {\n        release {\n            minifyEnabled true\n            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n        }\n    }\n }\n</code></pre>\n"},{"tags":["java","random","integer","long-integer","raw-data"],"comments":[{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":4,"creation_date":1685101312,"post_id":76340399,"comment_id":134617986,"body_markdown":"maybe it would be wise to ask the &quot;GLI (Gaming Laboratories International) team&quot; or whoever tasked you with extracting raw data","body":"maybe it would be wise to ask the &quot;GLI (Gaming Laboratories International) team&quot; or whoever tasked you with extracting raw data"},{"owner":{"account_id":6009919,"reputation":547,"user_id":4720669,"display_name":"Aakash Patel"},"score":0,"creation_date":1685101721,"post_id":76340399,"comment_id":134618069,"body_markdown":"@user16320675 we are trying to findout the things from our end, so asked the question here","body":"@user16320675 we are trying to findout the things from our end, so asked the question here"},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1685104534,"post_id":76340399,"comment_id":134618651,"body_markdown":"no sure what is meant by &#39;our end&#39;... who better would know &#39;the exact meaning or requirements of &quot;raw data&quot; &#39; (my understanding is that an integer {or long} already is raw data... unless they are composed, like bit-masks or so) || anyway the question is unclear (maybe clear for someone involved with that GLI)","body":"no sure what is meant by &#39;our end&#39;... who better would know &#39;the exact meaning or requirements of &quot;raw data&quot; &#39; (my understanding is that an integer {or long} already is raw data... unless they are composed, like bit-masks or so) || anyway the question is unclear (maybe clear for someone involved with that GLI)"},{"owner":{"account_id":6009919,"reputation":547,"user_id":4720669,"display_name":"Aakash Patel"},"score":0,"creation_date":1685104793,"post_id":76340399,"comment_id":134618711,"body_markdown":"@user16320675 please check the answer, this is what i need i believe, but will clarify the answer with GLI team","body":"@user16320675 please check the answer, this is what i need i believe, but will clarify the answer with GLI team"},{"owner":{"account_id":6128339,"reputation":4087,"user_id":4779472,"accept_rate":89,"display_name":"Rohit Gupta"},"score":0,"creation_date":1687487348,"post_id":76340399,"comment_id":134947100,"body_markdown":"Beats me why hex representation is raw data.  Its more encoded than the variables.  Nutty requirement.","body":"Beats me why hex representation is raw data.  Its more encoded than the variables.  Nutty requirement."}],"answers":[{"comments":[{"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1685103028,"post_id":76340545,"comment_id":134618338,"body_markdown":"`Integer.BYTES` and `Long.BYTES` provide the size of each type in bytes.  And you have one too many opening parens after allocate.","body":"<code>Integer.BYTES</code> and <code>Long.BYTES</code> provide the size of each type in bytes.  And you have one too many opening parens after allocate."},{"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"score":1,"creation_date":1685104271,"post_id":76340545,"comment_id":134618595,"body_markdown":"@WJS  Fixed the double parenthesis typo. But SIZE - The number of **bits** used to represent a long value in two&#39;s complement binary form.","body":"@WJS  Fixed the double parenthesis typo. But SIZE - The number of <b>bits</b> used to represent a long value in two&#39;s complement binary form."},{"owner":{"account_id":6009919,"reputation":547,"user_id":4720669,"display_name":"Aakash Patel"},"score":0,"creation_date":1685104362,"post_id":76340545,"comment_id":134618612,"body_markdown":"@JohnWilliams I see you are printing 0 0 0 0 0 0 0 1 in format of: 0x0 0x0 0x0 0x0 0x0 0x0 0x0 0x1 Can you please elaborate why it is being done in that format?","body":"@JohnWilliams I see you are printing 0 0 0 0 0 0 0 1 in format of: 0x0 0x0 0x0 0x0 0x0 0x0 0x0 0x1 Can you please elaborate why it is being done in that format?"},{"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"score":0,"creation_date":1685104608,"post_id":76340545,"comment_id":134618669,"body_markdown":"0x indicates hexidecimal. What format do you prefer? binary? 01011010","body":"0x indicates hexidecimal. What format do you prefer? binary? 01011010"},{"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1685104795,"post_id":76340545,"comment_id":134618713,"body_markdown":"*`But SIZE - The number of bits used to represent a long value in two&#39;s complement binary form.`*  I know, and  BYTES is  but since you are computing the number of bytes in a long or int to allocate the byte array I just thought the existing predefined values would be clearer.  Both work equally well.","body":"<i><code>But SIZE - The number of bits used to represent a long value in two&#39;s complement binary form.</code></i>  I know, and  BYTES is  but since you are computing the number of bytes in a long or int to allocate the byte array I just thought the existing predefined values would be clearer.  Both work equally well."},{"owner":{"account_id":6009919,"reputation":547,"user_id":4720669,"display_name":"Aakash Patel"},"score":0,"creation_date":1685104888,"post_id":76340545,"comment_id":134618744,"body_markdown":"@JohnWilliams can you please also tell how to represent it in binary?","body":"@JohnWilliams can you please also tell how to represent it in binary?"},{"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"score":1,"creation_date":1685105077,"post_id":76340545,"comment_id":134618790,"body_markdown":"@AakashPatel I have added to binary System.out.format to the answer.","body":"@AakashPatel I have added to binary System.out.format to the answer."},{"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"score":1,"creation_date":1685105924,"post_id":76340545,"comment_id":134619007,"body_markdown":"To print the original value in binary with padding you can do `String bits = Integer.toBinaryString(intValue);System.out.println(&quot;0&quot;.repeat(Integer.SIZE-bits.length()) + bits);`","body":"To print the original value in binary with padding you can do <code>String bits = Integer.toBinaryString(intValue);System.out.println(&quot;0&quot;.repe&zwnj;&#8203;at(Integer.SIZE-bits&zwnj;&#8203;.length()) + bits);</code>"},{"owner":{"account_id":6009919,"reputation":547,"user_id":4720669,"display_name":"Aakash Patel"},"score":1,"creation_date":1687236211,"post_id":76340545,"comment_id":134904389,"body_markdown":"Thank you @JohnWilliams this has been what i was looking for. My code for generating random numbers as per GLI standard is approved.","body":"Thank you @JohnWilliams this has been what i was looking for. My code for generating random numbers as per GLI standard is approved."},{"owner":{"account_id":6009919,"reputation":547,"user_id":4720669,"display_name":"Aakash Patel"},"score":0,"creation_date":1687236241,"post_id":76340545,"comment_id":134904390,"body_markdown":"Thank you @WJS for providing valueable imrovements","body":"Thank you @WJS for providing valueable imrovements"}],"tags":[],"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"comment_count":10,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1685105176,"creation_date":1685101902,"answer_id":76340545,"question_id":76340399,"body_markdown":"For integer\r\n\r\n    byte[] bytes = ByteBuffer.allocate(Integer.BYTES).putInt(42).array();\r\n    \r\n    for (byte b : bytes) {\r\n       System.out.format(&quot;0x%x &quot;, b);\r\n    }\r\n\r\nFor long\r\n\r\n    byte[] bytes = ByteBuffer.allocate(Long.BYTES).putLong(9876543210L).array();\r\n    \r\n    for (byte b : bytes) {\r\n       System.out.format(&quot;0x%x &quot;, b);\r\n    }\r\n\r\nThe above prints in hexadecimal format. To print each byte as 0/1 style bits use:\r\n\r\n       System.out.format(String.format(&quot;%8s&quot;, Integer.toBinaryString(b &amp; 0xFF)).replace(&#39; &#39;, &#39;0&#39;));\r\n\r\n","title":"Extracting Raw Data from Integer and Long Variables in Java","body":"<p>For integer</p>\n<pre><code>byte[] bytes = ByteBuffer.allocate(Integer.BYTES).putInt(42).array();\n\nfor (byte b : bytes) {\n   System.out.format(&quot;0x%x &quot;, b);\n}\n</code></pre>\n<p>For long</p>\n<pre><code>byte[] bytes = ByteBuffer.allocate(Long.BYTES).putLong(9876543210L).array();\n\nfor (byte b : bytes) {\n   System.out.format(&quot;0x%x &quot;, b);\n}\n</code></pre>\n<p>The above prints in hexadecimal format. To print each byte as 0/1 style bits use:</p>\n<pre><code>   System.out.format(String.format(&quot;%8s&quot;, Integer.toBinaryString(b &amp; 0xFF)).replace(' ', '0'));\n</code></pre>\n"}],"owner":{"account_id":6009919,"reputation":547,"user_id":4720669,"display_name":"Aakash Patel"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":80,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":76340545,"answer_count":1,"score":-2,"last_activity_date":1688213688,"creation_date":1685100811,"question_id":76340399,"body_markdown":"I&#39;m working on a Java project where I have been tasked with extracting raw data from both integer and long variables.\r\n\r\nHere&#39;s an input:\r\n\r\n    Integer intValue = 42;\r\n    Long longValue = 9876543210L;\r\n    \r\nHow can I extract the raw data as bytes from intValue and longValue?","title":"Extracting Raw Data from Integer and Long Variables in Java","body":"<p>I'm working on a Java project where I have been tasked with extracting raw data from both integer and long variables.</p>\n<p>Here's an input:</p>\n<pre><code>Integer intValue = 42;\nLong longValue = 9876543210L;\n</code></pre>\n<p>How can I extract the raw data as bytes from intValue and longValue?</p>\n"},{"tags":["java","android","android-studio","wsl-2"],"answers":[{"comments":[{"owner":{"account_id":26624402,"reputation":65,"user_id":20242664,"display_name":"Artem Pokhiliuk"},"score":0,"creation_date":1683833577,"post_id":76226325,"comment_id":134431185,"body_markdown":"I did this, but this changed nothing.\nNow it replies when I type echo $JAVA_HOME, with the right path, but the same error pops out when I&#39;m trying to launch Android Studio","body":"I did this, but this changed nothing. Now it replies when I type echo $JAVA_HOME, with the right path, but the same error pops out when I&#39;m trying to launch Android Studio"},{"owner":{"account_id":26624402,"reputation":65,"user_id":20242664,"display_name":"Artem Pokhiliuk"},"score":0,"creation_date":1683834271,"post_id":76226325,"comment_id":134431355,"body_markdown":"Maybe I have to install Java on Windows? (Because VcXsrv X Server worls there)","body":"Maybe I have to install Java on Windows? (Because VcXsrv X Server worls there)"}],"tags":[],"owner":{"account_id":345487,"reputation":5160,"user_id":678448,"accept_rate":60,"display_name":"Thommy"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683798695,"creation_date":1683798695,"answer_id":76226325,"question_id":76225337,"body_markdown":"Running java binary does not tell you about JAVA_HOME variable. Run echo $JAVA_HOME to see if its present, if not check here how to set it: https://stackoverflow.com/questions/24641536/how-to-set-java-home-in-linux-for-all-users","title":"Android Studio doesn&#39;t start on WSL (No JRE found)","body":"<p>Running java binary does not tell you about JAVA_HOME variable. Run echo $JAVA_HOME to see if its present, if not check here how to set it: <a href=\"https://stackoverflow.com/questions/24641536/how-to-set-java-home-in-linux-for-all-users\">How to set JAVA_HOME in Linux for all users</a></p>\n"},{"comments":[{"owner":{"account_id":19580836,"reputation":103,"user_id":14329945,"display_name":"Daniel Iroka"},"score":0,"creation_date":1690970242,"post_id":76492102,"comment_id":135426010,"body_markdown":"Please what latest version of Android Studio did you download and it did not break? I have about 5 android studio zip files but none of them is working. But I haven&#39;t tried this jdk solution though.","body":"Please what latest version of Android Studio did you download and it did not break? I have about 5 android studio zip files but none of them is working. But I haven&#39;t tried this jdk solution though."},{"owner":{"account_id":19580836,"reputation":103,"user_id":14329945,"display_name":"Daniel Iroka"},"score":0,"creation_date":1690970932,"post_id":76492102,"comment_id":135426152,"body_markdown":"Android Studio 2021.3.1 Dolphin just worked for me right now with java version 11.0.20. I need to use an android studio that supports AGP version 7.3.1.","body":"Android Studio 2021.3.1 Dolphin just worked for me right now with java version 11.0.20. I need to use an android studio that supports AGP version 7.3.1."}],"tags":[],"owner":{"account_id":27497842,"reputation":1,"user_id":20982085,"display_name":"Hadrian"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686937129,"creation_date":1686933307,"answer_id":76492102,"question_id":76225337,"body_markdown":"I was in the same position for weeks, but I managed to get round it by downgrading Studio to [version 2021.1.1][1] \r\n\r\nAnd downgrading java to version 11 by running `sudo apt install openjdk-11-jre`. [Check this out][2] for further info on how and when to do this.\r\n\r\nMy next steps is to find out which is the latest version of each that I can use without breaking what now works.\r\n\r\n\r\n  [1]: https://developer.android.com/studio/archive\r\n  [2]: https://www.linuxcapable.com/how-to-install-openjdk-11-on-ubuntu-linux/","title":"Android Studio doesn&#39;t start on WSL (No JRE found)","body":"<p>I was in the same position for weeks, but I managed to get round it by downgrading Studio to <a href=\"https://developer.android.com/studio/archive\" rel=\"nofollow noreferrer\">version 2021.1.1</a></p>\n<p>And downgrading java to version 11 by running <code>sudo apt install openjdk-11-jre</code>. <a href=\"https://www.linuxcapable.com/how-to-install-openjdk-11-on-ubuntu-linux/\" rel=\"nofollow noreferrer\">Check this out</a> for further info on how and when to do this.</p>\n<p>My next steps is to find out which is the latest version of each that I can use without breaking what now works.</p>\n"},{"tags":[],"owner":{"account_id":28852506,"reputation":1,"user_id":22098099,"display_name":"Ivan Vyargizov"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687193708,"creation_date":1687193708,"answer_id":76508647,"question_id":76225337,"body_markdown":"I had the same issue but this helps me: [Can I run android studio on windows 10 Subsystem Linux][1].\r\n\r\nMain point:\r\n 1. In addition to VcXsrv you need to install xfce4 on the unix side\r\n 2. Install missing libraries with: `sudo apt-get install lib32z1 lib32ncurses5 lib32bz2-1.0 lib32stdc++6`\r\n 3. I also added `export DISPLAY=:0` in `/etc/profile` instead of `export DISPLAY=[unix ip]:0` like it says in the article\r\n\r\nAfter all this I managed to run android studio on WSL\r\n\r\n  [1]: https://askubuntu.com/questions/1189343/can-i-run-android-studio-on-windows-10-subsystem-linux","title":"Android Studio doesn&#39;t start on WSL (No JRE found)","body":"<p>I had the same issue but this helps me: <a href=\"https://askubuntu.com/questions/1189343/can-i-run-android-studio-on-windows-10-subsystem-linux\">Can I run android studio on windows 10 Subsystem Linux</a>.</p>\n<p>Main point:</p>\n<ol>\n<li>In addition to VcXsrv you need to install xfce4 on the unix side</li>\n<li>Install missing libraries with: <code>sudo apt-get install lib32z1 lib32ncurses5 lib32bz2-1.0 lib32stdc++6</code></li>\n<li>I also added <code>export DISPLAY=:0</code> in <code>/etc/profile</code> instead of <code>export DISPLAY=[unix ip]:0</code> like it says in the article</li>\n</ol>\n<p>After all this I managed to run android studio on WSL</p>\n"},{"comments":[{"owner":{"account_id":19580836,"reputation":103,"user_id":14329945,"display_name":"Daniel Iroka"},"score":0,"creation_date":1690988676,"post_id":76594630,"comment_id":135430299,"body_markdown":"This is the right answer here. This is the answer that works and should be marked as best. Changing from $JAVA_HOME to $STUDIO_JDK and adding it to the $PATH worked for me without need of downgrading my java version. But the issue is that it only worked on Android Studio Electric El and below. I tried it with other newer versions like Giraffe and Hedgehog, but I still got issues.","body":"This is the right answer here. This is the answer that works and should be marked as best. Changing from $JAVA_HOME to $STUDIO_JDK and adding it to the $PATH worked for me without need of downgrading my java version. But the issue is that it only worked on Android Studio Electric El and below. I tried it with other newer versions like Giraffe and Hedgehog, but I still got issues."}],"tags":[],"owner":{"account_id":7946874,"reputation":741,"user_id":7810510,"accept_rate":60,"display_name":"Ace Falobi"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1688213212,"creation_date":1688213212,"answer_id":76594630,"question_id":76225337,"body_markdown":"I encountered this error and this question while searching for a solution.\r\n\r\nYou can fix this by instead setting the `$STUDIO_JDK` variable to the `$JAVA_HOME` path. Hope this helps you also.","title":"Android Studio doesn&#39;t start on WSL (No JRE found)","body":"<p>I encountered this error and this question while searching for a solution.</p>\n<p>You can fix this by instead setting the <code>$STUDIO_JDK</code> variable to the <code>$JAVA_HOME</code> path. Hope this helps you also.</p>\n"}],"owner":{"account_id":26624402,"reputation":65,"user_id":20242664,"display_name":"Artem Pokhiliuk"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1119,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":4,"score":2,"last_activity_date":1688213212,"creation_date":1683792011,"question_id":76225337,"body_markdown":"Step 1. Installed java on my WSL by running\r\n\r\n    sudo apt install default-jdk\r\n\r\nwhen I run **java --version** it gives me **openjdk 11.0.18 2023-01-17**\r\n\r\nStep 2. Installed **VcXsrv X Server** on my Windows 10. Configured it so I&#39;m sure that it works (I mananged to start Ubuntu&#39;s calculator on it by running &quot;**xcalc**&quot; in the terminal)\r\n\r\nStep 3. Downloaded Android Studio linux package and unzipped it in my home directory subfolder.\r\n\r\nNow I am trying to start it by running &quot;**sh studio.sh**&quot; but an error from VcXsrv X Server is popping out:\r\n\r\n&gt; Cannot start Android Studio: No JRE found. Please make sure\r\n&gt; $STUDIO_JDK, $JDK_HOME, or $JAVA_HOME point to valid JRE installation.\r\n\r\nWhat am I supposed to do? Does it need me to install JDK on Windows as well and set env variables there?","title":"Android Studio doesn&#39;t start on WSL (No JRE found)","body":"<p>Step 1. Installed java on my WSL by running</p>\n<pre><code>sudo apt install default-jdk\n</code></pre>\n<p>when I run <strong>java --version</strong> it gives me <strong>openjdk 11.0.18 2023-01-17</strong></p>\n<p>Step 2. Installed <strong>VcXsrv X Server</strong> on my Windows 10. Configured it so I'm sure that it works (I mananged to start Ubuntu's calculator on it by running &quot;<strong>xcalc</strong>&quot; in the terminal)</p>\n<p>Step 3. Downloaded Android Studio linux package and unzipped it in my home directory subfolder.</p>\n<p>Now I am trying to start it by running &quot;<strong>sh studio.sh</strong>&quot; but an error from VcXsrv X Server is popping out:</p>\n<blockquote>\n<p>Cannot start Android Studio: No JRE found. Please make sure\n$STUDIO_JDK, $JDK_HOME, or $JAVA_HOME point to valid JRE installation.</p>\n</blockquote>\n<p>What am I supposed to do? Does it need me to install JDK on Windows as well and set env variables there?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1688242732,"post_id":76594543,"comment_id":135048738,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":28930128,"reputation":1,"user_id":22159047,"display_name":"MA. Awan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688211742,"creation_date":1688211742,"question_id":76594543,"body_markdown":"I am new to Andriod development, I just started my first course on it. My problem is that i just made the simple learning app taught by the instructor ,the app is still showing the &quot;Hello &quot; instead of the work that I have done on it ,i want that work to be displayed on screen when I Run app on Emulator...so  can someone answer ??\r\n\r\nI try to search this,rest the activity.XML  but the same thing happening again and again","title":"Why my app always showing greeting preview instead of the work (design) that i have done on it?","body":"<p>I am new to Andriod development, I just started my first course on it. My problem is that i just made the simple learning app taught by the instructor ,the app is still showing the &quot;Hello &quot; instead of the work that I have done on it ,i want that work to be displayed on screen when I Run app on Emulator...so  can someone answer ??</p>\n<p>I try to search this,rest the activity.XML  but the same thing happening again and again</p>\n"},{"tags":["java","batch-file","concurrency","scheduling","netweaver"],"comments":[{"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":1,"creation_date":1377082814,"post_id":18355588,"comment_id":26947090,"body_markdown":"Can you run these tasks in a single threaded pool?  This avoids concurrency.","body":"Can you run these tasks in a single threaded pool?  This avoids concurrency."}],"answers":[{"comments":[{"owner":{"account_id":1660519,"reputation":253,"user_id":1528901,"accept_rate":25,"display_name":"gtopcu"},"score":0,"creation_date":1377256515,"post_id":18355745,"comment_id":27026836,"body_markdown":"The scheduler uses an internal JMS queue and the docs say that it will always run on a single node - so cluster problem is solved and I&#39;m able to use a static boolean. Does the job - simple!","body":"The scheduler uses an internal JMS queue and the docs say that it will always run on a single node - so cluster problem is solved and I&#39;m able to use a static boolean. Does the job - simple!"}],"tags":[],"owner":{"account_id":3145978,"reputation":65,"user_id":2660452,"display_name":"Lookis"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1377083125,"creation_date":1377083125,"answer_id":18355745,"question_id":18355588,"body_markdown":"you can route the jobs to every node just like db sharding, and you can handle it just like running in one node.\r\n\r\nor you have to use a center node, something like db or memory cache or zookeeper to prevent same job running on different nodes;","title":"Batch jobs - prevent concurrency","body":"<p>you can route the jobs to every node just like db sharding, and you can handle it just like running in one node.</p>\n\n<p>or you have to use a center node, something like db or memory cache or zookeeper to prevent same job running on different nodes;</p>\n"}],"owner":{"account_id":1660519,"reputation":253,"user_id":1528901,"accept_rate":25,"display_name":"gtopcu"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":543,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1688211298,"creation_date":1377082703,"question_id":18355588,"body_markdown":"I have several batch jobs running on a SAP Java system using SAP Java Scheduler. Unfortunately, I haven&#39;t come across any documentation that shows how to prevent concurrent executions for periodic jobs. All I&#39;ve seen is &quot;a new instance of the job will be executed at the next interval&quot;. This ruins my FIFO processing logic so I need to find a way to prevent it. If the scheduler API had a way of checking for the same job executions, this would be solved but haven&#39;t seen an example yet.\r\n\r\nAs a general architectural approach, other means to do this seems like using a DB table - an indicator table for marking current executions - or a JNDI parameter which would be checked first when the job starts. I could also &quot;attempt&quot; to use a static integer but that would fail me on clustered instances. The system is J2EE5 compliant and supports EJB 3.0, so a &quot;singleton EJB&quot; is not available either. I could set the max pool size for a bean and achieve a similar result maybe.\r\n\r\nI&#39;d like to hear your opinions on how to achieve this goal using different architectures.\r\n\r\nKind Regards,\r\n\r\nS. G&#246;khan Top&#231;u","title":"Batch jobs - prevent concurrency","body":"<p>I have several batch jobs running on a SAP Java system using SAP Java Scheduler. Unfortunately, I haven't come across any documentation that shows how to prevent concurrent executions for periodic jobs. All I've seen is &quot;a new instance of the job will be executed at the next interval&quot;. This ruins my FIFO processing logic so I need to find a way to prevent it. If the scheduler API had a way of checking for the same job executions, this would be solved but haven't seen an example yet.</p>\n<p>As a general architectural approach, other means to do this seems like using a DB table - an indicator table for marking current executions - or a JNDI parameter which would be checked first when the job starts. I could also &quot;attempt&quot; to use a static integer but that would fail me on clustered instances. The system is J2EE5 compliant and supports EJB 3.0, so a &quot;singleton EJB&quot; is not available either. I could set the max pool size for a bean and achieve a similar result maybe.</p>\n<p>I'd like to hear your opinions on how to achieve this goal using different architectures.</p>\n<p>Kind Regards,</p>\n<p>S. Gökhan Topçu</p>\n"},{"tags":["java","bitmap","paint"],"owner":{"account_id":28930044,"reputation":1,"user_id":22158979,"display_name":"Marc"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688210667,"creation_date":1688210667,"question_id":76594479,"body_markdown":"my task is it to laod a black/white Bitmap in an Boolean [][] array. every bit has some special informations. For now i got the bitmap load. But know i struggel with the drawing ob the Bitmap and the medianfilter . \r\n\r\nHere is my Bitmap class. For checking if the Bitmap is correctly loaded i implements a simple print.\r\n```\r\nimport java.io.DataInputStream;\r\nimport java.io.FileInputStream;\r\nimport java.io.FileNotFoundException;\r\nimport java.io.IOException;\r\nimport java.util.Scanner;\r\n\r\npublic class Bitmap {\r\n  String quelle;\r\n  static int width;\r\n  static int height;\r\n  int pictureStart;\r\n  int b;\r\n  static boolean[][] pixels;\r\n  \r\n  Bitmap(){\r\n//    Scanner sc = new Scanner(System.in);\r\n//    System.out.println(&quot;Bitte den Pfad des Bildes eingeben&quot;);\r\n//    this.quelle = sc.nextLine();\r\n    quelle = &quot;D:\\\\Jade-HS_Oldenburg\\\\Praktische Informatik1\\\\workspace\\\\workspace\\\\Info3_schmidt\\\\Bilder\\\\rose_von_sharon.bmp&quot;;\r\n    this.width = 0;\r\n    this.height = 0;\r\n    this.pictureStart = 0;\r\n    try(DataInputStream ds = new DataInputStream(new FileInputStream(quelle));){\r\n      ds.skipBytes(10);\r\n      \r\n      for(int i = 0; i &lt; 4; i++) {\r\n        pictureStart += ds.readUnsignedByte() * (int) Math.pow(256, i);\r\n      }\r\n      \r\n      ds.skipBytes(4);\r\n      \r\n      for(int i = 0; i &lt; 4; i++) {\r\n        width += ds.readUnsignedByte() * (int) Math.pow(256, i);\r\n      }\r\n      for(int i = 0; i &lt; 4; i++) {\r\n        height += ds.readUnsignedByte() * (int) Math.pow(256, i);\r\n      } \r\n      \r\n      System.out.println(&quot;Bildbeginn bei: &quot; + pictureStart);\r\n      System.out.println(&quot;Bildbreite: &quot; + width);\r\n      System.out.println(&quot;Bildh&#246;he: &quot; + height);\r\n      \r\n      ds.skipBytes(36);\r\n      \r\n      pixels = new boolean [height][width+3];\r\n      \r\n      for(int i = height-1; i &gt; -1; i--) {\r\n        for(int j = 0; j &lt; 1112; j += 8) {\r\n          b = ds.readUnsignedByte();\r\n          if(b / 128 == 1)\r\n            pixels[i][j] = true;\r\n          else\r\n            pixels[i][j] = false;\r\n          b %= 128;\r\n          if(b / 64 == 1)\r\n            pixels[i][j+1] = true;\r\n          else\r\n            pixels[i][j+1] = false;\r\n          b %= 64;\r\n          if(b / 32 == 1)\r\n            pixels[i][j+2] = true;\r\n          else\r\n            pixels[i][j+2] = false;\r\n          b %= 32;\r\n          if(b / 16 == 1)\r\n            pixels[i][j+3] = true;\r\n          else\r\n            pixels[i][j+3] = false;\r\n          b %= 16;\r\n          if(b / 8 == 1)\r\n            pixels[i][j+4] = true;\r\n          else\r\n            pixels[i][j+4] = false;\r\n          b %= 8;\r\n          if(b / 4 == 1)\r\n            pixels[i][j+5] = true;\r\n          else\r\n            pixels[i][j+5] = false;\r\n          b %= 4;\r\n          if(b / 2 == 1)\r\n            pixels[i][j+6] = true;\r\n          else\r\n            pixels[i][j+6] = false;\r\n          b %= 2;\r\n          if(b / 1 == 1)\r\n            pixels[i][j+7] = true;\r\n          else\r\n            pixels[i][j+7] = false;\r\n        }\r\n        ds.skipBytes(1);\r\n      }\r\n    }\r\n    catch(FileNotFoundException fn) {\r\n      System.out.println(&quot;Datei nicht gefunden&quot;);\r\n    }\r\n    catch(IOException io) {\r\n      System.out.println(&quot;Fehler&quot;);\r\n    }\r\n    \r\n    for(int i = 0; i &lt; height; i++) {\r\n      for(int j = 0; j &lt; width; j++) {\r\n        if(pixels[i][j])\r\n          System.out.print(&quot;x&quot;);\r\n        else\r\n          System.out.print(&quot; &quot;);\r\n      }\r\n      System.out.println();\r\n    }\r\n//    print();\r\n    View newview =new View();\r\n  \r\n  }\r\n  \r\n  \r\n\r\n  \r\n// public void print() {\r\n//   for(int i = 0; i &lt; height; i++) {\r\n//     for(int j = 0; j &lt; width; j++) {\r\n//       if(pixels[i][j])\r\n//         System.out.print(&quot;x&quot;);\r\n//       else\r\n//         System.out.print(&quot; &quot;);\r\n//     }\r\n//     System.out.println();\r\n//   }\r\n// }\r\n  public static void main(String[] args) {\r\n    Bitmap test = new Bitmap();\r\n    \r\n   \r\n  }\r\n\r\n}\r\n\r\n```\r\nand here ist my View\r\n\r\n\r\n```\r\nimport java.awt.*;\r\nimport java.awt.event.*;\r\nimport javax.swing.*;\r\n\r\npublic class View {\r\n  private JFrame frame;\r\n  private JLabel label;\r\n  private  int viewwidth;\r\n  private  int viewheight;\r\n  public static void main(String[] args) {\r\n\r\n}\r\n  \r\n  \r\n  /**\r\n   * Create the application.\r\n   * @wbp.parser.entryPoint\r\n   */\r\n  public View() {\r\n    initialize();\r\n  }\r\n  private void initialize() {\r\n    \r\n    frame =new JFrame();\r\n    frame.setBounds(100, 100, 450, 300);\r\n    frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n    \r\n    JPanel panel = new JPanel();\r\n    panel.setToolTipText(&quot;&quot;);\r\n    panel.setBackground(new Color(255, 255, 255));\r\n    frame.getContentPane().add(panel);\r\n    panel.setLayout(new GridLayout(1, 0, 0, 0));\r\n    \r\n    viewwidth= frame.getSize().width /Bitmap.width;\r\n    viewheight=frame.getSize().height / Bitmap.width;\r\n\r\n    JPanel pic_new = new JPanel();\r\n\r\n    panel.add(pic_new);\r\n    \r\n    frame.setVisible(true);\r\n\r\n  }\r\n  public void paint(Graphics g) {\r\n    try {\r\n//        int pixelSize = old_pic.size(); // Gr&#246;&#223;e jedes Rechtecks, kann angepasst werden\r\n        for (int i = 0; i &lt; viewwidth; i++) {\r\n            for (int j = 0; j &lt; viewheight; j++) {\r\n                int c = Bitmap.getPixel(i,j);\r\n                if (Bitmap.pixels[i][j]) {\r\n                    g.setColor(Color.BLACK);\r\n                    g.fillRect(x,y,viewwidth,viewheight);\r\n                } else {\r\n                    g.setColor(Color.WHITE);\r\n                }\r\n                g.fillRect(x, y, viewheight, viewwidth);\r\n            }\r\n        }\r\n    } catch (Exception e) {\r\n        e.printStackTrace();\r\n    }\r\n}\r\n\r\n}\r\n\r\n```\r\n\r\n\r\nI tried something with the paint() methode, but i think i dont understand it correctly.\r\n\r\nfor now i need to paint my Bitmap as like i did in the print out and the i need some Tricks for teh medianfilter.\r\n\r\nfor example:\r\n\r\nIn bytes 10 to 13 (first byte = 0), the actual start of the image is stored as a 4-byte number.\r\nIn bytes 18 to 21, the image width is stored as a 4-byte number.\r\nIn bytes 22 to 25, the image height is stored as a 4-byte number.\r\n\r\nAll 4-byte numbers are stored with the smallest byte first.\r\n\r\nStarting from the image beginning, the actual image data is stored:\r\n\r\nThe bottom row comes first, and the top row comes last.\r\nEach row&#39;s 8 pixels are represented by the 8 bits of a byte (1 = white, 0 = black).\r\nIf the number of pixels is not divisible by 8, the last byte is filled with zeros on the right.\r\nBy padding with 0 to 3 null bytes, each row consists of a number of bytes divisible by 4.\r\nAll rows of the image are stored consecutively in this manner.\r\n\r\nmy medianfilter should be a 3x3 Filter\r\n\r\nand i should use &lt;&lt;, &gt;&gt; &amp; and |  for Image processing at the bit level\r\n","title":"draw a black/white Bitmap with a medianfilter","body":"<p>my task is it to laod a black/white Bitmap in an Boolean [][] array. every bit has some special informations. For now i got the bitmap load. But know i struggel with the drawing ob the Bitmap and the medianfilter .</p>\n<p>Here is my Bitmap class. For checking if the Bitmap is correctly loaded i implements a simple print.</p>\n<pre><code>import java.io.DataInputStream;\nimport java.io.FileInputStream;\nimport java.io.FileNotFoundException;\nimport java.io.IOException;\nimport java.util.Scanner;\n\npublic class Bitmap {\n  String quelle;\n  static int width;\n  static int height;\n  int pictureStart;\n  int b;\n  static boolean[][] pixels;\n  \n  Bitmap(){\n//    Scanner sc = new Scanner(System.in);\n//    System.out.println(&quot;Bitte den Pfad des Bildes eingeben&quot;);\n//    this.quelle = sc.nextLine();\n    quelle = &quot;D:\\\\Jade-HS_Oldenburg\\\\Praktische Informatik1\\\\workspace\\\\workspace\\\\Info3_schmidt\\\\Bilder\\\\rose_von_sharon.bmp&quot;;\n    this.width = 0;\n    this.height = 0;\n    this.pictureStart = 0;\n    try(DataInputStream ds = new DataInputStream(new FileInputStream(quelle));){\n      ds.skipBytes(10);\n      \n      for(int i = 0; i &lt; 4; i++) {\n        pictureStart += ds.readUnsignedByte() * (int) Math.pow(256, i);\n      }\n      \n      ds.skipBytes(4);\n      \n      for(int i = 0; i &lt; 4; i++) {\n        width += ds.readUnsignedByte() * (int) Math.pow(256, i);\n      }\n      for(int i = 0; i &lt; 4; i++) {\n        height += ds.readUnsignedByte() * (int) Math.pow(256, i);\n      } \n      \n      System.out.println(&quot;Bildbeginn bei: &quot; + pictureStart);\n      System.out.println(&quot;Bildbreite: &quot; + width);\n      System.out.println(&quot;Bildhöhe: &quot; + height);\n      \n      ds.skipBytes(36);\n      \n      pixels = new boolean [height][width+3];\n      \n      for(int i = height-1; i &gt; -1; i--) {\n        for(int j = 0; j &lt; 1112; j += 8) {\n          b = ds.readUnsignedByte();\n          if(b / 128 == 1)\n            pixels[i][j] = true;\n          else\n            pixels[i][j] = false;\n          b %= 128;\n          if(b / 64 == 1)\n            pixels[i][j+1] = true;\n          else\n            pixels[i][j+1] = false;\n          b %= 64;\n          if(b / 32 == 1)\n            pixels[i][j+2] = true;\n          else\n            pixels[i][j+2] = false;\n          b %= 32;\n          if(b / 16 == 1)\n            pixels[i][j+3] = true;\n          else\n            pixels[i][j+3] = false;\n          b %= 16;\n          if(b / 8 == 1)\n            pixels[i][j+4] = true;\n          else\n            pixels[i][j+4] = false;\n          b %= 8;\n          if(b / 4 == 1)\n            pixels[i][j+5] = true;\n          else\n            pixels[i][j+5] = false;\n          b %= 4;\n          if(b / 2 == 1)\n            pixels[i][j+6] = true;\n          else\n            pixels[i][j+6] = false;\n          b %= 2;\n          if(b / 1 == 1)\n            pixels[i][j+7] = true;\n          else\n            pixels[i][j+7] = false;\n        }\n        ds.skipBytes(1);\n      }\n    }\n    catch(FileNotFoundException fn) {\n      System.out.println(&quot;Datei nicht gefunden&quot;);\n    }\n    catch(IOException io) {\n      System.out.println(&quot;Fehler&quot;);\n    }\n    \n    for(int i = 0; i &lt; height; i++) {\n      for(int j = 0; j &lt; width; j++) {\n        if(pixels[i][j])\n          System.out.print(&quot;x&quot;);\n        else\n          System.out.print(&quot; &quot;);\n      }\n      System.out.println();\n    }\n//    print();\n    View newview =new View();\n  \n  }\n  \n  \n\n  \n// public void print() {\n//   for(int i = 0; i &lt; height; i++) {\n//     for(int j = 0; j &lt; width; j++) {\n//       if(pixels[i][j])\n//         System.out.print(&quot;x&quot;);\n//       else\n//         System.out.print(&quot; &quot;);\n//     }\n//     System.out.println();\n//   }\n// }\n  public static void main(String[] args) {\n    Bitmap test = new Bitmap();\n    \n   \n  }\n\n}\n\n</code></pre>\n<p>and here ist my View</p>\n<pre><code>import java.awt.*;\nimport java.awt.event.*;\nimport javax.swing.*;\n\npublic class View {\n  private JFrame frame;\n  private JLabel label;\n  private  int viewwidth;\n  private  int viewheight;\n  public static void main(String[] args) {\n\n}\n  \n  \n  /**\n   * Create the application.\n   * @wbp.parser.entryPoint\n   */\n  public View() {\n    initialize();\n  }\n  private void initialize() {\n    \n    frame =new JFrame();\n    frame.setBounds(100, 100, 450, 300);\n    frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n    \n    JPanel panel = new JPanel();\n    panel.setToolTipText(&quot;&quot;);\n    panel.setBackground(new Color(255, 255, 255));\n    frame.getContentPane().add(panel);\n    panel.setLayout(new GridLayout(1, 0, 0, 0));\n    \n    viewwidth= frame.getSize().width /Bitmap.width;\n    viewheight=frame.getSize().height / Bitmap.width;\n\n    JPanel pic_new = new JPanel();\n\n    panel.add(pic_new);\n    \n    frame.setVisible(true);\n\n  }\n  public void paint(Graphics g) {\n    try {\n//        int pixelSize = old_pic.size(); // Größe jedes Rechtecks, kann angepasst werden\n        for (int i = 0; i &lt; viewwidth; i++) {\n            for (int j = 0; j &lt; viewheight; j++) {\n                int c = Bitmap.getPixel(i,j);\n                if (Bitmap.pixels[i][j]) {\n                    g.setColor(Color.BLACK);\n                    g.fillRect(x,y,viewwidth,viewheight);\n                } else {\n                    g.setColor(Color.WHITE);\n                }\n                g.fillRect(x, y, viewheight, viewwidth);\n            }\n        }\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n}\n\n}\n\n</code></pre>\n<p>I tried something with the paint() methode, but i think i dont understand it correctly.</p>\n<p>for now i need to paint my Bitmap as like i did in the print out and the i need some Tricks for teh medianfilter.</p>\n<p>for example:</p>\n<p>In bytes 10 to 13 (first byte = 0), the actual start of the image is stored as a 4-byte number.\nIn bytes 18 to 21, the image width is stored as a 4-byte number.\nIn bytes 22 to 25, the image height is stored as a 4-byte number.</p>\n<p>All 4-byte numbers are stored with the smallest byte first.</p>\n<p>Starting from the image beginning, the actual image data is stored:</p>\n<p>The bottom row comes first, and the top row comes last.\nEach row's 8 pixels are represented by the 8 bits of a byte (1 = white, 0 = black).\nIf the number of pixels is not divisible by 8, the last byte is filled with zeros on the right.\nBy padding with 0 to 3 null bytes, each row consists of a number of bytes divisible by 4.\nAll rows of the image are stored consecutively in this manner.</p>\n<p>my medianfilter should be a 3x3 Filter</p>\n<p>and i should use &lt;&lt;, &gt;&gt; &amp; and |  for Image processing at the bit level</p>\n"},{"tags":["java","file","inputstream"],"comments":[{"owner":{"account_id":188548,"reputation":55127,"user_id":427309,"accept_rate":95,"display_name":"Richard J. Ross III"},"score":0,"creation_date":1291141210,"post_id":4317035,"comment_id":4689144,"body_markdown":"Is this a built in function? or is it a custom function?","body":"Is this a built in function? or is it a custom function?"},{"owner":{"account_id":52822,"reputation":1089035,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"score":2,"creation_date":1291141365,"post_id":4317035,"comment_id":4689172,"body_markdown":"@Richard: *&quot;I cannot change the signature of the method.&quot;*","body":"@Richard: <i>&quot;I cannot change the signature of the method.&quot;</i>"},{"owner":{"account_id":71932,"reputation":2395,"user_id":207868,"display_name":"Poindexter"},"score":0,"creation_date":1291141418,"post_id":4317035,"comment_id":4689180,"body_markdown":"Why exactly do you need a `File` object instead of the InputStream?","body":"Why exactly do you need a <code>File</code> object instead of the InputStream?"},{"owner":{"account_id":24660,"reputation":3054,"user_id":2639206,"accept_rate":73,"display_name":"Ram"},"score":3,"creation_date":1291142134,"post_id":4317035,"comment_id":4689301,"body_markdown":"I cannot use InputStream because the API I am using mandates File","body":"I cannot use InputStream because the API I am using mandates File"},{"owner":{"account_id":6718247,"reputation":909,"user_id":5179352,"accept_rate":42,"display_name":"Mike76"},"score":0,"creation_date":1552776625,"post_id":4317035,"comment_id":97141580,"body_markdown":"Seems to me that someone designed a broken API that only accepts files instead of InputStreams, and now you have to use this API","body":"Seems to me that someone designed a broken API that only accepts files instead of InputStreams, and now you have to use this API"}],"answers":[{"comments":[{"owner":{"account_id":52822,"reputation":1089035,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"score":8,"creation_date":1291141439,"post_id":4317087,"comment_id":4689185,"body_markdown":"Indeed, the [`File#createTempFile()`](http://download.oracle.com/javase/6/docs/api/java/io/File.html#createTempFile%28java.lang.String,%20java.lang.String%29) is really your best bet.","body":"Indeed, the <a href=\"http://download.oracle.com/javase/6/docs/api/java/io/File.html#createTempFile%28java.lang.String,%20java.lang.String%29\" rel=\"nofollow noreferrer\"><code>File#createTempFile()</code></a> is really your best bet."},{"owner":{"account_id":120154,"reputation":10077,"user_id":312407,"accept_rate":100,"display_name":"Mike Clark"},"score":8,"creation_date":1291142580,"post_id":4317087,"comment_id":4689373,"body_markdown":"Also see [`File#deleteOnExit()`](http://download.oracle.com/javase/6/docs/api/java/io/File.html#deleteOnExit%28%29), which causes the JVM to attempt to delete the file automatically when the JVM exits.  Of course it&#39;s best to delete the temp file manually and immediately, once you know the file is no longer needed and no longer in use.  But in an imperfect world sometimes imperfect solutions are necessary.","body":"Also see <a href=\"http://download.oracle.com/javase/6/docs/api/java/io/File.html#deleteOnExit%28%29\" rel=\"nofollow noreferrer\"><code>File#deleteOnExit()</code></a>, which causes the JVM to attempt to delete the file automatically when the JVM exits.  Of course it&#39;s best to delete the temp file manually and immediately, once you know the file is no longer needed and no longer in use.  But in an imperfect world sometimes imperfect solutions are necessary."}],"tags":[],"owner":{"account_id":240885,"reputation":13386,"user_id":511362,"accept_rate":71,"display_name":"Jan Thom&#228;"},"comment_count":2,"down_vote_count":1,"up_vote_count":32,"is_accepted":false,"score":31,"last_activity_date":1291141377,"creation_date":1291141377,"answer_id":4317087,"question_id":4317035,"body_markdown":"You can&#39;t. The input stream is just a generic stream of data and there is no guarantee that it actually originates from a File. If someone created an InputStream from reading a web service or just converted a String into an InputStream, there would be no way to link this to a file. So the only thing you can do is actually write data from the stream to a temporary file (e.g. using the File.createTempFile method) and feed this file into your method. ","title":"How to convert InputStream to virtual File","body":"<p>You can't. The input stream is just a generic stream of data and there is no guarantee that it actually originates from a File. If someone created an InputStream from reading a web service or just converted a String into an InputStream, there would be no way to link this to a file. So the only thing you can do is actually write data from the stream to a temporary file (e.g. using the File.createTempFile method) and feed this file into your method. </p>\n"},{"comments":[{"owner":{"account_id":796053,"reputation":115361,"user_id":878126,"accept_rate":51,"display_name":"android developer"},"score":8,"creation_date":1460383074,"post_id":16028522,"comment_id":60702332,"body_markdown":"Isn&#39;t createTempFile actually does write a real file, that you can see in the file-system?","body":"Isn&#39;t createTempFile actually does write a real file, that you can see in the file-system?"},{"owner":{"account_id":1301807,"reputation":1960,"user_id":1251543,"display_name":"cobbzilla"},"score":0,"creation_date":1461204428,"post_id":16028522,"comment_id":61096228,"body_markdown":"you are technically correct. using the code above, the temp file will exist until the program exits or it is deleted by the program.","body":"you are technically correct. using the code above, the temp file will exist until the program exits or it is deleted by the program."},{"owner":{"account_id":796053,"reputation":115361,"user_id":878126,"accept_rate":51,"display_name":"android developer"},"score":0,"creation_date":1461216268,"post_id":16028522,"comment_id":61099565,"body_markdown":"The docs of deleteOnExit say you shouldn&#39;t rely on it to work (and I think it actually doesn&#39;t even do anything) : http://developer.android.com/reference/java/io/File.html#deleteOnExit() . In addition, if you know how to stream the audio into playing, without any file, please write about it here: http://stackoverflow.com/q/36552381/878126","body":"The docs of deleteOnExit say you shouldn&#39;t rely on it to work (and I think it actually doesn&#39;t even do anything) : <a href=\"http://developer.android.com/reference/java/io/File.html#deleteOnExit()\" rel=\"nofollow noreferrer\">developer.android.com/reference/java/io/&hellip;</a> . In addition, if you know how to stream the audio into playing, without any file, please write about it here: <a href=\"http://stackoverflow.com/q/36552381/878126\">stackoverflow.com/q/36552381/878126</a>"},{"owner":{"account_id":1301807,"reputation":1960,"user_id":1251543,"display_name":"cobbzilla"},"score":4,"creation_date":1469751330,"post_id":16028522,"comment_id":64679767,"body_markdown":"Generally speaking, I prefer for the application to delete the temp file when it makes sense to do so. I use `deleteOnExit` as an extra sanity-check, never relying on it unconditionally. I know that in certain situations (`kill -9` the JVM, for example) the shutdown hooks that perform the deletion will never get called.","body":"Generally speaking, I prefer for the application to delete the temp file when it makes sense to do so. I use <code>deleteOnExit</code> as an extra sanity-check, never relying on it unconditionally. I know that in certain situations (<code>kill -9</code> the JVM, for example) the shutdown hooks that perform the deletion will never get called."},{"owner":{"account_id":1334193,"reputation":3868,"user_id":1277350,"display_name":"LordParsley"},"score":0,"creation_date":1521543692,"post_id":16028522,"comment_id":85765630,"body_markdown":"If you&#39;re using this on Android, add ```implementation &#39;org.apache.directory.studio:org.apache.commons.io:2.4&#39;``` to gradle.","body":"If you&#39;re using this on Android, add <code>implementation &#39;org.apache.directory.studio:org.apache.commons.io:2.4&#39;</code> to gradle."},{"owner":{"account_id":3623564,"reputation":272,"user_id":3021768,"display_name":"Afshar"},"score":0,"creation_date":1610182638,"post_id":16028522,"comment_id":116055568,"body_markdown":"If you are using Spring framework, you could use its `FileCopyUtils.copy(..)` instead of `IOUtils.copy(..)`","body":"If you are using Spring framework, you could use its <code>FileCopyUtils.copy(..)</code> instead of <code>IOUtils.copy(..)</code>"},{"owner":{"account_id":15169869,"reputation":797,"user_id":10946295,"display_name":"abdulwasey20"},"score":0,"creation_date":1614239989,"post_id":16028522,"comment_id":117326297,"body_markdown":"`IOUtils` is deprecated","body":"<code>IOUtils</code> is deprecated"}],"tags":[],"owner":{"account_id":1301807,"reputation":1960,"user_id":1251543,"display_name":"cobbzilla"},"comment_count":7,"down_vote_count":0,"up_vote_count":130,"is_accepted":true,"score":130,"last_activity_date":1366086636,"creation_date":1366084685,"answer_id":16028522,"question_id":4317035,"body_markdown":"Something like this should work. Note that for simplicity, I&#39;ve used a Java 7 feature (try block with closeable resource), and IOUtils from Apache commons-io. If you can&#39;t use those it&#39;ll be a little longer, but the same idea.\r\n\r\n    import org.apache.commons.io.IOUtils;\r\n\r\n    import java.io.File;\r\n    import java.io.FileOutputStream;\r\n    import java.io.IOException;\r\n    import java.io.InputStream;\r\n\r\n    public class StreamUtil {\r\n\r\n        public static final String PREFIX = &quot;stream2file&quot;;\r\n        public static final String SUFFIX = &quot;.tmp&quot;;\r\n\r\n        public static File stream2file (InputStream in) throws IOException {\r\n            final File tempFile = File.createTempFile(PREFIX, SUFFIX);\r\n            tempFile.deleteOnExit();\r\n            try (FileOutputStream out = new FileOutputStream(tempFile)) {\r\n                IOUtils.copy(in, out);\r\n            }\r\n            return tempFile;\r\n        }\r\n\r\n    }\r\n","title":"How to convert InputStream to virtual File","body":"<p>Something like this should work. Note that for simplicity, I've used a Java 7 feature (try block with closeable resource), and IOUtils from Apache commons-io. If you can't use those it'll be a little longer, but the same idea.</p>\n\n<pre><code>import org.apache.commons.io.IOUtils;\n\nimport java.io.File;\nimport java.io.FileOutputStream;\nimport java.io.IOException;\nimport java.io.InputStream;\n\npublic class StreamUtil {\n\n    public static final String PREFIX = \"stream2file\";\n    public static final String SUFFIX = \".tmp\";\n\n    public static File stream2file (InputStream in) throws IOException {\n        final File tempFile = File.createTempFile(PREFIX, SUFFIX);\n        tempFile.deleteOnExit();\n        try (FileOutputStream out = new FileOutputStream(tempFile)) {\n            IOUtils.copy(in, out);\n        }\n        return tempFile;\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12241406,"reputation":309,"user_id":8934374,"display_name":"Braden Borman"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655483447,"creation_date":1655483447,"answer_id":72662325,"question_id":4317035,"body_markdown":"If you want to use the MultiPartFile in testing like getting a document from the resource folder -- you can use this.\r\n\r\n    import org.springframework.mock.web.MockMultipartFile;\r\n\r\n\r\n    ClassLoader classLoader = SomeClass.class.getClassLoader();\r\n    InputStream inputStream = classLoader.getResourceAsStream(BASE_DIR + fileName);\r\n    MockMultipartFile(&quot;file&quot;, &quot;NameOfTheFile&quot;, &quot;multipart/form-data&quot;, inputStream);","title":"How to convert InputStream to virtual File","body":"<p>If you want to use the MultiPartFile in testing like getting a document from the resource folder -- you can use this.</p>\n<pre><code>import org.springframework.mock.web.MockMultipartFile;\n\n\nClassLoader classLoader = SomeClass.class.getClassLoader();\nInputStream inputStream = classLoader.getResourceAsStream(BASE_DIR + fileName);\nMockMultipartFile(&quot;file&quot;, &quot;NameOfTheFile&quot;, &quot;multipart/form-data&quot;, inputStream);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2853776,"reputation":1477,"user_id":2450403,"accept_rate":94,"display_name":"Simmant"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688210044,"creation_date":1688210044,"answer_id":76594443,"question_id":4317035,"body_markdown":"If anyone just wanted to read bytes from InputStream, for that job you don&#39;t have to create file and then read it from source.\r\n\r\nThis can be done with below example, and key method here are &quot;readAllBytes&quot;, which is introduce with JDK 9 in System class.\r\n\r\nExample:\r\n\r\n    URL url = new URL(&quot;http://www.google.com&quot;);\r\n    \t\tInputStream io = url.openStream();\r\n    \t\tSystem.setIn(io);\r\n    \t\tbyte[] bytes = System.in.readAllBytes();\r\n    \t\tString str = new String(bytes);\r\n    \t\tSystem.out.println(str);\r\n\r\n","title":"How to convert InputStream to virtual File","body":"<p>If anyone just wanted to read bytes from InputStream, for that job you don't have to create file and then read it from source.</p>\n<p>This can be done with below example, and key method here are &quot;readAllBytes&quot;, which is introduce with JDK 9 in System class.</p>\n<p>Example:</p>\n<pre><code>URL url = new URL(&quot;http://www.google.com&quot;);\n        InputStream io = url.openStream();\n        System.setIn(io);\n        byte[] bytes = System.in.readAllBytes();\n        String str = new String(bytes);\n        System.out.println(str);\n</code></pre>\n"}],"owner":{"account_id":24660,"reputation":3054,"user_id":2639206,"accept_rate":73,"display_name":"Ram"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":116011,"favorite_count":0,"down_vote_count":0,"up_vote_count":86,"accepted_answer_id":16028522,"answer_count":4,"score":86,"last_activity_date":1688210044,"creation_date":1291141025,"question_id":4317035,"body_markdown":"I have a method which expects the one of the input variable to be of java.io.File type but what I get is only InputStream. Also, I cannot change the signature of the method.\r\n\r\nHow can I convert the InputStream into File type with out actually writing the file on to the filesystem?","title":"How to convert InputStream to virtual File","body":"<p>I have a method which expects the one of the input variable to be of java.io.File type but what I get is only InputStream. Also, I cannot change the signature of the method.</p>\n\n<p>How can I convert the InputStream into File type with out actually writing the file on to the filesystem?</p>\n"},{"tags":["java","arrays","split"],"answers":[{"tags":[],"owner":{"account_id":10295328,"reputation":640,"user_id":7595722,"display_name":"Rodentman87"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1585628040,"creation_date":1585628040,"answer_id":60943353,"question_id":60943319,"body_markdown":"You placed the variable declaration for `oldest` inside of the loop, so each time that a new line of input is read, `oldest` is set back to 0, if you move that outside of the while loop, your code should work properly as is.","title":"How do you get the name of the oldest person using split strings and array in Java","body":"<p>You placed the variable declaration for <code>oldest</code> inside of the loop, so each time that a new line of input is read, <code>oldest</code> is set back to 0, if you move that outside of the while loop, your code should work properly as is.</p>\n"},{"tags":[],"owner":{"account_id":26332392,"reputation":11,"user_id":22016865,"display_name":"Sushil"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1688209869,"creation_date":1688209869,"answer_id":76594426,"question_id":60943319,"body_markdown":"[Snippet of the output][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/px98q.png\r\n\r\nFolks who are still looking for the answer, here I am attaching the source code below for your reference. &#128071;&#127995;\r\n\r\n\r\n    import java.util.Scanner;\r\n    \r\n    public class NameOfTheOldest {\r\n    \r\n        public static void main(String[] args) {\r\n            Scanner scanner = new Scanner(System.in);\r\n            int old=0;\r\n            String s=&quot;&quot;;\r\n            while (true) {\r\n                String input = scanner.nextLine();\r\n                if (input.equals(&quot;&quot;)) {\r\n                    break;\r\n                }\r\n                String[] part = input.split(&quot;,&quot;);\r\n                //String name = part[0];                            \r\n                int age = Integer.valueOf(part[1]);\r\n                if (age&gt;old) {\r\n                    old=age;\r\n                    s = part[0];\r\n                }\r\n            }\r\n            System.out.println(&quot;Name of the oldest: &quot;+s);\r\n        } }","title":"How do you get the name of the oldest person using split strings and array in Java","body":"<p><a href=\"https://i.stack.imgur.com/px98q.png\" rel=\"nofollow noreferrer\">Snippet of the output</a></p>\n<p>Folks who are still looking for the answer, here I am attaching the source code below for your reference. 👇🏻</p>\n<pre><code>import java.util.Scanner;\n\npublic class NameOfTheOldest {\n\n    public static void main(String[] args) {\n        Scanner scanner = new Scanner(System.in);\n        int old=0;\n        String s=&quot;&quot;;\n        while (true) {\n            String input = scanner.nextLine();\n            if (input.equals(&quot;&quot;)) {\n                break;\n            }\n            String[] part = input.split(&quot;,&quot;);\n            //String name = part[0];                            \n            int age = Integer.valueOf(part[1]);\n            if (age&gt;old) {\n                old=age;\n                s = part[0];\n            }\n        }\n        System.out.println(&quot;Name of the oldest: &quot;+s);\n    } }\n</code></pre>\n"}],"owner":{"account_id":18049692,"reputation":21,"user_id":13119691,"display_name":"bimyou"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1467,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":60943353,"answer_count":2,"score":1,"last_activity_date":1688209869,"creation_date":1585627825,"question_id":60943319,"body_markdown":"I&#39;ve been staring at this problem for too long.. This is an exercise from https://java-programming.mooc.fi/part-3/4-using-strings and I have to get the name of the oldest person through splitting the strings and finding the name with the oldest age.\r\n\r\n \r\n\r\n    &gt; Sample Input: Johnny, 5\r\n    &gt;               Rose, 19\r\n    &gt;               Sam, 10\r\n\r\nDesired Output: Rose\r\n\r\n \r\n\r\n \r\n\r\nAny help would genuinely be appreciated. Thanks!\r\n\r\n \r\n\r\n \r\n\r\n \r\n\r\n\r\n    import java.util.Scanner;\r\n    \r\n    public class NameOfTheOldest {\r\n    \r\n        public static void main(String[] args) {\r\n            Scanner scanner = new Scanner(System.in);\r\n    \r\n            String name = &quot;&quot;;\r\n    \r\n            while (true) {\r\n    \r\n                String input = scanner.nextLine();\r\n    \r\n                if (input.equals(&quot;&quot;)) {\r\n    \r\n                    break;\r\n    \r\n                }\r\n    \r\n                String[] pieces = input.split(&quot;,&quot;);\r\n    \r\n                int age = Integer.valueOf(pieces[1]);\r\n    \r\n                int oldest = 0;\r\n    \r\n                if (age &gt; oldest) {\r\n    \r\n                    name = pieces[0];\r\n    \r\n                    oldest = age;\r\n    \r\n                }\r\n            }\r\n    \r\n            System.out.println(&quot;Name of the oldest: &quot; + name);\r\n        }\r\n    }\r\n     ","title":"How do you get the name of the oldest person using split strings and array in Java","body":"<p>I've been staring at this problem for too long.. This is an exercise from <a href=\"https://java-programming.mooc.fi/part-3/4-using-strings\" rel=\"nofollow noreferrer\">https://java-programming.mooc.fi/part-3/4-using-strings</a> and I have to get the name of the oldest person through splitting the strings and finding the name with the oldest age.</p>\n\n<pre><code>&gt; Sample Input: Johnny, 5\n&gt;               Rose, 19\n&gt;               Sam, 10\n</code></pre>\n\n<p>Desired Output: Rose</p>\n\n<p>Any help would genuinely be appreciated. Thanks!</p>\n\n<pre><code>import java.util.Scanner;\n\npublic class NameOfTheOldest {\n\n    public static void main(String[] args) {\n        Scanner scanner = new Scanner(System.in);\n\n        String name = \"\";\n\n        while (true) {\n\n            String input = scanner.nextLine();\n\n            if (input.equals(\"\")) {\n\n                break;\n\n            }\n\n            String[] pieces = input.split(\",\");\n\n            int age = Integer.valueOf(pieces[1]);\n\n            int oldest = 0;\n\n            if (age &gt; oldest) {\n\n                name = pieces[0];\n\n                oldest = age;\n\n            }\n        }\n\n        System.out.println(\"Name of the oldest: \" + name);\n    }\n}\n</code></pre>\n"},{"tags":["java","eclipse","eclipse-rcp"],"answers":[{"comments":[{"owner":{"account_id":248455,"reputation":1393,"user_id":2638563,"accept_rate":88,"display_name":"Kaadzia"},"score":9,"creation_date":1380273362,"post_id":654043,"comment_id":28148162,"body_markdown":"Good explanation to why the flag is called NON NLS (No National Language Support). Thanks.","body":"Good explanation to why the flag is called NON NLS (No National Language Support). Thanks."}],"tags":[],"owner":{"account_id":246,"reputation":107913,"user_id":304,"accept_rate":40,"display_name":"McDowell"},"comment_count":1,"down_vote_count":0,"up_vote_count":61,"is_accepted":false,"score":61,"last_activity_date":1237293434,"creation_date":1237293434,"answer_id":654043,"question_id":654037,"body_markdown":"The string is not translatable. It tells the Eclipse editor to not flag the string as unresourced. This is important for multilingual applications.","title":"What does $NON-NLS-1$ mean?","body":"<p>The string is not translatable. It tells the Eclipse editor to not flag the string as unresourced. This is important for multilingual applications.</p>\n"},{"comments":[{"owner":{"account_id":2397,"reputation":179879,"user_id":3333,"accept_rate":80,"display_name":"Paul Tomblin"},"score":4,"creation_date":1237293651,"post_id":654050,"comment_id":467270,"body_markdown":"I don&#39;t think it&#39;s the compiler, I think it&#39;s Eclipse that complains.","body":"I don&#39;t think it&#39;s the compiler, I think it&#39;s Eclipse that complains."},{"owner":{"account_id":1889,"reputation":120472,"user_id":2603,"accept_rate":75,"display_name":"Aaron Maenpaa"},"score":6,"creation_date":1237293931,"post_id":654050,"comment_id":467289,"body_markdown":"Eclipse has it&#39;s own compiler as part of JDT which it uses for this kind of thing. So yes it is the compiler (Eclipse&#39;s compiler anyway).","body":"Eclipse has it&#39;s own compiler as part of JDT which it uses for this kind of thing. So yes it is the compiler (Eclipse&#39;s compiler anyway)."}],"tags":[],"owner":{"account_id":25166,"reputation":29119,"user_id":64495,"accept_rate":67,"display_name":"Bj&#246;rn"},"comment_count":2,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1379365835,"creation_date":1237293513,"answer_id":654050,"question_id":654037,"body_markdown":"It tells the compiler not to complain about a non externalized string, and that it doesn&#39;t require localization.","title":"What does $NON-NLS-1$ mean?","body":"<p>It tells the compiler not to complain about a non externalized string, and that it doesn't require localization.</p>\n"},{"comments":[{"owner":{"account_id":267986,"reputation":10096,"user_id":556493,"display_name":"yingted"},"score":0,"creation_date":1332040283,"post_id":654051,"comment_id":12411435,"body_markdown":"Some strings don&#39;t work properly when they&#39;re translated. If a string represents a charset, HTML/XML tag, regex, etc., they could change the behaviour of the program.","body":"Some strings don&#39;t work properly when they&#39;re translated. If a string represents a charset, HTML/XML tag, regex, etc., they could change the behaviour of the program."}],"tags":[],"owner":{"account_id":13252,"reputation":7128,"user_id":26496,"accept_rate":79,"display_name":"Kees de Kooter"},"comment_count":1,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1237293515,"creation_date":1237293515,"answer_id":654051,"question_id":654037,"body_markdown":"It&#39;s used by Eclipse to indicate that a string doesn&#39;t need to be translated, probably because it&#39;s not going to be seen by the application&#39;s users. ","title":"What does $NON-NLS-1$ mean?","body":"<p>It's used by Eclipse to indicate that a string doesn't need to be translated, probably because it's not going to be seen by the application's users. </p>\n"},{"comments":[{"owner":{"account_id":2259,"reputation":18603,"user_id":3122,"accept_rate":81,"display_name":"paulgreg"},"score":1,"creation_date":1237302851,"post_id":654056,"comment_id":467991,"body_markdown":"Ok, so, it is only on eclipse ? What about IntelliJ Idea or Netbeans ?","body":"Ok, so, it is only on eclipse ? What about IntelliJ Idea or Netbeans ?"},{"owner":{"account_id":1889,"reputation":120472,"user_id":2603,"accept_rate":75,"display_name":"Aaron Maenpaa"},"score":0,"creation_date":1237323113,"post_id":654056,"comment_id":469430,"body_markdown":"As far as I&#39;m aware it&#39;s an Eclipse thing, though other IDEs may have picked it up.","body":"As far as I&#39;m aware it&#39;s an Eclipse thing, though other IDEs may have picked it up."},{"owner":{"account_id":25621,"reputation":21842,"user_id":65977,"accept_rate":79,"display_name":"Tyler"},"score":14,"creation_date":1279224435,"post_id":654056,"comment_id":3369741,"body_markdown":"So, what does NLS stand for?","body":"So, what does NLS stand for?"},{"owner":{"account_id":26705,"reputation":21852,"user_id":69749,"accept_rate":83,"display_name":"Daniel Dickison"},"score":43,"creation_date":1281635671,"post_id":654056,"comment_id":3620816,"body_markdown":"@MatrixFrog it seems to be &quot;National Language Support&quot;, at least that&#39;s what it&#39;s referred to here: http://msdn.microsoft.com/en-us/library/ms906482.aspx","body":"@MatrixFrog it seems to be &quot;National Language Support&quot;, at least that&#39;s what it&#39;s referred to here: <a href=\"http://msdn.microsoft.com/en-us/library/ms906482.aspx\" rel=\"nofollow noreferrer\">msdn.microsoft.com/en-us/library/ms906482.aspx</a>"},{"owner":{"account_id":18163,"reputation":1371,"user_id":41362,"display_name":"migu"},"score":24,"creation_date":1320931923,"post_id":654056,"comment_id":9902669,"body_markdown":"To be evaluative, I think such IDE-specific markers should not be used if code is altered in different environments. While the marker does no harm it clutters the code and makes it slightly more difficult to maintain.","body":"To be evaluative, I think such IDE-specific markers should not be used if code is altered in different environments. While the marker does no harm it clutters the code and makes it slightly more difficult to maintain."},{"owner":{"account_id":30153,"reputation":3798,"user_id":82049,"display_name":"rpr"},"score":4,"creation_date":1336487653,"post_id":654056,"comment_id":13574266,"body_markdown":"So, how do you configure Eclipse to detect string literals, so that missing //$NON-NLS-1$ would raise a warning or smt?","body":"So, how do you configure Eclipse to detect string literals, so that missing //$NON-NLS-1$ would raise a warning or smt?"},{"owner":{"account_id":551172,"reputation":1395,"user_id":915931,"accept_rate":71,"display_name":"Matt Warrick"},"score":3,"creation_date":1337350631,"post_id":654056,"comment_id":13816766,"body_markdown":"NetBeans Platform uses //NOI18N comment keyword for the same purpose","body":"NetBeans Platform uses //NOI18N comment keyword for the same purpose"},{"owner":{"account_id":453409,"reputation":797,"user_id":850379,"accept_rate":73,"display_name":"gebuh"},"score":2,"creation_date":1379218045,"post_id":654056,"comment_id":27740151,"body_markdown":"@rpr To configure Eclipse to warn you about missing //$NON-NLS-1$, look under Window -&gt; Java -&gt; Compiler -&gt; Errors/Warnings.  It&#39;s below the Code Style dropdown.","body":"@rpr To configure Eclipse to warn you about missing //$NON-NLS-1$, look under Window -&gt; Java -&gt; Compiler -&gt; Errors/Warnings.  It&#39;s below the Code Style dropdown."},{"owner":{"account_id":2227979,"reputation":1802,"user_id":1966294,"accept_rate":62,"display_name":"Matt"},"score":2,"creation_date":1381240094,"post_id":654056,"comment_id":28494533,"body_markdown":"I&#39;m assuming `//$NON-NLS-1$ //$NON-NLS-2$ //$NON-NLS-3$` just silences 3 strings in one line. Could you just put `//$NON-NLS$` to silence all string literals in a line?","body":"I&#39;m assuming <code>&#47;&#47;$NON-NLS-1$ &#47;&#47;$NON-NLS-2$ &#47;&#47;$NON-NLS-3$</code> just silences 3 strings in one line. Could you just put <code>&#47;&#47;$NON-NLS$</code> to silence all string literals in a line?"},{"owner":{"account_id":3818276,"reputation":783,"user_id":3167040,"display_name":"ReinstateMonica3167040"},"score":0,"creation_date":1601302095,"post_id":654056,"comment_id":113357282,"body_markdown":"@Matt Yes, you could.","body":"@Matt Yes, you could."}],"tags":[],"owner":{"account_id":1889,"reputation":120472,"user_id":2603,"accept_rate":75,"display_name":"Aaron Maenpaa"},"comment_count":10,"down_vote_count":0,"up_vote_count":389,"is_accepted":true,"score":389,"last_activity_date":1237293634,"creation_date":1237293634,"answer_id":654056,"question_id":654037,"body_markdown":"They silence a warning that Eclipse emits when it encounters string literals (and has been configured to complain).\r\n\r\nThe idea is that UI messages should not be embedded as string literals, but rather sourced from a resource file (so that they can be translated, proofed, etc). Consequently, Eclipse can be configured to detect string literals, so that you don&#39;t accidentally have leave unexternalized UI strings in the code; however, there are strings which should not be externalized (such as regexps) and so, //$NON-NLS-1$ gives you a way to communicate that fact to the compiler.\r\n","title":"What does $NON-NLS-1$ mean?","body":"<p>They silence a warning that Eclipse emits when it encounters string literals (and has been configured to complain).</p>\n\n<p>The idea is that UI messages should not be embedded as string literals, but rather sourced from a resource file (so that they can be translated, proofed, etc). Consequently, Eclipse can be configured to detect string literals, so that you don't accidentally have leave unexternalized UI strings in the code; however, there are strings which should not be externalized (such as regexps) and so, //$NON-NLS-1$ gives you a way to communicate that fact to the compiler.</p>\n"},{"tags":[],"owner":{"account_id":125755,"reputation":1627,"user_id":321747,"accept_rate":50,"display_name":"fishjd"},"comment_count":0,"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1372189592,"creation_date":1297187614,"answer_id":4936503,"question_id":654037,"body_markdown":"If you are an Android developer.  All strings the user may see should be in the resource file /res/values/strings.xml to read strings.xml file in the code you use R.string.&lt;your key&gt;.  By adding the tag //$NON-NLS-$ you are noting that the string will not be seen by users.  \r\n\r\nThe warning in Eclipse Helios may be turned on at `Window -&gt; preferences -&gt; java -&gt; Compiler -&gt; code style -&gt; &quot;Non-externalized Strings (missing/unused &amp;NON-NLS$ tag)`.  \r\n\r\nIf you are planning on programming your activity to be multi-language, it would be recommended to turn this on.  And then adding the &amp;NON-NLS$ tag to strings that are internal to you activity.  Eclipse will add &amp;NON-NLS$ tag in the quick-fix if you right click on the warning or error.  ","title":"What does $NON-NLS-1$ mean?","body":"<p>If you are an Android developer.  All strings the user may see should be in the resource file /res/values/strings.xml to read strings.xml file in the code you use R.string..  By adding the tag //$NON-NLS-$ you are noting that the string will not be seen by users.  </p>\n\n<p>The warning in Eclipse Helios may be turned on at <code>Window -&gt; preferences -&gt; java -&gt; Compiler -&gt; code style -&gt; \"Non-externalized Strings (missing/unused &amp;NON-NLS$ tag)</code>.  </p>\n\n<p>If you are planning on programming your activity to be multi-language, it would be recommended to turn this on.  And then adding the &amp;NON-NLS$ tag to strings that are internal to you activity.  Eclipse will add &amp;NON-NLS$ tag in the quick-fix if you right click on the warning or error.  </p>\n"},{"tags":[],"owner":{"account_id":902304,"reputation":52117,"user_id":938111,"accept_rate":84,"display_name":"oHo"},"comment_count":0,"down_vote_count":0,"up_vote_count":36,"is_accepted":false,"score":36,"last_activity_date":1477496853,"creation_date":1477496519,"answer_id":40266605,"question_id":654037,"body_markdown":"`NON-NLS` means ***Non**-**N**ational **L**anguage **S**upport*.  \r\n[Wikipedia][WP] proposes also ***Non**-**N**ative **L**anguage **S**upport* (NLS) but this last one is not very used.\r\n\r\n**NLS** is about internationalizing your application. Eclipse help to locate hard-coded strings in your code. To indicate a string is not part of the internationalization, append the comment `//$NON-NLS-x$` where x is the position of the string. On the following example both `&quot;!&quot;` are hard-coded strings not part of the internationalization:\r\n\r\n     public String foo(String key) { \r\n       return &quot;!&quot; + key + &quot;!&quot;; //$NON-NLS-1$ //$NON-NLS-2$ \r\n     } \r\n\r\nNotes:\r\n\r\n* the leading `//` is necessary each time\r\n* no global `$NON-NLS$` for multiple strings within the same line  \r\n  (e.g. if your line has six strings, you have to write six times `//$NON-NLS-x$`)\r\n\r\nThe book [EMF: Eclipse Modeling Framework at page 250][p250] says:\r\n\r\n&gt; **Non-NLS Markers—** Eclipse&#39;s Java compiler has the ability to flag non-externalized strings as a warning or error, in order to facilitate enablement of National Language Support (NLS). EMF-generated code does not use hard coded strings for messages that the user will see; however, string literals do appear frequently, for example, as keys for lookup of externalized strings in a property file. This property controls whether to include comments that mark those literals as non-translatable, so that the compiler will not flag them.\r\n\r\nFor more details see also the pages [The Generator GUI][R] and [How to Internationalize your Eclipse Plug-In][H].\r\n\r\nYou can enable/disable this feature. On Eclipse Neon go to  \r\n`Project &gt; Properties &gt; Java Compiler &gt; Errors/Warnings`  \r\nand select the field  \r\n`Non-externalized strings (missing/unused $NON-NLS$ tag)`\r\n\r\n[![Window of the Project Properties on Eclipse][P]][P]\r\n\r\n[WP]: https://en.wikipedia.org/wiki/Internationalization_and_localization#Naming\r\n[p250]: https://books.google.fr/books?id=ff-9ZYhvPwwC&amp;pg=PA250\r\n[R]: http://www.heod.ru/0131425420_ch11lev1sec2.shtml\r\n[H]: http://www.eclipse.org/articles/Article-Internationalization/how2I18n.html\r\n[P]: https://i.stack.imgur.com/bTeYj.png","title":"What does $NON-NLS-1$ mean?","body":"<p><code>NON-NLS</code> means <strong><em>Non</strong>-<strong>N</strong>ational <strong>L</strong>anguage <strong>S</strong>upport</em>.<br>\n<a href=\"https://en.wikipedia.org/wiki/Internationalization_and_localization#Naming\" rel=\"noreferrer\">Wikipedia</a> proposes also <strong><em>Non</strong>-<strong>N</strong>ative <strong>L</strong>anguage <strong>S</strong>upport</em> (NLS) but this last one is not very used.</p>\n\n<p><strong>NLS</strong> is about internationalizing your application. Eclipse help to locate hard-coded strings in your code. To indicate a string is not part of the internationalization, append the comment <code>//$NON-NLS-x$</code> where x is the position of the string. On the following example both <code>\"!\"</code> are hard-coded strings not part of the internationalization:</p>\n\n<pre><code> public String foo(String key) { \n   return \"!\" + key + \"!\"; //$NON-NLS-1$ //$NON-NLS-2$ \n } \n</code></pre>\n\n<p>Notes:</p>\n\n<ul>\n<li>the leading <code>//</code> is necessary each time</li>\n<li>no global <code>$NON-NLS$</code> for multiple strings within the same line<br>\n(e.g. if your line has six strings, you have to write six times <code>//$NON-NLS-x$</code>)</li>\n</ul>\n\n<p>The book <a href=\"https://books.google.fr/books?id=ff-9ZYhvPwwC&amp;pg=PA250\" rel=\"noreferrer\">EMF: Eclipse Modeling Framework at page 250</a> says:</p>\n\n<blockquote>\n  <p><strong>Non-NLS Markers—</strong> Eclipse's Java compiler has the ability to flag non-externalized strings as a warning or error, in order to facilitate enablement of National Language Support (NLS). EMF-generated code does not use hard coded strings for messages that the user will see; however, string literals do appear frequently, for example, as keys for lookup of externalized strings in a property file. This property controls whether to include comments that mark those literals as non-translatable, so that the compiler will not flag them.</p>\n</blockquote>\n\n<p>For more details see also the pages <a href=\"http://www.heod.ru/0131425420_ch11lev1sec2.shtml\" rel=\"noreferrer\">The Generator GUI</a> and <a href=\"http://www.eclipse.org/articles/Article-Internationalization/how2I18n.html\" rel=\"noreferrer\">How to Internationalize your Eclipse Plug-In</a>.</p>\n\n<p>You can enable/disable this feature. On Eclipse Neon go to<br>\n<code>Project &gt; Properties &gt; Java Compiler &gt; Errors/Warnings</code><br>\nand select the field<br>\n<code>Non-externalized strings (missing/unused $NON-NLS$ tag)</code></p>\n\n<p><a href=\"https://i.stack.imgur.com/bTeYj.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/bTeYj.png\" alt=\"Window of the Project Properties on Eclipse\"></a></p>\n"},{"tags":[],"owner":{"account_id":28352719,"reputation":1,"user_id":21683940,"display_name":"reset"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688209011,"creation_date":1688209011,"answer_id":76594377,"question_id":654037,"body_markdown":"It is an annotation that indicates that an annotated code element is a string which is not visible to users, which doesn’t require localization, and which doesn’t contain strings requiring localization. When you annotate an element with `NonNls`, localization tools will skip this element and strings inside it.","title":"What does $NON-NLS-1$ mean?","body":"<p>It is an annotation that indicates that an annotated code element is a string which is not visible to users, which doesn’t require localization, and which doesn’t contain strings requiring localization. When you annotate an element with <code>NonNls</code>, localization tools will skip this element and strings inside it.</p>\n"}],"owner":{"account_id":2259,"reputation":18603,"user_id":3122,"accept_rate":81,"display_name":"paulgreg"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":82851,"favorite_count":0,"down_vote_count":0,"up_vote_count":337,"accepted_answer_id":654056,"answer_count":7,"score":337,"last_activity_date":1688209011,"creation_date":1237293267,"question_id":654037,"body_markdown":"In Eclipse source code, I&#39;ve found some &#39;$NON-NLS-1$&#39; in comments used like that :\r\n\r\n    private String toolTip = &quot;&quot;; //$NON-NLS-1$\r\n\r\nWhat does that mean ?","title":"What does $NON-NLS-1$ mean?","body":"<p>In Eclipse source code, I've found some '$NON-NLS-1$' in comments used like that :</p>\n\n<pre><code>private String toolTip = \"\"; //$NON-NLS-1$\n</code></pre>\n\n<p>What does that mean ?</p>\n"},{"tags":["java","switch-statement","java-17"],"comments":[{"owner":{"account_id":25411796,"reputation":121,"user_id":19219457,"display_name":"mikegrep"},"score":1,"creation_date":1688209034,"post_id":76594338,"comment_id":135045372,"body_markdown":"You need to break the switch stamen cases.","body":"You need to break the switch stamen cases."},{"owner":{"account_id":23012756,"reputation":1,"user_id":17135043,"display_name":"NaveenB2004"},"score":0,"creation_date":1688211745,"post_id":76594338,"comment_id":135045616,"body_markdown":"Thanks for the suggestions! Really appreciate!","body":"Thanks for the suggestions! Really appreciate!"},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1688212832,"post_id":76594338,"comment_id":135045721,"body_markdown":"But this information can and *should* be found in any basic switch statement tutorial. Consider availing yourself of the Java Tutorials.","body":"But this information can and <i>should</i> be found in any basic switch statement tutorial. Consider availing yourself of the Java Tutorials."},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1688220625,"post_id":76594338,"comment_id":135046492,"body_markdown":"Link: [The Java™ Tutorials](https://docs.oracle.com/javase/tutorial/)","body":"Link: <a href=\"https://docs.oracle.com/javase/tutorial/\" rel=\"nofollow noreferrer\">The Java™ Tutorials</a>"},{"owner":{"account_id":23012756,"reputation":1,"user_id":17135043,"display_name":"NaveenB2004"},"score":0,"creation_date":1688231863,"post_id":76594338,"comment_id":135047612,"body_markdown":"I see ). Thanks for the reply!","body":"I see ). Thanks for the reply!"}],"answers":[{"comments":[{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1688380500,"post_id":76594369,"comment_id":135061923,"body_markdown":"Since this question has been tagged with `[java-17]`, the better option is to use the new syntax: `switch(a) { case 0 -&gt; System.out.println(0); case 1 -&gt; System.out.println(1); case 2 -&gt; System.out.println(2); case 3 -&gt; System.out.println(3); case 4 -&gt; System.out.println(4); case 5 -&gt; System.out.println(5); }` Then, you don’t have to remember to put `break` into it.","body":"Since this question has been tagged with <code>[java-17]</code>, the better option is to use the new syntax: <code>switch(a) { case 0 -&gt; System.out.println(0); case 1 -&gt; System.out.println(1); case 2 -&gt; System.out.println(2); case 3 -&gt; System.out.println(3); case 4 -&gt; System.out.println(4); case 5 -&gt; System.out.println(5); }</code> Then, you don’t have to remember to put <code>break</code> into it."}],"tags":[],"owner":{"account_id":9171073,"reputation":732,"user_id":6818560,"accept_rate":12,"display_name":"İlkay Gunel"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1688208917,"creation_date":1688208917,"answer_id":76594369,"question_id":76594338,"body_markdown":"You need to add &quot;break&quot; to switc-case definitions. When a switch statemnt matches, you need to prevent other matching checking. \r\n\r\nYou can use like this:  \r\n\r\n        switch (a) {\r\n            case 0:\r\n                System.out.println(0);\r\n                break;\r\n            case 1:\r\n                System.out.println(1);\r\n                break;\r\n            case 2:\r\n                System.out.println(2);\r\n                break;\r\n            case 3:\r\n                System.out.println(3);\r\n                break;\r\n            case 4:\r\n                System.out.println(4);\r\n                break;\r\n            case 5:\r\n                System.out.println(5);\r\n                break;\r\n        }","title":"Problem while using switch statement in my Java program","body":"<p>You need to add &quot;break&quot; to switc-case definitions. When a switch statemnt matches, you need to prevent other matching checking.</p>\n<p>You can use like this:</p>\n<pre><code>    switch (a) {\n        case 0:\n            System.out.println(0);\n            break;\n        case 1:\n            System.out.println(1);\n            break;\n        case 2:\n            System.out.println(2);\n            break;\n        case 3:\n            System.out.println(3);\n            break;\n        case 4:\n            System.out.println(4);\n            break;\n        case 5:\n            System.out.println(5);\n            break;\n    }\n</code></pre>\n"}],"owner":{"account_id":23012756,"reputation":1,"user_id":17135043,"display_name":"NaveenB2004"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":46,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1688211752,"accepted_answer_id":76594369,"answer_count":1,"score":-1,"last_activity_date":1688208917,"creation_date":1688208450,"question_id":76594338,"body_markdown":"I have a `jTabbedPane` in my program. When I click on a tab, I need to awake a specific method. I used a `switch` statement to invoke each method by catching the `StateChange` event. This is my code.\r\n\r\njTabbedPane :\r\n```\r\nprivate javax.swing.JTabbedPane jTabbedPane1;\r\njTabbedPane1 = new javax.swing.JTabbedPane();\r\njTabbedPane1.setBorder(javax.swing.BorderFactory.createEtchedBorder());\r\njTabbedPane1.setTabPlacement(javax.swing.JTabbedPane.LEFT);\r\njTabbedPane1.addChangeListener(new javax.swing.event.ChangeListener() {\r\n    public void stateChanged(javax.swing.event.ChangeEvent evt) {\r\n        jTabbedPane1StateChanged(evt);\r\n    }\r\n});\r\njTabbedPane1.addTab(&quot;tab0&quot;, jPanel0);\r\njTabbedPane1.addTab(&quot;tab1&quot;, jPanel1);\r\njTabbedPane1.addTab(&quot;tab2&quot;, jPanel2);\r\njTabbedPane1.addTab(&quot;tab3&quot;, jPanel3);\r\njTabbedPane1.addTab(&quot;tab4&quot;, jPanel4);\r\njTabbedPane1.addTab(&quot;tab5&quot;, jPanel5);\r\n```\r\n\r\nEvent Handler:\r\n```\r\nprivate void jTabbedPane1StateChanged(javax.swing.event.ChangeEvent evt) {\r\n  switch (jTabbedPane1.getSelectedIndex()) {\r\n     case 0:\r\n       method0();\r\n     case 1:\r\n       method1();\r\n     case 2:\r\n       method2();\r\n     case 3:\r\n       method3();\r\n     case 4:\r\n       method4();\r\n     case 5:\r\n       method5();\r\n  }\r\n}\r\n```\r\n\r\nBut, when I click on a tab, all methods are called. No error was shown. I&#39;m using `JDK 17`.\r\n```\r\njava 17.0.6 2023-01-17 LTS\r\nJava(TM) SE Runtime Environment (build 17.0.6+9-LTS-190)\r\nJava HotSpot(TM) 64-Bit Server VM (build 17.0.6+9-LTS-190, mixed mode, sharing)\r\n```\r\n\r\nWhen I use the `if` statement instead of the `switch` statement, the code is working perfectly.\r\n\r\n```\r\nprivate void jTabbedPane1StateChanged(javax.swing.event.ChangeEvent evt) {\r\n  if (jTabbedPane1.getSelectedIndex() == 0) {\r\n    method0();\r\n  }\r\n  if (jTabbedPane1.getSelectedIndex() == 1) {\r\n    method1();\r\n  }\r\n  if (jTabbedPane1.getSelectedIndex() == 2) {\r\n    method2();\r\n  }\r\n  if (jTabbedPane1.getSelectedIndex() == 3) {\r\n    method3();\r\n  }\r\n  if (jTabbedPane1.getSelectedIndex() == 4) {\r\n    method4();\r\n  }\r\n  if (jTabbedPane1.getSelectedIndex() == 5) {\r\n    method5();\r\n  }\r\n}\r\n```\r\n\r\nWhat is the problem there?","title":"Problem while using switch statement in my Java program","body":"<p>I have a <code>jTabbedPane</code> in my program. When I click on a tab, I need to awake a specific method. I used a <code>switch</code> statement to invoke each method by catching the <code>StateChange</code> event. This is my code.</p>\n<p>jTabbedPane :</p>\n<pre><code>private javax.swing.JTabbedPane jTabbedPane1;\njTabbedPane1 = new javax.swing.JTabbedPane();\njTabbedPane1.setBorder(javax.swing.BorderFactory.createEtchedBorder());\njTabbedPane1.setTabPlacement(javax.swing.JTabbedPane.LEFT);\njTabbedPane1.addChangeListener(new javax.swing.event.ChangeListener() {\n    public void stateChanged(javax.swing.event.ChangeEvent evt) {\n        jTabbedPane1StateChanged(evt);\n    }\n});\njTabbedPane1.addTab(&quot;tab0&quot;, jPanel0);\njTabbedPane1.addTab(&quot;tab1&quot;, jPanel1);\njTabbedPane1.addTab(&quot;tab2&quot;, jPanel2);\njTabbedPane1.addTab(&quot;tab3&quot;, jPanel3);\njTabbedPane1.addTab(&quot;tab4&quot;, jPanel4);\njTabbedPane1.addTab(&quot;tab5&quot;, jPanel5);\n</code></pre>\n<p>Event Handler:</p>\n<pre><code>private void jTabbedPane1StateChanged(javax.swing.event.ChangeEvent evt) {\n  switch (jTabbedPane1.getSelectedIndex()) {\n     case 0:\n       method0();\n     case 1:\n       method1();\n     case 2:\n       method2();\n     case 3:\n       method3();\n     case 4:\n       method4();\n     case 5:\n       method5();\n  }\n}\n</code></pre>\n<p>But, when I click on a tab, all methods are called. No error was shown. I'm using <code>JDK 17</code>.</p>\n<pre><code>java 17.0.6 2023-01-17 LTS\nJava(TM) SE Runtime Environment (build 17.0.6+9-LTS-190)\nJava HotSpot(TM) 64-Bit Server VM (build 17.0.6+9-LTS-190, mixed mode, sharing)\n</code></pre>\n<p>When I use the <code>if</code> statement instead of the <code>switch</code> statement, the code is working perfectly.</p>\n<pre><code>private void jTabbedPane1StateChanged(javax.swing.event.ChangeEvent evt) {\n  if (jTabbedPane1.getSelectedIndex() == 0) {\n    method0();\n  }\n  if (jTabbedPane1.getSelectedIndex() == 1) {\n    method1();\n  }\n  if (jTabbedPane1.getSelectedIndex() == 2) {\n    method2();\n  }\n  if (jTabbedPane1.getSelectedIndex() == 3) {\n    method3();\n  }\n  if (jTabbedPane1.getSelectedIndex() == 4) {\n    method4();\n  }\n  if (jTabbedPane1.getSelectedIndex() == 5) {\n    method5();\n  }\n}\n</code></pre>\n<p>What is the problem there?</p>\n"},{"tags":["java","android","kotlin","android-jetpack-compose","android-splashscreen"],"answers":[{"comments":[{"owner":{"account_id":16908317,"reputation":767,"user_id":12228079,"display_name":"Kunal Kalwar"},"score":0,"creation_date":1655987967,"post_id":72730267,"comment_id":128465705,"body_markdown":"That resource is read only @daniil krant","body":"That resource is read only @daniil krant"}],"tags":[],"owner":{"account_id":9450769,"reputation":1,"user_id":7027739,"display_name":"daniil krant"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655987709,"creation_date":1655987709,"answer_id":72730267,"question_id":72730209,"body_markdown":"Try to rename the resource file.\r\nLooks like it interferes with some of Samsung&#39;s resource files and you have such runtime error.","title":"android.content.res.Resources$NotFoundException: Drawable compat_splash_screen_no_icon_background with resource ID #0x7f0801b6","body":"<p>Try to rename the resource file.\nLooks like it interferes with some of Samsung's resource files and you have such runtime error.</p>\n"},{"tags":[],"owner":{"account_id":2817598,"reputation":6001,"user_id":2422224,"display_name":"Ma3x"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1655991629,"creation_date":1655990985,"answer_id":72731030,"question_id":72730209,"body_markdown":"This is currently an issue. You will have to wait a bit for the fix to ship, then update the `core-splashscreen` dependency to the latest version.\r\n\r\nIt is tracked here https://issuetracker.google.com/issues/229645249\r\nSee if the call order they suggest there helps you mitigate the problem.","title":"android.content.res.Resources$NotFoundException: Drawable compat_splash_screen_no_icon_background with resource ID #0x7f0801b6","body":"<p>This is currently an issue. You will have to wait a bit for the fix to ship, then update the <code>core-splashscreen</code> dependency to the latest version.</p>\n<p>It is tracked here <a href=\"https://issuetracker.google.com/issues/229645249\" rel=\"nofollow noreferrer\">https://issuetracker.google.com/issues/229645249</a>\nSee if the call order they suggest there helps you mitigate the problem.</p>\n"},{"comments":[{"owner":{"account_id":16908317,"reputation":767,"user_id":12228079,"display_name":"Kunal Kalwar"},"score":0,"creation_date":1656060168,"post_id":72731349,"comment_id":128484227,"body_markdown":"Yes I did used a color value - &lt;item name=&quot;windowSplashScreenBackground&quot;&gt;@color/white&lt;/item&gt;","body":"Yes I did used a color value - &lt;item name=&quot;windowSplashScreenBackground&quot;&gt;@color/white&lt;/item&gt;"}],"tags":[],"owner":{"account_id":25600764,"reputation":89,"user_id":19375828,"display_name":"RahulK"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655992253,"creation_date":1655992253,"answer_id":72731349,"question_id":72730209,"body_markdown":"The background must be a color value, drawables are not supported (at least for now). You can review the example in docs (https://developer.android.com/guide/topics/ui/splash-screen)\r\n\r\nworking example:\r\n\r\n    &lt;item name=&quot;windowSplashScreenBackground&quot;&gt;@color/colorPrimary&lt;/item&gt;","title":"android.content.res.Resources$NotFoundException: Drawable compat_splash_screen_no_icon_background with resource ID #0x7f0801b6","body":"<p>The background must be a color value, drawables are not supported (at least for now). You can review the example in docs (<a href=\"https://developer.android.com/guide/topics/ui/splash-screen\" rel=\"nofollow noreferrer\">https://developer.android.com/guide/topics/ui/splash-screen</a>)</p>\n<p>working example:</p>\n<pre><code>&lt;item name=&quot;windowSplashScreenBackground&quot;&gt;@color/colorPrimary&lt;/item&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1362691,"reputation":8188,"user_id":1299750,"accept_rate":71,"display_name":"idunnololz"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679127549,"creation_date":1679127549,"answer_id":75774628,"question_id":72730209,"body_markdown":"This might be related to https://stackoverflow.com/questions/28983622/resourcesnotfoundexception-on-samsung\r\n\r\nYou can try disabling `isShrinkResources` on release builds.\r\n\r\nEg. In your project `build.gradle.kts` file\r\n```\r\n    buildTypes {\r\n        getByName(&quot;release&quot;) {\r\n            isShrinkResources = false\r\n        }\r\n    }\r\n\r\n```","title":"android.content.res.Resources$NotFoundException: Drawable compat_splash_screen_no_icon_background with resource ID #0x7f0801b6","body":"<p>This might be related to <a href=\"https://stackoverflow.com/questions/28983622/resourcesnotfoundexception-on-samsung\">Resources$NotFoundException on Samsung</a></p>\n<p>You can try disabling <code>isShrinkResources</code> on release builds.</p>\n<p>Eg. In your project <code>build.gradle.kts</code> file</p>\n<pre><code>    buildTypes {\n        getByName(&quot;release&quot;) {\n            isShrinkResources = false\n        }\n    }\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":106052,"reputation":7496,"user_id":444761,"accept_rate":41,"display_name":"Mark"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1688208463,"creation_date":1687878385,"answer_id":76566263,"question_id":72730209,"body_markdown":"I had a similar issue and noticed the bug was only happening on low display density devices (lower than hdpi, i.e. `tvdpi`, `mdpi` and `ldpi`). So I managed to reproduce the crash by setting up a `tvdpi` emulator, and I also confirmed there was no crash on an `hdpi` emulator.\r\n\r\nAs a fix, I copied the `drawable` (webp) file from `drawable-xxxhdpi` to `drawable-mdpi` and scaled it down by a factor of 4 (512px to 128px) because `xxxhdpi` is 4x`mdpi`. See [official docs][1].\r\n\r\nNote: If you want to also support `ldpi`, you need to add a drawable in `drawable-ldpi` because it won&#39;t read it from any other drawable folder. You can scale down from 512px to 96px, for example.\r\n\r\n  [1]: https://developer.android.com/training/multiscreen/screendensities","title":"android.content.res.Resources$NotFoundException: Drawable compat_splash_screen_no_icon_background with resource ID #0x7f0801b6","body":"<p>I had a similar issue and noticed the bug was only happening on low display density devices (lower than hdpi, i.e. <code>tvdpi</code>, <code>mdpi</code> and <code>ldpi</code>). So I managed to reproduce the crash by setting up a <code>tvdpi</code> emulator, and I also confirmed there was no crash on an <code>hdpi</code> emulator.</p>\n<p>As a fix, I copied the <code>drawable</code> (webp) file from <code>drawable-xxxhdpi</code> to <code>drawable-mdpi</code> and scaled it down by a factor of 4 (512px to 128px) because <code>xxxhdpi</code> is 4x<code>mdpi</code>. See <a href=\"https://developer.android.com/training/multiscreen/screendensities\" rel=\"nofollow noreferrer\">official docs</a>.</p>\n<p>Note: If you want to also support <code>ldpi</code>, you need to add a drawable in <code>drawable-ldpi</code> because it won't read it from any other drawable folder. You can scale down from 512px to 96px, for example.</p>\n"}],"owner":{"account_id":16908317,"reputation":767,"user_id":12228079,"display_name":"Kunal Kalwar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1714,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":5,"score":1,"last_activity_date":1688208463,"creation_date":1655987474,"question_id":72730209,"body_markdown":"I am getting this issue only for samsung galaxy devices- Galaxy Tab A, Galaxy A03 Core, Galaxy A02, Galaxy A32\r\n\r\nFatal Exception: java.lang.RuntimeException: Unable to start activity ComponentInfo{com.myapp.application/com.myapp.application.ui.MainActivity}: android.content.res.Resources$NotFoundException: Drawable com.app.application:drawable/compat_splash_screen_no_icon_background with resource ID #0x7f0801b6\r\n\r\n\r\nMy configuration-&gt;\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;resources xmlns:tools=&quot;http://schemas.android.com/tools&quot;&gt;\r\n        &lt;style name=&quot;Theme.App.Starting&quot; parent=&quot;Theme.SplashScreen&quot;&gt;\r\n            &lt;item name=&quot;windowSplashScreenBackground&quot;&gt;@color/white&lt;/item&gt;\r\n    \r\n            &lt;item name=&quot;windowSplashScreenAnimatedIcon&quot;&gt;@drawable/splash_icon&lt;/item&gt;\r\n    \r\n            &lt;item name=&quot;postSplashScreenTheme&quot;&gt;@style/Theme.Triva.NoActionBar&lt;/item&gt;\r\n            &lt;item name=&quot;windowSplashScreenIconBackgroundColor&quot;&gt;@color/blue&lt;/item&gt;\r\n            &lt;item name=&quot;windowSplashScreenAnimationDuration&quot;&gt;800&lt;/item&gt;\r\n    \r\n            &lt;item name=&quot;android:forceDarkAllowed&quot; tools:targetApi=&quot;q&quot;&gt;false&lt;/item&gt;\r\n        &lt;/style&gt;\r\n    &lt;/resources&gt;\r\n\r\nThis is the resource in read only file -&gt;\r\n\r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/1noxo.png\r\n  [2]: https://i.stack.imgur.com/3WX07.png","title":"android.content.res.Resources$NotFoundException: Drawable compat_splash_screen_no_icon_background with resource ID #0x7f0801b6","body":"<p>I am getting this issue only for samsung galaxy devices- Galaxy Tab A, Galaxy A03 Core, Galaxy A02, Galaxy A32</p>\n<p>Fatal Exception: java.lang.RuntimeException: Unable to start activity ComponentInfo{com.myapp.application/com.myapp.application.ui.MainActivity}: android.content.res.Resources$NotFoundException: Drawable com.app.application:drawable/compat_splash_screen_no_icon_background with resource ID #0x7f0801b6</p>\n<p>My configuration-&gt;</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;resources xmlns:tools=&quot;http://schemas.android.com/tools&quot;&gt;\n    &lt;style name=&quot;Theme.App.Starting&quot; parent=&quot;Theme.SplashScreen&quot;&gt;\n        &lt;item name=&quot;windowSplashScreenBackground&quot;&gt;@color/white&lt;/item&gt;\n\n        &lt;item name=&quot;windowSplashScreenAnimatedIcon&quot;&gt;@drawable/splash_icon&lt;/item&gt;\n\n        &lt;item name=&quot;postSplashScreenTheme&quot;&gt;@style/Theme.Triva.NoActionBar&lt;/item&gt;\n        &lt;item name=&quot;windowSplashScreenIconBackgroundColor&quot;&gt;@color/blue&lt;/item&gt;\n        &lt;item name=&quot;windowSplashScreenAnimationDuration&quot;&gt;800&lt;/item&gt;\n\n        &lt;item name=&quot;android:forceDarkAllowed&quot; tools:targetApi=&quot;q&quot;&gt;false&lt;/item&gt;\n    &lt;/style&gt;\n&lt;/resources&gt;\n</code></pre>\n<p>This is the resource in read only file -&gt;</p>\n<p><a href=\"https://i.stack.imgur.com/1noxo.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/1noxo.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/3WX07.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/3WX07.png\" alt=\"enter image description here\" /></a></p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":7830,"page":336,"page_size":100}
